const _0x39828b=(function(){let _0x50f722=!![];return function(_0x193ff6,_0x4dd030){const _0x44b3d8=_0x50f722?function(){if(_0x4dd030){const _0x21a5e2=_0x4dd030['apply'](_0x193ff6,arguments);return _0x4dd030=null,_0x21a5e2;}}:function(){};return _0x50f722=![],_0x44b3d8;};}()),_0x2a9f95=_0x39828b(this,function(){return _0x2a9f95['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x2a9f95)['search']('(((.+)+)+)'+'+$');});_0x2a9f95();const _0x426db3=(function(){let _0x293cf1=!![];return function(_0x2f21a2,_0x43dd94){const _0x144c9c=_0x293cf1?function(){if(_0x43dd94){const _0x1f23bd=_0x43dd94['apply'](_0x2f21a2,arguments);return _0x43dd94=null,_0x1f23bd;}}:function(){};return _0x293cf1=![],_0x144c9c;};}());(function(){_0x426db3(this,function(){const _0x8d569a=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x235eca=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x1c3fac=_0x34c82b('init');!_0x8d569a['test'](_0x1c3fac+'chain')||!_0x235eca['test'](_0x1c3fac+'input')?_0x1c3fac('0'):_0x34c82b();})();}());const _0x59e4e2=(function(){let _0x302067=!![];return function(_0x5ec17f,_0x572908){const _0x1950bb=_0x302067?function(){if(_0x572908){const _0x40b4af=_0x572908['apply'](_0x5ec17f,arguments);return _0x572908=null,_0x40b4af;}}:function(){};return _0x302067=![],_0x1950bb;};}()),_0xe524b7=_0x59e4e2(this,function(){const _0x4ddac4=function(){let _0x184269;try{_0x184269=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0x50d140){_0x184269=window;}return _0x184269;},_0x50b49e=_0x4ddac4(),_0x2e5cc5=_0x50b49e['console']=_0x50b49e['console']||{},_0xe071a8=['log','warn','info','error','exception','table','trace'];for(let _0x178524=-0xbdd+0x2607+-0x1a2a;_0x178524<_0xe071a8['length'];_0x178524++){const _0xd14cb1=_0x59e4e2['constructo'+'r']['prototype']['bind'](_0x59e4e2),_0x3d2307=_0xe071a8[_0x178524],_0x474235=_0x2e5cc5[_0x3d2307]||_0xd14cb1;_0xd14cb1['__proto__']=_0x59e4e2['bind'](_0x59e4e2),_0xd14cb1['toString']=_0x474235['toString']['bind'](_0x474235),_0x2e5cc5[_0x3d2307]=_0xd14cb1;}});_0xe524b7();var k0=Object['defineProp'+'erty'],U0=(_0x4685d9,_0x30b055,_0x1af820)=>_0x30b055 in _0x4685d9?k0(_0x4685d9,_0x30b055,{'enumerable':!(0xf29+-0x73a*-0x1+-0x1663),'configurable':!(-0x3*0xb91+-0x1bf0+0x3ea3),'writable':!(0x14c*-0x10+0x1c34+-0x774),'value':_0x1af820}):_0x4685d9[_0x30b055]=_0x1af820,h=(_0xe446bd,_0x569090,_0xff5dac)=>U0(_0xe446bd,typeof _0x569090!='symbol'?_0x569090+'':_0x569090,_0xff5dac),B0=(_0x465cfe=>(_0x465cfe['HIGH']='high',_0x465cfe['MEDIUM']='medium',_0x465cfe['LOW']='low',_0x465cfe['LOW_VR']='lowVR',_0x465cfe))(B0||{});const z0=()=>!HS()&&!WS()&&!GS()&&!V0(),GS=()=>{const _0x53b362=navigator['userAgent']['includes']('Macintosh'),_0x5d37a1=navigator['maxTouchPo'+'ints']===0x4ef*-0x3+0x133b*-0x1+-0x1*-0x220d,_0x574e56=/^((?!chrome|android).)*safari/i['test'](navigator['userAgent']);return _0x53b362&&_0x5d37a1&&_0x574e56;},HS=()=>navigator['userAgent']['includes']('Quest'),V0=()=>{const _0x1550e0=navigator['userAgent']['toLowerCas'+'e']();return _0x1550e0['includes']('pico')||_0x1550e0['includes']('picolrowse'+'r');},WS=()=>['iOS','Android']['includes'](G0()),FU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),NU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),G0=()=>{const _0xd54708=window['navigator']['userAgent']['toLowerCas'+'e'](),_0x2bae40=window['navigator']['platform']['toLowerCas'+'e']();return/iphone|ipad|ipod/['test'](_0xd54708)?'iOS':/android/['test'](_0xd54708)?'Android':/mac/['test'](_0x2bae40)?'macOS':/win/['test'](_0x2bae40)?'Windows':/linux/['test'](_0x2bae40)?'Linux':'Unknown';};class kU{constructor(){this['HIGH_FPS_T'+'HRESHOLD']=0x1a3c+0x22a9+-0x3cb8,this['MEDIUM_FPS'+'_THRESHOLD']=-0x51f+0x35*-0x1a+0xa9f,this['HIGH_MEMOR'+'Y_THRESHOL'+'D']=(-0xeb6+-0x14*-0x8+0xe1a)*(-0x5*0x2af+-0x1*0x1557+-0x1c3*-0x16)*(-0x7cb*-0x1+-0x1474+-0x5*-0x355)*(-0x1c1a+-0x109f+0x30b9),this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']=(0x1f15+-0x189+0xc7*-0x26)*(0x1*0xf23+-0x6c7*-0x2+0x387*-0x7)*(-0x2617+-0x5*0xfd+0x35c*0xe)*(0x1435*-0x1+0x65*-0x1a+0x2277),this['SCORE_THRE'+'SHOLDS']={'HIGH':0x46,'MEDIUM':0x32,'LOW':0x1e},this['VENDOR_WEI'+'GHTS']={'nvidia':0x1,'amd':0.9,'apple':0.8,'intel':0.6,'qualcomm':0.5,'arm':0.4},this['HIGH_END_P'+'ATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*[3-4]|titan\s*(?:rtx|xp|v))|quadro\s+(?:rtx|a[0-9]+)/i,/a[1-9][0-9]+/i],'amd':[/radeon\s+(?:rx\s*[6-9]|rx\s*7[0-9]+|pro\s*w[5-9])|instinct\s+mi[2-9]/i],'apple':[/m[1-3]\s+(?:pro|max|ultra)?/i]},this['MEDIUM_END'+'_PATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*2|gtx\s*1[6-9])|quadro\s+(?:p[2-9]|t[1-9])/i],'amd':[/radeon\s+(?:rx\s*[4-5]|vega\s*[5-9])|pro\s*w[2-4]/i],'apple':[/a[1-9][0-9]+\s+(?:x|z)?/i]},this['LOW_END_PA'+'TTERNS']={'intel':[/(?:hd|uhd|iris|xe)\s*graphics\s*(?:[6-9][0-9]+|[1-9][0-9]+g)/i],'qualcomm':[/adreno\s*[6-9][0-9]+/i],'arm':[/mali\s*-?(?:g[7-9][0-9]|t[8-9][0-9])/i]};}['getVendorS'+'core'](_0x3e9fb2){const _0x52f544=_0x3e9fb2['toLowerCas'+'e']();for(const [_0x597f59,_0x4595a9]of Object['entries'](this['VENDOR_WEI'+'GHTS']))if(_0x52f544['includes'](_0x597f59))return _0x4595a9*(0xf2b+0xc08+0x1acf*-0x1);return-0xd*-0x8+0xa94+-0x1*0xaca;}['getModelSc'+'ore'](_0x5b743d,_0xfd9a1e){const _0x88083e=_0x5b743d['toLowerCas'+'e'](),_0x162143=_0xfd9a1e['toLowerCas'+'e']();for(const [_0x1508ac,_0x465217]of Object['entries'](this['HIGH_END_P'+'ATTERNS']))if(_0x88083e['includes'](_0x1508ac)&&_0x465217['some'](_0x194b65=>_0x194b65['test'](_0x162143)))return 0x1d0e+-0x6*0x27+0xde5*-0x2;for(const [_0x51b25b,_0x476a7c]of Object['entries'](this['MEDIUM_END'+'_PATTERNS']))if(_0x88083e['includes'](_0x51b25b)&&_0x476a7c['some'](_0x25b8d7=>_0x25b8d7['test'](_0x162143)))return 0x2b0+0x8a*0x22+-0x14be;for(const [_0x2a0957,_0x30fc43]of Object['entries'](this['LOW_END_PA'+'TTERNS']))if(_0x88083e['includes'](_0x2a0957)&&_0x30fc43['some'](_0x3b6b4d=>_0x3b6b4d['test'](_0x162143)))return-0x1*0x4dc+0x1937+-0x1429;return-0xa28+0x41c*0x2+0x22c;}['getMemoryS'+'core'](_0xa08038){return _0xa08038?_0xa08038>=-0x43ed*0x1+-0x1*-0x5067+0x1*0x2266?0xcc*-0x1a+-0x224b+0x1*0x3767:_0xa08038>=0x1842+0x2b59+-0x245b?-0x77b+-0x11fa+-0x19cf*-0x1:_0xa08038>=-0x1*-0x134f+0x1*0x1f97+0xbe*-0x25?-0x888+-0x19a7+0x227f*0x1:_0xa08038>=0x92b*0x3+0x1faa+-0x2b8b?0x9*-0x38a+0x2345*0x1+-0x325:_0xa08038>=0x13fe+-0x13d*0x3+-0x877?-0x1aa2+0x1bcc+-0xee:0x11e8+0x2*-0x192+0x5*-0x2ea:0x1336+-0x1*0x180+-0x1184;}['getDriverS'+'core'](_0x2456fb){if(!_0x2456fb)return 0x179*0x2+0x1*-0x243e+0x217e;const _0x4c96f2=_0x2456fb['match'](/20[2-9][0-9]/);if(_0x4c96f2){const _0x5316ee=parseInt(_0x4c96f2[0x3c7*-0x2+-0x21aa+0x2938*0x1]);if(_0x5316ee>=-0x1*0x2275+-0x2e*-0x17+0x3*0xcbe)return-0x1*-0xba5+0x207f+-0x2bc0;if(_0x5316ee>=-0x58f*-0x7+-0x427*-0x9+-0x4462)return-0xe3c*0x2+0x216+0x1ab2;if(_0x5316ee>=0x43+0xe65+-0x3*0x241)return 0x13*-0xdd+0x3*-0x31a+0x19f1;}return-0x1f43+-0x5e2+-0x1*-0x2557;}['evaluateGP'+'U'](_0x440edd){const _0x525290=this['getVendorS'+'core'](_0x440edd['vendor']),_0x205c14=this['getModelSc'+'ore'](_0x440edd['vendor'],_0x440edd['renderer']),_0x222710=this['getMemoryS'+'core'](_0x440edd['memory']),_0x4a7aff=this['getDriverS'+'core'](_0x440edd['driverVers'+'ion']);return console['log']('GPU:',_0x440edd['vendor']),console['log']('GPU:',_0x440edd['renderer']),console['log']('GPU:',_0x440edd['driverVers'+'ion']),console['table'](_0x440edd),_0x525290*(0x227d+0x2654+-0x48d1+0.3)+_0x205c14*(0x1c5b*-0x1+0x1693+0x14*0x4a+0.4)+_0x222710*(-0xd33+-0x80*-0x1d+0x9*-0x25+0.2)+_0x4a7aff*(-0x2*0xfc2+-0x1497+-0x1*-0x341b+0.1);}['evaluateCP'+'U'](){const _0x121817=navigator['hardwareCo'+'ncurrency'];return _0x121817>=-0x1*0x11bc+-0x264e+0x3812?0x11f*0xb+-0x1*-0x4ef+-0x1141*0x1:_0x121817>=-0x731+-0x3cb*0x9+-0xd8*-0x31?0xb71*-0x1+-0x1075+-0x178*-0x13:0x1a70+0x2563+-0x3fd2;}['evaluateMe'+'mory'](_0x53c9fe){return typeof _0x53c9fe=='string'?0x1*0x1eb6+0x133*-0x17+0x10b*-0x3:_0x53c9fe['totalJSHea'+'pSize'];}['evaluatePe'+'rformance'](_0x2ba693){const _0x3617f8=WS(),_0x419003=GS(),_0x2c2938=HS();if(_0x419003)return'medium';if(_0x2c2938)return'lowVR';if(_0x3617f8)return'low';const _0x11f2dc=_0x2ba693['fps']>=this['HIGH_FPS_T'+'HRESHOLD']?-0x19ff+-0x1f*0x67+-0x267b*-0x1:_0x2ba693['fps']>=this['MEDIUM_FPS'+'_THRESHOLD']?0x2de+0x6f*0x3e+-0x4f5*0x6:-0x607*-0x3+0x1267+-0x247b;let _0x1e157c=0x3*0x7d4+-0xbb4+0xf*-0xc9;typeof _0x2ba693['gpuInfo']!='string'&&(_0x1e157c=this['evaluateGP'+'U'](_0x2ba693['gpuInfo']));const _0x10cf41=this['evaluateCP'+'U'](),_0x557522=this['evaluateMe'+'mory'](_0x2ba693['memoryInfo'])>=this['HIGH_MEMOR'+'Y_THRESHOL'+'D']?-0x1*-0x763+-0x153*-0xd+0x4eb*-0x5:this['evaluateMe'+'mory'](_0x2ba693['memoryInfo'])>=this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']?-0xf1c*0x1+-0x2*-0x7c+0xe26*0x1:0x1801+0x2*0x159+-0x66*0x43,_0x193264=_0x11f2dc+_0x1e157c+_0x10cf41+_0x557522;return console['log']('GPU:',_0x11f2dc,_0x1e157c,_0x10cf41,_0x557522),_0x193264>=this['SCORE_THRE'+'SHOLDS']['HIGH']?'high':_0x193264>=this['SCORE_THRE'+'SHOLDS']['MEDIUM']?'medium':'low';}['getModelQu'+'alitySetti'+'ngs'](_0x46c1f0){return{'high':{'textureQuality':'high'},'medium':{'textureQuality':'medium'},'low':{'textureQuality':'low'},'lowVR':{'textureQuality':'lowVR'}}[_0x46c1f0];}}const H0=()=>{globalThis['requestIdl'+'eCallback']=globalThis['requestIdl'+'eCallback']||function(_0x522963){var _0x3257f8=Date['now']();return setTimeout(function(){_0x522963({'didTimeout':!(-0x1c6a+0x175*-0x13+0x2b*0x14e),'timeRemaining':function(){return Math['max'](-0x1*0x1f79+-0x1c00+0x19*0x261,0x23f8+-0x217*0x7+-0x1525-(Date['now']()-_0x3257f8));}});},-0x1*0x817+0x1931+-0x1119);},globalThis['cancelIdle'+'Callback']=globalThis['cancelIdle'+'Callback']||function(_0x182519){clearTimeout(_0x182519);};},W0='RenderFram'+'e',Ld='RenderFram'+'eTime',Pm='RenderPass',cn='RenderPass'+'Detail',Vl='RenderActi'+'on',Mm='RenderTarg'+'etAlloc',Dm='TextureAll'+'oc',Im='ShaderAllo'+'c',$0='ShaderComp'+'ile',X0='VRAM.Textu'+'re',q0='VRAM.Vb',j0='VRAM.Ib',Y0='BindGroupA'+'lloc',K0='BindGroupF'+'ormatAlloc',Vs='Element',Z0='Textures',Gl='GpuTimings',hn='$_CURRENT_'+'SDK_VERSIO'+'N',$S='$_CURRENT_'+'SDK_REVISI'+'ON';function ah(_0x587150,_0x5ed777){for(const _0x42c42a in _0x5ed777){const _0x3f61bf=_0x5ed777[_0x42c42a];Array['isArray'](_0x3f61bf)?_0x587150[_0x42c42a]=ah([],_0x3f61bf):_0x3f61bf&&typeof _0x3f61bf=='object'?_0x587150[_0x42c42a]=ah({},_0x3f61bf):_0x587150[_0x42c42a]=_0x3f61bf;}return _0x587150;}const Q0={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x5bb15b=>{const _0x1bb47f=Math['random']()*(0x5*0xbf+-0x24a4+-0x17*-0x16f)|0x1aae+-0x1c95+0x1e7;return(_0x5bb15b==='x'?_0x1bb47f:_0x1bb47f&-0x1*-0x944+-0x1fa2+0x1661|0x1*0x12a1+0x23ee*0x1+-0x3687)['toString'](0x848+0x3f1*0x3+0x2dd*-0x7);});}},xe={'delimiter':'/','join'(..._0xe10072){let _0x6f54ca=_0xe10072[0x11ea+-0x191c+0x732];for(let _0x1977d0=-0x1*-0x94f+-0x1b3f+0x70*0x29;_0x1977d0<_0xe10072['length']-(0x1485+0x1471*0x1+-0x28f5*0x1);_0x1977d0++){const _0x125944=_0xe10072[_0x1977d0],_0x49db1b=_0xe10072[_0x1977d0+(0x80e+0xc1*0x13+-0x1660)];if(_0x49db1b[0x29*0x1+0x22a*-0x2+0x42b]===xe['delimiter']){_0x6f54ca=_0x49db1b;continue;}_0x125944&&_0x49db1b&&_0x125944[_0x125944['length']-(0x13f6+0x9ea+0x1*-0x1ddf)]!==xe['delimiter']&&_0x49db1b[0x9fe*0x2+0x22cf+-0x36cb]!==xe['delimiter']?_0x6f54ca+=xe['delimiter']+_0x49db1b:_0x6f54ca+=_0x49db1b;}return _0x6f54ca;},'normalize'(_0x15afdd){const _0x4823c6=_0x15afdd['startsWith'](xe['delimiter']),_0x95c58e=_0x15afdd['endsWith'](xe['delimiter']),_0x4d9e06=_0x15afdd['split']('/');let _0xcd93d6='',_0x3cef9b=[];for(let _0x3ec062=-0x2a5+0x2340+0x11*-0x1eb;_0x3ec062<_0x4d9e06['length'];_0x3ec062++)if(_0x4d9e06[_0x3ec062]!==''&&_0x4d9e06[_0x3ec062]!=='.'){if(_0x4d9e06[_0x3ec062]==='..'&&_0x3cef9b['length']>0x1d7c+-0xab*0x19+-0xcc9*0x1){_0x3cef9b=_0x3cef9b['slice'](0x139*-0x11+0x7fa*0x2+0x4d5,_0x3cef9b['length']-(-0xd2c+0x96d*0x1+-0x1*-0x3c1));continue;}_0x3ec062>0x6b*-0x4c+-0x1947+0x35b*0x11&&_0x3cef9b['push'](xe['delimiter']),_0x3cef9b['push'](_0x4d9e06[_0x3ec062]);}return _0xcd93d6=_0x3cef9b['join'](''),!_0x4823c6&&_0xcd93d6[0x2b4*-0x1+-0x1*-0xa93+0x9b*-0xd]===xe['delimiter']&&(_0xcd93d6=_0xcd93d6['slice'](0x1b67+-0x31*0x5e+-0x968)),_0x95c58e&&_0xcd93d6[_0xcd93d6['length']-(-0x2585+-0x1*-0xf07+-0x1*-0x167f)]!==xe['delimiter']&&(_0xcd93d6+=xe['delimiter']),_0xcd93d6;},'split'(_0x148837){const _0xa02c1=_0x148837['lastIndexO'+'f'](xe['delimiter']);return _0xa02c1!==-(0x1*0x1384+0x82*-0x2a+0x1d1)?[_0x148837['substring'](0x132d+0x154d+-0x287a,_0xa02c1),_0x148837['substring'](_0xa02c1+(0x1*-0x183a+-0x53*-0x20+0xddb))]:['',_0x148837];},'getBasename'(_0xf80c1f){return xe['split'](_0xf80c1f)[0x54c+-0x2560+0x2015];},'getDirectory'(_0x5c241e){return xe['split'](_0x5c241e)[-0x19d7+-0x2*-0x3dc+0x121f*0x1];},'getExtension'(_0x168390){const _0x34f7d2=_0x168390['split']('?')[-0x221b+-0x209e*0x1+0x42b9]['split']('.')['pop']();return _0x34f7d2!==_0x168390?'.'+_0x34f7d2:'';},'isRelativePath'(_0x38de8c){return _0x38de8c['charAt'](-0x25a9+-0x1f+0x6*0x64c)!=='/'&&_0x38de8c['match'](/:\/\//)===null;},'extractPath'(_0x5efe98){let _0x247a17='';const _0x460655=_0x5efe98['split']('/');let _0x1a890b=-0x309+-0x2*-0xc88+0x1607*-0x1;if(_0x460655['length']>0x230b+-0xca7*0x3+-0x1*-0x2eb){if(xe['isRelative'+'Path'](_0x5efe98)){if(_0x460655[-0x1e34*-0x1+0x135a+-0x1*0x318e]==='.'){for(_0x1a890b=-0x20ce+0x5fb*0x1+0x1ad3;_0x1a890b<_0x460655['length']-(-0x1409*-0x1+-0x1*0x2582+-0x8bd*-0x2);++_0x1a890b)_0x247a17+=_0x1a890b===-0x1a9d+0x1372+0x72b*0x1?_0x460655[_0x1a890b]:'/'+_0x460655[_0x1a890b];}else{if(_0x460655[0x14b2+-0x12a2+-0x210]==='..'){for(_0x1a890b=-0x1*0x5e3+-0x12ad*0x1+0x1890;_0x1a890b<_0x460655['length']-(-0x4c0*-0x8+0x3*0x7ce+-0x3d69);++_0x1a890b)_0x247a17+=_0x1a890b===0xa*-0x370+-0x19*0xd5+0x71*0x7d?_0x460655[_0x1a890b]:'/'+_0x460655[_0x1a890b];}else{for(_0x247a17='.',_0x1a890b=-0x1ff4+0x54*0x17+-0x1*-0x1868;_0x1a890b<_0x460655['length']-(0x773*-0x1+0x15*-0x176+0x2622);++_0x1a890b)_0x247a17+='/'+_0x460655[_0x1a890b];}}}else{for(_0x1a890b=0x389*0x1+0xdc5*-0x1+0x106*0xa;_0x1a890b<_0x460655['length']-(-0x1e73*-0x1+-0x1351+-0xb21);++_0x1a890b)_0x247a17+=_0x1a890b===0x19ff+-0x15*0x53+-0x1330?_0x460655[_0x1a890b]:'/'+_0x460655[_0x1a890b];}}return _0x247a17;}},J0=()=>{let _0x29046c=!(-0x483+0x2*0x11ea+-0x1f50*0x1);try{const _0x3bf05a=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x29046c=!(0x21*0xea+-0x1*0x30b+-0x83*0x35),!(-0x83b*-0x4+-0x359+-0x1d92);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x3bf05a),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x3bf05a);}catch{}return _0x29046c;},Bi=typeof navigator<'u'?navigator['userAgent']:'',nh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Lm=/android/i['test'](Bi)?'android':/ip(?:[ao]d|hone)/i['test'](Bi)?'ios':/windows/i['test'](Bi)?'windows':/mac os/i['test'](Bi)?'osx':/linux/i['test'](Bi)?'linux':/cros/i['test'](Bi)?'cros':null,ex=nh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](Bi)?'chrome':/Safari\//['test'](Bi)?'safari':/Firefox\//['test'](Bi)?'firefox':'other',tx=nh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>0x2e3*-0xb+0xf31+0x350*0x5),sx=J0(),Ae={'name':Lm,'browser':nh==='browser','worker':nh==='worker','android':Lm==='android','touch':tx,'passiveEvents':sx,'browserName':ex},XS='abcdefghij'+'klmnopqrst'+'uvwxyz',qS='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',ix=XS+qS,Bf=0xd8a9+0x3e2c+0x3ed5*-0x1,jS=-0x64a+0x1f5a*-0x7+0x1bdbf,Rm=-0x7653+-0xdcb4+-0x22f07*-0x1,rx=-0x73e1+-0x9abe+0x1ee9e,ax=0x33e6*-0x1+0x218*0x12+0x2e43,Om=-0x17dac+-0xbc3b+0x42bcd,Fm=0x1*0xcbfb+-0x18cbd+0x2b2c1,nx=0x37140+0x17f*0x1+0x44*-0x5a1,ox=-0x18d*0xb5+0x2432c+0x1*0xc984,lx=0xad7+0x8*0x29b+-0x121*-0x1,cx=0x1823+0x6c0+0xf*0x24,zf=-0x1*-0x1caf5+0x3*-0x6859+-0x2*-0x360b,Vf=-0x14716*0x1+0x19967*-0x1+0x3de8c;function Gf(_0x5dcaaa,_0x28a409=0x214f*0x1+0x1e2c+-0x3f7b){const _0x5a8812=_0x5dcaaa['length'];if(_0x28a409<0x1122+0x9*-0xef+-0x8bb||_0x28a409>=_0x5a8812)return null;const _0xaa781f=_0x5dcaaa['charCodeAt'](_0x28a409);if(_0x5a8812>0x20b1*-0x1+0x921+0x1791&&_0xaa781f>=Bf&&_0xaa781f<=jS){const _0x13d432=_0x5dcaaa['charCodeAt'](_0x28a409+(-0x1a56+0x1553+-0xc*-0x6b));if(_0x13d432>=Rm&&_0x13d432<=rx)return{'code':(_0xaa781f-Bf)*(0x1fa+0x2588+-0xf*0x25e)+_0x13d432-Rm+(0x178fb+0x1c5db+-0x23ed6),'long':!(-0x1c68+-0x1c1b+-0x11*-0x353)};}return{'code':_0xaa781f,'long':!(-0x17b8+0x12b*-0xd+-0x298*-0xf)};}function fr(_0x37402c,_0x128a09,_0x57b00c){if(!_0x37402c)return!(0x518+-0xe60+0x949);const _0x78d48a=Gf(_0x37402c);if(_0x78d48a){const _0x467d7d=_0x78d48a['code'];return _0x467d7d>=_0x128a09&&_0x467d7d<=_0x57b00c;}return!(-0x2*-0x272+-0x1*0x319+-0xe5*0x2);}function hx(_0x19e3f2,_0x489bdd){if(_0x489bdd===_0x19e3f2['length']-(-0xf67*-0x2+-0x8a8+-0x1625))return-0x23b6+0x1*-0x595+-0xa53*-0x4;if(fr(_0x19e3f2[_0x489bdd],Bf,jS)){const _0x2a602a=_0x19e3f2['substring'](_0x489bdd,_0x489bdd+(-0x59*-0x1d+-0x8f3+-0x6*0x30)),_0x4c64a0=_0x19e3f2['substring'](_0x489bdd+(-0x22e5+0x6b6+-0x7*-0x407),_0x489bdd+(-0xa9b*-0x1+0x26fa+-0x1*0x3191));return fr(_0x4c64a0,nx,ox)||fr(_0x2a602a,Om,Fm)&&fr(_0x4c64a0,Om,Fm)?-0x15*0x18d+0xd1*-0x1c+0x3771:fr(_0x4c64a0,zf,Vf)?0x7a9*-0x5+0x3*-0x337+-0x2ff5*-0x1:0x1978+0x5*0xb9+-0x1d13;}return fr(_0x19e3f2[_0x489bdd+(0x205c+0x52*-0x61+-0x2f*0x7)],zf,Vf)?-0x4*-0xc1+0x1cd+-0x4cf:-0x67e*0x1+-0xd5f+0x13de;}const Hc={'ASCII_LOWERCASE':XS,'ASCII_UPPERCASE':qS,'ASCII_LETTERS':ix,'format'(_0x37b7f9,..._0x536237){for(let _0x2109ed=-0x21ee+-0x4*-0x5b3+0xb22;_0x2109ed<_0x536237['length'];_0x2109ed++)_0x37b7f9=_0x37b7f9['replace']('{'+_0x2109ed+'}',_0x536237[_0x2109ed]);return _0x37b7f9;},'getCodePoint'(_0x164f36,_0x2dfaf5){const _0xf210e8=Gf(_0x164f36,_0x2dfaf5);return _0xf210e8&&_0xf210e8['code'];},'getCodePoints'(_0x48cce2){if(typeof _0x48cce2!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x19611e=-0x20e0+0x1a70+0x670;const _0x1d5b91=[];let _0xabc1b7;for(;_0xabc1b7=Gf(_0x48cce2,_0x19611e);)_0x1d5b91['push'](_0xabc1b7['code']),_0x19611e+=_0xabc1b7['long']?-0x5*-0x38f+-0x1aaf+0x8e6:0xa1b+-0x16c0+0xca6;return _0x1d5b91;},'getSymbols'(_0x3c26bf){if(typeof _0x3c26bf!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x122ea2=-0x3bb*-0x5+0x144a*-0x1+0x1a3;const _0xdad20f=_0x3c26bf['length'],_0x52eeb5=[];let _0x4f7b80=-0x2*-0x10d2+0x65*-0x17+-0x1891,_0x3cde97;for(;_0x122ea2<_0xdad20f;){if(_0x4f7b80+=hx(_0x3c26bf,_0x122ea2+_0x4f7b80),_0x3cde97=_0x3c26bf[_0x122ea2+_0x4f7b80],fr(_0x3cde97,lx,cx)&&(_0x3cde97=_0x3c26bf[_0x122ea2+_0x4f7b80++]),fr(_0x3cde97,zf,Vf)&&(_0x3cde97=_0x3c26bf[_0x122ea2+_0x4f7b80++]),_0x3cde97&&_0x3cde97['charCodeAt'](-0x10*-0x1d7+-0x20*0x35+0x4*-0x5b4)===ax){_0x3cde97=_0x3c26bf[_0x122ea2+_0x4f7b80++];continue;}const _0x20bb06=_0x3c26bf['substring'](_0x122ea2,_0x122ea2+_0x4f7b80);_0x52eeb5['push'](_0x20bb06),_0x122ea2+=_0x4f7b80,_0x4f7b80=-0x7*-0x115+-0x1fbf*0x1+-0xee*-0x1a;}return _0x52eeb5;},'fromCodePoint'(..._0x5d4257){return _0x5d4257['map'](_0x2ec684=>_0x2ec684>0x3*0x197e+0x39*0x3a+-0x3*-0x3789?(_0x2ec684-=0x86b*-0x13+0x1e2f8*0x1+-0x4307,String['fromCharCo'+'de']((_0x2ec684>>0x1*-0x1c7b+0x1*0xbe9+0x109c)+(0xbe70+0xe58a+0x36*-0x3c7),_0x2ec684%(0x2122+0x2*-0x6fc+0x6*-0x287)+(0x176ca+-0x3*0x77e9+0xccf1))):String['fromCharCo'+'de'](_0x2ec684))['join']('');}},Zr=class Zr{static['set'](_0x343567,_0x18086b=!(0xc47+0x1134+-0x1d7b*0x1)){_0x18086b?Zr['_traceChan'+'nels']['add'](_0x343567):Zr['_traceChan'+'nels']['delete'](_0x343567);}static['get'](_0x452b39){return Zr['_traceChan'+'nels']['has'](_0x452b39);}};h(Zr,'_traceChan'+'nels',new Set()),h(Zr,'stack',!(0x817*-0x2+-0xd*0x32+0x12b9));let mi=Zr;const Vt=class Vt{static['deprecated'](_0x3df5d9){Vt['_loggedMes'+'sages']['has'](_0x3df5d9)||(Vt['_loggedMes'+'sages']['add'](_0x3df5d9),console['warn']('DEPRECATED'+':\x20'+_0x3df5d9));}static['removed'](_0x163479){Vt['_loggedMes'+'sages']['has'](_0x163479)||(Vt['_loggedMes'+'sages']['add'](_0x163479),console['error']('REMOVED:\x20'+_0x163479));}static['assertDepr'+'ecated'](_0x56949e,_0x342595){_0x56949e||Vt['deprecated'](_0x342595);}static['assert'](_0x17eb8e,..._0x4a10b7){_0x17eb8e||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x4a10b7);}static['assertDest'+'royed'](_0x461eee){var _0x4ff335;if(_0x461eee!=null&&_0x461eee['__alreadyD'+'estroyed']){const _0x38d164='['+((_0x4ff335=_0x461eee['constructo'+'r'])==null?void(0x2141*0x1+0x7e*-0x1c+-0x1379):_0x4ff335['name'])+(']\x20with\x20nam'+'e\x20[')+_0x461eee['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');Vt['_loggedMes'+'sages']['has'](_0x38d164)||(Vt['_loggedMes'+'sages']['add'](_0x38d164),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x38d164,_0x461eee));}}static['call'](_0x9c4ed3){_0x9c4ed3();}static['log'](..._0x12880c){console['log'](..._0x12880c);}static['logOnce'](_0x599d2f,..._0x3ae6a2){Vt['_loggedMes'+'sages']['has'](_0x599d2f)||(Vt['_loggedMes'+'sages']['add'](_0x599d2f),console['log'](_0x599d2f,..._0x3ae6a2));}static['warn'](..._0x3f8fb9){console['warn'](..._0x3f8fb9);}static['warnOnce'](_0x1b9639,..._0x5e6ffe){Vt['_loggedMes'+'sages']['has'](_0x1b9639)||(Vt['_loggedMes'+'sages']['add'](_0x1b9639),console['warn'](_0x1b9639,..._0x5e6ffe));}static['error'](..._0x4d9987){console['error'](..._0x4d9987);}static['errorOnce'](_0x2d37fe,..._0x27d5b7){Vt['_loggedMes'+'sages']['has'](_0x2d37fe)||(Vt['_loggedMes'+'sages']['add'](_0x2d37fe),console['error'](_0x2d37fe,..._0x27d5b7));}static['trace'](_0x49286f,..._0x2e7d2b){mi['get'](_0x49286f)&&(console['groupColla'+'psed'](_0x49286f['padEnd'](0x3d*0x8b+-0x3bb*-0x5+-0x33b2,'\x20')+'|',..._0x2e7d2b),console['groupEnd']());}};h(Vt,'_loggedMes'+'sages',new Set());let w=Vt;class Ea{static['setName'](_0x36cc11,_0x546567){_0x36cc11&&(_0x36cc11['name']=_0x546567);}static['setLabel'](_0x3d6cc2,_0x3ae5f4){_0x3d6cc2&&(_0x3d6cc2['label']=_0x3ae5f4);}static['setDestroy'+'ed'](_0x5ea814){_0x5ea814&&(_0x5ea814['__alreadyD'+'estroyed']=!(0x22c7*0x1+-0x863*-0x1+-0x2b2a));}}class dx{constructor(_0x1c3d48,_0x234ccf,_0x16b6d2,_0x49e810,_0x5becc7=!(-0x14ac+-0x3*-0x755+-0x2*0xa9)){h(this,'handler'),h(this,'name'),h(this,'callback'),h(this,'scope'),h(this,'_once'),h(this,'_removed',!(0x835*0x1+-0x25*-0x7b+-0x19fb)),(this['handler']=_0x1c3d48,this['name']=_0x234ccf,this['callback']=_0x16b6d2,this['scope']=_0x49e810,this['_once']=_0x5becc7);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x58c42f,_0x571945,_0x2af136=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x58c42f,_0x571945,_0x2af136,!(0x56d*0x7+-0x1*0xa4c+-0x1bae*0x1));}['once'](_0x1e47e3,_0x3595f9,_0xedf9e7=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x1e47e3,_0x3595f9,_0xedf9e7,!(0x26ea+0x17ea+-0x3ed4));}set['removed'](_0x5691c1){_0x5691c1&&(this['_removed']=!(0x1d38+0x118a+0x18f*-0x1e));}get['removed'](){return this['_removed'];}['toJSON'](_0x22b4ec){}}class me{constructor(){h(this,'_callbacks',new Map()),h(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x5cf25b,_0x448a64,_0x2078e7,_0x1a9f45){if((!_0x5cf25b||typeof _0x5cf25b!='string'||!_0x448a64)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x5cf25b+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x448a64),this['_callbacks']['has'](_0x5cf25b)||this['_callbacks']['set'](_0x5cf25b,[]),this['_callbackA'+'ctive']['has'](_0x5cf25b)){const _0x1f670f=this['_callbackA'+'ctive']['get'](_0x5cf25b);_0x1f670f&&_0x1f670f===this['_callbacks']['get'](_0x5cf25b)&&this['_callbackA'+'ctive']['set'](_0x5cf25b,_0x1f670f['slice']());}const _0xc196a1=new dx(this,_0x5cf25b,_0x448a64,_0x2078e7,_0x1a9f45);return this['_callbacks']['get'](_0x5cf25b)['push'](_0xc196a1),_0xc196a1;}['on'](_0x2d61f5,_0x3f7e1a,_0x59fc04=this){return this['_addCallba'+'ck'](_0x2d61f5,_0x3f7e1a,_0x59fc04,!(0xd4e+0x874+-0x15c1));}['once'](_0x4ebafb,_0x3da4e7,_0x3dc84c=this){return this['_addCallba'+'ck'](_0x4ebafb,_0x3da4e7,_0x3dc84c,!(-0x17bb+0xba4+0xc17));}['off'](_0x5bf2a7,_0x4dcd48,_0x70e46){if(_0x5bf2a7)this['_callbackA'+'ctive']['has'](_0x5bf2a7)&&this['_callbackA'+'ctive']['get'](_0x5bf2a7)===this['_callbacks']['get'](_0x5bf2a7)&&this['_callbackA'+'ctive']['set'](_0x5bf2a7,this['_callbackA'+'ctive']['get'](_0x5bf2a7)['slice']());else{for(const [_0x81254a,_0x38dd12]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x81254a)&&this['_callbacks']['get'](_0x81254a)===_0x38dd12&&this['_callbackA'+'ctive']['set'](_0x81254a,_0x38dd12['slice']());}if(_0x5bf2a7){if(_0x4dcd48){const _0x620e7b=this['_callbacks']['get'](_0x5bf2a7);if(!_0x620e7b)return this;for(let _0x461d38=-0xb1d+-0x18ab+0x23c8;_0x461d38<_0x620e7b['length'];_0x461d38++)_0x620e7b[_0x461d38]['callback']===_0x4dcd48&&(_0x70e46&&_0x620e7b[_0x461d38]['scope']!==_0x70e46||(_0x620e7b[_0x461d38]['removed']=!(0x3*0x5f9+0x13*0x167+-0x2c90),_0x620e7b['splice'](_0x461d38,0x851*-0x2+0xdff*-0x1+-0xf51*-0x2),_0x461d38--));_0x620e7b['length']===-0x10a4+-0x4c5+-0xbd*-0x1d&&this['_callbacks']['delete'](_0x5bf2a7);}else{const _0xdd9f76=this['_callbacks']['get'](_0x5bf2a7);if(_0xdd9f76){for(let _0x3dd71d=0x283+-0x57a+0x2f7*0x1;_0x3dd71d<_0xdd9f76['length'];_0x3dd71d++)_0xdd9f76[_0x3dd71d]['removed']=!(0x2660+0x22d5+0x1*-0x4935);this['_callbacks']['delete'](_0x5bf2a7);}}}else{for(const _0x3c25b7 of this['_callbacks']['values']())for(let _0x1c3a68=-0x1f+0x792*0x5+-0x2e7*0xd;_0x1c3a68<_0x3c25b7['length'];_0x1c3a68++)_0x3c25b7[_0x1c3a68]['removed']=!(-0x200f+0x280+0x1d8f);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x3517ed){const _0x1ea9ce=_0x3517ed['name'];_0x3517ed['removed']=!(-0x1d7d+-0x682+0x23ff),this['_callbackA'+'ctive']['has'](_0x1ea9ce)&&this['_callbackA'+'ctive']['get'](_0x1ea9ce)===this['_callbacks']['get'](_0x1ea9ce)&&this['_callbackA'+'ctive']['set'](_0x1ea9ce,this['_callbackA'+'ctive']['get'](_0x1ea9ce)['slice']());const _0x49cea5=this['_callbacks']['get'](_0x1ea9ce);if(!_0x49cea5)return this;const _0x5f0e8c=_0x49cea5['indexOf'](_0x3517ed);return _0x5f0e8c!==-(-0x1f14+0xc9a*-0x1+0x2baf)&&(_0x49cea5['splice'](_0x5f0e8c,0x25c5+0x13f7+0x39bb*-0x1),_0x49cea5['length']===-0x6c*0xc+-0x1384*0x1+0x1894&&this['_callbacks']['delete'](_0x1ea9ce)),this;}['fire'](_0x2ec2ca,_0x46571f,_0x2ff3c9,_0x3ba835,_0x37de8f,_0x49668f,_0x290ad9,_0xbc665c,_0x4af1c3){if(!_0x2ec2ca)return this;const _0x2bc876=this['_callbacks']['get'](_0x2ec2ca);if(!_0x2bc876)return this;let _0x2a378b;this['_callbackA'+'ctive']['has'](_0x2ec2ca)?this['_callbackA'+'ctive']['get'](_0x2ec2ca)!==_0x2bc876&&(_0x2a378b=_0x2bc876['slice']()):this['_callbackA'+'ctive']['set'](_0x2ec2ca,_0x2bc876);for(let _0x33e794=0x4*0x5f8+-0x14db+0x305*-0x1;(_0x2a378b||this['_callbackA'+'ctive']['get'](_0x2ec2ca))&&_0x33e794<(_0x2a378b||this['_callbackA'+'ctive']['get'](_0x2ec2ca))['length'];_0x33e794++){const _0x5caa13=(_0x2a378b||this['_callbackA'+'ctive']['get'](_0x2ec2ca))[_0x33e794];if(_0x5caa13['callback']&&(_0x5caa13['callback']['call'](_0x5caa13['scope'],_0x46571f,_0x2ff3c9,_0x3ba835,_0x37de8f,_0x49668f,_0x290ad9,_0xbc665c,_0x4af1c3),_0x5caa13['_once'])){const _0x24a3a2=this['_callbacks']['get'](_0x2ec2ca),_0x29b282=_0x24a3a2?_0x24a3a2['indexOf'](_0x5caa13):-(0x36f*0x9+-0x2*-0xe47+-0x4*0xedd);if(_0x29b282!==-(0x4*-0x39+0x19a3*0x1+-0x18be)){this['_callbackA'+'ctive']['get'](_0x2ec2ca)===_0x24a3a2&&this['_callbackA'+'ctive']['set'](_0x2ec2ca,this['_callbackA'+'ctive']['get'](_0x2ec2ca)['slice']());const _0x75c18b=this['_callbacks']['get'](_0x2ec2ca);if(!_0x75c18b)continue;_0x75c18b[_0x29b282]['removed']=!(-0x1688+0x1b8e+0x1*-0x506),_0x75c18b['splice'](_0x29b282,0x2*0x7eb+-0xfb3*-0x1+-0x1f88),_0x75c18b['length']===0x795+0x1*0x849+-0xfde&&this['_callbacks']['delete'](_0x2ec2ca);}}}return _0x2a378b||this['_callbackA'+'ctive']['delete'](_0x2ec2ca),this;}['hasEvent'](_0x329b98){var _0x34d330;return!!((_0x34d330=this['_callbacks']['get'](_0x329b98))!=null&&_0x34d330['length']);}}class fx{constructor(){h(this,'_list',[]),h(this,'_index',{});}['push'](_0x31e6cb,_0x506119){if(this['_index'][_0x31e6cb])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x31e6cb);const _0x19fabd=this['_list']['push'](_0x506119)-(-0x7d*-0x9+0x132d*-0x1+0xec9*0x1);this['_index'][_0x31e6cb]=_0x19fabd;}['has'](_0x33fba0){return this['_index'][_0x33fba0]!==void(-0x2146*-0x1+0x12ca+-0x188*0x22);}['get'](_0xa1f895){const _0x349f86=this['_index'][_0xa1f895];return _0x349f86!==void(0x3*0x295+0x1b38+-0x22f7)?this['_list'][_0x349f86]:null;}['remove'](_0x20c885){const _0x415099=this['_index'][_0x20c885];if(_0x415099!==void(-0x92c+0x6e6*0x4+-0x126c)){this['_list']['splice'](_0x415099,-0x367*-0x6+-0xa97+-0x9d2),delete this['_index'][_0x20c885];for(_0x20c885 in this['_index']){const _0x45949b=this['_index'][_0x20c885];_0x45949b>_0x415099&&(this['_index'][_0x20c885]=_0x45949b-(0x6d5+0x1fda+-0x26ae));}return!(0x8ec*0x2+-0x1012+0x2*-0xe3);}return!(-0x3*-0x8b7+0x2262+-0x3c86);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=0x16e0+-0x251b+0x1*0xe3b;for(const _0xe2d357 in this['_index'])delete this['_index'][_0xe2d357];}}const ux=_0x2e662e=>{const _0x8c0e6d={};let _0x519719=_0x8c0e6d;return()=>(_0x519719===_0x8c0e6d&&(_0x519719=_0x2e662e()),_0x519719);},ii=class ii{static['loadScript'](_0x4a0aa4,_0x245081){const _0x5329cf=document['createElem'+'ent']('script');_0x5329cf['setAttribu'+'te']('src',_0x4a0aa4),_0x5329cf['onload']=()=>{_0x245081(null);},_0x5329cf['onerror']=()=>{_0x245081('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x4a0aa4+'\x27');},document['body']['appendChil'+'d'](_0x5329cf);}static['loadWasm'](_0x2f3c42,_0x3378fa,_0x32228f){const _0x1d697f=ii['wasmSuppor'+'ted']()&&_0x3378fa['glueUrl']&&_0x3378fa['wasmUrl']?_0x3378fa['glueUrl']:_0x3378fa['fallbackUr'+'l'];_0x1d697f?ii['loadScript'](_0x1d697f,_0x41f8bd=>{if(_0x41f8bd)_0x32228f(_0x41f8bd,null);else{const _0x26590a=window[_0x2f3c42];window[_0x2f3c42]=void(0x2017+0x17b*0xe+0x119b*-0x3),_0x26590a({'locateFile':()=>_0x3378fa['wasmUrl'],'onAbort':()=>{_0x32228f('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x33582b=>{_0x32228f(null,_0x33582b);});}}):_0x32228f('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x3d440d){return ii['modules']['hasOwnProp'+'erty'](_0x3d440d)||(ii['modules'][_0x3d440d]={'config':null,'initializing':!(-0xcff+0x1123+-0x423),'instance':null,'callbacks':[]}),ii['modules'][_0x3d440d];}static['initialize'](_0x1a2d90,_0x39d834){if(_0x39d834['initializi'+'ng'])return;const _0x15c66f=_0x39d834['config'];(_0x15c66f['glueUrl']||_0x15c66f['wasmUrl']||_0x15c66f['fallbackUr'+'l'])&&(_0x39d834['initializi'+'ng']=!(0xb7e+0x1e47+-0x29c5*0x1),ii['loadWasm'](_0x1a2d90,_0x15c66f,(_0x10b7e0,_0x48a54d)=>{_0x10b7e0?_0x15c66f['errorHandl'+'er']?_0x15c66f['errorHandl'+'er'](_0x10b7e0):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0x1a2d90+'\x20error='+_0x10b7e0):(_0x39d834['instance']=_0x48a54d,_0x39d834['callbacks']['forEach'](_0x46826e=>{_0x46826e(_0x48a54d);}));}));}};h(ii,'modules',{}),h(ii,'wasmSuppor'+'ted',ux(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x4a0399=new WebAssembly['Module'](Uint8Array['of'](0x4f7*0x1+-0x220a+-0x9*-0x33b,-0x1d96+0x26cd+-0x1a*0x57,0x21d*-0x3+-0x17c2+0x73*0x44,-0x11ff*-0x2+0x42c*-0x2+0x1b39*-0x1,-0x113a+0x6d2+-0x29*-0x41,-0x2151+-0x4*0x8e9+-0x8b*-0x7f,0x4f4+-0x38f*0x5+0xcd7*0x1,0x19*-0x135+-0xdf0+-0x1*-0x2c1d));if(_0x4a0399 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x4a0399)instanceof WebAssembly['Instance'];}}catch{}return!(0x7*0x7b+0x1508*0x1+-0x1864);}));let Yr=ii;class YS{static['setConfig'](_0x1e7457,_0x940d23){const _0x2e6401=Yr['getModule'](_0x1e7457);_0x2e6401['config']=_0x940d23,_0x2e6401['callbacks']['length']>0x216c+0x485+0x1*-0x25f1&&Yr['initialize'](_0x1e7457,_0x2e6401);}static['getConfig'](_0x118cd4){var _0x5d6e24,_0x4d571d;return(_0x4d571d=(_0x5d6e24=Yr['modules'])==null?void(0x10ec+0x2122+-0x2*0x1907):_0x5d6e24[_0x118cd4])==null?void(-0xd41+-0x5e8+-0x663*-0x3):_0x4d571d['config'];}static['getInstanc'+'e'](_0x3c5495,_0x4ab2dd){const _0x32a0a6=Yr['getModule'](_0x3c5495);_0x32a0a6['instance']?_0x4ab2dd(_0x32a0a6['instance']):(_0x32a0a6['callbacks']['push'](_0x4ab2dd),_0x32a0a6['config']&&Yr['initialize'](_0x3c5495,_0x32a0a6));}}class KS{constructor(_0x413abb){h(this,'arraybuffe'+'r'),h(this,'dataView'),h(this,'offset',0x163c+0x7a*0x1e+0x38*-0xa7),(this['arraybuffe'+'r']=_0x413abb,this['dataView']=new DataView(_0x413abb));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x30e826=0x47*-0x6e+0x2430+0x5ae*-0x1){this['offset']=_0x30e826;}['skip'](_0x1182a3){this['offset']+=_0x1182a3;}['align'](_0x36b976){this['offset']=this['offset']+_0x36b976-(-0x1fd1*-0x1+0x1*-0x1f75+-0x5b*0x1)&~(_0x36b976-(-0xe9*0x23+-0x25ea+0xba1*0x6));}['_inc'](_0x27e63b){return this['offset']+=_0x27e63b,this['offset']-_0x27e63b;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x552888){let _0x4a7b01='';for(let _0x211de4=-0x1db8+0xd*0x19a+0x86*0x11;_0x211de4<_0x552888;++_0x211de4)_0x4a7b01+=this['readChar']();return _0x4a7b01;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](-0x1eb8+0x8b5+0x1605),!(0x531+0x26a1+0x2bd2*-0x1));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](-0x1548+-0x70f+0x1c5b),!(0xc5e*0x1+0x1d*0x4b+0x31*-0x6d));}['readU64'](){return this['readU32']()+(-0xec6+0xfdf+0x117*-0x1)**(0xc71+0x18d*0x1+-0x5*0x2c6)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](-0x1d9f+-0x1f09+0x1*0x3cac),!(0x161*-0x7+-0x1*0xcfc+0x16a4));}['readArray'](_0xefd4d1){for(let _0x2f4cac=0xce*-0x1e+0x2693+-0x1*0xe6f;_0x2f4cac<_0xefd4d1['length'];++_0x2f4cac)_0xefd4d1[_0x2f4cac]=this['readU8']();}['readLine'](){const _0x35c2f0=this['dataView'];let _0xd6d03f='';for(;!(this['offset']>=_0x35c2f0['byteLength']);){const _0x5526bd=String['fromCharCo'+'de'](this['readU8']());if(_0x5526bd==='\x0a')break;_0xd6d03f+=_0x5526bd;}return _0xd6d03f;}}class oh{constructor(_0x34b1e6){h(this,'items',[]),h(this,'length',-0xff4+-0x3*-0x971+0x1*-0xc5f),h(this,'loopIndex',-(-0x15f0+-0x1835+0x2e26)),h(this,'_sortBy'),h(this,'_sortHandl'+'er'),(this['_sortBy']=_0x34b1e6['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x244d53){let _0x13a6fa=0x13c6+0x7a8+-0x1b6e*0x1,_0xb6f1d5=this['items']['length']-(0x1*0x155f+-0x78+0x42e*-0x5);const _0x10732a=_0x244d53[this['_sortBy']];let _0x38daac,_0x3ebf6b;for(;_0x13a6fa<=_0xb6f1d5;)_0x38daac=Math['floor']((_0x13a6fa+_0xb6f1d5)/(0x1cb+-0x1445+0x127c)),_0x3ebf6b=this['items'][_0x38daac][this['_sortBy']],_0x3ebf6b<=_0x10732a?_0x13a6fa=_0x38daac+(0xa1+-0x30a+-0xce*-0x3):_0x3ebf6b>_0x10732a&&(_0xb6f1d5=_0x38daac-(0x39*0xa3+0x179f+-0x3be9));return _0x13a6fa;}['_doSort'](_0x26e147,_0x2011cd){const _0x152074=this['_sortBy'];return _0x26e147[_0x152074]-_0x2011cd[_0x152074];}['insert'](_0x14f7eb){const _0x628e80=this['_binarySea'+'rch'](_0x14f7eb);this['items']['splice'](_0x628e80,-0x1077+-0x6d*-0x9+0xca2,_0x14f7eb),this['length']++,this['loopIndex']>=_0x628e80&&this['loopIndex']++;}['append'](_0x7fa25e){this['items']['push'](_0x7fa25e),this['length']++;}['remove'](_0x554602){const _0x89b9e2=this['items']['indexOf'](_0x554602);_0x89b9e2<-0xde9+0x823*0x2+-0x25d*0x1||(this['items']['splice'](_0x89b9e2,0x1*-0x7ea+-0x2*-0x17d+0x4f1),this['length']--,this['loopIndex']>=_0x89b9e2&&this['loopIndex']--);}['sort'](){const _0x5d3694=this['loopIndex']>=-0x622*0x1+-0x7*-0xdf+0x9*0x1?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x5d3694!==null&&(this['loopIndex']=this['items']['indexOf'](_0x5d3694));}}class Oo extends me{constructor(_0x2b8a7c){super(),h(this,'_index',{}),h(this,'_list',[]),this['_parent']=_0x2b8a7c;}['add'](..._0x5b2b70){let _0x2780ef=!(-0x22*-0x37+0x1860+0x9*-0x385);const _0x244f50=this['_processAr'+'guments'](_0x5b2b70,!(-0x83*-0x19+-0xa35*0x1+-0x296));if(!_0x244f50['length'])return _0x2780ef;for(let _0xb60520=-0x1*-0x1f90+0xed5+0x141*-0x25;_0xb60520<_0x244f50['length'];_0xb60520++)this['_index'][_0x244f50[_0xb60520]]||(_0x2780ef=!(-0x251e+0x748+0x3*0x9f2),this['_index'][_0x244f50[_0xb60520]]=!(0x2ab*0x3+0x3e*0x7d+-0x2647),this['_list']['push'](_0x244f50[_0xb60520]),this['fire']('add',_0x244f50[_0xb60520],this['_parent']));return _0x2780ef&&this['fire']('change',this['_parent']),_0x2780ef;}['remove'](..._0x5456bc){let _0x9b52f3=!(-0x254a+-0x2f*0x17+0x2984);if(!this['_list']['length'])return _0x9b52f3;const _0x402f75=this['_processAr'+'guments'](_0x5456bc,!(-0x18da+-0x2b*-0x9a+0x82*-0x2));if(!_0x402f75['length'])return _0x9b52f3;for(let _0xd9211d=-0x2697+-0x54c+0x2be3;_0xd9211d<_0x402f75['length'];_0xd9211d++)this['_index'][_0x402f75[_0xd9211d]]&&(_0x9b52f3=!(-0x76*-0x52+0x189*0x1+0x1*-0x2755),delete this['_index'][_0x402f75[_0xd9211d]],this['_list']['splice'](this['_list']['indexOf'](_0x402f75[_0xd9211d]),-0x135f+0x1001+0x35f),this['fire']('remove',_0x402f75[_0xd9211d],this['_parent']));return _0x9b52f3&&this['fire']('change',this['_parent']),_0x9b52f3;}['clear'](){if(!this['_list']['length'])return;const _0xeb2714=this['_list']['slice'](0x23a3+-0x1*0x137+-0x226c);this['_list']=[],this['_index']={};for(let _0x2dfe28=-0x17*0x15c+0x1b14+0x430;_0x2dfe28<_0xeb2714['length'];_0x2dfe28++)this['fire']('remove',_0xeb2714[_0x2dfe28],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x2f7573){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x2f7573)):!(0x193*0x12+-0x2171*-0x1+-0x3dc6);}['_has'](_0x2a092a){if(!this['_list']['length']||!_0x2a092a['length'])return!(-0x10f*0x17+0x1cd*-0x1+-0x53b*-0x5);for(let _0x46a94b=-0xa1*-0x1+0x62*0x35+-0x9*0x253;_0x46a94b<_0x2a092a['length'];_0x46a94b++)if(_0x2a092a[_0x46a94b]['length']===-0x25*0xef+-0xd23+0x2faf){if(this['_index'][_0x2a092a[_0x46a94b][0x15e3*0x1+-0x25*-0x2b+-0x28e*0xb]])return!(-0x21*0xa5+-0x183b+0x80*0x5b);}else{let _0x355cfe=!(0x810+-0x10c4+0x45a*0x2);for(let _0x45abb2=0x1*-0x1139+-0x1def+-0x1f7*-0x18;_0x45abb2<_0x2a092a[_0x46a94b]['length'];_0x45abb2++)if(!this['_index'][_0x2a092a[_0x46a94b][_0x45abb2]]){_0x355cfe=!(-0xe*0x220+0x5a4+0x181d);break;}if(_0x355cfe)return!(-0x171f+0xb1c+-0xcd*-0xf);}return!(0x635*-0x3+-0xf26+0x21*0x106);}['list'](){return this['_list']['slice'](0x5*-0x709+0x5*0x52f+0x942);}['_processAr'+'guments'](_0xdb5547,_0x242b78){const _0x118485=[];let _0x5b0ee8=[];if(!_0xdb5547||!_0xdb5547['length'])return _0x118485;for(let _0x59e6a0=0x3fd+0x38+-0x435;_0x59e6a0<_0xdb5547['length'];_0x59e6a0++)if(_0xdb5547[_0x59e6a0]instanceof Array){_0x242b78||(_0x5b0ee8=[]);for(let _0x274267=0x4*0x5f6+-0x2*0x25f+-0x131a;_0x274267<_0xdb5547[_0x59e6a0]['length'];_0x274267++)typeof _0xdb5547[_0x59e6a0][_0x274267]=='string'&&(_0x242b78?_0x118485['push'](_0xdb5547[_0x59e6a0][_0x274267]):_0x5b0ee8['push'](_0xdb5547[_0x59e6a0][_0x274267]));!_0x242b78&&_0x5b0ee8['length']&&_0x118485['push'](_0x5b0ee8);}else typeof _0xdb5547[_0x59e6a0]=='string'&&(_0x242b78?_0x118485['push'](_0xdb5547[_0x59e6a0]):_0x118485['push']([_0xdb5547[_0x59e6a0]]));return _0x118485;}get['size'](){return this['_list']['length'];}}h(Oo,'EVENT_ADD','add'),h(Oo,'EVENT_REMO'+'VE','remove'),h(Oo,'EVENT_CHAN'+'GE','change');const de=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],px=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class Rd{constructor(_0x560b41){h(this,'scheme'),h(this,'authority'),h(this,'path'),h(this,'query'),h(this,'fragment');const _0x32669f=_0x560b41['match'](px);this['scheme']=_0x32669f[-0x1e27+0x5*-0x3df+0x3184],this['authority']=_0x32669f[0x5*-0x153+0x1496+-0x1*0xdf3],this['path']=_0x32669f[0x1*-0x1c55+-0x1*-0xa6f+-0x21*-0x8b],this['query']=_0x32669f[0xf45+-0xdb6+-0x188],this['fragment']=_0x32669f[-0x2e1+0x446*0x7+0x1b0*-0x10];}['toString'](){let _0x212f60='';return this['scheme']&&(_0x212f60+=this['scheme']+':'),this['authority']&&(_0x212f60+='//'+this['authority']),_0x212f60+=this['path'],this['query']&&(_0x212f60+='?'+this['query']),this['fragment']&&(_0x212f60+='#'+this['fragment']),_0x212f60;}['getQuery'](){const _0xbe63d1={};if(this['query']){const _0x489d23=decodeURIComponent(this['query'])['split']('&');for(const _0x4b0457 of _0x489d23){const _0x1ef76e=_0x4b0457['split']('=');_0xbe63d1[_0x1ef76e[0x1*0x2041+-0x1*0x1f2b+-0x116]]=_0x1ef76e[0x2407+-0x2c*-0x13+-0x274a];}}return _0xbe63d1;}['setQuery'](_0x42f1f9){let _0x378629='';for(const _0x2ea883 in _0x42f1f9)_0x42f1f9['hasOwnProp'+'erty'](_0x2ea883)&&(_0x378629!==''&&(_0x378629+='&'),_0x378629+=encodeURIComponent(_0x2ea883)+'='+encodeURIComponent(_0x42f1f9[_0x2ea883]));this['query']=_0x378629;}}const mx=0x17*-0x15d+-0x268a+0x45e5,tp=-0x247a+0x1cf0+0x78b,Nm=0x452*0x2+-0x3*-0xe1+-0xb43,_x=-0x2*-0x647+0x15*-0x29+-0x92c,Y={'DEG_TO_RAD':Math['PI']/(-0x1*0x11fb+0x1d10+-0xa61),'RAD_TO_DEG':(-0x10d8+-0x1*0x1187+0x29*0xdb)/Math['PI'],'clamp'(_0x3c4fa4,_0x4f68e8,_0x2567e7){return _0x3c4fa4>=_0x2567e7?_0x2567e7:_0x3c4fa4<=_0x4f68e8?_0x4f68e8:_0x3c4fa4;},'intToBytes24'(_0x2f0b8a){const _0x51cb55=_0x2f0b8a>>-0x1*-0x9ad+0x15d2+-0x1f6f*0x1&-0x26c2+-0x1319+-0x3ada*-0x1,_0x1de8dc=_0x2f0b8a>>-0x25bd+-0x1*-0x18f9+0xccc&0x1d48+-0x1*-0x175d+-0x33a6,_0x2f769a=_0x2f0b8a&-0x3*0x47d+-0x26af+-0x3*-0x11b7;return[_0x51cb55,_0x1de8dc,_0x2f769a];},'intToBytes32'(_0x231340){const _0x18fb5e=_0x231340>>-0x69*-0x22+-0x2*0x23c+-0x962&0x182+-0x1*0x8ad+0x82a*0x1,_0x527142=_0x231340>>-0x23d+-0x21af+0x23fc&0xd05+0x1bc6+-0x12*0x236,_0x332fba=_0x231340>>0x8ab+-0x2*0x124a+0x17*0x137&0x206a+0x25c8+-0x5*0xdd7,_0x2404b9=_0x231340&0x11*0x125+-0x827+-0xa4f;return[_0x18fb5e,_0x527142,_0x332fba,_0x2404b9];},'bytesToInt24'(_0x46026c,_0x8bc0a,_0x1691c4){return _0x46026c['length']&&(_0x1691c4=_0x46026c[0x1501+-0x203f+0xb40],_0x8bc0a=_0x46026c[0x122a+0x1*-0x5+-0x2b*0x6c],_0x46026c=_0x46026c[0x22db*-0x1+0x1056+-0x1*-0x1285]),_0x46026c<<-0x199f+-0xb5*0x2+0x3df*0x7|_0x8bc0a<<0xe1c+-0x228e+0x147a|_0x1691c4;},'bytesToInt32'(_0x1b1796,_0x113be3,_0x554f9f,_0x1e5733){return _0x1b1796['length']&&(_0x1e5733=_0x1b1796[-0x4e1+-0x17*-0x9+0x415],_0x554f9f=_0x1b1796[0xe*-0x23+-0x25*0x9b+-0x1*-0x1853],_0x113be3=_0x1b1796[-0x544+0xd3*-0xf+0x2*0x8d1],_0x1b1796=_0x1b1796[0x1559+-0xa1b*-0x3+-0x33aa]),(_0x1b1796<<-0x252e+-0x305+0x284b|_0x113be3<<0x1*-0x1d21+-0x11*0x1b4+0x3a25|_0x554f9f<<-0xa*0x3a6+-0xc5c+0x30e0|_0x1e5733)>>>0x9*-0x37e+0x11ad+0xdc1;},'lerp'(_0x4d6b07,_0x33ecb0,_0x54ae8b){return _0x4d6b07+(_0x33ecb0-_0x4d6b07)*Y['clamp'](_0x54ae8b,-0xd*-0x59+0x1f24+-0xbe3*0x3,-0x16a9+0x5d5+0x10d5);},'lerpAngle'(_0x4db283,_0x8719f7,_0x330ee2){return _0x8719f7-_0x4db283>0xbdc+-0x13b7*0x1+-0x7*-0x139&&(_0x8719f7-=-0x3*-0x6cd+0x21ee+0x11*-0x31d),_0x8719f7-_0x4db283<-(-0x1c44+0x2680*0x1+-0x988)&&(_0x8719f7+=-0x1313+0x1c2+0x12b9),Y['lerp'](_0x4db283,_0x8719f7,Y['clamp'](_0x330ee2,-0x12f*-0x4+0x2449+-0x2905,-0x3*0x35e+0x1*-0xec3+-0x425*-0x6));},'powerOfTwo'(_0x2b87b7){return _0x2b87b7!==0x2406+-0x1*0x189d+0x1*-0xb69&&!(_0x2b87b7&_0x2b87b7-(0xb33+0xc02+0x87*-0x2c));},'nextPowerOfTwo'(_0x5ccff4){return _0x5ccff4--,_0x5ccff4|=_0x5ccff4>>-0x1797+-0x26a7+-0x5*-0xc73,_0x5ccff4|=_0x5ccff4>>-0xa79+0xb0b+-0x90,_0x5ccff4|=_0x5ccff4>>0x224d+-0x9ec+-0x185d,_0x5ccff4|=_0x5ccff4>>0x1*0xbe6+-0x640+-0x2*0x2cf,_0x5ccff4|=_0x5ccff4>>0x2077+-0x2604+-0x1df*-0x3,_0x5ccff4++,_0x5ccff4;},'nearestPowerOfTwo'(_0x3848d9){return Math['pow'](0x46f+0x1908+-0x1d75,Math['round'](Math['log2'](_0x3848d9)));},'random'(_0x92e8a8,_0x50a535){const _0x1ba1ef=_0x50a535-_0x92e8a8;return Math['random']()*_0x1ba1ef+_0x92e8a8;},'smoothstep'(_0x404598,_0xfc998d,_0x2cb3c2){return _0x2cb3c2<=_0x404598?-0x5c9*0x1+-0xf3d+0x1506:_0x2cb3c2>=_0xfc998d?-0x1f4e+-0x5d3+-0x31*-0xc2:(_0x2cb3c2=(_0x2cb3c2-_0x404598)/(_0xfc998d-_0x404598),_0x2cb3c2*_0x2cb3c2*(-0x7*-0x1b4+-0xe3b*-0x1+-0x1a24-(0x37*0xb0+0xbc4+-0x3192)*_0x2cb3c2));},'smootherstep'(_0x1fb322,_0x557b66,_0x175d7f){return _0x175d7f<=_0x1fb322?0x1878+0x1c01*0x1+-0x3479:_0x175d7f>=_0x557b66?0x2*-0x2d7+0x12bb+0x1*-0xd0c:(_0x175d7f=(_0x175d7f-_0x1fb322)/(_0x557b66-_0x1fb322),_0x175d7f*_0x175d7f*_0x175d7f*(_0x175d7f*(_0x175d7f*(-0x1*-0x1906+0x2073+0xbf*-0x4d)-(0x15b7+-0x270d*-0x1+-0x3cb5))+(0x11c0+-0x2322+0x116c)));},'roundUp'(_0x40c7b0,_0x276659){return _0x276659===-0x1799+0x14ed+-0x2ac*-0x1?_0x40c7b0:Math['ceil'](_0x40c7b0/_0x276659)*_0x276659;},'between'(_0x15b60b,_0x9a7ea0,_0xb8deaf,_0x5d6cf4){const _0x429203=Math['min'](_0x9a7ea0,_0xb8deaf),_0x5a3e54=Math['max'](_0x9a7ea0,_0xb8deaf);return _0x5d6cf4?_0x15b60b>=_0x429203&&_0x15b60b<=_0x5a3e54:_0x15b60b>_0x429203&&_0x15b60b<_0x5a3e54;}},Tt=class Tt{constructor(_0x19a70b=-0x2a*-0xbc+-0x1e62+-0x76,_0x18ca13=0xd8d+-0x1b37+0xdaa,_0x95fd5e=-0x7b*-0xb+0x1121+0xb35*-0x2,_0x3c4daa=0x11c5+-0x17ac+0x5e8){h(this,'r'),h(this,'g'),h(this,'b'),h(this,'a');const _0x490d50=_0x19a70b['length'];_0x490d50===0x1*-0xaf1+0x1*-0x15cb+0x20bf||_0x490d50===0x15e7+-0x41*0x21+-0xd82?(this['r']=_0x19a70b[-0x1672+-0x2a6+0x1918],this['g']=_0x19a70b[-0x131c+0x5*-0x6b3+0x349c],this['b']=_0x19a70b[-0xced+0x266f*-0x1+-0x19*-0x20e],this['a']=_0x19a70b[0x1f91*-0x1+-0x3ca+0x11af*0x2]??0x1c45+-0x1*0x7c1+-0x1483*0x1):(this['r']=_0x19a70b,this['g']=_0x18ca13,this['b']=_0x95fd5e,this['a']=_0x3c4daa);}['clone'](){const _0x4bc24f=this['constructo'+'r'];return new _0x4bc24f(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x18824c){return this['r']=_0x18824c['r'],this['g']=_0x18824c['g'],this['b']=_0x18824c['b'],this['a']=_0x18824c['a'],this;}['equals'](_0x4348fe){return this['r']===_0x4348fe['r']&&this['g']===_0x4348fe['g']&&this['b']===_0x4348fe['b']&&this['a']===_0x4348fe['a'];}['set'](_0x442183,_0x4151ac,_0x42c3fc,_0x2ee229=0x1401+0xe03+-0x1*0x2203){return this['r']=_0x442183,this['g']=_0x4151ac,this['b']=_0x42c3fc,this['a']=_0x2ee229,this;}['lerp'](_0x675a05,_0x3756c8,_0x5200af){return this['r']=_0x675a05['r']+_0x5200af*(_0x3756c8['r']-_0x675a05['r']),this['g']=_0x675a05['g']+_0x5200af*(_0x3756c8['g']-_0x675a05['g']),this['b']=_0x675a05['b']+_0x5200af*(_0x3756c8['b']-_0x675a05['b']),this['a']=_0x675a05['a']+_0x5200af*(_0x3756c8['a']-_0x675a05['a']),this;}['linear'](_0xa2a28f=this){return this['r']=Math['pow'](_0xa2a28f['r'],0xe18+0xc*-0x1ab+0x5ee+0.20000000000000018),this['g']=Math['pow'](_0xa2a28f['g'],-0x2b*-0x7+-0x8d4+-0x35*-0x25+0.20000000000000018),this['b']=Math['pow'](_0xa2a28f['b'],0x2635+0x373*0x7+-0x3e58+0.20000000000000018),this['a']=_0xa2a28f['a'],this;}['gamma'](_0xf4cf07=this){return this['r']=Math['pow'](_0xf4cf07['r'],(0x19c4+0x2f*-0xb1+0x35e*0x2)/(-0x2641+-0x39*-0x6e+0xdc5+0.20000000000000018)),this['g']=Math['pow'](_0xf4cf07['g'],(-0x1*-0x1e6b+-0x1eef+-0x7*-0x13)/(-0x1720+-0xcf8+0x241a+0.20000000000000018)),this['b']=Math['pow'](_0xf4cf07['b'],(0x12d0+-0x161f+0xd4*0x4)/(0x2399+0x19e3+-0x147e*0x3+0.20000000000000018)),this['a']=_0xf4cf07['a'],this;}['mulScalar'](_0x3e1ec9){return this['r']*=_0x3e1ec9,this['g']*=_0x3e1ec9,this['b']*=_0x3e1ec9,this;}['fromString'](_0x5b4337){const _0x17d0f1=parseInt(_0x5b4337['replace']('#','0x'),0x22d8+-0x1d25+-0x5a3);let _0x2aa6b7;return _0x5b4337['length']>0xcaf*0x3+-0x175*0x19+0x1*-0x199?_0x2aa6b7=Y['intToBytes'+'32'](_0x17d0f1):(_0x2aa6b7=Y['intToBytes'+'24'](_0x17d0f1),_0x2aa6b7[0x25aa+0x1f68+-0x450f]=0xb1a+-0xc94+-0x1*-0x279),this['set'](_0x2aa6b7[0x6e0+-0x4d9+-0x207]/(0x1*-0x239+0x11*0x137+-0x116f*0x1),_0x2aa6b7[0x214a+0x2c7+-0x1208*0x2]/(-0x7*-0x236+-0x9*0x137+0x2*-0x1c6),_0x2aa6b7[0x16fd+0x3d9+-0x65*0x44]/(-0x424+-0x20c5+0x25e8),_0x2aa6b7[-0x1*-0xe01+-0x141d+-0x1*-0x61f]/(-0x17aa+0xc1*-0x6+-0x1f*-0xf1)),this;}['fromArray'](_0x392337,_0x56c92f=0xf8a+-0x16a4+0xca*0x9){return this['r']=_0x392337[_0x56c92f]??this['r'],this['g']=_0x392337[_0x56c92f+(0xa3e+-0x1263+-0x1*-0x826)]??this['g'],this['b']=_0x392337[_0x56c92f+(0x425*-0x1+0xb2*-0x1+0x4d9*0x1)]??this['b'],this['a']=_0x392337[_0x56c92f+(0x373*-0x9+-0x641+0x254f)]??this['a'],this;}['toString'](_0x4dadcb,_0x41c998){const {r:_0x3ecb41,g:_0x41209d,b:_0x530f49,a:_0x29038b}=this;if(_0x41c998||_0x3ecb41>-0xbe8+0x23ef*0x1+-0x1806||_0x41209d>-0x1a5d+-0x3fb+-0x1*-0x1e59||_0x530f49>-0x66b*0x2+-0x251*-0x3+0x5e4)return _0x3ecb41['toFixed'](0x114d+-0x14a7+0x35d)+',\x20'+_0x41209d['toFixed'](-0xb38+-0x1*-0xf43+-0x8*0x81)+',\x20'+_0x530f49['toFixed'](-0x5*-0x246+0x1ee0+-0x1*0x2a3b)+',\x20'+_0x29038b['toFixed'](-0x2*-0x732+-0x1d+0x722*-0x2);let _0x1ba05f='#'+((-0x934+-0x11db+0x1b10<<0x23c*-0x1+0x201b+-0x1dc7)+(Math['round'](_0x3ecb41*(-0x1f9*0x5+-0x1*0x1f51+0xb1*0x3d))<<-0xe5e+0x765+0x709)+(Math['round'](_0x41209d*(-0x1279+-0x1f34*0x1+0x10e4*0x3))<<0x2107+-0x1d1c+-0x3e3)+Math['round'](_0x530f49*(-0xc7b+0x1*-0x153a+0x22b4)))['toString'](-0x1265+0x193f*-0x1+0x2bb4)['slice'](-0x22cc+0x1*-0x20ab+0x1fc*0x22);if(_0x4dadcb===!(0x2*0x3e1+-0x1896+0x10d4)){const _0x439a76=Math['round'](_0x29038b*(0x21c8+-0xca3*-0x2+-0x3a0f))['toString'](-0x8*0x330+-0xfa8+0x2938*0x1);this['a']<(-0x27f+0x1141*0x1+0x2*-0x759)/(0x10*0xca+-0xaf9+-0xa8)?_0x1ba05f+='0'+_0x439a76:_0x1ba05f+=_0x439a76;}return _0x1ba05f;}['toArray'](_0x1379af=[],_0xf95032=0xc9b+0x60f*-0x5+-0x46c*-0x4,_0x571cf1=!(-0xbf1+0x1e99+-0x12a8)){return _0x1379af[_0xf95032]=this['r'],_0x1379af[_0xf95032+(0x11d3+0x675+-0x1847)]=this['g'],_0x1379af[_0xf95032+(-0x453+0x500+0xab*-0x1)]=this['b'],_0x571cf1&&(_0x1379af[_0xf95032+(-0x35*-0x4+0xf38+-0x1009)]=this['a']),_0x1379af;}};h(Tt,'BLACK',Object['freeze'](new Tt(0xf73*-0x1+0x3c2+0xbb1,0x1c9f+0x1531+-0x31d0,-0x2*-0x7ab+-0x1*-0x736+0xd*-0x1bc,-0x51b*-0x3+-0x1ce+0x13*-0xb6))),h(Tt,'BLUE',Object['freeze'](new Tt(-0xa49*0x3+0x8c6+0x1615,-0x1202+0xb*-0x17b+0x224b,-0x48d+-0x128f+0x1*0x171d,-0x539*-0x1+0x1a63+0x1*-0x1f9b))),h(Tt,'CYAN',Object['freeze'](new Tt(-0xbcf*-0x2+-0x324+-0x147a,-0x77*-0xb+0x639+-0x1*0xb55,0x2147+-0x17b9+-0x98d,0xb4c+0x6aa+-0x11f5))),h(Tt,'GRAY',Object['freeze'](new Tt(0x1be*-0xc+-0x1c44+0x3*0x1064+0.5,-0x90c*0x1+-0x373*-0x2+0x32*0xb+0.5,0x278+0x5*-0x337+-0x2b*-0x51+0.5,0x5aa*0x5+0x24e+-0x43*0x75))),h(Tt,'GREEN',Object['freeze'](new Tt(0x9*-0x2f5+0xf*0x1c5+0x3*0x6,-0x1*0xd06+-0x7c5*-0x1+0x1*0x542,-0x1*0x167f+0x1331+0x34e,0x39a*-0x2+0x1303+-0x1*0xbce))),h(Tt,'MAGENTA',Object['freeze'](new Tt(0x1*0x215f+-0x1cfd+-0x1*0x461,0x1*0xe91+-0xd*0x67+0xef*-0xa,0x5*-0x155+0x1*0x323+-0x81*-0x7,-0xda4+-0x40e+0x1*0x11b3))),h(Tt,'RED',Object['freeze'](new Tt(-0x1fe9+0xa6*0x13+0x1398,-0xc99+-0x364+-0x1*-0xffd,0x211c+0x1ced+-0x3e09*0x1,-0x7*0x112+0x204c+-0x18cd))),h(Tt,'WHITE',Object['freeze'](new Tt(-0x5d*0x33+0xa48+0x840,-0x26cd+-0x64b*-0x3+-0x13ed*-0x1,0x13be+-0x1*-0x1874+-0x2c31,0x18ef+-0x5*0x795+0xcfb))),h(Tt,'YELLOW',Object['freeze'](new Tt(-0x1013+0x312+0xd02,-0xcdf*0x2+-0x28d+0x1c4c,0xd8*-0x1a+-0xb85+-0xf*-0x23b,-0x5*-0x6f1+0xb*-0x353+0x1dd)));let ie=Tt;class ZS{constructor(_0x5e2332,_0x34ee66=0x628+0x1*0x222f+-0x2857){h(this,'_curve'),h(this,'_left',-(-0x64d*-0x1+0x1e28+-0x91d*0x4)/(0x17d*-0x2+-0x2536+0x2830*0x1)),h(this,'_right',(-0x2091+0x3ae*0x2+0x1936)/(0x1*0x163a+0x1f88+-0x35c2)),h(this,'_recip',-0x1b00+-0x1*0x473+-0x61*-0x53),h(this,'_p0',-0x266*0xb+-0x1*-0x1609+0x459),h(this,'_p1',-0x559*-0x1+-0xa96+-0x53d*-0x1),h(this,'_m0',-0xe3*-0x26+0x10f0+-0x32a2),h(this,'_m1',-0x7da+-0x1ba7*-0x1+-0x13cd),(this['_curve']=_0x5e2332,this['_reset'](_0x34ee66));}['evaluate'](_0x4537eb,_0x3623d1=!(-0x1*0xac1+-0x6*-0x521+-0x1404)){(_0x3623d1||_0x4537eb<this['_left']||_0x4537eb>=this['_right'])&&this['_reset'](_0x4537eb);let _0x23e9a9;const _0x54e66a=this['_curve']['type'];if(_0x54e66a===_x)_0x23e9a9=this['_p0'];else{const _0x3bc157=this['_recip']===0xb77+0x3*0x5e3+-0x1d20?0x1ece+-0x137+0x12f*-0x19:(_0x4537eb-this['_left'])*this['_recip'];_0x54e66a===mx?_0x23e9a9=Y['lerp'](this['_p0'],this['_p1'],_0x3bc157):_0x54e66a===tp?_0x23e9a9=Y['lerp'](this['_p0'],this['_p1'],_0x3bc157*_0x3bc157*(-0x1e*-0x76+0x2*-0xabd+-0x7a9*-0x1-(-0x1*-0x180b+-0x1553*0x1+0x1*-0x2b6)*_0x3bc157)):_0x23e9a9=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x3bc157);}return _0x23e9a9;}['_reset'](_0xf313fa){const _0x7dca8d=this['_curve']['keys'],_0x3cef70=_0x7dca8d['length'];if(!_0x3cef70)this['_left']=-(-0x132*0x2+-0xf40+0x11a5)/(0x8c6+-0xfc3*0x1+0x6fd),this['_right']=(0x1e3a+-0x25ce+0x3*0x287)/(-0x1*-0x2275+0x1877+-0x3aec),this['_recip']=-0x1a80+0x19*0x79+0x219*0x7,this['_p0']=this['_p1']=this['_m0']=this['_m1']=-0xe7*-0x29+0x1871+-0x3d70;else{if(_0xf313fa<_0x7dca8d[0x1e9e+0x9*0x40e+0xd6c*-0x5][-0x2271*0x1+0x1135+-0x113c*-0x1])this['_left']=-(0x17e+0xdb*0x3+-0x40e)/(0x1752+-0x1dda+-0xb*-0x98),this['_right']=_0x7dca8d[0x2*0xbbc+0x1*0x3d+-0x17b5][0x1409+0x10*0x199+0xf33*-0x3],this['_recip']=-0x147f*-0x1+-0x95*0x19+0x5f2*-0x1,this['_p0']=this['_p1']=_0x7dca8d[-0xa26+-0x1700+-0x1093*-0x2][0x9*0x3c2+-0x17ad+-0x76*0x16],this['_m0']=this['_m1']=0x3f5*0x1+0x1728+-0x1b1d;else{if(_0xf313fa>=_0x7dca8d[_0x3cef70-(0x1*-0x267+-0x37d*-0x2+0x9*-0x82)][-0x24e5+-0x178*-0x1+0x3*0xbcf])this['_left']=_0x7dca8d[_0x3cef70-(-0x12bc+-0x6b*0x58+-0x1*-0x3785)][0x1480+-0x3*-0xf2+-0x1756],this['_right']=(0xd51+0x7*-0x1c6+-0xe6)/(0x232f*-0x1+-0x18d0+0x1*0x3bff),this['_recip']=0x24ef+-0x1*0x7f6+0x1*-0x1cf9,this['_p0']=this['_p1']=_0x7dca8d[_0x3cef70-(0xeb6+0x24e3+-0x1*0x3398)][0xf31+0x9*-0x8d+0x123*-0x9],this['_m0']=this['_m1']=-0x981+0x3ce*-0x4+0x18b9*0x1;else{let _0xb92560=0x106*-0x1+0x208e+-0x1f88*0x1;for(;_0xf313fa>=_0x7dca8d[_0xb92560+(0xdcf+-0x2641+-0x1873*-0x1)][-0x339+0x2410+-0x4b1*0x7];)_0xb92560++;this['_left']=_0x7dca8d[_0xb92560][0x6c9*-0x2+-0x163*-0x17+-0x1253],this['_right']=_0x7dca8d[_0xb92560+(0x12be*-0x1+0x2b*-0x2+0x3d1*0x5)][0x270d*0x1+0x2508+-0x1*0x4c15];const _0x45d999=(-0x1de7*0x1+-0x3*0x6b+0x1*0x1f29)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x45d999)?_0x45d999:0x61f*0x3+0x81b+0xf2*-0x1c,this['_p0']=_0x7dca8d[_0xb92560][0x18d3+-0x1*-0x1bf7+0x1*-0x34c9],this['_p1']=_0x7dca8d[_0xb92560+(-0x23fa+-0x1*0x152b+0x3926*0x1)][0x26b2+0x8ff+-0x10*0x2fb],this['_curve']['type']===Nm&&this['_calcTange'+'nts'](_0x7dca8d,_0xb92560);}}}}['_calcTange'+'nts'](_0x28a09e,_0x5931f8){let _0x4503ad;const _0x3146f5=_0x28a09e[_0x5931f8],_0x2eb60a=_0x28a09e[_0x5931f8+(0x1*0x1417+-0x1*0x16e1+-0xd*-0x37)];let _0x58ccba;if(_0x5931f8===-0x1da1+-0xc*-0x2a5+0x31*-0xb?_0x4503ad=[_0x28a09e[0x3a*-0x37+0xeba+-0x2*0x122][-0x1157+0xa*-0x212+0x1*0x260b]+(_0x28a09e[0xd12+-0x1520+-0x1*-0x80e][0xaa*-0x3+0x1328+-0x2*0x895]-_0x28a09e[-0xc41+-0x2267+0x2ea9][-0x21d*0x7+0x125*-0x7+0x16ce]),_0x28a09e[0xb26+-0x902*-0x2+-0x1d2a][0x2544+0x8a7*0x3+-0x77*0x88]+(_0x28a09e[-0x21ef+0x6d3*0x1+0x56c*0x5][-0x3ba+0x825+0x235*-0x2]-_0x28a09e[-0x32*0xc5+0x38b*-0xa+0x35*0x165][-0x123*-0x13+-0x2390+0xdf8])]:_0x4503ad=_0x28a09e[_0x5931f8-(0xd07*-0x1+-0x4a*-0xc+-0x1*-0x990)],_0x5931f8===_0x28a09e['length']-(0x2*-0x12f9+-0x174*0x5+-0x8*-0x5a7)?_0x58ccba=[_0x28a09e[_0x5931f8+(-0x3f3+0x1*0x17f5+-0x1*0x1401)][-0x293*0x2+0x1c3+0x363]+(_0x28a09e[_0x5931f8+(-0xe*-0xf+-0x1bbf+0x47d*0x6)][-0x1*-0x589+0x405+-0x98e]-_0x28a09e[_0x5931f8][0x423+0xdb*0x2b+-0x28ec]),_0x28a09e[_0x5931f8+(0x4e*-0x5a+0xd*-0xc4+0x2561)][0x281*-0xf+0x170b*-0x1+0x217*0x1d]+(_0x28a09e[_0x5931f8+(-0x229d+0x7b*0x35+0x927)][-0xbb9+0x13+-0x13*-0x9d]-_0x28a09e[_0x5931f8][0xacd*-0x3+-0x10d*0x11+0x3245])]:_0x58ccba=_0x28a09e[_0x5931f8+(0x1466+-0x16d3+0x26f)],this['_curve']['type']===Nm){const _0x49c5e6=(-0x2ad+0x394+0x1*-0xe5)*(_0x2eb60a[0x1*0xffb+0x7a1*0x3+-0x26de]-_0x3146f5[0x153c+0x723*-0x4+0x750])/(_0x2eb60a[0x1d28+0x1e65+-0x3b8d]-_0x4503ad[0x1ab0*0x1+0x20eb+-0x1*0x3b9b]),_0x2a16cb=(-0x3*-0x5c3+-0xcb5+0x2*-0x249)*(_0x2eb60a[-0x1bfb+-0x1102+0xb*0x417]-_0x3146f5[-0x9*0x3e5+-0x1*-0x7dc+0x1b31])/(_0x58ccba[0xe*-0x1b+0x7*-0xf1+0x7*0x127]-_0x3146f5[0x1ffd+-0xcef+-0x130e]);this['_m0']=this['_curve']['tension']*(isFinite(_0x49c5e6)?_0x49c5e6:0x2*-0xf9e+-0x3*0x709+-0x3457*-0x1)*(_0x2eb60a[-0x12a*-0xd+-0x217f*0x1+0x125e]-_0x4503ad[-0x650*-0x1+-0x26c2+0x2073]),this['_m1']=this['_curve']['tension']*(isFinite(_0x2a16cb)?_0x2a16cb:-0x119*0x3+0xc2e*0x2+0x1511*-0x1)*(_0x58ccba[-0xe19+0xe*-0x7b+0xac*0x1f]-_0x3146f5[-0x125*0x1+-0x805+-0x1*-0x92b]);}else{const _0x1ab3a4=(_0x2eb60a[-0xc17*0x1+0x1*0x1fe7+-0x13d0]-_0x3146f5[-0x2b*-0x5c+-0x5cf*0x5+0xd97*0x1])/(_0x3146f5[-0x3*0xba2+0xcdd*-0x1+0x2fc3]-_0x4503ad[0x18b5+-0x1*-0x1cbd+-0x3572*0x1]),_0x148233=(_0x2eb60a[0x1ffb+-0x4a2*0x3+-0x1215]-_0x3146f5[0x1d61+0x1*0x23e6+-0x4147])/(_0x58ccba[-0x241d+-0x2298+0x46b5]-_0x2eb60a[0x55*0x17+-0x1afc+0x7f*0x27]),_0x12b4cf=_0x3146f5[0xb80+-0x2573+0x67d*0x4]+(_0x4503ad[-0x561+0x1df3+-0x1*0x1891]-_0x3146f5[-0x54+0x1*-0x147e+0x14d3])*(isFinite(_0x1ab3a4)?_0x1ab3a4:0xb*-0x87+0x174+0x35*0x15),_0x305836=_0x2eb60a[-0x1*-0x272+0x20d1*-0x1+0x1e60]+(_0x58ccba[0xf3e+0x96*-0x11+-0x7*0xc1]-_0x2eb60a[-0x1cb9+-0x2421+0x40db])*(isFinite(_0x148233)?_0x148233:0xd20+-0x2*-0xa54+-0x21c8),_0x3200f5=this['_curve']['tension'];this['_m0']=_0x3200f5*(_0x2eb60a[0x6e9+-0x601+-0xe7]-_0x12b4cf),this['_m1']=_0x3200f5*(_0x305836-_0x3146f5[-0x15f9+0x10b8+0x2*0x2a1]);}}['_evaluateH'+'ermite'](_0x339258,_0x59271b,_0x2ced61,_0x405b29,_0x43b8d1){const _0x2c8197=_0x43b8d1*_0x43b8d1,_0x5928eb=_0x43b8d1+_0x43b8d1,_0x33e19f=0x1b28+0xcb7*0x1+-0x27de-_0x43b8d1,_0x15727c=_0x33e19f*_0x33e19f;return _0x339258*((-0x254d+-0x368*0x6+0x39be+_0x5928eb)*_0x15727c)+_0x2ced61*(_0x43b8d1*_0x15727c)+_0x59271b*(_0x2c8197*(-0x1d8f+0x1b2*0x13+0x152*-0x2-_0x5928eb))+_0x405b29*(_0x2c8197*(_0x43b8d1-(-0x2f9+-0x297*0x9+0x1a49*0x1)));}}class qs{constructor(_0xfb7c60){h(this,'keys',[]),h(this,'type',tp),h(this,'tension',0x3b5*-0x9+-0x1bf6+0x3*0x1471+0.5),h(this,'_eval',new ZS(this));if(_0xfb7c60){for(let _0x18a19c=0x1*-0x2077+0x24ae+-0x437;_0x18a19c<_0xfb7c60['length']-(0x58*-0x7+-0x19*0xf9+-0xb*-0x26e);_0x18a19c+=-0x1d59*0x1+0xcd2+0x1089)this['keys']['push']([_0xfb7c60[_0x18a19c],_0xfb7c60[_0x18a19c+(-0x2bf+-0x8*-0x31+0x138)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x30f0cf,_0x34b5a9){const _0x3dafcb=this['keys'],_0x5aef43=_0x3dafcb['length'];let _0x146d87=-0x100f+-0xfb*-0x20+-0xf51;for(;_0x146d87<_0x5aef43&&!(_0x3dafcb[_0x146d87][-0x7*0x89+-0x1f40*0x1+0x22ff*0x1]>_0x30f0cf);_0x146d87++);const _0x509a54=[_0x30f0cf,_0x34b5a9];return this['keys']['splice'](_0x146d87,0x12b*0x10+0x800+-0x1ab0,_0x509a54),_0x509a54;}['get'](_0x14be58){return this['keys'][_0x14be58];}['sort'](){this['keys']['sort']((_0x57bf5f,_0x476b0b)=>_0x57bf5f[-0xb*-0x13a+0x2539+-0x32b7]-_0x476b0b[-0x132d+-0x335*0x3+-0xe66*-0x2]);}['value'](_0x174d34){return this['_eval']['evaluate'](_0x174d34,!(0x137*0x1a+0x21*-0x29+-0x1a4d));}['closest'](_0x17a553){const _0x262293=this['keys'],_0x50f4f7=_0x262293['length'];let _0x2cdf18=-0x30b+-0x10f+0x41c,_0x31c0b8=null;for(let _0x424968=0x22da+0x190+-0x246a;_0x424968<_0x50f4f7;_0x424968++){const _0x3e525a=Math['abs'](_0x17a553-_0x262293[_0x424968][0x19d8+-0x1*-0x5ca+0xfd1*-0x2]);if(_0x2cdf18>=_0x3e525a)_0x2cdf18=_0x3e525a,_0x31c0b8=_0x262293[_0x424968];else break;}return _0x31c0b8;}['clone'](){const _0x397499=new this['constructo'+'r']();return _0x397499['keys']=this['keys']['map'](_0x5385ec=>[..._0x5385ec]),_0x397499['type']=this['type'],_0x397499['tension']=this['tension'],_0x397499;}['quantize'](_0x58f632){_0x58f632=Math['max'](_0x58f632,-0x3a*0x5c+-0xd3c+0x2216);const _0x1372ad=new Float32Array(_0x58f632),_0x180fc5=(0x3*-0x662+-0x6*-0x79+0x1051*0x1)/(_0x58f632-(0x8e7+-0x10d*0x1+-0x7d9));_0x1372ad[-0x15ea+0x20a3+-0x3*0x393]=this['_eval']['evaluate'](-0x46*-0x71+-0x1afb*-0x1+-0x39e1,!(0x2094+-0x24b5+-0x97*-0x7));for(let _0x2c3754=0x11fd*-0x1+0x407+0x41*0x37;_0x2c3754<_0x58f632;_0x2c3754++)_0x1372ad[_0x2c3754]=this['_eval']['evaluate'](_0x180fc5*_0x2c3754);return _0x1372ad;}['quantizeCl'+'amped'](_0x46269f,_0x655c72,_0x4f9001){const _0x46140a=this['quantize'](_0x46269f);for(let _0x1e0f08=-0x1544+0x2*-0x3f0+0x5d4*0x5;_0x1e0f08<_0x46140a['length'];++_0x1e0f08)_0x46140a[_0x1e0f08]=Math['min'](_0x4f9001,Math['max'](_0x655c72,_0x46140a[_0x1e0f08]));return _0x46140a;}}class na{constructor(..._0x5ecfe1){h(this,'curves',[]),h(this,'_type',tp);if(_0x5ecfe1['length']>-0x1b7+-0x15ae+0x1766){for(let _0x18eb6b=0x2334+-0x1058+0x4b7*-0x4;_0x18eb6b<_0x5ecfe1['length'];_0x18eb6b++)this['curves']['push'](new qs(_0x5ecfe1[_0x18eb6b]));}else{if(_0x5ecfe1['length']===-0x7a9*0x5+-0x99d+0x2fea)this['curves']['push'](new qs());else{const _0x5b9c8d=_0x5ecfe1[-0x3f+0x142d*-0x1+0x51b*0x4];if(typeof _0x5b9c8d=='number'){for(let _0x18a214=0x3f*0x50+0x2686+-0x3a36;_0x18a214<_0x5b9c8d;_0x18a214++)this['curves']['push'](new qs());}else{for(let _0x3609b7=-0x15*-0x1af+0x5*0x167+-0x16*0x1ed;_0x3609b7<_0x5b9c8d['length'];_0x3609b7++)this['curves']['push'](new qs(_0x5b9c8d[_0x3609b7]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x227266){this['_type']=_0x227266;for(let _0x2db4ea=0x15bf+-0xc6a+-0x955;_0x2db4ea<this['curves']['length'];_0x2db4ea++)this['curves'][_0x2db4ea]['type']=_0x227266;}get['type'](){return this['_type'];}['get'](_0x27f326){return this['curves'][_0x27f326];}['value'](_0x1b4c7c,_0x25f54d=[]){const _0x42f4d3=this['curves']['length'];_0x25f54d['length']=_0x42f4d3;for(let _0x5cb159=-0x188+0xf3b+-0xdb3;_0x5cb159<_0x42f4d3;_0x5cb159++)_0x25f54d[_0x5cb159]=this['curves'][_0x5cb159]['value'](_0x1b4c7c);return _0x25f54d;}['clone'](){const _0x59ce50=new this['constructo'+'r']();_0x59ce50['curves']=[];for(let _0x290186=0x147c+0x1b4e+-0x2fca;_0x290186<this['curves']['length'];_0x290186++)_0x59ce50['curves']['push'](this['curves'][_0x290186]['clone']());return _0x59ce50['_type']=this['_type'],_0x59ce50;}['quantize'](_0x7a8868){_0x7a8868=Math['max'](_0x7a8868,-0x868+-0x72d+-0xd*-0x133);const _0x13c303=this['curves']['length'],_0x3e37c4=new Float32Array(_0x7a8868*_0x13c303),_0x199951=(-0x1*-0xf75+-0x18d9*-0x1+0xb5*-0x39)/(_0x7a8868-(-0x1*-0x1fe6+0x2*0x5ab+-0x28b*0x11));for(let _0x40de92=0x11ef*0x1+0x1*0xce3+0x523*-0x6;_0x40de92<_0x13c303;_0x40de92++){const _0x40687a=new ZS(this['curves'][_0x40de92]);for(let _0x4c56ae=-0x1877+-0xb*-0x32b+-0x531*0x2;_0x4c56ae<_0x7a8868;_0x4c56ae++)_0x3e37c4[_0x4c56ae*_0x13c303+_0x40de92]=_0x40687a['evaluate'](_0x199951*_0x4c56ae);}return _0x3e37c4;}['quantizeCl'+'amped'](_0x221d03,_0x270195,_0x450383){const _0x20ac13=this['quantize'](_0x221d03);for(let _0x2322f7=-0x707*-0x1+-0xb55*0x2+0xfa3*0x1;_0x2322f7<_0x20ac13['length'];++_0x2322f7)_0x20ac13[_0x2322f7]=Math['min'](_0x450383,Math['max'](_0x270195,_0x20ac13[_0x2322f7]));return _0x20ac13;}}const Hf=new Float32Array(-0x1d74+0x2091+-0x31c),km=new Int32Array(Hf['buffer']);class Mn{static['float2Half'](_0x421ca3){Hf[0x9ce+-0x3*-0x2f2+0x952*-0x2]=_0x421ca3;const _0xb8c31f=km[0x1*-0x124f+-0x1b*0x50+-0x29*-0xa7];let _0x285fb1=_0xb8c31f>>-0x88*-0xb+-0x550+-0x78&-0x97c3+-0xe77e+0x1ff41,_0xcf79a0=_0xb8c31f>>0x1*0x2625+0xbf+-0x26d8&0x76*-0x46+0x14db*0x1+0x36*0x5c;const _0x10d772=_0xb8c31f>>0xa74+-0x1f09+0x14ac&-0x137f+0x1235+0x249;return _0x10d772<0x1d56+0x5*-0x50f+-0x3a4?_0x285fb1:_0x10d772>0x4*-0x193+-0x60d*0x4+0x1f0e?(_0x285fb1|=0xf*0xade+-0xded0+-0x5be7*-0x2,_0x285fb1|=(_0x10d772===-0x32*-0x4f+-0xb*-0x1ab+-0x20c8?0x13be+0x73e*0x5+0xdfd*-0x4:-0x3*-0x949+-0xc5+-0x1b15*0x1)&&_0xb8c31f&-0xd6895*0x2+-0x5578*-0x105+0x62713*0xb,_0x285fb1):_0x10d772<-0x18f*0x13+-0x1426+0x3f*0xcc?(_0xcf79a0|=0x2670+0x100c+0x154*-0x23,_0x285fb1|=(_0xcf79a0>>0x5*0x5e3+0x2f*0xe+-0x1f8f-_0x10d772)+(_0xcf79a0>>-0x2e6+-0xeff+-0x2*-0x92b-_0x10d772&0x14c3+-0x38f+-0x7*0x275),_0x285fb1):(_0x285fb1|=_0x10d772-(-0x739+-0x240a+0xe91*0x3)<<0x360+0x1b25+0x99*-0x33|_0xcf79a0>>-0x52*-0x52+-0x1b77*0x1+0x134,_0x285fb1+=_0xcf79a0&-0x1f0f*-0x1+0x20d7+-0x3fe5,_0x285fb1);}static['float2RGBA'+'8'](_0x30c053,_0xe160ba){Hf[0x1325*0x2+0x8*0xcd+0x1659*-0x2]=_0x30c053;const _0x22cf60=km[0x159*-0x1+-0x58e*-0x3+-0xf51];_0xe160ba['r']=(_0x22cf60>>-0xe56+0x2*0x5ab+-0x84*-0x6&-0x566*-0x1+0x1302*-0x2+0x219d)/(-0x149a+-0x12a4+-0x1*-0x283d),_0xe160ba['g']=(_0x22cf60>>-0x1fb9+-0x20cb+-0x4094*-0x1&0x1d2*0x5+0x3*-0x3cb+0x346)/(0x861+-0x698+-0xca),_0xe160ba['b']=(_0x22cf60>>0x14fc+0xee1*-0x1+-0x613&-0x19f*-0x7+-0x4*-0xcb+-0x2*0x6c3)/(-0x2*-0x373+0x711+-0xcf8),_0xe160ba['a']=(_0x22cf60&-0x15b+0x23*-0xac+-0x2*-0xcef)/(-0x34a*0x3+-0x24f0+0xfef*0x3);}}const wt=class wt{constructor(_0xe3aa5a=0x1f27+0x15c1+-0x34e8,_0x2f2aa7=0x359*0x7+0x1a85+-0x31f4,_0xadb980=0x886+-0x1eb+0x1*-0x69b){h(this,'x'),h(this,'y'),h(this,'z'),_0xe3aa5a['length']===-0xe96+-0x746+0x1*0x15df?(this['x']=_0xe3aa5a[-0x21*0xe5+-0xf24+-0x135*-0x25],this['y']=_0xe3aa5a[-0x1b2b*-0x1+0x40*0x59+-0x316a],this['z']=_0xe3aa5a[-0x35e*-0x7+0x161*-0x1+-0x162f]):(this['x']=_0xe3aa5a,this['y']=_0x2f2aa7,this['z']=_0xadb980);}['add'](_0x44ee03){return this['x']+=_0x44ee03['x'],this['y']+=_0x44ee03['y'],this['z']+=_0x44ee03['z'],this;}['add2'](_0x32c43d,_0xec798){return this['x']=_0x32c43d['x']+_0xec798['x'],this['y']=_0x32c43d['y']+_0xec798['y'],this['z']=_0x32c43d['z']+_0xec798['z'],this;}['addScalar'](_0x2b7dce){return this['x']+=_0x2b7dce,this['y']+=_0x2b7dce,this['z']+=_0x2b7dce,this;}['addScaled'](_0x4575f2,_0x21ad86){return this['x']+=_0x4575f2['x']*_0x21ad86,this['y']+=_0x4575f2['y']*_0x21ad86,this['z']+=_0x4575f2['z']*_0x21ad86,this;}['clone'](){const _0x5622b9=this['constructo'+'r'];return new _0x5622b9(this['x'],this['y'],this['z']);}['copy'](_0x3e3d1e){return this['x']=_0x3e3d1e['x'],this['y']=_0x3e3d1e['y'],this['z']=_0x3e3d1e['z'],this;}['cross'](_0x15e075,_0xac7132){const _0x211599=_0x15e075['x'],_0x6f6324=_0x15e075['y'],_0x23414d=_0x15e075['z'],_0x2bb77d=_0xac7132['x'],_0x1e52b8=_0xac7132['y'],_0x38e4dd=_0xac7132['z'];return this['x']=_0x6f6324*_0x38e4dd-_0x1e52b8*_0x23414d,this['y']=_0x23414d*_0x2bb77d-_0x38e4dd*_0x211599,this['z']=_0x211599*_0x1e52b8-_0x2bb77d*_0x6f6324,this;}['distance'](_0x110170){const _0x49b7f6=this['x']-_0x110170['x'],_0x5d7634=this['y']-_0x110170['y'],_0x31e477=this['z']-_0x110170['z'];return Math['sqrt'](_0x49b7f6*_0x49b7f6+_0x5d7634*_0x5d7634+_0x31e477*_0x31e477);}['div'](_0xa912d0){return this['x']/=_0xa912d0['x'],this['y']/=_0xa912d0['y'],this['z']/=_0xa912d0['z'],this;}['div2'](_0x2a2691,_0x3b124a){return this['x']=_0x2a2691['x']/_0x3b124a['x'],this['y']=_0x2a2691['y']/_0x3b124a['y'],this['z']=_0x2a2691['z']/_0x3b124a['z'],this;}['divScalar'](_0x55e0d4){return this['x']/=_0x55e0d4,this['y']/=_0x55e0d4,this['z']/=_0x55e0d4,this;}['dot'](_0x19c5b7){return this['x']*_0x19c5b7['x']+this['y']*_0x19c5b7['y']+this['z']*_0x19c5b7['z'];}['equals'](_0x37a4a7){return this['x']===_0x37a4a7['x']&&this['y']===_0x37a4a7['y']&&this['z']===_0x37a4a7['z'];}['equalsAppr'+'ox'](_0x31ff43,_0x3484b6=-0x15*0x9d+0x1b52*-0x1+-0xfb*-0x29+0.000001){return Math['abs'](this['x']-_0x31ff43['x'])<_0x3484b6&&Math['abs'](this['y']-_0x31ff43['y'])<_0x3484b6&&Math['abs'](this['z']-_0x31ff43['z'])<_0x3484b6;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0x20e550,_0x31d30f,_0x267f89){return this['x']=_0x20e550['x']+_0x267f89*(_0x31d30f['x']-_0x20e550['x']),this['y']=_0x20e550['y']+_0x267f89*(_0x31d30f['y']-_0x20e550['y']),this['z']=_0x20e550['z']+_0x267f89*(_0x31d30f['z']-_0x20e550['z']),this;}['mul'](_0x186220){return this['x']*=_0x186220['x'],this['y']*=_0x186220['y'],this['z']*=_0x186220['z'],this;}['mul2'](_0x2bd35a,_0x580081){return this['x']=_0x2bd35a['x']*_0x580081['x'],this['y']=_0x2bd35a['y']*_0x580081['y'],this['z']=_0x2bd35a['z']*_0x580081['z'],this;}['mulScalar'](_0x28bf7d){return this['x']*=_0x28bf7d,this['y']*=_0x28bf7d,this['z']*=_0x28bf7d,this;}['normalize'](_0x4fffce=this){const _0x38e9a6=_0x4fffce['x']*_0x4fffce['x']+_0x4fffce['y']*_0x4fffce['y']+_0x4fffce['z']*_0x4fffce['z'];if(_0x38e9a6>-0x1*-0x11f1+0x1a*-0x121+0xb69){const _0x12c49b=(-0x1abb+-0x5e6+0x20a2)/Math['sqrt'](_0x38e9a6);this['x']=_0x4fffce['x']*_0x12c49b,this['y']=_0x4fffce['y']*_0x12c49b,this['z']=_0x4fffce['z']*_0x12c49b;}return this;}['floor'](_0x3f1f27=this){return this['x']=Math['floor'](_0x3f1f27['x']),this['y']=Math['floor'](_0x3f1f27['y']),this['z']=Math['floor'](_0x3f1f27['z']),this;}['ceil'](_0x58591f=this){return this['x']=Math['ceil'](_0x58591f['x']),this['y']=Math['ceil'](_0x58591f['y']),this['z']=Math['ceil'](_0x58591f['z']),this;}['round'](_0x3fcb4a=this){return this['x']=Math['round'](_0x3fcb4a['x']),this['y']=Math['round'](_0x3fcb4a['y']),this['z']=Math['round'](_0x3fcb4a['z']),this;}['min'](_0x58292d){return _0x58292d['x']<this['x']&&(this['x']=_0x58292d['x']),_0x58292d['y']<this['y']&&(this['y']=_0x58292d['y']),_0x58292d['z']<this['z']&&(this['z']=_0x58292d['z']),this;}['max'](_0x169314){return _0x169314['x']>this['x']&&(this['x']=_0x169314['x']),_0x169314['y']>this['y']&&(this['y']=_0x169314['y']),_0x169314['z']>this['z']&&(this['z']=_0x169314['z']),this;}['project'](_0xc08a19){const _0x36661f=this['x']*_0xc08a19['x']+this['y']*_0xc08a19['y']+this['z']*_0xc08a19['z'],_0x24515f=_0xc08a19['x']*_0xc08a19['x']+_0xc08a19['y']*_0xc08a19['y']+_0xc08a19['z']*_0xc08a19['z'],_0x8d9566=_0x36661f/_0x24515f;return this['x']=_0xc08a19['x']*_0x8d9566,this['y']=_0xc08a19['y']*_0x8d9566,this['z']=_0xc08a19['z']*_0x8d9566,this;}['set'](_0x24aceb,_0x758286,_0x4c3509){return this['x']=_0x24aceb,this['y']=_0x758286,this['z']=_0x4c3509,this;}['sub'](_0x1c3fa3){return this['x']-=_0x1c3fa3['x'],this['y']-=_0x1c3fa3['y'],this['z']-=_0x1c3fa3['z'],this;}['sub2'](_0x49d35e,_0x53b834){return this['x']=_0x49d35e['x']-_0x53b834['x'],this['y']=_0x49d35e['y']-_0x53b834['y'],this['z']=_0x49d35e['z']-_0x53b834['z'],this;}['subScalar'](_0x29d1ce){return this['x']-=_0x29d1ce,this['y']-=_0x29d1ce,this['z']-=_0x29d1ce,this;}['fromArray'](_0x5c0150,_0x3563fe=-0x1e71+0x32*-0x1+0x1ea3){return this['x']=_0x5c0150[_0x3563fe]??this['x'],this['y']=_0x5c0150[_0x3563fe+(-0xe5*0x4+-0xca0+0x1035)]??this['y'],this['z']=_0x5c0150[_0x3563fe+(-0x349+0x6*0x65d+-0x22e3)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x1bb3cb=[],_0x302ae1=0x1aaa+0x837*-0x1+-0x1273){return _0x1bb3cb[_0x302ae1]=this['x'],_0x1bb3cb[_0x302ae1+(-0x1810+-0x1b08+0x3319*0x1)]=this['y'],_0x1bb3cb[_0x302ae1+(-0x5fe+0x24d9+-0x1ed9)]=this['z'],_0x1bb3cb;}};h(wt,'ZERO',Object['freeze'](new wt(-0xdc3+0x1c9+-0x1ff*-0x6,-0x2056*-0x1+-0x2e3*-0x3+-0x28ff,0xfd4+0x3cd*0x2+0x176e*-0x1))),h(wt,'HALF',Object['freeze'](new wt(0x1587+-0x20b8+0x23d*0x5+0.5,0x1*0x7b4+0x33b*0x1+-0xaef*0x1+0.5,-0x8d1*0x4+-0x1*0x4ef+-0x1*-0x2833+0.5))),h(wt,'ONE',Object['freeze'](new wt(-0x4*0x569+0xefc+0x6a9,0x8d*-0x2d+-0x16a6+0x2f70,0x1d1e+0x16d9+0x2e3*-0x12))),h(wt,'UP',Object['freeze'](new wt(0x109e+0x1a31*0x1+-0x2acf,-0x1*0x66+-0x1bea+-0xb*-0x293,0x2405+0x3ca+-0x27cf))),h(wt,'DOWN',Object['freeze'](new wt(-0x247e+-0x3a*-0x2f+0x19d8,-(-0xe*-0x28d+0x833+-0x2be8),-0x2a+0x4*0x43c+-0x10c6))),h(wt,'RIGHT',Object['freeze'](new wt(-0xb6b+-0xa2a+-0x133*-0x12,-0xf84+0x3cd+0xbb7,-0x2370+-0x1bec+-0x656*-0xa))),h(wt,'LEFT',Object['freeze'](new wt(-(-0x12a8+0x1*-0x112+0x1*0x13bb),-0x19ee+-0xe3*-0x27+-0x5*0x1bb,-0x1*-0x1cce+0x6d1+-0x239f))),h(wt,'FORWARD',Object['freeze'](new wt(0xed1*0x1+0x1024+-0x1ef5,-0x19fe+-0x1fd3+0x39d1,-(-0x2659*0x1+0x176c+0xeee)))),h(wt,'BACK',Object['freeze'](new wt(-0x518+-0x1b47*0x1+0x205f*0x1,0x1ce8+-0x231a+0x632,-0xa*-0x2de+0x3*-0xb34+0x4f1)));let D=wt;const gn=class gn{constructor(){h(this,'data',new Float32Array(0x1d27+-0x68e+0xb48*-0x2)),this['data'][-0x16*0x16d+0x7*0x3fa+0x388]=this['data'][0x10f+0xe5a+-0xf65]=this['data'][-0x26b2+-0x125d+0x3917]=-0x1e*-0xe5+0x1041+-0x2b16;}['clone'](){const _0xda5e2d=this['constructo'+'r'];return new _0xda5e2d()['copy'](this);}['copy'](_0x2ba164){const _0x20bab6=_0x2ba164['data'],_0x10b316=this['data'];return _0x10b316[0x1a+0xc08+0xc22*-0x1]=_0x20bab6[0x52a+0x5a2*-0x2+0x61a],_0x10b316[0x966+0x1*-0x10b+0x85a*-0x1]=_0x20bab6[-0x2325*-0x1+-0x9a7*0x4+0x94*0x6],_0x10b316[-0x2*0xde4+-0x1c6d*0x1+-0x9*-0x63f]=_0x20bab6[-0x19d*-0xb+0xe80+-0x15*0x189],_0x10b316[-0x5*-0x649+0xcff*-0x2+-0x2*0x2b6]=_0x20bab6[-0x846*-0x4+0x20e7+-0x41fc],_0x10b316[-0x1*-0x92c+-0x2*0x74c+0x74*0xc]=_0x20bab6[0x4f1+0xb*-0x38d+-0x1111*-0x2],_0x10b316[-0x4f2+-0xcd8+0x11cf]=_0x20bab6[-0x334+0xbc1+-0x8*0x111],_0x10b316[-0x174a+-0x3f*0x35+0x29*0xe3]=_0x20bab6[0x1cab+0x255*0xe+-0x3d4b],_0x10b316[-0x1fbc+0x1*0x1c3+0x4*0x780]=_0x20bab6[0x326+0x1*-0xe3c+0xb1d],_0x10b316[0x4*-0x7a2+0x6e6*0x4+-0x5f*-0x8]=_0x20bab6[-0x3*0xb42+-0x4ee*0x2+-0x3*-0xe8e],this;}['set'](_0x3d7f50){const _0x55f4d5=this['data'];return _0x55f4d5[0x5*0x64d+-0xb*0x29e+0x2b7*-0x1]=_0x3d7f50[-0x10*-0x130+0x1533+0x1*-0x2833],_0x55f4d5[-0x1866*-0x1+0x5c1+-0x1e26]=_0x3d7f50[0x1*0x1e+0x1*-0xfa7+0xf8a],_0x55f4d5[-0x485*0x1+0x7*0x425+-0x187c]=_0x3d7f50[-0x28*-0x7b+0x49*0x7e+-0x3724],_0x55f4d5[-0x15*0xdd+-0x2173+-0x1*-0x3397]=_0x3d7f50[0x10*-0x7b+-0x1c91+0x2444],_0x55f4d5[0xbc3+-0x267f+0x1ac0]=_0x3d7f50[0x1*0x13ef+0x393+-0x177e],_0x55f4d5[0x5*0x257+-0xbf*0x2+-0xa30]=_0x3d7f50[-0x2*0x63d+-0xb36+0x17b5],_0x55f4d5[-0x1*-0x257+-0x235*0xd+0x1a60]=_0x3d7f50[0x1a*0xa1+-0x1*-0x18d5+-0x2929],_0x55f4d5[0x4*-0x3f2+-0x610+-0x1fd*-0xb]=_0x3d7f50[0xda4+-0x14d2+0x735],_0x55f4d5[-0xaf4+-0x21e1+0x2cdd]=_0x3d7f50[0x338+-0x24b0+0x2180],this;}['getX'](_0x4d473d=new D()){return _0x4d473d['set'](this['data'][0x708+0x68e*-0x2+-0x614*-0x1],this['data'][-0x14e0*0x1+0x3*-0x832+0x2d77],this['data'][-0x9bc+-0x11*-0xc7+-0x379]);}['getY'](_0x476dd1=new D()){return _0x476dd1['set'](this['data'][-0x359*-0x6+0x1cbd+-0x30d0],this['data'][0xb*0x13f+0x1*0x20b1+-0x2e62*0x1],this['data'][-0x899+0x136e*-0x1+0x1c0c]);}['getZ'](_0x2208eb=new D()){return _0x2208eb['set'](this['data'][0x2312+0x224e+-0x21a*0x21],this['data'][0x1b0e*-0x1+0x4c*-0x61+-0xb2d*-0x5],this['data'][0xf30+0xfff+-0x63b*0x5]);}['equals'](_0x525013){const _0x48d719=this['data'],_0xc1cdf3=_0x525013['data'];return _0x48d719[-0xe03+0x1*-0x118c+0x1f8f]===_0xc1cdf3[0x18b2+0x310*-0x1+0x6*-0x39b]&&_0x48d719[-0x14f*-0x10+-0x9c2*-0x2+0x2873*-0x1]===_0xc1cdf3[0x1592+-0x8ed+-0xca4]&&_0x48d719[0x1a6e+-0x7c*-0x3+-0x20*0xdf]===_0xc1cdf3[0x1*-0x472+0x9e*0x37+0xebf*-0x2]&&_0x48d719[0x4d*0x4a+0x1b*0xbf+0x1532*-0x2]===_0xc1cdf3[0x1*-0x1f31+0x237*-0x4+0x502*0x8]&&_0x48d719[-0x1*-0xff7+-0xe2*0x16+0x379]===_0xc1cdf3[0x1ea5+-0x13b6+-0xaeb]&&_0x48d719[-0x14a8+-0x1604+0x2ab1]===_0xc1cdf3[0x205e+-0x1*0x2e9+-0x1d70]&&_0x48d719[-0x707+0x8e4*-0x1+0xff1]===_0xc1cdf3[-0x9e*0x29+-0xb3a+0x1*0x248e]&&_0x48d719[0xd9*-0x3+0x1*0xe2f+-0x3*0x3df]===_0xc1cdf3[-0x5*-0x383+0x4*-0x8b4+0x4*0x452]&&_0x48d719[-0x13e+-0x628*0x2+0x1*0xd96]===_0xc1cdf3[0x1f13+-0x15b3+-0x958];}['isIdentity'](){const _0x44b71b=this['data'];return _0x44b71b[-0x760+0x6d0+-0x10*-0x9]===-0xd70*0x1+-0xe94+-0x957*-0x3&&_0x44b71b[0x1865+0x15*0x1cf+0x1*-0x3e5f]===-0x2057+-0x1d94+0x3deb&&_0x44b71b[-0xa96+0x19*-0x3b+0x105b*0x1]===-0xc0d+-0xf56+0x1b63&&_0x44b71b[-0x7*0xd5+0x22bc+0xe73*-0x2]===-0xa74*0x1+-0x19e+0x406*0x3&&_0x44b71b[0x873+-0x1e*0xd7+-0x10c3*-0x1]===-0x17*0x65+-0x2658+0x2f6c&&_0x44b71b[-0x168*0x1+-0x15*0x4c+0x7a9]===-0x2*0x521+-0x1f68+-0x14d5*-0x2&&_0x44b71b[0x9d*-0x16+0x7ea*-0x1+0x156e]===-0x1*0xdab+-0x4d0+0x127b&&_0x44b71b[-0x1bc9+0x2*-0xfad+0x2*0x1d95]===-0x1408+-0x269b+-0x373*-0x11&&_0x44b71b[0x1c6f+0x15a9+-0x3210]===-0xe67*0x1+-0x1ab0+0x2918;}['setIdentit'+'y'](){const _0x5d59fe=this['data'];return _0x5d59fe[-0x1*-0x1891+-0x1c*0x95+0x1d*-0x49]=-0x2552+-0x9b8+-0x2f0b*-0x1,_0x5d59fe[-0x266b+0x29*0x21+0x2123]=0x1f*-0x6b+0x2*0x939+-0x57d,_0x5d59fe[0x1425+0x3*0x16e+-0x186d]=-0x268f+-0x10bf+-0x1*-0x374e,_0x5d59fe[0x1bb9+0x1c09*0x1+-0xd5*0x43]=0x194*0x1+0x26ee+-0x3d*0xaa,_0x5d59fe[0x1*-0x427+0x3e0+-0xf*-0x5]=0x8a1+0x119b*0x1+0x1a3b*-0x1,_0x5d59fe[0x7*-0x26a+0x916+-0x5*-0x191]=0x13a0+0x1b70+-0x2f10,_0x5d59fe[-0x162d+-0xe0f+0x7*0x52e]=-0x25*0xe5+0x1*-0x2146+-0x425f*-0x1,_0x5d59fe[-0x99d*0x1+-0x382+0x63*0x22]=-0x737*-0x3+0x2d5+-0x187a*0x1,_0x5d59fe[-0xc83+0x733*0x3+-0x90e]=-0x238f+-0xf5*0x23+0x450f,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x86f4ca=this){const _0x5c41fb=_0x86f4ca['data'],_0x5a5f88=this['data'];if(_0x5c41fb===_0x5a5f88){let _0x3313b5;_0x3313b5=_0x5c41fb[-0x1*0x1c0f+-0xc4b*0x1+0x285b],_0x5a5f88[0x3*-0xb8d+0x1*0xb6c+0x173c]=_0x5c41fb[-0x1415+-0x1*-0x1d86+-0x96e],_0x5a5f88[-0x1ab4*-0x1+-0x13*-0xdd+0x2*-0x158c]=_0x3313b5,_0x3313b5=_0x5c41fb[-0x1a5*-0x5+-0x1*-0x151+-0x988],_0x5a5f88[0x266f+-0x10c7*0x1+0x146*-0x11]=_0x5c41fb[0xf9a+0x1159+0x1*-0x20ed],_0x5a5f88[0x1ba0+0x52c*-0x4+-0x6ea]=_0x3313b5,_0x3313b5=_0x5c41fb[0x20cd+0x16a*0x12+-0x3a3c*0x1],_0x5a5f88[-0xf95+-0x2*-0xff4+-0x104e*0x1]=_0x5c41fb[0x24df+0x1e06+0x42de*-0x1],_0x5a5f88[0x7*0x3f1+-0xc31+-0xf5f]=_0x3313b5;}else _0x5a5f88[-0x8fc+-0x24*-0x91+-0xb68]=_0x5c41fb[-0x497+0x1f00+0x1a69*-0x1],_0x5a5f88[0xc37+-0x2589+0x1953]=_0x5c41fb[0xf07+0x1*-0x1b91+0x165*0x9],_0x5a5f88[0x479+-0x1e76+-0x533*-0x5]=_0x5c41fb[0x116*-0x13+-0x9fa+0x2*0xf51],_0x5a5f88[-0x5*0x361+-0x18fd+-0x27*-0x113]=_0x5c41fb[0x540+0x55*0x3b+-0x18d6],_0x5a5f88[-0x2*0xcc0+-0x994+0x2318]=_0x5c41fb[0x1c0+0x7*0x175+-0xbef],_0x5a5f88[0x15a5+-0x4*-0x59a+-0x2c08]=_0x5c41fb[0x2*0x7ab+0x3*-0x246+-0x87d],_0x5a5f88[-0x1*-0x6d3+0x1fcf+-0x269c]=_0x5c41fb[0x5f*0x7+0x125b+-0x14f2],_0x5a5f88[-0x1f77+0x140b+0xb73]=_0x5c41fb[0x4f*-0x6+-0x5b9*-0x6+-0x2077*0x1],_0x5a5f88[0x2581*-0x1+-0x1*-0x107+0x1241*0x2]=_0x5c41fb[-0x26*-0xbc+0x183*-0x6+-0x12ce];return this;}['setFromMat'+'4'](_0x26be29){const _0x459b4c=_0x26be29['data'],_0x3c485b=this['data'];return _0x3c485b[0x53*-0x3b+0x5*-0x9e+0x1637]=_0x459b4c[-0x54d+0x246f*0x1+-0x1f22],_0x3c485b[-0x1d35+0xc*0xf2+0x1*0x11de]=_0x459b4c[0x3b8*-0x7+-0x3c*0x61+-0x46f*-0xb],_0x3c485b[-0x2177+0x13dc+0xd9d]=_0x459b4c[-0x2*-0x11fd+-0x7a*0xa+-0x1f34],_0x3c485b[0x139a+0x26ae+-0x1*0x3a45]=_0x459b4c[-0x18b2+0xcb*0x30+-0x1*0xd5a],_0x3c485b[0xc63+0x41a+0x1*-0x1079]=_0x459b4c[-0x3*-0x977+0xbc2*0x2+0x52*-0xa2],_0x3c485b[-0xb4c+-0x28*-0x3d+-0x1c9*-0x1]=_0x459b4c[-0xb51*-0x1+0x849+-0x1394],_0x3c485b[0x4d6*-0x3+0x1615*0x1+-0x78d]=_0x459b4c[0x160f+0xdee+-0x23f5],_0x3c485b[-0x991*0x1+-0xc79+0x75b*0x3]=_0x459b4c[-0x2561+0x2*0xe09+-0x958*-0x1],_0x3c485b[0x1ce+-0xe52+-0x323*-0x4]=_0x459b4c[0x1fd*0x5+-0x1*-0x1243+-0x1c2a],this;}['setFromQua'+'t'](_0xb72bf4){const _0x1e80c6=_0xb72bf4['x'],_0x123c1c=_0xb72bf4['y'],_0x4727f5=_0xb72bf4['z'],_0x4fa46d=_0xb72bf4['w'],_0x439fcb=_0x1e80c6+_0x1e80c6,_0x32eb9a=_0x123c1c+_0x123c1c,_0x25c2d3=_0x4727f5+_0x4727f5,_0x57eff8=_0x1e80c6*_0x439fcb,_0x3deaff=_0x1e80c6*_0x32eb9a,_0x1fc1d2=_0x1e80c6*_0x25c2d3,_0x1d13cf=_0x123c1c*_0x32eb9a,_0x52ff41=_0x123c1c*_0x25c2d3,_0x1eba92=_0x4727f5*_0x25c2d3,_0x52d3c5=_0x4fa46d*_0x439fcb,_0x1398f7=_0x4fa46d*_0x32eb9a,_0x316b2f=_0x4fa46d*_0x25c2d3,_0x4e169a=this['data'];return _0x4e169a[0x68a*-0x2+0x23ef+-0x16db]=-0x19*0xd5+0x21d6+-0xd08-(_0x1d13cf+_0x1eba92),_0x4e169a[0xf8*0x13+0x4be+-0x1725]=_0x3deaff+_0x316b2f,_0x4e169a[0x878+-0x1070+0x3fd*0x2]=_0x1fc1d2-_0x1398f7,_0x4e169a[0x1471+0x978*-0x1+0x2*-0x57b]=_0x3deaff-_0x316b2f,_0x4e169a[0x1b7b+0x157d*-0x1+-0x5fa]=0x1b4c+-0x149e+0x1*-0x6ad-(_0x57eff8+_0x1eba92),_0x4e169a[0x3df*-0x5+0x9e7+-0x5*-0x1e5]=_0x52ff41+_0x52d3c5,_0x4e169a[0x1*-0x11de+-0x24d*0x8+0x244c]=_0x1fc1d2+_0x1398f7,_0x4e169a[-0x426+-0x15c3+0x19f0]=_0x52ff41-_0x52d3c5,_0x4e169a[-0xe79+-0x2e9*0x2+0x1453]=-0x1*-0x1609+-0x13a2+-0x266-(_0x57eff8+_0x1d13cf),this;}['invertMat4'](_0x293891){const _0x5e8205=_0x293891['data'],_0x5c64da=_0x5e8205[0x1aba+0x1dd5+-0x388f],_0x6da08e=_0x5e8205[-0x1ca6+0x1ba4+0x103],_0x183b9b=_0x5e8205[0x123d+-0x4c1*0x2+-0x8b9],_0x5ed337=_0x5e8205[0x44*0x4a+0x1*0xd9a+-0x213e],_0x392ebc=_0x5e8205[0x2170+0x1a9c+-0x3c07],_0x25d003=_0x5e8205[0x1a4*0x3+0x2f*0xca+-0x29fc],_0x1e47ab=_0x5e8205[0xb99*0x1+0xa2f+0x6*-0x3a0],_0x8e6d51=_0x5e8205[0x1f90+0xd6*-0x29+0x2bf],_0x1664fb=_0x5e8205[0x459*-0x4+-0xb*0x2dd+-0x4b*-0xa7],_0x58e464=_0x1664fb*_0x392ebc-_0x25d003*_0x8e6d51,_0x5286a3=-_0x1664fb*_0x6da08e+_0x183b9b*_0x8e6d51,_0x599fce=_0x25d003*_0x6da08e-_0x183b9b*_0x392ebc,_0x5f08bf=-_0x1664fb*_0x5ed337+_0x25d003*_0x1e47ab,_0x296157=_0x1664fb*_0x5c64da-_0x183b9b*_0x1e47ab,_0x224816=-_0x25d003*_0x5c64da+_0x183b9b*_0x5ed337,_0x61bbb=_0x8e6d51*_0x5ed337-_0x392ebc*_0x1e47ab,_0x489578=-_0x8e6d51*_0x5c64da+_0x6da08e*_0x1e47ab,_0x9c27af=_0x392ebc*_0x5c64da-_0x6da08e*_0x5ed337,_0x24bbef=_0x5c64da*_0x58e464+_0x6da08e*_0x5f08bf+_0x183b9b*_0x61bbb;if(_0x24bbef===0x14a0+-0x1*-0x20f6+-0x3596)this['setIdentit'+'y']();else{const _0x13d7b5=(-0x16f*0x10+0x16c0+0x31)/_0x24bbef,_0x44a7e5=this['data'];_0x44a7e5[0xb2*0x20+0x216d*0x1+-0x37ad*0x1]=_0x58e464*_0x13d7b5,_0x44a7e5[-0x3*-0x675+-0x1069+-0x2f5]=_0x5286a3*_0x13d7b5,_0x44a7e5[0x1476+-0x1a6f+-0x1*-0x5fb]=_0x599fce*_0x13d7b5,_0x44a7e5[-0x174c+-0x23b4+-0x3b03*-0x1]=_0x5f08bf*_0x13d7b5,_0x44a7e5[-0x24a5+0x1a6b+0x2e*0x39]=_0x296157*_0x13d7b5,_0x44a7e5[0x146+-0x2a3*0x6+0x21*0x71]=_0x224816*_0x13d7b5,_0x44a7e5[-0x724+0x73c+-0x12]=_0x61bbb*_0x13d7b5,_0x44a7e5[-0xde2*0x1+0xcce+0x11b]=_0x489578*_0x13d7b5,_0x44a7e5[0x1*-0xc79+0x1716+-0x7*0x183]=_0x9c27af*_0x13d7b5;}return this;}['transformV'+'ector'](_0x3c0475,_0x2ff9aa=new D()){const _0x24341f=this['data'],{x:_0x2d3eee,y:_0x54815c,z:_0x2ace6b}=_0x3c0475;return _0x2ff9aa['x']=_0x2d3eee*_0x24341f[-0x2478+-0x6*-0x3a1+0xeb2]+_0x54815c*_0x24341f[-0x23d8+-0x60b+-0x1f*-0x15a]+_0x2ace6b*_0x24341f[0x38*0x31+-0x1503+-0x1*-0xa51],_0x2ff9aa['y']=_0x2d3eee*_0x24341f[-0x1a57*-0x1+-0x43*-0x51+0x11b*-0x2b]+_0x54815c*_0x24341f[-0x1e7f*0x1+-0x1a8e+-0x1*-0x3911]+_0x2ace6b*_0x24341f[-0x353+0xfa7+-0xc4d],_0x2ff9aa['z']=_0x2d3eee*_0x24341f[0x2075+0x1bcb+-0x3c3e]+_0x54815c*_0x24341f[0x4b5*0x4+-0xe2*-0x17+0x11*-0x24d]+_0x2ace6b*_0x24341f[0xf08+0x1*0x6c6+-0x15c6],_0x2ff9aa;}};h(gn,'IDENTITY',Object['freeze'](new gn())),h(gn,'ZERO',Object['freeze'](new gn()['set']([-0x11f2+0xfa+0x10f8,-0x5*-0x2d+-0x16e2+0x2b*0x83,-0xd65*-0x1+-0x44c+-0x919,-0x2f*-0xa3+0x1*0x5a7+-0x2394*0x1,-0xcb0+0x4f*0x56+-0xdda,0xd97+-0x1*0xe5f+0xc8,-0x1*-0xcd3+0xaf2+0x1*-0x17c5,0xad9*-0x3+-0x1965*-0x1+-0x1*-0x726,0x1049+0x11*0x1b1+-0x5*0x902])));let _i=gn;const Gt=class Gt{constructor(_0x2aba71=-0x1*-0x1fe5+-0xec3+-0x1122,_0xe4482b=0x797+0x1ba6*-0x1+0x18b*0xd){h(this,'x'),h(this,'y'),_0x2aba71['length']===0x14*0x19d+-0x145c+0xbe6*-0x1?(this['x']=_0x2aba71[-0x16ec+-0x2142+0x382e],this['y']=_0x2aba71[-0x10ab+-0x182*-0x8+0x49c]):(this['x']=_0x2aba71,this['y']=_0xe4482b);}['add'](_0x15754f){return this['x']+=_0x15754f['x'],this['y']+=_0x15754f['y'],this;}['add2'](_0x5386a0,_0x1973b0){return this['x']=_0x5386a0['x']+_0x1973b0['x'],this['y']=_0x5386a0['y']+_0x1973b0['y'],this;}['addScalar'](_0xc672d4){return this['x']+=_0xc672d4,this['y']+=_0xc672d4,this;}['addScaled'](_0x16a71f,_0x1afa3b){return this['x']+=_0x16a71f['x']*_0x1afa3b,this['y']+=_0x16a71f['y']*_0x1afa3b,this;}['clone'](){const _0x3ad51b=this['constructo'+'r'];return new _0x3ad51b(this['x'],this['y']);}['copy'](_0x4bd413){return this['x']=_0x4bd413['x'],this['y']=_0x4bd413['y'],this;}['cross'](_0x1db808){return this['x']*_0x1db808['y']-this['y']*_0x1db808['x'];}['distance'](_0x5b2f55){const _0x386b5b=this['x']-_0x5b2f55['x'],_0x1cb57c=this['y']-_0x5b2f55['y'];return Math['sqrt'](_0x386b5b*_0x386b5b+_0x1cb57c*_0x1cb57c);}['div'](_0xa2ff4b){return this['x']/=_0xa2ff4b['x'],this['y']/=_0xa2ff4b['y'],this;}['div2'](_0xdce295,_0x10f6d9){return this['x']=_0xdce295['x']/_0x10f6d9['x'],this['y']=_0xdce295['y']/_0x10f6d9['y'],this;}['divScalar'](_0x3c677b){return this['x']/=_0x3c677b,this['y']/=_0x3c677b,this;}['dot'](_0xdf8237){return this['x']*_0xdf8237['x']+this['y']*_0xdf8237['y'];}['equals'](_0x26a67e){return this['x']===_0x26a67e['x']&&this['y']===_0x26a67e['y'];}['equalsAppr'+'ox'](_0xaf0af5,_0x7e8edf=-0x2685+0x4b5*-0x1+0x2b3a+0.000001){return Math['abs'](this['x']-_0xaf0af5['x'])<_0x7e8edf&&Math['abs'](this['y']-_0xaf0af5['y'])<_0x7e8edf;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x152736,_0xb40740,_0x5030b6){return this['x']=_0x152736['x']+_0x5030b6*(_0xb40740['x']-_0x152736['x']),this['y']=_0x152736['y']+_0x5030b6*(_0xb40740['y']-_0x152736['y']),this;}['mul'](_0x44d154){return this['x']*=_0x44d154['x'],this['y']*=_0x44d154['y'],this;}['mul2'](_0x1d260d,_0x5cf978){return this['x']=_0x1d260d['x']*_0x5cf978['x'],this['y']=_0x1d260d['y']*_0x5cf978['y'],this;}['mulScalar'](_0x3bf11a){return this['x']*=_0x3bf11a,this['y']*=_0x3bf11a,this;}['normalize'](_0x211f25=this){const _0x280275=_0x211f25['x']*_0x211f25['x']+_0x211f25['y']*_0x211f25['y'];if(_0x280275>0x1f28*-0x1+0xa*-0xa2+0x257c*0x1){const _0x273d0a=(0xe*0x89+-0x15b*-0xa+-0x150b)/Math['sqrt'](_0x280275);this['x']=_0x211f25['x']*_0x273d0a,this['y']=_0x211f25['y']*_0x273d0a;}return this;}['rotate'](_0x4c1cf6){const _0x1d4b10=Math['atan2'](this['x'],this['y'])+_0x4c1cf6*Y['DEG_TO_RAD'],_0x31218f=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x1d4b10)*_0x31218f,this['y']=Math['cos'](_0x1d4b10)*_0x31218f,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*Y['RAD_TO_DEG'];}['angleTo'](_0x1b2ddb){return Math['atan2'](this['x']*_0x1b2ddb['y']+this['y']*_0x1b2ddb['x'],this['x']*_0x1b2ddb['x']+this['y']*_0x1b2ddb['y'])*Y['RAD_TO_DEG'];}['floor'](_0x2a2235=this){return this['x']=Math['floor'](_0x2a2235['x']),this['y']=Math['floor'](_0x2a2235['y']),this;}['ceil'](_0x4e5b88=this){return this['x']=Math['ceil'](_0x4e5b88['x']),this['y']=Math['ceil'](_0x4e5b88['y']),this;}['round'](_0x2c82ae=this){return this['x']=Math['round'](_0x2c82ae['x']),this['y']=Math['round'](_0x2c82ae['y']),this;}['min'](_0xc8e943){return _0xc8e943['x']<this['x']&&(this['x']=_0xc8e943['x']),_0xc8e943['y']<this['y']&&(this['y']=_0xc8e943['y']),this;}['max'](_0xdd0733){return _0xdd0733['x']>this['x']&&(this['x']=_0xdd0733['x']),_0xdd0733['y']>this['y']&&(this['y']=_0xdd0733['y']),this;}['set'](_0x53e079,_0x293ece){return this['x']=_0x53e079,this['y']=_0x293ece,this;}['sub'](_0x2feefc){return this['x']-=_0x2feefc['x'],this['y']-=_0x2feefc['y'],this;}['sub2'](_0x5b6a72,_0x1a42fb){return this['x']=_0x5b6a72['x']-_0x1a42fb['x'],this['y']=_0x5b6a72['y']-_0x1a42fb['y'],this;}['subScalar'](_0x3d38f6){return this['x']-=_0x3d38f6,this['y']-=_0x3d38f6,this;}['fromArray'](_0x238d43,_0x5f1f2f=-0xa7*0x3b+-0xeab+-0x288*-0x15){return this['x']=_0x238d43[_0x5f1f2f]??this['x'],this['y']=_0x238d43[_0x5f1f2f+(0x1057+0x26db+0xc7*-0x47)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x274d79=[],_0x358a57=0x4d*-0xb+-0x1f31+0x2280){return _0x274d79[_0x358a57]=this['x'],_0x274d79[_0x358a57+(-0x2*0x1259+0x8b5+-0x1*-0x1bfe)]=this['y'],_0x274d79;}static['angleRad'](_0x1df7ba,_0xaa4d5e){return Math['atan2'](_0x1df7ba['x']*_0xaa4d5e['y']-_0x1df7ba['y']*_0xaa4d5e['x'],_0x1df7ba['x']*_0xaa4d5e['x']+_0x1df7ba['y']*_0xaa4d5e['y']);}};h(Gt,'ZERO',Object['freeze'](new Gt(0x1dbf+-0xafa+0x3c1*-0x5,0xbd7+0x2*-0x543+0x1*-0x151))),h(Gt,'HALF',Object['freeze'](new Gt(0x1*0x5d5+-0x1*0x19fd+0x1428+0.5,0x1*0x226d+-0x101*0x1+-0x216c+0.5))),h(Gt,'ONE',Object['freeze'](new Gt(-0x79e+-0x19*0x9b+0x16c2,-0x5e6+0x2591+-0x1faa))),h(Gt,'UP',Object['freeze'](new Gt(0x5d8*-0x2+0x21*-0x40+-0x2c*-0x74,0xfa*-0x1b+-0x22a8+0x3d07))),h(Gt,'DOWN',Object['freeze'](new Gt(-0x1*0x40f+0x7*-0x29d+0x165a,-(0x338+0x1*0x641+0x18*-0x65)))),h(Gt,'RIGHT',Object['freeze'](new Gt(-0x134a*-0x2+0xcf*0x30+-0x4d63,0x254e+-0x1230+-0x131e))),h(Gt,'LEFT',Object['freeze'](new Gt(-(0x8e9*0x4+0x13a0+-0x3743),0x20a5+0xe*-0x24a+0x9*-0x11)));let J=Gt;const pr=class pr{constructor(_0x562601=-0x1f*-0x12a+0xb*0xd1+-0x2d11,_0x3fdd0a=0x184f+-0x199f+0x150,_0x28df00=0x12+-0x3*0x7c9+0x3*0x7c3,_0x58f33f=-0xd2d+0x1*0x21e9+0xa5e*-0x2){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0x562601['length']===-0x5ce+-0xa*-0x2f7+-0x17d4?(this['x']=_0x562601[-0xb3b+0x1fa+0x67*0x17],this['y']=_0x562601[0x24b+0x4*0x502+0xb29*-0x2],this['z']=_0x562601[0x1ebd+-0x6*-0x2c5+0x1f*-0x187],this['w']=_0x562601[0x1*0x55d+0x1ad2+-0x8e*0x3a]):(this['x']=_0x562601,this['y']=_0x3fdd0a,this['z']=_0x28df00,this['w']=_0x58f33f);}['add'](_0x3719b6){return this['x']+=_0x3719b6['x'],this['y']+=_0x3719b6['y'],this['z']+=_0x3719b6['z'],this['w']+=_0x3719b6['w'],this;}['add2'](_0x5d502c,_0x2ee26a){return this['x']=_0x5d502c['x']+_0x2ee26a['x'],this['y']=_0x5d502c['y']+_0x2ee26a['y'],this['z']=_0x5d502c['z']+_0x2ee26a['z'],this['w']=_0x5d502c['w']+_0x2ee26a['w'],this;}['addScalar'](_0x32eb94){return this['x']+=_0x32eb94,this['y']+=_0x32eb94,this['z']+=_0x32eb94,this['w']+=_0x32eb94,this;}['addScaled'](_0x2f8b11,_0xad12c9){return this['x']+=_0x2f8b11['x']*_0xad12c9,this['y']+=_0x2f8b11['y']*_0xad12c9,this['z']+=_0x2f8b11['z']*_0xad12c9,this['w']+=_0x2f8b11['w']*_0xad12c9,this;}['clone'](){const _0xbba1cb=this['constructo'+'r'];return new _0xbba1cb(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x5c955b){return this['x']=_0x5c955b['x'],this['y']=_0x5c955b['y'],this['z']=_0x5c955b['z'],this['w']=_0x5c955b['w'],this;}['div'](_0x519126){return this['x']/=_0x519126['x'],this['y']/=_0x519126['y'],this['z']/=_0x519126['z'],this['w']/=_0x519126['w'],this;}['div2'](_0x4a1913,_0x49ce49){return this['x']=_0x4a1913['x']/_0x49ce49['x'],this['y']=_0x4a1913['y']/_0x49ce49['y'],this['z']=_0x4a1913['z']/_0x49ce49['z'],this['w']=_0x4a1913['w']/_0x49ce49['w'],this;}['divScalar'](_0x26d317){return this['x']/=_0x26d317,this['y']/=_0x26d317,this['z']/=_0x26d317,this['w']/=_0x26d317,this;}['dot'](_0x514cf4){return this['x']*_0x514cf4['x']+this['y']*_0x514cf4['y']+this['z']*_0x514cf4['z']+this['w']*_0x514cf4['w'];}['equals'](_0x51c8a8){return this['x']===_0x51c8a8['x']&&this['y']===_0x51c8a8['y']&&this['z']===_0x51c8a8['z']&&this['w']===_0x51c8a8['w'];}['equalsAppr'+'ox'](_0x3930dc,_0xf53927=0x1*0x11b7+-0xfda+-0x1dd+0.000001){return Math['abs'](this['x']-_0x3930dc['x'])<_0xf53927&&Math['abs'](this['y']-_0x3930dc['y'])<_0xf53927&&Math['abs'](this['z']-_0x3930dc['z'])<_0xf53927&&Math['abs'](this['w']-_0x3930dc['w'])<_0xf53927;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x38c15d,_0xbfab3e,_0x1f1dfc){return this['x']=_0x38c15d['x']+_0x1f1dfc*(_0xbfab3e['x']-_0x38c15d['x']),this['y']=_0x38c15d['y']+_0x1f1dfc*(_0xbfab3e['y']-_0x38c15d['y']),this['z']=_0x38c15d['z']+_0x1f1dfc*(_0xbfab3e['z']-_0x38c15d['z']),this['w']=_0x38c15d['w']+_0x1f1dfc*(_0xbfab3e['w']-_0x38c15d['w']),this;}['mul'](_0x7b5e74){return this['x']*=_0x7b5e74['x'],this['y']*=_0x7b5e74['y'],this['z']*=_0x7b5e74['z'],this['w']*=_0x7b5e74['w'],this;}['mul2'](_0x44d8aa,_0x222c15){return this['x']=_0x44d8aa['x']*_0x222c15['x'],this['y']=_0x44d8aa['y']*_0x222c15['y'],this['z']=_0x44d8aa['z']*_0x222c15['z'],this['w']=_0x44d8aa['w']*_0x222c15['w'],this;}['mulScalar'](_0x5b2b2a){return this['x']*=_0x5b2b2a,this['y']*=_0x5b2b2a,this['z']*=_0x5b2b2a,this['w']*=_0x5b2b2a,this;}['normalize'](_0x3c67c1=this){const _0x4fba2=_0x3c67c1['x']*_0x3c67c1['x']+_0x3c67c1['y']*_0x3c67c1['y']+_0x3c67c1['z']*_0x3c67c1['z']+_0x3c67c1['w']*_0x3c67c1['w'];if(_0x4fba2>0x104e+0x1e32+-0x2e80){const _0x47894a=(0x730+0x831+0x148*-0xc)/Math['sqrt'](_0x4fba2);this['x']=_0x3c67c1['x']*_0x47894a,this['y']=_0x3c67c1['y']*_0x47894a,this['z']=_0x3c67c1['z']*_0x47894a,this['w']=_0x3c67c1['w']*_0x47894a;}return this;}['floor'](_0x347a1f=this){return this['x']=Math['floor'](_0x347a1f['x']),this['y']=Math['floor'](_0x347a1f['y']),this['z']=Math['floor'](_0x347a1f['z']),this['w']=Math['floor'](_0x347a1f['w']),this;}['ceil'](_0x4430d1=this){return this['x']=Math['ceil'](_0x4430d1['x']),this['y']=Math['ceil'](_0x4430d1['y']),this['z']=Math['ceil'](_0x4430d1['z']),this['w']=Math['ceil'](_0x4430d1['w']),this;}['round'](_0x121d2d=this){return this['x']=Math['round'](_0x121d2d['x']),this['y']=Math['round'](_0x121d2d['y']),this['z']=Math['round'](_0x121d2d['z']),this['w']=Math['round'](_0x121d2d['w']),this;}['min'](_0x23d07a){return _0x23d07a['x']<this['x']&&(this['x']=_0x23d07a['x']),_0x23d07a['y']<this['y']&&(this['y']=_0x23d07a['y']),_0x23d07a['z']<this['z']&&(this['z']=_0x23d07a['z']),_0x23d07a['w']<this['w']&&(this['w']=_0x23d07a['w']),this;}['max'](_0x3d7d8b){return _0x3d7d8b['x']>this['x']&&(this['x']=_0x3d7d8b['x']),_0x3d7d8b['y']>this['y']&&(this['y']=_0x3d7d8b['y']),_0x3d7d8b['z']>this['z']&&(this['z']=_0x3d7d8b['z']),_0x3d7d8b['w']>this['w']&&(this['w']=_0x3d7d8b['w']),this;}['set'](_0x21a01b,_0x3793a7,_0x5ca351,_0x3d4c14){return this['x']=_0x21a01b,this['y']=_0x3793a7,this['z']=_0x5ca351,this['w']=_0x3d4c14,this;}['sub'](_0xa34077){return this['x']-=_0xa34077['x'],this['y']-=_0xa34077['y'],this['z']-=_0xa34077['z'],this['w']-=_0xa34077['w'],this;}['sub2'](_0x5ea589,_0x323b43){return this['x']=_0x5ea589['x']-_0x323b43['x'],this['y']=_0x5ea589['y']-_0x323b43['y'],this['z']=_0x5ea589['z']-_0x323b43['z'],this['w']=_0x5ea589['w']-_0x323b43['w'],this;}['subScalar'](_0x357ccf){return this['x']-=_0x357ccf,this['y']-=_0x357ccf,this['z']-=_0x357ccf,this['w']-=_0x357ccf,this;}['fromArray'](_0x390853,_0x4414c8=0x1044+-0x419*-0x9+0xf*-0x38b){return this['x']=_0x390853[_0x4414c8]??this['x'],this['y']=_0x390853[_0x4414c8+(-0x1c9c+-0x19cf*0x1+0x366c)]??this['y'],this['z']=_0x390853[_0x4414c8+(-0x20*-0x110+-0x1aac+-0x752)]??this['z'],this['w']=_0x390853[_0x4414c8+(-0x19ce+-0x2*0x7b6+0x293d)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0xca5d33=[],_0x2bd410=0x7d6+0x1fd*-0x13+-0xf*-0x1ff){return _0xca5d33[_0x2bd410]=this['x'],_0xca5d33[_0x2bd410+(-0x2325+0x6b*-0x5a+-0x4*-0x1231)]=this['y'],_0xca5d33[_0x2bd410+(0xfa9*0x1+-0x404*-0x6+-0x37*0xb9)]=this['z'],_0xca5d33[_0x2bd410+(-0x16d6+0x12bd+-0x1*-0x41c)]=this['w'],_0xca5d33;}};h(pr,'ZERO',Object['freeze'](new pr(-0x1eeb*0x1+-0x1*0x2663+0x22a7*0x2,0x400*-0x1+0x289+0x177,0x250e+-0xae0+0x8ba*-0x3,-0x743+0x2441+-0x1cfe))),h(pr,'HALF',Object['freeze'](new pr(-0x1ed0+-0x4a8+0x8*0x46f+0.5,0x46a*-0x3+0x7*0x513+-0x1647+0.5,-0x13c6+-0x1393+0x2759+0.5,0x31*-0x7c+0xf57+0x865+0.5))),h(pr,'ONE',Object['freeze'](new pr(0x1*0x25f5+-0xcd3*-0x3+-0x1*0x4c6d,0x2*-0x20f+0x931+-0x2*0x289,0x1f14+-0x2668+0x755,-0x771+-0x9*0x16f+0x1459)));let re=pr;const to=new J(),Os=new D(),Js=new D(),ei=new D(),Hl=new D(),Qr=class Qr{constructor(){h(this,'data',new Float32Array(-0x303*-0x5+-0x21eb*0x1+-0x4*-0x4bb)),this['data'][0x8*-0x39f+0x1*-0x11a6+0x2e9e]=this['data'][-0x2443+-0x35a+0x27a2]=this['data'][-0x1d73+0xbf8*0x1+0x45*0x41]=this['data'][0x1463+-0x1*-0x250d+-0x25*0x18d]=0x43*-0x2+-0xd9+0x160;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0x5462a3,_0x4409ba,_0x5a0e60,_0x2cf428,_0x5ba7a0){_0x5ba7a0?(_0x5462a3['x']=_0x2cf428*Math['tan'](_0x4409ba*Math['PI']/(0xaa0*-0x3+0x152*-0x12+0x390c)),_0x5462a3['y']=_0x5462a3['x']/_0x5a0e60):(_0x5462a3['y']=_0x2cf428*Math['tan'](_0x4409ba*Math['PI']/(0x11*-0x2b+-0x1*-0xebf+0xb*-0xf4)),_0x5462a3['x']=_0x5462a3['y']*_0x5a0e60);}['add2'](_0x47f32d,_0x3ac660){const _0x7625f6=_0x47f32d['data'],_0x2518de=_0x3ac660['data'],_0x55a2df=this['data'];return _0x55a2df[-0x8c4+-0xb05+-0x1*-0x13c9]=_0x7625f6[0x19c*-0x12+0x5*-0x1+-0x1*-0x1cfd]+_0x2518de[0x2527+-0x1e0a+-0x71d],_0x55a2df[0x498+0xc75*-0x1+0x7de]=_0x7625f6[-0x4*0x3f6+-0xe*-0x149+0x3d*-0x9]+_0x2518de[0x4*0x2e2+0x89*0x1+0x1*-0xc10],_0x55a2df[0x2b*-0x4+-0x232b+-0x23d9*-0x1]=_0x7625f6[0x2*-0x180+0x995+-0x693]+_0x2518de[0x2*-0x957+0x2d0*-0x8+0x2930],_0x55a2df[-0x5*0x1cf+0x2e1*0xd+-0x1c5f]=_0x7625f6[-0xfb7*-0x2+0x88d*0x3+0x1306*-0x3]+_0x2518de[0x1bb+0x1f*0x119+0x1*-0x23bf],_0x55a2df[-0x6c3+0x24b2+0x3*-0x9f9]=_0x7625f6[-0x1*-0x20a9+0x204c+-0x40f1]+_0x2518de[-0x1*-0x1114+0xc4*0x2f+-0x2a7*0x14],_0x55a2df[-0xc94*0x1+0x2d+0xc6c]=_0x7625f6[0x1c08+0x2646+-0x4249]+_0x2518de[0x21c2+-0x6c8+-0x1af5],_0x55a2df[0x5*0xc7+0x1a3d+-0x1*0x1e1a]=_0x7625f6[-0x1758+-0x1f*0x6d+-0x1*-0x2491]+_0x2518de[-0x1d68+-0x9d*0x1+0x1e0b],_0x55a2df[0x3f8+0xa*-0x2fb+0x19dd]=_0x7625f6[-0x9*-0x1da+-0x83*-0x26+-0x1*0x2415]+_0x2518de[0x958+0x789*-0x5+0x1c5c],_0x55a2df[-0x11e9+0xed2+-0x31f*-0x1]=_0x7625f6[-0x1*0xd6d+0x10ce+-0x359]+_0x2518de[0x1134+0xb9d+0x1*-0x1cc9],_0x55a2df[0x3d8+0x2*0x103e+-0x244b]=_0x7625f6[-0x2226*0x1+-0x241d+-0x664*-0xb]+_0x2518de[-0x552+-0x3*-0x7ae+-0x11af],_0x55a2df[0x3ca+0x22f+-0x1f*0x31]=_0x7625f6[-0x3d*-0x49+0x19f2+0xe6f*-0x3]+_0x2518de[-0x3*0x520+-0x1b87+-0x2af1*-0x1],_0x55a2df[-0x451*0x5+-0x2557*0x1+0x3af7]=_0x7625f6[-0x253c+0x1cfb+0x84c]+_0x2518de[0x2127+-0x7*0x4a3+-0xa7],_0x55a2df[-0xcb0+0x260b*0x1+-0x194f]=_0x7625f6[0xff8+0x1*0x67f+-0x166b]+_0x2518de[0x85a+-0xa1a+0x1cc],_0x55a2df[0x766*0x1+0x1f0b*-0x1+-0x9*-0x2a2]=_0x7625f6[-0xce9+-0x1*0x3c7+0x10bd*0x1]+_0x2518de[-0x1*0x1615+-0x1*0xcc8+0x1175*0x2],_0x55a2df[0x727+0x1b96+-0x22af]=_0x7625f6[0x1231+0x1830+-0x2a53]+_0x2518de[-0xf8+0xce3*-0x3+0x27af],_0x55a2df[0xba*0x2e+-0x5cc*-0x3+0x3*-0x10eb]=_0x7625f6[0x976+-0x32*-0xb+-0x1*0xb8d]+_0x2518de[0x2b*-0x9f+-0x193+0x1c57],this;}['add'](_0x582654){return this['add2'](this,_0x582654);}['clone'](){const _0x2560eb=this['constructo'+'r'];return new _0x2560eb()['copy'](this);}['copy'](_0x3d006d){const _0x2b23d6=_0x3d006d['data'],_0x7d9222=this['data'];return _0x7d9222[-0xe2d+-0x26ba+-0x34e7*-0x1]=_0x2b23d6[-0x12b3+0xc2*0x2+-0x53*-0x35],_0x7d9222[-0xf8f+0x1*0xd15+0x27b*0x1]=_0x2b23d6[-0xe27*-0x2+0x3af*-0x1+0x17*-0x112],_0x7d9222[0x1*-0x74d+-0x1a0b+0x215a]=_0x2b23d6[-0x19a7*0x1+0x1883+-0x6*-0x31],_0x7d9222[0xbcd+-0x4f*0x5c+-0xfa*-0x11]=_0x2b23d6[-0x1d99*-0x1+0x1ce3+-0x3a79],_0x7d9222[0x37d*0x7+-0x1f87+0x260*0x3]=_0x2b23d6[-0x319*-0xb+0x1cd*-0x13+0x2*0x14],_0x7d9222[-0xdd*0xf+-0xbc*-0xf+-0x1*-0x1f4]=_0x2b23d6[0x20*-0xa1+-0x6b6+-0x113*-0x19],_0x7d9222[0x252b*0x1+-0xef*0xd+-0x61*0x42]=_0x2b23d6[0xd*0xa9+-0x3fe*-0x6+0x29*-0xcb],_0x7d9222[-0x2369+-0x1*0x6b+0x43*0x89]=_0x2b23d6[-0x1826*0x1+-0x9fa*-0x1+0xe33*0x1],_0x7d9222[-0x899+0x7*-0x17c+-0x1*-0x1305]=_0x2b23d6[-0x2066+-0x137*0x1a+0x4004],_0x7d9222[-0xa+0x1ef2+0x469*-0x7]=_0x2b23d6[0x2*-0x1135+0x25a9+-0x336],_0x7d9222[0x714*-0x3+-0x1*-0xd61+0x7e5]=_0x2b23d6[0x1855*0x1+-0xe8c+0x9bf*-0x1],_0x7d9222[-0x8*0x41d+-0x6*0x458+-0x1*-0x3b03]=_0x2b23d6[0x53f+-0x4*-0x874+-0x2704],_0x7d9222[-0xbc7+-0x71*-0x6+0x92d]=_0x2b23d6[0x171*-0x14+-0x1831+0x3511],_0x7d9222[-0x277*-0x1+0xb71*0x3+-0x759*0x5]=_0x2b23d6[0x5*0x4de+0x188e*0x1+-0x30d7],_0x7d9222[-0x532+-0x1bee+-0x2*-0x1097]=_0x2b23d6[-0x2fc*-0x1+0x6cc+-0x2*0x4dd],_0x7d9222[-0x6af+0x1853*0x1+-0x1195]=_0x2b23d6[0x10e8+0x12a8+-0x95*0x3d],this;}['equals'](_0x24eb1e){const _0x29de54=this['data'],_0x4c8a6b=_0x24eb1e['data'];return _0x29de54[0x15*0xf1+0xb2*-0x5+0x104b*-0x1]===_0x4c8a6b[0x2*0x11c9+0x1386+-0x52*0xac]&&_0x29de54[0x2f*-0x46+-0x236*-0x11+-0x18bb]===_0x4c8a6b[0x52*0x2+0x4*0x81e+0x71*-0x4b]&&_0x29de54[-0xfc7+-0x2237+0x3200]===_0x4c8a6b[-0x5*-0x2c5+0x24c+-0x1*0x1023]&&_0x29de54[-0x1726+-0x5*0x9+0x1756]===_0x4c8a6b[-0x3*-0x768+0x2*0x10bd+-0x37af]&&_0x29de54[-0x12bb*-0x2+-0x3*-0x7c9+-0x3ccd]===_0x4c8a6b[0xd4f+-0xc1f+-0x12c]&&_0x29de54[-0x23fe+-0x3*0x48b+0x31a4]===_0x4c8a6b[-0x191d+0x185e+0x7*0x1c]&&_0x29de54[-0x180e+-0x65*0x29+0x2841]===_0x4c8a6b[-0x5*0x323+0x867+0xbb*0xa]&&_0x29de54[0x1*0x5dd+-0x1*0xedd+0x1*0x907]===_0x4c8a6b[0x1*-0x303+-0x33*0x85+0x1d89]&&_0x29de54[0xe5*0x9+0xe50+-0x1655]===_0x4c8a6b[0xbf*-0x1c+0x12ac+0x240]&&_0x29de54[-0x2409+0x8a4+0x1b6e]===_0x4c8a6b[0x822+0x1bd*-0x11+0x1574]&&_0x29de54[-0x2*-0xdd3+0xbf3*0x3+-0x3f75]===_0x4c8a6b[0x2*-0x6be+-0x2*0x7eb+-0x1*-0x1d5c]&&_0x29de54[-0x1*-0x1fcb+0x2*-0x21d+-0x1b86]===_0x4c8a6b[-0x1cd+0x7*-0x445+-0x1fbb*-0x1]&&_0x29de54[0x10fe+-0x1107*0x2+-0x36c*-0x5]===_0x4c8a6b[-0x244d*-0x1+0x2b*0x9e+-0x1*0x3ecb]&&_0x29de54[-0x1bd4+-0x5d3+0x59e*0x6]===_0x4c8a6b[0x1*0x26f5+0x2*-0x9af+0x29*-0x7a]&&_0x29de54[-0x1ad9+0x1b*0xbf+0x6c2]===_0x4c8a6b[0x111b*-0x1+0xf92+0x197]&&_0x29de54[-0x1e82+0x2*0x9d9+-0xadf*-0x1]===_0x4c8a6b[0x1890+-0x270c+0xe8b*0x1];}['isIdentity'](){const _0x44bac5=this['data'];return _0x44bac5[-0x19ae+-0xb24+-0x24d2*-0x1]===0x1692+0x945*-0x3+0x29f*0x2&&_0x44bac5[0xd5e+0x18e*0xa+-0x1ce9]===0x216f+0x26*-0xa7+0x8a5*-0x1&&_0x44bac5[-0xc1*-0x1e+0x13*0x57+0x1d11*-0x1]===-0x17d*-0x3+-0x1c2f+0x2e*0x84&&_0x44bac5[0x1*-0x664+-0x9e*0x2+0x7a3]===0x1adc+-0x1af2+0x16*0x1&&_0x44bac5[-0x2559+-0x11d6+-0x1*-0x3733]===-0x67a+0xdc4*0x1+-0x74a&&_0x44bac5[-0x10dc+-0x1ccb+0x2dac]===0x1358+0x7fa+-0x1b51&&_0x44bac5[0x23b*-0x1+-0x1*0x217d+0x23be]===0x48*0x5+-0x5*0x7c3+0x2567&&_0x44bac5[-0x23e7*0x1+-0x59*0x53+0x40c9]===-0xb*0x89+0x2df+0x304&&_0x44bac5[0x1136+0x1a32+-0x2b60]===0x1*-0x2669+-0x25da+0x4c43&&_0x44bac5[0xc65*0x2+0x1*-0x58f+-0x1332]===0xce*0x2b+-0x2208+0x92*-0x1&&_0x44bac5[-0x1a4d*-0x1+0x1378+-0x2dbb*0x1]===0x102d+-0x2*-0x3d5+-0x71*0x36&&_0x44bac5[0x187a+0x107*-0x1f+0x1a*0x49]===-0x1bb*-0x9+0x191f*-0x1+-0x2*-0x4c6&&_0x44bac5[-0xb15+0x1f9b*0x1+-0x147a]===0x17*-0xd1+0x2353+-0x1*0x108c&&_0x44bac5[-0x105*-0xc+-0x469*-0x2+-0x1*0x1501]===-0x1*-0x123e+0x1917+-0x2b55&&_0x44bac5[-0x7*0x368+0x1051+-0x287*-0x3]===-0x1ef8+0x53*0x2+0x1e52&&_0x44bac5[-0x17*0x15b+-0x2*0xac3+0x34c2]===0x2206+-0x1369*0x1+-0xe9c;}['mul2'](_0x2dffbb,_0x426c35){const _0x12a6e1=_0x2dffbb['data'],_0x33d051=_0x426c35['data'],_0x145619=this['data'],_0x220492=_0x12a6e1[0xeae+0xc9c+0x1b4a*-0x1],_0x2ea10a=_0x12a6e1[0x7c6+-0x23f1*0x1+0x1c2c],_0x23eb3e=_0x12a6e1[-0x23d*-0x5+-0x1b3c+0x100d],_0x594b32=_0x12a6e1[0x1*-0x22bd+-0x166+0x2426],_0x5894fe=_0x12a6e1[-0x1bdb+0xc1a*-0x1+-0x17b*-0x1b],_0x3e89c3=_0x12a6e1[-0x1327*0x1+-0x136a+0x2696],_0x47fffa=_0x12a6e1[0x11e0+-0x2148+0xf6e],_0x2c1e5b=_0x12a6e1[0x14b9+-0x10f1*-0x1+-0xeb*0x29],_0x4749c4=_0x12a6e1[-0x1ece+-0xf26+0x2dfc],_0x249b91=_0x12a6e1[0x108b+-0x1723+0x6a1],_0x166a74=_0x12a6e1[-0x237c+-0xd9f+0x3125],_0x3f622c=_0x12a6e1[-0x1*-0xa35+-0xb0d*-0x2+-0x2044],_0x21789f=_0x12a6e1[-0x19ea+-0x2344+0x1*0x3d3a],_0x592420=_0x12a6e1[-0x1bef*-0x1+-0x2499+-0x1*-0x8b7],_0x162966=_0x12a6e1[-0x75*0x1e+0x148d*-0x1+-0x6dd*-0x5],_0x5ce33f=_0x12a6e1[0x26ee+-0xc2f+-0x1ab0];let _0x43c67d,_0x25c8a6,_0x52116e,_0x1ff28b;return _0x43c67d=_0x33d051[-0xf49*-0x1+-0x3*0x532+0x4d],_0x25c8a6=_0x33d051[-0x1d34+0x7*0x20+0x1c55],_0x52116e=_0x33d051[0x2*-0x12c1+0x4e9*-0x3+0x19*0x217],_0x1ff28b=_0x33d051[0x20d5*-0x1+-0x3*0x4a0+-0x2*-0x175c],_0x145619[0x3*0x12c+-0x26a4+0x2320]=_0x220492*_0x43c67d+_0x5894fe*_0x25c8a6+_0x4749c4*_0x52116e+_0x21789f*_0x1ff28b,_0x145619[0x1d95+-0x2*0x517+-0x1366]=_0x2ea10a*_0x43c67d+_0x3e89c3*_0x25c8a6+_0x249b91*_0x52116e+_0x592420*_0x1ff28b,_0x145619[-0x791*-0x2+0xad9+0x3d*-0x6d]=_0x23eb3e*_0x43c67d+_0x47fffa*_0x25c8a6+_0x166a74*_0x52116e+_0x162966*_0x1ff28b,_0x145619[0x1afd+0x196e+0x27*-0x158]=_0x594b32*_0x43c67d+_0x2c1e5b*_0x25c8a6+_0x3f622c*_0x52116e+_0x5ce33f*_0x1ff28b,_0x43c67d=_0x33d051[0x14e+0x1*0x1d3+0x31d*-0x1],_0x25c8a6=_0x33d051[-0x199+-0xa03*0x3+0x1fa7],_0x52116e=_0x33d051[0x21a7+0x209e+-0x423f],_0x1ff28b=_0x33d051[0x21c7*-0x1+-0x1b25+0x3cf3],_0x145619[0x46a*-0x8+0x242e+-0xda]=_0x220492*_0x43c67d+_0x5894fe*_0x25c8a6+_0x4749c4*_0x52116e+_0x21789f*_0x1ff28b,_0x145619[-0x2237+-0x38f+0x2d*0xd7]=_0x2ea10a*_0x43c67d+_0x3e89c3*_0x25c8a6+_0x249b91*_0x52116e+_0x592420*_0x1ff28b,_0x145619[-0x13a8+-0x6d4+0x46b*0x6]=_0x23eb3e*_0x43c67d+_0x47fffa*_0x25c8a6+_0x166a74*_0x52116e+_0x162966*_0x1ff28b,_0x145619[0x19de+-0x12*-0x89+-0x3*0xbd3]=_0x594b32*_0x43c67d+_0x2c1e5b*_0x25c8a6+_0x3f622c*_0x52116e+_0x5ce33f*_0x1ff28b,_0x43c67d=_0x33d051[0x21f8+0x1761+-0x3951],_0x25c8a6=_0x33d051[-0x1bdf+0x56*0x1b+-0x1*-0x12d6],_0x52116e=_0x33d051[-0x17e*-0x7+0xa7a*0x2+-0x1f5c],_0x1ff28b=_0x33d051[-0x1feb+-0x1e9+0x17*0x179],_0x145619[0x3*0x452+-0x10a8+0x1*0x3ba]=_0x220492*_0x43c67d+_0x5894fe*_0x25c8a6+_0x4749c4*_0x52116e+_0x21789f*_0x1ff28b,_0x145619[0x22fd+-0xa9*0x2b+-0x29*0x29]=_0x2ea10a*_0x43c67d+_0x3e89c3*_0x25c8a6+_0x249b91*_0x52116e+_0x592420*_0x1ff28b,_0x145619[0x137d+-0x5ed*-0x1+0xcb*-0x20]=_0x23eb3e*_0x43c67d+_0x47fffa*_0x25c8a6+_0x166a74*_0x52116e+_0x162966*_0x1ff28b,_0x145619[-0x12fc+-0xa44+0x1*0x1d4b]=_0x594b32*_0x43c67d+_0x2c1e5b*_0x25c8a6+_0x3f622c*_0x52116e+_0x5ce33f*_0x1ff28b,_0x43c67d=_0x33d051[0x222f+0x2416*-0x1+0x1f3*0x1],_0x25c8a6=_0x33d051[-0x1b6a+0x18d6+0x2a1*0x1],_0x52116e=_0x33d051[0x2226+-0x8fb+0x1*-0x191d],_0x1ff28b=_0x33d051[-0x23bd+-0x16*0x42+0x2978],_0x145619[-0x1284+-0x2501+0x3791]=_0x220492*_0x43c67d+_0x5894fe*_0x25c8a6+_0x4749c4*_0x52116e+_0x21789f*_0x1ff28b,_0x145619[-0xcfe+0x1*0x518+-0x1*-0x7f3]=_0x2ea10a*_0x43c67d+_0x3e89c3*_0x25c8a6+_0x249b91*_0x52116e+_0x592420*_0x1ff28b,_0x145619[0x5ff*0x1+0x143+-0x734]=_0x23eb3e*_0x43c67d+_0x47fffa*_0x25c8a6+_0x166a74*_0x52116e+_0x162966*_0x1ff28b,_0x145619[0x17cc+0x1*-0x10d5+-0x6e8]=_0x594b32*_0x43c67d+_0x2c1e5b*_0x25c8a6+_0x3f622c*_0x52116e+_0x5ce33f*_0x1ff28b,this;}['mulAffine2'](_0x307926,_0x18b55f){const _0x4553ac=_0x307926['data'],_0x36cbf4=_0x18b55f['data'],_0x10af40=this['data'],_0x58e270=_0x4553ac[0x1*0xe2f+0x1de*-0xd+-0x35d*-0x3],_0x2ea9ff=_0x4553ac[0x2*0x1191+-0x176b+-0xbb6],_0x2d1e73=_0x4553ac[-0xd13+-0xe0a+-0x35*-0x83],_0x40f5d3=_0x4553ac[-0x1a54+-0x1a*0x52+0x4f4*0x7],_0x50eaf8=_0x4553ac[-0x1d29*-0x1+0x2361+-0x4085*0x1],_0x25a1cb=_0x4553ac[-0x26a5+0x19ba+0x1*0xcf1],_0xbfe9da=_0x4553ac[-0x48*-0x10+0x15fa+-0x1a72*0x1],_0x457db7=_0x4553ac[0xb33*0x3+0x1104+0x437*-0xc],_0x4b935b=_0x4553ac[0x1d9*-0x7+0x1*-0x4e4+0x11dd],_0x22df57=_0x4553ac[-0x15ef+-0x2cc*-0xc+0x251*-0x5],_0x992cec=_0x4553ac[0x605+0x1*0x37e+0x15a*-0x7],_0x52c8db=_0x4553ac[-0xf3f+-0x1*0x12d3+-0x4e0*-0x7];let _0x431ae7,_0x40bd5c,_0x2d3246;return _0x431ae7=_0x36cbf4[-0x1*-0x31e+-0x20e2+0x1dc4],_0x40bd5c=_0x36cbf4[0x224+-0x629+0x67*0xa],_0x2d3246=_0x36cbf4[0x44d*-0x6+0x4*-0x94a+-0x34*-0x136],_0x10af40[-0xed*0x3+-0x111c+0x6a1*0x3]=_0x58e270*_0x431ae7+_0x40f5d3*_0x40bd5c+_0xbfe9da*_0x2d3246,_0x10af40[0x73*-0x11+0x1c10+-0x2*0xa36]=_0x2ea9ff*_0x431ae7+_0x50eaf8*_0x40bd5c+_0x457db7*_0x2d3246,_0x10af40[0x2cf*-0x6+0x1a80+-0x1*0x9a4]=_0x2d1e73*_0x431ae7+_0x25a1cb*_0x40bd5c+_0x4b935b*_0x2d3246,_0x10af40[-0x26bd+0x1*0xdc4+-0x215*-0xc]=0x1db2+0x457*0x1+-0x2209,_0x431ae7=_0x36cbf4[0x5cb*0x5+-0x1*-0xd42+-0x2a35],_0x40bd5c=_0x36cbf4[0x1cde+-0x172d*-0x1+-0x3406],_0x2d3246=_0x36cbf4[-0xbd+0xeef+-0x1*0xe2c],_0x10af40[-0x1*-0xe8b+0x1a88+-0x17*0x1c9]=_0x58e270*_0x431ae7+_0x40f5d3*_0x40bd5c+_0xbfe9da*_0x2d3246,_0x10af40[0x1*-0x1777+-0x2621+0x3d9d]=_0x2ea9ff*_0x431ae7+_0x50eaf8*_0x40bd5c+_0x457db7*_0x2d3246,_0x10af40[0x182c*-0x1+0x1*0x551+-0x1*-0x12e1]=_0x2d1e73*_0x431ae7+_0x25a1cb*_0x40bd5c+_0x4b935b*_0x2d3246,_0x10af40[-0x10d6+0xe*0x65+0xb57]=0x843*-0x1+0x10e0+-0x89d,_0x431ae7=_0x36cbf4[-0x1*-0x1c97+-0x17cd+-0x4c2],_0x40bd5c=_0x36cbf4[0x17c0*-0x1+0xb*0x16e+0x1*0x80f],_0x2d3246=_0x36cbf4[-0xcf9*0x3+0x1c*-0xfd+0x42a1],_0x10af40[-0xa*-0x23b+-0x14ef+-0x157]=_0x58e270*_0x431ae7+_0x40f5d3*_0x40bd5c+_0xbfe9da*_0x2d3246,_0x10af40[0x16d+-0x3*0x6b+-0x7*0x5]=_0x2ea9ff*_0x431ae7+_0x50eaf8*_0x40bd5c+_0x457db7*_0x2d3246,_0x10af40[0x1*0x23c8+0x2262+-0x4620]=_0x2d1e73*_0x431ae7+_0x25a1cb*_0x40bd5c+_0x4b935b*_0x2d3246,_0x10af40[0xafa+-0x187+-0x968]=-0x1364+0xbea+-0xb*-0xae,_0x431ae7=_0x36cbf4[-0x18e+-0x1db5*-0x1+-0x1c1b],_0x40bd5c=_0x36cbf4[0x152f+-0x5fb*0x2+0x24b*-0x4],_0x2d3246=_0x36cbf4[-0x21a*0x6+-0x181c+-0x1*-0x24c6],_0x10af40[-0xc63+0x1a5d+-0x2*0x6f7]=_0x58e270*_0x431ae7+_0x40f5d3*_0x40bd5c+_0xbfe9da*_0x2d3246+_0x22df57,_0x10af40[-0x1*-0x22ed+0x61c+-0x28fc]=_0x2ea9ff*_0x431ae7+_0x50eaf8*_0x40bd5c+_0x457db7*_0x2d3246+_0x992cec,_0x10af40[0xf88+0x2377*0x1+-0x9*0x5a9]=_0x2d1e73*_0x431ae7+_0x25a1cb*_0x40bd5c+_0x4b935b*_0x2d3246+_0x52c8db,_0x10af40[-0x9c4+-0x21bb*-0x1+-0x17e8]=0xe37+-0x1*-0x1153+0xcf*-0x27,this;}['mul'](_0x17db7e){return this['mul2'](this,_0x17db7e);}['transformP'+'oint'](_0x4f3d3d,_0x5de198=new D()){const _0x6eeb30=this['data'],{x:_0x4433be,y:_0x2ced40,z:_0x4d6e9b}=_0x4f3d3d;return _0x5de198['x']=_0x4433be*_0x6eeb30[0x1b93+-0xb87+0x806*-0x2]+_0x2ced40*_0x6eeb30[0xf5d+-0x3c1*0x9+0x1270]+_0x4d6e9b*_0x6eeb30[-0x1a5e+0x5*0x54f+-0x25]+_0x6eeb30[0x158f+0x225c+-0x37df],_0x5de198['y']=_0x4433be*_0x6eeb30[0x1*-0x1433+0xa5c+-0x6*-0x1a4]+_0x2ced40*_0x6eeb30[-0x1ec0+-0x28d*0xa+0x1*0x3847]+_0x4d6e9b*_0x6eeb30[-0x1dfe+0xae8+-0x131f*-0x1]+_0x6eeb30[0xc5e+0x1*-0x1de6+0x1195*0x1],_0x5de198['z']=_0x4433be*_0x6eeb30[0x26f3+-0x3*-0x649+0x4d1*-0xc]+_0x2ced40*_0x6eeb30[-0x225c+0xc6f+0x15f3]+_0x4d6e9b*_0x6eeb30[0x56a+0x229e+0x13ff*-0x2]+_0x6eeb30[-0x127b+0x23f7+-0x2*0x8b7],_0x5de198;}['transformV'+'ector'](_0x46653f,_0x95117e=new D()){const _0x13c7c9=this['data'],{x:_0x13b04e,y:_0x5621a1,z:_0x19babb}=_0x46653f;return _0x95117e['x']=_0x13b04e*_0x13c7c9[0x5de+-0x5*-0x92+0x18*-0x5d]+_0x5621a1*_0x13c7c9[0x1005+0x1*0x7ea+-0x17eb]+_0x19babb*_0x13c7c9[-0x1*-0x1124+-0x5e2+-0x59d*0x2],_0x95117e['y']=_0x13b04e*_0x13c7c9[-0xad3+-0x1*0x128+0xec*0xd]+_0x5621a1*_0x13c7c9[-0x1fb*-0x3+0xb*0x26f+-0x20b1]+_0x19babb*_0x13c7c9[0x2507+-0x1fe4*-0x1+-0x44e2],_0x95117e['z']=_0x13b04e*_0x13c7c9[-0x5d7+-0x96+0x9*0xb7]+_0x5621a1*_0x13c7c9[0x1*-0x20b1+-0x2*-0x5fe+0x14bb]+_0x19babb*_0x13c7c9[-0x271+-0x1*-0x1f87+0x2c*-0xa9],_0x95117e;}['transformV'+'ec4'](_0x453b02,_0x363925=new re()){const _0xcaaec3=this['data'],{x:_0x41d8de,y:_0x5972ed,z:_0x2e85c8,w:_0xc47122}=_0x453b02;return _0x363925['x']=_0x41d8de*_0xcaaec3[0x2003+0x116f+-0x3172*0x1]+_0x5972ed*_0xcaaec3[0x2178+0x856+-0x29ca]+_0x2e85c8*_0xcaaec3[0x1e52+0x584*-0x1+0xc63*-0x2]+_0xc47122*_0xcaaec3[-0xd*-0x5+0x2152*0x1+-0x2187],_0x363925['y']=_0x41d8de*_0xcaaec3[-0x7cd*0x1+-0x204c+-0xd5e*-0x3]+_0x5972ed*_0xcaaec3[0x1e87+-0x1*-0x6f2+0x12ba*-0x2]+_0x2e85c8*_0xcaaec3[0x2592+0x2180+0xe35*-0x5]+_0xc47122*_0xcaaec3[-0x10*0x25a+0x3ee+0x21bf],_0x363925['z']=_0x41d8de*_0xcaaec3[-0x874+-0x6d*-0x3b+0x5*-0x355]+_0x5972ed*_0xcaaec3[0x19f0+-0x66*-0x59+-0x1*0x3d60]+_0x2e85c8*_0xcaaec3[-0x2224+-0x2524+0x4752]+_0xc47122*_0xcaaec3[-0x1738*-0x1+0x3e*-0x1d+-0x812*0x2],_0x363925['w']=_0x41d8de*_0xcaaec3[0x10*0x146+-0x8c9+-0xb94]+_0x5972ed*_0xcaaec3[0x1*-0x1c9d+0x25ab*0x1+-0x1*0x907]+_0x2e85c8*_0xcaaec3[-0x2*0x1283+-0x1*0x1f1b+0x1*0x442c]+_0xc47122*_0xcaaec3[0x3*-0xadb+0x5d7+0x1ac9],_0x363925;}['setLookAt'](_0x37665a,_0xbf8ddf,_0x14606a){ei['sub2'](_0x37665a,_0xbf8ddf)['normalize'](),Js['copy'](_0x14606a)['normalize'](),Os['cross'](Js,ei)['normalize'](),Js['cross'](ei,Os);const _0x5d2418=this['data'];return _0x5d2418[-0x75f*0x1+-0x129b+-0x26*-0xaf]=Os['x'],_0x5d2418[-0x1b30+0xd*-0x11b+-0x85*-0x50]=Os['y'],_0x5d2418[-0x255b+0x15cc+0x31d*0x5]=Os['z'],_0x5d2418[-0x1*0x4cd+0x1495+0xb*-0x16f]=0x1*-0x6c5+-0x14e3+0x1ba8,_0x5d2418[-0xbda+-0x72+0x8*0x18a]=Js['x'],_0x5d2418[-0x1a8c+-0x3d*-0x1f+0x132e]=Js['y'],_0x5d2418[0xfec*-0x2+0x1*0x1013+0x1*0xfcb]=Js['z'],_0x5d2418[-0x7b+-0x101*0x8+-0x445*-0x2]=0x64*0x8+0xf24+-0x1244,_0x5d2418[-0x1354+-0x249b+0x37f7]=ei['x'],_0x5d2418[0xd7e+-0x26d+-0x8*0x161]=ei['y'],_0x5d2418[-0x795*0x2+0x139e+-0x46a]=ei['z'],_0x5d2418[-0x1e3e+-0x1*-0x79+0x1dd0]=0x12*0x6d+0xa22*0x1+-0x4*0x473,_0x5d2418[-0xe77+-0x26dd*-0x1+-0x185a]=_0x37665a['x'],_0x5d2418[-0x104f*-0x1+0x1d2f+-0x2d71]=_0x37665a['y'],_0x5d2418[-0x3*-0x766+-0x1dad+0x789]=_0x37665a['z'],_0x5d2418[0x27a*0x1+0x29*0xe3+-0x26c6]=-0x212b+0x5b3+-0xd*-0x21d,this;}['setFrustum'](_0x5bfc3d,_0x3fc64b,_0x469542,_0x21ef8f,_0x54b10d,_0x42fbd7){const _0x585ed5=(-0x678+-0x1421+0x1a9b)*_0x54b10d,_0x97363c=_0x3fc64b-_0x5bfc3d,_0x2aee96=_0x21ef8f-_0x469542,_0x34493e=_0x42fbd7-_0x54b10d,_0x37383d=this['data'];return _0x37383d[0x168e+0x1638+-0x2cc6*0x1]=_0x585ed5/_0x97363c,_0x37383d[-0x1ed4+-0x8e4+0x27b9]=-0x23bf+0x5*-0x179+-0x2b1c*-0x1,_0x37383d[0x1e2a+0xdbd+-0x2be5]=0x1*0x2fd+0x1267+0x94*-0x25,_0x37383d[-0x631*-0x1+0x1*0x1808+-0x1e36]=-0xbbc+-0x1*0x128+0x16*0x96,_0x37383d[0x3a9*-0x1+0xd6+0x2d7]=-0x1*-0x5f3+0x71*-0x1d+0x1*0x6da,_0x37383d[0x255+-0x1e35*-0x1+-0x22b*0xf]=_0x585ed5/_0x2aee96,_0x37383d[-0x7*-0x1e+-0x2*-0x1f1+-0x1*0x4ae]=0xe20*0x2+0x787+-0x23c7,_0x37383d[-0x3*-0x7d2+-0x40*-0x91+-0x3baf]=0x480+0x1edd+-0x235d,_0x37383d[-0x52*0x5c+-0x270d*-0x1+-0x98d]=(_0x3fc64b+_0x5bfc3d)/_0x97363c,_0x37383d[0x1*-0x898+-0x1b1*-0x6+-0x185]=(_0x21ef8f+_0x469542)/_0x2aee96,_0x37383d[-0x95a+-0xe8+0xa4c]=(-_0x42fbd7-_0x54b10d)/_0x34493e,_0x37383d[-0x1b32+-0x1404+-0x2f41*-0x1]=-(-0x16bc+-0x1*-0x2452+0x13*-0xb7),_0x37383d[0xe1f+0x1131+-0x1f44]=-0x2427+0x6*-0x446+0x3dcb,_0x37383d[0xc64+-0x4*-0x1b7+0x5*-0x3d7]=0x1223+-0x1*0x92b+0x7*-0x148,_0x37383d[-0x250c+-0x118+0x2*0x1319]=-_0x585ed5*_0x42fbd7/_0x34493e,_0x37383d[-0x14cf+-0x319+0x1*0x17f7]=-0xf9*0x17+-0x5af+0x36*0x85,this;}['setPerspec'+'tive'](_0x2f4e50,_0x17479c,_0x18cff5,_0x319e77,_0x51813e){return Qr['_getPerspe'+'ctiveHalfS'+'ize'](to,_0x2f4e50,_0x17479c,_0x18cff5,_0x51813e),this['setFrustum'](-to['x'],to['x'],-to['y'],to['y'],_0x18cff5,_0x319e77);}['setOrtho'](_0x14c035,_0x1646ce,_0x17d8da,_0x1da5aa,_0x9ae768,_0x1194ae){const _0x56e428=this['data'];return _0x56e428[-0x2214+-0x1*-0x93b+-0x18d9*-0x1]=(-0x207e+0x1518+0xb68)/(_0x1646ce-_0x14c035),_0x56e428[0xe0b+0xd3*-0x2c+0x163a]=-0x3*-0xaf+0x1a87*0x1+-0x1c94,_0x56e428[0x13e8+0x1610+-0x29f6*0x1]=-0x918+-0x11c1+0x1*0x1ad9,_0x56e428[0x5*-0x9d+0x1a55+-0x1741]=0x13ef+-0x1341*0x1+-0xae,_0x56e428[-0xf3d+0x22*-0x28+0x1491*0x1]=0x1*-0xc92+-0x181c+0xc3a*0x3,_0x56e428[0x13ec+0x272*-0xc+0x971]=(0x1*0x1526+-0x26*-0x1+-0x154a)/(_0x1da5aa-_0x17d8da),_0x56e428[-0x3*0x5e9+0x1b5c+-0x99b]=0x1332+-0x3*-0x2de+0xc*-0x251,_0x56e428[0x1*0x1654+-0x2ce+0xa1*-0x1f]=-0x1*-0x9cd+0x1bc+-0xb89,_0x56e428[-0x1dd1+-0xd*0x1cd+0x1*0x3542]=-0x1785+-0x83d+0xa96*0x3,_0x56e428[0x2*-0x1093+0x1b*-0x55+-0x1*-0x2a26]=0x14*0x72+-0xdb7*0x1+-0x4cf*-0x1,_0x56e428[0x17a2*-0x1+-0xfc1*-0x1+0x1*0x7eb]=-(-0x4*0x1d5+-0x1034+-0x178a*-0x1)/(_0x1194ae-_0x9ae768),_0x56e428[-0x120f+-0x3*-0xa29+0x1*-0xc61]=-0xd*-0xd3+-0x6e5*-0x1+-0x119c,_0x56e428[-0x1*0x2554+-0x20b3+0x4613*0x1]=-(_0x1646ce+_0x14c035)/(_0x1646ce-_0x14c035),_0x56e428[0x12a9*-0x1+-0x20d*-0x2+0xe9c]=-(_0x1da5aa+_0x17d8da)/(_0x1da5aa-_0x17d8da),_0x56e428[-0x1fed+-0x1*-0x248d+-0x492]=-(_0x1194ae+_0x9ae768)/(_0x1194ae-_0x9ae768),_0x56e428[-0x1*0x1dfb+0x220c+-0x402]=0x6b8+0x1*0x20f6+-0x27ad,this;}['setFromAxi'+'sAngle'](_0xcf8877,_0x477e9a){_0x477e9a*=Y['DEG_TO_RAD'];const {x:_0x25b465,y:_0x14c706,z:_0x3e95b8}=_0xcf8877,_0x19862a=Math['cos'](_0x477e9a),_0x5c8d72=Math['sin'](_0x477e9a),_0x3c7a21=0x1ca5*0x1+0x1*0x41b+-0x20bf-_0x19862a,_0x16c56a=_0x3c7a21*_0x25b465,_0x5979fb=_0x3c7a21*_0x14c706,_0x34877=this['data'];return _0x34877[-0x253d*-0x1+-0x12ef+-0x124e*0x1]=_0x16c56a*_0x25b465+_0x19862a,_0x34877[0x216f+-0x311+0x1e5d*-0x1]=_0x16c56a*_0x14c706+_0x5c8d72*_0x3e95b8,_0x34877[-0x1dd0+-0x1aec+0x64e*0x9]=_0x16c56a*_0x3e95b8-_0x5c8d72*_0x14c706,_0x34877[0x2395*-0x1+0x170b+0x9*0x165]=0x137c+0x3*0x36d+-0x1dc3*0x1,_0x34877[0x519*0x2+0xb*0x28a+-0x65a*0x6]=_0x16c56a*_0x14c706-_0x5c8d72*_0x3e95b8,_0x34877[0x7*-0x16c+-0x94*-0xd+0x275*0x1]=_0x5979fb*_0x14c706+_0x19862a,_0x34877[0xc8b+-0x1dd0+-0x13*-0xe9]=_0x5979fb*_0x3e95b8+_0x5c8d72*_0x25b465,_0x34877[0x34*0x7c+0xf19+-0x2842]=-0x1135+-0x23af+-0xa94*-0x5,_0x34877[0x1913+0x4ea+-0x1*0x1df5]=_0x16c56a*_0x3e95b8+_0x5c8d72*_0x14c706,_0x34877[-0x245+-0x23fa*-0x1+0x35e*-0xa]=_0x5979fb*_0x3e95b8-_0x25b465*_0x5c8d72,_0x34877[0x13ef+-0x1f20+0xb3b]=_0x3c7a21*_0x3e95b8*_0x3e95b8+_0x19862a,_0x34877[0x1*0x11e3+0x22*0x10d+0x3592*-0x1]=0x105d+-0x180e+-0x1*-0x7b1,_0x34877[0x1e9*0x9+-0x4*-0x3c8+0x2045*-0x1]=-0xef+-0x1*0x2d+-0x1*-0x11c,_0x34877[-0x12f9+-0x19d7+-0x1*-0x2cdd]=-0x220c+-0x1c66*0x1+0x2*0x1f39,_0x34877[-0x6e*-0x13+-0x1319+0xafd]=0x5ed+-0xb9+-0x534,_0x34877[0xd4*-0x1d+0x22c7+-0xab4]=-0x1334+-0xcf5+0x202a,this;}['setTransla'+'te'](_0x26b5e0,_0x2329c5,_0x1b9924){const _0x50b70b=this['data'];return _0x50b70b[-0x38f*0x9+0x15*0x55+0x190e]=0x1*0xfcb+-0x12b5+0x2eb,_0x50b70b[0x17dc*-0x1+0x18a7+-0xca]=0x1*0xf44+-0x2ab+-0xc99,_0x50b70b[-0x216d+0x1589*0x1+0x5f3*0x2]=0x1b65+-0x43*-0x5a+-0x32f3,_0x50b70b[-0x6bb+-0x2028+0x26e6]=0x2*0x43+0xf18+-0xf9e,_0x50b70b[0x10*0x10+0x240d+0x2509*-0x1]=-0xb*0x1a2+-0x264b*0x1+0x3841,_0x50b70b[0x1d82+-0x1*-0x113d+0x1*-0x2eba]=0x201a+-0x1486+0x1*-0xb93,_0x50b70b[0x3fb+0x5a3+-0x998]=-0x21*-0xc5+0x1*0xa52+-0x23b7,_0x50b70b[0x6bb*-0x2+0xc78+-0x3*-0x57]=-0x2*-0xb0c+0x2c7+-0x18df,_0x50b70b[-0xfa7*-0x1+-0x143*-0x14+0x1*-0x28db]=0xd3*-0x23+0x2*-0xcc2+-0x1*-0x365d,_0x50b70b[-0x43*-0x35+0x1279*-0x1+0x1*0x4a3]=0x23f5+-0x269*-0x6+-0x326b,_0x50b70b[0x1c4+0x76e+-0x928]=-0x17*-0x151+-0x1*-0xdfa+-0x2c40,_0x50b70b[-0x1ce4+-0x1557*-0x1+0x798*0x1]=0x20b*-0x9+0x3*0x9c7+-0xaf2,_0x50b70b[-0x236f*-0x1+0x40b*0x1+0x31*-0xce]=_0x26b5e0,_0x50b70b[0x5*0xef+-0x79*0x41+0x1a1b]=_0x2329c5,_0x50b70b[0x84*-0x3+0x1*-0x7b5+0x94f*0x1]=_0x1b9924,_0x50b70b[0x115d+0x47a+-0x15c8]=-0x29e*0x3+0x1*0x25d9+-0x1dfe,this;}['setScale'](_0x5a7256,_0x1c0182,_0x57bf72){const _0x2f17b6=this['data'];return _0x2f17b6[-0x431*0x5+0xc31+-0x3*-0x2ec]=_0x5a7256,_0x2f17b6[0x68b+0x1*0x16b2+0x1d3c*-0x1]=0x2c*0xd4+-0x6*0x1d5+-0x1972*0x1,_0x2f17b6[-0x4*0x55b+-0xde+-0x4*-0x593]=0x925*0x3+-0x222e+-0x6bf*-0x1,_0x2f17b6[-0xc1+-0x6*-0x57c+-0x2*0x1012]=-0x12e9+-0x1c5*0x4+0x19fd,_0x2f17b6[0x17c0+-0x953+-0xe69]=-0x1f*-0x3+0x16ea+-0x1747,_0x2f17b6[-0x2b*-0x71+0x1a19+-0x1*0x2d0f]=_0x1c0182,_0x2f17b6[-0x1325+-0x15c5*0x1+0x28f0]=-0xa90+0x268e+-0x1bfe,_0x2f17b6[0xf*0xc7+0x137d*0x1+0x1*-0x1f1f]=-0x20e4+-0x430*-0x2+-0x82c*-0x3,_0x2f17b6[0x26e*-0x1+-0x89*0xe+-0x1c*-0x5b]=-0x1d1a+0x1e1e+0x104*-0x1,_0x2f17b6[0x373+0x1e1d+-0x2187]=-0x1167+0x27f+0xee8,_0x2f17b6[-0xa47*-0x1+-0x1*0x26a9+0x1c6c*0x1]=_0x57bf72,_0x2f17b6[0x652+-0x22*-0xcb+-0x213d]=0x9*0x23b+-0xda6+0x5*-0x149,_0x2f17b6[-0x65e*0x6+-0x79d*0x1+0x2ddd]=-0x35*0x81+0x35*-0x53+0x2be4,_0x2f17b6[-0x8d3+0x17*-0x4+0x93c]=-0x403+-0x13bc*-0x1+-0xfb9,_0x2f17b6[-0x3*-0x61f+-0x1ba9*0x1+-0x26*-0x3f]=0x22d*0x10+0x698+0x1*-0x2968,_0x2f17b6[-0x191a+-0x1*-0xc41+0xce8]=0x22d*0x1+-0x3*-0x533+-0x1*0x11c5,this;}['setViewpor'+'t'](_0x15b061,_0x201963,_0x59fe2b,_0x25c6e6){const _0x3f3803=this['data'];return _0x3f3803[0x54d*0x7+-0x1894+-0xc87]=_0x59fe2b*(-0x1*-0x55d+0x1522+-0x1a7f+0.5),_0x3f3803[-0xd53+-0xfb*-0x19+0x199*-0x7]=-0x1cfd+-0x47*0x8b+0x438a,_0x3f3803[-0x2492+-0x151e+0x39b2]=0x5*-0x710+0x1078+0x12d8,_0x3f3803[-0x139*-0xd+0x2298*0x1+-0x327a]=0x784+0x157b+0xd*-0x23b,_0x3f3803[0x1382+-0x255+-0x1129]=0x1*-0x1f56+0x1*-0x15f1+0x3547,_0x3f3803[0x41*-0x73+-0x1b97+0x38cf]=_0x25c6e6*(0x1*0xb24+-0x26*0xe0+-0x2*-0xb0e+0.5),_0x3f3803[0x1b*0x163+-0x229c+-0x2cf*0x1]=-0x152e+-0x1*-0x29+0x1505,_0x3f3803[-0x26c5+-0xde0+0x34ac]=0x16b5*0x1+-0x1*0x2119+0x5*0x214,_0x3f3803[-0xf7*0x17+-0x19c6+0x2fff]=0x23f5+0x8ac+0x1*-0x2ca1,_0x3f3803[0x1e1a+0x1072+-0x2e83]=-0x1297+0x23c3*0x1+0x4*-0x44b,_0x3f3803[-0x2*-0x26f+0x3*0xa7a+-0x2442]=-0x1cd8+-0x15a2+0x327a+0.5,_0x3f3803[0x1a81+0x143d+0x2eb3*-0x1]=0x136b+-0x39d+-0xe*0x121,_0x3f3803[0x48d*0x4+-0x130*-0x7+-0x1a78]=_0x15b061+_0x59fe2b*(-0x13*-0xe5+-0x2628+-0x1*-0x1529+0.5),_0x3f3803[0x2*-0x106c+-0x1*-0xc23+0x14c2]=_0x201963+_0x25c6e6*(-0xe88+0x1*-0x1d5d+-0x1*-0x2be5+0.5),_0x3f3803[-0xfe0+-0x2*0x427+0x183c]=0xc37+-0x5*-0x661+-0x2c1c+0.5,_0x3f3803[0x189+-0x101f*0x2+0xb*0x2cc]=0xfd+-0x31c+0x220,this;}['setReflect'+'ion'](_0x238162,_0x440bc6){const _0x12ed1c=_0x238162['x'],_0x3b0b50=_0x238162['y'],_0x2c4647=_0x238162['z'],_0x3f1af7=this['data'];return _0x3f1af7[0x259*0x2+-0x26f3+0x2241]=0x352+-0x9e*0xd+-0x5*-0xf1-(0xbb6+-0x29*0x5d+0x331)*_0x12ed1c*_0x12ed1c,_0x3f1af7[0x6de*-0x4+-0x191e+0x3497]=-(-0x1*0x1c1+0x4e7+-0x10c*0x3)*_0x12ed1c*_0x3b0b50,_0x3f1af7[0x14e9*0x1+0xc47*-0x2+-0x5*-0xbb]=-(0x193b+-0x1eec*-0x1+0x9*-0x63d)*_0x12ed1c*_0x2c4647,_0x3f1af7[0x64*-0x7+-0x10*-0x41+-0x151]=-0x577+-0x3*0x223+0xbe0,_0x3f1af7[-0x1*0x25a0+0x2259+-0x119*-0x3]=-(-0x132*-0x1a+-0x227*0x1+-0x2a1*0xb)*_0x12ed1c*_0x3b0b50,_0x3f1af7[0x18e*0x11+-0x146*-0x16+-0x1*0x366d]=0x58*0x33+-0x2*-0xa04+-0x258f-(-0x1*-0x21a3+0x1d*0xb+-0x22e0)*_0x3b0b50*_0x3b0b50,_0x3f1af7[-0x2d*0x9+0x1*-0x9b1+0xb4c]=-(-0x145+0x1e5c+-0x1d15)*_0x3b0b50*_0x2c4647,_0x3f1af7[0xa17+-0x8fd+-0x113*0x1]=-0x61*0x4e+0x1*0x1c22+-0xd*-0x1c,_0x3f1af7[-0x7*-0x411+0x2*0x35b+0x2325*-0x1]=-(-0x1742+0x36*-0x51+0x285a)*_0x12ed1c*_0x2c4647,_0x3f1af7[0x4*-0x4a9+-0x42d*0x1+0x16da]=-(-0xfc+0xd8a+-0xc8c*0x1)*_0x3b0b50*_0x2c4647,_0x3f1af7[-0x1fc2+-0x813+0xad*0x3b]=-0x232a+-0x11b1+0x34dc*0x1-(0x8*0x2cf+0x543*-0x3+-0x6ad)*_0x2c4647*_0x2c4647,_0x3f1af7[0xa73+0x2357+-0x7*0x689]=0x169f+-0x6aa*-0x1+0x1b9*-0x11,_0x3f1af7[0x237c+-0x1c19*-0x1+-0x3f89]=-(0x1d56+0x132c+0xc20*-0x4)*_0x12ed1c*_0x440bc6,_0x3f1af7[0x17cb+0x270+-0x1a2e]=-(-0x3ef+-0x1*0x1d28+0x2119)*_0x3b0b50*_0x440bc6,_0x3f1af7[0x188d+-0x204b*-0x1+-0x977*0x6]=-(0x1b1*0x17+0x195a+-0x403f)*_0x2c4647*_0x440bc6,_0x3f1af7[-0x1*0x1c8d+-0x2*0x7d3+0x2c42]=-0x71*0x2+-0xdb*0x25+-0x46*-0x77,this;}['invert'](_0x1c06cf=this){const _0x591bcf=_0x1c06cf['data'],_0x1bf2dd=_0x591bcf[0x237+0x137b*-0x1+0x1144],_0x1a6d16=_0x591bcf[-0x108e+0x1*0xbb+0xfd4],_0xc805f6=_0x591bcf[0xdab+0x98a+-0x1733],_0xed761d=_0x591bcf[-0x5f3*0x5+-0x1435+0x31f7],_0x4ad943=_0x591bcf[0x198a+0xbdf+-0x2565],_0x3f3845=_0x591bcf[-0x17be+0x1*0x383+0x1440],_0x44c9d6=_0x591bcf[0x19c1+0x5d9*0x5+-0x36f8],_0x389b00=_0x591bcf[0xb9*-0x2c+0x2*-0x1380+-0x1*-0x46d3],_0x49d3d0=_0x591bcf[-0xd78+0x13*-0x1f0+0xa10*0x5],_0x9c0ec5=_0x591bcf[0x2690*0x1+-0x203e+-0x649*0x1],_0x279da6=_0x591bcf[0x1632+0x25b1+-0x3bd9],_0x35c538=_0x591bcf[0x1d5*-0x7+-0x574*-0x3+-0x37e],_0x53cc97=_0x591bcf[0x168+0x1d3*-0xb+0x12b5],_0x4764fa=_0x591bcf[0x772*0x4+0x19a*0x2+-0x20ef],_0x2c13fa=_0x591bcf[-0x3d*0x97+0xf34*0x1+0x14d5],_0x4eb2fe=_0x591bcf[-0x1*0x8fd+0x899*-0x1+0x11a5],_0x17f14f=_0x1bf2dd*_0x3f3845-_0x1a6d16*_0x4ad943,_0x356886=_0x1bf2dd*_0x44c9d6-_0xc805f6*_0x4ad943,_0x112b11=_0x1bf2dd*_0x389b00-_0xed761d*_0x4ad943,_0x191d36=_0x1a6d16*_0x44c9d6-_0xc805f6*_0x3f3845,_0x1f5af1=_0x1a6d16*_0x389b00-_0xed761d*_0x3f3845,_0x4f1c1b=_0xc805f6*_0x389b00-_0xed761d*_0x44c9d6,_0x6cc5fa=_0x49d3d0*_0x4764fa-_0x9c0ec5*_0x53cc97,_0x2f3c4c=_0x49d3d0*_0x2c13fa-_0x279da6*_0x53cc97,_0x322a96=_0x49d3d0*_0x4eb2fe-_0x35c538*_0x53cc97,_0x2e2fcd=_0x9c0ec5*_0x2c13fa-_0x279da6*_0x4764fa,_0x386f7b=_0x9c0ec5*_0x4eb2fe-_0x35c538*_0x4764fa,_0x3368e3=_0x279da6*_0x4eb2fe-_0x35c538*_0x2c13fa,_0x5bad26=_0x17f14f*_0x3368e3-_0x356886*_0x386f7b+_0x112b11*_0x2e2fcd+_0x191d36*_0x322a96-_0x1f5af1*_0x2f3c4c+_0x4f1c1b*_0x6cc5fa;if(_0x5bad26===0x23*-0x27+-0x1a7e*0x1+0x1fd3)this['setIdentit'+'y']();else{const _0x387e2f=(-0x268a+-0x13b+0x27c6)/_0x5bad26,_0x4a3ac8=this['data'];_0x4a3ac8[-0x270+0x5*0x1f4+-0x754]=(_0x3f3845*_0x3368e3-_0x44c9d6*_0x386f7b+_0x389b00*_0x2e2fcd)*_0x387e2f,_0x4a3ac8[0xc69+0xf49*-0x1+0x2e1]=(-_0x1a6d16*_0x3368e3+_0xc805f6*_0x386f7b-_0xed761d*_0x2e2fcd)*_0x387e2f,_0x4a3ac8[-0x5*-0x515+0x12*0x225+-0x4001]=(_0x4764fa*_0x4f1c1b-_0x2c13fa*_0x1f5af1+_0x4eb2fe*_0x191d36)*_0x387e2f,_0x4a3ac8[0x6d4+0x11b6+0xa1*-0x27]=(-_0x9c0ec5*_0x4f1c1b+_0x279da6*_0x1f5af1-_0x35c538*_0x191d36)*_0x387e2f,_0x4a3ac8[0x14b6*0x1+0x522+-0x19d4]=(-_0x4ad943*_0x3368e3+_0x44c9d6*_0x322a96-_0x389b00*_0x2f3c4c)*_0x387e2f,_0x4a3ac8[-0x193a+-0x2228+0x3b67]=(_0x1bf2dd*_0x3368e3-_0xc805f6*_0x322a96+_0xed761d*_0x2f3c4c)*_0x387e2f,_0x4a3ac8[-0x2b2+-0x244b+0x1*0x2703]=(-_0x53cc97*_0x4f1c1b+_0x2c13fa*_0x112b11-_0x4eb2fe*_0x356886)*_0x387e2f,_0x4a3ac8[-0xf4e+0x1de9+-0xe94*0x1]=(_0x49d3d0*_0x4f1c1b-_0x279da6*_0x112b11+_0x35c538*_0x356886)*_0x387e2f,_0x4a3ac8[-0x1*0xd72+-0x2369+0x30e3]=(_0x4ad943*_0x386f7b-_0x3f3845*_0x322a96+_0x389b00*_0x6cc5fa)*_0x387e2f,_0x4a3ac8[-0x8eb+-0x140c*0x1+-0xe8*-0x20]=(-_0x1bf2dd*_0x386f7b+_0x1a6d16*_0x322a96-_0xed761d*_0x6cc5fa)*_0x387e2f,_0x4a3ac8[-0x4*0xef+0x98a+-0x12*0x52]=(_0x53cc97*_0x1f5af1-_0x4764fa*_0x112b11+_0x4eb2fe*_0x17f14f)*_0x387e2f,_0x4a3ac8[-0x1977+0x89e+0x1*0x10e4]=(-_0x49d3d0*_0x1f5af1+_0x9c0ec5*_0x112b11-_0x35c538*_0x17f14f)*_0x387e2f,_0x4a3ac8[0x17d8+-0xefb+-0x8d1]=(-_0x4ad943*_0x2e2fcd+_0x3f3845*_0x2f3c4c-_0x44c9d6*_0x6cc5fa)*_0x387e2f,_0x4a3ac8[-0x2482+-0x6*0x13b+-0x1*-0x2bf1]=(_0x1bf2dd*_0x2e2fcd-_0x1a6d16*_0x2f3c4c+_0xc805f6*_0x6cc5fa)*_0x387e2f,_0x4a3ac8[0x17b3*-0x1+0x29b+0x1526*0x1]=(-_0x53cc97*_0x191d36+_0x4764fa*_0x356886-_0x2c13fa*_0x17f14f)*_0x387e2f,_0x4a3ac8[0xfb*-0xd+0x210b+-0x143d]=(_0x49d3d0*_0x191d36-_0x9c0ec5*_0x356886+_0x279da6*_0x17f14f)*_0x387e2f;}return this;}['set'](_0x3f384a){const _0x3dc6e3=this['data'];return _0x3dc6e3[0x51c+0x1fd8+0x37*-0xac]=_0x3f384a[-0x3a*-0x9f+-0x1b4a+0x2*-0x45e],_0x3dc6e3[-0x30e*0x1+0x59d+-0x6*0x6d]=_0x3f384a[0x15ef+-0x1*0x3cb+-0x1*0x1223],_0x3dc6e3[0x37*0x3c+-0x4a*-0x15+-0x12f4]=_0x3f384a[0x10b6+-0x9a*-0x30+-0x1*0x2d94],_0x3dc6e3[-0x1d*0x44+-0x2306+0x209*0x15]=_0x3f384a[0x1b02+-0xfb*0x3+-0x180e],_0x3dc6e3[-0x2*-0x1311+0x115*0x17+-0x3f01]=_0x3f384a[0x1e90+-0xaa9*-0x3+-0x3e87],_0x3dc6e3[0xfe6+0x24f9+-0x34da]=_0x3f384a[-0x8a1*-0x1+0x7eb*-0x3+0x1*0xf25],_0x3dc6e3[-0x54e+-0xff8+0x154c]=_0x3f384a[-0x7*-0x323+0x1994+-0x2f83],_0x3dc6e3[0xc4e+0x136d+0x7ed*-0x4]=_0x3f384a[-0xb74+0x995*0x1+0x1*0x1e6],_0x3dc6e3[0xcf1*0x1+-0x7*0x12a+-0x4c3]=_0x3f384a[-0x167e+0x1*-0x143c+-0xd*-0x34a],_0x3dc6e3[-0x3*-0x489+0x6c6+-0x1458]=_0x3f384a[-0xc0e+-0x21b8+0x517*0x9],_0x3dc6e3[-0xff8+0x2422+-0x1420]=_0x3f384a[-0x1402+-0x16ed*0x1+0x2af9],_0x3dc6e3[0x4f5+0x289+-0x773]=_0x3f384a[0x239c+0x79b+-0x399*0xc],_0x3dc6e3[-0x2248+0x5*-0x32d+0x3235]=_0x3f384a[0x5b1*-0x2+0xf25*0x2+-0x12dc*0x1],_0x3dc6e3[-0x2215+0x1b7c*-0x1+0x3d9e]=_0x3f384a[0x116d+-0x8c9+-0x897],_0x3dc6e3[-0x25e6+0x29f+0x2355]=_0x3f384a[0x2422+-0x3bf*-0x7+-0x185*0x29],_0x3dc6e3[0x344*0x1+0x21b8+-0x89*0x45]=_0x3f384a[0xe3+-0x11f0+0x111c],this;}['setIdentit'+'y'](){const _0x2568be=this['data'];return _0x2568be[-0xb*-0x235+-0x1bb5*0x1+-0x36e*-0x1]=0x5ec*0x1+0x1681*0x1+0x71b*-0x4,_0x2568be[0x3*0x368+-0x1a6b+0x1034]=0x857+-0x1b*0x35+0x16*-0x20,_0x2568be[0xdd2+0x1a8+-0x3*0x528]=-0x22aa+-0x2145+0x43ef,_0x2568be[-0xd*0x255+0xeea+0x2*0x7b5]=0x105d+-0x49*-0x2+0x11*-0xff,_0x2568be[-0x2515*-0x1+0x1fa+-0x270b]=-0x72e+0x1*0xd51+-0x623,_0x2568be[-0x1f72+0x4b5+0x1ac2]=-0x1*0xec7+0x14af+-0x5e7,_0x2568be[-0x2*-0x62f+-0x9d*-0x2+-0xd92]=0x2302+0x1de3*0x1+-0x40e5,_0x2568be[0x8c2+0x5d2*-0x1+-0x2e9]=-0xb*-0x2e3+0x17e2+-0x37a3,_0x2568be[-0x1*-0x1a42+-0x5*-0x283+-0x26c9]=0xd5e+0x26e3+0x3441*-0x1,_0x2568be[-0x1*0x957+-0x1796+0x20f6]=0x2009+-0x14f*0x1+-0x1eba,_0x2568be[0x3e*-0x65+-0x6ff*-0x1+0x1181]=0x86a+-0x51*-0x5a+-0x47*0x85,_0x2568be[0x1ea5+-0x1f*-0xb9+-0x3501]=-0x1c*-0x100+0x14a6*-0x1+-0x2*0x3ad,_0x2568be[-0x5f9+-0x215b*0x1+0x2760]=-0x4bd*0x2+-0x1*-0x4f2+0x488,_0x2568be[0x1*-0x8e9+-0x254f*-0x1+-0x1c59]=0x824+0x94b+0x1*-0x116f,_0x2568be[0x53b+-0x1*-0x8dd+-0xe0a]=-0xcb0+-0xf0*0x12+0x1d90,_0x2568be[0x798+-0x130d+0xb84]=0x2097+0x2*-0x1334+0x5d2,this;}['setTRS'](_0x5f54d0,_0x557ab8,_0x4c9cea){const _0x344e65=_0x557ab8['x'],_0x2c002d=_0x557ab8['y'],_0x2d9b18=_0x557ab8['z'],_0x5b8b68=_0x557ab8['w'],_0x2e58f7=_0x4c9cea['x'],_0x370bbd=_0x4c9cea['y'],_0x566e72=_0x4c9cea['z'],_0xbb733=_0x344e65+_0x344e65,_0x4b153b=_0x2c002d+_0x2c002d,_0x41ff8f=_0x2d9b18+_0x2d9b18,_0x12e9f5=_0x344e65*_0xbb733,_0x30ed3d=_0x344e65*_0x4b153b,_0x2d1efc=_0x344e65*_0x41ff8f,_0x29c34a=_0x2c002d*_0x4b153b,_0x5d6416=_0x2c002d*_0x41ff8f,_0x13080e=_0x2d9b18*_0x41ff8f,_0x21adff=_0x5b8b68*_0xbb733,_0x28e0b7=_0x5b8b68*_0x4b153b,_0x39e114=_0x5b8b68*_0x41ff8f,_0x5ef622=this['data'];return _0x5ef622[-0x26*-0xc8+-0x667+-0x1749]=(-0x3*-0xa7+-0x49c+0x2a8-(_0x29c34a+_0x13080e))*_0x2e58f7,_0x5ef622[-0x1*0x1591+0x3*-0xbce+0x412*0xe]=(_0x30ed3d+_0x39e114)*_0x2e58f7,_0x5ef622[-0x1*0x362+-0xa7*-0x1d+-0xf87]=(_0x2d1efc-_0x28e0b7)*_0x2e58f7,_0x5ef622[0x266f*0x1+-0x1*-0x1907+-0x3f73]=0x1*-0x80e+0x259b*0x1+-0x1d8d,_0x5ef622[-0x12e8+-0x1e81+-0x1*-0x316d]=(_0x30ed3d-_0x39e114)*_0x370bbd,_0x5ef622[0x6f1+-0x3*-0x8e+-0x1*0x896]=(-0xe24+-0x9e3+-0x2*-0xc04-(_0x12e9f5+_0x13080e))*_0x370bbd,_0x5ef622[0x446*0x1+-0xa12*0x1+0x5d2]=(_0x5d6416+_0x21adff)*_0x370bbd,_0x5ef622[-0x326*0x5+0x2177*-0x1+-0x2*-0x189e]=-0x791*0x1+0x25ab*0x1+-0x1e1a,_0x5ef622[0xdcf+-0x1bd3+-0x3e*-0x3a]=(_0x2d1efc+_0x28e0b7)*_0x566e72,_0x5ef622[0x314+-0x2*0x1071+0x1*0x1dd7]=(_0x5d6416-_0x21adff)*_0x566e72,_0x5ef622[0x1*-0x1885+0x1d1b+-0x48c]=(0x2*-0x9e8+0x19*-0x133+0xc73*0x4-(_0x12e9f5+_0x29c34a))*_0x566e72,_0x5ef622[0x2*-0x1189+-0xd1*-0x25+0x4e8]=0xda9+-0x7aa+-0x1*0x5ff,_0x5ef622[-0x64c+-0x10fb+-0x7*-0x355]=_0x5f54d0['x'],_0x5ef622[-0x7eb+0x124a+0x2*-0x529]=_0x5f54d0['y'],_0x5ef622[0x1*-0x1a66+-0x1b5+0x1c29]=_0x5f54d0['z'],_0x5ef622[0x21ef+-0x1cc9+-0x517]=0x254f*0x1+0x1255+0x1*-0x37a3,this;}['transpose'](_0x5b866c=this){const _0x1837b9=_0x5b866c['data'],_0x589787=this['data'];if(_0x1837b9===_0x589787){let _0x4d5f33;_0x4d5f33=_0x1837b9[0x1087+-0x12a2+0x21c],_0x589787[-0x2*0x4ac+-0x49d*0x2+-0x1*-0x1293]=_0x1837b9[-0x28e+-0x1*0x1c40+0x1ed2*0x1],_0x589787[0x1ed1+0x1689+-0x3556]=_0x4d5f33,_0x4d5f33=_0x1837b9[0xf4b+0xc95+-0x94a*0x3],_0x589787[-0x1046+0x2475+-0x1*0x142d]=_0x1837b9[0x7*-0x3af+0x1*0x2405+-0x51a*0x2],_0x589787[0x1f*-0x73+-0x1e3*0x1+0x3*0x548]=_0x4d5f33,_0x4d5f33=_0x1837b9[0x238d*0x1+-0x1*0x15a+-0x2230],_0x589787[0x24e5+0x1875+-0x3d57]=_0x1837b9[0x1418+0x581*0x2+-0x1f0e],_0x589787[-0x130e+-0x14f2*0x1+-0x3a4*-0xb]=_0x4d5f33,_0x4d5f33=_0x1837b9[0x2303+-0x1bbf+-0x39f*0x2],_0x589787[0x144a+0x1172*0x1+-0x25b6]=_0x1837b9[0xeae+0x1*-0x48b+0x1af*-0x6],_0x589787[-0x1*0x1ef7+0x1349+0xbb7]=_0x4d5f33,_0x4d5f33=_0x1837b9[0xfb0+0xb52+-0x1*0x1afb],_0x589787[-0x125*0x1b+0x128b+0xc63]=_0x1837b9[0x222e+-0x5fd*0x1+-0x709*0x4],_0x589787[-0x172b+-0x19e0+0x3118*0x1]=_0x4d5f33,_0x4d5f33=_0x1837b9[0x2*-0x13+-0x2*-0xe59+-0x1c81],_0x589787[-0x112*-0x3+-0xd*0xa6+-0x3*-0x1c1]=_0x1837b9[-0x815+-0xbab+0x13ce],_0x589787[-0x26ed+-0xf*-0xd8+0x1a53]=_0x4d5f33;}else _0x589787[0x382*0x8+-0x234c+-0x73c*-0x1]=_0x1837b9[-0xbb1+0x1629*0x1+0x5*-0x218],_0x589787[-0x610+0x4*-0x164+0xba1]=_0x1837b9[-0x1*0x843+-0x2606*0x1+0x2e4d],_0x589787[-0x1c9*-0x6+-0x24de+0x1a2a]=_0x1837b9[0x253*0x7+0x1178+-0x21b5],_0x589787[0x18e*0x12+0x22c1+-0x206*0x1f]=_0x1837b9[0xc3f+0x28*-0x2+0x1*-0xbe3],_0x589787[-0x65*0x49+0x1d71*-0x1+0x3a42*0x1]=_0x1837b9[0x103b*-0x1+0xe7f*-0x2+0x2d3a],_0x589787[0x5*0x713+-0xaca+-0x1890]=_0x1837b9[0x124c+0x18a6+-0x2aed],_0x589787[0x1583*-0x1+0x191f+0x1b*-0x22]=_0x1837b9[0xd2e+0x3*-0xc5b+0x17ec],_0x589787[0xe5*0x6+0x156c+0xdd*-0x1f]=_0x1837b9[-0x1ec0+0x181c+-0x3*-0x23b],_0x589787[0x2198+-0x256a+0x3da]=_0x1837b9[-0x1*-0x166d+-0xd4b+-0x20*0x49],_0x589787[-0x155c+0x1*0x1e3b+-0x1*0x8d6]=_0x1837b9[0x148b+-0x4e1*0x8+0x2a5*0x7],_0x589787[0x45a+-0x251a+-0x3*-0xaee]=_0x1837b9[-0x34e+-0x1113+0x146b],_0x589787[-0x773*0x5+0x1806+0xd44]=_0x1837b9[-0xa3*0x2+0x6*-0x1c4+0x1b4*0x7],_0x589787[0x251*0x2+0x2632+-0x2ac8]=_0x1837b9[0x7f4+-0x8bc+0xcb],_0x589787[-0x219c+0x2509+-0x360]=_0x1837b9[0x2*0x71f+-0x4a5*-0x2+-0x1781],_0x589787[0x1*0xa93+0x1b4f*0x1+0x4*-0x975]=_0x1837b9[0x314+-0x42d*-0x6+0x31f*-0x9],_0x589787[0x12f5*-0x2+0x1d64+0x895]=_0x1837b9[-0x1331*-0x2+0x1171+-0x37c4];return this;}['getTransla'+'tion'](_0xa70df0=new D()){return _0xa70df0['set'](this['data'][0x1858*0x1+-0x208a+0x83e],this['data'][-0x1792+-0x1*-0xb93+0x404*0x3],this['data'][0x1*-0x103e+0x20bb+-0x106f]);}['getX'](_0x5c3758=new D()){return _0x5c3758['set'](this['data'][-0x5aa+-0x168b+0x1c35],this['data'][0x3eb*0x1+0x2de*-0x2+0x1d2],this['data'][-0x224f+0xa8a+-0x1*-0x17c7]);}['getY'](_0x31f308=new D()){return _0x31f308['set'](this['data'][0xf77+0x6c6+-0x1639],this['data'][0x1d3*0x5+0x1e6f+0x2789*-0x1],this['data'][-0x17*0x49+0x4e0+-0x13*-0x17]);}['getZ'](_0x298d84=new D()){return _0x298d84['set'](this['data'][0x4df+0x2*-0x830+-0x1*-0xb89],this['data'][-0x16ed+0x805*-0x4+0x370a],this['data'][0xcf0+0x289*-0x7+0x49*0x11]);}['getScale'](_0x4a0584=new D()){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),_0x4a0584['set'](Os['length'](),Js['length'](),ei['length']()),_0x4a0584;}get['scaleSign'](){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),Os['cross'](Os,Js),Os['dot'](ei)<0x37*0x93+-0x20b0*0x1+0x11b?-(0x1018*0x1+-0x1*-0x1231+-0x449*0x8):0x1*0xb42+-0x35*0x95+0x1398;}['setFromEul'+'erAngles'](_0x2cc691,_0x28353f,_0x2dbb41){_0x2cc691*=Y['DEG_TO_RAD'],_0x28353f*=Y['DEG_TO_RAD'],_0x2dbb41*=Y['DEG_TO_RAD'];const _0x3058f4=Math['sin'](-_0x2cc691),_0x5aa301=Math['cos'](-_0x2cc691),_0x1e68a3=Math['sin'](-_0x28353f),_0x2b7512=Math['cos'](-_0x28353f),_0x4d0c2d=Math['sin'](-_0x2dbb41),_0x3ffa31=Math['cos'](-_0x2dbb41),_0x44d624=this['data'];return _0x44d624[-0x1e5b+-0x1c5+-0x404*-0x8]=_0x2b7512*_0x3ffa31,_0x44d624[-0x24c0*0x1+0x124*0x19+-0x25*-0x39]=-_0x2b7512*_0x4d0c2d,_0x44d624[0x431*-0x1+-0xa9*-0x7+-0x6c*0x1]=_0x1e68a3,_0x44d624[-0x1b30+0xf5e+0xbd5]=0x16eb*0x1+-0x20a*-0x1+-0x1*0x18f5,_0x44d624[-0x11*-0x1e5+0x1c35+-0x1422*0x3]=_0x5aa301*_0x4d0c2d+_0x3ffa31*_0x3058f4*_0x1e68a3,_0x44d624[-0x20c3+0xb51*0x1+-0x7*-0x311]=_0x5aa301*_0x3ffa31-_0x3058f4*_0x1e68a3*_0x4d0c2d,_0x44d624[0x1*0x10b1+0x1ce1*0x1+-0x247*0x14]=-_0x2b7512*_0x3058f4,_0x44d624[-0x1e*-0x52+-0x131b*-0x1+0x396*-0x8]=0x35c+0xb1+-0x40d,_0x44d624[-0x262c+-0x1*0x1855+0x3e89]=_0x3058f4*_0x4d0c2d-_0x5aa301*_0x3ffa31*_0x1e68a3,_0x44d624[-0x6*-0x3e1+0x182d+0x165*-0x22]=_0x3ffa31*_0x3058f4+_0x5aa301*_0x1e68a3*_0x4d0c2d,_0x44d624[0x1dcf+-0xd18+-0x10ad]=_0x5aa301*_0x2b7512,_0x44d624[0x1ebb+0x2cf*0xd+-0x4333*0x1]=-0xc7c+0x9e5+0xdd*0x3,_0x44d624[-0x19d7+0x1*0xfbb+-0x64*-0x1a]=-0x4*-0x54+0x1830+0x198*-0x10,_0x44d624[-0x15e0+0xad*0x6+0x11df]=0xc*-0x3a+-0x20b0+0x2368,_0x44d624[0x11f2*-0x1+-0x17da+0x14ed*0x2]=0xfec+-0xd16+-0x3*0xf2,_0x44d624[-0xe53*-0x1+-0x9f9+0x7*-0x9d]=-0x4bc+0x1*-0x108f+0x74*0x2f,this;}['getEulerAn'+'gles'](_0x1b4bd3=new D()){this['getScale'](Hl);const _0x3b3383=Hl['x'],_0x4b7a6c=Hl['y'],_0x105499=Hl['z'];if(_0x3b3383===-0x992+0x955*-0x2+-0x22c*-0xd||_0x4b7a6c===-0x42e*-0x9+0x15d6+-0x3b74||_0x105499===0x14b0+0x1a5f+-0x1*0x2f0f)return _0x1b4bd3['set'](0x4*0x221+-0x5*-0x197+0x3*-0x57d,0x2126+0xbdf+-0x2d05,-0x6c5*0x2+-0x24c4*0x1+0x2*0x1927);const _0x42cd9d=this['data'],_0x96a6dd=Math['asin'](-_0x42cd9d[0x2513+0x5c2+-0x2ad3]/_0x3b3383),_0x49eef7=Math['PI']*(0xd*-0xe8+0x83*-0x2c+0x224c+0.5);let _0xc8c02a,_0x2461ea;return _0x96a6dd<_0x49eef7?_0x96a6dd>-_0x49eef7?(_0xc8c02a=Math['atan2'](_0x42cd9d[0x7bf+0x188f+-0x1024*0x2]/_0x4b7a6c,_0x42cd9d[0x3*-0x6b+-0x1a36+0x1b81]/_0x105499),_0x2461ea=Math['atan2'](_0x42cd9d[0xcdf+0x1498+-0x2176]/_0x3b3383,_0x42cd9d[0x1998+0x1*-0x27e+-0x171a]/_0x3b3383)):(_0x2461ea=0x14b1+-0x119b*0x1+-0x316,_0xc8c02a=-Math['atan2'](_0x42cd9d[0x277+0x3bf+0x319*-0x2]/_0x4b7a6c,_0x42cd9d[-0x31b*0x2+0x1cf0+-0x16b5]/_0x4b7a6c)):(_0x2461ea=-0x1a8c+0xbb0+-0x3*-0x4f4,_0xc8c02a=Math['atan2'](_0x42cd9d[-0x2118+0x22d1+-0x1b5]/_0x4b7a6c,_0x42cd9d[0x1049*-0x1+0x1970+-0x922]/_0x4b7a6c)),_0x1b4bd3['set'](_0xc8c02a,_0x96a6dd,_0x2461ea)['mulScalar'](Y['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};h(Qr,'IDENTITY',Object['freeze'](new Qr())),h(Qr,'ZERO',Object['freeze'](new Qr()['set']([0x56a+-0x208d*0x1+-0x1*-0x1b23,0x3b+-0xdb5+0x45*0x32,0x10f*0x21+-0x1*0x1a91+-0x3*0x2ca,-0x19ed*-0x1+0x23c6+-0x27*0x195,0x3*-0x496+0x1968*-0x1+0x272a,-0x1008+0x1c3d+-0xc35,-0x469*0x8+-0x1*0x246b+0x47b3,0x89*-0x26+0x9*0x47+-0x1*-0x11d7,-0x133*0x16+0x4*-0x4b6+0x2d3a,0x2518+0x1*-0xe09+-0x170f,0x1*-0x105e+0x14db*-0x1+0x2539,0x10e0+-0x2569*-0x1+-0xd*0x42d,0x206a+0x25cd*0x1+-0x2cf*0x19,-0x22f1+0x1dc3+-0x22*-0x27,0x21df+0x1*-0x1df+-0x2000,0x19ad+-0x25a6+0xbf9])));let te=Qr;const Sn=class Sn{constructor(_0x195ecb=-0x1cd*-0xf+-0x1*0x911+-0x11f2,_0x100523=0x14f4+0x1c1b*-0x1+0x727,_0x29d438=0x2*-0xefd+0x1a0d+0x1*0x3ed,_0x1b6dfc=0xd38+0x1*0xdf+-0xe16){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0x195ecb['length']===-0x8e*-0x13+-0x1*-0x2573+-0x2ff9?(this['x']=_0x195ecb[-0x1f34+-0x2f4+0x2228],this['y']=_0x195ecb[-0x715+-0x9*0x295+0x1*0x1e53],this['z']=_0x195ecb[0xc96+-0x1*0x1552+0x8be],this['w']=_0x195ecb[0x423*0x6+-0x281*-0x1+0xda8*-0x2]):(this['x']=_0x195ecb,this['y']=_0x100523,this['z']=_0x29d438,this['w']=_0x1b6dfc);}['clone'](){const _0x50f4d1=this['constructo'+'r'];return new _0x50f4d1(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x1df63e=this){return this['x']=_0x1df63e['x']*-(-0xd42+-0x719+0x1*0x145c),this['y']=_0x1df63e['y']*-(0x6bd+0x1427+-0x1ae3),this['z']=_0x1df63e['z']*-(0xeed+-0xa6e+-0x47e),this['w']=_0x1df63e['w'],this;}['copy'](_0x3a7e23){return this['x']=_0x3a7e23['x'],this['y']=_0x3a7e23['y'],this['z']=_0x3a7e23['z'],this['w']=_0x3a7e23['w'],this;}['dot'](_0x25d178){return this['x']*_0x25d178['x']+this['y']*_0x25d178['y']+this['z']*_0x25d178['z']+this['w']*_0x25d178['w'];}['equals'](_0x3fcb89){return this['x']===_0x3fcb89['x']&&this['y']===_0x3fcb89['y']&&this['z']===_0x3fcb89['z']&&this['w']===_0x3fcb89['w'];}['equalsAppr'+'ox'](_0x58abac,_0x2d25c7=-0x2b*0x4+-0x3*-0x656+0x1*-0x1256+0.000001){return Math['abs'](this['x']-_0x58abac['x'])<_0x2d25c7&&Math['abs'](this['y']-_0x58abac['y'])<_0x2d25c7&&Math['abs'](this['z']-_0x58abac['z'])<_0x2d25c7&&Math['abs'](this['w']-_0x58abac['w'])<_0x2d25c7;}['getAxisAng'+'le'](_0x173bc9){let _0x39001f=Math['acos'](this['w'])*(-0x65*-0x59+-0x1672+0x7*-0x1cf);const _0xa8d7b9=Math['sin'](_0x39001f/(-0xd38+0xf*0x4b+-0x1*-0x8d5));return _0xa8d7b9!==0xd*-0xaf+0x182d+-0xf4a?(_0x173bc9['x']=this['x']/_0xa8d7b9,_0x173bc9['y']=this['y']/_0xa8d7b9,_0x173bc9['z']=this['z']/_0xa8d7b9,(_0x173bc9['x']<0x2400+0x11f5*-0x1+-0x1f*0x95||_0x173bc9['y']<0x27*-0x13+0x57*0x43+0x20*-0x9f||_0x173bc9['z']<-0xc8b+0x419+0x2*0x439)&&(_0x173bc9['x']*=-(0x3*-0x269+-0xaf5+0x1231),_0x173bc9['y']*=-(0x3*0x50c+-0x12a*-0x7+-0x1749),_0x173bc9['z']*=-(0x23bc*0x1+-0x5a4*0x2+0x239*-0xb),_0x39001f*=-(-0x2a3+-0x878+0x9*0x13c))):(_0x173bc9['x']=0x366*0x5+0x30c+-0x1409,_0x173bc9['y']=0x5*0x1+0x10b*-0x1b+0x1c24,_0x173bc9['z']=-0x1c80+-0x1957+0x35d7),_0x39001f*Y['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x3bfdf3=new D()){let _0x532e65,_0x2f4aa1,_0x2add57;const _0x34950f=this['x'],_0x3df5ae=this['y'],_0xccaffe=this['z'],_0x517676=this['w'],_0x3bb553=(0x1fa9+-0x78e+0x1*-0x1819)*(_0x517676*_0x3df5ae-_0x34950f*_0xccaffe);return _0x3bb553<=-(0x60a+0x1*-0xb03+0x4f9+0.99999)?(_0x532e65=(0xc1d*-0x1+-0xe9*-0x10+-0x271)*Math['atan2'](_0x34950f,_0x517676),_0x2f4aa1=-Math['PI']/(-0x20d*-0x1+-0x1*-0xdf2+-0xffd),_0x2add57=-0x471+0x25*-0xdf+0x1256*0x2):_0x3bb553>=-0xf*0x287+-0x14f*-0x5+-0x6e*-0x49+0.99999?(_0x532e65=(0x1*-0x23bf+-0x15bb*-0x1+0x167*0xa)*Math['atan2'](_0x34950f,_0x517676),_0x2f4aa1=Math['PI']/(0x138a+-0x9*-0xd5+-0x1b05),_0x2add57=-0xf59*0x2+0xb*0x24e+-0x1c8*-0x3):(_0x532e65=Math['atan2']((0xb20+-0x10c1+0x5a3)*(_0x517676*_0x34950f+_0x3df5ae*_0xccaffe),-0x63e+0xffb*-0x2+0x2635-(-0xe46+-0x1956+0x279e)*(_0x34950f*_0x34950f+_0x3df5ae*_0x3df5ae)),_0x2f4aa1=Math['asin'](_0x3bb553),_0x2add57=Math['atan2']((0x1*-0xe7a+0x17d8+-0x4ae*0x2)*(_0x517676*_0xccaffe+_0x34950f*_0x3df5ae),-0x7be+0xe*-0xa2+0x109b-(0x1a01+-0x1529*-0x1+-0x2f28)*(_0x3df5ae*_0x3df5ae+_0xccaffe*_0xccaffe))),_0x3bfdf3['set'](_0x532e65,_0x2f4aa1,_0x2add57)['mulScalar'](Y['RAD_TO_DEG']);}['invert'](_0x392455=this){return this['conjugate'](_0x392455)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x5ebf92,_0x215da8,_0x19bc8e){const _0x108d3d=(0x2*0x10be+0xd42*0x1+-0x959*0x5-_0x19bc8e)*(_0x5ebf92['dot'](_0x215da8)<-0xc*0x28f+-0xefb+0x2daf?-(0x177b*-0x1+0x24cb+-0xd4f):0x75a+-0x474+-0x3*0xf7);return this['x']=_0x5ebf92['x']*_0x108d3d+_0x215da8['x']*_0x19bc8e,this['y']=_0x5ebf92['y']*_0x108d3d+_0x215da8['y']*_0x19bc8e,this['z']=_0x5ebf92['z']*_0x108d3d+_0x215da8['z']*_0x19bc8e,this['w']=_0x5ebf92['w']*_0x108d3d+_0x215da8['w']*_0x19bc8e,this['normalize']();}['mul'](_0x322dfb){const _0xc54183=this['x'],_0x11688d=this['y'],_0x5a7fde=this['z'],_0x1828bf=this['w'],_0x3da0b0=_0x322dfb['x'],_0x5de741=_0x322dfb['y'],_0x50c2a6=_0x322dfb['z'],_0x1792ab=_0x322dfb['w'];return this['x']=_0x1828bf*_0x3da0b0+_0xc54183*_0x1792ab+_0x11688d*_0x50c2a6-_0x5a7fde*_0x5de741,this['y']=_0x1828bf*_0x5de741+_0x11688d*_0x1792ab+_0x5a7fde*_0x3da0b0-_0xc54183*_0x50c2a6,this['z']=_0x1828bf*_0x50c2a6+_0x5a7fde*_0x1792ab+_0xc54183*_0x5de741-_0x11688d*_0x3da0b0,this['w']=_0x1828bf*_0x1792ab-_0xc54183*_0x3da0b0-_0x11688d*_0x5de741-_0x5a7fde*_0x50c2a6,this;}['mulScalar'](_0x5f0d47,_0x3ee4d1=this){return this['x']=_0x3ee4d1['x']*_0x5f0d47,this['y']=_0x3ee4d1['y']*_0x5f0d47,this['z']=_0x3ee4d1['z']*_0x5f0d47,this['w']=_0x3ee4d1['w']*_0x5f0d47,this;}['mul2'](_0x3c31f4,_0x1466b3){const _0x2c8114=_0x3c31f4['x'],_0x1dbc7e=_0x3c31f4['y'],_0x5b0bab=_0x3c31f4['z'],_0x15fd28=_0x3c31f4['w'],_0x11cec2=_0x1466b3['x'],_0x32b053=_0x1466b3['y'],_0x41066f=_0x1466b3['z'],_0x10bb89=_0x1466b3['w'];return this['x']=_0x15fd28*_0x11cec2+_0x2c8114*_0x10bb89+_0x1dbc7e*_0x41066f-_0x5b0bab*_0x32b053,this['y']=_0x15fd28*_0x32b053+_0x1dbc7e*_0x10bb89+_0x5b0bab*_0x11cec2-_0x2c8114*_0x41066f,this['z']=_0x15fd28*_0x41066f+_0x5b0bab*_0x10bb89+_0x2c8114*_0x32b053-_0x1dbc7e*_0x11cec2,this['w']=_0x15fd28*_0x10bb89-_0x2c8114*_0x11cec2-_0x1dbc7e*_0x32b053-_0x5b0bab*_0x41066f,this;}['normalize'](_0xaf1cb4=this){let _0x1c2ba9=_0xaf1cb4['length']();return _0x1c2ba9===0x1bc4+-0x1dfa+0x236?(this['x']=this['y']=this['z']=0x1aab*-0x1+0x5c1+0x14ea,this['w']=0x2400+-0x46c*-0x1+-0x3*0xd79):(_0x1c2ba9=(-0x1e76+-0x95f+0x27d6)/_0x1c2ba9,this['x']=_0xaf1cb4['x']*_0x1c2ba9,this['y']=_0xaf1cb4['y']*_0x1c2ba9,this['z']=_0xaf1cb4['z']*_0x1c2ba9,this['w']=_0xaf1cb4['w']*_0x1c2ba9),this;}['set'](_0x38aab8,_0x22df15,_0x204c2e,_0x54a41e){return this['x']=_0x38aab8,this['y']=_0x22df15,this['z']=_0x204c2e,this['w']=_0x54a41e,this;}['setFromAxi'+'sAngle'](_0x22ba63,_0x247165){_0x247165*=(-0x120+-0x14c7+-0x7*-0x321+0.5)*Y['DEG_TO_RAD'];const _0x50afde=Math['sin'](_0x247165),_0x2d2cef=Math['cos'](_0x247165);return this['x']=_0x50afde*_0x22ba63['x'],this['y']=_0x50afde*_0x22ba63['y'],this['z']=_0x50afde*_0x22ba63['z'],this['w']=_0x2d2cef,this;}['setFromEul'+'erAngles'](_0x547532,_0xad3c8e,_0x4f067e){if(_0x547532 instanceof D){const _0x4cb27e=_0x547532;_0x547532=_0x4cb27e['x'],_0xad3c8e=_0x4cb27e['y'],_0x4f067e=_0x4cb27e['z'];}const _0x43a1b2=(0xd0f*0x1+0xa40+-0x174f+0.5)*Y['DEG_TO_RAD'];_0x547532*=_0x43a1b2,_0xad3c8e*=_0x43a1b2,_0x4f067e*=_0x43a1b2;const _0x4cdc45=Math['sin'](_0x547532),_0xac089e=Math['cos'](_0x547532),_0x5f17b5=Math['sin'](_0xad3c8e),_0x590e45=Math['cos'](_0xad3c8e),_0x21fb58=Math['sin'](_0x4f067e),_0x554784=Math['cos'](_0x4f067e);return this['x']=_0x4cdc45*_0x590e45*_0x554784-_0xac089e*_0x5f17b5*_0x21fb58,this['y']=_0xac089e*_0x5f17b5*_0x554784+_0x4cdc45*_0x590e45*_0x21fb58,this['z']=_0xac089e*_0x590e45*_0x21fb58-_0x4cdc45*_0x5f17b5*_0x554784,this['w']=_0xac089e*_0x590e45*_0x554784+_0x4cdc45*_0x5f17b5*_0x21fb58,this;}['setFromMat'+'4'](_0x2a03a1){const _0x31d17d=_0x2a03a1['data'];let _0x5d2115=_0x31d17d[0x85b+-0x848+-0x13*0x1],_0xc63f9b=_0x31d17d[0xa*-0x281+0x5ee+0x131d],_0x10886b=_0x31d17d[-0x7*-0xf+-0x16f5+0xb47*0x2],_0x5935ad=_0x31d17d[-0x3c1*0x2+0xbd8+-0x7*0x9e],_0x2174c6=_0x31d17d[-0x2174*-0x1+0x2245+-0x10ed*0x4],_0x213788=_0x31d17d[0x16d8+-0x1d04+0x632],_0x4fcfa8=_0x31d17d[0x17b8+-0x1*0xd69+0x1*-0xa47],_0x5c0c62=_0x31d17d[0x17*0x8b+-0xef1+-0x27d*-0x1],_0x5e0c76=_0x31d17d[-0x267c*-0x1+0x1*-0x220+-0x2452*0x1],_0x13a2ed;return _0x13a2ed=_0x5d2115*_0x5d2115+_0xc63f9b*_0xc63f9b+_0x10886b*_0x10886b,_0x13a2ed===-0x9d*-0x27+-0x14ee+-0xff*0x3?this['set'](0x7cd+0x7bd+-0xf8a,-0x13ce+-0x9*0x443+-0x84f*-0x7,-0x1afa+-0x2156+0x4*0xf14,0x1809+0x1*0xca7+-0x24af*0x1):(_0x13a2ed=(-0x1143+0xa6f*-0x3+0x3091)/Math['sqrt'](_0x13a2ed),_0x5d2115*=_0x13a2ed,_0xc63f9b*=_0x13a2ed,_0x10886b*=_0x13a2ed,_0x13a2ed=_0x5935ad*_0x5935ad+_0x2174c6*_0x2174c6+_0x213788*_0x213788,_0x13a2ed===0x1a*0xfb+-0xea1+-0xadd?this['set'](0x1*-0x269c+-0x1*-0xc75+-0x1*-0x1a27,-0x8b*-0x2e+0x3*-0x31+-0x1867*0x1,-0x1a15+-0x12b1+0x1663*0x2,-0x11e1+0x1722+-0x540):(_0x13a2ed=(0x5e5*-0x2+0x1158+0x58d*-0x1)/Math['sqrt'](_0x13a2ed),_0x5935ad*=_0x13a2ed,_0x2174c6*=_0x13a2ed,_0x213788*=_0x13a2ed,_0x13a2ed=_0x4fcfa8*_0x4fcfa8+_0x5c0c62*_0x5c0c62+_0x5e0c76*_0x5e0c76,_0x13a2ed===0x7ef*0x2+0x2257+-0x3235*0x1?this['set'](-0x1cb0+-0x1cae+0x395e,0x1*-0x15a+0x9d8+-0x87e,0x1cef+0x4d1+0xb40*-0x3,-0x322+0xaa6+-0x783):(_0x13a2ed=(-0xe56+0x13c8+-0x571)/Math['sqrt'](_0x13a2ed),_0x4fcfa8*=_0x13a2ed,_0x5c0c62*=_0x13a2ed,_0x5e0c76*=_0x13a2ed,_0x5e0c76<0x12b4+0x1*0x58a+-0x3a*0x6b?_0x5d2115>_0x2174c6?this['set'](-0x14c+-0x12c1*0x1+0x140e+_0x5d2115-_0x2174c6-_0x5e0c76,_0xc63f9b+_0x5935ad,_0x4fcfa8+_0x10886b,_0x213788-_0x5c0c62):this['set'](_0xc63f9b+_0x5935ad,-0x61*0xc+0x1ae5+-0x34*0x6e-_0x5d2115+_0x2174c6-_0x5e0c76,_0x213788+_0x5c0c62,_0x4fcfa8-_0x10886b):_0x5d2115<-_0x2174c6?this['set'](_0x4fcfa8+_0x10886b,_0x213788+_0x5c0c62,0x10*0x9f+0x17b1+-0x21a0-_0x5d2115-_0x2174c6+_0x5e0c76,_0xc63f9b-_0x5935ad):this['set'](_0x213788-_0x5c0c62,_0x4fcfa8-_0x10886b,_0xc63f9b-_0x5935ad,0x1436*0x1+0x2049+-0x347e+_0x5d2115+_0x2174c6+_0x5e0c76),this['mulScalar']((0x12a7+0x21f3+-0x3499)/this['length']()))));}['setFromDir'+'ections'](_0x539baf,_0x16819a){const _0xbeaadb=-0x37f+0x1*0xb2d+-0x7ad+_0x539baf['dot'](_0x16819a);return _0xbeaadb<Number['EPSILON']?Math['abs'](_0x539baf['x'])>Math['abs'](_0x539baf['y'])?(this['x']=-_0x539baf['z'],this['y']=-0x65*-0x18+0x2378+0x10*-0x2cf,this['z']=_0x539baf['x'],this['w']=0xf9e+-0x1d9e*0x1+0xe00):(this['x']=0x24af*0x1+-0x5b7+-0x1ef8,this['y']=-_0x539baf['z'],this['z']=_0x539baf['y'],this['w']=-0xd*-0x21d+-0x185e+0x31b*-0x1):(this['x']=_0x539baf['y']*_0x16819a['z']-_0x539baf['z']*_0x16819a['y'],this['y']=_0x539baf['z']*_0x16819a['x']-_0x539baf['x']*_0x16819a['z'],this['z']=_0x539baf['x']*_0x16819a['y']-_0x539baf['y']*_0x16819a['x'],this['w']=_0xbeaadb),this['normalize']();}['slerp'](_0x4d90d7,_0x19a587,_0x381010){const _0x46ad06=_0x4d90d7['x'],_0x1a66aa=_0x4d90d7['y'],_0x1ce5fa=_0x4d90d7['z'],_0x47008a=_0x4d90d7['w'];let _0x39be06=_0x19a587['x'],_0x5466e1=_0x19a587['y'],_0x24f5c2=_0x19a587['z'],_0x228b29=_0x19a587['w'],_0x28343c=_0x47008a*_0x228b29+_0x46ad06*_0x39be06+_0x1a66aa*_0x5466e1+_0x1ce5fa*_0x24f5c2;if(_0x28343c<-0x144+-0x2652+0x1*0x2796&&(_0x228b29=-_0x228b29,_0x39be06=-_0x39be06,_0x5466e1=-_0x5466e1,_0x24f5c2=-_0x24f5c2,_0x28343c=-_0x28343c),Math['abs'](_0x28343c)>=-0xa0d+0x96d*-0x2+0x5c8*0x5)return this['w']=_0x47008a,this['x']=_0x46ad06,this['y']=_0x1a66aa,this['z']=_0x1ce5fa,this;const _0x460f5f=Math['acos'](_0x28343c),_0x5075de=Math['sqrt'](-0xbb9+0x397*-0x3+0x167f*0x1-_0x28343c*_0x28343c);if(Math['abs'](_0x5075de)<-0x8*-0x2ff+0x2434+-0x3c2c+0.001)return this['w']=_0x47008a*(0xad0+0x1007+-0x1ad7+0.5)+_0x228b29*(0x7e1*-0x1+0x25f*-0xf+0x43*0xa6+0.5),this['x']=_0x46ad06*(-0xcee+0x51*0x29+-0xb+0.5)+_0x39be06*(0xb2e+-0x1b45*-0x1+-0x2673+0.5),this['y']=_0x1a66aa*(-0x2c2*-0x2+0x10*-0x81+0x28c+0.5)+_0x5466e1*(0x1ffe+-0x6b*-0xe+-0x25d8+0.5),this['z']=_0x1ce5fa*(-0x138e+-0xe7d*0x1+0x220b+0.5)+_0x24f5c2*(-0x20dc+0x16c+0x7dc*0x4+0.5),this;const _0x43b75b=Math['sin']((-0x945+-0x14c2+0x1e08-_0x381010)*_0x460f5f)/_0x5075de,_0x1e2e35=Math['sin'](_0x381010*_0x460f5f)/_0x5075de;return this['w']=_0x47008a*_0x43b75b+_0x228b29*_0x1e2e35,this['x']=_0x46ad06*_0x43b75b+_0x39be06*_0x1e2e35,this['y']=_0x1a66aa*_0x43b75b+_0x5466e1*_0x1e2e35,this['z']=_0x1ce5fa*_0x43b75b+_0x24f5c2*_0x1e2e35,this;}['transformV'+'ector'](_0x5946d7,_0x4da93d=new D()){const _0x3b4d12=_0x5946d7['x'],_0x5d5a65=_0x5946d7['y'],_0x2e95a7=_0x5946d7['z'],_0x13b135=this['x'],_0x48ca9d=this['y'],_0x4a67d3=this['z'],_0x3904aa=this['w'],_0x52ee4c=_0x3904aa*_0x3b4d12+_0x48ca9d*_0x2e95a7-_0x4a67d3*_0x5d5a65,_0x50c937=_0x3904aa*_0x5d5a65+_0x4a67d3*_0x3b4d12-_0x13b135*_0x2e95a7,_0x553264=_0x3904aa*_0x2e95a7+_0x13b135*_0x5d5a65-_0x48ca9d*_0x3b4d12,_0x151207=-_0x13b135*_0x3b4d12-_0x48ca9d*_0x5d5a65-_0x4a67d3*_0x2e95a7;return _0x4da93d['x']=_0x52ee4c*_0x3904aa+_0x151207*-_0x13b135+_0x50c937*-_0x4a67d3-_0x553264*-_0x48ca9d,_0x4da93d['y']=_0x50c937*_0x3904aa+_0x151207*-_0x48ca9d+_0x553264*-_0x13b135-_0x52ee4c*-_0x4a67d3,_0x4da93d['z']=_0x553264*_0x3904aa+_0x151207*-_0x4a67d3+_0x52ee4c*-_0x48ca9d-_0x50c937*-_0x13b135,_0x4da93d;}['fromArray'](_0xf12ea8,_0x3ca59e=-0x481*-0x4+-0x1f*0x11b+0x1041){return this['x']=_0xf12ea8[_0x3ca59e]??this['x'],this['y']=_0xf12ea8[_0x3ca59e+(-0x1cde*0x1+-0x1*-0x173+0x1b6c)]??this['y'],this['z']=_0xf12ea8[_0x3ca59e+(-0x2*-0xe61+-0x1c33+-0x2f*0x3)]??this['z'],this['w']=_0xf12ea8[_0x3ca59e+(0x7a*0x37+-0x1*-0xc2d+-0x2660)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x1cec5c=[],_0x154baf=0xbc0+0x7be+-0x137e){return _0x1cec5c[_0x154baf]=this['x'],_0x1cec5c[_0x154baf+(0x1879+-0x12f6+-0x582)]=this['y'],_0x1cec5c[_0x154baf+(0x1a92+0x2+-0x2*0xd49)]=this['z'],_0x1cec5c[_0x154baf+(-0x1*0x235f+0x1b49+0x2b3*0x3)]=this['w'],_0x1cec5c;}};h(Sn,'IDENTITY',Object['freeze'](new Sn(0x1*-0x1db7+-0x133*-0x19+-0x2*0x22,-0xa*-0x11b+0x2202*-0x1+0x16f4,0x1b7e+-0xd*-0x277+-0x3b89,0x612+0x2153+-0x2*0x13b2))),h(Sn,'ZERO',Object['freeze'](new Sn(-0x13*0xd7+-0x4*0x113+0x1441,-0x7c9*-0x1+0x2c2*0xb+-0x261f,0xe43+0x2624*-0x1+-0x17e1*-0x1,0x16e1+-0x1b*-0x11+-0x18ac)));let le=Sn;const Pa=new D(),Ma=new D(),Um=new D(),Bm=new D(),gx=new D();class De{constructor(_0x8ddae5,_0xc30084){h(this,'center',new D()),h(this,'halfExtent'+'s',new D(-0x638+0x6*0x100+0x38+0.5,-0x799+-0x176+0x90f+0.5,0x1*0x81e+0x530*-0x4+0xca2+0.5)),h(this,'_min',new D()),h(this,'_max',new D()),(_0x8ddae5&&this['center']['copy'](_0x8ddae5),_0xc30084&&this['halfExtent'+'s']['copy'](_0xc30084));}['add'](_0x36448b){const _0x3a1b34=this['center'],_0x53feee=_0x3a1b34['x'],_0x484268=_0x3a1b34['y'],_0x4c1d6a=_0x3a1b34['z'],_0x11601b=this['halfExtent'+'s'],_0x20e3c4=_0x11601b['x'],_0x14d3ed=_0x11601b['y'],_0x1df528=_0x11601b['z'];let _0x52bda9=_0x53feee-_0x20e3c4,_0x115e26=_0x53feee+_0x20e3c4,_0x379446=_0x484268-_0x14d3ed,_0x3bbc67=_0x484268+_0x14d3ed,_0x3fe150=_0x4c1d6a-_0x1df528,_0x43517d=_0x4c1d6a+_0x1df528;const _0xe86eaa=_0x36448b['center'],_0x2421ad=_0xe86eaa['x'],_0x106640=_0xe86eaa['y'],_0xf80024=_0xe86eaa['z'],_0x2efd78=_0x36448b['halfExtent'+'s'],_0x32d77d=_0x2efd78['x'],_0x577099=_0x2efd78['y'],_0x51e7d1=_0x2efd78['z'],_0x57991e=_0x2421ad-_0x32d77d,_0x33d927=_0x2421ad+_0x32d77d,_0x473982=_0x106640-_0x577099,_0x3dfd4d=_0x106640+_0x577099,_0x50a29b=_0xf80024-_0x51e7d1,_0x4a5024=_0xf80024+_0x51e7d1;_0x57991e<_0x52bda9&&(_0x52bda9=_0x57991e),_0x33d927>_0x115e26&&(_0x115e26=_0x33d927),_0x473982<_0x379446&&(_0x379446=_0x473982),_0x3dfd4d>_0x3bbc67&&(_0x3bbc67=_0x3dfd4d),_0x50a29b<_0x3fe150&&(_0x3fe150=_0x50a29b),_0x4a5024>_0x43517d&&(_0x43517d=_0x4a5024),_0x3a1b34['x']=(_0x52bda9+_0x115e26)*(-0x3d8+0x1*-0xf9e+-0x1*-0x1376+0.5),_0x3a1b34['y']=(_0x379446+_0x3bbc67)*(0x5f7+-0xc50+0x659+0.5),_0x3a1b34['z']=(_0x3fe150+_0x43517d)*(0x400+-0x1732+-0x27*-0x7e+0.5),_0x11601b['x']=(_0x115e26-_0x52bda9)*(-0x2c4+0x156e+-0x12aa+0.5),_0x11601b['y']=(_0x3bbc67-_0x379446)*(0x212e+-0x1b7+-0x1f77+0.5),_0x11601b['z']=(_0x43517d-_0x3fe150)*(0x7c9*0x5+0x2b2+0x5*-0x853+0.5);}['copy'](_0x1ea922){this['center']['copy'](_0x1ea922['center']),this['halfExtent'+'s']['copy'](_0x1ea922['halfExtent'+'s']);}['clone'](){return new De(this['center'],this['halfExtent'+'s']);}['intersects'](_0x4b66cb){const _0x57e99b=this['getMax'](),_0x1e6ed4=this['getMin'](),_0x57f3d2=_0x4b66cb['getMax'](),_0x430987=_0x4b66cb['getMin']();return _0x1e6ed4['x']<=_0x57f3d2['x']&&_0x57e99b['x']>=_0x430987['x']&&_0x1e6ed4['y']<=_0x57f3d2['y']&&_0x57e99b['y']>=_0x430987['y']&&_0x1e6ed4['z']<=_0x57f3d2['z']&&_0x57e99b['z']>=_0x430987['z'];}['_intersect'+'sRay'](_0x1cc7e6,_0x382e01){const _0x181c91=Pa['copy'](this['getMin']())['sub'](_0x1cc7e6['origin']),_0x10b225=Ma['copy'](this['getMax']())['sub'](_0x1cc7e6['origin']),_0x1287f5=_0x1cc7e6['direction'];_0x1287f5['x']===0x135*-0x7+0x22e2+-0x1a6f?(_0x181c91['x']=_0x181c91['x']<0x2*0xa13+0x218+0xdb*-0x1a?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x10b225['x']=_0x10b225['x']<0x60*0x5e+0x2613+-0x4953?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x181c91['x']/=_0x1287f5['x'],_0x10b225['x']/=_0x1287f5['x']),_0x1287f5['y']===-0x3*-0x257+-0x2b8+-0x44d?(_0x181c91['y']=_0x181c91['y']<0x7c4+-0xc95+0x4d1?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x10b225['y']=_0x10b225['y']<0x72*0x25+-0x1617+0x3*0x1df?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x181c91['y']/=_0x1287f5['y'],_0x10b225['y']/=_0x1287f5['y']),_0x1287f5['z']===0x185*-0x5+-0x641+0x1*0xdda?(_0x181c91['z']=_0x181c91['z']<-0x9*-0x2af+-0x19d0+0x1a9?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x10b225['z']=_0x10b225['z']<0x565+-0x2*-0x655+-0x120f?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x181c91['z']/=_0x1287f5['z'],_0x10b225['z']/=_0x1287f5['z']);const _0xd7783f=Um['set'](Math['min'](_0x181c91['x'],_0x10b225['x']),Math['min'](_0x181c91['y'],_0x10b225['y']),Math['min'](_0x181c91['z'],_0x10b225['z'])),_0xc7ae57=Bm['set'](Math['max'](_0x181c91['x'],_0x10b225['x']),Math['max'](_0x181c91['y'],_0x10b225['y']),Math['max'](_0x181c91['z'],_0x10b225['z'])),_0x5450a2=Math['min'](Math['min'](_0xc7ae57['x'],_0xc7ae57['y']),_0xc7ae57['z']),_0xdda6d9=Math['max'](Math['max'](_0xd7783f['x'],_0xd7783f['y']),_0xd7783f['z']),_0x3c519d=_0x5450a2>=_0xdda6d9&&_0xdda6d9>=0x3bb*-0x5+0x1*-0x3fd+-0x1e3*-0xc;return _0x3c519d&&_0x382e01['copy'](_0x1cc7e6['direction'])['mulScalar'](_0xdda6d9)['add'](_0x1cc7e6['origin']),_0x3c519d;}['_fastInter'+'sectsRay'](_0x200f57){const _0x43576d=Pa,_0x10ffb4=Ma,_0x3ca393=Um,_0x306b08=Bm,_0x2f56fc=gx,_0x382e0b=_0x200f57['direction'];return _0x43576d['sub2'](_0x200f57['origin'],this['center']),_0x306b08['set'](Math['abs'](_0x43576d['x']),Math['abs'](_0x43576d['y']),Math['abs'](_0x43576d['z'])),_0x3ca393['mul2'](_0x43576d,_0x382e0b),!(_0x306b08['x']>this['halfExtent'+'s']['x']&&_0x3ca393['x']>=-0x1e3d+-0x2408+0x4245||_0x306b08['y']>this['halfExtent'+'s']['y']&&_0x3ca393['y']>=0x10d6*0x1+0x1*0x72c+-0x1802*0x1||_0x306b08['z']>this['halfExtent'+'s']['z']&&_0x3ca393['z']>=-0x39*-0x71+-0x1*0x1772+-0x1b7||(_0x2f56fc['set'](Math['abs'](_0x382e0b['x']),Math['abs'](_0x382e0b['y']),Math['abs'](_0x382e0b['z'])),_0x10ffb4['cross'](_0x382e0b,_0x43576d),_0x10ffb4['set'](Math['abs'](_0x10ffb4['x']),Math['abs'](_0x10ffb4['y']),Math['abs'](_0x10ffb4['z'])),_0x10ffb4['x']>this['halfExtent'+'s']['y']*_0x2f56fc['z']+this['halfExtent'+'s']['z']*_0x2f56fc['y'])||_0x10ffb4['y']>this['halfExtent'+'s']['x']*_0x2f56fc['z']+this['halfExtent'+'s']['z']*_0x2f56fc['x']||_0x10ffb4['z']>this['halfExtent'+'s']['x']*_0x2f56fc['y']+this['halfExtent'+'s']['y']*_0x2f56fc['x']);}['intersects'+'Ray'](_0x16db8d,_0x51b3ef){return _0x51b3ef?this['_intersect'+'sRay'](_0x16db8d,_0x51b3ef):this['_fastInter'+'sectsRay'](_0x16db8d);}['setMinMax'](_0x3313d2,_0x6cd80f){this['center']['add2'](_0x6cd80f,_0x3313d2)['mulScalar'](-0x1a81+-0x219a+-0x3c1b*-0x1+0.5),this['halfExtent'+'s']['sub2'](_0x6cd80f,_0x3313d2)['mulScalar'](-0x5*0x78b+-0x218+0x81*0x4f+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x187efe){const _0x1781d6=this['getMin'](),_0x211ed4=this['getMax']();return!(_0x187efe['x']<_0x1781d6['x']||_0x187efe['x']>_0x211ed4['x']||_0x187efe['y']<_0x1781d6['y']||_0x187efe['y']>_0x211ed4['y']||_0x187efe['z']<_0x1781d6['z']||_0x187efe['z']>_0x211ed4['z']);}['setFromTra'+'nsformedAa'+'bb'](_0x21030c,_0x2225b4,_0x10bb1=!(0x1d9b*0x1+-0x11*0x14f+-0x75b)){const _0x20598e=_0x21030c['center'],_0x28b51d=_0x21030c['halfExtent'+'s'],_0x56cfea=_0x2225b4['data'];let _0x474d26=_0x56cfea[0x248c+-0x4*0x878+-0x4c*0x9],_0x168dc2=_0x56cfea[0xf5*-0x5+-0x62e+0xafb],_0x16d0ea=_0x56cfea[0x1*0x2335+-0x2ab*0x1+0xdb*-0x26],_0x2e2a58=_0x56cfea[0x11b9+-0x1ce8+0x166*0x8],_0x2dcaf7=_0x56cfea[0x1*0x1f67+0x7*-0x119+-0x1*0x17b3],_0x635b28=_0x56cfea[-0x16f4+-0x2*-0x8db+0x547],_0x43ceef=_0x56cfea[0x14c3+-0x1e25*-0x1+-0x32e6],_0x2ec70c=_0x56cfea[0x61*0x49+-0xa8f+0x2*-0x88a],_0x34cf67=_0x56cfea[-0x2683+-0x1eb9+0x2*0x22a3];if(_0x10bb1){let _0x15b770=_0x474d26*_0x474d26+_0x168dc2*_0x168dc2+_0x16d0ea*_0x16d0ea;if(_0x15b770>-0xdf3+0x1*0xa11+0x3e2){const _0x3f3806=(-0x11+-0x7b*-0x23+0x595*-0x3)/Math['sqrt'](_0x15b770);_0x474d26*=_0x3f3806,_0x168dc2*=_0x3f3806,_0x16d0ea*=_0x3f3806;}if(_0x15b770=_0x2e2a58*_0x2e2a58+_0x2dcaf7*_0x2dcaf7+_0x635b28*_0x635b28,_0x15b770>-0x97a+0x3*0x557+-0x68b){const _0x3314c0=(0x2*-0xb47+0x7e3*-0x2+0x2655)/Math['sqrt'](_0x15b770);_0x2e2a58*=_0x3314c0,_0x2dcaf7*=_0x3314c0,_0x635b28*=_0x3314c0;}if(_0x15b770=_0x43ceef*_0x43ceef+_0x2ec70c*_0x2ec70c+_0x34cf67*_0x34cf67,_0x15b770>0x1864+0x6fb*0x1+-0x1f5f*0x1){const _0x459755=(-0x1*0x19f3+-0x141+0x1b35)/Math['sqrt'](_0x15b770);_0x43ceef*=_0x459755,_0x2ec70c*=_0x459755,_0x34cf67*=_0x459755;}}this['center']['set'](_0x56cfea[-0x12a4*-0x2+0x2602+-0x4b3e]+_0x474d26*_0x20598e['x']+_0x168dc2*_0x20598e['y']+_0x16d0ea*_0x20598e['z'],_0x56cfea[0x301*0x1+-0xd08*0x2+0x171c]+_0x2e2a58*_0x20598e['x']+_0x2dcaf7*_0x20598e['y']+_0x635b28*_0x20598e['z'],_0x56cfea[0xaf+0x1fa3+-0xec*0x23]+_0x43ceef*_0x20598e['x']+_0x2ec70c*_0x20598e['y']+_0x34cf67*_0x20598e['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x474d26)*_0x28b51d['x']+Math['abs'](_0x168dc2)*_0x28b51d['y']+Math['abs'](_0x16d0ea)*_0x28b51d['z'],Math['abs'](_0x2e2a58)*_0x28b51d['x']+Math['abs'](_0x2dcaf7)*_0x28b51d['y']+Math['abs'](_0x635b28)*_0x28b51d['z'],Math['abs'](_0x43ceef)*_0x28b51d['x']+Math['abs'](_0x2ec70c)*_0x28b51d['y']+Math['abs'](_0x34cf67)*_0x28b51d['z']);}static['computeMin'+'Max'](_0x17f5a0,_0x3615d0,_0xbc88b1,_0x44e910=_0x17f5a0['length']/(-0x154c+-0xbfb*-0x3+-0xea2)){if(_0x44e910>-0x65e*-0x1+-0x623*-0x1+-0xc81){let _0x3d6bb6=_0x17f5a0[0x1e84+0x23f2+-0x4276],_0x1edd0f=_0x17f5a0[-0x1975+0x1d0e+-0x1*0x398],_0x408544=_0x17f5a0[-0x1*0x176f+0x35b*-0x3+0x2182*0x1],_0x3c259b=_0x3d6bb6,_0x5142be=_0x1edd0f,_0x401b8e=_0x408544;const _0x4ad41a=_0x44e910*(-0x2a0+0x1d*0x4+0x2b*0xd);for(let _0x459529=-0x1*-0x1337+0x3*-0xb6c+0xf10;_0x459529<_0x4ad41a;_0x459529+=0x1998+-0x1e87+0x6*0xd3){const _0xdffba1=_0x17f5a0[_0x459529],_0x3f707a=_0x17f5a0[_0x459529+(0x1299*0x1+0x8d7*0x3+-0x2d1d)],_0x20055f=_0x17f5a0[_0x459529+(-0x1375+-0x1*-0xbfd+0x1*0x77a)];_0xdffba1<_0x3d6bb6&&(_0x3d6bb6=_0xdffba1),_0x3f707a<_0x1edd0f&&(_0x1edd0f=_0x3f707a),_0x20055f<_0x408544&&(_0x408544=_0x20055f),_0xdffba1>_0x3c259b&&(_0x3c259b=_0xdffba1),_0x3f707a>_0x5142be&&(_0x5142be=_0x3f707a),_0x20055f>_0x401b8e&&(_0x401b8e=_0x20055f);}_0x3615d0['set'](_0x3d6bb6,_0x1edd0f,_0x408544),_0xbc88b1['set'](_0x3c259b,_0x5142be,_0x401b8e);}}['compute'](_0x4503cc,_0x13132b){De['computeMin'+'Max'](_0x4503cc,Pa,Ma,_0x13132b),this['setMinMax'](Pa,Ma);}['intersects'+'BoundingSp'+'here'](_0x18e1be){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x18e1be)<=_0x18e1be['radius']*_0x18e1be['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x1a3303){const _0x33d7e3=this['getMin'](),_0x4c6e7c=this['getMax']();let _0x85beea=0xf35+-0xf74+0x1*0x3f;const _0x31ebde=['x','y','z'];for(let _0x1245e5=0x1*0xef+0x1*0x100a+-0x10f9;_0x1245e5<0x49*0x6d+0x4*-0x6a6+-0x47a;++_0x1245e5){let _0x492682=-0x1a7*-0xb+-0x68+0x11c5*-0x1;const _0x1a797d=_0x1a3303['center'][_0x31ebde[_0x1245e5]],_0x7545d1=_0x33d7e3[_0x31ebde[_0x1245e5]],_0x209f9d=_0x4c6e7c[_0x31ebde[_0x1245e5]];let _0x4859a1=-0x4*-0x925+0x15df*-0x1+-0xeb5;_0x1a797d<_0x7545d1&&(_0x4859a1=_0x7545d1-_0x1a797d,_0x492682+=_0x4859a1*_0x4859a1),_0x1a797d>_0x209f9d&&(_0x4859a1=_0x1a797d-_0x209f9d,_0x492682+=_0x4859a1*_0x4859a1),_0x85beea+=_0x492682;}return _0x85beea;}['_expand'](_0x584e4a,_0x589d2e){Pa['add2'](this['getMin'](),_0x584e4a),Ma['add2'](this['getMax'](),_0x589d2e),this['setMinMax'](Pa,Ma);}}const Wl=new D(),Sx=new D();class sp{constructor(_0x3663e6=new D(),_0x52c081=-0x2fa*-0x1+0x2*0x1b6+0xea*-0x7+0.5){h(this,'center'),h(this,'radius'),(w['assert'](!Object['isFrozen'](_0x3663e6),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x3663e6,this['radius']=_0x52c081);}['containsPo'+'int'](_0x1aa17b){const _0x51171f=Wl['sub2'](_0x1aa17b,this['center'])['lengthSq'](),_0xc13fc5=this['radius'];return _0x51171f<_0xc13fc5*_0xc13fc5;}['intersects'+'Ray'](_0x2f3ab1,_0x28ab90){const _0x4016ef=Wl['copy'](_0x2f3ab1['origin'])['sub'](this['center']),_0x32bd3c=_0x4016ef['dot'](Sx['copy'](_0x2f3ab1['direction'])['normalize']()),_0x5ca764=_0x4016ef['dot'](_0x4016ef)-this['radius']*this['radius'];if(_0x5ca764>-0x1*0x2029+-0xe0d+0x2e36&&_0x32bd3c>-0x4a7+-0x20e3+0x3c1*0xa)return!(0x11*0x1a3+-0x24a1*0x1+-0x29*-0x37);const _0xe124ec=_0x32bd3c*_0x32bd3c-_0x5ca764;if(_0xe124ec<-0x4d3+-0x1*-0x1101+-0xc2e)return!(0xf78+0x1241+-0x8*0x437);const _0x41ba15=Math['abs'](-_0x32bd3c-Math['sqrt'](_0xe124ec));return _0x28ab90&&_0x28ab90['copy'](_0x2f3ab1['direction'])['mulScalar'](_0x41ba15)['add'](_0x2f3ab1['origin']),!(0x1237*-0x1+0xf51*-0x1+-0xe8*-0x25);}['intersects'+'BoundingSp'+'here'](_0x1208b9){Wl['sub2'](_0x1208b9['center'],this['center']);const _0x4986e4=_0x1208b9['radius']+this['radius'];return Wl['lengthSq']()<=_0x4986e4*_0x4986e4;}}class QS{constructor(_0x1d9cf6=D['UP'],_0x4ae2ef=0xf23+0x1fe4+-0x2f07){h(this,'normal',new D()),h(this,'distance'),(this['normal']['copy'](_0x1d9cf6),this['distance']=_0x4ae2ef);}['clone'](){const _0x502fce=this['constructo'+'r'];return new _0x502fce()['copy'](this);}['copy'](_0x36bd95){return this['normal']['copy'](_0x36bd95['normal']),this['distance']=_0x36bd95['distance'],this;}['intersects'+'Line'](_0x5eb78,_0x4d1637,_0x5b637f){const _0x1056ac=this['distance'],_0x154e47=this['normal']['dot'](_0x5eb78)+_0x1056ac,_0xd8e4d0=this['normal']['dot'](_0x4d1637)+_0x1056ac,_0x2e1d2a=_0x154e47/(_0x154e47-_0xd8e4d0),_0x1ae855=_0x2e1d2a>=0x37*-0x19+-0x399*-0x5+-0x64f*0x2&&_0x2e1d2a<=-0x4+0x50+-0x3*0x19;return _0x1ae855&&_0x5b637f&&_0x5b637f['lerp'](_0x5eb78,_0x4d1637,_0x2e1d2a),_0x1ae855;}['intersects'+'Ray'](_0x35b3c1,_0x43854e){const _0x501143=this['normal']['dot'](_0x35b3c1['direction']);if(_0x501143===0x8f8+0x1a0f+-0x2307)return!(0x49*-0x18+-0x13bd+0xd4b*0x2);const _0x2af596=-(this['normal']['dot'](_0x35b3c1['origin'])+this['distance'])/_0x501143;return _0x2af596>=-0x1769+0x1316+-0x171*-0x3&&_0x43854e&&_0x43854e['copy'](_0x35b3c1['direction'])['mulScalar'](_0x2af596)['add'](_0x35b3c1['origin']),_0x2af596>=-0xe61+-0x41*0x3b+0x4*0x757;}['normalize'](){const _0x1ac8f1=(-0x5b1*-0x1+-0x1*0x22d+-0x383)/this['normal']['length']();return this['normal']['mulScalar'](_0x1ac8f1),this['distance']*=_0x1ac8f1,this;}['set'](_0x517804,_0x4a32fa,_0x1f3483,_0x4ff80e){return this['normal']['set'](_0x517804,_0x4a32fa,_0x1f3483),this['distance']=_0x4ff80e,this;}['setFromPoi'+'ntNormal'](_0x21af55,_0x35c334){return this['normal']['copy'](_0x35c334),this['distance']=-this['normal']['dot'](_0x21af55),this;}}class yx{constructor(){h(this,'planes',[]);for(let _0x593289=0x55*0x38+0x35f*0x9+-0x30ef*0x1;_0x593289<0x2b3*-0xb+-0x1f07+0x3cbe;_0x593289++)this['planes'][_0x593289]=new QS();}['clone'](){const _0x5a1063=this['constructo'+'r'];return new _0x5a1063()['copy'](this);}['copy'](_0x133900){for(let _0x2071bb=-0x435+-0x17db+0x382*0x8;_0x2071bb<-0x1f9a+-0x1*-0x1ecb+-0xd5*-0x1;_0x2071bb++)this['planes'][_0x2071bb]['copy'](_0x133900['planes'][_0x2071bb]);return this;}['setFromMat'+'4'](_0x58fe89){const [_0x576d2f,_0x87a4f0,_0x1fa935,_0x2a9161,_0x4083d6,_0x48761d,_0x4e68b3,_0x9c3e46,_0x3c7f8f,_0x30c403,_0x275d4f,_0x2aa534,_0x426542,_0x52937f,_0x4bd6a0,_0x373d4c]=_0x58fe89['data'],_0x302b88=this['planes'];_0x302b88[-0x15*0x189+0x1*-0xe39+0x2*0x173b]['set'](_0x2a9161-_0x576d2f,_0x9c3e46-_0x4083d6,_0x2aa534-_0x3c7f8f,_0x373d4c-_0x426542)['normalize'](),_0x302b88[-0x19f5*-0x1+0x1*0x8f1+-0x1*0x22e5]['set'](_0x2a9161+_0x576d2f,_0x9c3e46+_0x4083d6,_0x2aa534+_0x3c7f8f,_0x373d4c+_0x426542)['normalize'](),_0x302b88[0x166*-0x16+0x906+0x15c0]['set'](_0x2a9161+_0x87a4f0,_0x9c3e46+_0x48761d,_0x2aa534+_0x30c403,_0x373d4c+_0x52937f)['normalize'](),_0x302b88[0x1ea+0xba*0x2+-0x35b]['set'](_0x2a9161-_0x87a4f0,_0x9c3e46-_0x48761d,_0x2aa534-_0x30c403,_0x373d4c-_0x52937f)['normalize'](),_0x302b88[-0x141b*0x1+-0x21b3+0x35d2]['set'](_0x2a9161-_0x1fa935,_0x9c3e46-_0x4e68b3,_0x2aa534-_0x275d4f,_0x373d4c-_0x4bd6a0)['normalize'](),_0x302b88[0x189f+-0x83*0x1b+-0xac9]['set'](_0x2a9161+_0x1fa935,_0x9c3e46+_0x4e68b3,_0x2aa534+_0x275d4f,_0x373d4c+_0x4bd6a0)['normalize']();}['containsPo'+'int'](_0x3cd8dc){for(let _0x5d9513=0xf7*0xb+0x16e6+0x17*-0x175;_0x5d9513<-0x2b3*0x5+0x145*-0x4+0x1299;_0x5d9513++){const {normal:_0x40f032,distance:_0x1cfe1f}=this['planes'][_0x5d9513];if(_0x40f032['dot'](_0x3cd8dc)+_0x1cfe1f<=-0x31b*-0x2+-0xb19*-0x3+0xd2b*-0x3)return!(0x392*-0x1+-0xe52*0x1+0x11e5);}return!(0x121a+-0x1c0+-0xe*0x12b);}['containsSp'+'here'](_0x4f158e){const {center:_0x4e6064,radius:_0x5bb993}=_0x4f158e;let _0x3c64e1=0x2b*0x5+-0x9*-0x18d+0x766*-0x2;for(let _0x28f684=-0x1234*0x1+0x1d0*-0x3+-0x2*-0xbd2;_0x28f684<0x1ee9+-0x3*0x854+-0x1*0x5e7;_0x28f684++){const {normal:_0x39b1dc,distance:_0x353dce}=this['planes'][_0x28f684],_0x355210=_0x39b1dc['dot'](_0x4e6064)+_0x353dce;if(_0x355210<=-_0x5bb993)return-0x1c51+-0xc4f+0x28a0;_0x355210>_0x5bb993&&_0x3c64e1++;}return _0x3c64e1===0x16df+-0xb*-0x11b+-0x2302*0x1?-0x86e*0x1+0xf68+-0x6f8:0x2b6*0x1+0x25fa+-0x28af;}}class Dn{constructor(_0x5c6f46,_0x290b16){h(this,'origin',new D()),h(this,'direction',D['FORWARD']['clone']()),(_0x5c6f46&&this['origin']['copy'](_0x5c6f46),_0x290b16&&this['direction']['copy'](_0x290b16));}['set'](_0x3877ef,_0x37f48b){return this['origin']['copy'](_0x3877ef),this['direction']['copy'](_0x37f48b),this;}['copy'](_0x13d400){return this['set'](_0x13d400['origin'],_0x13d400['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const yt=-0xcdb*0x3+0x175*-0x17+0x4814,ue=-0x16d4+0x88b+0xe4a,ip=-0x14a*-0x9+-0x23*-0xe3+-0x2aa1,rp=0x40f*-0x9+0x15*-0x88+0x3ab*0xd,Ft=-0x17*0x10d+0x22d6+-0x5*0x222,vx=0x17*-0x183+-0x718+0x29df*0x1,JS=0x1*-0x1ae1+0x655+-0xa48*-0x2,xx=0xf1+0x702+-0x7ee,jh=-0x7*-0x3ec+0x716*0x3+-0x148*0x26,Yh=0xf0*0x1c+-0x1493+0x1*-0x5a5,fs=0x1f1d+0x2311+-0x2117*0x2,Tx=0x3*-0x6ca+-0x25f*0xd+0x1111*0x3,wx=0x20c*0x11+0x67*0x27+-0x39b*0xe,Ex=0x17ff+-0x517+-0x4b9*0x4,ms=0x2186+0x3b*0x4e+0x338*-0x10,lh=0xe*0x15a+-0x209f+0xdb4,ey=0x35b*-0x6+-0x615+-0x7*-0x3bf,bx=0x10f*-0x2+0xb47*0x3+-0x1fb4,jo=-0x885+0xf83*-0x1+-0x15*-0x125,Yo=0x98c+0x2375+0x1*-0x2cff,ch=0x25ac+-0x1*0x24d7+-0x1*0xd1,bt=-0x1547+-0xa*0x3d+0x1*0x17a9,pa=-0x143*-0xd+0x1faf+-0x1007*0x3,Fo=0xd49+-0xd33+0x1*-0x14,Ax=-0xff2+0xc50+0x3a5,Te=0x1333+-0x5fc*0x5+0xab9,vt=-0x8e5*-0x2+0xa49*0x3+-0x30a4,Kh=-0x42d*0x1+-0x2*0x7f6+0x141b*0x1,Zh=0xb75*-0x1+0x23a2+-0x182a,Qh=-0x63*0x1+0x3ce*-0x4+0xf9f,ma=0x242*0x10+0x1abe+-0x3ed9,Cx=-0xc1c+-0x1*-0x907+-0x1*-0x315,hh=0xceb+-0x236a+0x1680,dh=0x5fe+-0x1*-0x4e9+-0x1*0xae5,Wf=-0x2077+0x25ff+-0x1*0x585,Px=0x125*0x11+-0x2*0x1042+-0xd13*-0x1,Mx=0x18c2+0x1*0x15fb+-0x1*0x2eb8,Dx=0x51*-0x75+-0x178d+0x3c98,Wi=0x1a81+0x1*0x1305+-0x2d7f,$f=0x1*0x24b4+-0x1a2*-0x5+0x166f*-0x2,Yi=0x1403*0x1+-0xa9f*0x1+0x3*-0x321,wr=-0x2e+-0x1de*0x1+0x20e,ty=-0x1a89*-0x1+-0x13a*-0x1d+0xd*-0x4c7,sy=0xd7e+-0xd3e+-0x15*0x3,ap=0xb3d+0x1*-0xb75+0x3a,Jh=-0x19fe+0xbdf*-0x3+0x3d9e,np=0x3a9+0x4*0x65f+-0x1*0x1d21,ed=-0x2533+0x643+0x1ef5,Cr=0x1704+0xb*-0x3b+-0x1475,Ne=0x1*-0xb95+0x12cc+-0x730,td=-0x10da+0x5*0x579+0xa7b*-0x1,op=-0x13*0xbd+-0x1a52*0x1+0x3*0xd76,vl=-0x12*0xf4+0x4*-0x8bd+0x3426,ui=-0x1323+0x174f+-0x97*0x7,nt=-0x1e7c+0x17*0x8e+0x11c6,Ye=-0x5b+-0x1748+0x17b0,Xt=0x6f*0x13+-0x1b3c*0x1+0x130d*0x1,Ji=0x2bd*0x1+-0xfc7+-0x1*-0xd19,$i=-0xc6c+0x1193+-0x517,sd=0x469*0x5+-0xb98*0x2+0x134,In=0x779*-0x2+-0x2d*-0x47+0x289,lp=0x751+0xbcd+-0x130b,_s=-0x1539+0xb*-0x17c+-0x3*-0xc8b,id=0x395*0x4+-0x1a7d*-0x1+-0x28bc,cp=0x3*0x8f2+-0x1e31+0x371,hp=0x1*-0x1d67+-0x1f8c+0x4b2*0xd,xl=0x1109+-0x2368+0x1277,Tl=0x7*-0x139+0x4e9+-0x7*-0x89,rd=0x25c9*-0x1+-0x67a*-0x2+-0x1*-0x18ef,ad=0x19e+-0xb*0x2f7+0x1f1a,iy=-0x2270+-0x21*-0x5e+0x166e,ry=0x1*-0x264a+0xd*-0x3+0x268e,ay=-0x2507+0xe94+0x1*0x1691,ny=-0x2570+-0x1ce7+0x5e*0xb5,dp=0x2*-0x68+-0x1cc1+0x1db1,oy=-0x3*0x4b+0x11dd*-0x1+0x12df,fp=-0x9*-0xdf+-0xab*-0x25+-0x19f*0x14,up=0x188a+0xb65+-0x23cc,pp=-0x17a+0x20fd+-0x1f5f,Ki=0x477+0x17*-0x28+-0x1f*0x6,mp=-0x257f+0x1afb*0x1+0xe*0xc3,ly=0x2479*-0x1+-0x382*-0x3+0x1a1a,_p=-0x8f5+0x1aca+0x1*-0x11ad,gp=0x179+0xf89+-0x10d9,Sp=-0x9*-0x1+0x14*0x3d+-0x4a3,yp=0xdd6*-0x1+-0x7b*0xd+0x1440,vp=-0x148a*-0x1+0x1d8f+0x1*-0x31ed,cy=-0x7*0x58a+0xda3*0x2+-0x3d*-0x31,xp=0x1d7f+0x6f*-0x1+-0x1ce2,nd=-0x2*-0xa52+0x3cf+0x1*-0x1844,Tp=-0x1f*0x124+0x2593+-0x207,Ue=0xa60*-0x2+0xada+0x7*0x171,od=0x16f*-0x17+0x1*-0x26f5+-0x20*-0x241,wp=0x1683+0x1d7c+0x186*-0x22,Ep=-0x4*-0x27e+0x16*-0xdd+0x93a,bp=0x2218+-0x1847+0x1*-0x99c,Xf=-0x1f11+0x1050+0xef7,qf=0x1be9+0x37*0x9+-0x1da1,jf=0x107e+0x23af*0x1+-0x33f5,Yf=-0xd*0x1c5+0x2*-0xc10+0x2f5e,Kf=0x21a7+0x4c6+-0x1a9*0x17,Zf=-0x1019+0x65*0x5e+0x127*-0x12,hy=0x1*0x56f+0x1f12+-0x2441,dy=0x1*0x11ef+-0x7*-0x26f+-0x22b7,fy=-0xe65+0x1895+-0x9ee,uy=0x17f0+-0x1*0x1feb+0x83e,Qf=-0x3*-0xa7b+-0x836+-0x16f7,vn=-0x10aa+0x33*-0xb3+0x3498,Nt=new Map([[ty,{'name':'A8','size':0x1,'ldr':!(0x4f*-0x3b+0x9d*-0x6+0x15e3)}],[Ep,{'name':'R8','size':0x1,'ldr':!(0xd16+-0x1cf*0x1+-0xb47)}],[sy,{'name':'L8','size':0x1,'ldr':!(-0x8*-0x34d+0x270f+-0x4177)}],[ap,{'name':'LA8','size':0x2,'ldr':!(0x1*0x5a5+0xd08*-0x2+0x146b*0x1)}],[bp,{'name':'RG8','size':0x2,'ldr':!(0x12*0x65+0x3*0xc0e+-0x2b44)}],[Jh,{'name':'RGB565','size':0x2,'ldr':!(-0x764+-0x16dc+-0x790*-0x4)}],[np,{'name':'RGBA5551','size':0x2,'ldr':!(0x1b4*-0x1+-0x2c*-0xbd+-0x1ec8)}],[ed,{'name':'RGBA4','size':0x2,'ldr':!(0xbff*-0x1+0x1*0x258b+-0x198c)}],[Cr,{'name':'RGB8','size':0x4,'ldr':!(0x178b+0x2178+-0x3903)}],[Ne,{'name':'RGBA8','size':0x4,'ldr':!(-0xcb1+0x1*-0x799+0x173*0xe),'srgbFormat':_s}],[od,{'name':'R16F','size':0x2}],[wp,{'name':'RG16F','size':0x4}],[ui,{'name':'RGB16F','size':0x8}],[nt,{'name':'RGBA16F','size':0x8}],[Ye,{'name':'RGB32F','size':0x10}],[Xt,{'name':'RGBA32F','size':0x10}],[Ji,{'name':'R32F','size':0x4}],[$i,{'name':'DEPTH','size':0x4}],[vn,{'name':'DEPTH16','size':0x2}],[sd,{'name':'DEPTHSTENC'+'IL','size':0x4}],[In,{'name':'111110F','size':0x4}],[lp,{'name':'SRGB8','size':0x4,'ldr':!(-0x3e*-0x16+0xe36+-0x138a),'srgb':!(-0xdef+-0x1a3*-0x4+-0x1f*-0x3d)}],[_s,{'name':'SRGBA8','size':0x4,'ldr':!(0x99*-0x21+-0x3a*-0x9e+-0x1*0x1013),'srgb':!(0x13*0x1b1+0xef*-0xd+0xa0*-0x20)}],[ny,{'name':'BGRA8','size':0x4,'ldr':!(0x1021+0x1*-0x9b5+-0x66c)}],[hy,{'name':'SBGRA8','size':0x4,'ldr':!(-0x682+0x6*0x553+-0x1970),'srgb':!(0x2477+-0x1*-0x1ebe+-0x4335)}],[td,{'name':'DXT1','blockSize':0x8,'ldr':!(-0x5e*0x4+0xa50*0x2+-0x1328),'srgbFormat':Xf}],[op,{'name':'DXT3','blockSize':0x10,'ldr':!(0x439+0x1*-0x1c01+0x4*0x5f2),'srgbFormat':qf}],[vl,{'name':'DXT5','blockSize':0x10,'ldr':!(0x2325+0xe*0x8b+-0x2abf),'srgbFormat':jf}],[id,{'name':'ETC1','blockSize':0x8,'ldr':!(0x1*-0x1b69+-0x2*-0x240+-0x159*-0x11)}],[cp,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(-0x19d4+-0x222b+-0x3bff*-0x1),'srgbFormat':Yf}],[hp,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(0x1aab*0x1+0x19c6+0x37f*-0xf),'srgbFormat':Kf}],[xl,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(-0x1cea+-0xd39+0x2a23),'blockSize':0x8}],[Tl,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(-0xfb*0x16+-0x17b*-0x7+0xb35),'blockSize':0x8}],[rd,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(0x242*-0xd+0x347*0x6+-0x3e*-0x28),'blockSize':0x8}],[ad,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(-0x219*0x7+0x11*0x21a+0x1*-0x150b),'blockSize':0x8}],[iy,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(-0x1d*-0x21+-0x15bc+0x11ff),'srgbFormat':Zf}],[ry,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(-0x26bb+0x1*-0x1d17+0x43d2*0x1)}],[ay,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(-0x2d9*-0x1+0x6dc+0x163*-0x7)}],[dy,{'name':'BC6H_RGBF','blockSize':0x10}],[fy,{'name':'BC6H_RGBUF','blockSize':0x10}],[uy,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(-0x1c04+-0x1*0x1095+0x2c99),'srgbFormat':Qf}],[Xf,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(-0x3*0xb29+-0x7*-0x175+0x1748),'srgb':!(0x2161+-0x2f*-0x17+-0x1*0x259a)}],[qf,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(-0xb40+-0x1*0x1888+0x11e4*0x2),'srgb':!(0x1*0x1ca6+0x12c9+-0x2f6f)}],[jf,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(-0x94*0x15+0x1*0x72d+0x4f7),'srgb':!(0x2342+-0x1c5f*0x1+-0x6e3)}],[Yf,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(-0x1190+0x2357+-0x11c7),'srgb':!(-0x1354+0x1483+-0x12f*0x1)}],[Kf,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(0x55*-0x67+-0xe0b*0x2+0x3e49),'srgb':!(0xda6+0xc4+-0x1e*0x7b)}],[Zf,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(-0x14cb+0x10cc+0x3ff),'srgb':!(0x1d*-0x19+-0x1*0x12db+0x15b0)}],[Qf,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(0xc*0x174+0xdef+-0x1*0x1f5f),'srgb':!(0x2c7*-0xb+0x269b+-0x80e)}],[dp,{'name':'R8I','size':0x1,'isInt':!(0x2*0x5f2+0xae2*-0x1+-0x102)}],[oy,{'name':'R8U','size':0x1,'isInt':!(-0x17*0xed+0x25ba+-0x106f)}],[fp,{'name':'R16I','size':0x2,'isInt':!(-0x1b83+-0x1195*-0x2+-0x3*0x28d)}],[up,{'name':'R16U','size':0x2,'isInt':!(0x458*0x2+0x2631+-0x2ee1*0x1)}],[pp,{'name':'R32I','size':0x4,'isInt':!(-0x1d12+-0x10*-0xad+0x921*0x2)}],[Ki,{'name':'R32U','size':0x4,'isInt':!(-0xf*-0x107+0x118f+-0x20f8)}],[mp,{'name':'RG8I','size':0x2,'isInt':!(0x1e7c+0x180a+-0x3686)}],[ly,{'name':'RG8U','size':0x2,'isInt':!(0x1547+0x1627+0x6*-0x73d)}],[_p,{'name':'RG16I','size':0x4,'isInt':!(0x1bcc*0x1+-0x2b*-0x95+-0x1*0x34d3)}],[gp,{'name':'RG16U','size':0x4,'isInt':!(-0x1163+0x44*-0x6d+-0x2e57*-0x1)}],[Sp,{'name':'RG32I','size':0x8,'isInt':!(-0xfa3+-0x1*0x23ab+0x18e*0x21)}],[yp,{'name':'RG32U','size':0x8,'isInt':!(-0x6*0x47a+-0x926*0x4+0x3f74)}],[vp,{'name':'RGBA8I','size':0x4,'isInt':!(0xb*-0x92+0x238+-0x6*-0xad)}],[cy,{'name':'RGBA8U','size':0x4,'isInt':!(0xef*-0x20+-0x17a2+0x12*0x2f9)}],[xp,{'name':'RGBA16I','size':0x8,'isInt':!(0x220a+-0x2603+0x3f9)}],[nd,{'name':'RGBA16U','size':0x8,'isInt':!(0x2bb+-0x1*0x17c2+0x1507*0x1)}],[Tp,{'name':'RGBA32I','size':0x10,'isInt':!(0xef*0x17+-0x3b*-0x87+-0x6a*0x7f)}],[Ue,{'name':'RGBA32U','size':0x10,'isInt':!(-0x100d+0x80a+0x125*0x7)}]]),Ix=_0x10612f=>{var _0x3f0c5b;return((_0x3f0c5b=Nt['get'](_0x10612f))==null?void(0x3*0x5ca+-0x163c+0x2*0x26f):_0x3f0c5b['blockSize'])!==void(0x17bb+-0x5*0x477+0x8*-0x2d);},fh=_0x5c2f7b=>{var _0x25b42e;return((_0x25b42e=Nt['get'](_0x5c2f7b))==null?void(0x5*0x185+0x3*0x471+-0x14ec):_0x25b42e['srgb'])===!(-0xbc4+0x1f54+-0x1390);},dn=_0x595538=>{var _0xe9854f;return((_0xe9854f=Nt['get'](_0x595538))==null?void(-0x238d+-0x1*-0x15aa+-0x2d*-0x4f):_0xe9854f['isInt'])===!(-0x68b+0x5b*-0x2b+0x15d4);},ld=_0x1e3a84=>{var _0x1271e1;return((_0x1271e1=Nt['get'](_0x1e3a84))==null?void(-0xd0f*-0x2+-0x74*-0x1d+-0x6*0x68b):_0x1271e1['srgbFormat'])||_0x1e3a84;},Lx=_0x507e26=>{for(const [_0x59cf10,_0x3ed98e]of Nt)if(_0x3ed98e['srgbFormat']===_0x507e26)return _0x59cf10;return _0x507e26;},py=_0x8920b1=>{const _0x48ff6a=Nt['get'](_0x8920b1);return!!(_0x48ff6a!=null&&_0x48ff6a['ldr']&&!(_0x48ff6a!=null&&_0x48ff6a['srgb']));},my=_0x55aec8=>{switch(_0x55aec8){case Ji:case Ye:case Xt:return Float32Array;case pp:case Sp:case Tp:return Int32Array;case Ki:case yp:case Ue:return Uint32Array;case fp:case _p:case xp:return Int16Array;case bp:case up:case gp:case nd:case Jh:case np:case ed:case od:case wp:case ui:case nt:return Uint16Array;case dp:case mp:case vp:return Int8Array;default:return Uint8Array;}},cd=0x1*0x1940+0x2b*0xe5+-0x153d*0x3,hd=-0x1d5e+-0x1*0xd7e+0x2add*0x1,_y=0x1*0xccd+0x1059+-0x1d24,gy=-0xed1+-0x234e+0x3222,js=-0x7d+0x26ca+0x1b*-0x16b,Er=0x107c*0x2+0x1ed7+-0x2e*0x163,oa=-0x84a*0x4+0x22e2+-0x2*0xda,Me='POSITION',gs='NORMAL',yi='TANGENT',gi='BLENDWEIGH'+'T',us='BLENDINDIC'+'ES',Wt='COLOR',zm='TEXCOORD',is='TEXCOORD0',ba='TEXCOORD1',wl='TEXCOORD2',El='TEXCOORD3',bl='TEXCOORD4',Al='TEXCOORD5',Cl='TEXCOORD6',Pl='TEXCOORD7',Jf='ATTR0',uh='ATTR1',Ap='ATTR2',Cp='ATTR3',Pp='ATTR4',Rx='ATTR5',Ox='ATTR6',Fx='ATTR7',Ko='ATTR8',Zo='ATTR9',Nx='ATTR10',Mp='ATTR11',Dp='ATTR12',ph='ATTR13',Ip='ATTR14',Ln='ATTR15',Sy=-0x15*-0x17f+0x38b*-0x7+0x1*-0x69d,xn=-0x9ef*0x1+0x94f*0x4+0x1d*-0xf1,kx=0x10bf*-0x2+0x1de8+0x2e*0x14,Ux=-0x12af*-0x2+0x1775+-0xf34*0x4,Bx=-0x96e*0x1+0x1ab1*0x1+-0x113e,$l=0x2*-0x11d7+-0x1*-0x1601+0xdad,yy=0x107*-0x5+0x8d2+0x3ae*-0x1,Od=-0x1194+-0x1*0x949+0x8f5*0x3,Ds='default',Zi='rgbm',mh='rgbe',Qo='rgbp',Jo='swizzleGGG'+'R',eu=-0x40*0x2e+0xa23*-0x1+0x15a4,Pr=0xb8a+-0xb+-0xb7d,vy=-0x895+-0x192d+-0x299*-0xd,xy='2d',zx=-0xdd7*-0x1+-0x3d+-0xd9a,Vx='none',tu='cube',Vm='equirect',Gx='octahedral',Fe='glsl',it='wgsl',dd=-0x1e29+0x1f8d+-0x4*0x59,la=0x202a+-0x2*0x6+-0x201d,fd=-0x297*-0xb+-0x22ea+0x66f,Ml=0x718*-0x2+0x3*-0x166+-0x1*-0x1265,Ty=0x4*0x3f1+0x1*0x1b4f+0x49*-0x97,el=0xb*-0x1bf+0x12f*0x1a+0x1*-0xb8c,Ve=0x1824+0x1c00+-0x341e,Tn=0x1a75+0x1*-0x107+-0x196e,_a=-0x1*-0x1a33+-0x161*-0x15+0x1*-0x3727,Xs=-0xead+-0x105f+0x1f0e,ga=-0x1*-0x15ac+-0x1e17+0x86e*0x1,ds=-0x29a+0x1b94+-0x18f6,Rn=-0x16d0+-0x2*-0x197+0x27*0x81,ca=0x1bd8+-0x9d5*0x1+0x5ff*-0x3,ha=-0x11d6+0x7*-0x53+0x1422,da=0x8dc+0x425+-0xcf9,tl=0xe2*-0x7+-0x2*-0x4f+0x599*0x1,sl=-0x26d3+-0x2*0x8ad+-0xd*-0x453,il=-0x1*-0x101e+-0x2*0xe81+0xcef,_h=-0x689+0x4b*0x72+-0x1ad1,On=-0x15fd+-0x2*0xbd0+0x2daa,li=-0x2f*-0x4f+0x1ca*-0x11+0xff7,Hx=0x35*0x5f+0x22b7*-0x1+0xf1b,Wx=0x211a*-0x1+0x20fd+-0x3*-0xf,ud=0x1ff1+0x19*0x52+0x27e2*-0x1,$x=0x1ca9+0x3*-0x595+-0xbd8,Xx=-0x1305*0x1+0x1492+-0x15*0x12,qx=0x19b2+0x19d0+0x1*-0x336e,pd=0x1*-0x4ff+-0x13ee+0x1902,md=0xb*-0x13+0x4cd*0x4+-0x5*0x3a9,Lp=0x1277+0x16b5+-0x2915,wy=-0x17bd*0x1+0x26e4+-0xf0f,jx=-0x33b*-0xc+-0x5*-0x3d9+-0x39e8,Fn=0x274+0x223f+-0x1b*0x15b,Nn=-0x49*0x1d+0x174b*-0x1+-0x1fab*-0x1,kn=-0x34+-0x2014+-0x2064*-0x1,Un=-0x19c4+0x1b70+-0x18f,Bn=0x1*-0xfb3+0xa90+0x10d*0x5,_d=-0x2605*-0x1+0xc8d+0x3*-0x10d1,gd=-0x546+0x611+-0xab,zn=0x22cc+0x283*-0xb+-0x70a,Sd=-0x54f+-0x131c+-0x82f*-0x3,yd=-0xdf+0x10bc+-0x29f*0x6,Vn=-0x1*-0x1c68+0x3*-0xb3f+-0x1d3*-0x3,vd=0x1297+0x3ee+0xb30*-0x2,xd=0x538+-0x20b3*0x1+-0x1ba1*-0x1,gh=0x102a*0x1+0x7*0x3d3+0x1*-0x2ac8,Rp=-0x1f*-0x10+0x79*0x5+0x425*-0x1,Op=0x29*0xbe+-0x1713+-0x732,Yx=-0x2e3*0xa+-0x1dad+0x7*0x863,Kx=0x261a+-0x24a8+-0x147,Zx=-0x1239*0x2+-0x7a*0x3b+0x40bc,Qx=-0xd*0x1a5+-0x9d4+0x1f62,Jx=0xf3+0x604+-0x6c9,eT=-0x485*0x4+0x1fb9+-0xd76,tT=0x5a8+-0xccf*0x2+-0x1426*-0x1,sT=0x2432+-0x2109+-0x2f8,Ey=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],iT=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],rT=new Map();iT['forEach']((_0x3591c9,_0xfd53b6)=>{_0x3591c9['forEach'](_0x584099=>rT['set'](_0x584099,_0xfd53b6));});const aT='webgl2',Fp=0x61*0x1d+0x151*-0x1+-0x19*0x63,by=0x2*0x8dd+0xe31+-0x185*0x15,nT=-0x1205+-0xde1+0x1fea,oT='ldr',Ay=-0xea*0x11+0x56*0x6a+-0x1411*0x1,Cy=0x1f01+0x12f*-0x1+0x12*-0x1a8,Py=0x2*0x135a+-0x1e9a+0x816*-0x1,My=0x105b*-0x1+-0x239e*0x1+-0x3401*-0x1,Dy=-0x5c7+-0x2435+-0x1d4*-0x17,Iy=-0x1*0x77c+0x90c+-0x170,Ly=0x2592*0x1+-0xa71+-0x1*0x1ae1,Ry=0x1*0x2683+0x171e+-0x3d21*0x1,lT=-0x25*0x61+0xa41+0x4c3,rl=-0x1*0x685+-0x147*-0xf+-0x1*0xca4,Oy=0x135b+-0x49d*0x8+0x118e,su=0x182c+-0x1*0x1cb3+0x489,Np='default',wn=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],No=[-0x53*0x2f+-0x9b*0x14+0x1b5a*0x1,0x25a+0xc67+-0xec0,-0x1c*-0xb8+0x1*0xef9+-0x2b3*0xd,-0xb5a*-0x3+-0x621+-0x1beb,0x26e8+0xb*-0x17d+0x481*-0x5,-0xa86+0x4ee*-0x2+0x175*0xe,-0x1ef3+0x2*-0xa8b+0x29*0x145,-0x10a3*0x2+-0x7*0x449+0x3f47],cT=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Sh=[Uint8Array,Uint16Array,Uint32Array],hT=[0x2440+0x106*-0xf+-0x6f7*0x3,0x102b+-0x1*-0x3b3+-0x13dc,-0x61+-0x7*-0xb+0x18],Fy=new Map([['float','f32'],['vec2','vec2f'],['vec3','vec3f'],['vec4','vec4f'],['int','i32'],['ivec2','vec2i'],['ivec3','vec3i'],['ivec4','vec4i'],['uint','u32'],['uvec2','vec2u'],['uvec3','vec3u'],['uvec4','vec4u']]),Le={};Le[Me]=-0x265e*-0x1+0xca9*0x3+0x1973*-0x3,Le[gs]=0x1dea+0xe39*-0x1+0xfb*-0x10,Le[gi]=0x1bf9+-0x224c+0x655,Le[us]=-0xae2+0xd33+-0x24e,Le[Wt]=-0x348+-0x1c24+0x1f70,Le[is]=0x2346+-0x1c*0xac+-0x1071,Le[ba]=0xc00+-0x51b*0x2+-0x1c4,Le[wl]=-0xab*0xa+0x1*0x9d1+-0x31c,Le[El]=0x26f3+0x6f1*-0x1+-0x1ffa,Le[bl]=0xdf2+-0x46a+-0x97f,Le[Al]=0x1046+-0x1*0xed2+-0x16a,Le[Cl]=0x23dd+-0x20a7+-0x32b,Le[Pl]=-0x13ae+-0x23af+0x3769,Le[yi]=0x267+-0x47c+0x1a*0x15,Le[Jf]=0x142d+-0x23f4+0xfc7,Le[uh]=-0x496*0x1+-0x258d+0x2a24,Le[Ap]=0x2643+-0x1b1*-0x1+-0x27f2,Le[Cp]=-0x25e6+-0x752+0x2d3b,Le[Pp]=0x1*-0x8a8+0x445+0x467,Le[Rx]=-0x200+-0x1*-0x76b+-0x566,Le[Ox]=-0x484+-0x1*0x17ff+-0x1e7*-0xf,Le[Fx]=0x1cbc+-0x1dc1+0x4*0x43,Le[Ko]=0x2022+-0x207d+0x63,Le[Zo]=0x5bf*-0x1+-0x1*-0x1aa5+-0x14dd,Le[Nx]=-0x2363*0x1+-0x1a*0x1d+0x265f,Le[Mp]=-0x16e1*-0x1+0x1653+-0x2d29,Le[Dp]=0x2377*0x1+-0x14*0x40+0x1e6b*-0x1,Le[ph]=-0x1*0x159d+-0x1d3c*-0x1+0x33*-0x26,Le[Ip]=0xe3d+0x1c2+-0xff1,Le[Ln]=0x1*-0x141d+0x291*0x6+0x4c6;const mr=class mr{static['clearGpuMa'+'rkers'](){mr['markers']['length']=-0x7de+-0x2d7*0x9+0x216d;}static['pushGpuMar'+'ker'](_0x5aa14b,_0x5204f2){mr['markers']['push'](_0x5204f2),_0x5aa14b['pushMarker'](_0x5204f2);}static['popGpuMark'+'er'](_0x45ee60){mr['markers']['length']&&mr['markers']['pop'](),_0x45ee60['popMarker']();}static['toString'](){return mr['markers']['join']('\x20|\x20');}};h(mr,'markers',[]);let Q=mr,dT=-0x13be+0x17*-0x107+0x3*0xe75;class Td{constructor(_0x444704,_0x56f1d5){h(this,'slot',-(-0x2205+0x1*-0x103a+0x3240)),h(this,'scopeId',null),(this['name']=_0x444704,this['visibility']=_0x56f1d5);}}class kp extends Td{}class fT extends Td{constructor(_0x1db4ab,_0x17eeb8,_0x720ebd=!(-0x537+-0x8e9*-0x1+-0x3b1)){super(_0x1db4ab,_0x17eeb8),h(this,'format',''),(this['readOnly']=_0x720ebd,w['assert'](_0x720ebd||!(_0x17eeb8&Fp),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class Gm extends Td{constructor(_0x396996,_0x425ff9,_0x2112a2=xy,_0x5f52b9=zx,_0x2132f4=!(-0xea3+-0x1*0x1ba9+0x1526*0x2),_0x455c1a=null){super(_0x396996,_0x425ff9),this['textureDim'+'ension']=_0x2112a2,this['sampleType']=_0x5f52b9,this['hasSampler']=_0x2132f4,this['samplerNam'+'e']=_0x455c1a??_0x396996+'_sampler';}}class uT extends Td{constructor(_0x3fc072,_0x5143d8=Ne,_0x3f9d25=xy,_0x5da7cb=!(0x1*0x8a1+-0xab0+-0x1*-0x20f),_0x2c3da7=!(0x9a5*0x1+0x1*-0x200c+-0x2*-0xb34)){super(_0x3fc072,nT),this['format']=_0x5143d8,this['textureDim'+'ension']=_0x3f9d25,this['write']=_0x5da7cb,this['read']=_0x2c3da7;}}class Ny{constructor(_0x28874f,_0x1f645c){h(this,'uniformBuf'+'ferFormats',[]),h(this,'textureFor'+'mats',[]),h(this,'storageTex'+'tureFormat'+'s',[]),h(this,'storageBuf'+'ferFormats',[]),(this['id']=dT++,Ea['setName'](this,'BindGroupF'+'ormat_'+this['id']),w['assert'](_0x1f645c));let _0x598a9e=-0xba6+0x1*-0x1f9c+0x2b42;_0x1f645c['forEach'](_0x26f9f7=>{_0x26f9f7['slot']=_0x598a9e++,_0x26f9f7 instanceof Gm&&_0x26f9f7['hasSampler']&&_0x598a9e++,_0x26f9f7 instanceof kp?this['uniformBuf'+'ferFormats']['push'](_0x26f9f7):_0x26f9f7 instanceof Gm?this['textureFor'+'mats']['push'](_0x26f9f7):_0x26f9f7 instanceof uT?this['storageTex'+'tureFormat'+'s']['push'](_0x26f9f7):_0x26f9f7 instanceof fT?this['storageBuf'+'ferFormats']['push'](_0x26f9f7):w['assert']('Invalid\x20bi'+'nd\x20format',_0x26f9f7);}),this['device']=_0x28874f;const _0x493c31=_0x28874f['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x402ec5,_0x83cff)=>this['bufferForm'+'atsMap']['set'](_0x402ec5['name'],_0x83cff)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x5e493d,_0x386c16)=>{this['textureFor'+'matsMap']['set'](_0x5e493d['name'],_0x386c16),_0x5e493d['scopeId']=_0x493c31['resolve'](_0x5e493d['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x33040a,_0x7e4f90)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x33040a['name'],_0x7e4f90),_0x33040a['scopeId']=_0x493c31['resolve'](_0x33040a['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x4ac8bb,_0x42bf9e)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x4ac8bb['name'],_0x42bf9e),_0x4ac8bb['scopeId']=_0x493c31['resolve'](_0x4ac8bb['name']);}),this['impl']=_0x28874f['createBind'+'GroupForma'+'tImpl'](this),w['trace'](K0,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+Q['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0xcf8c6b){const _0x12b60b=this['textureFor'+'matsMap']['get'](_0xcf8c6b);return _0x12b60b!==void(-0x5f4+0x59*0x59+-0x18fd*0x1)?this['textureFor'+'mats'][_0x12b60b]:null;}['getStorage'+'Texture'](_0x4cdad9){const _0x112d63=this['storageTex'+'tureFormat'+'sMap']['get'](_0x4cdad9);return _0x112d63!==void(0x98d*-0x1+0x1*0x24ad+0x2*-0xd90)?this['storageTex'+'tureFormat'+'s'][_0x112d63]:null;}['loseContex'+'t'](){}}class Kt{constructor(){h(this,'_cache',new Map());}['get'](_0x10f94c,_0x13562f){return this['_cache']['has'](_0x10f94c)||(this['_cache']['set'](_0x10f94c,_0x13562f()),_0x10f94c['on']('destroy',()=>{this['remove'](_0x10f94c);}),_0x10f94c['on']('devicelost',()=>{var _0xa89090,_0x244885;(_0x244885=(_0xa89090=this['_cache']['get'](_0x10f94c))==null?void(-0x40e*-0x2+0x13ef+-0x1c0b):_0xa89090['loseContex'+'t'])==null||_0x244885['call'](_0xa89090,_0x10f94c);})),this['_cache']['get'](_0x10f94c);}['remove'](_0x192d58){var _0x245b60,_0x320b03;(_0x320b03=(_0x245b60=this['_cache']['get'](_0x192d58))==null?void(-0x26ee+-0xd4d+0x3*0x1169):_0x245b60['destroy'])==null||_0x320b03['call'](_0x245b60,_0x192d58),this['_cache']['delete'](_0x192d58);}}class Xi{static['calcLevelD'+'imension'](_0x47bf9e,_0x5573ad){return Math['max'](_0x47bf9e>>_0x5573ad,0x2*-0x3ed+-0x1a30+0x220b);}static['calcMipLev'+'elsCount'](_0x2e6a39,_0x5e0d6a,_0x38ff4f=-0x729+-0x2*-0xaac+-0x1*0xe2e){return 0x17*0x188+0x2465+0x11e7*-0x4+Math['floor'](Math['log2'](Math['max'](_0x2e6a39,_0x5e0d6a,_0x38ff4f)));}static['calcLevelG'+'puSize'](_0x53a5ff,_0x4f2617,_0x1b6683,_0x2cf46c){var _0x59fa71;const _0x1d243f=Nt['get'](_0x2cf46c);w['assert'](_0x1d243f!==void(0x2446+-0x1053+-0x13f3),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x2cf46c);const _0x4064b5=((_0x59fa71=Nt['get'](_0x2cf46c))==null?void(0x170*-0x4+0x59d*0x1+0x23):_0x59fa71['size'])??-0x244+0x22d*0xa+-0x5*0x3e6;if(_0x4064b5>0x151a+-0x5c2+-0xf58)return _0x53a5ff*_0x4f2617*_0x1b6683*_0x4064b5;const _0x96fe31=_0x1d243f['blockSize']??-0x1cc+-0x1418+0x1d3*0xc;let _0x5e7f83=Math['floor']((_0x53a5ff+(0x1*-0x1ed+0x1*0x4c4+-0x2d4*0x1))/(-0xcfc+0x72e+0x5d2));const _0xeffeca=Math['floor']((_0x4f2617+(-0x12*-0x99+-0x39*-0xad+0x18a2*-0x2))/(0x21a7+-0x105d+0x1*-0x1146)),_0x12a610=Math['floor']((_0x1b6683+(0x7*0x511+-0xb3e*-0x2+-0x73e*0x8))/(0x2*0x907+0x62f*0x3+-0x2497));return(_0x2cf46c===xl||_0x2cf46c===Tl)&&(_0x5e7f83=Math['max'](Math['floor'](_0x5e7f83/(0x18b2+0x1*0xe7f+0x1*-0x272f)),0xa61*-0x1+0x8e*-0x1f+-0x2*-0xdca)),_0x5e7f83*_0xeffeca*_0x12a610*_0x96fe31;}static['calcGpuSiz'+'e'](_0x13ad57,_0x2f1b63,_0x4d0f00,_0x2be4b4,_0x5d32b3,_0x5ab257){let _0x2da927=-0xb*0x255+0x4*0xa9+0x2b*0x89;for(;_0x2da927+=Xi['calcLevelG'+'puSize'](_0x13ad57,_0x2f1b63,_0x4d0f00,_0x2be4b4),!(!_0x5d32b3||_0x13ad57===0x150b*-0x1+-0x95*-0x2a+0x1*-0x366&&_0x2f1b63===-0x266c+0x25*-0x97+0x3c40&&_0x4d0f00===-0x385+-0x1*-0x1867+-0x14e1);)_0x13ad57=Math['max'](_0x13ad57>>0x3*0x13d+0x6*-0x251+0xa30,-0x706+-0x1*0x61b+-0x1*-0xd22),_0x2f1b63=Math['max'](_0x2f1b63>>0x29*0x3b+0x1436+-0x124*0x1a,-0xa24+0x2*-0x42d+0x127f),_0x4d0f00=Math['max'](_0x4d0f00>>0x27*-0x36+-0x943+0x117e*0x1,0x1*0x9d+-0x26b*-0x9+0xf9*-0x17);return _0x2da927*(_0x5ab257?0x990+-0x2*-0xa3d+-0x1e04:-0x11a2+-0x164*-0xf+0x113*-0x3);}}let pT=0xb7*0x7+0x2*-0xaf+-0x13*0x31;class _e{constructor(_0x4b9150,_0x17c528={}){h(this,'name'),h(this,'_gpuSize',0x59*-0x41+-0x19c1*-0x1+-0x194*0x2),h(this,'id',pT++),h(this,'_invalid',!(0x398+-0x3*-0x4b1+-0x11aa)),h(this,'_lockedLev'+'el',-(-0x968+0x123a+-0x8d1)),h(this,'_lockedMod'+'e',$l),h(this,'renderVers'+'ionDirty',-0x6fa+0xa9a*-0x3+0x8*0x4d9),h(this,'_storage',!(0xda1+0xbd0+-0x16*0x128)),h(this,'_numLevels',-0x18cb*-0x1+-0xf7f+-0x22*0x46),h(this,'_numLevels'+'Requested');var _0x18c9d1;this['device']=_0x4b9150,w['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),w['assert'](!_0x17c528['width']||Number['isInteger'](_0x17c528['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x17c528),w['assert'](!_0x17c528['height']||Number['isInteger'](_0x17c528['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x17c528),w['assert'](!_0x17c528['depth']||Number['isInteger'](_0x17c528['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x17c528),this['name']=_0x17c528['name']??'',this['_width']=Math['floor'](_0x17c528['width']??0xea9+0x2538+-0x4b7*0xb),this['_height']=Math['floor'](_0x17c528['height']??-0xd1e+-0xb26+-0x40c*-0x6),this['_format']=_0x17c528['format']??Ne,this['_compresse'+'d']=Ix(this['_format']),this['_integerFo'+'rmat']=dn(this['_format']),this['_integerFo'+'rmat']&&(_0x17c528['minFilter']=Te,_0x17c528['magFilter']=Te),this['_volume']=_0x17c528['volume']??!(0x212*-0x4+-0x1*-0x1ccf+0x1*-0x1486),this['_depth']=Math['floor'](_0x17c528['depth']??0x24a0+0x2*-0x1f7+-0x20b1),this['_arrayLeng'+'th']=Math['floor'](_0x17c528['arrayLengt'+'h']??-0x44e*-0x8+-0x6e*-0x25+-0x3256),this['_storage']=_0x17c528['storage']??!(-0x195c+-0x5de+0xa69*0x3),this['_cubemap']=_0x17c528['cubemap']??!(-0x1*-0x20b1+-0x12e+-0x25*0xda),this['_flipY']=_0x17c528['flipY']??!(0x58f*-0x3+0x1*-0x607+0x16b5),this['_premultip'+'lyAlpha']=_0x17c528['premultipl'+'yAlpha']??!(-0x5ba+0x1*0x2397+-0x93*0x34),this['_mipmaps']=_0x17c528['mipmaps']??!(-0x5*-0x1a1+-0x1*-0xc5+-0x146*0x7),this['_numLevels'+'Requested']=_0x17c528['numLevels'],_0x17c528['numLevels']!==void(-0x1*-0x2195+-0x130e+-0xe87*0x1)&&(this['_numLevels']=_0x17c528['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x17c528['minFilter']??ma,this['_magFilter']=_0x17c528['magFilter']??vt,this['_anisotrop'+'y']=_0x17c528['anisotropy']??-0x165+0x12bc+-0x1*0x1156,this['_addressU']=_0x17c528['addressU']??yt,this['_addressV']=_0x17c528['addressV']??yt,this['_addressW']=_0x17c528['addressW']??yt,this['_compareOn'+'Read']=_0x17c528['compareOnR'+'ead']??!(0x9*0x2d0+-0xe91+-0xabe),this['_compareFu'+'nc']=_0x17c528['compareFun'+'c']??hh,this['_type']=_0x17c528['type']??Ds,w['assert'](!_0x17c528['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),w['assert'](!_0x17c528['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=Vx,this['_cubemap']?this['projection']=tu:_0x17c528['projection']&&_0x17c528['projection']!==tu&&(this['projection']=_0x17c528['projection']),this['profilerHi'+'nt']=_0x17c528['profilerHi'+'nt']??0xf42+0x1b25*-0x1+0xbe3,this['_levels']=_0x17c528['levels'];const _0xb130d1=!!_0x17c528['levels'];this['_levels']||this['_clearLeve'+'ls'](),this['recreateIm'+'pl'](_0xb130d1),_0x4b9150['textures']['push'](this),w['trace'](Dm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0x18c9d1=Nt['get'](this['format']))==null?void(0xce*-0x1+0xdb7+0xce9*-0x1):_0x18c9d1['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){w['trace'](Dm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x390b63=this['device'];if(_0x390b63){const _0x139985=_0x390b63['textures']['indexOf'](this);_0x139985!==-(-0x22fc+-0x3c*0x60+-0x1*-0x397d)&&_0x390b63['textures']['splice'](_0x139985,0x53d+0x1cb5+-0x21f1),_0x390b63['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0x390b63),this['adjustVram'+'SizeTracki'+'ng'](_0x390b63['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x4d18eb=!(-0x16c1+0xf28+0x799)){var _0x1ee634;const {device:_0x3c5d6e}=this;(_0x1ee634=this['impl'])==null||_0x1ee634['destroy'](_0x3c5d6e),this['impl']=null,this['impl']=_0x3c5d6e['createText'+'ureImpl'](this),this['dirtyAll'](),_0x4d18eb&&this['upload']();}['_clearLeve'+'ls'](){this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null];}['resize'](_0x488da8,_0x34fff8,_0x36457a=0x6*0xc9+-0x200f+0x1b5a){const _0x3302bf=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x3302bf['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x3302bf),this['_clearLeve'+'ls'](),this['_width']=Math['floor'](_0x488da8),this['_height']=Math['floor'](_0x34fff8),this['_depth']=Math['floor'](_0x36457a),this['_updateNum'+'Level'](),this['impl']=_0x3302bf['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x512c72,_0x15af36){w['trace'](X0,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x15af36+('\x20vram.text'+'ure:\x20')+_0x512c72['tex']+'\x20=>\x20'+(_0x512c72['tex']+_0x15af36)),_0x512c72['tex']+=_0x15af36,this['profilerHi'+'nt']===eu?_0x512c72['texShadow']+=_0x15af36:this['profilerHi'+'nt']===Pr?_0x512c72['texAsset']+=_0x15af36:this['profilerHi'+'nt']===vy&&(_0x512c72['texLightma'+'p']+=_0x15af36);}['propertyCh'+'anged'](_0x469734){this['impl']['propertyCh'+'anged'](_0x469734),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x31420c=this['mipmaps']?Xi['calcMipLev'+'elsCount'](this['width'],this['height']):0x1*-0x1001+-0x14c6+0x1264*0x2,_0x3a2a51=this['_numLevels'+'Requested'];_0x3a2a51!==void(0x25*-0x101+0x126b+-0x8d*-0x22)&&_0x3a2a51>_0x31420c&&w['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x31420c,this),this['_numLevels']=Math['min'](_0x3a2a51??_0x31420c,_0x31420c),this['_mipmaps']=this['_numLevels']>-0x2c4+0x104c+0x1*-0xd87;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x3b9004){this['_minFilter']!==_0x3b9004&&(dn(this['_format'])?w['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x3b9004,this['propertyCh'+'anged'](Ay)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x248ec6){this['_magFilter']!==_0x248ec6&&(dn(this['_format'])?w['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x248ec6,this['propertyCh'+'anged'](Cy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0x3be438){this['_addressU']!==_0x3be438&&(this['_addressU']=_0x3be438,this['propertyCh'+'anged'](Py));}get['addressU'](){return this['_addressU'];}set['addressV'](_0x4779a5){this['_addressV']!==_0x4779a5&&(this['_addressV']=_0x4779a5,this['propertyCh'+'anged'](My));}get['addressV'](){return this['_addressV'];}set['addressW'](_0x394679){if(!this['_volume']){w['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0x394679!==this['_addressW']&&(this['_addressW']=_0x394679,this['propertyCh'+'anged'](Dy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x5c0562){this['_compareOn'+'Read']!==_0x5c0562&&(this['_compareOn'+'Read']=_0x5c0562,this['propertyCh'+'anged'](Iy));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x9aa343){this['_compareFu'+'nc']!==_0x9aa343&&(this['_compareFu'+'nc']=_0x9aa343,this['propertyCh'+'anged'](Ly));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x1d1d86){this['_anisotrop'+'y']!==_0x1d1d86&&(this['_anisotrop'+'y']=_0x1d1d86,this['propertyCh'+'anged'](Ry));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x159eb5){this['_mipmaps']!==_0x159eb5&&(this['device']['isWebGPU']?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):dn(this['_format'])?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x159eb5,_0x159eb5&&(this['_needsMipm'+'apsUpload']=!(-0x5fb*-0x2+-0x115e+0x568)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x26a4f1=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===0xd4d+-0x2696+0x194a);return Xi['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x26a4f1,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>0x22b2*0x1+0x2*-0xc0b+-0xe*0xc2;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['type'](_0x222c20){this['_type']!==_0x222c20&&(this['_type']=_0x222c20,this['device']['_shadersDi'+'rty']=!(0x61*0x61+-0x19*-0xf4+-0x3c95));}get['type'](){return this['_type'];}set['srgb'](_0x3c8f3c){var _0x493765,_0x574630,_0xa2ac3c,_0x18714c;const _0x3f6e99=fh(this['format']);if(_0x3c8f3c!==_0x3f6e99){if(_0x3c8f3c){const _0x55e990=ld(this['format']);this['_format']!==_0x55e990&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x493765=Nt['get'](this['format']))==null?void(0x3*0x4b7+0x13a1+-0x21c6):_0x493765['name'])+'\x20->\x20'+((_0x574630=Nt['get'](_0x55e990))==null?void(-0x19*0xb8+0xab8+0x740):_0x574630['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x55e990,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x5b9+-0xf*0xd+-0x33e*-0x2));}else{const _0x2a72c7=Lx(this['format']);this['_format']!==_0x2a72c7&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0xa2ac3c=Nt['get'](this['format']))==null?void(-0x20a8+0x14a4+-0x4*-0x301):_0xa2ac3c['name'])+'\x20->\x20'+((_0x18714c=Nt['get'](_0x2a72c7))==null?void(0x95*0x31+0x265*0xe+-0x3e0b):_0x18714c['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x2a72c7,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(0x236a+-0x2268+-0x56*0x3));}}}get['srgb'](){return fh(this['format']);}set['flipY'](_0x5c3af2){this['_flipY']!==_0x5c3af2&&(this['_flipY']=_0x5c3af2,this['_needsUplo'+'ad']=!(-0x11c8*-0x1+0x139f+-0x17f*0x19));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x5ea36a){this['_premultip'+'lyAlpha']!==_0x5ea36a&&(this['_premultip'+'lyAlpha']=_0x5ea36a,this['_needsUplo'+'ad']=!(0xeae+0x200b+-0x2eb9));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return Y['powerOfTwo'](this['_width'])&&Y['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case Zi:return'rgbm';case mh:return'rgbe';case Qo:return'rgbp';}return py(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(0x177*-0x9+0x5*-0x5+0xd48),!(-0x3*-0xcf+0x182*0x8+-0xe7d),!(-0x220+0x1*0x1f28+0x3a1*-0x8),!(0x2*-0xd8d+0x2381+-0x867),!(-0x4*0x469+-0x58*-0x46+-0x66c),!(-0x1*0xc6d+0xc75*-0x3+-0x4*-0xc73)]]:[!(0x74c*0x1+-0xa07*-0x1+-0x1153)],this['_needsUplo'+'ad']=!(-0xa*0x6d+0x210b+-0x1*0x1cc9),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(-0x1*0xb27+-0x31*0x3+0xbbb),this['propertyCh'+'anged'](lT);}['lock'](_0x58fa36={}){_0x58fa36['level']??(_0x58fa36['level']=-0x4b*0x2+0x131d*0x1+-0x33*0x5d),_0x58fa36['face']??(_0x58fa36['face']=-0x1*-0x30f+-0xa31+0x722),_0x58fa36['mode']??(_0x58fa36['mode']=Od),w['assert'](this['_lockedMod'+'e']===$l,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),w['assert'](_0x58fa36['mode']===yy||_0x58fa36['mode']===Od,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x58fa36['mode'],this['_lockedLev'+'el']=_0x58fa36['level'];const _0x333900=this['cubemap']?this['_levels'][_0x58fa36['face']]:this['_levels'];if((_0x333900==null?void(-0x4*-0x593+0x25a6*-0x1+0x28f*0x6):_0x333900[_0x58fa36['level']])===null){const _0xddca7a=Math['max'](0x2689+0xb6d+0x3f*-0xcb,this['_width']>>_0x58fa36['level']),_0x1d37ab=Math['max'](0x1*0x14d1+-0x176a+0x29a,this['_height']>>_0x58fa36['level']),_0x3d6fff=Math['max'](0x77*0x5+0x1e1b+-0x206d,this['_depth']>>_0x58fa36['level']),_0x1e7762=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0xddca7a,_0x1d37ab,_0x3d6fff,this['_format']));_0x333900[_0x58fa36['level']]=new(my(this['_format']))(_0x1e7762);}return _0x333900==null?void(0x20d4+0x76+-0x2*0x10a5):_0x333900[_0x58fa36['level']];}['setSource'](_0x5a2b9c,_0x153454=0x2024+0x1060+0x5a*-0x8a){let _0x1f6db3=!(0x1ed+0xd*0xb9+-0xb51),_0xd8a4f0,_0x4866e3;if(this['_cubemap']){if(_0x5a2b9c[-0x404+0xc*-0x259+0x2030]){_0xd8a4f0=_0x5a2b9c[0x45e+0x6b*-0x5d+0x2281*0x1]['width']||-0x1fd2+0x19f5+0x5dd*0x1,_0x4866e3=_0x5a2b9c[0x2208+-0x44*-0x52+-0x37d0]['height']||-0x443*-0x9+-0x12bb+-0x13a0;for(let _0x224960=-0x2700+0x1*-0x1de5+0x44e5;_0x224960<-0x112b+0xbb*-0x2e+0x32cb;_0x224960++){const _0xc392b0=_0x5a2b9c[_0x224960];if(!_0xc392b0||_0xc392b0['width']!==_0xd8a4f0||_0xc392b0['height']!==_0x4866e3||!this['device']['_isBrowser'+'Interface'](_0xc392b0)){_0x1f6db3=!(-0xb53+-0x9*-0x405+-0x18da);break;}}}else _0x1f6db3=!(0x1a*-0x156+-0x545+0x2801);if(!_0x1f6db3){for(let _0x129b9b=-0x1*0x2b4+0x1*-0x12e9+0x159d;_0x129b9b<0xb3*-0x3+-0x343+0x562;_0x129b9b++)this['_levels'][_0x153454][_0x129b9b]!==_0x5a2b9c[_0x129b9b]&&(this['_levelsUpd'+'ated'][_0x153454][_0x129b9b]=!(0x140d+-0x171a+0x30d));}}else this['device']['_isBrowser'+'Interface'](_0x5a2b9c)||(_0x1f6db3=!(0x14*-0x1b4+0x1*-0xdb7+-0x97*-0x51)),_0x1f6db3||(_0x5a2b9c!==this['_levels'][_0x153454]&&(this['_levelsUpd'+'ated'][_0x153454]=!(-0x1fc4+0x577*0x1+-0x1a4d*-0x1)),_0x5a2b9c instanceof HTMLVideoElement?(_0xd8a4f0=_0x5a2b9c['videoWidth'],_0x4866e3=_0x5a2b9c['videoHeigh'+'t']):(_0xd8a4f0=_0x5a2b9c['width'],_0x4866e3=_0x5a2b9c['height']));if(_0x1f6db3){if(this['_width']=0x4a3+-0x47*0x49+0x2*0x7d0,this['_height']=0x556*-0x2+0xd*-0x1eb+0x33d*0xb,this['_cubemap']){for(let _0x1a45fb=0x269+0x253f*-0x1+-0x27d*-0xe;_0x1a45fb<0x25c5*-0x1+0x52*0x4+0x2483;_0x1a45fb++)this['_levels'][_0x153454][_0x1a45fb]=null,this['_levelsUpd'+'ated'][_0x153454][_0x1a45fb]=!(0x1439+-0x14d1+-0x2*-0x4c);}else this['_levels'][_0x153454]=null,this['_levelsUpd'+'ated'][_0x153454]=!(0xd63+0x2674+-0x33d7);}else _0x153454===0x347+-0x1a40+-0x1*-0x16f9&&(this['_width']=_0xd8a4f0,this['_height']=_0x4866e3),this['_levels'][_0x153454]=_0x5a2b9c;(this['_invalid']!==_0x1f6db3||!_0x1f6db3)&&(this['_invalid']=_0x1f6db3,this['upload']());}['getSource'](_0xb60b5e=0xd73+-0xe51+-0x6f*-0x2){return this['_levels'][_0xb60b5e];}['unlock'](){this['_lockedMod'+'e']===$l&&w['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===Od&&this['upload'](),this['_lockedLev'+'el']=-(0x2298+-0x2163+-0x134),this['_lockedMod'+'e']=$l;}['upload'](){var _0x2433fb,_0x1fb193;this['_needsUplo'+'ad']=!(0x1825+-0xbe3*0x3+0xb84),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x1fb193=(_0x2433fb=this['impl'])['uploadImme'+'diate'])==null||_0x1fb193['call'](_0x2433fb,this['device'],this);}['read'](_0x4d1af8,_0x5edd19,_0xb49725,_0x317848,_0x11b027={}){var _0x3707e0,_0xd2d856;return(_0xd2d856=(_0x3707e0=this['impl'])['read'])==null?void(0x66c+0x16e5+-0x1d51):_0xd2d856['call'](_0x3707e0,_0x4d1af8,_0x5edd19,_0xb49725,_0x317848,_0x11b027);}['write'](_0x2c814d,_0x34d692,_0x4cdac3,_0x42049f,_0x4195f5){var _0x17e516,_0x2eec17;return(_0x2eec17=(_0x17e516=this['impl'])['write'])==null?void(0x1*-0xa6d+-0x9*-0x295+-0xcd0):_0x2eec17['call'](_0x17e516,_0x2c814d,_0x34d692,_0x4cdac3,_0x42049f,_0x4195f5);}}const mT={'white':[-0x21f2+-0x545*-0x5+0x1b8*0x5,0x1e2a+-0x9*0x453+0x9c0,0x100e+-0x11bf+-0x10*-0x2b,0x1585+0xe57*-0x1+-0x1*0x62f],'gray':[-0x11*-0x1+-0x1df7+-0x2*-0xf33,0x3*-0x905+-0xaa7+0x2636,-0x1d3c+-0x1cb5+0x3a71,-0xb94+-0x17*0x1ab+0x32f0],'black':[0x1333+-0xba5*0x3+-0x7de*-0x2,-0x21fb+0x199+0x2062,0x1130+-0xb5*0xd+0x1*-0x7ff,-0xec7+0x23*0x95+-0x6b*0xb],'normal':[0x93*-0x33+-0x1ec7+-0xc*-0x50c,-0x63+0x9*0x3d1+-0x2176,0xfa2+0x21ea+-0x308d,-0xdd+0x1455+0x1*-0x1279],'pink':[-0x11f*0x15+0x108c+0x5d*0x16,-0x1181*0x2+-0x2*0x43f+0x2c00,0x1e0b*-0x1+0x1*-0xaf4+0x29fe,-0xa61*-0x3+0x1cff+-0x3b23]};class _T{constructor(){h(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x4b51a1=>{_0x4b51a1['destroy']();});}}const gT=new Kt(),fa=(_0x37c192,_0x3f0914)=>{const _0xc5dbf1=gT['get'](_0x37c192,()=>new _T());if(!_0xc5dbf1['map']['has'](_0x3f0914)){const _0xdc3005=new _e(_0x37c192,{'name':'built-in-t'+'exture-'+_0x3f0914,'width':0x1,'height':0x1,'format':Ne}),_0x8751d9=_0xdc3005['lock'](),_0x587c58=mT[_0x3f0914];w['assert'](_0x587c58,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x3f0914+('\x27\x20not\x20foun'+'d')),_0x8751d9['set'](_0x587c58),_0xdc3005['unlock'](),_0xc5dbf1['map']['set'](_0x3f0914,_0xdc3005);}return _0xc5dbf1['map']['get'](_0x3f0914);};let ST=0x1d8a+0x879+-0x107*0x25;class ky{constructor(){h(this,'bindGroup'),h(this,'offsets',[]);}}class Up{constructor(_0x3e6216,_0xcdc9a5,_0x3b45fa){h(this,'renderVers'+'ionUpdated',-(-0x5*0x6db+0xb46+0x26*0x9b)),h(this,'uniformBuf'+'fers'),h(this,'uniformBuf'+'ferOffsets',[]),(this['id']=ST++,this['device']=_0x3e6216,this['format']=_0xcdc9a5,this['dirty']=!(-0x1e7*-0x7+0x32b*0x5+0x4dc*-0x6),this['impl']=_0x3e6216['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x3b45fa,_0x3b45fa&&this['setUniform'+'Buffer'](Np,_0x3b45fa),w['trace'](Y0,'Alloc:\x20Id\x20'+this['id'],this,_0xcdc9a5));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x460ee5,_0x4dbcd3){const _0x2e68e2=this['format']['bufferForm'+'atsMap']['get'](_0x460ee5);w['assert'](_0x2e68e2!==void(-0x25*-0xd1+0xbe+-0x1ef3),'Setting\x20a\x20'+'uniform\x20['+_0x460ee5+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['uniformBuf'+'fers'][_0x2e68e2]!==_0x4dbcd3&&(this['uniformBuf'+'fers'][_0x2e68e2]=_0x4dbcd3,this['dirty']=!(-0x5*-0x1be+0x197d+-0x2233));}['setStorage'+'Buffer'](_0x302cf8,_0x2ffb92){const _0x3dd9b5=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x302cf8);w['assert'](_0x3dd9b5!==void(-0x13c1+0xb*-0x315+0x35a8),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x302cf8+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageBuf'+'fers'][_0x3dd9b5]!==_0x2ffb92&&(this['storageBuf'+'fers'][_0x3dd9b5]=_0x2ffb92,this['dirty']=!(0x150b+0x1*0x1dd5+-0x4a0*0xb));}['setTexture'](_0x5013fe,_0x7f658b){const _0x29d6e5=this['format']['textureFor'+'matsMap']['get'](_0x5013fe);w['assert'](_0x29d6e5!==void(-0x8a6+-0x2656*-0x1+-0x1db0),'Setting\x20a\x20'+'texture\x20['+_0x5013fe+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['textures'][_0x29d6e5]!==_0x7f658b?(this['textures'][_0x29d6e5]=_0x7f658b,this['dirty']=!(0xef6+-0x341+-0xbb5)):this['renderVers'+'ionUpdated']<_0x7f658b['renderVers'+'ionDirty']&&(this['dirty']=!(0x21fc+-0x1aef+-0x70d));}['setStorage'+'Texture'](_0x51726d,_0x595c74){const _0x93c0f9=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x51726d);w['assert'](_0x93c0f9!==void(-0x304+-0x2c5*-0x5+-0xad5),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x51726d+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageTex'+'tures'][_0x93c0f9]!==_0x595c74?(this['storageTex'+'tures'][_0x93c0f9]=_0x595c74,this['dirty']=!(-0x5be*0x5+0x25*0x67+-0xdd3*-0x1)):this['renderVers'+'ionUpdated']<_0x595c74['renderVers'+'ionDirty']&&(this['dirty']=!(-0x197+-0xc11+0xda8));}['updateUnif'+'ormBuffers'](){for(let _0x5f3c95=0x1067+-0x965+-0x702;_0x5f3c95<this['uniformBuf'+'fers']['length'];_0x5f3c95++)this['uniformBuf'+'fers'][_0x5f3c95]['update']();}['update'](){const {textureFormats:_0x42f2ce,storageTextureFormats:_0x190d41,storageBufferFormats:_0x5445b3}=this['format'];for(let _0x5dbd53=0xb33+-0x1*0x1d39+0x301*0x6;_0x5dbd53<_0x42f2ce['length'];_0x5dbd53++){const _0x2212b7=_0x42f2ce[_0x5dbd53];let _0x428721=_0x2212b7['scopeId']['value'];_0x428721||(_0x2212b7['name']==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x428721=fa(this['device'],'white')),_0x2212b7['name']==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x428721=fa(this['device'],'pink')),_0x428721||(w['errorOnce']('Texture\x20'+_0x2212b7['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+Q['toString']()+']'),_0x428721=fa(this['device'],'pink'))),this['setTexture'](_0x2212b7['name'],_0x428721);}for(let _0x4df961=0x1a*-0xb+-0x1f*0x3b+-0x1a7*-0x5;_0x4df961<_0x190d41['length'];_0x4df961++){const _0x51e07a=_0x190d41[_0x4df961],_0x4bc7c0=_0x51e07a['scopeId']['value'];w['assert'](_0x4bc7c0,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x51e07a['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Texture'](_0x51e07a['name'],_0x4bc7c0);}for(let _0x36a670=-0x16c3*0x1+0x1*0x178d+-0xca;_0x36a670<_0x5445b3['length'];_0x36a670++){const _0x24da38=_0x5445b3[_0x36a670],_0x215513=_0x24da38['scopeId']['value'];w['assert'](_0x215513,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0x24da38['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Buffer'](_0x24da38['name'],_0x215513);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0x3b20ab=-0x1*0x2547+-0x1fd8+0x451f;_0x3b20ab<this['uniformBuf'+'fers']['length'];_0x3b20ab++){const _0x1ee80d=this['uniformBuf'+'fers'][_0x3b20ab];this['uniformBuf'+'ferOffsets'][_0x3b20ab]=_0x1ee80d['offset'],this['renderVers'+'ionUpdated']<_0x1ee80d['renderVers'+'ionDirty']&&(this['dirty']=!(-0xa3*0x16+0x1*0x38c+0xa76*0x1));}this['dirty']&&(this['dirty']=!(-0x2c6*-0x2+0xa*0x2b+-0x739),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const qe={'set'(_0x37a6d2,_0x423886,_0x2938a0,_0x273638=0x1ef7+-0xcd7+-0x121f*0x1){return _0x37a6d2&~(_0x273638<<_0x2938a0)|_0x423886<<_0x2938a0;},'get'(_0x4b15a5,_0x2e704a,_0xf0ae02=0x88f*-0x3+-0x5ad*-0x3+0x8a7){return _0x4b15a5>>_0x2e704a&_0xf0ae02;},'all'(_0x499384,_0x21fc5b,_0x44f89f=0x1336+0x91d*-0x3+0x411*0x2){const _0x3e710e=_0x44f89f<<_0x21fc5b;return(_0x499384&_0x3e710e)===_0x3e710e;},'any'(_0x214f32,_0x2f1728,_0x27d856=-0x312+-0x1e7*0x3+0x8c8){return(_0x214f32&_0x27d856<<_0x2f1728)!==-0xee8+0x2d3*0x6+-0x20a*0x1;}},Xl=0x1ea2+-0x4*0x83+-0x1c8f,ir=-0x116c+0x44d*-0x7+0x2f96,Hm=-0x11f6+-0x841*0x2+-0x8*-0x44f,Wm=0xf8c+0x2*-0xdd5+-0x40b*-0x3,$m=-0x20ff+-0x7a*-0x31+0x9ac,Xm=0x15b*0x2+0x233+-0x4de,qm=-0x4da*-0x1+0xdd2+-0x129e,jm=-0x1e14+0x1d7*0x11+-0x121,iu=0x105e+0x1*-0x2587+0x153f,Ym=-0xa8a+0x1461*0x1+-0x68*0x18,Km=0x1744+0x2*-0x1309+0xee6,Zm=0x46d+-0x1cd*0x13+0x1de3,Qm=0x1a39+-0x1*-0xe75+-0x2894,yT=-0x22b2+-0x1682+0x3943,vT=iu,ri=class ri{constructor(_0x525c9c=!(0x137b*0x1+0x253c*0x1+-0x38b6),_0x4a7fd3=fs,_0x468164=Ft,_0xfff558=rp,_0x471f76,_0xe98b80,_0x7c15dc,_0x121fdd=!(-0x1*0x1c14+0x13d9*-0x1+-0x2fed*-0x1),_0x52febe=!(-0x17f*0xd+-0x2bf*-0x5+0x1e8*0x3),_0xba5ae9=!(0x7b5*0x1+-0x139*-0x11+-0xe3f*0x2),_0x5c8fe7=!(-0x58f+0x1b6f+0x5*-0x460)){h(this,'target0',-0x2189+-0x1*0x17f6+0x397f),(this['setColorBl'+'end'](_0x4a7fd3,_0x468164,_0xfff558),this['setAlphaBl'+'end'](_0x471f76??_0x4a7fd3,_0xe98b80??_0x468164,_0x7c15dc??_0xfff558),this['setColorWr'+'ite'](_0x121fdd,_0x52febe,_0xba5ae9,_0x5c8fe7),this['blend']=_0x525c9c);}set['blend'](_0x112747){this['target0']=qe['set'](this['target0'],_0x112747?-0xa*0x68+0x8b5+-0x4a4:0x6aa*0x1+0x13fc*0x1+-0x1aa6,Qm);}get['blend'](){return qe['all'](this['target0'],Qm);}['setColorBl'+'end'](_0x56f962,_0x3d5b80,_0x12f5f4){this['target0']=qe['set'](this['target0'],_0x56f962,Hm,Xl),this['target0']=qe['set'](this['target0'],_0x3d5b80,Wm,ir),this['target0']=qe['set'](this['target0'],_0x12f5f4,$m,ir);}['setAlphaBl'+'end'](_0x1e27df,_0x972282,_0x12f8a8){this['target0']=qe['set'](this['target0'],_0x1e27df,Xm,Xl),this['target0']=qe['set'](this['target0'],_0x972282,qm,ir),this['target0']=qe['set'](this['target0'],_0x12f8a8,jm,ir);}['setColorWr'+'ite'](_0x4eff6b,_0x5cc9ef,_0x390f50,_0x10c22d){this['redWrite']=_0x4eff6b,this['greenWrite']=_0x5cc9ef,this['blueWrite']=_0x390f50,this['alphaWrite']=_0x10c22d;}get['colorOp'](){return qe['get'](this['target0'],Hm,Xl);}get['colorSrcFa'+'ctor'](){return qe['get'](this['target0'],Wm,ir);}get['colorDstFa'+'ctor'](){return qe['get'](this['target0'],$m,ir);}get['alphaOp'](){return qe['get'](this['target0'],Xm,Xl);}get['alphaSrcFa'+'ctor'](){return qe['get'](this['target0'],qm,ir);}get['alphaDstFa'+'ctor'](){return qe['get'](this['target0'],jm,ir);}set['redWrite'](_0x37cfba){this['target0']=qe['set'](this['target0'],_0x37cfba?-0x17fb+0x239*0xc+-0x2b0:0x1*0x15a1+-0x2*0x3dc+0xde9*-0x1,iu);}get['redWrite'](){return qe['all'](this['target0'],iu);}set['greenWrite'](_0x126a8b){this['target0']=qe['set'](this['target0'],_0x126a8b?0x109d*-0x1+0x52*-0x24+0x2*0xe13:-0x1d44+0x1890+0x25a*0x2,Ym);}get['greenWrite'](){return qe['all'](this['target0'],Ym);}set['blueWrite'](_0x29d179){this['target0']=qe['set'](this['target0'],_0x29d179?0x1f95+-0x2e*0x72+-0xb18:-0x1fca+0xd*0x25b+0x17*0xd,Km);}get['blueWrite'](){return qe['all'](this['target0'],Km);}set['alphaWrite'](_0xffb28d){this['target0']=qe['set'](this['target0'],_0xffb28d?0x1*-0x1d5d+-0x1*-0x737+-0x6b*-0x35:0x163c+0x66f+0x1cab*-0x1,Zm);}get['alphaWrite'](){return qe['all'](this['target0'],Zm);}get['allWrite'](){return qe['get'](this['target0'],vT,yT);}['copy'](_0x385daa){return this['target0']=_0x385daa['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0xf5e7ad){return this['target0']===_0xf5e7ad['target0'];}};h(ri,'NOBLEND',Object['freeze'](new ri())),h(ri,'NOWRITE',Object['freeze'](new ri(void(0x528+0x3*-0x794+0x1194),void(-0x1*0x721+0x19ab*-0x1+0x20cc),void(-0xd2f+-0x892*-0x1+0x1*0x49d),void(-0x1389+0x1141+0x248),void(-0x4*0x160+0x1911+-0x1391),void(-0x11b6+-0x98e+0x1b44),void(-0x1710+-0x6b*0x8+0x104*0x1a),!(0x17f6*-0x1+-0x20ec+0x38e3),!(0x3f7*-0x2+-0xd*0xd1+0x128c),!(0x1269+-0x1300+0x98),!(0xcae+-0x109*-0x21+-0x2ed6)))),h(ri,'ALPHABLEND',Object['freeze'](new ri(!(-0x1*-0x1ae3+0x1*0x16d9+-0x1*0x31bc),fs,jh,Yh))),h(ri,'ADDBLEND',Object['freeze'](new ri(!(-0xd4b+0x617*-0x2+0x1*0x1979),fs,Ft,Ft)));let pt=ri;class Bp{constructor(){h(this,'map',new Map()),h(this,'id',-0x67*0x4b+-0x1*-0x1c53+0x6*0x4f);}['get'](_0x369ec6){let _0x3b3327=this['map']['get'](_0x369ec6);return _0x3b3327===void(0x1a23+0x3*-0x2dd+0x118c*-0x1)&&(_0x3b3327=this['id']++,this['map']['set'](_0x369ec6,_0x3b3327)),_0x3b3327;}}const xT=new Bp(),Jm=0x8c*-0x16+-0x2*0xdc7+0x279d,e_=-0xb15*-0x2+0x6ab*-0x1+-0xf7f*0x1,t_=0x1c6d+-0x4ed+0x35b*-0x7,_r=class _r{constructor(_0x26ae6f=Wf,_0x5a9a1d=!(0x1972+-0x2691*0x1+0xd1f)){h(this,'data',0x423+-0x7*0x22+0x1*-0x335),h(this,'_depthBias',0x23*-0x25+0x390+0x17f),h(this,'_depthBias'+'Slope',-0x22*0x2+0x6d*-0x3a+0x18f6),h(this,'key',0xbbe+0x423*-0x9+0x197d),(this['func']=_0x26ae6f,this['write']=_0x5a9a1d);}set['test'](_0x4d9864){this['func']=_0x4d9864?Wf:Wi,this['updateKey']();}get['test'](){return this['func']!==Wi;}set['write'](_0x295b47){this['data']=qe['set'](this['data'],_0x295b47?-0xf62*-0x1+-0x4a*0x3f+-0x1*-0x2d5:-0x4*0x68a+-0x3*-0x425+0x3*0x493,t_),this['updateKey']();}get['write'](){return qe['all'](this['data'],t_);}set['func'](_0x3b4251){this['data']=qe['set'](this['data'],_0x3b4251,e_,Jm),this['updateKey']();}get['func'](){return qe['get'](this['data'],e_,Jm);}set['depthBias'](_0x28a3bd){this['_depthBias']=_0x28a3bd,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x58e7ce){this['_depthBias'+'Slope']=_0x58e7ce,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x580b59){return this['data']=_0x580b59['data'],this['_depthBias']=_0x580b59['_depthBias'],this['_depthBias'+'Slope']=_0x580b59['_depthBias'+'Slope'],this['key']=_0x580b59['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x13779b,_depthBias:_0x25829f,_depthBiasSlope:_0x193a36}=this,_0x305ce5=_0x13779b+'-'+_0x25829f+'-'+_0x193a36;this['key']=xT['get'](_0x305ce5);}['equals'](_0x1399b6){return this['key']===_0x1399b6['key'];}};h(_r,'DEFAULT',Object['freeze'](new _r())),h(_r,'NODEPTH',Object['freeze'](new _r(Wi,!(0xc0d+0x1*-0x4a3+-0x769)))),h(_r,'WRITEDEPTH',Object['freeze'](new _r(Wi,!(-0xac*-0x21+-0x1a6c+0x440))));let Yt=_r;class Uy{constructor(){h(this,'globalId',-0x1c90+0x1a26+0x26a),h(this,'revision',0x1*0x2117+0x1*0x1cc1+-0x3dd8);}['equals'](_0x3fd9e2){return this['globalId']===_0x3fd9e2['globalId']&&this['revision']===_0x3fd9e2['revision'];}['copy'](_0x1347c4){this['globalId']=_0x1347c4['globalId'],this['revision']=_0x1347c4['revision'];}['reset'](){this['globalId']=0x84e+0x253+0xaa1*-0x1,this['revision']=-0x3*0x983+-0x714+0x239d;}}let s_=0x667*0x4+0x21f*0x9+-0x1*0x2cb3;class TT{constructor(){s_++,this['version']=new Uy(),this['version']['globalId']=s_;}['increment'](){this['version']['revision']++;}}class wT{constructor(_0x5b0255){this['name']=_0x5b0255,this['value']=null,this['versionObj'+'ect']=new TT();}['toJSON'](_0x15242e){}['setValue'](_0x4cef6a){this['value']=_0x4cef6a,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class ET{constructor(_0x1dd304){this['name']=_0x1dd304,this['variables']=new Map();}['resolve'](_0xc43df9){return this['variables']['has'](_0xc43df9)||this['variables']['set'](_0xc43df9,new wT(_0xc43df9)),this['variables']['get'](_0xc43df9);}['removeValu'+'e'](_0x174563){for(const _0x28d221 in this['variables']){const _0x47d2ae=this['variables'][_0x28d221];_0x47d2ae['value']===_0x174563&&(_0x47d2ae['value']=null);}}}let bT=-0xffc+-0xf*-0xa6+0x216*0x3;class Is{constructor(_0x9d0cf2,_0x1a5fec,_0x2c51e3,_0x23ebf6){h(this,'usage',ms),(w['assert'](arguments['length']<=-0x1fb4+0x1c45*-0x1+-0x1*-0x3bfd&&(!_0x23ebf6||typeof _0x23ebf6=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x23ebf6==null?void(0x1883+0x2528+-0x3dab):_0x23ebf6['usage'])??ms,this['device']=_0x9d0cf2,this['format']=_0x1a5fec,this['numVertice'+'s']=_0x2c51e3,this['id']=bT++,this['impl']=_0x9d0cf2['createVert'+'exBufferIm'+'pl'](this,_0x1a5fec,_0x23ebf6),this['numBytes']=_0x1a5fec['verticesBy'+'teSize']?_0x1a5fec['verticesBy'+'teSize']:_0x1a5fec['size']*_0x2c51e3,this['adjustVram'+'SizeTracki'+'ng'](_0x9d0cf2['_vram'],this['numBytes']));const _0x4fc20b=_0x23ebf6==null?void(0x251c+-0x2*-0x80e+0x1a*-0x20c):_0x23ebf6['data'];_0x4fc20b?this['setData'](_0x4fc20b):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x5169dd=this['device'],_0x156928=_0x5169dd['buffers']['indexOf'](this);_0x156928!==-(-0x1c90+0x2349*-0x1+0x3fda)&&_0x5169dd['buffers']['splice'](_0x156928,-0x1*-0x16ba+0x59e+-0x1c57),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x5169dd),this['adjustVram'+'SizeTracki'+'ng'](_0x5169dd['_vram'],-this['storage']['byteLength'])),this['storage']=null;}['adjustVram'+'SizeTracki'+'ng'](_0x11d98e,_0x2358da){w['trace'](q0,this['id']+'\x20size:\x20'+_0x2358da+'\x20vram.vb:\x20'+_0x11d98e['vb']+'\x20=>\x20'+(_0x11d98e['vb']+_0x2358da)),_0x11d98e['vb']+=_0x2358da;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x20f8b6){return _0x20f8b6['byteLength']!==this['numBytes']?(w['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x20f8b6['byteLength']),!(0x8c9+0x1610+-0x1ed8)):(this['storage']=_0x20f8b6,this['unlock'](),!(0xdf6*0x1+0xc9+0xebf*-0x1));}}function hi(_0x2ddea7){if(_0x2ddea7==null)return 0x1ba*0x10+-0x10*-0x1b6+-0xdc*0x40;let _0x14c55a=0x102*-0x1d+0x205a+-0x10*0x32;for(let _0x2fee73=0xd86+-0x9a8+-0xa*0x63,_0x5b3fa6=_0x2ddea7['length'];_0x2fee73<_0x5b3fa6;_0x2fee73++)_0x14c55a=(_0x14c55a<<0x218b+-0x1c72+-0xd*0x64)-_0x14c55a+_0x2ddea7['charCodeAt'](_0x2fee73),_0x14c55a|=0x229b+0x1d30+-0x3fcb;return _0x14c55a;}function By(_0x495dd1){let _0x1cdd0f=-0x1*-0xcf005869+-0x20f90b*-0x4ca+-0xa6c0a5*0x16a;for(let _0x26e957=0x3ab+-0x91b+0x570;_0x26e957<_0x495dd1['length'];_0x26e957++)_0x1cdd0f^=_0x495dd1[_0x26e957],_0x1cdd0f*=-0x7*-0x231055+0x5a50d4+-0x85*0x9984;return _0x1cdd0f>>>0x104e+0x1a72+-0x2ac0;}const AT=new Bp(),CT=[0xbde+0x10*-0x78+-0x45c,0x6a*-0x5e+-0x2*-0x6bb+0x43f*0x6,0x1*-0x1835+-0x108d+0x2e*0xe3,0x224c+0x7*-0x16d+0x1*-0x1845,0x1*0x106f+0x71e+-0x177d],PT=new Kt();class kt{constructor(_0x20b4c2,_0x3e9827,_0x584a54){this['device']=_0x20b4c2,this['_elements']=[],this['hasUv0']=!(-0x1f8b+-0x10bf+-0x304b*-0x1),this['hasUv1']=!(0x194*-0xb+-0x1*-0x1dca+-0xc6d),this['hasColor']=!(-0x19f5+-0xa64+0x6*0x60f),this['hasTangent'+'s']=!(0x1*-0xe23+0xb5*0x7+0x931*0x1),this['verticesBy'+'teSize']=-0x1967+-0xa87+0x23ee,this['vertexCoun'+'t']=_0x584a54,this['interleave'+'d']=_0x584a54===void(0x1a69+0x730+-0x2199),this['instancing']=!(0xa7b*0x3+0x1095+-0x3005),this['size']=_0x3e9827['reduce']((_0x5485ad,_0x1a664a)=>_0x5485ad+Math['ceil'](_0x1a664a['components']*No[_0x1a664a['type']]/(0x567*-0x7+-0x59f*0x6+0x1*0x478f))*(-0xc9+-0x18b9+0xb*0x252),-0x19b0+-0x164a+-0x8a*-0x59);let _0x5eecc3=-0x3b*0x3b+0x1cce+0x1*-0xf35,_0x4e4c2a;for(let _0x2bf6a2=0x591*0x3+0x180a+0x1*-0x28bd,_0x41da13=_0x3e9827['length'];_0x2bf6a2<_0x41da13;_0x2bf6a2++){const _0x390982=_0x3e9827[_0x2bf6a2];_0x4e4c2a=_0x390982['components']*No[_0x390982['type']],w['assert'](kt['isElementV'+'alid'](_0x20b4c2,_0x390982),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x390982['semantic']+'\x20:\x20'+cT[_0x390982['type']]+'\x20x\x20'+_0x390982['components']),_0x584a54&&(_0x5eecc3=Y['roundUp'](_0x5eecc3,_0x4e4c2a),w['assert'](_0x4e4c2a%(0x1d2f+0x1*0x1a50+-0x377b)===0x1*-0xb1d+-0x1086+0x1ba3,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0x4e4c2a));const _0x3e8338=_0x390982['asInt']??!(0x2ea*0x4+0x1*-0x1859+0xcb2),_0x4ddc6c=_0x3e8338?!(0x1*0x24a6+-0x5*0x7cd+-0x97*-0x4):_0x390982['normalize']??!(-0x24c2*0x1+-0x5*0x1e5+0x2e3c),_0x397b1d={'name':_0x390982['semantic'],'offset':_0x584a54?_0x5eecc3:_0x390982['hasOwnProp'+'erty']('offset')?_0x390982['offset']:_0x5eecc3,'stride':_0x584a54?_0x4e4c2a:_0x390982['hasOwnProp'+'erty']('stride')?_0x390982['stride']:this['size'],'dataType':_0x390982['type'],'numComponents':_0x390982['components'],'normalize':_0x4ddc6c,'size':_0x4e4c2a,'asInt':_0x3e8338};this['_elements']['push'](_0x397b1d),_0x584a54?_0x5eecc3+=_0x4e4c2a*_0x584a54:_0x5eecc3+=Math['ceil'](_0x4e4c2a/(0x139*-0x12+-0x153f+0x13*0x247))*(0x2531+0x1*0xe7d+-0x33aa),_0x390982['semantic']===is?this['hasUv0']=!(-0x86e+-0xeba+0x1728):_0x390982['semantic']===ba?this['hasUv1']=!(0xc5*-0x17+0x2478+0x9b*-0x1f):_0x390982['semantic']===Wt?this['hasColor']=!(0x1b85+-0x1d07+0x182*0x1):_0x390982['semantic']===yi&&(this['hasTangent'+'s']=!(-0x4a*-0x80+0x9d*0x5+0x27*-0x107));}_0x584a54&&(this['verticesBy'+'teSize']=_0x5eecc3),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x15d3ff){return PT['get'](_0x15d3ff,()=>new kt(_0x15d3ff,[{'semantic':Mp,'components':0x4,'type':Ve},{'semantic':Dp,'components':0x4,'type':Ve},{'semantic':Ip,'components':0x4,'type':Ve},{'semantic':Ln,'components':0x4,'type':Ve}]));}static['isElementV'+'alid'](_0x1f0da9,_0x4da90c){const _0x27deb9=_0x4da90c['components']*No[_0x4da90c['type']];return!(_0x1f0da9['isWebGPU']&&!CT['includes'](_0x27deb9));}['update'](){w['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x7764df=[],_0x8b7910=[],_0x44d315=this['_elements']['length'];for(let _0x1909f1=0x1a52+0x2420+-0x2*0x1f39;_0x1909f1<_0x44d315;_0x1909f1++){const {name:_0xb5b66c,dataType:_0x41681a,numComponents:_0x55653e,normalize:_0x2fa13a,offset:_0x10f0e5,stride:_0x1df5b7,size:_0x5bd17a,asInt:_0x28da58}=this['_elements'][_0x1909f1],_0x4640e9=_0xb5b66c+_0x41681a+_0x55653e+_0x2fa13a+_0x28da58;_0x7764df['push'](_0x4640e9);const _0x4ebcce=_0x4640e9+_0x10f0e5+_0x1df5b7+_0x5bd17a;_0x8b7910['push'](_0x4ebcce);}_0x7764df['sort']();const _0x4bd265=_0x7764df['join']();this['batchingHa'+'sh']=hi(_0x4bd265),this['shaderProc'+'essingHash'+'String']=_0x4bd265,this['renderingH'+'ashString']=_0x8b7910['join']('_'),this['renderingH'+'ash']=AT['get'](this['renderingH'+'ashString']);}}const MT=new Bp(),zh=class zh{constructor(_0x2bcbd2={}){h(this,'_func'),h(this,'_ref'),h(this,'_fail'),h(this,'_zfail'),h(this,'_zpass'),h(this,'_readMask'),h(this,'_writeMask'),h(this,'_dirty',!(-0x60*-0x4+0xe5+-0x265)),h(this,'_key'),(this['_func']=_0x2bcbd2['func']??Wi,this['_ref']=_0x2bcbd2['ref']??0x1*0xc72+0x1c07*0x1+-0x2879,this['_readMask']=_0x2bcbd2['readMask']??0x391*-0x1+-0xe35+0x12c5,this['_writeMask']=_0x2bcbd2['writeMask']??-0x1*0x10af+-0x16*0x13+-0x18*-0xce,this['_fail']=_0x2bcbd2['fail']??xn,this['_zfail']=_0x2bcbd2['zfail']??xn,this['_zpass']=_0x2bcbd2['zpass']??xn,this['_evalKey']());}set['func'](_0x3a36ea){this['_func']=_0x3a36ea,this['_dirty']=!(-0x1ae*0x17+-0x2527+0x4bc9);}get['func'](){return this['_func'];}set['ref'](_0x57f882){this['_ref']=_0x57f882,this['_dirty']=!(-0x1*-0x21b5+0x2266+0x5*-0xd9f);}get['ref'](){return this['_ref'];}set['fail'](_0x2469da){this['_fail']=_0x2469da,this['_dirty']=!(-0x2009+0x117f+0x2*0x745);}get['fail'](){return this['_fail'];}set['zfail'](_0x592dd9){this['_zfail']=_0x592dd9,this['_dirty']=!(0x1a*0x17b+0x16*-0xa7+0x1*-0x1824);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x10592f){this['_zpass']=_0x10592f,this['_dirty']=!(-0x1f2c+-0xeb4*-0x2+0x1c4);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x57d4e0){this['_readMask']=_0x57d4e0,this['_dirty']=!(-0xa*0x125+-0xda6+0x1918);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x4c2d9a){this['_writeMask']=_0x4c2d9a,this['_dirty']=!(0xc5*-0x1d+0x1605*-0x1+0x2c56);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x2b0aa0,_ref:_0x45b33f,_fail:_0x55f835,_zfail:_0x2eee40,_zpass:_0x5f0f08,_readMask:_0x19ea37,_writeMask:_0x3e5ab7}=this,_0x491db7=_0x2b0aa0+','+_0x45b33f+','+_0x55f835+','+_0x2eee40+','+_0x5f0f08+','+_0x19ea37+','+_0x3e5ab7;this['_key']=MT['get'](_0x491db7),this['_dirty']=!(0x1df9+-0x136c+-0xa8c);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x51d222){return this['_func']=_0x51d222['_func'],this['_ref']=_0x51d222['_ref'],this['_readMask']=_0x51d222['_readMask'],this['_writeMask']=_0x51d222['_writeMask'],this['_fail']=_0x51d222['_fail'],this['_zfail']=_0x51d222['_zfail'],this['_zpass']=_0x51d222['_zpass'],this['_dirty']=_0x51d222['_dirty'],this['_key']=_0x51d222['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};h(zh,'DEFAULT',Object['freeze'](new zh()));let pi=zh;const ql=new Set(),Vh=class Vh extends me{constructor(_0x5e17c1,_0x4dd79d){var _0x2a4dcc,_0x13399f,_0x4203ee,_0x558aaf,_0x786d32,_0x1b1101;super(),h(this,'canvas'),h(this,'backBuffer',null),h(this,'backBuffer'+'Size',new J()),h(this,'backBuffer'+'Format'),h(this,'backBuffer'+'Antialias',!(0x347+-0x1586+0x1240)),h(this,'isWebGPU',!(0x16cc+0x1*0x33a+0x1a05*-0x1)),h(this,'isWebGL2',!(-0x1c5d+0xd6*0x20+0x2*0xcf)),h(this,'isHdr',!(0x18cd+-0x6a9*0x2+-0x1a*0x71)),h(this,'scope'),h(this,'maxIndirec'+'tDrawCount',-0x1*0x134b+0x1*-0x2704+0x3e4f),h(this,'maxAnisotr'+'opy'),h(this,'maxCubeMap'+'Size'),h(this,'maxTexture'+'Size'),h(this,'maxVolumeS'+'ize'),h(this,'maxColorAt'+'tachments',0x7a4+0x1493+-0x1*0x1c36),h(this,'precision'),h(this,'samples'),h(this,'maxSamples',0x1f*-0x10+0x260c+-0x403*0x9),h(this,'supportsSt'+'encil'),h(this,'supportsCo'+'mpute',!(0x364+-0x127+-0x23c)),h(this,'supportsSt'+'orageTextu'+'reRead',!(-0x1be2*-0x1+-0x43*-0x43+-0x16b5*0x2)),h(this,'renderTarg'+'et',null),h(this,'shaders',[]),h(this,'textures',[]),h(this,'targets',new Set()),h(this,'renderVers'+'ion',-0x2462*-0x1+0x7*-0x281+-0x3*0x649),h(this,'renderPass'+'Index'),h(this,'insideRend'+'erPass',!(0x1d79+0x5b*-0x31+-0x1*0xc0d)),h(this,'supportsUn'+'iformBuffe'+'rs',!(0x943*0x2+0xb7d*-0x1+-0x708)),h(this,'supportsCl'+'ipDistance'+'s',!(-0x64c+0x1328+-0xcdb)),h(this,'textureFlo'+'atRenderab'+'le'),h(this,'textureHal'+'fFloatRend'+'erable'),h(this,'textureRG1'+'1B10Render'+'able',!(-0xd4e+-0x210+0xf5f)),h(this,'textureFlo'+'atFilterab'+'le',!(0xe91+-0x24ff+0x166f)),h(this,'quadVertex'+'Buffer'),h(this,'blendState',new pt()),h(this,'depthState',new Yt()),h(this,'stencilEna'+'bled',!(-0x2689+0x2*-0x109d+0x47c4*0x1)),h(this,'stencilFro'+'nt',new pi()),h(this,'stencilBac'+'k',new pi()),h(this,'dynamicBuf'+'fers'),h(this,'gpuProfile'+'r'),h(this,'defaultCle'+'arOptions',{'color':[-0x2*0xda+-0x1*0x7cf+0x983,-0xb*0x5d+-0x1e6e+-0x4eb*-0x7,-0x170c+-0x794+0x14*0x188,-0x203e+0x228d+0x1*-0x24e],'depth':0x1,'stencil':0x0,'flags':jo|Yo}),h(this,'clientRect',{'width':0x0,'height':0x0}),h(this,'_shadersDi'+'rty',!(0xfd2*-0x1+-0x15*-0x11f+-0x7b8)),h(this,'capsDefine'+'s',new Map()),h(this,'mapsToClea'+'r',new Set()),(this['canvas']=_0x5e17c1,'setAttribu'+'te'in _0x5e17c1&&_0x5e17c1['setAttribu'+'te']('data-engin'+'e','PlayCanvas'+'\x20'+hn),this['initOption'+'s']={..._0x4dd79d},(_0x2a4dcc=this['initOption'+'s'])['alpha']??(_0x2a4dcc['alpha']=!(-0x93*-0x23+-0x1d1c+0x903)),(_0x13399f=this['initOption'+'s'])['depth']??(_0x13399f['depth']=!(-0x1353*0x1+-0x1f*0x27+0x180c)),(_0x4203ee=this['initOption'+'s'])['stencil']??(_0x4203ee['stencil']=!(-0x46*-0x47+0xe32+-0x3bc*0x9)),(_0x558aaf=this['initOption'+'s'])['antialias']??(_0x558aaf['antialias']=!(-0x136f*-0x1+-0x34*-0x4a+-0x2277)),(_0x786d32=this['initOption'+'s'])['powerPrefe'+'rence']??(_0x786d32['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x1b1101=this['initOption'+'s'])['displayFor'+'mat']??(_0x1b1101['displayFor'+'mat']=oT),this['_maxPixelR'+'atio']=Ae['browser']?Math['min'](0x6b+-0x8*0x3e3+0x1eae,window['devicePixe'+'lRatio']):0xb*0x2c4+0x2179+-0xbc*0x57,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=-0x20d7+-0x2559+-0x10*-0x463,this['_shaderSwi'+'tchesPerFr'+'ame']=0xfa1+0x279*-0xb+0xb92,this['_primsPerF'+'rame']=[]);for(let _0x522c6e=cd;_0x522c6e<=oa;_0x522c6e++)this['_primsPerF'+'rame'][_0x522c6e]=0x15*-0x83+0x200+0x8bf*0x1;this['_renderTar'+'getCreatio'+'nTime']=0x1056+0x25a2+-0x13a*0x2c,this['scope']=new ET('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](0x69e+0x1b2a+-0x21c8);}['postInit'](){const _0x22d537=new kt(this,[{'semantic':Me,'components':0x2,'type':Ve}]),_0x21c6af=new Float32Array([-(0xac3+-0x1*0x1ad+0x1d1*-0x5),-(0xd55*-0x2+-0x1*-0x245+0x1*0x1866),0x1107*-0x1+-0x1ef4+0x2ffc,-(0x1a7+-0x3d*-0x22+-0x9c0),-(0x279+-0x7fc+0x584),0x25*-0x67+0x221a+-0x99b*0x2,0x23e4+-0x13a0*-0x1+-0x3783,0x1*0x17e9+-0x9d0+-0xe18]);this['quadVertex'+'Buffer']=new Is(this,_0x22d537,0x1e64+0x13e1+-0x3241,{'data':_0x21c6af});}['initCapsDe'+'fines'](){const {capsDefines:_0x28a0cd}=this;_0x28a0cd['clear'](),this['textureFlo'+'atFilterab'+'le']&&_0x28a0cd['set']('CAPS_TEXTU'+'RE_FLOAT_F'+'ILTERABLE',''),this['textureFlo'+'atRenderab'+'le']&&_0x28a0cd['set']('CAPS_TEXTU'+'RE_FLOAT_R'+'ENDERABLE','');}['destroy'](){var _0x1acc1e,_0xce7f68,_0x52c8c6;this['fire']('destroy'),(_0x1acc1e=this['quadVertex'+'Buffer'])==null||_0x1acc1e['destroy'](),this['quadVertex'+'Buffer']=null,(_0xce7f68=this['dynamicBuf'+'fers'])==null||_0xce7f68['destroy'](),this['dynamicBuf'+'fers']=null,(_0x52c8c6=this['gpuProfile'+'r'])==null||_0x52c8c6['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x3ef7f0){this['fire']('destroy:sh'+'ader',_0x3ef7f0);const _0x3e333f=this['shaders']['indexOf'](_0x3ef7f0);_0x3e333f!==-(-0x10*-0x1af+0x4*0x35f+0x286b*-0x1)&&this['shaders']['splice'](_0x3e333f,-0x1e0+0x3d4+0x1f3*-0x1);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x298b57;this['contextLos'+'t']=!(-0x20bf+0xd9e+0x1321),this['backBuffer'+'Size']['set'](-(0x178*-0x7+-0x2b*-0x52+0x2f*-0x13),-(0x5*-0x17+0xf*0x125+-0x10b7));for(const _0x1d1134 of this['textures'])_0x1d1134['loseContex'+'t']();for(const _0x158382 of this['buffers'])_0x158382['loseContex'+'t']();for(const _0x551fa0 of this['targets'])_0x551fa0['loseContex'+'t']();(_0x298b57=this['gpuProfile'+'r'])==null||_0x298b57['loseContex'+'t']();}['restoreCon'+'text'](){var _0x43fbc4,_0x5dc548;this['contextLos'+'t']=!(-0x26dd+-0x15aa+0x3c88),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x1fbca0 of this['buffers'])_0x1fbca0['unlock']();(_0x5dc548=(_0x43fbc4=this['gpuProfile'+'r'])==null?void(-0x2*0x20+-0x402+-0x2*-0x221):_0x43fbc4['restoreCon'+'text'])==null||_0x5dc548['call'](_0x43fbc4);}['toJSON'](_0x52d4d5){}['initialize'+'ContextCac'+'hes'](){this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(0x2605*0x1+-0xe*-0x257+0x1*-0x46c7),this['shaderAsyn'+'cCompile']=!(0x1*-0x1352+0x220*0xe+-0xa6d),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new pt(),this['depthState']=new Yt(),this['cullMode']=pa,this['vx']=this['vy']=this['vw']=this['vh']=0x222+0x20d1+-0x22f3,this['sx']=this['sy']=this['sw']=this['sh']=-0x7*0x494+0x148b*-0x1+0x3497*0x1,this['blendColor']=new ie(-0x1896+-0x2ec+0x1b82,-0x634*0x2+-0xaaf+0x1717,0x76*-0x3f+0x1*0x314+0x2*0xcfb,0x22aa+-0x9e4+-0x18c6);}['setStencil'+'State'](_0x2d3dc7,_0x53e6fb){w['assert'](!(-0x1474+-0x23f9+0x386e));}['setBlendSt'+'ate'](_0x3007df){w['assert'](!(0x1*-0x4a7+0x5e*0x27+-0x9aa));}['setBlendCo'+'lor'](_0x2e3716,_0x3ef520,_0x211825,_0x56b282){w['assert'](!(-0x1849*-0x1+-0x633+-0x1215));}['setDepthSt'+'ate'](_0x5b0236){w['assert'](!(0x8*0x347+-0x12b7+0x40*-0x1e));}['setCullMod'+'e'](_0x24cee3){w['assert'](!(0xeea+-0xc4c+0xdf*-0x3));}['setRenderT'+'arget'](_0x7596bb){this['renderTarg'+'et']=_0x7596bb;}['setVertexB'+'uffer'](_0x5109f3){_0x5109f3&&this['vertexBuff'+'ers']['push'](_0x5109f3);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=0x1*-0x1953+-0x2*-0x8cc+-0x7bb*-0x1;}['getIndirec'+'tDrawSlot'](){return-0x3*-0x688+0x2*0xb96+-0xee*0x2e;}get['indirectDr'+'awBuffer'](){return null;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x524999){if(_0x524999['initialize'+'d'])return;const _0x8c4d14=de();this['fire']('fbo:create',{'timestamp':_0x8c4d14,'target':this}),_0x524999['init'](),this['targets']['add'](_0x524999),this['_renderTar'+'getCreatio'+'nTime']+=de()-_0x8c4d14;}['draw'](_0x5544d7,_0x521eb1,_0x4febb8,_0x5e908a,_0x123302=!(0x893+-0x2f*-0x23+-0xf00),_0x271376=!(-0xaab*-0x2+-0x827*0x2+-0x508)){w['assert'](!(-0xf76+0x183f+0x4*-0x232));}['_isBrowser'+'Interface'](_0x360e61){return this['_isImageBr'+'owserInter'+'face'](_0x360e61)||this['_isImageCa'+'nvasInterf'+'ace'](_0x360e61)||this['_isImageVi'+'deoInterfa'+'ce'](_0x360e61);}['_isImageBr'+'owserInter'+'face'](_0x47acea){return typeof ImageBitmap<'u'&&_0x47acea instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x47acea instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x2219d1){return typeof HTMLCanvasElement<'u'&&_0x2219d1 instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x207886){return typeof HTMLVideoElement<'u'&&_0x207886 instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x169d2c,_0xc9a60e){const _0x4f7158=Math['min'](this['_maxPixelR'+'atio'],Ae['browser']?window['devicePixe'+'lRatio']:0x10*-0x1f0+-0x2512+0x4413),_0x38bdea=Math['floor'](_0x169d2c*_0x4f7158),_0x356662=Math['floor'](_0xc9a60e*_0x4f7158);(_0x38bdea!==this['canvas']['width']||_0x356662!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x38bdea,_0x356662);}['setResolut'+'ion'](_0x5c31df,_0x2b826a){this['canvas']['width']=_0x5c31df,this['canvas']['height']=_0x2b826a,this['fire'](Vh['EVENT_RESI'+'ZE'],_0x5c31df,_0x2b826a);}['update'](){this['updateClie'+'ntRect']();}['updateClie'+'ntRect'](){if(Ae['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x38e151=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x38e151['width'],this['clientRect']['height']=_0x38e151['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x27d782){w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(0x1*-0x9eb+0x2440+-0x1a54);}set['maxPixelRa'+'tio'](_0xad0563){this['_maxPixelR'+'atio']=_0xad0563;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x53cd2b){}['endRenderP'+'ass'](_0x510df7){}['startCompu'+'tePass'](_0x32efa4){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=0x1*0x1712+-0xa1d*-0x3+-0x3569,this['renderVers'+'ion']++,w['call'](()=>{if(mi['get'](Z0)){const _0x486489=this['textures']['slice']();_0x486489['sort']((_0x559b38,_0x177343)=>_0x177343['gpuSize']-_0x559b38['gpuSize']),w['log']('Textures:\x20'+_0x486489['length']);let _0x45ad37=0x3*-0x246+0xa8d*0x1+-0x5*0xbf;_0x486489['forEach']((_0x240d1e,_0x31427c)=>{const _0x228542=_0x240d1e['gpuSize'];_0x45ad37+=_0x228542,w['log'](_0x31427c+'.\x20'+_0x240d1e['name']+'\x20'+_0x240d1e['width']+'x'+_0x240d1e['height']+'\x20VRAM:\x20'+(_0x228542/(0xf78+0x322+-0x10b*0xe)/(0xed6+0x2b*-0x8f+-0xd2f*-0x1))['toFixed'](0x5*-0x348+-0x1e79+0x2ee3)+'\x20MB');}),w['log']('Total:\x20'+(_0x45ad37/(-0x13d0*0x1+-0x11ea*-0x2+0xc04*-0x1)/(-0x254f*-0x1+0x1e*0x28+-0x25ff))['toFixed'](-0xc7*-0x8+-0x236f+0x1*0x1d39)+'MB');}});}['frameEnd'](){this['mapsToClea'+'r']['forEach'](_0x21ee85=>_0x21ee85['clear']()),this['mapsToClea'+'r']['clear']();}['computeDis'+'patch'](_0x24e548,_0x44355e='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x237d94=[In,nt,Xt],_0x3a9612=!(-0x23e1+-0x134+0xb*0x35f),_0x820487=0x2106+0x8ae+0x7*-0x5f5){for(let _0x4cac84=0x487+-0x2378+0x59*0x59;_0x4cac84<_0x237d94['length'];_0x4cac84++){const _0x3d94f3=_0x237d94[_0x4cac84];switch(_0x3d94f3){case In:{if(this['textureRG1'+'1B10Render'+'able'])return _0x3d94f3;break;}case nt:if(this['textureHal'+'fFloatRend'+'erable'])return _0x3d94f3;break;case Xt:if(this['isWebGPU']&&_0x820487>-0x97*-0xe+0xc4*-0x23+0x128b)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0x3a9612||this['textureFlo'+'atFilterab'+'le']))return _0x3d94f3;break;}}}['validateAt'+'tributes'](_0x2c6543,_0x34939f,_0x6bafce){w['call'](()=>{ql['clear'](),_0x34939f==null||_0x34939f['elements']['forEach'](_0x2b4c79=>ql['add'](Le[_0x2b4c79['name']])),_0x6bafce==null||_0x6bafce['elements']['forEach'](_0x2c6327=>ql['add'](Le[_0x2c6327['name']]));for(const [_0x19086f,_0x5398d8]of _0x2c6543['attributes'])ql['has'](_0x19086f)||w['errorOnce']('Vertex\x20att'+'ribute\x20['+_0x5398d8+(']\x20at\x20locat'+'ion\x20')+_0x19086f+('\x20required\x20'+'by\x20the\x20sha'+'der\x20is\x20not'+'\x20present\x20i'+'n\x20the\x20curr'+'ently\x20assi'+'gned\x20verte'+'x\x20buffers,'+'\x20while\x20ren'+'dering\x20[')+Q['toString']()+']',{'shader':_0x2c6543,'vb0Format':_0x34939f,'vb1Format':_0x6bafce});});}};h(Vh,'EVENT_RESI'+'ZE','resizecanv'+'as');let $e=Vh,DT=-0x25*-0x71+-0x1c3+-0x2*0x749;class gt{constructor(_0xe58a20={}){h(this,'name'),h(this,'_device'),h(this,'_colorBuff'+'er'),h(this,'_colorBuff'+'ers'),h(this,'_depthBuff'+'er'),h(this,'_depth'),h(this,'_stencil'),h(this,'_samples'),h(this,'autoResolv'+'e'),h(this,'_face'),h(this,'_mipLevel'),h(this,'_mipmaps'),h(this,'flipY');var _0x17c490,_0x2f8d53,_0x271c20,_0x1d5034,_0x1b84e0,_0x2b0b42;w['assert'](!(_0xe58a20 instanceof $e),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=DT++;const _0x5b59db=((_0x17c490=_0xe58a20['colorBuffe'+'r'])==null?void(-0x3*0x7eb+-0x350*-0x2+0x1121):_0x17c490['device'])??((_0x2f8d53=_0xe58a20['colorBuffe'+'rs'])==null?void(0x1*-0xcf7+0x5*0x709+-0x2*0xb1b):_0x2f8d53[0xc8a+0x3*-0x906+-0x5d*-0x28]['device'])??((_0x271c20=_0xe58a20['depthBuffe'+'r'])==null?void(0x6*-0x2a0+0x4d7+0xae9):_0x271c20['device'])??_0xe58a20['graphicsDe'+'vice'];w['assert'](_0x5b59db,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x5b59db;const {maxSamples:_0x2f679a}=this['_device'];if(this['_samples']=Math['min'](_0xe58a20['samples']??0x1*0xd50+0x159+-0xea8,_0x2f679a),_0x5b59db['isWebGPU']&&(this['_samples']=this['_samples']>-0xe75+-0x1214+0x208a?_0x2f679a:-0x11c*-0x1a+-0x171d*0x1+-0x5ba),this['_colorBuff'+'er']=_0xe58a20['colorBuffe'+'r'],_0xe58a20['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0xe58a20['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0xe58a20['depthBuffe'+'r'],this['_face']=_0xe58a20['face']??-0x2d*-0x65+-0x137b+0x1a*0x11,this['_depthBuff'+'er']){const _0x14f795=this['_depthBuff'+'er']['_format'];_0x14f795===$i||_0x14f795===vn?(this['_depth']=!(-0x188c+0x5*-0x9f+0x1ba7),this['_stencil']=!(0x1404+-0x1a3+-0x1260)):_0x14f795===sd?(this['_depth']=!(-0x288*-0xd+-0x224c+-0x1*-0x164),this['_stencil']=!(-0x5*0x66b+-0x26*0x2b+0x2679)):_0x14f795===Ji&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>-0xd*-0x2f9+0x1d41+-0x43e5?(this['_depth']=!(0x1*0x23ef+0x25b3+0x28a*-0x1d),this['_stencil']=!(0x121d*-0x1+0x1041*-0x2+-0x24*-0x168)):(w['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(-0x1*0x8f9+-0x87d+0x1177),this['_stencil']=!(0x50e+-0x1*-0xfd1+-0x14de));}else this['_depth']=_0xe58a20['depth']??!(0x2*0x856+-0x17*-0xd3+-0x517*0x7),this['_stencil']=_0xe58a20['stencil']??!(-0xb*-0x1ca+-0xf31+-0x47c);_0xe58a20['colorBuffe'+'rs']&&(w['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0xe58a20['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0xe58a20['colorBuffe'+'rs'][-0x1*0x503+0x1709+-0x1206])),this['autoResolv'+'e']=_0xe58a20['autoResolv'+'e']??!(0x1*0x2b+0x13*-0x15b+-0x2*-0xccb),this['name']=_0xe58a20['name'],this['name']||(this['name']=(_0x1d5034=this['_colorBuff'+'er'])==null?void(-0x1*-0x443+0x1*-0x1215+-0x3d*-0x3a):_0x1d5034['name']),this['name']||(this['name']=(_0x1b84e0=this['_depthBuff'+'er'])==null?void(-0x1271+-0x24b5*0x1+0x3726):_0x1b84e0['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0xe58a20['flipY']??!(0x2*0x1003+0x1e6e+0xdb*-0x49),this['_mipLevel']=_0xe58a20['mipLevel']??-0x1235*-0x1+-0x1*0xfe9+0x6*-0x62,this['_mipLevel']>0x127*-0x13+0xb5*0x1d+0x2*0xb2&&this['_depth']&&(w['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0xe58a20}),this['_mipLevel']=-0x1506+0x1a95+-0x58f),this['_mipmaps']=_0xe58a20['mipLevel']===void(0x26ee+0x2*0x49f+-0xc0b*0x4),this['validateMr'+'t'](),this['impl']=_0x5b59db['createRend'+'erTargetIm'+'pl'](this),w['trace'](Mm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x2b0b42=this['_colorBuff'+'ers'])!=null&&_0x2b0b42['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){w['trace'](Mm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x4bc10c=this['_device'];_0x4bc10c&&(_0x4bc10c['targets']['delete'](this),_0x4bc10c['renderTarg'+'et']===this&&_0x4bc10c['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x66b7b8=this['_device'];_0x66b7b8&&this['impl']['destroy'](_0x66b7b8);}['destroyTex'+'tureBuffer'+'s'](){var _0xdff82a,_0x11fc1a;(_0xdff82a=this['_depthBuff'+'er'])==null||_0xdff82a['destroy'](),this['_depthBuff'+'er']=null,(_0x11fc1a=this['_colorBuff'+'ers'])==null||_0x11fc1a['forEach'](_0x33106b=>{_0x33106b['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x54144b,_0x1f3515){var _0x588d04,_0x3e2b1b;if(this['width']!==_0x54144b||this['height']!==_0x1f3515){if(this['mipLevel']>-0x2e5+0xd67*0x1+-0xa82){w['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x57c8bc=this['_device'];this['destroyFra'+'meBuffers'](),_0x57c8bc['renderTarg'+'et']===this&&_0x57c8bc['setRenderT'+'arget'](null),(_0x588d04=this['_depthBuff'+'er'])==null||_0x588d04['resize'](_0x54144b,_0x1f3515),(_0x3e2b1b=this['_colorBuff'+'ers'])==null||_0x3e2b1b['forEach'](_0x18312e=>{_0x18312e['resize'](_0x54144b,_0x1f3515);}),this['validateMr'+'t'](),this['impl']=_0x57c8bc['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){w['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x54e31f,height:_0x51bd0e,cubemap:_0x8815ce,volume:_0x222b39}=this['_colorBuff'+'ers'][0xed7+-0x1fe2+0x110b];for(let _0x5430ee=-0x10f2+-0x2093+0x841*0x6;_0x5430ee<this['_colorBuff'+'ers']['length'];_0x5430ee++){const _0x269f11=this['_colorBuff'+'ers'][_0x5430ee];w['assert'](_0x269f11['width']===_0x54e31f,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),w['assert'](_0x269f11['height']===_0x51bd0e,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),w['assert'](_0x269f11['cubemap']===_0x8815ce,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),w['assert'](_0x269f11['volume']===_0x222b39,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x205573=!(-0x816+-0x4*-0x3ac+-0x69a),_0x244688=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>-0xf94+-0x801+0x1796&&(Q['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x205573?'[color]':'')+':'+(_0x244688?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x205573,_0x244688),Q['popGpuMark'+'er'](this['_device']));}['copy'](_0x5a6eda,_0x16c312,_0x143440){if(!this['_device']){if(_0x5a6eda['_device'])this['_device']=_0x5a6eda['_device'];else return w['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(-0x2146+0x1dfb+0x34c);}Q['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x5a6eda['name']+'->'+this['name']);const _0x303e6c=this['_device']['copyRender'+'Target'](_0x5a6eda,this,_0x16c312,_0x143440);return Q['popGpuMark'+'er'](this['_device']),_0x303e6c;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x222e39){var _0x5a2281;return(_0x5a2281=this['_colorBuff'+'ers'])==null?void(-0x2651*0x1+-0x1c4f+-0x1*-0x42a0):_0x5a2281[_0x222e39];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x4e4313,_0x3408ad;let _0x2bbf4c=((_0x4e4313=this['_colorBuff'+'er'])==null?void(0x1*0x107b+-0x2*0x71b+-0x245):_0x4e4313['width'])||((_0x3408ad=this['_depthBuff'+'er'])==null?void(-0xd5*0x8+-0x529+-0x113*-0xb):_0x3408ad['width'])||this['_device']['width'];return this['_mipLevel']>-0x1d57+-0xd0*0x5+0x2167&&(_0x2bbf4c=Xi['calcLevelD'+'imension'](_0x2bbf4c,this['_mipLevel'])),_0x2bbf4c;}get['height'](){var _0x20bae8,_0x34e2ca;let _0x2095d1=((_0x20bae8=this['_colorBuff'+'er'])==null?void(-0x2122+0x229d*-0x1+0x43bf):_0x20bae8['height'])||((_0x34e2ca=this['_depthBuff'+'er'])==null?void(0x1332+-0x333+-0x15*0xc3):_0x34e2ca['height'])||this['_device']['height'];return this['_mipLevel']>0xf87*-0x1+-0x2592+0x3519&&(_0x2095d1=Xi['calcLevelD'+'imension'](_0x2095d1,this['_mipLevel'])),_0x2095d1;}['isColorBuf'+'ferSrgb'](_0x5c7c77=-0x119e+0x153f+-0x3a1){if(this['device']['backBuffer']===this)return fh(this['device']['backBuffer'+'Format']);const _0x14673f=this['getColorBu'+'ffer'](_0x5c7c77);return _0x14673f?fh(_0x14673f['format']):!(0x7a1+0x20a8+-0x2848);}}const IT={'equals'(_0x34b5b5,_0x50e7f9){if(_0x34b5b5['length']!==_0x50e7f9['length'])return!(0x1a7b+0x91f*-0x1+-0x3*0x5c9);for(let _0x3d1ce3=0x107+0x24aa+-0x25b1*0x1;_0x3d1ce3<_0x34b5b5['length'];_0x3d1ce3++)if(_0x34b5b5[_0x3d1ce3]!==_0x50e7f9[_0x3d1ce3])return!(-0x1a48+-0x2242+0x3c8b);return!(0x72f+-0x92f+0x200);}};class wd{constructor(){h(this,'_refCount',-0xa9c+0x1*-0x10bb+-0x1*-0x1b57);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class LT extends wd{constructor(_0x480a1e){super(),h(this,'object'),(this['object']=_0x480a1e,this['incRefCoun'+'t']());}}class RT{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x47a361=>{var _0x2bbc28;(_0x2bbc28=_0x47a361['object'])==null||_0x2bbc28['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x27b889){const _0x22e745=this['cache']['get'](_0x27b889);return _0x22e745?(_0x22e745['incRefCoun'+'t'](),_0x22e745['object']):null;}['set'](_0x28197b,_0x3a8b25){w['assert'](!this['cache']['has'](_0x28197b),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x28197b,'object':_0x3a8b25}),this['cache']['set'](_0x28197b,new LT(_0x3a8b25));}['release'](_0x37287b){var _0x5977ca;const _0xef9341=this['cache']['get'](_0x37287b);_0xef9341?(_0xef9341['decRefCoun'+'t'](),_0xef9341['refCount']===-0x239+0x26ad+-0x123a*0x2&&(this['cache']['delete'](_0x37287b),(_0x5977ca=_0xef9341['object'])==null||_0x5977ca['destroy']())):w['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x37287b});}}class OT extends RT{['loseContex'+'t'](_0x2aaaae){this['clear']();}}const FT=new Kt(),Fd=_0x3c098b=>FT['get'](_0x3c098b,()=>new OT()),At=[];At[Xs]=0x9*-0x3c7+0x1*0x12ce+0xf32,At[ga]=0x1e66+0x15b6+-0x341a,At[ds]=0x11f5+0x21bf*0x1+-0x33b1,At[Rn]=0xc16*-0x1+-0x459*0x3+0x1925,At[_a]=-0x11ac+-0x1*0x1945+0x2af2,At[ca]=-0x303*0x9+0x212d+-0x610,At[ha]=0xb*-0x35b+-0x1*0x17b7+0x3ca3,At[da]=0x3*0x589+0xf31*-0x1+-0x166,At[Tn]=0x1416+-0x23d9+0x4*0x3f1,At[tl]=0xd*0x12b+-0x1*-0xa92+-0x19bf,At[sl]=0x1*-0x31d+-0x2*0x1cd+-0x7b*-0xe,At[il]=-0x1d2e+0xc31+0x1101,At[_h]=-0x6a*0xd+0x1dce+-0x1864,At[On]=-0xc9b+0x2662+0x7*-0x3ad,At[li]=-0x185a+-0x803+0x206d,At[Fn]=-0x1a50+0x1ba9+-0x158,At[Nn]=-0x1703*0x1+-0x1321+0x2a26,At[kn]=-0x377+0xa8d*-0x1+-0x3f*-0x39,At[Un]=-0xfd0+0x3*-0x7e5+0x2783;class dt{constructor(_0x161ada,_0x3abceb,_0x25ec09=-0x1880+-0x8*0x47f+-0xac*-0x5a){h(this,'name'),h(this,'type'),h(this,'byteSize'),h(this,'offset'),h(this,'scopeId'),h(this,'count'),h(this,'numCompone'+'nts');if(this['shortName']=_0x161ada,this['name']=_0x25ec09?_0x161ada+'[0]':_0x161ada,this['type']=_0x3abceb,this['numCompone'+'nts']=At[_0x3abceb],w['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x3abceb+'\x20used\x20for\x20'+_0x161ada),this['updateType']=_0x3abceb,_0x25ec09>-0x12dd+0xfe5+0x5f*0x8)switch(_0x3abceb){case Xs:this['updateType']=ud;break;case _a:this['updateType']=Bn;break;case Fn:this['updateType']=_d;break;case Tn:this['updateType']=gd;break;case ga:this['updateType']=pd;break;case ca:this['updateType']=zn;break;case Nn:this['updateType']=Sd;break;case tl:this['updateType']=yd;break;case ds:this['updateType']=md;break;case ha:this['updateType']=Vn;break;case kn:this['updateType']=vd;break;case sl:this['updateType']=xd;break;case Rn:this['updateType']=Lp;break;case da:this['updateType']=gh;break;case Un:this['updateType']=Rp;break;case il:this['updateType']=Op;break;case li:this['updateType']=wy;break;default:w['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+Ey[_0x3abceb]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x161ada+'\x27.'),w['call'](()=>{this['invalid']=!(0x1dc3+0x29f*-0x3+-0x15e6);});break;}this['count']=_0x25ec09,w['assert'](!isNaN(_0x25ec09),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x161ada+'['+_0x25ec09+']'),w['call'](()=>{isNaN(_0x25ec09)&&(this['invalid']=!(-0x5*0x303+-0x1358+0x2267*0x1));});let _0x3fe431=this['numCompone'+'nts'];_0x25ec09&&(_0x3fe431=Y['roundUp'](_0x3fe431,0x34b*0x6+0x65*-0x13+-0xc3f)),this['byteSize']=_0x3fe431*(-0x5*-0x507+0x14e*0x15+-0x3485),_0x25ec09&&(this['byteSize']*=_0x25ec09),w['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x3abceb+'\x20used\x20for\x20'+_0x161ada);}get['isArrayTyp'+'e'](){return this['count']>-0x97*0x25+0x134*-0x2+0x183b;}['calculateO'+'ffset'](_0x212118){let _0x2d808f=this['byteSize']<=0x1a0d+0x2000+-0x1357*0x3?this['byteSize']:-0x918*0x2+0x2303+-0x10c3*0x1;this['count']&&(_0x2d808f=-0x1b5f+-0x7b4+-0x505*-0x7),_0x212118=Y['roundUp'](_0x212118,_0x2d808f),this['offset']=_0x212118/(-0x1ccc+0x1*-0x26fa+0x43ca);}}class zy{constructor(_0x5b5493,_0x50bb3b){h(this,'byteSize',-0x1*0xa54+0x2*0xfaf+-0x2*0xa85),h(this,'map',new Map()),(this['scope']=_0x5b5493['scope'],this['uniforms']=_0x50bb3b);let _0x245b72=-0x4a*-0x22+-0x23b3+0x19df;for(let _0x1798dc=0x78+0x2*-0x86d+0x3*0x576;_0x1798dc<_0x50bb3b['length'];_0x1798dc++){const _0x1ae1a4=_0x50bb3b[_0x1798dc];_0x1ae1a4['calculateO'+'ffset'](_0x245b72),_0x245b72=_0x1ae1a4['offset']*(0xfbe+-0x24b6+-0x13c*-0x11)+_0x1ae1a4['byteSize'],_0x1ae1a4['scopeId']=this['scope']['resolve'](_0x1ae1a4['name']),this['map']['set'](_0x1ae1a4['name'],_0x1ae1a4);}this['byteSize']=Y['roundUp'](_0x245b72,-0x1f99+0x3a2+0x1c07);}['get'](_0x5c47bb){return this['map']['get'](_0x5c47bb);}}const Lr='Preprocess'+'or',Fs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,Nd=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,i_=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,kd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,Ud=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,Bd=/(endif|else|elif)(?:[ \t]+([^\r\n]*))?\r?\n?/g,r_=/\{?[\w-]+\}?/,NT=/(!|\s)?defined\(([\w-]+)\)/,kT=/!?defined\s*\([^)]*\)/g,UT=/!?defined\s*$/,BT=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,zT=/[+\-]/g,zd=/include[ \t]+"([\w-]+)(?:\s*,\s*([\w-]+))?"/g,VT=/\{i\}/g,a_=/(pcFragColor[1-8])\b/g,Lt=class Lt{static['run'](_0x1810f9,_0x13feb9=new Map(),_0x3451db={}){Lt['sourceName']=_0x3451db['sourceName'],_0x1810f9=this['stripComme'+'nts'](_0x1810f9),_0x1810f9=_0x1810f9['split'](/\r?\n/)['map'](_0x4d6330=>_0x4d6330['trimEnd']())['join']('\x0a');const _0x42fe27=new Map(),_0x3e58de=new Map();if(_0x1810f9=this['_preproces'+'s'](_0x1810f9,_0x42fe27,_0x3e58de,_0x13feb9,_0x3451db['stripDefin'+'es']),_0x1810f9===null)return null;const _0x250b9f=new Map();return _0x42fe27['forEach']((_0x4c9596,_0x5f55f1)=>{Number['isInteger'](parseFloat(_0x4c9596))&&!_0x4c9596['includes']('.')&&_0x250b9f['set'](_0x5f55f1,_0x4c9596);}),_0x1810f9=this['stripComme'+'nts'](_0x1810f9),_0x1810f9=this['stripUnuse'+'dColorAtta'+'chments'](_0x1810f9,_0x3451db),_0x1810f9=this['RemoveEmpt'+'yLines'](_0x1810f9),_0x1810f9=this['processArr'+'aySize'](_0x1810f9,_0x250b9f),_0x1810f9=this['injectDefi'+'nes'](_0x1810f9,_0x3e58de),_0x1810f9;}static['stripUnuse'+'dColorAtta'+'chments'](_0x5a0bb1,_0x1989a2){if(_0x1989a2['stripUnuse'+'dColorAtta'+'chments']){const _0x4feec2=new Map(),_0x29d23a=_0x5a0bb1['match'](a_);if(_0x29d23a==null||_0x29d23a['forEach'](_0x2bd6a7=>{const _0x118cd=parseInt(_0x2bd6a7['charAt'](_0x2bd6a7['length']-(-0x149a+0xf9+0x13a2)),-0x1*-0xd87+-0x19*-0xec+-0x2489);_0x4feec2['set'](_0x118cd,(_0x4feec2['get'](_0x118cd)??-0x17cd+-0x1e*0x15+0x1a43)+(0x254a+-0x4*0x33f+-0x184d));}),Array['from'](_0x4feec2['values']())['some'](_0x39a330=>_0x39a330===-0x1670+0x6f*-0x59+-0xd9*-0x48)){const _0x14424a=_0x5a0bb1['split']('\x0a'),_0x342d63=[];for(let _0x17e9d5=-0x566*-0x3+-0x84*-0x2f+0x3*-0xd7a;_0x17e9d5<_0x14424a['length'];_0x17e9d5++){const _0x11f830=_0x14424a[_0x17e9d5]['match'](a_);if(_0x11f830){const _0x1583ad=parseInt(_0x11f830[0x2e*-0x42+0xc03+-0x27]['charAt'](_0x11f830[-0x15eb+0x6*-0x3e7+-0x1*-0x2d55]['length']-(0xad*0x16+-0x2*0x1124+-0x136b*-0x1)),0xa38+-0x1c89+0x1*0x125b);if(_0x1583ad>-0x2093+0x2572*0x1+-0x1d*0x2b&&_0x4feec2['get'](_0x1583ad)===0x9d1+-0x129f*-0x1+-0x1c6f)continue;}_0x342d63['push'](_0x14424a[_0x17e9d5]);}_0x5a0bb1=_0x342d63['join']('\x0a');}}return _0x5a0bb1;}static['stripComme'+'nts'](_0x3894a7){return _0x3894a7['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x49842e,_0x889b33){return _0x49842e!==null&&_0x889b33['forEach']((_0x4e022c,_0x128286)=>{_0x49842e=_0x49842e['replace'](new RegExp('\x5c['+_0x128286+'\x5c]','g'),'['+_0x4e022c+']');}),_0x49842e;}static['injectDefi'+'nes'](_0x92eacd,_0x57f90f){if(_0x92eacd!==null&&_0x57f90f['size']>-0x32b+0x12aa+-0x1*0xf7f){const _0x26d500=_0x92eacd['split']('\x0a');_0x57f90f['forEach']((_0x14d707,_0x2aa3ef)=>{const _0xcfb974=new RegExp(_0x2aa3ef,'g');for(let _0xfb864a=-0x256c+-0x1b*-0x109+-0x61*-0x19;_0xfb864a<_0x26d500['length'];_0xfb864a++)_0x26d500[_0xfb864a]['includes']('#')||(_0x26d500[_0xfb864a]=_0x26d500[_0xfb864a]['replace'](_0xcfb974,_0x14d707));}),_0x92eacd=_0x26d500['join']('\x0a');}return _0x92eacd;}static['RemoveEmpt'+'yLines'](_0xa9a26e){return _0xa9a26e!==null&&(_0xa9a26e=_0xa9a26e['split'](/\r?\n/)['map'](_0xd9ac62=>_0xd9ac62['trim']()===''?'':_0xd9ac62)['join']('\x0a'),_0xa9a26e=_0xa9a26e['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0xa9a26e;}static['_preproces'+'s'](_0x313843,_0x6cc42b=new Map(),_0x143705,_0x19e81a,_0x4aa591){var _0x13dec0;const _0x2475b2=_0x313843,_0x3b00e7=[];let _0x5cf9de=!(0x1872+0xaf5+-0x2366),_0x4cd59b;for(;(_0x4cd59b=Fs['exec'](_0x313843))!==null&&!_0x5cf9de;){const _0x2cf6e6=_0x4cd59b[0x48e+0x7*-0x3b+-0x2f0];switch(_0x2cf6e6){case'define':{Nd['lastIndex']=_0x4cd59b['index'];const _0x46c40d=Nd['exec'](_0x313843);w['assert'](_0x46c40d,'Invalid\x20['+_0x2cf6e6+']:\x20'+_0x313843['substring'](_0x4cd59b['index'],_0x4cd59b['index']+(-0x7*-0x1b7+-0x9*0x175+0x180))+'...'),_0x5cf9de||(_0x5cf9de=_0x46c40d===null);const _0xf00ef2=_0x46c40d[0xd1f*0x2+0x35e*-0x7+-0x2ab*0x1];r_['lastIndex']=_0x46c40d['index'];const _0x286594=r_['exec'](_0xf00ef2)[0x2291+0x638+0x35*-0xc5];let _0x26411c=_0xf00ef2['substring'](_0x286594['length'])['trim']();_0x26411c===''&&(_0x26411c='true');const _0x3ffaea=Lt['_keep'](_0x3b00e7);let _0x1e5120=_0x4aa591;if(_0x3ffaea){const _0xff18b3=_0x286594['startsWith']('{')&&_0x286594['endsWith']('}');_0xff18b3&&(_0x1e5120=!(0x5*0x225+0x148c+-0x1f45)),_0xff18b3?_0x143705['set'](_0x286594,_0x26411c):_0x6cc42b['set'](_0x286594,_0x26411c),_0x1e5120&&(_0x313843=_0x313843['substring'](0x313*-0x1+0x146b*-0x1+-0xbbf*-0x2,_0x46c40d['index']-(-0x33*0xd+0x4f8*-0x7+0xd0*0x2e))+_0x313843['substring'](Nd['lastIndex']),Fs['lastIndex']=_0x46c40d['index']-(-0x13*-0xa3+-0x1f3*-0x4+-0x13e4));}w['trace'](Lr,_0x2cf6e6+':\x20['+_0x286594+']\x20'+_0x26411c+'\x20'+(_0x3ffaea?'':'IGNORED')),_0x1e5120||(Fs['lastIndex']=_0x46c40d['index']+_0x46c40d[-0x18c+0x21e0+-0x2054]['length']);break;}case'undef':{kd['lastIndex']=_0x4cd59b['index'];const _0x2bdc23=kd['exec'](_0x313843),_0x3364d1=_0x2bdc23[-0x15a*-0x1a+0x1c95+-0x3fb8]['trim'](),_0x481e6e=Lt['_keep'](_0x3b00e7);_0x481e6e&&(_0x6cc42b['delete'](_0x3364d1),_0x4aa591&&(_0x313843=_0x313843['substring'](0x549+-0x1*0x2531+0x1fe8,_0x2bdc23['index']-(0x4f2+0x23bb+-0x1456*0x2))+_0x313843['substring'](kd['lastIndex']),Fs['lastIndex']=_0x2bdc23['index']-(0x23f7+-0x142e+-0xca*0x14))),w['trace'](Lr,_0x2cf6e6+':\x20['+_0x3364d1+']\x20'+(_0x481e6e?'':'IGNORED')),_0x4aa591||(Fs['lastIndex']=_0x2bdc23['index']+_0x2bdc23[0x1*-0xed9+0x51*0x67+-0x11be]['length']);break;}case'extension':{i_['lastIndex']=_0x4cd59b['index'];const _0x487764=i_['exec'](_0x313843);if(w['assert'](_0x487764,'Invalid\x20['+_0x2cf6e6+']:\x20'+_0x313843['substring'](_0x4cd59b['index'],_0x4cd59b['index']+(-0x19*-0x3a+0x205d+-0xeb*0x29))+'...'),_0x5cf9de||(_0x5cf9de=_0x487764===null),_0x487764){const _0xff170c=_0x487764[-0x4a9*-0x2+-0x1d46+-0x6a7*-0x3],_0x45ce6b=Lt['_keep'](_0x3b00e7);_0x45ce6b&&_0x6cc42b['set'](_0xff170c,'true'),w['trace'](Lr,_0x2cf6e6+':\x20['+_0xff170c+']\x20'+(_0x45ce6b?'':'IGNORED'));}Fs['lastIndex']=_0x487764['index']+_0x487764[-0x16f*-0x1a+-0x1905+-0xc41]['length'];break;}case'ifdef':case'ifndef':case'if':{Ud['lastIndex']=_0x4cd59b['index'];const _0x1eeaf0=Ud['exec'](_0x313843),_0x1db2b2=_0x1eeaf0[-0x17*-0x4e+-0x1fae+0x18ae],_0x152a1d=Lt['evaluate'](_0x1db2b2,_0x6cc42b);_0x5cf9de||(_0x5cf9de=_0x152a1d['error']);let _0x17f9d2=_0x152a1d['result'];_0x2cf6e6==='ifndef'&&(_0x17f9d2=!_0x17f9d2),_0x3b00e7['push']({'anyKeep':_0x17f9d2,'keep':_0x17f9d2,'start':_0x4cd59b['index'],'end':Ud['lastIndex']}),w['trace'](Lr,_0x2cf6e6+':\x20['+_0x1db2b2+']\x20=>\x20'+_0x17f9d2),Fs['lastIndex']=_0x1eeaf0['index']+_0x1eeaf0[0x43*0x8b+-0x79*0x3+-0x22f6]['length'];break;}case'endif':case'else':case'elif':{Bd['lastIndex']=_0x4cd59b['index'];const _0x7a4496=Bd['exec'](_0x313843),_0xaaf512=_0x3b00e7['pop']();if(!_0xaaf512){console['error']('Shader\x20pre'+'processing'+'\x20encounter'+'ed\x20\x22#'+_0x7a4496[0xa81*0x1+-0x1*-0x1c25+-0x1*0x26a5]+('\x22\x20without\x20'+'a\x20precedin'+'g\x20#if\x20#ifd'+'ef\x20#ifndef'+'\x20while\x20pre'+'processing'+'\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0x313843['substring'](_0x4cd59b['index'],_0x4cd59b['index']+(0x1674+0x139e+-0x29ae))+'...',{'source':_0x2475b2}),_0x5cf9de=!(0x1002+-0x1e11+0xe0f*0x1);continue;}const _0x5d531b=_0xaaf512['keep']?_0x313843['substring'](_0xaaf512['end'],_0x4cd59b['index']):'';w['trace'](Lr,_0x2cf6e6+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x5d531b!=='')),_0x313843=_0x313843['substring'](0x8aa+-0x1*-0x1d35+-0x793*0x5,_0xaaf512['start'])+_0x5d531b+_0x313843['substring'](Bd['lastIndex']),Fs['lastIndex']=_0xaaf512['start']+_0x5d531b['length'];const _0x85b612=_0x7a4496[-0xd8a*-0x1+0x15d4+-0x1*0x235d];if(_0x85b612==='else'||_0x85b612==='elif'){let _0x48b674=!(0x1c1b+-0x139*-0x1d+-0x3f8f);if(!_0xaaf512['anyKeep']){if(_0x85b612==='else')_0x48b674=!_0xaaf512['keep'];else{const _0x55a2d0=Lt['evaluate'](_0x7a4496[0x1*-0xb29+-0x66*0x23+0x191d],_0x6cc42b);_0x48b674=_0x55a2d0['result'],_0x5cf9de||(_0x5cf9de=_0x55a2d0['error']);}}_0x3b00e7['push']({'anyKeep':_0xaaf512['anyKeep']||_0x48b674,'keep':_0x48b674,'start':Fs['lastIndex'],'end':Fs['lastIndex']}),w['trace'](Lr,_0x2cf6e6+':\x20['+_0x7a4496[0x3ee*-0x1+-0x2*-0x116c+-0x1ee8]+']\x20=>\x20'+_0x48b674);}break;}case'include':{zd['lastIndex']=_0x4cd59b['index'];const _0x53f34c=zd['exec'](_0x313843);if(_0x5cf9de||(_0x5cf9de=_0x53f34c===null),!_0x53f34c){w['assert'](_0x53f34c,'Invalid\x20['+_0x2cf6e6+(']\x20while\x20pr'+'eprocessin'+'g\x20')+Lt['sourceName']+':\x0a'+_0x313843['substring'](_0x4cd59b['index'],_0x4cd59b['index']+(-0x2112+-0x1b20+0x3c96))+'...'),_0x5cf9de=!(0xaf7+-0x12e7*0x1+0x7f0);continue;}const _0x33e1cd=_0x53f34c[-0x962*-0x3+0x595*-0x1+-0x1690]['trim'](),_0x523efe=(_0x13dec0=_0x53f34c[0x205b+0x1932+-0x398b])==null?void(-0xc47+-0x1576*0x1+-0x1*-0x21bd):_0x13dec0['trim'](),_0x5e022b=Lt['_keep'](_0x3b00e7);if(_0x5e022b){let _0x40a0a0=_0x19e81a==null?void(0xb5c*0x3+0x23d9+0xd*-0x561):_0x19e81a['get'](_0x33e1cd);if(_0x40a0a0!==void(0x3e5*-0x5+0x1*0xe03+-0xe9*-0x6)){if(_0x40a0a0=this['stripComme'+'nts'](_0x40a0a0),_0x523efe){const _0x3513c7=_0x6cc42b['get'](_0x523efe),_0x151b65=parseFloat(_0x3513c7);if(Number['isInteger'](_0x151b65)){let _0x115604='';for(let _0x3854b0=0x1*0x127+0x22bb+-0x5fb*0x6;_0x3854b0<_0x151b65;_0x3854b0++)_0x115604+=_0x40a0a0['replace'](VT,String(_0x3854b0));_0x40a0a0=_0x115604;}else console['error']('Include\x20Co'+'unt\x20identi'+'fier\x20\x22'+_0x523efe+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0x313843['substring'](_0x4cd59b['index'],_0x4cd59b['index']+(-0x1*-0xe8f+0xc41*0x2+0x1*-0x26ad))+'...',{'originalSource':_0x2475b2,'source':_0x313843}),_0x5cf9de=!(-0x75e+-0x1a2b+0x2189);}_0x313843=_0x313843['substring'](-0x5cb*-0x1+-0x1445+0xe7a,_0x53f34c['index']-(0xa65+-0x160a+0xba6))+_0x40a0a0+_0x313843['substring'](zd['lastIndex']),Fs['lastIndex']=_0x53f34c['index']-(-0x93+-0x1048+0x10dc*0x1);}else{console['error']('Include\x20\x22'+_0x33e1cd+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName'],{'originalSource':_0x2475b2,'source':_0x313843}),_0x5cf9de=!(0x1367+-0x7*0x219+-0x4b8);continue;}}w['trace'](Lr,_0x2cf6e6+':\x20['+_0x33e1cd+']\x20'+(_0x5e022b?'':'IGNORED'));break;}}}return _0x3b00e7['length']>0x13d8+-0x113*-0x19+-0x2eb3&&(console['error']('Shader\x20pre'+'processing'+'\x20reached\x20t'+'he\x20end\x20of\x20'+'the\x20file\x20w'+'ithout\x20enc'+'ountering\x20'+'the\x20necess'+'ary\x20#endif'+'\x20to\x20close\x20'+'a\x20precedin'+'g\x20#if,\x20#if'+'def,\x20or\x20#i'+'fndef\x20bloc'+'k.\x20'+Lt['sourceName']),_0x5cf9de=!(0x1d41+-0x266*-0x3+-0x2b*0xd9)),_0x5cf9de?(console['error']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x2475b2}),null):_0x313843;}static['_keep'](_0x3f4a53){for(let _0x2d7e81=-0xd3d+0x11a7*-0x2+0x308b;_0x2d7e81<_0x3f4a53['length'];_0x2d7e81++)if(!_0x3f4a53[_0x2d7e81]['keep'])return!(-0x23d8+0x183*-0x15+0x4398);return!(0x1*0xe8f+0x1b1c+0x1*-0x29ab);}static['evaluateAt'+'omicExpres'+'sion'](_0x2ed1aa,_0x5ae2bd){let _0x9d48d0=!(0x2457+-0x950+0x1b06*-0x1);_0x2ed1aa=_0x2ed1aa['trim']();let _0x5a8cf8=!(-0xa73*-0x2+-0x10e1+-0x404);if(_0x2ed1aa==='true')return{'result':!(-0xc01+-0x1c66+0x2867),'error':_0x9d48d0};if(_0x2ed1aa==='false')return{'result':!(-0xe49+0x1*0x1613+-0x1*0x7c9),'error':_0x9d48d0};const _0x3b0a4a=NT['exec'](_0x2ed1aa);if(_0x3b0a4a){_0x5a8cf8=_0x3b0a4a[-0x2e9*0xd+0x6*-0x2c0+0x56f*0xa]==='!',_0x2ed1aa=_0x3b0a4a[0x8*0x273+-0x1*-0x23ad+-0x2f*0x12d]['trim']();const _0x9667f7=_0x5ae2bd['has'](_0x2ed1aa);return{'result':_0x5a8cf8?!_0x9667f7:_0x9667f7,'error':_0x9d48d0};}const _0x14a00e=BT['exec'](_0x2ed1aa);if(_0x14a00e){const _0x230f8a=_0x5ae2bd['get'](_0x14a00e[0x20ec+0x1*-0xf91+-0x115a]['trim']())??_0x14a00e[0x2*-0x5bf+0x1eb4+0x21*-0x95]['trim'](),_0x2c9e2e=_0x5ae2bd['get'](_0x14a00e[-0x1*-0x2170+-0x1eb1+-0x1*0x2bc]['trim']())??_0x14a00e[0x2ae*-0x3+-0x7c2+-0xd5*-0x13]['trim'](),_0x1b2569=_0x14a00e[-0x506+0x1*0x1802+-0x12fa]['trim']();let _0x307f9c=!(-0x123e+0x1*-0x1689+0x28c8);switch(_0x1b2569){case'==':_0x307f9c=_0x230f8a===_0x2c9e2e;break;case'!=':_0x307f9c=_0x230f8a!==_0x2c9e2e;break;case'<':_0x307f9c=_0x230f8a<_0x2c9e2e;break;case'<=':_0x307f9c=_0x230f8a<=_0x2c9e2e;break;case'>':_0x307f9c=_0x230f8a>_0x2c9e2e;break;case'>=':_0x307f9c=_0x230f8a>=_0x2c9e2e;break;default:_0x9d48d0=!(0x8*0x36c+0x98b+-0x24eb);}return{'result':_0x307f9c,'error':_0x9d48d0};}return{'result':_0x5ae2bd['has'](_0x2ed1aa),'error':_0x9d48d0};}static['processPar'+'entheses'](_0x199fce,_0x381727){let _0x213839=!(0x1*-0xe89+-0x128e+0x2118),_0x5e23c3=_0x199fce['trim']();for(;_0x5e23c3['startsWith']('(')&&_0x5e23c3['endsWith'](')');){let _0x9ee2aa=-0xf4*0x2+-0xe23+-0x100b*-0x1,_0x52f369=!(-0x1757+0xc8b+0xacc);for(let _0x2c3f32=0x1a09+0x13e*-0x11+-0x1*0x4eb;_0x2c3f32<_0x5e23c3['length']-(-0x2107+-0x2*0xcdf+0x1*0x3ac6);_0x2c3f32++)if(_0x5e23c3[_0x2c3f32]==='(')_0x9ee2aa++;else{if(_0x5e23c3[_0x2c3f32]===')'&&(_0x9ee2aa--,_0x9ee2aa===-0x1ea9+-0x1cc+0x4a3*0x7)){_0x52f369=!(0x1b7*-0x16+0xde6+-0x1*-0x17d5);break;}}if(_0x52f369)_0x5e23c3=_0x5e23c3['slice'](0x877+-0x1bed+0x1*0x1377,-(0xf89*-0x1+-0x1406+0x2*0x11c8))['trim']();else break;}for(;;){let _0x4bf08c=!(-0x1a8b+0xc67+0xe25),_0x271e81=0x7*0x52+0xad*-0x2e+0x1cd8,_0x1a6aa0=-0x2*-0x10c+-0x2*-0xda7+-0x1d66,_0x32238c=-(-0x5f4+0x3*-0x324+0xf61*0x1),_0x47050b=-(-0x1*-0x5f9+0x1*-0x2d2+0x193*-0x2),_0x27ac30=-0x382+-0x2eb+-0x149*-0x5;for(let _0x153acb=0x210a*0x1+0x152f+0x3639*-0x1;_0x153acb<_0x5e23c3['length'];_0x153acb++)if(_0x5e23c3[_0x153acb]==='('){const _0x15ca13=_0x5e23c3['substring'](0x2*-0x5af+0x1e6e+-0x1310,_0x153acb);UT['test'](_0x15ca13)?_0x27ac30++:_0x27ac30===0x794+0x1*-0x1cab+-0x1*-0x1517&&(_0x271e81++,_0x271e81>_0x1a6aa0&&(_0x1a6aa0=_0x271e81,_0x32238c=_0x153acb),_0x4bf08c=!(0x130*0x1+-0x1be*-0xe+-0x1994));}else _0x5e23c3[_0x153acb]===')'&&(_0x27ac30>0x1b2+-0x153*-0x1+-0x305?_0x27ac30--:_0x271e81>0x191b+0xf9*0xb+-0x2*0x11e7&&(_0x271e81===_0x1a6aa0&&_0x32238c!==-(0x1e0d+0x6*-0x151+-0x1626)&&(_0x47050b=_0x153acb),_0x271e81--));if(!_0x4bf08c||_0x32238c===-(-0xf79*-0x1+-0x141f+0x4a7)||_0x47050b===-(0x115*-0x1b+-0x88*0x1+0x1dc0))break;const _0x1ad588=_0x5e23c3['substring'](_0x32238c+(-0x1cd0+-0x193f+0x3610),_0x47050b),{result:_0x36ec3d,error:_0x20cc03}=Lt['evaluate'](_0x1ad588,_0x381727);_0x213839=_0x213839||_0x20cc03,_0x5e23c3=_0x5e23c3['substring'](0x1f19+0x2046+-0x3f5f*0x1,_0x32238c)+(_0x36ec3d?'true':'false')+_0x5e23c3['substring'](_0x47050b+(0x10c6+-0x116f+0x22*0x5));}return{'expression':_0x5e23c3,'error':_0x213839};}static['evaluate'](_0x35597f,_0x2f0ca0){const _0x504c19=zT['exec'](_0x35597f)===null;w['assert'](_0x504c19,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x35597f);let _0x20ca36=_0x35597f,_0x46c4b4=!(-0x41*0x85+0x42f+-0x3*-0x9dd);if(_0x35597f['replace'](kT,'')['indexOf']('(')!==-(-0xd7*-0x7+-0x1*0xc4c+-0x89*-0xc)){const _0x4cbc7c=Lt['processPar'+'entheses'](_0x35597f,_0x2f0ca0);_0x20ca36=_0x4cbc7c['expression'],_0x46c4b4=_0x4cbc7c['error'];}if(_0x46c4b4)return w['log']('Parenthesi'+'s\x20parsing\x20'+'error\x20in\x20e'+'xpression:'+'\x20\x22'+_0x35597f+'\x22'),{'result':!(-0xdbd*-0x2+0x1d3f*-0x1+0x1c6*0x1),'error':!(0x4*0x632+0x488+-0x1d50)};const _0x3db503=_0x20ca36['split']('||');for(const _0x209c12 of _0x3db503){const _0x26e5f8=_0x209c12['split']('&&');let _0x44adc9=!(0x1fde+0x1b*0x167+-0x45bb);for(const _0x2a7580 of _0x26e5f8){const {result:_0x2bf440,error:_0x360f7f}=Lt['evaluateAt'+'omicExpres'+'sion'](_0x2a7580['trim'](),_0x2f0ca0);if(!_0x2bf440||_0x360f7f){_0x44adc9=!(0x1*0x16f+0xcaf+-0xe1d);break;}}if(_0x44adc9)return{'result':!(0x16a7*0x1+-0xe*-0x112+0x1*-0x25a3),'error':!_0x504c19};}return{'result':!(-0xf80+-0x1bf9+0x2b7a),'error':!_0x504c19};}};h(Lt,'sourceName');let ko=Lt;const Vy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pcFragCo'+'lor0;\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_1\x0a'+'layout(loc'+'ation\x20=\x201)'+'\x20out\x20highp'+'\x20outType_1'+'\x20pcFragCol'+'or1;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_2\x0alayo'+'ut(locatio'+'n\x20=\x202)\x20out'+'\x20highp\x20out'+'Type_2\x20pcF'+'ragColor2;'+'\x0a#endif\x0a\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'3\x0alayout(l'+'ocation\x20=\x20'+'3)\x20out\x20hig'+'hp\x20outType'+'_3\x20pcFragC'+'olor3;\x0a#en'+'dif\x0a\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'cFragColor'+'4;\x0a#endif\x0a'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_5\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0a#'+'endif\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_6\x0a'+'layout(loc'+'ation\x20=\x206)'+'\x20out\x20highp'+'\x20outType_6'+'\x20pcFragCol'+'or6;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_7\x0alayo'+'ut(locatio'+'n\x20=\x207)\x20out'+'\x20highp\x20out'+'Type_7\x20pcF'+'ragColor7;'+'\x0a#endif\x0a\x0a#'+'define\x20gl_'+'FragColor\x20'+'pcFragColo'+'r0\x0a\x0a#defin'+'e\x20varying\x20'+'in\x0a\x0a#defin'+'e\x20texture2'+'D\x20texture\x0a'+'#define\x20te'+'xture2DBia'+'s\x20texture\x0a'+'#define\x20te'+'xtureCube\x20'+'texture\x0a#d'+'efine\x20text'+'ure2DProj\x20'+'texturePro'+'j\x0a#define\x20'+'texture2DL'+'od\x20texture'+'Lod\x0a#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a#defin'+'e\x20textureC'+'ubeLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+('ure2DGrad\x20'+'textureGra'+'d\x0a#define\x20'+'texture2DP'+'rojGrad\x20te'+'xtureProjG'+'rad\x0a#defin'+'e\x20textureC'+'ubeGrad\x20te'+'xtureGrad\x0a'+'#define\x20ut'+'exture2D\x20t'+'exture\x0a#de'+'fine\x20itext'+'ure2D\x20text'+'ure\x0a\x0a//\x20de'+'precated\x20d'+'efines\x0a#de'+'fine\x20textu'+'re2DLodEXT'+'\x20texture2D'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DProjLodE'+'XT\x20texture'+'2DProjLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DP'+'rojLod\x0a#de'+'fine\x20textu'+'reCubeLodE'+'XT\x20texture'+'CubeLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeL'+'od_instead'+'\x0a#define\x20t'+'exture2DGr'+'adEXT\x20text'+'ure2DGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DG'+'rad_instea'+'d\x0a#define\x20'+'texture2DP'+'rojGradEXT'+'\x20texture2D'+'ProjGradEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DPr'+'ojGrad_ins'+'tead\x0a#defi'+'ne\x20texture'+'CubeGradEX'+'T\x20textureC'+'ubeGradEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeG'+'rad_instea'+'d\x0a\x0a//\x20samp'+'le\x20shadows'+'\x20using\x20tex'+'tureGrad\x20t'+'o\x20remove\x20d'+'erivatives'+'\x20in\x20the\x20dy'+'namic\x20loop'+'s\x20(which\x20a'+'re\x20used\x20by'+'\x0a//\x20cluste'+'red\x20lighti'+'ng)\x20-\x20as\x20D'+'irectX\x20sha'+'der\x20compil'+'er\x20tries\x20t'+'o\x20unroll\x20t'+'he\x20loops\x20a'+'nd\x20takes\x20l'+'ong\x20time\x0a/'+'/\x20to\x20compi'+'le\x20the\x20sha'+'der.\x20Using'+'\x20textureLo'+'d\x20would\x20be'+'\x20even\x20bett')+('er,\x20but\x20We'+'bGl\x20does\x20n'+'ot\x20transla'+'te\x20it\x20to\x0a/'+'/\x20lod\x20inst'+'ruction\x20fo'+'r\x20DirectX\x20'+'correctly\x20'+'and\x20uses\x20S'+'ampleCmp\x20i'+'nstead\x20of\x20'+'SampleCmpL'+'evelZero\x20o'+'r\x20similar.'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureG'+'rad(res,\x20u'+'v,\x20vec2(1,'+'\x201),\x20vec2('+'1,\x201))\x0a\x0a//'+'\x20pass\x20/\x20ac'+'cept\x20shado'+'w\x20map\x20or\x20t'+'exture\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20on\x20webgl'+'\x20this\x20is\x20s'+'imply\x20pass'+'ed\x20as\x20is\x0a/'+'/\x20but\x20this'+'\x20is\x20needed'+'\x20for\x20WebGP'+'U\x0a#define\x20'+'SHADOWMAP_'+'PASS(name)'+'\x20name\x0a#def'+'ine\x20SHADOW'+'MAP_ACCEPT'+'(name)\x20sam'+'pler2DShad'+'ow\x20name\x0a#d'+'efine\x20TEXT'+'URE_PASS(n'+'ame)\x20name\x0a'+'#define\x20TE'+'XTURE_ACCE'+'PT(name)\x20s'+'ampler2D\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP(name)\x20h'+'ighp\x20sampl'+'er2D\x20name\x0a'+'\x0a#define\x20G'+'L2\x0a'),Gy='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',Hy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pcFragColo'+'r0;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pcFra'+'gColor1;\x0al'+'ayout(loca'+'tion\x20=\x202)\x20'+'out\x20highp\x20'+'outType_2\x20'+'pcFragColo'+'r2;\x0alayout'+'(location\x20'+'=\x203)\x20out\x20h'+'ighp\x20outTy'+'pe_3\x20pcFra'+'gColor3;\x0al'+'ayout(loca'+'tion\x20=\x204)\x20'+'out\x20highp\x20'+'outType_4\x20'+'pcFragColo'+'r4;\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0al'+'ayout(loca'+'tion\x20=\x206)\x20'+'out\x20highp\x20'+'outType_6\x20'+'pcFragColo'+'r6;\x0alayout'+'(location\x20'+'=\x207)\x20out\x20h'+'ighp\x20outTy'+'pe_7\x20pcFra'+'gColor7;\x0a\x0a'+'#define\x20gl'+'_FragColor'+'\x20pcFragCol'+'or0\x0a\x0a#defi'+'ne\x20texture'+'2D(res,\x20uv'+')\x20texture('+'sampler2D('+('res,\x20res\x20#'+'#\x20_sampler'+'),\x20uv)\x0a#de'+'fine\x20textu'+'re2DBias(r'+'es,\x20uv,\x20bi'+'as)\x20textur'+'e(sampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv,\x20b'+'ias)\x0a#defi'+'ne\x20texture'+'2DLod(res,'+'\x20uv,\x20lod)\x20'+'textureLod'+'(sampler2D'+'(res,\x20res\x20'+'##\x20_sample'+'r),\x20uv,\x20lo'+'d)\x0a#define'+'\x20textureCu'+'be(res,\x20uv'+')\x20texture('+'samplerCub'+'e(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a#'+'define\x20tex'+'tureCubeLo'+'d(res,\x20uv,'+'\x20lod)\x20text'+'ureLod(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20lod)'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureL'+'od(sampler'+'2DShadow(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x200.0)'+'\x0a#define\x20i'+'texture2D('+'res,\x20uv)\x20t'+'exture(isa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv)\x0a#defi'+'ne\x20utextur'+'e2D(res,\x20u'+'v)\x20texture'+'(usampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a\x0a'+'//\x20depreca'+'ted\x20define'+'s\x0a#define\x20'+'texture2DL'+'odEXT\x20text'+'ure2DLodEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DLo'+'d_instead\x0a'+'#define\x20te'+'xture2DPro'+'jLodEXT\x20te'+'xture2DPro'+'jLodEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DProjLo'+'d\x0a#define\x20'+'textureCub'+'eLodEXT\x20te'+'xtureCubeL'+'odEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeLod_in'+'stead\x0a#def'+'ine\x20textur'+'e2DGradEXT'+'\x20texture2D'+'GradEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DGrad_i'+'nstead\x0a#de')+('fine\x20textu'+'re2DProjGr'+'adEXT\x20text'+'ure2DProjG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjGra'+'d_instead\x0a'+'#define\x20te'+'xtureCubeG'+'radEXT\x20tex'+'tureCubeGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeGrad_i'+'nstead\x0a\x0a//'+'\x20TODO:\x20imp'+'lement\x20oth'+'er\x20texture'+'\x20sampling\x20'+'macros\x0a//\x20'+'#define\x20te'+'xture2DPro'+'j\x20textureP'+'roj\x0a//\x20#de'+'fine\x20textu'+'re2DProjLo'+'d\x20textureP'+'rojLod\x0a//\x20'+'#define\x20te'+'xture2DGra'+'d\x20textureG'+'rad\x0a//\x20#de'+'fine\x20textu'+'re2DProjGr'+'ad\x20texture'+'ProjGrad\x0a/'+'/\x20#define\x20'+'textureCub'+'eGrad\x20text'+'ureGrad\x0a\x0a/'+'/\x20pass\x20/\x20a'+'ccept\x20shad'+'ow\x20map\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20passes\x20b'+'oth\x20the\x20te'+'xture\x20as\x20w'+'ell\x20as\x20sam'+'pler\x0a//\x20as'+'\x20the\x20combi'+'ned\x20sample'+'r\x20can\x20be\x20o'+'nly\x20create'+'d\x20at\x20a\x20poi'+'nt\x20of\x20use\x0a'+'#define\x20SH'+'ADOWMAP_PA'+'SS(name)\x20n'+'ame,\x20name\x20'+'##\x20_sample'+'r\x0a#define\x20'+'SHADOWMAP_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'PASS(name)'+'\x20name,\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP\x20TEXTURE'+'_ACCEPT\x0a\x0a#'+'define\x20GL2'+'\x0a#define\x20W'+'EBGPU\x0a'),Wy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',$y='\x0a',Xy='\x0a#define\x20V'+'ERTEXSHADE'+'R\x0a',n_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',o_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20fo'+'r\x20sampling'+'\x20scene\x20gra'+'b\x20textures'+'\x0afn\x20getGra'+'bScreenPos'+'(clipPos:\x20'+'vec4<f32>)'+'\x20->\x20vec2<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'var\x20uv:\x20ve'+'c2<f32>\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x20vec2<f3'+'2>(0.5);\x0a\x20'+'\x20\x20\x20uv.y\x20=\x20'+'1.0\x20-\x20uv.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'//\x20convert'+'\x20uv\x20coordi'+'nates\x20to\x20s'+'ample\x20imag'+'e\x20effect\x20t'+'exture\x20(re'+'nder\x20targe'+'t\x20texture\x20'+'rendered\x20w'+'ithout\x0a//\x20'+'forward\x20re'+'nderer\x20whi'+'ch\x20does\x20th'+'e\x20flip\x20in\x20'+'the\x20projec'+'tion\x20matri'+'x)\x0afn\x20getI'+'mageEffect'+'UV(uv:\x20vec'+'2<f32>)\x20->'+'\x20vec2<f32>'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20modifiedU'+'V:\x20vec2<f3'+'2>\x20=\x20uv;\x0a\x20'+'\x20\x20\x20modifie'+'dUV.y\x20=\x201.'+'0\x20-\x20modifi'+'edUV.y;\x0a\x20\x20'+'\x20\x20return\x20m'+'odifiedUV;'+'\x0a}\x0a\x0a//\x20typ'+'es\x20wrapped'+'\x20in\x20size\x20a'+'ligned\x20str'+'uctures\x20to'+'\x20ensure\x20co'+'rrect\x20alig'+'nment\x20in\x20u'+'niform\x20buf'+'fer\x20arrays'+'\x0astruct\x20Wr'+'appedF32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'f32\x20}\x0astru'+'ct\x20Wrapped'+'I32\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20i32\x20}'+'\x0astruct\x20Wr'+'appedU32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'u32\x20}\x0astru'+'ct\x20Wrapped'+'Vec2F\x20{\x20@s'+'ize(16)\x20el'+'ement:\x20vec'+'2f\x20}\x0astruc'+'t\x20WrappedV'+'ec2I\x20{\x20@si'+'ze(16)\x20ele'+'ment:\x20vec2'+'i\x20}\x0astruct'+'\x20WrappedVe'+'c2U\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20vec2u'+'\x20}\x0a',GT={'vertex_position':Me,'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_texCoord2':wl,'vertex_texCoord3':El,'vertex_texCoord4':bl,'vertex_texCoord5':Al,'vertex_texCoord6':Cl,'vertex_texCoord7':Pl,'vertex_color':Wt,'vertex_boneIndices':us,'vertex_boneWeights':gi};class Jt{static['createDefi'+'nition'](_0x248db0,_0x2c5364){w['assert'](_0x2c5364),w['assert'](!_0x2c5364['vertexDefi'+'nes']||_0x2c5364['vertexDefi'+'nes']instanceof Map),w['assert'](!_0x2c5364['vertexIncl'+'udes']||_0x2c5364['vertexIncl'+'udes']instanceof Map),w['assert'](!_0x2c5364['fragmentDe'+'fines']||_0x2c5364['fragmentDe'+'fines']instanceof Map),w['assert'](!_0x2c5364['fragmentIn'+'cludes']||_0x2c5364['fragmentIn'+'cludes']instanceof Map);const _0x4be04f=_0x5d3c80=>{let _0x53603f=_0x5d3c80['fragmentOu'+'tputTypes']??'vec4';return Array['isArray'](_0x53603f)||(_0x53603f=[_0x53603f]),_0x53603f;},_0x293ebb=(_0x1bc4a1,_0x121da6,_0xcb3980,_0x26979f)=>{const _0x549fa6=_0x248db0['isWebGPU']?_0x1bc4a1:_0x121da6;let _0x37d2fb='';if(!_0xcb3980){const _0x126ca5=_0x4be04f(_0x26979f);for(let _0x4a3121=-0x30*-0x9+-0x2*-0x120d+0xe*-0x2b3;_0x4a3121<_0x248db0['maxColorAt'+'tachments'];_0x4a3121++){_0x37d2fb+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x4a3121+'\x0a';const _0x47ca35=_0x126ca5[_0x4a3121]??'vec4';_0x37d2fb+='#define\x20ou'+'tType_'+_0x4a3121+'\x20'+_0x47ca35+'\x0a';}}return _0x37d2fb+_0x549fa6;},_0x33eedd=(_0x38da69,_0x53425e)=>{let _0x1cd23c='';if(!_0x38da69){const _0x4c13d9=_0x4be04f(_0x53425e);for(let _0x5d15fd=0x613*0x4+0x17e1+-0x302d*0x1;_0x5d15fd<_0x248db0['maxColorAt'+'tachments'];_0x5d15fd++){const _0x3c9040=_0x4c13d9[_0x5d15fd]??'vec4',_0x118a4e=Fy['get'](_0x3c9040);w['assert'](_0x118a4e,'Unknown\x20ou'+'tput\x20type\x20'+'translatio'+'n:\x20'+_0x3c9040+'\x20->\x20'+_0x118a4e),_0x1cd23c+='alias\x20pcOu'+'tType'+_0x5d15fd+'\x20=\x20'+_0x118a4e+';\x0a';}}return _0x1cd23c;},_0x371b6c=_0x2c5364['name']??'Untitled';let _0x5665d7,_0x395a99;const _0xe29c25=Jt['getDefines'+'Code'](_0x248db0,_0x2c5364['vertexDefi'+'nes']),_0x2825e7=Jt['getDefines'+'Code'](_0x248db0,_0x2c5364['fragmentDe'+'fines']);return _0x2c5364['shaderLang'+'uage']===it?(_0x5665d7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x33eedd(!(-0x1d4c+0x97*0x2+0x1c1e),_0x2c5364)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Xy+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0xe29c25+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x2c5364['vertexCode']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'),_0x395a99='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x33eedd(!(-0x2279*0x1+0x1*0x97+0x1*0x21e3),_0x2c5364)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+$y+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x2825e7+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x2c5364['fragmentCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')):(w['assert'](_0x2c5364['vertexCode']),_0x5665d7=Jt['versionCod'+'e'](_0x248db0)+_0x293ebb(Wy,Gy,!(0x1156+-0xb1b+-0x63b*0x1),_0x2c5364)+_0xe29c25+Jt['precisionC'+'ode'](_0x248db0)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x371b6c)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x2c5364['vertexCode'],w['assert'](_0x2c5364['fragmentCo'+'de']),_0x395a99=(_0x2c5364['fragmentPr'+'eamble']||'')+Jt['versionCod'+'e'](_0x248db0)+_0x293ebb(Hy,Vy,!(-0x9df*0x2+0x6c4+0xcfb),_0x2c5364)+_0x2825e7+Jt['precisionC'+'ode'](_0x248db0)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x371b6c)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x2c5364['fragmentCo'+'de']),{'name':_0x371b6c,'shaderLanguage':_0x2c5364['shaderLang'+'uage']??Fe,'attributes':_0x2c5364['attributes'],'vshader':_0x5665d7,'vincludes':_0x2c5364['vertexIncl'+'udes'],'fincludes':_0x2c5364['fragmentIn'+'cludes'],'fshader':_0x395a99,'useTransformFeedback':_0x2c5364['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0x2c5364['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x2c5364['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x2db96,_0x5a4392){let _0xe527dd='';return _0x2db96['capsDefine'+'s']['forEach']((_0x5a9807,_0x3cae69)=>{_0xe527dd+='#define\x20'+_0x3cae69+'\x20'+_0x5a9807+'\x0a';}),_0xe527dd+='\x0a',_0x5a4392==null||_0x5a4392['forEach']((_0x10263e,_0x20af21)=>{_0xe527dd+='#define\x20'+_0x20af21+'\x20'+_0x10263e+'\x0a';}),_0xe527dd+='\x0a',_0xe527dd;}static['getShaderN'+'ameCode'](_0x1a6518){return'#define\x20SH'+'ADER_NAME\x20'+_0x1a6518+'\x0a';}static['versionCod'+'e'](_0x560c00){return _0x560c00['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x4e6644,_0x3846f7){_0x3846f7&&_0x3846f7!=='highp'&&_0x3846f7!=='mediump'&&_0x3846f7!=='lowp'&&(_0x3846f7=null),_0x3846f7&&(_0x3846f7==='highp'&&_0x4e6644['maxPrecisi'+'on']!=='highp'&&(_0x3846f7='mediump'),_0x3846f7==='mediump'&&_0x4e6644['maxPrecisi'+'on']==='lowp'&&(_0x3846f7='lowp'));const _0x5f3805=_0x3846f7||_0x4e6644['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x5f3805+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x5f3805+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x5f3805+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x5f3805+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x5f3805+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x5f3805+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x5f3805+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0xddfa93){const _0x2154ef={};let _0x4925d3=-0x2079*0x1+-0x1b3b*-0x1+0x53e,_0x57ce3c=_0xddfa93['indexOf']('attribute');for(;_0x57ce3c>=-0x11c0+-0x1bfa+0x2dba&&!(_0x57ce3c>0x3*-0x4fd+0xc21+0x2*0x16b&&_0xddfa93[_0x57ce3c-(0x2b1*0x9+0x1f84+-0x37bc)]==='/');){let _0xbb3218=!(0xb78*0x1+-0x175d+-0x1*-0xbe6);if(_0x57ce3c>-0x25ab+0x3*0xaed+-0x139*-0x4){let _0x1d92fd=_0xddfa93['lastIndexO'+'f']('\x0a',_0x57ce3c);_0x1d92fd=_0x1d92fd!==-(-0x1066+-0x265*0x1+0x12cc)?_0x1d92fd+(-0x1873+-0x2665+0x3ed9):0x1177*0x1+-0x667+0x10*-0xb1,_0xddfa93['substring'](_0x1d92fd,_0x57ce3c)['includes']('#')&&(_0xbb3218=!(0x13*-0x19a+-0x59*-0x34+0xc5a));}if(!_0xbb3218){const _0x2d0ffe=_0xddfa93['indexOf'](';',_0x57ce3c),_0x484b6c=_0xddfa93['lastIndexO'+'f']('\x20',_0x2d0ffe),_0x1e750f=_0xddfa93['substring'](_0x484b6c+(0x1*-0x73b+-0x1*0x61d+0x11*0xc9),_0x2d0ffe);if(_0x2154ef[_0x1e750f])w['warn']('Attribute\x20'+'['+_0x1e750f+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0xddfa93});else{const _0x30ffc1=GT[_0x1e750f];_0x30ffc1!==void(-0x20ed+-0x2690+-0x477d*-0x1)?_0x2154ef[_0x1e750f]=_0x30ffc1:(_0x2154ef[_0x1e750f]='ATTR'+_0x4925d3,_0x4925d3++);}}_0x57ce3c=_0xddfa93['indexOf']('attribute',_0x57ce3c+(-0x1*-0x4ac+-0x154b+0x10a0));}return _0x2154ef;}}let HT=-0x14ad*-0x1+-0x1e80+0x9d3;class qy{constructor(_0x3b23b0,_0x5c68fc){h(this,'meshUnifor'+'mBufferFor'+'mat'),h(this,'meshBindGr'+'oupFormat'),h(this,'attributes',new Map());if(this['id']=HT++,this['device']=_0x3b23b0,this['definition']=_0x5c68fc,this['name']=_0x5c68fc['name']||'Untitled',this['init'](),_0x5c68fc['cshader'])w['assert'](_0x3b23b0['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),w['assert'](!_0x5c68fc['vshader']&&!_0x5c68fc['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.'),_0x5c68fc['cshader']=ko['run'](_0x5c68fc['cshader'],_0x5c68fc['cincludes'],{'sourceName':'compute\x20sh'+'ader\x20for\x20'+this['label'],'stripDefines':!(0x21d0+0xe89*-0x1+-0x1*0x1347)});else{w['assert'](_0x5c68fc['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),w['assert'](_0x5c68fc['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),w['call'](()=>{this['vUnmodifie'+'d']=_0x5c68fc['vshader'],this['fUnmodifie'+'d']=_0x5c68fc['fshader'];});const _0x1e99b1=_0x5c68fc['shaderLang'+'uage']===it;_0x5c68fc['vshader']=ko['run'](_0x5c68fc['vshader'],_0x5c68fc['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label'],'stripDefines':_0x1e99b1}),_0x5c68fc['shaderLang'+'uage']===Fe&&(_0x5c68fc['attributes']??(_0x5c68fc['attributes']=Jt['collectAtt'+'ributes'](_0x5c68fc['vshader'])));const _0x29b703=_0x3b23b0['isWebGL2']&&(Ae['name']==='osx'||Ae['name']==='ios');if(_0x5c68fc['fshader']=ko['run'](_0x5c68fc['fshader'],_0x5c68fc['fincludes'],{'stripUnusedColorAttachments':_0x29b703,'stripDefines':_0x1e99b1,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']}),!_0x5c68fc['vshader']||!_0x5c68fc['fshader']){w['error']('Shader:\x20Fa'+'iled\x20to\x20cr'+'eate\x20shade'+'r\x20'+this['label']+('.\x20Vertex\x20o'+'r\x20fragment'+'\x20shader\x20so'+'urce\x20is\x20em'+'pty.'),this),this['failed']=!(-0x1b56+-0x68a+0x21e0);return;}}this['impl']=_0x3b23b0['createShad'+'erImpl'](this),w['trace'](Im,'Alloc:\x20'+this['label']+',\x20stack:\x20'+Q['toString'](),{'instance':this});}['init'](){this['ready']=!(-0xc*-0x323+-0x716*-0x1+-0x2cb9*0x1),this['failed']=!(0x1*0x15+0x29c+-0x2b0);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20('+(this['definition']['shaderLang'+'uage']===it?'WGSL':'GLSL')+')\x20'+this['name'];}['destroy'](){w['trace'](Im,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class WT{constructor(){h(this,'storage'),h(this,'gpuBuffer'),h(this,'offset');}}const Be=[];Be[Xs]=function(_0x32d195,_0x22714e,_0x24c292){const _0x3a748d=_0x32d195['storageFlo'+'at32'];_0x3a748d[_0x24c292]=_0x22714e;},Be[ga]=(_0x4c22a9,_0x2a6678,_0x45b02f)=>{const _0x368c2c=_0x4c22a9['storageFlo'+'at32'];_0x368c2c[_0x45b02f]=_0x2a6678[-0x137+0x2cf*-0x2+-0x35*-0x21],_0x368c2c[_0x45b02f+(0x1ec3+0x1c7c+-0x3b3e)]=_0x2a6678[0x1eb+-0x1*-0x1283+-0x146d];},Be[ds]=(_0x5e19bd,_0x3258be,_0x74d974)=>{const _0x33360a=_0x5e19bd['storageFlo'+'at32'];_0x33360a[_0x74d974]=_0x3258be[0x1ef4+-0x1bee+-0x306],_0x33360a[_0x74d974+(0xe11+-0x26f8+0x18e8)]=_0x3258be[0x2*0xc+-0x6ab*0x4+0x1a95],_0x33360a[_0x74d974+(-0x3b*-0x6+-0x14bd+0x135d)]=_0x3258be[0xa0+0x8e3+-0x32b*0x3];},Be[Rn]=(_0x3095cc,_0x1964cf,_0x2ba5b0)=>{const _0x5ef637=_0x3095cc['storageFlo'+'at32'];_0x5ef637[_0x2ba5b0]=_0x1964cf[0x9f*-0x2a+0x231e+-0x908],_0x5ef637[_0x2ba5b0+(-0x1108+-0x1*0x195b+0x2a64*0x1)]=_0x1964cf[0xe7f+0xa0f*-0x1+-0x46f],_0x5ef637[_0x2ba5b0+(-0x1ae1+0xfe*0x8+-0x31*-0x63)]=_0x1964cf[-0x737*-0x2+0xb*0x230+-0x267c],_0x5ef637[_0x2ba5b0+(0x8*0x43+-0x93*0x3+0x4*-0x17)]=_0x1964cf[0x4f7+-0xc9e+-0x1*-0x7aa];},Be[_a]=function(_0x525423,_0x27beae,_0x56685d){const _0xfafc42=_0x525423['storageInt'+'32'];_0xfafc42[_0x56685d]=_0x27beae;},Be[ca]=function(_0x4bf2a3,_0x1bde49,_0x1f41aa){const _0xef15a3=_0x4bf2a3['storageInt'+'32'];_0xef15a3[_0x1f41aa]=_0x1bde49[0x1*-0x26f9+0x1624+0x1*0x10d5],_0xef15a3[_0x1f41aa+(-0x1691+0xd49*-0x2+0x14*0x275)]=_0x1bde49[-0x1*-0x105+-0x9e2+-0x1c6*-0x5];},Be[ha]=function(_0x25c491,_0x195a02,_0x2069cf){const _0x200ccb=_0x25c491['storageInt'+'32'];_0x200ccb[_0x2069cf]=_0x195a02[-0x158f+0x1d83+0x7f4*-0x1],_0x200ccb[_0x2069cf+(0x26ce+-0x162a+0x10a3*-0x1)]=_0x195a02[-0x515+-0x365+0x87b],_0x200ccb[_0x2069cf+(-0x1a6b+-0x45*0x6b+0x189*0x24)]=_0x195a02[-0x1679+-0x1*-0x952+0xd29];},Be[da]=function(_0x35248a,_0x4a5949,_0x3e715d){const _0x25ec6=_0x35248a['storageInt'+'32'];_0x25ec6[_0x3e715d]=_0x4a5949[0x2*0xb3a+-0x2*-0x1b6+-0x19e0],_0x25ec6[_0x3e715d+(-0x1c44+-0x2*0x132b+0x429b)]=_0x4a5949[0x1435+0x606*0x3+-0x2646],_0x25ec6[_0x3e715d+(0x412*0x6+-0x71*-0x56+-0x3e60)]=_0x4a5949[0x2*0x133a+-0x25d3+0x1*-0x9f],_0x25ec6[_0x3e715d+(0x1*-0x2685+0x74a*-0x1+0x2dd2)]=_0x4a5949[0x14d*-0x5+0xd71*0x2+0x365*-0x6];},Be[_h]=(_0x295328,_0x5a3f70,_0x125da2)=>{const _0x5ef2e3=_0x295328['storageFlo'+'at32'];_0x5ef2e3[_0x125da2]=_0x5a3f70[0x1*0xb7+-0x1453*0x1+0x139c],_0x5ef2e3[_0x125da2+(-0xca*0x1+0x315*-0x3+0xa0a)]=_0x5a3f70[-0x2*0xc27+0x102c+0x823],_0x5ef2e3[_0x125da2+(-0x18b0+0x79*-0x1d+0x2669)]=_0x5a3f70[-0x580+0x587*-0x2+0x1090],_0x5ef2e3[_0x125da2+(-0x17e1+-0x1851*-0x1+-0x6b)]=_0x5a3f70[-0x7e3*-0x3+-0x1519+-0x1*0x28d],_0x5ef2e3[_0x125da2+(0x14b3+0x9c+0x1*-0x1547)]=_0x5a3f70[0x3*0x1af+0x395*-0x2+0x221*0x1],_0x5ef2e3[_0x125da2+(0x1149+-0x3*0xa3+0xe7*-0x11)]=_0x5a3f70[-0x5*0x797+0xca4+0x1*0x1954];},Be[On]=(_0x27ba0a,_0x533164,_0x4b0370)=>{const _0x5b9408=_0x27ba0a['storageFlo'+'at32'];_0x5b9408[_0x4b0370]=_0x533164[0x1*0x1fa2+-0x1a2b+-0x577],_0x5b9408[_0x4b0370+(0x828+0x1*0x1d4f+-0x2576)]=_0x533164[0x5*-0x751+-0x1138+-0x8e*-0x61],_0x5b9408[_0x4b0370+(0x1acd+0x2*0x251+0x5*-0x649)]=_0x533164[-0x1aeb+0x1573+0x57a],_0x5b9408[_0x4b0370+(0x2*-0xbf5+0xfc3+-0x7b*-0x11)]=_0x533164[-0x269a+0x1a*-0xe4+0x3dc5],_0x5b9408[_0x4b0370+(0x10d3+0x946*-0x1+0x1e2*-0x4)]=_0x533164[0x2*-0x2ee+-0xb07+-0x1*-0x10e7],_0x5b9408[_0x4b0370+(0xc46*-0x3+-0x14*0x6c+0x2d48)]=_0x533164[-0x76e*0x4+-0x78d*0x3+-0x7*-0x77c],_0x5b9408[_0x4b0370+(0x215+-0x1*-0x2493+-0x26a0)]=_0x533164[-0x9d3+0x133b*-0x2+0x53*0x95],_0x5b9408[_0x4b0370+(-0x183*-0x15+-0xc09+-0x68f*0x3)]=_0x533164[0x1c0+-0x1717+0x155e],_0x5b9408[_0x4b0370+(0xe0b+-0x2*-0x1cb+-0x39*0x4f)]=_0x533164[0x1a5c*0x1+0x99e+0x23f2*-0x1];},Be[ud]=function(_0x515dd8,_0x58180a,_0x28d1ea,_0x4311e9){const _0x22669b=_0x515dd8['storageFlo'+'at32'];for(let _0x5007a4=-0x6b*-0x1+-0x1b7a*0x1+0x1b0f*0x1;_0x5007a4<_0x4311e9;_0x5007a4++)_0x22669b[_0x28d1ea+_0x5007a4*(-0x6d5+0x25fb+-0x1f22)]=_0x58180a[_0x5007a4];},Be[pd]=(_0x478985,_0x58f124,_0x3e7e8f,_0xa4837)=>{const _0x378ff6=_0x478985['storageFlo'+'at32'];for(let _0x20b29f=-0x23e4+0xe*-0x149+0x35e2;_0x20b29f<_0xa4837;_0x20b29f++)_0x378ff6[_0x3e7e8f+_0x20b29f*(0x1*-0x2054+-0x23*-0x79+-0x5*-0x329)]=_0x58f124[_0x20b29f*(-0x3b*0x37+0x1725+-0xa76*0x1)],_0x378ff6[_0x3e7e8f+_0x20b29f*(0x1b*0x153+-0x10fd+-0x12c0)+(-0x7*0x193+-0x179c*0x1+-0x11e*-0x1f)]=_0x58f124[_0x20b29f*(-0x1dee+0x1e3a+-0x4a)+(0x39a+0x548*-0x6+0x95d*0x3)];},Be[md]=(_0x1af3a9,_0x5c357e,_0x530166,_0x56bbdd)=>{const _0x5d0439=_0x1af3a9['storageFlo'+'at32'];for(let _0x44d4b3=0x11e0+-0x1b4a*-0x1+-0xf0e*0x3;_0x44d4b3<_0x56bbdd;_0x44d4b3++)_0x5d0439[_0x530166+_0x44d4b3*(0x1956+-0x1e2e+0x4dc)]=_0x5c357e[_0x44d4b3*(0x2027+-0x206a+0xe*0x5)],_0x5d0439[_0x530166+_0x44d4b3*(0x1f8e+0x2451+-0x43db)+(0x2*-0x35f+-0x18f7+0x1fb6)]=_0x5c357e[_0x44d4b3*(0x1*-0xe29+0xf*0x1d3+-0xd31)+(-0x2d+-0x7ed*0x1+0x81b)],_0x5d0439[_0x530166+_0x44d4b3*(0xf3b+-0xd47+-0x4*0x7c)+(-0x44f*-0x2+-0x82f+-0x6d)]=_0x5c357e[_0x44d4b3*(0x1f7*0xa+-0x1aa8+-0x1*-0x705)+(-0x2245+0x1d2a+-0x77*-0xb)];},Be[Fn]=(_0x2b8b07,_0x15b608,_0x282657,_0x428f3c)=>{const _0x1b43c5=_0x2b8b07['storageUin'+'t32'];_0x1b43c5[_0x282657]=_0x15b608;},Be[Nn]=(_0x536318,_0x5d4bb0,_0x4b10e0,_0x2de0f6)=>{const _0xfdf67e=_0x536318['storageUin'+'t32'];_0xfdf67e[_0x4b10e0]=_0x5d4bb0[-0xb*-0x23b+-0x1a61+-0x8*-0x3b],_0xfdf67e[_0x4b10e0+(-0x17f8+-0x2d*-0x9c+-0x373)]=_0x5d4bb0[-0x2*0x11b5+-0x10fc+-0x1*-0x3467];},Be[kn]=(_0x57d312,_0x34f5a8,_0x1b81c3,_0x503893)=>{const _0x295996=_0x57d312['storageUin'+'t32'];_0x295996[_0x1b81c3]=_0x34f5a8[-0x3c4+-0xe*0x157+0x3*0x782],_0x295996[_0x1b81c3+(0x3e5*-0x1+0x39+0x3ad)]=_0x34f5a8[-0x11af+-0x36*0x3+0x1252],_0x295996[_0x1b81c3+(-0x7*-0x1af+0xac*0x12+-0x7*0x369)]=_0x34f5a8[-0x323*-0xb+0x227c+-0x44fb*0x1];},Be[Un]=(_0x2286ff,_0xb29e58,_0xee2919,_0x47b353)=>{const _0xcc2ad5=_0x2286ff['storageUin'+'t32'];_0xcc2ad5[_0xee2919]=_0xb29e58[0x2367+-0x1a8a+0x8dd*-0x1],_0xcc2ad5[_0xee2919+(-0x2d9+0x23b0+-0x20d6)]=_0xb29e58[-0xa33*0x2+-0x5c3+0x1a2a],_0xcc2ad5[_0xee2919+(0x59*0x11+-0x1*0x1a65+0x2b*0x7a)]=_0xb29e58[0x649+0xce3*0x3+-0x2cf0],_0xcc2ad5[_0xee2919+(-0x1d0c+0x2*0xd03+0x309)]=_0xb29e58[-0x12b7*-0x2+-0x12d8+0x631*-0x3];},Be[Bn]=function(_0x3fcb31,_0x21406d,_0x1fff09,_0x1ebe58){const _0x2f25a6=_0x3fcb31['storageInt'+'32'];for(let _0x46385a=-0x1082+-0x1323+0x23a5;_0x46385a<_0x1ebe58;_0x46385a++)_0x2f25a6[_0x1fff09+_0x46385a*(0xe1b+-0x1*-0x49+-0xe60)]=_0x21406d[_0x46385a];},Be[gd]=Be[Bn],Be[_d]=function(_0x423063,_0x1ec3f4,_0x178a47,_0x521d69){const _0x5c4526=_0x423063['storageUin'+'t32'];for(let _0x50b93=0x13d4+0x2148+0xce*-0x42;_0x50b93<_0x521d69;_0x50b93++)_0x5c4526[_0x178a47+_0x50b93*(-0x1c5*0x6+0x13b*0x11+-0xa49)]=_0x1ec3f4[_0x50b93];},Be[zn]=(_0x4faebe,_0x76cac3,_0x34c36e,_0x1615cc)=>{const _0x27dddc=_0x4faebe['storageInt'+'32'];for(let _0x977c48=0x5e*0x1b+-0x99*0x1+-0x951;_0x977c48<_0x1615cc;_0x977c48++)_0x27dddc[_0x34c36e+_0x977c48*(0xd*0x211+0x1ff0+-0x95*0x65)]=_0x76cac3[_0x977c48*(0x265*-0x5+0x1435+-0x51*0x1a)],_0x27dddc[_0x34c36e+_0x977c48*(0x27b+-0x9*-0x3eb+0x1*-0x25ba)+(0x1041+0x121d+-0x225d*0x1)]=_0x76cac3[_0x977c48*(0x1*0x1709+-0x61a+0x7*-0x26b)+(0xa76+-0x1*-0x542+-0xfb7)];},Be[yd]=Be[zn],Be[Sd]=(_0x30d544,_0x360760,_0x3ae285,_0x48c7a9)=>{const _0x2546c5=_0x30d544['storageUin'+'t32'];for(let _0x4cfe38=-0xa8b+0x65*-0x2f+-0x22*-0xdb;_0x4cfe38<_0x48c7a9;_0x4cfe38++)_0x2546c5[_0x3ae285+_0x4cfe38*(-0x10df*-0x1+0x235b+-0x3436)]=_0x360760[_0x4cfe38*(0x5b8*-0x6+0x11b+-0x1*-0x2137)],_0x2546c5[_0x3ae285+_0x4cfe38*(0x1*0xaae+0x1bda+0x44*-0x91)+(0x1d47+-0x664+-0x16e2)]=_0x360760[_0x4cfe38*(0x1*-0x18ff+0xaca*-0x1+0x23cb)+(0x56*-0x53+-0x11*-0xca+0xe79)];},Be[Vn]=(_0x3204ae,_0x2f66b9,_0x253e97,_0x22f2a2)=>{const _0x34898f=_0x3204ae['storageInt'+'32'];for(let _0x223f01=-0x430+0x12*-0x196+0x20bc;_0x223f01<_0x22f2a2;_0x223f01++)_0x34898f[_0x253e97+_0x223f01*(-0xc*0x2cf+0x18fc+0x8bc)]=_0x2f66b9[_0x223f01*(0x3*0x6bb+0x4a2*0x1+0x4*-0x634)],_0x34898f[_0x253e97+_0x223f01*(0x24c3*0x1+-0x156c+-0xf53)+(0x221+-0xef6+0x6a*0x1f)]=_0x2f66b9[_0x223f01*(0x186a+-0x1*0x2161+0x8fa)+(0x2173+-0x8ab*-0x3+-0x3b73)],_0x34898f[_0x253e97+_0x223f01*(-0x1c01+-0x1d6b+0x3970)+(0xd22+-0x57b*-0x2+0xc0b*-0x2)]=_0x2f66b9[_0x223f01*(0xa0e+0x23c8+-0x2dd3)+(0x53*-0x24+-0x1dcc+0x297a*0x1)];},Be[xd]=Be[Vn],Be[vd]=(_0x3f3fff,_0x58f8cb,_0x107c92,_0x56e12f)=>{const _0x5f7a64=_0x3f3fff['storageUin'+'t32'];for(let _0x21e3c5=-0xed5+0x23d+-0xf8*-0xd;_0x21e3c5<_0x56e12f;_0x21e3c5++)_0x5f7a64[_0x107c92+_0x21e3c5*(0xf9a+0x1f26+0x7ca*-0x6)]=_0x58f8cb[_0x21e3c5*(-0xa*-0x94+-0x6f*-0xb+-0x47*0x26)],_0x5f7a64[_0x107c92+_0x21e3c5*(0x2365+-0x69*0x47+-0x642)+(0x10ae+-0x1*-0x1763+-0x2810)]=_0x58f8cb[_0x21e3c5*(0x476+0x4*0x51e+-0x18eb)+(-0x158e*-0x1+0x1*-0x155e+-0x2f)],_0x5f7a64[_0x107c92+_0x21e3c5*(0x26ad+0x1*0x1759+-0x3e02)+(-0x168f+-0x972+-0x95*-0x37)]=_0x58f8cb[_0x21e3c5*(-0x81*-0x3b+-0x19d*-0x1+-0x1*0x1f55)+(-0x557*-0x1+0x2531+-0x2a86)];};class zp{constructor(_0x4e2af4,_0x3ff5c3,_0xa11caf=!(-0x764+0x19b*-0x1+-0x1*-0x8ff)){h(this,'device'),h(this,'persistent'),h(this,'allocation'),h(this,'storageFlo'+'at32'),h(this,'storageInt'+'32'),h(this,'storageUin'+'t32'),h(this,'renderVers'+'ionDirty',-0x1672+0x1532*-0x1+-0x85*-0x54);if(this['device']=_0x4e2af4,this['format']=_0x3ff5c3,this['persistent']=_0xa11caf,w['assert'](_0x3ff5c3),_0xa11caf){this['impl']=_0x4e2af4['createUnif'+'ormBufferI'+'mpl'](this);const _0x182dda=new ArrayBuffer(_0x3ff5c3['byteSize']);this['assignStor'+'age'](new Int32Array(_0x182dda)),_0x4e2af4['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new WT();}['destroy'](){if(this['persistent']){const _0x4c16c1=this['device'];this['impl']['destroy'](_0x4c16c1),_0x4c16c1['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?-0x1fab+0x13a*-0x2+0x221f*0x1:this['allocation']['offset'];}['assignStor'+'age'](_0x4c94b2){this['storageInt'+'32']=_0x4c94b2,this['storageUin'+'t32']=new Uint32Array(_0x4c94b2['buffer'],_0x4c94b2['byteOffset'],_0x4c94b2['byteLength']/(-0x1*-0x104b+-0x21c2+0x117b)),this['storageFlo'+'at32']=new Float32Array(_0x4c94b2['buffer'],_0x4c94b2['byteOffset'],_0x4c94b2['byteLength']/(-0x57*-0x2+-0x1*0xb5f+0xab5));}['loseContex'+'t'](){var _0xf79f0e;(_0xf79f0e=this['impl'])==null||_0xf79f0e['loseContex'+'t']();}['setUniform'](_0x177391,_0x89fcb3){w['assert'](_0x177391);const _0x4c9719=_0x177391['offset'];if(_0x89fcb3!=null){const _0x394a32=Be[_0x177391['updateType']];_0x394a32?_0x394a32(this,_0x89fcb3,_0x4c9719,_0x177391['count']):this['storageFlo'+'at32']['set'](_0x89fcb3,_0x4c9719);}else w['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0x177391['name']+('],\x20expecte'+'d\x20type\x20')+Ey[_0x177391['type']]+('\x20while\x20ren'+'dering\x20')+Q['toString']());}['set'](_0x50806b,_0x1f4d2d){const _0xbf3142=this['format']['map']['get'](_0x50806b);w['assert'](_0xbf3142,'Uniform\x20na'+'me\x20['+_0x50806b+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0xbf3142&&this['setUniform'](_0xbf3142,_0x1f4d2d);}['startUpdat'+'e'](_0x5333db){if(!this['persistent']){const _0x293a81=this['allocation'],_0x47bfa2=_0x293a81['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x293a81,this['format']['byteSize']),this['assignStor'+'age'](_0x293a81['storage']),_0x5333db&&(_0x5333db['bindGroup']=_0x293a81['gpuBuffer']['getBindGro'+'up'](this),_0x5333db['offsets'][0x1984+-0x2035+-0x3*-0x23b]=_0x293a81['offset']),_0x47bfa2!==_0x293a81['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x34dfae){this['startUpdat'+'e'](_0x34dfae);const _0x3df6d1=this['format']['uniforms'];for(let _0x125851=0x2099+0x15*-0x14d+-0x548;_0x125851<_0x3df6d1['length'];_0x125851++){const _0x3751a3=_0x3df6d1[_0x125851]['scopeId']['value'];this['setUniform'](_0x3df6d1[_0x125851],_0x3751a3);}this['endUpdate']();}}class $T{constructor(){h(this,'frameAlloc'+'ations',[]),h(this,'pastFrameA'+'llocations',new Map()),h(this,'_enabled',!(0x2fc*-0xb+0x1c*-0x56+-0x3d7*-0xb)),h(this,'_enableReq'+'uest',!(0xaf0*-0x1+-0x5d5+-0xe2*-0x13)),h(this,'_frameTime',0x250e+0x132f+-0x383d);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x17cd2a){this['_enableReq'+'uest']=_0x17cd2a;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=0x33*-0x91+-0x4*0x1cb+0x240f));}['request'](_0x9d86a3){this['pastFrameA'+'llocations']['set'](_0x9d86a3,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x1abb49,_0x5ee74d){if(_0x5ee74d){const _0x5c0b69=this['pastFrameA'+'llocations']['get'](_0x1abb49);if(w['assert'](_0x5c0b69['length']===_0x5ee74d['length']),_0x5ee74d['length']>0xef+0xec8+0x1*-0xfb7&&(this['_frameTime']=_0x5ee74d['reduce']((_0x563cce,_0x52b168)=>_0x563cce+_0x52b168,0x106*0xf+0xa*0x107+-0xa0*0x29)),mi['get'](Gl)){w['trace'](Gl,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x1abb49+'\x20--');let _0x4b3b9f=0x15d*-0x1+-0x1*0xf7b+0x10d8;for(let _0xa86641=0x3fe*0x7+-0x24d1+0x8df*0x1;_0xa86641<_0x5c0b69['length'];++_0xa86641){const _0xb5ca2=_0x5c0b69[_0xa86641];_0x4b3b9f+=_0x5ee74d[_0xa86641],w['trace'](Gl,_0x5ee74d[_0xa86641]['toFixed'](-0x1*-0x643+-0xe12+-0x45*-0x1d)+'\x20ms\x20'+_0xb5ca2);}w['trace'](Gl,_0x4b3b9f['toFixed'](0xb5a*0x1+0x214d+0x1*-0x2ca5)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x1abb49);}['getSlot'](_0x45f079){const _0x4c1e58=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x45f079),_0x4c1e58;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class jy{constructor(){h(this,'bufferId',null);}['destroy'](_0x1f281b){this['bufferId']&&(_0x1f281b['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x562978,_0x363f9d,_0x4be59f,_0x3b3d2c){const _0x4f6f34=_0x562978['gl'];if(this['bufferId'])_0x4f6f34['bindBuffer'](_0x4be59f,this['bufferId']),_0x4f6f34['bufferSubD'+'ata'](_0x4be59f,0x20ef*0x1+-0x1c3a+0x1*-0x4b5,_0x3b3d2c);else{let _0xdd083c;switch(_0x363f9d){case ms:_0xdd083c=_0x4f6f34['STATIC_DRA'+'W'];break;case lh:_0xdd083c=_0x4f6f34['DYNAMIC_DR'+'AW'];break;case ey:_0xdd083c=_0x4f6f34['STREAM_DRA'+'W'];break;case bx:_0xdd083c=_0x4f6f34['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x4f6f34['createBuff'+'er'](),_0x4f6f34['bindBuffer'](_0x4be59f,this['bufferId']),_0x4f6f34['bufferData'](_0x4be59f,_0x3b3d2c,_0xdd083c);}}}class XT extends jy{constructor(){super(...arguments),h(this,'vao',null);}['destroy'](_0x108f9d){super['destroy'](_0x108f9d),_0x108f9d['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x2df295){const _0x26fd96=_0x2df295['device'];super['unlock'](_0x26fd96,_0x2df295['usage'],_0x26fd96['gl']['ARRAY_BUFF'+'ER'],_0x2df295['storage']);}}class qT extends jy{constructor(_0x43568e){super();const _0x1684fd=_0x43568e['device']['gl'],_0x2ab4d8=_0x43568e['format'];_0x2ab4d8===$f?this['glFormat']=_0x1684fd['UNSIGNED_B'+'YTE']:_0x2ab4d8===Yi?this['glFormat']=_0x1684fd['UNSIGNED_S'+'HORT']:_0x2ab4d8===wr&&(this['glFormat']=_0x1684fd['UNSIGNED_I'+'NT']);}['unlock'](_0x2b7486){const _0x26fe28=_0x2b7486['device'];super['unlock'](_0x26fe28,_0x2b7486['usage'],_0x26fe28['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x2b7486['storage']);}}class jT{constructor(_0x327c40,_0x57d632,_0x2bc711,_0x480765){if(this['locationId']=_0x480765,this['scopeId']=_0x327c40['scope']['resolve'](_0x57d632),this['version']=new Uy(),_0x57d632['substring'](_0x57d632['length']-(-0x3b*0x65+0x1ca0*0x1+-0x2*0x2ab))==='[0]')switch(_0x2bc711){case Xs:_0x2bc711=ud;break;case _a:_0x2bc711=Bn;break;case Fn:_0x2bc711=_d;break;case Tn:_0x2bc711=gd;break;case ga:_0x2bc711=pd;break;case ca:_0x2bc711=zn;break;case Nn:_0x2bc711=Sd;break;case tl:_0x2bc711=yd;break;case ds:_0x2bc711=md;break;case ha:_0x2bc711=Vn;break;case kn:_0x2bc711=vd;break;case sl:_0x2bc711=xd;break;case Rn:_0x2bc711=Lp;break;case da:_0x2bc711=gh;break;case Un:_0x2bc711=Rp;break;case il:_0x2bc711=Op;break;}this['dataType']=_0x2bc711,this['value']=[null,null,null,null],this['array']=[];}}let l_=-0x908+0x12*-0x195+0x12c1*0x2;const YT=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class KT{constructor(){h(this,'map',new Map());}['destroy'](_0x5016c0){this['map']['forEach'](_0xdbe523=>{_0x5016c0['gl']['deleteShad'+'er'](_0xdbe523);});}['loseContex'+'t'](_0x2ddfee){this['map']['clear']();}}const ZT=new Kt(),QT=new Kt();class JT{constructor(_0x29eed8){h(this,'compileDur'+'ation',-0x1ed1+0xb07+0x13ca),(this['init'](),this['compile'](_0x29eed8['device'],_0x29eed8),this['link'](_0x29eed8['device'],_0x29eed8),_0x29eed8['device']['shaders']['push'](_0x29eed8));}['destroy'](_0x53510c){this['glProgram']&&(_0x53510c['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x313bea,_0x275cbf){this['compile'](_0x313bea,_0x275cbf),this['link'](_0x313bea,_0x275cbf);}['compile'](_0x54c341,_0x3919c3){const _0x3b1383=_0x3919c3['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x54c341,_0x3b1383['vshader'],!(-0xb8d+-0x77e*-0x5+-0x19e9)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x54c341,_0x3b1383['fshader'],!(0x1ad*0xa+0xe7*-0x20+0x1*0xc1f));}['link'](_0x200563,_0x328fc0){if(this['glProgram'])return;const _0x58d41e=_0x200563['gl'];if(_0x58d41e['isContextL'+'ost']())return;let _0x3503cb=-0x198f+-0x212*0x7+0x280d;w['call'](()=>{this['compileDur'+'ation']=0x333+-0x19dd+0x16aa,_0x3503cb=de();});const _0x273585=_0x58d41e['createProg'+'ram']();this['glProgram']=_0x273585,_0x58d41e['attachShad'+'er'](_0x273585,this['glVertexSh'+'ader']),_0x58d41e['attachShad'+'er'](_0x273585,this['glFragment'+'Shader']);const _0x31295b=_0x328fc0['definition'],_0x1d9f38=_0x31295b['attributes'];if(_0x31295b['useTransfo'+'rmFeedback']){const _0x1b32a3=[];for(const _0x5713b2 in _0x1d9f38)_0x1d9f38['hasOwnProp'+'erty'](_0x5713b2)&&_0x1b32a3['push']('out_'+_0x5713b2);_0x58d41e['transformF'+'eedbackVar'+'yings'](_0x273585,_0x1b32a3,_0x58d41e['INTERLEAVE'+'D_ATTRIBS']);}const _0x4c8542={};for(const _0x4b0074 in _0x1d9f38)if(_0x1d9f38['hasOwnProp'+'erty'](_0x4b0074)){const _0x55f31c=_0x1d9f38[_0x4b0074],_0x5ef3ed=Le[_0x55f31c];w['assert'](!_0x4c8542['hasOwnProp'+'erty'](_0x5ef3ed),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0x4c8542[_0x5ef3ed]+'\x20and\x20'+_0x4b0074),_0x4c8542[_0x5ef3ed]=_0x4b0074,_0x58d41e['bindAttrib'+'Location'](_0x273585,_0x5ef3ed,_0x4b0074);}_0x58d41e['linkProgra'+'m'](_0x273585),w['call'](()=>{this['compileDur'+'ation']=de()-_0x3503cb;}),_0x200563['_shaderSta'+'ts']['linked']++,_0x31295b['tag']===Sy&&_0x200563['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x3a791b,_0xaf5295,_0x37d2db){const _0x3504e2=_0x3a791b['gl'];if(_0x3504e2['isContextL'+'ost']())return null;const _0x25f208=(_0x37d2db?ZT:QT)['get'](_0x3a791b,()=>new KT());let _0x4d29a2=_0x25f208['map']['get'](_0xaf5295);if(!_0x4d29a2){const _0x1184f2=de();_0x3a791b['fire']('shader:com'+'pile:start',{'timestamp':_0x1184f2,'target':_0x3a791b}),_0x4d29a2=_0x3504e2['createShad'+'er'](_0x37d2db?_0x3504e2['VERTEX_SHA'+'DER']:_0x3504e2['FRAGMENT_S'+'HADER']),_0x3504e2['shaderSour'+'ce'](_0x4d29a2,_0xaf5295),_0x3504e2['compileSha'+'der'](_0x4d29a2),_0x25f208['map']['set'](_0xaf5295,_0x4d29a2);const _0x21b675=de();_0x3a791b['fire']('shader:com'+'pile:end',{'timestamp':_0x21b675,'target':_0x3a791b}),_0x3a791b['_shaderSta'+'ts']['compileTim'+'e']+=_0x21b675-_0x1184f2,_0x37d2db?_0x3a791b['_shaderSta'+'ts']['vsCompiled']++:_0x3a791b['_shaderSta'+'ts']['fsCompiled']++;}return _0x4d29a2;}['finalize'](_0x2e22f1,_0x34848d){var _0x58cf25,_0xe307ae;const _0x401e49=_0x2e22f1['gl'];if(_0x401e49['isContextL'+'ost']())return!(0x1f0d*-0x1+0x9*0x15b+0x26*0x7f);const _0x5ca8ab=this['glProgram'],_0x17de74=_0x34848d['definition'],_0x4d946b=de();_0x2e22f1['fire']('shader:lin'+'k:start',{'timestamp':_0x4d946b,'target':_0x2e22f1});let _0x1a08e1=0x9*0x2cd+0x1e5+0x2*-0xd8d;if(w['call'](()=>{_0x1a08e1=de();}),!_0x401e49['getProgram'+'Parameter'](_0x5ca8ab,_0x401e49['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x2e22f1,_0x34848d,this['glVertexSh'+'ader'],_0x17de74['vshader'],'vertex')||!this['_isCompile'+'d'](_0x2e22f1,_0x34848d,this['glFragment'+'Shader'],_0x17de74['fshader'],'fragment'))return!(-0xd77*0x1+0x14c9+0x751*-0x1);const _0x2ce809='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0x401e49['getProgram'+'InfoLog'](_0x5ca8ab);return _0x17de74['translated'+'Frag']=(_0x58cf25=_0x401e49['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0x1*-0x50b+-0x2*0x32e+0x151):_0x58cf25['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x17de74['translated'+'Vert']=(_0xe307ae=_0x401e49['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0x1261*0x1+-0x1f33+0xcd2):_0xe307ae['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x2ce809,_0x17de74),console['error'](_0x2ce809),!(-0x1c99*-0x1+0xf9b+0x1*-0x2c33);}const _0x5f0eaa=_0x401e49['getProgram'+'Parameter'](_0x5ca8ab,_0x401e49['ACTIVE_ATT'+'RIBUTES']);_0x34848d['attributes']['clear']();for(let _0x414768=-0xf93*-0x1+-0x10f7+-0x4*-0x59;_0x414768<_0x5f0eaa;_0x414768++){const _0x1bac45=_0x401e49['getActiveA'+'ttrib'](_0x5ca8ab,_0x414768),_0x1f5059=_0x401e49['getAttribL'+'ocation'](_0x5ca8ab,_0x1bac45['name']);YT['has'](_0x1bac45['name'])||(_0x17de74['attributes'][_0x1bac45['name']]===void(-0x1459+-0x4*0x728+0x30f9)?(console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0x1bac45['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0x34848d['label']+']',_0x34848d),_0x34848d['failed']=!(-0x4db*-0x1+-0x25db+0x2100)):_0x34848d['attributes']['set'](_0x1f5059,_0x1bac45['name']));}const _0x2a33b6=_0x2e22f1['_samplerTy'+'pes'],_0x2a9f14=_0x401e49['getProgram'+'Parameter'](_0x5ca8ab,_0x401e49['ACTIVE_UNI'+'FORMS']);for(let _0x15e396=0x265c+-0x5e9*-0x4+-0x1f*0x200;_0x15e396<_0x2a9f14;_0x15e396++){const _0x3d0623=_0x401e49['getActiveU'+'niform'](_0x5ca8ab,_0x15e396),_0x4c0ff2=_0x401e49['getUniform'+'Location'](_0x5ca8ab,_0x3d0623['name']),_0x13586d=new jT(_0x2e22f1,_0x3d0623['name'],_0x2e22f1['pcUniformT'+'ype'][_0x3d0623['type']],_0x4c0ff2);_0x2a33b6['has'](_0x3d0623['type'])?this['samplers']['push'](_0x13586d):this['uniforms']['push'](_0x13586d);}_0x34848d['ready']=!(-0x55e+-0x1*0x8d4+-0x719*-0x2);const _0x3d0557=de();return _0x2e22f1['fire']('shader:lin'+'k:end',{'timestamp':_0x3d0557,'target':_0x2e22f1}),_0x2e22f1['_shaderSta'+'ts']['compileTim'+'e']+=_0x3d0557-_0x4d946b,w['call'](()=>{const _0x54a056=de()-_0x1a08e1;this['compileDur'+'ation']+=_0x54a056,l_+=this['compileDur'+'ation'],w['trace']($0,'[id:\x20'+_0x34848d['id']+']\x20'+_0x34848d['name']+':\x20'+this['compileDur'+'ation']['toFixed'](0x1*-0x142c+0x1ee*-0x5+0x1dd3)+('ms,\x20TOTAL:'+'\x20')+l_['toFixed'](0x4f*-0x2+0x32*-0xad+0x17*0x17f)+'ms');}),!(-0xe*-0x1fc+-0x2*0xe5e+-0x2*-0x7a);}['_isCompile'+'d'](_0x2dccf7,_0x50b2bf,_0x4a8f85,_0x56ba7a,_0x4f41a0){const _0x23f884=_0x2dccf7['gl'];if(!_0x23f884['getShaderP'+'arameter'](_0x4a8f85,_0x23f884['COMPILE_ST'+'ATUS'])){const _0x547b5c=_0x23f884['getShaderI'+'nfoLog'](_0x4a8f85),[_0x2318ee,_0x259678]=this['_processEr'+'ror'](_0x56ba7a,_0x547b5c),_0x2a2ebd='Failed\x20to\x20'+'compile\x20'+_0x4f41a0+'\x20shader:\x0a\x0a'+_0x547b5c+'\x0a'+_0x2318ee+('\x20while\x20ren'+'dering\x20')+Q['toString']();return _0x259678['shader']=_0x50b2bf,console['error'](_0x2a2ebd,_0x259678),console['error'](_0x2a2ebd),!(-0x13*0x1f3+0x228c+-0x2*-0x13f);}return!(-0x9aa+0xfe3+0xb1*-0x9);}['isLinked'](_0x30828d){const {extParallelShaderCompile:_0x4b22c4}=_0x30828d;return _0x4b22c4?_0x30828d['gl']['getProgram'+'Parameter'](this['glProgram'],_0x4b22c4['COMPLETION'+'_STATUS_KH'+'R']):!(-0x25*-0x25+0x37*0x99+-0x2638);}['_processEr'+'ror'](_0x27087d,_0x1a0ba4){const _0x44f880={};let _0xcdb3c6='';if(_0x27087d){const _0x1702fe=_0x27087d['split']('\x0a');let _0x3a5608=0x439*-0x7+-0x42*0x97+0x447d*0x1,_0x4834c3=_0x1702fe['length'];if(_0x1a0ba4&&_0x1a0ba4['startsWith']('ERROR:')){const _0x322f7c=_0x1a0ba4['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0x322f7c&&(_0x44f880['message']=_0x322f7c[0x712*-0x3+-0x1697+0x2bd0],_0x44f880['line']=parseInt(_0x322f7c[0xc46*-0x2+-0x70d+0x1f9b],0x717+-0x433+-0x92*0x5),_0x3a5608=Math['max'](0x33f+-0xae4+0x7a5*0x1,_0x44f880['line']-(-0x7*-0xb2+0x1723*0x1+-0xd*0x227)),_0x4834c3=Math['min'](_0x1702fe['length'],_0x44f880['line']+(0x25*-0x6+-0x3*-0x9b3+-0x1c36)));}for(let _0x62f090=_0x3a5608;_0x62f090<_0x4834c3;_0x62f090++){const _0x530acc=_0x62f090+(-0x5*-0x7cb+0x868*0x3+0x136*-0x35)===_0x44f880['line']?'>\x20':'\x20\x20';_0xcdb3c6+=''+_0x530acc+(_0x62f090+(0x3*-0x35b+-0x2080+-0x2a92*-0x1))+':\x09'+_0x1702fe[_0x62f090]+'\x0a';}_0x44f880['source']=_0x27087d;}return[_0xcdb3c6,_0x44f880];}}function c_(_0x3022ac,_0x2e3c59){const _0x19d394=_0x3022ac['width'],_0x4f0964=_0x3022ac['height'];if(_0x19d394>_0x2e3c59||_0x4f0964>_0x2e3c59){const _0x3e1709=_0x2e3c59/Math['max'](_0x19d394,_0x4f0964),_0x17a490=Math['floor'](_0x19d394*_0x3e1709),_0x15a6bf=Math['floor'](_0x4f0964*_0x3e1709);w['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x2e3c59+('.\x20Resizing'+'\x20from\x20')+_0x19d394+',\x20'+_0x4f0964+'\x20to\x20'+_0x17a490+',\x20'+_0x15a6bf+'.');const _0x242351=document['createElem'+'ent']('canvas');return _0x242351['width']=_0x17a490,_0x242351['height']=_0x15a6bf,_0x242351['getContext']('2d')['drawImage'](_0x3022ac,-0x9f*-0x32+-0x25b7+0x6a9,0x1*0x17ea+-0xf9*0x4+-0x2*0xa03,_0x19d394,_0x4f0964,-0x1901+-0x1178+0x2a79,0x241a*-0x1+-0x156*0x13+0x3d7c,_0x17a490,_0x15a6bf),_0x242351;}return _0x3022ac;}class ew{constructor(_0x1d1655){h(this,'_glTexture',null),h(this,'_glTarget'),h(this,'_glFormat'),h(this,'_glInterna'+'lFormat'),h(this,'_glPixelTy'+'pe'),h(this,'_glCreated'),h(this,'dirtyParam'+'eterFlags',-0xd*-0x2cd+-0xce3*0x1+-0x1786),this['texture']=_0x1d1655;}['destroy'](_0xceb6ed){if(this['_glTexture']){for(let _0x37b45a=0x3*-0xa7e+0x9b*0x21+0xb7f*0x1;_0x37b45a<_0xceb6ed['textureUni'+'ts']['length'];_0x37b45a++){const _0x2e9700=_0xceb6ed['textureUni'+'ts'][_0x37b45a];for(let _0x2fe63b=0x6a9*-0x5+-0x2527*0x1+-0xbbe*-0x6;_0x2fe63b<_0x2e9700['length'];_0x2fe63b++)_0x2e9700[_0x2fe63b]===this['_glTexture']&&(_0x2e9700[_0x2fe63b]=null);}_0xceb6ed['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x5b6980){this['dirtyParam'+'eterFlags']|=_0x5b6980;}['initialize'](_0x455914,_0x1b83cd){const _0x3a7424=_0x455914['gl'];switch(this['_glTexture']=_0x3a7424['createText'+'ure'](),this['_glTarget']=_0x1b83cd['_cubemap']?_0x3a7424['TEXTURE_CU'+'BE_MAP']:_0x1b83cd['_volume']?_0x3a7424['TEXTURE_3D']:_0x1b83cd['array']?_0x3a7424['TEXTURE_2D'+'_ARRAY']:_0x3a7424['TEXTURE_2D'],_0x1b83cd['_format']){case ty:this['_glFormat']=_0x3a7424['ALPHA'],this['_glInterna'+'lFormat']=_0x3a7424['ALPHA'],this['_glPixelTy'+'pe']=_0x3a7424['UNSIGNED_B'+'YTE'];break;case sy:this['_glFormat']=_0x3a7424['LUMINANCE'],this['_glInterna'+'lFormat']=_0x3a7424['LUMINANCE'],this['_glPixelTy'+'pe']=_0x3a7424['UNSIGNED_B'+'YTE'];break;case ap:this['_glFormat']=_0x3a7424['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x3a7424['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x3a7424['UNSIGNED_B'+'YTE'];break;case Ep:this['_glFormat']=_0x3a7424['RED'],this['_glInterna'+'lFormat']=_0x3a7424['R8'],this['_glPixelTy'+'pe']=_0x3a7424['UNSIGNED_B'+'YTE'];break;case bp:this['_glFormat']=_0x3a7424['RG'],this['_glInterna'+'lFormat']=_0x3a7424['RG8'],this['_glPixelTy'+'pe']=_0x3a7424['UNSIGNED_B'+'YTE'];break;case Jh:this['_glFormat']=_0x3a7424['RGB'],this['_glInterna'+'lFormat']=_0x3a7424['RGB565'],this['_glPixelTy'+'pe']=_0x3a7424['UNSIGNED_S'+'HORT_5_6_5'];break;case np:this['_glFormat']=_0x3a7424['RGBA'],this['_glInterna'+'lFormat']=_0x3a7424['RGB5_A1'],this['_glPixelTy'+'pe']=_0x3a7424['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case ed:this['_glFormat']=_0x3a7424['RGBA'],this['_glInterna'+'lFormat']=_0x3a7424['RGBA4'],this['_glPixelTy'+'pe']=_0x3a7424['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case Cr:this['_glFormat']=_0x3a7424['RGB'],this['_glInterna'+'lFormat']=_0x3a7424['RGB8'],this['_glPixelTy'+'pe']=_0x3a7424['UNSIGNED_B'+'YTE'];break;case Ne:this['_glFormat']=_0x3a7424['RGBA'],this['_glInterna'+'lFormat']=_0x3a7424['RGBA8'],this['_glPixelTy'+'pe']=_0x3a7424['UNSIGNED_B'+'YTE'];break;case ny:case hy:w['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case td:this['_glFormat']=_0x3a7424['RGB'],this['_glInterna'+'lFormat']=_0x455914['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case op:this['_glFormat']=_0x3a7424['RGBA'],this['_glInterna'+'lFormat']=_0x455914['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case vl:this['_glFormat']=_0x3a7424['RGBA'],this['_glInterna'+'lFormat']=_0x455914['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case id:this['_glFormat']=_0x3a7424['RGB'],this['_glInterna'+'lFormat']=_0x455914['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case xl:this['_glFormat']=_0x3a7424['RGB'],this['_glInterna'+'lFormat']=_0x455914['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Tl:this['_glFormat']=_0x3a7424['RGBA'],this['_glInterna'+'lFormat']=_0x455914['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case rd:this['_glFormat']=_0x3a7424['RGB'],this['_glInterna'+'lFormat']=_0x455914['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case ad:this['_glFormat']=_0x3a7424['RGBA'],this['_glInterna'+'lFormat']=_0x455914['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case cp:this['_glFormat']=_0x3a7424['RGB'],this['_glInterna'+'lFormat']=_0x455914['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case hp:this['_glFormat']=_0x3a7424['RGBA'],this['_glInterna'+'lFormat']=_0x455914['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case iy:this['_glFormat']=_0x3a7424['RGBA'],this['_glInterna'+'lFormat']=_0x455914['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case ry:this['_glFormat']=_0x3a7424['RGB'],this['_glInterna'+'lFormat']=_0x455914['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case ay:this['_glFormat']=_0x3a7424['RGBA'],this['_glInterna'+'lFormat']=_0x455914['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case dy:this['_glFormat']=_0x3a7424['RGB'],this['_glInterna'+'lFormat']=_0x455914['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case fy:this['_glFormat']=_0x3a7424['RGB'],this['_glInterna'+'lFormat']=_0x455914['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case uy:this['_glFormat']=_0x3a7424['RGBA'],this['_glInterna'+'lFormat']=_0x455914['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case Xf:this['_glFormat']=_0x3a7424['SRGB'],this['_glInterna'+'lFormat']=_0x455914['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case qf:this['_glFormat']=_0x3a7424['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x455914['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case jf:this['_glFormat']=_0x3a7424['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x455914['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case Yf:this['_glFormat']=_0x3a7424['SRGB'],this['_glInterna'+'lFormat']=_0x455914['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case Kf:this['_glFormat']=_0x3a7424['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x455914['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Zf:this['_glFormat']=_0x3a7424['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x455914['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case Qf:this['_glFormat']=_0x3a7424['RGBA'],this['_glInterna'+'lFormat']=_0x455914['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case od:this['_glFormat']=_0x3a7424['RED'],this['_glInterna'+'lFormat']=_0x3a7424['R16F'],this['_glPixelTy'+'pe']=_0x3a7424['HALF_FLOAT'];break;case wp:this['_glFormat']=_0x3a7424['RG'],this['_glInterna'+'lFormat']=_0x3a7424['RG16F'],this['_glPixelTy'+'pe']=_0x3a7424['HALF_FLOAT'];break;case ui:this['_glFormat']=_0x3a7424['RGB'],this['_glInterna'+'lFormat']=_0x3a7424['RGB16F'],this['_glPixelTy'+'pe']=_0x3a7424['HALF_FLOAT'];break;case nt:this['_glFormat']=_0x3a7424['RGBA'],this['_glInterna'+'lFormat']=_0x3a7424['RGBA16F'],this['_glPixelTy'+'pe']=_0x3a7424['HALF_FLOAT'];break;case Ye:this['_glFormat']=_0x3a7424['RGB'],this['_glInterna'+'lFormat']=_0x3a7424['RGB32F'],this['_glPixelTy'+'pe']=_0x3a7424['FLOAT'];break;case Xt:this['_glFormat']=_0x3a7424['RGBA'],this['_glInterna'+'lFormat']=_0x3a7424['RGBA32F'],this['_glPixelTy'+'pe']=_0x3a7424['FLOAT'];break;case Ji:this['_glFormat']=_0x3a7424['RED'],this['_glInterna'+'lFormat']=_0x3a7424['R32F'],this['_glPixelTy'+'pe']=_0x3a7424['FLOAT'];break;case $i:this['_glFormat']=_0x3a7424['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x3a7424['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x3a7424['FLOAT'];break;case vn:this['_glFormat']=_0x3a7424['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x3a7424['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x3a7424['UNSIGNED_S'+'HORT'];break;case sd:this['_glFormat']=_0x3a7424['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x3a7424['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x3a7424['UNSIGNED_I'+'NT_24_8'];break;case In:this['_glFormat']=_0x3a7424['RGB'],this['_glInterna'+'lFormat']=_0x3a7424['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x3a7424['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case lp:this['_glFormat']=_0x3a7424['RGB'],this['_glInterna'+'lFormat']=_0x3a7424['SRGB8'],this['_glPixelTy'+'pe']=_0x3a7424['UNSIGNED_B'+'YTE'];break;case _s:this['_glFormat']=_0x3a7424['RGBA'],this['_glInterna'+'lFormat']=_0x3a7424['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x3a7424['UNSIGNED_B'+'YTE'];break;case dp:this['_glFormat']=_0x3a7424['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x3a7424['R8I'],this['_glPixelTy'+'pe']=_0x3a7424['BYTE'];break;case oy:this['_glFormat']=_0x3a7424['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x3a7424['R8UI'],this['_glPixelTy'+'pe']=_0x3a7424['UNSIGNED_B'+'YTE'];break;case fp:this['_glFormat']=_0x3a7424['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x3a7424['R16I'],this['_glPixelTy'+'pe']=_0x3a7424['SHORT'];break;case up:this['_glFormat']=_0x3a7424['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x3a7424['R16UI'],this['_glPixelTy'+'pe']=_0x3a7424['UNSIGNED_S'+'HORT'];break;case pp:this['_glFormat']=_0x3a7424['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x3a7424['R32I'],this['_glPixelTy'+'pe']=_0x3a7424['INT'];break;case Ki:this['_glFormat']=_0x3a7424['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x3a7424['R32UI'],this['_glPixelTy'+'pe']=_0x3a7424['UNSIGNED_I'+'NT'];break;case mp:this['_glFormat']=_0x3a7424['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x3a7424['RG8I'],this['_glPixelTy'+'pe']=_0x3a7424['BYTE'];break;case ly:this['_glFormat']=_0x3a7424['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x3a7424['RG8UI'],this['_glPixelTy'+'pe']=_0x3a7424['UNSIGNED_B'+'YTE'];break;case _p:this['_glFormat']=_0x3a7424['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x3a7424['RG16I'],this['_glPixelTy'+'pe']=_0x3a7424['SHORT'];break;case gp:this['_glFormat']=_0x3a7424['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x3a7424['RG16UI'],this['_glPixelTy'+'pe']=_0x3a7424['UNSIGNED_S'+'HORT'];break;case Sp:this['_glFormat']=_0x3a7424['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x3a7424['RG32I'],this['_glPixelTy'+'pe']=_0x3a7424['INT'];break;case yp:this['_glFormat']=_0x3a7424['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x3a7424['RG32UI'],this['_glPixelTy'+'pe']=_0x3a7424['UNSIGNED_I'+'NT'];break;case vp:this['_glFormat']=_0x3a7424['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x3a7424['RGBA8I'],this['_glPixelTy'+'pe']=_0x3a7424['BYTE'];break;case cy:this['_glFormat']=_0x3a7424['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x3a7424['RGBA8UI'],this['_glPixelTy'+'pe']=_0x3a7424['UNSIGNED_B'+'YTE'];break;case xp:this['_glFormat']=_0x3a7424['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x3a7424['RGBA16I'],this['_glPixelTy'+'pe']=_0x3a7424['SHORT'];break;case nd:this['_glFormat']=_0x3a7424['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x3a7424['RGBA16UI'],this['_glPixelTy'+'pe']=_0x3a7424['UNSIGNED_S'+'HORT'];break;case Tp:this['_glFormat']=_0x3a7424['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x3a7424['RGBA32I'],this['_glPixelTy'+'pe']=_0x3a7424['INT'];break;case Ue:this['_glFormat']=_0x3a7424['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x3a7424['RGBA32UI'],this['_glPixelTy'+'pe']=_0x3a7424['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(0x6f8+0x26c0+-0x1*0x2db7);}['upload'](_0x494c10,_0x3b5bb0){w['assert'](_0x3b5bb0['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x3b5bb0);const _0x59be1a=_0x494c10['gl'];if(!_0x3b5bb0['_needsUplo'+'ad']&&(_0x3b5bb0['_needsMipm'+'apsUpload']&&_0x3b5bb0['_mipmapsUp'+'loaded']||!_0x3b5bb0['pot']))return;let _0x155c42=-0x1*0x43e+-0x1*-0x83+0x1*0x3bb,_0x1e2924,_0xf296f2;const _0x200fd5=_0x3b5bb0['numLevels'];for(_0x3b5bb0['array']&&_0x59be1a['texStorage'+'3D'](_0x59be1a['TEXTURE_2D'+'_ARRAY'],_0x200fd5,this['_glInterna'+'lFormat'],_0x3b5bb0['_width'],_0x3b5bb0['_height'],_0x3b5bb0['_arrayLeng'+'th']);_0x3b5bb0['_levels'][_0x155c42]||_0x155c42===0x1280+0x1254+-0x126a*0x2;){if(!_0x3b5bb0['_needsUplo'+'ad']&&_0x155c42===-0x234b+-0x2243+0x458e){_0x155c42++;continue;}else{if(_0x155c42&&(!_0x3b5bb0['_needsMipm'+'apsUpload']||!_0x3b5bb0['_mipmaps']))break;}if(_0x1e2924=_0x3b5bb0['_levels'][_0x155c42],_0xf296f2=(-0x1*-0x222f+-0x21b+-0x2013)/Math['pow'](-0x6c7*-0x5+-0x462*0x6+-0x795*0x1,_0x155c42),_0x155c42===-0x1f7*-0x3+0x1*0x33+-0x617&&!_0x3b5bb0['_compresse'+'d']&&!_0x3b5bb0['_integerFo'+'rmat']&&_0x3b5bb0['_levels']['length']<_0x200fd5&&(_0x59be1a['generateMi'+'pmap'](this['_glTarget']),_0x3b5bb0['_mipmapsUp'+'loaded']=!(-0x4*-0x171+-0x1844*-0x1+-0x1e08)),_0x3b5bb0['_cubemap']){let _0x2f3b0d;if(_0x494c10['_isBrowser'+'Interface'](_0x1e2924[0x1*-0xef+-0x2f3+0x3e2]))for(_0x2f3b0d=0x23b3+0x8*-0x4a3+0x165;_0x2f3b0d<0x2564+0x8a*0xa+-0x2ac2;_0x2f3b0d++){if(!_0x3b5bb0['_levelsUpd'+'ated'][-0x1*-0x2637+-0x14ac+-0x1f3*0x9][_0x2f3b0d])continue;let _0x233d75=_0x1e2924[_0x2f3b0d];_0x494c10['_isImageBr'+'owserInter'+'face'](_0x233d75)&&(_0x233d75['width']>_0x494c10['maxCubeMap'+'Size']||_0x233d75['height']>_0x494c10['maxCubeMap'+'Size'])&&(_0x233d75=c_(_0x233d75,_0x494c10['maxCubeMap'+'Size']),_0x155c42===-0xd4e+0x1feb*0x1+-0x129d&&(_0x3b5bb0['_width']=_0x233d75['width'],_0x3b5bb0['_height']=_0x233d75['height'])),_0x494c10['setUnpackF'+'lipY'](!(-0x2132+-0x8*0x185+-0x2ab*-0x11)),_0x494c10['setUnpackP'+'remultiply'+'Alpha'](_0x3b5bb0['_premultip'+'lyAlpha']),this['_glCreated']?_0x59be1a['texSubImag'+'e2D'](_0x59be1a['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x2f3b0d,_0x155c42,0xe00+0x1742+0x1f6*-0x13,-0x5fe+-0x3*0x377+-0x1*-0x1063,this['_glFormat'],this['_glPixelTy'+'pe'],_0x233d75):_0x59be1a['texImage2D'](_0x59be1a['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x2f3b0d,_0x155c42,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x233d75);}else for(_0xf296f2=(0x16e7*-0x1+-0x1*-0x25c8+0x1c*-0x88)/Math['pow'](0xf4d+0xbe*-0x11+0x5*-0x89,_0x155c42),_0x2f3b0d=0x1f91*0x1+-0xd5*-0x1c+0x35*-0x109;_0x2f3b0d<-0xba6+0x209e+0x2fe*-0x7;_0x2f3b0d++){if(!_0x3b5bb0['_levelsUpd'+'ated'][-0x1bd7*-0x1+0x19fd+-0x35d4][_0x2f3b0d])continue;const _0x50af93=_0x1e2924[_0x2f3b0d];_0x3b5bb0['_compresse'+'d']?this['_glCreated']&&_0x50af93?_0x59be1a['compressed'+'TexSubImag'+'e2D'](_0x59be1a['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x2f3b0d,_0x155c42,0x2*0x127f+0x1*-0x1df7+0x1*-0x707,-0x13a0+0x1920*0x1+-0x580,Math['max'](_0x3b5bb0['_width']*_0xf296f2,0x11ea+-0x8*0x5f+0x1*-0xef1),Math['max'](_0x3b5bb0['_height']*_0xf296f2,0xb84*-0x1+-0x95*0x31+0x19*0x19a),this['_glInterna'+'lFormat'],_0x50af93):_0x59be1a['compressed'+'TexImage2D'](_0x59be1a['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x2f3b0d,_0x155c42,this['_glInterna'+'lFormat'],Math['max'](_0x3b5bb0['_width']*_0xf296f2,-0x12ef+-0x1f40+0x3230),Math['max'](_0x3b5bb0['_height']*_0xf296f2,-0x1*-0x142f+-0x1b16*0x1+0x6e8),-0x3bd+-0xb37+0xef4,_0x50af93):(_0x494c10['setUnpackF'+'lipY'](!(0x8a5*-0x4+0x621*0x2+0x1653)),_0x494c10['setUnpackP'+'remultiply'+'Alpha'](_0x3b5bb0['_premultip'+'lyAlpha']),this['_glCreated']&&_0x50af93?_0x59be1a['texSubImag'+'e2D'](_0x59be1a['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x2f3b0d,_0x155c42,0xf78+-0x43*-0x86+-0x328a,-0x1726+0x1*-0xfeb+0x2711,Math['max'](_0x3b5bb0['_width']*_0xf296f2,0x184*0x1+0x2213+-0x2396),Math['max'](_0x3b5bb0['_height']*_0xf296f2,-0x1*-0x1345+0x20a2+0x3b5*-0xe),this['_glFormat'],this['_glPixelTy'+'pe'],_0x50af93):_0x59be1a['texImage2D'](_0x59be1a['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x2f3b0d,_0x155c42,this['_glInterna'+'lFormat'],Math['max'](_0x3b5bb0['_width']*_0xf296f2,-0x1*0x1d21+-0x119f+-0x1*-0x2ec1),Math['max'](_0x3b5bb0['_height']*_0xf296f2,-0xd*0x1+0x1*-0x149f+0x14ad*0x1),-0x709+0x4*-0x56c+0x1cb9,this['_glFormat'],this['_glPixelTy'+'pe'],_0x50af93));}}else{if(_0x3b5bb0['_volume'])_0x3b5bb0['_compresse'+'d']?_0x59be1a['compressed'+'TexImage3D'](_0x59be1a['TEXTURE_3D'],_0x155c42,this['_glInterna'+'lFormat'],Math['max'](_0x3b5bb0['_width']*_0xf296f2,-0x20c*0x3+-0x43b*0x3+0x1*0x12d6),Math['max'](_0x3b5bb0['_height']*_0xf296f2,0x8*-0x34f+0x19*0x8e+0xc9b),Math['max'](_0x3b5bb0['_depth']*_0xf296f2,-0x1511+0x1*0x228e+-0xd7c),0x22*-0x92+0x1*0x2b+0x1*0x1339,_0x1e2924):(_0x494c10['setUnpackF'+'lipY'](!(-0x2623+-0x258e+0x4bb2)),_0x494c10['setUnpackP'+'remultiply'+'Alpha'](_0x3b5bb0['_premultip'+'lyAlpha']),_0x59be1a['texImage3D'](_0x59be1a['TEXTURE_3D'],_0x155c42,this['_glInterna'+'lFormat'],Math['max'](_0x3b5bb0['_width']*_0xf296f2,-0x234a+0x1*-0x1dc4+0x410f),Math['max'](_0x3b5bb0['_height']*_0xf296f2,-0x418+0xb9+-0xc*-0x48),Math['max'](_0x3b5bb0['_depth']*_0xf296f2,0x175c+0x48*-0x16+0x5*-0x36f),0x246a*0x1+-0x18fa+-0xb70,this['_glFormat'],this['_glPixelTy'+'pe'],_0x1e2924));else{if(_0x3b5bb0['array']&&typeof _0x1e2924=='object'){if(_0x3b5bb0['_arrayLeng'+'th']===_0x1e2924['length']){if(_0x3b5bb0['_compresse'+'d']){for(let _0x3f6cc7=-0x2*-0xb19+-0x4f*0x8+-0x5*0x3f2;_0x3f6cc7<_0x3b5bb0['_arrayLeng'+'th'];_0x3f6cc7++)_0x59be1a['compressed'+'TexSubImag'+'e3D'](_0x59be1a['TEXTURE_2D'+'_ARRAY'],_0x155c42,-0xd64+-0x83*-0x19+0x99,0xde+0xe53+0x1*-0xf31,_0x3f6cc7,Math['max'](Math['floor'](_0x3b5bb0['_width']*_0xf296f2),0x1544+-0x1*-0x26ff+-0x1e21*0x2),Math['max'](Math['floor'](_0x3b5bb0['_height']*_0xf296f2),-0x45f+0x1*0xa1d+-0x1*0x5bd),-0x7dc+0x9e9+-0x20c,this['_glInterna'+'lFormat'],_0x1e2924[_0x3f6cc7]);}else{for(let _0x1cbdc4=-0x9*0xc+-0x1238*0x2+-0x1*-0x24dc;_0x1cbdc4<_0x3b5bb0['_arrayLeng'+'th'];_0x1cbdc4++)_0x59be1a['texSubImag'+'e3D'](_0x59be1a['TEXTURE_2D'+'_ARRAY'],_0x155c42,-0xb*0x347+0x613+-0x6*-0x4ff,0xc89+0xe75+-0x2*0xd7f,_0x1cbdc4,Math['max'](Math['floor'](_0x3b5bb0['_width']*_0xf296f2),-0xd99+0x3*-0x12c+0x111e),Math['max'](Math['floor'](_0x3b5bb0['_height']*_0xf296f2),-0x14b*0x12+-0x3*0x595+0xda*0x2f),-0xe5+0x126*0x12+-0x13c6,this['_glFormat'],this['_glPixelTy'+'pe'],_0x1e2924[_0x1cbdc4]);}}}else{if(_0x494c10['_isBrowser'+'Interface'](_0x1e2924)){_0x494c10['_isImageBr'+'owserInter'+'face'](_0x1e2924)&&(_0x1e2924['width']>_0x494c10['maxTexture'+'Size']||_0x1e2924['height']>_0x494c10['maxTexture'+'Size'])&&(_0x1e2924=c_(_0x1e2924,_0x494c10['maxTexture'+'Size']),_0x155c42===0x3*-0x634+0x3d*-0x34+0x1f00&&(_0x3b5bb0['_width']=_0x1e2924['width'],_0x3b5bb0['_height']=_0x1e2924['height']));const _0x1ee50b=_0x1e2924['width']||_0x1e2924['videoWidth'],_0x3f97c7=_0x1e2924['height']||_0x1e2924['videoHeigh'+'t'];_0x494c10['setUnpackF'+'lipY'](_0x3b5bb0['_flipY']),_0x494c10['setUnpackP'+'remultiply'+'Alpha'](_0x3b5bb0['_premultip'+'lyAlpha']),this['_glCreated']&&_0x3b5bb0['_width']===_0x1ee50b&&_0x3b5bb0['_height']===_0x3f97c7&&!_0x494c10['_isImageVi'+'deoInterfa'+'ce'](_0x1e2924)?_0x59be1a['texSubImag'+'e2D'](_0x59be1a['TEXTURE_2D'],_0x155c42,-0x2108+0x954+0x17b4,-0xb9*-0x11+0x835+-0x147e,this['_glFormat'],this['_glPixelTy'+'pe'],_0x1e2924):(_0x59be1a['texImage2D'](_0x59be1a['TEXTURE_2D'],_0x155c42,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x1e2924),_0x155c42===0x2089+0x10b9+0x61*-0x82&&(_0x3b5bb0['_width']=_0x1ee50b,_0x3b5bb0['_height']=_0x3f97c7));}else _0xf296f2=(-0x2380+-0x2*0x8e+-0x67*-0x5b)/Math['pow'](0x481*-0x4+-0x1*0x9ea+0x1bf0,_0x155c42),_0x3b5bb0['_compresse'+'d']?this['_glCreated']&&_0x1e2924?_0x59be1a['compressed'+'TexSubImag'+'e2D'](_0x59be1a['TEXTURE_2D'],_0x155c42,-0x2*0xcd+0x7d8+0x11*-0x5e,-0xd04*-0x2+0x694+0x1*-0x209c,Math['max'](Math['floor'](_0x3b5bb0['_width']*_0xf296f2),0xb*-0x2ad+0x929+0x1447),Math['max'](Math['floor'](_0x3b5bb0['_height']*_0xf296f2),0x139+0x147d+-0x15b5*0x1),this['_glInterna'+'lFormat'],_0x1e2924):_0x59be1a['compressed'+'TexImage2D'](_0x59be1a['TEXTURE_2D'],_0x155c42,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x3b5bb0['_width']*_0xf296f2),-0x2256+0x6*-0x5ed+0x45e5),Math['max'](Math['floor'](_0x3b5bb0['_height']*_0xf296f2),0xd07+0x1f51+-0x2c57),0x1*-0xdf1+0xfdf*-0x1+0x1dd0,_0x1e2924):(_0x494c10['setUnpackF'+'lipY'](!(0x125*-0x1+0x5*0x2f5+0x1*-0xda3)),_0x494c10['setUnpackP'+'remultiply'+'Alpha'](_0x3b5bb0['_premultip'+'lyAlpha']),this['_glCreated']&&_0x1e2924?_0x59be1a['texSubImag'+'e2D'](_0x59be1a['TEXTURE_2D'],_0x155c42,0x22*-0x58+-0x68*-0x26+-0x50*0xc,-0x3f*-0x10+0x131e*0x2+-0x2a2c,Math['max'](_0x3b5bb0['_width']*_0xf296f2,0x8*-0x23d+0x1547+-0x35e),Math['max'](_0x3b5bb0['_height']*_0xf296f2,-0x903+-0x1c6e+0x2572),this['_glFormat'],this['_glPixelTy'+'pe'],_0x1e2924):_0x59be1a['texImage2D'](_0x59be1a['TEXTURE_2D'],_0x155c42,this['_glInterna'+'lFormat'],Math['max'](_0x3b5bb0['_width']*_0xf296f2,0x1ade+0x1178+-0x2c55*0x1),Math['max'](_0x3b5bb0['_height']*_0xf296f2,0x182*-0x11+0x42b*0x6+0xa1),-0x2ea*-0x1+-0x5d5*-0x1+-0x8bf,this['_glFormat'],this['_glPixelTy'+'pe'],_0x1e2924));_0x155c42===0x49*-0x1f+-0x142f+0x1d06?_0x3b5bb0['_mipmapsUp'+'loaded']=!(-0x11*-0x16+-0x4*0x92f+-0x1*-0x2347):_0x3b5bb0['_mipmapsUp'+'loaded']=!(0x19a0+0xf7c+-0x2*0x148e);}}}_0x155c42++;}if(_0x3b5bb0['_needsUplo'+'ad']){if(_0x3b5bb0['_cubemap']){for(let _0x1ddd7e=-0xbf*0x2+0x6e*-0x33+0x1768;_0x1ddd7e<0xb86+-0x13e*-0x1b+-0x2d0a;_0x1ddd7e++)_0x3b5bb0['_levelsUpd'+'ated'][-0x3d6+0x17ac+-0x13d6][_0x1ddd7e]=!(0x1abd+-0x121d+-0x89f);}else _0x3b5bb0['_levelsUpd'+'ated'][-0x1*0xea2+-0x2*0x7be+0x1e1e]=!(-0x11*0x1c9+0xc05+0x1*0x1255);}!_0x3b5bb0['_compresse'+'d']&&!_0x3b5bb0['_integerFo'+'rmat']&&_0x3b5bb0['_mipmaps']&&_0x3b5bb0['_needsMipm'+'apsUpload']&&_0x3b5bb0['_levels']['length']===0x78*-0x13+-0x2073+0x295c&&(_0x59be1a['generateMi'+'pmap'](this['_glTarget']),_0x3b5bb0['_mipmapsUp'+'loaded']=!(-0x1b12+0x804+-0x3*-0x65a)),_0x3b5bb0['_gpuSize']&&_0x3b5bb0['adjustVram'+'SizeTracki'+'ng'](_0x494c10['_vram'],-_0x3b5bb0['_gpuSize']),_0x3b5bb0['_gpuSize']=_0x3b5bb0['gpuSize'],_0x3b5bb0['adjustVram'+'SizeTracki'+'ng'](_0x494c10['_vram'],_0x3b5bb0['_gpuSize']),this['_glCreated']=!(0x178d*-0x1+0x980*-0x4+0x3d8d);}['read'](_0x51536e,_0x2ca4ce,_0x593b86,_0x265b98,_0x7a6251){const _0x37d8f5=this['texture'];return _0x37d8f5['device']['readTextur'+'eAsync'](_0x37d8f5,_0x51536e,_0x2ca4ce,_0x593b86,_0x265b98,_0x7a6251);}['write'](_0x2e0210,_0x1a29b4,_0x3ec6bc,_0x32811d,_0x48db26){const {texture:_0x57ffbf}=this,{device:_0x13aa34}=_0x57ffbf;return _0x13aa34['setTexture'](_0x57ffbf,-0x40*0x1d+0x1101+-0xe3*0xb),_0x13aa34['writeTextu'+'reAsync'](_0x57ffbf,_0x2e0210,_0x1a29b4,_0x3ec6bc,_0x32811d,_0x48db26);}}class tw{constructor(_0x31ca5d,_0x2d73ec){h(this,'msaaFB'),h(this,'resolveFB'),(this['msaaFB']=_0x31ca5d,this['resolveFB']=_0x2d73ec);}['destroy'](_0x1eb334){this['msaaFB']&&(_0x1eb334['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x1eb334['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class sw{constructor(){h(this,'_glFrameBu'+'ffer',null),h(this,'_glDepthBu'+'ffer',null),h(this,'_glResolve'+'FrameBuffe'+'r',null),h(this,'colorMrtFr'+'amebuffers',null),h(this,'_glMsaaCol'+'orBuffers',[]),h(this,'_glMsaaDep'+'thBuffer',null),h(this,'msaaDepthB'+'ufferKey'),h(this,'suppliedCo'+'lorFramebu'+'ffer'),h(this,'_isInitial'+'ized',!(-0x1b1d*0x1+-0x58b+0x20a9));}['destroy'](_0x26f63b){var _0x2e68bc;const _0x23c690=_0x26f63b['gl'];this['_isInitial'+'ized']=!(-0x1a5a+0x2*0x1de+0x169f),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x23c690['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x23c690['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x23c690['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x52b342=>{_0x23c690['deleteRend'+'erbuffer'](_0x52b342);}),this['_glMsaaCol'+'orBuffers']['length']=-0x24db+0x5dd*-0x6+0x4809,(_0x2e68bc=this['colorMrtFr'+'amebuffers'])==null||_0x2e68bc['forEach'](_0x2f3473=>{_0x2f3473['destroy'](_0x23c690);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&Fd(_0x26f63b)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(-0x25cb+-0x2279+-0x94*-0x7d);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x22fd4b,_0x54b988){var _0x35e7dd,_0x4dad48;const _0x171fb1=_0x22fd4b['gl'];w['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(-0x10*0x11+0x17b2+-0x16a2);const _0x57a2d3=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0x12c3+0xfc3+0xb82*-0x3))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{w['call'](()=>{(_0x54b988['width']<=-0x1992*0x1+0x31b+0x1677||_0x54b988['height']<=-0x12e5+0x66d+0x4c*0x2a)&&w['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x54b988['width']+'\x20x\x20'+_0x54b988['height'],_0x54b988);}),this['_glFrameBu'+'ffer']=_0x171fb1['createFram'+'ebuffer'](),_0x22fd4b['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x4d717c=((_0x35e7dd=_0x54b988['_colorBuff'+'ers'])==null?void(-0x2057*-0x1+-0x206*-0x7+0x1*-0x2e81):_0x35e7dd['length'])??0x1a06*0x1+0x1*-0x1b2e+0x128,_0x7995ca=_0x171fb1['COLOR_ATTA'+'CHMENT0'];for(let _0x22d3e0=0x2704*-0x1+-0x26b8+0x4dbc;_0x22d3e0<_0x4d717c;++_0x22d3e0){const _0x4b2fc2=_0x54b988['getColorBu'+'ffer'](_0x22d3e0);_0x4b2fc2&&(_0x4b2fc2['impl']['_glTexture']||(_0x4b2fc2['_width']=Math['min'](_0x4b2fc2['width'],_0x22fd4b['maxRenderB'+'ufferSize']),_0x4b2fc2['_height']=Math['min'](_0x4b2fc2['height'],_0x22fd4b['maxRenderB'+'ufferSize']),_0x22fd4b['setTexture'](_0x4b2fc2,0x16b6+-0x2313+-0x3*-0x41f)),_0x171fb1['framebuffe'+'rTexture2D'](_0x171fb1['FRAMEBUFFE'+'R'],_0x7995ca+_0x22d3e0,_0x4b2fc2['_cubemap']?_0x171fb1['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x54b988['_face']:_0x171fb1['TEXTURE_2D'],_0x4b2fc2['impl']['_glTexture'],_0x54b988['mipLevel']),_0x57a2d3['push'](_0x7995ca+_0x22d3e0));}_0x171fb1['drawBuffer'+'s'](_0x57a2d3);const _0x31dc30=_0x54b988['_depthBuff'+'er'];if(_0x31dc30||_0x54b988['_depth']){const _0x593615=_0x54b988['_stencil']?_0x171fb1['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x171fb1['DEPTH_ATTA'+'CHMENT'];if(_0x31dc30)_0x31dc30['impl']['_glTexture']||(_0x31dc30['_width']=Math['min'](_0x31dc30['width'],_0x22fd4b['maxRenderB'+'ufferSize']),_0x31dc30['_height']=Math['min'](_0x31dc30['height'],_0x22fd4b['maxRenderB'+'ufferSize']),_0x22fd4b['setTexture'](_0x31dc30,-0x10*0x13a+-0x13*-0x2e+0x1036)),_0x171fb1['framebuffe'+'rTexture2D'](_0x171fb1['FRAMEBUFFE'+'R'],_0x593615,_0x31dc30['_cubemap']?_0x171fb1['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x54b988['_face']:_0x171fb1['TEXTURE_2D'],_0x54b988['_depthBuff'+'er']['impl']['_glTexture'],_0x54b988['mipLevel']);else{if(!(_0x54b988['_samples']>0xbc*0x1f+0x1049+-0x270c)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0x171fb1['createRend'+'erbuffer']());const _0x3096ff=_0x54b988['_stencil']?_0x171fb1['DEPTH24_ST'+'ENCIL8']:_0x171fb1['DEPTH_COMP'+'ONENT32F'];_0x171fb1['bindRender'+'buffer'](_0x171fb1['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x171fb1['renderbuff'+'erStorage'](_0x171fb1['RENDERBUFF'+'ER'],_0x3096ff,_0x54b988['width'],_0x54b988['height']),_0x171fb1['framebuffe'+'rRenderbuf'+'fer'](_0x171fb1['FRAMEBUFFE'+'R'],_0x593615,_0x171fb1['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x171fb1['bindRender'+'buffer'](_0x171fb1['RENDERBUFF'+'ER'],null);}}}w['call'](()=>this['_checkFbo'](_0x22fd4b,_0x54b988));}if(_0x54b988['_samples']>-0x15*0xd+-0x3d*-0x4c+-0x110a*0x1){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0x171fb1['createFram'+'ebuffer'](),_0x22fd4b['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x8188d8=((_0x4dad48=_0x54b988['_colorBuff'+'ers'])==null?void(0xee9*-0x1+0x1*0x5d5+0x914):_0x4dad48['length'])??-0x1*-0x2016+0x70c+-0x2722;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(-0x12ea+-0x67*0x2b+0x2437)){const _0x127332=_0x171fb1['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x127332);const _0x28c296=_0x22fd4b['backBuffer'+'Format']===Ne?_0x171fb1['RGBA8']:_0x171fb1['RGB8'];_0x171fb1['bindRender'+'buffer'](_0x171fb1['RENDERBUFF'+'ER'],_0x127332),_0x171fb1['renderbuff'+'erStorageM'+'ultisample'](_0x171fb1['RENDERBUFF'+'ER'],_0x54b988['_samples'],_0x28c296,_0x54b988['width'],_0x54b988['height']),_0x171fb1['framebuffe'+'rRenderbuf'+'fer'](_0x171fb1['FRAMEBUFFE'+'R'],_0x171fb1['COLOR_ATTA'+'CHMENT0'],_0x171fb1['RENDERBUFF'+'ER'],_0x127332);}else for(let _0x4a3ef2=-0x6*0x618+-0x2*0x119f+0x7*0xa42;_0x4a3ef2<_0x8188d8;++_0x4a3ef2){const _0x17aac0=_0x54b988['getColorBu'+'ffer'](_0x4a3ef2);if(_0x17aac0){const _0x3d341f=_0x171fb1['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x3d341f),_0x171fb1['bindRender'+'buffer'](_0x171fb1['RENDERBUFF'+'ER'],_0x3d341f),_0x171fb1['renderbuff'+'erStorageM'+'ultisample'](_0x171fb1['RENDERBUFF'+'ER'],_0x54b988['_samples'],_0x17aac0['impl']['_glInterna'+'lFormat'],_0x54b988['width'],_0x54b988['height']),_0x171fb1['framebuffe'+'rRenderbuf'+'fer'](_0x171fb1['FRAMEBUFFE'+'R'],_0x171fb1['COLOR_ATTA'+'CHMENT0']+_0x4a3ef2,_0x171fb1['RENDERBUFF'+'ER'],_0x3d341f);}}if(_0x54b988['_depth']){w['assert'](!this['_glMsaaDep'+'thBuffer']);const _0x44e0ab=_0x54b988['_stencil']?_0x171fb1['DEPTH24_ST'+'ENCIL8']:_0x171fb1['DEPTH_COMP'+'ONENT32F'],_0x1af805=_0x54b988['_stencil']?_0x171fb1['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x171fb1['DEPTH_ATTA'+'CHMENT'];let _0x44bb2f;const _0x567faa=_0x54b988['_depthBuff'+'er'];_0x567faa&&(_0x44bb2f=_0x567faa['id']+':'+_0x54b988['width']+':'+_0x54b988['height']+':'+_0x54b988['_samples']+':'+_0x44e0ab+':'+_0x1af805,this['_glMsaaDep'+'thBuffer']=Fd(_0x22fd4b)['get'](_0x44bb2f)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0x171fb1['createRend'+'erbuffer'](),_0x171fb1['bindRender'+'buffer'](_0x171fb1['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0x171fb1['renderbuff'+'erStorageM'+'ultisample'](_0x171fb1['RENDERBUFF'+'ER'],_0x54b988['_samples'],_0x44e0ab,_0x54b988['width'],_0x54b988['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0x171fb1['deleteRend'+'erbuffer'](this);},_0x567faa&&Fd(_0x22fd4b)['set'](_0x44bb2f,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x44bb2f,_0x171fb1['framebuffe'+'rRenderbuf'+'fer'](_0x171fb1['FRAMEBUFFE'+'R'],_0x1af805,_0x171fb1['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}w['call'](()=>this['_checkFbo'](_0x22fd4b,_0x54b988,'MSAA')),_0x8188d8>-0x1*-0x40d+0x1136+-0x1542&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x22fd4b,_0x54b988,_0x8188d8),_0x22fd4b['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0x171fb1['drawBuffer'+'s'](_0x57a2d3));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0x438489,_0x174668,_0x43a61f){const _0x39241b=_0x438489['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x5021b7=0x13ee+-0x885+-0x1*0xb69;_0x5021b7<_0x43a61f;++_0x5021b7){const _0x82fb8b=_0x174668['getColorBu'+'ffer'](_0x5021b7),_0x1155fa=_0x39241b['createFram'+'ebuffer']();_0x438489['setFramebu'+'ffer'](_0x1155fa);const _0x4c0d94=this['_glMsaaCol'+'orBuffers'][_0x5021b7];_0x39241b['bindRender'+'buffer'](_0x39241b['RENDERBUFF'+'ER'],_0x4c0d94),_0x39241b['renderbuff'+'erStorageM'+'ultisample'](_0x39241b['RENDERBUFF'+'ER'],_0x174668['_samples'],_0x82fb8b['impl']['_glInterna'+'lFormat'],_0x174668['width'],_0x174668['height']),_0x39241b['framebuffe'+'rRenderbuf'+'fer'](_0x39241b['FRAMEBUFFE'+'R'],_0x39241b['COLOR_ATTA'+'CHMENT0'],_0x39241b['RENDERBUFF'+'ER'],_0x4c0d94),_0x39241b['drawBuffer'+'s']([_0x39241b['COLOR_ATTA'+'CHMENT0']]),w['call'](()=>this['_checkFbo'](_0x438489,_0x174668,'MSAA-MRT-s'+'rc'+_0x5021b7));const _0x2d9684=_0x39241b['createFram'+'ebuffer']();_0x438489['setFramebu'+'ffer'](_0x2d9684),_0x39241b['framebuffe'+'rTexture2D'](_0x39241b['FRAMEBUFFE'+'R'],_0x39241b['COLOR_ATTA'+'CHMENT0'],_0x82fb8b['_cubemap']?_0x39241b['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x174668['_face']:_0x39241b['TEXTURE_2D'],_0x82fb8b['impl']['_glTexture'],0x518*0x7+-0x15cc+0x4*-0x377),this['colorMrtFr'+'amebuffers'][_0x5021b7]=new tw(_0x1155fa,_0x2d9684),w['call'](()=>this['_checkFbo'](_0x438489,_0x174668,'MSAA-MRT-d'+'st'+_0x5021b7));}}['_checkFbo'](_0x3a6d6e,_0x8f8d84,_0x5a569e=''){const _0x5bd5d3=_0x3a6d6e['gl'],_0x3d9ad0=_0x5bd5d3['checkFrame'+'bufferStat'+'us'](_0x5bd5d3['FRAMEBUFFE'+'R']);let _0x225a67;switch(_0x3d9ad0){case _0x5bd5d3['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x225a67='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x5bd5d3['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x225a67='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x5bd5d3['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x225a67='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x5bd5d3['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x225a67='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}w['assert'](!_0x225a67,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x225a67+(',\x20render\x20t'+'arget:\x20')+_0x8f8d84['name']+'\x20'+_0x5a569e,_0x8f8d84);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=0x1334+0xf*0x2e+0x2*-0xaf3,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(-0x7*-0x163+-0x21*0x88+0x7d3),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(-0x1*0x6ab+0x1c9*-0xd+0x1*0x1de0),this['_isInitial'+'ized']=!(0x1f41+-0x10f7+-0xe49*0x1);}['internalRe'+'solve'](_0x29c087,_0x51cf76,_0x5442d7,_0x33d0da,_0x5188e7){w['assert'](_0x51cf76!==_0x5442d7,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x29c087['setScissor'](-0x1175+0x1f8a*0x1+0x5*-0x2d1,-0x1b*-0x16b+-0x1597+-0x10b2*0x1,_0x33d0da['width'],_0x33d0da['height']);const _0x38c6a4=_0x29c087['gl'];_0x38c6a4['bindFrameb'+'uffer'](_0x38c6a4['READ_FRAME'+'BUFFER'],_0x51cf76),_0x38c6a4['bindFrameb'+'uffer'](_0x38c6a4['DRAW_FRAME'+'BUFFER'],_0x5442d7),_0x38c6a4['blitFrameb'+'uffer'](0x16cf+0x2f8*-0x3+-0xde7,-0x1*0x1408+0x962+-0x3a*-0x2f,_0x33d0da['width'],_0x33d0da['height'],-0x60a*0x4+-0x62*-0x1c+0xd70,0x2*0x3ff+-0x3c2*-0x3+-0x3*0x66c,_0x33d0da['width'],_0x33d0da['height'],_0x5188e7,_0x38c6a4['NEAREST']);}['resolve'](_0x3841a9,_0x192e58,_0x40fb71,_0x1f2503){const _0x18eebb=_0x3841a9['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x40fb71)for(let _0xe7046a=0x1171+0x1*0xc46+-0x1*0x1db7;_0xe7046a<this['colorMrtFr'+'amebuffers']['length'];_0xe7046a++){const _0x2fa82e=this['colorMrtFr'+'amebuffers'][_0xe7046a];Q['pushGpuMar'+'ker'](_0x3841a9,'RESOLVE-MR'+'T'+_0xe7046a),this['internalRe'+'solve'](_0x3841a9,_0x2fa82e['msaaFB'],_0x2fa82e['resolveFB'],_0x192e58,_0x18eebb['COLOR_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0x3841a9);}_0x1f2503&&(Q['pushGpuMar'+'ker'](_0x3841a9,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x3841a9,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x192e58,_0x18eebb['DEPTH_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0x3841a9));}else Q['pushGpuMar'+'ker'](_0x3841a9,'RESOLVE'),this['internalRe'+'solve'](_0x3841a9,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x192e58,(_0x40fb71?_0x18eebb['COLOR_BUFF'+'ER_BIT']:0x833*0x1+0x1*-0x2011+0x17de)|(_0x1f2503?_0x18eebb['DEPTH_BUFF'+'ER_BIT']:-0x2*0x110f+-0x1177+0x3395)),Q['popGpuMark'+'er'](_0x3841a9);_0x18eebb['bindFrameb'+'uffer'](_0x18eebb['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class iw{constructor(){h(this,'renderVers'+'ion'),h(this,'queries',[]);}['destroy'](_0x597325){this['queries']['forEach'](_0x5d20b4=>_0x597325['deleteQuer'+'y'](_0x5d20b4)),this['queries']=null;}}class rw extends $T{constructor(_0x117816){super(),h(this,'device'),h(this,'freeQuerie'+'s',[]),h(this,'frameQueri'+'es',[]),h(this,'previousFr'+'ameQueries',[]),h(this,'timings',[]),(this['device']=_0x117816,this['ext']=_0x117816['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0x31de1d=>this['device']['gl']['deleteQuer'+'y'](_0x31de1d)),this['frameQueri'+'es']['forEach'](_0x16df8f=>this['device']['gl']['deleteQuer'+'y'](_0x16df8f)),this['previousFr'+'ameQueries']['forEach'](_0x5904ed=>_0x5904ed['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x453cd7){if(this['ext']){const _0x452fd0=this['getSlot'](_0x453cd7),_0xde7d80=this['getQuery']();return this['frameQueri'+'es'][_0x452fd0]=_0xde7d80,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0xde7d80),_0x452fd0;}}['end'](_0x2311ec){_0x2311ec!==void(-0x1104+0x1a1b+-0x917)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x486511=this['ext'],_0x3566d1=this['device']['gl'],_0x694410=this['device']['renderVers'+'ion'],_0x7b3950=this['frameQueri'+'es'];if(_0x7b3950['length']>0x29*-0x6a+-0x1ef3+0x2fed){this['frameQueri'+'es']=[];const _0x55f07d=new iw();_0x55f07d['queries']=_0x7b3950,_0x55f07d['renderVers'+'ion']=_0x694410,this['previousFr'+'ameQueries']['push'](_0x55f07d);}if(this['previousFr'+'ameQueries']['length']>-0x2*0xa06+-0x104e*-0x1+0x2*0x1df){const _0x52311e=this['previousFr'+'ameQueries'][0x1335+0x14bc+-0x27f1],_0x1c88d8=_0x52311e['queries'],_0x309191=_0x1c88d8[_0x1c88d8['length']-(-0x16ce+0x4cf*-0x8+0x3d47)],_0x2d9e30=_0x3566d1['getQueryPa'+'rameter'](_0x309191,_0x3566d1['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0xda6c3=_0x3566d1['getParamet'+'er'](_0x486511['GPU_DISJOI'+'NT_EXT']);if(_0x2d9e30&&!_0xda6c3){this['previousFr'+'ameQueries']['shift']();const _0x1c7ca6=this['timings'];_0x1c7ca6['length']=0x1122+0x55e+-0x1680;for(let _0x2e3aab=0x1*-0x7e3+0x247e+-0x1c9b;_0x2e3aab<_0x1c88d8['length'];_0x2e3aab++){const _0x2c3d5d=_0x1c88d8[_0x2e3aab],_0x268b33=_0x3566d1['getQueryPa'+'rameter'](_0x2c3d5d,_0x3566d1['QUERY_RESU'+'LT']);_0x1c7ca6[_0x2e3aab]=_0x268b33*(-0x166f*0x1+-0x1f2b+0x8ef*0x6+0.000001),this['freeQuerie'+'s']['push'](_0x2c3d5d);}this['report'](_0x52311e['renderVers'+'ion'],_0x1c7ca6);}_0xda6c3&&(this['previousFr'+'ameQueries']['forEach'](_0x217d13=>{this['report'](_0x217d13['renderVers'+'ion'],null),_0x217d13['destroy'](_0x3566d1);}),this['previousFr'+'ameQueries']['length']=-0x5c+0x2*0xc46+-0x1830);}super['request'](_0x694410);}}}const Da=[];class aw extends $e{constructor(_0x41e225,_0x5b3a18={}){super(_0x41e225,_0x5b3a18),h(this,'gl'),h(this,'_defaultFr'+'amebuffer',null),h(this,'_defaultFr'+'amebufferC'+'hanged',!(0x1b94+-0x1*-0x238e+-0x3f21*0x1)),(_0x5b3a18=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(-0x1280+0x2*0x3cd+0xae7),this['_contextLo'+'stHandler']=_0x2bf17e=>{_0x2bf17e['preventDef'+'ault'](),this['loseContex'+'t'](),w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x14f389=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x14f389&&_0x14f389['includes']('AppleWebKi'+'t')&&(_0x14f389['includes']('15.4')||_0x14f389['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x5b3a18['antialias']=!(-0x423+-0x2f*-0x83+-0x13e9),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),Ae['browserNam'+'e']==='firefox'){const _0x34edaa=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x2484c2=_0x34edaa?_0x34edaa[-0x21c9+-0xb*-0x17f+0x1d*0x99]:null;if(_0x2484c2){const _0x4ffb68=parseFloat(_0x2484c2);(Ae['name']==='windows'&&(_0x4ffb68>=-0x25*0xa6+-0x6*0x25c+-0x269e*-0x1||_0x4ffb68===-0x1*-0x70f+0xe34+-0x14d0)||Ae['name']==='android'&&_0x4ffb68>=-0x2*0x38b+0xb3f*-0x1+-0x5*-0x3c5)&&(_0x5b3a18['antialias']=!(-0x214d+-0x151*0x1d+-0x1*-0x477b),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+Ae['name']+('\x20platform\x20'+'version\x20')+_0x2484c2));}}this['backBuffer'+'Antialias']=_0x5b3a18['antialias']??!(0x124e+0x1962+-0x2baf),_0x5b3a18['antialias']=!(-0xf26+0xc06+0x321);const _0x433a6b=_0x5b3a18['gl']??_0x41e225['getContext']('webgl2',_0x5b3a18);if(!_0x433a6b)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x433a6b,this['isWebGL2']=!(0x220c+-0x1f15*-0x1+0x4121*-0x1),this['_deviceTyp'+'e']=aT,this['updateBack'+'bufferForm'+'at'](null);const _0x2d8d96=Ae['browserNam'+'e']==='chrome',_0xddb1fa=Ae['browserNam'+'e']==='safari',_0x284909=Ae['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(0x9e5+-0x1*0xa2e+0x4a);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0xddb1fa,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x284909&&_0x2d8d96&&!_0x5b3a18['alpha'],_0x41e225['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0x55*-0x35+0x121d+-0x23b5)),_0x41e225['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0x2*-0xbd7+0x440*0x8+-0x39ad)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0xddb1fa&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x433a6b['SAMPLER_2D'],_0x433a6b['SAMPLER_CU'+'BE'],_0x433a6b['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x433a6b['INT_SAMPLE'+'R_2D'],_0x433a6b['SAMPLER_2D'+'_SHADOW'],_0x433a6b['SAMPLER_CU'+'BE_SHADOW'],_0x433a6b['SAMPLER_3D'],_0x433a6b['INT_SAMPLE'+'R_3D'],_0x433a6b['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x433a6b['SAMPLER_2D'+'_ARRAY'],_0x433a6b['INT_SAMPLE'+'R_2D_ARRAY'],_0x433a6b['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x433a6b['REPEAT'],_0x433a6b['CLAMP_TO_E'+'DGE'],_0x433a6b['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x433a6b['FUNC_ADD'],_0x433a6b['FUNC_SUBTR'+'ACT'],_0x433a6b['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x433a6b['MIN'],_0x433a6b['MAX']],this['glBlendFun'+'ctionColor']=[_0x433a6b['ZERO'],_0x433a6b['ONE'],_0x433a6b['SRC_COLOR'],_0x433a6b['ONE_MINUS_'+'SRC_COLOR'],_0x433a6b['DST_COLOR'],_0x433a6b['ONE_MINUS_'+'DST_COLOR'],_0x433a6b['SRC_ALPHA'],_0x433a6b['SRC_ALPHA_'+'SATURATE'],_0x433a6b['ONE_MINUS_'+'SRC_ALPHA'],_0x433a6b['DST_ALPHA'],_0x433a6b['ONE_MINUS_'+'DST_ALPHA'],_0x433a6b['CONSTANT_C'+'OLOR'],_0x433a6b['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x433a6b['ZERO'],_0x433a6b['ONE'],_0x433a6b['SRC_COLOR'],_0x433a6b['ONE_MINUS_'+'SRC_COLOR'],_0x433a6b['DST_COLOR'],_0x433a6b['ONE_MINUS_'+'DST_COLOR'],_0x433a6b['SRC_ALPHA'],_0x433a6b['SRC_ALPHA_'+'SATURATE'],_0x433a6b['ONE_MINUS_'+'SRC_ALPHA'],_0x433a6b['DST_ALPHA'],_0x433a6b['ONE_MINUS_'+'DST_ALPHA'],_0x433a6b['CONSTANT_A'+'LPHA'],_0x433a6b['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x433a6b['NEVER'],_0x433a6b['LESS'],_0x433a6b['EQUAL'],_0x433a6b['LEQUAL'],_0x433a6b['GREATER'],_0x433a6b['NOTEQUAL'],_0x433a6b['GEQUAL'],_0x433a6b['ALWAYS']],this['glStencilO'+'p']=[_0x433a6b['KEEP'],_0x433a6b['ZERO'],_0x433a6b['REPLACE'],_0x433a6b['INCR'],_0x433a6b['INCR_WRAP'],_0x433a6b['DECR'],_0x433a6b['DECR_WRAP'],_0x433a6b['INVERT']],this['glClearFla'+'g']=[0x35*-0x6d+0x1*0x11e5+0x4ac,_0x433a6b['COLOR_BUFF'+'ER_BIT'],_0x433a6b['DEPTH_BUFF'+'ER_BIT'],_0x433a6b['COLOR_BUFF'+'ER_BIT']|_0x433a6b['DEPTH_BUFF'+'ER_BIT'],_0x433a6b['STENCIL_BU'+'FFER_BIT'],_0x433a6b['STENCIL_BU'+'FFER_BIT']|_0x433a6b['COLOR_BUFF'+'ER_BIT'],_0x433a6b['STENCIL_BU'+'FFER_BIT']|_0x433a6b['DEPTH_BUFF'+'ER_BIT'],_0x433a6b['STENCIL_BU'+'FFER_BIT']|_0x433a6b['COLOR_BUFF'+'ER_BIT']|_0x433a6b['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[0x35*-0x6d+0x30b*0x4+0x3*0x377,_0x433a6b['BACK'],_0x433a6b['FRONT'],_0x433a6b['FRONT_AND_'+'BACK']],this['glFilter']=[_0x433a6b['NEAREST'],_0x433a6b['LINEAR'],_0x433a6b['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x433a6b['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x433a6b['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x433a6b['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x433a6b['POINTS'],_0x433a6b['LINES'],_0x433a6b['LINE_LOOP'],_0x433a6b['LINE_STRIP'],_0x433a6b['TRIANGLES'],_0x433a6b['TRIANGLE_S'+'TRIP'],_0x433a6b['TRIANGLE_F'+'AN']],this['glType']=[_0x433a6b['BYTE'],_0x433a6b['UNSIGNED_B'+'YTE'],_0x433a6b['SHORT'],_0x433a6b['UNSIGNED_S'+'HORT'],_0x433a6b['INT'],_0x433a6b['UNSIGNED_I'+'NT'],_0x433a6b['FLOAT'],_0x433a6b['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x433a6b['BOOL']]=Tn,this['pcUniformT'+'ype'][_0x433a6b['INT']]=_a,this['pcUniformT'+'ype'][_0x433a6b['FLOAT']]=Xs,this['pcUniformT'+'ype'][_0x433a6b['FLOAT_VEC2']]=ga,this['pcUniformT'+'ype'][_0x433a6b['FLOAT_VEC3']]=ds,this['pcUniformT'+'ype'][_0x433a6b['FLOAT_VEC4']]=Rn,this['pcUniformT'+'ype'][_0x433a6b['INT_VEC2']]=ca,this['pcUniformT'+'ype'][_0x433a6b['INT_VEC3']]=ha,this['pcUniformT'+'ype'][_0x433a6b['INT_VEC4']]=da,this['pcUniformT'+'ype'][_0x433a6b['BOOL_VEC2']]=tl,this['pcUniformT'+'ype'][_0x433a6b['BOOL_VEC3']]=sl,this['pcUniformT'+'ype'][_0x433a6b['BOOL_VEC4']]=il,this['pcUniformT'+'ype'][_0x433a6b['FLOAT_MAT2']]=_h,this['pcUniformT'+'ype'][_0x433a6b['FLOAT_MAT3']]=On,this['pcUniformT'+'ype'][_0x433a6b['FLOAT_MAT4']]=li,this['pcUniformT'+'ype'][_0x433a6b['SAMPLER_2D']]=Hx,this['pcUniformT'+'ype'][_0x433a6b['SAMPLER_CU'+'BE']]=Wx,this['pcUniformT'+'ype'][_0x433a6b['UNSIGNED_I'+'NT']]=Fn,this['pcUniformT'+'ype'][_0x433a6b['UNSIGNED_I'+'NT_VEC2']]=Nn,this['pcUniformT'+'ype'][_0x433a6b['UNSIGNED_I'+'NT_VEC3']]=kn,this['pcUniformT'+'ype'][_0x433a6b['UNSIGNED_I'+'NT_VEC4']]=Un,this['pcUniformT'+'ype'][_0x433a6b['SAMPLER_2D'+'_SHADOW']]=$x,this['pcUniformT'+'ype'][_0x433a6b['SAMPLER_CU'+'BE_SHADOW']]=Xx,this['pcUniformT'+'ype'][_0x433a6b['SAMPLER_2D'+'_ARRAY']]=jx,this['pcUniformT'+'ype'][_0x433a6b['SAMPLER_3D']]=qx,this['pcUniformT'+'ype'][_0x433a6b['INT_SAMPLE'+'R_2D']]=Yx,this['pcUniformT'+'ype'][_0x433a6b['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Kx,this['pcUniformT'+'ype'][_0x433a6b['INT_SAMPLE'+'R_CUBE']]=Zx,this['pcUniformT'+'ype'][_0x433a6b['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Qx,this['pcUniformT'+'ype'][_0x433a6b['INT_SAMPLE'+'R_3D']]=Jx,this['pcUniformT'+'ype'][_0x433a6b['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=eT,this['pcUniformT'+'ype'][_0x433a6b['INT_SAMPLE'+'R_2D_ARRAY']]=tT,this['pcUniformT'+'ype'][_0x433a6b['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=sT,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x433a6b['TEXTURE_2D']]=-0x60f+-0xe47+0x26*0x89,this['targetToSl'+'ot'][_0x433a6b['TEXTURE_CU'+'BE_MAP']]=0xd50+0x2*-0x902+0x5*0xf1,this['targetToSl'+'ot'][_0x433a6b['TEXTURE_3D']]=0x817+0x15eb+-0x1e00;let _0x208786,_0x24b644,_0x38a28d,_0x10535d,_0x4ea39a;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][Tn]=function(_0x5cfcb7,_0x3d6a7f){_0x5cfcb7['value']!==_0x3d6a7f&&(_0x433a6b['uniform1i'](_0x5cfcb7['locationId'],_0x3d6a7f),_0x5cfcb7['value']=_0x3d6a7f);},this['commitFunc'+'tion'][_a]=this['commitFunc'+'tion'][Tn],this['commitFunc'+'tion'][Xs]=function(_0x24c78f,_0x28d10d){_0x24c78f['value']!==_0x28d10d&&(_0x433a6b['uniform1f'](_0x24c78f['locationId'],_0x28d10d),_0x24c78f['value']=_0x28d10d);},this['commitFunc'+'tion'][ga]=function(_0x1069b9,_0x3cfa80){_0x4ea39a=_0x1069b9['value'],_0x208786=_0x3cfa80[-0x13*0xb1+-0x1e41+-0x1*-0x2b64],_0x24b644=_0x3cfa80[-0x2*-0x760+0xa*-0x391+0x14eb],(_0x4ea39a[-0x12df*-0x1+0x10a2+-0x2381]!==_0x208786||_0x4ea39a[-0x152*0x9+-0x231c+0x2eff]!==_0x24b644)&&(_0x433a6b['uniform2fv'](_0x1069b9['locationId'],_0x3cfa80),_0x4ea39a[-0x16*-0x151+-0x1027+-0xccf]=_0x208786,_0x4ea39a[0x171d*-0x1+0x38*0x56+-0x227*-0x2]=_0x24b644);},this['commitFunc'+'tion'][ds]=function(_0x204d66,_0x40d562){_0x4ea39a=_0x204d66['value'],_0x208786=_0x40d562[-0x18f2+-0x67*-0x5b+0x67*-0x1d],_0x24b644=_0x40d562[-0x1*0x143+0x346*0x3+-0x88e],_0x38a28d=_0x40d562[-0x885+0x721+-0x1*-0x166],(_0x4ea39a[-0x3cc*0x9+-0x5a4+0x10*0x27d]!==_0x208786||_0x4ea39a[0x4bb*0x6+0x14ec+-0x314d*0x1]!==_0x24b644||_0x4ea39a[-0x47*-0x39+0x117d+-0x214a]!==_0x38a28d)&&(_0x433a6b['uniform3fv'](_0x204d66['locationId'],_0x40d562),_0x4ea39a[-0x3*0x263+0x14a3+0x1*-0xd7a]=_0x208786,_0x4ea39a[0x15d*-0x1+0x4d6*0x8+-0x2552]=_0x24b644,_0x4ea39a[-0x194*0x4+-0xb31+0x1183]=_0x38a28d);},this['commitFunc'+'tion'][Rn]=function(_0xcc8c,_0x3f66d9){_0x4ea39a=_0xcc8c['value'],_0x208786=_0x3f66d9[-0x2506+0x607+0x1eff],_0x24b644=_0x3f66d9[-0x55f+-0x1a8c+0x1fec],_0x38a28d=_0x3f66d9[-0x1944+-0x1*0x55+0x199b],_0x10535d=_0x3f66d9[-0x210a+0x9*0x2d2+-0xd*-0x97],(_0x4ea39a[-0x10f*-0x23+0x1e1+0x1c5*-0x16]!==_0x208786||_0x4ea39a[0x57b*0x6+-0x25cc+0x4eb]!==_0x24b644||_0x4ea39a[-0x1556+-0x1add+-0x3035*-0x1]!==_0x38a28d||_0x4ea39a[0xb*-0x2c3+-0x4db*-0x1+0x1989]!==_0x10535d)&&(_0x433a6b['uniform4fv'](_0xcc8c['locationId'],_0x3f66d9),_0x4ea39a[-0x1e75+-0x4a0+0x2315]=_0x208786,_0x4ea39a[0xe5*0x1+0x40*-0x46+0x109c]=_0x24b644,_0x4ea39a[-0xea2+0x2*-0xbb9+0x2616]=_0x38a28d,_0x4ea39a[-0x2495+0xba5*-0x1+0x303d]=_0x10535d);},this['commitFunc'+'tion'][ca]=function(_0x3671ed,_0x20fd3f){_0x4ea39a=_0x3671ed['value'],_0x208786=_0x20fd3f[-0x3e2*0x1+0xbf5+0x35*-0x27],_0x24b644=_0x20fd3f[-0x30e+-0xe*0x71+-0x1*-0x93d],(_0x4ea39a[0x1309+0xc3f+-0xfa4*0x2]!==_0x208786||_0x4ea39a[0x5f3+0x9d*-0x1d+-0x1*-0xbd7]!==_0x24b644)&&(_0x433a6b['uniform2iv'](_0x3671ed['locationId'],_0x20fd3f),_0x4ea39a[0x11*-0xdd+0x2*0x2e+0xe51]=_0x208786,_0x4ea39a[-0x1d47+0x15b+0x1bed]=_0x24b644);},this['commitFunc'+'tion'][tl]=this['commitFunc'+'tion'][ca],this['commitFunc'+'tion'][ha]=function(_0x12321c,_0x446405){_0x4ea39a=_0x12321c['value'],_0x208786=_0x446405[-0x1cd1+-0x268b+-0x4*-0x10d7],_0x24b644=_0x446405[0x4*-0x506+-0x955*0x1+0x2*0xeb7],_0x38a28d=_0x446405[-0x78*0xf+0x422*0x4+-0x97e],(_0x4ea39a[-0xb*-0x5d+-0x1b1f+0x1720]!==_0x208786||_0x4ea39a[0x9*-0x19a+0x184*-0x16+0x2fc3]!==_0x24b644||_0x4ea39a[0x166*-0x15+-0x55*0xf+0x225b]!==_0x38a28d)&&(_0x433a6b['uniform3iv'](_0x12321c['locationId'],_0x446405),_0x4ea39a[-0x952+0x1811*-0x1+-0x197*-0x15]=_0x208786,_0x4ea39a[0x1*-0x1d5c+-0x1ffb+0x97*0x68]=_0x24b644,_0x4ea39a[-0x1*-0x2705+0x7f*0x1+-0x2782]=_0x38a28d);},this['commitFunc'+'tion'][sl]=this['commitFunc'+'tion'][ha],this['commitFunc'+'tion'][da]=function(_0x21fde9,_0x1ecdd7){_0x4ea39a=_0x21fde9['value'],_0x208786=_0x1ecdd7[0x5*0x44a+0x1698+-0x1*0x2c0a],_0x24b644=_0x1ecdd7[-0x24cd*0x1+0x1771*0x1+0xd5d],_0x38a28d=_0x1ecdd7[-0x1*-0x17e3+0x1ea+-0x5d*0x47],_0x10535d=_0x1ecdd7[-0xbed*-0x3+-0x251+-0x2173],(_0x4ea39a[0x17b2+-0x7*-0x4a3+-0x73*0x7d]!==_0x208786||_0x4ea39a[0xba*0x3+0x1416+0x1*-0x1643]!==_0x24b644||_0x4ea39a[0x1*-0x1877+0x1f55+-0x6dc]!==_0x38a28d||_0x4ea39a[-0x1e64+-0x16de*0x1+-0x3545*-0x1]!==_0x10535d)&&(_0x433a6b['uniform4iv'](_0x21fde9['locationId'],_0x1ecdd7),_0x4ea39a[-0xb9c+-0x2*-0x307+0x58e]=_0x208786,_0x4ea39a[-0x1*-0xc62+0x1682+-0xe5*0x27]=_0x24b644,_0x4ea39a[0x2*0x2a8+-0x390+-0x1be]=_0x38a28d,_0x4ea39a[0x1eeb+0x1*-0x16a2+-0x846]=_0x10535d);},this['commitFunc'+'tion'][il]=this['commitFunc'+'tion'][da],this['commitFunc'+'tion'][_h]=function(_0x280b09,_0x43c01f){_0x433a6b['uniformMat'+'rix2fv'](_0x280b09['locationId'],!(0x1dc*-0x15+0x15*0x4f+0x2092*0x1),_0x43c01f);},this['commitFunc'+'tion'][On]=function(_0x4988b,_0x7c683c){_0x433a6b['uniformMat'+'rix3fv'](_0x4988b['locationId'],!(-0x147c+-0x2bf*0xd+-0x706*-0x8),_0x7c683c);},this['commitFunc'+'tion'][li]=function(_0x20ed89,_0x4e81b9){_0x433a6b['uniformMat'+'rix4fv'](_0x20ed89['locationId'],!(-0x63*-0x57+-0x39*0x6b+0x9d1*-0x1),_0x4e81b9);},this['commitFunc'+'tion'][ud]=function(_0x4e2bd2,_0x3a5fa1){_0x433a6b['uniform1fv'](_0x4e2bd2['locationId'],_0x3a5fa1);},this['commitFunc'+'tion'][pd]=function(_0x573fc2,_0x35106f){_0x433a6b['uniform2fv'](_0x573fc2['locationId'],_0x35106f);},this['commitFunc'+'tion'][md]=function(_0x145a56,_0x1f2220){_0x433a6b['uniform3fv'](_0x145a56['locationId'],_0x1f2220);},this['commitFunc'+'tion'][Lp]=function(_0x1e62e1,_0x541362){_0x433a6b['uniform4fv'](_0x1e62e1['locationId'],_0x541362);},this['commitFunc'+'tion'][Fn]=function(_0x230080,_0x3fdd0f){_0x230080['value']!==_0x3fdd0f&&(_0x433a6b['uniform1ui'](_0x230080['locationId'],_0x3fdd0f),_0x230080['value']=_0x3fdd0f);},this['commitFunc'+'tion'][Nn]=function(_0x21d579,_0x51c2da){_0x4ea39a=_0x21d579['value'],_0x208786=_0x51c2da[-0x1ea0+-0x104e+0x2eee],_0x24b644=_0x51c2da[0xefd+-0x211a+0x2*0x90f],(_0x4ea39a[0x25f9+-0xcd1+-0x1928]!==_0x208786||_0x4ea39a[-0x1*0x2184+0x1e0c+-0x1*-0x379]!==_0x24b644)&&(_0x433a6b['uniform2ui'+'v'](_0x21d579['locationId'],_0x51c2da),_0x4ea39a[-0x1f16+0x7*-0x11f+0x26ef]=_0x208786,_0x4ea39a[0x2629+0x1dbc+-0x43e4]=_0x24b644);},this['commitFunc'+'tion'][kn]=function(_0x359473,_0x5b6743){_0x4ea39a=_0x359473['value'],_0x208786=_0x5b6743[0x2300+0x3*0x2c2+-0x2b46],_0x24b644=_0x5b6743[-0x709*0x1+-0x163c+-0x6*-0x4e1],_0x38a28d=_0x5b6743[0x1e5d+0x20c5+0x10*-0x3f2],(_0x4ea39a[0x1c3a+-0x167c+-0x5be]!==_0x208786||_0x4ea39a[-0xdec+-0x11d7+0x1fc4]!==_0x24b644||_0x4ea39a[0x2703+0x21f*-0xf+-0x730]!==_0x38a28d)&&(_0x433a6b['uniform3ui'+'v'](_0x359473['locationId'],_0x5b6743),_0x4ea39a[-0x75d*-0x3+0x59*0xd+-0x1a9c]=_0x208786,_0x4ea39a[-0x1537+-0x97*-0x35+-0xa0b]=_0x24b644,_0x4ea39a[0x4a3+-0x1*-0x2301+-0x3*0xd36]=_0x38a28d);},this['commitFunc'+'tion'][Un]=function(_0x29c532,_0x51d6f1){_0x4ea39a=_0x29c532['value'],_0x208786=_0x51d6f1[0x8*0x31+0x1*-0x1451+0x1*0x12c9],_0x24b644=_0x51d6f1[-0xf71+-0x1102+0x2074],_0x38a28d=_0x51d6f1[-0xd*-0x7a+-0x1*0x126a+0xc3a],_0x10535d=_0x51d6f1[-0x91f+-0x1*0x10e4+-0x1*-0x1a06],(_0x4ea39a[-0x942+0x510*-0x2+0x1362]!==_0x208786||_0x4ea39a[-0x1c*-0xff+-0x1*-0xd5a+-0x293d]!==_0x24b644||_0x4ea39a[-0x389*-0x5+0x179f+-0x294a]!==_0x38a28d||_0x4ea39a[0x2*-0xa1b+-0xa9f*0x1+-0x5e*-0x54]!==_0x10535d)&&(_0x433a6b['uniform4ui'+'v'](_0x29c532['locationId'],_0x51d6f1),_0x4ea39a[-0x1b51+0x1537*0x1+0x47*0x16]=_0x208786,_0x4ea39a[-0x2336+-0x11f8+-0x352f*-0x1]=_0x24b644,_0x4ea39a[-0x19*-0x186+0x1*-0x1e24+0x1fc*-0x4]=_0x38a28d,_0x4ea39a[0x5e*-0x3+-0x1861+0x197e]=_0x10535d);},this['commitFunc'+'tion'][Bn]=function(_0x24d1e1,_0x2a123d){_0x433a6b['uniform1iv'](_0x24d1e1['locationId'],_0x2a123d);},this['commitFunc'+'tion'][_d]=function(_0x166e24,_0x30d72d){_0x433a6b['uniform1ui'+'v'](_0x166e24['locationId'],_0x30d72d);},this['commitFunc'+'tion'][gd]=this['commitFunc'+'tion'][Bn],this['commitFunc'+'tion'][zn]=function(_0x2108c1,_0x5a4698){_0x433a6b['uniform2iv'](_0x2108c1['locationId'],_0x5a4698);},this['commitFunc'+'tion'][Sd]=function(_0x3ea9fd,_0x43f8a3){_0x433a6b['uniform2ui'+'v'](_0x3ea9fd['locationId'],_0x43f8a3);},this['commitFunc'+'tion'][yd]=this['commitFunc'+'tion'][zn],this['commitFunc'+'tion'][Vn]=function(_0x45a95b,_0x39cc8e){_0x433a6b['uniform3iv'](_0x45a95b['locationId'],_0x39cc8e);},this['commitFunc'+'tion'][vd]=function(_0x5f5198,_0xe18fa7){_0x433a6b['uniform3ui'+'v'](_0x5f5198['locationId'],_0xe18fa7);},this['commitFunc'+'tion'][xd]=this['commitFunc'+'tion'][Vn],this['commitFunc'+'tion'][gh]=function(_0x309039,_0x50d011){_0x433a6b['uniform4iv'](_0x309039['locationId'],_0x50d011);},this['commitFunc'+'tion'][Rp]=function(_0x129ba9,_0x57a64c){_0x433a6b['uniform4ui'+'v'](_0x129ba9['locationId'],_0x57a64c);},this['commitFunc'+'tion'][Op]=this['commitFunc'+'tion'][gh],this['commitFunc'+'tion'][wy]=function(_0x124edd,_0x207cf1){_0x433a6b['uniformMat'+'rix4fv'](_0x124edd['locationId'],!(-0x8e7+-0x1*-0x152d+-0x9*0x15d),_0x207cf1);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new rw(this);}['destroy'](){super['destroy']();const _0x2ad980=this['gl'];this['feedback']&&_0x2ad980['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0x162b+0xee4+-0x250e)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0x824+0x31e+-0xb41)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0x27e408){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new gt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0x27e408;}['updateBack'+'bufferForm'+'at'](_0x53acde){const _0x933f0=this['gl'];_0x933f0['bindFrameb'+'uffer'](_0x933f0['FRAMEBUFFE'+'R'],_0x53acde);const _0x41edcd=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x41edcd?Ne:Cr;}['updateBack'+'buffer'](){const _0x1cc0a9=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x1cc0a9)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(0x1086+0x3*0x4a5+-0x1e74),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x19c48e,_0x31afae){return new XT();}['createInde'+'xBufferImp'+'l'](_0x374e00){return new qT(_0x374e00);}['createShad'+'erImpl'](_0x2af396){return new JT(_0x2af396);}['createText'+'ureImpl'](_0x3d596d){return new ew(_0x3d596d);}['createRend'+'erTargetIm'+'pl'](_0x26640a){return new sw();}['pushMarker'](_0xb09023){if(Ae['browser']&&window['spector']){const _0x524ce0=Q['toString']();window['spector']['setMarker'](_0x524ce0+'\x20#');}}['popMarker'](){if(Ae['browser']&&window['spector']){const _0x5e3733=Q['toString']();_0x5e3733['length']?window['spector']['setMarker'](_0x5e3733+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x2d8415=this['gl'];let _0x16fbd7='highp';if(_0x2d8415['getShaderP'+'recisionFo'+'rmat']){const _0x2906df=_0x2d8415['getShaderP'+'recisionFo'+'rmat'](_0x2d8415['VERTEX_SHA'+'DER'],_0x2d8415['HIGH_FLOAT']),_0x18d233=_0x2d8415['getShaderP'+'recisionFo'+'rmat'](_0x2d8415['VERTEX_SHA'+'DER'],_0x2d8415['MEDIUM_FLO'+'AT']),_0x104bb8=_0x2d8415['getShaderP'+'recisionFo'+'rmat'](_0x2d8415['FRAGMENT_S'+'HADER'],_0x2d8415['HIGH_FLOAT']),_0x5e4818=_0x2d8415['getShaderP'+'recisionFo'+'rmat'](_0x2d8415['FRAGMENT_S'+'HADER'],_0x2d8415['MEDIUM_FLO'+'AT']);if(_0x2906df&&_0x18d233&&_0x104bb8&&_0x5e4818){const _0xe2a721=_0x2906df['precision']>0x248e+0x1993+-0x3e21&&_0x104bb8['precision']>0xfc8+0x1fa5+0x13*-0x27f,_0x241480=_0x18d233['precision']>0x1*-0x7ca+0x114f+-0x985&&_0x5e4818['precision']>-0x45*0x13+-0x232d+0x284c;_0xe2a721||(_0x241480?(_0x16fbd7='mediump',w['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x16fbd7='lowp',w['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x16fbd7;}['getExtensi'+'on'](){for(let _0x44146d=-0x225c+0x1416+0xe46;_0x44146d<arguments['length'];_0x44146d++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x44146d])!==-(-0xa72+0x1*0x2449+-0x19d6))return this['gl']['getExtensi'+'on'](arguments[_0x44146d]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x1071fc=this['gl'];this['supportedE'+'xtensions']=_0x1071fc['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(-0x6a*-0xa+-0x1cd9+-0x19*-0xfd),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float'),this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc');}['initialize'+'Capabiliti'+'es'](){const _0x174235=this['gl'];let _0x175603;const _0x43dfb7=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0x3d2326=_0x174235['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0x3d2326==null?void(0xe40+0x26b6+0x1a7b*-0x2):_0x3d2326['antialias'])??!(0x12a1*0x2+0x26f8+-0x5dd*0xd),this['supportsSt'+'encil']=(_0x3d2326==null?void(-0x11c4+0x666+0xb5e):_0x3d2326['stencil'])??!(0x1*0x1933+-0x1764+-0xe7*0x2),this['maxTexture'+'Size']=_0x174235['getParamet'+'er'](_0x174235['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0x174235['getParamet'+'er'](_0x174235['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0x174235['getParamet'+'er'](_0x174235['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0x174235['getParamet'+'er'](_0x174235['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0x174235['getParamet'+'er'](_0x174235['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0x174235['getParamet'+'er'](_0x174235['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0x174235['getParamet'+'er'](_0x174235['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0x174235['getParamet'+'er'](_0x174235['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0x174235['getParamet'+'er'](_0x174235['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0x174235['getParamet'+'er'](_0x174235['MAX_3D_TEX'+'TURE_SIZE']),_0x175603=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x175603?_0x174235['getParamet'+'er'](_0x175603['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x175603?_0x174235['getParamet'+'er'](_0x175603['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0x33f5fd=/\bMali-G52+/,_0x533f3c=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0x43dfb7['match'](_0x533f3c))&&!this['unmaskedRe'+'nderer']['match'](_0x33f5fd),_0x175603=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x175603?_0x174235['getParamet'+'er'](_0x175603['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):0x22c*0x5+0x163+-0xc3e;const _0xd070d2=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0xd070d2?_0x174235['getParamet'+'er'](_0x174235['MAX_SAMPLE'+'S']):0x7*0xc7+0x571+-0xae1,this['maxSamples']=Math['min'](this['maxSamples'],-0x237d+0x869*0x1+0x1b18),this['samples']=_0xd070d2&&this['backBuffer'+'Antialias']?this['maxSamples']:-0x405+0xd6c*0x1+-0x966,this['supportsAr'+'eaLights']=!Ae['android'],this['maxTexture'+'s']<=-0x1*0x2285+-0x231*0x5+0x32*0xe9&&(this['supportsAr'+'eaLights']=!(0x1*-0x200e+0xbc*-0x4+0x22ff)),this['initCapsDe'+'fines']();}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x1e90e2=this['gl'];_0x1e90e2['disable'](_0x1e90e2['BLEND']),_0x1e90e2['blendFunc'](_0x1e90e2['ONE'],_0x1e90e2['ZERO']),_0x1e90e2['blendEquat'+'ion'](_0x1e90e2['FUNC_ADD']),_0x1e90e2['colorMask'](!(-0x16a5+-0x509+0x1bae),!(-0x3*-0x657+0x1*-0x733+-0xbd2*0x1),!(-0x20be*0x1+0x3*-0x2c9+0x2919),!(0x2*0x15b+-0x5b*-0x1b+0x17*-0x89)),_0x1e90e2['blendColor'](-0xc*0x166+-0xa1*0xe+0x1996,-0x598+0x7*0x496+0x3a*-0x75,0x14d5*-0x1+-0x136d+0x2*0x1421,-0x98*0x2f+-0x4*-0x17b+0xc*0x1d5),_0x1e90e2['enable'](_0x1e90e2['CULL_FACE']),this['cullFace']=_0x1e90e2['BACK'],_0x1e90e2['cullFace'](_0x1e90e2['BACK']),_0x1e90e2['enable'](_0x1e90e2['DEPTH_TEST']),_0x1e90e2['depthFunc'](_0x1e90e2['LEQUAL']),_0x1e90e2['depthMask'](!(0x1578*-0x1+0x5*0x69+0x136b)),this['stencil']=!(0x20db+0x3*-0xa11+-0x2a7),_0x1e90e2['disable'](_0x1e90e2['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Wi,this['stencilRef'+'Front']=this['stencilRef'+'Back']=0x11b6+0x1*0x226e+-0x3424,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=-0x2700+-0x1544+0x3d43,_0x1e90e2['stencilFun'+'c'](_0x1e90e2['ALWAYS'],-0x10e3+0x171c+-0x9*0xb1,0x1b08+-0x2*0x5a6+-0x1*0xebd),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=xn,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=xn,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=xn,this['stencilWri'+'teMaskFron'+'t']=-0x3*-0x5b2+-0x1c55+0xc3e,this['stencilWri'+'teMaskBack']=0x1*-0x1369+0x1ee*0x2+0xc*0x161,_0x1e90e2['stencilOp'](_0x1e90e2['KEEP'],_0x1e90e2['KEEP'],_0x1e90e2['KEEP']),_0x1e90e2['stencilMas'+'k'](0x165*0x2+-0x1*0xb11+0x946*0x1),this['alphaToCov'+'erage']=!(0x824+0x1871*0x1+-0x2094),this['raster']=!(0x4*-0x937+-0x1d7e+-0xb0f*-0x6),_0x1e90e2['disable'](_0x1e90e2['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x1e90e2['disable'](_0x1e90e2['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(0x477*-0x1+-0xad*-0x8+-0x2*0x78),_0x1e90e2['disable'](_0x1e90e2['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=0x1231+0x1c*0x2a+-0x3cc*0x6,_0x1e90e2['clearDepth'](-0x83f+0x1c6*-0x7+0x73*0x2e),this['clearColor']=new ie(0x1*0x1c2d+0x7fc+0x2429*-0x1,-0x7fb*0x1+0x2*0xaf1+-0xde7,0x2054+0x1970+-0x39c4,0x5*-0x6f1+0x11*-0x246+0x495b),_0x1e90e2['clearColor'](0x27*0x29+0x137a+-0x19b9,-0x18ee+0x1b*-0x12a+0x385c,-0x1664+0x58*0x6b+-0x1*0xe64,0xb31+-0x9*0x3+0x102*-0xb),this['clearStenc'+'il']=-0x1df0+0x1*0x108d+0xd63*0x1,_0x1e90e2['clearStenc'+'il'](0x321+0x1*-0x71b+0x3fa),_0x1e90e2['hint'](_0x1e90e2['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x1e90e2['NICEST']),_0x1e90e2['enable'](_0x1e90e2['SCISSOR_TE'+'ST']),_0x1e90e2['pixelStore'+'i'](_0x1e90e2['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x1e90e2['NONE']),this['unpackFlip'+'Y']=!(-0xf8f+0x54*0x65+0x1c2*-0xa),_0x1e90e2['pixelStore'+'i'](_0x1e90e2['UNPACK_FLI'+'P_Y_WEBGL'],!(-0x5d+-0x5a0+0x5fe)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(-0x2*0xfc6+0x3*0x7d3+0x814),_0x1e90e2['pixelStore'+'i'](_0x1e90e2['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(0x1da3+0x1*0xf17+-0x2cb9*0x1)),_0x1e90e2['pixelStore'+'i'](_0x1e90e2['UNPACK_ALI'+'GNMENT'],-0x18b1+-0x5*0x67+0x1ab5);}['initTextur'+'eUnits'](_0x12727e=0x1d1f+-0x5*-0x17d+-0x2*0x1240){this['textureUni'+'ts']=[];for(let _0x5d16c5=0x8d0+-0xa*0x2e3+0x140e;_0x5d16c5<_0x12727e;_0x5d16c5++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=0x1af9*0x1+-0x18*-0xe3+-0x3041*0x1,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x22abdf of this['shaders'])_0x22abdf['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0x256e24 of this['shaders'])_0x256e24['restoreCon'+'text']();}['setViewpor'+'t'](_0x5b6160,_0x3f38f1,_0x325c23,_0x27b48e){(this['vx']!==_0x5b6160||this['vy']!==_0x3f38f1||this['vw']!==_0x325c23||this['vh']!==_0x27b48e)&&(this['gl']['viewport'](_0x5b6160,_0x3f38f1,_0x325c23,_0x27b48e),this['vx']=_0x5b6160,this['vy']=_0x3f38f1,this['vw']=_0x325c23,this['vh']=_0x27b48e);}['setScissor'](_0x2d4eb1,_0x5cf376,_0x32b4ce,_0x2806bf){(this['sx']!==_0x2d4eb1||this['sy']!==_0x5cf376||this['sw']!==_0x32b4ce||this['sh']!==_0x2806bf)&&(this['gl']['scissor'](_0x2d4eb1,_0x5cf376,_0x32b4ce,_0x2806bf),this['sx']=_0x2d4eb1,this['sy']=_0x5cf376,this['sw']=_0x32b4ce,this['sh']=_0x2806bf);}['setFramebu'+'ffer'](_0x2d9e7d){if(this['activeFram'+'ebuffer']!==_0x2d9e7d){const _0x13346c=this['gl'];_0x13346c['bindFrameb'+'uffer'](_0x13346c['FRAMEBUFFE'+'R'],_0x2d9e7d),this['activeFram'+'ebuffer']=_0x2d9e7d;}}['copyRender'+'Target'](_0x4be42b,_0x3b4353,_0x4bfcf7,_0x2021c9){var _0x37f19f,_0x45431f;const _0x44cb84=this['gl'];if(_0x4be42b===this['backBuffer']&&(_0x4be42b=null),_0x4bfcf7){if(_0x3b4353){if(_0x4be42b){if(!_0x4be42b['_colorBuff'+'er']||!_0x3b4353['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x1d23*-0x1+0x4*-0x278+0x2704);if(_0x4be42b['_colorBuff'+'er']['_format']!==_0x3b4353['_colorBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(-0x1*0xcc5+0x2246+0x8*-0x2b0);}}else{if(!_0x4be42b['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(-0x1c13+-0x643+0x2257);}}if(_0x2021c9&&_0x4be42b&&!_0x4be42b['_depth']){if(!_0x4be42b['_depthBuff'+'er']||!_0x3b4353['_depthBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0xb*0x20f+-0x9f5+-0xcaf*0x1);if(_0x4be42b['_depthBuff'+'er']['_format']!==_0x3b4353['_depthBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(0x23*0xd4+-0x211+-0x1aea);}Q['pushGpuMar'+'ker'](this,'COPY-RT');const _0x5a8d4a=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x3b4353,this['updateBegi'+'n']();const _0x2b0446=_0x4be42b?_0x4be42b['impl']['_glFrameBu'+'ffer']:(_0x37f19f=this['backBuffer'])==null?void(-0x463+-0x12b9+0x171c):_0x37f19f['impl']['_glFrameBu'+'ffer'],_0x226291=_0x3b4353?_0x3b4353['impl']['_glFrameBu'+'ffer']:(_0x45431f=this['backBuffer'])==null?void(-0x21*-0xb1+0x30b*-0x1+-0x13c6):_0x45431f['impl']['_glFrameBu'+'ffer'];w['assert'](_0x2b0446!==_0x226291,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x44cb84['bindFrameb'+'uffer'](_0x44cb84['READ_FRAME'+'BUFFER'],_0x2b0446),_0x44cb84['bindFrameb'+'uffer'](_0x44cb84['DRAW_FRAME'+'BUFFER'],_0x226291);const _0x68967e=_0x4be42b?_0x4be42b['width']:_0x3b4353?_0x3b4353['width']:this['width'],_0x125dfc=_0x4be42b?_0x4be42b['height']:_0x3b4353?_0x3b4353['height']:this['height'];return _0x44cb84['blitFrameb'+'uffer'](-0x1*-0x2133+-0x142f*0x1+-0x1c*0x77,0x8d*0x3+0x1*0x227+-0x1*0x3ce,_0x68967e,_0x125dfc,-0x7a6+0x214a+-0x19a4,0x32*-0xa+-0x3*-0x580+-0xe8c,_0x68967e,_0x125dfc,(_0x4bfcf7?_0x44cb84['COLOR_BUFF'+'ER_BIT']:-0x1631+-0x3*0x509+0x254c)|(_0x2021c9?_0x44cb84['DEPTH_BUFF'+'ER_BIT']:0x8de*-0x1+0x3dd*-0x2+0x12*0xec),_0x44cb84['NEAREST']),this['renderTarg'+'et']=_0x5a8d4a,_0x44cb84['bindFrameb'+'uffer'](_0x44cb84['FRAMEBUFFE'+'R'],_0x5a8d4a?_0x5a8d4a['impl']['_glFrameBu'+'ffer']:null),Q['popGpuMark'+'er'](this),!(-0x20fa+-0x163c+0x3736);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0x561f81){const _0x462aa7=_0x561f81['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0x462aa7,w['assert'](_0x462aa7),Q['pushGpuMar'+'ker'](this,'Pass:'+_0x561f81['name']+'\x20RT:'+_0x462aa7['name']),Q['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x1a1c16,height:_0x5560ae}=_0x462aa7;this['setViewpor'+'t'](-0x4d*-0x43+-0x1769+0x342,0x39*-0x17+-0x202d*-0x1+-0x1b0e,_0x1a1c16,_0x5560ae),this['setScissor'](0x13*0x7c+-0x105b*0x1+0x1*0x727,0x1*0x399+0x6*-0x109+0x29d,_0x1a1c16,_0x5560ae);const _0x5d901e=_0x561f81['colorOps'],_0x2995cd=_0x561f81['depthStenc'+'ilOps'];if(_0x5d901e!=null&&_0x5d901e['clear']||_0x2995cd['clearDepth']||_0x2995cd['clearStenc'+'il']){let _0x4af452=0x1df5+0xc27+-0x2a1c;const _0x4c2967={};_0x5d901e!=null&&_0x5d901e['clear']&&(_0x4af452|=jo,_0x4c2967['color']=[_0x5d901e['clearValue']['r'],_0x5d901e['clearValue']['g'],_0x5d901e['clearValue']['b'],_0x5d901e['clearValue']['a']]),_0x2995cd['clearDepth']&&(_0x4af452|=Yo,_0x4c2967['depth']=_0x2995cd['clearDepth'+'Value']),_0x2995cd['clearStenc'+'il']&&(_0x4af452|=ch,_0x4c2967['stencil']=_0x2995cd['clearStenc'+'ilValue']),_0x4c2967['flags']=_0x4af452,this['clear'](_0x4c2967);}w['call'](()=>{this['insideRend'+'erPass']&&w['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(-0x5*0x7bd+0x301*-0x5+0x35b6),Q['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0x38d517){var _0x19145b;Q['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0x11b65f=this['renderTarg'+'et'],_0x2cf3ac=_0x38d517['colorArray'+'Ops']['length'];if(_0x11b65f){Da['length']=-0x23f+-0x3*0x6bb+0x1670*0x1;const _0x34de3e=this['gl'];for(let _0x43ee81=-0x20ad+0x1563+-0x1*-0xb4a;_0x43ee81<_0x2cf3ac;_0x43ee81++){const _0x9b9837=_0x38d517['colorArray'+'Ops'][_0x43ee81];_0x9b9837['store']||_0x9b9837['resolve']||Da['push'](_0x34de3e['COLOR_ATTA'+'CHMENT0']+_0x43ee81);}_0x11b65f!==this['backBuffer']&&(_0x38d517['depthStenc'+'ilOps']['storeDepth']||Da['push'](_0x34de3e['DEPTH_ATTA'+'CHMENT']),_0x38d517['depthStenc'+'ilOps']['storeStenc'+'il']||Da['push'](_0x34de3e['STENCIL_AT'+'TACHMENT'])),Da['length']>-0x105b+0xdd*0x3+-0x1*-0xdc4&&_0x38d517['fullSizeCl'+'earRect']&&_0x34de3e['invalidate'+'Framebuffe'+'r'](_0x34de3e['DRAW_FRAME'+'BUFFER'],Da),_0x2cf3ac&&((_0x19145b=_0x38d517['colorOps'])!=null&&_0x19145b['resolve'])&&_0x38d517['samples']>0x85+-0xa22+-0x1*-0x99e&&_0x11b65f['autoResolv'+'e']&&_0x11b65f['resolve'](!(0x1378+0x1efd+-0x3275*0x1),!(0x1ed7+-0xef*0xb+-0x1491)),_0x11b65f['depthBuffe'+'r']&&_0x38d517['depthStenc'+'ilOps']['resolveDep'+'th']&&_0x38d517['samples']>-0x1*-0x1a61+-0xb*-0x31a+-0x142a*0x3&&_0x11b65f['autoResolv'+'e']&&_0x11b65f['resolve'](!(0x139*0x16+0x1*0x4eb+-0x1fd0),!(-0x23d8+0x1db3+0x625));for(let _0x3b1336=-0x16c6+-0x118a*0x1+-0x50a*-0x8;_0x3b1336<_0x2cf3ac;_0x3b1336++)if(_0x38d517['colorArray'+'Ops'][_0x3b1336]['genMipmaps']){const _0x2a0240=_0x11b65f['_colorBuff'+'ers'][_0x3b1336];_0x2a0240&&_0x2a0240['impl']['_glTexture']&&_0x2a0240['mipmaps']&&(Q['pushGpuMar'+'ker'](this,'MIPS'+_0x3b1336),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0xebf*-0x2+0x20d8+-0xc5*0x51)),this['bindTextur'+'e'](_0x2a0240),this['gl']['generateMi'+'pmap'](_0x2a0240['impl']['_glTarget']),Q['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(-0x263b*-0x1+0x1f9c+-0x45d6),Q['popGpuMark'+'er'](this),Q['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x9697f){this['_defaultFr'+'amebuffer']!==_0x9697f&&(this['_defaultFr'+'amebuffer']=_0x9697f,this['_defaultFr'+'amebufferC'+'hanged']=!(-0x232b+0xddb+0x1550));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(Q['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x535059=0x11b5+0xbce+-0x1d83;_0x535059<this['textureUni'+'ts']['length'];++_0x535059)for(let _0x47dbbd=-0x1*0x15a5+-0x1*0x24b7+0x33e*0x12;_0x47dbbd<-0x1*0x1b4f+0xfc1+0xb91;++_0x47dbbd)this['textureUni'+'ts'][_0x535059][_0x47dbbd]=null;}const _0x59d70b=this['renderTarg'+'et']??this['backBuffer'];w['assert'](_0x59d70b);const _0x7a1efc=_0x59d70b['impl'];_0x7a1efc['initialize'+'d']||this['initRender'+'Target'](_0x59d70b),this['setFramebu'+'ffer'](_0x7a1efc['_glFrameBu'+'ffer']),Q['popGpuMark'+'er'](this);}['updateEnd'](){Q['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x5a43db=this['renderTarg'+'et'];if(_0x5a43db&&_0x5a43db!==this['backBuffer']){_0x5a43db['_samples']>-0x48*-0x17+0x3a*0x29+-0x6d*0x25&&_0x5a43db['autoResolv'+'e']&&_0x5a43db['resolve']();const _0x44f07a=_0x5a43db['_colorBuff'+'er'];_0x44f07a&&_0x44f07a['impl']['_glTexture']&&_0x44f07a['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x1*-0xabd+0xc92+0xc*-0x27)),this['bindTextur'+'e'](_0x44f07a),this['gl']['generateMi'+'pmap'](_0x44f07a['impl']['_glTarget']));}Q['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x257b04){if(this['unpackFlip'+'Y']!==_0x257b04){this['unpackFlip'+'Y']=_0x257b04;const _0x4cac15=this['gl'];_0x4cac15['pixelStore'+'i'](_0x4cac15['UNPACK_FLI'+'P_Y_WEBGL'],_0x257b04);}}['setUnpackP'+'remultiply'+'Alpha'](_0x33c87d){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x33c87d){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x33c87d;const _0x3c28e0=this['gl'];_0x3c28e0['pixelStore'+'i'](_0x3c28e0['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x33c87d);}}['activeText'+'ure'](_0x26b6fd){this['textureUni'+'t']!==_0x26b6fd&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x26b6fd),this['textureUni'+'t']=_0x26b6fd);}['bindTextur'+'e'](_0x444d7e){const _0x5ec8d3=_0x444d7e['impl'],_0x48a58c=_0x5ec8d3['_glTarget'],_0x3e9fff=_0x5ec8d3['_glTexture'],_0x34a383=this['textureUni'+'t'],_0x1a7f66=this['targetToSl'+'ot'][_0x48a58c];this['textureUni'+'ts'][_0x34a383][_0x1a7f66]!==_0x3e9fff&&(this['gl']['bindTextur'+'e'](_0x48a58c,_0x3e9fff),this['textureUni'+'ts'][_0x34a383][_0x1a7f66]=_0x3e9fff);}['bindTextur'+'eOnUnit'](_0x75a760,_0x39d812){const _0x249bba=_0x75a760['impl'],_0x18b264=_0x249bba['_glTarget'],_0x572ad9=_0x249bba['_glTexture'],_0x23543d=this['targetToSl'+'ot'][_0x18b264];this['textureUni'+'ts'][_0x39d812][_0x23543d]!==_0x572ad9&&(this['activeText'+'ure'](_0x39d812),this['gl']['bindTextur'+'e'](_0x18b264,_0x572ad9),this['textureUni'+'ts'][_0x39d812][_0x23543d]=_0x572ad9);}['setTexture'+'Parameters'](_0x1a229d){const _0x34b157=this['gl'],_0x257152=_0x1a229d['impl']['dirtyParam'+'eterFlags'],_0x372f77=_0x1a229d['impl']['_glTarget'];if(_0x257152&Ay){let _0x10ea5b=_0x1a229d['_minFilter'];(!_0x1a229d['_mipmaps']||_0x1a229d['_compresse'+'d']&&_0x1a229d['_levels']['length']===0xe41+0x10*0x176+-0x25a0)&&(_0x10ea5b===Kh||_0x10ea5b===Zh?_0x10ea5b=Te:(_0x10ea5b===Qh||_0x10ea5b===ma)&&(_0x10ea5b=vt)),_0x34b157['texParamet'+'eri'](_0x372f77,_0x34b157['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x10ea5b]);}if(_0x257152&Cy&&_0x34b157['texParamet'+'eri'](_0x372f77,_0x34b157['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x1a229d['_magFilter']]),_0x257152&Py&&_0x34b157['texParamet'+'eri'](_0x372f77,_0x34b157['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x1a229d['_addressU']]),_0x257152&My&&_0x34b157['texParamet'+'eri'](_0x372f77,_0x34b157['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x1a229d['_addressV']]),_0x257152&Dy&&_0x34b157['texParamet'+'eri'](_0x372f77,_0x34b157['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x1a229d['_addressW']]),_0x257152&Iy&&_0x34b157['texParamet'+'eri'](_0x372f77,_0x34b157['TEXTURE_CO'+'MPARE_MODE'],_0x1a229d['_compareOn'+'Read']?_0x34b157['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x34b157['NONE']),_0x257152&Ly&&_0x34b157['texParamet'+'eri'](_0x372f77,_0x34b157['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x1a229d['_compareFu'+'nc']]),_0x257152&Ry){const _0xd47746=this['extTexture'+'FilterAnis'+'otropic'];_0xd47746&&_0x34b157['texParamet'+'erf'](_0x372f77,_0xd47746['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],Y['clamp'](Math['round'](_0x1a229d['_anisotrop'+'y']),-0x1b62+-0x1df*0xd+-0x33b6*-0x1,this['maxAnisotr'+'opy']));}}['setTexture'](_0xb28b57,_0x240923){const _0x138538=_0xb28b57['impl'];_0x138538['_glTexture']||_0x138538['initialize'](this,_0xb28b57),_0x138538['dirtyParam'+'eterFlags']>0xc*-0x277+0x4a*-0x56+0x3670||_0xb28b57['_needsUplo'+'ad']||_0xb28b57['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x240923),this['bindTextur'+'e'](_0xb28b57),_0x138538['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0xb28b57),_0x138538['dirtyParam'+'eterFlags']=0x699+-0x2156+0x1abd),(_0xb28b57['_needsUplo'+'ad']||_0xb28b57['_needsMipm'+'apsUpload'])&&(_0x138538['upload'](this,_0xb28b57),_0xb28b57['_needsUplo'+'ad']=!(0x5b*0x1f+-0x12*-0x1ec+-0x2d9c),_0xb28b57['_needsMipm'+'apsUpload']=!(-0x585+-0x1*-0x27f+0x307))):this['bindTextur'+'eOnUnit'](_0xb28b57,_0x240923);}['createVert'+'exArray'](_0x355a57){let _0x7d2d53,_0x3deee8;const _0x531873=_0x355a57['length']>-0x7*-0x40a+0x26*0x98+-0x32d5;if(_0x531873){_0x7d2d53='';for(let _0x4ec4a6=0x2*-0x1091+-0x188+0x22aa;_0x4ec4a6<_0x355a57['length'];_0x4ec4a6++){const _0x113464=_0x355a57[_0x4ec4a6];_0x7d2d53+=_0x113464['id']+_0x113464['format']['renderingH'+'ash'];}_0x3deee8=this['_vaoMap']['get'](_0x7d2d53);}if(!_0x3deee8){const _0x4f4760=this['gl'];_0x3deee8=_0x4f4760['createVert'+'exArray'](),_0x4f4760['bindVertex'+'Array'](_0x3deee8),_0x4f4760['bindBuffer'](_0x4f4760['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x4f2bc1=!(-0xf3c+0x132+-0x2cf*-0x5);for(let _0x3d59d6=0xd2d+-0x13d*0x13+0xa5a;_0x3d59d6<_0x355a57['length'];_0x3d59d6++){const _0x3858b0=_0x355a57[_0x3d59d6];_0x4f4760['bindBuffer'](_0x4f4760['ARRAY_BUFF'+'ER'],_0x3858b0['impl']['bufferId']);const _0x1cfa60=_0x3858b0['format']['elements'];for(let _0x5756b8=-0x12d0+0x163*0xe+-0x1*0x9a;_0x5756b8<_0x1cfa60['length'];_0x5756b8++){const _0x3d45d6=_0x1cfa60[_0x5756b8],_0x5b7654=Le[_0x3d45d6['name']];_0x5b7654===0x1b9f+-0x1*0x10cb+-0xad4&&(_0x4f2bc1=!(0x1c5d+-0x1*-0x821+-0x247e)),_0x3d45d6['asInt']?_0x4f4760['vertexAttr'+'ibIPointer'](_0x5b7654,_0x3d45d6['numCompone'+'nts'],this['glType'][_0x3d45d6['dataType']],_0x3d45d6['stride'],_0x3d45d6['offset']):_0x4f4760['vertexAttr'+'ibPointer'](_0x5b7654,_0x3d45d6['numCompone'+'nts'],this['glType'][_0x3d45d6['dataType']],_0x3d45d6['normalize'],_0x3d45d6['stride'],_0x3d45d6['offset']),_0x4f4760['enableVert'+'exAttribAr'+'ray'](_0x5b7654),_0x3858b0['format']['instancing']&&_0x4f4760['vertexAttr'+'ibDivisor'](_0x5b7654,0xb4b*0x3+-0x8aa*-0x3+-0x3bde);}}_0x4f4760['bindVertex'+'Array'](null),_0x4f4760['bindBuffer'](_0x4f4760['ARRAY_BUFF'+'ER'],null),_0x531873&&this['_vaoMap']['set'](_0x7d2d53,_0x3deee8),_0x4f2bc1||w['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x3deee8;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](_0x3bb441){const _0x47dbd5=this['gl'];let _0x54ef98;if(this['vertexBuff'+'ers']['length']===-0x2206+0x205+0x2002){const _0x5a3fa4=this['vertexBuff'+'ers'][-0x1*-0x19c6+0x2323+-0x3ce9];w['assert'](_0x5a3fa4['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x5a3fa4['impl']['vao']||(_0x5a3fa4['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x54ef98=_0x5a3fa4['impl']['vao'];}else _0x54ef98=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x54ef98&&(this['boundVao']=_0x54ef98,_0x47dbd5['bindVertex'+'Array'](_0x54ef98));const _0x5b22ec=_0x3bb441?_0x3bb441['impl']['bufferId']:null;_0x47dbd5['bindBuffer'](_0x47dbd5['ELEMENT_AR'+'RAY_BUFFER'],_0x5b22ec);}['draw'](_0x5bf88b,_0x5cddc9,_0x19071c,_0x3fd35a,_0x59b691=!(0x3d*-0x7b+-0x7*-0x381+-0x99*-0x8),_0x278c7d=!(0x419*-0x6+-0x107b*0x1+0x2911)){const _0x2e3451=this['shader'];if(_0x2e3451&&(this['activateSh'+'ader'](),this['shaderVali'+'d'])){const _0x59e9fc=this['gl'];_0x59b691&&(w['call'](()=>{var _0x15f957,_0x4d04cf;return this['validateAt'+'tributes'](this['shader'],(_0x15f957=this['vertexBuff'+'ers'][-0xed9*-0x1+0x84d*-0x1+-0x346*0x2])==null?void(0x454+-0x4*0x14+-0x404*0x1):_0x15f957['format'],(_0x4d04cf=this['vertexBuff'+'ers'][0x1*-0xd19+0x166+0xbb4])==null?void(0x1baf+-0xd3b+-0xb9*0x14):_0x4d04cf['format']);}),this['setBuffers'](_0x5cddc9));let _0x4a700b=-0x1e05+-0x9a1+0x32*0xcb;const _0x3d5680=_0x2e3451['impl']['samplers'];for(let _0x7dbba1=-0x2*-0xde5+-0x1389+-0x841,_0x21e8ca=_0x3d5680['length'];_0x7dbba1<_0x21e8ca;_0x7dbba1++){const _0x562f32=_0x3d5680[_0x7dbba1];let _0x22656d=_0x562f32['scopeId']['value'];if(!_0x22656d){const _0x3e9c21=_0x562f32['scopeId']['name'];w['assert'](_0x3e9c21!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),w['assert'](_0x3e9c21!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x3e9c21==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x22656d=fa(this,'white')),_0x3e9c21==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x22656d=fa(this,'pink')),_0x22656d||(w['errorOnce']('Shader\x20'+_0x2e3451['name']+'\x20requires\x20'+_0x3e9c21+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+Q['toString']()+']',_0x2e3451),_0x22656d=fa(this,'pink'));}if(_0x22656d instanceof _e){const _0x2700ad=_0x22656d;this['setTexture'](_0x2700ad,_0x4a700b),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<-0x2*0xc2d+0xf67*-0x2+0x372a&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x2700ad?w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x2700ad}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x2700ad&&w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x2700ad})),_0x562f32['slot']!==_0x4a700b&&(_0x59e9fc['uniform1i'](_0x562f32['locationId'],_0x4a700b),_0x562f32['slot']=_0x4a700b),_0x4a700b++;}else{_0x562f32['array']['length']=0xde9*-0x2+0xe2d+0x1f3*0x7;const _0x430cca=_0x22656d['length'];for(let _0x52a23c=-0x1*0x396+0x4bf+-0x129;_0x52a23c<_0x430cca;_0x52a23c++){const _0x514a32=_0x22656d[_0x52a23c];this['setTexture'](_0x514a32,_0x4a700b),_0x562f32['array'][_0x52a23c]=_0x4a700b,_0x4a700b++;}_0x59e9fc['uniform1iv'](_0x562f32['locationId'],_0x562f32['array']);}}const _0x29a9b2=_0x2e3451['impl']['uniforms'];for(let _0x5b860b=-0x10bf+0x2171+-0x10b2,_0x1b0843=_0x29a9b2['length'];_0x5b860b<_0x1b0843;_0x5b860b++){const _0x6514de=_0x29a9b2[_0x5b860b],_0x17c757=_0x6514de['scopeId'],_0x4621df=_0x6514de['version'],_0x5a33ad=_0x17c757['versionObj'+'ect']['version'];if(_0x4621df['globalId']!==_0x5a33ad['globalId']||_0x4621df['revision']!==_0x5a33ad['revision']){_0x4621df['globalId']=_0x5a33ad['globalId'],_0x4621df['revision']=_0x5a33ad['revision'];const _0x2babdc=_0x17c757['value'];_0x2babdc!=null?this['commitFunc'+'tion'][_0x6514de['dataType']](_0x6514de,_0x2babdc):w['warnOnce']('Shader\x20['+_0x2e3451['label']+(']\x20requires'+'\x20uniform\x20[')+_0x6514de['scopeId']['name']+(']\x20which\x20ha'+'s\x20not\x20been'+'\x20set,\x20whil'+'e\x20renderin'+'g\x20[')+Q['toString']()+']');}}this['transformF'+'eedbackBuf'+'fer']&&(_0x59e9fc['bindBuffer'+'Base'](_0x59e9fc['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x8f*0x28+0x10e+-0x1766,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x59e9fc['beginTrans'+'formFeedba'+'ck'](_0x59e9fc['POINTS']));const _0x2feeb3=this['glPrimitiv'+'e'][_0x5bf88b['type']],_0x4933b8=_0x5bf88b['count'];if(_0x5bf88b['indexed']){w['assert'](_0x5cddc9['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x15865f=_0x5cddc9['impl']['glFormat'],_0x5eed41=_0x5bf88b['base']*_0x5cddc9['bytesPerIn'+'dex'];_0x19071c>0x15a4+0x31b+-0x18bf?_0x59e9fc['drawElemen'+'tsInstance'+'d'](_0x2feeb3,_0x4933b8,_0x15865f,_0x5eed41,_0x19071c):_0x59e9fc['drawElemen'+'ts'](_0x2feeb3,_0x4933b8,_0x15865f,_0x5eed41);}else{const _0x3d5771=_0x5bf88b['base'];_0x19071c>0x2126+-0x273*-0xa+-0x39a4?_0x59e9fc['drawArrays'+'Instanced'](_0x2feeb3,_0x3d5771,_0x4933b8,_0x19071c):_0x59e9fc['drawArrays'](_0x2feeb3,_0x3d5771,_0x4933b8);}this['transformF'+'eedbackBuf'+'fer']&&(_0x59e9fc['endTransfo'+'rmFeedback'](),_0x59e9fc['bindBuffer'+'Base'](_0x59e9fc['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x2119+-0x16*-0xef+-0x35a3,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x5bf88b['type']]+=_0x5bf88b['count']*(_0x19071c>-0xd8*-0x14+-0xff0+-0xef?_0x19071c:-0x1*0x176b+0x1fc4+-0x858);}_0x278c7d&&this['clearVerte'+'xBuffer']();}['clear'](_0x510d50){const _0x535ff9=this['defaultCle'+'arOptions'];_0x510d50=_0x510d50||_0x535ff9;const _0x50bec0=_0x510d50['flags']??_0x535ff9['flags'];if(_0x50bec0!==0x25*-0x3b+-0xbc*0x25+0x23b3){const _0x3ef184=this['gl'];if(_0x50bec0&jo){const _0x4befb4=_0x510d50['color']??_0x535ff9['color'],_0x2d20ab=_0x4befb4[-0x1289+0x26e4+0x6c9*-0x3],_0x543e02=_0x4befb4[0x175*-0x1+0x455*0x1+0x1*-0x2df],_0x185438=_0x4befb4[0xe*0x197+0xbc3*-0x1+-0x1*0xa7d],_0x56c244=_0x4befb4[-0x1*0x844+-0xe*0x289+0x53*0x87],_0x39359d=this['clearColor'];(_0x2d20ab!==_0x39359d['r']||_0x543e02!==_0x39359d['g']||_0x185438!==_0x39359d['b']||_0x56c244!==_0x39359d['a'])&&(this['gl']['clearColor'](_0x2d20ab,_0x543e02,_0x185438,_0x56c244),this['clearColor']['set'](_0x2d20ab,_0x543e02,_0x185438,_0x56c244)),this['setBlendSt'+'ate'](pt['NOBLEND']);}if(_0x50bec0&Yo){const _0x2dfcb8=_0x510d50['depth']??_0x535ff9['depth'];_0x2dfcb8!==this['clearDepth']&&(this['gl']['clearDepth'](_0x2dfcb8),this['clearDepth']=_0x2dfcb8),this['setDepthSt'+'ate'](Yt['WRITEDEPTH']);}if(_0x50bec0&ch){const _0x8c1231=_0x510d50['stencil']??_0x535ff9['stencil'];_0x8c1231!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x8c1231),this['clearStenc'+'il']=_0x8c1231),_0x3ef184['stencilMas'+'k'](-0x1096+-0x110b*0x1+-0x1*-0x22a0),this['stencilWri'+'teMaskFron'+'t']=-0x3*-0x351+-0x1*0xb11+0x21d,this['stencilWri'+'teMaskBack']=0xda*-0xb+0x1355+0x1*-0x8f8;}_0x3ef184['clear'](this['glClearFla'+'g'][_0x50bec0]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x1749f4,_0x146af1,_0x500239,_0x1f2a69,_0x1d963b){const _0x47b8cf=this['gl'];_0x47b8cf['readPixels'](_0x1749f4,_0x146af1,_0x500239,_0x1f2a69,_0x47b8cf['RGBA'],_0x47b8cf['UNSIGNED_B'+'YTE'],_0x1d963b);}['clientWait'+'Async'](_0x4918da,_0x4ec8a9){const _0x5d2cbe=this['gl'],_0x44fdd0=_0x5d2cbe['fenceSync'](_0x5d2cbe['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],0x1f4a+-0xe51*0x2+-0x2a8);return this['submit'](),new Promise((_0x47020c,_0x99c210)=>{function _0x1cf40b(){const _0x199203=_0x5d2cbe['clientWait'+'Sync'](_0x44fdd0,_0x4918da,-0x17f1+-0x511*0x1+0x9e*0x2f);_0x199203===_0x5d2cbe['TIMEOUT_EX'+'PIRED']?setTimeout(_0x1cf40b,_0x4ec8a9):(_0x5d2cbe['deleteSync'](_0x44fdd0),_0x199203===_0x5d2cbe['WAIT_FAILE'+'D']?_0x99c210(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed')):_0x47020c());}_0x1cf40b();});}async['readPixels'+'Async'](_0x4f1041,_0x7ad1b3,_0x3d71d1,_0x4726f1,_0xf27a0e){var _0x3ff4af;const _0x59eaeb=this['gl'],_0x4d84a9=(_0x3ff4af=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(-0x1dd2+-0x1d3+0x1fa5):_0x3ff4af['impl'],_0x1b55fd=(_0x4d84a9==null?void(-0x3*0xaab+-0x1bd7+0x3bd8):_0x4d84a9['_glFormat'])??_0x59eaeb['RGBA'],_0x550005=(_0x4d84a9==null?void(-0xa25+-0x441+0xe66):_0x4d84a9['_glPixelTy'+'pe'])??_0x59eaeb['UNSIGNED_B'+'YTE'],_0x3c122f=_0x59eaeb['createBuff'+'er']();return _0x59eaeb['bindBuffer'](_0x59eaeb['PIXEL_PACK'+'_BUFFER'],_0x3c122f),_0x59eaeb['bufferData'](_0x59eaeb['PIXEL_PACK'+'_BUFFER'],_0xf27a0e['byteLength'],_0x59eaeb['STREAM_REA'+'D']),_0x59eaeb['readPixels'](_0x4f1041,_0x7ad1b3,_0x3d71d1,_0x4726f1,_0x1b55fd,_0x550005,0x3*0x5e7+-0x35*-0x2d+-0x2*0xd83),_0x59eaeb['bindBuffer'](_0x59eaeb['PIXEL_PACK'+'_BUFFER'],null),await this['clientWait'+'Async'](-0x88b+0x2*-0x506+0x1297,0xc1c*-0x1+0x1a61+-0xe35),_0x59eaeb['bindBuffer'](_0x59eaeb['PIXEL_PACK'+'_BUFFER'],_0x3c122f),_0x59eaeb['getBufferS'+'ubData'](_0x59eaeb['PIXEL_PACK'+'_BUFFER'],-0x16b5*0x1+0x16a5+0x10,_0xf27a0e),_0x59eaeb['bindBuffer'](_0x59eaeb['PIXEL_PACK'+'_BUFFER'],null),_0x59eaeb['deleteBuff'+'er'](_0x3c122f),_0xf27a0e;}['readTextur'+'eAsync'](_0x53d5e9,_0x4a341d,_0x250e68,_0x149eeb,_0x263fa7,_0x35b773){const _0x5e00b8=_0x35b773['face']??0x4b*0x55+0x96e+-0x2255,_0x46b342=_0x35b773['renderTarg'+'et']??new gt({'colorBuffer':_0x53d5e9,'depth':!(0x1*0x25e9+-0x23cd+-0x21b),'face':_0x5e00b8});w['assert'](_0x46b342['colorBuffe'+'r']===_0x53d5e9);const _0xa858f8=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0x149eeb,_0x263fa7,-0xe22+0x2*-0xa3c+0x3*0xb89,_0x53d5e9['_format'])),_0x531140=_0x35b773['data']??new(my(_0x53d5e9['_format']))(_0xa858f8);return this['setRenderT'+'arget'](_0x46b342),this['initRender'+'Target'](_0x46b342),new Promise((_0x26dbcf,_0x44754e)=>{this['readPixels'+'Async'](_0x4a341d,_0x250e68,_0x149eeb,_0x263fa7,_0x531140)['then'](_0x55275f=>{_0x35b773['renderTarg'+'et']||_0x46b342['destroy'](),_0x26dbcf(_0x55275f);})['catch'](_0x44754e);});}async['writeTextu'+'reAsync'](_0x423e21,_0x5ac1b6,_0x4099d9,_0x5937e1,_0x164b53,_0x4b59af){const _0xb09c0=this['gl'],_0x130ccc=_0x423e21['impl'],_0x1663bf=(_0x130ccc==null?void(0x2*0x219+-0x4*-0x3e+-0x295*0x2):_0x130ccc['_glFormat'])??_0xb09c0['RGBA'],_0x43e840=(_0x130ccc==null?void(0x1*0x249b+-0x5c*-0x18+0x2d3b*-0x1):_0x130ccc['_glPixelTy'+'pe'])??_0xb09c0['UNSIGNED_B'+'YTE'],_0x21e81e=_0xb09c0['createBuff'+'er']();_0xb09c0['bindBuffer'](_0xb09c0['PIXEL_UNPA'+'CK_BUFFER'],_0x21e81e),_0xb09c0['bufferData'](_0xb09c0['PIXEL_UNPA'+'CK_BUFFER'],_0x4b59af,_0xb09c0['STREAM_DRA'+'W']),_0xb09c0['bindTextur'+'e'](_0xb09c0['TEXTURE_2D'],_0x130ccc['_glTexture']),_0xb09c0['texSubImag'+'e2D'](_0xb09c0['TEXTURE_2D'],-0x9*0xbc+0x7b6+0x3*-0x5e,_0x5ac1b6,_0x4099d9,_0x5937e1,_0x164b53,_0x1663bf,_0x43e840,-0x234b+0x3e*-0x73+0xca1*0x5),_0xb09c0['bindBuffer'](_0xb09c0['PIXEL_UNPA'+'CK_BUFFER'],null),_0x423e21['_needsUplo'+'ad']=!(0x223*0x8+0x604+-0x41*0x5b),_0x423e21['_mipmapsUp'+'loaded']=!(-0xcf1*-0x1+0xb*-0x289+0xef3),await this['clientWait'+'Async'](0x6*-0x4ca+-0xce5*-0x1+0x1*0xfd7,-0x2ca+-0x1712+0x19ec);}['setAlphaTo'+'Coverage'](_0x1de7d1){this['alphaToCov'+'erage']!==_0x1de7d1&&(this['alphaToCov'+'erage']=_0x1de7d1,_0x1de7d1?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x22656f){if(this['transformF'+'eedbackBuf'+'fer']!==_0x22656f){this['transformF'+'eedbackBuf'+'fer']=_0x22656f;const _0xb045ce=this['gl'];_0x22656f?(this['feedback']||(this['feedback']=_0xb045ce['createTran'+'sformFeedb'+'ack']()),_0xb045ce['bindTransf'+'ormFeedbac'+'k'](_0xb045ce['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0xb045ce['bindTransf'+'ormFeedbac'+'k'](_0xb045ce['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x1e37d3){this['raster']!==_0x1e37d3&&(this['raster']=_0x1e37d3,_0x1e37d3?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x4a0994){if(this['stencil']!==_0x4a0994){const _0xb3819f=this['gl'];_0x4a0994?_0xb3819f['enable'](_0xb3819f['STENCIL_TE'+'ST']):_0xb3819f['disable'](_0xb3819f['STENCIL_TE'+'ST']),this['stencil']=_0x4a0994;}}['setStencil'+'Func'](_0x8eb889,_0x4ab5df,_0x5b1899){(this['stencilFun'+'cFront']!==_0x8eb889||this['stencilRef'+'Front']!==_0x4ab5df||this['stencilMas'+'kFront']!==_0x5b1899||this['stencilFun'+'cBack']!==_0x8eb889||this['stencilRef'+'Back']!==_0x4ab5df||this['stencilMas'+'kBack']!==_0x5b1899)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x8eb889],_0x4ab5df,_0x5b1899),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x8eb889,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x4ab5df,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x5b1899);}['setStencil'+'FuncFront'](_0xccfb00,_0x5b8f56,_0x1406d4){if(this['stencilFun'+'cFront']!==_0xccfb00||this['stencilRef'+'Front']!==_0x5b8f56||this['stencilMas'+'kFront']!==_0x1406d4){const _0x5bd478=this['gl'];_0x5bd478['stencilFun'+'cSeparate'](_0x5bd478['FRONT'],this['glComparis'+'on'][_0xccfb00],_0x5b8f56,_0x1406d4),this['stencilFun'+'cFront']=_0xccfb00,this['stencilRef'+'Front']=_0x5b8f56,this['stencilMas'+'kFront']=_0x1406d4;}}['setStencil'+'FuncBack'](_0xa8310b,_0x2c4b09,_0x5ccb01){if(this['stencilFun'+'cBack']!==_0xa8310b||this['stencilRef'+'Back']!==_0x2c4b09||this['stencilMas'+'kBack']!==_0x5ccb01){const _0x4863d5=this['gl'];_0x4863d5['stencilFun'+'cSeparate'](_0x4863d5['BACK'],this['glComparis'+'on'][_0xa8310b],_0x2c4b09,_0x5ccb01),this['stencilFun'+'cBack']=_0xa8310b,this['stencilRef'+'Back']=_0x2c4b09,this['stencilMas'+'kBack']=_0x5ccb01;}}['setStencil'+'Operation'](_0x13975c,_0x5cd36c,_0x54d6b,_0x2e65aa){(this['stencilFai'+'lFront']!==_0x13975c||this['stencilZfa'+'ilFront']!==_0x5cd36c||this['stencilZpa'+'ssFront']!==_0x54d6b||this['stencilFai'+'lBack']!==_0x13975c||this['stencilZfa'+'ilBack']!==_0x5cd36c||this['stencilZpa'+'ssBack']!==_0x54d6b)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x13975c],this['glStencilO'+'p'][_0x5cd36c],this['glStencilO'+'p'][_0x54d6b]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x13975c,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x5cd36c,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x54d6b),(this['stencilWri'+'teMaskFron'+'t']!==_0x2e65aa||this['stencilWri'+'teMaskBack']!==_0x2e65aa)&&(this['gl']['stencilMas'+'k'](_0x2e65aa),this['stencilWri'+'teMaskFron'+'t']=_0x2e65aa,this['stencilWri'+'teMaskBack']=_0x2e65aa);}['setStencil'+'OperationF'+'ront'](_0xbfef22,_0x1aee47,_0x19694a,_0xa296be){(this['stencilFai'+'lFront']!==_0xbfef22||this['stencilZfa'+'ilFront']!==_0x1aee47||this['stencilZpa'+'ssFront']!==_0x19694a)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0xbfef22],this['glStencilO'+'p'][_0x1aee47],this['glStencilO'+'p'][_0x19694a]),this['stencilFai'+'lFront']=_0xbfef22,this['stencilZfa'+'ilFront']=_0x1aee47,this['stencilZpa'+'ssFront']=_0x19694a),this['stencilWri'+'teMaskFron'+'t']!==_0xa296be&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0xa296be),this['stencilWri'+'teMaskFron'+'t']=_0xa296be);}['setStencil'+'OperationB'+'ack'](_0x2f24f7,_0xff55c6,_0x1b3fe3,_0x52f187){(this['stencilFai'+'lBack']!==_0x2f24f7||this['stencilZfa'+'ilBack']!==_0xff55c6||this['stencilZpa'+'ssBack']!==_0x1b3fe3)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x2f24f7],this['glStencilO'+'p'][_0xff55c6],this['glStencilO'+'p'][_0x1b3fe3]),this['stencilFai'+'lBack']=_0x2f24f7,this['stencilZfa'+'ilBack']=_0xff55c6,this['stencilZpa'+'ssBack']=_0x1b3fe3),this['stencilWri'+'teMaskBack']!==_0x52f187&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x52f187),this['stencilWri'+'teMaskBack']=_0x52f187);}['setBlendSt'+'ate'](_0x1867a7){const _0x50e9a2=this['blendState'];if(!_0x50e9a2['equals'](_0x1867a7)){const _0x6996db=this['gl'],{blend:_0x171dda,colorOp:_0x1b2595,alphaOp:_0x25a031,colorSrcFactor:_0x4dc7fc,colorDstFactor:_0x1f0953,alphaSrcFactor:_0x5db76e,alphaDstFactor:_0x3d191c}=_0x1867a7;if(_0x50e9a2['blend']!==_0x171dda&&(_0x171dda?_0x6996db['enable'](_0x6996db['BLEND']):_0x6996db['disable'](_0x6996db['BLEND'])),_0x50e9a2['colorOp']!==_0x1b2595||_0x50e9a2['alphaOp']!==_0x25a031){const _0x7317c1=this['glBlendEqu'+'ation'];_0x6996db['blendEquat'+'ionSeparat'+'e'](_0x7317c1[_0x1b2595],_0x7317c1[_0x25a031]);}(_0x50e9a2['colorSrcFa'+'ctor']!==_0x4dc7fc||_0x50e9a2['colorDstFa'+'ctor']!==_0x1f0953||_0x50e9a2['alphaSrcFa'+'ctor']!==_0x5db76e||_0x50e9a2['alphaDstFa'+'ctor']!==_0x3d191c)&&_0x6996db['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x4dc7fc],this['glBlendFun'+'ctionColor'][_0x1f0953],this['glBlendFun'+'ctionAlpha'][_0x5db76e],this['glBlendFun'+'ctionAlpha'][_0x3d191c]),_0x50e9a2['allWrite']!==_0x1867a7['allWrite']&&this['gl']['colorMask'](_0x1867a7['redWrite'],_0x1867a7['greenWrite'],_0x1867a7['blueWrite'],_0x1867a7['alphaWrite']),_0x50e9a2['copy'](_0x1867a7);}}['setBlendCo'+'lor'](_0x2a397e,_0x14cc36,_0x503ca6,_0x6ec047){const _0x28aa9e=this['blendColor'];(_0x2a397e!==_0x28aa9e['r']||_0x14cc36!==_0x28aa9e['g']||_0x503ca6!==_0x28aa9e['b']||_0x6ec047!==_0x28aa9e['a'])&&(this['gl']['blendColor'](_0x2a397e,_0x14cc36,_0x503ca6,_0x6ec047),_0x28aa9e['set'](_0x2a397e,_0x14cc36,_0x503ca6,_0x6ec047));}['setStencil'+'State'](_0x2b4c30,_0x40dc17){_0x2b4c30||_0x40dc17?(this['setStencil'+'Test'](!(0x1bad+0x256*0x9+-0x30b3)),_0x2b4c30===_0x40dc17?(this['setStencil'+'Func'](_0x2b4c30['func'],_0x2b4c30['ref'],_0x2b4c30['readMask']),this['setStencil'+'Operation'](_0x2b4c30['fail'],_0x2b4c30['zfail'],_0x2b4c30['zpass'],_0x2b4c30['writeMask'])):(_0x2b4c30??(_0x2b4c30=pi['DEFAULT']),this['setStencil'+'FuncFront'](_0x2b4c30['func'],_0x2b4c30['ref'],_0x2b4c30['readMask']),this['setStencil'+'OperationF'+'ront'](_0x2b4c30['fail'],_0x2b4c30['zfail'],_0x2b4c30['zpass'],_0x2b4c30['writeMask']),_0x40dc17??(_0x40dc17=pi['DEFAULT']),this['setStencil'+'FuncBack'](_0x40dc17['func'],_0x40dc17['ref'],_0x40dc17['readMask']),this['setStencil'+'OperationB'+'ack'](_0x40dc17['fail'],_0x40dc17['zfail'],_0x40dc17['zpass'],_0x40dc17['writeMask']))):this['setStencil'+'Test'](!(0xe53+-0x8a1+0x1f*-0x2f));}['setDepthSt'+'ate'](_0x2362ec){const _0x23effe=this['depthState'];if(!_0x23effe['equals'](_0x2362ec)){const _0x21ca10=this['gl'],_0xfe542d=_0x2362ec['write'];_0x23effe['write']!==_0xfe542d&&_0x21ca10['depthMask'](_0xfe542d);let {func:_0x533085,test:_0x463736}=_0x2362ec;!_0x463736&&_0xfe542d&&(_0x463736=!(0x1*0x1e2f+0x26*0x9d+-0x357d),_0x533085=Wi),_0x23effe['func']!==_0x533085&&_0x21ca10['depthFunc'](this['glComparis'+'on'][_0x533085]),_0x23effe['test']!==_0x463736&&(_0x463736?_0x21ca10['enable'](_0x21ca10['DEPTH_TEST']):_0x21ca10['disable'](_0x21ca10['DEPTH_TEST']));const {depthBias:_0x57f269,depthBiasSlope:_0x1199b6}=_0x2362ec;_0x57f269||_0x1199b6?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(0x9cf+-0x1f81*-0x1+-0x295*0x10),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x21ca10['polygonOff'+'set'](_0x1199b6,_0x57f269)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(0x2*-0x739+-0x1e7a+0x2ced),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x23effe['copy'](_0x2362ec);}}['setCullMod'+'e'](_0x3b9fc4){if(this['cullMode']!==_0x3b9fc4){if(_0x3b9fc4===bt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===bt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x2f2619=this['glCull'][_0x3b9fc4];this['cullFace']!==_0x2f2619&&(this['gl']['cullFace'](_0x2f2619),this['cullFace']=_0x2f2619);}this['cullMode']=_0x3b9fc4;}}['setShader'](_0x151c1c,_0x4b21c9=!(-0x2*0x1039+0x55*0x71+-0x512)){_0x151c1c!==this['shader']&&(this['shader']=_0x151c1c,this['shaderAsyn'+'cCompile']=_0x4b21c9,this['shaderVali'+'d']=void(0x876*-0x1+0x2452+-0x1bdc*0x1),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](){const {shader:_0x2531a3}=this,{impl:_0x3f90ae}=_0x2531a3;this['shaderVali'+'d']===void(-0x1cb4+-0x25c7*-0x1+-0x17*0x65)&&(_0x2531a3['failed']?this['shaderVali'+'d']=!(-0x320*0x8+-0x29*0xae+0xa93*0x5):_0x2531a3['ready']||(this['shaderAsyn'+'cCompile']?_0x3f90ae['isLinked'](this)?_0x3f90ae['finalize'](this,_0x2531a3)||(_0x2531a3['failed']=!(-0x16d5+0x1e26+-0x751),this['shaderVali'+'d']=!(0x25d8+-0x2*-0xc50+-0x3e77)):this['shaderVali'+'d']=!(0xd9c*-0x1+-0x1ed*0x5+-0x1a9*-0xe):_0x3f90ae['finalize'](this,_0x2531a3)||(_0x2531a3['failed']=!(-0x15d2+0x1645+-0x1*0x73),this['shaderVali'+'d']=!(-0xc39+-0x349*0x3+0x1615)))),this['shaderVali'+'d']===void(-0x990+0x493*0x8+-0x1*0x1b08)&&(this['gl']['useProgram'](_0x3f90ae['glProgram']),this['shaderVali'+'d']=!(0x21df+-0xc*0xab+0x1*-0x19db));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x4b8419=this['gl'];this['_vaoMap']['forEach']((_0x6444d,_0x58c6d3,_0x46cd40)=>{_0x4b8419['deleteVert'+'exArray'](_0x6444d);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x51686a){_0x51686a?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x45144d=-0x1*-0x1e32+0x1*-0x18f+0x7*-0x409){const _0x573758=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x573758['loseContex'+'t'](),setTimeout(()=>_0x573758['restoreCon'+'text'](),_0x45144d);}}let nw=-0xf82+-0x1fae*-0x1+-0x24*0x73;class br{constructor(_0x41311f,_0x47223b,_0x9da4a6,_0x5c516d=ms,_0x412f04,_0x5adc3f){this['device']=_0x41311f,this['format']=_0x47223b,this['numIndices']=_0x9da4a6,this['usage']=_0x5c516d,this['id']=nw++,this['impl']=_0x41311f['createInde'+'xBufferImp'+'l'](this,_0x5adc3f);const _0x9da9b5=hT[_0x47223b];this['bytesPerIn'+'dex']=_0x9da9b5,this['numBytes']=this['numIndices']*_0x9da9b5,_0x412f04?this['setData'](_0x412f04):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x41311f['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x2ac6eb=this['device'],_0x10791f=_0x2ac6eb['buffers']['indexOf'](this);_0x10791f!==-(-0x620+0x1c4d+0xb16*-0x2)&&_0x2ac6eb['buffers']['splice'](_0x10791f,0x22da+0x1e4b+0x2*-0x2092),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x2ac6eb),this['adjustVram'+'SizeTracki'+'ng'](_0x2ac6eb['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x19037a,_0x1954d9){w['trace'](j0,this['id']+'\x20size:\x20'+_0x1954d9+'\x20vram.ib:\x20'+_0x19037a['ib']+'\x20=>\x20'+(_0x19037a['ib']+_0x1954d9)),_0x19037a['ib']+=_0x1954d9;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x2cc1a4){return _0x2cc1a4['byteLength']!==this['numBytes']?(w['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x2cc1a4['byteLength']),!(0x1*0x1ef7+-0x1*-0x25eb+-0x44e1*0x1)):(this['storage']=_0x2cc1a4,this['unlock'](),!(0x1541+0x97*0xa+0x7*-0x3e1));}['_lockTyped'+'Array'](){const _0x142412=this['lock']();return this['format']===wr?new Uint32Array(_0x142412):this['format']===Yi?new Uint16Array(_0x142412):new Uint8Array(_0x142412);}['writeData'](_0x3c60ab,_0xff6af5){const _0x50226a=this['_lockTyped'+'Array']();if(_0x3c60ab['length']>_0xff6af5){if(ArrayBuffer['isView'](_0x3c60ab))_0x3c60ab=_0x3c60ab['subarray'](-0x1cd*0x15+-0x39e*0x2+0x2d0d,_0xff6af5),_0x50226a['set'](_0x3c60ab);else{for(let _0x50e734=-0x1*-0xe9c+0x1*0x12d6+-0x2172;_0x50e734<_0xff6af5;_0x50e734++)_0x50226a[_0x50e734]=_0x3c60ab[_0x50e734];}}else _0x50226a['set'](_0x3c60ab);this['unlock']();}['readData'](_0x22739b){const _0x100bc6=this['_lockTyped'+'Array'](),_0x345c11=this['numIndices'];if(ArrayBuffer['isView'](_0x22739b))_0x22739b['set'](_0x100bc6);else{_0x22739b['length']=0x33*-0x6f+0x10*0x23b+0x1*-0xd93;for(let _0x1c0a1d=0x13fb+-0x233*-0x11+-0x395e;_0x1c0a1d<_0x345c11;_0x1c0a1d++)_0x22739b[_0x1c0a1d]=_0x100bc6[_0x1c0a1d];}return _0x345c11;}}class ow{constructor(){h(this,'clearValue',new ie(0x10f5+-0x101*-0x1f+-0x1*0x3014,-0x106*-0x4+-0x9a1+0x6d*0xd,0x1baa+0x4*0x4db+-0xe*0x35d,-0x9*-0x16c+0x1dfc+-0x2ac7)),h(this,'clearValue'+'Linear',new ie(0x1*-0x115f+-0xb*0x1ee+0xf1*0x29,-0x19bd+0xdbc+0xc01,0x4bd*-0x1+-0xbeb+0x68*0x29,0x769*0x1+-0x19ed*-0x1+0x7*-0x4c3)),h(this,'clear',!(-0x2198+-0x1733+-0x2*-0x1c66)),h(this,'store',!(0xb4a+-0xee5+0x39c)),h(this,'resolve',!(-0x317+0x1501*-0x1+0x202*0xc)),h(this,'genMipmaps',!(-0x3b*-0x4f+-0x1*0x2461+-0xb*-0x1a7));}}class lw{constructor(){h(this,'clearDepth'+'Value',-0x11*0x2b+-0x74+0x10*0x35),h(this,'clearStenc'+'ilValue',0x2*0x1346+-0x1b40+0x4*-0x2d3),h(this,'clearDepth',!(0x14b*-0x9+0xc2*0x9+0x4d2)),h(this,'clearStenc'+'il',!(0xc61*0x1+0xb3f+-0x1*0x179f)),h(this,'storeDepth',!(-0x1d7d+0x971+0x1*0x140d)),h(this,'resolveDep'+'th',!(0x20d4+0x1ad0+-0x15*0x2d7)),h(this,'storeStenc'+'il',!(-0x2b5*-0xd+-0x1cac+0xc*-0x8b));}}class ys{constructor(_0x4cece9){h(this,'_name'),h(this,'device'),h(this,'_enabled',!(-0x157c*-0x1+0x88*0x35+-0x31a4)),h(this,'_skipStart',!(-0x27a*0x3+-0x9c2*0x2+0x1*0x1af3)),h(this,'_skipEnd',!(-0x236d+-0x930+0x2c9e*0x1)),h(this,'executeEna'+'bled',!(0xb*0x28d+-0x49e+0x161*-0x11)),h(this,'renderTarg'+'et'),h(this,'_options'),h(this,'samples',-0x4ae*0x1+0x6cd*-0x1+-0x1*-0xb7b),h(this,'colorArray'+'Ops',[]),h(this,'depthStenc'+'ilOps'),h(this,'requiresCu'+'bemaps',!(-0x680+-0x1dba+0x2*0x121d)),h(this,'fullSizeCl'+'earRect',!(0x895+-0xe0+-0x7b5)),h(this,'beforePass'+'es',[]),h(this,'afterPasse'+'s',[]),(w['assert'](_0x4cece9),this['device']=_0x4cece9);}get['colorOps'](){return this['colorArray'+'Ops'][-0x172a*0x1+0x713*-0x2+0x2550];}set['name'](_0x2af8f6){this['_name']=_0x2af8f6;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0x41064f){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0x41064f;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0xef7652){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0xef7652;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0xd289bd){this['_options']=_0xd289bd,_0xd289bd&&(this['scaleX']=this['scaleX']??0x3*-0x727+0x5*0x14+-0x3a*-0x5d,this['scaleY']=this['scaleY']??0xcc*0x1c+0x7e+-0x16cd*0x1);}get['options'](){return this['_options'];}['init'](_0x5a8b4e=null,_0x4e1c3d){this['options']=_0x4e1c3d,this['renderTarg'+'et']=_0x5a8b4e,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],0x42e+0x62*0x49+-0x201f),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0x59aebf,_0x119c1f,_0x1b4d3b,_0x5cbed8;const _0x3b7f3a=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new lw(),_0x3b7f3a!=null&&_0x3b7f3a['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(-0x18a*0x5+-0x10c0+0x37e*0x7));const _0x5899d4=_0x3b7f3a?((_0x59aebf=_0x3b7f3a['_colorBuff'+'ers'])==null?void(0x24f4+0x3cc+-0x1460*0x2):_0x59aebf['length'])??-0x211a+0x23b2+-0x298:0x23b2+0x36+-0xd*0x2c3;this['colorArray'+'Ops']['length']=-0xd60+-0x1f19+0x2c79;for(let _0x5280ad=0x1645*0x1+-0x5*-0x347+-0x26a8;_0x5280ad<_0x5899d4;_0x5280ad++){const _0x220e8=new ow();this['colorArray'+'Ops'][_0x5280ad]=_0x220e8,this['samples']===0x73c+0x9*0x225+-0x1a88&&(_0x220e8['store']=!(0x171c+0x56f*0x3+0xb1*-0x39),_0x220e8['resolve']=!(-0x1a97+0x1*0x21f3+-0x75b));const _0x160aa5=(_0x1b4d3b=(_0x119c1f=this['renderTarg'+'et'])==null?void(-0x5b9*-0x5+-0xf2*0x17+-0x1*0x6df):_0x119c1f['_colorBuff'+'ers'])==null?void(0x1*-0x6b+0x7fe+-0x793):_0x1b4d3b[_0x5280ad];if((_0x5cbed8=this['renderTarg'+'et'])!=null&&_0x5cbed8['mipmaps']&&(_0x160aa5!=null&&_0x160aa5['mipmaps'])){const _0x28b512=dn(_0x160aa5['_format']);_0x220e8['genMipmaps']=!_0x28b512;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x3ad58f=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x49c994=Math['floor'](_0x3ad58f['width']*this['scaleX']),_0x40d5a3=Math['floor'](_0x3ad58f['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x49c994,_0x40d5a3);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0xce4bb9){this['_enabled']!==_0xce4bb9&&(this['_enabled']=_0xce4bb9,_0xce4bb9?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x5cb223){const _0x20edd6=this['colorArray'+'Ops']['length'];for(let _0x4e4599=0x4*0x8c3+-0x85*0x7+-0x1f69;_0x4e4599<_0x20edd6;_0x4e4599++){const _0x45ff28=this['colorArray'+'Ops'][_0x4e4599];_0x5cb223&&(_0x45ff28['clearValue']['copy'](_0x5cb223),_0x45ff28['clearValue'+'Linear']['linear'](_0x5cb223)),_0x45ff28['clear']=!!_0x5cb223;}}['setClearDe'+'pth'](_0x1e46ad){_0x1e46ad&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x1e46ad),this['depthStenc'+'ilOps']['clearDepth']=_0x1e46ad!==void(0x1217+-0x241f+0x1208*0x1);}['setClearSt'+'encil'](_0x930237){_0x930237&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x930237),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x930237!==void(0x209b*-0x1+-0x1*-0x1a70+0x62b);}['render'](){if(this['enabled']){const _0x3319c0=this['device'],_0x33f082=this['renderTarg'+'et']!==void(0x1*-0x14ab+-0x3a*0x5+0x15cd*0x1);w['call'](()=>{this['log'](_0x3319c0,_0x3319c0['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x33f082&&!this['_skipStart']&&_0x3319c0['startRende'+'rPass'](this),this['execute'](),_0x33f082&&!this['_skipEnd']&&_0x3319c0['endRenderP'+'ass'](this)),this['after'](),_0x3319c0['renderPass'+'Index']++;}}['log'](_0x4b8486,_0x2be689=0x2ec*0x6+-0x247d+-0x17*-0xd3){var _0x1c6a49,_0x27aafa,_0x17f525;if(mi['get'](Pm)||mi['get'](cn)){const _0x36e094=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x4b8486['backBuffer']:null),_0x573d5c=!!(_0x36e094!=null&&_0x36e094['impl']['assignedCo'+'lorTexture'])||(_0x36e094==null?void(-0x1a2d*0x1+-0x826+0x2253):_0x36e094['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(0x1693*-0x1+0x8b8+0xddb),_0x7f76eb=((_0x1c6a49=_0x36e094==null?void(-0x5*-0x3ef+-0x93*-0x1+-0x143e):_0x36e094['_colorBuff'+'ers'])==null?void(-0x17a9+-0x1599+-0x16a1*-0x2):_0x1c6a49['length'])??(_0x573d5c?0x25*-0x18+0x1aaa+-0x1731:-0x96b*0x1+0x23bf*0x1+-0x1a54),_0x2d6af7=_0x36e094==null?void(-0x1e55+0xe8*0x10+0xfd5):_0x36e094['depth'],_0x3bdceb=_0x36e094==null?void(-0x16b7*0x1+-0x3*-0x927+-0x2*0x25f):_0x36e094['stencil'],_0x1ea64a=_0x36e094==null?void(0x3*0x4cf+0x5a6+-0x1413*0x1):_0x36e094['mipLevel'],_0x2ed19f=_0x36e094?'\x20RT:\x20'+(_0x36e094?_0x36e094['name']:'NULL')+'\x20'+(_0x7f76eb>-0x23b8+-0x3a*0x70+0x154*0x2e?'[Color'+(_0x7f76eb>0x1ff*-0xd+0x10fa*0x2+-0x800?'\x20x\x20'+_0x7f76eb:'')+']':'')+(_0x2d6af7?'[Depth]':'')+(_0x3bdceb?'[Stencil]':'')+'\x20'+_0x36e094['width']+'\x20x\x20'+_0x36e094['height']+(this['samples']>-0x19*-0x4+0x18d4+-0x1938?'\x20samples:\x20'+this['samples']:'')+(_0x1ea64a>0x23f+-0x7*-0x46f+0x58c*-0x6?'\x20mipLevel:'+'\x20'+_0x1ea64a:''):'',_0x100022=this['_skipStart']?'++':_0x2be689['toString']()['padEnd'](-0x1803+0x1*-0xbf+0x18c4*0x1,'\x20');w['trace'](Pm,_0x100022+':\x20'+this['name']['padEnd'](-0x1af2+0xd7e+-0x1b1*-0x8,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0x2ed19f['padEnd'](0x2*0xed5+0x13*-0xb1+-0x1069*0x1));for(let _0x471004=-0x2d2+-0x1d99+0xc1*0x2b;_0x471004<_0x7f76eb;_0x471004++){const _0x27f588=this['colorArray'+'Ops'][_0x471004],_0x47fb4e=(_0x27aafa=Nt['get'](_0x573d5c?_0x4b8486['backBuffer'+'Format']:_0x36e094['getColorBu'+'ffer'](_0x471004)['format']))==null?void(0x211*0x11+-0x1265+-0x6*0x2ca):_0x27aafa['name'];w['trace'](cn,'\x20\x20\x20\x20color['+_0x471004+']:\x20'+(_0x27f588['clear']?'clear':'load')+'->'+(_0x27f588['store']?'store':'discard')+'\x20'+(_0x27f588['resolve']?'resolve\x20':'')+(_0x27f588['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x47fb4e+']\x20'+(_0x27f588['clear']?'[clear:\x20'+_0x27f588['clearValue']['toString'](!(-0x11*0x20b+0x1ebf+0x3fc),!(0x25fa+0xdd4+-0x13*0x2ba))+']':''));}if(this['depthStenc'+'ilOps']){const _0xb761e4=''+(_0x36e094['depthBuffe'+'r']?'\x20[format:\x20'+((_0x17f525=Nt['get'](_0x36e094['depthBuffe'+'r']['format']))==null?void(0x1823+-0x1a63+0x48*0x8):_0x17f525['name'])+']':'');_0x2d6af7&&w['trace'](cn,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0xb761e4+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x3bdceb&&w['trace'](cn,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0xb761e4+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function cw(_0x6d88ca){this['array'][this['index']]=_0x6d88ca;}function hw(_0x195110,_0x419dec){this['array'][this['index']]=_0x195110,this['array'][this['index']+(0x1c1*0xe+-0x1*0x943+-0xf4a)]=_0x419dec;}function dw(_0x1994b3,_0x53a4e9,_0x5b1443){this['array'][this['index']]=_0x1994b3,this['array'][this['index']+(0x1eb+0xcd2*-0x1+0xae8)]=_0x53a4e9,this['array'][this['index']+(0x18f8+0xf9f+-0x2895)]=_0x5b1443;}function fw(_0x4bab7b,_0x28bcca,_0x5a180d,_0x383678){this['array'][this['index']]=_0x4bab7b,this['array'][this['index']+(-0x2523+-0x1908+0x3e2c)]=_0x28bcca,this['array'][this['index']+(0x1a2+-0x1*-0x10f7+-0x1*0x1297)]=_0x5a180d,this['array'][this['index']+(-0xb92+-0x953+-0x4*-0x53a)]=_0x383678;}function uw(_0x3df70f,_0x1b4dc2,_0x5bd075){this['array'][_0x3df70f]=_0x1b4dc2[_0x5bd075];}function pw(_0x31e79c,_0x3b01f3,_0x3c6d86){this['array'][_0x31e79c]=_0x3b01f3[_0x3c6d86],this['array'][_0x31e79c+(-0x1187*-0x2+0x1e1+-0xa3*0x3a)]=_0x3b01f3[_0x3c6d86+(0x1a2e+0x20b9*-0x1+-0x1*-0x68c)];}function mw(_0x5a3b70,_0x3a02d0,_0x124ed2){this['array'][_0x5a3b70]=_0x3a02d0[_0x124ed2],this['array'][_0x5a3b70+(-0x1cc+0xa68+-0x89b)]=_0x3a02d0[_0x124ed2+(0x8e9*-0x3+-0xa*-0x151+0x9*0x182)],this['array'][_0x5a3b70+(-0x1c5a+-0xe58+0x155a*0x2)]=_0x3a02d0[_0x124ed2+(0x8*-0x3e6+-0x1cec+0x3c1e)];}function _w(_0x5c6ccd,_0x48948d,_0x2b2cb1){this['array'][_0x5c6ccd]=_0x48948d[_0x2b2cb1],this['array'][_0x5c6ccd+(-0x7*-0xeb+-0x1*0x5d1+-0x9b)]=_0x48948d[_0x2b2cb1+(-0x218c+0x1*0x1f21+-0x7c*-0x5)],this['array'][_0x5c6ccd+(0x159b*-0x1+-0x768+0x1d05)]=_0x48948d[_0x2b2cb1+(0x2*-0xa8f+-0xcdc+-0x3c*-0x91)],this['array'][_0x5c6ccd+(-0x5bf+0x669+-0xa7)]=_0x48948d[_0x2b2cb1+(-0x5b*-0x8+-0x14*0x1f+-0x69)];}function gw(_0x2dd970,_0x1d4040,_0x33ab43){_0x1d4040[_0x33ab43]=this['array'][_0x2dd970];}function Sw(_0xc987e5,_0x16d57b,_0x51407a){_0x16d57b[_0x51407a]=this['array'][_0xc987e5],_0x16d57b[_0x51407a+(-0x1c*0x47+-0x4e*-0x7b+0x3*-0x9e7)]=this['array'][_0xc987e5+(0x775+-0x312*0xc+0x1d64)];}function yw(_0x4f1b0e,_0xe7a93f,_0x233636){_0xe7a93f[_0x233636]=this['array'][_0x4f1b0e],_0xe7a93f[_0x233636+(-0xd39*0x1+-0x12*0x83+0x1*0x1670)]=this['array'][_0x4f1b0e+(-0x1376+0x1b36+-0x7bf)],_0xe7a93f[_0x233636+(-0x61b+-0x3*-0x509+-0x8fe)]=this['array'][_0x4f1b0e+(-0x542*-0x4+-0x2*0xaef+-0x6c*-0x2)];}function vw(_0x31d7d1,_0x3d2891,_0xddc674){_0x3d2891[_0xddc674]=this['array'][_0x31d7d1],_0x3d2891[_0xddc674+(0x21fa+0x1898+-0x2f*0x13f)]=this['array'][_0x31d7d1+(-0x185*0xb+-0x1*-0x1ec1+-0x1*0xe09)],_0x3d2891[_0xddc674+(-0x2*0x48b+0xdf*0x8+0x220)]=this['array'][_0x31d7d1+(-0x1df0+-0x1995+0x3787*0x1)],_0x3d2891[_0xddc674+(-0x5*-0x25f+0xc95+-0x186d)]=this['array'][_0x31d7d1+(0xc5*0x12+-0x6*0x11e+-0x723)];}class xw{constructor(_0x2c50a6,_0x223a66,_0x625ac0){switch(this['index']=0x1*0xcb3+0x17d*-0x7+-0x248,this['numCompone'+'nts']=_0x223a66['numCompone'+'nts'],_0x625ac0['interleave'+'d']?this['array']=new wn[_0x223a66['dataType']](_0x2c50a6,_0x223a66['offset']):this['array']=new wn[_0x223a66['dataType']](_0x2c50a6,_0x223a66['offset'],_0x625ac0['vertexCoun'+'t']*_0x223a66['numCompone'+'nts']),this['stride']=_0x223a66['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x223a66['numCompone'+'nts']){case 0x1*-0x23ea+0x177a+0xc71:this['set']=cw,this['getToArray']=gw,this['setFromArr'+'ay']=uw;break;case-0x1*-0x1114+0xf6b+-0x207d*0x1:this['set']=hw,this['getToArray']=Sw,this['setFromArr'+'ay']=pw;break;case-0x1*0x146f+0x3*-0xb29+-0x37*-0xfb:this['set']=dw,this['getToArray']=yw,this['setFromArr'+'ay']=mw;break;case 0x1a3f*0x1+0x104c+-0x2a87:this['set']=fw,this['getToArray']=vw,this['setFromArr'+'ay']=_w;break;}}['get'](_0x81e116){return this['array'][this['index']+_0x81e116];}['set'](_0x16619f,_0x3cc102,_0x13c520,_0x3462ab){}['getToArray'](_0x2ae771,_0x81fd07,_0x52bf2d){}['setFromArr'+'ay'](_0x5d83e0,_0x2bead8,_0xa6d726){}}class Uo{constructor(_0x22698c){this['vertexBuff'+'er']=_0x22698c,this['vertexForm'+'atSize']=_0x22698c['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x64179e=this['vertexBuff'+'er']['getFormat']();for(let _0x4a44e8=0x74d*-0x5+0x1*0x18df+0xba2;_0x4a44e8<_0x64179e['elements']['length'];_0x4a44e8++){const _0x404715=_0x64179e['elements'][_0x4a44e8];this['accessors'][_0x4a44e8]=new xw(this['buffer'],_0x404715,_0x64179e),this['element'][_0x404715['name']]=this['accessors'][_0x4a44e8];}}['next'](_0x576597=0x1fba+-0x1f83+-0x36){let _0x571496=-0xff7+-0x216e+-0x119*-0x2d;const _0x4fc7a8=this['accessors'],_0xa0fcbf=this['accessors']['length'];for(;_0x571496<_0xa0fcbf;){const _0x5e27ac=_0x4fc7a8[_0x571496++];_0x5e27ac['index']+=_0x576597*_0x5e27ac['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0x42b2e2,_0x3f27c9,_0x5539be){const _0x36500f=this['element'][_0x42b2e2];if(_0x36500f){_0x5539be>this['vertexBuff'+'er']['numVertice'+'s']&&(w['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x5539be+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x5539be=this['vertexBuff'+'er']['numVertice'+'s']);const _0x31e347=_0x36500f['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x7dd4b4=0x445*0x2+-0x9*0x2d+0x6f5*-0x1;for(let _0x4bd676=-0x3*-0x1a1+0x24e4+-0x29c7;_0x4bd676<_0x5539be;_0x4bd676++)_0x36500f['setFromArr'+'ay'](_0x7dd4b4,_0x3f27c9,_0x4bd676*_0x31e347),_0x7dd4b4+=_0x36500f['stride'];}else{if(_0x3f27c9['length']>_0x5539be*_0x31e347){const _0x29179a=_0x5539be*_0x31e347;if(ArrayBuffer['isView'](_0x3f27c9))_0x3f27c9=_0x3f27c9['subarray'](0x630+0x1cc0+-0x1*0x22f0,_0x29179a),_0x36500f['array']['set'](_0x3f27c9);else{for(let _0x2d0af4=0x1dad+0x8ea+0x10b*-0x25;_0x2d0af4<_0x29179a;_0x2d0af4++)_0x36500f['array'][_0x2d0af4]=_0x3f27c9[_0x2d0af4];}}else _0x36500f['array']['set'](_0x3f27c9);}}}['readData'](_0x69c305,_0x3f924f){const _0x2616ca=this['element'][_0x69c305];let _0x4527e0=0x1a72+-0x109c+-0x9d6;if(_0x2616ca){_0x4527e0=this['vertexBuff'+'er']['numVertice'+'s'];let _0x5713c5;const _0x3d18c7=_0x2616ca['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x3f924f)&&(_0x3f924f['length']=-0x97d*0x1+0x1*-0x832+0x11af),_0x2616ca['index']=-0xce*0x9+0x46c*0x8+0x1c22*-0x1;let _0x39774a=0xbd5+-0x7d*0x41+0x1c*0xb6;for(_0x5713c5=0x953+0x3*0x531+-0x18e6;_0x5713c5<_0x4527e0;_0x5713c5++)_0x2616ca['getToArray'](_0x39774a,_0x3f924f,_0x5713c5*_0x3d18c7),_0x39774a+=_0x2616ca['stride'];}else{if(ArrayBuffer['isView'](_0x3f924f))_0x3f924f['set'](_0x2616ca['array']);else{_0x3f924f['length']=-0x1*0x45d+-0x185d+-0x1*-0x1cba;const _0x55a843=_0x4527e0*_0x3d18c7;for(_0x5713c5=0x268e+-0x225b+-0x433;_0x5713c5<_0x55a843;_0x5713c5++)_0x3f924f[_0x5713c5]=_0x2616ca['array'][_0x5713c5];}}}return _0x4527e0;}}const Tw=-(0x11c*0x1d+0x116b+0x1*-0x3196);class ww{constructor(_0xd1dd58,_0x5e5337){h(this,'key',null),h(this,'element',null),h(this,'event',null),_0x5e5337&&(this['key']=_0x5e5337['keyCode'],this['element']=_0x5e5337['target'],this['event']=_0x5e5337);}}const jl=new ww();function Vd(_0x578bb6){return jl['key']=_0x578bb6['keyCode'],jl['element']=_0x578bb6['target'],jl['event']=_0x578bb6,jl;}function Yl(_0x4b91c2){return typeof _0x4b91c2=='string'?_0x4b91c2['toUpperCas'+'e']()['charCodeAt'](-0x10bd*-0x1+-0x1*-0x4a3+0x6*-0x390):_0x4b91c2;}const Ew={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class h_ extends me{constructor(_0xe156c5,_0xa0d81={}){super(),h(this,'_element',null),h(this,'_keymap',{}),h(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0xe156c5&&this['attach'](_0xe156c5),this['preventDef'+'ault']=_0xa0d81['preventDef'+'ault']||!(-0x1aba+0x1a49+-0x39*-0x2),this['stopPropag'+'ation']=_0xa0d81['stopPropag'+'ation']||!(0x1*0x6f7+0x78d+0x2e7*-0x5));}['attach'](_0x570458){this['_element']&&this['detach'](),this['_element']=_0x570458,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(0x12*0x13+0x57*-0x67+0xa*0x35e)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(-0xce9+-0x1*-0x23bd+-0x16d3)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(-0x39*0x95+0xb7a+0x15b4)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0xd46+-0x200b*0x1+0x12c6)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(-0x9*0x1d4+0x2fb+0xd7a));}['detach'](){if(!this['_element']){w['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x176*-0x5+0x1*-0x1181+-0x10*-0x18d)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(-0x16fb+0x68*0x4d+-0x84c*0x1));}['toKeyIdent'+'ifier'](_0x5bd1aa){_0x5bd1aa=Yl(_0x5bd1aa);const _0xa1dbd4=Ew[_0x5bd1aa['toString']()];if(_0xa1dbd4)return _0xa1dbd4;let _0xbd8102=_0x5bd1aa['toString'](0x2037+0x219e+-0x41c5)['toUpperCas'+'e']();const _0x3c3e75=_0xbd8102['length'];for(let _0x35cc03=0x2*-0x12e4+-0x45b+0x2a23;_0x35cc03<-0x1ca*0xb+-0x11e1+0x2593*0x1-_0x3c3e75;_0x35cc03++)_0xbd8102='0'+_0xbd8102;return'U+'+_0xbd8102;}['_handleKey'+'Down'](_0x5c3539){const _0x346054=_0x5c3539['keyCode']||_0x5c3539['charCode'];if(_0x346054===void(0x5*-0x7c3+0x1094+0x163b))return;const _0x3b84f7=this['toKeyIdent'+'ifier'](_0x346054);this['_keymap'][_0x3b84f7]=!(-0x2207+0x14*-0x1f4+0xa71*0x7),this['fire']('keydown',Vd(_0x5c3539)),this['preventDef'+'ault']&&_0x5c3539['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x5c3539['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x36841f){const _0x4f09b2=_0x36841f['keyCode']||_0x36841f['charCode'];if(_0x4f09b2===void(0x962+-0xa46+0xe4))return;const _0x591f9f=this['toKeyIdent'+'ifier'](_0x4f09b2);delete this['_keymap'][_0x591f9f],this['fire']('keyup',Vd(_0x36841f)),this['preventDef'+'ault']&&_0x36841f['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x36841f['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x479759){this['fire']('keypress',Vd(_0x479759)),this['preventDef'+'ault']&&_0x479759['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x479759['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x14222 in this['_lastmap'])delete this['_lastmap'][_0x14222];for(const _0x321a6d in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0x321a6d)&&(this['_lastmap'][_0x321a6d]=this['_keymap'][_0x321a6d]);}['isPressed'](_0x265e33){const _0x4d83f9=Yl(_0x265e33),_0x3fca20=this['toKeyIdent'+'ifier'](_0x4d83f9);return!!this['_keymap'][_0x3fca20];}['wasPressed'](_0x559c86){const _0x2cdf45=Yl(_0x559c86),_0x42de50=this['toKeyIdent'+'ifier'](_0x2cdf45);return!!this['_keymap'][_0x42de50]&&!this['_lastmap'][_0x42de50];}['wasRelease'+'d'](_0x58ffd5){const _0x5da1ca=Yl(_0x58ffd5),_0x1d0be7=this['toKeyIdent'+'ifier'](_0x5da1ca);return!this['_keymap'][_0x1d0be7]&&!!this['_lastmap'][_0x1d0be7];}}h(h_,'EVENT_KEYD'+'OWN','keydown'),h(h_,'EVENT_KEYU'+'P','keyup');function ru(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ta{constructor(_0x473459,_0x41b13e){h(this,'x',0x75b+0xd75+-0x14d0),h(this,'y',-0x9d*0x1+-0x1*-0x267a+0x25dd*-0x1),h(this,'dx',-0x21f5*0x1+-0x19c9+-0x13ea*-0x3),h(this,'dy',-0x71*-0x22+0x1a7d*-0x1+0xb7b*0x1),h(this,'button',Tw),h(this,'wheelDelta',-0x1*0x1d65+-0xb57+0x28bc),h(this,'element'),h(this,'ctrlKey',!(-0x1aaf+-0x19d*-0xa+-0x182*-0x7)),h(this,'altKey',!(0xf75+0x117b+0x20ef*-0x1)),h(this,'shiftKey',!(0x1999+0x1*0x13d6+0x5*-0x916)),h(this,'metaKey',!(0x1a94+-0x1*-0x15d1+0x4c*-0xa3)),h(this,'event');let _0x1eaa72={'x':0x0,'y':0x0};if(_0x41b13e){if(_0x41b13e instanceof ta)throw Error('Expected\x20M'+'ouseEvent');_0x1eaa72=_0x473459['_getTarget'+'Coords'](_0x41b13e);}else _0x41b13e={};if(_0x1eaa72)this['x']=_0x1eaa72['x'],this['y']=_0x1eaa72['y'];else{if(ru())this['x']=0x16*0x31+-0x1031*0x2+-0x1c2c*-0x1,this['y']=0x11*0x75+-0x861+0x9c;else return;}_0x41b13e['type']==='wheel'&&(_0x41b13e['deltaY']>-0x16fb+0x13dc+0x2f*0x11?this['wheelDelta']=-0x744+-0x1313+0x1a58:_0x41b13e['deltaY']<0x1*0x3c1+-0x1f5e+0x1b9d&&(this['wheelDelta']=-(-0xcf2+0x200a*-0x1+0x417*0xb))),ru()?(this['dx']=_0x41b13e['movementX']||_0x41b13e['webkitMove'+'mentX']||_0x41b13e['mozMovemen'+'tX']||-0x4*-0x238+-0x57d*-0x1+-0xe5d*0x1,this['dy']=_0x41b13e['movementY']||_0x41b13e['webkitMove'+'mentY']||_0x41b13e['mozMovemen'+'tY']||-0x2299+0x2459+-0x1c0):(this['dx']=this['x']-_0x473459['_lastX'],this['dy']=this['y']-_0x473459['_lastY']),(_0x41b13e['type']==='mousedown'||_0x41b13e['type']==='mouseup')&&(this['button']=_0x41b13e['button']),this['buttons']=_0x473459['_buttons']['slice'](0x1367+-0x1d5*-0x7+-0xfa*0x21),this['element']=_0x41b13e['target'],this['ctrlKey']=_0x41b13e['ctrlKey']??!(0x20c9+0x1984+-0x3a4c),this['altKey']=_0x41b13e['altKey']??!(-0x1ae9+0x260f+0x13d*-0x9),this['shiftKey']=_0x41b13e['shiftKey']??!(-0x151d+0x2*0x1349+-0x1174),this['metaKey']=_0x41b13e['metaKey']??!(-0x811*-0x3+-0x231f+0xaed),this['event']=_0x41b13e;}}class sa extends me{constructor(_0xbc4178){super(),h(this,'_lastX',0x2233+0x21ce+0x4401*-0x1),h(this,'_lastY',-0x92d*-0x3+-0x277*-0x2+-0x1*0x2075),h(this,'_buttons',[!(-0x57f*-0x4+-0x2681+0x5*0x34e),!(0x20af+0x111c+-0x31ca),!(0xbb7+0x1ae+-0xd64)]),h(this,'_lastbutto'+'ns',[!(-0x1035+0x238f+-0x1359),!(0x1*0x601+0x1c57+-0x2257),!(-0x2293+-0x3*-0x4cb+0x1433)]),h(this,'_target',null),h(this,'_attached',!(-0x1*-0x18d0+-0x78d+-0x1142)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x558f82=>{_0x558f82['preventDef'+'ault']();},this['attach'](_0xbc4178));}static['isPointerL'+'ocked'](){return ru();}['attach'](_0x5db7d2){if(this['_target']=_0x5db7d2,this['_attached'])return;this['_attached']=!(0x1038*0x2+0x1*-0x12b+-0x1f45);const _0x300ff3={'passive':!(0xe59+0x1*-0x24ba+0x1e*0xbf)},_0x7f386b=Ae['passiveEve'+'nts']?_0x300ff3:!(-0x6f2+-0xa*0x277+0x1f99*0x1);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x7f386b),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x7f386b),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x7f386b),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x7f386b);}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0x97*0xb+-0x2*0x7c2+0x1602),this['_target']=null;const _0x5c207b={'passive':!(-0x183f+-0x207c+0x38bc)},_0x55a7ba=Ae['passiveEve'+'nts']?_0x5c207b:!(0x1b7c*-0x1+-0x1*0x1a61+0xa*0x563);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x55a7ba),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x55a7ba),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x55a7ba),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x55a7ba);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x27dd10,_0x4260f5){if(!document['body']['requestPoi'+'nterLock']){_0x4260f5&&_0x4260f5();return;}const _0xfa8072=()=>{_0x27dd10(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0xfa8072);},_0x4a6643=()=>{_0x4260f5(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x4a6643);};_0x27dd10&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0xfa8072,!(0x98*-0x33+-0x22d*-0xe+-0x3*0xf)),_0x4260f5&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x4a6643,!(0x665+-0x35d*0x3+-0x1*-0x3b3)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0x19a254){if(!document['exitPointe'+'rLock'])return;const _0x49ead1=()=>{_0x19a254(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x49ead1);};_0x19a254&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x49ead1,!(0x1*-0x961+0x3cf+-0x1*-0x593)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][-0x21f+-0x24e2+0x2701]=this['_buttons'][-0x1978+-0x10b8+0x2a30],this['_lastbutto'+'ns'][0x2*-0x6b0+-0xd05+0x1a66]=this['_buttons'][0x16*-0x3d+0x1*0x2223+-0x739*0x4],this['_lastbutto'+'ns'][-0x191*-0xa+-0x1799*0x1+0x7f1]=this['_buttons'][0x1fd2+0x14b*0x10+-0x3480*0x1];}['isPressed'](_0x180010){return this['_buttons'][_0x180010];}['wasPressed'](_0x2bace1){return this['_buttons'][_0x2bace1]&&!this['_lastbutto'+'ns'][_0x2bace1];}['wasRelease'+'d'](_0x5e3700){return!this['_buttons'][_0x5e3700]&&this['_lastbutto'+'ns'][_0x5e3700];}['_handleUp'](_0x4aaa96){this['_buttons'][_0x4aaa96['button']]=!(0x17b*0x13+-0xcfe+0x1*-0xf22);const _0x18cc8e=new ta(this,_0x4aaa96);_0x18cc8e['event']&&this['fire']('mouseup',_0x18cc8e);}['_handleDow'+'n'](_0x4c512e){this['_buttons'][_0x4c512e['button']]=!(-0x2*-0xae5+-0x18ab+0x2e1);const _0x11eb23=new ta(this,_0x4c512e);_0x11eb23['event']&&this['fire']('mousedown',_0x11eb23);}['_handleMov'+'e'](_0x2a7df7){const _0xb5329f=new ta(this,_0x2a7df7);_0xb5329f['event']&&(this['fire']('mousemove',_0xb5329f),this['_lastX']=_0xb5329f['x'],this['_lastY']=_0xb5329f['y']);}['_handleWhe'+'el'](_0xdc0fd7){const _0x56e830=new ta(this,_0xdc0fd7);_0x56e830['event']&&this['fire']('mousewheel',_0x56e830);}['_getTarget'+'Coords'](_0x5ce269){const _0x4ec600=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x1f6a51=Math['floor'](_0x4ec600['left']),_0x295759=Math['floor'](_0x4ec600['top']);return _0x5ce269['clientX']<_0x1f6a51||_0x5ce269['clientX']>=_0x1f6a51+this['_target']['clientWidt'+'h']||_0x5ce269['clientY']<_0x295759||_0x5ce269['clientY']>=_0x295759+this['_target']['clientHeig'+'ht']?null:{'x':_0x5ce269['clientX']-_0x1f6a51,'y':_0x5ce269['clientY']-_0x295759};}}h(sa,'EVENT_MOUS'+'EMOVE','mousemove'),h(sa,'EVENT_MOUS'+'EDOWN','mousedown'),h(sa,'EVENT_MOUS'+'EUP','mouseup'),h(sa,'EVENT_MOUS'+'EWHEEL','mousewheel');function Wc(_0x3e4195){let _0x17e392=-0x12f9+0x5e*-0x5d+0x11b5*0x3,_0x2d1ce8=0xba8+-0x2*0x150+0x4*-0x242,_0x398866=_0x3e4195['target'];for(;!(_0x398866 instanceof HTMLElement)&&_0x398866;)_0x398866=_0x398866['parentNode'];for(;_0x398866;)_0x17e392+=_0x398866['offsetLeft']-_0x398866['scrollLeft'],_0x2d1ce8+=_0x398866['offsetTop']-_0x398866['scrollTop'],_0x398866=_0x398866['offsetPare'+'nt'];return{'x':_0x3e4195['pageX']-_0x17e392,'y':_0x3e4195['pageY']-_0x2d1ce8};}class d_{constructor(_0x314fbe){h(this,'id'),h(this,'x'),h(this,'y'),h(this,'target'),h(this,'touch');const _0xbd0f97=Wc(_0x314fbe);this['id']=_0x314fbe['identifier'],this['x']=_0xbd0f97['x'],this['y']=_0xbd0f97['y'],this['target']=_0x314fbe['target'],this['touch']=_0x314fbe;}}class Kl{constructor(_0x28f427,_0x36a734){h(this,'element'),h(this,'event'),h(this,'touches',[]),h(this,'changedTou'+'ches',[]),(this['element']=_0x36a734['target'],this['event']=_0x36a734,this['touches']=Array['from'](_0x36a734['touches'])['map'](_0x4f4f7a=>new d_(_0x4f4f7a)),this['changedTou'+'ches']=Array['from'](_0x36a734['changedTou'+'ches'])['map'](_0x5b0385=>new d_(_0x5b0385)));}['getTouchBy'+'Id'](_0x3804e9,_0x401cbe){return _0x401cbe['find'](_0x27d9cb=>_0x27d9cb['id']===_0x3804e9)||null;}}class Zl extends me{constructor(_0x2f2af1){super(),this['_element']=null,this['_startHand'+'ler']=this['_handleTou'+'chStart']['bind'](this),this['_endHandle'+'r']=this['_handleTou'+'chEnd']['bind'](this),this['_moveHandl'+'er']=this['_handleTou'+'chMove']['bind'](this),this['_cancelHan'+'dler']=this['_handleTou'+'chCancel']['bind'](this),this['attach'](_0x2f2af1);}['attach'](_0x1d6db5){this['_element']&&this['detach'](),this['_element']=_0x1d6db5,this['_element']['addEventLi'+'stener']('touchstart',this['_startHand'+'ler'],!(0x5*-0x2aa+-0x65*-0x3d+-0xabe)),this['_element']['addEventLi'+'stener']('touchend',this['_endHandle'+'r'],!(0x1*-0x1a3f+0x5de+0x1*0x1462)),this['_element']['addEventLi'+'stener']('touchmove',this['_moveHandl'+'er'],!(0x1bd9*0x1+-0xf5*-0x2+-0x1*0x1dc2)),this['_element']['addEventLi'+'stener']('touchcance'+'l',this['_cancelHan'+'dler'],!(0x4df+-0x1*-0x1b2d+-0xd*0x277));}['detach'](){this['_element']&&(this['_element']['removeEven'+'tListener']('touchstart',this['_startHand'+'ler'],!(-0x215+-0x1d1f+0x1f35)),this['_element']['removeEven'+'tListener']('touchend',this['_endHandle'+'r'],!(0x2e2+0xfdf*0x1+0x8*-0x258)),this['_element']['removeEven'+'tListener']('touchmove',this['_moveHandl'+'er'],!(0x7*-0x9+0x3*-0x779+0x16ab)),this['_element']['removeEven'+'tListener']('touchcance'+'l',this['_cancelHan'+'dler'],!(0x4*-0x95b+-0x200e+0x93*0x79))),this['_element']=null;}['_handleTou'+'chStart'](_0x1d4d48){this['fire']('touchstart',new Kl(this,_0x1d4d48));}['_handleTou'+'chEnd'](_0xe57616){this['fire']('touchend',new Kl(this,_0xe57616));}['_handleTou'+'chMove'](_0x2d4e84){_0x2d4e84['preventDef'+'ault'](),this['fire']('touchmove',new Kl(this,_0x2d4e84));}['_handleTou'+'chCancel'](_0x54b560){this['fire']('touchcance'+'l',new Kl(this,_0x54b560));}}h(Zl,'EVENT_TOUC'+'HSTART','touchstart'),h(Zl,'EVENT_TOUC'+'HEND','touchend'),h(Zl,'EVENT_TOUC'+'HMOVE','touchmove'),h(Zl,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');const Oe=class Oe{['get'](_0x4e68b5,_0xa5ea06,_0xf85a4a){typeof _0xa5ea06=='function'&&(_0xf85a4a=_0xa5ea06,_0xa5ea06={});const _0x35ee51=this['request']('GET',_0x4e68b5,_0xa5ea06,_0xf85a4a),{progress:_0x4006cc}=_0xa5ea06;if(_0x4006cc){const _0x4a4eaf=_0xa557e4=>{_0xa557e4['lengthComp'+'utable']&&_0x4006cc['fire']('progress',_0xa557e4['loaded'],_0xa557e4['total']);},_0x16db62=_0x546a93=>{_0x4a4eaf(_0x546a93),_0x35ee51['removeEven'+'tListener']('loadstart',_0x4a4eaf),_0x35ee51['removeEven'+'tListener']('progress',_0x4a4eaf),_0x35ee51['removeEven'+'tListener']('loadend',_0x16db62);};_0x35ee51['addEventLi'+'stener']('loadstart',_0x4a4eaf),_0x35ee51['addEventLi'+'stener']('progress',_0x4a4eaf),_0x35ee51['addEventLi'+'stener']('loadend',_0x16db62);}return _0x35ee51;}['post'](_0x4610f0,_0x395238,_0x1c5d84,_0x31948d){return typeof _0x1c5d84=='function'&&(_0x31948d=_0x1c5d84,_0x1c5d84={}),_0x1c5d84['postdata']=_0x395238,this['request']('POST',_0x4610f0,_0x1c5d84,_0x31948d);}['put'](_0x292d5f,_0x43e66b,_0x1b1de3,_0x1a1e6a){return typeof _0x1b1de3=='function'&&(_0x1a1e6a=_0x1b1de3,_0x1b1de3={}),_0x1b1de3['postdata']=_0x43e66b,this['request']('PUT',_0x292d5f,_0x1b1de3,_0x1a1e6a);}['del'](_0x2ce25c,_0x4858aa,_0x4c28db){return typeof _0x4858aa=='function'&&(_0x4c28db=_0x4858aa,_0x4858aa={}),this['request']('DELETE',_0x2ce25c,_0x4858aa,_0x4c28db);}['request'](_0x22d28f,_0xb7bfc,_0x21e466,_0x582919){let _0x185317,_0x5d6644,_0x446f9e,_0x2bd822=!(-0x6ca+-0x589*-0x6+-0x1a6b);if(typeof _0x21e466=='function'&&(_0x582919=_0x21e466,_0x21e466={}),_0x21e466['retry']&&(_0x21e466=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x21e466)),_0x21e466['callback']=_0x582919,_0x21e466['async']==null&&(_0x21e466['async']=!(0x4e7+-0x1*-0xe21+-0x1308)),_0x21e466['headers']==null&&(_0x21e466['headers']={}),_0x21e466['postdata']!=null){if(_0x21e466['postdata']instanceof Document)_0x446f9e=_0x21e466['postdata'];else{if(_0x21e466['postdata']instanceof FormData)_0x446f9e=_0x21e466['postdata'];else{if(_0x21e466['postdata']instanceof Object){let _0x3c86ad=_0x21e466['headers']['Content-Ty'+'pe'];switch(_0x3c86ad===void(0x1*-0x1f45+0x6*-0x447+0x38ef)&&(_0x21e466['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x3c86ad=_0x21e466['headers']['Content-Ty'+'pe']),_0x3c86ad){case Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x446f9e='';let _0x5573ef=!(0x32*0x95+0x216e+0x114*-0x3a);for(const _0x17e050 in _0x21e466['postdata'])if(_0x21e466['postdata']['hasOwnProp'+'erty'](_0x17e050)){_0x5573ef?_0x5573ef=!(-0x15a6+-0x4d9*-0x5+-0x296):_0x446f9e+='&';const _0x5cae68=encodeURIComponent(_0x17e050),_0x292e37=encodeURIComponent(_0x21e466['postdata'][_0x17e050]);_0x446f9e+=_0x5cae68+'='+_0x292e37;}break;}default:case Oe['ContentTyp'+'e']['JSON']:_0x3c86ad==null&&(_0x21e466['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['JSON']),_0x446f9e=JSON['stringify'](_0x21e466['postdata']);break;}}else _0x446f9e=_0x21e466['postdata'];}}}if(_0x21e466['cache']===!(0x799*-0x5+-0x1*0x1e69+0x1c1*0x27)){const _0x29ae58=de();_0x185317=new Rd(_0xb7bfc),_0x185317['query']?_0x185317['query']=_0x185317['query']+'&ts='+_0x29ae58:_0x185317['query']='ts='+_0x29ae58,_0xb7bfc=_0x185317['toString']();}_0x21e466['query']&&(_0x185317=new Rd(_0xb7bfc),_0x5d6644=ah(_0x185317['getQuery'](),_0x21e466['query']),_0x185317['setQuery'](_0x5d6644),_0xb7bfc=_0x185317['toString']());const _0x311e95=new XMLHttpRequest();_0x311e95['open'](_0x22d28f,_0xb7bfc,_0x21e466['async']),_0x311e95['withCreden'+'tials']=_0x21e466['withCreden'+'tials']!==void(-0xe89+-0x1f7+0x1080)?_0x21e466['withCreden'+'tials']:!(-0x187+-0x281+0x409),_0x311e95['responseTy'+'pe']=_0x21e466['responseTy'+'pe']||this['_guessResp'+'onseType'](_0xb7bfc);for(const _0x2c78bb in _0x21e466['headers'])_0x21e466['headers']['hasOwnProp'+'erty'](_0x2c78bb)&&_0x311e95['setRequest'+'Header'](_0x2c78bb,_0x21e466['headers'][_0x2c78bb]);_0x311e95['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x22d28f,_0xb7bfc,_0x21e466,_0x311e95);},_0x311e95['onerror']=()=>{this['_onError'](_0x22d28f,_0xb7bfc,_0x21e466,_0x311e95),_0x2bd822=!(0x1f97+0x64*0x31+-0x32bb);};try{_0x311e95['send'](_0x446f9e);}catch(_0x5478d7){_0x2bd822||_0x21e466['error'](_0x311e95['status'],_0x311e95,_0x5478d7);}return _0x311e95;}['_guessResp'+'onseType'](_0x186660){const _0x595d9f=new Rd(_0x186660),_0x4494de=xe['getExtensi'+'on'](_0x595d9f['path'])['toLowerCas'+'e']();return Oe['binaryExte'+'nsions']['indexOf'](_0x4494de)>=-0x1308+-0x25*0x5f+0x20c3?Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x4494de==='.json'?Oe['ResponseTy'+'pe']['JSON']:_0x4494de==='.xml'?Oe['ResponseTy'+'pe']['DOCUMENT']:Oe['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x46f699){return[Oe['ContentTyp'+'e']['BASIS'],Oe['ContentTyp'+'e']['BIN'],Oe['ContentTyp'+'e']['DDS'],Oe['ContentTyp'+'e']['GLB'],Oe['ContentTyp'+'e']['MP3'],Oe['ContentTyp'+'e']['MP4'],Oe['ContentTyp'+'e']['OGG'],Oe['ContentTyp'+'e']['OPUS'],Oe['ContentTyp'+'e']['WAV']]['indexOf'](_0x46f699)>=-0x1*-0x125b+0x1*0x654+-0x18af;}['_isBinaryR'+'esponseTyp'+'e'](_0x47bfde){return _0x47bfde===Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x47bfde===Oe['ResponseTy'+'pe']['BLOB']||_0x47bfde===Oe['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x17dddb,_0x16c03a,_0x325ea1,_0x5ddb8c){if(_0x5ddb8c['readyState']===-0xf5*-0x8+-0x1*0x439+0x5*-0xaf)switch(_0x5ddb8c['status']){case 0xba4+-0x2*0x42b+-0x34e:{_0x5ddb8c['responseUR'+'L']&&_0x5ddb8c['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x17dddb,_0x16c03a,_0x325ea1,_0x5ddb8c):this['_onError'](_0x17dddb,_0x16c03a,_0x325ea1,_0x5ddb8c);break;}case 0x1*-0x8c+0x18*-0xd0+0x14d4:case-0x25ea+0xf27+-0x112*-0x16:case-0x56+0x81b*0x4+-0x1f48:case 0x1*0x1b5a+0x194c+-0x19bb*0x2:{this['_onSuccess'](_0x17dddb,_0x16c03a,_0x325ea1,_0x5ddb8c);break;}default:{this['_onError'](_0x17dddb,_0x16c03a,_0x325ea1,_0x5ddb8c);break;}}}['_onSuccess'](_0x1cff17,_0x129949,_0x757c21,_0x326108){let _0x4335be,_0x598560;const _0x245fd0=_0x326108['getRespons'+'eHeader']('Content-Ty'+'pe');_0x245fd0&&(_0x598560=_0x245fd0['split'](';')[0x177b*0x1+-0x1b2*0x6+0x1*-0xd4f]['trim']());try{this['_isBinaryC'+'ontentType'](_0x598560)||this['_isBinaryR'+'esponseTyp'+'e'](_0x326108['responseTy'+'pe'])?_0x4335be=_0x326108['response']:_0x598560===Oe['ContentTyp'+'e']['JSON']||_0x129949['split']('?')[-0x95b+0x20ac+-0x1751*0x1]['endsWith']('.json')?_0x4335be=JSON['parse'](_0x326108['responseTe'+'xt']):_0x326108['responseTy'+'pe']===Oe['ResponseTy'+'pe']['DOCUMENT']||_0x598560===Oe['ContentTyp'+'e']['XML']?_0x4335be=_0x326108['responseXM'+'L']:_0x4335be=_0x326108['responseTe'+'xt'],_0x757c21['callback'](null,_0x4335be);}catch(_0x4cbd26){_0x757c21['callback'](_0x4cbd26);}}['_onError'](_0xdb9634,_0x2af877,_0xc15a48,_0x1e43d5){if(!_0xc15a48['retrying']){if(_0xc15a48['retry']&&_0xc15a48['retries']<_0xc15a48['maxRetries']){_0xc15a48['retries']++,_0xc15a48['retrying']=!(-0x2596+-0x22a0+-0x12*-0x403);const _0x4a7cb9=Y['clamp'](Math['pow'](0x13f+-0xbbf+0xa82*0x1,_0xc15a48['retries'])*Oe['retryDelay'],-0x2*0xcfb+0x3*0x12f+0x1*0x1669,_0xc15a48['maxRetryDe'+'lay']||-0x943*-0x2+0x1356+-0x1254);console['log'](_0xdb9634+':\x20'+_0x2af877+'\x20-\x20Error\x20'+_0x1e43d5['status']+('.\x20Retrying'+'\x20in\x20')+_0x4a7cb9+'\x20ms'),setTimeout(()=>{_0xc15a48['retrying']=!(0x1653+0x2242+-0xe25*0x4),this['request'](_0xdb9634,_0x2af877,_0xc15a48,_0xc15a48['callback']);},_0x4a7cb9);}else _0xc15a48['callback'](_0x1e43d5['status']===0x1*0x21ca+-0x108c+-0x113e?'Network\x20er'+'ror':_0x1e43d5['status'],null);}}};h(Oe,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),h(Oe,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),h(Oe,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),h(Oe,'retryDelay',-0xc6+-0x1*-0x217+-0xed);let Ls=Oe;const ot=new Ls(),Vp='linear',bw='inverse',Aw='exponentia'+'l';class Cw{constructor(_0x30176e){h(this,'_manager'),h(this,'position',new D()),h(this,'orientatio'+'n',new te()),this['_manager']=_0x30176e;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x5b904f){this['position']['copy'](_0x5b904f);const _0x325d71=this['listener'];_0x325d71&&('positionX'in _0x325d71?(_0x325d71['positionX']['value']=_0x5b904f['x'],_0x325d71['positionY']['value']=_0x5b904f['y'],_0x325d71['positionZ']['value']=_0x5b904f['z']):_0x325d71['setPositio'+'n']&&_0x325d71['setPositio'+'n'](_0x5b904f['x'],_0x5b904f['y'],_0x5b904f['z']));}['setOrienta'+'tion'](_0x30c3ff){this['orientatio'+'n']['copy'](_0x30c3ff);const _0x322638=this['listener'];if(_0x322638){const _0x169389=_0x30c3ff['data'];'forwardX'in _0x322638?(_0x322638['forwardX']['value']=-_0x169389[0x1*0x234b+0xd84+-0x30c7],_0x322638['forwardY']['value']=-_0x169389[0x148d+-0x1*-0x7f5+0x1*-0x1c79],_0x322638['forwardZ']['value']=-_0x169389[-0x4*0x712+0x1*-0x18e2+0x1a9a*0x2],_0x322638['upX']['value']=_0x169389[0x3*0x281+-0x19ca+0x124b],_0x322638['upY']['value']=_0x169389[-0x1cd0+0x9f*-0xd+0x24e8],_0x322638['upZ']['value']=_0x169389[-0x165e+-0x1f3*0x2+0x1a4a]):_0x322638['setOrienta'+'tion']&&_0x322638['setOrienta'+'tion'](-_0x169389[-0x1221+-0x4fd*0x7+0x3514],-_0x169389[0x101*-0x2+-0x6f2*-0x4+-0x1*0x19bd],-_0x169389[0x5*-0x64a+-0x3a*0x2c+0x2974],_0x169389[0x1fe5+-0x1a3f+-0xe*0x67],_0x169389[0x2699+0x78b+-0x2e1f],_0x169389[-0x94b+0x3d*-0x61+0x206e]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x27ce48=this['_manager']['context'];return _0x27ce48?_0x27ce48['listener']:null;}}const Ql='running',f_=['click','touchstart','mousedown'];class Pw extends me{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||w['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(-0xa17*-0x1+-0x1f86+-0x157*-0x10),this['listener']=new Cw(this),this['_volume']=0x12ef+-0x7b*-0x11+-0x1b19;}set['volume'](_0x3c37f9){_0x3c37f9=Y['clamp'](_0x3c37f9,0xe6e+0x55e+-0x2*0x9e6,-0x17aa*0x1+-0x1*0x146f+-0x8d2*-0x5),this['_volume']=_0x3c37f9,this['fire']('volumechan'+'ge',_0x3c37f9);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==Ql&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(-0x2*0x113c+-0x2435+-0x178f*-0x3),this['_context']&&this['_context']['state']===Ql&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(0x1*0x243d+0xa6+-0x24e2),this['_context']&&this['_context']['state']!==Ql&&this['_resume']());}['destroy'](){var _0x41e88f;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x41e88f=this['_context'])==null||_0x41e88f['close'](),this['_context']=null);}['_resume'](){this['_context']['resume']()['then'](()=>{const _0xb0aceb=this['_context']['createBuff'+'erSource']();_0xb0aceb['buffer']=this['_context']['createBuff'+'er'](-0x162e+0x7*0x73+0x130a,0x495+0x64a*0x3+0x2*-0xbb9,this['_context']['sampleRate']),_0xb0aceb['connect'](this['_context']['destinatio'+'n']),_0xb0aceb['start'](0x59*-0x6b+-0x104+0x9*0x43f),_0xb0aceb['onended']=_0x419135=>{_0xb0aceb['disconnect'](-0x1*0x99e+-0x6d*-0x4f+-0xb*0x22f),this['fire']('resume');};},_0x28973c=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0x28973c);})['catch'](_0x4dfbc0=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x4dfbc0);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x79e057=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x79e057);})['catch'](_0x158f96=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x158f96);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==Ql&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){f_['forEach'](_0x3fb0fb=>{window['addEventLi'+'stener'](_0x3fb0fb,this['_unlockHan'+'dlerFunc'],!(0x1*-0x1152+0x20d6+-0xf83*0x1));});}['_removeUnl'+'ockListene'+'rs'](){f_['forEach'](_0xd323b2=>{window['removeEven'+'tListener'](_0xd323b2,this['_unlockHan'+'dlerFunc'],!(-0x59*0xe+0x85*-0x43+0x27ae));});}}class Mw{constructor(_0x9b802b){h(this,'audio'),h(this,'buffer'),_0x9b802b instanceof Audio?this['audio']=_0x9b802b:this['buffer']=_0x9b802b;}get['duration'](){let _0x44a16f=0x1ff9+0x486*0x1+-0x247f;return this['buffer']?_0x44a16f=this['buffer']['duration']:this['audio']&&(_0x44a16f=this['audio']['duration']),_0x44a16f||-0x1061*0x2+0x18*0x65+0x174a;}}function Dl(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}const Zt=-0x161e*0x1+0x53d+0x10e1,fn=0x1*0xa90+0x2586+0x175*-0x21,Hs=0x1*0x227+0x11*-0x15f+-0x7*-0x306;function es(_0x4f8d7f,_0x214d99){return _0x4f8d7f%_0x214d99||0x21d*0x4+0x91f+-0x1193;}class As extends me{constructor(_0x1175be,_0x303e09,_0x3061b8){super(),h(this,'source',null),(this['_manager']=_0x1175be,this['_volume']=_0x3061b8['volume']!==void(-0x1ba9+-0x29*0x91+0x32e2)?Y['clamp'](Number(_0x3061b8['volume'])||0x2ec*-0x4+-0x3bc*0x2+-0x4*-0x4ca,0x1612+-0xb*-0x187+-0x26df,-0x303*-0x6+0x70*-0x20+0x15b*-0x3):-0x93e+-0x8e*-0x26+-0x1*0xbd5,this['_pitch']=_0x3061b8['pitch']!==void(-0x9d1+-0x59b*0x4+-0x189*-0x15)?Math['max'](0x19*-0x21+-0xa13*0x1+0xd4c+0.01,Number(_0x3061b8['pitch'])||-0x1*0x54f+0x15b+0x3f4):-0x12f*-0x1e+0xa*0x2d2+-0x3fb5,this['_loop']=!!(_0x3061b8['loop']!==void(0xdc7*-0x1+-0x20ff+0x2ec6)&&_0x3061b8['loop']),this['_sound']=_0x303e09,this['_state']=Hs,this['_suspended']=!(0xa*0xb9+0xbd4*0x3+-0x179*0x1d),this['_suspendEn'+'dEvent']=-0xd73+-0x3e7+0x115a,this['_suspendIn'+'stanceEven'+'ts']=!(0x1aed+-0x10ee+-0x9fe),this['_playWhenL'+'oaded']=!(-0x122*0xb+-0x6*-0x105+0x658),this['_startTime']=Math['max'](0x1022+0x22*0x25+-0x150c,Number(_0x3061b8['startTime'])||-0x13fe+-0x8d0+-0x99a*-0x3),this['_duration']=Math['max'](-0x95c+-0x205e+0x29ba,Number(_0x3061b8['duration'])||0xaed+0x18e3+-0x8f4*0x4),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x3061b8['onPlay'],this['_onPauseCa'+'llback']=_0x3061b8['onPause'],this['_onResumeC'+'allback']=_0x3061b8['onResume'],this['_onStopCal'+'lback']=_0x3061b8['onStop'],this['_onEndCall'+'back']=_0x3061b8['onEnd'],Dl()?(this['_startedAt']=0x224e+-0x1*0x2154+-0xfa,this['_currentTi'+'me']=0xaaa+-0x7d*0x5+-0x839,this['_currentOf'+'fset']=0x485+-0x3*0xc45+-0x204a*-0x1,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x4ab*0x7+0x489*0x6+-0x7*0x88e),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(0x3*-0xcf1+-0x6c*-0x59+0x148),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x5303bd){if(!(_0x5303bd<0xe3c+-0x1*0x269e+0x1862)){if(this['_state']===Zt){const _0x54845f=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(-0xce1+0x2b*-0x1+-0x14e*-0xa),this['stop'](),this['_startOffs'+'et']=_0x5303bd,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x54845f;}else this['_startOffs'+'et']=_0x5303bd,this['_currentTi'+'me']=_0x5303bd;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===fn?this['_currentTi'+'me']:this['_state']===Hs||!this['source']?-0x6c5*-0x3+0x998+0x5*-0x5fb:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x5dfdbd){this['_duration']=Math['max'](0x97*0x23+-0x3b3+-0x10f2,Number(_0x5dfdbd)||0x1a13+-0x1312+-0x701);const _0x540274=this['_state']===Zt;this['stop'](),_0x540274&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?es(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:-0xf4b+-0xcf*-0x29+-0x8ee*0x2;}get['isPaused'](){return this['_state']===fn;}get['isPlaying'](){return this['_state']===Zt;}get['isStopped'](){return this['_state']===Hs;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x24e9fd){this['_loop']=!!_0x24e9fd,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x3dbf46){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x3dbf46)||-0x2471+-0x567*0x7+0x4a42,-0x48c*0x7+-0xa3+0x2077+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0xd1257b){this['_sound']=_0xd1257b,this['_state']!==Hs?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x3a9c69){this['_startTime']=Math['max'](0x57*-0x4c+0x851+-0x1*-0x1183,Number(_0x3a9c69)||-0x195+0x1a74*0x1+-0x18df);const _0x510dcb=this['_state']===Zt;this['stop'](),_0x510dcb&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x5a4f4f){_0x5a4f4f=Y['clamp'](_0x5a4f4f,0x25a3+-0x241b+-0x1*0x188,-0xa5f+-0x1150*0x1+0x1bb0),this['_volume']=_0x5a4f4f,this['gain']&&(this['gain']['gain']['value']=_0x5a4f4f*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>-0x1bbd+-0x23d6+-0x43d*-0xf){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Zt&&!this['_suspended']&&(this['_suspended']=!(-0xd83+-0x681+0x1404),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(0x7*0x2ad+0x2*0xbae+0x150b*-0x2),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==Hs&&this['stop'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(-0x1*0x2051+-0x1475*-0x1+0xbdd),this['_waitingCo'+'ntextSuspe'+'nsion']?!(0x719*-0x1+0x3*-0x179+0xb85):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0xb*-0x199+0x33*-0x8a+0x1*0x9eb),!(-0x2478+-0x4*-0x83a+-0x53*-0xb)):(this['_playAudio'+'Immediate'](),!(0x91f+0x1c45+-0x959*0x4));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x1*-0xd6+0x839*0x2+-0x1147),this['_state']!==Zt)return;this['source']||this['_createSou'+'rce']();let _0x4ba2ae=es(this['_startOffs'+'et'],this['duration']);_0x4ba2ae=es(this['_startTime']+_0x4ba2ae,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](-0xb6a*-0x2+-0x4b1+0x1*-0x1223,_0x4ba2ae,this['_duration']):this['source']['start'](-0x20fc+-0x1c89+0x3d85,_0x4ba2ae),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=-0x1*0x73e+0x1a0e+0x2b0*-0x7,this['_currentOf'+'fset']=_0x4ba2ae,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(0xd08+0x2*-0x4db+-0x351),this['_state']!==Zt?!(-0x23e+-0x1*0x13f+-0x3*-0x12a):(this['_state']=fn,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](0x1*-0xffc+-0x11b5+0x21b1),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(0x1bfe+-0x1ad5*-0x1+-0x36d3));}['resume'](){if(this['_state']!==fn)return!(-0x2*-0x64+0x89*0x2+0x1d9*-0x1);let _0x4f2ec6=this['currentTim'+'e'];return this['_state']=Zt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0x4f2ec6=es(this['_startOffs'+'et'],this['duration']),_0x4f2ec6=es(this['_startTime']+_0x4f2ec6,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](0x1622*0x1+-0x6b8*-0x4+0x132*-0x29,_0x4f2ec6,this['_duration']):this['source']['start'](-0x335*0x1+0x1*-0x1a84+0x1*0x1db9,_0x4f2ec6),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0x4f2ec6,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(-0x22bb+0x2*-0x539+0x1*0x2d2e),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0xc01*0x2+0x1*0x18a4+-0x2*0x51);}['stop'](){if(this['_playWhenL'+'oaded']=!(0x1b48*-0x1+0xc18+0xf31),this['_state']===Hs)return!(0x25f*-0x3+0x22c*-0x7+-0x1*-0x1652);const _0x479707=this['_state']===Zt;return this['_state']=Hs,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=-0x2*-0x11c4+-0x170d+0x27f*-0x5,this['_currentTi'+'me']=0x2*0x563+0x192d+-0x23f3,this['_currentOf'+'fset']=0x1ec5*0x1+-0x7a5*0x3+-0x7d6,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x479707&&this['source']&&this['source']['stop'](0x23c5+0xa2e*0x1+0x2df3*-0x1),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(0xba+0x1e4b+-0xa57*0x3);}['setExterna'+'lNodes'](_0x16e8e3,_0x44067d){if(!_0x16e8e3){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x44067d||(_0x44067d=_0x16e8e3);const _0x368b16=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x16e8e3&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x368b16),this['_firstNode']=_0x16e8e3,this['_connector'+'Node']['connect'](_0x16e8e3)),this['_lastNode']!==_0x44067d&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x368b16),this['_lastNode']=_0x44067d,this['_lastNode']['connect'](_0x368b16));}['clearExter'+'nalNodes'](){const _0x8c8eca=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0x8c8eca),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0x8c8eca);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0x190c2c=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0x190c2c['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=es(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],es(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=es((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Zt&&(this['source']['stop'](-0x5*0x538+0x259+0x17bf),this['source']=null);}}h(As,'EVENT_PLAY','play'),h(As,'EVENT_PAUS'+'E','pause'),h(As,'EVENT_RESU'+'ME','resume'),h(As,'EVENT_STOP','stop'),h(As,'EVENT_END','end'),Dl()||(Object['assign'](As['prototype'],{'play':function(){return this['_state']!==Hs&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(0x21af+0x1*-0x223e+-0x8*-0x12):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(-0x2*0x1c6+-0xe1f+0x11ac),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(0x18b9+0x972+-0x222b));},'pause':function(){return!this['source']||this['_state']!==Zt?!(-0x490+-0x2*-0x34a+-0x5*0x67):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0xffc+0x1*-0xe57+-0x1a4),this['_state']=fn,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(0x4d*-0x77+-0x159+0x2524));},'resume':function(){return!this['source']||this['_state']!==fn?!(-0x2061+-0x1b02+-0xb5*-0x54):(this['_state']=Zt,this['_playWhenL'+'oaded']=!(-0x4c4+0x173b+-0x116*0x11),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0x2*0x2f5+0xeb6+-0x18*0xdc));},'stop':function(){return!this['source']||this['_state']===Hs?!(0x23b6+-0x238a*0x1+-0x2b):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0x73*0x52+0x26ed+0x2*-0x10b),this['_state']=Hs,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(-0x1*-0xdf3+0x17ac+-0x259f));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(-0x242c+0xabb*0x2+-0x10d*-0xe);let _0x200b1b=es(this['_startOffs'+'et'],this['duration']);_0x200b1b=es(this['_startTime']+_0x200b1b,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x200b1b;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(0x1784+-0x3*0x413+-0xb4a),this['source']=this['_sound']['audio']['cloneNode'](!(0x41e+-0x35*-0x4a+-0x8*0x26e)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>es(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=es(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](As['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x399f6c){_0x399f6c=Y['clamp'](_0x399f6c,0x2*0xd6+-0x64*0x3d+-0xb14*-0x2,0x1468+-0x177a+0x1*0x313),this['_volume']=_0x399f6c,this['source']&&(this['source']['volume']=_0x399f6c*this['_manager']['volume']);}}),Object['defineProp'+'erty'](As['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x210b35){this['_pitch']=Math['max'](Number(_0x210b35)||0x29*-0x7f+-0xb1d*-0x1+0x1*0x93a,0x174b+-0x7c*-0x1+-0x17c7+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](As['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0xbc08c){this['stop'](),this['_sound']=_0xbc08c;}}),Object['defineProp'+'erty'](As['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===Hs||!this['source']?-0x1*-0x3ac+0x1288+-0x1634:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0x540064){_0x540064<-0x515+-0x9*-0x2b+0x392||(this['_startOffs'+'et']=_0x540064,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=es(this['_startTime']+es(_0x540064,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Dw=0x185*0x11+-0x915+0x1650;class sn extends As{constructor(_0x8854d0,_0x2b6931,_0x507837={}){super(_0x8854d0,_0x2b6931,_0x507837),h(this,'_position',new D()),h(this,'_velocity',new D()),(_0x507837['position']&&(this['position']=_0x507837['position']),this['maxDistanc'+'e']=_0x507837['maxDistanc'+'e']!==void(-0x1*0xffd+0x12*0xf1+-0x1*0xf5)?Number(_0x507837['maxDistanc'+'e']):Dw,this['refDistanc'+'e']=_0x507837['refDistanc'+'e']!==void(0x6aa*0x4+0x1*0x949+-0xbfb*0x3)?Number(_0x507837['refDistanc'+'e']):-0x1*0x265+-0x1e7d+0x20e3,this['rollOffFac'+'tor']=_0x507837['rollOffFac'+'tor']!==void(0x1*-0x521+-0x2*-0xfb+0x32b)?Number(_0x507837['rollOffFac'+'tor']):-0x4*-0x2fb+-0x982*-0x1+-0x156d,this['distanceMo'+'del']=_0x507837['distanceMo'+'del']!==void(0xabb*-0x1+-0x229f+0x2d5a)?_0x507837['distanceMo'+'del']:Vp);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0xbc3632){this['_position']['copy'](_0xbc3632);const _0x219bdc=this['panner'];'positionX'in _0x219bdc?(_0x219bdc['positionX']['value']=_0xbc3632['x'],_0x219bdc['positionY']['value']=_0xbc3632['y'],_0x219bdc['positionZ']['value']=_0xbc3632['z']):_0x219bdc['setPositio'+'n']&&_0x219bdc['setPositio'+'n'](_0xbc3632['x'],_0xbc3632['y'],_0xbc3632['z']);}get['position'](){return this['_position'];}set['velocity'](_0x45b40a){w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x45b40a);}get['velocity'](){return w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x164806){this['panner']['maxDistanc'+'e']=_0x164806;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x1e2a8d){this['panner']['refDistanc'+'e']=_0x1e2a8d;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x2c4e9f){this['panner']['rolloffFac'+'tor']=_0x2c4e9f;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x37ce8b){this['panner']['distanceMo'+'del']=_0x37ce8b;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Dl()){let l=new D();const t=function(_0x660f8c,_0x3a63c8,_0x16995e,_0x1c38f2,_0x4d66c4,_0x5a53ba){l=l['sub2'](_0x660f8c,_0x3a63c8);const _0x3b05a6=l['length']();if(_0x3b05a6<_0x16995e)return 0x1*-0xa36+-0x739+-0x45c*-0x4;if(_0x3b05a6>_0x1c38f2)return-0x1820*0x1+0x1*0x2c5+0x7*0x30d;let _0xa36f74=-0x1140+-0x10b0+0x10f8*0x2;return _0x5a53ba===Vp?_0xa36f74=0x896+0x40d*0x2+-0x10af-_0x4d66c4*(_0x3b05a6-_0x16995e)/(_0x1c38f2-_0x16995e):_0x5a53ba===bw?_0xa36f74=_0x16995e/(_0x16995e+_0x4d66c4*(_0x3b05a6-_0x16995e)):_0x5a53ba===Aw&&(_0xa36f74=Math['pow'](_0x3b05a6/_0x16995e,-_0x4d66c4)),Y['clamp'](_0xa36f74,0x1fd6+0x132+-0x8*0x421,0x21eb+-0x34a*-0x1+-0x2534);};Object['defineProp'+'erty'](sn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x2fff49){if(this['_position']['copy'](_0x2fff49),this['source']){const _0x494cad=this['_manager']['listener']['getPositio'+'n'](),_0xc61b5f=t(_0x494cad,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x4d278f=this['volume'];this['source']['volume']=_0x4d278f*_0xc61b5f*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](sn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x1c20ae){this['_maxDistan'+'ce']=_0x1c20ae;}}),Object['defineProp'+'erty'](sn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x2122a8){this['_refDistan'+'ce']=_0x2122a8;}}),Object['defineProp'+'erty'](sn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x3f3f88){this['_rollOffFa'+'ctor']=_0x3f3f88;}}),Object['defineProp'+'erty'](sn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x2b26f0){this['_distanceM'+'odel']=_0x2b26f0;}});}const Gp=0x1*0xcf7+-0xcd3+0x24*-0x1,Hp=-0x1*-0x1789+-0x164*-0x18+-0x18*0x25f,Zs=-0x3*-0x513+-0x49*-0x43+-0x2252,Cs=-0x1*-0x2aa+0x1*0x8da+-0xb81,Gn=-0x1b6b+0x199*-0x3+0x203a,Wp=0x1344+-0x1f37+0xbf8,Ed=0xa64+-0x2071+0x1613,$p=-0x1*-0x8e7+-0xf*0x1ff+0x1511*0x1,Xp=-0x1e22+0x3*0x3aa+0x132c,qp=-0x1*-0x1d45+0x26e2+-0x441e,jp=0x1*-0xd29+-0x1*0x14f1+0x6d4*0x5,Yy={[Gp]:'SUBTRACTIV'+'E',[Hp]:'ADDITIVE',[Zs]:'NORMAL',[Cs]:'NONE',[Gn]:'PREMULTIPL'+'IED',[Wp]:'MULTIPLICA'+'TIVE',[Ed]:'ADDITIVEAL'+'PHA',[$p]:'MULTIPLICA'+'TIVE2X',[Xp]:'SCREEN',[qp]:'MIN',[jp]:'MAX'},Kn='none',Iw='linear',Lw=0x5b9*0x6+-0x7e8+-0x1*0x1a6e,Yp=0x559*0x1+-0xd8f+-0x41c*-0x2,Rw={[Lw]:'NONE',[Yp]:'SCHLICK'},Ow=0x25eb+-0x1ca7+-0x944,Ky=-0x6a3*0x1+-0x1ff+-0x5*-0x1bd,er=-0x7*0x2b+-0x815*0x1+-0x9e*-0xf,ps=-0xbae+-0x2c4*-0x5+-0x225,Kp=0x5b*0x29+-0x265*-0x10+-0x34e1,Zp=0x106+0x2*-0x71+-0x21,Il=-0x1*0x136c+0x10f*0x1+0x1261,ve=0x853*0x4+-0x10f*0x1d+-0x299*0x1,Ke=0x62b+-0x1*0x42d+0x1*-0x1fd,Ze=0x9*-0x2c2+-0xa39*0x1+-0x230d*-0x1,u_={[ve]:'DIRECTIONA'+'L',[Ke]:'OMNI',[Ze]:'SPOT'},$c=-0x13b+0x15a*0x1+0x45,Ys=-0xa62+0x11e9+-0x787,Zy=0x1420+-0xa*-0x13+-0x14dd,Qy=0x614+0x1*-0x24e9+0x5*0x62b,Jy=-0xbc1+0x449*0x6+-0x2a*0x55,Fw={[Ys]:'PUNCTUAL',[Zy]:'RECT',[Qy]:'DISK',[Jy]:'SPHERE'},Qp=0xb*-0xf4+-0x103+0xb7f,ev=0x1*-0x12e+0x12d2+-0x11a3,Nw={[Qp]:'LINEAR',[ev]:'INVERSESQU'+'ARED'},$s=-0xdcc+0x3*-0xaa1+-0x1*-0x2daf,au=-0xa2a+-0x50b+-0x5*-0x30b,Jp=0x1*-0x21e6+0x1*-0x2171+0x435a,kw=0xa08+-0x34*-0x1c+-0xfb4,tv=0x34*0x4e+-0x17*0x6b+0x636*-0x1,al=-0x196f*0x1+0x5f3*-0x1+0xfb4*0x2,sv=-0x161*-0xd+0xa07*0x2+-0x25f4,iv=-0x164b+0x1ff8+-0x3*0x337,Uw=-0x1*-0x11f5+-0x5*-0x1b+0x1*-0x1273,qi=new Map([[tv,{'name':'PCF1_32F','kind':'PCF1','format':$i,'pcf':!(0x24af*0x1+0x147e+-0x392d)}],[$s,{'name':'PCF3_32F','kind':'PCF3','format':$i,'pcf':!(-0x1de3+-0x226+-0x8b*-0x3b)}],[kw,{'name':'PCF5_32F','kind':'PCF5','format':$i,'pcf':!(0x463+0x107c+0x89*-0x27)}],[sv,{'name':'PCF1_16F','kind':'PCF1','format':vn,'pcf':!(-0xbd2+-0xca9+0x187b)}],[iv,{'name':'PCF3_16F','kind':'PCF3','format':vn,'pcf':!(0x1b81*0x1+0x1*0x1213+-0x2d94)}],[Uw,{'name':'PCF5_16F','kind':'PCF5','format':vn,'pcf':!(0xb*0x2a+0x141+-0x30f)}],[au,{'name':'VSM_16F','kind':'VSM','format':nt,'vsm':!(0x3a*-0x41+0x201c*-0x1+0x2ed6)}],[Jp,{'name':'VSM_32F','kind':'VSM','format':Xt,'vsm':!(0x5*0xac+-0x12e1+0xf85)}],[al,{'name':'PCSS_32F','kind':'PCSS','format':Ji,'pcss':!(0x13f7*0x1+-0x19b5+0x15*0x46)}]]),Bw=0x1*-0x191+0x74+0x21c,em=-0xa*0x1cf+0x20c1+0x1*-0xeaa,nu=-0x1c+0x1*0x1843+-0x1827,rv=-0x671+0xd1e+0x1*-0x6ad,ai=-0xc*-0xcd+-0xd69*0x2+0x1136,zw=-0x1c02+0xe7e+-0x1*-0xd85,yh=-0x2*0xc9d+-0x4*-0x31b+0xcce,Vw=0xd06+-0x4*0x8ba+0xd*0x1af,ni=0x10de+0x98b+-0x1*0x1a69,En=-0x200f*-0x1+-0x1c*-0xbd+-0x34ba,un=-0x5*-0x695+0x9e*0x27+0x1*-0x38fb,$r=-0x3*-0xb07+-0x67c+0x1*-0x1a98,Jl=-0x1*-0x18c0+-0x20f8+0x83a,tm=-0x6af*-0x1+0x2*0x5ea+-0x1283,av=0x1f38*0x1+-0x2*-0xb3d+-0x35b1,Gw={[tm]:'NONE',[av]:'BOX'},p_='mul',Ll=-0x1ea9+0x1*-0x1809+0x36b2,Xc=-0x1b3f*-0x1+-0x1145+0x3*-0x353,Hw={[Ll]:'NONE',[Xc]:'SRGB'},sm=0x1eb*0x3+-0x9fe*-0x1+-0xfbf,UU=0x1062+0x7*-0xf+-0xff8,BU=0x2461+-0x11cb*0x1+0x3a*-0x52,zU=0x1bcb+0x55*-0x72+0x2*0x509,VU=0x14ae+-0xb5*0x18+-0x3b2,GU=0x13b3+-0x14a7*-0x1+0x5c3*-0x7,nv=0x1310+0x1c7c+-0xe*0x365,ov=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],lv=0xb95+0x1024+-0x1bb9*0x1,bd=-0x1389+0x26f3*-0x1+0x3a7d,cv=0x1330+0x41*-0x61+0x573,Ww={[lv]:'NONE',[bd]:'AO',[cv]:'GLOSSDEPEN'+'DENT'},vr='none',vh='envAtlas',xh='envAtlasHQ',Th='cubeMap',hv='sphereMap',$w={[vr]:'NONE',[vh]:'ENVATLAS',[xh]:'ENVATLASHQ',[Th]:'CUBEMAP',[hv]:'SPHEREMAP'},im='ambientSH',rm='envAtlas',am='constant',Xw={[im]:'AMBIENTSH',[rm]:'ENVALATLAS',[am]:'CONSTANT'},wh=0x29f*-0xd+0x239c+-0x4*0x62,nl=-0x722+-0x1f0e+0x2*0x1319,nm=0xffa*0x2+0x44+-0x1*0x2034,dv=-0x19ba*0x1+0x16b1+0x311*0x1,fv=0x210*-0x6+-0x3*-0xdf+0x5*0x1f7,ol=0x391+0x82b*0x3+-0x1*0x1bf2,ou=-0x1*-0xfa3+0x7a*-0xa+-0xa9f,uv=-0x4*-0x36+-0x1*-0x1fbe+-0x2016,Eh=-0xad*-0xe+-0x1f7f+0x1709,om=0xef*-0x7+-0x1944+0x21cd,ll=0x1*-0x259+-0x5*0xa2+0x983,cl=-0x8*0x347+0x1347+0xef1,pv=0x6*-0x1b5+-0x1af8+0x8b*0x62,hl=0x37f5+0x39d7+-0x51cc,qc=-0x6a1*0x11+-0xd*0x8c3+-0x88c*-0x22,Ps=0x697+-0x928+0x291,xr=0x170*-0x8+-0x24*0x61+0x1925,lm=0x91e+0x13a7+0x1*-0x1cc3,Ss=0x1a8+0x1*0x1f39+-0x41c*0x8,di=0x111a+0xc48*-0x2+0x8*0xef,fi=-0x21+0x1d72+-0x1d4d,Aa=-0xd0*-0x17+0x2335*0x1+-0x35e5,Rl=-0x5a1*0x5+0x103e+-0x5f4*-0x2,cm=-0x25ae+0x9b+-0x2515*-0x1,Zn=0x782+0x1c0f+-0x238e,ci=0x4*-0x272+0x313*-0x1+0xcdb,Pt=0xa86*-0x1+-0x18e4+-0x1*-0x236b,Mt=0xb*-0x1cc+-0x23a4+0x376a,qw={[ci]:'SIMPLE',[Pt]:'SLICED',[Mt]:'TILED'},jc=-0x13c7+-0x1348+0x14*0x1f4,ec=-0x3cb*0x9+-0x1*0x21c7+0x21f5*0x2,Yc=0x1531+-0x1*-0x2cf+-0x1800,jw=-0x1*-0x1d1e+-0x1013+-0xd0a,Yw=0xe*-0x95+-0x30*0x19+-0x112*-0xc,m_=-0x4*-0x7c9+0x7*-0xe2+-0x18f3,Kw=0x14a7*-0x1+-0x1*0x1f52+0x33fd,Zw=0x19ec+-0x1287+-0x3b0*0x2,hm=0x3eb+0x1*-0x6ef+0x304,lu=0x4*0x3f1+-0x58*0x29+-0x1ab,Ce=-0x1686+-0x22e8+0x2*0x1cb7,je=-0xd38+-0x128b*-0x1+-0x552,Bo='infinite',Qw='box',Jw='dome',Sa='none',eE='bayer8',tE='bluenoise',sE='ignnoise',iE={[Sa]:'NONE',[eE]:'BAYER8',[tE]:'BLUENOISE',[sE]:'IGNNOISE'},rE='prerender',aE='postrender',nE='prerender:'+'layer',oE='postrender'+':layer',mv='precull',_v='postcull',lE='cull:end';class Ad{constructor(_0x4ea783,_0x390c61,_0x41cfe0){h(this,'uniformFor'+'mats',[]),h(this,'bindGroupF'+'ormats',[]),h(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][rl]=_0x4ea783,this['bindGroupF'+'ormats'][rl]=_0x390c61,this['vertexForm'+'at']=_0x41cfe0);}['hasUniform'](_0x56810e){for(let _0x359f42=0x15bc+0x25bc+0x1dbc*-0x2;_0x359f42<this['uniformFor'+'mats']['length'];_0x359f42++){const _0x3d6dd7=this['uniformFor'+'mats'][_0x359f42];if(_0x3d6dd7!=null&&_0x3d6dd7['get'](_0x56810e))return!(-0x1*-0x20ef+-0xb53+-0x159c);}return!(0x27*0x43+-0x1*-0x26b+-0xc9f);}['hasTexture'](_0x3176c3){for(let _0x2260d4=-0x8d5+0x49+0x88c;_0x2260d4<this['bindGroupF'+'ormats']['length'];_0x2260d4++){const _0x17ad38=this['bindGroupF'+'ormats'][_0x2260d4];if(_0x17ad38!=null&&_0x17ad38['getTexture'](_0x3176c3))return!(0x1043+0x10db+0x3*-0xb0a);}return!(-0x2ff+0x4*0x425+-0xd94*0x1);}['getVertexE'+'lement'](_0x212e62){var _0x1958ca;return(_0x1958ca=this['vertexForm'+'at'])==null?void(-0x79*0x45+-0x1*0x1466+0x3503):_0x1958ca['elements']['find'](_0x2a077a=>_0x2a077a['name']===_0x212e62);}['generateKe'+'y'](_0x33b632){var _0x3a16d5;let _0x1d5a99=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x33b632['isWebGPU']&&(_0x1d5a99+=(_0x3a16d5=this['vertexForm'+'at'])==null?void(-0x1*0x20c2+-0x1a59+-0x3b1b*-0x1):_0x3a16d5['shaderProc'+'essingHash'+'String']),_0x1d5a99;}}const gv=new Kt();function Hn(_0x38126c){const _0x3eaf6c=gv['get'](_0x38126c);return w['assert'](_0x3eaf6c),_0x3eaf6c;}function cE(_0x375311,_0x444afd){w['assert'](_0x444afd),gv['get'](_0x375311,()=>_0x444afd);}class ya{static['definesHas'+'h'](_0x474748){const _0x588f1e=Array['from'](_0x474748)['sort']((_0x528fb8,_0x1728e5)=>_0x528fb8[-0x30c+0x2226+-0x1f1a]>_0x1728e5[-0xd4c+0x1*0x1ea1+0x11*-0x105]?0x3*0x239+-0x1*0x12c0+0x2*0x60b:-(-0x2260+0x11a5+0x2a*0x66));return hi(JSON['stringify'](_0x588f1e));}}const hE=new Kt();class dE{constructor(_0x5e60c7,_0x265f74,_0x3938a7={}){h(this,'index'),h(this,'name'),h(this,'defines',new Map()),(w['assert'](/^[a-z]\w*$/i['test'](_0x5e60c7),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x5e60c7),this['name']=_0x5e60c7,this['index']=_0x265f74,Object['assign'](this,_0x3938a7),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x5c485b;this['isShadow']?_0x5c485b='SHADOW':this['isForward']?_0x5c485b='FORWARD':this['index']===Zn&&(_0x5c485b='PICK'),this['defines']['set'](_0x5c485b+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Si{constructor(){h(this,'passesName'+'d',new Map()),h(this,'passesInde'+'xed',[]),h(this,'nextIndex',0x8a*0x27+-0x26d2*0x1+0x11*0x10c);const _0x597f2f=(_0x441609,_0x26d17b,_0x328df6)=>{const _0x3c6227=this['allocate'](_0x441609,_0x328df6);w['assert'](_0x3c6227['index']===_0x26d17b);};_0x597f2f('forward',Aa,{'isForward':!(0x5*0x631+-0x136c+-0x1*0xb89)}),_0x597f2f('prepass',Rl),_0x597f2f('shadow',cm),_0x597f2f('pick',Zn);}static['get'](_0x7a2148){return w['assert'](_0x7a2148),hE['get'](_0x7a2148,()=>new Si());}['allocate'](_0x495930,_0x1a2bb0){let _0x162b56=this['passesName'+'d']['get'](_0x495930);return _0x162b56===void(-0x145a+-0x1f61+0x33bb)&&(_0x162b56=new dE(_0x495930,this['nextIndex'],_0x1a2bb0),this['passesName'+'d']['set'](_0x162b56['name'],_0x162b56),this['passesInde'+'xed'][_0x162b56['index']]=_0x162b56,this['nextIndex']++),_0x162b56;}['getByIndex'](_0xc03270){const _0x355ac8=this['passesInde'+'xed'][_0xc03270];return w['assert'](_0x355ac8),_0x355ac8;}['getByName'](_0x3778df){return this['passesName'+'d']['get'](_0x3778df);}}class __ extends Map{constructor(){super(...arguments),h(this,'_keyDirty',!(-0x25c7+-0x1*-0x1c1e+-0x4d5*-0x2)),h(this,'_key','');}['set'](_0x4e7d73,_0x3fb625){return(!this['has'](_0x4e7d73)||this['get'](_0x4e7d73)!==_0x3fb625)&&this['markDirty'](),super['set'](_0x4e7d73,_0x3fb625);}['add'](_0x2d6e60){for(const [_0x41227f,_0xae81cb]of Object['entries'](_0x2d6e60))this['set'](_0x41227f,_0xae81cb);return this;}['delete'](_0x6b0fc0){const _0x27a94c=this['has'](_0x6b0fc0),_0xa1961c=super['delete'](_0x6b0fc0);return _0x27a94c&&_0xa1961c&&this['markDirty'](),_0xa1961c;}['clear'](){this['size']>0x1*0x23f3+-0x13e4+-0x1*0x100f&&this['markDirty'](),super['clear']();}['markDirty'](){this['_dirty']=!(-0x21dd+0x2*0x510+0x17bd),this['_keyDirty']=!(0x2300+-0x1030*-0x2+-0x9a0*0x7);}['isDirty'](){return this['_dirty'];}['resetDirty'](){this['_dirty']=!(-0x10f9*0x2+-0x4*0x737+-0x8f9*-0x7);}get['key'](){return this['_keyDirty']&&(this['_keyDirty']=!(0x1d32+-0x16*-0x3d+0x1*-0x226f),this['_key']=Array['from'](this['entries']())['sort'](([_0x3ee445],[_0x1f813f])=>_0x3ee445<_0x1f813f?-(0x4c*-0x4b+-0x15c5*0x1+-0xeae*-0x3):_0x3ee445>_0x1f813f?0xc91*-0x1+-0x7*-0x547+-0x16f*0x11:0x15e+-0x9ed+-0x88f*-0x1)['map'](([_0x568924,_0x5f2edc])=>_0x568924+'='+hi(_0x5f2edc))['join'](',')),this['_key'];}['copy'](_0x419f35){this['clear']();for(const [_0x27639c,_0xacc7e7]of _0x419f35)this['set'](_0x27639c,_0xacc7e7);return this;}}const fE=new Kt();class Pe{constructor(){h(this,'glsl',new __()),h(this,'wgsl',new __()),h(this,'version','');}static['get'](_0x4df031,_0x364092=Fe){const _0xd9c055=fE['get'](_0x4df031,()=>new Pe());return _0x364092===Fe?_0xd9c055['glsl']:_0xd9c055['wgsl'];}get['useWGSL'](){return this['glsl']['size']===-0x1e1f+0x1276*0x1+0xba9||this['wgsl']['size']>-0x1ed8+-0xc7+0x1f9f;}get['key'](){return'GLSL:'+this['glsl']['key']+'|WGSL:'+this['wgsl']['key']+'|API:'+this['version'];}['isDirty'](){return this['glsl']['isDirty']()||this['wgsl']['isDirty']();}['resetDirty'](){this['glsl']['resetDirty'](),this['wgsl']['resetDirty']();}['copy'](_0x1ed03f){return this['version']=_0x1ed03f['version'],this['glsl']['copy'](_0x1ed03f['glsl']),this['wgsl']['copy'](_0x1ed03f['wgsl']),this;}}class bh{static['merge'](..._0x32760b){const _0x28eb39=new Map(_0x32760b[-0x2*0xaf7+-0x7e5*-0x1+0xe09]??[]);for(let _0x5d627b=-0x230f+0x1627+0xce9;_0x5d627b<_0x32760b['length'];_0x5d627b++){const _0x1ea940=_0x32760b[_0x5d627b];if(_0x1ea940){for(const [_0x2b598b,_0x431e0e]of _0x1ea940)_0x28eb39['set'](_0x2b598b,_0x431e0e);}}return _0x28eb39;}}class uE extends ya{constructor(_0x1085cb,_0x55b50f){super(),this['key']=_0x1085cb,this['shaderDefi'+'nition']=_0x55b50f;}['generateKe'+'y'](_0x236f4e){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x19ba9f,_0x400a84){return this['shaderDefi'+'nition'];}}class $t{static['createShad'+'er'](_0x5a1162,_0x3aead3){const _0x58aad1=Hn(_0x5a1162);let _0x165d1a=_0x58aad1['getCachedS'+'hader'](_0x3aead3['uniqueName']);if(!_0x165d1a){const _0x577e01=_0x5a1162['isWebGPU']&&(!!_0x3aead3['vertexWGSL']||!!_0x3aead3['vertexChun'+'k'])&&(!!_0x3aead3['fragmentWG'+'SL']||!!_0x3aead3['fragmentCh'+'unk']),_0x56b08f=Pe['get'](_0x5a1162,_0x577e01?it:Fe),_0x1a75dd=_0x3aead3['vertexChun'+'k']?_0x56b08f['get'](_0x3aead3['vertexChun'+'k']):_0x577e01?_0x3aead3['vertexWGSL']:_0x3aead3['vertexGLSL'],_0x179411=_0x3aead3['fragmentCh'+'unk']?_0x56b08f['get'](_0x3aead3['fragmentCh'+'unk']):_0x577e01?_0x3aead3['fragmentWG'+'SL']:_0x3aead3['fragmentGL'+'SL'];w['assert'](_0x1a75dd,'ShaderUtil'+'s.createSh'+'ader:\x20vert'+'ex\x20shader\x20'+'code\x20not\x20p'+'rovided',_0x3aead3),w['assert'](_0x179411,'ShaderUtil'+'s.createSh'+'ader:\x20frag'+'ment\x20shade'+'r\x20code\x20not'+'\x20provided',_0x3aead3);const _0x3422ba=bh['merge'](_0x56b08f,_0x3aead3['fragmentIn'+'cludes']),_0x5110fb=bh['merge'](_0x56b08f,_0x3aead3['vertexIncl'+'udes']);_0x165d1a=new qy(_0x5a1162,Jt['createDefi'+'nition'](_0x5a1162,{'name':_0x3aead3['uniqueName'],'shaderLanguage':_0x577e01?it:Fe,'attributes':_0x3aead3['attributes'],'vertexCode':_0x1a75dd,'fragmentCode':_0x179411,'useTransformFeedback':_0x3aead3['useTransfo'+'rmFeedback'],'vertexIncludes':_0x5110fb,'vertexDefines':_0x3aead3['vertexDefi'+'nes'],'fragmentIncludes':_0x3422ba,'fragmentDefines':_0x3aead3['fragmentDe'+'fines'],'fragmentOutputTypes':_0x3aead3['fragmentOu'+'tputTypes']})),_0x58aad1['setCachedS'+'hader'](_0x3aead3['uniqueName'],_0x165d1a);}return _0x165d1a;}static['getCoreDef'+'ines'](_0x118f28,_0x5b247d){const _0x44f8e0=new Map(_0x118f28['defines']);return _0x5b247d['cameraShad'+'erParams']['defines']['forEach']((_0x37aae4,_0x17b65d)=>_0x44f8e0['set'](_0x17b65d,_0x37aae4)),Si['get'](_0x5b247d['device'])['getByIndex'](_0x5b247d['pass'])['defines']['forEach']((_0x86690c,_0x25bbdb)=>_0x44f8e0['set'](_0x25bbdb,_0x86690c)),_0x44f8e0;}static['processSha'+'der'](_0x391176,_0x4b914e){w['assert'](_0x391176);const _0x1a143d=_0x391176['definition'],_0x1d5a54=(_0x1a143d['name']??'shader')+'-id-'+_0x391176['id'],_0x266fc1=new uE(_0x1d5a54,_0x1a143d),_0xdcc7a2='shader',_0x4b76f6=Hn(_0x391176['device']);w['assert'](!_0x4b76f6['isRegister'+'ed'](_0xdcc7a2)),_0x4b76f6['register'](_0xdcc7a2,_0x266fc1);const _0x18ae8b=_0x4b76f6['getProgram'](_0xdcc7a2,{},_0x4b914e);return _0x4b76f6['unregister'](_0xdcc7a2),_0x18ae8b;}static['addScreenD'+'epthChunkD'+'efines'](_0x57367f,_0x334ec1,_0x4fd4ca){_0x334ec1['sceneDepth'+'MapLinear']&&_0x4fd4ca['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',''),_0x57367f['textureFlo'+'atRenderab'+'le']&&_0x4fd4ca['set']('SCENE_DEPT'+'HMAP_FLOAT','');}}const pE={'type':Er,'base':0x0,'baseVertex':0x0,'count':0x4,'indexed':!(-0xdc6+-0x16ec+0x24b3)},so=new re(),io=new re(),Gd=new ky();class Ah{constructor(_0x4568fb){h(this,'uniformBuf'+'fer'),h(this,'bindGroup');const _0x3fb43a=_0x4568fb['device'];if(this['shader']=_0x4568fb,w['assert'](_0x4568fb),_0x3fb43a['supportsUn'+'iformBuffe'+'rs']){const _0x24063e=new Ad();this['shader']=$t['processSha'+'der'](_0x4568fb,_0x24063e);const _0x15d9fc=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0x15d9fc&&(this['uniformBuf'+'fer']=new zp(_0x3fb43a,_0x15d9fc,!(-0x443*0x2+-0x974*0x2+0x1*0x1b6f)));const _0x31cf07=this['shader']['meshBindGr'+'oupFormat'];w['assert'](_0x31cf07),this['bindGroup']=new Up(_0x3fb43a,_0x31cf07),Ea['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x513bd4,_0x34a1bc;(_0x513bd4=this['uniformBuf'+'fer'])==null||_0x513bd4['destroy'](),this['uniformBuf'+'fer']=null,(_0x34a1bc=this['bindGroup'])==null||_0x34a1bc['destroy'](),this['bindGroup']=null;}['render'](_0x1fcfc8,_0x17f860){const _0x5cd6c0=this['shader']['device'];Q['pushGpuMar'+'ker'](_0x5cd6c0,'QuadRender'),_0x1fcfc8&&(so['set'](_0x5cd6c0['vx'],_0x5cd6c0['vy'],_0x5cd6c0['vw'],_0x5cd6c0['vh']),io['set'](_0x5cd6c0['sx'],_0x5cd6c0['sy'],_0x5cd6c0['sw'],_0x5cd6c0['sh']),_0x17f860=_0x17f860??_0x1fcfc8,_0x5cd6c0['setViewpor'+'t'](_0x1fcfc8['x'],_0x1fcfc8['y'],_0x1fcfc8['z'],_0x1fcfc8['w']),_0x5cd6c0['setScissor'](_0x17f860['x'],_0x17f860['y'],_0x17f860['z'],_0x17f860['w'])),_0x5cd6c0['setVertexB'+'uffer'](_0x5cd6c0['quadVertex'+'Buffer'],0x19ca+-0x1*0x755+-0x1275);const _0x3f11ed=this['shader'];if(_0x5cd6c0['setShader'](_0x3f11ed),_0x5cd6c0['supportsUn'+'iformBuffe'+'rs']){_0x5cd6c0['setBindGro'+'up'](rl,_0x5cd6c0['emptyBindG'+'roup']);const _0x44509e=this['bindGroup'];_0x44509e['update'](),_0x5cd6c0['setBindGro'+'up'](Oy,_0x44509e);const _0x56c09e=this['uniformBuf'+'fer'];_0x56c09e?(_0x56c09e['update'](Gd),_0x5cd6c0['setBindGro'+'up'](su,Gd['bindGroup'],Gd['offsets'])):_0x5cd6c0['setBindGro'+'up'](su,_0x5cd6c0['emptyBindG'+'roup']);}_0x5cd6c0['draw'](pE),_0x1fcfc8&&(_0x5cd6c0['setViewpor'+'t'](so['x'],so['y'],so['z'],so['w']),_0x5cd6c0['setScissor'](io['x'],io['y'],io['z'],io['w'])),Q['popGpuMark'+'er'](_0x5cd6c0);}}class mE extends ys{constructor(_0x104ede,_0x4fb251,_0x14be9a,_0x493742){super(_0x104ede),this['quad']=_0x4fb251,this['rect']=_0x14be9a,this['scissorRec'+'t']=_0x493742;}['execute'](){const {device:_0x272485}=this;Q['pushGpuMar'+'ker'](_0x272485,this['name']+':'+this['quad']['shader']['name']),_0x272485['setCullMod'+'e'](bt),_0x272485['setDepthSt'+'ate'](Yt['NODEPTH']),_0x272485['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),Q['popGpuMark'+'er'](_0x272485);}}const _E=new re();function Ar(_0x2b0850,_0xec130,_0x37feb1,_0x240ce1,_0x2123d7){w['assert'](_0xec130!==void(-0x1651*-0x1+-0x26ab+0x105a));const _0x2d3c6f=arguments[0x2525+-0x3ac+-0x2*0x10ba];w['call'](()=>{_0x2d3c6f!==void(-0xa78+-0x198b+0x2403)&&w['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x339e82=new Ah(_0x37feb1);_0x240ce1||(_0x240ce1=_E,_0x240ce1['x']=0x24de+-0xc0f*-0x1+-0x30ed,_0x240ce1['y']=0xf2e+-0x20f3+0x11c5,_0x240ce1['z']=_0xec130?_0xec130['width']:_0x2b0850['width'],_0x240ce1['w']=_0xec130?_0xec130['height']:_0x2b0850['height']);const _0x4a8fa1=new mE(_0x2b0850,_0x339e82,_0x240ce1,_0x2123d7);_0x4a8fa1['init'](_0xec130),_0x4a8fa1['colorOps']['clear']=!(-0x1961+0x224b+0x8e9*-0x1),_0x4a8fa1['depthStenc'+'ilOps']['clearDepth']=!(-0x1db3+-0x222*0x3+0x241a),_0x2b0850['isWebGPU']&&_0xec130===null&&_0x2b0850['samples']>-0x3*0x2b+0x1d46+-0x107*0x1c&&(_0x4a8fa1['colorOps']['store']=!(-0x35*0x35+-0x11b*0x16+-0x2b7*-0xd)),_0x4a8fa1['render'](),_0x339e82['destroy']();}class g_{constructor(_0xf99ba7,_0x539250,_0x483f63){h(this,'_aabb',new De()),h(this,'origMeshIn'+'stances'),h(this,'meshInstan'+'ce',null),h(this,'dynamic'),h(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0xf99ba7,this['dynamic']=_0x539250,this['batchGroup'+'Id']=_0x483f63);}['destroy'](_0x50db42,_0xbee073){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x50db42,_0xbee073),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0xab00cc,_0x2d7951){for(let _0xb52c4d=0x6a9+-0x59a+-0x10f;_0xb52c4d<_0x2d7951['length'];_0xb52c4d++){const _0x4c56da=_0xab00cc['layers']['getLayerBy'+'Id'](_0x2d7951[_0xb52c4d]);_0x4c56da&&_0x4c56da['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x329056,_0x5f3f6c){for(let _0x29171b=0x1f28+0x22*0x25+-0x2412;_0x29171b<_0x5f3f6c['length'];_0x29171b++){const _0x136305=_0x329056['layers']['getLayerBy'+'Id'](_0x5f3f6c[_0x29171b]);_0x136305&&_0x136305['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][-0x1*0x72c+-0x2a5+0x9d1]['aabb']);for(let _0x5a3682=-0x21a*-0xd+0xc81+-0x2*0x13e9;_0x5a3682<this['origMeshIn'+'stances']['length'];_0x5a3682++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x5a3682]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=-0x31a+0x393*-0x1+-0x1*-0x6ad;}get['model'](){w['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class St{constructor(_0x4f831a,_0x4a173e,_0x295e7f,_0x293785,_0x4a770a=[er]){h(this,'_ui',!(0xd*-0x137+-0x7fc+0x8*0x2f9)),h(this,'_sprite',!(-0x26*0xeb+0x194d+0x996)),h(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),h(this,'id'),h(this,'name'),h(this,'dynamic'),h(this,'maxAabbSiz'+'e'),h(this,'layers'),(this['id']=_0x4f831a,this['name']=_0x4a173e,this['dynamic']=_0x295e7f,this['maxAabbSiz'+'e']=_0x293785,this['layers']=_0x4a770a);}}h(St,'MODEL','model'),h(St,'ELEMENT','element'),h(St,'SPRITE','sprite'),h(St,'RENDER','render');const S_=new te();class Ol{constructor(_0x2a0fe7){h(this,'bones'),(this['_dirty']=!(-0xa*-0x36e+-0x1f81+0xb*-0x41),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(-0xcbe*-0x2+0x24*0x24+0x1e8b*-0x1),this['_updateBef'+'oreCull']=!(-0x242e+0x9b0*0x4+-0x292),_0x2a0fe7&&this['initSkin'](_0x2a0fe7));}set['rootBone'](_0x347c56){this['_rootBone']=_0x347c56;}get['rootBone'](){return this['_rootBone'];}['init'](_0x32da1e,_0x420053){const _0x159bed=_0x420053*(-0xc1*0x11+-0x22f5+0x2fc9);let _0x35b184=Math['ceil'](Math['sqrt'](_0x159bed));_0x35b184=Y['roundUp'](_0x35b184,-0x5e+0x1*0x2d5+-0x274);const _0x555c48=Math['ceil'](_0x159bed/_0x35b184);this['boneTextur'+'e']=new _e(_0x32da1e,{'width':_0x35b184,'height':_0x555c48,'format':Xt,'mipmaps':!(0x1*0x12e9+-0x1cd9+0x9f1),'minFilter':Te,'magFilter':Te,'name':'skin'}),this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':yy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x5cab77,_0x4d3b9f){this['rootBone']=_0x5cab77;const _0x14fe69=this['skin'],_0x3d160a=[];for(let _0x2c7139=0x1651+-0x2ff*0x4+-0x211*0x5;_0x2c7139<_0x14fe69['boneNames']['length'];_0x2c7139++){const _0x3be778=_0x14fe69['boneNames'][_0x2c7139];let _0x17557e=_0x5cab77['findByName'](_0x3be778);_0x17557e||(w['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x3be778+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0x4d3b9f['name']+(',\x20rootBone'+':\x20')+_0x5cab77['name']),_0x17557e=_0x4d3b9f),_0x3d160a['push'](_0x17557e);}this['bones']=_0x3d160a;}['initSkin'](_0x413d37){this['skin']=_0x413d37,this['bones']=[];const _0x4be9aa=_0x413d37['inverseBin'+'dPose']['length'];this['init'](_0x413d37['device'],_0x4be9aa),this['matrices']=[];for(let _0x3ee801=-0x13a5*-0x1+-0x57*0x3d+0x116;_0x3ee801<_0x4be9aa;_0x3ee801++)this['matrices'][_0x3ee801]=new te();}['uploadBone'+'s'](_0x34c55b){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x4f42f7,_0x1519d1){if(this['_skinUpdat'+'eIndex']!==_0x1519d1){this['_skinUpdat'+'eIndex']=_0x1519d1,S_['copy'](_0x4f42f7['getWorldTr'+'ansform']())['invert']();for(let _0x5948b6=this['bones']['length']-(-0x1*0x1c87+-0x24aa+-0x2*-0x2099);_0x5948b6>=-0x67*-0x12+-0x12b4+0xb76;_0x5948b6--)this['matrices'][_0x5948b6]['mulAffine2'](S_,this['bones'][_0x5948b6]['getWorldTr'+'ansform']()),this['matrices'][_0x5948b6]['mulAffine2'](this['matrices'][_0x5948b6],this['skin']['inverseBin'+'dPose'][_0x5948b6]);}}['updateMatr'+'ices'](_0x5a0d76,_0x2f3e37){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x5a0d76,_0x2f3e37);}['updateMatr'+'ixPalette'](_0x3275ba,_0x41603e){this['_updateMat'+'rices'](_0x3275ba,_0x41603e);const _0x27a764=this['matrixPale'+'tte'],_0x2d5f8b=this['bones']['length'];for(let _0x3e2c5f=0xaf3+-0x463+-0x690;_0x3e2c5f<_0x2d5f8b;_0x3e2c5f++){const _0x13dc8f=this['matrices'][_0x3e2c5f]['data'],_0x166f76=_0x3e2c5f*(0xa0f*-0x1+-0xf9*0x1f+-0x1421*-0x2);_0x27a764[_0x166f76]=_0x13dc8f[0x3*-0x517+0x28b+0xcba],_0x27a764[_0x166f76+(-0x1*-0x14ea+0x70f+-0x4*0x6fe)]=_0x13dc8f[-0x2*-0x1349+0x1c43+-0x613*0xb],_0x27a764[_0x166f76+(-0x2243+0x1f9f+-0x3*-0xe2)]=_0x13dc8f[-0x1f*0xe2+-0x1be7+0x374d],_0x27a764[_0x166f76+(-0x23*-0xf+-0xbb9*-0x1+-0xdc3)]=_0x13dc8f[-0xb7d+-0x51d+-0x2*-0x853],_0x27a764[_0x166f76+(-0x39e*-0x3+-0x2582+0x1aac)]=_0x13dc8f[-0x2*-0x3a8+-0x1*-0x1201+-0x8*0x32a],_0x27a764[_0x166f76+(-0x2504+0x1b76+0x331*0x3)]=_0x13dc8f[0x1948+0x2388+0x3ccb*-0x1],_0x27a764[_0x166f76+(0x1*-0x1de1+-0x11b1+0x2f98)]=_0x13dc8f[0x1*0x243a+0x270e+-0x3*0x1915],_0x27a764[_0x166f76+(0x79b+-0x6+0x1*-0x78e)]=_0x13dc8f[0x60a*-0x6+0x138f+0x10ba],_0x27a764[_0x166f76+(-0x1e7e+-0xff6+-0x15e*-0x22)]=_0x13dc8f[-0x5c2+0x414+0x1b0],_0x27a764[_0x166f76+(-0x45*0x4f+0x8*-0x4cb+0x192*0x26)]=_0x13dc8f[-0x11de+0x8*0x4c7+0x515*-0x4],_0x27a764[_0x166f76+(-0x1*-0x1f9+0x1905+-0x1af4)]=_0x13dc8f[-0x2c8*-0xc+-0x915+-0x1841],_0x27a764[_0x166f76+(0xe5*-0x13+-0x2454+0x129*0x2e)]=_0x13dc8f[0x121*-0x11+0xe09+0x536];}this['uploadBone'+'s'](this['skin']['device']);}}class y_ extends Ol{constructor(_0x490b26,_0x309238,_0xe278f7){super();const _0x288660=_0x309238['length'];this['init'](_0x490b26,_0x288660),this['device']=_0x490b26,this['rootNode']=_0xe278f7,this['bones']=_0x309238;}['updateMatr'+'ices'](_0x3b4b5e,_0x3700e1){}['updateMatr'+'ixPalette'](_0x3611fc,_0xfcd672){const _0x3f5adf=this['matrixPale'+'tte'],_0x280e56=this['bones']['length'];for(let _0x10f3a5=-0xb3c+-0x16f3+0x222f;_0x10f3a5<_0x280e56;_0x10f3a5++){const _0x17cc99=this['bones'][_0x10f3a5]['getWorldTr'+'ansform']()['data'],_0x98538=_0x10f3a5*(0xb3*-0x19+-0x1ac0+0x2c47);_0x3f5adf[_0x98538]=_0x17cc99[0x607*0x5+0x74*0x4c+-0x4093],_0x3f5adf[_0x98538+(-0x2610+0x5ee+0x2023)]=_0x17cc99[-0x13a*0xb+0x6b*0x32+-0x764],_0x3f5adf[_0x98538+(-0x244*-0x5+0x4*-0x88+-0x932*0x1)]=_0x17cc99[0x2*-0x7ed+-0x19d2+0x9d*0x44],_0x3f5adf[_0x98538+(0xb2d+0x2462*0x1+-0x2f8c)]=_0x17cc99[0x15*-0xe9+-0x1922+0x2c4b*0x1],_0x3f5adf[_0x98538+(0x1439+-0x70+-0x13c5)]=_0x17cc99[-0x127+0xe57+-0xd2f],_0x3f5adf[_0x98538+(0x13*0x133+0x6f4+-0x1db8)]=_0x17cc99[0x2507+0x225e+-0x476*0x10],_0x3f5adf[_0x98538+(-0xb73+-0x2489+-0x4cd*-0xa)]=_0x17cc99[-0x1b33+0x16f*0x5+0x1411],_0x3f5adf[_0x98538+(0x20cf+0x3*0x2ec+-0x298c)]=_0x17cc99[-0xb84+-0x373+0x3e*0x3e],_0x3f5adf[_0x98538+(-0x1875+0x11f*-0x7+0x2056)]=_0x17cc99[-0x1d84+0x230f+-0x1*0x589],_0x3f5adf[_0x98538+(0x3f*0x31+-0x1f26+-0x99*-0x20)]=_0x17cc99[-0x23*-0x7+-0x18a+0x9b],_0x3f5adf[_0x98538+(0x148f+0x6a1*-0x5+0xca0)]=_0x17cc99[0x211*0x1+0x24f+-0x6f*0xa],_0x3f5adf[_0x98538+(-0x1c0e+-0xf*0x213+0x3b36)]=_0x17cc99[-0x1b4c+0x2a1+-0x18b9*-0x1];}this['uploadBone'+'s'](this['device']);}}let gE=-0x1726+0x192a+0x6*-0x56;class oi{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(-0x51d*0x6+-0x1e65+0x3d14),this['verticesUs'+'age']=ms,this['indicesUsa'+'ge']=ms,this['maxVertice'+'s']=0x252+-0x3*0x339+0x759,this['maxIndices']=-0x66f*-0x3+0x1f19+0x2*-0x1933,this['vertexCoun'+'t']=-0x19d3*-0x1+-0xc*-0xd7+-0x23e7,this['indexCount']=0xa06+-0x1097*0x2+-0x98*-0x27,this['vertexStre'+'amsUpdated']=!(-0x1211+0x1*0x163b+-0x429),this['indexStrea'+'mUpdated']=!(0xad9+0x1c3a*0x1+-0x2712),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0x1f81c6,_0x1fef82){this['vertexCoun'+'t']?w['assert'](this['vertexCoun'+'t']===_0x1f81c6,'Vertex\x20str'+'eam\x20'+_0x1fef82+'\x20has\x20'+_0x1f81c6+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0x1f81c6;}}h(oi,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',-0xd7f*-0x1+-0xf32+0x6*0x49),h(oi,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',0xfc1*-0x1+-0xa08+0x19cc),h(oi,'DEFAULT_CO'+'MPONENTS_U'+'V',-0x34a+-0x130+0x2*0x23e),h(oi,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',0x7*0x53f+0x9d5+0xe*-0x353);class SE{constructor(_0x2c3ac8,_0x3a0b0a,_0x3039d9,_0x286a5c,_0x3cde8e){this['data']=_0x2c3ac8,this['componentC'+'ount']=_0x3a0b0a,this['dataType']=_0x3039d9,this['dataTypeNo'+'rmalize']=_0x286a5c,this['asInt']=_0x3cde8e;}}class Ge extends wd{constructor(_0x3faf38,_0x4f88a9){super(),h(this,'indexBuffe'+'r',[null]),h(this,'vertexBuff'+'er',null),h(this,'primitive',[{'type':0x0,'base':0x0,'baseVertex':0x0,'count':0x0}]),h(this,'skin',null),h(this,'boneAabb',null),h(this,'_aabbVer',0x2*0x95f+-0x22a2+-0xfe4*-0x1),h(this,'_aabb',new De()),h(this,'_geometryD'+'ata',null),h(this,'_morph',null),h(this,'_storageIn'+'dex',!(0x943*-0x4+-0x1c7*-0x5+-0xa*-0x2d1)),h(this,'_storageVe'+'rtex',!(-0x1*-0xd4a+-0xc*0x1c2+-0x7cf*-0x1)),(this['id']=gE++,w['assert'](_0x3faf38,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x3faf38,this['_storageIn'+'dex']=(_0x4f88a9==null?void(0xb*0x2b3+0x1b09+-0x38ba):_0x4f88a9['storageInd'+'ex'])||!(0x6c8+-0x5*-0x13+-0x6*0x131),this['_storageVe'+'rtex']=(_0x4f88a9==null?void(0x2*0xff9+-0x191f+0x6d3*-0x1):_0x4f88a9['storageVer'+'tex'])||!(-0x16fc+-0xd*0x139+0x26e2));}static['fromGeomet'+'ry'](_0x176cfd,_0x445a47,_0x9d9371={}){const _0x2c7786=new Ge(_0x176cfd,_0x9d9371),{positions:_0x78ae65,normals:_0x129baf,tangents:_0x11037c,colors:_0x591f8d,uvs:_0x4621d6,uvs1:_0xf46d39,blendIndices:_0x49b67f,blendWeights:_0x4b18f6,indices:_0x144420}=_0x445a47;return _0x78ae65&&_0x2c7786['setPositio'+'ns'](_0x78ae65),_0x129baf&&_0x2c7786['setNormals'](_0x129baf),_0x11037c&&_0x2c7786['setVertexS'+'tream'](yi,_0x11037c,0x1759+0x1f*0x137+-0x3cfe),_0x591f8d&&_0x2c7786['setColors3'+'2'](_0x591f8d),_0x4621d6&&_0x2c7786['setUvs'](0x1*-0x1de1+-0x2*-0x120d+-0x639,_0x4621d6),_0xf46d39&&_0x2c7786['setUvs'](0x1cfb+-0xd0*0x8+-0x167a,_0xf46d39),_0x49b67f&&_0x2c7786['setVertexS'+'tream'](us,_0x49b67f,0x11*-0x1c6+0xc6f+0x10b*0x11,_0x49b67f['length']/(-0x1fc6+0xa78+0x1552),la),_0x4b18f6&&_0x2c7786['setVertexS'+'tream'](gi,_0x4b18f6,-0x3*0x1a5+-0x51*0x57+0x1*0x207a),_0x144420&&_0x2c7786['setIndices'](_0x144420),_0x2c7786['update'](),_0x2c7786;}set['morph'](_0x3c9920){_0x3c9920!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x3c9920,_0x3c9920&&_0x3c9920['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x92b413){this['_aabb']=_0x92b413,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x175e32=this['morph'];_0x175e32&&(this['morph']=null,_0x175e32['refCount']<0x1e3e+0x155c+-0x275*0x15&&_0x175e32['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0x45d71b=-0x19ad*0x1+-0x43d*-0x8+-0x83b;_0x45d71b<this['indexBuffe'+'r']['length'];_0x45d71b++)this['_destroyIn'+'dexBuffer'](_0x45d71b);this['indexBuffe'+'r']['length']=-0x1723+-0xd3*0x11+-0xf*-0x27a,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x24e57a){this['indexBuffe'+'r'][_0x24e57a]&&(this['indexBuffe'+'r'][_0x24e57a]['destroy'](),this['indexBuffe'+'r'][_0x24e57a]=null);}['_initBoneA'+'abbs'](_0x45c3ce){this['boneAabb']=[],this['boneUsed']=[];let _0x46162b,_0x242e19,_0x5bb814,_0x14aaa3,_0xfb83e5;const _0x5e9f2e=[],_0x19b4c1=[],_0x16fb66=this['boneUsed'],_0x365960=this['skin']['boneNames']['length'];let _0x38a2bc,_0xa4c91b,_0x11377a;for(let _0x4dd7ae=0x13*-0xb2+-0x10b9+0x1def;_0x4dd7ae<_0x365960;_0x4dd7ae++)_0x5e9f2e[_0x4dd7ae]=new D(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x19b4c1[_0x4dd7ae]=new D(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x1269ca=new Uo(this['vertexBuff'+'er']),_0x4375c6=_0x1269ca['element'][Me],_0x476c69=_0x1269ca['element'][gi],_0x299f15=_0x1269ca['element'][us],_0x2eaac1=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0x25b6ad=0x22ed+0x8bd*-0x4+-0x1*-0x7;_0x25b6ad<_0x2eaac1;_0x25b6ad++){for(let _0x2a70c9=0x1*0x463+-0x11f5+0xd92;_0x2a70c9<-0x69+0x1*0x16ba+-0x164d*0x1;_0x2a70c9++)if(_0x476c69['array'][_0x476c69['index']+_0x2a70c9]>-0x52*0xb+0x1b75+0x17ef*-0x1){const _0x172945=_0x299f15['array'][_0x299f15['index']+_0x2a70c9];if(_0x16fb66[_0x172945]=!(0x5*-0x36d+0x942+0x7df*0x1),_0x46162b=_0x4375c6['array'][_0x4375c6['index']],_0x242e19=_0x4375c6['array'][_0x4375c6['index']+(0x29*-0x29+0x957+-0x1*0x2c5)],_0x5bb814=_0x4375c6['array'][_0x4375c6['index']+(0x29b+0x179a+-0x1a33*0x1)],_0x14aaa3=_0x19b4c1[_0x172945],_0xfb83e5=_0x5e9f2e[_0x172945],_0xfb83e5['x']>_0x46162b&&(_0xfb83e5['x']=_0x46162b),_0xfb83e5['y']>_0x242e19&&(_0xfb83e5['y']=_0x242e19),_0xfb83e5['z']>_0x5bb814&&(_0xfb83e5['z']=_0x5bb814),_0x14aaa3['x']<_0x46162b&&(_0x14aaa3['x']=_0x46162b),_0x14aaa3['y']<_0x242e19&&(_0x14aaa3['y']=_0x242e19),_0x14aaa3['z']<_0x5bb814&&(_0x14aaa3['z']=_0x5bb814),_0x45c3ce){let _0xca2527=_0x38a2bc=_0x46162b,_0x44d080=_0xa4c91b=_0x242e19,_0x125e4e=_0x11377a=_0x5bb814;for(let _0x41e03f=0x1820+0x5f*0x39+-0x2d47*0x1;_0x41e03f<_0x45c3ce['length'];_0x41e03f++){const _0x179106=_0x45c3ce[_0x41e03f],_0x2dd558=_0x179106['deltaPosit'+'ions'][_0x25b6ad*(-0xd*-0x97+-0x3*0x9dd+0x463*0x5)],_0x495731=_0x179106['deltaPosit'+'ions'][_0x25b6ad*(-0x16f*0xe+0x3*0x630+-0x1*-0x185)+(-0x6*0x301+-0x49*-0x1f+0x1c*0x54)],_0x545dba=_0x179106['deltaPosit'+'ions'][_0x25b6ad*(-0x1271+-0xa*-0x2d7+-0x9f2)+(-0x7a*0x2e+-0x697+0x1c85)];_0x2dd558<-0x20b8+-0x11fb+0x1*0x32b3?_0xca2527+=_0x2dd558:_0x38a2bc+=_0x2dd558,_0x495731<0x1*0x2005+-0x11fb*-0x1+-0x3200?_0x44d080+=_0x495731:_0xa4c91b+=_0x495731,_0x545dba<0x9*-0x1d5+-0x13f*-0x3+0xcc0?_0x125e4e+=_0x545dba:_0x11377a+=_0x545dba;}_0xfb83e5['x']>_0xca2527&&(_0xfb83e5['x']=_0xca2527),_0xfb83e5['y']>_0x44d080&&(_0xfb83e5['y']=_0x44d080),_0xfb83e5['z']>_0x125e4e&&(_0xfb83e5['z']=_0x125e4e),_0x14aaa3['x']<_0x38a2bc&&(_0x14aaa3['x']=_0x38a2bc),_0x14aaa3['y']<_0xa4c91b&&(_0x14aaa3['y']=_0xa4c91b),_0x14aaa3['z']<_0x11377a&&(_0x14aaa3['z']=_0x11377a);}}_0x1269ca['next']();}const _0x47e9ca=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x259f4a=>_0x259f4a['name']===Me);if(_0x47e9ca&&_0x47e9ca['normalize']){const _0xa3aa96=((()=>{switch(_0x47e9ca['dataType']){case dd:return _0x5530ca=>Math['max'](_0x5530ca/(0x7*-0x30a+0xc*-0x33d+0x391*0x11),-(0x16de+-0x811+-0xecc));case la:return _0x36e634=>_0x36e634/(-0x802+-0x1eab+0x4*0x9eb);case fd:return _0x4ec304=>Math['max'](_0x4ec304/(0x1a8e*-0x1+-0x749e+0xd3*0x149),-(-0x673*0x2+-0x992+0xb*0x20b));case Ml:return _0x283661=>_0x283661/(-0x6*0x937+0x4*0x3481+0x6545);default:return _0x3da4d9=>_0x3da4d9;}})());for(let _0x21a171=-0x2010+0x2*0x492+0x28c*0x9;_0x21a171<_0x365960;_0x21a171++)if(_0x16fb66[_0x21a171]){const _0x59e245=_0x5e9f2e[_0x21a171],_0x2051c3=_0x19b4c1[_0x21a171];_0x59e245['set'](_0xa3aa96(_0x59e245['x']),_0xa3aa96(_0x59e245['y']),_0xa3aa96(_0x59e245['z'])),_0x2051c3['set'](_0xa3aa96(_0x2051c3['x']),_0xa3aa96(_0x2051c3['y']),_0xa3aa96(_0x2051c3['z']));}}for(let _0x57ff66=0x219b+0x95*0x9+-0x26d8;_0x57ff66<_0x365960;_0x57ff66++){const _0x1a812b=new De();_0x1a812b['setMinMax'](_0x5e9f2e[_0x57ff66],_0x19b4c1[_0x57ff66]),this['boneAabb']['push'](_0x1a812b);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new oi(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>-0x7c3+-0x23bb+0x2b7e&&this['indexBuffe'+'r'][-0x24d5+0x9*-0x332+0x4197]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][-0x2*-0x2d2+-0x15b1+-0x7*-0x24b]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][0x1279*-0x1+0x1f6a+-0xcf1]['numIndices']));}['clear'](_0x1f0b6c,_0x13cb77,_0x308736=-0xe57*0x2+0x1c4f+0x5f,_0x12979a=0x1*0x156b+0xa1d+-0x2*0xfc4){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(-0xef+0x2ba*-0x3+-0x91d*-0x1),this['_geometryD'+'ata']['maxVertice'+'s']=_0x308736,this['_geometryD'+'ata']['maxIndices']=_0x12979a,this['_geometryD'+'ata']['verticesUs'+'age']=_0x1f0b6c?ms:lh,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0x13cb77?ms:lh;}['setVertexS'+'tream'](_0x34fd9c,_0x3971a6,_0x17f5f7,_0x1b3aae,_0x500707=Ve,_0x2ebc35=!(-0xe3*-0x1d+-0x1f94+-0x1*-0x5de),_0xdc1851=!(-0x20fd+0x1b8f+-0xd*-0x6b)){this['_initGeome'+'tryData']();const _0x47a63f=_0x1b3aae||_0x3971a6['length']/_0x17f5f7;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x47a63f,_0x34fd9c),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0x1*-0x214d+0x1a89+-0x4*-0x1b1),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x34fd9c]=new SE(_0x3971a6,_0x17f5f7,_0x500707,_0x2ebc35,_0xdc1851);}['getVertexS'+'tream'](_0x46f673,_0x1d3eaf){let _0x3fd1a8=-0xea8+-0x22b8+0x3160,_0x2ef9fe=!(0x8a8*-0x1+-0x1*0x24b1+-0x81*-0x5a);if(this['_geometryD'+'ata']){const _0x245094=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x46f673];_0x245094&&(_0x2ef9fe=!(-0x1ccf+-0x9a*-0x2+0xbf*0x25),_0x3fd1a8=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x1d3eaf)?_0x1d3eaf['set'](_0x245094['data']):(_0x1d3eaf['length']=0x11d1+-0xa*0x8a+-0xc6d*0x1,_0x1d3eaf['push'](_0x245094['data'])));}return _0x2ef9fe||this['vertexBuff'+'er']&&(_0x3fd1a8=new Uo(this['vertexBuff'+'er'])['readData'](_0x46f673,_0x1d3eaf)),_0x3fd1a8;}['setPositio'+'ns'](_0x2e97c4,_0x2feaa2=oi['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x29a85a){this['setVertexS'+'tream'](Me,_0x2e97c4,_0x2feaa2,_0x29a85a,Ve,!(0xd73+-0x7f*-0x2+-0x4*0x39c));}['setNormals'](_0x16ad18,_0x10109b=oi['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x43cabd){this['setVertexS'+'tream'](gs,_0x16ad18,_0x10109b,_0x43cabd,Ve,!(0x117d+0x1e6+-0x1362));}['setUvs'](_0x2be244,_0xaf7ec9,_0x1b69bb=oi['DEFAULT_CO'+'MPONENTS_U'+'V'],_0x1b85aa){this['setVertexS'+'tream'](zm+_0x2be244,_0xaf7ec9,_0x1b69bb,_0x1b85aa,Ve,!(0x7af+0x205c+-0x280a));}['setColors'](_0x1f8c0f,_0x4a5d46=oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x3766c4){this['setVertexS'+'tream'](Wt,_0x1f8c0f,_0x4a5d46,_0x3766c4,Ve,!(-0x1*-0x154c+0x182+-0xd*0x1c1));}['setColors3'+'2'](_0x1cb10f,_0x46f91f){this['setVertexS'+'tream'](Wt,_0x1cb10f,oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x46f91f,la,!(0xf4c+-0x982*-0x1+-0x1*0x18ce));}['setIndices'](_0x138497,_0x34bab5){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(-0x137b+0x2*0x2b0+0xe1b),this['_geometryD'+'ata']['indices']=_0x138497,this['_geometryD'+'ata']['indexCount']=_0x34bab5||_0x138497['length'];}['getPositio'+'ns'](_0x2d0eab){return this['getVertexS'+'tream'](Me,_0x2d0eab);}['getNormals'](_0x53bb62){return this['getVertexS'+'tream'](gs,_0x53bb62);}['getUvs'](_0x298333,_0x229883){return this['getVertexS'+'tream'](zm+_0x298333,_0x229883);}['getColors'](_0x15d4c3){return this['getVertexS'+'tream'](Wt,_0x15d4c3);}['getIndices'](_0x5b21b3){let _0x1160f8=-0x21bb+0x1ea3*0x1+0x58*0x9;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x4021fe=this['_geometryD'+'ata']['indices'];if(_0x1160f8=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x5b21b3))_0x5b21b3['set'](_0x4021fe);else{_0x5b21b3['length']=0x1008+0x139*0x1d+-0x337d;for(let _0x1d2ff6=-0x100*-0x1a+0x1048+0x108*-0x29,_0x2e1c8d=_0x4021fe['length'];_0x1d2ff6<_0x2e1c8d;_0x1d2ff6++)_0x5b21b3['push'](_0x4021fe[_0x1d2ff6]);}}else this['indexBuffe'+'r']['length']>-0x87a+0xdbe*-0x2+0x2*0x11fb&&this['indexBuffe'+'r'][0x294+0x3*0x203+-0x89d]&&(_0x1160f8=this['indexBuffe'+'r'][-0x1f8b+-0x1*0x65+0x10*0x1ff]['readData'](_0x5b21b3));return _0x1160f8;}['update'](_0x256fa6=js,_0x382807=!(-0x1223+-0x1451*0x1+0x2674)){if(this['_geometryD'+'ata']){if(_0x382807){const _0x461d64=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][Me];_0x461d64&&_0x461d64['componentC'+'ount']===-0x1*0x19a9+0x1ec+0x17c0&&(this['_aabb']['compute'](_0x461d64['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x38a9a3=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x38a9a3=!(0x21a0+0x210d+0x1*-0x42ad),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x38a9a3&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x5e653f=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x5e653f=!(0x11b*0xd+-0x2db+0x2c*-0x43),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x5e653f&&this['indexBuffe'+'r']['length']>0x1*0x157a+0x879+-0xb*0x2b9&&this['indexBuffe'+'r'][0xda2+0x2186+-0x2f28]&&(this['indexBuffe'+'r'][0x7*0x12b+0x1*-0x147e+0xc51]['destroy'](),this['indexBuffe'+'r'][-0x6f*-0x7+-0xeca*0x2+0x1a8b]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][0x261f+-0x2284+-0x1*0x39b]['type']=_0x256fa6,this['indexBuffe'+'r']['length']>-0x7*-0x47b+-0x1357*-0x2+0x3*-0x1759&&this['indexBuffe'+'r'][0xf4*-0x1f+-0x4*0x6c7+0x38a8]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][-0x223e*0x1+-0x3bc*-0x9+-0x12*-0x9]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][0x773*0x5+-0x8ca+-0x1c75]['indexed']=!(0x1aa2+-0x17d+-0x1925)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][0xc08+0x4f9*-0x7+0x341*0x7]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][0x8fc+-0x3ad*0x4+0x5b8]['indexed']=!(0xd20+0x3*-0x119+-0x9d4)),this['_geometryD'+'ata']['vertexCoun'+'t']=0xb16+-0x141c+0x1*0x906,this['_geometryD'+'ata']['indexCount']=0x20f2+0xa57*-0x2+-0xc44,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0x67c+-0xe29+0x1*0x14a6),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(-0x207e+-0x1*-0x1a95+0x5ea),this['_geometryD'+'ata']['recreate']=!(-0x754*-0x4+-0x7c7+-0x1588),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x47e960){const _0x294628=[];for(const _0x6e0fd5 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x1d30b2=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x6e0fd5];_0x294628['push']({'semantic':_0x6e0fd5,'components':_0x1d30b2['componentC'+'ount'],'type':_0x1d30b2['dataType'],'normalize':_0x1d30b2['dataTypeNo'+'rmalize'],'asInt':_0x1d30b2['asInt']});}return new kt(this['device'],_0x294628,_0x47e960);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0xea68a3=this['_geometryD'+'ata']['maxVertice'+'s'],_0x49b2f5=this['_buildVert'+'exFormat'](_0xea68a3);this['vertexBuff'+'er']=new Is(this['device'],_0x49b2f5,_0xea68a3,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x244641=new Uo(this['vertexBuff'+'er']),_0x299b31=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x9f0d6f in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0xb11413=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x9f0d6f];_0x244641['writeData'](_0x9f0d6f,_0xb11413['data'],_0x299b31),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x9f0d6f];}_0x244641['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=-0xcb2+0x1*0x2231+-0x157f||!this['indexBuffe'+'r'][-0x2460+-0x60+0x1c0*0x15]){const _0x22c30e=this['_geometryD'+'ata']['maxVertice'+'s'],_0x3b73b4=_0x22c30e>0x10c04+-0x1ffd3+0x1f3ce||_0x22c30e===0x1773+-0x78e*0x1+-0xfe5?wr:Yi,_0x384e84=this['_storageIn'+'dex']?{'storage':!(0x11e9+0x2321*-0x1+0x1138)}:void(0x20b*0x6+-0x41*-0x3+-0xd05);this['indexBuffe'+'r'][-0x34c*-0x8+-0x7bb+0x1*-0x12a5]=new br(this['device'],_0x3b73b4,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(0x11d6+-0x1e*0x4b+0x182*-0x6),_0x384e84);}const _0xe3e952=this['_geometryD'+'ata']['indices'];_0xe3e952&&(this['indexBuffe'+'r'][0xea7+-0x211f+0x1278]['writeData'](_0xe3e952,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x426af2){_0x426af2===$r?this['generateWi'+'reframe']():_0x426af2===Jl&&(this['primitive'][Jl]={'type':cd,'base':0x0,'baseVertex':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:0x1*-0x1395+-0x2362+0x36f7*0x1,'indexed':!(0x1d*0x63+0x1*-0xa9b+-0x9b)});}['updateRend'+'erStates'](){this['primitive'][Jl]&&this['prepareRen'+'derState'](Jl),this['primitive'][$r]&&this['prepareRen'+'derState']($r);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer']($r);const _0x5db21a=this['vertexBuff'+'er']['numVertice'+'s'],_0x5cccba=[];let _0x309c26;if(this['indexBuffe'+'r']['length']>-0x1*0x225a+-0x14c4+-0x1*-0x371e&&this['indexBuffe'+'r'][-0x215+-0x1*0x1ee9+-0x2*-0x107f]){const _0x1bde9a=[[0x167d+-0x237f+0xd02,-0x1d93+0x763+0x1631],[0x1f0d*0x1+0x1*0x607+-0x2513*0x1,0x34*0x58+0x2287*-0x1+0x10a9],[-0x5db*0x1+-0x47*-0x19+0x1*-0x112,0x10*0x1c1+-0x10*0xaa+-0xf8*0x12]],_0x1064d9=this['primitive'][un]['base'],_0x9f9a33=this['primitive'][un]['count'],_0x4e3229=this['primitive'][un]['baseVertex']||0x30f+0x1d0d+-0x201c,_0x326cbe=this['indexBuffe'+'r'][un],_0x3e2144=new Sh[_0x326cbe['format']](_0x326cbe['storage']),_0x2aaf2b=new Set();for(let _0x41be06=_0x1064d9;_0x41be06<_0x1064d9+_0x9f9a33;_0x41be06+=0xa*-0x2b9+-0x24e7+0x335*0x14)for(let _0x44714e=-0xb77+-0x183*-0x11+-0xe3c;_0x44714e<-0xad*-0x1+0x216b+-0x2215;_0x44714e++){const _0x14996e=_0x3e2144[_0x41be06+_0x1bde9a[_0x44714e][0xeb5*-0x2+0x1e2c+-0xc2]]+_0x4e3229,_0x982eab=_0x3e2144[_0x41be06+_0x1bde9a[_0x44714e][0x2199+-0x1dd6+-0x3c2*0x1]]+_0x4e3229,_0x4893f5=_0x14996e>_0x982eab?_0x982eab*_0x5db21a+_0x14996e:_0x14996e*_0x5db21a+_0x982eab;_0x2aaf2b['has'](_0x4893f5)||(_0x2aaf2b['add'](_0x4893f5),_0x5cccba['push'](_0x14996e,_0x982eab));}_0x309c26=_0x326cbe['format'];}else{for(let _0xf81022=0x30b*-0x1+0x231*0x3+-0x388;_0xf81022<_0x5db21a;_0xf81022+=-0x1ef6+-0x254a+0x48d*0xf)_0x5cccba['push'](_0xf81022,_0xf81022+(0x16c7+0x2138+-0x37fe),_0xf81022+(0x1cdd+-0xd02+0x2*-0x7ed),_0xf81022+(0x755*-0x2+-0x23c*-0xb+-0x9e8),_0xf81022+(-0x23a9+0xf7*0x1+-0x22b4*-0x1),_0xf81022);_0x309c26=_0x5cccba['length']>0xe905+0x35d6*0x7+0x260*-0x95?wr:Yi;}const _0xc874d3=new br(this['vertexBuff'+'er']['device'],_0x309c26,_0x5cccba['length']);new Sh[_0xc874d3['format']](_0xc874d3['storage'])['set'](_0x5cccba),_0xc874d3['unlock'](),this['primitive'][$r]={'type':hd,'base':0x0,'baseVertex':0x0,'count':_0x5cccba['length'],'indexed':!(0x22aa+0x1*-0xed5+-0x1*0x13d5)},this['indexBuffe'+'r'][$r]=_0xc874d3;}}const v_=new te(),Hd=new D(),x_=new le(),Wd=new le(),T_=new D(),w_=new D(),yE=new te(),vE=new le(),rs=new D(),ro=new te(),as=new le(),Ia=new le(),E_=new te(),$d=new D(),tc=new D();function b_(_0x1d032d,_0x251bf5){return _0x1d032d instanceof Function?_0x1d032d:_0x4c9c33=>{let _0x292ee1=_0x4c9c33[_0x1d032d];return _0x292ee1 instanceof Function&&(_0x292ee1=_0x292ee1()),_0x292ee1===_0x251bf5;};}function Sv(_0x462299,_0x6b7970){if(_0x6b7970(_0x462299))return _0x462299;const _0x30e87a=_0x462299['_children'],_0x19ed7f=_0x30e87a['length'];for(let _0x380cbb=-0x2011+-0x3*0x899+0x39dc;_0x380cbb<_0x19ed7f;++_0x380cbb){const _0x12a1c2=Sv(_0x30e87a[_0x380cbb],_0x6b7970);if(_0x12a1c2)return _0x12a1c2;}return null;}class Ie extends me{constructor(_0x3f41ad='Untitled'){super(),h(this,'name'),h(this,'tags',new Oo(this)),h(this,'localPosit'+'ion',new D()),h(this,'localRotat'+'ion',new le()),h(this,'localScale',new D(0x118a+-0x916+-0x15*0x67,-0x1d87*-0x1+-0x1d9+-0x1bad,-0x81*0xa+0x4bf+0x4c)),h(this,'localEuler'+'Angles',new D()),h(this,'position',new D()),h(this,'rotation',new le()),h(this,'eulerAngle'+'s',new D()),h(this,'_scale',null),h(this,'localTrans'+'form',new te()),h(this,'_dirtyLoca'+'l',!(0x14f6+-0x1*-0xba2+-0x39f*0x9)),h(this,'_aabbVer',0x3b7*-0x3+0x433+-0x1*-0x6f2),h(this,'_frozen',!(-0x166*-0x17+-0x1*-0x1ba8+-0x3bd1)),h(this,'worldTrans'+'form',new te()),h(this,'_dirtyWorl'+'d',!(0x15*-0x37+-0x1*0x2bd+0x741)),h(this,'_worldScal'+'eSign',-0x4*-0x81d+0x20b5+0x94f*-0x7),h(this,'_normalMat'+'rix',new _i()),h(this,'_dirtyNorm'+'al',!(-0x20a9+0x2435+0x38c*-0x1)),h(this,'_right',null),h(this,'_up',null),h(this,'_forward',null),h(this,'_parent',null),h(this,'_children',[]),h(this,'_graphDept'+'h',-0x335*-0x2+-0x1*-0x1593+-0x1bfd),h(this,'_enabled',!(0x125*0x2+-0xd3*-0x1f+-0x1bd7*0x1)),h(this,'_enabledIn'+'Hierarchy',!(-0x66*-0x2b+0x7*-0xf7+0x14c*-0x8)),h(this,'scaleCompe'+'nsation',!(0x1807+0x2a*0x6d+-0x29e8*0x1)),this['name']=_0x3f41ad;}get['right'](){return this['_right']||(this['_right']=new D()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new D()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new D()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(-0x17b8+-0xd56+0x250f));}get['normalMatr'+'ix'](){const _0x4b15c6=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x4b15c6['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(0x266d+0x21f3+-0x485f)),_0x4b15c6;}set['enabled'](_0x313e7f){var _0x48a70f;this['_enabled']!==_0x313e7f&&(this['_enabled']=_0x313e7f,(_0x313e7f&&((_0x48a70f=this['_parent'])!=null&&_0x48a70f['enabled'])||!_0x313e7f)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x313e7f));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x375a8b=this['_parent'];if(!_0x375a8b)return'';let _0x539c23=this['name'];for(;_0x375a8b&&_0x375a8b['_parent'];)_0x539c23=_0x375a8b['name']+'/'+_0x539c23,_0x375a8b=_0x375a8b['_parent'];return _0x539c23;}get['root'](){let _0x3c5919=this;for(;_0x3c5919['_parent'];)_0x3c5919=_0x3c5919['_parent'];return _0x3c5919;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x576635,_0x24a3cc){_0x576635['_onHierarc'+'hyStateCha'+'nged'](_0x24a3cc);const _0x9fcd80=_0x576635['_children'];for(let _0x266bb8=0x1f07+0x25c2+-0x44c9,_0x384eed=_0x9fcd80['length'];_0x266bb8<_0x384eed;_0x266bb8++)_0x9fcd80[_0x266bb8]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x9fcd80[_0x266bb8],_0x24a3cc);}['_onHierarc'+'hyStateCha'+'nged'](_0x152ec9){this['_enabledIn'+'Hierarchy']=_0x152ec9,_0x152ec9&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x52f8ff){_0x52f8ff['name']=this['name'];const _0x2d98a0=this['tags']['_list'];_0x52f8ff['tags']['clear']();for(let _0x19df47=-0xf07+0x54a+-0x9*-0x115;_0x19df47<_0x2d98a0['length'];_0x19df47++)_0x52f8ff['tags']['add'](_0x2d98a0[_0x19df47]);_0x52f8ff['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x52f8ff['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x52f8ff['localScale']['copy'](this['localScale']),_0x52f8ff['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x52f8ff['position']['copy'](this['position']),_0x52f8ff['rotation']['copy'](this['rotation']),_0x52f8ff['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x52f8ff['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x52f8ff['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x52f8ff['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x52f8ff['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x52f8ff['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x52f8ff['_aabbVer']=this['_aabbVer']+(0x3da+-0x743+0x36a),_0x52f8ff['_enabled']=this['_enabled'],_0x52f8ff['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x52f8ff['_enabledIn'+'Hierarchy']=!(-0x1eaa+-0x3ef*-0x9+-0x3*0x194);}['clone'](){const _0x5dcc74=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x5dcc74),_0x5dcc74;}['copy'](_0x39a3bb){return _0x39a3bb['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x1de979=this['_children'];for(;_0x1de979['length'];){const _0x38229f=_0x1de979['pop']();_0x38229f['_parent']=null,_0x38229f['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x23771f,_0x3b2712){const _0xaaddb4=[],_0x2f8293=b_(_0x23771f,_0x3b2712);return this['forEach'](_0x249af7=>{_0x2f8293(_0x249af7)&&_0xaaddb4['push'](_0x249af7);}),_0xaaddb4;}['findOne'](_0x27342a,_0x17c370){const _0x48b97c=b_(_0x27342a,_0x17c370);return Sv(this,_0x48b97c);}['findByTag'](..._0x2ac310){const _0x3371c9=[],_0x32c068=(_0x350ce0,_0x4f3f5b)=>{_0x4f3f5b&&_0x350ce0['tags']['has'](..._0x2ac310)&&_0x3371c9['push'](_0x350ce0);for(let _0x3582e3=0x3*0x7ea+-0x2190+0x9d2;_0x3582e3<_0x350ce0['_children']['length'];_0x3582e3++)_0x32c068(_0x350ce0['_children'][_0x3582e3],!(0x2a9*-0x1+0x4e3*-0x6+0x1ffb));};return _0x32c068(this,!(0x4*-0x3ce+-0xd59+0x6a*0x45)),_0x3371c9;}['findByName'](_0xcdc8d1){return this['findOne']('name',_0xcdc8d1);}['findByPath'](_0x3dc004){const _0x5c5661=Array['isArray'](_0x3dc004)?_0x3dc004:_0x3dc004['split']('/');let _0x47b135=this;for(let _0x3e364a=-0x425+-0x13*0xee+0x15cf,_0x1c816a=_0x5c5661['length'];_0x3e364a<_0x1c816a;++_0x3e364a)if(_0x47b135=_0x47b135['children']['find'](_0x275f14=>_0x275f14['name']===_0x5c5661[_0x3e364a]),!_0x47b135)return null;return _0x47b135;}['forEach'](_0x2687e2,_0x1e30be){_0x2687e2['call'](_0x1e30be,this);const _0x234be=this['_children'],_0x48aa93=_0x234be['length'];for(let _0x144e52=-0x1*-0x7f0+0x7*-0x3e5+-0x671*-0x3;_0x144e52<_0x48aa93;++_0x144e52)_0x234be[_0x144e52]['forEach'](_0x2687e2,_0x1e30be);}['isDescenda'+'ntOf'](_0x121b61){let _0x4a06f0=this['_parent'];for(;_0x4a06f0;){if(_0x4a06f0===_0x121b61)return!(-0x1*0xa49+-0x595*0x6+0x1*0x2bc7);_0x4a06f0=_0x4a06f0['_parent'];}return!(0x497*0x1+0x1d95*0x1+0x222b*-0x1);}['isAncestor'+'Of'](_0x522fa0){return _0x522fa0['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0xa6*0x10+0x1dd*0x9+-0x1b24)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new D()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===0x6*0x355+0x19b5+-0x2db3&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x139e3c;(_0x139e3c=this['_parent'])==null||_0x139e3c['removeChil'+'d'](this);}['reparent'](_0x2aa12d,_0x10da40){this['remove'](),_0x2aa12d&&(_0x10da40>=-0x981+-0x2*-0xdee+0x25*-0x7f?_0x2aa12d['insertChil'+'d'](this,_0x10da40):_0x2aa12d['addChild'](this));}['setLocalEu'+'lerAngles'](_0x4366e5,_0x18a790,_0x1a614f){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x4366e5,_0x18a790,_0x1a614f),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x238741,_0x44bf02,_0x3a8727){_0x238741 instanceof D?this['localPosit'+'ion']['copy'](_0x238741):this['localPosit'+'ion']['set'](_0x238741,_0x44bf02,_0x3a8727),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x50b4c9,_0x225db5,_0xae6f8f,_0x49bc16){_0x50b4c9 instanceof le?this['localRotat'+'ion']['copy'](_0x50b4c9):this['localRotat'+'ion']['set'](_0x50b4c9,_0x225db5,_0xae6f8f,_0x49bc16),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x2d12ef,_0x18f6eb,_0x1b87fc){_0x2d12ef instanceof D?this['localScale']['copy'](_0x2d12ef):this['localScale']['set'](_0x2d12ef,_0x18f6eb,_0x1b87fc),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(0x4*-0x3a3+0x11fb+-0x36f),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x22dfb3=this['_parent'];for(;_0x22dfb3;)_0x22dfb3['_frozen']=!(-0xbc4+-0x246a+0x302f),_0x22dfb3=_0x22dfb3['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(-0xb43*-0x3+-0xd29+-0x149f*0x1),this['_dirtyWorl'+'d']=!(-0x210e*0x1+0xff7+0x1117);for(let _0xc4bd12=-0x133*0x20+-0x2*0xeca+0x43f4;_0xc4bd12<this['_children']['length'];_0xc4bd12++)this['_children'][_0xc4bd12]['_dirtyWorl'+'d']||this['_children'][_0xc4bd12]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(-0x43*-0x1+-0x2378+0x2335),this['_worldScal'+'eSign']=-0x7c*0x1f+0x14cc+-0x5c8,this['_aabbVer']++;}['setPositio'+'n'](_0x53ccd3,_0x165347,_0xf5c42d){_0x53ccd3 instanceof D?rs['copy'](_0x53ccd3):rs['set'](_0x53ccd3,_0x165347,_0xf5c42d),this['_parent']===null?this['localPosit'+'ion']['copy'](rs):(ro['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),ro['transformP'+'oint'](rs,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x45a6d0,_0xc81d81,_0x2a558b,_0xc34342){if(_0x45a6d0 instanceof le?as['copy'](_0x45a6d0):as['set'](_0x45a6d0,_0xc81d81,_0x2a558b,_0xc34342),this['_parent']===null)this['localRotat'+'ion']['copy'](as);else{const _0x598c45=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x598c45)['invert'](),this['localRotat'+'ion']['copy'](Ia)['mul'](as);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0xfb614d,_0xd827e8){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0xfb614d),this['localRotat'+'ion']['copy'](_0xd827e8);else{const _0x3d89b4=this['_parent']['getWorldTr'+'ansform']();ro['copy'](_0x3d89b4)['invert'](),ro['transformP'+'oint'](_0xfb614d,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](ro)['mul'](_0xd827e8);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x1f9c83,_0x963d2a,_0x5838a3){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x1f9c83,_0x963d2a,_0x5838a3),this['_parent']!==null){const _0x581061=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x581061)['invert'](),this['localRotat'+'ion']['mul2'](Ia,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x5e5f8f){this['_prepareIn'+'sertChild'](_0x5e5f8f),this['_children']['push'](_0x5e5f8f),this['_onInsertC'+'hild'](_0x5e5f8f);}['addChildAn'+'dSaveTrans'+'form'](_0x60497a){const _0x53e56c=_0x60497a['getPositio'+'n'](),_0x375723=_0x60497a['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x60497a),_0x60497a['setPositio'+'n'](yE['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x53e56c)),_0x60497a['setRotatio'+'n'](vE['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x375723)),this['_children']['push'](_0x60497a),this['_onInsertC'+'hild'](_0x60497a);}['insertChil'+'d'](_0xc7bbc7,_0x38ab91){this['_prepareIn'+'sertChild'](_0xc7bbc7),this['_children']['splice'](_0x38ab91,-0xb71+-0xf*-0x1b5+-0xe2a,_0xc7bbc7),this['_onInsertC'+'hild'](_0xc7bbc7);}['_prepareIn'+'sertChild'](_0x5f979a){_0x5f979a['remove'](),w['assert'](_0x5f979a!==this,'GraphNode\x20'+(_0x5f979a==null?void(0xc03*-0x2+-0x60+0x1866):_0x5f979a['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),w['assert'](!this['isDescenda'+'ntOf'](_0x5f979a),'GraphNode\x20'+(_0x5f979a==null?void(-0x62f*0x6+-0x14b7*0x1+0x1*0x39d1):_0x5f979a['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x282ef5,_0x1ca4ec,_0x47d40e){this['fire'](_0x282ef5,_0x47d40e);for(let _0x5a8ab8=-0x19f6+0x1365+0x691*0x1;_0x5a8ab8<this['_children']['length'];_0x5a8ab8++)this['_children'][_0x5a8ab8]['_fireOnHie'+'rarchy'](_0x1ca4ec,_0x1ca4ec,_0x47d40e);}['_onInsertC'+'hild'](_0x45b31f){_0x45b31f['_parent']=this;const _0x43962c=_0x45b31f['_enabled']&&this['enabled'];_0x45b31f['_enabledIn'+'Hierarchy']!==_0x43962c&&(_0x45b31f['_enabledIn'+'Hierarchy']=_0x43962c,_0x45b31f['_notifyHie'+'rarchyStat'+'eChanged'](_0x45b31f,_0x43962c)),_0x45b31f['_updateGra'+'phDepth'](),_0x45b31f['_dirtifyWo'+'rld'](),this['_frozen']&&_0x45b31f['_unfreezeP'+'arentToRoo'+'t'](),_0x45b31f['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x45b31f);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(0x13f*0x1+-0x2ff*-0x1+-0x43d):0x1c87+-0x1f*0xfa+0x95*0x3;for(let _0x885185=0x1*-0x20d2+-0x5*0x41e+0x3568,_0xb21d8d=this['_children']['length'];_0x885185<_0xb21d8d;_0x885185++)this['_children'][_0x885185]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0x287450){const _0x417ae0=this['_children']['indexOf'](_0x287450);_0x417ae0!==-(0x182d*-0x1+-0x694*-0x1+0x119a)&&(this['_children']['splice'](_0x417ae0,0x11*-0x71+0x670*-0x2+0x1462),_0x287450['_parent']=null,_0x287450['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0x287450));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x360+-0x833*-0x2+-0x13c5)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x17dc18;const _0x11c8ad=this['_parent'];let _0x3fed59=this['localScale'],_0x323dfd=_0x11c8ad;if(_0x323dfd){for(;_0x323dfd&&_0x323dfd['scaleCompe'+'nsation'];)_0x323dfd=_0x323dfd['_parent'];_0x323dfd&&(_0x323dfd=_0x323dfd['_parent'],_0x323dfd&&(_0x17dc18=_0x323dfd['worldTrans'+'form']['getScale'](),T_['mul2'](_0x17dc18,this['localScale']),_0x3fed59=T_));}Wd['setFromMat'+'4'](_0x11c8ad['worldTrans'+'form']),x_['mul2'](Wd,this['localRotat'+'ion']);let _0x20c751=_0x11c8ad['worldTrans'+'form'];_0x11c8ad['scaleCompe'+'nsation']&&(w_['mul2'](_0x17dc18,_0x11c8ad['getLocalSc'+'ale']()),v_['setTRS'](_0x11c8ad['worldTrans'+'form']['getTransla'+'tion'](Hd),Wd,w_),_0x20c751=v_),_0x20c751['transformP'+'oint'](this['localPosit'+'ion'],Hd),this['worldTrans'+'form']['setTRS'](Hd,x_,_0x3fed59);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(-0x24d+0xfa5+0x1*-0xd57);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(-0x1698+-0x390+0x1a28),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x4c7b0d=this['_children'];for(let _0x3a0cee=0x2318+0x1d8c+0x1*-0x40a4,_0x19d5b4=_0x4c7b0d['length'];_0x3a0cee<_0x19d5b4;_0x3a0cee++)_0x4c7b0d[_0x3a0cee]['syncHierar'+'chy']();}['lookAt'](_0x1c3d20,_0x1ffad3,_0x335af0,_0xd8e45d=-0x1442*0x1+0x2618+-0x11d6,_0x3ff6f0=-0x1*-0x18ee+0x1*-0x2271+0x4*0x261,_0x32b406=0x2fe+-0x1bb3+0x18b5){if(_0x1c3d20 instanceof D)$d['copy'](_0x1c3d20),_0x1ffad3 instanceof D?tc['copy'](_0x1ffad3):tc['copy'](D['UP']);else{if(_0x335af0===void(0x1*0x905+-0x61*-0x49+-0x24ae))return;$d['set'](_0x1c3d20,_0x1ffad3,_0x335af0),tc['set'](_0xd8e45d,_0x3ff6f0,_0x32b406);}E_['setLookAt'](this['getPositio'+'n'](),$d,tc),as['setFromMat'+'4'](E_),this['setRotatio'+'n'](as);}['translate'](_0xcd32f5,_0x2f2f20,_0x367a77){_0xcd32f5 instanceof D?rs['copy'](_0xcd32f5):rs['set'](_0xcd32f5,_0x2f2f20,_0x367a77),rs['add'](this['getPositio'+'n']()),this['setPositio'+'n'](rs);}['translateL'+'ocal'](_0x41cfc2,_0x1343b7,_0x585401){_0x41cfc2 instanceof D?rs['copy'](_0x41cfc2):rs['set'](_0x41cfc2,_0x1343b7,_0x585401),this['localRotat'+'ion']['transformV'+'ector'](rs,rs),this['localPosit'+'ion']['add'](rs),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x333c04,_0x1aa74f,_0x55a4f0){if(as['setFromEul'+'erAngles'](_0x333c04,_0x1aa74f,_0x55a4f0),this['_parent']===null)this['localRotat'+'ion']['mul2'](as,this['localRotat'+'ion']);else{const _0x1ab1bc=this['getRotatio'+'n'](),_0x3dc884=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x3dc884)['invert'](),as['mul2'](Ia,as),this['localRotat'+'ion']['mul2'](as,_0x1ab1bc);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x15a8b0,_0x580262,_0x516eff){as['setFromEul'+'erAngles'](_0x15a8b0,_0x580262,_0x516eff),this['localRotat'+'ion']['mul'](as),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const yv=new Kt();function Qn(_0x212c18){const _0x2cf25a=yv['get'](_0x212c18);return w['assert'](_0x2cf25a),_0x2cf25a;}function xE(_0x4f1f91,_0x3f3408){w['assert'](_0x3f3408),yv['get'](_0x4f1f91,()=>_0x3f3408);}class TE{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x16be55,_0x43eada)=>{_0x43eada['destroy']();}),this['cache']['clear']();}['incRef'](_0x1693d3){const _0xa4f9a4=(this['cache']['get'](_0x1693d3)||0x153+0x173*-0x19+-0x2*-0x1174)+(0x186c+-0x1c69*-0x1+0x119c*-0x3);this['cache']['set'](_0x1693d3,_0xa4f9a4);}['decRef'](_0x1a70e2){if(_0x1a70e2){let _0x330294=this['cache']['get'](_0x1a70e2);_0x330294&&(_0x330294--,_0x330294===0x23a0+-0x1*0x25c3+0x1*0x223?(this['cache']['delete'](_0x1a70e2),_0x1a70e2['destroy']()):this['cache']['set'](_0x1a70e2,_0x330294));}}}class zi{static['incRef'](_0xe5a058){this['cache']['incRef'](_0xe5a058);}static['decRef'](_0xa95a62){this['cache']['decRef'](_0xa95a62);}static['destroy'](){this['cache']['destroy']();}}h(zi,'cache',new TE());let wE=-0x19*-0x18c+-0x1*-0x1f7c+-0x4628;const EE=new De(),sc=new De(),Xd=new sp(),qd=new Set(),Rr=new Uint32Array(-0xb*0x130+0x1d4b*0x1+-0x7*0x251);class bE{constructor(_0x4954a8){h(this,'vertexBuff'+'er',null),h(this,'_destroyVe'+'rtexBuffer',!(0x163*0x8+-0x119f+-0x8*-0xd1)),this['count']=_0x4954a8;}['destroy'](){var _0x2f1458;this['_destroyVe'+'rtexBuffer']&&((_0x2f1458=this['vertexBuff'+'er'])==null||_0x2f1458['destroy']()),this['vertexBuff'+'er']=null;}}class AE{constructor(){h(this,'map',new Map()),h(this,'meshMetaDa'+'ta',new Int32Array(-0x150a+-0x73f+0x1c4d));}['get'](_0x24c2af){return this['map']['get'](_0x24c2af)??this['map']['get'](null);}}class CE{constructor(){h(this,'shader'),h(this,'bindGroup',null),h(this,'uniformBuf'+'fer',null),h(this,'hashes');}['getBindGro'+'up'](_0x1675ba){if(!this['bindGroup']){const _0x26c442=this['shader'];w['assert'](_0x26c442);const _0x4655b3=_0x26c442['meshBindGr'+'oupFormat'];w['assert'](_0x4655b3),this['bindGroup']=new Up(_0x1675ba,_0x4655b3),Ea['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x5deb2c){if(!this['uniformBuf'+'fer']){const _0x4f9a90=this['shader'];w['assert'](_0x4f9a90);const _0x3cb37c=_0x4f9a90['meshUnifor'+'mBufferFor'+'mat'];w['assert'](_0x3cb37c),this['uniformBuf'+'fer']=new zp(_0x5deb2c,_0x3cb37c,!(-0x2217+-0x1709+-0x41*-0xe1));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x8f95eb,_0x4e3c08;(_0x8f95eb=this['bindGroup'])==null||_0x8f95eb['destroy'](),this['bindGroup']=null,(_0x4e3c08=this['uniformBuf'+'fer'])==null||_0x4e3c08['destroy'](),this['uniformBuf'+'fer']=null;}}const Jr=class Jr{constructor(_0x282a9f,_0x5c537c,_0x1b3fc0=null){h(this,'castShadow',!(0x1989+0x946*0x1+0xa5*-0x36)),h(this,'shadowCasc'+'adeMask',Bw),h(this,'cull',!(0x11ba+-0x1*0xd21+0x6b*-0xb)),h(this,'drawOrder',-0x121e+0x2*0x594+0x252*0x3),h(this,'_drawBucke'+'t',-0x2e*-0x6d+-0x72+-0x12a5),h(this,'node'),h(this,'visible',!(0x95*-0x9+-0x1*0x1c61+0x219e)),h(this,'visibleThi'+'sFrame',!(-0x46a+-0x215+0x1a0*0x4)),h(this,'flipFacesF'+'actor',-0x1597*0x1+0xa*0xc2+0x27*0x5c),h(this,'gsplatInst'+'ance',null),h(this,'id',wE++),h(this,'isVisibleF'+'unc',null),h(this,'instancing'+'Data',null),h(this,'indirectDa'+'ta',null),h(this,'parameters',{}),h(this,'pick',!(0x2354+0x1bd6+-0x69*0x9a)),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'transparen'+'t',!(-0xb1+-0x22*-0xd4+-0x1b76)),h(this,'_aabb',new De()),h(this,'_aabbVer',-(0x1872+-0x2486*-0x1+-0x3cf7)),h(this,'_aabbMeshV'+'er',-(-0x1149+-0x21d7+-0x1*-0x3321)),h(this,'_customAab'+'b',null),h(this,'_updateAab'+'b',!(0x1d5b+-0x1*-0x1c37+-0x3992*0x1)),h(this,'_updateAab'+'bFunc',null),h(this,'_sortKeySh'+'adow',0xcee+0x1d54+-0x2a42),h(this,'_sortKeyFo'+'rward',0x221f+0xb*-0x17+-0x2*0x1091),h(this,'_sortKeyDy'+'namic',-0xcfa+-0x101b+0x1*0x1d15),h(this,'_layer',Ky),h(this,'_material',null),h(this,'_skinInsta'+'nce',null),h(this,'_morphInst'+'ance',null),h(this,'_receiveSh'+'adow',!(-0x1ea+-0x1e83+0x206d)),h(this,'_renderSty'+'le',un),h(this,'_screenSpa'+'ce',!(0x1*0x1b21+-0x1c6e+-0x1*-0x14e)),h(this,'_shaderCac'+'he',new Map()),h(this,'_shaderDef'+'s',Ss<<-0x18f1*0x1+0xa*0x21a+-0x3fd*-0x1),h(this,'_calculate'+'SortDistan'+'ce',null);if(w['assert'](!(_0x282a9f instanceof Ie),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x1b3fc0,this['_mesh']=_0x282a9f,_0x282a9f['incRefCoun'+'t'](),this['material']=_0x5c537c,_0x282a9f['vertexBuff'+'er']){const _0x2e616b=_0x282a9f['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x2e616b['hasUv0']?nm:-0xfa0+-0x17*0x188+0x32d8,this['_shaderDef'+'s']|=_0x2e616b['hasUv1']?dv:0xddb+0x24+0x1*-0xdff,this['_shaderDef'+'s']|=_0x2e616b['hasColor']?fv:0x14*-0x14b+-0x10dd+0x2ab9,this['_shaderDef'+'s']|=_0x2e616b['hasTangent'+'s']?om:0x1*-0x11ba+0x10fa+-0xc0*-0x1;}this['updateKey']();}set['drawBucket'](_0x194de0){this['_drawBucke'+'t']=Math['floor'](_0x194de0)&0x1c4b+-0x2ff*0x3+-0x124f,this['updateKey']();}get['drawBucket'](){return this['_drawBucke'+'t'];}set['renderStyl'+'e'](_0x454bc){this['_renderSty'+'le']=_0x454bc,this['mesh']['prepareRen'+'derState'](_0x454bc);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x2c9462){_0x2c9462!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x2c9462,_0x2c9462&&_0x2c9462['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0x3bea76){this['_aabb']=_0x3bea76;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x1ac7fd=this['_customAab'+'b'],_0x12ccdb=!!_0x1ac7fd;if(!_0x1ac7fd){if(_0x1ac7fd=EE,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x3522b7=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x3522b7);}const _0x161e69=this['mesh']['boneUsed'];let _0x14e5cb=!(0xf83*-0x1+-0x1634+-0x1*-0x25b7);for(let _0x5cd00c=-0x367*-0x1+0xd*0x83+-0xa0e;_0x5cd00c<this['mesh']['boneAabb']['length'];_0x5cd00c++)_0x161e69[_0x5cd00c]&&(sc['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0x5cd00c],this['skinInstan'+'ce']['matrices'][_0x5cd00c]),_0x14e5cb?(_0x14e5cb=!(-0x1dab+-0x3*0x6bb+0x159*0x25),_0x1ac7fd['center']['copy'](sc['center']),_0x1ac7fd['halfExtent'+'s']['copy'](sc['halfExtent'+'s'])):_0x1ac7fd['add'](sc));_0x12ccdb=!(0x26d2+-0x4*0x2c9+-0x1*0x1bae);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x1ac7fd['center']['copy'](this['mesh']['aabb']['center']),_0x1ac7fd['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x1ac7fd['center']['set'](-0x193f+0x38+0x1907*0x1,0x11a0+0x3e4+-0x51*0x44,0x5*0x584+0xc8e*0x1+-0x1d3*0x16),_0x1ac7fd['halfExtent'+'s']['set'](-0x1c76+-0x43*-0x76+-0x26c,0x336*-0xa+-0x743+0x275f,-0x11*-0x89+-0xc*-0x1b2+-0x1d71*0x1)),this['mesh']&&this['mesh']['morph']){const _0x481bf0=this['mesh']['morph']['aabb'];_0x1ac7fd['_expand'](_0x481bf0['getMin'](),_0x481bf0['getMax']());}_0x12ccdb=!(0xe*0xd3+0x1a51*0x1+-0x25db),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0x12ccdb&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x1ac7fd,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x300449=>{_0x300449['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x4bc199,_0x3eefec,_0x3a291a,_0x2d839e,_0x4d8eae,_0x5b3f2c,_0x5a65fa){var _0x53de77;const _0x2a1236=this['_shaderDef'+'s'];Rr[-0x3d9*-0x1+0x4*0x9b3+-0x2aa5]=_0x4bc199,Rr[-0x335*-0x1+0xbb3+-0xee7]=_0x3eefec,Rr[-0x1*-0x1640+-0x2600+0xfc2]=_0x2a1236,Rr[0x5*-0x455+-0x15*0x71+-0x59*-0x59]=_0x2d839e['hash'];const _0x732c6b=By(Rr);let _0x188070=this['_shaderCac'+'he']['get'](_0x732c6b);if(!_0x188070){const _0x154cb0=this['_material'];if(_0x188070=new CE(),_0x188070['shader']=_0x154cb0['variants']['get'](_0x732c6b),_0x188070['hashes']=new Uint32Array(Rr),!_0x188070['shader']){Q['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x32cd10=_0x154cb0['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x3a291a,'objDefs':_0x2a1236,'cameraShaderParams':_0x2d839e,'pass':_0x4bc199,'sortedLights':_0x5a65fa,'viewUniformFormat':_0x4d8eae,'viewBindGroupFormat':_0x5b3f2c,'vertexFormat':(_0x53de77=this['mesh']['vertexBuff'+'er'])==null?void(-0x12f+-0x187+0x2b6):_0x53de77['format']});Q['popGpuMark'+'er'](this['mesh']['device']),_0x154cb0['variants']['set'](_0x732c6b,_0x32cd10),_0x188070['shader']=_0x32cd10;}this['_shaderCac'+'he']['set'](_0x732c6b,_0x188070);}return w['call'](()=>{IT['equals'](_0x188070['hashes'],Rr)||w['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x188070;}set['material'](_0x1143c5){this['clearShade'+'rs']();const _0x31db55=this['_material'];_0x31db55&&_0x31db55['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x1143c5,_0x1143c5&&(_0x1143c5['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x1143c5['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}['_updateSha'+'derDefs'](_0x27dd5e){_0x27dd5e!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x27dd5e,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x56c770){this['_calculate'+'SortDistan'+'ce']=_0x56c770;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0x57727e){this['_receiveSh'+'adow']!==_0x57727e&&(this['_receiveSh'+'adow']=_0x57727e,this['_updateSha'+'derDefs'](_0x57727e?this['_shaderDef'+'s']&~wh:this['_shaderDef'+'s']|wh));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x2ec24a){this['_updateSha'+'derDefs'](_0x2ec24a?this['_shaderDef'+'s']|qc:this['_shaderDef'+'s']&~qc);}get['batching'](){return(this['_shaderDef'+'s']&qc)!==-0x25*0x65+0x10*0x1fb+-0x1117;}set['skinInstan'+'ce'](_0x3e6243){this['_skinInsta'+'nce']=_0x3e6243,this['_updateSha'+'derDefs'](_0x3e6243?this['_shaderDef'+'s']|nl:this['_shaderDef'+'s']&~nl),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x596ed2){var _0x23067c;(_0x23067c=this['_morphInst'+'ance'])==null||_0x23067c['destroy'](),this['_morphInst'+'ance']=_0x596ed2;let _0x4555b9=this['_shaderDef'+'s'];_0x4555b9=_0x596ed2&&_0x596ed2['morph']['morphPosit'+'ions']?_0x4555b9|ll:_0x4555b9&~ll,_0x4555b9=_0x596ed2&&_0x596ed2['morph']['morphNorma'+'ls']?_0x4555b9|cl:_0x4555b9&~cl,_0x4555b9=_0x596ed2&&_0x596ed2['morph']['intRenderF'+'ormat']?_0x4555b9|hl:_0x4555b9&~hl,this['_updateSha'+'derDefs'](_0x4555b9);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x4313ed){this['_screenSpa'+'ce']!==_0x4313ed&&(this['_screenSpa'+'ce']=_0x4313ed,this['_updateSha'+'derDefs'](_0x4313ed?this['_shaderDef'+'s']|Eh:this['_shaderDef'+'s']&~Eh));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x332979){this['_sortKeyFo'+'rward']=_0x332979;}get['key'](){return this['_sortKeyFo'+'rward'];}set['mask'](_0x2e0933){const _0x25f063=this['_shaderDef'+'s']&0x4b4*0x40+-0x1c7fe+0x182d*0x11;this['_updateSha'+'derDefs'](_0x25f063|_0x2e0933<<-0x5e*0x4a+0xf*-0x247+0x3d65);}get['mask'](){return this['_shaderDef'+'s']>>-0x116*-0xe+-0x2*-0xfe+0x1*-0x1120;}set['instancing'+'Count'](_0xf87227){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0xf87227);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:-0x1*0x1419+-0x26c2+-0x3d*-0xf7;}['destroy'](){var _0x5d9a57,_0x1dc3b1,_0x9ad6a1;const _0x7e4bfa=this['mesh'];_0x7e4bfa&&(this['mesh']=null,_0x7e4bfa['refCount']<-0x1*0xeb7+-0x11*0x115+0x211d&&_0x7e4bfa['destroy']()),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0x53b+0xf19+-0x9de],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0x29*-0x47+-0x30f+-0x1*0x84f],null),(_0x5d9a57=this['_skinInsta'+'nce'])==null||_0x5d9a57['destroy'](),this['_skinInsta'+'nce']=null,(_0x1dc3b1=this['morphInsta'+'nce'])==null||_0x1dc3b1['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0x9ad6a1=this['instancing'+'Data'])==null||_0x9ad6a1['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x52d93c,_0x86a610){if(_0x52d93c){for(let _0x4c70b7=-0x1*-0x189+-0x5b4*0x6+0x20af;_0x4c70b7<_0x52d93c['length'];_0x4c70b7++){_0x52d93c[_0x4c70b7]['_renderSty'+'le']=_0x86a610;const _0x2ac038=_0x52d93c[_0x4c70b7]['mesh'];qd['has'](_0x2ac038)||(qd['add'](_0x2ac038),_0x2ac038['prepareRen'+'derState'](_0x86a610));}qd['clear']();}}['_isVisible'](_0x549b25){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x549b25):(Xd['center']=this['aabb']['center'],Xd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x549b25['frustum']['containsSp'+'here'](Xd)>-0x677*0x5+0x16bc+0x997):!(-0x399+-0x7bf*-0x2+0x1*-0xbe4);}['updateKey'](){const {material:_0x484d46}=this;this['_sortKeyFo'+'rward']=this['_drawBucke'+'t']<<0xc4e+0x61a*-0x1+-0x61d|(_0x484d46['alphaToCov'+'erage']||_0x484d46['alphaTest']?-0x4c892b+-0x33a0e8+-0x4afdb*-0x29:0x11*0x191+0x1*-0x1fcd+0x52c)|_0x484d46['id']&-0x3bef9f*-0x1+-0x2*-0x28a9b9+-0x4d4312;}['setInstanc'+'ing'](_0x2df4f0,_0x31b31c=!(-0x28f*-0x8+0x13c*0x8+0x1e57*-0x1)){_0x2df4f0?(this['instancing'+'Data']=new bE(_0x2df4f0['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x2df4f0,_0x2df4f0['format']['instancing']=!(-0x749+-0x267b+0x2dc4),this['cull']=_0x31b31c):(this['instancing'+'Data']=null,this['cull']=!(-0x1e0f+0x800+0x160f)),this['_updateSha'+'derDefs'](_0x2df4f0?this['_shaderDef'+'s']|ol:this['_shaderDef'+'s']&~ol);}['setIndirec'+'t'](_0x2755e7,_0x9096d6){this['_allocIndi'+'rectData'](),this['indirectDa'+'ta']['map']['set']((_0x2755e7==null?void(-0x7f*0x7+-0x2621+0x299a):_0x2755e7['camera'])??null,_0x9096d6),this['mesh']['device']['mapsToClea'+'r']['add'](this['indirectDa'+'ta']['map']);}['getIndirec'+'tMetaData'](){var _0x47ee59;this['_allocIndi'+'rectData']();const _0x40ea92=(_0x47ee59=this['mesh'])==null?void(-0xebb*-0x2+0x22*0x105+-0xc*0x558):_0x47ee59['primitive'][this['renderStyl'+'e']],_0x39d59a=this['indirectDa'+'ta']['meshMetaDa'+'ta'];return _0x39d59a[0x17b*-0x19+-0x1924+-0x3e27*-0x1]=_0x40ea92['count'],_0x39d59a[0x1549+-0x92c*-0x1+-0x1*0x1e74]=_0x40ea92['base'],_0x39d59a[-0x150e+0x3fe+-0x1b5*-0xa]=_0x40ea92['baseVertex'],_0x39d59a;}['_allocIndi'+'rectData'](){this['indirectDa'+'ta']||(this['indirectDa'+'ta']=new AE());}['ensureMate'+'rial'](_0x3f1d94){this['material']||(w['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=Qn(_0x3f1d94));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x428b36){return this['parameters'][_0x428b36];}['setParamet'+'er'](_0x596df1,_0x572927,_0x277234=0x1a999b9eb+0x338dff57*0x5+0x20dffa5b*-0xd){const _0x17477d=this['parameters'][_0x596df1];_0x17477d?(_0x17477d['data']=_0x572927,_0x17477d['passFlags']=_0x277234):this['parameters'][_0x596df1]={'scopeId':null,'data':_0x572927,'passFlags':_0x277234};}['setRealtim'+'eLightmap'](_0x2e146d,_0x374324){const _0x312e0e=this['getParamet'+'er'](_0x2e146d);_0x312e0e!==_0x374324&&(_0x312e0e&&zi['decRef'](_0x312e0e['data']),_0x374324?(zi['incRef'](_0x374324),this['setParamet'+'er'](_0x2e146d,_0x374324)):this['deletePara'+'meter'](_0x2e146d));}['deletePara'+'meter'](_0x5f073a){this['parameters'][_0x5f073a]&&delete this['parameters'][_0x5f073a];}['setParamet'+'ers'](_0x630239,_0x40383e){const _0x1d720b=this['parameters'];for(const _0x3891a1 in _0x1d720b){const _0x2d04e2=_0x1d720b[_0x3891a1];_0x2d04e2['passFlags']&_0x40383e&&(_0x2d04e2['scopeId']||(_0x2d04e2['scopeId']=_0x630239['scope']['resolve'](_0x3891a1)),_0x2d04e2['scopeId']['setValue'](_0x2d04e2['data']));}}['setLightma'+'pped'](_0x24ceb6){_0x24ceb6?this['mask']=(this['mask']|di)&-(0xcdc+-0xf50*-0x1+-0x1c26):(this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0x10f*-0x17+0x1c76+-0x41d],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0x1d21*0x1+0x1a08+0x31a],null),this['_shaderDef'+'s']&=-(0x266e+0x2559+-0x3b06),this['mask']=(this['mask']|Ss)&-(0x22f3+0x2384+-0x4670));}['setCustomA'+'abb'](_0xf231dd){_0xf231dd?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0xf231dd):this['_customAab'+'b']=_0xf231dd['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(0x6e2+-0x295*0xb+0x1586)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};h(Jr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let He=Jr;const PE=[0x53e+0xc51+0x5*-0x383,0x1137+-0x7*0x53d+0x125*0x11,-0xac2+-0x2*-0x12e4+-0x1b03,-0x2705+0xcb8+0x1a4f,-0x1ee3+0x2173+-0x28d,-0x1bb*0x1+-0x2*0x633+0x43*0x36],ME=[0x2d*-0x55+-0x20af+-0x18*-0x1fc,-0x1*-0x8ff+0x4de+-0xddc,-0x3*0x463+0x12af+-0x1*0x583,-0x9*-0x19d+0x933+0x6*-0x3f4,-0x1*0x22c3+0x1716+0xbb0,-0x20*-0xeb+0x1c8f+0x3*-0x134f],A_=new _i();function C_(_0x5ae412,_0x272dbc){if(_0x5ae412&&!_0x272dbc||!_0x5ae412&&_0x272dbc)return!(-0x3bb+0x16fb+-0x133f);if(_0x5ae412=_0x5ae412['data'],_0x272dbc=_0x272dbc['data'],_0x5ae412===_0x272dbc)return!(-0x2051+-0x391*0x1+0x23e2);if(_0x5ae412 instanceof Float32Array&&_0x272dbc instanceof Float32Array){if(_0x5ae412['length']!==_0x272dbc['length'])return!(0x275+-0x20e+0x66*-0x1);for(let _0x54426b=-0x1f1+-0x6e*-0x13+-0x639;_0x54426b<_0x5ae412['length'];_0x54426b++)if(_0x5ae412[_0x54426b]!==_0x272dbc[_0x54426b])return!(0xb2e+0x69*0x13+-0x12f8);return!(-0x1737+0x1c86+-0x54f);}return!(0x5*-0xd3+0x168d+0x126d*-0x1);}function DE(_0x4ebca5,_0x2ca2b4){for(const _0x2cef4e in _0x4ebca5)if(_0x4ebca5['hasOwnProp'+'erty'](_0x2cef4e)&&!C_(_0x4ebca5[_0x2cef4e],_0x2ca2b4[_0x2cef4e]))return!(-0x40e+0x11ab+-0xd9c);for(const _0x2a2f8e in _0x2ca2b4)if(_0x2ca2b4['hasOwnProp'+'erty'](_0x2a2f8e)&&!C_(_0x2ca2b4[_0x2a2f8e],_0x4ebca5[_0x2a2f8e]))return!(-0x1ee7+-0x1b7f*0x1+-0x1*-0x3a67);return!(0x1085+-0x7*-0x12+-0x1*0x1103);}function jd(_0x4a9be4){return _0x4a9be4['node']['worldTrans'+'form']['scaleSign'];}class IE{constructor(_0x50f624,_0x2e43ce,_0x516dca){this['device']=_0x50f624,this['rootNode']=_0x2e43ce,this['scene']=_0x516dca,this['_init']=!(-0x65b*0x3+0x25d9+0x13*-0xfd),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=-0x1b53+-0x1712+0x3265,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0xbf05b,_0x4cc209,_0x39c77e,_0x281e04,_0x3797bc){if(_0x281e04===void(-0x1477+-0x22e0+0x3757)&&(_0x281e04=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0x281e04]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x281e04+('\x20already\x20e'+'xists.'));return;}const _0x3dbbea=new St(_0x281e04,_0xbf05b,_0x4cc209,_0x39c77e,_0x3797bc);return this['_batchGrou'+'ps'][_0x281e04]=_0x3dbbea,_0x3dbbea;}['removeGrou'+'p'](_0x1f5be5){if(!this['_batchGrou'+'ps'][_0x1f5be5]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x1f5be5+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x8d369a=[];for(let _0xe72f6b=0x1*-0x480+-0x1*-0x1915+-0xb*0x1df;_0xe72f6b<this['_batchList']['length'];_0xe72f6b++)this['_batchList'][_0xe72f6b]['batchGroup'+'Id']===_0x1f5be5?this['destroyBat'+'ch'](this['_batchList'][_0xe72f6b]):_0x8d369a['push'](this['_batchList'][_0xe72f6b]);this['_batchList']=_0x8d369a,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x1f5be5),delete this['_batchGrou'+'ps'][_0x1f5be5];}['markGroupD'+'irty'](_0x1af4fc){this['_dirtyGrou'+'ps']['indexOf'](_0x1af4fc)<0xa63*-0x1+0x1e9*-0xf+0x270a&&this['_dirtyGrou'+'ps']['push'](_0x1af4fc);}['getGroupBy'+'Name'](_0x52307f){const _0x38e7dd=this['_batchGrou'+'ps'];for(const _0x36efef in _0x38e7dd)if(_0x38e7dd['hasOwnProp'+'erty'](_0x36efef)&&_0x38e7dd[_0x36efef]['name']===_0x52307f)return _0x38e7dd[_0x36efef];return null;}['getBatches'](_0x58651d){const _0x1cdf03=[],_0x24336e=this['_batchList']['length'];for(let _0x5d6d4c=-0x1*-0x1ed3+0x9*-0x67+0x2*-0xd9a;_0x5d6d4c<_0x24336e;_0x5d6d4c++){const _0x504c5c=this['_batchList'][_0x5d6d4c];_0x504c5c['batchGroup'+'Id']===_0x58651d&&_0x1cdf03['push'](_0x504c5c);}return _0x1cdf03;}['_removeMod'+'elsFromBat'+'chGroup'](_0x5f4fb2,_0x56c471){if(_0x5f4fb2['enabled']){_0x5f4fb2['model']&&_0x5f4fb2['model']['batchGroup'+'Id']===_0x56c471&&(_0x5f4fb2['model']['batchGroup'+'Id']=-(0x3*0xb0e+0x18e5+-0x3a0e)),_0x5f4fb2['render']&&_0x5f4fb2['render']['batchGroup'+'Id']===_0x56c471&&(_0x5f4fb2['render']['batchGroup'+'Id']=-(-0x216b+-0x1c47+0x9*0x6db)),_0x5f4fb2['element']&&_0x5f4fb2['element']['batchGroup'+'Id']===_0x56c471&&(_0x5f4fb2['element']['batchGroup'+'Id']=-(0x6*-0x3a6+0x45*0x6b+-0x6f2)),_0x5f4fb2['sprite']&&_0x5f4fb2['sprite']['batchGroup'+'Id']===_0x56c471&&(_0x5f4fb2['sprite']['batchGroup'+'Id']=-(0x6b4+0x83+-0x736));for(let _0x1c8e4b=-0xd2d+0x1*0x891+0x3b*0x14;_0x1c8e4b<_0x5f4fb2['_children']['length'];_0x1c8e4b++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x5f4fb2['_children'][_0x1c8e4b],_0x56c471);}}['insert'](_0xc44853,_0x5a7afe,_0x439f32){const _0x157236=this['_batchGrou'+'ps'][_0x5a7afe];w['assert'](_0x157236,'Invalid\x20ba'+'tch\x20'+_0x5a7afe+'\x20insertion'),_0x157236&&_0x157236['_obj'][_0xc44853]['indexOf'](_0x439f32)<-0x10b2+0x25f*0x3+0x995&&(_0x157236['_obj'][_0xc44853]['push'](_0x439f32),this['markGroupD'+'irty'](_0x5a7afe));}['remove'](_0x46aae2,_0x26693f,_0x288ac8){const _0x31e4dc=this['_batchGrou'+'ps'][_0x26693f];if(w['assert'](_0x31e4dc,'Invalid\x20ba'+'tch\x20'+_0x26693f+'\x20insertion'),_0x31e4dc){const _0x4c865f=_0x31e4dc['_obj'][_0x46aae2]['indexOf'](_0x288ac8);_0x4c865f>=0x8c4+0xe4b*0x2+0x1*-0x255a&&(_0x31e4dc['_obj'][_0x46aae2]['splice'](_0x4c865f,0x20e5+0xf*0x119+-0x315b),this['markGroupD'+'irty'](_0x26693f));}}['_extractRe'+'nder'](_0x1f6eb5,_0x36836b,_0x2ecc86,_0x21aead){return _0x1f6eb5['render']&&(_0x36836b=_0x21aead[_0x1f6eb5['render']['batchGroup'+'Id']]=_0x36836b['concat'](_0x1f6eb5['render']['meshInstan'+'ces']),_0x1f6eb5['render']['removeFrom'+'Layers']()),_0x36836b;}['_extractMo'+'del'](_0x4ccffa,_0x4a2b86,_0x125261,_0x20c6a2){return _0x4ccffa['model']&&_0x4ccffa['model']['model']&&(_0x4a2b86=_0x20c6a2[_0x4ccffa['model']['batchGroup'+'Id']]=_0x4a2b86['concat'](_0x4ccffa['model']['meshInstan'+'ces']),_0x4ccffa['model']['removeMode'+'lFromLayer'+'s'](),_0x4ccffa['model']['_batchGrou'+'p']=_0x125261),_0x4a2b86;}['_extractEl'+'ement'](_0x4e098d,_0x2c0ab7,_0x307bdc){if(!_0x4e098d['element'])return;let _0x158df6=!(-0x1*-0x156b+-0x11f6*0x2+0xe82);_0x4e098d['element']['_text']&&_0x4e098d['element']['_text']['_model']['meshInstan'+'ces']['length']>-0x22ca+-0x709*-0x1+0x1bc1?(_0x2c0ab7['push'](_0x4e098d['element']['_text']['_model']['meshInstan'+'ces'][-0x21f+-0x24d2+0x3*0xcfb]),_0x4e098d['element']['removeMode'+'lFromLayer'+'s'](_0x4e098d['element']['_text']['_model']),_0x158df6=!(-0x6c9*0x4+-0x266e+0x4192)):_0x4e098d['element']['_image']&&(_0x2c0ab7['push'](_0x4e098d['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x4e098d['element']['removeMode'+'lFromLayer'+'s'](_0x4e098d['element']['_image']['_renderabl'+'e']['model']),_0x4e098d['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x2c0ab7['push'](_0x4e098d['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x4e098d['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x4e098d['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x4e098d['element']['_dirtifyMa'+'sk'](),_0x4e098d['element']['_onPrerend'+'er']())),_0x158df6=!(-0x17c*-0x8+0x6b*-0x3+-0xa9f*0x1)),_0x158df6&&(_0x307bdc['_ui']=!(0x25b1*-0x1+0x2281+-0x30*-0x11),_0x4e098d['element']['_batchGrou'+'p']=_0x307bdc);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x57e99a,_0x4e7b7a){for(let _0x5c6056=-0x15b0+0x130b+0x2a5;_0x5c6056<_0x4e7b7a['length'];_0x5c6056++){const _0x39b07d=_0x4e7b7a[_0x5c6056],_0x45ccd1=this['_batchGrou'+'ps'][_0x39b07d];if(!_0x45ccd1)continue;let _0x2f5284=_0x57e99a[_0x39b07d];_0x2f5284||(_0x2f5284=_0x57e99a[_0x39b07d]=[]);for(let _0x4160fc=-0x6af+0x31*-0x15+0x89*0x14;_0x4160fc<_0x45ccd1['_obj']['model']['length'];_0x4160fc++)_0x2f5284=this['_extractMo'+'del'](_0x45ccd1['_obj']['model'][_0x4160fc],_0x2f5284,_0x45ccd1,_0x57e99a);for(let _0x277cad=0x823*-0x3+-0x23f3+0x3c5c;_0x277cad<_0x45ccd1['_obj']['render']['length'];_0x277cad++)_0x2f5284=this['_extractRe'+'nder'](_0x45ccd1['_obj']['render'][_0x277cad],_0x2f5284,_0x45ccd1,_0x57e99a);for(let _0x40d10b=-0xf59+0x72c+0x82d;_0x40d10b<_0x45ccd1['_obj']['element']['length'];_0x40d10b++)this['_extractEl'+'ement'](_0x45ccd1['_obj']['element'][_0x40d10b],_0x2f5284,_0x45ccd1);for(let _0x4d9059=-0x11f+0x248a+0x1*-0x236b;_0x4d9059<_0x45ccd1['_obj']['sprite']['length'];_0x4d9059++){const _0x153963=_0x45ccd1['_obj']['sprite'][_0x4d9059];_0x153963['sprite']&&_0x153963['sprite']['_meshInsta'+'nce']&&(_0x45ccd1['dynamic']||_0x153963['sprite']['sprite']['_renderMod'+'e']===ci)&&(_0x2f5284['push'](_0x153963['sprite']['_meshInsta'+'nce']),_0x153963['sprite']['removeMode'+'lFromLayer'+'s'](),_0x45ccd1['_sprite']=!(-0xa83+-0x26bd*0x1+-0x10*-0x314),_0x153963['sprite']['_batchGrou'+'p']=_0x45ccd1);}}}['generate'](_0x41ecb8){const _0x573da0={};_0x41ecb8||(_0x41ecb8=Object['keys'](this['_batchGrou'+'ps']));const _0x2e0f5e=[];for(let _0x55e9eb=-0x2365+-0x76*0x20+0x3225;_0x55e9eb<this['_batchList']['length'];_0x55e9eb++){if(_0x41ecb8['indexOf'](this['_batchList'][_0x55e9eb]['batchGroup'+'Id'])<0x19cb+0x2074*0x1+-0x47b*0xd){_0x2e0f5e['push'](this['_batchList'][_0x55e9eb]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x55e9eb]);}if(this['_batchList']=_0x2e0f5e,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x573da0,_0x41ecb8),_0x41ecb8===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=-0x1308+0xc26+0x6e2;else{const _0x3974af=[];for(let _0x351441=0x1d3+-0x1e71+-0x98a*-0x3;_0x351441<this['_dirtyGrou'+'ps']['length'];_0x351441++)_0x41ecb8['indexOf'](this['_dirtyGrou'+'ps'][_0x351441])<0x12ec+-0xd78+-0x574&&_0x3974af['push'](this['_dirtyGrou'+'ps'][_0x351441]);this['_dirtyGrou'+'ps']=_0x3974af;}let _0x437be7,_0x35758b,_0x5c0845,_0x468f2a;for(const _0x5754ce in _0x573da0)if(_0x573da0['hasOwnProp'+'erty'](_0x5754ce)){if(_0x437be7=_0x573da0[_0x5754ce],_0x5c0845=this['_batchGrou'+'ps'][_0x5754ce],!_0x5c0845){w['error']('batch\x20grou'+'p\x20'+_0x5754ce+'\x20not\x20found');continue;}_0x35758b=this['prepare'](_0x437be7,_0x5c0845['dynamic'],_0x5c0845['maxAabbSiz'+'e'],_0x5c0845['_ui']||_0x5c0845['_sprite']);for(let _0x26af10=-0x11*0xd3+0x1*-0x257e+0x3381;_0x26af10<_0x35758b['length'];_0x26af10++)_0x468f2a=this['create'](_0x35758b[_0x26af10],_0x5c0845['dynamic'],parseInt(_0x5754ce,0x2b2+0x11ca+-0x1*0x1472)),_0x468f2a&&_0x468f2a['addToLayer'+'s'](this['scene'],_0x5c0845['layers']);}}['prepare'](_0x924392,_0xa3618f,_0x414f75=Number['POSITIVE_I'+'NFINITY'],_0x1b5288){if(_0x924392['length']===0x8d6+0x19b7+-0x228d)return[];const _0x419735=_0x414f75*(-0x1529+-0x68*0x37+-0x7*-0x637+0.5),_0x1173ff=-0x305+0x16da+0x1*-0xfd5,_0x57e6b6=-0xb1e3b27b+0x16e723e8b*0x1+0xae6605*0x63,_0x4c3ead=new De(),_0x2cb9c0=new De();let _0x1dbc1f=null,_0x2a5562;const _0x514127=[];let _0xe1985b=0xdb*0x12+0x224e+0x2*-0x18da;_0x1b5288&&_0x924392['sort']((_0x516967,_0x10699e)=>_0x516967['drawOrder']-_0x10699e['drawOrder']);let _0xe83eb8=_0x924392,_0x48bbb2;const _0x1ec5c7=_0x1b5288?function(_0x590e9f){_0x1dbc1f?_0x1dbc1f['add'](_0x590e9f['aabb']):_0x1dbc1f=_0x590e9f['aabb']['clone'](),_0x48bbb2['push'](_0x590e9f);}:function(_0x1179db){_0x48bbb2['push'](_0x1179db);};for(;_0xe83eb8['length']>0x2249*-0x1+-0x833*-0x3+0x9b0;){_0x514127[_0xe1985b]=[_0xe83eb8[0x191*-0x1+0x293+-0x102]],_0x48bbb2=[];const _0xbef228=_0xe83eb8[0x2de+0x1158+-0xc7*0x1a]['material'],_0x1e3e31=_0xe83eb8[-0xee*0xe+0xa4*-0x9+0x1*0x12c8]['layer'],_0x37fb26=_0xe83eb8[0xce9*-0x2+0x6a3+0x132f]['_shaderDef'+'s'],_0x383bc4=_0xe83eb8[0x2+-0x2498+0x2*0x124b]['parameters'],_0x48809f=_0xe83eb8[-0x1*-0x1d35+0x17b0+-0x34e5]['stencilFro'+'nt'];let _0x4a2bd5=_0xe83eb8[-0x1104+0x413*0x2+0x8de]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x540095=_0xe83eb8[-0x10ae+-0xe00+0xf57*0x2]['drawOrder'];_0x4c3ead['copy'](_0xe83eb8[0x704+0x185f+-0x1f63]['aabb']);const _0x52c04b=jd(_0xe83eb8[0x1c*0x13f+0x1bdf+0x1*-0x3ec3]),_0x4ffee9=_0xe83eb8[-0xd*-0x48+-0xb55*-0x3+-0x165*0x1b]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0xd84d0f=_0xe83eb8[-0x1c30+-0x22*0x117+0x1*0x413e]['mesh']['primitive'][0x2*-0x405+-0x9e+-0x115*-0x8]['indexed'];_0x1dbc1f=null;for(let _0x5ee0d2=-0x8b9+-0xb02*0x3+0x29c0;_0x5ee0d2<_0xe83eb8['length'];_0x5ee0d2++){const _0x49e5d6=_0xe83eb8[_0x5ee0d2];if(_0xa3618f&&_0x514127[_0xe1985b]['length']>=_0x1173ff){_0x48bbb2=_0x48bbb2['concat'](_0xe83eb8['slice'](_0x5ee0d2));break;}if(_0xbef228!==_0x49e5d6['material']||_0x1e3e31!==_0x49e5d6['layer']||_0x4ffee9!==_0x49e5d6['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0xd84d0f!==_0x49e5d6['mesh']['primitive'][-0x1cae*0x1+0xe*0x27b+0x24*-0x2b]['indexed']||_0x37fb26!==_0x49e5d6['_shaderDef'+'s']||_0x4a2bd5+_0x49e5d6['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x57e6b6){_0x1ec5c7(_0x49e5d6);continue;}if(_0x2cb9c0['copy'](_0x4c3ead),_0x2cb9c0['add'](_0x49e5d6['aabb']),_0x2cb9c0['halfExtent'+'s']['x']>_0x419735||_0x2cb9c0['halfExtent'+'s']['y']>_0x419735||_0x2cb9c0['halfExtent'+'s']['z']>_0x419735){_0x1ec5c7(_0x49e5d6);continue;}if(_0x48809f&&(!(_0x2a5562=_0x49e5d6['stencilFro'+'nt'])||_0x48809f['func']!==_0x2a5562['func']||_0x48809f['zpass']!==_0x2a5562['zpass'])){_0x1ec5c7(_0x49e5d6);continue;}if(_0x52c04b!==jd(_0x49e5d6)){_0x1ec5c7(_0x49e5d6);continue;}if(!DE(_0x383bc4,_0x49e5d6['parameters'])){_0x1ec5c7(_0x49e5d6);continue;}if(_0x1b5288&&_0x1dbc1f&&_0x1dbc1f['intersects'](_0x49e5d6['aabb'])&&_0x49e5d6['drawOrder']!==_0x540095){_0x1ec5c7(_0x49e5d6);continue;}_0x4c3ead['add'](_0x49e5d6['aabb']),_0x4a2bd5+=_0x49e5d6['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0x514127[_0xe1985b]['push'](_0x49e5d6);}_0xe1985b++,_0xe83eb8=_0x48bbb2;}return _0x514127;}['collectBat'+'chedMeshDa'+'ta'](_0x38e325,_0x1be107){let _0x32ea70=null,_0xc343=-0x90d+-0x12bb+0x1bc8,_0x122de6=0x1*0x241c+0x1*0xe9d+-0x32b9,_0x2b4aa3=null;for(let _0x3b42c2=0x25f1+-0x21a2+-0x44f;_0x3b42c2<_0x38e325['length'];_0x3b42c2++)if(_0x38e325[_0x3b42c2]['visible']){const _0x365321=_0x38e325[_0x3b42c2]['mesh'],_0x27115c=_0x365321['vertexBuff'+'er']['numVertice'+'s'];if(_0xc343+=_0x27115c,_0x365321['primitive'][-0x14*-0x137+0x1fe2+-0x31f*0x12]['indexed'])_0x122de6+=_0x365321['primitive'][-0x2*0x569+-0x1551+0x2023]['count'];else{const _0x3fb7ae=_0x365321['primitive'][0x1c22*-0x1+0x14ac+0x776]['type'];(_0x3fb7ae===oa||_0x3fb7ae===Er)&&_0x365321['primitive'][0x6b*0x4d+-0x1692+-0x99d]['count']===0x1*0x114d+0x1*0x1946+0x5*-0x883&&(_0x122de6+=0x19c9+0x2*-0xa25+0x1*-0x579);}if(!_0x32ea70){_0x2b4aa3=_0x38e325[_0x3b42c2]['material'],_0x32ea70={};const _0x5a6e25=_0x365321['vertexBuff'+'er']['format']['elements'];for(let _0x3f30e9=-0x1668+-0x14c2+0x2b2a;_0x3f30e9<_0x5a6e25['length'];_0x3f30e9++){const _0x402c49=_0x5a6e25[_0x3f30e9]['name'];_0x32ea70[_0x402c49]={'numComponents':_0x5a6e25[_0x3f30e9]['numCompone'+'nts'],'dataType':_0x5a6e25[_0x3f30e9]['dataType'],'normalize':_0x5a6e25[_0x3f30e9]['normalize'],'count':0x0};}_0x1be107&&(_0x32ea70[us]={'numComponents':0x1,'dataType':Ve,'normalize':!(-0x1*0xf51+-0x17*-0x1a5+-0x1681),'count':0x0});}}return{'streams':_0x32ea70,'batchNumVerts':_0xc343,'batchNumIndices':_0x122de6,'material':_0x2b4aa3};}['create'](_0x332b2b,_0x3e54ba,_0x5592f4){const _0x112100=de();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(0xeb1+0x2*-0x2b4+-0x949));let _0x5b8cba=null,_0x2540ef,_0x38501f,_0x3a9240,_0x399419=null;const _0x1ee01d=this['collectBat'+'chedMeshDa'+'ta'](_0x332b2b,_0x3e54ba);if(_0x1ee01d['streams']){const _0x22580c=_0x1ee01d['streams'];let _0x33b256=_0x1ee01d['material'];const _0x2263dc=_0x1ee01d['batchNumVe'+'rts'],_0xfdfc6d=_0x1ee01d['batchNumIn'+'dices'];_0x399419=new g_(_0x332b2b,_0x3e54ba,_0x5592f4),this['_batchList']['push'](_0x399419);let _0x25cf8d,_0x16d5b2,_0x556f85,_0x5f4e64,_0x2d7b65=0x20c1+0x22c6+-0x4387,_0x9edd99=0x1*0x1cbe+0x15d9+0x3*-0x10dd,_0x417495;const _0x5a4197=_0x2263dc<=-0x18c7*-0x2+-0x17456*0x1+-0x9*-0x404f?Uint16Array:Uint32Array,_0x4a6f10=new _0x5a4197(_0xfdfc6d);for(_0x2540ef in _0x22580c)_0x5b8cba=_0x22580c[_0x2540ef],_0x5b8cba['typeArrayT'+'ype']=wn[_0x5b8cba['dataType']],_0x5b8cba['elementByt'+'eSize']=No[_0x5b8cba['dataType']],_0x5b8cba['buffer']=new _0x5b8cba['typeArrayT'+'ype'](_0x2263dc*_0x5b8cba['numCompone'+'nts']);for(let _0x3f680e=-0xa*0x26a+-0x34*-0x15+0x13e0;_0x3f680e<_0x332b2b['length'];_0x3f680e++)if(_0x332b2b[_0x3f680e]['visible']){_0x38501f=_0x332b2b[_0x3f680e]['mesh'],_0x3a9240=_0x38501f['vertexBuff'+'er']['numVertice'+'s'],_0x3e54ba||(_0x417495=_0x332b2b[_0x3f680e]['node']['getWorldTr'+'ansform']());for(_0x2540ef in _0x22580c)if(_0x2540ef!==us){_0x5b8cba=_0x22580c[_0x2540ef];const _0x24ca43=new _0x5b8cba['typeArrayT'+'ype'](_0x5b8cba['buffer']['buffer'],_0x5b8cba['elementByt'+'eSize']*_0x5b8cba['count']),_0x20e4c3=_0x38501f['getVertexS'+'tream'](_0x2540ef,_0x24ca43)*_0x5b8cba['numCompone'+'nts'];if(_0x5b8cba['count']+=_0x20e4c3,!_0x3e54ba&&_0x5b8cba['numCompone'+'nts']>=-0x1288+0x20b1+-0xe26){if(_0x2540ef===Me){const _0x107219=_0x417495['data'],_0x91e911=_0x107219[-0x267c+-0x12cd+-0x23*-0x1a3],_0x390a76=_0x107219[0x14e*-0x16+-0xd44*0x2+0x373d],_0x52239e=_0x107219[0x3*-0x8f8+-0x164f*0x1+0x3139],_0x4b3de7=_0x107219[0x10a9*-0x1+0x1684+0x5*-0x12b],_0x4c375f=_0x107219[0xf29+0x2*0x4b6+0x83*-0x30],_0x5bd14b=_0x107219[0x5f7*0x3+-0x12be+0xdf],_0x2da202=_0x107219[0x3*0x6ee+0x1*0x7d1+-0x1c93],_0x43ecaf=_0x107219[0x1*0xa3f+0x65*-0x4f+0x431*0x5],_0x3f7bae=_0x107219[0x2464+0x1e25+-0x427f],_0xfa5bce=_0x107219[-0x16*-0x1e+0x76*-0x51+-0x5cd*-0x6],_0x6fd6cb=_0x107219[-0x27d+0x17*0x2b+-0x3*0x71],_0x1131a3=_0x107219[-0x697+-0x1476+0x1b1b];let _0xd7bc24,_0x4df547,_0x3bab23;for(let _0xf79678=-0x14ce+0x293*-0x1+0x1761;_0xf79678<_0x20e4c3;_0xf79678+=_0x5b8cba['numCompone'+'nts'])_0xd7bc24=_0x24ca43[_0xf79678],_0x4df547=_0x24ca43[_0xf79678+(-0x5*0x157+0x227a+0x316*-0x9)],_0x3bab23=_0x24ca43[_0xf79678+(-0x1b0e*0x1+0x29d+0x1873)],_0x24ca43[_0xf79678]=_0xd7bc24*_0x91e911+_0x4df547*_0x4b3de7+_0x3bab23*_0x2da202+_0xfa5bce,_0x24ca43[_0xf79678+(-0x43b*-0x4+0x2*0xe40+0x2d6b*-0x1)]=_0xd7bc24*_0x390a76+_0x4df547*_0x4c375f+_0x3bab23*_0x43ecaf+_0x6fd6cb,_0x24ca43[_0xf79678+(-0x1*-0xd66+0x1a23*-0x1+0xcbf)]=_0xd7bc24*_0x52239e+_0x4df547*_0x5bd14b+_0x3bab23*_0x3f7bae+_0x1131a3;}else{if(_0x2540ef===gs||_0x2540ef===yi){A_['invertMat4'](_0x417495)['transpose']();const [_0x3e1aec,_0x2220cb,_0x4105c8,_0x2cb811,_0x1a4786,_0x5d3662,_0x2299f6,_0x3b8449,_0x51306a]=A_['data'];let _0x5d89a0,_0x2c3098,_0x26471a;for(let _0x1086bb=0x935+0x3+0x5*-0x1d8;_0x1086bb<_0x20e4c3;_0x1086bb+=_0x5b8cba['numCompone'+'nts'])_0x5d89a0=_0x24ca43[_0x1086bb],_0x2c3098=_0x24ca43[_0x1086bb+(-0x1e1e+-0x36f*-0x1+-0x10*-0x1ab)],_0x26471a=_0x24ca43[_0x1086bb+(0x11d1*0x2+0x209+-0x25a9)],_0x24ca43[_0x1086bb]=_0x5d89a0*_0x3e1aec+_0x2c3098*_0x2cb811+_0x26471a*_0x2299f6,_0x24ca43[_0x1086bb+(0x1f47+-0x2387+0x3*0x16b)]=_0x5d89a0*_0x2220cb+_0x2c3098*_0x1a4786+_0x26471a*_0x3b8449,_0x24ca43[_0x1086bb+(0x2226+-0xa89*0x3+-0x289*0x1)]=_0x5d89a0*_0x4105c8+_0x2c3098*_0x5d3662+_0x26471a*_0x51306a;}}}}if(_0x3e54ba){_0x5b8cba=_0x22580c[us];for(let _0x63bce3=-0x1*-0x3c3+-0x2*-0x1c1+-0x745;_0x63bce3<_0x3a9240;_0x63bce3++)_0x5b8cba['buffer'][_0x5b8cba['count']++]=_0x3f680e;}if(_0x38501f['primitive'][-0xb15*0x1+0x74b*0x5+-0x1962*0x1]['indexed']){_0x25cf8d=_0x38501f['primitive'][-0xd*0x21d+0x1*-0x1e01+0x397a]['base'],_0x16d5b2=_0x38501f['primitive'][-0x224c+0x264e+-0x402]['baseVertex']||0x1076+0x1*0x1697+-0x270d,_0x556f85=_0x38501f['primitive'][-0x8b*0x2a+0x4*-0x685+0x1*0x30e2]['count'];const _0x2a7916=_0x38501f['indexBuffe'+'r'][-0x3b0+0x1*-0x167+0x517]['getFormat']();_0x5f4e64=new Sh[_0x2a7916](_0x38501f['indexBuffe'+'r'][0x1624+-0x1f8b+0x967]['storage']);}else{_0x16d5b2=0x1*0x2201+0x2149*-0x1+-0xb8;const _0x379600=_0x38501f['primitive'][0x1*0xbb7+-0x2096+-0x27*-0x89]['type'];if(_0x379600===oa||_0x379600===Er){if(_0x38501f['primitive'][0x75f+0x2dc*0x5+-0x3*0x739]['count']===-0x3*-0x871+0x23b1+-0x2*0x1e80)_0x25cf8d=-0x9*-0x136+0xf79*0x1+-0x2b*0x9d,_0x556f85=-0xbfd+-0x2*-0xad+0xaa9,_0x5f4e64=_0x379600===oa?PE:ME;else{_0x556f85=0x1a2d*0x1+0x484*0x5+-0x30c1;continue;}}}for(let _0x1dc925=-0xe7a+0x5*0x5f+0x167*0x9;_0x1dc925<_0x556f85;_0x1dc925++)_0x4a6f10[_0x1dc925+_0x9edd99]=_0x5f4e64[_0x25cf8d+_0x1dc925]+_0x16d5b2+_0x2d7b65;_0x9edd99+=_0x556f85,_0x2d7b65+=_0x3a9240;}_0x38501f=new Ge(this['device']);for(_0x2540ef in _0x22580c)_0x5b8cba=_0x22580c[_0x2540ef],_0x38501f['setVertexS'+'tream'](_0x2540ef,_0x5b8cba['buffer'],_0x5b8cba['numCompone'+'nts'],void(-0x26c2+-0x3fb*0x8+-0xe*-0x50b),_0x5b8cba['dataType'],_0x5b8cba['normalize']);_0x4a6f10['length']>-0x1bd1+0x2553+-0x982&&_0x38501f['setIndices'](_0x4a6f10),_0x38501f['update'](js,!(-0xe9e+0x6*0x83+0xb8d*0x1)),_0x3e54ba&&(_0x33b256=_0x33b256['clone'](),_0x33b256['update']());const _0x1fe8f6=new He(_0x38501f,_0x33b256,this['rootNode']);_0x1fe8f6['castShadow']=_0x399419['origMeshIn'+'stances'][0x1674+-0x79d+-0xed7]['castShadow'],_0x1fe8f6['parameters']=_0x399419['origMeshIn'+'stances'][0x8db+0x129c*-0x1+-0xe3*-0xb]['parameters'],_0x1fe8f6['layer']=_0x399419['origMeshIn'+'stances'][-0x21bb+-0x303+-0x2*-0x125f]['layer'],_0x1fe8f6['_shaderDef'+'s']=_0x399419['origMeshIn'+'stances'][-0xc7*-0x2d+0x1395+-0x3690]['_shaderDef'+'s'],_0x1fe8f6['batching']=!(0x16c+-0x917+0x7ab*0x1),_0x1fe8f6['cull']=_0x399419['origMeshIn'+'stances'][0x23f1+-0x24fb*0x1+0x26*0x7]['cull'];const _0x3267aa=this['_batchGrou'+'ps'][_0x5592f4];if(_0x3267aa&&_0x3267aa['_ui']&&(_0x1fe8f6['cull']=!(-0x1*0xa7d+-0x1*0x1dee+0x31c*0xd)),_0x3e54ba){const _0x3c4279=[];for(let _0x3084a2=-0xc4d*-0x3+-0x106c*-0x2+-0x45bf;_0x3084a2<_0x399419['origMeshIn'+'stances']['length'];_0x3084a2++)_0x3c4279['push'](_0x399419['origMeshIn'+'stances'][_0x3084a2]['node']);_0x1fe8f6['skinInstan'+'ce']=new y_(this['device'],_0x3c4279,this['rootNode']);}_0x1fe8f6['_updateAab'+'b']=!(-0x262e+0xcb*0x1f+0xd9a*0x1),_0x1fe8f6['drawOrder']=_0x399419['origMeshIn'+'stances'][0x116f+-0x1a94+0x925]['drawOrder'],_0x1fe8f6['stencilFro'+'nt']=_0x399419['origMeshIn'+'stances'][0x4*-0x877+-0x9*0xc3+0x5d1*0x7]['stencilFro'+'nt'],_0x1fe8f6['stencilBac'+'k']=_0x399419['origMeshIn'+'stances'][0x38c*-0x3+-0xc59+0x16fd]['stencilBac'+'k'],_0x1fe8f6['flipFacesF'+'actor']=jd(_0x399419['origMeshIn'+'stances'][-0x24dc+-0x204+-0x1*-0x26e0]),_0x1fe8f6['castShadow']=_0x399419['origMeshIn'+'stances'][0x2*0xf0d+-0x1e0d+-0xd]['castShadow'],_0x399419['meshInstan'+'ce']=_0x1fe8f6,_0x399419['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=de()-_0x112100,_0x399419;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>0x2*0x87b+0x15a4+0x44a*-0x9&&this['generate'](this['_dirtyGrou'+'ps']);const _0x40f9ba=de();for(let _0xe7f022=-0x146+-0x56*0xb+0x18*0x35;_0xe7f022<this['_batchList']['length'];_0xe7f022++)this['_batchList'][_0xe7f022]['dynamic']&&this['_batchList'][_0xe7f022]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=de()-_0x40f9ba;}['clone'](_0xbe407f,_0x4ca778){const _0x157d68=new g_(_0x4ca778,_0xbe407f['dynamic'],_0xbe407f['batchGroup'+'Id']);this['_batchList']['push'](_0x157d68);const _0x3178e9=[];for(let _0x31f9d8=0x23ba+0x1*-0x20e3+0x1*-0x2d7;_0x31f9d8<_0x4ca778['length'];_0x31f9d8++)_0x3178e9['push'](_0x4ca778[_0x31f9d8]['node']);return _0x157d68['meshInstan'+'ce']=new He(_0xbe407f['meshInstan'+'ce']['mesh'],_0xbe407f['meshInstan'+'ce']['material'],_0xbe407f['meshInstan'+'ce']['node']),_0x157d68['meshInstan'+'ce']['_updateAab'+'b']=!(0xa3*0xb+0x16eb*0x1+-0x1deb),_0x157d68['meshInstan'+'ce']['parameters']=_0x4ca778[-0x1671+0x1868+0x1*-0x1f7]['parameters'],_0x157d68['meshInstan'+'ce']['cull']=_0x4ca778[-0x1*0xbea+-0x287*-0x9+0x3b*-0x2f]['cull'],_0x157d68['meshInstan'+'ce']['layer']=_0x4ca778[0x13*-0x1e5+-0x1c8f+-0x2*-0x2047]['layer'],_0xbe407f['dynamic']&&(_0x157d68['meshInstan'+'ce']['skinInstan'+'ce']=new y_(this['device'],_0x3178e9,this['rootNode'])),_0x157d68['meshInstan'+'ce']['castShadow']=_0xbe407f['meshInstan'+'ce']['castShadow'],_0x157d68;}['destroyBat'+'ch'](_0x251c6e){_0x251c6e['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x251c6e['batchGroup'+'Id']]['layers']);}}const P_='uSceneColo'+'rMap';class LE extends ys{constructor(){super(...arguments),h(this,'colorRende'+'rTarget',null),h(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0x3e3b59,_0x5c8298,_0x3cff5f){if((_0x3e3b59==null?void(-0x1ca*0x6+-0x20c*0x1+-0x4*-0x332):_0x3e3b59['colorBuffe'+'r']['format'])!==_0x3cff5f)return!(-0x1101+0x66a+0xa97);const _0x5805c7=(_0x5c8298==null?void(0x1e96+-0x1*-0xc77+-0x6b*0x67):_0x5c8298['width'])||this['device']['width'],_0x24012b=(_0x5c8298==null?void(0x4e9+0x4a*-0x6b+0x1*0x1a05):_0x5c8298['height'])||this['device']['height'];return!_0x3e3b59||_0x5805c7!==_0x3e3b59['width']||_0x24012b!==_0x3e3b59['height'];}['allocateRe'+'nderTarget'](_0x4072a6,_0x43197d,_0x159f67,_0x58b570){const _0x1d94e5=new _e(_0x159f67,{'name':P_,'format':_0x58b570,'width':_0x43197d?_0x43197d['colorBuffe'+'r']['width']:_0x159f67['width'],'height':_0x43197d?_0x43197d['colorBuffe'+'r']['height']:_0x159f67['height'],'mipmaps':!(0x2340+0x49d+-0x27dd),'minFilter':ma,'magFilter':vt,'addressU':ue,'addressV':ue});return _0x4072a6?(_0x4072a6['destroyFra'+'meBuffers'](),_0x4072a6['_colorBuff'+'er']=_0x1d94e5,_0x4072a6['_colorBuff'+'ers']=[_0x1d94e5]):_0x4072a6=new gt({'name':'ColorGrabR'+'T','colorBuffer':_0x1d94e5,'depth':!(-0x1f55+0x1*0x264e+-0x6f8),'stencil':!(-0xfb*0x13+0xb*0x367+-0x11*0x11b),'autoResolve':!(0x32a+0x5c2+0x3*-0x2f9)}),_0x4072a6;}['releaseRen'+'derTarget'](_0x1dba76){_0x1dba76&&(_0x1dba76['destroyTex'+'tureBuffer'+'s'](),_0x1dba76['destroy']());}['frameUpdat'+'e'](){const _0x115dc2=this['device'],_0x44c927=this['source'],_0x1c684d=(_0x44c927==null?void(-0x1*-0x13f7+0x860+-0x1c57):_0x44c927['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x44c927==null?void(0x17*-0x4+0x23bc*0x1+-0x2360):_0x44c927['colorBuffe'+'r'],_0x1c684d)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x44c927,_0x115dc2,_0x1c684d));const _0x2acc39=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x115dc2['scope']['resolve'](P_)['setValue'](_0x2acc39);}['execute'](){const _0x234427=this['device'];Q['pushGpuMar'+'ker'](_0x234427,'GRAB-COLOR');const _0x3dc59d=this['source'],_0x47194d=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x234427['isWebGPU']?(_0x234427['copyRender'+'Target'](_0x3dc59d,this['colorRende'+'rTarget'],!(0x21ff+0x19*0x149+0xb8*-0x5c),!(0x3f+0xf0d+0x105*-0xf)),_0x234427['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x234427['copyRender'+'Target'](_0x3dc59d,this['colorRende'+'rTarget'],!(0x2*-0x10ad+-0x4bc*0x3+0x17c7*0x2),!(0x224c+-0x2cd*0xb+-0x37c)),_0x234427['activeText'+'ure'](_0x234427['maxCombine'+'dTextures']-(-0x1*0x89f+-0x1*-0x994+0x2*-0x7a)),_0x234427['bindTextur'+'e'](_0x47194d),_0x234427['gl']['generateMi'+'pmap'](_0x47194d['impl']['_glTarget'])),Q['popGpuMark'+'er'](_0x234427);}}const M_='uSceneDept'+'hMap';(function(){const _0x41cc71=function(){let _0x39f157;try{_0x39f157=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0x2be802){_0x39f157=window;}return _0x39f157;},_0x2c033a=_0x41cc71();_0x2c033a['setInterva'+'l'](_0x34c82b,-0xb8c+0x268d+-0xb61);}());class RE extends ys{constructor(_0x57c1c7,_0xa4fe1d){super(_0x57c1c7),h(this,'depthRende'+'rTarget',null),h(this,'camera',null),this['camera']=_0xa4fe1d;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0xce1959,_0x32c2c2){const _0x3f812a=(_0x32c2c2==null?void(0x804+0x168a+-0x2*0xf47):_0x32c2c2['width'])||this['device']['width'],_0x5c1e01=(_0x32c2c2==null?void(-0x1*-0x16e5+0x2407+0x3*-0x13a4):_0x32c2c2['height'])||this['device']['height'];return!_0xce1959||_0x3f812a!==_0xce1959['width']||_0x5c1e01!==_0xce1959['height'];}['allocateRe'+'nderTarget'](_0x2302dc,_0x4e40ff,_0x3d7008,_0x36b61f,_0x1cd1f9){const _0x368ed7=new _e(_0x3d7008,{'name':M_,'format':_0x36b61f,'width':_0x4e40ff?_0x4e40ff['colorBuffe'+'r']['width']:_0x3d7008['width'],'height':_0x4e40ff?_0x4e40ff['colorBuffe'+'r']['height']:_0x3d7008['height'],'mipmaps':!(0x30c+-0x1*0x1f6f+0x1c64),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});return _0x2302dc?(_0x2302dc['destroyFra'+'meBuffers'](),_0x1cd1f9?_0x2302dc['_depthBuff'+'er']=_0x368ed7:(_0x2302dc['_colorBuff'+'er']=_0x368ed7,_0x2302dc['_colorBuff'+'ers']=[_0x368ed7])):_0x2302dc=new gt({'name':'DepthGrabR'+'T','colorBuffer':_0x1cd1f9?null:_0x368ed7,'depthBuffer':_0x1cd1f9?_0x368ed7:null,'depth':!_0x1cd1f9,'stencil':_0x3d7008['supportsSt'+'encil'],'autoResolve':!(-0x1*-0x7a+0x1bce+-0x1c47)}),_0x2302dc;}['releaseRen'+'derTarget'](_0x335191){_0x335191&&(_0x335191['destroyTex'+'tureBuffer'+'s'](),_0x335191['destroy']());}['before'](){var _0x3db36b,_0x540868;const _0x127e4e=this['camera'],_0x1e651c=this['device'],_0x553876=(_0x127e4e==null?void(-0x13ac+0xa*-0x4f+0x3cb*0x6):_0x127e4e['renderTarg'+'et'])??_0x1e651c['backBuffer'];let _0x4a8bc9=!(-0x71a+0x21*-0xb+0x885),_0x3f136c=_0x553876['stencil']?sd:$i;_0x1e651c['isWebGPU']&&_0x553876['samples']>-0x112a+-0xb*-0x1cb+0xda*-0x3&&(_0x3f136c=Ji,_0x4a8bc9=!(0x1*-0xb11+-0x5a7+0x10b9));const _0x4edfc3=((_0x3db36b=_0x127e4e['renderTarg'+'et'])==null?void(0x186*-0x15+-0x925*-0x1+-0x1*-0x16d9):_0x3db36b['depthBuffe'+'r'])??((_0x540868=_0x127e4e['renderTarg'+'et'])==null?void(-0x34*0x89+0x21f4+0x10*-0x62):_0x540868['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x4edfc3)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x127e4e['renderTarg'+'et'],_0x1e651c,_0x3f136c,_0x4a8bc9));const _0x41746f=_0x4a8bc9?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x1e651c['scope']['resolve'](M_)['setValue'](_0x41746f);}['execute'](){const _0x48c1f4=this['device'];if(Q['pushGpuMar'+'ker'](_0x48c1f4,'GRAB-DEPTH'),_0x48c1f4['isWebGL2']&&_0x48c1f4['renderTarg'+'et']['samples']>-0xfbd+0x22df+0x3b*-0x53){const _0x4da185=_0x48c1f4['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0x54235f=this['depthRende'+'rTarget'];_0x48c1f4['renderTarg'+'et']=_0x54235f,_0x48c1f4['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x48c1f4,_0x4da185,_0x54235f['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x48c1f4['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x48c1f4['copyRender'+'Target'](_0x48c1f4['renderTarg'+'et'],this['depthRende'+'rTarget'],!(-0x25b3+-0xce*0x1d+0x1*0x3d0a),!(0x8f6+-0x1*-0x1269+-0x1b5f));Q['popGpuMark'+'er'](_0x48c1f4);}}class vv{constructor(){h(this,'_gammaCorr'+'ection',Xc),h(this,'_toneMappi'+'ng',sm),h(this,'_srgbRende'+'rTarget',!(0x1eaf+-0xf3*0x27+-0x3*-0x21d)),h(this,'_ssaoEnabl'+'ed',!(-0x641*-0x1+-0x2d9+-0x367)),h(this,'_fog',Kn),h(this,'_sceneDept'+'hMapLinear',!(0x1783+-0x1560+0x4e*-0x7)),h(this,'_hash'),h(this,'_defines',new Map()),h(this,'_definesDi'+'rty',!(0x11fd+-0x1*-0x116a+-0x2367));}get['hash'](){if(this['_hash']===void(0xdaf*-0x1+-0x60+0xe0f)){const _0x3aa026=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hi(_0x3aa026);}return this['_hash'];}get['defines'](){const _0x2df753=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(0x27*-0xc9+-0x2*0x4de+0x285c),_0x2df753['clear'](),this['_sceneDept'+'hMapLinear']&&_0x2df753['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(-0x1cda+0x1*0x225d+0x1*-0x583)),_0x2df753['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x2df753['set']('TONEMAP',ov[this['_toneMappi'+'ng']]),_0x2df753['set']('GAMMA',Hw[this['shaderOutp'+'utGamma']])),_0x2df753;}['markDirty'](){this['_hash']=void(-0x1*0x1d11+0x1*0x159b+0x776),this['_definesDi'+'rty']=!(0xc*-0x24a+0xbd8+0xfa*0x10);}set['fog'](_0x2cab63){this['_fog']!==_0x2cab63&&(this['_fog']=_0x2cab63,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0x2f93c2){this['_ssaoEnabl'+'ed']!==_0x2f93c2&&(this['_ssaoEnabl'+'ed']=_0x2f93c2,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x118d7b){this['_gammaCorr'+'ectionAssi'+'gned']=!(0x40*0x2+0xbf8+-0x18f*0x8),this['_gammaCorr'+'ection']!==_0x118d7b&&(this['_gammaCorr'+'ection']=_0x118d7b,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x22fc15){this['_toneMappi'+'ng']!==_0x22fc15&&(this['_toneMappi'+'ng']=_0x22fc15,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0x54c4ed){this['_srgbRende'+'rTarget']!==_0x54c4ed&&(this['_srgbRende'+'rTarget']=_0x54c4ed,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0xd340f3){this['_sceneDept'+'hMapLinear']!==_0xd340f3&&(this['_sceneDept'+'hMapLinear']=_0xd340f3,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===Xc&&!this['_srgbRende'+'rTarget']?Xc:Ll;}}const La=new D(),ao=new D(),D_=new D(),I_=new te(),OE=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()];class Fl{constructor(){h(this,'shaderPass'+'Info',null),h(this,'renderPass'+'ColorGrab',null),h(this,'renderPass'+'DepthGrab',null),h(this,'fogParams',null),h(this,'shaderPara'+'ms',new vv()),h(this,'renderPass'+'es',[]),h(this,'jitter',-0x1f7c+0x16*-0x37+-0x135*-0x1e),(this['_aspectRat'+'io']=(0x1*-0x118d+-0x1720+0x28bd)/(-0x144a+-0x3*-0x97+-0x1db*-0xa),this['_aspectRat'+'ioMode']=hm,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new ie(0x914+-0xe2c+0x518+0.75,-0x127f+0x5*0x331+-0x1a*-0x19+0.75,-0x2*-0x3d7+0x494+0x3*-0x416+0.75,0xbfb*0x1+0xbf8+-0x17f2),this['_clearColo'+'rBuffer']=!(0xa*-0x1de+-0x16ec+-0x58*-0x79),this['_clearDept'+'h']=-0xb5*-0x7+-0xb99+-0x6a7*-0x1,this['_clearDept'+'hBuffer']=!(-0x191*0xd+0x2087+0x40e*-0x3),this['_clearSten'+'cil']=-0x203d+-0x189*-0xa+0x10e3,this['_clearSten'+'cilBuffer']=!(0x2*0x2f9+0x1bfc+-0x56*0x65),this['_cullFaces']=!(-0x1677+-0xbab+0x2222),this['_farClip']=-0xd*-0x16b+-0xe*0xaa+-0x67*0xd,this['_flipFaces']=!(-0x33d+0x1*0x11dd+-0xe9f),this['_fov']=-0x1e59+-0x62f+0x24b5,this['_frustumCu'+'lling']=!(0x1cef+-0x1ad4+-0x21b),this['_horizonta'+'lFov']=!(0x6e8+0x23cd+-0x2ab4),this['_layers']=[er,ps,Kp,Il,Zp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=0x3*0xa66+0x1d37+-0x3c69+0.1,this['_node']=null,this['_orthoHeig'+'ht']=-0x26cb+0x1*0x7ed+0x1ee8,this['_projectio'+'n']=ni,this['_rect']=new re(-0x5c*-0x1b+0x15fb+-0x1faf,-0x7*0x1d3+0x15e4+0x1*-0x91f,0x1*0x129+0xc9*0xb+0x1*-0x9cb,-0x18b5+-0x3f5*0x1+0x1cab),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new re(0x1*-0xdd2+-0x1d9f*0x1+0x2b71,0x1d6e+-0x17e8+-0x586,0x502+-0x1362+0x4cb*0x3,-0xd56+0xe*0x3d+0xa01),this['_scissorRe'+'ctClear']=!(-0xdf4+-0xaa2+0x5*0x4eb),this['_aperture']=0x568+0x2*0x12f1+-0x2b3a,this['_shutter']=(-0x13a8+-0x1c3*-0x9+0x3ce)/(0x4*0x6a0+0x1279+-0x2911),this['_sensitivi'+'ty']=-0x48f+-0x2225*-0x1+0x1*-0x19ae,this['_projMat']=new te(),this['_projMatDi'+'rty']=!(-0x5*0x17a+0x269+-0x1*-0x4f9),this['_projMatSk'+'ybox']=new te(),this['_viewMat']=new te(),this['_viewMatDi'+'rty']=!(0xae*-0xf+-0x7e3+0x1215),this['_viewProjM'+'at']=new te(),this['_viewProjM'+'atDirty']=!(-0x73*-0x1+0x1*0x956+-0x9c9),this['_shaderMat'+'ricesVersi'+'on']=-0x1c2f+-0x25*0xe9+0x94*0x6b,this['_viewProjI'+'nverse']=new te(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new te(),this['_jitters']=[-0x840+0x5*-0x1a0+0x1060,-0x2313+0x2488+-0x175,-0x2d*-0xd+-0xa20+0x9*0xdf,0x187a*-0x1+-0x20a9+0x3923],this['frustum']=new yx(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0x1df9e5,_0x55f1cf;(_0x1df9e5=this['renderPass'+'ColorGrab'])==null||_0x1df9e5['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x55f1cf=this['renderPass'+'DepthGrab'])==null||_0x55f1cf['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=-0x4*-0x10c+0x3*0x631+-0x16c3;}['_storeShad'+'erMatrices'](_0x40d4ef,_0x5433b5,_0x5a2f30,_0x78a1da){this['_shaderMat'+'ricesVersi'+'on']!==_0x78a1da&&(this['_shaderMat'+'ricesVersi'+'on']=_0x78a1da,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x40d4ef),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new te()),this['_viewProjC'+'urrent']['copy'](_0x40d4ef),this['_viewProjI'+'nverse']['invert'](_0x40d4ef),this['_jitters'][0xb7a+0x2ea+-0xe62]=this['_jitters'][0x9d*-0x23+0x124+0x1453],this['_jitters'][-0x617*0x3+-0x1dd5+0x301d]=this['_jitters'][-0x1394+0x2228+-0xe93],this['_jitters'][0xe30*0x1+-0x1d59+0xf29]=_0x5433b5,this['_jitters'][-0x95c+-0x1*0x7ad+-0x2*-0x885]=_0x5a2f30);}get['fullSizeCl'+'earRect'](){const _0x445422=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x445422['x']===-0x1*-0x17f3+-0x1f*0x1d+0x18*-0xda&&_0x445422['y']===0xa*-0x14f+-0x143*0x16+0x28d8&&_0x445422['z']===0xca5+0x2632+-0x32d6&&_0x445422['w']===-0x8c0+-0x1db6*0x1+-0xe5*-0x2b;}set['aspectRati'+'o'](_0x4b613b){this['_aspectRat'+'io']!==_0x4b613b&&(this['_aspectRat'+'io']=_0x4b613b,this['_projMatDi'+'rty']=!(0x92*-0x1b+0x1*-0x187d+-0x27e3*-0x1));}get['aspectRati'+'o'](){var _0x48f00f;return(_0x48f00f=this['xr'])!=null&&_0x48f00f['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x56b2b7){this['_aspectRat'+'ioMode']!==_0x56b2b7&&(this['_aspectRat'+'ioMode']=_0x56b2b7,this['_projMatDi'+'rty']=!(-0x973+0x3*-0x60f+0x1ba0));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0xd29462){this['_calculate'+'Projection']=_0xd29462,this['_projMatDi'+'rty']=!(0x121f*0x1+0x2557+-0x3776);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x16ff54){this['_calculate'+'Transform']=_0x16ff54;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x5daa5f){this['_clearColo'+'r']['copy'](_0x5daa5f);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0x41d47e){this['_clearColo'+'rBuffer']=_0x41d47e;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x24ed56){this['_clearDept'+'h']=_0x24ed56;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x31d723){this['_clearDept'+'hBuffer']=_0x31d723;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x344c31){this['_clearSten'+'cil']=_0x344c31;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0xbf6519){this['_clearSten'+'cilBuffer']=_0xbf6519;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x35d930){this['_cullFaces']=_0x35d930;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x4cfe9a){this['_farClip']!==_0x4cfe9a&&(this['_farClip']=_0x4cfe9a,this['_projMatDi'+'rty']=!(-0x177d+-0x1e8+0x1965));}get['farClip'](){var _0x888193;return(_0x888193=this['xr'])!=null&&_0x888193['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x1d5f19){this['_flipFaces']=_0x1d5f19;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x590244){this['_fov']!==_0x590244&&(this['_fov']=_0x590244,this['_projMatDi'+'rty']=!(0x713*0x1+-0x1*0x1a30+-0x1*-0x131d));}get['fov'](){var _0x2194c5;return(_0x2194c5=this['xr'])!=null&&_0x2194c5['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x1f97f3){this['_frustumCu'+'lling']=_0x1f97f3;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x169dd){this['_horizonta'+'lFov']!==_0x169dd&&(this['_horizonta'+'lFov']=_0x169dd,this['_projMatDi'+'rty']=!(-0xa6b+0x1e6b*-0x1+0x1*0x28d6));}get['horizontal'+'Fov'](){var _0x29f286;return(_0x29f286=this['xr'])!=null&&_0x29f286['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x102049){this['_layers']=_0x102049['slice'](-0x567*0x5+0x15b3+0x5*0x110),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0xb67520){this['_nearClip']!==_0xb67520&&(this['_nearClip']=_0xb67520,this['_projMatDi'+'rty']=!(0xb20+-0xcb*-0x1b+-0x2089*0x1));}get['nearClip'](){var _0x3d3436;return(_0x3d3436=this['xr'])!=null&&_0x3d3436['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0xc364ca){this['_node']=_0xc364ca;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0x148bd6){this['_orthoHeig'+'ht']!==_0x148bd6&&(this['_orthoHeig'+'ht']=_0x148bd6,this['_projMatDi'+'rty']=!(0x613+-0x2d1*-0xa+-0x1*0x223d));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x366692){this['_projectio'+'n']!==_0x366692&&(this['_projectio'+'n']=_0x366692,this['_projMatDi'+'rty']=!(-0x1f11+0x10*-0x4+-0x1f51*-0x1));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x5e087){this['_rect']['copy'](_0x5e087);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x4d1403){this['_renderTar'+'get']=_0x4d1403;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x53a9c4){this['_scissorRe'+'ct']['copy'](_0x53a9c4);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x107680=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x107680)['invert'](),this['_viewMatDi'+'rty']=!(-0x108c+0xaee+0x59f*0x1);}return this['_viewMat'];}set['aperture'](_0x589da7){this['_aperture']=_0x589da7;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0xd73e31){this['_sensitivi'+'ty']=_0xd73e31;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0x38e00d){this['_shutter']=_0x38e00d;}get['shutter'](){return this['_shutter'];}set['xr'](_0xfa59a4){this['_xr']!==_0xfa59a4&&(this['_xr']=_0xfa59a4,this['_projMatDi'+'rty']=!(-0xb09+-0x1978+0x2481));}get['xr'](){return this['_xr'];}['clone'](){return new Fl()['copy'](this);}['copy'](_0x15b231){return this['_aspectRat'+'io']=_0x15b231['_aspectRat'+'io'],this['_farClip']=_0x15b231['_farClip'],this['_fov']=_0x15b231['_fov'],this['_horizonta'+'lFov']=_0x15b231['_horizonta'+'lFov'],this['_nearClip']=_0x15b231['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x15b231['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x15b231['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x15b231['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x15b231['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x15b231['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x15b231['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x15b231['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x15b231['calculateT'+'ransform'],this['clearColor']=_0x15b231['clearColor'],this['clearColor'+'Buffer']=_0x15b231['clearColor'+'Buffer'],this['clearDepth']=_0x15b231['clearDepth'],this['clearDepth'+'Buffer']=_0x15b231['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x15b231['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x15b231['clearStenc'+'ilBuffer'],this['cullFaces']=_0x15b231['cullFaces'],this['flipFaces']=_0x15b231['flipFaces'],this['frustumCul'+'ling']=_0x15b231['frustumCul'+'ling'],this['layers']=_0x15b231['layers'],this['orthoHeigh'+'t']=_0x15b231['orthoHeigh'+'t'],this['projection']=_0x15b231['projection'],this['rect']=_0x15b231['rect'],this['renderTarg'+'et']=_0x15b231['renderTarg'+'et'],this['scissorRec'+'t']=_0x15b231['scissorRec'+'t'],this['aperture']=_0x15b231['aperture'],this['shutter']=_0x15b231['shutter'],this['sensitivit'+'y']=_0x15b231['sensitivit'+'y'],this['shaderPass'+'Info']=_0x15b231['shaderPass'+'Info'],this['jitter']=_0x15b231['jitter'],this['_projMatDi'+'rty']=!(-0x26a3+0x20b8+0x1f9*0x3),this;}['_enableRen'+'derPassCol'+'orGrab'](_0x4abaa2,_0x2491a4){var _0x5e04f0;_0x2491a4?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new LE(_0x4abaa2)):((_0x5e04f0=this['renderPass'+'ColorGrab'])==null||_0x5e04f0['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x6dde9f,_0x51fd2d,_0x277504){var _0x1b3b69;_0x277504?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new RE(_0x6dde9f,this)):((_0x1b3b69=this['renderPass'+'DepthGrab'])==null||_0x1b3b69['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(-0xaf1*0x2+0x5*-0x2dd+0x2434));}['worldToScr'+'een'](_0x13525c,_0x3e525c,_0x10293e,_0x113c2e=new D()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x13525c,_0x113c2e);const _0x1a5124=this['_viewProjM'+'at']['data'],_0x512e4f=_0x13525c['x']*_0x1a5124[-0x1284+0x78c+-0x3*-0x3a9]+_0x13525c['y']*_0x1a5124[0x13e9+0x1c6c+-0xe5*0x36]+_0x13525c['z']*_0x1a5124[-0x47b+-0xed*0x1+0x573]+(0x1af1+-0x4*-0x219+-0x44*0x85)*_0x1a5124[-0x1c9b+0x1dd7*0x1+-0x7*0x2b];_0x113c2e['x']=(_0x113c2e['x']/_0x512e4f+(0x1e7*0x1+-0x1b8*-0x6+-0xc36))*(0x2416+0xb9*0x1a+-0x36e0+0.5),_0x113c2e['y']=(-0x13*-0xef+-0xa61*0x1+-0x1*0x75b-_0x113c2e['y']/_0x512e4f)*(-0x6*0x50b+0x23d1+0x58f*-0x1+0.5);const {x:_0x759148,y:_0x584499,z:_0x7b1ab4,w:_0x16ca1b}=this['_rect'];return _0x113c2e['x']=_0x113c2e['x']*_0x7b1ab4*_0x3e525c+_0x759148*_0x3e525c,_0x113c2e['y']=_0x113c2e['y']*_0x16ca1b*_0x10293e+(-0x8*-0x6a+-0x128f*0x2+-0x1*-0x21cf-_0x584499-_0x16ca1b)*_0x10293e,_0x113c2e;}['screenToWo'+'rld'](_0x3011fa,_0x5636a9,_0xb26d3a,_0x119e1d,_0x58d680,_0x3b104d=new D()){const {x:_0x363264,y:_0x215871,z:_0x2474ec,w:_0x275044}=this['_rect'],_0x433bb4=this['farClip']-this['nearClip'];if(La['set']((_0x3011fa-_0x363264*_0x119e1d)/(_0x2474ec*_0x119e1d),0x1fe4*-0x1+0x1b05+0xd*0x60-(_0x5636a9-(-0x1*-0x5d1+0x1c6*0x3+-0xb22-_0x215871-_0x275044)*_0x58d680)/(_0x275044*_0x58d680),_0xb26d3a/_0x433bb4),La['mulScalar'](-0x3*-0x211+-0x8*-0x27d+-0x3*0x8b3),La['sub'](D['ONE']),this['_projectio'+'n']===ni){te['_getPerspe'+'ctiveHalfS'+'ize'](ao,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),ao['x']*=La['x'],ao['y']*=La['y'];const _0x1789f9=this['_node']['getWorldTr'+'ansform']();ao['z']=-this['nearClip'],_0x1789f9['transformP'+'oint'](ao,D_);const _0x10da9b=this['_node']['getPositio'+'n']();_0x3b104d['sub2'](D_,_0x10da9b),_0x3b104d['normalize'](),_0x3b104d['mulScalar'](_0xb26d3a),_0x3b104d['add'](_0x10da9b);}else this['_updateVie'+'wProjMat'](),I_['copy'](this['_viewProjM'+'at'])['invert'](),I_['transformP'+'oint'](La,_0x3b104d);return _0x3b104d;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===ni)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x443da7=this['_orthoHeig'+'ht'],_0x4ed584=_0x443da7*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x4ed584,_0x4ed584,-_0x443da7,_0x443da7,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(0x471+0x8f9+0x1*-0xd69);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x4f40bf=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(0xcdb+-0x1029+0x3b2)/this['_sensitivi'+'ty']);return(0x8ff+0xe86+0xe*-0x1ae)/(Math['pow'](-0x17+-0x4b1*0x3+-0x716*-0x2,_0x4f40bf)*(-0x11e3+-0x1aa4+0x2c88+0.19999999999999996));}['getScreenS'+'ize'](_0x44f52c){if(this['_projectio'+'n']===ni){const _0xeb9410=this['_node']['getPositio'+'n']()['distance'](_0x44f52c['center']);if(_0xeb9410<_0x44f52c['radius'])return 0x1e04+0x66*0x38+-0x1171*0x3;const _0x4357ae=Math['asin'](_0x44f52c['radius']/_0xeb9410),_0x38e836=Math['tan'](_0x4357ae),_0x3461d4=Math['tan'](this['fov']/(0xce3+0x1447+-0x2128)*Y['DEG_TO_RAD']);return Math['min'](_0x38e836/_0x3461d4,0x7*-0x373+-0x2a5*0x7+0x2aa9);}return Y['clamp'](_0x44f52c['radius']/this['_orthoHeig'+'ht'],0x51b+0x941+0x2*-0x72e,-0x51*-0x9+0x1728+-0x1a00);}['getFrustum'+'Corners'](_0x31b391=this['nearClip'],_0x4121a5=this['farClip']){const _0x19bb35=this['fov']*Math['PI']/(-0x21f8*-0x1+-0x246c+0x65*0x8);let _0x214287,_0x1ca5c7;this['projection']===ni?this['horizontal'+'Fov']?(_0x214287=_0x31b391*Math['tan'](_0x19bb35/(0xb*0x2e7+0x369+-0x2354)),_0x1ca5c7=_0x214287/this['aspectRati'+'o']):(_0x1ca5c7=_0x31b391*Math['tan'](_0x19bb35/(-0x858+0xd4c+-0x4f2)),_0x214287=_0x1ca5c7*this['aspectRati'+'o']):(_0x1ca5c7=this['_orthoHeig'+'ht'],_0x214287=_0x1ca5c7*this['aspectRati'+'o']);const _0x16d3ea=OE;return _0x16d3ea[0x24f4+0x1bb*0x9+0x317*-0x11]['x']=_0x214287,_0x16d3ea[-0xeff+-0x468+0x1367]['y']=-_0x1ca5c7,_0x16d3ea[-0xb92+0xe5*-0x7+-0x11d5*-0x1]['z']=-_0x31b391,_0x16d3ea[0x9*0x195+-0x1*0x197f+0xb43]['x']=_0x214287,_0x16d3ea[-0x25*-0x36+-0xe8f+-0x5*-0x15a]['y']=_0x1ca5c7,_0x16d3ea[0x4fd+-0x89*0x11+0x41d]['z']=-_0x31b391,_0x16d3ea[-0x2263+-0x2306+0x456b]['x']=-_0x214287,_0x16d3ea[0x21ce+0x21e6+-0x43b2]['y']=_0x1ca5c7,_0x16d3ea[-0x1b2+0x835+-0x681]['z']=-_0x31b391,_0x16d3ea[-0x2433+-0x2040+0x4476]['x']=-_0x214287,_0x16d3ea[0x24*0x7f+0x1639+0xdf*-0x2e]['y']=-_0x1ca5c7,_0x16d3ea[0x70b+-0xccf+0x5c7]['z']=-_0x31b391,this['_projectio'+'n']===ni&&(this['horizontal'+'Fov']?(_0x214287=_0x4121a5*Math['tan'](_0x19bb35/(0x1ccb+0x1ad+-0x1e76)),_0x1ca5c7=_0x214287/this['aspectRati'+'o']):(_0x1ca5c7=_0x4121a5*Math['tan'](_0x19bb35/(0x29*0x99+-0x262+-0x161d)),_0x214287=_0x1ca5c7*this['aspectRati'+'o'])),_0x16d3ea[-0x21a0+-0x25d9*0x1+0x477d]['x']=_0x214287,_0x16d3ea[0x1463+0xd13+-0x2172]['y']=-_0x1ca5c7,_0x16d3ea[-0x1*0x10da+0x22ba+-0x8ee*0x2]['z']=-_0x4121a5,_0x16d3ea[-0x24cd+-0x17*-0xd5+0x11af]['x']=_0x214287,_0x16d3ea[-0x36*0x5b+0x2264+-0xf2d]['y']=_0x1ca5c7,_0x16d3ea[0x7*-0x7a+-0x7f*0x2+-0x459*-0x1]['z']=-_0x4121a5,_0x16d3ea[-0x14ec+0x80*0xb+0xf72]['x']=-_0x214287,_0x16d3ea[-0x32*0x8e+-0x1377+0x2f39]['y']=_0x1ca5c7,_0x16d3ea[-0x1bd9*0x1+0x886+0x1359*0x1]['z']=-_0x4121a5,_0x16d3ea[-0x155*-0x2+-0x4*0x73b+0x1a49]['x']=-_0x214287,_0x16d3ea[-0x4b7*-0x2+0x48b*-0x4+0x1*0x8c5]['y']=-_0x1ca5c7,_0x16d3ea[-0x1892+0x1d17+-0x32*0x17]['z']=-_0x4121a5,_0x16d3ea;}['setXrPrope'+'rties'](_0x2247d9){Object['assign'](this['_xrPropert'+'ies'],_0x2247d9),this['_projMatDi'+'rty']=!(-0x21e7+0x92*0x26+-0x1f*-0x65);}}const L_=new te(),R_=new te(),O_=new te(),gr=class gr{static['create'](_0x16d867,_0x20b9bf,_0x10e431){const _0x3ac2ce=new Fl();switch(_0x3ac2ce['node']=new Ie(_0x16d867),_0x3ac2ce['aspectRati'+'o']=-0xe2e+-0x63*-0x21+0xe*0x1a,_0x3ac2ce['aspectRati'+'oMode']=lu,_0x3ac2ce['_scissorRe'+'ctClear']=!(-0x24ba+-0x10d*-0x6+-0x3b*-0x84),_0x20b9bf){case Ke:_0x3ac2ce['node']['setRotatio'+'n'](gr['pointLight'+'Rotations'][_0x10e431]),_0x3ac2ce['fov']=-0x7*0x257+-0x24a+0x1305,_0x3ac2ce['projection']=ni;break;case Ze:_0x3ac2ce['projection']=ni;break;case ve:_0x3ac2ce['projection']=En;break;}return _0x3ac2ce;}static['evalSpotCo'+'okieMatrix'](_0xe1dcfa){let _0x4f21fd=gr['_spotCooki'+'eCamera'];_0x4f21fd||(_0x4f21fd=gr['create']('SpotCookie'+'Camera',Ze),gr['_spotCooki'+'eCamera']=_0x4f21fd),_0x4f21fd['fov']=_0xe1dcfa['_outerCone'+'Angle']*(0xff9*-0x1+0x6*-0x3ee+0x278f);const _0x462cb4=_0x4f21fd['_node'];_0x462cb4['setPositio'+'n'](_0xe1dcfa['_node']['getPositio'+'n']()),_0x462cb4['setRotatio'+'n'](_0xe1dcfa['_node']['getRotatio'+'n']()),_0x462cb4['rotateLoca'+'l'](-(-0xdf*0x1f+0x2c9*-0x5+0x2948),-0x25c*-0x1+-0x18ed+-0x1691*-0x1,-0x101a*-0x2+0x113*-0xe+0x1a*-0xa9),L_['setTRS'](_0x462cb4['getPositio'+'n'](),_0x462cb4['getRotatio'+'n'](),D['ONE'])['invert'](),R_['mul2'](_0x4f21fd['projection'+'Matrix'],L_);const _0x1fb3fe=_0xe1dcfa['cookieMatr'+'ix'],_0x4d30e0=_0xe1dcfa['atlasViewp'+'ort'];return O_['setViewpor'+'t'](_0x4d30e0['x'],_0x4d30e0['y'],_0x4d30e0['z'],_0x4d30e0['w']),_0x1fb3fe['mul2'](O_,R_),_0x1fb3fe;}};h(gr,'pointLight'+'Rotations',[new le()['setFromEul'+'erAngles'](-0x180+0x1*0xcc7+0x1*-0xb47,0x1409+-0x4c6+-0xb*0x15b,0x1*-0x165f+-0x17cf+-0x2*-0x1771),new le()['setFromEul'+'erAngles'](0x1b*-0xdb+-0x2*0xcf1+0x30fb,-(-0x2*-0x283+0x1*0x515+-0x9c1),-0x15ea+-0xf*0x2e+0x144*0x14),new le()['setFromEul'+'erAngles'](0x1de9+-0x1238+-0xb57,-0x471*-0x7+0x25*-0x71+-0xec2,0x1f61+0x12e2+-0x3243),new le()['setFromEul'+'erAngles'](-(0xa14+0x26b3+-0x21b*0x17),-0x236*0xd+0x1b5*-0x14+0x3ee2,-0x1800+-0xe8+0x18e8),new le()['setFromEul'+'erAngles'](0xf4*-0x6+0xf00+-0x8*0x129,-0xd1*0x1f+0x1*-0x238a+0x1*0x3d8d,-0x45f+-0x1a*-0x4a+-0x271),new le()['setFromEul'+'erAngles'](-0x61a+0x51e+0xfc*0x1,-0x1282+0x23*-0x109+0x36bd,-0x259a+0x2e*-0x50+0x1*0x34ae)]),h(gr,'_spotCooki'+'eCamera',null);let Wn=gr;const vs=new D(),Or=new Float32Array(0x8ac+0xba9+-0x144f),FE=new D(-(0x1262+0x1286+-0x24e8+0.5),-0x1*0x1312+-0x4*-0x7f6+-0xcc6,0x1*0x22ff+0x1*0x1d4b+-0x404a*0x1),NE=new D(0x2653*-0x1+-0x247+0x2*0x144d,0xf25*-0x1+0x506+0xa1f,-0x2f9*-0x6+-0x1*0x25cf+0x13f9*0x1+0.5),at={'POSITION_RANGE':0x0,'DIRECTION_FLAGS':0x1,'COLOR_ANGLES_BIAS':0x2,'PROJ_MAT_0':0x3,'ATLAS_VIEWPORT':0x3,'PROJ_MAT_1':0x4,'PROJ_MAT_2':0x5,'PROJ_MAT_3':0x6,'AREA_DATA_WIDTH':0x7,'AREA_DATA_HEIGHT':0x8,'COUNT':0x9},kE={'LIGHTSHAPE_PUNCTUAL':Ys+'u','LIGHTSHAPE_RECT':Zy+'u','LIGHTSHAPE_DISK':Qy+'u','LIGHTSHAPE_SPHERE':Jy+'u','LIGHT_COLOR_DIVIDER':$c+'.0'},F_=(_0x58a414,_0x51fe6b)=>Object['keys'](_0x58a414)['map'](_0x408173=>'#define\x20{'+_0x51fe6b+_0x408173+'}\x20'+_0x58a414[_0x408173])['join']('\x0a'),N_='\x0a\x0a\x20\x20\x20\x20'+F_(at,'CLUSTER_TE'+'XTURE_')+'\x0a\x20\x20\x20\x20'+F_(kE,'')+'\x0a';class UE{constructor(_0x2f42ec){h(this,'areaLights'+'Enabled',!(0x20e7+-0x3*-0x15+-0x5*0x6a1)),(this['device']=_0x2f42ec,Pe['get'](_0x2f42ec,Fe)['set']('lightBuffe'+'rDefinesPS',N_),Pe['get'](_0x2f42ec,it)['set']('lightBuffe'+'rDefinesPS',N_),this['cookiesEna'+'bled']=!(-0x1*-0xce5+0x9a5+0x281*-0x9),this['shadowsEna'+'bled']=!(0x6c5*-0x3+0x14f8+-0xa8),this['areaLights'+'Enabled']=!(0x4*-0x27b+-0x3b*-0xa3+-0x1ba4),this['maxLights']=0x1b0+0x1c8b+-0x1d3c);const _0x502dc1=at['COUNT'];this['lightsFloa'+'t']=new Float32Array((-0x65*0xf+-0xffb*-0x1+0x1*-0xa0c)*_0x502dc1*this['maxLights']),this['lightsUint']=new Uint32Array(this['lightsFloa'+'t']['buffer']),this['lightsText'+'ure']=this['createText'+'ure'](this['device'],_0x502dc1,this['maxLights'],Xt,'LightsText'+'ure'),this['_lightsTex'+'tureId']=this['device']['scope']['resolve']('lightsText'+'ure'),this['invMaxColo'+'rValue']=0x1c3+0x206b+0x23*-0xfa,this['invMaxAtte'+'nuation']=-0x1bf+-0xe11+-0xb8*-0x16,this['boundsMin']=new D(),this['boundsDelt'+'a']=new D();}['destroy'](){var _0x5e697d;(_0x5e697d=this['lightsText'+'ure'])==null||_0x5e697d['destroy'](),this['lightsText'+'ure']=null;}['createText'+'ure'](_0x293b39,_0x562ac6,_0x4971f7,_0x2b8d53,_0x468927){return new _e(_0x293b39,{'name':_0x468927,'width':_0x562ac6,'height':_0x4971f7,'mipmaps':!(0x872+0x199a+0x6cf*-0x5),'format':_0x2b8d53,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1});}['setBounds'](_0x1eb1e4,_0x4d4212){this['boundsMin']['copy'](_0x1eb1e4),this['boundsDelt'+'a']['copy'](_0x4d4212);}['uploadText'+'ures'](){this['lightsText'+'ure']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ure']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'tureId']['setValue'](this['lightsText'+'ure']);}['getSpotDir'+'ection'](_0xc4ec6,_0x3d2bd0){_0x3d2bd0['_node']['getWorldTr'+'ansform']()['getY'](_0xc4ec6)['mulScalar'](-(0x2013+-0x439+-0x1bd9)),_0xc4ec6['normalize']();}['getLightAr'+'eaSizes'](_0x6efc32){const _0x44fba1=_0x6efc32['_node']['getWorldTr'+'ansform']();return _0x44fba1['transformV'+'ector'](FE,vs),Or[0x49c*0x3+-0x1be0+-0x1f*-0x74]=vs['x'],Or[0xef3*0x1+0x1f53+0x17*-0x203]=vs['y'],Or[0x1612+-0x17*0x174+0xb5c]=vs['z'],_0x44fba1['transformV'+'ector'](NE,vs),Or[0x1*-0x479+-0x5fc+0xa78]=vs['x'],Or[0x1a*-0xe3+0x2b5+0x1*0x145d]=vs['y'],Or[0x1e*-0x3c+0x3d7*0x7+-0x36*0x5e]=vs['z'],Or;}['addLightDa'+'ta'](_0x3de0d0,_0x392ce5){const _0x5a63f1=_0x3de0d0['_type']===Ze,_0x495758=_0x3de0d0['atlasViewp'+'ortAllocat'+'ed'],_0x52fdd3=this['cookiesEna'+'bled']&&!!_0x3de0d0['_cookie']&&_0x495758,_0x142189=this['areaLights'+'Enabled']&&_0x3de0d0['shape']!==Ys,_0x119b54=this['shadowsEna'+'bled']&&_0x3de0d0['castShadow'+'s']&&_0x495758,_0xcd5ea9=_0x3de0d0['_node']['getPositio'+'n']();let _0x302767=null,_0x2116db=null;_0x5a63f1?_0x119b54?_0x302767=_0x3de0d0['getRenderD'+'ata'](null,-0x6*-0xfe+0x5e2+0x6*-0x1f9)['shadowMatr'+'ix']:_0x52fdd3&&(_0x302767=Wn['evalSpotCo'+'okieMatrix'](_0x3de0d0)):(_0x119b54||_0x52fdd3)&&(_0x2116db=_0x3de0d0['atlasViewp'+'ort']);const _0x2be1a1=this['lightsFloa'+'t'],_0x5598f1=this['lightsUint'],_0x3bf428=_0x392ce5*this['lightsText'+'ure']['width']*(-0x48f*0x8+0xfe4+-0x526*-0x4);_0x2be1a1[_0x3bf428+(0x26b1+-0x83a+-0x617*0x5)*at['POSITION_R'+'ANGE']+(0x3a*0x5b+-0x2219*0x1+0xd7b)]=_0xcd5ea9['x'],_0x2be1a1[_0x3bf428+(-0x1*0x132a+0xe9*0x23+-0xcad)*at['POSITION_R'+'ANGE']+(0x8fe+-0x1*-0x2291+-0x2b8e)]=_0xcd5ea9['y'],_0x2be1a1[_0x3bf428+(-0x13d9+0x261d+-0x1240)*at['POSITION_R'+'ANGE']+(-0x1*-0xde9+-0x6d*0x1+-0xf*0xe6)]=_0xcd5ea9['z'],_0x2be1a1[_0x3bf428+(0x1*0x3df+0x14ac+-0x1887)*at['POSITION_R'+'ANGE']+(0x43*-0x64+-0xa4f+0x247e)]=_0x3de0d0['attenuatio'+'nEnd'];const _0x7fe8c8=_0x3de0d0['clusteredD'+'ata'];if(_0x5598f1[_0x3bf428+(-0x1440+0x195c+-0x518)*at['COLOR_ANGL'+'ES_BIAS']+(-0x2334+0x5*-0x22f+0x2e1f)]=_0x7fe8c8[-0x16a*-0xe+-0x1*-0x689+0x15*-0x141],_0x5598f1[_0x3bf428+(0xeb*-0x15+-0x1e0+0x152b)*at['COLOR_ANGL'+'ES_BIAS']+(0x1*-0x1c69+-0x31d*0x6+0x58*0x89)]=_0x7fe8c8[0x17*0x13+0xac*0x11+-0x2*0x690],_0x5598f1[_0x3bf428+(-0x1fe3+-0x54*0x2a+0x923*0x5)*at['COLOR_ANGL'+'ES_BIAS']+(-0x559+-0x2675+0x2bd0)]=_0x7fe8c8[-0xe27+-0x1195+0x1fbe],_0x3de0d0['castShadow'+'s']){const _0x1285d7=_0x3de0d0['getRenderD'+'ata'](null,0x10d3+0x3d2*-0x3+-0x55d*0x1),_0x46fe4b=_0x3de0d0['_getUnifor'+'mBiasValue'+'s'](_0x1285d7),_0x2bd9d1=Mn['float2Half'](_0x46fe4b['bias']),_0x1ebf0a=Mn['float2Half'](_0x46fe4b['normalBias']);_0x5598f1[_0x3bf428+(-0x6c5+-0x150b+0x1bd4)*at['COLOR_ANGL'+'ES_BIAS']+(0x1a93*-0x1+-0x2685+0x411b)]=_0x2bd9d1|_0x1ebf0a<<-0xa68+-0x145f+0x1ed7;}if(_0x5a63f1&&(this['getSpotDir'+'ection'](vs,_0x3de0d0),_0x2be1a1[_0x3bf428+(-0x445*-0x2+0x3b*-0x59+0xbfd)*at['DIRECTION_'+'FLAGS']+(-0x431*-0x9+-0xd*0x103+0x22*-0xb9)]=vs['x'],_0x2be1a1[_0x3bf428+(-0x623*0x1+-0xcac+0x12d3)*at['DIRECTION_'+'FLAGS']+(-0x14*0x105+-0x773+-0x1*-0x1bd8)]=vs['y'],_0x2be1a1[_0x3bf428+(-0x31*0x2f+0x9c9+0x3*-0x42)*at['DIRECTION_'+'FLAGS']+(-0x166+0x12cc+-0x1164)]=vs['z']),_0x5598f1[_0x3bf428+(-0x7f9+-0xfcd+0x17ca)*at['DIRECTION_'+'FLAGS']+(-0x6*0x265+0x139*-0x1+0xf9a*0x1)]=_0x3de0d0['getCluster'+'edFlags'](_0x119b54,_0x52fdd3),_0x302767){const _0x18ad38=_0x302767['data'];for(let _0x4d71f9=0x146*-0x1+0xe*-0x24b+0x2160;_0x4d71f9<-0x1c47*-0x1+0x1*-0x1202+-0xa35;_0x4d71f9++)_0x2be1a1[_0x3bf428+(-0x5*-0x413+0x2*-0x694+-0x733)*at['PROJ_MAT_0']+_0x4d71f9]=_0x18ad38[_0x4d71f9];}if(_0x2116db&&(_0x2be1a1[_0x3bf428+(0x1*0x1e62+0x612+-0x2470)*at['ATLAS_VIEW'+'PORT']+(-0x1af*-0x17+-0x6a*-0xb+-0x1*0x2b47)]=_0x2116db['x'],_0x2be1a1[_0x3bf428+(-0x463+0x128a*-0x2+-0x5ed*-0x7)*at['ATLAS_VIEW'+'PORT']+(0x8*0x3c9+-0x1f17+0x1*0xd0)]=_0x2116db['y'],_0x2be1a1[_0x3bf428+(-0x2c*-0x25+0xfee+-0x1646)*at['ATLAS_VIEW'+'PORT']+(-0x1bf4+-0x186b+0x3461)]=_0x2116db['z']/(-0x55d+-0x3d3*-0x5+-0xdbf)),_0x142189){const _0x3e5dd9=this['getLightAr'+'eaSizes'](_0x3de0d0);_0x2be1a1[_0x3bf428+(-0x1a3c+-0x95*-0x1f+0xb*0xbf)*at['AREA_DATA_'+'WIDTH']+(-0x1*-0x1a11+0x1af*0xb+-0x2c96)]=_0x3e5dd9[-0x3f3*0x6+0x16cc+0x2e*0x5],_0x2be1a1[_0x3bf428+(0x23b3*-0x1+-0x9*0x9c+0x2933)*at['AREA_DATA_'+'WIDTH']+(-0x5*-0x59c+0x2*-0x1213+0x5*0x19f)]=_0x3e5dd9[-0x1*0x38f+-0x1a51+0x1de1*0x1],_0x2be1a1[_0x3bf428+(-0x1*-0x1ec9+0x3d7+-0x1*0x229c)*at['AREA_DATA_'+'WIDTH']+(-0xb*0x29+-0x9f*0x18+0x10ad)]=_0x3e5dd9[0x1157+-0x5fa+0x143*-0x9],_0x2be1a1[_0x3bf428+(-0x2651+0x2*-0x958+0x3905)*at['AREA_DATA_'+'HEIGHT']+(0x5cf*-0x5+0x565*-0x4+-0x329f*-0x1)]=_0x3e5dd9[-0x1f42+-0x9b0+0x28f5*0x1],_0x2be1a1[_0x3bf428+(-0x1a59+0x1*-0x1e85+0x38e2)*at['AREA_DATA_'+'HEIGHT']+(-0x53*-0x2b+0x151f*-0x1+-0x265*-0x3)]=_0x3e5dd9[0xd*-0x2b1+0x2272*-0x1+0x4573],_0x2be1a1[_0x3bf428+(0x1708+0x1a0f+0x3113*-0x1)*at['AREA_DATA_'+'HEIGHT']+(-0xb29+0x2b+0xb00)]=_0x3e5dd9[-0x1f42+-0x1122+-0x9*-0x561];}}}const ic=new D(),rc=new D(),ac=new D(),Yd=new De(),k_=-0x11a0+-0x1*-0x22ed+-0x14d;class U_{constructor(){this['light']=null,this['min']=new D(),this['max']=new D();}}class cu{constructor(_0x206f74){h(this,'clusterTex'+'ture'),(this['device']=_0x206f74,this['name']='Untitled',this['reportCoun'+'t']=-0xb50+0x1*-0x18bf+0x240f,this['boundsMin']=new D(),this['boundsMax']=new D(),this['boundsDelt'+'a']=new D(),this['_cells']=new D(-0x1fc4+-0x3*-0x3bf+0x1488,-0x101*0x10+-0xd3c+0xd*0x241,0x1*-0xb41+-0x385+0xec7),this['_cellsLimi'+'t']=new D(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=-0x145*-0x17+-0x615+-0xb8d*0x2,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new U_()),this['lightsBuff'+'er']=new UE(_0x206f74),this['registerUn'+'iforms'](_0x206f74));}set['maxCellLig'+'htCount'](_0xa2b789){_0xa2b789!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0xa2b789,this['_cellsDirt'+'y']=!(-0x1*0x1c55+0x51b+0x173a));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x43a7e1){ic['copy'](_0x43a7e1)['floor'](),this['_cells']['equals'](ic)||(this['_cells']['copy'](ic),this['_cellsLimi'+'t']['copy'](ic)['sub'](D['ONE']),this['_cellsDirt'+'y']=!(-0x2b*0x1+0x1*-0xd39+0x2*0x6b2));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x4503c4){this['_clusterSk'+'ipId']=_0x4503c4['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x4503c4['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x4503c4['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x4503c4['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(-0xa07+-0x1e8f+0x2899),this['_clusterBo'+'undsMinId']=_0x4503c4['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(-0xbb5+-0x268e+0x3246),this['_clusterBo'+'undsDeltaI'+'d']=_0x4503c4['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(-0x21a1+0x1f4f+0x1*0x255),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x4503c4['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(0xb1+-0x22cf+0x2221),this['_clusterCe'+'llsDotId']=_0x4503c4['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(0x26f7+-0x23a2*0x1+0xa*-0x55),this['_clusterCe'+'llsMaxId']=_0x4503c4['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(-0x236*-0xd+-0x1e16+0x15b);}['updatePara'+'ms'](_0x2c17ad){_0x2c17ad&&(this['cells']=_0x2c17ad['cells'],this['maxCellLig'+'htCount']=_0x2c17ad['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x2c17ad['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x2c17ad['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x2c17ad['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(0x1*0x9d+0x25*-0x4+-0x8);const _0x5a37d8=this['_cells']['x'],_0x1aed6a=this['_cells']['y'],_0x410999=this['_cells']['z'],_0x461516=_0x5a37d8*_0x1aed6a*_0x410999,_0x489872=this['maxCellLig'+'htCount']*_0x461516;let _0x30e4b2=Math['ceil'](Math['sqrt'](_0x489872));_0x30e4b2=Y['roundUp'](_0x30e4b2,this['maxCellLig'+'htCount']);const _0x52e91f=Math['ceil'](_0x489872/_0x30e4b2);w['assert'](_0x30e4b2<=k_&&_0x52e91f<=k_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][0x6*-0x617+-0x1*-0x8a9+-0x3*-0x94b]=_0x5a37d8,this['_clusterCe'+'llsMaxData'][-0x1337*0x1+0x269*0x6+0x4c2]=_0x1aed6a,this['_clusterCe'+'llsMaxData'][0x1*-0x213d+-0x5*0x18d+-0x100*-0x29]=_0x410999,this['_clusterCe'+'llsDotData'][-0x1a58+0xc3e+0xe1a]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0xa2*-0x19+0x1f11+-0x2*0x79f]=_0x5a37d8*_0x410999*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0x25*-0x4c+0x6*-0x63c+0x3066]=_0x5a37d8*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x489872),this['counts']=new Int32Array(_0x461516),this['_clusterTe'+'xtureSizeD'+'ata'][0x11c7+0x3*0xcfa+-0x38b5]=_0x30e4b2,this['_clusterTe'+'xtureSizeD'+'ata'][-0x148c+-0x5*0x4e2+0x2cf7*0x1]=(0x3*0x71+-0x13ef*-0x1+-0x1541)/_0x30e4b2,this['_clusterTe'+'xtureSizeD'+'ata'][0x2*-0xcf1+-0x5*0x1+-0x63*-0x43]=(0x4*0x947+-0x40*-0x5e+-0x3c9b)/_0x52e91f,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x30e4b2,_0x52e91f,Ep,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>0x2*-0x305+-0x6e7+0x1*0xcf2?0x4*-0x130+-0x2*-0x1153+-0x1de6:0x1c2*-0xd+0x74f*-0x2+0x2579),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x1e1e8a=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x1*0x8b4+0xfba+-0x186e]=this['_cells']['x']/_0x1e1e8a['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x30*0x1+-0x903+0x934]=this['_cells']['y']/_0x1e1e8a['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0xc07+-0xde2+0x1dd]=this['_cells']['z']/_0x1e1e8a['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][0x1*0x4e9+-0x1f6d+0x1a84]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][-0x1528*0x1+-0x1dc9+-0x32f2*-0x1]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][0x14bf+-0x2c0+-0x11fd]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][0x3ab+0x1*0xa97+-0xe42]=_0x1e1e8a['x'],this['_clusterBo'+'undsDeltaD'+'ata'][0x25f0+0x3*-0x96a+0x9b1*-0x1]=_0x1e1e8a['y'],this['_clusterBo'+'undsDeltaD'+'ata'][0x13c2+0x1490+-0x408*0xa]=_0x1e1e8a['z'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']);}['evalLightC'+'ellMinMax'](_0x9e45cf,_0x1265e0,_0x4a15fe){_0x1265e0['copy'](_0x9e45cf['min']),_0x1265e0['sub'](this['boundsMin']),_0x1265e0['div'](this['boundsDelt'+'a']),_0x1265e0['mul2'](_0x1265e0,this['cells']),_0x1265e0['floor'](),_0x4a15fe['copy'](_0x9e45cf['max']),_0x4a15fe['sub'](this['boundsMin']),_0x4a15fe['div'](this['boundsDelt'+'a']),_0x4a15fe['mul2'](_0x4a15fe,this['cells']),_0x4a15fe['ceil'](),_0x1265e0['max'](D['ZERO']),_0x4a15fe['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0x2dce91){const _0x2e8340=this['lightsBuff'+'er']['maxLights'],_0x4dc007=this['_usedLight'+'s'];let _0x2e62ec=-0x2267*-0x1+-0x15aa+-0xa3*0x14;_0x2dce91['forEach'](_0x5f5d4a=>{const _0x2509da=!!(_0x5f5d4a['mask']&(Ss|di)),_0x5e052b=_0x5f5d4a['type']===Ze&&_0x5f5d4a['_outerCone'+'Angle']===0x489+0x608+-0x5*0x21d;if(_0x5f5d4a['enabled']&&_0x5f5d4a['type']!==ve&&_0x5f5d4a['visibleThi'+'sFrame']&&_0x5f5d4a['intensity']>0x2646+-0x71*0x1b+-0x1a5b*0x1&&_0x2509da&&!_0x5e052b){if(_0x2e62ec<_0x2e8340){let _0x55b376;_0x2e62ec<_0x4dc007['length']?_0x55b376=_0x4dc007[_0x2e62ec]:(_0x55b376=new U_(),_0x4dc007['push'](_0x55b376)),_0x55b376['light']=_0x5f5d4a,_0x5f5d4a['getBoundin'+'gBox'](Yd),_0x55b376['min']['copy'](Yd['getMin']()),_0x55b376['max']['copy'](Yd['getMax']()),_0x2e62ec++;}else w['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x2e8340-(-0x8*0x119+0x19*-0x149+0x28ea))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x4dc007['length']=_0x2e62ec;}['evaluateBo'+'unds'](){const _0x199274=this['_usedLight'+'s'],_0x2a47d0=this['boundsMin'],_0x1a2705=this['boundsMax'];if(_0x199274['length']>0x89b*0x1+0x177a+-0x2014){_0x2a47d0['copy'](_0x199274[-0x376*0x2+-0x225d+0x842*0x5]['min']),_0x1a2705['copy'](_0x199274[0x1935+0x1a72+0x33a6*-0x1]['max']);for(let _0x392a0d=0x7d5*-0x1+-0x4*0x5+0x7eb*0x1;_0x392a0d<_0x199274['length'];_0x392a0d++)_0x2a47d0['min'](_0x199274[_0x392a0d]['min']),_0x1a2705['max'](_0x199274[_0x392a0d]['max']);}else _0x2a47d0['set'](-0x98c*-0x2+-0x95*0x7+0x1*-0xf05,-0x175b+-0x209c+-0x1*-0x37f7,-0x32e+0xa*0x10a+-0xd*0x8e),_0x1a2705['set'](-0xffa+-0x1*0x1908+0x2903,-0x19*-0xd5+0x1256+-0x1391*0x2,0xc*0x1fc+0x4e9+0x4*-0x72e);this['boundsDelt'+'a']['sub2'](_0x1a2705,_0x2a47d0),this['lightsBuff'+'er']['setBounds'](_0x2a47d0,this['boundsDelt'+'a']);}['updateClus'+'ters'](_0x4f3981){this['counts']['fill'](-0x1254+0x1f90+-0x134*0xb),this['clusters']['fill'](0x15ab+0x193f+-0x2eea),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x4f3981?_0x4f3981['areaLights'+'Enabled']:!(-0x4c*0x56+0x4*-0x43+0x1*0x1a95);const _0x5b2504=this['_cells']['x'],_0x207fc4=this['_cells']['z'],_0xf30ed3=this['counts'],_0x738c24=this['_maxCellLi'+'ghtCount'],_0x3c7306=this['clusters'],_0x3f9c00=this['maxCellLig'+'htCount'];let _0x15562c=!(0x1d*0x3a+-0x42f*-0x1+-0xac*0x10);const _0x1eda80=this['_usedLight'+'s'];for(let _0x537fe6=-0x1a80+0x246d+-0x9ec;_0x537fe6<_0x1eda80['length'];_0x537fe6++){const _0x554af2=_0x1eda80[_0x537fe6],_0x40e09c=_0x554af2['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x40e09c,_0x537fe6),this['evalLightC'+'ellMinMax'](_0x554af2,rc,ac);const _0x4d8002=rc['x'],_0x5bdb58=ac['x'],_0x37d8c6=rc['y'],_0x493812=ac['y'],_0x3a1def=rc['z'],_0x3f165f=ac['z'];for(let _0x587ef7=_0x4d8002;_0x587ef7<=_0x5bdb58;_0x587ef7++)for(let _0x12fcfa=_0x3a1def;_0x12fcfa<=_0x3f165f;_0x12fcfa++)for(let _0xef7a57=_0x37d8c6;_0xef7a57<=_0x493812;_0xef7a57++){const _0x24cae1=_0x587ef7+_0x5b2504*(_0x12fcfa+_0xef7a57*_0x207fc4),_0x449583=_0xf30ed3[_0x24cae1];_0x449583<_0x738c24?(_0x3c7306[_0x3f9c00*_0x24cae1+_0x449583]=_0x537fe6,_0xf30ed3[_0x24cae1]=_0x449583+(-0x531+-0x1e7*0xb+0x1a1f)):_0x15562c=!(0x1f7d+-0x1*0x17f5+-0x788);}}_0x15562c&&this['reportCoun'+'t']<-0x1*0xd73+-0x4*-0x57d+-0x87c&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===-0x2388*0x1+0x23bc+-0x30?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x9addb0,_0x32ba88=null){this['updatePara'+'ms'](_0x32ba88),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x9addb0),this['evaluateBo'+'unds'](),this['updateClus'+'ters'](_0x32ba88),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const B_=0x1218+-0x2*0x235+-0x6d6*0x2+0.39996322972865306,Nl={'circlePoint'(_0x4b71d5){const _0x5cb9c5=Math['sqrt'](Math['random']()),_0x4fe9a0=Math['random']()*(0x1*0x13b2+0x1b89+0x6bf*-0x7)*Math['PI'];_0x4b71d5['x']=_0x5cb9c5*Math['cos'](_0x4fe9a0),_0x4b71d5['y']=_0x5cb9c5*Math['sin'](_0x4fe9a0);},'circlePointDeterministic'(_0x844e80,_0x30356f,_0x1b61a2){const _0x25fc8a=_0x30356f*B_,_0x2e7d0a=Math['sqrt'](_0x30356f)/Math['sqrt'](_0x1b61a2);_0x844e80['x']=_0x2e7d0a*Math['cos'](_0x25fc8a),_0x844e80['y']=_0x2e7d0a*Math['sin'](_0x25fc8a);},'spherePointDeterministic'(_0x264929,_0x4434a3,_0x257295,_0x32e344=-0x10a4+-0x1a4a+0x1*0x2aee,_0x2db04d=-0xb24+0x1469+-0x944){_0x32e344=-0x10af+0x1e75+-0xdc5-(-0x244d*0x1+0x150a+0xf45)*_0x32e344,_0x2db04d=0x1023+0x1cf7+0x1*-0x2d19-(-0x16dd+-0x17e8+0x2ec7)*_0x2db04d;const _0x562faf=Y['lerp'](_0x32e344,_0x2db04d,_0x4434a3/_0x257295),_0x41f662=Math['sqrt'](-0xd87*-0x1+0x46f*-0x5+0x8a5-_0x562faf*_0x562faf),_0x1e1706=B_*_0x4434a3;_0x264929['x']=Math['cos'](_0x1e1706)*_0x41f662,_0x264929['y']=_0x562faf,_0x264929['z']=Math['sin'](_0x1e1706)*_0x41f662;},'radicalInverse'(_0x42b1da){let _0x704dc3=(_0x42b1da<<-0x14f9+-0x1a9e+-0x1*-0x2fa7|_0x42b1da>>>-0xcce+-0x107*0x16+-0x1c6*-0x14)>>>-0x2119+-0x1e23+0xe4*0x47;return _0x704dc3=((_0x704dc3&0x58f7c789*-0x1+-0x71e6022c+0x16*0xd1998af)<<-0x1*-0x2e+0x1*-0x12f3+0x12c6*0x1|(_0x704dc3&-0xe20fdf92*-0x1+0x14c16adad+-0x1837be295)>>>-0x2137+0x238f+0x1*-0x257)>>>0x418+-0x41+0x1*-0x3d7,_0x704dc3=((_0x704dc3&0x3671244d*0x1+-0x1*-0x20d1069+-0xb8d*0x754f)<<0x2*0x170+-0x2192+-0x3c*-0x83|(_0x704dc3&-0x2c420f10+-0x19583fbb5+-0x1*-0x28e92d791)>>>0x480+0x5e*0x1b+-0xe68)>>>-0x97*-0x3b+0x1a48+0x337*-0x13,_0x704dc3=((_0x704dc3&0x17ff4547+0x9bc6091+-0x12ac96c9)<<-0xfe6+-0x1286+0x2270|(_0x704dc3&0x84801896+-0x12a91694e+0x2*0xcb8120d4)>>>0x2*-0xc95+-0xfec*0x2+0x3906)>>>0x1*-0xdd+-0x20b2*0x1+0x30d*0xb,_0x704dc3=((_0x704dc3&0x451dfa+0x6a1df1+0xb654c*0x7)<<-0x7a4+0x138b+-0xbdf|(_0x704dc3&0xf35c2330+0xd054*0xc1c1+-0x92078784)>>>-0x9*-0x2d7+0x1cde*0x1+-0x5*0xae1)>>>0x1*0x93a+-0x1607+0xccd,_0x704dc3*(-0x1642+-0xc0b*0x3+0x3a63+2.3283064365386963e-10);}},BE={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP','xy':'unpackNorm'+'alXY','xyz':'unpackNorm'+'alXYZ'},zE={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Tr{static['decodeFunc'](_0xb6d379){return BE[_0xb6d379]??'decodeGamm'+'a';}static['encodeFunc'](_0x1f4e23){return zE[_0x1f4e23]??'encodeGamm'+'a';}}const z_=_0x5e801e=>{switch(_0x5e801e){case tu:return'Cubemap';case Gx:return'Octahedral';default:return'Equirect';}},nc=(_0x553e83,_0x58ff54,_0x4f840f)=>{if(_0x553e83<=0x253+-0x1*0x11d1+0x7bf*0x2)_0x58ff54[_0x4f840f+(0x1c7a+-0x1*-0x6bd+0x1*-0x2337)]=-0xd*-0x2e9+0x173a+-0x21b*0x1d,_0x58ff54[_0x4f840f+(0xfb+0x1*0x51d+-0x617)]=-0x1f71+0xe3*0xb+0x15b0,_0x58ff54[_0x4f840f+(-0x1*-0xef9+-0x2174+-0x127d*-0x1)]=-0x723+0xfef*0x2+-0x1*0x18bb,_0x58ff54[_0x4f840f+(0x8a6+0x133c*-0x2+0x1dd5)]=-0x260*0xf+-0x1*0x1097+-0x1*-0x3437;else{if(_0x553e83>=-0x3a1*-0xa+-0xcd7+0x1*-0x1772)_0x58ff54[_0x4f840f+(-0x14ea+0x317*0x1+-0x11d3*-0x1)]=-0x1958+0x255b*-0x1+0x3e*0x107,_0x58ff54[_0x4f840f+(-0x6e7+-0x2f+0x717)]=-0x2025+0x660+0x19c5,_0x58ff54[_0x4f840f+(-0x9*-0x7a+-0x1*-0x26ca+0x2*-0x1589)]=0x1*0x5cb+0xecd+-0x1498,_0x58ff54[_0x4f840f+(-0x1*0x1c61+0xef2+0x6b9*0x2)]=0x23e9+0xceb*0x1+-0x30d4;else{let _0x1620f9=(0x2*-0x1148+-0x1*-0xbdb+0x16b6)*_0x553e83%(0x1dee+-0x2*0x827+-0xd9f*0x1),_0x2ccde4=(0xcbf+0x1d4c+-0x4*0xa43)*_0x553e83%(-0x13c*0x11+-0x1*-0xe7d+-0x680*-0x1),_0x9168e4=(-0x1352e+0x2*-0x9103+-0x79e3*-0x7)*_0x553e83%(-0x1*0x2364+0xd9c+0xb*0x1fb);const _0x59cc82=(0x52d*0x82f+-0x1*-0x5c82a3+0x762519)*_0x553e83%(-0x7*0x47+0x27a*-0x3+0x960);_0x1620f9-=_0x2ccde4/(0x1*0x2461+-0x19a5+-0x9bd),_0x2ccde4-=_0x9168e4/(-0xa5a+0x8bf+0x29a),_0x9168e4-=_0x59cc82/(0xb89+0xe95+0x6d*-0x3b),_0x58ff54[_0x4f840f+(0x7*0x445+0x1c42+-0x3a25)]=Math['min'](0x883*-0x1+-0x70d+0x108f,Math['floor'](_0x1620f9*(-0x1aa6+0x61*-0x33+0x19*0x1e1))),_0x58ff54[_0x4f840f+(0x2697+0x1*-0x74f+-0x1f47*0x1)]=Math['min'](-0x193f+0xb35*0x1+-0x3*-0x503,Math['floor'](_0x2ccde4*(0xf2c+-0x41*0x8b+0x1*0x151f))),_0x58ff54[_0x4f840f+(0x1*0x256f+-0x1*-0x1b55+-0x40c2)]=Math['min'](0xbe2+-0x97*0x1d+0x638,Math['floor'](_0x9168e4*(0x226d+-0x478+-0x1cf5))),_0x58ff54[_0x4f840f+(0x2664+-0x1413+0x8e*-0x21)]=Math['min'](0x22*-0xbe+0x994+-0x57*-0x31,Math['floor'](_0x59cc82*(0xd3*-0x1+0x4fe+0x1*-0x32b)));}}},VE=_0x4bf9e4=>{const _0x35e402=_0x4bf9e4['length'],_0x4a0d97=Math['min'](_0x35e402,-0x167f*0x1+-0x1dc+0x1a5b),_0x24a865=Math['ceil'](_0x35e402/_0x4a0d97),_0x1e6d52=new Uint8Array(_0x4a0d97*_0x24a865*(-0x40+0x151*-0xb+0xebf));let _0x4e5b6d=0x251c+0x230a+0x2*-0x2413;for(let _0x230cfe=-0x679+-0x20e1+0xdb*0x2e;_0x230cfe<_0x35e402;_0x230cfe+=0x1a66+-0x103e+-0x1*0xa24)nc(_0x4bf9e4[_0x230cfe+(-0x270*0x4+0x1*0xd01+-0x1*0x341)]*(-0x1*-0x97d+-0x24a0+-0x1b23*-0x1+0.5)+(-0x166c+-0xd7b*0x1+0x23e7+0.5),_0x1e6d52,_0x4e5b6d+(-0x1a3e*-0x1+0x19dd*0x1+-0x341b)),nc(_0x4bf9e4[_0x230cfe+(0x11*-0x209+-0x1*-0x1316+0xf84)]*(-0x12bd+0x7b*0x13+0x99c+0.5)+(0x6bd*-0x5+0x2327*0x1+-0x176+0.5),_0x1e6d52,_0x4e5b6d+(0x2*-0xd52+0x456+0x1652)),nc(_0x4bf9e4[_0x230cfe+(0x3*0xb8+-0x4*0x875+0x32b*0xa)]*(0x1*-0x2351+0xe2d+-0x386*-0x6+0.5)+(-0x1352+0x1b*0x65+0x1*0x8ab+0.5),_0x1e6d52,_0x4e5b6d+(-0x1*-0x118a+-0x86*0x1c+-0xa*0x49)),nc(_0x4bf9e4[_0x230cfe+(-0x1f33+-0xa07*0x1+0x293d)]/(-0xfd5+-0x1722+0x26ff),_0x1e6d52,_0x4e5b6d+(0x1*-0x1145+-0x1376+-0x23*-0x10d)),_0x4e5b6d+=0x1*-0x1d24+-0xaf8+0x1416*0x2;return{'width':_0x4a0d97,'height':_0x24a865,'data':_0x1e6d52};},GE=(_0x4353a8,_0x59a021,_0x14a5d6,_0x595590)=>{const _0x3eb91f=_0x14a5d6*(0x3b*-0x47+0xe36+0x7*0x4f)*Math['PI'],_0x36381b=Math['pow'](0xf90+0xa49+-0x19d8-_0x59a021,(-0x4*0x623+-0xc*-0x2c4+-0x8a3)/(_0x595590+(0xd17+0x13f*0x13+-0x1*0x24c3))),_0xf08a75=Math['sqrt'](-0x1*-0x392+-0x26b2+0x2321*0x1-_0x36381b*_0x36381b);_0x4353a8['set'](Math['cos'](_0x3eb91f)*_0xf08a75,Math['sin'](_0x3eb91f)*_0xf08a75,_0x36381b)['normalize']();},HE=(_0x1acee0,_0x3cf3a1,_0x4f96b2)=>{const _0x2b91c3=_0x4f96b2*(-0x4b1*-0x1+-0x1c*-0x3d+-0xb5b)*Math['PI'],_0x42e7eb=Math['sqrt'](0x1*0xf4d+0x5b5+-0x1501*0x1-_0x3cf3a1),_0x19d9a6=Math['sqrt'](_0x3cf3a1);_0x1acee0['set'](Math['cos'](_0x2b91c3)*_0x19d9a6,Math['sin'](_0x2b91c3)*_0x19d9a6,_0x42e7eb)['normalize']();},WE=(_0xebd242,_0x5c0685,_0x225f2b,_0x5b9fd2)=>{const _0x1a10be=_0x225f2b*(-0x13*0x16f+-0x172b+0xef*0x36)*Math['PI'],_0x170cdb=Math['sqrt']((0x2483+0x6fa+0x2b7c*-0x1-_0x5c0685)/(0x49a+-0x23fa+0x1f61+(_0x5b9fd2*_0x5b9fd2-(-0x1249+0x166a+0xc*-0x58))*_0x5c0685)),_0x54fb68=Math['sqrt'](0x1e5c+-0x14db*-0x1+0x36a*-0xf-_0x170cdb*_0x170cdb);_0xebd242['set'](Math['cos'](_0x1a10be)*_0x54fb68,Math['sin'](_0x1a10be)*_0x54fb68,_0x170cdb)['normalize']();},$E=(_0x255674,_0x4c3139)=>{const _0x23581c=_0x255674*_0x4c3139,_0x494a27=_0x4c3139/(-0x229d*0x1+-0xafa+-0x16cc*-0x2-_0x255674*_0x255674+_0x23581c*_0x23581c);return _0x494a27*_0x494a27*((0xd06+-0x100b+0x306)/Math['PI']);},XE=(_0x47e3c9,_0x63ae8b)=>{const _0x18cfe2=new D(),_0x4159b8=[];for(let _0x670e2e=-0x1*-0x1ae4+0x2125+-0x1403*0x3;_0x670e2e<_0x47e3c9;++_0x670e2e)GE(_0x18cfe2,_0x670e2e/_0x47e3c9,Nl['radicalInv'+'erse'](_0x670e2e),_0x63ae8b),_0x4159b8['push'](_0x18cfe2['x'],_0x18cfe2['y'],_0x18cfe2['z'],-0xfa8+0x1e14+-0xe6c);return _0x4159b8;},qE=(_0x2a86fe,_0x172231)=>{const _0xe407d3=_0x172231/_0x2a86fe,_0x1ff2b5=new D(),_0x590d62=[];for(let _0x1e9618=-0x1*0x165a+0x10fb*-0x1+0x2755;_0x1e9618<_0x2a86fe;++_0x1e9618){HE(_0x1ff2b5,_0x1e9618/_0x2a86fe,Nl['radicalInv'+'erse'](_0x1e9618));const _0x11c9c2=_0x1ff2b5['z']/Math['PI'],_0x260830=(0x1d4e+0x1829+-0x3577+0.5)*Math['log2'](_0xe407d3/_0x11c9c2);_0x590d62['push'](_0x1ff2b5['x'],_0x1ff2b5['y'],_0x1ff2b5['z'],_0x260830);}return _0x590d62;},jE={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},YE=(_0x3f2894,_0x32f8d2)=>{const _0x5da8ea=jE[_0x3f2894];return _0x5da8ea&&_0x5da8ea[_0x32f8d2]||_0x3f2894;},KE=(_0x4bd9c7,_0x2dfde2,_0x1280cc)=>{const _0x59a62c=_0x1280cc/_0x4bd9c7,_0x22efd5=-0x4*-0xdb+-0x90+-0x2db-Math['log2'](_0x2dfde2)/(-0x1ecf+-0x6d7+-0x25b1*-0x1),_0x3ae2e4=_0x22efd5*_0x22efd5,_0x1473db=new D(),_0x3ffb84=new D(),_0x127af1=new D(0xe8d+0x6*0x416+-0x1*0x2711,0x76*0x17+0x19*-0x83+-0xbb*-0x3,0x1238+0x1708+-0x293f),_0x3eb7fd=[],_0x980d69=YE(_0x4bd9c7,_0x2dfde2);for(let _0x4904c0=0x1cbd+0x2232+-0x3eef*0x1;_0x4904c0<_0x980d69;++_0x4904c0){WE(_0x1473db,_0x4904c0/_0x980d69,Nl['radicalInv'+'erse'](_0x4904c0),_0x3ae2e4);const _0x1ba155=_0x1473db['z'];if(_0x3ffb84['set'](_0x1473db['x'],_0x1473db['y'],_0x1473db['z'])['mulScalar']((-0x1882*0x1+0x2556+-0xcd2)*_0x1ba155)['sub'](_0x127af1),_0x3ffb84['z']>0x1157*0x1+-0x690+-0x1f*0x59){const _0x4e4130=$E(Math['min'](-0x3b4+0x1*-0x2557+0x290c,_0x1ba155),_0x3ae2e4)/(-0x1312*-0x1+-0x1*-0x985+-0x1c93)+(-0x1e8d+-0x1*0xfb+0xfc4*0x2+0.001),_0x4f6e96=(-0x1*0x241+0x2*-0xbe4+0x9b*0x2b+0.5)*Math['log2'](_0x59a62c/_0x4e4130);_0x3eb7fd['push'](_0x3ffb84['x'],_0x3ffb84['y'],_0x3ffb84['z'],_0x4f6e96);}}for(;_0x3eb7fd['length']<_0x4bd9c7*(-0x2227+0x3*0x9+0x2210);)_0x3eb7fd['push'](-0xe1b+-0xb3f*-0x3+-0x167*0xe,0x1*0x1d2f+-0x20e6+-0x1*-0x3b7,0xd80+0x266*0xb+0x1*-0x27e2,-0x12d6+-0x18e*-0x4+0xc9e);return _0x3eb7fd;},ZE=(_0x163b4f,_0x117c32,_0x33719f)=>{const _0x2e0847=VE(_0x33719f);return new _e(_0x163b4f,{'name':_0x117c32,'width':_0x2e0847['width'],'height':_0x2e0847['height'],'mipmaps':!(-0x2*-0x612+-0x1ca*-0x12+-0x2c57),'minFilter':Te,'magFilter':Te,'levels':[_0x2e0847['data']]});};class xv{constructor(_0x2508f7=!(-0x1*0x227e+0x21e8+-0x5*-0x1e)){h(this,'map',new Map()),this['destroyCon'+'tent']=_0x2508f7;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x7a0dd8,_0xb392e3)=>{_0x7a0dd8['destroy']();});}['get'](_0x461cb4,_0x5c264c){if(!this['map']['has'](_0x461cb4)){const _0x43c635=_0x5c264c();return this['map']['set'](_0x461cb4,_0x43c635),_0x43c635;}return this['map']['get'](_0x461cb4);}}const QE=new xv(!(-0xb1f+0x1821+0x1*-0xd01)),JE=new Kt(),dm=(_0x3342a0,_0x511375,_0x19f3a4)=>JE['get'](_0x3342a0,()=>new xv())['get'](_0x511375,()=>ZE(_0x3342a0,_0x511375,QE['get'](_0x511375,_0x19f3a4))),eb=(_0x54c09c,_0x3cb47b,_0x521cdd)=>{const _0x3e1d64='lambert-sa'+'mples-'+_0x3cb47b+'-'+_0x521cdd;return dm(_0x54c09c,_0x3e1d64,()=>qE(_0x3cb47b,_0x521cdd));},tb=(_0x1b411e,_0x1281cf,_0x28a250)=>{const _0x5b759a='phong-samp'+'les-'+_0x1281cf+'-'+_0x28a250;return dm(_0x1b411e,_0x5b759a,()=>XE(_0x1281cf,_0x28a250));},sb=(_0xa7480a,_0x15ec79,_0x5eb621,_0x15133b)=>{const _0x5a08e2='ggx-sample'+'s-'+_0x15ec79+'-'+_0x5eb621+'-'+_0x15133b;return dm(_0xa7480a,_0x5a08e2,()=>KE(_0x15ec79,_0x5eb621,_0x15133b));};function vi(_0x357145,_0x452b56,_0x1a3f34={}){var _0x41eef1,_0x2b61d5;w['assert'](_0x357145 instanceof _e&&_0x452b56 instanceof _e,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x1389b4=_0x1a3f34['seamPixels']??-0x13*-0x20e+-0x12d6*0x1+-0x1434,_0x8824fe=(((_0x41eef1=_0x1a3f34['rect'])==null?void(-0x1ac8+-0x1*0x14ab+0x3*0xfd1):_0x41eef1['z'])??_0x452b56['width'])-_0x1389b4*(0x747+-0xc70+0x52b),_0xc861bd=(((_0x2b61d5=_0x1a3f34['rect'])==null?void(-0x1e72+0x169*-0x6+-0x33e*-0xc):_0x2b61d5['w'])??_0x452b56['height'])-_0x1389b4*(0x7*0x3f9+0xd84+-0x2951);if(_0x8824fe<0x5*-0x6e3+-0x2f*0xe+0x2502||_0xc861bd<0x35f+-0xd*0x3b+-0x5f)return!(-0x1373+0x1*0x1e5b+-0xae7);const _0x2ade20={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x5053aa=_0x1a3f34['hasOwnProp'+'erty']('specularPo'+'wer')?_0x1a3f34['specularPo'+'wer']:-0x7b3*-0x1+0x1d*-0xf1+0x139b,_0x522594=_0x1a3f34['hasOwnProp'+'erty']('face')?_0x1a3f34['face']:null,_0x4e310e=_0x1a3f34['hasOwnProp'+'erty']('distributi'+'on')?_0x1a3f34['distributi'+'on']:_0x5053aa===0xbfc*0x1+-0x2544+0x1949*0x1?'none':'phong',_0x5c9e33=_0x2ade20[_0x4e310e]||'reproject',_0x118108=_0x5c9e33['startsWith']('prefilterS'+'amples'),_0x1a0aee=Tr['decodeFunc'](_0x357145['encoding']),_0x330162=Tr['encodeFunc'](_0x452b56['encoding']),_0x5810da='sample'+z_(_0x357145['projection']),_0x43a28b='getDirecti'+'on'+z_(_0x452b56['projection']),_0x5a5592=_0x1a3f34['hasOwnProp'+'erty']('numSamples')?_0x1a3f34['numSamples']:0x4d1*0x3+-0x15b*-0xd+-0x1c12,_0x1ff4d4='ReprojectS'+'hader:'+_0x5c9e33+'_'+_0x1a0aee+'_'+_0x330162+'_'+_0x5810da+'_'+_0x43a28b+'_'+_0x5a5592,_0x1f9873=_0x357145['device'];let _0x511052=Hn(_0x1f9873)['getCachedS'+'hader'](_0x1ff4d4);if(!_0x511052){const _0x3f527d=new Map();_0x118108&&_0x3f527d['set']('USE_SAMPLE'+'S_TEX',''),_0x357145['cubemap']&&_0x3f527d['set']('CUBEMAP_SO'+'URCE',''),_0x3f527d['set']('{PROCESS_F'+'UNC}',_0x5c9e33),_0x3f527d['set']('{DECODE_FU'+'NC}',_0x1a0aee),_0x3f527d['set']('{ENCODE_FU'+'NC}',_0x330162),_0x3f527d['set']('{SOURCE_FU'+'NC}',_0x5810da),_0x3f527d['set']('{TARGET_FU'+'NC}',_0x43a28b),_0x3f527d['set']('{NUM_SAMPL'+'ES}',_0x5a5592),_0x3f527d['set']('{NUM_SAMPL'+'ES_SQRT}',Math['round'](Math['sqrt'](_0x5a5592))['toFixed'](-0x482+-0x94*0xe+0xc9b*0x1));const _0x4809cb=_0x1f9873['isWebGPU'],_0x32bb12=Pe['get'](_0x1f9873,_0x4809cb?it:Fe),_0x132477=new Map();_0x132477['set']('decodePS',_0x32bb12['get']('decodePS')),_0x132477['set']('encodePS',_0x32bb12['get']('encodePS')),_0x511052=$t['createShad'+'er'](_0x1f9873,{'uniqueName':_0x1ff4d4,'attributes':{'vertex_position':Me},'vertexChunk':'reprojectV'+'S','fragmentChunk':'reprojectP'+'S','fragmentIncludes':_0x132477,'fragmentDefines':_0x3f527d});}Q['pushGpuMar'+'ker'](_0x1f9873,'ReprojectT'+'exture'),_0x1f9873['setBlendSt'+'ate'](pt['NOBLEND']);const _0x432227=_0x1f9873['scope']['resolve'](_0x357145['cubemap']?'sourceCube':'sourceTex');w['assert'](_0x432227),_0x432227['setValue'](_0x357145);const _0x2d4a9d=_0x1f9873['scope']['resolve']('params'),_0x4ee3e6=_0x1f9873['scope']['resolve']('uvMod');_0x1389b4>-0x1805+-0x2*0x12a3+0x3d4b?_0x4ee3e6['setValue']([(_0x8824fe+_0x1389b4*(0x4f*-0x1+0x2*-0x796+0xf7d))/_0x8824fe,(_0xc861bd+_0x1389b4*(-0x165c+-0x157*-0x15+0xd3*-0x7))/_0xc861bd,-_0x1389b4/_0x8824fe,-_0x1389b4/_0xc861bd]):_0x4ee3e6['setValue']([0x1b88+0x29*-0x49+0x7eb*-0x2,0x1*0x1281+0x1*0xff3+-0x2273,0x214c+-0x4e*0x10+-0x1c6c,-0x8d1*0x1+0x1*0x1417+-0xb46]);const _0x4fce8b=[-0x10ab+-0x1*0x10c3+0x185*0x16,_0x452b56['width']*_0x452b56['height']*(_0x452b56['cubemap']?-0x1568+0xa*0x3ce+-0x109e:0xcde+-0x115*-0x1+-0xdf2),_0x357145['width']*_0x357145['height']*(_0x357145['cubemap']?0x1f17+-0x1ea9+-0x68:0x11d6+-0x2488+0x12b3)];if(_0x118108){const _0x2cf30b=_0x357145['width']*_0x357145['height']*(_0x357145['cubemap']?0x253c+0x15*-0x1ab+-0x22f:0x1*-0x1b47+-0x1737+0x327f),_0x5923e9=_0x4e310e==='ggx'?sb(_0x1f9873,_0x5a5592,_0x5053aa,_0x2cf30b):_0x4e310e==='lambert'?eb(_0x1f9873,_0x5a5592,_0x2cf30b):tb(_0x1f9873,_0x5a5592,_0x5053aa);_0x1f9873['scope']['resolve']('samplesTex')['setValue'](_0x5923e9),_0x1f9873['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(-0x11b7+-0x1174+0x1*0x232c)/_0x5923e9['width'],(0x10cd+-0x444+0x644*-0x2)/_0x5923e9['height']]);}for(let _0x4727d7=0x1a0a+0x3ca*-0x7+0x7c;_0x4727d7<(_0x452b56['cubemap']?0x2c7+-0x4*-0x3df+-0xcb*0x17:-0x232b+0x19dd+0x94f);_0x4727d7++)if(_0x522594===null||_0x4727d7===_0x522594){const _0x10c620=new gt({'colorBuffer':_0x452b56,'face':_0x4727d7,'depth':!(0x1eb*0xb+0x34*0x3b+0x124*-0x1d),'flipY':_0x1f9873['isWebGPU']});_0x4fce8b[-0x1*-0x184d+0x2413+-0x142*0x30]=_0x4727d7,_0x2d4a9d['setValue'](_0x4fce8b),Ar(_0x1f9873,_0x10c620,_0x511052,_0x1a3f34==null?void(-0x19fd*-0x1+0x1dc+-0x1bd9):_0x1a3f34['rect']),_0x10c620['destroy']();}return Q['popGpuMark'+'er'](_0x1f9873),!(-0x197b+0xc81+0xcfa*0x1);}const Kd=(_0x2b3333,_0xa1d037=-0x149*0x1a+0x751*0x1+0x1a19)=>-0x98*-0x9+-0x2*-0x529+0xd3*-0x13+Math['floor'](Math['log2'](Math['max'](_0x2b3333,_0xa1d037))),ib=_0x53cfb3=>_0x53cfb3['textureHal'+'fFloatRend'+'erable'],rb=_0x4e8846=>_0x4e8846['textureFlo'+'atRenderab'+'le'],ab=_0x21db3c=>ib(_0x21db3c)?nt:rb(_0x21db3c)?Xt:Ne,nb=_0x4c8c97=>Ne,ob=(_0x281409,_0x18a7a7,_0xe60e02,_0xaedb58)=>new _e(_0x281409,{'name':'lighting-'+_0x18a7a7,'cubemap':!(-0x1620+-0xdec+0x240c),'width':_0x18a7a7,'height':_0x18a7a7,'format':_0xe60e02,'type':Qo,'addressU':ue,'addressV':ue,'mipmaps':!(-0xed*0x27+0x2*0x1f7+-0x3*-0xaba)});class Tv{static['generateSk'+'yboxCubema'+'p'](_0x24a451,_0x261cf1){const _0x5f4e18=_0x24a451['device'];Q['pushGpuMar'+'ker'](_0x5f4e18,'genSkyboxC'+'ubemap');const _0x39e0ec=ob(_0x5f4e18,_0x261cf1||(_0x24a451['cubemap']?_0x24a451['width']:_0x24a451['width']/(-0x1f61+0x44*0x5+-0x2b*-0xb3)),Ne);return vi(_0x24a451,_0x39e0ec,{'numSamples':0x400}),Q['popGpuMark'+'er'](_0x5f4e18),_0x39e0ec;}static['generateLi'+'ghtingSour'+'ce'](_0x4b14cf,_0x4f2327){const _0x2257ea=_0x4b14cf['device'];Q['pushGpuMar'+'ker'](_0x2257ea,'genLightin'+'gSource');const _0x1baffd=ab(_0x2257ea),_0x598a5d=(_0x4f2327==null?void(0x7*0x337+0x255a+0x7*-0x88d):_0x4f2327['target'])||new _e(_0x2257ea,{'name':'lighting-s'+'ource','cubemap':!(-0x1c3b+0x1388+-0x11*-0x83),'width':(_0x4f2327==null?void(0x1674+0x222d+-0x85*0x6d):_0x4f2327['size'])||-0x108+-0xb33+-0x1*-0xcbb,'height':(_0x4f2327==null?void(-0x1142*-0x2+0x199a+-0x6ae*0x9):_0x4f2327['size'])||-0xa*0x22d+0x6c2+-0x3e0*-0x4,'format':_0x1baffd,'type':_0x1baffd===Ne?Qo:Ds,'addressU':ue,'addressV':ue,'mipmaps':!(-0x8*0x1cf+-0x2bf*0x2+0x13f6)});return vi(_0x4b14cf,_0x598a5d,{'numSamples':_0x4b14cf['mipmaps']?0xbe+0x24d*-0x1+0x190:-0xc73+0xad9*-0x3+0x30fe}),Q['popGpuMark'+'er'](_0x2257ea),_0x598a5d;}static['generateAt'+'las'](_0x50e50e,_0x4369a4){const _0x3c703e=_0x50e50e['device'],_0x57dc11=nb();Q['pushGpuMar'+'ker'](_0x3c703e,'genAtlas');const _0x4b754f=(_0x4369a4==null?void(-0x13*0x10f+-0xc83+0x20a0):_0x4369a4['target'])||new _e(_0x3c703e,{'name':'envAtlas','width':(_0x4369a4==null?void(0x142a+-0xec0+-0x56a):_0x4369a4['size'])||-0x1a3*-0x1+-0x202+0x1*0x25f,'height':(_0x4369a4==null?void(0x1*-0x21bd+-0x3e3*-0x4+0x1231*0x1):_0x4369a4['size'])||-0x270e+0xe77+0x1a97,'format':_0x57dc11,'type':Qo,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(0x2ed*-0x7+-0x2603+0x257*0x19)});Q['pushGpuMar'+'ker'](_0x3c703e,'mipmaps');const _0x50ad68=_0x4b754f['width']/(0xf4e+-0x13*-0x55+0x139d*-0x1),_0xf5ae19=new re(-0x1*-0x4e5+-0x1*-0x1999+-0x1e7e,0x1*0x12b8+-0xd7e+0xdf*-0x6,(-0x1*-0x1343+-0x1cd4+0x3*0x3db)*_0x50ad68,(-0x1411*-0x1+0x1*-0x1a2f+0x71e*0x1)*_0x50ad68),_0x1c6dfa=Kd(0x69c*0x1+0x22e8*0x1+-0x2884)-Kd(0x17b9*-0x1+0x17*-0x16f+0x356*0x11);for(let _0x360946=-0x7b5*-0x1+0x1a*0x125+-0x2577;_0x360946<_0x1c6dfa;++_0x360946)vi(_0x50e50e,_0x4b754f,{'numSamples':0x1,'rect':_0xf5ae19,'seamPixels':_0x50ad68}),_0xf5ae19['x']+=_0xf5ae19['w'],_0xf5ae19['y']+=_0xf5ae19['w'],_0xf5ae19['z']=Math['max'](-0x1853+-0x800+0x102a*0x2,Math['floor'](_0xf5ae19['z']*(-0x61*-0x6+-0x16*0xf4+0x12b2+0.5))),_0xf5ae19['w']=Math['max'](-0x2033*0x1+-0x1*0x26fd+-0x87*-0x87,Math['floor'](_0xf5ae19['w']*(0x194+0x1*0x22cd+-0x2461+0.5)));Q['popGpuMark'+'er'](_0x3c703e),Q['pushGpuMar'+'ker'](_0x3c703e,'reflection'+'s'),_0xf5ae19['set'](0x61*0x37+-0x1ce+0xb*-0x1bb,(0x257c*0x1+-0xaba+-0x19c2)*_0x50ad68,(0x8f1*0x3+0x5cb*-0x1+0x1408*-0x1)*_0x50ad68,(-0x1fe+-0x3d3+0x31*0x21)*_0x50ad68);for(let _0x2c52e5=0x7c9+-0x2*-0x34b+-0xe5e;_0x2c52e5<0x15b2*0x1+-0x328*-0x9+-0x3213;++_0x2c52e5)vi(_0x50e50e,_0x4b754f,{'numSamples':(_0x4369a4==null?void(-0x1f91*-0x1+-0x2181*-0x1+0x1*-0x4112):_0x4369a4['numReflect'+'ionSamples'])||0x20a1*-0x1+0x1361+0x1140,'distribution':(_0x4369a4==null?void(-0x24*-0x3c+-0x185a*0x1+0xfea*0x1):_0x4369a4['distributi'+'on'])||'ggx','specularPower':Math['max'](-0xec8+-0x1de3+-0x1*-0x2cac,-0x1c6e+-0x1*-0xab3+-0x3ad*-0x7>>_0x2c52e5*(-0x23*0xac+0xf67*0x1+-0x3f*-0x21)),'rect':_0xf5ae19,'seamPixels':_0x50ad68}),_0xf5ae19['y']+=_0xf5ae19['w'],_0xf5ae19['z']=Math['max'](-0x1*-0x527+-0x1e62+0x55*0x4c,Math['floor'](_0xf5ae19['z']*(-0x265*0x1+-0x3a2*0x5+0x148f+0.5))),_0xf5ae19['w']=Math['max'](-0x2095+0x1bb6+0x4e0,Math['floor'](_0xf5ae19['w']*(0x1*0x118b+0x59*0x42+-0x287d+0.5)));return Q['popGpuMark'+'er'](_0x3c703e),Q['pushGpuMar'+'ker'](_0x3c703e,'ambient'),_0xf5ae19['set']((-0x27*0x76+0x106*0x3+-0x3a*-0x44)*_0x50ad68,(-0x22d7*-0x1+0x335+-0x248c)*_0x50ad68,(-0x10f0+-0x1ed8+0x3008)*_0x50ad68,(0x1567*-0x1+-0x1*-0xa37+0x1*0xb50)*_0x50ad68),vi(_0x50e50e,_0x4b754f,{'numSamples':(_0x4369a4==null?void(0x1*0x5d9+-0x22fa+0x1d21):_0x4369a4['numAmbient'+'Samples'])||0x1926+0x1*0x20ab+-0x31d1,'distribution':'lambert','rect':_0xf5ae19,'seamPixels':_0x50ad68}),Q['popGpuMark'+'er'](_0x3c703e),Q['popGpuMark'+'er'](_0x3c703e),_0x4b754f;}static['generatePr'+'efilteredA'+'tlas'](_0x304c79,_0x512d9a){const _0x4107e6=_0x304c79[0x1731+0x2483+-0x3bb4]['device'],_0x1aa7ca=_0x304c79[0xc*0x202+0x144+-0x195c]['format'],_0x4273fc=_0x304c79[0x2244*-0x1+-0x92*0x42+0x162*0x34]['type'];Q['pushGpuMar'+'ker'](_0x4107e6,'genPrefilt'+'eredAtlas');const _0x57dcec=(_0x512d9a==null?void(-0x2067+-0x1*-0x1cba+-0x3ad*-0x1):_0x512d9a['target'])||new _e(_0x4107e6,{'name':'envPrefilt'+'eredAtlas','width':(_0x512d9a==null?void(0x21f9+-0x2e*-0x8b+-0x1*0x3af3):_0x512d9a['size'])||0x9d*0x17+-0x1443+0x828,'height':(_0x512d9a==null?void(-0xd1f+0x22ca+-0x15ab):_0x512d9a['size'])||0x2b*-0x1+0x129d*-0x2+0x2765,'format':_0x1aa7ca,'type':_0x4273fc,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(-0x1ccd+0x18b5+0x419)});Q['pushGpuMar'+'ker'](_0x4107e6,'mipmaps');const _0x457e2f=_0x57dcec['width']/(-0x1593+0x1*0x200b+-0x878),_0x12828a=new re(0x2d8+0xaf4+-0xdcc,-0x4aa+0x21bf*0x1+0x1*-0x1d15,(0x17*0x1a6+-0x1486+-0xf64)*_0x457e2f,(0x5*-0x27+0x71*-0x2c+0x13f*0x11)*_0x457e2f),_0x35266a=Kd(0x66c+-0x2f*0x4d+-0x1*-0x9b7);for(let _0x3ec42f=-0xc4a+0x2*-0x6c4+0x2*0xce9;_0x3ec42f<_0x35266a;++_0x3ec42f)vi(_0x304c79[0x1edd+-0x230a+0x42d],_0x57dcec,{'numSamples':0x1,'rect':_0x12828a,'seamPixels':_0x457e2f}),_0x12828a['x']+=_0x12828a['w'],_0x12828a['y']+=_0x12828a['w'],_0x12828a['z']=Math['max'](-0x1*0x17cb+0x9dd+-0x1*-0xdef,Math['floor'](_0x12828a['z']*(-0x1*-0x379+0x1b2*-0xb+0xf2d+0.5))),_0x12828a['w']=Math['max'](-0x1f14+0x1d*-0x26+0x2363,Math['floor'](_0x12828a['w']*(-0x3c1+0x1493+0x869*-0x2+0.5)));Q['popGpuMark'+'er'](_0x4107e6),Q['pushGpuMar'+'ker'](_0x4107e6,'reflection'+'s'),_0x12828a['set'](-0x15b9*0x1+0x1f80+-0x9c7,(-0xc5f*-0x1+-0x1*0x17+-0x13*0x98)*_0x457e2f,(-0x1*-0x12e5+-0x224c+0x1067)*_0x457e2f,(-0x21a9*-0x1+0x2e7*-0xa+-0x423)*_0x457e2f);for(let _0x15c5d8=-0x5d*-0x67+-0x113a+0x2*-0xa18;_0x15c5d8<_0x304c79['length'];++_0x15c5d8)vi(_0x304c79[_0x15c5d8],_0x57dcec,{'numSamples':0x1,'rect':_0x12828a,'seamPixels':_0x457e2f}),_0x12828a['y']+=_0x12828a['w'],_0x12828a['z']=Math['max'](-0xc05+-0x337*0xb+0x6c5*0x7,Math['floor'](_0x12828a['z']*(0x7ef+-0x1*-0x26fb+-0x4b1*0xa+0.5))),_0x12828a['w']=Math['max'](0xfcb+-0x4f*0x49+0x6bd,Math['floor'](_0x12828a['w']*(-0x9f1*-0x2+0x1f1c+0x6b*-0x7a+0.5)));return Q['popGpuMark'+'er'](_0x4107e6),Q['pushGpuMar'+'ker'](_0x4107e6,'ambient'),_0x12828a['set']((0x3*-0xa9b+-0x19*-0xb4+0x7*0x21b)*_0x457e2f,(0x15cb+0x1*-0x23c5+0x7bd*0x2)*_0x457e2f,(-0x263d*-0x1+0x1*-0x2ed+-0x1188*0x2)*_0x457e2f,(0x2b9*0x9+0x2f5*-0xb+0x826)*_0x457e2f),_0x512d9a!=null&&_0x512d9a['legacyAmbi'+'ent']?vi(_0x304c79[0x1b1a*0x1+0x7d3+-0x2*0x1174],_0x57dcec,{'numSamples':0x1,'rect':_0x12828a,'seamPixels':_0x457e2f}):vi(_0x304c79[-0x17f4+0x6c5*0x5+-0x11*0x95],_0x57dcec,{'numSamples':(_0x512d9a==null?void(-0x1e4*0x5+0x2209+-0x1895):_0x512d9a['numSamples'])||-0xc*-0x2f1+-0x7a8+0x346*-0x6,'distribution':'lambert','rect':_0x12828a,'seamPixels':_0x457e2f}),Q['popGpuMark'+'er'](_0x4107e6),Q['popGpuMark'+'er'](_0x4107e6),_0x57dcec;}}const lb={'aoPS':'1.57','clearCoatPS':'1.57','clearCoatGlossPS':'1.60','clearCoatNormalPS':'1.57','diffusePS':'1.57','emissivePS':'1.57','glossPS':'1.60','metalnessPS':'1.57','normalMapPS':'1.57','opacityPS':'1.57','parallaxPS':'1.57','sheenPS':'1.57','sheenGlossPS':'1.60','specularPS':'1.57','specularityFactorPS':'1.57','thicknessPS':'1.57','transmissionPS':'1.57','normalVertexPS':'1.55','aoDiffuseOccPS':'1.62','aoSpecOccPS':'2.6','clusteredLightPS':'1.62','clusteredLightShadowPS':'1.62','combinePS':'1.62','falloffInvSquaredPS':'1.62','falloffLinearPS':'1.62','lightDiffuseLambertPS':'1.62','lightSheenPS':'1.62','lightSpecularAnisoGGXPS':'1.62','lightSpecularBlinnPS':'1.62','ltcPS':'1.62','reflDirPS':'1.62','reflDirAnisoPS':'1.62','reflectionCCPS':'1.62','reflectionCubePS':'2.6','reflectionEnvPS':'2.6','reflectionEnvHQPS':'2.6','reflectionSpherePS':'2.6','reflectionSheenPS':'1.62','shadowCommonPS':'1.62','shadowCoordPS':'1.62','shadowCoordPerspZBufferPS':'1.62','shadowEVSMPS':'1.62','spotPS':'1.62','TBNPS':'1.62','endPS':'1.65','metalnessModulatePS':'1.65','outputAlphaPS':'1.65','outputAlphaPremulPS':'1.65','fresnelSchlickPS':'1.65','iridescenceDiffractionPS':'1.65','lightmapAddPS':'1.65','refractionCubePS':'1.70','refractionDynamicPS':'1.70'},V_={'ambientPrefilteredCubePS':'1.51','ambientPrefilteredCubeLodPS':'1.51','dpAtlasQuadPS':'1.51','genParaboloidPS':'1.51','prefilterCubemapPS':'1.51','reflectionDpAtlasPS':'1.51','reflectionPrefilteredCubePS':'1.51','reflectionPrefilteredCubeLodPS':'1.51','refractionPS':'1.56','combineClearCoatPS':'1.56','combineDiffusePS':'1.56','combineDiffuseSpecularPS':'1.56','combineDiffuseSpecularNoReflPS':'1.56','combineDiffuseSpecularNoReflSeparateAmbientPS':'1.56','combineDiffuseSpecularOldPS':'1.56','lightmapSingleVertPS':'1.55','normalMapFastPS':'1.55','specularAaNonePS':'1.55','specularAaToksvigPS':'1.55','specularAaToksvigFastPS':'1.55','skyboxEnvPS':'2.1','skyboxHDRPS':'2.1','shadowVSM8PS':'2.3','fogExpPS':'2.5','fogExp2PS':'2.5','fogLinearPS':'2.5','fogNonePS':'2.5','gamma1_0PS':'2.5','gamma2_2PS':'2.5','storeEVSMPS':'2.6','shadowEVSMnPS':'2.6','shadowVSM_commonPS':'2.6','shadowStandardPS':'2.6','shadowStandardGL2PS':'2.6','startVS':'2.6','endVS':'2.6','baseVS':'2.6','baseNineSlicedVS':'2.6','viewNormalVS':'2.6','lightmapDirAddPS':'2.6','TBNObjectSpacePS':'2.6','TBNderivativePS':'2.6','startPS':'2.6','outputAlphaOpaque':'2.6','outputAlphaPremul':'2.6','cubeMapProjectBoxPS':'2.6','cubeMapProjectNonePS':'2.6','envMultiplyPS':'2.6','envConstPS':'2.6','aoSpecOccConstPS':'2.6','aoSpecOccConstSimplePS':'2.6','aoSpecOccSimplePS':'2.6','ambientConstantPS':'2.6','ambientEnvPS':'2.6','ambientSHPS':'2.6','shadowSampleCoordPS':'2.6','diffuseDetailMapPS':'2.7','normalDetailMapPS':'2.7','normalXYPS':'2.7','normalXYZPS':'2.7','aoDetailMapPS':'2.7','lightmapDirPS':'2.7','lightmapSinglePS':'2.7','tangentBinormalVS':'2.7'},cb=(_0x15cf94,_0x4a5c4e)=>{const _0x2ed41f=_0x15cf94['split']('.')['map'](_0x52b23c=>parseInt(_0x52b23c,0x6e2*-0x2+0x2329*0x1+-0x155b)),_0x4d0ded=_0x4a5c4e['split']('.')['map'](_0x40b0c5=>parseInt(_0x40b0c5,0x94c+-0x338+-0x60a));return _0x2ed41f[-0x170+0x177*0x1+0x7*-0x1]<_0x4d0ded[0x267d+0x1303+-0x3980]||_0x2ed41f[-0xd*-0x2c2+-0x1413+-0xfc7]===_0x4d0ded[0x1*0xcc6+0x22a3+-0x2f69]&&_0x2ed41f[-0x1386+-0x4bd*0x3+0x1*0x21be]<_0x4d0ded[0x23e5+-0x5bd+0x5d*-0x53];},hb=(_0x179769,_0x434514)=>{for(const _0x2fc376 of _0x179769['keys']())if(V_['hasOwnProp'+'erty'](_0x2fc376)){const _0xbcd5cb=V_[_0x2fc376];w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x2fc376+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0xbcd5cb+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.'));}else{const _0x591b1e=lb[_0x2fc376];_0x591b1e&&(!_0x434514||cb(_0x434514,_0x591b1e))&&w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x2fc376+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x591b1e+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0x434514||'undefined')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}},Zd={'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_color':Wt,'vertex_boneWeights':gi,'vertex_boneIndices':us};class db{constructor(_0x1373ef,_0x299801,_0x5448bb=!(-0x1cca+0x434+0x1896)){h(this,'varyingsCo'+'de',''),h(this,'device'),h(this,'options'),h(this,'shaderLang'+'uage'),h(this,'vDefines',new Map()),h(this,'fDefines',new Map()),h(this,'includes',new Map()),h(this,'chunks',null),(this['device']=_0x1373ef,this['options']=_0x299801);const _0x494a1d=_0x299801['shaderChun'+'ks'];if(this['shaderLang'+'uage']=_0x1373ef['isWebGPU']&&_0x5448bb&&(_0x494a1d!=null&&_0x494a1d['useWGSL'])?it:Fe,this['attributes']={'vertex_position':Me},_0x299801['userAttrib'+'utes']){for(const [_0x268e37,_0x3cd86a]of Object['entries'](_0x299801['userAttrib'+'utes']))this['attributes'][_0x3cd86a]=_0x268e37;}const _0x19d1f2=Pe['get'](_0x1373ef,this['shaderLang'+'uage']);if(this['chunks']=new Map(_0x19d1f2),_0x494a1d){const _0x4c6dc2=this['shaderLang'+'uage']===Fe?_0x494a1d['glsl']:_0x494a1d['wgsl'];w['call'](()=>{hb(_0x4c6dc2,_0x494a1d['version']);}),_0x4c6dc2['forEach']((_0x5ba44d,_0x500623)=>{for(const _0x3fb3b3 in Zd)Zd['hasOwnProp'+'erty'](_0x3fb3b3)&&_0x5ba44d['indexOf'](_0x3fb3b3)>=0x7*0x25f+0x1e4d+-0x3*0xfa2&&(this['attributes'][_0x3fb3b3]=Zd[_0x3fb3b3]);this['chunks']['set'](_0x500623,_0x5ba44d);});}this['shaderPass'+'Info']=Si['get'](this['device'])['getByIndex'](_0x299801['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x299801['lights']['length']>-0x1843*-0x1+0xe*-0x189+-0x2c5||_0x299801['dirLightMa'+'pEnabled']||_0x299801['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=_0x299801['reflection'+'Source']!==vr,this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x299801['useSpecula'+'r']||_0x299801['ambientSH']||_0x299801['useHeights']||_0x299801['enableGGXS'+'pecular']||_0x299801['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x299801['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x299801['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x299801['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x299801['useDynamic'+'Refraction'],this['vshader']=null,this['fshader']=null;}['fDefineSet'](_0x407f00,_0x4be39b,_0x52cd4c=''){_0x407f00&&this['fDefines']['set'](_0x4be39b,_0x52cd4c);}['generateVe'+'rtexShader'](_0x4e789e,_0x28582e,_0x568b2c){const {options:_0x5ade2c,vDefines:_0x4f0390,attributes:_0x5c094b}=this,_0x5195ea=new Map();if(_0x5195ea['set']('vPositionW','vec3'),(_0x5ade2c['nineSliced'+'Mode']===Pt||_0x5ade2c['nineSliced'+'Mode']===Mt)&&_0x4f0390['set']('NINESLICED',!(0x121e+0x1*-0x1b7d+0x95f)),this['options']['linearDept'+'h']&&(_0x4f0390['set']('LINEAR_DEP'+'TH',!(0x120d+0x1807+-0x2a14)),_0x5195ea['set']('vLinearDep'+'th','float')),this['needsNorma'+'l']&&_0x4f0390['set']('NORMALS',!(0x771+-0x201e+0x18ad)),this['options']['useInstanc'+'ing']){const _0x4c857b=Pe['get'](this['device'],this['shaderLang'+'uage']);this['chunks']['get']('transformI'+'nstancingV'+'S')===_0x4c857b['get']('transformI'+'nstancingV'+'S')&&(_0x5c094b['instance_l'+'ine1']=Mp,_0x5c094b['instance_l'+'ine2']=Dp,_0x5c094b['instance_l'+'ine3']=Ip,_0x5c094b['instance_l'+'ine4']=Ln);}this['needsNorma'+'l']&&(_0x5c094b['vertex_nor'+'mal']=gs,_0x5195ea['set']('vNormalW','vec3'),_0x5ade2c['hasTangent'+'s']&&(_0x5ade2c['useHeights']||_0x5ade2c['useNormals']||_0x5ade2c['useClearCo'+'atNormals']||_0x5ade2c['enableGGXS'+'pecular'])?(_0x4f0390['set']('TANGENTS',!(-0x1956+0x1*0x2617+-0xcc1)),_0x5c094b['vertex_tan'+'gent']=yi,_0x5195ea['set']('vTangentW','vec3'),_0x5195ea['set']('vBinormalW','vec3')):_0x5ade2c['enableGGXS'+'pecular']&&(_0x4f0390['set']('GGX_SPECUL'+'AR',!(0x482+-0x14+-0x6*0xbd)),_0x5195ea['set']('vObjectSpa'+'ceUpW','vec3')));const _0x26d567=-0x1*0xe8e+-0x3a*-0x95+-0x1332;for(let _0x15b746=0x1*-0x2132+-0x30b*0x2+0x3*0xd18;_0x15b746<_0x26d567;_0x15b746++)_0x4e789e[_0x15b746]&&(_0x4f0390['set']('UV'+_0x15b746,!(0x962*0x1+0x1c2*-0x11+0x1480)),_0x5c094b['vertex_tex'+'Coord'+_0x15b746]='TEXCOORD'+_0x15b746),_0x28582e[_0x15b746]&&(_0x4f0390['set']('UV'+_0x15b746+('_UNMODIFIE'+'D'),!(-0x8f9*0x1+-0x1e75+0x7*0x5a2)),_0x5195ea['set']('vUv'+_0x15b746,'vec2'));let _0x4085f2=0xb2e+-0x4f5*0x6+0x1290;const _0x191a3b=new Set();_0x568b2c['forEach'](_0x19b5b3=>{const {id:_0x54d89d,uv:_0x313ca1,name:_0x5cb219}=_0x19b5b3,_0x2955e5=_0x54d89d+_0x313ca1*(-0xe23+0x54b*-0x1+-0x13d2*-0x1);if(!_0x191a3b['has'](_0x2955e5)){_0x191a3b['add'](_0x2955e5),_0x5195ea['set']('vUV'+_0x313ca1+'_'+_0x54d89d,'vec2');const _0x55cf2b='texture_'+_0x5cb219+('MapTransfo'+'rm');_0x4f0390['set']('{TRANSFORM'+'_NAME_'+_0x4085f2+'}',_0x55cf2b),_0x4f0390['set']('{TRANSFORM'+'_UV_'+_0x4085f2+'}',_0x313ca1),_0x4f0390['set']('{TRANSFORM'+'_ID_'+_0x4085f2+'}',_0x54d89d),_0x4085f2++;}}),_0x4f0390['set']('UV_TRANSFO'+'RMS_COUNT',_0x4085f2),_0x5ade2c['vertexColo'+'rs']&&(_0x5c094b['vertex_col'+'or']=Wt,_0x4f0390['set']('VERTEX_COL'+'OR',!(-0x2173*0x1+0x21d8+-0x65*0x1)),_0x5195ea['set']('vVertexCol'+'or','vec4')),_0x5ade2c['useMsdf']&&_0x5ade2c['msdfTextAt'+'tribute']&&(_0x5c094b['vertex_out'+'lineParame'+'ters']=Ko,_0x5c094b['vertex_sha'+'dowParamet'+'ers']=Zo,_0x4f0390['set']('MSDF',!(0xe9c+-0x53a*0x5+0x24e*0x5))),(_0x5ade2c['useMorphPo'+'sition']||_0x5ade2c['useMorphNo'+'rmal'])&&(_0x4f0390['set']('MORPHING',!(0x13e9+0x1db6+-0x319f)),_0x5ade2c['useMorphTe'+'xtureBased'+'Int']&&_0x4f0390['set']('MORPHING_I'+'NT',!(-0x8df+0x935+0x2b*-0x2)),_0x5ade2c['useMorphPo'+'sition']&&_0x4f0390['set']('MORPHING_P'+'OSITION',!(0x3*0x14e+0xb2*-0x1f+0x11a4)),_0x5ade2c['useMorphNo'+'rmal']&&_0x4f0390['set']('MORPHING_N'+'ORMAL',!(0x89b+0x8eb+-0x1*0x1186)),_0x5c094b['morph_vert'+'ex_id']=Ln),_0x5ade2c['skin']&&(_0x5c094b['vertex_bon'+'eIndices']=us,_0x5ade2c['batch']?_0x4f0390['set']('BATCH',!(-0xb3*0xa+0x26b9+0x1*-0x1fbb)):(_0x5c094b['vertex_bon'+'eWeights']=gi,_0x4f0390['set']('SKIN',!(-0x35a+-0x1*0x165e+-0x8*-0x337)))),_0x5ade2c['useInstanc'+'ing']&&_0x4f0390['set']('INSTANCING',!(0x102*0x22+0x23e5+0x1*-0x4629)),_0x5ade2c['screenSpac'+'e']&&_0x4f0390['set']('SCREENSPAC'+'E',!(-0x69b*0x1+-0x26ae+0x1*0x2d49)),_0x5ade2c['pixelSnap']&&_0x4f0390['set']('PIXELSNAP',!(-0xa*-0x34c+-0x4*-0x2cf+-0x2c34)),_0x5195ea['forEach']((_0xa2c444,_0x205d44)=>{this['varyingsCo'+'de']+='#define\x20VA'+'RYING_'+_0x205d44['toUpperCas'+'e']()+'\x0a',this['varyingsCo'+'de']+=this['shaderLang'+'uage']===it?'varying\x20'+_0x205d44+':\x20'+Fy['get'](_0xa2c444)+';\x0a':'varying\x20'+_0xa2c444+'\x20'+_0x205d44+';\x0a';}),this['includes']['set']('varyingsVS',this['varyingsCo'+'de']),this['includes']['set']('varyingsPS',this['varyingsCo'+'de']),this['vshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}['_setupLigh'+'tingDefine'+'s'](_0x6ea81e,_0x15e267){const _0x1eaa8b=this['fDefines'],_0x1dade8=this['options'];if(this['fDefines']['set']('LIGHT_COUN'+'T',_0x1dade8['lights']['length']),_0x6ea81e&&_0x1eaa8b['set']('AREA_LIGHT'+'S',!(0x3d0+-0x1fb1*0x1+-0x94b*-0x3)),_0x15e267&&this['lighting']&&(_0x1eaa8b['set']('LIT_CLUSTE'+'RED_LIGHTS',!(0xc7e+-0x9f9*0x3+0x116d)),_0x1dade8['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x1eaa8b['set']('CLUSTER_CO'+'OKIES',!(-0x687+-0x1686+-0x6f*-0x43)),_0x1dade8['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x1eaa8b['set']('CLUSTER_AR'+'EALIGHTS',!(0x13d*-0x9+-0x1240+0x1d65)),_0x1dade8['lightMaskD'+'ynamic']&&_0x1eaa8b['set']('CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS',!(-0x26*-0xc7+0x2231+-0x3fbb*0x1)),_0x1dade8['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x1dade8['noShadow'])){const _0x20e445=qi['get'](_0x1dade8['clusteredL'+'ightingSha'+'dowType']);_0x1eaa8b['set']('CLUSTER_SH'+'ADOWS',!(-0x196d+-0x2*0xd0e+0x1*0x3389)),_0x1eaa8b['set']('SHADOW_KIN'+'D_'+_0x20e445['kind'],!(0x140f+-0x2*0x616+-0x2a1*0x3)),_0x1eaa8b['set']('CLUSTER_SH'+'ADOW_TYPE_'+_0x20e445['kind'],!(-0xdd3+0x1*-0x1bfa+0x29cd));}for(let _0x1f4e5b=0x94f*0x1+0x1*-0x1b0a+0x11bb;_0x1f4e5b<_0x1dade8['lights']['length'];_0x1f4e5b++){const _0x1f2330=_0x1dade8['lights'][_0x1f4e5b],_0x3311df=_0x1f2330['_type'];if(_0x15e267&&_0x3311df!==ve)continue;const _0x214e88=_0x6ea81e&&_0x1f2330['_shape']?_0x1f2330['_shape']:Ys,_0x378e6b=_0x1f2330['_shadowTyp'+'e'],_0x3fd73b=_0x1f2330['castShadow'+'s']&&!_0x1dade8['noShadow'],_0x47ae7b=qi['get'](_0x378e6b);w['assert'](_0x47ae7b),_0x1eaa8b['set']('LIGHT'+_0x1f4e5b,!(0x161f+0x1*0x6fe+-0x1d1d)),_0x1eaa8b['set']('LIGHT'+_0x1f4e5b+'TYPE',''+u_[_0x3311df]),_0x1eaa8b['set']('LIGHT'+_0x1f4e5b+'SHADOWTYPE',''+_0x47ae7b['name']),_0x1eaa8b['set']('LIGHT'+_0x1f4e5b+'SHAPE',''+Fw[_0x214e88]),_0x1eaa8b['set']('LIGHT'+_0x1f4e5b+'FALLOFF',''+Nw[_0x1f2330['_falloffMo'+'de']]),_0x1f2330['affectSpec'+'ularity']&&_0x1eaa8b['set']('LIGHT'+_0x1f4e5b+('AFFECT_SPE'+'CULARITY'),!(-0x2347+0x4*0x1a2+-0x1*-0x1cbf)),_0x1f2330['_cookie']&&(_0x3311df===Ze&&!_0x1f2330['_cookie']['_cubemap']||_0x3311df===Ke&&_0x1f2330['_cookie']['_cubemap'])&&(_0x1eaa8b['set']('LIGHT'+_0x1f4e5b+'COOKIE',!(0x54*0x6d+0x1a16+-0x3dda)),_0x1eaa8b['set']('{LIGHT'+_0x1f4e5b+('COOKIE_CHA'+'NNEL}'),_0x1f2330['_cookieCha'+'nnel']),_0x3311df===Ze&&(_0x1f2330['_cookieTra'+'nsform']&&_0x1eaa8b['set']('LIGHT'+_0x1f4e5b+('COOKIE_TRA'+'NSFORM'),!(0xe19+-0x232f*0x1+-0x1*-0x1516)),_0x1f2330['_cookieFal'+'loff']&&_0x1eaa8b['set']('LIGHT'+_0x1f4e5b+('COOKIE_FAL'+'LOFF'),!(-0x1b3e+0x134c+0x9*0xe2)))),_0x3fd73b&&(_0x1eaa8b['set']('LIGHT'+_0x1f4e5b+'CASTSHADOW',!(-0x806+0x57+0x7*0x119)),_0x47ae7b['pcf']&&_0x1eaa8b['set']('LIGHT'+_0x1f4e5b+'SHADOW_PCF',!(0x83c+-0x16*-0xcb+-0x19ae)),_0x1f2330['_normalOff'+'setBias']&&!_0x1f2330['_isVsm']&&_0x1eaa8b['set']('LIGHT'+_0x1f4e5b+('_SHADOW_SA'+'MPLE_NORMA'+'L_OFFSET'),!(0xbbd*0x1+-0x126b+0x6ae)),_0x3311df===ve&&(_0x1eaa8b['set']('LIGHT'+_0x1f4e5b+('_SHADOW_SA'+'MPLE_ORTHO'),!(-0x7*-0x3ad+0x1985+-0x3340)),_0x1f2330['cascadeBle'+'nd']>0x263+-0x145c+0x2b*0x6b&&_0x1eaa8b['set']('LIGHT'+_0x1f4e5b+('_SHADOW_CA'+'SCADE_BLEN'+'D'),!(-0x3*0xa98+-0xd75+0x2d3d*0x1)),_0x1f2330['numCascade'+'s']>0x109b+0xd*0x101+-0x1da7&&_0x1eaa8b['set']('LIGHT'+_0x1f4e5b+('_SHADOW_CA'+'SCADES'),!(0x24e5+0x17cc+-0x3*0x143b))),(_0x47ae7b['pcf']||_0x47ae7b['pcss']||this['device']['isWebGPU'])&&_0x1eaa8b['set']('LIGHT'+_0x1f4e5b+('_SHADOW_SA'+'MPLE_SOURC'+'E_ZBUFFER'),!(0x3e3*-0x2+-0x25b1+0x2d77)),_0x3311df===Ke&&_0x1eaa8b['set']('LIGHT'+_0x1f4e5b+('_SHADOW_SA'+'MPLE_POINT'),!(0x22*0xec+0x22d1+-0x4229))),_0x3fd73b&&(_0x1eaa8b['set']('SHADOW_KIN'+'D_'+_0x47ae7b['kind'],!(-0x1b*-0x69+-0x115f*-0x1+0x1*-0x1c72)),_0x3311df===ve&&_0x1eaa8b['set']('SHADOW_DIR'+'ECTIONAL',!(0x27*-0xef+-0x139*-0x7+0x1bda)));}}['prepareFor'+'wardPass'](_0x25127a){const {options:_0x6e2e14}=this,_0x256415=_0x6e2e14['clusteredL'+'ightingEna'+'bled']&&_0x6e2e14['clusteredL'+'ightingAre'+'aLightsEna'+'bled']||_0x6e2e14['lights']['some'](_0x10ee09=>_0x10ee09['_shape']&&_0x10ee09['_shape']!==Ys),_0xe50c17=!_0x6e2e14['lightMapEn'+'abled']||_0x6e2e14['lightMapWi'+'thoutAmbie'+'nt'],_0x52df31=this['needsNorma'+'l']&&(_0x6e2e14['useNormals']||_0x6e2e14['useClearCo'+'atNormals']||_0x6e2e14['enableGGXS'+'pecular']&&!_0x6e2e14['useHeights']);_0x6e2e14['useSpecula'+'r']&&(this['fDefineSet'](!(-0x2*-0x5f9+-0x6a+-0x52*0x24),'LIT_SPECUL'+'AR'),this['fDefineSet'](this['reflection'+'s'],'LIT_REFLEC'+'TIONS'),this['fDefineSet'](_0x6e2e14['useClearCo'+'at'],'LIT_CLEARC'+'OAT'),this['fDefineSet'](_0x6e2e14['fresnelMod'+'el']>0x44a+0x1*0x568+-0x9b2,'LIT_SPECUL'+'AR_FRESNEL'),this['fDefineSet'](_0x6e2e14['useSheen'],'LIT_SHEEN'),this['fDefineSet'](_0x6e2e14['useIridesc'+'ence'],'LIT_IRIDES'+'CENCE')),this['fDefineSet'](this['lighting']&&_0x6e2e14['useSpecula'+'r']||this['reflection'+'s'],'LIT_SPECUL'+'AR_OR_REFL'+'ECTION'),this['fDefineSet'](this['needsScene'+'Color'],'LIT_SCENE_'+'COLOR'),this['fDefineSet'](this['needsScree'+'nSize'],'LIT_SCREEN'+'_SIZE'),this['fDefineSet'](this['needsTrans'+'forms'],'LIT_TRANSF'+'ORMS'),this['fDefineSet'](this['needsNorma'+'l'],'LIT_NEEDS_'+'NORMAL'),this['fDefineSet'](this['lighting'],'LIT_LIGHTI'+'NG'),this['fDefineSet'](_0x6e2e14['useMetalne'+'ss'],'LIT_METALN'+'ESS'),this['fDefineSet'](_0x6e2e14['enableGGXS'+'pecular'],'LIT_GGX_SP'+'ECULAR'),this['fDefineSet'](_0x6e2e14['useSpecula'+'rityFactor'],'LIT_SPECUL'+'ARITY_FACT'+'OR'),this['fDefineSet'](_0x6e2e14['useCubeMap'+'Rotation'],'CUBEMAP_RO'+'TATION'),this['fDefineSet'](_0x6e2e14['occludeSpe'+'cularFloat'],'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT'),this['fDefineSet'](_0x6e2e14['separateAm'+'bient'],'LIT_SEPARA'+'TE_AMBIENT'),this['fDefineSet'](_0x6e2e14['twoSidedLi'+'ghting'],'LIT_TWO_SI'+'DED_LIGHTI'+'NG'),this['fDefineSet'](_0x6e2e14['lightMapEn'+'abled'],'LIT_LIGHTM'+'AP'),this['fDefineSet'](_0x6e2e14['dirLightMa'+'pEnabled'],'LIT_DIR_LI'+'GHTMAP'),this['fDefineSet'](_0x6e2e14['skyboxInte'+'nsity']>-0x31f+0x1156+-0xe37,'LIT_SKYBOX'+'_INTENSITY'),this['fDefineSet'](_0x6e2e14['clusteredL'+'ightingSha'+'dowsEnable'+'d'],'LIT_CLUSTE'+'RED_SHADOW'+'S'),this['fDefineSet'](_0x6e2e14['clusteredL'+'ightingAre'+'aLightsEna'+'bled'],'LIT_CLUSTE'+'RED_AREA_L'+'IGHTS'),this['fDefineSet'](_0x52df31,'LIT_TBN'),this['fDefineSet'](_0xe50c17,'LIT_ADD_AM'+'BIENT'),this['fDefineSet'](_0x6e2e14['hasTangent'+'s'],'LIT_TANGEN'+'TS'),this['fDefineSet'](_0x6e2e14['useNormals'],'LIT_USE_NO'+'RMALS'),this['fDefineSet'](_0x6e2e14['useClearCo'+'atNormals'],'LIT_USE_CL'+'EARCOAT_NO'+'RMALS'),this['fDefineSet'](_0x6e2e14['useRefract'+'ion'],'LIT_REFRAC'+'TION'),this['fDefineSet'](_0x6e2e14['useDynamic'+'Refraction'],'LIT_DYNAMI'+'C_REFRACTI'+'ON'),this['fDefineSet'](_0x6e2e14['dispersion'],'LIT_DISPER'+'SION'),this['fDefineSet'](_0x6e2e14['useHeights'],'LIT_HEIGHT'+'S'),this['fDefineSet'](_0x6e2e14['opacityFad'+'esSpecular'],'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR'),this['fDefineSet'](_0x6e2e14['alphaToCov'+'erage'],'LIT_ALPHA_'+'TO_COVERAG'+'E'),this['fDefineSet'](_0x6e2e14['alphaTest'],'LIT_ALPHA_'+'TEST'),this['fDefineSet'](_0x6e2e14['useMsdf'],'LIT_MSDF'),this['fDefineSet'](_0x6e2e14['ssao'],'LIT_SSAO'),this['fDefineSet'](_0x6e2e14['useAo'],'LIT_AO'),this['fDefineSet'](_0x6e2e14['occludeDir'+'ect'],'LIT_OCCLUD'+'E_DIRECT'),this['fDefineSet'](_0x6e2e14['msdfTextAt'+'tribute'],'LIT_MSDF_T'+'EXT_ATTRIB'+'UTE'),this['fDefineSet'](_0x6e2e14['diffuseMap'+'Enabled'],'LIT_DIFFUS'+'E_MAP'),this['fDefineSet'](_0x6e2e14['shadowCatc'+'her'],'LIT_SHADOW'+'_CATCHER'),this['fDefineSet'](!(-0x1379+-0x1*0x8ae+0x1c27),'LIT_FRESNE'+'L_MODEL',Rw[_0x6e2e14['fresnelMod'+'el']]),this['fDefineSet'](!(0x1bfd+-0x68c*-0x2+-0xd*0x329),'LIT_NONE_S'+'LICE_MODE',qw[_0x6e2e14['nineSliced'+'Mode']]),this['fDefineSet'](!(0xaea+-0x13*-0x1c9+-0x2cd5),'LIT_BLEND_'+'TYPE',Yy[_0x6e2e14['blendType']]),this['fDefineSet'](!(0x1*0xcf2+0x23fc+-0x30ee),'LIT_CUBEMA'+'P_PROJECTI'+'ON',Gw[_0x6e2e14['cubeMapPro'+'jection']]),this['fDefineSet'](!(0xff7+-0x1*0xfb3+-0x44*0x1),'LIT_OCCLUD'+'E_SPECULAR',Ww[_0x6e2e14['occludeSpe'+'cular']]),this['fDefineSet'](!(0x11d1*-0x2+-0x22ea+0x468c),'LIT_REFLEC'+'TION_SOURC'+'E',$w[_0x6e2e14['reflection'+'Source']]),this['fDefineSet'](!(0x31*-0xc7+0x6+0x2611),'LIT_AMBIEN'+'T_SOURCE',Xw[_0x6e2e14['ambientSou'+'rce']]),this['fDefineSet'](!(0xca9+0x2498+-0x3141),'{lightingU'+'v}',_0x25127a??''),this['fDefineSet'](!(0xef*0x27+-0x1c4+-0x22a5*0x1),'{reflectio'+'nDecode}',Tr['decodeFunc'](_0x6e2e14['reflection'+'Encoding'])),this['fDefineSet'](!(0xb*-0x13+-0x1c*-0x59+-0x8eb),'{reflectio'+'nCubemapDe'+'code}',Tr['decodeFunc'](_0x6e2e14['reflection'+'CubemapEnc'+'oding'])),this['fDefineSet'](!(0x7f*0x4+0x25*-0x47+0xd*0xa3),'{ambientDe'+'code}',Tr['decodeFunc'](_0x6e2e14['ambientEnc'+'oding'])),this['_setupLigh'+'tingDefine'+'s'](_0x256415,_0x6e2e14['clusteredL'+'ightingEna'+'bled']);}['prepareSha'+'dowPass'](){const {options:_0x4f551b}=this,_0x2f322d=this['shaderPass'+'Info']['lightType'],_0x50fda1=this['shaderPass'+'Info']['shadowType'],_0x5428a8=qi['get'](_0x50fda1);w['assert'](_0x5428a8);const _0x2486f4=_0x2f322d===ve||!_0x5428a8['vsm']&&_0x2f322d===Ze;this['fDefineSet'](_0x2486f4,'PERSPECTIV'+'E_DEPTH'),this['fDefineSet'](!(0x20d7+0x16f2+-0x37c9*0x1),'LIGHT_TYPE',''+u_[_0x2f322d]),this['fDefineSet'](!(0xf*-0x1f7+-0x15dd+-0x19ab*-0x2),'SHADOW_TYP'+'E',''+_0x5428a8['name']),this['fDefineSet'](_0x4f551b['alphaTest'],'LIT_ALPHA_'+'TEST');}['generateFr'+'agmentShad'+'er'](_0x10754d,_0x1a6a4c,_0x104216){const _0x4ce10a=this['options'];this['includes']['set']('frontendDe'+'clPS',_0x10754d??''),this['includes']['set']('frontendCo'+'dePS',_0x1a6a4c??''),_0x4ce10a['pass']===Zn||_0x4ce10a['pass']===Rl||(this['shadowPass']?this['prepareSha'+'dowPass']():this['prepareFor'+'wardPass'](_0x104216)),this['fshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}}class wv{constructor(){h(this,'hasTangent'+'s',!(-0x1de4+0xc8e+0x1157)),h(this,'shaderChun'+'ks',null),h(this,'pass',-0x46*0xb+-0xde3+-0x361*-0x5),h(this,'alphaTest',!(-0x2397+0x211c*-0x1+0x44b4)),h(this,'blendType',Cs),h(this,'separateAm'+'bient',!(-0x2*-0xd43+0x12cd+0x2d52*-0x1)),h(this,'screenSpac'+'e',!(-0x1034*0x1+-0x1*-0x1ee+0xe47)),h(this,'skin',!(-0x138+0x10a0+-0xf67*0x1)),h(this,'batch',!(0x7f+0x99*0x2b+-0x1a31)),h(this,'useInstanc'+'ing',!(0x31*-0x3+-0x17c5+-0x10f*-0x17)),h(this,'useMorphPo'+'sition',!(-0xbb1+-0x10a8+-0x26*-0xbf)),h(this,'useMorphNo'+'rmal',!(0x1*-0x7a2+-0xccf+0x1472*0x1)),h(this,'useMorphTe'+'xtureBased'+'Int',!(0xd48*-0x2+0xc*-0x1a5+0x2e4d)),h(this,'nineSliced'+'Mode',-0x611*0x2+-0x34*-0x88+-0xf7e),h(this,'clusteredL'+'ightingEna'+'bled',!(0x1754+0xbc1+-0x2315)),h(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(-0x2346+0xe8e+-0x1*-0x14b9)),h(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(-0x1cb4+-0x4*-0x425+0x1*0xc21)),h(this,'clusteredL'+'ightingSha'+'dowType',-0x9e5+-0x523+0xf08),h(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(0xe85*0x2+-0x43d+-0x18cc)),h(this,'vertexColo'+'rs',!(0x249d*0x1+0x1*0x577+-0x2a13)),h(this,'lightMapEn'+'abled',!(-0x26d5*0x1+0x1*0x2671+0x65)),h(this,'dirLightMa'+'pEnabled',!(-0x21d8+-0x1*-0x2239+-0x60)),h(this,'useHeights',!(0x22f1+0x1ed*0x12+-0x12e*0x3b)),h(this,'useNormals',!(0x1*0x20ba+0x1f04+-0x3fbd)),h(this,'useClearCo'+'atNormals',!(0xf*0x1e7+-0x918+0x137*-0x10)),h(this,'useAo',!(-0x5*-0x7bd+-0x19d8+-0xcd8)),h(this,'diffuseMap'+'Enabled',!(-0x9d7+0x1*-0x1e29+0x2801)),h(this,'pixelSnap',!(-0x2f*-0x8b+-0x41d+-0x1567)),h(this,'ambientSH',!(0x17da+-0x6c1*0x2+0xa57*-0x1)),h(this,'ssao',!(-0x1aab*0x1+-0x1cba+-0xe*-0x3f5)),h(this,'twoSidedLi'+'ghting',!(0x1381*0x2+0x1123+-0x3824)),h(this,'occludeDir'+'ect',!(-0x7*0x1eb+0x221d*0x1+-0x14af)),h(this,'occludeSpe'+'cular',-0x3e7*-0x5+0x1*-0xa8e+-0x1*0x8f5),h(this,'occludeSpe'+'cularFloat',!(-0xdf6*0x2+-0x182*0xd+0x2f87)),h(this,'useMsdf',!(0x117d+-0x276+0x6*-0x281)),h(this,'msdfTextAt'+'tribute',!(-0x1023+0x1*0x22ae+0x2*-0x945)),h(this,'alphaToCov'+'erage',!(-0x2*-0x4ab+0x275*0x7+-0x1a88)),h(this,'opacityFad'+'esSpecular',!(0x1*-0x1f59+0x1fb+0x67*0x49)),h(this,'opacityDit'+'her',Sa),h(this,'opacitySha'+'dowDither',Sa),h(this,'cubeMapPro'+'jection',-0x10d*0x1a+0x11f+-0x1*-0x1a33),h(this,'useSpecula'+'r',!(0x2058+0x130e+-0x3365)),h(this,'useSpecula'+'rityFactor',!(0x1*-0x5c3+0xe25*-0x1+-0x6a3*-0x3)),h(this,'enableGGXS'+'pecular',!(0xa4f+-0xd6e+0x320)),h(this,'fresnelMod'+'el',0x1921+0x7*-0x12f+-0x1*0x10d8),h(this,'useRefract'+'ion',!(-0x1c60+0x1a1*-0x7+0x8*0x4f9)),h(this,'useClearCo'+'at',!(-0x1424+0x22c*-0x9+0x27b1)),h(this,'useSheen',!(0x2607+-0x24cd+-0x1*0x139)),h(this,'useIridesc'+'ence',!(0x1*-0x1f8d+-0x1*0xbb2+-0x40*-0xad)),h(this,'useMetalne'+'ss',!(-0x2355+0x21f2+0x164)),h(this,'useDynamic'+'Refraction',!(-0x1fa6+0x424*-0x7+0x169*0x2b)),h(this,'dispersion',!(-0x757*-0x5+0x1e7c+-0x432e)),h(this,'fog',Kn),h(this,'gamma',Ll),h(this,'toneMap',-(0x19af+-0xfe+-0x5*0x4f0)),h(this,'reflection'+'Source',vr),h(this,'reflection'+'Encoding',null),h(this,'reflection'+'CubemapEnc'+'oding',null),h(this,'ambientSou'+'rce','constant'),h(this,'ambientEnc'+'oding',null),h(this,'skyboxInte'+'nsity',0x1301+-0x25b3+0x12b3),h(this,'useCubeMap'+'Rotation',!(0x66*0x3+0x6c5+-0x7f6)),h(this,'lightMapWi'+'thoutAmbie'+'nt',!(0x14a9+-0x1*-0x1b92+-0x303a)),h(this,'lights',[]),h(this,'noShadow',!(0x1cbd*0x1+0x674+-0x2*0x1198)),h(this,'lightMaskD'+'ynamic',-0x1*-0xa63+-0xe84+0x421*0x1),h(this,'userAttrib'+'utes',{}),h(this,'linearDept'+'h',!(-0x7*-0x32b+-0x7ed+-0xe3f)),h(this,'shadowCatc'+'her',!(-0xf06+0x268*0xa+-0x909));}}class dl{constructor(){h(this,'defines',new Map()),h(this,'forceUv1',!(0x1*-0x1346+0x1985+0x5e*-0x11)),h(this,'specularTi'+'nt',!(-0xd9f+0x2*-0x8c6+0x1f2c)),h(this,'metalnessT'+'int',!(-0x86d+-0xd04+-0x7a*-0x2d)),h(this,'glossTint',!(0x6e9+-0x41*0x2b+-0x403*-0x1)),h(this,'emissiveEn'+'coding','linear'),h(this,'lightMapEn'+'coding','linear'),h(this,'packedNorm'+'al',!(0xb7+-0xaff+0x1*0xa49)),h(this,'normalDeta'+'ilPackedNo'+'rmal',!(-0xcb*-0x29+-0x5de+-0x1aa4)),h(this,'clearCoatP'+'ackedNorma'+'l',!(0x2573+-0x1252+0x1320*-0x1)),h(this,'glossInver'+'t',!(0x1*-0x1e29+0x22d*0xe+-0x4c)),h(this,'sheenGloss'+'Invert',!(0xe60+0x22ac+-0x310b)),h(this,'clearCoatG'+'lossInvert',!(-0x1*0xbd4+0x13ed*-0x1+0x2*0xfe1)),h(this,'useAO',!(-0x2696+0x76a+-0x1f2d*-0x1)),h(this,'litOptions',new wv());}get['pass'](){return this['litOptions']['pass'];}}const Ev={'generateKey'(_0x453870){return'lit'+Object['keys'](_0x453870)['sort']()['map'](_0x30095d=>{var _0x565bbe;return _0x30095d==='shaderChun'+'ks'?((_0x565bbe=_0x453870['shaderChun'+'ks'])==null?void(-0x19*0xd8+0x99b+0xb7d):_0x565bbe['key'])??'':_0x30095d==='lights'?Ev['generateLi'+'ghtsKey'](_0x453870):_0x30095d+_0x453870[_0x30095d];})['join']('\x0a');},'generateLightsKey'(_0x55c9){return'lights:'+_0x55c9['lights']['map'](_0x3a58a4=>!_0x55c9['clusteredL'+'ightingEna'+'bled']||_0x3a58a4['_type']===ve?_0x3a58a4['key']+',':'')['join']('');}},bn=[],Qd=_0x5cdd4b=>Object['keys'](_0x5cdd4b)['filter'](_0x2cea3a=>_0x2cea3a!=='litOptions')['sort']();class fb extends ya{constructor(){super(...arguments),h(this,'optionsCon'+'text',new dl()),h(this,'optionsCon'+'textMin',new dl());}['generateKe'+'y'](_0x28f6ee){let _0x867732;return _0x28f6ee===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Qd(_0x28f6ee)),_0x867732=this['propsMin']):_0x28f6ee===this['optionsCon'+'text']?(this['props']||(this['props']=Qd(_0x28f6ee)),_0x867732=this['props']):_0x867732=Qd(_0x28f6ee),'standard:\x0a'+ya['definesHas'+'h'](_0x28f6ee['defines'])+'\x0a'+_0x867732['map'](_0xba35a=>_0xba35a+_0x28f6ee[_0xba35a])['join']('\x0a')+Ev['generateKe'+'y'](_0x28f6ee['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0x49517a,_0x2de5f0,_0x12d6d8){const _0x4a92a8=_0x12d6d8[_0x49517a],_0x4b8008=_0x12d6d8[_0x2de5f0],_0x142921=_0x12d6d8['litOptions']['pass']===Aa;let _0x2c838a;return _0x142921&&_0x12d6d8['litOptions']['nineSliced'+'Mode']===Pt||_0x142921&&_0x12d6d8['litOptions']['nineSliced'+'Mode']===Mt?_0x2c838a='nineSliced'+'Uv':(_0x4a92a8===-0x5f*0x53+-0x211d+0x6*0xaa7?_0x2c838a='vUv'+_0x4b8008:_0x2c838a='vUV'+_0x4b8008+'_'+_0x4a92a8,_0x12d6d8['heightMap']&&_0x49517a!=='heightMapT'+'ransform'&&(_0x2c838a+='\x20+\x20dUvOffs'+'et')),_0x2c838a;}['_validateM'+'apChunk'](_0x4a86d1,_0x501a68,_0x5ecc4e){w['call'](()=>{const _0x4f47fe=_0x5ecc4e['get'](_0x501a68)['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1'),_0x30f904=[],_0x311ea5=(_0x39818b,_0x4ae3f9)=>{_0x4f47fe['includes'](_0x39818b)&&_0x30f904['push']('\x20\x20'+_0x39818b+'\x20->\x20'+_0x4ae3f9);};[['$UV','{STD_'+_0x4a86d1+('_TEXTURE_U'+'V}')],['$CH','{STD_'+_0x4a86d1+('_TEXTURE_C'+'HANNEL}')],['$SAMPLER','{STD_'+_0x4a86d1+('_TEXTURE_N'+'AME}')],['$DECODE','{STD_'+_0x4a86d1+('_TEXTURE_D'+'ECODE}')],['$VC','{STD_'+_0x4a86d1+('_VERTEX_CH'+'ANNEL}')],['$DETAILMOD'+'E','{STD_'+_0x4a86d1+('_DETAILMOD'+'E}')],['unpackNorm'+'al(','{STD_'+_0x4a86d1+('_TEXTURE_D'+'ECODE}(')]]['forEach'](([_0x1ca9b3,_0x2f91d7])=>_0x311ea5(_0x1ca9b3,_0x2f91d7)),[['MAPFLOAT','STD_'+_0x4a86d1+'_CONSTANT'],['MAPCOLOR','STD_'+_0x4a86d1+'_CONSTANT'],['MAPVERTEX','STD_'+_0x4a86d1+'_VERTEX'],['MAPTEXTURE','STD_'+_0x4a86d1+'_TEXTURE'],['MAPINVERT','STD_'+_0x4a86d1+'_INVERT']]['forEach'](([_0x3610a3,_0x4d56da])=>_0x311ea5(_0x3610a3,_0x4d56da)),_0x4f47fe['includes']('$texture2D'+'SAMPLE')&&_0x311ea5('$texture2D'+'SAMPLE','(Macro\x20no\x20'+'longer\x20sup'+'ported\x20-\x20r'+'emove/refa'+'ctor)'),_0x30f904['length']>-0xf84+-0x5*0x51b+0x290b&&w['errorOnce']('Shader\x20chu'+'nk\x20'+_0x501a68+('\x20is\x20in\x20no\x20'+'longer\x20com'+'patible\x20fo'+'rmat.\x20Plea'+'se\x20make\x20th'+'ese\x20replac'+'ements\x20to\x20'+'bring\x20it\x20t'+'o\x20the\x20curr'+'ent\x20versio'+'n:\x0a')+_0x30f904['join']('\x0a'),{'code':_0x4f47fe});});}['_addMapDef'+'ines'](_0x16c15a,_0x2519b0,_0x15589d,_0x1466b4,_0xdca13b,_0x153966,_0x26f512=null){const _0x552a13=_0x2519b0+'Map',_0xfa1ccb=_0x2519b0['toUpperCas'+'e'](),_0x334aa5=_0x552a13+'Uv',_0x32e943=_0x552a13+'Identifier',_0x163c13=_0x552a13+'Transform',_0x2e4b38=_0x552a13+'Channel',_0x377792=_0x2519b0+('VertexColo'+'rChannel'),_0x2857a0=_0x2519b0+'Tint',_0x18d318=_0x2519b0+('VertexColo'+'r'),_0x2e63b8=_0x2519b0+'Mode',_0x410f8b=_0x2519b0+'Invert',_0x27a477=_0x1466b4[_0x2857a0],_0x17223b=_0x1466b4[_0x18d318],_0x272c43=_0x1466b4[_0x552a13],_0x272789=_0x1466b4[_0x32e943],_0x4daa0b=_0x1466b4[_0x2e63b8],_0x7c6721=_0xdca13b['get'](_0x15589d);if(w['assert'](_0x7c6721,'Shader\x20chu'+'nk\x20'+_0x15589d+('\x20not\x20found'+'.')),w['call'](()=>{_0x7c6721&&this['_validateM'+'apChunk'](_0xfa1ccb,_0x15589d,_0xdca13b);}),_0x272c43){_0x16c15a['set']('STD_'+_0xfa1ccb+'_TEXTURE','');const _0x1244c5=this['_getUvSour'+'ceExpressi'+'on'](_0x163c13,_0x334aa5,_0x1466b4);_0x16c15a['set']('{STD_'+_0xfa1ccb+('_TEXTURE_U'+'V}'),_0x1244c5),_0x16c15a['set']('{STD_'+_0xfa1ccb+('_TEXTURE_C'+'HANNEL}'),_0x1466b4[_0x2e4b38]);const _0x1cca20='{STD_'+_0xfa1ccb+('_TEXTURE_N'+'AME}');if(_0x7c6721['includes'](_0x1cca20)){let _0x3eb58b='texture_'+_0x552a13;const _0x58a1d0=_0x153966[_0x272789];_0x58a1d0?_0x3eb58b=_0x58a1d0:(_0x153966[_0x272789]=_0x3eb58b,_0x16c15a['set']('STD_'+_0xfa1ccb+('_TEXTURE_A'+'LLOCATE'),'')),_0x16c15a['set'](_0x1cca20,_0x3eb58b);}if(_0x26f512){const _0x419eb7=_0x1466b4[_0x2e4b38]==='aaa'?'passThroug'+'h':Tr['decodeFunc'](_0x26f512);_0x16c15a['set']('{STD_'+_0xfa1ccb+('_TEXTURE_D'+'ECODE}'),_0x419eb7);}}_0x17223b&&(_0x16c15a['set']('STD_'+_0xfa1ccb+'_VERTEX',''),_0x16c15a['set']('{STD_'+_0xfa1ccb+('_VERTEX_CH'+'ANNEL}'),_0x1466b4[_0x377792])),_0x4daa0b&&_0x16c15a['set']('{STD_'+_0xfa1ccb+('_DETAILMOD'+'E}'),_0x4daa0b),_0x27a477&&_0x16c15a['set']('STD_'+_0xfa1ccb+'_CONSTANT',''),_0x1466b4[_0x410f8b]&&_0x16c15a['set']('STD_'+_0xfa1ccb+'_INVERT','');}['_correctCh'+'annel'](_0xc2fa6f,_0x4c19e8,_0x95a498){if(_0x95a498[_0xc2fa6f]>-0xfe3+0x86*0x2b+-0x71*0xf){if(_0x95a498[_0xc2fa6f]<_0x4c19e8['length'])return _0x4c19e8['substring'](-0x19f0+-0x1*0x663+-0x5*-0x677,_0x95a498[_0xc2fa6f]);if(_0x95a498[_0xc2fa6f]>_0x4c19e8['length']){let _0x30364d=_0x4c19e8;const _0x23ae85=_0x30364d['charAt'](_0x30364d['length']-(0x1c5*0x7+-0x1*0x85d+0x1*-0x405)),_0x2fc098=_0x95a498[_0xc2fa6f]-_0x30364d['length'];for(let _0x52609d=0x19*-0x69+-0x67e+-0x3*-0x595;_0x52609d<_0x2fc098;_0x52609d++)_0x30364d+=_0x23ae85;return _0x30364d;}return _0x4c19e8;}}['createVert'+'exShader'](_0x49bf09,_0x4f7113){const _0x7e744a=[],_0x303ccb=[],_0x59301d=[];for(const _0x2bcaae in bn){const _0xdc5840=_0x2bcaae+'Map';if(_0x4f7113[_0x2bcaae+('VertexColo'+'r')]){const _0x1fdf62=_0x2bcaae+('VertexColo'+'rChannel');_0x4f7113[_0x1fdf62]=this['_correctCh'+'annel'](_0x2bcaae,_0x4f7113[_0x1fdf62],bn);}if(_0x4f7113[_0xdc5840]){const _0x52c843=_0xdc5840+'Channel',_0x5bbb21=_0xdc5840+'Transform',_0x4a97cc=_0xdc5840+'Uv';_0x4f7113[_0x4a97cc]=Math['min'](_0x4f7113[_0x4a97cc],0x1a04+0xaf2*0x2+0x1*-0x2fe7),_0x4f7113[_0x52c843]=this['_correctCh'+'annel'](_0x2bcaae,_0x4f7113[_0x52c843],bn);const _0x839199=_0x4f7113[_0x4a97cc];_0x7e744a[_0x839199]=!(-0x123e+-0xc64+0x1ea2),_0x303ccb[_0x839199]=_0x303ccb[_0x839199]||_0x4f7113[_0xdc5840]&&!_0x4f7113[_0x5bbb21],_0x4f7113[_0x5bbb21]&&_0x59301d['push']({'name':_0x2bcaae,'id':_0x4f7113[_0x5bbb21],'uv':_0x4f7113[_0x4a97cc]});}}_0x4f7113['forceUv1']&&(_0x7e744a[-0x1*0x56c+-0x115e+0x48f*0x5]=!(0x69e*-0x2+-0xd03*-0x1+-0x1*-0x39),_0x303ccb[-0x11b+0x1816+-0x16fa]=_0x303ccb[-0x6*0x295+-0x2fe*0x9+0x2a6d]!==void(-0x868+-0x6*-0x28c+-0x6e0)?_0x303ccb[0x2469+-0xdb9+0x1*-0x16af]:!(0x1968+-0x67*0x32+0x54a*-0x1)),_0x49bf09['generateVe'+'rtexShader'](_0x7e744a,_0x303ccb,_0x59301d);}['prepareFra'+'gmentDefin'+'es'](_0x5be2e1,_0x105042,_0x449d2b){const _0x2ece23=(_0x19c5ed,_0xfe3959,_0x16bf46='')=>{_0x19c5ed&&_0x105042['set'](_0xfe3959,_0x16bf46);};_0x2ece23(_0x5be2e1['lightMap'],'STD_LIGHTM'+'AP',''),_0x2ece23(_0x5be2e1['lightVerte'+'xColor'],'STD_LIGHT_'+'VERTEX_COL'+'OR',''),_0x2ece23(_0x5be2e1['dirLightMa'+'p']&&_0x5be2e1['litOptions']['useSpecula'+'r'],'STD_LIGHTM'+'AP_DIR',''),_0x2ece23(_0x5be2e1['heightMap'],'STD_HEIGHT'+'_MAP',''),_0x2ece23(_0x5be2e1['useSpecula'+'rColor'],'STD_SPECUL'+'AR_COLOR',''),_0x2ece23(_0x5be2e1['aoMap']||_0x5be2e1['aoVertexCo'+'lor']||_0x5be2e1['useAO'],'STD_AO',''),_0x2ece23(!(0x1531+0x3*0x667+0x1*-0x2866),'STD_OPACIT'+'Y_DITHER',iE[_0x449d2b['isForward']?_0x5be2e1['litOptions']['opacityDit'+'her']:_0x5be2e1['litOptions']['opacitySha'+'dowDither']]);}['createShad'+'erDefiniti'+'on'](_0x5dcedf,_0x177e46){const _0x2e5ec9=Si['get'](_0x5dcedf)['getByIndex'](_0x177e46['litOptions']['pass']),_0x1ddff8=_0x2e5ec9['isForward'],_0x414694=new db(_0x5dcedf,_0x177e46['litOptions']);this['createVert'+'exShader'](_0x414694,_0x177e46);const _0x3fd0ac={};_0x177e46['litOptions']['fresnelMod'+'el']=_0x177e46['litOptions']['fresnelMod'+'el']===-0x2293*-0x1+-0x199*0xf+0x2a7*-0x4?Yp:_0x177e46['litOptions']['fresnelMod'+'el'];const _0x2fa523=_0x414694['fDefines'];this['prepareFra'+'gmentDefin'+'es'](_0x177e46,_0x2fa523,_0x2e5ec9);let _0x51426f='';if(_0x1ddff8){if(_0x177e46['heightMap']&&this['_addMapDef'+'ines'](_0x2fa523,'height','parallaxPS',_0x177e46,_0x414694['chunks'],_0x3fd0ac),(_0x177e46['litOptions']['blendType']!==Cs||_0x177e46['litOptions']['alphaTest']||_0x177e46['litOptions']['alphaToCov'+'erage']||_0x177e46['litOptions']['opacityDit'+'her']!==Sa)&&this['_addMapDef'+'ines'](_0x2fa523,'opacity','opacityPS',_0x177e46,_0x414694['chunks'],_0x3fd0ac),_0x414694['needsNorma'+'l']){if((_0x177e46['normalMap']||_0x177e46['clearCoatN'+'ormalMap'])&&!_0x177e46['litOptions']['hasTangent'+'s']){const _0x5b1140=_0x177e46['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x51426f=this['_getUvSour'+'ceExpressi'+'on'](_0x5b1140+'Transform',_0x5b1140+'Uv',_0x177e46);}this['_addMapDef'+'ines'](_0x2fa523,'normalDeta'+'il','normalMapP'+'S',_0x177e46,_0x414694['chunks'],_0x3fd0ac,_0x177e46['normalDeta'+'ilPackedNo'+'rmal']?'xy':'xyz'),this['_addMapDef'+'ines'](_0x2fa523,'normal','normalMapP'+'S',_0x177e46,_0x414694['chunks'],_0x3fd0ac,_0x177e46['packedNorm'+'al']?'xy':'xyz');}_0x177e46['diffuseDet'+'ail']&&this['_addMapDef'+'ines'](_0x2fa523,'diffuseDet'+'ail','diffusePS',_0x177e46,_0x414694['chunks'],_0x3fd0ac,_0x177e46['diffuseDet'+'ailEncodin'+'g']),this['_addMapDef'+'ines'](_0x2fa523,'diffuse','diffusePS',_0x177e46,_0x414694['chunks'],_0x3fd0ac,_0x177e46['diffuseEnc'+'oding']),_0x177e46['litOptions']['useRefract'+'ion']&&(this['_addMapDef'+'ines'](_0x2fa523,'refraction','transmissi'+'onPS',_0x177e46,_0x414694['chunks'],_0x3fd0ac),this['_addMapDef'+'ines'](_0x2fa523,'thickness','thicknessP'+'S',_0x177e46,_0x414694['chunks'],_0x3fd0ac)),_0x177e46['litOptions']['useIridesc'+'ence']&&(this['_addMapDef'+'ines'](_0x2fa523,'iridescenc'+'e','iridescenc'+'ePS',_0x177e46,_0x414694['chunks'],_0x3fd0ac),this['_addMapDef'+'ines'](_0x2fa523,'iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x177e46,_0x414694['chunks'],_0x3fd0ac)),(_0x414694['lighting']&&_0x177e46['litOptions']['useSpecula'+'r']||_0x414694['reflection'+'s'])&&(_0x177e46['litOptions']['useSheen']&&(this['_addMapDef'+'ines'](_0x2fa523,'sheen','sheenPS',_0x177e46,_0x414694['chunks'],_0x3fd0ac,_0x177e46['sheenEncod'+'ing']),this['_addMapDef'+'ines'](_0x2fa523,'sheenGloss','sheenGloss'+'PS',_0x177e46,_0x414694['chunks'],_0x3fd0ac)),_0x177e46['litOptions']['useMetalne'+'ss']&&(this['_addMapDef'+'ines'](_0x2fa523,'metalness','metalnessP'+'S',_0x177e46,_0x414694['chunks'],_0x3fd0ac),this['_addMapDef'+'ines'](_0x2fa523,'ior','iorPS',_0x177e46,_0x414694['chunks'],_0x3fd0ac)),_0x177e46['litOptions']['useSpecula'+'rityFactor']&&this['_addMapDef'+'ines'](_0x2fa523,'specularit'+'yFactor','specularit'+'yFactorPS',_0x177e46,_0x414694['chunks'],_0x3fd0ac),_0x177e46['useSpecula'+'rColor']&&this['_addMapDef'+'ines'](_0x2fa523,'specular','specularPS',_0x177e46,_0x414694['chunks'],_0x3fd0ac,_0x177e46['specularEn'+'coding']),this['_addMapDef'+'ines'](_0x2fa523,'gloss','glossPS',_0x177e46,_0x414694['chunks'],_0x3fd0ac)),_0x177e46['aoDetail']&&this['_addMapDef'+'ines'](_0x2fa523,'aoDetail','aoPS',_0x177e46,_0x414694['chunks'],_0x3fd0ac),(_0x177e46['aoMap']||_0x177e46['aoVertexCo'+'lor']||_0x177e46['useAO'])&&this['_addMapDef'+'ines'](_0x2fa523,'ao','aoPS',_0x177e46,_0x414694['chunks'],_0x3fd0ac),this['_addMapDef'+'ines'](_0x2fa523,'emissive','emissivePS',_0x177e46,_0x414694['chunks'],_0x3fd0ac,_0x177e46['emissiveEn'+'coding']),_0x177e46['litOptions']['useClearCo'+'at']&&(this['_addMapDef'+'ines'](_0x2fa523,'clearCoat','clearCoatP'+'S',_0x177e46,_0x414694['chunks'],_0x3fd0ac),this['_addMapDef'+'ines'](_0x2fa523,'clearCoatG'+'loss','clearCoatG'+'lossPS',_0x177e46,_0x414694['chunks'],_0x3fd0ac),this['_addMapDef'+'ines'](_0x2fa523,'clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x177e46,_0x414694['chunks'],_0x3fd0ac,_0x177e46['clearCoatP'+'ackedNorma'+'l']?'xy':'xyz')),_0x177e46['litOptions']['enableGGXS'+'pecular']&&this['_addMapDef'+'ines'](_0x2fa523,'anisotropy','anisotropy'+'PS',_0x177e46,_0x414694['chunks'],_0x3fd0ac),(_0x177e46['lightMap']||_0x177e46['lightVerte'+'xColor'])&&this['_addMapDef'+'ines'](_0x2fa523,'light','lightmapPS',_0x177e46,_0x414694['chunks'],_0x3fd0ac,_0x177e46['lightMapEn'+'coding']);}else{const _0x55c0bd=_0x177e46['litOptions']['opacitySha'+'dowDither'];(_0x177e46['litOptions']['alphaTest']||_0x55c0bd)&&this['_addMapDef'+'ines'](_0x2fa523,'opacity','opacityPS',_0x177e46,_0x414694['chunks'],_0x3fd0ac);}_0x414694['generateFr'+'agmentShad'+'er'](_0x414694['chunks']['get']('stdDeclara'+'tionPS'),_0x414694['chunks']['get']('stdFrontEn'+'dPS'),_0x51426f);const _0x1c90e6=bh['merge'](_0x414694['chunks'],_0x414694['includes']),_0x539209=_0x414694['vDefines'];_0x177e46['defines']['forEach']((_0x2fa67d,_0x21dc85)=>_0x539209['set'](_0x21dc85,_0x2fa67d)),_0x177e46['defines']['forEach']((_0x5ab59d,_0xc110d7)=>_0x2fa523['set'](_0xc110d7,_0x5ab59d));const _0x401b2a=Jt['createDefi'+'nition'](_0x5dcedf,{'name':'StandardSh'+'ader','attributes':_0x414694['attributes'],'shaderLanguage':_0x414694['shaderLang'+'uage'],'vertexCode':_0x414694['vshader'],'fragmentCode':_0x414694['fshader'],'vertexIncludes':_0x1c90e6,'fragmentIncludes':_0x1c90e6,'fragmentDefines':_0x2fa523,'vertexDefines':_0x539209});return _0x414694['shaderPass'+'Info']['isForward']&&(_0x401b2a['tag']=Sy),_0x401b2a;}}const Jd=new fb(),ss=[];ss[Gp]={'src':Ft,'dst':Ft,'op':Tx},ss[Cs]={'src':Ft,'dst':rp,'op':fs},ss[Zs]={'src':jh,'dst':Yh,'op':fs,'alphaSrc':Ft},ss[Gn]={'src':Ft,'dst':Yh,'op':fs},ss[Hp]={'src':Ft,'dst':Ft,'op':fs},ss[Ed]={'src':jh,'dst':Ft,'op':fs},ss[$p]={'src':JS,'dst':vx,'op':fs},ss[Xp]={'src':xx,'dst':Ft,'op':fs},ss[Wp]={'src':JS,'dst':rp,'op':fs},ss[qp]={'src':Ft,'dst':Ft,'op':wx},ss[jp]={'src':Ft,'dst':Ft,'op':Ex};let ub=0x20bc+-0x1*-0xbc3+-0x2c7f;class tr{constructor(){h(this,'meshInstan'+'ces',[]),h(this,'name','Untitled'),h(this,'userId',''),h(this,'id',ub++),h(this,'variants',new Map()),h(this,'defines',new Map()),h(this,'_definesDi'+'rty',!(-0x236c+0x1f2e*0x1+0x43f)),h(this,'parameters',{}),h(this,'alphaTest',0x545+0x241b+-0x4*0xa58),h(this,'alphaToCov'+'erage',!(-0xc90+0x411+0x880)),h(this,'_blendStat'+'e',new pt()),h(this,'_depthStat'+'e',new Yt()),h(this,'cull',pa),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'_shaderChu'+'nks',null),h(this,'_oldChunks',{}),h(this,'_dirtyShad'+'er',!(0x35f*0x1+0x1334+-0x1693)),h(this,'_shaderVer'+'sion',0xd*-0x257+-0x1035*-0x2+-0x1ff),h(this,'_scene',null),h(this,'dirty',!(0x973*-0x3+-0x1*0x1d7f+0x39d8)),new.target===tr&&w['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}get['hasShaderC'+'hunks'](){return this['_shaderChu'+'nks']!=null;}get['shaderChun'+'ks'](){return this['_shaderChu'+'nks']||(this['_shaderChu'+'nks']=new Pe()),this['_shaderChu'+'nks'];}['getShaderC'+'hunks'](_0x19c5ce=Fe){const _0x1b4767=this['shaderChun'+'ks'];return _0x19c5ce===Fe?_0x1b4767['glsl']:_0x1b4767['wgsl'];}set['shaderChun'+'ksVersion'](_0xa4be02){this['shaderChun'+'ks']['version']=_0xa4be02;}get['shaderChun'+'ksVersion'](){return this['shaderChun'+'ks']['version'];}set['chunks'](_0x315a45){w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),this['_oldChunks']=_0x315a45;}get['chunks'](){return w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),Object['assign'](this['_oldChunks'],Object['fromEntrie'+'s'](this['shaderChun'+'ks']['glsl'])),this['_oldChunks'];}set['depthBias'](_0x475b45){this['_depthStat'+'e']['depthBias']=_0x475b45;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0x56f683){this['_depthStat'+'e']['depthBiasS'+'lope']=_0x56f683;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0xcd9af5){this['_blendStat'+'e']['redWrite']=_0xcd9af5;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x245b3a){this['_blendStat'+'e']['greenWrite']=_0x245b3a;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x20a57a){this['_blendStat'+'e']['blueWrite']=_0x20a57a;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x2a35b0){this['_blendStat'+'e']['alphaWrite']=_0x2a35b0;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x59a916=this['transparen'+'t'],_0x25f9cb=this['meshInstan'+'ces'];for(let _0x4a075d=-0x1653+-0x814+-0x1e67*-0x1;_0x4a075d<_0x25f9cb['length'];_0x4a075d++)_0x25f9cb[_0x4a075d]['transparen'+'t']=_0x59a916;}set['blendState'](_0x18abe3){this['_blendStat'+'e']['copy'](_0x18abe3),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x3afeec){const _0xe264e1=ss[_0x3afeec];w['assert'](_0xe264e1,'Unknown\x20bl'+'end\x20mode\x20'+_0x3afeec),this['_blendStat'+'e']['setColorBl'+'end'](_0xe264e1['op'],_0xe264e1['src'],_0xe264e1['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0xe264e1['alphaOp']??_0xe264e1['op'],_0xe264e1['alphaSrc']??_0xe264e1['src'],_0xe264e1['alphaDst']??_0xe264e1['dst']);const _0x25c270=_0x3afeec!==Cs;this['_blendStat'+'e']['blend']!==_0x25c270&&(this['_blendStat'+'e']['blend']=_0x25c270,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return Cs;const {colorOp:_0x32226f,colorSrcFactor:_0x37661c,colorDstFactor:_0x21b166,alphaOp:_0x387189,alphaSrcFactor:_0x24f6ba,alphaDstFactor:_0x2e84c8}=this['_blendStat'+'e'];for(let _0x4d7257=-0x2013+-0x5*-0x20f+0x15c8;_0x4d7257<ss['length'];_0x4d7257++){const _0x2e17c4=ss[_0x4d7257];if(_0x2e17c4['src']===_0x37661c&&_0x2e17c4['dst']===_0x21b166&&_0x2e17c4['op']===_0x32226f&&_0x2e17c4['src']===_0x24f6ba&&_0x2e17c4['dst']===_0x2e84c8&&_0x2e17c4['op']===_0x387189)return _0x4d7257;}return Zs;}set['depthState'](_0x22a148){this['_depthStat'+'e']['copy'](_0x22a148);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x4d08d4){this['_depthStat'+'e']['test']=_0x4d08d4;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x28d029){this['_depthStat'+'e']['func']=_0x28d029;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x502e4b){this['_depthStat'+'e']['write']=_0x502e4b;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x22b1a8){var _0x5bb500,_0x29d78b;this['name']=_0x22b1a8['name'],this['alphaTest']=_0x22b1a8['alphaTest'],this['alphaToCov'+'erage']=_0x22b1a8['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x22b1a8['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x22b1a8['_depthStat'+'e']),this['cull']=_0x22b1a8['cull'],this['stencilFro'+'nt']=(_0x5bb500=_0x22b1a8['stencilFro'+'nt'])==null?void(0xd45+0x775*0x3+-0x23a4*0x1):_0x5bb500['clone'](),_0x22b1a8['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x22b1a8['stencilFro'+'nt']===_0x22b1a8['stencilBac'+'k']?this['stencilFro'+'nt']:_0x22b1a8['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x5653d9 in _0x22b1a8['parameters'])_0x22b1a8['parameters']['hasOwnProp'+'erty'](_0x5653d9)&&this['_setParame'+'terSimple'](_0x5653d9,_0x22b1a8['parameters'][_0x5653d9]['data']);return this['defines']['clear'](),_0x22b1a8['defines']['forEach']((_0x572227,_0x2dac2b)=>this['defines']['set'](_0x2dac2b,_0x572227)),this['_shaderChu'+'nks']=_0x22b1a8['hasShaderC'+'hunks']?new Pe():null,(_0x29d78b=this['_shaderChu'+'nks'])==null||_0x29d78b['copy'](_0x22b1a8['_shaderChu'+'nks']),this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x41c160=this['meshInstan'+'ces'];for(let _0x32f50e=0x19*0x59+-0xacc+0x21b*0x1;_0x32f50e<_0x41c160['length'];_0x32f50e++)_0x41c160[_0x32f50e]['updateKey']();}['updateUnif'+'orms'](_0x256803,_0x5934f2){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x539e5a){w['assert'](!(0xb7b+-0xa43+0x1*-0x137),'Not\x20implem'+'ented');}['update'](){var _0x3d89a1,_0x7dae05;if(Object['keys'](this['_oldChunks'])['length']>0xe41*-0x1+0x18b1+-0xa70){for(const [_0x46394b,_0x331382]of Object['entries'](this['_oldChunks']))this['shaderChun'+'ks']['glsl']['set'](_0x46394b,_0x331382),delete this['_oldChunks'][_0x46394b];}(this['_definesDi'+'rty']||(_0x3d89a1=this['_shaderChu'+'nks'])!=null&&_0x3d89a1['isDirty']())&&(this['_definesDi'+'rty']=!(0x893*-0x3+0x168f+0x1*0x32b),(_0x7dae05=this['_shaderChu'+'nks'])==null||_0x7dae05['resetDirty'](),this['clearVaria'+'nts']()),this['dirty']=!(0x140d+-0x2425+-0xa*-0x19c);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x299e67=this['meshInstan'+'ces'],_0x4e4889=_0x299e67['length'];for(let _0x8657d0=-0x131+0x459*-0x1+0x58a;_0x8657d0<_0x4e4889;_0x8657d0++)_0x299e67[_0x8657d0]['clearShade'+'rs']();}['getParamet'+'er'](_0x3e67ff){return this['parameters'][_0x3e67ff];}['_setParame'+'terSimple'](_0xadc9a8,_0x492f67){w['call'](()=>{_0x492f67===void(-0x1c8a*-0x1+0x233a+-0x5cc*0xb)&&w['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0xadc9a8+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'),this);});const _0x162e3b=this['parameters'][_0xadc9a8];_0x162e3b?_0x162e3b['data']=_0x492f67:this['parameters'][_0xadc9a8]={'scopeId':null,'data':_0x492f67};}['setParamet'+'er'](_0x2a7a04,_0x571e46){if(_0x571e46===void(0x7fc+-0x3*0x21d+0x1a5*-0x1)&&typeof _0x2a7a04=='object'){const _0x2cbb30=_0x2a7a04;if(_0x2cbb30['length']){for(let _0x149ef9=-0x1*0x1e13+0x4*-0x5ba+0x34fb;_0x149ef9<_0x2cbb30['length'];_0x149ef9++)this['setParamet'+'er'](_0x2cbb30[_0x149ef9]);return;}_0x2a7a04=_0x2cbb30['name'],_0x571e46=_0x2cbb30['value'];}this['_setParame'+'terSimple'](_0x2a7a04,_0x571e46);}['deletePara'+'meter'](_0x5d2a7c){this['parameters'][_0x5d2a7c]&&delete this['parameters'][_0x5d2a7c];}['setParamet'+'ers'](_0x41a713,_0x2158ed){const _0x12dfef=this['parameters'];_0x2158ed===void(0x18*-0x53+0x261f+0x3*-0xa1d)&&(_0x2158ed=_0x12dfef);for(const _0x2ef47a in _0x2158ed){const _0xbc5e17=_0x12dfef[_0x2ef47a];_0xbc5e17&&(_0xbc5e17['scopeId']||(_0xbc5e17['scopeId']=_0x41a713['scope']['resolve'](_0x2ef47a)),_0xbc5e17['scopeId']['setValue'](_0xbc5e17['data']));}}['setDefine'](_0x2ceed7,_0x2a6f41){let _0x5211cd=!(0x17*-0xe5+0x3e*-0x7d+0x32da);const {defines:_0x246ba8}=this;_0x2a6f41!==void(-0x1d81+-0x3*-0x999+0x2*0x5b)&&_0x2a6f41!==!(0x5c1+0x4c*-0x53+0x326*0x6)?(_0x5211cd=!_0x246ba8['has'](_0x2ceed7)||_0x246ba8['get'](_0x2ceed7)!==_0x2a6f41,_0x246ba8['set'](_0x2ceed7,_0x2a6f41)):(_0x5211cd=_0x246ba8['has'](_0x2ceed7),_0x246ba8['delete'](_0x2ceed7)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x5211cd);}['getDefine'](_0x252b5a){return this['defines']['has'](_0x252b5a);}['destroy'](){this['variants']['clear']();for(let _0x36e2eb=0xe80+0x56*-0x2b+-0xe;_0x36e2eb<this['meshInstan'+'ces']['length'];_0x36e2eb++){const _0x3c7cba=this['meshInstan'+'ces'][_0x36e2eb];if(_0x3c7cba['clearShade'+'rs'](),_0x3c7cba['_material']=null,_0x3c7cba['mesh']){const _0x59a085=Qn(_0x3c7cba['mesh']['device']);this!==_0x59a085&&(_0x3c7cba['material']=_0x59a085);}else w['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=-0x3*-0x6a8+0x139d+-0x2795;}['addMeshIns'+'tanceRef'](_0x29075d){this['meshInstan'+'ces']['push'](_0x29075d);}['removeMesh'+'InstanceRe'+'f'](_0x2e15d2){const _0x4f55b5=this['meshInstan'+'ces'],_0x3dcf58=_0x4f55b5['indexOf'](_0x2e15d2);_0x3dcf58!==-(-0x695*0x1+0x82*-0x20+0x2*0xb6b)&&_0x4f55b5['splice'](_0x3dcf58,-0x2615+0x91d+-0x1*-0x1cf9);}}class Ws{static['update'](_0x2c4fb4,_0x41f95e,_0x9d44e6,_0x33302c,_0x2e23d4,_0x303628,_0x5e594f){Ws['updateShar'+'edOptions'](_0x2c4fb4,_0x41f95e,_0x9d44e6,_0x2e23d4,_0x303628),Ws['updateMate'+'rialOption'+'s'](_0x2c4fb4,_0x41f95e),Ws['updateEnvO'+'ptions'](_0x2c4fb4,_0x41f95e,_0x9d44e6,_0x33302c),Ws['updateLigh'+'tingOption'+'s'](_0x2c4fb4,_0x41f95e,_0x9d44e6,_0x2e23d4,_0x5e594f);}static['updateShar'+'edOptions'](_0x37fa16,_0x4a1fce,_0x992eb8,_0x321415,_0x2c33c7){_0x37fa16['shaderChun'+'ks']=_0x4a1fce['shaderChun'+'ks'],_0x37fa16['pass']=_0x2c33c7,_0x37fa16['alphaTest']=_0x4a1fce['alphaTest']>-0xb2c+-0x115f*-0x1+-0x633,_0x37fa16['blendType']=_0x4a1fce['blendType'],_0x37fa16['screenSpac'+'e']=_0x321415&&(_0x321415&Eh)!==0x1*-0x49+0xf*-0x113+0x1066,_0x37fa16['skin']=_0x321415&&(_0x321415&nl)!==-0x4f9+-0x165*-0x19+0x4*-0x779,_0x37fa16['useInstanc'+'ing']=_0x321415&&(_0x321415&ol)!==0xfd*-0xd+-0xf1*-0x1+0xbe8,_0x37fa16['useMorphPo'+'sition']=_0x321415&&(_0x321415&ll)!==0x1da*-0x4+-0x1858+0x1fc0,_0x37fa16['useMorphNo'+'rmal']=_0x321415&&(_0x321415&cl)!==-0x1*0x1b5e+-0xe6c+-0x2*-0x14e5,_0x37fa16['useMorphTe'+'xtureBased'+'Int']=_0x321415&&(_0x321415&hl)!==-0x4a*-0x83+-0x1379*0x1+-0x1265,_0x37fa16['hasTangent'+'s']=_0x321415&&(_0x321415&om)!==-0x1e5f+-0x1abe+0x391d*0x1,_0x37fa16['nineSliced'+'Mode']=_0x4a1fce['nineSliced'+'Mode']||ci,_0x4a1fce['useLightin'+'g']&&_0x992eb8['clusteredL'+'ightingEna'+'bled']?(_0x37fa16['clusteredL'+'ightingEna'+'bled']=!(-0x13a1+-0x158+0x14f9),_0x37fa16['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x992eb8['lighting']['cookiesEna'+'bled'],_0x37fa16['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x992eb8['lighting']['shadowsEna'+'bled'],_0x37fa16['clusteredL'+'ightingSha'+'dowType']=_0x992eb8['lighting']['shadowType'],_0x37fa16['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x992eb8['lighting']['areaLights'+'Enabled']):(_0x37fa16['clusteredL'+'ightingEna'+'bled']=!(0xcd7*0x2+-0x1726+-0x287),_0x37fa16['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(0x15*-0x109+0x247f+-0xec1),_0x37fa16['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x16c4+-0x511+-0x1*-0x1bd6),_0x37fa16['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x2*0x2ef+-0x1061*-0x1+0x4e*-0x49));}static['updateMate'+'rialOption'+'s'](_0x322bf1,_0xc95095){_0x322bf1['separateAm'+'bient']=!(0x1d63+0x291*-0x8+-0x8da),_0x322bf1['pixelSnap']=_0xc95095['pixelSnap'],_0x322bf1['ambientSH']=_0xc95095['ambientSH'],_0x322bf1['twoSidedLi'+'ghting']=_0xc95095['twoSidedLi'+'ghting'],_0x322bf1['occludeDir'+'ect']=_0xc95095['occludeDir'+'ect'],_0x322bf1['occludeSpe'+'cular']=_0xc95095['occludeSpe'+'cular'],_0x322bf1['occludeSpe'+'cularFloat']=_0xc95095['occludeSpe'+'cularInten'+'sity']!==0x21c4+0x775+-0x2938,_0x322bf1['useMsdf']=!(-0x8eb+-0x8d*0x7+-0x1*-0xcc7),_0x322bf1['msdfTextAt'+'tribute']=!(-0x2362+0x10af+0x12b4),_0x322bf1['alphaToCov'+'erage']=_0xc95095['alphaToCov'+'erage'],_0x322bf1['opacityFad'+'esSpecular']=_0xc95095['opacityFad'+'esSpecular'],_0x322bf1['opacityDit'+'her']=_0xc95095['opacityDit'+'her'],_0x322bf1['cubeMapPro'+'jection']=tm,_0x322bf1['useSpecula'+'r']=_0xc95095['hasSpecula'+'r'],_0x322bf1['useSpecula'+'rityFactor']=_0xc95095['hasSpecula'+'rityFactor'],_0x322bf1['enableGGXS'+'pecular']=_0xc95095['ggxSpecula'+'r'],_0x322bf1['fresnelMod'+'el']=_0xc95095['fresnelMod'+'el'],_0x322bf1['useRefract'+'ion']=_0xc95095['hasRefract'+'ion'],_0x322bf1['useClearCo'+'at']=_0xc95095['hasClearCo'+'at'],_0x322bf1['useSheen']=_0xc95095['hasSheen'],_0x322bf1['useIridesc'+'ence']=_0xc95095['hasIrrides'+'cence'],_0x322bf1['useMetalne'+'ss']=_0xc95095['hasMetalne'+'ss'],_0x322bf1['useDynamic'+'Refraction']=_0xc95095['dynamicRef'+'raction'],_0x322bf1['dispersion']=_0xc95095['dispersion']>-0xfdf+0xbb5+0x42a,_0x322bf1['vertexColo'+'rs']=!(-0xb*-0x218+0x222e+-0x3935),_0x322bf1['lightMapEn'+'abled']=_0xc95095['hasLightin'+'g'],_0x322bf1['dirLightMa'+'pEnabled']=_0xc95095['dirLightMa'+'p'],_0x322bf1['useHeights']=_0xc95095['hasHeights'],_0x322bf1['useNormals']=_0xc95095['hasNormals'],_0x322bf1['useClearCo'+'atNormals']=_0xc95095['hasClearCo'+'atNormals'],_0x322bf1['useAo']=_0xc95095['hasAo'],_0x322bf1['diffuseMap'+'Enabled']=_0xc95095['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0xeed5bb,_0x421302,_0x203fc0,_0x3afd50){_0xeed5bb['fog']=_0x421302['useFog']?_0x3afd50['fog']:Kn,_0xeed5bb['gamma']=_0x3afd50['shaderOutp'+'utGamma'],_0xeed5bb['toneMap']=_0x421302['useTonemap']?_0x3afd50['toneMappin'+'g']:nv,_0x421302['useSkybox']&&_0x203fc0['envAtlas']&&_0x203fc0['skybox']?(_0xeed5bb['reflection'+'Source']=xh,_0xeed5bb['reflection'+'Encoding']=_0x203fc0['envAtlas']['encoding'],_0xeed5bb['reflection'+'CubemapEnc'+'oding']=_0x203fc0['skybox']['encoding']):_0x421302['useSkybox']&&_0x203fc0['envAtlas']?(_0xeed5bb['reflection'+'Source']=vh,_0xeed5bb['reflection'+'Encoding']=_0x203fc0['envAtlas']['encoding']):_0x421302['useSkybox']&&_0x203fc0['skybox']?(_0xeed5bb['reflection'+'Source']=Th,_0xeed5bb['reflection'+'Encoding']=_0x203fc0['skybox']['encoding']):(_0xeed5bb['reflection'+'Source']=vr,_0xeed5bb['reflection'+'Encoding']=null),_0x421302['ambientSH']?(_0xeed5bb['ambientSou'+'rce']=im,_0xeed5bb['ambientEnc'+'oding']=null):_0xeed5bb['reflection'+'Source']!==vr&&_0x203fc0['envAtlas']?(_0xeed5bb['ambientSou'+'rce']=rm,_0xeed5bb['ambientEnc'+'oding']=_0x203fc0['envAtlas']['encoding']):(_0xeed5bb['ambientSou'+'rce']=am,_0xeed5bb['ambientEnc'+'oding']=null);const _0xdf734a=_0xeed5bb['reflection'+'Source']!==vr;_0xeed5bb['skyboxInte'+'nsity']=_0xdf734a,_0xeed5bb['useCubeMap'+'Rotation']=_0xdf734a&&_0x203fc0['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x3b420c,_0x4287ed,_0x5a20de,_0x35362a,_0x1c1683){if(_0x3b420c['lightMapWi'+'thoutAmbie'+'nt']=!(-0xf25*-0x2+0x5*0x2b3+-0x2bc8),_0x4287ed['useLightin'+'g']){const _0x2050cc=[],_0x5c7f5e=_0x35362a?_0x35362a>>-0xb74+0x1da0+-0x26*0x7a:Ss;_0x3b420c['lightMaskD'+'ynamic']=!!(_0x5c7f5e&Ss),_0x3b420c['lightMapWi'+'thoutAmbie'+'nt']=!(-0x1b26+0x1*0x125f+-0x8c8*-0x1),_0x1c1683&&(Ws['collectLig'+'hts'](ve,_0x1c1683[ve],_0x2050cc,_0x5c7f5e),_0x5a20de['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0x1c1683[Ke],_0x2050cc,_0x5c7f5e),Ws['collectLig'+'hts'](Ze,_0x1c1683[Ze],_0x2050cc,_0x5c7f5e))),_0x3b420c['lights']=_0x2050cc;}else _0x3b420c['lights']=[];(_0x3b420c['lights']['length']===0x1*0x1d07+0xf7d+-0x2c84&&!_0x5a20de['clusteredL'+'ightingEna'+'bled']||(_0x35362a&wh)!==0x277*0xf+0x98f*-0x1+-0x1b6a)&&(_0x3b420c['noShadow']=!(-0x1cc7+0xd5b+0xf6c));}static['collectLig'+'hts'](_0x552c87,_0x12896b,_0xe3353f,_0x5b8e7d){for(let _0xeee2c9=-0x16d6+0x1cf6*-0x1+0x33cc;_0xeee2c9<_0x12896b['length'];_0xeee2c9++){const _0x6c3f21=_0x12896b[_0xeee2c9];_0x6c3f21['enabled']&&_0x6c3f21['mask']&_0x5b8e7d&&_0xe3353f['push'](_0x6c3f21);}}}const G_=(_0x34c959,_0x824932)=>{if(_0x34c959['length']!==_0x824932['length'])return!(-0x19a*0x13+0x8c2+0x15ad);for(let _0x55b129=-0x1b*-0x6b+-0x9b*-0x25+-0x21b0;_0x55b129<_0x34c959['length'];++_0x55b129)if(_0x34c959[_0x55b129]!==_0x824932[_0x55b129])return!(-0x211a+-0x125e+0x3379*0x1);return!(0x17d*-0xd+0xf38+0x7*0x97);},pb=_0x3f503a=>_0x3f503a['r']!==0x36+-0x5a8+-0x1*-0x573||_0x3f503a['g']!==0x3*0x3e5+-0x294+-0x91a||_0x3f503a['b']!==0x2190+-0xc99+-0x14f6*0x1,mb=_0x405f8c=>_0x405f8c['r']!==-0x448*0x4+-0x155a+0x267a||_0x405f8c['g']!==-0x1*-0x1ed7+-0xc7*0x1d+-0x84c||_0x405f8c['b']!==0xc6d*0x1+-0x3*-0xa7f+-0x2bea;class _b{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x3ed031,_0x13ff5a,_0x35bf1e,_0x3ae73d,_0x334a34,_0x10b71e){this['_updateSha'+'redOptions'](_0x3ed031,_0x13ff5a,_0x35bf1e,_0x3ae73d,_0x334a34),this['_updateMin'+'Options'](_0x3ed031,_0x35bf1e,_0x334a34),this['_updateUVO'+'ptions'](_0x3ed031,_0x35bf1e,_0x3ae73d,!(-0x361+0x1*-0x23f6+0x2757));}['updateRef'](_0x3d8a7f,_0x4d0dd4,_0x40af7a,_0x591ae9,_0xfbb056,_0x425a85,_0x362390){this['_updateSha'+'redOptions'](_0x3d8a7f,_0x4d0dd4,_0x591ae9,_0xfbb056,_0x425a85),this['_updateEnv'+'Options'](_0x3d8a7f,_0x591ae9,_0x4d0dd4,_0x40af7a),this['_updateMat'+'erialOptio'+'ns'](_0x3d8a7f,_0x591ae9,_0x4d0dd4),_0x3d8a7f['litOptions']['hasTangent'+'s']=_0xfbb056&&(_0xfbb056&om)!==-0xf*0x111+-0x2401+0x40*0xd0,this['_updateLig'+'htOptions'](_0x3d8a7f,_0x4d0dd4,_0x591ae9,_0xfbb056,_0x362390),this['_updateUVO'+'ptions'](_0x3d8a7f,_0x591ae9,_0xfbb056,!(0xb*0x1df+-0x1ed+0x19*-0xbf),_0x40af7a);}['_updateSha'+'redOptions'](_0xc9f5d4,_0x312d43,_0x1563b0,_0x3e8bfe,_0x33f3b0){_0xc9f5d4['forceUv1']=_0x1563b0['forceUv1'],_0x1563b0['userAttrib'+'utes']&&(_0xc9f5d4['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x1563b0['userAttrib'+'utes']['entries']())),_0xc9f5d4['litOptions']['shaderChun'+'ks']=_0x1563b0['shaderChun'+'ks'],_0xc9f5d4['litOptions']['pass']=_0x33f3b0,_0xc9f5d4['litOptions']['alphaTest']=_0x1563b0['alphaTest']>-0x1*-0x22a5+-0xb*0x67+-0x1e38,_0xc9f5d4['litOptions']['blendType']=_0x1563b0['blendType'],_0xc9f5d4['litOptions']['screenSpac'+'e']=_0x3e8bfe&&(_0x3e8bfe&Eh)!==0xe45+-0x1d49+0xf04*0x1,_0xc9f5d4['litOptions']['skin']=_0x3e8bfe&&(_0x3e8bfe&nl)!==0x8*-0x16d+0x1aa4+-0xf3c,_0xc9f5d4['litOptions']['batch']=_0x3e8bfe&&(_0x3e8bfe&qc)!==0x35a+0x169c*0x1+-0x19f6,_0xc9f5d4['litOptions']['useInstanc'+'ing']=_0x3e8bfe&&(_0x3e8bfe&ol)!==-0x33f*0x5+0x15cd*0x1+-0x592,_0xc9f5d4['litOptions']['useMorphPo'+'sition']=_0x3e8bfe&&(_0x3e8bfe&ll)!==0x161b*-0x1+-0x1*-0x323+-0x97c*-0x2,_0xc9f5d4['litOptions']['useMorphNo'+'rmal']=_0x3e8bfe&&(_0x3e8bfe&cl)!==-0x16d8+0x57b*0x1+0x27b*0x7,_0xc9f5d4['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x3e8bfe&&(_0x3e8bfe&hl)!==0x2332+-0x18d0+-0xa62,_0xc9f5d4['litOptions']['nineSliced'+'Mode']=_0x1563b0['nineSliced'+'Mode']||0x61*-0x42+-0x17b6+0x30b8,_0x312d43['clusteredL'+'ightingEna'+'bled']&&_0x1563b0['useLightin'+'g']?(_0xc9f5d4['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x3*0x41+-0xef7+0xe34*0x1),_0xc9f5d4['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x312d43['lighting']['cookiesEna'+'bled'],_0xc9f5d4['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x312d43['lighting']['shadowsEna'+'bled'],_0xc9f5d4['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x312d43['lighting']['shadowType'],_0xc9f5d4['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x312d43['lighting']['areaLights'+'Enabled']):(_0xc9f5d4['litOptions']['clusteredL'+'ightingEna'+'bled']=!(-0x25f7+0x1866+0x2*0x6c9),_0xc9f5d4['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x15a0+-0x4*0x6e5+0x3135),_0xc9f5d4['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0x9*0x47+-0x1ecb*-0x1+-0x2149*0x1),_0xc9f5d4['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x2042*0x1+0x1acb+-0x4*0xec3));}['_updateUVO'+'ptions'](_0x544d8f,_0x477edb,_0x2a7eb6,_0x48139c,_0x3dd6da){let _0x4dac57=!(-0x4*-0x4cf+-0x1491+0x9*0x26),_0x3a0166=!(-0x3e+0x9c7*0x3+-0x1d16*0x1),_0x3e3468=!(0x7*-0x332+-0xb5c*-0x3+-0x3e7*0x3);_0x2a7eb6&&(_0x4dac57=(_0x2a7eb6&nm)!==-0x170a+0x535*-0x3+0x26a9,_0x3a0166=(_0x2a7eb6&dv)!==-0x175+0x6d*0x1+-0x3*-0x58,_0x3e3468=(_0x2a7eb6&fv)!==-0x1a5f+-0x191a+-0x1*-0x3379),_0x544d8f['litOptions']['vertexColo'+'rs']=!(0x1b9e+-0xd3+0xd65*-0x2),this['_mapXForms']=[];const _0xddd079={};for(const _0x5c1c90 in bn)this['_updateTex'+'Options'](_0x544d8f,_0x477edb,_0x5c1c90,_0x4dac57,_0x3a0166,_0x3e3468,_0x48139c,_0xddd079);this['_mapXForms']=null,_0x544d8f['litOptions']['ssao']=_0x3dd6da==null?void(-0xc*0x214+0x85+0x1*0x186b):_0x3dd6da['ssaoEnable'+'d'],_0x544d8f['useAO']=_0x544d8f['litOptions']['ssao'],_0x544d8f['litOptions']['lightMapEn'+'abled']=_0x544d8f['lightMap'],_0x544d8f['litOptions']['dirLightMa'+'pEnabled']=_0x544d8f['dirLightMa'+'p'],_0x544d8f['litOptions']['useHeights']=_0x544d8f['heightMap'],_0x544d8f['litOptions']['useNormals']=_0x544d8f['normalMap'],_0x544d8f['litOptions']['useClearCo'+'atNormals']=_0x544d8f['clearCoatN'+'ormalMap'],_0x544d8f['litOptions']['useAo']=_0x544d8f['aoMap']||_0x544d8f['aoVertexCo'+'lor']||_0x544d8f['litOptions']['ssao'],_0x544d8f['litOptions']['diffuseMap'+'Enabled']=_0x544d8f['diffuseMap'];}['_updateTex'+'Options'](_0x51f70b,_0x3b5f11,_0x4e2d85,_0x2fdcbf,_0x591c1f,_0x7978c6,_0x2d1d45,_0x40c30a){const _0x4afb0d=_0x4e2d85==='opacity';if(!_0x2d1d45||_0x4afb0d){const _0x47ce10=_0x4e2d85+'Map',_0x369766=_0x4e2d85+('VertexColo'+'r'),_0x14761b=_0x4e2d85+('VertexColo'+'rChannel'),_0x15cdca=_0x47ce10+'Channel',_0x35a346=_0x47ce10+'Transform',_0x44d7d1=_0x47ce10+'Uv',_0x5a62fb=_0x47ce10+'Identifier';if(_0x4e2d85!=='light'&&(_0x51f70b[_0x47ce10]=!(0x7ed+0x1852+-0x2*0x101f),_0x51f70b[_0x5a62fb]=void(0x27*-0xc3+-0x1*0x9e9+-0x1*-0x279e),_0x51f70b[_0x15cdca]='',_0x51f70b[_0x35a346]=0xfc*0x1c+0xa*0x3af+0x2*-0x2033,_0x51f70b[_0x44d7d1]=-0x9f7*0x3+-0x1*-0x5ff+0x17e6),_0x51f70b[_0x369766]=!(-0x2*0xbba+-0xd*-0x29f+-0xa9e),_0x51f70b[_0x14761b]='',_0x4afb0d&&_0x3b5f11['blendType']===Cs&&_0x3b5f11['alphaTest']===-0x1f2b+0xe72*0x1+0x593*0x3&&!_0x3b5f11['alphaToCov'+'erage']&&_0x3b5f11['opacityDit'+'her']===Sa)return;if(_0x4e2d85!=='height'&&_0x3b5f11[_0x369766]&&_0x7978c6&&(_0x51f70b[_0x369766]=_0x3b5f11[_0x369766],_0x51f70b[_0x14761b]=_0x3b5f11[_0x14761b],_0x51f70b['litOptions']['vertexColo'+'rs']=!(-0x1*-0x20c+-0xc*0x13f+-0x1*-0xce8)),_0x3b5f11[_0x47ce10]){let _0x26b94=!(-0x1247*-0x1+0x6e2+0x3*-0x863);if(_0x3b5f11[_0x44d7d1]===0x55+-0x13*-0x31+0x8*-0x7f&&!_0x2fdcbf&&(_0x26b94=!(0x1249+0x1*-0x180d+-0x7*-0xd3)),_0x3b5f11[_0x44d7d1]===-0x1121+-0x1896+-0xde8*-0x3&&!_0x591c1f&&(_0x26b94=!(0x165+0xf5e+-0x6e*0x27)),_0x26b94){const _0x516e00=_0x3b5f11[_0x47ce10]['id'];let _0x2730d2=_0x40c30a[_0x516e00];_0x2730d2===void(0xc3e*-0x3+0x1552+0xf68)&&(_0x40c30a[_0x516e00]=_0x4e2d85,_0x2730d2=_0x4e2d85),_0x51f70b[_0x47ce10]=!!_0x3b5f11[_0x47ce10],_0x51f70b[_0x5a62fb]=_0x2730d2,_0x51f70b[_0x35a346]=this['_getMapTra'+'nsformID'](_0x3b5f11['getUniform'](_0x35a346),_0x3b5f11[_0x44d7d1]),_0x51f70b[_0x15cdca]=_0x3b5f11[_0x15cdca],_0x51f70b[_0x44d7d1]=_0x3b5f11[_0x44d7d1];}}}}['_updateMin'+'Options'](_0x2bcada,_0xd4e246,_0xdb9a89){const _0x61619e=_0xdb9a89===Rl;_0x2bcada['litOptions']['opacitySha'+'dowDither']=_0x61619e?_0xd4e246['opacityDit'+'her']:_0xd4e246['opacitySha'+'dowDither'],_0x2bcada['litOptions']['linearDept'+'h']=_0x61619e,_0x2bcada['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x5bc82d,_0xa9f5dc,_0x5309f6){var _0x3bfe76,_0x4fbd60,_0x4263e4,_0x1b3501,_0x28c53b,_0x2b7ca7;const _0xa666ec=!!(_0xa9f5dc['useMetalne'+'ss']||_0xa9f5dc['specularMa'+'p']||_0xa9f5dc['sphereMap']||_0xa9f5dc['cubeMap']||mb(_0xa9f5dc['specular'])||_0xa9f5dc['specularit'+'yFactor']>-0x82+-0x1b9c+0x1c1e&&_0xa9f5dc['useMetalne'+'ss']||_0xa9f5dc['enableGGXS'+'pecular']||_0xa9f5dc['clearCoat']>0x15a5+0x1c35+-0x31da),_0x324e44=!_0xa9f5dc['useMetalne'+'ss']||_0xa9f5dc['useMetalne'+'ssSpecular'+'Color'],_0xdaf1f4=_0xa666ec&&(_0xa9f5dc['specularTi'+'nt']||!_0xa9f5dc['specularMa'+'p']&&!_0xa9f5dc['specularVe'+'rtexColor'])&&pb(_0xa9f5dc['specular']),_0x48dd30=_0xa666ec&&_0xa9f5dc['useMetalne'+'ssSpecular'+'Color']&&(_0xa9f5dc['specularit'+'yFactorTin'+'t']||_0xa9f5dc['specularit'+'yFactor']<-0x14ce*0x1+-0x3*0xc41+-0x3992*-0x1&&!_0xa9f5dc['specularit'+'yFactorMap']),_0x1ec6b2=_0x4631e1=>_0x4631e1?_0x4631e1['format']===vl||_0x4631e1['type']===Jo:!(-0x7af+-0x8b+-0x2b*-0x31),_0x53c467=(_0x4ffe1a,_0x4a732e)=>Math['abs'](_0x4ffe1a-_0x4a732e)<-0x7*-0x103+-0xbf*-0x25+-0x2*0x1158+0.0001;_0x5bc82d['specularTi'+'nt']=_0xdaf1f4,_0x5bc82d['specularit'+'yFactorTin'+'t']=_0x48dd30,_0x5bc82d['metalnessT'+'int']=_0xa9f5dc['useMetalne'+'ss']&&_0xa9f5dc['metalness']<-0x5cb+-0x1*-0x2065+-0xb*0x26b,_0x5bc82d['glossTint']=!(0x80d+0x37a*-0x1+-0x493),_0x5bc82d['diffuseEnc'+'oding']=(_0x3bfe76=_0xa9f5dc['diffuseMap'])==null?void(-0x3*0xaca+-0x1*-0x696+-0xa5*-0x28):_0x3bfe76['encoding'],_0x5bc82d['diffuseDet'+'ailEncodin'+'g']=(_0x4fbd60=_0xa9f5dc['diffuseDet'+'ailMap'])==null?void(-0x1aa0+0x47c+0x2*0xb12):_0x4fbd60['encoding'],_0x5bc82d['emissiveEn'+'coding']=(_0x4263e4=_0xa9f5dc['emissiveMa'+'p'])==null?void(-0x3*0x365+0x4*-0x613+0x61*0x5b):_0x4263e4['encoding'],_0x5bc82d['lightMapEn'+'coding']=(_0x1b3501=_0xa9f5dc['lightMap'])==null?void(-0x4*-0x775+0x1ff4*0x1+-0x3dc8):_0x1b3501['encoding'],_0x5bc82d['packedNorm'+'al']=_0x1ec6b2(_0xa9f5dc['normalMap']),_0x5bc82d['refraction'+'Tint']=_0x53c467(_0xa9f5dc['refraction'],-0x2084+-0x1357+0x33dc),_0x5bc82d['refraction'+'IndexTint']=_0x53c467(_0xa9f5dc['refraction'+'Index'],(-0x1943*-0x1+0x1e0f+-0x3751)/(-0x1c6f*-0x1+-0x1*0xbe9+0x1*-0x1085+0.5)),_0x5bc82d['thicknessT'+'int']=_0xa9f5dc['useDynamic'+'Refraction']&&_0xa9f5dc['thickness']!==0xde3+-0x1*0x215f+0x137d,_0x5bc82d['specularEn'+'coding']=(_0x28c53b=_0xa9f5dc['specularMa'+'p'])==null?void(-0xda1+-0x1ef0+0x2c91):_0x28c53b['encoding'],_0x5bc82d['sheenEncod'+'ing']=(_0x2b7ca7=_0xa9f5dc['sheenMap'])==null?void(-0x20b8+0xc7f*0x1+0x1439):_0x2b7ca7['encoding'],_0x5bc82d['aoMapUv']=_0xa9f5dc['aoUvSet'],_0x5bc82d['aoDetail']=!!_0xa9f5dc['aoDetailMa'+'p'],_0x5bc82d['diffuseDet'+'ail']=!!_0xa9f5dc['diffuseDet'+'ailMap'],_0x5bc82d['normalDeta'+'il']=!!_0xa9f5dc['normalMap'],_0x5bc82d['normalDeta'+'ilPackedNo'+'rmal']=_0x1ec6b2(_0xa9f5dc['normalDeta'+'ilMap']),_0x5bc82d['diffuseDet'+'ailMode']=_0xa9f5dc['diffuseDet'+'ailMode'],_0x5bc82d['aoDetailMo'+'de']=_0xa9f5dc['aoDetailMo'+'de'],_0x5bc82d['clearCoatG'+'loss']=!!_0xa9f5dc['clearCoatG'+'loss'],_0x5bc82d['clearCoatP'+'ackedNorma'+'l']=_0x1ec6b2(_0xa9f5dc['clearCoatN'+'ormalMap']),_0x5bc82d['iorTint']=_0x53c467(_0xa9f5dc['refraction'+'Index'],(-0x15e9+0x1*0x64e+-0x4*-0x3e7)/(-0xc74*0x1+-0x1*-0x1e93+-0x121e+0.5)),_0x5309f6['forcePassT'+'hroughSpec'+'ular']&&(_0x5bc82d['specularEn'+'coding']='linear',_0x5bc82d['sheenEncod'+'ing']='linear'),_0x5bc82d['iridescenc'+'eTint']=_0xa9f5dc['iridescenc'+'e']!==-0x1a05+0x1f3*-0x12+0xf47*0x4,_0x5bc82d['glossInver'+'t']=_0xa9f5dc['glossInver'+'t'],_0x5bc82d['sheenGloss'+'Invert']=_0xa9f5dc['sheenGloss'+'Invert'],_0x5bc82d['clearCoatG'+'lossInvert']=_0xa9f5dc['clearCoatG'+'lossInvert'],_0x5bc82d['useSpecula'+'rColor']=_0x324e44,_0x5bc82d['litOptions']['separateAm'+'bient']=!(0x10cd+0x1e38+-0x2f04),_0x5bc82d['litOptions']['pixelSnap']=_0xa9f5dc['pixelSnap'],_0x5bc82d['litOptions']['ambientSH']=!!_0xa9f5dc['ambientSH'],_0x5bc82d['litOptions']['twoSidedLi'+'ghting']=_0xa9f5dc['twoSidedLi'+'ghting'],_0x5bc82d['litOptions']['occludeSpe'+'cular']=_0xa9f5dc['occludeSpe'+'cular'],_0x5bc82d['litOptions']['occludeSpe'+'cularFloat']=_0xa9f5dc['occludeSpe'+'cularInten'+'sity']!==0x2*0x69b+-0x142c+0x6f7,_0x5bc82d['litOptions']['useMsdf']=!!_0xa9f5dc['msdfMap'],_0x5bc82d['litOptions']['msdfTextAt'+'tribute']=!!_0xa9f5dc['msdfTextAt'+'tribute'],_0x5bc82d['litOptions']['alphaToCov'+'erage']=_0xa9f5dc['alphaToCov'+'erage'],_0x5bc82d['litOptions']['opacityFad'+'esSpecular']=_0xa9f5dc['opacityFad'+'esSpecular'],_0x5bc82d['litOptions']['opacityDit'+'her']=_0xa9f5dc['opacityDit'+'her'],_0x5bc82d['litOptions']['cubeMapPro'+'jection']=_0xa9f5dc['cubeMapPro'+'jection'],_0x5bc82d['litOptions']['occludeDir'+'ect']=_0xa9f5dc['occludeDir'+'ect'],_0x5bc82d['litOptions']['useSpecula'+'r']=_0xa666ec,_0x5bc82d['litOptions']['useSpecula'+'rityFactor']=(_0x48dd30||!!_0xa9f5dc['specularit'+'yFactorMap'])&&_0xa9f5dc['useMetalne'+'ssSpecular'+'Color'],_0x5bc82d['litOptions']['enableGGXS'+'pecular']=_0xa9f5dc['enableGGXS'+'pecular'],_0x5bc82d['litOptions']['fresnelMod'+'el']=_0xa9f5dc['fresnelMod'+'el'],_0x5bc82d['litOptions']['useRefract'+'ion']=(_0xa9f5dc['refraction']||!!_0xa9f5dc['refraction'+'Map'])&&(_0xa9f5dc['useDynamic'+'Refraction']||_0x5bc82d['litOptions']['reflection'+'Source']!==vr),_0x5bc82d['litOptions']['useClearCo'+'at']=!!_0xa9f5dc['clearCoat'],_0x5bc82d['litOptions']['useSheen']=_0xa9f5dc['useSheen'],_0x5bc82d['litOptions']['useIridesc'+'ence']=_0xa9f5dc['useIridesc'+'ence']&&_0xa9f5dc['iridescenc'+'e']!==-0xd8f+-0x91d*-0x4+0x1*-0x16e5,_0x5bc82d['litOptions']['useMetalne'+'ss']=_0xa9f5dc['useMetalne'+'ss'],_0x5bc82d['litOptions']['useDynamic'+'Refraction']=_0xa9f5dc['useDynamic'+'Refraction'],_0x5bc82d['litOptions']['dispersion']=_0xa9f5dc['dispersion']>0x1738+-0x5*0x5bd+0x579,_0x5bc82d['litOptions']['shadowCatc'+'her']=_0xa9f5dc['shadowCatc'+'her'];}['_updateEnv'+'Options'](_0x32f788,_0x5ad4fa,_0x12fa53,_0x512185){_0x32f788['litOptions']['fog']=_0x5ad4fa['useFog']?_0x512185['fog']:Kn,_0x32f788['litOptions']['gamma']=_0x512185['shaderOutp'+'utGamma'],_0x32f788['litOptions']['toneMap']=_0x5ad4fa['useTonemap']?_0x512185['toneMappin'+'g']:nv;let _0x2c71e2=!(0x1f2d+0xb*0x79+0x1*-0x245f);if(_0x5ad4fa['envAtlas']&&_0x5ad4fa['cubeMap']?(_0x32f788['litOptions']['reflection'+'Source']=xh,_0x32f788['litOptions']['reflection'+'Encoding']=_0x5ad4fa['envAtlas']['encoding'],_0x32f788['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x5ad4fa['cubeMap']['encoding']):_0x5ad4fa['envAtlas']?(_0x32f788['litOptions']['reflection'+'Source']=vh,_0x32f788['litOptions']['reflection'+'Encoding']=_0x5ad4fa['envAtlas']['encoding']):_0x5ad4fa['cubeMap']?(_0x32f788['litOptions']['reflection'+'Source']=Th,_0x32f788['litOptions']['reflection'+'Encoding']=_0x5ad4fa['cubeMap']['encoding']):_0x5ad4fa['sphereMap']?(_0x32f788['litOptions']['reflection'+'Source']=hv,_0x32f788['litOptions']['reflection'+'Encoding']=_0x5ad4fa['sphereMap']['encoding']):_0x5ad4fa['useSkybox']&&_0x12fa53['envAtlas']&&_0x12fa53['skybox']?(_0x32f788['litOptions']['reflection'+'Source']=xh,_0x32f788['litOptions']['reflection'+'Encoding']=_0x12fa53['envAtlas']['encoding'],_0x32f788['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x12fa53['skybox']['encoding'],_0x2c71e2=!(-0xa93+0x3*0x4b9+-0x398)):_0x5ad4fa['useSkybox']&&_0x12fa53['envAtlas']?(_0x32f788['litOptions']['reflection'+'Source']=vh,_0x32f788['litOptions']['reflection'+'Encoding']=_0x12fa53['envAtlas']['encoding'],_0x2c71e2=!(-0xfb*-0x1f+0x1*0xfc5+-0x2e2a)):_0x5ad4fa['useSkybox']&&_0x12fa53['skybox']?(_0x32f788['litOptions']['reflection'+'Source']=Th,_0x32f788['litOptions']['reflection'+'Encoding']=_0x12fa53['skybox']['encoding'],_0x2c71e2=!(0x1*0x9d2+0x1e7b+0x13*-0x21f)):(_0x32f788['litOptions']['reflection'+'Source']=vr,_0x32f788['litOptions']['reflection'+'Encoding']=null),_0x5ad4fa['ambientSH'])_0x32f788['litOptions']['ambientSou'+'rce']=im,_0x32f788['litOptions']['ambientEnc'+'oding']=null;else{const _0x30ff63=_0x5ad4fa['envAtlas']||(_0x5ad4fa['useSkybox']&&_0x12fa53['envAtlas']?_0x12fa53['envAtlas']:null);_0x30ff63&&!_0x5ad4fa['sphereMap']?(_0x32f788['litOptions']['ambientSou'+'rce']=rm,_0x32f788['litOptions']['ambientEnc'+'oding']=_0x30ff63['encoding']):(_0x32f788['litOptions']['ambientSou'+'rce']=am,_0x32f788['litOptions']['ambientEnc'+'oding']=null);}_0x32f788['litOptions']['skyboxInte'+'nsity']=_0x2c71e2,_0x32f788['litOptions']['useCubeMap'+'Rotation']=_0x2c71e2&&_0x12fa53['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x57f80d,_0x17d78c,_0x21d564,_0x3b40ec,_0x5e3fef){if(_0x57f80d['lightMap']=!(-0x2*0x917+0x231*-0x7+0x2186),_0x57f80d['lightMapCh'+'annel']='',_0x57f80d['lightMapUv']=-0x1*-0x51b+-0x1*0x264d+0x1099*0x2,_0x57f80d['lightMapTr'+'ansform']=-0x1ee8+0x2*0xe23+-0x2a2*-0x1,_0x57f80d['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x22ce+0x1002+0x12cd),_0x57f80d['dirLightMa'+'p']=!(-0xd34+-0x1daa+0x2adf),_0x3b40ec&&(_0x57f80d['litOptions']['noShadow']=(_0x3b40ec&wh)!==-0x7d*0x43+-0x2417*-0x1+-0x3*0x120,(_0x3b40ec&ou)!==0x1c83+0x13*-0x19f+0x24a&&(_0x57f80d['lightMapEn'+'coding']=_0x17d78c['lightmapPi'+'xelFormat']===Ne?'rgbm':'linear',_0x57f80d['lightMap']=!(0x2350+-0x78d+-0x1bc3),_0x57f80d['lightMapCh'+'annel']='rgb',_0x57f80d['lightMapUv']=-0x1149+-0x1*0x1507+0x2651,_0x57f80d['lightMapTr'+'ansform']=0x5bf+0x15d0+0x11*-0x19f,_0x57f80d['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x21d564['lightMap'],(_0x3b40ec&uv)!==-0xd*0x277+-0x1*-0x1a1a+0xa9*0x9&&(_0x57f80d['dirLightMa'+'p']=!(0x567*0x6+-0x1ccf+-0x39b)),(_0x3b40ec&pv)!==-0x1068+-0xcd1*0x2+0x1505*0x2&&(_0x57f80d['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x16b0+-0x1*-0x15b2+-0x55*-0x3)))),_0x21d564['useLightin'+'g']){const _0x12437b=[],_0x5df4d5=_0x3b40ec?_0x3b40ec>>0x13fb+0x1a5*-0xd+-0x16*-0x11:Ss;_0x57f80d['litOptions']['lightMaskD'+'ynamic']=!!(_0x5df4d5&Ss),_0x5e3fef&&(Ws['collectLig'+'hts'](ve,_0x5e3fef[ve],_0x12437b,_0x5df4d5),_0x17d78c['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0x5e3fef[Ke],_0x12437b,_0x5df4d5),Ws['collectLig'+'hts'](Ze,_0x5e3fef[Ze],_0x12437b,_0x5df4d5))),_0x57f80d['litOptions']['lights']=_0x12437b;}else _0x57f80d['litOptions']['lights']=[];_0x57f80d['litOptions']['lights']['length']===0x1f75+0x103e+-0x2fb3&&!_0x17d78c['clusteredL'+'ightingEna'+'bled']&&(_0x57f80d['litOptions']['noShadow']=!(0x10af+-0x1157+0x18*0x7));}['_getMapTra'+'nsformID'](_0x646f79,_0x144f43){if(!_0x646f79)return 0x11*0x204+0x1b35+-0x3d79*0x1;let _0x45ad8d=this['_mapXForms'][_0x144f43];_0x45ad8d||(_0x45ad8d=[],this['_mapXForms'][_0x144f43]=_0x45ad8d);for(let _0x3e83fd=-0x147d*0x1+-0xeea+0x13*0x1dd;_0x3e83fd<_0x45ad8d['length'];_0x3e83fd++)if(G_(_0x45ad8d[_0x3e83fd][0x1*0xe89+-0x36*-0xa9+-0x322f]['value'],_0x646f79[0x1dd8+-0x1*-0x518+-0x22f0]['value'])&&G_(_0x45ad8d[_0x3e83fd][0x181d+0x1*-0xf9a+-0x882]['value'],_0x646f79[0x2158+0x12c8+-0x341f]['value']))return _0x3e83fd+(0x1261+0x895+0x67*-0x43);return _0x45ad8d['push'](_0x646f79);}}function rt(_0x180685,_0x5795fb=!(-0x1fa*0x11+-0xddc+0x3*0xfd2),_0x50e014=!(-0x3b*-0x37+0xe8e+-0x1b3b*0x1)){const _0x257c78={};return _0x257c78[_0x180685+'Map']='texture',_0x257c78[_0x180685+'MapTiling']='vec2',_0x257c78[_0x180685+'MapOffset']='vec2',_0x257c78[_0x180685+('MapRotatio'+'n')]='number',_0x257c78[_0x180685+'MapUv']='number',_0x5795fb&&(_0x257c78[_0x180685+'MapChannel']='string',_0x50e014&&(_0x257c78[_0x180685+('VertexColo'+'r')]='boolean',_0x257c78[_0x180685+('VertexColo'+'rChannel')]='string')),_0x257c78;}const $n={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...rt('ao'),...rt('aoDetail',!(-0x1841*-0x1+0x1e*0xa6+-0x2bb5),!(-0x800+-0x2*0xef9+0x25f3)),'aoDetailMode':'string','aoIntensity':'number','diffuse':'rgb',...rt('diffuse'),...rt('diffuseDet'+'ail',!(-0x2*0xfd4+0x26ec+-0x744),!(-0x23e2+0x45f*0x7+0x2a5*0x2)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...rt('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...rt('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','metalnessTint':'boolean',...rt('metalness'),'useMetalnessSpecularColor':'boolean','anisotropyIntensity':'number','anisotropyRotation':'number',...rt('anisotropy'),'shininess':'number','gloss':'number','glossInvert':'boolean',...rt('gloss'),'clearCoat':'number',...rt('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...rt('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...rt('clearCoatN'+'ormal',!(-0x605*0x5+-0x66*-0x21+-0x364*-0x5)),'useSheen':'boolean','sheen':'rgb',...rt('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...rt('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...rt('emissive'),'emissiveIntensity':'number',...rt('normal',!(0x26a3+-0xdc8+-0x18da)),'bumpiness':'number',...rt('normalDeta'+'il',!(-0x207f*0x1+-0x7*0x3e+-0x2*-0x1119)),'normalDetailMapBumpiness':'number',...rt('height',!(0x1*0x1fa1+0xd41+-0x2ce2),!(0x2c*-0x2f+0xe7c+-0x1*0x667)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...rt('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...rt('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...rt('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...rt('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...rt('iridescenc'+'eThickness'),...rt('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean','shadowCatcher':'boolean'},Cd=[];for(const l in $n)$n[l]==='texture'&&Cd['push'](l);const fm=[];for(const l in $n)$n[l]==='cubemap'&&fm['push'](l);const gb={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean','anisotropy':'boolean'},Kc={},bv={};let no=new Set();const oc=new ie();class Ut extends tr{constructor(){super(),h(this,'userAttrib'+'utes',new Map()),h(this,'onUpdateSh'+'ader'),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new _b(),this['reset']());}['reset'](){Object['keys'](Kc)['forEach'](_0x5b16f9=>{this['_'+_0x5b16f9]=Kc[_0x5b16f9]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x2fc143){return super['copy'](_0x2fc143),Object['keys'](Kc)['forEach'](_0x2073c7=>{this[_0x2073c7]=_0x2fc143[_0x2073c7];}),this['userAttrib'+'utes']=new Map(_0x2fc143['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0x54cb5b,_0x2f7201){this['userAttrib'+'utes']['set'](_0x2f7201,_0x54cb5b);}['_setParame'+'ter'](_0x4017fa,_0x2da0cf){no['add'](_0x4017fa),this['setParamet'+'er'](_0x4017fa,_0x2da0cf);}['_setParame'+'ters'](_0x436be7){_0x436be7['forEach'](_0x311eee=>{this['_setParame'+'ter'](_0x311eee['name'],_0x311eee['value']);});}['_processPa'+'rameters'](_0x543149){const _0x54ac91=this[_0x543149];_0x54ac91['forEach'](_0x2bc74f=>{no['has'](_0x2bc74f)||delete this['parameters'][_0x2bc74f];}),this[_0x543149]=no,no=_0x54ac91,no['clear']();}['_updateMap'](_0xfb0216){const _0x22ca04=_0xfb0216+'Map',_0x19723d=this[_0x22ca04];if(_0x19723d){this['_setParame'+'ter']('texture_'+_0x22ca04,_0x19723d);const _0x5ef64f=_0x22ca04+'Transform',_0x400d22=this['getUniform'](_0x5ef64f);_0x400d22&&this['_setParame'+'ters'](_0x400d22);}}['_allocUnif'+'orm'](_0x52d550,_0x44cbcd){let _0x2d0ba9=this['_uniformCa'+'che'][_0x52d550];return _0x2d0ba9||(_0x2d0ba9=_0x44cbcd(),this['_uniformCa'+'che'][_0x52d550]=_0x2d0ba9),_0x2d0ba9;}['getUniform'](_0x2f3484,_0x47cc73,_0x272d74){return bv[_0x2f3484](this,_0x47cc73,_0x272d74);}['updateUnif'+'orms'](_0x43d2f4,_0xcea7b3){const _0x2e9258=_0x5e4cd3=>this['getUniform'](_0x5e4cd3,_0x43d2f4,_0xcea7b3);this['_setParame'+'ter']('material_a'+'mbient',_0x2e9258('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x2e9258('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<0x25*0x9d+-0x1638+-0xa*0xc)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x2e9258('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x2e9258('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x2e9258('specular')),this['enableGGXS'+'pecular']&&(this['_setParame'+'ter']('material_a'+'nisotropyI'+'ntensity',this['anisotropy'+'Intensity']),this['_setParame'+'ter']('material_a'+'nisotropyR'+'otation',[Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']),Math['sin'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD'])])),this['clearCoat']>-0x640+0xa72+-0x432&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),w['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===-0x6f*0x1e+0x2626+-0x1*0x1924&&this['emissive']['g']===0x172e*-0x1+-0x17f2+0x2f20&&this['emissive']['b']===-0x4*0x795+0x3b*-0x76+0x25*0x18e&&w['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+Q['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x2e9258('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>-0x117b*0x1+-0x189d+-0x18*-0x1c1&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>-0x1a4b*0x1+0x14e1+0x56a&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x2e9258('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===0x26e1+0x17*-0x186+0x3d7*-0x1?-0x2113+0x85*0x37+0x6*0xc0:(0x2*-0x1159+0x1596+-0x45f*-0x3)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(0x1*0x1c60+-0xc1*-0x2+-0x1de1*0x1)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===av&&this['_setParame'+'ter'](_0x2e9258('cubeMapPro'+'jectionBox'));for(const _0x3e959c in bn)this['_updateMap'](_0x3e959c);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x2e9258('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x43d2f4,_0xcea7b3);}['updateEnvU'+'niforms'](_0x374296,_0x5108f5){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x5108f5['envAtlas']&&_0x5108f5['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x5108f5['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x5108f5['skybox'])):_0x5108f5['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x5108f5['envAtlas']):_0x5108f5['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x5108f5['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0x26a9be){const {device:_0x429eb5,scene:_0xc076eb,pass:_0x5934d5,objDefs:_0x16dfbc,sortedLights:_0x46eb35,cameraShaderParams:_0x385259}=_0x26a9be;this['updateEnvU'+'niforms'](_0x429eb5,_0xc076eb);const _0x37651b=Si['get'](_0x429eb5)['getByIndex'](_0x5934d5),_0x2ea2c6=_0x5934d5===Zn||_0x5934d5===Rl||_0x37651b['isShadow'];let _0x3404df=_0x2ea2c6?Jd['optionsCon'+'textMin']:Jd['optionsCon'+'text'];_0x3404df['defines']=$t['getCoreDef'+'ines'](this,_0x26a9be),_0x2ea2c6?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x3404df,_0xc076eb,this,_0x16dfbc,_0x5934d5,_0x46eb35):this['shaderOptB'+'uilder']['updateRef'](_0x3404df,_0xc076eb,_0x385259,this,_0x16dfbc,_0x5934d5,_0x46eb35),this['useFog']||_0x3404df['defines']['set']('FOG','NONE'),_0x3404df['defines']['set']('TONEMAP',ov[_0x3404df['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x3404df=this['onUpdateSh'+'ader'](_0x3404df));const _0x3d1390=new Ad(_0x26a9be['viewUnifor'+'mFormat'],_0x26a9be['viewBindGr'+'oupFormat'],_0x26a9be['vertexForm'+'at']),_0x13916d=Hn(_0x429eb5);_0x13916d['register']('standard',Jd);const _0xf66973=_0x13916d['getProgram']('standard',_0x3404df,_0x3d1390,this['userId']);return this['_dirtyShad'+'er']=!(0x19b*0x4+-0x3*-0x682+0x19f1*-0x1),_0xf66973;}['destroy'](){for(const _0x4e8bf2 in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x4e8bf2]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}h(Ut,'TEXTURE_PA'+'RAMETERS',Cd),h(Ut,'CUBEMAP_PA'+'RAMETERS',fm);const Pd=(_0x3cb625,_0x59c6eb)=>{bv[_0x3cb625]=_0x59c6eb;},um=(_0x2f6f30,_0x2fdab3,_0x587ba3,_0x523c27)=>{Object['defineProp'+'erty'](Ut['prototype'],_0x2f6f30,{'get':_0x523c27||function(){return this['_'+_0x2f6f30];},'set':_0x587ba3}),Kc[_0x2f6f30]={'value':_0x2fdab3};},Sb=_0x361944=>{const _0x61fb7f='_'+_0x361944['name'],_0x4db16e=_0x361944['dirtyShade'+'rFunc']||(()=>!(-0x61e+-0x6d*0x3+0x765)),_0x185a2b=function(_0x1480af){const _0x59e8ad=this[_0x61fb7f];_0x59e8ad!==_0x1480af&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x4db16e(_0x59e8ad,_0x1480af),this[_0x61fb7f]=_0x1480af);};um(_0x361944['name'],()=>_0x361944['defaultVal'+'ue'],_0x185a2b,_0x361944['getterFunc']);},yb=_0x1a1669=>{const _0x2104c4='_'+_0x1a1669['name'],_0x293881=_0x1a1669['dirtyShade'+'rFunc']||(()=>!(0x11*0x3d+0xa96*0x2+-0x1939)),_0x49abca=function(_0x33eafc){const _0x301a40=this[_0x2104c4];_0x301a40['equals'](_0x33eafc)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x293881(_0x301a40,_0x33eafc),this[_0x2104c4]=_0x301a40['copy'](_0x33eafc));};um(_0x1a1669['name'],()=>_0x1a1669['defaultVal'+'ue']['clone'](),_0x49abca,_0x1a1669['getterFunc']);},Es=_0x256a37=>_0x256a37['defaultVal'+'ue']&&_0x256a37['defaultVal'+'ue']['clone']?yb(_0x256a37):Sb(_0x256a37);function et(_0x258fe5,_0x2b12cd='rgb',_0x3b2dc2=!(0x19f3+0x1625+-0x3018),_0x3a74a2=-0xb5*0x35+0x2309+-0x34*-0xc){bn[_0x258fe5]=_0x2b12cd['length']||-(-0x3*0xc1a+-0x695+0x2ae4),Es({'name':_0x258fe5+'Map','defaultValue':null,'dirtyShaderFunc':(_0x4f834e,_0x2b3154)=>!!_0x4f834e!=!!_0x2b3154||_0x4f834e&&(_0x4f834e['type']!==_0x2b3154['type']||_0x4f834e['format']!==_0x2b3154['format'])}),Es({'name':_0x258fe5+'MapTiling','defaultValue':new J(-0x1*0xe0f+0xacf+-0x11*-0x31,-0x4c+0xb*0xd3+0x231*-0x4)}),Es({'name':_0x258fe5+'MapOffset','defaultValue':new J(-0x1c24+0xb21+0x1103,-0x325+0x951+-0x62c)}),Es({'name':_0x258fe5+('MapRotatio'+'n'),'defaultValue':0x0}),Es({'name':_0x258fe5+'MapUv','defaultValue':_0x3a74a2}),_0x2b12cd&&(Es({'name':_0x258fe5+'MapChannel','defaultValue':_0x2b12cd}),_0x3b2dc2&&(Es({'name':_0x258fe5+('VertexColo'+'r'),'defaultValue':!(-0x278+0x21c9+-0x1*0x1f50)}),Es({'name':_0x258fe5+('VertexColo'+'rChannel'),'defaultValue':_0x2b12cd})));const _0x25f9e8=_0x258fe5+'MapTiling',_0xde6625=_0x258fe5+'MapOffset',_0x44d3d0=_0x258fe5+('MapRotatio'+'n'),_0xc13dfe=_0x258fe5+('MapTransfo'+'rm');Pd(_0xc13dfe,(_0x3b2393,_0x1facf9,_0x5171ac)=>{const _0x348f1f=_0x3b2393[_0x25f9e8],_0xa59a7d=_0x3b2393[_0xde6625],_0x1508b9=_0x3b2393[_0x44d3d0];if(_0x348f1f['x']===-0x1ffd+0xa69*-0x1+-0x2a67*-0x1&&_0x348f1f['y']===0x12be+0x1a7*0xe+0x9*-0x4a7&&_0xa59a7d['x']===-0x80b*0x3+0x20ae+-0x88d&&_0xa59a7d['y']===-0xcf1+-0x59f+0x8*0x252&&_0x1508b9===-0x7*-0x213+0xbb1*0x2+-0x139*0x1f)return null;const _0x1c5f47=_0x3b2393['_allocUnif'+'orm'](_0xc13dfe,()=>[{'name':'texture_'+_0xc13dfe+'0','value':new Float32Array(-0x1*-0x1ca3+0x1*0xacf+0x2a1*-0xf)},{'name':'texture_'+_0xc13dfe+'1','value':new Float32Array(-0x82a+0x3*0x17+0x7e8*0x1)}]),_0x2292f6=Math['cos'](_0x1508b9*Y['DEG_TO_RAD']),_0x46678b=Math['sin'](_0x1508b9*Y['DEG_TO_RAD']),_0x2331a3=_0x1c5f47[0x7b*0x1b+0x281*0x6+-0x1bff]['value'];_0x2331a3[0xa70+0x472+-0xee2]=_0x2292f6*_0x348f1f['x'],_0x2331a3[-0x20e3*-0x1+0x921+-0xef*0x2d]=-_0x46678b*_0x348f1f['y'],_0x2331a3[0xd8d*0x1+0x26fb*-0x1+0x1970]=_0xa59a7d['x'];const _0x1530be=_0x1c5f47[0x4f0+0x8d*-0x41+0x1ede]['value'];return _0x1530be[0x89*0x37+-0x41*-0x8d+-0x413c]=_0x46678b*_0x348f1f['x'],_0x1530be[0x252e+-0x23e8+-0x19*0xd]=_0x2292f6*_0x348f1f['y'],_0x1530be[-0x5b9*-0x3+-0x7*-0x241+-0x20f0]=-0x1e5f+0xd32+0x112e*0x1-_0x348f1f['y']-_0xa59a7d['y'],_0x1c5f47;});}function Ra(_0x4df43c,_0x38e337){Es({'name':_0x4df43c,'defaultValue':_0x38e337,'getterFunc':function(){return this['_dirtyShad'+'er']=!(-0x53*0x3+0xc72+-0xb79),this['_'+_0x4df43c];}}),Pd(_0x4df43c,(_0x28af9d,_0x2cf9bf,_0x373134)=>{const _0x117823=_0x28af9d['_allocUnif'+'orm'](_0x4df43c,()=>new Float32Array(0x3b*0x1c+0x10ee+-0x175f)),_0x255469=_0x28af9d[_0x4df43c];return oc['linear'](_0x255469),_0x117823[0x68*0x1a+0x4ee*-0x2+-0xb4]=oc['r'],_0x117823[0x73c+-0x6c8+-0x73]=oc['g'],_0x117823[-0x5*-0x1c6+-0x1*0x625+-0x2b7*0x1]=oc['b'],_0x117823;});}function ze(_0x224652,_0x7fe354,_0x2c298f){Es({'name':_0x224652,'defaultValue':_0x7fe354,'dirtyShaderFunc':(_0x2fcc2c,_0x11eccf)=>(_0x2fcc2c===-0x4bd+0x780+-0x2c3*0x1||_0x2fcc2c===0x1*0xc56+-0x7d6*0x3+-0xb2d*-0x1)!=(_0x11eccf===-0x1e10+-0x1*-0x1d9f+0x1*0x71||_0x11eccf===-0x19b*0x13+0x4bb+-0x1*-0x19c7)}),Pd(_0x224652,_0x2c298f);}function oo(_0x41f188,_0x180791){Es({'name':_0x41f188,'defaultValue':null,'dirtyShaderFunc':(_0x329e14,_0x12cb59)=>!!_0x329e14==!!_0x12cb59}),Pd(_0x41f188,_0x180791);}function ke(_0x52959c,_0x38de9f){Es({'name':_0x52959c,'defaultValue':_0x38de9f});}function vb(){Ra('ambient',new ie(-0x2*-0x841+-0x504*0x7+-0x129b*-0x1,-0x3*-0x615+-0x1*-0x26d4+0x1e*-0x1e7,0x67f+-0xe*0x27c+0x11*0x1aa)),Ra('diffuse',new ie(-0x2*0x5ec+0x1193+-0x5ba,-0x943+0xf14+0x18*-0x3e,0xe*0x17+-0x3c5*-0x7+0xdd2*-0x2)),Ra('specular',new ie(-0x1ccd+0x6c6+0x1607,-0x8c8*0x1+-0x25f8+0x2ec0,-0xaf8+-0x3eb+0xee3)),Ra('emissive',new ie(0x54a*-0x3+0x1580+-0x1*0x5a2,-0x21f*-0x12+-0x22c7+0x367*-0x1,0x155f+-0x1a02+0x1*0x4a3)),Ra('sheen',new ie(0x1b84+-0x18ac*-0x1+-0x342f*0x1,-0x1bb2+-0x1*0x2bb+-0x616*-0x5,-0x16c0+-0x15fc+0x2cbd)),Ra('attenuatio'+'n',new ie(0x131b*0x1+0x673*-0x1+0xca7*-0x1,-0x16*0xa3+-0x47*0x4+0x7*0x229,-0x1b5c+0x973+0x11ea)),ze('emissiveIn'+'tensity',0x1b86+0x1d2a+-0x38af*0x1),ze('specularit'+'yFactor',0x34e+0x2*-0x7db+-0x3*-0x423),ze('sheenGloss',-0x864+0x1bf5+-0x1391),ze('gloss',0x215f+0x3b*0x53+0x18*-0x230+0.25),ze('aoIntensit'+'y',0x2*-0xeea+-0x43*0x8f+0x4342),ze('heightMapF'+'actor',0x522*-0x7+0x25ca+-0x1db,(_0x569595,_0x33e5a7,_0x1f9f72)=>_0x569595['heightMapF'+'actor']*(0x25e+0x231f+-0x257d+0.025)),ze('opacity',-0x5f+-0x22f1+0x2351*0x1),ze('alphaFade',-0xcf0+0x86a+0x487),ze('alphaTest',0x1a5f+0xa3+-0x1b02),ze('bumpiness',-0x15f1+0xc75+0x15b*0x7),ze('normalDeta'+'ilMapBumpi'+'ness',0x1*-0x713+-0x1*-0x1717+0x1*-0x1003),ze('reflectivi'+'ty',0x88b*0x1+0x10a9+-0x1*0x1933),ze('occludeSpe'+'cularInten'+'sity',-0x1*0x1749+-0x1*0x20e5+0x382f),ze('refraction',0x102+-0x77e+0x67c),ze('refraction'+'Index',(0x1dd*0x5+-0x831+-0x7*0x29)/(-0x2*-0x74b+0x1bae+-0x2a43+0.5)),ze('dispersion',-0x72a+0x17*0x35+0x267),ze('thickness',0x39*0x51+0x5*0x6f8+-0x34e1*0x1),ze('attenuatio'+'nDistance',-0x24bd+-0x161*0x5+0x15d1*0x2),ze('metalness',0x4a5+-0x914+0x470),ze('anisotropy'+'Intensity',-0x154*0xb+0x209c+0x2*-0x900),ze('anisotropy'+'Rotation',0x1ae8+0x1*0x1427+-0x1*0x2f0f),ze('clearCoat',0x18ed+-0x19c6+0xd9),ze('clearCoatG'+'loss',-0x4*0x542+-0x16da+0x2be3),ze('clearCoatB'+'umpiness',-0x5d*-0x3b+-0x5*-0x45d+-0x2b3f),ze('aoUvSet',0x6ca+0x1*-0x26ee+0xb*0x2ec,null),ze('iridescenc'+'e',-0x19f0+-0x1d50+0x3740),ze('iridescenc'+'eRefractio'+'nIndex',(-0x185*0xb+0x597+0xb21)/(0x1d3c+-0x1aa2+-0x299+0.5)),ze('iridescenc'+'eThickness'+'Min',0x6*0x587+0xe17+0x1*-0x2f41),ze('iridescenc'+'eThickness'+'Max',0x2431+-0x508+-0x1f29),oo('ambientSH'),oo('cubeMapPro'+'jectionBox',(_0x1b422f,_0x113fa3,_0x34d735)=>{const _0x59205a=_0x1b422f['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(-0x1*-0x236a+-0x3ca*0x7+-0x8e1*0x1)},{'name':'envBoxMax','value':new Float32Array(-0x1*0x177b+0xd0d+0x51*0x21)}]),_0x46be24=_0x1b422f['cubeMapPro'+'jectionBox']['getMin'](),_0x53f004=_0x59205a[0x366+0x479*-0x1+0x113]['value'];_0x53f004[0x7*-0x392+0x15*-0x1d8+0x3fb6]=_0x46be24['x'],_0x53f004[-0x96e*0x1+0xbf2+-0x283]=_0x46be24['y'],_0x53f004[0xb2d+-0x3ae+-0x77d]=_0x46be24['z'];const _0xa2c9ca=_0x1b422f['cubeMapPro'+'jectionBox']['getMax'](),_0x985ab8=_0x59205a[-0x1e9c+-0x1da5*0x1+0x12*0x359]['value'];return _0x985ab8[-0x90d+0x3b*-0x17+0xe5a]=_0xa2c9ca['x'],_0x985ab8[0x1df3+-0x1cb5+-0x13d]=_0xa2c9ca['y'],_0x985ab8[0x17*-0x15a+-0x2317+0x422f]=_0xa2c9ca['z'],_0x59205a;}),ke('specularTi'+'nt',!(0x1*0x2489+0x3f1*-0x3+-0x18b5)),ke('specularit'+'yFactorTin'+'t',!(0x19dd+-0x1767+0x275*-0x1)),ke('useMetalne'+'ss',!(0x11*-0x10d+-0x1*0x8b7+0x1a95)),ke('useMetalne'+'ssSpecular'+'Color',!(0x115*0x5+0x8*0xc2+-0xb78)),ke('useSheen',!(0xa1c+0x1546+-0x1f61)),ke('enableGGXS'+'pecular',!(-0x1bc8+0x246d*0x1+-0x8a4)),ke('occludeDir'+'ect',!(0xf6a+0x19c7*-0x1+0xa5e)),ke('opacityFad'+'esSpecular',!(0x1*0x2f9+-0x311+-0x2*-0xc)),ke('occludeSpe'+'cular',bd),ke('fresnelMod'+'el',Yp),ke('useDynamic'+'Refraction',!(-0xb86+-0x1f0e+0x2a95)),ke('cubeMapPro'+'jection',tm),ke('useFog',!(0x1a69*-0x1+-0xea0+0x2909)),ke('useLightin'+'g',!(0xf1*-0x19+0x388+0x1401)),ke('useTonemap',!(-0x1*0x1915+0x26ef+-0xdda)),ke('useSkybox',!(-0x953+0x1*0x707+0x24c)),ke('forceUv1',!(-0x139d+-0xf0f+-0xb8f*-0x3)),ke('pixelSnap',!(0xc24+-0x1aa3+0xe80)),ke('twoSidedLi'+'ghting',!(0x5*-0x24d+0x893+0x2ef*0x1)),ke('nineSliced'+'Mode',void(-0x3a*-0x38+-0x1dcf+0x111f)),ke('msdfTextAt'+'tribute',!(0xe73+0x240c+-0x1*0x327e)),ke('useIridesc'+'ence',!(-0x2309+-0x53b+0x2845)),ke('glossInver'+'t',!(0x106f+-0xe6*0x25+0x868*0x2)),ke('sheenGloss'+'Invert',!(0x1b93+-0x238e+0x7fc)),ke('clearCoatG'+'lossInvert',!(0x1*-0x6fd+0x1*0x9d3+-0x1*0x2d5)),ke('opacityDit'+'her',Sa),ke('opacitySha'+'dowDither',Sa),ke('shadowCatc'+'her',!(0x1565*-0x1+-0xc4c+0x21b2)),et('diffuse'),et('specular'),et('emissive'),et('thickness','g'),et('specularit'+'yFactor','g'),et('normal',''),et('metalness','g'),et('gloss','g'),et('opacity','a'),et('refraction','g'),et('height','g',!(-0x7f7*0x4+0x177*-0xf+-0x35d6*-0x1)),et('ao','g'),et('light','rgb',!(-0xe3*-0x1d+0x52*-0x29+0xc95*-0x1),0x1ffb+0x9c9+-0x29c3),et('msdf',''),et('diffuseDet'+'ail','rgb',!(-0x161f*-0x1+0x1*-0x1d21+-0x167*-0x5)),et('normalDeta'+'il',''),et('aoDetail','g',!(0x151b*0x1+0x229b+-0x37b5)),et('clearCoat','g'),et('clearCoatG'+'loss','g'),et('clearCoatN'+'ormal',''),et('sheen','rgb'),et('sheenGloss','g'),et('iridescenc'+'e','g'),et('iridescenc'+'eThickness','g'),et('anisotropy',''),ke('diffuseDet'+'ailMode',p_),ke('aoDetailMo'+'de',p_),oo('cubeMap'),oo('sphereMap'),oo('envAtlas');const _0xe4f61b=function(){return this['_prefilter'+'edCubemaps'];},_0x16b1ae=function(_0x22d0ba){const _0x34e261=this['_prefilter'+'edCubemaps'];_0x22d0ba=_0x22d0ba||[];let _0x2c4082=!(-0xa73+0xd*0x16d+0x1*-0x815),_0x2de4a5=!(0x2*0x853+-0x3*-0x9c7+-0x2dfb);for(let _0x4d902a=-0x2*-0x577+-0x1*0xc02+0x114;_0x4d902a<0x2b9+0x16d3*-0x1+0x1420;++_0x4d902a){const _0x5e85d1=_0x22d0ba[_0x4d902a]||null;_0x34e261[_0x4d902a]!==_0x5e85d1&&(_0x34e261[_0x4d902a]=_0x5e85d1,_0x2c4082=!(-0xfc7*-0x2+-0x10a*-0x25+-0x4600)),_0x2de4a5=_0x2de4a5&&!!_0x34e261[_0x4d902a];}_0x2c4082&&(_0x2de4a5?this['envAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0x34e261,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(-0xb2d+-0x1002+-0x1b2f*-0x1));},_0x26ae93=[null,null,null,null,null,null];um('prefiltere'+'dCubemaps',()=>_0x26ae93['slice'](),_0x16b1ae,_0xe4f61b);}vb();const Rt=class Rt{static['render'](_0x3fb9ba,_0x26fbda){const _0x40e0f1=_0x26fbda['device'],_0xa6c892=_0x3fb9ba['cells'],_0x4fd787=_0x3fb9ba['lightsBuff'+'er'],_0x153042=_0x4fd787['boundsMin'],_0x2b4df1=_0x4fd787['boundsDelt'+'a'],_0x5c8ffb=_0x153042['clone']()['add'](_0x2b4df1),_0x35fc79=_0x4fd787['boundsDelt'+'a']['clone']()['div'](_0xa6c892),_0x18d187=Rt['gridPositi'+'ons'],_0x3b33c3=Rt['gridColors'],_0xd61266=new ie(0x19*0x82+0x1d3*0x1+0x7*-0x213+0.3,-0x839+0x199*-0x5+0x81b*0x2+0.3,-0x939+-0x1*0x1ed3+0xe9*0x2c+0.3),_0xf88295=(_0x4e1054,_0x3adac8,_0xa816d,_0x131713,_0x2fb693,_0x2197a0,_0x20d4c3,_0x4b8a65,_0x18869f)=>{for(let _0x247b95=0x1be3+0x12ee+0x2c1*-0x11;_0x247b95<=_0x4e1054;_0x247b95++)for(let _0x2a777a=0x2566+0x18a2+-0x3e08;_0x2a777a<=_0x3adac8;_0x2a777a++){const _0xe6ae3e=_0xa816d+_0x247b95*_0x131713,_0x4a84b2=_0x2fb693+_0x2a777a*_0x2197a0;_0x18869f===0x5a8+-0x13e4+0xe3c*0x1?_0x18d187['push'](_0xe6ae3e,_0x20d4c3,_0x4a84b2,_0xe6ae3e,_0x4b8a65,_0x4a84b2):_0x18869f===0x1*0xf7f+-0x2239+0x12bb?_0x18d187['push'](_0xe6ae3e,_0x4a84b2,_0x20d4c3,_0xe6ae3e,_0x4a84b2,_0x4b8a65):_0x18869f===-0x1d2+0x17d3+-0x1*0x15ff&&_0x18d187['push'](_0x20d4c3,_0xe6ae3e,_0x4a84b2,_0x4b8a65,_0xe6ae3e,_0x4a84b2);}};if(_0xf88295(_0xa6c892['x'],_0xa6c892['z'],_0x153042['x'],_0x35fc79['x'],_0x153042['z'],_0x35fc79['z'],_0x153042['y'],_0x5c8ffb['y'],0x1*0xe8f+0x1*-0x1b88+-0x9*-0x171),_0xf88295(_0xa6c892['x'],_0xa6c892['y'],_0x153042['x'],_0x35fc79['x'],_0x153042['y'],_0x35fc79['y'],_0x153042['z'],_0x5c8ffb['z'],-0x87*-0x9+0x104b+-0x167*0xf),_0xf88295(_0xa6c892['y'],_0xa6c892['z'],_0x153042['y'],_0x35fc79['y'],_0x153042['z'],_0x35fc79['z'],_0x153042['x'],_0x5c8ffb['x'],-0x3*0x65+-0x1f3*0x9+0x2c*0x6d),_0x18d187['length']){const _0x6902ac=_0x18d187['length']/(0x459+0x1778+-0x2*0xde7);if(_0x6902ac!==_0x3b33c3['length']/(-0x4f*-0x29+0x1*0x16a+0x3*-0x4af)){_0x3b33c3['length']=-0x5*-0x175+0xa5d+0x1*-0x11a6;for(let _0x5bc2d1=0x1*-0x502+0x1e5b*0x1+-0x1959;_0x5bc2d1<_0x6902ac;_0x5bc2d1++)_0x3b33c3['push'](_0xd61266['r'],_0xd61266['g'],_0xd61266['b'],_0xd61266['a']);}_0x26fbda['drawLineAr'+'rays'](_0x18d187,_0x3b33c3),_0x18d187['length']=-0x24ea+-0x16c3+0x3bad;}let _0x10cdba=Rt['mesh'];_0x10cdba||(_0x10cdba=new Ge(_0x40e0f1),_0x10cdba['clear'](!(0x2665*0x1+-0x3*-0x23b+-0x2d16),!(0x66b+0x1*-0x5e2+-0x89)),Rt['mesh']=_0x10cdba);const _0x720770=[],_0x77c933=[],_0x2f8ce2=[],_0x3fad2b=_0x3fb9ba['_cells']['x'],_0x22e1ec=_0x3fb9ba['_cells']['z'],_0x57e924=_0x3fb9ba['counts'],_0x3c1926=_0x3fb9ba['_maxCellLi'+'ghtCount'],_0x492a2c=new D(),_0x505298=new D(),_0x54e009=new D(),_0x15b257=_0x2b4df1['clone']()['div'](_0xa6c892);let _0x8e6b86=0x1*-0x4e9+0x45*-0x7d+0x269a;for(let _0x4da926=0x4a5+0xd11+-0x11b6*0x1;_0x4da926<_0xa6c892['x'];_0x4da926++)for(let _0x89d95b=-0x499+0x155+-0x4*-0xd1;_0x89d95b<_0xa6c892['z'];_0x89d95b++)for(let _0x53c9db=0x1*-0x1e2e+-0x132b+0x3159;_0x53c9db<_0xa6c892['y'];_0x53c9db++){const _0x31648a=_0x4da926+_0x3fad2b*(_0x89d95b+_0x53c9db*_0x22e1ec),_0x5e424e=_0x57e924[_0x31648a];if(_0x5e424e>0xb*-0x137+0x12aa+-0x54d){_0x492a2c['x']=_0x153042['x']+_0x15b257['x']*_0x4da926,_0x492a2c['y']=_0x153042['y']+_0x15b257['y']*_0x53c9db,_0x492a2c['z']=_0x153042['z']+_0x15b257['z']*_0x89d95b,_0x505298['add2'](_0x492a2c,_0x15b257),_0x720770['push'](_0x492a2c['x'],_0x492a2c['y'],_0x505298['z']),_0x720770['push'](_0x505298['x'],_0x492a2c['y'],_0x505298['z']),_0x720770['push'](_0x505298['x'],_0x505298['y'],_0x505298['z']),_0x720770['push'](_0x492a2c['x'],_0x505298['y'],_0x505298['z']),_0x720770['push'](_0x505298['x'],_0x492a2c['y'],_0x492a2c['z']),_0x720770['push'](_0x492a2c['x'],_0x492a2c['y'],_0x492a2c['z']),_0x720770['push'](_0x492a2c['x'],_0x505298['y'],_0x492a2c['z']),_0x720770['push'](_0x505298['x'],_0x505298['y'],_0x492a2c['z']),_0x54e009['lerp'](Rt['colorLow'],Rt['colorHigh'],_0x5e424e/_0x3c1926)['round']();for(let _0x3dcb37=-0x1*0xc07+0xbfe+-0x9*-0x1;_0x3dcb37<0x83+-0x1*-0x100c+-0x1*0x1087;_0x3dcb37++)_0x77c933['push'](_0x54e009['x'],_0x54e009['y'],_0x54e009['z'],0x1c69+0x11eb+0x43*-0xb1);_0x2f8ce2['push'](_0x8e6b86*(0xd78+-0x24b7+0x1747)+(0x1305*-0x1+-0xb16+0x1e1b),_0x8e6b86*(0x1c5a+0x3*-0x9ac+0xb2)+(0x4ff*0x3+-0x1db7+0xebb),_0x8e6b86*(0xa0b+-0x26ca+0x1cc7)+(0x1150+-0x18a*-0x1+-0x1*0x12d7)),_0x2f8ce2['push'](_0x8e6b86*(0x1*-0x1697+0x3*0x14d+0x12b8)+(0xce6+0x1c98+-0x297b),_0x8e6b86*(-0xa7*0xf+-0x5e4+-0xfb5*-0x1)+(-0x116*0xd+-0x4a*-0x7d+-0x1603),_0x8e6b86*(0x517*-0x2+-0x75a+-0x464*-0x4)+(0x24c+0x244c+0x16*-0x1c1)),_0x2f8ce2['push'](_0x8e6b86*(0x2*0x65+0xeef+-0xfb1)+(-0xbef+-0x1cd*-0x10+-0x10dd),_0x8e6b86*(0x11*-0x104+-0x70b+-0x81d*-0x3)+(-0x14*-0x12c+0x11f+-0x188a),_0x8e6b86*(0x5*-0x42f+0x1197+-0x4*-0xd7)+(-0x1b78+0x2c1+0x18be)),_0x2f8ce2['push'](_0x8e6b86*(0x1091+0x1fd4+0x101f*-0x3)+(0x1c2c+-0x215b*-0x1+-0xf60*0x4),_0x8e6b86*(0x1*-0x281+0x118c+-0x3*0x501)+(0x2565+-0x9*0x65+-0x4d5*0x7),_0x8e6b86*(0x5ed*0x5+0x5*-0x63d+0x198)+(-0x14bb+-0x533+0x19f4)),_0x2f8ce2['push'](_0x8e6b86*(0x2433+0x1d61+-0x418c)+(-0x9*-0x3a9+-0x9cf*0x3+-0x381),_0x8e6b86*(-0x1*-0x2363+0x607*-0x2+-0x174d)+(-0x25c5+0x12a1+0x1326),_0x8e6b86*(0x7c8*0x1+0xc8d+-0x144d*0x1)+(-0x57a*0x5+-0x1d87*-0x1+0x21f*-0x1)),_0x2f8ce2['push'](_0x8e6b86*(0x18e9+0x2481+0x2*-0x1eb1)+(-0x1*-0x10b6+0x4*-0x734+0x1f*0x64),_0x8e6b86*(0x1*0x18c2+-0x2*-0x81+-0x19bc)+(-0x12d6*0x2+0x5ca+0x1fe9),_0x8e6b86*(-0x807+-0x76c+-0xf7b*-0x1)+(-0x1*-0x263b+0xa27+-0x305c)),_0x2f8ce2['push'](_0x8e6b86*(-0x1*-0x119c+-0x2487+0x12f3)+(0x2199+-0x233c+0x2a*0xa),_0x8e6b86*(0xc57+-0x1932+0xce3)+(-0x1*-0x427+-0x2457*0x1+0x2030),_0x8e6b86*(-0x25f7+0xe35*0x1+0x17ca)+(-0x1fd3+0x2291+-0x2ba)),_0x2f8ce2['push'](_0x8e6b86*(0x5*0xea+-0x85b*-0x4+-0x56*0x71)+(-0x456*-0x4+0xe3a+-0x1f92),_0x8e6b86*(-0x2fb*-0x6+0xef*-0x25+0x1*0x10b1)+(-0x26d7+0x95*0x37+-0x1*-0x6d9),_0x8e6b86*(-0x169*-0x1+-0xa*0x4+-0x139)+(0x1a96*0x1+-0x51*-0x3b+-0x1*0x2d3d)),_0x2f8ce2['push'](_0x8e6b86*(-0x766*0x5+0x1d97+-0x76f*-0x1)+(0x1584+0x103*0x3+-0x188c),_0x8e6b86*(0x2*-0x49+-0x42e+0x4c8)+(-0x19ae+0x182c+0x186),_0x8e6b86*(-0x1*0x24e7+-0x7a7*-0x5+-0x4*0x55)+(0x444*-0x1+-0x22ee+-0x304*-0xd)),_0x2f8ce2['push'](_0x8e6b86*(-0xa0*-0x22+0x1b76+-0x3*0x103a)+(0x217*0x6+0x272+-0xef8),_0x8e6b86*(0x1b6b*-0x1+0x3db+0x1798)+(0x184c+-0xc9*0x2f+0xca2),_0x8e6b86*(-0x1*-0x62d+0x10f0+-0x1715)+(-0x2057+-0x7*-0x301+0x9*0x142)),_0x2f8ce2['push'](_0x8e6b86*(-0x5c+-0x20c6+0x212a)+(-0x25e*-0x5+-0x17c5+0x3c*0x33),_0x8e6b86*(0x2a2*0x2+0x6*0x505+-0x5*0x712)+(0x25e7+-0x3c*-0x1f+-0x2d2b),_0x8e6b86*(0x2489+0x16e*0x3+-0x28cb)+(0x2*-0xe+-0x2322+0x2344)),_0x2f8ce2['push'](_0x8e6b86*(0xd7*-0xb+-0x1c4f+0xb9*0x34)+(-0x1*-0xcbe+0x13d0+-0x208e),_0x8e6b86*(-0xfc0+0x1d9b+-0xdd3)+(0x12c0+-0x161*-0x16+-0x3113),_0x8e6b86*(0xb4*-0x5+-0xbb2+0xf3e)+(0x73f+-0x4*0x2c6+0x3df*0x1)),_0x8e6b86++;}}if(_0x8e6b86){if(_0x10cdba['setPositio'+'ns'](_0x720770),_0x10cdba['setNormals'](new Float32Array(_0x720770['length'])),_0x10cdba['setColors3'+'2'](_0x77c933),_0x10cdba['setIndices'](_0x2f8ce2),_0x10cdba['update'](js,!(0x1c54+0x1*-0x48b+0x1*-0x17c8)),!Rt['meshInstan'+'ce']){const _0x2d63cc=new Ut();_0x2d63cc['useLightin'+'g']=!(-0x1*-0x2329+-0x1618+-0xd10),_0x2d63cc['emissive']=new ie(-0x1de4+-0x20ec+0x3ed1,0x196+-0xe81+0xcec,-0x389+-0x579+0x903),_0x2d63cc['emissiveVe'+'rtexColor']=!(0xcb3+-0x566*0x1+-0x74d),_0x2d63cc['blendType']=Ed,_0x2d63cc['depthWrite']=!(-0x1fee*-0x1+-0x1f72+-0x7b),_0x2d63cc['update']();const _0xe1e367=new Ie('WorldClust'+'ersDebug');_0xe1e367['worldTrans'+'form']=te['IDENTITY'],_0xe1e367['_dirtyWorl'+'d']=_0xe1e367['_dirtyNorm'+'al']=!(-0x1*-0x2696+0x11df+-0x3874),Rt['meshInstan'+'ce']=new He(_0x10cdba,_0x2d63cc,_0xe1e367),Rt['meshInstan'+'ce']['cull']=!(0x1ed5+0x1d54+0x6e*-0x8c);}const _0x29caf9=Rt['meshInstan'+'ce'];_0x26fbda['immediate']['drawMesh'](_0x29caf9['material'],_0x29caf9['node']['worldTrans'+'form'],null,_0x29caf9,_0x26fbda['defaultDra'+'wLayer']);}}};h(Rt,'gridPositi'+'ons',[]),h(Rt,'gridColors',[]),h(Rt,'mesh',null),h(Rt,'meshInstan'+'ce',null),h(Rt,'colorLow',new D(0x750+0x1*0x154a+-0x1c99,0xad6+-0x16*0xd6+0x183*0x5,-0x2034+-0x1270+0x5*0xa21)),h(Rt,'colorHigh',new D(0x20e*-0x13+0x738+0x1ffa,-0x2253+-0x1e19+-0x4*-0x101b,-0x17f0+0x125c+0x594));let hu=Rt;const xb='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let Vi=null;const Av=()=>{if(!Vi){const _0xb19b63=atob(xb);Vi=Uint8Array['from'](_0xb19b63,_0x58892a=>_0x58892a['charCodeAt'](0xa*-0x2c8+-0x1621+0x31f1));}},Tb=()=>(Av(),Vi);class wb{constructor(_0x26a3e4=-0x6*0x353+0xcb*0x13+0x1*0x4e1){h(this,'seed',0x37*0x47+-0x1532*-0x1+-0x2473),(this['seed']=_0x26a3e4*(0xd*-0x1bd+0x1*-0xc01+-0x2*-0x114f),Av());}['_next'](){this['seed']=(this['seed']+(-0x2227+-0x351+0x257c))%Vi['length'];}['value'](){return this['_next'](),Vi[this['seed']]/(-0x1*-0xddc+0x1abd*-0x1+-0x4a0*-0x3);}['vec4'](_0x12a779=new re()){return this['_next'](),_0x12a779['set'](Vi[this['seed']],Vi[this['seed']+(0xa9b+-0x1588+0xaee)],Vi[this['seed']+(-0xb5*-0x13+-0x56*-0x31+-0x1de3)],Vi[this['seed']+(-0x812+0x1254+0xa3f*-0x1)])['mulScalar']((-0x7f*0x4e+0x1*-0xeff+0x35b2)/(-0x7*0xe3+-0x190a+0x203e));}}const Eb=[new D(-(0x1*-0xd69+0x5d+-0xd0d*-0x1),0x1*-0x114d+0x47*-0x13+0x141*0x12,-0x2*0x10b2+0x1ec7+0x29d),new D(-0x89e+-0x20ec+0x298b,0x412*-0x5+-0x476+0x8*0x31a,0x15cd*-0x1+-0x35*-0x45+0x2*0x3c2),new D(-0x6d2+-0x2f*0x17+0xb0b,-(-0x47*-0x63+0x8f*0xc+-0x2228),0x843+-0x2*0x1069+0x188f*0x1),new D(0x114c+-0xb77+-0x5d5*0x1,0x250d+-0x1*0x323+-0x1*0x21e9,-0x1c1*0x13+0x1130+0x99*0x1b),new D(0x1*-0x1031+-0x20b8+0x30e9,0x1994+0x38*-0x25+-0x45f*0x4,-(0x2*-0x3ce+-0x7*-0x1e1+-0x58a)),new D(0x4fb*-0x6+-0x22ad+0x408f,0x7*-0x238+0x153+0xe35,0x7*0x89+-0x1*0x166d+0x12af)];class bb{constructor(){h(this,'colors',new Float32Array(-0x2f0+-0x454*-0x3+-0x9fa));}['update'](_0x527a57,_0x4d43c4){const _0xfc9e74=this['colors'],{r:_0x5db7d8,g:_0x341e17,b:_0x54365b}=_0x527a57;for(let _0x466d3c=-0x2c*0x81+0xda0+0x88c;_0x466d3c<-0x15*-0x9+-0x95*0x2d+-0x6*-0x43f;_0x466d3c++)_0xfc9e74[_0x466d3c*(-0x52f+-0x1069*0x1+0x159b)]=_0x5db7d8,_0xfc9e74[_0x466d3c*(-0x5db+0x1359+-0x77*0x1d)+(-0x26ee+0x161e+-0x267*-0x7)]=_0x341e17,_0xfc9e74[_0x466d3c*(-0x638+0x163*-0x15+0x235a)+(-0x94e*-0x1+0x1031+0x2d*-0x91)]=_0x54365b;for(let _0x3bdfaf=0x1*0x123a+0x537+-0x1771;_0x3bdfaf<_0x4d43c4['length'];_0x3bdfaf++){const _0x60bad3=_0x4d43c4[_0x3bdfaf];if(_0x60bad3['_type']===ve)for(let _0x439834=0x1*0xe5+0x577*-0x3+0xf80;_0x439834<-0x8f*-0x1a+-0x1*0x167f+-0x59*-0x17;_0x439834++){const _0x52ebfb=Math['max'](Eb[_0x439834]['dot'](_0x60bad3['_direction']),0xad9*-0x3+-0x735*-0x3+0x4*0x2bb)*_0x60bad3['_intensity'],_0x3ef203=_0x60bad3['_color'];_0xfc9e74[_0x439834*(0x24eb+0x12*0x21a+-0x4abc)]+=_0x3ef203['r']*_0x52ebfb,_0xfc9e74[_0x439834*(-0x19ed+0x35*-0xbc+0x40dc)+(-0x2659*0x1+-0x1dc5+0x441f)]+=_0x3ef203['g']*_0x52ebfb,_0xfc9e74[_0x439834*(0x1bd8+-0x2b4+0x7*-0x397)+(0x1de5*-0x1+-0x906+0x26ed)]+=_0x3ef203['b']*_0x52ebfb;}}}}const Ab=(_0x2e8301,_0x48f3bc,_0x5f0a7a,_0x4d8cb1)=>{const _0x14f19b=new _e(_0x2e8301,{'name':''+_0x48f3bc+_0x5f0a7a,'width':_0x5f0a7a,'height':_0x5f0a7a,'format':Ne,'addressU':yt,'addressV':yt,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(0x1d18+0x1d9a+0x5*-0xbbd)});return _0x14f19b['lock']()['set'](_0x4d8cb1),_0x14f19b['unlock'](),_0x14f19b;},Cb=new Kt(),Pb=_0x4b6c20=>Cb['get'](_0x4b6c20,()=>{const _0x451219=Tb(),_0x4db1a1=Math['sqrt'](_0x451219['length']/(-0x13*0x52+-0xd*0x45+-0x1*-0x99b));return Ab(_0x4b6c20,'BlueNoise',_0x4db1a1,_0x451219);});class va{constructor(_0x29568b,_0x4a901d){this['texture']=_0x29568b,this['cached']=!(0x5d5*0x2+0x1*0xfab+0x42*-0x6a),this['renderTarg'+'ets']=_0x4a901d;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x56132d=this['renderTarg'+'ets'];for(let _0x185b20=-0x133*-0x12+0x47*0x7d+-0x1*0x3841;_0x185b20<_0x56132d['length'];_0x185b20++)_0x56132d[_0x185b20]['destroy']();this['renderTarg'+'ets']['length']=0x232*-0x3+-0x430*0x3+0x1326;}static['create'](_0x17d44e,_0xaff5ad){let _0x242d3e=null;return _0xaff5ad['_type']===Ke?_0x242d3e=this['createCube'+'map'](_0x17d44e,_0xaff5ad['_shadowRes'+'olution'],_0xaff5ad['_shadowTyp'+'e']):_0x242d3e=this['create2dMa'+'p'](_0x17d44e,_0xaff5ad['_shadowRes'+'olution'],_0xaff5ad['_shadowTyp'+'e']),_0x242d3e;}static['createAtla'+'s'](_0x2ecf1f,_0xa49e72,_0x233094){const _0x431e38=this['create2dMa'+'p'](_0x2ecf1f,_0xa49e72,_0x233094),_0x4b344c=_0x431e38['renderTarg'+'ets'],_0x5a61a1=_0x4b344c[0x19f*0xd+0x65*0x55+0x1e*-0x1d2];for(let _0x46848e=0x147*-0x13+0x14e*-0x5+0x1ecb;_0x46848e<-0x143c+-0xd64+-0x1b*-0x13f;_0x46848e++)_0x4b344c['push'](_0x5a61a1);return _0x431e38;}static['create2dMa'+'p'](_0x3f0607,_0x407b76,_0x153985){var _0x101f80;const _0x522094=qi['get'](_0x153985);w['assert'](_0x522094);let _0x3fa234=_0x522094['format'];_0x3fa234===Ji&&!_0x3f0607['textureFlo'+'atRenderab'+'le']&&_0x3f0607['textureHal'+'fFloatRend'+'erable']&&(_0x3fa234=od);const _0x54a10b=(_0x101f80=Nt['get'](_0x3fa234))==null?void(0x26*0xd6+0x3f*-0x15+-0x1a99*0x1):_0x101f80['name'];let _0x677369=vt;_0x153985===Jp&&(_0x677369=_0x3f0607['extTexture'+'FloatLinea'+'r']?vt:Te),_0x153985===al&&(_0x677369=Te);const _0x378cbb=new _e(_0x3f0607,{'profilerHint':eu,'format':_0x3fa234,'width':_0x407b76,'height':_0x407b76,'mipmaps':!(0x19ec+-0x10d5*0x2+-0x295*-0x3),'minFilter':_0x677369,'magFilter':_0x677369,'addressU':ue,'addressV':ue,'name':'ShadowMap2'+'D_'+_0x54a10b});let _0x149dbc=null;return _0x522094!=null&&_0x522094['pcf']?(_0x378cbb['compareOnR'+'ead']=!(0xfde+-0x1db8+0xdda),_0x378cbb['compareFun'+'c']=hh,_0x149dbc=new gt({'depthBuffer':_0x378cbb})):_0x149dbc=new gt({'colorBuffer':_0x378cbb,'depth':!(-0x2*0x6d7+0x1a2d*0x1+0xc7f*-0x1)}),_0x3f0607['isWebGPU']&&(_0x149dbc['flipY']=!(-0x402+0x46*-0x19+0xad8)),new va(_0x378cbb,[_0x149dbc]);}static['createCube'+'map'](_0x3bfbc7,_0x1fa1e4,_0xc0c781){var _0x770ef;const _0x481ca0=qi['get'](_0xc0c781);w['assert'](_0x481ca0);const _0x275bf1=(_0x770ef=Nt['get'](_0x481ca0['format']))==null?void(0xa1d+0x11+-0xa2e):_0x770ef['name'],_0x1890ec=_0xc0c781===al,_0x58bab0=_0x1890ec?Te:vt,_0x165f18=new _e(_0x3bfbc7,{'profilerHint':eu,'format':_0x481ca0==null?void(0x474+0x1*-0x813+0x39f):_0x481ca0['format'],'width':_0x1fa1e4,'height':_0x1fa1e4,'cubemap':!(0x95*-0x5+-0x4*-0x5b3+0x1*-0x13e3),'mipmaps':!(0x1479*0x1+0x25a+-0x16d2*0x1),'minFilter':_0x58bab0,'magFilter':_0x58bab0,'addressU':ue,'addressV':ue,'name':'ShadowMapC'+'ube_'+_0x275bf1});_0x1890ec||(_0x165f18['compareOnR'+'ead']=!(-0x22f9+0x83*0xb+0x1d58),_0x165f18['compareFun'+'c']=hh);const _0xe6af24=[];for(let _0x2ca524=0x3*0xa96+0x17e9+-0x37ab*0x1;_0x2ca524<0x141a+0x1919*-0x1+0x505;_0x2ca524++)_0x1890ec?_0xe6af24['push'](new gt({'colorBuffer':_0x165f18,'face':_0x2ca524,'depth':!(-0x1cfe+0x1f07+-0x1*0x209)})):_0xe6af24['push'](new gt({'depthBuffer':_0x165f18,'face':_0x2ca524}));return new va(_0x165f18,_0xe6af24);}}const Mb=[],Db=[],xi=new re(),ef=new re();class tf{constructor(_0x5054b8){this['size']=Math['floor'](_0x5054b8['w']*(0x4*-0x445+0xab4+0xa60)),this['used']=!(0x32*0xb6+-0x11ee+-0x119d),this['lightId']=-(0x184d*0x1+-0x296*0x6+-0x8c8),this['rect']=_0x5054b8;}}class Ib{constructor(_0x747512){this['device']=_0x747512,this['version']=-0x1d9*0xd+-0x1a*-0xae+0x10f*0x6,this['shadowAtla'+'sResolutio'+'n']=-0xf6d*0x1+-0x1bcb+0x95*0x58,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=0x1c65+-0x77*0xb+-0x1745,this['cookieAtla'+'sResolutio'+'n']=0xee1*0x1+-0xed2+-0xb,this['cookieAtla'+'s']=new _e(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':_s,'cubemap':!(0x2386*0x1+-0x25*-0x29+0x2972*-0x1),'mipmaps':!(0x6ea*0x1+0xe68*-0x2+-0x7*-0x321),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue}),this['cookieRend'+'erTarget']=new gt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(-0x1d6e*-0x1+-0xb*-0x1ff+-0x3362),'flipY':!(-0x1ff2+0x1a*-0x85+0x2d74*0x1)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new J(0x71*-0x16+0x130f*0x1+-0x959*0x1,0x3*-0x7d2+-0x1*-0x1af6+-0x380),new J(0xcb5*0x3+-0x2342+0x1*-0x2dd,0x195d+0x583+0x7*-0x469),new J(0x1*-0x259d+-0x8*-0x96+0x20ee,0x1*-0x2055+0x1345+0xd10),new J(-0xea*0x1f+0x1bba+0x9d,0x6*-0x34+-0xb*-0x9b+0x2b8*-0x2),new J(0x19*-0x149+-0x59b*0x2+0x2b59,-0x1d98*0x1+-0xda6+0x2b3e),new J(0x2*0x7bf+0x1f85*0x1+-0x2f01,0x1a*0x83+0x1*-0x23e4+0x1697)],this['scissorVec']=new re(),this['allocateSh'+'adowAtlas'](0x513+-0x2072+-0x1b6*-0x10),this['allocateCo'+'okieAtlas'](-0x20c6+-0x1*0xc61+0x2d28),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x4fec4f;(_0x4fec4f=this['shadowAtla'+'s'])==null||_0x4fec4f['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x53697c,_0x3ced47;(_0x53697c=this['cookieAtla'+'s'])==null||_0x53697c['destroy'](),this['cookieAtla'+'s']=null,(_0x3ced47=this['cookieRend'+'erTarget'])==null||_0x3ced47['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0x3456dd,_0x2d7386=$s){var _0x2366c2;const _0x1fcd40=(_0x2366c2=this['shadowAtla'+'s'])==null?void(0xe09*-0x1+-0x1*0xa3+0xeac):_0x2366c2['texture']['format'],_0x34d693=qi['get'](_0x2d7386)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0x3456dd||_0x1fcd40!==_0x34d693){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=va['createAtla'+'s'](this['device'],_0x3456dd,_0x2d7386),this['shadowAtla'+'s']['cached']=!(0x18e9+-0x26c4+0x1*0xddb);const _0x556288=(0x301+0x171b+0x8*-0x343)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x556288,_0x556288,-(-0x1492+-0x21a7*-0x1+0xd13*-0x1)*_0x556288,-(-0x3dc+-0x167c+0x1a5a)*_0x556288);}}['allocateCo'+'okieAtlas'](_0x1fda47){this['cookieAtla'+'s']['width']!==_0x1fda47&&(this['cookieRend'+'erTarget']['resize'](_0x1fda47,_0x1fda47),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(-0x11ed+0x1608+0x419*-0x1),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0xdd3c4e=this['shadowAtla'+'s']['renderTarg'+'ets'][0x5b1*-0x1+0x13f2+0xe41*-0x1]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0xdd3c4e),this['_shadowAtl'+'asParams'][0x9*-0xb5+0x1*-0x1019+0x1676]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][0x10a9*0x1+-0x25e0+0x1538]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x3f2566,_0x35fe64){let _0x12c786=_0x35fe64['atlasSplit'];if(!_0x12c786){const _0x2d85ed=Math['ceil'](Math['sqrt'](_0x3f2566));_0x12c786=Db,_0x12c786[-0x114*0x2+0x26ad+-0x2485]=_0x2d85ed,_0x12c786['length']=-0xb8*-0xc+0x1*-0x244d+0x1*0x1bae;}if(!((_0x28634e,_0xdc11f0)=>_0x28634e['length']===_0xdc11f0['length']&&_0x28634e['every']((_0x2cb137,_0x47529f)=>_0x2cb137===_0xdc11f0[_0x47529f]))(_0x12c786,this['atlasSplit'])){this['version']++,this['slots']['length']=-0x13*-0x28+0x712+0x1*-0xa0a,this['atlasSplit']['length']=0x45*-0x32+0xc0a+0x8*0x2e,this['atlasSplit']['push'](..._0x12c786);const _0x124fdf=this['atlasSplit'][0x913+-0xc5*0x4+-0x5*0x133];if(_0x124fdf>0x1*-0x240e+0x167d+0xd92){const _0x245c33=(0x920+0x67d*0x6+-0x1*0x300d)/_0x124fdf;for(let _0x3672a3=0xec5+0x4ed+0x2*-0x9d9;_0x3672a3<_0x124fdf;_0x3672a3++)for(let _0x2da2da=-0x1*0x265a+0x2538+-0x1*-0x122;_0x2da2da<_0x124fdf;_0x2da2da++){const _0x2e7bfa=new re(_0x3672a3*_0x245c33,_0x2da2da*_0x245c33,_0x245c33,_0x245c33),_0x49d9d7=this['atlasSplit'][-0x1d59+-0x41e+0x2178+_0x3672a3*_0x124fdf+_0x2da2da];if(_0x49d9d7>-0xd*0x287+-0x279+0x2355){for(let _0x5bdde5=-0x555+-0x203c+0x2591;_0x5bdde5<_0x49d9d7;_0x5bdde5++)for(let _0x15db4f=-0x13ff+0x2210+-0x115*0xd;_0x15db4f<_0x49d9d7;_0x15db4f++){const _0x201d81=_0x245c33/_0x49d9d7,_0x3a4db0=new re(_0x2e7bfa['x']+_0x5bdde5*_0x201d81,_0x2e7bfa['y']+_0x15db4f*_0x201d81,_0x201d81,_0x201d81);this['slots']['push'](new tf(_0x3a4db0));}}else this['slots']['push'](new tf(_0x2e7bfa));}}else this['slots']['push'](new tf(new re(0x1127+-0x23d8+0x12b1,-0x3b*0x6+-0x265*-0x7+0x1f*-0x7f,-0x9df+0x49*0x52+-0xd82,-0x26e+-0x1e7*-0xb+-0x127e)));this['slots']['sort']((_0x41075a,_0x1ea297)=>_0x1ea297['size']-_0x41075a['size']);}}['collectLig'+'hts'](_0x574a32,_0x36b0ec){const _0x3a08ae=_0x36b0ec['cookiesEna'+'bled'],_0x282ac4=_0x36b0ec['shadowsEna'+'bled'];let _0x215876=!(0x6b6+0x26db+0x2*-0x16c8),_0x38bd7f=!(-0x90d*-0x4+0x10*0x1b6+-0x3f93);const _0x2558cd=Mb;return _0x2558cd['length']=0x2413+-0x1411+-0x1002,(_0x3a08ae||_0x282ac4)&&(_0x46dc30=>{for(let _0x1ee0c6=-0xb9d+-0xa9b+0x1638;_0x1ee0c6<_0x46dc30['length'];_0x1ee0c6++){const _0x31fda5=_0x46dc30[_0x1ee0c6];if(_0x31fda5['visibleThi'+'sFrame']){const _0x494b1f=_0x282ac4&&_0x31fda5['castShadow'+'s'],_0x321b6d=_0x3a08ae&&!!_0x31fda5['cookie'];_0x215876||(_0x215876=_0x494b1f),_0x38bd7f||(_0x38bd7f=_0x321b6d),(_0x494b1f||_0x321b6d)&&_0x2558cd['push'](_0x31fda5);}}})(_0x574a32),_0x2558cd['sort']((_0x10204c,_0xa3dce7)=>_0xa3dce7['maxScreenS'+'ize']-_0x10204c['maxScreenS'+'ize']),_0x215876&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x36b0ec['shadowType']),_0x38bd7f&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x215876||_0x38bd7f)&&this['subdivide'](_0x2558cd['length'],_0x36b0ec),_0x2558cd;}['setupSlot'](_0x1d92c1,_0x14b543){_0x1d92c1['atlasViewp'+'ort']['copy'](_0x14b543);const _0x3d1e89=_0x1d92c1['numShadowF'+'aces'];for(let _0x5b74f3=0x1*-0x26ab+-0x65f+0x2d0a*0x1;_0x5b74f3<_0x3d1e89;_0x5b74f3++)if(_0x1d92c1['castShadow'+'s']||_0x1d92c1['_cookie']){if(xi['copy'](_0x14b543),ef['copy'](_0x14b543),_0x1d92c1['_type']===Ze&&xi['add'](this['scissorVec']),_0x1d92c1['_type']===Ke){const _0x4df7ae=xi['z']/(-0x1*0x1a12+-0x25e5+0x13*0x35e),_0x1a7d36=this['cubeSlotsO'+'ffsets'][_0x5b74f3];xi['x']+=_0x4df7ae*_0x1a7d36['x'],xi['y']+=_0x4df7ae*_0x1a7d36['y'],xi['z']=_0x4df7ae,xi['w']=_0x4df7ae,ef['copy'](xi);}if(_0x1d92c1['castShadow'+'s']){const _0x1528a7=_0x1d92c1['getRenderD'+'ata'](null,_0x5b74f3);_0x1528a7['shadowView'+'port']['copy'](xi),_0x1528a7['shadowScis'+'sor']['copy'](ef);}}}['assignSlot'](_0x3ed72c,_0x138bc4,_0x52a1c0){_0x3ed72c['atlasViewp'+'ortAllocat'+'ed']=!(-0x157*-0xd+-0x1500+0x395);const _0x2ce50e=this['slots'][_0x138bc4];_0x2ce50e['lightId']=_0x3ed72c['id'],_0x2ce50e['used']=!(0x2*-0xfa+0x2064*0x1+-0x1e70*0x1),_0x52a1c0&&(_0x3ed72c['atlasSlotU'+'pdated']=!(0x196*0x11+-0x1b0f+0x1*0x19),_0x3ed72c['atlasVersi'+'on']=this['version'],_0x3ed72c['atlasSlotI'+'ndex']=_0x138bc4);}['update'](_0x3fe29a,_0x4a5e69){this['shadowAtla'+'sResolutio'+'n']=_0x4a5e69['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x4a5e69['cookieAtla'+'sResolutio'+'n'];const _0x57e8b4=this['collectLig'+'hts'](_0x3fe29a,_0x4a5e69);if(_0x57e8b4['length']>-0x70e+-0x2b*-0xe3+0x25*-0xd7){const _0x131af9=this['slots'];for(let _0x497445=0x2ad+-0x1*0x1163+0xeb6;_0x497445<_0x131af9['length'];_0x497445++)_0x131af9[_0x497445]['used']=!(-0x1338+0x1649+-0x8*0x62);const _0x520547=Math['min'](_0x57e8b4['length'],_0x131af9['length']);for(let _0x32e47d=-0x1e23+0x2230+-0x40d;_0x32e47d<_0x520547;_0x32e47d++){const _0x4a83c4=_0x57e8b4[_0x32e47d];_0x4a83c4['castShadow'+'s']&&(_0x4a83c4['_shadowMap']=this['shadowAtla'+'s']);const _0x3de161=_0x131af9[_0x4a83c4['atlasSlotI'+'ndex']];if(_0x4a83c4['atlasVersi'+'on']===this['version']&&_0x4a83c4['id']===(_0x3de161==null?void(0x86f*-0x3+-0x182b+0x62f*0x8):_0x3de161['lightId'])){const _0x237dfa=_0x131af9[_0x4a83c4['atlasSlotI'+'ndex']];_0x237dfa['size']===_0x131af9[_0x32e47d]['size']&&!_0x237dfa['used']&&this['assignSlot'](_0x4a83c4,_0x4a83c4['atlasSlotI'+'ndex'],!(0x1b93+-0x1cca+-0x4*-0x4e));}}let _0x40557c=-0x1*0x230+-0x2686+0x28b6;for(let _0x45c0c1=0x85f+-0x7*0x4d4+-0x17*-0x11b;_0x45c0c1<_0x520547;_0x45c0c1++){for(;_0x40557c<_0x131af9['length']&&_0x131af9[_0x40557c]['used'];)_0x40557c++;const _0x5be131=_0x57e8b4[_0x45c0c1];_0x5be131['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x5be131,_0x40557c,!(-0x26d6+0x92*0x8+-0x1*-0x2246));const _0x1d1bd2=_0x131af9[_0x5be131['atlasSlotI'+'ndex']];this['setupSlot'](_0x5be131,_0x1d1bd2['rect']);}}this['updateUnif'+'orms']();}}class Lb{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x2f48b7=>{_0x2f48b7['forEach'](_0x565011=>{_0x565011['destroy']();});}),this['cache']['clear']();}['getKey'](_0x4a43c6){const _0x1c6e08=_0x4a43c6['_type']===Ke,_0x3a9ce1=_0x4a43c6['_shadowTyp'+'e'],_0x502540=_0x4a43c6['_shadowRes'+'olution'];return _0x1c6e08+'-'+_0x3a9ce1+'-'+_0x502540;}['get'](_0x4ac69c,_0x2b088c){const _0x198eee=this['getKey'](_0x2b088c),_0x4cb6ff=this['cache']['get'](_0x198eee);if(_0x4cb6ff&&_0x4cb6ff['length'])return _0x4cb6ff['pop']();const _0x25b03c=va['create'](_0x4ac69c,_0x2b088c);return _0x25b03c['cached']=!(-0x1532*-0x1+0x1*-0x152+-0x13e0),_0x25b03c;}['add'](_0x3fddcf,_0x1965f7){const _0x4865fe=this['getKey'](_0x3fddcf),_0x51cc86=this['cache']['get'](_0x4865fe);_0x51cc86?_0x51cc86['push'](_0x1965f7):this['cache']['set'](_0x4865fe,[_0x1965f7]);}}class Rb extends ys{constructor(_0x334579,_0x395286,_0x2b4acb,_0x2c5579,_0x1bd9d3){super(_0x334579),Ea['setName'](this,this['name']+'-'+_0x2b4acb['_node']['name']),this['requiresCu'+'bemaps']=!(-0x1eed+-0x1*0x25cd+0x7a3*0x9),this['shadowRend'+'erer']=_0x395286,this['light']=_0x2b4acb,this['face']=_0x2c5579,this['applyVsm']=_0x1bd9d3,this['shadowCame'+'ra']=_0x395286['prepareFac'+'e'](_0x2b4acb,null,_0x2c5579),_0x395286['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(-0x1f05+-0x1*-0x24f7+-0x5f2*0x1));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(0x5f*0x13+-0x184*-0x2+-0xa14));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class Ob{constructor(_0x50b0d0,_0xc439da){h(this,'shadowLigh'+'ts',[]),h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0x50b0d0,this['shadowRend'+'erer']=_0xc439da,this['device']=_0x50b0d0['device']);}['cull'](_0x11f258,_0x3baabf,_0x20bdbb=null){const _0x33d3e8=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x11f258['visibleThi'+'sFrame']=!(-0x17f0+-0x1c4d+-0x1*-0x343d),_0x33d3e8||_0x11f258['_shadowMap']||(_0x11f258['_shadowMap']=va['create'](this['device'],_0x11f258));const _0x16a40a=_0x11f258['_type'],_0x129369=_0x16a40a===Ze?-0x3ab*-0x2+-0x17c1+0x1*0x106c:-0x849+0x1c7*-0x9+0x184e;for(let _0x14d89a=0x283*-0x5+0x2*0x626+-0x43*-0x1;_0x14d89a<_0x129369;_0x14d89a++){const _0x4c8bf3=_0x11f258['getRenderD'+'ata'](null,_0x14d89a),_0x5e49af=_0x4c8bf3['shadowCame'+'ra'];_0x5e49af['nearClip']=_0x11f258['attenuatio'+'nEnd']/(-0x1d38+-0xc04+0x2d24),_0x5e49af['farClip']=_0x11f258['attenuatio'+'nEnd'];const _0x339535=_0x5e49af['_node'],_0x4a3e4a=_0x11f258['_node'];if(_0x339535['setPositio'+'n'](_0x4a3e4a['getPositio'+'n']()),_0x16a40a===Ze)_0x5e49af['fov']=_0x11f258['_outerCone'+'Angle']*(-0x1*0x2363+-0x5*-0x31d+-0x69c*-0x3),_0x339535['setRotatio'+'n'](_0x4a3e4a['getRotatio'+'n']()),_0x339535['rotateLoca'+'l'](-(0x62+0x2*0xf79+-0x1efa),0x1ff5+0x3a6+-0x1*0x239b,-0x72a+0x9f7+-0x2cd);else{if(_0x16a40a===Ke){if(_0x33d3e8){const _0x4ca2d2=(0x914+0x67*-0x13+-0x49*0x5)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x11f258['atlasViewp'+'ort']['z']/(-0xa72*0x3+0x1bea+0x36f))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x5e49af['fov']=Math['atan'](-0x245+-0x1bf6+0x1e3c+_0x4ca2d2)*Y['RAD_TO_DEG']*(0x50*0xa+0x11ec*0x1+-0x150a);}else _0x5e49af['fov']=-0x1a11*0x1+-0x246c+-0x3ed7*-0x1;}}this['renderer']['updateCame'+'raFrustum'](_0x5e49af),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x3baabf,_0x11f258,_0x4c8bf3['visibleCas'+'ters'],_0x5e49af,_0x20bdbb);}}['prepareLig'+'hts'](_0x74ba73,_0xbc5b5e){let _0x1ca33d;for(let _0x496f57=-0x15b2*0x1+-0xddb+-0x238d*-0x1;_0x496f57<_0xbc5b5e['length'];_0x496f57++){const _0x5277e8=_0xbc5b5e[_0x496f57];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x5277e8)&&_0x5277e8['atlasViewp'+'ortAllocat'+'ed']){_0x74ba73['push'](_0x5277e8);for(let _0x37bfad=-0xaa4+-0x30*-0x6+0x2a*0x3a;_0x37bfad<_0x5277e8['numShadowF'+'aces'];_0x37bfad++)_0x1ca33d=this['shadowRend'+'erer']['prepareFac'+'e'](_0x5277e8,null,_0x37bfad);}}return _0x1ca33d;}['buildNonCl'+'usteredRen'+'derPasses'](_0xf59ef9,_0x5a7df0){for(let _0x569f77=-0x1f93*-0x1+-0x4bd*0x5+-0x1*0x7e2;_0x569f77<_0x5a7df0['length'];_0x569f77++){const _0x1b88c7=_0x5a7df0[_0x569f77];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x1b88c7)){const _0x280537=_0x1b88c7['_type']===Ze,_0x1bcbb3=_0x1b88c7['numShadowF'+'aces'];for(let _0x7defb2=-0x18ad+-0x1*0xb01+0x23ae;_0x7defb2<_0x1bcbb3;_0x7defb2++){const _0x558608=new Rb(this['device'],this['shadowRend'+'erer'],_0x1b88c7,_0x7defb2,_0x280537);_0xf59ef9['addRenderP'+'ass'](_0x558608);}}}}}class Fb extends ys{constructor(_0x33105c,_0x3aeff8,_0x177340,_0x4c5caf,_0x3f9d3a){super(_0x33105c),Ea['setName'](this,this['name']+'-'+_0x177340['_node']['name']),this['shadowRend'+'erer']=_0x3aeff8,this['light']=_0x177340,this['camera']=_0x4c5caf,this['allCascade'+'sRendering']=_0x3f9d3a;}['execute'](){const {light:_0x3c7fbc,camera:_0x46d49b,shadowRenderer:_0xd9c9cb,allCascadesRendering:_0x2515ab}=this,_0x57ab69=_0x3c7fbc['numShadowF'+'aces'],_0x1a568c=_0x3c7fbc['shadowUpda'+'teOverride'+'s'];for(let _0x5d14e7=-0x7*0x31d+0x13*0xbc+0x7d7;_0x5d14e7<_0x57ab69;_0x5d14e7++)(_0x1a568c==null?void(0x244d+-0x1*0x10af+-0x2*0x9cf):_0x1a568c[_0x5d14e7])!==Ps&&_0xd9c9cb['renderFace'](_0x3c7fbc,_0x46d49b,_0x5d14e7,!_0x2515ab),(_0x1a568c==null?void(-0x4*-0x51a+-0x12c5*0x1+-0x1a3):_0x1a568c[_0x5d14e7])===xr&&(_0x1a568c[_0x5d14e7]=Ps);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const lc=new De(),Ti=new D(),H_=new te(),Xe=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()],sf={'min':0x0,'max':0x0};function Nb(_0x2800ee,_0x210631,_0x3cab05){Xe[-0x1c09+-0xa*-0x167+0xe03]['x']=Xe[-0x8*0x382+0x2*0x10f7+-0x5dd]['x']=Xe[0x16a1+0xea8+0xc6d*-0x3]['x']=Xe[0x1a9a+-0x1a9c+-0x1*-0x5]['x']=_0x210631['x'],Xe[0x2156+-0x26be+0x1*0x569]['y']=Xe[-0x1608+-0x1*0x2ad+0x18b8]['y']=Xe[-0x5*-0x3a9+0x110*-0x1e+0xd9a]['y']=Xe[-0xfec*-0x1+-0x10cf+0x74*0x2]['y']=_0x210631['y'],Xe[0x1a86+-0x86a+-0x7*0x296]['z']=Xe[0x2*0x6ba+-0x1f0d+-0x17*-0xc4]['z']=Xe[-0xd03+0xa5f+0x2aa]['z']=Xe[-0x85b+0xf8*-0x17+0x1eaa*0x1]['z']=_0x210631['z'],Xe[-0xb73*-0x1+0x1002+-0x1b71]['x']=Xe[-0xb*0x5b+0x236e+-0x7e0*0x4]['x']=Xe[0x62*-0x1d+0x1250+-0x5c*0x14]['x']=Xe[-0xbd+-0x2419+0x24dd]['x']=_0x3cab05['x'],Xe[0x4c3*0x3+0x210a+-0x2f53]['y']=Xe[0xd*-0x2d7+0x5*-0x21d+-0x17bf*-0x2]['y']=Xe[-0xe2b+-0x1*-0xbcf+0x260]['y']=Xe[0xa42+-0x1cbd+0x1281]['y']=_0x3cab05['y'],Xe[-0x101*-0x4+-0x336+-0xce]['z']=Xe[-0x1*0x67a+0x1342+-0xcc7]['z']=Xe[-0x443+0x21ec*0x1+0x1*-0x1da5]['z']=Xe[0xe10+0x1c4*-0x16+-0x7*-0x38b]['z']=_0x3cab05['z'];let _0x5e6637=-0x1d92a08*0x5c+0x23343643c+0xcad39aa3,_0x2afe63=-(-0x1*-0x40b954a2c+-0x257ef43e*0x3+-0x3*0x6d042dd1);for(let _0x141ced=0x2267+0x13dc+-0x3643;_0x141ced<0x634*-0x5+0x84*-0x3c+0x3dfc;++_0x141ced){_0x2800ee['transformP'+'oint'](Xe[_0x141ced],Xe[_0x141ced]);const _0xe6cec7=Xe[_0x141ced]['z'];_0xe6cec7<_0x5e6637&&(_0x5e6637=_0xe6cec7),_0xe6cec7>_0x2afe63&&(_0x2afe63=_0xe6cec7);}return sf['min']=_0x5e6637,sf['max']=_0x2afe63,sf;}class kb{constructor(_0x58d3c1,_0x114c85){h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0x58d3c1,this['shadowRend'+'erer']=_0x114c85,this['device']=_0x58d3c1['device']);}['cull'](_0x2be2f2,_0x5113aa,_0x5eecd8,_0x64af24=null){_0x2be2f2['visibleThi'+'sFrame']=!(-0x1c92+0x5c0+-0xfe*-0x17),_0x2be2f2['_shadowMap']||(_0x2be2f2['_shadowMap']=va['create'](this['device'],_0x2be2f2));const _0xdd226a=_0x5eecd8['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x2be2f2,_0xdd226a,Math['min'](_0x5eecd8['_farClip'],_0x2be2f2['shadowDist'+'ance']));const _0xfe4297=_0x2be2f2['shadowUpda'+'teOverride'+'s'];for(let _0x41d6b7=0x126c+-0x1b30+-0x2ec*-0x3;_0x41d6b7<_0x2be2f2['numCascade'+'s']&&(_0xfe4297==null?void(-0x1*-0x151b+0x6a*0x3+-0x1659*0x1):_0xfe4297[_0x41d6b7])!==Ps;_0x41d6b7++){const _0x52d006=_0x2be2f2['getRenderD'+'ata'](_0x5eecd8,_0x41d6b7),_0x279c42=_0x52d006['shadowCame'+'ra'];_0x279c42['renderTarg'+'et']=_0x2be2f2['_shadowMap']['renderTarg'+'ets'][-0x1673+-0x1*-0x23f4+-0xd81*0x1],_0x52d006['shadowView'+'port']['copy'](_0x2be2f2['cascades'][_0x41d6b7]),_0x52d006['shadowScis'+'sor']['copy'](_0x2be2f2['cascades'][_0x41d6b7]);const _0x104664=_0x279c42['_node'],_0x1b50cc=_0x2be2f2['_node'];_0x104664['setPositio'+'n'](_0x1b50cc['getPositio'+'n']()),_0x104664['setRotatio'+'n'](_0x1b50cc['getRotatio'+'n']()),_0x104664['rotateLoca'+'l'](-(-0x1201+0x1e4f+-0xbf4),0x110f+-0x170a+0x5fb,0x790+0x69*-0x3b+0x1*0x10a3);const _0x22c9e8=_0x41d6b7===0xc38+0x418*0x8+-0x2cf8?_0xdd226a:_0x2be2f2['_shadowCas'+'cadeDistan'+'ces'][_0x41d6b7-(0x5*-0x5b3+0x21eb+0x49*-0x13)],_0xedac6d=_0x2be2f2['_shadowCas'+'cadeDistan'+'ces'][_0x41d6b7],_0x35a028=_0x5eecd8['getFrustum'+'Corners'](_0x22c9e8,_0xedac6d);Ti['set'](-0x19*0x155+0xde1+0x4*0x4db,-0x1aa*-0x1+0xb36+-0x8*0x19c,-0x1*-0xbdb+-0x1*-0x9f7+-0xae9*0x2);const _0x150b4f=_0x5eecd8['node']['getWorldTr'+'ansform']();for(let _0x1c3c44=0x140e+-0xf73+-0x49b;_0x1c3c44<-0x1d8*-0x11+0x1e*0x91+-0x12*0x2af;_0x1c3c44++)_0x150b4f['transformP'+'oint'](_0x35a028[_0x1c3c44],_0x35a028[_0x1c3c44]),Ti['add'](_0x35a028[_0x1c3c44]);Ti['mulScalar']((-0xf3e*0x1+-0x6*0x5ae+-0x3*-0x1071)/(0x1c17+-0xf8c+-0xc83));let _0x1ad085=-0x35*0xe+-0x2177*0x1+0x245d;for(let _0x38a8bd=0x12cb+-0x1*0xfc8+-0x303;_0x38a8bd<0x5d3*-0x1+-0x15*0xa1+0x1310;_0x38a8bd++){const _0x387891=_0x35a028[_0x38a8bd]['sub'](Ti)['length']();_0x387891>_0x1ad085&&(_0x1ad085=_0x387891);}const _0x121f04=_0x104664['right'],_0x57f27f=_0x104664['up'],_0x3c5661=_0x104664['forward'],_0x309843=(-0x1d*-0x5f+-0x1*-0x9b3+0x123*-0x12+0.25)*_0x2be2f2['_shadowRes'+'olution']/_0x1ad085,_0x26c4bb=Math['ceil'](Ti['dot'](_0x57f27f)*_0x309843)/_0x309843,_0x211fe4=Math['ceil'](Ti['dot'](_0x121f04)*_0x309843)/_0x309843,_0x4cde98=_0x57f27f['mulScalar'](_0x26c4bb),_0x30243d=_0x121f04['mulScalar'](_0x211fe4),_0x4ab25a=Ti['dot'](_0x3c5661),_0x499c71=_0x3c5661['mulScalar'](_0x4ab25a);Ti['add2'](_0x4cde98,_0x30243d)['add'](_0x499c71),_0x104664['setPositio'+'n'](Ti),_0x104664['translateL'+'ocal'](0x1513+0x1625+-0x2b38,-0x29*-0x80+0x117b+-0x1*0x25fb,-0x1*0x15e66e+-0x1*0x93e65+0x3*0xf77b1),_0x279c42['nearClip']=0xfef+-0x2*0xc41+0x893+0.01,_0x279c42['farClip']=0x302c5+-0x1e018+0x3d*0x7b4f,_0x279c42['orthoHeigh'+'t']=_0x1ad085,this['renderer']['updateCame'+'raFrustum'](_0x279c42),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x5113aa,_0x2be2f2,_0x52d006['visibleCas'+'ters'],_0x279c42,_0x64af24);const _0x538bec=0xf1*0x1b+0x2*-0x311+-0x1348<<_0x41d6b7,_0x19dafb=_0x52d006['visibleCas'+'ters'],_0x3f7ae0=_0x19dafb['length'];let _0x1403f9=-0x1*0x90f+0xc5*0x23+-0x58*0x34;for(let _0x564084=0x322+-0x1202+0xee0;_0x564084<_0x3f7ae0;_0x564084++){const _0x4e4986=_0x19dafb[_0x564084];_0x4e4986['shadowCasc'+'adeMask']&_0x538bec&&(_0x19dafb[_0x1403f9++]=_0x4e4986,_0x1403f9===0x25e8+0xbb2+0x3199*-0x1?lc['copy'](_0x4e4986['aabb']):lc['add'](_0x4e4986['aabb']));}_0x3f7ae0!==_0x1403f9&&(_0x19dafb['length']=_0x1403f9),H_['copy'](_0x104664['getWorldTr'+'ansform']())['invert']();const _0x1a4c72=Nb(H_,lc['getMin'](),lc['getMax']());_0x104664['translateL'+'ocal'](0x14c6*0x1+0x194+-0x165a,0x1019+-0x2418+0x13ff*0x1,_0x1a4c72['max']+(-0x1*0x25a6+-0x4d4+0x2a7a+0.1)),_0x279c42['farClip']=_0x1a4c72['max']-_0x1a4c72['min']+(-0x1e28+0x6e2+0x1746+0.2),_0x52d006['projection'+'Compensati'+'on']=_0x1ad085;}}['generateSp'+'litDistanc'+'es'](_0x20441d,_0x25ffa3,_0x3b79ac){_0x20441d['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x3b79ac);for(let _0x4e2864=0x3*-0x487+-0x7cc+0xe*0x187;_0x4e2864<_0x20441d['numCascade'+'s'];_0x4e2864++){const _0x57a232=_0x4e2864/_0x20441d['numCascade'+'s'],_0x2a25d8=_0x25ffa3+(_0x3b79ac-_0x25ffa3)*_0x57a232,_0x4e697f=_0x25ffa3*(_0x3b79ac/_0x25ffa3)**_0x57a232,_0x367c72=Y['lerp'](_0x2a25d8,_0x4e697f,_0x20441d['cascadeDis'+'tribution']);_0x20441d['_shadowCas'+'cadeDistan'+'ces'][_0x4e2864-(-0x1dad+-0x1*-0x2501+-0x753)]=_0x367c72;}}['getLightRe'+'nderPass'](_0x598a41,_0x481ee1){w['assert'](_0x598a41&&_0x598a41['_type']===ve);let _0x2b1133=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x598a41)){const _0x14494a=_0x598a41['numShadowF'+'aces'],_0xfd92eb=_0x598a41['shadowUpda'+'teOverride'+'s'];let _0x1009db=!(0x1f*0xb+0x2*0x1034+-0x1*0x21bd),_0xa0bfa7;for(let _0x34c8f5=0x93a*-0x1+0x9c7+-0x8d;_0x34c8f5<_0x14494a;_0x34c8f5++)(_0xfd92eb==null?void(-0x29*-0xbf+0x1*0x1139+-0x2fd0):_0xfd92eb[_0x34c8f5])===Ps&&(_0x1009db=!(0x91f+-0x1ef*0x3+-0x351*0x1)),_0xa0bfa7=this['shadowRend'+'erer']['prepareFac'+'e'](_0x598a41,_0x481ee1,_0x34c8f5);_0x2b1133=new Fb(this['device'],this['shadowRend'+'erer'],_0x598a41,_0x481ee1,_0x1009db),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x2b1133,_0xa0bfa7,_0x1009db);}return _0x2b1133;}}const rf=new Set(),W_=new te(),$_=new te(),Fr=new Float32Array(0x4*0x28e+-0x1f2e+0x14f8),lo=new re(-0xede*0x2+-0x4*0x171+0x2381,0x1*0x155b+-0xc1e+-0x3*0x314,0x3a7+-0x1600+-0xb*-0x1ab,-0x1*0x26c7+-0x1c91*0x1+0x4358),X_=new te();function Ub(_0x1b5a93,_0x1b8292){return Math['exp'](-(_0x1b5a93*_0x1b5a93)/((0xdd8+-0x1014+0x23e)*_0x1b8292*_0x1b8292));}function Bb(_0x207c81){const _0x3b72bc=(_0x207c81-(0x22ef+-0x1*-0x1967+-0x3c55))/(0x17ae+0x1d28+-0x34d0),_0x5ceadf=(_0x207c81-(0x4e1+0x6d*0x22+-0x1*0x135a))*(-0x2417+-0x670*-0x1+0x1da7*0x1+0.5),_0x309c52=new Array(_0x207c81);let _0x586ccb=0x9*-0x3+0x71*0x57+-0x3*0xcc4;for(let _0x244538=0xd*-0x1c1+0x2*0x84+0x15c5;_0x244538<_0x207c81;++_0x244538)_0x309c52[_0x244538]=Ub(_0x244538-_0x5ceadf,_0x3b72bc),_0x586ccb+=_0x309c52[_0x244538];for(let _0x3fb01d=0xc5*-0x17+-0x3*0x22a+0x1831;_0x3fb01d<_0x207c81;++_0x3fb01d)_0x309c52[_0x3fb01d]/=_0x586ccb;return _0x309c52;}class Cv{constructor(_0x49166f,_0x512cea){h(this,'shadowPass'+'Cache',[]),(this['device']=_0x49166f['device'],this['renderer']=_0x49166f,this['lightTextu'+'reAtlas']=_0x512cea);const _0x4fdf68=this['device']['scope'];this['sourceId']=_0x4fdf68['resolve']('source'),this['pixelOffse'+'tId']=_0x4fdf68['resolve']('pixelOffse'+'t'),this['weightId']=_0x4fdf68['resolve']('weight[0]'),this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x4fdf68['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new pt(),this['blendState'+'NoWrite']=new pt(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(-0xd3*-0xd+-0x23a1+-0x1*-0x18eb),!(-0x361*-0x6+-0x436+-0x1*0x100f),!(-0x3d3+0x9a*0x12+-0x700*0x1),!(0x248c+-0x16f2+-0xd99*0x1));}static['createShad'+'owCamera'](_0x5c67c0,_0xc09880,_0x3e3ad6){const _0x570e03=Wn['create']('ShadowCame'+'ra',_0xc09880,_0x3e3ad6),_0xeeb9f6=qi['get'](_0x5c67c0);w['assert'](_0xeeb9f6);const _0xd2806=(_0xeeb9f6==null?void(-0x2*-0x1051+0x977*-0x3+-0x1*0x43d):_0xeeb9f6['vsm'])??!(0x2014+0xa6b+-0x2a7e),_0x102a27=(_0xeeb9f6==null?void(0x11d6+-0x497+-0xd3f*0x1):_0xeeb9f6['pcf'])??!(-0xd92*-0x1+0x8*0x26b+-0x20e9);return _0xd2806?_0x570e03['clearColor']=new ie(0x5ba+0xe47+-0x3*0x6ab,-0x1c30+0x1716+0x51a,0x257a+0xa7b+-0x2ff5,-0x2289+0x12d2+0xfb7):_0x570e03['clearColor']=new ie(-0x1d81+-0xa05+-0x1*-0x2787,-0x13*0x209+0x3*-0x687+0x3a41*0x1,-0x1473+-0x1db5+0x1*0x3229,0x97e+0x502*-0x7+0x1991),_0x570e03['clearDepth'+'Buffer']=!(0x156c+0x1*-0x46f+-0x10fd),_0x570e03['clearStenc'+'ilBuffer']=!(0x24ca+0xfc*-0x4+-0xaf3*0x3),_0x570e03['clearColor'+'Buffer']=!_0x102a27,_0x570e03;}['_cullShado'+'wCastersIn'+'ternal'](_0x3f6dcd,_0x490c30,_0x5a57f6){const _0x57e8ab=_0x3f6dcd['length'];for(let _0x2d64b7=0x4eb*-0x2+-0x4fb+0xed1;_0x2d64b7<_0x57e8ab;_0x2d64b7++){const _0x14f11c=_0x3f6dcd[_0x2d64b7];_0x14f11c['castShadow']&&(!_0x14f11c['cull']||_0x14f11c['_isVisible'](_0x5a57f6))&&(_0x14f11c['visibleThi'+'sFrame']=!(-0x2583+0xacd*0x1+0x1ab6),_0x490c30['push'](_0x14f11c));}}['cullShadow'+'Casters'](_0xf39ee6,_0x5b1d31,_0x575034,_0xbd64ae,_0x2fb9f7){var _0x248b15,_0x2fb5dd;if((_0x248b15=this['renderer']['scene'])==null||_0x248b15['fire'](mv,_0xbd64ae),_0x575034['length']=0x4*0x16a+-0x1*0x22a6+0x1cfe,_0x2fb9f7)this['_cullShado'+'wCastersIn'+'ternal'](_0x2fb9f7,_0x575034,_0xbd64ae);else{const _0x4b62dc=_0xf39ee6['layerList'],_0x24b922=_0x4b62dc['length'];for(let _0x13bb8f=0x2474+-0x1*-0x172f+-0x3ba3;_0x13bb8f<_0x24b922;_0x13bb8f++){const _0x1590f4=_0x4b62dc[_0x13bb8f];_0x1590f4['_lightsSet']['has'](_0x5b1d31)&&(rf['has'](_0x1590f4)||(rf['add'](_0x1590f4),this['_cullShado'+'wCastersIn'+'ternal'](_0x1590f4['shadowCast'+'ers'],_0x575034,_0xbd64ae)));}rf['clear']();}_0x575034['sort'](this['sortCompar'+'eShader']),(_0x2fb5dd=this['renderer']['scene'])==null||_0x2fb5dd['fire'](_v,_0xbd64ae);}['sortCompar'+'eShader'](_0x2e2513,_0x2e5205){const _0x29ad5e=_0x2e2513['_sortKeySh'+'adow'],_0x16681d=_0x2e5205['_sortKeySh'+'adow'];return _0x29ad5e===_0x16681d?_0x2e5205['mesh']['id']-_0x2e2513['mesh']['id']:_0x16681d-_0x29ad5e;}['setupRende'+'rState'](_0x5df997,_0x39f86b){const _0x5ca225=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x39f86b['_isPcf']:_0x39f86b['_isPcf']&&_0x39f86b['_type']!==Ke;_0x5df997['setBlendSt'+'ate'](_0x5ca225?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x5df997['setDepthSt'+'ate'](_0x39f86b['shadowDept'+'hState']),_0x5df997['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x199a6b,_0x4af497,_0x3e32e8,_0x8ea0d3){const _0x10d13f=_0x4af497['_node'];_0x199a6b['_type']!==ve&&(this['renderer']['dispatchVi'+'ewPos'](_0x10d13f['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x199a6b['attenuatio'+'nEnd'])),W_['setTRS'](_0x10d13f['getPositio'+'n'](),_0x10d13f['getRotatio'+'n'](),D['ONE'])['invert'](),$_['mul2'](_0x4af497['projection'+'Matrix'],W_);const _0x35d4a9=_0x3e32e8['shadowView'+'port'];_0x4af497['rect']=_0x35d4a9,_0x4af497['scissorRec'+'t']=_0x3e32e8['shadowScis'+'sor'],X_['setViewpor'+'t'](_0x35d4a9['x'],_0x35d4a9['y'],_0x35d4a9['z'],_0x35d4a9['w']),_0x3e32e8['shadowMatr'+'ix']['mul2'](X_,$_),_0x199a6b['_type']===ve&&_0x199a6b['_shadowMat'+'rixPalette']['set'](_0x3e32e8['shadowMatr'+'ix']['data'],_0x8ea0d3*(-0x139b+-0x26c8+0x3a73*0x1));}['getShadowP'+'ass'](_0x4a523c){var _0x5dd3cc;const _0x422d2d=_0x4a523c['_type'],_0x233f90=_0x4a523c['_shadowTyp'+'e'];let _0x1e9fcb=(_0x5dd3cc=this['shadowPass'+'Cache'][_0x422d2d])==null?void(0x240a+-0x1*-0x1f16+-0x4320):_0x5dd3cc[_0x233f90];if(!_0x1e9fcb){const _0x353a89='ShadowPass'+'_'+_0x422d2d+'_'+_0x233f90;_0x1e9fcb=Si['get'](this['device'])['allocate'](_0x353a89,{'isShadow':!(0x2*-0xec+-0x1b23*-0x1+-0x194b),'lightType':_0x422d2d,'shadowType':_0x233f90}),this['shadowPass'+'Cache'][_0x422d2d]||(this['shadowPass'+'Cache'][_0x422d2d]=[]),this['shadowPass'+'Cache'][_0x422d2d][_0x233f90]=_0x1e9fcb;}return _0x1e9fcb['index'];}['submitCast'+'ers'](_0x22ba40,_0x5256db,_0x12ed3f){var _0x48436a;const _0x4711b1=this['device'],_0x45a4a0=this['renderer'],_0x4de08a=_0x45a4a0['scene'],_0x3142ae=-0x359+0x16e3+-0x1389*0x1<<cm,_0x42a471=this['getShadowP'+'ass'](_0x5256db),_0x4bc2da=_0x12ed3f['shaderPara'+'ms'],_0x136aa1=_0x12ed3f['renderTarg'+'et']['flipY']?-(-0x1*-0xfa7+0x3a5+-0x1*0x134b):0x223*-0x4+-0xeaf+0xb9e*0x2,_0x11896a=_0x22ba40['length'];for(let _0x4cd441=-0x30b*0x9+0x2101*-0x1+0x3c64;_0x4cd441<_0x11896a;_0x4cd441++){const _0x4300f5=_0x22ba40[_0x4cd441],_0x2dd262=_0x4300f5['mesh'],_0x56292f=_0x4300f5['instancing'+'Data'];if(_0x56292f&&_0x56292f['count']<=-0x5*-0x32d+-0x70+-0xf71)continue;_0x4300f5['ensureMate'+'rial'](_0x4711b1);const _0x21fb9f=_0x4300f5['material'];Q['pushGpuMar'+'ker'](_0x4711b1,'Node:\x20'+_0x4300f5['node']['name']+(',\x20Material'+':\x20')+_0x21fb9f['name']),_0x45a4a0['setBaseCon'+'stants'](_0x4711b1,_0x21fb9f),_0x45a4a0['setSkinnin'+'g'](_0x4711b1,_0x4300f5),_0x21fb9f['dirty']&&(_0x21fb9f['updateUnif'+'orms'](_0x4711b1,_0x4de08a),_0x21fb9f['dirty']=!(-0x1ebc+-0x557+0x2*0x120a)),_0x45a4a0['setupCullM'+'ode'](!(0xc85*-0x1+-0x8c9+0x154e),_0x136aa1,_0x4300f5),_0x21fb9f['setParamet'+'ers'](_0x4711b1),_0x4300f5['setParamet'+'ers'](_0x4711b1,_0x3142ae);const _0x436a48=_0x4300f5['getShaderI'+'nstance'](_0x42a471,0x2c*0x4+0xaf0+0x2e8*-0x4,_0x4de08a,_0x4bc2da,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x2ceba8=_0x436a48['shader'];if(w['assert'](_0x2ceba8,'no\x20shader\x20'+'for\x20pass\x20'+_0x42a471,_0x21fb9f),_0x2ceba8['failed'])continue;_0x4300f5['_sortKeySh'+'adow']=_0x2ceba8['id'],_0x4711b1['setShader'](_0x2ceba8),_0x45a4a0['setVertexB'+'uffers'](_0x4711b1,_0x2dd262),_0x45a4a0['setMorphin'+'g'](_0x4711b1,_0x4300f5['morphInsta'+'nce']),_0x56292f&&_0x4711b1['setVertexB'+'uffer'](_0x56292f['vertexBuff'+'er']),_0x45a4a0['setMeshIns'+'tanceMatri'+'ces'](_0x4300f5),_0x45a4a0['setupMeshU'+'niformBuff'+'ers'](_0x436a48);const _0x116b9c=_0x4300f5['renderStyl'+'e'],_0x5698ba=(_0x48436a=_0x4300f5['indirectDa'+'ta'])==null?void(0xd2+0x4*-0x679+-0x1*-0x1912):_0x48436a['get'](_0x12ed3f);_0x4711b1['draw'](_0x2dd262['primitive'][_0x116b9c],_0x2dd262['indexBuffe'+'r'][_0x116b9c],_0x56292f==null?void(-0x985+0x1a3b+-0x10b6):_0x56292f['count'],_0x5698ba),_0x45a4a0['_shadowDra'+'wCalls']++,_0x56292f&&_0x45a4a0['_instanced'+'DrawCalls']++,Q['popGpuMark'+'er'](_0x4711b1);}}['needsShado'+'wRendering'](_0x57f1df){const _0x51364c=_0x57f1df['enabled']&&_0x57f1df['castShadow'+'s']&&_0x57f1df['shadowUpda'+'teMode']!==Ps&&_0x57f1df['visibleThi'+'sFrame'];return _0x57f1df['shadowUpda'+'teMode']===xr&&(_0x57f1df['shadowUpda'+'teMode']=Ps),_0x51364c&&(this['renderer']['_shadowMap'+'Updates']+=_0x57f1df['numShadowF'+'aces']),_0x51364c;}['getLightRe'+'nderData'](_0x1917cc,_0x29bc1f,_0x1a3c0f){return _0x1917cc['getRenderD'+'ata'](_0x1917cc['_type']===ve?_0x29bc1f:null,_0x1a3c0f);}['setupRende'+'rPass'](_0xeddfe,_0x496681,_0x46abe9){const _0x31a79f=_0x496681['renderTarg'+'et'];_0xeddfe['init'](_0x31a79f),_0xeddfe['depthStenc'+'ilOps']['clearDepth'+'Value']=-0x1*0x177d+0x4f*0xa+0x1*0x1468,_0xeddfe['depthStenc'+'ilOps']['clearDepth']=_0x46abe9,_0x31a79f['depthBuffe'+'r']?_0xeddfe['depthStenc'+'ilOps']['storeDepth']=!(-0x456*-0x5+-0x31f*-0x1+0x1*-0x18cd):(_0xeddfe['colorOps']['clearValue']['copy'](_0x496681['clearColor']),_0xeddfe['colorOps']['clear']=_0x46abe9,_0xeddfe['depthStenc'+'ilOps']['storeDepth']=!(0xb5f+-0x9*0x22e+0x1*0x840)),_0xeddfe['requiresCu'+'bemaps']=!(0x13d*-0x1b+0x24d7+0x1*-0x367);}['prepareFac'+'e'](_0x12c989,_0x5e8bcf,_0x148293){const _0x1af5df=_0x12c989['_type'],_0x1437c9=this['getLightRe'+'nderData'](_0x12c989,_0x5e8bcf,_0x148293)['shadowCame'+'ra'],_0x5e339f=_0x1af5df===ve?-0x84e*0x1+-0xa67*0x1+0x12b5:_0x148293;return _0x1437c9['renderTarg'+'et']=_0x12c989['_shadowMap']['renderTarg'+'ets'][_0x5e339f],_0x1437c9;}['renderFace'](_0x1eea65,_0x46eafc,_0x3d0d7f,_0x366bfb,_0x571d03=!(-0xe99+-0x1cc3+-0x6*-0x73a)){const _0x268b20=this['device'],_0x298c42=de();Q['pushGpuMar'+'ker'](_0x268b20,'SHADOW\x20'+_0x1eea65['_node']['name']+'\x20FACE\x20'+_0x3d0d7f);const _0x303193=this['getLightRe'+'nderData'](_0x1eea65,_0x46eafc,_0x3d0d7f),_0x2ef53a=_0x303193['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x1eea65,_0x2ef53a,_0x303193,_0x3d0d7f);const _0x1ac50a=_0x2ef53a['renderTarg'+'et'],_0x2502ff=this['renderer'];_0x2502ff['setCameraU'+'niforms'](_0x2ef53a,_0x1ac50a),_0x268b20['supportsUn'+'iformBuffe'+'rs']&&_0x2502ff['setupViewU'+'niformBuff'+'ers'](_0x303193['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],null),_0x571d03?(_0x2502ff['setupViewp'+'ort'](_0x2ef53a,_0x1ac50a),_0x366bfb&&_0x2502ff['clear'](_0x2ef53a)):_0x2502ff['clearView'](_0x2ef53a,_0x1ac50a,!(-0x1f*-0x3f+0x1*-0x4bd+-0x2e4),!(-0x1c7a+0x167*-0x1b+0x8*0x84b)),this['setupRende'+'rState'](_0x268b20,_0x1eea65),this['submitCast'+'ers'](_0x303193['visibleCas'+'ters'],_0x1eea65,_0x2ef53a),Q['popGpuMark'+'er'](_0x268b20),_0x2502ff['_shadowMap'+'Time']+=de()-_0x298c42;}['render'](_0x1129e6,_0x3220db,_0x50af09=!(0x565*-0x5+0x18f6+0x203)){if(this['needsShado'+'wRendering'](_0x1129e6)){const _0x2dad99=_0x1129e6['numShadowF'+'aces'];for(let _0x468f9d=0x22a3+-0x587*-0x2+-0x2db1;_0x468f9d<_0x2dad99;_0x468f9d++)this['prepareFac'+'e'](_0x1129e6,_0x3220db,_0x468f9d),this['renderFace'](_0x1129e6,_0x3220db,_0x468f9d,!(0x469*0x5+0x3*0xcf9+-0x1e7c*0x2),_0x50af09);this['renderVsm'](_0x1129e6,_0x3220db);}}['renderVsm'](_0x54120c,_0xf489a3){_0x54120c['_isVsm']&&_0x54120c['_vsmBlurSi'+'ze']>0x11*-0xe9+0x1*0x20a1+-0x1127&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x54120c['_type']===ve)&&this['applyVsmBl'+'ur'](_0x54120c,_0xf489a3);}['getVsmBlur'+'Shader'](_0x3921a1,_0x5ba2ed){const _0x2a09fb=this['blurVsmSha'+'der'];let _0x1dd2cd=_0x2a09fb[_0x3921a1][_0x5ba2ed];if(!_0x1dd2cd){this['blurVsmWei'+'ghts'][_0x5ba2ed]=Bb(_0x5ba2ed);const _0x53654f=new Map();_0x53654f['set']('{SAMPLES}',_0x5ba2ed),_0x3921a1===-0x1a24+-0x526+0x1f4b*0x1&&_0x53654f['set']('GAUSS',''),_0x1dd2cd=$t['createShad'+'er'](this['device'],{'uniqueName':'blurVsm'+_0x3921a1+_0x5ba2ed,'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'blurVSMPS','fragmentDefines':_0x53654f}),_0x2a09fb[_0x3921a1][_0x5ba2ed]=_0x1dd2cd;}return _0x1dd2cd;}['applyVsmBl'+'ur'](_0x34386a,_0x1ed0f4){const _0x5d073f=this['device'];Q['pushGpuMar'+'ker'](_0x5d073f,'VSM\x20'+_0x34386a['_node']['name']),_0x5d073f['setBlendSt'+'ate'](pt['NOBLEND']);const _0x225bce=_0x34386a['getRenderD'+'ata'](_0x34386a['_type']===ve?_0x1ed0f4:null,-0x1*-0xd22+-0x1809+-0x1*-0xae7)['shadowCame'+'ra']['renderTarg'+'et'],_0x1540eb=this['renderer']['shadowMapC'+'ache']['get'](_0x5d073f,_0x34386a),_0x5a3551=_0x1540eb['renderTarg'+'ets'][-0x1f31+0xd8f+-0x3d*-0x4a],_0x5ace3b=_0x34386a['vsmBlurMod'+'e'],_0x99a6a8=_0x34386a['_vsmBlurSi'+'ze'],_0x2827d8=this['getVsmBlur'+'Shader'](_0x5ace3b,_0x99a6a8);lo['z']=_0x34386a['_shadowRes'+'olution']-(0x2694*-0x1+-0x7d*0x6+-0xa61*-0x4),lo['w']=lo['z'],this['sourceId']['setValue'](_0x225bce['colorBuffe'+'r']),Fr[-0x106e+-0x4*0x5a8+0x270e]=(-0x150d+0x24e0+-0x12*0xe1)/_0x34386a['_shadowRes'+'olution'],Fr[-0x14*-0x49+0x2546+-0x2af9]=0xb0e+-0x7*-0x251+0xd*-0x219,this['pixelOffse'+'tId']['setValue'](Fr),_0x5ace3b===em&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x99a6a8]),Ar(_0x5d073f,_0x5a3551,_0x2827d8,null,lo),this['sourceId']['setValue'](_0x5a3551['colorBuffe'+'r']),Fr[0xa6*-0x2c+0x3d1+-0xe2*-0x1c]=Fr[0x149f*-0x1+0x1f79+0x1*-0xada],Fr[-0xda*-0x20+-0xadb*0x3+0x1*0x551]=0x1*-0xcbb+-0x1135+-0x1*-0x1df0,this['pixelOffse'+'tId']['setValue'](Fr),Ar(_0x5d073f,_0x225bce,_0x2827d8,null,lo),this['renderer']['shadowMapC'+'ache']['add'](_0x34386a,_0x1540eb),Q['popGpuMark'+'er'](_0x5d073f);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new zy(this['device'],[new dt('matrix_vie'+'wProjectio'+'n',li)]),this['viewBindGr'+'oupFormat']=new Ny(this['device'],[new kp(Np,Fp|by)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const cc=[];class zb{constructor(_0x215ba0){h(this,'_empty',null),h(this,'_allocated',[]),h(this,'_clusters',new Map()),this['device']=_0x215ba0;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x1b90e3=>{_0x1b90e3['destroy']();}),this['_allocated']['length']=0x24bc+0x12f0+-0x4*0xdeb;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x1660ef=new cu(this['device']);_0x1660ef['name']='ClusterEmp'+'ty',_0x1660ef['update']([]),this['_empty']=_0x1660ef;}return this['_empty'];}['assign'](_0x38141e){const _0x1e3e6f=this['empty'];cc['push'](...this['_allocated']),this['_allocated']['length']=-0x7*0x4bd+-0x471*0x1+0x259c,this['_clusters']['clear']();const _0x8f851=_0x38141e['length'];for(let _0xb9f2ce=-0x5e0+-0x1a2b*-0x1+0x40f*-0x5;_0xb9f2ce<_0x8f851;_0xb9f2ce++){const _0x71f19b=_0x38141e[_0xb9f2ce]['renderActi'+'ons'];if(_0x71f19b){const _0x588e86=_0x71f19b['length'];for(let _0x190f4b=-0x78a+-0x10c3+0x184d;_0x190f4b<_0x588e86;_0x190f4b++){const _0x4386f9=_0x71f19b[_0x190f4b];_0x4386f9['lightClust'+'ers']=null;const _0x1b01ba=_0x4386f9['layer'];if(_0x1b01ba['hasCluster'+'edLights']&&_0x1b01ba['meshInstan'+'ces']['length']){const _0x41fedc=_0x1b01ba['getLightId'+'Hash'](),_0x202e48=this['_clusters']['get'](_0x41fedc);let _0x13238a=_0x202e48==null?void(-0x1230+0x1d*0x5+-0x119f*-0x1):_0x202e48['lightClust'+'ers'];_0x13238a||(_0x13238a=cc['pop']()??new cu(this['device']),Ea['setName'](_0x13238a,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x13238a),this['_clusters']['set'](_0x41fedc,_0x4386f9)),_0x4386f9['lightClust'+'ers']=_0x13238a;}_0x4386f9['lightClust'+'ers']||(_0x4386f9['lightClust'+'ers']=_0x1e3e6f);}}}cc['forEach'](_0xefffb8=>_0xefffb8['destroy']()),cc['length']=0x25*-0xe2+-0x1*0x165a+0x3704;}['update'](_0x4e88b3,_0x5d0e0){this['assign'](_0x4e88b3),this['_clusters']['forEach'](_0x4676e4=>{const _0x30c577=_0x4676e4['layer'];_0x4676e4['lightClust'+'ers']['update'](_0x30c577['clusteredL'+'ightsSet'],_0x5d0e0);});}}const rr=new re(),af=[];class pm extends ys{constructor(_0x357326,_0x19e551){super(_0x357326),h(this,'_quadRende'+'rer2D',null),h(this,'_quadRende'+'rerCube',null),h(this,'_filteredL'+'ights',[]),h(this,'_forceCopy',!(-0x98+0x190*0x13+-0x1*0x1d17)),h(this,'_evtDevice'+'Restored',null),(this['_cubeSlots'+'Offsets']=_0x19e551,this['requiresCu'+'bemaps']=!(-0xb27*0x2+0x7cf+0xe80),this['blitTextur'+'eId']=_0x357326['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0x357326['scope']['resolve']('invViewPro'+'j'),this['_evtDevice'+'Restored']=_0x357326['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this));}['destroy'](){var _0x2ff64b,_0x502176,_0xba8d36;(_0x2ff64b=this['_quadRende'+'rer2D'])==null||_0x2ff64b['destroy'](),this['_quadRende'+'rer2D']=null,(_0x502176=this['_quadRende'+'rerCube'])==null||_0x502176['destroy'](),this['_quadRende'+'rerCube']=null,(_0xba8d36=this['_evtDevice'+'Restored'])==null||_0xba8d36['off'](),this['_evtDevice'+'Restored']=null;}static['create'](_0x394586,_0x212ed0){w['assert'](_0x394586);const _0x132e74=new pm(_0x394586['device'],_0x212ed0);return _0x132e74['init'](_0x394586),_0x132e74['colorOps']['clear']=!(0x6*0x407+-0x716*-0x1+-0x1f3f),_0x132e74['depthStenc'+'ilOps']['clearDepth']=!(-0x12f0*0x1+-0x2*0x542+-0x1*-0x1d75),_0x132e74;}['onDeviceRe'+'stored'](){this['_forceCopy']=!(-0xc22+0x5*0x47d+-0xd*0xcb);}['update'](_0x4f73d0){const _0x1312b6=this['_filteredL'+'ights'];this['filter'](_0x4f73d0,_0x1312b6),this['executeEna'+'bled']=_0x1312b6['length']>-0x15b5+-0x6c6*-0x2+0x829;}['filter'](_0x2cdae6,_0x1fe344){for(let _0x17d636=-0x2f5+-0xb*-0x52+-0x91;_0x17d636<_0x2cdae6['length'];_0x17d636++){const _0xbf3c86=_0x2cdae6[_0x17d636];_0xbf3c86['_type']!==ve&&_0xbf3c86['atlasViewp'+'ortAllocat'+'ed']&&(!_0xbf3c86['atlasSlotU'+'pdated']&&!this['_forceCopy']||_0xbf3c86['enabled']&&_0xbf3c86['cookie']&&_0xbf3c86['visibleThi'+'sFrame']&&_0x1fe344['push'](_0xbf3c86));}this['_forceCopy']=!(0x778+-0x1*0x869+0xf2);}['initInvVie'+'wProjMatri'+'ces'](){if(!af['length'])for(let _0x5c2b03=0x1*-0x22be+0x5*0x3c+0x2192;_0x5c2b03<0xb2*-0x1+-0x13e*-0x1d+-0x234e;_0x5c2b03++){const _0x290771=Wn['create'](null,Ke,_0x5c2b03),_0x502fd9=_0x290771['projection'+'Matrix'],_0x5894f4=_0x290771['node']['getLocalTr'+'ansform']()['clone']()['invert']();af[_0x5c2b03]=new te()['mul2'](_0x502fd9,_0x5894f4)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x37cc55=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'erer2d','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'2DPS'});this['_quadRende'+'rer2D']=new Ah(_0x37cc55);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x18d784=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'ererCube','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'CubePS'});this['_quadRende'+'rerCube']=new Ah(_0x18d784);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x456de5=this['device'];_0x456de5['setBlendSt'+'ate'](pt['NOBLEND']),_0x456de5['setCullMod'+'e'](bt),_0x456de5['setDepthSt'+'ate'](Yt['NODEPTH']),_0x456de5['setStencil'+'State']();const _0x57078b=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x1a1c13=this['_cubeSlots'+'Offsets'],_0x2e8280=this['_filteredL'+'ights'];for(let _0x20adb6=-0x1*-0x2e+-0x1487+-0x1459*-0x1;_0x20adb6<_0x2e8280['length'];_0x20adb6++){const _0x25eb05=_0x2e8280[_0x20adb6];Q['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x25eb05['_node']['name']);const _0x217eac=_0x25eb05['numShadowF'+'aces'],_0x44e89b=_0x217eac>-0x1e71*-0x1+-0x3*-0x47+-0x1f45?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x217eac>-0x489+-0x9f6*-0x1+-0x1*0x56c&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x25eb05['cookie']);for(let _0x193405=0x199d*-0x1+-0x20b4+0x3a51;_0x193405<_0x217eac;_0x193405++){if(rr['copy'](_0x25eb05['atlasViewp'+'ort']),_0x217eac>-0x16*-0x8e+0x1a77+-0x26aa){const _0x144a12=rr['z']/(0x117*0x13+0x1*-0x241d+0xf6b),_0x4ba258=_0x1a1c13[_0x193405];rr['x']+=_0x144a12*_0x4ba258['x'],rr['y']+=_0x144a12*_0x4ba258['y'],rr['z']=_0x144a12,rr['w']=_0x144a12,this['invViewPro'+'jId']['setValue'](af[_0x193405]['data']);}rr['mulScalar'](_0x57078b),_0x44e89b['render'](rr);}Q['popGpuMark'+'er'](_0x456de5);}_0x2e8280['length']=-0x4b3+-0x31*0xc1+-0x19a*-0x1a;}}class Vb extends ys{constructor(_0x1441c1,_0x294068,_0x456a0d){super(_0x1441c1),this['requiresCu'+'bemaps']=!(-0x2097+-0x115e+0x31f6),this['shadowRend'+'erer']=_0x294068,this['shadowRend'+'ererLocal']=_0x456a0d;}['update'](_0x2c9fb5){const _0x3b3a66=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x34ae4e=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x3b3a66,_0x2c9fb5),_0x1da615=_0x3b3a66['length'];this['enabled']=_0x1da615>-0x15bc+0x1b8a+-0x5ce,_0x1da615&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0x34ae4e,!(0x7*-0x200+-0x1*-0xb53+0x2ae));}['execute'](){const _0x3e95f6=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x13c357=_0x3e95f6['length'];for(let _0x591a48=0x1*-0x1f05+0x34e+0x2b*0xa5;_0x591a48<_0x13c357;_0x591a48++){const _0x5f0427=_0x3e95f6[_0x591a48];for(let _0x59d509=-0x173d*0x1+0xe*-0x191+0x2d2b;_0x59d509<_0x5f0427['numShadowF'+'aces'];_0x59d509++)this['shadowRend'+'erer']['renderFace'](_0x5f0427,null,_0x59d509,!(0x15a1*-0x1+0x21ff+-0xc5e));}_0x3e95f6['length']=0x1cd3+0x1*0x62f+-0x2302;}}class Gb extends ys{constructor(_0x34b5c4,_0x37a678,_0x2828f8,_0x36b1bd,_0x586843){super(_0x34b5c4),this['renderer']=_0x37a678,this['frameGraph']=null,this['cookiesRen'+'derPass']=pm['create'](_0x586843['cookieRend'+'erTarget'],_0x586843['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new Vb(_0x34b5c4,_0x2828f8,_0x36b1bd),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x51fa84,_0x148710,_0x2a26cc,_0x3d8c69,_0x2d7f9b){this['frameGraph']=_0x51fa84,this['cookiesRen'+'derPass']['enabled']=_0x2a26cc,_0x2a26cc&&this['cookiesRen'+'derPass']['update'](_0x3d8c69),this['shadowRend'+'erPass']['enabled']=_0x148710,_0x148710&&this['shadowRend'+'erPass']['update'](_0x2d7f9b);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x592f31=de(),{renderer:_0x519637}=this,{scene:_0x27239e}=_0x519637;_0x519637['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x27239e['lighting']),_0x519637['_lightClus'+'tersTime']+=de()-_0x592f31,_0x519637['_lightClus'+'ters']=_0x519637['worldClust'+'ersAllocat'+'or']['count'];}}let nf=-0x9*0x18d+0x2*0xfbf+-0x1189;const ar=new te(),nr=new te(),Oa=new te(),q_=new _i(),of=new sp(),j_=new te()['setScale'](-0xf71+0x227*0xe+-0xeb0,-(0x2235+-0x6a*-0x2b+-0x3402),-0x26ce*-0x1+-0x874+-0x1e59),lf=new Set(),cf=new Set(),hf=new ky(),Y_=new te()['set']([0x481*0x7+-0x8*-0x124+-0x56*0x79,0x1*0x80e+0x6f0+0x2*-0x77f,-0x2339+-0x2*0x981+0x363b,0x1*-0x1145+-0x318+0xd*0x191,-0xf6b*0x1+-0x257*0x5+0x1b1e,0x175*-0x11+-0x1d*0x14e+-0x2*-0x1f4e,-0x144c+0x1aa0+-0x654,-0x67*0x11+-0x12cf+0x19a6,-0x1d22+-0x1*-0xde0+0xf42,-0x102c+-0x8b*0x38+0x2e94,-0x667+0x24db*-0x1+0x2b42+0.5,-0x218a*0x1+-0x26d4+0x485e,0xeaa*-0x1+-0x1aad+-0x13*-0x22d,0x361*0x4+-0xa06+0x6*-0x95,-0x1*0x1a0f+-0x22*-0x125+-0xcdb+0.5,0xb3*0x4+-0x1269+0x1*0xf9e]),K_=[new J(-0x152b*0x1+-0x1ac0+0x9*0x553+0.5,0x663*-0x1+-0xbbb+0x121e+0.333333),new J(-0x1cfb+0x1*0x23ed+-0x6f2+0.25,0x125c+-0x1fc4+-0xb*-0x138+0.666667),new J(-0x3*-0x39+0x244e+0x3*-0xc53+0.75,-0x9*-0x3f9+-0x171a+-0x4f*0x29+0.111111),new J(-0xb90+0x2591+-0x1a01+0.125,0x7d5+0x1e*-0x7e+0x6ef+0.444444),new J(0x19*-0xb3+0x13a*0xb+0x3fd+0.625,0x232b+0x1*0xf1c+-0x3247+0.777778),new J(0x4f0+0xddb+-0x11*0x11b+0.375,-0x1*0x1ebe+-0x4bf+-0x719*-0x5+0.222222),new J(-0x1*-0x757+0x1ec2+-0x2619+0.875,-0x193*-0x8+0xd6*0x17+0x1fd2*-0x1+0.555556),new J(0xa*-0x107+-0xd11+0x1757+0.0625,-0x90*-0xb+-0x435*0x5+0xed9+0.888889),new J(-0xca2+-0x1*0x2173+0x2e15+0.5625,-0xca+-0x9fa*0x1+0xac4+0.037037),new J(0x1aa2*0x1+0x1ebd+-0x395f+0.3125,-0x127+0x1*-0x1877+-0x2*-0xccf+0.37037),new J(0x1*-0x1ed1+-0x1b*0xe1+0x4*0xda3+0.8125,-0xb4a+0x15b9+-0xa6f*0x1+0.703704),new J(0x115*-0x1+0x11b9*0x1+0x354*-0x5+0.1875,0x11b4*-0x2+-0x1d4f+0x40b7+0.148148),new J(0xa54*-0x3+-0x14a3+0x339f+0.6875,-0x616+0x1c3+0x453+0.481481),new J(-0x101*-0x21+0x232f+-0x4450+0.4375,-0x8d*-0x2c+-0x1f58+0x71c+0.814815),new J(0x1eac+0xf*0xad+0x28cf*-0x1+0.9375,0x1*0x79b+0x1db5+-0x31c*0xc+0.259259),new J(-0x8c7+-0x1263*0x1+0x1b2a+0.03125,-0x107c+-0x7f*0x1+0x26d*0x7+0.592593)],Hb=new te(),Wb=new te(),$b=new te(),Xb=new te(),qb=new te(),jb=new te(),Fa=new Set(),df=[],ff=[];class Yb{constructor(_0x54f6a1){h(this,'clustersDe'+'bugRendere'+'d',!(-0x1099+-0x139c+0x2436)),h(this,'processing'+'MeshInstan'+'ces',new Set()),h(this,'worldClust'+'ersAllocat'+'or'),h(this,'lights',[]),h(this,'localLight'+'s',[]),h(this,'cameraDirS'+'hadowLight'+'s',new Map()),h(this,'dirLightSh'+'adows',new Map()),h(this,'blueNoise',new wb(0x567*0x4+0x494+-0x1*0x19b5)),(this['device']=_0x54f6a1,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new zb(_0x54f6a1),this['lightTextu'+'reAtlas']=new Ib(_0x54f6a1),this['shadowMapC'+'ache']=new Lb(),this['shadowRend'+'erer']=new Cv(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new Ob(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new kb(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new Gb(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=0x1d69*-0x1+-0x197b+0x36e4,this['_morphTime']=-0xb*0xe2+0x95*0x35+-0x1523,this['_cullTime']=-0x1*0x1c4+0x16*0x18+-0x4c,this['_shadowMap'+'Time']=0x2234+0xcd+-0x57*0x67,this['_lightClus'+'tersTime']=0x1*-0xddb+-0xccc+0x1aa7,this['_layerComp'+'ositionUpd'+'ateTime']=-0x1*0x1c77+0x13f*0x18+-0x171,this['_shadowDra'+'wCalls']=-0x20af+0xa1c+0x1693,this['_skinDrawC'+'alls']=0x532*-0x7+0x2*0x855+-0x4ed*-0x4,this['_instanced'+'DrawCalls']=-0x1*-0x25d1+-0x1c95+-0x93c,this['_shadowMap'+'Updates']=0x25d8+0x29*0xf2+-0x4c9a,this['_numDrawCa'+'llsCulled']=-0x2*0x7eb+0x35*-0x78+-0x1*-0x28ae,this['_camerasRe'+'ndered']=-0x26b2+-0x963+0x3*0x1007,this['_lightClus'+'ters']=0x17b1+-0x2110+0x95f);const _0x79aef6=_0x54f6a1['scope'];this['boneTextur'+'eId']=_0x79aef6['resolve']('texture_po'+'seMap'),this['modelMatri'+'xId']=_0x79aef6['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0x79aef6['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0x79aef6['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(-0x1be3+-0x38f*0x7+-0x34cf*-0x1),this['viewPosId']=_0x79aef6['resolve']('view_posit'+'ion'),this['projId']=_0x79aef6['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0x79aef6['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0x79aef6['resolve']('matrix_vie'+'w'),this['viewId3']=_0x79aef6['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0x79aef6['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0x79aef6['resolve']('projection'+'FlipY'),this['tbnBasis']=_0x79aef6['resolve']('tbnBasis'),this['nearClipId']=_0x79aef6['resolve']('camera_nea'+'r'),this['farClipId']=_0x79aef6['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(0x14a8*-0x1+0x1c6d+-0x7c1*0x1),this['cameraPara'+'msId']=_0x79aef6['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0x79aef6['resolve']('view_index'),this['viewIndexI'+'d']['setValue'](0x6fb*0x1+0x1286+-0x1981),this['blueNoiseJ'+'itterVersi'+'on']=0x1439+0x1*0x23bf+-0x37f8,this['blueNoiseJ'+'itterVec']=new re(),this['blueNoiseJ'+'itterData']=new Float32Array(0x18f1+0x11*0x10a+-0x2a97),this['blueNoiseJ'+'itterId']=_0x79aef6['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0x79aef6['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0x79aef6['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0x79aef6['resolve']('texture_op'+'acityMap'),this['exposureId']=_0x79aef6['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0x79aef6['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](-0x52b+0x14fb+-0xb0*0x17),this['morphPosit'+'ionTex']=_0x79aef6['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0x79aef6['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0x79aef6['resolve']('morph_tex_'+'params'),this['lightCube']=new bb(),this['constantLi'+'ghtCube']=_0x79aef6['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['setupViewp'+'ort'](_0x599599,_0x675592){const _0x15eba6=this['device'],_0x4418b2=_0x675592?_0x675592['width']:_0x15eba6['width'],_0x30ede5=_0x675592?_0x675592['height']:_0x15eba6['height'],_0x11b213=_0x599599['rect'];let _0x5b67ac=Math['floor'](_0x11b213['x']*_0x4418b2),_0x2e9e6a=Math['floor'](_0x11b213['y']*_0x30ede5),_0x439be8=Math['floor'](_0x11b213['z']*_0x4418b2),_0x3b2b1e=Math['floor'](_0x11b213['w']*_0x30ede5);if(_0x15eba6['setViewpor'+'t'](_0x5b67ac,_0x2e9e6a,_0x439be8,_0x3b2b1e),_0x599599['_scissorRe'+'ctClear']){const _0x284371=_0x599599['scissorRec'+'t'];_0x5b67ac=Math['floor'](_0x284371['x']*_0x4418b2),_0x2e9e6a=Math['floor'](_0x284371['y']*_0x30ede5),_0x439be8=Math['floor'](_0x284371['z']*_0x4418b2),_0x3b2b1e=Math['floor'](_0x284371['w']*_0x30ede5);}_0x15eba6['setScissor'](_0x5b67ac,_0x2e9e6a,_0x439be8,_0x3b2b1e);}['setCameraU'+'niforms'](_0x266104,_0x15731a){var _0x5ce929,_0x36827c;const _0x3380cb=_0x15731a==null?void(0x1*0x2465+-0x1e6c+0x1*-0x5f9):_0x15731a['flipY'];let _0x46d0d7=null;if(_0x266104['xr']&&_0x266104['xr']['session']){const _0x45e882=((_0x36827c=(_0x5ce929=_0x266104['_node'])==null?void(0x1*0x45e+-0x2212+-0x76d*-0x4):_0x5ce929['parent'])==null?void(0x2*0x19c+-0xba0+-0x21a*-0x4):_0x36827c['getWorldTr'+'ansform']())||null;_0x46d0d7=_0x266104['xr']['views']['list'];for(let _0x1c3df3=0x802+0x1e44+-0x2646;_0x1c3df3<_0x46d0d7['length'];_0x1c3df3++){const _0xf828b0=_0x46d0d7[_0x1c3df3];_0xf828b0['updateTran'+'sforms'](_0x45e882),_0x266104['frustum']['setFromMat'+'4'](_0xf828b0['projViewOf'+'fMat']);}}else{let _0x4f7343=_0x266104['projection'+'Matrix'];_0x266104['calculateP'+'rojection']&&_0x266104['calculateP'+'rojection'](_0x4f7343,ec);let _0x1cd74c=_0x266104['getProject'+'ionMatrixS'+'kybox']();_0x3380cb&&(_0x4f7343=Hb['mul2'](j_,_0x4f7343),_0x1cd74c=Wb['mul2'](j_,_0x1cd74c)),this['device']['isWebGPU']&&(_0x4f7343=$b['mul2'](Y_,_0x4f7343),_0x1cd74c=Xb['mul2'](Y_,_0x1cd74c));const {jitter:_0x652f1c}=_0x266104;let _0x2d7fe6=0x1*0x94f+-0x507+0x112*-0x4,_0x1cedb8=-0x1e1*-0x1+-0x7ac+-0x5cb*-0x1;if(_0x652f1c>0x859+0xcc*-0x11+0x533){const _0x2b4b06=_0x15731a?_0x15731a['width']:this['device']['width'],_0x49700a=_0x15731a?_0x15731a['height']:this['device']['height'],_0x34a8fd=K_[this['device']['renderVers'+'ion']%K_['length']];_0x2d7fe6=_0x652f1c*(_0x34a8fd['x']*(0x1777+-0x157d*0x1+-0x1f8)-(-0x1f54*-0x1+0xd46+-0x7*0x65f))/_0x2b4b06,_0x1cedb8=_0x652f1c*(_0x34a8fd['y']*(0x13a1+0xfc1*-0x1+0x6e*-0x9)-(-0x2b6+-0x189d+0x2c*0x9f))/_0x49700a,_0x4f7343=qb['copy'](_0x4f7343),_0x4f7343['data'][-0x266b+-0x17df*-0x1+0xe94]=_0x2d7fe6,_0x4f7343['data'][-0x17*0x13f+-0x17*0xa5+0x2b85]=_0x1cedb8,_0x1cd74c=jb['copy'](_0x1cd74c),_0x1cd74c['data'][-0x1*-0xf79+-0x1358*0x2+0x173f]=_0x2d7fe6,_0x1cd74c['data'][-0x2*0x955+-0x243b+-0x59*-0x9e]=_0x1cedb8,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x5e05e9=_0x652f1c>0x842+-0x21b3*-0x1+-0x29f5*0x1?this['blueNoiseJ'+'itterVec']:re['ZERO'];if(this['blueNoiseJ'+'itterData'][-0xca0+-0x4+0xca4]=_0x5e05e9['x'],this['blueNoiseJ'+'itterData'][0x25d*-0xb+-0x12f0+-0x59e*-0x8]=_0x5e05e9['y'],this['blueNoiseJ'+'itterData'][0x1239+-0x1*-0x1819+-0x10*0x2a5]=_0x5e05e9['z'],this['blueNoiseJ'+'itterData'][-0x16cc+0x1*-0x2303+-0x39d2*-0x1]=_0x5e05e9['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x4f7343['data']),this['projSkybox'+'Id']['setValue'](_0x1cd74c['data']),_0x266104['calculateT'+'ransform'])_0x266104['calculateT'+'ransform'](nr,ec);else{const _0x5abec7=_0x266104['_node']['getPositio'+'n'](),_0x3b87dd=_0x266104['_node']['getRotatio'+'n']();nr['setTRS'](_0x5abec7,_0x3b87dd,D['ONE']);}this['viewInvId']['setValue'](nr['data']),Oa['copy'](nr)['invert'](),this['viewId']['setValue'](Oa['data']),q_['setFromMat'+'4'](Oa),this['viewId3']['setValue'](q_['data']),ar['mul2'](_0x4f7343,Oa),this['viewProjId']['setValue'](ar['data']),_0x266104['_storeShad'+'erMatrices'](ar,_0x2d7fe6,_0x1cedb8,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x3380cb?-(0x2651+0x2*-0x9fe+-0x1254):-0x158f+0x2049+0xab9*-0x1),this['dispatchVi'+'ewPos'](_0x266104['_node']['getPositio'+'n']()),_0x266104['frustum']['setFromMat'+'4'](ar);}this['tbnBasis']['setValue'](_0x3380cb?-(0x1*0x130e+-0x777+0x2*-0x5cb):0xf25*0x2+0x1024+0x2e6d*-0x1);const _0x31fb14=_0x266104['_nearClip'],_0x10e65c=_0x266104['_farClip'];return this['nearClipId']['setValue'](_0x31fb14),this['farClipId']['setValue'](_0x10e65c),this['cameraPara'+'ms'][-0xa30+0x1992+0xb3*-0x16]=(0x2472+0x11b7+0xd8a*-0x4)/_0x10e65c,this['cameraPara'+'ms'][-0x2*-0xafe+-0x2517+0x1*0xf1c]=_0x10e65c,this['cameraPara'+'ms'][0x1*0x1c60+-0x4c4*-0x6+-0x38f6]=_0x31fb14,this['cameraPara'+'ms'][0x13da+0x1baa+-0x2f81]=_0x266104['projection']===En?0x3*0x6bb+0x217*0x6+0x105d*-0x2:0x1202+-0x1d0+-0x1032,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x266104['getExposur'+'e']():this['scene']['exposure']),_0x46d0d7;}['clear'](_0x57274b,_0xea9517,_0x1b51e4,_0x1248eb){const _0x3ce334=(_0xea9517??_0x57274b['_clearColo'+'rBuffer']?jo:-0x48b*-0x1+0x17+-0x4a2)|(_0x1b51e4??_0x57274b['_clearDept'+'hBuffer']?Yo:0x1237*0x2+-0x8b*0x20+-0x130e)|(_0x1248eb??_0x57274b['_clearSten'+'cilBuffer']?ch:0x193*-0x15+0x28+0x20e7*0x1);if(_0x3ce334){const _0x504c49=this['device'];Q['pushGpuMar'+'ker'](_0x504c49,'CLEAR'),_0x504c49['clear']({'color':[_0x57274b['_clearColo'+'r']['r'],_0x57274b['_clearColo'+'r']['g'],_0x57274b['_clearColo'+'r']['b'],_0x57274b['_clearColo'+'r']['a']],'depth':_0x57274b['_clearDept'+'h'],'stencil':_0x57274b['_clearSten'+'cil'],'flags':_0x3ce334}),Q['popGpuMark'+'er'](_0x504c49);}}['setCamera'](_0x3a9023,_0x1e5e01,_0x2c6323,_0x548f20=null){this['setCameraU'+'niforms'](_0x3a9023,_0x1e5e01),this['clearView'](_0x3a9023,_0x1e5e01,_0x2c6323,!(0x27*0x61+-0x209+-0xcbd));}['clearView'](_0x4ace23,_0x29f5f7,_0x2570a9,_0x4b1f0b){const _0x4074c4=this['device'];if(Q['pushGpuMar'+'ker'](_0x4074c4,'CLEAR-VIEW'),_0x4074c4['setRenderT'+'arget'](_0x29f5f7),_0x4074c4['updateBegi'+'n'](),_0x4b1f0b&&(_0x4074c4['setColorWr'+'ite'](!(-0x146f+0x3*0xadd+-0xc28),!(-0x72b+0x1e00+0xa7*-0x23),!(-0x229f+-0x1c44+0x3ee3),!(-0x19*0x103+0xf77*0x1+-0x4*-0x275)),_0x4074c4['setDepthWr'+'ite'](!(0x23b1*0x1+-0x1*0x20e7+-0x2ca))),this['setupViewp'+'ort'](_0x4ace23,_0x29f5f7),_0x2570a9){const _0x3eca6d=_0x4ace23['_clearOpti'+'ons'];_0x4074c4['clear'](_0x3eca6d||{'color':[_0x4ace23['_clearColo'+'r']['r'],_0x4ace23['_clearColo'+'r']['g'],_0x4ace23['_clearColo'+'r']['b'],_0x4ace23['_clearColo'+'r']['a']],'depth':_0x4ace23['_clearDept'+'h'],'flags':(_0x4ace23['_clearColo'+'rBuffer']?jo:0x10c4+-0x52d*-0x3+-0x204b)|(_0x4ace23['_clearDept'+'hBuffer']?Yo:0x1fe6+0x1eb8+0x1f4f*-0x2)|(_0x4ace23['_clearSten'+'cilBuffer']?ch:-0x4*-0x7f3+-0x4*0x149+-0x1*0x1aa8),'stencil':_0x4ace23['_clearSten'+'cil']});}Q['popGpuMark'+'er'](_0x4074c4);}['setupCullM'+'ode'](_0x42e8fb,_0x195967,_0x1450b4){const _0x1b9e9c=_0x1450b4['material'];let _0x23056c=bt;if(_0x42e8fb){let _0x81d44d=-0x1145*0x1+-0x1709+0x284f;(_0x1b9e9c['cull']===Fo||_0x1b9e9c['cull']===pa)&&(_0x81d44d=_0x195967*_0x1450b4['flipFacesF'+'actor']*_0x1450b4['node']['worldScale'+'Sign']),_0x81d44d<-0xefb+0x184+0xd77?_0x23056c=_0x1b9e9c['cull']===Fo?pa:Fo:_0x23056c=_0x1b9e9c['cull'];}this['device']['setCullMod'+'e'](_0x23056c),_0x23056c===bt&&_0x1b9e9c['cull']===bt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0x1450b4['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x1bacde){if(_0x1bacde['xr']&&_0x1bacde['xr']['views']['list']['length']){const _0x1383f6=_0x1bacde['xr']['views']['list'][-0xe63+-0xed5*0x1+0x1d38];ar['mul2'](_0x1383f6['projMat'],_0x1383f6['viewOffMat']),_0x1bacde['frustum']['setFromMat'+'4'](ar);return;}const _0xd5ceb7=_0x1bacde['projection'+'Matrix'];if(_0x1bacde['calculateP'+'rojection']&&_0x1bacde['calculateP'+'rojection'](_0xd5ceb7,ec),_0x1bacde['calculateT'+'ransform'])_0x1bacde['calculateT'+'ransform'](nr,ec);else{const _0xf57d57=_0x1bacde['_node']['getPositio'+'n'](),_0x42d765=_0x1bacde['_node']['getRotatio'+'n']();nr['setTRS'](_0xf57d57,_0x42d765,D['ONE']),this['viewInvId']['setValue'](nr['data']);}Oa['copy'](nr)['invert'](),ar['mul2'](_0xd5ceb7,Oa),_0x1bacde['frustum']['setFromMat'+'4'](ar);}['setBaseCon'+'stants'](_0x574c7a,_0x334352){_0x574c7a['setCullMod'+'e'](_0x334352['cull']),_0x334352['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x334352['opacityMap']),(_0x334352['opacityMap']||_0x334352['alphaTest']>-0x2238+-0x1c19+-0x3e51*-0x1)&&this['alphaTestI'+'d']['setValue'](_0x334352['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x22a0f0){nf++;const _0x6ede63=_0x22a0f0['length'];if(_0x6ede63===0x1e2d+-0x664*0x3+-0xb01*0x1)return;const _0xd16e29=de();for(let _0x4be96f=-0x2*-0x185+0x2193+-0x249d;_0x4be96f<_0x6ede63;_0x4be96f++){const _0x1c8bd3=_0x22a0f0[_0x4be96f]['skinInstan'+'ce'];_0x1c8bd3&&(_0x1c8bd3['updateMatr'+'ices'](_0x22a0f0[_0x4be96f]['node'],nf),_0x1c8bd3['_dirty']=!(-0x186d+-0x7*-0x86+0x14c3));}this['_skinTime']+=de()-_0xd16e29;}['updateGpuS'+'kinMatrice'+'s'](_0x3be89a){const _0x1184f7=de();for(const _0x2b618f of _0x3be89a){const _0xc168cc=_0x2b618f['skinInstan'+'ce'];_0xc168cc&&_0xc168cc['_dirty']&&(_0xc168cc['updateMatr'+'ixPalette'](_0x2b618f['node'],nf),_0xc168cc['_dirty']=!(-0x2*0x412+0x10b*-0x1d+0x2664));}this['_skinTime']+=de()-_0x1184f7;}['updateMorp'+'hing'](_0x281225){const _0x2282fc=de();for(const _0x1f8a7e of _0x281225){const _0x228c72=_0x1f8a7e['morphInsta'+'nce'];_0x228c72&&_0x228c72['_dirty']&&_0x228c72['update']();}this['_morphTime']+=de()-_0x2282fc;}['updateGSpl'+'ats'](_0x506725){var _0x13f3d6;for(const _0x5a22cb of _0x506725)(_0x13f3d6=_0x5a22cb['gsplatInst'+'ance'])==null||_0x13f3d6['update']();}['gpuUpdate'](_0x247c59){this['updateGpuS'+'kinMatrice'+'s'](_0x247c59),this['updateMorp'+'hing'](_0x247c59),this['updateGSpl'+'ats'](_0x247c59);}['setVertexB'+'uffers'](_0x1cde27,_0x35348e){_0x1cde27['setVertexB'+'uffer'](_0x35348e['vertexBuff'+'er']);}['setMorphin'+'g'](_0xb4e0c3,_0x3ec23c){_0x3ec23c&&(_0x3ec23c['prepareRen'+'dering'](_0xb4e0c3),_0xb4e0c3['setVertexB'+'uffer'](_0x3ec23c['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0x3ec23c['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0x3ec23c['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0x3ec23c['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x1c5335,_0x397904){const _0x1f4b21=_0x397904['skinInstan'+'ce'];if(_0x1f4b21){this['_skinDrawC'+'alls']++;const _0x3c11c1=_0x1f4b21['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x3c11c1);}}['dispatchVi'+'ewPos'](_0x2f8789){const _0x47718f=this['viewPos'];_0x47718f[0x83*0x6+0x1d34+-0x2046*0x1]=_0x2f8789['x'],_0x47718f[-0x4b5*0x5+-0xe3*-0xb+0x1*0xdc9]=_0x2f8789['y'],_0x47718f[0x7b4*-0x5+0xf25*-0x1+0x35ab]=_0x2f8789['z'],this['viewPosId']['setValue'](_0x47718f);}['initViewBi'+'ndGroupFor'+'mat'](_0x5c1c2f){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x29996b=[new dt('matrix_vie'+'w',li),new dt('matrix_vie'+'wInverse',li),new dt('matrix_pro'+'jection',li),new dt('matrix_pro'+'jectionSky'+'box',li),new dt('matrix_vie'+'wProjectio'+'n',li),new dt('matrix_vie'+'w3',On),new dt('cubeMapRot'+'ationMatri'+'x',On),new dt('view_posit'+'ion',ds),new dt('skyboxInte'+'nsity',Xs),new dt('exposure',Xs),new dt('textureBia'+'s',Xs),new dt('view_index',Xs)];_0x5c1c2f&&_0x29996b['push'](new dt('clusterCel'+'lsCountByB'+'oundsSize',ds),new dt('clusterTex'+'tureSize',ds),new dt('clusterBou'+'ndsMin',ds),new dt('clusterBou'+'ndsDelta',ds),new dt('clusterCel'+'lsDot',ds),new dt('clusterCel'+'lsMax',ds),new dt('shadowAtla'+'sParams',ga),new dt('clusterMax'+'Cells',_a),new dt('clusterSki'+'p',Xs)),this['viewUnifor'+'mFormat']=new zy(this['device'],_0x29996b);const _0x4df553=[new kp(Np,Fp|by)];this['viewBindGr'+'oupFormat']=new Ny(this['device'],_0x4df553);}}['setupViewU'+'niforms'](_0x1a4b56,_0x2e4005){this['projId']['setValue'](_0x1a4b56['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x1a4b56['projMat']['data']),this['viewId']['setValue'](_0x1a4b56['viewOffMat']['data']),this['viewInvId']['setValue'](_0x1a4b56['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x1a4b56['viewMat3']['data']),this['viewProjId']['setValue'](_0x1a4b56['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x1a4b56['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x2e4005);}['setupViewU'+'niformBuff'+'ers'](_0x57a2a1,_0x6527a4,_0x586a0c,_0x3c5f36){w['assert'](Array['isArray'](_0x57a2a1),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const {device:_0x111985}=this,_0x1ac532=(_0x3c5f36==null?void(-0x1*0x7d3+-0x157+-0x33*-0x2e):_0x3c5f36['length'])??0x1*0x1e9b+-0x1dfa+0x50*-0x2;for(;_0x57a2a1['length']<_0x1ac532;){const _0x557005=new zp(_0x111985,_0x6527a4,!(0x1379+0x11b*-0x23+-0x1*-0x1339)),_0x489777=new Up(_0x111985,_0x586a0c,_0x557005);Ea['setName'](_0x489777,'ViewBindGr'+'oup_'+_0x489777['id']),_0x57a2a1['push'](_0x489777);}if(_0x3c5f36)for(let _0x57acb4=0x9*-0x251+-0x25a*0x8+0x39b*0xb;_0x57acb4<_0x1ac532;_0x57acb4++){const _0x3fcfdb=_0x3c5f36[_0x57acb4];this['setupViewU'+'niforms'](_0x3fcfdb,_0x57acb4);const _0x17e6a4=_0x57a2a1[_0x57acb4];_0x17e6a4['defaultUni'+'formBuffer']['update'](),_0x17e6a4['update']();}else{const _0x5e95d5=_0x57a2a1[0x6e5*0x3+0x1b7f+-0x302e];_0x5e95d5['defaultUni'+'formBuffer']['update'](),_0x5e95d5['update']();}_0x3c5f36||_0x111985['setBindGro'+'up'](rl,_0x57a2a1[0x2609+-0x2066+-0x25*0x27]);}['setupMeshU'+'niformBuff'+'ers'](_0x2bee00){const _0x6ae587=this['device'];if(_0x6ae587['supportsUn'+'iformBuffe'+'rs']){const _0x1ac0dc=_0x2bee00['getBindGro'+'up'](_0x6ae587);_0x1ac0dc['update'](),_0x6ae587['setBindGro'+'up'](Oy,_0x1ac0dc),_0x2bee00['getUniform'+'Buffer'](_0x6ae587)['update'](hf),_0x6ae587['setBindGro'+'up'](su,hf['bindGroup'],hf['offsets']);}}['setMeshIns'+'tanceMatri'+'ces'](_0x3218b1,_0x4a50c2=!(0x93+0xad*0x25+-0x1993)){const _0x52d09b=_0x3218b1['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x52d09b['data']),_0x4a50c2&&this['normalMatr'+'ixId']['setValue'](_0x3218b1['node']['normalMatr'+'ix']['data']);}['cull'](_0x2af961,_0x2e2804,_0x2cb0bc){const _0x53b994=de(),_0x44c57e=_0x2cb0bc['opaque'];_0x44c57e['length']=0x96b+-0x17*-0xfe+-0x3*0xabf;const _0x1cab95=_0x2cb0bc['transparen'+'t'];_0x1cab95['length']=0x13f*0xb+-0xc89+0x3*-0x64;const _0x4fe494=_0x2af961['frustumCul'+'ling'],_0x5caa=_0x2e2804['length'];for(let _0x171555=0x24bf+-0x14d8*0x1+0x3*-0x54d;_0x171555<_0x5caa;_0x171555++){const _0x5762e9=_0x2e2804[_0x171555];_0x5762e9['visible']&&(!_0x4fe494||!_0x5762e9['cull']||_0x5762e9['_isVisible'](_0x2af961))&&(_0x5762e9['visibleThi'+'sFrame']=!(-0x1f04+0x7*-0x3f3+0x3aa9),(_0x5762e9['transparen'+'t']?_0x1cab95:_0x44c57e)['push'](_0x5762e9),(_0x5762e9['skinInstan'+'ce']||_0x5762e9['morphInsta'+'nce']||_0x5762e9['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x5762e9),_0x5762e9['gsplatInst'+'ance']&&_0x5762e9['gsplatInst'+'ance']['cameras']['push'](_0x2af961)));}this['_cullTime']+=de()-_0x53b994,this['_numDrawCa'+'llsCulled']+=_0x4fe494?_0x5caa:-0x125d+-0x1*-0x122c+0x31;}['collectLig'+'hts'](_0x2818f2){this['lights']['length']=0x1*-0xf17+-0x2*0x1387+-0x1*-0x3625,this['localLight'+'s']['length']=-0x83+0x2b*0xad+-0x1c8c;const _0x197284=this['scene']['_stats'];_0x197284['dynamicLig'+'hts']=0x10c3+0x1834+-0x28f7,_0x197284['bakedLight'+'s']=0x97*-0xb+-0x147e+0x1*0x1afb;const _0x1f3ab9=_0x2818f2['layerList']['length'];for(let _0x383dd1=0x233c+-0x11b*-0x1a+-0x3ffa;_0x383dd1<_0x1f3ab9;_0x383dd1++){const _0x207621=_0x2818f2['layerList'][_0x383dd1];if(!cf['has'](_0x207621)){cf['add'](_0x207621);const _0x8b94ba=_0x207621['_lights'];for(let _0x243b29=0x1*0x1ec5+-0x1995+0x4*-0x14c;_0x243b29<_0x8b94ba['length'];_0x243b29++){const _0xc692ad=_0x8b94ba[_0x243b29];lf['has'](_0xc692ad)||(lf['add'](_0xc692ad),this['lights']['push'](_0xc692ad),_0xc692ad['_type']!==ve&&this['localLight'+'s']['push'](_0xc692ad),(_0xc692ad['mask']&Ss||_0xc692ad['mask']&di)&&_0x197284['dynamicLig'+'hts']++,_0xc692ad['mask']&fi&&_0x197284['bakedLight'+'s']++);}}}_0x197284['lights']=this['lights']['length'],lf['clear'](),cf['clear']();}['cullLights'](_0x1aab86,_0x1fa9cc){const _0x3d5784=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x56f853=this['scene']['physicalUn'+'its'];for(let _0x4929de=0x16fe+0x4*-0x788+0xb*0xa6;_0x4929de<_0x1fa9cc['length'];_0x4929de++){const _0xdb4eb5=_0x1fa9cc[_0x4929de];if(_0xdb4eb5['enabled']){if(_0xdb4eb5['_type']!==ve){if(_0xdb4eb5['getBoundin'+'gSphere'](of),_0x1aab86['frustum']['containsSp'+'here'](of)){_0xdb4eb5['visibleThi'+'sFrame']=!(-0x1*-0x205f+-0x23*0x17+-0x1d3a),_0xdb4eb5['usePhysica'+'lUnits']=_0x56f853;const _0x29a137=_0x1aab86['getScreenS'+'ize'](of);_0xdb4eb5['maxScreenS'+'ize']=Math['max'](_0xdb4eb5['maxScreenS'+'ize'],_0x29a137);}else _0x3d5784||_0xdb4eb5['castShadow'+'s']&&!_0xdb4eb5['shadowMap']&&(_0xdb4eb5['visibleThi'+'sFrame']=!(0xed0+0xea4+0x14*-0x179));}else _0xdb4eb5['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x24ddbb){const _0x550df6=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x5c581e=0xe*0x74+0x2*0xd85+-0x2162;_0x5c581e<this['localLight'+'s']['length'];_0x5c581e++){const _0x1fd2c4=this['localLight'+'s'][_0x5c581e];_0x1fd2c4['_type']!==ve&&(_0x550df6?_0x1fd2c4['atlasSlotU'+'pdated']&&_0x1fd2c4['shadowUpda'+'teMode']===Ps&&(_0x1fd2c4['shadowUpda'+'teMode']=xr):_0x1fd2c4['shadowUpda'+'teMode']===Ps&&_0x1fd2c4['castShadow'+'s']&&(_0x1fd2c4['getRenderD'+'ata'](null,0x4+-0x12f9+0xd3*0x17)['shadowCame'+'ra']['renderTarg'+'et']||(_0x1fd2c4['shadowUpda'+'teMode']=xr)),_0x1fd2c4['visibleThi'+'sFrame']&&_0x1fd2c4['castShadow'+'s']&&_0x1fd2c4['shadowUpda'+'teMode']!==Ps&&this['_shadowRen'+'dererLocal']['cull'](_0x1fd2c4,_0x24ddbb));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x113917=_0x24ddbb['cameras'];for(let _0x2edeb5=-0x76*-0x16+-0x14*0x125+0xcc0;_0x2edeb5<_0x113917['length'];_0x2edeb5++){const _0x230123=_0x113917[_0x2edeb5];if(_0x230123['enabled']){const _0x3dd28a=_0x230123['camera'];let _0x28c032;const _0x2077e9=_0x3dd28a['layers'];for(let _0x1fca00=0x1*0x24a7+-0xecc+-0x5*0x45f;_0x1fca00<_0x2077e9['length'];_0x1fca00++){const _0x3862da=_0x24ddbb['getLayerBy'+'Id'](_0x2077e9[_0x1fca00]);if(_0x3862da){const _0x52219a=_0x3862da['splitLight'+'s'][ve];for(let _0x38afea=-0xfd9+0x50b*-0x7+0x1*0x3326;_0x38afea<_0x52219a['length'];_0x38afea++){const _0x2c4163=_0x52219a[_0x38afea];_0x2c4163['castShadow'+'s']&&!Fa['has'](_0x2c4163)&&(Fa['add'](_0x2c4163),_0x28c032=_0x28c032??[],_0x28c032['push'](_0x2c4163),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0x2c4163,_0x24ddbb,_0x3dd28a));}}}_0x28c032&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x3dd28a,_0x28c032),Fa['clear']();}}}['cullCompos'+'ition'](_0x5acef0){const _0x1f2648=de(),{scene:_0x8278b}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0x519dad=_0x5acef0['cameras']['length'];this['_camerasRe'+'ndered']+=_0x519dad;for(let _0x561e2f=0x44f*0x1+0x286*-0xd+-0x1c7f*-0x1;_0x561e2f<_0x519dad;_0x561e2f++){const _0x277e80=_0x5acef0['cameras'][_0x561e2f];_0x8278b==null||_0x8278b['fire'](mv,_0x277e80);const _0x1a5bfb=_0x277e80['renderTarg'+'et'];_0x277e80['frameUpdat'+'e'](_0x1a5bfb),this['updateCame'+'raFrustum'](_0x277e80['camera']);const _0x25caae=_0x277e80['layers'];for(let _0x198d35=-0x1aa2+0x823*-0x3+0x330b;_0x198d35<_0x25caae['length'];_0x198d35++){const _0x266232=_0x5acef0['getLayerBy'+'Id'](_0x25caae[_0x198d35]);if(_0x266232&&_0x266232['enabled']){this['cullLights'](_0x277e80['camera'],_0x266232['_lights']);const _0x37c73e=_0x266232['getCulledI'+'nstances'](_0x277e80['camera']);this['cull'](_0x277e80['camera'],_0x266232['meshInstan'+'ces'],_0x37c73e);}}_0x8278b==null||_0x8278b['fire'](_v,_0x277e80);}_0x8278b['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x5acef0),_0x8278b==null||_0x8278b['fire'](lE),this['_cullTime']+=de()-_0x1f2648;}['updateShad'+'ers'](_0x23d13a,_0x14d9f5){const _0x1346ff=_0x23d13a['length'];for(let _0x2d72a9=0x3f*-0x97+-0x3b*-0xe+0x21ef;_0x2d72a9<_0x1346ff;_0x2d72a9++){const _0x5e5775=_0x23d13a[_0x2d72a9]['material'];if(_0x5e5775&&!Fa['has'](_0x5e5775)&&(Fa['add'](_0x5e5775),_0x5e5775['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant'])){if(_0x14d9f5&&(!_0x5e5775['useLightin'+'g']||_0x5e5775['emitter']&&!_0x5e5775['emitter']['lighting']))continue;_0x5e5775['clearVaria'+'nts']();}}Fa['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](Pb(this['device']));}['beginFrame'](_0x5caa54){const _0x160c86=this['scene'],_0x496a5d=_0x160c86['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x5d2db3=-0x499+0x51*-0x32+0x146b;const _0x31e3b1=_0x5caa54['layerList'],_0x341840=_0x31e3b1['length'];for(let _0x243696=0x2132+-0xd5*0x25+-0x269;_0x243696<_0x341840;_0x243696++){const _0x2b08b7=_0x31e3b1[_0x243696]['meshInstan'+'ces'],_0x42043a=_0x2b08b7['length'];_0x5d2db3+=_0x42043a;for(let _0x541f3a=-0x1721+-0xd47+0x2468;_0x541f3a<_0x42043a;_0x541f3a++){const _0x1e58a2=_0x2b08b7[_0x541f3a];_0x1e58a2['visibleThi'+'sFrame']=!(0x1b97+0x1b2e+-0x5*0xaf4),_0x496a5d&&df['push'](_0x1e58a2),_0x1e58a2['skinInstan'+'ce']&&ff['push'](_0x1e58a2);}}if(_0x160c86['_stats']['meshInstan'+'ces']=_0x5d2db3,_0x496a5d){const _0xa12040=!_0x160c86['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](df,_0xa12040),_0x160c86['updateShad'+'ers']=!(-0xc6d+0x3*0x691+-0x745),this['device']['_shadersDi'+'rty']=!(0xf45*0x1+-0x1b6f+0xc2b),_0x160c86['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](ff),df['length']=-0x2*0x8f5+-0x1*-0xf8f+0x9*0x43,ff['length']=0x18d7+-0x1*0x166a+-0x9*0x45;const _0x2c4492=this['lights'],_0x571c04=_0x2c4492['length'];for(let _0x5accb1=-0x18e1*-0x1+0x26b5+0xa99*-0x6;_0x5accb1<_0x571c04;_0x5accb1++)_0x2c4492[_0x5accb1]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x10c74b){const _0x44bd26=de(),_0x2ad731=_0x10c74b['layerList']['length'],_0x29f95d=this['scene']['_shaderVer'+'sion'];for(let _0x12524e=-0x2*-0xc2e+0x9e0+0x1*-0x223c;_0x12524e<_0x2ad731;_0x12524e++){const _0x1828ff=_0x10c74b['layerList'][_0x12524e];_0x1828ff['_shaderVer'+'sion']=_0x29f95d,_0x1828ff['_skipRende'+'rCounter']=0x5*-0x6d+0xfb+0x126,_0x1828ff['_forwardDr'+'awCalls']=0xc63*-0x1+0x4*-0x650+0x25a3,_0x1828ff['_shadowDra'+'wCalls']=-0x20ac+0xf*-0x1b3+0x3*0x1363,_0x1828ff['_renderTim'+'e']=0x1*-0x404+-0xbb9*-0x3+-0x5*0x63b;}_0x10c74b['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=de()-_0x44bd26;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(-0x2344+-0xec0+-0x5*-0xa01),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class Pv{constructor(){h(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(-0xc24+-0x1e1e+-0x1*-0x2a43),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(0x2d9*0xd+0xe0b+-0x330f),this['clearDepth']=!(-0x3*-0x913+-0xa54*0x1+-0x439*0x4),this['clearStenc'+'il']=!(-0xfc7*0x1+-0x51a+0x36*0x63),this['triggerPos'+'tprocess']=!(-0x1544+0x5*-0x164+-0x11*-0x1a9),this['firstCamer'+'aUse']=!(-0x161f+0x1c8+0x1458),this['lastCamera'+'Use']=!(0xfba+-0x1*-0x406+-0x695*0x3),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(0x162*0xf+0x148b+0xa52*-0x4));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x1d4ccf=>{_0x1d4ccf['defaultUni'+'formBuffer']['destroy'](),_0x1d4ccf['destroy']();}),this['viewBindGr'+'oups']['length']=-0x6*0x413+0xda3*-0x2+-0x1*-0x33b8;}['setupClear'+'s'](_0x31394b,_0xe003ca){this['clearColor']=(_0x31394b==null?void(-0x4*-0x6f7+0x1bd9+-0x37b5):_0x31394b['clearColor'+'Buffer'])||_0xe003ca['clearColor'+'Buffer'],this['clearDepth']=(_0x31394b==null?void(-0xd0c+-0x1aac+0x27b8):_0x31394b['clearDepth'+'Buffer'])||_0xe003ca['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x31394b==null?void(0x1295+-0x175*-0x3+-0x16f4):_0x31394b['clearStenc'+'ilBuffer'])||_0xe003ca['clearStenc'+'ilBuffer'];}}class Kb extends ys{constructor(_0x1ae125,_0x1c559b,_0x613294,_0x434091){super(_0x1ae125),h(this,'layerCompo'+'sition'),h(this,'scene'),h(this,'renderer'),h(this,'renderActi'+'ons',[]),h(this,'gammaCorre'+'ction'),h(this,'toneMappin'+'g'),h(this,'noDepthCle'+'ar',!(0x19a9+-0x1961+-0x47)),(this['layerCompo'+'sition']=_0x1c559b,this['scene']=_0x613294,this['renderer']=_0x434091);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>-0xa60+0x1b34+-0x10d4;}['addRenderA'+'ction'](_0x119123){this['renderActi'+'ons']['push'](_0x119123);}['addLayer'](_0x4d75b1,_0x3add10,_0x59db8e,_0x4dc971=!(0x9d0+-0x3*-0x85f+-0x22ed)){w['assert'](_0x4d75b1),w['assert'](this['renderTarg'+'et']!==void(-0x14e*0x3+0x83f+0x455*-0x1),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),w['assert'](_0x4d75b1['camera']['layersSet']['has'](_0x3add10['id']),'Camera\x20'+_0x4d75b1['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x3add10['name']+'.');const _0x34eff1=new Pv();if(_0x34eff1['renderTarg'+'et']=this['renderTarg'+'et'],_0x34eff1['camera']=_0x4d75b1,_0x34eff1['layer']=_0x3add10,_0x34eff1['transparen'+'t']=_0x59db8e,_0x4dc971){const _0x2d2a3e=this['renderActi'+'ons']['length']===0x5*0x683+-0x926+-0x1769;_0x34eff1['setupClear'+'s'](_0x2d2a3e?_0x4d75b1:void(0x1220+0x1414+-0x65e*0x6),_0x3add10);}this['addRenderA'+'ction'](_0x34eff1);}['addLayers'](_0x2134b4,_0x4d5d71,_0x212648,_0x42495b,_0x4bc3f1,_0x270ccc=!(-0x22de*-0x1+-0x11aa+-0x1134)){const {layerList:_0x1b7baa,subLayerList:_0x104b08}=_0x2134b4;let _0x1a83f5=_0x42495b,_0x4e0c00=_0x212648;for(;_0x4e0c00<_0x1b7baa['length'];){const _0x2c5f49=_0x1b7baa[_0x4e0c00],_0x18b823=_0x104b08[_0x4e0c00];if(_0x4d5d71['camera']['layersSet']['has'](_0x2c5f49['id'])&&(this['addLayer'](_0x4d5d71,_0x2c5f49,_0x18b823,_0x1a83f5),_0x1a83f5=!(-0x240a+0xcb*0x30+0x2f*-0xb)),_0x4e0c00++,_0x2c5f49['id']===_0x4bc3f1&&_0x18b823===_0x270ccc)break;}return _0x4e0c00;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0x5b7f38,renderActions:_0x541c1c}=this;for(let _0x251e01=-0x54*-0x23+0x1526+-0x20a2;_0x251e01<_0x541c1c['length'];_0x251e01++){const _0xc7491d=_0x541c1c[_0x251e01]['camera']['camera'],_0x6ea480=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0xc7491d);if(_0x6ea480)for(let _0x1645d9=0x4*-0x7ab+-0x1*0x2629+0x44d5;_0x1645d9<_0x6ea480['length'];_0x1645d9++){const _0x5d85ee=_0x6ea480[_0x1645d9];if(_0x5b7f38['dirLightSh'+'adows']['get'](_0x5d85ee)!==_0xc7491d){_0x5b7f38['dirLightSh'+'adows']['set'](_0x5d85ee,_0xc7491d);const _0x46d102=_0x5b7f38['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x5d85ee,_0xc7491d);_0x46d102&&this['beforePass'+'es']['push'](_0x46d102);}}}}['updateClea'+'rs'](){const _0x60f18f=this['renderActi'+'ons'][-0x1*-0x15d7+0xa*-0x356+-0x1*-0xb85];if(_0x60f18f){const _0x10588d=_0x60f18f['camera']['camera'],_0x2b4efe=_0x10588d['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x2b4efe&&_0x60f18f['clearColor']?_0x10588d['clearColor']:void(0xcef+-0x83*-0x3+-0xe78)),this['setClearDe'+'pth'](_0x2b4efe&&_0x60f18f['clearDepth']&&!this['noDepthCle'+'ar']?_0x10588d['clearDepth']:void(0x94d+-0xb1e+0x1f*0xf)),this['setClearSt'+'encil'](_0x2b4efe&&_0x60f18f['clearStenc'+'il']?_0x10588d['clearStenc'+'il']:void(0x17a0+-0x1*0x187f+0x1*0xdf));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x554aa8}=this;for(let _0x5235de=0xc47+0xcf8+0x17*-0x119;_0x5235de<_0x554aa8['length'];_0x5235de++){const _0x1e79dc=_0x554aa8[_0x5235de];_0x1e79dc['firstCamer'+'aUse']&&this['scene']['fire'](rE,_0x1e79dc['camera']);}}['execute'](){const {layerComposition:_0x94861b,renderActions:_0x315b1c}=this;for(let _0x4c13bb=-0x219a+0x1*0xfa6+0x6*0x2fe;_0x4c13bb<_0x315b1c['length'];_0x4c13bb++){const _0x3f2cea=_0x315b1c[_0x4c13bb],_0x41a383=_0x3f2cea['layer'];w['call'](()=>{_0x94861b['getLayerBy'+'Name'](_0x41a383['name'])||w['warnOnce']('Layer\x20'+_0x41a383['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x94861b['isEnabled'](_0x41a383,_0x3f2cea['transparen'+'t'])&&this['renderRend'+'erAction'](_0x3f2cea,_0x4c13bb===-0x865+0xff+0x766);}}['after'](){for(let _0x40afc9=0x258a+-0x46*0x47+-0x1220;_0x40afc9<this['renderActi'+'ons']['length'];_0x40afc9++){const _0x3c8e16=this['renderActi'+'ons'][_0x40afc9];_0x3c8e16['lastCamera'+'Use']&&this['scene']['fire'](aE,_0x3c8e16['camera']);}this['beforePass'+'es']['length']=0xeb1+-0x6d*-0x17+-0x187c*0x1;}['renderRend'+'erAction'](_0x21afd6,_0x14680b){var _0x51e1c1;const {renderer:_0x6856fa,scene:_0x591723}=this,_0x587f0f=_0x6856fa['device'],{layer:_0x521ee7,transparent:_0x2b1bc7,camera:_0x18e2e3}=_0x21afd6;Q['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x18e2e3?_0x18e2e3['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0x521ee7['name']+'('+(_0x2b1bc7?'TRANSP':'OPAQUE')+')');const _0x37fdf8=de();if(_0x18e2e3){const _0x133185=_0x18e2e3['gammaCorre'+'ction'],_0x52fb4d=_0x18e2e3['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(-0x3*0x27a+-0x3*0x722+0x3c*0x7b)&&(_0x18e2e3['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(-0x1662+-0xd91+0x23f3)&&(_0x18e2e3['toneMappin'+'g']=this['toneMappin'+'g']),_0x591723['fire'](nE,_0x18e2e3,_0x521ee7,_0x2b1bc7);const _0x2a9dcc={'lightClusters':_0x21afd6['lightClust'+'ers']},_0x3e12ba=((_0x51e1c1=_0x18e2e3['camera']['shaderPass'+'Info'])==null?void(0x1*0x245c+-0xa13+-0x8c3*0x3):_0x51e1c1['index'])??Aa;(!_0x14680b||!_0x18e2e3['camera']['fullSizeCl'+'earRect'])&&(_0x2a9dcc['clearColor']=_0x21afd6['clearColor'],_0x2a9dcc['clearDepth']=_0x21afd6['clearDepth'],_0x2a9dcc['clearStenc'+'il']=_0x21afd6['clearStenc'+'il']);const _0x36065b=_0x21afd6['renderTarg'+'et']??_0x587f0f['backBuffer'];_0x6856fa['renderForw'+'ardLayer'](_0x18e2e3['camera'],_0x36065b,_0x521ee7,_0x2b1bc7,_0x3e12ba,_0x21afd6['viewBindGr'+'oups'],_0x2a9dcc),_0x587f0f['setBlendSt'+'ate'](pt['NOBLEND']),_0x587f0f['setStencil'+'State'](null,null),_0x587f0f['setAlphaTo'+'Coverage'](!(-0x1bbb*0x1+0x2*-0x7db+-0x53*-0x86)),_0x591723['fire'](oE,_0x18e2e3,_0x521ee7,_0x2b1bc7),this['gammaCorre'+'ction']!==void(0x108f+0x158e+-0x261d)&&(_0x18e2e3['gammaCorre'+'ction']=_0x133185),this['toneMappin'+'g']!==void(0xcfb*0x3+-0x2077+-0x67a)&&(_0x18e2e3['toneMappin'+'g']=_0x52fb4d);}Q['popGpuMark'+'er'](this['device']),_0x521ee7['_renderTim'+'e']+=de()-_0x37fdf8;}['log'](_0x1d7164,_0x18ccdf){if(super['log'](_0x1d7164,_0x18ccdf),mi['get'](cn)){const {layerComposition:_0x3b8cfe}=this;this['renderActi'+'ons']['forEach']((_0x424dcd,_0x3dcf18)=>{const _0x5a516d=_0x424dcd['layer'],_0x41dbeb=_0x5a516d['enabled']&&_0x3b8cfe['isEnabled'](_0x5a516d,_0x424dcd['transparen'+'t']),_0x30d847=_0x424dcd['camera'];w['trace'](cn,'\x20\x20\x20\x20'+_0x3dcf18+':'+('\x20Cam:\x20'+(_0x30d847?_0x30d847['entity']['name']:'-'))['padEnd'](-0xdf7+-0x2207+0x1*0x3014,'\x20')+('\x20Lay:\x20'+_0x5a516d['name'])['padEnd'](0xbf9+0x11*0x5e+-0x1221,'\x20')+(_0x424dcd['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x41dbeb?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x5a516d['meshInstan'+'ces']['length'])['padEnd'](-0x350+-0x2c5+0x2*0x30d,'\x20'));});}}}class Zb extends ys{constructor(_0x5bc8f0,_0x123c2e,_0x30c4c5){super(_0x5bc8f0),this['renderer']=_0x123c2e,this['renderActi'+'on']=_0x30c4c5,this['requiresCu'+'bemaps']=!(-0x641+-0x1ab5+-0x61*-0x57);}['execute'](){const _0x186a1c=this['renderActi'+'on'],_0x46a940=_0x186a1c['camera'];w['assert'](_0x186a1c['triggerPos'+'tprocess']&&_0x46a940['onPostproc'+'essing']),_0x46a940['onPostproc'+'essing']();}}const Qb=[[],[],[]],or=new ie(),Nr={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=0x377*-0x1+-0x66*-0x49+0x1*-0x199f,this['shaderInst'+'ances']['length']=-0x1*-0x87e+-0x250d+0x1c8f,this['isNewMater'+'ial']['length']=0x6a7+-0x1cec+-0x1645*-0x1,this['lightMaskC'+'hanged']['length']=0xd*0x28+0x1759+-0x1961*0x1;}};function Jb(_0x5e4bfb){const _0x1e8184=[];for(let _0x12ea9e=-0x5fe+-0x1587+-0x1*-0x1b85;_0x12ea9e<_0x5e4bfb;++_0x12ea9e){const _0x22cbec=Math['sqrt'](_0x12ea9e+(-0x627*0x3+-0x1323+-0x191*-0x18+0.5))/Math['sqrt'](_0x5e4bfb);_0x1e8184['push'](_0x22cbec);}return _0x1e8184;}function eA(_0x4f3607){const _0x4798eb=[];for(let _0x1da847=0x1891+0xc*0x8a+-0x1f09;_0x1da847<_0x4f3607;_0x1da847++){const _0x22ffc2=_0x1da847/_0x4f3607,_0xd9de1c=Math['sqrt'](_0x22ffc2*_0x22ffc2);_0x4798eb['push'](_0xd9de1c);}return _0x4798eb;}const Ni=class Ni extends Yb{constructor(_0xb0e6e6){super(_0xb0e6e6);const _0x292e04=this['device'];this['_forwardDr'+'awCalls']=-0x1425+0x1be5+-0x1f*0x40,this['_materialS'+'witches']=0x4a9*-0x8+-0x4*-0x925+-0x24*-0x5,this['_depthMapT'+'ime']=0x6b*-0x57+0x1e33*-0x1+0xb18*0x6,this['_forwardTi'+'me']=-0x5*0x44+-0xa1d*0x1+0xb71,this['_sortTime']=0x258f*0x1+0x1783+0x1e89*-0x2;const _0x1bbdf4=_0x292e04['scope'];this['fogColorId']=_0x1bbdf4['resolve']('fog_color'),this['fogStartId']=_0x1bbdf4['resolve']('fog_start'),this['fogEndId']=_0x1bbdf4['resolve']('fog_end'),this['fogDensity'+'Id']=_0x1bbdf4['resolve']('fog_densit'+'y'),this['ambientId']=_0x1bbdf4['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0x1bbdf4['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0x1bbdf4['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0x1bbdf4['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0x1bbdf4['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0x1bbdf4['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(0x1b19+0xb*0xec+-0x2539),this['fogColor']=new Float32Array(-0x1ac3+-0x1e5*-0x9+0x9b9),this['ambientCol'+'or']=new Float32Array(-0x1*0x10ff+-0x12c3*0x1+0x23c5),this['pcssDiskSa'+'mples']=Jb(-0x65a+0x3*0x414+0x95*-0xa),this['pcssSphere'+'Samples']=eA(0x1172+-0x14ec*-0x1+-0x264e*0x1);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x48cf87){const _0x1c42d1=this['ambientCol'+'or'];if(or['linear'](_0x48cf87['ambientLig'+'ht']),_0x1c42d1[-0x1*0x9d2+-0x436*-0x1+0x59c]=or['r'],_0x1c42d1[-0x13ee+-0x1680+-0x2a6f*-0x1]=or['g'],_0x1c42d1[-0x107*0x3+-0x357*-0x2+-0x397]=or['b'],_0x48cf87['physicalUn'+'its']){for(let _0x49cfb1=0xe*-0x26e+0x23d*0x9+0xddf*0x1;_0x49cfb1<-0x17cc+-0x2151+0x3920;_0x49cfb1++)_0x1c42d1[_0x49cfb1]*=_0x48cf87['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x1c42d1),this['skyboxInte'+'nsityId']['setValue'](_0x48cf87['physicalUn'+'its']?_0x48cf87['skyboxLumi'+'nance']:_0x48cf87['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x48cf87['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x39ee59,_0x1cb6f2){const _0x57e220='light'+_0x1cb6f2;this['lightColor'+'Id'][_0x1cb6f2]=_0x39ee59['resolve'](_0x57e220+'_color'),this['lightDir'][_0x1cb6f2]=new Float32Array(-0x1*0x10f7+0x57d*-0x7+0x3765),this['lightDirId'][_0x1cb6f2]=_0x39ee59['resolve'](_0x57e220+'_direction'),this['lightShado'+'wMapId'][_0x1cb6f2]=_0x39ee59['resolve'](_0x57e220+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x1cb6f2]=_0x39ee59['resolve'](_0x57e220+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x1cb6f2]=_0x39ee59['resolve'](_0x57e220+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x1cb6f2]=_0x39ee59['resolve'](_0x57e220+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x1cb6f2]=_0x39ee59['resolve'](_0x57e220+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x1cb6f2]=_0x39ee59['resolve'](_0x57e220+'_radius'),this['lightPos'][_0x1cb6f2]=new Float32Array(0x272*-0x2+-0x4cf*0x2+-0xb1*-0x15),this['lightPosId'][_0x1cb6f2]=_0x39ee59['resolve'](_0x57e220+'_position'),this['lightWidth'][_0x1cb6f2]=new Float32Array(0xb5*-0x37+0x2cb+0x241b),this['lightWidth'+'Id'][_0x1cb6f2]=_0x39ee59['resolve'](_0x57e220+'_halfWidth'),this['lightHeigh'+'t'][_0x1cb6f2]=new Float32Array(0x1001+0x3e+-0x40f*0x4),this['lightHeigh'+'tId'][_0x1cb6f2]=_0x39ee59['resolve'](_0x57e220+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x1cb6f2]=_0x39ee59['resolve'](_0x57e220+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x1cb6f2]=_0x39ee59['resolve'](_0x57e220+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x1cb6f2]=_0x39ee59['resolve'](_0x57e220+'_cookie'),this['lightCooki'+'eIntId'][_0x1cb6f2]=_0x39ee59['resolve'](_0x57e220+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x1cb6f2]=_0x39ee59['resolve'](_0x57e220+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x1cb6f2]=_0x39ee59['resolve'](_0x57e220+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x1cb6f2]=_0x39ee59['resolve'](_0x57e220+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x1cb6f2]=_0x39ee59['resolve'](_0x57e220+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x1cb6f2]=_0x39ee59['resolve'](_0x57e220+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x1cb6f2]=_0x39ee59['resolve'](_0x57e220+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x1cb6f2]=_0x39ee59['resolve'](_0x57e220+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x1cb6f2]=_0x39ee59['resolve'](_0x57e220+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x46b7ad,_0xf3021a,_0x4b3a98,_0x222bcc,_0xd84e1b){this['lightPos'][_0xf3021a][-0x1fa8+0x2*0xacf+0x2*0x505]=_0x222bcc['x']-_0x4b3a98['x']*_0xd84e1b,this['lightPos'][_0xf3021a][-0x89f+-0x2450+0x2cf0]=_0x222bcc['y']-_0x4b3a98['y']*_0xd84e1b,this['lightPos'][_0xf3021a][-0x14b*0x1+0x20*-0xea+0x9*0x365]=_0x222bcc['z']-_0x4b3a98['z']*_0xd84e1b,this['lightPosId'][_0xf3021a]['setValue'](this['lightPos'][_0xf3021a]);const _0x15e7fb=_0x46b7ad['transformV'+'ector'](new D(-(-0x2*-0x8cd+-0x1*0xa13+-0x787+0.5),-0x10f1+-0xcc1*0x1+0x1db2,0x876+0x1*-0x214f+-0x1*-0x18d9));this['lightWidth'][_0xf3021a][-0x14*-0x167+0x198+-0x1*0x1da4]=_0x15e7fb['x']*_0xd84e1b,this['lightWidth'][_0xf3021a][0x224d*0x1+-0x1990+-0x8bc]=_0x15e7fb['y']*_0xd84e1b,this['lightWidth'][_0xf3021a][-0x5*0x6e3+-0x25c4+0xe71*0x5]=_0x15e7fb['z']*_0xd84e1b,this['lightWidth'+'Id'][_0xf3021a]['setValue'](this['lightWidth'][_0xf3021a]);const _0x28b926=_0x46b7ad['transformV'+'ector'](new D(-0x173*0x15+0x8c9+0xa3*0x22,-0x1ac3+0x1f19+0x1*-0x456,-0x1a3f*0x1+0x1*0xa72+0x1*0xfcd+0.5));this['lightHeigh'+'t'][_0xf3021a][-0xe*0x1d5+-0x1ccb+0x3671]=_0x28b926['x']*_0xd84e1b,this['lightHeigh'+'t'][_0xf3021a][0x14bc+-0x3d*-0x4d+-0x2714]=_0x28b926['y']*_0xd84e1b,this['lightHeigh'+'t'][_0xf3021a][0x1*0x1849+0x18f*0x19+-0x653*0xa]=_0x28b926['z']*_0xd84e1b,this['lightHeigh'+'tId'][_0xf3021a]['setValue'](this['lightHeigh'+'t'][_0xf3021a]);}['dispatchDi'+'rectLights'](_0x40d00d,_0x271297,_0x31342c){let _0x4970fb=-0x1397+-0x2*-0x103a+-0xcdd;const _0x3d9499=this['device']['scope'];for(let _0x586eac=0x7*0x2a9+0x61*0x1+-0x1300;_0x586eac<_0x40d00d['length'];_0x586eac++){if(!(_0x40d00d[_0x586eac]['mask']&_0x271297))continue;const _0x451b71=_0x40d00d[_0x586eac],_0x2304b8=_0x451b71['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x4970fb]||this['_resolveLi'+'ght'](_0x3d9499,_0x4970fb),this['lightColor'+'Id'][_0x4970fb]['setValue'](_0x451b71['_colorLine'+'ar']),_0x2304b8['getY'](_0x451b71['_direction'])['mulScalar'](-(0x165+-0x1fd0+0x1e6c)),_0x451b71['_direction']['normalize'](),this['lightDir'][_0x4970fb][-0x1668+0x5f6*0x1+-0xa*-0x1a5]=_0x451b71['_direction']['x'],this['lightDir'][_0x4970fb][0x8e4*0x2+-0xafc+0x25*-0x2f]=_0x451b71['_direction']['y'],this['lightDir'][_0x4970fb][0x1318+-0x3*-0xb47+-0x34eb]=_0x451b71['_direction']['z'],this['lightDirId'][_0x4970fb]['setValue'](this['lightDir'][_0x4970fb]),_0x451b71['shape']!==Ys&&this['setLTCDire'+'ctionalLig'+'ht'](_0x2304b8,_0x4970fb,_0x451b71['_direction'],_0x31342c['_node']['getPositio'+'n'](),_0x31342c['farClip']),_0x451b71['castShadow'+'s']){const _0x3d4795=_0x451b71['getRenderD'+'ata'](_0x31342c,0x1*-0x41c+0x1a86+-0x97*0x26),_0xd19f4e=_0x451b71['_getUnifor'+'mBiasValue'+'s'](_0x3d4795);this['lightShado'+'wMapId'][_0x4970fb]['setValue'](_0x3d4795['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x4970fb]['setValue'](_0x3d4795['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x4970fb]['setValue'](_0x451b71['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x4970fb]['setValue'](_0x451b71['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x4970fb]['setValue'](_0x451b71['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x4970fb]['setValue'](-0x1cb0+0x905*0x4+0x1f*-0x3d-_0x451b71['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x4970fb]['setValue'](_0x451b71['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x4970fb]['setValue'](_0x451b71['_softShado'+'wParams']),_0x3d4795['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x4970fb]['setValue'](_0x451b71['penumbraSi'+'ze']/_0x3d4795['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x3d4795['projection'+'Compensati'+'on']);const _0x46ba47=_0x451b71['_shadowCam'+'eraParams'];_0x46ba47['length']=0x1cbb+-0x2167+0x4b0,_0x46ba47[0xa85*0x2+0x1dfc+-0x3306]=0x40*-0x94+0x758+0x1da8,_0x46ba47[0x21b0+-0x481+0x19f*-0x12]=_0x3d4795['shadowCame'+'ra']['_farClip'],_0x46ba47[-0x7f9+0x21c1*-0x1+0x14de*0x2]=_0x3d4795['shadowCame'+'ra']['_nearClip'],_0x46ba47[0xef*0xa+-0x39*0xa2+0x1*0x1abf]=-0x9*-0x15d+0x2434+-0x3078,this['lightCamer'+'aParamsId'][_0x4970fb]['setValue'](_0x46ba47);const _0x3b3103=_0x451b71['_shadowRen'+'derParams'];_0x3b3103['length']=0x1460+-0xb48+-0x4*0x245,_0x3b3103[0x1886+0xf50+-0x27d6]=_0x451b71['_shadowRes'+'olution'],_0x3b3103[-0x206d+-0x2b1*0xc+0x40ba]=_0xd19f4e['normalBias'],_0x3b3103[-0x17*-0x37+0x2351+0x5c0*-0x7]=_0xd19f4e['bias'],_0x3b3103[-0x1*0x962+-0x1a80+0xbf7*0x3]=-0x12e4+0x8e8+0x9fc,this['lightShado'+'wParamsId'][_0x4970fb]['setValue'](_0x3b3103);}_0x4970fb++;}return _0x4970fb;}['setLTCPosi'+'tionalLigh'+'t'](_0x42c923,_0x26c286){const _0x181731=_0x42c923['transformV'+'ector'](new D(-(0x11a5*0x1+0xab8+-0x1c5d+0.5),-0x3*0x12d+-0x17*0xfd+0x1a42*0x1,0xad4+-0x11f5*0x1+-0x5*-0x16d));this['lightWidth'][_0x26c286][0x14*0x4e+-0x1967+0x1*0x134f]=_0x181731['x'],this['lightWidth'][_0x26c286][-0x775+-0x2b*-0x8d+-0x1039]=_0x181731['y'],this['lightWidth'][_0x26c286][-0x18c4*0x1+-0x17b3+0x1*0x3079]=_0x181731['z'],this['lightWidth'+'Id'][_0x26c286]['setValue'](this['lightWidth'][_0x26c286]);const _0x54c7e9=_0x42c923['transformV'+'ector'](new D(0xb11+-0x24b8+0x88d*0x3,0x1994+-0x1*0x457+-0x1*0x153d,0x11ba+-0x57a*0x5+0x135*0x8+0.5));this['lightHeigh'+'t'][_0x26c286][-0x3*0xcc2+-0x180d+0x3e53]=_0x54c7e9['x'],this['lightHeigh'+'t'][_0x26c286][0x36e*-0x2+-0x20cd+0x27aa]=_0x54c7e9['y'],this['lightHeigh'+'t'][_0x26c286][-0x2*0x2c9+-0x1a28+0x1fbc]=_0x54c7e9['z'],this['lightHeigh'+'tId'][_0x26c286]['setValue'](this['lightHeigh'+'t'][_0x26c286]);}['dispatchOm'+'niLight'](_0x3af547,_0x14164f,_0x5cf73a){const _0x4e7fe7=_0x14164f['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x5cf73a]||this['_resolveLi'+'ght'](_0x3af547,_0x5cf73a),this['lightRadiu'+'sId'][_0x5cf73a]['setValue'](_0x14164f['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x5cf73a]['setValue'](_0x14164f['_colorLine'+'ar']),_0x4e7fe7['getTransla'+'tion'](_0x14164f['_position']),this['lightPos'][_0x5cf73a][-0xd8b*-0x2+-0x403+-0x1713]=_0x14164f['_position']['x'],this['lightPos'][_0x5cf73a][0x1b47+0xeb0+-0x29f6]=_0x14164f['_position']['y'],this['lightPos'][_0x5cf73a][-0x22fe+0x2*0xeb6+0x2a*0x22]=_0x14164f['_position']['z'],this['lightPosId'][_0x5cf73a]['setValue'](this['lightPos'][_0x5cf73a]),_0x14164f['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0x4e7fe7,_0x5cf73a),_0x14164f['castShadow'+'s']){const _0x118902=_0x14164f['getRenderD'+'ata'](null,0x1*-0x24bb+0x8c8+0x1bf3);this['lightShado'+'wMapId'][_0x5cf73a]['setValue'](_0x118902['shadowBuff'+'er']);const _0x4986e2=_0x14164f['_getUnifor'+'mBiasValue'+'s'](_0x118902),_0x48e8e7=_0x14164f['_shadowRen'+'derParams'];_0x48e8e7['length']=-0x1*-0xc53+-0x1b6f+0xf20,_0x48e8e7[0x1*0x116d+0x65*0x4+-0x1301]=_0x14164f['_shadowRes'+'olution'],_0x48e8e7[-0x67*-0x59+-0x1e24+0x1d*-0x32]=_0x4986e2['normalBias'],_0x48e8e7[-0x10d5+-0x2077+0x1*0x314e]=_0x4986e2['bias'],_0x48e8e7[-0x2*-0x1165+-0x585*-0x5+-0x3e60]=(0xaee+0x21a6+-0x1*0x2c93)/_0x14164f['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x5cf73a]['setValue'](_0x48e8e7),this['lightShado'+'wIntensity'][_0x5cf73a]['setValue'](_0x14164f['shadowInte'+'nsity']);const _0x45468b=_0x14164f['penumbraSi'+'ze']/_0x118902['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x5cf73a]['setValue'](_0x45468b);const _0x5df4c3=_0x14164f['_shadowCam'+'eraParams'];_0x5df4c3['length']=0xa61*-0x1+-0x2d4+-0x1*-0xd39,_0x5df4c3[-0x1*0x21e5+-0x230d+-0x2c2*-0x19]=-0x2*0x799+-0x209d+0x2fcf,_0x5df4c3[-0x234c+-0x1*-0xa03+0x194a]=_0x118902['shadowCame'+'ra']['_farClip'],_0x5df4c3[-0x1df7+-0x9b3+0x27ac]=_0x118902['shadowCame'+'ra']['_nearClip'],_0x5df4c3[-0x8db*-0x3+-0x2*0xf7f+0x470]=0x1865+-0x264+-0x1601,this['lightCamer'+'aParamsId'][_0x5cf73a]['setValue'](_0x5df4c3);}_0x14164f['_cookie']&&(this['lightCooki'+'eId'][_0x5cf73a]['setValue'](_0x14164f['_cookie']),this['lightShado'+'wMatrixId'][_0x5cf73a]['setValue'](_0x4e7fe7['data']),this['lightCooki'+'eIntId'][_0x5cf73a]['setValue'](_0x14164f['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x534c2c,_0x4e7dad,_0x352b4f){const _0x250b2d=_0x4e7dad['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x352b4f]||this['_resolveLi'+'ght'](_0x534c2c,_0x352b4f),this['lightInAng'+'leId'][_0x352b4f]['setValue'](_0x4e7dad['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x352b4f]['setValue'](_0x4e7dad['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x352b4f]['setValue'](_0x4e7dad['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x352b4f]['setValue'](_0x4e7dad['_colorLine'+'ar']),_0x250b2d['getTransla'+'tion'](_0x4e7dad['_position']),this['lightPos'][_0x352b4f][-0x503+0x204*-0x4+0xd13*0x1]=_0x4e7dad['_position']['x'],this['lightPos'][_0x352b4f][0x17b*0xf+0xad9+-0x210d*0x1]=_0x4e7dad['_position']['y'],this['lightPos'][_0x352b4f][-0x2*0x135d+-0x3*0x66f+0x3a09]=_0x4e7dad['_position']['z'],this['lightPosId'][_0x352b4f]['setValue'](this['lightPos'][_0x352b4f]),_0x4e7dad['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0x250b2d,_0x352b4f),_0x250b2d['getY'](_0x4e7dad['_direction'])['mulScalar'](-(0x61f+-0x4*0x2a1+-0x466*-0x1)),_0x4e7dad['_direction']['normalize'](),this['lightDir'][_0x352b4f][-0x46*-0x8d+-0x6d*-0x24+0x2d6*-0x13]=_0x4e7dad['_direction']['x'],this['lightDir'][_0x352b4f][-0xb85*-0x1+-0xb*-0xe5+-0x155b]=_0x4e7dad['_direction']['y'],this['lightDir'][_0x352b4f][0x3*-0x29+0x14c8+-0x144b]=_0x4e7dad['_direction']['z'],this['lightDirId'][_0x352b4f]['setValue'](this['lightDir'][_0x352b4f]),_0x4e7dad['castShadow'+'s']){const _0x181ec8=_0x4e7dad['getRenderD'+'ata'](null,0x767+0x633+-0xd9a);this['lightShado'+'wMapId'][_0x352b4f]['setValue'](_0x181ec8['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x352b4f]['setValue'](_0x181ec8['shadowMatr'+'ix']['data']);const _0x48727d=_0x4e7dad['_getUnifor'+'mBiasValue'+'s'](_0x181ec8),_0x3eee90=_0x4e7dad['_shadowRen'+'derParams'];_0x3eee90['length']=0x4*0x9a9+-0x1*0x20d1+-0x5cf,_0x3eee90[0xb8b+0x1*0x114b+-0x1cd6*0x1]=_0x4e7dad['_shadowRes'+'olution'],_0x3eee90[0x2d*0x2a+-0x1160+0x9ff]=_0x48727d['normalBias'],_0x3eee90[0x1*-0x1ad9+0xc47+0xe94]=_0x48727d['bias'],_0x3eee90[-0x239f+-0x98+-0x2*-0x121d]=(-0x1*-0x1bf+0xe83+-0x13*0xdb)/_0x4e7dad['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x352b4f]['setValue'](_0x3eee90),this['lightShado'+'wIntensity'][_0x352b4f]['setValue'](_0x4e7dad['shadowInte'+'nsity']);const _0x357b61=_0x4e7dad['penumbraSi'+'ze']/_0x181ec8['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x9a2ec3=_0x181ec8['shadowCame'+'ra']['_fov']*Math['PI']/(0x1b4e+-0x152f+-0x56b),_0x4fea6f=(-0x1*-0xa49+0x1837+-0x227f*0x1)/Math['tan'](_0x9a2ec3/(0x349*0x9+0xdcf+-0x1*0x2b5e));this['lightShado'+'wSearchAre'+'aId'][_0x352b4f]['setValue'](_0x357b61*_0x4fea6f);const _0x61c16c=_0x4e7dad['_shadowCam'+'eraParams'];_0x61c16c['length']=0x4d2*-0x5+-0x281+0x1a9f,_0x61c16c[0x20d1*-0x1+-0xb89+-0xe*-0x32b]=0x3d*-0x32+0x86*-0x30+-0x1285*-0x2,_0x61c16c[0x3fd*-0x1+-0x64+0x462]=_0x181ec8['shadowCame'+'ra']['_farClip'],_0x61c16c[-0x59*-0x6f+0x1521+-0x2*0x1ddb]=_0x181ec8['shadowCame'+'ra']['_nearClip'],_0x61c16c[-0xbdd+0x1*0xe3+0x1*0xafd]=0xf36+0x1df*-0x5+0x1*-0x5db,this['lightCamer'+'aParamsId'][_0x352b4f]['setValue'](_0x61c16c);}if(_0x4e7dad['_cookie']){if(!_0x4e7dad['castShadow'+'s']){const _0x2c8e29=Wn['evalSpotCo'+'okieMatrix'](_0x4e7dad);this['lightShado'+'wMatrixId'][_0x352b4f]['setValue'](_0x2c8e29['data']);}this['lightCooki'+'eId'][_0x352b4f]['setValue'](_0x4e7dad['_cookie']),this['lightCooki'+'eIntId'][_0x352b4f]['setValue'](_0x4e7dad['cookieInte'+'nsity']),_0x4e7dad['_cookieTra'+'nsform']&&(_0x4e7dad['_cookieTra'+'nsformUnif'+'orm'][-0x1*0xa8b+0x245a+-0x19cf*0x1]=_0x4e7dad['_cookieTra'+'nsform']['x'],_0x4e7dad['_cookieTra'+'nsformUnif'+'orm'][-0x1f72+-0x18ae+-0x1*-0x3821]=_0x4e7dad['_cookieTra'+'nsform']['y'],_0x4e7dad['_cookieTra'+'nsformUnif'+'orm'][0x3*0x9+0x21d4*0x1+-0x21ed]=_0x4e7dad['_cookieTra'+'nsform']['z'],_0x4e7dad['_cookieTra'+'nsformUnif'+'orm'][-0xf*-0xca+-0xc01+0x2e]=_0x4e7dad['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x352b4f]['setValue'](_0x4e7dad['_cookieTra'+'nsformUnif'+'orm']),_0x4e7dad['_cookieOff'+'setUniform'][0x2*-0x589+0xd3a+-0x228]=_0x4e7dad['_cookieOff'+'set']['x'],_0x4e7dad['_cookieOff'+'setUniform'][-0x2570+0x200a+0x567]=_0x4e7dad['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x352b4f]['setValue'](_0x4e7dad['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x1465de,_0x34fdfc,_0x1a0374){let _0x3e44c2=_0x1a0374;const _0x57fe10=this['device']['scope'],_0x1f0420=_0x1465de[Ke],_0x6b7faa=_0x1f0420['length'];for(let _0x542f75=-0x6e*-0x2e+-0x1*0x1bcb+0x1*0x807;_0x542f75<_0x6b7faa;_0x542f75++){const _0x5e7a9d=_0x1f0420[_0x542f75];_0x5e7a9d['mask']&_0x34fdfc&&(this['dispatchOm'+'niLight'](_0x57fe10,_0x5e7a9d,_0x3e44c2),_0x3e44c2++);}const _0x246719=_0x1465de[Ze],_0x52071b=_0x246719['length'];for(let _0x56781d=0x1*-0x47+-0xcc+0x113;_0x56781d<_0x52071b;_0x56781d++){const _0x28544b=_0x246719[_0x56781d];_0x28544b['mask']&_0x34fdfc&&(this['dispatchSp'+'otLight'](_0x57fe10,_0x28544b,_0x3e44c2),_0x3e44c2++);}}['renderForw'+'ardPrepare'+'Materials'](_0x43443d,_0x2d3e9e,_0x4c2a28,_0x1b91b5,_0x3435de,_0x30c64e){const _0x559ff4=_0x43443d['fogParams']??this['scene']['fog'],_0x3ae9e0=_0x43443d['shaderPara'+'ms'];_0x3ae9e0['fog']=_0x559ff4['type'],_0x3ae9e0['srgbRender'+'Target']=(_0x2d3e9e==null?void(-0x1599+-0x704+0x1c9d):_0x2d3e9e['isColorBuf'+'ferSrgb'](0x26bf+-0x14+-0x26ab))??!(0x188a*-0x1+0x2*0x1147+-0xa03);const _0x2f34dc=(_0x7950f9,_0x187853,_0xab0fa5,_0xf036c2)=>{Nr['drawCalls']['push'](_0x7950f9),Nr['shaderInst'+'ances']['push'](_0x187853),Nr['isNewMater'+'ial']['push'](_0xab0fa5),Nr['lightMaskC'+'hanged']['push'](_0xf036c2);};Nr['clear']();const _0x44af29=this['device'],_0x386dc3=this['scene'],_0x5da438=_0x386dc3['clusteredL'+'ightingEna'+'bled'],_0x36923=(_0x3435de==null?void(0x7*-0x2df+-0x2*-0x55a+0x965*0x1):_0x3435de['getLightHa'+'sh'](_0x5da438))??0x13*0x1f2+0x252d*0x1+-0x4a23;let _0x4d7729=null,_0x5ecdab,_0x3013d8;const _0x3a2776=_0x4c2a28['length'];for(let _0xd5f88=-0xd*0x11e+0x1*0xb55+0x331;_0xd5f88<_0x3a2776;_0xd5f88++){const _0x4fbe1f=_0x4c2a28[_0xd5f88];if(_0x43443d===Ni['skipRender'+'Camera']){if(Ni['_skipRende'+'rCounter']>=Ni['skipRender'+'After'])continue;Ni['_skipRende'+'rCounter']++;}if(_0x3435de){if(_0x3435de['_skipRende'+'rCounter']>=_0x3435de['skipRender'+'After'])continue;_0x3435de['_skipRende'+'rCounter']++;}const _0x152284=_0x4fbe1f['instancing'+'Data'];if(_0x152284&&_0x152284['count']<=0x1*0xb7e+-0x1cf0+-0x9a*-0x1d)continue;_0x4fbe1f['ensureMate'+'rial'](_0x44af29);const _0x3a5291=_0x4fbe1f['material'],_0x3681db=_0x4fbe1f['_shaderDef'+'s'],_0x11eb6b=_0x4fbe1f['mask'];_0x3a5291&&_0x3a5291===_0x4d7729&&_0x3681db!==_0x5ecdab&&(_0x4d7729=null),_0x3a5291!==_0x4d7729&&(this['_materialS'+'witches']++,_0x3a5291['_scene']=_0x386dc3,_0x3a5291['dirty']&&(Q['pushGpuMar'+'ker'](_0x44af29,'Node:\x20'+_0x4fbe1f['node']['name']+(',\x20Material'+':\x20')+_0x3a5291['name']),_0x3a5291['updateUnif'+'orms'](_0x44af29,_0x386dc3),_0x3a5291['dirty']=!(-0x2237*-0x1+0x70f*-0x2+-0x506*0x4),Q['popGpuMark'+'er'](_0x44af29)));const _0x59b444=_0x4fbe1f['getShaderI'+'nstance'](_0x30c64e,_0x36923,_0x386dc3,_0x3ae9e0,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x1b91b5);_0x2f34dc(_0x4fbe1f,_0x59b444,_0x3a5291!==_0x4d7729,!_0x4d7729||_0x11eb6b!==_0x3013d8),_0x4d7729=_0x3a5291,_0x5ecdab=_0x3681db,_0x3013d8=_0x11eb6b;}return Nr;}['renderForw'+'ardInterna'+'l'](_0x572c55,_0x25d74c,_0x42cfe9,_0x3f0e4f,_0x5be4dd,_0x8539c0,_0x40b28d){var _0x509b29,_0x4086dd;const _0x272274=this['device'],_0x22edb1=this['scene'],_0x3805f3=0x2*0xd0f+0x2*0xfcc+0xbb*-0x4f<<_0x3f0e4f,_0x59429f=_0x8539c0?-(0xa3*-0x2b+-0x1ed3+0x3a35):-0x1629+-0x3ef*-0x5+0x1*0x27f,_0x6d4e26=_0x22edb1['clusteredL'+'ightingEna'+'bled'],_0x11799a=(_0x509b29=_0x572c55['xr'])!=null&&_0x509b29['session']&&_0x572c55['xr']['views']['list']['length']?_0x572c55['xr']['views']['list']:null,_0x411bd5=_0x25d74c['drawCalls']['length'];for(let _0x12dedd=-0x4*-0x9a9+-0x5ff+-0x20a5;_0x12dedd<_0x411bd5;_0x12dedd++){const _0x317a3e=_0x25d74c['drawCalls'][_0x12dedd],_0x232780=_0x25d74c['isNewMater'+'ial'][_0x12dedd],_0x2c3700=_0x25d74c['lightMaskC'+'hanged'][_0x12dedd],_0x263a73=_0x25d74c['shaderInst'+'ances'][_0x12dedd],_0x2455e1=_0x317a3e['material'],_0x472354=_0x317a3e['mask'];if(_0x263a73['shader']['failed'])continue;if(_0x232780){if(_0x272274['setShader'](_0x263a73['shader'],!(-0x2*0x3f3+-0x3*-0x6f1+-0xcec)),_0x2455e1['setParamet'+'ers'](_0x272274),_0x2c3700){const _0x56fe94=this['dispatchDi'+'rectLights'](_0x42cfe9[ve],_0x472354,_0x572c55);_0x6d4e26||this['dispatchLo'+'calLights'](_0x42cfe9,_0x472354,_0x56fe94);}this['alphaTestI'+'d']['setValue'](_0x2455e1['alphaTest']),_0x272274['setBlendSt'+'ate'](_0x2455e1['blendState']),_0x272274['setDepthSt'+'ate'](_0x2455e1['depthState']),_0x272274['setAlphaTo'+'Coverage'](_0x2455e1['alphaToCov'+'erage']);}Q['pushGpuMar'+'ker'](_0x272274,'Node:\x20'+_0x317a3e['node']['name']+(',\x20Material'+':\x20')+_0x2455e1['name']),this['setupCullM'+'ode'](_0x572c55['_cullFaces'],_0x59429f,_0x317a3e);const _0x1231f9=_0x317a3e['stencilFro'+'nt']??_0x2455e1['stencilFro'+'nt'],_0x406da2=_0x317a3e['stencilBac'+'k']??_0x2455e1['stencilBac'+'k'];_0x272274['setStencil'+'State'](_0x1231f9,_0x406da2),_0x317a3e['setParamet'+'ers'](_0x272274,_0x3805f3),_0x272274['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0x317a3e['id']);const _0x19fc85=_0x317a3e['mesh'];this['setVertexB'+'uffers'](_0x272274,_0x19fc85),this['setMorphin'+'g'](_0x272274,_0x317a3e['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x272274,_0x317a3e);const _0x55d857=_0x317a3e['instancing'+'Data'];_0x55d857&&_0x272274['setVertexB'+'uffer'](_0x55d857['vertexBuff'+'er']),this['setMeshIns'+'tanceMatri'+'ces'](_0x317a3e,!(0x4*-0x547+-0x22bb+0x37d7)),this['setupMeshU'+'niformBuff'+'ers'](_0x263a73);const _0x4dbbf7=_0x317a3e['renderStyl'+'e'],_0x43ab4e=_0x19fc85['indexBuffe'+'r'][_0x4dbbf7];_0x5be4dd==null||_0x5be4dd(_0x317a3e,_0x12dedd);const _0x20b758=(_0x4086dd=_0x317a3e['indirectDa'+'ta'])==null?void(-0x10ba+0x3*-0x1d2+0xb18*0x2):_0x4086dd['get'](_0x572c55);if(_0x11799a)for(let _0xcad3fe=-0xc7*-0x1d+0x22*-0xea+0x889;_0xcad3fe<_0x11799a['length'];_0xcad3fe++){const _0x2760d8=_0x11799a[_0xcad3fe];if(_0x272274['setViewpor'+'t'](_0x2760d8['viewport']['x'],_0x2760d8['viewport']['y'],_0x2760d8['viewport']['z'],_0x2760d8['viewport']['w']),_0x272274['supportsUn'+'iformBuffe'+'rs']){const _0x1dd077=_0x40b28d[_0xcad3fe];_0x272274['setBindGro'+'up'](rl,_0x1dd077);}else this['setupViewU'+'niforms'](_0x2760d8,_0xcad3fe);const _0x39f4ab=_0xcad3fe===0x1e39*-0x1+0x676*0x2+0x114d*0x1,_0x27fe86=_0xcad3fe===_0x11799a['length']-(0xd71+0x7e+-0xdee);_0x272274['draw'](_0x19fc85['primitive'][_0x4dbbf7],_0x43ab4e,_0x55d857==null?void(0x3b*-0x7d+0x65*-0x11+0x2*0x11c2):_0x55d857['count'],_0x20b758,_0x39f4ab,_0x27fe86),this['_forwardDr'+'awCalls']++,_0x317a3e['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;}else _0x272274['draw'](_0x19fc85['primitive'][_0x4dbbf7],_0x43ab4e,_0x55d857==null?void(-0xa3*-0x5+-0x2351+-0x3*-0xab6):_0x55d857['count'],_0x20b758),this['_forwardDr'+'awCalls']++,_0x317a3e['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;_0x12dedd<_0x411bd5-(-0x335*0xb+0x4*-0x252+0x2c90)&&!_0x25d74c['isNewMater'+'ial'][_0x12dedd+(0x1*0x23f0+0x474*0x1+-0x2863)]&&_0x2455e1['setParamet'+'ers'](_0x272274,_0x317a3e['parameters']),Q['popGpuMark'+'er'](_0x272274);}}['renderForw'+'ard'](_0x5093a8,_0x58da62,_0x23d189,_0x5c56bb,_0x14ea82,_0x1723e9,_0x54e56,_0x20f5ee,_0x5f0858){const _0x3790e4=de(),_0x571943=this['renderForw'+'ardPrepare'+'Materials'](_0x5093a8,_0x58da62,_0x23d189,_0x5c56bb,_0x54e56,_0x14ea82);this['renderForw'+'ardInterna'+'l'](_0x5093a8,_0x571943,_0x5c56bb,_0x14ea82,_0x1723e9,_0x20f5ee,_0x5f0858),Nr['clear'](),this['_forwardTi'+'me']+=de()-_0x3790e4;}['renderForw'+'ardLayer'](_0x3caafc,_0x471f07,_0x87b43a,_0x3f194a,_0x2e76b6,_0x1f8445,_0x249786={}){const {scene:_0x27d128,device:_0xc29407}=this,_0x15eeb3=_0x27d128['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x3caafc,_0x471f07);let _0x533abc,_0x5e3dc5;if(_0x87b43a){const _0x5befec=de();_0x87b43a['sortVisibl'+'e'](_0x3caafc,_0x3f194a),this['_sortTime']+=de()-_0x5befec;const _0x2f561a=_0x87b43a['getCulledI'+'nstances'](_0x3caafc);_0x533abc=_0x3f194a?_0x2f561a['transparen'+'t']:_0x2f561a['opaque'],_0x27d128['immediate']['onPreRende'+'rLayer'](_0x87b43a,_0x533abc,_0x3f194a),_0x87b43a['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x27d128['ambientLig'+'ht'],_0x87b43a['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x5e3dc5=_0x87b43a['splitLight'+'s'];}else _0x533abc=_0x249786['meshInstan'+'ces'],_0x5e3dc5=_0x249786['splitLight'+'s']??Qb;if(w['assert'](_0x533abc,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0x15eeb3){const _0x99bd34=_0x249786['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x99bd34['activate'](),_0x87b43a&&!this['clustersDe'+'bugRendere'+'d']&&_0x27d128['lighting']['debugLayer']===_0x87b43a['id']&&(this['clustersDe'+'bugRendere'+'d']=!(0x1bb9+0x13b*-0x15+0x2*-0xf1),hu['render'](_0x99bd34,this['scene']));}_0x27d128['_activeCam'+'era']=_0x3caafc;const _0x4e47d5=_0x3caafc['fogParams']??this['scene']['fog'];this['setFogCons'+'tants'](_0x4e47d5);const _0x3dff47=this['setCameraU'+'niforms'](_0x3caafc,_0x471f07);_0xc29407['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x1f8445,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x3dff47);const _0x49dc8b=_0x249786['clearColor']??!(0x1de8+-0x1b18+-0x2cf),_0x5b612c=_0x249786['clearDepth']??!(-0xb39*0x3+-0x1*-0x19d6+-0x11*-0x76),_0xad26b0=_0x249786['clearStenc'+'il']??!(0x289*-0xe+0x25b2+-0x233*0x1);(_0x49dc8b||_0x5b612c||_0xad26b0)&&this['clear'](_0x3caafc,_0x49dc8b,_0x5b612c,_0xad26b0);const _0x38f741=!!(_0x3caafc['_flipFaces']^(_0x471f07==null?void(-0xcba+-0x572+-0x122c*-0x1):_0x471f07['flipY'])),_0x21d1aa=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x3caafc,_0x471f07,_0x533abc,_0x5e3dc5,_0x2e76b6,null,_0x87b43a,_0x38f741,_0x1f8445),_0x87b43a&&(_0x87b43a['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x21d1aa);}['setFogCons'+'tants'](_0x2b2c41){if(_0x2b2c41['type']!==Kn){or['linear'](_0x2b2c41['color']);const _0x4ca89c=this['fogColor'];_0x4ca89c[0x112a+-0x1c01+-0x25*-0x4b]=or['r'],_0x4ca89c[0x1532+0x1cb4+-0x31e5]=or['g'],_0x4ca89c[0x7c1+-0x20e3*-0x1+-0x28a2]=or['b'],this['fogColorId']['setValue'](_0x4ca89c),_0x2b2c41['type']===Iw?(this['fogStartId']['setValue'](_0x2b2c41['start']),this['fogEndId']['setValue'](_0x2b2c41['end'])):this['fogDensity'+'Id']['setValue'](_0x2b2c41['density']);}}['setSceneCo'+'nstants'](){const _0x107cf7=this['scene'];this['dispatchGl'+'obalLights'](_0x107cf7);const _0x1a73d1=this['device'];this['_screenSiz'+'e'][0xe9e*0x1+0x61*0x1+-0x15d*0xb]=_0x1a73d1['width'],this['_screenSiz'+'e'][0x4e7*-0x6+-0x7b9+-0x1292*-0x2]=_0x1a73d1['height'],this['_screenSiz'+'e'][0x22cc+-0x1*-0x270d+0x189d*-0x3]=(-0x546*-0x6+0x2*-0x93e+-0xd27*0x1)/_0x1a73d1['width'],this['_screenSiz'+'e'][-0x81d+0x1c72+-0x1452]=(0x109b*-0x1+-0x1043*-0x1+0x1*0x59)/_0x1a73d1['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x490c4f,_0x5b6176){const _0x337819=this['scene'];if(_0x490c4f['reset'](),_0x337819['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x3f606a,cookiesEnabled:_0x4254da}=_0x337819['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x490c4f,_0x3f606a,_0x4254da,this['lights'],this['localLight'+'s']),_0x490c4f['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x490c4f,this['localLight'+'s']);let _0x279d52=-0xf78+0xca*-0x1+0x1042,_0x1199ab=!(0x197a+0x1f*-0x95+-0x76f),_0x526e69=null;const _0x5c5a5d=_0x5b6176['_renderAct'+'ions'];for(let _0x96d797=_0x279d52;_0x96d797<_0x5c5a5d['length'];_0x96d797++){const _0x34f9ec=_0x5c5a5d[_0x96d797],{layer:_0x33b888,camera:_0x416b9e}=_0x34f9ec;if(_0x34f9ec['useCameraP'+'asses'])w['call'](()=>{_0x416b9e['postEffect'+'s']['effects']['length']>-0x15ad+-0x91a+0x1*0x1ec7&&w['warnOnce']('Camera\x20\x27'+_0x416b9e['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x416b9e['camera']['renderPass'+'es']['forEach'](_0x2b05a3=>{_0x490c4f['addRenderP'+'ass'](_0x2b05a3);});else{const _0x313ca4=_0x33b888['id']===ps,_0x239fb6=_0x313ca4&&(_0x416b9e['renderScen'+'eColorMap']||_0x416b9e['renderScen'+'eDepthMap']);_0x1199ab&&(_0x1199ab=!(0x7*-0x18f+0xc9a*0x3+-0x1ae4),_0x279d52=_0x96d797,_0x526e69=_0x34f9ec['renderTarg'+'et']);const _0x43b7e5=_0x5c5a5d[_0x96d797+(0x2044+0x5a*-0x33+-0xe55)],_0x1dc714=(_0x43b7e5?!_0x43b7e5['useCameraP'+'asses']&&_0x43b7e5['layer']['id']===ps:!(-0x35*0x7b+0x22a*-0x8+0x128*0x25))&&(_0x416b9e['renderScen'+'eColorMap']||_0x416b9e['renderScen'+'eDepthMap']),_0x3b94ef=_0x43b7e5?_0x43b7e5['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x43b7e5['camera']['camera']):!(0x8*0x259+-0x763+-0xb64);if(!_0x43b7e5||_0x43b7e5['renderTarg'+'et']!==_0x526e69||_0x3b94ef||_0x1dc714||_0x239fb6){if(_0x313ca4&&_0x279d52===_0x96d797||this['addMainRen'+'derPass'](_0x490c4f,_0x5b6176,_0x526e69,_0x279d52,_0x96d797),_0x313ca4){if(_0x416b9e['renderScen'+'eColorMap']){const _0xb57dab=_0x416b9e['camera']['renderPass'+'ColorGrab'];_0xb57dab['source']=_0x416b9e['renderTarg'+'et'],_0x490c4f['addRenderP'+'ass'](_0xb57dab);}_0x416b9e['renderScen'+'eDepthMap']&&_0x490c4f['addRenderP'+'ass'](_0x416b9e['camera']['renderPass'+'DepthGrab']);}if(_0x34f9ec['triggerPos'+'tprocess']&&(_0x416b9e!=null&&_0x416b9e['onPostproc'+'essing'])){const _0x3eb48c=new Zb(this['device'],this,_0x34f9ec);_0x490c4f['addRenderP'+'ass'](_0x3eb48c);}_0x1199ab=!(-0x9*0x4f+0x33b*-0x6+-0x3d*-0x5d);}}}}['addMainRen'+'derPass'](_0x2cea75,_0x222217,_0x48c910,_0x5b08d0,_0x472e5e){const _0x3c19fb=new Kb(this['device'],_0x222217,this['scene'],this);_0x3c19fb['init'](_0x48c910);const _0x449cef=_0x222217['_renderAct'+'ions'];for(let _0x50e246=_0x5b08d0;_0x50e246<=_0x472e5e;_0x50e246++)_0x3c19fb['addRenderA'+'ction'](_0x449cef[_0x50e246]);_0x2cea75['addRenderP'+'ass'](_0x3c19fb);}['update'](_0x41f238){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x41f238),this['collectLig'+'hts'](_0x41f238),this['beginFrame'](_0x41f238),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x41f238),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};h(Ni,'skipRender'+'Camera',null),h(Ni,'_skipRende'+'rCounter',0x1202+0xe1*0x5+-0x1667),h(Ni,'skipRender'+'After',-0x1*0x10b+-0x1f2a+-0x671*-0x5);let fl=Ni,uf=0x95b+-0x1*0x15b+-0x800;const co=[],hc=new Set();function tA(_0x3c55dd,_0x260c85){return _0x3c55dd['drawOrder']-_0x260c85['drawOrder'];}function sA(_0x19034e,_0xe0945){const _0x1cba68=_0x19034e['_sortKeyFo'+'rward'],_0x352d8a=_0xe0945['_sortKeyFo'+'rward'];return _0x1cba68===_0x352d8a?_0xe0945['mesh']['id']-_0x19034e['mesh']['id']:_0x352d8a-_0x1cba68;}function iA(_0xa669eb,_0x5ff923){return _0x5ff923['_sortKeyDy'+'namic']-_0xa669eb['_sortKeyDy'+'namic'];}function rA(_0xbac661,_0x18a9f5){return _0xbac661['_sortKeyDy'+'namic']-_0x18a9f5['_sortKeyDy'+'namic'];}const aA=[null,tA,sA,iA,rA];class nA{constructor(){h(this,'opaque',[]),h(this,'transparen'+'t',[]);}}class Ot{constructor(_0x4dcd01={}){h(this,'meshInstan'+'ces',[]),h(this,'meshInstan'+'cesSet',new Set()),h(this,'shadowCast'+'ers',[]),h(this,'shadowCast'+'ersSet',new Set()),h(this,'_visibleIn'+'stances',new WeakMap()),h(this,'_lights',[]),h(this,'_lightsSet',new Set()),h(this,'_clustered'+'LightsSet',new Set()),h(this,'_splitLigh'+'ts',[[],[],[]]),h(this,'_splitLigh'+'tsDirty',!(-0x731*-0x2+0x2a4+-0x1106)),h(this,'requiresLi'+'ghtCube',!(0x1d39+0x11f4+-0x2f2c)),h(this,'cameras',[]),h(this,'camerasSet',new Set()),h(this,'_dirtyComp'+'osition',!(-0xa6c+0x130c+-0x1*0x89f)),(_0x4dcd01['id']!==void(0xa12*0x3+-0xd*-0x51+-0x2253)?(this['id']=_0x4dcd01['id'],uf=Math['max'](this['id']+(-0x4ad*0x6+-0x3*0x8e4+0x1*0x36bb),uf)):this['id']=uf++,this['name']=_0x4dcd01['name'],this['_enabled']=_0x4dcd01['enabled']??!(0x194*0x4+0x6*0x49+-0x1a*0x4f),this['_refCounte'+'r']=this['_enabled']?0xc14+0x1b02+-0x2715:-0xc*-0x157+-0x97f+-0x151*0x5,this['opaqueSort'+'Mode']=_0x4dcd01['opaqueSort'+'Mode']??Yw,this['transparen'+'tSortMode']=_0x4dcd01['transparen'+'tSortMode']??m_,_0x4dcd01['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x4dcd01['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x4dcd01['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x4dcd01['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x4dcd01['clearStenc'+'ilBuffer'],this['onEnable']=_0x4dcd01['onEnable'],this['onDisable']=_0x4dcd01['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=0x1*0x21c7+0x178e+-0x3955,this['_lightHash'+'Dirty']=!(-0x3*-0x43f+-0x3dc+-0x8e0),this['_lightIdHa'+'sh']=0x221c*-0x1+0x7*0x1e5+0x14d9,this['_lightIdHa'+'shDirty']=!(0x10d8+-0x5c4*0x3+0x75),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=-0x15*0x155+-0x1*0x15a7+0x18d0*0x2,this['_renderTim'+'e']=-0x22c2+0x214e+0x2*0xba,this['_forwardDr'+'awCalls']=0x1195+-0x1*0x1f39+0xda4,this['_shadowDra'+'wCalls']=0x1368+-0x1154+-0x214,this['_shaderVer'+'sion']=-(0x1054+-0x4*-0x39a+-0x1ebb));}set['enabled'](_0x41adda){_0x41adda!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(-0x26ab*-0x1+0x207e+-0x4729),this['_enabled']=_0x41adda,_0x41adda?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0xe95d0){this['_clearColo'+'rBuffer']=_0xe95d0,this['_dirtyComp'+'osition']=!(0x1bc3+-0xc40+-0xd1*0x13);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x2fbe9e){this['_clearDept'+'hBuffer']=_0x2fbe9e,this['_dirtyComp'+'osition']=!(0x190+-0x1cb3*0x1+-0x1*-0x1b23);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x598bb6){this['_clearSten'+'cilBuffer']=_0x598bb6,this['_dirtyComp'+'osition']=!(0x2*-0x11c9+-0x1e59+-0x1*-0x41eb);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>0x3e*-0x97+0x876+0x1c1c;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===0x2*0x1c6+-0x26d7+0x234b&&(this['_enabled']=!(-0x209*-0x5+-0x1e22+0x189*0xd),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===-0x2*-0x464+0xf9c+-0x1863*0x1)this['_enabled']=!(0x1c*-0x151+-0x1ee0+0x43bd),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===-0x110f+0x4ed+0xc22){w['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x4778ae,_0x139b6c){const _0x5459a2=this['meshInstan'+'ces'],_0x55d032=this['meshInstan'+'cesSet'];for(let _0x180578=-0x205*-0x5+-0xf*-0x1b5+-0x23b4;_0x180578<_0x4778ae['length'];_0x180578++){const _0xadf43d=_0x4778ae[_0x180578];_0x55d032['has'](_0xadf43d)||(_0x5459a2['push'](_0xadf43d),_0x55d032['add'](_0xadf43d),hc['add'](_0xadf43d['material']));}if(_0x139b6c||this['addShadowC'+'asters'](_0x4778ae),hc['size']>-0xa50+0x18b1+-0x3*0x4cb){const _0x5f1de2=this['_shaderVer'+'sion'];hc['forEach'](_0xb9a7f0=>{_0x5f1de2>=0x2123+0x741*0x4+0x3e27*-0x1&&_0xb9a7f0['_shaderVer'+'sion']!==_0x5f1de2&&(_0xb9a7f0['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant']&&_0xb9a7f0['clearVaria'+'nts'](),_0xb9a7f0['_shaderVer'+'sion']=_0x5f1de2);}),hc['clear']();}}['removeMesh'+'Instances'](_0x54eab0,_0x3edb01){const _0x46e00f=this['meshInstan'+'ces'],_0xa8190d=this['meshInstan'+'cesSet'];for(let _0x4f8f18=0xf35+-0x72*-0x4d+-0x317f;_0x4f8f18<_0x54eab0['length'];_0x4f8f18++){const _0xee32ba=_0x54eab0[_0x4f8f18];if(_0xa8190d['has'](_0xee32ba)){_0xa8190d['delete'](_0xee32ba);const _0x5dc8ad=_0x46e00f['indexOf'](_0xee32ba);_0x5dc8ad>=-0x29*-0xea+-0xa1b+-0x7*0x3e9&&_0x46e00f['splice'](_0x5dc8ad,0x1372+0x1*-0xbd9+-0x798);}}_0x3edb01||this['removeShad'+'owCasters'](_0x54eab0);}['addShadowC'+'asters'](_0x441169){const _0x19bf2a=this['shadowCast'+'ers'],_0x520ec0=this['shadowCast'+'ersSet'];for(let _0x16557f=-0x185a+0x2*-0x55f+0x8*0x463;_0x16557f<_0x441169['length'];_0x16557f++){const _0x4b5715=_0x441169[_0x16557f];_0x4b5715['castShadow']&&!_0x520ec0['has'](_0x4b5715)&&(_0x520ec0['add'](_0x4b5715),_0x19bf2a['push'](_0x4b5715));}}['removeShad'+'owCasters'](_0x1c14db){const _0x1a67f8=this['shadowCast'+'ers'],_0x2b1060=this['shadowCast'+'ersSet'];for(let _0x10d761=-0xa5e*0x2+-0x1*0x240b+0x38c7;_0x10d761<_0x1c14db['length'];_0x10d761++){const _0x10ca47=_0x1c14db[_0x10d761];if(_0x2b1060['has'](_0x10ca47)){_0x2b1060['delete'](_0x10ca47);const _0x261f2a=_0x1a67f8['indexOf'](_0x10ca47);_0x261f2a>=-0x1*-0xd2+-0xa3+-0x2f&&_0x1a67f8['splice'](_0x261f2a,0x2*-0x97a+-0x227c+0x3571);}}}['clearMeshI'+'nstances'](_0x76186e=!(-0x395*0x1+0x210e+-0x1d78)){this['meshInstan'+'ces']['length']=-0x839*0x2+0x49*0x29+0x4c1*0x1,this['meshInstan'+'cesSet']['clear'](),_0x76186e||(this['shadowCast'+'ers']['length']=-0xc2c*-0x2+0x1*-0x135e+0xe*-0x5b,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(0x2ef*-0xd+-0x278+-0x69*-0x63),this['_lightIdHa'+'shDirty']=!(0x608*0x1+-0x2f*0xb1+0x54b*0x5),this['_splitLigh'+'tsDirty']=!(-0x913+-0x2ba*0x5+0x16b5);}['hasLight'](_0x27bf6d){return this['_lightsSet']['has'](_0x27bf6d);}['addLight'](_0x4a066e){const _0x15725e=_0x4a066e['light'];this['_lightsSet']['has'](_0x15725e)||(this['_lightsSet']['add'](_0x15725e),this['_lights']['push'](_0x15725e),this['markLights'+'Dirty']()),_0x15725e['type']!==ve&&this['_clustered'+'LightsSet']['add'](_0x15725e);}['removeLigh'+'t'](_0x1182ac){const _0x591207=_0x1182ac['light'];this['_lightsSet']['has'](_0x591207)&&(this['_lightsSet']['delete'](_0x591207),this['_lights']['splice'](this['_lights']['indexOf'](_0x591207),0x136f+0x21da+-0x3548),this['markLights'+'Dirty']()),_0x591207['type']!==ve&&this['_clustered'+'LightsSet']['delete'](_0x591207);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x30cd8e=>_0x30cd8e['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=0x2db*-0x1+-0x94a*-0x3+-0x1903,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(0x3*0xc2e+-0xce9+-0x12*0x150);const _0x442d1f=this['_splitLigh'+'ts'];for(let _0x1a8c34=-0x1ae2+0x2*0x1369+-0xbf0;_0x1a8c34<_0x442d1f['length'];_0x1a8c34++)_0x442d1f[_0x1a8c34]['length']=0x23d7+-0x1b76+-0x861;const _0x29d263=this['_lights'];for(let _0x12ea38=-0x1*-0x17f6+0x25d1+0xc5b*-0x5;_0x12ea38<_0x29d263['length'];_0x12ea38++){const _0x53e707=_0x29d263[_0x12ea38];_0x53e707['enabled']&&_0x442d1f[_0x53e707['_type']]['push'](_0x53e707);}for(let _0x38bbcf=-0x1a65+0x1937*0x1+-0x97*-0x2;_0x38bbcf<_0x442d1f['length'];_0x38bbcf++)_0x442d1f[_0x38bbcf]['sort']((_0x3e0122,_0x509d45)=>_0x3e0122['key']-_0x509d45['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x38b956,_0x462414,_0xe0332f){let _0x363613=-0xaf0+-0x5d7*0x3+0x1c75;const _0x2fa641=this['_lights'];for(let _0x51c9ba=-0x1*-0x25a2+-0x1*0x6a3+-0x1eff;_0x51c9ba<_0x2fa641['length'];_0x51c9ba++){const _0x16a192=_0x2fa641[_0x51c9ba]['type']!==ve;(_0x38b956&&_0x16a192||_0x462414&&!_0x16a192)&&co['push'](_0xe0332f?_0x2fa641[_0x51c9ba]['id']:_0x2fa641[_0x51c9ba]['key']);}return co['length']>0x8eb+-0xe*-0x21a+-0x2657&&(co['sort'](),_0x363613=By(co),co['length']=0xb66*-0x2+-0x951+0x201d),_0x363613;}['getLightHa'+'sh'](_0x49b134){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(-0x1*-0x4a7+0xb1f+0xfc5*-0x1),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x49b134,!(0x3*0x8b7+0x3*0x577+-0x2a8a),!(0x2ca+0xcf4+-0x3*0x53f))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(-0x167*0x2+-0x1622+0x18f1),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(-0x469+-0x2396+0x27ff),!(-0xe3*-0x2+0x1*0x1229+-0x13ee),!(0x229d+-0x9fd*-0x1+-0xede*0x3))),this['_lightIdHa'+'sh'];}['addCamera'](_0x6cd6ac){this['camerasSet']['has'](_0x6cd6ac['camera'])||(this['camerasSet']['add'](_0x6cd6ac['camera']),this['cameras']['push'](_0x6cd6ac),this['_dirtyComp'+'osition']=!(0xc27+-0x12bf*0x2+0x1957));}['removeCame'+'ra'](_0xba8747){if(this['camerasSet']['has'](_0xba8747['camera'])){this['camerasSet']['delete'](_0xba8747['camera']);const _0x10d280=this['cameras']['indexOf'](_0xba8747);this['cameras']['splice'](_0x10d280,-0x2285+0x1*0x136d+-0x305*-0x5),this['_dirtyComp'+'osition']=!(0x1*-0x1ddb+0x2*-0x1163+-0x1*-0x40a1);}}['clearCamer'+'as'](){this['cameras']['length']=-0x11ef+0x254*0x1+-0x2f*-0x55,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(0x141d+0x3ea+-0x1*0x1807);}['_calculate'+'SortDistan'+'ces'](_0x3f7e0f,_0x558b1c,_0x4ac6e3){const _0x14bed2=_0x3f7e0f['length'],{x:_0x57ed65,y:_0x403d91,z:_0x5837f4}=_0x558b1c,{x:_0x56d9ce,y:_0x22486a,z:_0x3206b0}=_0x4ac6e3;for(let _0x157cac=0xcc6+-0xeed*0x1+-0x227*-0x1;_0x157cac<_0x14bed2;_0x157cac++){const _0x593c4b=_0x3f7e0f[_0x157cac];let _0x2c7170;if(_0x593c4b['calculateS'+'ortDistanc'+'e'])_0x2c7170=_0x593c4b['calculateS'+'ortDistanc'+'e'](_0x593c4b,_0x558b1c,_0x4ac6e3);else{const _0x1853c6=_0x593c4b['aabb']['center'];_0x2c7170=(_0x1853c6['x']-_0x57ed65)*_0x56d9ce+(_0x1853c6['y']-_0x403d91)*_0x22486a+(_0x1853c6['z']-_0x5837f4)*_0x3206b0;}const _0x4536f9=_0x593c4b['_drawBucke'+'t']*(0x16c49626+0x5b5a2fbe+-0x1*0x3683fbe4);_0x593c4b['_sortKeyDy'+'namic']=_0x4536f9+_0x2c7170;}}['getCulledI'+'nstances'](_0x4ec43d){let _0x4cfe13=this['_visibleIn'+'stances']['get'](_0x4ec43d);return _0x4cfe13||(_0x4cfe13=new nA(),this['_visibleIn'+'stances']['set'](_0x4ec43d,_0x4cfe13)),_0x4cfe13;}['sortVisibl'+'e'](_0x235cbe,_0x490a67){const _0x451137=_0x490a67?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x451137===Yc)return;const _0x5c3563=this['getCulledI'+'nstances'](_0x235cbe),_0x2d7a52=_0x490a67?_0x5c3563['transparen'+'t']:_0x5c3563['opaque'],_0x1160b4=_0x235cbe['node'];if(_0x451137===Zw){const _0x29f7a9=_0x1160b4['getPositio'+'n'](),_0x5b2f22=_0x1160b4['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x2d7a52,_0x2d7a52['length'],_0x29f7a9,_0x5b2f22),this['customSort'+'Callback']&&_0x2d7a52['sort'](this['customSort'+'Callback']);}else{if(_0x451137===m_||_0x451137===Kw){const _0x18f4a1=_0x1160b4['getPositio'+'n'](),_0x1513df=_0x1160b4['forward'];this['_calculate'+'SortDistan'+'ces'](_0x2d7a52,_0x18f4a1,_0x1513df);}_0x2d7a52['sort'](aA[_0x451137]);}}}const oA=(_0x227b76,_0x1b9824)=>_0x227b76['priority']-_0x1b9824['priority'],ul=_0x226cdb=>_0x226cdb['sort'](oA);class du extends me{constructor(_0x53d82a='Untitled'){super(),h(this,'layerList',[]),h(this,'layerIdMap',new Map()),h(this,'layerNameM'+'ap',new Map()),h(this,'layerOpaqu'+'eIndexMap',new Map()),h(this,'layerTrans'+'parentInde'+'xMap',new Map()),h(this,'subLayerLi'+'st',[]),h(this,'subLayerEn'+'abled',[]),h(this,'cameras',[]),h(this,'_renderAct'+'ions',[]),h(this,'_dirty',!(0xf43+0x1a35+-0x2977)),(this['name']=_0x53d82a,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0x594864=>_0x594864['destroy']()),this['_renderAct'+'ions']['length']=0x159+0xb0*0x16+0x1*-0x1079;}['markDirty'](){this['_dirty']=!(-0x16f0+0x1a20+-0x1*0x330);}['_update'](){const _0x44a027=this['layerList']['length'];if(!this['_dirty']){for(let _0x1227d7=-0x23*-0x3e+0x1884+-0x29*0xce;_0x1227d7<_0x44a027;_0x1227d7++)if(this['layerList'][_0x1227d7]['_dirtyComp'+'osition']){this['_dirty']=!(-0x1fec+0x1acd+0x51f);break;}}if(this['_dirty']){this['_dirty']=!(0x161*0x1b+0x7*-0x184+-0x1a9e),this['cameras']['length']=-0x2*-0xa41+0x633+-0x1ab5;for(let _0x58fb94=0x1d*0x9d+-0x4fa+-0xccf;_0x58fb94<_0x44a027;_0x58fb94++){const _0x2ee841=this['layerList'][_0x58fb94];_0x2ee841['_dirtyComp'+'osition']=!(0x5*-0x10c+0x2*0xe86+-0x17cf);for(let _0x471d98=0x263+0x602*0x5+-0xacf*0x3;_0x471d98<_0x2ee841['cameras']['length'];_0x471d98++){const _0x35fd1e=_0x2ee841['cameras'][_0x471d98];this['cameras']['indexOf'](_0x35fd1e)<0x9*-0x141+0x258d*-0x1+0x1*0x30d6&&this['cameras']['push'](_0x35fd1e);}}this['cameras']['length']>-0x26d3+-0x355+0x2b*0xfb&&ul(this['cameras']);let _0x45601a=-0x1b*-0x3f+0xcb4+-0x673*0x3;this['destroyRen'+'derActions']();for(let _0x2ea373=-0x19bb*-0x1+-0x2*0xae7+0x43*-0xf;_0x2ea373<this['cameras']['length'];_0x2ea373++){const _0x279cbe=this['cameras'][_0x2ea373];if(_0x279cbe['camera']['renderPass'+'es']['length']>-0x7eb*-0x2+-0x711+-0x1*0x8c5){this['addDummyRe'+'nderAction'](_0x45601a,_0x279cbe),_0x45601a++;continue;}let _0x2348a8=!(0x1*0x1208+-0x65*0x35+0x2e1);const _0x51e46a=_0x45601a;let _0x268119=null,_0xd89f05=!(-0xa81+-0x5*0x217+0x14f5*0x1);for(let _0x543c3d=-0x1a6+-0x2*0xfe9+0xfc*0x22;_0x543c3d<_0x44a027;_0x543c3d++){const _0x2ad96c=this['layerList'][_0x543c3d];if(_0x2ad96c['enabled']&&this['subLayerEn'+'abled'][_0x543c3d]&&_0x2ad96c['cameras']['length']>-0x19b8+0x652+0x1366&&_0x279cbe['layers']['indexOf'](_0x2ad96c['id'])>=-0x1*-0x70f+0xd6*0xd+-0x11ed){!_0xd89f05&&_0x2ad96c['id']===_0x279cbe['disablePos'+'tEffectsLa'+'yer']&&(_0xd89f05=!(0x21ad*0x1+0x15f7+-0x37a4),_0x268119&&(_0x268119['triggerPos'+'tprocess']=!(0xa07+0x1*0x243+0x16*-0x8f)));const _0x349292=this['subLayerLi'+'st'][_0x543c3d];_0x268119=this['addRenderA'+'ction'](_0x45601a,_0x2ad96c,_0x349292,_0x279cbe,_0x2348a8,_0xd89f05),_0x45601a++,_0x2348a8=!(-0x513*-0x5+0x1a5+-0x1b03);}}_0x51e46a<_0x45601a&&(_0x268119['lastCamera'+'Use']=!(-0x32f*0x3+0xd67+-0x3da)),!_0xd89f05&&_0x268119&&(_0x268119['triggerPos'+'tprocess']=!(0x2622+-0xfe9+-0x1*0x1639)),_0x279cbe['renderTarg'+'et']&&_0x279cbe['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x51e46a-(-0x9c1+0x1*0x93+-0x92f*-0x1),_0x279cbe);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x3bd555){w['assert'](this['_renderAct'+'ions']['length']===_0x3bd555);const _0x136796=new Pv();return this['_renderAct'+'ions']['push'](_0x136796),_0x136796;}['addDummyRe'+'nderAction'](_0xdaf8f,_0x469c10){const _0x1c5b87=this['getNextRen'+'derAction'](_0xdaf8f);_0x1c5b87['camera']=_0x469c10,_0x1c5b87['useCameraP'+'asses']=!(0x1c*-0xf2+0x6a*-0x44+0x2e*0x130);}['addRenderA'+'ction'](_0x4f692f,_0x2f0335,_0x34fea9,_0x3ed1ba,_0x107070,_0x5dd7d9){let _0x39b077=_0x2f0335['id']!==ps?_0x3ed1ba['renderTarg'+'et']:null,_0x5dde97=!(0x7f*0x16+-0x1*0xb02+0x19);const _0x20950d=this['_renderAct'+'ions'];for(let _0x23ad89=_0x4f692f-(-0x12*-0x151+0x2*0xf54+-0x3659);_0x23ad89>=-0x153a+-0x1e57*-0x1+-0x91d;_0x23ad89--)if(_0x20950d[_0x23ad89]['camera']===_0x3ed1ba&&_0x20950d[_0x23ad89]['renderTarg'+'et']===_0x39b077){_0x5dde97=!(0x2d2*-0xd+0xb36+0x1974);break;}_0x5dd7d9&&_0x3ed1ba['postEffect'+'sEnabled']&&(_0x39b077=null);const _0x40e92a=this['getNextRen'+'derAction'](_0x4f692f);_0x40e92a['triggerPos'+'tprocess']=!(0x6*0x423+0x2665+-0x22e*0x1d),_0x40e92a['layer']=_0x2f0335,_0x40e92a['transparen'+'t']=_0x34fea9,_0x40e92a['camera']=_0x3ed1ba,_0x40e92a['renderTarg'+'et']=_0x39b077,_0x40e92a['firstCamer'+'aUse']=_0x107070,_0x40e92a['lastCamera'+'Use']=!(-0x24e0+-0x7*-0x14f+0x1bb8);const _0x28eba8=_0x107070||!_0x5dde97,_0x27576f=_0x2f0335['clearColor'+'Buffer']||_0x2f0335['clearDepth'+'Buffer']||_0x2f0335['clearStenc'+'ilBuffer'];return(_0x28eba8||_0x27576f)&&_0x40e92a['setupClear'+'s'](_0x28eba8?_0x3ed1ba:void(0x1*-0xa87+0xddf+-0x358),_0x2f0335),_0x40e92a;}['propagateR'+'enderTarge'+'t'](_0x30695f,_0x4bdc33){for(let _0xe483ae=_0x30695f;_0xe483ae>=-0x139f*0x1+0x3*0x331+0xa0c;_0xe483ae--){const _0x2e137b=this['_renderAct'+'ions'][_0xe483ae],_0x532a0c=_0x2e137b['layer'];if(_0x2e137b['renderTarg'+'et']&&_0x532a0c['id']!==ps)break;if(_0x532a0c['id']===ps)continue;if(_0x2e137b['useCameraP'+'asses'])break;const _0x484377=_0x2e137b==null?void(0x945+0x1c89+-0x25ce):_0x2e137b['camera']['camera'];if(_0x484377&&(!_0x4bdc33['camera']['rect']['equals'](_0x484377['rect'])||!_0x4bdc33['camera']['scissorRec'+'t']['equals'](_0x484377['scissorRec'+'t'])))break;_0x2e137b['renderTarg'+'et']=_0x4bdc33['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(mi['get'](Vl)){w['trace'](Vl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x1300cd=0x1d25+-0x1bdf+-0x146;_0x1300cd<this['_renderAct'+'ions']['length'];_0x1300cd++){const _0x2e97c5=this['_renderAct'+'ions'][_0x1300cd],_0x723a58=_0x2e97c5['camera'];if(_0x2e97c5['useCameraP'+'asses'])w['trace'](Vl,_0x1300cd+('CustomPass'+'es\x20Cam:\x20')+(_0x723a58?_0x723a58['entity']['name']:'-'));else{const _0x589f8c=_0x2e97c5['layer'],_0x1f4817=_0x589f8c['enabled']&&this['isEnabled'](_0x589f8c,_0x2e97c5['transparen'+'t']),_0x45fcdb=(_0x2e97c5['clearColor']?'Color\x20':'.....\x20')+(_0x2e97c5['clearDepth']?'Depth\x20':'.....\x20')+(_0x2e97c5['clearStenc'+'il']?'Stencil':'.......');w['trace'](Vl,_0x1300cd+('\x20Cam:\x20'+(_0x723a58?_0x723a58['entity']['name']:'-'))['padEnd'](-0x1*-0x1ba4+-0x6e3*0x4+-0x2,'\x20')+('\x20Lay:\x20'+_0x589f8c['name'])['padEnd'](0x3c6+0x16b2+-0xd31*0x2,'\x20')+(_0x2e97c5['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x1f4817?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x2e97c5['renderTarg'+'et']?_0x2e97c5['renderTarg'+'et']['name']:'-'))['padEnd'](0x1*0xd69+-0x1ff5+0x12aa,'\x20')+'\x20Clear:\x20'+_0x45fcdb+(_0x2e97c5['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x2e97c5['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x2e97c5['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x35c4cc){const _0x2409c5=this['layerIdMap']['get'](_0x35c4cc['id'])===_0x35c4cc;return w['assert'](!_0x2409c5,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x35c4cc['name']),_0x2409c5;}['_isSublaye'+'rAdded'](_0x1fd7db,_0x1bea09){return(_0x1bea09?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x1fd7db)!==void(0x2c8*-0xd+-0x15d*0x11+-0x3d*-0xf9)?(w['error']('Sublayer\x20'+_0x1fd7db['name']+(',\x20transpar'+'ent:\x20')+_0x1bea09+('\x20is\x20alread'+'y\x20added.')),!(0x4*-0xaf+-0x22a3+0x255f)):!(-0x4*-0x120+-0x2178+0x1cf9);}['push'](_0x4912ca){this['_isLayerAd'+'ded'](_0x4912ca)||(this['layerList']['push'](_0x4912ca),this['layerList']['push'](_0x4912ca),this['_opaqueOrd'+'er'][_0x4912ca['id']]=this['subLayerLi'+'st']['push'](!(0x14*-0x107+-0x1c5b+0x30e8))-(-0x1ac3+0x1*0x25ff+0x17*-0x7d),this['_transpare'+'ntOrder'][_0x4912ca['id']]=this['subLayerLi'+'st']['push'](!(-0x93c+0x1daa+-0x146e))-(0xfb+0x1*-0x135e+0xd6*0x16),this['subLayerEn'+'abled']['push'](!(0x1*-0x22b7+0x2336+-0x7f)),this['subLayerEn'+'abled']['push'](!(0x20e9+0x1054+0x9d9*-0x5)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x1ea*0x2+0x1171+-0x1*0xd9d),this['fire']('add',_0x4912ca));}['insert'](_0x5f2e2c,_0x71eb0){if(this['_isLayerAd'+'ded'](_0x5f2e2c))return;this['layerList']['splice'](_0x71eb0,0x5ea+0xb84+-0x116e,_0x5f2e2c,_0x5f2e2c),this['subLayerLi'+'st']['splice'](_0x71eb0,-0x187*0xd+-0x23df+-0x7f6*-0x7,!(-0x85a*-0x2+0x2*0x46f+-0x1991),!(-0x1016+0x18d4+0x2ea*-0x3));const _0x4d30e8=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x71eb0,_0x4d30e8-(0x1*0x15a+0x1*0x47a+-0x5d3)),this['_updateTra'+'nsparentOr'+'der'](_0x71eb0,_0x4d30e8-(0x2a7*-0xb+0x1db9*0x1+-0x8b)),this['subLayerEn'+'abled']['splice'](_0x71eb0,0x2333+-0xd*0x2+-0x2319,!(0x22c5+-0x74*-0x49+-0x62b*0xb),!(0x1*0x367+-0x1500+-0x11*-0x109)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0xb*-0x1f2+-0x8*-0x21a+-0x2636),this['fire']('add',_0x5f2e2c);}['remove'](_0x38b3d6){let _0x49e105=this['layerList']['indexOf'](_0x38b3d6);for(delete this['_opaqueOrd'+'er'][_0x49e105],delete this['_transpare'+'ntOrder'][_0x49e105];_0x49e105>=0x5*0x1fd+0x569*-0x1+-0x91*0x8;)this['layerList']['splice'](_0x49e105,0x21b4+-0x10a*-0x17+0x1*-0x3999),this['subLayerLi'+'st']['splice'](_0x49e105,-0x8*0x3a6+-0x197+-0xf64*-0x2),this['subLayerEn'+'abled']['splice'](_0x49e105,0x172c+0x25b2+-0x3cdd),_0x49e105=this['layerList']['indexOf'](_0x38b3d6),this['_dirty']=!(0x16fa+0x298+-0x1992),this['fire']('remove',_0x38b3d6);const _0x2bb668=this['layerList']['length'];this['_updateOpa'+'queOrder'](0x22c8+0x24f4+-0x47bc,_0x2bb668-(0x16c3+-0x18f7+0x5*0x71)),this['_updateTra'+'nsparentOr'+'der'](-0xeeb+-0x1b*0x11b+0x2cc4,_0x2bb668-(0xc2e+-0x26de+-0x1ab1*-0x1)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x11a1af){this['_isSublaye'+'rAdded'](_0x11a1af,!(-0x124b+0x13f8+-0x1*0x1ac))||(this['layerList']['push'](_0x11a1af),this['_opaqueOrd'+'er'][_0x11a1af['id']]=this['subLayerLi'+'st']['push'](!(-0x35*-0x90+0x5*-0x542+-0x385*0x1))-(-0x1*-0xb69+0x1414+-0x1f7c),this['subLayerEn'+'abled']['push'](!(0x13*0x1f1+0x29b*-0xb+0xa2*-0xd)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x647*-0x2+-0x1293*-0x2+0xc6d*-0x4),this['fire']('add',_0x11a1af));}['insertOpaq'+'ue'](_0x1ac6fe,_0x270cbd){if(this['_isSublaye'+'rAdded'](_0x1ac6fe,!(0x4f9*0x1+0x1*-0x303+-0x1f5)))return;this['layerList']['splice'](_0x270cbd,-0x2160+-0xf8b+0x30eb,_0x1ac6fe),this['subLayerLi'+'st']['splice'](_0x270cbd,0x130a+0xf*-0x296+0x13c0*0x1,!(-0x166*-0x2+0x15ec+-0x1*0x18b7));const _0x423ea0=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x270cbd,_0x423ea0-(-0xb6c+-0x1*0x2173+0x2ce0)),this['subLayerEn'+'abled']['splice'](_0x270cbd,-0x1132+0xfb2+0xc*0x20,!(-0x1*-0x1a89+0xd*-0x2d2+0xa21)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x14*0x3d+-0x25d0*0x1+-0x64*-0x6d),this['fire']('add',_0x1ac6fe);}['removeOpaq'+'ue'](_0x898435){for(let _0x2b1db4=-0x12b*0x1d+0x1edc+-0x1*-0x303,_0x20b635=this['layerList']['length'];_0x2b1db4<_0x20b635;_0x2b1db4++)if(this['layerList'][_0x2b1db4]===_0x898435&&!this['subLayerLi'+'st'][_0x2b1db4]){this['layerList']['splice'](_0x2b1db4,-0x21b5+-0x9*0x17+0x2285),this['subLayerLi'+'st']['splice'](_0x2b1db4,-0x1*-0x8b7+0x4*-0x3f5+-0x1*-0x71e),_0x20b635--,this['_updateOpa'+'queOrder'](_0x2b1db4,_0x20b635-(0x79*0x9+0x1439+-0x1879*0x1)),this['subLayerEn'+'abled']['splice'](_0x2b1db4,-0x234f+0x1934+0x50e*0x2),this['_dirty']=!(-0x118+0x17f6+-0x16de),this['layerList']['indexOf'](_0x898435)<-0x5*0x14c+0x1b*0xe2+-0x1*0x115a&&this['fire']('remove',_0x898435);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0xff7554){this['_isSublaye'+'rAdded'](_0xff7554,!(-0x17bd+0x1d9*-0xb+-0x1e*-0x178))||(this['layerList']['push'](_0xff7554),this['_transpare'+'ntOrder'][_0xff7554['id']]=this['subLayerLi'+'st']['push'](!(0x3b*0x1f+-0x3*-0x617+-0x1*0x196a))-(0x11cf*-0x1+0x1a42+-0x872),this['subLayerEn'+'abled']['push'](!(0xde9+-0x1294+0x4ab)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x1*-0x21d3+0x205d+0x2*0xbb),this['fire']('add',_0xff7554));}['insertTran'+'sparent'](_0x138efc,_0x59f945){if(this['_isSublaye'+'rAdded'](_0x138efc,!(0xfd3*-0x1+-0x1*0x2279+0x431*0xc)))return;this['layerList']['splice'](_0x59f945,-0x1faa+-0x1*-0x174a+0x860,_0x138efc),this['subLayerLi'+'st']['splice'](_0x59f945,0x1fc7+-0xe1a+-0x11ad,!(0x1c1d+0x24b1+0x15*-0x316));const _0xd780f0=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x59f945,_0xd780f0-(-0x137c+-0x13*-0x121+-0x2*0xfb)),this['subLayerEn'+'abled']['splice'](_0x59f945,-0x243b+-0xa*0x14b+0x3129,!(-0x785+0x165a+0xed5*-0x1)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x1081*-0x2+-0x35e*0x5+-0x102c),this['fire']('add',_0x138efc);}['removeTran'+'sparent'](_0x4a3193){for(let _0x142f6c=-0x878+0x1765+-0xeed,_0x34b023=this['layerList']['length'];_0x142f6c<_0x34b023;_0x142f6c++)if(this['layerList'][_0x142f6c]===_0x4a3193&&this['subLayerLi'+'st'][_0x142f6c]){this['layerList']['splice'](_0x142f6c,-0x274+-0x1d06+-0x1*-0x1f7b),this['subLayerLi'+'st']['splice'](_0x142f6c,0x124*-0x6+-0x613+0xcec),_0x34b023--,this['_updateTra'+'nsparentOr'+'der'](_0x142f6c,_0x34b023-(-0x1eca+-0x1c78*0x1+-0x13c1*-0x3)),this['subLayerEn'+'abled']['splice'](_0x142f6c,-0x79f+0x145d+0x3*-0x43f),this['_dirty']=!(0x6*0x65e+-0x23f3+0x241*-0x1),this['layerList']['indexOf'](_0x4a3193)<-0x260b+0x35*-0x3+0x62*0x65&&this['fire']('remove',_0x4a3193);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x38dfa7){return this['layerOpaqu'+'eIndexMap']['get'](_0x38dfa7)??-(-0x1*0x14bf+0x16f7+0x237*-0x1);}['getTranspa'+'rentIndex'](_0x4303f8){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x4303f8)??-(0x5db*0x3+0x219e+-0x1997*0x2);}['isEnabled'](_0x258548,_0xdfbca0){if(_0x258548['enabled']){const _0x12c8b7=_0xdfbca0?this['getTranspa'+'rentIndex'](_0x258548):this['getOpaqueI'+'ndex'](_0x258548);if(_0x12c8b7>=-0xe3c+-0x1*0x185f+0x269b*0x1)return this['subLayerEn'+'abled'][_0x12c8b7];}return!(-0x456+0x26d5*-0x1+-0xc*-0x399);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0x429a33=-0x2*0x7b5+0x72*0x3b+-0xadc;_0x429a33<this['layerList']['length'];_0x429a33++){const _0x16c54b=this['layerList'][_0x429a33];this['layerIdMap']['set'](_0x16c54b['id'],_0x16c54b),this['layerNameM'+'ap']['set'](_0x16c54b['name'],_0x16c54b),(this['subLayerLi'+'st'][_0x429a33]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x16c54b,_0x429a33);}}['getLayerBy'+'Id'](_0x522d96){return this['layerIdMap']['get'](_0x522d96)??null;}['getLayerBy'+'Name'](_0x191eb1){return this['layerNameM'+'ap']['get'](_0x191eb1)??null;}['_updateOpa'+'queOrder'](_0x5c5ba3,_0x2ba40b){for(let _0x26f5a1=_0x5c5ba3;_0x26f5a1<=_0x2ba40b;_0x26f5a1++)this['subLayerLi'+'st'][_0x26f5a1]===!(-0x195d+-0x8ec*-0x1+0x1072*0x1)&&(this['_opaqueOrd'+'er'][this['layerList'][_0x26f5a1]['id']]=_0x26f5a1);}['_updateTra'+'nsparentOr'+'der'](_0xcb9c10,_0x9ab59e){for(let _0x507970=_0xcb9c10;_0x507970<=_0x9ab59e;_0x507970++)this['subLayerLi'+'st'][_0x507970]===!(-0x2075*0x1+0x245*0xc+-0x539*-0x1)&&(this['_transpare'+'ntOrder'][this['layerList'][_0x507970]['id']]=_0x507970);}['_sortLayer'+'sDescendin'+'g'](_0x4c9777,_0x2ac509,_0x1d46f0){let _0x1880e0=-(-0x615+0xf*0x1f5+-0x1745),_0x430ca8=-(0x2b7+0x139f+-0x1655);for(let _0x12ef85=-0x3*0xb5d+-0x4*0x683+0x3c23,_0x4dafaa=_0x4c9777['length'];_0x12ef85<_0x4dafaa;_0x12ef85++){const _0x3c570a=_0x4c9777[_0x12ef85];_0x1d46f0['hasOwnProp'+'erty'](_0x3c570a)&&(_0x1880e0=Math['max'](_0x1880e0,_0x1d46f0[_0x3c570a]));}for(let _0x555035=0x1*-0x894+-0x1f6d*-0x1+0x1*-0x16d9,_0x49911d=_0x2ac509['length'];_0x555035<_0x49911d;_0x555035++){const _0x1f79e5=_0x2ac509[_0x555035];_0x1d46f0['hasOwnProp'+'erty'](_0x1f79e5)&&(_0x430ca8=Math['max'](_0x430ca8,_0x1d46f0[_0x1f79e5]));}return _0x1880e0===-(0x42*-0x64+0x1*0x11f5+0x7d4)&&_0x430ca8!==-(0x3*-0x25f+0x25b1+-0x1e93)?-0x1*-0xc1f+-0x52*0xe+0x1*-0x7a2:_0x430ca8===-(-0xe31+-0xe8+-0x78d*-0x2)&&_0x1880e0!==-(0x1*-0x758+0x158b+-0xe32)?-(-0x18e9+-0x1dd6+0x36c0):_0x430ca8-_0x1880e0;}['sortTransp'+'arentLayer'+'s'](_0x1ea86e,_0x331fd6){return this['_sortLayer'+'sDescendin'+'g'](_0x1ea86e,_0x331fd6,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x1d20ec,_0x327d03){return this['_sortLayer'+'sDescendin'+'g'](_0x1d20ec,_0x327d03,this['_opaqueOrd'+'er']);}}const dc=new D(),wi={'bias':0x0,'normalBias':0x0},ho=new ie(),pf={'r':0x0,'g':0x1,'b':0x2,'a':0x3},fu={'directional':ve,'omni':Ke,'point':Ke,'spot':Ze},lA=[[new re(0xb23+-0x1de1+0x1*0x12be,-0x1*0x159b+0x1e3e+0x1*-0x8a3,0x13cd+-0x24e1+0x1*0x1115,0x17b3+0x51c+0x4cd*-0x6)],[new re(0x734+0x51b*0x1+-0xc4f,0xa7a+-0x1*-0x185+-0xbff,0x1*-0x904+-0xe5b+-0x1f*-0xc1+0.5,0x99c*-0x2+-0x25b0+-0x71d*-0x8+0.5),new re(0x18*0x19b+-0x1b26+-0xb62,0x5*0x6dd+-0x955+-0x18fc+0.5,0x1585*0x1+-0xd5a+-0x82b+0.5,-0x1*-0x1e21+0x1d27+0x7*-0x878+0.5)],[new re(0x5cf+-0x3d*0x26+0x33f,0x258c+0xcb6+-0x3242,-0x2*0x53d+-0x110*0x17+0x22ea+0.5,-0xa33*-0x2+-0x1*-0x2531+0x281*-0x17+0.5),new re(0x466*-0x8+-0x1e92+0x41c2,-0x4b9*-0x8+0x1117+-0x36df+0.5,-0x279*0x4+0x1ec1+0x2fb*-0x7+0.5,0x7*0x402+-0x248d+-0x2d5*-0x3+0.5),new re(-0x6*0x2cd+-0x180c+0x3*0xd9e+0.5,0x9bd*0x3+-0x1195+-0xba2,0x1af8+0xb05+-0x185*0x19+0.5,-0x41*-0x26+-0x1b82+0x12*0xfe+0.5)],[new re(-0x2045+-0xb11+0xe72*0x3,-0x1257+-0x25b6+-0x3*-0x12af,0x1782+-0x1dcb*0x1+-0x1*-0x649+0.5,0x78e+0x22f0+-0x2a7e+0.5),new re(-0x29*0xe2+-0x124d+-0x7*-0x7c9,0x3e*0x19+0x1abd+0x73*-0x49+0.5,0x1*0x801+0x5*0x439+-0x1d1e+0.5,0xeb*0x9+-0x732*-0x5+-0x2c3d+0.5),new re(-0x600+0x20f*0xb+-0x10a5+0.5,0x2164+-0x499*-0x2+-0x2a96,0x8d8+-0x1cd6+0x6aa*0x3+0.5,-0x2390+0x1169+0x1227+0.5),new re(0x135e+0x1cc6+0x1*-0x3024+0.5,0x249f+0x11fd+0x91a*-0x6+0.5,0x2299*0x1+-0x1*-0xf95+-0x322e+0.5,-0x10d*-0xb+0x2422+-0x2fb1+0.5)]],cA={'rrr':0x1,'ggg':0x2,'bbb':0x4,'aaa':0x8,'rgb':0x7};let hA=0x6ab+-0x1*-0x1c74+-0x1b*0x14d;class dA{constructor(_0x36e427,_0x1ca086,_0x5e0afb){this['light']=_0x5e0afb,this['camera']=_0x36e427,this['shadowCame'+'ra']=Cv['createShad'+'owCamera'](_0x5e0afb['_shadowTyp'+'e'],_0x5e0afb['_type'],_0x1ca086),this['shadowMatr'+'ix']=new te(),this['shadowView'+'port']=new re(-0xbd0+0xb37+0x99,0x93a+0x16b1+-0x1feb,-0x25f7+-0x53f+-0x12b*-0x25,0x1*-0x12bd+0x2127+-0x77*0x1f),this['shadowScis'+'sor']=new re(-0x264f+0x1243+-0x140c*-0x1,0x67d+-0x262b+0xa*0x32b,0xf6e+-0x1c2d+0xcc0,0x9fc+-0x1010+0x615*0x1),this['projection'+'Compensati'+'on']=0x1*0xdaf+-0x4*0x724+0xee1,this['face']=_0x1ca086,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0xb1e9e5=>{_0xb1e9e5['defaultUni'+'formBuffer']['destroy'](),_0xb1e9e5['destroy']();}),this['viewBindGr'+'oups']['length']=-0x1ae2*0x1+-0x1206+0x2ce8;}get['shadowBuff'+'er'](){const _0x19e639=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x19e639?this['light']['_isPcf']?_0x19e639['depthBuffe'+'r']:_0x19e639['colorBuffe'+'r']:null;}}class pl{constructor(_0x17838d,_0x587a9e){h(this,'layers',new Set()),h(this,'clusteredL'+'ighting'),h(this,'shadowDept'+'hState',Yt['DEFAULT']['clone']()),h(this,'clusteredF'+'lags',0x1999+-0x1427+0x11*-0x52),h(this,'clusteredD'+'ata',new Uint32Array(-0xe*-0x11f+-0x4d9+0x49*-0x26)),h(this,'clusteredD'+'ata16',new Uint16Array(this['clusteredD'+'ata']['buffer'])),h(this,'_evtDevice'+'Restored',null),(this['device']=_0x17838d,this['clusteredL'+'ighting']=_0x587a9e,this['id']=hA++,this['_evtDevice'+'Restored']=_0x17838d['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this),this['_type']=ve,this['_color']=new ie(0x7ff+0x28d+-0xa8c+0.8,-0x1f45+0xc56*-0x1+0xe89*0x3+0.8,0x213c+-0x22*0x101+-0xe6*-0x1+0.8),this['_intensity']=-0x1d72*0x1+0x1643*-0x1+0x33b6,this['_affectSpe'+'cularity']=!(-0x272+-0x183b+0x1aad),this['_luminance']=-0x104a+0x49*-0x81+0x287*0x15,this['_castShado'+'ws']=!(-0x6dd*0x5+-0x20b8*0x1+0x430a),this['_enabled']=!(-0x1f*0xc1+0x1ce8+-0x588),this['_mask']=Ss,this['isStatic']=!(0x89*-0x1c+0x26d6+-0x17d9),this['key']=-0x167f*-0x1+-0x37*0x83+0x5a6,this['bakeDir']=!(0x1*-0xde7+-0xbd1+-0x8*-0x337),this['bakeNumSam'+'ples']=0x248*0x2+0x3b*0x39+0x5e6*-0x3,this['bakeArea']=0x7d*-0x30+0x1*0x4c+0x1724,this['attenuatio'+'nStart']=0x4*0x7c3+-0x2*0x931+-0x650*0x2,this['attenuatio'+'nEnd']=0x7f6*-0x1+0x260a+-0x1e0a,this['_falloffMo'+'de']=Qp,this['_shadowTyp'+'e']=$s,this['_vsmBlurSi'+'ze']=0x15d6+0x7*0x16c+-0x9*0x387,this['vsmBlurMod'+'e']=em,this['vsmBias']=(0x13ea*0x1+-0xa56*-0x3+-0x32ec+0.01)*(-0x5*-0x743+-0x2*-0x905+-0x3659+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=-0x1d59+-0x140c+0x3166,this['_cookieFal'+'loff']=!(0x2239*0x1+-0x1a*-0x174+-0x4801),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(0x1cf3*0x1+-0x1d7a+0x8b),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(0x1b5a+-0x1*0xd+-0x1b4b),this['_cookieTra'+'nsformSet']=!(0x10c8+-0xd*0xa+0x1045*-0x1),this['_cookieOff'+'setSet']=!(-0x45c+-0x57f+-0x9dc*-0x1),this['_innerCone'+'Angle']=-0x13d5+-0x1*0x1525+0x2922,this['_outerCone'+'Angle']=0x1a32+0x137b+-0x2d80,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=-0x2618+0x1e4d+0x7cc,this['_cascadeBl'+'end']=-0xb0b+-0x2205+-0x10*-0x2d1,this['cascadeDis'+'tribution']=0x1010+0x23dd*0x1+-0x33ed+0.5,this['_shape']=Ys,this['_colorLine'+'ar']=new Float32Array(0xd*-0x19c+-0x3*-0x4c6+0x1*0x69d),this['_updateLin'+'earColor'](),this['_position']=new D(-0x39*-0x49+0xc*-0x5e+-0xbd9,-0x13*0x33+0xbf+0x30a,0xed5*-0x2+0x1*-0x665+0xb5*0x33),this['_direction']=new D(-0x187*-0x10+-0x179*0x10+0x7*-0x20,-0x84a*-0x1+0x6*-0x1d7+0x40*0xb,0x1*-0x268f+-0xc92*-0x3+-0x7*-0x1f),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(-0x1f33+0x225b+0x9d*-0x4)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(-0x1*0x1ec5+0x705*-0x1+0x1*0x25ca),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=-0x1384+-0x24b9+0x1*0x3865,this['_shadowRes'+'olution']=0x17d1+-0x71*-0x18+-0x1e69,this['_shadowBia'+'s']=-(-0x1*-0x179b+0x1128+-0x28c3+0.0005),this['_shadowInt'+'ensity']=0xe5*-0x22+-0x1747*-0x1+-0x4*-0x1c9,this['_normalOff'+'setBias']=-0x8ac+0x8a7+-0x5*-0x1,this['shadowUpda'+'teMode']=lm,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(0x22d*0xf+0x2030+0x1*-0x40d2),this['_isPcf']=!(-0x29*0xef+-0x49*-0x88+0x1*-0x81),this['_softShado'+'wParams']=new Float32Array(0x1c58+-0x2*0xd99+-0x2*0x91),this['shadowSamp'+'les']=-0x1d*0x117+-0x33e+-0x1b*-0x14b,this['shadowBloc'+'kerSamples']=-0x1a9d+0x2354+0x1*-0x8a7,this['penumbraSi'+'ze']=-0x17e8+-0x20b9+0x1*0x38a2,this['penumbraFa'+'lloff']=0x25f6+-0xbf7+-0x19fe,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(0x17f3+0x1f68+-0x375a),this['atlasVersi'+'on']=0x1a56+0xf53*-0x1+-0xb03,this['atlasSlotI'+'ndex']=-0xc94+0xa5*0x33+-0x40f*0x5,this['atlasSlotU'+'pdated']=!(0x172*-0xa+0x14c5*-0x1+0xa7*0x36),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(0x1*0x80d+-0x2280+0x1a74),this['maxScreenS'+'ize']=0x2390+-0x630+-0x1d60,this['_updateSha'+'dowBias']());}['destroy'](){var _0x3ed740;(_0x3ed740=this['_evtDevice'+'Restored'])==null||_0x3ed740['off'](),this['_evtDevice'+'Restored']=null,this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['onDeviceRe'+'stored'](){this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr);}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x492daa=-0x238a*0x1+-0x2177+0xdcd*0x5;_0x492daa<this['_renderDat'+'a']['length'];_0x492daa++)this['_renderDat'+'a'][_0x492daa]['destroy']();this['_renderDat'+'a']['length']=0xbac+0x1*0x17a9+-0x2355;}}['addLayer'](_0x369bca){this['layers']['add'](_0x369bca);}['removeLaye'+'r'](_0x3386e9){this['layers']['delete'](_0x3386e9);}set['shadowSamp'+'les'](_0x269624){this['_softShado'+'wParams'][-0x2691+0x26*-0x5e+0x3485]=_0x269624;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][0x1*-0x1020+-0xa20+0x1a40];}set['shadowBloc'+'kerSamples'](_0x43aab5){this['_softShado'+'wParams'][0x11e9+0x7*0x4bd+-0x3313]=_0x43aab5;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][-0x1ec8+-0xf6b+0x171a*0x2];}set['shadowBias'](_0xbdd456){this['_shadowBia'+'s']!==_0xbdd456&&(this['_shadowBia'+'s']=_0xbdd456,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x271de6){(!this['cascades']||this['numCascade'+'s']!==_0x271de6)&&(this['cascades']=lA[_0x271de6-(-0x1e5d+-0x1*-0x48f+-0x19cf*-0x1)],this['_shadowMat'+'rixPalette']=new Float32Array(-0x1a0f+-0x1a22+0x37f*0xf),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(-0x2287+0x15f4+-0x125*-0xb),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x1d4099){this['_cascadeBl'+'end']!==_0x1d4099&&(this['_cascadeBl'+'end']=_0x1d4099,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x4fae11){this['_shadowMap']!==_0x4fae11&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x4fae11);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x2572f0){this['_mask']!==_0x2572f0&&(this['_mask']=_0x2572f0,this['updateKey'](),this['updateClus'+'teredFlags']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x52a413=this['_type'];return _0x52a413===ve?this['numCascade'+'s']:_0x52a413===Ke?0x255f+0xdb+-0x2634:-0xb9+-0xad*0x23+0x1*0x1861;}set['type'](_0x5e6ecb){if(this['_type']===_0x5e6ecb)return;this['_type']=_0x5e6ecb,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0xb13802=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0xb13802;}get['type'](){return this['_type'];}set['shape'](_0x8a4063){if(this['_shape']===_0x8a4063)return;this['_shape']=_0x8a4063,this['_destroySh'+'adowMap'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0x1b426d=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x1b426d;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x27bec5){this['_usePhysic'+'alUnits']!==_0x27bec5&&(this['_usePhysic'+'alUnits']=_0x27bec5,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x1aa28e){if(this['_shadowTyp'+'e']===_0x1aa28e)return;let _0x111466=qi['get'](_0x1aa28e);_0x111466||(_0x1aa28e=$s);const _0x202c58=this['device'];_0x1aa28e===al&&!_0x202c58['textureFlo'+'atRenderab'+'le']&&!_0x202c58['textureHal'+'fFloatRend'+'erable']&&(_0x1aa28e=$s),this['_type']===Ke&&_0x1aa28e!==tv&&_0x1aa28e!==$s&&_0x1aa28e!==sv&&_0x1aa28e!==iv&&_0x1aa28e!==al&&(_0x1aa28e=$s),_0x1aa28e===Jp&&(!_0x202c58['textureFlo'+'atRenderab'+'le']||!_0x202c58['textureFlo'+'atFilterab'+'le'])&&(_0x1aa28e=au),_0x1aa28e===au&&!_0x202c58['textureHal'+'fFloatRend'+'erable']&&(_0x1aa28e=$s),_0x111466=qi['get'](_0x1aa28e),this['_isVsm']=(_0x111466==null?void(-0x3*-0xc69+0x422*-0x1+-0x1*0x2119):_0x111466['vsm'])??!(0x305*-0x3+0x98a+-0x2*0x3d),this['_isPcf']=(_0x111466==null?void(0x9*0xcc+-0x7*0x448+0x16cc):_0x111466['pcf'])??!(0x8e1+-0x26*-0x83+0x91*-0x32),this['_shadowTyp'+'e']=_0x1aa28e,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x179524){this['_enabled']!==_0x179524&&(this['_enabled']=_0x179524,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0xdeea66){this['_castShado'+'ws']!==_0xdeea66&&(this['_castShado'+'ws']=_0xdeea66,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==fi&&this['_mask']!==-0xb1a*-0x2+-0x13b5+-0x3*0xd5;}set['shadowInte'+'nsity'](_0x35e1bc){this['_shadowInt'+'ensity']!==_0x35e1bc&&(this['_shadowInt'+'ensity']=_0x35e1bc,this['updateKey']());}get['shadowInte'+'nsity'](){return this['_shadowInt'+'ensity'];}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===fi;}set['shadowReso'+'lution'](_0x1fe685){this['_shadowRes'+'olution']!==_0x1fe685&&(this['_type']===Ke?_0x1fe685=Math['min'](_0x1fe685,this['device']['maxCubeMap'+'Size']):_0x1fe685=Math['min'](_0x1fe685,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x1fe685,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0x2a9530){this['_vsmBlurSi'+'ze']!==_0x2a9530&&(_0x2a9530%(-0x2*0x1346+0x170b+0xf83)===-0x23*0xce+-0xf7f*0x1+0x2ba9&&_0x2a9530++,this['_vsmBlurSi'+'ze']=_0x2a9530);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x17d39c){if(this['_normalOff'+'setBias']!==_0x17d39c){const _0x183172=!this['_normalOff'+'setBias']&&_0x17d39c||this['_normalOff'+'setBias']&&!_0x17d39c;this['_normalOff'+'setBias']=_0x17d39c,_0x183172&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x22f742){this['_falloffMo'+'de']!==_0x22f742&&(this['_falloffMo'+'de']=_0x22f742,this['updateKey'](),this['updateClus'+'teredFlags']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0x1426e2){this['_innerCone'+'Angle']!==_0x1426e2&&(this['_innerCone'+'Angle']=_0x1426e2,this['_innerCone'+'AngleCos']=Math['cos'](_0x1426e2*Math['PI']/(-0x1b*0xd3+-0xc*-0x80+0x10f5)),this['updateClus'+'terData'](!(-0x738+-0x63d*0x2+0x691*0x3),!(-0x68c*0x3+-0x6cb*0x4+0x2ed0)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0x512bbb){this['_outerCone'+'Angle']!==_0x512bbb&&(this['_outerCone'+'Angle']=_0x512bbb,this['_updateOut'+'erAngle'](_0x512bbb),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x5f5299){this['_penumbraS'+'ize']=_0x5f5299,this['_softShado'+'wParams'][0x1de7*-0x1+0x1a5+0x1c44]=_0x5f5299;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0x58f4dc){this['_softShado'+'wParams'][-0x833*0x3+-0x1*0x701+0x1f9d*0x1]=_0x58f4dc;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][-0x24*0x19+-0x2550+0x28d7];}['_updateOut'+'erAngle'](_0x10eff4){const _0x225a35=_0x10eff4*Math['PI']/(0x8*0x15b+-0xebb+0xeb*0x5);this['_outerCone'+'AngleCos']=Math['cos'](_0x225a35),this['_outerCone'+'AngleSin']=Math['sin'](_0x225a35),this['updateClus'+'terData'](!(0x7bd*-0x5+-0x17*-0xd9+0x3d7*0x5),!(0x11*-0x82+-0x2*-0x314+-0x13d*-0x2));}set['intensity'](_0x41f087){this['_intensity']!==_0x41f087&&(this['_intensity']=_0x41f087,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0x37649e){this['_type']===ve&&(this['_affectSpe'+'cularity']=_0x37649e,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x1c71ef){this['_luminance']!==_0x1c71ef&&(this['_luminance']=_0x1c71ef,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new te()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new re(0x23b6+-0x2196+-0x220,0x694+-0x244+-0x450,0x510+-0xceb+0x7dc*0x1,0x5*-0x1e0+0xa4+0x8bd)),this['_atlasView'+'port'];}set['cookie'](_0x4083b4){this['_cookie']!==_0x4083b4&&(this['_cookie']=_0x4083b4,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x2d24e4){this['_cookieFal'+'loff']!==_0x2d24e4&&(this['_cookieFal'+'loff']=_0x2d24e4,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x53b1bc){if(this['_cookieCha'+'nnel']!==_0x53b1bc){if(_0x53b1bc['length']<-0x1f3*0x1+-0x1*0x1ec7+0x20bd){const _0x276ad6=_0x53b1bc['charAt'](_0x53b1bc['length']-(-0x72b+0x63b+-0xf1*-0x1)),_0x4b5380=0x93*0x9+-0x6fa+0x2*0xe9-_0x53b1bc['length'];for(let _0x3be623=0x2*0x12b6+0x150a+-0x3a76;_0x3be623<_0x4b5380;_0x3be623++)_0x53b1bc+=_0x276ad6;}this['_cookieCha'+'nnel']=_0x53b1bc,this['updateKey'](),this['updateClus'+'teredFlags']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x557986){this['_cookieTra'+'nsform']!==_0x557986&&(this['_cookieTra'+'nsform']=_0x557986,this['_cookieTra'+'nsformSet']=!!_0x557986,_0x557986&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new J(),this['_cookieOff'+'setSet']=!(-0x15b6+-0x42*-0x49+0x2e5)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0x177daf){if(this['_cookieOff'+'set']===_0x177daf)return;!!(this['_cookieTra'+'nsformSet']||_0x177daf)&&!_0x177daf&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](-0x9d*0x13+0xb8a+-0x1d*-0x1,0x1252+-0x1ed0+0x4e*0x29):this['_cookieOff'+'set']=_0x177daf,this['_cookieOff'+'setSet']=!!_0x177daf,_0x177daf&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new re(-0x7*-0x335+0xa66+-0x20d8*0x1,-0x2245+-0x9fd*0x3+0x403d,-0xc77*0x1+0x2199+-0x1522,0xa6*-0x1b+0xa69+0x719),this['_cookieTra'+'nsformSet']=!(0x8*0x327+0x1927*0x1+-0x325e)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===ve&&this['_enabled'],this['maxScreenS'+'ize']=0x1c52+-0x7*-0x361+-0x33f9,this['atlasViewp'+'ortAllocat'+'ed']=!(-0x1913+-0x9de+-0x1f1*-0x12),this['atlasSlotU'+'pdated']=!(-0x165c+0x235c+-0xcff);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr),this['shadowUpda'+'teOverride'+'s']){for(let _0x512137=-0x966+0x1*0x687+0x2df;_0x512137<this['shadowUpda'+'teOverride'+'s']['length'];_0x512137++)this['shadowUpda'+'teOverride'+'s'][_0x512137]===Ps&&(this['shadowUpda'+'teOverride'+'s'][_0x512137]=xr);}}['getRenderD'+'ata'](_0x3378f9,_0xa04234){for(let _0x15b7e4=0x9*0x443+-0x128b*-0x2+-0x4b71;_0x15b7e4<this['_renderDat'+'a']['length'];_0x15b7e4++){const _0x5ab20c=this['_renderDat'+'a'][_0x15b7e4];if(_0x5ab20c['camera']===_0x3378f9&&_0x5ab20c['face']===_0xa04234)return _0x5ab20c;}const _0x49d1f1=new dA(_0x3378f9,_0xa04234,this);return this['_renderDat'+'a']['push'](_0x49d1f1),_0x49d1f1;}['clone'](){const _0x4ec927=new pl(this['device'],this['clusteredL'+'ighting']);return _0x4ec927['type']=this['_type'],_0x4ec927['setColor'](this['_color']),_0x4ec927['intensity']=this['_intensity'],_0x4ec927['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x4ec927['luminance']=this['_luminance'],_0x4ec927['castShadow'+'s']=this['castShadow'+'s'],_0x4ec927['_enabled']=this['_enabled'],_0x4ec927['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x4ec927['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x4ec927['falloffMod'+'e']=this['_falloffMo'+'de'],_0x4ec927['shadowType']=this['_shadowTyp'+'e'],_0x4ec927['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x4ec927['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x4ec927['vsmBias']=this['vsmBias'],_0x4ec927['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x4ec927['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x4ec927['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x4ec927['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x4ec927['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x4ec927['numCascade'+'s']=this['numCascade'+'s'],_0x4ec927['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x4ec927['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x4ec927['shape']=this['_shape'],_0x4ec927['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x4ec927['shadowBias']=this['shadowBias'],_0x4ec927['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x4ec927['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x4ec927['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x4ec927['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x4ec927['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x4ec927['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x4ec927['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x4ec927['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x4ec927;}static['getLightUn'+'itConversi'+'on'](_0x523d52,_0xccafd7=Math['PI']/(-0xd57*-0x1+0x1a95+0x4fd*-0x8),_0xe0588e=0x22fa+0x65*-0x1+0x27*-0xe3){switch(_0x523d52){case Ze:{const _0x585761=Math['cos'](_0xccafd7),_0x5c0c94=Math['cos'](_0xe0588e);return(0x2193+0x18e*0x8+0x1*-0x2e01)*Math['PI']*(-0x1634*-0x1+-0x5*-0x4ae+-0x511*0x9-_0x5c0c94+(_0x5c0c94-_0x585761)/(0x17a*0x7+-0xd2c+0xb6*0x4));}case Ke:return(-0x1785+-0x2ad+0x1a36)*Math['PI'];case ve:return 0x6e2+-0x18b2+0x1*0x11d1;}}['_getUnifor'+'mBiasValue'+'s'](_0x338ff0){const _0x3a3d31=_0x338ff0['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Ke:wi['bias']=this['shadowBias'],wi['normalBias']=this['_normalOff'+'setBias'];break;case Ze:this['_isVsm']?wi['bias']=-(-0x905+-0x41*0x67+0x232c+0.00001)*(-0x1*0x1a89+-0x1*0x79f+0x223c):wi['bias']=this['shadowBias']*(-0xfef*-0x2+-0x11c3*-0x1+0x127*-0x2b),wi['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(0x150e+-0x117b+-0xe3*0x4)):this['_normalOff'+'setBias'];break;case ve:this['_isVsm']?wi['bias']=-(-0x26f4+0x2a5*0x7+-0x1*-0x1471+0.00001)*(-0x2dc*0x2+0x12e7+0x5*-0x29f):wi['bias']=this['shadowBias']/_0x3a3d31*(-0x26*-0xc+0x22b7+-0x1*0x241b),wi['normalBias']=this['_isVsm']?this['vsmBias']/(_0x3a3d31/(0x18f*-0x5+-0x1*0x51e+-0x24*-0x5c)):this['_normalOff'+'setBias'];break;}return wi;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x324e49){if(this['_type']===Ze){const _0x9e9970=this['attenuatio'+'nEnd'],_0xf29bb1=this['_outerCone'+'Angle'],_0x1a862b=this['_outerCone'+'AngleCos'],_0x3e3833=this['_node'];dc['copy'](_0x3e3833['up']),_0xf29bb1>-0x3*-0x6+0x61*-0x25+-0x4*-0x388?(_0x324e49['radius']=_0x9e9970*this['_outerCone'+'AngleSin'],dc['mulScalar'](-_0x9e9970*_0x1a862b)):(_0x324e49['radius']=_0x9e9970/((0xa23+-0x7c*0x1f+0x1a1*0x3)*_0x1a862b),dc['mulScalar'](-_0x324e49['radius'])),_0x324e49['center']['add2'](_0x3e3833['getPositio'+'n'](),dc);}else this['_type']===Ke&&(_0x324e49['center']=this['_node']['getPositio'+'n'](),_0x324e49['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x1384e2){if(this['_type']===Ze){const _0x5af136=this['attenuatio'+'nEnd'],_0x57a511=this['_outerCone'+'Angle'],_0x45ddd7=this['_node'],_0x3ccb36=Math['abs'](Math['sin'](_0x57a511*Y['DEG_TO_RAD'])*_0x5af136);_0x1384e2['center']['set'](0x2*0x11bf+-0x1*0x60d+-0x1d71*0x1,-_0x5af136*(-0x1daf+-0xaae+-0x1*-0x285d+0.5),-0x54*0x3a+0x1fc6+-0xcbe),_0x1384e2['halfExtent'+'s']['set'](_0x3ccb36,_0x5af136*(0x5*0x301+-0xf9*-0x9+-0x17c6+0.5),_0x3ccb36),_0x1384e2['setFromTra'+'nsformedAa'+'bb'](_0x1384e2,_0x45ddd7['getWorldTr'+'ansform'](),!(-0x1*0xe83+0x1a43+-0xbc0));}else this['_type']===Ke&&(_0x1384e2['center']['copy'](this['_node']['getPositio'+'n']()),_0x1384e2['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Ke&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=-0x1*0xd21+-0x1b5d+0x2*0x143f,this['shadowDept'+'hState']['depthBiasS'+'lope']=0x16ea+0x1*0xe11+-0x24fb;else{const _0x4dc3f4=this['shadowBias']*-(0x14fe+-0x481+-0x1*0xc95);this['shadowDept'+'hState']['depthBias']=_0x4dc3f4,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0x4dc3f4;}}['_updateLin'+'earColor'](){let _0x45f032=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x45f032=this['_luminance']/pl['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*Y['DEG_TO_RAD'],this['_innerCone'+'Angle']*Y['DEG_TO_RAD']));const _0x5ebe5e=this['_color'],_0x1df4d1=this['_colorLine'+'ar'];_0x45f032>=-0x1220+0x2226+0x557*-0x3?ho['linear'](_0x5ebe5e)['mulScalar'](_0x45f032):ho['copy'](_0x5ebe5e)['mulScalar'](_0x45f032)['linear'](),_0x1df4d1[0x19*-0x129+-0xcba+0x29bb]=ho['r'],_0x1df4d1[-0x16bb+-0x1*-0x1d0d+-0x651]=ho['g'],_0x1df4d1[-0x1f*0x3c+-0x1*-0x1da7+-0x1661]=ho['b'],this['updateClus'+'terData'](!(-0x94e+0x3*0x7b+0x7dd));}['setColor'](){arguments['length']===0x1*-0x916+0x17f3+-0xedc?this['_color']['set'](arguments[-0xb0a*0x3+0xdf2*-0x1+0x2f10]['r'],arguments[-0x6a1*0x5+0x3cc*0x9+0x1*-0x107]['g'],arguments[-0x11ef*-0x1+0xcee+-0x1edd]['b']):arguments['length']===0x64b*-0x3+-0x1862+0x17e*0x1d&&this['_color']['set'](arguments[-0x15d0+0x7a7+-0x19*-0x91],arguments[0x23e0+0xb09+0x2*-0x1774],arguments[-0x1*-0x237b+0x3*0x382+0x2dff*-0x1]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0x661110=>{_0x661110['hasLight'](this)&&_0x661110['markLights'+'Dirty']();});}['updateKey'](){let _0x402b48=this['_type']<<-0xc92+-0x181d*-0x1+-0xb6e|this['_shadowTyp'+'e']<<-0x1*-0x147b+0x1bd1*0x1+-0x1c9*0x1b|this['_falloffMo'+'de']<<0x1bd*-0xd+0x1249+0x467|(this['_normalOff'+'setBias']!==0x1392+0x1395+0xd0d*-0x3?-0x31*-0x5c+-0x2323+0x1188:0x107+-0x2*0x2c5+0x483*0x1)<<0x738+-0x1*-0x23b4+-0x2ad6|(this['_cookie']?-0xb*-0x12d+0x1*-0x2287+-0x3*-0x733:-0x67e+-0xce*-0xb+-0x25c)<<-0x233c+-0x1*0x3a9+0x26fa|(this['_cookieFal'+'loff']?0x166f+0x3*0x122+-0x19d4:-0x191*0x1+-0x235b+-0x1276*-0x2)<<-0x13c*-0x1+-0xe05*-0x1+-0xf2d|pf[this['_cookieCha'+'nnel']['charAt'](0xe5f+-0x8ba*-0x3+0x1*-0x288d)]<<-0x8c3+0x417+-0x4be*-0x1|(this['_cookieTra'+'nsform']?-0x3*0x1a+-0x1663+0x16b2:0x2da+-0x1af*0x6+0x740)<<-0x9fa*0x3+-0x1*0x448+0x2242|this['_shape']<<0x556*0x7+0x16*-0x111+-0xdda|(this['numCascade'+'s']>0x1ee6*0x1+0x1668+0x1*-0x354e?-0x1a*-0xb8+-0x2461+0x11b2*0x1:-0x189c+-0x6c2+0x1f5e)<<0xc8d+0x3a*0x95+-0x2e46*0x1|(this['_cascadeBl'+'end']>0x1d3*0x4+0x1f*0x7d+-0x166f*0x1?-0xad9*0x1+-0x1da3+-0x287d*-0x1:0x101*-0x2+0x22f*0xb+-0x1603)<<-0x1e92+-0x4*-0x20b+0x166e|(this['affectSpec'+'ularity']?-0x2432+0x8e2*0x3+0x98d:0x27d*0x4+-0xa56+0x7*0xe)<<-0x359+0x3*-0x3b4+-0x26a*-0x6|this['mask']<<-0x4f8*0x2+-0x1c66+0x265c|(this['_castShado'+'ws']?0x26dc+0x13c3+0x3a9e*-0x1:0x6bb+-0x1*0x1372+0xcb7)<<0x1387+0xb51*0x1+0x36d*-0x9;this['_cookieCha'+'nnel']['length']===0xe62*0x2+-0x24cc+-0x47*-0x1d&&(_0x402b48|=pf[this['_cookieCha'+'nnel']['charAt'](0x2620+-0x26fb+0xdc)]<<-0x595+-0x2415+-0xda*-0x31,_0x402b48|=pf[this['_cookieCha'+'nnel']['charAt'](0x1257+0x1637+0x2b4*-0xf)]<<-0x63b+-0x1271+-0x1a6*-0xf),_0x402b48!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x402b48;}['updateClus'+'teredFlags'](){const _0x3cf38c=!!(this['mask']&Ss),_0xa903f3=!!(this['mask']&di);this['clusteredF'+'lags']=(this['type']===Ze?0x2*-0xcab+-0x24fd*0x1+0x1f2a*0x2:-0x1*-0x23e9+0xcc9*-0x1+-0x1720)<<-0x1*-0x35e+0x49d*0x5+-0x1a51*0x1|(this['_shape']&-0x424+-0x1*-0x1a07+-0x15e0)<<-0x1c54+0x264+0x2*0xd06|(this['_falloffMo'+'de']&0xad5+0x66*-0x19+-0x4a*0x3)<<0x1438+-0x1*-0x195a+-0x2d77|(cA[this['_cookieCha'+'nnel']]??0xbc+0x20f8+-0x21b4)<<-0x6ff+-0x1*0x3c7+-0x9*-0x135|(_0x3cf38c?0x5f*-0x39+0x71e+-0x2*-0x705:-0x1730+-0x1b07+0x3237)<<0x3e1*-0x2+-0x22b5+-0x3*-0xe2f|(_0xa903f3?-0x13c3+-0x1fc5+0x3389:-0x2*0x6f1+-0x1*-0x427+-0x1*-0x9bb)<<-0x6f3+-0x12b*-0xd+0x1*-0x827;}['getCluster'+'edFlags'](_0x4c5819,_0x32c469){return this['clusteredF'+'lags']|((_0x4c5819?Math['floor'](this['shadowInte'+'nsity']*(0x2d*-0x89+0x1*-0x7ce+0x20e2)):-0xb*0x139+-0x169f*-0x1+-0x92c)&-0xac5+0x121+0xaa3)<<0xb*-0x32+0x830+-0x60a|((_0x32c469?Math['floor'](this['cookieInte'+'nsity']*(0x8*0x415+0x1729+-0x923*0x6)):-0x47f*-0x1+-0x1*-0x1b61+0xcc*-0x28)&-0x871*-0x3+-0x1*-0x76d+-0x1fc1)<<0x9c4+-0x53*-0x35+-0x1aeb;}['updateClus'+'terData'](_0xe6a89,_0x238f7d){const {clusteredData16:_0x3c2d49}=this,_0x4b1c76=Mn['float2Half'];_0xe6a89&&(_0x3c2d49[-0x24b7+0x8b3+0x2*0xe02]=_0x4b1c76(Y['clamp'](this['_colorLine'+'ar'][-0x1c0e+0x1*0x15cf+0x63f]/$c,-0x6*-0x355+0xff9+-0x23f7,-0x166fc+0x73c5*0x2+0x17f52)),_0x3c2d49[0x31e*-0xa+-0x1009*0x2+0x3f3f]=_0x4b1c76(Y['clamp'](this['_colorLine'+'ar'][0x5f9*-0x5+-0xa*-0xb+0x1d70]/$c,0x2e3*0x2+-0x7c9+0x203,0xc686+-0x96be+0x680c*0x2)),_0x3c2d49[0x22*0x4c+0x8d1+-0x12e7*0x1]=_0x4b1c76(Y['clamp'](this['_colorLine'+'ar'][-0x25*-0x6d+0x4ab+-0x146a]/$c,0x1bc0+0x1eee+-0x1d*0x206,0x9*0x21ff+0xa*0x103f+-0xd48d))),_0x238f7d&&(_0x3c2d49[0x16f+-0x1096+0xf2b]=_0x4b1c76(this['_innerCone'+'AngleCos']),_0x3c2d49[0x12cd*-0x2+-0x20a*0xc+0x5*0xc6b]=_0x4b1c76(this['_outerCone'+'AngleCos']));}}class Mv{constructor(_0x25bbc4,_0x2ffcce,_0x469d50){h(this,'_areaLight'+'sEnabled',!(0x1426+-0x2f9*0x6+0x3*-0xc5)),h(this,'_cells',new D(0x219f+-0x11*-0x86+0x19*-0x1b3,-0x9e3*0x2+-0xf9f+0x58*0x67,0xb*0x1ed+-0x1c19+-0x4*-0x1bd)),h(this,'_maxLights'+'PerCell',0x1af4+-0x1*-0xf8f+-0x1*0x2984),h(this,'_shadowsEn'+'abled',!(0x2289+0x144f*0x1+-0x36d8)),h(this,'_shadowTyp'+'e',$s),h(this,'_shadowAtl'+'asResoluti'+'on',0x24c8+0x2e3+0x1*-0x1fab),h(this,'_cookiesEn'+'abled',!(0x1*0x181d+-0xe*-0xb2+0x6*-0x5a4)),h(this,'_cookieAtl'+'asResoluti'+'on',-0x175*0xd+0x1*0xc2a+0xec7),h(this,'debugLayer'),h(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x25bbc4,this['_maxTextur'+'eSize']=_0x2ffcce,this['_dirtyLigh'+'tsFnc']=_0x469d50);}['applySetti'+'ngs'](_0xf7493){this['shadowsEna'+'bled']=_0xf7493['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0xf7493['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0xf7493['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0xf7493['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0xf7493['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0xf7493['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0xf7493['lightingSh'+'adowType']??this['shadowType'],_0xf7493['lightingCe'+'lls']&&(this['cells']=new D(_0xf7493['lightingCe'+'lls']));}set['cells'](_0x4dc24c){this['_cells']['copy'](_0x4dc24c);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x43cdfd){this['_maxLights'+'PerCell']=Y['clamp'](_0x43cdfd,0x1*-0x64d+0x2348+-0x1cfa*0x1,-0x21e6*0x1+0x8ec*-0x2+0x34bd*0x1);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x540f9b){this['_cookieAtl'+'asResoluti'+'on']=Y['clamp'](_0x540f9b,-0x34b*-0xa+0x26d6+-0x47a4,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0xb11ac6){this['_shadowAtl'+'asResoluti'+'on']=Y['clamp'](_0xb11ac6,0x832+0x43*-0x65+0x61f*0x3,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x47d614){this['_shadowTyp'+'e']!==_0x47d614&&(this['_shadowTyp'+'e']=_0x47d614,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x33c5df){this['_cookiesEn'+'abled']!==_0x33c5df&&(this['_cookiesEn'+'abled']=_0x33c5df,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x89b738){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x89b738&&(this['_areaLight'+'sEnabled']=_0x89b738,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x4fb682){this['_shadowsEn'+'abled']!==_0x4fb682&&(this['_shadowsEn'+'abled']=_0x4fb682,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}class xa{constructor(_0x13de8c){this['morph']=_0x13de8c,_0x13de8c['incRefCoun'+'t'](),this['device']=_0x13de8c['device'];const _0x5c7c96=_0x13de8c['_targets']['length'];this['shader']=this['_createSha'+'der'](_0x5c7c96),this['_weights']=[],this['_weightMap']=new Map();for(let _0x4de69f=-0x10*0x3f+0x1*0x241+-0x1af*-0x1;_0x4de69f<_0x13de8c['_targets']['length'];_0x4de69f++){const _0x265b3a=_0x13de8c['_targets'][_0x4de69f];_0x265b3a['name']&&this['_weightMap']['set'](_0x265b3a['name'],_0x4de69f),this['setWeight'](_0x4de69f,_0x265b3a['defaultWei'+'ght']);}this['_shaderMor'+'phWeights']=new Float32Array(_0x5c7c96),this['_shaderMor'+'phIndex']=new Uint32Array(_0x5c7c96);const _0xf7c3b1=(_0x1f7b6a,_0x23d4b6)=>(this[_0x23d4b6]=_0x13de8c['_createTex'+'ture'](_0x1f7b6a,_0x13de8c['_renderTex'+'tureFormat']),new gt({'colorBuffer':this[_0x23d4b6],'depth':!(0x155b+-0x1415*0x1+-0x145)}));_0x13de8c['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0xf7c3b1('MorphRTPos','texturePos'+'itions')),_0x13de8c['morphNorma'+'ls']&&(this['rtNormals']=_0xf7c3b1('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x13de8c['morphTextu'+'reWidth'],_0x13de8c['morphTextu'+'reHeight']]);const _0x52afd7=_0x13de8c['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x52afd7['x']*(0xa1*-0x31+0x119*-0x13+-0x33b0*-0x1),_0x52afd7['y']*(-0xfd*-0xb+0xe60+-0x3*0x869),_0x52afd7['z']*(-0x11ae+0x1*-0x24fa+0x36ac)]);const _0x5588b1=_0x13de8c['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x5588b1['x']*(0xd32+0x6*0x312+-0x22*0xee),_0x5588b1['y']*(-0x1ed7+0x59*0x2e+0xedb),_0x5588b1['z']*(0x1*0x899+0x1f*-0x21+-0x498)]),this['_aabbNrmSi'+'ze']=new Float32Array([0x18cd+0x2*0x12f5+-0x3eb5,-0x2115+-0x258a+0x46a1,0x177e+-0x2*-0xccb+-0x3112]),this['_aabbNrmMi'+'n']=new Float32Array([-(0x63b+-0x88+-0x3*0x1e6),-(0xe9*-0xb+-0x13ae+-0x3*-0x9e6),-(0x99f*0x3+0x231*0x3+-0xc1*0x2f)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin'),this['morphTextu'+'reId']=this['device']['scope']['resolve']('morphTextu'+'re'),this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['morphIndex']=this['device']['scope']['resolve']('morphIndex'+'[0]'),this['countId']=this['device']['scope']['resolve']('count'),this['zeroTextur'+'es']=!(-0x2687*0x1+0x8c8+0x1dc0);}['destroy'](){var _0x5264e6,_0x3e093a,_0x227dd3,_0x1d0033;this['shader']=null;const _0x2b817e=this['morph'];_0x2b817e&&(this['morph']=null,_0x2b817e['decRefCoun'+'t'](),_0x2b817e['refCount']<-0x1eb7*-0x1+-0x1*0x1ee2+0xb*0x4&&_0x2b817e['destroy']()),(_0x5264e6=this['rtPosition'+'s'])==null||_0x5264e6['destroy'](),this['rtPosition'+'s']=null,(_0x3e093a=this['texturePos'+'itions'])==null||_0x3e093a['destroy'](),this['texturePos'+'itions']=null,(_0x227dd3=this['rtNormals'])==null||_0x227dd3['destroy'](),this['rtNormals']=null,(_0x1d0033=this['textureNor'+'mals'])==null||_0x1d0033['destroy'](),this['textureNor'+'mals']=null;}['clone'](){return new xa(this['morph']);}['_getWeight'+'Index'](_0x407eba){if(typeof _0x407eba=='string'){const _0x4ffe32=this['_weightMap']['get'](_0x407eba);return _0x4ffe32===void(0x1af3*-0x1+0x2*0xd7e+-0x9)&&w['errorOnce']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x407eba+'.'),_0x4ffe32;}return _0x407eba;}['getWeight'](_0x542606){const _0x40df13=this['_getWeight'+'Index'](_0x542606);return this['_weights'][_0x40df13];}['setWeight'](_0x31c48d,_0x7ccb3a){const _0x31c571=this['_getWeight'+'Index'](_0x31c48d);w['assert'](_0x31c571>=-0x2333+-0x2698*0x1+0x833*0x9&&_0x31c571<this['morph']['_targets']['length']),this['_weights'][_0x31c571]=_0x7ccb3a,this['_dirty']=!(0x81c+0x1671+-0x1e8d);}['_createSha'+'der'](_0x1e6d8f){const _0x2ccefc=new Map();_0x2ccefc['set']('{MORPH_TEX'+'TURE_MAX_C'+'OUNT}',_0x1e6d8f),this['morph']['intRenderF'+'ormat']&&_0x2ccefc['set']('MORPH_INT','');const _0x334ccd=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';return $t['createShad'+'er'](this['device'],{'uniqueName':'TextureMor'+'phShader_'+_0x1e6d8f+'-'+(this['morph']['intRenderF'+'ormat']?'int':'float'),'attributes':{'vertex_position':Me},'vertexChunk':'morphVS','fragmentChunk':'morphPS','fragmentDefines':_0x2ccefc,'fragmentOutputTypes':[_0x334ccd]});}['_updateTex'+'tureRender'+'Target'](_0x3678e4,_0xf71cd,_0x20f437){const {morph:_0x26f27b,device:_0x11935a}=this;this['setAabbUni'+'forms'](_0x20f437),this['morphTextu'+'reId']['setValue'](_0x20f437?_0x26f27b['targetsTex'+'turePositi'+'ons']:_0x26f27b['targetsTex'+'tureNormal'+'s']),_0x11935a['setBlendSt'+'ate'](pt['NOBLEND']),this['countId']['setValue'](_0xf71cd),this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),this['morphIndex']['setValue'](this['_shaderMor'+'phIndex']),Ar(_0x11935a,_0x3678e4,this['shader']);}['_updateTex'+'tureMorph'](_0x90e178){const _0x5b2469=this['device'];Q['pushGpuMar'+'ker'](_0x5b2469,'MorphUpdat'+'e'),(_0x90e178>0x1a09+-0x1a0*-0x5+-0x2229*0x1||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],_0x90e178,!(-0x620+0x1778+-0x1158)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],_0x90e178,!(0xc46*-0x1+0x36*-0x32+-0x16d3*-0x1)),this['zeroTextur'+'es']=_0x90e178===0x1a7d+0x1*0x1f99+0xa*-0x5cf),Q['popGpuMark'+'er'](_0x5b2469);}['setAabbUni'+'forms'](_0x25c772=!(-0x50c+-0x98b+0xe97)){this['aabbSizeId']['setValue'](_0x25c772?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x25c772?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0x5f30c6){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(-0x24d0+0x99*0x2f+-0x8ba*-0x1);const _0x184777=this['morph']['_targets'],_0x745b34=0x2*0x1db+-0x16a5+0x12ef*0x1+0.00001,_0x5c2ece=this['_shaderMor'+'phWeights'],_0x5eee9b=this['_shaderMor'+'phIndex'];let _0x5ac41e=0x1ea5+0xa74+-0x2919;for(let _0x8afd6b=0x808+-0x503*-0x3+-0x1711;_0x8afd6b<_0x184777['length'];_0x8afd6b++)Math['abs'](this['getWeight'](_0x8afd6b))>_0x745b34&&(_0x5c2ece[_0x5ac41e]=this['getWeight'](_0x8afd6b),_0x5eee9b[_0x5ac41e]=_0x8afd6b,_0x5ac41e++);this['_updateTex'+'tureMorph'](_0x5ac41e);}}class sr{constructor(){h(this,'graph',null),h(this,'meshInstan'+'ces',[]),h(this,'skinInstan'+'ces',[]),h(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=-0x2ce*0xc+-0x361*0x3+0x2bcb,this['_immutable']=!(0x15dd+-0x1947+0x5*0xaf));}['getGraph'](){return this['graph'];}['setGraph'](_0x38972e){this['graph']=_0x38972e;}['getCameras'](){return this['cameras'];}['setCameras'](_0xf060a4){this['cameras']=_0xf060a4;}['getLights'](){return this['lights'];}['setLights'](_0x14d374){this['lights']=_0x14d374;}['getMateria'+'ls'](){const _0x4e8327=[];for(let _0x4f3277=0x20ce+-0x985*0x2+0x4*-0x371;_0x4f3277<this['meshInstan'+'ces']['length'];_0x4f3277++){const _0x3ad237=this['meshInstan'+'ces'][_0x4f3277];_0x4e8327['indexOf'](_0x3ad237['material'])===-(0x222d+0x2150+0x4*-0x10df)&&_0x4e8327['push'](_0x3ad237['material']);}return _0x4e8327;}['clone'](){const _0x57684f=[],_0x36aa5c=[],_0x4411d6=function(_0x3b14c4){const _0x41bddd=_0x3b14c4['clone']();_0x57684f['push'](_0x3b14c4),_0x36aa5c['push'](_0x41bddd);for(let _0x539e1c=-0x1061+-0x1d04+0x2d65;_0x539e1c<_0x3b14c4['_children']['length'];_0x539e1c++)_0x41bddd['addChild'](_0x4411d6(_0x3b14c4['_children'][_0x539e1c]));return _0x41bddd;},_0x29f515=_0x4411d6(this['graph']),_0x506895=[],_0x3b1eca=[],_0x3dcab0=[];for(let _0x348009=-0x10*0x74+-0x1*0x48+0x788;_0x348009<this['skinInstan'+'ces']['length'];_0x348009++){const _0x3e8352=this['skinInstan'+'ces'][_0x348009]['skin'],_0x108038=new Ol(_0x3e8352),_0x565584=[];for(let _0x36d7a7=0x137c+-0x1b55*0x1+-0x7*-0x11f;_0x36d7a7<_0x3e8352['boneNames']['length'];_0x36d7a7++){const _0x3b6c08=_0x3e8352['boneNames'][_0x36d7a7],_0x4d6b60=_0x29f515['findByName'](_0x3b6c08);_0x565584['push'](_0x4d6b60);}_0x108038['bones']=_0x565584,_0x3b1eca['push'](_0x108038);}for(let _0x106dd7=-0x17f*0xc+0x18b4+-0x6c0;_0x106dd7<this['morphInsta'+'nces']['length'];_0x106dd7++){const _0x19f461=this['morphInsta'+'nces'][_0x106dd7]['morph'],_0x6b0d50=new xa(_0x19f461);_0x3dcab0['push'](_0x6b0d50);}for(let _0x317f61=0x1*-0x14b+-0x14*0x9d+0xd8f;_0x317f61<this['meshInstan'+'ces']['length'];_0x317f61++){const _0x12cd7a=this['meshInstan'+'ces'][_0x317f61],_0x16840=_0x57684f['indexOf'](_0x12cd7a['node']),_0x371e7b=new He(_0x12cd7a['mesh'],_0x12cd7a['material'],_0x36aa5c[_0x16840]);if(_0x12cd7a['skinInstan'+'ce']){const _0x5b922b=this['skinInstan'+'ces']['indexOf'](_0x12cd7a['skinInstan'+'ce']);_0x371e7b['skinInstan'+'ce']=_0x3b1eca[_0x5b922b];}if(_0x12cd7a['morphInsta'+'nce']){const _0x4a8e93=this['morphInsta'+'nces']['indexOf'](_0x12cd7a['morphInsta'+'nce']);_0x371e7b['morphInsta'+'nce']=_0x3dcab0[_0x4a8e93];}_0x506895['push'](_0x371e7b);}const _0x4bd64a=new sr();return _0x4bd64a['graph']=_0x29f515,_0x4bd64a['meshInstan'+'ces']=_0x506895,_0x4bd64a['skinInstan'+'ces']=_0x3b1eca,_0x4bd64a['morphInsta'+'nces']=_0x3dcab0,_0x4bd64a['getGraph']()['syncHierar'+'chy'](),_0x4bd64a;}['destroy'](){const _0xccc52a=this['meshInstan'+'ces'];for(let _0x105c28=-0x3fa+0x14bf+0x35*-0x51;_0x105c28<_0xccc52a['length'];_0x105c28++)_0xccc52a[_0x105c28]['destroy']();this['meshInstan'+'ces']['length']=0x11cb+0x226a+-0x3435;}['generateWi'+'reframe'](){He['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],$r);}}class mm extends wd{constructor(_0xa21be1,_0x3ff2e7,{preferHighPrecision:_0x324a3c=!(-0x1f84+-0x3fa+-0x237f*-0x1)}={}){super(),h(this,'_aabb'),h(this,'preferHigh'+'Precision'),(w['assert'](_0x3ff2e7,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x3ff2e7);const _0x137cf9=_0x3ff2e7;this['preferHigh'+'Precision']=_0x324a3c,w['assert'](_0xa21be1['every'](_0x4ca230=>!_0x4ca230['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0xa21be1['slice']();const _0x4933e1=_0x137cf9['textureHal'+'fFloatRend'+'erable']?nt:void(-0x1935+-0x1b0a*-0x1+-0x1d5),_0x4085f4=_0x137cf9['textureFlo'+'atRenderab'+'le']?Xt:void(0x64+0xa0b+-0x1*0xa6f);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x4085f4??_0x4933e1:_0x4933e1??_0x4085f4,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??nd,this['intRenderF'+'ormat']=dn(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Xt:nt,this['_init'](),this['_updateMor'+'phFlags']();}['destroy'](){var _0x22a260,_0x3b299f,_0x5610c3;(_0x22a260=this['vertexBuff'+'erIds'])==null||_0x22a260['destroy'](),this['vertexBuff'+'erIds']=null,(_0x3b299f=this['targetsTex'+'turePositi'+'ons'])==null||_0x3b299f['destroy'](),this['targetsTex'+'turePositi'+'ons']=null,(_0x5610c3=this['targetsTex'+'tureNormal'+'s'])==null||_0x5610c3['destroy'](),this['targetsTex'+'tureNormal'+'s']=null;}get['aabb'](){if(!this['_aabb']){const _0x413994=new D(),_0x10e34f=new D();for(let _0x43f5de=0x502+-0x1be3+0x16e1;_0x43f5de<this['_targets']['length'];_0x43f5de++){const _0x1b2074=this['_targets'][_0x43f5de]['aabb'];_0x413994['min'](_0x1b2074['getMin']()),_0x10e34f['max'](_0x1b2074['getMax']());}this['_aabb']=new De(),this['_aabb']['setMinMax'](_0x413994,_0x10e34f);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x5acf39=0x81+-0x24cc+0x244b;_0x5acf39<this['_targets']['length'];_0x5acf39++)this['_targets'][_0x5acf39]['_postInit']();}['_findSpars'+'eSet'](_0x3a2521,_0x2fcc3f,_0x281aa6){let _0x140cb7=-0x2*-0xd3a+0x2122+-0x3b95;const _0xf4bba5=_0x3a2521[-0x165*0x7+-0x19ef+0x1*0x23b2]['length'];for(let _0x116faf=0x1d51+-0x11e1*-0x1+0x1*-0x2f32;_0x116faf<_0xf4bba5;_0x116faf+=-0x46*0x68+-0x1851*0x1+0x133*0x2c){let _0x364d09=!(-0x8*0x283+0x2179+-0xd60);for(let _0x21ac22=-0x1*-0x3a9+-0x248c+0x20e3;_0x21ac22<_0x3a2521['length'];_0x21ac22++){const _0x1c7eb7=_0x3a2521[_0x21ac22];if(_0x1c7eb7[_0x116faf]!==0x662+0xb3*-0x21+0x1*0x10b1||_0x1c7eb7[_0x116faf+(-0x1603+0xeb*-0x11+0x259f*0x1)]!==0x17ab*-0x1+0x1*-0x1de0+-0x5f3*-0x9||_0x1c7eb7[_0x116faf+(-0x989*0x4+-0x17*0xef+0x3b9f)]!==0x1b1*-0x1+0x442*-0x1+0x5f3){_0x364d09=!(-0xeac+0x1*0x133f+-0x493);break;}}_0x364d09?(_0x2fcc3f['push'](_0x140cb7),_0x281aa6['push'](_0x116faf/(0xe58+0x270a*-0x1+0x18b5)),_0x140cb7++):_0x2fcc3f['push'](-0x1676+0x1eeb+-0x875);}return _0x140cb7;}['_initTextu'+'reBased'](){const _0x184301=[],_0x2a99fc=[],_0x5ce598=this['_targets'];for(let _0x1eb831=0xdf*-0x24+-0xb08+0x2a64;_0x1eb831<_0x5ce598['length'];_0x1eb831++){const _0x4d9b24=_0x5ce598[_0x1eb831];_0x4d9b24['options']['deltaPosit'+'ions']&&(_0x184301['push'](_0x4d9b24['options']['deltaPosit'+'ions']),_0x2a99fc['push'](!(0x1*-0x18ee+-0x15b0+-0xd*-0x396))),_0x4d9b24['options']['deltaNorma'+'ls']&&(_0x184301['push'](_0x4d9b24['options']['deltaNorma'+'ls']),_0x2a99fc['push'](!(-0x3*-0x819+-0x1*-0x67f+-0x1ec9)));}const _0xe4afdf=[],_0x238a0e=[],_0x233c39=this['_findSpars'+'eSet'](_0x184301,_0xe4afdf,_0x238a0e),_0x45f684=this['device']['maxTexture'+'Size'];let _0x163f4a=Math['ceil'](Math['sqrt'](_0x233c39));_0x163f4a=Math['min'](_0x163f4a,_0x45f684);const _0x181d25=Math['ceil'](_0x233c39/_0x163f4a);if(_0x181d25>_0x45f684){w['warnOnce']('Morph\x20targ'+'et\x20data\x20is'+'\x20too\x20large'+'\x20to\x20fit\x20in'+'to\x20a\x20textu'+'re\x20array.\x20'+'Required\x20t'+'exture\x20siz'+'e:\x20'+_0x163f4a+'x'+_0x181d25+(',\x20max\x20text'+'ure\x20size:\x20')+_0x45f684+'x'+_0x45f684+'.');return;}this['morphTextu'+'reWidth']=_0x163f4a,this['morphTextu'+'reHeight']=_0x181d25;let _0x4d976d=!(-0x14*0x3d+-0x4a2*-0x7+-0x1ba9);const _0x588f16=Mn['float2Half'];this['_textureFo'+'rmat']===nt&&(_0x4d976d=!(0x21da+0x27f*0x3+-0x2957));const _0x11f72a=[],_0x3d24b3=[],_0x3d9493=_0x163f4a*_0x181d25*(0x2*0xc31+0xc82+-0x938*0x4);for(let _0x3b4856=-0x1d6*0x8+0xce8+0x1c8;_0x3b4856<_0x184301['length'];_0x3b4856++){const _0x1f62f6=_0x184301[_0x3b4856],_0x2b2697=this['_textureFo'+'rmat']===nt?new Uint16Array(_0x3d9493):new Float32Array(_0x3d9493);if((_0x2a99fc[_0x3b4856]?_0x11f72a:_0x3d24b3)['push'](_0x2b2697),_0x4d976d)for(let _0x513f73=0x1fc+-0x2*-0xc2f+-0xd2d*0x2;_0x513f73<_0x238a0e['length'];_0x513f73++){const _0x3351ba=_0x238a0e[_0x513f73]*(0x1*0x1a30+0x373*-0x5+-0x8ee),_0x41159a=_0x513f73*(0x63c+0x1e5*-0x2+-0x26e)+(0x13ef*0x1+0x12c+-0x1517);_0x2b2697[_0x41159a]=_0x588f16(_0x1f62f6[_0x3351ba]),_0x2b2697[_0x41159a+(-0x76*-0xe+-0x110*0x19+0x141d)]=_0x588f16(_0x1f62f6[_0x3351ba+(0x16*0xd4+-0x169b*0x1+-0x2*-0x232)]),_0x2b2697[_0x41159a+(0xed9+-0x16a7+0x7d0)]=_0x588f16(_0x1f62f6[_0x3351ba+(-0x2*-0x4a9+0x9*-0x25d+0xbf5)]);}else for(let _0x1155ec=-0xa07+-0x1771+0xb28*0x3;_0x1155ec<_0x238a0e['length'];_0x1155ec++){const _0x39f760=_0x238a0e[_0x1155ec]*(-0x166d+-0x1d3e+0x13b*0x2a),_0x417588=_0x1155ec*(0x1f15+0x1e9d*-0x1+-0x1*0x74)+(0x7*-0x47+-0xd7*0x8+0x8ad);_0x2b2697[_0x417588]=_0x1f62f6[_0x39f760],_0x2b2697[_0x417588+(0x29d+-0x19b3+-0x17*-0x101)]=_0x1f62f6[_0x39f760+(0x1cca+-0x1*0x1f31+0x4*0x9a)],_0x2b2697[_0x417588+(0x61*-0x1a+-0xa73*-0x2+-0xb0a)]=_0x1f62f6[_0x39f760+(-0x669*0x1+0x3*0x2d+0x5e4)];}}_0x11f72a['length']>0x7c6+-0x1109+0x1*0x943&&(this['targetsTex'+'turePositi'+'ons']=this['_createTex'+'ture']('MorphPosit'+'ionsTextur'+'e',this['_textureFo'+'rmat'],_0x5ce598['length'],[_0x11f72a]),this['targetsTex'+'turePositi'+'ons']['upload']()),_0x3d24b3['length']>-0x22ab+-0x26ad+0x4958&&(this['targetsTex'+'tureNormal'+'s']=this['_createTex'+'ture']('MorphNorma'+'lsTexture',this['_textureFo'+'rmat'],_0x5ce598['length'],[_0x3d24b3]),this['targetsTex'+'tureNormal'+'s']['upload']());const _0x3bd58c=[{'semantic':Ln,'components':0x1,'type':el,'asInt':!(-0x16b4+0x613*-0x6+0x3b26)}];return this['vertexBuff'+'erIds']=new Is(this['device'],new kt(this['device'],_0x3bd58c,_0xe4afdf['length']),_0xe4afdf['length'],{'data':new Uint32Array(_0xe4afdf)}),!(-0x13ec+0x8d0+-0xb1c*-0x1);}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(0x9*0x46+-0x13e2+0x116d),this['_morphNorm'+'als']=!(0x2*-0x24f+0x1a5f+0xc0*-0x1d);for(let _0x577a65=-0x7*-0x472+-0x13d+-0x1de1;_0x577a65<this['_targets']['length'];_0x577a65++){const _0x51346e=this['_targets'][_0x577a65];_0x51346e['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(-0x1824+0x142*-0x17+0x2*0x1a89)),_0x51346e['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(0x155+0x9ad+-0x2*0x581));}}['_createTex'+'ture'](_0x2b275,_0x3b1da0,_0x2a788c,_0x4477c2){return new _e(this['device'],{'levels':_0x4477c2,'arrayLength':_0x2a788c,'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x3b1da0,'cubemap':!(0x1*0xb6b+0xfa1*-0x1+0x437),'mipmaps':!(0x1*0x25bb+0x1399+0x3953*-0x1),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0x2b275});}}class Md{constructor(_0x5e34aa){h(this,'used',!(0x2670+0x141b+-0x1*0x3a8a)),(w['assert'](arguments['length']===0x724+0x1b95+-0x22b8),this['options']=_0x5e34aa,this['_name']=_0x5e34aa['name'],this['_defaultWe'+'ight']=_0x5e34aa['defaultWei'+'ght']||0x2*-0xcbb+0x7e1+0x7*0x283,this['_aabb']=_0x5e34aa['aabb'],this['deltaPosit'+'ions']=_0x5e34aa['deltaPosit'+'ions'],this['morphPosit'+'ions']=!!_0x5e34aa['deltaPosit'+'ions'],this['morphNorma'+'ls']=!!_0x5e34aa['deltaNorma'+'ls']);}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new De(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}['clone'](){return w['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Md(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(-0x1c56+0xf85+0x1*0xcd1);}}let Ei,Z_=0x3a+0x17ad+-0x17e6;const ce=-0x165e+0xe*0x203+0x5c8*-0x1,mf=new te(),_f=new te(),ti=new D(),tt=new D(),Ns=new D(),Na=new D(),ns=new D(),_t=new D(),ka=new D(),Ua=new D(),fo=new D(),Q_=new D(),zt=new D(),fc=new D(),kr=new D();function pn(_0x2ce87f){return _0x2ce87f-Math['floor'](_0x2ce87f);}function fA(_0x1b9fa4){return Math['max'](Math['min'](_0x1b9fa4,0x1bda+0x8ae+0x40f*-0x9),0x20b8+0x1*0x23c1+0x4479*-0x1);}function gf(_0x48217e,_0x4ede7f){return _0x48217e-_0x4ede7f*Math['floor'](_0x48217e/_0x4ede7f);}function uA(_0x55695){let _0x17b6aa=pn(_0x55695),_0x5dba4d=pn((0x11f*-0x1a+0x4f*0x15+0x17aa*0x1)*_0x55695),_0x42f967=pn((0xfdf1+0x5*-0x3a62+0x123fa)*_0x55695),_0x9e447=pn((-0x8*0x1d6bf6b+0xc08c933+0xc3f7924)*_0x55695);return _0x17b6aa-=_0x5dba4d/(-0x201b+0xbe1+-0x1539*-0x1),_0x5dba4d-=_0x42f967/(-0x25a3+-0x1436+0x3ad8),_0x42f967-=_0x9e447/(0xdb5*0x2+0xd40+-0x27ab),_0x9e447-=_0x9e447/(-0x2*0x1135+0x1b8d+0x7dc),[_0x17b6aa,_0x5dba4d,_0x42f967,_0x9e447];}function uc(_0x5cc441){let _0x283154=pn(_0x5cc441),_0x4a74d8=pn((-0x1d9c+-0x26c7+-0x4562*-0x1)*_0x5cc441);return _0x283154-=_0x4a74d8/(-0x1*0x17d2+0x2559*0x1+0x2*-0x644),_0x4a74d8-=_0x4a74d8/(0x645+0x47*0x2+-0x5d4),[_0x283154,_0x4a74d8];}class pA{constructor(_0x3d9101){this['_emitter']=_0x3d9101;}['calcSpawnP'+'osition'](_0x52f70a,_0x59486f,_0x41148f,_0x2cd91a,_0x3c71fa){const _0x3f4726=this['_emitter'],_0x550f9d=Math['random'](),_0x30f4b2=Math['random'](),_0x435413=Math['random'](),_0x227a44=Math['random']();if(_0x3f4726['useCpu']&&(_0x52f70a[_0x3c71fa*ce+(0xfe9*-0x1+-0x1ce7+-0x778*-0x6)+_0x3f4726['numParticl'+'esPot']*(-0x89e*0x4+0x399*0x1+-0x3*-0xa4b)*ce]=_0x550f9d,_0x52f70a[_0x3c71fa*ce+(-0x1*0xeed+-0x2170+0x305e)+_0x3f4726['numParticl'+'esPot']*(-0x22a9*0x1+-0x937+0x2be2)*ce]=_0x30f4b2,_0x52f70a[_0x3c71fa*ce+(-0x22e4+-0x1*-0x26e5+-0x3ff)+_0x3f4726['numParticl'+'esPot']*(-0xa0f+-0x1a85+0x2496)*ce]=_0x435413),tt['x']=_0x550f9d-(-0x66b*0x4+0x26*-0x40+0x232c+0.5),tt['y']=_0x30f4b2-(0x11*-0x16c+0x20*-0xfd+-0x4*-0xdf3+0.5),tt['z']=_0x435413-(0xe4a*-0x1+-0x1c96+0x2ae0+0.5),_0x3f4726['emitterSha'+'pe']===ai){const _0x48a671=Math['max'](Math['abs'](tt['x']),Math['max'](Math['abs'](tt['y']),Math['abs'](tt['z']))),_0x495196=_0x48a671+(-0x23b3+-0x1f67+0x431a+0.5-_0x48a671)*_0x41148f[-0x1*0x228f+0x892*0x1+0x19fd],_0x239f11=_0x48a671+(0x249b+-0xe4e*0x1+-0x207*0xb+0.5-_0x48a671)*_0x41148f[-0x170f*0x1+0xb30+0xbe0],_0x229215=_0x48a671+(-0x2*0x218+-0x165b+0x9*0x2f3+0.5-_0x48a671)*_0x41148f[0x699*-0x1+0x42d*0x1+0x1*0x26e];tt['x']=_0x495196*(_0x48a671===Math['abs'](tt['x'])?Math['sign'](tt['x']):(-0x6f*0x1+0xc76+-0xc05)*tt['x']),tt['y']=_0x239f11*(_0x48a671===Math['abs'](tt['y'])?Math['sign'](tt['y']):(-0x350+0xce1+-0x98f)*tt['y']),tt['z']=_0x229215*(_0x48a671===Math['abs'](tt['z'])?Math['sign'](tt['z']):(0xdfd*-0x1+-0x17*0x118+-0x27*-0x101)*tt['z']),_0x3f4726['localSpace']?ti['copy'](_0x59486f['transformP'+'oint'](tt)):ti['copy'](_0x2cd91a)['add'](_0x59486f['transformP'+'oint'](tt));}else{tt['normalize']();const _0x527dda=_0x3f4726['emitterRad'+'ius']===-0x21a*0x5+-0x3*0x941+-0x65*-0x61?0xbbf+-0x11df+0x620:_0x3f4726['emitterRad'+'iusInner']/_0x3f4726['emitterRad'+'ius'],_0x3612ee=_0x227a44*(0x17aa+-0x494+-0x1315-_0x527dda)+_0x527dda;_0x3f4726['localSpace']?ti['copy'](tt['mulScalar'](_0x3612ee*_0x3f4726['emitterRad'+'ius'])):ti['copy'](_0x2cd91a)['add'](tt['mulScalar'](_0x3612ee*_0x3f4726['emitterRad'+'ius']));}let _0x275c11=-Y['lerp'](_0x3f4726['rate'],_0x3f4726['rate2'],_0x550f9d)*_0x3c71fa;if(_0x3f4726['pack8']){const _0x359752=(ti['x']-_0x3f4726['worldBound'+'s']['center']['x'])/_0x3f4726['worldBound'+'sSize']['x']+(0x3*0x677+-0x1*-0x2623+-0x3988+0.5),_0x38c04b=(ti['y']-_0x3f4726['worldBound'+'s']['center']['y'])/_0x3f4726['worldBound'+'sSize']['y']+(-0x3*0x6ed+0x13dc+-0x5*-0x2f+0.5),_0x58fa75=(ti['z']-_0x3f4726['worldBound'+'s']['center']['z'])/_0x3f4726['worldBound'+'sSize']['z']+(0xb*-0x2ed+-0x1dff+0x3e2e+0.5);let _0x524707=Y['lerp'](_0x3f4726['startAngle']*Y['DEG_TO_RAD'],_0x3f4726['startAngle'+'2']*Y['DEG_TO_RAD'],_0x550f9d);_0x524707=_0x524707%(Math['PI']*(0x1994+0xe7a+-0xa03*0x4))/(Math['PI']*(-0x1318+-0x1*0x157e+0x2898));const _0x4a159a=uc(_0x359752);_0x52f70a[_0x3c71fa*ce]=_0x4a159a[0x1582+0x5da+-0x1b5c],_0x52f70a[_0x3c71fa*ce+(-0x1fdf+0xf3d+0x1*0x10a3)]=_0x4a159a[0x1bc5*-0x1+0x251c+-0x956];const _0x333874=uc(_0x38c04b);_0x52f70a[_0x3c71fa*ce+(-0x6b*-0x58+0x9e3+0x5*-0x955)]=_0x333874[0x1858+0x18f4+-0x314c],_0x52f70a[_0x3c71fa*ce+(0x1*-0x11a0+-0x137*-0x15+-0x7e0)]=_0x333874[0x1af8+0x2c*-0xad+0x2c5];const _0x17153d=uc(_0x58fa75);_0x52f70a[_0x3c71fa*ce+(0x15*-0x6f+-0x1350+0xf*0x1e5)+_0x3f4726['numParticl'+'esPot']*ce]=_0x17153d[-0x16d2+0x13f*0x1+0x1593],_0x52f70a[_0x3c71fa*ce+(-0x10ca+-0x2f*-0xd+-0x2*-0x734)+_0x3f4726['numParticl'+'esPot']*ce]=_0x17153d[-0x566+0x26+-0x1*-0x541];const _0x2a8d08=uc(_0x524707);_0x52f70a[_0x3c71fa*ce+(-0x218a+0xe7b+0x1311)+_0x3f4726['numParticl'+'esPot']*ce]=_0x2a8d08[0x15da+-0x494+-0x1*0x1146],_0x52f70a[_0x3c71fa*ce+(-0x180*-0x6+0x1544+-0x1e41)+_0x3f4726['numParticl'+'esPot']*ce]=_0x2a8d08[-0x1852+0x8*0x3a5+0x4d5*-0x1];const _0x478e6f=-0xe5d*-0x2+-0x2*0xe31+-0x57;_0x52f70a[_0x3c71fa*ce+(0xe27+0x4a8*0x7+-0x2*0x175e)+_0x3f4726['numParticl'+'esPot']*ce*(-0xe5*0x1a+-0xe*0x1ae+-0x1*-0x2ec8)]=_0x478e6f;const _0x2188be=Math['max'](_0x3f4726['lifetime'],(_0x3f4726['numParticl'+'es']-(-0x5*0x7ca+0xd02+0x19f1))*Math['max'](_0x3f4726['rate'],_0x3f4726['rate2'])),_0xd4d1dc=_0x3f4726['lifetime']+(0x8da*0x4+-0x1bd0+-0x797);_0x275c11=(_0x275c11+_0x2188be)/(_0x2188be+_0xd4d1dc);const _0x2b0828=uA(_0x275c11);_0x52f70a[_0x3c71fa*ce+(0x1ea1*0x1+0x1c17+-0x8*0x757)+_0x3f4726['numParticl'+'esPot']*ce*(-0x1*-0xfb7+-0x2*0x26a+-0x2b8*0x4)]=_0x2b0828[0x3df*-0x9+-0xa93+0x2d6a],_0x52f70a[_0x3c71fa*ce+(0x1*-0xb5f+-0x7a3+0x1*0x1303)+_0x3f4726['numParticl'+'esPot']*ce*(0x116a+0x1*0x10fe+-0x2265)]=_0x2b0828[0x5*-0xa9+-0x4e4+0x419*0x2],_0x52f70a[_0x3c71fa*ce+(-0x2005*-0x1+0x2*-0x443+0x177d*-0x1)+_0x3f4726['numParticl'+'esPot']*ce*(0x2f*-0x49+0x45*0x89+-0x1783)]=_0x2b0828[0x4*-0x349+-0x3*-0x252+0x18*0x42],_0x52f70a[_0x3c71fa*ce+(-0x1*0x475+-0x4d6*-0x3+-0xa0a)+_0x3f4726['numParticl'+'esPot']*ce*(0x6a6+-0xa*0xd5+0x1af*0x1)]=_0x2b0828[0xef9+-0x167a+-0x2*-0x3c2];}else _0x52f70a[_0x3c71fa*ce]=ti['x'],_0x52f70a[_0x3c71fa*ce+(0x1073*-0x1+-0xa7d+0xd1*0x21)]=ti['y'],_0x52f70a[_0x3c71fa*ce+(-0xb*0x1df+0x114e+0x349)]=ti['z'],_0x52f70a[_0x3c71fa*ce+(-0x1f90+-0x5d2+0x2565)]=Y['lerp'](_0x3f4726['startAngle']*Y['DEG_TO_RAD'],_0x3f4726['startAngle'+'2']*Y['DEG_TO_RAD'],_0x550f9d),_0x52f70a[_0x3c71fa*ce+(-0x112+0x1eb1+-0x1d9c)+_0x3f4726['numParticl'+'esPot']*ce]=_0x275c11;}['update'](_0x1c6fef,_0x4b986d,_0xde2c24,_0xa5cd00,_0x50c8bf,_0xbbcd7,_0x15f1b2,_0x4771e6){let _0x38879c,_0x5835e1,_0x101f61;const _0x318beb=this['_emitter'];if(_0x318beb['meshInstan'+'ce']['node']){const _0x102f44=_0x318beb['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x36b73e=0x184f+-0xb*0x14a+0xa21*-0x1;_0x36b73e<-0x4f3+0x1a66+0x1*-0x1567;_0x36b73e++)mf['data'][_0x36b73e]=_0x102f44['data'][_0x36b73e];_f['copy'](mf),_f['invert'](),Ei=_0x318beb['meshInstan'+'ce']['node']['localScale'],Z_=Math['max'](Math['max'](Ei['x'],Ei['y']),Ei['z']);}_0xbbcd7=_0x318beb['meshInstan'+'ce']['node']===null||_0x318beb['localSpace']?D['ZERO']:_0x318beb['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x4f145e=_0x318beb['camera']?_0x318beb['camera']['_node']['getPositio'+'n']():D['ZERO'],_0x3936f0=_0x318beb['useMesh']?0x11af+-0x1aff*0x1+0x961:0x136a+-0x1*0x48b+-0xed0;let _0xc9def7,_0x562d4a,_0x125904,_0x4f0991,_0x318f02,_0x221a0d,_0x2ccfac,_0x3c0c67,_0x47fab8;const _0x5af3db=_0x318beb['precision']-(0x10db+-0xa*0xa3+0x2*-0x53e);for(let _0x32ecbe=-0xfad*-0x2+0x1b20+0x5*-0xbb2;_0x32ecbe<_0x318beb['numParticl'+'es'];_0x32ecbe++){const _0x30e4e3=Math['floor'](_0x318beb['vbCPU'][_0x32ecbe*_0x318beb['numParticl'+'eVerts']*(_0x318beb['useMesh']?-0x2*-0xe57+0x117b+-0x1f*0x17d:0x1*0x12ee+-0x1df*0x14+0x1282)+(0xa8f+-0x3*-0x8f3+-0x2565)]),_0x595fb4=_0xde2c24[_0x30e4e3*ce+(-0x1*0x335+-0x1839+0x2*0xdb7)+_0x318beb['numParticl'+'esPot']*(0x26fa+-0x2005*0x1+-0x1*0x6f3)*ce];Ns['x']=_0x595fb4,Ns['y']=_0xde2c24[_0x30e4e3*ce+(-0x202a+0xc41*0x2+-0x7a9*-0x1)+_0x318beb['numParticl'+'esPot']*(-0x1*0x2401+-0x55*0x11+-0x14d4*-0x2)*ce],Ns['z']=_0xde2c24[_0x30e4e3*ce+(-0x1d1e*-0x1+0x417*0x4+-0x2d78)+_0x318beb['numParticl'+'esPot']*(-0x1c7d+0x10*-0xba+0x281f)*ce];const _0x5c22e5=_0x318beb['rate']+(_0x318beb['rate2']-_0x318beb['rate'])*_0x595fb4,_0x361d4c=_0x318beb['lifetime'];let _0x323462=_0xde2c24[_0x30e4e3*ce+(0x46b+0x1323+0x1*-0x178b)+_0x318beb['numParticl'+'esPot']*ce]+_0x15f1b2;const _0x38b24b=fA(_0x323462/_0x361d4c);let _0x46fee8=-0x143c+-0x7*-0x6b+0x114f,_0x29c050=0x2679+-0x1a*0x17b+-0x1*-0x5;const _0x52b561=-0x18ee*-0x1+-0x1*0x1163+-0x1*0x78b;(_0x323462-_0x15f1b2<=0xf38+-0xb67+-0x3d1||_0x323462>=_0x361d4c)&&this['calcSpawnP'+'osition'](_0xde2c24,_0xa5cd00,_0x50c8bf,_0xbbcd7,_0x30e4e3);let _0x13b773=_0x323462>-0x1*-0x1169+0xc7*-0x21+0x83e*0x1&&_0x323462<_0x361d4c;_0x13b773&&(_0x101f61=_0x38b24b*_0x5af3db,_0xc9def7=Math['floor'](_0x101f61),_0x562d4a=Math['ceil'](_0x101f61),_0x101f61%=0x19fc+-0x2f*0x23+-0x2*0x9c7,_0x38879c=_0x318beb['qRotSpeed'][_0xc9def7],_0x5835e1=_0x318beb['qRotSpeed'][_0x562d4a],_0x125904=_0x38879c+(_0x5835e1-_0x38879c)*_0x101f61,_0x38879c=_0x318beb['qRotSpeed2'][_0xc9def7],_0x5835e1=_0x318beb['qRotSpeed2'][_0x562d4a],_0x4f0991=_0x38879c+(_0x5835e1-_0x38879c)*_0x101f61,_0x38879c=_0x318beb['qScale'][_0xc9def7],_0x5835e1=_0x318beb['qScale'][_0x562d4a],_0x46fee8=_0x38879c+(_0x5835e1-_0x38879c)*_0x101f61,_0x38879c=_0x318beb['qScale2'][_0xc9def7],_0x5835e1=_0x318beb['qScale2'][_0x562d4a],_0x318f02=_0x38879c+(_0x5835e1-_0x38879c)*_0x101f61,_0x38879c=_0x318beb['qAlpha'][_0xc9def7],_0x5835e1=_0x318beb['qAlpha'][_0x562d4a],_0x221a0d=_0x38879c+(_0x5835e1-_0x38879c)*_0x101f61,_0x38879c=_0x318beb['qAlpha2'][_0xc9def7],_0x5835e1=_0x318beb['qAlpha2'][_0x562d4a],_0x2ccfac=_0x38879c+(_0x5835e1-_0x38879c)*_0x101f61,_0x38879c=_0x318beb['qRadialSpe'+'ed'][_0xc9def7],_0x5835e1=_0x318beb['qRadialSpe'+'ed'][_0x562d4a],_0x3c0c67=_0x38879c+(_0x5835e1-_0x38879c)*_0x101f61,_0x38879c=_0x318beb['qRadialSpe'+'ed2'][_0xc9def7],_0x5835e1=_0x318beb['qRadialSpe'+'ed2'][_0x562d4a],_0x47fab8=_0x38879c+(_0x5835e1-_0x38879c)*_0x101f61,_0x3c0c67+=(_0x47fab8-_0x3c0c67)*(_0x595fb4*(0x1*-0x19a2+-0x46d+0x5*0x617)%(-0x144e+0x92f+0xb20)),Na['x']=_0xde2c24[_0x30e4e3*ce],Na['y']=_0xde2c24[_0x30e4e3*ce+(0x1145*-0x1+-0xf8b+0x20d1)],Na['z']=_0xde2c24[_0x30e4e3*ce+(0x2*0xb9f+-0x1f8d+0x851)],_0x318beb['localSpace']?fo['copy'](Na):fo['copy'](Na)['sub'](_0xbbcd7),fo['normalize']()['mulScalar'](_0x3c0c67),_0xc9def7*=-0xe1d*-0x1+-0x367+-0xf9*0xb,_0x562d4a*=-0x307*0x2+0x374+0x29d,_0x38879c=_0x318beb['qLocalVelo'+'city'][_0xc9def7],_0x5835e1=_0x318beb['qLocalVelo'+'city'][_0x562d4a],_t['x']=_0x38879c+(_0x5835e1-_0x38879c)*_0x101f61,_0x38879c=_0x318beb['qLocalVelo'+'city'][_0xc9def7+(-0x20c0+-0x6d2*-0x1+0x8a5*0x3)],_0x5835e1=_0x318beb['qLocalVelo'+'city'][_0x562d4a+(-0x95c*0x1+-0xe7*0x1+0x3*0x36c)],_t['y']=_0x38879c+(_0x5835e1-_0x38879c)*_0x101f61,_0x38879c=_0x318beb['qLocalVelo'+'city'][_0xc9def7+(0xbbd*-0x2+0xa06+-0xd76*-0x1)],_0x5835e1=_0x318beb['qLocalVelo'+'city'][_0x562d4a+(-0x3*-0xc2+0x2620+-0x2c*0xeb)],_t['z']=_0x38879c+(_0x5835e1-_0x38879c)*_0x101f61,_0x38879c=_0x318beb['qLocalVelo'+'city2'][_0xc9def7],_0x5835e1=_0x318beb['qLocalVelo'+'city2'][_0x562d4a],Ua['x']=_0x38879c+(_0x5835e1-_0x38879c)*_0x101f61,_0x38879c=_0x318beb['qLocalVelo'+'city2'][_0xc9def7+(0x1f06+-0x1*0x28f+-0x1c76)],_0x5835e1=_0x318beb['qLocalVelo'+'city2'][_0x562d4a+(0x38f*0x1+0xa2d*-0x1+0x69f)],Ua['y']=_0x38879c+(_0x5835e1-_0x38879c)*_0x101f61,_0x38879c=_0x318beb['qLocalVelo'+'city2'][_0xc9def7+(-0x1328+-0x1b90+0x2eba)],_0x5835e1=_0x318beb['qLocalVelo'+'city2'][_0x562d4a+(0x1*-0x992+-0xb41+0x1*0x14d5)],Ua['z']=_0x38879c+(_0x5835e1-_0x38879c)*_0x101f61,_0x38879c=_0x318beb['qVelocity'][_0xc9def7],_0x5835e1=_0x318beb['qVelocity'][_0x562d4a],ns['x']=_0x38879c+(_0x5835e1-_0x38879c)*_0x101f61,_0x38879c=_0x318beb['qVelocity'][_0xc9def7+(-0x39*-0x57+0x1*0x623+-0x1981)],_0x5835e1=_0x318beb['qVelocity'][_0x562d4a+(-0x24c7*-0x1+0x209*-0x1+-0x22bd*0x1)],ns['y']=_0x38879c+(_0x5835e1-_0x38879c)*_0x101f61,_0x38879c=_0x318beb['qVelocity'][_0xc9def7+(-0x151e+-0x688+0x2*0xdd4)],_0x5835e1=_0x318beb['qVelocity'][_0x562d4a+(0x3e*0x49+-0x1ebc+0x10*0xd1)],ns['z']=_0x38879c+(_0x5835e1-_0x38879c)*_0x101f61,_0x38879c=_0x318beb['qVelocity2'][_0xc9def7],_0x5835e1=_0x318beb['qVelocity2'][_0x562d4a],ka['x']=_0x38879c+(_0x5835e1-_0x38879c)*_0x101f61,_0x38879c=_0x318beb['qVelocity2'][_0xc9def7+(0x6cd+-0x216a+0xd4f*0x2)],_0x5835e1=_0x318beb['qVelocity2'][_0x562d4a+(0x1ec*-0x1+0x892+0x237*-0x3)],ka['y']=_0x38879c+(_0x5835e1-_0x38879c)*_0x101f61,_0x38879c=_0x318beb['qVelocity2'][_0xc9def7+(-0x1*0x24fb+0x27*0xa3+0xc28)],_0x5835e1=_0x318beb['qVelocity2'][_0x562d4a+(-0x17b*-0x1+-0x12f*0x3+-0x214*-0x1)],ka['z']=_0x38879c+(_0x5835e1-_0x38879c)*_0x101f61,_t['x']+=(Ua['x']-_t['x'])*Ns['x'],_t['y']+=(Ua['y']-_t['y'])*Ns['y'],_t['z']+=(Ua['z']-_t['z'])*Ns['z'],_0x318beb['initialVel'+'ocity']>0x160a+-0xb3*-0x21+-0x2d1d&&(_0x318beb['emitterSha'+'pe']===zw?(tt['copy'](Ns)['mulScalar'](0x13ce+0x298+0x2*-0xb32)['sub'](D['ONE'])['normalize'](),_t['add'](tt['mulScalar'](_0x318beb['initialVel'+'ocity']))):_t['add'](D['FORWARD']['mulScalar'](_0x318beb['initialVel'+'ocity']))),ns['x']+=(ka['x']-ns['x'])*Ns['x'],ns['y']+=(ka['y']-ns['y'])*Ns['y'],ns['z']+=(ka['z']-ns['z'])*Ns['z'],_0x125904+=(_0x4f0991-_0x125904)*Ns['y'],_0x46fee8=(_0x46fee8+(_0x318f02-_0x46fee8)*(_0x595fb4*(-0x17b9+-0x5*0x6fb+-0x209*-0x30)%(-0x26*0xd6+-0x5b3*0x1+0x2578)))*Z_,_0x29c050=(_0x2ccfac-_0x221a0d)*(_0x595fb4*(0x5d2*0x5+0x1356+-0xa*0x474)%(0x1ed9+0x1195+0x1*-0x306d)),_0x318beb['meshInstan'+'ce']['node']&&(_0x318beb['localSpace']?(_t['x']/=Ei['x'],_t['y']/=Ei['y'],_t['z']/=Ei['z']):mf['transformP'+'oint'](_t,_t)),_0x318beb['localSpace']?(_f['transformP'+'oint'](ns,ns),_t['add'](ns)['add'](fo)):(_t['add'](ns['mul'](Ei)),_t['add'](fo['mul'](Ei))),fc['copy'](_t),Q_['copy'](Na)['add'](_t['mulScalar'](_0x15f1b2)),zt['copy'](Q_),_0xde2c24[_0x30e4e3*ce]=zt['x'],_0xde2c24[_0x30e4e3*ce+(-0x1707*0x1+0x1ebc+-0x2*0x3da)]=zt['y'],_0xde2c24[_0x30e4e3*ce+(0x1*0x683+0x25d*0xb+-0x2080)]=zt['z'],_0xde2c24[_0x30e4e3*ce+(0x8fc+-0x2ad*-0x6+-0x1907)]+=_0x125904*_0x15f1b2,_0x318beb['wrap']&&_0x318beb['wrapBounds']&&(_0x318beb['localSpace']||zt['sub'](_0xbbcd7),zt['x']=gf(zt['x'],_0x318beb['wrapBounds']['x'])-_0x318beb['wrapBounds']['x']*(0x2*-0x120d+-0x1*-0x2479+-0x5*0x13+0.5),zt['y']=gf(zt['y'],_0x318beb['wrapBounds']['y'])-_0x318beb['wrapBounds']['y']*(0x3dc+-0xe71+0xa95+0.5),zt['z']=gf(zt['z'],_0x318beb['wrapBounds']['z'])-_0x318beb['wrapBounds']['z']*(-0x2f9*-0x3+0x2*0x336+-0x231*0x7+0.5),_0x318beb['localSpace']||zt['add'](_0xbbcd7)),_0x318beb['sort']>-0x517*-0x2+0x1367+-0x1d95&&(_0x318beb['sort']===-0x3c2+-0x13e*0x12+0x1a1f?(kr['copy'](zt)['sub'](_0x4f145e),_0x318beb['particleDi'+'stance'][_0x30e4e3]=-(kr['x']*kr['x']+kr['y']*kr['y']+kr['z']*kr['z'])):_0x318beb['sort']===0x2ca*0x4+0x1796+-0x22bc?_0x318beb['particleDi'+'stance'][_0x30e4e3]=_0x323462:_0x318beb['sort']===0x23b0*-0x1+-0x24d3+0x1*0x4886&&(_0x318beb['particleDi'+'stance'][_0x30e4e3]=-_0x323462))),_0x4771e6?_0x323462<0x1755+0x10fe+-0x2853&&(_0xde2c24[_0x30e4e3*ce+(-0x1836+-0xa68+0x22a1)+_0x318beb['numParticl'+'esPot']*(-0x2c*-0x14+0x23f5+0xd21*-0x3)*ce]=-(0x15b*0x10+0x18c9*0x1+-0x2e78)):(_0x323462>=_0x361d4c&&(_0x323462-=Math['max'](_0x361d4c,(_0x318beb['numParticl'+'es']-(0x2444+0x34*0x17+-0x28ef))*_0x5c22e5),_0xde2c24[_0x30e4e3*ce+(0x2306+-0x1*-0x551+-0x2854)+_0x318beb['numParticl'+'esPot']*(0x24e4+-0x17ce+-0xd14)*ce]=_0x318beb['loop']?0xfac+0x2d*-0x3a+0x1*-0x579:-(0x526+-0xf67+0xa42)),_0x323462<0x396+-0x41*-0x9+-0x5df&&_0x318beb['loop']&&(_0xde2c24[_0x30e4e3*ce+(0x1*0x85+0x26fd+-0x1*0x277f)+_0x318beb['numParticl'+'esPot']*(0x15e7+-0xf*-0x163+0x88a*-0x5)*ce]=-0x1f4e+0x11c5*-0x2+-0x9d*-0x6d)),_0xde2c24[_0x30e4e3*ce+(-0x17bb+-0x232a+0x5*0xbc8)+_0x318beb['numParticl'+'esPot']*(-0x65*0x4f+0x5*-0x1a3+-0x16*-0x1ca)*ce]<0x25*-0x5c+-0x26e3+0x342f&&(_0x13b773=!(-0x1582+-0x100e+0x1*0x2591)),_0xde2c24[_0x30e4e3*ce+(0x17be+0x4*0x269+-0x215f*0x1)+_0x318beb['numParticl'+'esPot']*ce]=_0x323462;for(let _0x4c30a7=-0x3*-0xa96+-0x1ef9+-0x43*0x3;_0x4c30a7<_0x318beb['numParticl'+'eVerts'];_0x4c30a7++){const _0x266ad9=(_0x32ecbe*_0x318beb['numParticl'+'eVerts']+_0x4c30a7)*(_0x318beb['useMesh']?-0x2047+-0x9*-0xee+0x22d*0xb:0x11a8+0x475+-0x1*0x1619);let _0xc3d2f8=_0x318beb['vbCPU'][_0x266ad9],_0x36f006=_0x318beb['vbCPU'][_0x266ad9+(-0x13*-0x1ee+0x4*0x901+-0x48ad)],_0xdd803e=_0x318beb['vbCPU'][_0x266ad9+(-0xfbb+-0x2*0x185+0x12c7)];_0x13b773||(_0xc3d2f8=_0x36f006=_0xdd803e=-0x9c*-0x2d+0x15+-0x1b81);const _0x4a6a80=_0x32ecbe*_0x318beb['numParticl'+'eVerts']*_0x3936f0+_0x4c30a7*_0x3936f0;_0x1c6fef[_0x4a6a80]=zt['x'],_0x1c6fef[_0x4a6a80+(0x1*0xf67+-0x547+-0xa1f)]=zt['y'],_0x1c6fef[_0x4a6a80+(-0x3*-0x642+0x4df*0x8+-0x1cde*0x2)]=zt['z'],_0x1c6fef[_0x4a6a80+(-0xfaf+-0x1a64+-0x2*-0x150b)]=_0x38b24b,_0x1c6fef[_0x4a6a80+(-0x11bc+-0x16df+0x289f)]=_0x318beb['alignToMot'+'ion']?_0x52b561:_0xde2c24[_0x30e4e3*ce+(-0x1103+0x172a+-0x624)],_0x1c6fef[_0x4a6a80+(-0x550+-0x1b*-0x9+0x462)]=_0x46fee8,_0x1c6fef[_0x4a6a80+(-0xc14*-0x1+-0x23b1+-0x17a3*-0x1)]=_0x29c050,_0x1c6fef[_0x4a6a80+(-0x1b96+0x1*0x2106+0x569*-0x1)]=fc['x'],_0x1c6fef[_0x4a6a80+(-0x83d+-0x12a*-0x18+0x13ab*-0x1)]=_0xc3d2f8,_0x1c6fef[_0x4a6a80+(0xaa8+-0x5*-0x439+-0x3*0xa94)]=_0x36f006,_0x1c6fef[_0x4a6a80+(-0x12b3*0x1+-0x52*0x28+0x29*0xc5)]=_0xdd803e,_0x1c6fef[_0x4a6a80+(-0x13*-0x8+-0x12f9+0x189*0xc)]=fc['y'],_0x1c6fef[_0x4a6a80+(-0x1006+0x50*-0x3+0x1102)]=_0x30e4e3,_0x1c6fef[_0x4a6a80+(0xb2*0x8+0x2139+-0x26bc)]=fc['z'],_0x1c6fef[_0x4a6a80+(0x237e*-0x1+-0x1776+0xb6*0x53)]=_0x318beb['vbCPU'][_0x266ad9+(-0x1072+-0x1d73+0x2de8)],_0x318beb['useMesh']&&(_0x1c6fef[_0x4a6a80+(-0x105*0x3+0xd5*-0x21+0x1e93)]=_0x318beb['vbCPU'][_0x266ad9+(0x1ceb*0x1+-0xef+-0x1bf8)],_0x1c6fef[_0x4a6a80+(0x18a0+0x1*0xea9+-0x2739*0x1)]=_0x318beb['vbCPU'][_0x266ad9+(-0x521+0xd*-0x15a+0x16b8)]);}}if(_0x318beb['sort']>nu&&_0x318beb['camera']){const _0x41f269=_0x318beb['useMesh']?0x1fda+-0x103d+-0xf97:0x144f+-0x2058+0xc0d,_0x264068=_0x318beb['particleDi'+'stance'];for(let _0x10dba9=0x23b+0x252a+-0x5*0x7e1;_0x10dba9<_0x318beb['numParticl'+'es'];_0x10dba9++)_0x4b986d[_0x10dba9][0x1b03+-0x8f*0xa+-0x156d]=_0x10dba9,_0x4b986d[_0x10dba9][0xf7e+0x1e2c+-0x2da9]=_0x264068[Math['floor'](_0x318beb['vbCPU'][_0x10dba9*_0x318beb['numParticl'+'eVerts']*_0x41f269+(0x1dc5*-0x1+0x4*-0xda+0x2130)])];_0x318beb['vbOld']['set'](_0x318beb['vbCPU']),_0x4b986d['sort']((_0x447cdc,_0x1d19d6)=>_0x447cdc[0x655+0xf32+-0x1586]-_0x1d19d6[0xa40+-0x15de+-0x7*-0x1a9]);for(let _0x4fb31f=0x13*-0x10f+-0x83b+0x4*0x716;_0x4fb31f<_0x318beb['numParticl'+'es'];_0x4fb31f++){const _0x1791da=_0x4b986d[_0x4fb31f][-0x2326+0xe9d+0x1489*0x1]*_0x318beb['numParticl'+'eVerts']*_0x41f269,_0x407aeb=_0x4fb31f*_0x318beb['numParticl'+'eVerts']*_0x41f269;for(let _0x25adb7=-0x5b*0xb+0x2*-0x9bc+0x1761;_0x25adb7<_0x318beb['numParticl'+'eVerts']*_0x41f269;_0x25adb7++)_0x318beb['vbCPU'][_0x407aeb+_0x25adb7]=_0x318beb['vbOld'][_0x1791da+_0x25adb7];}}}}const J_=new _i(),eg=new _i(),tg=new _i();class mA{constructor(_0x23912c,_0x2bde2c){this['_emitter']=_0x23912c,this['frameRando'+'mUniform']=new Float32Array(-0x253+0x181d+-0x15c7),this['emitterPos'+'Uniform']=new Float32Array(-0x18a3+-0x1*0x7d4+0x207a),this['emitterSca'+'leUniform']=new Float32Array([-0x1c8d*0x1+-0x23*0x62+0x29f4,0x270d+-0x23*0x105+0x1*-0x35d,0x191d*0x1+-0x19f0+0xd4]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(0x13a*0x1a+-0x1*0xd0a+-0x12d7),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(-0xd24+0x4d7*0x1+0x850),this['inBoundsSi'+'zeUniform']=new Float32Array(-0x734*0x1+-0x2006*-0x1+-0x18cf),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(-0x836+-0x3c1*0x3+0x2b*0x74),this['constantPa'+'rticleTexI'+'N']=_0x2bde2c['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x2bde2c['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x2bde2c['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x2bde2c['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x2bde2c['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x2bde2c['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x2bde2c['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x2bde2c['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x2bde2c['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x2bde2c['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x2bde2c['scope']['resolve']('delta'),this['constantRa'+'te']=_0x2bde2c['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x2bde2c['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x2bde2c['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x2bde2c['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x2bde2c['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x2bde2c['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x2bde2c['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x2bde2c['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x2bde2c['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x2bde2c['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x2bde2c['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x2bde2c['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x2bde2c['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x2bde2c['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x2bde2c['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x2bde2c['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x2bde2c['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x2bde2c['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x2bde2c['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x2bde2c['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x2bde2c['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x2bde2c['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x2bde2c['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x2bde2c['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x2bde2c['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x2bde2c['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][0x1*0x1f4a+0x321+-0x226b]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][0x1984+-0x146e+-0x1*0x515]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][-0x3*0x42b+0x10dd*0x1+-0x45a]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][0x13e8+-0x1d22+0x93a]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][0x1601+0x1633+0x1f*-0x16d]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][0x4a3*0x4+0xca5+-0x1f2f]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][0x26c0+0x1*0x1c2d+0x1*-0x42ed]=Math['random'](),this['frameRando'+'mUniform'][0x7e2+0x1a97+-0x8*0x44f]=Math['random'](),this['frameRando'+'mUniform'][0x1624+0x661+-0x1c83]=Math['random']();}['update'](_0x533b54,_0x345682,_0x406998,_0x2d431f,_0x27858f){Q['pushGpuMar'+'ker'](_0x533b54,'ParticleGP'+'U');const _0x398108=this['_emitter'];_0x533b54['setBlendSt'+'ate'](pt['NOBLEND']),_0x533b54['setDepthSt'+'ate'](Yt['NODEPTH']),_0x533b54['setCullMod'+'e'](bt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((-0xea4+0x1*0x275+0xc30*0x1)/_0x398108['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x398108['precision']),this['constantNu'+'mParticles']['setValue'](_0x398108['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x398108['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x398108['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x398108['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x398108['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x398108['internalTe'+'x3']);const _0x352533=_0x398108['meshInstan'+'ce']['node'],_0x1a429f=_0x352533===null?D['ONE']:_0x352533['localScale'];if(_0x398108['pack8']){this['worldBound'+'sMulUnifor'+'m'][0x12a*-0x19+0x3*-0xbc3+0x1*0x4063]=_0x398108['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][0x34a*0xb+0x177b+-0x775*0x8]=_0x398108['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][-0x2*0x5f9+0x1*0x20d2+-0x14de]=_0x398108['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][0x1*0x76d+0x967+0x167*-0xc]=_0x398108['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][-0x502+-0xe23+0x1326]=_0x398108['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][0x1*0xf53+-0x24d*0x8+0x317]=_0x398108['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0x451229=_0x398108['maxVel']*Math['max'](Math['max'](_0x1a429f['x'],_0x1a429f['y']),_0x1a429f['z']);_0x451229=Math['max'](_0x451229,-0x119b+-0x45f+0x15fb),this['constantMa'+'xVel']['setValue'](_0x451229);}const _0x584780=_0x352533===null||_0x398108['localSpace']?D['ZERO']:_0x352533['getPositio'+'n'](),_0x5264dd=_0x352533===null?te['IDENTITY']:_0x352533['getWorldTr'+'ansform']();_0x398108['emitterSha'+'pe']===ai?(J_['setFromMat'+'4'](_0x345682),this['constantSp'+'awnBounds']['setValue'](J_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x406998)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x398108['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x398108['emitterRad'+'ius']===0x8e4+0x6e6+0x56*-0x2f?0x28f*0x3+0x2369+-0x2b16:_0x398108['emitterRad'+'iusInner']/_0x398108['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x398108['initialVel'+'ocity']),eg['setFromMat'+'4'](_0x5264dd),tg['invertMat4'](_0x5264dd),this['emitterPos'+'Uniform'][0x150a+-0x1142+-0x8*0x79]=_0x584780['x'],this['emitterPos'+'Uniform'][-0x1*-0x1fa6+0x25b4+-0x4559]=_0x584780['y'],this['emitterPos'+'Uniform'][0x53*-0x10+0x47*-0x6e+0x23b4]=_0x584780['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x2d431f),this['constantRa'+'te']['setValue'](_0x398108['rate']),this['constantRa'+'teDiv']['setValue'](_0x398108['rate2']-_0x398108['rate']),this['constantSt'+'artAngle']['setValue'](_0x398108['startAngle']*Y['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x398108['startAngle'+'2']*Y['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x398108['seed']),this['constantLi'+'fetime']['setValue'](_0x398108['lifetime']),this['emitterSca'+'leUniform'][-0x1212+0x1*0x125d+0x3*-0x19]=_0x1a429f['x'],this['emitterSca'+'leUniform'][-0xd*-0x71+0x2238+-0x9fd*0x4]=_0x1a429f['y'],this['emitterSca'+'leUniform'][0xaeb+-0x1*0x1ea6+-0xa3*-0x1f]=_0x1a429f['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](eg['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](tg['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x398108['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x398108['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x398108['rotSpeedUM'+'ax'][-0xf2a+-0x1fb9*0x1+0x1*0x2ee3]);let _0x561109=_0x398108['swapTex']?_0x398108['particleTe'+'xOUT']:_0x398108['particleTe'+'xIN'];_0x561109=_0x398108['beenReset']?_0x398108['particleTe'+'xStart']:_0x561109;const _0x29bb19=_0x398108['swapTex']?_0x398108['particleTe'+'xIN']:_0x398108['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x561109),Ar(_0x533b54,_0x398108['swapTex']?_0x398108['rtParticle'+'TexIN']:_0x398108['rtParticle'+'TexOUT'],_0x27858f?_0x398108['shaderPart'+'icleUpdate'+'OnStop']:_0x398108['loop']?_0x398108['shaderPart'+'icleUpdate'+'Respawn']:_0x398108['shaderPart'+'icleUpdate'+'NoRespawn']),_0x398108['material']['setParamet'+'er']('particleTe'+'xOUT',_0x561109),_0x398108['material']['setParamet'+'er']('particleTe'+'xIN',_0x29bb19),_0x398108['beenReset']=!(0x9b1+0x49+-0x3*0x353),_0x398108['swapTex']=!_0x398108['swapTex'],_0x398108['prevWorldB'+'oundsSize']['copy'](_0x398108['worldBound'+'sSize']),_0x398108['prevWorldB'+'oundsCente'+'r']['copy'](_0x398108['worldBound'+'s']['center']),_0x398108['pack8']&&this['_setInputB'+'ounds'](),Q['popGpuMark'+'er'](_0x533b54);}}const sg=['NONE','VERTEX','MAP'];class _A extends ya{['generateKe'+'y'](_0x1afc7e){let _0x1f8d1e='particle_'+ya['definesHas'+'h'](_0x1afc7e['defines'])+'_';for(const _0x98b657 in _0x1afc7e)_0x1afc7e['hasOwnProp'+'erty'](_0x98b657)&&(_0x1f8d1e+=_0x1afc7e[_0x98b657]);return _0x1f8d1e;}['createVert'+'exDefines'](_0x5542f0,_0x2c44b4){const _0xbf7a91=new Map(_0x5542f0['defines']);return _0x5542f0['mesh']&&_0xbf7a91['set']('USE_MESH',''),_0x5542f0['meshUv']&&_0xbf7a91['set']('USE_MESH_U'+'V',''),_0x5542f0['localSpace']&&_0xbf7a91['set']('LOCAL_SPAC'+'E',''),_0x5542f0['screenSpac'+'e']&&_0xbf7a91['set']('SCREEN_SPA'+'CE',''),_0x5542f0['animTex']&&_0xbf7a91['set']('ANIMTEX',''),_0x5542f0['soft']>0x9*-0x24b+-0x268c*-0x1+0x83*-0x23&&_0xbf7a91['set']('SOFT',''),_0x5542f0['stretch']>-0xfa8+0xcfb*-0x1+0x1*0x1ca3&&_0xbf7a91['set']('STRETCH',''),_0x5542f0['customFace']&&_0xbf7a91['set']('CUSTOM_FAC'+'E',''),_0x5542f0['pack8']&&_0xbf7a91['set']('PACK8',''),_0x5542f0['localSpace']&&_0xbf7a91['set']('LOCAL_SPAC'+'E',''),_0x5542f0['animTexLoo'+'p']&&_0xbf7a91['set']('ANIMTEX_LO'+'OP',''),_0x5542f0['wrap']&&_0xbf7a91['set']('WRAP',''),_0x5542f0['alignToMot'+'ion']&&_0xbf7a91['set']('ALIGN_TO_M'+'OTION',''),_0xbf7a91['set']('NORMAL',sg[_0x5542f0['normal']]),_0x2c44b4['particle_v'+'ertexData']=Me,_0x5542f0['mesh']&&_0x5542f0['meshUv']&&(_0x2c44b4['particle_u'+'v']=is),_0x5542f0['useCpu']&&(_0x2c44b4['particle_v'+'ertexData2']=uh,_0x2c44b4['particle_v'+'ertexData3']=Ap,_0x2c44b4['particle_v'+'ertexData4']=Cp,_0x2c44b4['particle_v'+'ertexData5']=Pp),_0xbf7a91;}['createFrag'+'mentDefine'+'s'](_0x19a9bb){const _0x3fd2b2=new Map(_0x19a9bb['defines']);return _0x19a9bb['soft']>0xb08+0x14b7+-0x1fbf&&_0x3fd2b2['set']('SOFT',''),_0x19a9bb['halflamber'+'t']&&_0x3fd2b2['set']('HALF_LAMBE'+'RT',''),_0x3fd2b2['set']('NORMAL',sg[_0x19a9bb['normal']]),_0x3fd2b2['set']('BLEND',Yy[_0x19a9bb['blend']]),_0x3fd2b2;}['createShad'+'erDefiniti'+'on'](_0x11d4a8,_0x38ae5a){const _0x4cbb15=_0x11d4a8['isWebGPU']?it:Fe,_0x197785=Pe['get'](_0x11d4a8,_0x4cbb15),_0x41928f={},_0x4d6604=this['createVert'+'exDefines'](_0x38ae5a,_0x41928f),_0x5624a1=this['createFrag'+'mentDefine'+'s'](_0x38ae5a),_0x4bc44f='PARTICLE_'+(_0x38ae5a['useCpu']?'CPU':'GPU')+'\x0a';_0x4d6604['set'](_0x4bc44f,''),_0x5624a1['set'](_0x4bc44f,'');const _0x2fdcd0=new Map(_0x197785);return Jt['createDefi'+'nition'](_0x11d4a8,{'name':'ParticleSh'+'ader','shaderLanguage':_0x4cbb15,'attributes':_0x41928f,'vertexCode':_0x197785['get']('particle_s'+'haderVS'),'fragmentCode':_0x197785['get']('particle_s'+'haderPS'),'fragmentDefines':_0x5624a1,'fragmentIncludes':_0x2fdcd0,'vertexIncludes':_0x2fdcd0,'vertexDefines':_0x4d6604});}}const gA=new _A();class SA extends tr{constructor(_0x471f44){super(),h(this,'emitter',null),(this['emitter']=_0x471f44,w['assert'](_0x471f44));}['getShaderV'+'ariant'](_0xa268e8){const {device:_0x4a34ff,scene:_0x19be14,cameraShaderParams:_0x3d3abe,objDefs:_0x350fa3}=_0xa268e8,{emitter:_0x316b9c}=this,_0xe997ee={'defines':$t['getCoreDef'+'ines'](this,_0xa268e8),'pass':Aa,'useCpu':this['emitter']['useCpu'],'normal':_0x316b9c['lighting']?_0x316b9c['normalMap']!==null?-0x1693+0x1752+0x1b*-0x7:-0x17f7+0x1636+0x1c2:0x25fd+0x14fb+-0x3af8,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'meshUv':_0x350fa3&nm,'gamma':(_0x3d3abe==null?void(0x5*0x5b9+0x2660+-0x42fd):_0x3d3abe['shaderOutp'+'utGamma'])??Ll,'toneMap':(_0x3d3abe==null?void(-0x17f+-0x1b42+0x11*0x1b1):_0x3d3abe['toneMappin'+'g'])??sm,'fog':_0x19be14&&!this['emitter']['noFog']?_0x19be14['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x316b9c['inTools']?!(-0x1*-0x10d3+-0xa2b+-0x6a7):this['emitter']['screenSpac'+'e'],'blend':this['emitter']['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==yh},_0x51f73b=new Ad(_0xa268e8['viewUnifor'+'mFormat'],_0xa268e8['viewBindGr'+'oupFormat'],_0xa268e8['vertexForm'+'at']),_0x529953=Hn(_0x4a34ff);return _0x529953['register']('particle',gA),_0x529953['getProgram']('particle',_0xe997ee,_0x51f73b,this['userId']);}}const ig=[[-(-0x2151*0x1+0xbe*0x25+0x5dc),-(-0xed4+-0xf98*0x1+-0x1*-0x1e6d)],[0x1*0x1013+-0x3b2+-0xc60,-(-0x43*0xb+-0x67d+0x95f)],[-0x229d+-0x135e+0x5*0xacc,-0x9f*0x3d+0x8d0+-0xe8a*-0x2],[-(0x13d4+-0x56*-0x2f+0x3f5*-0x9),0x823+0xbbd+-0x13df]];function xs(_0x3b3b4f,_0x5b92d7,_0x5ef850,_0x3b72c6,_0x51f0a2=Xt,_0x3cd18a,_0x179d6d){let _0x32bd4c=Te;_0x179d6d&&(_0x51f0a2===Ne||_0x51f0a2===_s)&&(_0x32bd4c=vt);const _0x51258f=new _e(_0x3b3b4f,{'width':_0x5b92d7,'height':_0x5ef850,'format':_0x51f0a2,'cubemap':!(-0x859+-0x3df*0x7+0x2373),'mipmaps':!(0x4*-0x736+0x986+0x1353),'minFilter':_0x32bd4c,'magFilter':_0x32bd4c,'addressU':ue,'addressV':ue,'name':'ParticleSy'+'stemTextur'+'e'}),_0x57c902=_0x51258f['lock']();if(_0x51f0a2===Ne||_0x51f0a2===_s){const _0x1cb515=new Uint8Array(_0x3b72c6['length']);for(let _0x2a879a=-0x5e*0x6a+-0x1*0x21a1+-0x3*-0x182f;_0x2a879a<_0x3b72c6['length'];_0x2a879a++)_0x1cb515[_0x2a879a]=_0x3b72c6[_0x2a879a]*_0x3cd18a*(-0x1*-0x158b+0x902+-0xd*0x246);_0x3b72c6=_0x1cb515;}return _0x57c902['set'](_0x3b72c6),_0x51258f['unlock'](),_0x51258f;}function rg(_0x233d8b){return Math['max'](Math['min'](_0x233d8b,0xc48+0xe97+0x13*-0x16a),-0x2620+-0x232a+0x494a);}const ag=new qs([-0x1100+0x1*-0x10a9+0x1*0x21a9,0x35b*-0x7+0x339+-0xa22*-0x2,-0x2166+-0x16*-0xc5+0x1079,-0x60*-0x66+0x1*0xa8b+-0x30cb]),ng=new qs([-0xd*-0x1bb+0x8f5+-0x1f74,0x1*0x9de+0xcb4+-0x1691,0x355*0x3+0x23cf*-0x1+0x19d1,0x2fa*0x3+-0x3*0x746+0x1*0xce5]),og=new na([0x1*0x16f0+-0x2e6+-0x140a,0x1*-0x3fb+0x181f+-0xa12*0x2,-0x108e+-0x1d86+-0x1*-0x2e15,0x993+-0x777*0x3+0x2*0x669],[-0x5f4*-0x2+0x172*0x7+-0x1606,0x6*0x103+-0x858*0x2+0xa9e,-0x37+0x2047+-0x200f,-0xd*-0x235+0x1e8b+0x2*-0x1d9e],[0x36d*-0xa+0x7*0x41d+0x577,0xe33*0x1+0x79*-0x49+0x144e,-0x1bb1+0x45*-0xf+0x5*0x659,-0x12f+-0x16*0x113+0x1*0x18d1]),yA=new na([-0xc*-0x29+0x1157+0x1*-0x1343,0x4*-0x889+-0x205d+0x2141*0x2,-0xbd6+0x1bf6+-0x101f,-0xf5*0x21+0x1*-0x11c3+-0x3*-0x1073],[0xbd3+0x43*-0x1d+-0x43c,0xda5+-0xb3e+-0x266,-0x1c9a+-0x2*-0x647+-0x7*-0x24b,-0x1b22+-0xb38+0xcc9*0x3],[0x1220+-0x18*-0x59+-0x1a78,0x1db3+-0x76b*0x3+0x771*-0x1,0x68c+0x4e5+-0x6*0x1e8,0x18ba+0x1a89*0x1+-0x3342]);let bi=0x24b*-0x9+-0x5*-0x271+-0xd8*-0xa;const pc=-0xb*0x9+-0xd35+0xd9c,Ai=new Float32Array(-0x1c*0xd6+-0x185e*-0x1+-0x51*0x3),Ur=new te(),lg=new D(),mc=new D(),_c=new D();let uu,Zc;function he(_0x4c16f2,_0x13c96b){Zc[_0x4c16f2]!==void(-0x7d*-0x5+0x6b1+-0x2*0x491)&&Zc[_0x4c16f2]!==null?uu[_0x4c16f2]=Zc[_0x4c16f2]:uu[_0x4c16f2]=_0x13c96b;}function Dv(_0x1ac164,_0x30df6f,_0xa18080){return(_0x1ac164*(-0x1d7d+0x24ff+-0x683)<<-0x1*0x225d+-0x29*0xa7+-0x6cc*-0x9|_0x30df6f*(-0x1736+-0x1f*-0x26+-0x3*-0x689)<<-0x134d+0x2220+-0xecb|_0xa18080*(0x1e44+-0x2e*-0x24+-0x51b*0x7))/(0x6*-0x322+-0x735+0x1a02*0x1<<-0x8*0x193+0x1*0x1525+0x875*-0x1);}function cg(_0x478698,_0x28d1cf){const _0x140b5d=_0x478698['length']/(-0xb0b+0x2598+0x1*-0x1a8a),_0x4d524f=new Array(_0x140b5d*(-0x67*-0x51+-0x3*0x815+-0x29*0x34));for(let _0x24c172=0x3*-0x4eb+0x145f+-0x59e*0x1;_0x24c172<_0x140b5d;_0x24c172++)_0x4d524f[_0x24c172*(-0x1724+-0x1*-0x13d7+-0x11b*-0x3)]=_0x478698[_0x24c172*(-0x20f5+0xd9+-0x201f*-0x1)],_0x4d524f[_0x24c172*(0x5a2*-0x3+0x38+0x10b2)+(0x18d0+0x20f8+0x1*-0x39c7)]=_0x478698[_0x24c172*(-0x139f*0x1+-0x1a16+0x2db8)+(0x1889+-0xacb+-0xdbd)],_0x4d524f[_0x24c172*(-0x103f*0x1+0x23fa+-0x13b7)+(0xfd7+0x324*0x2+-0x161d)]=_0x478698[_0x24c172*(0x4*-0x8a1+0xb72+-0x1715*-0x1)+(0x65*-0x26+-0xed6+0x1dd6)],_0x4d524f[_0x24c172*(-0x93*-0x17+-0xeac+0x1*0x17b)+(-0x2ce*0x7+-0x3*0xbb+0x15d6)]=Dv(_0x28d1cf[_0x24c172*(-0x2b*-0x39+-0x1*0x241a+0x1a8a)],_0x28d1cf[_0x24c172*(-0x1426+0x3f1+-0x568*-0x3)+(-0xb*0x15d+0xf17*-0x2+-0x1*-0x2d2e)],_0x28d1cf[_0x24c172*(0x570+0x1a38+-0x1fa5)+(0x23b3+-0x111e+-0x1293)]);return _0x4d524f;}function vA(_0x1304ef,_0x1d15b4){const _0x1ee7b9=new Array(_0x1d15b4['length']*(-0xdc8+-0x2*-0xfa4+0x175*-0xc));for(let _0x383f55=0xd*-0x123+0x12*-0xff+-0x1*-0x20b5;_0x383f55<_0x1d15b4['length'];_0x383f55++)_0x1ee7b9[_0x383f55*(-0x2664+0x225+-0x1*-0x2443)]=_0x1304ef[_0x383f55*(-0x1604+-0x4a4+-0x1aab*-0x1)],_0x1ee7b9[_0x383f55*(0x2142+0x1a9c+-0x3bda)+(-0xf74+0x8a*0x1d+-0x2d)]=_0x1304ef[_0x383f55*(-0x2*-0x24a+0x1*0x1613+-0x6e*0x3e)+(0x2ae+-0x1bb3+0xc83*0x2)],_0x1ee7b9[_0x383f55*(-0x19*-0xb3+0x1701+-0x118*0x25)+(-0x147b+0x2*-0x11b7+0x7fd*0x7)]=_0x1304ef[_0x383f55*(-0x2672+-0x146+-0x5ad*-0x7)+(-0x1192+0x1*0x268a+-0x14f6)],_0x1ee7b9[_0x383f55*(0x18ba+0x1*0xfe3+-0x2899*0x1)+(0x1*-0x2a+-0x2538+0x2565)]=_0x1d15b4[_0x383f55];return _0x1ee7b9;}function xA(_0x4ceb7f,_0x21e097,_0x335022,_0x4c223f,_0x39232a){const _0x232fb2=new Array(_0x4ceb7f['length']*(-0x306+0xcb9*-0x1+-0xf*-0x10d));for(let _0x5bfd08=-0x13*-0x175+-0xb4b+-0x419*0x4;_0x5bfd08<_0x4ceb7f['length'];_0x5bfd08++)_0x232fb2[_0x5bfd08*(-0x1a47*0x1+0x1*-0x45d+-0x1ea8*-0x1)]=_0x4ceb7f[_0x5bfd08],_0x232fb2[_0x5bfd08*(0x264c+0x1921+-0x305*0x15)+(-0x19db*-0x1+-0x172+-0x1868)]=_0x21e097[_0x5bfd08],_0x232fb2[_0x5bfd08*(0x12ef+-0x1d*0x59+-0x2*0x46b)+(-0x1*-0x1fc+0x1a6*-0xf+0x16c0)]=0x22b2*-0x1+-0x224*0xd+0x3e86,_0x232fb2[_0x5bfd08*(0x5*0x5c6+-0x2d3*0x9+-0x36f)+(-0x12fa*-0x2+-0x1623*0x1+0x77*-0x22)]=Dv(_0x335022[_0x5bfd08],_0x4c223f[_0x5bfd08],_0x39232a[_0x5bfd08]);return _0x232fb2;}function TA(_0xca7e45,_0x28beef){const _0x12c88f=new Array(_0xca7e45['length']*(0x878+0x2356*0x1+-0x1*0x2bca));for(let _0x520f80=0x2417+0x1d*0x95+0xf*-0x388;_0x520f80<_0xca7e45['length'];_0x520f80++)_0x12c88f[_0x520f80*(0x59+0x1de2+0x1e37*-0x1)]=_0xca7e45[_0x520f80],_0x12c88f[_0x520f80*(-0x1525+-0x102b+-0x955*-0x4)+(-0x13b1+-0x4*0x50b+0x51*0x7e)]=_0x28beef[_0x520f80],_0x12c88f[_0x520f80*(-0x2*-0x92b+-0x1d0f+-0x1*-0xabd)+(0x79c+0x257*-0x1+-0x543)]=0x2*-0xd4e+0x151a+0x582,_0x12c88f[_0x520f80*(0xfa4+0x125f*-0x1+0x2bf)+(-0x1ff7+-0x545*0x5+-0x9*-0x67b)]=0x95b*-0x1+0x26c6+0x11*-0x1bb;return _0x12c88f;}function wA(_0x2b93df){const _0x1d276b=Math['max'](_0x2b93df['rate'],_0x2b93df['rate2'])*_0x2b93df['numParticl'+'es']+_0x2b93df['lifetime'];return Date['now']()+_0x1d276b*(-0x16a+0x7*-0x468+-0x1215*-0x2);}function EA(_0x486d1e,_0x5bd62a){const _0x555492=new Float32Array(_0x486d1e['length']);for(let _0x1ad994=0x1074+-0x1*-0x1ee6+0x13f*-0x26;_0x1ad994<_0x486d1e['length'];_0x1ad994++)_0x555492[_0x1ad994]=_0x486d1e[_0x1ad994]-_0x5bd62a[_0x1ad994];return _0x555492;}function Xr(_0x5d84f6,_0x4b8cd6){const _0x58d9c4=_0x4b8cd6['length'],_0x41ea89=_0x5d84f6['length']/_0x58d9c4;for(let _0x6c0904=-0x18b4+-0x1189+0x2a3d;_0x6c0904<_0x41ea89;_0x6c0904++)for(let _0x3818a2=0x18f1+0x24c8+0x17*-0x2af;_0x3818a2<_0x58d9c4;_0x3818a2++){const _0x1914cb=Math['abs'](_0x5d84f6[_0x6c0904*_0x58d9c4+_0x3818a2]);_0x4b8cd6[_0x3818a2]=Math['max'](_0x4b8cd6[_0x3818a2],_0x1914cb);}}function bA(_0x12979,_0x38c485){const _0xf0ee1a=_0x38c485['length'],_0x1ae99e=_0x12979['length']/_0xf0ee1a;for(let _0x57482a=-0x1*0x614+-0x2614+0x2*0x1614;_0x57482a<_0x1ae99e;_0x57482a++)for(let _0x3b6cc2=0x2088+-0x18d4+-0x7b4;_0x3b6cc2<_0xf0ee1a;_0x3b6cc2++)_0x12979[_0x57482a*_0xf0ee1a+_0x3b6cc2]/=_0x38c485[_0x3b6cc2]===-0xe0e+0x102f+-0x221?0x266*0xe+-0xa7+-0x4*0x83b:_0x38c485[_0x3b6cc2],_0x12979[_0x57482a*_0xf0ee1a+_0x3b6cc2]*=0x7*-0x3a+-0x147d+0x1*0x1613+0.5,_0x12979[_0x57482a*_0xf0ee1a+_0x3b6cc2]+=0x154c+-0x26b1+0x3d*0x49+0.5;}function Br(_0x2553c7,_0x4bf22d,_0x30bf95){const _0x362c74=EA(_0x4bf22d,_0x2553c7);return Xr(_0x362c74,_0x30bf95),bA(_0x362c74,_0x30bf95),_0x362c74;}const AA=new Kt();class CA{constructor(_0x263a7d,_0x4882dd){h(this,'material',null),h(this,'internalTe'+'x0',null),h(this,'internalTe'+'x1',null),h(this,'internalTe'+'x2',null),h(this,'colorParam',null),this['graphicsDe'+'vice']=_0x263a7d;const _0x6d7dde=_0x263a7d,_0x59a024=-0x1*-0x921+-0xdcf+-0x7b*-0xa;this['precision']=_0x59a024,this['_addTimeTi'+'me']=-0x10c7+0x8de+0x7e9,uu=this,Zc=_0x4882dd,he('numParticl'+'es',0x1b0e+0x150a+0x3b3*-0xd),this['numParticl'+'es']>_0x263a7d['maxTexture'+'Size']&&(w['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x263a7d['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x263a7d['maxTexture'+'Size']),he('rate',0x158*0xe+0x621+-0x30*0x85),he('rate2',this['rate']),he('lifetime',-0x18ac+0x8f1+0xfed),he('emitterExt'+'ents',new D(0x2b*-0x49+0x26a*0x2+0xb*0xad,-0x1c7a+-0x9ad*-0x1+0x12cd,-0x5d*-0x29+0x51b*0x1+-0x1400)),he('emitterExt'+'entsInner',new D(0x1fbe+-0x226*0x5+-0x1500,-0x2499+0xc9b+0xa6*0x25,0x23d5+-0x29e*-0xa+0xd*-0x4c5)),he('emitterRad'+'ius',-0x3*0x5ce+0x1df3+-0xc89),he('emitterRad'+'iusInner',0x9*0x4d+-0x52*-0x22+0x1*-0xd99),he('emitterSha'+'pe',ai),he('initialVel'+'ocity',-0x2227+0x58*0x11+0x6*0x4b8),he('wrap',!(-0x1bfa*-0x1+-0x1f8b+0x1*0x392)),he('localSpace',!(0xb02*-0x2+0x1b9c+0x3*-0x1dd)),he('screenSpac'+'e',!(-0x11f7+0xddb*0x2+-0x9be*0x1)),he('wrapBounds',null),he('colorMap',this['defaultPar'+'amTexture']),he('normalMap',null),he('loop',!(0x120b+-0x1b2d+0x922)),he('preWarm',!(0xcb8*0x1+-0xd22*0x1+0x6b)),he('sort',nu),he('mode',rv),he('scene',null),he('lighting',!(-0xa03+-0x1b13+0x2517)),he('halfLamber'+'t',!(-0xf*-0x253+-0x2079+-0x263)),he('intensity',-0x2*0x333+0x3ac+0x2bb),he('stretch',-0x1*-0x1169+0x1*-0x1e0a+0xca1),he('alignToMot'+'ion',!(0x7*0x37c+-0x29*0x97+-0x34)),he('depthSofte'+'ning',-0x1fb2*0x1+0x11aa+0xe08),he('mesh',null),he('particleNo'+'rmal',new D(-0xda7+-0xb*-0x251+-0xbd4,0x5*0x2ef+0x542*-0x2+-0x426,-0x1*0x50d+-0x134*0xa+0x1*0x1115)),he('orientatio'+'n',yh),he('depthWrite',!(0x1*0x5ff+0x814+-0xe12)),he('noFog',!(-0x145*0x1d+0x2304+0x1ce)),he('blendType',Zs),he('node',null),he('startAngle',-0x1*0x2686+-0x1604+0x2a*0x171),he('startAngle'+'2',this['startAngle']),he('animTilesX',-0x307+-0xc67*0x2+-0x1bd6*-0x1),he('animTilesY',-0x1*0x268f+0x1*0x18d1+0xdbf),he('animStartF'+'rame',0x9f1*0x2+0x24e9+-0x38cb),he('animNumFra'+'mes',0x246f+0x25e*0x10+-0x2*0x2527),he('animNumAni'+'mations',0x215a+0x7d9+0x1499*-0x2),he('animIndex',-0x490+0x1ec*0x13+-0x1ff4),he('randomizeA'+'nimIndex',!(0x5bb+0x193*-0x11+0x1509)),he('animSpeed',-0x7a8+-0x8f5*0x2+0x1993),he('animLoop',!(0x20aa+0x25ad+-0x1*0x4657)),this['_gpuUpdate'+'r']=new mA(this,_0x6d7dde),this['_cpuUpdate'+'r']=new pA(this),this['emitterPos'+'Uniform']=new Float32Array(0x180f+0xb2b*0x1+-0x2337),this['wrapBounds'+'Uniform']=new Float32Array(0x4*0x18d+0x43*0xe+-0x9db*0x1),this['emitterSca'+'leUniform']=new Float32Array([0x1343*0x1+-0x7*0x32b+0x2eb,-0x8ad+0x1aa4+0x1a2*-0xb,0x2a1+-0x215c+-0xf5e*-0x2]),he('colorGraph',yA),he('colorGraph'+'2',this['colorGraph']),he('scaleGraph',ng),he('scaleGraph'+'2',this['scaleGraph']),he('alphaGraph',ng),he('alphaGraph'+'2',this['alphaGraph']),he('localVeloc'+'ityGraph',og),he('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),he('velocityGr'+'aph',og),he('velocityGr'+'aph2',this['velocityGr'+'aph']),he('rotationSp'+'eedGraph',ag),he('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),he('radialSpee'+'dGraph',ag),he('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(0x18a*-0xd+0x1*-0xe03+0x2207),this['animParams']=new Float32Array(0x23fb+-0x699+-0x1d5e),this['animIndexP'+'arams']=new Float32Array(0x1478*0x1+0x265*-0x3+0x135*-0xb),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(0x2b4*0x9+-0x2*-0x72f+-0x7bd*0x5),this['useMesh']=!(-0xa*-0x1b6+0x712+-0x182e),this['useCpu']=!_0x263a7d['supportsGp'+'uParticles'],this['pack8']=!(-0x18b*-0x12+-0x11d8*-0x1+-0x16cf*0x2),this['localBound'+'s']=new De(),this['worldBound'+'sNoTrail']=new De(),this['worldBound'+'sTrail']=[new De(),new De()],this['worldBound'+'s']=new De(),this['worldBound'+'sSize']=new D(),this['prevWorldB'+'oundsSize']=new D(),this['prevWorldB'+'oundsCente'+'r']=new D(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new D(),this['worldBound'+'sAdd']=new D(),this['timeToSwit'+'chBounds']=-0x4*0x736+-0x1*0x1b59+-0x807*-0x7,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=-0x1695+-0x3*-0xbbe+-0xca5,this['numParticl'+'eIndices']=0x2078+0xa7e+-0x2af6,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=-0x26*0x17+-0x1865*0x1+0x1bcf,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(0x24f7+0x2f*0x79+-0x3b2d)/(0x2e8+-0x2*0xf88+0x1c64),this['maxSubStep'+'s']=-0x20dd+-0x1347+-0x342e*-0x1,this['simTime']=-0x13e4+-0x13*0x1c9+0x1db*0x1d,this['simTimeTot'+'al']=-0x1*0xe95+0x26*0x17+-0xb2b*-0x1,this['beenReset']=!(0x7cd+0x1304+-0x1ad0),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return w['assert'](this['graphicsDe'+'vice']),AA['get'](this['graphicsDe'+'vice'],()=>{const _0x37b5e3=new Float32Array(0x180b+-0x44f*0x9+0x12bc);for(let _0x5d3f36=0x1a*-0x3e+-0x18b6+0x1f02;_0x5d3f36<0x2241+-0x8bd*0x1+0xcba*-0x2;_0x5d3f36++)for(let _0x42a0f4=0x7d5*-0x3+0x10c2+0x1*0x6bd;_0x42a0f4<0x2a5+0x4a9+-0x73e;_0x42a0f4++){const _0x1325d5=_0x42a0f4+(-0x165a+0x1d5+0x1486)-(0x91a+-0x2466+0x1b54+0.5),_0x5dbf0f=_0x5d3f36+(-0x343*-0x1+-0x1943+0x1*0x1601)-(0x1*-0x1532+-0x1768+-0x1d*-0x18a+0.5),_0x5aaf61=rg(0xad9+0x2204+-0x2cdc-rg(Math['sqrt'](_0x1325d5*_0x1325d5+_0x5dbf0f*_0x5dbf0f)/(0x359+-0x10ae+0x7f*0x1b))-(-0xd84+0x1b72+-0x1*0xdee+0.5)),_0x41575d=_0x5d3f36*(-0x285+-0xe9a+-0x1*-0x112f)+_0x42a0f4;_0x37b5e3[_0x41575d*(0x15ce+0x118e+0x13ac*-0x2)]=-0x10*-0x53+-0x1f61+-0x1df*-0xe,_0x37b5e3[_0x41575d*(0x1*0x240a+0x64c*0x1+-0x1529*0x2)+(0x6*0x2c8+-0x1*0x386+-0xd29)]=0x1706+0x198a+-0x308f*0x1,_0x37b5e3[_0x41575d*(0x137*-0x2+0x4*0x7d3+-0x2*0xe6d)+(-0x5*0x40a+0x2*-0x91+0xaab*0x2)]=0x35*0xba+-0x4*-0x8f1+-0x4a45,_0x37b5e3[_0x41575d*(0x38e+0x1*0x178e+0xc*-0x242)+(0x1639+0x53*0x6b+-0x38e7)]=_0x5aaf61;}const _0x3dcec3=xs(this['graphicsDe'+'vice'],-0x1574+0x1*0x12ee+0x296,0x621+0x2162+0x1*-0x2773,_0x37b5e3,_s,0x14c6+-0x71b*-0x1+-0x1be0,!(-0xdb*0x14+0x2f6*-0xb+0x31ae));return _0x3dcec3['minFilter']=vt,_0x3dcec3['magFilter']=vt,_0x3dcec3;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(0x3*-0x7e2+0x33*-0x3e+-0xd*-0x2c5)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(-0xd1c+-0x3be+0x5*0x35f)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(-0x191f+0x19a7+0x3*-0x2d)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(-0x1e44+0x163a+0x80b)),this['worldBound'+'sAdd']['x']+=-0x47*0x71+-0x25*0x2+0x3*0xa8b+0.5,this['worldBound'+'sAdd']['y']+=0x24d*-0xf+-0x3*-0xaad+-0x6*-0x6a+0.5,this['worldBound'+'sAdd']['z']+=-0xbdd+-0x18c3+-0x10*-0x24a+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x3e5fce=!(0x2280+-0x18*0xca+-0xf8f);this['emitterSha'+'pe']===ai?_0x3e5fce=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x3e5fce=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x3e5fce&&this['calculateL'+'ocalBounds']();}const _0x3252d5=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x3252d5),this['worldBound'+'sTrail'][-0x1b02+0xb75+0xf8d]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0x3bc+-0x12d+-0x28e]['add'](this['worldBound'+'sNoTrail']);const _0x47482c=this['simTimeTot'+'al'];_0x47482c>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][0x7*0x576+0x8d3*0x1+-0x1*0x2f0d]['copy'](this['worldBound'+'sTrail'][0x76d+0x1763+-0x1ecf]),this['worldBound'+'sTrail'][0x2533+0x58e+0x9*-0x4c0]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0x47482c+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][0xced+0xac1*-0x1+0x1*-0x22c]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x1*0x1445+-0xef6+-0x61*-0x5d),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x3252d5),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x3252d5)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=0x92*-0x1c+-0x1*-0x95b+0x69e-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0x94d+-0xa4d*0x3+0x23*0x9e]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0x9a4+-0xbec+0x249]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0xc25+0x1f8b+-0x1366]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x1*-0x1c99+-0x77c*0x4+0x159),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=0x1fa7+-0x159e+-0xa09,this['timeToSwit'+'chBounds']=-0x2*0x31b+-0x16*0x10c+0x1d3e);}['calculateL'+'ocalBounds'](){let _0x5cda6f=Number['MAX_VALUE'],_0x3bc06f=Number['MAX_VALUE'],_0x53ce87=Number['MAX_VALUE'],_0x1f0a78=-Number['MAX_VALUE'],_0x105890=-Number['MAX_VALUE'],_0x17bf87=-Number['MAX_VALUE'],_0x5dd188=-0x11f5*0x1+0x37*0x2e+-0x1*-0x813,_0x5a97eb=0x1c81+0x18b*-0x4+-0x1655;const _0x3e75df=this['lifetime']/this['precision'],_0x16ed1a=[this['qVelocity'],this['qVelocity2']],_0x2460ca=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0xc4bcb9=[-0x675+-0x30c+0x981,0x25a1+-0x2401+-0x1a0],_0x5f51af=[0x5c2+-0x1*0x158d+0xfcb,-0x1500+0x1*0x5c0+0x2*0x7a0],_0x2b7dfd=[0xa38+-0x193*-0x18+-0xc0*0x40,-0xb77*0x2+-0x89c+-0xfc5*-0x2],_0x511ef3=[-0x1d78+0x1651+-0x1*-0x727,0x249e+-0x39*-0x57+-0x37fd],_0x19673b=[0x1*-0xbf6+0x223*0xa+-0x968*0x1,0x23d*0x7+-0x2*0x11d1+-0x13*-0x10d];let _0x5bdded,_0xabfb4d,_0x3597ed;for(let _0x2e16c5=0x129f*0x1+0x7c*0x4b+0x36f3*-0x1;_0x2e16c5<this['precision']+(-0x19*-0x5d+-0x1*-0x1c27+-0x9*0x423);_0x2e16c5++){const _0x2da612=Math['min'](_0x2e16c5,this['precision']-(0x7f*-0x4b+-0xede*-0x2+-0x27e*-0x3));for(let _0x3e234c=-0x2*-0x5ba+-0xbb+-0xab9;_0x3e234c<-0x59d*0x1+-0x176+0x715;_0x3e234c++)_0x5bdded=_0x2460ca[_0x3e234c][_0x2da612*(0x14c2+-0x8b8+0xc07*-0x1)+(0x1365+0x2*0xdf3+0x1*-0x2f4b)]*_0x3e75df+_0xc4bcb9[_0x3e234c],_0xabfb4d=_0x2460ca[_0x3e234c][_0x2da612*(0x37+0x4*0x663+-0x19c0)+(-0x1*-0x2+0x42b+-0x42c)]*_0x3e75df+_0x5f51af[_0x3e234c],_0x3597ed=_0x2460ca[_0x3e234c][_0x2da612*(0x1b1+-0xd9*0x25+0x1daf)+(0x689+0x163*0x1+-0x7ea)]*_0x3e75df+_0x2b7dfd[_0x3e234c],_0x5cda6f=Math['min'](_0x5bdded,_0x5cda6f),_0x3bc06f=Math['min'](_0xabfb4d,_0x3bc06f),_0x53ce87=Math['min'](_0x3597ed,_0x53ce87),_0x1f0a78=Math['max'](_0x5bdded,_0x1f0a78),_0x105890=Math['max'](_0xabfb4d,_0x105890),_0x17bf87=Math['max'](_0x3597ed,_0x17bf87),_0xc4bcb9[_0x3e234c]=_0x5bdded,_0x5f51af[_0x3e234c]=_0xabfb4d,_0x2b7dfd[_0x3e234c]=_0x3597ed;for(let _0x5c64d9=-0x777+0x179e*-0x1+0x6d*0x49;_0x5c64d9<-0xba5+-0x6d8*-0x4+0xaf*-0x17;_0x5c64d9++)_0x19673b[_0x5c64d9]+=_0x3e75df*Math['sqrt'](_0x16ed1a[_0x5c64d9][_0x2da612*(-0x2*0x5d1+0xe5f*-0x1+0x1a04)+(-0x1*0xa9a+0x1eb0+-0x2*0xa0b)]*_0x16ed1a[_0x5c64d9][_0x2da612*(-0x13f+0x9d1+-0x88f)+(0x17*0x81+-0x4*0x47e+0x17*0x47)]+_0x16ed1a[_0x5c64d9][_0x2da612*(0x153e+0xba2+-0x20dd)+(0x13e3+0x3*-0x5d5+-0x263)]*_0x16ed1a[_0x5c64d9][_0x2da612*(0x13d6+0x2b*0xa2+0x2f09*-0x1)+(-0x2635+0x1*-0x1b7+0x27ed)]+_0x16ed1a[_0x5c64d9][_0x2da612*(0xcf8+-0x1*0x11d6+0x1*0x4e1)+(0x1a*0x20+0xf93*0x1+0x1*-0x12d1)]*_0x16ed1a[_0x5c64d9][_0x2da612*(-0x1e80+0x135*-0x1d+0x257*0x1c)+(-0x1fd0*0x1+0x15ce+0x2*0x502)]);_0x511ef3[-0x172a*0x1+-0x1bd7+0x3301]+=this['qRadialSpe'+'ed'][_0x2da612]*_0x3e75df,_0x511ef3[-0x8a1*0x1+-0xa6c+0x987*0x2]+=this['qRadialSpe'+'ed2'][_0x2da612]*_0x3e75df,_0x5dd188=Math['max'](_0x5dd188,Math['max'](Math['abs'](_0x511ef3[-0x1*-0x1583+0x1f76+-0x34f9]),Math['abs'](_0x511ef3[-0x233b+0x236+-0x2*-0x1083]))),_0x5a97eb=Math['max'](_0x5a97eb,this['qScale'][_0x2da612]);}this['emitterSha'+'pe']===ai?(_0x5bdded=this['emitterExt'+'ents']['x']*(-0x678+-0x773+-0x7*-0x1fd+0.5),_0xabfb4d=this['emitterExt'+'ents']['y']*(-0x1e4f+-0x14f*0x12+-0x35dd*-0x1+0.5),_0x3597ed=this['emitterExt'+'ents']['z']*(-0x1f8f*-0x1+-0x1*0x1ecb+-0xc4+0.5)):(_0x5bdded=this['emitterRad'+'ius'],_0xabfb4d=this['emitterRad'+'ius'],_0x3597ed=this['emitterRad'+'ius']);const _0x361b34=Math['max'](_0x19673b[0xb1c+-0x7dc+-0x340],_0x19673b[0x9cc+0x1577+-0x1f42]);mc['x']=_0x5cda6f-_0x5a97eb-_0x5bdded-_0x5dd188-_0x361b34,mc['y']=_0x3bc06f-_0x5a97eb-_0xabfb4d-_0x5dd188-_0x361b34,mc['z']=_0x53ce87-_0x5a97eb-_0x3597ed-_0x5dd188-_0x361b34,_c['x']=_0x1f0a78+_0x5a97eb+_0x5bdded+_0x5dd188+_0x361b34,_c['y']=_0x105890+_0x5a97eb+_0xabfb4d+_0x5dd188+_0x361b34,_c['z']=_0x17bf87+_0x5a97eb+_0x3597ed+_0x5dd188+_0x361b34,this['localBound'+'s']['setMinMax'](mc,_c);}['rebuild'](){const _0x4bc6eb=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===ai?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>nu||_0x4bc6eb['maxVertexT'+'extures']<=-0x1*-0x371+0x121f*0x1+-0x158f||_0x4bc6eb['fragmentUn'+'iformsCoun'+'t']<0x71*-0x29+-0x4*0x1b7+0x1b*0xef||_0x4bc6eb['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x4bc6eb['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],bi=this['useCpu']||this['pack8']?-0x12*-0xad+-0x167*-0x13+-0x26cb:-0x1*-0xa9a+0x2e7*0xd+-0x3053,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=Y['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0x10d*-0x6+-0x5*-0x6ca+-0x10*0x284]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][0x11d7+0x7*0x7a+0x10f*-0x14]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x1*-0xeba+-0x18e7+0xa2f),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x577f2d=0xb67+-0xfa7+-0x4*-0x110;_0x577f2d<this['numParticl'+'es'];_0x577f2d++)this['vbToSort'][_0x577f2d]=[-0x26a8+0x133*-0x5+-0x1*-0x2ca7,-0x19c7+-0x14d7+0x75*0x66];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*bi*pc);const _0x26aaa3=this['node']===null||this['localSpace']?D['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===ai&&(this['node']===null||this['localSpace']?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['spawnBound'+'s']):Ur['setTRS'](D['ZERO'],this['node']['getRotatio'+'n'](),lg['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),Ai[-0x1646*0x1+-0x196+-0xc*-0x1fd]=this['emitterExt'+'ents']['x']!==-0x1*-0x2020+0x20c4+0x40e4*-0x1?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x1*0x1e2f+0xb63+0x12cc*0x1,Ai[0x239a+-0x602*0x2+-0x1795*0x1]=this['emitterExt'+'ents']['y']!==0x165f+0x823+-0x1e82?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x926+0x29*-0x52+0x1*0x1648,Ai[0x17*0x8e+0x6c4+0x9c2*-0x2]=this['emitterExt'+'ents']['z']!==0x259e+0x807*-0x1+-0x1d97?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0x744+0x4*-0x24d+-0x1*-0x1f0);for(let _0x1c0dfe=-0x1a8c*0x1+-0x106d+0x2af9;_0x1c0dfe<this['numParticl'+'es'];_0x1c0dfe++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Ur,Ai,_0x26aaa3,_0x1c0dfe),this['useCpu']&&(this['particleTe'+'x'][_0x1c0dfe*pc+(0x26f0+0x2589+-0x4c76)+this['numParticl'+'esPot']*(0x159+-0x327*0x5+0xe6c)*pc]=0xa*0x167+0x423*-0x2+-0x5bf);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*bi*pc);for(let _0x36224e=0xe5*0x2a+-0x112e*0x1+-0x366*0x6;_0x36224e<this['particleTe'+'xStart']['length'];_0x36224e++)this['particleTe'+'xStart'][_0x36224e]=this['particleTe'+'x'][_0x36224e];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=xs(_0x4bc6eb,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,-0x139*-0x19+-0x97*0x2c+-0x5*0xec,!(0xf82+-0x265d+-0x16*-0x10a)),this['particleTe'+'xOUT']=xs(_0x4bc6eb,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,0x14da+-0x82e+0x17*-0x8d,!(0x2280+-0xf4e+-0x1*0x1331)),this['particleTe'+'xStart']=xs(_0x4bc6eb,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'],Ne,0xf56+-0xc*-0x2a5+-0x2f11*0x1,!(-0x719+0x7b3+-0x3*0x33))):(this['particleTe'+'xIN']=xs(_0x4bc6eb,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xOUT']=xs(_0x4bc6eb,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xStart']=xs(_0x4bc6eb,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new gt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(0x11c2*-0x1+0x1*-0xf67+-0x2*-0x1095)}),this['rtParticle'+'TexOUT']=new gt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(-0x1f93*0x1+0x25*0xe4+-0x160)}),this['swapTex']=!(-0x4aa+-0x1762+0x1c0d));const _0x5f4d8a=new Map();this['localSpace']&&_0x5f4d8a['set']('LOCAL_SPAC'+'E',''),this['pack8']&&_0x5f4d8a['set']('PACK8',''),this['emitterSha'+'pe']===ai&&_0x5f4d8a['set']('EMITTERSHA'+'PE_BOX','');const _0x4410c4='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'],_0x26e35b=Pe['get'](_0x4bc6eb,_0x4bc6eb['isWebGPU']?it:Fe),_0x362861=new Map(_0x26e35b),_0x5525fe={'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'particle_s'+'imulationP'+'S','fragmentDefines':_0x5f4d8a,'fragmentIncludes':_0x362861};_0x5525fe['uniqueName']='ParticleUp'+'dateRespaw'+'n-'+_0x4410c4,_0x5f4d8a['set']('RESPAWN',''),this['shaderPart'+'icleUpdate'+'Respawn']=$t['createShad'+'er'](_0x4bc6eb,_0x5525fe),_0x5f4d8a['delete']('RESPAWN'),_0x5525fe['uniqueName']='ParticleUp'+'dateNoResp'+'awn-'+_0x4410c4,_0x5f4d8a['set']('NO_RESPAWN',''),this['shaderPart'+'icleUpdate'+'NoRespawn']=$t['createShad'+'er'](_0x4bc6eb,_0x5525fe),_0x5f4d8a['delete']('NO_RESPAWN'),_0x5525fe['uniqueName']='ParticleUp'+'dateStop-'+_0x4410c4,_0x5f4d8a['set']('ON_STOP',''),this['shaderPart'+'icleUpdate'+'OnStop']=$t['createShad'+'er'](_0x4bc6eb,_0x5525fe),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:-0x1*0x2443+-0x320+0x2767,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][-0x3c7+-0x6b*-0x31+-0x10b4]['numIndices']:-0x499+-0x12*-0x175+-0x159b,this['_allocate'](this['numParticl'+'es']);const _0x30494f=new Ge(_0x4bc6eb);_0x30494f['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x30494f['indexBuffe'+'r'][0x3b8+0xd9*-0x25+0x937*0x3]=this['indexBuffe'+'r'],_0x30494f['primitive'][0x939+-0x1f*0x65+0x302]['type']=js,_0x30494f['primitive'][0x6*0x315+-0x1ed7+0xc59]['base']=0xf1f+-0x1b74+-0xb*-0x11f,_0x30494f['primitive'][-0xa6c+-0x1498+0x1f04]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x30494f['primitive'][0xd97*0x1+-0x29*0xbf+-0x8*-0x220]['indexed']=!(-0x7da+-0x1f68+0x2742),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x40f039=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(0x6*-0x4e1+0x1af1+-0x3*-0xc7);this['meshInstan'+'ce']=new He(_0x30494f,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(-0x650*0x3+0x25c9+0x12*-0x10c),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(0xf*-0x1e5+0x2263+-0x5f8),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(-0x246b+-0x14a1+0x390d),this['meshInstan'+'ce']['visible']=_0x40f039,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](0x339+0x24ac+-0x5b3*0x7,!(-0xc5+-0x787+0x84d)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=0x9a5+0x28b+-0xc2f*0x1&&(this['animTilesX']>-0xedb*-0x1+-0x18bd*0x1+0x9e3||this['animTilesY']>-0x39*-0x9e+0x215a+0x4487*-0x1)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0x170131=this['precision'],_0x30c315=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0x170131),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0x170131),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0x170131,0x1841+-0x1*0x1dbb+0x57a,0x2057+-0xbf*-0xe+-0x2ac8),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0x170131),this['qScale']=this['scaleGraph']['quantize'](_0x170131),this['qAlpha']=this['alphaGraph']['quantize'](_0x170131),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0x170131),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0x170131),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0x170131),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0x170131,-0x16*0x161+0xe15+0x1041,0x5*-0x52b+-0xa1+0x1a79*0x1),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0x170131),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0x170131),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0x170131),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0x170131);for(let _0x6b25f0=0x2396+-0x18b5+0xae1*-0x1;_0x6b25f0<_0x170131;_0x6b25f0++)this['qRotSpeed'][_0x6b25f0]*=Y['DEG_TO_RAD'],this['qRotSpeed2'][_0x6b25f0]*=Y['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(0x1*0x10b6+-0x61f*0x3+0x1aa),this['velocityUM'+'ax']=new Float32Array(-0x35*0x23+-0x1*-0x1de7+-0x155*0x11),this['colorUMax']=new Float32Array(0xf0a+-0x4*-0x4f4+0x1*-0x22d7),this['rotSpeedUM'+'ax']=[0xc83+0x2*-0xd96+0xea9],this['scaleUMax']=[0x2b3*-0x5+0x1*0x18bb+-0xb3c],this['alphaUMax']=[-0x1da6+-0x78+0x1e1e],this['radialSpee'+'dUMax']=[0x1*-0x1749+-0x283*0x9+0x2de4],this['qLocalVelo'+'cityDiv']=Br(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Br(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Br(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Br(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Br(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Br(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Br(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x48aa92=[-0xa03*0x2+0x8e*-0x2b+-0x24*-0x138,0x3*0xcd+-0x149*-0x2+0x1*-0x4f9,0xe39+-0x20ec+0x12b3*0x1];Xr(this['qVelocity'],_0x48aa92);const _0x567824=[-0x11fa+-0x8dc+0x1ad6,0x1d79+-0x1*-0x2605+-0xa3*0x6a,0x1a44+0xa1*0x20+-0x1732*0x2];Xr(this['qVelocity2'],_0x567824);const _0x42cbf6=[-0x21*-0x121+-0xb*-0x5+0x16*-0x1b4,-0x705*0x4+-0x2689+0x429d,-0x1d3*-0xc+0x1890+-0x2e74];Xr(this['qLocalVelo'+'city'],_0x42cbf6);const _0x38ccea=[0x5ad*0x2+-0x16*0x1b7+0x698*0x4,0x20a1+-0x277*0x1+-0x42*0x75,0x83*0x2e+-0x277*0x8+-0x3d2];Xr(this['qLocalVelo'+'city2'],_0x38ccea);const _0x2d0636=[-0xc*0x259+0x140e+-0x1*-0x81e];Xr(this['qRadialSpe'+'ed'],_0x2d0636);const _0x2ec152=[0x18c6*0x1+0x2*0x209+-0x1cd8];Xr(this['qRadialSpe'+'ed2'],_0x2ec152);let _0x1e40a3=Math['max'](_0x48aa92[0x1c16+-0x4d2+-0x1744],_0x567824[-0x1c8a+-0x15fa+-0x3d*-0xd4]);_0x1e40a3=Math['max'](_0x1e40a3,_0x48aa92[0x2280+0x1262+0x1*-0x34e1]),_0x1e40a3=Math['max'](_0x1e40a3,_0x567824[-0x17c5+-0x8d3+0x5*0x685]),_0x1e40a3=Math['max'](_0x1e40a3,_0x48aa92[-0x268+-0x933+0xb9d]),_0x1e40a3=Math['max'](_0x1e40a3,_0x567824[0x9ef*-0x1+0xc39+-0x248]);let _0x357edb=Math['max'](_0x42cbf6[-0x81e*-0x4+0x7e*-0x4+-0x1e80],_0x38ccea[-0x1*-0x7a5+0xd7d+-0x5*0x43a]);_0x357edb=Math['max'](_0x357edb,_0x42cbf6[-0xeb3*-0x1+0xe7d+-0xf1*0x1f]),_0x357edb=Math['max'](_0x357edb,_0x38ccea[0x262c+-0x7b5*0x1+-0x1e76]),_0x357edb=Math['max'](_0x357edb,_0x42cbf6[0x1c2a+0x128d+-0x2eb5]),_0x357edb=Math['max'](_0x357edb,_0x38ccea[-0x17*-0x17b+-0x22ed+0xe2]);const _0x6a6105=Math['max'](_0x2d0636[0x2*0x1ff+-0x6*0x4c+-0x236],_0x2ec152[-0x21*0x107+-0x7d*-0xe+0x1b11]);this['maxVel']=_0x1e40a3+_0x357edb+_0x6a6105;}this['useCpu']||(this['internalTe'+'x0']=xs(_0x30c315,_0x170131,-0x2*0x971+-0x160f+-0x6d3*-0x6,cg(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=xs(_0x30c315,_0x170131,-0xba3*0x3+0x2281+0x69,cg(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=xs(_0x30c315,_0x170131,-0xd18+0xd61+0x12*-0x4,xA(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=xs(_0x30c315,_0x170131,-0xe5b+-0xe08+-0x2e*-0x9e,TA(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=xs(_0x30c315,_0x170131,0x2b*0xa9+-0x142a+-0x1*0x838,vA(this['qColor'],this['qAlpha']),_s,0x1*-0x1466+-0x1f61+0xcf2*0x4,!(0x121d+0x5*0x671+-0x3252));}['_setMateri'+'alTextures'](){this['colorMap']&&(w['call'](()=>{py(this['colorMap']['format'])&&w['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x460c9e=new SA(this);return _0x460c9e['name']='EmitterMat'+'erial:'+this['node']['name'],_0x460c9e['cull']=bt,_0x460c9e['alphaWrite']=!(-0x96*-0x3e+0x772*-0x4+-0x68b*0x1),_0x460c9e['blendType']=this['blendType'],_0x460c9e['depthWrite']=this['depthWrite'],_0x460c9e;}['resetMater'+'ial'](){const _0x51e38b=this['material'];_0x51e38b['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x51e38b['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x51e38b['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x51e38b['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x51e38b['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x51e38b['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x51e38b['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x51e38b['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x51e38b['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x51e38b['setParamet'+'er']('colorParam',this['colorParam']),_0x51e38b['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x51e38b['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x51e38b['setParamet'+'er']('lifetime',this['lifetime']),_0x51e38b['setParamet'+'er']('rate',this['rate']),_0x51e38b['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x51e38b['setParamet'+'er']('seed',this['seed']),_0x51e38b['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][-0x100c+-0x8ba+0x38a*0x7]),_0x51e38b['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][-0x11cd+0x23ed*0x1+-0x74*0x28]),_0x51e38b['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][0x1555+0x24a5+0x2*-0x1cfd]),_0x51e38b['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x51e38b['setParamet'+'er']('graphSampl'+'eSize',(-0x5c6*0x3+0x5c7*0x1+0xb8c)/this['precision']),_0x51e38b['setParamet'+'er']('emitterSca'+'le',new Float32Array([0x1*0x17d+-0x4*0x989+0x30e*0xc,0xaf*0x2e+-0x3ce+-0x1ba3,-0x2*0x695+0x1*-0x18ea+-0x1*-0x2615])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x51e38b['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x51e38b['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x51e38b['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][-0xaa*-0x37+-0x1014+-0x2*0xa39]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][-0x98*0x24+0x8bc+-0x27*-0x53]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][0xae3*0x3+-0x2*-0x7e1+0x1b*-0x1cb]=this['wrapBounds']['z'],_0x51e38b['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>-0x2389*0x1+0x1ebf+-0x4ca*-0x1&&_0x51e38b['setParamet'+'er']('softening',(-0x3*0xa39+-0x1*-0x7d9+-0x1*-0x16d3)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(-0x1*-0x2615+0x1f86+-0x4537))),this['stretch']>-0x1434+-0x1fc0+0x33f4&&(_0x51e38b['cull']=bt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x115f0a,_0x326892;if(this['orientatio'+'n']===yh)_0x115f0a=new Float32Array([-0x1506+-0x183b+-0x2*-0x16a1,-0x47c+-0x1c8a*-0x1+-0x180e,-0x811+0x26*-0x76+0x1*0x1995]),_0x326892=new Float32Array([0x2e3*-0x3+0xee3+-0x63a,-0x32*0x97+-0x1d9d+0x3b1b,0xa22+0x138*-0x6+-0x1*0x2d1]);else{let _0xd3ea12;this['orientatio'+'n']===Vw?_0xd3ea12=this['particleNo'+'rmal']['normalize']():_0xd3ea12=(this['node']===null?te['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x40d7f2=new D(0x1b05*-0x1+-0x4*-0x989+-0xb1e,-0xe2e+-0x1259+0xb*0x2f5,0x18e8+0x1bef*0x1+-0x34d7);Math['abs'](_0x40d7f2['dot'](_0xd3ea12))===-0x1a3e+0x7d7*0x1+0x8*0x24d&&_0x40d7f2['set'](0x2*-0x1369+0x1*0x10b2+0x1620,-0x19ef+0x1223+-0x4*-0x1f3,0x292+-0x716*0x1+0x485);const _0x30d8ba=new D()['cross'](_0xd3ea12,_0x40d7f2)['normalize']();_0x40d7f2['cross'](_0x30d8ba,_0xd3ea12)['normalize'](),_0x115f0a=new Float32Array([_0x40d7f2['x'],_0x40d7f2['y'],_0x40d7f2['z']]),_0x326892=new Float32Array([_0x30d8ba['x'],_0x30d8ba['y'],_0x30d8ba['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x115f0a),this['material']['setParamet'+'er']('faceBinorm',_0x326892);}['getVertexI'+'nfo'](){const _0x3a68ab=[];return this['useCpu']?_0x3a68ab['push']({'semantic':Jf,'components':0x4,'type':Ve},{'semantic':uh,'components':0x4,'type':Ve},{'semantic':Ap,'components':0x4,'type':Ve},{'semantic':Cp,'components':0x1,'type':Ve},{'semantic':Pp,'components':this['useMesh']?0x2251+-0x20*-0x40+-0x2a4d:-0x373+0x2198+-0x1e23*0x1,'type':Ve}):(_0x3a68ab['push']({'semantic':Jf,'components':0x4,'type':Ve}),this['useMesh']&&_0x3a68ab['push']({'semantic':uh,'components':0x2,'type':Ve})),_0x3a68ab;}['_allocate'](_0x147939){const _0x4bef5a=_0x147939*this['numParticl'+'eVerts'],_0x2a8991=_0x147939*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(0x1*-0xf47+-0xbf*-0x25+-0xc54)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x4bef5a){const _0x13d4cc=this['getVertexI'+'nfo'](),_0xbf7e95=new kt(this['graphicsDe'+'vice'],_0x13d4cc);this['vertexBuff'+'er']=new Is(this['graphicsDe'+'vice'],_0xbf7e95,_0x4bef5a,{'usage':lh}),this['indexBuffe'+'r']=new br(this['graphicsDe'+'vice'],wr,_0x2a8991);const _0x3b5fbb=new Float32Array(this['vertexBuff'+'er']['lock']());let _0x281a64,_0x1b6bfb,_0xf53bff;if(this['useMesh']){_0x281a64=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0x1b6bfb=_0x281a64['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x355641=-0xdca+-0x1a9f+-0x815*-0x5;_0x355641<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x355641++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x355641]['name']===is){_0xf53bff=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x355641]['offset']/(-0x153d+0xe94+0x6ad);break;}}for(let _0x586ed2=0x1946+0x20b5+-0x39fb;_0x586ed2<_0x4bef5a;_0x586ed2++){const _0x5c3754=Math['floor'](_0x586ed2/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x1e1451=_0x586ed2%this['numParticl'+'eVerts'];_0x3b5fbb[_0x586ed2*(-0x1*0x517+-0x1e89*-0x1+-0x196c)]=_0x281a64[_0x1e1451*_0x1b6bfb],_0x3b5fbb[_0x586ed2*(-0x2*0x819+0x3ad+-0x1*-0xc8b)+(-0x1*0x2263+0x157*-0x18+0x428c*0x1)]=_0x281a64[_0x1e1451*_0x1b6bfb+(-0x7*0x191+-0xdf*-0x2c+-0x1b5c)],_0x3b5fbb[_0x586ed2*(-0x1*0xefc+-0x314*-0x2+-0x46d*-0x2)+(0x2e+0x17bd*0x1+-0x1*0x17e9)]=_0x281a64[_0x1e1451*_0x1b6bfb+(0x51*-0x5d+0x1*-0x1bb2+0x3921)],_0x3b5fbb[_0x586ed2*(0x8ba+-0x1de1*0x1+-0x70f*-0x3)+(0x1*0xf44+-0x8b6+-0x68b)]=_0x5c3754,_0x3b5fbb[_0x586ed2*(0x2c5*0x8+0x602+0x709*-0x4)+(-0xd9c+-0x47*-0xf+-0x977*-0x1)]=_0x281a64[_0x1e1451*_0x1b6bfb+_0xf53bff+(0x32e+-0xc74+-0x946*-0x1)],_0x3b5fbb[_0x586ed2*(-0x122f*0x1+0x42d*-0x5+0x2716)+(0x2601+-0x169b+-0x1f*0x7f)]=-0x4*0x92b+-0x1*-0x5be+-0x1*-0x1eef-_0x281a64[_0x1e1451*_0x1b6bfb+_0xf53bff+(0xb*0x389+0x11c7*0x1+-0x38a9)];}else{const _0x2a483c=_0x586ed2%(-0x1e43+-0x847*0x4+-0x70b*-0x9);_0x3b5fbb[_0x586ed2*(0xebc+0xa5a+-0x1912)]=ig[_0x2a483c][0xf3e+-0x1fe1*0x1+0x10a3],_0x3b5fbb[_0x586ed2*(-0x8f1+-0x286+-0xb7b*-0x1)+(0x1d8c+-0x1cf7*-0x1+0x1*-0x3a82)]=ig[_0x2a483c][0x1fcc+0x1225+-0x4*0xc7c],_0x3b5fbb[_0x586ed2*(0x26a4+0xbc3+-0x1*0x3263)+(0x197f+-0xad*0x11+-0xe*0x100)]=0xe7b*0x1+-0xe9+-0xd92,_0x3b5fbb[_0x586ed2*(0x13*-0x197+0x1*-0x157a+0x33b3)+(0x1da2+0x1*-0x2641+0x82*0x11)]=_0x5c3754;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0x3b5fbb),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x2b8c88=0xeeb+0x196a+-0x2855;const _0x3a41a3=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x13df7b=this['mesh']['indexBuffe'+'r'][-0x690*-0x4+-0x3*0x20b+-0x141f];_0x281a64=new Sh[_0x13df7b['format']](_0x13df7b['lock']());}for(let _0x1ff1dc=0x1d93+-0x1099+0x2*-0x67d;_0x1ff1dc<_0x147939;_0x1ff1dc++)if(this['useMesh']){for(let _0x16a179=0x26b1+0x2121+-0x47d2;_0x16a179<this['numParticl'+'eIndices'];_0x16a179++)_0x3a41a3[_0x1ff1dc*this['numParticl'+'eIndices']+_0x16a179]=_0x281a64[_0x16a179]+_0x1ff1dc*this['numParticl'+'eVerts'];}else{const _0x5e3ff4=_0x1ff1dc*(0x61+0x144d+-0x5*0x422);_0x3a41a3[_0x2b8c88++]=_0x5e3ff4,_0x3a41a3[_0x2b8c88++]=_0x5e3ff4+(0x1888+0x2018+-0x389f*0x1),_0x3a41a3[_0x2b8c88++]=_0x5e3ff4+(-0x7d8*0x1+-0x2698+0x2e72),_0x3a41a3[_0x2b8c88++]=_0x5e3ff4,_0x3a41a3[_0x2b8c88++]=_0x5e3ff4+(0xc*0x151+0x1d14+0x2*-0x166f),_0x3a41a3[_0x2b8c88++]=_0x5e3ff4+(0x1*0x883+-0x1b7f+0x12ff);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][-0x37*0xa+0xcd4+-0xaae]['unlock']();}}['reset'](){if(this['beenReset']=!(0x509*-0x1+0x2ed*0x7+-0xf72),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0x4a04d4=0x1499+0x1182+-0x261b;_0x4a04d4<this['particleTe'+'xStart']['length'];_0x4a04d4++)this['particleTe'+'x'][_0x4a04d4]=this['particleTe'+'xStart'][_0x4a04d4];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x5a0cf4=this['loop'];this['loop']=!(-0x4*0x199+0xe9*0x22+-0x188e),this['addTime'](0x5*-0x76f+-0x6*-0x13e+0x1db7,!(-0xd*-0x239+0x2*0xc5d+-0x359e)),this['loop']=_0x5a0cf4,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x6af276){const _0x312337=_0x6af276/this['lifetime'],_0x2b96c6=Math['min'](Math['floor'](_0x312337*this['precision']),this['precision']),_0x1a23ed=_0x6af276/_0x2b96c6;for(let _0x50e596=-0x1d5*-0x12+-0x623*-0x2+0x2d4*-0x10;_0x50e596<_0x2b96c6;_0x50e596++)this['addTime'](_0x1a23ed,!(0xc3d+-0x1557+0x91b*0x1));}['resetTime'](){this['endTime']=wA(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x117f7e,_0x2c15bb){const _0x562a0c=this['graphicsDe'+'vice'],_0x2804fb=de();if(this['simTimeTot'+'al']+=_0x117f7e,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x344b7e=this['animTilesP'+'arams'];_0x344b7e[0x61f+-0x5*0x114+-0xbb]=(0x1ec8+0x802+-0x26c9*0x1)/this['animTilesX'],_0x344b7e[0xc24+-0x5*-0x179+-0x1380]=(0x862*-0x1+-0x13d9+0xd*0x22c)/this['animTilesY'];const _0x30b6e2=this['animParams'];_0x30b6e2[-0x1*0x14f6+-0xf3f*0x1+0x2435]=this['animStartF'+'rame'],_0x30b6e2[0x1b9f+-0x197*0x11+-0x97]=this['animNumFra'+'mes']*this['animSpeed'],_0x30b6e2[-0x32f+-0x1b72*0x1+0x1ea3]=this['animNumFra'+'mes']-(-0x148e+-0x60b+0x1a9a),_0x30b6e2[-0xa1d*0x2+-0x3*-0x27f+0x440*0x3]=this['animNumAni'+'mations']-(0x51+-0x269*0x4+0x954);const _0x53187f=this['animIndexP'+'arams'];_0x53187f[0x1*0x10e4+-0x737*0x1+-0x9ad]=this['animIndex'],_0x53187f[0x5*0x5d5+-0x1b52+-0x5e*0x5]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===ai&&(Ai[0x22c*0x5+-0xc13+0x137*0x1]=this['emitterExt'+'ents']['x']!==0x6*0x56d+-0x175*-0x1+-0x1*0x2203?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x2055+-0x5*-0x67f+-0x26*0x1,Ai[0x2584+0x1c99+-0x421c]=this['emitterExt'+'ents']['y']!==-0xcd6*-0x1+-0xbf*-0xe+-0x1748?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x2c*-0x9b+0x2*0x326+-0x20f0,Ai[0x1*0x2f5+0x1cf7*-0x1+-0x2d*-0x94]=this['emitterExt'+'ents']['z']!==-0x144c+-0x1*-0x1915+-0x31*0x19?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x1*-0x2043+-0x1*0x1476+-0xbcd,this['meshInstan'+'ce']['node']===null?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['emitterExt'+'ents']):Ur['setTRS'](D['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),lg['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x59eb61;const _0x2dd05b=this['meshInstan'+'ce']['node']===null?D['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][-0x1b67+0x26e0+-0xb79]=_0x2dd05b['x'],this['emitterSca'+'leUniform'][-0x41*-0x67+0x11fc+-0x7*0x64e]=_0x2dd05b['y'],this['emitterSca'+'leUniform'][-0x395+-0x1a14+0x1dab]=_0x2dd05b['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x59eb61=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][0x1848+-0x129*0xd+-0x933]=_0x59eb61['x'],this['emitterPos'+'Uniform'][-0xdf8+-0xa*-0x1e1+0x3*-0x19b]=_0x59eb61['y'],this['emitterPos'+'Uniform'][-0x1f61+0x254+0x1d0f]=_0x59eb61['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x562a0c,Ur,Ai,_0x117f7e,_0x2c15bb);else{const _0x4db2b7=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x4db2b7,this['vbToSort'],this['particleTe'+'x'],Ur,Ai,_0x59eb61,_0x117f7e,_0x2c15bb);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(-0x4ba+0xb*-0x1cd+0x6*0x417)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=de()-_0x2804fb;}['_destroyRe'+'sources'](){var _0xf514d,_0xdee400,_0x461704,_0x36082b,_0x340738,_0x58506f,_0x335e52,_0x20884d,_0x27aa35,_0x1eb834,_0x4b986c,_0x26d9ce;(_0xf514d=this['particleTe'+'xIN'])==null||_0xf514d['destroy'](),this['particleTe'+'xIN']=null,(_0xdee400=this['particleTe'+'xOUT'])==null||_0xdee400['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x461704=this['rtParticle'+'TexIN'])==null||_0x461704['destroy'](),this['rtParticle'+'TexIN']=null,(_0x36082b=this['rtParticle'+'TexOUT'])==null||_0x36082b['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x340738=this['internalTe'+'x0'])==null||_0x340738['destroy'](),this['internalTe'+'x0']=null,(_0x58506f=this['internalTe'+'x1'])==null||_0x58506f['destroy'](),this['internalTe'+'x1']=null,(_0x335e52=this['internalTe'+'x2'])==null||_0x335e52['destroy'](),this['internalTe'+'x2']=null,(_0x20884d=this['internalTe'+'x3'])==null||_0x20884d['destroy'](),this['internalTe'+'x3']=null,(_0x27aa35=this['colorParam'])==null||_0x27aa35['destroy'](),this['colorParam']=null,(_0x1eb834=this['vertexBuff'+'er'])==null||_0x1eb834['destroy'](),this['vertexBuff'+'er']=void(-0x1948+0xaf7*0x2+0x35a),(_0x4b986c=this['indexBuffe'+'r'])==null||_0x4b986c['destroy'](),this['indexBuffe'+'r']=void(-0x257f+0x951+0x1c2e),(_0x26d9ce=this['material'])==null||_0x26d9ce['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class PA extends ya{['generateKe'+'y'](_0x249ad2){var _0x654228;const _0x2201c9=_0x249ad2['shaderDesc'],_0x8d1c34=_0x2201c9['vertexGLSL']?hi(_0x2201c9['vertexGLSL']):0x2479+-0x188c+-0x1*0xbed,_0x3e409a=_0x2201c9['fragmentGL'+'SL']?hi(_0x2201c9['fragmentGL'+'SL']):0x1f03+-0x9*-0x1f7+-0x30b2,_0x5e69da=_0x2201c9['vertexWGSL']?hi(_0x2201c9['vertexWGSL']):0x572+-0xc*-0x30f+0xa*-0x437,_0x5daf5c=_0x2201c9['fragmentWG'+'SL']?hi(_0x2201c9['fragmentWG'+'SL']):-0xdc7*0x2+-0x212*0x9+-0x2e3*-0x10,_0x5b31d3=ya['definesHas'+'h'](_0x249ad2['defines']),_0x50570a=((_0x654228=_0x249ad2['shaderChun'+'ks'])==null?void(0x7*-0xb7+0x1598+-0x1097):_0x654228['key'])??'';let _0x4b98b6=_0x2201c9['uniqueName']+'_'+_0x5b31d3+'_'+_0x8d1c34+'_'+_0x3e409a+'_'+_0x5e69da+'_'+_0x5daf5c+'_'+_0x50570a;return _0x249ad2['skin']&&(_0x4b98b6+='_skin'),_0x249ad2['useInstanc'+'ing']&&(_0x4b98b6+='_inst'),_0x249ad2['useMorphPo'+'sition']&&(_0x4b98b6+='_morphp'),_0x249ad2['useMorphNo'+'rmal']&&(_0x4b98b6+='_morphn'),_0x249ad2['useMorphTe'+'xtureBased'+'Int']&&(_0x4b98b6+='_morphi'),_0x4b98b6;}['createAttr'+'ibutesDefi'+'nition'](_0x1c0fc2,_0x3c7092){const _0x855278=_0x3c7092['shaderDesc']['attributes'],_0xff201c=_0x855278?{..._0x855278}:void(0x1009*-0x2+0x29*0x41+0x1*0x15a9);_0x3c7092['skin']&&(_0xff201c['vertex_bon'+'eWeights']=gi,_0xff201c['vertex_bon'+'eIndices']=us),(_0x3c7092['useMorphPo'+'sition']||_0x3c7092['useMorphNo'+'rmal'])&&(_0xff201c['morph_vert'+'ex_id']=Ln),_0x1c0fc2['attributes']=_0xff201c;}['createVert'+'exDefiniti'+'on'](_0x2a8e4b,_0x23a498,_0x485c6e,_0x56fd98){const _0x4ef4d5=_0x23a498['shaderDesc'],_0x265257=new Map(_0x485c6e);_0x265257['set']('transformI'+'nstancingV'+'S','');const _0x1b9412=new Map(_0x23a498['defines']);_0x23a498['skin']&&_0x1b9412['set']('SKIN',!(0xf68+-0x1e60+0xef8)),_0x23a498['useInstanc'+'ing']&&_0x1b9412['set']('INSTANCING',!(-0x16e1+0xb70+0xb71)),(_0x23a498['useMorphPo'+'sition']||_0x23a498['useMorphNo'+'rmal'])&&(_0x1b9412['set']('MORPHING',!(-0x21f7+0x23fb*0x1+-0x3*0xac)),_0x23a498['useMorphTe'+'xtureBased'+'Int']&&_0x1b9412['set']('MORPHING_I'+'NT',!(0x28*0x1+0x4e4+-0x50c)),_0x23a498['useMorphPo'+'sition']&&_0x1b9412['set']('MORPHING_P'+'OSITION',!(-0x1a40+0x10*0x21+0x1830)),_0x23a498['useMorphNo'+'rmal']&&_0x1b9412['set']('MORPHING_N'+'ORMAL',!(0x1*-0x20c5+0x46+0x207f))),_0x2a8e4b['vertexCode']=_0x56fd98?_0x4ef4d5['vertexWGSL']:_0x4ef4d5['vertexGLSL'],_0x2a8e4b['vertexIncl'+'udes']=_0x265257,_0x2a8e4b['vertexDefi'+'nes']=_0x1b9412;}['createFrag'+'mentDefini'+'tion'](_0x3f7e52,_0x3d5128,_0x56e2e8,_0x3c2696){const _0x9c1d0a=_0x3d5128['shaderDesc'],_0x3332b1=new Map(_0x56e2e8),_0x19ef98=new Map(_0x3d5128['defines']);_0x3f7e52['fragmentCo'+'de']=_0x3c2696?_0x9c1d0a['fragmentWG'+'SL']:_0x9c1d0a['fragmentGL'+'SL'],_0x3f7e52['fragmentIn'+'cludes']=_0x3332b1,_0x3f7e52['fragmentDe'+'fines']=_0x19ef98;}['createShad'+'erDefiniti'+'on'](_0x3c4768,_0x24dac8){var _0x111f30;const _0xc23542=_0x24dac8['shaderDesc'],_0x2fe9a0=_0x3c4768['isWebGPU']&&!!_0xc23542['vertexWGSL']&&!!_0xc23542['fragmentWG'+'SL']&&(((_0x111f30=_0x24dac8['shaderChun'+'ks'])==null?void(-0xb81+-0x2399*0x1+0x2f1a):_0x111f30['useWGSL'])??!(-0x1e8f+-0x6*0x202+0x2a9b)),_0x1070b9={'name':'ShaderMate'+'rial-'+_0xc23542['uniqueName'],'shaderLanguage':_0x2fe9a0?it:Fe,'fragmentOutputTypes':_0xc23542['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0xc23542['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0xc23542['meshBindGr'+'oupFormat']},_0x4b8bb4=_0x2fe9a0?it:Fe,_0x4fa402=bh['merge'](Pe['get'](_0x3c4768,_0x4b8bb4),_0x24dac8['shaderChun'+'ks'][_0x4b8bb4]);return this['createAttr'+'ibutesDefi'+'nition'](_0x1070b9,_0x24dac8),this['createVert'+'exDefiniti'+'on'](_0x1070b9,_0x24dac8,_0x4fa402,_0x2fe9a0),this['createFrag'+'mentDefini'+'tion'](_0x1070b9,_0x24dac8,_0x4fa402,_0x2fe9a0),Jt['createDefi'+'nition'](_0x3c4768,_0x1070b9);}}const MA=new PA();class Xn extends tr{constructor(_0x299a33){super(),h(this,'_shaderDes'+'c'),this['shaderDesc']=_0x299a33;}set['shaderDesc'](_0x5ad986){if(this['_shaderDes'+'c']=void(0x1*-0x1c27+-0x14a*-0xb+0xdf9),_0x5ad986&&(this['_shaderDes'+'c']={'uniqueName':_0x5ad986['uniqueName'],'attributes':_0x5ad986['attributes'],'fragmentOutputTypes':_0x5ad986['fragmentOu'+'tputTypes'],'vertexGLSL':_0x5ad986['vertexGLSL'],'fragmentGLSL':_0x5ad986['fragmentGL'+'SL'],'vertexWGSL':_0x5ad986['vertexWGSL'],'fragmentWGSL':_0x5ad986['fragmentWG'+'SL']},_0x5ad986['vertexCode']||_0x5ad986['fragmentCo'+'de']||_0x5ad986['shaderLang'+'uage'])){w['deprecated']('ShaderMate'+'rial\x20['+_0x5ad986['uniqueName']+(']:\x20vertexC'+'ode,\x20fragm'+'entCode\x20an'+'d\x20shaderLa'+'nguage\x20pro'+'perties\x20of'+'\x20ShaderDes'+'c\x20is\x20depre'+'cated.\x20Use'+'\x20vertexGLS'+'L,\x20fragmen'+'tGLSL,\x20ver'+'texWGSL\x20or'+'\x20fragmentW'+'GSL\x20instea'+'d.'));const _0x254f9e=_0x5ad986['shaderLang'+'uage']??Fe;_0x254f9e===Fe?(this['_shaderDes'+'c']['vertexGLSL']=_0x5ad986['vertexCode'],this['_shaderDes'+'c']['fragmentGL'+'SL']=_0x5ad986['fragmentCo'+'de']):_0x254f9e===it&&(this['_shaderDes'+'c']['vertexWGSL']=_0x5ad986['vertexCode'],this['_shaderDes'+'c']['fragmentWG'+'SL']=_0x5ad986['fragmentCo'+'de']);}this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0xf24342){return super['copy'](_0xf24342),this['shaderDesc']=_0xf24342['shaderDesc'],this;}['getShaderV'+'ariant'](_0x31f84b){const {objDefs:_0x37eec4}=_0x31f84b,_0x5e3b45={'defines':$t['getCoreDef'+'ines'](this,_0x31f84b),'skin':(_0x37eec4&nl)!==-0x188d+-0xcb5*-0x1+0xbd8,'useInstancing':(_0x37eec4&ol)!==0x1b47+-0x6*0x569+0x52f,'useMorphPosition':(_0x37eec4&ll)!==0x1243+0x2*-0x12a1+0x12ff,'useMorphNormal':(_0x37eec4&cl)!==-0x1199+0xe27+0x372,'useMorphTextureBasedInt':(_0x37eec4&hl)!==-0xbb*0x18+0xa93*-0x3+0x3*0x106b,'pass':_0x31f84b['pass'],'gamma':_0x31f84b['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0x31f84b['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0x31f84b['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'shaderChunks':this['shaderChun'+'ks']},_0x5ceaed=new Ad(_0x31f84b['viewUnifor'+'mFormat'],_0x31f84b['viewBindGr'+'oupFormat'],_0x31f84b['vertexForm'+'at']),_0x352892=Hn(_0x31f84b['device']);return _0x352892['register']('shader-mat'+'erial',MA),_0x352892['getProgram']('shader-mat'+'erial',_0x5e3b45,_0x5ceaed,this['userId']);}}const Iv=(_0x2154d9,_0x4161ab)=>{const _0x939b77=_0x4161ab['length']/(0x12c5*-0x1+-0x7fb+0x1ac3),_0x3d03f3=_0x2154d9['length']/(-0x2397+-0x1e44+0x41de),_0x329dd7=new D(),_0x32e5d4=new D(),_0x4368b3=new D(),_0x379f60=new D(),_0x48aa4c=new D(),_0x2b35b0=new D(),_0x4d4619=[];for(let _0x3c40df=0xab9+-0x1*-0x2349+-0x2e02;_0x3c40df<_0x2154d9['length'];_0x3c40df++)_0x4d4619[_0x3c40df]=-0x1685+-0x30b*0xb+-0x2*-0x1bff;for(let _0x55f391=-0x325*0x4+-0x24ed*0x1+-0x29b*-0x13;_0x55f391<_0x939b77;_0x55f391++){const _0x2f0d66=_0x4161ab[_0x55f391*(0x1326+0x26f6*-0x1+0x13d3)],_0x546c7e=_0x4161ab[_0x55f391*(0x483*0x2+0x5*-0x5+-0x1*0x8ea)+(-0x1b*0xc5+0x5*0x3d6+0x19a)],_0x4c82e0=_0x4161ab[_0x55f391*(0x512+-0x18ff+0x13f0)+(0x1578+-0x7fd+-0xd79*0x1)];_0x329dd7['set'](_0x2154d9[_0x2f0d66*(-0x163c+0x791+-0x2*-0x757)],_0x2154d9[_0x2f0d66*(-0x42*0xe+-0x924+0xcc3)+(0x96b*0x1+-0x9*0x287+-0xd55*-0x1)],_0x2154d9[_0x2f0d66*(0x1*-0x17ef+-0xa*-0xfe+-0x5*-0x2ce)+(-0x9fd*0x2+-0x245*0xd+0x3*0x107f)]),_0x32e5d4['set'](_0x2154d9[_0x546c7e*(-0x3*-0xa4e+0x9c4+0x167*-0x1d)],_0x2154d9[_0x546c7e*(0xaf*0x11+0x1*-0xe2c+0x1*0x290)+(-0x4a*-0x40+-0x115a+-0x125)],_0x2154d9[_0x546c7e*(-0x2292+0x1f4c+0x349)+(0x1371*0x2+-0x71b+0x1fc5*-0x1)]),_0x4368b3['set'](_0x2154d9[_0x4c82e0*(-0x3ce*0x4+-0x11*0xad+0x1ab8)],_0x2154d9[_0x4c82e0*(0x54a+-0x1d4a+0x1803)+(-0x123+0x314*-0x1+-0x87*-0x8)],_0x2154d9[_0x4c82e0*(0x2b4*-0xe+-0x16*-0x65+0x1d2d)+(0xfd7+0x24f8+-0x34cd)]),_0x379f60['sub2'](_0x32e5d4,_0x329dd7),_0x48aa4c['sub2'](_0x4368b3,_0x329dd7),_0x2b35b0['cross'](_0x379f60,_0x48aa4c)['normalize'](),_0x4d4619[_0x2f0d66*(0x2c2*0x6+-0x68*-0x30+-0x2409)]+=_0x2b35b0['x'],_0x4d4619[_0x2f0d66*(-0x25*-0xf3+0x1346*0x2+0x1*-0x49a8)+(0x22d*-0x3+0x1b7e+-0x14f6)]+=_0x2b35b0['y'],_0x4d4619[_0x2f0d66*(-0x13a*-0x1f+-0xa38*-0x1+-0x303b)+(-0x227e+-0x2174+0x21fa*0x2)]+=_0x2b35b0['z'],_0x4d4619[_0x546c7e*(0x5e1*0x3+-0x24b2+0x2*0x989)]+=_0x2b35b0['x'],_0x4d4619[_0x546c7e*(-0x2*0x49+0x1b21+-0x2*0xd46)+(0x2301+-0x2468+0xb4*0x2)]+=_0x2b35b0['y'],_0x4d4619[_0x546c7e*(0x506*-0x1+-0x593*0x2+-0x102f*-0x1)+(-0x236c+-0x8f9*-0x2+0x5d4*0x3)]+=_0x2b35b0['z'],_0x4d4619[_0x4c82e0*(0x33f*0xc+0x99*-0x33+0x6*-0x169)]+=_0x2b35b0['x'],_0x4d4619[_0x4c82e0*(0x21e*-0x4+-0x303+-0x5bf*-0x2)+(0x31*0x9+0x4bc+-0x674)]+=_0x2b35b0['y'],_0x4d4619[_0x4c82e0*(-0x1*-0x14dd+0x1e63*-0x1+-0x1*-0x989)+(0x1552+-0x2001+0x17*0x77)]+=_0x2b35b0['z'];}for(let _0x1f9841=-0x1*-0x4f1+0x16f1+-0x1*0x1be2;_0x1f9841<_0x3d03f3;_0x1f9841++){const _0x407bcd=_0x4d4619[_0x1f9841*(-0x265+-0xb5*-0x31+0x395*-0x9)],_0x351f2f=_0x4d4619[_0x1f9841*(0x53f+0x7eb+-0x103*0xd)+(0x1081+-0x211d+0x1*0x109d)],_0x515c10=_0x4d4619[_0x1f9841*(0x2b*0xc5+0x43*-0x11+-0x1ca1)+(-0x3*0x145+-0x4d1+-0x2*-0x451)],_0x50663f=(0x127d+0xd6c*-0x2+-0x6b*-0x14)/Math['sqrt'](_0x407bcd*_0x407bcd+_0x351f2f*_0x351f2f+_0x515c10*_0x515c10);_0x4d4619[_0x1f9841*(0x465+-0x1fc8+0x1b66)]*=_0x50663f,_0x4d4619[_0x1f9841*(0x8a*0x34+0x21a1+-0x3da6)+(0x15a3+0x101*-0x12+-0x13*0x30)]*=_0x50663f,_0x4d4619[_0x1f9841*(0x94*-0x42+-0x1928+0x179*0x2b)+(0x1238+0x1275+0x9*-0x413)]*=_0x50663f;}return _0x4d4619;},Mr=(_0xa9c87,_0x525c88,_0x24a112,_0x31b88b)=>{const _0x120fa9=_0x31b88b['length']/(0x9*0x3c1+0x33e*0x4+-0x2ebe),_0x59f7e0=_0xa9c87['length']/(0x81e+0x1eb6+-0x1*0x26d1),_0x87c6c6=new D(),_0x2d7db5=new D(),_0x6455a0=new D(),_0x56add5=new J(),_0x3cac7e=new J(),_0x5e2de4=new J(),_0xac7ca2=new D(),_0x108ab9=new D(),_0xe300c1=new Float32Array(_0x59f7e0*(-0x12*-0xdf+0x1f75+-0x2f20)),_0x5ebfba=new Float32Array(_0x59f7e0*(-0xa67+0x47*-0x16+-0x1084*-0x1)),_0xd10c1=[];for(let _0x213151=0x2213+-0x1003+-0x1210;_0x213151<_0x120fa9;_0x213151++){const _0x828026=_0x31b88b[_0x213151*(0x1b79+0x148a+-0x3000)],_0x33b1a3=_0x31b88b[_0x213151*(-0x1e56+0x4bd*-0x4+0x314d)+(0x4*-0x5fb+0x1a2*-0x17+0x1*0x3d7b)],_0x78d7ee=_0x31b88b[_0x213151*(-0x116a+0x1d8b+-0x3*0x40a)+(0x1718+0x1*0x1e75+-0x358b)];_0x87c6c6['set'](_0xa9c87[_0x828026*(0xbf0+0x184e+-0x243b)],_0xa9c87[_0x828026*(0xc83*-0x2+-0x2*0x741+-0xbf*-0x35)+(0x2529+0x7*-0x17a+-0x1ad2)],_0xa9c87[_0x828026*(-0x86c+-0x11a7*-0x1+0x49c*-0x2)+(-0x15fb+0x16d7+-0x1*0xda)]),_0x2d7db5['set'](_0xa9c87[_0x33b1a3*(0x35b*-0x3+0x243f+-0x1a2b)],_0xa9c87[_0x33b1a3*(0x2463+-0x1*-0xfb5+-0x3415)+(-0x1*0x796+-0x1711+0x1ea8)],_0xa9c87[_0x33b1a3*(-0x511*-0x1+0x131f+-0x182d)+(0x9bb+-0x1cc5+-0x2e*-0x6a)]),_0x6455a0['set'](_0xa9c87[_0x78d7ee*(0xa*-0x19+0x2261*-0x1+0x1*0x235e)],_0xa9c87[_0x78d7ee*(-0x1e4c+0x22*-0x22+0x5*0x6f7)+(0xa0f+-0x102b*0x1+0x61d)],_0xa9c87[_0x78d7ee*(0xdfa+0x1*0x226d+-0x3064)+(0x6*0x1bd+0x24a+0x1*-0xcb6)]),_0x56add5['set'](_0x24a112[_0x828026*(0x130f+0x1*0x665+-0x1972)],_0x24a112[_0x828026*(-0x2ef*0xa+-0xb4c+0x28a4)+(0x149*-0x19+0x13e2+-0x10*-0xc4)]),_0x3cac7e['set'](_0x24a112[_0x33b1a3*(-0xab*0x2b+-0xad0+0x35*0xbf)],_0x24a112[_0x33b1a3*(0x2*0xf7f+-0x13f9+-0xb03)+(-0x4*0x841+-0xff5+0x1*0x30fa)]),_0x5e2de4['set'](_0x24a112[_0x78d7ee*(0x1ca4+-0xeb1+-0x2b*0x53)],_0x24a112[_0x78d7ee*(0x208a+0x1735+-0x37bd)+(-0x170*0xb+-0x895*0x3+0x14c8*0x2)]);const _0xcca958=_0x2d7db5['x']-_0x87c6c6['x'],_0x74ada3=_0x6455a0['x']-_0x87c6c6['x'],_0xaee35a=_0x2d7db5['y']-_0x87c6c6['y'],_0x43cd80=_0x6455a0['y']-_0x87c6c6['y'],_0x369b0f=_0x2d7db5['z']-_0x87c6c6['z'],_0x272faa=_0x6455a0['z']-_0x87c6c6['z'],_0x1c4a7e=_0x3cac7e['x']-_0x56add5['x'],_0x21a6d7=_0x5e2de4['x']-_0x56add5['x'],_0x1e4e28=_0x3cac7e['y']-_0x56add5['y'],_0x16b1b4=_0x5e2de4['y']-_0x56add5['y'],_0x404ab3=_0x1c4a7e*_0x16b1b4-_0x21a6d7*_0x1e4e28;if(_0x404ab3===0xfc6+0x25ed+-0x35b3)_0xac7ca2['set'](-0x4b+0x1605*0x1+-0x15ba,0x2*0x51b+0x27*-0x6d+0x666,0x44f*-0x9+-0x6a*0x4f+-0x1*-0x477d),_0x108ab9['set'](0xc81+0xf*-0x8c+-0x44c,-0x60a*0x2+-0x25*-0xb7+-0xe5f,-0xc3f*-0x1+-0x3*0x8a1+0x369*0x4);else{const _0x4de42b=(0x1*-0x1bc8+-0x4b4+0x207d)/_0x404ab3;_0xac7ca2['set']((_0x16b1b4*_0xcca958-_0x1e4e28*_0x74ada3)*_0x4de42b,(_0x16b1b4*_0xaee35a-_0x1e4e28*_0x43cd80)*_0x4de42b,(_0x16b1b4*_0x369b0f-_0x1e4e28*_0x272faa)*_0x4de42b),_0x108ab9['set']((_0x1c4a7e*_0x74ada3-_0x21a6d7*_0xcca958)*_0x4de42b,(_0x1c4a7e*_0x43cd80-_0x21a6d7*_0xaee35a)*_0x4de42b,(_0x1c4a7e*_0x272faa-_0x21a6d7*_0x369b0f)*_0x4de42b);}_0xe300c1[_0x828026*(-0xfa*-0x8+-0x56+0x777*-0x1)+(0x5*-0x632+0x1*-0x1115+0x300f)]+=_0xac7ca2['x'],_0xe300c1[_0x828026*(-0x1d*-0xe5+-0x1b6a+0x17c)+(-0x2269+-0x5*-0x607+-0x3*-0x16d)]+=_0xac7ca2['y'],_0xe300c1[_0x828026*(0xb*-0x110+0x10c*-0x1a+0x26eb)+(0x1*0x1967+-0x1681+-0x2e4)]+=_0xac7ca2['z'],_0xe300c1[_0x33b1a3*(0x2*0x1b1+-0x1771+-0x1412*-0x1)+(-0x766*-0x1+-0x26ed+0x1f87)]+=_0xac7ca2['x'],_0xe300c1[_0x33b1a3*(-0x4*0x8c+-0x1148+0x137b)+(-0x5*-0x5c+-0x35*-0xa6+-0x2429)]+=_0xac7ca2['y'],_0xe300c1[_0x33b1a3*(-0x1*0x1ca5+-0x1ed+0x1e95*0x1)+(0x230c+0x15ff+-0x1f*0x1d7)]+=_0xac7ca2['z'],_0xe300c1[_0x78d7ee*(0x16e1*0x1+0x3*0x2de+0x2*-0xfbc)+(0x1*-0x2077+-0x57a+0x25f1)]+=_0xac7ca2['x'],_0xe300c1[_0x78d7ee*(0x1c96+-0x1f*-0xaf+-0x104*0x31)+(0x189*0xe+-0xbbd*-0x2+-0x2cf7)]+=_0xac7ca2['y'],_0xe300c1[_0x78d7ee*(0x224*-0x9+0x3e+0x1309)+(0x1*-0xfcb+-0x2f9+0x12c6)]+=_0xac7ca2['z'],_0x5ebfba[_0x828026*(-0x2455+0x1*0x1+0x2457)+(0x1f11+0x115*-0xf+0x1*-0xed6)]+=_0x108ab9['x'],_0x5ebfba[_0x828026*(0x4*0x859+0x1*-0x241+-0x1f20)+(0x6b9+0x1*-0x1bc8+0x1510)]+=_0x108ab9['y'],_0x5ebfba[_0x828026*(-0x71*0x3+-0x9fb+0xb51)+(0xb*0x1d+0x2207+-0x2344)]+=_0x108ab9['z'],_0x5ebfba[_0x33b1a3*(0x1*-0xb5a+0x41d+-0x3a*-0x20)+(-0x14fd*-0x1+-0x84*0x31+0x3*0x16d)]+=_0x108ab9['x'],_0x5ebfba[_0x33b1a3*(-0x9*-0x51+0x17aa+0x4*-0x6a0)+(0x1961+0xaa3+-0x15*0x1b7)]+=_0x108ab9['y'],_0x5ebfba[_0x33b1a3*(0x918+0x57*0x9+-0x1*0xc24)+(0x198+0x81d+-0xbf*0xd)]+=_0x108ab9['z'],_0x5ebfba[_0x78d7ee*(0xb8e+0xc*0x1f3+0x1*-0x22ef)+(0x9f6+0x25*-0x69+0x5*0x10b)]+=_0x108ab9['x'],_0x5ebfba[_0x78d7ee*(-0x4*-0x142+-0x5c*-0x1+0x51*-0x11)+(-0x17b3+-0xc1d+0x23d1)]+=_0x108ab9['y'],_0x5ebfba[_0x78d7ee*(-0x5a5*-0x5+0x1*0xd41+-0x2977)+(-0x1ab1+0x2003+-0x5*0x110)]+=_0x108ab9['z'];}const _0x3b6bbb=new D(),_0x2e4620=new D(),_0x15b605=new D(),_0x2e6d63=new D();for(let _0x57f755=0x7*0x219+0x4eb+0x182*-0xd;_0x57f755<_0x59f7e0;_0x57f755++){_0x15b605['set'](_0x525c88[_0x57f755*(-0x1e*0x4f+-0xcfe+0x1643)],_0x525c88[_0x57f755*(0x21d9+0x400*-0x5+-0xdd6)+(-0x20df+-0x151*0x2+0x2382)],_0x525c88[_0x57f755*(0x12cf+-0xb4c+-0x780)+(-0x13fe+0x2599*0x1+-0x1199)]),_0x3b6bbb['set'](_0xe300c1[_0x57f755*(-0x22c4+0x2*-0x2fc+0x28bf)],_0xe300c1[_0x57f755*(0xa8b+-0x2*0x151+-0x7e6)+(-0x1d45*-0x1+-0x1eb2+-0x7a*-0x3)],_0xe300c1[_0x57f755*(0x3*-0x77a+0x2*0x87+0x1563)+(0x1dad+0xf92+-0x2d3d)]),_0x2e4620['set'](_0x5ebfba[_0x57f755*(0x3*-0x322+0x5d1+0x398)],_0x5ebfba[_0x57f755*(0x3*-0x7f7+0xca*0x7+0x1262)+(-0x1d25+0x5d*-0x5f+0x3fa9)],_0x5ebfba[_0x57f755*(0x159+0x5*0x4fd+-0x7*0x3c1)+(0x214*0x9+-0x1bb3+-0x5*-0x1cd)]);const _0x18ac72=_0x15b605['dot'](_0x3b6bbb);_0x2e6d63['copy'](_0x15b605)['mulScalar'](_0x18ac72),_0x2e6d63['sub2'](_0x3b6bbb,_0x2e6d63)['normalize'](),_0xd10c1[_0x57f755*(0x1*-0x93+-0x293+-0x12*-0x2d)]=_0x2e6d63['x'],_0xd10c1[_0x57f755*(0x1*-0x2390+0x88d+0x1b07)+(-0x1eae+0x307*-0x7+-0x28*-0x14c)]=_0x2e6d63['y'],_0xd10c1[_0x57f755*(0x1a99+0x6*-0x579+0x641*0x1)+(0x16ca*0x1+0x1b2a+-0x31f2)]=_0x2e6d63['z'],_0x2e6d63['cross'](_0x15b605,_0x3b6bbb),_0xd10c1[_0x57f755*(0x35b*0xb+0x1983+-0x2*0x1f34)+(-0x1399+0x8*0x6+0x136c)]=_0x2e6d63['dot'](_0x2e4620)<-0x295*0xd+-0x1133+0x13*0x2ac?-(-0x659+-0xcc9*0x1+-0x45*-0x47):-0x1d2*-0xf+-0x118e+0x1*-0x9bf;}return _0xd10c1;};class Ta{constructor(){h(this,'positions'),h(this,'normals'),h(this,'colors'),h(this,'uvs'),h(this,'uvs1'),h(this,'blendIndic'+'es'),h(this,'blendWeigh'+'ts'),h(this,'tangents'),h(this,'indices');}['calculateN'+'ormals'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=Iv(this['positions'],this['indices']);}['calculateT'+'angents'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),w['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const pu=(0x5*0x321+0xa*-0x1ae+-0x12b*-0x1)/(0x28*0xac+-0x136*-0x19+-0x38e6),hg=-0x1f*0x6b+0x1a9d+-0xda7-pu*(0x5bc*-0x1+0x9a9*-0x2+-0x4*-0x644);class mu extends Ta{constructor(_0x54d353={}){super();const _0x442dd3=_0x54d353['halfExtent'+'s']??new D(-0x160d+0x1a9*0x1+0x414*0x5+0.5,-0x12fd*0x1+-0x1*-0x16a9+-0x5*0xbc+0.5,0xc*0x1ed+-0xa3*-0x22+-0x2*0x1661+0.5),_0x53c640=_0x54d353['widthSegme'+'nts']??0x1adc+-0xe9*-0x1+-0x1bc4,_0x396f9f=_0x54d353['lengthSegm'+'ents']??0x1*-0x189c+0x371+0x4*0x54b,_0x3fecc4=_0x54d353['heightSegm'+'ents']??0xa25+0x1*-0x11ab+-0x29*-0x2f,_0x340f20=_0x54d353['yOffset']??-0x2*-0xef2+0x1cf*-0x3+-0x1*0x1877,_0x29481d=-_0x442dd3['y']+_0x340f20,_0x58b0d2=_0x442dd3['y']+_0x340f20,_0x2a7f40=[new D(-_0x442dd3['x'],_0x29481d,_0x442dd3['z']),new D(_0x442dd3['x'],_0x29481d,_0x442dd3['z']),new D(_0x442dd3['x'],_0x58b0d2,_0x442dd3['z']),new D(-_0x442dd3['x'],_0x58b0d2,_0x442dd3['z']),new D(_0x442dd3['x'],_0x29481d,-_0x442dd3['z']),new D(-_0x442dd3['x'],_0x29481d,-_0x442dd3['z']),new D(-_0x442dd3['x'],_0x58b0d2,-_0x442dd3['z']),new D(_0x442dd3['x'],_0x58b0d2,-_0x442dd3['z'])],_0x22ff41=[[-0xb0f+-0x531*0x3+-0x3ce*-0x7,-0x5*0x45b+-0x1d*-0x35+0xfc7,0x25b7+-0x1*-0x254b+-0x4aff],[-0x7d*0x2f+0x1a1+0x1556,-0x3*-0x3a1+0x22ac+-0x2d8a,0x1*0x194d+0x73*0x43+-0x375f],[0x27e*0x7+-0x221e+0x10af,-0x3c2*0x4+0x1859+-0x94f*0x1,0x1*0x13ac+-0x21a7+0x4ab*0x3],[-0x1984+0x1*0x9dc+0x1*0xfa9,0x20*0x7f+-0x3*0x9fb+0xe11,0x21ff+-0x7*-0x1cd+-0x2e96],[-0x1e20+-0x1867+0x3688,0x1631+-0xf1*0x20+0x37*0x25,0x2391+0x260b*-0x1+0x2*0x13e],[0x132+0x1*-0x23e2+0x22b5,-0x74*0x44+0x19e2+0x4ee,0x6*-0x235+-0x1013+0x1d57]],_0x1b471a=[[0x1027+-0xc6c+-0x3bb,0x24c5*-0x1+-0xc59*0x3+-0x10*-0x49d,0x749+-0x11ef+0xaa7],[-0x228e+0x10af+-0x393*-0x5,0xbe6+-0x16df*-0x1+-0x22c5,-(0x5*0x5bf+-0x476*-0x1+0x48*-0x76)],[0x1*0x1087+-0x1d*-0x49+-0x18cc,0x1ba7+0x43*0x51+-0x30d9,-0x2b0*-0x1+-0x1970+-0x1a0*-0xe],[0x2*-0x119b+-0x18c1+0x3bf7,-(0x75e*-0x1+-0x1*-0x39+-0x726*-0x1),-0x1*0x166a+-0x1d46+-0x1*-0x33b0],[0x1*-0x70b+0xb6a+-0x45e,0x1085*0x1+0x1e11+0x174b*-0x2,0xb*-0x2bf+0x12d8+0x1*0xb5d],[-(0xf47*0x1+-0x76d+-0x7d9),-0x219f+0x25cf+0x10c*-0x4,0xf8*0x21+0x277+-0x6e3*0x5]],_0x24b14f={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0x3209ef=[],_0x13b569=[],_0x3bc00e=[],_0x5cb700=[];let _0xe7466=-0x2*-0x205+0x1384+-0x1e*0xc9;const _0x343b2d=(_0x719da4,_0x3cb2e3,_0x153e2d)=>{const _0x1bb4cd=new D(),_0x5b39a4=new D(),_0x47146f=new D(),_0x5ddfd7=new D();for(let _0x10bd19=-0x2*-0xdbc+0x187d+-0x33f5;_0x10bd19<=_0x3cb2e3;_0x10bd19++)for(let _0x3b7880=-0xd*0x1a3+-0x45*-0x89+-0xfa6;_0x3b7880<=_0x153e2d;_0x3b7880++){_0x1bb4cd['lerp'](_0x2a7f40[_0x22ff41[_0x719da4][0x2393+-0x1391+0x556*-0x3]],_0x2a7f40[_0x22ff41[_0x719da4][-0x1*-0x132d+0x20ed+-0x3419]],_0x10bd19/_0x3cb2e3),_0x5b39a4['lerp'](_0x2a7f40[_0x22ff41[_0x719da4][0x2b2+0x1*0x9e5+-0x1*0xc97]],_0x2a7f40[_0x22ff41[_0x719da4][0x1a7c+0x8d8+-0x2352]],_0x3b7880/_0x153e2d),_0x47146f['sub2'](_0x5b39a4,_0x2a7f40[_0x22ff41[_0x719da4][-0x10d0+-0x742*-0x1+0x98e]]),_0x5ddfd7['add2'](_0x1bb4cd,_0x47146f);let _0x264b94=_0x10bd19/_0x3cb2e3,_0x222fce=_0x3b7880/_0x153e2d;_0x3209ef['push'](_0x5ddfd7['x'],_0x5ddfd7['y'],_0x5ddfd7['z']),_0x13b569['push'](_0x1b471a[_0x719da4][-0xf48+-0x23cf+-0x4a5*-0xb],_0x1b471a[_0x719da4][-0x164a+0x139*-0x7+0x1eda],_0x1b471a[_0x719da4][-0x5*-0x4cc+0x5f*0xb+0x1*-0x1c0f]),_0x3bc00e['push'](_0x264b94,-0x8f2+-0x43*-0x86+-0x1a1f-_0x222fce),_0x264b94=_0x264b94*hg+pu,_0x222fce=_0x222fce*hg+pu,_0x264b94/=-0xef+-0x1*0x1b8b+0xb*0x297,_0x222fce/=0x1*-0x785+0x1*-0x6aa+0xe32,_0x264b94+=_0x719da4%(-0x1*0x1d7b+-0x243e*-0x1+-0x6c0)/(0x175*0x10+-0x1*0x121f+-0x22*0x27),_0x222fce+=Math['floor'](_0x719da4/(-0x3*0xcb3+-0x347*-0x9+0x93*0xf))/(-0xa29+0x1*-0x14ed+0x1f19*0x1),_0x10bd19<_0x3cb2e3&&_0x3b7880<_0x153e2d&&(_0x5cb700['push'](_0xe7466+_0x153e2d+(-0x3d*0x86+-0x211+0x2200),_0xe7466+(-0x213e+-0x1e03+0x3f42),_0xe7466),_0x5cb700['push'](_0xe7466+_0x153e2d+(0x2128+-0x788+0x7*-0x3a9),_0xe7466+_0x153e2d+(-0x3b*-0xa7+0x1e6f+0x44ea*-0x1),_0xe7466+(-0x20d4+-0x127*0x12+-0xd3*-0x41))),_0xe7466++;}};_0x343b2d(_0x24b14f['FRONT'],_0x53c640,_0x3fecc4),_0x343b2d(_0x24b14f['BACK'],_0x53c640,_0x3fecc4),_0x343b2d(_0x24b14f['TOP'],_0x53c640,_0x396f9f),_0x343b2d(_0x24b14f['BOTTOM'],_0x53c640,_0x396f9f),_0x343b2d(_0x24b14f['RIGHT'],_0x396f9f,_0x3fecc4),_0x343b2d(_0x24b14f['LEFT'],_0x396f9f,_0x3fecc4),this['positions']=_0x3209ef,this['normals']=_0x13b569,this['uvs']=_0x3bc00e,this['uvs1']=_0x3bc00e,this['indices']=_0x5cb700,_0x54d353['calculateT'+'angents']&&(this['tangents']=Mr(_0x3209ef,_0x13b569,_0x3bc00e,_0x5cb700));}}class _m extends Ta{constructor(_0x399218={}){super();const _0x3bd989=_0x399218['radius']??-0x3*0x3b9+0x1c18+-0x10ed+0.5,_0x516993=_0x399218['latitudeBa'+'nds']??-0x7e*-0x35+-0x1e7*-0xc+0x152*-0x25,_0x1eef9d=_0x399218['longitudeB'+'ands']??-0x163d+0x1*0x57f+0x12*0xef,_0x243290=[],_0x1b3c3c=[],_0x5037c1=[],_0x5336b7=[];for(let _0x9e4a80=-0x8cb*0x3+-0x2522+0x3f83;_0x9e4a80<=_0x516993;_0x9e4a80++){const _0x1e5743=_0x9e4a80*Math['PI']/_0x516993,_0x3f9a64=Math['sin'](_0x1e5743),_0x2e25f1=Math['cos'](_0x1e5743);for(let _0x55a773=-0x1291+-0x1115+0x23a6;_0x55a773<=_0x1eef9d;_0x55a773++){const _0x3bd8ac=_0x55a773*(-0x1563+0x873*-0x4+0x3731)*Math['PI']/_0x1eef9d-Math['PI']/(0x61*0x37+-0x3*-0x3d8+-0x205d),_0x47b211=Math['sin'](_0x3bd8ac),_0x2c8a27=Math['cos'](_0x3bd8ac)*_0x3f9a64,_0x3652a5=_0x2e25f1,_0x5591ef=_0x47b211*_0x3f9a64,_0x2aae32=-0x1fb9*0x1+-0x2*-0xf24+0x172*0x1-_0x55a773/_0x1eef9d,_0x38f9bb=-0x1bef*-0x1+0x643*0x2+-0x1*0x2874-_0x9e4a80/_0x516993;_0x243290['push'](_0x2c8a27*_0x3bd989,_0x3652a5*_0x3bd989,_0x5591ef*_0x3bd989),_0x1b3c3c['push'](_0x2c8a27,_0x3652a5,_0x5591ef),_0x5037c1['push'](_0x2aae32,0x21f3+0x2*-0x701+-0x13f0-_0x38f9bb);}}for(let _0x54daee=-0x59*-0x1c+-0x1d1b+0x675*0x3;_0x54daee<_0x516993;++_0x54daee)for(let _0x225deb=-0x9ed+-0x1548+0x1f35;_0x225deb<_0x1eef9d;++_0x225deb){const _0x1073d5=_0x54daee*(_0x1eef9d+(-0x9dc*-0x3+0x1791+-0xb3*0x4c))+_0x225deb,_0x32f52f=_0x1073d5+_0x1eef9d+(-0xe*-0x1a3+-0x726+0x3*-0x541);_0x5336b7['push'](_0x1073d5+(0xd63+-0x8*-0x2de+-0x2452*0x1),_0x32f52f,_0x1073d5),_0x5336b7['push'](_0x1073d5+(0x6aa+0x1514*0x1+0x9*-0x315),_0x32f52f+(0xf29*0x1+0x691+-0x15b9),_0x32f52f);}this['positions']=_0x243290,this['normals']=_0x1b3c3c,this['uvs']=_0x5037c1,this['uvs1']=_0x5037c1,this['indices']=_0x5336b7,_0x399218['calculateT'+'angents']&&(this['tangents']=Mr(_0x243290,_0x1b3c3c,_0x5037c1,_0x5336b7));}}class DA extends _m{constructor(_0x3d1dc2={}){const _0x565c44=_0x3d1dc2['latitudeBa'+'nds']??0x19a+0x1b01+-0x1c8b,_0x18d71d=_0x3d1dc2['longitudeB'+'ands']??-0xc*-0x259+0x9*-0x257+-0x70d;super({'radius':0.5,'latitudeBands':_0x565c44,'longitudeBands':_0x18d71d});const _0x38a37e=0x4f2+-0x17d8+-0x973*-0x2+0.1,_0x2930b9=0x14*0x181+0xde*0xb+0x13cf*-0x2+0.95,_0x2a7f48=_0x2930b9*_0x2930b9,_0x1e467f=this['positions'];for(let _0x2c8f26=-0xa95+-0x3*-0x62d+-0x2a6*0x3;_0x2c8f26<_0x1e467f['length'];_0x2c8f26+=-0xd05*-0x2+-0x1d*-0xc+-0x1b63){const _0x70c7da=_0x1e467f[_0x2c8f26]/(-0x1*0x14c9+0x1*0x1a14+0x1*-0x54b+0.5);let _0x1bf721=_0x1e467f[_0x2c8f26+(-0x9d*-0xb+-0xd*-0x18d+0x61*-0x47)]/(0x649*0x2+0x4*0x7c+-0x4d6*0x3+0.5);const _0x16e59d=_0x1e467f[_0x2c8f26+(-0x43*-0x7f+-0xf50+-0x11eb)]/(-0x1cb3+-0x8da+-0x1*-0x258d+0.5);_0x1bf721<0x66b*0x4+0x2*-0x377+-0x12be&&(_0x1bf721*=-0x1*-0x57b+-0x12e6+0xd6b+0.3,_0x70c7da*_0x70c7da+_0x16e59d*_0x16e59d<_0x2a7f48&&(_0x1bf721=-_0x38a37e)),_0x1bf721+=_0x38a37e,_0x1bf721*=-0x2*-0x503+0xef0+-0x4fe*0x5+0.5,_0x1e467f[_0x2c8f26+(-0x14e*-0x17+0x3d*-0x4f+0xb2e*-0x1)]=_0x1bf721;}}}class zo{static['create'](_0x49fd48,_0x221809){switch(_0x221809){case Qw:return zo['box'](_0x49fd48);case Jw:return zo['dome'](_0x49fd48);}return w['assert'](_0x221809===Bo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x221809),zo['infinite'](_0x49fd48);}static['infinite'](_0x4414a2){return Ge['fromGeomet'+'ry'](_0x4414a2,new mu(_0x4414a2));}static['box'](_0xb59fe0){return Ge['fromGeomet'+'ry'](_0xb59fe0,new mu({'yOffset':0.5}));}static['dome'](_0x5741b5){const _0xca8b2a=new DA({'latitudeBands':0x32,'longitudeBands':0x32});return _0xca8b2a['normals']=void(-0x20b8+-0x1de3*-0x1+0x2d5*0x1),_0xca8b2a['uvs']=void(-0x256+-0xbb5+0xe0b),Ge['fromGeomet'+'ry'](_0x5741b5,_0xca8b2a);}}class IA{constructor(_0x32ead9,_0x2692b2,_0x48cfb0,_0x2d257d,_0x58155f){h(this,'meshInstan'+'ce',null),h(this,'_depthWrit'+'e',!(0x6f*-0x52+-0x1ad6+0x3e65));const _0x520428=new Xn({'uniqueName':'SkyMateria'+'l','vertexGLSL':Pe['get'](_0x32ead9,Fe)['get']('skyboxVS'),'fragmentGLSL':Pe['get'](_0x32ead9,Fe)['get']('skyboxPS'),'vertexWGSL':Pe['get'](_0x32ead9,it)['get']('skyboxVS'),'fragmentWGSL':Pe['get'](_0x32ead9,it)['get']('skyboxPS'),'attributes':{'aPosition':Me}});_0x520428['setDefine']('{SKYBOX_DE'+'CODE_FNC}',Tr['decodeFunc'](_0x2d257d['encoding'])),_0x58155f!==Bo&&_0x520428['setDefine']('SKYMESH',''),_0x2d257d['cubemap']&&_0x520428['setDefine']('SKY_CUBEMA'+'P',''),_0x520428['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x2692b2['skyboxHigh'+'lightMulti'+'plier']),_0x2d257d['cubemap']?_0x520428['setParamet'+'er']('texture_cu'+'beMap',_0x2d257d):(_0x520428['setParamet'+'er']('texture_en'+'vAtlas',_0x2d257d),_0x520428['setParamet'+'er']('mipLevel',_0x2692b2['skyboxMip'])),_0x520428['cull']=Fo,_0x520428['depthWrite']=this['_depthWrit'+'e'];const _0x2c44c3=_0x2692b2['layers']['getLayerBy'+'Id'](Kp);if(_0x2c44c3){const _0x315127=zo['create'](_0x32ead9,_0x58155f),_0x5b32c5=new He(_0x315127,_0x520428,_0x48cfb0);this['meshInstan'+'ce']=_0x5b32c5,_0x5b32c5['cull']=!(0x1235+0x2199+-0x33cd),_0x5b32c5['pick']=!(0x1929*-0x1+-0x1*-0xaa9+0xe81),_0x2c44c3['addMeshIns'+'tances']([_0x5b32c5]),this['skyLayer']=_0x2c44c3;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}set['depthWrite'](_0x4582af){this['_depthWrit'+'e']=_0x4582af,this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']['depthWrite']=_0x4582af);}get['depthWrite'](){return this['_depthWrit'+'e'];}}class LA{constructor(_0x20bc8a){h(this,'_type',Bo),h(this,'_center',new D(0x7*-0x22a+-0x1b49+0x2a6f,-0xe6f+-0x255d+0x33cd,-0x70*0x50+0x1409+0xef7)),h(this,'skyMesh',null),h(this,'_depthWrit'+'e',!(-0x495*0x1+-0x1ecf*0x1+0x2365)),h(this,'node',new Ie('SkyMeshNod'+'e')),(this['device']=_0x20bc8a['device'],this['scene']=_0x20bc8a,this['center']=new D(0x5e4+-0x1823+0x3*0x615,0xde4+-0x2*-0xde7+0x1*-0x29b1,-0x163f+0x99d*0x1+0x9a*0x15),this['centerArra'+'y']=new Float32Array(-0x12e*0xa+0x4*-0xfd+-0x327*-0x5),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0xf739cb){this['type']=_0xf739cb['skyType']??Bo,this['node']['setLocalPo'+'sition'](new D(_0xf739cb['skyMeshPos'+'ition']??[-0x1131*0x2+-0x1*-0x20e5+0x17d,-0x13*-0xcb+-0x1823*-0x1+-0x2734,0x1bee+-0xd*-0x15e+-0x2db4])),this['node']['setLocalEu'+'lerAngles'](new D(_0xf739cb['skyMeshRot'+'ation']??[-0x1*0x192+0x1e33+-0x417*0x7,-0x71*0x3e+0x727+0x1437,0x279+-0x1f6c+0x1cf3])),this['node']['setLocalSc'+'ale'](new D(_0xf739cb['skyMeshSca'+'le']??[-0x123f+0xd4d+0x7*0xb5,-0x211*0x4+0x1f3e+-0x1*0x16f9,0x19de+-0xb8c+0x2dd*-0x5])),_0xf739cb['skyCenter']&&(this['_center']=new D(_0xf739cb['skyCenter']));}set['type'](_0x2efd42){this['_type']!==_0x2efd42&&(this['_type']=_0x2efd42,this['scene']['updateShad'+'ers']=!(0x37*-0x4a+-0x98e*0x3+-0xb24*-0x4),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x5706e2){this['_center']['copy'](_0x5706e2);}get['center'](){return this['_center'];}set['depthWrite'](_0x17eb5){this['_depthWrit'+'e']!==_0x17eb5&&(this['_depthWrit'+'e']=_0x17eb5,this['skyMesh']&&(this['skyMesh']['depthWrite']=_0x17eb5));}get['depthWrite'](){return this['_depthWrit'+'e'];}['updateSkyM'+'esh'](){const _0x489a96=this['scene']['_getSkybox'+'Tex']();_0x489a96&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new IA(this['device'],this['scene'],this['node'],_0x489a96,this['type']),this['skyMesh']['depthWrite']=this['_depthWrit'+'e'],this['scene']['fire']('set:skybox',_0x489a96));}['resetSkyMe'+'sh'](){var _0x17fe97;(_0x17fe97=this['skyMesh'])==null||_0x17fe97['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==Bo){const {center:_0x1c6c66,centerArray:_0x5942a7}=this,_0x36dcf3=new D();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x1c6c66,_0x36dcf3),_0x5942a7[0xa55+0x1821+-0x16*0x191]=_0x36dcf3['x'],_0x5942a7[0xdde+-0x1ade*-0x1+0x28bb*-0x1]=_0x36dcf3['y'],_0x5942a7[-0x541+-0x7a*0x4d+0x29f5]=_0x36dcf3['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x5942a7);}}}const Ch=new Ie();Ch['worldTrans'+'form']=te['IDENTITY'],Ch['_dirtyWorl'+'d']=Ch['_dirtyNorm'+'al']=!(-0x15b4+-0xd3b+0x2b0*0xd);class RA{constructor(_0x53b54c,_0x96da29,_0x4a5409){this['material']=_0x96da29,this['layer']=_0x4a5409,this['positions']=[],this['colors']=[],this['mesh']=new Ge(_0x53b54c),this['meshInstan'+'ce']=null;}['addLines'](_0x516a32,_0xd0cbd0){const _0x214231=this['positions'],_0x37e575=_0x516a32['length'];for(let _0x53b1d4=0x1224+-0x59*0x3f+0x3c3;_0x53b1d4<_0x37e575;_0x53b1d4++){const _0x509a22=_0x516a32[_0x53b1d4];_0x214231['push'](_0x509a22['x'],_0x509a22['y'],_0x509a22['z']);}const _0x281061=this['colors'];if(_0xd0cbd0['length'])for(let _0x2ad0ed=-0x1755*-0x1+0x1*0xdbd+0x76a*-0x5;_0x2ad0ed<_0x37e575;_0x2ad0ed++){const _0x3eee03=_0xd0cbd0[_0x2ad0ed];_0x281061['push'](_0x3eee03['r'],_0x3eee03['g'],_0x3eee03['b'],_0x3eee03['a']);}else{for(let _0x475fbe=-0x8af+0x1b31*-0x1+0x23e0;_0x475fbe<_0x37e575;_0x475fbe++)_0x281061['push'](_0xd0cbd0['r'],_0xd0cbd0['g'],_0xd0cbd0['b'],_0xd0cbd0['a']);}}['addLinesAr'+'rays'](_0x28bea8,_0x4a06f2){const _0x3c8006=this['positions'];for(let _0x49469a=0x1*0x258e+-0xfa9+-0x15e5;_0x49469a<_0x28bea8['length'];_0x49469a+=0x7*0x189+0x153*0xc+-0x1aa0)_0x3c8006['push'](_0x28bea8[_0x49469a],_0x28bea8[_0x49469a+(0x808+-0x1d4d+-0x30a*-0x7)],_0x28bea8[_0x49469a+(0x22f7*-0x1+0xb4d+0x17ac)]);const _0x507ee5=this['colors'];if(_0x4a06f2['length']){for(let _0xdc3fe9=0x1d11+-0x2*0xc7+-0x1b83*0x1;_0xdc3fe9<_0x4a06f2['length'];_0xdc3fe9+=0x23ed+-0x1a96+-0x953)_0x507ee5['push'](_0x4a06f2[_0xdc3fe9],_0x4a06f2[_0xdc3fe9+(0x78*0x8+-0x95a+-0x11f*-0x5)],_0x4a06f2[_0xdc3fe9+(-0x336*0x7+-0x7f*-0x2e+-0x56)],_0x4a06f2[_0xdc3fe9+(0x43f*0x4+-0x15e5+0x4ec)]);}else{const _0x2ff449=_0x28bea8['length']/(-0x24e1+-0x151*-0xf+0x4d*0x39);for(let _0x528ff3=0x227*-0x1+0x42+0x1e5;_0x528ff3<_0x2ff449;_0x528ff3++)_0x507ee5['push'](_0x4a06f2['r'],_0x4a06f2['g'],_0x4a06f2['b'],_0x4a06f2['a']);}}['onPreRende'+'r'](_0x473d33,_0xb04c40){this['positions']['length']>0x7ca*0x5+-0x2a9*-0xb+0x397*-0x13&&this['material']['transparen'+'t']===_0xb04c40&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](hd,!(-0x117+0xe00+-0xce8)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new He(this['mesh'],this['material'],Ch)),_0x473d33['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=0x1*-0xca0+0x103c+-0x39c,this['colors']['length']=0x14e4+0xd5f+-0x2243;}}class OA{constructor(_0x3da5ab){this['device']=_0x3da5ab,this['map']=new Map();}['getBatch'](_0x2e56ea,_0x588932){let _0x483646=this['map']['get'](_0x2e56ea);return _0x483646||(_0x483646=new RA(this['device'],_0x2e56ea,_0x588932),this['map']['set'](_0x2e56ea,_0x483646)),_0x483646;}['onPreRende'+'r'](_0x2d4cfe,_0x3730e8){this['map']['forEach'](_0x223fc2=>{_0x223fc2['onPreRende'+'r'](_0x2d4cfe,_0x3730e8);});}['clear'](){this['map']['forEach'](_0x36ab8b=>_0x36ab8b['clear']());}}const Ts=[],Ba=new D();class FA{constructor(_0x107c29){h(this,'shaderDesc'+'s',new Map()),(this['device']=_0x107c29,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x569762){const _0x1d28d7=new Xn({'uniqueName':'ImmediateL'+'ine','vertexGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'ineVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'inePS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'ineVS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'inePS'),'attributes':{'vertex_position':Me,'vertex_color':Wt}});return _0x1d28d7['blendType']=Zs,_0x1d28d7['depthTest']=_0x569762,_0x1d28d7['update'](),_0x1d28d7;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(0x26*-0x40+-0x1*-0x1f5a+-0x15da))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(-0x2198+-0xb*-0x7a+-0x7*-0x40d))),this['_materialN'+'oDepth'];}['getBatch'](_0x297a91,_0x50ed29){let _0x2d0bee=this['batchesMap']['get'](_0x297a91);_0x2d0bee||(_0x2d0bee=new OA(this['device']),this['batchesMap']['set'](_0x297a91,_0x2d0bee)),this['allBatches']['add'](_0x2d0bee);const _0x39b603=_0x50ed29?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x2d0bee['getBatch'](_0x39b603,_0x297a91);}['getShaderD'+'esc'](_0x4a4909,_0x59faed,_0x5f0392){return this['shaderDesc'+'s']['has'](_0x4a4909)||this['shaderDesc'+'s']['set'](_0x4a4909,{'uniqueName':'DebugShade'+'r:'+_0x4a4909,'vertexGLSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ve'+'c2\x20uv0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uv0\x20=\x20ve'+'rtex_posit'+'ion.xy\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20','vertexWGSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20@ver'+'tex\x20fn\x20ver'+'texMain(in'+'put:\x20Verte'+'xInput)\x20->'+'\x20VertexOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20un'+'iform.matr'+'ix_model\x20*'+'\x20vec4f(inp'+'ut.vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.uv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20+\x20vec2f'+'(0.5);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20','fragmentGLSL':_0x59faed,'fragmentWGSL':_0x5f0392,'attributes':{'vertex_position':Me}}),this['shaderDesc'+'s']['get'](_0x4a4909);}['getTexture'+'ShaderDesc'](_0x30bc4a){const _0x4d3351=Tr['decodeFunc'](_0x30bc4a);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x30bc4a,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x4d3351+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20colorMa'+'pSampler:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20@fragment'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output:\x20Fr'+'agmentOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20sample'+'dTex\x20=\x20tex'+'tureSample'+'(colorMap,'+'\x20colorMapS'+'ampler,\x20in'+'put.uv0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'linearColo'+'r:\x20vec3f\x20='+'\x20'+_0x4d3351+('(sampledTe'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(gammaCorr'+'ectOutput('+'linearColo'+'r),\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<uff>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20@'+'fragment\x20f'+'n\x20fragment'+'Main(input'+'\x20:\x20Fragmen'+'tInput)\x20->'+'\x20FragmentO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'nput.uv0\x20*'+'\x20vec2f(tex'+'tureDimens'+'ions(color'+'Map,\x200)));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20fetchedCo'+'lor\x20:\x20vec4'+'f\x20=\x20textur'+'eLoad(colo'+'rMap,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(fetchedCo'+'lor.xyz,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20void\x20main'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x20getLi'+'nearScreen'+'Depth(getI'+'mageEffect'+'UV(uv0))\x20*'+'\x20camera_pa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(vec3(de'+'pth)),\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20u'+'v0:\x20vec2f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20@fragme'+'nt\x20fn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20depth'+':\x20f32\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(inpu'+'t.uv0))\x20*\x20'+'uniform.ca'+'mera_param'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(vec3f(dep'+'th)),\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ge(this['device']),this['quadMesh']['setPositio'+'ns']([-(0x16f6+0x1dda+0x34*-0x104+0.5),-(0xd0+-0x6d*0x2e+0x10b*0x12+0.5),-0x72c+0x1*0xfb5+-0x889,-0x2174+0x2d*0x7c+0x5d4*0x2+0.5,-(0x32*0x11+0x1a47+-0x1d99+0.5),0x107*0x8+0x2a*-0x24+0x8*-0x4a,-(-0x6*0x2e4+0x938+0x820+0.5),0x7*-0x21b+0x75a+-0x1f*-0x3d+0.5,0xa11+0x2291+-0xc5*0x3a,-0x606+-0x2*0x32b+0xc5c+0.5,0x1*0x92d+-0x203f+0x1*0x1712+0.5,-0x25a5+-0x15a5+0x1*0x3b4a]),this['quadMesh']['update'](Er)),this['quadMesh'];}['drawMesh'](_0x5e3df7,_0x59ae05,_0x5d43d4,_0x132c6e,_0x186d84){if(!_0x132c6e){const _0x472fa2=this['getGraphNo'+'de'](_0x59ae05);_0x132c6e=new He(_0x5d43d4,_0x5e3df7,_0x472fa2);}let _0x4f1964=this['layerMeshI'+'nstances']['get'](_0x186d84);_0x4f1964||(_0x4f1964=[],this['layerMeshI'+'nstances']['set'](_0x186d84,_0x4f1964)),_0x4f1964['push'](_0x132c6e);}['drawWireAl'+'ignedBox'](_0xdd0db,_0x35ee68,_0x5e4dd3,_0x910fb0,_0x28c8db,_0x3b6bed){if(_0x3b6bed){const _0x398cec=(_0x33d660,_0x58c82c,_0x57dc2e)=>{Ba['set'](_0x33d660,_0x58c82c,_0x57dc2e),_0x3b6bed['transformP'+'oint'](Ba,Ba),Ts['push'](Ba['x'],Ba['y'],Ba['z']);};_0x398cec(_0xdd0db['x'],_0xdd0db['y'],_0xdd0db['z']),_0x398cec(_0xdd0db['x'],_0x35ee68['y'],_0xdd0db['z']),_0x398cec(_0xdd0db['x'],_0x35ee68['y'],_0xdd0db['z']),_0x398cec(_0x35ee68['x'],_0x35ee68['y'],_0xdd0db['z']),_0x398cec(_0x35ee68['x'],_0x35ee68['y'],_0xdd0db['z']),_0x398cec(_0x35ee68['x'],_0xdd0db['y'],_0xdd0db['z']),_0x398cec(_0x35ee68['x'],_0xdd0db['y'],_0xdd0db['z']),_0x398cec(_0xdd0db['x'],_0xdd0db['y'],_0xdd0db['z']),_0x398cec(_0xdd0db['x'],_0xdd0db['y'],_0x35ee68['z']),_0x398cec(_0xdd0db['x'],_0x35ee68['y'],_0x35ee68['z']),_0x398cec(_0xdd0db['x'],_0x35ee68['y'],_0x35ee68['z']),_0x398cec(_0x35ee68['x'],_0x35ee68['y'],_0x35ee68['z']),_0x398cec(_0x35ee68['x'],_0x35ee68['y'],_0x35ee68['z']),_0x398cec(_0x35ee68['x'],_0xdd0db['y'],_0x35ee68['z']),_0x398cec(_0x35ee68['x'],_0xdd0db['y'],_0x35ee68['z']),_0x398cec(_0xdd0db['x'],_0xdd0db['y'],_0x35ee68['z']),_0x398cec(_0xdd0db['x'],_0xdd0db['y'],_0xdd0db['z']),_0x398cec(_0xdd0db['x'],_0xdd0db['y'],_0x35ee68['z']),_0x398cec(_0xdd0db['x'],_0x35ee68['y'],_0xdd0db['z']),_0x398cec(_0xdd0db['x'],_0x35ee68['y'],_0x35ee68['z']),_0x398cec(_0x35ee68['x'],_0x35ee68['y'],_0xdd0db['z']),_0x398cec(_0x35ee68['x'],_0x35ee68['y'],_0x35ee68['z']),_0x398cec(_0x35ee68['x'],_0xdd0db['y'],_0xdd0db['z']),_0x398cec(_0x35ee68['x'],_0xdd0db['y'],_0x35ee68['z']);}else Ts['push'](_0xdd0db['x'],_0xdd0db['y'],_0xdd0db['z'],_0xdd0db['x'],_0x35ee68['y'],_0xdd0db['z'],_0xdd0db['x'],_0x35ee68['y'],_0xdd0db['z'],_0x35ee68['x'],_0x35ee68['y'],_0xdd0db['z'],_0x35ee68['x'],_0x35ee68['y'],_0xdd0db['z'],_0x35ee68['x'],_0xdd0db['y'],_0xdd0db['z'],_0x35ee68['x'],_0xdd0db['y'],_0xdd0db['z'],_0xdd0db['x'],_0xdd0db['y'],_0xdd0db['z'],_0xdd0db['x'],_0xdd0db['y'],_0x35ee68['z'],_0xdd0db['x'],_0x35ee68['y'],_0x35ee68['z'],_0xdd0db['x'],_0x35ee68['y'],_0x35ee68['z'],_0x35ee68['x'],_0x35ee68['y'],_0x35ee68['z'],_0x35ee68['x'],_0x35ee68['y'],_0x35ee68['z'],_0x35ee68['x'],_0xdd0db['y'],_0x35ee68['z'],_0x35ee68['x'],_0xdd0db['y'],_0x35ee68['z'],_0xdd0db['x'],_0xdd0db['y'],_0x35ee68['z'],_0xdd0db['x'],_0xdd0db['y'],_0xdd0db['z'],_0xdd0db['x'],_0xdd0db['y'],_0x35ee68['z'],_0xdd0db['x'],_0x35ee68['y'],_0xdd0db['z'],_0xdd0db['x'],_0x35ee68['y'],_0x35ee68['z'],_0x35ee68['x'],_0x35ee68['y'],_0xdd0db['z'],_0x35ee68['x'],_0x35ee68['y'],_0x35ee68['z'],_0x35ee68['x'],_0xdd0db['y'],_0xdd0db['z'],_0x35ee68['x'],_0xdd0db['y'],_0x35ee68['z']);this['getBatch'](_0x28c8db,_0x910fb0)['addLinesAr'+'rays'](Ts,_0x5e4dd3),Ts['length']=0x56d*-0x5+-0xedc+0x29fd;}['drawWireSp'+'here'](_0xfe803e,_0x58f8a7,_0x4dc354,_0x56e75c,_0x2fe19f,_0x360a20){const _0x534734=(-0x9*0x338+0xa*-0x58+-0x2*-0x1035)*Math['PI']/_0x56e75c;let _0x3e5f96=-0xad7+0x2502*0x1+-0x1a2b;for(let _0x4ae22f=-0x2382+0xb1*-0x2f+-0x3*-0x16ab;_0x4ae22f<_0x56e75c;_0x4ae22f++){const _0x155498=Math['sin'](_0x3e5f96),_0x5af448=Math['cos'](_0x3e5f96);_0x3e5f96+=_0x534734;const _0x142181=Math['sin'](_0x3e5f96),_0x24df11=Math['cos'](_0x3e5f96);Ts['push'](_0xfe803e['x']+_0x58f8a7*_0x155498,_0xfe803e['y'],_0xfe803e['z']+_0x58f8a7*_0x5af448),Ts['push'](_0xfe803e['x']+_0x58f8a7*_0x142181,_0xfe803e['y'],_0xfe803e['z']+_0x58f8a7*_0x24df11),Ts['push'](_0xfe803e['x']+_0x58f8a7*_0x155498,_0xfe803e['y']+_0x58f8a7*_0x5af448,_0xfe803e['z']),Ts['push'](_0xfe803e['x']+_0x58f8a7*_0x142181,_0xfe803e['y']+_0x58f8a7*_0x24df11,_0xfe803e['z']),Ts['push'](_0xfe803e['x'],_0xfe803e['y']+_0x58f8a7*_0x155498,_0xfe803e['z']+_0x58f8a7*_0x5af448),Ts['push'](_0xfe803e['x'],_0xfe803e['y']+_0x58f8a7*_0x142181,_0xfe803e['z']+_0x58f8a7*_0x24df11);}this['getBatch'](_0x360a20,_0x2fe19f)['addLinesAr'+'rays'](Ts,_0x4dc354),Ts['length']=0x1*0x3e4+-0x535*0x2+0x686;}['getGraphNo'+'de'](_0xaf0cd1){const _0x2bcbd7=new Ie('ImmediateD'+'ebug');return _0x2bcbd7['worldTrans'+'form']=_0xaf0cd1,_0x2bcbd7['_dirtyWorl'+'d']=_0x2bcbd7['_dirtyNorm'+'al']=!(0x75+-0x1f99+-0x43*-0x77),_0x2bcbd7;}['onPreRende'+'rLayer'](_0x56d79d,_0x31effa,_0x1b761e){if(this['batchesMap']['forEach']((_0x1892ae,_0x5f0874)=>{_0x5f0874===_0x56d79d&&_0x1892ae['onPreRende'+'r'](_0x31effa,_0x1b761e);}),!this['updatedLay'+'ers']['has'](_0x56d79d)){this['updatedLay'+'ers']['add'](_0x56d79d);const _0x4bbec1=this['layerMeshI'+'nstances']['get'](_0x56d79d);if(_0x4bbec1){for(let _0xc5b4ce=-0x9f7+-0x95+0x6c*0x19;_0xc5b4ce<_0x4bbec1['length'];_0xc5b4ce++)_0x31effa['push'](_0x4bbec1[_0xc5b4ce]);_0x4bbec1['length']=-0xbca+0x1*0xe2f+0x265*-0x1;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x4d281a=>_0x4d281a['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class NA{constructor(){h(this,'type',Kn),h(this,'color',new ie(-0x9a7*0x3+-0x211c+0x3e11*0x1,0xd9+0x21d+-0x2*0x17b,-0x1e1*-0x13+-0xea0+-0x1513)),h(this,'density',-0x6c1+0x23ea+0x5d5*-0x5),h(this,'start',0x1143+-0x1a5a+0x123*0x8),h(this,'end',-0x12bc+0x439*-0x3+0x234f);}}class Et extends me{constructor(_0x13eec7){super(),h(this,'ambientBak'+'e',!(0x21f4+-0x3bc*-0x8+-0x3fd3)),h(this,'ambientBak'+'eOcclusion'+'Brightness',-0x14ea+0x120b*-0x2+0x30*0x130),h(this,'ambientBak'+'eOcclusion'+'Contrast',-0x240b+-0x10*0x6e+0x2aeb),h(this,'ambientLig'+'ht',new ie(0x2244+-0x236c+0x128,0x16f2+-0x1866+0xba*0x2,-0x5*0x3fb+-0x7c9+0x8*0x376)),h(this,'ambientLum'+'inance',0x10f8+0x243*-0xf+0x10f5),h(this,'exposure',0x106e+0x1989+-0x29f6),h(this,'lightmapSi'+'zeMultipli'+'er',0x1ac4+0x25*-0x35+0xf*-0x146),h(this,'lightmapMa'+'xResolutio'+'n',-0x1*0x255f+-0xe91+0x3bf0*0x1),h(this,'lightmapMo'+'de',jc),h(this,'lightmapFi'+'lterEnable'+'d',!(0x2183*0x1+-0x31d+-0x1e65)),h(this,'lightmapHD'+'R',!(-0x1503+-0x21d4+0x36d8)),h(this,'root',null),h(this,'physicalUn'+'its',!(0xd13+0x26a2+-0x33b4)),h(this,'_envAtlas',null),h(this,'_skyboxCub'+'eMap',null),h(this,'_fogParams',new NA()),h(this,'forcePassT'+'hroughSpec'+'ular',!(0x12ee*0x2+-0x1*-0x2381+-0x495c)),(w['assert'](_0x13eec7,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x13eec7,this['_gravity']=new D(0xa2*-0x37+-0x173e*0x1+0x14*0x2e7,-(-0x1d87+0x2*-0x694+0x2ab8+0.8000000000000007),-0x55*-0x29+0x1*0x1597+0x2334*-0x1),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=-0x1466+-0x1fbf+0x3426,this['_skyboxLum'+'inance']=0x17*0xf5+-0xc2+0x1*-0x1541,this['_skyboxMip']=0xd76+0x2312+-0x3088,this['_skyboxHig'+'hlightMult'+'iplier']=0x2649+0x6fb*-0x4+-0x4e*0x22,this['_skyboxRot'+'ationShade'+'rInclude']=!(0x117*-0x9+0x203a+0x2*-0xb35),this['_skyboxRot'+'ation']=new le(),this['_skyboxRot'+'ationMat3']=new _i(),this['_skyboxRot'+'ationMat4']=new te(),this['_ambientBa'+'keNumSampl'+'es']=0xc8e*-0x1+0x184b+0xbbc*-0x1,this['_ambientBa'+'keSpherePa'+'rt']=0x358*0x8+0xfc5*-0x1+-0x3*0x3a9+0.4,this['_lightmapF'+'ilterRange']=-0xd*-0x2ab+-0xeb7*0x1+-0x13ee,this['_lightmapF'+'ilterSmoot'+'hness']=-0xe*0x1e2+-0x1148+0x2ba4+0.2,this['_clustered'+'LightingEn'+'abled']=!(-0x5*0x2dd+-0x3*-0x1+-0xe4e*-0x1),this['_lightingP'+'arams']=new Mv(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(-0x10d*-0x1+0xa*-0x172+0x49*0x2f);}),this['_sky']=new LA(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(-0x24eb*-0x1+0x17*0x148+0xb*-0x609),this['_shaderVer'+'sion']=0x1189*0x1+-0x136d+-0xf2*-0x2,this['immediate']=new FA(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](Zp);}set['ambientBak'+'eNumSample'+'s'](_0x49038a){this['_ambientBa'+'keNumSampl'+'es']=Y['clamp'](Math['floor'](_0x49038a),-0x20*-0xa+-0xfc1+0x1*0xe82,0x1ef7+-0x1*0x2593+0x1*0x79b);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x79675d){this['_ambientBa'+'keSpherePa'+'rt']=Y['clamp'](_0x79675d,-0x148c+-0x5b*0xb+0x1875*0x1+0.001,-0x6d0*-0x3+0x3*-0xa7a+0xaff);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x348099){if(this['device']['isWebGPU']&&!_0x348099){w['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x348099){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x348099;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x26317c){_0x26317c!==this['_envAtlas']&&(this['_envAtlas']=_0x26317c,_0x26317c&&(_0x26317c['addressU']=ue,_0x26317c['addressV']=ue,_0x26317c['minFilter']=vt,_0x26317c['magFilter']=vt,_0x26317c['mipmaps']=!(-0x2134+0x1f*0x9a+-0x1*-0xe8f)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x5e6563){const _0x29f7df=this['_layers'];this['_layers']=_0x5e6563,this['fire']('set:layers',_0x29f7df,_0x5e6563);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x39b60e){this['_lightmapF'+'ilterRange']=Math['max'](_0x39b60e,-0xa6*0x28+0x31*-0xc9+0xb*0x5db+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x30a1ad){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x30a1ad,-0x4a*-0xb+-0xcca+0x99c+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0x3e7bd3){_0x3e7bd3=_0x3e7bd3||[];const _0x12596b=this['_prefilter'+'edCubemaps'];(_0x12596b['length']!==_0x3e7bd3['length']||_0x12596b['some']((_0x2b49f4,_0x496640)=>_0x2b49f4!==_0x3e7bd3[_0x496640]))&&(_0x3e7bd3['length']===0x2534+-0xa7*-0x25+-0x3d51&&_0x3e7bd3['every'](_0x120334=>!!_0x120334)?(this['_internalE'+'nvAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0x3e7bd3,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0x3e7bd3['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x45abc1){_0x45abc1!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x45abc1,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x3776f5){_0x3776f5!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x3776f5,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x9a1fc){_0x9a1fc!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x9a1fc,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x37d859){_0x37d859!==this['_skyboxMip']&&(this['_skyboxMip']=_0x37d859,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0xb7fb53){_0xb7fb53!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0xb7fb53,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x507fc3){if(!this['_skyboxRot'+'ation']['equals'](_0x507fc3)){const _0x7a4c5e=_0x507fc3['equals'](le['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x507fc3),_0x7a4c5e?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](D['ZERO'],_0x507fc3,D['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x7a4c5e&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x18e8+-0x9*-0x17+-0x1f*-0xc7),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x3f5712,_0x49bc3a,_0x5856ad=ie['WHITE'],_0x2af4c5=!(-0x1a6a+0x2e*-0x43+0x2674),_0x419fd5=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x419fd5,_0x2af4c5)['addLines']([_0x3f5712,_0x49bc3a],[_0x5856ad,_0x5856ad]);}['drawLines'](_0x14696c,_0x2109f3,_0x565567=!(0x35d*0xb+0x4*0x569+-0x3aa3),_0x3038cc=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x3038cc,_0x565567)['addLines'](_0x14696c,_0x2109f3);}['drawLineAr'+'rays'](_0x3325f7,_0x4314a9,_0x2b4d76=!(-0xef*-0x22+0x133*0xd+0x1*-0x2f55),_0x3718b7=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x3718b7,_0x2b4d76)['addLinesAr'+'rays'](_0x3325f7,_0x4314a9);}['applySetti'+'ngs'](_0x532eb1){const _0xf6570f=_0x532eb1['physics'],_0x38919e=_0x532eb1['render'];this['_gravity']['set'](_0xf6570f['gravity'][0x24c+0x3cb*-0x7+0x7*0x377],_0xf6570f['gravity'][-0x1938+-0x23e+0x1b77],_0xf6570f['gravity'][0xb7b+-0x1d37+0x11be]),this['ambientLig'+'ht']['set'](_0x38919e['global_amb'+'ient'][0x157*-0x17+-0x2*-0x2ee+0x18f5],_0x38919e['global_amb'+'ient'][0x1e70+-0x1*0x207f+0x210],_0x38919e['global_amb'+'ient'][-0x1*-0x25dd+-0x2260+0x37b*-0x1]),this['ambientLum'+'inance']=_0x38919e['ambientLum'+'inance'],this['fog']['type']=_0x38919e['fog'],this['fog']['color']['set'](_0x38919e['fog_color'][-0x1*-0x1d5f+-0xad3+0x1*-0x128c],_0x38919e['fog_color'][0x14d9+-0x25d*0xb+-0x527*-0x1],_0x38919e['fog_color'][0x104d+-0x21f*0x5+-0x5b0]),this['fog']['start']=_0x38919e['fog_start'],this['fog']['end']=_0x38919e['fog_end'],this['fog']['density']=_0x38919e['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x38919e['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x38919e['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x38919e['lightmapMo'+'de'],this['exposure']=_0x38919e['exposure'],this['_skyboxInt'+'ensity']=_0x38919e['skyboxInte'+'nsity']??-0x1*-0x1ee9+-0x171a*-0x1+-0x3602,this['_skyboxLum'+'inance']=_0x38919e['skyboxLumi'+'nance']??0x2*-0x3a76+0x2c96+0x9676,this['_skyboxMip']=_0x38919e['skyboxMip']??-0x5*-0x9e+0x35*-0x4+-0x242,_0x38919e['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new le()['setFromEul'+'erAngles'](_0x38919e['skyboxRota'+'tion'][0x34b*-0x9+-0x3*0x949+0x397e],_0x38919e['skyboxRota'+'tion'][-0xbb*0x1+-0xb23+0x3f5*0x3],_0x38919e['skyboxRota'+'tion'][-0x8*-0x115+0x8b+-0x931])),this['sky']['applySetti'+'ngs'](_0x38919e),this['clusteredL'+'ightingEna'+'bled']=_0x38919e['clusteredL'+'ightingEna'+'bled']??!(0x54d+-0x1*0x1a3f+0x14f3),this['lighting']['applySetti'+'ngs'](_0x38919e),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0x52a990=>{_0x38919e['hasOwnProp'+'erty'](_0x52a990)&&(this[_0x52a990]=_0x38919e[_0x52a990]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x3d821e=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x3d821e[[-0x221*0x8+0x367+0xda1,-0x560+0x776+-0x215,0x5cb*0x2+0x86f+-0x1*0x1402,0x1*0x3a0+0xaea+0x16*-0xa9,-0x1*0x498+0xf9*-0x1+0x596,0xb*-0x1bb+0x7*0x12f+0xac6][this['_skyboxMip']]]||this['_envAtlas']||_0x3d821e[0x237+-0x3*-0x78c+-0x18db*0x1]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x3d821e[0x5c7+-0x5ed+0x26]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(-0x3*0x551+0x1176+0x183*-0x1);}['setSkybox'](_0x5aa486){_0x5aa486?(this['skybox']=_0x5aa486[-0x310*-0xb+0x18*-0xb3+0x1*-0x10e8]||null,_0x5aa486[0x1828+-0x1a93+0x26c]&&!_0x5aa486[-0x4*0x226+-0x20c1+0x295a]['cubemap']?this['envAtlas']=_0x5aa486[-0x19b1+-0x753+-0x1*-0x2105]:this['prefiltere'+'dCubemaps']=_0x5aa486['slice'](0x4*0xe0+0x2*0x506+0x1*-0xd8b)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Ne;}}h(Et,'EVENT_SETL'+'AYERS','set:layers'),h(Et,'EVENT_SETS'+'KYBOX','set:skybox'),h(Et,'EVENT_PRER'+'ENDER','prerender'),h(Et,'EVENT_POST'+'RENDER','postrender'),h(Et,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),h(Et,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),h(Et,'EVENT_PREC'+'ULL','precull'),h(Et,'EVENT_POST'+'CULL','postcull');class Lv{constructor(_0x51c1f0,_0x14bbd8,_0x37e1e7){this['device']=_0x51c1f0,this['inverseBin'+'dPose']=_0x14bbd8,this['boneNames']=_0x37e1e7;}}const kA=[-0x18f9*-0x1+0x1477+-0x2d70,-0x266+-0x256*0x1+-0x25e*-0x2,-0x3*0x4ef+-0xb*-0x1de+-0x16f*0x4,-0x123*-0x3+-0x1aca+0x13*0x13b,0x22db+-0x1*0x606+-0x1cd5,0x1eb2+-0x52f*-0x2+-0x290f,0x1588+0x2074*0x1+-0x35fc,0x25d5+-0x1815+-0x6e*0x20,-0x113f+0x1731*-0x1+-0x57*-0x77,-0xa2e+0xa58+-0x15*0x2,-0x3cc*-0xa+0x5*0x359+-0x36b5,0x1*0x1e58+-0x4ed*0x1+-0x196a],UA=[-0x1870+0x1*-0x1f4e+0x37be,0x1be9*0x1+-0x2a5*0x1+0x1*-0x1943,0x1f63+0x434*-0x3+0x4b1*-0x4,-0xc80+-0xa3f*-0x1+0x243,0x2250+0x3*0xa0d+0x177*-0x2c,-0x1*0x241d+0x100*0x1f+0x28f*0x2];class BA extends me{constructor(_0x4c4030,_0x48858c){super(),this['_device']=_0x4c4030,this['_pixelsPer'+'Unit']=_0x48858c&&_0x48858c['pixelsPerU'+'nit']!==void(-0x8*-0xe5+-0x2577+0x1e4f*0x1)?_0x48858c['pixelsPerU'+'nit']:-0x2*0x136d+-0x1*-0x219d+-0x53e*-0x1,this['_renderMod'+'e']=_0x48858c&&_0x48858c['renderMode']!==void(0xf47+-0x232b+0x13e4)?_0x48858c['renderMode']:ci,this['_atlas']=_0x48858c&&_0x48858c['atlas']!==void(0x1a59+-0xdb6+-0x1*0xca3)?_0x48858c['atlas']:null,this['_frameKeys']=_0x48858c&&_0x48858c['frameKeys']!==void(0xcfc+-0x103e+0x342)?_0x48858c['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(0x1*0x236e+0x1cd*-0x1+-0x21a0),this['_meshesDir'+'ty']=!(-0x1afe+-0x101e*-0x1+0x5*0x22d),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x430b84){this['_frameKeys']=_0x430b84,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x12e*-0x1e+0x1bb5+0x7af):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x430b84);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x48969f){_0x48969f!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x48969f,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x5a2+-0x2002+0x49*0x84):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x48969f));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x1ef925){this['_pixelsPer'+'Unit']!==_0x1ef925&&(this['_pixelsPer'+'Unit']=_0x1ef925,this['fire']('set:pixels'+'PerUnit',_0x1ef925),this['_atlas']&&this['_frameKeys']&&this['renderMode']===ci&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x1*-0xa4e+0x1d3f+-0x175*0xd):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x2245f4){if(this['_renderMod'+'e']===_0x2245f4)return;const _0x44b9bf=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x2245f4,this['fire']('set:render'+'Mode',_0x2245f4),(_0x44b9bf===ci||_0x2245f4===ci)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x2557+-0x310*0xa+-0xbf*0x9):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0xa9658d=this['_meshes']['length'];for(let _0x1c3ed6=0x2*-0xc70+0x1f5d+0x1*-0x67d;_0x1c3ed6<_0xa9658d;_0x1c3ed6++){const _0x357ec0=this['_meshes'][_0x1c3ed6];_0x357ec0&&_0x357ec0['destroy']();}const _0x4823c2=this['_frameKeys']['length'];this['_meshes']=new Array(_0x4823c2);const _0x4a89d5=this['renderMode']===Pt||this['_renderMod'+'e']===Mt?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x591446=-0x166*-0x10+0x1c42+0x1*-0x32a2;_0x591446<_0x4823c2;_0x591446++){const _0x2d9358=this['_atlas']['frames'][this['_frameKeys'][_0x591446]];this['_meshes'][_0x591446]=_0x2d9358?_0x4a89d5['call'](this,_0x2d9358):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x118f0c){const _0x45e91a=_0x118f0c['rect'],_0x1da908=this['_atlas']['texture']['width'],_0x4b7311=this['_atlas']['texture']['height'],_0x118f8d=_0x45e91a['z']/this['_pixelsPer'+'Unit'],_0x4fb4e4=_0x45e91a['w']/this['_pixelsPer'+'Unit'],_0x123616=_0x118f0c['pivot']['x'],_0xb9d7b5=_0x118f0c['pivot']['y'],_0x17f97d=[-_0x123616*_0x118f8d,-_0xb9d7b5*_0x4fb4e4,-0x9b*0x15+0x1*0x97+0xc20,(-0x1*-0x25b3+0x130e+0x40*-0xe3-_0x123616)*_0x118f8d,-_0xb9d7b5*_0x4fb4e4,-0x13*-0x13+0x2431+-0x259a,(0x1cdb+-0x6ef+0x15eb*-0x1-_0x123616)*_0x118f8d,(-0x8*-0x4c9+0x2d*0xc6+-0x4915-_0xb9d7b5)*_0x4fb4e4,0xe*0x133+0x103*0xd+-0x1df1,-_0x123616*_0x118f8d,(-0x62*-0x30+0x20c4+0xd*-0x3ef-_0xb9d7b5)*_0x4fb4e4,-0x191*0xe+0x344+0x2*0x955],_0x5e763c=_0x45e91a['x']/_0x1da908,_0xefc05d=0x447+-0x1eb5+0x1a6f-_0x45e91a['y']/_0x4b7311,_0x13ea7a=(_0x45e91a['x']+_0x45e91a['z'])/_0x1da908,_0x2aa11b=0x304+0xcc4+0x7*-0x241-(_0x45e91a['y']+_0x45e91a['w'])/_0x4b7311,_0x4884d3=[_0x5e763c,_0xefc05d,_0x13ea7a,_0xefc05d,_0x13ea7a,_0x2aa11b,_0x5e763c,_0x2aa11b],_0x2317c6=new Ta();return _0x2317c6['positions']=_0x17f97d,_0x2317c6['normals']=kA,_0x2317c6['uvs']=_0x4884d3,_0x2317c6['indices']=UA,Ge['fromGeomet'+'ry'](this['_device'],_0x2317c6);}['_create9Sl'+'iceMesh'](){const _0x43b9b0=J['ONE'],_0x1d7974=0x1c28+-0x91a+-0x145*0xf,_0x1e9cdb=-0x158*0xd+0x1f01+-0xd86,_0x1f16b3=[],_0x558974=[],_0x1d1df4=[],_0x4cf55e=[];let _0x37f1e0=-0x1abb*-0x1+-0x59*-0xf+0x8d*-0x3a;for(let _0x2af641=0x133b*-0x1+0x1e27+-0xaec;_0x2af641<=_0x1d7974;_0x2af641++){const _0x428228=_0x2af641===0x255a+0x1da8+-0x772*0x9||_0x2af641===_0x1d7974?-0x105e*0x1+0x1fd*0x4+0x86a:-0xcd*-0x1+0x18f2+-0x19be;for(let _0x1eb922=-0x2275*-0x1+-0x282*-0x3+-0x29fb;_0x1eb922<=_0x1e9cdb;_0x1eb922++){const _0x5e5e5f=-_0x43b9b0['x']+(0x266f*0x1+-0x5*0x16d+-0x1f4c)*_0x43b9b0['x']*(_0x2af641<=0x14c0+0x1704+0x11*-0x293?-0x2*-0x51b+-0x8*0x250+0x84a*0x1:-0x217*-0x3+-0x4*0x254+0x30e)/_0x1d7974,_0x1d623e=-0x5*0x5f7+0x28*0x8b+0x19*0x53,_0xea8770=-(-_0x43b9b0['y']+(0x1f*0x2e+-0x431+-0x3*0x75)*_0x43b9b0['y']*(_0x1eb922<=-0x1f47+0x1*0x1a4e+0x27d*0x2?0x7ae+0x34+-0x7e2:-0x57*-0x26+-0x1*-0xb41+-0x1828)/_0x1e9cdb),_0x2493c0=_0x1eb922===0x65c+-0x11c*0x1+0x540*-0x1||_0x1eb922===_0x1e9cdb?0x7*-0x57+-0xe09+0x2*0x835:0x59*0x53+-0x29e*0x5+0x2*-0x7e2;_0x1f16b3['push'](-_0x5e5e5f,_0x1d623e,_0xea8770),_0x558974['push'](-0x2*0x5cf+0x523+0x3*0x229,0x1b*-0x4+0x12a4+0x1237*-0x1,0x1*0x2231+-0x3*-0xcca+-0x488f),_0x1d1df4['push'](_0x428228,_0x2493c0),_0x2af641<_0x1d7974&&_0x1eb922<_0x1e9cdb&&(_0x4cf55e['push'](_0x37f1e0+_0x1e9cdb+(-0x12*-0x76+-0x1848+0xffd*0x1),_0x37f1e0+(0x1f*-0x7+0x3d*-0x4+0x15*0x16),_0x37f1e0),_0x4cf55e['push'](_0x37f1e0+_0x1e9cdb+(-0x141c+0x2236+-0x9*0x191),_0x37f1e0+_0x1e9cdb+(0x24*-0xa4+-0xe57*0x1+0x2569),_0x37f1e0+(-0x1490+-0x1c80+-0x105b*-0x3))),_0x37f1e0++;}}const _0x1665f5=new Ta();return _0x1665f5['positions']=_0x1f16b3,_0x1665f5['normals']=_0x558974,_0x1665f5['uvs']=_0x1d1df4,_0x1665f5['indices']=_0x4cf55e,Ge['fromGeomet'+'ry'](this['_device'],_0x1665f5);}['_onSetFram'+'es'](_0x4d61a5){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0xf5*0x1b+0x1*-0x1106+-0x8d1):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0x1af6fc,_0x484f09){const _0x577330=this['_frameKeys']['indexOf'](_0x1af6fc);_0x577330<0xf70+0xc3f+-0x1baf||(_0x484f09?this['renderMode']===ci&&(this['_meshes'][_0x577330]=this['_createSim'+'pleMesh'](_0x484f09)):this['_meshes'][_0x577330]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x2091af){const _0x2bfb00=this['_frameKeys']['indexOf'](_0x2091af);_0x2bfb00<-0x21e*0xb+-0x12c1+0x2a0b||(this['_meshes'][_0x2bfb00]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(-0x1*-0x7c3+0xfef+-0x17b2),this['_meshesDir'+'ty']=!(-0x2047*-0x1+0x68a+0xcf*-0x30);}['endUpdate'](){this['_updatingP'+'roperties']=!(0x75a+0xd8f+-0x6*0x37c),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(0x46f*-0x1+-0x443+-0x8b3*-0x1);}['destroy'](){for(const _0x48737f of this['_meshes'])_0x48737f&&_0x48737f['destroy']();this['_meshes']['length']=-0x6*0x385+-0xcba+0x169*0x18;}}class zA extends me{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x550193){this['_texture']=_0x550193,this['fire']('set:textur'+'e',_0x550193);}get['texture'](){return this['_texture'];}set['frames'](_0xa42ff6){this['_frames']=_0xa42ff6,this['fire']('set:frames',_0xa42ff6);}get['frames'](){return this['_frames'];}['setFrame'](_0x58b6d8,_0x2f251c){let _0x1f2291=this['_frames'][_0x58b6d8];_0x1f2291?(_0x1f2291['rect']['copy'](_0x2f251c['rect']),_0x1f2291['pivot']['copy'](_0x2f251c['pivot']),_0x1f2291['border']['copy'](_0x2f251c['border'])):(_0x1f2291={'rect':_0x2f251c['rect']['clone'](),'pivot':_0x2f251c['pivot']['clone'](),'border':_0x2f251c['border']['clone']()},this['_frames'][_0x58b6d8]=_0x1f2291),this['fire']('set:frame',_0x58b6d8['toString'](),_0x1f2291);}['removeFram'+'e'](_0x56d53c){const _0x2d0bb4=this['_frames'][_0x56d53c];_0x2d0bb4&&(delete this['_frames'][_0x56d53c],this['fire']('remove:fra'+'me',_0x56d53c['toString'](),_0x2d0bb4));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class dg{constructor(_0x35f3f1,_0x5778ea,_0x1b0f79,_0x4654ff){this['time']=_0x35f3f1,this['position']=_0x5778ea,this['rotation']=_0x1b0f79,this['scale']=_0x4654ff;}}class fg{constructor(){this['_name']='',this['_keys']=[];}}class ug{constructor(){h(this,'name',''),h(this,'duration',-0x1*-0x90+-0x17cf*0x1+-0x173f*-0x1),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x2eae3d){return this['_nodeDict'][_0x2eae3d];}['addNode'](_0x25bbca){this['_nodes']['push'](_0x25bbca),this['_nodeDict'][_0x25bbca['_name']]=_0x25bbca;}get['nodes'](){return this['_nodes'];}}class VA{constructor(){this['_written']=!(-0xb*-0x354+0x19b1+-0x3e4c),this['_name']='',this['_keyFrames']=[],this['_quat']=new le(),this['_pos']=new D(),this['_scale']=new D(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x320733){this['_targetNod'+'e']=_0x320733;}}class Sf{constructor(_0x501220){h(this,'looping',!(0xab2*0x1+-0x2262+0x17b0)),(this['_animation']=null,this['_time']=0x1*0x1da2+0x1*-0xd12+-0x1090*0x1,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x2e9de4=_0x5b0b91=>{const _0x232ea8=new VA();_0x232ea8['_name']=_0x5b0b91['name'],this['_interpola'+'tedKeys']['push'](_0x232ea8),this['_interpola'+'tedKeyDict'][_0x5b0b91['name']]=_0x232ea8,this['_currKeyIn'+'dices'][_0x5b0b91['name']]=0x1d44+0x3*0xd01+-0xe3*0x4d;for(let _0x2aef0d=0x20c0+-0x188+0x7ce*-0x4;_0x2aef0d<_0x5b0b91['_children']['length'];_0x2aef0d++)_0x2e9de4(_0x5b0b91['_children'][_0x2aef0d]);};_0x2e9de4(_0x501220);}set['animation'](_0xdf7d15){this['_animation']=_0xdf7d15,this['currentTim'+'e']=0x1dbc+-0xb25*0x2+-0x772;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x5a9bf8){this['_time']=_0x5a9bf8;const _0x324560=this['_interpola'+'tedKeys']['length'];for(let _0x21ffe2=-0x1*0x1187+-0x1*0x17b7+-0x293e*-0x1;_0x21ffe2<_0x324560;_0x21ffe2++){const _0x5d363b=this['_interpola'+'tedKeys'][_0x21ffe2]['_name'];this['_currKeyIn'+'dices'][_0x5d363b]=0x1*-0x5c2+-0x4a*0x23+0xfe0;}this['addTime'](-0x13a9+0x1566+-0x5*0x59),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0x72b16a){if(this['_animation']!==null){const _0x4c5402=this['_animation']['_nodes'],_0x2fd723=this['_animation']['duration'];if(this['_time']===_0x2fd723&&!this['looping'])return;if(this['_time']+=_0x72b16a,this['_time']>_0x2fd723){this['_time']=this['looping']?-0x29*-0x2b+-0x2464+-0x5b*-0x53:_0x2fd723;for(let _0x3f03f8=0x101f*0x1+-0x1211+0x1f2;_0x3f03f8<_0x4c5402['length'];_0x3f03f8++){const _0x47099a=_0x4c5402[_0x3f03f8]['_name'];this['_currKeyIn'+'dices'][_0x47099a]=0x2*0x2a9+0x3*-0x842+-0x4dd*-0x4;}}else{if(this['_time']<0x8b*-0x9+-0x2582*-0x1+-0x209f*0x1){this['_time']=this['looping']?_0x2fd723:-0x1849+-0x4*0x3f9+0x282d;for(let _0x3c2640=0x3e4*0x4+-0x1e36+0x32*0x4b;_0x3c2640<_0x4c5402['length'];_0x3c2640++){const _0x6894fa=_0x4c5402[_0x3c2640],_0x83b6a1=_0x6894fa['_name'];this['_currKeyIn'+'dices'][_0x83b6a1]=_0x6894fa['_keys']['length']-(0x1049*-0x1+-0xfaa+0x1ff5);}}}const _0x1eae2a=_0x72b16a>=-0x15a*0x1b+-0x1c02+0x408*0x10?-0xc58+0x11e*-0x1+0xd77:-(0x3f*-0x4f+-0x1*0x601+-0x517*-0x5);for(let _0x41df31=0xae8+-0xa70+0xf*-0x8;_0x41df31<_0x4c5402['length'];_0x41df31++){const _0x75071a=_0x4c5402[_0x41df31],_0x59b581=_0x75071a['_name'],_0x4ed419=_0x75071a['_keys'],_0x56f039=this['_interpola'+'tedKeyDict'][_0x59b581];if(_0x56f039===void(0x12*0x51+-0xf*-0x289+-0x11f*0x27)){w['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x59b581);continue;}let _0x358a3c=!(-0x13cb+-0x234e+0x371a);if(_0x4ed419['length']!==0x2415*0x1+0x26fe+-0x4b12)for(let _0x14ced1=this['_currKeyIn'+'dices'][_0x59b581];_0x14ced1<_0x4ed419['length']-(-0xc01*0x3+0x19*-0xe+-0x1b3*-0x16)&&_0x14ced1>=-0xcc7*0x2+0x1ed1+0x543*-0x1;_0x14ced1+=_0x1eae2a){const _0x25dd2c=_0x4ed419[_0x14ced1],_0x31a417=_0x4ed419[_0x14ced1+(-0x499*-0x2+-0x209*0x7+0x50e)];if(_0x25dd2c['time']<=this['_time']&&_0x31a417['time']>=this['_time']){const _0x180fa5=(this['_time']-_0x25dd2c['time'])/(_0x31a417['time']-_0x25dd2c['time']);_0x56f039['_pos']['lerp'](_0x25dd2c['position'],_0x31a417['position'],_0x180fa5),_0x56f039['_quat']['slerp'](_0x25dd2c['rotation'],_0x31a417['rotation'],_0x180fa5),_0x56f039['_scale']['lerp'](_0x25dd2c['scale'],_0x31a417['scale'],_0x180fa5),_0x56f039['_written']=!(-0x1*0x15b6+-0x1a7f+0x3035),this['_currKeyIn'+'dices'][_0x59b581]=_0x14ced1,_0x358a3c=!(0x9a5+0x4*-0x580+0xc5b);break;}}(_0x4ed419['length']===0x167*0xd+0x10cd+-0xb7*0x31||!_0x358a3c&&this['_time']===-0x2*-0x97b+0x175*-0x1+-0x1181&&this['looping'])&&(_0x56f039['_pos']['copy'](_0x4ed419[-0x32*-0x3f+0xd57+-0x19a5]['position']),_0x56f039['_quat']['copy'](_0x4ed419[-0x17a1+-0xd8d+0x252e]['rotation']),_0x56f039['_scale']['copy'](_0x4ed419[0x6fc+-0x1b15+0x1419]['scale']),_0x56f039['_written']=!(0x2324+0x1962+-0x7a*0x7f));}}}['blend'](_0x4794b3,_0xde1a3f,_0xd8e657){const _0x3ab081=this['_interpola'+'tedKeys']['length'];for(let _0x5e9a7e=-0x1*-0x1731+-0x3fa+0x1*-0x1337;_0x5e9a7e<_0x3ab081;_0x5e9a7e++){const _0x1eb153=_0x4794b3['_interpola'+'tedKeys'][_0x5e9a7e],_0x523ab9=_0xde1a3f['_interpola'+'tedKeys'][_0x5e9a7e],_0x12586b=this['_interpola'+'tedKeys'][_0x5e9a7e];_0x1eb153['_written']&&_0x523ab9['_written']?(_0x12586b['_quat']['slerp'](_0x1eb153['_quat'],_0xde1a3f['_interpola'+'tedKeys'][_0x5e9a7e]['_quat'],_0xd8e657),_0x12586b['_pos']['lerp'](_0x1eb153['_pos'],_0xde1a3f['_interpola'+'tedKeys'][_0x5e9a7e]['_pos'],_0xd8e657),_0x12586b['_scale']['lerp'](_0x1eb153['_scale'],_0x523ab9['_scale'],_0xd8e657),_0x12586b['_written']=!(-0x226b+-0x2b7+0x2522)):_0x1eb153['_written']?(_0x12586b['_quat']['copy'](_0x1eb153['_quat']),_0x12586b['_pos']['copy'](_0x1eb153['_pos']),_0x12586b['_scale']['copy'](_0x1eb153['_scale']),_0x12586b['_written']=!(0x1*0x687+-0x5*0x6d9+0x1bb6)):_0x523ab9['_written']&&(_0x12586b['_quat']['copy'](_0x523ab9['_quat']),_0x12586b['_pos']['copy'](_0x523ab9['_pos']),_0x12586b['_scale']['copy'](_0x523ab9['_scale']),_0x12586b['_written']=!(-0x1c1c+0x22ab+-0x68f*0x1));}}['setGraph'](_0x112574){if(this['graph']=_0x112574,_0x112574)for(let _0x3d19e6=0x3*-0x3d+-0x1*0x1d0e+0x1dc5;_0x3d19e6<this['_interpola'+'tedKeys']['length'];_0x3d19e6++){const _0x26ab61=this['_interpola'+'tedKeys'][_0x3d19e6],_0x54c132=_0x112574['findByName'](_0x26ab61['_name']);this['_interpola'+'tedKeys'][_0x3d19e6]['setTarget'](_0x54c132);}else{for(let _0x4f2a17=0x1169+-0x54f*-0x2+0x23*-0xcd;_0x4f2a17<this['_interpola'+'tedKeys']['length'];_0x4f2a17++)this['_interpola'+'tedKeys'][_0x4f2a17]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x2f20bd=0xb45+0xd53*-0x2+0xf61;_0x2f20bd<this['_interpola'+'tedKeys']['length'];_0x2f20bd++){const _0x4f5869=this['_interpola'+'tedKeys'][_0x2f20bd];if(_0x4f5869['_written']){const _0x3eac5d=_0x4f5869['getTarget']();_0x3eac5d['localPosit'+'ion']['copy'](_0x4f5869['_pos']),_0x3eac5d['localRotat'+'ion']['copy'](_0x4f5869['_quat']),_0x3eac5d['localScale']['copy'](_0x4f5869['_scale']),_0x3eac5d['_dirtyLoca'+'l']||_0x3eac5d['_dirtifyLo'+'cal'](),_0x4f5869['_written']=!(-0x29c+-0x1820+0x1abd);}}}}const zs=(0xed5*0x2+0x18d0+0x2*-0x1b3b)/(-0xd*0x233+0x8*0x99+-0x180f*-0x1),si=0x10c*0x7+0xe6d+0xc0*-0x1d-zs*(-0x6fd+0x1310+0xc11*-0x1);class gm extends Ta{constructor(_0x53b950,_0x3f5174,_0x3ac35b,_0x4c7c9a,_0x43f20a,_0x463603){super();const _0x2733d0=new D(),_0x147eb9=new D(),_0x313d73=new D(),_0x4eb17e=new D(),_0xb9aa9a=new D(),_0x9d4a49=new D(),_0x1bd39b=[],_0x5c671a=[],_0x3e13c6=[],_0x587db1=[],_0x28382b=[];let _0x4bbe23;if(_0x3ac35b>-0x8db*0x1+0x1c22+-0x1347){for(let _0x3f25ec=-0x6*-0x64f+-0x8cc+-0x1d0e;_0x3f25ec<=_0x4c7c9a;_0x3f25ec++)for(let _0x5693e2=-0xfb3+0x1*-0x95f+0x1912;_0x5693e2<=_0x43f20a;_0x5693e2++){const _0x26495d=_0x5693e2/_0x43f20a*(0x1a05+0x2*-0x54d+-0xf69)*Math['PI']-Math['PI'],_0x5f56f1=Math['sin'](_0x26495d),_0x452bbb=Math['cos'](_0x26495d);_0xb9aa9a['set'](_0x5f56f1*_0x53b950,-_0x3ac35b/(0x1ef1+-0x1402*-0x1+0x9*-0x5a9),_0x452bbb*_0x53b950),_0x4eb17e['set'](_0x5f56f1*_0x3f5174,_0x3ac35b/(0x140d+0x13*-0xb+-0x133a*0x1),_0x452bbb*_0x3f5174),_0x2733d0['lerp'](_0xb9aa9a,_0x4eb17e,_0x3f25ec/_0x4c7c9a),_0x147eb9['sub2'](_0x4eb17e,_0xb9aa9a)['normalize'](),_0x9d4a49['set'](_0x452bbb,-0x637*-0x2+-0xd24*-0x2+-0x26b6,-_0x5f56f1),_0x313d73['cross'](_0x9d4a49,_0x147eb9)['normalize'](),_0x1bd39b['push'](_0x2733d0['x'],_0x2733d0['y'],_0x2733d0['z']),_0x5c671a['push'](_0x313d73['x'],_0x313d73['y'],_0x313d73['z']);let _0x164a20=_0x5693e2/_0x43f20a,_0x1069d2=_0x3f25ec/_0x4c7c9a;_0x3e13c6['push'](_0x164a20,0x1*-0x1c1d+-0x1197*0x2+-0x2*-0x1fa6-_0x1069d2);const _0x4ee7fb=_0x1069d2;if(_0x1069d2=_0x164a20,_0x164a20=_0x4ee7fb,_0x164a20=_0x164a20*si+zs,_0x1069d2=_0x1069d2*si+zs,_0x164a20/=-0x8bb*0x3+-0x368+-0x5*-0x5ec,_0x587db1['push'](_0x164a20,0x23ef+-0x1*-0x473+-0x2861-_0x1069d2),_0x3f25ec<_0x4c7c9a&&_0x5693e2<_0x43f20a){const _0x2e829e=_0x3f25ec*(_0x43f20a+(-0x200*0xd+-0xe9*0xe+0x2fb*0xd))+_0x5693e2,_0x3ba1e3=_0x3f25ec*(_0x43f20a+(-0x19c7*-0x1+-0x3*0xa27+0x1*0x4af))+(_0x5693e2+(-0x16a7*0x1+-0x1324+0x29cc)),_0x2fb02a=(_0x3f25ec+(-0x1029+0x989*-0x2+-0x16*-0x19a))*(_0x43f20a+(-0x7eb+-0x13ea+0x1bd6))+_0x5693e2,_0x4ab27b=(_0x3f25ec+(0xbbc+0x2*0x5b8+0x172b*-0x1))*(_0x43f20a+(-0xcff*0x3+-0x6ad*-0x1+0x2051*0x1))+(_0x5693e2+(-0x1be2+0x17*0x149+-0x1*0x1ac));_0x28382b['push'](_0x2e829e,_0x3ba1e3,_0x2fb02a),_0x28382b['push'](_0x3ba1e3,_0x4ab27b,_0x2fb02a);}}}if(_0x463603){const _0x1b6b5d=Math['floor'](_0x43f20a/(-0x17a7+-0x1563+0x2d0c)),_0x251693=_0x43f20a,_0x291523=_0x3ac35b/(0x5*0x490+-0x12*0x17+-0x1530*0x1);for(let _0x38d448=-0x1236+-0x2675+0x38ab;_0x38d448<=_0x1b6b5d;_0x38d448++){const _0x3ec425=_0x38d448*Math['PI']*(-0x26af*-0x1+0x22e5+-0x2*0x24ca+0.5)/_0x1b6b5d,_0x170570=Math['sin'](_0x3ec425),_0x2626fa=Math['cos'](_0x3ec425);for(let _0x386b31=-0x886+-0x20*0x12e+0x1723*0x2;_0x386b31<=_0x251693;_0x386b31++){const _0x53e3f8=_0x386b31*(-0x3df*0x3+-0x225a+0x1*0x2df9)*Math['PI']/_0x251693-Math['PI']/(0xdc8+-0x1b7d*0x1+0xdb7),_0xc80b38=Math['sin'](_0x53e3f8),_0x77f494=Math['cos'](_0x53e3f8)*_0x170570,_0x5d43b8=_0x2626fa,_0x327788=_0xc80b38*_0x170570;let _0xdf9d1d=0x17be+-0x586+0x1237*-0x1-_0x386b31/_0x251693,_0x31ba78=0x29*-0x9b+0x1af0+-0x1*0x21c-_0x38d448/_0x1b6b5d;_0x1bd39b['push'](_0x77f494*_0x3f5174,_0x5d43b8*_0x3f5174+_0x291523,_0x327788*_0x3f5174),_0x5c671a['push'](_0x77f494,_0x5d43b8,_0x327788),_0x3e13c6['push'](_0xdf9d1d,-0x191b+0x3*0xb4d+-0x8cb-_0x31ba78),_0xdf9d1d=_0xdf9d1d*si+zs,_0x31ba78=_0x31ba78*si+zs,_0xdf9d1d/=-0x528+0xbac+-0xb9*0x9,_0x31ba78/=0x230e+-0x2409+0xfe,_0xdf9d1d+=(0x18dc+-0x3*0xa15+0x564)/(0x2248+0x1fd7+-0x2*0x210e),_0x587db1['push'](_0xdf9d1d,-0x1*0x126b+-0x1f1f+-0x318b*-0x1-_0x31ba78);}}_0x4bbe23=(_0x4c7c9a+(0x474+-0x20f+-0x264))*(_0x43f20a+(-0x2eb+-0x7*0x332+0x194a));for(let _0x2c60a5=-0x1*0x2043+0x1795+0x16*0x65;_0x2c60a5<_0x1b6b5d;++_0x2c60a5)for(let _0x5132fd=-0x63a+-0x192b+0x1f65*0x1;_0x5132fd<_0x251693;++_0x5132fd){const _0x2849a1=_0x2c60a5*(_0x251693+(-0x7*0x23d+0x381*0x2+-0x455*-0x2))+_0x5132fd,_0x5c3da5=_0x2849a1+_0x251693+(-0x240c+-0x92*-0x22+0x5*0x355);_0x28382b['push'](_0x4bbe23+_0x2849a1+(0x441+-0x4ca*0x1+0x8a),_0x4bbe23+_0x5c3da5,_0x4bbe23+_0x2849a1),_0x28382b['push'](_0x4bbe23+_0x2849a1+(-0x1830+0x1253*-0x1+-0x716*-0x6),_0x4bbe23+_0x5c3da5+(-0x993*-0x2+-0xf5*-0x9+-0x1bc2),_0x4bbe23+_0x5c3da5);}for(let _0x19ddab=0x1*-0x67+-0x4*-0x836+-0x2071;_0x19ddab<=_0x1b6b5d;_0x19ddab++){const _0x53bf8c=Math['PI']*(0x179+0xf*0x43+-0x566*0x1+0.5)+_0x19ddab*Math['PI']*(0x30a+0x1a0f+-0x1d19+0.5)/_0x1b6b5d,_0x19a3c1=Math['sin'](_0x53bf8c),_0x4bcbdf=Math['cos'](_0x53bf8c);for(let _0xa94780=-0x18d+-0x534+0x6c1;_0xa94780<=_0x251693;_0xa94780++){const _0x27d04e=_0xa94780*(-0x3*0x47+-0x31c*-0x1+-0x7*0x53)*Math['PI']/_0x251693-Math['PI']/(-0x2107+0x1*0xe3b+-0x1d*-0xa6),_0x2c56f0=Math['sin'](_0x27d04e),_0x97bc85=Math['cos'](_0x27d04e)*_0x19a3c1,_0x56ff6f=_0x4bcbdf,_0x1df49a=_0x2c56f0*_0x19a3c1;let _0x42c146=0x1f2a+0x1*0x119+-0x2042-_0xa94780/_0x251693,_0x1c9337=0x1*-0x2089+0x979*-0x1+0xe01*0x3-_0x19ddab/_0x1b6b5d;_0x1bd39b['push'](_0x97bc85*_0x3f5174,_0x56ff6f*_0x3f5174-_0x291523,_0x1df49a*_0x3f5174),_0x5c671a['push'](_0x97bc85,_0x56ff6f,_0x1df49a),_0x3e13c6['push'](_0x42c146,0x1a64+0x11eb+-0x2c4e-_0x1c9337),_0x42c146=_0x42c146*si+zs,_0x1c9337=_0x1c9337*si+zs,_0x42c146/=0x1573+0x91+-0x1601,_0x1c9337/=0x5*-0xe9+-0x5d6+-0x16*-0x79,_0x42c146+=(0x1fde*-0x1+0x3*-0x521+0xfc1*0x3)/(0x1f4b+-0x10*-0x229+-0x41d8),_0x587db1['push'](_0x42c146,0x45b+-0x49*0x43+-0x3*-0x4eb-_0x1c9337);}}_0x4bbe23=(_0x4c7c9a+(0x226c+-0x43c+-0x1e2f))*(_0x43f20a+(0x1076*-0x1+0x800*0x4+-0xf89))+(_0x251693+(0xa*0x278+-0x2678+0xdc9*0x1))*(_0x1b6b5d+(0x1015+0x4ef*0x2+0xf6*-0x1b));for(let _0x3b96ff=-0x259e+-0x2298+0x4836;_0x3b96ff<_0x1b6b5d;++_0x3b96ff)for(let _0x3ba0c4=-0x1*0x20e7+-0x1*0x1779+0x10*0x386;_0x3ba0c4<_0x251693;++_0x3ba0c4){const _0xadbcd6=_0x3b96ff*(_0x251693+(0x17d+0x209e+-0x2d*0xc2))+_0x3ba0c4,_0x1dd6f5=_0xadbcd6+_0x251693+(0x2*0x34e+0x914+-0xfaf);_0x28382b['push'](_0x4bbe23+_0xadbcd6+(0x2*-0x19c+-0x65b*0x2+0x1*0xfef),_0x4bbe23+_0x1dd6f5,_0x4bbe23+_0xadbcd6),_0x28382b['push'](_0x4bbe23+_0xadbcd6+(-0x8de*0x3+0x13*-0x17c+0x36cf),_0x4bbe23+_0x1dd6f5+(-0x25c7+-0x1023+0x35eb),_0x4bbe23+_0x1dd6f5);}}else{if(_0x4bbe23=(_0x4c7c9a+(0x9c6+0x47*-0x3b+-0x2*-0x34c))*(_0x43f20a+(0x93e+0x537+-0xe74)),_0x53b950>-0x6*0xdf+0x205a+-0x20*0xd9)for(let _0x2d0173=-0x1c1d+0x10f*0x1b+-0x28*0x3;_0x2d0173<_0x43f20a;_0x2d0173++){const _0x2165ca=_0x2d0173/_0x43f20a*(-0xb84+0x6ed*-0x1+0x1273*0x1)*Math['PI'],_0x248811=Math['sin'](_0x2165ca),_0x428402=-_0x3ac35b/(0x53d*-0x1+0x95*0x25+-0x1e*0x8b),_0x123a34=Math['cos'](_0x2165ca);let _0x4d7ddb=0x9d0+-0x20b*0x8+0x7*0xef-(_0x248811+(-0x2de*-0x3+-0x1b1d+0x14*0xed))/(-0xf8+-0x4e8*0x5+0xa*0x28d),_0x543884=(_0x123a34+(-0x1*-0x5e2+-0x15*0x1+-0x5cc))/(0x22f*-0x1+0x8*0x41b+-0x19d*0x13);_0x1bd39b['push'](_0x248811*_0x53b950,_0x428402,_0x123a34*_0x53b950),_0x5c671a['push'](0x1266+-0x1790+0x52a,-(0x93e+0x2288+-0x2bc5),-0x2115+0x56*0x6a+-0x287*0x1),_0x3e13c6['push'](_0x4d7ddb,0x2511*-0x1+-0x57*-0x5c+0x5ce-_0x543884),_0x4d7ddb=_0x4d7ddb*si+zs,_0x543884=_0x543884*si+zs,_0x4d7ddb/=-0x23af*0x1+0x237b+-0xb*-0x5,_0x543884/=0x1*-0x1f63+-0x1*0x125+0x208b,_0x4d7ddb+=(-0xd64+0x6e+0x1*0xcf7)/(-0x2493*0x1+0x1*-0x1bff+0x1587*0x3),_0x587db1['push'](_0x4d7ddb,0x10ef+-0x11*0x7e+-0x224*0x4-_0x543884),_0x2d0173>-0x396*-0x2+0x2552+-0x65b*0x7&&_0x28382b['push'](_0x4bbe23,_0x4bbe23+_0x2d0173,_0x4bbe23+_0x2d0173-(-0x19e6+-0x75a*-0x1+0x128d));}if(_0x4bbe23+=_0x43f20a,_0x3f5174>0x1b7d+0x9eb+-0x2568)for(let _0x5d4baf=0x1*0xd9d+0x1c72+-0x2a0f;_0x5d4baf<_0x43f20a;_0x5d4baf++){const _0xfbee2=_0x5d4baf/_0x43f20a*(0x13d5*0x1+0x3*-0x8b1+0x640)*Math['PI'],_0x196cce=Math['sin'](_0xfbee2),_0x5bd5a1=_0x3ac35b/(-0x4a7+-0x1b56*0x1+-0x1fff*-0x1),_0x1bf727=Math['cos'](_0xfbee2);let _0x3c9652=0x2f*-0x7b+0x1a19+0x1f*-0x1d-(_0x196cce+(0xa61+0xbe3+-0x1643))/(0x1*0xdaf+-0x733+0x1*-0x67a),_0x17d570=(_0x1bf727+(-0x2021+0x17*0x59+0x1823))/(-0xd*-0x173+-0x1e80*-0x1+-0xad*0x49);_0x1bd39b['push'](_0x196cce*_0x3f5174,_0x5bd5a1,_0x1bf727*_0x3f5174),_0x5c671a['push'](0x391*-0x2+0xe*-0x26a+0x28ee,-0x25e9+0x259+0x2391,-0x13*0xef+0x1e02+-0x3*0x417),_0x3e13c6['push'](_0x3c9652,-0xf*-0x1de+-0x1377+0x2*-0x445-_0x17d570),_0x3c9652=_0x3c9652*si+zs,_0x17d570=_0x17d570*si+zs,_0x3c9652/=0x123d+0x1*-0x2543+-0x1309*-0x1,_0x17d570/=0x9*-0x3bc+0x4*0x5d5+0xa4b,_0x3c9652+=(-0x1*0x146b+-0x141c+0x2889)/(-0x29*-0xa1+0x35b+-0x1d21),_0x587db1['push'](_0x3c9652,-0x12f7+0x3*0x737+-0x2ad-_0x17d570),_0x5d4baf>0x6*0x1a2+-0xcc4+-0x1*-0x2f9&&_0x28382b['push'](_0x4bbe23,_0x4bbe23+_0x5d4baf-(0x226e+-0x14bb*-0x1+-0xdca*0x4),_0x4bbe23+_0x5d4baf);}}this['positions']=_0x1bd39b,this['normals']=_0x5c671a,this['uvs']=_0x3e13c6,this['uvs1']=_0x587db1,this['indices']=_0x28382b;}}class GA extends gm{constructor(_0x3344eb={}){const _0x298591=_0x3344eb['radius']??0x1246*0x2+-0x1b35+0x1*-0x957+0.3,_0x8880d4=_0x3344eb['height']??-0x313*0x7+-0x1bc1+-0x9db*-0x5,_0xcce1f=_0x3344eb['heightSegm'+'ents']??0xd2c+-0x359*0x6+0x6eb,_0x354148=_0x3344eb['sides']??0x12ef+-0x13ad*0x1+0x3*0x46;super(_0x298591,_0x298591,_0x8880d4-(0x394*-0x8+-0x19fc+0x2*0x1b4f)*_0x298591,_0xcce1f,_0x354148,!(0xf0e+0x1484+-0x9d*0x3a)),_0x3344eb['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class HA extends gm{constructor(_0x4ee1a6={}){const _0x33092a=_0x4ee1a6['baseRadius']??-0x53d*-0x6+0x1*0x24c5+-0x4433+0.5,_0x8114b8=_0x4ee1a6['peakRadius']??-0xff6*0x1+-0xa47*0x3+0x2ecb,_0x1e1195=_0x4ee1a6['height']??0x1*0xa7c+0xcd0*0x2+-0x241b,_0x57797b=_0x4ee1a6['heightSegm'+'ents']??0x4dc+0x3e*0x8f+-0x2779,_0x572b8f=_0x4ee1a6['capSegment'+'s']??0x1f88+-0x2fc*0x4+-0x1386;super(_0x33092a,_0x8114b8,_0x1e1195,_0x57797b,_0x572b8f,!(-0x40f+0x55d*-0x5+0x1ee1)),_0x4ee1a6['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class WA extends gm{constructor(_0x19659c={}){const _0x9200f6=_0x19659c['radius']??-0x1b80+0x1183+0x9fd+0.5,_0xbd060e=_0x19659c['height']??-0x8b+0xebe+0x719*-0x2,_0x4353fc=_0x19659c['heightSegm'+'ents']??0x5*-0x22f+-0x73b+0x122b,_0x4422de=_0x19659c['capSegment'+'s']??-0x95*-0x4+0x2576+-0x27b6;super(_0x9200f6,_0x9200f6,_0xbd060e,_0x4353fc,_0x4422de,!(-0x2468+-0x1e48+0x3*0x163b)),_0x19659c['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class $A extends Ta{constructor(_0x258406={}){super();const _0x32c364=_0x258406['halfExtent'+'s']??new J(-0x316*0xa+-0x16e4*0x1+0x35c0+0.5,-0x3*-0x74b+-0x47*-0x59+-0x95*0x50+0.5),_0x1f9a14=_0x258406['widthSegme'+'nts']??-0x8*0x1b6+0x1fb0+-0x11fb,_0xdebf11=_0x258406['lengthSegm'+'ents']??0xbd4+-0x1ef0+0x1321,_0x217cee=[],_0x5bcc9d=[],_0x1d0b50=[],_0x1c80ba=[];let _0x417c61=-0x109*-0x22+-0x1785+-0xbad;for(let _0x2f2cd5=0x2*0x5de+0x17e9*-0x1+0xc2d;_0x2f2cd5<=_0x1f9a14;_0x2f2cd5++)for(let _0x592d0a=-0x1b36+-0x1dd*0xd+0x3*0x1125;_0x592d0a<=_0xdebf11;_0x592d0a++){const _0x35b7a9=-_0x32c364['x']+(0x2148+-0x61*-0x63+0x1*-0x46c9)*_0x32c364['x']*_0x2f2cd5/_0x1f9a14,_0x40bb23=-0x21*0xe3+0x2f*-0xc1+0x40b2,_0x58e4d2=-(-_0x32c364['y']+(-0xc6d+0x89f*0x1+-0x7a*-0x8)*_0x32c364['y']*_0x592d0a/_0xdebf11),_0x5b70b4=_0x2f2cd5/_0x1f9a14,_0x3e9151=_0x592d0a/_0xdebf11;_0x217cee['push'](_0x35b7a9,_0x40bb23,_0x58e4d2),_0x5bcc9d['push'](-0x284+-0xa6e+0xcf2,0x19c3+-0x2de+-0x125*0x14,0x7d2+0x1*0x743+-0xb*0x15f),_0x1d0b50['push'](_0x5b70b4,-0x16*-0x43+-0xce4+-0x57*-0x15-_0x3e9151),_0x2f2cd5<_0x1f9a14&&_0x592d0a<_0xdebf11&&(_0x1c80ba['push'](_0x417c61+_0xdebf11+(-0x23b2+0x1*0x24d7+0x1*-0x124),_0x417c61+(0x3df*-0x2+0x1b83+-0x13c4),_0x417c61),_0x1c80ba['push'](_0x417c61+_0xdebf11+(-0x2*-0x9c9+-0x827*0x2+0xa7*-0x5),_0x417c61+_0xdebf11+(-0x1c1+-0xb9e+0x89*0x19),_0x417c61+(-0x1*0x1bfe+0x2*-0xf22+0x3a43))),_0x417c61++;}this['positions']=_0x217cee,this['normals']=_0x5bcc9d,this['uvs']=_0x1d0b50,this['uvs1']=_0x1d0b50,this['indices']=_0x1c80ba,_0x258406['calculateT'+'angents']&&(this['tangents']=Mr(_0x217cee,_0x5bcc9d,_0x1d0b50,_0x1c80ba));}}class XA extends Ta{constructor(_0x1f5a4e={}){super();const _0x384a13=_0x1f5a4e['tubeRadius']??-0xd*-0x17f+0x27*-0xef+0x14e*0xd+0.2,_0x39e691=_0x1f5a4e['ringRadius']??-0x267f*0x1+0x155*-0xe+0x3925+0.3,_0x247326=(_0x1f5a4e['sectorAngl'+'e']??0x1918+0x581*0x3+-0xfb*0x29)*Y['DEG_TO_RAD'],_0xf77d7c=_0x1f5a4e['segments']??0x2292+0x1e05+-0x4079,_0x257141=_0x1f5a4e['sides']??0x1*0x501+0x22eb+-0x27d8,_0x2c7f8b=[],_0x531511=[],_0x4da091=[],_0x4aa644=[];for(let _0x458593=-0x1*0x745+-0x1db7+-0x62a*-0x6;_0x458593<=_0x257141;_0x458593++)for(let _0x1397f7=-0x4be*-0x3+-0x85*0x4a+0x1f*0xc8;_0x1397f7<=_0xf77d7c;_0x1397f7++){const _0x572a91=Math['cos'](_0x247326*_0x1397f7/_0xf77d7c)*(_0x39e691+_0x384a13*Math['cos']((-0x807*-0x1+-0x2*0x1307+0x1e09)*Math['PI']*_0x458593/_0x257141)),_0x1edb7e=Math['sin']((-0x80d*0x2+0x3f1+0xc2b)*Math['PI']*_0x458593/_0x257141)*_0x384a13,_0x3038d0=Math['sin'](_0x247326*_0x1397f7/_0xf77d7c)*(_0x39e691+_0x384a13*Math['cos']((0x23fd+0x15f*0xa+0x1*-0x31b1)*Math['PI']*_0x458593/_0x257141)),_0x442c1c=Math['cos'](_0x247326*_0x1397f7/_0xf77d7c)*Math['cos']((-0x147+-0x1b7*0x7+0xd4a)*Math['PI']*_0x458593/_0x257141),_0x51c770=Math['sin']((0x409+-0x14b5+0x10ae)*Math['PI']*_0x458593/_0x257141),_0x55a64e=Math['sin'](_0x247326*_0x1397f7/_0xf77d7c)*Math['cos']((-0x931+-0x1bcb+-0x5*-0x766)*Math['PI']*_0x458593/_0x257141),_0x1901b2=_0x458593/_0x257141,_0x304c06=-0x1163+0x92*0x5+0x1*0xe8a-_0x1397f7/_0xf77d7c;if(_0x2c7f8b['push'](_0x572a91,_0x1edb7e,_0x3038d0),_0x531511['push'](_0x442c1c,_0x51c770,_0x55a64e),_0x4da091['push'](_0x1901b2,0x51f*-0x7+0xb*0xb+0x2361*0x1-_0x304c06),_0x458593<_0x257141&&_0x1397f7<_0xf77d7c){const _0x1767ac=_0x458593*(_0xf77d7c+(-0x4*-0x293+0x2327+0xe*-0x33f))+_0x1397f7,_0x28514d=(_0x458593+(0x1c84+-0xf+0x4be*-0x6))*(_0xf77d7c+(0x1814+0x3f*0x37+-0x259c))+_0x1397f7,_0x150e1b=_0x458593*(_0xf77d7c+(-0x1*0x2575+0x1f7a+-0x2fe*-0x2))+(_0x1397f7+(0xeaf+0x1*-0xa73+0x1*-0x43b)),_0x12d8f0=(_0x458593+(-0xf*0x3a+0x3*0x3bf+-0x7d6))*(_0xf77d7c+(-0x20d9+-0x2062+0x413c))+(_0x1397f7+(0xf48+0x1*-0x33e+-0xc09));_0x4aa644['push'](_0x1767ac,_0x28514d,_0x150e1b),_0x4aa644['push'](_0x28514d,_0x12d8f0,_0x150e1b);}}this['positions']=_0x2c7f8b,this['normals']=_0x531511,this['uvs']=_0x4da091,this['uvs1']=_0x4da091,this['indices']=_0x4aa644,_0x1f5a4e['calculateT'+'angents']&&(this['tangents']=Mr(_0x2c7f8b,_0x531511,_0x4da091,_0x4aa644));}}class qA{constructor(_0x2bd6ab,_0x2630c3){h(this,'processedC'+'ache',new Map()),h(this,'definition'+'sCache',new Map()),h(this,'_generator'+'s',new Map()),(this['_device']=_0x2bd6ab,this['_isClearin'+'gCache']=!(-0xa2*-0x18+-0x5b*-0x1+0x9*-0x1ba),this['_precached']=!(0x182a+0x59*-0xc+-0x13fd),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new dl(),this['_defaultSt'+'dMatOption'+'Min']=new dl());const _0x2c24a0=new vv();_0x2630c3['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x2c24a0,_0x2630c3,null,[],Aa,null),_0x2630c3['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x2630c3,null,cm,null),_0x2bd6ab['on']('destroy:sh'+'ader',_0x34e85a=>{this['removeFrom'+'Cache'](_0x34e85a);});}['destroy'](){this['clearCache']();}['register'](_0x514cc8,_0x311e47){this['_generator'+'s']['has'](_0x514cc8)||this['_generator'+'s']['set'](_0x514cc8,_0x311e47);}['unregister'](_0x1f7c21){this['_generator'+'s']['has'](_0x1f7c21)&&this['_generator'+'s']['delete'](_0x1f7c21);}['isRegister'+'ed'](_0x3868cf){return this['_generator'+'s']['has'](_0x3868cf);}['generateSh'+'aderDefini'+'tion'](_0x2884ea,_0x5d98cc,_0x2ebd1e,_0xce946d){var _0x18b93c,_0x343c28;let _0x4bbad3=this['definition'+'sCache']['get'](_0x2ebd1e);if(!_0x4bbad3){let _0xd619d1;(_0x18b93c=_0xce946d['litOptions'])!=null&&_0x18b93c['lights']&&(_0xd619d1=_0xce946d['litOptions']['lights'],_0xce946d['litOptions']['lights']=_0xd619d1['map'](_0x63554f=>{const _0x3d7afa=_0x63554f['clone']?_0x63554f['clone']():_0x63554f;return _0x3d7afa['key']=_0x63554f['key'],_0x3d7afa;})),this['storeNewPr'+'ogram'](_0x5d98cc,_0xce946d),(_0x343c28=_0xce946d['litOptions'])!=null&&_0x343c28['lights']&&(_0xce946d['litOptions']['lights']=_0xd619d1),this['_precached']&&w['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0x5d98cc+'\x20key\x20'+_0x2ebd1e+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x55069d=this['_device'];_0x4bbad3=_0x2884ea['createShad'+'erDefiniti'+'on'](_0x55069d,_0xce946d),_0x4bbad3['name']=_0x4bbad3['name']??(_0xce946d['pass']?_0x5d98cc+'-pass:'+_0xce946d['pass']:_0x5d98cc),this['definition'+'sCache']['set'](_0x2ebd1e,_0x4bbad3);}return _0x4bbad3;}['getCachedS'+'hader'](_0x24e24c){return this['processedC'+'ache']['get'](_0x24e24c);}['setCachedS'+'hader'](_0x3fc24c,_0x395367){this['processedC'+'ache']['set'](_0x3fc24c,_0x395367);}['getProgram'](_0x2b838f,_0x40b03e,_0x1ebe36,_0x32a923){const _0x22105e=this['_generator'+'s']['get'](_0x2b838f);if(!_0x22105e)return w['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x2b838f),null;const _0x57cdc0=_0x22105e['generateKe'+'y'](_0x40b03e),_0x2097f5=hi(_0x57cdc0),_0x2b6009=_0x1ebe36['generateKe'+'y'](this['_device']),_0x281183=hi(_0x2b6009),_0x2f85b0=_0x2097f5+'#'+_0x281183;let _0x5a4995=this['getCachedS'+'hader'](_0x2f85b0);if(!_0x5a4995){const _0x41cdfe=this['generateSh'+'aderDefini'+'tion'](_0x22105e,_0x2b838f,_0x2097f5,_0x40b03e);w['assert'](_0x41cdfe);let _0x199a21='',_0x33133a;_0x40b03e['pass']!==void(0x4b0+0x17ce+-0x1*0x1c7e)&&(_0x33133a=Si['get'](this['_device'])['getByIndex'](_0x40b03e['pass']),_0x199a21='-'+_0x33133a['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x32a923,'shaderPassInfo':_0x33133a,'definition':_0x41cdfe});const _0x200cea={'name':''+_0x41cdfe['name']+_0x199a21+'-proc','attributes':_0x41cdfe['attributes'],'vshader':_0x41cdfe['vshader'],'vincludes':_0x41cdfe['vincludes'],'fincludes':_0x41cdfe['fincludes'],'fshader':_0x41cdfe['fshader'],'processingOptions':_0x1ebe36,'shaderLanguage':_0x41cdfe['shaderLang'+'uage'],'meshUniformBufferFormat':_0x41cdfe['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x41cdfe['meshBindGr'+'oupFormat']};_0x5a4995=new qy(this['_device'],_0x200cea),w['call'](()=>{_0x5a4995['_generatio'+'nKey']=_0x57cdc0,_0x5a4995['_processin'+'gKey']=_0x2b6009;}),this['setCachedS'+'hader'](_0x2f85b0,_0x5a4995);}return _0x5a4995;}['storeNewPr'+'ogram'](_0x1c2ccd,_0x34f945){let _0x58e62a={};if(_0x1c2ccd==='standard'){const _0x526883=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x34f945['pass']);for(const _0xc9e438 in _0x34f945)(_0x34f945['hasOwnProp'+'erty'](_0xc9e438)&&_0x526883[_0xc9e438]!==_0x34f945[_0xc9e438]||_0xc9e438==='pass')&&(_0x58e62a[_0xc9e438]=_0x34f945[_0xc9e438]);for(const _0x5140ce in _0x34f945['litOptions'])_0x58e62a[_0x5140ce]=_0x34f945['litOptions'][_0x5140ce];}else _0x58e62a=_0x34f945;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x1c2ccd,'options':_0x58e62a}));}['dumpProgra'+'ms'](){let _0x2bb2b3='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x2bb2b3+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][0x409*-0x1+0xc9*-0x21+0x1df2]&&(_0x2bb2b3+='\x0a\x09'+this['_programsC'+'ollection'][-0x8e6+-0x8c*-0x3a+-0x16d2]);for(let _0x492024=-0x199+-0x1*0x1d2b+0x1ec5;_0x492024<this['_programsC'+'ollection']['length'];++_0x492024)_0x2bb2b3+=',\x0a\x09'+this['_programsC'+'ollection'][_0x492024];_0x2bb2b3+='\x0a];\x0a',_0x2bb2b3+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x2bb2b3+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+hn+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+$S+'\x22)\x0a',_0x2bb2b3+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0x2cd3ad=document['createElem'+'ent']('a');_0x2cd3ad['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x2bb2b3)),_0x2cd3ad['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0x2cd3ad['style']['display']='none',document['body']['appendChil'+'d'](_0x2cd3ad),_0x2cd3ad['click'](),document['body']['removeChil'+'d'](_0x2cd3ad);}['clearCache'](){this['_isClearin'+'gCache']=!(-0xf4d*-0x2+0x5e*-0xa+-0x1aee),this['processedC'+'ache']['forEach'](_0x321420=>{_0x321420['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(-0x1f*-0x100+0x2*0x509+0x2911*-0x1);}['removeFrom'+'Cache'](_0x4d1898){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x5d6d6b,_0x167a08)=>{_0x4d1898===_0x5d6d6b&&this['processedC'+'ache']['delete'](_0x167a08);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0x2a98bd){const _0x34ea78=Si['get'](this['_device'])['getByIndex'](_0x2a98bd);return _0x2a98bd===Zn||_0x2a98bd===Rl||_0x34ea78['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x16b566){if(_0x16b566){const _0x3d5e04=new Array(_0x16b566['length']);for(let _0xee6788=-0xf07+0xf95*0x1+0x2*-0x47;_0xee6788<_0x16b566['length'];_0xee6788++){if(_0x16b566[_0xee6788]['name']==='standard'){const _0x73933d=_0x16b566[_0xee6788]['options'],_0x182960=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x73933d['pass']);for(const _0x552184 in _0x182960)_0x182960['hasOwnProp'+'erty'](_0x552184)&&_0x73933d[_0x552184]===void(-0x4e7*0x4+-0x1b28+-0x1*-0x2ec4)&&(_0x73933d[_0x552184]=_0x182960[_0x552184]);}_0x3d5e04[_0xee6788]=this['getProgram'](_0x16b566[_0xee6788]['name'],_0x16b566[_0xee6788]['options']);}}this['_precached']=!(-0x1382+-0x1828+-0x12*-0x26d);}}async function jA(){const _0x22f200=new Float32Array(0x241*0x2+-0xe*-0x52+-0x8fd),_0x1aba01=new Int32Array(_0x22f200['buffer']);let _0x20603e=0x2656+-0x3fd*-0x2+0x2e5*-0x10,_0x28fc4f={};self['onmessage']=async _0x11730b=>{const {data:_0x72594a}=_0x11730b;switch(_0x72594a['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x3918f5(_0x72594a['properties'],_0x72594a['timeIndex'],_0x72594a['timeOption']);break;case'releaseSeq'+'Data':_0x4d0a48(_0x72594a['index']);break;case'releaseAll'+'SeqData':_0x42ea95();break;case'destroyWor'+'ker':_0x32ce35();break;}};class _0x176f5b{constructor(_0x971ddb=0x25b9+0x3*-0x567+-0x1584,_0x2ee314=0x1402+0x48b*0x6+-0x64*0x79,_0x5556c8=-0x1e0b+0x11*0x1+0x4ff*0x6,_0x9f75a9=-0x2b6+0x1115+0x1*-0xe5e){this['x']=_0x971ddb,this['y']=_0x2ee314,this['z']=_0x5556c8,this['w']=_0x9f75a9;}['set'](_0x6fe2ff,_0x8ead4b,_0x240344,_0x138030){return this['x']=_0x6fe2ff,this['y']=_0x8ead4b,this['z']=_0x240344,this['w']=_0x138030,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0xeade1c=this){let _0xee44c5=_0xeade1c['length']();return _0xee44c5===0x2b*-0xbf+0x1b02+0x513?(this['x']=this['y']=this['z']=-0x1206+0x3e2*-0x1+0x15e8,this['w']=0x30*0xcf+-0x231a*-0x1+-0x49e9):(_0xee44c5=(0xa72+0x5*0x41b+-0x1ef8)/_0xee44c5,this['x']=_0xeade1c['x']*_0xee44c5,this['y']=_0xeade1c['y']*_0xee44c5,this['z']=_0xeade1c['z']*_0xee44c5,this['w']=_0xeade1c['w']*_0xee44c5),this;}['mulScalar'](_0x457419,_0x1ad2c4=this){return this['x']=_0x1ad2c4['x']*_0x457419,this['y']=_0x1ad2c4['y']*_0x457419,this['z']=_0x1ad2c4['z']*_0x457419,this['w']=_0x1ad2c4['w']*_0x457419,this;}}const _0x17c542=_0xc29eb2=>{_0x22f200[0x23ae+-0x1757+0x51*-0x27]=_0xc29eb2;const _0x5e03b8=_0x1aba01[-0x19c9+0x3*0xfb+-0x5b6*-0x4];let _0x120919=_0x5e03b8>>-0x2542+-0xe92+0x33e4&0x9c03+-0xf6ef*0x1+0xdaec,_0x31da9d=_0x5e03b8>>-0x17e1*-0x1+-0x1af1+-0x4*-0xc7&0xfd3+0x1*0x26d1+0x1*-0x2ea5;const _0x5e8a4f=_0x5e03b8>>-0x9f*0x3b+0x1841+0x9*0x163&-0xc6a+0xc7f*-0x1+0x19e8;return _0x5e8a4f<-0x1a7+0x1*-0x58f+0x79d?_0x120919:_0x5e8a4f>-0x69b*-0x1+0x205f*0x1+-0x266c?(_0x120919|=-0x78e*0xb+0x98dd+-0xad9*-0x5,_0x120919|=(_0x5e8a4f===-0x792+0x25ee+-0x1d5d?0x1511*0x1+-0x1d6b+0x85a:0x572+0x1*0x60b+-0xb7c)&&_0x5e03b8&0x5ad5c6+0xc9b7f*0x7+-0x331640,_0x120919):_0x5e8a4f<0x1*-0x156b+0x14f3+-0x1*-0xe9?(_0x31da9d|=0x3*-0x187+-0xf1+0x6c3*0x2,_0x120919|=(_0x31da9d>>0x841*-0x1+0x398+-0x51b*-0x1-_0x5e8a4f)+(_0x31da9d>>0x2586+-0x7*0xc7+-0x1fa4-_0x5e8a4f&0x1e3e+0x2*-0xfe0+0x183),_0x120919):(_0x120919|=_0x5e8a4f-(-0x115c+-0x35c*0x3+0x1be0)<<0xb*0x2d7+0x2061+0x3f94*-0x1|_0x31da9d>>0x1da3*0x1+0x1829+-0x35cb,_0x120919+=_0x31da9d&0x38*0xae+-0x170*-0xd+-0x38bf*0x1,_0x120919);},_0x3570a2=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x28555b=-0x1ee2*-0x1+0xe*0x67+-0x2484;_0x28555b<-0x1*-0x183d+-0x149f+-0x371;++_0x28555b)if(!_0x28fc4f['f_rest_'+_0x28555b])return _0x28555b;return 0x1*-0x2512+-0x1708+0x3c47;})())]??-0x1d9b+-0x5*-0x70d+-0x5a6),_0x3918f5=(_0x1cc55f,_0x4c0efd,_0x44a205)=>{const _0x671edf=!!_0x1cc55f['time_index'];_0x671edf||(_0x1cc55f['time_index']=new Float32Array(-0xab0+0x2*0x29c+0x578)),_0x20603e+=_0x1cc55f['x']['length']??0x686+-0x5ab*-0x4+-0x2*0xe99;const _0x4d78c1=Object['keys'](_0x1cc55f);for(let _0x21eb28=-0x289*-0xb+0x39*0x10+0x61*-0x53;_0x21eb28<_0x4d78c1['length'];_0x21eb28++){const _0x4c38bc=_0x4d78c1[_0x21eb28],_0x498c10=_0x1cc55f[_0x4c38bc],_0x40e4f0=_0x28fc4f[_0x4c38bc]??new Float32Array(0x28*0x2+0xf5a+-0xfaa);if(!_0x671edf&&_0x4c38bc==='time_index'){const _0x5823af=new Float32Array(_0x20603e);_0x5823af['fill'](_0x4c0efd),_0x5823af['set'](_0x40e4f0,0xf63+-0x6d5+0x92*-0xf),_0x28fc4f[_0x4c38bc]=_0x5823af;}else{if(!_0x671edf&&_0x498c10&&_0x4c38bc==='t'){const _0x34df6b=new Float32Array(_0x20603e);if(_0x34df6b['set'](_0x40e4f0,0x63f+-0x1994+-0x1*-0x1355),_0x44a205){for(let _0x438be0=_0x40e4f0['length'];_0x438be0<_0x20603e;_0x438be0++)_0x498c10[_0x438be0-_0x40e4f0['length']]>-(-0x1*-0x13c9+-0x1ea1*0x1+-0x1*-0xadd)?_0x34df6b[_0x438be0]=_0x498c10[_0x438be0-_0x40e4f0['length']]+_0x44a205[(-0x2083+0x19d+-0x56*-0x5c)*_0x4c0efd]:_0x34df6b[_0x438be0]=_0x498c10[_0x438be0-_0x40e4f0['length']];}_0x28fc4f[_0x4c38bc]=_0x34df6b;}else{if(_0x498c10){const _0x902e41=new Float32Array(_0x20603e);_0x902e41['set'](_0x40e4f0,-0x1a29+-0x112f+0x2b58),_0x902e41['set'](_0x498c10,_0x40e4f0['length']),_0x28fc4f[_0x4c38bc]=_0x902e41;}}}}const _0x4b2606={};Object['keys'](_0x28fc4f)['forEach'](_0x8540e9=>{_0x4b2606[_0x8540e9]=new Float32Array(_0x28fc4f[_0x8540e9]['buffer']['slice']());});const _0x2e0e07=Object['keys'](_0x4b2606)['map'](_0x310c54=>_0x4b2606[_0x310c54]['buffer']),_0x217d0e=_0x18d903(),_0x339751=Object['keys'](_0x217d0e)['map'](_0x101461=>_0x217d0e[_0x101461]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x4b2606,'transformData':_0x217d0e},_0x2e0e07['concat'](_0x339751));},_0x18d903=()=>{const _0xa0062c=_0x28fc4f['x']['length'],_0x42afe5=_0x28fc4f['x'],_0x53d22a=_0x28fc4f['y'],_0x33974a=_0x28fc4f['z'],_0x21d720=_0x28fc4f['scale_0'],_0x2f8083=_0x28fc4f['scale_1'],_0x5e3fd7=_0x28fc4f['scale_2'],_0x2c0fc8=_0x28fc4f['rot_1'],_0x32101e=_0x28fc4f['rot_2'],_0x945574=_0x28fc4f['rot_3'],_0x218ec3=_0x28fc4f['rot_0'],_0x5c59de=_0x28fc4f['motion_0'],_0x1f07b7=_0x28fc4f['motion_1'],_0x268e72=_0x28fc4f['motion_2'],_0x45401e=_0x28fc4f['t'],_0xd8a994=_0x28fc4f['t_scale'],_0xa6c506=_0x28fc4f['time_index'],_0x2ddff0=_0x28fc4f['f_dc_0'],_0x17a02e=_0x28fc4f['f_dc_1'],_0x6afa47=_0x28fc4f['f_dc_2'],_0x425590=_0x28fc4f['opacity'],_0x2fd94c=(_0x45401e==null?void(0x5b*0x1d+-0x10a0+0x651):_0x45401e['length'])>-0x167d+0x2f9*0x3+-0x243*-0x6,_0x5307ae=new Float32Array(_0xa0062c*(-0x1*-0x13f4+0x23cc+-0x37bd)),_0x37f7b5=new Float32Array(_0xa0062c*(0xa2c+-0xec*0x1+0x1d9*-0x5)),_0x197d03=new Uint16Array(_0xa0062c*(-0x1*0xd81+0x2453+0x16cf*-0x1)),_0x283072=new Float32Array(_0xa0062c*(0x16a1+0x437*-0x7+0x29*0x2b));let _0x58d190=null,_0x568a63=null,_0x414c6b=null,_0x26db86=null;_0x2fd94c&&(_0x58d190=new Float32Array(_0xa0062c*(-0x1995+0x19dd*-0x1+0x1127*0x3)),_0x568a63=new Float32Array(_0xa0062c*(-0x2b*0xd7+-0x1351+0x3771)),_0x414c6b=new Float32Array(_0xa0062c*(0x52*0x14+0x1ecd+0x211*-0x12)),_0x26db86=new Float32Array(_0xa0062c));const _0x1e89f4=new _0x176f5b(-0x1*-0x1731+0x13*0xf9+-0x29ac,0x1bc7+0x19d*0xb+0x16c3*-0x2,0x757*0x2+-0x2234+0x1386,0x1442+-0x3ff+-0x1*0x1043);let _0x329cc4=0xd42+0x14c5+-0x2207,_0x578c26=-0x5*0x4+0x8f*-0x1c+0xfb8,_0x2e2b4c=-0x18*-0xa+-0x18cf+0x17df,_0x49ad32=-0x1*0x13c7+0x648+0xd7f,_0x4b6ad3=0x5*0x53f+0x4e9+-0x1f24,_0x513126=0x1aa4+0xbbe*-0x1+0x1*-0xee6,_0x28f4cd=!(0x7cc+0x97*0x35+-0x270f);const _0x5e5733=new Float32Array(-0x1*0xc7a+0x1*-0xaf1+-0xbb7*-0x2),_0x298e8b=new Float32Array(0xce4+-0x556*0x7+0xb3*0x23),_0x328ce5=new Uint16Array(_0xa0062c*(-0x25*-0x107+0x2*-0x112+-0x23db)),_0x5af766=-0x1f9f*-0x1+0x4*-0x9aa+0x1*0x709+0.28209479177387814;for(let _0x5693ae=0x2b7*-0x6+0x1c3f+-0xbf5*0x1;_0x5693ae<_0xa0062c;++_0x5693ae){const _0x3cc6c3=_0x2ddff0[_0x5693ae]*_0x5af766+(-0x1b1*0x1+0x6*0x337+-0x1199+0.5),_0x59b3b3=_0x17a02e[_0x5693ae]*_0x5af766+(-0x1ac1+-0x4bd+0x1f7e+0.5),_0x598d3=_0x6afa47[_0x5693ae]*_0x5af766+(-0x1b9c+0x20c6+0x52a*-0x1+0.5),_0x405c79=_0x425590[_0x5693ae];_0x328ce5[_0x5693ae*(-0x38*-0xa7+0x2574+-0x49f8)+(-0x1*0x595+-0x27*-0xe9+0x2*-0xef5)]=_0x17c542(_0x3cc6c3),_0x328ce5[_0x5693ae*(0x1*0x1d51+0x35*0x3a+-0x19*0x1a7)+(-0x1605+0x1897+-0x1*0x291)]=_0x17c542(_0x59b3b3),_0x328ce5[_0x5693ae*(0x1*-0x25dc+0x6f0+0x1ef0)+(0x718*0x5+0x1*-0x653+0x1d23*-0x1)]=_0x17c542(_0x598d3),_0x328ce5[_0x5693ae*(-0x1913+-0x6a*-0x57+-0xaef)+(-0x127c+0x1178+0x1*0x107)]=_0x17c542(_0x405c79);const _0x155960=_0x42afe5[_0x5693ae],_0x3f4f9d=_0x53d22a[_0x5693ae],_0x5173e6=_0x33974a[_0x5693ae],_0x3c6de3=Math['max'](_0x21d720[_0x5693ae],_0x2f8083[_0x5693ae],_0x5e3fd7[_0x5693ae]);if(isFinite(_0x155960)&&isFinite(_0x3f4f9d)&&isFinite(_0x5173e6)&&isFinite(_0x3c6de3)){const _0x4d33de=(-0x1*-0x2033+-0xe3*-0xd+-0x577*0x8)*Math['exp'](_0x3c6de3);_0x28f4cd?(_0x28f4cd=!(0x6c4*0x1+-0xa*-0x102+-0x1*0x10d7),_0x329cc4=_0x155960-_0x4d33de,_0x578c26=_0x3f4f9d-_0x4d33de,_0x2e2b4c=_0x5173e6-_0x4d33de,_0x49ad32=_0x155960+_0x4d33de,_0x4b6ad3=_0x3f4f9d+_0x4d33de,_0x513126=_0x5173e6+_0x4d33de):(_0x329cc4=Math['min'](_0x329cc4,_0x155960-_0x4d33de),_0x578c26=Math['min'](_0x578c26,_0x3f4f9d-_0x4d33de),_0x2e2b4c=Math['min'](_0x2e2b4c,_0x5173e6-_0x4d33de),_0x49ad32=Math['max'](_0x49ad32,_0x155960+_0x4d33de),_0x4b6ad3=Math['max'](_0x4b6ad3,_0x3f4f9d+_0x4d33de),_0x513126=Math['max'](_0x513126,_0x5173e6+_0x4d33de));}_0x1e89f4['set'](_0x2c0fc8[_0x5693ae],_0x32101e[_0x5693ae],_0x945574[_0x5693ae],_0x218ec3[_0x5693ae]),_0x1e89f4['normalize'](),_0x1e89f4['w']<0x1105*0x1+0x1a16+0x89f*-0x5&&_0x1e89f4['mulScalar'](-(-0x67b+0x62f*0x4+0x124*-0x10)),_0x37f7b5[_0x5693ae*(-0xf44+-0x71b+0xa*0x23d)+(-0xf8c+-0x19b6+0x2942)]=_0x42afe5[_0x5693ae],_0x37f7b5[_0x5693ae*(-0x2531+-0x2*0xfe9+0x4506)+(-0x5*0x36a+0x10b*0x7+0x9c6)]=_0x53d22a[_0x5693ae],_0x37f7b5[_0x5693ae*(-0x2*-0xac7+-0x1f4d+0x9c2)+(-0xb3c+0x1e56+-0x1318)]=_0x33974a[_0x5693ae],_0x5307ae[_0x5693ae*(0x1*-0x1cf9+-0x125f*0x1+0x1c1*0x1b)+(-0x1f49+0x2*0x126e+-0x593)]=_0x42afe5[_0x5693ae],_0x5307ae[_0x5693ae*(0x77b+-0x193d+0x11c5)+(-0xe*0x133+-0x8bf*0x1+0x198a)]=_0x53d22a[_0x5693ae],_0x5307ae[_0x5693ae*(-0x20f2+0x18af+0x3*0x2c2)+(0x1983+0x23c0+-0x3d41)]=_0x33974a[_0x5693ae],_0x197d03[_0x5693ae*(0x36c+0x153e+0x18a7*-0x1)+(0x2ba+-0x1fe2+0x9b8*0x3)]=_0x17c542(Math['exp'](_0x21d720[_0x5693ae])),_0x197d03[_0x5693ae*(-0xc34+0xca0+-0x15*0x5)+(0x187e+-0x12c+-0x7f*0x2f)]=_0x17c542(Math['exp'](_0x2f8083[_0x5693ae])),_0x197d03[_0x5693ae*(-0xbd4+0x1*0x10c6+0x4ef*-0x1)+(-0x1*0x125+-0x208e+0x1*0x21b5)]=_0x17c542(Math['exp'](_0x5e3fd7[_0x5693ae])),_0x283072[_0x5693ae*(-0x1601+-0x17e6+0x2dea)+(-0x2290+0x65*-0x46+0x3e2e)]=_0x1e89f4['x'],_0x283072[_0x5693ae*(0x5*0x1eb+0x43*-0x83+0xb*0x23f)+(0x1654+-0x2*0x4c1+-0xcd1)]=_0x1e89f4['y'],_0x283072[_0x5693ae*(0xe89*0x1+0x1418+-0x229e)+(-0x8*-0x1d7+-0x13*-0xe3+-0x3*0xa85)]=_0x1e89f4['z'],_0x2fd94c&&_0x58d190&&_0x568a63&&_0x414c6b&&_0x26db86&&(_0x58d190[_0x5693ae*(-0x1a2f*0x1+-0x24e5*-0x1+-0x21*0x53)+(-0x49*-0x4f+0x2648*0x1+-0x3*0x1445)]=_0x5c59de[_0x5693ae],_0x58d190[_0x5693ae*(-0x233+0xd91+-0x1*0xb5b)+(-0xf1b+0x13b+0xde1)]=_0x1f07b7[_0x5693ae],_0x58d190[_0x5693ae*(-0x9*0x355+0x7d2+0x14e*0x11)+(0x1772*0x1+-0x27*0x49+-0xc51)]=_0x268e72[_0x5693ae],_0x414c6b[_0x5693ae*(-0xaeb*-0x2+-0x1b49+-0x576*-0x1)+(0x21af+0x1f06+-0x40b5)]=_0x5c59de[_0x5693ae],_0x414c6b[_0x5693ae*(0x361+-0x8*-0x419+-0x2426)+(-0xe9b*-0x2+0x1*-0xd9a+0x5*-0x31f)]=_0x1f07b7[_0x5693ae],_0x414c6b[_0x5693ae*(-0x188a+-0x2688+0x903*0x7)+(0x7b+-0x69e*0x5+0x209d)]=_0x268e72[_0x5693ae],_0x26db86[_0x5693ae]=_0xd8a994?Math['exp'](_0xd8a994[_0x5693ae]):0x5*-0x33d+0x49*0x6d+-0xee4,_0x568a63[_0x5693ae*(0xe3*-0x3+-0x195f+0x1*0x1c0b)+(0x22fc+-0xc3c*-0x1+-0x2f38)]=_0x45401e?_0x45401e[_0x5693ae]:0x1e3e+0x20ce*0x1+-0x3f0c,_0x568a63[_0x5693ae*(-0x10d*-0x6+-0x1*-0x12c4+-0x190f)+(0xc+0xa75*-0x2+-0x27*-0x89)]=_0x26db86[_0x5693ae]);}_0x28f4cd||(_0x5e5733[-0x227b+0x8bc+-0x3*-0x895]=(_0x329cc4+_0x49ad32)*(0x2*0x647+0x1a17*-0x1+-0xf*-0xe7+0.5),_0x5e5733[-0x7a8+0x61*-0x61+0xf*0x2f6]=(_0x578c26+_0x4b6ad3)*(-0x2053*0x1+-0x932+0xdd7*0x3+0.5),_0x5e5733[-0x130*-0x1+0xa78+-0xba6]=(_0x2e2b4c+_0x513126)*(0x7fc+-0x5*-0x4fd+-0x20ed+0.5),_0x298e8b[-0x189f+0x44b+-0x4*-0x515]=(_0x49ad32-_0x329cc4)*(0x196+0x10*0x22+-0x3b6+0.5),_0x298e8b[-0x88b*-0x1+0xe82*0x1+-0x170c]=(_0x4b6ad3-_0x578c26)*(-0x1117+0x1d41+-0xc2a+0.5),_0x298e8b[-0x5*0x30d+0x3b5+0xb8e]=(_0x513126-_0x2e2b4c)*(-0x1*0x319+0x2*0x2f+0x2bb+0.5));const _0x3c2fca=_0x1839cf();let _0x84a275={'dataColor':_0x328ce5,'center':_0x5e5733,'halfExtents':_0x298e8b,'dataCenters':_0x5307ae,'dataPosition':_0x37f7b5,'dataScale':_0x197d03,'dataRotation':_0x283072,..._0x3c2fca};return _0x2fd94c&&(_0x84a275={..._0x84a275,'dataMotion':_0x58d190,'dataTime':_0x568a63,'motion':_0x414c6b,'tScaleArray':_0x26db86,'muT':new Float32Array(_0x45401e),'timeIndex':new Float32Array(_0xa6c506)}),_0x84a275;},_0x3e6bc0=_0x3ceb47=>{const _0x777a15=[];for(let _0x1ba9d5=-0x18c6+-0x218*0x8+0xa*0x427;_0x1ba9d5<_0x3ceb47;++_0x1ba9d5)_0x777a15['push'](_0x28fc4f['f_rest_'+_0x1ba9d5]);return _0x777a15;},_0x1839cf=()=>{const _0x37834a=_0x3570a2();if(_0x37834a<=0xc95*-0x2+0xc2c+0xcfe)return{};const _0x45c931=_0x28fc4f['x']['length'],_0x30a76e=new Uint32Array(_0x45c931*(-0x17de+-0x26a8+-0x1*-0x3e8a)),_0xe9b573=new Uint32Array(_0x45c931*(0x1a7*0x10+0x1*-0x1523+0x1*-0x549)),_0x4a48a2=new Uint32Array(_0x45c931*(-0x1e06+0x1ca2+-0xf*-0x18)),_0x3381f8=new Uint32Array(_0x45c931*(0x3ac+0x17*-0x81+-0x2a5*-0x3)),_0x640629={0x1:0x3,0x2:0x8,0x3:0xf}[_0x37834a],_0x64850=_0x3e6bc0(_0x640629*(0x379+-0x81d*0x1+0x4a7)),_0x50a4c2=0x15e7+-0x353*-0x7+0x1*-0x252d,_0x55ea99=-0x2*-0xfb3+0x5*0x57d+-0x36d8,_0x4272c0=new Float32Array(-0x1571+-0x1a73+0xb7*0x43),_0x3d7804=new Uint32Array(_0x4272c0['buffer']),_0x35da19=new Array(_0x640629*(0x2084+-0x115*0x1f+0xe*0x13))['fill'](0xfe0+-0x4e9+-0xaf7);for(let _0x103f0e=-0x25c*0x4+0x2cf*0x1+0x6a1;_0x103f0e<_0x45c931;++_0x103f0e){for(let _0x1679bd=-0x5*0x695+0x1*-0x225c+0x4345;_0x1679bd<_0x640629;++_0x1679bd)_0x35da19[_0x1679bd*(0x260*-0x5+-0x1*-0x171d+-0x3*0x3be)]=_0x64850[_0x1679bd][_0x103f0e],_0x35da19[_0x1679bd*(0x7b4+0x1b63+0x118a*-0x2)+(-0x1b74+-0x14fe+-0x1*-0x3073)]=_0x64850[_0x1679bd+_0x640629][_0x103f0e],_0x35da19[_0x1679bd*(0x1596+0x1*-0x92b+-0x8*0x18d)+(-0x9be+-0x1257+-0x31f*-0x9)]=_0x64850[_0x1679bd+_0x640629*(0x2*-0x941+-0x27+0x12ab)][_0x103f0e];let _0x34a98d=_0x35da19[0x2299*0x1+0x2*0xe4e+0x1*-0x3f35];for(let _0x339bc4=-0x4e5+0x1f7c+0x1a96*-0x1;_0x339bc4<_0x640629*(-0x10*0x101+-0x54*-0x72+-0x1555);++_0x339bc4)_0x34a98d=Math['max'](_0x34a98d,Math['abs'](_0x35da19[_0x339bc4]));if(_0x34a98d!==-0x1*-0x1463+0x629*-0x6+0x1093){for(let _0x4612f3=-0x7d4+0x107*-0x1d+0x259f;_0x4612f3<_0x640629;++_0x4612f3)_0x35da19[_0x4612f3*(0x6f1*0x2+-0x71*-0x21+-0x1c70)+(0x11db*-0x1+-0x258a+0x1277*0x3)]=Math['max'](0x1*-0x211d+0x136b+0xdb2,Math['min'](_0x50a4c2,Math['floor']((_0x35da19[_0x4612f3*(0x126e+0x1cbe+0x2f29*-0x1)+(-0x2*-0xb78+0x1efd+-0x35ed)]/_0x34a98d*(0x2453+-0x554+-0x1eff+0.5)+(0x3aa+-0x18*0xbf+0xe3e+0.5))*_0x50a4c2+(0xa3c+0x8d9+0x1315*-0x1+0.5)))),_0x35da19[_0x4612f3*(-0x19f2+0x20e3+0x1*-0x6ee)+(-0xcaa+-0x269*0x2+-0x1*-0x117d)]=Math['max'](0x3*0xa13+0x1c96*0x1+-0x3acf,Math['min'](_0x55ea99,Math['floor']((_0x35da19[_0x4612f3*(-0x17ad+-0x3f1*-0x7+-0x3e7)+(-0xe9b+-0xab*0x29+0x29ff*0x1)]/_0x34a98d*(0xf8*0x13+0x1112+0x1de*-0x13+0.5)+(-0x18e*0x2+-0x1d06*0x1+0x12*0x1c9+0.5))*_0x55ea99+(0x847+0x4*0x905+0x8df*-0x5+0.5)))),_0x35da19[_0x4612f3*(-0xc*0x13+0x98b*-0x3+-0xc*-0x276)+(-0x167*-0x11+0x16f*0x11+-0x5*0x9a4)]=Math['max'](0x1019+-0x4*-0x9b1+-0x36dd,Math['min'](_0x50a4c2,Math['floor']((_0x35da19[_0x4612f3*(-0x1536+0xb32*-0x2+0x2b9d)+(-0xb0b*-0x3+-0x521*0x2+-0x79f*0x3)]/_0x34a98d*(-0x4*0x40f+0x2245+0x3*-0x603+0.5)+(0xe06+0xf12*-0x1+0x10c+0.5))*_0x50a4c2+(-0x265a+-0x15*0x10b+-0x3c41*-0x1+0.5))));_0x4272c0[-0xf1*0xd+0x6d3*0x4+0xf0f*-0x1]=_0x34a98d,_0x30a76e[_0x103f0e*(-0x2383+0x1*0x4dd+0x1eaa)+(-0x1479+-0x9c*0x1a+-0x2451*-0x1)]=_0x3d7804[0xfd4*0x1+-0x44f*0x1+-0xb85],_0x30a76e[_0x103f0e*(0x2f9*0xa+-0x1*-0x14e7+-0x10df*0x3)+(-0xb4*0xb+0x1de*-0x6+0x12f1)]=_0x35da19[-0xef0+0x308+0xbe8]<<-0x297+-0x229*-0xb+-0x1517|_0x35da19[0x5cc+0x158*0x1+0x7*-0x105]<<-0x1733*0x1+0x13d*-0x8+0x2126*0x1|_0x35da19[-0x23f5+0x2004+0x1*0x3f3],_0x30a76e[_0x103f0e*(0xd79+0x67*-0x24+0x107)+(-0x18*-0x160+0x7f1+-0x28ef)]=_0x35da19[0xb87+-0x265c+0x1ad8]<<0x2*-0xce3+-0x12b8+-0x2c93*-0x1|_0x35da19[-0x1*0x26e1+0x1122+0x15c3]<<0x13*-0x18b+0x7b1+0x2b*0x81|_0x35da19[-0x230b+-0xcbf+0x2fcf],_0x30a76e[_0x103f0e*(-0x38+0x1e4+-0x35*0x8)+(-0xfd5+-0x41f+0x13f7*0x1)]=_0x35da19[-0x1d3*0x10+0x1da3+-0x1*0x6d]<<0xe21+-0x1166+-0x4e*-0xb|_0x35da19[-0x1169+-0x5*0x1bb+0x1a17]<<-0x9fa+-0x5*-0x1d3+0xe6|_0x35da19[-0x10e4+-0xad5+0x1bc1],_0x37834a>-0x2*-0x982+0x2607+-0x390a&&(_0xe9b573[_0x103f0e*(-0x1*0x2347+0x1149+0x901*0x2)+(0x1b36+0x226d+-0x3da3)]=_0x35da19[0x1eef*-0x1+-0x1b29+-0x287*-0x17]<<-0x1d50+-0x88e+0x25f3|_0x35da19[-0x1718*0x1+0x1d22+-0x600]<<-0x2504+0x25*-0x22+-0x133*-0x23|_0x35da19[0x1256+0xf2a+-0x2175],_0xe9b573[_0x103f0e*(0xa*-0x25f+-0x2497+0x3c51)+(-0x79*-0xd+0x1e5b+-0x247f)]=_0x35da19[-0x1fa7+-0x13*-0x209+0x2*-0x37c]<<0x1*0x1a3b+-0x118c+-0x89a|_0x35da19[0x178a*-0x1+-0x1afb*-0x1+0x3e*-0xe]<<-0x1979+0x194a+0x3a|_0x35da19[-0x1f*-0x3d+0x250a+-0x2c5f],_0xe9b573[_0x103f0e*(-0x51+-0x42*-0x58+0x61*-0x3b)+(0x198a+-0x3d7+-0x15b1)]=_0x35da19[-0x8d1*-0x1+-0x5e9*-0x3+-0x1a7d]<<-0x10*0x1cf+-0x1331+0x3036|_0x35da19[0x3*0x5df+0x1e78+-0x13*0x287]<<-0x1*0x1d24+-0x301*0x8+0x3537|_0x35da19[0x811+0x1a44+0x204*-0x11],_0xe9b573[_0x103f0e*(0x92*0x14+-0x47*0x36+0x396)+(-0x13e1+0x69f+0x2b*0x4f)]=_0x35da19[-0x2*-0xf45+0xa90+-0x1a*0x194]<<0x1272+-0x471*-0x4+0x3*-0xc0b|_0x35da19[0x13bd+0xfcb*0x1+-0x2375]<<0xd*0x1fd+0xda6*0x2+0x7*-0x796|_0x35da19[0xf32+0x1d08+0x1*-0x2c26],_0x37834a>0x2593+-0x6c7*0x1+-0x2*0xf65?(_0x4a48a2[_0x103f0e*(0x1fc6+0x2*-0x47+-0x1f34)+(0x1121*-0x2+-0x25d*0x1+0x249f)]=_0x35da19[0x342*-0x8+-0x4*-0x119+0x15c1*0x1]<<-0x153b+0x5*0x71e+-0xe46|_0x35da19[-0x14d7+0x2f0+-0x133*-0xf]<<-0xa*-0xb4+0x1*0x16d+-0x435*0x2|_0x35da19[-0x24ab+0xb0e+0x1*0x19b4],_0x4a48a2[_0x103f0e*(-0x5a8+0x22d5+0x1d29*-0x1)+(0x1*0x21eb+0x6d6+-0x28c0)]=_0x35da19[0x9eb*0x3+0x131f*0x2+-0x43e7]<<0x20af+0x14be+-0x11c8*0x3|_0x35da19[-0x2*0xb96+-0x137d+0x1a5*0x1a]<<-0x233d*-0x1+0x18ca+0x1dfe*-0x2|_0x35da19[0x8f*0x22+-0x9e*0x14+-0x68c],_0x4a48a2[_0x103f0e*(-0x15a6+0x183f+-0x295)+(0x27*0xcf+-0x9b6+-0x15d1)]=_0x35da19[0x6*-0x106+-0x3*-0x48d+0x4f*-0x18]<<0x5*-0x1bc+-0x2*0xedb+0x2b*0xe5|_0x35da19[-0x15d*-0xb+-0x17cd+0x8ea*0x1]<<0x39*-0x44+0xbe7+0x1*0x348|_0x35da19[0x1f5c+-0xe*-0x18d+-0x34f5*0x1],_0x4a48a2[_0x103f0e*(-0x2390+0xa8d+-0x1*-0x1907)+(0xc6*-0x20+0x159+0x176a)]=_0x35da19[-0x4f9+-0x1*0x1535+0x1a4c]<<0x2424+-0x326+-0x20e9|_0x35da19[0xdc0+0x10f*0xc+-0x3c3*0x7]<<-0x170d+-0x5*-0x20c+-0x2*-0x66e|_0x35da19[0x1*0x1d24+-0xd00+-0x1004],_0x3381f8[_0x103f0e*(0xba+0x11e1+0x1*-0x1297)+(0x1795*-0x1+0x1*0xeca+0x8cb*0x1)]=_0x35da19[-0x26d3+0x23bc+-0x1*-0x338]<<0x2054+0x1086+-0x30c5|_0x35da19[-0x1*-0x1d3f+0x3*0x169+-0x2158]<<-0x109*-0x14+-0x11*0x100+-0x3a9|_0x35da19[0x1c04+-0x33f*-0x2+-0x1*0x225f],_0x3381f8[_0x103f0e*(-0x400*0x3+-0x16*0x18e+-0x5c7*-0x8)+(0x2*-0x482+-0x9*0x1+0x90e)]=_0x35da19[0x10a1+-0xb*0x117+-0x480]<<-0x1*0x2012+-0x357*0x1+-0x9a*-0x3b|_0x35da19[-0x8f9+-0x309+-0x33*-0x3d]<<-0x1fd7+0x1d2+0x1e10|_0x35da19[0x3a9*-0x9+-0x1d40+0x1*0x3e57],_0x3381f8[_0x103f0e*(-0x25*0x2b+-0x1090+-0x799*-0x3)+(0x17a1+-0x853*0x2+-0x33*0x23)]=_0x35da19[0x1d4c+0x3*-0x58c+-0xc81]<<-0x1*-0x1d21+-0x1*-0x15c8+-0x196a*0x2|_0x35da19[-0x2609+0x1c82+0x9af]<<-0xb*-0x38a+-0x1*-0x935+-0x36*0xe4|_0x35da19[0x3d6*-0x3+0x117*-0x1f+0x2d74],_0x3381f8[_0x103f0e*(-0x6*0x3bf+0x1*-0xc79+-0x1*-0x22f7)+(0x8bd+-0x26c7+0x1e0d)]=_0x35da19[0x26d8+0x35*-0x81+-0x1*0xbf9]<<0x1*0x836+-0x2382+0x2b*0xa3|_0x35da19[0x823+-0x6a*-0x5b+-0x2da6]<<-0x177f*0x1+-0x20a*-0x2+-0x1*-0x1376|_0x35da19[0xa*-0xc5+0x1a90+-0x12b2]):_0x4a48a2[_0x103f0e]=_0x35da19[0x611+-0x2695+0x2099]<<-0x1*0xf89+-0xf*-0x1b9+-0x1*0xa39|_0x35da19[0x8fe+-0x116+0x5b*-0x16]<<-0x1*0xb15+0x3b7+0x769|_0x35da19[-0x1b8e+-0x2200+-0x2b*-0x16f]);}}return{'sh1to3Data':_0x30a76e,'sh4to7Data':_0xe9b573,'sh8to11Data':_0x4a48a2,'sh12to15Data':_0x3381f8};},_0x4d0a48=_0x1127e3=>{if(!_0x28fc4f['time_index'])return;const _0x320e14=_0x28fc4f['time_index']['findIndex'](_0x1490c0=>_0x1490c0===_0x1127e3);let _0x58eb5a=_0x28fc4f['time_index']['findIndex']((_0x325f1a,_0x36dbff)=>_0x325f1a!==_0x1127e3&&_0x36dbff>_0x320e14);if(_0x58eb5a===-(0x239b*0x1+0x193b+0x3*-0x1447)&&_0x320e14===-(0x2142+-0x25b6+0xa3*0x7))return;_0x58eb5a===-(-0x1594+-0x2554+0x1*0x3ae9)&&_0x320e14!==-(-0x1d96+0x2*0x79d+-0x1*-0xe5d)&&(_0x58eb5a=_0x28fc4f['time_index']['length']),_0x20603e-=_0x58eb5a-_0x320e14;const _0x15880e=Object['keys'](_0x28fc4f);for(let _0x4927c9=-0x3e8+-0x11cc+0x15b4;_0x4927c9<_0x15880e['length'];_0x4927c9++){const _0x147f3a=_0x15880e[_0x4927c9],_0x32fdbd=_0x28fc4f[_0x147f3a];if(_0x32fdbd){const _0x1ba6b9=new Float32Array(_0x20603e);_0x320e14>-0xb14*-0x2+-0x1f2a*-0x1+-0x3552?(_0x1ba6b9['set'](_0x32fdbd['subarray'](0x8d0+-0x16e+-0x762,_0x320e14),0x6ca+0x20fb*-0x1+0x1a31*0x1),_0x1ba6b9['set'](_0x32fdbd['subarray'](_0x58eb5a),_0x320e14)):_0x1ba6b9['set'](_0x32fdbd['subarray'](_0x58eb5a),-0x1*0x327+-0x1201+-0x54a*-0x4),_0x28fc4f[_0x147f3a]=_0x1ba6b9;}}},_0x42ea95=()=>{const _0x3214ba=Object['keys'](_0x28fc4f);for(let _0x3462ca=0x10c1+0x17f*0x1a+-0x37a7;_0x3462ca<_0x3214ba['length'];_0x3462ca++){const _0x5c6b3e=_0x3214ba[_0x3462ca];_0x28fc4f[_0x5c6b3e]&&(_0x28fc4f[_0x5c6b3e]=[]);}},_0x32ce35=()=>{_0x28fc4f={},_0x20603e=0xf27+0x1991+0x145c*-0x2;};}class YA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+jA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0x5d64a5,_0x51a17d,_0xfebd8b,_0x28af59=!(0xbe*-0x28+-0x1548+-0x1*-0x32f9)){var _0x6463ba,_0xbadc15;const _0x8d6cf9={};return _0x5d64a5['elements'][-0xd09*0x2+0x1196+-0x87c*-0x1]['properties']['forEach'](_0x1972af=>{_0x8d6cf9[_0x1972af['name']]=_0x1972af['storage'];}),_0x28af59?(_0x6463ba=this['worker'])==null||_0x6463ba['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x8d6cf9,'timeIndex':_0x51a17d,'timeOption':_0xfebd8b},_0x5d64a5['elements'][0x1961+0x1faa+-0x390b]['properties']['map'](_0x46c3f6=>_0x46c3f6['storage']['buffer'])):(_0xbadc15=this['worker'])==null||_0xbadc15['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x8d6cf9,'timeIndex':_0x51a17d,'timeOption':_0xfebd8b}),new Promise(_0x461f4b=>{this['worker']['onmessage']=_0x2bd701=>{if(!this['worker'])return;const {data:_0x93ea8}=_0x2bd701;_0x93ea8['type']==='newAppendD'+'ata'&&_0x461f4b(_0x93ea8);};});}async['releaseSeq'+'Data'](_0x1a3727){var _0x4ad474;(_0x4ad474=this['worker'])==null||_0x4ad474['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x1a3727});}async['releaseAll'+'SeqData'](){var _0x37f8ab;(_0x37f8ab=this['worker'])==null||_0x37f8ab['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x2c00a1;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x2c00a1=this['worker'])==null||_0x2c00a1['terminate'](),this['worker']=null);}}const za=new te(),pg=new le(),yf=new De(),mg=new De(),KA=new ie(0x781+-0x9*0x16b+-0x3*-0x1c1,0x761*-0x5+0x11*-0x5+0x253b,0x1391*0x1+0x243*-0x2+-0xf0b,-0x1556+0x1e67+-0x911+0.4),vf=-0x850+0xa3*-0x1b+0x1*0x1981+0.28209479177387814,xf=0x4c27b*-0x1+-0x2bbd8+-0x49*-0x24fb;let ZA=class{constructor(_0x2511aa,_0x37b72e,_0x4b64db,_0x1568c4,_0x57b258,_0x43be29){const _0x233e56=_0x2511aa['getProp']('x'),_0xad524=_0x2511aa['getProp']('y'),_0x2064df=_0x2511aa['getProp']('z'),_0x3e966b=_0x2511aa['getProp']('rot_1'),_0x111154=_0x2511aa['getProp']('rot_2'),_0x1419d9=_0x2511aa['getProp']('rot_3'),_0x4ee17a=_0x2511aa['getProp']('rot_0'),_0x511331=_0x2511aa['getProp']('motion_0'),_0x4d337a=_0x2511aa['getProp']('motion_1'),_0x34a804=_0x2511aa['getProp']('motion_2'),_0x3ce7dc=_0x2511aa['getProp']('scale_0'),_0x1bf788=_0x2511aa['getProp']('scale_1'),_0x582f30=_0x2511aa['getProp']('scale_2'),_0x2b9b26=_0x2511aa['getProp']('f_dc_0'),_0xf54579=_0x2511aa['getProp']('f_dc_1'),_0x5192ac=_0x2511aa['getProp']('f_dc_2'),_0x5ca9f1=_0x2511aa['getProp']('opacity');this['read']=_0x16e23c=>{_0x37b72e&&(_0x37b72e['x']=_0x233e56[_0x16e23c],_0x37b72e['y']=_0xad524[_0x16e23c],_0x37b72e['z']=_0x2064df[_0x16e23c]),_0x4b64db&&_0x4b64db['set'](_0x3e966b[_0x16e23c],_0x111154[_0x16e23c],_0x1419d9[_0x16e23c],_0x4ee17a[_0x16e23c]),_0x1568c4&&_0x1568c4['set'](Math['exp'](_0x3ce7dc[_0x16e23c]),Math['exp'](_0x1bf788[_0x16e23c]),Math['exp'](_0x582f30[_0x16e23c])),_0x43be29&&_0x511331&&_0x43be29['set'](_0x511331[_0x16e23c],_0x4d337a[_0x16e23c],_0x34a804[_0x16e23c]),_0x57b258&&_0x57b258['set'](-0xedd+-0x25fd+0x2*0x1a6d+0.5+_0x2b9b26[_0x16e23c]*vf,-0xc9*-0xd+-0x2*-0xa75+-0x1f1f*0x1+0.5+_0xf54579[_0x16e23c]*vf,-0xd4f+-0x19ab+0x26fa+0.5+_0x5192ac[_0x16e23c]*vf,_0x5ca9f1[_0x16e23c]);};}};const _g=(_0x5c7139,_0x4f252a,_0x1c9a7b)=>{pg['set'](_0x1c9a7b['x'],_0x1c9a7b['y'],_0x1c9a7b['z'],_0x1c9a7b['w'])['normalize'](),_0x5c7139['setTRS'](_0x4f252a,pg,D['ONE']);};class qn{constructor(_0x16f1ba,_0x34e7f9=[]){h(this,'elements'),h(this,'numSplats',-0x21f1+0xc11+0x15e0),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0x1c19cf;(_0x1c19cf=this['dataWorker'])==null||_0x1c19cf['destroy'](),this['dataWorker']=null;});var _0x173d79,_0x3e6c07,_0x3ddc89;this['elements']=_0x16f1ba,this['numSplats']=((_0x173d79=this['getElement']('vertex'))==null?void(0x1581+0x11*-0x108+-0x3f9):_0x173d79['count'])??-0x1*-0x891+0x1*-0x30b+0x1*-0x586,this['comments']=_0x34e7f9,this['is4D']=!!((_0x3ddc89=(_0x3e6c07=this['getElement']('vertex'))==null?void(-0xd*-0x1c1+0x22cb+0x2*-0x1ccc):_0x3e6c07['properties']['find'](_0x1fe98a=>_0x1fe98a['name']==='t'))!=null&&_0x3ddc89['storage']);}async['appendGSpl'+'atData'](_0x31e86f,_0x2b2e4b,_0x3f07a9){var _0x2e828e;let _0x207992=-0x2c*-0x4a+-0xe1e+-0x1*-0x166;for(let _0x28e2b4=-0x11*-0x9d+-0x1462+0x9f5*0x1;_0x28e2b4<_0x3f07a9['length']&&_0x2b2e4b>_0x3f07a9[_0x28e2b4];_0x28e2b4+=0x1*-0xedb+0x11b1*0x1+-0x2d4)_0x207992=_0x28e2b4/(-0x2*0xbfb+0x11b4+0x644);console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData',_0x207992),this['dataWorker']||(this['dataWorker']=new YA(),await this['dataWorker']['appendGSpl'+'atData'](this,-0x2f*-0xbd+-0x517*0x3+0x9b7*-0x2,_0x3f07a9));const _0xa2a5d3=this['getElement']('vertex');_0xa2a5d3&&(_0xa2a5d3['count']=this['numSplats']);const _0xaac5e=await this['dataWorker']['appendGSpl'+'atData'](_0x31e86f,_0x207992,_0x3f07a9,!(-0x1*-0x26cb+0xe28*-0x1+0x173*-0x11)),_0x483e79=_0xaac5e['properties'],_0x327fbe=((_0x2e828e=this['getElement']('vertex'))==null?void(0x132e+-0x1*0x104f+0x69*-0x7):_0x2e828e['properties'])??[];for(const _0x59b2f7 in _0x483e79){const _0x3cd6a3=_0x327fbe['find'](_0x16ad30=>_0x16ad30['name']===_0x59b2f7);_0x3cd6a3?_0x3cd6a3['storage']=_0x483e79[_0x59b2f7]:_0x327fbe['push']({'type':'float','name':_0x59b2f7,'storage':_0x483e79[_0x59b2f7],'byteSize':0x4});}this['transformD'+'ata']=_0xaac5e['transformD'+'ata'],this['numSplats']=_0x483e79['x']['length'],console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData\x20nu'+'mSplats',this['numSplats']);}async['releaseSeq'+'Data'](_0x1a9910){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20releaseSe'+'qData',_0x1a9910),this['dataWorker']['releaseSeq'+'Data'](_0x1a9910),this;}async['releaseAll'+'SeqData'](){var _0x550d44;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20release\x20a'+'ll\x20SeqData'),(_0x550d44=this['dataWorker'])==null||_0x550d44['releaseAll'+'SeqData'](),this;}static['calcSplatA'+'abb'](_0x4c1471,_0x911bd0,_0x538971,_0x536593){_g(za,_0x911bd0,_0x538971),yf['center']['set'](-0x1*0x5c5+0xb*0xc7+-0x2c8,-0x2207*0x1+-0x1952+-0x1*-0x3b59,-0x7c9*0x5+-0x5b2+-0x2c9f*-0x1),yf['halfExtent'+'s']['set'](_0x536593['x']*(-0x833*-0x3+0x13a3+-0x2c3a),_0x536593['y']*(0x5c4+0xe4e+0x282*-0x8),_0x536593['z']*(-0xa32+-0x1ee*0x6+0x22*0xa4)),_0x4c1471['setFromTra'+'nsformedAa'+'bb'](yf,za);}['getProp'](_0x2abee7,_0x301c28='vertex'){var _0x577c7b,_0x4fb068;return(_0x4fb068=(_0x577c7b=this['getElement'](_0x301c28))==null?void(0x188d+0x3*0x53+-0x1986):_0x577c7b['properties']['find'](_0x4c47f7=>_0x4c47f7['name']===_0x2abee7))==null?void(-0x1d9d+0x2305+-0x568):_0x4fb068['storage'];}['getElement'](_0x40e488){return this['elements']['find'](_0x3a27bb=>_0x3a27bb['name']===_0x40e488);}['addProp'](_0x58c14c,_0x598baf){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x58c14c,'storage':_0x598baf,'byteSize':0x4});}['createIter'](_0x29be8f,_0x175c84,_0x311aa5,_0x2eb933,_0x461d92){return new ZA(this,_0x29be8f,_0x175c84,_0x311aa5,_0x2eb933,_0x461d92);}async['calcAabbAs'+'ync'](_0x5e7426,_0xfb3b2d){var _0x51c057,_0x1a272e;if((_0x51c057=this['transformD'+'ata'])!=null&&_0x51c057['center']&&((_0x1a272e=this['transformD'+'ata'])!=null&&_0x1a272e['halfExtent'+'s'])){_0x5e7426['center']['set'](this['transformD'+'ata']['center'][-0x1632+-0xfbd+0x25ef],this['transformD'+'ata']['center'][0x26e3+-0x267b*-0x1+-0x4d5d],this['transformD'+'ata']['center'][0x1*0x623+0x30*-0x99+0x168f]),_0x5e7426['halfExtent'+'s']['set'](this['transformD'+'ata']['halfExtent'+'s'][-0x34*0x44+0x21b9*-0x1+0x1*0x2f89],this['transformD'+'ata']['halfExtent'+'s'][-0x1*-0x568+-0x1f97+0x1a30],this['transformD'+'ata']['halfExtent'+'s'][-0x10d8*-0x2+0x25b+-0x2409]);return;}const _0x24ce70=this['getProp']('x'),_0x4e7bc0=this['getProp']('y'),_0x30e104=this['getProp']('z'),_0x317f09=this['getProp']('scale_0'),_0x4aa0b2=this['getProp']('scale_1'),_0x370f02=this['getProp']('scale_2'),_0x438454=await(_0xfb3b2d==null?void(-0x1*-0x1fed+-0x23de+0x3f1*0x1):_0xfb3b2d['calcAabb'](this['numSplats'],_0x24ce70,_0x4e7bc0,_0x30e104,_0x317f09,_0x4aa0b2,_0x370f02));_0x5e7426['center']['set'](_0x438454['center'][-0xc3f+-0x3f*-0x3a+0x207*-0x1],_0x438454['center'][0x61*-0x46+0x1d2*0x2+0x7a1*0x3],_0x438454['center'][-0x1123+-0x121f*-0x2+-0x1319]),_0x5e7426['halfExtent'+'s']['set'](_0x438454['halfExtent'+'s'][-0x6a6+0x448*-0x4+0x17c6],_0x438454['halfExtent'+'s'][-0x5c*0x5+0xa*0x3d2+-0x2467],_0x438454['halfExtent'+'s'][0x8*0x30a+0x17b1+-0x2fff]);}['calcAabb'](_0x1d90ed,_0x198dc1){let _0x5d5f41,_0xb3cf9e,_0x450029,_0x29cdfc,_0x17940b,_0x49ba8e,_0x4c7a0c=!(-0x14a7+-0x1499*0x1+0x2940);const _0x442275=this['getProp']('x'),_0x4910b9=this['getProp']('y'),_0x50dfd3=this['getProp']('z'),_0x35133b=this['getProp']('scale_0'),_0x19ad87=this['getProp']('scale_1'),_0x39f0d2=this['getProp']('scale_2');for(let _0x107b20=0x1853+0xdf2+0x1*-0x2645;_0x107b20<this['numSplats'];++_0x107b20){if(_0x198dc1&&!_0x198dc1(_0x107b20))continue;const _0x44a24f=_0x442275[_0x107b20],_0x3bebc2=_0x4910b9[_0x107b20],_0x32c82f=_0x50dfd3[_0x107b20],_0x3a5a84=Math['max'](_0x35133b[_0x107b20],_0x19ad87[_0x107b20],_0x39f0d2[_0x107b20]);if(!isFinite(_0x44a24f)||!isFinite(_0x3bebc2)||!isFinite(_0x32c82f)||!isFinite(_0x3a5a84))continue;const _0x2d0fe3=(0x2ef+-0xa8*0x4+-0x1*0x4d)*Math['exp'](_0x3a5a84);_0x4c7a0c?(_0x4c7a0c=!(0x22ab+0x2*-0x67a+-0x18d*0xe),_0x5d5f41=_0x44a24f-_0x2d0fe3,_0xb3cf9e=_0x3bebc2-_0x2d0fe3,_0x450029=_0x32c82f-_0x2d0fe3,_0x29cdfc=_0x44a24f+_0x2d0fe3,_0x17940b=_0x3bebc2+_0x2d0fe3,_0x49ba8e=_0x32c82f+_0x2d0fe3):(_0x5d5f41=Math['min'](_0x5d5f41,_0x44a24f-_0x2d0fe3),_0xb3cf9e=Math['min'](_0xb3cf9e,_0x3bebc2-_0x2d0fe3),_0x450029=Math['min'](_0x450029,_0x32c82f-_0x2d0fe3),_0x29cdfc=Math['max'](_0x29cdfc,_0x44a24f+_0x2d0fe3),_0x17940b=Math['max'](_0x17940b,_0x3bebc2+_0x2d0fe3),_0x49ba8e=Math['max'](_0x49ba8e,_0x32c82f+_0x2d0fe3));}return _0x4c7a0c||(_0x1d90ed['center']['set']((_0x5d5f41+_0x29cdfc)*(0x999*-0x3+-0x2666+-0xa7*-0x67+0.5),(_0xb3cf9e+_0x17940b)*(-0x1*-0x75d+-0x2f*0x51+-0x1*-0x782+0.5),(_0x450029+_0x49ba8e)*(0x1c61+-0x1cd7*-0x1+-0x3938+0.5)),_0x1d90ed['halfExtent'+'s']['set']((_0x29cdfc-_0x5d5f41)*(-0x269f+-0xe6e+0x1b*0x1f7+0.5),(_0x17940b-_0xb3cf9e)*(-0x597*0x3+-0x15be+0x2683+0.5),(_0x49ba8e-_0x450029)*(0x1*0x1214+0x14e0+-0x9bd*0x4+0.5))),!_0x4c7a0c;}['yieldToMai'+'n'](){var _0x673625;return(_0x673625=globalThis['scheduler'])!=null&&_0x673625['yield']?globalThis['scheduler']['yield']():new Promise(_0x35290a=>{setTimeout(_0x35290a,-0xf50+0x475*0x2+0x666);});}['calcAabbEx'+'act'](_0x1777e2,_0x131cfe){const _0x2e3046=new D(),_0x35baf3=new le(),_0x1f3ab0=new D(),_0x2cea72=this['createIter'](_0x2e3046,_0x35baf3,_0x1f3ab0);let _0x490f21=!(0x13*0xb3+0x2e0+-0x1*0x1029);for(let _0x1c9464=-0x1945+0xa48*0x1+0xefd;_0x1c9464<this['numSplats'];++_0x1c9464)_0x131cfe&&!_0x131cfe(_0x1c9464)||(_0x2cea72['read'](_0x1c9464),_0x490f21?(_0x490f21=!(0x12*-0xc9+0xb7f+0x2a4),qn['calcSplatA'+'abb'](_0x1777e2,_0x2e3046,_0x35baf3,_0x1f3ab0)):(qn['calcSplatA'+'abb'](mg,_0x2e3046,_0x35baf3,_0x1f3ab0),_0x1777e2['add'](mg)));return!_0x490f21;}async['getCenters'](_0x24c68a){const _0x25f367=this['getProp']('x'),_0x13d38a=this['getProp']('y'),_0x221731=this['getProp']('z');for(let _0xb5ce6e=0x114f+-0x529*-0x2+-0x1ba1;_0xb5ce6e<this['numSplats'];++_0xb5ce6e)_0x24c68a[_0xb5ce6e*(-0x1b0+0x1e99+-0x1ce6)+(-0xf7*0x8+0x1d71+0x53*-0x43)]=_0x25f367[_0xb5ce6e],_0x24c68a[_0xb5ce6e*(-0x1*0x1b61+-0x4*0x60a+-0xce3*-0x4)+(0xe93+-0xe*0x24b+0x1188)]=_0x13d38a[_0xb5ce6e],_0x24c68a[_0xb5ce6e*(0x24e9+-0x1768+-0xd7e)+(-0x3*-0x977+0x8*-0xdb+-0x158b)]=_0x221731[_0xb5ce6e],_0xb5ce6e%xf===-0x3*0x5c9+-0x13c0+0x251b*0x1&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x4bd6b5;if((_0x4bd6b5=this['transformD'+'ata'])!=null&&_0x4bd6b5['muT'])return this['transformD'+'ata']['muT'];const _0x371e4f=this['getProp']('t');return _0x371e4f?new Float32Array(_0x371e4f):void(-0x13f8+-0x13*0xed+0x258f);}async['getTScale'](){const _0x1f8754=this['getProp']('t_scale');if(!_0x1f8754)return;const _0xf02c2b=new Float32Array(this['numSplats']);for(let _0x5d4b01=0x6a*-0x1d+-0xf1b+0x1b1d;_0x5d4b01<this['numSplats'];++_0x5d4b01)_0xf02c2b[_0x5d4b01]=Math['exp'](_0x1f8754[_0x5d4b01]),_0x5d4b01%xf===0x179c+-0x1*-0x19a7+-0x3143&&await this['yieldToMai'+'n']();return _0xf02c2b;}async['getMotion'](_0x438fde){const _0x30ef73=this['getProp']('motion_0'),_0x1bf879=this['getProp']('motion_1'),_0x27f071=this['getProp']('motion_2');if(!(!_0x30ef73||!_0x1bf879||!_0x27f071)){for(let _0x19ab70=0x123a+0x11ea+0xc0c*-0x3;_0x19ab70<this['numSplats'];++_0x19ab70)_0x438fde[_0x19ab70*(-0x9*0x41c+0x19c+0x2363)+(0xed+0x1*0x598+0x685*-0x1)]=_0x30ef73[_0x19ab70],_0x438fde[_0x19ab70*(0xb23*0x1+-0x89e*0x1+0x1*-0x282)+(0x1977+0x1*0x377+-0x1ced)]=_0x1bf879[_0x19ab70],_0x438fde[_0x19ab70*(-0x1487+-0x20ec+0x3*0x11d2)+(0x1ed4*-0x1+-0x1ab1+0x3987)]=_0x27f071[_0x19ab70],_0x19ab70%xf===0xc*0x29c+0x1*0x1fd+0x1*-0x214d&&await this['yieldToMai'+'n']();}}['getTimeInd'+'ex'](){var _0x5e8631;if((_0x5e8631=this['transformD'+'ata'])!=null&&_0x5e8631['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0x3d5609=this['getProp']('time_index');if(_0x3d5609)return new Float32Array(_0x3d5609);}['calcFocalP'+'oint'](_0x447890,_0xedbb76){const _0x483b71=this['getProp']('x'),_0xabe2e6=this['getProp']('y'),_0x2dcff4=this['getProp']('z'),_0x21f268=this['getProp']('scale_0'),_0x572792=this['getProp']('scale_1'),_0x28764e=this['getProp']('scale_2');_0x447890['x']=0x2a6*-0x1+-0x10bc+-0x1362*-0x1,_0x447890['y']=-0x950+0x169a+-0xd4a,_0x447890['z']=-0x201f*-0x1+-0x1c0b*0x1+0x6*-0xae;let _0x211d33=0x22b9+0x582+0x283b*-0x1;for(let _0x5135b0=0x26*-0xdb+0x51b+0x1b67;_0x5135b0<this['numSplats'];++_0x5135b0){if(_0xedbb76&&!_0xedbb76(_0x5135b0))continue;const _0x2759b5=_0x483b71[_0x5135b0],_0x1b3bd3=_0xabe2e6[_0x5135b0],_0x5acac8=_0x2dcff4[_0x5135b0];if(!isFinite(_0x2759b5)||!isFinite(_0x1b3bd3)||!isFinite(_0x5acac8))continue;const _0x441ae2=(0x3*-0x5b2+-0x1a94+0x2bab)/(0x1b71+-0x7*-0xad+-0x202b+Math['exp'](Math['max'](_0x21f268[_0x5135b0],_0x572792[_0x5135b0],_0x28764e[_0x5135b0])));_0x447890['x']+=_0x2759b5*_0x441ae2,_0x447890['y']+=_0x1b3bd3*_0x441ae2,_0x447890['z']+=_0x5acac8*_0x441ae2,_0x211d33+=_0x441ae2;}_0x447890['mulScalar']((-0x1205*0x1+-0x105*-0x7+-0x1*-0xae3)/_0x211d33);}['renderWire'+'frameBound'+'s'](_0x34a9c3,_0x410f69){const _0x2f28f4=new D(),_0x2993e5=new le(),_0x36044a=new D(),_0x2baa8e=new D(),_0x30c6f6=new D(),_0x25657e=this['createIter'](_0x2f28f4,_0x2993e5,_0x36044a);for(let _0x613e74=-0x1634+-0xa1d+0x2051;_0x613e74<this['numSplats'];++_0x613e74)_0x25657e['read'](_0x613e74),_g(za,_0x2f28f4,_0x2993e5),za['mul2'](_0x410f69,za),_0x2baa8e['set'](_0x36044a['x']*-(0x4a*0x49+-0x1a70+0x558),_0x36044a['y']*-(-0x26d3+0xa6b+0x1*0x1c6a),_0x36044a['z']*-(-0x206+-0x3e4+-0x1*-0x5ec)),_0x30c6f6['set'](_0x36044a['x']*(-0x2252+-0x1*0xec0+-0x9*-0x574),_0x36044a['y']*(0x8c*-0x1+-0xd6*-0x1+-0x8*0x9),_0x36044a['z']*(0xd6*0x21+0x756+-0x22ea)),_0x34a9c3['immediate']['drawWireAl'+'ignedBox'](_0x2baa8e,_0x30c6f6,KA,!(0x1f6b*0x1+-0x1231*0x1+-0xd3a),_0x34a9c3['defaultDra'+'wLayer'],za);}get['isCompress'+'ed'](){return!(0xcc2+-0x237e*-0x1+-0x303f);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x2cdc07=0x69*-0x47+-0xc19+0x2938;_0x2cdc07<0x1321*-0x1+-0x1*-0x1dd0+0xa82*-0x1;++_0x2cdc07)if(!this['getProp']('f_rest_'+_0x2cdc07))return _0x2cdc07;return-0x653*-0x3+-0xf*0x73+0x7*-0x1b9;})())]??0xec2*-0x2+-0xb*0x22f+0xab5*0x5;}['calcMorton'+'Order'](){const _0x1449ba=_0x1089a3=>{let _0x368c9e=_0x1089a3[0x1*0x353+-0xd*-0x56+0xb*-0xb3],_0x92bbe=_0x1089a3[-0xe8c+0x13ed*-0x1+0x2279];for(let _0x3cfccc=-0x1253*-0x1+0x2ed+-0x153f;_0x3cfccc<_0x1089a3['length'];_0x3cfccc++)_0x1089a3[_0x3cfccc]<_0x368c9e&&(_0x368c9e=_0x1089a3[_0x3cfccc]),_0x1089a3[_0x3cfccc]>_0x92bbe&&(_0x92bbe=_0x1089a3[_0x3cfccc]);return{'min':_0x368c9e,'max':_0x92bbe};},_0x137a1=(_0x44481f,_0x2095a7,_0x4b916d)=>{const _0x2ae11e=_0x26e7f8=>(_0x26e7f8&=-0x1*0x1bcb+0x17*-0x52+0x2728,_0x26e7f8=(_0x26e7f8^_0x26e7f8<<0xf5*-0x19+-0xdf4+0x25f1*0x1)&0x177b3*0x8417+-0xa80080d7+0x9*0x19760cf9,_0x26e7f8=(_0x26e7f8^_0x26e7f8<<-0x1e52*0x1+0x49e+0xc*0x225)&0x4f75a4+-0x912fb*-0x71+-0x14fe660,_0x26e7f8=(_0x26e7f8^_0x26e7f8<<0x22e8+0x741+-0x2a25)&0x618*0x1496+0x14897*0x335+-0x3448*0x7a2,_0x26e7f8=(_0x26e7f8^_0x26e7f8<<-0x2*-0xfca+-0xf6c+0xd*-0x13e)&-0x1171fa08*-0x1+-0x3dc4ca8+0x1*-0x4711b17,_0x26e7f8);return(_0x2ae11e(_0x4b916d)<<-0x1da6+0x1b2a+0x27e)+(_0x2ae11e(_0x2095a7)<<-0x9*-0x25b+-0x1dee+-0x8bc*-0x1)+_0x2ae11e(_0x44481f);},_0x2dd925=this['getProp']('x'),_0x441778=this['getProp']('y'),_0x479888=this['getProp']('z'),{min:_0x2a6d2c,max:_0x1ffde0}=_0x1449ba(_0x2dd925),{min:_0x12306f,max:_0x23bacf}=_0x1449ba(_0x441778),{min:_0x315af4,max:_0x48c5e4}=_0x1449ba(_0x479888),_0x4f8ffd=_0x2a6d2c===_0x1ffde0?0xd1*0x26+-0x13d9+-0xb2d:(0xeaf+-0xcc3+-0x26*-0xe)/(_0x1ffde0-_0x2a6d2c),_0xc7a8d8=_0x12306f===_0x23bacf?0x158f+0x35*0x86+-0x314d:(-0x1a9+0xc9*-0x1c+0x7*0x3f3)/(_0x23bacf-_0x12306f),_0xbc3204=_0x315af4===_0x48c5e4?0x5*-0x19d+0x8e*-0xb+0xe2b*0x1:(0x12cb+0x22ac+0x1d5*-0x1b)/(_0x48c5e4-_0x315af4),_0x2a037d=new Map();for(let _0x555482=0x1641+0x247b+0x9ca*-0x6;_0x555482<this['numSplats'];_0x555482++){const _0x3a6297=Math['min'](0x19*-0x43+0x533+0x557,Math['floor']((_0x2dd925[_0x555482]-_0x2a6d2c)*_0x4f8ffd)),_0x19160b=Math['min'](-0x196*0x4+0x5*0x411+0x2*-0x4ff,Math['floor']((_0x441778[_0x555482]-_0x12306f)*_0xc7a8d8)),_0x90be5f=Math['min'](0x1ba3+-0x68f+-0x1115*0x1,Math['floor']((_0x479888[_0x555482]-_0x315af4)*_0xbc3204)),_0x4a3c16=_0x137a1(_0x3a6297,_0x19160b,_0x90be5f),_0x5997f3=_0x2a037d['get'](_0x4a3c16);_0x5997f3?_0x5997f3['push'](_0x555482):_0x2a037d['set'](_0x4a3c16,[_0x555482]);}const _0x5b28cb=Array['from'](_0x2a037d['keys']())['sort']((_0x414a6a,_0x17f3a2)=>_0x414a6a-_0x17f3a2),_0x3a83be=new Uint32Array(this['numSplats']);let _0x31c966=0x9af+0xf18+-0x18c7;for(let _0x3a3187=-0x5*0x443+0x665*-0x6+0x3bad;_0x3a3187<_0x5b28cb['length'];++_0x3a3187){const _0x196f96=_0x2a037d['get'](_0x5b28cb[_0x3a3187]);for(let _0x181d09=-0xd2e+0x1b42+-0xe14;_0x181d09<_0x196f96['length'];++_0x181d09)_0x3a83be[_0x31c966++]=_0x196f96[_0x181d09];}return _0x3a83be;}['reorder'](_0x4414d6){const _0x45a874=new Map(),_0x56e1e7=_0x2b7eb6=>{if(_0x45a874['has'](_0x2b7eb6)){const _0x4e82a2=_0x45a874['get'](_0x2b7eb6);return _0x45a874['delete'](_0x2b7eb6),_0x4e82a2;}return new ArrayBuffer(_0x2b7eb6);},_0x16a8c5=_0x10835e=>{_0x45a874['set'](_0x10835e['byteLength'],_0x10835e);},_0x3f7de9=_0x1f04f8=>{const _0x487457=new _0x1f04f8['constructo'+'r'](_0x56e1e7(_0x1f04f8['byteLength']));for(let _0x5c0c09=-0x1d25*-0x1+0x9fb+-0x139*0x20;_0x5c0c09<_0x4414d6['length'];_0x5c0c09++)_0x487457[_0x5c0c09]=_0x1f04f8[_0x4414d6[_0x5c0c09]];return _0x16a8c5(_0x1f04f8['buffer']),_0x487457;};this['elements']['forEach'](_0x384528=>{_0x384528['properties']['forEach'](_0x12b926=>{_0x12b926['storage']&&(_0x12b926['storage']=_0x3f7de9(_0x12b926['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}async function QA(){const _0x56f3f2=new Float32Array(0x1*-0x2029+0x10dd*-0x1+0x3107);new Int32Array(_0x56f3f2['buffer']);let _0x68a1d2=-0x409*0x3+-0x198f+-0x6*-0x647,_0x48a23f={};self['onmessage']=async _0x2c53fe=>{const {data:_0xfa6ba3}=_0x2c53fe;switch(_0xfa6ba3['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x2c27b2(_0xfa6ba3['properties'],_0xfa6ba3['timeIndex'],_0xfa6ba3['timeOption']);break;case'releaseSeq'+'Data':_0x51b3a6(_0xfa6ba3['index']);break;case'releaseAll'+'SeqData':_0x3c6db5();break;case'destroyWor'+'ker':_0x564a71();break;}};const _0x3087aa=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x5740d7=-0x79f+-0x73*0x2e+0x1c49;_0x5740d7<0x69b*-0x4+-0xb79+0x2612;++_0x5740d7)if(!_0x48a23f['f_rest_'+_0x5740d7])return _0x5740d7;return 0x5*0x74f+0x9c0+-0x2*0x170f;})())]??0x62a*0x1+0x6*-0xb2+-0x1fe),_0x2c27b2=(_0x2f0c43,_0x565443,_0x4bb3ff)=>{var _0x56b3a6,_0x38433a;_0x68a1d2+=(((_0x56b3a6=_0x2f0c43['position'])==null?void(0x213a*-0x1+0x1b7c+0x5be):_0x56b3a6['length'])??0x5*-0x39f+-0x1*-0x1d6f+-0xb54)/(-0x1a23+0x1be+0x1868),console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20append'+'GSplatData'+'\x20numSplats',_0x68a1d2,(((_0x38433a=_0x2f0c43['position'])==null?void(-0x2218+-0x127*0x5+0x3*0xd49):_0x38433a['length'])??-0x1*-0x2386+0x6*-0x682+0x16*0x29)/(0xddb*0x1+0x1*-0xb52+-0x143*0x2));const _0x2f4754=Object['keys'](_0x2f0c43);for(let _0x58521f=-0xe0b*0x1+-0x73c+0x1*0x1547;_0x58521f<_0x2f4754['length'];_0x58521f++){const _0xc97ae6=_0x2f4754[_0x58521f],_0x25d008=_0x2f0c43[_0xc97ae6],_0xc24557=_0x48a23f[_0xc97ae6]??new Float32Array(0x23ce+-0x4*0x793+-0x1d6*0x3);if(_0x25d008){let _0x4430ee=null;switch(_0xc97ae6){case'position':_0x4430ee=new Float32Array(_0x68a1d2*(-0x1*0x16c9+0x167a+0x1*0x52));break;case'color_opac'+'ity':_0x4430ee=new Uint16Array(_0x68a1d2*(0x2*-0xb0+0xfd4*0x2+-0x1e44));break;case'scale':_0x4430ee=new Uint16Array(_0x68a1d2*(0x2498+-0x1683+0x1*-0xe12));break;case'motion':_0x4430ee=new Float32Array(_0x68a1d2*(0x121+-0x1869+0x174b));break;case'rotation':_0x4430ee=new Float32Array(_0x68a1d2*(-0xe59+0x151b+-0x1*0x6bf));break;default:_0x4430ee=new Float32Array(_0x68a1d2);break;}_0x4430ee['set'](_0xc24557,0x375*0xa+-0x98b*-0x3+-0x3f33),_0x4430ee['set'](_0x25d008,_0xc24557['length']),_0x48a23f[_0xc97ae6]=_0x4430ee;}}const _0x4368a8={};Object['keys'](_0x48a23f)['forEach'](_0x50485d=>{_0x50485d==='scale'||_0x50485d==='color_opac'+'ity'?_0x4368a8[_0x50485d]=new Uint16Array(_0x48a23f[_0x50485d]['buffer']['slice']()):_0x4368a8[_0x50485d]=new Float32Array(_0x48a23f[_0x50485d]['buffer']['slice']());});const _0x1cee57=Object['keys'](_0x4368a8)['map'](_0xb72a1=>_0x4368a8[_0xb72a1]['buffer']),_0x5a6dd0=_0x50c35e(),_0x59ebbd=Object['keys'](_0x5a6dd0)['map'](_0x5b038f=>_0x5a6dd0[_0x5b038f]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x4368a8,'transformData':_0x5a6dd0},_0x1cee57['concat'](_0x59ebbd));},_0x50c35e=()=>{const _0x5bbe58=_0x48a23f['position']['length']/(0xa5*0x5+-0xfdd*-0x1+-0x1313),_0x547a68=_0x48a23f['position'],_0x266abe=_0x48a23f['scale'],_0x52aa87=_0x48a23f['rotation'],_0x3150c4=_0x48a23f['motion'],_0x1768f4=_0x48a23f['t'],_0x10402a=_0x48a23f['t_scale'],_0xffef60=_0x48a23f['time_index'],_0x4b6b6e=_0x48a23f['color_opac'+'ity'],_0x415a13=(_0x1768f4==null?void(-0x10*-0xe9+0x49*0x1d+-0xa7*0x23):_0x1768f4['length'])>0x266f+0x16cb+-0x1*0x3d3a;let _0x50045d=null,_0x2220af=null,_0x18525b=null,_0x355a29=null;_0x415a13&&(_0x2220af=new Float32Array(_0x5bbe58*(0x1c3c+-0x1*-0x129+0xeb1*-0x2)),_0x355a29=new Float32Array(_0x5bbe58),_0x50045d=new Float32Array(_0x3150c4['buffer']['slice']()),_0x18525b=new Float32Array(_0x3150c4['buffer']['slice']()));const _0x2aaec4=new Float32Array(_0x547a68['buffer']['slice']()),_0x137a70=new Float32Array(_0x547a68['buffer']['slice']()),_0x4ff790=new Uint16Array(_0x4b6b6e['buffer']['slice']()),_0x33d9c1=new Uint16Array(_0x266abe['buffer']['slice']()),_0x273fda=new Float32Array(_0x52aa87['buffer']['slice']());for(let _0x30a4ff=0x10ce+-0x6d+-0x1061;_0x30a4ff<_0x5bbe58;++_0x30a4ff)_0x415a13&&_0x2220af&&_0x355a29&&(_0x355a29[_0x30a4ff]=_0x10402a?Math['exp'](_0x10402a[_0x30a4ff]):0x37a*-0x1+-0x170b+0x1a85,_0x2220af[_0x30a4ff*(-0x24e*-0x1+-0x20c5+0x1e7a)+(-0x2e*-0x51+0x56*0x1f+-0x2f*0x88)]=_0x1768f4?_0x1768f4[_0x30a4ff]:-0x1408+-0x4*0x5ad+0x2abc,_0x2220af[_0x30a4ff*(0x90a+0x47e+-0x1*0xd85)+(0x125f*0x1+-0x22*0x5d+-0x604)]=_0x355a29[_0x30a4ff]);const _0x1934f0=_0x5614a7();let _0x4ae94e={'dataColor':_0x4ff790,'dataCenters':_0x137a70,'dataPosition':_0x2aaec4,'dataScale':_0x33d9c1,'dataRotation':_0x273fda,..._0x1934f0};return _0x415a13&&(_0x4ae94e={..._0x4ae94e,'dataMotion':_0x50045d,'dataTime':_0x2220af,'motion':_0x18525b,'tScaleArray':_0x355a29,'muT':new Float32Array(_0x1768f4),'timeIndex':new Float32Array(_0xffef60)}),_0x4ae94e;},_0x14a623=_0x19715f=>{const _0x446ed5=[];for(let _0x237408=0x185*-0x12+0x3*-0x59e+0x2c34;_0x237408<_0x19715f;++_0x237408)_0x446ed5['push'](_0x48a23f['f_rest_'+_0x237408]);return _0x446ed5;},_0x5614a7=()=>{const _0x1b2b6e=_0x3087aa();if(_0x1b2b6e<=-0x26cc+0x1*-0x14bd+0x3b89)return{};const _0x14ef51=_0x48a23f['x']['length'],_0x18245c=new Uint32Array(_0x14ef51*(0x225b*0x1+-0x25d7+0x380)),_0x38d0db=new Uint32Array(_0x14ef51*(0xeea+0xc68+-0x1b4e)),_0x5ea7a3=new Uint32Array(_0x14ef51*(0x2*0x123c+0x1efe*0x1+-0xb2*0x61)),_0x426237=new Uint32Array(_0x14ef51*(-0x4e4+-0x1*-0x266e+-0x7*0x4ca)),_0x12ff94={0x1:0x3,0x2:0x8,0x3:0xf}[_0x1b2b6e],_0x4a4ccb=_0x14a623(_0x12ff94*(0x1*-0x2e9+0x30a*0x1+-0x5*0x6)),_0x328aa0=0x3db*0x3+-0x24cf*0x1+0x213d,_0x421a98=-0xdab*-0x1+0xe3e+-0x17ea*0x1,_0x5a1bbf=new Float32Array(0xdfb+0xd20+0x2*-0xd8d),_0x39d2e8=new Uint32Array(_0x5a1bbf['buffer']),_0x3a0592=new Array(_0x12ff94*(0x1aef*0x1+0x2*-0xb2a+-0x498))['fill'](0xa37+0x1aef+0x3*-0xc62);for(let _0xe67150=-0x1*0xafb+0x3a4+0x757;_0xe67150<_0x14ef51;++_0xe67150){for(let _0x59d2f7=-0x1*-0x95f+-0x1f3b+0x15dc;_0x59d2f7<_0x12ff94;++_0x59d2f7)_0x3a0592[_0x59d2f7*(-0x25e8+-0x1e*0x135+0x4a21)]=_0x4a4ccb[_0x59d2f7][_0xe67150],_0x3a0592[_0x59d2f7*(0x29*0x43+0x2*0x11e6+-0x2*0x1742)+(0x7*0x12c+-0x1*-0x3e1+-0xc14)]=_0x4a4ccb[_0x59d2f7+_0x12ff94][_0xe67150],_0x3a0592[_0x59d2f7*(-0x235+0x1c72+-0x2*0xd1d)+(-0x9f1*0x2+0x2523+-0x373*0x5)]=_0x4a4ccb[_0x59d2f7+_0x12ff94*(-0x1305+0x13d+0x17*0xc6)][_0xe67150];let _0x535bac=_0x3a0592[-0xc0f+0x1*0xfb5+-0x3a6];for(let _0x1c6202=-0x5f2*-0x1+0x43*0x71+-0x4*0x8e1;_0x1c6202<_0x12ff94*(-0xa45+-0x3e*-0x1+0xa0a*0x1);++_0x1c6202)_0x535bac=Math['max'](_0x535bac,Math['abs'](_0x3a0592[_0x1c6202]));if(_0x535bac!==-0x895+-0x49*-0x55+0x18*-0xa7){for(let _0x4af73a=0x1614+0x5*-0x5e9+-0x779*-0x1;_0x4af73a<_0x12ff94;++_0x4af73a)_0x3a0592[_0x4af73a*(-0xec*0x26+-0x1b6+0x24c1*0x1)+(-0x1d4+-0x1*-0x2492+0x22be*-0x1)]=Math['max'](-0x1f1d+-0x7cd+0x11*0x24a,Math['min'](_0x328aa0,Math['floor']((_0x3a0592[_0x4af73a*(0x1e40+0x11dc+-0x3019)+(0x212f*0x1+-0x13cf*-0x1+-0x34fe)]/_0x535bac*(0xd8f+0x3*0x9b+-0x8*0x1ec+0.5)+(0x2305+-0x1f5a+-0x1*0x3ab+0.5))*_0x328aa0+(0x1*-0x5b7+-0x510+0x1*0xac7+0.5)))),_0x3a0592[_0x4af73a*(-0x4*0x50f+-0xe79+0x22b8)+(-0x11aa+0x204b+-0xd0*0x12)]=Math['max'](0x7*-0x338+0x34*0x17+0x11dc,Math['min'](_0x421a98,Math['floor']((_0x3a0592[_0x4af73a*(-0x47*0x65+0x158c*0x1+0x33d*0x2)+(0x1*0x479+0x1952+-0x1*0x1dca)]/_0x535bac*(0x9*0x445+-0x1d10+-0x95d+0.5)+(0xec1+-0x3fb*-0x1+-0x2c*0x6d+0.5))*_0x421a98+(-0x217e+-0x1d*0x4d+-0x65*-0x6b+0.5)))),_0x3a0592[_0x4af73a*(-0xbe5+0x52*0x61+-0x132a)+(0x35*-0x79+-0x1051+0x2960)]=Math['max'](0x2*-0xcec+-0x33b+-0x9*-0x33b,Math['min'](_0x328aa0,Math['floor']((_0x3a0592[_0x4af73a*(0xdd4+0x1f6d+-0x2d3e)+(0xcc1+-0x14e4+0x825)]/_0x535bac*(-0x68c*0x3+0x1fbb*0x1+-0x26b*0x5+0.5)+(-0x8db+-0x17a2*0x1+0x207d*0x1+0.5))*_0x328aa0+(-0x2630+-0x225e*-0x1+-0x3d2*-0x1+0.5))));_0x5a1bbf[0x2*0xbcb+-0x1cf5+0x19*0x37]=_0x535bac,_0x18245c[_0xe67150*(-0x1*-0x221f+-0x1*-0x5d1+-0x27ec)+(0x198*-0x1+0x14dd+-0x1345)]=_0x39d2e8[0xf69+-0x1a92+0xb29],_0x18245c[_0xe67150*(0x35a+0xcdd*0x2+-0x4d8*0x6)+(-0x2*-0x638+0x1*0x2495+0x2*-0x1882)]=_0x3a0592[0x1866+-0x1*-0x1d3f+-0x35a5]<<-0x5c*-0x3+-0x55*-0x68+-0x2387|_0x3a0592[-0x1e1e+-0xd06*0x1+-0xeb*-0x2f]<<-0x71a+0x1*0x1afe+0x1*-0x13d9|_0x3a0592[-0x2154+-0x1157+0x32ad],_0x18245c[_0xe67150*(-0x16f1*0x1+0x1*-0x2547+0x3c3c)+(0x1421*-0x1+-0x6ad+0x1ad0)]=_0x3a0592[-0x165+-0x266c+-0x27d4*-0x1]<<0x1d2d+-0x1a53+0x2c5*-0x1|_0x3a0592[0x10*-0xbc+0x6*0x10+-0x9*-0x144]<<-0x2360+0x19b1+0x9ba|_0x3a0592[-0x8*-0x207+0xadf+0x5*-0x56a],_0x18245c[_0xe67150*(-0x1*0x2573+-0x6e0+0x2c57)+(-0x11*-0x101+-0x9*0x362+-0x1*-0xd64)]=_0x3a0592[-0x213d+-0x4*0x7c1+-0x4047*-0x1]<<0xd*-0x29b+0xf5+0x20ff*0x1|_0x3a0592[0x129f+-0x36d+-0xf2b]<<-0x13d8+-0x2091+0x3474|_0x3a0592[0x5*-0x2a0+-0x2659*-0x1+-0x1931],_0x1b2b6e>0x57*0x35+0x1*0xa0f+-0x1*0x1c11&&(_0x38d0db[_0xe67150*(0x16*-0xca+-0x2377+0x34d7)+(-0x158e+-0x1463+0x3*0xdfb)]=_0x3a0592[-0x4*-0x3ee+-0x7af+0x1*-0x800]<<0x189c+0x21d2+-0x3a59|_0x3a0592[0x71c+0x1*-0x20ba+0x19a8]<<-0x371*-0x5+-0xc83+-0x4a7*0x1|_0x3a0592[-0x1b43*-0x1+0x2*-0xddc+0x8*0x10],_0x38d0db[_0xe67150*(-0xb03+0x175*-0x1+0x11*0xbc)+(-0x842+0x240a+-0x1bc7)]=_0x3a0592[0x1be9+0x1*-0x1bfe+0x3*0xb]<<0x2d*-0x9d+0x11df+-0x9cf*-0x1|_0x3a0592[-0x67*-0x1f+0x1*0x182f+-0x249b]<<-0x842+-0x218f+0x29dc|_0x3a0592[-0xb*-0x32a+0x94e*0x3+0x269*-0x1a],_0x38d0db[_0xe67150*(-0x224f*-0x1+-0x494+0x1*-0x1db7)+(0xe*-0x1be+0x26e+0x15f8)]=_0x3a0592[0x1*0xce5+0x1*-0x18fe+0xc28]<<-0x268f+-0x1174+0x2ce*0x14|_0x3a0592[0x163b+0x1ec2*0x1+-0x34ed]<<0xd*-0x2c5+0x1*-0x269d+0x4aa9|_0x3a0592[-0x1113+-0x142+-0xa*-0x1d7],_0x38d0db[_0xe67150*(-0xc53+0x36a+0x8ed)+(-0xb0d+0x1fcf*-0x1+0x2adf)]=_0x3a0592[-0x6e6+0x2176+-0x1a7e*0x1]<<0x628*0x1+-0x56*-0x58+-0xbe1*0x3|_0x3a0592[0x338+-0x1*0x8db+0x5b6]<<-0x2*0x8d+-0x7f*0x5+0x3a0|_0x3a0592[-0x214c+0x175b+0xa05],_0x1b2b6e>-0x9*0x101+0xe*-0x9b+0x1185?(_0x5ea7a3[_0xe67150*(-0xb0f*0x2+0x4f*0x79+0xf35*-0x1)+(0xc8e*-0x2+0x607+0x1315)]=_0x3a0592[0xf*-0x1f9+0x3a*0x71+0x412]<<0x6d1+-0xcb9+-0x7*-0xdb|_0x3a0592[-0xfed+0x1b7*-0x5+0x1896]<<0x4*-0x1f7+0x2df*0xb+0xbd7*-0x2|_0x3a0592[0x132+-0x2*-0x10+-0x13b],_0x5ea7a3[_0xe67150*(0x4a7*0x1+0x167*-0x13+0x1602)+(0x169f*0x1+0x20ce+-0x376c*0x1)]=_0x3a0592[-0xce0+-0x803*0x1+0x14fb]<<0x40*-0x8e+-0x3a1+0x2736|_0x3a0592[-0x20a0+-0x145a+0x3513]<<-0x1*0x1cb8+-0xd5d+0x2a20|_0x3a0592[-0x48c+-0x757*0x1+0xbfd*0x1],_0x5ea7a3[_0xe67150*(0xa*0x10a+-0xc81+0x5*0x6d)+(-0x6cc+0x2f*0x29+-0xb9*0x1)]=_0x3a0592[0x4e5+0x17ac*0x1+-0x1c76*0x1]<<0x1396*0x1+-0x2706+0x1385|_0x3a0592[0x2*-0x34b+0x1c8f+-0x15dd]<<0xa6*-0x1b+0x13d7+0x24a*-0x1|_0x3a0592[0x2a5*0x2+-0x17c6+-0xcf*-0x17],_0x5ea7a3[_0xe67150*(-0x2379+-0x9cb+0xa1*0x48)+(0x7d*0x1f+-0xbc+-0xe64)]=_0x3a0592[0x2*0x4a6+0x104f+-0x197d]<<-0xdd7+0x22a8+-0x14bc|_0x3a0592[0x15ca+0x83d+-0x108*0x1d]<<0x129f+-0x7e0+-0xab4|_0x3a0592[-0x1f*0xf1+0x1e54+0x105*-0x1],_0x426237[_0xe67150*(0x9fe+-0x1*-0x19d5+-0x23cf)+(0x838+-0x43+0x61*-0x15)]=_0x3a0592[0x4*0xec+-0x1c9*-0x2+-0x16d*0x5]<<0x18d0+0x4*-0x5f9+-0xd7|_0x3a0592[0x1229+-0x1192+-0x75]<<-0xdf*-0x1+0x1276+-0x6*0x337|_0x3a0592[0x233f+0x5*0x573+-0x14c9*0x3],_0x426237[_0xe67150*(0x1cbf+-0x82*0xa+0x23*-0xad)+(-0x1db0+0x2a8+0x1b09)]=_0x3a0592[-0x1*0x9c7+-0x325+0xd10]<<0x1024+-0x341+0x2*-0x667|_0x3a0592[0x42*-0x65+-0xbf*-0x33+-0xbde]<<-0xf84+-0x9b*-0x2f+-0xce6|_0x3a0592[-0x1b84+0x1b6d*-0x1+-0x9*-0x61f],_0x426237[_0xe67150*(0x52f*0x3+-0x1d*-0x107+-0x2d54)+(0x96c+0x89f*-0x2+0x7d4)]=_0x3a0592[0x6b*-0xb+0x15d1+-0x1111]<<-0x2512+-0x17b4+-0x241*-0x1b|_0x3a0592[-0x9db+0x14b9+0x6*-0x1c9]<<-0x1*0x160c+-0x2023+0x363a|_0x3a0592[-0x249c+-0x3ee+0x28b3],_0x426237[_0xe67150*(0x2*0x1299+-0x3*-0x58d+-0x35d5)+(0x2ac+0x11*0xb9+-0xef2)]=_0x3a0592[0x494+0x2619*-0x1+-0x1*-0x21af]<<0xeee+-0x1241*0x2+0x15a9|_0x3a0592[-0xe37+0x29d+0x17*0x83]<<-0x3db+0x119+0x2cd|_0x3a0592[0x1*0xaaf+-0x189b+-0x70c*-0x2]):_0x5ea7a3[_0xe67150]=_0x3a0592[-0x5a7+-0x203a+0x25f6*0x1]<<-0x1ea3+0x7*0x29d+0xc6d|_0x3a0592[0x13fe+0x20c8*-0x1+0xce0]<<0x20fd+-0x224f+0x15d|_0x3a0592[0x1d1c+0x21f*-0x1+-0x1ae6]);}}return{'sh1to3Data':_0x18245c,'sh4to7Data':_0x38d0db,'sh8to11Data':_0x5ea7a3,'sh12to15Data':_0x426237};},_0x51b3a6=_0x1a6133=>{if(!_0x48a23f['time_index'])return;const _0x176055=_0x48a23f['time_index']['findIndex'](_0x1de107=>_0x1de107===_0x1a6133);let _0x48da89=_0x48a23f['time_index']['findIndex']((_0x1a5bc2,_0x2b233d)=>_0x1a5bc2!==_0x1a6133&&_0x2b233d>_0x176055);if(_0x48da89===-(0x2*-0x11dd+-0x3*-0xbbe+0x2b*0x3)&&_0x176055===-(0x10bf+-0x111b*-0x1+-0x21d9))return;_0x48da89===-(0x8be+-0x783+0x2*-0x9d)&&_0x176055!==-(0x6e7+-0x1678+-0x7c9*-0x2)&&(_0x48da89=_0x48a23f['time_index']['length']),_0x68a1d2-=_0x48da89-_0x176055,console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20releas'+'eSeqData\x20n'+'umSplats',_0x68a1d2,_0x48da89-_0x176055);const _0x579552=Object['keys'](_0x48a23f);for(let _0x166a9d=0x7*0xb3+-0x1*0x1ad6+0x15f1;_0x166a9d<_0x579552['length'];_0x166a9d++){const _0x1ab727=_0x579552[_0x166a9d],_0x54916d=_0x48a23f[_0x1ab727];if(_0x54916d){let _0x1ee869=0xc7*0x25+0x13*0x123+0x1*-0x325b;switch(_0x1ab727){case'position':_0x1ee869=-0x1*-0x373+0xa*-0x1e8+-0x64*-0x28;break;case'color_opac'+'ity':_0x1ee869=0x13bb*0x1+0x3f3*-0x1+-0xfc4;break;case'scale':_0x1ee869=0x1*0x3d7+0x2154+-0x1294*0x2;break;case'motion':_0x1ee869=-0x607*-0x2+-0x2173*0x1+0x4*0x55a;break;case'rotation':_0x1ee869=0x248a+-0xa3*-0x2f+-0x4274;break;default:_0x1ee869=-0x2174*0x1+0x1562+0xc13;break;}const _0x3e6b5b=new Float32Array(_0x68a1d2*_0x1ee869);_0x176055>0x1d3c+0x2582+-0x215f*0x2?(_0x3e6b5b['set'](_0x54916d['subarray'](0x1*-0x1ab7+0x15d5+-0x271*-0x2,_0x176055*_0x1ee869),-0x22*0x11b+-0x1b4f+0x40e5),_0x3e6b5b['set'](_0x54916d['subarray'](_0x48da89*_0x1ee869),_0x176055*_0x1ee869)):_0x3e6b5b['set'](_0x54916d['subarray'](_0x48da89*_0x1ee869),0x1bf8*0x1+-0x1506+0xe*-0x7f),_0x48a23f[_0x1ab727]=_0x3e6b5b;}}},_0x3c6db5=()=>{const _0x2988d4=Object['keys'](_0x48a23f);for(let _0x52c2e8=0x748*0x5+-0x1*0x1cb1+-0x4f*0x19;_0x52c2e8<_0x2988d4['length'];_0x52c2e8++){const _0x35af89=_0x2988d4[_0x52c2e8];_0x48a23f[_0x35af89]&&(_0x48a23f[_0x35af89]=[]);}},_0x564a71=()=>{_0x48a23f={},_0x68a1d2=0x9b7+-0x3*0x2+0x9b1*-0x1;};}class JA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+QA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0x2ccf59,_0x415085,_0x9d39d4,_0xbf53ae=!(-0x9*0x399+0x1d7*0xb+0xc25)){var _0x33760f,_0x47e3d9;const _0x4a00dd={};return _0x2ccf59['elements'][-0x1*0x97c+0x1ba4+-0x1228]['properties']['forEach'](_0x4bc033=>{_0x4a00dd[_0x4bc033['name']]=_0x4bc033['storage'];}),_0xbf53ae?(_0x33760f=this['worker'])==null||_0x33760f['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x4a00dd,'timeIndex':_0x415085,'timeOption':_0x9d39d4},_0x2ccf59['elements'][0x3a1+-0x2402+0x2061]['properties']['map'](_0x215ba2=>_0x215ba2['storage']['buffer'])):(_0x47e3d9=this['worker'])==null||_0x47e3d9['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x4a00dd,'timeIndex':_0x415085,'timeOption':_0x9d39d4}),new Promise(_0x402e33=>{this['worker']['onmessage']=_0x387b46=>{if(!this['worker'])return;const {data:_0x5d75ca}=_0x387b46;_0x5d75ca['type']==='newAppendD'+'ata'&&_0x402e33(_0x5d75ca);};});}async['releaseSeq'+'Data'](_0x9afc0c){var _0x583522;(_0x583522=this['worker'])==null||_0x583522['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x9afc0c});}async['releaseAll'+'SeqData'](){var _0x3735f6;(_0x3735f6=this['worker'])==null||_0x3735f6['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x4c5248;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x4c5248=this['worker'])==null||_0x4c5248['terminate'](),this['worker']=null);}}const gc=new te(),gg=new le(),eC=new ie(-0x17a5+-0x105b+0x2801,-0x1bc6+0x1d60+-0x199,0x613+0xcba+0x12cd*-0x1,0x461+-0x100+-0x361+0.4),Sg=0x3715*0x4+0x19042+0xa0aa;class tC{constructor(_0x21fc50,_0x20a8aa,_0x5275a5,_0x4f2fba,_0x5de0d5,_0x2e1440){const _0x9717bb=_0x21fc50['getProp']('position'),_0x40b8ae=_0x21fc50['getProp']('color_opac'+'ity'),_0x2844a6=_0x21fc50['getProp']('scale'),_0x2f93c6=_0x21fc50['getProp']('motion'),_0x56d41c=_0x21fc50['getProp']('rotation');this['read']=_0x42fc37=>{_0x20a8aa&&_0x20a8aa['set'](_0x9717bb[_0x42fc37*(-0x20cb+0x1c9*0xd+-0x1b*-0x5b)+(-0x7*-0x1db+-0x70a+0x5f3*-0x1)],_0x9717bb[_0x42fc37*(-0x325+0x2187+-0x137*0x19)+(-0x1*0x2b3+-0x1d4f+0x2003)],_0x9717bb[_0x42fc37*(0xcaf+0x70c+-0x2*0x9dc)+(-0xb72+0x11fe+-0x68a)]),_0x5275a5&&_0x5275a5['set'](_0x56d41c[_0x42fc37*(-0x1b2f+0xc06+0x1*0xf2c)+(-0x91f*0x1+-0x19*-0x9f+-0x334*0x2)],_0x56d41c[_0x42fc37*(-0x25b7+0x8*-0x11c+0x2e9a)+(0x1*0x1709+-0x15*0x17f+0x863)],_0x56d41c[_0x42fc37*(-0x1253+0x469*0x3+0x51b)+(0x2*-0xbb7+0x1*0x3d4+-0x1*-0x139c)]),_0x4f2fba&&_0x4f2fba['set'](_0x2844a6[_0x42fc37*(0xe*0x39+-0x122b+0xf10)+(-0x123*0x15+-0xb37+-0x1*-0x2316)],_0x2844a6[_0x42fc37*(-0x1355+-0x178+0x14d0)+(0x1df5+-0x1*-0x1d4d+-0x4d*0xc5)],_0x2844a6[_0x42fc37*(-0x1ed3+0x2*-0x162+0x219a)+(-0x108e+-0x2287+0x3317)]),_0x2e1440&&_0x2f93c6&&_0x2e1440['set'](_0x2f93c6[_0x42fc37*(0x1379+-0x21b3*0x1+-0xf3*-0xf)+(0x3*0x19c+0x3fb+0x37*-0x29)],_0x2f93c6[_0x42fc37*(0xfef*-0x1+-0x2*0x109e+0x312e)+(0x1*-0x121d+0xd47+0x4d7)],_0x2f93c6[_0x42fc37*(0x6*0x520+-0x17*0x71+0x5*-0x41e)+(0xbda+-0x1265*0x2+-0x67*-0x3e)]),_0x5de0d5&&_0x5de0d5['set'](_0x40b8ae[_0x42fc37*(0x2*-0x8f5+0xc78*-0x1+0x2*0xf33)+(0xb1d+0x81f+-0x133c)],_0x40b8ae[_0x42fc37*(0x421+0x1daa+0x21c7*-0x1)+(0xd44+0x12e2+0x27*-0xd3)],_0x40b8ae[_0x42fc37*(0x1038+-0x16dd+0x6a9)+(0x752*0x4+-0x265d+0x917)],_0x40b8ae[_0x42fc37*(-0xaca+0x1fe+0x8d0)+(0xa83*0x1+0x12*-0x118+0x188*0x6)]);};}}const sC=(_0x4dc01a,_0xcbaa4d,_0x2c66d4)=>{gg['set'](_0x2c66d4['x'],_0x2c66d4['y'],_0x2c66d4['z'],_0x2c66d4['w'])['normalize'](),_0x4dc01a['setTRS'](_0xcbaa4d,gg,D['ONE']);};class iC{constructor(_0x61e573,_0x41bc65=[],_0x2f4b91=[]){h(this,'elements'),h(this,'properties'),h(this,'numSplats',-0x1a44+0x2*0x655+0xd9a),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0x4cf4dd;(_0x4cf4dd=this['dataWorker'])==null||_0x4cf4dd['destroy'](),this['dataWorker']=null;});var _0x13bde5,_0x4c05e5,_0x5ec3a7;this['elements']=_0x61e573,this['properties']=_0x2f4b91,this['numSplats']=((_0x13bde5=this['getElement']('vertex'))==null?void(0x22ef+0x86*0x3+-0x2481*0x1):_0x13bde5['count'])??0x22cf+0x224+-0x24f3,this['comments']=_0x41bc65,this['is4D']=!!((_0x5ec3a7=(_0x4c05e5=this['getElement']('vertex'))==null?void(0x1072+0x2*-0xa23+-0xe*-0x46):_0x4c05e5['properties']['find'](_0x58ce20=>_0x58ce20['name']==='t'))!=null&&_0x5ec3a7['storage']);}async['appendGSpl'+'atData'](_0x4b2763,_0x35b580,_0x5638c1){var _0x3ea106;let _0x35add1=0x4cb*-0x6+-0x1*0xb38+0x25a*0x11;for(let _0x2b21e4=0x1a2f+0x213d*-0x1+0x6*0x12d;_0x2b21e4<_0x5638c1['length']&&_0x35b580>_0x5638c1[_0x2b21e4];_0x2b21e4+=-0x1*0x503+-0x7*-0x71+0x1ee)_0x35add1=_0x2b21e4/(0x2*0x1127+0x86*0x43+-0x455e*0x1);this['dataWorker']||(this['dataWorker']=new JA(),await this['dataWorker']['appendGSpl'+'atData'](this,-0x9c*-0x29+-0x14d1+-0x42b*0x1,_0x5638c1));const _0x176e24=this['getElement']('vertex');_0x176e24&&(_0x176e24['count']=this['numSplats']);const _0x25f0d0=await this['dataWorker']['appendGSpl'+'atData'](_0x4b2763,_0x35add1,_0x5638c1,!(-0x1379+0x2416+0x109d*-0x1)),_0x262ed9=_0x25f0d0['properties'],_0x5b7782=((_0x3ea106=this['getElement']('vertex'))==null?void(-0x1*-0x8e1+0x1150+-0x2e9*0x9):_0x3ea106['properties'])??[];for(const _0x33187d in _0x262ed9){const _0x57a42d=_0x5b7782['find'](_0x180ffb=>_0x180ffb['name']===_0x33187d);_0x57a42d?_0x57a42d['storage']=_0x262ed9[_0x33187d]:_0x5b7782['push']({'type':'float','name':_0x33187d,'storage':_0x262ed9[_0x33187d],'byteSize':0x4});}this['transformD'+'ata']=_0x25f0d0['transformD'+'ata'],this['numSplats']=_0x262ed9['position']['length']/(0x1*-0x21f8+-0x1*-0xda6+-0x6c7*-0x3);}async['releaseSeq'+'Data'](_0x18c3ec){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'leaseSeqDa'+'ta',_0x18c3ec),this['dataWorker']['releaseSeq'+'Data'](_0x18c3ec),this;}async['releaseAll'+'SeqData'](){var _0x44bce5;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'lease\x20all\x20'+'SeqData'),(_0x44bce5=this['dataWorker'])==null||_0x44bce5['releaseAll'+'SeqData'](),this;}['getProp'](_0x13dd82,_0x145a81='vertex'){var _0x1a605e,_0x3d4f6b;return(_0x3d4f6b=(_0x1a605e=this['getElement'](_0x145a81))==null?void(-0xe7f*0x2+0x1998+0x57*0xa):_0x1a605e['properties']['find'](_0x981f6=>_0x981f6['name']===_0x13dd82))==null?void(0x30a*0x5+-0x2230+0x22*0x8f):_0x3d4f6b['storage'];}['getElement'](_0x255f96){return this['elements']['find'](_0x4a14e2=>_0x4a14e2['name']===_0x255f96);}['createIter'](_0x530da5,_0x4d676a,_0x4790f,_0x22f38e,_0x4c8b2a){return new tC(this,_0x530da5,_0x4d676a,_0x4790f,_0x22f38e,_0x4c8b2a);}['calcAabb'](_0x131932,_0xc80c41){let _0x191e1a=0x5*0x2ed+-0xaa1+-0x400,_0x3553af=0x313*0x2+-0xce3+0x159*0x5,_0x913c3c=-0x1234+-0x10d4+0x3b*0x98,_0x3260e0=0x1844+-0x1*0x2233+-0x1*-0x9ef,_0x1e5ed6=0x1*0x234c+-0xc3f*0x3+0x171*0x1,_0x35d329=-0x2348+0x1*-0x153d+-0x1*-0x3885,_0xaf201b=!(-0x1*0x20d7+-0x686+-0x1*-0x275d);const _0x54ff15=this['getProp']('position'),_0x280c90=this['getProp']('scale');for(let _0x6e24f9=-0x215*-0x2+-0x1a7b*0x1+0xc5*0x1d;_0x6e24f9<this['numSplats'];++_0x6e24f9){if(_0xc80c41&&!_0xc80c41(_0x6e24f9))continue;const _0xb39a7e=_0x54ff15[_0x6e24f9*(0x10*0x265+-0x2*-0x535+-0x30b7)+(0x15f4+-0x2d*0x8e+0x37*0xe)],_0x34096d=_0x54ff15[_0x6e24f9*(-0x13a*-0x8+-0x13a*-0x4+-0x5*0x2f1)+(-0x11be+-0x1*-0x7d3+0x9ec)],_0x152572=_0x54ff15[_0x6e24f9*(0x1c03+0xbf0+-0x27f0)+(-0x1091+-0x998*0x4+-0x1b*-0x209)],_0xf46743=Math['max'](_0x280c90[_0x6e24f9*(0x26ba+0x1f*-0x12a+-0x1*0x2a1)+(-0x1f80+0x239e+-0x41e)],_0x280c90[_0x6e24f9*(0x255a+-0x18*0x19c+0x149)+(-0x2c*-0xca+0x283*0x2+-0x27bd)],_0x280c90[_0x6e24f9*(-0x781+0x251e+-0x1d9a)+(-0xd2e+0x1*-0x11c3+0x1ef3)]);if(!isFinite(_0xb39a7e)||!isFinite(_0x34096d)||!isFinite(_0x152572)||!isFinite(_0xf46743))continue;const _0x340d26=(-0x16e0+0x1*-0x869+0x1f4b*0x1)*Math['exp'](_0xf46743);_0xaf201b?(_0xaf201b=!(0x8dc+-0x3e6*0x2+-0x10f),_0x191e1a=_0xb39a7e-_0x340d26,_0x3553af=_0x34096d-_0x340d26,_0x913c3c=_0x152572-_0x340d26,_0x3260e0=_0xb39a7e+_0x340d26,_0x1e5ed6=_0x34096d+_0x340d26,_0x35d329=_0x152572+_0x340d26):(_0x191e1a=Math['min'](_0x191e1a,_0xb39a7e-_0x340d26),_0x3553af=Math['min'](_0x3553af,_0x34096d-_0x340d26),_0x913c3c=Math['min'](_0x913c3c,_0x152572-_0x340d26),_0x3260e0=Math['max'](_0x3260e0,_0xb39a7e+_0x340d26),_0x1e5ed6=Math['max'](_0x1e5ed6,_0x34096d+_0x340d26),_0x35d329=Math['max'](_0x35d329,_0x152572+_0x340d26));}return _0xaf201b||(_0x131932['center']['set']((_0x191e1a+_0x3260e0)*(0x4f*0x31+0x11*-0x4f+0x2*-0x4f0+0.5),(_0x3553af+_0x1e5ed6)*(-0xf18+0x1*-0x1183+0x209b+0.5),(_0x913c3c+_0x35d329)*(0x1daf+-0x1707+0x8e*-0xc+0.5)),_0x131932['halfExtent'+'s']['set']((_0x3260e0-_0x191e1a)*(-0x2101+-0x6bb+-0x2*-0x13de+0.5),(_0x1e5ed6-_0x3553af)*(-0x1b4f*-0x1+0x41*0x8b+-0x1f4d*0x2+0.5),(_0x35d329-_0x913c3c)*(0x755*-0x3+-0x15c4+0x2bc3+0.5))),!_0xaf201b;}['yieldToMai'+'n'](){var _0x200a16;return(_0x200a16=globalThis['scheduler'])!=null&&_0x200a16['yield']?globalThis['scheduler']['yield']():new Promise(_0x275606=>{setTimeout(_0x275606,-0x1e7f+0x59b+0x18e4);});}async['getCenters'](_0x376bf1){const _0x4278c1=this['getProp']('x'),_0x54e236=this['getProp']('y'),_0x306183=this['getProp']('z');for(let _0x2de14b=-0x18aa+0xf*-0x24c+0x3b1e;_0x2de14b<this['numSplats'];++_0x2de14b)_0x376bf1[_0x2de14b*(0x1*0x1ce2+-0x2078+0x399)+(0x5d*0x1+0x499*0x5+-0x175a)]=_0x4278c1[_0x2de14b],_0x376bf1[_0x2de14b*(-0x2*-0x806+-0x269*0x4+-0x665)+(0x8de+-0x23e+-0x1*0x69f)]=_0x54e236[_0x2de14b],_0x376bf1[_0x2de14b*(0x5d*0x2b+-0x1c4c+0xcb0)+(-0x15*-0x197+0xd0f*-0x1+0x12*-0x121)]=_0x306183[_0x2de14b],_0x2de14b%Sg===-0x35f*-0x1+-0x125a+-0xd*-0x127&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x829c06;if((_0x829c06=this['transformD'+'ata'])!=null&&_0x829c06['muT'])return this['transformD'+'ata']['muT'];const _0x2e2b38=this['getProp']('t');return _0x2e2b38?new Float32Array(_0x2e2b38):void(-0xac3+-0x8*-0x185+0x15*-0x11);}async['getTScale'](){const _0x103c6e=this['getProp']('t_scale');if(!_0x103c6e)return;const _0x588d28=new Float32Array(this['numSplats']);for(let _0x53e38d=0x1cbd+0x1*-0x86a+0x1d9*-0xb;_0x53e38d<this['numSplats'];++_0x53e38d)_0x588d28[_0x53e38d]=Math['exp'](_0x103c6e[_0x53e38d]),_0x53e38d%Sg===0xa4f+-0x14e0+0x21d*0x5&&await this['yieldToMai'+'n']();return _0x588d28;}['getMotion'](_0x349bcd){const _0x329554=this['getProp']('motion');_0x329554&&new Float32Array(_0x329554['buffer']['slice']());}['getTimeInd'+'ex'](){var _0x17142b;if((_0x17142b=this['transformD'+'ata'])!=null&&_0x17142b['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0x28a650=this['getProp']('time_index');if(_0x28a650)return new Float32Array(_0x28a650);}['calcFocalP'+'oint'](_0x1dd3f1,_0x3f6c2f){const _0x302ec8=this['getProp']('position'),_0x398bb0=this['getProp']('scale');_0x1dd3f1['x']=-0x6b*-0x16+0xcf*-0x27+0x1657,_0x1dd3f1['y']=0xfda+-0x23ec*-0x1+-0x8d*0x5e,_0x1dd3f1['z']=0x1ada+0x3d*0x43+0x2ad1*-0x1;let _0x22eda4=-0x11bc+-0x3*0x14d+-0x1*-0x15a3;for(let _0x3332ee=-0x2024+-0xe80+0x2ea4;_0x3332ee<this['numSplats'];++_0x3332ee){if(_0x3f6c2f&&!_0x3f6c2f(_0x3332ee))continue;const _0x59e04c=_0x302ec8[_0x3332ee*(0x1*-0x177b+0x1a96+-0x318)+(0x12cf*-0x1+0x2051+-0xd82)],_0x4b43f1=_0x302ec8[_0x3332ee*(-0x3*-0x358+-0x994*0x4+0x1c4b)+(0x1*0x1dfd+0x1d*-0xf8+0x16*-0x16)],_0x264f4d=_0x302ec8[_0x3332ee*(-0xfc3+0xda8*-0x2+0x2b16)+(-0x15*0x9d+0x1f9b+-0x12b8)];if(!isFinite(_0x59e04c)||!isFinite(_0x4b43f1)||!isFinite(_0x264f4d))continue;const _0x4548e1=(-0x1*-0x2144+-0x29*0x54+0x1cd*-0xb)/(-0x427*-0x8+0x160f*-0x1+0xee*-0xc+Math['max'](_0x398bb0[_0x3332ee*(-0x1*-0x14f1+0x1f06+-0x33f4)+(-0x222a+0xdb1+0x1479)],_0x398bb0[_0x3332ee*(-0x2de+0x9e8+0x1*-0x707)+(-0xa3a+0x37c*-0xb+0x308f*0x1)],_0x398bb0[_0x3332ee*(-0x43*-0x4e+0x1*-0x12dd+-0x18a)+(0x20d0+0x1d77+-0x3e45)]));_0x1dd3f1['x']+=_0x59e04c*_0x4548e1,_0x1dd3f1['y']+=_0x4b43f1*_0x4548e1,_0x1dd3f1['z']+=_0x264f4d*_0x4548e1,_0x22eda4+=_0x4548e1;}_0x1dd3f1['mulScalar']((-0x1648+0x4ff*0x3+0x74c)/_0x22eda4);}['renderWire'+'frameBound'+'s'](_0x45f344,_0x579fca){const _0x4fbe86=new D(),_0x488b3f=new le(),_0x4a6d95=new D(),_0x325bb1=new D(),_0x3c4508=new D(),_0x61fbe9=this['createIter'](_0x4fbe86,_0x488b3f,_0x4a6d95);for(let _0x34033f=-0x189f+-0x1caf*0x1+0x2*0x1aa7;_0x34033f<this['numSplats'];++_0x34033f)_0x61fbe9['read'](_0x34033f),sC(gc,_0x4fbe86,_0x488b3f),gc['mul2'](_0x579fca,gc),_0x325bb1['set'](_0x4a6d95['x']*-(0x1*0x1b19+-0x1325+-0x7f2),_0x4a6d95['y']*-(-0xb1*-0x38+-0x206c+0x2e*-0x23),_0x4a6d95['z']*-(0x23e6+-0xac8+-0x191c)),_0x3c4508['set'](_0x4a6d95['x']*(-0x190f+-0x4e*0x23+-0xbe9*-0x3),_0x4a6d95['y']*(0x1*-0xe0d+-0xbbb+0x19ca),_0x4a6d95['z']*(-0x146*-0x16+0x2a+0x1*-0x1c2c)),_0x45f344['immediate']['drawWireAl'+'ignedBox'](_0x325bb1,_0x3c4508,eC,!(-0x2003+-0x1*-0x1323+-0x338*-0x4),_0x45f344['defaultDra'+'wLayer'],gc);}get['isCompress'+'ed'](){return!(-0x1*-0x525+0x3ab+-0x8cf);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x82acae=-0x215e*-0x1+0xf7b+-0x30d9;_0x82acae<-0x15be+0x1906+-0x1*0x31b;++_0x82acae)if(!this['getProp']('f_rest_'+_0x82acae))return _0x82acae;return-0x50b*0x7+0x23*0x94+-0x1*-0xf3e;})())]??0x1*-0xd3b+0xebe*0x1+0x1*-0x183;}['calcMorton'+'Order'](){const _0x2346bc=_0x4c9dcb=>{let _0x212ac8=_0x4c9dcb[0x17*-0x160+0x12be+0xce2],_0x46f50c=_0x4c9dcb[-0x1*-0x103d+0x1*-0x1dd7+-0x2*-0x6cd];for(let _0x1fc522=-0x2e8+0x9e4+-0x1*0x6fb;_0x1fc522<_0x4c9dcb['length'];_0x1fc522++)_0x4c9dcb[_0x1fc522]<_0x212ac8&&(_0x212ac8=_0x4c9dcb[_0x1fc522]),_0x4c9dcb[_0x1fc522]>_0x46f50c&&(_0x46f50c=_0x4c9dcb[_0x1fc522]);return{'min':_0x212ac8,'max':_0x46f50c};},_0x416e6d=(_0x519e2e,_0x1f8cff,_0x3d5a4d)=>{const _0x41fb74=_0x582679=>(_0x582679&=0xbf*0x11+0x2*0xbf7+-0xa7*0x32,_0x582679=(_0x582679^_0x582679<<0xf4d*-0x2+-0x2272+0x411c)&0xd85ff4d7+-0x11c337292+0x142d37eba,_0x582679=(_0x582679^_0x582679<<-0x1525+0x13b2+0x17b)&0x3d673e4+-0x1*-0x4e6a2b5+-0x5bc268a,_0x582679=(_0x582679^_0x582679<<0x2d*0x32+-0x55*0x2b+0x581)&-0x566f915+-0x392aa5*0x1b+0xe7aa93f,_0x582679=(_0x582679^_0x582679<<0x2*-0x12dd+0x109e+-0x385*-0x6)&0x1*-0x2ecdbba+-0x1*-0x81eca03+0x3f2a400,_0x582679);return(_0x41fb74(_0x3d5a4d)<<0x1*0x198b+-0x112e+-0x85b)+(_0x41fb74(_0x1f8cff)<<-0x2100+-0x2*0xaa1+0x3643)+_0x41fb74(_0x519e2e);},_0x555bfe=this['getProp']('x'),_0xf932ce=this['getProp']('y'),_0x443f0a=this['getProp']('z'),{min:_0x23a756,max:_0x13bc5e}=_0x2346bc(_0x555bfe),{min:_0x47d391,max:_0x23df0b}=_0x2346bc(_0xf932ce),{min:_0x1cfd2d,max:_0x5e57fa}=_0x2346bc(_0x443f0a),_0x56febb=_0x23a756===_0x13bc5e?0x1baa+0x2*-0xfae+0x3b2:(-0x1*0x33f+-0x1*0x871+0xfb0)/(_0x13bc5e-_0x23a756),_0xc05bce=_0x47d391===_0x23df0b?0x20cf*0x1+0x1efc*0x1+-0x3fcb:(0x1*0x2111+-0x1cd5+-0x3c)/(_0x23df0b-_0x47d391),_0x3945bd=_0x1cfd2d===_0x5e57fa?0xe8c+-0x1575+0x6e9:(-0xb9c+0xc5*0x1b+-0x1*0x52b)/(_0x5e57fa-_0x1cfd2d),_0x55b0c5=new Map();for(let _0x59f9cf=0x1323+0x1*0x15c1+-0x28e4;_0x59f9cf<this['numSplats'];_0x59f9cf++){const _0x2dbfb0=Math['min'](0x107+0x633+-0x33b,Math['floor']((_0x555bfe[_0x59f9cf]-_0x23a756)*_0x56febb)),_0x428950=Math['min'](-0xf7b+-0x18fb+0x2c75*0x1,Math['floor']((_0xf932ce[_0x59f9cf]-_0x47d391)*_0xc05bce)),_0x1536ae=Math['min'](0x389*0x5+-0x2*-0x3f5+-0x1598,Math['floor']((_0x443f0a[_0x59f9cf]-_0x1cfd2d)*_0x3945bd)),_0x689750=_0x416e6d(_0x2dbfb0,_0x428950,_0x1536ae),_0x2a307a=_0x55b0c5['get'](_0x689750);_0x2a307a?_0x2a307a['push'](_0x59f9cf):_0x55b0c5['set'](_0x689750,[_0x59f9cf]);}const _0x156e5e=Array['from'](_0x55b0c5['keys']())['sort']((_0x264c80,_0xdb72af)=>_0x264c80-_0xdb72af),_0x4aac38=new Uint32Array(this['numSplats']);let _0x111d7a=-0x22d3+-0x2379+0x2326*0x2;for(let _0x3ec280=-0x21c0+0x1*0x3ad+-0x1e13*-0x1;_0x3ec280<_0x156e5e['length'];++_0x3ec280){const _0x38f1b0=_0x55b0c5['get'](_0x156e5e[_0x3ec280]);for(let _0x4392b2=-0x1890+-0x14c*0x2+0x1b28;_0x4392b2<_0x38f1b0['length'];++_0x4392b2)_0x4aac38[_0x111d7a++]=_0x38f1b0[_0x4392b2];}return _0x4aac38;}['reorder'](_0x23f8e0){const _0x3d6071=new Map(),_0x3ea90b=_0x408f5=>{if(_0x3d6071['has'](_0x408f5)){const _0x4a5c91=_0x3d6071['get'](_0x408f5);return _0x3d6071['delete'](_0x408f5),_0x4a5c91;}return new ArrayBuffer(_0x408f5);},_0x447579=_0x1f7144=>{_0x3d6071['set'](_0x1f7144['byteLength'],_0x1f7144);},_0x443324=_0x4d8e57=>{const _0x37016a=new _0x4d8e57['constructo'+'r'](_0x3ea90b(_0x4d8e57['byteLength']));for(let _0x311541=-0x270c+0x17cc+0x7a0*0x2;_0x311541<_0x23f8e0['length'];_0x311541++)_0x37016a[_0x311541]=_0x4d8e57[_0x23f8e0[_0x311541]];return _0x447579(_0x4d8e57['buffer']),_0x37016a;};this['elements']['forEach'](_0x352d05=>{_0x352d05['properties']['forEach'](_0x68d3e8=>{_0x68d3e8['storage']&&(_0x68d3e8['storage']=_0x443324(_0x68d3e8['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const rC='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20void\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.0,\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a',aC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'vec4\x20packR'+'gb(vec3\x20v)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uvec3\x20vb\x20'+'=\x20uvec3(cl'+'amp(v,\x20vec'+'3(0.0),\x20ve'+'c3(1.0))\x20*'+'\x20vec3(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uint\x20bits\x20'+'=\x20(vb.x\x20<<'+'\x2021)\x20|\x20(vb'+'.y\x20<<\x2010)\x20'+'|\x20vb.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4((u'+'vec4(bits)'+'\x20>>\x20uvec4('+'24,\x2016,\x208,'+'\x200))\x20&\x20uve'+'c4(0xff))\x20'+'/\x20vec4(255'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20vec3\x20dir'+';\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20sampler2'+'D\x20centroid'+'s;\x0a\x20\x20\x20\x20uni'+'form\x20mediu'+'mp\x20float\x20s'+'hN_mins;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20f'+'loat\x20shN_m'+'axs;\x0a\x0a\x20\x20\x20\x20'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ivec'+'2\x20uv\x20=\x20ive'+'c2(gl_Frag'+'Coord.xy)\x20'+'*\x20ivec2(SH'+'_COEFFS,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20mediump\x20v'+'ec3\x20coeffi'+'cients[SH_'+'COEFFS];\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(int\x20i\x20=\x20'+'0;\x20i\x20<\x20SH_'+'COEFFS;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20s\x20=\x20texe'+'lFetch(cen'+'troids,\x20iv'+'ec2(uv.x\x20+'+'\x20i,\x20uv.y),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20coefficie'+'nts[i]\x20=\x20m'+'ix(vec3(sh'+'N_mins),\x20v'+'ec3(shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20packRgb'+'(evalSH(co'+'efficients'+',\x20dir)\x20*\x200'+('.25\x20+\x200.5)'+';\x0a\x20\x20\x20\x20}\x0a'),nC='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput:\x20Vert'+'exInput)\x20-'+'>\x20VertexOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Ver'+'texOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a',oC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'fn\x20packRgb'+'(v:\x20vec3f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vb\x20=\x20v'+'ec3u(clamp'+'(v,\x20vec3f('+'0.0),\x20vec3'+'f(1.0))\x20*\x20'+'vec3f(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20bits\x20='+'\x20dot(vb,\x20v'+'ec3u(1\x20<<\x20'+'21,\x201\x20<<\x201'+'0,\x201));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(('+'vec4u(bits'+')\x20>>\x20vec4u'+'(24,\x2016,\x208'+',\x200))\x20&\x20ve'+'c4u(0xff))'+'\x20/\x20vec4f(2'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20un'+'iform\x20dir:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'shN_mins:\x20'+'f32;\x0a\x20\x20\x20\x20u'+'niform\x20shN'+'_maxs:\x20f32'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20centroids'+':\x20texture_'+'2d<f32>;\x0a\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input:'+'\x20FragmentI'+'nput)\x20->\x20F'+'ragmentOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20uv\x20=\x20'+'vec2i(inpu'+'t.position'+'.xy)\x20*\x20vec'+'2i(SH_COEF'+'FS,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'coefficien'+'ts:\x20array<'+'vec3f,\x20SH_'+'COEFFS>;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x200;\x20i\x20'+'<\x20SH_COEFF'+'S;\x20i++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s:\x20v'+'ec3f\x20=\x20tex'+'tureLoad(c'+'entroids,\x20'+'vec2i(uv.x'+'\x20+\x20i,\x20uv.y'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20coeffic'+'ients[i]\x20='+'\x20mix(vec3f'+'(uniform.s'+'hN_mins),\x20'+'vec3f(unif'+('orm.shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20packRgb'+'(evalSH(&c'+'oefficient'+'s,\x20uniform'+'.dir)\x20*\x200.'+'25\x20+\x200.5);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20}'+'\x0a'),lC='\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20sampler2D'+'\x20sh0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x20\x20\x20\x20u'+'niform\x20med'+'iump\x20sampl'+'er2D\x20sh_re'+'sult;\x0a\x0a\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20sh0_mi'+'ns;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20sh0_maxs;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20SH_C0\x20=\x20'+'0.28209479'+'177387814;'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'npack\x2011,\x20'+'11,\x2010\x20nor'+'malized\x20va'+'lue\x20from\x20r'+'gba8\x20textu'+'re\x20sample\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackRgb(v'+'ec4\x20v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uve'+'c4\x20uv\x20=\x20uv'+'ec4(v\x20*\x2025'+'5.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uint\x20b'+'its\x20=\x20(uv.'+'x\x20<<\x2024)\x20|'+'\x20(uv.y\x20<<\x20'+'16)\x20|\x20(uv.'+'z\x20<<\x208)\x20|\x20'+'uv.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uvec3\x20'+'vb\x20=\x20(uvec'+'3(bits)\x20>>'+'\x20uvec3(21,'+'\x2010,\x200))\x20&'+'\x20uvec3(0x7'+'ffu,\x200x7ff'+'u,\x200x3ffu)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3(vb)\x20/\x20ve'+'c3(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20baseSampl'+'e\x20=\x20mix(sh'+'0_mins,\x20sh'+'0_maxs,\x20te'+'xelFetch(s'+'h0,\x20source'+'.uv,\x200));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20resolve\x20'+'base\x20color'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4\x20base\x20='+'\x20vec4(vec3'+'(0.5)\x20+\x20ba'+'seSample.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'baseSample'+'.w)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'xtract\x20sph'+'erical\x20har'+'monics\x20pal'+'ette\x20index'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20label'+'Sample\x20=\x20i'+'vec2(texel'+'Fetch(sh_l'+'abels,\x20sou'+'rce.uv,\x200)'+'.xy\x20*\x20255.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20int\x20n\x20=\x20'+('labelSampl'+'e.x\x20+\x20labe'+'lSample.y\x20'+'*\x20256;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shSample\x20'+'=\x20texelFet'+'ch(sh_resu'+'lt,\x20ivec2('+'n\x20%\x2064,\x20n\x20'+'/\x2064),\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20sh\x20=\x20('+'unpackRgb('+'shSample)\x20'+'-\x20vec3(0.5'+'))\x20*\x204.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'(base.xyz\x20'+'+\x20sh,\x20base'+'.w);\x0a\x20\x20\x20\x20}'+'\x0a'),cC='\x0a\x20\x20\x20\x20var\x20s'+'h0:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'h_labels:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20sh_re'+'sult:\x20text'+'ure_2d<f32'+'>;\x0a\x0a\x20\x20\x20\x20un'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20sh0_m'+'axs:\x20vec4f'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20SH_C0:\x20'+'f32\x20=\x200.28'+'2094791773'+'87814;\x0a\x0a\x20\x20'+'\x20\x20//\x20unpac'+'k\x2011,\x2011,\x20'+'10\x20normali'+'zed\x20value\x20'+'from\x20rgba8'+'\x20texture\x20s'+'ample\x0a\x20\x20\x20\x20'+'fn\x20unpackR'+'gb(v:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20bits'+'\x20=\x20dot(vec'+'4u(v\x20*\x20255'+'.0),\x20vec4u'+'(1u\x20<<\x2024,'+'\x201u\x20<<\x2016,'+'\x201u\x20<<\x208,\x20'+'1u));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20vb'+'\x20=\x20(vec3u('+'bits)\x20>>\x20v'+'ec3u(21,\x201'+'0,\x200))\x20&\x20v'+'ec3u(0x7ff'+'u,\x200x7ffu,'+'\x200x3ffu);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec3f'+'(vb)\x20/\x20vec'+'3f(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20f'+'n\x20readColo'+'r(source:\x20'+'ptr<functi'+'on,\x20SplatS'+'ource>)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'baseSample'+':\x20vec4f\x20=\x20'+'mix(unifor'+'m.sh0_mins'+',\x20uniform.'+'sh0_maxs,\x20'+'textureLoa'+'d(sh0,\x20sou'+'rce.uv,\x200)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20base\x20'+'=\x20vec4f(ve'+'c3f(0.5)\x20+'+'\x20baseSampl'+'e.xyz\x20*\x20SH'+'_C0,\x201.0\x20/'+'\x20(1.0\x20+\x20ex'+'p(-baseSam'+'ple.w)));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20extract\x20'+'spherical\x20'+'harmonics\x20'+'palette\x20in'+'dex\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20labe'+'lSample:\x20v'+'ec2i\x20=\x20vec'+'2i(texture'+'Load(sh_la'+'bels,\x20sour'+'ce.uv,\x200).'+'xy\x20*\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20n\x20=\x20l'+('abelSample'+'.x\x20+\x20label'+'Sample.y\x20*'+'\x20256;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hSample:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(s'+'h_result,\x20'+'vec2i(n\x20%\x20'+'64,\x20n\x20/\x2064'+'),\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'h:\x20vec3f\x20='+'\x20(unpackRg'+'b(shSample'+')\x20-\x20vec3f('+'0.5))\x20*\x204.'+'0;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(base.'+'xyz\x20+\x20sh,\x20'+'base.w);\x0a\x20'+'\x20\x20\x20}\x0a'),hC=(_0x2b0a2e,_0x4ffdea)=>{for(const _0x2594c1 in _0x4ffdea)_0x2b0a2e['resolve'](_0x2594c1)['setValue'](_0x4ffdea[_0x2594c1]);};class dC extends ys{constructor(){super(...arguments),h(this,'executeCal'+'lback',null);}['execute'](){var _0x13fedb;(_0x13fedb=this['executeCal'+'lback'])==null||_0x13fedb['call'](this);}}const yg=new te(),uo=new D();class fC{constructor(_0x3012c4,_0x3a93af){h(this,'prevDir',new D()),h(this,'updateMode','enable'),(this['device']=_0x3012c4,this['gsplatInst'+'ance']=_0x3a93af);const {resource:_0x54b728}=_0x3a93af,_0xf2d7c7=new Map(Pe['get'](_0x3012c4,_0x3012c4['isWebGPU']?'wgsl':'glsl'));this['shader']=$t['createShad'+'er'](_0x3012c4,{'uniqueName':'gsplatReso'+'lveSH','vertexGLSL':rC,'fragmentGLSL':aC,'vertexWGSL':nC,'fragmentWGSL':oC,'vertexIncludes':_0xf2d7c7,'fragmentIncludes':_0xf2d7c7,'fragmentDefines':new Map([['SH_BANDS',_0x54b728['gsplatData']['shBands']['toString']()]]),'attributes':{'vertex_position':Me}}),this['texture']=_0x54b728['createText'+'ure']('centroids',Ne,new J(-0x9c4*0x2+0x1ebc+-0xaf4*0x1,0x178f+0xe9+0x8*-0x28f)),this['renderTarg'+'et']=new gt({'colorBuffer':this['texture'],'depth':!(0x5f2+0x15*-0x19+-0x6*0xa6)}),this['renderPass']=new dC(_0x3012c4),this['renderPass']['init'](this['renderTarg'+'et'],{}),this['renderPass']['colorOps']['clear']=!(0x1bed*0x1+0x1*0xc48+-0x2835),this['quadRender']=new Ah(this['shader']);const {material:_0x2fb467}=_0x3a93af;_0x2fb467['setDefine']('SH_BANDS','0');const {shaderChunks:_0x190318}=_0x2fb467;_0x190318['glsl']['set']('gsplatSogs'+'ColorVS',lC),_0x190318['wgsl']['set']('gsplatSogs'+'ColorVS',cC),_0x2fb467['update'](),_0x3012c4['scope']['resolve']('sh_result')['setValue'](this['texture']);}['destroy'](){const {gsplatInstance:_0x53034c}=this,{material:_0x4bc12a}=_0x53034c;_0x4bc12a['setDefine']('SH_BANDS',_0x53034c['resource']['gsplatData']['shBands']['toString']());const {shaderChunks:_0x283236}=_0x4bc12a;_0x283236['glsl']['delete']('gsplatSogs'+'ColorVS'),_0x283236['wgsl']['delete']('gsplatSogs'+'ColorVS'),_0x4bc12a['update'](),this['quadRender']['destroy'](),this['renderPass']['destroy'](),this['renderTarg'+'et']['destroy'](),this['texture']['destroy'](),this['shader']['destroy']();}['render'](_0x123059,_0x211a21){const {prevDir:_0x1a179b,updateMode:_0x3817b6}=this;if(_0x3817b6==='disable'||(yg['invert'](_0x211a21),yg['transformV'+'ector'](_0x123059['forward'],uo),uo['normalize'](),_0x3817b6==='enable'&&uo['equalsAppr'+'ox'](_0x1a179b,-0x21e2+0x10*0x257+0x23*-0x1a+0.001)))return;_0x1a179b['copy'](uo);const _0x3c17b0=()=>{const {device:_0x12ee58}=this,{sh_centroids:_0x1ef811,meta:_0x22cd46}=this['gsplatInst'+'ance']['resource']['gsplatData'];hC(_0x12ee58['scope'],{'dir':uo['toArray'](),'centroids':_0x1ef811,'shN_mins':_0x22cd46['shN']['mins'],'shN_maxs':_0x22cd46['shN']['maxs']}),_0x12ee58['setCullMod'+'e'](bt),_0x12ee58['setDepthSt'+'ate'](Yt['NODEPTH']),_0x12ee58['setStencil'+'State'](null,null),_0x12ee58['setBlendSt'+'ate'](pt['NOBLEND']),this['quadRender']['render']();};this['renderPass']['executeCal'+'lback']=_0x3c17b0,this['renderPass']['render']();}}const uC='\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20means_l'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20means_'+'u;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20quats'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20scales'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20uint\x20n'+'umSplats;\x0a'+'\x0a\x20\x20\x20\x20uint\x20'+'packU32(ve'+'c4\x20v)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20uint(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u\x20|\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20uint('+'v.y\x20*\x20255.'+'0)\x20<<\x2016u\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uin'+'t(v.z\x20*\x2025'+'5.0)\x20<<\x208u'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(v.w\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20uv'+'ec4\x20packU3'+'2(vec4\x20a,\x20'+'vec4\x20b,\x20ve'+'c4\x20c,\x20vec4'+'\x20d)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uvec4(pac'+'kU32(a),\x20p'+'ackU32(b),'+'\x20packU32(c'+'),\x20packU32'+'(d));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20w\x20='+'\x20int(textu'+'reSize(mea'+'ns_l,\x200).x'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ivec2\x20uv\x20'+'=\x20ivec2(gl'+'_FragCoord'+'.xy);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(ui'+'nt(uv.x\x20+\x20'+'uv.y\x20*\x20w)\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansLSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_l,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansUSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_u,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20quatsSamp'+'le\x20=\x20texel'+'Fetch(quat'+'s,\x20uv,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20scales'+'Sample\x20=\x20t'+'exelFetch('+'scales,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shLabel'+'sSample\x20=\x20'+'texelFetch'+'(sh_labels'+',\x20uv,\x200).x'+('y;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20pcFragCo'+'lor0\x20=\x20pac'+'kU32(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansLS'+'ample,\x20shL'+'abelsSampl'+'e.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansUS'+'ample,\x20shL'+'abelsSampl'+'e.y),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(quatsSa'+'mple),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4(scales'+'Sample,\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20}\x0a'),pC='\x0a\x20\x20\x20\x20var\x20m'+'eans_l:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20means_u'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20qua'+'ts:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'cales:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sh_label'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20numSpla'+'ts:\x20u32;\x0a\x0a'+'\x20\x20\x20\x20fn\x20pac'+'kU32(v:\x20ve'+'c4<f32>)\x20-'+'>\x20u32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(u32(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(u3'+'2(v.y\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20\x20|\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(u32(v.z\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20u32(v.w'+'\x20*\x20255.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20packU'+'Vec32(a:\x20v'+'ec4<f32>,\x20'+'b:\x20vec4<f3'+'2>,\x20c:\x20vec'+'4<f32>,\x20d:'+'\x20vec4<f32>'+')\x20->\x20vec4<'+'u32>\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4<u32'+'>(packU32('+'a),\x20packU3'+'2(b),\x20pack'+'U32(c),\x20pa'+'ckU32(d));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20@fragmen'+'t\x0a\x20\x20\x20\x20fn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20w:\x20u32\x20'+'=\x20textureD'+'imensions('+'means_l,\x200'+').x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2<u32>'+'\x20=\x20vec2<u3'+'2>(pcPosit'+'ion.xy);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv.x\x20+\x20uv'+'.y\x20*\x20w\x20>=\x20'+'uniform.nu'+'mSplats)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20fetch\x20the'+'\x20source\x20in'+'dex\x20and\x20ca'+'lculate\x20so'+'urce\x20uv\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'meansLSamp'+'le:\x20vec3<f'+('32>\x20=\x20text'+'ureLoad(me'+'ans_l,\x20uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20meansUSam'+'ple:\x20vec3<'+'f32>\x20=\x20tex'+'tureLoad(m'+'eans_u,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20quatsSam'+'ple:\x20vec4<'+'f32>\x20=\x20tex'+'tureLoad(q'+'uats,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20scal'+'esSample:\x20'+'vec3<f32>\x20'+'=\x20textureL'+'oad(scales'+',\x20uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shLa'+'belsSample'+':\x20vec2<f32'+'>\x20=\x20textur'+'eLoad(sh_l'+'abels,\x20uv,'+'\x200).xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20packUVec'+'32(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansLSam'+'ple,\x20shLab'+'elsSample.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansUSam'+'ple,\x20shLab'+'elsSample.'+'y),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(quatsSamp'+'le),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4(scalesSa'+'mple,\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a'),An=0x1*-0x128f+0x1e*-0xff+0x3071+0.28209479177387814,Ci=_0x58687c=>_0x58687c['read'](-0x565*-0x7+-0x1*-0x13a9+-0x396c,0x2144+0xfab*0x1+-0x30ef,_0x58687c['width'],_0x58687c['height'],{'mipLevel':0x0,'face':0x0,'immediate':!(0x517*0x1+-0x1300+0xde9)}),mC=(_0x3d7405,_0x28e72c)=>{for(const _0x3e69fa in _0x28e72c)_0x3d7405['resolve'](_0x3e69fa)['setValue'](_0x28e72c[_0x3e69fa]);};class _C{constructor(_0x505d8a,_0x179035,_0x4c7e78,_0x1f918c,_0x45ed69,_0x12a9e2){const _0x1c0716=(_0x5cd22a,_0x41a635,_0x715291)=>_0x5cd22a*(-0x9bb+-0xb8*0x1+0x53a*0x2-_0x715291)+_0x41a635*_0x715291,{meta:_0x76098f}=_0x505d8a,{means:_0x1e2411,scales:_0x2bb02b,sh0:_0x2b9610,shN:_0x4c40e9}=_0x76098f,_0x3c4e4c=_0x179035&&_0x505d8a['means_l']['_levels'][-0x4e9+-0xf9b+0x1484],_0x197845=_0x179035&&_0x505d8a['means_u']['_levels'][0x2*0x6f6+-0x123f*0x1+0x453],_0x3401cb=_0x4c7e78&&_0x505d8a['quats']['_levels'][0x5d*-0x4d+0x2182+-0x589],_0x47dc0f=_0x1f918c&&_0x505d8a['scales']['_levels'][-0x1*0x1649+-0x22c7+0x4*0xe44],_0x4ab504=_0x45ed69&&_0x505d8a['sh0']['_levels'][-0x16cb+0xb55*0x1+0x2*0x5bb],_0x39c0b0=_0x12a9e2&&_0x505d8a['sh_labels']['_levels'][-0x1e73*0x1+0x186a+-0x135*-0x5],_0x4b6028=_0x12a9e2&&_0x505d8a['sh_centroi'+'ds']['_levels'][-0x25a2+-0x3a8+0x7*0x5e6],_0x14cda4=(-0x2514+0x1*-0x1211+-0x7*-0x7e1)/Math['sqrt'](-0x4*0x39a+-0x1*0x1791+0x25fb*0x1);this['read']=_0x144da=>{if(_0x179035){const _0x17d963=_0x1c0716(_0x1e2411['mins'][0x828+-0xab3*0x3+0x17f1],_0x1e2411['maxs'][-0x521+-0x52+-0x9*-0x9b],((_0x197845[_0x144da*(0x130a+0xf33*-0x2+-0x1a*-0x70)+(-0x1664+0x79*0x15+0xc77)]<<0x1*0x1327+0x4be+-0x17dd)+_0x3c4e4c[_0x144da*(-0x1c6*-0x2+-0x124b+-0x1*-0xec3)+(-0x926*-0x1+0xa5c*-0x1+0x136)])/(-0x1b0e9+-0xb7d3*-0x1+-0x1*-0x1f915)),_0x13e85e=_0x1c0716(_0x1e2411['mins'][-0x4c7*0x7+0x115f*-0x2+0x4430],_0x1e2411['maxs'][0x45*0x65+0xf53+-0x2a8b*0x1],((_0x197845[_0x144da*(-0x1dac+0x2650*0x1+-0x8a0)+(-0x1fcd+0x1*0x1cfc+-0x26*-0x13)]<<0xe11*-0x2+-0x9*-0x19e+0xd9c)+_0x3c4e4c[_0x144da*(-0x51*-0x21+-0x2ff*0xd+0x1c86)+(-0x214b+-0x3c7*0xa+0x4712)])/(0x3cd1*-0x8+0x4*0x4385+0x1d873)),_0xa6a4c=_0x1c0716(_0x1e2411['mins'][-0x8c5*-0x1+0xa45+-0x1308],_0x1e2411['maxs'][-0x91a+0x609*-0x3+-0x1b37*-0x1],((_0x197845[_0x144da*(0xb*0x81+0x285*-0x6+0x997)+(-0x62*-0x56+0x138a+-0x4*0xd1d)]<<-0xc4b*0x3+0x1*0x11b5+0x1334*0x1)+_0x3c4e4c[_0x144da*(0x1161+0xd31+-0x1e8e)+(0x23eb*0x1+0x1a18+-0x1e1*0x21)])/(0xcf90+-0x8f*0x2e1+0x1cc1e));_0x179035['x']=Math['sign'](_0x17d963)*(Math['exp'](Math['abs'](_0x17d963))-(0x8*-0x1fd+-0x17ac*-0x1+-0x7c3*0x1)),_0x179035['y']=Math['sign'](_0x13e85e)*(Math['exp'](Math['abs'](_0x13e85e))-(0x1d67+-0x2f*0x65+0x1*-0xadb)),_0x179035['z']=Math['sign'](_0xa6a4c)*(Math['exp'](Math['abs'](_0xa6a4c))-(0x62f*-0x1+-0xcb9+-0x2f*-0x67));}if(_0x4c7e78){const _0x26ad08=(_0x3401cb[_0x144da*(0x101d+0x16d5+-0x26ee)+(-0x27*0xc1+0x382*0x1+0x19e5*0x1)]/(-0xd6c+0x130d+-0x4a2)-(-0x12fd*0x1+0xc*-0x1b6+0x2785+0.5))*_0x14cda4,_0x3def4a=(_0x3401cb[_0x144da*(0x23bf*-0x1+-0x15b7+-0x1cbd*-0x2)+(-0x12b3+-0x207a+0x332e)]/(-0x3fd*-0x1+-0x3*0x709+0x121d)-(-0x246*-0x5+-0xca*0x31+0x1*0x1b4c+0.5))*_0x14cda4,_0x49248b=(_0x3401cb[_0x144da*(-0x814+0x1cf9+-0x14e1)+(0xd6c+0x1d20+-0x2d6*0xf)]/(-0x16f7*0x1+-0x1ea4+0x369a)-(-0x9d5+0x9fa+-0x25+0.5))*_0x14cda4,_0x2a9980=Math['sqrt'](Math['max'](-0x13aa+-0xfb5*-0x2+0x5e*-0x20,0x152f+-0x1825*-0x1+-0x2d53-(_0x26ad08*_0x26ad08+_0x3def4a*_0x3def4a+_0x49248b*_0x49248b)));switch(_0x3401cb[_0x144da*(0x1*0x2273+-0xd5e+-0x1511)+(0x1*-0xe1f+-0x4*0x7a+0x100a)]-(0x2498+0x1f0f+0x3*-0x1639)){case-0xe36+0x13e5+-0x5af:_0x4c7e78['set'](_0x26ad08,_0x3def4a,_0x49248b,_0x2a9980);break;case-0x65*-0x61+0x1a76+-0x679*0xa:_0x4c7e78['set'](_0x2a9980,_0x3def4a,_0x49248b,_0x26ad08);break;case-0x23f9+0x1*0x48b+0x1f70:_0x4c7e78['set'](_0x3def4a,_0x2a9980,_0x49248b,_0x26ad08);break;case 0x1f3c+-0xd5*0x17+0xe*-0xdd:_0x4c7e78['set'](_0x3def4a,_0x49248b,_0x2a9980,_0x26ad08);break;}}if(_0x1f918c){const _0x21b301=_0x1c0716(_0x2bb02b['mins'][0x1ffe+0xc5*0x7+-0x1*0x2561],_0x2bb02b['maxs'][-0x3*0x65+0x1f5c+-0x1e2d],_0x47dc0f[_0x144da*(0x1*0x355+-0x6*-0x546+-0x22f5)+(-0x1*-0x353+0x18f5*0x1+-0x4*0x712)]/(0xc5+-0x1*0x1ab1+0x8f9*0x3)),_0x52343b=_0x1c0716(_0x2bb02b['mins'][-0x1*0x21ad+-0xb27*-0x1+-0x1687*-0x1],_0x2bb02b['maxs'][-0x2505+0xf82+0x396*0x6],_0x47dc0f[_0x144da*(-0x853*0x1+0x6*0x602+-0x1bb5*0x1)+(0xc66+-0x2056*-0x1+0x3*-0xee9)]/(-0x9f3+0x9ef*-0x1+0x14e1*0x1)),_0x252ec3=_0x1c0716(_0x2bb02b['mins'][0x1459*-0x1+-0x113+0xd*0x1a6],_0x2bb02b['maxs'][0x1*-0x270f+0x4*-0x449+0x1*0x3835],_0x47dc0f[_0x144da*(-0xf9*-0x15+0x238f+-0x6*0x954)+(-0x6*0x631+-0x3bf+0x11b*0x25)]/(-0x2*0x73c+0xefe*-0x1+0x1e75));_0x1f918c['set'](_0x21b301,_0x52343b,_0x252ec3);}if(_0x45ed69){const _0x13d079=_0x1c0716(_0x2b9610['mins'][-0x1400+-0x595*-0x1+-0xe6b*-0x1],_0x2b9610['maxs'][0x1bd1+-0x1*-0x7fe+-0x23cf],_0x4ab504[_0x144da*(-0x25*0xe3+-0x2*0xb82+0xb2b*0x5)+(-0x1091+0x251*-0x6+0x1e77)]/(0x26bb+0x3a+0x1*-0x25f6)),_0x48899c=_0x1c0716(_0x2b9610['mins'][0x2650+-0x1e84+0x7*-0x11d],_0x2b9610['maxs'][-0x1ec3+0xa50+0x176*0xe],_0x4ab504[_0x144da*(-0xb42+-0xe0d+0x1953)+(0x6b1+-0x37d+0x1*-0x333)]/(-0x5*-0x2+-0x4*-0x1b9+-0x5ef)),_0x328beb=_0x1c0716(_0x2b9610['mins'][0x416*-0x1+0x907+-0x4ef],_0x2b9610['maxs'][-0x14db+0x1*0xef+0x13ee],_0x4ab504[_0x144da*(-0x3*0x5e7+0x1bf+-0x1*-0xffa)+(-0xef5+-0xc3f+0x102*0x1b)]/(-0x40*0x57+-0x6d*0x41+0x1*0x326c)),_0x154789=_0x1c0716(_0x2b9610['mins'][0x22b6+0x6d*0x5+-0x24d4*0x1],_0x2b9610['maxs'][0x1f70+-0x4*0x7dd+0x1*0x7],_0x4ab504[_0x144da*(-0x1fdf+-0x1f73+-0x16*-0x2e1)+(0x249f+0x20f8+-0x4594)]/(0x1ea5+-0x1308+-0xa9e));_0x45ed69['set'](0x1349*0x1+-0x4*0x5eb+0x463+0.5+_0x13d079*An,-0x2*-0x707+0x1a3e*0x1+-0xa13*0x4+0.5+_0x48899c*An,-0x17bf+-0x6a*-0x4+-0x57*-0x41+0.5+_0x328beb*An,(0x2704+-0x20*0x105+-0x663)/(-0x7b*0x32+0x20d3+-0x1*0x8cc+Math['exp'](-_0x154789)));}if(_0x12a9e2){const _0x186aa7=_0x39c0b0[_0x144da*(-0x146d+0x1ad3*0x1+-0x662)+(-0xcf6+-0x6*-0x664+-0x1962*0x1)]+(_0x39c0b0[_0x144da*(0xfdd+-0x5*-0x6c6+0x8f*-0x59)+(-0x1aa7+-0x255e*0x1+0x12a*0x37)]<<0x1f68+0x2692+-0x9fe*0x7),_0xfd25f5=_0x186aa7%(0x534+-0x189+-0x36b)*(-0xd67+0x15*0x14e+-0xdf0),_0x4ac7dc=Math['floor'](_0x186aa7/(-0xc2b+0xe2*0x18+-0x8c5));for(let _0x4060f7=-0x26f0+0x9*-0x36f+0x1*0x45d7;_0x4060f7<0x1532+0x2e1*-0x8+0x1d9;++_0x4060f7)for(let _0x51b8ba=0x1db6*0x1+-0x1*0x1741+-0x1d*0x39;_0x51b8ba<-0x1bd5+-0xbf5+0x27d9*0x1;++_0x51b8ba)_0x12a9e2[_0x4060f7*(-0x4fe+-0xf*-0x275+-0x1*0x1fce)+_0x51b8ba]=_0x1c0716(_0x4c40e9['mins'],_0x4c40e9['maxs'],_0x4b6028[(_0xfd25f5+_0x51b8ba)*(-0x4*0x8ad+-0x243d*0x1+0xf*0x4bb)+_0x4060f7+_0x4ac7dc*_0x505d8a['sh_centroi'+'ds']['width']*(-0x25d5+-0x103*0x1+0x26dc)]/(-0x4a2+-0x1454+0x19f5));}};}}class gC{constructor(){h(this,'meta'),h(this,'numSplats'),h(this,'means_l'),h(this,'means_u'),h(this,'quats'),h(this,'scales'),h(this,'sh0'),h(this,'sh_centroi'+'ds'),h(this,'sh_labels'),h(this,'packedText'+'ure');}['destroy'](){var _0x44198f,_0x3878b2,_0x4fc618,_0x12755e,_0x2fa035,_0x303ca9,_0x255074,_0x519b0f;(_0x44198f=this['means_l'])==null||_0x44198f['destroy'](),(_0x3878b2=this['means_u'])==null||_0x3878b2['destroy'](),(_0x4fc618=this['quats'])==null||_0x4fc618['destroy'](),(_0x12755e=this['scales'])==null||_0x12755e['destroy'](),(_0x2fa035=this['sh0'])==null||_0x2fa035['destroy'](),(_0x303ca9=this['sh_centroi'+'ds'])==null||_0x303ca9['destroy'](),(_0x255074=this['sh_labels'])==null||_0x255074['destroy'](),(_0x519b0f=this['packedText'+'ure'])==null||_0x519b0f['destroy']();}['createIter'](_0x3f9c29,_0x9605a1,_0x1ebc6c,_0x38c29b,_0x4f83f1){return new _C(this,_0x3f9c29,_0x9605a1,_0x1ebc6c,_0x38c29b,_0x4f83f1);}['calcAabb'](_0x13c162){const {mins:_0x774acf,maxs:_0x25a050}=this['meta']['means'],_0x83116=_0x3eabe0=>Math['sign'](_0x3eabe0)*(Math['exp'](Math['abs'](_0x3eabe0))-(-0x1*-0x24c3+-0x18f*-0x2+-0x27e0));_0x13c162['center']['set']((_0x83116(_0x774acf[0x26cf+-0x12*-0xf9+-0xd*0x455])+_0x83116(_0x25a050[-0x18b+-0x185d+-0x1*-0x19e8]))*(-0x158+0xf24+0x1*-0xdcc+0.5),(_0x83116(_0x774acf[-0x1f*-0x27+0x39*0x5+-0x1*0x5d5])+_0x83116(_0x25a050[-0x2060+0x66a*0x5+0x4f]))*(-0x2*-0x4be+0x121*-0x9+0x1*0xad+0.5),(_0x83116(_0x774acf[-0x1*0xcbb+-0x146*0x2+0xf49])+_0x83116(_0x25a050[0xbf8*0x1+0x158a+-0x2180]))*(0xae1+0x11c0+-0x1ca1+0.5)),_0x13c162['halfExtent'+'s']['set']((_0x83116(_0x25a050[0xd65+0x6e9*-0x5+0x1528])-_0x83116(_0x774acf[-0x1f*0x3b+0x17*0xcd+-0x3*0x3c2]))*(0x1c1+-0x1*-0x13+0x2*-0xea+0.5),(_0x83116(_0x25a050[-0x67*0x61+-0xe02+-0x92*-0x5d])-_0x83116(_0x774acf[0xc5a+-0x1dcd+-0x4*-0x45d]))*(0x18b*-0x3+-0x2*0x511+-0x1*-0xec3+0.5),(_0x83116(_0x25a050[-0x12*0x1af+-0x137*0x1f+-0x43f9*-0x1])-_0x83116(_0x774acf[-0x7*-0x47f+-0x230d+0x396]))*(-0xf13+0xbcd+0x1a3*0x2+0.5));}['getCenters'](_0x2ab776){const {meta:_0x1d8d9c,means_l:_0x4c350a,means_u:_0x53307f,numSplats:_0x36c707}=this,{means:_0x3a6380}=_0x1d8d9c,_0x5032ac=new Uint32Array(_0x53307f['_levels'][-0x1*-0xeb1+0xa16*-0x1+-0x49b*0x1]['buffer']),_0x11aa45=new Uint32Array(_0x4c350a['_levels'][0xb0a+-0x8f1*0x1+-0x219]['buffer']),_0x4b54dc=_0x3a6380['mins'][-0x79d+0xa77*0x2+-0xd51]/(-0x127*0x61+-0xe85a*-0x2+-0x60ee),_0x426df5=_0x3a6380['mins'][0x34c+0x1*-0x109d+0xd52]/(-0xed4c+0x16869+0x92*0xe9),_0x39edea=_0x3a6380['mins'][-0x1427+0x17*0x73+-0x25*-0x44]/(-0x1572e+-0x1*0xa3d2+0x2faff),_0x251938=_0x3a6380['maxs'][-0x3*0xb6f+-0xaf5*-0x1+-0x5d6*-0x4]/(0x7df1+0x5b*0x7f+0x54e9*0x1),_0x5bcf5c=_0x3a6380['maxs'][-0x1*0x807+0x140f+-0x1*0xc07]/(-0x1832a+-0x1*-0x9dd+0x2794c),_0x47dc18=_0x3a6380['maxs'][0x3b*-0x65+-0x14*0x13c+-0x2ff9*-0x1]/(0x10a3d+-0x1*0x16b76+0x16138);for(let _0x398fa4=0x1*0x178c+-0x2*-0x10c9+-0x391e;_0x398fa4<_0x36c707;_0x398fa4++){const _0x3bb610=_0x398fa4,_0x10032e=_0x5032ac[_0x3bb610],_0x8b6843=_0x11aa45[_0x3bb610],_0x1f06a2=_0x10032e<<-0xf5f*-0x1+-0x1310+0x3b9&-0x3fae+0x1*-0x19c91+0x2db3f|_0x8b6843&-0x98c+0x1e38+-0x13ad,_0x16a4d0=_0x10032e&-0x3*-0x330f+0x6*-0x3a37+0x1c31d|_0x8b6843>>>-0x1161+-0x11ee+0x6d*0x53&-0x42*-0x21+0x135e+-0x1ae1,_0x169a5e=_0x10032e>>>0x1955*0x1+-0x139*0x1+-0x1814&0x2561*0x5+-0x1*0x19442+0x7*0x437b|_0x8b6843>>>0x1*-0x1109+0x1d27+0x1*-0xc0e&0x1c8f+-0x2c5*-0x4+-0x26a4,_0x560e1d=_0x4b54dc*(-0xe83a+-0xbd2b+0x2a564-_0x1f06a2)+_0x251938*_0x1f06a2,_0x203668=_0x426df5*(-0x4*-0x4d5a+-0x12a16+0xf4ad-_0x16a4d0)+_0x5bcf5c*_0x16a4d0,_0x36659b=_0x39edea*(0xfc+-0x1d427+0x2d32a-_0x169a5e)+_0x47dc18*_0x169a5e,_0x37b2bb=_0x560e1d<0x9cb+0x16eb+-0x20b6?-_0x560e1d:_0x560e1d,_0x451a0f=_0x203668<0x716+-0x19d1+0x12bb?-_0x203668:_0x203668,_0x25726d=_0x36659b<-0x4*-0x573+-0xbf*-0x9+-0x3*0x981?-_0x36659b:_0x36659b;_0x2ab776[_0x398fa4*(-0x1*0x2413+-0x8dc+0x20b*0x16)]=(_0x560e1d<0x819*-0x3+-0x454+0x1c9f?-(-0x1c87+-0xad*0x8+0x10*0x21f):0x24a4+0xc*0x175+-0x361f)*(Math['exp'](_0x37b2bb)-(0x172c+-0x810*-0x3+-0x2f5b)),_0x2ab776[_0x398fa4*(0x2*-0x119b+-0xb38+0x2e71)+(-0x526*-0x5+-0x1978+-0x1*0x45)]=(_0x203668<0xa36*-0x2+-0x761*-0x2+0x5aa?-(-0x12b3*-0x1+-0x13c1+0x10f):0x768+0x1b44+-0x1*0x22ab)*(Math['exp'](_0x451a0f)-(0x4ff+0x369+-0x867)),_0x2ab776[_0x398fa4*(-0x1b47+-0xccf+0x2819)+(0x1*0x6be+0x3*0x493+-0x1475*0x1)]=(_0x36659b<0x1144+-0x234*0x7+-0x1d8?-(-0x94*0x34+0x9e*0x13+-0x5*-0x3ab):0x1*-0x24ee+-0x7*0x1cd+0x318a)*(Math['exp'](_0x25726d)-(0xda2+-0x3f1*-0x1+-0x1192));}}['calcFocalP'+'oint'](_0x4f0379,_0x3bb70d){_0x4f0379['set'](0x22e5+0x1bc4+-0x3ea9,0x90*0x1+0x1213+0x1*-0x12a3,0x2ec+0x266f*0x1+0x1*-0x295b);}get['isSogs'](){return!(-0x1260+-0xd45+0x1fa5);}get['shBands'](){var _0x497b1a;return{0xc0:0x1,0x200:0x2,0x3c0:0x3}[(_0x497b1a=this['sh_centroi'+'ds'])==null?void(0x467+0x1*-0xc8e+-0x1*-0x827):_0x497b1a['width']]??-0x18fd+0xd37+0xbc6;}async['decompress'](){const _0x3541ac=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3'],{shBands:_0x5225ae}=this,{means_l:_0x405e0c,means_u:_0x2e4f3c,quats:_0x360ca0,scales:_0xd7a572,sh0:_0xcf4ceb,sh_labels:_0x11958f,sh_centroids:_0x3ac6a0}=this;if(_0x405e0c['_levels'][-0x1*-0x8f5+-0x129c+-0x161*-0x7]=await Ci(_0x405e0c),_0x2e4f3c['_levels'][-0x206+0xd04+0x6*-0x1d5]=await Ci(_0x2e4f3c),_0x360ca0['_levels'][0x14b0+0x1cb0+0x20*-0x18b]=await Ci(_0x360ca0),_0xd7a572['_levels'][-0xb78+0x66e+0x81*0xa]=await Ci(_0xd7a572),_0xcf4ceb['_levels'][-0x12b9*0x2+-0x74*0x4c+0x47e2]=await Ci(_0xcf4ceb),_0x5225ae>0x4*-0x84b+-0x1*-0x177e+0xe*0xb1){_0x11958f['_levels'][-0x296*-0x1+-0x5ea*-0x1+-0x880]=await Ci(_0x11958f),_0x3ac6a0['_levels'][-0x4*0x7c4+-0x2*0x493+0x2836]=await Ci(_0x3ac6a0);const _0xa7b178=[];for(let _0x313de9=-0x1979+0x2623+-0x1*0xcaa;_0x313de9<0x697+0x628+-0xc92;++_0x313de9)_0xa7b178['push']('f_rest_'+_0x313de9);_0x3541ac['splice'](_0x3541ac['indexOf']('f_dc_0')+(0x3*0x11+-0x2*0xa01+0x13d0),0x3*-0x119+-0x225*-0x6+-0x993,..._0xa7b178);}const _0x158f5b={};_0x3541ac['forEach'](_0x20863a=>{_0x158f5b[_0x20863a]=new Float32Array(this['numSplats']);});const _0x2ce722=new D(),_0x183457=new le(),_0x1e211c=new D(),_0x5d68b5=new re(),_0x4b1b39=_0x5225ae>0xc5b+0x26c0+-0x31*0x10b?new Float32Array(-0x1*0x7ae+-0x1f*0x2b+0xd10):null,_0x55694e=this['createIter'](_0x2ce722,_0x183457,_0x1e211c,_0x5d68b5,_0x4b1b39);for(let _0x440bed=-0x21d8+-0x1*0x1ea1+0x4079;_0x440bed<this['numSplats'];++_0x440bed)if(_0x55694e['read'](_0x440bed),_0x158f5b['x'][_0x440bed]=_0x2ce722['x'],_0x158f5b['y'][_0x440bed]=_0x2ce722['y'],_0x158f5b['z'][_0x440bed]=_0x2ce722['z'],_0x158f5b['rot_1'][_0x440bed]=_0x183457['x'],_0x158f5b['rot_2'][_0x440bed]=_0x183457['y'],_0x158f5b['rot_3'][_0x440bed]=_0x183457['z'],_0x158f5b['rot_0'][_0x440bed]=_0x183457['w'],_0x158f5b['scale_0'][_0x440bed]=_0x1e211c['x'],_0x158f5b['scale_1'][_0x440bed]=_0x1e211c['y'],_0x158f5b['scale_2'][_0x440bed]=_0x1e211c['z'],_0x158f5b['f_dc_0'][_0x440bed]=(_0x5d68b5['x']-(-0xe96+0x105f+-0x1c9+0.5))/An,_0x158f5b['f_dc_1'][_0x440bed]=(_0x5d68b5['y']-(0x1ca0+-0xf64+-0x134*0xb+0.5))/An,_0x158f5b['f_dc_2'][_0x440bed]=(_0x5d68b5['z']-(-0x261e+-0x2cd+-0x19*-0x1a3+0.5))/An,_0x158f5b['opacity'][_0x440bed]=_0x5d68b5['w']<=-0x2402+-0x1fa8+0x43aa?-(0x259d+-0x1*0x1a7d+0x1*-0xaf8):_0x5d68b5['w']>=0x13d7*-0x1+0x2*-0x8d5+0x2582?-0x180e*0x1+-0x1*0x1f6f+-0x25*-0x181:-Math['log']((0x1a3d+0xd4d+-0x2789*0x1)/_0x5d68b5['w']-(0x3*0x1cd+0x29*-0x8a+0x2*0x85a)),_0x4b1b39){for(let _0x2d2ba1=0x89f*-0x2+-0x17ea+0x2928;_0x2d2ba1<-0x24c9+0x1473+0x1083*0x1;++_0x2d2ba1)_0x158f5b['f_rest_'+_0x2d2ba1][_0x440bed]=_0x4b1b39[_0x2d2ba1];}return new qn([{'name':'vertex','count':this['numSplats'],'properties':_0x3541ac['map'](_0x44307a=>({'name':_0x44307a,'type':'float','byteSize':0x4,'storage':_0x158f5b[_0x44307a]}))}]);}['packGpuMem'+'ory'](){const {means_l:_0x1bf349,means_u:_0x5ebf15,quats:_0x378c55,scales:_0x3c2163,sh_labels:_0x4ef90f,numSplats:_0x16de76}=this,{device:_0x245cec}=_0x1bf349,{scope:_0x4b32d8}=_0x245cec,_0x432e21=$t['createShad'+'er'](_0x245cec,{'uniqueName':'GsplatSogs'+'ReorderSha'+'der','attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentGLSL':uC,'fragmentWGSL':pC,'fragmentOutputTypes':['uvec4']}),_0x175614=new gt({'colorBuffer':this['packedText'+'ure'],'depth':!(0x57*0x2a+-0x8ca+-0x57b),'mipLevel':0x0});_0x245cec['setCullMod'+'e'](bt),_0x245cec['setBlendSt'+'ate'](pt['NOBLEND']),_0x245cec['setDepthSt'+'ate'](Yt['NODEPTH']),mC(_0x4b32d8,{'means_l':_0x1bf349,'means_u':_0x5ebf15,'quats':_0x378c55,'scales':_0x3c2163,'sh_labels':_0x4ef90f??_0x1bf349,'numSplats':_0x16de76}),Ar(_0x245cec,_0x175614,_0x432e21),_0x175614['destroy'](),_0x432e21['destroy']();}async['prepareGpu'+'Data'](){const {device:_0xb97fff,height:_0x5016a6,width:_0x3f498b}=this['means_l'];this['means_l']['_levels'][0x347*0xb+-0xebe*-0x1+-0x32cb]=await Ci(this['means_l']),this['means_u']['_levels'][-0x22e3+0x239a+-0xb7]=await Ci(this['means_u']),this['packedText'+'ure']=new _e(_0xb97fff,{'name':'sogsPacked'+'Texture','width':_0x3f498b,'height':_0x5016a6,'format':Ue,'mipmaps':!(-0x1c4e+0x2362+-0x713*0x1)}),_0xb97fff['on']('devicerest'+'ored',()=>{this['packGpuMem'+'ory']();}),this['packGpuMem'+'ory']();}['reorderDat'+'a'](){return this['prepareGpu'+'Data']();}}async function SC(){let _0x12ee08=null,_0x461762=null,_0x4035c2=null,_0x14040c=null,_0x1c8bfb=null,_0x823d8f=null,_0x1623dc=null,_0x4dc513=null,_0x76e2a4=null,_0x445cbb=null,_0x39eec9=null,_0x4d14f4=null,_0x41c687=null,_0x2f5cba=null,_0x473e44=null,_0x154e39=null,_0x438917=null,_0xbbe4b8=null,_0x2695f9=null,_0x30d779=null,_0x2625e0=null,_0xff5566=null,_0x316b95=null,_0x5ea42a=null,_0x52d545=Float32Array['BYTES_PER_'+'ELEMENT'],_0x495609=Uint32Array['BYTES_PER_'+'ELEMENT'],_0x6247af=-0x15f6*0x1+0x841*0x3+-0x2cd,_0x48f4f1=!(0x1*-0x15d7+0xb8f+-0x5e*-0x1c),_0x198ac3,_0x4e3c96,_0x5c6591={'x':0x0,'y':0x0,'z':0x0},_0xf1c1a2={'x':0x0,'y':0x0,'z':0x0},_0x542c3f=!(-0x111b+0x1*-0x17c2+0x3*0xd9f),_0x2812ce=!(0x942+-0x1*-0xc91+0x15d3*-0x1),_0xbbca79=!(-0x181e+0x8a1+-0x295*-0x6),_0x1d2bc0=!(-0x66d+-0xfa5+0x1613),_0x50b224=-0x8*-0x40f+-0x6dc+-0x199c,_0x1ad935=-0x1a62+-0x869+0x22cb,_0x174f1c=!(0x1c72+0x18fc+-0x356d),_0x10cb57=null,_0x23e35d=!(-0x2*-0xd50+0x1b*0xf5+-0x3476),_0x4ae5c5=-0x249c+-0x1*-0xbbc+0x2*0xc70,_0x4eb249=-0x25a*-0x9+-0xdf0+-0x1*0x73a,_0x4005f2={'x':0x0,'y':0x0,'z':0x0},_0x511e84={'x':0x0,'y':0x0,'z':0x0},_0x439b9b,_0x3eb870;self['onmessage']=async _0x579b31=>{const {data:_0x5d7633}=_0x579b31;switch(_0x5d7633['type']){case'initWorker':await _0x306334(_0x5d7633['sortWasmUr'+'l']),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x6247af=_0x5d7633['centers']['length']/(-0x18d1*0x1+-0x1*-0x1d99+-0x1*0x4c5),_0x6247af<=-0x5*0x33d+-0x2b*-0x41+-0x546*-0x1||!_0x461762)return;_0x102f5a(),_0x48f4f1=_0x5d7633['is4d'],_0x439b9b=_0x5d7633['id'];const _0x48c4b1=_0x2367f9(_0x6247af);if(_0x17d15d(_0x48c4b1),_0x4035c2[-0x1*-0x1e91+-0xf7e+-0xf13]=_0x4005f2['x'],_0x4035c2[0x255*0x7+0x1e92+0xbb9*-0x4]=_0x4005f2['y'],_0x4035c2[0x286+0x1e71+-0x20f5]=_0x4005f2['z'],_0x14040c[0xee8+0x2477+0x1*-0x335f]=_0x511e84['x'],_0x14040c[-0x185a+-0x25f0+-0x1*-0x3e4b]=_0x511e84['y'],_0x14040c[0x18be+-0x1f07+0x219*0x3]=_0x511e84['z'],_0x823d8f&&_0x5d7633['centers']&&_0x823d8f['length']===_0x5d7633['centers']['length']){const _0x4ee62e=new Float32Array(_0x5d7633['centers']);_0x823d8f['set'](_0x4ee62e);}if(_0x4dc513&&_0x5d7633['timeIndex']&&_0x4dc513['length']===_0x5d7633['timeIndex']['length']){const _0x3f3800=new Uint32Array(_0x5d7633['timeIndex']);_0x4dc513['set'](_0x3f3800);}if(_0x39eec9&&_0x5d7633['motion']&&_0x39eec9['length']===_0x5d7633['motion']['length']){const _0x132666=new Float32Array(_0x5d7633['motion']);_0x39eec9['set'](_0x132666);}if(_0x48f4f1&&_0x76e2a4&&_0x445cbb&&_0x5d7633['muT']&&_0x5d7633['tScale']&&_0x76e2a4['length']===_0x5d7633['muT']['length']&&_0x445cbb['length']===_0x5d7633['tScale']['length']&&(_0x76e2a4['set'](_0x5d7633['muT']),_0x445cbb['set'](_0x5d7633['tScale'])),_0x1623dc){for(let _0x55ab66=0x10d*-0x6+0x67c*0x1+-0x2*0x17;_0x55ab66<_0x1623dc['length'];++_0x55ab66)_0x1623dc[_0x55ab66]=_0x55ab66;}_0x1c8bfb&&_0x5d7633['timeOption']&&_0x1c8bfb['set'](_0x5d7633['timeOption']),_0x1c17c1(),_0x23e35d=!(-0x2c4+-0xcf4+0xfb8),_0xbbca79=!(0x2580+0x1*-0x1043+0x1*-0x153d),_0x2d319e();break;case'setTime':_0x198ac3=_0x5d7633['time'],_0x2d319e();break;case'setUseTemp'+'oralSort':_0x542c3f=_0x5d7633['useTempora'+'lSort'];break;case'setUseDyna'+'micSort':_0x2812ce=_0x5d7633['useDynamic'+'Sort'];break;case'sort':if(!_0x4035c2)return;_0x4035c2[0x175c+-0x53*0x71+0xd47]=_0x5d7633['cameraPosi'+'tion']['x'],_0x4035c2[-0x395*0x2+0x1dc5*-0x1+-0x2*-0x1278]=_0x5d7633['cameraPosi'+'tion']['y'],_0x4035c2[-0x337*0x6+-0x1*-0xd07+0x217*0x3]=_0x5d7633['cameraPosi'+'tion']['z'],_0x14040c[0x74f+-0x206*0x9+-0xae7*-0x1]=_0x5d7633['cameraDire'+'ction']['x'],_0x14040c[-0xa04+0x1a9*-0x5+-0x929*-0x2]=_0x5d7633['cameraDire'+'ction']['y'],_0x14040c[-0x1*-0x1b0a+0x3*0x599+0x1*-0x2bd3]=_0x5d7633['cameraDire'+'ction']['z'],_0x4005f2['x']=_0x5d7633['cameraPosi'+'tion']['x'],_0x4005f2['y']=_0x5d7633['cameraPosi'+'tion']['y'],_0x4005f2['z']=_0x5d7633['cameraPosi'+'tion']['z'],_0x511e84['x']=_0x5d7633['cameraDire'+'ction']['x'],_0x511e84['y']=_0x5d7633['cameraDire'+'ction']['y'],_0x511e84['z']=_0x5d7633['cameraDire'+'ction']['z'],_0x2d319e();break;}};const _0x102f5a=()=>{_0x1ad935=Math['max'](0xf4d*0x1+-0x2*0xb19+0x6ef,Math['min'](0x5*-0x1e+-0x1ac2+0x1b6c,Math['round'](Math['log2'](_0x6247af/(0x1e06+0x4*-0x90b+0x62a))))),_0x50b224=(-0x26a1+0x199*0x18+0x4b)**_0x1ad935+(-0x3dd+-0xea8+0x1286);},_0x17d15d=_0x33232e=>{_0x4d14f4=-0x1bce+-0xea3+0x2a71*0x1,_0x41c687=_0x4d14f4+_0x6247af*_0x52d545*(-0x2493+-0x353+0x259*0x11),_0xbbe4b8=_0x41c687+(0xd7d+-0x2202+0x35*0x65)*_0x52d545*(0x26e4+-0x12c1+-0x1421),_0x2695f9=_0xbbe4b8+_0x6247af*_0x495609,_0x30d779=_0x2695f9+(-0x13*0x159+-0x9d*-0x2f+-0x335*0x1)*_0x52d545,_0x2625e0=_0x30d779+(-0x26bd+0x5a*0x5c+0x668)*_0x52d545,_0xff5566=_0x2625e0+(-0xa38*0x2+0x194d+-0x4da)*_0x52d545,_0x316b95=_0xff5566+(0x2620+-0x13ee+-0x122f)*_0x52d545,_0x5ea42a=_0x316b95+_0x6247af*_0x495609,_0x823d8f=new Float32Array(_0x33232e,_0x4d14f4,_0x6247af*(0x160a+-0xdf*0x10+-0x817)),_0x1c8bfb=new Float32Array(_0x33232e,_0x41c687,-0xe*-0xbf+0x935*0x1+0x12df*-0x1),_0x1623dc=new Uint32Array(_0x33232e,_0xbbe4b8,_0x6247af),_0x4035c2=new Float32Array(_0x33232e,_0x2695f9,0x1552*-0x1+-0x288+0x17dd),_0x14040c=new Float32Array(_0x33232e,_0x30d779,-0x290*0xe+0x3c1*-0x8+0x41eb),_0x48f4f1&&(_0x154e39=_0x5ea42a+_0x50b224*_0x495609,_0x438917=_0x154e39+_0x6247af*_0x52d545,_0x473e44=_0x438917+_0x6247af*_0x52d545,_0x2f5cba=_0x473e44+_0x6247af*(-0xeb9*0x1+-0xa86+0x1942)*_0x52d545,_0x76e2a4=new Float32Array(_0x33232e,_0x154e39,_0x6247af),_0x445cbb=new Float32Array(_0x33232e,_0x438917,_0x6247af),_0x39eec9=new Float32Array(_0x33232e,_0x473e44,_0x6247af*(0x1899*-0x1+-0x4fa+0x1d96)),_0x4dc513=new Uint32Array(_0x33232e,_0x2f5cba,_0x6247af));},_0x306334=async _0x329169=>{_0x4ae5c5=0x1*-0x599+0x2666+-0x20cc;const _0x16e59b={'env':{'memory':new WebAssembly['Memory']({'initial':_0x4ae5c5}),'pthread_self':function(){return 0xdde+0x1*-0x2485+0x16a7;},'emscripten_builtin_memalign':function(){return 0x1df*0x4+0x21e7+0xd*-0x32f;},'loggerVec3':(_0x52b9b7,_0x1b2c64,_0xc7416,_0x4c9fbc)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x52b9b7+']\x200:'+_0x1b2c64+'\x201:'+_0xc7416+'\x202:'+_0x4c9fbc);},'loggerFloat':(_0xbe685c,_0x228934)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0xbe685c+']\x20a:'+_0x228934);},'loggerValue':(_0x54dae2,_0x2e2e16,_0x15d5af,_0x157b18,_0x24b103)=>{console['log']('C++\x20logger'+'Value\x20['+_0x54dae2+']\x20minDist:'+_0x2e2e16+'\x20maxDist:'+_0x15d5af+'\x20range:'+_0x157b18+'\x20divider:'+_0x24b103);},'loggerCamera':(_0x255b3d,_0x2a7bb1,_0xb3cff,_0x398a7b,_0x12752f,_0x2a3f37,_0x243c9f)=>{console['log']('C++\x20logger'+'Camera\x20['+_0x255b3d+']\x20x:'+_0x2a7bb1+'\x20y:'+_0xb3cff+'\x20z:'+_0x398a7b+'\x20dx:'+_0x12752f+'\x20dy:'+_0x2a3f37+'\x20dz:'+_0x243c9f);},'loggerBound':(_0x225806,_0x3986b6,_0x213ffa,_0x3fa95f,_0x196c4a,_0x35d7ef)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x225806+'\x20minY:'+_0x3986b6+'\x20minZ:'+_0x213ffa+'\x20maxX:'+_0x3fa95f+'\x20maxY:'+_0x196c4a+'\x20maxZ:'+_0x35d7ef);},'loggerDebug':_0xa4ffae=>{console['log']('C++\x20logger'+'Debug\x20['+_0xa4ffae+']');}}};try{const _0x1a6ea6=await(await fetch(_0x329169))['arrayBuffe'+'r']();return _0x12ee08=(await WebAssembly['instantiat'+'e'](_0x1a6ea6,_0x16e59b))['instance'],_0x461762=_0x16e59b['env']['memory'],_0x12ee08;}catch(_0xf4246e){throw console['error']('WASM'+':',_0xf4246e),_0xf4246e;}},_0x3d6460=_0x5c4c8e=>{if(_0x5c4c8e<=0x4*0x151+0x6b2+-0xbf6*0x1)return 0x472*-0x3+0x58*-0x56+0xe4d*0x3;let _0x5ca516=_0x5c4c8e*_0x52d545*(0x2237+-0x62a*0x4+-0x1*0x98c);_0x5ca516+=_0x5c4c8e*_0x495609,_0x5ca516+=(-0x1*-0x1ca5+0x1053+0x1*-0x2cf5)*_0x52d545,_0x5ca516+=(0x9d6+-0x639+-0x39a*0x1)*_0x52d545,_0x5ca516+=(0x3*-0x15+0x22*0xb+-0x134)*_0x52d545,_0x5ca516+=(-0xd*-0x202+0x8a5*0x1+-0x22bc)*_0x52d545,_0x5ca516+=_0x5c4c8e*_0x52d545,_0x5ca516+=_0x50b224*_0x495609,_0x5ca516+=(0x5cd+-0x2*-0x10ea+-0x7*0x59b)*_0x52d545*(-0x2*0xe63+-0xf1+0x1db9),_0x5ca516+=_0x5c4c8e*_0x495609,_0x48f4f1&&(_0x5ca516+=_0x5c4c8e*_0x52d545,_0x5ca516+=_0x5c4c8e*_0x52d545,_0x5ca516+=_0x5c4c8e*_0x52d545*(0x373+0x23d0+-0x2740));const _0x2d953b=(-0x49*-0x1+0xb*0xe2+-0x9bf)*(0x97b*-0x2+0x1*-0x126a+0x1*0x2960);return Math['ceil'](_0x5ca516/_0x2d953b);},_0x2367f9=_0x4c157=>{const _0x52b93d=_0x3d6460(_0x4c157);return _0x52b93d>_0x4ae5c5?(_0x461762['grow'](_0x52b93d-_0x4ae5c5),_0x4ae5c5=_0x52b93d):_0x461762['grow'](0x1878+-0x193a*-0x1+-0x1*0x31b2),_0x461762['buffer'];},_0x1c17c1=()=>{if(!_0x12ee08)return;const {calcAABB:_0x27afe3}=_0x12ee08['exports'];_0x27afe3(_0x4d14f4,_0x2625e0,_0xff5566,_0x6247af);},_0x2d319e=()=>{_0x10cb57&&clearTimeout(_0x10cb57),_0x10cb57=setTimeout(()=>{_0x10cb57=null,_0x37033b();},-0x4b6*-0x8+0x1f9c+-0x454c);},_0x37033b=()=>{if(!_0x12ee08||!_0x23e35d||_0x1623dc['length']!==_0x6247af||_0xbbe4b8===null||_0x4d14f4===null||_0x2695f9===null||_0x30d779===null||_0x2625e0===null||_0xff5566===null)return;const _0x234fcf=_0x4035c2[0x26bf+0x1da*0x13+-0x49ed],_0x1edd0c=_0x4035c2[-0x1a81+-0x5*0x4+0x1a96],_0x38571b=_0x4035c2[0x779+-0x1438+0xcc1],_0x118697=_0x14040c[0x1*0x1b5c+0x447*-0x8+0x4*0x1b7],_0x5c19ed=_0x14040c[0x12f5+0x1859*-0x1+0x1*0x565],_0x2244c5=_0x14040c[0x1*-0x1223+-0x245+0x43*0x4e],_0x4a66f2=0x5*-0x677+-0x228a+-0x42dd*-0x1+0.001;if(!_0xbbca79&&Math['abs'](_0x234fcf-_0x5c6591['x'])<_0x4a66f2&&Math['abs'](_0x1edd0c-_0x5c6591['y'])<_0x4a66f2&&Math['abs'](_0x38571b-_0x5c6591['z'])<_0x4a66f2&&Math['abs'](_0x118697-_0xf1c1a2['x'])<_0x4a66f2&&Math['abs'](_0x5c19ed-_0xf1c1a2['y'])<_0x4a66f2&&Math['abs'](_0x2244c5-_0xf1c1a2['z'])<_0x4a66f2&&Math['abs'](_0x198ac3-_0x4e3c96)<0x1*-0x14e5+0x1e5d+0x328*-0x3+0.01)return;if(_0x1d2bc0){_0x174f1c=!(0x2b6*0x1+0x14*-0x16+-0x1*0xfe);return;}_0x1d2bc0=!(-0x40*-0x24+-0xbc+-0x844),_0xbbca79=!(-0xe77+0x2*0x6d+-0xf9*-0xe),_0x4e3c96=_0x198ac3,_0x5c6591['x']=_0x234fcf,_0x5c6591['y']=_0x1edd0c,_0x5c6591['z']=_0x38571b,_0xf1c1a2['x']=_0x118697,_0xf1c1a2['y']=_0x5c19ed,_0xf1c1a2['z']=_0x2244c5,_0x174f1c=!(-0x1*-0x18d+-0xddb*-0x1+-0xf67);const {sortIndexes:_0x2dc9c3}=_0x12ee08['exports'];try{const _0x283789=_0x2dc9c3(_0xbbe4b8,_0x4d14f4,_0x473e44,_0x154e39,_0x438917,_0x2695f9,_0x30d779,_0x2625e0,_0xff5566,_0x316b95,_0x5ea42a,_0x198ac3||0x37*-0x23+0x855+-0x8*0x1a,_0x542c3f,_0x2812ce,_0x48f4f1,_0x6247af,_0x50b224,_0x1ad935,_0x41c687,_0x2f5cba),_0x3dd465=new Uint32Array(_0x1623dc);if(_0x283789===-0x26ca+-0xd*-0x85+-0x1*-0x2009){debugger;console['log']('____\x20ENGIN'+'E','Indexes\x20co'+'unt\x20===\x20',_0x283789);}const _0x360b42=_0x6247af!==_0x4eb249||_0x3eb870!==_0x439b9b;self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x283789,'order':_0x3dd465,'isNewOrder':_0x360b42},[_0x3dd465['buffer']]),_0x4eb249=_0x6247af,_0x3eb870=_0x439b9b;}catch(_0x546276){console['error'](':',_0x546276),self['postMessag'+'e']({'type':'error','error':_0x546276['message']});}_0x1d2bc0=!(0x2*0x485+-0xb1b+0x5*0x6a),_0x174f1c&&_0x2d319e();};}class yC extends me{constructor(){super(),h(this,'worker',null),h(this,'numSplats',-0x1*0x77b+0x1cb3+-0x1538),h(this,'is4d',!(-0x1261+-0x1af3+-0x78e*-0x6)),h(this,'sortStartT'+'ime',0x1*-0x180f+-0x8c9+0x41b*0x8),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'data',{}),(this['orderTextu'+'re']=null,this['backOrderT'+'exture']=null,this['worker']=null,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+SC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x12c0cf=>{var _0x2a2827;if(!this['worker'])return;const {data:_0x25121e}=_0x12c0cf;switch(_0x25121e['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':_0x25121e['order']&&(_0x25121e['isNewOrder']&&(this['orderTextu'+'re']=this['backOrderT'+'exture']),(_0x2a2827=this['orderTextu'+'re'])==null||_0x2a2827['write'](0x4a*-0x57+-0x1*-0x11c3+0x763,-0x193c+-0x77c*0x3+0x2fb0,this['orderTextu'+'re']['width'],this['orderTextu'+'re']['height']-(0x18dd+0x1bf6+-0x34d2),_0x25121e['order']));let _0x19fc40=-0x17e0+0x8f3+0xeed;this['sortStartT'+'ime']!==-0x17cb*-0x1+-0x157+0x6*-0x3be&&(_0x19fc40=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x12c0cf['data']['count'],_0x19fc40,_0x25121e['isNewOrder']),this['sortStartT'+'ime']=-0x1363+-0x87e+0x1be1;break;case'error':console['error']('Worker:',_0x25121e['error']),this['fire']('error',_0x25121e['error']);break;}},this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/sorter-t'+'railing.wa'+'sm'});}['initData'](_0x2c015b,_0x47c7f1,_0x1b5a82,_0x150405,_0x3ac655,_0x24ceb8,_0x1e3ac3,_0x5b781c){var _0x33c36d;this['is4d']=_0x5b781c,this['numSplats']=_0x47c7f1['length']/(0xa*0x51+0x20e5+-0x240c),(!_0x1e3ac3||_0x1e3ac3['length']===-0x1*0x17e0+0x200e+-0x82e)&&(_0x1e3ac3=[-0x103c+-0x1*-0x1d5+0xe67,0x19e5+0x247f+-0x3e28]),this['orderTextu'+'re']||(this['orderTextu'+'re']=_0x2c015b),this['backOrderT'+'exture']=_0x2c015b;const _0x3b658a=new Date()['getTime']();(_0x33c36d=this['worker'])==null||_0x33c36d['postMessag'+'e']({'type':'initData','centers':_0x47c7f1,'muT':_0x1b5a82,'tScale':_0x150405,'motion':_0x3ac655,'timeIndex':_0x24ceb8,'timeOption':_0x1e3ac3,'is4d':_0x5b781c,'id':_0x3b658a});}['setCamera'](_0x129d77,_0x5baeae){this['worker']&&(!_0x129d77||!_0x5baeae||(this['data']['cameraPosi'+'tion']={'x':_0x129d77['x'],'y':_0x129d77['y'],'z':_0x129d77['z']},this['data']['cameraDire'+'ction']={'x':_0x5baeae['x'],'y':_0x5baeae['y'],'z':_0x5baeae['z']},this['sortStartT'+'ime']===-0x12b1+-0x11b2+-0x195*-0x17&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x129d77['x'],'y':_0x129d77['y'],'z':_0x129d77['z']},'cameraDirection':{'x':_0x5baeae['x'],'y':_0x5baeae['y'],'z':_0x5baeae['z']}})));}['setCurrent'+'Time'](_0x3959ce){this['worker']&&(this['data']['time']=_0x3959ce,this['sortStartT'+'ime']===0x1*-0x32f+0x139*-0xb+0x10a2&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x3959ce}));}['setUseTemp'+'oralSort'](_0x1c4208){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0x1c4208});}['setUseDyna'+'micSort'](_0x584ddc){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseDyna'+'micSort','useDynamicSort':_0x584ddc});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const vC=new te(),Va=new D(),Ga=new D(),Sc=[0x7*-0x97+-0x3*0xcfb+0x1589*0x2,-0x1*0x1718+0xab*-0xf+0x211d];class xC{constructor(_0x28baab,_0x5926a4={}){h(this,'resource'),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'_material'),h(this,'meshInstan'+'ce'),h(this,'options',{}),h(this,'sorter',null),h(this,'time',0x1*0x1cf+-0xfce+0xdff),h(this,'lastCamera'+'Position',new D()),h(this,'lastCamera'+'Direction',new D()),h(this,'resolveSH',null),h(this,'cameras',[]),h(this,'forceUpDat'+'eSorterTim'+'e',(_0x293c16,_0xd86b02=void(0x1145*0x2+0x20e3+-0x436d))=>{(_0xd86b02||_0xd86b02===0x652+-0x2*-0x5c6+-0x11de)&&(this['material']['setParamet'+'er']('uTime',_0xd86b02),this['updateTime'](_0xd86b02)),this['sort'](_0x293c16);}),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x28baab['numSplats']),this['resource']=_0x28baab,this['orderTextu'+'re']=this['resource']['createText'+'ure']('splatOrder',Ki,this['resource']['evalTextur'+'eSize'](this['resource']['numSplats'])),this['backOrderT'+'exture']=null,_0x5926a4['material']?(this['_material']=_0x5926a4['material'],this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])):(this['_material']=new Xn({'uniqueName':'SplatMater'+'ial','vertexGLSL':'#include\x20\x22'+'gsplatVS\x22','fragmentGLSL':'#include\x20\x22'+'gsplatPS\x22','vertexWGSL':'#include\x20\x22'+'gsplatVS\x22','fragmentWGSL':'#include\x20\x22'+'gsplatPS\x22','attributes':{'vertex_position':Me,'vertex_id_attrib':ph}}),this['configureM'+'aterial'](this['_material']),this['_material']['update']()),this['meshInstan'+'ce']=new He(this['resource']['mesh'],this['_material']),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(-0x1*-0x696+-0x596*0x5+-0x8*-0x2ab)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=-0xd50+-0x111+0x1*0xe61,this['sorter']=new yC(),this['sorter']['on']('initialize'+'d',()=>{var _0x48e6d3,_0x4fb91d,_0x33fdbf,_0x1702ae,_0x197834,_0x7368b7,_0x2cb69a,_0x4ada22,_0x4b7234,_0x21a36f,_0x360bb1;const _0x2a47ff=new Float32Array(this['resource']['centers']['buffer']['slice']()),_0x285caf=new Float32Array(((_0x4fb91d=(_0x48e6d3=this['resource']['muT'])==null?void(-0x2627*0x1+0xba7+0x1a80):_0x48e6d3['buffer'])==null?void(-0x9*0x112+-0xf8+0xa9a*0x1):_0x4fb91d['slice']())??new Float32Array()),_0x4bd0c6=new Float32Array(((_0x1702ae=(_0x33fdbf=this['resource']['tScale'])==null?void(0x11eb*-0x1+-0x24fc*0x1+0x36e7):_0x33fdbf['buffer'])==null?void(-0x1cc0+0x1ee4*-0x1+0x3ba4):_0x1702ae['slice']())??new Float32Array()),_0x340843=new Float32Array(((_0x7368b7=(_0x197834=this['resource']['motion'])==null?void(-0x1*-0x1fe1+-0x89*0xd+0x16*-0x122):_0x197834['buffer'])==null?void(-0x1950+-0x1d44+0x1*0x3694):_0x7368b7['slice']())??new Float32Array()),_0x59750b=new Float32Array(((_0x4ada22=(_0x2cb69a=this['resource']['timeIndex'])==null?void(0x1112+-0xaaa+0xa*-0xa4):_0x2cb69a['buffer'])==null?void(-0x1*0x1e56+0x25f5+0x79f*-0x1):_0x4ada22['slice']())??new Float32Array(-0x1275+-0x473+0x16e8)),_0x33f139=new Float32Array(((_0x21a36f=(_0x4b7234=this['resource']['timeOption'])==null?void(-0x1*-0x1d0d+0x22e2+-0x3fef*0x1):_0x4b7234['buffer'])==null?void(0xc95*-0x2+0x2*-0x1ae+0x1c86):_0x21a36f['slice']())??new Float32Array());(_0x360bb1=this['sorter'])==null||_0x360bb1['initData'](this['orderTextu'+'re'],_0x2a47ff,_0x285caf,_0x4bd0c6,_0x340843,_0x59750b,_0x33f139,this['resource']['is4D']);}),this['sorter']['on']('updated',async(_0x2406a4,_0x5d3de3,_0x22b5cb)=>{var _0x11b4e2;this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x2406a4/this['resource']['instanceSi'+'ze']),_0x22b5cb&&this['backOrderT'+'exture']&&(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatInst'+'ance\x20updat'+'ed'),[this['orderTextu'+'re'],this['backOrderT'+'exture']]=[this['backOrderT'+'exture'],this['orderTextu'+'re']],await this['resource']['updateText'+'ure'](),this['resource']['configureM'+'aterial'](this['_material']),this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])),_0x22b5cb&&((_0x11b4e2=this['resource'])==null||_0x11b4e2['fireAssets'+'ManagerTim'+'eIndex']()),this['material']['setParamet'+'er']('numSplats',_0x2406a4);}),this['setHighQua'+'litySH'](_0x5926a4['highQualit'+'ySH']??!(0x33*-0x4a+-0x4*0x91d+0x3333)));}async['updateInst'+'anceData'](_0xdf2688){var _0x57c59e,_0x570ed9;console['log']('____\x20ENGIN'+'E\x20IVAN','updateInst'+'anceData\x20A'+'SSETS\x20GSpl'+'atInstance',_0xdf2688['numSplats']),this['resource']=_0xdf2688;const _0x2db61c=this['resource']['evalTextur'+'eSize'](_0xdf2688['centers']['length']/(0x11*-0xe+-0x15c9+0x16ba));return(_0x57c59e=this['backOrderT'+'exture'])==null||_0x57c59e['destroy'](),this['backOrderT'+'exture']=this['resource']['createText'+'ure']('splatOrder'+'2',Ki,_0x2db61c),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(-0x38e+0x1d*0xd2+-0x143c)),(_0x570ed9=this['sorter'])==null||_0x570ed9['initData'](this['backOrderT'+'exture'],_0xdf2688['centers'],_0xdf2688['muT'],_0xdf2688['tScale'],_0xdf2688['motion'],_0xdf2688['timeIndex'],_0xdf2688['timeOption'],_0xdf2688['is4D']),new Promise(_0x49cba3=>{var _0xf2f95c;const _0x46ecd5=(_0x2befed,_0x31e2f1,_0x297dbf)=>{var _0x45357d;_0x297dbf&&((_0x45357d=this['sorter'])==null||_0x45357d['off']('updated',_0x46ecd5),_0x49cba3(!(0x2056+-0x2312+0x2bc)));};(_0xf2f95c=this['sorter'])==null||_0xf2f95c['on']('updated',_0x46ecd5);});}['destroy'](){var _0x506154,_0x339828,_0x412ee0,_0x5c3572,_0x266b46,_0x297ba2;(_0x506154=this['resolveSH'])==null||_0x506154['destroy'](),(_0x339828=this['material'])==null||_0x339828['destroy'](),(_0x412ee0=this['meshInstan'+'ce'])==null||_0x412ee0['destroy'](),(_0x5c3572=this['sorter'])==null||_0x5c3572['destroy'](),(_0x266b46=this['orderTextu'+'re'])==null||_0x266b46['destroy'](),(_0x297ba2=this['backOrderT'+'exture'])==null||_0x297ba2['destroy']();}set['material'](_0x1d77e1){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.set\x20'+'material'),this['_material']!==_0x1d77e1&&(this['_material']=_0x1d77e1,this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x1d77e1));}get['material'](){return this['_material'];}['configureM'+'aterial'](_0x43c48e,_0x2f9f9b={}){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.conf'+'igureMater'+'ial'),this['resource']['configureM'+'aterial'](_0x43c48e),_0x43c48e['setParamet'+'er']('numSplats',0x4f*0x35+0xfd1+0x1*-0x202c),_0x43c48e['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),_0x43c48e['setParamet'+'er']('alphaClip',-0x8c5+0xb47+-0x2*0x141+0.3),_0x43c48e['setDefine']('DITHER_'+(_0x2f9f9b['dither']?'BLUENOISE':'NONE'),''),_0x43c48e['cull']=bt,_0x43c48e['blendType']=_0x2f9f9b['dither']?Cs:Zs,_0x43c48e['depthWrite']=!!_0x2f9f9b['dither'];}['updateView'+'port'](_0x286e1e){var _0x3c64ca;const _0x1b7db3=_0x286e1e==null?void(0x87c+0x1*-0x168a+0xe0e):_0x286e1e['camera'],_0x20fe58=_0x1b7db3==null?void(-0x237d+-0x1c86+-0x925*-0x7):_0x1b7db3['renderTarg'+'et'],{width:_0x5f4b9a,height:_0xfb88ca}=_0x20fe58??this['resource']['device'];Sc[0x85a+0x21fd+0x2a57*-0x1]=_0x5f4b9a,Sc[0x8*0x47a+0x1944+-0x3d13]=_0xfb88ca;const _0x573236=(_0x3c64ca=_0x1b7db3==null?void(-0x267c+0x37e+0x5d5*0x6):_0x1b7db3['camera'])==null?void(0x6f*0x23+-0x1154+0x227):_0x3c64ca['xr'];_0x573236!=null&&_0x573236['active']&&_0x573236['views']['list']['length']===-0xe*-0x16f+-0x11d2*-0x2+0x2*-0x1bda&&(Sc[0x9f2+0xc2c+-0x161e]*=0x6*-0x413+-0xd20+0x2*0x12c9+0.5),this['material']['setParamet'+'er']('viewport',Sc);}['sort'](_0x1601fd){if(this['sorter']){const _0x5c2c5a=_0x1601fd['getWorldTr'+'ansform']();_0x5c2c5a['getTransla'+'tion'](Va),_0x5c2c5a['getZ'](Ga);const _0xceb591=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x23c824=vC['invert'](_0xceb591);_0x23c824['transformP'+'oint'](Va,Va),_0x23c824['transformV'+'ector'](Ga,Ga),(!Va['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!Ga['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](Va),this['lastCamera'+'Direction']['copy'](Ga),this['sorter']['setCamera'](Va,Ga)),this['sorter']['setCurrent'+'Time'](this['time']);}this['updateView'+'port'](_0x1601fd);}['update'](){var _0x33fc85;if(this['cameras']['length']>-0x1*-0xcbd+0x2fe*-0x2+-0x6c1){const _0x5b8b08=this['cameras'][0xc*0x2f5+0x19f*-0x17+-0x1*-0x1cd];this['sort'](_0x5b8b08['_node']),(_0x33fc85=this['resolveSH'])==null||_0x33fc85['render'](_0x5b8b08['_node'],this['meshInstan'+'ce']['node']['getWorldTr'+'ansform']()),this['cameras']['length']=0x2599+0x29*-0x3d+0x89*-0x34;}}['setHighQua'+'litySH'](_0xa69c98){const {resource:_0x362fb0}=this,{gsplatData:_0x2f0a70}=_0x362fb0;_0x2f0a70 instanceof gC&&_0x2f0a70['shBands']>0x590+-0x7f0+0x8*0x4c&&_0xa69c98===!!this['resolveSH']&&(this['resolveSH']?(this['resolveSH']['destroy'](),this['resolveSH']=null):this['resolveSH']=new fC(_0x362fb0['device'],this));}['updateTime'](_0x4a1e2e){this['time']=_0x4a1e2e;}}class Rv{constructor(_0x324b87,_0x145aaf){h(this,'sceneInfo',{}),h(this,'isDestroye'+'d',!(-0x2545*0x1+0x115a+-0x1*-0x13eb)),h(this,'device'),h(this,'gsplatData'),h(this,'centers'),h(this,'aabb'),h(this,'mesh'),h(this,'instanceIn'+'dices'),h(this,'gsplatInst'+'ance'),(this['device']=_0x324b87,this['gsplatData']=_0x145aaf,this['isDestroye'+'d']=!(-0x766*-0x5+0x26f2+0xad9*-0x7));const _0x880ae6=0xc0b*0x3+-0x1*0x1ec7+-0x4da,_0x2737c9=Math['ceil'](_0x145aaf['numSplats']/_0x880ae6)*_0x880ae6/_0x880ae6,_0x2af890=new Uint32Array(_0x2737c9);for(let _0x29b0ca=-0x197f+-0x19ea+-0x141*-0x29;_0x29b0ca<_0x2737c9;++_0x29b0ca)_0x2af890[_0x29b0ca]=_0x29b0ca*_0x880ae6;const _0xa7126c=new kt(_0x324b87,[{'semantic':ph,'components':0x1,'type':el,'asInt':!(-0xf22+0x1*-0x186+0x10a8)}]),_0x1796a5=new Float32Array((0x7e9+0xb26+-0x1303*0x1)*_0x880ae6),_0x20f382=new Uint32Array((0x1379*-0x2+-0xb56*-0x3+0x27b*0x2)*_0x880ae6);for(let _0x5f132b=-0x146b+-0x9c*-0x37+-0x1*0xd19;_0x5f132b<_0x880ae6;++_0x5f132b){_0x1796a5['set']([-(-0x15b+0x1f4*0x1+0x4*-0x26),-(-0x601+0x5*0x46b+-0x1*0x1015),_0x5f132b,0x793+0xd99*-0x1+-0x1*-0x607,-(-0x1*0x168a+-0x1e82+0x350d),_0x5f132b,0x1939+0x1bbf*-0x1+0x287,-0x13c9+-0x25b6+0x3980,_0x5f132b,-(-0x13ba+0x1fc0+-0xc05),-0x26*0xbd+-0xfc*0xb+0x26e3,_0x5f132b],_0x5f132b*(-0x16e1+0x72d+0xfc0));const _0x4de741=_0x5f132b*(-0x233c+-0x1*0x23c9+0x4709*0x1);_0x20f382['set']([0x32*-0xc1+0x8e*-0x17+-0x3274*-0x1+_0x4de741,-0x1*0xdb7+-0x23f1+-0x31a9*-0x1+_0x4de741,0xa73*0x2+-0x1c94*0x1+0x1ec*0x4+_0x4de741,-0x137e+0x3*0xa0f+-0xaaf+_0x4de741,-0xa55+-0x1*0x2205+0x2c5c+_0x4de741,-0x1926+-0xee3+0x280c+_0x4de741],_0x5f132b*(0x22f6+-0x1830+-0xac0*0x1));}this['mesh']=new Ge(_0x324b87),this['mesh']['setPositio'+'ns'](_0x1796a5,-0x4bb+-0x1e7f+0x5d*0x61),this['mesh']['setIndices'](_0x20f382),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),this['instanceIn'+'dices']=new Is(_0x324b87,_0xa7126c,_0x2737c9,{'usage':ms,'data':_0x2af890['buffer']});}['updateData'](){var _0x1d03d3;const _0x3d4c12=this['gsplatData'];if(!_0x3d4c12)return;const _0x298443=0x19*0x28+0x1c3f+-0xa8d*0x3,_0x5a87e9=Math['ceil'](_0x3d4c12['numSplats']/_0x298443)*_0x298443/_0x298443,_0x18fa25=new Uint32Array(_0x5a87e9);for(let _0x5bd8d4=-0x1f*-0x3b+0x1c9c+-0x23c1;_0x5bd8d4<_0x5a87e9;++_0x5bd8d4)_0x18fa25[_0x5bd8d4]=_0x5bd8d4*_0x298443;const _0x4188b9=new kt(this['device'],[{'semantic':ph,'components':0x1,'type':el,'asInt':!(0x1*0x1fd4+-0x1035+-0xf9f)}]),_0x1600ef=new Float32Array((-0x792+-0x95+-0x1*-0x833)*_0x298443),_0x5c6dc2=new Uint32Array((0x2398+0xfd4*0x2+-0x6b9*0xa)*_0x298443);for(let _0x215f88=0x4*-0x809+-0x84c*0x1+-0x10*-0x287;_0x215f88<_0x298443;++_0x215f88){_0x1600ef['set']([-(0xa56+0x49*0x3d+-0x6*0x49f),-(0x1dff+0xf14+-0x2d12),_0x215f88,-0x218+-0x1df0+0x2009,-(-0x16ac*0x1+-0x35*-0x35+0x2ed*0x4),_0x215f88,0x148d*-0x1+-0x204e*-0x1+-0xbc0,-0xb53+-0x8fc+0x1450,_0x215f88,-(-0x1*0xe37+-0x1213+0x204b),-0x24fe+-0x1fa8+-0x13*-0x39d,_0x215f88],_0x215f88*(-0x2165*-0x1+-0x4de+-0x1c7b*0x1));const _0x29deae=_0x215f88*(-0x5*-0x641+0x1*0x1031+0x2f72*-0x1);_0x5c6dc2['set']([-0xb55+0x23eb+-0x2*0xc4b+_0x29deae,0x4e+0x1ed5+-0x1f22+_0x29deae,0x5fe+0x8d1*-0x2+0xba6+_0x29deae,0x4*0x89+-0x23c8+0x21a4+_0x29deae,-0x233c+0x2122+0x21c+_0x29deae,0x1670+0x1ad2+-0x7*0x709+_0x29deae],_0x215f88*(0x1*0x1807+-0x2628+0xe27*0x1));}this['mesh']['setPositio'+'ns'](_0x1600ef,-0x149a+-0x103a+0x24d7),this['mesh']['setIndices'](_0x5c6dc2),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),(_0x1d03d3=this['instanceIn'+'dices'])==null||_0x1d03d3['destroy'](),this['instanceIn'+'dices']=new Is(this['device'],_0x4188b9,_0x5a87e9,{'usage':ms,'data':_0x18fa25['buffer']});}['updateText'+'ure'](){}['destroy'](){var _0x4aa7ae,_0xeaeffa,_0xbafe15,_0xe28ad6;(_0x4aa7ae=this['mesh'])==null||_0x4aa7ae['destroy'](),(_0xeaeffa=this['instanceIn'+'dices'])==null||_0xeaeffa['destroy'](),(_0xbafe15=this['gsplatData'])==null||_0xbafe15['destroy'](),this['gsplatData']=null,(_0xe28ad6=this['gsplatInst'+'ance'])==null||_0xe28ad6['destroy'](),this['gsplatInst'+'ance']=void(0x205b+0x268*-0x4+0x211*-0xb),this['isDestroye'+'d']=!(0x213+0x2075+0xaa*-0x34),this['mesh']=null;}get['instanceSi'+'ze'](){return 0x25be*-0x1+0x1cde+0x1e*0x50;}get['numSplats'](){var _0x19c0dc;return(_0x19c0dc=this['gsplatData'])==null?void(-0x9bd+0x16*0x1bb+-0x1c55):_0x19c0dc['numSplats'];}['setSceneIn'+'fo'](_0x349189){}['configureM'+'aterial'](_0x4c5fb7){}['evalTextur'+'eSize'](_0x5f30d0){return J['ZERO'];}['appendGSpl'+'atResource'](_0x571f69,_0x1b1bc1,_0x1f3227,_0x196435,_0x36b2c8){}['fireAssets'+'ManagerTim'+'eIndex'](){}['createText'+'ure'](_0x442787,_0x190a1b,_0x289b77,_0x160985){return new _e(this['device'],{'name':_0x442787,'width':_0x289b77['x'],'height':_0x289b77['y'],'format':_0x190a1b,'cubemap':!(-0x1*0x1f42+-0x220c+0x414f),'mipmaps':!(0x1*0x679+-0x1680+0x1008),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,..._0x160985?{'levels':[_0x160985]}:{}});}['instantiat'+'e'](){w['removed']('GSplatReso'+'urce.insta'+'ntiate\x20is\x20'+'removed.\x20U'+'se\x20gsplat\x20'+'component\x20'+'instead');}['createInst'+'ance'](_0x455029,_0x2647c9){return this['gsplatInst'+'ance']=new xC(_0x455029,_0x2647c9),this['gsplatInst'+'ance'];}}async function TC(){const _0x46a51f=new Float32Array(-0xfc2+-0xb*0x173+0x1fb4),_0x36d5bd=new Int32Array(_0x46a51f['buffer']);let _0x31c747=null,_0x2c9663=null,_0x10c9e3=null,_0x101a13=null,_0x127e9c=null,_0xa00236=null,_0x219186=null,_0x36861d=null;self['onmessage']=async _0x5528a0=>{const {data:_0x171fdd}=_0x5528a0;switch(_0x171fdd['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0x212b9f(_0x171fdd['numSplats'],_0x171fdd['shBands'],_0x171fdd['SHData']);break;case'updateColo'+'rData':_0x14c8b3(_0x171fdd['numSplats'],_0x171fdd['cr'],_0x171fdd['cg'],_0x171fdd['cb'],_0x171fdd['ca']);break;case'updateTran'+'sformData':_0x8c03b8(_0x171fdd['numSplats'],_0x171fdd['is4D'],_0x171fdd['x'],_0x171fdd['y'],_0x171fdd['z'],_0x171fdd['rx'],_0x171fdd['ry'],_0x171fdd['rz'],_0x171fdd['rw'],_0x171fdd['mx'],_0x171fdd['my'],_0x171fdd['mz'],_0x171fdd['sx'],_0x171fdd['sy'],_0x171fdd['sz'],_0x171fdd['muT'],_0x171fdd['tScale']);break;case'calcAabb':_0x3e981d(_0x171fdd['numSplats'],_0x171fdd['x'],_0x171fdd['y'],_0x171fdd['z'],_0x171fdd['sx'],_0x171fdd['sy'],_0x171fdd['sz']);break;case'destroyWor'+'ker':_0x139154();break;}};class _0x263bfc{constructor(_0x1cd720=-0x8ce*0x3+-0xdcd+0x80b*0x5,_0x38f980=0x955+-0x79a+-0x1bb,_0x23cb5f=-0x24c0+0xcc8+0x17f8,_0x439d82=-0x2679+0x272+0x8*0x481){this['x']=_0x1cd720,this['y']=_0x38f980,this['z']=_0x23cb5f,this['w']=_0x439d82;}['set'](_0x22204f,_0x4d51d4,_0x480b35,_0x51632f){return this['x']=_0x22204f,this['y']=_0x4d51d4,this['z']=_0x480b35,this['w']=_0x51632f,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x54a2e7=this){let _0x3a8a31=_0x54a2e7['length']();return _0x3a8a31===-0x99*-0xb+0x1d31*0x1+-0x1*0x23c4?(this['x']=this['y']=this['z']=0x2a5*-0x1+-0x1ef*-0x6+0x8f5*-0x1,this['w']=-0x3b5+-0x1326+0x16dc):(_0x3a8a31=(0xca+0x125d*-0x1+0x1194)/_0x3a8a31,this['x']=_0x54a2e7['x']*_0x3a8a31,this['y']=_0x54a2e7['y']*_0x3a8a31,this['z']=_0x54a2e7['z']*_0x3a8a31,this['w']=_0x54a2e7['w']*_0x3a8a31),this;}['mulScalar'](_0x209e47,_0x4cc31b=this){return this['x']=_0x4cc31b['x']*_0x209e47,this['y']=_0x4cc31b['y']*_0x209e47,this['z']=_0x4cc31b['z']*_0x209e47,this['w']=_0x4cc31b['w']*_0x209e47,this;}}const _0x1eef27=_0x3827fa=>{_0x46a51f[0x653+-0x1b1d+0x6*0x377]=_0x3827fa;const _0x35a169=_0x36d5bd[0x1d3+0x2a7+-0x47a];let _0x4f7097=_0x35a169>>0x10f6+0xfea+-0x20d0&-0x77*-0x1b7+-0xe14b+0x953a*0x1,_0xb027cd=_0x35a169>>-0x1e4a+-0x1*-0x165d+0x7f9&-0x191*-0x8+-0x1f18+0x1a8f;const _0x182030=_0x35a169>>-0x1269+0x507+0x1*0xd79&-0x1*0xca9+-0x1*0x225b+-0x1001*-0x3;return _0x182030<-0x9ce+0x1966+-0xf31?_0x4f7097:_0x182030>0x1281+-0xf1*0x27+-0x12c4*-0x1?(_0x4f7097|=0x916d+-0xdf81+0xca14,_0x4f7097|=(_0x182030===0x45*-0x89+-0x1146+0x3732?-0x433*-0x2+0x2344+-0x2baa:-0x2430+0x7c*0x4e+-0x197)&&_0x35a169&0xa558c2+0x19d3*-0x1eb+0xc2eee,_0x4f7097):_0x182030<-0x13a*-0xe+-0x1687+0x5cc?(_0xb027cd|=-0xa07*-0x3+0x1ce3+-0x32f8,_0x4f7097|=(_0xb027cd>>-0xe33*-0x1+0x1892+-0x1*0x2653-_0x182030)+(_0xb027cd>>-0x131a+0x137*-0x10+-0x11*-0x24b-_0x182030&0x2109+-0x4ae*-0x2+0x2*-0x1532),_0x4f7097):(_0x4f7097|=_0x182030-(0x1*0x25b3+0x7*-0x244+0x1567*-0x1)<<-0x71*-0x43+-0x14e3+-0x8a6|_0xb027cd>>-0x1*0x262d+-0x9*-0x3b3+-0x1a1*-0x3,_0x4f7097+=_0xb027cd&0x77e*-0x1+0xccc+-0x54d,_0x4f7097);},_0x3e981d=(_0x23f546,_0x571916,_0x35f651,_0x31fbe2,_0x3de041,_0x11520f,_0x4cce7b)=>{let _0x2f76ca=-0x4a*-0x70+0x102d+-0x308d,_0x103674=-0x1b*0xd3+-0x371*0x1+0x16*0x12b,_0x8b7c9d=-0x21cd*-0x1+0xef*-0x1+-0x20de,_0x59be96=0x1a80+-0x13cb+-0x11*0x65,_0x484298=-0x1*0xb7e+-0x1*-0x1c45+0x10c7*-0x1,_0xc16132=-0x3*-0x2b6+0x2*-0x51a+-0x35*-0xa,_0x3821bf=!(-0x7b2+0x1*0x3c2+0x3f0);const _0x2f4ad8=new Float32Array(0x1c99*-0x1+0x1*-0x479+0x2115),_0x1904b6=new Float32Array(0x6*-0x1+0xad9*-0x1+-0x7*-0x18e);for(let _0x29643a=0x1*0x178+-0x2027*-0x1+0x39*-0x97;_0x29643a<_0x23f546;++_0x29643a){const _0x50f266=_0x571916[_0x29643a],_0x4af2b9=_0x35f651[_0x29643a],_0x460e23=_0x31fbe2[_0x29643a],_0x4940c0=Math['max'](_0x3de041[_0x29643a],_0x11520f[_0x29643a],_0x4cce7b[_0x29643a]);if(!isFinite(_0x50f266)||!isFinite(_0x4af2b9)||!isFinite(_0x460e23)||!isFinite(_0x4940c0))continue;const _0x1b1a4c=(-0x1e27+0x8a+0x1d9f)*Math['exp'](_0x4940c0);_0x3821bf?(_0x3821bf=!(0x1*0x43e+-0x144e+-0x9*-0x1c9),_0x2f76ca=_0x50f266-_0x1b1a4c,_0x103674=_0x4af2b9-_0x1b1a4c,_0x8b7c9d=_0x460e23-_0x1b1a4c,_0x59be96=_0x50f266+_0x1b1a4c,_0x484298=_0x4af2b9+_0x1b1a4c,_0xc16132=_0x460e23+_0x1b1a4c):(_0x2f76ca=Math['min'](_0x2f76ca,_0x50f266-_0x1b1a4c),_0x103674=Math['min'](_0x103674,_0x4af2b9-_0x1b1a4c),_0x8b7c9d=Math['min'](_0x8b7c9d,_0x460e23-_0x1b1a4c),_0x59be96=Math['max'](_0x59be96,_0x50f266+_0x1b1a4c),_0x484298=Math['max'](_0x484298,_0x4af2b9+_0x1b1a4c),_0xc16132=Math['max'](_0xc16132,_0x460e23+_0x1b1a4c));}_0x3821bf||(_0x2f4ad8[-0x10d5*-0x2+0x1780+0x21e*-0x1b]=(_0x2f76ca+_0x59be96)*(-0x81c+-0x1*-0x1b71+-0x1*0x1355+0.5),_0x2f4ad8[-0x4ed+-0xda2+0x1290]=(_0x103674+_0x484298)*(0x11*0x147+-0x17f9*0x1+0x242+0.5),_0x2f4ad8[-0x16*0x17b+0x521+0x1*0x1b73]=(_0x8b7c9d+_0xc16132)*(0x1f9f+0x140*0x1c+-0x429f*0x1+0.5),_0x1904b6[-0x1b*-0x1a+-0x3*-0x7ef+-0x5*0x54f]=(_0x59be96-_0x2f76ca)*(-0x725*-0x4+-0x1*0x17e7+-0x4ad+0.5),_0x1904b6[0x1ec7+0x556*0x7+0xa*-0x6d0]=(_0x484298-_0x103674)*(0x1778+0x8df+-0x2057+0.5),_0x1904b6[0x8f2+-0x41d*-0x3+-0x1547]=(_0xc16132-_0x8b7c9d)*(-0x3*-0xc94+0x2479*0x1+-0x79*0x9d+0.5)),self['postMessag'+'e']({'type':'updatedAab'+'bData','center':_0x2f4ad8,'halfExtents':_0x1904b6});},_0x8c03b8=(_0x34f928,_0x22cf90,_0x1c717e,_0x124e57,_0x385a8a,_0x6fe251,_0x4d0e42,_0x15a3f0,_0x82944,_0x21c79d,_0x1e8e92,_0x434881,_0x21930e,_0x1d8684,_0x38b387,_0xabb207,_0x41b359)=>{_0x139154(),_0x31c747=new Float32Array(_0x34f928*(-0x75+0x1*0x1d23+-0x1cab)),_0x101a13=new Float32Array(_0x34f928*(-0x22bc+-0x10b4+0x3373)),_0xa00236=new Uint16Array(_0x34f928*(0xa24*0x1+0xec4+-0x18e5)),_0x10c9e3=new Float32Array(_0x34f928*(-0x1959+-0x1c08+0x4*0xd59)),_0x22cf90&&(_0x127e9c=new Float32Array(_0x34f928*(-0x1*0x11f5+0xa*0x9b+0xbea)),_0x2c9663=new Float32Array(_0x34f928*(-0x1d77+0x24ff+0x785*-0x1)),_0x219186=new Float32Array(_0x34f928*(-0x13*-0x19f+0x1ab8+-0x362*0x11)),_0x36861d=new Float32Array(_0x34f928));const _0x5cf5e0=new _0x263bfc(0x1*0x7c8+0x1f54+-0x271c,-0x8ff*-0x4+0x2*-0x56f+-0x191e,-0x1246*-0x2+0xecc+-0x1*0x3358,0xa56+-0x109b+0x645);for(let _0x3b15fe=-0x239+-0x3b9*-0x4+0xcab*-0x1;_0x3b15fe<_0x34f928;_0x3b15fe++)_0x5cf5e0['set'](_0x6fe251[_0x3b15fe],_0x4d0e42[_0x3b15fe],_0x15a3f0[_0x3b15fe],_0x82944[_0x3b15fe]),_0x5cf5e0['normalize'](),_0x5cf5e0['w']<0x2689+0x7*0x2c9+-0x3a08&&_0x5cf5e0['mulScalar'](-(-0x8fd+-0x11d*0x1d+0x2947)),_0x101a13[_0x3b15fe*(-0x1820+-0x1d07+0x1a95*0x2)+(-0x7dd+0x5da+0x203)]=_0x1c717e[_0x3b15fe],_0x101a13[_0x3b15fe*(-0x1830+0x2b*-0x2+0xb*0x23b)+(-0x1*-0x144b+0x2548+0x1cc9*-0x2)]=_0x124e57[_0x3b15fe],_0x101a13[_0x3b15fe*(0x55f*-0x3+0x5*-0x371+0x2155)+(0x2*-0xa13+0x1863*-0x1+0x2c8b)]=_0x385a8a[_0x3b15fe],_0x31c747[_0x3b15fe*(0x12e8+0x8e*-0x11+-0x977)+(0x534+-0x192+-0x3a2)]=_0x1c717e[_0x3b15fe],_0x31c747[_0x3b15fe*(0x86a+0x419*0x6+-0x699*0x5)+(0x1cbf+0x1357+-0x3015)]=_0x124e57[_0x3b15fe],_0x31c747[_0x3b15fe*(0x67*-0x1+-0x97a+-0x3*-0x34c)+(0xe5a+-0x678+-0xa8*0xc)]=_0x385a8a[_0x3b15fe],_0xa00236[_0x3b15fe*(0x12d+-0x1537*0x1+0x3*0x6af)+(-0x26c8+0xbee+0x1ada)]=_0x1eef27(Math['exp'](_0x21930e[_0x3b15fe])),_0xa00236[_0x3b15fe*(0xc2*0x1+0x19a6+-0x1a65)+(-0x1dc2*-0x1+-0xa35+-0x138c)]=_0x1eef27(Math['exp'](_0x1d8684[_0x3b15fe])),_0xa00236[_0x3b15fe*(-0x1b73*0x1+-0x8*0x18e+0x27e6)+(-0x71e*0x1+-0x1*-0x4a9+0x277)]=_0x1eef27(Math['exp'](_0x38b387[_0x3b15fe])),_0x10c9e3[_0x3b15fe*(0x1275+0x2f*-0x57+-0x1*0x279)+(0x6e9+-0x264a+0x1f61)]=_0x5cf5e0['x'],_0x10c9e3[_0x3b15fe*(0xa1b+-0x12d7+0x8bf)+(0x11*0x1b5+-0x6*0x67+-0x1a9a)]=_0x5cf5e0['y'],_0x10c9e3[_0x3b15fe*(0xcc6+-0x1f22+0x125f*0x1)+(0xba2*0x1+0x14f3+0x2093*-0x1)]=_0x5cf5e0['z'],_0x22cf90&&_0x127e9c&&_0x2c9663&&(_0x127e9c[_0x3b15fe*(-0x1df*-0x4+-0x97*0x3b+-0x3*-0x91c)+(0x201f*0x1+0x195b+-0x397a)]=_0x21c79d[_0x3b15fe],_0x127e9c[_0x3b15fe*(0x136d*0x2+-0x1*-0x21ad+-0x16c*0x33)+(-0x9eb*0x2+-0xef*0x8+-0x1*-0x1b4f)]=_0x1e8e92[_0x3b15fe],_0x127e9c[_0x3b15fe*(-0x4*-0x577+-0x21e0+-0xc07*-0x1)+(0xec2*-0x1+-0x10e*-0x19+-0xb9a)]=_0x434881[_0x3b15fe],_0x219186[_0x3b15fe*(-0xa37+0x3*-0x32d+0x13c1)+(-0x8db*0x2+-0xd5a*-0x1+0x45c)]=_0x21c79d[_0x3b15fe],_0x219186[_0x3b15fe*(-0x2*-0xecc+-0x1565+-0x830)+(-0x13d1+0x1fc0+-0xbee)]=_0x1e8e92[_0x3b15fe],_0x219186[_0x3b15fe*(0x7*0x299+-0x18bc+0x690)+(0x1ec7+0x27*-0x1a+-0x1acf*0x1)]=_0x434881[_0x3b15fe],_0x36861d[_0x3b15fe]=_0x41b359?Math['exp'](_0x41b359[_0x3b15fe]):0x350+-0x1d8f+0x1*0x1a3f,_0x2c9663[_0x3b15fe*(0xd9*-0x1f+0xcae+0xd9c)+(-0x1*0xb62+-0x1*-0x1147+-0x5e5)]=_0xabb207?_0xabb207[_0x3b15fe]:-0x1f3+-0x8b3+0xaa6*0x1,_0x2c9663[_0x3b15fe*(0x1*0x186f+-0x144f*-0x1+-0x2cbb)+(0x18*-0x29+0x169d+-0x1*0x12c4)]=_0x36861d[_0x3b15fe]);const _0x4cab30=[_0x31c747['buffer'],_0x101a13['buffer'],_0xa00236['buffer'],_0x10c9e3['buffer']];_0x22cf90&&_0x4cab30['push'](_0x127e9c['buffer'],_0x2c9663['buffer'],_0x219186['buffer'],_0x36861d['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0x31c747,'dataPosition':_0x101a13,'dataScale':_0xa00236,'dataRotation':_0x10c9e3,'dataMotion':_0x127e9c,'dataTime':_0x2c9663,'motion':_0x219186,'tScaleArray':_0x36861d},_0x4cab30);},_0x14c8b3=(_0x2104f4,_0x3c852f,_0x35b159,_0x537a5c,_0x2c9739)=>{const _0x25cea3=new Uint16Array(_0x2104f4*(-0x10a0+0xfb*0x1a+-0x8da)),_0x4752c1=-0x31*-0xc2+0x21e8+-0x470a+0.28209479177387814;for(let _0x20e680=0x2ad*-0xb+0x12a1*-0x1+0x3010;_0x20e680<_0x2104f4;++_0x20e680){const _0x23a54d=_0x3c852f[_0x20e680]*_0x4752c1+(-0x2*0xa3d+-0x12*-0x103+0x244+0.5),_0x3fec1e=_0x35b159[_0x20e680]*_0x4752c1+(0xca*0x15+0x1283*0x1+0x7*-0x503+0.5),_0x3b3e86=_0x537a5c[_0x20e680]*_0x4752c1+(-0x1e9b*0x1+0x1*0x1279+-0x2*-0x611+0.5),_0x3ab970=_0x2c9739[_0x20e680];_0x25cea3[_0x20e680*(0xb*0x343+-0x9b6*-0x2+0x3749*-0x1)+(-0x248e+-0x386+0x2814)]=_0x1eef27(_0x23a54d),_0x25cea3[_0x20e680*(-0x204f+0x1929*-0x1+0x397c)+(-0xb92+0x3*-0x11b+0xee4)]=_0x1eef27(_0x3fec1e),_0x25cea3[_0x20e680*(0xcaf*-0x2+0x1aa*0x11+-0x4*0xba)+(0x7cf*-0x5+-0xf*-0x3e+-0x1*-0x236b)]=_0x1eef27(_0x3b3e86),_0x25cea3[_0x20e680*(-0x24fc+-0x5*0x95+-0x27e9*-0x1)+(-0x224b+-0x1c75+-0x3ec3*-0x1)]=_0x1eef27(_0x3ab970);}self['postMessag'+'e']({'type':'updatedCol'+'orData','data':_0x25cea3});},_0x212b9f=(_0x36a2fa,_0x22b93d,_0x15c040)=>{const _0x4f7d2a=new Uint32Array(_0x36a2fa*(0xc4c+-0x16*-0x16f+-0x2bd2)),_0x287bca=new Uint32Array(_0x36a2fa*(-0x108c+0x4ca*0x6+-0xc2c*0x1)),_0x60776a=new Uint32Array(_0x36a2fa*(-0xec9+0x733+0x116*0x7)),_0x300527=new Uint32Array(_0x36a2fa*(0x1204+0x1*-0xdbb+0x1*-0x445)),_0x41c956={0x1:0x3,0x2:0x8,0x3:0xf}[_0x22b93d],_0x28f1b4=_0x15c040,_0x4a5bcb=-0x1c91+-0x1*0x2027+0x44b7,_0x2b4e60=0x1e1*-0x1+0x1e2e*0x1+-0x184e,_0x1711f3=new Float32Array(-0x8ac+-0x934+0x11e1),_0x35b0f3=new Uint32Array(_0x1711f3['buffer']),_0x36df16=new Array(_0x41c956*(-0xbc9+-0x506*0x5+-0x15*-0x1c2))['fill'](-0x11bd+0x1fba+-0xdfd);for(let _0x36f08e=-0x2*0xe2f+-0x932+0x8*0x4b2;_0x36f08e<_0x36a2fa;++_0x36f08e){for(let _0x238226=-0x3*-0x5fb+0x32a+-0x151b;_0x238226<_0x41c956;++_0x238226)_0x36df16[_0x238226*(0x1bc4+-0x2dd*0xa+0xe1)]=_0x28f1b4[_0x238226][_0x36f08e],_0x36df16[_0x238226*(-0x719*0x2+0x14c7+-0x2*0x349)+(0x376+0x894+-0x3*0x403)]=_0x28f1b4[_0x238226+_0x41c956][_0x36f08e],_0x36df16[_0x238226*(-0x13d*0x1+0xa2a*0x3+-0x1d3e)+(0x97*0x2f+0x16aa+-0x3261)]=_0x28f1b4[_0x238226+_0x41c956*(0x269+-0x1*-0x1d29+-0x4*0x7e4)][_0x36f08e];let _0x201fa4=_0x36df16[0x7*0x13d+-0x1*0xcef+0x2*0x222];for(let _0x5c931e=-0x283*-0x2+-0x1bd0+0x16cb;_0x5c931e<_0x41c956*(0x3*0x8b5+-0x39*0x4b+-0x49*0x21);++_0x5c931e)_0x201fa4=Math['max'](_0x201fa4,Math['abs'](_0x36df16[_0x5c931e]));if(_0x201fa4!==-0x2*0xcb5+-0x23*0x7+0x2b*0x9d){for(let _0x5592c5=-0x3*0x90f+0x3*0x3e0+0xf8d;_0x5592c5<_0x41c956;++_0x5592c5)_0x36df16[_0x5592c5*(-0x2*-0xddb+-0xdf3+-0xdc0)+(-0x1f69+0x12c*0x7+0xd*0x1c9)]=Math['max'](-0x18ea+-0x2f*0x45+0x2595,Math['min'](_0x4a5bcb,Math['floor']((_0x36df16[_0x5592c5*(-0x2703+-0x16bd+0x3dc3)+(-0x11e6+-0x4f*0x6b+-0xa2f*-0x5)]/_0x201fa4*(-0x2311+0xdc6+0x1*0x154b+0.5)+(0x325*-0x7+-0x5db*0x1+0xdef*0x2+0.5))*_0x4a5bcb+(0x2134+0x39d*0x1+-0x75d*0x5+0.5)))),_0x36df16[_0x5592c5*(-0x74f+-0x4a3*-0x6+-0x1480)+(-0x18f7+0x1fc+0x16fc)]=Math['max'](-0x93a*-0x2+0x3*0x8bc+-0x2ca8,Math['min'](_0x2b4e60,Math['floor']((_0x36df16[_0x5592c5*(-0x153*0x2+-0x15*0x14c+0x1de5)+(-0x19c3+-0x5f3*-0x5+-0x1*0x3fb)]/_0x201fa4*(-0x1003*0x1+0xcc6*-0x2+-0x298f*-0x1+0.5)+(-0x3f*0x76+-0x2cb+-0x1d*-0x119+0.5))*_0x2b4e60+(-0x2477+0x12bb+0x4*0x46f+0.5)))),_0x36df16[_0x5592c5*(-0x5*0x6da+0xe0d+0x50e*0x4)+(-0x131d+-0xa*-0x62+-0x519*-0x3)]=Math['max'](0xe9a+0xb39+0x259*-0xb,Math['min'](_0x4a5bcb,Math['floor']((_0x36df16[_0x5592c5*(0x1*0x8fe+-0xaee+-0x1*-0x1f3)+(0x3a1*-0x5+-0x1dd0+0x2ff7)]/_0x201fa4*(0x1654+0xf*-0x20b+0x851*0x1+0.5)+(-0x6*-0x47d+-0x1*0xe2c+-0xcc2+0.5))*_0x4a5bcb+(0x23fc+-0x2166+-0x296+0.5))));_0x1711f3[-0x1296*-0x1+0x1b2e+-0x2dc4]=_0x201fa4,_0x4f7d2a[_0x36f08e*(-0x12e+-0x1*0x250e+-0x198*-0x18)+(0xb*-0x25+-0x18e0+-0x1a77*-0x1)]=_0x35b0f3[-0x1*0x2057+-0x276+-0x22cd*-0x1],_0x4f7d2a[_0x36f08e*(0x110*0x11+0x90*0x2d+-0x2b5c)+(-0x2*0x917+0x24ba+-0x128b)]=_0x36df16[0xaa4*-0x1+-0x2e3*0xb+0x1*0x2a65]<<-0x1b70+-0x1ac*0x15+0x3ea1*0x1|_0x36df16[0xe*-0x19+0x1275+-0x1116*0x1]<<0xed+0x8e2+0x32*-0x32|_0x36df16[0x454*-0x9+-0x136f+0x3a65],_0x4f7d2a[_0x36f08e*(0x15d*0x1+-0xdd+0x4*-0x1f)+(0x1e75+0x10a9+-0x2f1c)]=_0x36df16[-0x1a52+0x25f0+-0xb9b]<<0x119f+0x201f+-0x1*0x31a9|_0x36df16[-0x1*0xf19+0xda+-0x4c1*-0x3]<<0x25*-0xb+0x2c*-0x1b+0x646|_0x36df16[0x106+0x1*0x26a+-0x1*0x36b],_0x4f7d2a[_0x36f08e*(0x3a7+-0x1737+0x4e5*0x4)+(0x7f7+-0x17*-0x14b+-0x25b1)]=_0x36df16[0x127e+0x891+-0x1b09]<<-0x572+-0x3cb*-0x5+-0xd70|_0x36df16[-0x333*0x7+-0x1*0x1dc9+0x3435]<<0x8f+0x2020+-0x20a4|_0x36df16[0x1*0xbe9+0x1951*-0x1+0xd70],_0x22b93d>0x3d*0x9b+0x18bb+-0x1c3*0x23&&(_0x287bca[_0x36f08e*(-0xbf5+0xfc1+-0x3c8)+(0x1*-0x2135+-0x9ab+-0x1c*-0x188)]=_0x36df16[-0x20d4+0x24f2+-0x415]<<0xf1f+-0x1284+0x37a|_0x36df16[0x22a3+0x24e7+-0x4780]<<0x18e*-0x7+0x3a1*0x6+-0xad9*0x1|_0x36df16[-0x182*-0x11+-0x38a+-0x160d],_0x287bca[_0x36f08e*(0x59*-0x1b+-0x1d91+0x26f8)+(0x1*-0x22e3+-0x1e4b+0x197*0x29)]=_0x36df16[-0x3ad+-0x757*0x5+-0x2*-0x1436]<<-0x88d*-0x3+-0x1de1+0x44f|_0x36df16[0x1*-0x1ebe+0x2a7*0x7+0x5*0x272]<<0x8be*-0x3+-0x4*-0x31d+0xdd1|_0x36df16[0x26ac+-0x21*0x81+0xd*-0x1b1],_0x287bca[_0x36f08e*(0x39+-0x2145+0x5c*0x5c)+(0x5c2*0x4+-0x2005+0x1*0x8ff)]=_0x36df16[0x211a+-0x19a4+-0x767]<<0x1379+0x221a+-0x1abf*0x2|_0x36df16[-0x53f*-0x2+-0x1ba8+-0x7*-0x276]<<-0xc44+0x1179*-0x1+0x1dc8*0x1|_0x36df16[-0x88*-0x1+-0x170a*-0x1+-0x1781],_0x287bca[_0x36f08e*(0x1*-0x208f+-0x1787+0x381a)+(0x9d*-0x9+0x1803+0x1*-0x127b)]=_0x36df16[-0xac2+-0x1867+-0x137*-0x1d]<<-0x34c+0xc77+0x48b*-0x2|_0x36df16[0x1109+-0x136b*-0x1+-0x2461*0x1]<<0x1*-0x2f4+0x18db*0x1+-0x15dc|_0x36df16[-0x1ab8+0x259e+-0xad2],_0x22b93d>-0x639*-0x5+0x75e*-0x5+0x5bb?(_0x60776a[_0x36f08e*(-0x16a5+-0xe*-0x7+0x1*0x1647)+(0x1*0x244d+-0x1c3c+-0x1*0x811)]=_0x36df16[0xe2f+-0x2011+0x3*0x5fd]<<0x1918+-0x23fb+0xaf8|_0x36df16[0x707*-0x3+0x1a99+-0x56e]<<-0x472+0x26a3+-0x2226|_0x36df16[-0x1155+0x1c4f+-0xae3],_0x60776a[_0x36f08e*(-0x228b+0x1ce5*0x1+0x5aa)+(-0xec9*0x1+-0x878+-0x1*-0x1742)]=_0x36df16[0x39+-0x4ef*0x3+0x2*0x756]<<-0x7ca+0xaff+0xc8*-0x4|_0x36df16[0xe3d+-0xb63+-0x2c1]<<0x8ce+-0x17*0x49+0xbc*-0x3|_0x36df16[0x49*0x1+0xe4d+-0xe7c],_0x60776a[_0x36f08e*(0x1b62+-0x1e*0xdf+-0x1*0x13c)+(0x1d7b+-0xf41*0x1+-0xe*0x104)]=_0x36df16[0xbc6+0x1e52+-0x3*0xdff]<<-0x1a8a*0x1+-0x5bf+0x205e|_0x36df16[-0x1681+0x3*-0xae6+0x374f*0x1]<<0x1c5a+-0x446+-0x1809|_0x36df16[0xb*-0x246+-0x28*-0xb9+-0x3c9],_0x60776a[_0x36f08e*(0x1*-0x9f5+-0x1a4d+0x1223*0x2)+(0x14d3*0x1+-0xd31*0x2+0x17*0x3e)]=_0x36df16[0x9*0x2b4+0x1731+0x5*-0x97b]<<-0x516+0x4*-0x684+-0x7b*-0x41|_0x36df16[-0x1*0x77b+-0x1*-0x20e1+-0x86d*0x3]<<-0xa82+-0xab+0x8*0x167|_0x36df16[0x18f3+-0x4f3+-0x13e0],_0x300527[_0x36f08e*(0x6a*-0x5c+0x8f9*0x3+0xb31)+(-0x1f*0x13f+-0x19ed+0x408e)]=_0x36df16[0xb*0x1ac+-0x263b+0x27f*0x8]<<0x1b55+-0x1be2+0xa2*0x1|_0x36df16[0x23ef+0xccd*-0x2+-0xa33]<<0x2319+0x21eb+-0x44f9|_0x36df16[-0x2314+0x185f+0xad8],_0x300527[_0x36f08e*(0x2402+-0x1e3c+-0x5c2)+(0x1b2*-0x1+-0x1c89+-0x78f*-0x4)]=_0x36df16[-0x243c+0x16d9+0xd87]<<0x2211+-0x1*-0x18e1+-0x3add|_0x36df16[-0x36c+0x1c22+0x1891*-0x1]<<0x20+0x10be*0x1+0x3b*-0x49|_0x36df16[0x2*-0x983+-0x2*0x556+0xa*0x2fc],_0x300527[_0x36f08e*(0xd63*0x1+0x599*0x1+0x4*-0x4be)+(0x26a4+-0x1*-0x1157+-0x37f9*0x1)]=_0x36df16[-0x4bf*0x6+-0x1*0x587+0x2228]<<-0x6*0x2cf+0x98*0xb+-0xa67*-0x1|_0x36df16[0x2*0x111d+0xb*-0x113+-0x1641]<<-0x5e8+-0xd43+0x1336|_0x36df16[-0x321*-0x3+0xf60+-0x43*0x5e],_0x300527[_0x36f08e*(-0x2187+-0x1*0x1453+-0xac6*-0x5)+(-0x20fd+-0x1f*0x6+0x21ba)]=_0x36df16[0xd97+0x1985+-0x26f2]<<-0x1684+-0x5*0x293+0x2378|_0x36df16[-0x1011+-0x1*-0x16a9+-0x66d]<<0x22db*-0x1+0x167a+0xc6c|_0x36df16[-0xf59+-0xa45*-0x2+-0x505]):_0x60776a[_0x36f08e]=_0x36df16[-0x211c+0x31*0xa7+-0x13a*-0x1]<<0x643*0x1+0x3c3+0x1fd*-0x5|_0x36df16[0x74c*0x1+0x1f99+0x5*-0x7c3]<<-0x232*-0x2+0x1af8+-0x1f51|_0x36df16[0x43f*0x6+0xc2*0x5+-0x1d2d]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x4f7d2a,'sh4to7Data':_0x287bca,'sh8to11Data':_0x60776a,'sh12to15Data':_0x300527}},[_0x4f7d2a['buffer'],_0x287bca['buffer'],_0x60776a['buffer'],_0x300527['buffer']]);},_0x139154=()=>{_0x31c747=null,_0x2c9663=null,_0x10c9e3=null,_0x101a13=null,_0x127e9c=null,_0xa00236=null,_0x219186=null,_0x36861d=null;};}let wC=class extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+TC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x530878,_0x21f318,_0xda4d3c){_0x530878['onmessage']=_0x2dc781=>{if(!this['worker'])return;const {data:_0x3ef580}=_0x2dc781;if(_0x3ef580['type']===_0x21f318)switch(_0x21f318){case'updatedSHD'+'ata1':_0xda4d3c(_0x3ef580['data']);break;case'updatedCol'+'orData':_0xda4d3c(_0x3ef580['data']);break;case'updatedTra'+'nsformData':_0xda4d3c(_0x3ef580);break;case'updatedAab'+'bData':_0xda4d3c(_0x3ef580);break;}};}['updateSHDa'+'ta1'](_0x4ed6a3,_0x6c7632,_0x48a143){var _0x3691ca;return(_0x3691ca=this['worker'])==null||_0x3691ca['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0x4ed6a3,'shBands':_0x6c7632,'SHData':_0x48a143}),new Promise(_0x5f26f3=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x2c2da7=>{_0x5f26f3(_0x2c2da7);});});}async['updateColo'+'rData'](_0x4e90ec,_0x470460,_0x56224b,_0xb26ef5,_0x3ff6e7){var _0x4fadbc;return(_0x4fadbc=this['worker'])==null||_0x4fadbc['postMessag'+'e']({'type':'updateColo'+'rData','numSplats':_0x4e90ec,'cr':_0x470460,'cg':_0x56224b,'cb':_0xb26ef5,'ca':_0x3ff6e7}),new Promise(_0xd61ae4=>{this['workerMess'+'ageFn'](this['worker'],'updatedCol'+'orData',_0x7d53f5=>{_0xd61ae4(_0x7d53f5);});});}async['calcAabb'](_0x5cc996,_0x3b67e8,_0x237ee7,_0x724cc4,_0x43badb,_0x3638a8,_0x259bcf){var _0x3562d7;const _0x415ccc=new Float32Array(_0x3b67e8),_0x2c0679=new Float32Array(_0x237ee7),_0x329fc8=new Float32Array(_0x724cc4),_0x2fda4a=new Float32Array(_0x43badb),_0xdf85bd=new Float32Array(_0x3638a8),_0x4dbfab=new Float32Array(_0x259bcf);return(_0x3562d7=this['worker'])==null||_0x3562d7['postMessag'+'e']({'type':'calcAabb','numSplats':_0x5cc996,'x':_0x415ccc,'y':_0x2c0679,'z':_0x329fc8,'sx':_0x2fda4a,'sy':_0xdf85bd,'sz':_0x4dbfab},[_0x415ccc['buffer'],_0x2c0679['buffer'],_0x329fc8['buffer'],_0x2fda4a['buffer'],_0xdf85bd['buffer'],_0x4dbfab['buffer']]),new Promise(_0x1fae04=>{this['workerMess'+'ageFn'](this['worker'],'updatedAab'+'bData',_0x33936d=>{_0x1fae04(_0x33936d);});});}async['updateTran'+'sData'](_0x120a73,_0x522c40,_0x4df962,_0x48d8a1,_0x52b69b,_0x2e68de,_0x9f887a,_0x2e4d8f,_0xc3a53f,_0x361941,_0x491b80,_0x195261,_0x50b44d,_0x166284,_0x5921e2,_0x14a9dc,_0x5ce09c){var _0x17d343;return(_0x17d343=this['worker'])==null||_0x17d343['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0x120a73,'is4D':_0x522c40,'x':_0x4df962,'y':_0x48d8a1,'z':_0x52b69b,'rx':_0x2e68de,'ry':_0x9f887a,'rz':_0x2e4d8f,'rw':_0xc3a53f,'mx':_0x361941,'my':_0x491b80,'mz':_0x195261,'sx':_0x50b44d,'sy':_0x166284,'sz':_0x5921e2,'muT':_0x14a9dc,'tScale':_0x5ce09c}),new Promise(_0x5b447c=>{const _0x33f523=_0x1953fb=>{_0x5b447c(_0x1953fb);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x33f523);});}['destroy'](){var _0x110264;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x110264=this['worker'])==null||_0x110264['terminate'](),this['worker']=null);}};const vg=(_0x5706c8,_0x347e52)=>{const _0x31b39c=[];for(let _0x50536e=0x1*0x2033+-0x1177+0x29*-0x5c;_0x50536e<_0x347e52;++_0x50536e)_0x31b39c['push'](_0x5706c8['getProp']('f_rest_'+_0x50536e));return _0x31b39c;};class EC extends Rv{constructor(_0xc4186a,_0x2b77ac){console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),super(_0xc4186a,_0x2b77ac),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(0x46b*-0x6+0x2491+-0xb*0xea)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new wC(),this['assetsMana'+'gerLoadedT'+'ime']=-0x5d*0xd+0x1b49+0x1*-0x168b);}async['updateData'](){var _0x17fe28,_0x585d47,_0x4eb2cc,_0x5160d5,_0x4d2c39,_0x126b93,_0x5f2637,_0x1c3f9a,_0x52e951,_0x5780fc,_0x5d1a82;console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Data'),await super['updateData']();const _0x2b804f=this['gsplatData'];if(!_0x2b804f)return;this['is4D']=_0x2b804f['is4D'];const _0x23cec0=await this['getTransfo'+'rmDataByWo'+'rker'](_0x2b804f);this['aabb']=new De(),await _0x2b804f['calcAabbAs'+'ync'](this['aabb'],this['updateData'+'Worker']),this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0x23cec0['centers'],this['motion']=_0x23cec0['motion'],this['tScale']=_0x23cec0['tScaleArra'+'y'],this['muT']=await _0x2b804f['getMuT'](),this['timeIndex']=await _0x2b804f['getTimeInd'+'ex']();const _0x38e0d1=this['evalTextur'+'eSize'](_0x2b804f['numSplats']);this['colorTextu'+'re']?((_0x17fe28=this['colorTextu'+'re2'])==null||_0x17fe28['destroy'](),(_0x585d47=this['transformA'+'Texture2'])==null||_0x585d47['destroy'](),(_0x4eb2cc=this['transformB'+'Texture2'])==null||_0x4eb2cc['destroy'](),(_0x5160d5=this['transformR'+'Texture2'])==null||_0x5160d5['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x38e0d1),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x38e0d1),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x38e0d1),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x38e0d1),this['is4D']&&((_0x4d2c39=this['transformM'+'otionTextu'+'re2'])==null||_0x4d2c39['destroy'](),(_0x126b93=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x126b93['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x38e0d1),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x38e0d1))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0x38e0d1),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x38e0d1),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0x38e0d1),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x38e0d1),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0x38e0d1),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x38e0d1),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x38e0d1),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x38e0d1),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0x38e0d1),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x38e0d1),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0x38e0d1),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x38e0d1))),await this['updateColo'+'rData'](_0x2b804f),await this['updateTran'+'sformFromD'+'ata'](_0x23cec0),this['shBands']=_0x2b804f['shBands'],this['shBands']>0x20*-0x53+-0x7*-0x1bb+0x59*-0x5&&(this['sh1to3Text'+'ure']?((_0x5f2637=this['sh1to3Text'+'ure2'])==null||_0x5f2637['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x38e0d1),this['shBands']>-0x9cb*-0x3+0x2fe*-0x5+0x4ce*-0x3&&((_0x1c3f9a=this['sh4to7Text'+'ure2'])==null||_0x1c3f9a['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x38e0d1),this['shBands']>0x215f+-0xaf*0x33+0x60*0x4?((_0x52e951=this['sh8to11Tex'+'ture2'])==null||_0x52e951['destroy'](),(_0x5780fc=this['sh12to15Te'+'xture2'])==null||_0x5780fc['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x38e0d1),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x38e0d1)):((_0x5d1a82=this['sh8to11Tex'+'ture2'])==null||_0x5d1a82['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x38e0d1)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x38e0d1),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0x38e0d1),this['shBands']>0x252e+-0x6bb+-0x1e72&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0x38e0d1),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x38e0d1),this['shBands']>-0x13d*0x1c+-0x1*-0x15f1+-0xcbd*-0x1?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0x38e0d1),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x38e0d1),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0x38e0d1),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x38e0d1)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0x38e0d1),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0x38e0d1)))),await this['updateSHDa'+'taByWorker'](_0x2b804f));}['updateText'+'ure'](){console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Texture'),!this['isDestroye'+'d']&&(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x270190){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x270190}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20releas'+'eSeqGSplat'+'\x20all'),this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x4ab1bd,_0x129eb8,_0xd13618,_0x2e7584,_0x4ae216){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x4ab1bd,'timeOption':_0x129eb8,'loadedTime':_0xd13618,'asset':_0x2e7584,'events':_0x4ae216}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(0xd87*-0x1+0x88+-0x455*-0x3);try{for(;this['appendQueu'+'e']['length']>0x1d7e+0x175e+-0x34dc*0x1;){const _0x2b93d2=this['appendQueu'+'e']['shift']();_0x2b93d2['type']==='append'?await this['processApp'+'endTask'](_0x2b93d2['data']):_0x2b93d2['type']==='release'&&await this['processRel'+'easeTask'](_0x2b93d2['data']);}}finally{this['isProcessi'+'ngQueue']=!(0x23d8+0x2f*-0x27+0x1*-0x1cae);}}}async['processRel'+'easeTask'](_0xfd59d1){const {index:_0x558afb}=_0xfd59d1;console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.relea'+'seGSplatRe'+'source',_0x558afb),!this['isDestroye'+'d']&&await this['gsplatData']['releaseSeq'+'Data'](_0x558afb);}async['processApp'+'endTask'](_0x5632a7){var _0x3eaf42;const {gsplatData:_0x2cd62a,timeOption:_0xba17c2,loadedTime:_0x5bfb76,asset:_0x214615,events:_0x5588ac}=_0x5632a7;!this['gsplatData']||this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatRes'+'ource'),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0xba17c2,await this['gsplatData']['appendGSpl'+'atData'](_0x2cd62a,_0x5bfb76,_0xba17c2),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20gspla'+'tData.appe'+'ndGSplatDa'+'ta',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0xdfb+0x3*0x996+0x1*-0x2abb),_0x2cd62a['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0x2cd62a['numSplats'])['toFixed'](-0xe48+-0x153*0x15+-0x1*-0x2a1a)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20this.'+'updateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0xb90+0x26e2+0x327*-0x10),_0x2cd62a['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),(_0x3eaf42=this['gsplatInst'+'ance'])==null||_0x3eaf42['updateInst'+'anceData'](this),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20updat'+'eInstanceD'+'ata',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x1fa2*-0x1+-0xca1+0x3*-0x655),_0x2cd62a['numSplats']),this['asset']=_0x214615,this['assetsMana'+'gerLoadedT'+'ime']=_0x5bfb76,this['events']=_0x5588ac);}['fireAssets'+'ManagerTim'+'eIndex'](){var _0x2612e5;const _0x48d7bf=this['assetsMana'+'gerLoadedT'+'ime'];console['log']('____\x20ENGIN'+'E\x20IVAN','fireAssets'+'ManagerTim'+'eIndex',_0x48d7bf),(_0x2612e5=this['asset'])==null||_0x2612e5['fire']('setAssetsL'+'oaded',_0x48d7bf);}['destroy'](){var _0x3ffe8b,_0x26a378,_0x2692f4,_0x36d1c9,_0x44a57b,_0x69d6cc,_0x3b1cd2,_0x4d3484,_0xb1a932,_0x59c76f,_0x10e361,_0x255907,_0x333ff6,_0x434da3,_0x489dc5,_0x2858c6,_0x2314a0,_0x4c3bf1,_0x2e4b4e,_0x34d498,_0x4c8536;(_0x3ffe8b=this['updateData'+'Worker'])==null||_0x3ffe8b['destroy'](),this['updateData'+'Worker']=void(0x2319+-0xe43+-0x379*0x6),(_0x26a378=this['colorTextu'+'re'])==null||_0x26a378['destroy'](),(_0x2692f4=this['transformA'+'Texture'])==null||_0x2692f4['destroy'](),(_0x36d1c9=this['transformB'+'Texture'])==null||_0x36d1c9['destroy'](),(_0x44a57b=this['transformR'+'Texture'])==null||_0x44a57b['destroy'](),(_0x69d6cc=this['transformM'+'otionTextu'+'re'])==null||_0x69d6cc['destroy'](),(_0x3b1cd2=this['transformL'+'ifecycleTe'+'xture'])==null||_0x3b1cd2['destroy'](),(_0x4d3484=this['sh1to3Text'+'ure'])==null||_0x4d3484['destroy'](),(_0xb1a932=this['sh4to7Text'+'ure'])==null||_0xb1a932['destroy'](),(_0x59c76f=this['sh8to11Tex'+'ture'])==null||_0x59c76f['destroy'](),(_0x10e361=this['sh12to15Te'+'xture'])==null||_0x10e361['destroy'](),(_0x255907=this['colorTextu'+'re2'])==null||_0x255907['destroy'](),(_0x333ff6=this['transformA'+'Texture2'])==null||_0x333ff6['destroy'](),(_0x434da3=this['transformB'+'Texture2'])==null||_0x434da3['destroy'](),(_0x489dc5=this['transformR'+'Texture2'])==null||_0x489dc5['destroy'](),(_0x2858c6=this['transformM'+'otionTextu'+'re2'])==null||_0x2858c6['destroy'](),(_0x2314a0=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x2314a0['destroy'](),(_0x4c3bf1=this['sh1to3Text'+'ure2'])==null||_0x4c3bf1['destroy'](),(_0x2e4b4e=this['sh4to7Text'+'ure2'])==null||_0x2e4b4e['destroy'](),(_0x34d498=this['sh8to11Tex'+'ture2'])==null||_0x34d498['destroy'](),(_0x4c8536=this['sh12to15Te'+'xture2'])==null||_0x4c8536['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x45205a){var _0x362025,_0x50ef58,_0x8b1211,_0x541ae3,_0x2204b3,_0x4c5d96,_0x4d6424,_0xa838d9,_0x45df88,_0x43171a,_0x437bf6,_0x2c58b1,_0x45a006;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0x5242c7=((_0x362025=_0x45205a['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(-0x21e0+-0xf04+0xc*0x413):_0x362025['data'])??0x7db*-0x4+0x1bbd+0x3af,_0x57ede6=((_0x50ef58=_0x45205a['getParamet'+'er']('uSplatScal'+'e'))==null?void(0xb*0x1e7+-0x1a59+0x56c):_0x50ef58['data'])??0x17*-0x1+0x3*0x79d+-0x1*0x16bf,_0x53118b=((_0x8b1211=_0x45205a['getParamet'+'er']('uSaturatio'+'n'))==null?void(-0x861+0x26*0x3a+-0x3b*0x1):_0x8b1211['data'])??-0xf19+0x121*-0x9+0x1943,_0x36d274=((_0x541ae3=_0x45205a['getParamet'+'er']('uHueOffset'))==null?void(0xb7b*-0x1+-0x3e6+0xf61):_0x541ae3['data'])??0x222f+-0x327*0x2+-0x1be1,_0x7df9a7=((_0x2204b3=_0x45205a['getParamet'+'er']('uInvertOpa'+'city'))==null?void(-0x185*-0x3+0x1b38+-0x1fc7*0x1):_0x2204b3['data'])??0xff*0xf+-0x226c+0x137b,_0x147c35=((_0x4c5d96=_0x45205a['getParamet'+'er']('uOpacity'))==null?void(-0xd56+-0x121*-0x1b+-0x1125):_0x4c5d96['data'])??-0x17f1+-0x2*-0x1279+0xd00*-0x1,_0x424e0a=((_0x4d6424=_0x45205a['getParamet'+'er']('clrOffset'))==null?void(-0xf9+0x1c3e+-0x1b45):_0x4d6424['data'])??[-0x2*0x2f5+0x54+0x596,0x11c0+0xd*0x16c+0x90f*-0x4,0xde9+0x152e*-0x1+-0x745*-0x1,0x2288+0x106*0x7+0x335*-0xd],_0x10d74c=((_0xa838d9=_0x45205a['getParamet'+'er']('clrScale'))==null?void(0x851+-0x22c7+0x6*0x469):_0xa838d9['data'])??[0x2*0xe4a+-0x582+0x1711*-0x1,-0x21fc+-0x1016+0x3213,-0x17*-0x103+-0x14e8+0x97*-0x4,0x4a0*-0x1+0x2b*0xe4+-0x21ab],_0x4d83b0=((_0x45df88=_0x45205a['getParamet'+'er']('uShapeN'))==null?void(0x84*-0x1e+0x2e7*-0xb+0x2f65):_0x45df88['data'])??-0x1c8c+0x3fd*-0x1+0x2089*0x1,_0x4c9411=((_0x43171a=_0x45205a['getParamet'+'er']('mode'))==null?void(-0x12b3+-0x1d5a+0x300d*0x1):_0x43171a['data'])??-0x4*0x1f7+-0x5*-0x355+-0x8cd,_0x2c900e=((_0x437bf6=_0x45205a['getParamet'+'er']('ringSize'))==null?void(0x7*0x45b+0x654+-0x24d1):_0x437bf6['data'])??-0x18*0xd7+-0x120e*-0x1+0x21a*0x1,_0x2bef03=((_0x2c58b1=_0x45205a['defines'])==null?void(-0x1678+-0x1*0x2217+0x388f):_0x2c58b1['get']('uOpenAnim'))??'0',_0x36188d=((_0x45a006=_0x45205a['defines'])==null?void(0xf7d+-0x1af5+0xb78):_0x45a006['get']('uControlCo'+'lorMode'))??'0';_0x45205a['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x45205a['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x45205a['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x45205a['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x45205a['setParamet'+'er']('uSplatScal'+'e',_0x57ede6),_0x45205a['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0x5242c7),_0x45205a['setParamet'+'er']('uSaturatio'+'n',_0x53118b),_0x45205a['setParamet'+'er']('uHueOffset',_0x36d274),_0x45205a['setParamet'+'er']('uInvertOpa'+'city',_0x7df9a7),_0x45205a['setParamet'+'er']('uOpacity',_0x147c35),_0x45205a['setParamet'+'er']('clrOffset',_0x424e0a),_0x45205a['setParamet'+'er']('clrScale',_0x10d74c),_0x45205a['setParamet'+'er']('uShapeN',_0x4d83b0),_0x45205a['setParamet'+'er']('mode',_0x4c9411),_0x45205a['setParamet'+'er']('ringSize',_0x2c900e),_0x45205a['setParamet'+'er']('prerenderC'+'Time',-0x55*-0xf+0x11*0x222+0x1cb*-0x17),_0x45205a['setParamet'+'er']('renderSpac'+'e',0x1c62+0x10bb*0x2+-0x3*0x149a),_0x45205a['setParamet'+'er']('endSpace',0x13fa+0x16ed+-0x2add),_0x45205a['setDefine']('uOpenAnim',_0x2bef03),_0x45205a['setDefine']('uControlCo'+'lorMode',_0x36188d),this['transformM'+'otionTextu'+'re']&&_0x45205a['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x45205a['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x45205a['setDefine']('SH_BANDS',this['shBands']),_0x45205a['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x45205a['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x45205a['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x45205a['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x45205a['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0x4d4845){const _0x58d9b1=Math['ceil'](Math['sqrt'](_0x4d4845)),_0x404f94=Math['ceil'](_0x4d4845/_0x58d9b1);return new J(_0x58d9b1,_0x404f94);}async['updateColo'+'rData'](_0x6d2d40){var _0x469cff;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x4c01b5=this['colorTextu'+'re2'];if(!_0x4c01b5||this['isDestroye'+'d'])return;const _0x3aeade=_0x6d2d40['getProp']('f_dc_0'),_0x2fc722=_0x6d2d40['getProp']('f_dc_1'),_0xb9b7b8=_0x6d2d40['getProp']('f_dc_2'),_0x544a1c=_0x6d2d40['getProp']('opacity');let _0x1ab9bc=(_0x469cff=_0x6d2d40['transformD'+'ata'])==null?void(-0x16d+-0x1de6+-0x37b*-0x9):_0x469cff['dataColor'];_0x1ab9bc||(_0x1ab9bc=await this['updateData'+'Worker']['updateColo'+'rData'](_0x6d2d40['numSplats'],_0x3aeade,_0x2fc722,_0xb9b7b8,_0x544a1c)),await this['idleUpdate'+'TexturePro'+'mise'](_0x4c01b5,_0x1ab9bc);}async['getTransfo'+'rmDataByWo'+'rker'](_0x53256f){var _0x273818;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x273818=_0x53256f['transformD'+'ata'])!=null&&_0x273818['dataCenter'+'s'])return{'centers':_0x53256f['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0x53256f['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0x53256f['transformD'+'ata']['dataScale'],'dataRotation':_0x53256f['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0x53256f['transformD'+'ata']['dataMotion'],'dataTime':_0x53256f['transformD'+'ata']['dataTime'],'motion':_0x53256f['transformD'+'ata']['motion'],'tScaleArray':_0x53256f['transformD'+'ata']['tScaleArra'+'y']};const _0x218901=_0x53256f['getProp']('x'),_0x1e3016=_0x53256f['getProp']('y'),_0xc67ae7=_0x53256f['getProp']('z'),_0x527a9d=_0x53256f['getProp']('rot_1'),_0x4ba6fa=_0x53256f['getProp']('rot_2'),_0x5c7f4c=_0x53256f['getProp']('rot_3'),_0xad4be4=_0x53256f['getProp']('rot_0'),_0x4ffd6c=_0x53256f['getProp']('motion_0'),_0x642610=_0x53256f['getProp']('motion_1'),_0x343b72=_0x53256f['getProp']('motion_2'),_0x137e7e=_0x53256f['getProp']('scale_0'),_0x2522a9=_0x53256f['getProp']('scale_1'),_0x2b5ab7=_0x53256f['getProp']('scale_2'),_0x39e58f=_0x53256f['getProp']('t'),_0x23c83e=_0x53256f['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0x53256f['numSplats'],this['is4D'],_0x218901,_0x1e3016,_0xc67ae7,_0x527a9d,_0x4ba6fa,_0x5c7f4c,_0xad4be4,_0x4ffd6c,_0x642610,_0x343b72,_0x137e7e,_0x2522a9,_0x2b5ab7,_0x39e58f,_0x23c83e);}async['updateTran'+'sformFromD'+'ata'](_0x4b6ecf){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0x4b6ecf['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0x4b6ecf['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0x4b6ecf['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0x4b6ecf['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0x4b6ecf['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x37d27a,_0x427332){if(!this['isDestroye'+'d'])return new Promise(_0x370914=>{requestIdleCallback(()=>{const _0x38a26a=_0x37d27a['lock']();_0x38a26a==null||_0x38a26a['set'](_0x427332),_0x37d27a['unlock'](),_0x370914(!(-0xfe9*-0x2+0x1778+-0x374a));},{'timeout':0x12c});});}async['updateTran'+'sformData'](_0x316f0b){var _0x50a9e0,_0x29044c,_0x262f9f,_0x14ff14;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData'),this['isDestroye'+'d'])return;const _0x22d14b=Mn['float2Half'];if(!this['transformA'+'Texture'])return;const _0x570e4e=this['transformA'+'Texture']['lock'](),_0x5e5515=this['transformR'+'Texture']['lock'](),_0x32d725=this['transformB'+'Texture']['lock'](),_0x54ed2a=(_0x50a9e0=this['transformM'+'otionTextu'+'re'])==null?void(0x172c+0x225+0x1*-0x1951):_0x50a9e0['lock'](),_0x1e73e3=(_0x29044c=this['transformL'+'ifecycleTe'+'xture'])==null?void(0x1*-0x12ea+-0x1*0x8ea+0x1bd4):_0x29044c['lock'](),_0x4b24a2=new D(),_0x5470d3=new le(),_0x480fc3=new D(),_0x2b62d6=new D(),_0x268fdf=_0x316f0b['createIter'](_0x4b24a2,_0x5470d3,_0x480fc3,null,_0x2b62d6),_0xf7b7bc=_0x316f0b['getProp']('t'),_0x52f1d3=_0x316f0b['getProp']('t_scale');for(let _0xef3d73=0x2*-0x11ef+0x9e3*0x1+0x19fb*0x1;_0xef3d73<_0x316f0b['numSplats'];_0xef3d73++)_0x268fdf['read'](_0xef3d73),_0x5470d3['normalize'](),_0x5470d3['w']<0x94+0x1236+0x965*-0x2&&_0x5470d3['mulScalar'](-(-0x1*-0x1115+0x10a*0x1f+-0x2*0x18a5)),_0x570e4e[_0xef3d73*(-0x2de*0xb+-0x1b7*-0x1+0x1dd6)+(0x34b+0x1*-0xe3+0x1c*-0x16)]=_0x4b24a2['x'],_0x570e4e[_0xef3d73*(0x17e5*0x1+0x43*0x8b+-0x3c43)+(0x2111+0x2169+-0x4279*0x1)]=_0x4b24a2['y'],_0x570e4e[_0xef3d73*(-0x833+-0x1564+0x1d9a)+(0x1ed7+0x2e0*0x3+-0x2775)]=_0x4b24a2['z'],_0x32d725[_0xef3d73*(0x1*-0x15d7+0x2299+-0x1*0xcbf)+(-0x24c7+-0xd*0xe+0x15*0x1c9)]=_0x22d14b(_0x480fc3['x']),_0x32d725[_0xef3d73*(-0x957*0x1+-0x1fe1+0x83f*0x5)+(-0xf05+-0x1721+-0x1*-0x2627)]=_0x22d14b(_0x480fc3['y']),_0x32d725[_0xef3d73*(-0x3f5*0x1+-0x11e4+-0x2*-0xaee)+(0x1824+-0x1c6c+0x44a)]=_0x22d14b(_0x480fc3['z']),_0x5e5515[_0xef3d73*(0x1fb9+-0x1*0x534+0xae*-0x27)+(0xe2e+-0x9e4*-0x2+-0x21f6)]=_0x5470d3['x'],_0x5e5515[_0xef3d73*(-0x56d+0xba1*-0x3+-0x6f*-0x5d)+(0xb6*0x2f+-0x240c+-0x2d*-0xf)]=_0x5470d3['y'],_0x5e5515[_0xef3d73*(0x2018+-0x1612+0x1*-0xa03)+(-0x1139*0x2+-0x1fa6+0x421a)]=_0x5470d3['z'],this['is4D']&&_0x54ed2a&&_0x1e73e3&&(_0x54ed2a[_0xef3d73*(-0x56+-0x1*0x226d+0x22c6)+(-0x264c+-0x7cf+0x2e1b)]=_0x2b62d6['x'],_0x54ed2a[_0xef3d73*(0xfa5+-0x1b40+0xb9e)+(0x419*0x1+0x5*0x7c3+-0x2ae7)]=_0x2b62d6['y'],_0x54ed2a[_0xef3d73*(0x71f*0x1+-0x129+-0x5f3*0x1)+(-0x1*0xac9+0x1*0x1519+-0xa4e)]=_0x2b62d6['z'],_0x1e73e3[_0xef3d73*(0x9c2*0x3+0x11c0+-0x2f03)+(-0x5c*0x43+0x4*0xe3+0x1488)]=_0xf7b7bc?_0xf7b7bc[_0xef3d73]:-0x64+0x2d*-0x43+0x5*0x26f,_0x1e73e3[_0xef3d73*(0x230+0x154f+-0x177c)+(0x1247+-0x9*0x3e0+0x109a)]=_0x52f1d3?Math['exp'](_0x52f1d3[_0xef3d73]):0x796+-0x2*0xeae+0x1*0x15c6);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0x262f9f=this['transformM'+'otionTextu'+'re'])==null||_0x262f9f['unlock'](),(_0x14ff14=this['transformL'+'ifecycleTe'+'xture'])==null||_0x14ff14['unlock']();}async['updateSHDa'+'ta'](_0x3b6e52){var _0x4f4d55,_0xfa0fb5,_0x464983,_0x20431b,_0x38f03a,_0x1c0739,_0x576de1,_0x207ecf;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0x21c65f=(_0x4f4d55=this['sh1to3Text'+'ure2'])==null?void(0x891+-0xf30*-0x1+-0x17c1):_0x4f4d55['lock'](),_0x5eee55=(_0xfa0fb5=this['sh4to7Text'+'ure2'])==null?void(-0xdf2+-0x137d+-0x3*-0xb25):_0xfa0fb5['lock'](),_0x533fbb=(_0x464983=this['sh8to11Tex'+'ture2'])==null?void(-0x204+-0x10cf+-0x3d*-0x4f):_0x464983['lock'](),_0x1aeb05=(_0x20431b=this['sh12to15Te'+'xture2'])==null?void(-0x7f0+0x2f3+0x4fd):_0x20431b['lock'](),_0x1619a6={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x117a6d=vg(_0x3b6e52,_0x1619a6*(0x23bf*-0x1+-0x1*-0x1f7f+-0x443*-0x1)),_0x130be2=-0x2523+0x1*-0x1903+0x1*0x4625,_0x2eed5b=-0x146+-0xb5*0x5+0x467*0x2,_0x243053=new Float32Array(0x239c+0x1415+-0x37b0),_0x2a8b99=new Uint32Array(_0x243053['buffer']),_0x3028b8=new Array(_0x1619a6*(0xdeb+-0x1c11+0xe29))['fill'](-0x923*0x2+-0x12*0x20a+0x3e*0xe3);for(let _0x3ccc6f=0x3*0x8b5+0x432+-0xd*0x255;_0x3ccc6f<_0x3b6e52['numSplats'];++_0x3ccc6f){for(let _0x3c4b43=0x1e9*0x5+-0x5*0x556+-0x1121*-0x1;_0x3c4b43<_0x1619a6;++_0x3c4b43)_0x3028b8[_0x3c4b43*(0x15d8+0xa5f+-0x2034)]=_0x117a6d[_0x3c4b43][_0x3ccc6f],_0x3028b8[_0x3c4b43*(-0x801+-0x2*0xdb4+0x236c)+(0x1447+-0x12e*-0x1b+-0x1a10*0x2)]=_0x117a6d[_0x3c4b43+_0x1619a6][_0x3ccc6f],_0x3028b8[_0x3c4b43*(0x58f*0x1+0x1359+0x1*-0x18e5)+(-0xab9+-0x18d+0x6*0x20c)]=_0x117a6d[_0x3c4b43+_0x1619a6*(0x6d*0x3+-0x22d1*0x1+0x218c)][_0x3ccc6f];let _0x767039=_0x3028b8[-0x222+0x85*0x10+-0x62e];for(let _0x5a25c9=-0x22b8*0x1+0x22d*0xb+0xaca;_0x5a25c9<_0x1619a6*(0x344+0x388+-0x6c9);++_0x5a25c9)_0x767039=Math['max'](_0x767039,Math['abs'](_0x3028b8[_0x5a25c9]));if(_0x767039!==0x1bbc+-0x331+-0x67*0x3d){for(let _0x22165d=-0x2*-0x1183+-0x1dd9+0x5*-0x109;_0x22165d<_0x1619a6;++_0x22165d)_0x3028b8[_0x22165d*(-0x214b*0x1+0x4*-0x6c3+0x3c5a)+(-0x6f*-0x33+-0x2657+0x103a)]=Math['max'](-0x9e0+0x1bc8+-0x5f8*0x3,Math['min'](_0x130be2,Math['floor']((_0x3028b8[_0x22165d*(0x1*0x159e+0xa7b*0x2+-0x2a91)+(-0x50b*-0x5+-0x2*-0x205+-0x1d41)]/_0x767039*(-0x715*-0x1+-0x1f3f+0x182a+0.5)+(-0x4b6+0x2533+-0x207d+0.5))*_0x130be2+(-0x24a6+-0xc21+-0x1*-0x30c7+0.5)))),_0x3028b8[_0x22165d*(-0xa7*-0x24+0x161a+-0x2d93)+(-0x3*-0x696+0xd*0x89+-0xd5b*0x2)]=Math['max'](-0x1ed2+-0x90d*0x3+0x123*0x33,Math['min'](_0x2eed5b,Math['floor']((_0x3028b8[_0x22165d*(-0x26f4+0xa98+0x1c5f*0x1)+(-0xc23+0x23d9+-0x17b5)]/_0x767039*(-0x8*0x24d+0x4a7*-0x2+0x1bb6+0.5)+(0xf0d+0x193*-0x17+0x1528+0.5))*_0x2eed5b+(0xa00+-0x2*0x301+-0x3fe+0.5)))),_0x3028b8[_0x22165d*(-0xc2d+-0x5d*0x8+-0x54*-0x2e)+(-0x233a+-0x1171+0x34ad)]=Math['max'](0x879+-0x1*-0x1993+-0x220c,Math['min'](_0x130be2,Math['floor']((_0x3028b8[_0x22165d*(-0x2*-0xb50+0xb4c+-0x1*0x21e9)+(-0x4b*-0x3+-0x7*0x1ce+0xbc3)]/_0x767039*(-0x219b+-0x3ab+-0x2546*-0x1+0.5)+(-0x1*-0x258d+-0x1eaa+-0x6e3+0.5))*_0x130be2+(-0x1*-0xc9d+-0x158e+-0x6d*-0x15+0.5))));_0x243053[0xa44+0x11cb+-0x1c0f]=_0x767039,_0x21c65f[_0x3ccc6f*(-0x134e*-0x2+-0x12d6+-0x13c2)+(-0x16af+-0x109f+0x274e)]=_0x2a8b99[0x1e9c+-0x1709+-0x793*0x1],_0x21c65f[_0x3ccc6f*(0x334*-0x8+-0x14e3+0x2e87)+(0xfb*-0x17+0x23*0x93+0x275)]=_0x3028b8[-0xdea+0x1014+0x2*-0x115]<<-0x2*0x1385+0x5df+-0x98*-0x38|_0x3028b8[-0x1a7a+0x18a*0x17+-0x2f9*0x3]<<-0x3*0x892+0x13d7+0x5ea|_0x3028b8[0x23e1+-0x2*0x3e4+-0x31f*0x9],_0x21c65f[_0x3ccc6f*(-0x23*-0xff+0x1ed6+-0x41af)+(0x2050+0x1519*-0x1+-0x1*0xb35)]=_0x3028b8[-0x10df*0x1+-0x176*0xf+0x26cc]<<0x1*-0x13e2+0x2613*0x1+0x4*-0x487|_0x3028b8[-0x1c4b*0x1+-0x5f4+0x2243*0x1]<<-0x1*-0x2b+-0x715+-0x1*-0x6f5|_0x3028b8[-0x11*0x8d+0x2*-0x78b+0x2b8*0x9],_0x21c65f[_0x3ccc6f*(0x159e+0x1f5f+-0x34f9)+(0x2311+-0x1cf*-0x2+0x9*-0x44c)]=_0x3028b8[-0x513*0x5+-0x1343+0x2ca8]<<0x24db+0x5e7*-0x1+-0x1edf|_0x3028b8[-0x81*-0x7+0x2*0x1e2+-0xa*0xba]<<-0x12c4+0x12f3+0x12*-0x2|_0x3028b8[-0x1b99+-0x1689+0x322a],this['shBands']>-0xb*0xb2+-0x1*0x795+0xf3c&&(_0x5eee55[_0x3ccc6f*(-0x6b6*-0x1+0x249a+0x22*-0x146)+(0x1*0x10ff+0x54*-0x51+0x1*0x995)]=_0x3028b8[-0x2066*0x1+-0x100a+0x3079*0x1]<<0x46*-0x6+0x12da+-0x1121|_0x3028b8[-0x116e*-0x1+-0x1f5c+0xdf8*0x1]<<0xc8f+0x185*-0x2+-0x97a*0x1|_0x3028b8[0x29*-0xdc+-0x2031+0x4378],_0x5eee55[_0x3ccc6f*(-0x40+0x37*-0xb5+0x2727)+(0x2622+-0x107*0x21+-0x43a)]=_0x3028b8[-0xb12*0x3+-0x17af+-0x12fb*-0x3]<<-0x2559+0x12e3+-0x128b*-0x1|_0x3028b8[-0x2*-0x1099+-0x1*-0xd6+0x21fb*-0x1]<<-0x9*0x1a7+0x339+-0xbb1*-0x1|_0x3028b8[-0x26c4+0x286*-0x9+-0x8*-0x7b1],_0x5eee55[_0x3ccc6f*(-0x1*0x3f7+0x3*-0x7e1+0x7*0x3f2)+(-0x1fad+0x58*0x3a+0xbbf)]=_0x3028b8[0x11cb+-0xaf9*-0x3+-0x32a7]<<0x1032+0x8*0x31a+-0x1*0x28ed|_0x3028b8[0x2*0x8ef+-0x51*-0x35+-0x2293]<<0x10fb+0x33*0x27+-0x18b5|_0x3028b8[0x9ff+0x352*0x7+-0x212c],_0x5eee55[_0x3ccc6f*(-0xb9a+0x9a3+0x1fb)+(0x106*-0x1c+-0xa5b*-0x3+0x1*-0x266)]=_0x3028b8[-0x16b7+0x2*-0x638+-0x7f*-0x47]<<-0x20ba+0x1*0xd45+-0x29*-0x7a|_0x3028b8[-0x2*0xeab+-0x75b+0x4*0x931]<<0x1cb*0x5+0x95*-0x4+-0x698|_0x3028b8[0x4*0x83b+-0x4f*-0x17+0x1*-0x27f1],this['shBands']>-0x1af9*-0x1+-0x1*-0x1be9+0x20*-0x1b7?(_0x533fbb[_0x3ccc6f*(0x5*-0x722+-0x19e7*-0x1+-0x9c7*-0x1)+(0x2597*0x1+-0x1*0xdcf+-0x17c8)]=_0x3028b8[0xf9f+-0x692*0x2+0x2*-0x133]<<-0x43*0x1d+0xea2+0x129*-0x6|_0x3028b8[-0xa7b*-0x2+-0x13fb+0xe5*-0x1]<<-0xb5*-0x2+-0x2034+0x1ed5|_0x3028b8[0x47e*-0x2+-0x23ed+0x2d00],_0x533fbb[_0x3ccc6f*(0x1051+-0x1*0x18ee+-0x8a1*-0x1)+(-0x203c+0xdb*-0x16+0x1105*0x3)]=_0x3028b8[0xd6a+-0x252e+0x17dc]<<-0x30*0x30+-0x12af+0x1bc4|_0x3028b8[-0x908+0x2508+-0x1be7]<<0x2*-0xbd4+-0x1*-0x1ed9+-0x726|_0x3028b8[-0x1a87+-0x3*0x245+-0x50*-0x6b],_0x533fbb[_0x3ccc6f*(-0x1f90+0x79*-0x43+-0x303*-0x15)+(0xcdc+-0x1a*-0x9+-0xdc4)]=_0x3028b8[-0x14f*0x9+-0x2256+0x2e38]<<0xd12+0xbf5*0x1+-0x18f2|_0x3028b8[0xe07+0x145c+-0x1b*0x145]<<-0x15cf+-0x166+-0x30*-0x7c|_0x3028b8[0x6*0x553+0xeb7+0x1*-0x2e8c],_0x533fbb[_0x3ccc6f*(0x2465+-0x1*0xbab+-0x2*0xc5b)+(-0xe9a+-0x393*0xa+0x10c9*0x3)]=_0x3028b8[0x342+0x22d1+-0x1*0x25f5]<<-0x3b2+0x1ea7+0x560*-0x5|_0x3028b8[0x13*-0x175+0x1*0x1f71+-0x3a3]<<0xb3c*0x3+-0x1e5b+-0x34e|_0x3028b8[0x8f9*0x1+-0x13c1+0xae8],_0x1aeb05[_0x3ccc6f*(0x3f*0x4+0xe3a+0x5*-0x30a)+(-0x1*0xe9d+0x52a*0x1+0x973)]=_0x3028b8[-0x1*-0x697+-0x235b+0x1ce5]<<-0x254c+-0x1c*-0x97+0x14dd|_0x3028b8[0xa2+-0x3a2+0x322]<<-0x2540+-0x12bc+0x1*0x3807|_0x3028b8[0x158a+-0x135e*0x2+-0x3*-0x5c7],_0x1aeb05[_0x3ccc6f*(-0x16d7+0x1*0xcd1+0x2*0x505)+(0x8f*-0x36+-0x6f*-0x1a+0x12e5)]=_0x3028b8[0x41*-0x47+-0x1*-0xc9d+-0x6*-0xed]<<-0x1bdf+0x1*-0x147d+-0x1*-0x3071|_0x3028b8[-0xa5e+-0xbd4+0x1657]<<-0x3*-0x871+-0xfa9+-0x99f|_0x3028b8[0x137e+0x1a3e+0xf32*-0x3],_0x1aeb05[_0x3ccc6f*(0x99e+0x123*-0x10+-0x9d*-0xe)+(0x5b3*0x1+-0xc93+0x6e2)]=_0x3028b8[0x6c8*-0x2+-0x3fe*-0x5+0x27*-0x29]<<0x12*-0x44+-0x1d27+0x2204|_0x3028b8[-0x1ac1+-0x202*0xc+0x3301]<<-0x441+-0x25d4+0x2a20|_0x3028b8[0x3*-0x27a+0x4d6+0xf*0x2f],_0x1aeb05[_0x3ccc6f*(0x55d*0x1+0x148c+-0x19e5)+(0x2317+0x862+0x2b76*-0x1)]=_0x3028b8[0x1*-0x10f7+-0x177d+0x1*0x289e]<<-0x89*0x35+0x1d8d+-0x11b|_0x3028b8[-0x6*-0x101+-0xb7*0x1c+0xe29]<<-0xbdf*-0x3+-0x103*-0x7+-0x2aa7|_0x3028b8[0x2e9*0x9+0x2b*0x37+-0x2*0x11a1]):_0x533fbb[_0x3ccc6f]=_0x3028b8[0x1831+0x5d*0x1a+-0x218e]<<0x1*-0x22df+0x2f1*-0x5+0x1*0x31a9|_0x3028b8[-0x4f*-0x71+0x165f+0x76*-0x7c]<<-0xc6+0x1*-0x1769+0x183a*0x1|_0x3028b8[0x686+0x1051*0x1+0x10*-0x16c]);}}(_0x38f03a=this['sh1to3Text'+'ure2'])==null||_0x38f03a['unlock'](),(_0x1c0739=this['sh4to7Text'+'ure2'])==null||_0x1c0739['unlock'](),(_0x576de1=this['sh8to11Tex'+'ture2'])==null||_0x576de1['unlock'](),(_0x207ecf=this['sh12to15Te'+'xture2'])==null||_0x207ecf['unlock']();}async['updateSHDa'+'taByWorker'](_0x2fb005){var _0x198fb4,_0x4d41c4,_0x5d4461,_0x109e17,_0x3b5c89;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x45747f={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0xd0bc89,_0x5cbcb8,_0x2ffdda,_0x4f237a;if((_0x198fb4=_0x2fb005['transformD'+'ata'])!=null&&_0x198fb4['sh1to3Data'])_0xd0bc89=(_0x4d41c4=_0x2fb005['transformD'+'ata'])==null?void(-0x10f8+-0x26ad*-0x1+-0x15b5):_0x4d41c4['sh1to3Data'],_0x5cbcb8=(_0x5d4461=_0x2fb005['transformD'+'ata'])==null?void(-0x1018+-0x169*-0xb+0x95):_0x5d4461['sh4to7Data'],_0x2ffdda=(_0x109e17=_0x2fb005['transformD'+'ata'])==null?void(-0x1da5+0x26d1+-0x92c*0x1):_0x109e17['sh8to11Dat'+'a'],_0x4f237a=(_0x3b5c89=_0x2fb005['transformD'+'ata'])==null?void(-0x1*0x22c1+0x1fd5*-0x1+-0x9*-0x766):_0x3b5c89['sh12to15Da'+'ta'];else{const _0x295df6=vg(_0x2fb005,_0x45747f*(0x1a5f*-0x1+0x266a+0x118*-0xb)),_0x45c559=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0x2fb005['numSplats'],this['shBands'],_0x295df6);_0xd0bc89=_0x45c559['sh1to3Data'],_0x5cbcb8=_0x45c559['sh4to7Data'],_0x2ffdda=_0x45c559['sh8to11Dat'+'a'],_0x4f237a=_0x45c559['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0xd0bc89),this['shBands']>-0x1e6c+0x1999+0x4d4&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0x5cbcb8),this['shBands']>0xee8+-0x2a1+0x9*-0x15d?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x2ffdda),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0x4f237a)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x2ffdda));}}async function bC(){const _0x3c3a61=new Float32Array(0x22ee+0xa96+-0xbf*0x3d);new Int32Array(_0x3c3a61['buffer']);let _0x5e4d94=null,_0x22c919=null,_0x40c6b8=null,_0x20fa5e=null,_0x66ee42=null,_0x232600=null,_0x76367e=null,_0x5ecde3=null;self['onmessage']=async _0xb865f1=>{const {data:_0x18068a}=_0xb865f1;switch(_0x18068a['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0x16da6f(_0x18068a['numSplats'],_0x18068a['shBands'],_0x18068a['SHData']);break;case'updateTran'+'sformData':_0x43be64(_0x18068a['numSplats'],_0x18068a['is4D'],_0x18068a['position'],_0x18068a['rotation'],_0x18068a['motion'],_0x18068a['scale'],_0x18068a['muT'],_0x18068a['tScale']);break;case'destroyWor'+'ker':_0x21bc60();break;}};const _0x43be64=(_0x24b9d2,_0x2fe121,_0x342d8e,_0x5918eb,_0x106762,_0x515808,_0x217bbe,_0x55e45a)=>{_0x21bc60(),_0x2fe121&&(_0x22c919=new Float32Array(_0x24b9d2*(-0x2*-0xb1d+-0x2*0x628+0x9e7*-0x1)),_0x5ecde3=new Float32Array(_0x24b9d2),_0x66ee42=new Float32Array(_0x106762['buffer']['slice']()),_0x76367e=new Float32Array(_0x106762['buffer']['slice']())),_0x20fa5e=new Float32Array(_0x342d8e['buffer']['slice']()),_0x5e4d94=new Float32Array(_0x342d8e['buffer']['slice']()),_0x232600=new Uint16Array(_0x515808['buffer']['slice']()),_0x40c6b8=new Float32Array(_0x5918eb['buffer']['slice']());for(let _0x30aeab=-0xf1f+0xb9b+0x19*0x24;_0x30aeab<_0x24b9d2;_0x30aeab++)_0x2fe121&&_0x22c919&&(_0x5ecde3[_0x30aeab]=_0x55e45a?Math['exp'](_0x55e45a[_0x30aeab]):0x555*-0x5+-0x178c+0x3235,_0x22c919[_0x30aeab*(-0x1706+-0x18a7+-0x70*-0x6d)+(0x4d5*-0x2+0x1afd+-0x1153)]=_0x217bbe?_0x217bbe[_0x30aeab]:-0x1a9a+0x320+-0x1*-0x177a,_0x22c919[_0x30aeab*(0x498+-0x1f0f+0xd3d*0x2)+(0x14f8+-0x1cc6+0x7cf)]=_0x5ecde3[_0x30aeab]);const _0x23db30=[_0x5e4d94['buffer'],_0x20fa5e['buffer'],_0x232600['buffer'],_0x40c6b8['buffer']];_0x2fe121&&_0x23db30['push'](_0x66ee42['buffer'],_0x22c919['buffer'],_0x76367e['buffer'],_0x5ecde3['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0x5e4d94,'dataPosition':_0x20fa5e,'dataScale':_0x232600,'dataRotation':_0x40c6b8,'dataMotion':_0x66ee42,'dataTime':_0x22c919,'motion':_0x76367e,'tScaleArray':_0x5ecde3},_0x23db30);},_0x16da6f=(_0x3f7668,_0x16068c,_0x292018)=>{const _0x1aca05=new Uint32Array(_0x3f7668*(0xd9e+-0x19a3*-0x1+-0x5*0x7d9)),_0x3db247=new Uint32Array(_0x3f7668*(-0xcfe+0x150e+-0x80c)),_0x13c856=new Uint32Array(_0x3f7668*(0xf1*0x9+-0x214b+0x18d6)),_0x2f3c58=new Uint32Array(_0x3f7668*(0xf96+-0x9d*0xe+-0x6fc)),_0x41e8cf={0x1:0x3,0x2:0x8,0x3:0xf}[_0x16068c],_0x1bfcd9=_0x292018,_0x495d1b=0x466+0x3d*-0x7f+0x21dc,_0x1a4593=-0x6ab+0x1f*-0xad+-0x1f9d*-0x1,_0x1d0b8c=new Float32Array(-0x87b+-0x13c4+0x1c40),_0x2a2001=new Uint32Array(_0x1d0b8c['buffer']),_0x12c308=new Array(_0x41e8cf*(0x7ad*-0x1+-0x2f*-0x41+-0x43f*0x1))['fill'](-0xbb7+-0x21be+0x2d75);for(let _0x1d9ce0=-0xce6+-0x16ce+0x2*0x11da;_0x1d9ce0<_0x3f7668;++_0x1d9ce0){for(let _0x1b92e6=0x1*-0x503+-0x2b4+0x7b7;_0x1b92e6<_0x41e8cf;++_0x1b92e6)_0x12c308[_0x1b92e6*(-0x22*0x1d+0x5a2+0x3*-0x97)]=_0x1bfcd9[_0x1b92e6][_0x1d9ce0],_0x12c308[_0x1b92e6*(0x137*0x11+-0x7f*0xe+-0xdb2)+(-0x958+-0x629*0x1+0xf82)]=_0x1bfcd9[_0x1b92e6+_0x41e8cf][_0x1d9ce0],_0x12c308[_0x1b92e6*(0x2557+0x6*0xf6+-0xac6*0x4)+(0xd*0x1fd+-0xc46*-0x1+-0x261d)]=_0x1bfcd9[_0x1b92e6+_0x41e8cf*(-0x180d+-0x1683+0x2e92)][_0x1d9ce0];let _0xa91553=_0x12c308[0x2659+0x81*0x37+-0x4210];for(let _0x359fca=0x25de+-0x1fb0+0x62d*-0x1;_0x359fca<_0x41e8cf*(0xf33+0x31d*-0x1+-0xb*0x119);++_0x359fca)_0xa91553=Math['max'](_0xa91553,Math['abs'](_0x12c308[_0x359fca]));if(_0xa91553!==-0x4a*0x46+-0x2613+0x3a4f*0x1){for(let _0x2ed09c=-0x17a2+-0x13d+0x18df;_0x2ed09c<_0x41e8cf;++_0x2ed09c)_0x12c308[_0x2ed09c*(-0xcd9+-0x17a*-0x9+-0x6e)+(0x350*0x3+-0x28*-0x33+0x1*-0x11e8)]=Math['max'](-0x207f+0x19*-0x16f+0x4456*0x1,Math['min'](_0x495d1b,Math['floor']((_0x12c308[_0x2ed09c*(0x1*0x981+0x22e7*0x1+-0x5*0x8e1)+(-0x1*0x815+0x131*-0x3+-0x2*-0x5d4)]/_0xa91553*(-0x51*0x55+-0x2*-0x7d1+0xb43+0.5)+(0x26f8+-0xfc0+-0x2e7*0x8+0.5))*_0x495d1b+(-0x54d+-0x222c+-0x2b*-0xeb+0.5)))),_0x12c308[_0x2ed09c*(-0x1d84+0x1*-0x2ab+0x2032)+(-0x2149+-0xea6+-0xec*-0x34)]=Math['max'](-0x1138+-0x5e1+0x1719,Math['min'](_0x1a4593,Math['floor']((_0x12c308[_0x2ed09c*(0x121d+-0x1*0xbcf+-0x64b)+(0x21e2+0x3*-0x11b+0x1e9*-0x10)]/_0xa91553*(0x1*0xc11+0x1*-0x3c+0xd*-0xe9+0.5)+(-0x6cc+-0x1*0x216f+-0x1*-0x283b+0.5))*_0x1a4593+(0x460+0x1*0x156b+0x47*-0x5d+0.5)))),_0x12c308[_0x2ed09c*(-0x4*-0x6b6+-0x1e51+0x2*0x1be)+(0x1363+0x47c+-0x17dd)]=Math['max'](0x970*0x4+0x934+0x2ef4*-0x1,Math['min'](_0x495d1b,Math['floor']((_0x12c308[_0x2ed09c*(-0x2600+-0x89*-0x17+0x19b4)+(-0x19a3+0x1*-0x212b+0x8*0x75a)]/_0xa91553*(0x1775+-0xf09+-0x86c+0.5)+(-0x1*0x2485+0x107c+-0x1*-0x1409+0.5))*_0x495d1b+(0x4fe*-0x1+-0x1d22+-0x2*-0x1110+0.5))));_0x1d0b8c[-0x1a8c+0x3*-0x75+0x1beb]=_0xa91553,_0x1aca05[_0x1d9ce0*(0x1*0xce7+0x2194+-0x2e77)+(0x138b*0x1+0x991+-0x1d1c)]=_0x2a2001[-0x8d1+0x17+-0x2*-0x45d],_0x1aca05[_0x1d9ce0*(-0x827+-0x15*0x165+0x11*0x234)+(-0x1*0xb66+-0x1*-0x1d84+-0x121d)]=_0x12c308[-0x29f*0x2+0x9*-0x2c5+0x1e2b*0x1]<<0x1401+0x236+-0x1622|_0x12c308[0xfef+0x9*0x32b+-0x16f*0x1f]<<0x1a64+0x1a77+-0x34d0|_0x12c308[0x353*-0x3+0x229e*0x1+0x18a3*-0x1],_0x1aca05[_0x1d9ce0*(-0x2b*-0x14+-0x1a50*0x1+0x14*0x126)+(-0x4*-0x92c+0x70*0xe+-0x2ace)]=_0x12c308[0x7*0x47d+-0x2370+0x18*0x2b]<<0x823+0x1*0x5bf+-0xdcd|_0x12c308[-0x8*0x21a+-0x1*-0x11f1+-0x1*0x11d]<<-0xfcc+-0x115c+0x2133|_0x12c308[0x10ed+0xa12*0x1+-0x1afa],_0x1aca05[_0x1d9ce0*(-0x71*0x43+0x193c+0x45b)+(-0x146d+-0x1*-0x17ab+-0x33b*0x1)]=_0x12c308[-0x1cc+0xc48+-0x67*0x1a]<<-0x1fc6*0x1+0x17d8+0x803|_0x12c308[0x558+-0x217f+0x1c2e]<<0x1dd+-0xe59+0x1*0xc87|_0x12c308[0xca*-0xd+-0x23ce+0x24e*0x14],_0x16068c>-0x3*0x1d7+0x1f7a+-0x67d*0x4&&(_0x3db247[_0x1d9ce0*(0x8cb+-0x258e+0x1cc7)+(0x745*0x1+-0x667+-0x25*0x6)]=_0x12c308[-0x35*-0x3e+-0x2e*0x2+-0xc71]<<-0xd2b*-0x2+-0x1ffb+0x5ba|_0x12c308[-0x2f*-0x43+0x12eb*0x1+-0x1f2e]<<0x120e*0x1+0xb*0x115+-0x1dea|_0x12c308[-0x1d93+0x9d*-0x36+0xfaf*0x4],_0x3db247[_0x1d9ce0*(0xc32+-0x1f3d*-0x1+-0x2b6b)+(0xaee+-0x86a+0x283*-0x1)]=_0x12c308[0x530+0xf5*0x5+-0x9ed]<<0x1*0x119b+0x13*0x3e+0x8*-0x2c4|_0x12c308[-0x7b2*-0x2+-0x13a8+-0xd*-0x55]<<-0x1eac+-0x12a6+0x315d|_0x12c308[0x265c+0x4b4*0x7+0x17be*-0x3],_0x3db247[_0x1d9ce0*(-0x1a3*0xf+0x2d7*-0x7+0x1639*0x2)+(-0xd*0x17b+-0x29c+0x15dd)]=_0x12c308[-0x1*0xe73+-0xda3+0x1c25]<<0x1d*-0x10f+-0xbcf*-0x2+0x83*0xe|_0x12c308[0x19b8+0x2204+-0x3bac]<<0x1b65+-0x1ab+-0x19af*0x1|_0x12c308[0x12*-0xfd+-0x146*-0xc+-0x293*-0x1],_0x3db247[_0x1d9ce0*(-0x1*-0x1d75+0x1d02+0x47f*-0xd)+(-0xb43+0x1854+0xd0e*-0x1)]=_0x12c308[0x476+-0x1*-0x4ca+-0x92e]<<0x227a+-0x1*0x118d+-0x10d8|_0x12c308[-0x1b0b+0xa99*-0x1+-0x1*-0x25b7]<<-0xfa7*0x1+-0x18bd+-0x286f*-0x1|_0x12c308[-0x2cf*-0xb+0x7*0x113+0x2*-0x132b],_0x16068c>-0x8*0x28a+0x1f69+-0xb17?(_0x13c856[_0x1d9ce0*(-0x6ef*0x3+0x4*0x45e+0x1*0x359)+(-0x1705+0x134f*-0x1+0x12d*0x24)]=_0x12c308[-0x21af+0x47*-0x1d+0x5f9*0x7]<<-0xdf*0x11+-0x218a+0x306e|_0x12c308[-0xd55+0x55b+0x810]<<-0x7b2+-0x9*0x13d+0x12e2*0x1|_0x12c308[-0x188a+0x1*-0x7c3+0x2064],_0x13c856[_0x1d9ce0*(0xd3*0x26+0x63+-0x1fb1)+(-0x18a+-0x62e+0x7b9)]=_0x12c308[0x1780*-0x1+-0x3*0x2ff+-0x1b7*-0x13]<<0x1*-0x17ff+0x2640+-0x1*0xe2c|_0x12c308[0x1*0xa81+0x240b+-0x2f*0xfd]<<0x1*0xd56+0x9ed*0x1+0x1*-0x1738|_0x12c308[0x17d5+0x8*0x30b+-0x1f*0x18d],_0x13c856[_0x1d9ce0*(0x8e3+0x4d*-0x47+0xc7c)+(-0x4d7+-0x1f09+0x23e2)]=_0x12c308[0x11*0x21d+0x54*-0x29+-0x199*0xe]<<0x1*-0x769+-0x5b*0x42+0x1ef4|_0x12c308[0x254e+-0x51b*-0x1+-0x2a4d]<<0x1*0xc23+0x1ea3+-0x1*0x2abb|_0x12c308[0x4dc+0x360+-0x63*0x15],_0x13c856[_0x1d9ce0*(-0x2*0x11ea+0x1bf*0xf+-0x7*-0x161)+(0x7*-0x39f+-0x3*-0x8aa+0x2*-0x51)]=_0x12c308[-0x12ab*-0x1+-0xc2*0x17+0x29*-0x7]<<0x11*0xf6+-0x1*0x2+-0x103f|_0x12c308[0x9ee+0x160c+-0x1fdb]<<0x1*-0x1e2a+-0x6fd*-0x5+0xca*-0x6|_0x12c308[0x708+0x22a5+0x298d*-0x1],_0x2f3c58[_0x1d9ce0*(0x44f*-0x1+0x7b0+-0x35d)+(-0x129b+-0x5*-0x54a+-0x7d7)]=_0x12c308[-0x12b1+-0x6e4+0x6*0x449]<<0x10ff+-0x542*-0x3+-0x20b0|_0x12c308[0x689*0x1+0x141c+0x269*-0xb]<<-0x1809+0x569*-0x4+0x2db8|_0x12c308[-0x1c7e+-0x11d+0x1dbe],_0x2f3c58[_0x1d9ce0*(0x15dc+0x1*0x174d+-0x2d25)+(0xb05+0x1*-0x10c1+-0x1*-0x5bd)]=_0x12c308[0x1*0xcd2+0x2*-0x9d1+0x6f4]<<-0x926+-0x60d*0x3+-0x5*-0x57a|_0x12c308[0xf9*-0x13+0xb*0x212+0x76*-0x9]<<-0x5d3*0x1+0x9f3*-0x3+0x23b7|_0x12c308[0x25fa*-0x1+-0x145f+-0xbb3*-0x5],_0x2f3c58[_0x1d9ce0*(0x230*0x1+0x76*0x11+0x356*-0x3)+(-0xa1*0x17+0x4*-0x1ec+0x1629)]=_0x12c308[-0xfd3+0x1122+-0x128]<<0x1b68+0x238b+-0x3ede|_0x12c308[0x1c*-0xdd+-0xc07+0x245b]<<0x3cf+-0x1*-0xcb5+0x1*-0x1079|_0x12c308[0x2b*-0xe3+0x1ef2+0x758],_0x2f3c58[_0x1d9ce0*(0xe4*-0xb+-0x3*0x43b+0x1681*0x1)+(0x616*-0x5+0x19d*-0x1+0x200e)]=_0x12c308[0x8dd+-0xc1a+0x367]<<-0x21f2+-0x3ea+0x25f1|_0x12c308[-0x2285*0x1+0x6a3*-0x1+0x95*0x47]<<-0x257d+0x32*-0x70+0x76d*0x8|_0x12c308[-0x1c8d+0x180f+-0x255*-0x2]):_0x13c856[_0x1d9ce0]=_0x12c308[0x22d7*0x1+-0x15*0x1b2+0xd8]<<-0x1631+-0x464+-0x1*-0x1aaa|_0x12c308[0x1*-0x656+-0x1*-0x6d3+-0x1*0x67]<<0x19*-0x95+0x1*0x195b+-0xac3|_0x12c308[-0x3*0xbcf+-0x15*0x85+0x2e6d]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x1aca05,'sh4to7Data':_0x3db247,'sh8to11Data':_0x13c856,'sh12to15Data':_0x2f3c58}},[_0x1aca05['buffer'],_0x3db247['buffer'],_0x13c856['buffer'],_0x2f3c58['buffer']]);},_0x21bc60=()=>{_0x5e4d94=null,_0x22c919=null,_0x40c6b8=null,_0x20fa5e=null,_0x66ee42=null,_0x232600=null,_0x76367e=null,_0x5ecde3=null;};}class AC extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+bC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x1fe619,_0x3d6a12,_0x1f32ee){_0x1fe619['onmessage']=_0x13a05a=>{if(!this['worker'])return;const {data:_0x146c6f}=_0x13a05a;if(_0x146c6f['type']===_0x3d6a12)switch(_0x3d6a12){case'updatedSHD'+'ata1':_0x1f32ee(_0x146c6f['data']);break;case'updatedCol'+'orData':_0x1f32ee(_0x146c6f['data']);break;case'updatedTra'+'nsformData':_0x1f32ee(_0x146c6f);break;}};}['updateSHDa'+'ta1'](_0x52a9f6,_0x3d5895,_0x296779){var _0x1bec91;return(_0x1bec91=this['worker'])==null||_0x1bec91['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0x52a9f6,'shBands':_0x3d5895,'SHData':_0x296779}),new Promise(_0x9eddeb=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x6b562e=>{_0x9eddeb(_0x6b562e);});});}async['updateTran'+'sData'](_0xae7d4d,_0x5efb36,_0x3ccfe3,_0x44b5a7,_0x4d574d,_0x17d29d,_0x3e2ada,_0x4846f7){var _0xb27fc;return(_0xb27fc=this['worker'])==null||_0xb27fc['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0xae7d4d,'is4D':_0x5efb36,'position':_0x3ccfe3,'rotation':_0x44b5a7,'motion':_0x4d574d,'scale':_0x17d29d,'muT':_0x3e2ada,'tScale':_0x4846f7}),new Promise(_0x2d6b52=>{const _0x303872=_0x472d14=>{_0x2d6b52(_0x472d14);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x303872);});}['destroy'](){var _0x29cfbe;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x29cfbe=this['worker'])==null||_0x29cfbe['terminate'](),this['worker']=null);}}const xg=(_0x435537,_0x28f8a0)=>{const _0x4a488b=[];for(let _0x49c460=0x8cb*0x3+0x1825+-0x3286;_0x49c460<_0x28f8a0;++_0x49c460)_0x4a488b['push'](_0x435537['getProp']('f_rest_'+_0x49c460));return _0x4a488b;};class CC extends Rv{constructor(_0x5b8926,_0x5c2b1e){super(_0x5b8926,_0x5c2b1e),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(0xffb*0x2+0x1*-0x1b+-0x1fda)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new AC(),this['assetsMana'+'gerLoadedT'+'ime']=0xd68+0x9*0x90+0x1273*-0x1);}['setSceneIn'+'fo'](_0x1a43b7){this['sceneInfo']['duration']=_0x1a43b7['duration'],this['sceneInfo']['fps']=_0x1a43b7['fps'],this['sceneInfo']['totalGauss'+'ians']=_0x1a43b7['totalGauss'+'ians'],this['sceneInfo']['globalBoun'+'dingBoxMin']=new D(_0x1a43b7['globalBoun'+'dingBox']['min'][0x1*-0x32b+-0x45e*0x2+0xbe7],_0x1a43b7['globalBoun'+'dingBox']['min'][-0x2ac*-0xb+-0x5*-0x44f+-0x32ee],_0x1a43b7['globalBoun'+'dingBox']['min'][0x19ea+0x18*-0x192+0xbc8]),this['sceneInfo']['globalBoun'+'dingBoxMax']=new D(_0x1a43b7['globalBoun'+'dingBox']['max'][0x274*-0xe+0x98a+0x18ce],_0x1a43b7['globalBoun'+'dingBox']['max'][0x22e*0x8+-0x536*-0x2+-0x1*0x1bdb],_0x1a43b7['globalBoun'+'dingBox']['max'][0x15f4+0x1*0xc5f+0x5*-0x6dd]);const _0x3494b7=_0x1a43b7['globalBoun'+'dingBox']['min'][-0x11de+-0x1a51*-0x1+-0x135*0x7],_0x18b2dc=_0x1a43b7['globalBoun'+'dingBox']['min'][0x581*0x7+-0x1b6e+-0xb18],_0x86b3af=_0x1a43b7['globalBoun'+'dingBox']['min'][0x514+0x526*-0x7+0x1ef8],_0x135763=_0x1a43b7['globalBoun'+'dingBox']['max'][0xc06+0x1*0xcaa+0x316*-0x8],_0x1dded3=_0x1a43b7['globalBoun'+'dingBox']['max'][-0xb08+-0x2fe*-0x8+-0xce7],_0x120eb6=_0x1a43b7['globalBoun'+'dingBox']['max'][-0x1d*0x9d+-0x16*-0x121+-0x3*0x259],_0x316868=new D((_0x3494b7+_0x135763)*(-0x2021+-0xc3a+-0x2f5*-0xf+0.5),(_0x18b2dc+_0x1dded3)*(0x1b19+0x12ef+-0x2e08+0.5),(_0x86b3af+_0x120eb6)*(0x1c45+-0x7e6+-0x7*0x2e9+0.5)),_0x3248b6=new D((_0x135763-_0x3494b7)*(0x1*0x1eaf+0x1*0x7a9+-0x2658+0.5),(_0x1dded3-_0x18b2dc)*(0xb*0x34b+0x105b+0x542*-0xa+0.5),(_0x120eb6-_0x86b3af)*(-0x1dcd+-0x24a1+-0x2*-0x2137+0.5)),_0x18726d=new De(_0x316868,_0x3248b6);this['sceneInfo']['globalBoun'+'dingBox']=_0x18726d,this['aabb']=_0x18726d;}async['updateData'](){var _0x1fc9cc,_0x3f80e8,_0x134d74,_0x57cdab,_0xc05b78,_0x523507,_0x5ea20b,_0x4c6ccb,_0x2e172e,_0x34d55a,_0x2f9836;await super['updateData']();const _0x448b3e=this['gsplatData'];if(!_0x448b3e)return;this['is4D']=_0x448b3e['is4D'];const _0x337d3a=await this['getTransfo'+'rmDataByWo'+'rker'](_0x448b3e);this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0x337d3a['centers'],this['motion']=_0x337d3a['motion'],this['tScale']=_0x337d3a['tScaleArra'+'y'],this['muT']=await _0x448b3e['getMuT'](),this['timeIndex']=await _0x448b3e['getTimeInd'+'ex']();const _0x392d0b=this['evalTextur'+'eSize'](_0x448b3e['numSplats']);this['colorTextu'+'re']?((_0x1fc9cc=this['colorTextu'+'re2'])==null||_0x1fc9cc['destroy'](),(_0x3f80e8=this['transformA'+'Texture2'])==null||_0x3f80e8['destroy'](),(_0x134d74=this['transformB'+'Texture2'])==null||_0x134d74['destroy'](),(_0x57cdab=this['transformR'+'Texture2'])==null||_0x57cdab['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x392d0b),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x392d0b),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x392d0b),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x392d0b),this['is4D']&&((_0xc05b78=this['transformM'+'otionTextu'+'re2'])==null||_0xc05b78['destroy'](),(_0x523507=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x523507['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x392d0b),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x392d0b))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0x392d0b),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x392d0b),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0x392d0b),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x392d0b),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0x392d0b),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x392d0b),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x392d0b),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x392d0b),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0x392d0b),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x392d0b),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0x392d0b),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x392d0b))),await this['updateColo'+'rData'](_0x448b3e),await this['updateTran'+'sformFromD'+'ata'](_0x337d3a),this['shBands']=_0x448b3e['shBands'],this['shBands']>0x10f3*-0x1+0x9*-0x337+0x2de2&&(this['sh1to3Text'+'ure']?((_0x5ea20b=this['sh1to3Text'+'ure2'])==null||_0x5ea20b['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x392d0b),this['shBands']>-0x25fd+-0x21dd*-0x1+0x421&&((_0x4c6ccb=this['sh4to7Text'+'ure2'])==null||_0x4c6ccb['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x392d0b),this['shBands']>0x1*-0x72a+-0x12*0xfb+0x12*0x161?((_0x2e172e=this['sh8to11Tex'+'ture2'])==null||_0x2e172e['destroy'](),(_0x34d55a=this['sh12to15Te'+'xture2'])==null||_0x34d55a['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x392d0b),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x392d0b)):((_0x2f9836=this['sh8to11Tex'+'ture2'])==null||_0x2f9836['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x392d0b)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x392d0b),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0x392d0b),this['shBands']>0x1*-0x18f5+0x606*0x2+0xcea&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0x392d0b),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x392d0b),this['shBands']>-0x44c*0x4+-0x1a0*0xb+0x2312?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0x392d0b),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x392d0b),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0x392d0b),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x392d0b)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0x392d0b),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0x392d0b)))),await this['updateSHDa'+'taByWorker'](_0x448b3e));}['updateText'+'ure'](){this['isDestroye'+'d']||(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x429c9d){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x429c9d}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x1a5cf8,_0x5c1a3f,_0x3d2ae3,_0x57a5c1,_0x246efc,_0x32bc57){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x1a5cf8,'timeOption':_0x5c1a3f,'loadedTime':_0x3d2ae3,'asset':_0x57a5c1,'events':_0x246efc,'seekCB':_0x32bc57}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(-0x173*-0xe+0x75b*0x5+-0x3911);try{for(;this['appendQueu'+'e']['length']>0x6c6+0x761*-0x2+0x7fc;){const _0x4fbe9e=this['appendQueu'+'e']['shift']();_0x4fbe9e['type']==='append'?await this['processApp'+'endTask'](_0x4fbe9e['data']):_0x4fbe9e['type']==='release'&&await this['processRel'+'easeTask'](_0x4fbe9e['data']);}}finally{this['isProcessi'+'ngQueue']=!(0x125*0x8+0xb*0x36b+0x1*-0x2ec0);}}}async['processRel'+'easeTask'](_0x5487d5){const {index:_0x168c83}=_0x5487d5;this['isDestroye'+'d']||await this['gsplatData']['releaseSeq'+'Data'](_0x168c83);}async['processApp'+'endTask'](_0x55cccc){var _0x397a17;const {gsplatData:_0x2b05d2,timeOption:_0x4f7578,loadedTime:_0x25b542,asset:_0x387bd8,events:_0x4b887d,seekCB:_0x387814}=_0x55cccc;!this['gsplatData']||this['isDestroye'+'d']||(globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0x4f7578,this['asset']=_0x387bd8,this['assetsMana'+'gerLoadedT'+'ime']=_0x25b542,this['events']=_0x4b887d,await this['gsplatData']['appendGSpl'+'atData'](_0x2b05d2,_0x25b542,_0x4f7578),console['log']('loadTime__'+'__','gsplatDeco'+'dedResourc'+'e\x20gsplatDa'+'ta.appendG'+'SplatData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x38d+0x3*-0x119+-0x40),_0x2b05d2['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0x2b05d2['numSplats'])['toFixed'](0x146b*-0x1+-0x216a+-0x8*-0x6bb)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20this.upd'+'ateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x25b7+-0x244d*-0x1+0x16c),_0x2b05d2['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await((_0x397a17=this['gsplatInst'+'ance'])==null?void(-0xdf4+-0x467*0x2+0x796*0x3):_0x397a17['updateInst'+'anceData'](this,_0x25b542,_0x387814)),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20updateIn'+'stanceData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x2e*-0x7a+0x23*-0x11b+0x10c7),_0x2b05d2['numSplats']));}['fireAssets'+'ManagerTim'+'eIndex'](_0x5da5ed,_0x4f3b19){var _0x25903e;const _0x1bc1a5=_0x5da5ed||this['assetsMana'+'gerLoadedT'+'ime'];(_0x25903e=this['asset'])==null||_0x25903e['fire']('setAssetsL'+'oaded',_0x1bc1a5,_0x4f3b19);}['destroy'](){var _0x4a0420,_0x5522cf,_0x2f6fa6,_0x562e0b,_0x26ae81,_0x233f19,_0x1a4fb2,_0x22b9d1,_0x24f751,_0x5dca55,_0x245393,_0x1914aa,_0x489568,_0x3554b6,_0x239ace,_0x12b7c8,_0x2066f7,_0x1ae1ad,_0x14ca5d,_0x575fb1,_0x1b21ed;(_0x4a0420=this['updateData'+'Worker'])==null||_0x4a0420['destroy'](),this['updateData'+'Worker']=void(-0x1*0x668+-0x24d5+-0x2b3d*-0x1),(_0x5522cf=this['colorTextu'+'re'])==null||_0x5522cf['destroy'](),(_0x2f6fa6=this['transformA'+'Texture'])==null||_0x2f6fa6['destroy'](),(_0x562e0b=this['transformB'+'Texture'])==null||_0x562e0b['destroy'](),(_0x26ae81=this['transformR'+'Texture'])==null||_0x26ae81['destroy'](),(_0x233f19=this['transformM'+'otionTextu'+'re'])==null||_0x233f19['destroy'](),(_0x1a4fb2=this['transformL'+'ifecycleTe'+'xture'])==null||_0x1a4fb2['destroy'](),(_0x22b9d1=this['sh1to3Text'+'ure'])==null||_0x22b9d1['destroy'](),(_0x24f751=this['sh4to7Text'+'ure'])==null||_0x24f751['destroy'](),(_0x5dca55=this['sh8to11Tex'+'ture'])==null||_0x5dca55['destroy'](),(_0x245393=this['sh12to15Te'+'xture'])==null||_0x245393['destroy'](),(_0x1914aa=this['colorTextu'+'re2'])==null||_0x1914aa['destroy'](),(_0x489568=this['transformA'+'Texture2'])==null||_0x489568['destroy'](),(_0x3554b6=this['transformB'+'Texture2'])==null||_0x3554b6['destroy'](),(_0x239ace=this['transformR'+'Texture2'])==null||_0x239ace['destroy'](),(_0x12b7c8=this['transformM'+'otionTextu'+'re2'])==null||_0x12b7c8['destroy'](),(_0x2066f7=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x2066f7['destroy'](),(_0x1ae1ad=this['sh1to3Text'+'ure2'])==null||_0x1ae1ad['destroy'](),(_0x14ca5d=this['sh4to7Text'+'ure2'])==null||_0x14ca5d['destroy'](),(_0x575fb1=this['sh8to11Tex'+'ture2'])==null||_0x575fb1['destroy'](),(_0x1b21ed=this['sh12to15Te'+'xture2'])==null||_0x1b21ed['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0xdcf5d8){var _0x23c0c7,_0x4b1c6b,_0x278c62,_0x4a522c,_0x3bd6a4,_0x26c7dc,_0x2c2810,_0x5a9e27,_0x304555,_0x3608bf,_0x3197eb,_0x2ee700,_0x4fba5f;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0xca45b9=((_0x23c0c7=_0xdcf5d8['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(-0x818+0xdf2+0x7*-0xd6):_0x23c0c7['data'])??0x17e6+-0x176f+-0x77,_0xce1b23=((_0x4b1c6b=_0xdcf5d8['getParamet'+'er']('uSplatScal'+'e'))==null?void(-0x1*0x4db+-0x1*-0xd5b+0x440*-0x2):_0x4b1c6b['data'])??-0x1*-0xa2a+0x1d2d*0x1+0x13ab*-0x2,_0x2c4f56=((_0x278c62=_0xdcf5d8['getParamet'+'er']('uSaturatio'+'n'))==null?void(0x2131+-0x9d5+-0x175c):_0x278c62['data'])??0x1*0x23e3+0x459*-0x1+-0x1f89,_0x800bf1=((_0x4a522c=_0xdcf5d8['getParamet'+'er']('uHueOffset'))==null?void(0x13c3*-0x1+-0x1*-0x1b55+-0x33*0x26):_0x4a522c['data'])??0x194b+-0x65b*-0x2+0x8d*-0x45,_0x24afec=((_0x3bd6a4=_0xdcf5d8['getParamet'+'er']('uInvertOpa'+'city'))==null?void(-0x11f5+-0x132b*-0x1+-0x5*0x3e):_0x3bd6a4['data'])??-0x1ced*-0x1+0x1c6f*-0x1+-0x7e,_0x468893=((_0x26c7dc=_0xdcf5d8['getParamet'+'er']('uOpacity'))==null?void(0x47f*-0x1+-0x4*0x6d7+-0x5*-0x65f):_0x26c7dc['data'])??-0xb8d+-0x1ec+0xd7a,_0x3b0617=((_0x2c2810=_0xdcf5d8['getParamet'+'er']('clrOffset'))==null?void(0x10b7+0x21a+-0x12d1):_0x2c2810['data'])??[-0x1caa*0x1+-0x1*0x4b3+0x215d,0xcb9+-0x1727+0x59*0x1e,-0x9e8+-0x3b*-0x22+0x212,-0x1f0f+-0x1faf*-0x1+-0x9f],_0x39ee63=((_0x5a9e27=_0xdcf5d8['getParamet'+'er']('clrScale'))==null?void(0x1*-0x7a9+-0x1*0x40f+0xbb8):_0x5a9e27['data'])??[-0x1c*-0xc9+-0x1e65+0x86a,-0x1cb8+-0x1*-0x10ad+-0xc*-0x101,0x3c2+-0x924+0x563,0x74*0x2+-0x2338*-0x1+-0x241f],_0x40eac8=((_0x304555=_0xdcf5d8['getParamet'+'er']('uShapeN'))==null?void(0x14a1*-0x1+0xe00+0x6a1):_0x304555['data'])??-0x22*-0x67+0x34c+-0x10fa,_0x52ee5a=((_0x3608bf=_0xdcf5d8['getParamet'+'er']('mode'))==null?void(-0x1765+-0xc1+0x1826):_0x3608bf['data'])??0xc4b+-0x25aa*0x1+-0x1b1*-0xf,_0x5b97da=((_0x3197eb=_0xdcf5d8['getParamet'+'er']('ringSize'))==null?void(0x1d*0xa3+-0xe03+-0x474):_0x3197eb['data'])??-0x3cf*0x1+-0x265e+0x2a2d,_0x27e925=((_0x2ee700=_0xdcf5d8['defines'])==null?void(-0xef1+-0x1dae+0x2c9f):_0x2ee700['get']('uOpenAnim'))??'0',_0x439cfb=((_0x4fba5f=_0xdcf5d8['defines'])==null?void(-0x15b3+-0x1fa2*0x1+0x14d*0x29):_0x4fba5f['get']('uControlCo'+'lorMode'))??'0';_0xdcf5d8['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0xdcf5d8['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0xdcf5d8['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0xdcf5d8['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0xdcf5d8['setParamet'+'er']('uSplatScal'+'e',_0xce1b23),_0xdcf5d8['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0xca45b9),_0xdcf5d8['setParamet'+'er']('uSaturatio'+'n',_0x2c4f56),_0xdcf5d8['setParamet'+'er']('uHueOffset',_0x800bf1),_0xdcf5d8['setParamet'+'er']('uInvertOpa'+'city',_0x24afec),_0xdcf5d8['setParamet'+'er']('uOpacity',_0x468893),_0xdcf5d8['setParamet'+'er']('clrOffset',_0x3b0617),_0xdcf5d8['setParamet'+'er']('clrScale',_0x39ee63),_0xdcf5d8['setParamet'+'er']('uShapeN',_0x40eac8),_0xdcf5d8['setParamet'+'er']('mode',_0x52ee5a),_0xdcf5d8['setParamet'+'er']('ringSize',_0x5b97da),_0xdcf5d8['setParamet'+'er']('prerenderC'+'Time',-0x1b6c+-0x1*0x1462+0x2fce),_0xdcf5d8['setParamet'+'er']('renderSpac'+'e',0x13d0+0x7*-0x44a+-0xa4*-0x10),_0xdcf5d8['setParamet'+'er']('endSpace',-0x11ab+0x24ff+-0x134a),_0xdcf5d8['setDefine']('uOpenAnim',_0x27e925),_0xdcf5d8['setDefine']('uControlCo'+'lorMode',_0x439cfb),this['transformM'+'otionTextu'+'re']&&_0xdcf5d8['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0xdcf5d8['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0xdcf5d8['setDefine']('SH_BANDS',this['shBands']),_0xdcf5d8['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0xdcf5d8['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0xdcf5d8['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0xdcf5d8['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0xdcf5d8['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0x19acfc){const _0x43f8c2=Math['ceil'](Math['sqrt'](_0x19acfc)),_0x1dd659=Math['ceil'](_0x19acfc/_0x43f8c2);return new J(_0x43f8c2,_0x1dd659);}async['updateColo'+'rData'](_0x38abb2){var _0x17d645;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x351b70=this['colorTextu'+'re2'];if(!_0x351b70||this['isDestroye'+'d'])return;let _0x59f117=(_0x17d645=_0x38abb2['transformD'+'ata'])==null?void(0x37*-0x9b+0xb*0x15b+-0x1*-0x1264):_0x17d645['dataColor'];if(!_0x59f117){const _0x470436=_0x38abb2['getProp']('color_opac'+'ity');_0x59f117=new Uint16Array(_0x470436['buffer']['slice']());}await this['idleUpdate'+'TexturePro'+'mise'](_0x351b70,_0x59f117);}async['getTransfo'+'rmDataByWo'+'rker'](_0xb4531b){var _0x1ab901;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x1ab901=_0xb4531b['transformD'+'ata'])!=null&&_0x1ab901['dataCenter'+'s'])return{'centers':_0xb4531b['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0xb4531b['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0xb4531b['transformD'+'ata']['dataScale'],'dataRotation':_0xb4531b['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0xb4531b['transformD'+'ata']['dataMotion'],'dataTime':_0xb4531b['transformD'+'ata']['dataTime'],'motion':_0xb4531b['transformD'+'ata']['motion'],'tScaleArray':_0xb4531b['transformD'+'ata']['tScaleArra'+'y']};const _0x38533b=_0xb4531b['getProp']('position'),_0x5d42a9=_0xb4531b['getProp']('motion'),_0x5c45ba=_0xb4531b['getProp']('rotation'),_0x2d9194=_0xb4531b['getProp']('scale'),_0x5a6bfc=_0xb4531b['getProp']('t'),_0x564449=_0xb4531b['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0xb4531b['numSplats'],this['is4D'],_0x38533b,_0x5c45ba,_0x5d42a9,_0x2d9194,_0x5a6bfc,_0x564449);}async['updateTran'+'sformFromD'+'ata'](_0x48c6a7){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0x48c6a7['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0x48c6a7['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0x48c6a7['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0x48c6a7['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0x48c6a7['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x22149b,_0x167abc){if(!this['isDestroye'+'d'])return new Promise(_0x491d59=>{requestIdleCallback(()=>{const _0xb7beb5=_0x22149b['lock']();_0xb7beb5==null||_0xb7beb5['set'](_0x167abc),_0x22149b['unlock'](),_0x491d59(!(-0xd61*0x1+0x24a6+-0x1745));},{'timeout':0x12c});});}async['updateSHDa'+'ta'](_0x12ba7a){var _0xbdba92,_0x5423cc,_0x1b6873,_0x2aea86,_0x45213f,_0x2874bd,_0x25351c,_0x2605dd;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0x2f508d=(_0xbdba92=this['sh1to3Text'+'ure2'])==null?void(-0x249b*-0x1+-0xa3*-0x1f+-0x3858):_0xbdba92['lock'](),_0x5eb45e=(_0x5423cc=this['sh4to7Text'+'ure2'])==null?void(0x2002+-0x214b+0x149):_0x5423cc['lock'](),_0x48a579=(_0x1b6873=this['sh8to11Tex'+'ture2'])==null?void(-0x1503+0x65b*-0x3+0x1*0x2814):_0x1b6873['lock'](),_0x4e5187=(_0x2aea86=this['sh12to15Te'+'xture2'])==null?void(-0x1c2*-0x8+0xc42*-0x2+0xa74):_0x2aea86['lock'](),_0x35970c={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x2a2352=xg(_0x12ba7a,_0x35970c*(-0x232a+0x1a*-0x14b+0x44cb)),_0x41aaf4=0x1101+0x39*0x5+-0xa1f,_0x28ad4b=0x251b+0x1*0x8e2+-0x29fe,_0x2846b5=new Float32Array(0x1*0x7eb+0x1*0x5d+-0x847),_0x5181e9=new Uint32Array(_0x2846b5['buffer']),_0x5f150a=new Array(_0x35970c*(-0xd02+0x1f27+-0x1222))['fill'](-0x13e*-0xa+-0x2638+0x673*0x4);for(let _0xf9df6e=0x77*-0x3f+0x238e+-0x6b*0xf;_0xf9df6e<_0x12ba7a['numSplats'];++_0xf9df6e){for(let _0x4586f4=0xd3d+-0x1ca4*-0x1+0x1*-0x29e1;_0x4586f4<_0x35970c;++_0x4586f4)_0x5f150a[_0x4586f4*(0x1*0x1481+-0x1277+-0xad*0x3)]=_0x2a2352[_0x4586f4][_0xf9df6e],_0x5f150a[_0x4586f4*(0x240e+0xce9*-0x3+0x2b0)+(0x267+0x12d*0x20+-0x2806)]=_0x2a2352[_0x4586f4+_0x35970c][_0xf9df6e],_0x5f150a[_0x4586f4*(0x19*-0xb2+-0x757+-0x2*-0xc5e)+(-0x9*-0x22e+-0xb7*0xd+0x8b*-0x13)]=_0x2a2352[_0x4586f4+_0x35970c*(-0x2dd*0x7+-0x974+0x1*0x1d81)][_0xf9df6e];let _0x4c3929=_0x5f150a[-0x4*-0x19+0xd01*0x3+-0x2767];for(let _0x4c2fb1=-0x13*-0x7f+0x1*-0xd62+0x3f6;_0x4c2fb1<_0x35970c*(-0x1342+0x8*0x13+0x12ad);++_0x4c2fb1)_0x4c3929=Math['max'](_0x4c3929,Math['abs'](_0x5f150a[_0x4c2fb1]));if(_0x4c3929!==-0xcd*0xd+0x2237+-0x17ce){for(let _0x1f1587=-0xdb4*-0x1+0x622+-0x13d6;_0x1f1587<_0x35970c;++_0x1f1587)_0x5f150a[_0x1f1587*(-0x92f+0x1351+-0x1*0xa1f)+(-0x29*0xb6+0xd*-0x161+0x3*0xfb1)]=Math['max'](0x3f9*-0x5+0x118e+0x24f,Math['min'](_0x41aaf4,Math['floor']((_0x5f150a[_0x1f1587*(-0x53*0x25+-0x2*-0xaa9+-0x10*0x95)+(-0xddc+0x4a5+0x1*0x937)]/_0x4c3929*(-0x521+0xfd2+0x1*-0xab1+0.5)+(-0xbc*-0x1+-0x1b26+0x31*0x8a+0.5))*_0x41aaf4+(-0x239*-0x9+-0x1ca6+-0x8a5*-0x1+0.5)))),_0x5f150a[_0x1f1587*(-0x36f+0x79*0xd+-0x2b3)+(-0x14ec+-0x1f5a+0x3447)]=Math['max'](0x1*0x471+-0x38d*-0x8+-0xaf3*0x3,Math['min'](_0x28ad4b,Math['floor']((_0x5f150a[_0x1f1587*(0x1*-0xf4f+0x3*-0x9b4+0x2c6e)+(0x1ac*-0xc+0x1451+0x10*-0x4)]/_0x4c3929*(-0x13*0x157+-0x2c*0x59+-0x28c1*-0x1+0.5)+(-0x1*0x147d+0x20eb*-0x1+0x3568+0.5))*_0x28ad4b+(-0x2*-0xf5a+0x5*0x243+0x1*-0x2a03+0.5)))),_0x5f150a[_0x1f1587*(-0x25*0x79+-0x2a*-0xb5+-0xc32)+(-0x1*-0x1637+0x1ca5+-0x32da)]=Math['max'](-0x6*-0x16a+-0x22b5+0x1a39,Math['min'](_0x41aaf4,Math['floor']((_0x5f150a[_0x1f1587*(0xda7+-0x23e3*0x1+0x163f)+(-0x29f*-0x3+-0xd7*0x19+0xd24)]/_0x4c3929*(0x73f+0xa93+-0x11d2+0.5)+(0x1*-0x11a5+0x1c55+-0x39*0x30+0.5))*_0x41aaf4+(-0x1*0x1cba+-0x1*-0x187c+-0x3*-0x16a+0.5))));_0x2846b5[0x1a8+0x196*0x12+-0x4*0x78d]=_0x4c3929,_0x2f508d[_0xf9df6e*(-0x1207+0x1*0x1003+0x208)+(-0x1e*0x41+-0x43b*-0x2+-0xd8)]=_0x5181e9[0xff7*0x2+-0x1940+-0x6ae],_0x2f508d[_0xf9df6e*(0x9e*0x2+0x3a6+-0xb2*0x7)+(0x634+-0x1eaa+0x1877)]=_0x5f150a[0xa61+0x1b6a*0x1+0x2d*-0xd7]<<-0x60e*-0x1+0x145e+0x1*-0x1a57|_0x5f150a[-0x5*-0x781+0x24b0+0x1*-0x4a34]<<0x1994+0x21c3+0xfd*-0x3c|_0x5f150a[0x21fd+0x23f8+-0x8d*0x7f],_0x2f508d[_0xf9df6e*(0x1*0x11ea+0x1991+-0x1*0x2b77)+(0x193d+0xab3+-0x23ee)]=_0x5f150a[-0xa3*-0x27+0xfe*0x11+0x4*-0xa6c]<<-0x1*-0x19ab+-0x1*0xed5+0xac1*-0x1|_0x5f150a[-0x24c4+-0xe7f+0x3347]<<-0x207e+0x9dc*0x3+0x2f5*0x1|_0x5f150a[-0x1017+-0x12c+0x1148],_0x2f508d[_0xf9df6e*(-0xd4d+0x1ef7*0x1+-0x11a6)+(-0x3*0x3af+-0x1019+0x199*0x11)]=_0x5f150a[0x1*0xe1d+0x13*0x16f+-0x2e*0xe6]<<0x16*-0x4e+0x13cf+-0xd06|_0x5f150a[-0x88*0x2f+0x1*0x5db+-0x5*-0x3d4]<<0x7b*-0x3+0x2*0x765+-0xd4e|_0x5f150a[0x153+0x1f43+0x39e*-0x9],this['shBands']>0x14*0x1f+0x16c1*-0x1+-0x89*-0x26&&(_0x5eb45e[_0xf9df6e*(-0x9e8+-0xbd5*0x2+0x3*0xb32)+(-0x1*-0x1895+-0xe05*-0x2+0x2c5*-0x13)]=_0x5f150a[0x155f+0x12d*0x1d+-0x376f]<<0x1b0e+-0x25f4+0xafb|_0x5f150a[0xed5+0x1c16+-0x2ae1*0x1]<<0x23*-0x81+0xc52+-0x2*-0x2ae|_0x5f150a[-0x119e+-0x43+0x11ec],_0x5eb45e[_0xf9df6e*(-0x8ca+0x1aad+-0x19*0xb7)+(0x259+-0x76e+0x28b*0x2)]=_0x5f150a[0x2547+-0x1*-0xac+-0x139*0x1f]<<-0x473*-0x7+-0x283+-0x1c8d*0x1|_0x5f150a[0x13ad+-0x1*-0x266d+-0x3a0d]<<0xb85*-0x3+-0x2268+0x4502|_0x5f150a[0x1*-0x160b+-0xa4f+-0x1e8*-0x11],_0x5eb45e[_0xf9df6e*(-0x70c+0xa81*0x2+-0xee*0xf)+(-0x1*-0xc51+-0x1ca6+0x1057)]=_0x5f150a[-0x1*-0x2627+-0xeef+-0x1729]<<-0x7e5+-0x1*0x343+0xb3d|_0x5f150a[0x2ed*-0xd+0x1c62+0x9b7]<<0x720+-0x2*0x1075+-0x1*-0x19d5|_0x5f150a[0x5*0x199+0x171d+0x1f09*-0x1],_0x5eb45e[_0xf9df6e*(0x106*-0x7+-0x2380+0xe3a*0x3)+(0x1*-0x12c3+-0x1494+-0x1b6*-0x17)]=_0x5f150a[0x848+0x1e9*-0x3+0x5*-0x7f]<<-0x11e3+0x24df+-0x12e7|_0x5f150a[-0x1*-0x218b+0x1087+-0x31ff]<<0x21ff+-0x237f+-0x5*-0x4f|_0x5f150a[-0x180c+-0x2*0x20e+0x1c3c],this['shBands']>-0x1*-0x1173+-0x8bb+-0x8b6?(_0x48a579[_0xf9df6e*(0x23a+-0x2*-0x9e9+-0x1608)+(-0x7*-0x5b+0x1f*-0x89+0xe1a)]=_0x5f150a[0xef+-0x41*0x64+0x188a]<<0x2e*0x89+-0x1d89*-0x1+-0x3612|_0x5f150a[-0x244c+0x2dd+0x2185]<<-0x6a0+-0x18c2+0x1f6d|_0x5f150a[-0x1*-0x1853+-0x1ca+-0x1ba*0xd],_0x48a579[_0xf9df6e*(0x22f1*0x1+0x138f+-0x367c)+(-0x20a8+-0x2391+0x443a)]=_0x5f150a[0x187e+0x1c39+-0x349f]<<0x8cc*0x1+0x479+-0x4*0x34c|_0x5f150a[-0x3d8+-0x139c+0x178d]<<0x7*0x51d+-0x1932*-0x1+0x21a*-0x1d|_0x5f150a[-0x3*-0x955+-0x1699+-0x54c],_0x48a579[_0xf9df6e*(-0x2028+-0x1d3e+-0xe*-0x463)+(-0xdb7*0x1+0x150d+-0x754)]=_0x5f150a[0x12f3+0x1de7+-0x30bf]<<0x45b+-0x61*0x3d+-0x7*-0x2b1|_0x5f150a[-0x10a+-0x1e1c+0x1f42]<<0x34a+-0x1697+0x1*0x1358|_0x5f150a[-0x7a*0x2e+0x20*0x130+-0x43*0x3d],_0x48a579[_0xf9df6e*(0x1*0x16ef+0x20d9+-0x37c4)+(0x3*-0x7af+0x1*-0xd19+0x2429)]=_0x5f150a[-0x1bf4+0x227e+-0x66c*0x1]<<-0x1*-0x2417+-0x1352+-0x10b0|_0x5f150a[-0x180c+-0x24c2+0x3ced]<<-0x23f5+-0x599*0x1+0x2999*0x1|_0x5f150a[0x1dbe+0x1c4b+-0x39e9],_0x4e5187[_0xf9df6e*(0x10ed+0x404+-0x14ed)+(-0x86d+-0x2f*0x97+-0x52a*-0x7)]=_0x5f150a[-0x80a+0x2582+0x103*-0x1d]<<-0x1*0x329+-0x2230+-0x3*-0xc7a|_0x5f150a[0x4*-0x647+0x1182+0xa*0xc6]<<-0x21ee+-0x2*0x125+0x2443*0x1|_0x5f150a[-0x1e8*-0x6+0x64d*0x1+0x2*-0x8cd],_0x4e5187[_0xf9df6e*(0xbf0+0x120d*0x1+-0x1*0x1df9)+(-0xb*0x1d+0x2e*0xd8+-0x2590)]=_0x5f150a[0x368+-0x1a2+0xb*-0x26]<<-0x224f+-0x960+0x2bc4|_0x5f150a[-0x1*-0x9a0+-0x1554+0x3*0x3f3]<<-0x59d+-0x688+0xc30|_0x5f150a[0x1cb1+0x3*-0x44e+-0x1*0xfa1],_0x4e5187[_0xf9df6e*(-0x2ae+0x17ce+-0x304*0x7)+(-0x1eb8+0x22f3+-0x439)]=_0x5f150a[-0x1fb4*-0x1+-0x23*-0x106+0x3*-0x1675]<<-0x12f9+0x8bf*0x2+0x64*0x4|_0x5f150a[-0xfd3+0x9d3+0x628]<<0x24f7*0x1+-0xbc7*0x3+-0x197|_0x5f150a[-0x7f*-0x3a+0xa85*0x1+-0x2722],_0x4e5187[_0xf9df6e*(-0x16d3*-0x1+0xa9*0x25+0x2f3c*-0x1)+(0x11e7*-0x1+-0xbf8*-0x3+-0x11fe)]=_0x5f150a[0x240b+0x1ad0+-0x3eb1*0x1]<<-0xc17+0x18bd+-0xc91|_0x5f150a[0xcb+0x2*-0xae3+0x1526]<<0x195+-0x1898+-0xb87*-0x2|_0x5f150a[-0x1*0x1c19+0x442*0x4+-0x19b*-0x7]):_0x48a579[_0xf9df6e]=_0x5f150a[0x1*0xdd5+-0x6*-0x1bd+-0x182e]<<-0x101+-0xccf+0xde5*0x1|_0x5f150a[0x26e*0x5+-0x1f1f+0x130f]<<0xb*0x18e+0x15e8+-0x26f7|_0x5f150a[-0xefd+0x276*0x1+0xc9e]);}}(_0x45213f=this['sh1to3Text'+'ure2'])==null||_0x45213f['unlock'](),(_0x2874bd=this['sh4to7Text'+'ure2'])==null||_0x2874bd['unlock'](),(_0x25351c=this['sh8to11Tex'+'ture2'])==null||_0x25351c['unlock'](),(_0x2605dd=this['sh12to15Te'+'xture2'])==null||_0x2605dd['unlock']();}async['updateSHDa'+'taByWorker'](_0x50c535){var _0x39d104,_0x4337c,_0x3f4704,_0x2a6b42,_0x358149;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x5c18b4={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0xb6ae87,_0x37ac03,_0x477986,_0x12e75e;if((_0x39d104=_0x50c535['transformD'+'ata'])!=null&&_0x39d104['sh1to3Data'])_0xb6ae87=(_0x4337c=_0x50c535['transformD'+'ata'])==null?void(0x1f72+0x31*0x3d+0x13*-0x245):_0x4337c['sh1to3Data'],_0x37ac03=(_0x3f4704=_0x50c535['transformD'+'ata'])==null?void(-0x14e7+0x28d*-0x3+0x1c8e):_0x3f4704['sh4to7Data'],_0x477986=(_0x2a6b42=_0x50c535['transformD'+'ata'])==null?void(0x2*0x1a+-0x14f7*-0x1+0x152b*-0x1):_0x2a6b42['sh8to11Dat'+'a'],_0x12e75e=(_0x358149=_0x50c535['transformD'+'ata'])==null?void(-0x1*-0x2655+-0x7*0x95+-0x2242):_0x358149['sh12to15Da'+'ta'];else{const _0x4bedd6=xg(_0x50c535,_0x5c18b4*(-0x249e+-0xb8*-0x1f+0x1*0xe59)),_0x327cac=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0x50c535['numSplats'],this['shBands'],_0x4bedd6);_0xb6ae87=_0x327cac['sh1to3Data'],_0x37ac03=_0x327cac['sh4to7Data'],_0x477986=_0x327cac['sh8to11Dat'+'a'],_0x12e75e=_0x327cac['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0xb6ae87),this['shBands']>0x1e45+0x3f3*0x7+-0x39e9&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0x37ac03),this['shBands']>0x1505+0x2667+-0x3b6a?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x477986),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0x12e75e)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x477986));}}const PC='FILL_WINDO'+'W',Tg='KEEP_ASPEC'+'T',wg='AUTO',MC='FIXED';let Ov;function Ms(){return Ov;}function _u(_0xbd4799){Ov=_0xbd4799;}class DC{constructor(){h(this,'renderPass'+'es',[]),h(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x1ae54c){w['assert'](_0x1ae54c),_0x1ae54c['frameUpdat'+'e']();const _0x2e8922=_0x1ae54c['beforePass'+'es'];for(let _0x4b10f0=-0x2197*0x1+0x812*-0x3+0x39cd*0x1;_0x4b10f0<_0x2e8922['length'];_0x4b10f0++){const _0x2a05f2=_0x2e8922[_0x4b10f0];_0x2a05f2['enabled']&&this['addRenderP'+'ass'](_0x2a05f2);}_0x1ae54c['enabled']&&this['renderPass'+'es']['push'](_0x1ae54c);const _0x4b06ab=_0x1ae54c['afterPasse'+'s'];for(let _0x420d17=0x1c1c+-0x131+-0x8f9*0x3;_0x420d17<_0x4b06ab['length'];_0x420d17++){const _0x445b5e=_0x4b06ab[_0x420d17];_0x445b5e['enabled']&&this['addRenderP'+'ass'](_0x445b5e);}}['reset'](){this['renderPass'+'es']['length']=-0x18ec+0x1bd9+-0x2ed;}['compile'](){const _0xf8b23d=this['renderTarg'+'etMap'],_0x4c594a=this['renderPass'+'es'];for(let _0x14bf0c=-0x19ae+0x79*0x17+0xecf;_0x14bf0c<_0x4c594a['length'];_0x14bf0c++){const _0x11d781=_0x4c594a[_0x14bf0c],_0x34196f=_0x11d781['renderTarg'+'et'];if(_0x34196f!==void(0x1*-0x3+0xb*-0xea+0xa11)){const _0x157abb=_0xf8b23d['get'](_0x34196f);if(_0x157abb){const _0x43ada0=_0x11d781['colorArray'+'Ops']['length'];for(let _0x51e57c=-0x34a*0xb+0x23dc*-0x1+-0x1*-0x480a;_0x51e57c<_0x43ada0;_0x51e57c++)_0x11d781['colorArray'+'Ops'][_0x51e57c]['clear']||(_0x157abb['colorArray'+'Ops'][_0x51e57c]['store']=!(0x16f3+0x8b*-0x30+-0x31d*-0x1));_0x11d781['depthStenc'+'ilOps']['clearDepth']||(_0x157abb['depthStenc'+'ilOps']['storeDepth']=!(-0x2*-0xc47+-0x1*-0xc9+-0x1957)),_0x11d781['depthStenc'+'ilOps']['clearStenc'+'il']||(_0x157abb['depthStenc'+'ilOps']['storeStenc'+'il']=!(0x1*0x18c2+0xd7e+-0x2640));}_0xf8b23d['set'](_0x34196f,_0x11d781);}}for(let _0xcd36be=-0x21f*0x12+0x2*-0x944+0x38b6;_0xcd36be<_0x4c594a['length']-(0x1*-0xaf1+0x2116+-0x1624);_0xcd36be++){const _0x340b8e=_0x4c594a[_0xcd36be],_0x25eefd=_0x340b8e['renderTarg'+'et'],_0x42237b=_0x4c594a[_0xcd36be+(-0x1104+0x2278+0x3*-0x5d1)],_0x5c1ab1=_0x42237b['renderTarg'+'et'];_0x25eefd!==_0x5c1ab1||_0x25eefd===void(-0x178*0x18+-0x1*0x21a7+-0x1*-0x44e7)||_0x42237b['depthStenc'+'ilOps']['clearDepth']||_0x42237b['depthStenc'+'ilOps']['clearStenc'+'il']||_0x42237b['colorArray'+'Ops']['some'](_0x429434=>_0x429434['clear'])||_0x340b8e['afterPasse'+'s']['length']>-0x19*0x112+0x701*0x2+0xcc0||_0x42237b['beforePass'+'es']['length']>0xb*-0x143+0x1930+0xb4f*-0x1||(_0x340b8e['_skipEnd']=!(0x34*-0x7c+-0x1742+0x9*0x562),_0x42237b['_skipStart']=!(-0x11*-0x235+-0x11cc+-0x99*0x21));}let _0x2683ad=null,_0x38fe48=null;for(let _0xe9b83c=0xc*-0x233+0x349+-0x41*-0x5b;_0xe9b83c<_0x4c594a['length'];_0xe9b83c++){const _0x4d505e=_0x4c594a[_0xe9b83c],_0x415cc4=_0x4d505e['renderTarg'+'et'],_0x585671=_0x415cc4==null?void(-0x116*0xa+-0xd*-0x2e5+-0x1ac5):_0x415cc4['colorBuffe'+'r'];if(_0x585671!=null&&_0x585671['cubemap']){if(_0x2683ad===_0x585671){const _0x3bd3a8=_0x38fe48['colorArray'+'Ops']['length'];for(let _0x383e13=-0x538*0x4+-0x7f*0x2+-0x3*-0x74a;_0x383e13<_0x3bd3a8;_0x383e13++)_0x38fe48['colorArray'+'Ops'][_0x383e13]['mipmaps']=!(-0x1f17+0x1c6d+0x2ab);}_0x2683ad=_0x415cc4['colorBuffe'+'r'],_0x38fe48=_0x4d505e;}else _0x4d505e['requiresCu'+'bemaps']&&(_0x2683ad=null,_0x38fe48=null);}_0xf8b23d['clear']();}['render'](_0x3976fd){this['compile']();const _0x22e0ca=this['renderPass'+'es'];for(let _0x2cbe63=0x1edc+-0x4*0x5ad+-0x1d*0x48;_0x2cbe63<_0x22e0ca['length'];_0x2cbe63++)_0x22e0ca[_0x2cbe63]['render']();}}class IC{constructor(_0x41322a,_0x46eaec){this['texture0']=_0x41322a,this['texture1']=_0x46eaec;}['destroy'](){var _0x509331,_0x155085;(_0x509331=this['texture0'])==null||_0x509331['destroy'](),(_0x155085=this['texture1'])==null||_0x155085['destroy']();}}const Eg=new Kt();class ia{static['createText'+'ure'](_0x296847,_0x3c63e1,_0x2b4b3c,_0x50ed9b=''){return new _e(_0x296847,{'name':'AreaLightL'+'UT'+_0x50ed9b,'width':_0x2b4b3c,'height':_0x2b4b3c,'format':_0x3c63e1,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':vt,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(0x5*0x649+-0xa21*0x2+-0xb2a)});}static['applyTextu'+'res'](_0x1c1e3f,_0x8e26a3,_0x35cf1e){Eg['remove'](_0x1c1e3f),Eg['get'](_0x1c1e3f,()=>new IC(_0x8e26a3,_0x8e26a3===_0x35cf1e?null:_0x35cf1e)),_0x1c1e3f['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x8e26a3),_0x1c1e3f['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x35cf1e);}static['createPlac'+'eholder'](_0x198a4d){const _0x44af2d=ia['createText'+'ure'](_0x198a4d,nt,-0x1fa*-0x2+0x5*0x5f7+-0x21c5,'placeholde'+'r');_0x44af2d['lock']()['fill'](0x4*-0x98d+0x1*0x1cd+-0x1*-0x2467),_0x44af2d['unlock'](),ia['applyTextu'+'res'](_0x198a4d,_0x44af2d,_0x44af2d);}static['set'](_0x24728c,_0x5ab295,_0x51bae0){function _0x3f4035(_0x4b1649,_0x8c0f96,_0x21e882){const _0x2f53cc=ia['createText'+'ure'](_0x4b1649,_0x21e882,0xd0f*0x2+-0x270b+0xd2d);return _0x2f53cc['lock']()['set'](_0x8c0f96),_0x2f53cc['unlock'](),_0x2f53cc;}function _0x17aa5c(_0x303ebd){const _0x5e9c84=_0x303ebd['length'],_0x11a6bc=new Uint16Array(_0x5e9c84),_0x560bbc=Mn['float2Half'];for(let _0x176175=0x15e0+-0x2e7*0xd+0xfdb;_0x176175<_0x5e9c84;_0x176175++)_0x11a6bc[_0x176175]=_0x560bbc(_0x303ebd[_0x176175]);return _0x11a6bc;}const _0x54715c=_0x5ab295,_0x5218ee=_0x51bae0,_0x45cd7a=_0x17aa5c(_0x54715c),_0x3a36fa=_0x17aa5c(_0x5218ee),_0x3e92ee=_0x3f4035(_0x24728c,_0x45cd7a,nt),_0x2e655e=_0x3f4035(_0x24728c,_0x3a36fa,nt);ia['applyTextu'+'res'](_0x24728c,_0x3e92ee,_0x2e655e);}}const Ph='en-US',Mh={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},Sm={};function Dr(_0x4ac44e,_0x531ef7){for(let _0x15084a=-0x19a+0x126c+-0x10d2,_0x200266=_0x4ac44e['length'];_0x15084a<_0x200266;_0x15084a++)Sm[_0x4ac44e[_0x15084a]]=_0x531ef7;}function Oi(_0x1b5ad1){const _0x3b8156=_0x1b5ad1['indexOf']('-');return _0x3b8156!==-(0x25b*0xc+-0x1164+-0x17*0x79)?_0x1b5ad1['substring'](-0x10f*-0x4+0xc6a*0x3+-0x297a,_0x3b8156):_0x1b5ad1;}function LC(_0x560061,_0x36bc90){const _0x2a08e7=_0x560061['indexOf']('-');return _0x2a08e7!==-(-0xa2d*-0x1+0x1*-0x1d3f+0x1313)?_0x36bc90+_0x560061['substring'](_0x2a08e7):_0x36bc90;}function Fv(_0x2e8e12,_0x1f69c1){if(_0x1f69c1[_0x2e8e12])return _0x2e8e12;let _0x46e2f6=Mh[_0x2e8e12];if(_0x46e2f6&&_0x1f69c1[_0x46e2f6])return _0x46e2f6;const _0x5ea510=Oi(_0x2e8e12);return _0x46e2f6=Mh[_0x5ea510],_0x1f69c1[_0x46e2f6]?_0x46e2f6:_0x1f69c1[_0x5ea510]?_0x5ea510:Ph;}Dr(['ja','ko','th','vi','zh','id'],_0xf2a4f=>-0x4*-0x4bb+-0x40+-0x12ac),Dr(['fa','hi'],_0x5cb0cf=>_0x5cb0cf>=-0x1f*0xcb+0x25*0x32+0x1*0x115b&&_0x5cb0cf<=-0x235*0xe+-0xc*0xad+0x2703?0x244e+-0x53*0x2f+0x1*-0x1511:0xb99*0x1+-0xc7*0x1f+-0x21*-0x61),Dr(['fr','pt'],_0x3bc731=>_0x3bc731>=0x2245+-0x4*0x3d1+-0x1301&&_0x3bc731<-0x7df+-0x24fa+0x1*0x2cdb?-0x2*0x199+0x8*0x400+0x2*-0xe67:0x1*0x3+-0x5c0+-0xd2*-0x7),Dr(['da'],_0x55b4e4=>_0x55b4e4===-0x15b4+0x1*-0x2309+0x38be||!Number['isInteger'](_0x55b4e4)&&_0x55b4e4>=-0x3*-0x1c+0xbc6+0x60d*-0x2&&_0x55b4e4<=-0x13e1*0x1+-0x1f*-0x4f+0xa51?-0x962*-0x4+-0x12*-0xfc+-0x3740:0x2ab*-0xd+-0x111+-0x23c1*-0x1),Dr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x1d03ac=>_0x1d03ac===0x163a+-0x5*-0x65f+-0xd85*0x4?0x22e*-0xa+0x2163+0x3*-0x3dd:0x1*-0x237d+0x1e68*-0x1+-0xf1*-0x46),Dr(['ru','uk'],_0x529d9c=>{if(Number['isInteger'](_0x529d9c)){const _0x305a57=_0x529d9c%(0x84e*0x1+0x212*0x3+0x2*-0x73d),_0x4199b1=_0x529d9c%(0x185*0x19+-0x2257*0x1+-0x116*0x3);if(_0x305a57===0x1f2b+0x113d+-0x3067&&_0x4199b1!==-0x1f15+0x34e+0x1bd2)return 0x8f*0x40+0x4*-0x692+-0x978;if(_0x305a57>=0x3f3+0x1bb2+-0x1fa3&&_0x305a57<=0x231a+-0x9a6+-0x1970&&(_0x4199b1<0x4f5*-0x4+0x2e4+0x10fc||_0x4199b1>0x1e4b+-0x3b8*-0x8+-0x3bfd))return-0xa02+-0x5*-0x713+-0x195c;if(_0x305a57===0x1447+-0x1050+-0x3f7||_0x305a57>=0x360+0x1*-0x147+-0x214&&_0x305a57<=0x6ec+0x1912*-0x1+0x13*0xf5||_0x4199b1>=-0x31*0x90+0x1592+0x5*0x135&&_0x4199b1<=-0x1088+-0x1*0x2709+0x1d*0x1eb)return-0xf1*0x1+-0x971+-0x46*-0x26;}return 0x1763+0x1761+-0x2ec1;}),Dr(['pl'],_0xa3a3d7=>{if(Number['isInteger'](_0xa3a3d7)){if(_0xa3a3d7===-0x1*0x20ab+0x509+0x1ba3)return-0x10b1+-0x2599+0x1*0x364a;const _0x5bf77c=_0xa3a3d7%(-0x17c0+-0x14ee+0x2cb8),_0x529f48=_0xa3a3d7%(0x335*-0x4+0x6ea+0x2*0x327);if(_0x5bf77c>=0x2002+-0xdc+-0x7c9*0x4&&_0x5bf77c<=-0x1d*0x12b+-0x38b*-0x1+-0x3cb*-0x8&&(_0x529f48<-0xe94*0x2+-0x7f5+0x2529*0x1||_0x529f48>0x1*-0x1f91+-0x29*0x2+-0x275*-0xd))return 0x16c7+-0x6ac*0x5+0xa96;if(_0x5bf77c>=0x103+0x161*0x11+0x14*-0x139&&_0x5bf77c<=-0x10d1+-0x92b*0x1+-0x1*-0x19fd||_0x5bf77c>=0x1eea+0x8*-0x336+-0x535&&_0x5bf77c<=-0x1*-0x2405+0x39*-0x49+0x1*-0x13bb||_0x529f48>=-0xa84+-0x322*-0x2+-0x5*-0xdc&&_0x529f48<=-0x9*-0x3ad+-0x1*0x517+0x6fc*-0x4)return 0x1f58+0x156*0x12+0x1bb1*-0x2;}return 0x1812+0x2*0xc81+-0x3111;}),Dr(['ar'],_0x1a2cc8=>{if(_0x1a2cc8===-0x3*0xcf5+0x889+0x1e56)return-0x2029+-0xd13+0x2d3c;if(_0x1a2cc8===-0x2076+0x16a1+0x9d6)return 0x1*-0x1bd8+0x12f4+-0x8e5*-0x1;if(_0x1a2cc8===-0x20cb*-0x1+-0xb57*-0x1+-0x2c20)return 0x8e4+-0xe19+0x5*0x10b;if(Number['isInteger'](_0x1a2cc8)){const _0x5672d4=_0x1a2cc8%(0x26e8+0x1e86+0x2*-0x2285);if(_0x5672d4>=-0x1bf*-0x3+-0x1fa2+0x1a68&&_0x5672d4<=0x81d+0x1*0x1717+-0x1f2a)return 0xf*-0x139+0x14bc+-0x1*0x262;if(_0x5672d4>=0x525*-0x4+0xe3*-0xb+0x1e60&&_0x5672d4<=-0x111+0x1*-0x397+0x50b)return-0x2b*-0xbc+-0x21ca*0x1+0x23a;}return 0x11b0+0x7f*-0x25+0xb0;});const RC=Sm[Oi(Ph)];function Tf(_0x194956){return Sm[_0x194956]||RC;}const jn=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class OC{constructor(_0x570f4e='',_0xa4c9d='',_0x471921=null,_0x1a8fb3=null,_0x34611a=null,_0x37deb3=null){this['url']=_0x570f4e,this['filename']=_0xa4c9d,this['hash']=_0x471921,this['size']=_0x1a8fb3,this['opt']=_0x34611a,this['contents']=_0x37deb3;}['equals'](_0x21dd98){return this['url']===_0x21dd98['url']&&this['filename']===_0x21dd98['filename']&&this['hash']===_0x21dd98['hash']&&this['size']===_0x21dd98['size']&&this['opt']===_0x21dd98['opt']&&this['contents']===_0x21dd98['contents'];}}let FC=-(0x64b+-0x248c+0x1e42);const NC={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},bg=['pvr','dxt','etc2','etc1','basis'];class pe extends me{constructor(_0x3da6be,_0xc2077d,_0x4e6753,_0x51f1fc={},_0x38e05f={}){super(),h(this,'_file',null),h(this,'_i18n',{}),h(this,'_preload',!(0x10f7+0x1*0x169b+-0x2791)),h(this,'_resources',[]),h(this,'id',FC--),h(this,'loaded',!(-0x791+0xb9a+-0x408)),h(this,'loading',!(0xcd6*0x3+0x18c9+0x2*-0x1fa5)),h(this,'options',{}),h(this,'registry',null),h(this,'tags',new Oo(this)),h(this,'type'),h(this,'urlObject',null),(this['_name']=_0x3da6be||'',this['type']=_0xc2077d,this['_data']=_0x51f1fc||{},this['options']=_0x38e05f||{},_0x4e6753&&(this['file']=_0x4e6753));}set['name'](_0x54afb0){if(this['_name']===_0x54afb0)return;const _0x2fd829=this['_name'];this['_name']=_0x54afb0,this['fire']('name',this,this['_name'],_0x2fd829);}get['name'](){return this['_name'];}set['file'](_0x58070f){var _0x2d9041,_0x3d8a75;if(_0x58070f&&_0x58070f['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(0xfa1+0x25b3+0x3553*-0x1)){const _0x6fd51c=((_0x3d8a75=(_0x2d9041=this['registry'])==null?void(0x1751+0x40*0x1d+0x61d*-0x5):_0x2d9041['_loader'])==null?void(-0xb*0x331+0x1bae+-0x1*-0x76d):_0x3d8a75['_app'])||Ms(),_0x189a11=_0x6fd51c==null?void(-0x1dbd+-0x18d3+0x246*0x18):_0x6fd51c['graphicsDe'+'vice'];if(_0x189a11)for(let _0x453b7b=0x1*-0x103+-0x2320+0x2423,_0xb3b43c=bg['length'];_0x453b7b<_0xb3b43c;_0x453b7b++){const _0x2fbf0a=bg[_0x453b7b];if(_0x58070f['variants'][_0x2fbf0a]&&_0x189a11[NC[_0x2fbf0a]]){_0x58070f=_0x58070f['variants'][_0x2fbf0a];break;}if(_0x6fd51c['enableBund'+'les']){const _0x335bfb=_0x6fd51c['bundles']['listBundle'+'sForAsset'](this);if(_0x335bfb&&_0x335bfb['find'](_0x3a8c85=>{var _0xefd73d;return(_0xefd73d=_0x3a8c85==null?void(0x394+0x1584+-0x1918):_0x3a8c85['file'])==null?void(0x202d+0x1b2*-0x6+-0x1601):_0xefd73d['variants'][_0x2fbf0a];}))break;}}}const _0x1f4cc1=this['_file'],_0x11a95c=_0x58070f?new OC(_0x58070f['url'],_0x58070f['filename'],_0x58070f['hash'],_0x58070f['size'],_0x58070f['opt'],_0x58070f['contents']):null;(!!_0x11a95c!=!!_0x1f4cc1||_0x11a95c&&!_0x11a95c['equals'](_0x1f4cc1))&&(this['_file']=_0x11a95c,this['fire']('change',this,'file',_0x11a95c,_0x1f4cc1),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x2d89db){const _0x5981b0=this['_data'];this['_data']=_0x2d89db,_0x2d89db!==_0x5981b0&&(this['fire']('change',this,'data',_0x2d89db,_0x5981b0),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x2c1e47){const _0x5dc688=this['_resources'][0x233f+0x11e1+-0x3520];this['_resources'][0xbd0+0x2669+-0x3239]=_0x2c1e47,this['fire']('change',this,'resource',_0x2c1e47,_0x5dc688);}get['resource'](){return this['_resources'][-0xf3f+0x2e*0xb8+-0x11d1];}set['resources'](_0x40d9e2){const _0x454bff=this['_resources'];this['_resources']=_0x40d9e2,this['fire']('change',this,'resources',_0x40d9e2,_0x454bff);}get['resources'](){return this['_resources'];}set['preload'](_0x264499){_0x264499=!!_0x264499,this['_preload']!==_0x264499&&(this['_preload']=_0x264499,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0x1946bc){_0x1946bc=!!_0x1946bc,(!this['hasOwnProp'+'erty']('_loadFaces')||_0x1946bc!==this['_loadFaces'])&&(this['_loadFaces']=_0x1946bc,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x4e40aa=this['file'];if(!_0x4e40aa||!_0x4e40aa['url'])return null;let _0x3b8872=_0x4e40aa['url'];if(this['registry']&&this['registry']['prefix']&&!jn['test'](_0x3b8872)&&(_0x3b8872=this['registry']['prefix']+_0x3b8872),this['type']!=='script'&&_0x4e40aa['hash']){const _0x438083=_0x3b8872['indexOf']('?')!==-(0x2d0+0xf*0x11+-0x1e7*0x2)?'&':'?';_0x3b8872+=_0x438083+'t='+_0x4e40aa['hash'];}return _0x3b8872;}['getAbsolut'+'eUrl'](_0x4f6bf6){if(_0x4f6bf6['startsWith']('blob:')||_0x4f6bf6['startsWith']('data:'))return _0x4f6bf6;const _0x110eff=xe['getDirecto'+'ry'](this['file']['url']);return xe['join'](_0x110eff,_0x4f6bf6);}['getLocaliz'+'edAssetId'](_0x3b97d2){return _0x3b97d2=Fv(_0x3b97d2,this['_i18n']),this['_i18n'][_0x3b97d2]||null;}['addLocaliz'+'edAssetId'](_0x419879,_0x3763b6){this['_i18n'][_0x419879]=_0x3763b6,this['fire']('add:locali'+'zed',_0x419879,_0x3763b6);}['removeLoca'+'lizedAsset'+'Id'](_0x189071){const _0x1a6a33=this['_i18n'][_0x189071];_0x1a6a33&&(delete this['_i18n'][_0x189071],this['fire']('remove:loc'+'alized',_0x189071,_0x1a6a33));}['ready'](_0x1208d1,_0x3557c6){_0x3557c6=_0x3557c6||this,this['loaded']?_0x1208d1['call'](_0x3557c6,this):this['once']('load',_0x4a3bff=>{_0x1208d1['call'](_0x3557c6,_0x4a3bff);});}['reload'](){this['loaded']&&(this['loaded']=!(0x1dc3+0x1*-0x1df5+0x33),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===0x1*0xecc+-0x230a+-0xa1f*-0x2)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x1a8555=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(-0x2469*0x1+-0x13f9+0x3863),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x184416=0x969+0x800+0x1*-0x1169;_0x184416<_0x1a8555['length'];++_0x184416){const _0x14296e=_0x1a8555[_0x184416];_0x14296e&&_0x14296e['destroy']&&_0x14296e['destroy']();}}static['fetchArray'+'Buffer'](_0x2ffbd6,_0x156f8f,_0xef605c,_0x5d6b55=-0x25aa+0x1*-0xf2a+-0x126*-0x2e){var _0x5a242c;(_0x5a242c=_0xef605c==null?void(0x1*0x5ea+0x29*-0x35+-0x1*-0x293):_0xef605c['file'])!=null&&_0x5a242c['contents']?setTimeout(()=>{_0x156f8f(null,_0xef605c['file']['contents']);}):ot['get'](_0x2ffbd6,{'cache':!(0x21bb+-0x87c+-0x193f),'responseType':'arraybuffe'+'r','retry':_0x5d6b55>-0x6a*0x4a+0x3f*0x1+0x1e65,'maxRetries':_0x5d6b55},_0x156f8f);}}h(pe,'EVENT_LOAD','load'),h(pe,'EVENT_UNLO'+'AD','unload'),h(pe,'EVENT_REMO'+'VE','remove'),h(pe,'EVENT_ERRO'+'R','error'),h(pe,'EVENT_CHAN'+'GE','change'),h(pe,'EVENT_PROG'+'RESS','progress'),h(pe,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),h(pe,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class kC{constructor(_0x5d4ad9=null){h(this,'_index',{}),h(this,'_key'),this['_key']=_0x5d4ad9;}['addItem'](_0x444a77){const _0x1fd317=_0x444a77['tags']['_list'];for(const _0x183155 of _0x1fd317)this['add'](_0x183155,_0x444a77);}['removeItem'](_0x45afd6){const _0xb39d6b=_0x45afd6['tags']['_list'];for(const _0x1f69ad of _0xb39d6b)this['remove'](_0x1f69ad,_0x45afd6);}['add'](_0x16e5a9,_0x508de1){this['_index'][_0x16e5a9]&&this['_index'][_0x16e5a9]['list']['indexOf'](_0x508de1)!==-(-0xc17+0x1d1d+-0x1*0x1105)||(this['_index'][_0x16e5a9]||(this['_index'][_0x16e5a9]={'list':[]},this['_key']&&(this['_index'][_0x16e5a9]['keys']={})),this['_index'][_0x16e5a9]['list']['push'](_0x508de1),this['_key']&&(this['_index'][_0x16e5a9]['keys'][_0x508de1[this['_key']]]=_0x508de1));}['remove'](_0x1819c3,_0x406d68){if(!this['_index'][_0x1819c3]||this['_key']&&!this['_index'][_0x1819c3]['keys'][_0x406d68[this['_key']]])return;const _0x133b3f=this['_index'][_0x1819c3]['list']['indexOf'](_0x406d68);_0x133b3f!==-(-0x29*0x4b+-0x22f5+0x2ef9)&&(this['_index'][_0x1819c3]['list']['splice'](_0x133b3f,-0x39*-0x9f+0x1*0x8e9+-0x2c4f*0x1),this['_key']&&delete this['_index'][_0x1819c3]['keys'][_0x406d68[this['_key']]],this['_index'][_0x1819c3]['list']['length']===0x15d*0x3+0x946*0x2+0x131*-0x13&&delete this['_index'][_0x1819c3]);}['find'](_0xf77389){const _0x2ff1cd={},_0x40ef6f=[];let _0x16d57c,_0x228441,_0x530cdf,_0x16a84a,_0x172ca7;const _0x3d338e=(_0x4dee03,_0xcb7d14)=>this['_index'][_0x4dee03]['list']['length']-this['_index'][_0xcb7d14]['list']['length'];for(let _0x10fdcc=-0x14f6+-0xa2*-0x16+-0x1*-0x70a;_0x10fdcc<_0xf77389['length'];_0x10fdcc++){if(_0x228441=_0xf77389[_0x10fdcc],_0x228441 instanceof Array){if(_0x228441['length']===0x3f+-0xa2a+0x9eb)continue;if(_0x228441['length']===0x2cf+-0x16cd+-0x1*-0x13ff)_0x228441=_0x228441[-0x13ab+-0x17b8+0x2b63];else{_0x172ca7=!(-0xe87+0x1383+-0x5*0xff);for(let _0x327d3f=0xa65+-0x607*0x3+-0x10*-0x7b;_0x327d3f<_0x228441['length'];_0x327d3f++)if(!this['_index'][_0x228441[_0x327d3f]]){_0x172ca7=!(-0x1e9c+-0xaeb+0x2987*0x1);break;}if(_0x172ca7)continue;_0x530cdf=_0x228441['slice'](0x9f3*0x1+0x1f*0x9f+-0x1d34)['sort'](_0x3d338e),_0x16a84a=_0x530cdf['slice'](-0x4a2*-0x6+-0x1*0x679+0x1552*-0x1),_0x16a84a['length']===0x3*0x8b+-0x221f+0x3b*0x8d&&(_0x16a84a=_0x16a84a[0x3*0x1cd+-0x15c1+0x2e*0x5b]);for(let _0x1a4639=0xfd3+0x1066+-0x2039;_0x1a4639<this['_index'][_0x530cdf[-0xb8d+-0x1*0x1bbd+0x274a]]['list']['length'];_0x1a4639++)_0x16d57c=this['_index'][_0x530cdf[-0x145b+0x88*0x38+0x25*-0x41]]['list'][_0x1a4639],(this['_key']?!_0x2ff1cd[_0x16d57c[this['_key']]]:_0x40ef6f['indexOf'](_0x16d57c)===-(-0x12d4+0xa67+0x86e))&&_0x16d57c['tags']['has'](_0x16a84a)&&(this['_key']&&(_0x2ff1cd[_0x16d57c[this['_key']]]=!(0x773*-0x1+-0x97c+0x5a5*0x3)),_0x40ef6f['push'](_0x16d57c));continue;}}if(_0x228441&&typeof _0x228441=='string'&&this['_index'][_0x228441]){for(let _0x1a29c0=0x4*0x217+0x107*-0x11+0x25*0x3f;_0x1a29c0<this['_index'][_0x228441]['list']['length'];_0x1a29c0++)_0x16d57c=this['_index'][_0x228441]['list'][_0x1a29c0],this['_key']?_0x2ff1cd[_0x16d57c[this['_key']]]||(_0x2ff1cd[_0x16d57c[this['_key']]]=!(-0x1865+0x1*-0x1982+0x31e7),_0x40ef6f['push'](_0x16d57c)):_0x40ef6f['indexOf'](_0x16d57c)===-(-0xf46+0xc*0xd5+0x10f*0x5)&&_0x40ef6f['push'](_0x16d57c);}}return _0x40ef6f;}}class mn extends me{constructor(_0x456991){super(),h(this,'_assets',new Set()),h(this,'_loader'),h(this,'_idToAsset',new Map()),h(this,'_urlToAsse'+'t',new Map()),h(this,'_nameToAss'+'et',new Map()),h(this,'_tags',new kC('id')),h(this,'prefix',null),h(this,'bundles',null),this['_loader']=_0x456991;}['list'](_0x56f356={}){const _0x3a9869=Array['from'](this['_assets']);return _0x56f356['preload']!==void(-0x1f*0xc5+0x1fdc+0x2ab*-0x3)?_0x3a9869['filter'](_0x3332a4=>_0x3332a4['preload']===_0x56f356['preload']):_0x3a9869;}['add'](_0x360c10){var _0x3629a0,_0x59eefd;this['_assets']['has'](_0x360c10)||(this['_assets']['add'](_0x360c10),this['_idToAsset']['set'](_0x360c10['id'],_0x360c10),(_0x3629a0=_0x360c10['file'])!=null&&_0x3629a0['url']&&this['_urlToAsse'+'t']['set'](_0x360c10['file']['url'],_0x360c10),this['_nameToAss'+'et']['has'](_0x360c10['name'])||this['_nameToAss'+'et']['set'](_0x360c10['name'],new Set()),this['_nameToAss'+'et']['get'](_0x360c10['name'])['add'](_0x360c10),_0x360c10['on']('name',this['_onNameCha'+'nge'],this),_0x360c10['registry']=this,this['_tags']['addItem'](_0x360c10),_0x360c10['tags']['on']('add',this['_onTagAdd'],this),_0x360c10['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x360c10),this['fire']('add:'+_0x360c10['id'],_0x360c10),(_0x59eefd=_0x360c10['file'])!=null&&_0x59eefd['url']&&this['fire']('add:url:'+_0x360c10['file']['url'],_0x360c10),_0x360c10['preload']&&this['load'](_0x360c10));}['remove'](_0x46dc01){var _0x211757,_0x295e34;if(!this['_assets']['has'](_0x46dc01))return!(-0x2506+-0x10*0x13e+0x38e7);if(this['_assets']['delete'](_0x46dc01),this['_idToAsset']['delete'](_0x46dc01['id']),(_0x211757=_0x46dc01['file'])!=null&&_0x211757['url']&&this['_urlToAsse'+'t']['delete'](_0x46dc01['file']['url']),_0x46dc01['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x46dc01['name'])){const _0x5739a4=this['_nameToAss'+'et']['get'](_0x46dc01['name']);_0x5739a4['delete'](_0x46dc01),_0x5739a4['size']===-0x87+0x1*0x77+0x10&&this['_nameToAss'+'et']['delete'](_0x46dc01['name']);}return this['_tags']['removeItem'](_0x46dc01),_0x46dc01['tags']['off']('add',this['_onTagAdd'],this),_0x46dc01['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x46dc01['fire']('remove',_0x46dc01),this['fire']('remove',_0x46dc01),this['fire']('remove:'+_0x46dc01['id'],_0x46dc01),(_0x295e34=_0x46dc01['file'])!=null&&_0x295e34['url']&&this['fire']('remove:url'+':'+_0x46dc01['file']['url'],_0x46dc01),!(0x120f+-0x2c*0x7c+-0x341*-0x1);}['get'](_0x545d6f){return this['_idToAsset']['get'](Number(_0x545d6f));}['getByUrl'](_0x141cce){return this['_urlToAsse'+'t']['get'](_0x141cce);}['load'](_0x4d980c,_0x31ca1c){if((_0x4d980c['loading']||_0x4d980c['loaded'])&&!(_0x31ca1c!=null&&_0x31ca1c['force']))return;const _0x1de819=_0x4d980c['file'],_0x47af55=()=>{this['fire']('load',_0x4d980c),this['fire']('load:'+_0x4d980c['id'],_0x4d980c),_0x1de819&&_0x1de819['url']&&this['fire']('load:url:'+_0x1de819['url'],_0x4d980c),_0x4d980c['fire']('load',_0x4d980c);},_0x55aaa0=_0x23493d=>{if(_0x23493d instanceof Array?_0x4d980c['resources']=_0x23493d:_0x4d980c['resource']=_0x23493d,this['_loader']['patch'](_0x4d980c,this),_0x4d980c['type']==='bundle'){const _0x5aa20e=_0x4d980c['data']['assets'];for(let _0x4f4fe8=0x1fb5*0x1+-0x1728+-0x88d;_0x4f4fe8<_0x5aa20e['length'];_0x4f4fe8++){const _0x5775b0=this['_idToAsset']['get'](_0x5aa20e[_0x4f4fe8]);_0x5775b0&&!_0x5775b0['loaded']&&this['load'](_0x5775b0,{'force':!(-0x4*0x675+-0x153f+0x2f13)});}_0x4d980c['resource']['loaded']?_0x47af55():(this['fire']('load:start',_0x4d980c),this['fire']('load:start'+':'+_0x4d980c['id'],_0x4d980c),_0x1de819&&_0x1de819['url']&&this['fire']('load:start'+':url:'+_0x1de819['url'],_0x4d980c),_0x4d980c['fire']('load:start',_0x4d980c),_0x4d980c['resource']['on']('load',_0x47af55));}else _0x47af55();},_0x29e381=(_0x1666e1,_0x47662c,_0x56cc16)=>{if(_0x4d980c['loaded']=!(0x23f*0xf+-0x10d3+0x22*-0x7f),_0x4d980c['loading']=!(0x19ea+-0xaeb+-0x13*0xca),_0x1666e1)this['fire']('error',_0x1666e1,_0x4d980c),this['fire']('error:'+_0x4d980c['id'],_0x1666e1,_0x4d980c),_0x4d980c['fire']('error',_0x1666e1,_0x4d980c);else{if(_0x4d980c['type']==='script'){const _0x15316c=this['_loader']['getHandler']('script');_0x15316c['_cache'][_0x4d980c['id']]&&_0x15316c['_cache'][_0x4d980c['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x15316c['_cache'][_0x4d980c['id']]),_0x15316c['_cache'][_0x4d980c['id']]=_0x56cc16;}_0x55aaa0(_0x47662c);}};if(_0x1de819||_0x4d980c['type']==='cubemap'){this['fire']('load:start',_0x4d980c),this['fire']('load:'+_0x4d980c['id']+':start',_0x4d980c),_0x4d980c['loading']=!(-0xb61*0x1+-0x1*-0x13db+-0x87a);const _0x188856=_0x4d980c['getFileUrl']();if(_0x4d980c['type']==='bundle'){const _0xc65438=_0x4d980c['data']['assets'];for(let _0x277c31=-0x1*0x2b6+-0x8d*0x1c+0x911*0x2;_0x277c31<_0xc65438['length'];_0x277c31++){const _0x50d151=this['_idToAsset']['get'](_0xc65438[_0x277c31]);_0x50d151&&(_0x50d151['loaded']||_0x50d151['resource']||_0x50d151['loading']||(_0x50d151['loading']=!(0x1*0x54a+-0xbfb*0x2+0x956*0x2)));}}this['_loader']['load'](_0x188856,_0x4d980c['type'],_0x29e381,_0x4d980c,_0x31ca1c);}else{const _0x3c66ab=this['_loader']['open'](_0x4d980c['type'],_0x4d980c['data']);_0x4d980c['loaded']=!(-0x1014+-0x673+0x1*0x1687),_0x55aaa0(_0x3c66ab);}}['reloadInde'+'x'](_0x840d8f,_0x472580,_0x5163b8){const _0x4bd9d5=(_0x529257,_0x17e9e6,_0x24e2ff)=>{_0x472580['loaded']=!(-0x177f+0x58a*0x7+-0xf47),_0x472580['loading']=!(-0x76*-0x54+-0xb*0x67+-0x224a);};return this['_loader']['load'](_0x840d8f,_0x472580['type'],_0x4bd9d5,_0x472580,_0x5163b8),_0x472580;}['loadFromUr'+'l'](_0x47f8d6,_0x2efe2e,_0x59d62c){this['loadFromUr'+'lAndFilena'+'me'](_0x47f8d6,null,_0x2efe2e,_0x59d62c);}['loadFromUr'+'lAndFilena'+'me'](_0x1e75c0,_0x228d95,_0x29a0e9,_0x4d55ad){const _0x3368f5=xe['getBasenam'+'e'](_0x228d95||_0x1e75c0),_0x5aff1e={'filename':_0x228d95||_0x3368f5,'url':_0x1e75c0};let _0x48156e=this['getByUrl'](_0x1e75c0);if(!_0x48156e)_0x48156e=new pe(_0x3368f5,_0x29a0e9,_0x5aff1e),this['add'](_0x48156e);else{if(_0x48156e['loaded']){_0x4d55ad(_0x48156e['loadFromUr'+'lError']||null,_0x48156e);return;}}const _0x1f1206=_0x281114=>{_0x281114['once']('load',_0x5deded=>{_0x29a0e9==='material'?this['_loadTextu'+'res'](_0x5deded,(_0x57e95b,_0x53426f)=>{_0x4d55ad(_0x57e95b,_0x5deded);}):_0x4d55ad(null,_0x5deded);}),_0x281114['once']('error',_0x45b51d=>{_0x45b51d&&(this['loadFromUr'+'lError']=_0x45b51d),_0x4d55ad(_0x45b51d,_0x281114);}),this['load'](_0x281114);};_0x48156e['resource']?_0x4d55ad(null,_0x48156e):_0x29a0e9==='model'?this['_loadModel'](_0x48156e,_0x1f1206):_0x1f1206(_0x48156e);}['_loadModel'](_0x4fcfe2,_0x4b9d19){const _0x2dfede=_0x4fcfe2['getFileUrl'](),_0x349988=xe['getExtensi'+'on'](_0x2dfede);if(_0x349988==='.json'||_0x349988==='.glb'){const _0x524659=xe['getDirecto'+'ry'](_0x2dfede),_0x8383c5=xe['getBasenam'+'e'](_0x2dfede),_0x64a6d6=xe['join'](_0x524659,_0x8383c5['replace'](_0x349988,'.mapping.j'+'son'));this['_loader']['load'](_0x64a6d6,'json',(_0x5c1527,_0x59ad5)=>{_0x5c1527?(_0x4fcfe2['data']={'mapping':[]},_0x4b9d19(_0x4fcfe2)):this['_loadMater'+'ials'](_0x4fcfe2,_0x59ad5,(_0x29e531,_0x2ff2b0)=>{_0x4fcfe2['data']=_0x59ad5,_0x4b9d19(_0x4fcfe2);});});}else _0x4b9d19(_0x4fcfe2);}['_loadMater'+'ials'](_0x42951c,_0x273659,_0x3ec3f7){const _0x4628d1=[];let _0x58bd5b=-0x9a3+0x603+0x3a0;const _0x2ebb1c=(_0x413855,_0x31db53)=>{this['_loadTextu'+'res'](_0x31db53,(_0x402cb1,_0x31d0c3)=>{_0x4628d1['push'](_0x31db53),_0x4628d1['length']===_0x58bd5b&&_0x3ec3f7(null,_0x4628d1);});};for(let _0x39751d=0x2*0x2a5+-0x24df+0x181*0x15;_0x39751d<_0x273659['mapping']['length'];_0x39751d++){const _0x282a9a=_0x273659['mapping'][_0x39751d]['path'];if(_0x282a9a){_0x58bd5b++;const _0x179d69=_0x42951c['getAbsolut'+'eUrl'](_0x282a9a);this['loadFromUr'+'l'](_0x179d69,'material',_0x2ebb1c);}}_0x58bd5b===-0x2d+-0x1b19+0x1b46&&_0x3ec3f7(null,_0x4628d1);}['_loadTextu'+'res'](_0x298182,_0x1d9cf7){const _0x2b5136=[];let _0x2ffba3=-0x2005+-0x4*-0x42d+0xf51;const _0x59c019=_0x298182['data'];if(_0x59c019['mappingFor'+'mat']!=='path'){w['warn']('Skipping:\x20'+_0x298182['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0x1d9cf7(null,_0x2b5136);return;}const _0x14df2c=(_0x1d5373,_0x47284f)=>{_0x1d5373&&console['error'](_0x1d5373),_0x2b5136['push'](_0x47284f),_0x2b5136['length']===_0x2ffba3&&_0x1d9cf7(null,_0x2b5136);},_0x47ec49=Cd;for(let _0x12348e=0x65*0x13+0x1773+-0x1ef2;_0x12348e<_0x47ec49['length'];_0x12348e++){const _0x52a00c=_0x59c019[_0x47ec49[_0x12348e]];if(_0x52a00c&&typeof _0x52a00c=='string'){_0x2ffba3++;const _0x2130eb=_0x298182['getAbsolut'+'eUrl'](_0x52a00c);this['loadFromUr'+'l'](_0x2130eb,'texture',_0x14df2c);}}_0x2ffba3===-0x2553+0x1*0xe3b+-0x8*-0x2e3&&_0x1d9cf7(null,_0x2b5136);}['_onTagAdd'](_0x902e0e,_0x5d0db1){this['_tags']['add'](_0x902e0e,_0x5d0db1);}['_onTagRemo'+'ve'](_0x4dc7b1,_0x25c6cd){this['_tags']['remove'](_0x4dc7b1,_0x25c6cd);}['_onNameCha'+'nge'](_0xaf0087,_0x414564,_0x2236a8){if(this['_nameToAss'+'et']['has'](_0x2236a8)){const _0x313a5b=this['_nameToAss'+'et']['get'](_0x2236a8);_0x313a5b['delete'](_0xaf0087),_0x313a5b['size']===-0xcea+0x114a+0x230*-0x2&&this['_nameToAss'+'et']['delete'](_0x2236a8);}this['_nameToAss'+'et']['has'](_0xaf0087['name'])||this['_nameToAss'+'et']['set'](_0xaf0087['name'],new Set()),this['_nameToAss'+'et']['get'](_0xaf0087['name'])['add'](_0xaf0087);}['findByTag'](..._0x1dda35){return this['_tags']['find'](_0x1dda35);}['filter'](_0x3e82ab){return Array['from'](this['_assets'])['filter'](_0x40b202=>_0x3e82ab(_0x40b202));}['find'](_0x88bd6f,_0x5ce4f5){const _0x504bae=this['_nameToAss'+'et']['get'](_0x88bd6f);if(!_0x504bae)return null;for(const _0x5876f2 of _0x504bae)if(!_0x5ce4f5||_0x5876f2['type']===_0x5ce4f5)return _0x5876f2;return null;}['findAll'](_0x11d4e0,_0x27e4af){const _0x4d92e4=this['_nameToAss'+'et']['get'](_0x11d4e0);if(!_0x4d92e4)return[];const _0x29bf36=Array['from'](_0x4d92e4);return _0x27e4af?_0x29bf36['filter'](_0x1eda11=>_0x1eda11['type']===_0x27e4af):_0x29bf36;}}h(mn,'EVENT_LOAD','load'),h(mn,'EVENT_ADD','add'),h(mn,'EVENT_REMO'+'VE','remove'),h(mn,'EVENT_ERRO'+'R','error');class UC{constructor(_0x3c8888){h(this,'_idToBundl'+'e',new Map()),h(this,'_assetToBu'+'ndles',new Map()),h(this,'_urlsToBun'+'dles',new Map()),h(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0x3c8888,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x2c99ee){if(_0x2c99ee['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x2c99ee['id'],_0x2c99ee),this['_assets']['on']('load:start'+':'+_0x2c99ee['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x2c99ee['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x2c99ee['id'],this['_onBundleE'+'rror'],this);const _0x46e87e=_0x2c99ee['data']['assets'];for(let _0x580389=-0x17b*0xb+-0x4dd*-0x7+0x2*-0x8e1;_0x580389<_0x46e87e['length'];_0x580389++)this['_indexAsse'+'tInBundle'](_0x46e87e[_0x580389],_0x2c99ee);}else this['_assetToBu'+'ndles']['has'](_0x2c99ee['id'])&&this['_indexAsse'+'tFileUrls'](_0x2c99ee);}['_unbindAss'+'etEvents'](_0x567241){this['_assets']['off']('load:start'+':'+_0x567241,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x567241,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x567241,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x1e7a43,_0x18640d){let _0x5dbc09=this['_assetToBu'+'ndles']['get'](_0x1e7a43);_0x5dbc09||(_0x5dbc09=new Set(),this['_assetToBu'+'ndles']['set'](_0x1e7a43,_0x5dbc09)),_0x5dbc09['add'](_0x18640d);const _0x4e4377=this['_assets']['get'](_0x1e7a43);_0x4e4377&&this['_indexAsse'+'tFileUrls'](_0x4e4377);}['_indexAsse'+'tFileUrls'](_0x1b0568){const _0x27f61a=this['_getAssetF'+'ileUrls'](_0x1b0568);if(_0x27f61a)for(let _0x34ce31=0x1aea+-0x3c+-0x1aae;_0x34ce31<_0x27f61a['length'];_0x34ce31++){const _0x3834ef=this['_assetToBu'+'ndles']['get'](_0x1b0568['id']);_0x3834ef&&this['_urlsToBun'+'dles']['set'](_0x27f61a[_0x34ce31],_0x3834ef);}}['_getAssetF'+'ileUrls'](_0x53ac36){let _0x25232f=_0x53ac36['getFileUrl']();if(!_0x25232f)return null;_0x25232f=_0x25232f['split']('?')[0x377*-0x8+-0x13d1+-0x1*-0x2f89];const _0xb32789=[_0x25232f];if(_0x53ac36['type']==='font'){const _0x8cf5b5=_0x53ac36['data']['info']['maps']['length'];for(let _0x5f3222=-0x2*0xba2+0x1d5*-0xe+-0x1*-0x30eb;_0x5f3222<_0x8cf5b5;_0x5f3222++)_0xb32789['push'](_0x25232f['replace']('.png',_0x5f3222+'.png'));}return _0xb32789;}['_onAssetRe'+'move'](_0x4ceac9){if(_0x4ceac9['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x4ceac9['id']),this['_unbindAss'+'etEvents'](_0x4ceac9['id']);const _0x4fd0ba=_0x4ceac9['data']['assets'];for(let _0x1267c9=0x2289*-0x1+-0x9c7+0x1628*0x2;_0x1267c9<_0x4fd0ba['length'];_0x1267c9++){const _0xe8937a=this['_assetToBu'+'ndles']['get'](_0x4fd0ba[_0x1267c9]);if(_0xe8937a&&(_0xe8937a['delete'](_0x4ceac9),_0xe8937a['size']===0x116f*0x1+-0x232c+-0x13*-0xef)){this['_assetToBu'+'ndles']['delete'](_0x4fd0ba[_0x1267c9]);for(const [_0x706230,_0x28b44b]of this['_urlsToBun'+'dles'])_0x28b44b===_0xe8937a&&this['_urlsToBun'+'dles']['delete'](_0x706230);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x4ceac9['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x4ceac9['id']))return;this['_assetToBu'+'ndles']['delete'](_0x4ceac9['id']);const _0x35885d=this['_getAssetF'+'ileUrls'](_0x4ceac9);if(!_0x35885d)return;for(let _0x1d11d8=0x212*0x3+0x7*0x2c3+-0x198b;_0x1d11d8<_0x35885d['length'];_0x1d11d8++)this['_urlsToBun'+'dles']['delete'](_0x35885d[_0x1d11d8]);}}['_onBundleL'+'oadStart'](_0x354ce1){_0x354ce1['resource']['on']('add',(_0x4ab142,_0x534014)=>{const _0x14e4cb=this['_fileReque'+'sts']['get'](_0x4ab142);if(_0x14e4cb){for(let _0x5b0abf=-0xa4c+0x1e48+-0x13fc;_0x5b0abf<_0x14e4cb['length'];_0x5b0abf++)_0x14e4cb[_0x5b0abf](null,_0x534014);this['_fileReque'+'sts']['delete'](_0x4ab142);}});}['_onBundleL'+'oad'](_0x2ad0ee){if(!_0x2ad0ee['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x2ad0ee['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0x197ee0,_0x22918c]of this['_fileReque'+'sts']){const _0x117351=this['_urlsToBun'+'dles']['get'](_0x197ee0);if(!_0x117351||!_0x117351['has'](_0x2ad0ee))continue;const _0x109aa6=decodeURIComponent(_0x197ee0);let _0x66ce23,_0xafec96;if(_0x2ad0ee['resource']['has'](_0x109aa6))_0xafec96=_0x2ad0ee['resource']['get'](_0x109aa6);else{if(_0x2ad0ee['resource']['loaded'])_0x66ce23='Bundle\x20'+_0x2ad0ee['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x197ee0;else continue;}for(let _0x5e75ff=0x4a6+0x2d1*-0x4+-0x34f*-0x2;_0x5e75ff<_0x22918c['length'];_0x5e75ff++)_0x22918c[_0x5e75ff](_0x66ce23,_0x66ce23||_0xafec96);this['_fileReque'+'sts']['delete'](_0x197ee0);}}['_onBundleE'+'rror'](_0x5264d0){for(const [_0x5020b9,_0xb1a8de]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x5020b9)){for(let _0x39154e=-0x2580+-0x2f*0x3a+0x1813*0x2;_0x39154e<_0xb1a8de['length'];_0x39154e++)_0xb1a8de[_0x39154e](_0x5264d0);this['_fileReque'+'sts']['delete'](_0x5020b9);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x12d388){const _0x2b0e12=this['_urlsToBun'+'dles']['get'](_0x12d388);if(!_0x2b0e12)return null;let _0x13cdcf=null;for(const _0x28edbe of _0x2b0e12){if(_0x28edbe['loaded']&&_0x28edbe['resource'])return _0x28edbe;_0x28edbe['loading']&&(_0x13cdcf=_0x28edbe);}return _0x13cdcf;}['listBundle'+'sForAsset'](_0x1bc62a){const _0x4ab76a=this['_assetToBu'+'ndles']['get'](_0x1bc62a['id']);return _0x4ab76a?Array['from'](_0x4ab76a):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x5944e0){return this['_urlsToBun'+'dles']['has'](_0x5944e0);}['urlIsLoade'+'dOrLoading'](_0x17ee4c){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x17ee4c);}['loadUrl'](_0x381185,_0x82ced1){const _0x473d82=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x381185);if(!_0x473d82){_0x82ced1('URL\x20'+_0x381185+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x473d82['loaded']){const _0x4537f=decodeURIComponent(_0x381185);if(_0x473d82['resource']['has'](_0x4537f)){_0x82ced1(null,_0x473d82['resource']['get'](_0x4537f));return;}else{if(_0x473d82['resource']['loaded']){_0x82ced1('Bundle\x20'+_0x473d82['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x381185);return;}}}let _0x1f2716=this['_fileReque'+'sts']['get'](_0x381185);_0x1f2716||(_0x1f2716=[],this['_fileReque'+'sts']['set'](_0x381185,_0x1f2716)),_0x1f2716['push'](_0x82ced1);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x5cbb5e of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x5cbb5e);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class BC extends me{constructor(){super(),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'joint'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'zone'),this['list']=[];}['add'](_0x4a9b4f){const _0x24afc1=_0x4a9b4f['id'];if(this[_0x24afc1])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x24afc1+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x24afc1]=_0x4a9b4f,this['list']['push'](_0x4a9b4f);}['remove'](_0x535423){const _0x1b268f=_0x535423['id'];if(!this[_0x1b268f])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0x1b268f+('\x27\x20register'+'ed'));delete this[_0x1b268f];const _0x64088f=this['list']['indexOf'](this[_0x1b268f]);_0x64088f!==-(0x4*0x56b+-0x1e53*-0x1+0x25d*-0x16)&&this['list']['splice'](_0x64088f,-0x11c*0x3+-0x1981+0x1cd6);}['destroy'](){this['off']();for(let _0x57d66b=0xb7*0x2f+0x78b+-0x4*0xa49;_0x57d66b<this['list']['length'];_0x57d66b++)this['list'][_0x57d66b]['destroy']();}}class gu extends me{constructor(){super(...arguments),h(this,'_index',new Map()),h(this,'_loaded',!(-0x3d*-0x52+-0xb66*0x1+-0x1*0x823));}['addFile'](_0x566c96,_0x346901){this['_index']['has'](_0x566c96)||(this['_index']['set'](_0x566c96,_0x346901),this['fire']('add',_0x566c96,_0x346901));}['has'](_0xc8fb88){return this['_index']['has'](_0xc8fb88);}['get'](_0x828ae6){return this['_index']['get'](_0x828ae6)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x3a1e1c){!_0x3a1e1c||this['_loaded']||(this['_loaded']=!(-0x1*-0xc11+0x1*0x1485+-0x2096),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}h(gu,'EVENT_ADD','add'),h(gu,'EVENT_LOAD','load');class zC extends me{constructor(_0x5b052d,_0x6eb12e=''){super(),h(this,'headerSize',-0x25a4+0x12e+0x2676),h(this,'paddingSiz'+'e',0x1983+-0x1547*-0x1+-0x12*0x27d),h(this,'bytesRead',-0x1413*0x1+0x28b+0x1188),h(this,'bytesRecei'+'ved',-0xab4+-0x19cc+0x4*0x920),h(this,'headerRead',!(0x509*-0x5+-0x164a+-0x7*-0x6c8)),h(this,'reader',null),h(this,'data',new Uint8Array(-0x1330*-0x1+0x1805+-0x9*0x4cd)),h(this,'decoder',null),h(this,'prefix',''),h(this,'fileName',''),h(this,'fileSize',-0x1*-0x5ea+-0x3e*-0x11+0x3*-0x358),h(this,'fileType',''),h(this,'ustarForma'+'t',''),(this['prefix']=_0x6eb12e||'',this['reader']=_0x5b052d['body']['getReader'](),this['reader']['read']()['then'](_0x566bca=>{this['pump'](_0x566bca['done'],_0x566bca['value']);})['catch'](_0x50c69=>{this['fire']('error',_0x50c69);}));}['pump'](_0x192712,_0x597970){if(_0x192712)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x597970['byteLength'];const _0x22e753=new Uint8Array(this['data']['length']+_0x597970['length']);for(_0x22e753['set'](this['data']),_0x22e753['set'](_0x597970,this['data']['length']),this['data']=_0x22e753;this['readFile'](););return this['reader']['read']()['then'](_0x222af4=>{this['pump'](_0x222af4['done'],_0x222af4['value']);})['catch'](_0x5db087=>{this['fire']('error',_0x5db087);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(-0x7*0x43f+0x17a8+0x611);const _0x5db35f=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x30219d=this['decoder']['decode'](_0x5db35f);if(this['fileName']=_0x30219d['substring'](0x1*0x162a+0x15d*0x17+-0x3585*0x1,-0x212d+0x220+-0x1*-0x1f71)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x30219d['substring'](-0xa*0x5a+0x31*-0x98+0x2118,-0x5df*0x4+-0xe82+0x2686*0x1),0x1*-0x56+0x2*-0x1066+0x236*0xf),this['fileType']=_0x30219d['substring'](0xf05+0xb*-0x41+0x1*-0xb9e,-0xb20+0x5*-0x2b6+0x194b),this['ustarForma'+'t']=_0x30219d['substring'](-0x1109+0x15c9+-0x3bf,0x2428+0x903+-0x2c24),this['ustarForma'+'t']['indexOf']('ustar')!==-(-0x2*-0x8e9+0x8b*0x7+0xacf*-0x2)){const _0x2b9cea=_0x30219d['substring'](-0xc6e+0x1*0x121d+0xa*-0x6f,-0x163e+0xaee+0xd44)['replace'](/\0/g,'');_0x2b9cea['length']>0x264+-0x2*-0xa9b+-0x179a&&(this['fileName']=_0x2b9cea['trim']()+this['fileName']['trim']());}this['bytesRead']+=-0x221c+-0x1dd4+0x28*0x1a6;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(-0x1872+-0xe2b+-0x269e*-0x1);if(this['fileType']===''||this['fileType']==='0'){const _0x3d0059=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x480d92={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x3d0059};this['fire']('file',_0x480d92);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(0x1*-0x607+0x434*0x8+-0x1b98);const _0x1c2d6e=this['bytesRead']%this['paddingSiz'+'e'];return _0x1c2d6e!==-0xb*-0x74+0x2180+0x4*-0x99f&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x1c2d6e),!(0x115f+-0x99f+0x10*-0x7c);}return!(0x205a+0x1c7f*-0x1+0x1ed*-0x2);}}class Qe{constructor(_0x12e46b,_0x23a650){h(this,'handlerTyp'+'e',''),h(this,'_app'),h(this,'_maxRetrie'+'s',0x14*0x1e0+0x2176*0x1+-0x237b*0x2),(this['_app']=_0x12e46b,this['handlerTyp'+'e']=_0x23a650);}set['maxRetries'](_0x1e95dd){this['_maxRetrie'+'s']=_0x1e95dd;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x4a8fce,_0xb6999d,_0x4d2d8e){}['open'](_0x23fd80,_0x7567e1,_0x39bd97){return _0x7567e1;}['patch'](_0x37bf8b,_0x10c053){}}class VC extends Qe{constructor(_0x40e9bf){super(_0x40e9bf,'bundle'),this['_assets']=_0x40e9bf['assets'];}['_fetchRetr'+'ies'](_0x2a64cd,_0x1a903a,_0x2cc862=0x19f8+-0xdb2+-0xc46){return new Promise((_0x8bfcfb,_0x479177)=>{const _0x597d35=()=>{fetch(_0x2a64cd,_0x1a903a)['then'](_0x8bfcfb)['catch'](_0x4c236a=>{_0x2cc862++,_0x2cc862<this['maxRetries']?(w['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x2cc862),_0x597d35()):_0x479177(_0x4c236a);});};_0x597d35();});}['load'](_0x2b5748,_0x3b5568){typeof _0x2b5748=='string'&&(_0x2b5748={'load':_0x2b5748,'original':_0x2b5748}),this['_fetchRetr'+'ies'](_0x2b5748['load'],{'mode':'cors'},this['maxRetries'])['then'](_0x2d8966=>{const _0x48b693=new gu();_0x3b5568(null,_0x48b693);const _0x41fd19=new zC(_0x2d8966,this['_assets']['prefix']);_0x41fd19['on']('file',_0x590e93=>{_0x48b693['addFile'](_0x590e93['name'],_0x590e93['data']);}),_0x41fd19['on']('done',()=>{_0x48b693['loaded']=!(0x56*0x14+-0x1a*0x4d+0x3*0x5e);}),_0x41fd19['on']('error',_0x5205d4=>{w['error'](_0x5205d4),_0x3b5568(_0x5205d4);});})['catch'](_0x3fd0db=>{w['error'](_0x3fd0db),_0x3b5568(_0x3fd0db);});}['open'](_0x221d6e,_0x21861a){return _0x21861a;}}class Cn{constructor(_0xa4cec5){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0xa4cec5;}['addHandler'](_0x7e552,_0x3a4661){this['_handlers'][_0x7e552]=_0x3a4661,_0x3a4661['_loader']=this;}['removeHand'+'ler'](_0x496c39){delete this['_handlers'][_0x496c39];}['getHandler'](_0x46bb7a){return this['_handlers'][_0x46bb7a];}static['makeKey'](_0x567ae1,_0x3ef8bf){return _0x567ae1+'-'+_0x3ef8bf;}['load'](_0x41bb39,_0xd9185c,_0x79128e,_0x1b1c30,_0x2bd3f3){var _0x149314;const _0x4669e9=this['_handlers'][_0xd9185c];if(!_0x4669e9){const _0x51019d='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0xd9185c+('\x27\x20when\x20loa'+'ding\x20[')+_0x41bb39+']';w['errorOnce'](_0x51019d),_0x79128e(_0x51019d);return;}if(!_0x41bb39){this['_loadNull'](_0x4669e9,_0x79128e,_0x1b1c30);return;}const _0x259d2e=Cn['makeKey'](_0x41bb39,_0xd9185c);if(this['_requests'][_0x259d2e])this['_requests'][_0x259d2e]['push'](_0x79128e);else{this['_requests'][_0x259d2e]=[_0x79128e];const _0x5a7f09=this,_0x2c495a=function(_0x524199,_0xf732ba){if(_0x524199){_0x5a7f09['_onFailure'](_0x259d2e,_0x524199);return;}if(_0xf732ba['load']instanceof DataView){if(_0x4669e9['openBinary']){if(!_0x5a7f09['_requests'][_0x259d2e])return;try{const _0x4f5a1c=_0x4669e9['openBinary'](_0xf732ba['load']);_0x5a7f09['_onSuccess'](_0x259d2e,_0x4f5a1c);}catch(_0x1cbf32){_0x5a7f09['_onFailure'](_0x259d2e,_0x1cbf32);}return;}_0xf732ba['load']=URL['createObje'+'ctURL'](new Blob([_0xf732ba['load']])),_0x1b1c30&&(_0x1b1c30['urlObject']&&URL['revokeObje'+'ctURL'](_0x1b1c30['urlObject']),_0x1b1c30['urlObject']=_0xf732ba['load']);}_0x4669e9['load'](_0xf732ba,(_0x3645a9,_0x5758db,_0x5b8416)=>{if(_0x5a7f09['_requests'][_0x259d2e]){if(_0x3645a9){_0x5a7f09['_onFailure'](_0x259d2e,_0x3645a9);return;}try{_0x5a7f09['_onSuccess'](_0x259d2e,_0x4669e9['open'](_0xf732ba['original'],_0x5758db,_0x1b1c30),_0x5b8416);}catch(_0x4a8f60){_0x5a7f09['_onFailure'](_0x259d2e,_0x4a8f60);}}},_0x1b1c30);},_0x52e9c9=_0x41bb39['split']('?')[-0x18eb+-0x2526+-0x1*-0x3e11];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x52e9c9)&&!(_0x2bd3f3&&_0x2bd3f3['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x52e9c9)){const _0x67b5f4=this['_app']['bundles']['listBundle'+'sForAsset'](_0x1b1c30);let _0xbdf6d8;_0x2bd3f3&&_0x2bd3f3['bundlesFil'+'ter']&&(_0xbdf6d8=_0x2bd3f3['bundlesFil'+'ter'](_0x67b5f4)),_0xbdf6d8||(_0x67b5f4==null||_0x67b5f4['sort']((_0x240ed5,_0x8cad74)=>_0x240ed5['file']['size']-_0x8cad74['file']['size']),_0xbdf6d8=_0x67b5f4==null?void(-0x75*-0xd+0x6*-0xe4+0x1*-0x99):_0x67b5f4[0x1*-0xc7+-0x1bd0+0x1c97]),_0xbdf6d8&&((_0x149314=this['_app']['assets'])==null||_0x149314['load'](_0xbdf6d8));}this['_app']['bundles']['loadUrl'](_0x52e9c9,(_0x350564,_0x5ed037)=>{_0x2c495a(_0x350564,{'load':_0x5ed037,'original':_0x52e9c9});});}else _0x2c495a(null,{'load':_0x41bb39,'original':_0x1b1c30&&_0x1b1c30['file']['filename']||_0x41bb39});}}['_loadNull'](_0x2c2dbd,_0x2281ba,_0x16dfa){const _0x360039=function(_0x3c284d,_0x3b7473,_0x5af29b){if(_0x3c284d)_0x2281ba(_0x3c284d);else try{_0x2281ba(null,_0x2c2dbd['open'](null,_0x3b7473,_0x16dfa),_0x5af29b);}catch(_0x2a01b0){_0x2281ba(_0x2a01b0);}};_0x2c2dbd['load'](null,_0x360039,_0x16dfa);}['_onSuccess'](_0x10307d,_0x43443c,_0x48e2d1){for(let _0x40043d=-0x2152+0x1ffa+0x158;_0x40043d<this['_requests'][_0x10307d]['length'];_0x40043d++)this['_requests'][_0x10307d][_0x40043d](null,_0x43443c,_0x48e2d1);delete this['_requests'][_0x10307d];}['_onFailure'](_0x1e8cfa,_0xd9f38a){if(console['error'](_0xd9f38a),this['_requests'][_0x1e8cfa]){for(let _0x3ed3c8=0x16ea+0x16*-0x19a+0xc52;_0x3ed3c8<this['_requests'][_0x1e8cfa]['length'];_0x3ed3c8++)this['_requests'][_0x1e8cfa][_0x3ed3c8](_0xd9f38a);delete this['_requests'][_0x1e8cfa];}}['open'](_0x1ab373,_0x2a4cd1){const _0x543df1=this['_handlers'][_0x1ab373];return _0x543df1?_0x543df1['open'](null,_0x2a4cd1):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x1ab373),_0x2a4cd1);}['patch'](_0xc818dc,_0xb80439){const _0x33c438=this['_handlers'][_0xc818dc['type']];if(!_0x33c438){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0xc818dc['type']);return;}_0x33c438['patch']&&_0x33c438['patch'](_0xc818dc,_0xb80439);}['clearCache'](_0x3dacc4,_0x5e4e64){const _0xb55808=Cn['makeKey'](_0x3dacc4,_0x5e4e64);delete this['_cache'][_0xb55808];}['getFromCac'+'he'](_0x475ae1,_0x4f9a18){const _0x4b6a01=Cn['makeKey'](_0x475ae1,_0x4f9a18);if(this['_cache'][_0x4b6a01])return this['_cache'][_0x4b6a01];}['enableRetr'+'y'](_0x3b4936=-0x2*0x798+-0x1724+0x2659){_0x3b4936=Math['max'](0xad*-0x8+0xe8f+-0x927,_0x3b4936)||0x8b*0x44+-0x1879*0x1+-0xc73;for(const _0x57f991 in this['_handlers'])this['_handlers'][_0x57f991]['maxRetries']=_0x3b4936;}['disableRet'+'ry'](){for(const _0x2c936e in this['_handlers'])this['_handlers'][_0x2c936e]['maxRetries']=0x1*-0x1e83+0x293*-0x4+0x28cf;}['destroyReq'+'uests'](){this['_requests']={};}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class GC{['_validate'](_0x2790b4){if(!_0x2790b4['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0x2790b4['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0x2790b4['header']['version']!==-0x2243+-0xa17+0x2c5b)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0x2790b4['data']){if(!Array['isArray'](_0x2790b4['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x14aaa4=-0x1*0x14d1+-0x2*0x1251+0xbf*0x4d,_0x83d468=_0x2790b4['data']['length'];_0x14aaa4<_0x83d468;_0x14aaa4++){const _0x1b5152=_0x2790b4['data'][_0x14aaa4];if(!_0x1b5152['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x14aaa4+('].info\x22\x20fi'+'eld'));if(!_0x1b5152['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x14aaa4+('].info.loc'+'ale\x22\x20field'));if(typeof _0x1b5152['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x14aaa4+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x1b5152['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x14aaa4+('].messages'+'\x22\x20field'));}}['parse'](_0x172bad){return this['_validate'](_0x172bad),_0x172bad['data'];}}const Gh=class Gh extends me{constructor(_0x6f6efc){super(),this['locale']=Ph,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x6f6efc,this['_assets']=[],this['_parser']=new GC();}set['assets'](_0x27c332){const _0x388f6a={};for(let _0x3f3cd8=0x18b8+0x16a7+0x2f5f*-0x1,_0x3ff80c=_0x27c332['length'];_0x3f3cd8<_0x3ff80c;_0x3f3cd8++){const _0x22acee=_0x27c332[_0x3f3cd8]instanceof pe?_0x27c332[_0x3f3cd8]['id']:_0x27c332[_0x3f3cd8];_0x388f6a[_0x22acee]=!(0xb5d*0x3+-0x13a0+-0xe77);}let _0x57c269=this['_assets']['length'];for(;_0x57c269--;){const _0x56fb55=this['_assets'][_0x57c269];if(!_0x388f6a[_0x56fb55]){this['_app']['assets']['off']('add:'+_0x56fb55,this['_onAssetAd'+'d'],this);const _0x3b86cb=this['_app']['assets']['get'](_0x56fb55);_0x3b86cb&&this['_onAssetRe'+'move'](_0x3b86cb),this['_assets']['splice'](_0x57c269,-0x2*0x28f+0x238e+-0x15*0x173);}}for(const _0x39eb2e in _0x388f6a){const _0x236e53=parseInt(_0x39eb2e,0xecc+-0x11*0x18a+0x4*0x2da);if(this['_assets']['indexOf'](_0x236e53)!==-(0xc01+-0xdd*-0x1d+-0x13*0x1f3))continue;this['_assets']['push'](_0x236e53);const _0x378683=this['_app']['assets']['get'](_0x236e53);_0x378683?this['_onAssetAd'+'d'](_0x378683):this['_app']['assets']['once']('add:'+_0x236e53,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0x7fae17){if(this['_locale']===_0x7fae17)return;let _0x5d21cb=Oi(_0x7fae17);if(_0x5d21cb==='in'&&(_0x5d21cb='id',_0x7fae17=LC(_0x7fae17,_0x5d21cb),this['_locale']===_0x7fae17))return;const _0x2bab50=this['_locale'];this['_locale']=_0x7fae17,this['_lang']=_0x5d21cb,this['_pluralFn']=Tf(this['_lang']),this['fire'](Gh['EVENT_CHAN'+'GE'],_0x7fae17,_0x2bab50);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x18ad4e,_0x50c9ac){return Fv(_0x18ad4e,_0x50c9ac);}['findAvaila'+'bleLocale'](_0x384b1f){if(this['_translati'+'ons'][_0x384b1f])return _0x384b1f;const _0x63d8a3=Oi(_0x384b1f);return this['_findFallb'+'ackLocale'](_0x384b1f,_0x63d8a3);}['getText'](_0x205ff8,_0x56e0f8){let _0x1dad89=_0x205ff8,_0x320529;_0x56e0f8||(_0x56e0f8=this['_locale'],_0x320529=this['_lang']);let _0x1a65ae=this['_translati'+'ons'][_0x56e0f8];return _0x1a65ae||(_0x320529||(_0x320529=Oi(_0x56e0f8)),_0x56e0f8=this['_findFallb'+'ackLocale'](_0x56e0f8,_0x320529),_0x1a65ae=this['_translati'+'ons'][_0x56e0f8]),_0x1a65ae&&_0x1a65ae['hasOwnProp'+'erty'](_0x205ff8)&&(_0x1dad89=_0x1a65ae[_0x205ff8],Array['isArray'](_0x1dad89)&&(_0x1dad89=_0x1dad89[0x1*-0x84f+-0x55*0x61+0xa21*0x4]),_0x1dad89==null&&(_0x1dad89=_0x205ff8)),_0x1dad89;}['getPluralT'+'ext'](_0x239b1c,_0x4b4c52,_0xd402dd){let _0x425f94=_0x239b1c,_0x17959a,_0x531fcf;_0xd402dd?(_0x17959a=Oi(_0xd402dd),_0x531fcf=Tf(_0x17959a)):(_0xd402dd=this['_locale'],_0x17959a=this['_lang'],_0x531fcf=this['_pluralFn']);let _0x490541=this['_translati'+'ons'][_0xd402dd];if(_0x490541||(_0xd402dd=this['_findFallb'+'ackLocale'](_0xd402dd,_0x17959a),_0x17959a=Oi(_0xd402dd),_0x531fcf=Tf(_0x17959a),_0x490541=this['_translati'+'ons'][_0xd402dd]),_0x490541&&_0x490541[_0x239b1c]&&_0x531fcf){const _0x3279f4=_0x531fcf(_0x4b4c52);_0x425f94=_0x490541[_0x239b1c][_0x3279f4],_0x425f94==null&&(_0x425f94=_0x239b1c);}return _0x425f94;}['addData'](_0x5c0693){let _0x2e2eae;try{_0x2e2eae=this['_parser']['parse'](_0x5c0693);}catch(_0x5a7147){console['error'](_0x5a7147);return;}for(let _0x9c72c1=-0x91a+0x1*-0x22b7+0x3*0xe9b,_0x3d7fad=_0x2e2eae['length'];_0x9c72c1<_0x3d7fad;_0x9c72c1++){const _0x1e52ea=_0x2e2eae[_0x9c72c1],_0x2e5c37=_0x1e52ea['info']['locale'],_0x1f618c=_0x1e52ea['messages'];if(!this['_translati'+'ons'][_0x2e5c37]){this['_translati'+'ons'][_0x2e5c37]={};const _0xe7fcc=Oi(_0x2e5c37);this['_available'+'Langs'][_0xe7fcc]||(this['_available'+'Langs'][_0xe7fcc]=_0x2e5c37);}Object['assign'](this['_translati'+'ons'][_0x2e5c37],_0x1f618c),this['fire']('data:add',_0x2e5c37,_0x1f618c);}}['removeData'](_0x5b05f5){let _0x1a62f5;try{_0x1a62f5=this['_parser']['parse'](_0x5b05f5);}catch(_0x45077b){console['error'](_0x45077b);return;}for(let _0x147964=-0x1944+0x1ea9*-0x1+0x37ed,_0x4c33b1=_0x1a62f5['length'];_0x147964<_0x4c33b1;_0x147964++){const _0x5ac09a=_0x1a62f5[_0x147964],_0x4567c6=_0x5ac09a['info']['locale'],_0x36f14e=this['_translati'+'ons'][_0x4567c6];if(!_0x36f14e)continue;const _0x3b6fe3=_0x5ac09a['messages'];for(const _0x55f3a7 in _0x3b6fe3)delete _0x36f14e[_0x55f3a7];Object['keys'](_0x36f14e)['length']===-0x1145*-0x1+0x445+-0x158a&&(delete this['_translati'+'ons'][_0x4567c6],delete this['_available'+'Langs'][Oi(_0x4567c6)]),this['fire']('data:remov'+'e',_0x4567c6,_0x3b6fe3);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x55a480,_0x353379){let _0x5d39d0=Mh[_0x55a480];return _0x5d39d0&&this['_translati'+'ons'][_0x5d39d0]||(_0x5d39d0=Mh[_0x353379],_0x5d39d0&&this['_translati'+'ons'][_0x5d39d0])||(_0x5d39d0=this['_available'+'Langs'][_0x353379],_0x5d39d0&&this['_translati'+'ons'][_0x5d39d0])?_0x5d39d0:Ph;}['_onAssetAd'+'d'](_0x26212e){_0x26212e['on']('load',this['_onAssetLo'+'ad'],this),_0x26212e['on']('change',this['_onAssetCh'+'ange'],this),_0x26212e['on']('remove',this['_onAssetRe'+'move'],this),_0x26212e['on']('unload',this['_onAssetUn'+'load'],this),_0x26212e['resource']&&this['_onAssetLo'+'ad'](_0x26212e);}['_onAssetLo'+'ad'](_0x215140){this['addData'](_0x215140['resource']);}['_onAssetCh'+'ange'](_0x189c4c){_0x189c4c['resource']&&this['addData'](_0x189c4c['resource']);}['_onAssetRe'+'move'](_0x77092d){_0x77092d['off']('load',this['_onAssetLo'+'ad'],this),_0x77092d['off']('change',this['_onAssetCh'+'ange'],this),_0x77092d['off']('remove',this['_onAssetRe'+'move'],this),_0x77092d['off']('unload',this['_onAssetUn'+'load'],this),_0x77092d['resource']&&this['removeData'](_0x77092d['resource']),this['_app']['assets']['once']('add:'+_0x77092d['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x385712){_0x385712['resource']&&this['removeData'](_0x385712['resource']);}};h(Gh,'EVENT_CHAN'+'GE','change');let wa=Gh;class HC extends me{constructor(_0x37ac29){super(),h(this,'_scripts',{}),h(this,'_list',[]),h(this,'_scriptSch'+'emas',new Map()),this['app']=_0x37ac29;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x3b7129,_0x55ea09){_0x55ea09&&this['_scriptSch'+'emas']['set'](_0x3b7129,_0x55ea09);}['getSchema'](_0x145352){return this['_scriptSch'+'emas']['get'](_0x145352);}['add'](_0x4694b4){const _0x17f202=_0x4694b4['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x17f202)?(setTimeout(()=>{if(_0x4694b4['prototype']['swap']){const _0x2f01be=this['_scripts'][_0x17f202],_0x510543=this['_list']['indexOf'](_0x2f01be);this['_list'][_0x510543]=_0x4694b4,this['_scripts'][_0x17f202]=_0x4694b4,this['fire']('swap',_0x17f202,_0x4694b4),this['fire']('swap:'+_0x17f202,_0x4694b4);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x17f202+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(-0x1f*-0x1+0x1673+-0x35*0x6d)):(this['_scripts'][_0x17f202]=_0x4694b4,this['_list']['push'](_0x4694b4),this['fire']('add',_0x17f202,_0x4694b4),this['fire']('add:'+_0x17f202,_0x4694b4),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x17f202)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x37cb2d=this['app']['systems']['script']['_component'+'s'];let _0x53ad97;const _0x7ee03a=[],_0x3c4bff=[];for(_0x37cb2d['loopIndex']=0x1e18+-0x6*-0x194+-0x2790;_0x37cb2d['loopIndex']<_0x37cb2d['length'];_0x37cb2d['loopIndex']++){const _0x3b3a0f=_0x37cb2d['items'][_0x37cb2d['loopIndex']];if(_0x3b3a0f['_scriptsIn'+'dex'][_0x17f202]&&_0x3b3a0f['_scriptsIn'+'dex'][_0x17f202]['awaiting']){_0x3b3a0f['_scriptsDa'+'ta']&&_0x3b3a0f['_scriptsDa'+'ta'][_0x17f202]&&(_0x53ad97=_0x3b3a0f['_scriptsDa'+'ta'][_0x17f202]['attributes']);const _0x530b3d=_0x3b3a0f['create'](_0x17f202,{'preloading':!(-0x8e*-0xd+-0x571+-0x1c5),'ind':_0x3b3a0f['_scriptsIn'+'dex'][_0x17f202]['ind'],'attributes':_0x53ad97});_0x530b3d&&_0x7ee03a['push'](_0x530b3d);for(const _0xc118f2 of _0x3b3a0f['scripts'])_0x3b3a0f['initialize'+'Attributes'](_0xc118f2);}}for(let _0x28b6f9=-0x1f*-0x79+-0x20ff*-0x1+0x3*-0xfe2;_0x28b6f9<_0x7ee03a['length'];_0x28b6f9++)_0x7ee03a[_0x28b6f9]['enabled']&&(_0x7ee03a[_0x28b6f9]['_initializ'+'ed']=!(0x1cb6+0x2*-0xda9+-0x164),_0x3c4bff['push'](_0x7ee03a[_0x28b6f9]),_0x7ee03a[_0x28b6f9]['initialize']&&_0x7ee03a[_0x28b6f9]['initialize']());for(let _0x16e70a=0x32d*0x7+0x8d*0x2e+0x63*-0x7b;_0x16e70a<_0x3c4bff['length'];_0x16e70a++)!_0x3c4bff[_0x16e70a]['enabled']||_0x3c4bff[_0x16e70a]['_postIniti'+'alized']||(_0x3c4bff[_0x16e70a]['_postIniti'+'alized']=!(0x2249+-0x13ba+0x1*-0xe8f),_0x3c4bff[_0x16e70a]['postInitia'+'lize']&&_0x3c4bff[_0x16e70a]['postInitia'+'lize']());}),!(-0x1*-0xa09+-0x160c+0xc03));}['remove'](_0x1cd724){let _0x41370e=_0x1cd724,_0x19ca48=_0x1cd724;if(typeof _0x19ca48!='string'?_0x19ca48=_0x41370e['__name']:_0x41370e=this['get'](_0x19ca48),this['get'](_0x19ca48)!==_0x41370e)return!(-0x85b+-0x26b5+0x2f11*0x1);delete this['_scripts'][_0x19ca48];const _0x31f4a0=this['_list']['indexOf'](_0x41370e);return this['_list']['splice'](_0x31f4a0,-0x1f81+-0x21b9+0x413b),this['fire']('remove',_0x19ca48,_0x41370e),this['fire']('remove:'+_0x19ca48,_0x41370e),!(0x4a*-0x10+-0x1c6e+0x210e);}['get'](_0x22e731){return this['_scripts'][_0x22e731]||null;}['has'](_0x39644c){if(typeof _0x39644c=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x39644c);if(!_0x39644c)return!(0x238f+-0x512+0x2*-0xf3e);const _0x575b12=_0x39644c['__name'];return this['_scripts'][_0x575b12]===_0x39644c;}['list'](){return this['_list'];}}const WC=(_0x56acfe,_0x2841a1)=>_0x56acfe['constructo'+'r']['order']-_0x2841a1['constructo'+'r']['order'],$C=_0x1ac20f=>_0x1ac20f['sort'](WC),po=[],Nv=[],XC=()=>Nv['pop']()??[],Ag=_0x803aa2=>{_0x803aa2['length']=0x1*-0x1825+-0x2586+0x1*0x3dab,Nv['push'](_0x803aa2);},Hh=class Hh extends Ie{constructor(_0x16b543,_0xb610de=Ms()){super(_0x16b543),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'gsplat'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'c',{}),h(this,'_app'),h(this,'_destroyin'+'g',!(-0x1*-0x8cf+-0x1*0x1903+0x1035)),h(this,'_guid',null),h(this,'_template',!(-0x26b8+-0x1*-0xf77+0x1742)),(w['assert'](_0xb610de,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0xb610de);}['addCompone'+'nt'](_0x30dbe0,_0x38ad40){const _0xc02a01=this['_app']['systems'][_0x30dbe0];return _0xc02a01?this['c'][_0x30dbe0]?(w['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0x30dbe0+('\x27\x20componen'+'t')),null):_0xc02a01['addCompone'+'nt'](this,_0x38ad40):(w['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0x30dbe0+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0xe885ac){const _0x4dddae=this['_app']['systems'][_0xe885ac];if(!_0x4dddae){w['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0xe885ac+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0xe885ac]){w['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0xe885ac+('\x27\x20componen'+'t'));return;}_0x4dddae['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x10beaf){const _0x1c04e7=this['findOne'](_0x456405=>{var _0xd5cfc1;return(_0xd5cfc1=_0x456405['c'])==null?void(0x2009+0x14b7+0x10*-0x34c):_0xd5cfc1[_0x10beaf];});return _0x1c04e7&&_0x1c04e7['c'][_0x10beaf];}['findCompon'+'ents'](_0x3045ac){return this['find'](_0xb14c79=>{var _0x5e8144;return(_0x5e8144=_0xb14c79['c'])==null?void(0x1760+0x157*0x1+-0x18b7*0x1):_0x5e8144[_0x3045ac];})['map'](_0x17a4ae=>_0x17a4ae['c'][_0x3045ac]);}['findScript'](_0x1f17f7){const _0x553226=this['findOne'](_0x4b635f=>{var _0x13149b,_0x3c864e;return(_0x3c864e=(_0x13149b=_0x4b635f['c'])==null?void(0x810+-0x127+-0x6e9):_0x13149b['script'])==null?void(0x6c+0x3*-0xc5f+0x24b1):_0x3c864e['has'](_0x1f17f7);});return _0x553226==null?void(-0x25b5*0x1+0xabc+0x1af9):_0x553226['c']['script']['get'](_0x1f17f7);}['findScript'+'s'](_0x2fd795){return this['find'](_0x52db60=>{var _0x1d4aec,_0xdc744f;return(_0xdc744f=(_0x1d4aec=_0x52db60['c'])==null?void(-0x1f96*0x1+-0x1f7*-0xe+0x414):_0x1d4aec['script'])==null?void(0x2007+-0x2*0x335+-0x1*0x199d):_0xdc744f['has'](_0x2fd795);})['map'](_0x3ac100=>_0x3ac100['c']['script']['get'](_0x2fd795));}['getGuid'](){return this['_guid']||this['setGuid'](Q0['create']()),this['_guid'];}['setGuid'](_0x21c7ed){const _0x30a761=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0x30a761[this['_guid']],this['_guid']=_0x21c7ed,_0x30a761[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x37f02c,_0x5aac98){let _0x3c5696=!(-0x2*0x812+0x4*-0x2b5+0x1af9);_0x37f02c===this&&po['length']===-0x117b+-0xa2a+0x1*0x1ba5&&(_0x3c5696=!(0x9c6+0x211*-0x3+0x393*-0x1)),_0x37f02c['_beingEnab'+'led']=!(0x39b*-0x6+0x2d+0x1575),_0x37f02c['_onHierarc'+'hyStateCha'+'nged'](_0x5aac98),_0x37f02c['_onHierarc'+'hyStatePos'+'tChanged']&&po['push'](_0x37f02c);const _0x561d1e=_0x37f02c['_children'];for(let _0x5f23f2=0xb70+0xc*-0x222+0xe28,_0x192edc=_0x561d1e['length'];_0x5f23f2<_0x192edc;_0x5f23f2++)_0x561d1e[_0x5f23f2]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x561d1e[_0x5f23f2],_0x5aac98);if(_0x37f02c['_beingEnab'+'led']=!(-0x1ad3+-0x2ea*0x1+0x2f*0xa2),_0x3c5696){for(let _0x15d43f=0xee+-0x15b3+0xd*0x199;_0x15d43f<po['length'];_0x15d43f++)po[_0x15d43f]['_onHierarc'+'hyStatePos'+'tChanged']();po['length']=-0x209c+-0x17d1+0x386d;}}['_onHierarc'+'hyStateCha'+'nged'](_0x174ff1){super['_onHierarc'+'hyStateCha'+'nged'](_0x174ff1);const _0x3886e1=this['_getSorted'+'Components']();for(let _0x54bd0c=-0x25f4+-0x8*-0x2e3+0xedc;_0x54bd0c<_0x3886e1['length'];_0x54bd0c++){const _0x1a1a8c=_0x3886e1[_0x54bd0c];_0x1a1a8c['enabled']&&(_0x174ff1?_0x1a1a8c['onEnable']():_0x1a1a8c['onDisable']());}Ag(_0x3886e1);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x23f952=this['_getSorted'+'Components']();for(let _0x1d30a8=-0x2*-0x358+-0x1*0x1132+-0xa82*-0x1;_0x1d30a8<_0x23f952['length'];_0x1d30a8++)_0x23f952[_0x1d30a8]['onPostStat'+'eChange']();Ag(_0x23f952);}['findByGuid'](_0x1cc80f){if(this['_guid']===_0x1cc80f)return this;const _0x176766=this['_app']['_entityInd'+'ex'][_0x1cc80f];return _0x176766&&(_0x176766===this||_0x176766['isDescenda'+'ntOf'](this))?_0x176766:null;}['destroy'](){this['_destroyin'+'g']=!(-0x1379+0xf0d*-0x2+0x3193);for(const _0x17bc83 in this['c'])this['c'][_0x17bc83]['enabled']=!(-0x5*0x154+0x7a8+-0x103);for(const _0x452985 in this['c'])this['c'][_0x452985]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(0x843+-0x1*0x1169+0x927);}['clone'](){const _0x73d46={},_0x303f52=this['_cloneRecu'+'rsively'](_0x73d46);return _0x73d46[this['getGuid']()]=_0x303f52,kv(this,this,_0x303f52,_0x73d46),_0x303f52;}['_getSorted'+'Components'](){const _0x59c813=this['c'],_0x540e3e=XC();let _0x3c69ce=0x1058+0x1700+-0x2758;for(const _0x19322f in _0x59c813)if(_0x59c813['hasOwnProp'+'erty'](_0x19322f)){const _0x456fea=_0x59c813[_0x19322f];_0x3c69ce|=_0x456fea['constructo'+'r']['order']!==0x965*0x2+0x1a5b+-0x2d25*0x1,_0x540e3e['push'](_0x456fea);}return _0x3c69ce&&_0x540e3e['length']>-0xb1*0x11+0x101a+0x22c*-0x2&&$C(_0x540e3e),_0x540e3e;}['_cloneRecu'+'rsively'](_0x1fc46e){const _0x166ccd=new this['constructo'+'r'](void(-0x1676+-0xbcd*0x3+0x39dd),this['_app']);super['_cloneInte'+'rnal'](_0x166ccd);for(const _0x29da9e in this['c'])this['c'][_0x29da9e]['system']['cloneCompo'+'nent'](this,_0x166ccd);for(let _0x5a1848=-0xdd7+0x4*-0x8d3+0x3123;_0x5a1848<this['_children']['length'];_0x5a1848++){const _0x1126e2=this['_children'][_0x5a1848];if(_0x1126e2 instanceof Hh){const _0x2832b=_0x1126e2['_cloneRecu'+'rsively'](_0x1fc46e);_0x166ccd['addChild'](_0x2832b),_0x1fc46e[_0x1126e2['getGuid']()]=_0x2832b;}}return _0x166ccd;}};h(Hh,'EVENT_DEST'+'ROY','destroy');let lt=Hh;function kv(_0x3df2b7,_0x554ec4,_0x1603e2,_0x452db9){if(_0x554ec4 instanceof lt){const _0x48d967=_0x554ec4['c'];for(const _0x317b10 in _0x48d967){const _0x16dc26=_0x48d967[_0x317b10],_0x39d3ae=_0x16dc26['system']['getPropert'+'iesOfType']('entity');for(let _0x51739e=0xe5c+-0x2642+0x17e6,_0x115e8d=_0x39d3ae['length'];_0x51739e<_0x115e8d;_0x51739e++){const _0x150e76=_0x39d3ae[_0x51739e]['name'],_0x2e510a=_0x16dc26[_0x150e76];if(!!_0x3df2b7['findByGuid'](_0x2e510a)){const _0x46f39f=_0x452db9[_0x2e510a]['getGuid']();_0x46f39f?_0x1603e2['c'][_0x317b10][_0x150e76]=_0x46f39f:w['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x48d967['script']&&_0x1603e2['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x48d967['script'],_0x452db9),_0x48d967['render']&&_0x1603e2['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x48d967['render'],_0x452db9),_0x48d967['button']&&_0x1603e2['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x48d967['button'],_0x452db9),_0x48d967['scrollview']&&_0x1603e2['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x48d967['scrollview'],_0x452db9),_0x48d967['scrollbar']&&_0x1603e2['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x48d967['scrollbar'],_0x452db9),_0x48d967['anim']&&_0x1603e2['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x48d967['anim'],_0x452db9);const _0x117344=_0x554ec4['children']['filter'](_0x500bdd=>_0x500bdd instanceof lt),_0x419730=_0x1603e2['children']['filter'](_0x4dfd12=>_0x4dfd12 instanceof lt);for(let _0x1c27d8=0x2*0xff4+0x71f*0x5+-0x4383,_0xfd2204=_0x117344['length'];_0x1c27d8<_0xfd2204;_0x1c27d8++)kv(_0x3df2b7,_0x117344[_0x1c27d8],_0x419730[_0x1c27d8],_0x452db9);}}class Cg{constructor(_0x30f228,_0x6c419a){h(this,'name'),h(this,'url'),h(this,'data',null),h(this,'_loading',!(-0x10e8+0xef0*-0x2+0x19d*0x1d)),h(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x30f228,this['url']=_0x6c419a);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class qC{constructor(_0x37d439){h(this,'_app'),h(this,'_list',[]),h(this,'_index',{}),h(this,'_urlIndex',{}),this['_app']=_0x37d439;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0x5895c8,_0xc08783){if(this['_index']['hasOwnProp'+'erty'](_0x5895c8))return w['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0x5895c8),!(-0x1*-0x19b+0xe90+0x2*-0x815);const _0x4900bc=new Cg(_0x5895c8,_0xc08783),_0x419670=this['_list']['push'](_0x4900bc);return this['_index'][_0x4900bc['name']]=_0x419670-(0x905*0x1+0x1f12+-0x2816),this['_urlIndex'][_0x4900bc['url']]=_0x419670-(-0x1187*0x1+0x3b3*-0x4+0x2054),!(0x1446+0xc80+-0x20c6);}['find'](_0x387b3e){return this['_index']['hasOwnProp'+'erty'](_0x387b3e)?this['_list'][this['_index'][_0x387b3e]]:null;}['findByUrl'](_0x98a919){return this['_urlIndex']['hasOwnProp'+'erty'](_0x98a919)?this['_list'][this['_urlIndex'][_0x98a919]]:null;}['remove'](_0x452655){if(this['_index']['hasOwnProp'+'erty'](_0x452655)){const _0xcd0f18=this['_index'][_0x452655];let _0x5e59d2=this['_list'][_0xcd0f18];delete this['_urlIndex'][_0x5e59d2['url']],delete this['_index'][_0x452655],this['_list']['splice'](_0xcd0f18,-0x178*-0x14+-0xbf8+0xf*-0x129);for(let _0xad925=-0x11fc+-0x1*0x157a+0x2*0x13bb;_0xad925<this['_list']['length'];_0xad925++)_0x5e59d2=this['_list'][_0xad925],this['_index'][_0x5e59d2['name']]=_0xad925,this['_urlIndex'][_0x5e59d2['url']]=_0xad925;}}['_loadScene'+'Data'](_0x175d7a,_0x391189,_0x95fecb){const _0x2b2a25=this['_app'];let _0x1c0ad2=_0x175d7a;if(typeof _0x175d7a=='string'&&(_0x175d7a=this['findByUrl'](_0x1c0ad2)||this['find'](_0x1c0ad2)||new Cg('Untitled',_0x1c0ad2)),_0x1c0ad2=_0x175d7a['url'],!_0x1c0ad2){_0x95fecb('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x175d7a['loaded']){_0x95fecb(null,_0x175d7a);return;}_0x2b2a25['assets']&&_0x2b2a25['assets']['prefix']&&!jn['test'](_0x1c0ad2)&&(_0x1c0ad2=xe['join'](_0x2b2a25['assets']['prefix'],_0x1c0ad2)),_0x175d7a['_onLoadedC'+'allbacks']['push'](_0x95fecb),_0x175d7a['_loading']||_0x2b2a25['loader']['getHandler']('hierarchy')['load'](_0x1c0ad2,(_0x18c204,_0x1a3396)=>{_0x175d7a['data']=_0x1a3396,_0x175d7a['_loading']=!(-0x51f+0x1d87+-0x1*0x1867);for(let _0x2bc660=-0x213*-0xd+-0x1*0x1445+-0x6b2;_0x2bc660<_0x175d7a['_onLoadedC'+'allbacks']['length'];_0x2bc660++)_0x175d7a['_onLoadedC'+'allbacks'][_0x2bc660](_0x18c204,_0x175d7a);_0x391189||(_0x175d7a['data']=null),_0x175d7a['_onLoadedC'+'allbacks']['length']=0x7*-0x35f+-0x1b4*-0x1+-0x13*-0x127;}),_0x175d7a['_loading']=!(0x23c4+-0x1504+-0x2*0x760);}['loadSceneD'+'ata'](_0x33763c,_0x23696d){this['_loadScene'+'Data'](_0x33763c,!(-0x292*-0x9+0x154b+0x33*-0xdf),_0x23696d);}['unloadScen'+'eData'](_0x4ea6de){typeof _0x4ea6de=='string'&&(_0x4ea6de=this['findByUrl'](_0x4ea6de)),_0x4ea6de&&(_0x4ea6de['data']=null);}['_loadScene'+'Hierarchy'](_0x1a6924,_0x5914d4,_0x118a51){this['_loadScene'+'Data'](_0x1a6924,!(0x1*0x23ef+-0x1*-0x1bb8+-0x1fd3*0x2),(_0x178e0b,_0x39680b)=>{if(_0x178e0b){_0x118a51&&_0x118a51(_0x178e0b);return;}_0x5914d4&&_0x5914d4(_0x39680b);const _0x380537=this['_app'],_0x3a3c64=()=>{const _0x132106=_0x380537['loader']['getHandler']('hierarchy');_0x380537['systems']['script']['preloading']=!(0x1*-0xa93+0x2434+-0x19a1);const _0x88d1aa=_0x132106['open'](_0x39680b['url'],_0x39680b['data']);_0x380537['systems']['script']['preloading']=!(-0x913+-0x99+0x9ad),_0x380537['loader']['clearCache'](_0x39680b['url'],'hierarchy'),_0x380537['root']['addChild'](_0x88d1aa),_0x380537['systems']['fire']('initialize',_0x88d1aa),_0x380537['systems']['fire']('postInitia'+'lize',_0x88d1aa),_0x380537['systems']['fire']('postPostIn'+'itialize',_0x88d1aa),_0x118a51&&_0x118a51(null,_0x88d1aa);};_0x380537['_preloadSc'+'ripts'](_0x39680b['data'],_0x3a3c64);});}['loadSceneH'+'ierarchy'](_0x303f71,_0x42f9d1){this['_loadScene'+'Hierarchy'](_0x303f71,null,_0x42f9d1);}['loadSceneS'+'ettings'](_0x51b08b,_0x5a6578){this['_loadScene'+'Data'](_0x51b08b,!(-0x8dc+-0x2*0x415+0x1*0x1107),(_0xb15d5b,_0x4214ff)=>{_0xb15d5b?_0x5a6578&&_0x5a6578(_0xb15d5b):(this['_app']['applyScene'+'Settings'](_0x4214ff['data']['settings']),_0x5a6578&&_0x5a6578(null));});}['changeScen'+'e'](_0x1a7426,_0x2fa4ee){const _0x10df76=this['_app'],_0x1d944a=_0x27a493=>{const {children:_0x4b3724}=_0x10df76['root'];for(;_0x4b3724['length'];)_0x4b3724[-0x10*-0x1f9+0x17b*0xd+-0x32cf]['destroy']();_0x10df76['applyScene'+'Settings'](_0x27a493['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x1a7426,_0x1d944a,_0x2fa4ee);}['loadScene'](_0x540038,_0x2b412d){const _0x5e5aef=this['_app'],_0x52d4b3=_0x5e5aef['loader']['getHandler']('scene');_0x5e5aef['assets']&&_0x5e5aef['assets']['prefix']&&!jn['test'](_0x540038)&&(_0x540038=xe['join'](_0x5e5aef['assets']['prefix'],_0x540038)),_0x52d4b3['load'](_0x540038,(_0x4ff7de,_0x107de5)=>{if(_0x4ff7de)_0x2b412d&&_0x2b412d(_0x4ff7de);else{const _0x221439=()=>{_0x5e5aef['systems']['script']['preloading']=!(0x557*0x7+-0xa7+-0x6*0x61f);const _0x4d205d=_0x52d4b3['open'](_0x540038,_0x107de5),_0x59d114=this['findByUrl'](_0x540038);_0x59d114&&!_0x59d114['loaded']&&(_0x59d114['data']=_0x107de5),_0x5e5aef['systems']['script']['preloading']=!(-0x47f*0x1+-0x26a4+0x2b24),_0x5e5aef['loader']['clearCache'](_0x540038,'scene'),_0x5e5aef['loader']['patch']({'resource':_0x4d205d,'type':'scene'},_0x5e5aef['assets']),_0x5e5aef['root']['addChild'](_0x4d205d['root']),_0x5e5aef['systems']['rigidbody']&&typeof Ammo<'u'&&_0x5e5aef['systems']['rigidbody']['gravity']['set'](_0x4d205d['_gravity']['x'],_0x4d205d['_gravity']['y'],_0x4d205d['_gravity']['z']),_0x2b412d&&_0x2b412d(null,_0x4d205d);};_0x5e5aef['_preloadSc'+'ripts'](_0x107de5,_0x221439);}});}}class jC{constructor(_0x74b62b){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x74b62b['_shaderSta'+'ts'],this['vram']=_0x74b62b['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return Ms()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x3f7ca8;return(_0x3f7ca8=Ms()['lightmappe'+'r'])==null?void(0x63b*-0x5+0xf0d*0x1+0x101a):_0x3f7ca8['stats'];}get['batcher'](){const _0xfd37ad=Ms()['_batcher'];return _0xfd37ad?_0xfd37ad['_stats']:null;}}const YC='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',KC='\x0a\x0a#ifdef\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+'\x20AMBIENTSH'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20am'+'bientSH[9]'+';\x0a#endif\x0a\x0a'+'#if\x20LIT_AM'+'BIENT_SOUR'+'CE\x20==\x20ENVA'+'LATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fndef\x20ENV_'+'ATLAS\x0a\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_envAtlas'+';\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'AMBIENTSH\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20c'+'olor\x20=\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[0'+']\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[1]\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[2'+']\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[3]\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[4]\x20*\x20'+'n.x\x20*\x20n.z\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[5]\x20*\x20n'+'.z\x20*\x20n.y\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[6]\x20*\x20n.'+'y\x20*\x20n.x\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[7]\x20*\x20(3.'+'0\x20*\x20n.z\x20*\x20'+'n.z\x20-\x201.0)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[8]\x20*\x20'+'(n.x\x20*\x20n.x'+'\x20-\x20n.y\x20*\x20n'+'.y);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20processEn'+'vironment('+'max(color,'+'\x20vec3(0.0)'+'));\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_A'+'MBIENT_SOU'+'RCE\x20==\x20ENV'+'ALATLAS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dir\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+('28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw\x20=\x20tex'+'ture2D(tex'+'ture_envAt'+'las,\x20uv);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20linear\x20'+'=\x20{ambient'+'Decode}(ra'+'w);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'CONSTANT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20light'+'_globalAmb'+'ient;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),ZC='\x0a\x0a#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opyIntensi'+'ty;\x0a\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20material_'+'anisotropy'+'Rotation;\x0a'+'#endif\x0a\x0avo'+'id\x20getAnis'+'otropy()\x20{'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x200'+'.0;\x0a\x20\x20\x20\x20dA'+'nisotropyR'+'otation\x20=\x20'+'vec2(1.0,\x20'+'0.0);\x0a\x0a#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20m'+'aterial_an'+'isotropyIn'+'tensity;\x0a\x20'+'\x20\x20\x20dAnisot'+'ropyRotati'+'on\x20=\x20mater'+'ial_anisot'+'ropyRotati'+'on;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_ANI'+'SOTROPY_TE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropyTex\x20='+'\x20texture2D'+'Bias({STD_'+'ANISOTROPY'+'_TEXTURE_N'+'AME},\x20{STD'+'_ANISOTROP'+'Y_TEXTURE_'+'UV},\x20textu'+'reBias).rg'+'b;\x0a\x20\x20\x20\x20dAn'+'isotropy\x20*'+'=\x20anisotro'+'pyTex.b;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20a'+'nisotropyR'+'otationFro'+'mTex\x20=\x20ani'+'sotropyTex'+'.rg\x20*\x202.0\x20'+'-\x20vec2(1.0'+');\x0a\x20\x20\x20\x20mat'+'2\x20rotation'+'Matrix\x20=\x20m'+'at2(dAniso'+'tropyRotat'+'ion.x,\x20dAn'+'isotropyRo'+'tation.y,\x20'+'-dAnisotro'+'pyRotation'+'.y,\x20dAniso'+'tropyRotat'+'ion.x);\x0a\x20\x20'+'\x20\x20dAnisotr'+'opyRotatio'+'n\x20=\x20rotati'+'onMatrix\x20*'+'\x20anisotrop'+'yRotationF'+'romTex;\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20dA'+'nisotropy\x20'+'=\x20clamp(dA'+'nisotropy,'+'\x200.0,\x201.0)'+';\x0a}\x0a',QC='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_aoInten'+'sity;\x0a#end'+'if\x0a\x0a#ifdef'+'\x20STD_AODET'+'AIL_TEXTUR'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22deta'+'ilModesPS\x22'+'\x0a#endif\x0a\x0av'+'oid\x20getAO('+')\x20{\x0a\x20\x20\x20\x20dA'+'o\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'aoBase\x20=\x20t'+'exture2DBi'+'as({STD_AO'+'_TEXTURE_N'+'AME},\x20{STD'+'_AO_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_AO_TE'+'XTURE_CHAN'+'NEL};\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20aoDetail\x20'+'=\x20texture2'+'DBias({STD'+'_AODETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'AODETAIL_T'+'EXTURE_UV}'+',\x20textureB'+'ias).{STD_'+'AODETAIL_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'oBase\x20=\x20de'+'tailMode_{'+'STD_AODETA'+'IL_DETAILM'+'ODE}(vec3('+'aoBase),\x20v'+'ec3(aoDeta'+'il)).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_AO_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(STD_A'+'O_TEXTURE)'+'\x20||\x20define'+'d(STD_AO_V'+'ERTEX)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAo\x20='+'\x20mix(1.0,\x20'+'dAo,\x20mater'+'ial_aoInte'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',JC='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',e1='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0av'+'oid\x20occlud'+'eSpecular('+'float\x20glos'+'s,\x20float\x20a'+'o,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir)\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'AO\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_OCCLUDE_'+'SPECULAR_F'+'LOAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20specOcc'+'\x20=\x20mix(1.0'+',\x20ao,\x20mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20specOc'+'c\x20=\x20ao;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_OCC'+'LUDE_SPECU'+'LAR\x20==\x20GLO'+'SSDEPENDEN'+'T\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20approx'+'imated\x20spe'+'cular\x20occl'+'usion\x20from'+'\x20AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20http:'+'//research'+'.tri-ace.c'+'om/Data/ce'+'dec2011_Re'+'altimePBR_'+'Implementa'+'tion_e.ppt'+'x\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01\x20'+'*\x20specPow)'+'\x20-\x201.0\x20+\x20a'+'o);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20sp'+'ecOcc,\x20mat'+'erial_occl'+'udeSpecula'+'rIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20*=\x20specO'+'cc;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sReflecti'+'on\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a'),t1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001\x20'+'?\x20(1.0/255'+'.0)\x20:\x200.0)'+';\x0a\x20\x20\x20\x20}\x0a',s1='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'ambientBak'+'eOcclusion'+'Contrast\x20+'+'\x201.0,\x200.0)'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'vec3(ambie'+'ntBakeOccl'+'usionBrigh'+'tness);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20sa'+'turate(dDi'+'ffuseLight'+');\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20dAmbie'+'ntLight;\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHTM'+'AP_RGBM\x0a\x20\x20'+'\x20\x20//\x20encod'+'e\x20to\x20RGBM\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20dDiffus'+'eLight;\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor.rgb\x20='+'\x20pow(gl_Fr'+'agColor.rg'+'b,\x20vec3(0.'+'5));\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20/=\x208'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.a\x20=\x20clamp'+'(\x20max(\x20max'+'(\x20gl_FragC'+'olor.r,\x20gl'+'_FragColor'+'.g\x20),\x20max('+'\x20gl_FragCo'+'lor.b,\x201.0'+'\x20/\x20255.0\x20)'+'\x20),\x200.0,1.'+'0\x20);\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.a\x20=\x20ceil'+'(gl_FragCo'+'lor.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20/=\x20gl'+'_FragColor'+'.a;\x0a#else\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(dDiffu'+'seLight,\x201'+'.0);\x0a#endi'+'f\x0a',i1='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',r1='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',a1='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',n1='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',o1='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20weigh'+'t[{SAMPLES'+'}];\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20m'+'oments\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vUv0\x20-'+'\x20pixelOffs'+'et\x20*\x20(floa'+'t({SAMPLES'+'})\x20*\x200.5);'+'\x0a\x20\x20\x20\x20for\x20('+'int\x20i\x20=\x200;'+'\x20i\x20<\x20{SAMP'+'LES};\x20i++)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20c\x20=\x20'+'texture2D('+'source,\x20uv'+'\x20+\x20pixelOf'+'fset\x20*\x20flo'+'at(i));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20GAUSS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20moments\x20'+'+=\x20c.xyz\x20*'+'\x20weight[i]'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'ments\x20+=\x20c'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20*=\x201.0\x20/'+'\x20float({SA'+'MPLES});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(momen'+'ts.x,\x20mome'+'nts.y,\x20mom'+'ents.z,\x201.'+'0);\x0a}\x0a',l1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oat;\x0a\x0avoid'+'\x20getClearC'+'oat()\x20{\x0a\x20\x20'+'\x20\x20ccSpecul'+'arity\x20=\x20ma'+'terial_cle'+'arCoat;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_CLEARC'+'OAT_TEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias({ST'+'D_CLEARCOA'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_CL'+'EARCOAT_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20*=\x20satu'+'rate(vVert'+'exColor.{S'+'TD_CLEARCO'+'AT_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',c1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oatGloss;\x0a'+'\x0avoid\x20getC'+'learCoatGl'+'ossiness()'+'\x20{\x0a\x20\x20\x20\x20ccG'+'lossiness\x20'+'=\x20material'+'_clearCoat'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_CLEAR'+'COATGLOSS_'+'TEXTURE_NA'+'ME},\x20{STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_CLEAR'+'COATGLOSS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_CLEAR'+'COATGLOSS_'+'INVERT\x0a\x20\x20\x20'+'\x20ccGlossin'+'ess\x20=\x201.0\x20'+'-\x20ccGlossi'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',h1='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0aunif'+'orm\x20float\x20'+'material_c'+'learCoatBu'+'mpiness;\x0a#'+'endif\x0a\x0avoi'+'d\x20getClear'+'CoatNormal'+'()\x20{\x0a#ifde'+'f\x20STD_CLEA'+'RCOATNORMA'+'L_TEXTURE\x0a'+'\x20\x20\x20\x20vec3\x20n'+'ormalMap\x20='+'\x20{STD_CLEA'+'RCOATNORMA'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_UV}'+',\x20textureB'+'ias));\x0a\x20\x20\x20'+'\x20normalMap'+'\x20=\x20mix(vec'+'3(0.0,\x200.0'+',\x201.0),\x20no'+'rmalMap,\x20m'+'aterial_cl'+'earCoatBum'+'piness);\x0a\x20'+'\x20\x20\x20ccNorma'+'lW\x20=\x20norma'+'lize(dTBN\x20'+'*\x20normalMa'+'p);\x0a#else\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20dVer'+'texNormalW'+';\x0a#endif\x0a}'+'\x0a',d1='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.x\x20=\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20t'+'ileOffset.'+'y\x20=\x20dir.z\x20'+'<\x200.0\x20?\x201.'+'0\x20:\x200.0;\x0a\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if(vAbs.y'+'\x20>=\x20vAbs.x'+')\x20{\x20\x20//\x20to'+'p\x20index\x202,'+'\x20bottom\x20in'+'dex\x203\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.y\x20<\x200.0\x20?'+'\x203.0\x20:\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x,\x20dir.y\x20'+'<\x200.0\x20?\x20-d'+'ir.z\x20:\x20dir'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.x\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.y\x20=\x20dir.'+'y\x20<\x200.0\x20?\x20'+'1.0\x20:\x200.0;'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'\x20=\x200.5\x20/\x20v'+'Abs.x;\x0a\x20\x20\x20'+('\x20\x20\x20\x20\x20uv\x20=\x20'+'vec2(dir.x'+'\x20<\x200.0\x20?\x20d'+'ir.z\x20:\x20-di'+'r.z,\x20-dir.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20uv'+'\x20*\x20ma\x20+\x200.'+'5;\x0a}\x0a\x0a//\x20c'+'onverts\x20un'+'normalized'+'\x20direction'+'\x20vector\x20to'+'\x20a\x20texture'+'\x20coordinat'+'e\x20for\x20a\x20cu'+'bemap\x20face'+'\x20stored\x20wi'+'thin\x20textu'+'re\x20atlas\x20d'+'escribed\x20b'+'y\x20the\x20view'+'port\x0avec2\x20'+'getCubemap'+'AtlasCoord'+'inates(con'+'st\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+'dgePixels,'+'\x20float\x20sha'+'dowTexture'+'Resolution'+',\x20const\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20faceIndex'+';\x0a\x20\x20\x20\x20vec2'+'\x20tileOffse'+'t;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapFac'+'eCoordinat'+'es(dir,\x20fa'+'ceIndex,\x20t'+'ileOffset)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'move\x20uv\x20co'+'ordinates\x20'+'inwards\x20in'+'side\x20to\x20co'+'mpensate\x20f'+'or\x20larger\x20'+'fov\x20when\x20r'+'endering\x20s'+'hadow\x20into'+'\x20atlas\x0a\x20\x20\x20'+'\x20float\x20atl'+'asFaceSize'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20tileSi'+'ze\x20=\x20shado'+'wTextureRe'+'solution\x20*'+'\x20atlasFace'+'Size;\x0a\x20\x20\x20\x20'+'float\x20offs'+'et\x20=\x20shado'+'wEdgePixel'+'s\x20/\x20tileSi'+'ze;\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv\x20*\x20ve'+'c2(1.0\x20-\x20o'+'ffset\x20*\x202.'+'0)\x20+\x20vec2('+'offset\x20*\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20*'+'=\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20fac'+'e\x20of\x20the\x20a')+('tlas\x20(3x3\x20'+'grid)\x0a\x20\x20\x20\x20'+'uv\x20+=\x20tile'+'Offset\x20*\x20a'+'tlasFaceSi'+'ze;\x0a\x0a\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nto\x20the\x20at'+'las\x20viewpo'+'rt\x0a\x20\x20\x20\x20uv\x20'+'+=\x20omniAtl'+'asViewport'+'.xy;\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a'),f1='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20vec4\x20co'+'okieChanne'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20mix(vec4'+'(1.0),\x20tex'+'ture2DLod('+'tex,\x20uv,\x200'+'.0),\x20inten'+'sity);\x0a\x20\x20\x20'+'\x20bool\x20isRg'+'b\x20=\x20dot(co'+'okieChanne'+'l.rgb,\x20vec'+'3(1.0))\x20=='+'\x203.0;\x0a\x20\x20\x20\x20'+'return\x20isR'+'gb\x20?\x20pixel'+'.rgb\x20:\x20vec'+'3(dot(pixe'+'l,\x20cookieC'+'hannel));\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0ave'+'c3\x20getCook'+'ie2DCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20mat4\x20'+'transform,'+'\x20vec3\x20worl'+'dPosition,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieC'+'hannel)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20p'+'rojPos\x20=\x20t'+'ransform\x20*'+'\x20vec4(worl'+'dPosition,'+'\x201.0);\x0a\x20\x20\x20'+'\x20return\x20_g'+'etCookieCl'+'ustered(TE'+'XTURE_PASS'+'(tex),\x20pro'+'jPos.xy\x20/\x20'+'projPos.w,'+'\x20intensity'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20vec4\x20coo'+'kieChannel'+',\x20float\x20sh'+'adowTextur'+'eResolutio'+'n,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20omniAtla'+'sViewport)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+('tureResolu'+'tion,\x20dir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getCoo'+'kieCluster'+'ed(TEXTURE'+'_PASS(tex)'+',\x20uv,\x20inte'+'nsity,\x20coo'+'kieChannel'+');\x0a}\x0a'),u1='\x0a\x0avec3\x20_ge'+'tShadowCoo'+'rdPerspZbu'+'ffer(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20wP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20shado'+'wMatrix\x20*\x20'+'vec4(wPos,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'yz\x20/=\x20proj'+'Pos.w;\x0a\x20\x20\x20'+'\x20return\x20pr'+'ojPos.xyz;'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20bias\x20i'+'s\x20already\x20'+'applied\x20on'+'\x20render\x0a}\x0a'+'\x0avec3\x20getS'+'hadowCoord'+'PerspZbuff'+'erNormalOf'+'fset(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20wPo'+'s\x20=\x20vPosit'+'ionW\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm,\x20vec3'+'\x20normal)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20distScale'+'\x20=\x20length('+'lightDir);'+'\x0a\x20\x20\x20\x20vec3\x20'+'wPos\x20=\x20vPo'+'sitionW\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x20/'+'/0.02\x0a\x20\x20\x20\x20'+'vec3\x20dir\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0afloa'+'t\x20getShado'+'wOmniClust'+'eredPCF1(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20omniAtla'+'sViewport,'+'\x20float\x20sha'+'dowEdgePix'+'els,\x20vec3\x20'+'lightDir)\x20'+'{\x0a\x0a\x20\x20\x20\x20flo'+'at\x20shadowT'+('extureReso'+'lution\x20=\x20s'+'hadowParam'+'s.x;\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+'lution,\x20li'+'ghtDir);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'shadowZ\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(uv,\x20sha'+'dowZ));\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF3'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF3'+'x3(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF5'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s')+('hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF5'+'x5(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a/'+'/\x20Clustere'+'d\x20Spot\x20Sam'+'pling\x20usin'+'g\x20atlas\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF1)\x0a\x0afl'+'oat\x20getSha'+'dowSpotClu'+'steredPCF1'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSha'+'dow(shadow'+'Map,\x20shado'+'wCoord);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x0af'+'loat\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF3x3'+'(SHADOWMAP'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a}\x0a\x0a#'+'endif\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x0afloa'+'t\x20getShado'+'wSpotClust'+'eredPCF5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC')+('oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a}'+'\x0a#endif\x0a'),p1='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20clu'+'sterWorldT'+'exture;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20lightsTe'+'xture;\x0a\x0a#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x20\x20\x20\x20//\x20TO'+'DO:\x20when\x20V'+'SM\x20shadow\x20'+'is\x20support'+'ed,\x20it\x20nee'+'ds\x20to\x20use\x20'+'sampler2D\x20'+'in\x20webgl2\x0a'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'DShadow\x20sh'+'adowAtlasT'+'exture;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20CLUSTER'+'_COOKIES\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20cookieAtl'+'asTexture;'+'\x0a#endif\x0a\x0au'+'niform\x20int'+'\x20clusterMa'+'xCells;\x0a\x0a/'+'/\x201.0\x20if\x20c'+'lustered\x20l'+'ighting\x20ca'+'n\x20be\x20skipp'+'ed\x20(0\x20ligh'+'ts\x20in\x20the\x20'+'clusters)\x0a'+'uniform\x20fl'+'oat\x20cluste'+'rSkip;\x0a\x0aun'+'iform\x20vec3'+'\x20clusterCe'+'llsCountBy'+'BoundsSize'+';\x0auniform\x20'+'vec3\x20clust'+'erTextureS'+'ize;\x0aunifo'+'rm\x20vec3\x20cl'+'usterBound'+'sMin;\x0aunif'+'orm\x20vec3\x20c'+'lusterBoun'+'dsDelta;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsDot;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsMax;\x0au'+'niform\x20vec'+'2\x20shadowAt'+'lasParams;'+'\x0a\x0a//\x20struc'+'ture\x20stori'+'ng\x20light\x20p'+'roperties\x20'+'of\x20a\x20clust'+'ered\x20light'+'\x0a//\x20it\x27s\x20s'+('orted\x20to\x20h'+'ave\x20all\x20ve'+'ctors\x20alig'+'ned\x20to\x204\x20f'+'loats\x20to\x20l'+'imit\x20paddi'+'ng\x0astruct\x20'+'ClusterLig'+'htData\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x2032b'+'it\x20of\x20flag'+'s\x0a\x20\x20\x20\x20uint'+'\x20flags;\x0a\x0a\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20siz'+'es\x20/\x20orien'+'tation\x0a\x20\x20\x20'+'\x20vec3\x20half'+'Width;\x0a\x0a\x20\x20'+'\x20\x20bool\x20isS'+'pot;\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20sizes\x20'+'/\x20orientat'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20halfHei'+'ght;\x0a\x0a\x20\x20\x20\x20'+'//\x20light\x20i'+'ndex\x0a\x20\x20\x20\x20i'+'nt\x20lightIn'+'dex;\x0a\x0a\x20\x20\x20\x20'+'//\x20world\x20s'+'pace\x20posit'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20positio'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20uint\x20sha'+'pe;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20direct'+'ion\x20(spot\x20'+'light\x20only'+')\x0a\x20\x20\x20\x20vec3'+'\x20direction'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20foll'+'ow\x20mode\x0a\x20\x20'+'\x20\x20bool\x20fal'+'loffModeLi'+'near;\x0a\x0a\x20\x20\x20'+'\x20//\x20color\x0a'+'\x20\x20\x20\x20vec3\x20c'+'olor;\x0a\x0a\x20\x20\x20'+'\x20//\x200.0\x20if'+'\x20the\x20light'+'\x20doesn\x27t\x20c'+'ast\x20shadow'+'s\x0a\x20\x20\x20\x20floa'+'t\x20shadowIn'+'tensity;\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20vec3\x20om'+'niAtlasVie'+'wport;\x0a\x0a\x20\x20'+'\x20\x20//\x20range'+'\x20of\x20the\x20li'+'ght\x0a\x20\x20\x20\x20fl'+'oat\x20range;'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'hannel\x20mas'+'k\x20-\x20one\x20of'+'\x20the\x20chann'+'els\x20has\x201,'+'\x20the\x20other'+'s\x20are\x200\x0a\x20\x20'+'\x20\x20vec4\x20coo'+'kieChannel'+'Mask;\x0a\x0a\x20\x20\x20'+'\x20//\x20compre'+'ssed\x20biase'+'s,\x20two\x20haf'+'-floats\x20st'+'ored\x20in\x20a\x20'+'float\x0a\x20\x20\x20\x20'+'float\x20bias'+'esData;\x0a\x0a\x20')+('\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20f'+'loat\x20angle'+'sData;\x0a\x0a\x20\x20'+'\x20\x20//\x20spot\x20'+'light\x20inne'+'r\x20and\x20oute'+'r\x20angle\x20co'+'sine\x0a\x20\x20\x20\x20f'+'loat\x20inner'+'ConeAngleC'+'os;\x0a\x20\x20\x20\x20fl'+'oat\x20outerC'+'oneAngleCo'+'s;\x0a\x0a\x20\x20\x20\x20//'+'\x20intensity'+'\x20of\x20the\x20co'+'okie\x0a\x20\x20\x20\x20f'+'loat\x20cooki'+'eIntensity'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20//flo'+'at\x20mask;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Dynamic;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Lightmappe'+'d;\x0a};\x0a\x0a//\x20'+'Note:\x20on\x20s'+'ome\x20device'+'s\x20(tested\x20'+'on\x20Pixel\x203'+'A\x20XL),\x20thi'+'s\x20matrix\x20w'+'hen\x20stored'+'\x20inside\x20th'+'e\x20light\x20st'+'ruct\x20has\x20l'+'ower\x20preci'+'sion\x20compa'+'red\x20to\x0a//\x20'+'when\x20store'+'d\x20outside,'+'\x20so\x20we\x20sto'+'re\x20it\x20outs'+'ide\x20to\x20avo'+'id\x20spot\x20sh'+'adow\x20flick'+'ering.\x20Thi'+'s\x20might\x20ne'+'ed\x20to\x20be\x20d'+'one\x20to\x20oth'+'er\x20/\x20all\x20m'+'embers\x0a//\x20'+'of\x20the\x20str'+'ucture\x20if\x20'+'further\x20si'+'milar\x20issu'+'es\x20are\x20obs'+'erved.\x0a\x0a//'+'\x20shadow\x20(s'+'pot\x20light\x20'+'only)\x20/\x20co'+'okie\x20proje'+'ction\x20matr'+'ix\x0amat4\x20li'+'ghtProject'+'ionMatrix;'+'\x0a\x0avec4\x20sam'+'pleLightTe'+'xtureF(con'+'st\x20Cluster'+'LightData\x20'+'clusterLig'+'htData,\x20in'+'t\x20index)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(lightsT'+'exture,\x20iv'+'ec2(index,'+'\x20clusterLi'+'ghtData.li'+'ghtIndex),'+'\x200);\x0a}\x0a\x0avo'+'id\x20decodeC'+'lusterLigh')+('tCore(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20flo'+'at\x20lightIn'+'dex)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20index\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.li'+'ghtIndex\x20='+'\x20int(light'+'Index);\x0a\x0a\x20'+'\x20\x20\x20//\x20samp'+'le\x20data\x20en'+'coding\x20hal'+'f-float\x20va'+'lues\x20into\x20'+'32bit\x20uint'+'s\x0a\x20\x20\x20\x20vec4'+'\x20halfData\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_COL'+'OR_ANGLES_'+'BIAS});\x0a\x0a\x20'+'\x20\x20\x20//\x20stor'+'e\x20floats\x20w'+'e\x20decode\x20l'+'ater\x20as\x20ne'+'eded\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.angl'+'esData\x20=\x20h'+'alfData.z;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.biasesDa'+'ta\x20=\x20halfD'+'ata.w;\x0a\x0a\x20\x20'+'\x20\x20//\x20decom'+'press\x20colo'+'r\x20half-flo'+'ats\x0a\x20\x20\x20\x20ve'+'c2\x20colorRG'+'\x20=\x20unpackH'+'alf2x16(fl'+'oatBitsToU'+'int(halfDa'+'ta.x));\x0a\x20\x20'+'\x20\x20vec2\x20col'+'orB_\x20=\x20unp'+'ackHalf2x1'+'6(floatBit'+'sToUint(ha'+'lfData.y))'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.color\x20='+'\x20vec3(colo'+'rRG,\x20color'+'B_.x)\x20*\x20{L'+'IGHT_COLOR'+'_DIVIDER};'+'\x0a\x0a\x20\x20\x20\x20//\x20p'+'osition\x20an'+'d\x20range,\x20f'+'ull\x20floats'+'\x0a\x20\x20\x20\x20vec4\x20'+'lightPosRa'+'nge\x20=\x20samp'+'leLightTex'+'tureF(clus'+'terLightDa'+'ta,\x20{CLUST'+'ER_TEXTURE'+'_POSITION_'+'RANGE});\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'position\x20='+'\x20lightPosR'+'ange.xyz;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.range\x20=\x20l'+'ightPosRan'+'ge.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20d'+'irection\x20&'+'\x20flags\x20dat'+'a\x0a\x20\x20\x20\x20vec4'+'\x20lightDir_'+'Flags\x20=\x20sa'+'mpleLightT'+'extureF(cl')+('usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_DIRECTI'+'ON_FLAGS})'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20direction'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.directio'+'n\x20=\x20lightD'+'ir_Flags.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x2032bit\x20fl'+'ags\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20floatBi'+'tsToUint(l'+'ightDir_Fl'+'ags.w);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sSpot\x20=\x20(c'+'lusterLigh'+'tData.flag'+'s\x20&\x20(1u\x20<<'+'\x2030u))\x20!=\x20'+'0u;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.shape'+'\x20=\x20(cluste'+'rLightData'+'.flags\x20>>\x20'+'28u)\x20&\x200x3'+'u;\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.fallof'+'fModeLinea'+'r\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2027u'+'))\x20==\x200u;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.shadowInt'+'ensity\x20=\x20f'+'loat((clus'+'terLightDa'+'ta.flags\x20>'+'>\x200u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eIntensity'+'\x20=\x20float(('+'clusterLig'+'htData.fla'+'gs\x20>>\x208u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sDynamic\x20='+'\x20(clusterL'+'ightData.f'+'lags\x20&\x20(1u'+'\x20<<\x2022u))\x20'+'!=\x200u;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.is'+'Lightmappe'+'d\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2021u'+'))\x20!=\x200u;\x0a'+'}\x0a\x0avoid\x20de'+'codeCluste'+'rLightSpot'+'(inout\x20Clu'+'sterLightD'+'ata\x20cluste'+'rLightData'+')\x20{\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20cos\x20ang'+'les\x0a\x20\x20\x20\x20ve'+'c2\x20angles\x20'+'=\x20unpackHa'+'lf2x16(flo'+'atBitsToUi'+'nt(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight')+('Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20{CLUSTER'+'_TEXTURE_P'+'ROJ_MAT_0}'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_AREA_DA'+'TA_WIDTH})'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20{C'+'LUSTER_TEX'+'TURE_AREA_'+'DATA_HEIGH'+'T}).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20{CL'+'USTER_TEXT'+'URE_PROJ_M'+'AT_0});\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_PRO'+'J_MAT_1});'+'\x0a\x20\x20\x20\x20vec4\x20'+'m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20{CLUSTE'+'R_TEXTURE_'+'PROJ_MAT_2'+'});\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight')+('Data,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'2\x20biases\x20='+'\x20unpackHal'+'f2x16(floa'+'tBitsToUin'+'t(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20extra'+'ct\x20channel'+'\x20mask\x20from'+'\x20flags\x0a\x20\x20\x20'+'\x20uint\x20cook'+'ieFlags\x20=\x20'+'(clusterLi'+'ghtData.fl'+'ags\x20>>\x2023u'+')\x20&\x200x0Fu;'+'\x20\x20//\x204bits'+',\x20each\x20bit'+'\x20enables\x20a'+'\x20channel\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'cookieChan'+'nelMask\x20=\x20'+'vec4(uvec4'+'(cookieFla'+'gs)\x20&\x20uvec'+'4(1u,\x202u,\x20'+'4u,\x208u));\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.cookieCha'+'nnelMask\x20='+'\x20step(1.0,'+'\x20clusterLi'+'ghtData.co'+'okieChanne'+'lMask);\x20\x20/'+'/\x20Normaliz'+'e\x20to\x200.0\x20o'+'r\x201.0\x0a}\x0a\x0av'+'oid\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20Cluster'+'LightData\x20'+'light,\x20\x0a\x20\x20'+'\x20\x20vec3\x20wor'+'ldNormal,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'viewDir,\x20\x0a'+'\x20\x20\x20\x20vec3\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20')+('\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20vec'+'3(1.0);\x0a\x20\x20'+'\x20\x20float\x20di'+'ffuseAtten'+'uation\x20=\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20fallof'+'fAttenuati'+'on\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20omn'+'i\x20part\x20of\x20'+'the\x20light\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ightDirW\x20='+'\x20evalOmniL'+'ight(light'+'.position)'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'ormW\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20')+('else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20=\x20get'+'FalloffLin'+'ear(light.'+'range,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20getFa'+'lloffInvSq'+'uared(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_AREALIGH'+'TS\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shape\x20!='+'\x20{LIGHTSHA'+'PE_PUNCTUA'+'L})\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20hand'+'le\x20light\x20s'+'hape\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getRec'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirW,\x20lig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'DISK})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getD'+'iskLightDi'+'ffuse(worl'+'dNormal,\x20v'+'iewDir,\x20li'+'ghtDirW,\x20l'+'ightDirNor'+'mW)\x20*\x2016.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20g'+'etLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+');\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spot'+'\x20light\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20lightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_COOK'+'IES)\x20||\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x20/\x20cookie\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shadowIn'+'tensity\x20>\x20'+'0.0\x20||\x20lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'ared\x20shado'+'w\x20/\x20cookie'+'\x20data\x20depe'+'nds\x20on\x20lig'+'ht\x20type\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightOmniAt'+'lasViewpor'+'t(light);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowAtlasPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowEdge'+'Pixels\x20=\x20s'+'hadowAtlas'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_COOKIES\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'cookie\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightCook'+'ieData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.isSp'+'ot)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookie2'+'DClustered'+'(TEXTURE_P'+'ASS(cookie'+'AtlasTextu'+'re),\x20light'+'Projection'+'Matrix,\x20vP'+'ositionW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20cookieAt'+'tenuation\x20'+'=\x20getCooki'+'eCubeClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightDirW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask,\x20sh'+'adowTextur'+'eResolutio'+'n,\x20shadowE'+'dgePixels,'+'\x20light.omn'+'iAtlasView'+'port);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20shadow\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shadow'+'Intensity\x20'+'>\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d')+('ecodeClust'+'erLightSha'+'dowData(li'+'ght);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20shadowPa'+'rams\x20=\x20vec'+'4(shadowTe'+'xtureResol'+'ution,\x20lig'+'ht.shadowN'+'ormalBias,'+'\x20light.sha'+'dowBias,\x201'+'.0\x20/\x20light'+'.range);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'isSpot)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ot\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat'+'rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F1)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CF1(SHADOW'+'MAP_PASS(s'+'hadowAtlas'+'Texture),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20de'+'fined(CLUS'+'TER_SHADOW'+'_TYPE_PCF3'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_PASS(sha'+'dowAtlasTe'+'xture),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#elif\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF5('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owCoord,\x20s'+'hadowParam')+('s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCSS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCSS(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20m'+'ix(1.0,\x20sh'+'adow,\x20ligh'+'t.shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20om'+'ni\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20d'+'ir\x20=\x20norma'+'lOffsetPoi'+'ntShadow(s'+'hadowParam'+'s,\x20light.p'+'osition,\x20l'+'ightDirW,\x20'+'lightDirNo'+'rmW,\x20geome'+'tricNormal'+');\x20\x20//\x20nor'+'malBias\x20ad'+'justed\x20for'+'\x20distance\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F1(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF3)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF3(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,')+('\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wOmniClust'+'eredPCF5(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20*=\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20areaDi'+'ffuse\x20=\x20(d'+'iffuseAtte'+'nuation\x20*\x20'+'falloffAtt'+'enuation)\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaDiffuse\x20'+'=\x20mix(area'+'Diffuse,\x20v'+'ec3(0),\x20dL'+'TCSpecFres'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20dif'+'fuse\x20-\x20it\x20'+'does\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20')+('into\x20specu'+'lar\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20a'+'reaDiffuse'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20specular'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20areaLig'+'htSpecular'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'RECT})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecular\x20=\x20g'+'etRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20area'+'LightSpecu'+'lar\x20=\x20getD'+'iskLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x20//\x20sp'+'here\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getSp'+'hereLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp'+'ecFres\x20*\x20a'+'reaLightSp'+'ecular\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x20clear'+'\x20coat\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20areaLigh'+'tSpecularC')+('C;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shape\x20'+'==\x20{LIGHTS'+'HAPE_RECT}'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getRectLig'+'htSpecular'+'(clearcoat'+'_worldNorm'+'al,\x20viewDi'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(light'+'.shape\x20==\x20'+'{LIGHTSHAP'+'E_DISK})\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'arCC\x20=\x20get'+'DiskLightS'+'pecular(cl'+'earcoat_wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x20'+'//\x20sphere\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'rCC\x20=\x20getS'+'phereLight'+'Specular(c'+'learcoat_w'+'orldNormal'+',\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20ccLTCS'+'pecFres\x20*\x20'+'areaLightS'+'pecularCC\x20'+'*\x20falloffA'+'ttenuation'+'\x20*\x20light.c'+'olor\x20\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20{\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'unctualDif'+'fuse\x20=\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'CLUSTER_AR'+'EALIGHTS)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20punctual')+('Diffuse\x20=\x20'+'mix(punctu'+'alDiffuse,'+'\x20vec3(0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20punctu'+'alDiffuse;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20and\x20cle'+'ar\x20coat\x20ar'+'e\x20material'+'\x20settings\x20'+'and\x20get\x20in'+'cluded\x20by\x20'+'a\x20define\x20b'+'ased\x20on\x20th'+'e\x20material'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20halfD'+'ir\x20=\x20norma'+'lize(-ligh'+'tDirNormW\x20'+'+\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htSpecular'+'(halfDir,\x20'+'reflection'+'Dir,\x20world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'halfDir,\x20c'+'learcoatRe'+'flectionDi'+'r,\x20clearco'+'at_worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'clearcoat_'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20g'+'etFresnelC'+'C(dot(view'+'Dir,\x20halfD'+'ir));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20getLi'+'ghtSpecula'+'r(halfDir,'+'\x20clearcoat'+'Reflection'+'Dir,\x20clear'+'coat_world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec')+('ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNormW,'+'\x20sheen_glo'+'ss)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20Wri'+'te\x20to\x20glob'+'al\x20attenua'+'tion\x20value'+'s\x20(for\x20lig'+'htmapper)\x0a'+'\x20\x20\x20\x20dAtten'+'\x20=\x20falloff'+'Attenuatio'+'n;\x0a\x20\x20\x20\x20dLi'+'ghtDirNorm'+'W\x20=\x20lightD'+'irNormW;\x0a}'+'\x0a\x0avoid\x20eva'+'luateClust'+'erLight(\x0a\x20'+'\x20\x20\x20float\x20l'+'ightIndex,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20worldNorm'+'al,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20viewDi'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20reflect'+'ionDir,\x20\x0a#'+'if\x20defined'+'(LIT_CLEAR'+'COAT)\x0a\x20\x20\x20\x20'+'vec3\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'float\x20glos'+'s,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20vec3\x20geom'+'etricNorma'+'l,\x20\x0a\x20\x20\x20\x20ma'+'t3\x20tbn,\x20\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20ve'+'c3\x20clearco'+'at_worldNo'+'rmal,\x0a\x20\x20\x20\x20'+'float\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20flo'+'at\x20sheen_g'+'loss,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escence_in'+'tensity\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'decode\x20cor'+'e\x20light\x20da'+'ta\x20from\x20te'+'xtures\x0a\x20\x20\x20'+'\x20ClusterLi'+'ghtData\x20cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(cluster'+'LightData,'+'\x20lightInde'+'x);\x0a\x0a\x20\x20\x20\x20/'+'/\x20evaluate'+'\x20light\x20if\x20'+'it\x20uses\x20ac'+'cepted\x20lig'+'ht\x20mask\x0a\x20\x20'+'\x20\x20#ifdef\x20C')+('LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20bool\x20'+'acceptLigh'+'tMask\x20=\x20cl'+'usterLight'+'Data.isDyn'+'amic;\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bool\x20a'+'cceptLight'+'Mask\x20=\x20clu'+'sterLightD'+'ata.isLigh'+'tmapped;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20if\x20(a'+'cceptLight'+'Mask)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a#end')+('if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l'+'ightCellIn')+('dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20r'+'ed\x20channel'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20l'+'ightIndex\x20'+'=\x20texelFet'+'ch(cluster'+'WorldTextu'+'re,\x20ivec2('+'int(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20clusterV'+'),\x200).x;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'tIndex\x20<=\x20'+'0.0)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20break;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20evaluateC'+'lusterLigh'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightIndex\x20'+'*\x20255.0,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel,\x0a#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cl'+'earcoat_gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sheen_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),m1='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion)\x20*\x20cl'+'earcoatSpe'+'cularity;\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20r'+'et;\x0a}\x0a',_1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}\x0a',g1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}\x0a',S1='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}\x0a',y1='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),v1='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20envBoxM'+'in;\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20envBoxMax'+';\x0a#endif\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_CUB'+'EMAP_PROJE'+'CTION\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20c'+'ubeMapRota'+'te(nrdir);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20LIT_CUBEM'+'AP_PROJECT'+'ION\x20==\x20BOX'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'nrdir\x20=\x20cu'+'beMapRotat'+'e(nrdir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20rbmax\x20'+'=\x20(envBoxM'+'ax\x20-\x20vPosi'+'tionW)\x20/\x20n'+'rdir;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20rbmin'+'max\x20=\x20mix('+'rbmin,\x20rbm'+'ax,\x20vec3(g'+'reaterThan'+'(nrdir,\x20ve'+'c3(0.0))))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20fa\x20='+'\x20min(min(r'+'bminmax.x,'+'\x20rbminmax.'+'y),\x20rbminm'+'ax.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20posonbox\x20'+'=\x20vPositio'+'nW\x20+\x20nrdir'+'\x20*\x20fa;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envBoxPos\x20'+'=\x20(envBoxM'+'in\x20+\x20envBo'+'xMax)\x20*\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20no'+'rmalize(po'+'sonbox\x20-\x20e'+'nvBoxPos);'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',x1='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',T1='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',w1='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',E1='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'Z(vec4\x20nma'+'p)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20nmap'+'.xyz\x20*\x202.0'+'\x20-\x201.0;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'(vec4\x20nmap'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20normal;'+'\x0a\x20\x20\x20\x20norma'+'l.xy\x20=\x20nma'+'p.wy\x20*\x202.0'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20normal.z'+'\x20=\x20sqrt(1.'+'0\x20-\x20clamp('+'dot(normal'+'.xy,\x20norma'+'l.xy),\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20return\x20'+'normal;\x0a}\x0a'+'\x0a#endif\x0a',b1='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0avec3\x20'+'detailMode'+'_mul(vec3\x20'+'c1,\x20vec3\x20c'+'2)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20c1\x20*'+'\x20c2;\x0a}\x0a\x0ave'+'c3\x20detailM'+'ode_add(ve'+'c3\x20c1,\x20vec'+'3\x20c2)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'1\x20+\x20c2;\x0a}\x0a'+'\x0a//\x20https:'+'//en.wikip'+'edia.org/w'+'iki/Blend_'+'modes#Scre'+'en\x0avec3\x20de'+'tailMode_s'+'creen(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x201.0'+'\x20-\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2);\x0a}\x0a\x0a/'+'/\x20https://'+'en.wikiped'+'ia.org/wik'+'i/Blend_mo'+'des#Overla'+'y\x0avec3\x20det'+'ailMode_ov'+'erlay(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(1.0\x20-\x202.0'+'\x20*\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2),\x202.0\x20'+'*\x20c1\x20*\x20c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a\x0a'+'#endif\x0a',A1='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0a#ifdef\x20'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'detailMode'+'sPS\x22\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_DIFFUS'+'E_TEXTURE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20albedoT'+'exture\x20=\x20{'+'STD_DIFFUS'+'E_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_DIF'+'FUSE_TEXTU'+'RE_NAME},\x20'+'{STD_DIFFU'+'SE_TEXTURE'+'_UV},\x20text'+'ureBias)).'+'{STD_DIFFU'+'SE_TEXTURE'+'_CHANNEL};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSEDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'albedoDeta'+'il\x20=\x20{STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_DECODE}('+'texture2DB'+'ias({STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'DETAIL_TEX'+'TURE_UV},\x20'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20*=\x20albe'+'doTexture;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSE_VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAlbedo\x20*'+'=\x20gammaCor'+'rectInput('+'saturate(v'+'VertexColo'+'r.{STD_DIF'+'FUSE_VERTE'+'X_CHANNEL}'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',C1='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_TEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20{STD_EMIS'+'SIVE_TEXTU'+'RE_DECODE}'+'(texture2D'+'Bias({STD_'+'EMISSIVE_T'+'EXTURE_NAM'+'E},\x20{STD_E'+'MISSIVE_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'EMISSIVE_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_EMISSI'+'VE_VERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.{ST'+'D_EMISSIVE'+'_VERTEX_CH'+'ANNEL}));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',P1='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),M1='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',D1='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20floa'+'t\x20atlasSiz'+'e\x20=\x20512.0;'+'\x0aconst\x20flo'+'at\x20seamSiz'+'e\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0avec2\x20ma'+'pUv(vec2\x20u'+'v,\x20vec4\x20re'+'ct)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(mix(rect'+'.x\x20+\x20seamS'+'ize,\x20rect.'+'x\x20+\x20rect.z'+'\x20-\x20seamSiz'+'e,\x20uv.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mix('+'rect.y\x20+\x20s'+'eamSize,\x20r'+'ect.y\x20+\x20re'+'ct.w\x20-\x20sea'+'mSize,\x20uv.'+'y));\x0a}\x0a\x0a//'+'\x20map\x20a\x20nor'+'malized\x20eq'+'uirect\x20UV\x20'+'and\x20roughn'+'ess\x20level\x20'+'to\x20the\x20cor'+'rect\x20atlas'+'\x20rect.\x0avec'+'2\x20mapRough'+'nessUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'0,\x201.0\x20-\x20t'+',\x20t,\x20t\x20*\x200'+'.5));\x0a}\x0a\x0a/'+'/\x20map\x20shin'+'y\x20level\x20UV'+'\x0avec2\x20mapS'+'hinyUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'1.0\x20-\x20t,\x201'+'.0\x20-\x20t,\x20t,'+'\x20t\x20*\x200.5))'+';\x0a}\x0a\x0a#endi'+'f\x0a',I1='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20float\x20sky'+'boxIntensi'+'ty;\x0a#endif'+'\x0a\x0avec3\x20pro'+'cessEnviro'+'nment(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20skybo'+'xIntensity'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',L1='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(satura'+'te(1.0\x20-\x20s'+'quare(sqrD'+'ist\x20*\x20squa'+'re(invRadi'+'us))));\x0a}\x0a'+'\x0afloat\x20get'+'FalloffInv'+'Squared(fl'+'oat\x20lightR'+'adius,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20sqrDis'+'t\x20=\x20dot(li'+'ghtDir,\x20li'+'ghtDir);\x0a\x20'+'\x20\x20\x20float\x20f'+'alloff\x20=\x201'+'.0\x20/\x20(sqrD'+'ist\x20+\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20invRadiu'+'s\x20=\x201.0\x20/\x20'+'lightRadiu'+'s;\x0a\x0a\x20\x20\x20\x20fa'+'lloff\x20*=\x201'+'6.0;\x0a\x20\x20\x20\x20f'+'alloff\x20*=\x20'+'square(sat'+'urate(1.0\x20'+'-\x20square(s'+'qrDist\x20*\x20s'+'quare(invR'+'adius))));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20falloff'+';\x0a}\x0a',R1='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',O1='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0av'+'ec4\x20float2'+'vec4(float'+'\x20value)\x20{\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(CAPS'+'_TEXTURE_F'+'LOAT_RENDE'+'RABLE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4(val'+'ue,\x201.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20float'+'2uint(valu'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0a#e'+'ndif\x20//\x20FL'+'OAT_AS_UIN'+'T\x0a',F1='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',N1='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20saturate'+'(cosTheta)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20satu'+'rate(cosTh'+'eta),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',k1='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x200.5;\x0a}\x0a',U1='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',B1='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_GLO'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_GLOSS_'+'TEXTURE\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20*=\x20tex'+'ture2DBias'+'({STD_GLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_GLOSS_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_G'+'LOSS_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_INVE'+'RT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x201.0\x20-\x20dGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20+='+'\x200.0000001'+';\x0a}\x0a',z1='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20#'+'if\x20WEBGPU\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ce'+'nterProj.z'+'\x20=\x20clamp(c'+'enterProj.'+'z,\x200,\x20abs('+'centerProj'+'.w));\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20center'+'Proj.z\x20=\x20c'+'lamp(cente'+'rProj.z,\x20-'+'abs(center'+'Proj.w),\x20a'+'bs(centerP'+'roj.w));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20cente'+'r.view\x20=\x20c'+'enterView.'+'xyz\x20/\x20cent'+'erView.w;\x0a'+'\x20\x20\x20\x20center'+'.proj\x20=\x20ce'+'nterProj;\x0a'+'\x20\x20\x20\x20center'+'.projMat00'+'\x20=\x20matrix_'+'projection'+'[0][0];\x0a\x20\x20'+'\x20\x20center.m'+'odelView\x20='+'\x20modelView'+';\x0a\x20\x20\x20\x20retu'+'rn\x20true;\x0a}'+'\x0a',V1='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0a//\x20:\x200'+'.0\x20~\x201.0\x20'+'\x0afl'+'oat\x20comput'+'eAlpha(flo'+'at\x20muT,\x20fl'+'oat\x20uTime,'+'\x20float\x20uFa'+'deSpeed,\x20f'+'loat\x20life)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20age\x20=\x20('+'uTime\x20-\x20mu'+'T)\x20*\x202.0;\x20'+'//\x20'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'muT\x20>\x20uTim'+'e)\x20return\x20'+'0.0;\x0a\x0a\x20\x20\x20\x20'+'//\x20---\x20'+'\x20life\x20'+'---\x0a\x20\x20\x20\x20fl'+'oat\x20linear'+'Fade\x20=\x201.0'+'\x20-\x20age\x20/\x20l'+'ife;\x0a\x20\x20\x20\x20/'+'/\x20---\x20'+'\x20uFadeS'+'peed\x20---\x0a\x20'+'\x20\x20\x20float\x20e'+'xpFade\x20=\x20e'+'xp(-age\x20*\x20'+'uFadeSpeed'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20cl'+'amp(linear'+'Fade,\x200.0,'+'\x201.0);\x20\x0a\x20\x20'+'\x20\x20return\x20c'+'lamp(expFa'+'de,\x200.0,\x201'+'.0);\x0a}\x0a\x0a\x0av'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20uTime,\x20'+'bool\x20plusA'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'color\x20=\x20te'+'xelFetch(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a\x20\x20\x20\x20'+'#ifdef\x20IS_'+'4D\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20tDat'+'a\x20=\x20texelF'+'etch(trans'+'formLifecy'+'cle,\x20sourc'+'e.uv,\x200).x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20muT'+'\x20=\x20tData.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20saveA'+'\x20=\x20pointCl'+'oudModeEna'+'bled\x20==\x201\x20'+'?\x201.0\x20:\x20co'+'lor.a;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20alpha\x20=\x20s'+'aveA;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(uOp'+'enAnim\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20alp'+'ha\x20=\x20alpha'+'\x20*\x20(muT\x20-\x20'+'uTime\x20+\x200.'+'05);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20age\x20=\x20u'+'Time\x20-\x20muT'+';\x20\x20\x20\x20//\x20'+'\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20uFad'+'eSpeed\x20=\x202'+('.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20life\x20=\x200'+'.1;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20alph'+'a\x20=\x20comput'+'eAlpha(muT'+',\x20uTime,\x20u'+'FadeSpeed,'+'\x20life);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'alpha\x20*=\x20a'+'lpha;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor.a\x20=\x20p'+'lusA\x20?\x20alp'+'ha\x20:\x20saveA'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20ret'+'urn\x20color;'+'\x0a}\x0a\x0a'),G1='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ement\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20aaF'+'actor;\x20//\x20'+'for\x20scenes'+'\x20generated'+'\x20with\x20anti'+'aliasing\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20vec2\x20'+'v;\x0a\x20\x20\x20\x20flo'+'at\x20dlen;\x0a\x20'+'\x20\x20\x20vec2\x20cS'+'ize;\x0a\x20\x20\x20\x20v'+'ec2\x20cUV;\x0a}'+';\x0a\x0a#includ'+'e\x20\x22gsplatE'+'valSHVS\x22\x0a#'+'include\x20\x22g'+'splatQuatT'+'oMat3VS\x22\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+('D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_COEFFS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x20='+'=\x20true\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22gsplatSog'+'sDataVS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSo'+'gsSHVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0avoi'+'d\x20clipCorn'+'er(inout\x20S'+'platCorner'+'\x20corner,\x20f'+'loat\x20alpha'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20clip\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20255.'+'0\x20/\x20alpha)'+')\x20/\x202.0);\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20*='+'\x20clip;\x0a\x20\x20\x20'+'\x20corner.uv'+'\x20*=\x20clip;\x0a'+'}\x0a'),H1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{')+('\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec'+'3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat')+('a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex'+'ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu')+('nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),W1='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),$1='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20S'+'H_COEFFS\x203'+'\x0a\x20\x20\x20\x20#elif'+'\x20SH_BANDS\x20'+'==\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20SH_COEFFS'+'\x208\x0a\x20\x20\x20\x20#el'+'if\x20SH_BAND'+'S\x20==\x203\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20SH_COEF'+'FS\x2015\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20SH_COEFF'+'S\x200\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x200\x0a\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20SH_C1\x20'+'=\x200.488602'+'5119029199'+'f;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x201\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20f'+'loat\x20SH_C2'+'_0\x20=\x201.092'+'5484305920'+'792f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'2_1\x20=\x20-1.0'+'9254843059'+'20792f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C2_2\x20=\x200.'+'3153915652'+'5252005f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C2_3\x20=\x20'+'-1.0925484'+'305920792f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'const\x20floa'+'t\x20SH_C2_4\x20'+'=\x200.546274'+'2152960396'+'f;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x202\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'3_0\x20=\x20-0.5'+'9004358992'+'66435f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_1\x20=\x202.'+'8906114426'+'40554f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_2\x20=\x20-0'+'.457045799'+'4644658f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C3_3\x20=\x20'+'0.37317633'+'25901154f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20float'+'\x20SH_C3_4\x20='+'\x20-0.457045'+'7994644658'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_5'+'\x20=\x201.44530'+'5721320277'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_6'+'\x20=\x20-0.5900'+'4358992664'+'35f;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+('ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'\x20\x20\x20\x20vec3\x20e'+'valSH(in\x20v'+'ec3\x20sh[SH_'+'COEFFS],\x20i'+'n\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20dir.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20y\x20=\x20dir'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201st\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20resul'+'t\x20=\x20SH_C1\x20'+'*\x20(-sh[0]\x20'+'*\x20y\x20+\x20sh[1'+']\x20*\x20z\x20-\x20sh'+'[2]\x20*\x20x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x201\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x202nd\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xx\x20=\x20x\x20*\x20x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'zz\x20=\x20z\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yz\x20=\x20y\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xz\x20=\x20x\x20*\x20z'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[3]\x20*\x20('+'SH_C2_0\x20*\x20'+'xy)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[4]\x20*\x20'+'(SH_C2_1\x20*'+'\x20yz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[5]\x20*'+'\x20(SH_C2_2\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x20xx\x20-\x20y'+'y))\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[6]\x20*\x20'+'(SH_C2_3\x20*'+'\x20xz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20*'+'\x20(SH_C2_4\x20'+'*\x20(xx\x20-\x20yy'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'+=\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20')+('xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20#endif\x0a'),X1='\x0amat3\x20quat'+'ToMat3(vec'+'4\x20R)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20R2\x20='+'\x20R\x20+\x20R;\x0a\x20\x20'+'\x20\x20float\x20X\x20'+'=\x20R2.x\x20*\x20R'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20Y\x20\x20=\x20R2'+'.y\x20*\x20R;\x0a\x20\x20'+'\x20\x20vec4\x20Z\x20\x20'+'=\x20R2.z\x20*\x20R'+';\x0a\x20\x20\x20\x20floa'+'t\x20W\x20=\x20R2.w'+'\x20*\x20R.w;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x201.0\x20-\x20'+'Z.z\x20-\x20W,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20Y.z\x20+\x20X'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20Y.z\x20-\x20X,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x201.'+'0\x20-\x20Y.y\x20-\x20'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20+\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20Y.w\x20+\x20Z.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20-\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',q1='\x0auniform\x20m'+'ediump\x20sam'+'pler2D\x20sh0'+';\x0a\x0auniform'+'\x20vec4\x20sh0_'+'mins;\x0aunif'+'orm\x20vec4\x20s'+'h0_maxs;\x0a\x0a'+'float\x20SH_C'+'0\x20=\x200.2820'+'9479177387'+'814;\x0a\x0avec4'+'\x20readColor'+'(in\x20SplatS'+'ource\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20clr\x20='+'\x20mix(sh0_m'+'ins,\x20sh0_m'+'axs,\x20texel'+'Fetch(sh0,'+'\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(vec3(0.'+'5)\x20+\x20clr.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'clr.w)));\x0a'+'}\x0a',j1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0a\x0auniform\x20'+'vec3\x20means'+'_mins;\x0auni'+'form\x20vec3\x20'+'means_maxs'+';\x0a\x0auniform'+'\x20vec3\x20scal'+'es_mins;\x0au'+'niform\x20vec'+'3\x20scales_m'+'axs;\x0a\x0avec4'+'\x20unpackU32'+'(uint\x20v)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((v\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((v\x20>>'+'\x2016u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float((v'+'\x20>>\x208u)\x20&\x20'+'0xFFu)\x20/\x202'+'55.0,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float('+'v\x20&\x200xFFu)'+'\x20/\x20255.0\x0a\x20'+'\x20\x20\x20);\x0a}\x0a\x0au'+'vec4\x20packe'+'dSample;\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20th'+'e\x20packed\x20t'+'exture\x20sam'+'ple\x0a\x20\x20\x20\x20pa'+'ckedSample'+'\x20=\x20texelFe'+'tch(packed'+'Texture,\x20s'+'ource.uv,\x20'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20l\x20=\x20un'+'packU32(pa'+'ckedSample'+'.x).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20u\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20n\x20=\x20(l\x20*'+'\x20255.0\x20+\x20u'+'\x20*\x20255.0\x20*'+'\x20256.0)\x20/\x20'+'65535.0;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20mix(mean'+'s_mins,\x20me'+'ans_maxs,\x20'+'n);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20sign'+'(v)\x20*\x20(exp'+'(abs(v))\x20-'+'\x201.0);\x0a}\x0a\x0a'+'const\x20floa'+'t\x20norm\x20=\x202'+'.0\x20/\x20sqrt('+'2.0);\x0a\x0a//\x20'+'sample\x20cov'+'ariance\x20ve'+'ctors\x0avoid'+'\x20readCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'qdata\x20=\x20un'+'packU32(pa'+'ckedSample'+'.z);\x0a\x20\x20\x20\x20v'+'ec3\x20sdata\x20'+('=\x20unpackU3'+'2(packedSa'+'mple.w).xy'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20abc\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20f'+'loat\x20d\x20=\x20s'+'qrt(max(0.'+'0,\x201.0\x20-\x20d'+'ot(abc,\x20ab'+'c)));\x0a\x0a\x20\x20\x20'+'\x20uint\x20mode'+'\x20=\x20uint(qd'+'ata.w\x20*\x2025'+'5.0\x20+\x200.5)'+'\x20-\x20252u;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20q'+'uat\x20=\x20(mod'+'e\x20==\x200u)\x20?'+'\x20vec4(d,\x20a'+'bc)\x20:\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20((mode\x20='+'=\x201u)\x20?\x20ve'+'c4(abc.x,\x20'+'d,\x20abc.yz)'+'\x20:\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'(mode\x20==\x202'+'u)\x20?\x20vec4('+'abc.xy,\x20d,'+'\x20abc.z)\x20:\x20'+'vec4(abc,\x20'+'d)));\x0a\x0a\x20\x20\x20'+'\x20mat3\x20rot\x20'+'=\x20quatToMa'+'t3(quat);\x0a'+'\x20\x20\x20\x20vec3\x20s'+'cale\x20=\x20exp'+'(mix(scale'+'s_mins,\x20sc'+'ales_maxs,'+'\x20sdata));\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a'),Y1='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20sh_ce'+'ntroids;\x0a\x0a'+'uniform\x20fl'+'oat\x20shN_mi'+'ns;\x0aunifor'+'m\x20float\x20sh'+'N_maxs;\x0a\x0a/'+'/\x20To\x20suppo'+'rt\x20each\x20SH'+'\x20degree,\x20r'+'eadSHData\x20'+'is\x20overloa'+'ded\x20based\x20'+'on\x20the\x20SH\x20'+'vector\x20dep'+'th\x20\x0a\x0avoid\x20'+'readSHData'+'(in\x20SplatS'+'ource\x20sour'+'ce,\x20out\x20ve'+'c3\x20sh[SH_C'+'OEFFS],\x20ou'+'t\x20float\x20sc'+'ale)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'ivec2\x20t\x20=\x20'+'ivec2(pack'+'edSample.x'+'\x20&\x20255u,\x20p'+'ackedSampl'+'e.y\x20&\x20255u'+');\x0a\x20\x20\x20\x20int'+'\x20n\x20=\x20t.x\x20+'+'\x20t.y\x20*\x20256'+';\x0a\x20\x20\x20\x20int\x20'+'u\x20=\x20(n\x20%\x206'+'4)\x20*\x20SH_CO'+'EFFS;\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20n\x20'+'/\x2064;\x0a\x0a\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20offset'+'\x20into\x20the\x20'+'centroids\x20'+'texture\x20an'+'d\x20read\x20con'+'secutive\x20t'+'exels\x0a\x20\x20\x20\x20'+'for\x20(int\x20i'+'\x20=\x200;\x20i\x20<\x20'+'SH_COEFFS;'+'\x20i++)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[i'+']\x20=\x20mix(ve'+'c3(shN_min'+'s),\x20vec3(s'+'hN_maxs),\x20'+'texelFetch'+'(sh_centro'+'ids,\x20ivec2'+'(u\x20+\x20i,\x20v)'+',\x200).xyz);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20scale\x20=\x20'+'1.0;\x0a}\x0a',K1='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0auniform\x20'+'float\x20rend'+'erSpace;\x0au'+'niform\x20flo'+'at\x20endSpac'+'e;\x0auniform'+'\x20int\x20uShap'+'eN;\x0a\x0a//\x20ca'+'lculate\x20th'+'e\x20clip-spa'+'ce\x20offset\x20'+'from\x20the\x20c'+'enter\x20for\x20'+'this\x20gauss'+'ian\x0abool\x20i'+'nitCorner('+'SplatSourc'+'e\x20source,\x20'+'SplatCente'+'r\x20center,\x20'+'out\x20SplatC'+'orner\x20corn'+'er,\x20int\x20po'+'intCloudMo'+'deEnabled)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'get\x20covari'+'ance\x0a\x20\x20\x20\x20v'+'ec3\x20covA,\x20'+'covB;\x0a\x20\x20\x20\x20'+'readCovari'+'ance(sourc'+'e,\x20covA,\x20c'+'ovB);\x0a\x0a\x20\x20\x20'+'\x20mat3\x20Vrk\x20'+'=\x20mat3(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.x,\x20covA.y'+',\x20covA.z,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.y,\x20covB'+'.x,\x20covB.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'covA.z,\x20co'+'vB.y,\x20covB'+'.z\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20focal\x20=\x20v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'v\x20=\x20camera'+'_params.w\x20'+'==\x201.0\x20?\x20v'+'ec3(0.0,\x200'+'.0,\x201.0)\x20:'+'\x20center.vi'+'ew.xyz;\x0a\x20\x20'+'\x20\x20float\x20J1'+'\x20=\x20focal\x20/'+'\x20v.z;\x0a\x20\x20\x20\x20'+'vec2\x20J2\x20=\x20'+'-J1\x20/\x20v.z\x20'+'*\x20v.xy;\x0a\x20\x20'+'\x20\x20mat3\x20J\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20J1,\x200'+'.0,\x20J2.x,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x200.'+'0,\x20J1,\x20J2.'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.0,\x200.0,'+'\x200.0\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20mat'+'3\x20W\x20=\x20tran'+'spose(mat3'+'(center.mo'+'delView));'+'\x0a\x20\x20\x20\x20mat3\x20'+'T\x20=\x20W\x20*\x20J;'+'\x0a\x20\x20\x20\x20mat3\x20'+'cov\x20=\x20tran'+'spose(T)\x20*'+('\x20Vrk\x20*\x20T;\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'calculate\x20'+'AA\x20factor\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20detOri'+'g\x20=\x20cov[0]'+'[0]\x20*\x20cov['+'1][1]\x20-\x20co'+'v[0][1]\x20*\x20'+'cov[0][1];'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20detBl'+'ur\x20=\x20(cov['+'0][0]\x20+\x200.'+'3)\x20*\x20(cov['+'1][1]\x20+\x200.'+'3)\x20-\x20cov[0'+'][1]\x20*\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20corn'+'er.aaFacto'+'r\x20=\x20sqrt(m'+'ax(detOrig'+'\x20/\x20detBlur'+',\x200.0));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20diagonal1'+'\x20=\x20cov[0]['+'0]\x20+\x200.3;\x0a'+'\x20\x20\x20\x20float\x20'+'offDiagona'+'l\x20=\x20cov[0]'+'[1];\x0a\x20\x20\x20\x20f'+'loat\x20diago'+'nal2\x20=\x20cov'+'[1][1]\x20+\x200'+'.3;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mid\x20='+'\x200.5\x20*\x20(di'+'agonal1\x20+\x20'+'diagonal2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20radius\x20='+'\x20length(ve'+'c2((diagon'+'al1\x20-\x20diag'+'onal2)\x20/\x202'+'.0,\x20offDia'+'gonal));\x0a\x20'+'\x20\x20\x20float\x20l'+'ambda1\x20=\x20m'+'id\x20+\x20radiu'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20lambda2'+'\x20=\x20max(mid'+'\x20-\x20radius,'+'\x200.1);\x0a\x20\x20\x20'+'\x20if\x20(point'+'CloudModeE'+'nabled\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20l'+'ambda1\x20=\x20l'+'ambda2\x20=\x202'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Us'+'e\x20the\x20smal'+'ler\x20viewpo'+'rt\x20dimensi'+'on\x20to\x20limi'+'t\x20the\x20kern'+'el\x20size\x20re'+'lative\x20to\x20'+'the\x20screen'+'\x20resolutio'+'n.\x0a\x20\x20\x20\x20flo'+'at\x20vmin\x20=\x20'+'min(1024.0'+',\x20min(view'+'port.x,\x20vi'+'ewport.y))'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20l1\x20=\x202.'+'0\x20*\x20min(sq'+'rt(2.0\x20*\x20l'+'ambda1),\x20v'+'min);\x0a\x20\x20\x20\x20'+'float\x20l2\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda2)'+',\x20vmin);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20')+('\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec2\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'viewport;\x0a'+'\x0a\x20\x20\x20\x20//\x20cu'+'ll\x20against'+'\x20frustum\x20x'+'/y\x20axes\x0a\x20\x20'+'\x20\x20if\x20(any('+'greaterTha'+'n(abs(cent'+'er.proj.xy'+')\x20-\x20vec2(m'+'ax(l1,\x20l2)'+')\x20*\x20c,\x20cen'+'ter.proj.w'+'w)))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20false;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec2\x20diago'+'nalVector\x20'+'=\x20normaliz'+'e(vec2(off'+'Diagonal,\x20'+'lambda1\x20-\x20'+'diagonal1)'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20bool\x20inRe'+'nderSpace\x20'+'=\x20(center.'+'view.x\x20>=\x20'+'-renderSpa'+'ce\x20&&\x20cent'+'er.view.x\x20'+'<=\x20renderS'+'pace)\x20&&\x20('+'center.vie'+'w.y\x20>=\x20-re'+'nderSpace\x20'+'&&\x20center.'+'view.y\x20<=\x20'+'renderSpac'+'e);\x0a\x20\x20\x20\x20bo'+'ol\x20openRen'+'derAnim\x20=\x20'+'renderSpac'+'e\x20<\x20endSpa'+'ce;\x0a\x20\x20\x20\x20bo'+'ol\x20inRende'+'r\x20=\x20render'+'Space\x20>=\x20e'+'ndSpace\x20||'+'\x20inRenderS'+'pace\x20||\x20po'+'intCloudMo'+'deEnabled\x20'+'==\x201;\x0a\x20\x20\x20\x20'+'if(!openRe'+'nderAnim\x20&'+'&\x20uSplatSc'+'ale\x20>\x200.0\x20'+'&&\x20uSplatS'+'cale\x20<=\x205.'+'0){\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale\x20=\x20'+'uSplatScal'+'e;\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(in'+'Render){\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(openR'+'enderAnim)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'scale\x20=\x20in'+'RenderSpac'+'e\x20?\x20uSplat'+'Scale\x20:\x200.'+'1;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20vec2\x20v1'+'\x20=\x20scale\x20*'+'\x20l1\x20*\x20diag'+'onalVector'+';\x0a\x20\x20\x20\x20vec2'+'\x20v2\x20=\x20scal'+'e\x20*\x20l2\x20*\x20v'+'ec2(diagon'+'alVector.y'+',\x20-diagona'+'lVector.x)')+(';\x0a\x0a\x20\x20\x20\x20cor'+'ner.offset'+'\x20=\x20(source'+'.cornerUV.'+'x\x20*\x20v1\x20+\x20s'+'ource.corn'+'erUV.y\x20*\x20v'+'2)\x20*\x20c;\x0a\x20\x20'+'\x20\x20//\x20corne'+'r.uv\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20if\x20(uSh'+'apeN\x20<\x203)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'corner.uv\x20'+'=\x20source.c'+'ornerUV;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'corner.cSi'+'ze\x20=\x20(v1\x20+'+'\x20v2)\x20*\x20c;\x0a'+'\x20\x20\x20\x20corner'+'.cUV\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),Z1='\x0a\x0auniform\x20'+'highp\x20samp'+'ler2D\x20tran'+'sformA;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20transfor'+'mB;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformR;\x0a'+'\x0a#ifdef\x20IS'+'_4D\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformMot'+'ion;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformLi'+'fecycle;\x0a#'+'endif\x0a\x0a//\x20'+'work\x20value'+'s\x0a//\x20uint\x20'+'tAw;\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20retu'+'rn\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a}\x0a\x0ama'+'t3\x20quatToM'+'at3v2(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.w;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(vec3\x20pack'+'ed)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(packed.x'+'yz,\x20sqrt(m'+'ax(0.0,\x201.'+'0\x20-\x20dot(pa'+'cked,\x20pack'+'ed))));\x0a}\x0a'+'\x0a//\x20sample'+'\x20covarianc'+'e\x20vectors\x0a'+'void\x20readC'+'ovariance('+'in\x20SplatSo'+'urce\x20sourc'+'e,\x20out\x20vec'+'3\x20covA,\x20ou'+'t\x20vec3\x20cov'+'B)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3v'+'2(unpackRo'+'tation(tR)'+');\x0a\x20\x20\x20\x20vec'+'3\x20scale\x20=\x20'+'tB.xyz;\x0a\x0a\x20'+'\x20\x20\x20//\x20M\x20=\x20'+'S\x20*\x20R\x0a\x20\x20\x20\x20'+'mat3\x20M\x20=\x20t'+'ranspose(m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.x'+'\x20*\x20rot[0],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.y\x20*\x20r'+'ot[1],\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.z\x20*\x20rot[2'+']\x0a\x20\x20\x20\x20));\x0a'+'\x0a\x20\x20\x20\x20covA\x20'+'=\x20vec3(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20covB\x20=\x20'+'vec3(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a\x0a'+'//\x20sample\x20'+'4D\x20covaria'+'nce\x20vector'+'s\x0avoid\x20rea'+'dFTGSCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB,ou'+'t\x20vec4\x20cov'+'ariance4D)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tB\x20=\x20tex'+'elFetch(tr'+'ansformB,\x20'+'source.uv,')+('\x200);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20tR\x20=\x20'+'texelFetch'+'(transform'+'R,\x20source.'+'uv,\x200).xyz'+';\x0a\x20\x20\x20\x20mat3'+'\x20rot\x20=\x20qua'+'tToMat3v2('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormLifecyc'+'le,\x20source'+'.uv,\x200).xy'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'muT\x20=\x20tDat'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20t'+'Scale\x20=\x20tD'+'ata.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20margi'+'nal\x20=\x20comp'+'uteMargina'+'lT(time,\x20m'+'uT,\x20tScale'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20re'+'turn\x20margi'+'nal;\x0a}\x0a\x0ave'+'c3\x20readCen'+'ter4D(Spla'+'tSource\x20so'+'urce,\x20floa'+'t\x20time)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20if(m'+'uT\x20>\x20-5.0)'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20movin'+'gSpeed\x20=\x20t')+('exelFetch('+'transformM'+'otion,\x20sou'+'rce.uv,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'platOffset'+'\x20=\x20movingS'+'peed\x20*\x20(ti'+'me\x20-\x20muT);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'platCenter'+'\x20+=\x20splatO'+'ffset;\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20spla'+'tCenter;\x0a}'+'\x0a'),Q1='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',J1='\x0auniform\x20i'+'nt\x20mode;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x200:\x20c'+'enters,\x201:'+'\x20rings\x0auni'+'form\x20float'+'\x20ringSize;'+'\x0auniform\x20i'+'nt\x20uShapeN'+';\x0a\x0a#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bay'+'erPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'opacityDit'+'herPS\x22\x0a\x20\x20\x20'+'\x20varying\x20f'+'loat\x20id;\x0a#'+'endif\x0a\x0a#if'+'def\x20PICK_P'+'ASS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pi'+'ckPS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20alphaC'+'lip;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20vLinearDe'+'pth;\x0a\x20\x20\x20\x20#'+'include\x20\x22f'+'loatAsUint'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20Fast\x20'+'approximat'+'e\x20e^x\x20base'+'d\x20on\x20https'+'://nic.sch'+'raudolph.o'+'rg/pubs/Sc'+'hraudolph9'+'9.pdf\x0acons'+'t\x20float\x20\x20E'+'XP_A\x20\x20\x20\x20\x20\x20'+'=\x2012102203'+'.0;\x20\x20\x20//\x20'+'\x202^23\x20/\x20ln'+'(2)\x0aconst\x20'+'int\x20\x20\x20\x20EXP'+'_BC_RMS\x20=\x20'+'1064866808'+';\x20\x20\x20//\x20(12'+'7\x20<<\x2023)\x20-'+'\x2060801\x20*\x208'+'\x0afloat\x20fas'+'tExp(float'+'\x20x)\x20{\x0a\x20\x20\x20\x20'+'int\x20i\x20=\x20in'+'t(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20in'+'tBitsToFlo'+'at(i);\x0a}\x0a\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianU'+'V;\x0avarying'+'\x20mediump\x20v'+'ec4\x20gaussi'+'anColor;\x0av'+'arying\x20med'+'iump\x20vec2\x20'+'gaussianSi'+'ze;\x0avaryin'+'g\x20mediump\x20'+'vec2\x20gauss'+'ianCUV;\x0ava'+'rying\x20medi'+'ump\x20float\x20'+'saveMargin'+'al;\x0a\x0a//\x20'+'\x20p\x20\x20N'+'\x20\x0a//\x20p:'+'\x20\x20(UV\x20'+')\x0a//'+'\x20N:\x20\x0a//\x20'+'r:\x20'+('1\x0a/'+'/\x20center:\x20'+'\x0abool\x20'+'insideRegu'+'larPolygon'+'(vec2\x20p,\x20i'+'nt\x20N,\x20floa'+'t\x20r,\x20vec2\x20'+'center)\x20{\x0a'+'\x20\x20\x20\x20//\x20'+'\x0a\x20'+'\x20\x20\x20vec2\x20d\x20'+'=\x20p\x20-\x20cent'+'er;\x0a\x20\x20\x20\x20fl'+'oat\x20theta\x20'+'=\x20atan(d.y'+',\x20d.x);\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20flo'+'at\x20len\x20=\x20l'+'ength(d);\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20float'+'\x20anglePerS'+'ide\x20=\x202.0\x20'+'*\x203.141592'+'65\x20/\x20float'+'(N);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x200\x20~'+'\x20anglePerS'+'ide\x20\x0a\x20\x20\x20'+'\x20float\x20loc'+'alAngle\x20=\x20'+'mod(theta,'+'\x20anglePerS'+'ide);\x0a\x0a\x20\x20\x20'+'\x20//\x20'+'\x20'+'N\x20\x0a\x20\x20'+'\x20\x20float\x20ma'+'xR\x20=\x20r\x20*\x20c'+'os(anglePe'+'rSide\x20/\x202.'+'0)\x20/\x20cos(l'+'ocalAngle\x20'+'-\x20anglePer'+'Side\x20/\x202.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20len\x20<'+'=\x20maxR;\x0a}\x0a'+'\x0a//\x20'+'N\x20soft\x20'+'mask\x0afloat'+'\x20polygonSo'+'ftMask(vec'+'2\x20p,\x20int\x20N'+',\x20float\x20ra'+'dius,\x20floa'+'t\x20edgeSoft'+'ness)\x20{\x0a\x20\x20'+'\x20\x20float\x20an'+'gle\x20=\x20atan'+'(p.y,\x20p.x)'+';\x0a\x20\x20\x20\x20floa'+'t\x20sector\x20='+'\x206.2831853'+'\x20/\x20float(N'+');\x20\x20//\x20'+'\x0a\x20\x20\x20\x20//'+'\x20\x20['+'-sector/2,'+'\x20sector/2]'+'\x0a\x20\x20\x20\x20float'+'\x20halfSecto'+'r\x20=\x20sector'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20float\x20lo'+'calAngle\x20='+'\x20mod(angle'+'\x20+\x20halfSec'+'tor,\x20secto'+'r)\x20-\x20halfS'+'ector;\x0a\x0a\x20\x20'+'\x20\x20//\x20'+'\x0a'+'\x20\x20\x20\x20float\x20'+'boundary\x20='+'\x20radius\x20*\x20'+'cos(halfSe'+'ctor)\x20/\x20co'+'s(localAng'+'le);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20=\x20'+'\x0a\x20\x20\x20\x20'+'float\x20dist'+'\x20=\x20boundar'+'y\x20-\x20length'+'(p);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20smoot')+('hstep\x20'+'\x20(edgeSof'+'tness\x20'+')\x0a\x20\x20\x20\x20'+'float\x20alph'+'a\x20=\x20smooth'+'step(0.0,\x20'+'edgeSoftne'+'ss,\x20dist);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20alpha;\x20'+'//\x200~1\x0a}\x0a\x0a'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20mediump\x20'+'float\x20A\x20=\x20'+'dot(gaussi'+'anUV,\x20gaus'+'sianUV);\x0a\x20'+'\x20\x20\x20if\x20(A\x20>'+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'valuate\x20al'+'pha\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20alpha\x20=\x20'+'fastExp(-A'+'\x20*\x204.0)\x20*\x20'+'gaussianCo'+'lor.a;\x0a\x20\x20\x20'+'\x20//\x20TODO\x20u'+'ShapeN\x20alp'+'ha\x0a\x20\x20\x20\x20//\x20'+'float\x20dx\x20='+'\x20abs(gauss'+'ianCUV.x)\x20'+'/\x20gaussian'+'Size.x;\x0a\x20\x20'+'\x20\x20//\x20float'+'\x20dy\x20=\x20abs('+'gaussianCU'+'V.y)\x20/\x20gau'+'ssianSize.'+'y;\x0a\x20\x20\x20\x20//\x20'+'float\x20B\x20=\x20'+'max(dx,\x20dy'+');\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20'+'\x0a\x20\x20\x20\x20//\x20'+'mediump\x20fl'+'oat\x20alpha\x20'+'=\x20exp(-pow'+'(B,\x202.0)\x20*'+'\x204.0)\x20*\x20ga'+'ussianColo'+'r.a;\x0a\x0a\x20\x20\x20\x20'+'bool\x20openR'+'ingMode\x20=\x20'+'ringSize\x20>'+'\x200.0\x20&&\x20mo'+'de\x20==\x201;\x20/'+'/\x20&&\x20uCont'+'rolMode\x20=='+'\x201;\x20\x0a\x20\x20\x20\x20i'+'f\x20(openRin'+'gMode\x20&&\x20s'+'aveMargina'+'l\x20>=\x200.05)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(A\x20<\x201'+'.0\x20-\x20ringS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'lpha\x20=\x20max'+'(0.05,\x20alp'+'ha);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alpha\x20'+'=\x200.6;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20bool\x20ope'+'nShapeMode'+'\x20=\x20uShapeN'+'\x20>\x202;\x20//\x20&'+'&\x20uControl'+'Mode\x20==\x201;'+'\x0a\x20\x20\x20\x20if\x20(o'+'penShapeMo'+'de)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20gaussi'+'anCUV\x20*\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20rad'+'ius\x20=\x201.0;')+('\x20//\x201.0\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20edgeSoft'+'ness\x20=\x200.0'+'5;\x20//\x200.05'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v\x20*=\x201.0;/'+'/0.9;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20c'+'enter\x20=\x20ve'+'c2(0.0,\x200.'+'0);\x20\x20\x20//\x20'+''+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20alpha\x20'+'=\x20polygonS'+'oftMask(uv'+',\x20uShapeN,'+'\x20radius,\x20e'+'dgeSoftnes'+'s);\x20//\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(!insideR'+'egularPoly'+'gon(uv,\x20uS'+'hapeN,\x20rad'+'ius,\x20cente'+'r))\x20{\x20//'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20defined(S'+'HADOW_PASS'+')\x20||\x20defin'+'ed(PICK_PA'+'SS)\x20||\x20def'+'ined(PREPA'+'SS_PASS)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20a'+'lphaClip)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'getPickOut'+'put();\x0a\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'ADOW_PASS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(0'+'.0,\x200.0,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#elif'+'\x20PREPASS_P'+'ASS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2vec4(v'+'LinearDept'+'h);\x0a\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x201.0\x20/'+'\x20255.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20DI'+'THER_NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(alph'+'a,\x20id\x20*\x200.'+'013);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'gaussianCo'+'lor.xyz,\x20a'+'lpha);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),eP='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),tP='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',sP='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0aunifor'+'m\x20float\x20pr'+'erenderCTi'+'me;\x0aunifor'+'m\x20float\x20uS'+'aturation;'+'\x20//\x200.0-2.'+'01.0\x20'+'\x0auniform'+'\x20float\x20uHu'+'eOffset;\x20\x20'+'//\x20'+'360'+'\x0auniform\x20v'+'ec3\x20clrOff'+'set;\x0aunifo'+'rm\x20vec4\x20cl'+'rScale;\x0aun'+'iform\x20floa'+'t\x20uOpacity'+';\x0auniform\x20'+'int\x20uInver'+'tOpacity;\x0a'+'\x0avarying\x20m'+'ediump\x20vec'+'2\x20gaussian'+'UV;\x0avaryin'+'g\x20mediump\x20'+'vec4\x20gauss'+'ianColor;\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianS'+'ize;\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianCUV;\x0av'+'arying\x20med'+'iump\x20float'+'\x20saveMargi'+'nal;\x0a\x0a//\x20='+'====\x20\x20H'+'SV/RGB\x20\x20'+'=====\x0ahigh'+'p\x20vec3\x20rgb'+'2hsv(highp'+'\x20vec3\x20c)\x20{'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20cMa'+'x\x20=\x20max(ma'+'x(c.r,\x20c.g'+'),\x20c.b);\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20cMin\x20'+'=\x20min(min('+'c.r,\x20c.g),'+'\x20c.b);\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20delta\x20='+'\x20cMax\x20-\x20cM'+'in\x20+\x201e-10'+';\x20//\x200\x0a'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20h\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'if\x20(delta\x20'+'>\x201e-6)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(cMax\x20==\x20'+'c.r)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20=\x20mod((c.'+'g\x20-\x20c.b)\x20/'+'\x20delta,\x206.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(cMax\x20=='+'\x20c.g)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.b\x20-'+'\x20c.r)\x20/\x20de'+'lta\x20+\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.r\x20-'+'\x20c.g)\x20/\x20de'+'lta\x20+\x204.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20/=\x206.0;\x20/'+'/\x20\x20[0,1]'+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(h\x20<\x200.0'+')\x20h\x20+=\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20s\x20=\x20('+'cMax\x20<\x201e-'+'6)\x20?\x200.0\x20:'+'\x20delta\x20/\x20c'+'Max;\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20v\x20=\x20cMax;'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec3(h,\x20'+'s,\x20v);\x0a}\x0a\x0a'+'highp\x20vec3'+'\x20hsv2rgb(h'+'ighp\x20vec3\x20'+'c)\x20{\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20h\x20=\x20c.x\x20*'+'\x206.0;\x20//\x200'+'-6\x0a\x20\x20\x20\x20hig'+'hp\x20float\x20s'+'\x20=\x20c.y;\x0a\x20\x20'+'\x20\x20highp\x20fl'+'oat\x20v\x20=\x20c.'+'z;\x0a\x0a\x20\x20\x20\x20hi'+'ghp\x20int\x20i\x20'+'=\x20int(floo'+'r(h));\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20f\x20=\x20h\x20-'+'\x20float(i);'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20p\x20='+'\x20v\x20*\x20(1.0\x20'+'-\x20s);\x0a\x20\x20\x20\x20'+'highp\x20floa'+'t\x20q\x20=\x20v\x20*\x20'+'(1.0\x20-\x20s\x20*'+'\x20f);\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20t\x20=\x20v\x20*\x20('+'1.0\x20-\x20s\x20*\x20'+'(1.0\x20-\x20f))'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(i\x20==\x200)\x20r'+'eturn\x20vec3'+'(v,\x20t,\x20p);'+'\x0a\x20\x20\x20\x20else\x20'+'if\x20(i\x20==\x201'+')\x20return\x20v'+'ec3(q,\x20v,\x20'+'p);\x0a\x20\x20\x20\x20el'+'se\x20if\x20(i\x20='+'=\x202)\x20retur'+'n\x20vec3(p,\x20'+'v,\x20t);\x0a\x20\x20\x20'+'\x20else\x20if\x20('+'i\x20==\x203)\x20re'+'turn\x20vec3('+'p,\x20q,\x20v);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(i\x20==\x204)'+'\x20return\x20ve'+'c3(t,\x20p,\x20v'+');\x0a\x20\x20\x20\x20els'+'e\x20return\x20v'+'ec3(v,\x20p,\x20'+'q);\x20//\x20i=='+'5\x0a}\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0a#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20varying\x20'+'float\x20vLin'+'earDepth;\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20')+('=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20saveMargi'+'nal\x20=\x20getM'+'arginalT(s'+'ource,\x20uTi'+'me);\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'marginal\x20='+'\x20uOpenAnim'+'\x20==\x201\x20?\x201.'+'0\x20:\x20saveMa'+'rginal;\x0a\x20\x20'+'\x20\x20if\x20(marg'+'inal\x20<\x200.0'+'5)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20dis'+'cardVec;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20modelCent'+'er;\x0a\x20\x20\x20\x20bo'+'ol\x20isCente'+'r4D\x20=\x20save'+'Marginal\x20>'+'=\x200.05;\x0a\x20\x20'+'\x20\x20if\x20(isCe'+'nter4D)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'delCenter\x20'+'=\x20readCent'+'er4D(sourc'+'e,\x20uTime);'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20modelCen'+'ter\x20=\x20read'+'Center(sou'+'rce);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20Spl'+'atCenter\x20c'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'center))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return;'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20int\x20'+'showCloud\x20'+'=\x20pointClo'+'udModeEnab'+'led;\x0a\x20\x20\x20\x20i'+'f\x20(prerend'+'erCTime\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(prer'+'enderCTime'+'\x20>=\x201.0\x20&&'+'\x20prerender'+'CTime\x20<\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20showClo'+'ud\x20=\x201;\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(prerend'+'erCTime\x20>='+'\x202.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20proje'+'ct\x20center\x20'+'to\x20screen\x20'+'space\x0a\x20\x20\x20\x20'+'SplatCorne'+'r\x20corner;\x0a'+'\x20\x20\x20\x20if\x20(!i'+'nitCorner('+'source,\x20ce'+'nter,\x20corn'+'er,\x20showCl'+'oud))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20')+('discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20vec'+'4\x20clr\x20=\x20re'+'adColor(so'+'urce,\x20uTim'+'e,\x20!isCent'+'er4D,\x20poin'+'tCloudMode'+'Enabled);\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'apply\x20AA\x20c'+'ompensatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.a\x20*=\x20c'+'orner.aaFa'+'ctor;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20if(margi'+'nal\x20>\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.w\x20*=\x20'+'marginal;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20\x0a\x20'+'\x20\x20\x20if\x20(uCo'+'ntrolColor'+'Mode\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'tint/brigh'+'tness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr\x20=\x20'+'clr\x20*\x20clrS'+'cale\x20+\x20vec'+'4(clrOffse'+'t,\x200.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(uInvertO'+'pacity\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20clr'+'.a\x20=\x201.0\x20-'+'\x20clr.a;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20don\x27t\x20'+'allow\x20out-'+'of-range\x20a'+'lpha\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20clr\x20=\x20c'+'lamp(clr,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20spheri'+'cal\x20harmon'+'ics\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20the\x20'+'model-spac'+'e\x20view\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20norm'+'alize(cent'+'er.view\x20*\x20'+'mat3(cente'+'r.modelVie'+'w));\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20rea'+'d\x20sh\x20coeff'+'icients\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sh[SH_COE'+'FFS];\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20readS'+'HData(sour'+'ce,\x20sh,\x20sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.x'+'yz\x20+=\x20eval'+'SH(sh,\x20dir'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(co'+'rner,\x20clr.'+'w);\x0a\x0a\x20\x20\x20\x20/')+('/\x20pointClo'+'udMode\x0a\x20\x20\x20'+'\x20//\x20if\x20(po'+'intCloudMo'+'deEnabled\x20'+'==\x201)\x20{\x0a\x20\x20'+'\x20\x20//\x20\x20\x20\x20\x20c'+'lr.a\x20=\x201.0'+';\x0a\x20\x20\x20\x20//\x20}'+'\x0a\x20\x20\x20\x20highp'+'\x20vec3\x20colo'+'r\x20=\x20max(cl'+'r.xyz,\x200.0'+');\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20\x0a'+'\x20\x20\x20\x20if\x20(uC'+'ontrolColo'+'rMode\x20==\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20\x20HSV'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'ighp\x20vec3\x20'+'hsv\x20=\x20rgb2'+'hsv(color)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20hsv.'+'y\x20*=\x20uSatu'+'ration;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20hsv.x\x20=\x20f'+'ract(hsv.x'+'\x20+\x20uHueOff'+'set\x20/\x20360.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20\x20RGB'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor\x20=\x20hsv'+'2rgb(hsv);'+'\x20\x20\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wri'+'te\x20output\x0a'+'\x20\x20\x20\x20gl_Pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4(cor'+'ner.offset'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20gaussia'+'nUV\x20=\x20corn'+'er.uv;\x0a\x20\x20\x20'+'\x20gaussianC'+'UV\x20=\x20corne'+'r.cUV;\x0a\x20\x20\x20'+'\x20gaussianS'+'ize\x20=\x20corn'+'er.cSize;\x0a'+'\x20\x20\x20\x20gaussi'+'anColor\x20=\x20'+'vec4(prepa'+'reOutputFr'+'omGamma(co'+'lor),\x20clr.'+'w);\x0a\x20\x20\x20\x20ga'+'ussianColo'+'r\x20=\x20clamp('+'gaussianCo'+'lor,\x200.0,\x20'+'1.0);\x0a\x0a\x20\x20\x20'+'\x20#ifndef\x20D'+'ITHER_NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'d\x20=\x20float('+'source.id)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vLin'+'earDepth\x20='+'\x20-center.v'+'iew.z;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),iP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'aPosition;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x0a\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(aPos'+'ition,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20getImage'+'EffectUV(('+'aPosition.'+'xy\x20+\x201.0)\x20'+'*\x200.5);\x0a\x20\x20'+'\x20\x20}\x0a',rP='\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a',aP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec4\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec4\x20vert'+'ex_color;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20v'+'oid\x20main(v'+'oid)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20=\x20vertex_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20matrix_'+'model\x20*\x20ve'+'rtex_posit'+'ion;\x0a\x20\x20\x20\x20}'+'\x0a',nP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0afloat\x20i'+'ridescence'+'_iorToFres'+'nel(float\x20'+'transmitte'+'dIor,\x20floa'+'t\x20incident'+'Ior)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'incidentIo'+'r)\x20/\x20(tran'+'smittedIor'+'\x20+\x20inciden'+'tIor),\x202.0'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_iorToFr'+'esnel(vec3'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20vec3(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3(incid'+'entIor)),\x20'+'vec3(2.0))'+';\x0a}\x0a\x0avec3\x20'+'iridescenc'+'e_fresnelT'+'oIor(vec3\x20'+'f0)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20sqrtF'+'0\x20=\x20sqrt(f'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20(vec3'+'(1.0)\x20+\x20sq'+'rtF0)\x20/\x20(v'+'ec3(1.0)\x20-'+'\x20sqrtF0);\x0a'+'}\x0a\x0avec3\x20ir'+'idescence_'+'sensitivit'+'y(float\x20op'+'d,\x20vec3\x20sh'+'ift)\x20{\x0a\x20\x20\x20'+'\x20float\x20PI\x20'+'=\x203.141592'+'653589793;'+'\x0a\x20\x20\x20\x20float'+'\x20phase\x20=\x202'+'.0\x20*\x20PI\x20*\x20'+'opd\x20*\x201.0e'+'-9;\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20v'+'al\x20=\x20vec3('+'5.4856e-13'+',\x204.4201e-'+'13,\x205.2481'+'e-13);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20pos\x20=\x20ve'+'c3(1.6810e'+'+06,\x201.795'+'3e+06,\x202.2'+'084e+06);\x0a'+'\x20\x20\x20\x20const\x20'+'vec3\x20var\x20='+'\x20vec3(4.32'+'78e+09,\x209.'+'3046e+09,\x20'+'6.6121e+09'+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20xyz\x20=\x20v'+'al\x20*\x20sqrt('+'2.0\x20*\x20PI\x20*'+'\x20var)\x20*\x20co'+'s(pos\x20*\x20ph'+'ase\x20+\x20shif'+'t)\x20*\x20exp(-'+'pow(phase,'+'\x202.0)\x20*\x20va'+'r);\x0a\x20\x20\x20\x20xy'+'z.x\x20+=\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+('cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20/=\x20vec3(1'+'.0685e-07)'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20mat3\x20XY'+'Z_TO_REC70'+'9\x20=\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x203.'+'2404542,\x20-'+'0.9692660,'+'\x20\x200.055643'+'4,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-1.5371385'+',\x20\x201.87601'+'08,\x20-0.204'+'0259,\x0a\x20\x20\x20\x20'+'\x20\x20\x20-0.4985'+'314,\x20\x200.04'+'15560,\x20\x201.'+'0572252\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'return\x20XYZ'+'_TO_REC709'+'\x20*\x20xyz;\x0a}\x0a'+'\x0afloat\x20iri'+'descence_f'+'resnel(flo'+'at\x20cosThet'+'a,\x20float\x20f'+'0)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20x\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x2\x20=\x20x\x20*'+'\x20x;\x0a\x20\x20\x20\x20fl'+'oat\x20x5\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x20\x0a\x0av'+'ec3\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'vec3\x20f0)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20clamp'+'(1.0\x20-\x20cos'+'Theta,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20float\x20x2'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'x5\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x20\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(vec3'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0avec3\x20calc'+'Iridescenc'+'e(float\x20ou'+'tsideIor,\x20'+'float\x20cosT'+'heta,\x20vec3'+'\x20base_f0,\x20'+'float\x20irid'+'escenceThi'+'ckness)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceIor\x20'+'=\x20mix(outs'+'ideIor,\x20ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20float'+'\x20sinTheta2'+'Sq\x20=\x20pow(o'+'utsideIor\x20'+'/\x20iridesce')+('nceIor,\x202.'+'0)\x20*\x20(1.0\x20'+'-\x20pow(cosT'+'heta,\x202.0)'+');\x0a\x20\x20\x20\x20flo'+'at\x20cosThet'+'a2Sq\x20=\x201.0'+'\x20-\x20sinThet'+'a2Sq;\x0a\x0a\x20\x20\x20'+'\x20if\x20(cosTh'+'eta2Sq\x20<\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec3(1.0)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20c'+'osTheta2\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20r0\x20=\x20irid'+'escence_io'+'rToFresnel'+'(iridescen'+'ceIor,\x20out'+'sideIor);\x0a'+'\x20\x20\x20\x20float\x20'+'r12\x20=\x20irid'+'escence_fr'+'esnel(cosT'+'heta,\x20r0);'+'\x0a\x20\x20\x20\x20float'+'\x20r21\x20=\x20r12'+';\x0a\x20\x20\x20\x20floa'+'t\x20t121\x20=\x201'+'.0\x20-\x20r12;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20phi12\x20=\x20i'+'ridescence'+'Ior\x20<\x20outs'+'ideIor\x20?\x20P'+'I\x20:\x200.0;\x0a\x20'+'\x20\x20\x20float\x20p'+'hi21\x20=\x20PI\x20'+'-\x20phi12;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20b'+'aseIor\x20=\x20i'+'ridescence'+'_fresnelTo'+'Ior(base_f'+'0\x20+\x20vec3(0'+'.0001));\x0a\x20'+'\x20\x20\x20vec3\x20r1'+'\x20=\x20iridesc'+'ence_iorTo'+'Fresnel(ba'+'seIor,\x20iri'+'descenceIo'+'r);\x0a\x20\x20\x20\x20ve'+'c3\x20r23\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta2,\x20'+'r1);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20phi23'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20if'+'\x20(baseIor['+'0]\x20<\x20iride'+'scenceIor)'+'\x20phi23[0]\x20'+'=\x20PI;\x0a\x20\x20\x20\x20'+'if\x20(baseIo'+'r[1]\x20<\x20iri'+'descenceIo'+'r)\x20phi23[1'+']\x20=\x20PI;\x0a\x20\x20'+'\x20\x20if\x20(base'+'Ior[2]\x20<\x20i'+'ridescence'+'Ior)\x20phi23'+'[2]\x20=\x20PI;\x0a'+'\x20\x20\x20\x20float\x20'+'opd\x20=\x202.0\x20'+'*\x20iridesce'+'nceIor\x20*\x20i'+'ridescence'+'Thickness\x20'+'*\x20cosTheta'+'2;\x0a\x20\x20\x20\x20vec'+'3\x20phi\x20=\x20ve'+'c3(phi21)\x20'+'+\x20phi23;\x20\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123Sq\x20=\x20c'+'lamp(r12\x20*'+'\x20r23,\x201e-5'+',\x200.9999);'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123\x20=\x20sqr')+('t(r123Sq);'+'\x0a\x20\x20\x20\x20vec3\x20'+'rs\x20=\x20pow(t'+'121,\x202.0)\x20'+'*\x20r23\x20/\x20(1'+'.0\x20-\x20r123S'+'q);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20c0\x20=\x20r'+'12\x20+\x20rs;\x0a\x20'+'\x20\x20\x20vec3\x20i\x20'+'=\x20c0;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cm\x20='+'\x20rs\x20-\x20t121'+';\x0a\x20\x20\x20\x20for\x20'+'(int\x20m\x20=\x201'+';\x20m\x20<=\x202;\x20'+'m++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20cm\x20*='+'\x20r123;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'sm\x20=\x202.0\x20*'+'\x20iridescen'+'ce_sensiti'+'vity(float'+'(m)\x20*\x20opd,'+'\x20float(m)\x20'+'*\x20phi);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20i\x20+='+'\x20cm\x20*\x20sm;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20max'+'(i,\x20vec3(0'+'.0));\x0a}\x0a\x0av'+'ec3\x20getIri'+'descence(f'+'loat\x20cosTh'+'eta,\x20vec3\x20'+'specularit'+'y,\x20float\x20i'+'ridescence'+'Thickness)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),oP='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_irid'+'escence;\x0a#'+'endif\x0a\x0avoi'+'d\x20getIride'+'scence()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_IRID'+'ESCENCE_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20iridescen'+'ce\x20*=\x20mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20textur'+'e2DBias({S'+'TD_IRIDESC'+'ENCE_TEXTU'+'RE_NAME},\x20'+'{STD_IRIDE'+'SCENCE_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCE_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scence\x20=\x20i'+'ridescence'+';\x20\x0a}\x0a',lP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_iridesc'+'enceThickn'+'essMin;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'end\x20=\x20text'+'ure2DBias('+'{STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE_NAME},'+'\x20{STD_IRID'+'ESCENCETHI'+'CKNESS_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCET'+'HICKNESS_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20iridescen'+'ceThicknes'+'s\x20=\x20mix(ma'+'terial_iri'+'descenceTh'+'icknessMin'+',\x20material'+'_iridescen'+'ceThicknes'+'sMax,\x20blen'+'d);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',cP='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'fractionIn'+'dex;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tIor()\x20{\x0a#'+'ifdef\x20STD_'+'IOR_CONSTA'+'NT\x0a\x20\x20\x20\x20dIo'+'r\x20=\x20materi'+'al_refract'+'ionIndex;\x0a'+'#else\x0a\x20\x20\x20\x20'+'dIor\x20=\x201.0'+'\x20/\x201.5;\x0a#e'+'ndif\x0a}\x0a',hP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20light{i}_'+'color;\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec3\x20light'+'{i}_direct'+'ion;\x0a\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20LIT_CODE'+'_LIGHTS_PO'+'INT\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20point\x20l'+'ights\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_pos'+'ition;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_ra'+'dius;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20SPOT\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20spot\x20ligh'+'ts\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20l'+'ight{i}_di'+'rection;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20light'+'{i}_innerC'+'oneAngle;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_outer'+'ConeAngle;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'3\x20light{i}'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20vec3\x20lig'+'ht{i}_half'+'Width;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_hal'+'fHeight;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'FALLOFF\x20=='+'\x20LINEAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+('T_CODE_FAL'+'LOFF_LINEA'+'R\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20linear\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}FALLOFF\x20'+'==\x20INVERSE'+'SQUARED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ca'+'sting\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'CASTSHADOW'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20light{'+'i}_shadowM'+'atrix;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_sh'+'adowIntens'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec4\x20ligh'+'t{i}_shado'+'wParams;\x20/'+'/\x20width,\x20h'+'eight,\x20bia'+'s,\x20radius\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_s'+'hadowSearc'+'hArea;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20light{i}'+'_cameraPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_sof'+'tShadowPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20direction'+'al\x20(cascad'+'ed)\x20shadow'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrixPa'+'lette[4];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec4\x20light'+'{i}_shadow'+'CascadeDis'+'tances;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20in'+'t\x20light{i}'+'_shadowCas')+('cadeCount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_shad'+'owCascadeB'+'lend;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'SHADOW_PCF'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2DShado'+'w\x20light{i}'+'_shadowMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_shadowM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'okie\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIGHT{i}C'+'OOKIE)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_COOKIE\x20'+'//\x20include'+'\x20functiona'+'lity\x20for\x20c'+'ookies\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20light{i'+'}_cookie;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_cooki'+'eIntensity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d'+'efined(LIG'+'HT{i}CASTS'+'HADOW)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20ligh'+'t{i}_shado'+'wMatrix;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20SPOT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20lig')+('ht{i}_cook'+'ie;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_c'+'ookieInten'+'sity;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIGHT{i}C'+'ASTSHADOW)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'light{i}_s'+'hadowMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIGH'+'T{i}COOKIE'+'_TRANSFORM'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20light{i}_'+'cookieMatr'+'ix;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c2\x20light{i'+'}_cookieOf'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),dP='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',fP='\x0avec3\x20eval'+'OmniLight('+'vec3\x20light'+'PosW)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'PositionW\x20'+'-\x20lightPos'+'W;\x0a}\x0a',uP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',pP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0avoid\x20e'+'valuateLig'+'ht{i}(\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20iridesc'+'enceFresne'+'l\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20color\x0a\x20\x20\x20'+'\x20vec3\x20ligh'+'tColor\x20=\x20l'+'ight{i}_co'+'lor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x20&&\x20!defi'+'ned(LIT_SH'+'ADOW_CATCH'+'ER)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20return\x20if'+'\x20the\x20light'+'\x20color\x20is\x20'+'black\x20(use'+'d\x20by\x20shado'+'w\x20catcher\x20'+'-\x20this\x20way'+'\x20this\x20ligh'+'t\x20is\x20very\x20'+'cheap)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(a'+'ll(equal(l'+'ightColor,'+'\x20vec3(0.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20dir'+'ectional\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light{i}_'+'direction;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20omn'+'i\x20or\x20spot\x20'+'light\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtDirW\x20=\x20'+'evalOmniLi'+'ght(light{'+'i}_positio'+'n);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightDi'+'rNormW\x20=\x20n'+'ormalize(l'+'ightDirW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20cookie\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'COOKIE)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_FALLOF'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_TRANSF'+'ORM\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2DXform('+('light{i}_c'+'ookie,\x20lig'+'ht{i}_shad'+'owMatrix,\x20'+'light{i}_c'+'ookieInten'+'sity,\x20ligh'+'t{i}_cooki'+'eMatrix,\x20l'+'ight{i}_co'+'okieOffset'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2D(light'+'{i}_cookie'+',\x20light{i}'+'_shadowMat'+'rix,\x20light'+'{i}_cookie'+'Intensity)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}COOKIE_TR'+'ANSFORM\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'Cookie2DCl'+'ipXform(li'+'ght{i}_coo'+'kie,\x20light'+'{i}_shadow'+'Matrix,\x20li'+'ght{i}_coo'+'kieIntensi'+'ty,\x20light{'+'i}_cookieM'+'atrix,\x20lig'+'ht{i}_cook'+'ieOffset).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20cookieAtt'+'enuation\x20='+'\x20getCookie'+'2DClip(lig'+'ht{i}_cook'+'ie,\x20light{'+'i}_shadowM'+'atrix,\x20lig'+'ht{i}_cook'+'ieIntensit'+'y).{LIGHT{'+'i}COOKIE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20OMNI\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'CookieCube'+'(light{i}_'+'cookie,\x20li'+'ght{i}_sha')+('dowMatrix,'+'\x20light{i}_'+'cookieInte'+'nsity).{LI'+'GHT{i}COOK'+'IE_CHANNEL'+'};\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'ltiply\x20lig'+'ht\x20color\x20b'+'y\x20the\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lig'+'htColor\x20*='+'\x20cookieAtt'+'enuation;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20di'+'stance\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20==\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}FAL'+'LOFF\x20==\x20LI'+'NEAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Linear(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20=\x20g'+'etFalloffI'+'nvSquared('+'light{i}_r'+'adius,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20non'+'\x20punctual\x20'+'lights\x20onl'+'y\x20gets\x20the'+'\x20range\x20win'+'dow\x20here\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Window(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20angle\x20'+'falloff\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20SPOT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20!de'+'fined(LIGH'+'T{i}COOKIE'+')\x20||\x20defin'+'ed(LIGHT{i'+'}COOKIE_FA'+'LLOFF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dAtten\x20'+'*=\x20getSpot'+'Effect(lig'+'ht{i}_dire'+'ction,\x20lig'+'ht{i}_inne'+'rConeAngle'+',\x20light{i}'+'_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20if\x20(dA'+'tten\x20<\x200.0')+('0001)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20are'+'a\x20light\x20va'+'lues\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcR'+'ectLightVa'+'lues(light'+'{i}_positi'+'on,\x20light{'+'i}_halfWid'+'th,\x20light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20calcDi'+'skLightVal'+'ues(light{'+'i}_positio'+'n,\x20light{i'+'}_halfWidt'+'h,\x20light{i'+'}_halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcS'+'phereLight'+'Values(lig'+'ht{i}_posi'+'tion,\x20ligh'+'t{i}_halfW'+'idth,\x20ligh'+'t{i}_halfH'+'eight);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'lighting\x20-'+'\x20LTC\x20light'+'s\x20do\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20'+'into\x20atten'+'uation\x20tha'+'t\x20affects\x20'+'specular\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20atten'+'Diffuse\x20-\x20'+'separate\x20d'+'iffuse\x20att'+'enuation\x20f'+'or\x20non-pun'+'ctual\x20ligh'+'t\x20sources\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20NB:\x20'+'A\x20better\x20a'+'pproximati'+'on\x20perhaps'+'\x20using\x20wra'+'p\x20lighting'+'\x20could\x20be\x20'+'implemente'+'d\x20here\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20atten'+'Diffuse\x20=\x20'+'getLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dL'+'ightDirNor'+'mW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x2016.0\x20i'+'s\x20a\x20consta'+'nt\x20that\x20is'+'\x20in\x20getFal'+'loffInvSqu'+'ared()\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20==\x20'+'RECT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getRectL'+'ightDiffus'+'e(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20lightD'+'irW,\x20dLigh'+'tDirNormW)'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20attenDiff'+'use\x20=\x20getD'+'iskLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20li'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getSpher'+'eLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20ligh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20one\x20'+'parameter\x20'+'is\x20unused\x20'+'for\x20punctu'+'al\x20lights\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20*=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20vec3('+'0.0),\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20apply\x20th'+'e\x20shadow\x20a'+'ttenuation'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'CASTSHADOW'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadow{i'+'}(vec3(0.0'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adow{i}(li'+'ghtDirW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20App')+('ly\x20shadow\x20'+'intensity\x20'+'to\x20the\x20sha'+'dow\x20value\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20=\x20mix'+'(1.0,\x20shad'+'ow,\x20light{'+'i}_shadowI'+'ntensity);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20*=\x20'+'shadow;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_SHADOW_'+'CATCHER)\x20&'+'&\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20accum'+'ulate\x20shad'+'ows\x20for\x20di'+'rectional\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ShadowCatc'+'her\x20*=\x20sha'+'dow;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20-\x20they\x20do'+'\x20not\x20mix\x20d'+'iffuse\x20lig'+'hting\x20into'+'\x20specular\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20('+'(attenDiff'+'use\x20*\x20dAtt'+'en)\x20*\x20ligh'+'tColor)\x20*\x20'+'(1.0\x20-\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(atte'+'nDiffuse\x20*'+'\x20dAtten)\x20*'+'\x20lightColo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20punctua'+'l\x20light\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(AR'+'EA_LIGHTS)'+'\x20&&\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(dAtt'+'en\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20litA'+'rgs_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20spec'+'ular\x20light'+'ing\x0a\x20\x20\x20\x20#i'+'fdef\x20LIGHT')+('{i}AFFECT_'+'SPECULARIT'+'Y\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x20//\x20area\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccSpecula'+'rLight\x20+=\x20'+'ccLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_clear'+'coat_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20ccLTC'+'SpecFres\x20*'+'\x20getDiskLi'+'ghtSpecula'+'r(litArgs_'+'clearcoat_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ge'+'tSphereLig'+'htSpecular'+'(litArgs_c'+'learcoat_w'+'orldNormal'+',\x20dViewDir'+'W)\x20*\x20dAtte'+'n\x20*\x20lightC'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20dLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp')+('ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20SPHERE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20d'+'LTCSpecFre'+'s\x20*\x20getSph'+'ereLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20punctual'+'\x20light\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20is\x20fres'+'nel\x20needed'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20LI'+'T_FRESNEL_'+'MODEL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'GHT{i}FRES'+'NEL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20hal'+'fDirW\x20=\x20no'+'rmalize(-d'+'LightDirNo'+'rmW\x20+\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20if\x20LTC\x20'+'lights\x20are'+'\x20present,\x20'+'specular\x20m'+'ust\x20be\x20acc'+'umulated\x20w'+'ith\x20specul'+'arity\x20(spe'+'cularity\x20i'+'s\x20pre\x20mult'+'iplied\x20by\x20'+'punctual\x20l'+'ight\x20fresn'+'el)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtspecula'+'rCC\x20=\x20getL'+'ightSpecul'+'ar(halfDir'+'W,\x20ccReflD'+'irW,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_clearcoat'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tspecularC'+'C\x20*=\x20getFr'+'esnelCC(do'+'t(dViewDir'+'W,\x20halfDir'+'W));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20lightsp'+'ecularCC;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20lightSpec'+'ular\x20=\x20get'+'LightSpecu'+'lar(halfDi'+'rW,\x20dReflD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightSpecu'+'lar\x20*=\x20get'+'Fresnel(do'+'t(dViewDir'+'W,\x20halfDir'+'W),\x20litArg'+'s_gloss,\x20l'+'itArgs_spe'+'cularity,\x20'+'iridescenc'+'eFresnel,\x20'+'litArgs_ir'+'idescence_'+'intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20*=\x20g'+'etFresnel('+'dot(dViewD'+'irW,\x20halfD'+'irW),\x20litA'+'rgs_gloss,'+'\x20litArgs_s')+('pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20lightSp'+'ecular\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20+=\x20light'+'Specular;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a#en'+'dif\x0a'),mP='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20vec3\x20'+'getShadowS'+'ampleCoord'+'{i}(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'urfacePosi'+'tion\x20=\x20wor'+'ldPosition'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT{i}_SHA'+'DOW_SAMPLE'+'_POINT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20len'+'gth(lightD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightDir'+'\x20=\x20surface'+'Position\x20-'+'\x20lightPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_S'+'OURCE_ZBUF'+'FER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+('NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20distScal'+'e\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20abs'+'(dot(vPosi'+'tionW\x20-\x20li'+'ghtPos,\x20li'+'ghtDirNorm'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20posi'+'tionInShad'+'owSpace\x20=\x20'+'shadowTran'+'sform\x20*\x20ve'+'c4(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM'+'PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.')+('w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20posit'+'ionInShado'+'wSpace.xy\x20'+'/=\x20positio'+'nInShadowS'+'pace.w;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20po'+'sitionInSh'+'adowSpace.'+'z\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20thi'+'s\x20is\x20curre'+'ntly\x20unuse'+'d\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SHADOW_SA'+'MPLE_Z_BIA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20positionI'+'nShadowSpa'+'ce.z\x20+=\x20ge'+'tShadowBia'+'s(shadowPa'+'rams.x,\x20sh'+'adowParams'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20positi'+'onInShadow'+'Space.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20surfaceP'+'osition;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'evaluation'+'\x20function\x0a'+'\x20\x20\x20\x20float\x20'+'getShadow{'+'i}(vec3\x20li'+'ghtDirW)\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20shado'+'w\x20cascades'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_CASCADES'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20sel'+'ect\x20shadow'+'\x20cascade\x20m'+'atrix\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'t\x20cascadeI'+'ndex\x20=\x20get'+'ShadowCasc'+'adeIndex(l'+'ight{i}_sh'+'adowCascad'+'eDistances'+',\x20light{i}'+'_shadowCas'+'cadeCount)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'_SHADOW_CA'+'SCADE_BLEN'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'scadeIndex'+'\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex'+',\x20light{i}'+'_shadowCas'+'cadeDistan'+'ces,\x20light')+('{i}_shadow'+'CascadeCou'+'nt,\x20light{'+'i}_shadowC'+'ascadeBlen'+'d);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mat4'+'\x20shadowMat'+'rix\x20=\x20ligh'+'t{i}_shado'+'wMatrixPal'+'ette[casca'+'deIndex];\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t4\x20shadowM'+'atrix\x20=\x20li'+'ght{i}_sha'+'dowMatrix;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20DIRE'+'CTIONAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20light'+'\x20does\x20not\x20'+'have\x20a\x20pos'+'ition\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20light'+'{i}_shadow'+'Params,\x20vP'+'ositionW,\x20'+'vec3(0.0),'+'\x20lightDirW'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20shad'+'owCoord\x20=\x20'+'getShadowS'+'ampleCoord'+'{i}(shadow'+'Matrix,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20vPosition'+'W,\x20light{i'+'}_position'+',\x20lightDir'+'W,\x20dLightD'+'irNormW,\x20d'+'VertexNorm'+'alW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Fade\x20di'+'rectional\x20'+'shadow\x20at\x20'+'the\x20far\x20di'+'stance\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadowCoord'+'\x20=\x20fadeSha'+'dow(shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owCascadeD'+'istances);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20--'+'---\x20sample'+'\x20the\x20shado'+'w\x20-----\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x20/'+'/\x20-----\x20di'+'rectional\x20'+'light\x20----')+('-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wVSM16(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x205'+'.54);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20VSM_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowVSM32('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x2015.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCS'+'S_32F\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sh'+'adowSearch'+'Area\x20=\x20vec'+'2(length(l'+'ight{i}_ha'+'lfWidth),\x20'+'length(lig'+'ht{i}_half'+'Height))\x20*'+'\x20light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCSS(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20light{i}_'+'cameraPara'+'ms,\x20shadow'+'SearchArea'+',\x20lightDir'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20light{i}'+'_softShado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF1_16'+'F\x20||\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'1_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF3'+'_16F\x20||\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCF3x3(SH'+'ADOWMAP_PA'+'SS(light{i'+'}_shadowMa'+'p),\x20shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF5_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF5_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(SHADOWMAP'+'_PASS(ligh'+'t{i}_shado'+'wMap),\x20sha'+'dowCoord,\x20'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20S'+'POT\x20//\x20---'+'--\x20spot\x20li'+'ght\x20-----\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20V'+'SM_16F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potVSM16(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x205.54,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowSpo')+('tVSM32(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x201'+'5.0,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20shad'+'owSearchAr'+'ea\x20=\x20vec2('+'length(lig'+'ht{i}_half'+'Width),\x20le'+'ngth(light'+'{i}_halfHe'+'ight))\x20*\x20l'+'ight{i}_sh'+'adowSearch'+'Area;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(lig'+'ht{i}_shad'+'owSearchAr'+'ea);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotPCSS('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x20light{i}'+'_cameraPar'+'ams,\x20shado'+'wSearchAre'+'a,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF1_1'+'6F\x20||\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA')+('DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F5_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_PASS(l'+'ight{i}_sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20light{i'+'}_shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x20//\x20'+'-----\x20omni'+'\x20light\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCSS_32F'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P'+'UNCTUAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(len'+'gth(light{'+'i}_halfWid'+'th),\x20lengt'+'h(light{i}'+'_halfHeigh'+'t))\x20*\x20ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2(light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20shadowSe'+'archArea,\x20'+'lightDirW)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_')+('32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF3_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF3_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowOmniPC'+'F3x3(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),_P='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20areaLight'+'sLutTex2;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCSSPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22shadow'+'SoftPS\x22\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(SH'+'ADOW_KIND_'+'VSM)\x0a\x20\x20\x20\x20#'+'include\x20\x22s'+('hadowEVSMP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_LINEA'+'R\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fall'+'offLinearP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22fal'+'loffInvSqu'+'aredPS\x22\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20LIT_COD'+'E_LIGHTS_P'+'OINT\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'ightDirPoi'+'ntPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22spot'+'PS\x22\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_CODE_CO'+'OKIE\x0a\x20\x20\x20\x20#'+'include\x20\x22c'+'ookiePS\x22\x0a#'+'endif\x0a\x0a//\x20'+'clustered\x20'+'lighting\x0a#'+'ifdef\x20LIT_'+'CLUSTERED_'+'LIGHTS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22clustered'+'LightPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHT_'+'COUNT\x20>\x200\x0a'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20genera'+'te\x20shadow\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionSha'+'dowPS,\x20LIG'+'HT_COUNT\x22\x0a'+'\x0a\x20\x20\x20\x20//\x20LO'+'OP\x20-\x20gener'+'ate\x20light\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionLig'+'htPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a'),gP='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'rectional\x20'+'lightmap\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x20&'+'&\x20defined('+'LIT_DIR_LI'+'GHTMAP)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dot(dir,\x20'+'dir)\x20<\x200.0'+'001)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'lightmap;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20vligh'+'t\x20=\x20satura'+'te(dot(dir'+',\x20-vertexN'+'ormal));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fli'+'ght\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20nl'+'ight\x20=\x20(fl'+'ight\x20/\x20max'+'(vlight,\x200'+'.01))\x20*\x200.'+'5;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p\x20*\x20nlight'+'\x20*\x202.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20half'+'Dir\x20=\x20norm'+'alize(-dir'+'\x20+\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'specularLi'+'ght\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20getFre'+'snel(dot(v'+'iewDir,\x20ha'+'lfDir),\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceInt'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20non-dire'+'ctional\x20li'+'ghtmap\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),SP='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'vec3\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_d'+'irLightMap'+';\x0a#endif\x0a\x0a'+'void\x20getLi'+'ghtMap()\x20{'+'\x0a\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_LIGHT'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dLi'+'ghtmap\x20*=\x20'+'{STD_LIGHT'+'_TEXTURE_D'+'ECODE}(tex'+'ture2DBias'+'({STD_LIGH'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'LIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_LIGHTM'+'AP_DIR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dir\x20=\x20'+'texture2DB'+'ias(textur'+'e_dirLight'+'Map,\x20{STD_'+'LIGHT_TEXT'+'URE_UV},\x20t'+'extureBias'+').xyz\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dir'+'Dot\x20=\x20dot('+'dir,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightm'+'apDir\x20=\x20(d'+'irDot\x20>\x200.'+'001)\x20?\x20dir'+'\x20/\x20sqrt(di'+'rDot)\x20:\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_LIGHT_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_LIGHT_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a',yP='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20alp'+'haRoughnes'+'s\x20=\x20roughn'+'ess\x20*\x20roug'+'hness;\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'dAnisotrop'+'y;\x0a\x20\x20\x20\x20vec'+'2\x20directio'+'n\x20=\x20dAniso'+'tropyRotat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'float\x20at\x20='+'\x20mix(alpha'+'Roughness,'+'\x201.0,\x20anis'+'otropy\x20*\x20a'+'nisotropy)'+';\x0a\x20\x20\x20\x20floa'+'t\x20ab\x20=\x20cla'+'mp(alphaRo'+'ughness,\x200'+'.001,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20anisotro'+'picT\x20=\x20nor'+'malize(tbn'+'\x20*\x20vec3(di'+'rection,\x200'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicB\x20=\x20'+'normalize('+'cross(tbn['+'2],\x20anisot'+'ropicT));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20NoH\x20=\x20dot'+'(worldNorm'+'al,\x20h);\x0a\x20\x20'+'\x20\x20float\x20To'+'H\x20=\x20dot(an'+'isotropicT'+',\x20h);\x0a\x20\x20\x20\x20'+'float\x20BoH\x20'+'=\x20dot(anis'+'otropicB,\x20'+'h);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20a2\x20=\x20'+'at\x20*\x20ab;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20vec3(ab\x20'+'*\x20ToH,\x20at\x20'+'*\x20BoH,\x20a2\x20'+'*\x20NoH);\x0a\x20\x20'+'\x20\x20float\x20v2'+'\x20=\x20dot(v,\x20'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20w2\x20=\x20a'+'2\x20/\x20v2;\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'ToV\x20=\x20dot('+'anisotropi'+'cT,\x20viewDi'+'r);\x0a\x20\x20\x20\x20fl'+'oat\x20BoV\x20=\x20'+'dot(anisot'+'ropicB,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20float\x20To'+'L\x20=\x20dot(an'+'isotropicT'+(',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20Bo'+'L\x20=\x20dot(an'+'isotropicB'+',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20No'+'V\x20=\x20dot(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20float'+'\x20NoL\x20=\x20dot'+'(worldNorm'+'al,\x20-light'+'DirNorm);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20lambdaV\x20='+'\x20NoL\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToV,\x20a'+'b\x20*\x20BoV,\x20N'+'oV));\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daL\x20=\x20NoV\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oL,\x20ab\x20*\x20B'+'oL,\x20NoL));'+'\x0a\x20\x20\x20\x20float'+'\x20G\x20=\x200.5\x20/'+'\x20(lambdaV\x20'+'+\x20lambdaL)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20D\x20*\x20G;'+'\x0a}\x0a\x0afloat\x20'+'getLightSp'+'ecular(vec'+'3\x20h,\x20vec3\x20'+'reflDir,\x20v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'float\x20glos'+'s,\x20mat3\x20tb'+'n)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'LightSpecu'+'lar(gloss,'+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20h,\x20ligh'+'tDirNorm,\x20'+'tbn);\x0a}\x0a'),vP='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',xP='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20PI\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',TP='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'hWithParam'+'s(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec4\x20ca'+'mera_param'+'s;\x20//\x20x:\x201'+'\x20/\x20camera_'+'far,\x20\x20\x20\x20\x20\x20'+'y:\x20camera_'+'far,\x20\x20\x20\x20\x20z'+':\x20camera_n'+'ear,\x20\x20\x20\x20\x20\x20'+'\x20\x20w:\x20is_or'+'tho\x0a#endif'+'\x0a\x0afloat\x20li'+'nearizeDep'+'th(float\x20z'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20linea'+'rizeDepthW'+'ithParams('+'z,\x20camera_'+'params);\x0a}'+'\x0a#endif\x0a',wP='\x0avoid\x20eval'+'uateBacken'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'SSAO\x20durin'+'g\x20lighting'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_SSAO'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ao\x20'+'*=\x20texture'+'2DLod(ssao'+'Texture,\x20g'+'l_FragCoor'+'d.xy\x20*\x20ssa'+'oTextureSi'+'zeInv,\x200.0'+').r;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20transf'+'orm\x20tangen'+'t\x20space\x20no'+'rmals\x20to\x20w'+'orld\x20space'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_NEED'+'S_NORMAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etReflDir('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20litArgs_'+'gloss,\x20dTB'+'N);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W\x20=\x20normal'+'ize(-refle'+'ct(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR_OR'+'_REFLECTIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20f'+'0\x20=\x201.0\x20/\x20'+'litArgs_io'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20f0\x20=\x20'+'(f0\x20-\x201.0)'+'\x20/\x20(f0\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20f0\x20'+'*=\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+('ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'mbient\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20addAmbie'+'nt(litArgs'+'_worldNorm'+'al);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20dDiffuse'+'Light\x20*\x20(1'+'.0\x20-\x20litAr'+'gs_specula'+'rity);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20move\x20a'+'mbient\x20col'+'or\x20out\x20of\x20'+'diffuse\x20(u'+'sed\x20by\x20Lig'+'htmapper,\x20'+'to\x20multipl'+'y\x20ambient\x20'+'color\x20by\x20a'+'ccumulated'+'\x20AO)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SEPARA'+'TE_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dA'+'mbientLigh'+'t\x20=\x20dDiffu'+'seLight;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_O'+'LD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20*=\x20mate'+'rial_ambie'+'nt;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OCCLUD'+'E_DIRECT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20occludeDi'+'ffuse(litA'+'rgs_ao);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTMAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'dLightMap('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_lightmap'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dViewDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dRef'+'lDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dTBN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTING\x20'+'||\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tionCC(ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_glo'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_FRESNE'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccFresne'+'l\x20=\x20getFre'+'snelCC(dot'+'(dViewDirW'+',\x20litArgs_'+'clearcoat_'+'worldNorma'+'l));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccRef'+'lection\x20*='+'\x20ccFresnel'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20*=\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'addReflect'+'ionSheen(l'+'itArgs_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20litArgs_s'+'heen_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Fr')+('esnel\x20has\x20'+'to\x20be\x20appl'+'ied\x20to\x20ref'+'lections\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tion(dRefl'+'DirW,\x20litA'+'rgs_gloss)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_FRES'+'NEL_MODEL\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dRe'+'flection.r'+'gb\x20*=\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.rgb\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n.rgb\x20*=\x20l'+'itArgs_spe'+'cularityFa'+'ctor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20ARE'+'A_LIGHTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20has\x20to\x20'+'be\x20accumul'+'ated\x20diffe'+'rently\x20if\x20'+'we\x20want\x20ar'+'ea\x20lights\x20'+'to\x20look\x20co'+'rrect\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dS'+'pecularLig'+'ht\x20*=\x20litA'+'rgs_specul'+'arity;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'valuate\x20ma'+'terial\x20bas'+'ed\x20area\x20li'+'ghts\x20data,')+('\x20shared\x20by'+'\x20all\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcLTC'+'LightValue'+'s(litArgs_'+'gloss,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_gl'+'oss,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20LOOP\x20-\x20e'+'valuate\x20al'+'l\x20non-clus'+'tered\x20ligh'+'ts\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT_COUNT\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tEvaluatio'+'nPS,\x20LIGHT'+'_COUNT\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clust'+'ered\x20light'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addClust'+'eredLights'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dReflDi'+'rW,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_CLEA'+'RCOAT)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20litAr'+'gs_specula'+'rity,\x20dVer'+'texNormalW'+',\x20dTBN,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_gloss,'+'\x20litArgs_s'+'heen_gloss'+',\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20AR'+'EA_LIGHTS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x20=\x20ve'+'c3(1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'thickness,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_albe'+'do,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_t'+'ransmissio'+'n,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_disp'+'ersion\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_iridesc'+'ence_inten'+'sity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20ambient'+'\x20occlusion'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_OC')+('CLUDE_DIRE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20occlu'+'deDiffuse('+'litArgs_ao'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIT_OCCLU'+'DE_SPECULA'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeS'+'pecular(li'+'tArgs_glos'+'s,\x20litArgs'+'_ao,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULARIT'+'Y_FACTOR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20litAr'+'gs_specula'+'rityFactor'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIT_OPACI'+'TY_FADES_S'+'PECULAR)\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIT_BLEN'+'D_TYPE\x20==\x20'+'NORMAL\x20||\x20'+'LIT_BLEND_'+'TYPE\x20==\x20PR'+'EMULTIPLIE'+'D\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20specLum\x20='+'\x20dot((dSpe'+'cularLight'+'\x20+\x20dReflec'+'tion.rgb\x20*'+'\x20dReflecti'+'on.a),\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecLum\x20+=\x20'+'dot(ccSpec'+'ularLight\x20'+'*\x20litArgs_'+'clearcoat_'+'specularit'+'y\x20+\x20ccRefl'+'ection\x20*\x20l'+'itArgs_cle'+'arcoat_spe'+'cularity,\x20'+'vec3(\x200.21'+'26,\x200.7152'+',\x200.0722\x20)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_opacity\x20'+'=\x20clamp(li'+'tArgs_opac'+'ity\x20+\x20gamm'+'aCorrectIn'+'put(specLu'+'m),\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;\x0a\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nd\x20chunks\x20'+'-\x20when\x20bak'+'ing\x20lightm'+'ap\x0a\x20\x20\x20\x20#if'+'def\x20LIT_LI')+('GHTMAP_BAK'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22bak'+'eLmEndPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_LIGHTM'+'AP_BAKING_'+'DIR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22bake'+'DirLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20en'+'d\x20chunks\x20-'+'\x20in\x20all\x20ot'+'her\x20cases\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22en'+'dPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22outputA'+'lphaPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_MSDF\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20applyMs'+'df(gl_Frag'+'Color);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22output'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22de'+'bugOutputP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HADOW_CATC'+'HER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20when\x20the'+'\x20shadow\x20ca'+'tcher\x20is\x20e'+'nabled\x20-\x20a'+'ccumulated'+'\x20shadows\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20=\x20vec3'+'(dShadowCa'+'tcher);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a'),EP='\x0a\x0a//\x20globa'+'ls\x0avec3\x20sR'+'eflection;'+'\x0avec3\x20dVer'+'texNormalW'+';\x0avec3\x20dTa'+'ngentW;\x0ave'+'c3\x20dBinorm'+'alW;\x0avec3\x20'+'dViewDirW;'+'\x0avec3\x20dRef'+'lDirW;\x0avec'+'3\x20ccReflDi'+'rW;\x0a\x0a//\x20Pe'+'r-light\x20te'+'mporaries\x0a'+'vec3\x20dLigh'+'tDirNormW;'+'\x0afloat\x20dAt'+'ten;\x0a\x0a//\x20O'+'utputs\x0amat'+'3\x20dTBN;\x0ave'+'c4\x20dReflec'+'tion;\x0avec3'+'\x20dDiffuseL'+'ight;\x0avec3'+'\x20dSpecular'+'Light;\x0aflo'+'at\x20ccFresn'+'el;\x0avec3\x20c'+'cReflectio'+'n;\x0avec3\x20cc'+'SpecularLi'+'ght;\x0afloat'+'\x20ccSpecula'+'rityNoFres'+';\x0avec3\x20sSp'+'ecularLigh'+'t;\x0a\x0a//\x20FRA'+'GMENT\x20SHAD'+'ER\x20INPUTS:'+'\x20UNIFORMS\x0a'+'\x0a#ifdef\x20LI'+'T_DISPERSI'+'ON\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'dispersion'+';\x0a#endif\x0a\x0a'+'#ifndef\x20LI'+'T_OPACITY_'+'FADES_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_alphaFad'+'e;\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_SSAO\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20unif'+'orm\x20vec2\x20s'+'saoTexture'+'SizeInv;\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20a'+'nd\x20shadowi'+'ng\x20declara'+'tions\x0a\x0a#if'+'def\x20LIT_SH'+'ADOW_CATCH'+'ER\x0a\x20\x20\x20\x20//\x20'+'a\x20variable'+'\x20to\x20accumu'+'late\x20shado'+'ws\x20for\x20sha'+'dow\x20catche'+'r\x20material'+'s\x0a\x20\x20\x20\x20floa'+'t\x20dShadowC'+'atcher\x20=\x201'+'.0;\x0a#endif'+'\x0a\x0a//\x20LOOP\x20'+'-\x20uniform\x20'+'declaratio'+'ns\x20for\x20all'+'\x20non-clust'+'ered\x20light'+'s\x0a#if\x20LIGH'+'T_COUNT\x20>\x20'+'0\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDeclarati'+'onPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+('\x20#if\x20LIT_F'+'RESNEL_MOD'+'EL\x20==\x20NONE'+'\x20&&\x20!defin'+'ed(LIT_REF'+'LECTIONS)\x20'+'&&\x20!define'+'d(LIT_DIFF'+'USE_MAP)\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a//\x20lightm'+'ap\x20baking\x0a'+'#ifdef\x20STD'+'_LIGHTMAP_'+'DIR\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20bakeDir;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_L'+'IGHTMAP_BA'+'KING_ADD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20ambie'+'ntBakeOccl'+'usionContr'+'ast;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20ambient'+'BakeOcclus'+'ionBrightn'+'ess;\x0a#endi'+'f\x0a'),bP='\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4(0'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ccS'+'pecularLig'+'ht\x20=\x20vec3('+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'NONE_SLICE'+'_MODE\x20==\x20S'+'LICED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22startN'+'ineSlicedP'+'S\x22\x0a\x20\x20\x20\x20#el'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20TILE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'startNineS'+'licedTiled'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_NEEDS_NOR'+'MAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW\x20=\x20n'+'ormalize(v'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'TANGENTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_HEI'+'GHTS)\x20||\x20d'+'efined(LIT'+'_USE_NORMA'+'LS)\x20||\x20def'+'ined(LIT_U'+'SE_CLEARCO'+'AT_NORMALS'+')\x20||\x20defin'+'ed(LIT_GGX'+'_SPECULAR)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dTa'+'ngentW\x20=\x20v'+'TangentW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dBin'+'ormalW\x20=\x20v'+'BinormalW;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20getVie'+'wDir();\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_TB'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_TWO_S'+'IDED_LIGHT'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'handleTwoS'+'idedLighti'+'ng();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20i'+'nvoke\x20fron'+'tend\x20funct'+'ions\x0a\x20\x20\x20\x20e'+'valuateFro'+'ntend();\x0a\x0a'+('\x20\x20\x20\x20#inclu'+'de\x20\x22debugP'+'rocessFron'+'tendPS\x22\x0a\x0a\x20'+'\x20\x20\x20evaluat'+'eBackend()'+';\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a'),AP='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20vec3\x20mate'+'rial_ambie'+'nt;\x0a\x0a#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTING\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightSp'+'ecularAnis'+'oGGXPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightS'+'pecularBli'+'nnPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'combinePS\x22'+'\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tmapAddPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'ADD_AMBIEN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ambi'+'entPS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIT_MSDF'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22msdfP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'include\x20\x22v'+'iewDirPS\x22\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flDirAniso'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a//\x20li'+'ghting\x20fun'+'ctionality')+('\x0a#include\x20'+'\x22lightingP'+'S\x22\x0a\x0a'),CP='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',PP='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',MP='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec4\x20ve'+'rtex_color'+';\x0a#endif\x0a\x0a'+'#ifdef\x20NIN'+'ESLICED\x0a\x0a\x20'+'\x20\x20\x20varying'+'\x20vec2\x20vMas'+'k;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'vTiledUv;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20v'+'ec2\x20outerS'+'cale;\x0a\x20\x20\x20\x20'+'uniform\x20me'+'diump\x20vec4'+'\x20atlasRect'+';\x0a\x0a#endif\x0a'+'\x0avec3\x20dPos'+'itionW;\x0ama'+'t4\x20dModelM'+'atrix;\x0a\x0a#i'+'nclude\x20\x22tr'+'ansformCor'+'eVS\x22\x0a\x0a#ifd'+'ef\x20UV0\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'c2\x20vertex_'+'texCoord1;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22uv1VS'+'\x22\x0a#endif\x0a\x0a'+'\x0a#ifdef\x20LI'+'NEAR_DEPTH'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20#d'+'efine\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'transformV'+'S\x22\x0a\x0a#ifdef'+'\x20NORMALS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22normalC'+'oreVS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22normalVS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20TANG'+'ENTS\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_tangent;\x0a'+'#endif\x0a\x0a//'+'\x20expand\x20un'+'iforms\x20for'+'\x20uv\x20transf'+'orms\x0a#incl'+'ude\x20\x22uvTra'+'nsformUnif'+'ormsPS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'#ifdef\x20MSD'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22msdf'+'VS\x22\x0a#endif'+'\x0a\x0a#include'+'\x20\x20\x22litUser'+'CodeVS\x22\x0a\x0av'+'oid\x20main(v'+'oid)\x20{\x0a\x0a\x20\x20'+'\x20\x20#include'+('\x20\x22litUserM'+'ainStartVS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'default\x20po'+'int\x20size\x20t'+'o\x201\x20in\x20cas'+'e\x20the\x20shad'+'er\x20is\x20used'+'\x20with\x20poin'+'ts\x0a\x20\x20\x20\x20gl_'+'PointSize\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20getP'+'osition();'+'\x0a\x20\x20\x20\x20vPosi'+'tionW\x20=\x20ge'+'tWorldPosi'+'tion();\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'NORMALS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vNor'+'malW\x20=\x20get'+'Normal();\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20TANGENT'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vTangentW\x20'+'=\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vBi'+'normalW\x20=\x20'+'cross(vNor'+'malW,\x20vTan'+'gentW)\x20*\x20v'+'ertex_tang'+'ent.w;\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(GGX_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3(0,\x201'+',\x200));\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV0\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv0'+'\x20=\x20getUv0('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20UV'+'0_UNMODIFI'+'ED\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv1\x20=\x20ge'+'tUv1();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20UV1_UNM'+'ODIFIED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vUv1\x20=\x20uv1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20expa'+'nd\x20code\x20fo'+'r\x20uv\x20trans'+'forms\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'uvTransfor'+'mVS,\x20UV_TR'+'ANSFORMS_C'+'OUNT\x22\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20VE'+'RTEX_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition')+(',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vPosi'+'tionW,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'SDF\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20unpackMs'+'dfParams()'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tUserMainE'+'ndVS\x22\x0a}\x0a'),DP='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20g'+'etPickOutp'+'ut();\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'REPASS_PAS'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20float'+'2vec4(vLin'+'earDepth);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a',IP='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LP='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20te'+'xtureBias\x20'+'=\x20-1000.0;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20texture'+'Bias;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litShade'+'rArgsPS\x22\x0a',RP='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20vec3\x20v'+'iew_positi'+'on;\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20light_ra'+'dius;\x0a#end'+'if\x0a\x0a#if\x20SH'+'ADOW_TYPE\x20'+'==\x20PCSS_32'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22line'+'arizeDepth'+'PS\x22\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'evaluateFr'+'ontend();\x0a'+'\x0a\x20\x20\x20\x20//\x20us'+'ing\x20non-st'+'andard\x20dep'+'th,\x20i.e\x20gl'+'_FragCoord'+'.z\x0a\x20\x20\x20\x20#if'+'def\x20PERSPE'+'CTIVE_DEPT'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20gl_Fra'+'gCoord.z;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SHADOW_'+'TYPE\x20==\x20PC'+'SS_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot/omn'+'i\x20shadows\x20'+'currently\x20'+'use\x20linear'+'\x20depth.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20TODO:\x20u'+'se\x20perspec'+'tive\x20depth'+'\x20for\x20spot/'+'omni\x20the\x20s'+'ame\x20way\x20as'+'\x20direction'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT_TYPE\x20'+'!=\x20DIRECTI'+'ONAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20depth\x20=\x20l'+'inearizeDe'+'pthWithPar'+'ams(depth,'+'\x20camera_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20min(di'+'stance(vie'+'w_position'+',\x20vPositio'+'nW)\x20/\x20ligh'+'t_radius,\x20'+'0.99999);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20MODI'+'FIED_DEPTH'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20VSM_'+'16F\x20||\x20SHA'+'DOW_TYPE\x20='+'=\x20VSM_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20exponen'+'t\x20=\x2015.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+('t\x20exponent'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20depth\x20=\x20'+'2.0\x20*\x20dept'+'h\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dep'+'th\x20=\x20\x20exp('+'exponent\x20*'+'\x20depth);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(dep'+'th,\x20depth*'+'depth,\x201.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'SHADOW_TYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'tore\x20depth'+'\x20into\x20R32\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.r\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ODIFIED_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20If\x20we\x20e'+'nd\x20up\x20usin'+'g\x20modified'+'\x20depth,\x20it'+'\x20needs\x20to\x20'+'be\x20explici'+'tly\x20writte'+'n\x20to\x20gl_Fr'+'agDepth\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20just\x20the\x20'+'simplest\x20c'+'ode,\x20color'+'\x20is\x20not\x20wr'+'itten\x20anyw'+'ay\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'}\x0a'),OP='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20vec2'+'\x20ccLTCUV;\x0a'+'#endif\x0a\x0ave'+'c2\x20getLTCL'+'ightUV(flo'+'at\x20gloss,\x20'+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x0a{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20max('+'(1.0\x20-\x20glo'+'ss)\x20*\x20(1.0'+'\x20-\x20gloss),'+'\x200.001);\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Uv(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'roughness\x20'+');\x0a}\x0a\x0a//\x20u'+'sed\x20for\x20en'+'ergy\x20conse'+'rvation\x20an'+'d\x20to\x20modul'+'ate\x20specul'+'ar\x0avec3\x20dL'+'TCSpecFres'+';\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20vec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0a\x0avec3\x20'+'getLTCLigh')+('tSpecFres('+'vec2\x20uv,\x20v'+'ec3\x20specul'+'arity)\x0a{\x0a\x20'+'\x20\x20\x20vec4\x20t2'+'\x20=\x20texture'+'2DLod(area'+'LightsLutT'+'ex2,\x20uv,\x200'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20spec'+'ularity\x20*\x20'+'t2.x\x20+\x20(\x20v'+'ec3(\x201.0\x20)'+'\x20-\x20specula'+'rity)\x20*\x20t2'+'.y;\x0a}\x0a\x0avoi'+'d\x20calcLTCL'+'ightValues'+'(float\x20glo'+'ss,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20speculari'+'ty,\x20float\x20'+'clearcoatG'+'loss,\x20vec3'+'\x20clearcoat'+'WorldNorma'+'l,\x20float\x20c'+'learcoatSp'+'ecularity)'+'\x0a{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x20\x0a\x0a#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20cc'+'LTCUV\x20=\x20ge'+'tLTCLightU'+'V(clearcoa'+'tGloss,\x20cl'+'earcoatWor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20ccLTCS'+'pecFres\x20=\x20'+'getLTCLigh'+'tSpecFres('+'ccLTCUV,\x20v'+'ec3(clearc'+'oatSpecula'+'rity));\x0a#e'+'ndif\x0a}\x0a\x0avo'+'id\x20calcRec'+'tLightValu'+'es(vec3\x20li'+'ghtPos,\x20ve'+'c3\x20halfWid'+'th,\x20vec3\x20h'+'alfHeight)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0avoid\x20c'+'alcDiskLig'+'htValues(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight)\x20{\x0a\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0av'+'oid\x20calcSp'+'hereLightV'+'alues(vec3'+'\x20lightPos,'+'\x20vec3\x20half'+'Width,\x20vec'+'3\x20halfHeig'+'ht)\x20{\x0a\x20\x20\x20\x20')+('dLTCCoords'+'\x20=\x20getSphe'+'reLightCoo'+'rds(lightP'+'os,\x20halfWi'+'dth,\x20halfH'+'eight);\x0a}\x0a'+'\x0a//\x20An\x20ext'+'ended\x20vers'+'ion\x20of\x20the'+'\x20implement'+'ation\x20from'+'\x20\x22How\x20to\x20s'+'olve\x20a\x20cub'+'ic\x20equatio'+'n,\x20revisit'+'ed\x22\x0a//\x20htt'+'p://moment'+'singraphic'+'s.de/?p=10'+'5\x0avec3\x20Sol'+'veCubic(ve'+'c4\x20Coeffic'+'ient)\x0a{\x0a\x20\x20'+'\x20\x20float\x20pi'+'\x20=\x203.14159'+';\x0a\x20\x20\x20\x20//\x20N'+'ormalize\x20t'+'he\x20polynom'+'ial\x0a\x20\x20\x20\x20Co'+'efficient.'+'xyz\x20/=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20//\x20D'+'ivide\x20midd'+'le\x20coeffic'+'ients\x20by\x20t'+'hree\x0a\x20\x20\x20\x20C'+'oefficient'+'.yz\x20/=\x203.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20A\x20=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20floa'+'t\x20B\x20=\x20Coef'+'ficient.z;'+'\x0a\x20\x20\x20\x20float'+'\x20C\x20=\x20Coeff'+'icient.y;\x0a'+'\x20\x20\x20\x20float\x20'+'D\x20=\x20Coeffi'+'cient.x;\x0a\x0a'+'\x20\x20\x20\x20//\x20Com'+'pute\x20the\x20H'+'essian\x20and'+'\x20the\x20discr'+'iminant\x0a\x20\x20'+'\x20\x20vec3\x20Del'+'ta\x20=\x20vec3('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20-'+'Coefficien'+'t.z\x20*\x20Coef'+'ficient.z\x20'+'+\x20Coeffici'+'ent.y,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20-Coef'+'ficient.y\x20'+'*\x20Coeffici'+'ent.z\x20+\x20Co'+'efficient.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dot(vec2('+'Coefficien'+'t.z,\x20-Coef'+'ficient.y)'+',\x20Coeffici'+'ent.xy)\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'float\x20Disc'+'riminant\x20='+'\x20dot(vec2('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xlc'+',\x20xsc;\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20A\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20C_a\x20=\x20De'+'lta.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20D_a\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(sqr'+'t(Discrimi'+'nant),\x20-D_'+'a)\x20/\x203.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_1a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20x_3'+'a\x20=\x202.0\x20*\x20'+'sqrt(-C_a)'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20((x_1a'+'\x20+\x20x_3a)\x20>'+'\x202.0\x20*\x20B)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xl\x20=\x20x_1'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'\x20=\x20x_3a;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'c\x20=\x20vec2(x'+'l\x20-\x20B,\x20A);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20D\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_d'+'\x20=\x20D;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_d\x20=\x20Delt'+'a.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_d\x20=\x20-D\x20*\x20'+'Delta.y\x20+\x20'+'2.0\x20*\x20C\x20*\x20'+'Delta.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20Take\x20the\x20'+'cubic\x20root'+'\x20of\x20a\x20norm'+'alized\x20com'+'plex\x20numbe'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20Thet'+'a\x20=\x20atan(D'+'\x20*\x20sqrt(Di'+'scriminant'+'),\x20-D_d)\x20/'+'\x203.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_1d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_3d\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_d)\x20*\x20c'+'os(Theta\x20+'+'\x20(2.0\x20/\x203.'+'0)\x20*\x20pi);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20xs;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(x_1d\x20+\x20x_'+'3d\x20<\x202.0\x20*'+'\x20C)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xs\x20='+'\x20x_1d;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xs\x20=\x20x_3'+'d;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20xsc\x20=\x20ve'+'c2(-D,\x20xs\x20'+'+\x20C);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20flo'+'at\x20E\x20=\x20\x20xl'+'c.y\x20*\x20xsc.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20F\x20=\x20-xl'+'c.x\x20*\x20xsc.'+'y\x20-\x20xlc.y\x20')+('*\x20xsc.x;\x0a\x20'+'\x20\x20\x20float\x20G'+'\x20=\x20\x20xlc.x\x20'+'*\x20xsc.x;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20x'+'mc\x20=\x20vec2('+'C\x20*\x20F\x20-\x20B\x20'+'*\x20G,\x20-B\x20*\x20'+'F\x20+\x20C\x20*\x20E)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20Root\x20=\x20v'+'ec3(xsc.x\x20'+'/\x20xsc.y,\x20x'+'mc.x\x20/\x20xmc'+'.y,\x20xlc.x\x20'+'/\x20xlc.y);\x0a'+'\x0a\x20\x20\x20\x20if\x20(R'+'oot.x\x20<\x20Ro'+'ot.y\x20&&\x20Ro'+'ot.x\x20<\x20Roo'+'t.z)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root.xy'+'z\x20=\x20Root.y'+'xz;\x0a\x20\x20\x20\x20el'+'se\x20if\x20(Roo'+'t.z\x20<\x20Root'+'.x\x20&&\x20Root'+'.z\x20<\x20Root.'+'y)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.xzy'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20Root;\x0a'+'}\x0a\x0afloat\x20L'+'TC_Evaluat'+'eDisk(vec3'+'\x20N,\x20vec3\x20V'+',\x20vec3\x20P,\x20'+'mat3\x20Minv,'+'\x20Coords\x20po'+'ints)\x0a{\x0a\x20\x20'+'\x20\x20//\x20const'+'ruct\x20ortho'+'normal\x20bas'+'is\x20around\x20'+'N\x0a\x20\x20\x20\x20vec3'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'vec3\x20T2\x20=\x20'+'cross(N,\x20T'+'1);\x0a\x0a\x20\x20\x20\x20/'+'/\x20rotate\x20a'+'rea\x20light\x20'+'in\x20(T1,\x20T2'+',\x20N)\x20basis'+'\x0a\x20\x20\x20\x20//mat'+'3\x20R\x20=\x20tran'+'spose(mat3'+'(T1,\x20T2,\x20N'+'));\x0a\x20\x20\x20\x20ma'+'t3\x20R\x20=\x20tra'+'nsposeMat3'+'(\x20mat3(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'polygon\x20(a'+'llocate\x205\x20'+'vertices\x20f'+'or\x20clippin'+'g)\x0a\x20\x20\x20\x20vec'+'3\x20L_[\x203\x20];'+'\x0a\x20\x20\x20\x20L_[\x200'+'\x20]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[\x20'+'1\x20]\x20=\x20R\x20*\x20'+'(\x20points.c'+'oord1\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20L_['+'\x202\x20]\x20=\x20R\x20*'+'\x20(\x20points.'+'coord2\x20-\x20P'+'\x20);\x0a\x0a\x20\x20\x20\x20/'+'/\x20init\x20ell'+'ipse\x0a\x20\x20\x20\x20v'+'ec3\x20C\x20\x20=\x200'+'.5\x20*\x20(L_[0'+']\x20+\x20L_[2])'+';\x0a\x20\x20\x20\x20vec3'+'\x20V1\x20=\x200.5\x20'+'*\x20(L_[1]\x20-'+'\x20L_[2]);\x0a\x20'+'\x20\x20\x20vec3\x20V2'+'\x20=\x200.5\x20*\x20('+'L_[1]\x20-\x20L_'+'[0]);\x0a\x0a\x20\x20\x20'+'\x20C\x20\x20=\x20Minv')+('\x20*\x20C;\x0a\x20\x20\x20\x20'+'V1\x20=\x20Minv\x20'+'*\x20V1;\x0a\x20\x20\x20\x20'+'V2\x20=\x20Minv\x20'+'*\x20V2;\x0a\x0a\x20\x20\x20'+'\x20//if(dot('+'cross(V1,\x20'+'V2),\x20C)\x20>\x20'+'0.0)\x0a\x20\x20\x20\x20/'+'/\x20\x20\x20\x20retur'+'n\x200.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20compu'+'te\x20eigenve'+'ctors\x20of\x20e'+'llipse\x0a\x20\x20\x20'+'\x20float\x20a,\x20'+'b;\x0a\x20\x20\x20\x20flo'+'at\x20d11\x20=\x20d'+'ot(V1,\x20V1)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d22\x20=\x20do'+'t(V2,\x20V2);'+'\x0a\x20\x20\x20\x20float'+'\x20d12\x20=\x20dot'+'(V1,\x20V2);\x0a'+'\x20\x20\x20\x20if\x20(ab'+'s(d12)\x20/\x20s'+'qrt(d11\x20*\x20'+'d22)\x20>\x200.0'+'001)\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20tr\x20=\x20'+'d11\x20+\x20d22;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20det\x20='+'\x20-d12\x20*\x20d1'+'2\x20+\x20d11\x20*\x20'+'d22;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20use'+'\x20sqrt\x20matr'+'ix\x20to\x20solv'+'e\x20for\x20eige'+'nvalues\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20det\x20'+'=\x20sqrt(det'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20u\x20='+'\x200.5\x20*\x20sqr'+'t(tr\x20-\x202.0'+'\x20*\x20det);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20v\x20=\x200.5'+'\x20*\x20sqrt(tr'+'\x20+\x202.0\x20*\x20d'+'et);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20e'+'_max\x20=\x20(u\x20'+'+\x20v)\x20*\x20(u\x20'+'+\x20v);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_min\x20=\x20(u'+'\x20-\x20v)\x20*\x20(u'+'\x20-\x20v);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20V1_,\x20V2_;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(d11\x20>\x20'+'d22)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20V2_\x20'+'=\x20d12\x20*\x20V1'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12*V2'+'\x20+\x20(e_max\x20'+'-\x20d22)*V1;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20V2_\x20=\x20d'+'12*V2\x20+\x20(e'+'_min\x20-\x20d22'+')*V1;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20e_max'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'b\x20=\x201.0\x20/\x20'+'e_min;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V1\x20=\x20'+'normalize('+'V1_);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20V2\x20=\x20n'+'ormalize(V'+'2_);\x0a\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20dot(V1'+',\x20V1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20b\x20=\x201'+'.0\x20/\x20dot(V'+'2,\x20V2);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20*'+'=\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20*=\x20sqrt('+'b);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'V3\x20=\x20norma'+'lize(cross'+'(V1,\x20V2));'+'\x0a\x20\x20\x20\x20if\x20(d'+'ot(C,\x20V3)\x20'+'<\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V3\x20*='+'\x20-1.0;\x0a\x0a\x20\x20'+'\x20\x20float\x20L\x20'+'\x20=\x20dot(V3,'+'\x20C);\x0a\x20\x20\x20\x20f'+'loat\x20x0\x20=\x20'+'dot(V1,\x20C)'+'\x20/\x20L;\x0a\x20\x20\x20\x20'+'float\x20y0\x20='+'\x20dot(V2,\x20C'+')\x20/\x20L;\x0a\x0a\x20\x20'+'\x20\x20float\x20E1'+'\x20=\x20inverse'+'sqrt(a);\x0a\x20'+'\x20\x20\x20float\x20E'+'2\x20=\x20invers'+'esqrt(b);\x0a'+'\x0a\x20\x20\x20\x20a\x20*=\x20'+'L\x20*\x20L;\x0a\x20\x20\x20'+'\x20b\x20*=\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20c0\x20=\x20a'+'\x20*\x20b;\x0a\x20\x20\x20\x20'+'float\x20c1\x20='+'\x20a\x20*\x20b\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0\x20+\x20y0\x20*'+'\x20y0)\x20-\x20a\x20-'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20c2\x20=\x201'+'.0\x20-\x20a\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0)\x20-\x20b\x20*'+'\x20(1.0\x20+\x20y0'+'\x20*\x20y0);\x0a\x20\x20'+'\x20\x20float\x20c3'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ro'+'ots\x20=\x20Solv'+'eCubic(vec'+'4(c0,\x20c1,\x20'+'c2,\x20c3));\x0a'+'\x20\x20\x20\x20float\x20'+'e1\x20=\x20roots'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20e2\x20=\x20r'+'oots.y;\x0a\x20\x20'+'\x20\x20float\x20e3'+'\x20=\x20roots.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20avgDir\x20='+'\x20vec3(a\x20*\x20'+'x0\x20/\x20(a\x20-\x20'+'e2),\x20b\x20*\x20y'+'0\x20/\x20(b\x20-\x20e'+'2),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'rotate\x20=\x20m'+'at3(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20L1\x20=\x20sqrt'+'(-e2\x20/\x20e3)'+';\x0a\x20\x20\x20\x20floa'+'t\x20L2\x20=\x20sqr'+'t(-e2\x20/\x20e1'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20formFa'+'ctor\x20=\x20max'+'(0.0,\x20L1\x20*'+'\x20L2\x20*\x20inve')+('rsesqrt((1'+'.0\x20+\x20L1\x20*\x20'+'L1)\x20*\x20(1.0'+'\x20+\x20L2\x20*\x20L2'+')));\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20const\x20'+'float\x20LUT_'+'SIZE\x20=\x2064.'+'0;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_SCALE\x20='+'\x20(\x20LUT_SIZ'+'E\x20-\x201.0\x20)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20float\x20LU'+'T_BIAS\x20=\x200'+'.5\x20/\x20LUT_S'+'IZE;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20tab'+'ulated\x20hor'+'izon-clipp'+'ed\x20sphere\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vec2(a'+'vgDir.z\x20*\x20'+'0.5\x20+\x200.5,'+'\x20formFacto'+'r);\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv*LUT_'+'SCALE\x20+\x20LU'+'T_BIAS;\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'cale\x20=\x20tex'+'ture2DLod('+'areaLights'+'LutTex2,\x20u'+'v,\x200.0).w;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20formFac'+'tor*scale;'+'\x0a}\x0a\x0a//\x20LTC'+'_EvaluateD'+'isk\x20in\x20som'+'e\x20rare\x20cas'+'es\x20generea'+'tes\x20NaN\x20va'+'lues\x20in\x20a\x20'+'or\x20b,\x20just'+'\x20before\x20\x27f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x27\x0a//'+'\x20Get\x20rid\x20o'+'f\x20those\x20Na'+'n\x20values\x20b'+'efore\x20they'+'\x20propagate'+'\x20further,\x20'+'as\x20in\x20case'+'\x20of\x20bloom\x20'+'/\x20DOF\x20blur'+'s\x20they\x0a//\x20'+'propagate\x20'+'to\x20large\x20a'+'reas.\x20I\x20di'+'dn\x27t\x20find\x20'+'the\x20actual'+'\x20reason\x20wh'+'ere\x20those\x20'+'come\x20from,'+'\x20so\x20that\x20i'+'s\x20still\x20TO'+'DO.\x0a//\x20Not'+'e\x20that\x20onl'+'y\x20disk/sph'+'ere\x20lights'+'\x20are\x20causi'+'ng\x20it,\x20so\x20'+'only\x20handl'+'e\x20those.\x0af'+'loat\x20FixNa'+'n(float\x20va'+'lue)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'value\x20!=\x20v'+'alue\x20?\x200.0'+'\x20:\x20value;\x20'+'\x20//\x20isnan\x20'+'does\x20not\x20t'+'ranspile\x20c'+'orrectly,\x20'+'use\x20a\x20work'+'around\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20isnan(va'+'lue)\x20?\x200.0'+'\x20:\x20value;\x0a')+('\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afloat\x20'+'getRectLig'+'htDiffuse('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm)\x20{\x0a\x20\x20'+'\x20\x20return\x20L'+'TC_Evaluat'+'eRect(\x20wor'+'ldNormal,\x20'+'viewDir,\x20v'+'PositionW,'+'\x20mat3(\x201.0'+'\x20),\x20dLTCCo'+'ords\x20);\x0a}\x0a'+'\x0afloat\x20get'+'DiskLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20FixN'+'an(LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mat3('+'\x201.0\x20),\x20dL'+'TCCoords\x20)'+');\x0a}\x0a\x0afloa'+'t\x20getSpher'+'eLightDiff'+'use(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm)\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20float\x20fa'+'lloff\x20=\x20dS'+'phereRadiu'+'s\x20/\x20(dot(l'+'ightDir,\x20l'+'ightDir)\x20+'+'\x20dSphereRa'+'dius);\x0a\x20\x20\x20'+'\x20return\x20Fi'+'xNan(getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNorm)\x20*\x20f'+'alloff);\x0a}'+'\x0a\x0amat3\x20get'+'LTCLightIn'+'vMat(vec2\x20'+'uv)\x0a{\x0a\x20\x20\x20\x20'+'vec4\x20t1\x20=\x20'+'texture2DL'+'od(areaLig'+'htsLutTex1'+',\x20uv,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3(\x20t1.x,\x20'+'0,\x20t1.y\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3(\x20\x20\x20\x200,'+'\x201,\x20\x20\x20\x200\x20)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3(\x20t1.z'+',\x200,\x20t1.w\x20'+')\x0a\x20\x20\x20\x20);\x0a}'+'\x0a\x0afloat\x20ca'+'lcRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir')+(',\x20vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20mat'+'3\x20mInv\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afl'+'oat\x20getRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'calcRectLi'+'ghtSpecula'+'r(worldNor'+'mal,\x20viewD'+'ir,\x20dLTCUV'+');\x0a}\x0a\x0afloa'+'t\x20calcDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20mInv'+'\x20=\x20getLTCL'+'ightInvMat'+'(uv);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'Inv,\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a\x0a'+'float\x20getS'+'phereLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a'),FP='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_metaln'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tMetalness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20metal'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20materi'+'al_metalne'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_METAL'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_METAL'+'NESS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_META'+'LNESS_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_VERTEX\x0a\x20\x20'+'\x20\x20metalnes'+'s\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_METALNES'+'S_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dMet'+'alness\x20=\x20m'+'etalness;\x0a'+'}\x0a',NP='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifndef'+'\x20LIT_MSDF_'+'TEXT_ATTRI'+'BUTE\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20shadow_co'+'lor;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20shadow_o'+'ffset;\x0a#el'+'se\x0a\x20\x20\x20\x20var'+'ying\x20vec4\x20'+'outline_co'+'lor;\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20outline'+'_thickness'+';\x0a\x20\x20\x20\x20vary'+'ing\x20vec4\x20s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'shadow_off'+'set;\x0a#endi'+'f\x0a\x0avec4\x20ap'+'plyMsdf(ve'+'c4\x20color)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Convert\x20to'+'\x20linear\x20sp'+'ace\x20before'+'\x20processin'+'g\x0a\x20\x20\x20\x20//\x20T'+'ODO:\x20ideal'+'ly\x20this\x20wo'+'uld\x20receiv'+'e\x20the\x20colo'+'r\x20in\x20linea'+'r\x20space,\x20b'+'ut\x20that\x20wo'+'uld\x20requir'+'e\x20larger\x20c'+'hanges\x0a\x20\x20\x20'+('\x20//\x20on\x20the'+'\x20engine\x20si'+'de,\x20with\x20t'+'he\x20way\x20pre'+'multiplied'+'\x20alpha\x20is\x20'+'handled\x20as'+'\x20well.\x0a\x20\x20\x20'+'\x20color.rgb'+'\x20=\x20gammaCo'+'rrectInput'+'(color.rgb'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20sample\x20th'+'e\x20field\x0a\x20\x20'+'\x20\x20vec3\x20tsa'+'mple\x20=\x20tex'+'ture2D(tex'+'ture_msdfM'+'ap,\x20vUv0).'+'rgb;\x0a\x20\x20\x20\x20v'+'ec2\x20uvShdw'+'\x20=\x20vUv0\x20-\x20'+'shadow_off'+'set;\x0a\x20\x20\x20\x20v'+'ec3\x20ssampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20uvShdw).r'+'gb;\x0a\x0a\x20\x20\x20\x20/'+'/\x20get\x20the\x20'+'signed\x20dis'+'tance\x20valu'+'e\x0a\x20\x20\x20\x20floa'+'t\x20sigDist\x20'+'=\x20median(t'+'sample.r,\x20'+'tsample.g,'+'\x20tsample.b'+');\x0a\x20\x20\x20\x20flo'+'at\x20sigDist'+'Shdw\x20=\x20med'+'ian(ssampl'+'e.r,\x20ssamp'+'le.g,\x20ssam'+'ple.b);\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20limi'+'t\x20-\x20smalle'+'r\x20value\x20ma'+'kes\x20for\x20sh'+'arper\x20but\x20'+'more\x20alias'+'ed\x20text,\x20e'+'specially\x20'+'on\x20angles\x0a'+'\x20\x20\x20\x20//\x20too'+'\x20large\x20val'+'ue\x20(0.5)\x20c'+'reates\x20a\x20d'+'ark\x20glow\x20a'+'round\x20the\x20'+'letters\x0a\x20\x20'+'\x20\x20float\x20sm'+'oothingMax'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20vec'+'2\x20w\x20=\x20fwid'+'th(vUv0);\x0a'+'\x20\x20\x20\x20float\x20'+'smoothing\x20'+'=\x20clamp(w.'+'x\x20*\x20font_t'+'extureWidt'+'h\x20/\x20font_p'+'xrange,\x200.'+'0,\x20smoothi'+'ngMax);\x0a\x0a\x20'+'\x20\x20\x20float\x20m'+'apMin\x20=\x200.'+'05;\x0a\x20\x20\x20\x20fl'+'oat\x20mapMax'+'\x20=\x20clamp(1'+'.0\x20-\x20font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20float\x20')+('sigDistInn'+'er\x20=\x20map(m'+'apMin,\x20map'+'Max,\x20sigDi'+'st);\x0a\x20\x20\x20\x20f'+'loat\x20sigDi'+'stOutline\x20'+'=\x20map(mapM'+'in,\x20mapMax'+',\x20sigDist\x20'+'+\x20outline_'+'thickness)'+';\x0a\x20\x20\x20\x20sigD'+'istShdw\x20=\x20'+'map(mapMin'+',\x20mapMax,\x20'+'sigDistShd'+'w\x20+\x20outlin'+'e_thicknes'+'s);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20cente'+'r\x20=\x200.5;\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20smoo'+'thing\x20and\x20'+'use\x20to\x20gen'+'erate\x20opac'+'ity\x0a\x20\x20\x20\x20fl'+'oat\x20inside'+'\x20=\x20smooths'+'tep(center'+'-smoothing'+',\x20center+s'+'moothing,\x20'+'sigDistInn'+'er);\x0a\x20\x20\x20\x20f'+'loat\x20outli'+'ne\x20=\x20smoot'+'hstep(cent'+'er-smoothi'+'ng,\x20center'+'+smoothing'+',\x20sigDistO'+'utline);\x0a\x20'+'\x20\x20\x20float\x20s'+'hadow\x20=\x20sm'+'oothstep(c'+'enter-smoo'+'thing,\x20cen'+'ter+smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20vec4\x20t'+'color\x20=\x20(o'+'utline\x20>\x20i'+'nside)\x20?\x20o'+'utline\x20*\x20v'+'ec4(outlin'+'e_color.a\x20'+'*\x20outline_'+'color.rgb,'+'\x20outline_c'+'olor.a)\x20:\x20'+'vec4(0.0);'+'\x0a\x20\x20\x20\x20tcolo'+'r\x20=\x20mix(tc'+'olor,\x20colo'+'r,\x20inside)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20scolor\x20='+'\x20(shadow\x20>'+'\x20outline)\x20'+'?\x20shadow\x20*'+'\x20vec4(shad'+'ow_color.a'+'\x20*\x20shadow_'+'color.rgb,'+'\x20shadow_co'+'lor.a)\x20:\x20t'+'color;\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(scolor'+',\x20tcolor,\x20'+'outline);\x0a'+'\x0a\x20\x20\x20\x20//\x20Co'+'nvert\x20back'+'\x20to\x20gamma\x20'+'space\x20befo'+'re\x20returni'+'ng\x0a\x20\x20\x20\x20tco'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctOutput(t'+'color.rgb)'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20return\x20tc'+'olor;\x0a}\x0a'),kP='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',UP='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20vec2\x20u'+'v0;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2DArra'+'y\x20morphTex'+'ture;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r[{MORPH_T'+'EXTURE_MAX'+'_COUNT}];\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20ui'+'nt\x20morphIn'+'dex[{MORPH'+'_TEXTURE_M'+'AX_COUNT}]'+';\x0a\x20\x20\x20\x20unif'+'orm\x20int\x20co'+'unt;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PH_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20aa'+'bbSize;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20highp\x20vec'+'3\x20color\x20=\x20'+'vec3(0,\x200,'+'\x200);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'pixelCoord'+'s\x20=\x20ivec2('+'uv0\x20*\x20vec2'+'(textureSi'+'ze(morphTe'+'xture,\x200).'+'xy));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20count;\x20'+'i++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20textur'+'eIndex\x20=\x20m'+'orphIndex['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20delta\x20=\x20t'+'exelFetch('+'morphTextu'+'re,\x20ivec3('+'pixelCoord'+'s,\x20int(tex'+'tureIndex)'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20+'+'=\x20morphFac'+'tor[i]\x20*\x20d'+'elta;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20MORPH_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20color\x20'+'=\x20(color\x20-'+'\x20aabbMin)\x20'+'/\x20aabbSize'+'\x20*\x2065535.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20u'+'vec4(color'+',\x201u);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(color,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a',BP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a',zP='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',VP='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',GP='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0a\x0a#ifdef\x20M'+'ORPHING_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20morphNor'+'malTex;\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'morphNorma'+'lTex;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0avec3\x20'+'getLocalNo'+'rmal(vec3\x20'+'vertexNorm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lNormal\x20=\x20'+'vertex_nor'+'mal;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_NORM'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphNormal'+'\x20=\x20vec3(te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz)\x20/'+'\x2065535.0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphNo'+'rmal\x20=\x20tex'+'elFetch(mo'+'rphNormalT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20localNor'+'mal\x20+=\x20mor'+'phNormal;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20localN'+'ormal;\x0a}\x0a\x0a'+'#if\x20define'+'d(SKIN)\x20||'+'\x20defined(B'+'ATCH)\x0a\x20\x20\x20\x20'+'mat3\x20getNo'+'rmalMatrix'+'(mat4\x20mode'+'lMatrix)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mat3'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20ma'+'t3\x20getNorm'+'alMatrix(m'+'at4\x20modelM'+'atrix)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20mat3(m'+'odelMatrix'+'[0].xyz,\x20m'+('odelMatrix'+'[1].xyz,\x20m'+'odelMatrix'+'[2].xyz);\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20mat3'+'\x20getNormal'+'Matrix(mat'+'4\x20modelMat'+'rix)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_n'+'ormal;\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'),HP='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_bumpin'+'ess;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_NORMAL'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20bl'+'endNormals'+'(vec3\x20n1,\x20'+'vec3\x20n2)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20https://'+'blog.selfs'+'hadow.com/'+'publicatio'+'ns/blendin'+'g-in-detai'+'l/#detail-'+'oriented\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20n1\x20'+'+=\x20vec3(0,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20n2\x20*'+'=\x20vec3(-1,'+'\x20-1,\x201);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20getNorm'+'al()\x20{\x0a#if'+'def\x20STD_NO'+'RMAL_TEXTU'+'RE\x0a\x20\x20\x20\x20vec'+'3\x20normalMa'+'p\x20=\x20{STD_N'+'ORMAL_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_NORMAL_TE'+'XTURE_NAME'+'},\x20{STD_NO'+'RMAL_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+');\x0a\x20\x20\x20\x20nor'+'malMap\x20=\x20m'+'ix(vec3(0.'+'0,\x200.0,\x201.'+'0),\x20normal'+'Map,\x20mater'+'ial_bumpin'+'ess);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMALDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20norm'+'alDetailMa'+'p\x20=\x20{STD_N'+'ORMALDETAI'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_NOR'+'MALDETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'NORMALDETA'+'IL_TEXTURE'+'_UV},\x20text'+'ureBias));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20blend'+'Normals(no'+'rmalMap,\x20n'+('ormalDetai'+'lMap);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20normalMap'+');\x0a#else\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20dVerte'+'xNormalW;\x0a'+'#endif\x0a}\x0a'),WP='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_OPACITY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20dAlpha\x20*='+'\x20texture2D'+'Bias({STD_'+'OPACITY_TE'+'XTURE_NAME'+'},\x20{STD_OP'+'ACITY_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20*=\x20c'+'lamp(vVert'+'exColor.{S'+'TD_OPACITY'+'_VERTEX_CH'+'ANNEL},\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',$P='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20vec4\x20b'+'lueNoiseJi'+'tter;\x0a\x0a#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BLUENOI'+'SE\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blueN'+'oiseTex32;'+'\x0a#endif\x0a\x0av'+'oid\x20opacit'+'yDither(fl'+'oat\x20alpha,'+'\x20float\x20id)'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BAYER8\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20bayer8('+'floor(mod('+'gl_FragCoo'+'rd.xy\x20+\x20bl'+'ueNoiseJit'+'ter.xy\x20+\x20i'+'d,\x208.0)))\x20'+'/\x2064.0;\x0a\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20==\x20'+'IGNNOISE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20based\x20'+'on\x20https:/'+'/www.iryok'+'u.com/next'+'-generatio'+'n-post-pro'+'cessing-in'+'-call-of-d'+'uty-advanc'+'ed-warfare'+'/\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'agic\x20=\x20vec'+'3(0.067110'+'56,\x200.0058'+'3715,\x2052.9'+'829189);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20fract'+'(magic.z\x20*'+'\x20fract(dot'+'(gl_FragCo'+'ord.xy\x20+\x20b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id,\x20magic.'+'xy)));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20convert\x20'+'the\x20noise\x20'+'to\x20linear\x20'+'space,\x20as\x20'+'that\x20is\x20sp'+'ecified\x20in'+('\x20sRGB\x20spac'+'e\x20(stores\x20'+'perceptual'+'\x20values)\x0a\x20'+'\x20\x20\x20noise\x20='+'\x20pow(noise'+',\x202.2);\x0a\x0a\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x20noise'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a}'+'\x0a'),XP='\x0a',qP='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20litArgs_'+'opacity;\x0a\x0a'+'#elif\x20LIT_'+'BLEND_TYPE'+'\x20==\x20PREMUL'+'TIPLIED\x0a\x0a\x20'+'\x20\x20\x20gl_Frag'+'Color.rgb\x20'+'*=\x20litArgs'+'_opacity;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.a\x20='+'\x20litArgs_o'+'pacity;\x0a\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x201.0'+';\x0a\x0a#endif\x0a',jP='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',YP='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEEN_'+'TEXTURE\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20{STD'+'_SHEEN_TEX'+'TURE_DECOD'+'E}(texture'+'2DBias({ST'+'D_SHEEN_TE'+'XTURE_NAME'+'},\x20{STD_SH'+'EEN_TEXTUR'+'E_UV},\x20tex'+'tureBias))'+'.{STD_SHEE'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_VERTEX\x0a'+'\x20\x20\x20\x20sheenC'+'olor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sSpec'+'ularity\x20=\x20'+'sheenColor'+';\x0a}\x0a',KP='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20*'+'=\x20texture2'+'DBias({STD'+'_SHEENGLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_SHEENGLO'+'SS_TEXTURE'+'_UV},\x20text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20*='+'\x20saturate('+'vVertexCol'+'or.{STD_SH'+'EENGLOSS_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_INVER'+'T\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x201.0\x20-\x20'+'sheenGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20sGlossi'+'ness\x20=\x20she'+'enGlossine'+'ss\x20+\x200.000'+'0001;\x0a}\x0a',ZP='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_H'+'EIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20he'+'ight\x20=\x20hei'+'ght\x20*\x20para'+'llaxScale\x20'+'-\x20parallax'+'Scale\x20*\x200.'+'5;\x0a\x20\x20\x20\x20vec'+'3\x20viewDirT'+'\x20=\x20dViewDi'+'rW\x20*\x20dTBN;'+'\x0a\x0a\x20\x20\x20\x20view'+'DirT.z\x20+=\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',QP='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20co'+'nst\x20uvec4\x20'+'shifts\x20=\x20u'+'vec4(16,\x208'+',\x200,\x2024);\x0a'+'\x20\x20\x20\x20uvec4\x20'+'col\x20=\x20(uve'+'c4(meshIns'+'tanceId)\x20>'+'>\x20shifts)\x20'+'&\x20uvec4(0x'+'ff);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'(col)\x20*\x20in'+'v;\x0a}\x0a',JP='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',e2='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x0a\x20\x20\x20\x20'+'vec2\x20direc'+'tion\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicT\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3(directi'+'on,\x200.0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cB\x20=\x20norma'+'lize(cross'+'(tbn[2],\x20a'+'nisotropic'+'T));\x0a\x0a\x20\x20\x20\x20'+'float\x20anis'+'otropy\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20vec3'+'\x20anisotrop'+'icDirectio'+'n\x20=\x20anisot'+'ropicB;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicTa'+'ngent\x20=\x20cr'+'oss(anisot'+'ropicDirec'+'tion,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicNorm'+'al\x20=\x20cross'+'(anisotrop'+'icTangent,'+'\x20anisotrop'+'icDirectio'+'n);\x0a\x20\x20\x20\x20fl'+'oat\x20bendFa'+'ctor\x20=\x201.0'+'\x20-\x20anisotr'+'opy\x20*\x20(1.0'+'\x20-\x20roughne'+'ss);\x0a\x20\x20\x20\x20f'+'loat\x20bendF'+'actor4\x20=\x20b'+'endFactor\x20'+'*\x20bendFact'+'or\x20*\x20bendF'+'actor\x20*\x20be'+'ndFactor;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'entNormal\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}\x0a',t2='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',s2='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20{re'+'flectionDe'+'code}(text'+'ureCube(te'+'xture_cube'+'Map,\x20looku'+'pVec));\x0a}\x0a'+'\x0avoid\x20addR'+'eflection('+'vec3\x20reflD'+'ir,\x20float\x20'+'gloss)\x20{\x20\x20'+'\x20\x0a\x20\x20\x20\x20dRef'+'lection\x20+='+'\x20vec4(calc'+'Reflection'+'(reflDir,\x20'+'gloss),\x20ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',i2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_envAtlas;'+'\x0a#endif\x0aun'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'flectivity'+';\x0a\x0avec3\x20ca'+'lcReflecti'+'on(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20cub'+'eMapProjec'+'t(reflDir)'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'Uv(dir);\x0a\x0a'+'\x20\x20\x20\x20//\x20cal'+'culate\x20rou'+'ghness\x20lev'+'el\x0a\x20\x20\x20\x20flo'+'at\x20level\x20='+'\x20saturate('+'1.0\x20-\x20glos'+'s)\x20*\x205.0;\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel\x20=\x20f'+'loor(level'+');\x0a\x20\x20\x20\x20flo'+'at\x20flevel\x20'+'=\x20level\x20-\x20'+'ilevel;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'arp\x20=\x20{ref'+'lectionCub'+'emapDecode'+'}(textureC'+'ube(textur'+'e_cubeMap,'+'\x20dir));\x0a\x20\x20'+'\x20\x20vec3\x20rou'+'ghA\x20=\x20{ref'+'lectionDec'+'ode}(textu'+'re2D(textu'+'re_envAtla'+'s,\x20mapRoug'+'hnessUv(uv'+',\x20ilevel))'+');\x0a\x20\x20\x20\x20vec'+'3\x20roughB\x20='+'\x20{reflecti'+'onDecode}('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',r2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_env'+'Atlas;\x0a#en'+'dif\x0aunifor'+'m\x20float\x20ma'+'terial_ref'+'lectivity;'+'\x0a\x0a//\x20calcu'+'late\x20mip\x20l'+'evel\x20for\x20s'+'hiny\x20refle'+'ction\x20give'+'n\x20equirect'+'\x20coords\x20uv'+'.\x0afloat\x20sh'+'inyMipLeve'+'l(vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20dx\x20=\x20dFd'+'x(uv);\x0a\x20\x20\x20'+'\x20vec2\x20dy\x20='+'\x20dFdy(uv);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20s'+'econd\x20dF\x20a'+'t\x20180\x20degr'+'ees\x0a\x20\x20\x20\x20ve'+'c2\x20uv2\x20=\x20v'+'ec2(fract('+'uv.x\x20+\x200.5'+'),\x20uv.y);\x0a'+'\x20\x20\x20\x20vec2\x20d'+'x2\x20=\x20dFdx('+'uv2);\x0a\x20\x20\x20\x20'+'vec2\x20dy2\x20='+'\x20dFdy(uv2)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'min\x20of\x20bot'+'h\x20sets\x20of\x20'+'dF\x20to\x20hand'+'le\x20discont'+'inuity\x20at\x20'+'the\x20azim\x20e'+'dge\x0a\x20\x20\x20\x20fl'+'oat\x20maxd\x20='+'\x20min(max(d'+'ot(dx,\x20dx)'+',\x20dot(dy,\x20'+'dy)),\x20max('+'dot(dx2,\x20d'+'x2),\x20dot(d'+'y2,\x20dy2)))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'0.5\x20*\x20log2'+'(maxd)\x20-\x201'+'.0\x20+\x20textu'+'reBias,\x200.'+'0,\x205.0);\x0a}'+'\x0a\x0avec3\x20cal'+'cReflectio'+'n(vec3\x20ref'+'lDir,\x20floa'+'t\x20gloss)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3(-1.'+'0,\x201.0,\x201.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20to'+'SphericalU'+'v(dir);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20roug'+'hness\x20leve'+'l\x0a\x20\x20\x20\x20floa'+'t\x20level\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20float\x20i'+'level\x20=\x20fl'+'oor(level)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'accessing\x20'+'the\x20shiny\x20'+'(top\x20level'+')\x20reflecti'+'on\x20-\x20perfo'+'rm\x20manual\x20'+'mipmap\x20loo'+'kup\x0a\x20\x20\x20\x20fl'+('oat\x20level2'+'\x20=\x20shinyMi'+'pLevel(uv\x20'+'*\x20atlasSiz'+'e);\x0a\x20\x20\x20\x20fl'+'oat\x20ilevel'+'2\x20=\x20floor('+'level2);\x0a\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v0,\x20uv1;\x0a\x20'+'\x20\x20\x20float\x20w'+'eight;\x0a\x20\x20\x20'+'\x20if\x20(ileve'+'l\x20==\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20mapS'+'hinyUv(uv,'+'\x20ilevel2);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v1\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x20level2\x20'+'-\x20ilevel2;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20acces'+'sing\x20rough'+'\x20reflectio'+'n\x20-\x20just\x20s'+'ample\x20the\x20'+'same\x20part\x20'+'twice\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'uv1\x20=\x20mapR'+'oughnessUv'+'(uv,\x20ileve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20weight\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'3\x20linearA\x20'+'=\x20{reflect'+'ionDecode}'+'(texture2D'+'(texture_e'+'nvAtlas,\x20u'+'v0));\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'rB\x20=\x20{refl'+'ectionDeco'+'de}(textur'+'e2D(textur'+'e_envAtlas'+',\x20uv1));\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near0\x20=\x20mi'+'x(linearA,'+'\x20linearB,\x20'+'weight);\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near1\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(line'+'ar0,\x20linea'+'r1,\x20level\x20'+'-\x20ilevel))'+';\x0a}\x0a\x0avoid\x20'+'addReflect'+'ion(vec3\x20r'+'eflDir,\x20fl'+'oat\x20gloss)'+'\x20{\x20\x20\x20\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20+=\x20vec4('+'calcReflec'+'tion(reflD'+'ir,\x20gloss)'+',\x20material'+'_reflectiv'+'ity);\x0a}\x0a'),a2='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'uniform\x20sa'+'mpler2D\x20te'+'xture_sphe'+'reMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20reflDir'+'V\x20=\x20(mat3('+'matrix_vie'+'w)\x20*\x20reflD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20m\x20=\x20'+'2.0\x20*\x20sqrt'+'(dot(reflD'+'irV.xy,\x20re'+'flDirV.xy)'+'\x20+\x20(reflDi'+'rV.z\x20+\x201.0'+')\x20*\x20(reflD'+'irV.z\x20+\x201.'+'0));\x0a\x20\x20\x20\x20v'+'ec2\x20sphere'+'MapUv\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(texture2'+'D(texture_'+'sphereMap,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0av'+'oid\x20addRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x20\x20\x20\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20+=\x20v'+'ec4(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20mate'+'rial_refle'+'ctivity);\x0a'+'}\x0a',n2='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',o2='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',l2='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bas'+'ed\x20on\x20the\x20'+'dispersion'+'\x20material\x20'+'property,\x20'+'calculate\x20'+'modified\x20r'+'efraction\x20'+'index\x20valu'+'es\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20for\x20R\x20'+'and\x20B\x20chan'+'nels\x20and\x20e'+'valuate\x20th'+'e\x20refracti'+'on\x20color\x20f'+'or\x20them.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20halfSpr'+'ead\x20=\x20(1.0'+'\x20/\x20refract'+'ionIndex\x20-')+('\x201.0)\x20*\x200.'+'025\x20*\x20disp'+'ersion;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20refract'+'ionIndexR\x20'+'=\x20refracti'+'onIndex\x20-\x20'+'halfSpread'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'refraction'+'Vector\x20=\x20n'+'ormalize(r'+'efract(-vi'+'ewDir,\x20wor'+'ldNormal,\x20'+'refraction'+'IndexR))\x20*'+'\x20scale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'action.r\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'xR).r;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20refracti'+'onIndexB\x20='+'\x20refractio'+'nIndex\x20+\x20h'+'alfSpread;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efractionV'+'ector\x20=\x20no'+'rmalize(re'+'fract(-vie'+'wDir,\x20worl'+'dNormal,\x20r'+'efractionI'+'ndexB))\x20*\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ction.b\x20=\x20'+'evalRefrac'+'tionColor('+'refraction'+'Vector,\x20gl'+'oss,\x20refra'+'ctionIndex'+'B).b;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Trans'+'mittance\x20i'+'s\x20our\x20fina'+'l\x20refracti'+'on\x20color\x0a\x20'+'\x20\x20\x20vec3\x20tr'+'ansmittanc'+'e;\x0a\x20\x20\x20\x20if\x20'+'(material_'+'invAttenua'+'tionDistan'+'ce\x20!=\x200.0)'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'attenuatio'+'n\x20=\x20-log(m'+'aterial_at'+'tenuation)'+'\x20*\x20materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans'+'mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20vec3'+'\x20fresnel\x20='+'\x20vec3(1.0)'+'\x20-\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot(')+('viewDir,\x20w'+'orldNormal'+'),\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20ref'+'raction\x20*\x20'+'transmitta'+'nce\x20*\x20fres'+'nel,\x20trans'+'mission);\x0a'+'}\x0a'),c2='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0a//\x20sourc'+'e\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20so'+'urceCube;\x0a'+'#else\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20so'+'urceTex;\x0a#'+'endif\x0a\x0a#if'+'def\x20USE_SA'+'MPLES_TEX\x0a'+'\x20\x20\x20\x20//\x20sam'+'ples\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20sam'+'plesTex;\x0a\x20'+'\x20\x20\x20uniform'+'\x20vec2\x20samp'+'lesTexInve'+'rseSize;\x0a#'+'endif\x0a\x0a//\x20'+'params:\x0a//'+'\x20x\x20-\x20targe'+'t\x20cubemap\x20'+'face\x200..6\x0a'+'//\x20y\x20-\x20tar'+'get\x20image\x20'+'total\x20pixe'+'ls\x0a//\x20z\x20-\x20'+'source\x20cub'+'emap\x20size\x0a'+'uniform\x20ve'+'c3\x20params;'+'\x0a\x0afloat\x20ta'+'rgetFace()'+'\x20{\x20return\x20'+'params.x;\x20'+'}\x0afloat\x20ta'+'rgetTotalP'+'ixels()\x20{\x20'+'return\x20par'+'ams.y;\x20}\x0af'+'loat\x20sourc'+'eTotalPixe'+'ls()\x20{\x20ret'+'urn\x20params'+'.z;\x20}\x0a\x0aflo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0a#i'+'nclude\x20\x22de'+'codePS\x22\x0a#i'+'nclude\x20\x22en'+'codePS\x22\x0a\x0a/'+'/--\x20suppor'+'ted\x20projec'+'tions\x0a\x0avec'+'3\x20modifySe'+'ams(vec3\x20d'+'ir,\x20float\x20'+'scale)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20ad'+'ir\x20=\x20abs(d'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20M\x20=\x20m'+'ax(max(adi'+'r.x,\x20adir.'+'y),\x20adir.z'+');\x0a\x20\x20\x20\x20ret'+'urn\x20dir\x20/\x20'+'M\x20*\x20vec3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.x\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20adir.y\x20'+'==\x20M\x20?\x201.0'+'\x20:\x20scale,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.z\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+('\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec3\x20f'+'romSpheric'+'al(vec2\x20uv'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec3('+'cos(uv.y)\x20'+'*\x20sin(uv.x'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'in(uv.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cos('+'uv.y)\x20*\x20co'+'s(uv.x));\x0a'+'}\x0a\x0avec3\x20ge'+'tDirection'+'Equirect()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20fromSp'+'herical((v'+'ec2(vUv0.x'+',\x201.0\x20-\x20vU'+'v0.y)\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20vec2(PI,\x20'+'PI\x20*\x200.5))'+';\x0a}\x0a\x0a//\x20oc'+'tahedral\x20c'+'ode,\x20based'+'\x20on\x20https:'+'//jcgt.org'+'/published'+'/0003/02/0'+'1/\x0a//\x20\x22Sur'+'vey\x20of\x20Eff'+'icient\x20Rep'+'resentatio'+'ns\x20for\x20Ind'+'ependent\x20U'+'nit\x20Vector'+'s\x22\x20by\x20Cigo'+'lle,\x20Donow'+',\x20Evangela'+'kos,\x20Mara,'+'\x20McGuire,\x20'+'Meyer\x0a\x0aflo'+'at\x20signNot'+'Zero(float'+'\x20k){\x0a\x20\x20\x20\x20r'+'eturn(k\x20>='+'\x200.0)\x20?\x201.'+'0\x20:\x20-1.0;\x0a'+'}\x0a\x0avec2\x20si'+'gnNotZero('+'vec2\x20v)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec2(sign'+'NotZero(v.'+'x),\x20signNo'+'tZero(v.y)'+');\x0a}\x0a\x0a//\x20R'+'eturns\x20a\x20u'+'nit\x20vector'+'.\x20Argument'+'\x20o\x20is\x20an\x20o'+'ctahedral\x20'+'vector\x20pac'+'ked\x20via\x20oc'+'tEncode,\x20o'+'n\x20the\x20[-1,'+'\x20+1]\x20squar'+'e\x0avec3\x20oct'+'Decode(vec'+'2\x20o)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20v\x20=\x20'+'vec3(o.x,\x20'+'1.0\x20-\x20abs('+'o.x)\x20-\x20abs'+'(o.y),\x20o.y'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20v.xz\x20=\x20('+'1.0\x20-\x20abs('+'v.zx))\x20*\x20s'+'ignNotZero'+'(v.xz);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lize(v);\x0a}'+'\x0a\x0avec3\x20get'+'DirectionO'+'ctahedral('+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20octDe'+'code(vec2(')+('vUv0.x,\x201.'+'0\x20-\x20vUv0.y'+')\x20*\x202.0\x20-\x20'+'1.0);\x0a}\x0a\x0a/'+'/\x20Assumes\x20'+'that\x20v\x20is\x20'+'a\x20unit\x20vec'+'tor.\x20The\x20r'+'esult\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'on\x20the\x20[-1'+',\x20+1]\x20squa'+'re\x0avec2\x20oc'+'tEncode(in'+'\x20vec3\x20v)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20vec2'+'\x20result\x20=\x20'+'v.xz\x20*\x20(1.'+'0\x20/\x20l1norm'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20result\x20='+'\x20(1.0\x20-\x20ab'+'s(result.y'+'x))\x20*\x20sign'+'NotZero(re'+'sult.xy);\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20res'+'ult;\x0a}\x0a\x0a//'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'///////\x0a\x0a#'+'ifdef\x20CUBE'+'MAP_SOURCE'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleCube'+'map(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureCu'+'be(sourceC'+'ube,\x20modif'+'ySeams(dir'+',\x201.0));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eCubemap(v'+'ec2\x20sph)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leCubemap('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleCubemap'+'(vec3\x20dir,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCubeLod(s'+'ourceCube,'+'\x20modifySea'+'ms(dir,\x201.'+'0),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleCub'+'emap(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleCubema'+'p(fromSphe'+'rical(sph)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eEquirect('+'vec2\x20sph)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'sph\x20/\x20vec2'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleEqu'+'irect(toSp'+'herical(di'+'r));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleEqu'+'irect(vec2'+'\x20sph,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20sph\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2DLo'+'d(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20sampleEq'+'uirect(toS'+'pherical(d'+'ir),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20o'+'ctEncode(d'+'ir)\x20*\x200.5\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Octahedral'+'(vec2\x20sph)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20octEn'+'code(dir)\x20'+'*\x200.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20te'+'xture2DLod'+'(sourceTex'+',\x20vec2(uv.'+'x,\x201.0\x20-\x20u'+'v.y),\x20mipL'+'evel);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20sampleO'+'ctahedral('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph),\x20')+('mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0avec3'+'\x20getDirect'+'ionCubemap'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20st\x20=\x20v'+'Uv0\x20*\x202.0\x20'+'-\x201.0;\x0a\x20\x20\x20'+'\x20float\x20fac'+'e\x20=\x20target'+'Face();\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ve'+'c;\x0a\x20\x20\x20\x20if\x20'+'(face\x20==\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(1,\x20-s'+'t.y,\x20-st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3(-1,\x20-st.'+'y,\x20st.x);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x202.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x201,\x20st'+'.y);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x203.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'-1,\x20-st.y)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(fac'+'e\x20==\x204.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec\x20=\x20vec3'+'(st.x,\x20-st'+'.y,\x201);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'-st.x,\x20-st'+'.y,\x20-1);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(mod'+'ifySeams(v'+'ec,\x201.0));'+'\x0a}\x0a\x0amat3\x20m'+'atrixFromV'+'ector(vec3'+'\x20n)\x20{\x20//\x20f'+'risvad\x0a\x20\x20\x20'+'\x20float\x20a\x20='+'\x201.0\x20/\x20(1.'+'0\x20+\x20n.z);\x0a'+'\x20\x20\x20\x20float\x20'+'b\x20=\x20-n.x\x20*'+'\x20n.y\x20*\x20a;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'1\x20=\x20vec3(1'+'.0\x20-\x20n.x\x20*'+'\x20n.x\x20*\x20a,\x20'+'b,\x20-n.x);\x0a'+'\x20\x20\x20\x20vec3\x20b'+'2\x20=\x20vec3(b'+',\x201.0\x20-\x20n.'+'y\x20*\x20n.y\x20*\x20'+'a,\x20-n.y);\x0a'+'\x20\x20\x20\x20return'+'\x20mat3(b1,\x20'+'b2,\x20n);\x0a}\x0a'+'\x0amat3\x20matr'+'ixFromVect'+'orSlow(vec'+'3\x20n)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20up\x20='+'\x20(1.0\x20-\x20ab'+'s(n.y)\x20<=\x20'+'0.0000001)'+'\x20?\x20vec3(0.'+'0,\x200.0,\x20n.'+'y\x20>\x200.0\x20?\x20'+'1.0\x20:\x20-1.0'+')\x20:\x20vec3(0'+'.0,\x201.0,\x200'+'.0);\x0a\x20\x20\x20\x20v'+'ec3\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20vec'+'3\x20y\x20=\x20cros')+('s(n,\x20x);\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(x,\x20y,'+'\x20n);\x0a}\x0a\x0ave'+'c4\x20reproje'+'ct()\x20{\x0a\x20\x20\x20'+'\x20if\x20({NUM_'+'SAMPLES}\x20<'+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20si'+'ngle\x20sampl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20{EN'+'CODE_FUNC}'+'({DECODE_F'+'UNC}({SOUR'+'CE_FUNC}({'+'TARGET_FUN'+'C}())));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multi\x20s'+'ample\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20t'+'\x20=\x20{TARGET'+'_FUNC}();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tu\x20=\x20dF'+'dx(t);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'tv\x20=\x20dFdy('+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(float\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'++u)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'v\x20=\x200.0;\x20v'+'\x20<\x20{NUM_SA'+'MPLES_SQRT'+'};\x20++v)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20{DEC'+'ODE_FUNC}('+'{SOURCE_FU'+'NC}(normal'+'ize(t\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20tu'+'\x20*\x20(u\x20/\x20{N'+'UM_SAMPLES'+'_SQRT}\x20-\x200'+'.5)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20tv\x20*'+'\x20(v\x20/\x20{NUM'+'_SAMPLES_S'+'QRT}\x20-\x200.5'+'))));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20({'+'NUM_SAMPLE'+'S_SQRT}\x20*\x20'+'{NUM_SAMPL'+'ES_SQRT}))'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0avec4\x20unpa'+'ckFloat\x20=\x20'+'vec4(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20void\x20'+'unpackSamp'+'le(int\x20i,\x20'+'out\x20vec3\x20L'+',\x20out\x20floa')+('t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x20(float(i'+'\x20*\x204)\x20+\x200.'+'5)\x20*\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x20(f'+'loor(u)\x20+\x20'+'0.5)\x20*\x20sam'+'plesTexInv'+'erseSize.y'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20raw;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.x\x20=\x20dot'+'(texture2D'+'(samplesTe'+'x,\x20vec2(u,'+'\x20v)),\x20unpa'+'ckFloat);\x20'+'u\x20+=\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'texture2D('+'samplesTex'+',\x20vec2(u,\x20'+'v)),\x20unpac'+'kFloat);\x20u'+'\x20+=\x20sample'+'sTexInvers'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.z\x20=\x20dot(t'+'exture2D(s'+'amplesTex,'+'\x20vec2(u,\x20v'+')),\x20unpack'+'Float);\x20u\x20'+'+=\x20samples'+'TexInverse'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20raw.'+'w\x20=\x20dot(te'+'xture2D(sa'+'mplesTex,\x20'+'vec2(u,\x20v)'+'),\x20unpackF'+'loat);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20L.xy'+'z\x20=\x20raw.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mipLeve'+'l\x20=\x20raw.w\x20'+'*\x208.0;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20convolve\x20'+'an\x20environ'+'ment\x20given'+'\x20pre-gener'+'ated\x20sampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamples()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L')+(',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level))\x20*\x20'+'L.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tot'+'alWeight\x20+'+'=\x20L.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20{ENCODE'+'_FUNC}(res'+'ult\x20/\x20tota'+'lWeight);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20unweig'+'hted\x20versi'+'on\x20of\x20pref'+'ilterSampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamplesUn'+'weighted()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20fl'+'oat({NUM_S'+'AMPLES}));'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20{PROCESS'+'_FUNC}();\x0a'+'}\x0a'),h2='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0auniform'+'\x20vec4\x20uvMo'+'d;\x0avarying'+'\x20vec2\x20vUv0'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(vertex_po'+'sition.xy\x20'+'*\x200.5\x20+\x200.'+'5)\x20*\x20uvMod'+'.xy\x20+\x20uvMo'+'d.zw);\x0a}\x0a',d2='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SCREENS'+'IZE\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#ifndef'+'\x20CAMERAPLA'+'NES\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20camera'+'_params;\x20/'+'/\x20x:\x201\x20/\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20\x20y:\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20z:\x20ca'+'mera_near,'+'\x20\x20\x20\x20\x20\x20\x20\x20w:'+'\x20is_ortho\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20lineariz'+'eDepth(flo'+'at\x20z)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'camera_par'+'ams.w\x20==\x200'+'.0)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(camera'+'_params.z\x20'+'*\x20camera_p'+'arams.y)\x20/'+'\x20(camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(camer'+'a_params.z'+'\x20-\x20camera_'+'params.y))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20camera'+'_params.z\x20'+'+\x20z\x20*\x20(cam'+'era_params'+'.y\x20-\x20camer'+'a_params.z'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0aflo'+'at\x20delinea'+'rizeDepth('+'float\x20line'+'arDepth)\x20{'+'\x0a\x20\x20\x20\x20if\x20(c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'(camera_pa'+'rams.y\x20*\x20('+'camera_par'+'ams.z\x20-\x20li'+'nearDepth)'+')\x20/\x20(linea'+'rDepth\x20*\x20('+'camera_par'+'ams.z\x20-\x20ca'+'mera_param'+'s.y));\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(line'+'arDepth\x20-\x20'+'camera_par'+'ams.z)\x20/\x20('+('camera_par'+'ams.y\x20-\x20ca'+'mera_param'+'s.z);\x0a\x20\x20\x20\x20'+'}\x0a}\x0a\x0a//\x20Re'+'trieves\x20re'+'ndered\x20lin'+'ear\x20camera'+'\x20depth\x20by\x20'+'UV\x0afloat\x20g'+'etLinearSc'+'reenDepth('+'vec2\x20uv)\x20{'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SCENE_DE'+'PTHMAP_LIN'+'EAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_FLOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2D(u'+'SceneDepth'+'Map,\x20uv).r'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20textu'+'reSize\x20=\x20t'+'extureSize'+'(uSceneDep'+'thMap,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20t'+'exel\x20=\x20ive'+'c2(uv\x20*\x20ve'+'c2(texture'+'Size));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20data\x20'+'=\x20texelFet'+'ch(uSceneD'+'epthMap,\x20t'+'exel,\x200);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(data.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(uint(d'+'ata.g\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20|\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.b\x20*\x20255.'+'0)\x20<<\x208u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(data.a\x20'+'*\x20255.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uintBitsTo'+'Float(intB'+'its);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20line'+'arizeDepth'+'(texture2D'+'(uSceneDep'+'thMap,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20float\x20'+'getLinearS'+'creenDepth'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20uv'+'\x20=\x20gl_Frag'+'Coord.xy\x20*'+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afloat\x20'+'getLinearD'+'epth(vec3\x20'+'pos)\x20{\x0a\x20\x20\x20'+'\x20return\x20-('+'matrix_vie'+'w\x20*\x20vec4(p'+'os,\x201.0)).'+'z;\x0a}\x0a'),f2='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avec3\x20'+'fadeShadow'+'(vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'CascadeDis'+'tances)\x20{\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20if\x20th'+'e\x20pixel\x20is'+'\x20past\x20the\x20'+'shadow\x20dis'+'tance,\x20rem'+'ove\x20shadow'+'\x0a\x20\x20\x20\x20//\x20th'+'is\x20enforce'+'s\x20straight'+'\x20line\x20inst'+'ead\x20of\x20cor'+'ner\x20of\x20sha'+'dow\x20which\x20'+'moves\x20when'+'\x20camera\x20ro'+'tates\x20\x20\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x20\x20'+'\x20\x20if\x20(dept'+'h\x20>\x20shadow'+'CascadeDis'+'tances.w)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'shadowCoor'+'d.z\x20=\x20-999'+'9999.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20shad'+'owCoord;\x0a}'+'\x0a'),u2='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+('\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a\x0a//\x20'+'------\x20VSM'+'\x2016\x20------'+'\x0a\x0afloat\x20VS'+'M16(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec2\x20'+'texCoords,'+'\x20float\x20res'+'olution,\x20f'+'loat\x20Z,\x20fl'+'oat\x20vsmBia'+'s,\x20float\x20e'+'xponent)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'moments\x20=\x20'+'texture2DL'+'od(tex,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM16('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM16(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM16(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20VSM16('+'TEXTURE_PA'+'SS(shadowM'+'ap),\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----')+('--\x0a\x0afloat\x20'+'VSM32(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20texCoord'+'s,\x20float\x20r'+'esolution,'+'\x20float\x20Z,\x20'+'float\x20vsmB'+'ias,\x20float'+'\x20exponent)'+'\x20{\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20CAPS_'+'TEXTURE_FL'+'OAT_FILTER'+'ABLE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2DLod'+'(tex,\x20texC'+'oords,\x200.0'+').xyz;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ma'+'nual\x20bilin'+'ear\x20filter'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pi'+'xelSize\x20=\x20'+'1.0\x20/\x20reso'+'lution;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20texC'+'oords\x20-=\x20v'+'ec2(pixelS'+'ize);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'00\x20=\x20textu'+'re2DLod(te'+'x,\x20texCoor'+'ds,\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20s10'+'\x20=\x20texture'+'2DLod(tex,'+'\x20texCoords'+'\x20+\x20vec2(pi'+'xelSize,\x200'+'),\x200.0).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20s01\x20'+'=\x20texture2'+'DLod(tex,\x20'+'texCoords\x20'+'+\x20vec2(0,\x20'+'pixelSize)'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20s11\x20='+'\x20texture2D'+'Lod(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20fr\x20=\x20frac'+'t(texCoord'+'s\x20*\x20resolu'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'h0\x20=\x20mix(s'+'00,\x20s10,\x20f'+'r.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20h'+'1\x20=\x20mix(s0'+'1,\x20s11,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20mi'+'x(h0,\x20h1,\x20'+'fr.y);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM32('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM32(T')+('EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM32(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20Z\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd.xy,\x20sha'+'dowParams.'+'x,\x20Z,\x20shad'+'owParams.y'+',\x20exponent'+');\x0a}\x0a'),p2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20textur'+'eShadow(sh'+'adowMap,\x20s'+'hadowCoord'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wSpotPCF1x'+'1(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSh'+'adow(shado'+'wMap,\x20shad'+'owCoord);\x0a'+'}\x0a\x0a//\x20----'+'-\x20Omni\x20Sam'+'pling\x20----'+'-\x0a\x0a#ifndef'+'\x20WEBGPU\x0a\x0af'+'loat\x20getSh'+'adowOmniPC'+'F1x1(sampl'+'erCubeShad'+'ow\x20shadowM'+'ap,\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20return'+'\x20texture(s'+'hadowMap,\x20'+'vec4(light'+'Dir,\x20shado'+'wZ));\x0a}\x0a\x0a#'+'endif\x0a',m2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x20\x0a\x20\x20'+'\x20\x20base_uv\x20'+'-=\x20vec2(0.'+'5);\x0a\x20\x20\x20\x20ba'+'se_uv\x20*=\x20s'+'hadowMapSi'+'zeInv;\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'uw0\x20=\x20(3.0'+'\x20-\x202.0\x20*\x20s'+');\x0a\x20\x20\x20\x20flo'+'at\x20uw1\x20=\x20('+'1.0\x20+\x202.0\x20'+'*\x20s);\x0a\x0a\x20\x20\x20'+'\x20float\x20u0\x20'+'=\x20(2.0\x20-\x20s'+')\x20/\x20uw0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20f'+'loat\x20u1\x20=\x20'+'s\x20/\x20uw1\x20+\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(3.0\x20-\x202'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20t)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20v0\x20=\x20(2'+'.0\x20-\x20t)\x20/\x20'+'vw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20v1\x20=\x20t\x20/\x20'+'vw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20u0\x20='+'\x20u0\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v0\x20=\x20v0\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u1\x20=\x20'+'u1\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'1\x20=\x20v1\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+('sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw0\x20*\x20v'+'w1\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u0,\x20v'+'1,\x20z));\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w1\x20*\x20vw1\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u1,\x20v1,\x20z'+'));\x0a\x0a\x20\x20\x20\x20s'+'um\x20*=\x201.0f'+'\x20/\x2016.0;\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF3x3('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'3x3(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0a//\x20-----'+'\x20Omni\x20Samp'+'ling\x20-----'+'\x0a\x0a#ifndef\x20'+'WEBGPU\x0a\x0afl'+'oat\x20getSha'+'dowOmniPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict')+('\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wOmniPCF3x'+'3(samplerC'+'ubeShadow\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowOmniP'+'CF3x3(shad'+'owMap,\x20sha'+'dowParams,'+'\x20lightDir)'+';\x0a}\x0a\x0a#endi'+'f\x0a'),_2='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20saturate'+'(sum);\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF5x5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F5x5(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado')+('wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF5'+'x5(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'),g2='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epthWithPa'+'rams(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20const\x20f'+'loat\x20PI\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa')+('dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam'+'pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec')+('4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow'+'Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowOm'+'niPCSS(sam'+'plerCube\x20s'+'hadowMap,\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'4\x20cameraPa'+'rams,\x20vec2'+'\x20shadowSea'+'rchArea,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SCube(shad'+'owMap,\x20sha'+'dowParams,'+'\x20shadowCoo'+'rd,\x20camera'+'Params,\x20sh'+'adowSearch'+'Area.x,\x20li'+'ghtDir);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'float\x20getS'+'hadowSpotP'+'CSS(TEXTUR'+'E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SS(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20cameraPar'+'ams,\x20shado'+'wSearchAre'+'a);\x0a}\x0a\x0a'),S2='\x0a\x0ahighp\x20fl'+'oat\x20fractS'+'inRand(con'+'st\x20in\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x20\x20\x20'+'\x20const\x20hig'+'hp\x20float\x20a'+'\x20=\x2012.9898'+',\x20b\x20=\x2078.2'+'33,\x20c\x20=\x2043'+'758.5453;\x0a'+'\x20\x20\x20\x20highp\x20'+'float\x20dt\x20='+'\x20dot(uv.xy'+',\x20vec2(a,\x20'+'b)),\x20sn\x20=\x20'+'mod(dt,\x20PI'+');\x0a\x20\x20\x20\x20ret'+'urn\x20fract('+'sin(sn)\x20*\x20'+'c);\x0a}\x0a\x0a//\x20'+'struct\x20to\x20'+'hold\x20preco'+'mputed\x20con'+'stants\x20and'+'\x20current\x20s'+'tate\x0astruc'+'t\x20VogelDis'+'kData\x20{\x0a\x20\x20'+'\x20\x20float\x20in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20initial'+'Angle;\x0a\x20\x20\x20'+'\x20float\x20cur'+'rentPointI'+'d;\x0a};\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'void\x20prepa'+'reDiskCons'+'tants(out\x20'+'VogelDiskD'+'ata\x20data,\x20'+'int\x20sample'+'Count,\x20flo'+'at\x20randomS'+'eed)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20pi2\x20=\x206'+'.283185307'+'18;\x0a\x20\x20\x20\x20da'+'ta.invNumS'+'amples\x20=\x201'+'.0\x20/\x20float'+'(sampleCou'+'nt);\x0a\x20\x20\x20\x20d'+'ata.initia'+'lAngle\x20=\x20r'+'andomSeed\x20'+'*\x20pi2;\x0a\x20\x20\x20'+'\x20data.curr'+'entPointId'+'\x20=\x200.0;\x0a}\x0a'+'\x0a\x0avec2\x20gen'+'erateDiskS'+'ample(inou'+'t\x20VogelDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'GOLDEN_ANG'+'LE\x20=\x202.399'+'963;\x0a\x20\x20\x20\x20f'+'loat\x20r\x20=\x20s'+'qrt((data.'+'currentPoi'+'ntId\x20+\x200.5'+')\x20*\x20data.i'+'nvNumSampl'+'es);\x0a\x20\x20\x20\x20f'+'loat\x20theta'+'\x20=\x20data.cu'+'rrentPoint'+'Id\x20*\x20GOLDE'+'N_ANGLE\x20+\x20'+'data.initi'+'alAngle;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20o'+'ffset\x20=\x20ve'+('c2(cos(the'+'ta),\x20sin(t'+'heta))\x20*\x20p'+'ow(r,\x201.33'+');\x0a\x0a\x20\x20\x20\x20da'+'ta.current'+'PointId\x20+='+'\x201.0;\x0a\x20\x20\x20\x20'+'return\x20off'+'set;\x0a}\x0a\x0avo'+'id\x20PCSSFin'+'dBlocker(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20out\x20'+'float\x20avgB'+'lockerDept'+'h,\x20out\x20int'+'\x20numBlocke'+'rs,\x0a\x20\x20\x20\x20ve'+'c2\x20shadowC'+'oords,\x20flo'+'at\x20z,\x20int\x20'+'shadowBloc'+'kerSamples'+',\x20float\x20pe'+'numbraSize'+',\x20float\x20in'+'vShadowMap'+'Size,\x20floa'+'t\x20randomSe'+'ed)\x20{\x0a\x0a\x20\x20\x20'+'\x20VogelDisk'+'Data\x20diskD'+'ata;\x0a\x20\x20\x20\x20p'+'repareDisk'+'Constants('+'diskData,\x20'+'shadowBloc'+'kerSamples'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'float\x20sear'+'chWidth\x20=\x20'+'penumbraSi'+'ze\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x20\x20\x20\x20flo'+'at\x20blocker'+'Sum\x20=\x200.0;'+'\x0a\x20\x20\x20\x20numBl'+'ockers\x20=\x200'+';\x0a\x0a\x20\x20\x20\x20for'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowBlocker'+'Samples;\x20+'+'+i\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'diskUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20sampleUV'+'\x20=\x20shadowC'+'oords\x20+\x20di'+'skUV\x20*\x20sea'+'rchWidth;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'MapDepth\x20='+'\x20texture2D'+'Lod(shadow'+'Map,\x20sampl'+'eUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(\x20shad'+'owMapDepth'+'\x20<\x20z\x20)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20blockerSu'+'m\x20+=\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers++;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20av'+'gBlockerDe'+'pth\x20=\x20bloc'+'kerSum\x20/\x20f'+'loat(numBl'+'ockers);\x0a}'+'\x0a\x0afloat\x20PC'+'SSFilter(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20uv,\x20float')+('\x20receiverD'+'epth,\x20int\x20'+'shadowSamp'+'les,\x20float'+'\x20filterRad'+'ius,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'VogelDiskD'+'ata\x20diskDa'+'ta;\x0a\x20\x20\x20\x20pr'+'epareDiskC'+'onstants(d'+'iskData,\x20s'+'hadowSampl'+'es,\x20random'+'Seed);\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20shadowS'+'amples;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20of'+'fsetUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x20text'+'ure2DLod(s'+'hadowMap,\x20'+'uv\x20+\x20offse'+'tUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sum\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20retu'+'rn\x20sum\x20/\x20f'+'loat(shado'+'wSamples);'+'\x0a}\x0a\x0afloat\x20'+'getPenumbr'+'a(float\x20db'+'locker,\x20fl'+'oat\x20drecei'+'ver,\x20float'+'\x20penumbraS'+'ize,\x20float'+'\x20penumbraF'+'alloff)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'dist\x20=\x20dre'+'ceiver\x20-\x20d'+'blocker;\x0a\x20'+'\x20\x20\x20float\x20p'+'enumbra\x20=\x20'+'1.0\x20-\x20pow('+'1.0\x20-\x20dist'+',\x20penumbra'+'Falloff);\x0a'+'\x20\x20\x20\x20return'+'\x20penumbra\x20'+'*\x20penumbra'+'Size;\x0a}\x0a\x0af'+'loat\x20PCSSD'+'irectional'+'(TEXTURE_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20vec4'+'\x20softShado'+'wParams)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20receiver'+'Depth\x20=\x20sh'+'adowCoords'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20random'+'Seed\x20=\x20fra'+'ctSinRand('+'gl_FragCoo'+'rd.xy);\x0a\x20\x20'+'\x20\x20int\x20shad'+'owSamples\x20'+'=\x20int(soft'+'ShadowPara'+'ms.x);\x0a\x20\x20\x20'+'\x20int\x20shado'+'wBlockerSa'+'mples\x20=\x20in'+'t(softShad')+('owParams.y'+');\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'aSize\x20=\x20so'+'ftShadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20float\x20pe'+'numbraFall'+'off\x20=\x20soft'+'ShadowPara'+'ms.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20normal'+'ized\x20inver'+'se\x20shadow\x20'+'map\x20size\x20t'+'o\x20preserve'+'\x20the\x20shado'+'w\x20softness'+'\x20regardles'+'s\x20of\x20the\x20s'+'hadow\x20reso'+'lution\x0a\x20\x20\x20'+'\x20int\x20shado'+'wMapSize\x20='+'\x20textureSi'+'ze(shadowM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20float\x20'+'invShadowM'+'apSize\x20=\x201'+'.0\x20/\x20float'+'(shadowMap'+'Size);\x0a\x20\x20\x20'+'\x20invShadow'+'MapSize\x20*='+'\x20float(sha'+'dowMapSize'+')\x20/\x202048.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'a;\x0a\x0a\x20\x20\x20\x20//'+'\x20contact\x20h'+'ardening\x20p'+'ath\x0a\x20\x20\x20\x20if'+'\x20(shadowBl'+'ockerSampl'+'es\x20>\x200)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20find\x20ave'+'rage\x20block'+'er\x20depth\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20avgBloc'+'kerDepth\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20nu'+'mBlockers\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20avgBlo'+'ckerDepth,'+'\x20numBlocke'+'rs,\x20shadow'+'Coords.xy,'+'\x20receiverD'+'epth,\x20shad'+'owBlockerS'+'amples,\x20pe'+'numbraSize'+',\x20invShado'+'wMapSize,\x20'+'randomSeed'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20out\x20when\x20'+'no\x20blocker'+'s\x20are\x20pres'+'ent\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(numB'+'lockers\x20<\x20'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x201.0f;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'penumbra\x20s'+'ize\x20is\x20bas'+'ed\x20on\x20the\x20'+'blocker\x20de'+'pth\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20penumbra'+'\x20=\x20getPenu'+'mbra(avgBl'+'ockerDepth'+',\x20shadowCo'+'ords.z,\x20pe'+'numbraSize'+',\x20penumbra')+('Falloff);\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'tant\x20filte'+'r\x20size,\x20no'+'\x20contact\x20h'+'ardening\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pen'+'umbra\x20=\x20pe'+'numbraSize'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ilterRadiu'+'s\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoords'+'.xy,\x20recei'+'verDepth,\x20'+'shadowSamp'+'les,\x20filte'+'rRadius,\x20r'+'andomSeed)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSSDirecti'+'onal(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20cameraP'+'arams,\x20sof'+'tShadowPar'+'ams);\x0a}\x0a\x0a'),y2='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0a\x0a'+'mat4\x20getBo'+'neMatrix(c'+'onst\x20in\x20fl'+'oat\x20indexF'+'loat)\x20{\x0a\x0a\x20'+'\x20\x20\x20int\x20wid'+'th\x20=\x20textu'+'reSize(tex'+'ture_poseM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20int\x20in'+'dex\x20=\x20int('+'indexFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x20\x20\x20\x20int'+'\x20iy\x20=\x20inde'+'x\x20/\x20width;'+'\x0a\x20\x20\x20\x20int\x20i'+'x\x20=\x20index\x20'+'%\x20width;\x0a\x0a'+'\x20\x20\x20\x20//\x20rea'+'d\x20elements'+'\x20of\x204x3\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20v1\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x200,'+'\x20iy),\x200);\x0a'+'\x20\x20\x20\x20vec4\x20v'+'2\x20=\x20texelF'+'etch(textu'+'re_poseMap'+',\x20ivec2(ix'+'\x20+\x201,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20v'+'ec4\x20v3\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x202,'+'\x20iy),\x200);\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',v2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0a\x0avoid\x20'+'getBoneMat'+'rix(const\x20'+'in\x20int\x20wid'+'th,\x20const\x20'+'in\x20int\x20ind'+'ex,\x20out\x20ve'+'c4\x20v1,\x20out'+'\x20vec4\x20v2,\x20'+'out\x20vec4\x20v'+'3)\x20{\x0a\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20in'+'dex\x20/\x20widt'+'h;\x0a\x20\x20\x20\x20int'+'\x20u\x20=\x20index'+'\x20%\x20width;\x0a'+'\x0a\x20\x20\x20\x20v1\x20=\x20'+'texelFetch'+'(texture_p'+'oseMap,\x20iv'+'ec2(u\x20+\x200,'+'\x20v),\x200);\x0a\x20'+'\x20\x20\x20v2\x20=\x20te'+'xelFetch(t'+'exture_pos'+'eMap,\x20ivec'+'2(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20v3\x20=\x20texe'+'lFetch(tex'+'ture_poseM'+'ap,\x20ivec2('+'u\x20+\x202,\x20v),'+'\x200);\x0a}\x0a\x0ama'+'t4\x20getSkin'+'Matrix(con'+'st\x20in\x20vec4'+'\x20indicesFl'+'oat,\x20const'+'\x20in\x20vec4\x20w'+'eights)\x20{\x0a'+'\x0a\x20\x20\x20\x20int\x20w'+'idth\x20=\x20tex'+'tureSize(t'+'exture_pos'+'eMap,\x200).x'+';\x0a\x20\x20\x20\x20ivec'+'4\x20indices\x20'+'=\x20ivec4(in'+'dicesFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20get\x204\x20bon'+'e\x20matrices'+'\x0a\x20\x20\x20\x20vec4\x20'+'a1,\x20a2,\x20a3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.x,\x20a1'+',\x20a2,\x20a3);'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20b1,\x20b2,\x20b'+'3;\x0a\x20\x20\x20\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y,\x20b'+'1,\x20b2,\x20b3)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20c1,\x20c2,\x20'+'c3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.z,\x20'+'c1,\x20c2,\x20c3'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20d1,\x20d2,'+'\x20d3;\x0a\x20\x20\x20\x20g'+'etBoneMatr'+'ix(width,\x20'+'indices.w,'+'\x20d1,\x20d2,\x20d'+'3);\x0a\x0a\x20\x20\x20\x20/'+'/\x20multiply'+'\x20them\x20by\x20w'+'eights\x20and'+'\x20add\x20up\x20to'+'\x20get\x20final'+'\x204x3\x20matri'+('x\x0a\x20\x20\x20\x20vec4'+'\x20v1\x20=\x20a1\x20*'+'\x20weights.x'+'\x20+\x20b1\x20*\x20we'+'ights.y\x20+\x20'+'c1\x20*\x20weigh'+'ts.z\x20+\x20d1\x20'+'*\x20weights.'+'w;\x0a\x20\x20\x20\x20vec'+'4\x20v2\x20=\x20a2\x20'+'*\x20weights.'+'x\x20+\x20b2\x20*\x20w'+'eights.y\x20+'+'\x20c2\x20*\x20weig'+'hts.z\x20+\x20d2'+'\x20*\x20weights'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20v3\x20=\x20a3'+'\x20*\x20weights'+'.x\x20+\x20b3\x20*\x20'+'weights.y\x20'+'+\x20c3\x20*\x20wei'+'ghts.z\x20+\x20d'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20add\x20up\x20'+'weights\x0a\x20\x20'+'\x20\x20float\x20on'+'e\x20=\x20dot(we'+'ights,\x20vec'+'4(1.0));\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.x'+',\x20v2.x,\x20v3'+'.x,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.y,'+'\x20v2.y,\x20v3.'+'y,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.z,\x20'+'v2.z,\x20v3.z'+',\x200,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20v1.w,\x20v'+'2.w,\x20v3.w,'+'\x20one\x0a\x20\x20\x20\x20)'+';\x0a}\x0a'),x2='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20float\x20v'+'LinearDept'+'h;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22floatAsUi'+'ntPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec3\x20vView'+'Dir;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20skyboxH'+'ighlightMu'+'ltiplier;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SKY_CUBE'+'MAP\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20texture'+'_cubeMap;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec3\x20v'+'WorldPos;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20project'+'edSkydomeC'+'enter;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#el'+'se\x20//\x20env-'+'atlas\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22spher'+'icalPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22envA'+'tlasPS\x22\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mipLe'+'vel;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20linear\x20d'+'epth\x20durin'+'g\x20prepass\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20flo'+'at2vec4(vL'+'inearDepth'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SK'+'Y_CUBEMAP\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SKYMES'+'H\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+('\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envDir\x20=\x20n'+'ormalize(v'+'WorldPos\x20-'+'\x20projected'+'SkydomeCen'+'ter);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20env'+'Dir\x20*\x20cube'+'MapRotatio'+'nMatrix;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20vViewD'+'ir;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir.x'+'\x20*=\x20-1.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20linear\x20=\x20'+'{SKYBOX_DE'+'CODE_FNC}('+'textureCub'+'e(texture_'+'cubeMap,\x20d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20vVie'+'wDir\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20toSph'+'ericalUv(n'+'ormalize(d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20mipLev'+'el)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20our\x20HDR'+'\x20encodes\x20v'+'alues\x20up\x20t'+'o\x2064,\x20so\x20a'+'llow\x20extra'+'\x20brightnes'+'s\x20for\x20the\x20'+'clipped\x20va'+'lues\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(any(great'+'erThanEqua'+'l(linear,\x20'+'vec3(64.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20skyboxHi'+'ghlightMul'+'tiplier;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(toneM'+'ap(process'+'Environmen'+'t(linear))'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20}'+'\x0a'),T2='\x0aattribute'+'\x20vec4\x20aPos'+'ition;\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tionSkybox'+';\x0auniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x0av'+'arying\x20vec'+'3\x20vViewDir'+';\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20//\x20'+'when\x20skydo'+'me\x20renders'+'\x20depth\x20dur'+'ing\x20prepas'+'s,\x20generat'+'e\x20linear\x20d'+'epth\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20vLinear'+'Depth;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20SKYMESH\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec3\x20vW'+'orldPos;\x0a#'+'endif\x0a\x0avoi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'mat4\x20view\x20'+'=\x20matrix_v'+'iew;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'MESH\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec4\x20w'+'orldPos\x20=\x20'+'matrix_mod'+'el\x20*\x20aPosi'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vWorld'+'Pos\x20=\x20worl'+'dPos.xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20PREPASS'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20linear\x20de'+'pth\x20from\x20t'+'he\x20worldPo'+'sition,\x20se'+'e\x20getLinea'+'rDepth\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vWorl'+'dPos,\x201.0)'+').z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20(view\x20*\x20'+'aPosition)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vViewDir\x20='+'\x20aPosition'+'.xyz\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20//\x20for\x20in'+'finite\x20sky'+'box,\x20use\x20n'+'egative\x20gl'+'_Position.'+'w\x20to\x20get\x20p'+'ositive\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vLinear'+'Depth\x20=\x20-g'+'l_Position'+'.w;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20Fo'+'rce\x20skybox'+'\x20to\x20far\x20Z,'+'\x20regardles'+'s\x20of\x20the\x20c'+'lip\x20planes'+'\x20on\x20the\x20ca'+'mera\x0a\x20\x20\x20\x20/'+'/\x20Subtract'+'\x20a\x20tiny\x20fu'+'dge\x20factor'+'\x20to\x20ensure'+'\x20floating\x20'+'point\x20erro'+'rs\x20don\x27t\x0a\x20'+'\x20\x20\x20//\x20stil'+'l\x20push\x20pix'+'els\x20beyond'+'\x20far\x20Z.\x20Se'+'e:\x0a\x20\x20\x20\x20//\x20'+'https://co'+'mmunity.kh'+'ronos.org/'+'t/skybox-p'+'roblem/618'+'57\x0a\x0a\x20\x20\x20\x20gl'+'_Position.'+'z\x20=\x20gl_Pos'+'ition.w\x20-\x20'+'1.0e-7;\x0a}\x0a'),w2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0auniform\x20v'+'ec3\x20materi'+'al_specula'+'r;\x0a#endif\x0a'+'\x0avoid\x20getS'+'pecularity'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20specul'+'arColor\x20=\x20'+'vec3(1,1,1'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20specularC'+'olor\x20*=\x20ma'+'terial_spe'+'cular;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'AR_TEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_SPECULAR_'+'TEXTURE_NA'+'ME},\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20textureB'+'ias)).{STD'+'_SPECULAR_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SPECU'+'LAR_VERTEX'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_S'+'PECULAR_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20spe'+'cularColor'+';\x0a}\x0a',E2='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'2\x20toSpheri'+'calUv(vec3'+'\x20dir)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PI\x20=\x203'+'.141592653'+'589793;\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20toSpheri'+'cal(dir)\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+';\x0a}\x0a',b2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_specula'+'rityFactor'+';\x0a#endif\x0a\x0a'+'void\x20getSp'+'ecularityF'+'actor()\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'specularit'+'yFactor\x20=\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULARI'+'TYFACTOR_C'+'ONSTANT\x0a\x20\x20'+'\x20\x20specular'+'ityFactor\x20'+'*=\x20materia'+'l_specular'+'ityFactor;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20t'+'exture2DBi'+'as({STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE_NAME},'+'\x20{STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_VERT'+'EX\x0a\x20\x20\x20\x20spe'+'cularityFa'+'ctor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SPECU'+'LARITYFACT'+'OR_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dSp'+'ecularityF'+'actor\x20=\x20sp'+'ecularityF'+'actor;\x0a}\x0a',A2='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',C2='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2(vUv0.'+'x,\x201.0\x20-\x20v'+'Uv0.y);\x0a',P2='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',M2='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20float\x20dAl'+'pha\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_o'+'pacityMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20global'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dAlbe'+'do;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dSpeculari'+'ty\x20=\x20vec3('+'0.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dGlossines'+'s\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20dT'+'ransmissio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dThicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SC'+'ENE_COLOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'uSceneColo'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SCREEN_SI'+'ZE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20uS'+'creenSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_TRAN'+'SFORMS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20matrix_v'+'iewProject'+'ion;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_mod'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20parallax\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20dUv'+'Offset;\x0a\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_he'+'ightMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20diffu'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20tex'+'ture_diffu'+'seMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_diffuseDe'+'tailMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_normal'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'NORMALDETA'+'IL_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_no'+'rmalDetail'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20refracti'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_THICKNES'+'S_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_thi'+'cknessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_REFRA'+'CTION_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_refractio'+'nMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20iridesc'+'ence\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_IRIDES'+'CENCE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20dIride'+'scence;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dIri'+'descenceTh')+('ickness;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_irides'+'cenceThick'+'nessMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_iridesce'+'nceMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20ccNorm'+'alW;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dAnisotro'+'py;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20&\x20glossin'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_OR_REFLE'+'CTION\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20sheen\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20sGloss'+'iness;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SHEEN'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_sheenM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_sh'+'eenGlossMa')+('p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20metalness'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dMet'+'alness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dIor;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_met'+'alnessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20dSpecula'+'rityFactor'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_speculari'+'tyFactorMa'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20specular\x20'+'color\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_specula'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20gloss\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_gl'+'ossMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dAo'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_aoM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_aoDeta'+'ilMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dEmis'+'sion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_EMISS'+'IVE_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_e'+'missiveMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'learcoat\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'EARCOAT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatG'+'lossMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'NORMAL_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_clea'+'rCoatNorma'+'lMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'anisotropy'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde')+('f\x20STD_ANIS'+'OTROPY_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_anis'+'otropyMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dLightma'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_LIGH'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_lightMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20front\x20'+'end\x20output'+'s\x20to\x20lit\x20s'+'hader\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'litShaderC'+'orePS\x22\x0a'),D2='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20voi'+'d\x20getSpecu'+'larity()\x20{'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20vec'+'3(1);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20g'+'loss\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22glo'+'ssPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20ao\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'aoPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'emissivePS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO')+('AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22clear'+'CoatPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatG'+'lossPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatN'+'ormalPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20anis'+'otropy\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ani'+'sotropyPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(STD'+'_LIGHTMAP)'+'\x20||\x20define'+'d(STD_LIGH'+'T_VERTEX_C'+'OLOR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20void\x20eval'+'uateFronte'+'nd()\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIT'+'_BLEND_TYP'+'E\x20!=\x20NONE\x20'+'||\x20defined'+'(LIT_ALPHA'+'_TEST)\x20||\x20'+'defined(LI'+'T_ALPHA_TO'+'_COVERAGE)'+'\x20||\x20STD_OP'+'ACITY_DITH'+'ER\x20!=\x20NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getOpac'+'ity();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_ALPH'+'A_TEST)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alphaT'+'est(dAlpha'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(dAlp'+'ha,\x200.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'opacity\x20=\x20'+'dAlpha;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20pa'+'rallax\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'HEIGHT_MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Parallax()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Albedo();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20d'+'Albedo;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20normal'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getNorm'+'al();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'worldNorma'+'l\x20=\x20dNorma'+'lW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_REFRACT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getRefract'+'ion();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_transmiss'+'ion\x20=\x20dTra'+'nsmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tThickness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_th'+'ickness\x20=\x20'+'dThickness'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_d'+'ispersion\x20'+'=\x20material'+'_dispersio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20iridescen'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_IRID'+'ESCENCE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getIri'+'descence()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tIridescen'+'ceThicknes'+'s();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_i'+'ridescence'+'_intensity'+'\x20=\x20dIrides'+'cence;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_iridescen'+'ce_thickne'+'ss\x20=\x20dIrid'+'escenceThi'+'ckness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('//\x20specula'+'rity\x20&\x20glo'+'ssiness\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR_'+'OR_REFLECT'+'ION\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getShee'+'n();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_sheen_s'+'pecularity'+'\x20=\x20sSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'SheenGloss'+'iness();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_she'+'en_gloss\x20='+'\x20sGlossine'+'ss;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20met'+'alness\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getMet'+'alness();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_me'+'talness\x20=\x20'+'dMetalness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getIor()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior\x20=\x20dIor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20specu'+'larity\x20fac'+'tor\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rityFactor'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ityFactor\x20'+'=\x20dSpecula'+'rityFactor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20gloss'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rity();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20dSpe'+'cularity;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss\x20'+'=\x20dGlossin')+('ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getAO'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ao'+'\x20=\x20dAo;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getEmi'+'ssion();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_e'+'mission\x20=\x20'+'dEmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cle'+'arcoat\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getC'+'learCoat()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tClearCoat'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getClearCo'+'atNormal()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20=\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_g'+'loss\x20=\x20ccG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_clear'+'coat_world'+'Normal\x20=\x20c'+'cNormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20aniso'+'tropy\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x20&&\x20def'+'ined(LIT_L'+'IGHTING)\x20&'+'&\x20defined('+'LIT_GGX_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getAni'+'sotropy();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20ligh'+'tmap\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(S'+'TD_LIGHTMA'+'P)\x20||\x20defi'+'ned(STD_LI'+'GHT_VERTEX'+'_COLOR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htMap();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_lightma'+'p\x20=\x20dLight'+'map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_lightm'+'apDir\x20=\x20dL'+'ightmapDir'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a'),I2='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20tbnBasis'+';\x0a#endif\x0a\x0a'+'void\x20getTB'+'N(vec3\x20tan'+'gent,\x20vec3'+'\x20binormal,'+'\x20vec3\x20norm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TB'+'N_TANGENTS'+'\x20//\x20tangen'+'ts\x20/\x20binor'+'mals\x20based'+'\x20TBN\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(tang'+'ent),\x20norm'+'alize(bino'+'rmal),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(TBN_'+'DERIVATIVE'+'S)\x20//\x20deri'+'vatives\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20{li'+'ghtingUv};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20get\x20edg'+'e\x20vectors\x20'+'of\x20the\x20pix'+'el\x20triangl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dp1\x20='+'\x20dFdx(\x20vPo'+'sitionW\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dp2\x20=\x20'+'dFdy(\x20vPos'+'itionW\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20duv2\x20'+'=\x20dFdy(\x20uv'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20solv'+'e\x20the\x20line'+'ar\x20system\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20dp2perp'+'\x20=\x20cross(\x20'+'dp2,\x20norma'+'l\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dp'+'1perp\x20=\x20cr'+'oss(\x20norma'+'l,\x20dp1\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+'dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+('ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'nom\x20=\x20max('+'\x20dot(T,T),'+'\x20dot(B,B)\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20inv'+'max\x20=\x20(den'+'om\x20==\x200.0)'+'\x20?\x200.0\x20:\x20t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20object'+'\x20space\x20TBN'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20B\x20=\x20c'+'ross(norma'+'l,\x20vObject'+'SpaceUpW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20T\x20=\x20cr'+'oss(normal'+',\x20B);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(d'+'ot(B,B)==0'+'.0)\x20//\x20dea'+'l\x20with\x20cas'+'e\x20when\x20vOb'+'jectSpaceU'+'pW\x20normal\x20'+'are\x20parall'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20major=max'+'(max(norma'+'l.x,\x20norma'+'l.y),\x20norm'+'al.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(normal'+'.x\x20==\x20majo'+'r)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20B\x20=\x20cro'+'ss(normal,'+'\x20vec3(0,1,'+'0));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20T\x20=\x20cross'+'(normal,\x20B'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x20if\x20(no'+'rmal.y\x20==\x20'+'major)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B\x20='+'\x20cross(nor'+'mal,\x20vec3('+'0,0,1));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20if'+'\x20(normal.z'+'\x20==\x20major)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20B\x20=\x20cross'+'(normal,\x20v'+'ec3(1,0,0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(T),\x20'+'normalize('+'B),\x20normal'+'ize(normal'+'));\x0a\x0a\x20\x20\x20\x20#')+'endif\x0a}\x0a',L2='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_thickn'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tThickness'+'()\x20{\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_THICKNE'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dThi'+'ckness\x20*=\x20'+'material_t'+'hickness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_THI'+'CKNESS_TEX'+'TURE\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20texture'+'2DBias({ST'+'D_THICKNES'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_THICKNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_TH'+'ICKNESS_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',R2='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',O2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',F2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',N2='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',k2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',U2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',B2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',z2='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',V2='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sc'+'reenPos\x20=\x20'+'vec4(verte'+'x_texCoord'+'1.xy\x20*\x202.0'+'\x20-\x201.0,\x200.'+'5,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20WEBGPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20SCREENSP'+'ACE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.y\x20*='+'\x20projectio'+'nFlipY;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PIX'+'ELSNAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20snap\x20ver'+'tex\x20to\x20a\x20p'+'ixel\x20bound'+'ary\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x200.5'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.xy\x20*=\x20uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'ScreenSize'+'.zw;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x202.'+'0)\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}')+('\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),G2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifdef\x20MORP'+'HING\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20morph_te'+'x_params;\x0a'+'\x20\x20\x20\x20attrib'+'ute\x20uint\x20m'+'orph_verte'+'x_id;\x0a\x0a\x20\x20\x20'+'\x20ivec2\x20get'+'TextureMor'+'phCoords()'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20turn\x20'+'morph_vert'+'ex_id\x20into'+'\x20int\x20grid\x20'+'coordinate'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ivec2\x20text'+'ureSize\x20=\x20'+'ivec2(morp'+'h_tex_para'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20mor'+'phGridV\x20=\x20'+'int(morph_'+'vertex_id)'+'\x20/\x20texture'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'morphGridU'+'\x20=\x20int(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20flipY\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20morphGrid'+'V\x20=\x20textur'+'eSize.y\x20-\x20'+'morphGridV'+'\x20-\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ivec'+'2(morphGri'+'dU,\x20morphG'+'ridV);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec3\x20aabb'+'Size;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'usampler2D'+'\x20morphPosi'+'tionTex;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20highp\x20s'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a#ifdef\x20de'+'fined(BATC'+'H)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ski'+'nBatchVS\x22\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getBon'+'eMatrix(ve'+'rtex_boneI'+'ndices);\x0a\x20'+'\x20\x20\x20}\x0a\x0a#eli'+'f\x20defined('+'SKIN)\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20get'+'SkinMatrix'+'(vertex_bo'+'neIndices,'+'\x20vertex_bo'+'neWeights)'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'elif\x20defin'+'ed(INSTANC'+'ING)\x0a\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'transformI'+'nstancingV'+'S\x22\x0a\x0a#else\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20matrix'+'_model;\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tLocalPosi'+'tion(vec3\x20'+'vertexPosi'+'tion)\x20{\x0a\x0a\x20'+'\x20\x20\x20vec3\x20lo'+'calPos\x20=\x20v'+'ertexPosit'+'ion;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'morphUV\x20=\x20'+'getTexture'+'MorphCoord'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPHING_'+'INT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20vec3(tex'+'elFetch(mo'+'rphPositio'+'nTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x20aabbSize'+'\x20+\x20aabbMin'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphPo'+'s\x20=\x20texelF'+'etch(morph'+'PositionTe'+'x,\x20ivec2(m'+'orphUV),\x200'+').xyz;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20localPos\x20'+'+=\x20morphPo'+'s;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20loc'+'alPos;\x0a}\x0a\x0a'),H2='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',W2='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_refr'+'action;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getRefrac'+'tion()\x20{\x0a\x20'+'\x20\x20\x20float\x20r'+'efraction\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_RE'+'FRACTION_T'+'EXTURE\x0a\x20\x20\x20'+'\x20refractio'+'n\x20*=\x20textu'+'re2DBias({'+'STD_REFRAC'+'TION_TEXTU'+'RE_NAME},\x20'+'{STD_REFRA'+'CTION_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_REF'+'RACTION_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_VERTEX'+'\x0a\x20\x20\x20\x20refra'+'ction\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_REFR'+'ACTION_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dTransmis'+'sion\x20=\x20ref'+'raction;\x0a}'+'\x0a',$2='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',X2='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20vec2\x20ge'+'tUv0()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20ver'+'tex_positi'+'on.xz;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20o'+'ffset\x20inne'+'r\x20vertices'+'\x20inside\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20('+'original\x20v'+'ertices\x20mu'+'st\x20be\x20in\x20['+'-1;1]\x20rang'+'e)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20n'+'egativeUni'+'tOffset\x20=\x20'+'clamp(-ver'+'tex_positi'+'on.xz,\x20vec'+'2(0.0),\x20ve'+'c2(1.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20-0.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20atlasRe'+'ct.zw\x20+\x20at'+'lasRect.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uv;\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20vec2'+'\x20getUv0()\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a',q2='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',j2='\x0avUV{TRANS'+'FORM_UV_{i'+'}}_{TRANSF'+'ORM_ID_{i}'+'}\x20=\x20vec2(\x0a'+'\x20\x20\x20\x20dot(ve'+'c3(uv{TRAN'+'SFORM_UV_{'+'i}},\x201),\x20{'+'TRANSFORM_'+'NAME_{i}}0'+'),\x0a\x20\x20\x20\x20dot'+'(vec3(uv{T'+'RANSFORM_U'+'V_{i}},\x201)'+',\x20{TRANSFO'+'RM_NAME_{i'+'}}1)\x0a);\x0a',Y2='\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}0;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}1;'+'\x0a',K2='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',Z2={'alphaTestPS':YC,'ambientPS':KC,'anisotropyPS':ZC,'aoPS':QC,'aoDiffuseOccPS':JC,'aoSpecOccPS':e1,'bakeDirLmEndPS':t1,'bakeLmEndPS':s1,'basePS':i1,'baseNineSlicedPS':r1,'baseNineSlicedTiledPS':a1,'bayerPS':n1,'blurVSMPS':o1,'clearCoatPS':l1,'clearCoatGlossPS':c1,'clearCoatNormalPS':h1,'clusteredLightCookiesPS':f1,'clusteredLightShadowsPS':u1,'clusteredLightUtilsPS':d1,'clusteredLightPS':p1,'combinePS':m1,'cookieBlit2DPS':_1,'cookieBlitCubePS':g1,'cookieBlitVS':S1,'cookiePS':y1,'cubeMapProjectPS':v1,'cubeMapRotatePS':x1,'debugOutputPS':T1,'debugProcessFrontendPS':w1,'detailModesPS':b1,'diffusePS':A1,'decodePS':E1,'emissivePS':C1,'encodePS':P1,'endPS':M1,'envAtlasPS':D1,'envProcPS':I1,'falloffInvSquaredPS':L1,'falloffLinearPS':R1,'floatAsUintPS':O1,'fogPS':F1,'fresnelSchlickPS':N1,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':k1,'gammaPS':U1,'gles3PS':Vy,'gles3VS':Gy,'glossPS':B1,'gsplatCenterVS':z1,'gsplatCornerVS':K1,'gsplatColorVS':V1,'gsplatCommonVS':G1,'gsplatCompressedDataVS':H1,'gsplatCompressedSHVS':W1,'gsplatEvalSHVS':$1,'gsplatQuatToMat3VS':X1,'gsplatSogsColorVS':q1,'gsplatSogsDataVS':j1,'gsplatSogsSHVS':Y1,'gsplatDataVS':Z1,'gsplatOutputVS':Q1,'gsplatPS':J1,'gsplatSHVS':eP,'gsplatSourceVS':tP,'gsplatVS':sP,'quadVS':iP,'immediateLinePS':rP,'immediateLineVS':aP,'iridescenceDiffractionPS':nP,'iridescencePS':oP,'iridescenceThicknessPS':lP,'iorPS':cP,'lightDeclarationPS':hP,'lightDiffuseLambertPS':dP,'lightDirPointPS':fP,'lightEvaluationPS':uP,'lightFunctionLightPS':pP,'lightFunctionShadowPS':mP,'lightingPS':_P,'lightmapAddPS':gP,'lightmapPS':SP,'lightSpecularAnisoGGXPS':yP,'lightSpecularBlinnPS':vP,'lightSheenPS':xP,'linearizeDepthPS':TP,'litForwardBackendPS':wP,'litForwardDeclarationPS':EP,'litForwardMainPS':bP,'litForwardPostCodePS':AP,'litForwardPreCodePS':CP,'litMainPS':PP,'litMainVS':MP,'litOtherMainPS':DP,'litShaderArgsPS':IP,'litShaderCorePS':LP,'litShadowMainPS':RP,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':OP,'metalnessPS':FP,'metalnessModulatePS':kP,'morphPS':UP,'morphVS':BP,'msdfPS':NP,'msdfVS':zP,'normalVS':VP,'normalCoreVS':GP,'normalMapPS':HP,'opacityPS':WP,'opacityDitherPS':$P,'outputPS':XP,'outputAlphaPS':qP,'outputTex2DPS':jP,'sheenPS':YP,'sheenGlossPS':KP,'parallaxPS':ZP,'pickPS':QP,'reflDirPS':JP,'reflDirAnisoPS':e2,'reflectionCCPS':t2,'reflectionCubePS':s2,'reflectionEnvHQPS':i2,'reflectionEnvPS':r2,'reflectionSpherePS':a2,'reflectionSheenPS':n2,'refractionCubePS':o2,'refractionDynamicPS':l2,'reprojectPS':c2,'reprojectVS':h2,'screenDepthPS':d2,'shadowCascadesPS':f2,'shadowEVSMPS':u2,'shadowPCF1PS':p2,'shadowPCF3PS':m2,'shadowPCF5PS':_2,'shadowPCSSPS':g2,'shadowSoftPS':S2,'skinBatchVS':y2,'skinVS':v2,'skyboxPS':x2,'skyboxVS':T2,'specularPS':w2,'sphericalPS':E2,'specularityFactorPS':b2,'spotPS':A2,'startNineSlicedPS':C2,'startNineSlicedTiledPS':P2,'stdDeclarationPS':M2,'stdFrontEndPS':D2,'TBNPS':I2,'thicknessPS':L2,'tonemappingPS':R2,'tonemappingAcesPS':O2,'tonemappingAces2PS':F2,'tonemappingFilmicPS':N2,'tonemappingHejlPS':k2,'tonemappingLinearPS':U2,'tonemappingNeutralPS':B2,'tonemappingNonePS':z2,'transformVS':V2,'transformCoreVS':G2,'transformInstancingVS':H2,'transmissionPS':W2,'twoSidedLightingPS':$2,'uv0VS':X2,'uv1VS':q2,'uvTransformVS':j2,'uvTransformUniformsPS':Y2,'viewDirPS':K2,'webgpuPS':Hy,'webgpuVS':Wy},Q2='\x0auniform\x20a'+'lpha_ref:\x20'+'f32;\x0a\x0afn\x20a'+'lphaTest(a'+':\x20f32)\x20{\x0a\x20'+'\x20\x20\x20if\x20(a\x20<'+'\x20uniform.a'+'lpha_ref)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',J2='\x0a\x0a#if\x20LIT_'+'AMBIENT_SO'+'URCE\x20==\x20AM'+'BIENTSH\x0a\x20\x20'+'\x20\x20uniform\x20'+'ambientSH:'+'\x20array<vec'+'3f,\x209>;\x0a#e'+'ndif\x0a\x0a#if\x20'+'LIT_AMBIEN'+'T_SOURCE\x20='+'=\x20ENVALATL'+'AS\x0a\x20\x20\x20\x20#in'+'clude\x20\x22env'+'AtlasPS\x22\x0a\x0a'+'\x20\x20\x20\x20#ifnde'+'f\x20ENV_ATLA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_en'+'vAtlas:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_envAt'+'lasSampler'+':\x20sampler;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'fn\x20addAmbi'+'ent(worldN'+'ormal:\x20vec'+'3f)\x20{\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20A'+'MBIENTSH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20n:\x20vec3f'+'\x20=\x20cubeMap'+'Rotate(wor'+'ldNormal);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20color:\x20'+'vec3f\x20=\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[0]'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[1]\x20*\x20n.'+'x\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm.ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form.ambie'+'ntSH[3]\x20*\x20'+'n.z\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform.ambi'+'entSH[4]\x20*'+'\x20n.x\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[5]\x20*\x20n.'+'z\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform.'+'ambientSH['+'6]\x20*\x20n.y\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform.amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[8]'+'\x20*\x20(n.x\x20*\x20'+'n.x\x20-\x20n.y\x20'+'*\x20n.y);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20proces'+'sEnvironme'+'nt(max(col'+'or,\x20vec3f('+'0.0)));\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+('\x20ENVALATLA'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3f(-1.0,\x201'+'.0,\x201.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20mapUv'+'(toSpheric'+'alUv(dir),'+'\x20vec4f(128'+'.0,\x20256.0\x20'+'+\x20128.0,\x206'+'4.0,\x2032.0)'+'\x20/\x20atlasSi'+'ze);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20ra'+'w:\x20vec4f\x20='+'\x20textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20uv'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20linea'+'r:\x20vec3f\x20='+'\x20{ambientD'+'ecode}(raw'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(lin'+'ear);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20C'+'ONSTANT\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20unifor'+'m.light_gl'+'obalAmbien'+'t;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),eM='\x0a#ifdef\x20LI'+'T_GGX_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_anis'+'otropyInte'+'nsity:\x20f32'+';\x0a\x20\x20\x20\x20unif'+'orm\x20materi'+'al_anisotr'+'opyRotatio'+'n:\x20vec2f;\x0a'+'#endif\x0a\x0afn'+'\x20getAnisot'+'ropy()\x20{\x0a\x20'+'\x20\x20\x20dAnisot'+'ropy\x20=\x200.0'+';\x0a\x20\x20\x20\x20dAni'+'sotropyRot'+'ation\x20=\x20ve'+'c2f(1.0,\x200'+'.0);\x0a\x0a#ifd'+'ef\x20LIT_GGX'+'_SPECULAR\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20=\x20un'+'iform.mate'+'rial_aniso'+'tropyInten'+'sity;\x0a\x20\x20\x20\x20'+'dAnisotrop'+'yRotation\x20'+'=\x20uniform.'+'material_a'+'nisotropyR'+'otation;\x0a#'+'endif\x0a\x0a#if'+'def\x20STD_AN'+'ISOTROPY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyTex:\x20'+'vec3f\x20=\x20te'+'xtureSampl'+'eBias({STD'+'_ANISOTROP'+'Y_TEXTURE_'+'NAME},\x20{ST'+'D_ANISOTRO'+'PY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'ANISOTROPY'+'_TEXTURE_U'+'V},\x20unifor'+'m.textureB'+'ias).rgb;\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20*=\x20a'+'nisotropyT'+'ex.b;\x0a\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyRotat'+'ionFromTex'+':\x20vec2f\x20=\x20'+'anisotropy'+'Tex.rg\x20*\x202'+'.0\x20-\x20vec2f'+'(1.0);\x0a\x20\x20\x20'+'\x20let\x20rotat'+'ionMatrix:'+'\x20mat2x2f\x20='+'\x20mat2x2f(d'+'Anisotropy'+'Rotation.x'+',\x20dAnisotr'+'opyRotatio'+'n.y,\x20-dAni'+'sotropyRot'+'ation.y,\x20d'+'Anisotropy'+'Rotation.x'+');\x0a\x20\x20\x20\x20dAn'+'isotropyRo'+'tation\x20=\x20r'+'otationMat'+'rix\x20*\x20anis'+'otropyRota'+'tionFromTe'+'x;\x0a#endif\x0a'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20c'+'lamp(dAnis'+'otropy,\x200.'+'0,\x201.0);\x0a}'+'\x0a',tM='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_aoI'+'ntensity:\x20'+'f32;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_AODETA'+'IL_TEXTURE'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22detai'+'lModesPS\x22\x0a'+'#endif\x0a\x0afn'+'\x20getAO()\x20{'+'\x0a\x20\x20\x20\x20dAo\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20aoBas'+'e:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_AO_TEXTU'+'RE_NAME},\x20'+'{STD_AO_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AO_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_AO_'+'TEXTURE_CH'+'ANNEL};\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_AO'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20aoDetail:'+'\x20f32\x20=\x20tex'+'tureSample'+'Bias({STD_'+'AODETAIL_T'+'EXTURE_NAM'+'E},\x20{STD_A'+'ODETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AODET'+'AIL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_AODETAI'+'L_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20aoBase\x20='+'\x20detailMod'+'e_{STD_AOD'+'ETAIL_DETA'+'ILMODE}(ve'+'c3f(aoBase'+'),\x20vec3f(a'+'oDetail)).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dAo'+'\x20=\x20dAo\x20*\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20=\x20dA'+'o\x20*\x20satura'+'te(vVertex'+'Color.{STD'+'_AO_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'STD_AO_TEX'+'TURE)\x20||\x20d'+'efined(STD'+'_AO_VERTEX'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'uniform.ma'+'terial_aoI'+'ntensity);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',sM='\x0afn\x20occlud'+'eDiffuse(a'+'o:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20ao;\x0a'+'}\x0a',iM='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'aterial_oc'+'cludeSpecu'+'larIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0afn'+'\x20occludeSp'+'ecular(glo'+'ss:\x20f32,\x20a'+'o:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f)\x20{\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20==\x20A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_OCCLUDE_S'+'PECULAR_FL'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'specOcc:\x20f'+'32\x20=\x20mix(1'+'.0,\x20ao,\x20un'+'iform.mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specOcc:'+'\x20f32\x20=\x20ao;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'GLOSSDEPEN'+'DENT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'roximated\x20'+'specular\x20o'+'cclusion\x20f'+'rom\x20AO\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ht'+'tp://resea'+'rch.tri-ac'+'e.com/Data'+'/cedec2011'+'_RealtimeP'+'BR_Impleme'+'ntation_e.'+'pptx\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20spe'+'cPow:\x20f32\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20specOc'+'c:\x20f32\x20=\x20s'+'aturate(po'+'w(dot(worl'+'dNormal,\x20v'+'iewDir)\x20+\x20'+'ao,\x200.01\x20*'+'\x20specPow)\x20'+'-\x201.0\x20+\x20ao'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_OCCLUDE'+'_SPECULAR_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecOcc\x20=\x20mi'+'x(1.0,\x20spe'+'cOcc,\x20unif'+'orm.materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20*\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20dRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'*\x20specOcc;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sReflec'+'tion\x20=\x20sRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a'),rM='\x0a\x20\x20\x20\x20let\x20d'+'irLm\x20=\x20tex'+'tureSample'+'(texture_d'+'irLightMap'+',\x20texture_'+'dirLightMa'+'pSampler,\x20'+'vUv1);\x0a\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.bakeDi'+'r\x20>\x200.5)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(dAtten\x20'+'>\x200.00001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'npacked_di'+'r\x20=\x20dirLm.'+'xyz\x20*\x202.0\x20'+'-\x20vec3f(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x20clamp'+'(dAtten,\x200'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20comb'+'ined_dir\x20='+'\x20dLightDir'+'NormW.xyz\x20'+'*\x20dAtten\x20+'+'\x20unpacked_'+'dir\x20*\x20dirL'+'m.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20finalRgb\x20'+'=\x20normaliz'+'e(combined'+'_dir)\x20*\x200.'+'5\x20+\x20vec3f('+'0.5);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20finalA\x20='+'\x20max(dirLm'+'.w\x20+\x20dAtte'+'n,\x201.0\x20/\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalRgb,\x20'+'finalA);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20dirLm;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20alpha'+'_min\x20=\x20sel'+'ect(0.0,\x201'+'.0\x20/\x20255.0'+',\x20dAtten\x20>'+'\x200.00001);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20finalA\x20'+'=\x20max(dirL'+'m.w,\x20alpha'+'_min);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(dirL'+'m.rgb,\x20fin'+'alA);\x0a\x20\x20\x20\x20'+'}\x0a',aM='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'uniform.am'+'bientBakeO'+'cclusionCo'+'ntrast\x20+\x201'+'.0,\x200.0))\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20vec3f(u'+'niform.amb'+'ientBakeOc'+'clusionBri'+'ghtness);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'saturate3('+'dDiffuseLi'+'ght);\x0a\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20=\x20dDif'+'fuseLight\x20'+'*\x20dAmbient'+'Light;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIGHTMAP'+'_RGBM\x0a\x20\x20\x20\x20'+'//\x20encode\x20'+'to\x20RGBM\x0a\x20\x20'+'\x20\x20var\x20temp'+'_color_rgb'+'m\x20=\x20vec4f('+'dDiffuseLi'+'ght,\x201.0);'+'\x0a\x20\x20\x20\x20temp_'+'color_rgbm'+'\x20=\x20vec4f(p'+'ow(temp_co'+'lor_rgbm.r'+'gb,\x20vec3f('+'0.5)),\x20tem'+'p_color_rg'+'bm.a);\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+'color_rgbm'+'.rgb\x20/\x208.0'+',\x20temp_col'+'or_rgbm.a)'+';\x0a\x20\x20\x20\x20let\x20'+'max_g_b\x20=\x20'+'max(temp_c'+'olor_rgbm.'+'g,\x20max(tem'+'p_color_rg'+'bm.b,\x201.0\x20'+'/\x20255.0));'+'\x0a\x20\x20\x20\x20let\x20m'+'ax_rgb\x20=\x20m'+'ax(temp_co'+'lor_rgbm.r'+',\x20max_g_b)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20ceil'+'(temp_colo'+'r_rgbm.a\x20*'+'\x20255.0)\x20/\x20'+'255.0;\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+('color_rgbm'+'.rgb\x20/\x20tem'+'p_color_rg'+'bm.a,\x20temp'+'_color_rgb'+'m.a);\x0a\x20\x20\x20\x20'+'output.col'+'or\x20=\x20temp_'+'color_rgbm'+';\x0a#else\x0a\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20vec'+'4f(dDiffus'+'eLight,\x201.'+'0);\x0a#endif'+'\x0a'),nM='\x0auniform\x20v'+'iew_positi'+'on:\x20vec3f;'+'\x0a\x0auniform\x20'+'light_glob'+'alAmbient:'+'\x20vec3f;\x0a\x0af'+'n\x20square(x'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20x*x'+';\x0a}\x0a\x0afn\x20sa'+'turate(x:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0afn'+'\x20saturate3'+'(x:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3f(0.'+'0),\x20vec3f('+'1.0));\x0a}\x0a',oM='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'Mask:\x20vec2'+'f;\x0avarying'+'\x20vTiledUv:'+'\x20vec2f;\x0a\x0au'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0auni'+'form\x20outer'+'Scale:\x20vec'+'2f;\x0aunifor'+'m\x20atlasRec'+'t:\x20vec4f;\x0a'+'\x0avar<priva'+'te>\x20nineSl'+'icedUv:\x20ve'+'c2f;\x0a',lM='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vMask:\x20v'+'ec2f;\x0avary'+'ing\x20vTiled'+'Uv:\x20vec2f;'+'\x0a\x0auniform\x20'+'innerOffse'+'t:\x20vec4f;\x0a'+'uniform\x20ou'+'terScale:\x20'+'vec2f;\x0auni'+'form\x20atlas'+'Rect:\x20vec4'+'f;\x0a\x0avar<pr'+'ivate>\x20nin'+'eSlicedUv:'+'\x20vec2f;\x0a',cM='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afn\x20bay'+'er2(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(2.0\x20*'+'\x20p.y\x20+\x20p.x'+'\x20+\x201.0)\x20%\x20'+'4.0;\x0a}\x0a\x0a//'+'\x204x4\x20matri'+'x,\x20p\x20-\x20pix'+'el\x20coordin'+'ate\x0afn\x20bay'+'er4(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20p1:\x20vec2f'+'\x20=\x20p\x20%\x20vec'+'2f(2.0);\x0a\x20'+'\x20\x20\x20let\x20p2:'+'\x20vec2f\x20=\x20f'+'loor(0.5\x20*'+'\x20(p\x20%\x20vec2'+'f(4.0)));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afn\x20bayer8'+'(p:\x20vec2f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20p1'+':\x20vec2f\x20=\x20'+'p\x20%\x20vec2f('+'2.0);\x0a\x20\x20\x20\x20'+'let\x20p2:\x20ve'+'c2f\x20=\x20floo'+'r(0.5\x20*\x20(p'+'\x20%\x20vec2f(4'+'.0)));\x0a\x20\x20\x20'+'\x20let\x20p4:\x20v'+'ec2f\x20=\x20flo'+'or(0.25\x20*\x20'+'(p\x20%\x20vec2f'+'(8.0)));\x0a\x20'+'\x20\x20\x20return\x20'+'4.0\x20*\x20(4.0'+'\x20*\x20bayer2('+'p1)\x20+\x20baye'+'r2(p2))\x20+\x20'+'bayer2(p4)'+';\x0a}\x0a',hM='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20sou'+'rce:\x20textu'+'re_2d<f32>'+';\x0avar\x20sour'+'ceSampler:'+'\x20sampler;\x0a'+'\x0a#ifdef\x20GA'+'USS\x0a\x20\x20\x20\x20un'+'iform\x20weig'+'ht:\x20array<'+'f32,\x20{SAMP'+'LES}>;\x0a#en'+'dif\x0aunifor'+'m\x20pixelOff'+'set:\x20vec2f'+';\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20var'+'\x20moments:\x20'+'vec3f\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20let\x20uv'+':\x20vec2f\x20=\x20'+'input.vUv0'+'\x20-\x20uniform'+'.pixelOffs'+'et\x20*\x20(f32('+'{SAMPLES})'+'\x20*\x200.5);\x0a\x0a'+'\x20\x20\x20\x20for\x20(v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20{'+'SAMPLES};\x20'+'i\x20=\x20i\x20+\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20c:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'source,\x20so'+'urceSample'+'r,\x20uv\x20+\x20un'+'iform.pixe'+'lOffset\x20*\x20'+'f32(i));\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20moments'+'\x20=\x20moments'+'\x20+\x20c.xyz\x20*'+'\x20uniform.w'+'eight[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20=\x20moment'+'s\x20+\x20c.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'oments\x20=\x20m'+'oments\x20*\x20('+'1.0\x20/\x20f32('+'{SAMPLES})'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'moments,\x201'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a',dM='\x0auniform\x20m'+'aterial_cl'+'earCoat:\x20f'+'32;\x0a\x0afn\x20ge'+'tClearCoat'+'()\x20{\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20=\x20unifo'+'rm.materia'+'l_clearCoa'+'t;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_C'+'LEARCOAT_T'+'EXTURE\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20=\x20ccS'+'pecularity'+'\x20*\x20texture'+'SampleBias'+'({STD_CLEA'+'RCOAT_TEXT'+'URE_NAME},'+'\x20{STD_CLEA'+'RCOAT_TEXT'+'URE_NAME}S'+'ampler,\x20{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_CLE'+'ARCOAT_VER'+'TEX\x0a\x20\x20\x20\x20cc'+'Specularit'+'y\x20=\x20ccSpec'+'ularity\x20*\x20'+'saturate(v'+'VertexColo'+'r.{STD_CLE'+'ARCOAT_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a',fM='\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_clearCoa'+'tGloss:\x20f3'+'2;\x0a\x0afn\x20get'+'ClearCoatG'+'lossiness('+')\x20{\x0a\x20\x20\x20\x20cc'+'Glossiness'+'\x20=\x20uniform'+'.material_'+'clearCoatG'+'loss;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE_NAME}'+',\x20{STD_CLE'+'ARCOATGLOS'+'S_TEXTURE_'+'NAME}Sampl'+'er,\x20{STD_C'+'LEARCOATGL'+'OSS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_CLEA'+'RCOATGLOSS'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_INVERT\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20=\x201.0'+'\x20-\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20ccGloss'+'iness\x20+=\x200'+'.0000001;\x0a'+'}\x0a',uM='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_cle'+'arCoatBump'+'iness:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getClea'+'rCoatNorma'+'l()\x20{\x0a#ifd'+'ef\x20STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'\x0a\x20\x20\x20\x20var\x20n'+'ormalMap:\x20'+'vec3f\x20=\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_DEC'+'ODE}(textu'+'reSampleBi'+'as({STD_CL'+'EARCOATNOR'+'MAL_TEXTUR'+'E_NAME},\x20{'+'STD_CLEARC'+'OATNORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias));\x0a\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20mix(v'+'ec3f(0.0,\x20'+'0.0,\x201.0),'+'\x20normalMap'+',\x20uniform.'+'material_c'+'learCoatBu'+'mpiness);\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20norm'+'alize(dTBN'+'\x20*\x20normalM'+'ap);\x0a#else'+'\x0a\x20\x20\x20\x20ccNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a',pM='\x0astruct\x20Fa'+'ceCoords\x20{'+'\x0a\x20\x20\x20\x20uv:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Or'+'iginal\x20ret'+'urn\x20value\x0a'+'\x20\x20\x20\x20faceIn'+'dex:\x20f32,\x20'+'\x20\x20\x20//\x20Was\x20'+'out\x20parame'+'ter\x0a\x20\x20\x20\x20ti'+'leOffset:\x20'+'vec2f,\x20//\x20'+'Was\x20out\x20pa'+'rameter\x0a}\x0a'+'\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0afn\x20getC'+'ubemapFace'+'Coordinate'+'s(dir:\x20vec'+'3f)\x20->\x20Fac'+'eCoords\x20{\x0a'+'\x20\x20\x20\x20var\x20fa'+'ceIndex:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20tileOffs'+'et:\x20vec2f;'+'\x0a\x20\x20\x20\x20var\x20u'+'v:\x20vec2f;\x20'+'//\x20This\x20is'+'\x20the\x20face\x20'+'UV\x20[0..1]\x0a'+'\x20\x20\x20\x20let\x20vA'+'bs:\x20vec3f\x20'+'=\x20abs(dir)'+';\x0a\x20\x20\x20\x20var\x20'+'ma:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20if\x20(vA'+'bs.z\x20>=\x20vA'+'bs.x\x20&&\x20vA'+'bs.z\x20>=\x20vA'+'bs.y)\x20{\x20\x20\x20'+'//\x20front\x20/'+'\x20back\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20i'+'s_neg_z\x20=\x20'+'dir.z\x20<\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20faceIndex'+'\x20=\x20select('+'4.0,\x205.0,\x20'+'is_neg_z);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'a\x20=\x200.5\x20/\x20'+'vAbs.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv\x20='+'\x20vec2f(sel'+'ect(dir.x,'+'\x20-dir.x,\x20i'+'s_neg_z),\x20'+'-dir.y);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20til'+'eOffset\x20=\x20'+'vec2f(2.0,'+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_z));\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(vAbs'+'.y\x20>=\x20vAbs'+'.x)\x20{\x20\x20//\x20'+'top\x20index\x20'+'2,\x20bottom\x20'+'index\x203\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20is_neg_y\x20'+'=\x20dir.y\x20<\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20selec'+('t(2.0,\x203.0'+',\x20is_neg_y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2f(d'+'ir.x,\x20sele'+'ct(dir.z,\x20'+'-dir.z,\x20is'+'_neg_y));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ti'+'leOffset\x20='+'\x20vec2f(1.0'+',\x20select(0'+'.0,\x201.0,\x20i'+'s_neg_y));'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20is_'+'neg_x\x20=\x20di'+'r.x\x20<\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'aceIndex\x20='+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_x);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2f(selec'+'t(-dir.z,\x20'+'dir.z,\x20is_'+'neg_x),\x20-d'+'ir.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset\x20=\x20ve'+'c2f(0.0,\x20s'+'elect(0.0,'+'\x201.0,\x20is_n'+'eg_x));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv\x20*\x20m'+'a\x20+\x200.5;\x0a\x20'+'\x20\x20\x20return\x20'+'FaceCoords'+'(uv,\x20faceI'+'ndex,\x20tile'+'Offset);\x0a}'+'\x0a\x0a//\x20conve'+'rts\x20unnorm'+'alized\x20dir'+'ection\x20vec'+'tor\x20to\x20a\x20t'+'exture\x20coo'+'rdinate\x20fo'+'r\x20a\x20cubema'+'p\x20face\x20sto'+'red\x20within'+'\x20texture\x20a'+'tlas\x20descr'+'ibed\x20by\x20th'+'e\x20viewport'+'\x0afn\x20getCub'+'emapAtlasC'+'oordinates'+'(omniAtlas'+'Viewport:\x20'+'vec3f,\x20sha'+'dowEdgePix'+'els:\x20f32,\x20'+'shadowText'+'ureResolut'+'ion:\x20f32,\x20'+'dir:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20faceData'+':\x20FaceCoor'+'ds\x20=\x20getCu'+'bemapFaceC'+'oordinates'+'(dir);\x0a\x20\x20\x20'+'\x20var\x20uv:\x20v'+'ec2f\x20=\x20fac'+'eData.uv;\x0a'+'\x20\x20\x20\x20let\x20ti'+'leOffset:\x20'+'vec2f\x20=\x20fa'+'ceData.til'+'eOffset;\x0a\x0a'+'\x20\x20\x20\x20//\x20mov'+'e\x20uv\x20coord'+'inates\x20inw'+'ards\x20insid'+'e\x20to\x20compe'+'nsate\x20for\x20')+('larger\x20fov'+'\x20when\x20rend'+'ering\x20shad'+'ow\x20into\x20at'+'las\x0a\x20\x20\x20\x20le'+'t\x20atlasFac'+'eSize:\x20f32'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20le'+'t\x20tileSize'+':\x20f32\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20var\x20off'+'set:\x20f32\x20='+'\x20shadowEdg'+'ePixels\x20/\x20'+'tileSize;\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20*\x20(1.0\x20-'+'\x20offset\x20*\x20'+'2.0)\x20+\x20off'+'set;\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20='+'\x20uv\x20*\x20atla'+'sFaceSize;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x20into'+'\x20face\x20of\x20t'+'he\x20atlas\x20('+'3x3\x20grid)\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20+\x20tileOf'+'fset\x20*\x20atl'+'asFaceSize'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'offset\x20int'+'o\x20the\x20atla'+'s\x20viewport'+'\x0a\x20\x20\x20\x20uv\x20=\x20'+'uv\x20+\x20omniA'+'tlasViewpo'+'rt.xy;\x0a\x0a\x20\x20'+'\x20\x20return\x20u'+'v;\x0a}\x0a'),mM='\x0afn\x20_getCo'+'okieCluste'+'red(tex:\x20t'+'exture_2d<'+'f32>,\x20texS'+'ampler:\x20sa'+'mpler,\x20uv:'+'\x20vec2f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20pixel'+':\x20vec4f\x20=\x20'+'mix(vec4f('+'1.0),\x20text'+'ureSampleL'+'evel(tex,\x20'+'texSampler'+',\x20uv,\x200.0)'+',\x20intensit'+'y);\x0a\x20\x20\x20\x20le'+'t\x20isRgb:\x20b'+'ool\x20=\x20dot('+'cookieChan'+'nel.rgb,\x20v'+'ec3f(1.0))'+'\x20==\x203.0;\x0a\x20'+'\x20\x20\x20return\x20'+'select(vec'+'3f(dot(pix'+'el,\x20cookie'+'Channel)),'+'\x20pixel.rgb'+',\x20isRgb);\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0afn'+'\x20getCookie'+'2DClustere'+'d(tex:\x20tex'+'ture_2d<f3'+'2>,\x20texSam'+'pler:\x20samp'+'ler,\x20trans'+'form:\x20mat4'+'x4f,\x20world'+'Position:\x20'+'vec3f,\x20int'+'ensity:\x20f3'+'2,\x20cookieC'+'hannel:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20projPo'+'s:\x20vec4f\x20='+'\x20transform'+'\x20*\x20vec4f(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(tex,\x20texS'+'ampler,\x20pr'+'ojPos.xy\x20/'+'\x20projPos.w'+',\x20intensit'+'y,\x20cookieC'+'hannel);\x0a}'+'\x0a\x0a//\x20getCo'+'okie\x20for\x20c'+'lustered\x20o'+'mni\x20light\x20'+'with\x20the\x20c'+'ookie\x20text'+'ure\x20being\x20'+'stored\x20in\x20'+'the\x20cookie'+'\x20atlas\x0afn\x20'+'getCookieC'+'ubeCluster'+'ed(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20dir:'+'\x20vec3f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f,\x20shad'+'owTextureR'+'esolution:'+'\x20f32,\x20shad'+('owEdgePixe'+'ls:\x20f32,\x20o'+'mniAtlasVi'+'ewport:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20dir);'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getCook'+'ieClustere'+'d(tex,\x20tex'+'Sampler,\x20u'+'v,\x20intensi'+'ty,\x20cookie'+'Channel);\x0a'+'}\x0a'),_M='\x0a\x0afn\x20_getS'+'hadowCoord'+'PerspZbuff'+'er(shadowM'+'atrix:\x20mat'+'4x4f,\x20shad'+'owParams:\x20'+'vec4f,\x20wPo'+'s:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20p'+'rojPos\x20=\x20s'+'hadowMatri'+'x\x20*\x20vec4f('+'wPos,\x201.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20projPos'+'.xyz\x20/\x20pro'+'jPos.w;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0afn'+'\x20getShadow'+'CoordPersp'+'ZbufferNor'+'malOffset('+'shadowMatr'+'ix:\x20mat4x4'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20normal'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20wP'+'os:\x20vec3f\x20'+'=\x20vPositio'+'nW\x20+\x20norma'+'l\x20*\x20shadow'+'Params.y;\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wCoordPers'+'pZbuffer(s'+'hadowMatri'+'x,\x20shadowP'+'arams,\x20wPo'+'s);\x0a}\x0a\x0afn\x20'+'normalOffs'+'etPointSha'+'dow(shadow'+'Params:\x20ve'+'c4f,\x20light'+'Pos:\x20vec3f'+',\x20lightDir'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'normal:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20let\x20wPo'+'s:\x20vec3f\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y\x20*\x20'+'clamp(1.0\x20'+'-\x20dot(norm'+'al,\x20-light'+'DirNorm),\x20'+'0.0,\x201.0)\x20'+'*\x20distScal'+'e;\x20//0.02\x0a'+'\x20\x20\x20\x20let\x20di'+'r:\x20vec3f\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0a\x20\x20\x20\x20'+'fn\x20getShad'+'owOmniClus'+'teredPCF1('+'shadowMap:'+'\x20texture_d'+'epth_2d,\x20s'+'hadowMapSa'+'mpler:\x20sam'+'pler_compa'+'rison,\x20sha'+'dowParams:'+('\x20vec4f,\x20om'+'niAtlasVie'+'wport:\x20vec'+'3f,\x20shadow'+'EdgePixels'+':\x20f32,\x20lig'+'htDir:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shad'+'owTextureR'+'esolution:'+'\x20f32\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowZ:\x20f'+'32\x20=\x20lengt'+'h(lightDir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv,'+'\x20shadowZ);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'wOmniClust'+'eredPCF3(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owParams:\x20'+'vec4f,\x20omn'+'iAtlasView'+'port:\x20vec3'+'f,\x20shadowE'+'dgePixels:'+'\x20f32,\x20ligh'+'tDir:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wTextureRe'+'solution:\x20'+'f32\x20=\x20shad'+'owParams.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20light'+'Dir);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadowZ:\x20f3'+'2\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w\x20+\x20'+'shadowPara'+'ms.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowCoord:'+'\x20vec3f\x20=\x20v'+'ec3f(uv,\x20s'+'hadowZ);\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF3x3('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowOmn'+'iClustered'+'PCF5(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20omniAtl'+'asViewport'+':\x20vec3f,\x20s'+'hadowEdgeP'+'ixels:\x20f32'+',\x20lightDir'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadowTex'+'tureResolu'+'tion:\x20f32\x20'+'=\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'uv:\x20vec2f\x20'+'=\x20getCubem'+'apAtlasCoo'+'rdinates(o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20shad'+'owTextureR'+'esolution,'+'\x20lightDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20vec3f'+'(uv,\x20shado'+'wZ);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CF5x5(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'#endif\x0a\x0a//'+'\x20Clustered'+'\x20Spot\x20Samp'+'ling\x20using'+'\x20atlas\x0a\x0a#i'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF1)\x0a\x0a\x20\x20\x20'+'\x20fn\x20getSha'+'dowSpotClu'+'steredPCF1'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu')+('rn\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Coord.z);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0a\x20\x20'+'\x20\x20fn\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'3x3(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF5)\x0a\x0a\x20'+'\x20\x20\x20fn\x20getS'+'hadowSpotC'+'lusteredPC'+'F5(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),gM='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0avar\x20clu'+'sterWorldT'+'exture:\x20te'+'xture_2d<f'+'32>;\x0avar\x20l'+'ightsTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x0a#ifdef\x20C'+'LUSTER_SHA'+'DOWS\x0a\x20\x20\x20\x20/'+'/\x20TODO:\x20wh'+'en\x20VSM\x20sha'+'dow\x20is\x20sup'+'ported,\x20it'+'\x20needs\x20to\x20'+'use\x20sample'+'r2D\x20in\x20web'+'gl2\x0a\x20\x20\x20\x20va'+'r\x20shadowAt'+'lasTexture'+':\x20texture_'+'depth_2d;\x0a'+'\x20\x20\x20\x20var\x20sh'+'adowAtlasT'+'extureSamp'+'ler:\x20sampl'+'er_compari'+'son;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'var\x20cookie'+'AtlasTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20c'+'ookieAtlas'+'TextureSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0auniform'+'\x20clusterMa'+'xCells:\x20i3'+'2;\x0a\x0a//\x201.0'+'\x20if\x20cluste'+'red\x20lighti'+'ng\x20can\x20be\x20'+'skipped\x20(0'+'\x20lights\x20in'+'\x20the\x20clust'+'ers)\x0aunifo'+'rm\x20cluster'+'Skip:\x20f32;'+'\x0a\x0auniform\x20'+'clusterCel'+'lsCountByB'+'oundsSize:'+'\x20vec3f;\x0aun'+'iform\x20clus'+'terTexture'+'Size:\x20vec3'+'f;\x0auniform'+'\x20clusterBo'+'undsMin:\x20v'+'ec3f;\x0aunif'+'orm\x20cluste'+'rBoundsDel'+'ta:\x20vec3f;'+'\x0auniform\x20c'+'lusterCell'+'sDot:\x20vec3'+'f;\x0auniform'+'\x20clusterCe'+'llsMax:\x20ve'+('c3f;\x0aunifo'+'rm\x20shadowA'+'tlasParams'+':\x20vec2f;\x0a\x0a'+'//\x20structu'+'re\x20storing'+'\x20light\x20pro'+'perties\x20of'+'\x20a\x20cluster'+'ed\x20light\x0a/'+'/\x20it\x27s\x20sor'+'ted\x20to\x20hav'+'e\x20all\x20vect'+'ors\x20aligne'+'d\x20to\x204\x20flo'+'ats\x20to\x20lim'+'it\x20padding'+'\x0astruct\x20Cl'+'usterLight'+'Data\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x2032bit'+'\x20of\x20flags\x0a'+'\x20\x20\x20\x20flags:'+'\x20u32,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfWidth:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20isSpot:\x20'+'bool,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfHeight:'+'\x20vec3f,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20index\x0a\x20\x20'+'\x20\x20lightInd'+'ex:\x20i32,\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x0a\x20\x20'+'\x20\x20position'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20sh'+'ape:\x20u32,\x0a'+'\x0a\x20\x20\x20\x20//\x20wo'+'rld\x20space\x20'+'direction\x20'+'(spot\x20ligh'+'t\x20only)\x0a\x20\x20'+'\x20\x20directio'+'n:\x20vec3f,\x0a'+'\x0a\x20\x20\x20\x20//\x20li'+'ght\x20follow'+'\x20mode\x0a\x20\x20\x20\x20'+'falloffMod'+'eLinear:\x20b'+'ool,\x0a\x0a\x20\x20\x20\x20'+'//\x20color\x0a\x20'+'\x20\x20\x20color:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20//\x200.0\x20i'+'f\x20the\x20ligh'+'t\x20doesn\x27t\x20'+'cast\x20shado'+'ws\x0a\x20\x20\x20\x20sha'+'dowIntensi'+'ty:\x20f32,\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20omniAtl'+'asViewport'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'range:\x20f32'+',\x0a\x0a\x20\x20\x20\x20//\x20'+'channel\x20ma'+'sk\x20-\x20one\x20o'+'f\x20the\x20chan'+'nels\x20has\x201'+',\x20the\x20othe')+('rs\x20are\x200\x0a\x20'+'\x20\x20\x20cookieC'+'hannelMask'+':\x20vec4f,\x0a\x0a'+'\x20\x20\x20\x20//\x20com'+'pressed\x20bi'+'ases,\x20two\x20'+'haf-floats'+'\x20stored\x20in'+'\x20a\x20float\x0a\x20'+'\x20\x20\x20biasesD'+'ata:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20bias\x20'+'values\x0a\x20\x20\x20'+'\x20shadowBia'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20shadowNo'+'rmalBias:\x20'+'f32,\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20a'+'nglesData:'+'\x20f32,\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20inner'+'\x20and\x20outer'+'\x20angle\x20cos'+'ine\x0a\x20\x20\x20\x20in'+'nerConeAng'+'leCos:\x20f32'+',\x0a\x20\x20\x20\x20oute'+'rConeAngle'+'Cos:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'tensity\x20of'+'\x20the\x20cooki'+'e\x0a\x20\x20\x20\x20cook'+'ieIntensit'+'y:\x20f32,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20mask\x0a\x20\x20\x20'+'\x20//float\x20m'+'ask;\x0a\x20\x20\x20\x20i'+'sDynamic:\x20'+'bool,\x0a\x20\x20\x20\x20'+'isLightmap'+'ped:\x20bool\x0a'+'}\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0av'+'ar<private'+'>\x20lightPro'+'jectionMat'+'rix:\x20mat4x'+'4f;\x0a\x0afn\x20sa'+'mpleLightT'+'extureF(li'+'ghtIndex:\x20'+'i32,\x20index'+':\x20i32)\x20->\x20')+('vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureLoad'+'(lightsTex'+'ture,\x20vec2'+'<i32>(inde'+'x,\x20lightIn'+'dex),\x200);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightCore(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>,\x20'+'lightIndex'+':\x20f32)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20index\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'lightIndex'+'\x20=\x20i32(lig'+'htIndex);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20data\x20'+'encoding\x20h'+'alf-float\x20'+'values\x20int'+'o\x2032bit\x20ui'+'nts\x0a\x20\x20\x20\x20le'+'t\x20halfData'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_COLO'+'R_ANGLES_B'+'IAS});\x0a\x0a\x20\x20'+'\x20\x20//\x20store'+'\x20floats\x20we'+'\x20decode\x20la'+'ter\x20as\x20nee'+'ded\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.angle'+'sData\x20=\x20ha'+'lfData.z;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.biasesDat'+'a\x20=\x20halfDa'+'ta.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20decomp'+'ress\x20color'+'\x20half-floa'+'ts\x0a\x20\x20\x20\x20let'+'\x20colorRG:\x20'+'vec2f\x20=\x20un'+'pack2x16fl'+'oat(bitcas'+'t<u32>(hal'+'fData.x));'+'\x0a\x20\x20\x20\x20let\x20c'+'olorB_:\x20ve'+'c2f\x20=\x20unpa'+'ck2x16floa'+'t(bitcast<'+'u32>(halfD'+'ata.y));\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'color\x20=\x20ve'+'c3f(colorR'+'G,\x20colorB_'+'.x)\x20*\x20{LIG'+'HT_COLOR_D'+'IVIDER};\x0a\x0a'+'\x20\x20\x20\x20//\x20pos'+'ition\x20and\x20'+'range,\x20ful'+'l\x20floats\x0a\x20'+'\x20\x20\x20let\x20lig'+'htPosRange'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_POSI'+'TION_RANGE'+'});\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.posit')+('ion\x20=\x20ligh'+'tPosRange.'+'xyz;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.rang'+'e\x20=\x20lightP'+'osRange.w;'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'pot\x20direct'+'ion\x20&\x20flag'+'s\x20data\x0a\x20\x20\x20'+'\x20let\x20light'+'Dir_Flags:'+'\x20vec4f\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData.ligh'+'tIndex,\x20{C'+'LUSTER_TEX'+'TURE_DIREC'+'TION_FLAGS'+'});\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20directi'+'on\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.direct'+'ion\x20=\x20ligh'+'tDir_Flags'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x2032bit\x20'+'flags\x0a\x20\x20\x20\x20'+'let\x20flags_'+'uint:\x20u32\x20'+'=\x20bitcast<'+'u32>(light'+'Dir_Flags.'+'w);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20flags_u'+'int;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.isSp'+'ot\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2030u)'+')\x20!=\x200u;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'shape\x20=\x20(f'+'lags_uint\x20'+'>>\x2028u)\x20&\x20'+'0x3u;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.fal'+'loffModeLi'+'near\x20=\x20(fl'+'ags_uint\x20&'+'\x20(1u\x20<<\x2027'+'u))\x20==\x200u;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.shadowIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x200'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x208'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.isDynami'+'c\x20=\x20(flags'+'_uint\x20&\x20(1'+'u\x20<<\x2022u))'+'\x20!=\x200u;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sLightmapp'+'ed\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2021u)'+')\x20!=\x200u;\x0a}'+'\x0a\x0afn\x20decod'+'eClusterLi'+'ghtSpot(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{')+('\x0a\x20\x20\x20\x20//\x20sp'+'ot\x20light\x20c'+'os\x20angles\x0a'+'\x20\x20\x20\x20let\x20an'+'gles:\x20vec2'+'f\x20=\x20unpack'+'2x16float('+'bitcast<u3'+'2>(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'OmniAtlasV'+'iewport(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.omniAtla'+'sViewport\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData.l'+'ightIndex,'+'\x20{CLUSTER_'+'TEXTURE_PR'+'OJ_MAT_0})'+'.xyz;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'AreaData(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>)\x20'+'{\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.halfWid'+'th\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a.lightInd'+'ex,\x20{CLUST'+'ER_TEXTURE'+'_AREA_DATA'+'_WIDTH}).x'+'yz;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.halfH'+'eight\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data.light'+'Index,\x20{CL'+'USTER_TEXT'+'URE_AREA_D'+'ATA_HEIGHT'+'}).xyz;\x0a}\x0a'+'\x0afn\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(cluster'+'LightData:'+'\x20ptr<funct'+'ion,\x20Clust'+'erLightDat'+'a>)\x20{\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'matrix\x0a\x20\x20\x20'+'\x20let\x20m0:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_0});\x0a\x20\x20\x20'+'\x20let\x20m1:\x20v')+('ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_1});\x0a\x20\x20\x20'+'\x20let\x20m2:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_2});\x0a\x20\x20\x20'+'\x20let\x20m3:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4x'+'4f(m0,\x20m1,'+'\x20m2,\x20m3);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightShadow'+'Data(clust'+'erLightDat'+'a:\x20ptr<fun'+'ction,\x20Clu'+'sterLightD'+'ata>)\x20{\x0a\x20\x20'+'\x20\x20//\x20shado'+'w\x20biases\x0a\x20'+'\x20\x20\x20let\x20bia'+'ses:\x20vec2f'+'\x20=\x20unpack2'+'x16float(b'+'itcast<u32'+'>(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'fn\x20decodeC'+'lusterLigh'+'tCookieDat'+'a(clusterL'+'ightData:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20extract'+'\x20channel\x20m'+'ask\x20from\x20f'+'lags\x0a\x20\x20\x20\x20l'+'et\x20cookieF'+'lags:\x20u32\x20'+'=\x20(cluster'+'LightData.'+'flags\x20>>\x202'+'3u)\x20&\x200x0F'+'u;\x20\x20//\x204bi'+'ts,\x20each\x20b'+'it\x20enables'+'\x20a\x20channel'+'\x0a\x20\x20\x20\x20let\x20m'+'ask_uvec:\x20'+'vec4<u32>\x20'+'=\x20vec4<u32'+'>(cookieFl'+'ags)\x20&\x20vec'+'4<u32>(1u,'+'\x202u,\x204u,\x208'+'u);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eChannelMa'+'sk\x20=\x20step('+'vec4f(1.0)')+(',\x20vec4f(ma'+'sk_uvec));'+'\x20//\x20Normal'+'ize\x20to\x200.0'+'\x20or\x201.0\x0a}\x0a'+'\x0afn\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20light:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>,\x0a\x20\x20\x20\x20wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20reflectio'+'nDir:\x20vec3'+'f,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20clearc'+'oatReflect'+'ionDir:\x20ve'+'c3f,\x0a#endi'+'f\x0a\x20\x20\x20\x20glos'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20specular'+'ity:\x20vec3f'+',\x0a\x20\x20\x20\x20geom'+'etricNorma'+'l:\x20vec3f,\x0a'+'\x20\x20\x20\x20tbn:\x20m'+'at3x3f,\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a#e'+'ndif\x0a\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20clearco'+'at_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20s'+'heen_gloss'+':\x20f32,\x0a\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty:\x20f32\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ve'+'c3f(1.0);\x0a'+'\x20\x20\x20\x20var\x20di'+'ffuseAtten'+'uation:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20var\x20fal'+'loffAttenu'+'ation:\x20f32'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20omni\x20'+'part\x20of\x20th'+'e\x20light\x0a\x20\x20'+'\x20\x20let\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(l'+'ight.posit'+'ion);\x0a\x20\x20\x20\x20'+'let\x20lightD'+'irNormW:\x20v'+'ec3f\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20')+('handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffL'+'inear(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20='+'\x20getFallof'+'fInvSquare'+'d(light.ra'+'nge,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20if'+'\x20(falloffA'+'ttenuation'+'\x20>\x200.00001'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_AR'+'EALIGHTS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20!=\x20{LI'+'GHTSHAPE_P'+'UNCTUAL})\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20='+'=\x20{LIGHTSH'+'APE_RECT})'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getRectLig'+'htDiffuse('+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'W,\x20lightDi'+'rNormW)\x20*\x20'+'16.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20diffuseAt'+'tenuation\x20'+'=\x20getDiskL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x20/'+'/\x20sphere\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getS'+'phereLight'+'Diffuse(wo'+'rldNormal,'+'\x20viewDir,\x20'+'lightDirW,'+'\x20lightDirN'+'ormW)\x20*\x2016'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNormW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.is'+'Spot)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'decodeClus'+'terLightSp'+'ot(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getSp'+'otEffect(l'+'ight.direc'+'tion,\x20ligh'+'t.innerCon'+'eAngleCos,'+'\x20light.out'+'erConeAngl'+'eCos,\x20ligh'+'tDirNormW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_COOKIES)\x20'+'||\x20defined'+'(CLUSTER_S'+'HADOWS)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'hadow\x20/\x20co')+('okie\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'dowIntensi'+'ty\x20>\x200.0\x20|'+'|\x20light.co'+'okieIntens'+'ity\x20>\x200.0)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20shared\x20'+'shadow\x20/\x20c'+'ookie\x20data'+'\x20depends\x20o'+'n\x20light\x20ty'+'pe\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.i'+'sSpot)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ecodeClust'+'erLightPro'+'jectionMat'+'rixData(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightO'+'mniAtlasVi'+'ewport(lig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'TextureRes'+'olution:\x20f'+'32\x20=\x20unifo'+'rm.shadowA'+'tlasParams'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'EdgePixels'+':\x20f32\x20=\x20un'+'iform.shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'cookieInte'+'nsity\x20>\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(light)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'!!!!!!!!!!'+'!\x20TEXTURE_'+'PASS\x20likel'+'y\x20needs\x20sa'+'mpler.\x20Ass'+'uming\x20cook'+'ieAtlasTex'+'tureSample'+'r\x20exists.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(cooki'+'eAtlasText'+'ure,\x20cooki'+'eAtlasText'+'ureSampler'+',\x20lightPro'+'jectionMat'+'rix,\x20vPosi'+'tionW,\x20lig')+('ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20!!!!!!!!'+'!!!\x20TEXTUR'+'E_PASS\x20lik'+'ely\x20needs\x20'+'sampler.\x20A'+'ssuming\x20co'+'okieAtlasT'+'extureSamp'+'ler\x20exists'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cook'+'ieAttenuat'+'ion\x20=\x20getC'+'ookieCubeC'+'lustered(c'+'ookieAtlas'+'Texture,\x20c'+'ookieAtlas'+'TextureSam'+'pler,\x20ligh'+'tDirW,\x20lig'+'ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask,\x20shado'+'wTextureRe'+'solution,\x20'+'shadowEdge'+'Pixels,\x20li'+'ght.omniAt'+'lasViewpor'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20CLUSTER_'+'SHADOWS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(light'+'.shadowInt'+'ensity\x20>\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightShadow'+'Data(light'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowParams'+':\x20vec4f\x20=\x20'+'vec4f(shad'+'owTextureR'+'esolution,'+'\x20light.sha'+'dowNormalB'+'ias,\x20light'+'.shadowBia'+'s,\x201.0\x20/\x20l'+'ight.range'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20shadowCo'+'ord:\x20vec3f'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat')+('rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20!!!!!'+'!!!!!!\x20SHA'+'DOWMAP_PAS'+'S\x20needs\x20te'+'xture\x20and\x20'+'sampler_co'+'mparison.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20!!!'+'!!!!!!!!\x20S'+'hadow\x20func'+'tions\x20need'+'\x20update\x20fo'+'r\x20WGSL\x20tex'+'tureSample'+'Compare\x20et'+'c.\x20Assumin'+'g\x20these\x20ar'+'e\x20handled\x20'+'in\x20include'+'s.\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'SpotCluste'+'redPCF1(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadow:\x20f32'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF3('+'shadowAtla'+'sTexture,\x20'+'shadowAtla'+'sTextureSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadow:\x20f'+'32\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'5(shadowAt'+'lasTexture'+',\x20shadowAt'+'lasTexture'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCSS)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l')+('et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CSS(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20mix('+'1.0,\x20shado'+'w,\x20light.s'+'hadowInten'+'sity);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20omni\x20'+'shadow\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalOffset'+'PointShado'+'w(shadowPa'+'rams,\x20ligh'+'t.position'+',\x20lightDir'+'W,\x20lightDi'+'rNormW,\x20ge'+'ometricNor'+'mal);\x20\x20//\x20'+'normalBias'+'\x20adjusted\x20'+'for\x20distan'+'ce\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20!!!!!!!!!'+'!!\x20SHADOWM'+'AP_PASS\x20ne'+'eds\x20textur'+'e\x20and\x20samp'+'ler_compar'+'ison.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20!!!!!!!'+'!!!!\x20Shado'+'w\x20function'+'s\x20need\x20upd'+'ate\x20for\x20WG'+'SL\x20texture'+'SampleComp'+'are\x20etc.\x20A'+'ssuming\x20th'+'ese\x20are\x20ha'+'ndled\x20in\x20i'+'ncludes.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowOmni'+'ClusteredP'+'CF1(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowPar'+'ams,\x20light'+'.omniAtlas'+'Viewport,\x20'+'shadowEdge'+'Pixels,\x20di'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20getSha'+'dowOmniClu'+'steredPCF3'+'(shadowAtl'+'asTexture,'+'\x20shadowAtl'+'asTextureS'+'ampler,\x20sh'+'adowParams'+',\x20light.om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'OmniCluste'+'redPCF5(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20areaDif'+'fuse:\x20vec3'+'f\x20=\x20(diffu'+'seAttenuat'+'ion\x20*\x20fall'+'offAttenua'+'tion)\x20*\x20li')+('ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaDi'+'ffuse\x20=\x20mi'+'x(areaDiff'+'use,\x20vec3f'+'(0.0),\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20diff'+'use\x20-\x20it\x20d'+'oes\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20areaDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20areaL'+'ightSpecul'+'ar:\x20f32;\x20/'+'/\x20Use\x20var\x20'+'because\x20as'+'signed\x20in\x20'+'if/else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_RECT'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getRe'+'ctLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(ligh'+'t.shape\x20=='+'\x20{LIGHTSHA'+'PE_DISK})\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getDiskL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x20//\x20sphere'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'Specular\x20='+'\x20getSphere'+'LightSpecu')+('lar(worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20dLTC'+'SpecFres\x20*'+'\x20areaLight'+'Specular\x20*'+'\x20falloffAt'+'tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sp'+'ecular\x20cle'+'ar\x20coat\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20areaLigh'+'tSpecularC'+'C:\x20f32;\x20//'+'\x20Use\x20var\x20b'+'ecause\x20ass'+'igned\x20in\x20i'+'f/else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20==\x20{LI'+'GHTSHAPE_R'+'ECT})\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getRec'+'tLightSpec'+'ular(clear'+'coat_world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecularCC\x20='+'\x20getDiskLi'+'ghtSpecula'+'r(clearcoa'+'t_worldNor'+'mal,\x20viewD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20{\x20//\x20sph'+'ere\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getSphereL'+'ightSpecul'+'ar(clearco'+'at_worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'cSpecularL'+'ight\x20=\x20ccS'+'pecularLig'+'ht\x20+\x20ccLTC'+'SpecFres\x20*'+'\x20areaLight'+'SpecularCC'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20\x20*\x20c'+'ookieAtten')+('uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20punctual'+'\x20light\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20p'+'unctualDif'+'fuse:\x20vec3'+'f\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_AREAL'+'IGHTS)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'unctualDif'+'fuse\x20=\x20mix'+'(punctualD'+'iffuse,\x20ve'+'c3f(0.0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20dDiffus'+'eLight\x20+\x20p'+'unctualDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Dir:\x20vec3f'+'\x20=\x20normali'+'ze(-lightD'+'irNormW\x20+\x20'+'viewDir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR_FRESN'+'EL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20=\x20'+'dSpecularL'+'ight\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD')+('ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20halfD'+'ir),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'=\x20ccSpecul'+'arLight\x20+\x20'+'getLightSp'+'ecular(hal'+'fDir,\x20clea'+'rcoatRefle'+'ctionDir,\x20'+'clearcoat_'+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'NormW,\x20cle'+'arcoat_glo'+'ss,\x20tbn)\x20*'+'\x20falloffAt')+('tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion\x20*\x20getF'+'resnelCC(d'+'ot(viewDir'+',\x20halfDir)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20='+'\x20ccSpecula'+'rLight\x20+\x20g'+'etLightSpe'+'cular(half'+'Dir,\x20clear'+'coatReflec'+'tionDir,\x20c'+'learcoat_w'+'orldNormal'+',\x20viewDir,'+'\x20lightDirN'+'ormW,\x20clea'+'rcoat_glos'+'s,\x20tbn)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'+\x20getLight'+'SpecularSh'+'een(halfDi'+'r,\x20worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'sheen_glos'+'s)\x20*\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20'+'cookieAtte'+'nuation;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20Writ'+'e\x20to\x20globa'+'l\x20attenuat'+'ion\x20values'+'\x20(for\x20ligh'+'tmapper)\x0a\x20'+'\x20\x20\x20dAtten\x20'+'=\x20falloffA'+'ttenuation'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20lightDi'+'rNormW;\x0a}\x0a'+'\x0a\x0afn\x20evalu'+'ateCluster'+'Light(\x0a\x20\x20\x20'+'\x20lightInde'+'x:\x20f32,\x0a\x20\x20'+'\x20\x20worldNor'+'mal:\x20vec3f'+',\x0a\x20\x20\x20\x20view'+'Dir:\x20vec3f'+',\x0a\x20\x20\x20\x20refl'+'ectionDir:'+'\x20vec3f,\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20c'+'learcoatRe'+'flectionDi'+'r:\x20vec3f,\x0a'+'#endif\x0a\x20\x20\x20')+('\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20geometric'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20t'+'bn:\x20mat3x3'+'f,\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20clearc'+'oat_worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20cl'+'earcoat_gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20sheen_'+'gloss:\x20f32'+',\x0a\x20\x20\x20\x20irid'+'escence_in'+'tensity:\x20f'+'32\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr'+'om\x20texture'+'s\x0a\x20\x20\x20\x20var\x20'+'clusterLig'+'htData:\x20Cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(&cluste'+'rLightData'+',\x20lightInd'+'ex);\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20light\x20if'+'\x20it\x20uses\x20a'+'ccepted\x20li'+'ght\x20mask\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'acceptLigh'+'tMask:\x20boo'+'l\x20=\x20cluste'+'rLightData'+'.isDynamic'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20accept'+'LightMask:'+'\x20bool\x20=\x20cl'+'usterLight'+'Data.isLig'+'htmapped;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'acceptLigh'+'tMask)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20eva'+'luateLight'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20&clust'+'erLightDat'+'a,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'viewDir,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20reflectio'+'nDir,\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20geometri'+'cNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20tbn,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE')+('NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'sheen_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a\x0a\x0afn'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20world'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20v'+'iewDir:\x20ve'+'c3f,\x0a\x20\x20\x20\x20r'+'eflectionD'+'ir:\x20vec3f,'+'\x0a#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20clearcoa'+'tReflectio'+'nDir:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'specularit'+'y:\x20vec3f,\x0a'+'\x20\x20\x20\x20geomet'+'ricNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20tbn:\x20mat'+'3x3f,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a#end'+'if\x0a\x20\x20\x20\x20cle'+'arcoat_wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20clearcoat'+'_gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20she'+'en_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20i'+'ridescence'+'_intensity'+':\x20f32\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20sk'+'ip\x20lights\x20'+'if\x20no\x20ligh'+'ts\x20at\x20all\x0a'+'\x20\x20\x20\x20if\x20(un'+'iform.clus'+'terSkip\x20>\x20'+'0.5)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x20to'+'\x203d\x20intege'+'r\x20cell\x20cor'+'dinates\x20in'+'\x20the\x20clust'+'er\x20structu'+'re\x0a\x20\x20\x20\x20let'+'\x20cellCoord'+'s:\x20vec3f\x20='+'\x20floor((vP'+'ositionW\x20-'+'\x20uniform.c'+'lusterBoun'+'dsMin)\x20*\x20u'+'niform.clu'+'sterCellsC'+'ountByBoun'+'dsSize);\x0a\x0a'+'\x20\x20\x20\x20//\x20no\x20'+'lighting\x20w'+'hen\x20cell\x20c'+'oordinate\x20'+'is\x20out\x20of\x20'+'range\x0a\x20\x20\x20\x20'+'if\x20(!(any('+'cellCoords')+('\x20<\x20vec3f(0'+'.0))\x20||\x20an'+'y(cellCoor'+'ds\x20>=\x20unif'+'orm.cluste'+'rCellsMax)'+'))\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cel'+'l\x20index\x20(m'+'apping\x20fro'+'m\x203d\x20cell\x20'+'coordinate'+'s\x20to\x20linea'+'r\x20memory)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20cellInde'+'x:\x20f32\x20=\x20d'+'ot(uniform'+'.clusterCe'+'llsDot,\x20ce'+'llCoords);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20convert'+'\x20cell\x20inde'+'x\x20to\x20uv\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20clusterV'+':\x20f32\x20=\x20fl'+'oor(cellIn'+'dex\x20*\x20unif'+'orm.cluste'+'rTextureSi'+'ze.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20c'+'lusterU:\x20f'+'32\x20=\x20cellI'+'ndex\x20-\x20(cl'+'usterV\x20*\x20u'+'niform.clu'+'sterTextur'+'eSize.x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20loop\x20ove'+'r\x20maximum\x20'+'number\x20of\x20'+'light\x20cell'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(var\x20l'+'ightCellIn'+'dex:\x20i32\x20='+'\x200;\x20lightC'+'ellIndex\x20<'+'\x20uniform.c'+'lusterMaxC'+'ells;\x20ligh'+'tCellIndex'+'\x20=\x20lightCe'+'llIndex\x20+\x20'+'1)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20using\x20a\x20s'+'ingle\x20chan'+'nel\x20textur'+'e\x20with\x20dat'+'a\x20in\x20red\x20c'+'hannel\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20lightIn'+'dexPacked:'+'\x20f32\x20=\x20tex'+'tureLoad(c'+'lusterWorl'+'dTexture,\x20'+'vec2<i32>('+'i32(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20i32(clus'+'terV)),\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(lightInde'+'xPacked\x20<='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20break;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndexPack'+'ed\x20*\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20vie'+'wDir,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'eometricNo'+'rmal,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20clearc'+'oat_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a}'),SM='\x0afn\x20combin'+'eColor(alb'+'edo:\x20vec3f'+',\x20sheenSpe'+'cularity:\x20'+'vec3f,\x20cle'+'arcoatSpec'+'ularity:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20ret:\x20ve'+'c3f\x20=\x20vec3'+'f(0.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ret\x20=\x20'+'ret\x20+\x20((dD'+'iffuseLigh'+'t\x20-\x20unifor'+'m.light_gl'+'obalAmbien'+'t)\x20*\x20albed'+'o\x20+\x20unifor'+'m.material'+'_ambient\x20*'+'\x20uniform.l'+'ight_globa'+'lAmbient);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(albedo\x20*'+'\x20dDiffuseL'+'ight);\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_OLD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20dSpecular'+'Light;\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(dReflect'+'ion.rgb\x20*\x20'+'dReflectio'+'n.a);\x0a\x20\x20\x20\x20'+'#endif\x20//\x20'+'LIT_REFLEC'+'TIONS\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'sheenScali'+'ng:\x20f32\x20=\x20'+'1.0\x20-\x20max('+'max(sheenS'+'pecularity'+'.r,\x20sheenS'+'pecularity'+'.g),\x20sheen'+'Specularit'+'y.b)\x20*\x200.1'+'57;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20sheenS'+'caling\x20+\x20('+'sSpecularL'+'ight\x20+\x20sRe'+'flection.r'+'gb)\x20*\x20shee'+'nSpeculari'+'ty;\x0a\x20\x20\x20\x20#e'+'ndif\x20//\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20clear'+'CoatScalin'+'g:\x20f32\x20=\x201'+'.0\x20-\x20ccFre'+'snel\x20*\x20cle'+'arcoatSpec'+'ularity;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'\x20=\x20ret\x20*\x20c'+'learCoatSc'+'aling\x20+\x20(c'+'cSpecularL'+'ight\x20+\x20ccR'+'eflection)'+('\x20*\x20clearco'+'atSpecular'+'ity;\x0a\x20\x20\x20\x20#'+'endif\x20//\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20re'+'turn\x20ret;\x0a'+'}\x0a'),yM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x0a\x20\x20\x20\x20'+'var\x20blitTe'+'xture:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20blitText'+'ureSampler'+'\x20:\x20sampler'+';\x0a\x0a\x20\x20\x20\x20@fr'+'agment\x0a\x20\x20\x20'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20t'+'extureSamp'+'le(blitTex'+'ture,\x20blit'+'TextureSam'+'pler,\x20inpu'+'t.uv0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20}\x0a',vM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20u'+'niform\x20inv'+'ViewProj:\x20'+'mat4x4<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'re:\x20textur'+'e_cube<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'reSampler\x20'+':\x20sampler;'+'\x0a\x0a\x20\x20\x20\x20@fra'+'gment\x0a\x20\x20\x20\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20pro'+'jPos\x20=\x20vec'+'4f(input.u'+'v0\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20w'+'orldPos\x20=\x20'+'uniform.in'+'vViewProj\x20'+'*\x20projPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20textur'+'eSample(bl'+'itTexture,'+'\x20blitTextu'+'reSampler,'+'\x20worldPos.'+'xyz);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20}\x0a',xM='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.uv0.y'+'\x20=\x201.0\x20-\x20o'+'utput.uv0.'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',TM='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMin:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMax:\x20v'+'ec3f;\x0a#end'+'if\x0a\x0afn\x20cub'+'eMapProjec'+'t(nrdir:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20cubeMapR'+'otate(nrdi'+'r);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIT_CU'+'BEMAP_PROJ'+'ECTION\x20==\x20'+'BOX\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20nrd'+'ir_rotated'+':\x20vec3f\x20=\x20'+'cubeMapRot'+'ate(nrdir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20rbmax'+':\x20vec3f\x20=\x20'+'(uniform.e'+'nvBoxMax\x20-'+'\x20vPosition'+'W)\x20/\x20nrdir'+'_rotated;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20rbmin:\x20v'+'ec3f\x20=\x20(un'+'iform.envB'+'oxMin\x20-\x20vP'+'ositionW)\x20'+'/\x20nrdir_ro'+'tated;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'rbminmax:\x20'+'vec3f\x20=\x20se'+'lect(rbmin'+',\x20rbmax,\x20n'+'rdir_rotat'+'ed\x20>\x20vec3f'+'(0.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'fa:\x20f32\x20=\x20'+'min(min(rb'+'minmax.x,\x20'+'rbminmax.y'+'),\x20rbminma'+'x.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20p'+'osonbox:\x20v'+'ec3f\x20=\x20vPo'+'sitionW\x20+\x20'+'nrdir_rota'+'ted\x20*\x20fa;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20envBoxPo'+'s:\x20vec3f\x20='+'\x20(uniform.'+'envBoxMin\x20'+'+\x20uniform.'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20normali'+'ze(posonbo'+'x\x20-\x20envBox'+'Pos);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',wM='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20cubeMap'+'RotationMa'+'trix:\x20mat3'+'x3f;\x0a#endi'+'f\x0a\x0afn\x20cube'+'MapRotate('+'refDir:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a#ifd'+'ef\x20CUBEMAP'+'_ROTATION\x0a'+'\x20\x20\x20\x20return'+'\x20refDir\x20*\x20'+'uniform.cu'+'beMapRotat'+'ionMatrix;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir;\x0a#end'+'if\x0a}\x0a',EM='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0aoutp'+'ut.color\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0aoutput.co'+'lor\x20=\x20vec4'+'f(litArgs_'+'albedo\x20,\x201'+'.0);\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'DEBUG_WORL'+'D_NORMAL_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(litAr'+'gs_worldNo'+'rmal\x20*\x200.5'+'\x20+\x200.5,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_OPACI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_opacity'+')\x20,\x201.0);\x0a'+'#endif\x0a\x0a#i'+'fdef\x20DEBUG'+'_SPECULARI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(l'+'itArgs_spe'+'cularity,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_GLO'+'SS_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_gloss)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_M'+'ETALNESS_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(vec3f'+'(litArgs_m'+'etalness)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_A'+'O_PASS\x0aout'+'put.color\x20'+'=\x20vec4f(ve'+'c3f(litArg'+'s_ao)\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_EMISS'+'ION_PASS\x0ao'+'utput.colo'+'r\x20=\x20vec4f('+'gammaCorre'+'ctOutput(l'+'itArgs_emi'+'ssion),\x201.'+'0);\x0a#endif'+'\x0a',bM='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0a\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20v'+'ec3f(0.5);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0a#ifdef\x20VA'+'RYING_VUV0'+'\x0a\x20\x20\x20\x20litAr'+'gs_albedo\x20'+'=\x20vec3f(vU'+'v0,\x200.0);\x0a'+'#else\x0a\x20\x20\x20\x20'+'litArgs_al'+'bedo\x20=\x20vec'+'3f(0.0);\x0a#'+'endif\x0a#end'+'if\x0a',AM='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0afn\x20de'+'codeLinear'+'(raw:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20raw.r'+'gb;\x0a}\x0a\x0afn\x20'+'decodeGamm'+'aFloat(raw'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20pow'+'(raw,\x202.2)'+';\x0a}\x0a\x0afn\x20de'+'codeGamma3'+'(raw:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(r'+'aw,\x20vec3f('+'2.2));\x0a}\x0a\x0a'+'fn\x20decodeG'+'amma(raw:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow(raw.xyz'+',\x20vec3f(2.'+'2));\x0a}\x0a\x0afn'+'\x20decodeRGB'+'M(raw:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20color\x20='+'\x20(8.0\x20*\x20ra'+'w.a)\x20*\x20raw'+'.rgb;\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0afn\x20de'+'codeRGBP(r'+'aw:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20ra'+'w.rgb\x20*\x20(-'+'raw.a\x20*\x207.'+'0\x20+\x208.0);\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0af'+'n\x20decodeRG'+'BE(raw:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(vec3f('+'0.0),\x20raw.'+'xyz\x20*\x20pow('+'2.0,\x20raw.w'+'\x20*\x20255.0\x20-'+'\x20128.0),\x20r'+'aw.a\x20!=\x200.'+'0);\x0a}\x0a\x0afn\x20'+'passThroug'+'h(raw:\x20vec'+'4f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw;'+'\x0a}\x0a\x0afn\x20unp'+'ackNormalX'+'YZ(nmap:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20nm'+'ap.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'}\x0a\x0afn\x20unpa'+'ckNormalXY'+'(nmap:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20xy\x20=\x20nm'+'ap.wy\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'vec3f(xy,\x20'+'sqrt(1.0\x20-'+'\x20clamp(dot'+'(xy,\x20xy),\x20'+'0.0,\x201.0))'+');\x0a}\x0a\x0a#end'+'if\x0a',CM='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0afn\x20de'+'tailMode_m'+'ul(c1:\x20vec'+'3f,\x20c2:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20c1\x20'+'*\x20c2;\x0a}\x0a\x0af'+'n\x20detailMo'+'de_add(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20c1\x20+\x20c2;\x0a'+'}\x0a\x0a//\x20http'+'s://en.wik'+'ipedia.org'+'/wiki/Blen'+'d_modes#Sc'+'reen\x0afn\x20de'+'tailMode_s'+'creen(c1:\x20'+'vec3f,\x20c2:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'1.0\x20-\x20(1.0'+'\x20-\x20c1)*(1.'+'0\x20-\x20c2);\x0a}'+'\x0a\x0a//\x20https'+'://en.wiki'+'pedia.org/'+'wiki/Blend'+'_modes#Ove'+'rlay\x0afn\x20de'+'tailMode_o'+'verlay(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20mix(1.0\x20-'+'\x202.0\x20*\x20(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0\x20*\x20c1\x20*'+'\x20c2,\x20step('+'c1,\x20vec3f('+'0.5)));\x0a}\x0a'+'\x0afn\x20detail'+'Mode_min(c'+'1:\x20vec3f,\x20'+'c2:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20min(c1,'+'\x20c2);\x0a}\x0a\x0af'+'n\x20detailMo'+'de_max(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(c1,\x20c'+'2);\x0a}\x0a\x0a#en'+'dif\x0a',PM='\x0auniform\x20m'+'aterial_di'+'ffuse:\x20vec'+'3f;\x0a\x0a#ifde'+'f\x20STD_DIFF'+'USEDETAIL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22detailMo'+'desPS\x22\x0a#en'+'dif\x0a\x0afn\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20unif'+'orm.materi'+'al_diffuse'+'.rgb;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoText'+'ure:\x20vec3f'+'\x20=\x20{STD_DI'+'FFUSE_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_DIFFU'+'SE_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'_TEXTURE_N'+'AME}Sample'+'r,\x20{STD_DI'+'FFUSE_TEXT'+'URE_UV},\x20u'+'niform.tex'+'tureBias))'+'.{STD_DIFF'+'USE_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoDeta'+'il:\x20vec3f\x20'+'=\x20{STD_DIF'+'FUSEDETAIL'+'_TEXTURE_D'+'ECODE}(tex'+'tureSample'+'Bias({STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_NAME},\x20{'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_DIFFU'+'SEDETAIL_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20=\x20dAlbe'+'do\x20*\x20albed'+'oTexture;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_DIF'+'FUSE_VERTE'+'X\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAlbedo\x20=\x20'+'dAlbedo\x20*\x20'+'gammaCorre'+'ctInputVec'+'3(saturate'+'3(vVertexC'+'olor.{STD_'+('DIFFUSE_VE'+'RTEX_CHANN'+'EL}));\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),MM='\x0auniform\x20m'+'aterial_em'+'issive:\x20ve'+'c3f;\x0aunifo'+'rm\x20materia'+'l_emissive'+'Intensity:'+'\x20f32;\x0a\x0afn\x20'+'getEmissio'+'n()\x20{\x0a\x20\x20\x20\x20'+'dEmission\x20'+'=\x20uniform.'+'material_e'+'missive\x20*\x20'+'uniform.ma'+'terial_emi'+'ssiveInten'+'sity;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_EMISSIVE'+'_TEXTURE\x0a\x20'+'\x20\x20\x20dEmissi'+'on\x20*=\x20{STD'+'_EMISSIVE_'+'TEXTURE_DE'+'CODE}(text'+'ureSampleB'+'ias({STD_E'+'MISSIVE_TE'+'XTURE_NAME'+'},\x20{STD_EM'+'ISSIVE_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_EMISSI'+'VE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias)).{S'+'TD_EMISSIV'+'E_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_VERT'+'EX\x0a\x20\x20\x20\x20dEm'+'ission\x20=\x20d'+'Emission\x20*'+'\x20gammaCorr'+'ectInputVe'+'c3(saturat'+'e3(vVertex'+'Color.{STD'+'_EMISSIVE_'+'VERTEX_CHA'+'NNEL}));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',DM='\x0afn\x20encode'+'Linear(sou'+'rce:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'source,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeGamm'+'a(source:\x20'+'vec3f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4f(pow(s'+'ource\x20+\x20ve'+'c3f(0.0000'+'001),\x20vec3'+'f(1.0\x20/\x202.'+'2)),\x201.0);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBM(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+'r\x20color:\x20v'+'ec3f\x20=\x20pow'+'(source,\x20v'+'ec3f(0.5))'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x201.0\x20/'+'\x208.0;\x0a\x0a\x20\x20\x20'+'\x20var\x20a:\x20f3'+'2\x20=\x20satura'+'te(max(max'+'(color.r,\x20'+'color.g),\x20'+'max(color.'+'b,\x201.0\x20/\x202'+'55.0)));\x0a\x20'+'\x20\x20\x20a\x20=\x20cei'+'l(a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20col'+'or\x20/=\x20a;\x0a\x20'+'\x20\x20\x20return\x20'+'vec4f(colo'+'r,\x20a);\x0a}\x0a\x0a'+'fn\x20encodeR'+'GBP(source'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20//\x20con'+'vert\x20incom'+'ing\x20linear'+'\x20to\x20gamma('+'ish)\x0a\x20\x20\x20\x20v'+'ar\x20gamma:\x20'+'vec3f\x20=\x20po'+'w(source,\x20'+'vec3f(0.5)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20the\x20maxim'+'um\x20compone'+'nt\x20clamped'+'\x20to\x201..8\x0a\x20'+'\x20\x20\x20var\x20max'+'Val:\x20f32\x20='+'\x20min(8.0,\x20'+'max(1.0,\x20m'+'ax(gamma.x'+',\x20max(gamm'+'a.y,\x20gamma'+'.z))));\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20stor'+'age\x20factor'+'\x0a\x20\x20\x20\x20var\x20v'+':\x20f32\x20=\x201.'+'0\x20-\x20((maxV'+'al\x20-\x201.0)\x20'+'/\x207.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20roun'+'d\x20the\x20valu'+'e\x20for\x20stor'+'age\x20in\x208bi'+'t\x20channel\x0a'+'\x20\x20\x20\x20v\x20=\x20ce'+'il(v\x20*\x20255'+'.0)\x20/\x20255.'+'0;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(gamma\x20/\x20('+'-v\x20*\x207.0\x20+'+'\x208.0),\x20v);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBE(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+('r\x20maxVal:\x20'+'f32\x20=\x20max('+'source.x,\x20'+'max(source'+'.y,\x20source'+'.z));\x0a\x20\x20\x20\x20'+'if\x20(maxVal'+'\x20<\x201e-32)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+':\x20f32\x20=\x20ce'+'il(log2(ma'+'xVal));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(s'+'ource\x20/\x20po'+'w(2.0,\x20e),'+'\x20(e\x20+\x20128.'+'0)\x20/\x20255.0'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a'),IM='\x0a\x20\x20\x20\x20var\x20f'+'inalRgb:\x20v'+'ec3f\x20=\x20com'+'bineColor('+'litArgs_al'+'bedo,\x20litA'+'rgs_sheen_'+'specularit'+'y,\x20litArgs'+'_clearcoat'+'_speculari'+'ty);\x0a\x0a\x20\x20\x20\x20'+'finalRgb\x20='+'\x20finalRgb\x20'+'+\x20litArgs_'+'emission;\x0a'+'\x20\x20\x20\x20finalR'+'gb\x20=\x20addFo'+'g(finalRgb'+');\x0a\x20\x20\x20\x20fin'+'alRgb\x20=\x20to'+'neMap(fina'+'lRgb);\x0a\x20\x20\x20'+'\x20finalRgb\x20'+'=\x20gammaCor'+'rectOutput'+'(finalRgb)'+';\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(fin'+'alRgb,\x20out'+'put.color.'+'a);\x0a',LM='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20atla'+'sSize\x20:\x20f3'+'2\x20=\x20512.0;'+'\x0aconst\x20sea'+'mSize\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0afn\x20mapU'+'v(uv\x20:\x20vec'+'2f,\x20rect\x20:'+'\x20vec4f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec2f(mix('+'rect.x\x20+\x20s'+'eamSize,\x20r'+'ect.x\x20+\x20re'+'ct.z\x20-\x20sea'+'mSize,\x20uv.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20mix(rect.'+'y\x20+\x20seamSi'+'ze,\x20rect.y'+'\x20+\x20rect.w\x20'+'-\x20seamSize'+',\x20uv.y));\x0a'+'}\x0a\x0a//\x20map\x20'+'a\x20normaliz'+'ed\x20equirec'+'t\x20UV\x20and\x20r'+'oughness\x20l'+'evel\x20to\x20th'+'e\x20correct\x20'+'atlas\x20rect'+'.\x0afn\x20mapRo'+'ughnessUv('+'uv\x20:\x20vec2f'+',\x20level\x20:\x20'+'f32)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20t\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'exp2(level'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mapUv('+'uv,\x20vec4f('+'0.0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0afn\x20mapS'+'hinyUv(uv\x20'+':\x20vec2f,\x20l'+'evel\x20:\x20f32'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20t\x20:\x20f32\x20='+'\x201.0\x20/\x20exp'+'2(level);\x0a'+'\x20\x20\x20\x20return'+'\x20mapUv(uv,'+'\x20vec4f(1.0'+'\x20-\x20t,\x201.0\x20'+'-\x20t,\x20t,\x20t\x20'+'*\x200.5));\x0a}'+'\x0a\x0a#endif\x0a',RM='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20skyboxInt'+'ensity\x20:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20proce'+'ssEnvironm'+'ent(color\x20'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20unifo'+'rm.skyboxI'+'ntensity;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',OM='\x0afn\x20getFal'+'loffWindow'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20sqrDist'+':\x20f32\x20=\x20do'+'t(lightDir'+',\x20lightDir'+');\x0a\x20\x20\x20\x20let'+'\x20invRadius'+':\x20f32\x20=\x201.'+'0\x20/\x20lightR'+'adius;\x0a\x20\x20\x20'+'\x20return\x20sq'+'uare(satur'+'ate(1.0\x20-\x20'+'square(sqr'+'Dist\x20*\x20squ'+'are(invRad'+'ius))));\x0a}'+'\x0a\x0afn\x20getFa'+'lloffInvSq'+'uared(ligh'+'tRadius:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20sq'+'rDist:\x20f32'+'\x20=\x20dot(lig'+'htDir,\x20lig'+'htDir);\x0a\x20\x20'+'\x20\x20var\x20fall'+'off:\x20f32\x20='+'\x201.0\x20/\x20(sq'+'rDist\x20+\x201.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20invRadiu'+'s:\x20f32\x20=\x201'+'.0\x20/\x20light'+'Radius;\x0a\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x20square('+'saturate(1'+'.0\x20-\x20squar'+'e(sqrDist\x20'+'*\x20square(i'+'nvRadius))'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20fall'+'off;\x0a}\x0a',FM='\x0afn\x20getFal'+'loffLinear'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20length(l'+'ightDir);\x0a'+'\x20\x20\x20\x20return'+'\x20max(((lig'+'htRadius\x20-'+'\x20d)\x20/\x20ligh'+'tRadius),\x20'+'0.0);\x0a}\x0a',NM='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x20re'+'presentati'+'on\x20(0.0-1.'+'0\x20range)\x0af'+'n\x20float2ui'+'nt(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20intBit'+'s\x20=\x20bitcas'+'t<u32>(val'+'ue);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20f32((intB'+'its\x20>>\x2024u'+')\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((intBi'+'ts\x20>>\x2016u)'+'\x20&\x200xffu),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((intBit'+'s\x20>>\x208u)\x20&'+'\x200xffu),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20f32'+'(intBits\x20&'+'\x200xffu)\x0a\x20\x20'+'\x20\x20)\x20/\x20255.'+'0;\x0a}\x0a\x0a//\x20d'+'ecode\x20RGBA'+'8\x20value\x20to'+'\x20float\x0afn\x20'+'uint2float'+'(value:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20rgba_u32'+'\x20=\x20vec4<u3'+'2>(value\x20*'+'\x20255.0);\x0a\x20'+'\x20\x20\x20let\x20int'+'Bits:\x20u32\x20'+'=\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'r\x20<<\x2024u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'g\x20<<\x2016u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'b\x20<<\x208u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20rgba_u32.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20bitcas'+'t<f32>(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0af'+'n\x20float2ve'+'c4(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CAPS_TEX'+'TURE_FLOAT'+'_RENDERABL'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(value,'+'\x201.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20float2ui'+'nt(value);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#endi'+'f\x20//\x20FLOAT'+'_AS_UINT\x0a',kM='\x0a\x0avar<priv'+'ate>\x20dBlen'+'dModeFogFa'+'ctor\x20:\x20f32'+'\x20=\x201.0;\x0a\x0a#'+'if\x20(FOG\x20!='+'\x20NONE)\x0a\x20\x20\x20'+'\x20uniform\x20f'+'og_color\x20:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20fog_sta'+'rt\x20:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20fog_'+'end\x20:\x20f32;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20fog'+'_density\x20:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afn\x20ge'+'tFogFactor'+'()\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20depth\x20=\x20p'+'cPosition.'+'z\x20/\x20pcPosi'+'tion.w;\x0a\x0a\x20'+'\x20\x20\x20var\x20fog'+'Factor\x20:\x20f'+'32\x20=\x200.0;\x0a'+'\x0a\x20\x20\x20\x20#if\x20('+'FOG\x20==\x20LIN'+'EAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20(unif'+'orm.fog_en'+'d\x20-\x20depth)'+'\x20/\x20(unifor'+'m.fog_end\x20'+'-\x20uniform.'+'fog_start)'+';\x0a\x20\x20\x20\x20#eli'+'f\x20(FOG\x20==\x20'+'EXP)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20exp(-'+'depth\x20*\x20un'+'iform.fog_'+'density);\x0a'+'\x20\x20\x20\x20#elif\x20'+'(FOG\x20==\x20EX'+'P2)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fogFacto'+'r\x20=\x20exp(-d'+'epth\x20*\x20dep'+'th\x20*\x20unifo'+'rm.fog_den'+'sity\x20*\x20uni'+'form.fog_d'+'ensity);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(fo'+'gFactor,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0afn\x20addF'+'og(color\x20:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'uniform.fo'+'g_color\x20*\x20'+'dBlendMode'+'FogFactor,'+'\x20color,\x20ge'+'tFogFactor'+'());\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'color;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',UM='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0afn'+'\x20getFresne'+'l(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20cosTheta:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y:\x20f32\x0a\x20\x20\x20'+'\x20#endif\x0a)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20f'+'resnel:\x20f3'+'2\x20=\x20pow(1.'+'0\x20-\x20satura'+'te(cosThet'+'a),\x205.0);\x0a'+'\x20\x20\x20\x20let\x20gl'+'ossSq:\x20f32'+'\x20=\x20gloss\x20*'+'\x20gloss;\x0a\x20\x20'+'\x20\x20let\x20ret:'+'\x20vec3f\x20=\x20s'+'pecularity'+'\x20+\x20(max(ve'+'c3f(glossS'+'q),\x20specul'+'arity)\x20-\x20s'+'pecularity'+')\x20*\x20fresne'+'l;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20mix(ret,'+'\x20iridescen'+'ceFresnel,'+'\x20iridescen'+'ceIntensit'+'y);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20r'+'et;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0afn'+'\x20getFresne'+'lCC(cosThe'+'ta:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20fres'+'nel:\x20f32\x20='+'\x20pow(1.0\x20-'+'\x20saturate('+'cosTheta),'+'\x205.0);\x0a\x20\x20\x20'+'\x20return\x200.'+'04\x20+\x20(1.0\x20'+'-\x200.04)\x20*\x20'+'fresnel;\x0a}',BM='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x0avary'+'ing\x20vUv0:\x20'+'vec2f;\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4f(inpu'+'t.vertex_p'+'osition,\x200'+'.5,\x201.0);\x0a'+'\x20\x20\x20\x20output'+'.vUv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x20vec2f(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',zM='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInput(c'+'olor:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGammaFloa'+'t(color);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20fn\x20gammaC'+'orrectInpu'+'tVec3(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20deco'+'deGamma3(c'+'olor);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInputVe'+'c4(color:\x20'+'vec4f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(d'+'ecodeGamma'+'3(color.xy'+'z),\x20color.'+'w);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Output(col'+'or:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20pow'+'(color\x20+\x200'+'.0000001,\x20'+'vec3f(1.0\x20'+'/\x202.2));\x0a\x20'+'\x20\x20\x20}\x0a\x0a#els'+'e\x20//\x20NONE\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Input(colo'+'r:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20gammaCo'+'rrectInput'+'Vec3(color'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20gamm'+'aCorrectIn'+'putVec4(co'+'lor:\x20vec4f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20g'+'ammaCorrec'+'tOutput(co'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a',VM='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_gl'+'oss:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getGlossi'+'ness()\x20{\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_GL'+'OSS_CONSTA'+'NT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20unifo'+'rm.materia'+'l_gloss;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_GLOS'+'S_TEXTURE\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x20dG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_GLOSS'+'_TEXTURE_N'+'AME},\x20{STD'+'_GLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_GLOSS_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_GLOSS_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_I'+'NVERT\x0a\x20\x20\x20\x20'+'dGlossines'+'s\x20=\x201.0\x20-\x20'+'dGlossines'+'s;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20d'+'Glossiness'+'\x20=\x20dGlossi'+'ness\x20+\x200.0'+'000001;\x0a}\x0a',GM='\x0auniform\x20m'+'atrix_mode'+'l:\x20mat4x4f'+';\x0auniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0auniform\x20'+'matrix_pro'+'jection:\x20m'+'at4x4f;\x0a\x0a/'+'/\x20project\x20'+'the\x20model\x20'+'space\x20gaus'+'sian\x20cente'+'r\x20to\x20view\x20'+'and\x20clip\x20s'+'pace\x0afn\x20in'+'itCenter(m'+'odelCenter'+':\x20vec3f,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>)\x20->\x20bo'+'ol\x20{\x0a\x20\x20\x20\x20l'+'et\x20modelVi'+'ew:\x20mat4x4'+'f\x20=\x20unifor'+'m.matrix_v'+'iew\x20*\x20unif'+'orm.matrix'+'_model;\x0a\x20\x20'+'\x20\x20let\x20cent'+'erView:\x20ve'+'c4f\x20=\x20mode'+'lView\x20*\x20ve'+'c4f(modelC'+'enter,\x201.0'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20if\x20splat\x20'+'is\x20behind\x20'+'the\x20camera'+'\x0a\x20\x20\x20\x20if\x20(c'+'enterView.'+'z\x20>\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20ce'+'nterProj:\x20'+'vec4f\x20=\x20un'+'iform.matr'+'ix_project'+'ion\x20*\x20cent'+'erView;\x0a\x0a\x20'+'\x20\x20\x20//\x20ensu'+'re\x20gaussia'+'ns\x20are\x20not'+'\x20clipped\x20b'+'y\x20camera\x20n'+'ear\x20and\x20fa'+'r\x0a\x20\x20\x20\x20cent'+'erProj.z\x20='+'\x20clamp(cen'+'terProj.z,'+'\x200.0,\x20abs('+'centerProj'+'.w));\x0a\x0a\x20\x20\x20'+'\x20center.vi'+'ew\x20=\x20cente'+'rView.xyz\x20'+'/\x20centerVi'+'ew.w;\x0a\x20\x20\x20\x20'+'center.pro'+'j\x20=\x20center'+'Proj;\x0a\x20\x20\x20\x20'+'center.pro'+'jMat00\x20=\x20u'+'niform.mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',HM='\x0a\x0avar\x20spla'+'tColor:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20r'+'eadColor(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20tex'+'tureLoad(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a}\x0a',WM='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20order:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20id:\x20u3'+'2,\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'uv:\x20vec2<i'+'32>,\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20corn'+'erUV:\x20vec2'+'f,\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a}\x0a\x0a'+'//\x20stores\x20'+'the\x20camera'+'\x20and\x20clip\x20'+'space\x20posi'+'tion\x20of\x20th'+'e\x20gaussian'+'\x20center\x0ast'+'ruct\x20Splat'+'Center\x20{\x0a\x20'+'\x20\x20\x20view:\x20v'+'ec3f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20vi'+'ew\x20space\x0a\x20'+'\x20\x20\x20proj:\x20v'+'ec4f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20cl'+'ip\x20space\x0a\x20'+'\x20\x20\x20modelVi'+'ew:\x20mat4x4'+'f,\x20\x20\x20//\x20mo'+'del-view\x20m'+'atrix\x0a\x20\x20\x20\x20'+'projMat00:'+'\x20f32,\x20\x20\x20\x20\x20'+'\x20\x20//\x20eleme'+'mt\x20[0][0]\x20'+'of\x20the\x20pro'+'jection\x20ma'+'trix\x0a}\x0a\x0a//'+'\x20stores\x20th'+'e\x20offset\x20f'+'rom\x20center'+'\x20for\x20the\x20c'+'urrent\x20gau'+'ssian\x0astru'+'ct\x20SplatCo'+'rner\x20{\x0a\x20\x20\x20'+'\x20offset:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20corn'+'er\x20offset\x20'+'from\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'uv:\x20vec2f,'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20aaFactor:'+'\x20f32,\x20//\x20f'+'or\x20scenes\x20'+'generated\x20'+'with\x20antia'+'liasing\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0a#include'+'\x20\x22gsplatEv'+'alSHVS\x22\x0a#i'+'nclude\x20\x22gs'+'platQuatTo'+'Mat3VS\x22\x0a\x0a#'+'if\x20GSPLAT_'+'COMPRESSED'+'_DATA\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatComp'+'ressedData'+'VS\x22\x0a\x20\x20\x20\x20#i'+('f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsDataVS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tSogsColor'+'VS\x22\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsSHVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#else\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatData'+'VS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22gs'+'platColorV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0afn\x20'+'clipCorner'+'(corner:\x20p'+'tr<functio'+'n,\x20SplatCo'+'rner>,\x20alp'+'ha:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'lip:\x20f32\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20(255'+'.0\x20*\x20alpha'+')))\x20/\x202.0)'+';\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20corner.o'+'ffset\x20*\x20cl'+'ip;\x0a\x20\x20\x20\x20co'+'rner.uv\x20=\x20'+'corner.uv\x20'+'*\x20clip;\x0a}\x0a'+'\x0a'),$M='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0avar'+'\x20chunkText'+'ure:\x20textu'+'re_2d<f32>'+';\x0a\x0a//\x20work'+'\x20values\x0ava'+'r<private>'+'\x20chunkData'+'A:\x20vec4f;\x20'+'\x20\x20\x20//\x20x:\x20m'+'in_x,\x20y:\x20m'+'in_y,\x20z:\x20m'+'in_z,\x20w:\x20m'+'ax_x\x0avar<p'+'rivate>\x20ch'+'unkDataB:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20max_'+'y,\x20y:\x20max_'+'z,\x20z:\x20scal'+'e_min_x,\x20w'+':\x20scale_mi'+'n_y\x0avar<pr'+'ivate>\x20chu'+'nkDataC:\x20v'+'ec4f;\x20\x20\x20\x20/'+'/\x20x:\x20scale'+'_min_z,\x20y:'+'\x20scale_max'+'_x,\x20z:\x20sca'+'le_max_y,\x20'+'w:\x20scale_m'+'ax_z\x0avar<p'+'rivate>\x20ch'+'unkDataD:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20min_'+'r,\x20y:\x20min_'+'g,\x20z:\x20min_'+'b,\x20w:\x20max_'+'r\x0avar<priv'+'ate>\x20chunk'+'DataE:\x20vec'+'4f;\x20\x20\x20\x20//\x20'+'x:\x20max_g,\x20'+'y:\x20max_b,\x20'+'z:\x20unused,'+'\x20w:\x20unused'+'\x0avar<priva'+'te>\x20packed'+'Data:\x20vec4'+'u;\x20\x20\x20\x20//\x20x'+':\x20position'+'\x20bits,\x20y:\x20'+'rotation\x20b'+'its,\x20z:\x20sc'+'ale\x20bits,\x20'+'w:\x20color\x20b'+'its\x0a\x0afn\x20un'+'pack111011'+'(bits:\x20u32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(vec3f'+'((vec3<u32'+'>(bits)\x20>>'+'\x20vec3<u32>'+'(21u,\x2011u,'+'\x200u))\x20&\x20ve'+'c3<u32>(0x'+'7ffu,\x200x3f'+'fu,\x200x7ffu'+')))\x20/\x20vec3'+'f(2047.0,\x20'+'1023.0,\x2020'+'47.0);\x0a}\x0a\x0a'+'fn\x20unpack8'+'888(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20f32((bit'+'s\x20>>\x2024u)\x20'+'&\x200xffu),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((bits\x20>>'+'\x2016u)\x20&\x200x'+'ffu),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20f32((b'+'its\x20>>\x208u)'+'\x20\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(bits\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20&\x200'+'xffu)\x0a\x20\x20\x20\x20'+')\x20/\x20255.0;'+('\x0a}\x0a\x0aconst\x20'+'norm_const'+':\x20f32\x20=\x201.'+'0\x20/\x20(sqrt('+'2.0)\x20*\x200.5'+');\x0a\x0afn\x20unp'+'ackRotatio'+'n(bits:\x20u3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x20(f32'+'((bits\x20>>\x20'+'20u)\x20&\x200x3'+'ffu)\x20/\x20102'+'3.0\x20-\x200.5)'+'\x20*\x20norm_co'+'nst;\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20(f3'+'2((bits\x20>>'+'\x2010u)\x20&\x200x'+'3ffu)\x20/\x2010'+'23.0\x20-\x200.5'+')\x20*\x20norm_c'+'onst;\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20(f'+'32(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+'_const;\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'sqrt(1.0\x20-'+'\x20(a\x20*\x20a\x20+\x20'+'b\x20*\x20b\x20+\x20c\x20'+'*\x20c));\x0a\x0a\x20\x20'+'\x20\x20let\x20mode'+'\x20=\x20bits\x20>>'+'\x2030u;\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x200u)\x20{\x20re'+'turn\x20vec4f'+'(m,\x20a,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20m,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x202u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20b,\x20m,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(a,\x20b,\x20c'+',\x20m);\x0a}\x0a\x0a/'+'/\x20read\x20cen'+'ter\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex_siz'+'e_u\x20=\x20text'+'ureDimensi'+'ons(chunkT'+'exture,\x200)'+';\x0a\x20\x20\x20\x20let\x20'+'w:\x20u32\x20=\x20t'+'ex_size_u.'+'x\x20/\x205u;\x0a\x20\x20'+'\x20\x20let\x20chun'+'kId:\x20u32\x20='+'\x20source.id'+'\x20/\x20256u;\x0a\x20'+'\x20\x20\x20let\x20chu'+'nkUV:\x20vec2'+'<i32>\x20=\x20ve'+'c2<i32>(i3'+'2((chunkId'+'\x20%\x20w)\x20*\x205u'+'),\x20i32(chu'+'nkId\x20/\x20w))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'read\x20chunk'+'\x20and\x20packe'+'d\x20compress'+'ed\x20data\x0a\x20\x20'+'\x20\x20chunkDat'+'aA\x20=\x20textu'+'reLoad(chu'+'nkTexture,'+'\x20chunkUV\x20+'+'\x20vec2<i32>'+'(0,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataB\x20=\x20t'+'extureLoad')+('(chunkText'+'ure,\x20chunk'+'UV\x20+\x20vec2<'+'i32>(1,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataC'+'\x20=\x20texture'+'Load(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20v'+'ec2<i32>(2'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataD\x20=\x20tex'+'tureLoad(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20vec2<i3'+'2>(3,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataE\x20='+'\x20textureLo'+'ad(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20vec'+'2<i32>(4,\x20'+'0),\x200);\x0a\x20\x20'+'\x20\x20packedDa'+'ta\x20=\x20textu'+'reLoad(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(chunkDa'+'taA.xyz,\x20v'+'ec3f(chunk'+'DataA.w,\x20c'+'hunkDataB.'+'xy),\x20unpac'+'k111011(pa'+'ckedData.x'+'));\x0a}\x0a\x0afn\x20'+'readColor('+'source:\x20pt'+'r<function'+',\x20SplatSou'+'rce>)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20let\x20r\x20=\x20u'+'npack8888('+'packedData'+'.w);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(mix(chun'+'kDataD.xyz'+',\x20vec3f(ch'+'unkDataD.w'+',\x20chunkDat'+'aE.xy),\x20r.'+'rgb),\x20r.w)'+';\x0a}\x0a\x0afn\x20ge'+'tRotation('+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20unpack'+'Rotation(p'+'ackedData.'+'y);\x0a}\x0a\x0afn\x20'+'getScale()'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20exp(mix'+'(vec3f(chu'+'nkDataB.zw'+',\x20chunkDat'+'aC.x),\x20chu'+'nkDataC.yz'+'w,\x20unpack1'+'11011(pack'+'edData.z))'+');\x0a}\x0a\x0a//\x20g'+'iven\x20a\x20rot'+'ation\x20matr'+'ix\x20and\x20sca'+'le\x20vector,'+'\x20compute\x203'+'d\x20covarian'+'ce\x20A\x20and\x20B'+'\x0afn\x20readCo'+'variance(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>,\x20covA_'+'ptr:\x20ptr<f'+'unction,\x20v'+'ec3f>,\x20cov'+'B_ptr:\x20ptr'+'<function,')+('\x20vec3f>)\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'ot\x20=\x20quatT'+'oMat3(getR'+'otation())'+';\x0a\x20\x20\x20\x20let\x20'+'scale\x20=\x20ge'+'tScale();\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20let\x20M\x20=\x20'+'transpose('+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.x\x20*\x20rot'+'[0],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.y'+'\x20*\x20rot[1],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.z\x20*\x20r'+'ot[2]\x0a\x20\x20\x20\x20'+'));\x0a\x0a\x20\x20\x20\x20*'+'covA_ptr\x20='+'\x20vec3f(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20*covB_p'+'tr\x20=\x20vec3f'+'(dot(M[1],'+'\x20M[1]),\x20do'+'t(M[1],\x20M['+'2]),\x20dot(M'+'[2],\x20M[2])'+');\x0a}\x0a'),XM='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0av'+'ar\x20shTextu'+'re0:\x20textu'+'re_2d<u32>'+';\x0avar\x20shTe'+'xture1:\x20te'+'xture_2d<u'+'32>;\x0avar\x20s'+'hTexture2:'+'\x20texture_2'+'d<u32>;\x0a\x0af'+'n\x20unpack88'+'88s(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20unpack'+'ed_u\x20=\x20(ve'+'c4<u32>(bi'+'ts)\x20>>\x20vec'+'4<u32>(0u,'+'\x208u,\x2016u,\x20'+'24u))\x20&\x20ve'+'c4<u32>(0x'+'ffu);\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(unpacke'+'d_u)\x20*\x20(8.'+'0\x20/\x20255.0)'+'\x20-\x204.0;\x0a}\x0a'+'\x0afn\x20readSH'+'Data(sourc'+'e:\x20ptr<fun'+'ction,\x20Spl'+'atSource>,'+'\x20sh:\x20ptr<f'+'unction,\x20a'+'rray<vec3f'+',\x2015>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20read\x20t'+'he\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20let\x20shD'+'ata0:\x20vec4'+'<u32>\x20=\x20te'+'xtureLoad('+'shTexture0'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20let\x20shDat'+'a1:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(sh'+'Texture1,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20shData2'+':\x20vec4<u32'+'>\x20=\x20textur'+'eLoad(shTe'+'xture2,\x20so'+'urce.uv,\x200'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20r0\x20=\x20unp'+'ack8888s(s'+'hData0.x);'+'\x0a\x20\x20\x20\x20let\x20r'+'1\x20=\x20unpack'+'8888s(shDa'+'ta0.y);\x0a\x20\x20'+'\x20\x20let\x20r2\x20='+'\x20unpack888'+'8s(shData0'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20r3\x20=\x20un'+'pack8888s('+'shData0.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20g0\x20=\x20unpa'+'ck8888s(sh'+'Data1.x);\x0a'+'\x20\x20\x20\x20let\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20let\x20g2\x20=\x20'+'unpack8888'+'s(shData1.'+'z);\x0a\x20\x20\x20\x20le'+'t\x20g3\x20=\x20unp'+'ack8888s(s'+'hData1.w);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'b0\x20=\x20unpac'+'k8888s(shD'+'ata2.x);\x0a\x20'+'\x20\x20\x20let\x20b1\x20'+('=\x20unpack88'+'88s(shData'+'2.y);\x0a\x20\x20\x20\x20'+'let\x20b2\x20=\x20u'+'npack8888s'+'(shData2.z'+');\x0a\x20\x20\x20\x20let'+'\x20b3\x20=\x20unpa'+'ck8888s(sh'+'Data2.w);\x0a'+'\x0a\x20\x20\x20\x20sh[0]'+'\x20=\x20\x20vec3f('+'r0.x,\x20g0.x'+',\x20b0.x);\x0a\x20'+'\x20\x20\x20sh[1]\x20='+'\x20\x20vec3f(r0'+'.y,\x20g0.y,\x20'+'b0.y);\x0a\x20\x20\x20'+'\x20sh[2]\x20=\x20\x20'+'vec3f(r0.z'+',\x20g0.z,\x20b0'+'.z);\x0a\x20\x20\x20\x20s'+'h[3]\x20=\x20\x20ve'+'c3f(r0.w,\x20'+'g0.w,\x20b0.w'+');\x0a\x20\x20\x20\x20sh['+'4]\x20=\x20\x20vec3'+'f(r1.x,\x20g1'+'.x,\x20b1.x);'+'\x0a\x20\x20\x20\x20sh[5]'+'\x20=\x20\x20vec3f('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3f(r1'+'.z,\x20g1.z,\x20'+'b1.z);\x0a\x20\x20\x20'+'\x20sh[7]\x20=\x20\x20'+'vec3f(r1.w'+',\x20g1.w,\x20b1'+'.w);\x0a\x20\x20\x20\x20s'+'h[8]\x20=\x20\x20ve'+'c3f(r2.x,\x20'+'g2.x,\x20b2.x'+');\x0a\x20\x20\x20\x20sh['+'9]\x20=\x20\x20vec3'+'f(r2.y,\x20g2'+'.y,\x20b2.y);'+'\x0a\x20\x20\x20\x20sh[10'+']\x20=\x20vec3f('+'r2.z,\x20g2.z'+',\x20b2.z);\x0a\x20'+'\x20\x20\x20sh[11]\x20'+'=\x20vec3f(r2'+'.w,\x20g2.w,\x20'+'b2.w);\x0a\x20\x20\x20'+'\x20sh[12]\x20=\x20'+'vec3f(r3.x'+',\x20g3.x,\x20b3'+'.x);\x0a\x20\x20\x20\x20s'+'h[13]\x20=\x20ve'+'c3f(r3.y,\x20'+'g3.y,\x20b3.y'+');\x0a\x20\x20\x20\x20sh['+'14]\x20=\x20vec3'+'f(r3.z,\x20g3'+'.z,\x20b3.z);'+'\x0a\x0a\x20\x20\x20\x20*sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),qM='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'COEFFS:\x20i3'+'2\x20=\x203;\x0a\x20\x20\x20'+'\x20#elif\x20SH_'+'BANDS\x20==\x202'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20SH_CO'+'EFFS:\x20i32\x20'+'=\x208;\x0a\x20\x20\x20\x20#'+'elif\x20SH_BA'+'NDS\x20==\x203\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20con'+'st\x20SH_COEF'+'FS:\x20i32\x20=\x20'+'15;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20const\x20SH'+'_COEFFS:\x20i'+'32\x20=\x200;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20SH'+'_BANDS\x20>\x200'+'\x0a\x0a\x20\x20\x20\x20cons'+'t\x20SH_C1:\x20f'+'32\x20=\x200.488'+'6025119029'+'199;\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x201\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20const'+'\x20SH_C2_0:\x20'+'f32\x20=\x201.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_1:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_2:\x20f'+'32\x20=\x200.315'+'3915652525'+'2005;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_3:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_4:\x20f'+'32\x20=\x200.546'+'2742152960'+'396;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SH_BA'+'NDS\x20>\x202\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_0:'+'\x20f32\x20=\x20-0.'+'5900435899'+'266435;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_1:'+'\x20f32\x20=\x202.8'+'9061144264'+'0554;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_2:\x20f'+'32\x20=\x20-0.45'+'7045799464'+'4658;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_3:\x20f'+'32\x20=\x200.373'+'1763325901'+'154;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_4:\x20f3'+'2\x20=\x20-0.457'+'0457994644'+'658;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_5:\x20f3'+'2\x20=\x201.4453'+'0572132027'+'7;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'C3_6:\x20f32\x20'+'=\x20-0.59004'+'3589926643'+'5;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20see\x20http'+'s://github'+'.com/graph'+'deco-inria'+('/gaussian-'+'splatting/'+'blob/main/'+'utils/sh_u'+'tils.py\x0a\x20\x20'+'\x20\x20fn\x20evalS'+'H(sh:\x20ptr<'+'function,\x20'+'array<vec3'+'f,\x20SH_COEF'+'FS>>,\x20dir:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x\x20=\x20dir.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20y\x20=\x20di'+'r.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20z\x20='+'\x20dir.z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'1st\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20result\x20'+'=\x20SH_C1\x20*\x20'+'(-sh[0]\x20*\x20'+'y\x20+\x20sh[1]\x20'+'*\x20z\x20-\x20sh[2'+']\x20*\x20x);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x201\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x202'+'nd\x20degree\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xx\x20='+'\x20x\x20*\x20x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20yy\x20=\x20y'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20yz'+'\x20=\x20y\x20*\x20z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xz\x20='+'\x20x\x20*\x20z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'result\x20+\x20('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'3]\x20*\x20(SH_C'+'2_0\x20*\x20xy)\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[4]\x20*\x20(SH_'+'C2_1\x20*\x20yz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[5]\x20*\x20(SH'+'_C2_2\x20*\x20(2'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[6]\x20*\x20(SH_'+'C2_3\x20*\x20xz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[7]\x20*\x20(SH'+'_C2_4\x20*\x20(x'+'x\x20-\x20yy))\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'=\x20result\x20+'+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20re'+'sult;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20#end'+'if\x0a'),jM='\x0afn\x20quatTo'+'Mat3(R:\x20ve'+'c4<f32>)\x20-'+'>\x20mat3x3<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'let\x20R2:\x20ve'+'c4<f32>\x20=\x20'+'R\x20+\x20R;\x0a\x20\x20\x20'+'\x20let\x20X:\x20f3'+'2\x20\x20\x20\x20\x20\x20\x20=\x20'+'R2.x\x20*\x20R.w'+';\x0a\x20\x20\x20\x20let\x20'+'Y:\x20vec4<f3'+'2>\x20=\x20R2.y\x20'+'*\x20R;\x0a\x20\x20\x20\x20l'+'et\x20Z:\x20vec4'+'<f32>\x20=\x20R2'+'.z\x20*\x20R;\x0a\x20\x20'+'\x20\x20let\x20W:\x20f'+'32\x20\x20\x20\x20\x20\x20\x20='+'\x20R2.w\x20*\x20R.'+'w;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20mat3x'+'3<f32>(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Z.z\x20-\x20W,'+'\x20\x20Y.z\x20+\x20X,'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.z\x20-'+'\x20X,\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x20Y.y'+'\x20-\x20W,\x20Z.w\x20'+'+\x20Y.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.w\x20+'+'\x20Z.x,\x20\x20\x20\x20\x20'+'\x20Z.w\x20-\x20Y.x'+',\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',YM='\x0avar\x20sh0:\x20'+'texture_2d'+'<f32>;\x0a\x0aun'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0auniform'+'\x20sh0_maxs:'+'\x20vec4f;\x0a\x0ac'+'onst\x20SH_C0'+':\x20f32\x20=\x200.'+'2820947917'+'7387814;\x0a\x0a'+'fn\x20readCol'+'or(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20let\x20cl'+'r:\x20vec4f\x20='+'\x20mix(unifo'+'rm.sh0_min'+'s,\x20uniform'+'.sh0_maxs,'+'\x20textureLo'+'ad(sh0,\x20so'+'urce.uv,\x200'+'));\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(vec3f(0.5'+')\x20+\x20clr.xy'+'z\x20*\x20SH_C0,'+'\x201.0\x20/\x20(1.'+'0\x20+\x20exp(-c'+'lr.w)));\x0a}'+'\x0a',KM='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0a\x0aun'+'iform\x20mean'+'s_mins:\x20ve'+'c3f;\x0aunifo'+'rm\x20means_m'+'axs:\x20vec3f'+';\x0a\x0auniform'+'\x20scales_mi'+'ns:\x20vec3f;'+'\x0auniform\x20s'+'cales_maxs'+':\x20vec3f;\x0a\x0a'+'fn\x20unpackU'+'32(u:\x20u32)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20vec4f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((u\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((u\x20>>\x201'+'6u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((u\x20>>\x20'+'8u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(u\x20&\x200x'+'FFu)\x20/\x20255'+'.0\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avar<pri'+'vate>\x20pack'+'edSample:\x20'+'vec4<u32>;'+'\x0a\x0a//\x20read\x20'+'the\x20model-'+'space\x20cent'+'er\x20of\x20the\x20'+'gaussian\x0af'+'n\x20readCent'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec3f\x20{\x0a'+'\x0a\x20\x20\x20\x20packe'+'dSample\x20=\x20'+'textureLoa'+'d(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20l:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.x).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20u:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20n:\x20vec3f\x20'+'=\x20(l\x20*\x20255'+'.0\x20+\x20u\x20*\x202'+'55.0\x20*\x20256'+'.0)\x20/\x206553'+'5.0;\x0a\x20\x20\x20\x20l'+'et\x20v:\x20vec3'+'f\x20=\x20mix(un'+'iform.mean'+'s_mins,\x20un'+'iform.mean'+'s_maxs,\x20n)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20sign(v'+')\x20*\x20(exp(a'+'bs(v))\x20-\x201'+'.0);\x0a}\x0a\x0aco'+'nst\x20norm:\x20'+'f32\x20=\x202.0\x20'+'/\x20sqrt(2.0'+');\x0a\x0a//\x20sam'+'ple\x20covari'+'ance\x20vecto'+'rs\x0afn\x20read'+'Covariance'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>,\x20cov'+'A_ptr:\x20ptr'+'<function,'+'\x20vec3f>,\x20c'+('ovB_ptr:\x20p'+'tr<functio'+'n,\x20vec3f>)'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20qdata:\x20ve'+'c4f\x20=\x20unpa'+'ckU32(pack'+'edSample.z'+');\x0a\x20\x20\x20\x20let'+'\x20sdata:\x20ve'+'c3f\x20=\x20unpa'+'ckU32(pack'+'edSample.w'+').xyz;\x0a\x0a\x20\x20'+'\x20\x20let\x20abc:'+'\x20vec3f\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(abc,'+'\x20abc)));\x0a\x0a'+'\x20\x20\x20\x20let\x20mo'+'de:\x20u32\x20=\x20'+'u32(qdata.'+'w\x20*\x20255.0\x20'+'+\x200.5)\x20-\x202'+'52u;\x0a\x0a\x20\x20\x20\x20'+'var\x20quat:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20if\x20(mode\x20'+'==\x200u)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20qua'+'t\x20=\x20vec4f('+'d,\x20abc);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20quat'+'\x20=\x20vec4f(a'+'bc.x,\x20d,\x20a'+'bc.y,\x20abc.'+'z);\x0a\x20\x20\x20\x20}\x20'+'else\x20if\x20(m'+'ode\x20==\x202u)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20quat\x20=\x20ve'+'c4f(abc.x,'+'\x20abc.y,\x20d,'+'\x20abc.z);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'quat\x20=\x20vec'+'4f(abc.x,\x20'+'abc.y,\x20abc'+'.z,\x20d);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x0a\x20\x20\x20\x20'+'let\x20rot:\x20m'+'at3x3f\x20=\x20q'+'uatToMat3('+'quat);\x0a\x20\x20\x20'+'\x20let\x20scale'+':\x20vec3f\x20=\x20'+'exp(mix(un'+'iform.scal'+'es_mins,\x20u'+'niform.sca'+'les_maxs,\x20'+'sdata));\x0a\x0a'+'\x20\x20\x20\x20//\x20M\x20='+'\x20S\x20*\x20R\x0a\x20\x20\x20'+'\x20let\x20M:\x20ma'+'t3x3f\x20=\x20tr'+'anspose(ma'+'t3x3f(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20*co'+'vA_ptr\x20=\x20v'+'ec3f(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20*covB_ptr'+'\x20=\x20vec3f(d'+'ot(M[1],\x20M'+'[1]),\x20dot('+'M[1],\x20M[2]'+'),\x20dot(M[2'+'],\x20M[2]));')+'\x0a}\x0a',ZM='\x0avar\x20sh_ce'+'ntroids:\x20t'+'exture_2d<'+'f32>;\x0a\x0auni'+'form\x20shN_m'+'ins:\x20f32;\x0a'+'uniform\x20sh'+'N_maxs:\x20f3'+'2;\x0a\x0afn\x20rea'+'dSHData(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>,\x20sh:\x20pt'+'r<function'+',\x20array<ve'+'c3f,\x20SH_CO'+'EFFS>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'let\x20t:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'32(packedS'+'ample.x\x20&\x20'+'255u),\x20i32'+'(packedSam'+'ple.y\x20&\x2025'+'5u));\x0a\x20\x20\x20\x20'+'let\x20n:\x20i32'+'\x20=\x20t.x\x20+\x20t'+'.y\x20*\x20256;\x0a'+'\x20\x20\x20\x20let\x20u:'+'\x20i32\x20=\x20(n\x20'+'%\x2064)\x20*\x20SH'+'_COEFFS;\x0a\x20'+'\x20\x20\x20let\x20v:\x20'+'i32\x20=\x20n\x20/\x20'+'64;\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20offset\x20i'+'nto\x20the\x20ce'+'ntroids\x20te'+'xture\x20and\x20'+'read\x20conse'+'cutive\x20tex'+'els\x0a\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'i32\x20=\x200;\x20i'+'\x20<\x20SH_COEF'+'FS;\x20i\x20=\x20i\x20'+'+\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[i]'+'\x20=\x20mix(vec'+'3f(uniform'+'.shN_mins)'+',\x20vec3f(un'+'iform.shN_'+'maxs),\x20tex'+'tureLoad(s'+'h_centroid'+'s,\x20vec2<i3'+'2>(u\x20+\x20i,\x20'+'v),\x200).xyz'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20*scale'+'\x20=\x201.0;\x0a}\x0a',QM='\x0auniform\x20v'+'iewport:\x20v'+'ec2f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20view'+'port\x20dimen'+'sions\x0aunif'+'orm\x20camera'+'_params:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201\x20/\x20far,\x20'+'far,\x20near,'+'\x20isOrtho\x0a\x0a'+'//\x20calcula'+'te\x20the\x20cli'+'p-space\x20of'+'fset\x20from\x20'+'the\x20center'+'\x20for\x20this\x20'+'gaussian\x0af'+'n\x20initCorn'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>,\x20corne'+'r:\x20ptr<fun'+'ction,\x20Spl'+'atCorner>)'+'\x20->\x20bool\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20var'+'\x20covA:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20covB:\x20ve'+'c3f;\x0a\x20\x20\x20\x20r'+'eadCovaria'+'nce(source'+',\x20&covA,\x20&'+'covB);\x0a\x0a\x20\x20'+'\x20\x20let\x20Vrk\x20'+'=\x20mat3x3f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(covA.'+'x,\x20covA.y,'+'\x20covA.z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(covA.y'+',\x20covB.x,\x20'+'covB.y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(covA.z,'+'\x20covB.y,\x20c'+'ovB.z)\x0a\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20l'+'et\x20focal\x20='+'\x20uniform.v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20let\x20v'+'\x20=\x20select('+'center.vie'+'w.xyz,\x20vec'+'3f(0.0,\x200.'+'0,\x201.0),\x20u'+'niform.cam'+'era_params'+'.w\x20==\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'J1\x20=\x20focal'+'\x20/\x20v.z;\x0a\x20\x20'+'\x20\x20let\x20J2\x20='+'\x20-J1\x20/\x20v.z'+'\x20*\x20v.xy;\x0a\x20'+'\x20\x20\x20let\x20J\x20='+'\x20mat3x3f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(J1,\x200.'+'0,\x20J2.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x20J'+'1,\x20J2.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x200'+'.0,\x200.0)\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20W\x20=\x20t'+'ranspose(m'+'at3x3f(cen'+'ter.modelV'+'iew[0].xyz'+',\x20center.m'+'odelView[1'+'].xyz,\x20cen'+('ter.modelV'+'iew[2].xyz'+'));\x0a\x20\x20\x20\x20le'+'t\x20T\x20=\x20W\x20*\x20'+'J;\x0a\x20\x20\x20\x20let'+'\x20cov\x20=\x20tra'+'nspose(T)\x20'+'*\x20Vrk\x20*\x20T;'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'GSPLAT_AA\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20calculate'+'\x20AA\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20detOrig'+'\x20=\x20cov[0]['+'0]\x20*\x20cov[1'+'][1]\x20-\x20cov'+'[0][1]\x20*\x20c'+'ov[1][0];\x20'+'//\x20Using\x20['+'0][1]\x20*\x20[1'+'][0]\x20as\x20ma'+'trix\x20might'+'\x20not\x20be\x20pe'+'rfectly\x20sy'+'mmetric\x20nu'+'merically\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20detBlur\x20'+'=\x20(cov[0]['+'0]\x20+\x200.3)\x20'+'*\x20(cov[1]['+'1]\x20+\x200.3)\x20'+'-\x20cov[0][1'+']\x20*\x20cov[1]'+'[0];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20corner.'+'aaFactor\x20='+'\x20sqrt(detO'+'rig\x20/\x20detB'+'lur);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal1\x20=\x20co'+'v[0][0]\x20+\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20offDiag'+'onal\x20=\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal2\x20=\x20co'+'v[1][1]\x20+\x20'+'0.3;\x0a\x0a\x20\x20\x20\x20'+'let\x20mid\x20=\x20'+'0.5\x20*\x20(dia'+'gonal1\x20+\x20d'+'iagonal2);'+'\x0a\x20\x20\x20\x20let\x20r'+'adius\x20=\x20le'+'ngth(vec2f'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20let\x20lambd'+'a1\x20=\x20mid\x20+'+'\x20radius;\x0a\x20'+'\x20\x20\x20let\x20lam'+'bda2\x20=\x20max'+'(mid\x20-\x20rad'+'ius,\x200.1);'+'\x0a\x0a\x20\x20\x20\x20//\x20U'+'se\x20the\x20sma'+'ller\x20viewp'+'ort\x20dimens'+'ion\x20to\x20lim'+'it\x20the\x20ker'+'nel\x20size\x20r'+'elative\x20to'+'\x20the\x20scree'+'n\x20resoluti'+'on.\x0a\x20\x20\x20\x20le'+'t\x20vmin\x20=\x20m'+'in(1024.0,'+'\x20min(unifo'+'rm.viewpor'+'t.x,\x20unifo'+'rm.viewpor'+'t.y));\x0a\x0a\x20\x20'+'\x20\x20let\x20l1\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda1)'+',\x20vmin);\x0a\x20'+'\x20\x20\x20let\x20l2\x20'+'=\x202.0\x20*\x20mi'+'n(sqrt(2.0'+'\x20*\x20lambda2')+('),\x20vmin);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly-out\x20ga'+'ussians\x20sm'+'aller\x20than'+'\x202\x20pixels\x0a'+'\x20\x20\x20\x20if\x20(l1'+'\x20<\x202.0\x20&&\x20'+'l2\x20<\x202.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20fal'+'se;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'uniform.vi'+'ewport;\x0a\x0a\x20'+'\x20\x20\x20//\x20cull'+'\x20against\x20f'+'rustum\x20x/y'+'\x20axes\x0a\x20\x20\x20\x20'+'if\x20(any((a'+'bs(center.'+'proj.xy)\x20-'+'\x20vec2f(max'+'(l1,\x20l2))\x20'+'*\x20c)\x20>\x20cen'+'ter.proj.w'+'w))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20diagona'+'lVector\x20=\x20'+'normalize('+'vec2f(offD'+'iagonal,\x20l'+'ambda1\x20-\x20d'+'iagonal1))'+';\x0a\x20\x20\x20\x20let\x20'+'v1\x20=\x20l1\x20*\x20'+'diagonalVe'+'ctor;\x0a\x20\x20\x20\x20'+'let\x20v2\x20=\x20l'+'2\x20*\x20vec2f('+'diagonalVe'+'ctor.y,\x20-d'+'iagonalVec'+'tor.x);\x20//'+'\x20Swizzle\x0a\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20=\x20'+'(source.co'+'rnerUV.x\x20*'+'\x20v1\x20+\x20sour'+'ce.cornerU'+'V.y\x20*\x20v2)\x20'+'*\x20c;\x0a\x20\x20\x20\x20c'+'orner.uv\x20='+'\x20source.co'+'rnerUV;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),JM='\x0avar\x20trans'+'formA:\x20tex'+'ture_2d<u3'+'2>;\x0avar\x20tr'+'ansformB:\x20'+'texture_2d'+'<f32>;\x0a\x0a//'+'\x20work\x20valu'+'es\x0avar<pri'+'vate>\x20tAw:'+'\x20u32;\x0a\x0a//\x20'+'read\x20the\x20m'+'odel-space'+'\x20center\x20of'+'\x20the\x20gauss'+'ian\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20let\x20'+'tA:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20t'+'Aw\x20=\x20tA.w;'+'\x0a\x20\x20\x20\x20retur'+'n\x20bitcast<'+'vec3f>(tA.'+'xyz);\x0a}\x0a\x0af'+'n\x20unpackRo'+'tation(pac'+'ked:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'packed.xyz'+',\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(pack'+'ed,\x20packed'+'))));\x0a}\x0a\x0a/'+'/\x20sample\x20c'+'ovariance\x20'+'vectors\x0afn'+'\x20readCovar'+'iance(sour'+'ce:\x20ptr<fu'+'nction,\x20Sp'+'latSource>'+',\x20covA_ptr'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20covB_p'+'tr:\x20ptr<fu'+'nction,\x20ve'+'c3f>)\x20{\x0a\x20\x20'+'\x20\x20let\x20tB:\x20'+'vec4f\x20=\x20te'+'xtureLoad('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20let\x20rot:'+'\x20mat3x3f\x20='+'\x20quatToMat'+'3(unpackRo'+'tation(vec'+'3f(unpack2'+'x16float(b'+'itcast<u32'+'>(tAw)),\x20t'+'B.w)).wxyz'+');\x0a\x20\x20\x20\x20let'+'\x20scale:\x20ve'+'c3f\x20=\x20tB.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x20M\x20=\x20S\x20*\x20'+'R\x0a\x20\x20\x20\x20let\x20'+'M\x20=\x20transp'+'ose(mat3x3'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20*covA_p'+'tr\x20=\x20vec3f'+'(dot(M[0],'+'\x20M[0]),\x20do'+('t(M[0],\x20M['+'1]),\x20dot(M'+'[0],\x20M[2])'+');\x0a\x20\x20\x20\x20*co'+'vB_ptr\x20=\x20v'+'ec3f(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a'),eD='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0afn\x20'+'prepareOut'+'putFromGam'+'ma(gammaCo'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20TONEMAP\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20G'+'AMMA\x20==\x20NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nvert\x20to\x20l'+'inear\x20spac'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20decodeGam'+'ma3(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20gamma\x20'+'space\x20colo'+'r\x20directly'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'gammaColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ap'+'ply\x20tonema'+'pping\x20in\x20l'+'inear\x20spac'+'e\x20and\x20outp'+'ut\x20to\x20line'+'ar\x20or\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20gam'+'ma\x20(which\x20'+'is\x20handled'+'\x20by\x20gammaC'+'orrectOutp'+'ut)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaCorrec'+'tOutput(to'+'neMap(deco'+'deGamma3(g'+'ammaColor)'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',tD='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20PICK_PAS'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22pick'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_PASS)\x20||\x20'+'defined(PI'+'CK_PASS)\x20|'+'|\x20defined('+'PREPASS_PA'+'SS)\x0a\x20\x20\x20\x20un'+'iform\x20alph'+'aClip:\x20f32'+';\x0a#endif\x0a\x0a'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vLinearD'+'epth:\x20f32;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22float'+'AsUintPS\x22\x0a'+'#endif\x0a\x0a//'+'\x20Fast\x20appr'+'oximate\x20e^'+'x\x20based\x20on'+'\x20https://n'+'ic.schraud'+'olph.org/p'+'ubs/Schrau'+'dolph99.pd'+'f\x0aconst\x20EX'+'P_A:\x20f32\x20\x20'+'\x20\x20\x20\x20=\x201210'+'2203.0;\x20\x20\x20'+'//\x20\x202^23\x20'+'/\x20ln(2)\x0aco'+'nst\x20EXP_BC'+'_RMS:\x20i32\x20'+'=\x2010648668'+'08;\x20\x20\x20//\x20('+'127\x20<<\x2023)'+'\x20-\x2060801\x20*'+'\x208\x0afn\x20fast'+'Exp(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20var\x20i'+':\x20i32\x20=\x20i3'+'2(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20bi'+'tcast<f32>'+'(i);\x0a}\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x0a\x20\x20\x20'+'\x20let\x20A:\x20f3'+'2\x20=\x20dot(ga'+'ussianUV,\x20'+'gaussianUV'+');\x0a\x20\x20\x20\x20if\x20'+'(A\x20>\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20alpha'+'\x0a\x20\x20\x20\x20var\x20a'+'lpha:\x20f32\x20'+'=\x20fastExp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+('Color.a;\x0a\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(al'+'pha\x20<\x20unif'+'orm.alphaC'+'lip)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20PI'+'CK_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20getPickO'+'utput();\x0a\x0a'+'\x20\x20\x20\x20#elif\x20'+'SHADOW_PAS'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(0.0,\x200.0'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20PREPAS'+'S_PASS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20float2vec'+'4(vLinearD'+'epth);\x0a\x0a\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20('+'1.0\x20/\x20255.'+'0))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20opaci'+'tyDither(&'+'alpha,\x20id\x20'+'*\x200.013);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(input'+'.gaussianC'+'olor.xyz,\x20'+'alpha);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'),sD='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0afn\x20unpack'+'111011s(bi'+'ts:\x20u32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20(vec3f((v'+'ec3<u32>(b'+'its)\x20>>\x20ve'+'c3<u32>(21'+'u,\x2011u,\x200u'+'))\x20&\x20vec3<'+'u32>(0x7ff'+'u,\x200x3ffu,'+'\x200x7ffu))\x20'+'/\x20vec3f(20'+'47.0,\x201023'+'.0,\x202047.0'+'))\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0as'+'truct\x20Scal'+'eAndSH\x20{\x0a\x20'+'\x20\x20\x20scale:\x20'+'f32,\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f\x0a};\x0a\x0a'+'//\x20fetch\x20q'+'uantized\x20s'+'pherical\x20h'+'armonic\x20co'+'efficients'+'\x0afn\x20fetchS'+'cale(t_in:'+'\x20vec4<u32>'+')\x20->\x20Scale'+'AndSH\x20{\x0a\x20\x20'+'\x20\x20var\x20resu'+'lt:\x20ScaleA'+'ndSH;\x0a\x20\x20\x20\x20'+'result.sca'+'le\x20=\x20bitca'+'st<f32>(t_'+'in.x);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20unpack11'+'1011s(t_in'+'.y);\x0a\x20\x20\x20\x20r'+'esult.b\x20=\x20'+'unpack1110'+'11s(t_in.z'+');\x0a\x20\x20\x20\x20res'+'ult.c\x20=\x20un'+'pack111011'+'s(t_in.w);'+'\x0a\x20\x20\x20\x20retur'+'n\x20result;\x0a'+'}\x0a\x0astruct\x20'+'SH\x20{\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20d:\x20vec3f\x0a'+'};\x0a\x0a//\x20fet'+'ch\x20quantiz'+'ed\x20spheric'+'al\x20harmoni'+'c\x20coeffici'+'ents\x0afn\x20fe'+'tch4(t_in:'+'\x20vec4<u32>'+')\x20->\x20SH\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'sult:\x20SH;\x0a'+'\x20\x20\x20\x20result'+'.a\x20=\x20unpac'+'k111011s(t'+'_in.x);\x0a\x20\x20'+'\x20\x20result.b'+'\x20=\x20unpack1'+'11011s(t_i'+'n.y);\x0a\x20\x20\x20\x20'+'result.c\x20='+'\x20unpack111'+'011s(t_in.'+'z);\x0a\x20\x20\x20\x20re'+'sult.d\x20=\x20u'+'npack11101'+'1s(t_in.w)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20result;'+'\x0a}\x0a\x0afn\x20fet'+'ch1(t_in:\x20'+'u32)\x20->\x20ve'+('c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20unp'+'ack111011s'+'(t_in);\x0a}\x0a'+'\x0a#if\x20SH_BA'+'NDS\x20==\x201\x0a\x20'+'\x20\x20\x20var\x20spl'+'atSH_1to3:'+'\x20texture_2'+'d<u32>;\x0a\x0a\x20'+'\x20\x20\x20fn\x20read'+'SHData(sou'+'rce:\x20ptr<f'+'unction,\x20S'+'platSource'+'>,\x20sh:\x20ptr'+'<function,'+'\x20array<vec'+'3f,\x203>>,\x20s'+'cale:\x20ptr<'+'function,\x20'+'f32>)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'result\x20=\x20f'+'etchScale('+'textureLoa'+'d(splatSH_'+'1to3,\x20sour'+'ce.uv,\x200))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'*scale\x20=\x20r'+'esult.scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[0]\x20=\x20r'+'esult.a;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'1]\x20=\x20resul'+'t.b;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[2]\x20='+'\x20result.c;'+'\x0a\x20\x20\x20\x20}\x0a#el'+'if\x20SH_BAND'+'S\x20==\x202\x0a\x20\x20\x20'+'\x20var\x20splat'+'SH_1to3:\x20t'+'exture_2d<'+'u32>;\x0a\x20\x20\x20\x20'+'var\x20splatS'+'H_4to7:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_8to11:\x20te'+'xture_2d<u'+'32>;\x0a\x0a\x20\x20\x20\x20'+'fn\x20readSHD'+'ata(source'+':\x20ptr<func'+'tion,\x20Spla'+'tSource>,\x20'+'sh:\x20ptr<fu'+'nction,\x20ar'+'ray<vec3f,'+'\x208>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se')+('cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20='+'\x20fetch1(te'+'xtureLoad('+'splatSH_8t'+'o11,\x20sourc'+'e.uv,\x200).x'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_1to3:\x20tex'+'ture_2d<u3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20splatSH_'+'4to7:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_8'+'to11:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_1'+'2to15:\x20tex'+'ture_2d<u3'+'2>;\x0a\x0a\x20\x20\x20\x20f'+'n\x20readSHDa'+'ta(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20s'+'h:\x20ptr<fun'+'ction,\x20arr'+'ay<vec3f,\x20'+'15>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se'+'cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20thi'+'rd:\x20SH\x20=\x20f'+'etch4(text'+'ureLoad(sp'+'latSH_8to1'+'1,\x20source.'+'uv,\x200));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'7]\x20=\x20third'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20=\x20'+'third.b;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'9]\x20=\x20third'+'.c;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[10]\x20='+'\x20third.d;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20fourth:'+'\x20SH\x20=\x20fetc'+'h4(texture'+'Load(splat'+'SH_12to15,')+('\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[11'+']\x20=\x20fourth'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[12]\x20='+'\x20fourth.b;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[13]\x20=\x20fo'+'urth.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20=\x20fourt'+'h.d;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a\x0a#'+'endif\x0a'),iD='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c3f;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20xy:\x20'+'cornerUV,\x20'+'z:\x20render\x20'+'order\x20offs'+'et\x0aattribu'+'te\x20vertex_'+'id_attrib:'+'\x20u32;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'nder\x20order'+'\x20base\x0a\x0auni'+'form\x20numSp'+'lats:\x20u32;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20total\x20nu'+'mber\x20of\x20sp'+'lats\x0avar\x20s'+'platOrder:'+'\x20texture_2'+'d<u32>;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'per-splat\x20'+'index\x20to\x20s'+'ource\x20gaus'+'sian\x0a\x0a//\x20i'+'nitialize\x20'+'the\x20splat\x20'+'source\x20str'+'ucture\x0afn\x20'+'initSource'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20let\x20w:\x20u3'+'2\x20=\x20textur'+'eDimension'+'s(splatOrd'+'er,\x200).x;\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20u3'+'2(vertex_p'+'osition.z)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'return\x20if\x20'+'out\x20of\x20ran'+'ge\x20(since\x20'+'the\x20last\x20b'+'lock\x20of\x20sp'+'lats\x20may\x20b'+'e\x20partiall'+'y\x20full)\x0a\x20\x20'+'\x20\x20if\x20(sour'+'ce.order\x20>'+'=\x20uniform.'+'numSplats)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20fa'+'lse;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'orderUV\x20=\x20'+'vec2i(vec2'+'u(source.o'+'rder\x20%\x20w,\x20'+'source.ord'+'er\x20/\x20w));\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20splat\x20i'+'d\x0a\x20\x20\x20\x20sour'+'ce.id\x20=\x20te'+'xtureLoad('+'splatOrder'+',\x20orderUV,'+'\x200).r;\x0a\x0a\x20\x20'+'\x20\x20//\x20map\x20i'+'d\x20to\x20uv\x0a\x20\x20'+'\x20\x20source.u'+'v\x20=\x20vec2i('+'vec2u(sour'+'ce.id\x20%\x20w,'+'\x20source.id'+'\x20/\x20w));\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+('turn\x20true;'+'\x0a}\x0a'),rD='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a#ifn'+'def\x20DITHER'+'_NONE\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0aconst'+'\x20discardVe'+'c:\x20vec4f\x20='+'\x20vec4f(0.0'+',\x200.0,\x202.0'+',\x201.0);\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20varying'+'\x20vLinearDe'+'pth:\x20f32;\x0a'+'#endif\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20gaussian\x20'+'details\x0a\x20\x20'+'\x20\x20var\x20sour'+'ce:\x20SplatS'+'ource;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Source(&so'+'urce))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.positi'+'on\x20=\x20disca'+'rdVec;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20let\x20model'+'Center:\x20ve'+'c3f\x20=\x20read'+'Center(&so'+'urce);\x0a\x0a\x20\x20'+'\x20\x20var\x20cent'+'er:\x20SplatC'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'&center))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20di'+'scardVec;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20pro'+'ject\x20cente'+'r\x20to\x20scree'+'n\x20space\x0a\x20\x20'+'\x20\x20var\x20corn'+'er:\x20SplatC'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(&so'+'urce,\x20&cen'+'ter,\x20&corn'+'er))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20clr:\x20vec4'+'f\x20=\x20readCo'+'lor(&sourc'+'e);\x0a\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'AA\x20compens'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr.a\x20'+('=\x20clr.a\x20*\x20'+'corner.aaF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20spher'+'ical\x20harmo'+'nics\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cal'+'culate\x20the'+'\x20model-spa'+'ce\x20view\x20di'+'rection\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'modelView3'+'x3\x20=\x20mat3x'+'3f(center.'+'modelView['+'0].xyz,\x20ce'+'nter.model'+'View[1].xy'+'z,\x20center.'+'modelView['+'2].xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dir\x20=\x20nor'+'malize(mod'+'elView3x3\x20'+'*\x20center.v'+'iew);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20sh:\x20array'+'<vec3f,\x20SH'+'_COEFFS>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20scale:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20readSHDa'+'ta(&source'+',\x20&sh,\x20&sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr\x20='+'\x20vec4f(clr'+'.xyz\x20+\x20eva'+'lSH(&sh,\x20d'+'ir)\x20*\x20scal'+'e,\x20clr.a);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(&c'+'orner,\x20clr'+'.w);\x0a\x0a\x20\x20\x20\x20'+'//\x20write\x20o'+'utput\x0a\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4f(co'+'rner.offse'+'t,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20ou'+'tput.gauss'+'ianUV\x20=\x20co'+'rner.uv;\x0a\x20'+'\x20\x20\x20output.'+'gaussianCo'+'lor\x20=\x20vec4'+'f(prepareO'+'utputFromG'+'amma(max(c'+'lr.xyz,\x20ve'+'c3f(0.0)))'+',\x20clr.w);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'id\x20=\x20f32(s'+'ource.id);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vLinearD'+'epth\x20=\x20-ce'+'nter.view.'+'z;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),aD='\x0a\x20\x20\x20\x20attri'+'bute\x20aPosi'+'tion:\x20vec2'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20uv0:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20@vertex\x20f'+'n\x20vertexMa'+'in(input:\x20'+'VertexInpu'+'t)\x20->\x20Vert'+'exOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20vec4f(inp'+'ut.aPositi'+'on,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'uv0\x20=\x20getI'+'mageEffect'+'UV((input.'+'aPosition\x20'+'+\x201.0)\x20*\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a',nD='\x0a//\x20Indire'+'ct\x20indexed'+'\x20draw\x20call'+'\x20parameter'+'s\x0astruct\x20D'+'rawIndexed'+'IndirectAr'+'gs\x20{\x0a\x20\x20\x20\x20i'+'ndexCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Numb'+'er\x20of\x20indi'+'ces\x20to\x20dra'+'w\x0a\x20\x20\x20\x20inst'+'anceCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20instanc'+'es\x20to\x20draw'+'\x0a\x20\x20\x20\x20first'+'Index:\x20u32'+',\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Index\x20of'+'\x20the\x20first'+'\x20index\x20in\x20'+'the\x20index\x20'+'buffer\x0a\x20\x20\x20'+'\x20baseVerte'+'x:\x20i32,\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Of'+'fset\x20added'+'\x20to\x20each\x20i'+'ndex\x20befor'+'e\x20fetching'+'\x20vertex\x0a\x20\x20'+'\x20\x20firstIns'+'tance:\x20u32'+'\x20\x20\x20\x20\x20\x20//\x20F'+'irst\x20insta'+'nce\x20ID\x0a};\x0a'+'\x0a//\x20Indire'+'ct\x20non-ind'+'exed\x20draw\x20'+'call\x20param'+'eters\x0astru'+'ct\x20DrawInd'+'irectArgs\x20'+'{\x0a\x20\x20\x20\x20vert'+'exCount:\x20u'+'32,\x20\x20\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20vertice'+'s\x20to\x20draw\x0a'+'\x20\x20\x20\x20instan'+'ceCount:\x20u'+'32,\x20\x20\x20\x20\x20//'+'\x20Number\x20of'+'\x20instances'+'\x20to\x20draw\x0a\x20'+'\x20\x20\x20firstVe'+'rtex:\x20u32,'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Index\x20of\x20t'+'he\x20first\x20v'+'ertex\x0a\x20\x20\x20\x20'+'firstInsta'+'nce:\x20u32,\x20'+'\x20\x20\x20\x20//\x20Fir'+'st\x20instanc'+'e\x20ID\x0a\x20\x20\x20\x20_'+'pad:\x20u32\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Padd'+'ing\x20to\x20mat'+'ch\x20indexed'+'\x20size\x20(unu'+'sed)\x0a};\x0a',oD='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gamma'+'PS\x22\x0a\x20\x20\x20\x20va'+'rying\x20colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(decodeGam'+'ma3(input.'+'color.rgb)'+'),\x20input.c'+'olor.a);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a',lD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20matr'+'ix_model:\x20'+'mat4x4f;\x0a\x20'+'\x20\x20\x20uniform'+'\x20matrix_vi'+'ewProjecti'+'on:\x20mat4x4'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output\x20:\x20V'+'ertexOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20inpu'+'t.vertex_c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20unifor'+'m.matrix_m'+'odel\x20*\x20inp'+'ut.vertex_'+'position;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',cD='\x0auniform\x20m'+'aterial_ir'+'idescenceR'+'efractionI'+'ndex:\x20f32;'+'\x0a\x0afn\x20iride'+'scence_ior'+'ToFresnelS'+'calar(tran'+'smittedIor'+':\x20f32,\x20inc'+'identIor:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(('+'transmitte'+'dIor\x20-\x20inc'+'identIor)\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'incidentIo'+'r),\x202.0);\x0a'+'}\x0a\x0afn\x20irid'+'escence_io'+'rToFresnel'+'Vec3(trans'+'mittedIor:'+'\x20vec3f,\x20in'+'cidentIor:'+'\x20f32)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'vec3f(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3f(inci'+'dentIor)),'+'\x20vec3f(2.0'+'));\x0a}\x0a\x0afn\x20'+'iridescenc'+'e_fresnelT'+'oIor(f0:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20sqrtF'+'0:\x20vec3f\x20='+'\x20sqrt(f0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20(vec3f(1'+'.0)\x20+\x20sqrt'+'F0)\x20/\x20(vec'+'3f(1.0)\x20-\x20'+'sqrtF0);\x0a}'+'\x0a\x0aconst\x20XY'+'Z_TO_REC70'+'9:\x20mat3x3f'+'\x20=\x20mat3x3f'+'(\x0a\x20\x20\x20\x20vec3'+'f(3.240454'+'2,\x20-1.5371'+'385,\x20-0.49'+'85314),\x0a\x20\x20'+'\x20\x20vec3f(-0'+'.9692660,\x20'+'\x201.8760108'+',\x20\x200.04155'+'60),\x0a\x20\x20\x20\x20v'+'ec3f(0.055'+'6434,\x20-0.2'+'040259,\x20\x201'+'.0572252)\x0a'+');\x0a\x0afn\x20iri'+'descence_s'+'ensitivity'+'(opd:\x20f32,'+'\x20shift:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x20\x20\x20\x20let'+'\x20phase:\x20f3'+'2\x20=\x202.0\x20*\x20'+'PI\x20*\x20opd\x20*'+'\x201.0e-9;\x0a\x20'+'\x20\x20\x20const\x20v'+'al:\x20vec3f\x20'+'=\x20vec3f(5.'+'4856e-13,\x20'+'4.4201e-13'+',\x205.2481e-'+'13);\x0a\x20\x20\x20\x20c'+'onst\x20pos:\x20'+'vec3f\x20=\x20ve'+'c3f(1.6810'+'e+06,\x201.79'+('53e+06,\x202.'+'2084e+06);'+'\x0a\x20\x20\x20\x20const'+'\x20var_:\x20vec'+'3f\x20=\x20vec3f'+'(4.3278e+0'+'9,\x209.3046e'+'+09,\x206.612'+'1e+09);\x0a\x0a\x20'+'\x20\x20\x20var\x20xyz'+':\x20vec3f\x20=\x20'+'val\x20*\x20sqrt'+'(2.0\x20*\x20PI\x20'+'*\x20var_)\x20*\x20'+'cos(pos\x20*\x20'+'phase\x20+\x20sh'+'ift)\x20*\x20exp'+'(-pow(phas'+'e,\x202.0)\x20*\x20'+'var_);\x0a\x20\x20\x20'+'\x20xyz.x\x20=\x20x'+'yz.x\x20+\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+'cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20=\x20xyz\x20/\x20v'+'ec3f(1.068'+'5e-07);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'XYZ_TO_REC'+'709\x20*\x20xyz;'+'\x0a}\x0a\x0afn\x20iri'+'descence_f'+'resnelScal'+'ar(cosThet'+'a:\x20f32,\x20f0'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20x:\x20f32'+'\x20=\x20clamp(1'+'.0\x20-\x20cosTh'+'eta,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'let\x20x2:\x20f3'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20let\x20x'+'5:\x20f32\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0afn'+'\x20iridescen'+'ce_fresnel'+'Vec3(cosTh'+'eta:\x20f32,\x20'+'f0:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'x:\x20f32\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'x2:\x20f32\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20let\x20x5:\x20f'+'32\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x0a\x20\x20'+'\x20\x20return\x20f'+'0\x20+\x20(vec3f'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0afn\x20calcIr'+'idescence('+'outsideIor'+':\x20f32,\x20cos'+'Theta:\x20f32'+',\x20base_f0:'+'\x20vec3f,\x20ir'+'idescenceT'+'hickness:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0a\x20\x20\x20\x20le'+'t\x20iridesce'+'nceIor:\x20f3'+'2\x20=\x20mix(ou')+('tsideIor,\x20'+'uniform.ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20let\x20s'+'inTheta2Sq'+':\x20f32\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c'+'osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2Sq:\x20f32'+'\x20=\x201.0\x20-\x20s'+'inTheta2Sq'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(cosTheta2'+'Sq\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3f(1.0);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2:\x20f32\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20let\x20r'+'0:\x20f32\x20=\x20i'+'ridescence'+'_iorToFres'+'nelScalar('+'iridescenc'+'eIor,\x20outs'+'ideIor);\x0a\x20'+'\x20\x20\x20let\x20r12'+':\x20f32\x20=\x20ir'+'idescence_'+'fresnelSca'+'lar(cosThe'+'ta,\x20r0);\x0a\x20'+'\x20\x20\x20let\x20r21'+':\x20f32\x20=\x20r1'+'2;\x0a\x20\x20\x20\x20let'+'\x20t121:\x20f32'+'\x20=\x201.0\x20-\x20r'+'12;\x0a\x0a\x20\x20\x20\x20l'+'et\x20phi12:\x20'+'f32\x20=\x20sele'+'ct(0.0,\x20PI'+',\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor)'+';\x0a\x20\x20\x20\x20let\x20'+'phi21:\x20f32'+'\x20=\x20PI\x20-\x20ph'+'i12;\x0a\x0a\x20\x20\x20\x20'+'let\x20baseIo'+'r:\x20vec3f\x20='+'\x20iridescen'+'ce_fresnel'+'ToIor(base'+'_f0\x20+\x20vec3'+'f(0.0001))'+';\x0a\x20\x20\x20\x20let\x20'+'r1:\x20vec3f\x20'+'=\x20iridesce'+'nce_iorToF'+'resnelVec3'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20let\x20r23:\x20'+'vec3f\x20=\x20ir'+'idescence_'+'fresnelVec'+'3(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20let\x20phi'+'23:\x20vec3f\x20'+'=\x20select(v'+'ec3f(0.0),'+'\x20vec3f(PI)'+',\x20baseIor\x20'+'<\x20vec3f(ir'+'idescenceI'+'or));\x0a\x20\x20\x20\x20'+'let\x20opd:\x20f'+'32\x20=\x202.0\x20*'+'\x20iridescen'+'ceIor\x20*\x20ir'+'idescenceT')+('hickness\x20*'+'\x20cosTheta2'+';\x0a\x20\x20\x20\x20let\x20'+'phi:\x20vec3f'+'\x20=\x20vec3f(p'+'hi21)\x20+\x20ph'+'i23;\x20//\x20Pr'+'omote\x20scal'+'ar\x20phi21\x20t'+'o\x20vec3f\x0a\x0a\x20'+'\x20\x20\x20let\x20r12'+'3Sq:\x20vec3f'+'\x20=\x20clamp(v'+'ec3f(r12)\x20'+'*\x20r23,\x20vec'+'3f(1e-5),\x20'+'vec3f(0.99'+'99));\x0a\x20\x20\x20\x20'+'let\x20r123:\x20'+'vec3f\x20=\x20sq'+'rt(r123Sq)'+';\x0a\x20\x20\x20\x20let\x20'+'rs:\x20vec3f\x20'+'=\x20pow(vec3'+'f(t121),\x20v'+'ec3f(2.0))'+'\x20*\x20r23\x20/\x20('+'vec3f(1.0)'+'\x20-\x20r123Sq)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20c0:\x20vec3f'+'\x20=\x20vec3f(r'+'12)\x20+\x20rs;\x0a'+'\x20\x20\x20\x20var\x20i_'+'irid:\x20vec3'+'f\x20=\x20c0;\x0a\x0a\x20'+'\x20\x20\x20var\x20cm:'+'\x20vec3f\x20=\x20r'+'s\x20-\x20vec3f('+'t121);\x0a\x0a\x20\x20'+'\x20\x20cm\x20=\x20cm\x20'+'*\x20r123;\x0a\x20\x20'+'\x20\x20let\x20sm1:'+'\x20vec3f\x20=\x202'+'.0\x20*\x20iride'+'scence_sen'+'sitivity(1'+'.0\x20*\x20opd,\x20'+'1.0\x20*\x20phi)'+';\x0a\x20\x20\x20\x20i_ir'+'id\x20=\x20i_iri'+'d\x20+\x20cm\x20*\x20s'+'m1;\x0a\x0a\x20\x20\x20\x20c'+'m\x20=\x20cm\x20*\x20r'+'123;\x0a\x20\x20\x20\x20l'+'et\x20sm2:\x20ve'+'c3f\x20=\x202.0\x20'+'*\x20iridesce'+'nce_sensit'+'ivity(2.0\x20'+'*\x20opd,\x202.0'+'\x20*\x20phi);\x0a\x20'+'\x20\x20\x20i_irid\x20'+'=\x20i_irid\x20+'+'\x20cm\x20*\x20sm2;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20max(i_i'+'rid,\x20vec3f'+'(0.0));\x0a}\x0a'+'\x0afn\x20getIri'+'descenceDi'+'ffraction('+'cosTheta:\x20'+'f32,\x20specu'+'larity:\x20ve'+'c3f,\x20iride'+'scenceThic'+'kness:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),hD='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_irides'+'cence:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getIrid'+'escence()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'iridescenc'+'e\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_CON'+'STANT\x0a\x20\x20\x20\x20'+'iridescenc'+'e\x20=\x20irides'+'cence\x20*\x20un'+'iform.mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20=\x20iridesc'+'ence\x20*\x20tex'+'tureSample'+'Bias({STD_'+'IRIDESCENC'+'E_TEXTURE_'+'NAME},\x20{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_CHANNEL}'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dI'+'ridescence'+'\x20=\x20iridesc'+'ence;\x20\x0a}\x0a',dD='\x0auniform\x20m'+'aterial_ir'+'idescenceT'+'hicknessMa'+'x:\x20f32;\x0a\x0a#'+'ifdef\x20STD_'+'IRIDESCENC'+'ETHICKNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20uniform'+'\x20material_'+'iridescenc'+'eThickness'+'Min:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20blen'+'d:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_IRIDESCE'+'NCETHICKNE'+'SS_TEXTURE'+'_NAME},\x20{S'+'TD_IRIDESC'+'ENCETHICKN'+'ESS_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20iridesce'+'nceThickne'+'ss:\x20f32\x20=\x20'+'mix(unifor'+'m.material'+'_iridescen'+'ceThicknes'+'sMin,\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax,\x20bl'+'end);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceT'+'hickness:\x20'+'f32\x20=\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scenceThic'+'kness\x20=\x20ir'+'idescenceT'+'hickness;\x20'+'\x0a}\x0a',fD='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_refr'+'actionInde'+'x:\x20f32;\x0a#e'+'ndif\x0a\x0afn\x20g'+'etIor()\x20{\x0a'+'#ifdef\x20STD'+'_IOR_CONST'+'ANT\x0a\x20\x20\x20\x20dI'+'or\x20=\x20unifo'+'rm.materia'+'l_refracti'+'onIndex;\x0a#'+'else\x0a\x20\x20\x20\x20d'+'Ior\x20=\x201.0\x20'+'/\x201.5;\x0a#en'+'dif\x0a}\x0a',uD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_color'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_direction'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_POINT\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20poi'+'nt\x20lights\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20lig'+'ht{i}_posi'+'tion:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ra'+'dius:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'SPOT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_SPOT\x20//\x20'+'include\x20fu'+'nctionalit'+'y\x20for\x20spot'+'\x20lights\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_di'+'rection:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_inner'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_outer'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_FALLOFF_'+'SQUARED\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20inv'+'erse\x20squar'+'ed\x20falloff'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_position:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ha'+'lfWidth:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_halfHeigh'+'t:\x20vec3f;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}FALLOFF\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_LINE'+'AR\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20linear\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}FALLOFF'+'\x20==\x20INVERS'+'ESQUARED\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_SQUA'+'RED\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20inverse'+'\x20squared\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20shadow\x20c'+'asting\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowMatri'+'x:\x20mat4x4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20li'+'ght{i}_sha'+'dowIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'{i}_shadow'+'Params:\x20ve'+'c4f;\x20//\x20wi'+'dth,\x20heigh'+'t,\x20bias,\x20r'+'adius\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowSearc'+'hArea:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_cameraPar'+'ams:\x20vec4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'oftShadowP'+'arams:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'directiona'+'l\x20(cascade'+'d)\x20shadows'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20light{i}_'+'shadowMatr'+'ixPalette:'+'\x20array<mat'+'4x4f,\x204>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deDistance'+'s:\x20vec4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deCount:\x20i'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20light{'+'i}_shadowC'+'ascadeBlen'+'d:\x20f32;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20N'+'OT\x20SUPPORT'+'ED\x0a/*\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIG'+'HT{i}SHADO'+'W_PCF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMap:\x20tex'+'ture_depth'+'_2d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'{i}_shadow'+'MapSampler'+':\x20sampler_'+'comparison'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'light{i}_s'+'hadowMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMapSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIGHT{i}CO'+'OKIE)\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_COOKIE\x20/'+'/\x20include\x20'+'functional'+'ity\x20for\x20co'+'okies\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20OMNI\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20NOT\x20SUPP'+'ORTED\x0a/*\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'plerCube\x20l'+'ight{i}_co'+'okie;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un')+('iform\x20floa'+'t\x20light{i}'+'_cookieInt'+'ensity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20!defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20light{i}'+'_shadowMat'+'rix;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20NO'+'T\x20SUPPORTE'+'D\x0a/*\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_cookie;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_cook'+'ieIntensit'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20!'+'defined(LI'+'GHT{i}CAST'+'SHADOW)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrix;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}COOKIE_TR'+'ANSFORM)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_coo'+'kieMatrix;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'light{i}_c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a*/\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),pD='\x0afn\x20getLig'+'htDiffuse('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',mD='\x0afn\x20evalOm'+'niLight(li'+'ghtPosW:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a}\x0a',_D='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',gD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0afn\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x20\x20\x20'+'\x20//\x20light\x20'+'color\x0a\x20\x20\x20\x20'+'var\x20lightC'+'olor:\x20vec3'+'f\x20=\x20unifor'+'m.light{i}'+'_color;\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20!d'+'efined(LIT'+'_SHADOW_CA'+'TCHER)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ea'+'rly\x20return'+'\x20if\x20the\x20li'+'ght\x20color\x20'+'is\x20black\x20('+'used\x20by\x20sh'+'adow\x20catch'+'er\x20-\x20this\x20'+'way\x20this\x20l'+'ight\x20is\x20ve'+'ry\x20cheap)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(all(ligh'+'tColor\x20==\x20'+'vec3f(0.0,'+'\x200.0,\x200.0)'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20DIRECTION'+'AL\x20//\x20dire'+'ctional\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightD'+'irNormW\x20=\x20'+'uniform.li'+'ght{i}_dir'+'ection;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20omni\x20o'+'r\x20spot\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(u'+'niform.lig'+'ht{i}_posi'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tDirNormW\x20'+'=\x20normaliz'+'e(lightDir'+'W);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIGHT'+'{i}COOKIE)'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20SPOT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_FAL'+'LOFF\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+('eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DXform(u'+'niform.lig'+'ht{i}_cook'+'ie,\x20unifor'+'m.light{i}'+'_shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_cookieIn'+'tensity,\x20u'+'niform.lig'+'ht{i}_cook'+'ieMatrix,\x20'+'uniform.li'+'ght{i}_coo'+'kieOffset)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookie2D('+'uniform.li'+'ght{i}_coo'+'kie,\x20unifo'+'rm.light{i'+'}_shadowMa'+'trix,\x20unif'+'orm.light{'+'i}_cookieI'+'ntensity).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClipXfo'+'rm(uniform'+'.light{i}_'+'cookie,\x20un'+'iform.ligh'+'t{i}_shado'+'wMatrix,\x20u'+'niform.lig'+'ht{i}_cook'+'ieIntensit'+'y,\x20uniform'+'.light{i}_'+'cookieMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieOff'+'set).{LIGH'+'T{i}COOKIE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClip(un'+'iform.ligh'+'t{i}_cooki'+'e,\x20uniform'+'.light{i}_'+'shadowMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieInt'+'ensity).{L'+'IGHT{i}COO'+'KIE_CHANNE'+'L};\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookieCub'+'e(uniform.'+'light{i}_c'+'ookie,\x20uni'+'form.light'+'{i}_shadow'+'Matrix,\x20un'+'iform.ligh'+'t{i}_cooki'+'eIntensity'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multipl'+'y\x20light\x20co'+'lor\x20by\x20the'+'\x20cookie\x20at'+'tenuation\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightCol'+'or\x20=\x20light'+'Color\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dista'+'nce\x20fallof'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20PUNCTUAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}FALLOF'+'F\x20==\x20LINEA'+'R\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20=\x20get'+'FalloffLin'+'ear(unifor'+'m.light{i}'+'_radius,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20getFal'+'loffInvSqu'+'ared(unifo'+'rm.light{i'+'}_radius,\x20'+'lightDirW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'non\x20punctu'+'al\x20lights\x20'+'only\x20gets\x20'+'the\x20range\x20'+'window\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'uniform.li'+'ght{i}_rad'+'ius,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20angle'+'\x20falloff\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20SPO'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d')+('efined(LIG'+'HT{i}COOKI'+'E)\x20||\x20defi'+'ned(LIGHT{'+'i}COOKIE_F'+'ALLOFF)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20dAtten\x20'+'*\x20getSpotE'+'ffect(unif'+'orm.light{'+'i}_directi'+'on,\x20unifor'+'m.light{i}'+'_innerCone'+'Angle,\x20uni'+'form.light'+'{i}_outerC'+'oneAngle,\x20'+'dLightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20if\x20'+'(dAtten\x20<\x20'+'0.00001)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20evaluate\x20'+'area\x20light'+'\x20values\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20RECT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcRectLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20calcDiskL'+'ightValues'+'(uniform.l'+'ight{i}_po'+'sition,\x20un'+'iform.ligh'+'t{i}_halfW'+'idth,\x20unif'+'orm.light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20SPH'+'ERE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20calc'+'SphereLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20dif'+'fuse\x20light'+'ing\x20-\x20LTC\x20'+'lights\x20do\x20'+'not\x20mix\x20di'+'ffuse\x20ligh'+'ting\x20into\x20'+'attenuatio'+'n\x20that\x20aff'+'ects\x20specu'+'lar\x0a\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P')+('UNCTUAL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'attenDiffu'+'se\x20-\x20separ'+'ate\x20diffus'+'e\x20attenuat'+'ion\x20for\x20no'+'n-punctual'+'\x20light\x20sou'+'rces\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20NB:\x20A\x20bet'+'ter\x20approx'+'imation\x20pe'+'rhaps\x20usin'+'g\x20wrap\x20lig'+'hting\x20coul'+'d\x20be\x20imple'+'mented\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20at'+'tenDiffuse'+':\x20f32\x20=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x2016.0\x20is\x20'+'a\x20constant'+'\x20that\x20is\x20i'+'n\x20getFallo'+'ffInvSquar'+'ed()\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20attenDi'+'ffuse:\x20f32'+'\x20=\x20getRect'+'LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20light'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20DISK\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'attenDiffu'+'se:\x20f32\x20=\x20'+'getDiskLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20lightDir'+'W,\x20dLightD'+'irNormW)\x20*'+'\x2016.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20LIGHT'+'{i}SHAPE\x20='+'=\x20SPHERE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20a'+'ttenDiffus'+'e:\x20f32\x20=\x20g'+'etSphereLi'+'ghtDiffuse'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20lightDi'+'rW,\x20dLight'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20one\x20par'+'ameter\x20is\x20'+'unused\x20for')+('\x20punctual\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20dAtten'+'\x20*\x20getLigh'+'tDiffuse(l'+'itArgs_wor'+'ldNormal,\x20'+'vec3(0.0),'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20the\x20sha'+'dow\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}CASTS'+'HADOW\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20shadow:'+'\x20f32\x20=\x20get'+'Shadow{i}('+'vec3(0.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20shadow:\x20'+'f32\x20=\x20getS'+'hadow{i}(l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Ap'+'ply\x20shadow'+'\x20intensity'+'\x20to\x20the\x20sh'+'adow\x20value'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadow\x20=\x20mi'+'x(1.0,\x20sha'+'dow,\x20unifo'+'rm.light{i'+'}_shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20dA'+'tten\x20*\x20sha'+'dow;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SHADOW_CAT'+'CHER)\x20&&\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20accumula'+'te\x20shadows'+'\x20for\x20direc'+'tional\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSha'+'dowCatcher'+'\x20=\x20dShadow'+'Catcher\x20*\x20'+'shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20-\x20they'+'\x20do\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((('+'attenDiffu'+'se\x20*\x20dAtte'+'n)\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20dLTC'+'SpecFres))')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'((attenDif'+'fuse\x20*\x20dAt'+'ten)\x20*\x20lig'+'htColor);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(AREA_'+'LIGHTS)\x20&&'+'\x20defined(L'+'IT_SPECULA'+'R)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((d'+'Atten\x20*\x20li'+'ghtColor)\x20'+'*\x20(1.0\x20-\x20l'+'itArgs_spe'+'cularity))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'(dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20spe'+'cular\x20ligh'+'ting\x0a\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}AFFECT'+'_SPECULARI'+'TY\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20==\x20REC'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getRe'+'ctLightSpe'+'cular(litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20dVi'+'ewDirW)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20ccSpec'+'ularLight\x20'+'+\x20(ccLTCSp'+'ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20SPHER'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_clea'+'rcoat_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20=\x20dS'+'pecularLig'+'ht\x20+\x20(dLTC'+'SpecFres\x20*'+'\x20getRectLi'+'ghtSpecula'+'r(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20(dLT'+'CSpecFres\x20'+'*\x20getDiskL'+'ightSpecul'+'ar(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW)\x20*\x20dAt'+'ten\x20*\x20ligh'+'tColor);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'=\x20dSpecula'+'rLight\x20+\x20('+'dLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20//\x20punctu'+'al\x20light\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20is\x20fr'+'esnel\x20need'+'ed\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC')+('TIONAL\x20&&\x20'+'LIT_FRESNE'+'L_MODEL\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ha'+'lfDirW:\x20ve'+'c3f\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20if\x20LTC\x20li'+'ghts\x20are\x20p'+'resent,\x20sp'+'ecular\x20mus'+'t\x20be\x20accum'+'ulated\x20wit'+'h\x20specular'+'ity\x20(specu'+'larity\x20is\x20'+'pre\x20multip'+'lied\x20by\x20pu'+'nctual\x20lig'+'ht\x20fresnel'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'specularCC'+':\x20vec3f\x20=\x20'+'getLightSp'+'ecular(hal'+'fDirW,\x20ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20dLightDir'+'NormW,\x20lit'+'Args_clear'+'coat_gloss'+',\x20dTBN)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightspecu'+'larCC\x20=\x20li'+'ghtspecula'+'rCC\x20*\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20halfDi'+'rW));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20=\x20ccSpecu'+'larLight\x20+'+'\x20lightspec'+'ularCC;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sSpecul'+'arLight\x20=\x20'+'sSpecularL'+'ight\x20+\x20(ge'+'tLightSpec'+'ularSheen('+'halfDirW,\x20'+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi')+('rNormW,\x20li'+'tArgs_shee'+'n_gloss)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tSpecular:'+'\x20vec3f\x20=\x20g'+'etLightSpe'+'cular(half'+'DirW,\x20dRef'+'lDirW,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20d'+'LightDirNo'+'rmW,\x20litAr'+'gs_gloss,\x20'+'dTBN)\x20*\x20dA'+'tten\x20*\x20lig'+'htColor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'FRESNEL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20=\x20li'+'ghtSpecula'+'r\x20*\x20getFre'+'snel(dot(d'+'ViewDirW,\x20'+'halfDirW),'+'\x20litArgs_g'+'loss,\x20litA'+'rgs_specul'+'arity,\x20iri'+'descenceFr'+'esnel,\x20lit'+'Args_iride'+'scence_int'+'ensity);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightSpecul'+'ar\x20=\x20light'+'Specular\x20*'+'\x20getFresne'+'l(dot(dVie'+'wDirW,\x20hal'+'fDirW),\x20li'+'tArgs_glos'+'s,\x20litArgs'+'_speculari'+'ty);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20light'+'Specular\x20='+'\x20lightSpec'+'ular\x20*\x20lit'+'Args_specu'+'larity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20+\x20li'+'ghtSpecula'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'#endif\x0a'),SD='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowSam'+'pleCoord{i'+'}(shadowTr'+'ansform:\x20m'+'at4x4f,\x20sh'+'adowParams'+':\x20vec4f,\x20w'+'orldPositi'+'on:\x20vec3f,'+'\x20lightPos:'+'\x20vec3f,\x20li'+'ghtDir:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'lightDirNo'+'rm:\x20vec3f,'+'\x20normal:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'surfacePos'+'ition\x20=\x20wo'+'rldPositio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_POINT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(*l'+'ightDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y\x20*\x20cl'+'amp(1.0\x20-\x20'+'dot(normal'+',\x20-lightDi'+'rNorm),\x200.'+'0,\x201.0)\x20*\x20'+'distScale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20*li'+'ghtDir\x20=\x20s'+'urfacePosi'+'tion\x20-\x20lig'+'htPos;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'*lightDir;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}_SHADOW_'+'SAMPLE_NOR'+'MAL_OFFSET'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_SAMP'+'LE_ORTHO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dis'+'tScale:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20distSca'+'le:\x20f32\x20=\x20'+'abs(dot(vP'+'ositionW\x20-'+'\x20lightPos,'+'\x20lightDirN'+'orm));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Use'+'\x20var\x20for\x20m'+'odificatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20po'+'sitionInSh'+'adowSpace:'+'\x20vec4f\x20=\x20s'+'hadowTrans'+'form\x20*\x20vec'+'4f(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM')+('PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20=\x20pos'+'itionInSha'+'dowSpace.x'+'yz\x20/\x20posit'+'ionInShado'+'wSpace.w;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.xy\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/\x20posi'+'tionInShad'+'owSpace.w;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20positionI'+'nShadowSpa'+'ce.z\x20=\x20len'+'gth(*light'+'Dir)\x20*\x20sha'+'dowParams.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20this\x20is\x20c'+'urrently\x20u'+'nused\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_Z'+'_BIAS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20posit'+'ionInShado'+'wSpace.z\x20+'+'=\x20getShado'+'wBias(shad'+'owParams.x'+',\x20shadowPa'+'rams.z);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sur'+'facePositi'+'on;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20evalu'+'ation\x20func'+'tion\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'w{i}(light'+'DirW_in:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20s'+'hadow\x20casc'+'ades\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_CASC'+'ADES\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20select\x20sh'+'adow\x20casca'+'de\x20matrix\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20casc'+'adeIndex:\x20'+'i32\x20=\x20getS'+'hadowCasca'+'deIndex(un'+'iform.ligh'+'t{i}_shado'+'wCascadeDi'+'stances,\x20u'+'niform.lig'+'ht{i}_shad')+('owCascadeC'+'ount);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_CASCADE'+'_BLEND\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20cascade'+'Index\x20=\x20di'+'therShadow'+'CascadeInd'+'ex(cascade'+'Index,\x20uni'+'form.light'+'{i}_shadow'+'CascadeDis'+'tances,\x20un'+'iform.ligh'+'t{i}_shado'+'wCascadeCo'+'unt,\x20unifo'+'rm.light{i'+'}_shadowCa'+'scadeBlend'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowMatri'+'x:\x20mat4x4f'+'\x20=\x20uniform'+'.light{i}_'+'shadowMatr'+'ixPalette['+'cascadeInd'+'ex];\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20sha'+'dowMatrix:'+'\x20mat4x4f\x20='+'\x20uniform.l'+'ight{i}_sh'+'adowMatrix'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20lightDirA'+'rg\x20=\x20light'+'DirW_in;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20direc'+'tional\x20lig'+'ht\x20does\x20no'+'t\x20have\x20a\x20p'+'osition\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20getSh'+'adowSample'+'Coord{i}(s'+'hadowMatri'+'x,\x20uniform'+'.light{i}_'+'shadowPara'+'ms,\x20vPosit'+'ionW,\x20vec3'+'f(0.0),\x20&l'+'ightDirArg'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owCoord:\x20v'+'ec3f\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_shadowPa'+'rams,\x20vPos'+'itionW,\x20un'+'iform.ligh'+'t{i}_posit'+'ion,\x20&ligh'+'tDirArg,\x20d'+'LightDirNo'+'rmW,\x20dVert'+'exNormalW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('#endif\x0a\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Fade\x20direc'+'tional\x20sha'+'dow\x20at\x20the'+'\x20far\x20dista'+'nce\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'owCoord\x20=\x20'+'fadeShadow'+'(shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowCas'+'cadeDistan'+'ces);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20-----\x20s'+'ample\x20the\x20'+'shadow\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20---'+'--\x20directi'+'onal\x20light'+'\x20-----\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20VSM_'+'16F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowVSM1'+'6(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s,\x205.54);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20VS'+'M_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowVS'+'M32(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x2015.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2f(lengt'+'h(uniform.'+'light{i}_h'+'alfWidth),'+'\x20length(un'+'iform.ligh'+'t{i}_halfH'+'eight))\x20*\x20'+'uniform.li'+'ght{i}_sha'+'dowSearchA'+'rea;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCSS(ligh'+'t{i}_shado'+'wMap,\x20ligh'+'t{i}_shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20unif'+'orm.light{'+'i}_shadowP'+'arams,\x20uni'+'form.light'+'{i}_camera'+'Params,\x20sh'+'adowSearch'+'Area,\x20ligh'+'tDirW_in);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CSS(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x20unifo'+'rm.light{i'+'}_cameraPa'+'rams,\x20unif'+'orm.light{'+'i}_softSha'+'dowParams,'+'\x20lightDirW'+'_in);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF1_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF1x1('+'light{i}_s'+'hadowMap,\x20'+'light{i}_s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'uniform.li'+'ght{i}_sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_16F\x20|'+'|\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF3_3'+'2F\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowPCF3x'+'3(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_16F'+'\x20||\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF5')+('_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x20//\x20-'+'----\x20spot\x20'+'light\x20----'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM16'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x205.54,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM32'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x2015.0,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20!=\x20PU'+'NCTUAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f\x20=\x20vec'+'2f(length('+'uniform.li'+'ght{i}_hal'+'fWidth),\x20l'+'ength(unif'+'orm.light{'+'i}_halfHei'+'ght))\x20*\x20un'+'iform.ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowSearc'+'hArea:\x20vec')+('2f\x20=\x20vec2f'+'(uniform.l'+'ight{i}_sh'+'adowSearch'+'Area);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCSS'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x20uniform.'+'light{i}_c'+'ameraParam'+'s,\x20shadowS'+'earchArea,'+'\x20lightDirW'+'_in);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'16F\x20||\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF1_32F\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF1x1'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'5_16F\x20||\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF5_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCF5'+'x5(light{i'+'}_shadowMa'+'p,\x20light{i'+'}_shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20uniform'+'.light{i}_'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20')+('\x20\x20\x20#endif\x0a'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x20//\x20--'+'---\x20omni\x20l'+'ight\x20-----'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f;\x20//\x20U'+'se\x20var\x20bec'+'ause\x20assig'+'ned\x20in\x20if/'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owSearchAr'+'ea:\x20vec2f\x20'+'=\x20vec2f(le'+'ngth(unifo'+'rm.light{i'+'}_halfWidt'+'h),\x20length'+'(uniform.l'+'ight{i}_ha'+'lfHeight))'+'\x20*\x20uniform'+'.light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'SearchArea'+':\x20vec2f\x20=\x20'+'vec2f(unif'+'orm.light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20un'+'iform.ligh'+'t{i}_camer'+'aParams,\x20s'+'hadowSearc'+'hArea,\x20lig'+'htDirW_in)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in')+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),yD='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'var\x20areaLi'+'ghtsLutTex'+'1:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20areaLight'+'sLutTex2:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20areaL'+'ightsLutTe'+'x2Sampler:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'omni\x20/\x20spo'+'t\x20PCSS\x20is\x20'+('not\x20suppor'+'ted\x20on\x20Web'+'GPU\x20curren'+'tly,\x20as\x20th'+'is\x20is\x20only'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0a\x20\x20\x20\x20'+'//\x20#includ'+'e\x20\x22shadowP'+'CSSPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22shadowSof'+'tPS\x22\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(SHADO'+'W_KIND_VSM'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owEVSMPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22falloff'+'LinearPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_SQUARED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fallof'+'fInvSquare'+'dPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_CODE_L'+'IGHTS_POIN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDirPointP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22spotPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'CODE_COOKI'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22cook'+'iePS\x22\x0a#end'+'if\x0a\x0a//\x20clu'+'stered\x20lig'+'hting\x0a#ifd'+'ef\x20LIT_CLU'+'STERED_LIG'+'HTS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22cl'+'usteredLig'+'htPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIGHT_COU'+'NT\x20>\x200\x0a\x20\x20\x20'+'\x20//\x20LOOP\x20-'+'\x20generate\x20'+'shadow\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionShadow'+'PS,\x20LIGHT_'+'COUNT\x22\x0a\x0a\x20\x20'+'\x20\x20//\x20LOOP\x20'+'-\x20generate'+'\x20light\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionLightP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a'),vD='\x0afn\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20lightmap:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20dir:\x20vec'+'3f,\x0a\x20\x20\x20\x20wo'+'rldNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20viewDir:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20reflecti'+'onDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20ve'+'rtexNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20tbn:\x20ma'+'t3x3f\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20iridesce'+'nceIntensi'+'ty:\x20f32\x0a#e'+'ndif\x0a)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x20&&'+'\x20defined(L'+'IT_DIR_LIG'+'HTMAP)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'dot(dir,\x20d'+'ir)\x20<\x200.00'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20dD'+'iffuseLigh'+'t\x20+\x20lightm'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20vli'+'ght:\x20f32\x20='+'\x20saturate('+'dot(dir,\x20-'+'vertexNorm'+'al));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20flight:\x20'+'f32\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20nlig'+'ht:\x20f32\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20=\x20dDiff'+'useLight\x20+'+'\x20lightmap\x20'+'*\x20nlight\x20*'+'\x202.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20halfDir'+':\x20vec3f\x20=\x20'+'normalize('+'-dir\x20+\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20specula'+'rLight:\x20ve'+'c3f\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+('_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'=\x20specular'+'Light\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(d'+'ot(viewDir'+',\x20halfDir)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20,\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20specularL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'non-direct'+'ional\x20ligh'+'tmap\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20+\x20ligh'+'tmap;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),xD='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'var<privat'+'e>\x20dLightm'+'apDir:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'dirLightMa'+'p:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_dirL'+'ightMapSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0afn\x20getL'+'ightMap()\x20'+'{\x0a\x0a\x20\x20\x20\x20dLi'+'ghtmap\x20=\x20v'+'ec3f(1.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_TEXTURE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Lightmap\x20='+'\x20dLightmap'+'\x20*\x20{STD_LI'+'GHT_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_LIGHT_T'+'EXTURE_NAM'+'E},\x20{STD_L'+'IGHT_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+')).{STD_LI'+'GHT_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_LIGHTMAP'+'_DIR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20dir:\x20vec3'+'f\x20=\x20textur'+'eSampleBia'+'s(texture_'+'dirLightMa'+'p,\x20texture'+'_dirLightM'+'apSampler,'+'\x20{STD_LIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).xyz\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20d'+'irDot\x20=\x20do'+'t(dir,\x20dir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tmapDir\x20=\x20'+'select(vec'+'3(0.0),\x20di'+'r\x20/\x20sqrt(d'+'irDot),\x20di'+'rDot\x20>\x200.0'+'01);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dL'+'ightmap\x20=\x20'+'dLightmap\x20'+'*\x20saturate'+'(vVertexCo'+'lor.{STD_L'+'IGHT_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',TD='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'fn\x20calcLig'+'htSpecular'+'(gloss:\x20f3'+'2,\x20worldNo'+'rmal:\x20vec3'+'f,\x20viewDir'+':\x20vec3f,\x20h'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'tbn:\x20mat3x'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20PI:\x20f32\x20='+'\x203.1415926'+'53589793;\x0a'+'\x20\x20\x20\x20let\x20ro'+'ughness:\x20f'+'32\x20=\x20max(('+'1.0\x20-\x20glos'+'s)\x20*\x20(1.0\x20'+'-\x20gloss),\x20'+'0.001);\x0a\x20\x20'+'\x20\x20let\x20alph'+'aRoughness'+':\x20f32\x20=\x20ro'+'ughness\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20let\x20a'+'nisotropy:'+'\x20f32\x20=\x20dAn'+'isotropy;\x0a'+'\x20\x20\x20\x20let\x20di'+'rection:\x20v'+'ec2f\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x0a\x20'+'\x20\x20\x20let\x20at:'+'\x20f32\x20=\x20mix'+'(alphaRoug'+'hness,\x201.0'+',\x20anisotro'+'py\x20*\x20aniso'+'tropy);\x0a\x20\x20'+'\x20\x20let\x20ab:\x20'+'f32\x20=\x20clam'+'p(alphaRou'+'ghness,\x200.'+'001,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20NoH:\x20f32\x20'+'=\x20dot(worl'+'dNormal,\x20h'+');\x0a\x20\x20\x20\x20let'+'\x20ToH:\x20f32\x20'+'=\x20dot(anis'+'otropicT,\x20'+'h);\x0a\x20\x20\x20\x20le'+'t\x20BoH:\x20f32'+'\x20=\x20dot(ani'+'sotropicB,'+'\x20h);\x0a\x0a\x20\x20\x20\x20'+'let\x20a2:\x20f3'+'2\x20=\x20at\x20*\x20a'+'b;\x0a\x20\x20\x20\x20let'+'\x20v:\x20vec3f\x20'+'=\x20vec3f(ab'+'\x20*\x20ToH,\x20at'+'\x20*\x20BoH,\x20a2'+'\x20*\x20NoH);\x0a\x20'+'\x20\x20\x20let\x20v2:'+'\x20f32\x20=\x20dot'+'(v,\x20v);\x0a\x20\x20'+'\x20\x20let\x20w2:\x20'+'f32\x20=\x20a2\x20/'+'\x20v2;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20let\x20To'+'V:\x20f32\x20=\x20d'+'ot(anisotr'+'opicT,\x20vie'+('wDir);\x0a\x20\x20\x20'+'\x20let\x20BoV:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20viewDi'+'r);\x0a\x20\x20\x20\x20le'+'t\x20ToL:\x20f32'+'\x20=\x20dot(ani'+'sotropicT,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20let\x20BoL:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20let\x20No'+'V:\x20f32\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'let\x20NoL:\x20f'+'32\x20=\x20dot(w'+'orldNormal'+',\x20-lightDi'+'rNorm);\x0a\x0a\x20'+'\x20\x20\x20let\x20lam'+'bdaV:\x20f32\x20'+'=\x20NoL\x20*\x20le'+'ngth(vec3f'+'(at\x20*\x20ToV,'+'\x20ab\x20*\x20BoV,'+'\x20NoV));\x0a\x20\x20'+'\x20\x20let\x20lamb'+'daL:\x20f32\x20='+'\x20NoV\x20*\x20len'+'gth(vec3f('+'at\x20*\x20ToL,\x20'+'ab\x20*\x20BoL,\x20'+'NoL));\x0a\x20\x20\x20'+'\x20let\x20G:\x20f3'+'2\x20=\x200.5\x20/\x20'+'(lambdaV\x20+'+'\x20lambdaL);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20D\x20*\x20G;\x0a'+'}\x0a\x0afn\x20getL'+'ightSpecul'+'ar(h:\x20vec3'+'f,\x20reflDir'+':\x20vec3f,\x20w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'DirNorm:\x20v'+'ec3f,\x20glos'+'s:\x20f32,\x20tb'+'n:\x20mat3x3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20calcLigh'+'tSpecular('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir,\x20h'+',\x20lightDir'+'Norm,\x20tbn)'+';\x0a}\x0a'),wD='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afn\x20c'+'alcLightSp'+'ecular(glo'+'ss:\x20f32,\x20w'+'orldNormal'+':\x20vec3f,\x20h'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20nh:\x20'+'f32\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'specPow:\x20f'+'32\x20=\x20exp2('+'gloss\x20*\x2011'+'.0);\x20//\x20gl'+'ossiness\x20i'+'s\x20linear,\x20'+'power\x20is\x20n'+'ot;\x200\x20-\x2020'+'48\x0a\x0a\x20\x20\x20\x20//'+'\x20Hack:\x20On\x20'+'Mac\x20OS\x20X,\x20'+'calling\x20po'+'w\x20with\x20zer'+'o\x20for\x20the\x20'+'exponent\x20g'+'enerates\x20h'+'ideous\x20art'+'ifacts\x20so\x20'+'bias\x20up\x20a\x20'+'little\x0a\x20\x20\x20'+'\x20specPow\x20='+'\x20max(specP'+'ow,\x200.0001'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20pow(n'+'h,\x20specPow'+')\x20*\x20(specP'+'ow\x20+\x202.0)\x20'+'/\x208.0;\x0a}\x0a\x0a'+'fn\x20getLigh'+'tSpecular('+'h:\x20vec3f,\x20'+'reflDir:\x20v'+'ec3f,\x20worl'+'dNormal:\x20v'+'ec3f,\x20view'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20tbn:\x20'+'mat3x3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',ED='\x0a\x0afn\x20sheen'+'D(normal:\x20'+'vec3f,\x20h:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'PI:\x20f32\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20let\x20inv'+'R:\x20f32\x20=\x201'+'.0\x20/\x20(roug'+'hness\x20*\x20ro'+'ughness);\x0a'+'\x20\x20\x20\x20var\x20co'+'s2h:\x20f32\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20=\x20c'+'os2h\x20*\x20cos'+'2h;\x0a\x20\x20\x20\x20le'+'t\x20sin2h:\x20f'+'32\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'fn\x20sheenV('+'normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20light:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20max(dot'+'(normal,\x20v'+'iewDir),\x200'+'.000001);\x0a'+'\x20\x20\x20\x20let\x20No'+'L:\x20f32\x20=\x20m'+'ax(dot(nor'+'mal,\x20light'+'),\x200.00000'+'1);\x0a\x20\x20\x20\x20re'+'turn\x201.0\x20/'+'\x20(4.0\x20*\x20(N'+'oL\x20+\x20NoV\x20-'+'\x20NoL\x20*\x20NoV'+'));\x0a}\x0a\x0afn\x20'+'getLightSp'+'ecularShee'+'n(h:\x20vec3f'+',\x20worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f,\x20li'+'ghtDirNorm'+':\x20vec3f,\x20s'+'heenGloss:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20let\x20V:\x20f'+'32\x20=\x20sheen'+'V(worldNor'+'mal,\x20viewD'+'ir,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20return'+'\x20D\x20*\x20V;\x0a}',bD='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afn\x20linear'+'izeDepthWi'+'thParams(z'+':\x20f32,\x20cam'+'eraParams:'+'\x20vec4f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'aParams.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(came'+'raParams.z'+'\x20*\x20cameraP'+'arams.y)\x20/'+'\x20(cameraPa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'Params.z\x20-'+'\x20cameraPar'+'ams.y));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20cam'+'eraParams.'+'z\x20+\x20z\x20*\x20(c'+'ameraParam'+'s.y\x20-\x20came'+'raParams.z'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0a#ifndef\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20#de'+'fine\x20CAMER'+'APLANES\x0a\x20\x20'+'\x20\x20uniform\x20'+'camera_par'+'ams:\x20vec4f'+';\x20\x20\x20//\x20x:\x20'+'1\x20/\x20camera'+'_far,\x20\x20\x20\x20\x20'+'\x20y:\x20camera'+'_far,\x20\x20\x20\x20\x20'+'z:\x20camera_'+'near,\x20\x20\x20\x20\x20'+'\x20\x20\x20w:\x20is_o'+'rtho\x0a#endi'+'f\x0a\x0afn\x20line'+'arizeDepth'+'(z:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pthWithPar'+'ams(z,\x20uni'+'form.camer'+'a_params);'+'\x0a}\x0a#endif\x20'+'//\x20LINEARI'+'ZE_DEPTH\x0a',AD='\x0afn\x20evalua'+'teBackend('+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'//\x20apply\x20S'+'SAO\x20during'+'\x20lighting\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SSAO\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ao\x20='+'\x20litArgs_a'+'o\x20*\x20textur'+'eSampleLev'+'el(ssaoTex'+'ture,\x20ssao'+'TextureSam'+'pler,\x20pcPo'+'sition.xy\x20'+'*\x20uniform.'+'ssaoTextur'+'eSizeInv,\x20'+'0.0).r;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nsform\x20tan'+'gent\x20space'+'\x20normals\x20t'+'o\x20world\x20sp'+'ace\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_N'+'EEDS_NORMA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getReflD'+'ir(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_gloss,\x20'+'dTBN);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'f0:\x20f32\x20=\x20'+'1.0\x20/\x20litA'+'rgs_ior;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20f0\x20=\x20(f0\x20'+'-\x201.0)\x20/\x20('+'f0\x20+\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20f0\x20=\x20f0'+'\x20*\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+('ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceF'+'resnel:\x20ve'+'c3f\x20=\x20getI'+'ridescence'+'Diffractio'+'n(saturate'+'(dot(dView'+'DirW,\x20litA'+'rgs_worldN'+'ormal)),\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_ir'+'idescence_'+'thickness)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20ambi'+'ent\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddAmbient('+'litArgs_wo'+'rldNormal)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20move\x20ambi'+'ent\x20color\x20'+'out\x20of\x20dif'+'fuse\x20(used'+'\x20by\x20Lightm'+'apper,\x20to\x20'+'multiply\x20a'+'mbient\x20col'+'or\x20by\x20accu'+'mulated\x20AO'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SEPARATE_'+'AMBIENT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20dAmbie'+'ntLight:\x20v'+'ec3f\x20=\x20dDi'+'ffuseLight'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20unif'+'orm.materi'+'al_ambient'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20LI'+'T_OCCLUDE_'+'DIRECT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeDiff'+'use(litArg'+'s_ao);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTMAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20litArgs_l'+'ightmap,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmapDi'+'r,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dViewDirW,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dReflD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'BN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_irides'+'cence_inte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTING\x20||'+'\x20LIT_REFLE'+'CTIONS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddReflecti'+'onCC(ccRef'+'lDirW,\x20lit'+'Args_clear'+'coat_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'ccFresnel\x20'+'=\x20getFresn'+'elCC(dot(d'+'ViewDirW,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccRefle'+'ction\x20=\x20cc'+'Reflection'+'\x20*\x20ccFresn'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccFr'+'esnel\x20=\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'ection\x20=\x20c'+'cReflectio'+'n\x20*\x20litArg'+'s_specular'+'ityFactor;')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20addR'+'eflectionS'+'heen(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_sheen'+'_gloss);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20Fresne'+'l\x20has\x20to\x20b'+'e\x20applied\x20'+'to\x20reflect'+'ions\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'Reflection'+'(dReflDirW'+',\x20litArgs_'+'gloss);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_FRESNEL_'+'MODEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'dReflectio'+'n.rgb\x20*\x20li'+'tArgs_spec'+'ularity,\x20d'+'Reflection'+'.a);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve')+('c4f(dRefle'+'ction.rgb\x20'+'*\x20litArgs_'+'specularit'+'yFactor,\x20d'+'Reflection'+'.a);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20AREA'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20*'+'\x20litArgs_s'+'pecularity'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20evalua'+'te\x20materia'+'l\x20based\x20ar'+'ea\x20lights\x20'+'data,\x20shar'+'ed\x20by\x20all\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcLTCLight'+'Values(lit'+'Args_gloss'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20litArg'+'s_specular'+'ity,\x20litAr'+'gs_clearco'+'at_gloss,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20evalua'+'te\x20all\x20non'+'-clustered'+'\x20lights\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22lightEval'+'uationPS,\x20'+'LIGHT_COUN'+'T\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'USTERED_LI'+'GHTS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'ClusteredL'+'ights(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_CLEARCOAT'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20ccRe'+'flDirW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'litArgs_sp'+'ecularity,'+'\x20dVertexNo'+'rmalW,\x20dTB'+'N,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_sheen_'+'gloss,\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20AREA_LI'+'GHTS\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x20has'+'\x20to\x20be\x20acc'+'umulated\x20d'+'ifferently'+'\x20if\x20we\x20wan'+'t\x20area\x20lig'+'hts\x20to\x20loo'+'k\x20correct\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_clearc'+'oat_specul'+'arity\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20vec3(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addRefra'+'ction(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dViewDirW'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_specu'+'larity,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr')+('gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_tran'+'smission,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_ior,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_dispers'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'ambient\x20oc'+'clusion\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_OCCLU'+'DE_DIRECT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeD'+'iffuse(lit'+'Args_ao);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeSpec'+'ular(litAr'+'gs_gloss,\x20'+'litArgs_ao'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20*\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20!defi'+'ned(LIT_OP'+'ACITY_FADE'+'S_SPECULAR'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'==\x20NORMAL\x20'+'||\x20LIT_BLE'+'ND_TYPE\x20=='+'\x20PREMULTIP'+'LIED\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specLum:'+'\x20f32\x20=\x20dot'+'((dSpecula'+'rLight\x20+\x20d'+'Reflection'+'.rgb\x20*\x20dRe'+'flection.a'+'),\x20vec3f(\x20'+'0.2126,\x200.'+'7152,\x200.07'+'22\x20));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'Lum\x20=\x20spec'+'Lum\x20+\x20dot('+'ccSpecular'+'Light\x20*\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20+\x20'+'ccReflecti'+'on\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity,\x20vec3'+'f(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20c'+'lamp(litAr'+'gs_opacity'+'\x20+\x20gammaCo'+'rrectInput'+'(specLum),'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_opaci'+'ty\x20=\x20litAr'+'gs_opacity'+'\x20*\x20uniform'+'.material_'+'alphaFade;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20end\x20chunk'+'s\x20-\x20when\x20b'+'aking\x20ligh'+'tmap\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTMAP_B'+'AKING\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_COLOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22b'+'akeLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_LIGH'+'TMAP_BAKIN'+'G_DIR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22ba'+'keDirLmEnd'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'end\x20chunks'+'\x20-\x20in\x20all\x20'+'other\x20case'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'endPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22outpu'+'tAlphaPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_MSD'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20apply'+'Msdf(outpu'+'t.color);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22outp'+'utPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'debugOutpu'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHADOW_CA'+'TCHER\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20when\x20t'+'he\x20shadow\x20'+'catcher\x20is'+'\x20enabled\x20-'+'\x20accumulat'+'ed\x20shadows')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'vec3f(dSha'+'dowCatcher'+'),\x20output.'+'color.a);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),CD='\x0a\x0a//\x20globa'+'ls\x0avar<pri'+'vate>\x20sRef'+'lection:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'VertexNorm'+'alW:\x20vec3f'+';\x0avar<priv'+'ate>\x20dTang'+'entW:\x20vec3'+'f;\x0avar<pri'+'vate>\x20dBin'+'ormalW:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dV'+'iewDirW:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'ReflDirW:\x20'+'vec3f;\x0avar'+'<private>\x20'+'ccReflDirW'+':\x20vec3f;\x0a\x0a'+'//\x20Per-lig'+'ht\x20tempora'+'ries\x0avar<p'+'rivate>\x20dL'+'ightDirNor'+'mW:\x20vec3f;'+'\x0avar<priva'+'te>\x20dAtten'+':\x20f32;\x0a\x0a//'+'\x20Outputs\x0av'+'ar<private'+'>\x20dTBN:\x20ma'+'t3x3f;\x0avar'+'<private>\x20'+'dReflectio'+'n:\x20vec4f;\x0a'+'var<privat'+'e>\x20dDiffus'+'eLight:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccFres'+'nel:\x20f32;\x0a'+'var<privat'+'e>\x20ccRefle'+'ction:\x20vec'+'3f;\x0avar<pr'+'ivate>\x20ccS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccSpec'+'ularityNoF'+'res:\x20f32;\x0a'+'var<privat'+'e>\x20sSpecul'+'arLight:\x20v'+'ec3f;\x0a\x0a//\x20'+'FRAGMENT\x20S'+'HADER\x20INPU'+'TS:\x20UNIFOR'+'MS\x0a\x0a#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_dis'+'persion:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_al'+'phaFade:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_SSAO\x0a\x20\x20'+'\x20\x20var\x20ssao'+'Texture\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20ssaoT'+'extureSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20u'+'niform\x20ssa'+'oTextureSi'+'zeInv:\x20vec'+'2f;\x0a#endif'+'\x0a\x0a//\x20light'+'ing\x20and\x20sh'+'adowing\x20de'+('clarations'+'\x0a\x0a#ifdef\x20L'+'IT_SHADOW_'+'CATCHER\x0a\x20\x20'+'\x20\x20//\x20a\x20var'+'iable\x20to\x20a'+'ccumulate\x20'+'shadows\x20fo'+'r\x20shadow\x20c'+'atcher\x20mat'+'erials\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dShado'+'wCatcher:\x20'+'f32\x20=\x201.0;'+'\x0a#endif\x0a\x0a/'+'/\x20LOOP\x20-\x20u'+'niform\x20dec'+'larations\x20'+'for\x20all\x20no'+'n-clustere'+'d\x20lights\x0a#'+'if\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightDe'+'clarationP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'f\x20LIT_FRES'+'NEL_MODEL\x20'+'==\x20NONE\x20&&'+'\x20!defined('+'LIT_REFLEC'+'TIONS)\x20&&\x20'+'!defined(L'+'IT_DIFFUSE'+'_MAP)\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_OLD'+'_AMBIENT\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0a//'+'\x20lightmap\x20'+'baking\x0a#if'+'def\x20STD_LI'+'GHTMAP_DIR'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20bakeDir'+':\x20f32;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_ADD_AMBIE'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20ambie'+'ntBakeOccl'+'usionContr'+'ast:\x20f32;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20ambientB'+'akeOcclusi'+'onBrightne'+'ss:\x20f32;\x0a#'+'endif\x0a'),PD='\x0a\x0a@fragmen'+'t\x0afn\x20fragm'+'entMain(in'+'put:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ccSpecular'+'Light\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'Reflection'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_N'+'ONE_SLICE_'+'MODE\x20==\x20SL'+'ICED\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22startNi'+'neSlicedPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20LIT_NONE'+'_SLICE_MOD'+'E\x20==\x20TILED'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'tartNineSl'+'icedTiledP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'NEEDS_NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dVertexNo'+'rmalW\x20=\x20no'+'rmalize(vN'+'ormalW);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_T'+'ANGENTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_HEIG'+'HTS)\x20||\x20de'+'fined(LIT_'+'USE_NORMAL'+'S)\x20||\x20defi'+'ned(LIT_US'+'E_CLEARCOA'+'T_NORMALS)'+'\x20||\x20define'+'d(LIT_GGX_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dTan'+'gentW\x20=\x20vT'+'angentW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dBino'+'rmalW\x20=\x20vB'+'inormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20getView'+'Dir();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_TBN'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getTBN('+'dTangentW,'+'\x20dBinormal'+'W,\x20dVertex'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'andleTwoSi'+'dedLightin'+'g();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+('\x0a\x20\x20\x20\x20//\x20in'+'voke\x20front'+'end\x20functi'+'ons\x0a\x20\x20\x20\x20ev'+'aluateFron'+'tend();\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22debugPr'+'ocessFront'+'endPS\x22\x0a\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput\x20='+'\x20evaluateB'+'ackend();\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainEndP'+'S\x22\x0a\x0a\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a}\x0a'),MD='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20material_'+'ambient:\x20v'+'ec3f;\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_LIGHTING'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22light'+'SpecularAn'+'isoGGXPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tSpecularB'+'linnPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0a#include'+'\x20\x22combineP'+'S\x22\x0a\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapAddP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22am'+'bientPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_MS'+'DF\x0a\x20\x20\x20\x20#in'+'clude\x20\x22msd'+'fPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22viewDirPS'+'\x22\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_GGX_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirAni'+'soPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22reflDirP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20f'+'unctionali')+('ty\x0a#includ'+'e\x20\x22lightin'+'gPS\x22\x0a\x0a'),DD='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',ID='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',LD='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a#endif'+'\x0a\x0a#ifdef\x20N'+'INESLICED\x0a'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vMask:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20varying\x20v'+'TiledUv:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dMaskG'+'lobal:\x20vec'+'2f;\x0a\x20\x20\x20\x20va'+'r<private>'+'\x20dTiledUvG'+'lobal:\x20vec'+'2f;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'uterScale:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'atlasRect:'+'\x20vec4f;\x0a\x0a#'+'endif\x0a\x0avar'+'<private>\x20'+'dPositionW'+':\x20vec3f;\x0av'+'ar<private'+'>\x20dModelMa'+'trix:\x20mat4'+'x4f;\x0a\x0a#inc'+'lude\x20\x22tran'+'sformCoreV'+'S\x22\x0a\x0a#ifdef'+'\x20UV0\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ertex_texC'+'oord0:\x20vec'+'2f;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'rtex_texCo'+'ord1:\x20vec2'+'f;\x0a\x20\x20\x20\x20#in'+'clude\x20\x22uv1'+'VS\x22\x0a#endif'+'\x0a\x0a\x0a#ifdef\x20'+'LINEAR_DEP'+'TH\x0a\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'#define\x20VI'+'EWMATRIX\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22tran'+'sformVS\x22\x0a\x0a'+'#ifdef\x20NOR'+'MALS\x0a\x20\x20\x20\x20#'+'include\x20\x22n'+'ormalCoreV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malVS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20TANGENTS'+'\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_tangent:'+'\x20vec4f;\x0a#e'+'ndif\x0a\x0a//\x20e'+'xpand\x20unif'+'orms\x20for\x20u'+'v\x20transfor'+'ms\x0a#includ'+'e\x20\x22uvTrans'+'formUnifor'+'msPS,\x20UV_T'+'RANSFORMS_'+('COUNT\x22\x0a\x0a#i'+'fdef\x20MSDF\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22msdfVS'+'\x22\x0a#endif\x0a\x0a'+'#include\x20\x20'+'\x22litUserCo'+'deVS\x22\x0a\x0a@ve'+'rtex\x0afn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'MainStartV'+'S\x22\x0a\x0a\x20\x20\x20\x20va'+'r\x20output\x20:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20get'+'Position()'+';\x0a\x20\x20\x20\x20outp'+'ut.vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20NO'+'RMALS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vNormalW\x20'+'=\x20getNorma'+'l();\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TA'+'NGENTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vTangent'+'W\x20=\x20normal'+'ize(dNorma'+'lMatrix\x20*\x20'+'vertex_tan'+'gent.xyz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vBin'+'ormalW\x20=\x20c'+'ross(outpu'+'t.vNormalW'+',\x20output.v'+'TangentW)\x20'+'*\x20vertex_t'+'angent.w;\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(GG'+'X_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20UV0'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f\x20=\x20getU'+'v0();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20UV0_UNMOD'+'IFIED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20uv1:\x20vec2'+'f\x20=\x20getUv1'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20U'+'V1_UNMODIF'+'IED\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.vUv1\x20=\x20'+'uv1;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'xpand\x20code'+'\x20for\x20uv\x20tr'+'ansforms\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22uvTrans')+('formVS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20VERTEX_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition'+',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-(uniform'+'.matrix_vi'+'ew\x20*\x20vec4f'+'(output.vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MSDF\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unpac'+'kMsdfParam'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.outline_c'+'olor\x20=\x20dOu'+'tlineColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.out'+'line_thick'+'ness\x20=\x20dOu'+'tlineThick'+'ness;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.shadow_co'+'lor\x20=\x20dSha'+'dowColor;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.shado'+'w_offset\x20='+'\x20dShadowOf'+'fset;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vMask'+'\x20=\x20dMaskGl'+'obal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vTiledUv\x20'+'=\x20dTiledUv'+'Global;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndVS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),RD='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20evaluateF'+'rontend();'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20getP'+'ickOutput('+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20float2ve'+'c4(vLinear'+'Depth);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndPS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',OD='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avar<priva'+'te>\x20litArg'+'s_albedo:\x20'+'vec3f;\x0a\x0a//'+'\x20Transpare'+'ncy\x0avar<pr'+'ivate>\x20lit'+'Args_opaci'+'ty:\x20f32;\x0a\x0a'+'//\x20Emissio'+'n\x20color\x0ava'+'r<private>'+'\x20litArgs_e'+'mission:\x20v'+'ec3f;\x0a\x0a//\x20'+'Normal\x20dir'+'ection\x20in\x20'+'world\x20spac'+'e\x0avar<priv'+'ate>\x20litAr'+'gs_worldNo'+'rmal:\x20vec3'+'f;\x0a\x0a//\x20Amb'+'ient\x20occlu'+'sion\x20amoun'+'t,\x20range\x20['+'0..1]\x0avar<'+'private>\x20l'+'itArgs_ao:'+'\x20f32;\x0a\x0a//\x20'+'Light\x20map\x20'+'color\x0avar<'+'private>\x20l'+'itArgs_lig'+'htmap:\x20vec'+'3f;\x0a\x0a//\x20Li'+'ght\x20map\x20di'+'rection\x0ava'+'r<private>'+'\x20litArgs_l'+'ightmapDir'+':\x20vec3f;\x0a\x0a'+'//\x20Surface'+'\x20metalness'+'\x20factor,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_metalne'+'ss:\x20f32;\x0a\x0a'+'//\x20The\x20f0\x20'+'specularit'+'y\x20factor\x0av'+'ar<private'+'>\x20litArgs_'+'specularit'+'y:\x20vec3f;\x0a'+'\x0a//\x20Specul'+'arity\x20inte'+'nsity\x20fact'+'or,\x20range\x20'+'[0..1]\x0avar'+'<private>\x20'+'litArgs_sp'+'ecularityF'+'actor:\x20f32'+';\x0a\x0a//\x20The\x20'+'microfacet'+'\x20glossines'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0avar<pri'+'vate>\x20litA'+'rgs_gloss:'+'\x20f32;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_sheen'+'_gloss:\x20f3'+'2;\x0a\x0a//\x20The'+'\x20color\x20of\x20'+'the\x20f0\x20spe'+'cularity\x20f'+'actor\x20for\x20'+'the\x20sheen\x20'+'layer\x0avar<'+'private>\x20l'+'itArgs_she'+'en_specula'+'rity:\x20vec3'+'f;\x0a\x0a//\x20Tra'+'nsmission\x20'+'factor\x20(re'+('fraction),'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_trans'+'mission:\x20f'+'32;\x0a\x0a//\x20Un'+'iform\x20thic'+'kness\x20of\x20m'+'edium,\x20use'+'d\x20by\x20trans'+'mission,\x20r'+'ange\x20[0..i'+'nf]\x0avar<pr'+'ivate>\x20lit'+'Args_thick'+'ness:\x20f32;'+'\x0a\x0a//\x20Index'+'\x20of\x20refrac'+'tion\x0avar<p'+'rivate>\x20li'+'tArgs_ior:'+'\x20f32;\x0a\x0a//\x20'+'Dispersion'+',\x20range\x20[0'+'..1]\x20typic'+'ally,\x20but\x20'+'can\x20be\x20hig'+'her\x0avar<pr'+'ivate>\x20lit'+'Args_dispe'+'rsion:\x20f32'+';\x0a\x0a//\x20Irid'+'escence\x20ef'+'fect\x20inten'+'sity,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'iridescenc'+'e_intensit'+'y:\x20f32;\x0a\x0a/'+'/\x20Thicknes'+'s\x20of\x20the\x20i'+'ridescent\x20'+'microfilm\x20'+'layer,\x20val'+'ue\x20is\x20in\x20n'+'anometers,'+'\x20range\x20[0.'+'.1000]\x0avar'+'<private>\x20'+'litArgs_ir'+'idescence_'+'thickness:'+'\x20f32;\x0a\x0a//\x20'+'The\x20normal'+'\x20used\x20for\x20'+'the\x20clearc'+'oat\x20layer\x0a'+'var<privat'+'e>\x20litArgs'+'_clearcoat'+'_worldNorm'+'al:\x20vec3f;'+'\x0a\x0a//\x20Inten'+'sity\x20of\x20th'+'e\x20clearcoa'+'t\x20layer,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_clearco'+'at_specula'+'rity:\x20f32;'+'\x0a\x0a//\x20Gloss'+'iness\x20of\x20c'+'learcoat\x20l'+'ayer,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'clearcoat_'+'gloss:\x20f32'+';\x0a\x0a'),FD='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20t'+'extureBias'+':\x20f32\x20=\x20-1'+'000.0;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20texture'+'Bias:\x20f32;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ShaderArgs'+'PS\x22\x0a',ND='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20view_p'+'osition:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20li'+'ght_radius'+':\x20f32;\x0a#en'+'dif\x0a\x0a#if\x20S'+'HADOW_TYPE'+'\x20==\x20PCSS_3'+'2F\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lin'+'earizeDept'+'hPS\x22\x0a#endi'+'f\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serMainSta'+'rtPS\x22\x0a\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20/'+'/\x20using\x20no'+'n-standard'+'\x20depth,\x20i.'+'e\x20gl_FragC'+'oord.z\x0a\x20\x20\x20'+'\x20#ifdef\x20PE'+'RSPECTIVE_'+'DEPTH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20de'+'pth:\x20f32\x20='+'\x20input.pos'+'ition.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20PCS'+'S_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot/omni'+'\x20shadows\x20c'+'urrently\x20u'+'se\x20linear\x20'+'depth.\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20TODO:\x20us'+'e\x20perspect'+'ive\x20depth\x20'+'for\x20spot/o'+'mni\x20the\x20sa'+'me\x20way\x20as\x20'+'directiona'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT_TYPE\x20!'+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'depth\x20=\x20li'+'nearizeDep'+'thWithPara'+'ms(depth,\x20'+'camera_par'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20depth:\x20'+'f32\x20=\x20min('+'distance(u'+'niform.vie'+'w_position'+',\x20input.vP'+'ositionW)\x20'+'/\x20uniform.'+'light_radi'+'us,\x200.9999'+'9);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'MODIFIED_D'+'EPTH\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SHADO'+'W_TYPE\x20==\x20'+'VSM_16F\x20||'+'\x20SHADOW_TY'+('PE\x20==\x20VSM_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20SHAD'+'OW_TYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20expon'+'ent:\x20f32\x20='+'\x2015.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20exp'+'onent:\x20f32'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dep'+'th_vsm\x20=\x202'+'.0\x20*\x20depth'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dept'+'h_vsm\x20=\x20ex'+'p(exponent'+'\x20*\x20depth_v'+'sm);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(depth_'+'vsm,\x20depth'+'_vsm\x20*\x20dep'+'th_vsm,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20PCSS'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(de'+'pth,\x200.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MODIFI'+'ED_DEPTH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20If'+'\x20we\x20end\x20up'+'\x20using\x20mod'+'ified\x20dept'+'h,\x20it\x20need'+'s\x20to\x20be\x20ex'+'plicitly\x20w'+'ritten\x20to\x20'+'gl_FragDep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.frag'+'Depth\x20=\x20de'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'just\x20the\x20s'+'implest\x20co'+'de,\x20color\x20'+'is\x20not\x20wri'+'tten\x20anywa'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),kD='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0afn\x20'+'LTC_Uv(N:\x20'+'vec3f,\x20V:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20co'+'nst\x20LUT_SI'+'ZE:\x20f32\x20=\x20'+'64.0;\x0a\x20\x20\x20\x20'+'const\x20LUT_'+'SCALE:\x20f32'+'\x20=\x20(LUT_SI'+'ZE\x20-\x201.0)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_BIAS'+':\x20f32\x20=\x200.'+'5\x20/\x20LUT_SI'+'ZE;\x0a\x20\x20\x20\x20le'+'t\x20dotNV:\x20f'+'32\x20=\x20satur'+'ate(dot(\x20N'+',\x20V\x20));\x0a\x20\x20'+'\x20\x20//\x20textu'+'re\x20paramet'+'erized\x20by\x20'+'sqrt(\x20GGX\x20'+'alpha\x20)\x20an'+'d\x20sqrt(\x201\x20'+'-\x20cos(\x20the'+'ta\x20)\x20)\x0a\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20vec'+'2f(\x20roughn'+'ess,\x20sqrt('+'\x201.0\x20-\x20dot'+'NV\x20)\x20);\x0a\x20\x20'+'\x20\x20return\x20u'+'v\x20*\x20LUT_SC'+'ALE\x20+\x20LUT_'+'BIAS;\x0a}\x0a\x0af'+'n\x20LTC_Clip'+'pedSphereF'+'ormFactor('+'\x20f:\x20vec3f\x20'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20//\x20Re'+'al-Time\x20Ar'+'ea\x20Lightin'+'g:\x20a\x20Journ'+'ey\x20from\x20Re'+'search\x20to\x20'+'Production'+'\x20(p.102)\x0a\x20'+'\x20\x20\x20//\x20An\x20a'+'pproximati'+'on\x20of\x20the\x20'+'form\x20facto'+'r\x20of\x20a\x20hor'+'izon-clipp'+'ed\x20rectang'+'le.\x0a\x20\x20\x20\x20le'+'t\x20l:\x20f32\x20='+'\x20length(\x20f'+'\x20);\x0a\x20\x20\x20\x20re'+'turn\x20max(\x20'+'(\x20l\x20*\x20l\x20+\x20'+'f.z\x20)\x20/\x20(\x20'+'l\x20+\x201.0\x20),'+'\x200.0\x20);\x0a}\x0a'+'\x0afn\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'v1:\x20vec3f,'+'\x20v2:\x20vec3f'+'\x20)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20x:\x20f32\x20='+'\x20dot(\x20v1,\x20'+'v2\x20);\x0a\x20\x20\x20\x20'+'let\x20y:\x20f32'+('\x20=\x20abs(\x20x\x20'+');\x0a\x20\x20\x20\x20//\x20'+'rational\x20p'+'olynomial\x20'+'approximat'+'ion\x20to\x20the'+'ta\x20/\x20sin(\x20'+'theta\x20)\x20/\x20'+'2PI\x0a\x20\x20\x20\x20le'+'t\x20a:\x20f32\x20='+'\x200.8543985'+'\x20+\x20(\x200.496'+'5155\x20+\x200.0'+'145206\x20*\x20y'+'\x20)\x20*\x20y;\x0a\x20\x20'+'\x20\x20let\x20b:\x20f'+'32\x20=\x203.417'+'5940\x20+\x20(\x204'+'.1616724\x20+'+'\x20y\x20)\x20*\x20y;\x0a'+'\x20\x20\x20\x20let\x20v:'+'\x20f32\x20=\x20a\x20/'+'\x20b;\x0a\x20\x20\x20\x20le'+'t\x20inv_sqrt'+'_term\x20=\x20in'+'verseSqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7f\x20)\x20);\x0a'+'\x20\x20\x20\x20let\x20th'+'eta_sinthe'+'ta:\x20f32\x20=\x20'+'select(\x20(0'+'.5\x20*\x20inv_s'+'qrt_term\x20-'+'\x20v),\x20v,\x20x\x20'+'>\x200.0\x20);\x0a\x20'+'\x20\x20\x20return\x20'+'cross(\x20v1,'+'\x20v2\x20)\x20*\x20th'+'eta_sinthe'+'ta;\x0a}\x0a\x0astr'+'uct\x20Coords'+'\x20{\x0a\x20\x20\x20\x20coo'+'rd0:\x20vec3f'+',\x0a\x20\x20\x20\x20coor'+'d1:\x20vec3f,'+'\x0a\x20\x20\x20\x20coord'+'2:\x20vec3f,\x0a'+'\x20\x20\x20\x20coord3'+':\x20vec3f,\x0a}'+'\x0a\x0afn\x20LTC_E'+'valuateRec'+'t(\x20N:\x20vec3'+'f,\x20V:\x20vec3'+'f,\x20P:\x20vec3'+'f,\x20mInv:\x20m'+'at3x3f,\x20re'+'ctCoords:\x20'+'Coords)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20//\x20bail\x20i'+'f\x20point\x20is'+'\x20on\x20back\x20s'+'ide\x20of\x20pla'+'ne\x20of\x20ligh'+'t\x0a\x20\x20\x20\x20//\x20a'+'ssumes\x20ccw'+'\x20winding\x20o'+'rder\x20of\x20li'+'ght\x20vertic'+'es\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec3f'+'\x20=\x20rectCoo'+'rds.coord1'+'\x20-\x20rectCoo'+'rds.coord0'+';\x0a\x20\x20\x20\x20let\x20'+'v2:\x20vec3f\x20'+'=\x20rectCoor'+'ds.coord3\x20'+'-\x20rectCoor'+'ds.coord0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'lightNorma'+'l:\x20vec3f\x20='+'\x20cross(\x20v1'+',\x20v2\x20);\x0a\x20\x20'+'\x20\x20let\x20fact'+'or:\x20f32\x20=\x20'+'sign(-dot('+'\x20lightNorm'+'al,\x20P\x20-\x20re'+'ctCoords.c'+'oord0\x20));\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'nstruct\x20or'+'thonormal\x20'+'basis\x20arou'+'nd\x20N\x0a\x20\x20\x20\x20l')+('et\x20T1:\x20vec'+'3f\x20=\x20norma'+'lize(\x20V\x20-\x20'+'N\x20*\x20dot(\x20V'+',\x20N\x20)\x20);\x0a\x20'+'\x20\x20\x20let\x20T2:'+'\x20vec3f\x20=\x20f'+'actor\x20*\x20cr'+'oss(\x20N,\x20T1'+'\x20);\x20//\x20neg'+'ated\x20from\x20'+'paper;\x20pos'+'sibly\x20due\x20'+'to\x20a\x20diffe'+'rent\x20hande'+'dness\x20of\x20w'+'orld\x20coord'+'inate\x20syst'+'em\x0a\x20\x20\x20\x20//\x20'+'compute\x20tr'+'ansform\x0a\x20\x20'+'\x20\x20let\x20mat:'+'\x20mat3x3f\x20='+'\x20mInv\x20*\x20tr'+'anspose(\x20m'+'at3x3f(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'transform\x20'+'rect\x0a\x20\x20\x20\x20v'+'ar\x20coords:'+'\x20array<vec'+'3f,\x204>;\x0a\x20\x20'+'\x20\x20coords[0'+']\x20=\x20mat\x20*\x20'+'(\x20rectCoor'+'ds.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20coords[1]'+'\x20=\x20mat\x20*\x20('+'\x20rectCoord'+'s.coord1\x20-'+'\x20P\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20mat\x20*\x20(\x20'+'rectCoords'+'.coord2\x20-\x20'+'P\x20);\x0a\x20\x20\x20\x20c'+'oords[3]\x20='+'\x20mat\x20*\x20(\x20r'+'ectCoords.'+'coord3\x20-\x20P'+'\x20);\x0a\x20\x20\x20\x20//'+'\x20project\x20r'+'ect\x20onto\x20s'+'phere\x0a\x20\x20\x20\x20'+'coords[0]\x20'+'=\x20normaliz'+'e(\x20coords['+'0]\x20);\x0a\x20\x20\x20\x20'+'coords[1]\x20'+'=\x20normaliz'+'e(\x20coords['+'1]\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20normaliz'+'e(\x20coords['+'2]\x20);\x0a\x20\x20\x20\x20'+'coords[3]\x20'+'=\x20normaliz'+'e(\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20vector\x20'+'form\x20facto'+'r\x0a\x20\x20\x20\x20var\x20'+'vectorForm'+'Factor:\x20ve'+'c3f\x20=\x20vec3'+'f(\x200.0\x20);\x0a'+'\x20\x20\x20\x20vector'+'FormFactor'+'\x20=\x20vectorF'+'ormFactor\x20'+'+\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[0],\x20c'+'oords[1]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20=\x20vecto'+'rFormFacto'+'r\x20+\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'coords[1],'+'\x20coords[2]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa')+('ctor\x20=\x20vec'+'torFormFac'+'tor\x20+\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[2'+'],\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20=\x20v'+'ectorFormF'+'actor\x20+\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[3],\x20coord'+'s[0]\x20);\x0a\x20\x20'+'\x20\x20//\x20adjus'+'t\x20for\x20hori'+'zon\x20clippi'+'ng\x0a\x20\x20\x20\x20let'+'\x20result:\x20f'+'32\x20=\x20LTC_C'+'lippedSphe'+'reFormFact'+'or(\x20vector'+'FormFactor'+'\x20);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20resu'+'lt;\x0a}\x0a\x0avar'+'<private>\x20'+'dLTCCoords'+':\x20Coords;\x0a'+'fn\x20getLTCL'+'ightCoords'+'(lightPos:'+'\x20vec3f,\x20ha'+'lfWidth:\x20v'+'ec3f,\x20half'+'Height:\x20ve'+'c3f)\x20->\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20var\x20coord'+'s:\x20Coords;'+'\x0a\x20\x20\x20\x20coord'+'s.coord0\x20='+'\x20lightPos\x20'+'+\x20halfWidt'+'h\x20-\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd1\x20=\x20ligh'+'tPos\x20-\x20hal'+'fWidth\x20-\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20coord'+'s.coord2\x20='+'\x20lightPos\x20'+'-\x20halfWidt'+'h\x20+\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd3\x20=\x20ligh'+'tPos\x20+\x20hal'+'fWidth\x20+\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20retur'+'n\x20coords;\x0a'+'}\x0a\x0avar<pri'+'vate>\x20dSph'+'ereRadius:'+'\x20f32;\x0afn\x20g'+'etSphereLi'+'ghtCoords('+'lightPos:\x20'+'vec3f,\x20hal'+'fWidth:\x20ve'+'c3f,\x20halfH'+'eight:\x20vec'+'3f)\x20->\x20Coo'+'rds\x20{\x0a\x20\x20\x20\x20'+'//\x20used\x20fo'+'r\x20simple\x20s'+'phere\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20//\x20als'+'o,\x20the\x20cod'+'e\x20only\x20han'+'dles\x20a\x20sph'+'erical\x20lig'+'ht,\x20it\x20can'+'not\x20be\x20non'+'-uniformly'+'\x20scaled\x20in'+'\x20world\x20spa'+'ce,\x20and\x20so'+'\x20we\x20enforc'+'e\x20it\x20here\x0a'+'\x20\x20\x20\x20dSpher'+'eRadius\x20=\x20')+('max(length'+'(halfWidth'+'),\x20length('+'halfHeight'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20Billboar'+'d\x20the\x202d\x20l'+'ight\x20quad\x20'+'to\x20reflect'+'ion\x20vector'+',\x20as\x20it\x27s\x20'+'used\x20for\x20s'+'pecular.\x20T'+'his\x20allows'+'\x20us\x20to\x20use'+'\x20disk\x20math'+'\x20for\x20the\x20s'+'phere.\x0a\x20\x20\x20'+'\x20let\x20f:\x20ve'+'c3f\x20=\x20refl'+'ect(normal'+'ize(lightP'+'os\x20-\x20unifo'+'rm.view_po'+'sition),\x20v'+'NormalW);\x0a'+'\x20\x20\x20\x20let\x20w:'+'\x20vec3f\x20=\x20n'+'ormalize(c'+'ross(f,\x20ha'+'lfHeight))'+';\x0a\x20\x20\x20\x20let\x20'+'h:\x20vec3f\x20='+'\x20normalize'+'(cross(f,\x20'+'w));\x0a\x0a\x20\x20\x20\x20'+'return\x20get'+'LTCLightCo'+'ords(light'+'Pos,\x20w\x20*\x20d'+'SphereRadi'+'us,\x20h\x20*\x20dS'+'phereRadiu'+'s);\x0a}\x0a\x0a//\x20'+'used\x20for\x20L'+'TC\x20LUT\x20tex'+'ture\x20looku'+'p\x0avar<priv'+'ate>\x20dLTCU'+'V:\x20vec2f;\x0a'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20var<p'+'rivate>\x20cc'+'LTCUV:\x20vec'+'2f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightUV(g'+'loss:\x20f32,'+'\x20worldNorm'+'al:\x20vec3f,'+'\x20viewDir:\x20'+'vec3f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20roug'+'hness:\x20f32'+'\x20=\x20max((1.'+'0\x20-\x20gloss)'+'\x20*\x20(1.0\x20-\x20'+'gloss),\x200.'+'001);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_Uv(\x20world'+'Normal,\x20vi'+'ewDir,\x20rou'+'ghness\x20);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20energ'+'y\x20conserva'+'tion\x20and\x20t'+'o\x20modulate'+'\x20specular\x0a'+'var<privat'+'e>\x20dLTCSpe'+'cFres:\x20vec'+'3f;\x0a#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20v'+'ar<private'+'>\x20ccLTCSpe'+'cFres:\x20vec'+'3f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightSpec'+'Fres(uv:\x20v'+'ec2f,\x20spec'+'ularity:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20t2:\x20v')+('ec4f\x20=\x20tex'+'tureSample'+'Level(area'+'LightsLutT'+'ex2,\x20areaL'+'ightsLutTe'+'x2Sampler,'+'\x20uv,\x200.0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20specular'+'ity\x20*\x20t2.x'+'\x20+\x20(\x20vec3f'+'(\x201.0\x20)\x20-\x20'+'specularit'+'y)\x20*\x20t2.y;'+'\x0a}\x0a\x0afn\x20cal'+'cLTCLightV'+'alues(glos'+'s:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f,\x20specul'+'arity:\x20vec'+'3f,\x20clearc'+'oatGloss:\x20'+'f32,\x20clear'+'coatWorldN'+'ormal:\x20vec'+'3f,\x20clearc'+'oatSpecula'+'rity:\x20f32)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'UV\x20=\x20getLT'+'CLightUV(c'+'learcoatGl'+'oss,\x20clear'+'coatWorldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'SpecFres\x20='+'\x20getLTCLig'+'htSpecFres'+'(ccLTCUV,\x20'+'vec3f(clea'+'rcoatSpecu'+'larity));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0afn\x20cal'+'cDiskLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20cal'+'cRectLight'+'Values(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0afn\x20calc'+'SphereLigh'+'tValues(li'+'ghtPos:\x20ve'+'c3f,\x20halfW'+'idth:\x20vec3'+'f,\x20halfHei')+('ght:\x20vec3f'+')\x20{\x0a\x20\x20\x20\x20dL'+'TCCoords\x20='+'\x20getSphere'+'LightCoord'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0a\x0a/'+'/\x20An\x20exten'+'ded\x20versio'+'n\x20of\x20the\x20i'+'mplementat'+'ion\x20from\x20\x22'+'How\x20to\x20sol'+'ve\x20a\x20cubic'+'\x20equation,'+'\x20revisited'+'\x22\x0a//\x20http:'+'//momentsi'+'ngraphics.'+'de/?p=105\x0a'+'fn\x20SolveCu'+'bic(Coeffi'+'cient_in:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20pi:\x20'+'f32\x20=\x203.14'+'159;\x0a\x20\x20\x20\x20v'+'ar\x20Coeffic'+'ient\x20=\x20Coe'+'fficient_i'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t\x20=\x20vec4f('+'Coefficien'+'t.xyz\x20/\x20Co'+'efficient.'+'w,\x20Coeffic'+'ient.w);\x0a\x0a'+'\x20\x20\x20\x20//\x20Div'+'ide\x20middle'+'\x20coefficie'+'nts\x20by\x20thr'+'ee\x0a\x20\x20\x20\x20let'+'\x20new_yz:\x20v'+'ec2f\x20=\x20Coe'+'fficient.y'+'z\x20/\x203.0;\x0a\x20'+'\x20\x20\x20Coeffic'+'ient\x20=\x20vec'+'4f(Coeffic'+'ient.x,\x20ne'+'w_yz.x,\x20ne'+'w_yz.y,\x20Co'+'efficient.'+'w);\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20let\x20A:\x20'+'f32\x20=\x20Coef'+'ficient.w;'+'\x0a\x20\x20\x20\x20let\x20B'+':\x20f32\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20let'+'\x20C:\x20f32\x20=\x20'+'Coefficien'+'t.y;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20Coeffici'+'ent.x;\x0a\x0a\x20\x20'+'\x20\x20//\x20Compu'+'te\x20the\x20Hes'+'sian\x20and\x20t'+'he\x20discrim'+'inant\x0a\x20\x20\x20\x20'+'let\x20Delta:'+'\x20vec3f\x20=\x20v'+'ec3f(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20-Coeff'+'icient.z\x20*'+'\x20Coefficie'+'nt.z\x20+\x20Coe'+'fficient.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'-Coefficie'+'nt.y\x20*\x20Coe'+'fficient.z'+'\x20+\x20Coeffic'+'ient.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'vec2f(Coef'+'ficient.z,'+'\x20-Coeffici'+'ent.y),\x20Co'+'efficient.'+'xy)\x0a\x20\x20\x20\x20);')+('\x0a\x0a\x20\x20\x20\x20let\x20'+'Discrimina'+'nt:\x20f32\x20=\x20'+'dot(vec2f('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20var\x20xlc:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20var\x20xsc:'+'\x20vec2f;\x0a\x0a\x20'+'\x20\x20\x20//\x20Algo'+'rithm\x20A\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20A_a:'+'\x20f32\x20=\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_a:\x20f'+'32\x20=\x20Delta'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_a:'+'\x20f32\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20Theta:\x20f'+'32\x20=\x20atan2'+'(sqrt(Disc'+'riminant),'+'\x20-D_a)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sqr'+'t_neg_Ca\x20='+'\x20sqrt(-C_a'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20x_1a:'+'\x20f32\x20=\x202.0'+'\x20*\x20sqrt_ne'+'g_Ca\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x_3a:\x20f32'+'\x20=\x202.0\x20*\x20s'+'qrt_neg_Ca'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20xl:'+'\x20f32\x20=\x20sel'+'ect(x_3a,\x20'+'x_1a,\x20(x_1'+'a\x20+\x20x_3a)\x20'+'>\x202.0\x20*\x20B)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xlc\x20=\x20vec2'+'f(xl\x20-\x20B,\x20'+'A);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Al'+'gorithm\x20D\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20A_'+'d:\x20f32\x20=\x20D'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_d:\x20f'+'32\x20=\x20Delta'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_d:'+'\x20f32\x20=\x20-D\x20'+'*\x20Delta.y\x20'+'+\x202.0\x20*\x20C\x20'+'*\x20Delta.z;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Take\x20th'+'e\x20cubic\x20ro'+'ot\x20of\x20a\x20no'+'rmalized\x20c'+'omplex\x20num'+'ber\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20Thet'+'a:\x20f32\x20=\x20a'+'tan2(D\x20*\x20s'+'qrt(Discri'+'minant),\x20-'+'D_d)\x20/\x203.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20sqrt_'+'neg_Cd\x20=\x20s'+'qrt(-C_d);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20x_1d:\x20f'+'32\x20=\x202.0\x20*')+('\x20sqrt_neg_'+'Cd\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20x'+'_3d:\x20f32\x20='+'\x202.0\x20*\x20sqr'+'t_neg_Cd\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20xs:\x20f'+'32\x20=\x20selec'+'t(x_3d,\x20x_'+'1d,\x20x_1d\x20+'+'\x20x_3d\x20<\x202.'+'0\x20*\x20C);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xsc\x20'+'=\x20vec2f(-D'+',\x20xs\x20+\x20C);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20let\x20E:\x20f'+'32\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20let\x20F'+':\x20f32\x20=\x20-x'+'lc.x\x20*\x20xsc'+'.y\x20-\x20xlc.y'+'\x20*\x20xsc.x;\x0a'+'\x20\x20\x20\x20let\x20G:'+'\x20f32\x20=\x20\x20xl'+'c.x\x20*\x20xsc.'+'x;\x0a\x0a\x20\x20\x20\x20le'+'t\x20xmc:\x20vec'+'2f\x20=\x20vec2f'+'(C\x20*\x20F\x20-\x20B'+'\x20*\x20G,\x20-B\x20*'+'\x20F\x20+\x20C\x20*\x20E'+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20Root:\x20ve'+'c3f\x20=\x20vec3'+'f(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root\x20=\x20'+'Root.yxz;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root\x20=\x20Ro'+'ot.xzy;\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20Root;'+'\x0a}\x0a\x0afn\x20LTC'+'_EvaluateD'+'isk(N:\x20vec'+'3f,\x20V:\x20vec'+'3f,\x20P:\x20vec'+'3f,\x20Minv:\x20'+'mat3x3f,\x20p'+'oints:\x20Coo'+'rds)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20let\x20T1:\x20'+'vec3f\x20=\x20no'+'rmalize(V\x20'+'-\x20N\x20*\x20dot('+'V,\x20N));\x0a\x20\x20'+'\x20\x20let\x20T2:\x20'+'vec3f\x20=\x20cr'+'oss(N,\x20T1)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'rotate\x20are'+'a\x20light\x20in'+'\x20(T1,\x20T2,\x20'+'N)\x20basis\x0a\x20'+'\x20\x20\x20let\x20R:\x20'+'mat3x3f\x20=\x20'+'transpose('+'\x20mat3x3f(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20polygon\x20'+'(allocate\x20'+'5\x20vertices'+'\x20for\x20clipp')+('ing\x0a\x20\x20\x20\x20va'+'r\x20L_:\x20arra'+'y<vec3f,\x203'+'>;\x0a\x20\x20\x20\x20L_['+'0]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[1'+']\x20=\x20R\x20*\x20(\x20'+'points.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20L_[2]'+'\x20=\x20R\x20*\x20(\x20p'+'oints.coor'+'d2\x20-\x20P\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'it\x20ellipse'+'\x0a\x20\x20\x20\x20let\x20C'+':\x20vec3f\x20\x20='+'\x200.5\x20*\x20(L_'+'[0]\x20+\x20L_[2'+']);\x0a\x20\x20\x20\x20va'+'r\x20V1:\x20vec3'+'f\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[2]);\x0a\x20\x20\x20'+'\x20var\x20V2:\x20v'+'ec3f\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[0]);\x0a'+'\x0a\x20\x20\x20\x20let\x20C'+'_Minv:\x20vec'+'3f\x20\x20=\x20Minv'+'\x20*\x20C;\x0a\x20\x20\x20\x20'+'let\x20V1_Min'+'v:\x20vec3f\x20='+'\x20Minv\x20*\x20V1'+';\x0a\x20\x20\x20\x20let\x20'+'V2_Minv:\x20v'+'ec3f\x20=\x20Min'+'v\x20*\x20V2;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20var\x20a:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20b:\x20f32;\x0a'+'\x20\x20\x20\x20let\x20d1'+'1:\x20f32\x20=\x20d'+'ot(V1_Minv'+',\x20V1_Minv)'+';\x0a\x20\x20\x20\x20let\x20'+'d22:\x20f32\x20='+'\x20dot(V2_Mi'+'nv,\x20V2_Min'+'v);\x0a\x20\x20\x20\x20le'+'t\x20d12:\x20f32'+'\x20=\x20dot(V1_'+'Minv,\x20V2_M'+'inv);\x0a\x20\x20\x20\x20'+'if\x20(abs(d1'+'2)\x20/\x20sqrt('+'d11\x20*\x20d22)'+'\x20>\x200.0001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20tr:\x20f'+'32\x20=\x20d11\x20+'+'\x20d22;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'t_inner:\x20f'+'32\x20=\x20-d12\x20'+'*\x20d12\x20+\x20d1'+'1\x20*\x20d22;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20det:\x20f32\x20'+'=\x20sqrt(det'+'_inner);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20u:\x20f32\x20=\x20'+'0.5\x20*\x20sqrt'+'(tr\x20-\x202.0\x20'+'*\x20det);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'v:\x20f32\x20=\x200'+'.5\x20*\x20sqrt('+'tr\x20+\x202.0\x20*'+'\x20det);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20e'+'_max:\x20f32\x20'+'=\x20(u\x20+\x20v)\x20'+'*\x20(u\x20+\x20v);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20e_min:\x20'+'f32\x20=\x20(u\x20-'+'\x20v)\x20*\x20(u\x20-'+'\x20v);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20V1'+'_:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va')+('r\x20V2_:\x20vec'+'3f;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(d11'+'\x20>\x20d22)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V1_\x20=\x20d1'+'2\x20*\x20V1_Min'+'v\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2_Minv;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20V2_\x20=\x20d12'+'\x20*\x20V1_Minv'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2_Minv;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12*V2_'+'Minv\x20+\x20(e_'+'max\x20-\x20d22)'+'*V1_Minv;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V2_\x20=\x20d1'+'2*V2_Minv\x20'+'+\x20(e_min\x20-'+'\x20d22)*V1_M'+'inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20e_max;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20b'+'\x20=\x201.0\x20/\x20e'+'_min;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20V1\x20=\x20n'+'ormalize(V'+'1_);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20V2\x20=\x20no'+'rmalize(V2'+'_);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1_Minv,\x20V1'+'_Minv);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2_Minv,\x20V'+'2_Minv);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'=\x20V1_Minv\x20'+'*\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20=\x20V2_Min'+'v\x20*\x20sqrt(b'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20V3'+':\x20vec3f\x20=\x20'+'normalize('+'cross(V1,\x20'+'V2));\x0a\x20\x20\x20\x20'+'if\x20(dot(C_'+'Minv,\x20V3)\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V3\x20'+'=\x20V3\x20*\x20-1.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20let\x20L:'+'\x20f32\x20\x20=\x20do'+'t(V3,\x20C_Mi'+'nv);\x0a\x20\x20\x20\x20l'+'et\x20x0:\x20f32'+'\x20=\x20dot(V1,'+'\x20C_Minv)\x20/'+'\x20L;\x0a\x20\x20\x20\x20le'+'t\x20y0:\x20f32\x20'+'=\x20dot(V2,\x20'+'C_Minv)\x20/\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20E1:\x20f32\x20'+'=\x20inverseS'+'qrt(a);\x0a\x20\x20'+'\x20\x20let\x20E2:\x20'+'f32\x20=\x20inve'+'rseSqrt(b)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20a_scaled\x20'+'=\x20a\x20*\x20L\x20*\x20'+'L;\x0a\x20\x20\x20\x20let'+'\x20b_scaled\x20'+'=\x20b\x20*\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20c0:\x20f32\x20'+'=\x20a_scaled'+'\x20*\x20b_scale'+'d;\x0a\x20\x20\x20\x20let'+'\x20c1:\x20f32\x20='+'\x20a_scaled\x20'+'*\x20b_scaled')+('\x20*\x20(1.0\x20+\x20'+'x0\x20*\x20x0\x20+\x20'+'y0\x20*\x20y0)\x20-'+'\x20a_scaled\x20'+'-\x20b_scaled'+';\x0a\x20\x20\x20\x20let\x20'+'c2:\x20f32\x20=\x20'+'1.0\x20-\x20a_sc'+'aled\x20*\x20(1.'+'0\x20+\x20x0\x20*\x20x'+'0)\x20-\x20b_sca'+'led\x20*\x20(1.0'+'\x20+\x20y0\x20*\x20y0'+');\x0a\x20\x20\x20\x20let'+'\x20c3:\x20f32\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20let\x20roots'+':\x20vec3f\x20=\x20'+'SolveCubic'+'(vec4f(c0,'+'\x20c1,\x20c2,\x20c'+'3));\x0a\x20\x20\x20\x20l'+'et\x20e1:\x20f32'+'\x20=\x20roots.x'+';\x0a\x20\x20\x20\x20let\x20'+'e2:\x20f32\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20let\x20e3:'+'\x20f32\x20=\x20roo'+'ts.z;\x0a\x0a\x20\x20\x20'+'\x20var\x20avgDi'+'r:\x20vec3f\x20='+'\x20vec3f(a_s'+'caled\x20*\x20x0'+'\x20/\x20(a_scal'+'ed\x20-\x20e2),\x20'+'b_scaled\x20*'+'\x20y0\x20/\x20(b_s'+'caled\x20-\x20e2'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20let\x20ro'+'tate:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20let\x20L'+'1:\x20f32\x20=\x20s'+'qrt(-e2\x20/\x20'+'e3);\x0a\x20\x20\x20\x20l'+'et\x20L2:\x20f32'+'\x20=\x20sqrt(-e'+'2\x20/\x20e1);\x0a\x0a'+'\x20\x20\x20\x20let\x20fo'+'rmFactor:\x20'+'f32\x20=\x20max('+'0.0,\x20L1\x20*\x20'+'L2\x20*\x20inver'+'seSqrt((1.'+'0\x20+\x20L1\x20*\x20L'+'1)\x20*\x20(1.0\x20'+'+\x20L2\x20*\x20L2)'+'));\x0a\x0a\x20\x20\x20\x20c'+'onst\x20LUT_S'+'IZE_disk:\x20'+'f32\x20=\x2064.0'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_SCAL'+'E_disk:\x20f3'+'2\x20=\x20(\x20LUT_'+'SIZE_disk\x20'+'-\x201.0\x20)\x20/\x20'+'LUT_SIZE_d'+'isk;\x0a\x20\x20\x20\x20c'+'onst\x20LUT_B'+'IAS_disk:\x20'+'f32\x20=\x200.5\x20'+'/\x20LUT_SIZE'+'_disk;\x0a\x0a\x20\x20'+'\x20\x20//\x20use\x20t'+'abulated\x20h'+'orizon-cli'+'pped\x20spher'+'e\x0a\x20\x20\x20\x20var\x20'+'uv:\x20vec2f\x20'+'=\x20vec2f(av'+'gDir.z\x20*\x200'+'.5\x20+\x200.5,\x20'+'formFactor'+');\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20LUT'+'_SCALE_dis'+'k\x20+\x20LUT_BI'+'AS_disk;\x0a\x0a'+'\x20\x20\x20\x20let\x20sc')+('ale:\x20f32\x20='+'\x20textureSa'+'mpleLevel('+'areaLights'+'LutTex2,\x20a'+'reaLightsL'+'utTex2Samp'+'ler,\x20uv,\x200'+'.0).w;\x0a\x0a\x20\x20'+'\x20\x20return\x20f'+'ormFactor\x20'+'*\x20scale;\x0a}'+'\x0a\x0a//\x20LTC_E'+'valuateDis'+'k\x20in\x20some\x20'+'rare\x20cases'+'\x20genereate'+'s\x20NaN\x20valu'+'es\x20in\x20a\x20or'+'\x20b,\x20just\x20b'+'efore\x20\x27flo'+'at\x20c0\x20=\x20a\x20'+'*\x20b;\x27\x0a//\x20G'+'et\x20rid\x20of\x20'+'those\x20Nan\x20'+'values\x20bef'+'ore\x20they\x20p'+'ropagate\x20f'+'urther,\x20as'+'\x20in\x20case\x20o'+'f\x20bloom\x20/\x20'+'DOF\x20blurs\x20'+'they\x0a//\x20pr'+'opagate\x20to'+'\x20large\x20are'+'as.\x20I\x20didn'+'\x27t\x20find\x20th'+'e\x20actual\x20r'+'eason\x20wher'+'e\x20those\x20co'+'me\x20from,\x20s'+'o\x20that\x20is\x20'+'still\x20TODO'+'.\x0a//\x20Note\x20'+'that\x20only\x20'+'disk/spher'+'e\x20lights\x20a'+'re\x20causing'+'\x20it,\x20so\x20on'+'ly\x20handle\x20'+'those.\x0afn\x20'+'FixNan(val'+'ue:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20v'+'alue\x20!=\x20va'+'lue\x20check\x20'+'for\x20NaN\x20as'+'\x20isnan()\x20i'+'s\x20not\x20avai'+'lable\x20in\x20W'+'GSL\x0a\x20\x20\x20\x20re'+'turn\x20selec'+'t(value,\x200'+'.0,\x20value\x20'+'!=\x20value);'+'\x0a}\x0a\x0afn\x20get'+'RectLightD'+'iffuse(wor'+'ldNormal:\x20'+'vec3f,\x20vie'+'wDir:\x20vec3'+'f,\x20lightDi'+'r:\x20vec3f,\x20'+'lightDirNo'+'rm:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20id'+'entityMat\x20'+'=\x20mat3x3f('+'vec3f(1.0,'+'\x200.0,\x200.0)'+',\x20vec3f(0.'+'0,\x201.0,\x200.'+'0),\x20vec3f('+'0.0,\x200.0,\x20'+'1.0));\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'identityMa'+'t,\x20dLTCCoo'+'rds\x20);\x0a}\x0a\x0a'+'fn\x20getDisk'+'LightDiffu'+'se(worldNo'+'rmal:\x20vec3')+('f,\x20viewDir'+':\x20vec3f,\x20l'+'ightDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20identi'+'tyMat\x20=\x20ma'+'t3x3f(vec3'+'f(1.0,\x200.0'+',\x200.0),\x20ve'+'c3f(0.0,\x201'+'.0,\x200.0),\x20'+'vec3f(0.0,'+'\x200.0,\x201.0)'+');\x0a\x20\x20\x20\x20ret'+'urn\x20FixNan'+'(LTC_Evalu'+'ateDisk(\x20w'+'orldNormal'+',\x20viewDir,'+'\x20vPosition'+'W,\x20identit'+'yMat,\x20dLTC'+'Coords\x20));'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tDiffuse(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20let\x20fall'+'off:\x20f32\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20FixNan(ge'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNorm)\x20'+'*\x20falloff)'+';\x0a}\x0a\x0afn\x20ge'+'tLTCLightI'+'nvMat(uv:\x20'+'vec2f)\x20->\x20'+'mat3x3f\x20{\x0a'+'\x20\x20\x20\x20let\x20t1'+':\x20vec4f\x20=\x20'+'textureSam'+'pleLevel(a'+'reaLightsL'+'utTex1,\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er,\x20uv,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(\x20'+'t1.x,\x200.0,'+'\x20t1.y\x20),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(\x200.0,\x201'+'.0,\x200.0\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(\x20t1.z'+',\x200.0,\x20t1.'+'w\x20)\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight')+('InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getRectLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20cal'+'cDiskLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getDiskLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcDiskLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tSpecular('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'DiskLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir,\x20'+'dLTCUV);\x0a}'+'\x0a'),UD='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_me'+'talness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getMe'+'talness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'metalness:'+'\x20f32\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20metal'+'ness\x20=\x20met'+'alness\x20*\x20u'+'niform.mat'+'erial_meta'+'lness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'metalness\x20'+'=\x20metalnes'+'s\x20*\x20textur'+'eSampleBia'+'s({STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+',\x20{STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_METALN'+'ESS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_METALNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_VE'+'RTEX\x0a\x20\x20\x20\x20m'+'etalness\x20='+'\x20metalness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'METALNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dMetal'+'ness\x20=\x20met'+'alness;\x0a}\x0a',BD='\x0avar\x20textu'+'re_msdfMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20texture'+'_msdfMapSa'+'mpler:\x20sam'+'pler;\x0a\x0afn\x20'+'median(r:\x20'+'f32,\x20g:\x20f3'+'2,\x20b:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(min(r'+',\x20g),\x20min('+'max(r,\x20g),'+'\x20b));\x0a}\x0a\x0af'+'n\x20map(min:'+'\x20f32,\x20max:'+'\x20f32,\x20v:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(v\x20-\x20m'+'in)\x20/\x20(max'+'\x20-\x20min);\x0a}'+'\x0a\x0auniform\x20'+'font_sdfIn'+'tensity:\x20f'+'32;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20font_px'+'range:\x20f32'+';\x20\x20\x20\x20\x20\x20//\x20'+'the\x20number'+'\x20of\x20pixels'+'\x20between\x20i'+'nside\x20and\x20'+'outside\x20th'+'e\x20font\x20in\x20'+'SDF\x0aunifor'+'m\x20font_tex'+'tureWidth:'+'\x20f32;\x20//\x20t'+'he\x20width\x20o'+'f\x20the\x20text'+'ure\x20atlas\x0a'+'\x0a#ifndef\x20L'+'IT_MSDF_TE'+'XT_ATTRIBU'+'TE\x0a\x20\x20\x20\x20uni'+'form\x20outli'+'ne_color:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'utline_thi'+'ckness:\x20f3'+'2;\x0a\x20\x20\x20\x20uni'+'form\x20shado'+'w_color:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'uniform\x20sh'+'adow_offse'+'t:\x20vec2f;\x0a'+'#else\x0a\x20\x20\x20\x20'+'varying\x20ou'+'tline_colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20outline_'+'thickness:'+'\x20f32;\x0a\x20\x20\x20\x20'+'varying\x20sh'+'adow_color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20varying'+'\x20shadow_of'+'fset:\x20vec2'+'f;\x0a#endif\x0a'+'\x0afn\x20applyM'+'sdf(color_'+'in:\x20vec4f)'+'\x20->\x20vec4f\x20'+'{\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_M'+'SDF_TEXT_A'+'TTRIBUTE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20uniform.'+'outline_co'+'lor;\x0a\x20\x20\x20\x20\x20'+('\x20\x20\x20var\x20out'+'line_thick'+'nessValue\x20'+'=\x20uniform.'+'outline_th'+'ickness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_co'+'lorValue\x20='+'\x20uniform.s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_offsetVa'+'lue\x20=\x20unif'+'orm.shadow'+'_offset;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utline_thi'+'cknessValu'+'e\x20=\x20outlin'+'e_thicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_colorVal'+'ue\x20=\x20shado'+'w_color;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_of'+'fsetValue\x20'+'=\x20shadow_o'+'ffset;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20Conv'+'ert\x20to\x20lin'+'ear\x20space\x20'+'before\x20pro'+'cessing\x0a\x20\x20'+'\x20\x20//\x20TODO:'+'\x20ideally\x20t'+'his\x20would\x20'+'receive\x20th'+'e\x20color\x20in'+'\x20linear\x20sp'+'ace,\x20but\x20t'+'hat\x20would\x20'+'require\x20la'+'rger\x20chang'+'es\x0a\x20\x20\x20\x20//\x20'+'on\x20the\x20eng'+'ine\x20side,\x20'+'with\x20the\x20w'+'ay\x20premult'+'iplied\x20alp'+'ha\x20is\x20hand'+'led\x20as\x20wel'+'l.\x0a\x20\x20\x20\x20var'+'\x20color\x20=\x20v'+'ec4f(gamma'+'CorrectInp'+'utVec3(col'+'or_in.rgb)'+',\x20color_in'+'.a);\x0a\x0a\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20field\x0a'+'\x20\x20\x20\x20let\x20ts'+'ample:\x20vec'+'3f\x20=\x20textu'+'reSample(t'+'exture_msd'+'fMap,\x20text'+'ure_msdfMa'+'pSampler,\x20'+'vUv0).rgb;'+'\x0a\x20\x20\x20\x20let\x20u'+'vShdw:\x20vec'+'2f\x20=\x20vUv0\x20'+'-\x20shadow_o'+'ffsetValue'+';\x0a\x20\x20\x20\x20let\x20'+'ssample:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'(texture_m'+'sdfMap,\x20te'+'xture_msdf'+'MapSampler'+',\x20uvShdw).'+'rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20get\x20the'+'\x20signed\x20di'+'stance\x20val'+'ue\x0a\x20\x20\x20\x20let')+('\x20sigDist:\x20'+'f32\x20=\x20medi'+'an(tsample'+'.r,\x20tsampl'+'e.g,\x20tsamp'+'le.b);\x0a\x20\x20\x20'+'\x20var\x20sigDi'+'stShdw:\x20f3'+'2\x20=\x20median'+'(ssample.r'+',\x20ssample.'+'g,\x20ssample'+'.b);\x0a\x0a\x20\x20\x20\x20'+'//\x20smoothi'+'ng\x20limit\x20-'+'\x20smaller\x20v'+'alue\x20makes'+'\x20for\x20sharp'+'er\x20but\x20mor'+'e\x20aliased\x20'+'text,\x20espe'+'cially\x20on\x20'+'angles\x0a\x20\x20\x20'+'\x20//\x20too\x20la'+'rge\x20value\x20'+'(0.5)\x20crea'+'tes\x20a\x20dark'+'\x20glow\x20arou'+'nd\x20the\x20let'+'ters\x0a\x20\x20\x20\x20l'+'et\x20smoothi'+'ngMax:\x20f32'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20let'+'\x20w:\x20vec2f\x20'+'=\x20abs(dpdx'+'(vUv0))\x20+\x20'+'abs(dpdy(v'+'Uv0));\x0a\x20\x20\x20'+'\x20let\x20smoot'+'hing:\x20f32\x20'+'=\x20clamp(w.'+'x\x20*\x20unifor'+'m.font_tex'+'tureWidth\x20'+'/\x20uniform.'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20l'+'et\x20mapMin:'+'\x20f32\x20=\x200.0'+'5;\x0a\x20\x20\x20\x20let'+'\x20mapMax:\x20f'+'32\x20=\x20clamp'+'(1.0\x20-\x20uni'+'form.font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20let\x20si'+'gDistInner'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist);\x0a\x20\x20'+'\x20\x20let\x20sigD'+'istOutline'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'knessValue'+');\x0a\x20\x20\x20\x20sig'+'DistShdw\x20='+'\x20map(mapMi'+'n,\x20mapMax,'+'\x20sigDistSh'+'dw\x20+\x20outli'+'ne_thickne'+'ssValue);\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'enter:\x20f32'+'\x20=\x200.5;\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20smoot'+'hing\x20and\x20u'+'se\x20to\x20gene')+('rate\x20opaci'+'ty\x0a\x20\x20\x20\x20let'+'\x20inside:\x20f'+'32\x20=\x20smoot'+'hstep(cent'+'er\x20-\x20smoot'+'hing,\x20cent'+'er\x20+\x20smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20let\x20o'+'utline:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stOutline)'+';\x0a\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20let\x20tc'+'olor_outli'+'ne:\x20vec4f\x20'+'=\x20outline\x20'+'*\x20vec4f(ou'+'tline_colo'+'rValue.a\x20*'+'\x20outline_c'+'olorValue.'+'rgb,\x20outli'+'ne_colorVa'+'lue.a);\x0a\x20\x20'+'\x20\x20var\x20tcol'+'or:\x20vec4f\x20'+'=\x20select(v'+'ec4f(0.0),'+'\x20tcolor_ou'+'tline,\x20out'+'line\x20>\x20ins'+'ide);\x0a\x20\x20\x20\x20'+'tcolor\x20=\x20m'+'ix(tcolor,'+'\x20color,\x20in'+'side);\x0a\x0a\x20\x20'+'\x20\x20let\x20scol'+'or_shadow:'+'\x20vec4f\x20=\x20s'+'hadow\x20*\x20ve'+'c4f(shadow'+'_colorValu'+'e.a\x20*\x20shad'+'ow_colorVa'+'lue.rgb,\x20s'+'hadow_colo'+'rValue.a);'+'\x0a\x20\x20\x20\x20let\x20s'+'color:\x20vec'+'4f\x20=\x20selec'+'t(tcolor,\x20'+'scolor_sha'+'dow,\x20shado'+'w\x20>\x20outlin'+'e);\x0a\x20\x20\x20\x20tc'+'olor\x20=\x20mix'+'(scolor,\x20t'+'color,\x20out'+'line);\x0a\x0a\x20\x20'+'\x20\x20//\x20Conve'+'rt\x20back\x20to'+'\x20gamma\x20spa'+'ce\x20before\x20'+'returning\x0a'+'\x20\x20\x20\x20tcolor'+'\x20=\x20vec4f(g'+'ammaCorrec'+'tOutput(tc'+'olor.rgb),'+'\x20tcolor.a)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),zD='\x0a\x0afn\x20getSp'+'ecularModu'+'late(specu'+'larity:\x20ve'+'c3f,\x20albed'+'o:\x20vec3f,\x20'+'metalness:'+'\x20f32,\x20f0:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20dielec'+'tricF0:\x20ve'+'c3f\x20=\x20f0\x20*'+'\x20speculari'+'ty;\x0a\x20\x20\x20\x20re'+'turn\x20mix(d'+'ielectricF'+'0,\x20albedo,'+'\x20metalness'+');\x0a}\x0a\x0afn\x20g'+'etAlbedoMo'+'dulate(alb'+'edo:\x20vec3f'+',\x20metalnes'+'s:\x20f32)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'albedo\x20*\x20('+'1.0\x20-\x20meta'+'lness);\x0a}\x0a',VD='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var\x20morph'+'Texture:\x20t'+'exture_2d_'+'array<f32>'+';\x0a\x20\x20\x20\x20unif'+'orm\x20morphF'+'actor:\x20arr'+'ay<f32,\x20{M'+'ORPH_TEXTU'+'RE_MAX_COU'+'NT}>;\x0a\x20\x20\x20\x20'+'uniform\x20mo'+'rphIndex:\x20'+'array<u32,'+'\x20{MORPH_TE'+'XTURE_MAX_'+'COUNT}>;\x0a\x20'+'\x20\x20\x20uniform'+'\x20count:\x20u3'+'2;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x0a\x20\x20'+'\x20\x20fn\x20fragm'+'entMain(in'+'put\x20:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20color\x20='+'\x20vec3f(0,\x20'+'0,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20t'+'extureDims'+'\x20=\x20texture'+'Dimensions'+'(morphText'+'ure);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20pi'+'xelCoords\x20'+'=\x20vec2i(in'+'put.uv0\x20*\x20'+'vec2f(text'+'ureDims));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'u32\x20=\x200;\x20i'+'\x20<\x20uniform'+'.count;\x20i\x20'+'=\x20i\x20+\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'tureIndex:'+'\x20u32\x20=\x20uni'+'form.morph'+'Index[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20delta\x20'+'=\x20textureL'+'oad(morphT'+'exture,\x20pi'+'xelCoords,'+'\x20textureIn'+'dex,\x200).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20+=\x20unifor'+'m.morphFac'+'tor[i].ele'+'ment\x20*\x20del'+'ta;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'color,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',GD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',HD='\x0aattribute'+'\x20vertex_ou'+'tlineParam'+'eters:\x20vec'+'3f;\x0aattrib'+'ute\x20vertex'+'_shadowPar'+'ameters:\x20v'+'ec3f;\x0a\x0avar'+'ying\x20outli'+'ne_color:\x20'+'vec4f;\x0avar'+'ying\x20outli'+'ne_thickne'+'ss:\x20f32;\x0av'+'arying\x20sha'+'dow_color:'+'\x20vec4f;\x0ava'+'rying\x20shad'+'ow_offset:'+'\x20vec2f;\x0a\x0av'+'ar<private'+'>\x20dOutline'+'Color:\x20vec'+'4f;\x0avar<pr'+'ivate>\x20dOu'+'tlineThick'+'ness:\x20f32;'+'\x0avar<priva'+'te>\x20dShado'+'wColor:\x20ve'+'c4f;\x0avar<p'+'rivate>\x20dS'+'hadowOffse'+'t:\x20vec2f;\x0a'+'\x0afn\x20unpack'+'MsdfParams'+'()\x20{\x0a\x20\x20\x20\x20l'+'et\x20little:'+'\x20vec3f\x20=\x20v'+'ertex_outl'+'ineParamet'+'ers\x20%\x20vec3'+'f(256.0);\x0a'+'\x20\x20\x20\x20let\x20bi'+'g:\x20vec3f\x20='+'\x20(vertex_o'+'utlinePara'+'meters\x20-\x20l'+'ittle)\x20/\x202'+'56.0;\x0a\x0a\x20\x20\x20'+'\x20dOutlineC'+'olor\x20=\x20vec'+'4f(little.'+'x,\x20big.x,\x20'+'little.y,\x20'+'big.y)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20//\x20_outli'+'neThicknes'+'sScale\x20==='+'\x200.2\x0a\x20\x20\x20\x20d'+'OutlineThi'+'ckness\x20=\x20l'+'ittle.z\x20/\x20'+'255.0\x20*\x200.'+'2;\x0a\x0a\x20\x20\x20\x20le'+'t\x20little_s'+'hadow\x20=\x20ve'+'rtex_shado'+'wParameter'+'s\x20%\x20vec3f('+'256.0);\x0a\x20\x20'+'\x20\x20let\x20big_'+'shadow\x20=\x20('+'vertex_sha'+'dowParamet'+'ers\x20-\x20litt'+'le_shadow)'+'\x20/\x20256.0;\x0a'+'\x0a\x20\x20\x20\x20dShad'+'owColor\x20=\x20'+'vec4f(litt'+'le_shadow.'+'x,\x20big_sha'+'dow.x,\x20lit'+'tle_shadow'+'.y,\x20big_sh'+'adow.y)\x20/\x20'+'255.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+('ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20dShad'+'owOffset\x20='+'\x20(vec2f(li'+'ttle_shado'+'w.z,\x20big_s'+'hadow.z)\x20/'+'\x20127.0\x20-\x201'+'.0)\x20*\x200.00'+'5;\x0a}\x0a'),WD='\x0avar<priva'+'te>\x20dNorma'+'lMatrix:\x20m'+'at3x3f;\x0a\x0af'+'n\x20getNorma'+'l()\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20d'+'NormalMatr'+'ix\x20=\x20getNo'+'rmalMatrix'+'(dModelMat'+'rix);\x0a\x20\x20\x20\x20'+'let\x20localN'+'ormal:\x20vec'+'3f\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}',$D='\x0a\x0aattribut'+'e\x20vertex_n'+'ormal:\x20vec'+'3f;\x0a\x0aunifo'+'rm\x20matrix_'+'normal:\x20ma'+'t3x3f;\x0a\x0a#i'+'fdef\x20MORPH'+'ING_NORMAL'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MORPHING'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20mor'+'phNormalTe'+'x:\x20texture'+'_2d<u32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphNor'+'malTexSamp'+'ler:\x20sampl'+'er;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hNormalTex'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20morphNorm'+'alTexSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0afn\x20getLo'+'calNormal('+'vertexNorm'+'al:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20localNorm'+'al:\x20vec3f\x20'+'=\x20vertexNo'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20mor'+'phUV:\x20vec2'+'i\x20=\x20getTex'+'tureMorphC'+'oords();\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_INT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20morphN'+'ormalInt:\x20'+'vec4u\x20=\x20te'+'xtureLoad('+'morphNorma'+'lTex,\x20morp'+'hUV,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20morph'+'NormalF:\x20v'+'ec3f\x20=\x20vec'+'3f(morphNo'+'rmalInt.xy'+'z)\x20/\x2065535'+'.0\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormalF;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'morphNorma'+'l:\x20vec3f\x20='+'\x20textureLo'+'ad(morphNo'+'rmalTex,\x20m'+'orphUV,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormal;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20lo'+'calNormal;'+'\x0a}\x0a\x0a#if\x20de'+'fined(SKIN'+')\x20||\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20fn\x20get'+('NormalMatr'+'ix(modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ma'+'t3x3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3x3f'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20fn'+'\x20getNormal'+'Matrix(mod'+'elMatrix:\x20'+'mat4x4f)\x20-'+'>\x20mat3x3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20mat'+'3x3f(model'+'Matrix[0].'+'xyz,\x20model'+'Matrix[1].'+'xyz,\x20model'+'Matrix[2].'+'xyz);\x0a\x20\x20\x20\x20'+'}\x0a#else\x0a\x20\x20'+'\x20\x20fn\x20getNo'+'rmalMatrix'+'(modelMatr'+'ix:\x20mat4x4'+'f)\x20->\x20mat3'+'x3f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),XD='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_bu'+'mpiness:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20un'+'iform\x20mate'+'rial_norma'+'lDetailMap'+'Bumpiness:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20fn\x20bl'+'endNormals'+'(inN1:\x20vec'+'3f,\x20inN2:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'n1:\x20vec3f\x20'+'=\x20inN1\x20+\x20v'+'ec3f(0.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20n2:\x20vec'+'3f\x20=\x20inN2\x20'+'*\x20vec3f(-1'+'.0,\x20-1.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20n1\x20*\x20dot('+'n1,\x20n2)\x20/\x20'+'n1.z\x20-\x20n2;'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0afn\x20ge'+'tNormal()\x20'+'{\x0a#ifdef\x20S'+'TD_NORMAL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20var\x20norm'+'alMap:\x20vec'+'3f\x20=\x20{STD_'+'NORMAL_TEX'+'TURE_DECOD'+'E}(texture'+'SampleBias'+'({STD_NORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_NORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_NOR'+'MAL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias));\x0a'+'\x20\x20\x20\x20normal'+'Map\x20=\x20mix('+'vec3f(0.0,'+'\x200.0,\x201.0)'+',\x20normalMa'+'p,\x20uniform'+'.material_'+'bumpiness)'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_NO'+'RMALDETAIL'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20normalDet'+'ailMap:\x20ve'+'c3f\x20=\x20{STD'+'_NORMALDET'+'AIL_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE_NAME},'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_NAM'+'E}Sampler,'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_UV}'+(',\x20uniform.'+'textureBia'+'s));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalD'+'etailMap\x20='+'\x20mix(vec3f'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malDetailM'+'ap,\x20unifor'+'m.material'+'_normalDet'+'ailMapBump'+'iness);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20norm'+'alMap\x20=\x20bl'+'endNormals'+'(normalMap'+',\x20normalDe'+'tailMap);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20nor'+'malize(dTB'+'N\x20*\x20normal'+'Map);\x0a#els'+'e\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a'),qD='\x0auniform\x20m'+'aterial_op'+'acity:\x20f32'+';\x0a\x0afn\x20getO'+'pacity()\x20{'+'\x0a\x20\x20\x20\x20dAlph'+'a\x20=\x20unifor'+'m.material'+'_opacity;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E\x0a\x20\x20\x20\x20dAlp'+'ha\x20=\x20dAlph'+'a\x20*\x20textur'+'eSampleBia'+'s({STD_OPA'+'CITY_TEXTU'+'RE_NAME},\x20'+'{STD_OPACI'+'TY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'OPACITY_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20=\x20dA'+'lpha\x20*\x20cla'+'mp(vVertex'+'Color.{STD'+'_OPACITY_V'+'ERTEX_CHAN'+'NEL},\x200.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',jD='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20blueNo'+'iseJitter:'+'\x20vec4f;\x0a\x0a#'+'if\x20STD_OPA'+'CITY_DITHE'+'R\x20==\x20BLUEN'+'OISE\x0a\x20\x20\x20\x20v'+'ar\x20blueNoi'+'seTex32\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20blueN'+'oiseTex32S'+'ampler\x20:\x20s'+'ampler;\x0a#e'+'ndif\x0a\x0afn\x20o'+'pacityDith'+'er(alpha:\x20'+'f32,\x20id:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'#if\x20STD_OP'+'ACITY_DITH'+'ER\x20==\x20BAYE'+'R8\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20nois'+'e:\x20f32\x20=\x20b'+'ayer8(floo'+'r((pcPosit'+'ion.xy\x20+\x20u'+'niform.blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+')\x20%\x20vec2f('+'8.0)))\x20/\x206'+'4.0;\x0a\x0a\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20=='+'\x20BLUENOISE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uv\x20'+'=\x20fract(pc'+'Position.x'+'y\x20/\x2032.0\x20+'+'\x20uniform.b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20noise:\x20f3'+'2\x20=\x20textur'+'eSampleLev'+'el(blueNoi'+'seTex32,\x20b'+'lueNoiseTe'+'x32Sampler'+',\x20uv,\x200.0)'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20IGNNOI'+'SE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ba'+'sed\x20on\x20htt'+'ps://www.i'+'ryoku.com/'+'next-gener'+'ation-post'+'-processin'+'g-in-call-'+'of-duty-ad'+'vanced-war'+'fare/\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20magic\x20=\x20'+'vec3f(0.06'+'711056,\x200.'+'00583715,\x20'+'52.9829189'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'oise:\x20f32\x20'+'=\x20fract(ma'+'gic.z\x20*\x20fr'+'act(dot(pc'+'Position.x'+'y\x20+\x20unifor'+'m.blueNois'+'eJitter.xy'+'\x20+\x20id,\x20mag'+('ic.xy)));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20conve'+'rt\x20the\x20noi'+'se\x20to\x20line'+'ar\x20space,\x20'+'as\x20that\x20is'+'\x20specified'+'\x20in\x20sRGB\x20s'+'pace\x20(stor'+'es\x20percept'+'ual\x20values'+')\x0a\x20\x20\x20\x20nois'+'e\x20=\x20pow(no'+'ise,\x202.2);'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'alpha\x20<\x20no'+'ise)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),YD='\x0a',KD='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(outp'+'ut.color.r'+'gb,\x20litArg'+'s_opacity)'+';\x0a\x0a#elif\x20L'+'IT_BLEND_T'+'YPE\x20==\x20PRE'+'MULTIPLIED'+'\x0a\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(out'+'put.color.'+'rgb\x20*\x20litA'+'rgs_opacit'+'y,\x20litArgs'+'_opacity);'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(output'+'.color.rgb'+',\x201.0);\x0a\x0a#'+'endif\x0a',ZD='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0avar\x20sour'+'ce:\x20textur'+'e_2d<f32>;'+'\x0avar\x20sourc'+'eSampler:\x20'+'sampler;\x0a\x0a'+'@fragment\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'textureSam'+'ple(source'+',\x20sourceSa'+'mpler,\x20inp'+'ut.vUv0);\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'+'\x0a',QD='\x0a\x0auniform\x20'+'material_s'+'heen:\x20vec3'+'f;\x0a\x0afn\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20var\x20sh'+'eenColor\x20='+'\x20uniform.m'+'aterial_sh'+'een;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_TEX'+'TURE\x0a\x20\x20\x20\x20s'+'heenColor\x20'+'=\x20sheenCol'+'or\x20*\x20{STD_'+'SHEEN_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SHEEN'+'_TEXTURE_N'+'AME},\x20{STD'+'_SHEEN_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEEN_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as)).{STD_'+'SHEEN_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_VER'+'TEX\x0a\x20\x20\x20\x20sh'+'eenColor\x20='+'\x20sheenColo'+'r\x20*\x20satura'+'te3(vVerte'+'xColor.{ST'+'D_SHEEN_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20sSpecula'+'rity\x20=\x20she'+'enColor;\x0a}'+'\x0a',JD='\x0auniform\x20m'+'aterial_sh'+'eenGloss:\x20'+'f32;\x0a\x0afn\x20g'+'etSheenGlo'+'ssiness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'sheenGloss'+'iness\x20=\x20un'+'iform.mate'+'rial_sheen'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SHEENGL'+'OSS_TEXTUR'+'E\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_SHEEN'+'GLOSS_TEXT'+'URE_NAME},'+'\x20{STD_SHEE'+'NGLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_UV},\x20un'+'iform.text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20=\x20'+'sheenGloss'+'iness\x20*\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'GLOSS_VERT'+'EX_CHANNEL'+'});\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEENGLOS'+'S_INVERT\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20='+'\x201.0\x20-\x20she'+'enGlossine'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'+\x200.000000'+'1;\x0a}\x0a',eI='\x0auniform\x20m'+'aterial_he'+'ightMapFac'+'tor:\x20f32;\x0a'+'\x0afn\x20getPar'+'allax()\x20{\x0a'+'\x20\x20\x20\x20var\x20pa'+'rallaxScal'+'e\x20=\x20unifor'+'m.material'+'_heightMap'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20var\x20hei'+'ght:\x20f32\x20='+'\x20textureSa'+'mpleBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_HEIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_HEIGHT_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'height\x20=\x20h'+'eight\x20*\x20pa'+'rallaxScal'+'e\x20-\x20parall'+'axScale\x20*\x20'+'0.5;\x0a\x20\x20\x20\x20v'+'ar\x20viewDir'+'T:\x20vec3f\x20='+'\x20dViewDirW'+'\x20*\x20dTBN;\x0a\x0a'+'\x20\x20\x20\x20viewDi'+'rT.z\x20=\x20vie'+'wDirT.z\x20+\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',tI='\x0auniform\x20m'+'eshInstanc'+'eId:\x20u32;\x0a'+'\x0afn\x20getPic'+'kOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20let\x20i'+'nv:\x20vec4f\x20'+'=\x20vec4f(1.'+'0\x20/\x20255.0)'+';\x0a\x20\x20\x20\x20let\x20'+'shifts:\x20ve'+'c4u\x20=\x20vec4'+'u(16u,\x208u,'+'\x200u,\x2024u);'+'\x0a\x20\x20\x20\x20let\x20c'+'ol:\x20vec4u\x20'+'=\x20(vec4u(u'+'niform.mes'+'hInstanceI'+'d)\x20>>\x20shif'+'ts)\x20&\x20vec4'+'u(0xffu);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4f(col'+')\x20*\x20inv;\x0a}',sI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20dReflDi'+'rW\x20=\x20norma'+'lize(-refl'+'ect(viewDi'+'r,\x20worldNo'+'rmal));\x0a}\x0a',iI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20rou'+'ghness:\x20f3'+'2\x20=\x20sqrt(1'+'.0\x20-\x20min(g'+'loss,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20directio'+'n:\x20vec2f\x20='+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20anisotrop'+'y:\x20f32\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cDirection'+':\x20vec3f\x20=\x20'+'anisotropi'+'cB;\x0a\x20\x20\x20\x20le'+'t\x20anisotro'+'picTangent'+':\x20vec3f\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20let\x20anis'+'otropicNor'+'mal:\x20vec3f'+'\x20=\x20cross(a'+'nisotropic'+'Tangent,\x20a'+'nisotropic'+'Direction)'+';\x0a\x20\x20\x20\x20let\x20'+'bendFactor'+':\x20f32\x20=\x201.'+'0\x20-\x20anisot'+'ropy\x20*\x20(1.'+'0\x20-\x20roughn'+'ess);\x0a\x20\x20\x20\x20'+'let\x20bendFa'+'ctor4:\x20f32'+'\x20=\x20bendFac'+'tor\x20*\x20bend'+'Factor\x20*\x20b'+'endFactor\x20'+'*\x20bendFact'+'or;\x0a\x20\x20\x20\x20le'+'t\x20bentNorm'+'al:\x20vec3f\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}',rI='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0afn\x20addRe'+'flectionCC'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20ccRef'+'lection\x20=\x20'+'ccReflecti'+'on\x20+\x20calcR'+'eflection('+'reflDir,\x20g'+'loss);\x0a}\x0a#'+'endif\x0a',aI='\x0avar\x20textu'+'re_cubeMap'+':\x20texture_'+'cube<f32>;'+'\x0avar\x20textu'+'re_cubeMap'+'Sampler:\x20s'+'ampler;\x0aun'+'iform\x20mate'+'rial_refle'+'ctivity:\x20f'+'32;\x0a\x0afn\x20ca'+'lcReflecti'+'on(reflDir'+':\x20vec3f,\x20g'+'loss:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'lookupVec:'+'\x20vec3f\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r);\x0a\x20\x20\x20\x20lo'+'okupVec.x\x20'+'=\x20lookupVe'+'c.x\x20*\x20-1.0'+';\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_cubeMa'+'p,\x20texture'+'_cubeMapSa'+'mpler,\x20loo'+'kupVec));\x0a'+'}\x0a\x0afn\x20addR'+'eflection('+'reflDir:\x20v'+'ec3f,\x20glos'+'s:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20dR'+'eflection\x20'+'+\x20vec4f(ca'+'lcReflecti'+'on(reflDir'+',\x20gloss),\x20'+'uniform.ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',nI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20var\x20t'+'exture_env'+'Atlas:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'envAtlasSa'+'mpler:\x20sam'+'pler;\x0a#end'+'if\x0a\x0avar\x20te'+'xture_cube'+'Map:\x20textu'+'re_cube<f3'+'2>;\x0avar\x20te'+'xture_cube'+'MapSampler'+':\x20sampler;'+'\x0auniform\x20m'+'aterial_re'+'flectivity'+':\x20f32;\x0a\x0afn'+'\x20calcRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20dir:\x20ve'+'c3f\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20toSph'+'ericalUv(d'+'ir);\x0a\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20roughne'+'ss\x20level\x0a\x20'+'\x20\x20\x20let\x20lev'+'el:\x20f32\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20let\x20ile'+'vel:\x20f32\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20l'+'et\x20flevel:'+'\x20f32\x20=\x20lev'+'el\x20-\x20ileve'+'l;\x0a\x0a\x20\x20\x20\x20le'+'t\x20sharp:\x20v'+'ec3f\x20=\x20{re'+'flectionCu'+'bemapDecod'+'e}(texture'+'Sample(tex'+'ture_cubeM'+'ap,\x20textur'+'e_cubeMapS'+'ampler,\x20di'+'r));\x0a\x20\x20\x20\x20l'+'et\x20roughA:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+')));\x0a\x20\x20\x20\x20l'+'et\x20roughB:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(shar'+'p,\x20mix(rou'+('ghA,\x20rough'+'B,\x20flevel)'+',\x20min(leve'+'l,\x201.0)));'+'\x0a}\x0a\x0afn\x20add'+'Reflection'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20=\x20d'+'Reflection'+'\x20+\x20vec4f(c'+'alcReflect'+'ion(reflDi'+'r,\x20gloss),'+'\x20uniform.m'+'aterial_re'+'flectivity'+');\x0a}\x0a'),oI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_envA'+'tlasSample'+'r:\x20sampler'+';\x0a#endif\x0au'+'niform\x20mat'+'erial_refl'+'ectivity:\x20'+'f32;\x0a\x0a//\x20c'+'alculate\x20m'+'ip\x20level\x20f'+'or\x20shiny\x20r'+'eflection\x20'+'given\x20equi'+'rect\x20coord'+'s\x20uv.\x0afn\x20s'+'hinyMipLev'+'el(uv:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20dx:\x20vec2f'+'\x20=\x20dpdx(uv'+');\x0a\x20\x20\x20\x20let'+'\x20dy:\x20vec2f'+'\x20=\x20dpdy(uv'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20second\x20dF'+'\x20at\x20180\x20de'+'grees\x0a\x20\x20\x20\x20'+'let\x20uv2:\x20v'+'ec2f\x20=\x20vec'+'2f(fract(u'+'v.x\x20+\x200.5)'+',\x20uv.y);\x0a\x20'+'\x20\x20\x20let\x20dx2'+':\x20vec2f\x20=\x20'+'dpdx(uv2);'+'\x0a\x20\x20\x20\x20let\x20d'+'y2:\x20vec2f\x20'+'=\x20dpdy(uv2'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20min\x20of\x20bo'+'th\x20sets\x20of'+'\x20dF\x20to\x20han'+'dle\x20discon'+'tinuity\x20at'+'\x20the\x20azim\x20'+'edge\x0a\x20\x20\x20\x20l'+'et\x20maxd:\x20f'+'32\x20=\x20min(m'+'ax(dot(dx,'+'\x20dx),\x20dot('+'dy,\x20dy)),\x20'+'max(dot(dx'+'2,\x20dx2),\x20d'+'ot(dy2,\x20dy'+'2)));\x0a\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(0.5\x20*\x20'+'log2(maxd)'+'\x20-\x201.0\x20+\x20u'+'niform.tex'+'tureBias,\x20'+'0.0,\x205.0);'+'\x0a}\x0a\x0afn\x20cal'+'cReflectio'+'n(reflDir:'+'\x20vec3f,\x20gl'+'oss:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20d'+'ir:\x20vec3f\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3f(-1.0,\x20'+'1.0,\x201.0);'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20l'+'et\x20level:\x20'+'f32\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20l'+('et\x20ilevel:'+'\x20f32\x20=\x20flo'+'or(level);'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ccessing\x20t'+'he\x20shiny\x20('+'top\x20level)'+'\x20reflectio'+'n\x20-\x20perfor'+'m\x20manual\x20m'+'ipmap\x20look'+'up\x0a\x20\x20\x20\x20let'+'\x20level2:\x20f'+'32\x20=\x20shiny'+'MipLevel(u'+'v\x20*\x20atlasS'+'ize);\x0a\x20\x20\x20\x20'+'let\x20ilevel'+'2:\x20f32\x20=\x20f'+'loor(level'+'2);\x0a\x0a\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20uv1:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20weight:'+'\x20f32;\x0a\x20\x20\x20\x20'+'if\x20(ilevel'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'1\x20=\x20mapShi'+'nyUv(uv,\x20i'+'level2\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20weight\x20'+'=\x20level2\x20-'+'\x20ilevel2;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20access'+'ing\x20rough\x20'+'reflection'+'\x20-\x20just\x20sa'+'mple\x20the\x20s'+'ame\x20part\x20t'+'wice\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv0\x20=\x20m'+'apRoughnes'+'sUv(uv,\x20il'+'evel);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20linearA'+':\x20vec3f\x20=\x20'+'{reflectio'+'nDecode}(t'+'extureSamp'+'le(texture'+'_envAtlas,'+'\x20texture_e'+'nvAtlasSam'+'pler,\x20uv0)'+');\x0a\x20\x20\x20\x20let'+'\x20linearB:\x20'+'vec3f\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'tureSample'+'(texture_e'+'nvAtlas,\x20t'+'exture_env'+'AtlasSampl'+'er,\x20uv1));'+'\x0a\x20\x20\x20\x20let\x20l'+'inear0:\x20ve'+'c3f\x20=\x20mix('+'linearA,\x20l'+'inearB,\x20we'+'ight);\x0a\x20\x20\x20'+'\x20let\x20linea'+'r1:\x20vec3f\x20'+'=\x20{reflect'+'ionDecode}'+'(textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r')+('eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0afn'+'\x20addReflec'+'tion(reflD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20=\x20dReflec'+'tion\x20+\x20vec'+'4f(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20unifo'+'rm.materia'+'l_reflecti'+'vity);\x0a}\x0a'),lI='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a#en'+'dif\x0a\x0avar\x20t'+'exture_sph'+'ereMap:\x20te'+'xture_2d<f'+'32>;\x0avar\x20t'+'exture_sph'+'ereMapSamp'+'ler:\x20sampl'+'er;\x0aunifor'+'m\x20material'+'_reflectiv'+'ity:\x20f32;\x0a'+'\x0afn\x20calcRe'+'flection(r'+'eflDir:\x20ve'+'c3f,\x20gloss'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20view'+'RotationMa'+'trix\x20=\x20mat'+'3x3f(unifo'+'rm.matrix_'+'view[0].xy'+'z,\x20uniform'+'.matrix_vi'+'ew[1].xyz,'+'\x20uniform.m'+'atrix_view'+'[2].xyz);\x0a'+'\x20\x20\x20\x20let\x20re'+'flDirV:\x20ve'+'c3f\x20=\x20view'+'RotationMa'+'trix\x20*\x20ref'+'lDir;\x0a\x0a\x20\x20\x20'+'\x20let\x20m:\x20f3'+'2\x20=\x202.0\x20*\x20'+'sqrt(dot(r'+'eflDirV.xy'+',\x20reflDirV'+'.xy)\x20+\x20(re'+'flDirV.z\x20+'+'\x201.0)\x20*\x20(r'+'eflDirV.z\x20'+'+\x201.0));\x0a\x20'+'\x20\x20\x20let\x20sph'+'ereMapUv:\x20'+'vec2f\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_sphere'+'Map,\x20textu'+'re_sphereM'+'apSampler,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0af'+'n\x20addRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20dRefle'+'ction\x20+\x20ve'+'c4f(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20unif'+'orm.materi'+'al_reflect'+'ivity);\x0a}\x0a',cI='\x0a\x0afn\x20addRe'+'flectionSh'+'een(worldN'+'ormal:\x20vec'+'3f,\x20viewDi'+'r:\x20vec3f,\x20'+'gloss:\x20f32'+')\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20dot(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20let\x20al'+'phaG:\x20f32\x20'+'=\x20gloss\x20*\x20'+'gloss;\x0a\x0a\x20\x20'+'\x20\x20//\x20Avoid'+'\x20using\x20a\x20L'+'UT\x20and\x20app'+'roximate\x20t'+'he\x20values\x20'+'analytical'+'ly\x0a\x20\x20\x20\x20let'+'\x20a:\x20f32\x20=\x20'+'select(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20-339.2\x20*'+'\x20alphaG\x20+\x20'+'161.4\x20*\x20gl'+'oss\x20-\x2025.9'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gloss\x20<\x200.'+'25\x0a\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20let\x20b:'+'\x20f32\x20=\x20sel'+'ect(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.97\x20*\x20'+'alphaG\x20-\x203'+'.27\x20*\x20glos'+'s\x20+\x200.72,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x2044'+'.0\x20*\x20alpha'+'G\x20-\x2023.7\x20*'+'\x20gloss\x20+\x203'+'.26,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss\x20<'+'\x200.25\x0a\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20let'+'\x20dg_add:\x20f'+'32\x20=\x20selec'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.1\x20*\x20(\x20g'+'loss\x20-\x200.2'+'5\x20),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x200.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s\x20<\x200.25\x0a\x20'+'\x20\x20\x20);\x0a\x20\x20\x20\x20'+'let\x20dg:\x20f3'+'2\x20=\x20exp(\x20a'+'\x20*\x20NoV\x20+\x20b'+'\x20)\x20+\x20dg_ad'+'d;\x0a\x20\x20\x20\x20sRe'+'flection\x20='+'\x20sReflecti'+'on\x20+\x20(calc'+'Reflection'+'(worldNorm'+'al,\x200.0)\x20*'+'\x20saturate('+'dg));\x0a}',hI='\x0afn\x20refrac'+'t2(viewVec'+':\x20vec3f,\x20n'+'ormal:\x20vec'+'3f,\x20IOR:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20vn:\x20f32'+'\x20=\x20dot(vie'+'wVec,\x20norm'+'al);\x0a\x20\x20\x20\x20l'+'et\x20k:\x20f32\x20'+'=\x201.0\x20-\x20IO'+'R\x20*\x20IOR\x20*\x20'+'(1.0\x20-\x20vn\x20'+'*\x20vn);\x0a\x20\x20\x20'+'\x20let\x20refrV'+'ec:\x20vec3f\x20'+'=\x20IOR\x20*\x20vi'+'ewVec\x20-\x20(I'+'OR\x20*\x20vn\x20+\x20'+'sqrt(k))\x20*'+'\x20normal;\x0a\x20'+'\x20\x20\x20return\x20'+'refrVec;\x0a}'+'\x0a\x0afn\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20vi'+'ewDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20th'+'ickness:\x20f'+'32,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20al'+'bedo:\x20vec3'+'f,\x0a\x20\x20\x20\x20tra'+'nsmission:'+'\x20f32,\x0a\x20\x20\x20\x20'+'refraction'+'Index:\x20f32'+',\x0a\x20\x20\x20\x20disp'+'ersion:\x20f3'+'2\x0a#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20,\x20iri'+'descenceFr'+'esnel:\x20vec'+'3f,\x0a\x20\x20\x20\x20ir'+'idescenceI'+'ntensity:\x20'+'f32\x0a#endif'+'\x0a)\x20{\x0a\x20\x20\x20\x20/'+'/\x20use\x20same'+'\x20reflectio'+'n\x20code\x20wit'+'h\x20refracti'+'on\x20vector\x0a'+'\x20\x20\x20\x20let\x20tm'+'pRefl:\x20vec'+'4f\x20=\x20dRefl'+'ection;\x0a\x20\x20'+'\x20\x20let\x20refl'+'ectionDir:'+'\x20vec3f\x20=\x20r'+'efract2(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndex);\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(0.0);\x0a\x20'+'\x20\x20\x20addRefl'+'ection(ref'+'lectionDir'+',\x20gloss);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'mix(dDiffu'+'seLight,\x20d'+'Reflection'+'.rgb\x20*\x20alb'+'edo,\x20trans'+'mission);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20tm'+'pRefl;\x0a}\x0a',dI='\x0auniform\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+':\x20f32;\x0auni'+'form\x20mater'+'ial_attenu'+'ation:\x20vec'+'3f;\x0a\x0afn\x20ev'+'alRefracti'+'onColor(re'+'fractionVe'+'ctor:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20refra'+'ctionIndex'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20The\x20'+'refraction'+'\x20point\x20is\x20'+'the\x20entry\x20'+'point\x20+\x20ve'+'ctor\x20to\x20ex'+'it\x20point\x0a\x20'+'\x20\x20\x20let\x20poi'+'ntOfRefrac'+'tion:\x20vec4'+'f\x20=\x20vec4f('+'vPositionW'+'\x20+\x20refract'+'ionVector,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20//\x20Proje'+'ct\x20to\x20text'+'ure\x20space\x20'+'so\x20we\x20can\x20'+'sample\x20it\x0a'+'\x20\x20\x20\x20let\x20pr'+'ojectionPo'+'int:\x20vec4f'+'\x20=\x20uniform'+'.matrix_vi'+'ewProjecti'+'on\x20*\x20point'+'OfRefracti'+'on;\x0a\x0a\x20\x20\x20\x20/'+'/\x20use\x20buil'+'t-in\x20getGr'+'abScreenPo'+'s\x20function'+'\x20to\x20conver'+'t\x20screen\x20p'+'osition\x20to'+'\x20grab\x20text'+'ure\x20uv\x20coo'+'rds\x0a\x20\x20\x20\x20le'+'t\x20uv:\x20vec2'+'f\x20=\x20getGra'+'bScreenPos'+'(projectio'+'nPoint);\x0a\x0a'+'\x20\x20\x20\x20//\x20Use'+'\x20IOR\x20and\x20r'+'oughness\x20t'+'o\x20select\x20m'+'ip\x0a\x20\x20\x20\x20let'+'\x20iorToRoug'+'hness:\x20f32'+'\x20=\x20(1.0\x20-\x20'+'gloss)\x20*\x20c'+'lamp((1.0\x20'+'/\x20refracti'+'onIndex)\x20*'+'\x202.0\x20-\x202.0'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20let'+'\x20refractio'+'nLod:\x20f32\x20'+'=\x20log2(uni'+'form.uScre'+'enSize.x)\x20'+'*\x20iorToRou'+'ghness;\x0a\x20\x20'+'\x20\x20let\x20refr'+'action:\x20ve'+'c3f\x20=\x20text'+'ureSampleL'+'evel(uScen'+'eColorMap,'+'\x20uSceneCol'+'orMapSampl'+'er,\x20uv,\x20re'+'fractionLo'+'d).rgb;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'refraction'+';\x0a}\x0a\x0afn\x20ad'+'dRefractio'+'n(\x0a\x20\x20\x20\x20wor'+('ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20thickness'+':\x20f32,\x0a\x20\x20\x20'+'\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20albedo:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'transmissi'+'on:\x20f32,\x0a\x20'+'\x20\x20\x20refract'+'ionIndex:\x20'+'f32,\x0a\x20\x20\x20\x20d'+'ispersion:'+'\x20f32,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'iridescenc'+'eIntensity'+':\x20f32\x0a#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20Extra'+'ct\x20scale\x20f'+'rom\x20the\x20mo'+'del\x20transf'+'orm\x0a\x20\x20\x20\x20va'+'r\x20modelSca'+'le:\x20vec3f;'+'\x0a\x20\x20\x20\x20model'+'Scale.x\x20=\x20'+'length(uni'+'form.matri'+'x_model[0]'+'.xyz);\x0a\x20\x20\x20'+'\x20modelScal'+'e.y\x20=\x20leng'+'th(uniform'+'.matrix_mo'+'del[1].xyz'+');\x0a\x20\x20\x20\x20mod'+'elScale.z\x20'+'=\x20length(u'+'niform.mat'+'rix_model['+'2].xyz);\x0a\x0a'+'\x20\x20\x20\x20//\x20Cal'+'culate\x20the'+'\x20refractio'+'n\x20vector,\x20'+'scaled\x20by\x20'+'the\x20thickn'+'ess\x20and\x20sc'+'ale\x20of\x20the'+'\x20object\x0a\x20\x20'+'\x20\x20let\x20scal'+'e:\x20vec3f\x20='+'\x20thickness'+'\x20*\x20modelSc'+'ale;\x0a\x20\x20\x20\x20v'+'ar\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndex))'+'\x20*\x20scale;\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'x);\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20the\x20dispe'+'rsion\x20mate'+'rial\x20prope'+'rty,\x20calcu'+'late\x20modif'+'ied\x20refrac'+'tion\x20index'+'\x20values\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20f'+'or\x20R\x20and\x20B'+'\x20channels\x20')+('and\x20evalua'+'te\x20the\x20ref'+'raction\x20co'+'lor\x20for\x20th'+'em.\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Spread:\x20f3'+'2\x20=\x20(1.0\x20/'+'\x20refractio'+'nIndex\x20-\x201'+'.0)\x20*\x200.02'+'5\x20*\x20disper'+'sion;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20r'+'efractionI'+'ndexR:\x20f32'+'\x20=\x20refract'+'ionIndex\x20-'+'\x20halfSprea'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'nVector\x20=\x20'+'normalize('+'refract(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndexR))\x20'+'*\x20scale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ref'+'raction.r\x20'+'=\x20evalRefr'+'actionColo'+'r(refracti'+'onVector,\x20'+'gloss,\x20ref'+'ractionInd'+'exR).r;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20refractio'+'nIndexB:\x20f'+'32\x20=\x20refra'+'ctionIndex'+'\x20+\x20halfSpr'+'ead;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndexB)'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efraction.'+'b\x20=\x20evalRe'+'fractionCo'+'lor(refrac'+'tionVector'+',\x20gloss,\x20r'+'efractionI'+'ndexB).b;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20T'+'ransmittan'+'ce\x20is\x20our\x20'+'final\x20refr'+'action\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20transmitt'+'ance:\x20vec3'+'f;\x0a\x20\x20\x20\x20if\x20'+'(uniform.m'+'aterial_in'+'vAttenuati'+'onDistance'+'\x20!=\x200.0)\x0a\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20att'+'enuation:\x20'+'vec3f\x20=\x20-l'+'og(uniform'+'.material_'+'attenuatio'+'n)\x20*\x20unifo'+'rm.materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans')+('mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20let\x20'+'fresnel:\x20v'+'ec3f\x20=\x20vec'+'3f(1.0)\x20-\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20world'+'Normal),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scenceInte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20mix(dDif'+'fuseLight,'+'\x20refractio'+'n\x20*\x20transm'+'ittance\x20*\x20'+'fresnel,\x20t'+'ransmissio'+'n);\x0a}\x0a'),fI='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0a#ifdef'+'\x20CUBEMAP_S'+'OURCE\x0a\x20\x20\x20\x20'+'var\x20source'+'Cube:\x20text'+'ure_cube<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20sourceC'+'ubeSampler'+'\x20:\x20sampler'+';\x0a#else\x0a\x20\x20'+'\x20\x20var\x20sour'+'ceTex:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sourceTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20//\x20sa'+'mples\x0a\x20\x20\x20\x20'+'var\x20sample'+'sTex:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20samplesTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplesT'+'exInverseS'+'ize:\x20vec2f'+';\x0a#endif\x0a\x0a'+'//\x20params:'+'\x0a//\x20x\x20-\x20ta'+'rget\x20cubem'+'ap\x20face\x200.'+'.6\x0a//\x20y\x20-\x20'+'target\x20ima'+'ge\x20total\x20p'+'ixels\x0a//\x20z'+'\x20-\x20source\x20'+'cubemap\x20si'+'ze\x0auniform'+'\x20params:\x20v'+'ec3f;\x0a\x0afn\x20'+'targetFace'+'()\x20->\x20f32\x20'+'{\x20return\x20u'+'niform.par'+'ams.x;\x20}\x0af'+'n\x20targetTo'+'talPixels('+')\x20->\x20f32\x20{'+'\x20return\x20un'+'iform.para'+'ms.y;\x20}\x0afn'+'\x20sourceTot'+'alPixels()'+'\x20->\x20f32\x20{\x20'+'return\x20uni'+'form.param'+'s.z;\x20}\x0a\x0aco'+'nst\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22enc'+'odePS\x22\x0a\x0a//'+'--\x20support'+'ed\x20project'+'ions\x0a\x0afn\x20m'+'odifySeams'+'(dir:\x20vec3'+'f,\x20scale:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20adir\x20='+'\x20abs(dir);'+'\x0a\x20\x20\x20\x20let\x20M'+'\x20=\x20max(max'+'(adir.x,\x20a'+'dir.y),\x20ad'+'ir.z);\x0a\x20\x20\x20'+'\x20return\x20di'+'r\x20/\x20M\x20*\x20ve'+'c3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20select('+('scale,\x201.0'+',\x20adir.x\x20='+'=\x20M),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20select'+'(scale,\x201.'+'0,\x20adir.y\x20'+'==\x20M),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20selec'+'t(scale,\x201'+'.0,\x20adir.z'+'\x20==\x20M)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0afn\x20'+'toSpherica'+'l(dir:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20l'+'et\x20nonZero'+'XZ\x20=\x20any(d'+'ir.xz\x20!=\x20v'+'ec2f(0.0,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2f(select'+'(0.0,\x20atan'+'2(dir.x,\x20d'+'ir.z),\x20non'+'ZeroXZ),\x20a'+'sin(dir.y)'+');\x0a}\x0a\x0afn\x20f'+'romSpheric'+'al(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20vec3'+'f(cos(uv.y'+')\x20*\x20sin(uv'+'.x),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sin(uv.y)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'s(uv.y)\x20*\x20'+'cos(uv.x))'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Equirect(u'+'v:\x20vec2f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20fromSphe'+'rical((vec'+'2f(uv.x,\x201'+'.0\x20-\x20uv.y)'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20vec2'+'f(PI,\x20PI\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20octahe'+'dral\x20code,'+'\x20based\x20on\x20'+'https://jc'+'gt.org/pub'+'lished/000'+'3/02/01/\x0a/'+'/\x20\x22Survey\x20'+'of\x20Efficie'+'nt\x20Represe'+'ntations\x20f'+'or\x20Indepen'+'dent\x20Unit\x20'+'Vectors\x22\x20b'+'y\x20Cigolle,'+'\x20Donow,\x20Ev'+'angelakos,'+'\x20Mara,\x20McG'+'uire,\x20Meye'+'r\x0a\x0afn\x20sign'+'NotZero(k:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20sele'+'ct(-1.0,\x201'+'.0,\x20k\x20>=\x200'+'.0);\x0a}\x0a\x0afn'+'\x20signNotZe'+'roVec2(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2f(signN'+'otZero(v.x'+'),\x20signNot'+'Zero(v.y))'+';\x0a}\x0a\x0a//\x20Re'+'turns\x20a\x20un'+'it\x20vector.'+'\x20Argument\x20'+'o\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20pack')+('ed\x20via\x20oct'+'Encode,\x20on'+'\x20the\x20[-1,\x20'+'+1]\x20square'+'\x0afn\x20octDec'+'ode(o:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20v\x20=\x20vec'+'3f(o.x,\x201.'+'0\x20-\x20abs(o.'+'x)\x20-\x20abs(o'+'.y),\x20o.y);'+'\x0a\x20\x20\x20\x20if\x20(v'+'.y\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20temp:\x20'+'vec2f\x20=\x20(1'+'.0\x20-\x20abs(v'+'.zx))\x20*\x20si'+'gnNotZeroV'+'ec2(v.xz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'\x20=\x20vec3f(t'+'emp.x,\x20v.y'+',\x20temp.y);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Octahedral'+'(uv:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20octDec'+'ode(vec2f('+'uv.x,\x201.0\x20'+'-\x20uv.y)\x20*\x20'+'2.0\x20-\x201.0)'+';\x0a}\x0a\x0a//\x20As'+'sumes\x20that'+'\x20v\x20is\x20a\x20un'+'it\x20vector.'+'\x20The\x20resul'+'t\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20on\x20t'+'he\x20[-1,\x20+1'+']\x20square\x0af'+'n\x20octEncod'+'e(v:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20var\x20'+'result\x20=\x20v'+'.xz\x20*\x20(1.0'+'\x20/\x20l1norm)'+';\x0a\x20\x20\x20\x20if\x20('+'v.y\x20<\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'(1.0\x20-\x20abs'+'(result.yx'+'))\x20*\x20signN'+'otZeroVec2'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20fn'+'\x20sampleCub'+'emapDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'sourceCube'+',\x20sourceCu'+'beSampler,'+'\x20modifySea'+'ms(dir,\x201.'+'0));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleCubem'+'apSph(sph:')+('\x20vec2f)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20sample'+'CubemapDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leCubemapD'+'irLod(dir:'+'\x20vec3f,\x20mi'+'pLevel:\x20f3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leLevel(so'+'urceCube,\x20'+'sourceCube'+'Sampler,\x20m'+'odifySeams'+'(dir,\x201.0)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleCubemap'+'SphLod(sph'+':\x20vec2f,\x20m'+'ipLevel:\x20f'+'32)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'sampleCube'+'mapDirLod('+'fromSpheri'+'cal(sph),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a#el'+'se\x0a\x0a\x20\x20\x20\x20fn'+'\x20sampleEqu'+'irectSph(s'+'ph:\x20vec2f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv\x20=\x20s'+'ph\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'(sourceTex'+',\x20sourceTe'+'xSampler,\x20'+'vec2f(uv.x'+',\x201.0\x20-\x20uv'+'.y));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20fn\x20'+'sampleEqui'+'rectDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'Sph(toSphe'+'rical(dir)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleEquirec'+'tSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20uv'+'\x20=\x20sph\x20/\x20v'+'ec2f(PI\x20*\x20'+'2.0,\x20PI)\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleLevel('+'sourceTex,'+'\x20sourceTex'+'Sampler,\x20v'+'ec2f(uv.x,'+'\x201.0\x20-\x20uv.'+'y),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleEquir'+'ectDirLod('+'dir:\x20vec3f'+',\x20mipLevel'+':\x20f32)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleE')+('quirectSph'+'Lod(toSphe'+'rical(dir)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleOctahed'+'ralDir(dir'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20=\x20oct'+'Encode(dir'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'textureSam'+'ple(source'+'Tex,\x20sourc'+'eTexSample'+'r,\x20vec2f(u'+'v.x,\x201.0\x20-'+'\x20uv.y));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20sampleO'+'ctahedralS'+'ph(sph:\x20ve'+'c2f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leOctahedr'+'alDirLod(d'+'ir:\x20vec3f,'+'\x20mipLevel:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'Level(sour'+'ceTex,\x20sou'+'rceTexSamp'+'ler,\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20sampl'+'eOctahedra'+'lSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'Lod(fromSp'+'herical(sp'+'h),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a\x0a'+'fn\x20getDire'+'ctionCubem'+'ap(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20st\x20=\x20uv'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20le'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20vec:\x20vec'+'3f;\x0a\x20\x20\x20\x20if'+'\x20(face\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(1,\x20'+'-st.y,\x20-st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3f(-1,\x20-'+'st.y,\x20st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x202.0)')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3f(st.x,\x201'+',\x20st.y);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(face\x20='+'=\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'\x20=\x20vec3f(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(st.'+'x,\x20-st.y,\x20'+'1);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(-st'+'.x,\x20-st.y,'+'\x20-1);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20normal'+'ize(modify'+'Seams(vec,'+'\x201.0));\x0a}\x0a'+'\x0afn\x20matrix'+'FromVector'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20-n.'+'x\x20*\x20n.y\x20*\x20'+'a;\x0a\x20\x20\x20\x20let'+'\x20b1\x20=\x20vec3'+'f(1.0\x20-\x20n.'+'x\x20*\x20n.x\x20*\x20'+'a,\x20b,\x20-n.x'+');\x0a\x20\x20\x20\x20let'+'\x20b2\x20=\x20vec3'+'f(b,\x201.0\x20-'+'\x20n.y\x20*\x20n.y'+'\x20*\x20a,\x20-n.y'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mat3x3'+'f(b1,\x20b2,\x20'+'n);\x0a}\x0a\x0afn\x20'+'matrixFrom'+'VectorSlow'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20up\x20=\x20sel'+'ect(vec3f('+'0.0,\x200.0,\x20'+'select(-1.'+'0,\x201.0,\x20n.'+'y\x20>\x200.0)),'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'),\x20abs(n.y'+')\x20>\x200.0000'+'001);\x0a\x20\x20\x20\x20'+'let\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20let'+'\x20y\x20=\x20cross'+'(n,\x20x);\x0a\x20\x20'+'\x20\x20return\x20m'+'at3x3f(x,\x20'+'y,\x20n);\x0a}\x0a\x0a'+'fn\x20reproje'+'ct(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20i'+'f\x20({NUM_SA'+'MPLES}\x20<=\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20sing'+'le\x20sample\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}({'+'DECODE_FUN'+'C}({SOURCE'+'_FUNC}Dir('+'{TARGET_FU'+'NC}(uv))))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mult'+'i\x20sample\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20t\x20=\x20{TARG')+('ET_FUNC}(u'+'v);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20tu\x20='+'\x20dpdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20tv\x20=\x20dpd'+'y(t);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'u\x20+=\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20for\x20(v'+'ar\x20v\x20=\x200.0'+';\x20v\x20<\x20{NUM'+'_SAMPLES_S'+'QRT};\x20v\x20+='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}Dir(norma'+'lize(t\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'u\x20*\x20(u\x20/\x20{'+'NUM_SAMPLE'+'S_SQRT}\x20-\x20'+'0.5)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tv\x20'+'*\x20(v\x20/\x20{NU'+'M_SAMPLES_'+'SQRT}\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20{ENC'+'ODE_FUNC}('+'result\x20/\x20('+'{NUM_SAMPL'+'ES_SQRT}\x20*'+'\x20{NUM_SAMP'+'LES_SQRT})'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0aconst\x20un'+'packFloat:'+'\x20vec4f\x20=\x20v'+'ec4f(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20fn\x20un'+'packSample'+'(i:\x20i32,\x20L'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20mipLev'+'el:\x20ptr<fu'+'nction,\x20f3'+'2>)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20u\x20'+'=\x20(f32(i\x20*'+'\x204)\x20+\x200.5)'+'\x20*\x20uniform'+'.samplesTe'+'xInverseSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20v\x20'+'=\x20(floor(u'+')\x20+\x200.5)\x20*'+'\x20uniform.s'+'amplesTexI'+'nverseSize'+'.y;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20raw'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.x\x20=\x20dot(t'+'extureSamp')+('le(samples'+'Tex,\x20sampl'+'esTexSampl'+'er,\x20vec2f('+'u,\x20v)),\x20un'+'packFloat)'+';\x20u\x20+=\x20uni'+'form.sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'textureSam'+'ple(sample'+'sTex,\x20samp'+'lesTexSamp'+'ler,\x20vec2f'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20un'+'iform.samp'+'lesTexInve'+'rseSize.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.z\x20=\x20dot'+'(textureSa'+'mple(sampl'+'esTex,\x20sam'+'plesTexSam'+'pler,\x20vec2'+'f(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20u'+'niform.sam'+'plesTexInv'+'erseSize.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'raw.w\x20=\x20do'+'t(textureS'+'ample(samp'+'lesTex,\x20sa'+'mplesTexSa'+'mpler,\x20vec'+'2f(u,\x20v)),'+'\x20unpackFlo'+'at);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20*L\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*m'+'ipLevel\x20=\x20'+'raw.w\x20*\x208.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20con'+'volve\x20an\x20e'+'nvironment'+'\x20given\x20pre'+'-generated'+'\x20samples\x0a\x20'+'\x20\x20\x20fn\x20pref'+'ilterSampl'+'es(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'truct\x20vect'+'or\x20space\x20g'+'iven\x20targe'+'t\x20directio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vecSpa'+'ce\x20=\x20matri'+'xFromVecto'+'rSlow({TAR'+'GET_FUNC}('+'uv));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20L'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20mipLevel:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(var\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20i\x20+=\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unpa'+'ckSample(i'+',\x20&L,\x20&mip'+'Level);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'result\x20+=\x20'+'{DECODE_FU')+('NC}({SOURC'+'E_FUNC}Dir'+'Lod(vecSpa'+'ce\x20*\x20L,\x20mi'+'pLevel))\x20*'+'\x20L.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20to'+'talWeight\x20'+'+=\x20L.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20{ENCOD'+'E_FUNC}(re'+'sult\x20/\x20tot'+'alWeight);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20unwei'+'ghted\x20vers'+'ion\x20of\x20pre'+'filterSamp'+'les\x0a\x20\x20\x20\x20fn'+'\x20prefilter'+'SamplesUnw'+'eighted(uv'+':\x20vec2f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20construct'+'\x20vector\x20sp'+'ace\x20given\x20'+'target\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20v'+'ecSpace\x20=\x20'+'matrixFrom'+'VectorSlow'+'({TARGET_F'+'UNC}(uv));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20L:\x20vec'+'3f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20mipL'+'evel:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20result'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(va'+'r\x20i\x20=\x200;\x20i'+'\x20<\x20{NUM_SA'+'MPLES};\x20i\x20'+'+=\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'unpackSamp'+'le(i,\x20&L,\x20'+'&mipLevel)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}DirLod(ve'+'cSpace\x20*\x20L'+',\x20mipLevel'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'{ENCODE_FU'+'NC}(result'+'\x20/\x20f32({NU'+'M_SAMPLES}'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20{P'+'ROCESS_FUN'+'C}(input.v'+'Uv0);\x0a\x20\x20\x20\x20'+'return\x20out'+'put;\x0a}\x0a'),uI='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0aunifo'+'rm\x20uvMod:\x20'+'vec4f;\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0a\x0a@'+'vertex\x0afn\x20'+'vertexMain'+'(input:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20var\x20outpu'+'t:\x20VertexO'+'utput;\x0a\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(input.v'+'ertex_posi'+'tion,\x200.5,'+'\x201.0);\x0a\x20\x20o'+'utput.vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(input.ver'+'tex_positi'+'on\x20*\x200.5\x20+'+'\x20vec2f(0.5'+',\x200.5))\x20*\x20'+'uniform.uv'+'Mod.xy\x20+\x20u'+'niform.uvM'+'od.zw);\x0a\x20\x20'+'return\x20out'+'put;\x0a}\x0a',pI='\x0a\x0avar\x20uSce'+'neDepthMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20uSceneD'+'epthMapSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifn'+'def\x20SCREEN'+'SIZE\x0a\x20\x20\x20\x20#'+'define\x20SCR'+'EENSIZE\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20#define\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20unifor'+'m\x20matrix_v'+'iew:\x20mat4x'+'4f;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20CAM'+'ERAPLANES\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20CAME'+'RAPLANES\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20camer'+'a_params:\x20'+'vec4f;\x20//\x20'+'x:\x201\x20/\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20\x20y:\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20z:\x20came'+'ra_near,\x20\x20'+'\x20\x20\x20\x20\x20\x20w:\x20i'+'s_ortho\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20fn\x20lin'+'earizeDept'+'h(z:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uniform.c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x20//\x20Pe'+'rspective\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20('+'uniform.ca'+'mera_param'+'s.z\x20*\x20unif'+'orm.camera'+'_params.y)'+'\x20/\x20(unifor'+'m.camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.z\x20-'+'\x20uniform.c'+'amera_para'+'ms.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20unifor'+'m.camera_p'+'arams.z\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'+'\x0afn\x20deline'+'arizeDepth'+'(linearDep'+'th:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.camera'+'_params.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(unif'+'orm.camera'+('_params.y\x20'+'*\x20(uniform'+'.camera_pa'+'rams.z\x20-\x20l'+'inearDepth'+'))\x20/\x20(line'+'arDepth\x20*\x20'+'(uniform.c'+'amera_para'+'ms.z\x20-\x20uni'+'form.camer'+'a_params.y'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(linearD'+'epth\x20-\x20uni'+'form.camer'+'a_params.z'+')\x20/\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20by'+'\x20UV\x0afn\x20get'+'LinearScre'+'enDepth(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_LINEAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SCEN'+'E_DEPTHMAP'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'uSceneDept'+'hMap,\x20uSce'+'neDepthMap'+'Sampler,\x20u'+'v).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20tex'+'tureSize\x20='+'\x20textureDi'+'mensions(u'+'SceneDepth'+'Map,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20texel'+':\x20vec2i\x20=\x20'+'vec2i(uv\x20*'+'\x20vec2f(tex'+'tureSize))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta:\x20vec4f\x20'+'=\x20textureL'+'oad(uScene'+'DepthMap,\x20'+'texel,\x200);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta_u32:\x20ve'+'c4u\x20=\x20vec4'+'u(data\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20intBits'+':\x20u32\x20=\x20(d'+'ata_u32.r\x20'+'<<\x2024u)\x20|\x20'+'(data_u32.'+'g\x20<<\x2016u)\x20'+'|\x20(data_u3'+'2.b\x20<<\x208u)'+'\x20|\x20data_u3'+'2.a;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20bitca'+'st<f32>(in'+'tBits);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pth(textur'+'eSample(uS'+'ceneDepthM')+('ap,\x20uScene'+'DepthMapSa'+'mpler,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20fn\x20get'+'LinearScre'+'enDepthFra'+'g()\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20pcP'+'osition.xy'+'\x20*\x20uniform'+'.uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afn\x20get'+'LinearDept'+'h(pos:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(unif'+'orm.matrix'+'_view\x20*\x20ve'+'c4f(pos,\x201'+'.0)).z;\x0a}\x0a'),mI='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x0afn'+'\x20getShadow'+'CascadeInd'+'ex(shadowC'+'ascadeDist'+'ances:\x20vec'+'4f,\x20shadow'+'CascadeCou'+'nt:\x20i32)\x20-'+'>\x20i32\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20dept'+'h\x20in\x200\x20..\x20'+'far\x20plane\x20'+'range\x0a\x20\x20\x20\x20'+'let\x20depth:'+'\x20f32\x20=\x201.0'+'\x20/\x20pcPosit'+'ion.w;\x0a\x0a\x20\x20'+'\x20\x20//\x201.0\x20i'+'f\x20depth\x20>='+'\x20distance,'+'\x200.0\x20other'+'wise\x0a\x20\x20\x20\x20l'+'et\x20compari'+'sons:\x20vec4'+'f\x20=\x20step(s'+'hadowCasca'+'deDistance'+'s,\x20vec4f(d'+'epth));\x0a\x0a\x20'+'\x20\x20\x20//\x20sum\x20'+'is\x20the\x20ind'+'ex\x0a\x20\x20\x20\x20let'+'\x20cascadeIn'+'dex:\x20i32\x20='+'\x20i32(dot(c'+'omparisons'+',\x20vec4f(1.'+'0)));\x0a\x0a\x20\x20\x20'+'\x20//\x20limit\x20'+'to\x20actual\x20'+'number\x20of\x20'+'used\x20casca'+'des\x0a\x20\x20\x20\x20re'+'turn\x20min(c'+'ascadeInde'+'x,\x20shadowC'+'ascadeCoun'+'t\x20-\x201);\x0a}\x0a'+'\x0a//\x20functi'+'on\x20which\x20m'+'odifies\x20ca'+'scade\x20inde'+'x\x20to\x20dithe'+'r\x20between\x20'+'cascades\x0af'+'n\x20ditherSh'+'adowCascad'+'eIndex(cas'+'cadeIndex_'+'in:\x20i32,\x20s'+'hadowCasca'+'deDistance'+'s:\x20vec4f,\x20'+'shadowCasc'+'adeCount:\x20'+'i32,\x20blend'+'Factor:\x20f3'+'2)\x20->\x20i32\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Use\x20var\x20as'+'\x20cascadeIn'+'dex\x20might\x20'+'be\x20modifie'+'d\x0a\x20\x20\x20\x20var\x20'+'cascadeInd'+'ex:\x20i32\x20=\x20'+'cascadeInd'+'ex_in;\x0a\x20\x20\x20'+'\x20if\x20(casca'+'deIndex\x20<\x20'+'shadowCasc'+'adeCount\x20-'+'\x201)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20cu'+'rrentRange'+'End:\x20f32\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+('\x20transitio'+'nStart:\x20f3'+'2\x20=\x20blendF'+'actor\x20*\x20cu'+'rrentRange'+'End;\x20//\x20St'+'art\x20overla'+'p\x20factor\x20a'+'way\x20from\x20t'+'he\x20end\x20dis'+'tance\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(depth\x20'+'>\x20transiti'+'onStart)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20a\x20tr'+'ansition\x20f'+'actor\x20(0.0'+'\x20to\x201.0)\x20w'+'ithin\x20the\x20'+'overlap\x20ra'+'nge\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'transition'+'Factor:\x20f3'+'2\x20=\x20smooth'+'step(trans'+'itionStart'+',\x20currentR'+'angeEnd,\x20d'+'epth);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Add\x20pse'+'udo-random'+'\x20dithering'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20TODO'+':\x20replace\x20'+'by\x20user\x20se'+'lectable\x20d'+'ithering\x20m'+'ethod\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20dither:\x20'+'f32\x20=\x20frac'+'t(sin(dot('+'pcPosition'+'.xy,\x20vec2f'+'(12.9898,\x20'+'78.233)))\x20'+'*\x2043758.54'+'53);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dither\x20<\x20'+'transition'+'Factor)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20casc'+'adeIndex\x20='+'\x20cascadeIn'+'dex\x20+\x201;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20cascadeIn'+'dex;\x0a}\x0a\x0afn'+'\x20fadeShado'+'w(shadowCo'+'ord_in:\x20ve'+'c3f,\x20shado'+'wCascadeDi'+'stances:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20//\x20if\x20the'+'\x20pixel\x20is\x20'+'past\x20the\x20s'+'hadow\x20dist'+'ance,\x20remo'+'ve\x20shadow\x0a'+'\x20\x20\x20\x20//\x20thi'+'s\x20enforces'+'\x20straight\x20'+'line\x20inste'+'ad\x20of\x20corn'+'er\x20of\x20shad'+'ow\x20which\x20m'+'oves\x20when\x20'+'camera\x20rot'+'ates\x0a\x20\x20\x20\x20v'+'ar\x20shadowC'+'oord:\x20vec3'+'f\x20=\x20shadow')+('Coord_in;\x0a'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x20\x20\x20\x20if\x20(d'+'epth\x20>\x20sha'+'dowCascade'+'Distances.'+'w)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20shadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'hadowCoord'+';\x0a}\x0a'),_I='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afn\x20linste'+'p(a:\x20f32,\x20'+'b:\x20f32,\x20v:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20/'+'/\x20WGSL\x20sat'+'urate\x20->\x20c'+'lamp\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p((v\x20-\x20a)\x20'+'/\x20(b\x20-\x20a),'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0afn\x20re'+'duceLightB'+'leeding(pM'+'ax:\x20f32,\x20a'+'mount:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'fn\x20chebysh'+'evUpperBou'+'nd(moments'+':\x20vec2f,\x20m'+'ean:\x20f32,\x20'+'minVarianc'+'e:\x20f32,\x20li'+'ghtBleedin'+'gReduction'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'//\x20Compute'+'\x20variance\x0a'+'\x20\x20\x20\x20var\x20va'+'riance:\x20f3'+'2\x20=\x20moment'+'s.y\x20-\x20(mom'+'ents.x\x20*\x20m'+'oments.x);'+'\x0a\x20\x20\x20\x20varia'+'nce\x20=\x20max('+'variance,\x20'+'minVarianc'+'e);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'probabilis'+'tic\x20upper\x20'+'bound\x0a\x20\x20\x20\x20'+'let\x20d:\x20f32'+'\x20=\x20mean\x20-\x20'+'moments.x;'+'\x0a\x20\x20\x20\x20var\x20p'+'Max:\x20f32\x20='+'\x20variance\x20'+'/\x20(varianc'+'e\x20+\x20(d\x20*\x20d'+'));\x0a\x0a\x20\x20\x20\x20p'+'Max\x20=\x20redu'+'ceLightBle'+'eding(pMax'+',\x20lightBle'+'edingReduc'+'tion);\x0a\x0a\x20\x20'+'\x20\x20//\x20One-t'+'ailed\x20Cheb'+'yshev\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(pMax,\x20'+'1.0,\x20mean\x20'+'<=\x20moments'+'.x);\x0a}\x0a\x0afn'+'\x20calculate'+'EVSM(momen'+'ts_in:\x20vec'+'3f,\x20Z_in:\x20'+'f32,\x20vsmBi'+'as:\x20f32,\x20e'+'xponent:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20Z:\x20f32\x20=\x20'+'2.0\x20*\x20Z_in'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20let\x20warp'+'edDepth:\x20f'+'32\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20l'+('et\x20moments'+':\x20vec2f\x20=\x20'+'moments_in'+'.xy\x20+\x20vec2'+'f(warpedDe'+'pth,\x20warpe'+'dDepth*war'+'pedDepth)\x20'+'*\x20(1.0\x20-\x20m'+'oments_in.'+'z);\x0a\x0a\x20\x20\x20\x20l'+'et\x20VSMBias'+':\x20f32\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20let\x20d'+'epthScale:'+'\x20f32\x20=\x20VSM'+'Bias\x20*\x20exp'+'onent\x20*\x20wa'+'rpedDepth;'+'\x0a\x20\x20\x20\x20let\x20m'+'inVariance'+'1:\x20f32\x20=\x20d'+'epthScale\x20'+'*\x20depthSca'+'le;\x0a\x20\x20\x20\x20re'+'turn\x20cheby'+'shevUpperB'+'ound(momen'+'ts,\x20warped'+'Depth,\x20min'+'Variance1,'+'\x200.1);\x0a}\x0a/'+'/\x20------\x20V'+'SM\x2016\x20----'+'--\x0a\x0afn\x20VSM'+'16(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords:\x20vec'+'2f,\x20resolu'+'tion:\x20f32,'+'\x20Z:\x20f32,\x20v'+'smBias:\x20f3'+'2,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20let\x20momen'+'ts:\x20vec3f\x20'+'=\x20textureS'+'ampleLevel'+'(tex,\x20texS'+'ampler,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'n\x20getShado'+'wVSM16(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M16(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord.xy,\x20s'+'hadowParam'+'s.x,\x20shado'+'wCoord.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotVSM1'+'6(shadowMa'+'p:\x20texture'+'_2d<f32>,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler,\x20sha'+'dowCoord:\x20'+'vec3f,\x20sha')+('dowParams:'+'\x20vec4f,\x20ex'+'ponent:\x20f3'+'2,\x20lightDi'+'r:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20Z:\x20'+'f32\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20V'+'SM16(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20Z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----'+'--\x0a\x0afn\x20VSM'+'32(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords_in:\x20'+'vec2f,\x20res'+'olution:\x20f'+'32,\x20Z:\x20f32'+',\x20vsmBias:'+'\x20f32,\x20expo'+'nent:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20CAPS_TEX'+'TURE_FLOAT'+'_FILTERABL'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20moment'+'s:\x20vec3f\x20='+'\x20textureSa'+'mpleLevel('+'tex,\x20texSa'+'mpler,\x20tex'+'Coords_in,'+'\x200.0).xyz;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20manual\x20b'+'ilinear\x20fi'+'ltering\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'pixelSize\x20'+':\x20f32\x20=\x201.'+'0\x20/\x20resolu'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20te'+'xCoords:\x20v'+'ec2f\x20=\x20tex'+'Coords_in\x20'+'-\x20vec2f(pi'+'xelSize);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20s00:\x20vec'+'3f\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20texCoords'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20s10:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20texCoor'+'ds\x20+\x20vec2f'+'(pixelSize'+',\x200.0),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'s01:\x20vec3f'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'exCoords\x20+'+'\x20vec2f(0.0'+',\x20pixelSiz'+'e),\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s11:')+('\x20vec3f\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20texCo'+'ords\x20+\x20vec'+'2f(pixelSi'+'ze),\x200.0).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fr:'+'\x20vec2f\x20=\x20f'+'ract(texCo'+'ords\x20*\x20res'+'olution);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20h0:\x20vec3'+'f\x20=\x20mix(s0'+'0,\x20s10,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20h1:'+'\x20vec3f\x20=\x20m'+'ix(s01,\x20s1'+'1,\x20fr.x);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20moments:'+'\x20vec3f\x20=\x20m'+'ix(h0,\x20h1,'+'\x20fr.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owVSM32(sh'+'adowMap:\x20t'+'exture_2d<'+'f32>,\x20shad'+'owMapSampl'+'er:\x20sample'+'r,\x20shadowC'+'oord:\x20vec3'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20expone'+'nt:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20V'+'SM32(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afn\x20getSha'+'dowSpotVSM'+'32(shadowM'+'ap:\x20textur'+'e_2d<f32>,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20e'+'xponent:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20Z:'+'\x20f32\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20Z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a'),gI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afn\x20getS'+'hadowPCF1x'+'1(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowCoo'+'rd.z);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotPCF1'+'x1(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20shad'+'owCoord.xy'+',\x20shadowCo'+'ord.z);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a//\x20Not\x20su'+'pported\x20on'+'\x20WebGPU\x20de'+'vice\x0a//\x20fn'+'\x20getShadow'+'OmniPCF1x1'+'(shadowMap'+':\x20texture_'+'depth_cube'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f,'+'\x20lightDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a//\x20'+'\x20\x20\x20\x20let\x20sh'+'adowZ:\x20f32'+'\x20=\x20length('+'lightDir)\x20'+'*\x20shadowPa'+'rams.w\x20+\x20s'+'hadowParam'+'s.z;\x0a//\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20lightD'+'ir,\x20shadow'+'Z);\x0a//\x20}\x0a',SI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0afn\x20_getS'+'hadowPCF3x'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20sum:\x20f3'+'2\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20let\x20uw'+'0:\x20f32\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20s);\x0a\x20\x20\x20\x20'+'let\x20uw1:\x20f'+'32\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20s)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20u0_offset'+':\x20f32\x20=\x20(2'+'.0\x20-\x20s)\x20/\x20'+'uw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20let\x20u'+'1_offset:\x20'+'f32\x20=\x20s\x20/\x20'+'uw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'vw0:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20let\x20vw1:'+'\x20f32\x20=\x20(1.'+'0\x20+\x202.0\x20*\x20'+'t);\x0a\x0a\x20\x20\x20\x20l'+'et\x20v0_offs'+'et:\x20f32\x20=\x20'+'(2.0\x20-\x20t)\x20'+'/\x20vw0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20let'+'\x20v1_offset'+':\x20f32\x20=\x20t\x20'+'/\x20vw1\x20+\x201.'+'0;\x0a\x0a\x20\x20\x20\x20le'+'t\x20u0:\x20f32\x20'+'=\x20u0_offse'+'t\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20v0:\x20f32\x20'+'=\x20v0_offse'+'t\x20*\x20shadow'+('MapSizeInv'+'\x20+\x20base_uv'+'.y;\x0a\x0a\x20\x20\x20\x20l'+'et\x20u1:\x20f32'+'\x20=\x20u1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20l'+'et\x20v1:\x20f32'+'\x20=\x20v1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'sum\x20=\x20sum\x20'+'+\x20uw0\x20*\x20vw'+'0\x20*\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20v'+'ec2f(u0,\x20v'+'0),\x20z);\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw1\x20*\x20'+'vw0\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u1,'+'\x20v0),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw0\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'0,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u1,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20*'+'\x20(1.0\x20/\x2016'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20sum;'+'\x0a}\x0a\x0afn\x20get'+'ShadowPCF3'+'x3(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wPCF3x3(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0afn\x20getSh'+'adowSpotPC'+'F3x3(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3(')+('shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams.xyz);'+'\x0a}\x0a\x0a//\x20---'+'--\x20Omni\x20Sa'+'mpling\x20---'+'--\x0a\x0a//\x20Not'+'\x20currently'+'\x20supported'+'\x20on\x20WebGPU'+'\x20device\x0a//'+'\x20fn\x20getSha'+'dowOmniPCF'+'3x3(shadow'+'Map:\x20textu'+'re_depth_c'+'ube,\x20shado'+'wMapSample'+'r:\x20sampler'+'_compariso'+'n,\x20shadowP'+'arams:\x20vec'+'4f,\x20dir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a//\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a//\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(dir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x0a//'+'\x20\x20\x20\x20\x20//\x20of'+'fset\x0a//\x20\x20\x20'+'\x20\x20let\x20texS'+'ize_i\x20=\x20te'+'xtureDimen'+'sions(shad'+'owMap,\x200);'+'\x0a//\x20\x20\x20\x20\x20le'+'t\x20z:\x20f32\x20='+'\x201.0\x20/\x20f32'+'(texSize_i'+'.x);\x0a//\x20\x20\x20'+'\x20\x20let\x20tc:\x20'+'vec3f\x20=\x20no'+'rmalize(di'+'r);\x0a\x0a//\x20\x20\x20'+'\x20\x20//\x20avera'+'ge\x204\x20sampl'+'es\x20-\x20not\x20a'+'\x20strict\x203x'+'3\x20PCF\x20but\x20'+'that\x27s\x20tri'+'cky\x20with\x20c'+'ubemaps\x0a//'+'\x20\x20\x20\x20\x20var\x20s'+'hadows:\x20ve'+'c4f;\x0a//\x20\x20\x20'+'\x20\x20shadows.'+'x\x20=\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20t'+'c\x20+\x20vec3f('+'\x20z,\x20\x20z,\x20\x20z'+'),\x20shadowZ'+');\x0a//\x20\x20\x20\x20\x20'+'shadows.y\x20'+'=\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20tc\x20'+'+\x20vec3f(-z'+',\x20-z,\x20\x20z),'+'\x20shadowZ);'+'\x0a//\x20\x20\x20\x20\x20sh'+'adows.z\x20=\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20tc\x20+\x20'+'vec3f(-z,\x20'+'\x20z,\x20-z),\x20s'+'hadowZ);\x0a/')+('/\x20\x20\x20\x20\x20shad'+'ows.w\x20=\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20tc\x20+\x20ve'+'c3f(\x20z,\x20-z'+',\x20-z),\x20sha'+'dowZ);\x0a\x0a//'+'\x20\x20\x20\x20\x20retur'+'n\x20dot(shad'+'ows,\x20vec4f'+'(0.25));\x0a/'+'/\x20}\x0a\x0a//\x20fn'+'\x20getShadow'+'OmniPCF3x3'+'_Wrapper(s'+'hadowMap:\x20'+'texture_de'+'pth_cube,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a//\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCF3x3(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowParams'+',\x20lightDir'+');\x0a//\x20}\x0a'),yI='\x0a//\x20http:/'+'/the-witne'+'ss.net/new'+'s/2013/09/'+'shadow-map'+'ping-summa'+'ry-part-1/'+'\x0afn\x20_getSh'+'adowPCF5x5'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20l'+'et\x20uw0:\x20f3'+'2\x20=\x20(4.0\x20-'+'\x203.0\x20*\x20s);'+'\x0a\x20\x20\x20\x20let\x20u'+'w1:\x20f32\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20l'+'et\x20uw2:\x20f3'+'2\x20=\x20(1.0\x20+'+'\x203.0\x20*\x20s);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'u0_offset:'+'\x20f32\x20=\x20(3.'+'0\x20-\x202.0\x20*\x20'+'s)\x20/\x20uw0\x20-'+'\x202.0;\x0a\x20\x20\x20\x20'+'let\x20u1_off'+'set:\x20f32\x20='+'\x20(3.0\x20+\x20s)'+'\x20/\x20uw1;\x0a\x20\x20'+'\x20\x20let\x20u2_o'+'ffset:\x20f32'+'\x20=\x20s\x20/\x20uw2'+'\x20+\x202.0;\x0a\x0a\x20'+'\x20\x20\x20let\x20vw0'+':\x20f32\x20=\x20(4'+'.0\x20-\x203.0\x20*'+'\x20t);\x0a\x20\x20\x20\x20l'+'et\x20vw1:\x20f3'+'2\x20=\x207.0;\x0a\x20'+'\x20\x20\x20let\x20vw2'+':\x20f32\x20=\x20(1'+'.0\x20+\x203.0\x20*'+'\x20t);\x0a\x0a\x20\x20\x20\x20'+'let\x20v0_off'+'set:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t)\x20/\x20v'+'w0\x20-\x202.0;\x0a'+'\x20\x20\x20\x20let\x20v1'+'_offset:\x20f'+'32\x20=\x20(3.0\x20'+('+\x20t)\x20/\x20vw1'+';\x0a\x20\x20\x20\x20let\x20'+'v2_offset:'+'\x20f32\x20=\x20t\x20/'+'\x20vw2\x20+\x202.0'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20sum:\x20f32\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20let\x20u0:\x20'+'f32\x20=\x20u0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.x;\x0a\x20\x20'+'\x20\x20let\x20v0:\x20'+'f32\x20=\x20v0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20u1:'+'\x20f32\x20=\x20u1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.x;\x0a\x20'+'\x20\x20\x20let\x20v1:'+'\x20f32\x20=\x20v1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20let\x20u2'+':\x20f32\x20=\x20u2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.x;\x0a'+'\x20\x20\x20\x20let\x20v2'+':\x20f32\x20=\x20v2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20sum\x20='+'\x20sum\x20+\x20uw0'+'\x20*\x20vw0\x20*\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20vec2f('+'u0,\x20v0),\x20z'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20sum\x20+\x20u'+'w1\x20*\x20vw0\x20*'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20vec2'+'f(u1,\x20v0),'+'\x20z);\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw2\x20*\x20vw0'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u2,\x20v0'+'),\x20z);\x0a\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw0\x20*\x20'+'vw1\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u0,'+'\x20v1),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'1,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'2\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare')+('Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u2,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw0\x20*\x20vw2'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u0,\x20v2'+'),\x20z);\x0a\x20\x20\x20'+'\x20sum\x20=\x20sum'+'\x20+\x20uw1\x20*\x20v'+'w2\x20*\x20textu'+'reSampleCo'+'mpareLevel'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'vec2f(u1,\x20'+'v2),\x20z);\x0a\x20'+'\x20\x20\x20sum\x20=\x20s'+'um\x20+\x20uw2\x20*'+'\x20vw2\x20*\x20tex'+'tureSample'+'CompareLev'+'el(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20vec2f(u2'+',\x20v2),\x20z);'+'\x0a\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20*\x20(1'+'.0\x20/\x20144.0'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afn'+'\x20getShadow'+'PCF5x5(sha'+'dowMap:\x20te'+'xture_dept'+'h_2d,\x20shad'+'owMapSampl'+'er:\x20sample'+'r_comparis'+'on,\x20shadow'+'Coord:\x20vec'+'3f,\x20shadow'+'Params:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20_getS'+'hadowPCF5x'+'5(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params.xyz'+');\x0a}\x0a\x0afn\x20g'+'etShadowSp'+'otPCF5x5(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owCoord:\x20v'+'ec3f,\x20shad'+'owParams:\x20'+'vec4f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20_ge'+'tShadowPCF'+'5x5(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a'),vI='\x0a\x0afn\x20fract'+'SinRand(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20PI:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20a:\x20f32\x20'+'=\x2012.9898;'+'\x20let\x20b:\x20f3'+'2\x20=\x2078.233'+';\x20let\x20c:\x20f'+'32\x20=\x2043758'+'.5453;\x0a\x20\x20\x20'+'\x20let\x20dt:\x20f'+'32\x20=\x20dot(u'+'v.xy,\x20vec2'+'f(a,\x20b));\x0a'+'\x20\x20\x20\x20let\x20sn'+':\x20f32\x20=\x20dt'+'\x20%\x20PI;\x0a\x20\x20\x20'+'\x20return\x20fr'+'act(sin(sn'+')\x20*\x20c);\x0a}\x0a'+'\x0a//\x20struct'+'\x20to\x20hold\x20p'+'recomputed'+'\x20constants'+'\x20and\x20curre'+'nt\x20state\x0as'+'truct\x20Voge'+'lDiskData\x20'+'{\x0a\x20\x20\x20\x20invN'+'umSamples:'+'\x20f32,\x0a\x20\x20\x20\x20'+'initialAng'+'le:\x20f32,\x0a\x20'+'\x20\x20\x20current'+'PointId:\x20f'+'32,\x0a}\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'fn\x20prepare'+'DiskConsta'+'nts(data:\x20'+'ptr<functi'+'on,\x20VogelD'+'iskData>,\x20'+'sampleCoun'+'t:\x20i32,\x20ra'+'ndomSeed:\x20'+'f32)\x20{\x0a\x20\x20\x20'+'\x20let\x20pi2:\x20'+'f32\x20=\x206.28'+'318530718;'+'\x0a\x20\x20\x20\x20data.'+'invNumSamp'+'les\x20=\x201.0\x20'+'/\x20f32(samp'+'leCount);\x0a'+'\x20\x20\x20\x20data.i'+'nitialAngl'+'e\x20=\x20random'+'Seed\x20*\x20pi2'+';\x0a\x20\x20\x20\x20data'+'.currentPo'+'intId\x20=\x200.'+'0;\x0a}\x0a\x0a\x0afn\x20'+'generateDi'+'skSample(d'+'ata:\x20ptr<f'+'unction,\x20V'+'ogelDiskDa'+'ta>)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20GOLDEN'+'_ANGLE:\x20f3'+'2\x20=\x202.3999'+'63;\x0a\x20\x20\x20\x20le'+'t\x20r:\x20f32\x20='+'\x20sqrt((dat'+'a.currentP'+'ointId\x20+\x200'+'.5)\x20*\x20data'+'.invNumSam'+'ples);\x0a\x20\x20\x20'+'\x20let\x20theta'+':\x20f32\x20=\x20da'+'ta.current'+'PointId\x20*\x20'+'GOLDEN_ANG'+'LE\x20+\x20data.'+'initialAng'+('le;\x0a\x0a\x20\x20\x20\x20l'+'et\x20offset:'+'\x20vec2f\x20=\x20v'+'ec2f(cos(t'+'heta),\x20sin'+'(theta))\x20*'+'\x20pow(r,\x201.'+'33);\x0a\x0a\x20\x20\x20\x20'+'data.curre'+'ntPointId\x20'+'=\x20data.cur'+'rentPointI'+'d\x20+\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'offset;\x0a}\x0a'+'\x0afn\x20PCSSFi'+'ndBlocker('+'shadowMap:'+'\x20texture_2'+'d<f32>,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler,\x20avgBl'+'ockerDepth'+':\x20ptr<func'+'tion,\x20f32>'+',\x20numBlock'+'ers:\x20ptr<f'+'unction,\x20i'+'32>,\x0a\x20\x20\x20\x20s'+'hadowCoord'+'s:\x20vec2f,\x20'+'z:\x20f32,\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32,\x20penum'+'braSize:\x20f'+'32,\x20invSha'+'dowMapSize'+':\x20f32,\x20ran'+'domSeed:\x20f'+'32)\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20diskD'+'ata:\x20Vogel'+'DiskData;\x0a'+'\x20\x20\x20\x20prepar'+'eDiskConst'+'ants(&disk'+'Data,\x20shad'+'owBlockerS'+'amples,\x20ra'+'ndomSeed);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'searchWidt'+'h:\x20f32\x20=\x20p'+'enumbraSiz'+'e\x20*\x20invSha'+'dowMapSize'+';\x0a\x20\x20\x20\x20var\x20'+'blockerSum'+':\x20f32\x20=\x200.'+'0;\x0a\x20\x20\x20\x20var'+'\x20numBlocke'+'rs_local:\x20'+'i32\x20=\x200;\x0a\x0a'+'\x20\x20\x20\x20for(\x20v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20s'+'hadowBlock'+'erSamples;'+'\x20i\x20=\x20i\x20+\x201'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20dis'+'kUV:\x20vec2f'+'\x20=\x20generat'+'eDiskSampl'+'e(&diskDat'+'a);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20samp'+'leUV:\x20vec2'+'f\x20=\x20shadow'+'Coords\x20+\x20d'+'iskUV\x20*\x20se'+'archWidth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadowM'+'apDepth:\x20f'+'32\x20=\x20textu'+'reSampleLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20sampleU'+'V,\x200.0).r;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(\x20shadow'+'MapDepth\x20<'+'\x20z\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20b'+'lockerSum\x20')+('=\x20blockerS'+'um\x20+\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers_local'+'\x20=\x20numBloc'+'kers_local'+'\x20+\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20*avg'+'BlockerDep'+'th\x20=\x20block'+'erSum\x20/\x20f3'+'2(numBlock'+'ers_local)'+';\x0a\x20\x20\x20\x20*num'+'Blockers\x20='+'\x20numBlocke'+'rs_local;\x0a'+'}\x0a\x0afn\x20PCSS'+'Filter(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20uv:\x20vec2'+'f,\x20receive'+'rDepth:\x20f3'+'2,\x20shadowS'+'amples:\x20i3'+'2,\x20filterR'+'adius:\x20f32'+',\x20randomSe'+'ed:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20var\x20dis'+'kData:\x20Vog'+'elDiskData'+';\x0a\x20\x20\x20\x20prep'+'areDiskCon'+'stants(&di'+'skData,\x20sh'+'adowSample'+'s,\x20randomS'+'eed);\x0a\x0a\x20\x20\x20'+'\x20var\x20sum:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20for\x20('+'var\x20i:\x20i32'+'\x20=\x200;\x20i\x20<\x20'+'shadowSamp'+'les;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'offsetUV:\x20'+'vec2f\x20=\x20ge'+'nerateDisk'+'Sample(&di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dept'+'h:\x20f32\x20=\x20t'+'extureSamp'+'leLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv\x20'+'+\x20offsetUV'+',\x200.0).r;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20su'+'m\x20=\x20sum\x20+\x20'+'step(recei'+'verDepth,\x20'+'depth);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20sum\x20/'+'\x20f32(shado'+'wSamples);'+'\x0a}\x0a\x0afn\x20get'+'Penumbra(d'+'blocker:\x20f'+'32,\x20drecei'+'ver:\x20f32,\x20'+'penumbraSi'+'ze:\x20f32,\x20p'+'enumbraFal'+'loff:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20di'+'st:\x20f32\x20=\x20'+'dreceiver\x20'+'-\x20dblocker'+';\x0a\x20\x20\x20\x20let\x20'+'penumbra:\x20'+'f32\x20=\x201.0\x20'+'-\x20pow(1.0\x20'+'-\x20dist,\x20pe')+('numbraFall'+'off);\x0a\x20\x20\x20\x20'+'return\x20pen'+'umbra\x20*\x20pe'+'numbraSize'+';\x0a}\x0a\x0afn\x20PC'+'SSDirectio'+'nal(shadow'+'Map:\x20textu'+'re_2d<f32>'+',\x20shadowMa'+'pSampler:\x20'+'sampler,\x20s'+'hadowCoord'+'s:\x20vec3f,\x20'+'cameraPara'+'ms:\x20vec4f,'+'\x20softShado'+'wParams:\x20v'+'ec4f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'let\x20receiv'+'erDepth:\x20f'+'32\x20=\x20shado'+'wCoords.z;'+'\x0a\x20\x20\x20\x20let\x20r'+'andomSeed:'+'\x20f32\x20=\x20fra'+'ctSinRand('+'pcPosition'+'.xy);\x0a\x20\x20\x20\x20'+'let\x20shadow'+'Samples:\x20i'+'32\x20=\x20i32(s'+'oftShadowP'+'arams.x);\x0a'+'\x20\x20\x20\x20let\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32\x20=\x20i32('+'softShadow'+'Params.y);'+'\x0a\x20\x20\x20\x20let\x20p'+'enumbraSiz'+'e:\x20f32\x20=\x20s'+'oftShadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20let\x20pen'+'umbraFallo'+'ff:\x20f32\x20=\x20'+'softShadow'+'Params.w;\x0a'+'\x0a\x20\x20\x20\x20let\x20s'+'hadowMapSi'+'ze:\x20i32\x20=\x20'+'i32(textur'+'eDimension'+'s(shadowMa'+'p,\x200).x);\x0a'+'\x20\x20\x20\x20var\x20in'+'vShadowMap'+'Size:\x20f32\x20'+'=\x201.0\x20/\x20f3'+'2(shadowMa'+'pSize);\x0a\x20\x20'+'\x20\x20invShado'+'wMapSize\x20='+'\x20invShadow'+'MapSize\x20*\x20'+'(f32(shado'+'wMapSize)\x20'+'/\x202048.0);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'penumbra:\x20'+'f32;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20avgBloc'+'kerDepth:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20numBloc'+'kers:\x20i32\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20&a'+'vgBlockerD'+'epth,\x20&num')+('Blockers,\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowBl'+'ockerSampl'+'es,\x20penumb'+'raSize,\x20in'+'vShadowMap'+'Size,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20when\x20no\x20b'+'lockers\x20ar'+'e\x20present\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(numBlock'+'ers\x20<\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20pen'+'umbra\x20size'+'\x20is\x20based\x20'+'on\x20the\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'getPenumbr'+'a(avgBlock'+'erDepth,\x20s'+'hadowCoord'+'s.z,\x20penum'+'braSize,\x20p'+'enumbraFal'+'loff);\x0a\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20constan'+'t\x20filter\x20s'+'ize,\x20no\x20co'+'ntact\x20hard'+'ening\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20penum'+'braSize;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20filter'+'Radius:\x20f3'+'2\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ords.xy,\x20r'+'eceiverDep'+'th,\x20shadow'+'Samples,\x20f'+'ilterRadiu'+'s,\x20randomS'+'eed);\x0a}\x0a\x0af'+'n\x20getShado'+'wPCSS(shad'+'owMap:\x20tex'+'ture_2d<f3'+'2>,\x20shadow'+'MapSampler'+':\x20sampler,'+'\x20shadowCoo'+'rd:\x20vec3f,'+'\x20shadowPar'+'ams:\x20vec4f'+',\x20cameraPa'+'rams:\x20vec4'+'f,\x20softSha'+'dowParams:'+'\x20vec4f,\x20li'+'ghtDir:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x20//\x20lig'+'htDir\x20unus'+'ed?\x20Kept\x20p'+'aram.\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SDirection'+'al(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP')+'arams);\x0a}\x0a',xI='\x0aattribute'+'\x20vertex_bo'+'neIndices:'+'\x20f32;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20g'+'etBoneMatr'+'ix(indexFl'+'oat:\x20f32)\x20'+'->\x20mat4x4f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20width\x20=\x20'+'i32(textur'+'eDimension'+'s(texture_'+'poseMap).x'+');\x0a\x20\x20\x20\x20let'+'\x20index:\x20i3'+'2\x20=\x20i32(in'+'dexFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x20\x20\x20\x20let\x20i'+'y:\x20i32\x20=\x20i'+'ndex\x20/\x20wid'+'th;\x0a\x20\x20\x20\x20le'+'t\x20ix:\x20i32\x20'+'=\x20index\x20%\x20'+'width;\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'elements\x20o'+'f\x204x3\x20matr'+'ix\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec4f'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(ix'+'\x20+\x200,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20v2:\x20vec'+'4f\x20=\x20textu'+'reLoad(tex'+'ture_poseM'+'ap,\x20vec2i('+'ix\x20+\x201,\x20iy'+'),\x200);\x0a\x20\x20\x20'+'\x20let\x20v3:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(ix\x20+\x202,\x20'+'iy),\x200);\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4x4f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.x,\x20v2.x,'+'\x20v3.x,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.y,\x20v2.y,\x20'+'v3.y,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'z,\x20v2.z,\x20v'+'3.z,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.w'+',\x20v2.w,\x20v3'+'.w,\x201.0\x0a\x20\x20'+'\x20\x20);\x0a}\x0a',TI='\x0a\x0aattribut'+'e\x20vertex_b'+'oneWeights'+':\x20vec4f;\x0aa'+'ttribute\x20v'+'ertex_bone'+'Indices:\x20v'+'ec4f;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0astru'+'ct\x20BoneMat'+'rix\x20{\x0a\x20\x20\x20\x20'+'v1:\x20vec4f,'+'\x0a\x20\x20\x20\x20v2:\x20v'+'ec4f,\x0a\x20\x20\x20\x20'+'v3:\x20vec4f,'+'\x0a}\x0a\x0afn\x20get'+'BoneMatrix'+'(width:\x20i3'+'2,\x20index:\x20'+'i32)\x20->\x20Bo'+'neMatrix\x20{'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'v\x20=\x20index\x20'+'/\x20width;\x0a\x20'+'\x20\x20\x20let\x20u\x20='+'\x20index\x20%\x20w'+'idth;\x0a\x0a\x20\x20\x20'+'\x20var\x20resul'+'t:\x20BoneMat'+'rix;\x0a\x20\x20\x20\x20r'+'esult.v1\x20='+'\x20textureLo'+'ad(texture'+'_poseMap,\x20'+'vec2i(u\x20+\x20'+'0,\x20v),\x200);'+'\x0a\x20\x20\x20\x20resul'+'t.v2\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20result.v3'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(u\x20'+'+\x202,\x20v),\x200'+');\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0afn\x20ge'+'tSkinMatri'+'x(indicesF'+'loat:\x20vec4'+'f,\x20weights'+':\x20vec4f)\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20width\x20=\x20i'+'32(texture'+'Dimensions'+'(texture_p'+'oseMap).x)'+';\x0a\x20\x20\x20\x20var\x20'+'indices\x20=\x20'+'vec4i(indi'+'cesFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'boneA\x20=\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.x);'+'\x0a\x20\x20\x20\x20let\x20b'+'oneB\x20=\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y);\x0a'+'\x20\x20\x20\x20let\x20bo'+'neC\x20=\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.z);\x0a\x20'+'\x20\x20\x20let\x20bon'+'eD\x20=\x20getBo'+'neMatrix(w'+'idth,\x20indi'+'ces.w);\x0a\x0a\x20'+'\x20\x20\x20//\x20...\x20'+'rest\x20of\x20ge'+'tSkinMatri'+'x\x20remains\x20'+'the\x20same\x20.'+'..\x0a\x20\x20\x20\x20let'+'\x20v1\x20=\x20bone'+'A.v1\x20*\x20wei'+('ghts.x\x20+\x20b'+'oneB.v1\x20*\x20'+'weights.y\x20'+'+\x20boneC.v1'+'\x20*\x20weights'+'.z\x20+\x20boneD'+'.v1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20let\x20v2\x20=\x20'+'boneA.v2\x20*'+'\x20weights.x'+'\x20+\x20boneB.v'+'2\x20*\x20weight'+'s.y\x20+\x20bone'+'C.v2\x20*\x20wei'+'ghts.z\x20+\x20b'+'oneD.v2\x20*\x20'+'weights.w;'+'\x0a\x20\x20\x20\x20let\x20v'+'3\x20=\x20boneA.'+'v3\x20*\x20weigh'+'ts.x\x20+\x20bon'+'eB.v3\x20*\x20we'+'ights.y\x20+\x20'+'boneC.v3\x20*'+'\x20weights.z'+'\x20+\x20boneD.v'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'let\x20one\x20=\x20'+'dot(weight'+'s,\x20vec4f(1'+'.0,\x201.0,\x201'+'.0,\x201.0));'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'ranspose\x20t'+'o\x204x4\x20matr'+'ix\x0a\x20\x20\x20\x20ret'+'urn\x20mat4x4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20v1.x,\x20v2.'+'x,\x20v3.x,\x200'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.y,\x20v2.y'+',\x20v3.y,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.z,\x20v2.z,'+'\x20v3.z,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.w,\x20v2.w,\x20'+'v3.w,\x20one\x0a'+'\x20\x20\x20\x20);\x0a}\x0a'),wI='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vLinear'+'Depth:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'floatAsUin'+'tPS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20Varyin'+'g\x20and\x20unif'+'orm\x20declar'+'ations\x0a\x20\x20\x20'+'\x20varying\x20v'+'ViewDir\x20:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20uniform\x20s'+'kyboxHighl'+'ightMultip'+'lier\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20SKY_CU'+'BEMAP\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cub'+'eMap\x20:\x20tex'+'ture_cube<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_cube'+'Map_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vWo'+'rldPos\x20:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20p'+'rojectedSk'+'ydomeCente'+'r\x20:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'env-atlas\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'phericalPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'envAtlasPS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_envAtlas_'+'sampler\x20:\x20'+'sampler;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20mipL'+'evel\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20@'+'fragment\x0a\x20'+'\x20\x20\x20fn\x20frag'+'mentMain(i'+'nput\x20:\x20Fra'+'gmentInput'+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20PREPA'+('SS_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20output'+'\x20linear\x20de'+'pth\x20during'+'\x20prepass\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20floa'+'t2vec4(vLi'+'nearDepth)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20linear'+'\x20:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20dir\x20'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KY_CUBEMAP'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+'\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+'nvDir\x20:\x20ve'+'c3f\x20=\x20norm'+'alize(inpu'+'t.vWorldPo'+'s\x20-\x20unifor'+'m.projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'\x20=\x20envDir\x20'+'*\x20uniform.'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir\x20='+'\x20input.vVi'+'ewDir;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'.x\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'tureSample'+'(texture_c'+'ubeMap,\x20te'+'xture_cube'+'Map_sample'+'r,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20env-atla'+'s\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ir\x20=\x20input'+'.vViewDir\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv\x20:\x20'+'vec2f\x20=\x20to'+'SphericalU'+'v(normaliz'+'e(dir));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20linea'+'r\x20=\x20{SKYBO'+'X_DECODE_F'+'NC}(textur'+'eSample(te'+'xture_envA'+'tlas,\x20text'+'ure_envAtl'+'as_sampler'+',\x20mapRough'+'nessUv(uv,')+('\x20uniform.m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ou'+'r\x20HDR\x20enco'+'des\x20values'+'\x20up\x20to\x2064,'+'\x20so\x20allow\x20'+'extra\x20brig'+'htness\x20for'+'\x20the\x20clipp'+'ed\x20values\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(any('+'linear\x20>=\x20'+'vec3f(64.0'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20uniform.'+'skyboxHigh'+'lightMulti'+'plier;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),EI='\x0a\x20\x20\x20\x20//\x20At'+'tribute\x0a\x20\x20'+'\x20\x20attribut'+'e\x20aPositio'+'n\x20:\x20vec4f;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20matrix'+'_view\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20uniform\x20m'+'atrix_proj'+'ectionSkyb'+'ox\x20:\x20mat4x'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vViewDir'+'\x20:\x20vec3f;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PREPASS_'+'PASS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20when'+'\x20skydome\x20r'+'enders\x20dep'+'th\x20during\x20'+'prepass,\x20g'+'enerate\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vLi'+'nearDepth:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vWorldP'+'os\x20:\x20vec3f'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input\x20'+':\x20VertexIn'+'put)\x20->\x20Ve'+'rtexOutput'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut\x20:\x20Verte'+'xOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20view\x20:\x20ma'+'t4x4f\x20=\x20un'+'iform.matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'worldPos\x20:'+'\x20vec4f\x20=\x20u'+'niform.mat'+'rix_model\x20'+'*\x20input.aP'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vW'+'orldPos\x20=\x20'+'worldPos.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'inear\x20dept'+'h\x20from\x20the'+'\x20worldPosi'+'tion,\x20see\x20'+'getLinearD'+'epth\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vL'+'inearDepth'+'\x20=\x20-(unifo'+('rm.matrix_'+'view\x20*\x20vec'+'4f(worldPo'+'s.xyz,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[0]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[1]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[2]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20uniform.m'+'atrix_proj'+'ectionSkyb'+'ox\x20*\x20(view'+'\x20*\x20input.a'+'Position);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'vViewDir\x20='+'\x20input.aPo'+'sition.xyz'+'\x20*\x20uniform'+'.cubeMapRo'+'tationMatr'+'ix;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20for\x20'+'infinite\x20s'+'kybox,\x20use'+'\x20negative\x20'+'gl_Positio'+'n.w\x20to\x20get'+'\x20positive\x20'+'linear\x20dep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-pcPositi'+'on.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Force\x20sk'+'ybox\x20to\x20fa'+'r\x20Z,\x20regar'+'dless\x20of\x20t'+'he\x20clip\x20pl'+'anes\x20on\x20th'+'e\x20camera\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Subtract\x20a'+'\x20tiny\x20fudg'+'e\x20factor\x20t'+'o\x20ensure\x20f'+'loating\x20po'+'int\x20errors'+'\x20don\x27t\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20st'+'ill\x20push\x20p'+'ixels\x20beyo'+'nd\x20far\x20Z.\x20'+'See:\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20http'+'s://commun'+'ity.khrono'+'s.org/t/sk'+'ybox-probl'+'em/61857\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.posit'+'ion.z\x20=\x20ou'+'tput.posit'+'ion.w\x20-\x201.'+'0e-7;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),bI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_specular'+':\x20vec3f;\x0a#'+'endif\x0a\x0afn\x20'+'getSpecula'+'rity()\x20{\x0a\x20'+'\x20\x20\x20var\x20spe'+'cularColor'+'\x20=\x20vec3f(1'+'.0,\x201.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'CONSTANT\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20unifo'+'rm.materia'+'l_specular'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_TE'+'XTURE\x0a\x20\x20\x20\x20'+'specularCo'+'lor\x20=\x20spec'+'ularColor\x20'+'*\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SPECU'+'LAR_TEXTUR'+'E_NAME},\x20{'+'STD_SPECUL'+'AR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_S'+'PECULAR_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SPECULA'+'R_VERTEX\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20satur'+'ate3(vVert'+'exColor.{S'+'TD_SPECULA'+'R_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dSpe'+'cularity\x20='+'\x20specularC'+'olor;\x0a}\x0a',AI='\x0a\x0afn\x20toSph'+'erical(dir'+':\x20vec3f)\x20-'+'>\x20vec2f\x20{\x0a'+'\x20\x20\x20\x20let\x20an'+'gle_xz\x20=\x20s'+'elect(0.0,'+'\x20atan2(dir'+'.x,\x20dir.z)'+',\x20any(dir.'+'xz\x20!=\x20vec2'+'f(0.0)));\x0a'+'\x20\x20\x20\x20return'+'\x20vec2f(ang'+'le_xz,\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0afn\x20toS'+'phericalUv'+'(dir\x20:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20c'+'onst\x20PI\x20:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20uv\x20:\x20ve'+'c2f\x20=\x20toSp'+'herical(di'+'r)\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x20vec'+'2f(0.5,\x200.'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y);\x0a'+'}\x0a',CI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'\x20\x20\x20\x20unifor'+'m\x20material'+'_speculari'+'tyFactor:\x20'+'f32;\x0a#endi'+'f\x0a\x0afn\x20getS'+'pecularity'+'Factor()\x20{'+'\x0a\x20\x20\x20\x20var\x20s'+'pecularity'+'Factor\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20speculari'+'tyFactor\x20='+'\x20speculari'+'tyFactor\x20*'+'\x20uniform.m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'ARITYFACTO'+'R_TEXTURE\x0a'+'\x20\x20\x20\x20specul'+'arityFacto'+'r\x20=\x20specul'+'arityFacto'+'r\x20*\x20textur'+'eSampleBia'+'s({STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_NAME},\x20'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_VE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_SPEC'+'ULARITYFAC'+'TOR_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dS'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor;\x0a}\x0a',PI='\x0afn\x20getSpo'+'tEffect(li'+'ghtSpotDir'+':\x20vec3f,\x20l'+'ightInnerC'+'oneAngle:\x20'+'f32,\x20light'+'OuterConeA'+'ngle:\x20f32,'+'\x20lightDirN'+'orm:\x20vec3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'osAngle:\x20f'+'32\x20=\x20dot(l'+'ightDirNor'+'m,\x20lightSp'+'otDir);\x0a\x20\x20'+'\x20\x20return\x20s'+'moothstep('+'lightOuter'+'ConeAngle,'+'\x20lightInne'+'rConeAngle'+',\x20cosAngle'+');\x0a}',MI='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2f(vUv0'+'.x,\x201.0\x20-\x20'+'vUv0.y);\x0a',DI='\x0a\x20\x20\x20\x20let\x20t'+'ileMask:\x20v'+'ec2f\x20=\x20ste'+'p(vMask,\x20v'+'ec2f(0.999'+'99));\x0a\x20\x20\x20\x20'+'let\x20tileSi'+'ze:\x20vec2f\x20'+'=\x200.5\x20*\x20(i'+'nnerOffset'+'.xy\x20+\x20inne'+'rOffset.zw'+');\x0a\x20\x20\x20\x20let'+'\x20tileScale'+':\x20vec2f\x20=\x20'+'vec2f(1.0)'+'\x20/\x20(vec2f('+'1.0)\x20-\x20til'+'eSize);\x0a\x20\x20'+'\x20\x20var\x20clam'+'pedUv:\x20vec'+'2f\x20=\x20mix(i'+'nnerOffset'+'.xy\x20*\x200.5,'+'\x20vec2f(1.0'+')\x20-\x20innerO'+'ffset.zw\x20*'+'\x200.5,\x20frac'+'t((vTiledU'+'v\x20-\x20tileSi'+'ze)\x20*\x20tile'+'Scale));\x0a\x20'+'\x20\x20\x20clamped'+'Uv\x20=\x20clamp'+'edUv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x20\x20\x20\x20'+'var\x20nineSl'+'icedUv:\x20ve'+'c2f\x20=\x20vUv0'+'\x20*\x20tileMas'+'k\x20+\x20clampe'+'dUv\x20*\x20(vec'+'2f(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x0a',II='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dAlpha'+':\x20f32\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20//'+'\x20all\x20passe'+'s\x20handle\x20o'+'pacity\x0a\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'!=\x20NONE\x20||'+'\x20defined(L'+'IT_ALPHA_T'+'EST)\x20||\x20de'+'fined(LIT_'+'ALPHA_TO_C'+'OVERAGE)\x20|'+'|\x20STD_OPAC'+'ITY_DITHER'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_OP'+'ACITY_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_opa'+'cityMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_opacityMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20globals'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dAlbedo:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'NormalW:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dSp'+'ecularity:'+'\x20vec3f\x20=\x20v'+'ec3f(0.0,\x20'+'0.0,\x200.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dGlossin'+'ess:\x20f32\x20='+'\x200.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_REFR'+'ACTION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dTransmi'+'ssion:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dTh'+'ickness:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'CENE_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SCREE'+'N_SIZE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20uSc'+'reenSize:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+('f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_TRANSFOR'+'MS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20ma'+'trix_viewP'+'rojection:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20matri'+'x_model:\x20m'+'at4x4f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20paral'+'lax\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_HEIGHT_'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'UvOffset:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'DIFFUSE_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_heightM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'heightMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'diffuseMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_diffus'+'eMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSEDETAI'+'L_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20norma'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_NORMAL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_normalMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20#ifdef'+'\x20STD_NORMA'+'LDETAIL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalDetai'+'lMap\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_no'+'rmalDetail'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_T'+'HICKNESS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'thicknessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_thic'+'knessMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_REFRACTIO'+'N_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_refract'+'ionMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'refraction'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20i'+'ridescence'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dIr'+'idescence:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20dIridesce'+'nceThickne'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'iridescenc'+'eThickness'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_iridescen'+'ceThicknes'+'sMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur')+('e_iridesce'+'nceMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_irides'+'cenceMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20ccSp'+'ecularity:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20ccGlossin'+'ess:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20ccNor'+'malW:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dAni'+'sotropy:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'Anisotropy'+'Rotation:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'arity\x20&\x20gl'+'ossiness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20she'+'en\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sSpecular'+'ity:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sGlossine'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'HEENGLOSS_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_s'+'heenGlossM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_sheenG'+'lossMapSam'+'pler\x20:\x20sam'+'pler;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_MET'+'ALNESS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dMet'+'alness:\x20f3'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dIor:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'metalnessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_metaln'+'essMapSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'rity\x20facto'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var<privat'+'e>\x20dSpecul'+'arityFacto'+'r:\x20f32;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rityFactor'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_specu'+'larityFact'+'orMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_SPECULAR'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_')+('specularMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20gloss\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_glossMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_glo'+'ssMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dAo:\x20f32;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_aoMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_AODETAIL_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoDet'+'ailMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_aoDeta'+'ilMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dEmission'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_EM'+'ISSIVE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_em'+'issiveMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_emissiv'+'eMapSample'+'r\x20:\x20sample')+('r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatG'+'lossMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_clear'+'CoatGlossM'+'apSampler\x20'+':\x20sampler;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_clearC'+'oatNormalM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatN'+'ormalMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20anisotr'+'opy\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_A'+'NISOTROPY_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aniso'+'tropyMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_anis'+'otropyMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20lightm'+'ap\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(STD_LIG'+'HTMAP)\x20||\x20')+('defined(ST'+'D_LIGHT_VE'+'RTEX_COLOR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dLi'+'ghtmap:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_LI'+'GHT_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_l'+'ightMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_light'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20front'+'\x20end\x20outpu'+'ts\x20to\x20lit\x20'+'shader\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22litShader'+'CorePS\x22\x0a'),LI='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fn\x20'+'getSpecula'+'rity()\x20{\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20vec3f'+'(1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'gloss\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22gl'+'ossPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22aoPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20emissi'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22emissiveP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clear'+'coat\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20')+('LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22clea'+'rCoatPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'GlossPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'NormalPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ani'+'sotropy\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x20&&\x20defin'+'ed(LIT_LIG'+'HTING)\x20&&\x20'+'defined(LI'+'T_GGX_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22an'+'isotropyPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(ST'+'D_LIGHTMAP'+')\x20||\x20defin'+'ed(STD_LIG'+'HT_VERTEX_'+'COLOR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22l'+'ightmapPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20fn\x20evalu'+'ateFronten'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20al'+'l\x20passes\x20h'+'andle\x20opac'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIT_'+'BLEND_TYPE'+'\x20!=\x20NONE\x20|'+'|\x20defined('+'LIT_ALPHA_'+'TEST)\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x20'+'||\x20STD_OPA'+'CITY_DITHE'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getOpaci'+'ty();\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_ALPHA'+'_TEST)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20alphaTe'+'st(dAlpha)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20opacityDi'+'ther(dAlph'+'a,\x200.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20d'+'Alpha;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20par')+('allax\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getP'+'arallax();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getA'+'lbedo();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_a'+'lbedo\x20=\x20dA'+'lbedo;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20normal\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getNorma'+'l();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_w'+'orldNormal'+'\x20=\x20dNormal'+'W;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'fraction\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etRefracti'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'transmissi'+'on\x20=\x20dTran'+'smission;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Thickness('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness\x20=\x20d'+'Thickness;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_D'+'ISPERSION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_di'+'spersion\x20='+'\x20uniform.m'+'aterial_di'+'spersion;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_IRIDESC'+'ENCE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getIrides'+'cence();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getIr'+'idescenceT'+'hickness()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x20=\x20'+'dIridescen'+'ce;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specularit'+'y\x20&\x20glossi'+'ness\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20sheen\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSheen()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'sheen_spec'+'ularity\x20=\x20'+'sSpeculari'+'ty;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getShe'+'enGlossine'+'ss();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_sheen_'+'gloss\x20=\x20sG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getMetaln'+'ess();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_metal'+'ness\x20=\x20dMe'+'talness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etIor();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+'\x20=\x20dIor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'ity\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULARITY_'+'FACTOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'yFactor();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'Factor\x20=\x20d'+'Specularit'+'yFactor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20gloss\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'y();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20dSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs')+('_gloss\x20=\x20d'+'Glossiness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ao\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getAO();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_ao\x20=\x20'+'dAo;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getEmissi'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_emis'+'sion\x20=\x20dEm'+'ission;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getClea'+'rCoat();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getCl'+'earCoatGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'ClearCoatN'+'ormal();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20=\x20ccS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_glos'+'s\x20=\x20ccGlos'+'siness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal\x20=\x20ccNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20anisotro'+'py\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getAnisot'+'ropy();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightM'+'ap();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmap\x20='+'\x20dLightmap'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_')+('LIGHTMAP_D'+'IR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmapD'+'ir\x20=\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a'),RI='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20tbnB'+'asis:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getTBN(t'+'angent:\x20ve'+'c3f,\x20binor'+'mal:\x20vec3f'+',\x20normal:\x20'+'vec3f)\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20TBN_TANGE'+'NTS\x20//\x20tan'+'gents\x20/\x20bi'+'normals\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dTB'+'N\x20=\x20mat3x3'+'f(normaliz'+'e(tangent)'+',\x20normaliz'+'e(binormal'+'),\x20normali'+'ze(normal)'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20define'+'d(TBN_DERI'+'VATIVES)\x20/'+'/\x20derivati'+'ves\x20based\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2f\x20=\x20{'+'lightingUv'+'};\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dp1:'+'\x20vec3f\x20=\x20d'+'pdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dp2:\x20vec3'+'f\x20=\x20dpdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20duv1'+':\x20vec2f\x20=\x20'+'dpdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20duv2:\x20'+'vec2f\x20=\x20dp'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20solve\x20th'+'e\x20linear\x20s'+'ystem\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20dp'+'2perp:\x20vec'+'3f\x20=\x20cross'+'(\x20dp2,\x20nor'+'mal\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20d'+'p1perp:\x20ve'+'c3f\x20=\x20cros'+'s(\x20normal,'+'\x20dp1\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'T:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.x\x20+\x20'+'dp1perp\x20*\x20'+'duv2.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'B:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+('dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+'ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20deno'+'m:\x20f32\x20=\x20m'+'ax(\x20dot(T,'+'\x20T),\x20dot(B'+',\x20B)\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'invmax:\x20f3'+'2\x20=\x20select'+'(uniform.t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20),\x200.0,\x20'+'denom\x20==\x200'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3x3f(T\x20'+'*\x20invmax,\x20'+'-B\x20*\x20invma'+'x,\x20normal\x20'+');\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20obj'+'ect\x20space\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20B:\x20'+'vec3f\x20=\x20cr'+'oss(normal'+',\x20vObjectS'+'paceUpW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20T:\x20vec3f'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dot(B,'+'B)\x20==\x200.0)'+'\x20//\x20deal\x20w'+'ith\x20case\x20w'+'hen\x20vObjec'+'tSpaceUpW\x20'+'normal\x20are'+'\x20parallel\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20majo'+'r:\x20f32\x20=\x20m'+'ax(max(nor'+'mal.x,\x20nor'+'mal.y),\x20no'+'rmal.z);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20B\x20=\x20c'+'ross(norma'+'l,\x20vec3f(0'+'.0,\x201.0,\x200'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x20if\x20(n'+'ormal.y\x20=='+'\x20major)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20B\x20'+'=\x20cross(no'+'rmal,\x20vec3'+'f(0.0,\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20//'+'\x20removed\x20\x22'+'if\x20(normal'+'.z\x20==\x20majo'+'r)\x22\x20assumi'+'ng\x20it\x27s\x20th'+'e\x20only\x20rem'+'aining\x20cas'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20B\x20=\x20cros'+'s(normal,\x20'+'vec3f(1.0,'+'\x200.0,\x200.0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3x3f(n'+'ormalize(T'+'),\x20normali'+'ze(B),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a}'),OI='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_th'+'ickness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getTh'+'ickness()\x20'+'{\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'THICKNESS_'+'CONSTANT\x0a\x20'+'\x20\x20\x20dThickn'+'ess\x20=\x20dThi'+'ckness\x20*\x20u'+'niform.mat'+'erial_thic'+'kness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_THICKN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x20d'+'Thickness\x20'+'*\x20textureS'+'ampleBias('+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_THICKNESS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_THIC'+'KNESS_VERT'+'EX\x0a\x20\x20\x20\x20dTh'+'ickness\x20=\x20'+'dThickness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',FI='\x0a#if\x20(TONE'+'MAP\x20==\x20NON'+'E)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingNo'+'nePS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20FILMIC\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingFilmi'+'cPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22tonemap'+'pingLinear'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20HEJL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gHejlPS\x22\x0a#'+'elif\x20TONEM'+'AP\x20==\x20ACES'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingAces'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20ACES2\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngAces2PS\x22'+'\x0a#elif\x20TON'+'EMAP\x20==\x20NE'+'UTRAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gNeutralPS'+'\x22\x0a#endif\x0a',NI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20t'+'A:\x20f32\x20=\x202'+'.51;\x0a\x20\x20\x20\x20l'+'et\x20tB:\x20f32'+'\x20=\x200.03;\x0a\x20'+'\x20\x20\x20let\x20tC:'+'\x20f32\x20=\x202.4'+'3;\x0a\x20\x20\x20\x20let'+'\x20tD:\x20f32\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20let\x20tE:\x20f'+'32\x20=\x200.14;'+'\x0a\x20\x20\x20\x20let\x20x'+':\x20vec3f\x20=\x20'+'color\x20*\x20un'+'iform.expo'+'sure;\x0a\x20\x20\x20\x20'+'return\x20(x\x20'+'*\x20(tA\x20*\x20x\x20'+'+\x20tB))\x20/\x20('+'x\x20*\x20(tC\x20*\x20'+'x\x20+\x20tD)\x20+\x20'+'tE);\x0a}\x0a',kI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0a//\x20AC'+'ES\x20approxi'+'mation\x20by\x20'+'Stephen\x20Hi'+'ll\x0a\x0a//\x20sRG'+'B\x20=>\x20XYZ\x20='+'>\x20D65_2_D6'+'0\x20=>\x20AP1\x20='+'>\x20RRT_SAT\x0a'+'const\x20ACES'+'InputMat:\x20'+'mat3x3f\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20vec3f(0'+'.59719,\x200.'+'35458,\x200.0'+'4823),\x0a\x20\x20\x20'+'\x20vec3f(0.0'+'7600,\x200.90'+'834,\x200.015'+'66),\x0a\x20\x20\x20\x20v'+'ec3f(0.028'+'40,\x200.1338'+'3,\x200.83777'+')\x0a);\x0a\x0a//\x20O'+'DT_SAT\x20=>\x20'+'XYZ\x20=>\x20D60'+'_2_D65\x20=>\x20'+'sRGB\x0aconst'+'\x20ACESOutpu'+'tMat:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20v'+'ec3f(\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367),\x0a\x20\x20\x20\x20'+'vec3f(-0.1'+'0208,\x20\x201.1'+'0813,\x20-0.0'+'0605),\x0a\x20\x20\x20'+'\x20vec3f(-0.'+'00327,\x20-0.'+'07276,\x20\x201.'+'07602)\x0a);\x0a'+'\x0afn\x20RRTAnd'+'ODTFit(v:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20a:\x20v'+'ec3f\x20=\x20v\x20*'+'\x20(v\x20+\x20vec3'+'f(0.024578'+'6))\x20-\x20vec3'+'f(0.000090'+'537);\x0a\x20\x20\x20\x20'+'let\x20b:\x20vec'+'3f\x20=\x20v\x20*\x20('+'vec3f(0.98'+'3729)\x20*\x20v\x20'+'+\x20vec3f(0.'+'4329510))\x20'+'+\x20vec3f(0.'+'238081);\x0a\x20'+'\x20\x20\x20return\x20'+'a\x20/\x20b;\x0a}\x0a\x0a'+'fn\x20toneMap'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'var\x20c:\x20vec'+'3f\x20=\x20color'+'\x20*\x20(unifor'+'m.exposure'+'\x20/\x200.6);\x0a\x20'+'\x20\x20\x20c\x20=\x20c\x20*'+'\x20ACESInput'+'Mat;\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20R'+'RT\x20and\x20ODT'+'\x0a\x20\x20\x20\x20c\x20=\x20R'+'RTAndODTFi'+'t(c);\x0a\x20\x20\x20\x20'+'c\x20=\x20c\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(c,\x20vec'+'3f(0.0),\x20v'+'ec3f(1.0))'+';\x0a}\x0a',UI='\x0aconst\x20A:\x20'+'f32\x20=\x200.15'+';\x0aconst\x20B:'+'\x20f32\x20=\x200.5'+'0;\x0aconst\x20C'+':\x20f32\x20=\x200.'+'10;\x0aconst\x20'+'D:\x20f32\x20=\x200'+'.20;\x0aconst'+'\x20E:\x20f32\x20=\x20'+'0.02;\x0acons'+'t\x20F:\x20f32\x20='+'\x200.30;\x0acon'+'st\x20W:\x20f32\x20'+'=\x2011.2;\x0a\x0au'+'niform\x20exp'+'osure:\x20f32'+';\x0a\x0afn\x20unch'+'arted2Tone'+'map(x:\x20vec'+'3f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20((x\x20'+'*\x20(A\x20*\x20x\x20+'+'\x20C\x20*\x20B)\x20+\x20'+'D\x20*\x20E)\x20/\x20('+'x\x20*\x20(A\x20*\x20x'+'\x20+\x20B)\x20+\x20D\x20'+'*\x20F))\x20-\x20ve'+'c3f(E\x20/\x20F)'+';\x0a}\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20c'+':\x20vec3f\x20=\x20'+'uncharted2'+'Tonemap(co'+'lor\x20*\x20unif'+'orm.exposu'+'re);\x0a\x20\x20\x20\x20l'+'et\x20whiteSc'+'ale:\x20vec3f'+'\x20=\x20vec3f(1'+'.0)\x20/\x20unch'+'arted2Tone'+'map(vec3f('+'W,\x20W,\x20W));'+'\x0a\x20\x20\x20\x20c\x20*=\x20'+'whiteScale'+';\x0a\x20\x20\x20\x20retu'+'rn\x20c;\x0a}\x0a',BI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20A'+':\x20f32\x20=\x200.'+'22;\x0a\x20\x20\x20\x20le'+'t\x20B:\x20f32\x20='+'\x200.3;\x0a\x20\x20\x20\x20'+'let\x20C:\x20f32'+'\x20=\x200.1;\x0a\x20\x20'+'\x20\x20let\x20D:\x20f'+'32\x20=\x200.2;\x0a'+'\x20\x20\x20\x20let\x20E:'+'\x20f32\x20=\x200.0'+'1;\x0a\x20\x20\x20\x20let'+'\x20F:\x20f32\x20=\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20Scl:\x20f3'+'2\x20=\x201.25;\x0a'+'\x0a\x20\x20\x20\x20let\x20a'+'djusted_co'+'lor\x20=\x20colo'+'r\x20*\x20unifor'+'m.exposure'+';\x0a\x20\x20\x20\x20let\x20'+'h\x20=\x20max(ve'+'c3f(0.0),\x20'+'adjusted_c'+'olor\x20-\x20vec'+'3f(0.004))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20(h\x20*\x20('+'(Scl\x20*\x20A)\x20'+'*\x20h\x20+\x20Scl\x20'+'*\x20vec3f(C\x20'+'*\x20B))\x20+\x20Sc'+'l\x20*\x20vec3f('+'D\x20*\x20E))\x20/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(h\x20*\x20(A\x20*'+'\x20h\x20+\x20vec3f'+'(B))\x20+\x20vec'+'3f(D\x20*\x20F))'+'\x20-\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20Scl\x20*\x20'+'vec3f(E\x20/\x20'+'F);\x0a}\x0a',zI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'uniform.ex'+'posure;\x0a}\x0a',VI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(col:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20var\x20col'+'or\x20=\x20col\x20*'+'\x20uniform.e'+'xposure;\x0a\x0a'+'\x20\x20\x20\x20let\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20let\x20des'+'aturation\x20'+'=\x200.15;\x0a\x0a\x20'+'\x20\x20\x20let\x20x\x20='+'\x20min(color'+'.r,\x20min(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20let\x20offs'+'et\x20=\x20selec'+'t(0.04,\x20x\x20'+'-\x206.25\x20*\x20x'+'\x20*\x20x,\x20x\x20<\x20'+'0.08);\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'vec3f(offs'+'et);\x0a\x0a\x20\x20\x20\x20'+'let\x20peak\x20='+'\x20max(color'+'.r,\x20max(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20if\x20(peak'+'\x20<\x20startCo'+'mpression)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'d\x20=\x201.0\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20let\x20newP'+'eak\x20=\x201.0\x20'+'-\x20d\x20*\x20d\x20/\x20'+'(peak\x20+\x20d\x20'+'-\x20startCom'+'pression);'+'\x0a\x20\x20\x20\x20color'+'\x20*=\x20newPea'+'k\x20/\x20peak;\x0a'+'\x0a\x20\x20\x20\x20let\x20g'+'\x20=\x201.0\x20-\x201'+'.0\x20/\x20(desa'+'turation\x20*'+'\x20(peak\x20-\x20n'+'ewPeak)\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ve'+'c3f(newPea'+'k),\x20vec3f('+'g));\x0a}\x0a',GI='\x0afn\x20toneMa'+'p(color:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a}\x0a',HI='\x0a#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20SCREE'+'NSPACE\x0a\x20\x20\x20'+'\x20uniform\x20p'+'rojectionF'+'lipY:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20evalWorl'+'dPosition('+'vertexPosi'+'tion:\x20vec3'+'f,\x20modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ve'+'c4f\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20local'+'Pos:\x20vec3f'+'\x20=\x20getLoca'+'lPosition('+'vertexPosi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20outer\x20and'+'\x20inner\x20ver'+'tices\x20are\x20'+'at\x20the\x20sam'+'e\x20position'+',\x20scale\x20bo'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20local'+'PosXZ:\x20vec'+'2f\x20=\x20local'+'Pos.xz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20loca'+'lPosXZ\x20=\x20l'+'ocalPosXZ\x20'+'*\x20uniform.'+'outerScale'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20offset'+'\x20inner\x20ver'+'tices\x20insi'+'de\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20(origi'+'nal\x20vertic'+'es\x20must\x20be'+'\x20in\x20[-1;1]'+'\x20range)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'positiveUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(vertex'+'Position.x'+'z,\x20vec2f(0'+'.0),\x20vec2f'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(-verte'+'xPosition.'+'xz,\x20vec2f('+'0.0),\x20vec2'+'f(1.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20loc'+'alPosXZ\x20=\x20'+'localPosXZ'+'\x20+\x20(-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy\x20+'+'\x20negativeU'+'nitOffset\x20'+'*\x20uniform.'+'innerOffse'+'t.zw)\x20*\x20ve'+'rtex_texCo'+'ord0.xy;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'iledUvGlob'+'al\x20=\x20(loca'+'lPosXZ\x20-\x20u'+'niform.out'+'erScale\x20+\x20'+'uniform.in'+'nerOffset.'+'xy)\x20*\x20-0.5'+'\x20+\x201.0;\x20//'+'\x20uv\x20=\x20loca'+'l\x20pos\x20-\x20in'+('ner\x20corner'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPosXZ'+'\x20=\x20localPo'+'sXZ\x20*\x20-0.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20='+'\x20vec3f(loc'+'alPosXZ.x,'+'\x20localPosX'+'Z.y,\x20local'+'Pos.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20var\x20po'+'sW:\x20vec4f\x20'+'=\x20modelMat'+'rix\x20*\x20vec4'+'f(localPos'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'posW\x20=\x20vec'+'4f(posW.xy'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20posW'+';\x0a}\x0a\x0afn\x20ge'+'tPosition('+')\x20->\x20vec4f'+'\x20{\x0a\x0a\x20\x20\x20\x20dM'+'odelMatrix'+'\x20=\x20getMode'+'lMatrix();'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'posW:\x20vec4'+'f\x20=\x20evalWo'+'rldPositio'+'n(vertex_p'+'osition.xy'+'z,\x20dModelM'+'atrix);\x0a\x20\x20'+'\x20\x20dPositio'+'nW\x20=\x20posW.'+'xyz;\x0a\x0a\x20\x20\x20\x20'+'var\x20screen'+'Pos:\x20vec4f'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20UV1LAYO'+'UT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20vec4f(v'+'ertex_texC'+'oord1.xy\x20*'+'\x202.0\x20-\x201.0'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SCR'+'EENSPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20posW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20unif'+'orm.projec'+'tionFlipY;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos\x20=\x20u'+'niform.mat'+'rix_viewPr'+'ojection\x20*'+'\x20posW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20snap\x20ve'+'rtex\x20to\x20a\x20'+'pixel\x20boun'+'dary\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x200.'+'5)\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20screenPo'+'s.xy\x20*=\x20un'+'iforms.uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'niforms.uS'+'creenSize.'+'zw;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x202.0'+')\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20scr'+'eenPos;\x0a}\x0a'+'\x0afn\x20getWor'+'ldPosition'+'()\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20dPosi'+'tionW;\x0a}\x0a'),WI='\x0a\x0a\x20\x20\x20\x20attr'+'ibute\x20vert'+'ex_positio'+'n:\x20vec4f;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'rix_model:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20morph_te'+'x_params:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20attri'+'bute\x20morph'+'_vertex_id'+':\x20u32;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etTextureM'+'orphCoords'+'()\x20->\x20vec2'+'i\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'turn\x20morph'+'_vertex_id'+'\x20into\x20int\x20'+'grid\x20coord'+'inates\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'Size:\x20vec2'+'i\x20=\x20vec2i('+'uniform.mo'+'rph_tex_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphGr'+'idV:\x20i32\x20='+'\x20i32(morph'+'_vertex_id'+')\x20/\x20textur'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20morph'+'GridU:\x20i32'+'\x20=\x20i32(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'rphGridV\x20='+'\x20textureSi'+'ze.y\x20-\x20mor'+'phGridV\x20-\x20'+'1;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec2i(mo'+'rphGridU,\x20'+'morphGridV'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_PO'+'SITION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20aabbSiz'+'e:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20aabbMi'+'n:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'morphPosit'+'ionTex:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'sitionTex:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+('if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inBatchVS\x22'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fn\x20getMode'+'lMatrix()\x20'+'->\x20mat4x4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(SKIN'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etModelMat'+'rix()\x20->\x20m'+'at4x4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20un'+'iform.matr'+'ix_model\x20*'+'\x20getSkinMa'+'trix(verte'+'x_boneIndi'+'ces,\x20verte'+'x_boneWeig'+'hts);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(INSTA'+'NCING)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22tran'+'sformInsta'+'ncingVS\x22\x0a\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'n\x20getModel'+'Matrix()\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'fn\x20getLoca'+'lPosition('+'vertexPosi'+'tion:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20loc'+'alPos:\x20vec'+'3f\x20=\x20verte'+'xPosition;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphUV:'+'\x20vec2i\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MORPHI'+'NG_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Use\x20'+'textureLoa'+'d\x20instead\x20'+'of\x20texelFe'+'tch.\x20Coord'+'inates\x20mus'+'t\x20be\x20integ'+'er\x20type\x20(v'+'ec2i).\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20WGSL'+'\x20requires\x20'+'explicit\x20t'+'ype\x20conver'+'sion\x20for\x20v'+'ectors.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Div'+'ision\x20by\x20f'+'loat\x20liter')+('al\x20ensures'+'\x20floating\x20'+'point\x20divi'+'sion.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hPos:\x20vec3'+'f\x20=\x20vec3f('+'textureLoa'+'d(morphPos'+'itionTex,\x20'+'morphUV,\x200'+').xyz)\x20/\x206'+'5535.0\x20*\x20u'+'niform.aab'+'bSize\x20+\x20un'+'iform.aabb'+'Min;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Use\x20text'+'ureLoad\x20in'+'stead\x20of\x20t'+'exelFetch.'+'\x20Coordinat'+'es\x20must\x20be'+'\x20integer\x20t'+'ype\x20(vec2i'+').\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'s:\x20vec3f\x20='+'\x20textureLo'+'ad(morphPo'+'sitionTex,'+'\x20morphUV,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20+'+'=\x20morphPos'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20localP'+'os;\x0a\x20\x20\x20\x20}\x0a'),$I='\x0a\x0aattribut'+'e\x20instance'+'_line1:\x20ve'+'c4f;\x0aattri'+'bute\x20insta'+'nce_line2:'+'\x20vec4f;\x0aat'+'tribute\x20in'+'stance_lin'+'e3:\x20vec4f;'+'\x0aattribute'+'\x20instance_'+'line4:\x20vec'+'4f;\x0a\x0afn\x20ge'+'tModelMatr'+'ix()\x20->\x20ma'+'t4x4f\x20{\x0a\x20\x20'+'\x20\x20return\x20u'+'niform.mat'+'rix_model\x20'+'*\x20mat4x4f('+'instance_l'+'ine1,\x20inst'+'ance_line2'+',\x20instance'+'_line3,\x20in'+'stance_lin'+'e4);\x0a}\x0a',XI='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_refrac'+'tion:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getRefra'+'ction()\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction:\x20'+'f32\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20refractio'+'n\x20=\x20unifor'+'m.material'+'_refractio'+'n;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'REFRACTION'+'_TEXTURE\x0a\x20'+'\x20\x20\x20refract'+'ion\x20=\x20refr'+'action\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_REFRACTI'+'ON_TEXTURE'+'_NAME},\x20{S'+'TD_REFRACT'+'ION_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_REFRACTIO'+'N_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_REFRACTIO'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_VE'+'RTEX\x0a\x20\x20\x20\x20r'+'efraction\x20'+'=\x20refracti'+'on\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_REFRACTI'+'ON_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dTr'+'ansmission'+'\x20=\x20refract'+'ion;\x0a}\x0a',qI='\x0auniform\x20t'+'woSidedLig'+'htingNegSc'+'aleFactor:'+'\x20f32;\x0a\x0afn\x20'+'handleTwoS'+'idedLighti'+'ng()\x20{\x0a\x20\x20\x20'+'\x20dTBN[2]\x20='+'\x20dTBN[2]\x20*'+'\x20select(-u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20p'+'cFrontFaci'+'ng);\x0a}\x0a',jI='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20fn\x20getU'+'v0()\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20uv'+'\x20=\x20vertex_'+'position.x'+'z;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20offse'+'t\x20inner\x20ve'+'rtices\x20ins'+'ide\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2f(0'+'.0,\x200.0),\x20'+'vec2f(1.0,'+'\x201.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset\x20='+'\x20clamp(-ve'+'rtex_posit'+'ion.xz,\x20ve'+'c2f(0.0,\x200'+'.0),\x20vec2f'+'(1.0,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uv\x20=\x20uv\x20'+'+\x20((-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy)\x20'+'+\x20(negativ'+'eUnitOffse'+'t\x20*\x20unifor'+'m.innerOff'+'set.zw))\x20*'+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x20ve'+'c2f(0.5,\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20uniform'+'.atlasRect'+'.zw\x20+\x20unif'+'orm.atlasR'+'ect.xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dMa'+'skGlobal\x20='+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20uv'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20fn'+'\x20getUv0()\x20'+'->\x20vec2f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a',YI='\x0afn\x20getUv1'+'()\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20verte'+'x_texCoord'+'1;\x0a}\x0a',KI='\x0aoutput.vU'+'V{TRANSFOR'+'M_UV_{i}}_'+'{TRANSFORM'+'_ID_{i}}\x20='+'\x20vec2f(\x0a\x20\x20'+'\x20\x20dot(vec3'+'f(uv{TRANS'+'FORM_UV_{i'+'}},\x201),\x20un'+'iform.{TRA'+'NSFORM_NAM'+'E_{i}}0),\x0a'+'\x20\x20\x20\x20dot(ve'+'c3f(uv{TRA'+'NSFORM_UV_'+'{i}},\x201),\x20'+'uniform.{T'+'RANSFORM_N'+'AME_{i}}1)'+'\x0a);\x0a',ZI='\x0a\x20\x20\x20\x20unifo'+'rm\x20{TRANSF'+'ORM_NAME_{'+'i}}0:\x20vec3'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20{TRAN'+'SFORM_NAME'+'_{i}}1:\x20ve'+'c3f;\x0a',QI='\x0afn\x20getVie'+'wDir()\x20{\x0a\x20'+'\x20\x20\x20dViewDi'+'rW\x20=\x20norma'+'lize(unifo'+'rm.view_po'+'sition\x20-\x20v'+'PositionW)'+';\x0a}\x0a',JI={'alphaTestPS':Q2,'ambientPS':J2,'anisotropyPS':eM,'aoPS':tM,'aoDiffuseOccPS':sM,'aoSpecOccPS':iM,'bakeDirLmEndPS':rM,'bakeLmEndPS':aM,'basePS':nM,'baseNineSlicedPS':oM,'baseNineSlicedTiledPS':lM,'bayerPS':cM,'blurVSMPS':hM,'clearCoatPS':dM,'clearCoatGlossPS':fM,'clearCoatNormalPS':uM,'clusteredLightCookiesPS':mM,'clusteredLightShadowsPS':_M,'clusteredLightUtilsPS':pM,'clusteredLightPS':gM,'combinePS':SM,'cookieBlit2DPS':yM,'cookieBlitCubePS':vM,'cookieBlitVS':xM,'cubeMapProjectPS':TM,'cubeMapRotatePS':wM,'debugOutputPS':EM,'debugProcessFrontendPS':bM,'detailModesPS':CM,'diffusePS':PM,'decodePS':AM,'emissivePS':MM,'encodePS':DM,'endPS':IM,'envAtlasPS':LM,'envProcPS':RM,'falloffInvSquaredPS':OM,'falloffLinearPS':FM,'floatAsUintPS':NM,'fogPS':kM,'fresnelSchlickPS':UM,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':BM,'gammaPS':zM,'glossPS':VM,'gsplatCenterVS':GM,'gsplatCornerVS':QM,'gsplatColorVS':HM,'gsplatCommonVS':WM,'gsplatCompressedDataVS':$M,'gsplatCompressedSHVS':XM,'gsplatEvalSHVS':qM,'gsplatQuatToMat3VS':jM,'gsplatSogsColorVS':YM,'gsplatSogsDataVS':KM,'gsplatSogsSHVS':ZM,'gsplatDataVS':JM,'gsplatOutputVS':eD,'gsplatPS':tD,'gsplatSHVS':sD,'gsplatSourceVS':iD,'gsplatVS':rD,'quadVS':aD,'indirectCoreCS':nD,'immediateLinePS':oD,'immediateLineVS':lD,'iridescenceDiffractionPS':cD,'iridescencePS':hD,'iridescenceThicknessPS':dD,'iorPS':fD,'lightDeclarationPS':uD,'lightDiffuseLambertPS':pD,'lightDirPointPS':mD,'lightEvaluationPS':_D,'lightFunctionLightPS':gD,'lightFunctionShadowPS':SD,'lightingPS':yD,'lightmapAddPS':vD,'lightmapPS':xD,'lightSpecularAnisoGGXPS':TD,'lightSpecularBlinnPS':wD,'lightSheenPS':ED,'linearizeDepthPS':bD,'litForwardBackendPS':AD,'litForwardDeclarationPS':CD,'litForwardMainPS':PD,'litForwardPostCodePS':MD,'litForwardPreCodePS':DD,'litMainPS':ID,'litMainVS':LD,'litOtherMainPS':RD,'litShaderArgsPS':OD,'litShaderCorePS':FD,'litShadowMainPS':ND,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':kD,'metalnessPS':UD,'metalnessModulatePS':zD,'morphPS':VD,'morphVS':GD,'msdfPS':BD,'msdfVS':HD,'normalVS':WD,'normalCoreVS':$D,'normalMapPS':XD,'opacityPS':qD,'opacityDitherPS':jD,'outputPS':YD,'outputAlphaPS':KD,'outputTex2DPS':ZD,'sheenPS':QD,'sheenGlossPS':JD,'parallaxPS':eI,'pickPS':tI,'reflDirPS':sI,'reflDirAnisoPS':iI,'reflectionCCPS':rI,'reflectionCubePS':aI,'reflectionEnvHQPS':nI,'reflectionEnvPS':oI,'reflectionSpherePS':lI,'reflectionSheenPS':cI,'refractionCubePS':hI,'refractionDynamicPS':dI,'reprojectPS':fI,'reprojectVS':uI,'screenDepthPS':pI,'shadowCascadesPS':mI,'shadowEVSMPS':_I,'shadowPCF1PS':gI,'shadowPCF3PS':SI,'shadowPCF5PS':yI,'shadowSoftPS':vI,'skinBatchVS':xI,'skinVS':TI,'skyboxPS':wI,'skyboxVS':EI,'specularPS':bI,'sphericalPS':AI,'specularityFactorPS':CI,'spotPS':PI,'startNineSlicedPS':MI,'startNineSlicedTiledPS':DI,'stdDeclarationPS':II,'stdFrontEndPS':LI,'TBNPS':RI,'thicknessPS':OI,'tonemappingPS':FI,'tonemappingAcesPS':NI,'tonemappingAces2PS':kI,'tonemappingFilmicPS':UI,'tonemappingHejlPS':BI,'tonemappingLinearPS':zI,'tonemappingNeutralPS':VI,'tonemappingNonePS':GI,'transformVS':HI,'transformCoreVS':WI,'transformInstancingVS':$I,'transmissionPS':XI,'twoSidedLightingPS':qI,'uv0VS':jI,'uv1VS':YI,'uvTransformVS':KI,'uvTransformUniformsPS':ZI,'viewDirPS':QI,'webgpuPS':$y,'webgpuVS':Xy},ea=class ea extends me{constructor(_0x119431){super(),h(this,'_batcher',null),h(this,'_destroyRe'+'quested',!(-0x1*0x1cf3+0x9eb+-0x1bb*-0xb)),h(this,'_inFrameUp'+'date',!(0xad1+0x1*0x4cd+-0x7*0x23b)),h(this,'_libraries'+'Loaded',!(-0x64*0x17+-0x1b9d*0x1+0x249a)),h(this,'_fillMode',Tg),h(this,'_resolutio'+'nMode',MC),h(this,'_allowResi'+'ze',!(-0x1*0x1733+0x6*-0x1b7+0x217d)),h(this,'_skyboxAss'+'et',null),h(this,'_soundMana'+'ger'),h(this,'_visibilit'+'yChangeHan'+'dler'),h(this,'_entityInd'+'ex',{}),h(this,'_inTools',!(-0x1aec+0x7*0x19f+0xf94)),h(this,'_scriptPre'+'fix',''),h(this,'_time',-0xd1f*-0x1+0xd*0x2f+0x1*-0xf82),h(this,'enableBund'+'les',typeof TextDecoder<'u'),h(this,'frameReque'+'stId'),h(this,'timeScale',-0x1689+-0x3d*-0x42+0x6d0),h(this,'maxDeltaTi'+'me',0x4*0x490+-0x18+-0x1228+0.1),h(this,'frame',0x23f1+0x250b+-0x48fc),h(this,'frameGraph',new DC()),h(this,'renderer'),h(this,'scriptsOrd'+'er',[]),h(this,'stats'),h(this,'autoRender',!(-0xe*-0x1e6+-0x2a*-0xec+0x54*-0xc7)),h(this,'renderNext'+'Frame',!(-0x99*-0x30+-0x1f29+0x27a)),h(this,'graphicsDe'+'vice'),h(this,'root'),h(this,'scene'),h(this,'lightmappe'+'r',null),h(this,'loader',new Cn(this)),h(this,'assets'),h(this,'bundles'),h(this,'scenes',new qC(this)),h(this,'scripts',new HC(this)),h(this,'systems',new BC()),h(this,'i18n',new wa(this)),h(this,'keyboard',null),h(this,'mouse',null),h(this,'touch',null),h(this,'gamepads',null),h(this,'elementInp'+'ut',null),h(this,'xr',null),((hn==null?void(-0x11*0x12e+0x1*0x1f29+-0xb1b):hn['indexOf']('$'))<0x5af+-0x7*0x3d6+0x152b&&w['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+hn+'\x20'+$S),ea['_applicati'+'ons'][_0x119431['id']]=this,_u(this),this['root']=new lt(),this['root']['_enabledIn'+'Hierarchy']=!(0x207+-0xc58*0x2+-0x16a9*-0x1));}['init'](_0x95480c){const {assetPrefix:_0x53e712,batchManager:_0x5fd8ab,componentSystems:_0x2788fd,elementInput:_0x5eb63f,gamepads:_0x515dee,graphicsDevice:_0x2573a6,keyboard:_0x503d7c,lightmapper:_0x33f049,mouse:_0x2140ed,resourceHandlers:_0x3e4606,scriptsOrder:_0x552a9d,scriptPrefix:_0x226afa,soundManager:_0x5e1597,touch:_0x5b0e2d,xr:_0x4a06d0}=_0x95480c;w['assert'](_0x2573a6,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x2573a6,Pe['get'](_0x2573a6,Fe)['add'](Z2),Pe['get'](_0x2573a6,it)['add'](JI),this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new jC(_0x2573a6),this['_soundMana'+'ger']=_0x5e1597,this['scene']=new Et(_0x2573a6),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new mn(this['loader']),_0x53e712&&(this['assets']['prefix']=_0x53e712),this['bundles']=new UC(this['assets']),this['scriptsOrd'+'er']=_0x552a9d||[],this['defaultLay'+'erWorld']=new Ot({'name':'World','id':er}),this['defaultLay'+'erDepth']=new Ot({'name':'Depth','id':ps,'enabled':!(-0x59d*-0x6+0x1*0xef+-0x114e*0x2),'opaqueSortMode':Yc}),this['defaultLay'+'erSkybox']=new Ot({'name':'Skybox','id':Kp,'opaqueSortMode':Yc}),this['defaultLay'+'erUi']=new Ot({'name':'UI','id':Il,'transparentSortMode':jw}),this['defaultLay'+'erImmediat'+'e']=new Ot({'name':'Immediate','id':Zp,'opaqueSortMode':Yc});const _0x52443a=new du('default');_0x52443a['pushOpaque'](this['defaultLay'+'erWorld']),_0x52443a['pushOpaque'](this['defaultLay'+'erDepth']),_0x52443a['pushOpaque'](this['defaultLay'+'erSkybox']),_0x52443a['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0x52443a['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0x52443a['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0x52443a['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0x52443a,ia['createPlac'+'eholder'](_0x2573a6),this['renderer']=new fl(_0x2573a6),this['renderer']['scene']=this['scene'],_0x33f049&&(this['lightmappe'+'r']=new _0x33f049(_0x2573a6,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0x5fd8ab&&(this['_batcher']=new _0x5fd8ab(_0x2573a6,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x503d7c||null,this['mouse']=_0x2140ed||null,this['touch']=_0x5b0e2d||null,this['gamepads']=_0x515dee||null,_0x5eb63f&&(this['elementInp'+'ut']=_0x5eb63f,this['elementInp'+'ut']['app']=this),this['xr']=_0x4a06d0?new _0x4a06d0(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x226afa||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new VC(this)),_0x3e4606['forEach'](_0x48bb62=>{const _0x505961=new _0x48bb62(this);this['loader']['addHandler'](_0x505961['handlerTyp'+'e'],_0x505961);}),_0x2788fd['forEach'](_0x30929e=>{this['systems']['add'](new _0x30929e(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(0x1*0x25ad+-0x49*0x3f+-0x13b6)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x4ad*-0x5+0x89*-0x3b+0x833))):document['mozHidden']!==void(0x1784+-0x3a9+-0x187*0xd)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x5*0x74+0x21e3+-0x2426))):document['msHidden']!==void(-0x4f*0x13+0xeaf*-0x1+0x148c)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x3*0x8+0x19*0x151+0xa8*-0x32))):document['webkitHidd'+'en']!==void(0x1e3d+-0x2487*-0x1+0x2162*-0x2)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x1519+-0x101*0x1a+0x502)))),this['tick']=eL(this);}static['getApplica'+'tion'](_0x32f27d){return _0x32f27d?ea['_applicati'+'ons'][_0x32f27d]:Ms();}['_initDefau'+'ltMaterial'](){const _0x8f1301=new Ut();_0x8f1301['name']='Default\x20Ma'+'terial',xE(this['graphicsDe'+'vice'],_0x8f1301);}['_initProgr'+'amLibrary'](){const _0x3aff6e=new qA(this['graphicsDe'+'vice'],new Ut());cE(this['graphicsDe'+'vice'],_0x3aff6e);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return w['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x5b3af7,_0x594132){ot['get'](_0x5b3af7,(_0x47bd8c,_0x8a4971)=>{if(_0x47bd8c){_0x594132(_0x47bd8c);return;}const _0x5df31d=_0x8a4971['applicatio'+'n_properti'+'es'],_0x59654d=_0x8a4971['scenes'],_0x331cc5=_0x8a4971['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x5df31d,_0x1254ad=>{this['_parseScen'+'es'](_0x59654d),this['_parseAsse'+'ts'](_0x331cc5),_0x594132(_0x1254ad||null);});});}['preload'](_0x514efe){this['fire']('preload:st'+'art');const _0x561530=this['assets']['list']({'preload':!(0x16c4+0x1ea6+-0x1*0x356a)});if(_0x561530['length']===-0xc4f*-0x2+-0x1*-0x2197+0x3a35*-0x1){this['fire']('preload:en'+'d'),_0x514efe();return;}let _0x1e3c00=-0x22d9*0x1+0x48d+-0x22a*-0xe;const _0x35c666=()=>{_0x1e3c00++,this['fire']('preload:pr'+'ogress',_0x1e3c00/_0x561530['length']),_0x1e3c00===_0x561530['length']&&(this['fire']('preload:en'+'d'),_0x514efe());};_0x561530['forEach'](_0x21b0ea=>{_0x21b0ea['loaded']?_0x35c666():(_0x21b0ea['once']('load',_0x35c666),_0x21b0ea['once']('error',_0x35c666),this['assets']['load'](_0x21b0ea));});}['_preloadSc'+'ripts'](_0x2bc782,_0x2337be){_0x2337be();}['_parseAppl'+'icationPro'+'perties'](_0x2bebd2,_0x49ee78){if(typeof _0x2bebd2['maxAssetRe'+'tries']=='number'&&_0x2bebd2['maxAssetRe'+'tries']>-0x1fb*0x2+0x1621+-0x122b&&this['loader']['enableRetr'+'y'](_0x2bebd2['maxAssetRe'+'tries']),_0x2bebd2['useDeviceP'+'ixelRatio']||(_0x2bebd2['useDeviceP'+'ixelRatio']=_0x2bebd2['use_device'+'_pixel_rat'+'io']),_0x2bebd2['resolution'+'Mode']||(_0x2bebd2['resolution'+'Mode']=_0x2bebd2['resolution'+'_mode']),_0x2bebd2['fillMode']||(_0x2bebd2['fillMode']=_0x2bebd2['fill_mode']),this['_width']=_0x2bebd2['width'],this['_height']=_0x2bebd2['height'],_0x2bebd2['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x2bebd2['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x2bebd2['fillMode'],this['_width'],this['_height']),_0x2bebd2['layers']&&_0x2bebd2['layerOrder']){const _0x1b6d41=new du('applicatio'+'n'),_0x337768={};for(const _0x4b0d65 in _0x2bebd2['layers']){const _0x4044d0=_0x2bebd2['layers'][_0x4b0d65];_0x4044d0['id']=parseInt(_0x4b0d65,0x1fa2+-0xc2*0x25+-0x5*0xb6),_0x4044d0['enabled']=_0x4044d0['id']!==ps,_0x337768[_0x4b0d65]=new Ot(_0x4044d0);}for(let _0x72d412=0x2209*-0x1+-0x4*0x6d9+0x3d6d,_0x142385=_0x2bebd2['layerOrder']['length'];_0x72d412<_0x142385;_0x72d412++){const _0x4928b2=_0x2bebd2['layerOrder'][_0x72d412],_0x4fbe26=_0x337768[_0x4928b2['layer']];_0x4fbe26&&(_0x4928b2['transparen'+'t']?_0x1b6d41['pushTransp'+'arent'](_0x4fbe26):_0x1b6d41['pushOpaque'](_0x4fbe26),_0x1b6d41['subLayerEn'+'abled'][_0x72d412]=_0x4928b2['enabled']);}this['scene']['layers']=_0x1b6d41;}if(_0x2bebd2['batchGroup'+'s']){const _0x29ed95=this['batcher'];if(_0x29ed95)for(let _0x16fe57=-0x2439+0xd23+0x3*0x7b2,_0x5f2c93=_0x2bebd2['batchGroup'+'s']['length'];_0x16fe57<_0x5f2c93;_0x16fe57++){const _0x396873=_0x2bebd2['batchGroup'+'s'][_0x16fe57];_0x29ed95['addGroup'](_0x396873['name'],_0x396873['dynamic'],_0x396873['maxAabbSiz'+'e'],_0x396873['id'],_0x396873['layers']);}}_0x2bebd2['i18nAssets']&&(this['i18n']['assets']=_0x2bebd2['i18nAssets']),this['_loadLibra'+'ries'](_0x2bebd2['libraries'],_0x49ee78);}['_loadLibra'+'ries'](_0xaa67f8,_0x377d97){const _0xdfd478=_0xaa67f8['length'];let _0x28ae82=_0xdfd478;const _0x59c25b=/^https?:\/\//;if(_0xdfd478){const _0x1d1ead=(_0x551c1a,_0x2cd936)=>{_0x28ae82--,_0x551c1a?_0x377d97(_0x551c1a):_0x28ae82===-0x8a7+-0x26c0+0xf*0x329&&(this['onLibrarie'+'sLoaded'](),_0x377d97(null));};for(let _0x1e6aab=0x2306+-0x113c*-0x1+-0x3442;_0x1e6aab<_0xdfd478;++_0x1e6aab){let _0x2423df=_0xaa67f8[_0x1e6aab];!_0x59c25b['test'](_0x2423df['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x2423df=xe['join'](this['_scriptPre'+'fix'],_0x2423df)),this['loader']['load'](_0x2423df,'script',_0x1d1ead);}}else this['onLibrarie'+'sLoaded'](),_0x377d97(null);}['_parseScen'+'es'](_0x268f18){if(_0x268f18){for(let _0x12d5ea=0x1*0xcd7+0x11*-0xa3+-0x6*0x56;_0x12d5ea<_0x268f18['length'];_0x12d5ea++)this['scenes']['add'](_0x268f18[_0x12d5ea]['name'],_0x268f18[_0x12d5ea]['url']);}}['_parseAsse'+'ts'](_0x1be88f){const _0x4f6d6d=[],_0x2eab3d={},_0x404e7c={};for(let _0x12d74d=-0xf8d+-0x55*-0x73+-0x16a2;_0x12d74d<this['scriptsOrd'+'er']['length'];_0x12d74d++){const _0x364fed=this['scriptsOrd'+'er'][_0x12d74d];_0x1be88f[_0x364fed]&&(_0x2eab3d[_0x364fed]=!(-0x595*-0x1+0x916*0x1+0x5*-0x2ef),_0x4f6d6d['push'](_0x1be88f[_0x364fed]));}if(this['enableBund'+'les']){for(const _0x1040c5 in _0x1be88f)_0x1be88f[_0x1040c5]['type']==='bundle'&&(_0x404e7c[_0x1040c5]=!(-0x17c8+-0x10f9+-0x28c1*-0x1),_0x4f6d6d['push'](_0x1be88f[_0x1040c5]));}for(const _0x1eaf12 in _0x1be88f)_0x2eab3d[_0x1eaf12]||_0x404e7c[_0x1eaf12]||_0x4f6d6d['push'](_0x1be88f[_0x1eaf12]);for(let _0xc50924=0x1e2e+0x3*0x557+-0x2e33;_0xc50924<_0x4f6d6d['length'];_0xc50924++){const _0x37b870=_0x4f6d6d[_0xc50924],_0x2cf9a7=new pe(_0x37b870['name'],_0x37b870['type'],_0x37b870['file'],_0x37b870['data']);if(_0x2cf9a7['id']=parseInt(_0x37b870['id'],-0x1a05+0xdee+-0x159*-0x9),_0x2cf9a7['preload']=_0x37b870['preload']?_0x37b870['preload']:!(0x7f9*-0x1+0xe12+0x9c*-0xa),_0x2cf9a7['loaded']=_0x37b870['type']==='script'&&_0x37b870['data']&&_0x37b870['data']['loadingTyp'+'e']>0x191*0xb+0x1f14+-0x304f*0x1,_0x2cf9a7['tags']['add'](_0x37b870['tags']),_0x37b870['i18n']){for(const _0x11df5b in _0x37b870['i18n'])_0x2cf9a7['addLocaliz'+'edAssetId'](_0x11df5b,_0x37b870['i18n'][_0x11df5b]);}this['assets']['add'](_0x2cf9a7);}}['start'](){w['call'](()=>{w['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(-0x19ef+-0xf5f+0x294e);}),this['frame']=0x67*-0x59+-0xf49+-0x5*-0xa38,this['fire']('start',{'timestamp':de(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x30d4cd){this['controller']&&this['controller']['update'](_0x30d4cd),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x1f152f){this['frame']++,this['graphicsDe'+'vice']['update'](),this['stats']['frame']['updateStar'+'t']=de(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x1f152f),this['systems']['fire']('animationU'+'pdate',_0x1f152f),this['systems']['fire']('postUpdate',_0x1f152f),this['fire']('update',_0x1f152f),this['inputUpdat'+'e'](_0x1f152f),this['stats']['frame']['updateTime']=de()-this['stats']['frame']['updateStar'+'t'];}['render'](){this['updateCanv'+'asSize'](),this['graphicsDe'+'vice']['frameStart'](),this['stats']['frame']['renderStar'+'t']=de(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),fl['_skipRende'+'rCounter']=-0x8b7*0x1+-0xc4b+0x1502,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=de()-this['stats']['frame']['renderStar'+'t'],this['graphicsDe'+'vice']['frameEnd']();}['renderComp'+'osition'](_0x1373b8){Q['clearGpuMa'+'rkers'](),this['renderer']['update'](_0x1373b8),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0x1373b8),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0x141783,_0x23293e,_0x5a1ba9){const _0x5b93d2=this['stats']['frame'];_0x5b93d2['dt']=_0x23293e,_0x5b93d2['ms']=_0x5a1ba9,_0x141783>_0x5b93d2['_timeToCou'+'ntFrames']?(_0x5b93d2['fps']=_0x5b93d2['_fpsAccum'],_0x5b93d2['_fpsAccum']=-0xf*0x1ea+-0x1*0xa8b+0x2741,_0x5b93d2['_timeToCou'+'ntFrames']=_0x141783+(-0x43*-0x2b+-0x1ab6+-0x135d*-0x1)):_0x5b93d2['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=-0x16df*-0x1+-0x2dc+-0x6d*0x2f;}['_fillFrame'+'Stats'](){let _0x301c34=this['stats']['frame'];_0x301c34['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x301c34['materials']=this['renderer']['_materialS'+'witches'],_0x301c34['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x301c34['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x301c34['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x301c34['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x301c34['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x85f6a6=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x301c34['triangles']=_0x85f6a6[js]/(0x110b+-0x7a6+-0x962)+Math['max'](_0x85f6a6[Er]-(-0x1057+-0x337+0x139*0x10),-0x1701*-0x1+0x9a7+-0x20a8)+Math['max'](_0x85f6a6[oa]-(0x18df*0x1+0x414+0x1cf1*-0x1),0x183d+-0x1460+-0x2b*0x17),_0x301c34['cullTime']=this['renderer']['_cullTime'],_0x301c34['sortTime']=this['renderer']['_sortTime'],_0x301c34['skinTime']=this['renderer']['_skinTime'],_0x301c34['morphTime']=this['renderer']['_morphTime'],_0x301c34['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x301c34['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x301c34['otherPrimi'+'tives']=0x95e*0x2+-0x1*-0x1c41+-0x1*0x2efd;for(let _0xc29a2f=0x14b0+-0x1ad1+-0x621*-0x1;_0xc29a2f<_0x85f6a6['length'];_0xc29a2f++)_0xc29a2f<js&&(_0x301c34['otherPrimi'+'tives']+=_0x85f6a6[_0xc29a2f]),_0x85f6a6[_0xc29a2f]=0x1d7f+0xbd0+-0x294f;this['renderer']['_camerasRe'+'ndered']=0xe94+-0xe30+0x19*-0x4,this['renderer']['_materialS'+'witches']=0x318+0x175f+-0x1a77,this['renderer']['_shadowMap'+'Updates']=-0x1638+0x8cd*-0x3+0x309f,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=0x46d+0x15ec+-0x1a59,this['renderer']['_cullTime']=-0x2041*0x1+-0x63*0x47+0x1*0x3bb6,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=0x1cc5+0xa0b+0x4*-0x9b4,this['renderer']['_lightClus'+'tersTime']=-0x1a4f+-0x6fd*-0x2+0x29*0x4d,this['renderer']['_sortTime']=0x1855*-0x1+0x3*0x5ca+0x6f7*0x1,this['renderer']['_skinTime']=-0x91*0x3b+-0xa*0x55+0x24bd,this['renderer']['_morphTime']=0x13e1+0x2350+-0x3731,this['renderer']['_shadowMap'+'Time']=0x935*-0x1+-0xbb7+0x4*0x53b,this['renderer']['_depthMapT'+'ime']=-0x21f7+-0x258f+0x4786,this['renderer']['_forwardTi'+'me']=0x1bd7+0x2e1*-0xa+0xf3*0x1,_0x301c34=this['stats']['drawCalls'],_0x301c34['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x301c34['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x301c34['depth']=-0x15ce+0x1eb9+0x1*-0x8eb,_0x301c34['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x301c34['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x301c34['immediate']=0x2356+0x3*-0x13d+-0x1f9f,_0x301c34['instanced']=0x1c3*0x5+0x194*-0xd+0xbb5,_0x301c34['removedByI'+'nstancing']=-0x7*-0x391+-0x1083+-0x874,_0x301c34['misc']=_0x301c34['total']-(_0x301c34['forward']+_0x301c34['shadow']),this['renderer']['_depthDraw'+'Calls']=-0x2031+0x1a7*-0x8+0x2d69,this['renderer']['_shadowDra'+'wCalls']=-0x4*-0x185+0x43d+-0x1*0xa51,this['renderer']['_forwardDr'+'awCalls']=-0x3*-0xf5+0x1fe8+0x22c7*-0x1,this['renderer']['_numDrawCa'+'llsCulled']=-0x1220+0x24f4+-0x96a*0x2,this['renderer']['_skinDrawC'+'alls']=-0x78d+0xa9c+-0x30f,this['renderer']['_immediate'+'Rendered']=0x3b9*-0x7+0x1b9*0x13+0x356*-0x2,this['renderer']['_instanced'+'DrawCalls']=0x23*0x25+0x2*-0x347+-0x17f*-0x1,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x301c34=this['stats']['particles'],_0x301c34['updatesPer'+'Frame']=_0x301c34['_updatesPe'+'rFrame'],_0x301c34['frameTime']=_0x301c34['_frameTime'],_0x301c34['_updatesPe'+'rFrame']=-0x9e+-0x1231+0x12cf,_0x301c34['_frameTime']=-0x191d+-0x31*0xb2+-0x3b2f*-0x1;}['setCanvasF'+'illMode'](_0x5bc2ea,_0x5760c3,_0x1664bf){this['_fillMode']=_0x5bc2ea,this['resizeCanv'+'as'](_0x5760c3,_0x1664bf);}['setCanvasR'+'esolution'](_0x1a048d,_0x39702f,_0x1ed14b){this['_resolutio'+'nMode']=_0x1a048d,_0x1a048d===wg&&_0x39702f===void(-0x8a9+-0x1135*-0x1+0x446*-0x2)&&(_0x39702f=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x1ed14b=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x39702f,_0x1ed14b);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x39e736,_0x431845){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0x4b66db=window['innerWidth'],_0x3a88d3=window['innerHeigh'+'t'];if(this['_fillMode']===Tg){const _0x59b3cd=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x45dde5=_0x4b66db/_0x3a88d3;_0x59b3cd>_0x45dde5?(_0x39e736=_0x4b66db,_0x431845=_0x39e736/_0x59b3cd):(_0x431845=_0x3a88d3,_0x39e736=_0x431845*_0x59b3cd);}else this['_fillMode']===PC&&(_0x39e736=_0x4b66db,_0x431845=_0x3a88d3);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x39e736+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x431845+'px',this['updateCanv'+'asSize'](),{'width':_0x39e736,'height':_0x431845};}['updateCanv'+'asSize'](){var _0x5cff8c;if(!(!this['_allowResi'+'ze']||(_0x5cff8c=this['xr'])!=null&&_0x5cff8c['active'])&&this['_resolutio'+'nMode']===wg){const _0x4f1749=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x4f1749['clientWidt'+'h'],_0x4f1749['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(-0x1*0x2441+0x22*0xd3+-0x1*-0x83b),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x46d8ed){let _0x29eb95;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x151544,_0x377970,_0x2e4e1e]=_0x46d8ed['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x151544,_0x377970,_0x2e4e1e);}this['scene']['applySetti'+'ngs'](_0x46d8ed),_0x46d8ed['render']['hasOwnProp'+'erty']('skybox')&&(_0x46d8ed['render']['skybox']?(_0x29eb95=this['assets']['get'](_0x46d8ed['render']['skybox']),_0x29eb95?this['setSkybox'](_0x29eb95):this['assets']['once']('add:'+_0x46d8ed['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x1784ce,_0x40ff0a){_0x1784ce&&_0x40ff0a?ia['set'](this['graphicsDe'+'vice'],_0x1784ce,_0x40ff0a):w['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x5c9f0b){if(_0x5c9f0b!==this['_skyboxAss'+'et']){const _0x9d40c3=()=>{this['setSkybox'](null);},_0x485353=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x485353,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x9d40c3,this),this['_skyboxAss'+'et']['off']('change',_0x485353,this)),this['_skyboxAss'+'et']=_0x5c9f0b,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x485353,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x9d40c3,this),this['_skyboxAss'+'et']['on']('change',_0x485353,this),this['scene']['skyboxMip']===0x1*-0x2291+-0x61f+0x28b0&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(-0x819+-0x1*0x21fa+0x2a13*0x1)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x485353();}}['_firstBake'](){var _0xeabcea;(_0xeabcea=this['lightmappe'+'r'])==null||_0xeabcea['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x2da8f3;(_0x2da8f3=this['batcher'])==null||_0x2da8f3['generate']();}['_processTi'+'mestamp'](_0x574002){return _0x574002;}['drawLine'](_0x54f46d,_0x3cfc64,_0x45b6d0,_0x14f08a,_0x1dc779){this['scene']['drawLine'](_0x54f46d,_0x3cfc64,_0x45b6d0,_0x14f08a,_0x1dc779);}['drawLines'](_0xd8fede,_0x4b0ff2,_0x1065ad=!(0x1cd1+0x5*-0x9d+-0x19c0),_0x48b8cd=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0xd8fede,_0x4b0ff2,_0x1065ad,_0x48b8cd);}['drawLineAr'+'rays'](_0xbe6ddc,_0x5e4284,_0x144cd0=!(0x464+-0x1337+-0x4f1*-0x3),_0x2b4372=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0xbe6ddc,_0x5e4284,_0x144cd0,_0x2b4372);}['drawWireSp'+'here'](_0x48350e,_0x3537bf,_0x5c5b48=ie['WHITE'],_0x549ecd=-0x385+-0x2a0*0x8+0x1899,_0x101ac4=!(0x74f+-0x377*-0x1+-0xac6),_0x369d55=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x48350e,_0x3537bf,_0x5c5b48,_0x549ecd,_0x101ac4,_0x369d55);}['drawWireAl'+'ignedBox'](_0x3543db,_0x26d28e,_0x2f5c95=ie['WHITE'],_0x3644d5=!(-0x5f*0x1e+0x1ca8+-0x1186),_0x3c0f45=this['scene']['defaultDra'+'wLayer'],_0x3464f1){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x3543db,_0x26d28e,_0x2f5c95,_0x3644d5,_0x3c0f45,_0x3464f1);}['drawMeshIn'+'stance'](_0x2db31e,_0x3c2b03=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x2db31e,_0x3c2b03);}['drawMesh'](_0x4b6af8,_0x549882,_0x5b5480,_0x11b26b=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x549882,_0x5b5480,_0x4b6af8,null,_0x11b26b);}['drawQuad'](_0x304ec8,_0x814aec,_0x29366d=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x814aec,_0x304ec8,this['scene']['immediate']['getQuadMes'+'h'](),null,_0x29366d);}['drawTextur'+'e'](_0x440d16,_0x55c414,_0x1c46e1,_0x507ca7,_0x4d7f35,_0x5c4ecd,_0x3b24dc=this['scene']['defaultDra'+'wLayer'],_0x3d18e3=!(0x174c+-0x90a*-0x4+-0x3b74)){if(_0x3d18e3===!(-0x5*0x5b0+0x952+-0x1bd*-0xb)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x1f7346=new te();_0x1f7346['setTRS'](new D(_0x440d16,_0x55c414,-0x1e55+0x905*0x1+-0x3e*-0x58),le['IDENTITY'],new D(_0x1c46e1,-_0x507ca7,0x5*0xf7+-0x1f8a+0x1ab7*0x1)),_0x5c4ecd||(_0x5c4ecd=new Xn(),_0x5c4ecd['cull']=bt,_0x5c4ecd['setParamet'+'er']('colorMap',_0x4d7f35),_0x5c4ecd['shaderDesc']=_0x3d18e3?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0x4d7f35['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x5c4ecd['update']()),this['drawQuad'](_0x1f7346,_0x5c4ecd,_0x3b24dc);}['drawDepthT'+'exture'](_0x5c150f,_0x5a9e41,_0x4e0ca4,_0x5c1f30,_0x315559=this['scene']['defaultDra'+'wLayer']){const _0xb1ca4=new Xn();_0xb1ca4['cull']=bt,_0xb1ca4['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0xb1ca4['update'](),this['drawTextur'+'e'](_0x5c150f,_0x5a9e41,_0x4e0ca4,_0x5c1f30,null,_0xb1ca4,_0x315559);}['destroy'](){var _0x96fe53,_0x2cac27,_0x135547,_0xa469ed;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(0x3*0x61f+0x143*0x19+-0x31e8);return;}const _0x3c5c25=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x458*-0x1+0x257c+-0x81*0x53)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x27c+-0x35*0x52+0x21*0x97)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x153a+0x18e9+-0x3ae)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0xc5+-0x24c0+0x2586))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0xa02336=this['assets']['list']();for(let _0x261cd8=0xbf4+-0x15b6+-0x9c2*-0x1;_0x261cd8<_0xa02336['length'];_0x261cd8++)_0xa02336[_0x261cd8]['unload'](),_0xa02336[_0x261cd8]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x24c1f2=this['loader']['getHandler']('script');_0x24c1f2==null||_0x24c1f2['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x96fe53=this['lightmappe'+'r'])==null||_0x96fe53['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x2cac27=this['xr'])==null||_0x2cac27['end'](),(_0x135547=this['xr'])==null||_0x135547['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0xa469ed=this['_soundMana'+'ger'])==null||_0xa469ed['destroy'](),this['_soundMana'+'ger']=null,ea['_applicati'+'ons'][_0x3c5c25]=null,Ms()===this&&_u(null),ea['cancelTick'](this);}static['cancelTick'](_0x201ee9){_0x201ee9['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x201ee9['frameReque'+'stId']),_0x201ee9['frameReque'+'stId']=void(-0x80d+-0x679*0x1+0x11e*0xd));}['getEntityF'+'romIndex'](_0x5cef25){return this['_entityInd'+'ex'][_0x5cef25];}['_registerS'+'ceneImmedi'+'ate'](_0x55826b){this['on']('postrender',_0x55826b['immediate']['onPostRend'+'er'],_0x55826b['immediate']);}};h(ea,'_applicati'+'ons',{});let Ks=ea;const eL=function(_0x2017b2){const _0x590328=_0x2017b2;return function(_0x3c173a,_0x44b500){var _0x302414,_0x2899af,_0x541267,_0x246162;if(!_0x590328['graphicsDe'+'vice'])return;_0x590328['frameReque'+'stId']&&((_0x2899af=(_0x302414=_0x590328['xr'])==null?void(0x1*-0x2f5+-0x4*0x26+0x38d):_0x302414['session'])==null||_0x2899af['cancelAnim'+'ationFrame'](_0x590328['frameReque'+'stId']),cancelAnimationFrame(_0x590328['frameReque'+'stId']),_0x590328['frameReque'+'stId']=null),_0x590328['_inFrameUp'+'date']=!(0x17e5*0x1+-0x26ac+0x4ed*0x3),_u(_0x590328);const _0x48a64a=_0x590328['_processTi'+'mestamp'](_0x3c173a)||de(),_0x2d33f9=_0x48a64a-(_0x590328['_time']||_0x48a64a);let _0x361a55=_0x2d33f9/(-0x2a*-0x9b+0x1dd0+-0x3356);if(_0x361a55=Y['clamp'](_0x361a55,-0x1175+0xd7*-0x2+0x661*0x3,_0x590328['maxDeltaTi'+'me']),_0x361a55*=_0x590328['timeScale'],_0x590328['_time']=_0x48a64a,(_0x541267=_0x590328['xr'])!=null&&_0x541267['session']?_0x590328['frameReque'+'stId']=_0x590328['xr']['session']['requestAni'+'mationFram'+'e'](_0x590328['tick']):_0x590328['frameReque'+'stId']=Ae['browser']||Ae['worker']?requestAnimationFrame(_0x590328['tick']):null,_0x590328['graphicsDe'+'vice']['contextLos'+'t'])return;_0x590328['_fillFrame'+'StatsBasic'](_0x48a64a,_0x361a55,_0x2d33f9),_0x590328['_fillFrame'+'Stats'](),_0x590328['fire']('frameupdat'+'e',_0x2d33f9);let _0x55c94a=!(0xd16+0xc4d+-0x1962);_0x44b500?(_0x55c94a=!((_0x246162=_0x590328['xr'])!=null&&_0x246162['update'](_0x44b500)),_0x590328['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x44b500['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x590328['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,!_0x55c94a&&!_0x590328['stopSort']&&(w['trace'](W0,'----\x20Frame'+'\x20'+_0x590328['frame']),w['trace'](Ld,'--\x20UpdateS'+'tart\x20'+de()['toFixed'](-0x104*-0x13+0xa51+0xb*-0x2b1)+'ms'),_0x590328['update'](_0x361a55),_0x590328['fire']('framerende'+'r'),(_0x590328['autoRender']||_0x590328['renderNext'+'Frame'])&&(w['trace'](Ld,'--\x20RenderS'+'tart\x20'+de()['toFixed'](0x2161+0x1*-0x224f+-0x8*-0x1e)+'ms'),_0x590328['render'](),_0x590328['renderNext'+'Frame']=!(-0xbb7+-0x7*-0x67+0x8e7),w['trace'](Ld,'--\x20RenderE'+'nd\x20'+de()['toFixed'](-0x65*-0x56+-0x12dc+-0xf10)+'ms')),_0x590328['fire']('frameend')),_0x590328['_inFrameUp'+'date']=!(0x61*-0x23+0x269f+-0x195b),_0x590328['_destroyRe'+'quested']&&_0x590328['destroy']();};};class tL{constructor(){h(this,'elementInp'+'ut'),h(this,'keyboard'),h(this,'mouse'),h(this,'touch'),h(this,'gamepads'),h(this,'scriptPref'+'ix'),h(this,'assetPrefi'+'x'),h(this,'scriptsOrd'+'er'),h(this,'soundManag'+'er'),h(this,'graphicsDe'+'vice'),h(this,'lightmappe'+'r'),h(this,'batchManag'+'er'),h(this,'xr'),h(this,'componentS'+'ystems',[]),h(this,'resourceHa'+'ndlers',[]);}}const mo=new sp();class Uv{constructor(_0x2d39f7,_0x656105,_0x2507d5){this['scene']=_0x2d39f7,this['light']=_0x656105,this['store'](),_0x656105['numCascade'+'s']=0x14a5+0xdcc+-0x2270,this['scene']['clusteredL'+'ightingEna'+'bled']&&!_0x2507d5['shadowsEna'+'bled']&&(_0x656105['castShadow'+'s']=!(0x5*0x2ce+0x35*0x97+-0x2d48)),_0x656105['type']!==ve&&(_0x656105['_node']['getWorldTr'+'ansform'](),_0x656105['getBoundin'+'gSphere'](mo),this['lightBound'+'s']=new De(),this['lightBound'+'s']['center']['copy'](mo['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](mo['radius'],mo['radius'],mo['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x4fd4fc=this['light'];_0x4fd4fc['mask']=this['mask'],_0x4fd4fc['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x4fd4fc['enabled']=this['enabled'],_0x4fd4fc['intensity']=this['intensity'],_0x4fd4fc['_node']['setLocalRo'+'tation'](this['rotation']),_0x4fd4fc['numCascade'+'s']=this['numCascade'+'s'],_0x4fd4fc['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(-0x1*-0xb07+-0x1b88+0x1081),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x44edcd){const _0xdc3dde=this['light'];_0xdc3dde['enabled']=!(0x1*0x1c43+-0x59*0x16+-0x2*0xa4e),_0xdc3dde['shadowMap']&&(_0xdc3dde['shadowMap']['cached']&&_0x44edcd['add'](_0xdc3dde,_0xdc3dde['shadowMap']),_0xdc3dde['shadowMap']=null);}}const yc=new J();class sL extends Uv{constructor(_0x1e6107,_0x56250b){super(_0x1e6107['scene'],_0x56250b,_0x1e6107['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===ve?this['light']['bakeNumSam'+'ples']:-0x2f3*0x1+0x48f*0x1+0x1*-0x19b;}['prepareVir'+'tualLight'](_0x4ec253,_0x2e86da){const _0x55e0c3=this['light'];if(_0x55e0c3['_node']['setLocalRo'+'tation'](this['rotation']),_0x4ec253>-0x30*-0xad+0x22f0+-0x4360){const _0x5487ac=_0x55e0c3['bakeArea'];Nl['circlePoin'+'tDetermini'+'stic'](yc,_0x4ec253,_0x2e86da),yc['mulScalar'](_0x5487ac*(-0x1fba+0x413*0x1+0x1ba7+0.5)),_0x55e0c3['_node']['rotateLoca'+'l'](yc['x'],-0x1fd0+-0x1872+0x3842,yc['y']);}_0x55e0c3['_node']['getWorldTr'+'ansform']();const _0x4839e6=-0x1f5*0xb+-0x1fa6+0x352f+0.20000000000000018,_0x18e8f5=Math['pow'](this['intensity'],_0x4839e6);_0x55e0c3['intensity']=Math['pow'](_0x18e8f5/_0x2e86da,(-0x1*0x22bd+-0x383+0x577*0x7)/_0x4839e6);}}const Pg=new D();class Mg extends Uv{constructor(_0x1059b6){const _0x3df676=_0x1059b6['scene'],_0x390403=new lt('AmbientLig'+'ht');_0x390403['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(-0x2102+-0x21a9+0x3*0x1639),'affectLightmapped':!(-0x1007+0x10bd+-0xb5),'bake':!(-0x1dff+0x2*-0x1247+0x428d),'bakeNumSamples':_0x3df676['ambientBak'+'eNumSample'+'s'],'castShadows':!(0x6*-0x73+-0x682*0x1+0x934),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':$s,'color':ie['WHITE'],'intensity':0x1,'bakeDir':!(0x1148+0x2526+-0x1*0x366d)}),super(_0x3df676,_0x390403['light']['light'],_0x1059b6['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x4550b1,_0x15573b){Nl['spherePoin'+'tDetermini'+'stic'](Pg,_0x4550b1,_0x15573b,0xea1+0x1c8a+-0x2b2b,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](Pg['mulScalar'](-(-0x13*0xb7+-0xdd4+0x1b6a))),this['light']['_node']['rotateLoca'+'l'](0x823+0x1dc3*0x1+-0x1b*0x164,-0x1d72+-0x19*-0xc1+0xa99,-0x6c3*-0x4+-0x466*0x6+0x8*-0x15);const _0x4e6fbf=0x4*0x2b5+-0xb*-0x6d+0x93*-0x1b+0.20000000000000018,_0x1c135a=(0x1*0x1693+0x1537+-0x2bc8)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x51a535=Math['pow'](_0x1c135a,_0x4e6fbf);this['light']['intensity']=Math['pow'](_0x51a535/_0x15573b,(0x2441+-0xb7*0x2+-0x22d2*0x1)/_0x4e6fbf);}}class vc{constructor(_0xb0dab1,_0x5b0e0e=null){this['node']=_0xb0dab1,this['component']=_0xb0dab1['render']||_0xb0dab1['model'],_0x5b0e0e=_0x5b0e0e||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x5b0e0e,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const iL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0aunifor'+'m\x20sampler2'+'D\x20source;\x0a'+'uniform\x20ve'+'c2\x20pixelOf'+'fset;\x0aunif'+'orm\x20vec2\x20s'+'igmas;\x0auni'+'form\x20float'+'\x20bZnorm;\x0au'+'niform\x20flo'+'at\x20kernel['+'{MSIZE}];\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20ve'+'c4\x20pixel\x20='+'\x20texture2D'+'Lod(source'+',\x20vUv0,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20lightmap'+'\x20specific\x20'+'optimizati'+'on\x20-\x20skip\x20'+'pixels\x20tha'+'t\x20were\x20not'+'\x20baked\x0a\x20\x20\x20'+'\x20//\x20this\x20a'+'lso\x20allows'+'\x20dilate\x20fi'+'lter\x20that\x20'+'work\x20on\x20th'+'e\x20output\x20o'+'f\x20this\x20to\x20'+'work\x20corre'+'ctly,\x20as\x20i'+'t\x20depends\x20'+'on\x20.a\x20bein'+'g\x20zero\x0a\x20\x20\x20'+'\x20//\x20to\x20dil'+'ate,\x20which'+'\x20the\x20follo'+'wing\x20blur\x20'+'filter\x20wou'+'ld\x20otherwi'+'se\x20modify\x0a')+('\x20\x20\x20\x20if\x20(!i'+'sUsed(pixe'+'l))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20p'+'ixel;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20sigma\x20-'+'\x20controls\x20'+'blurriness'+'\x20based\x20on\x20'+'a\x20pixel\x20di'+'stance\x0a\x20\x20\x20'+'\x20float\x20sig'+'ma\x20=\x20sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'float\x20bSig'+'ma\x20=\x20sigma'+'s.y;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20pixel'+'Hdr\x20=\x20deco'+'de(pixel);'+'\x0a\x20\x20\x20\x20vec3\x20'+'accumulate'+'dHdr\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20float\x20ac'+'cumulatedF'+'actor\x20=\x200.'+'000001;\x20\x20/'+'/\x20avoid\x20di'+'vision\x20by\x20'+'zero\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20ou'+'t\x20the\x20texe'+'ls\x0a\x20\x20\x20\x20con'+'st\x20int\x20kSi'+'ze\x20=\x20({MSI'+'ZE}\x20-\x201)\x20/'+'\x202;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x20-kSize;\x20i'+'\x20<=\x20kSize;'+'\x20++i)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20j\x20=\x20-'+'kSize;\x20j\x20<'+'=\x20kSize;\x20+'+'+j)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sample'+'\x20the\x20pixel'+'\x20with\x20offs'+'et\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'coord\x20=\x20vU'+'v0\x20+\x20vec2('+'float(i),\x20'+'float(j))\x20'+'*\x20pixelOff'+'set;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20pix\x20=\x20te'+'xture2DLod'+'(source,\x20c'+'oord,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x20-\x20o'+'nly\x20use\x20ba'+'ked\x20pixels'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isU'+'sed(pix))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20hdr\x20=\x20d'+'ecode(pix)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20bilatera'+'l\x20factors\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20factor\x20='+'\x20kernel[kS'+'ize\x20+\x20j]\x20*'+'\x20kernel[kS')+('ize\x20+\x20i];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fact'+'or\x20*=\x20norm'+'pdf3(hdr\x20-'+'\x20pixelHdr,'+'\x20bSigma)\x20*'+'\x20bZnorm;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ccumulate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20accu'+'mulatedHdr'+'\x20+=\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20+=\x20facto'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20finalHD'+'R\x20=\x20accumu'+'latedHdr\x20/'+'\x20accumulat'+'edFactor;\x0a'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(finalHDR,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'encodeRGBM'+'(finalHDR)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a'),rL='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',aL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afn'+'\x20normpdf3('+'v:\x20vec3f,\x20'+'sigma:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x200.39894\x20'+'*\x20exp(-0.5'+'\x20*\x20dot(v,\x20'+'v)\x20/\x20(sigm'+'a\x20*\x20sigma)'+')\x20/\x20sigma;'+'\x0a}\x0a\x0afn\x20dec'+'odeRGBM(rg'+'bm:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20(8'+'.0\x20*\x20rgbm.'+'a)\x20*\x20rgbm.'+'rgb;\x0a\x20\x20\x20\x20r'+'eturn\x20colo'+'r\x20*\x20color;'+'\x0a}\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeRGBM'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'var\x20encode'+'d:\x20vec4f;\x0a'+'\x20\x20\x20\x20let\x20rg'+'b_processe'+('d\x20=\x20pow(co'+'lor.rgb,\x20v'+'ec3f(0.5))'+'\x20*\x20(1.0\x20/\x20'+'8.0);\x0a\x20\x20\x20\x20'+'encoded\x20=\x20'+'vec4f(rgb_'+'processed,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20let\x20max_'+'g_b\x20=\x20max('+'\x20encoded.g'+',\x20max(\x20enc'+'oded.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20);\x0a\x20\x20\x20\x20l'+'et\x20max_rgb'+'\x20=\x20max(\x20en'+'coded.r,\x20m'+'ax_g_b\x20);\x0a'+'\x20\x20\x20\x20encode'+'d.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20enco'+'ded.a\x20=\x20ce'+'il(encoded'+'.a\x20*\x20255.0'+')\x20/\x20255.0;'+'\x0a\x0a\x20\x20\x20\x20enco'+'ded\x20=\x20vec4'+'f(encoded.'+'rgb\x20/\x20enco'+'ded.a,\x20enc'+'oded.a);\x0a\x20'+'\x20\x20\x20return\x20'+'encoded;\x0a}'+'\x0a\x0afn\x20decod'+'e(pixel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20pixel.'+'rgb;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'decodeRGBM'+'(pixel);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a\x0afn\x20isUs'+'ed(pixel:\x20'+'vec4f)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0ava'+'r\x20source:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20sourceSam'+'pler:\x20samp'+'ler;\x0aunifo'+'rm\x20kernel:'+'\x20array<f32'+',\x20{MSIZE}>'+';\x0auniform\x20'+'pixelOffse'+'t:\x20vec2f;\x0a'+'uniform\x20si'+'gmas:\x20vec2'+'f;\x0auniform'+'\x20bZnorm:\x20f'+'32;\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20pixel\x20'+'=\x20textureS'+'ampleLevel'+'(source,\x20s'+'ourceSampl'+'er,\x20input.')+('vUv0,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'lightmap\x20s'+'pecific\x20op'+'timization'+'\x20-\x20skip\x20pi'+'xels\x20that\x20'+'were\x20not\x20b'+'aked\x0a\x20\x20\x20\x20/'+'/\x20this\x20als'+'o\x20allows\x20d'+'ilate\x20filt'+'er\x20that\x20wo'+'rk\x20on\x20the\x20'+'output\x20of\x20'+'this\x20to\x20wo'+'rk\x20correct'+'ly,\x20as\x20it\x20'+'depends\x20on'+'\x20.a\x20being\x20'+'zero\x0a\x20\x20\x20\x20/'+'/\x20to\x20dilat'+'e,\x20which\x20t'+'he\x20followi'+'ng\x20blur\x20fi'+'lter\x20would'+'\x20otherwise'+'\x20modify\x0a\x20\x20'+'\x20\x20if\x20(!isU'+'sed(pixel)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20pix'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20range\x20sig'+'ma\x20-\x20contr'+'ols\x20blurri'+'ness\x20based'+'\x20on\x20a\x20pixe'+'l\x20distance'+'\x0a\x20\x20\x20\x20let\x20s'+'igma\x20=\x20uni'+'form.sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'let\x20bSigma'+'\x20=\x20uniform'+'.sigmas.y;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'pixelHdr\x20='+'\x20decode(pi'+'xel);\x0a\x20\x20\x20\x20'+'var\x20accumu'+'latedHdr\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20var'+'\x20accumulat'+'edFactor\x20='+'\x200.000001;'+'\x20\x20//\x20avoid'+'\x20division\x20'+'by\x20zero\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20out\x20the\x20t'+'exels\x0a\x20\x20\x20\x20'+'const\x20kSiz'+'e\x20=\x20({MSIZ'+'E}\x20-\x201)\x20/\x20'+'2;\x0a\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x20-kSiz'+'e;\x20i\x20<=\x20kS'+'ize;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(var\x20j:\x20i3'+'2\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20j\x20=\x20j\x20'+'+\x201)\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20pixel\x20'+'with\x20offse'+'t\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20co'+'ord\x20=\x20inpu'+'t.vUv0\x20+\x20v'+'ec2f(f32(i')+('),\x20f32(j))'+'\x20*\x20uniform'+'.pixelOffs'+'et;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'pix\x20=\x20text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20co'+'ord,\x200.0);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x20-\x20on'+'ly\x20use\x20bak'+'ed\x20pixels\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isUs'+'ed(pix))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20hdr\x20=\x20dec'+'ode(pix);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'bilateral\x20'+'factors\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20fa'+'ctor\x20=\x20uni'+'form.kerne'+'l[u32(kSiz'+'e\x20+\x20j)].el'+'ement\x20*\x20un'+'iform.kern'+'el[u32(kSi'+'ze\x20+\x20i)].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20factor'+'\x20=\x20factor\x20'+'*\x20normpdf3'+'(hdr\x20-\x20pix'+'elHdr,\x20bSi'+'gma)\x20*\x20uni'+'form.bZnor'+'m;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20accumul'+'ate\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'accumulate'+'dHdr\x20=\x20acc'+'umulatedHd'+'r\x20+\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20=\x20accumu'+'latedFacto'+'r\x20+\x20factor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20let'+'\x20finalHDR\x20'+'=\x20accumula'+'tedHdr\x20/\x20a'+'ccumulated'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20#if\x20HDR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalHDR,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20e'+'ncodeRGBM('+'finalHDR);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),nL='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0avar\x20so'+'urce:\x20text'+'ure_2d<f32'+'>;\x0avar\x20sou'+'rceSampler'+':\x20sampler;'+'\x0auniform\x20p'+'ixelOffset'+':\x20vec2f;\x0a\x0a'+'fn\x20isUsed('+'pixel:\x20vec'+'4f)\x20->\x20boo'+'l\x20{\x0a\x20\x20\x20\x20#i'+'fdef\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0a@fr'+'agment\x0afn\x20'+'fragmentMa'+'in(input:\x20'+'FragmentIn'+'put)\x20->\x20Fr'+'agmentOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20c:\x20vec4'+'f\x20=\x20textur'+'eSampleLev'+'el(source,'+'\x20sourceSam'+'pler,\x20inpu'+'t.vUv0,\x200.'+'0);\x0a\x20\x20\x20\x20c\x20'+'=\x20select(t'+'extureSamp'+'leLevel(so'+'urce,\x20sour'+'ceSampler,'+'\x20input.vUv'+'0\x20-\x20unifor'+'m.pixelOff'+'set,\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20-un'+'iform.pixe'+'lOffset.y)'+',\x200.0),\x20c,'+'\x20isUsed(c)'+');\x0a\x20\x20\x20\x20c\x20='+'\x20select(te'+'xtureSampl'+'eLevel(sou'+'rce,\x20sourc'+'eSampler,\x20'+'input.vUv0'+'\x20+\x20vec2f(u'+'niform.pix'+'elOffset.x'+',\x20-uniform'+'.pixelOffs'+'et.y),\x200.0'+'),\x20c,\x20isUs'+'ed(c));\x0a\x20\x20'+'\x20\x20c\x20=\x20sele'+'ct(texture'+'SampleLeve'+'l(source,\x20'+'sourceSamp'+'ler,\x20input'+'.vUv0\x20+\x20ve'+'c2f(-unifo'+'rm.pixelOf'+'fset.x,\x200.'+'0),\x200.0),\x20'+'c,\x20isUsed('+'c));\x0a\x20\x20\x20\x20c'+'\x20=\x20select('+'textureSam'+'pleLevel(s'+'ource,\x20sou'+'rceSampler'+',\x20input.vU'+'v0\x20+\x20vec2f'+'(uniform.p'+('ixelOffset'+'.x,\x200.0),\x20'+'0.0),\x20c,\x20i'+'sUsed(c));'+'\x0a\x20\x20\x20\x20c\x20=\x20s'+'elect(text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20in'+'put.vUv0\x20+'+'\x20vec2f(-un'+'iform.pixe'+'lOffset.x,'+'\x20uniform.p'+'ixelOffset'+'.y),\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20uni'+'form.pixel'+'Offset.y),'+'\x200.0),\x20c,\x20'+'isUsed(c))'+';\x0a\x20\x20\x20\x20c\x20=\x20'+'select(tex'+'tureSample'+'Level(sour'+'ce,\x20source'+'Sampler,\x20i'+'nput.vUv0\x20'+'+\x20uniform.'+'pixelOffse'+'t,\x200.0),\x20c'+',\x20isUsed(c'+'));\x0a\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20FragmentO'+'utput;\x0a\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20c;\x0a\x20'+'\x20\x20\x20return\x20'+'output;\x0a}\x0a'),Dg=0x1274+-0x132d+0xc8,oL={'glslBilateralDeNoisePS':iL,'glslDilatePS':rL},lL={'wgslBilateralDeNoisePS':aL,'wgslDilatePS':nL};class cL{constructor(_0x492611){h(this,'shaderDila'+'te',[]),h(this,'shaderDeno'+'ise',[]),(this['device']=_0x492611,Pe['get'](this['device'],Fe)['add'](oL),Pe['get'](this['device'],it)['add'](lL),this['constantTe'+'xSource']=_0x492611['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0x492611['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(-0xc6d+0xe0c+-0x19d),this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null);}['setSourceT'+'exture'](_0x3dbd4f){this['constantTe'+'xSource']['setValue'](_0x3dbd4f);}['prepare'](_0xade98,_0x4df9d6){this['pixelOffse'+'t'][-0x82c*0x1+0x17eb*-0x1+-0x66b*-0x5]=(-0x203a+0x1*-0x759+-0x254*-0x11)/_0xade98,this['pixelOffse'+'t'][-0xb*-0x241+0xaef*-0x3+0x803]=(-0x11ef+0x1696+-0x2*0x253)/_0x4df9d6,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x5a896e,_0xa85975,_0x1e963e){const _0x4909ab=_0x1e963e?0x7*-0x327+-0x3*-0x9d+-0x35f*-0x6:-0x31a*0x9+0x2651+0x2*-0x533;if(!this['shaderDeno'+'ise'][_0x4909ab]){const _0xf53925=new Map();_0xf53925['set']('{MSIZE}',0x2023+-0x9f*0x31+0x1a5*-0x1),_0x1e963e&&_0xf53925['set']('HDR',''),this['shaderDeno'+'ise'][_0x4909ab]=$t['createShad'+'er'](this['device'],{'uniqueName':'lmBilatera'+'lDeNoise-'+(_0x1e963e?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('glslBilate'+'ralDeNoise'+'PS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('wgslBilate'+'ralDeNoise'+'PS'),'fragmentDefines':_0xf53925}),this['sigmas']=new Float32Array(0xf79+0x2cb*-0x1+-0xcac*0x1),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][-0x1d4a+-0x17ee+0x3538]=_0x5a896e,this['sigmas'][0x7d8+0x1fc5+0xc*-0x34d]=_0xa85975,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x5a896e,_0xa85975);}['getDenoise'](_0x25ede4){const _0x46177e=_0x25ede4?-0x5*-0x203+-0x257e+0x1b6f:0xa39+0xd59+-0x1791;return this['shaderDeno'+'ise'][_0x46177e];}['getDilate'](_0xf4da49,_0xd4da60){const _0x1d3966=_0xd4da60?-0x2f6+-0x259+0x54f:0x587+0x9fb+0x237*-0x7;if(!this['shaderDila'+'te'][_0x1d3966]){const _0xdaa227=_0xd4da60?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x1d3966]=$t['createShad'+'er'](_0xf4da49,{'uniqueName':'lmDilate-'+(_0xd4da60?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':_0xdaa227+Pe['get'](this['device'],Fe)['get']('glslDilate'+'PS'),'fragmentWGSL':_0xdaa227+Pe['get'](this['device'],it)['get']('wgslDilate'+'PS')});}return this['shaderDila'+'te'][_0x1d3966];}['evaluateDe'+'noiseUnifo'+'rms'](_0x3667d4,_0x5f4242){function _0x2b4549(_0x31a537,_0x19b203){return(-0x86a+-0x101f*0x2+-0x2*-0x1454+0.39894)*Math['exp'](-(-0x647*-0x2+0x1ab7+-0x2745+0.5)*_0x31a537*_0x31a537/(_0x19b203*_0x19b203))/_0x19b203;}this['kernel']=this['kernel']||new Float32Array(Dg);const _0x325343=this['kernel'],_0x22ff44=Math['floor']((Dg-(-0x55f*-0x3+0x23ed+-0x3409))/(0x1*-0x134b+-0x1859+-0x25*-0x12e));for(let _0x5ebcb4=0x9*-0x1f1+0x2441*-0x1+0x35ba;_0x5ebcb4<=_0x22ff44;++_0x5ebcb4){const _0x2e78f7=_0x2b4549(_0x5ebcb4,_0x3667d4);_0x325343[_0x22ff44+_0x5ebcb4]=_0x2e78f7,_0x325343[_0x22ff44-_0x5ebcb4]=_0x2e78f7;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x16783b=(0xb0a+0x1*-0x171a+0xc11*0x1)/_0x2b4549(-0x15b*0x5+-0x16c8+0x1d8f,_0x5f4242);this['bZnorm']['setValue'](_0x16783b);}}class hL extends ys{constructor(_0x2c8045,_0x3de6bc,_0x5b42f1,_0x28534c,_0x1a3a72,_0x1d5026){super(_0x2c8045),h(this,'viewBindGr'+'oups',[]),(this['renderer']=_0x3de6bc,this['camera']=_0x5b42f1,this['worldClust'+'ers']=_0x28534c,this['receivers']=_0x1a3a72,this['lightArray']=_0x1d5026);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x10d575=>{_0x10d575['defaultUni'+'formBuffer']['destroy'](),_0x10d575['destroy']();}),this['viewBindGr'+'oups']['length']=0x175d+0xf73+-0x26d0;}['execute'](){const _0x22cfbc=this['device'];Q['pushGpuMar'+'ker'](_0x22cfbc,'Lightmappe'+'r');const {renderer:_0x56bbb9,camera:_0x3e30f5,receivers:_0x23d844,renderTarget:_0x47f402,worldClusters:_0x27bfc8,lightArray:_0x12c049}=this;_0x56bbb9['renderForw'+'ardLayer'](_0x3e30f5,_0x47f402,null,void(-0x1a0e+0xbeb+0xe23),Aa,this['viewBindGr'+'oups'],{'meshInstances':_0x23d844,'splitLights':_0x12c049,'lightClusters':_0x27bfc8}),Q['popGpuMark'+'er'](_0x22cfbc);}}const dL=0x1*0x20e8+-0x1098+-0x850,fL=-0x9*-0x2a9+-0x4*0x14e+0x12b9*-0x1,uL=0xd*-0x83+0x1*0x4ca+0x1de,xc=new D();class pL{constructor(_0x1de2f0,_0xe1f408,_0x2fa654,_0x411662,_0x9a59eb){this['device']=_0x1de2f0,this['root']=_0xe1f408,this['scene']=_0x2fa654,this['renderer']=_0x411662,this['assets']=_0x9a59eb,this['shadowMapC'+'ache']=_0x411662['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(0x262a+-0x24ae+-0x17b),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new ie(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x2559cd;zi['decRef'](this['blackTex']),this['blackTex']=null,zi['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x2559cd=this['camera'])==null||_0x2559cd['destroy'](),this['camera']=null;}['initBake'](_0x22d1ec){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Ne,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(-0xc*0x337+-0x2e3+0x37*0xc1),this['lightmapFi'+'lters']=new cL(_0x22d1ec),this['constantBa'+'keDir']=_0x22d1ec['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new _e(this['device'],{'width':0x4,'height':0x4,'format':Ne,'type':Zi,'name':'lightmapBl'+'ack'}),zi['incRef'](this['blackTex']);const _0xc82649=new Fl();_0xc82649['clearColor']['set'](0x1bd2+0x12f*0x1+-0x1d01,0x1bd0+0x15*0x167+-0x3943*0x1,0x23c4+-0x185*-0xe+-0x390a,-0x2377+0xb7d+0x17fa),_0xc82649['clearColor'+'Buffer']=!(-0x97b*0x3+0x192e+-0x5*-0xa7),_0xc82649['clearDepth'+'Buffer']=!(0x1e11*0x1+0x1*-0x110b+0x12f*-0xb),_0xc82649['clearStenc'+'ilBuffer']=!(0x34d*0x3+0xab2*0x3+-0x29fc),_0xc82649['frustumCul'+'ling']=!(0x13*0x119+-0x11d4+0x56*-0x9),_0xc82649['projection']=En,_0xc82649['aspectRati'+'o']=-0x537*-0x1+0x2*-0x1253+-0x7dc*-0x4,_0xc82649['node']=new Ie(),this['camera']=_0xc82649,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=Ll,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=sm;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x207e53=new Mv(_0x22d1ec['supportsAr'+'eaLights'],_0x22d1ec['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x207e53;const _0x1df080=this['scene']['lighting'];_0x207e53['shadowsEna'+'bled']=_0x1df080['shadowsEna'+'bled'],_0x207e53['shadowAtla'+'sResolutio'+'n']=_0x1df080['shadowAtla'+'sResolutio'+'n'],_0x207e53['cookiesEna'+'bled']=_0x1df080['cookiesEna'+'bled'],_0x207e53['cookieAtla'+'sResolutio'+'n']=_0x1df080['cookieAtla'+'sResolutio'+'n'],_0x207e53['areaLights'+'Enabled']=_0x1df080['areaLights'+'Enabled'],_0x207e53['cells']=new D(-0x13*-0x139+-0xb5*0xa+-0x1026,0x841*0x1+0x1b*-0x1e+-0x514,-0x607*0x5+-0xb09*-0x1+0xe9*0x15),_0x207e53['maxLightsP'+'erCell']=0x2*0x1225+-0x21fa+-0x24c,this['worldClust'+'ers']=new cu(_0x22d1ec),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x3d8735){this['materials']=[];function _0x21fd84(_0x29f031){zi['decRef'](_0x29f031['colorBuffe'+'r']),_0x29f031['destroy']();}this['renderTarg'+'ets']['forEach'](_0x919a40=>{_0x21fd84(_0x919a40);}),this['renderTarg'+'ets']['clear'](),_0x3d8735['forEach'](_0xd6e90=>{_0xd6e90['renderTarg'+'ets']['forEach'](_0x5f64bd=>{_0x21fd84(_0x5f64bd);}),_0xd6e90['renderTarg'+'ets']['length']=0xc7a+-0xbc6+0x12*-0xa;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0x45a2f0,_0x2c4a16,_0x525aa6){const _0x1f9cae=new Ut();return _0x1f9cae['name']='lmMaterial'+'-pass:'+_0x2c4a16+'-ambient:'+_0x525aa6,_0x1f9cae['setDefine']('UV1LAYOUT',''),_0x1f9cae['setDefine']('LIT_LIGHTM'+'AP_BAKING',''),_0x2c4a16===fL?(_0x1f9cae['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'COLOR',''),_0x525aa6?_0x1f9cae['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'ADD_AMBIEN'+'T',''):_0x1f9cae['ambient']=new ie(0xa11*-0x3+0x1993+0x4a0,0x231d*0x1+0x967*-0x3+-0x1*0x6e8,0x1575+0x1*0x10c9+-0x263e),this['bakeHDR']||_0x1f9cae['setDefine']('LIGHTMAP_R'+'GBM',''),_0x1f9cae['lightMap']=this['blackTex']):(_0x1f9cae['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'DIR',''),_0x1f9cae['setDefine']('STD_LIGHTM'+'AP_DIR','')),_0x1f9cae['cull']=bt,_0x1f9cae['forceUv1']=!(0x155+0x1482+-0x15d7),_0x1f9cae['update'](),_0x1f9cae;}['createMate'+'rials'](_0x142e91,_0x1c97bc,_0x48eea9){for(let _0x1f0342=-0x1f0b+-0x1*0x8c3+0x3fb*0xa;_0x1f0342<_0x48eea9;_0x1f0342++)this['passMateri'+'als'][_0x1f0342]||(this['passMateri'+'als'][_0x1f0342]=this['createMate'+'rialForPas'+'s'](_0x1c97bc,_0x1f0342,!(0xb2f*-0x1+-0xc3f+0x176f)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x1c97bc,0x313*0xb+0x1242+-0x3413*0x1,!(-0xfc6+0x838+0x2*0x3c7)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x561d1d){return _0x561d1d['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0xe71*0x2+-0x1a1b+0x36fd),_0x561d1d['litOptions']['separateAm'+'bient']=!(0x1*-0xd13+0xa03*-0x2+0x2119),_0x561d1d;});}['createText'+'ure'](_0x1fdf55,_0x2045e5){return new _e(this['device'],{'profilerHint':vy,'width':_0x1fdf55,'height':_0x1fdf55,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(-0x185*0x12+-0x18f2*0x1+0x116f*0x3),'type':this['bakeHDR']?Ds:Zi,'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0x2045e5});}['collectMod'+'els'](_0x3bf0aa,_0x4abeaa,_0x528e30){var _0x3212ba,_0x55071d,_0x2bbacf;if(!_0x3bf0aa['enabled'])return;let _0xd82daa;if((_0x3212ba=_0x3bf0aa['model'])!=null&&_0x3212ba['model']&&((_0x55071d=_0x3bf0aa['model'])!=null&&_0x55071d['enabled'])&&(_0x528e30&&_0x528e30['push'](new vc(_0x3bf0aa)),_0x3bf0aa['model']['lightmappe'+'d']&&_0x4abeaa&&(_0xd82daa=_0x3bf0aa['model']['model']['meshInstan'+'ces'])),(_0x2bbacf=_0x3bf0aa['render'])!=null&&_0x2bbacf['enabled']&&(_0x528e30&&_0x528e30['push'](new vc(_0x3bf0aa)),_0x3bf0aa['render']['lightmappe'+'d']&&_0x4abeaa&&(_0xd82daa=_0x3bf0aa['render']['meshInstan'+'ces'])),_0xd82daa){let _0x43d190=!(-0x1d1*-0x4+0x24*-0x5d+-0x6*-0xf8);for(let _0x2070dc=0x11*0x1a1+0x4ad+0x205e*-0x1;_0x2070dc<_0xd82daa['length'];_0x2070dc++)if(!_0xd82daa[_0x2070dc]['mesh']['vertexBuff'+'er']['format']['hasUv1']){w['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x3bf0aa['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x43d190=!(-0x109d*-0x2+-0x1b48+-0x5f1);break;}if(_0x43d190){const _0x1c7b07=[];for(let _0x248c3e=0x2*0x94+0x140b*0x1+0x3*-0x711;_0x248c3e<_0xd82daa['length'];_0x248c3e++){const _0x4d5e74=_0xd82daa[_0x248c3e]['mesh'];this['_tempSet']['has'](_0x4d5e74)?_0x4abeaa['push'](new vc(_0x3bf0aa,[_0xd82daa[_0x248c3e]])):_0x1c7b07['push'](_0xd82daa[_0x248c3e]),this['_tempSet']['add'](_0x4d5e74);}this['_tempSet']['clear'](),_0x1c7b07['length']>0x1e6d+-0x34*0xa3+0x2af&&_0x4abeaa['push'](new vc(_0x3bf0aa,_0x1c7b07));}}for(let _0x25f502=-0x1969+0x7b0+0x11b9*0x1;_0x25f502<_0x3bf0aa['_children']['length'];_0x25f502++)this['collectMod'+'els'](_0x3bf0aa['_children'][_0x25f502],_0x4abeaa,_0x528e30);}['prepareSha'+'dowCasters'](_0x444c83){const _0x43bc10=[];for(let _0x4d3b9e=-0x1a64+-0x1*0x1614+-0xbc*-0x42;_0x4d3b9e<_0x444c83['length'];_0x4d3b9e++){const _0x2f208e=_0x444c83[_0x4d3b9e]['component'];if(_0x2f208e['castShadow'+'s']=_0x2f208e['castShadow'+'sLightmap'],_0x2f208e['castShadow'+'sLightmap']){const _0x489ead=_0x444c83[_0x4d3b9e]['meshInstan'+'ces'];for(let _0x32af67=0xa24+0x1799+-0xb3f*0x3;_0x32af67<_0x489ead['length'];_0x32af67++)_0x489ead[_0x32af67]['visibleThi'+'sFrame']=!(-0x123b+-0x61*0x65+-0x1*-0x3880),_0x43bc10['push'](_0x489ead[_0x32af67]);}}return _0x43bc10;}['updateTran'+'sforms'](_0x1946ac){for(let _0x44096c=-0x4fb*0x1+0x1f09+-0x5*0x536;_0x44096c<_0x1946ac['length'];_0x44096c++){const _0x2097f9=_0x1946ac[_0x44096c]['meshInstan'+'ces'];for(let _0x80b200=-0xd2+-0x23*-0xe0+-0x1dce;_0x80b200<_0x2097f9['length'];_0x80b200++)_0x2097f9[_0x80b200]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x2315dc){let _0x3371e2;const _0x55bba5=this['scene']['lightmapSi'+'zeMultipli'+'er']||0x4*0xe7+0x1a1a+0x2*-0xed3,_0x17499d=xc;let _0x2e48b6,_0x357a01;_0x2315dc['model']?(_0x357a01=_0x2315dc['model']['lightmapSi'+'zeMultipli'+'er'],_0x2315dc['model']['asset']?(_0x3371e2=this['assets']['get'](_0x2315dc['model']['asset'])['data'],_0x3371e2['area']&&(_0x2e48b6=_0x3371e2['area'])):_0x2315dc['model']['_area']&&(_0x3371e2=_0x2315dc['model'],_0x3371e2['_area']&&(_0x2e48b6=_0x3371e2['_area']))):_0x2315dc['render']&&(_0x357a01=_0x2315dc['render']['lightmapSi'+'zeMultipli'+'er'],_0x2315dc['render']['type']!=='asset'&&_0x2315dc['render']['_area']&&(_0x3371e2=_0x2315dc['render'],_0x3371e2['_area']&&(_0x2e48b6=_0x3371e2['_area'])));const _0x575264={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x2e48b6&&(_0x575264['x']=_0x2e48b6['x'],_0x575264['y']=_0x2e48b6['y'],_0x575264['z']=_0x2e48b6['z'],_0x575264['uv']=_0x2e48b6['uv']);const _0x5abdfe=_0x357a01||-0x10a2+0x788*-0x1+0x1*0x182b;_0x575264['x']*=_0x5abdfe,_0x575264['y']*=_0x5abdfe,_0x575264['z']*=_0x5abdfe;const _0x56b9a8=_0x2315dc['render']||_0x2315dc['model'],_0x546e6f=this['computeNod'+'eBounds'](_0x56b9a8['meshInstan'+'ces']);_0x17499d['copy'](_0x546e6f['halfExtent'+'s']);let _0x37a28f=_0x575264['x']*_0x17499d['y']*_0x17499d['z']+_0x575264['y']*_0x17499d['x']*_0x17499d['z']+_0x575264['z']*_0x17499d['x']*_0x17499d['y'];return _0x37a28f/=_0x575264['uv'],_0x37a28f=Math['sqrt'](_0x37a28f),Math['min'](Y['nextPowerO'+'fTwo'](_0x37a28f*_0x55bba5),this['scene']['lightmapMa'+'xResolutio'+'n']||dL);}['setLightma'+'pping'](_0x6dd961,_0x617725,_0xb5dcc8,_0x567059){for(let _0x36087d=-0x4c*0x3d+-0x3*-0x4bb+0x3eb;_0x36087d<_0x6dd961['length'];_0x36087d++){const _0x2ac40e=_0x6dd961[_0x36087d],_0x5c79c5=_0x2ac40e['meshInstan'+'ces'];for(let _0x1c0cad=-0x239+0xbf5*0x2+-0x15b1;_0x1c0cad<_0x5c79c5['length'];_0x1c0cad++){const _0x41926e=_0x5c79c5[_0x1c0cad];if(_0x41926e['setLightma'+'pped'](_0x617725),_0x617725){_0x567059&&(_0x41926e['_shaderDef'+'s']|=_0x567059),_0x41926e['mask']=di;for(let _0x1acd37=-0xe99+-0x1*-0x4a2+0x1*0x9f7;_0x1acd37<_0xb5dcc8;_0x1acd37++){const _0xe87e44=_0x2ac40e['renderTarg'+'ets'][_0x1acd37]['colorBuffe'+'r'];_0xe87e44['minFilter']=vt,_0xe87e44['magFilter']=vt,_0x41926e['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0x1acd37],_0xe87e44);}}}}}['bake'](_0x1f2099,_0x3f57ef=jc){const _0x9f8231=this['device'],_0x2c5ff7=de();this['scene']['_updateSky'+'Mesh'](),_0x9f8231['fire']('lightmappe'+'r:start',{'timestamp':_0x2c5ff7,'target':this}),this['stats']['renderPass'+'es']=0x49f+-0x173c+0x129d,this['stats']['shadowMapT'+'ime']=0x2*0x5b9+0x2106+-0x2c78,this['stats']['forwardTim'+'e']=-0xa00+0x1*-0x1186+0xdc3*0x2;const _0x1cafa7=_0x9f8231['_shaderSta'+'ts']['linked'],_0x36542b=_0x9f8231['_renderTar'+'getCreatio'+'nTime'],_0x23abb2=_0x9f8231['_shaderSta'+'ts']['compileTim'+'e'],_0x20f7ef=[],_0x1a4186=[];if(_0x1f2099){for(let _0x158207=-0x2646+0x8*-0x151+0x30ce;_0x158207<_0x1f2099['length'];_0x158207++)this['collectMod'+'els'](_0x1f2099[_0x158207],_0x20f7ef,null);this['collectMod'+'els'](this['root'],null,_0x1a4186);}else this['collectMod'+'els'](this['root'],_0x20f7ef,_0x1a4186);if(Q['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x20f7ef['length']>-0x3*-0xb07+0x14f4+0x1dd*-0x1d){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0x40fb33=_0x3f57ef===jc?0x1283+0x2441+-0x36c2:0x2353+-0x2*-0x560+0x1709*-0x2;this['setLightma'+'pping'](_0x20f7ef,!(-0x1461+-0x18d6+0x2d38),_0x40fb33),this['initBake'](_0x9f8231),this['bakeIntern'+'al'](_0x40fb33,_0x20f7ef,_0x1a4186);let _0x104973=ou;_0x3f57ef===jc&&(_0x104973|=uv),this['scene']['ambientBak'+'e']&&(_0x104973|=pv),this['setLightma'+'pping'](_0x20f7ef,!(-0x17*-0x107+-0xe2*-0x22+-0x35a5),_0x40fb33,_0x104973),this['finishBake'](_0x20f7ef);}Q['popGpuMark'+'er'](this['device']);const _0x5f14b1=de();this['stats']['totalRende'+'rTime']=_0x5f14b1-_0x2c5ff7,this['stats']['shadersLin'+'ked']=_0x9f8231['_shaderSta'+'ts']['linked']-_0x1cafa7,this['stats']['compileTim'+'e']=_0x9f8231['_shaderSta'+'ts']['compileTim'+'e']-_0x23abb2,this['stats']['fboTime']=_0x9f8231['_renderTar'+'getCreatio'+'nTime']-_0x36542b,this['stats']['lightmapCo'+'unt']=_0x20f7ef['length'],_0x9f8231['fire']('lightmappe'+'r:end',{'timestamp':_0x5f14b1,'target':this});}['allocateTe'+'xtures'](_0x4a6260,_0x2ed6ba){for(let _0x2fdd1d=-0x2c9+0x1945+-0xb3e*0x2;_0x2fdd1d<_0x4a6260['length'];_0x2fdd1d++){const _0xe897d5=_0x4a6260[_0x2fdd1d],_0x220e6f=this['calculateL'+'ightmapSiz'+'e'](_0xe897d5['node']);for(let _0x205076=-0x2015+-0x2b0+0x22c5;_0x205076<_0x2ed6ba;_0x205076++){const _0x34343d=this['createText'+'ure'](_0x220e6f,'lightmappe'+'r_lightmap'+'_'+_0x2fdd1d);zi['incRef'](_0x34343d),_0xe897d5['renderTarg'+'ets'][_0x205076]=new gt({'colorBuffer':_0x34343d,'depth':!(0x1a41+0x1db7*-0x1+-0x377*-0x1)});}if(!this['renderTarg'+'ets']['has'](_0x220e6f)){const _0x126020=this['createText'+'ure'](_0x220e6f,'lightmappe'+'r_temp_lig'+'htmap_'+_0x220e6f);zi['incRef'](_0x126020),this['renderTarg'+'ets']['set'](_0x220e6f,new gt({'colorBuffer':_0x126020,'depth':!(-0x3*-0x259+-0x4ee+-0x21c)}));}}}['prepareLig'+'htsToBake'](_0x486f1c,_0x1d0618){if(this['scene']['ambientBak'+'e']){const _0x847b56=new Mg(this);_0x1d0618['push'](_0x847b56);}const _0x207795=this['renderer']['lights'];for(let _0x20f90e=0x1*-0x11ed+-0x58*-0x4f+-0x93b*0x1;_0x20f90e<_0x207795['length'];_0x20f90e++){const _0x491973=_0x207795[_0x20f90e],_0x5dd343=new sL(this,_0x491973);_0x486f1c['push'](_0x5dd343),_0x491973['enabled']&&(_0x491973['mask']&fi)!==0xfc6+0x2*-0x4ed+-0x2f6*0x2&&(_0x491973['mask']=fi|di|Ss,_0x491973['shadowUpda'+'teMode']=_0x491973['type']===ve?lm:xr,_0x1d0618['push'](_0x5dd343));}_0x1d0618['sort']();}['restoreLig'+'hts'](_0x3a60b2){for(let _0x3257a0=-0x3e7*-0x1+-0x8b*0x2b+0x1372;_0x3257a0<_0x3a60b2['length'];_0x3257a0++)_0x3a60b2[_0x3257a0]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](0xb80*0x2+-0x18e5+0x1e5,-0x19c2+-0xb*0x251+-0xd*-0x3f1,0x938+0x7*-0x299+0x8f7),this['renderer']['setSceneCo'+'nstants'](),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Contrast')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Contrast']),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Brightness')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Brightness']);}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0x4d2dfd){const _0x3523ac=new De();if(_0x4d2dfd['length']>-0x4e*0x9+0x685*0x3+-0x35d*0x5){_0x3523ac['copy'](_0x4d2dfd[0x1*0xf2c+0x1*-0x254a+0xb0f*0x2]['aabb']);for(let _0x189617=-0x13*0x15d+0x892+0x1*0x1156;_0x189617<_0x4d2dfd['length'];_0x189617++)_0x3523ac['add'](_0x4d2dfd[_0x189617]['aabb']);}return _0x3523ac;}['computeNod'+'esBounds'](_0x42c7c7){for(let _0x31aadf=-0x1337*-0x1+0x859*0x4+-0x349b*0x1;_0x31aadf<_0x42c7c7['length'];_0x31aadf++){const _0x18e0cb=_0x42c7c7[_0x31aadf]['meshInstan'+'ces'];_0x42c7c7[_0x31aadf]['bounds']=this['computeNod'+'eBounds'](_0x18e0cb);}}['computeBou'+'nds'](_0x37a3f7){const _0xabafd7=new De();for(let _0x3a3404=0x10ed+-0x4b6*0x7+-0x100d*-0x1;_0x3a3404<_0x37a3f7['length'];_0x3a3404++){_0xabafd7['copy'](_0x37a3f7[0x1a3f*-0x1+-0xe81*-0x1+-0xbbe*-0x1]['aabb']);for(let _0x185312=-0x25ab+0x714+0x2*0xf4c;_0x185312<_0x37a3f7['length'];_0x185312++)_0xabafd7['add'](_0x37a3f7[_0x185312]['aabb']);}return _0xabafd7;}['backupMate'+'rials'](_0x5098de){for(let _0x457e75=-0x1804+0xe3a*-0x1+-0x131f*-0x2;_0x457e75<_0x5098de['length'];_0x457e75++)this['materials'][_0x457e75]=_0x5098de[_0x457e75]['material'];}['restoreMat'+'erials'](_0xc2342d){for(let _0x257038=0x1efd+0x1c0+-0x20bd*0x1;_0x257038<_0xc2342d['length'];_0x257038++)_0xc2342d[_0x257038]['material']=this['materials'][_0x257038];}['lightCamer'+'aPrepare'](_0x43c225,_0x5b0cd5){const _0x5de81d=_0x5b0cd5['light'];let _0x4d6ae9;return _0x5de81d['type']===Ze&&(_0x4d6ae9=_0x5de81d['getRenderD'+'ata'](null,-0x1ecd+0x7c0+0x7af*0x3)['shadowCame'+'ra'],_0x4d6ae9['_node']['setPositio'+'n'](_0x5de81d['_node']['getPositio'+'n']()),_0x4d6ae9['_node']['setRotatio'+'n'](_0x5de81d['_node']['getRotatio'+'n']()),_0x4d6ae9['_node']['rotateLoca'+'l'](-(0x5f*-0x14+-0x1*-0x257f+0x7*-0x43f),-0x14db+-0x1*-0x2375+-0x4de*0x3,-0x687*0x2+0x137*0x7+0x48d),_0x4d6ae9['projection']=ni,_0x4d6ae9['nearClip']=_0x5de81d['attenuatio'+'nEnd']/(0xc*-0x22+0x2557+0xd1*-0x27),_0x4d6ae9['farClip']=_0x5de81d['attenuatio'+'nEnd'],_0x4d6ae9['aspectRati'+'o']=-0x1232+-0x2*-0x137a+0x14c1*-0x1,_0x4d6ae9['fov']=_0x5de81d['_outerCone'+'Angle']*(-0x1*-0x1f83+0xbf*-0x4+0x7*-0x413),this['renderer']['updateCame'+'raFrustum'](_0x4d6ae9)),_0x4d6ae9;}['lightCamer'+'aPrepareAn'+'dCull'](_0x293186,_0x39b3f5,_0x49ad85,_0x2ab42c){const _0x62384e=_0x293186['light'];let _0x5deb4f=!(-0xa7d*-0x1+-0x191f+0x2*0x751);if(_0x62384e['type']===ve){xc['copy'](_0x2ab42c['center']),xc['y']+=_0x2ab42c['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n'](xc),this['camera']['node']['setEulerAn'+'gles'](-(-0x15fb*0x1+-0x3ac+0x1a01),0x120b*0x2+0x124+0x129d*-0x2,0x9da+0x1*-0xa9+-0x931),this['camera']['nearClip']=0x2655+0x1826+-0x1*0x3e7b,this['camera']['farClip']=_0x2ab42c['halfExtent'+'s']['y']*(0x52c*0x7+-0x6*0xaf+-0x1a*0x13c);const _0x280e74=Math['max'](_0x2ab42c['halfExtent'+'s']['x'],_0x2ab42c['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0x280e74;}else _0x293186['lightBound'+'s']['intersects'](_0x39b3f5['bounds'])||(_0x5deb4f=!(0x8db*0x4+-0x133b+-0x1030*0x1));if(_0x62384e['type']===Ze){let _0x2bdcb8=!(0xb*-0x1+-0x155f*0x1+0x1*0x156b);const _0x15e3d2=_0x39b3f5['meshInstan'+'ces'];for(let _0x56676b=-0xb*-0x1c4+-0x865*-0x4+-0x3500;_0x56676b<_0x15e3d2['length'];_0x56676b++)if(_0x15e3d2[_0x56676b]['_isVisible'](_0x49ad85)){_0x2bdcb8=!(-0x1*-0x72a+-0x2304+0x1*0x1bda);break;}_0x2bdcb8||(_0x5deb4f=!(-0x1*-0x7cf+0xa*-0x73+-0x350));}return _0x5deb4f;}['setupLight'+'Array'](_0x557d15,_0x1a99dd){_0x557d15[ve]['length']=0x1*0x1120+0x331*-0x1+-0x7b*0x1d,_0x557d15[Ke]['length']=-0x26cd+0x9e8*-0x2+0x3a9d,_0x557d15[Ze]['length']=0x1*0x1507+0x10*0x233+-0x3837,_0x557d15[_0x1a99dd['type']][0x1*-0x4fd+0x13c+-0x3c1*-0x1]=_0x1a99dd,_0x1a99dd['visibleThi'+'sFrame']=!(0x1*0x15c3+-0x1ac6+0x503);}['renderShad'+'owMap'](_0xa44ee8,_0x5f54e2,_0x2af406,_0x38659d){const _0x46157c=_0x38659d['light'],_0x30c580=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x4fff7e=_0x46157c['castShadow'+'s']&&(!_0x30c580||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x5f54e2&&_0x4fff7e){if(!_0x46157c['shadowMap']&&!_0x30c580&&(_0x46157c['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x46157c)),_0x46157c['type']===ve){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x46157c,_0xa44ee8,this['camera'],_0x2af406);const _0x181cc6=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x46157c,this['camera']);_0x181cc6==null||_0x181cc6['render']();}else{if(this['device']['isWebGPU'])return w['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(0x6f1*0x5+-0x129+-0x218c);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x46157c,_0xa44ee8,_0x2af406),this['renderer']['shadowRend'+'erer']['render'](_0x46157c,this['camera'],!(-0x1f64+0x2*0x6dd+-0x1*-0x11ab));}}return!(0x547+-0x897*0x4+0x1d15);}['postproces'+'sTextures'](_0x46678f,_0x846a74,_0xc9ae5e){const _0x143c60=this['lightmapFi'+'lters']['getDilate'](_0x46678f,this['bakeHDR']);let _0x393f18;const _0x53e4b2=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x53e4b2&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x393f18=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x46678f['setBlendSt'+'ate'](pt['NOBLEND']),_0x46678f['setDepthSt'+'ate'](Yt['NODEPTH']),_0x46678f['setStencil'+'State'](null,null);for(let _0x3b95a6=-0x1ca*0x5+-0x24ed+0x2ddf;_0x3b95a6<_0x846a74['length'];_0x3b95a6++){const _0x412d2d=_0x846a74[_0x3b95a6];Q['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x3b95a6);for(let _0x7960db=-0x2334+0x6*0x205+0x1716;_0x7960db<_0xc9ae5e;_0x7960db++){const _0x5dd326=_0x412d2d['renderTarg'+'ets'][_0x7960db],_0x530ea1=_0x5dd326['colorBuffe'+'r'],_0x535aec=this['renderTarg'+'ets']['get'](_0x530ea1['width']),_0x493617=_0x535aec['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x530ea1['width'],_0x530ea1['height']);for(let _0xed5186=-0x2265+-0x1eca+0x412f;_0xed5186<-0x1413+-0xb55*-0x2+-0x296;_0xed5186++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x530ea1),Ar(_0x46678f,_0x535aec,_0x53e4b2&&_0x7960db===-0x2032+0x2e3+0x1d4f&&_0xed5186===-0x1962+-0x25*-0x3+0x851*0x3?_0x393f18:_0x143c60),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x493617),Ar(_0x46678f,_0x5dd326,_0x143c60);}Q['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x5b480f,_0x4691f2,_0xe827df){const _0x27d98e=this['scene'],_0x57f0bb=_0x27d98e['layers'],_0x162b8b=this['device'],_0xe62458=_0x27d98e['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x162b8b,_0x27d98e,_0x5b480f),this['setupScene'](),_0x57f0bb['_update'](),this['computeNod'+'esBounds'](_0x4691f2),this['allocateTe'+'xtures'](_0x4691f2,_0x5b480f),this['renderer']['collectLig'+'hts'](_0x57f0bb);const _0x28f244=[],_0x4fbca8=[];this['prepareLig'+'htsToBake'](_0x28f244,_0x4fbca8),this['updateTran'+'sforms'](_0xe827df);const _0x6f8a22=this['prepareSha'+'dowCasters'](_0xe827df);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x6f8a22),this['renderer']['gpuUpdate'](_0x6f8a22);const _0x10f920=this['computeBou'+'nds'](_0x6f8a22);let _0x287b9a,_0x26bc42,_0x140b61,_0x172b5d;for(_0x287b9a=-0x8b+-0x116f+0x11fa;_0x287b9a<_0x4691f2['length'];_0x287b9a++)for(_0x140b61=_0x4691f2[_0x287b9a]['meshInstan'+'ces'],_0x26bc42=0x26*-0x90+0x101*0x1+0x7*0x2e9;_0x26bc42<_0x140b61['length'];_0x26bc42++)_0x172b5d=_0x140b61[_0x26bc42],_0x172b5d['setLightma'+'pped'](!(0x48e+0x11f6+-0x1683)),_0x172b5d['mask']=fi,_0x172b5d['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][0xc9b+0x79d*-0x1+-0x4fe],this['blackTex']),_0x172b5d['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][-0x19ee+-0x12c2*0x1+-0x1*-0x2cb1],this['blackTex']);for(_0x26bc42=-0x31*0x96+-0x3c+0x5f*0x4e;_0x26bc42<_0x4fbca8['length'];_0x26bc42++)_0x4fbca8[_0x26bc42]['light']['enabled']=!(0x21ce*0x1+0x20b6+-0x4283*0x1);const _0x38caea=[[],[],[]];let _0x458300,_0x2a92ac,_0x5599cb=!(0x9e0+0x2*0xa04+0x5fb*-0x5);for(_0x287b9a=-0x17d5*-0x1+-0x109*-0xa+-0x222f*0x1;_0x287b9a<_0x4fbca8['length'];_0x287b9a++){const _0xa6bfa7=_0x4fbca8[_0x287b9a],_0x767c80=_0xa6bfa7 instanceof Mg,_0x20832b=_0xa6bfa7['light']['type']===ve;let _0x13f404=_0xa6bfa7['numVirtual'+'Lights'];_0x5b480f>-0x2029+0x1*0xf20+0x2*0x885&&_0x13f404>0xbbc+0x3d0+-0xf8b&&_0xa6bfa7['light']['bakeDir']&&(_0x13f404=0x9ad*-0x1+-0x2237+-0x295*-0x11,w['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0x299e55=0x1*-0x29b+0x1607*-0x1+0x18a2;_0x299e55<_0x13f404;_0x299e55++){Q['pushGpuMar'+'ker'](_0x162b8b,'Light:'+_0xa6bfa7['light']['_node']['name']+':'+_0x299e55),_0x13f404>-0x74c+-0x1392+0x1adf&&_0xa6bfa7['prepareVir'+'tualLight'](_0x299e55,_0x13f404),_0xa6bfa7['startBake']();let _0x2e346c=!(0xa02+-0x96a*0x1+-0x97*0x1);const _0x1aa90a=this['lightCamer'+'aPrepare'](_0x162b8b,_0xa6bfa7);for(_0x2a92ac=-0x1*-0xaef+-0x2ea*0xa+0x1235;_0x2a92ac<_0x4691f2['length'];_0x2a92ac++){const _0x1afac3=_0x4691f2[_0x2a92ac];if(_0x140b61=_0x1afac3['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0xa6bfa7,_0x1afac3,_0x1aa90a,_0x10f920))continue;this['setupLight'+'Array'](_0x38caea,_0xa6bfa7['light']);const _0x3cfa79=_0x20832b?[]:[_0xa6bfa7['light']];for(_0xe62458&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x3cfa79,this['lightingPa'+'rams']),_0x2e346c=this['renderShad'+'owMap'](_0x57f0bb,_0x2e346c,_0x6f8a22,_0xa6bfa7),_0xe62458&&this['worldClust'+'ers']['update'](_0x3cfa79,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x140b61),_0x458300=-0x795*0x1+0xb*-0xc7+0x1022;_0x458300<_0x5b480f&&!(_0x458300>-0x141f+0x21bd+0x6cf*-0x2&&_0x299e55>0x1aa9+0x1*0x479+-0x63a*0x5||_0x767c80&&_0x458300>0x1be*-0x3+-0x1*-0x11b+0x41f*0x1);_0x458300++){Q['pushGpuMar'+'ker'](_0x162b8b,'LMPass:'+_0x458300);const _0xb2ed2b=_0x1afac3['renderTarg'+'ets'][_0x458300],_0x78ccbd=_0x1afac3['renderTarg'+'ets'][_0x458300]['colorBuffe'+'r']['width'],_0x2f68ff=this['renderTarg'+'ets']['get'](_0x78ccbd),_0x407f4e=_0x2f68ff['colorBuffe'+'r'];_0x458300===0x123a+-0x4*0x7b1+-0x217*-0x6?_0x5599cb=_0x27d98e['updateShad'+'ers']:_0x5599cb&&(_0x27d98e['updateShad'+'ers']=!(0x1*-0x1025+-0x79f*0x2+0x1f63*0x1));let _0x1ada13=this['passMateri'+'als'][_0x458300];for(_0x767c80&&_0x299e55+(0x642+0x832+-0xe73)===_0x13f404&&_0x458300===-0xa6c+0xdf2+-0x386&&(_0x1ada13=this['ambientAOM'+'aterial']),_0x26bc42=-0x2627*-0x1+0x8c9+0x1*-0x2ef0;_0x26bc42<_0x140b61['length'];_0x26bc42++)_0x140b61[_0x26bc42]['material']=_0x1ada13;if(this['renderer']['updateShad'+'ers'](_0x140b61),_0x458300===uL&&this['constantBa'+'keDir']['setValue'](_0xa6bfa7['light']['bakeDir']?-0x1*-0x77d+0x5ba*-0x4+0x54*0x2f:0x442+-0x115e+-0x4*-0x347),_0x162b8b['isWebGPU']){const _0x5edf87=new hL(_0x162b8b,this['renderer'],this['camera'],_0xe62458?this['worldClust'+'ers']:null,_0x140b61,_0x38caea);_0x5edf87['init'](_0x2f68ff),_0x5edf87['render'](),_0x5edf87['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x2f68ff,!(0x1dc*-0x1+0x1a0c+0x8*-0x306)),_0xe62458&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=0x6ab*-0x5+0x1ae6+-0x11*-0x61,this['renderer']['_shadowMap'+'Time']=-0xf7*-0xe+0xe30+0xa*-0x2c5,this['renderer']['renderForw'+'ard'](this['camera'],_0x2f68ff,_0x140b61,_0x38caea,Aa),_0x162b8b['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x1afac3['renderTarg'+'ets'][_0x458300]=_0x2f68ff,this['renderTarg'+'ets']['set'](_0x78ccbd,_0xb2ed2b),_0x26bc42=-0xd1e+-0xb99*-0x2+-0x4*0x285;_0x26bc42<_0x140b61['length'];_0x26bc42++)_0x172b5d=_0x140b61[_0x26bc42],_0x172b5d['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0x458300],_0x407f4e),_0x172b5d['_shaderDef'+'s']|=ou;Q['popGpuMark'+'er'](_0x162b8b);}this['restoreMat'+'erials'](_0x140b61);}_0xa6bfa7['endBake'](this['shadowMapC'+'ache']),Q['popGpuMark'+'er'](_0x162b8b);}}for(this['postproces'+'sTextures'](_0x162b8b,_0x4691f2,_0x5b480f),_0x2a92ac=0x2264+0x1cdb+-0x3f3f;_0x2a92ac<_0xe827df['length'];_0x2a92ac++)_0xe827df[_0x2a92ac]['restore']();this['restoreLig'+'hts'](_0x28f244),this['restoreSce'+'ne'](),_0xe62458||this['shadowMapC'+'ache']['clear']();}}const Wh=class Wh extends me{constructor(_0x54dbb8,_0x24f0b7){super(),h(this,'system'),h(this,'entity'),(this['system']=_0x54dbb8,this['entity']=_0x24f0b7,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x526986,_0xd828bb,_0x48d6ea){this['fire']('set_'+_0x526986,_0x526986,_0xd828bb,_0x48d6ea);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x34f3c7,_0x5a7e7a){_0x5a7e7a['forEach'](_0x46a5e0=>{const _0x260cee=typeof _0x46a5e0=='object'?_0x46a5e0['name']:_0x46a5e0;Object['defineProp'+'erty'](_0x34f3c7,_0x260cee,{'get':function(){return this['data'][_0x260cee];},'set':function(_0x564f5a){const _0x42039c=this['data'],_0x14b680=_0x42039c[_0x260cee];_0x42039c[_0x260cee]=_0x564f5a,this['fire']('set',_0x260cee,_0x14b680,_0x564f5a);},'configurable':!(-0x1e6a+0x1b*-0x83+0x2c3b)});}),_0x34f3c7['_accessors'+'Built']=!(-0x842+0xc7*0x16+-0x11b*0x8);}['buildAcces'+'sors'](_0x968ee8){Wh['_buildAcce'+'ssors'](this,_0x968ee8);}['onSetEnabl'+'ed'](_0x5c285f,_0x293aa9,_0x353d53){_0x293aa9!==_0x353d53&&this['entity']['enabled']&&(_0x353d53?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x38c0fa=this['system']['store'][this['entity']['getGuid']()];return _0x38c0fa?_0x38c0fa['data']:null;}set['enabled'](_0x1782f8){}get['enabled'](){return!(-0xd47+-0x236b+-0x21e*-0x17);}};h(Wh,'order',-0x296*0x7+0x761+0x3d*0x2d);let we=Wh;class ct extends me{constructor(_0x2bbbe7){super(),this['app']=_0x2bbbe7,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x5903ce,_0x1c2aca={}){const _0xfe94fb=new this['ComponentT'+'ype'](this,_0x5903ce),_0x1831cb=new this['DataType']();return this['store'][_0x5903ce['getGuid']()]={'entity':_0x5903ce,'data':_0x1831cb},_0x5903ce[this['id']]=_0xfe94fb,_0x5903ce['c'][this['id']]=_0xfe94fb,this['initialize'+'ComponentD'+'ata'](_0xfe94fb,_0x1c2aca,[]),this['fire']('add',_0x5903ce,_0xfe94fb),_0xfe94fb;}['removeComp'+'onent'](_0x301a52){const _0x3d75fc=this['id'],_0x2c9f9b=this['store'][_0x301a52['getGuid']()],_0x483292=_0x301a52['c'][_0x3d75fc];_0x483292['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x301a52,_0x483292),delete this['store'][_0x301a52['getGuid']()],_0x301a52[_0x3d75fc]=void(-0x15d7*-0x1+0x2652+-0x3c29),delete _0x301a52['c'][_0x3d75fc],this['fire']('remove',_0x301a52,_0x2c9f9b['data']);}['cloneCompo'+'nent'](_0x35b79b,_0x50f018){const _0x59eb36=this['store'][_0x35b79b['getGuid']()];return this['addCompone'+'nt'](_0x50f018,_0x59eb36['data']);}['initialize'+'ComponentD'+'ata'](_0x3aca22,_0x388d2a={},_0x5303b5){for(let _0x496a53=-0x3*0xb7b+0x670+0x1c01,_0xdc59bd=_0x5303b5['length'];_0x496a53<_0xdc59bd;_0x496a53++){const _0x16c9f7=_0x5303b5[_0x496a53];let _0x468e54,_0x394427;typeof _0x16c9f7=='object'?(_0x468e54=_0x16c9f7['name'],_0x394427=_0x16c9f7['type']):(_0x468e54=_0x16c9f7,_0x394427=void(0x7*0x3d+0xcd8+-0xe83));let _0x1b9ed9=_0x388d2a[_0x468e54];_0x1b9ed9!==void(-0x25cc+0x1*-0x2584+0x4b50)?(_0x394427!==void(0xbfa+-0x15b0+0x9b6)&&(_0x1b9ed9=mL(_0x1b9ed9,_0x394427)),_0x3aca22[_0x468e54]=_0x1b9ed9):_0x3aca22[_0x468e54]=_0x3aca22['data'][_0x468e54];}_0x3aca22['enabled']&&_0x3aca22['entity']['enabled']&&_0x3aca22['onEnable']();}['getPropert'+'iesOfType'](_0xe4fcde){const _0x1de145=[];return(this['schema']||[])['forEach'](_0x3f8a81=>{_0x3f8a81&&typeof _0x3f8a81=='object'&&_0x3f8a81['type']===_0xe4fcde&&_0x1de145['push'](_0x3f8a81);}),_0x1de145;}['destroy'](){this['off']();}}function mL(_0x20105f,_0x3b3e5b){if(!_0x20105f)return _0x20105f;switch(_0x3b3e5b){case'rgb':return _0x20105f instanceof ie?_0x20105f['clone']():new ie(_0x20105f[-0x2f5*0x2+-0x2526+-0xac4*-0x4],_0x20105f[-0x941+-0x212a+0x2a6c],_0x20105f[0xf5a+-0x15b+-0xdfd]);case'rgba':return _0x20105f instanceof ie?_0x20105f['clone']():new ie(_0x20105f[0x1cff*0x1+0xc17*0x1+-0xdb2*0x3],_0x20105f[-0x202d+-0x17d9+-0x12ad*-0x3],_0x20105f[-0x4a7*-0x1+-0x1b8c+0xd*0x1c3],_0x20105f[0xb*0xeb+-0x1c72+0x32*0x5e]);case'vec2':return _0x20105f instanceof J?_0x20105f['clone']():new J(_0x20105f[0x100+-0x91a*-0x1+0x35e*-0x3],_0x20105f[-0xb23+-0x18*0x122+0x2654]);case'vec3':return _0x20105f instanceof D?_0x20105f['clone']():new D(_0x20105f[0xd5*-0xf+-0x1818+0x3*0xc31],_0x20105f[0x1ea1+-0x21a*0xf+0xe6],_0x20105f[0x185d+-0x21d3+0x978]);case'vec4':return _0x20105f instanceof re?_0x20105f['clone']():new re(_0x20105f[-0x20*0x76+-0x2*0x63d+0x55*0x52],_0x20105f[-0xf64+0x254a+0x5f*-0x3b],_0x20105f[-0x1c8b+-0x1*-0xd87+-0xf06*-0x1],_0x20105f[-0x269*-0x7+-0x21*0x97+0x29b]);case'boolean':case'number':case'string':return _0x20105f;case'entity':return _0x20105f;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x3b3e5b);}}const Bv=-0x1bf1+-0x15*-0xc1+0xc1c,Su=-0xc4+-0x5*-0x710+0x25*-0xef,yu=0xd57+-0x1*0x1749+0x5b*0x1c;class _L{constructor(){this['_left']=(0xe26+0x1ef7+-0x2*0x168e)/(0x1*-0xdb+-0x19*-0x13d+-0x1e1a),this['_right']=-(0x7a*0x3a+0x22d5+-0x3e78)/(-0xd7a+0x26*-0xd3+0x2ccc),this['_len']=0x1f0*-0x14+-0x1f78+0x1768*0x3,this['_recip']=0x1d57+-0x1*0x1969+-0x3ee,this['_p0']=0x24c5+0x4a3+0x32*-0xd4,this['_p1']=0x16*0x1b+-0x2522+-0x8b4*-0x4,this['_t']=0xa59+-0x1649+0xbf0,this['_hermite']={'valid':!(-0x85c+0x1ce2*0x1+-0x1485),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x514ead,_0x567807){if(_0x514ead<this['_left']||_0x514ead>=this['_right']){const _0x2d37fc=_0x567807['length'];if(!_0x2d37fc)this['_left']=-(-0x1*-0xa97+-0x711+-0x11*0x35)/(-0x1fe0+-0x5f0+-0x8*-0x4ba),this['_right']=(0x6fb*0x3+0xbc4+-0x20b4)/(0x1e7*-0x11+0x247+0x1e10),this['_len']=0x4*-0x51+0x5*0x431+-0x13b1,this['_recip']=-0x13ff*-0x1+-0x16a6+0x2a7,this['_p0']=this['_p1']=0x527*0x7+-0x1a*-0xb3+0x1215*-0x3;else{if(_0x514ead<_0x567807[0x3f9+0x1fe7+0x1c*-0x148])this['_left']=-(-0x213e+0x1d85+0x3ba)/(-0x77a+0x29*0x3b+-0x1*0x1f9),this['_right']=_0x567807[-0x72c+0x3*-0xa96+0x38a*0xb],this['_len']=-0x1c00+-0x16a1+0x32a1,this['_recip']=0x8a6+-0x17fb+-0x311*-0x5,this['_p0']=this['_p1']=-0xe2+0x1*0x1c4f+-0x1b6d;else{if(_0x514ead>=_0x567807[_0x2d37fc-(-0x23c3+-0x1a35*-0x1+-0x1*-0x98f)])this['_left']=_0x567807[_0x2d37fc-(-0x5*0x43+-0x24*-0xdf+0x4*-0x783)],this['_right']=(0x4*-0x83+-0xc*0x337+-0xd8b*-0x3)/(-0x1b3b+0x18*-0x1+0x1b53),this['_len']=-0x1881+0xb24+0xd5d,this['_recip']=0x12d9+0x4*-0x4ac+0x29*-0x1,this['_p0']=this['_p1']=_0x2d37fc-(0x6c3*0x3+0x7c*-0x38+0x4*0x1b6);else{const _0x4b42fc=this['_findKey'](_0x514ead,_0x567807);this['_left']=_0x567807[_0x4b42fc],this['_right']=_0x567807[_0x4b42fc+(-0x92*-0x13+-0x1396*-0x1+-0x1e6b)],this['_len']=this['_right']-this['_left'];const _0x334969=(0x2*-0x8b6+-0xe9+0x1256)/this['_len'];this['_recip']=isFinite(_0x334969)?_0x334969:-0x112*0x4+-0x1335*0x1+0x177d,this['_p0']=_0x4b42fc,this['_p1']=_0x4b42fc+(0xfe8*-0x1+0x249+-0x1*-0xda0);}}}}this['_t']=this['_recip']===-0x134e+0x1673+-0x17*0x23?-0x18b9+-0x7*-0xaf+0x13f0:(_0x514ead-this['_left'])*this['_recip'],this['_hermite']['valid']=!(0x1c73+-0xe68+-0xe0a);}['_findKey'](_0x1d3fa7,_0x200933){let _0x2d62c2=0x815+0x20a5+-0x28ba;for(;_0x1d3fa7>=_0x200933[_0x2d62c2+(-0x1dfc+0x737*-0x3+0x33a2*0x1)];)_0x2d62c2++;return _0x2d62c2;}['eval'](_0x5d19aa,_0x3f729f,_0x1972f9){const _0x4b778f=_0x1972f9['_data'],_0x319729=_0x1972f9['_component'+'s'],_0x3fe73b=this['_p0']*_0x319729;if(_0x3f729f===Bv){for(let _0x3bf19d=-0x23af*-0x1+-0x179+-0x2236;_0x3bf19d<_0x319729;++_0x3bf19d)_0x5d19aa[_0x3bf19d]=_0x4b778f[_0x3fe73b+_0x3bf19d];}else{const _0x40d686=this['_t'],_0x5ecc09=this['_p1']*_0x319729;switch(_0x3f729f){case Su:for(let _0x4e3ecd=-0xbdb*-0x1+-0xe45*0x1+0x26a;_0x4e3ecd<_0x319729;++_0x4e3ecd)_0x5d19aa[_0x4e3ecd]=Y['lerp'](_0x4b778f[_0x3fe73b+_0x4e3ecd],_0x4b778f[_0x5ecc09+_0x4e3ecd],_0x40d686);break;case yu:{const _0x1f7317=this['_hermite'];if(!_0x1f7317['valid']){const _0x30cedf=_0x40d686*_0x40d686,_0x581c6b=_0x40d686+_0x40d686,_0x46616f=-0x705+0x12d9+-0x3*0x3f1-_0x40d686,_0x2f9c62=_0x46616f*_0x46616f;_0x1f7317['valid']=!(-0x1ef+0x1*0x149e+0x1*-0x12af),_0x1f7317['p0']=(0x9*-0x3e9+0x97e+0x19b4+_0x581c6b)*_0x2f9c62,_0x1f7317['m0']=_0x40d686*_0x2f9c62,_0x1f7317['p1']=_0x30cedf*(0x3e0*-0x5+-0x1*0x19d8+-0x1*-0x2d3b-_0x581c6b),_0x1f7317['m1']=_0x30cedf*(_0x40d686-(-0x19d9+-0xba5+0x257f*0x1));}const _0x2df13d=(this['_p0']*(0x25bd+-0x1c17+-0x9a3)+(0x52c+-0x108b+0x34*0x38))*_0x319729,_0x565a0c=(this['_p0']*(-0x32e+0x14*-0x2b+0x68d)+(-0x8*-0x34a+0x1*-0x19e0+-0x6e))*_0x319729,_0x5ca8c3=(this['_p1']*(-0x1*-0x57f+-0x1d45+0x17c9*0x1)+(0x2b9+-0x1*0x208b+-0x1*-0x1dd3))*_0x319729,_0x58ab9d=(this['_p1']*(-0x2537*0x1+0x61e+0x2c*0xb5)+(0x58*0x6a+0x22d3+-0x4743))*_0x319729;for(let _0x57c96b=-0x169f+-0x16*0x142+0x324b;_0x57c96b<_0x319729;++_0x57c96b)_0x5d19aa[_0x57c96b]=_0x1f7317['p0']*_0x4b778f[_0x2df13d+_0x57c96b]+_0x1f7317['m0']*_0x4b778f[_0x565a0c+_0x57c96b]*this['_len']+_0x1f7317['p1']*_0x4b778f[_0x5ca8c3+_0x57c96b]+_0x1f7317['m1']*_0x4b778f[_0x58ab9d+_0x57c96b]*this['_len'];break;}}}}}class Ig{constructor(_0x3995b9){this['_name']=_0x3995b9['name']+'Snapshot',this['_time']=-(0x21f1+0x15c2+-0x37b2),this['_cache']=[],this['_results']=[];for(let _0x51ab5c=-0x1902+-0x1*0x155f+-0x1*-0x2e61;_0x51ab5c<_0x3995b9['_inputs']['length'];++_0x51ab5c)this['_cache'][_0x51ab5c]=new _L();const _0x56849c=_0x3995b9['_curves'],_0xe1cdce=_0x3995b9['_outputs'];for(let _0x95b05f=-0x7*0x1f7+0xc07*0x2+-0x9*0x125;_0x95b05f<_0x56849c['length'];++_0x95b05f){const _0x5a44d3=_0x56849c[_0x95b05f],_0x23bbb3=_0xe1cdce[_0x5a44d3['_output']],_0x1d7bf7=[];for(let _0x534556=0x1*-0x161b+0x1789+0x2*-0xb7;_0x534556<_0x23bbb3['_component'+'s'];++_0x534556)_0x1d7bf7[_0x534556]=-0x1aee*0x1+-0x2*0x129d+0x2*0x2014;this['_results'][_0x95b05f]=_0x1d7bf7;}}}const qo=class qo{constructor(_0x394137,_0x565f9b,_0x3c36f7,_0x31ef4f,_0x42aaa7,_0x401a86){this['_name']=_0x394137['name'],this['_track']=_0x394137,this['_snapshot']=new Ig(_0x394137),this['_playing']=_0x31ef4f,this['_time']=_0x565f9b,this['_speed']=_0x3c36f7,this['_loop']=_0x42aaa7,this['_blendWeig'+'ht']=-0x1*-0x7b5+0x1b1+0x5*-0x1e1,this['_blendOrde'+'r']=0x62*-0x1d+-0x21e5+0x1*0x2cff,this['_eventHand'+'ler']=_0x401a86,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0x1c02fa){this['_name']=_0x1c02fa;}get['name'](){return this['_name'];}set['track'](_0x1e4861){this['_track']=_0x1e4861,this['_snapshot']=new Ig(_0x1e4861);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0xcfdce6){this['_time']=_0xcfdce6,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0x4f9984){const _0x21d1c7=Math['sign'](_0x4f9984)!==Math['sign'](this['_speed']);this['_speed']=_0x4f9984,_0x21d1c7&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x1d4655){this['_loop']=_0x1d4655;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x2eeb9d){this['_blendWeig'+'ht']=_0x2eeb9d;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x5dc777){this['_blendOrde'+'r']=_0x5dc777;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x310478){this['_eventCurs'+'or']=_0x310478;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?0x1*-0x371+-0x88f+0xc00:this['_track']['events']['length']-(-0x1b2f*-0x1+0xe2e+-0x295c);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<-0x37*-0x7b+-0x5*0x283+-0x2*0x6ef;}['nextEventA'+'headOfTime'](_0x14bd05){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x14bd05:this['nextEvent']['time']>=_0x14bd05:!(0x19+-0x240a+-0x2b*-0xd6);}['nextEventB'+'ehindTime'](_0x2da4e2){return this['nextEvent']?_0x2da4e2===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x2da4e2:this['nextEvent']['time']<=_0x2da4e2:this['isReverse']?this['nextEvent']['time']>_0x2da4e2:this['nextEvent']['time']<_0x2da4e2:!(-0x95c+0x14c3+-0xb66*0x1);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(0x178e+-0x22f*0xd+-0x4d6*-0x1):-0x195e+0x1dcb+-0xb*0x67;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(-0xe86+-0x18e*0xe+0x39*0xa3):-0x1*0x1813+-0x11*0x10d+0x29f1,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=-0x682*-0x2+-0x1a05+0xd01:this['_eventCurs'+'or']<-0x5*-0x4f+0x1bf6+-0x1d81&&(this['_eventCurs'+'or']=this['track']['events']['length']-(-0x22d2+-0x4*0x81d+0x4347));}['clipFrameT'+'ime'](_0x167865){const _0x5848c7=qo['eventFrame'];_0x5848c7['start']=0x2503+0x983*-0x2+-0xf*0x133,_0x5848c7['end']=_0x167865,_0x5848c7['residual']=-0x142b+0x1*-0xa99+-0x16*-0x166,this['isReverse']?_0x167865<-0x2d*-0x97+-0x1475*0x1+-0x2*0x30b&&(_0x5848c7['start']=this['track']['duration'],_0x5848c7['end']=0x6f2+0x2105+-0x27f7*0x1,_0x5848c7['residual']=_0x167865+this['track']['duration']):_0x167865>this['track']['duration']&&(_0x5848c7['start']=-0x152f+0x1fef+-0xac0,_0x5848c7['end']=this['track']['duration'],_0x5848c7['residual']=_0x167865-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x5a8773,_0x44c080){return this['nextEventA'+'headOfTime'](_0x5a8773)&&this['nextEventB'+'ehindTime'](_0x44c080)?(this['fireNextEv'+'ent'](),!(0x1b32+0x1*-0xfd+-0x1*0x1a35)):!(0x202d+0xcb*0x13+-0x2f3d);}['activeEven'+'tsForFrame'](_0x5b99c2,_0x4470bb){const _0x16e3b4=qo['eventFrame'];this['clipFrameT'+'ime'](_0x4470bb);const _0xc87b25=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x5b99c2,_0x16e3b4['end'])&&_0xc87b25!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x16e3b4['residual'])>-0x55*0x3e+0x1*-0x1343+0x1*0x27d9&&this['activeEven'+'tsForFrame'](_0x16e3b4['start'],_0x16e3b4['residual']);}['progressFo'+'rTime'](_0x459505){return _0x459505*this['_speed']/this['_track']['duration'];}['_update'](_0x9e33a6){if(this['_playing']){let _0x2f905c=this['_time'];const _0x5e7fc2=this['_track']['duration'],_0x5d1754=this['_speed'],_0x57fd9e=this['_loop'];this['_track']['events']['length']>-0x1c73+0x3*0xc6+0x1a21&&_0x5e7fc2>-0x7e*0x47+0x13d2+0x16*0xb0&&this['activeEven'+'tsForFrame'](_0x2f905c,_0x2f905c+_0x5d1754*_0x9e33a6),_0x2f905c+=_0x5d1754*_0x9e33a6,_0x5d1754>=0x2324*0x1+-0x66e*0x4+-0x96c?_0x2f905c>_0x5e7fc2&&(_0x57fd9e?_0x2f905c=_0x2f905c%_0x5e7fc2||0x2106+-0x1e1e+0xc*-0x3e:(_0x2f905c=this['_track']['duration'],this['pause']())):_0x2f905c<0x9a*0x2f+-0xd31+-0x15f*0xb&&(_0x57fd9e?_0x2f905c=_0x5e7fc2+(_0x2f905c%_0x5e7fc2||-0x1fd3+0x152c+-0x12f*-0x9):(_0x2f905c=0x1*0x24f5+0x31*0x53+-0x34d8,this['pause']())),this['_time']=_0x2f905c;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(0x171f+0x94*-0x2e+0x379),this['_time']=-0x1086*0x1+-0x140a+0x9c*0x3c;}['stop'](){this['_playing']=!(-0x17ad+0xf47*-0x1+0x26f5),this['_time']=0x1d83+0x24c5*-0x1+0x742;}['pause'](){this['_playing']=!(0xd7d+-0x4*0x17c+-0x284*0x3);}['resume'](){this['_playing']=!(0x5f*-0x31+-0x1f3a+0x1*0x3169);}['reset'](){this['_time']=0xcb9*0x3+-0x1b*0x158+0xa1*-0x3;}};h(qo,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Dh=qo;const zv='NONE',gL='PREV_STATE',SL='NEXT_STATE',yL='PREV_STATE'+'_NEXT_STAT'+'E',vL='NEXT_STATE'+'_PREV_STAT'+'E',xL='GREATER_TH'+'AN',TL='LESS_THAN',wL='GREATER_TH'+'AN_EQUAL_T'+'O',EL='LESS_THAN_'+'EQUAL_TO',bL='EQUAL_TO',AL='NOT_EQUAL_'+'TO',Lg='INTEGER',Rg='FLOAT',Og='BOOLEAN',Qc='TRIGGER',CL='1D',PL='2D_DIRECTI'+'ONAL',ML='2D_CARTESI'+'AN',DL='DIRECT',Co='START',vu='END',qr='ANY',Ih=[Co,vu,qr],Vv='OVERWRITE',IL='ADDITIVE';class Ht{static['dot'](_0x407bde,_0x120894){const _0x270b8f=_0x407bde['length'];let _0x51abf0=0xd*-0x58+-0x55b+0x9d3*0x1;for(let _0x3029e2=-0x1429*-0x1+0x1*0x1e5f+-0x738*0x7;_0x3029e2<_0x270b8f;++_0x3029e2)_0x51abf0+=_0x407bde[_0x3029e2]*_0x120894[_0x3029e2];return _0x51abf0;}static['normalize'](_0xc33b16){let _0x589af3=Ht['dot'](_0xc33b16,_0xc33b16);if(_0x589af3>-0x1392+0x1*-0x269+-0x1*-0x15fb){_0x589af3=(-0x9*0x3ca+-0x584+0x279f)/Math['sqrt'](_0x589af3);const _0x32b393=_0xc33b16['length'];for(let _0x9fd6da=0x2*-0xc26+0x1dd9+-0x58d;_0x9fd6da<_0x32b393;++_0x9fd6da)_0xc33b16[_0x9fd6da]*=_0x589af3;}}static['set'](_0x5742e5,_0x3aa543,_0x96ff14){const _0x49c7c8=_0x5742e5['length'];if(_0x96ff14==='quaternion'){let _0x4e7fdc=Ht['dot'](_0x3aa543,_0x3aa543);_0x4e7fdc>0x469+-0x1*0x14c5+-0xc*-0x15d&&(_0x4e7fdc=(-0xebf+-0x18a8+0x2768)/Math['sqrt'](_0x4e7fdc));for(let _0x455297=0x1c3c+0x1a*-0x2f+-0x1776;_0x455297<_0x49c7c8;++_0x455297)_0x5742e5[_0x455297]=_0x3aa543[_0x455297]*_0x4e7fdc;}else{for(let _0x4ab5db=0x1fb7+-0x266b+0x6b4;_0x4ab5db<_0x49c7c8;++_0x4ab5db)_0x5742e5[_0x4ab5db]=_0x3aa543[_0x4ab5db];}}static['blendVec'](_0x2f0d88,_0x577c92,_0x1b849a,_0x113e7b){const _0x29e562=_0x113e7b?-0x2c2*-0x5+0x1*-0xd09+0x20*-0x6:-0xceb*-0x2+-0x26c7+0xcf2-_0x1b849a,_0x2aac7c=_0x2f0d88['length'];for(let _0x32cc8a=-0x8ce+0x1fe6*0x1+-0x1718;_0x32cc8a<_0x2aac7c;++_0x32cc8a)_0x2f0d88[_0x32cc8a]=_0x2f0d88[_0x32cc8a]*_0x29e562+_0x577c92[_0x32cc8a]*_0x1b849a;}static['blendQuat'](_0x45f471,_0x3c7d33,_0x121c8f,_0x27e589){const _0x4b74d1=_0x45f471['length'],_0xbc81c5=_0x27e589?0x56d*0x1+0x20a7+-0x9*0x43b:-0xfd9*-0x2+-0x155+-0x1e5c-_0x121c8f;Ht['dot'](_0x45f471,_0x3c7d33)<0x3*-0xb1+-0x3*0xc5b+0x3ea*0xa&&(_0x121c8f=-_0x121c8f);for(let _0x5518e7=-0x2169+-0x255b+-0x4*-0x11b1;_0x5518e7<_0x4b74d1;++_0x5518e7)_0x45f471[_0x5518e7]=_0x45f471[_0x5518e7]*_0xbc81c5+_0x3c7d33[_0x5518e7]*_0x121c8f;_0x27e589||Ht['normalize'](_0x45f471);}static['blend'](_0x16f4cb,_0x46d46d,_0x1132d9,_0x30cf0d,_0x223d92){_0x30cf0d==='quaternion'?Ht['blendQuat'](_0x16f4cb,_0x46d46d,_0x1132d9,_0x223d92):Ht['blendVec'](_0x16f4cb,_0x46d46d,_0x1132d9,_0x223d92);}static['stableSort'](_0x5db96a,_0x321747){const _0x4a6bbd=_0x5db96a['length'];for(let _0x46ab93=0x2*0x892+-0x9*0x1f2+0x2*0x2f;_0x46ab93<_0x4a6bbd-(-0xcb9*-0x1+-0x1*-0x4d6+-0x118e);++_0x46ab93)for(let _0x437045=_0x46ab93+(0x42c*0x4+0x1e+-0x187*0xb);_0x437045<_0x4a6bbd;++_0x437045)if(_0x321747(_0x5db96a[_0x437045],_0x5db96a[_0x46ab93])){const _0x1e5407=_0x5db96a[_0x46ab93];_0x5db96a[_0x46ab93]=_0x5db96a[_0x437045],_0x5db96a[_0x437045]=_0x1e5407;}}}const st=class st{constructor(_0x26de7f,_0x36e1d7){this['_component']=_0x26de7f,this['mask']=new Int8Array(_0x26de7f['layers']['length']),this['weights']=new Float32Array(_0x26de7f['layers']['length']),this['totalWeigh'+'t']=0x55b*-0x3+0x1*-0xbb9+0x1bca,this['counter']=-0x1c21+0x1c87+-0x66,this['layerCount'+'er']=-0x1d61+0x21be+0x1*-0x45d,this['valueType']=_0x36e1d7,this['dirty']=!(0x1572+-0x283*0x1+-0x1*0x12ef),this['value']=_0x36e1d7===st['TYPE_QUAT']?[-0xd97+0x1dcf*0x1+0x1038*-0x1,0x1*-0x231d+-0x873*0x2+0x3403*0x1,-0xb7d+0x397*0x7+0x123*-0xc,0x1*0x335+-0x2f*-0x17+0x1*-0x76d]:[-0x1824+-0x1bdb+0x33ff,-0x17b5+-0x678+0x1e2d,-0x1ca*0xc+0x3f8+-0x1180*-0x1],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x128232){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===-0x1fe*0x3+-0x1592+0x1b8c||!this['mask'][_0x128232]?-0x2*0xae7+0xd6*-0x7+0x1ba8:this['_normalize'+'Weights']?this['weights'][_0x128232]/this['totalWeigh'+'t']:Y['clamp'](this['weights'][_0x128232],0x3*-0xbdf+-0x8b5*0x2+-0x389*-0xf,0xae9+0x36*-0x29+-0x22*0x11);}['_layerBlen'+'dType'](_0x394a7d){return this['_component']['layers'][_0x394a7d]['blendType'];}['setMask'](_0x450aab,_0x523111){this['mask'][_0x450aab]=_0x523111,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x450aab]['blendType']===Vv&&(this['mask']=this['mask']['fill'](0x684+-0xb13+-0x48f*-0x1,0x1*-0x34c+0x4*0x709+-0x18d8,_0x450aab)),this['dirty']=!(0x234c+0x1724+-0xbb*0x50));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=0x5dd*-0x2+0x3f4*-0x6+0x2372;for(let _0x382dc9=0x9db+0x903*0x1+0xe*-0x159;_0x382dc9<this['weights']['length'];_0x382dc9++)this['weights'][_0x382dc9]=this['_component']['layers'][_0x382dc9]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x382dc9]*this['weights'][_0x382dc9];this['dirty']=!(0x1567*-0x1+0x64a+0xf1e);}['updateValu'+'e'](_0x261268,_0x39d138){if(this['counter']===-0x22*0x6d+-0xb*0x1f7+0x2417&&(Ht['set'](this['value'],st['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Ht['blend'](this['value'],this['baseValue'],0xa31+0x2141+-0xe7b*0x3,this['valueType'])),!(!this['mask'][_0x261268]||this['getWeight'](_0x261268)===0x386+0x12b2+-0x58e*0x4)){if(this['_layerBlen'+'dType'](_0x261268)===IL&&!this['_normalize'+'Weights']){if(this['valueType']===st['TYPE_QUAT']){const _0x517d6b=st['q1']['set'](this['value'][-0x926*0x2+0x1e2c*0x1+-0xbe0],this['value'][0x6a3+-0xc6f*0x1+0x5cd],this['value'][0x1f99+0x2c7+-0x6a*0x53],this['value'][-0x1*-0x25c+-0x2e*-0x15+-0x61f*0x1]),_0x5e52e1=st['q2']['set'](this['baseValue'][-0x1c89+0x1c*0x9c+-0x59*-0x21],this['baseValue'][0x13cb+0x5b*0x1b+0x1d63*-0x1],this['baseValue'][0x609*-0x4+-0xe6e*0x1+-0x2694*-0x1],this['baseValue'][-0x2*0x655+-0xdf8+0x1*0x1aa5]),_0x2b6e98=st['q3']['set'](_0x39d138[-0x157e+-0x37e*0x1+0x4e*0x52],_0x39d138[0xace+0x26e9*-0x1+0x1c1c],_0x39d138[-0x106f+0x7a3*-0x1+-0x2*-0xc0a],_0x39d138[-0x1*-0xfbf+-0x2*-0x5f8+-0x1bac]),_0x5656dc=_0x5e52e1['invert']()['mul'](_0x2b6e98);_0x5656dc['slerp'](le['IDENTITY'],_0x5656dc,this['getWeight'](_0x261268)),_0x517d6b['mul'](_0x5656dc),st['quatArr'][-0x234+-0x71c+0x254*0x4]=_0x517d6b['x'],st['quatArr'][-0xfde+-0x3e5*0x1+0xdc*0x17]=_0x517d6b['y'],st['quatArr'][0x26fb+-0xd88+-0x1971]=_0x517d6b['z'],st['quatArr'][0xd8e+-0xc89+-0x81*0x2]=_0x517d6b['w'],Ht['set'](this['value'],st['quatArr'],this['valueType']);}else st['vecArr'][0x267f+0x22d*0x1+0x13*-0x224]=_0x39d138[-0xa25+-0x16e5*-0x1+-0x330*0x4]-this['baseValue'][0x33d*-0xa+-0x1*-0x93a+-0xd*-0x1c8],st['vecArr'][-0x192+0x1ead*-0x1+0x2040]=_0x39d138[0x1ef6+0x2518*0x1+-0x440d]-this['baseValue'][-0x244+-0x146*0x3+-0x1*-0x617],st['vecArr'][0x2354+0x73b+-0x2a8d]=_0x39d138[-0x3*0x66a+0xebb+-0x1*-0x485]-this['baseValue'][-0x2b9+0x1349+-0x108e],Ht['blend'](this['value'],st['vecArr'],this['getWeight'](_0x261268),this['valueType'],!(0x104e+-0x21dc+0x2a*0x6b));}else Ht['blend'](this['value'],_0x39d138,this['getWeight'](_0x261268),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};h(st,'TYPE_QUAT','quaternion'),h(st,'TYPE_VEC3','vector3'),h(st,'q1',new le()),h(st,'q2',new le()),h(st,'q3',new le()),h(st,'quatArr',[-0x16d+0x1*0x214c+0xc7*-0x29,-0xbeb*0x1+-0x13*-0x4b+0x65a,-0x1479+-0x71f+0x1*0x1b98,0x2*-0x595+-0x2133+0x2*0x162f]),h(st,'vecArr',[-0x2a*0x8+0xfb2+-0xe62,0x13*-0x161+-0x1*-0x2303+-0x8d0,-0x1*0x20c5+0x1*0x157d+0xb48]),h(st,'IDENTITY_Q'+'UAT_ARR',[0x7*0x24b+0x8*-0x8+-0xfcd,0x1d*0x3b+-0x80a+0x15b,0x1*-0x2507+-0x22ff+0xc01*0x6,-0x3d6*-0x3+0x2*0xb0d+-0x219b]);let Vo=st;class Gv{constructor(_0x5431b0){this['_binder']=_0x5431b0,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0x2805ad){const _0x52ec36=this['_targets'],_0x42a5c7=this['_binder'],_0x1b43fb=_0x2805ad['track']['curves'],_0x43cb62=_0x2805ad['snapshot'],_0x24c13f=[],_0x1c9acc=[];for(let _0x348dee=-0x3*-0x1af+-0xe69+0x95c;_0x348dee<_0x1b43fb['length'];++_0x348dee){const _0x18f2f8=_0x1b43fb[_0x348dee]['paths'];for(let _0x4f470f=-0x2*-0xfe8+0x2*-0x43d+-0x1756;_0x4f470f<_0x18f2f8['length'];++_0x4f470f){const _0x5b0899=_0x18f2f8[_0x4f470f],_0x48af60=_0x42a5c7['resolve'](_0x5b0899);let _0x1ce030=_0x52ec36[_0x48af60&&_0x48af60['targetPath']||null];if(!_0x1ce030&&_0x48af60){_0x1ce030={'target':_0x48af60,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x549c67=-0x2448+-0x1b1a*-0x1+0x92e;_0x549c67<_0x1ce030['target']['components'];++_0x549c67)_0x1ce030['value']['push'](0x1*-0xaeb+0x23*0x8c+-0x839);if(_0x52ec36[_0x48af60['targetPath']]=_0x1ce030,_0x42a5c7['animCompon'+'ent']){if(!_0x42a5c7['animCompon'+'ent']['targets'][_0x48af60['targetPath']]){let _0x3834fe;_0x48af60['targetPath']['substring'](_0x48af60['targetPath']['length']-(-0x19d1*0x1+-0xc2+0x1aa0))==='localRotat'+'ion'?_0x3834fe=Vo['TYPE_QUAT']:_0x3834fe=Vo['TYPE_VEC3'],_0x42a5c7['animCompon'+'ent']['targets'][_0x48af60['targetPath']]=new Vo(_0x42a5c7['animCompon'+'ent'],_0x3834fe);}_0x42a5c7['animCompon'+'ent']['targets'][_0x48af60['targetPath']]['layerCount'+'er']++,_0x42a5c7['animCompon'+'ent']['targets'][_0x48af60['targetPath']]['setMask'](_0x42a5c7['layerIndex'],-0x3*-0xa74+0x198e*-0x1+-0x1b*0x37);}}_0x1ce030&&(_0x1ce030['curves']++,_0x24c13f['push'](_0x43cb62['_results'][_0x348dee]),_0x1c9acc['push'](_0x1ce030));}}this['_clips']['push'](_0x2805ad),this['_inputs']['push'](_0x24c13f),this['_outputs']['push'](_0x1c9acc);}['removeClip'](_0xf5aae5){const _0x4d2e2c=this['_targets'],_0x53f267=this['_binder'],_0x5c9499=this['_clips'],_0x1767e8=_0x5c9499[_0xf5aae5]['track']['curves'];for(let _0x1633c8=0x2f5*0x1+0x27*0x9+-0x115*0x4;_0x1633c8<_0x1767e8['length'];++_0x1633c8){const _0x2e6ea1=_0x1767e8[_0x1633c8]['paths'];for(let _0x37705a=0xd79+-0x7f*-0x35+-0x1*0x27c4;_0x37705a<_0x2e6ea1['length'];++_0x37705a){const _0x32e2c8=_0x2e6ea1[_0x37705a],_0x585baa=this['_binder']['resolve'](_0x32e2c8);_0x585baa&&(_0x585baa['curves']--,_0x585baa['curves']===0xdb7+-0x4a1+-0x48b*0x2&&(_0x53f267['unresolve'](_0x32e2c8),delete _0x4d2e2c[_0x585baa['targetPath']],_0x53f267['animCompon'+'ent']&&_0x53f267['animCompon'+'ent']['targets'][_0x585baa['targetPath']]['layerCount'+'er']--));}}_0x5c9499['splice'](_0xf5aae5,0x1d*0x19+0x1daa+-0x2*0x103f),this['_inputs']['splice'](_0xf5aae5,0x5d*0x11+0x13*0x15b+0x1fed*-0x1),this['_outputs']['splice'](_0xf5aae5,-0x1e9b+0xb05+0x1397);}['removeClip'+'s'](){for(;this['_clips']['length']>-0x1f*-0xc2+0x59*0xb+0x91b*-0x3;)this['removeClip'](-0x2021+0x5*0x74f+-0x46a);}['updateClip'+'Track'](_0x1a8de1,_0x551dfe){this['_clips']['forEach'](_0x29a69d=>{_0x29a69d['name']['includes'](_0x1a8de1)&&(_0x29a69d['track']=_0x551dfe);}),this['rebind']();}['findClip'](_0x29220c){const _0x21754a=this['_clips'];for(let _0x49012a=0x4ce+0xfd6*0x2+-0x247a;_0x49012a<_0x21754a['length'];++_0x49012a){const _0x247567=_0x21754a[_0x49012a];if(_0x247567['name']===_0x29220c)return _0x247567;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0x2a4963=[...this['clips']];this['removeClip'+'s'](),_0x2a4963['forEach'](_0x5571a6=>{this['addClip'](_0x5571a6);});}['assignMask'](_0x247121){return this['_binder']['assignMask'](_0x247121);}['update'](_0x56d398,_0x11d490=!(0x1*0xbb3+0x804+-0x13b7)){const _0x30af03=this['_clips'],_0x517f3e=_0x30af03['map']((_0x50c72c,_0x3c5c58)=>_0x3c5c58);Ht['stableSort'](_0x517f3e,(_0x2da5cb,_0x5353ab)=>_0x30af03[_0x2da5cb]['blendOrder']<_0x30af03[_0x5353ab]['blendOrder']);for(let _0x1d7302=-0x1b73+0x163f+0x534;_0x1d7302<_0x517f3e['length'];++_0x1d7302){const _0x3f5328=_0x517f3e[_0x1d7302],_0x27f1dd=_0x30af03[_0x3f5328],_0x3dde96=this['_inputs'][_0x3f5328],_0x5acc95=this['_outputs'][_0x3f5328],_0x2a4fb2=_0x27f1dd['blendWeigh'+'t'];if(_0x2a4fb2>0x7*0x4be+0x1*0x20f3+-0x4225&&_0x27f1dd['_update'](_0x56d398),!_0x11d490)break;let _0x53aabc,_0x52f504,_0x3eacd2;if(_0x2a4fb2>=0xdf*-0xc+0x17a1+-0xd2c){for(let _0x48127d=-0x1282+0x1957*-0x1+-0x2bd9*-0x1;_0x48127d<_0x3dde96['length'];++_0x48127d)_0x53aabc=_0x3dde96[_0x48127d],_0x52f504=_0x5acc95[_0x48127d],_0x3eacd2=_0x52f504['value'],Ht['set'](_0x3eacd2,_0x53aabc,_0x52f504['target']['type']),_0x52f504['blendCount'+'er']++;}else{if(_0x2a4fb2>-0x1b6b*0x1+-0x5c7*-0x2+0xfdd){for(let _0xe24699=-0x1*0x67+-0x1f*-0x102+0x1ed7*-0x1;_0xe24699<_0x3dde96['length'];++_0xe24699)_0x53aabc=_0x3dde96[_0xe24699],_0x52f504=_0x5acc95[_0xe24699],_0x3eacd2=_0x52f504['value'],_0x52f504['blendCount'+'er']===-0x2219+0x1373+0xea6?Ht['set'](_0x3eacd2,_0x53aabc,_0x52f504['target']['type']):Ht['blend'](_0x3eacd2,_0x53aabc,_0x2a4fb2,_0x52f504['target']['type']),_0x52f504['blendCount'+'er']++;}}}const _0x2b65f0=this['_targets'],_0xd10d2f=this['_binder'];for(const _0x2ff468 in _0x2b65f0)if(_0x2b65f0['hasOwnProp'+'erty'](_0x2ff468)){const _0x34f9d5=_0x2b65f0[_0x2ff468];if(_0xd10d2f['animCompon'+'ent']&&_0x34f9d5['target']['isTransfor'+'m']){const _0x185fa9=_0xd10d2f['animCompon'+'ent']['targets'][_0x2ff468];_0x185fa9['counter']===_0x185fa9['layerCount'+'er']&&(_0x185fa9['counter']=0x1*-0xf1a+0xb39+0x14b*0x3),_0x185fa9['path']||(_0x185fa9['path']=_0x2ff468,_0x185fa9['baseValue']=_0x34f9d5['target']['get'](),_0x185fa9['setter']=_0x34f9d5['target']['set']),_0x185fa9['updateValu'+'e'](_0xd10d2f['layerIndex'],_0x34f9d5['value']),_0x185fa9['counter']++;}else _0x34f9d5['target']['set'](_0x34f9d5['value']);_0x34f9d5['blendCount'+'er']=0x2*0x1186+-0x98f*0x1+-0xf*0x1b3;}this['_binder']['update'](_0x56d398);}}class Hv{constructor(_0x28e4d3){this['_events']=[..._0x28e4d3],this['_events']['sort']((_0x2fc523,_0x19b082)=>_0x2fc523['time']-_0x19b082['time']);}get['events'](){return this['_events'];}}const $h=class $h{constructor(_0x20ef57,_0x2d5800,_0x244dd2,_0x5e6bd7,_0x597750,_0x3bae35=new Hv([])){this['_name']=_0x20ef57,this['_duration']=_0x2d5800,this['_inputs']=_0x244dd2,this['_outputs']=_0x5e6bd7,this['_curves']=_0x597750,this['_animEvent'+'s']=_0x3bae35;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x4fb4d7){this['_animEvent'+'s']=_0x4fb4d7;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0x280771,_0x3052c7){_0x3052c7['_time']=_0x280771;const _0x947ce9=this['_inputs'],_0x1b44f2=this['_outputs'],_0x2e927e=this['_curves'],_0x273702=_0x3052c7['_cache'],_0x1465ee=_0x3052c7['_results'];for(let _0x255d6a=0x1*0x476+-0xbdd*-0x2+-0x1c30;_0x255d6a<_0x947ce9['length'];++_0x255d6a)_0x273702[_0x255d6a]['update'](_0x280771,_0x947ce9[_0x255d6a]['_data']);for(let _0x64ed80=0x1c2a+0x20a5+-0x3ccf;_0x64ed80<_0x2e927e['length'];++_0x64ed80){const _0x443b49=_0x2e927e[_0x64ed80],_0x3e8900=_0x1b44f2[_0x443b49['_output']],_0x3e720a=_0x1465ee[_0x64ed80];_0x273702[_0x443b49['_input']]['eval'](_0x3e720a,_0x443b49['_interpola'+'tion'],_0x3e8900);}}};h($h,'EMPTY',Object['freeze'](new $h('empty',Number['MAX_VALUE'],[],[],[])));let Qi=$h;class ra{static['joinPath'](_0x25cd2f,_0x6a42ca){_0x6a42ca=_0x6a42ca||'.';const _0x4c3a70=function(_0x5e26ba){return _0x5e26ba['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0x6a42ca,'g'),'\x5c'+_0x6a42ca);};return _0x25cd2f['map'](_0x4c3a70)['join'](_0x6a42ca);}static['splitPath'](_0x2deb0c,_0x41ba42){_0x41ba42=_0x41ba42||'.';const _0x4c6324=[];let _0xedd36='',_0x321985=-0x9e2+0x204a+-0x1668;for(;_0x321985<_0x2deb0c['length'];){let _0x45c8b=_0x2deb0c[_0x321985++];_0x45c8b==='\x5c'&&_0x321985<_0x2deb0c['length']?(_0x45c8b=_0x2deb0c[_0x321985++],_0x45c8b==='\x5c'||_0x45c8b===_0x41ba42?_0xedd36+=_0x45c8b:_0xedd36+='\x5c'+_0x45c8b):_0x45c8b===_0x41ba42?(_0x4c6324['push'](_0xedd36),_0xedd36=''):_0xedd36+=_0x45c8b;}return _0xedd36['length']>0x61e+-0x16*-0xee+-0x13*0x166&&_0x4c6324['push'](_0xedd36),_0x4c6324;}static['encode'](_0x5bfe21,_0x235e47,_0x76506b){return(Array['isArray'](_0x5bfe21)?_0x5bfe21['join']('/'):_0x5bfe21)+'/'+_0x235e47+'/'+(Array['isArray'](_0x76506b)?_0x76506b['join']('/'):_0x76506b);}['resolve'](_0x47a34f){return null;}['unresolve'](_0x47441f){}['update'](_0x11b792){}}class xu{constructor(_0x5761af,_0x532d4e,_0x2c0f99,_0x30fa9d){_0x5761af['set']?(this['_set']=_0x5761af['set'],this['_get']=_0x5761af['get']):this['_set']=_0x5761af,this['_type']=_0x532d4e,this['_component'+'s']=_0x2c0f99,this['_targetPat'+'h']=_0x30fa9d,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x1eb*-0x4+0x22e0+-0xfd*0x2b))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x1026+0x1e74+-0xe41))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0xda0+-0xf1+0xe9b))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class Sr{constructor(_0x594927){h(this,'_isPathInM'+'ask',(_0xccf2d1,_0x33ffe9)=>{const _0x236dbf=this['_mask'][_0xccf2d1];if(_0x236dbf){if(_0x236dbf['children']||_0x33ffe9&&_0x236dbf['value']!==!(0x19ec+-0x108*0x1f+0x60d))return!(-0x3a8+-0x1*-0x2e7+-0xc1*-0x1);}else return!(-0x1*-0xba7+0xf72+-0x1b18);return!(-0xe*-0x1d5+0x15d4+-0x2f79);});if(this['graph']=_0x594927,!_0x594927)return;this['_mask']=null;const _0x206245={},_0x2285f0=function(_0x5c1311){_0x206245[_0x5c1311['name']]=_0x5c1311;for(let _0x9acabf=0x50b*-0x2+0x1*0x13a+0x8dc;_0x9acabf<_0x5c1311['children']['length'];++_0x9acabf)_0x2285f0(_0x5c1311['children'][_0x9acabf]);};_0x2285f0(_0x594927),this['nodes']=_0x206245,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x2ce50b=function(_0xf55ac6){let _0x343934=_0xf55ac6;for(;_0x343934&&!(_0x343934 instanceof lt);)_0x343934=_0x343934['parent'];let _0x40d78f;return _0x343934&&(_0x343934['render']?_0x40d78f=_0x343934['render']['meshInstan'+'ces']:_0x343934['model']&&(_0x40d78f=_0x343934['model']['meshInstan'+'ces'])),_0x40d78f;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x471781){const _0x36ea13=_0x471781['localPosit'+'ion'],_0x2d63b3=function(_0x5ddbea){_0x36ea13['set'](..._0x5ddbea);};return Sr['createAnim'+'Target'](_0x2d63b3,'vector',0x1211+0x305*0xc+0x364a*-0x1,_0x471781,'localPosit'+'ion');},'localRotation':function(_0x56094a){const _0x3b8b98=_0x56094a['localRotat'+'ion'],_0x4fb07d=function(_0xd4c9d4){_0x3b8b98['set'](..._0xd4c9d4);};return Sr['createAnim'+'Target'](_0x4fb07d,'quaternion',-0x7*-0x43a+-0x4*-0x359+-0x2af6,_0x56094a,'localRotat'+'ion');},'localScale':function(_0x1f0e2f){const _0x255075=_0x1f0e2f['localScale'],_0x37d1d5=function(_0x43ff73){_0x255075['set'](..._0x43ff73);};return Sr['createAnim'+'Target'](_0x37d1d5,'vector',-0x1c2f+0x8eb+0x7*0x2c1,_0x1f0e2f,'localScale');},'weight':function(_0xbba320,_0x5342d1){_0x5342d1['indexOf']('name.')===-0x1*0x2702+-0x22f9+0x6b*0xb1?_0x5342d1=_0x5342d1['replace']('name.',''):_0x5342d1=Number(_0x5342d1);const _0x49390b=_0x2ce50b(_0xbba320);let _0x46758c;if(_0x49390b){for(let _0x20be9e=-0x256e+0x20b*-0xd+0x3ffd;_0x20be9e<_0x49390b['length'];++_0x20be9e)if(_0x49390b[_0x20be9e]['node']['name']===_0xbba320['name']&&_0x49390b[_0x20be9e]['morphInsta'+'nce']){const _0x351239=_0x49390b[_0x20be9e]['morphInsta'+'nce'],_0x5cfb33=_0x3e99a5=>{_0x351239['setWeight'](_0x5342d1,_0x3e99a5[-0x12a*-0x17+0x6cd+0x1*-0x2193]);};_0x46758c||(_0x46758c=[]),_0x46758c['push'](_0x5cfb33);}}if(_0x46758c){const _0x1f8335=_0xd668d5=>{for(let _0x42bc1c=0x2af*-0x9+0x20e3*-0x1+0x390a;_0x42bc1c<_0x46758c['length'];++_0x42bc1c)_0x46758c[_0x42bc1c](_0xd668d5);};return Sr['createAnim'+'Target'](_0x1f8335,'number',0x1bfa*0x1+-0xbb*-0x21+0x16*-0x25e,_0xbba320,'weight.'+_0x5342d1);}return null;},'materialTexture':(_0x29caa5,_0x393152)=>{const _0x4befde=_0x2ce50b(_0x29caa5);if(_0x4befde){let _0x414f25;for(let _0x41257b=0x23bd+-0x2*0xd72+-0x97*0xf;_0x41257b<_0x4befde['length'];++_0x41257b)if(_0x4befde[_0x41257b]['node']['name']===_0x29caa5['name']){_0x414f25=_0x4befde[_0x41257b];break;}if(_0x414f25){const _0x23984a=_0x29928b=>{const _0x137716=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x29928b[-0x202c+-0x1*0x1999+-0x17*-0x283]);_0x137716&&_0x137716['resource']&&_0x137716['type']==='texture'&&(_0x414f25['material'][_0x393152]=_0x137716['resource'],_0x414f25['material']['update']());};return Sr['createAnim'+'Target'](_0x23984a,'vector',-0x1f7+-0x224b*-0x1+-0x5*0x677,_0x29caa5,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x426be4){if(!this['_mask'])return!(0x1db3+-0x334+-0x1a7f);const _0x215bc1=[_0x426be4['entityPath'][-0xe28+-0x4f0*-0x1+0x127*0x8],this['graph']['name']];for(let _0x4424cf=-0x9b7+-0x17b5+0x216c;_0x4424cf<_0x215bc1['length'];++_0x4424cf){let _0x3e6ca8=_0x215bc1[_0x4424cf];if(this['_isPathInM'+'ask'](_0x3e6ca8,_0x426be4['entityPath']['length']===0x1*-0x25c3+-0x363*0x5+0x36b3))return!(0x584+0xc7a*0x3+-0x2af2);for(let _0x467c85=0xb*0x332+-0x1187+-0x119e;_0x467c85<_0x426be4['entityPath']['length'];_0x467c85++)if(_0x3e6ca8+='/'+_0x426be4['entityPath'][_0x467c85],this['_isPathInM'+'ask'](_0x3e6ca8,_0x467c85===_0x426be4['entityPath']['length']-(0xa*-0xb+-0x852+0x8c1)))return!(-0x1a78+-0x7c5+0x5*0x6d9);}return!(-0x96e+0xb8d+0x2*-0x10f);}['findNode'](_0x2a9cda){if(!this['_isPathAct'+'ive'](_0x2a9cda))return null;let _0x29d364;if(this['graph']&&(_0x29d364=this['graph']['findByPath'](_0x2a9cda['entityPath']),_0x29d364||(_0x29d364=this['graph']['findByPath'](_0x2a9cda['entityPath']['slice'](0x113c+0x1*0x2293+-0x33ce)))),!_0x29d364){_0x29d364=this['nodes'][_0x2a9cda['entityPath'][_0x2a9cda['entityPath']['length']-(0x74*0x4a+-0x1625+-0xb62)]||''];const _0x1dc401=ra['encode'](_0x2a9cda['entityPath'][_0x2a9cda['entityPath']['length']-(-0x2405*-0x1+-0x3*-0x229+-0x1*0x2a7f)]||'','graph',_0x2a9cda['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x1dc401]===-0x1853+0x10c*0x1d+-0x608&&w['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x1dc401+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x1dc401])?this['visitedFal'+'lbackGraph'+'Paths'][_0x1dc401]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x1dc401]=0x1*0x1ad7+-0x3*-0x4a3+-0x28c0;}return _0x29d364;}static['createAnim'+'Target'](_0x258a67,_0x39f78f,_0x5fdb27,_0x4b3ff3,_0x1150b7,_0x394480){const _0x4bd1d4=ra['encode'](_0x4b3ff3['path'],_0x394480||'entity',_0x1150b7);return new xu(_0x258a67,_0x39f78f,_0x5fdb27,_0x4bd1d4);}['resolve'](_0x5e843d){const _0x20c342=ra['encode'](_0x5e843d['entityPath'],_0x5e843d['component'],_0x5e843d['propertyPa'+'th']);let _0x468a23=this['targetCach'+'e'][_0x20c342];if(_0x468a23)return _0x468a23;const _0x596bff=this['findNode'](_0x5e843d);if(!_0x596bff)return null;const _0x37052d=this['handlers'][_0x5e843d['propertyPa'+'th']];return!_0x37052d||(_0x468a23=_0x37052d(_0x596bff),!_0x468a23)?null:(this['targetCach'+'e'][_0x20c342]=_0x468a23,this['nodeCounts'][_0x596bff['path']]?this['nodeCounts'][_0x596bff['path']]++:(this['activeNode'+'s']['push'](_0x596bff),this['nodeCounts'][_0x596bff['path']]=-0x2150+-0x3a*0x13+0x259f*0x1),_0x468a23);}['unresolve'](_0x34e1ea){if(_0x34e1ea['component']!=='graph')return;const _0x3fd5c3=this['nodes'][_0x34e1ea['entityPath'][_0x34e1ea['entityPath']['length']-(0x1f*-0xa+-0x942+0xa79)]||''];if(this['nodeCounts'][_0x3fd5c3['path']]--,this['nodeCounts'][_0x3fd5c3['path']]===0x4*-0x232+-0x24ae+0x211*0x16){const _0x4c38de=this['activeNode'+'s'],_0x566a4e=_0x4c38de['indexOf'](_0x3fd5c3['node']),_0x515640=_0x4c38de['length'];_0x566a4e<_0x515640-(-0x1d24+-0x3ce+-0x20f3*-0x1)&&(_0x4c38de[_0x566a4e]=_0x4c38de[_0x515640-(0x7e5+0x262b+-0x1*0x2e0f)]),_0x4c38de['pop']();}}['update'](_0x5d13b9){const _0x19fede=this['activeNode'+'s'];for(let _0x3dae6b=-0x1b69*-0x1+0x1fc7+0x1d98*-0x2;_0x3dae6b<_0x19fede['length'];++_0x3dae6b)_0x19fede[_0x3dae6b]['_dirtifyLo'+'cal']();}['assignMask'](_0x58c9cc){return _0x58c9cc!==this['_mask']?(this['_mask']=_0x58c9cc,!(-0xef*-0x15+0x1749*-0x1+0x1d7*0x2)):!(-0x1025*-0x2+-0xe9*0xf+0xa*-0x1dd);}}class Wv extends we{constructor(){super(...arguments),h(this,'_animation'+'s',{}),h(this,'_assets',[]),h(this,'_loop',!(-0xaaa+-0xe5e*-0x2+0x12*-0x101)),h(this,'animEvalua'+'tor',null),h(this,'model',null),h(this,'skeleton',null),h(this,'fromSkel',null),h(this,'toSkel',null),h(this,'animations'+'Index',{}),h(this,'prevAnim',null),h(this,'currAnim',null),h(this,'blend',-0x47*-0x2+0x19f*0x6+-0x292*0x4),h(this,'blending',!(0xb9*-0x11+0x12*-0x7c+-0xa81*-0x2)),h(this,'blendSpeed',0x1327*-0x1+-0x984+0x1cab),h(this,'activate',!(-0x1e19+0x1*0x815+0x1604)),h(this,'speed',-0x1953+-0x1*0x29d+-0x137*-0x17);}set['animations'](_0x57aaaf){this['_animation'+'s']=_0x57aaaf,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x516df2){const _0x2b03c8=this['_assets'];if(_0x2b03c8&&_0x2b03c8['length']){for(let _0x153845=0x5fe*-0x4+0x1742+0x1*0xb6;_0x153845<_0x2b03c8['length'];_0x153845++)if(_0x2b03c8[_0x153845]){const _0x2b1eae=this['system']['app']['assets']['get'](_0x2b03c8[_0x153845]);if(_0x2b1eae){_0x2b1eae['off']('change',this['onAssetCha'+'nged'],this),_0x2b1eae['off']('remove',this['onAssetRem'+'oved'],this);const _0x4a4ddb=this['animations'+'Index'][_0x2b1eae['id']];this['currAnim']===_0x4a4ddb&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x4a4ddb],delete this['animations'+'Index'][_0x2b1eae['id']];}}}this['_assets']=_0x516df2;const _0x442b3d=_0x516df2['map'](_0x25c22a=>_0x25c22a instanceof pe?_0x25c22a['id']:_0x25c22a);this['loadAnimat'+'ionAssets'](_0x442b3d);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0x2353f2){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0x2353f2,this['skeleton']['addTime'](0xdfc*-0x1+-0x19b3+0x27af),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0x56412d=this['animEvalua'+'tor']['clips'];for(let _0x5c3310=-0x2617+-0x2f*0x20+0x2bf7;_0x5c3310<_0x56412d['length'];++_0x5c3310)_0x56412d[_0x5c3310]['time']=_0x2353f2;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0xfb06c1=this['animEvalua'+'tor']['clips'];if(_0xfb06c1['length']>-0x1*0x1625+-0x1f16+0x1*0x353b)return _0xfb06c1[_0xfb06c1['length']-(0x5c9*0x6+-0x2476+0x1*0x1c1)]['time'];}return-0xff7+-0x2039+0x3030;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(w['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),-0x2e*0xc1+0x262+0x204c);}set['loop'](_0x93c801){if(this['_loop']=_0x93c801,this['skeleton']&&(this['skeleton']['looping']=_0x93c801),this['animEvalua'+'tor']){for(let _0x1b1213=-0x1*-0x19cb+0x2279+-0x3c44;_0x1b1213<this['animEvalua'+'tor']['clips']['length'];++_0x1b1213)this['animEvalua'+'tor']['clips'][_0x1b1213]['loop']=_0x93c801;}}get['loop'](){return this['_loop'];}['play'](_0x25b6a0,_0x25f23f=-0x9*-0x379+0x1233+-0x3174){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x25b6a0]){w['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x25b6a0+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x25b6a0,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0x448619=this['animations'][this['prevAnim']],_0x23edc2=this['animations'][this['currAnim']];if(this['blending']=_0x25f23f>-0x1*-0xf59+-0x8f8+-0x661*0x1&&!!this['prevAnim'],this['blending']&&(this['blend']=0x25b1+0x15*-0x11a+-0xe8f,this['blendSpeed']=(0x2203+0x5*0x21a+-0x2c84)/_0x25f23f),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0x448619,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x23edc2):this['skeleton']['animation']=_0x23edc2),this['animEvalua'+'tor']){const _0x159c66=this['animEvalua'+'tor'];if(this['blending']){for(;_0x159c66['clips']['length']>-0x16*0x37+0x1cd6+-0x181b;)_0x159c66['removeClip'](-0xcaa+-0x84e*0x4+-0x7*-0x68e);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x4fcfc6=new Dh(this['animations'][this['currAnim']],-0x2bd*0x3+-0x9*0x311+-0x6*-0x5f8,-0x79+-0x4e3+0x55d,!(0x46*-0x76+0xda8+0x129c),this['loop']);_0x4fcfc6['name']=this['currAnim'],_0x4fcfc6['blendWeigh'+'t']=this['blending']?0x2375+0x1*-0x2230+-0x145:-0x270f+-0x1163*-0x2+-0x3d*-0x12,_0x4fcfc6['reset'](),this['animEvalua'+'tor']['addClip'](_0x4fcfc6);}}this['playing']=!(0x26d*-0x3+-0x425*-0x9+-0x1e06);}}['getAnimati'+'on'](_0x5f2805){return this['animations'][_0x5f2805];}['setModel'](_0x22b3ce){_0x22b3ce!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x22b3ce,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x238b96=this['entity']['model'];if(_0x238b96){const _0x57306a=_0x238b96['model'];_0x57306a&&_0x57306a!==this['model']&&this['setModel'](_0x57306a);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x25e51b=Object['keys'](this['_animation'+'s']);_0x25e51b['length']>-0x19eb+0x24d1+-0xae6&&this['play'](_0x25e51b[0x1023+0x2ac*-0x5+0xed*-0x3]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x439d77=this['model'],_0xcd482c=this['animations'];let _0x365c2b=!(0x23f7+0x132a*0x1+-0x3720),_0x3e5e60=!(-0xdf9+0x23*0xd+0xc33);for(const _0x4871c9 in _0xcd482c)_0xcd482c['hasOwnProp'+'erty'](_0x4871c9)&&(_0xcd482c[_0x4871c9]['constructo'+'r']===Qi?_0x3e5e60=!(0xa93*-0x3+-0x2005+0x3fbe):_0x365c2b=!(-0x95*0x3+0x119+0x2*0x53));const _0x4d12d8=_0x439d77['getGraph']();_0x365c2b?(this['fromSkel']=new Sf(_0x4d12d8),this['toSkel']=new Sf(_0x4d12d8),this['skeleton']=new Sf(_0x4d12d8),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x4d12d8)):_0x3e5e60&&(this['animEvalua'+'tor']=new Gv(new Sr(this['entity'])));}['loadAnimat'+'ionAssets'](_0x214363){if(!_0x214363||!_0x214363['length'])return;const _0x4f5cac=this['system']['app']['assets'],_0x4e0f32=_0x1c7684=>{if(_0x1c7684['resources']['length']>-0x1*-0x20e9+-0xc*-0x66+-0x25b0){for(let _0x3a3f23=-0x2b*-0x54+0x26a*-0xb+-0x1b*-0x76;_0x3a3f23<_0x1c7684['resources']['length'];_0x3a3f23++)this['animations'][_0x1c7684['resources'][_0x3a3f23]['name']]=_0x1c7684['resources'][_0x3a3f23],this['animations'+'Index'][_0x1c7684['id']]=_0x1c7684['resources'][_0x3a3f23]['name'];}else this['animations'][_0x1c7684['name']]=_0x1c7684['resource'],this['animations'+'Index'][_0x1c7684['id']]=_0x1c7684['name'];this['animations']=this['animations'];},_0x20f96e=_0x53389f=>{_0x53389f['off']('change',this['onAssetCha'+'nged'],this),_0x53389f['on']('change',this['onAssetCha'+'nged'],this),_0x53389f['off']('remove',this['onAssetRem'+'oved'],this),_0x53389f['on']('remove',this['onAssetRem'+'oved'],this),_0x53389f['resource']?_0x4e0f32(_0x53389f):(_0x53389f['once']('load',_0x4e0f32,this),this['enabled']&&this['entity']['enabled']&&_0x4f5cac['load'](_0x53389f));};for(let _0x356d44=0x1*-0x25ad+0x7fd+0x98*0x32,_0x23969b=_0x214363['length'];_0x356d44<_0x23969b;_0x356d44++){const _0x21788c=_0x4f5cac['get'](_0x214363[_0x356d44]);_0x21788c?_0x20f96e(_0x21788c):_0x4f5cac['on']('add:'+_0x214363[_0x356d44],_0x20f96e);}}['onAssetCha'+'nged'](_0x5c6cea,_0x59a940,_0x27e216,_0x416103){if(_0x59a940==='resource'||_0x59a940==='resources'){if(_0x59a940==='resources'&&_0x27e216&&_0x27e216['length']===0xf77+0x13c2+-0x2339&&(_0x27e216=null),_0x27e216){let _0x5da3c6=!(0xeb9*0x2+-0x1890+-0x4e1);if(_0x27e216['length']>-0x87+0x5b2*0x1+-0x52a){if(_0x416103&&_0x416103['length']>-0x156e+-0x1e4d+-0x2b*-0x134){for(let _0x42b620=-0x395*-0x2+0x37*0x43+-0x158f;_0x42b620<_0x416103['length'];_0x42b620++)delete this['animations'][_0x416103[_0x42b620]['name']];}else delete this['animations'][_0x5c6cea['name']];_0x5da3c6=!(0x2181*-0x1+-0x1b5+-0xf*-0x259);for(let _0x5b5641=-0x103a+-0x151*0xd+0x2157;_0x5b5641<_0x27e216['length'];_0x5b5641++)this['animations'][_0x27e216[_0x5b5641]['name']]=_0x27e216[_0x5b5641],!_0x5da3c6&&this['currAnim']===_0x27e216[_0x5b5641]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x5da3c6=!(-0x1*0x2b9+0x854+-0x59b),this['play'](_0x27e216[_0x5b5641]['name']));_0x5da3c6||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x416103&&_0x416103['length']>0x1aa7+0x374*0xb+0x1*-0x40a2){for(let _0x437d74=0xa90*0x2+0x72a*-0x2+-0x6cc;_0x437d74<_0x416103['length'];_0x437d74++)delete this['animations'][_0x416103[_0x437d74]['name']];}this['animations'][_0x5c6cea['name']]=_0x27e216[-0x18dd*-0x1+0x24f9+-0x3dd6]||_0x27e216,_0x5da3c6=!(-0x183d+-0x1ba1*0x1+0x33df),this['currAnim']===_0x5c6cea['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x5da3c6=!(0x3c0+-0x21a2*-0x1+-0x2562),this['play'](_0x5c6cea['name'])),_0x5da3c6||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x5c6cea['id']]=_0x5c6cea['name'];}else{if(_0x416103['length']>-0x43f*0x6+-0x16d3*-0x1+0x22*0x14){for(let _0x4d913e=0x1bfa+0x14c4+-0x2*0x185f;_0x4d913e<_0x416103['length'];_0x4d913e++)delete this['animations'][_0x416103[_0x4d913e]['name']],this['currAnim']===_0x416103[_0x4d913e]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x5c6cea['name']],this['currAnim']===_0x5c6cea['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x5c6cea['id']];}}}['onAssetRem'+'oved'](_0x52f02d){if(_0x52f02d['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x52f02d['resources']['length']>-0x11b7*0x1+-0x1a42+0x2bfa){for(let _0x4eca57=0xb*0x14a+-0x16*0x1be+0x1826;_0x4eca57<_0x52f02d['resources']['length'];_0x4eca57++)delete this['animations'][_0x52f02d['resources'][_0x4eca57]['name']],this['currAnim']===_0x52f02d['resources'][_0x4eca57]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x52f02d['name']],this['currAnim']===_0x52f02d['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x52f02d['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(0x1f1*0xd+-0x29*0x1d+-0x1497),this['skeleton']&&(this['skeleton']['currentTim'+'e']=0x1*0x74a+0x95f*-0x3+-0x6f1*-0x3,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x497491=0x2*0x45d+-0x150d+0xc53;_0x497491<this['animEvalua'+'tor']['clips']['length'];++_0x497491)this['animEvalua'+'tor']['clips'][_0x497491]['stop']();this['animEvalua'+'tor']['update'](0x1a6b*0x1+0x2044+0xb5*-0x53),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x64bba1=this['assets'],_0x1825d1=this['system']['app']['assets'];if(_0x64bba1)for(let _0x5d0159=-0x1*-0x26db+-0xbb4*-0x2+0x63*-0xa1,_0x42a52b=_0x64bba1['length'];_0x5d0159<_0x42a52b;_0x5d0159++){let _0x8c4fe6=_0x64bba1[_0x5d0159];_0x8c4fe6 instanceof pe||(_0x8c4fe6=_0x1825d1['get'](_0x8c4fe6)),_0x8c4fe6&&!_0x8c4fe6['resource']&&_0x1825d1['load'](_0x8c4fe6);}if(this['activate']&&!this['currAnim']){const _0x5b4162=Object['keys'](this['animations']);_0x5b4162['length']>-0x8f5*-0x1+0x803+-0x10f8&&this['play'](_0x5b4162[-0x155c*-0x1+0x701*0x1+-0x35*0x89]);}}['onBeforeRe'+'move'](){for(let _0x2e0838=-0xb*0x1fd+-0x596+0x1b75;_0x2e0838<this['assets']['length'];_0x2e0838++){let _0x2fc1e3=this['assets'][_0x2e0838];typeof _0x2fc1e3=='number'&&(_0x2fc1e3=this['system']['app']['assets']['get'](_0x2fc1e3)),_0x2fc1e3&&(_0x2fc1e3['off']('change',this['onAssetCha'+'nged'],this),_0x2fc1e3['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x49d986){if(this['blending']&&(this['blend']+=_0x49d986*this['blendSpeed'],this['blend']>=-0x3b3*0xa+-0x1*-0x119b+0x1364&&(this['blend']=-0x2345+-0x3a4*-0x4+0x14b6)),this['playing']){const _0x247973=this['skeleton'];if(_0x247973!==null&&this['model']!==null){if(this['blending'])_0x247973['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x4cb7e1=_0x49d986*this['speed'];_0x247973['addTime'](_0x4cb7e1),this['speed']>-0x112f+0x1d90+-0xc61*0x1&&_0x247973['_time']===_0x247973['animation']['duration']&&!this['loop']?this['playing']=!(-0x1ad0+-0x115*0x17+-0xced*-0x4):this['speed']<0x1352+-0x126d+-0xe5*0x1&&_0x247973['_time']===-0xf*0x14c+0xb89+0x7eb&&!this['loop']&&(this['playing']=!(-0x1*-0x1069+0x4*-0x815+-0x2*-0x7f6));}this['blending']&&this['blend']===0x77*-0x3a+-0x132d+0x2e24&&(_0x247973['animation']=this['toSkel']['animation']),_0x247973['updateGrap'+'h']();}}const _0x184ea6=this['animEvalua'+'tor'];if(_0x184ea6){for(let _0x2005fc=0x2607+-0x1447+-0x4*0x470;_0x2005fc<_0x184ea6['clips']['length'];++_0x2005fc){const _0x108060=_0x184ea6['clips'][_0x2005fc];_0x108060['speed']=this['speed'],this['playing']?_0x108060['resume']():_0x108060['pause']();}this['blending']&&_0x184ea6['clips']['length']>0xaa1+-0x1ad0+0x38*0x4a&&(_0x184ea6['clips'][-0xe21+0xe4b*-0x1+0x1c6d]['blendWeigh'+'t']=this['blend']),_0x184ea6['update'](_0x49d986);}this['blending']&&this['blend']===0x12c+0x24c0+-0x25eb*0x1&&(this['blending']=!(-0x1*-0x2263+0x8a5*0x2+0x2*-0x19d6));}}class LL{constructor(){this['enabled']=!(-0x22d*-0x7+-0xa75+0xd*-0x5e);}}const Tu=['enabled'];class RL extends ct{constructor(_0x16339f){super(_0x16339f),this['id']='animation',this['ComponentT'+'ype']=Wv,this['DataType']=LL,this['schema']=Tu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x3f9522,_0x1f870b,_0x1f966e){_0x1f966e=['activate','enabled','loop','speed','assets'];for(const _0x5677f1 of _0x1f966e)_0x1f870b['hasOwnProp'+'erty'](_0x5677f1)&&(_0x3f9522[_0x5677f1]=_0x1f870b[_0x5677f1]);super['initialize'+'ComponentD'+'ata'](_0x3f9522,_0x1f870b,Tu);}['cloneCompo'+'nent'](_0x54d9c1,_0x29f36c){this['addCompone'+'nt'](_0x29f36c,{}),_0x29f36c['animation']['assets']=_0x54d9c1['animation']['assets']['slice'](),_0x29f36c['animation']['speed']=_0x54d9c1['animation']['speed'],_0x29f36c['animation']['loop']=_0x54d9c1['animation']['loop'],_0x29f36c['animation']['activate']=_0x54d9c1['animation']['activate'],_0x29f36c['animation']['enabled']=_0x54d9c1['animation']['enabled'];const _0x1b87e0={},_0x5c4f2d=_0x54d9c1['animation']['animations'];for(const _0x349e26 in _0x5c4f2d)_0x5c4f2d['hasOwnProp'+'erty'](_0x349e26)&&(_0x1b87e0[_0x349e26]=_0x5c4f2d[_0x349e26]);_0x29f36c['animation']['animations']=_0x1b87e0;const _0x40b06b={},_0x452b97=_0x54d9c1['animation']['animations'+'Index'];for(const _0x3ced13 in _0x452b97)_0x452b97['hasOwnProp'+'erty'](_0x3ced13)&&(_0x40b06b[_0x3ced13]=_0x452b97[_0x3ced13]);return _0x29f36c['animation']['animations'+'Index']=_0x40b06b,_0x29f36c['animation'];}['onBeforeRe'+'move'](_0x194cfb,_0x43f097){_0x43f097['onBeforeRe'+'move']();}['onUpdate'](_0x1062ea){const _0x3a1347=this['store'];for(const _0x30b297 in _0x3a1347)if(_0x3a1347['hasOwnProp'+'erty'](_0x30b297)){const _0x32dd7b=_0x3a1347[_0x30b297];_0x32dd7b['data']['enabled']&&_0x32dd7b['entity']['enabled']&&_0x32dd7b['entity']['animation']['update'](_0x1062ea);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Wv['prototype'],Tu);class ml{constructor(_0x379f20,_0x318be0,_0x1a8608,_0x344490,_0x394dc4=-0x1ff*-0x1+0x24bf+-0x26bd){this['_state']=_0x379f20,this['_parent']=_0x318be0,this['_name']=_0x1a8608,Array['isArray'](_0x344490)?(this['_point']=new J(_0x344490[-0xa03+0x1349+-0x946],_0x344490[0xcb6+-0x5d*-0x2+-0xd6f]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x344490,this['_pointLeng'+'th']=_0x344490),this['_speed']=_0x394dc4,this['_weightedS'+'peed']=0x3*-0xaed+0xb69+0x155f,this['_weight']=-0xcbf+-0x14b8+0x2178,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x48c0cb){this['_weight']=_0x48c0cb;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x1efc61=this['_state']['totalWeigh'+'t'];return _0x1efc61===0x4*0x1e8+-0x287*-0x1+0x71*-0x17?-0x14eb+0xb78*0x1+-0x1*-0x973:this['weight']/_0x1efc61;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x309d85){this['_weightedS'+'peed']=_0x309d85;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x28e993){this['_animTrack']=_0x28e993;}get['animTrack'](){return this['_animTrack'];}}class Jn extends ml{constructor(_0x7b456b,_0x28ff70,_0x466e13,_0x150501,_0x4bf6d9,_0x2ccb97,_0x1e01ee,_0x51345f,_0x5a48a0){super(_0x7b456b,_0x28ff70,_0x466e13,_0x150501),this['_parameter'+'s']=_0x4bf6d9,this['_parameter'+'Values']=new Array(_0x4bf6d9['length']),this['_children']=[],this['_findParam'+'eter']=_0x5a48a0,this['_syncAnima'+'tions']=_0x1e01ee!==!(0x1925+0xe02+0x2726*-0x1),this['_pointCach'+'e']={};for(let _0x532920=-0xc39+0xa1b+-0x2*-0x10f;_0x532920<_0x2ccb97['length'];_0x532920++){const _0x2b697e=_0x2ccb97[_0x532920];_0x2b697e['children']?this['_children']['push'](_0x51345f(_0x2b697e['type'],_0x7b456b,this,_0x2b697e['name'],0x1*0x33a+-0x182*0x2+-0x35,_0x2b697e['parameter']?[_0x2b697e['parameter']]:_0x2b697e['parameters'],_0x2b697e['children'],_0x2b697e['syncAnimat'+'ions'],_0x51345f,_0x5a48a0)):this['_children']['push'](new ml(_0x7b456b,this,_0x2b697e['name'],_0x2b697e['point'],_0x2b697e['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x829bf1){for(let _0xa1a2e0=0x27*0x25+-0x1d43+-0x54*-0x48;_0xa1a2e0<this['_children']['length'];_0xa1a2e0++)if(this['_children'][_0xa1a2e0]['name']===_0x829bf1)return this['_children'][_0xa1a2e0];return null;}['updatePara'+'meterValue'+'s'](){let _0x5bea58=!(0x23d8+0x1311+0x1*-0x36e9);for(let _0x827f3=-0x2*-0x1027+0x1354+-0x33a2;_0x827f3<this['_parameter'+'Values']['length'];_0x827f3++){const _0xac208b=this['_findParam'+'eter'](this['_parameter'+'s'][_0x827f3])['value'];this['_parameter'+'Values'][_0x827f3]!==_0xac208b&&(this['_parameter'+'Values'][_0x827f3]=_0xac208b,_0x5bea58=!(-0x1fb1+0xbc7+-0x13eb*-0x1));}return _0x5bea58;}['getNodeWei'+'ghtedDurat'+'ion'](_0x5dc6e1){return this['_children'][_0x5dc6e1]['animTrack']['duration']/this['_children'][_0x5dc6e1]['speedMulti'+'plier']*this['_children'][_0x5dc6e1]['weight'];}['getNodeCou'+'nt'](){let _0x1dfede=-0x3*-0x584+0x22d*-0xe+-0x6f5*-0x2;for(let _0x8c22ea=-0x9bf+-0x2ab+-0x2*-0x635;_0x8c22ea<this['_children']['length'];_0x8c22ea++)this['_children'][_0x8c22ea]['constructo'+'r']===Jn?_0x1dfede+=this['_children'][_0x8c22ea]['getNodeCou'+'nt']():_0x1dfede++;return _0x1dfede;}}class OL extends Jn{constructor(_0xa79849,_0x1e6c24,_0xf18664,_0x5bb1df,_0x24d51a,_0xa77a8a,_0x138356,_0xe804bc,_0x4eb518){_0xa77a8a['sort']((_0x52e185,_0x278cf3)=>_0x52e185['point']-_0x278cf3['point']),super(_0xa79849,_0x1e6c24,_0xf18664,_0x5bb1df,_0x24d51a,_0xa77a8a,_0x138356,_0xe804bc,_0x4eb518);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x344f32=0x1*0xc9f+-0x7fd+-0x4a2;this['_children'][0x18de+-0x786+0xc*-0x172]['weight']=-0x7ec+-0x207+0x9f3;for(let _0x5d0793=0x1*-0x66b+0xc53+-0x5e8;_0x5d0793<this['_children']['length'];_0x5d0793++){const _0x42e675=this['_children'][_0x5d0793];if(_0x5d0793!==this['_children']['length']-(-0x2cf*0x2+-0x9*0x2f7+0x1*0x204e)){const _0xaaebb3=this['_children'][_0x5d0793+(-0xdf*0x9+0x11*0x167+-0xfff)];if(_0x42e675['point']===_0xaaebb3['point'])_0x42e675['weight']=0x2647+0x2*-0x9db+-0x61*0x31+0.5,_0xaaebb3['weight']=0xcf7+-0x26d7*0x1+-0xcf0*-0x2+0.5;else{if(Y['between'](this['_parameter'+'Values'][0xa*0x3d9+0x1*-0x533+-0x2147],_0x42e675['point'],_0xaaebb3['point'],!(-0x1a5f*0x1+-0x4c3*0x3+-0x2*-0x1454))){const _0x3f4bfc=Math['abs'](_0x42e675['point']-_0xaaebb3['point']),_0xddfc9a=Math['abs'](_0x42e675['point']-this['_parameter'+'Values'][0x20d3+0x9ac+-0x2a7f]),_0x5cb2c4=(_0x3f4bfc-_0xddfc9a)/_0x3f4bfc;_0x42e675['weight']=_0x5cb2c4,_0xaaebb3['weight']=-0x7a2*0x4+0x1*-0x1f28+0x1*0x3db1-_0x5cb2c4;}else _0xaaebb3['weight']=-0x2336+-0xcca*0x2+0x3cca;}}this['_syncAnima'+'tions']&&(_0x344f32+=_0x42e675['animTrack']['duration']/_0x42e675['absoluteSp'+'eed']*_0x42e675['weight']);}if(this['_syncAnima'+'tions'])for(let _0x2b1aca=0xe*-0x246+-0xd2b+0x1*0x2cff;_0x2b1aca<this['_children']['length'];_0x2b1aca++){const _0x32fc16=this['_children'][_0x2b1aca];_0x32fc16['weightedSp'+'eed']=_0x32fc16['animTrack']['duration']/_0x32fc16['absoluteSp'+'eed']/_0x344f32;}}}const ki=class ki extends Jn{['pointDista'+'nceCache'](_0x5d6733,_0x359cc4){const _0x1d2995=''+_0x5d6733+_0x359cc4;return this['_pointCach'+'e'][_0x1d2995]||(this['_pointCach'+'e'][_0x1d2995]=this['_children'][_0x359cc4]['point']['clone']()['sub'](this['_children'][_0x5d6733]['point'])),this['_pointCach'+'e'][_0x1d2995];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x40e359,_0x1a8baa;ki['_p']['set'](...this['_parameter'+'Values']),_0x40e359=0x2*0xd67+-0x653*-0x1+-0x303*0xb,_0x1a8baa=0x838+0x26c9*0x1+-0x2f01;for(let _0x27ac2f=-0x1aa7+0xab2*0x1+-0x5f*-0x2b;_0x27ac2f<this['_children']['length'];_0x27ac2f++){const _0x79f8e4=this['_children'][_0x27ac2f],_0x5e9688=_0x79f8e4['point'];ki['_pip']['set'](ki['_p']['x'],ki['_p']['y'])['sub'](_0x5e9688);let _0x443446=Number['MAX_VALUE'];for(let _0x55157c=0x12c+0x77b+-0x1bb*0x5;_0x55157c<this['_children']['length'];_0x55157c++){if(_0x27ac2f===_0x55157c)continue;const _0x256fac=this['pointDista'+'nceCache'](_0x27ac2f,_0x55157c),_0x327f7a=Y['clamp'](-0x4*0x586+-0x1d32+-0x9*-0x5b3-ki['_pip']['dot'](_0x256fac)/_0x256fac['lengthSq'](),-0x4*0x3b5+-0x334+-0x241*-0x8,0x2a*-0x12+0xdba+-0xac5*0x1);_0x327f7a<_0x443446&&(_0x443446=_0x327f7a);}_0x79f8e4['weight']=_0x443446,_0x40e359+=_0x443446,this['_syncAnima'+'tions']&&(_0x1a8baa+=_0x79f8e4['animTrack']['duration']/_0x79f8e4['absoluteSp'+'eed']*_0x79f8e4['weight']);}for(let _0x1543fc=-0x2572*0x1+-0x255b*0x1+0x4acd;_0x1543fc<this['_children']['length'];_0x1543fc++){const _0x332588=this['_children'][_0x1543fc];_0x332588['weight']=_0x332588['_weight']/_0x40e359,this['_syncAnima'+'tions']&&(_0x332588['weightedSp'+'eed']=_0x332588['animTrack']['duration']/_0x332588['absoluteSp'+'eed']/_0x1a8baa);}}};h(ki,'_p',new J()),h(ki,'_pip',new J());let wu=ki;const Ui=class Ui extends Jn{['pointCache'](_0x545758,_0x3b64dc){const _0xb84af2=''+_0x545758+_0x3b64dc;return this['_pointCach'+'e'][_0xb84af2]||(this['_pointCach'+'e'][_0xb84af2]=new J((this['_children'][_0x3b64dc]['pointLengt'+'h']-this['_children'][_0x545758]['pointLengt'+'h'])/((this['_children'][_0x3b64dc]['pointLengt'+'h']+this['_children'][_0x545758]['pointLengt'+'h'])/(-0x1*-0xeab+-0x6bb+0x1*-0x7ee)),J['angleRad'](this['_children'][_0x545758]['point'],this['_children'][_0x3b64dc]['point'])*(0xfb2+-0x158d+0x5dd))),this['_pointCach'+'e'][_0xb84af2];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x427c6f,_0x279d39;Ui['_p']['set'](...this['_parameter'+'Values']);const _0x558771=Ui['_p']['length']();_0x427c6f=0xf9e+-0x1a7c+0xade,_0x279d39=-0x1c8c+0xd6*0x22+0x2*0x10;for(let _0x4ba2ea=0x1e7d+0x6f*-0x15+-0x1562;_0x4ba2ea<this['_children']['length'];_0x4ba2ea++){const _0x10413e=this['_children'][_0x4ba2ea],_0x32b259=_0x10413e['point'],_0x588227=_0x10413e['pointLengt'+'h'];let _0xced27=Number['MAX_VALUE'];for(let _0x5a9396=0xf45+0x43*-0x71+0x727*0x2;_0x5a9396<this['_children']['length'];_0x5a9396++){if(_0x4ba2ea===_0x5a9396)continue;const _0x2dc2e3=this['pointCache'](_0x4ba2ea,_0x5a9396),_0x89a8b9=this['_children'][_0x5a9396]['pointLengt'+'h'];Ui['_pip']['set']((_0x558771-_0x588227)/((_0x89a8b9+_0x588227)/(0xa*0x2d4+-0x5*0x42d+-0x765*0x1)),J['angleRad'](_0x32b259,Ui['_p'])*(0x172a*-0x1+-0x975+0x20a1));const _0x36fb5f=Y['clamp'](0x1*0x531+-0x7*-0xc7+-0xaa1-Math['abs'](Ui['_pip']['dot'](_0x2dc2e3)/_0x2dc2e3['lengthSq']()),-0x590+-0x11b3+0x1743,-0xa*-0xb3+0x2067*0x1+0x1*-0x2764);_0x36fb5f<_0xced27&&(_0xced27=_0x36fb5f);}_0x10413e['weight']=_0xced27,_0x427c6f+=_0xced27,this['_syncAnima'+'tions']&&(_0x279d39+=_0x10413e['animTrack']['duration']/_0x10413e['absoluteSp'+'eed']*_0x10413e['weight']);}for(let _0x2c4770=-0xa0e+-0x757+0x3d*0x49;_0x2c4770<this['_children']['length'];_0x2c4770++){const _0x5c1afb=this['_children'][_0x2c4770];if(_0x5c1afb['weight']=_0x5c1afb['_weight']/_0x427c6f,this['_syncAnima'+'tions']){const _0xaacfab=_0x5c1afb['animTrack']['duration']/_0x279d39*_0x427c6f;_0x5c1afb['weightedSp'+'eed']=_0x5c1afb['absoluteSp'+'eed']*_0xaacfab;}}}};h(Ui,'_p',new J()),h(Ui,'_pip',new J());let Eu=Ui;class FL extends Jn{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x495265=-0x15a+0x1c19+-0x1abf,_0xdd517d=0x6*0x105+-0x18e9+-0x11*-0x11b;for(let _0x1c5bd7=-0x16ec+0x27d+0x146f;_0x1c5bd7<this['_children']['length'];_0x1c5bd7++)if(_0x495265+=Math['max'](this['_parameter'+'Values'][_0x1c5bd7],0x1f*0x1+0x925*0x3+-0x1b8e*0x1),this['_syncAnima'+'tions']){const _0x15b3af=this['_children'][_0x1c5bd7];_0xdd517d+=_0x15b3af['animTrack']['duration']/_0x15b3af['absoluteSp'+'eed']*_0x15b3af['weight'];}for(let _0x3ab0c3=0x2393+-0x3*-0x277+-0x2af8;_0x3ab0c3<this['_children']['length'];_0x3ab0c3++){const _0x94ac9b=this['_children'][_0x3ab0c3],_0x5c5575=Math['max'](this['_parameter'+'Values'][_0x3ab0c3],-0x1d70+-0x1919+-0x25f*-0x17);_0x495265?(_0x94ac9b['weight']=_0x5c5575/_0x495265,this['_syncAnima'+'tions']&&(_0x94ac9b['weightedSp'+'eed']=_0x94ac9b['animTrack']['duration']/_0x94ac9b['absoluteSp'+'eed']/_0xdd517d)):(_0x94ac9b['weight']=-0x1e5e+-0x1b07+-0x3965*-0x1,this['_syncAnima'+'tions']&&(_0x94ac9b['weightedSp'+'eed']=-0x740+-0x1a0a+-0x2*-0x10a5));}}}class Fg{constructor(_0x3f6290,_0x4b5091,_0x3b12ec=-0x190d+-0x1*-0x205+0x1709,_0x437b29=!(0x3*0x63+0x33*-0xa9+0x2082),_0x11a44a){h(this,'_animation'+'s',{}),h(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x3f6290,this['_name']=_0x4b5091,this['_speed']=_0x3b12ec,this['_loop']=_0x437b29,this['_hasAnimat'+'ions']=!(0x207d*-0x1+0x2f+0x204f),_0x11a44a?this['_blendTree']=this['_createTre'+'e'](_0x11a44a['type'],this,null,_0x4b5091,0x11ff+-0x15*-0x13d+0x7*-0x649,_0x11a44a['parameter']?[_0x11a44a['parameter']]:_0x11a44a['parameters'],_0x11a44a['children'],_0x11a44a['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new ml(this,null,_0x4b5091,-0xcde+0x4*-0x41+0x4a1*0x3,_0x3b12ec));}['_createTre'+'e'](_0x42847f,_0x11d019,_0xd61d09,_0x193e30,_0x51680d,_0x2e54fc,_0x1ef780,_0x3ac5a0,_0xc8fe3a,_0x2941cb){switch(_0x42847f){case CL:return new OL(_0x11d019,_0xd61d09,_0x193e30,_0x51680d,_0x2e54fc,_0x1ef780,_0x3ac5a0,_0xc8fe3a,_0x2941cb);case ML:return new wu(_0x11d019,_0xd61d09,_0x193e30,_0x51680d,_0x2e54fc,_0x1ef780,_0x3ac5a0,_0xc8fe3a,_0x2941cb);case PL:return new Eu(_0x11d019,_0xd61d09,_0x193e30,_0x51680d,_0x2e54fc,_0x1ef780,_0x3ac5a0,_0xc8fe3a,_0x2941cb);case DL:return new FL(_0x11d019,_0xd61d09,_0x193e30,_0x51680d,_0x2e54fc,_0x1ef780,_0x3ac5a0,_0xc8fe3a,_0x2941cb);}w['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x42847f);}['_getNodeFr'+'omPath'](_0xe688ab){let _0xa3ed2d=this['_blendTree'];for(let _0xcf41ac=0x1d*-0x53+0x25e1*-0x1+-0x5*-0x975;_0xcf41ac<_0xe688ab['length'];_0xcf41ac++)_0xa3ed2d=_0xa3ed2d['getChild'](_0xe688ab[_0xcf41ac]);return _0xa3ed2d;}['addAnimati'+'on'](_0x55cb01,_0x54f4a1){const _0x10a841=_0x55cb01['join']('.'),_0x3a514f=this['_animation'+'List']['findIndex'](_0x1f5b07=>_0x1f5b07['path']===_0x10a841);if(_0x3a514f>=0x187a+0x1136+-0x29b0)this['_animation'+'List'][_0x3a514f]['animTrack']=_0x54f4a1;else{const _0x4c3cf7=this['_getNodeFr'+'omPath'](_0x55cb01);_0x4c3cf7['animTrack']=_0x54f4a1,this['_animation'+'List']['push'](_0x4c3cf7);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>-0x1697*0x1+0x1170+0x527&&this['_animation'+'List']['every'](_0x523863=>_0x523863['animTrack']&&_0x523863['animTrack']!==Qi['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x354c38){this['_animation'+'List']=_0x354c38,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x307a7a){this['_speed']=_0x307a7a;}get['speed'](){return this['_speed'];}set['loop'](_0x12f180){this['_loop']=_0x12f180;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===ml?0x71*0x29+-0x8a+0x282*-0x7:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return Ih['indexOf'](this['name'])!==-(0x2*-0x11cc+0x3*-0x94d+-0xfe0*-0x4)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>-0x11e2*0x1+0x2119*0x1+0x5*-0x30b){const _0x3dab31=this['name']+'.'+this['animations'][-0x1*-0x207a+-0x8*-0x419+-0x4142]['animTrack']['name'],_0x5aca7a=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x3dab31);if(_0x5aca7a)return _0x5aca7a['loop'];}return!(-0x1*-0x133+-0x69c+0x56a);}get['totalWeigh'+'t'](){let _0x4d2ef9=0x2d3*0xc+0x2*0x57d+0x166f*-0x2;for(let _0x3de3ea=-0x2e*-0xa3+-0x197f+0x1*-0x3cb;_0x3de3ea<this['animations']['length'];_0x3de3ea++)_0x4d2ef9+=this['animations'][_0x3de3ea]['weight'];return _0x4d2ef9;}get['timelineDu'+'ration'](){let _0x2d2b4a=-0x103a+0x0+0x81d*0x2;for(let _0x5c4100=-0x55b+0x84*0x2b+0x11f*-0xf;_0x5c4100<this['animations']['length'];_0x5c4100++){const _0x170cc3=this['animations'][_0x5c4100];_0x170cc3['animTrack']['duration']>_0x2d2b4a&&(_0x2d2b4a=_0x170cc3['animTrack']['duration']);}return _0x2d2b4a;}}class Lh{constructor({from:_0x2a66fe,to:_0x40e6f7,time:_0x16eb55=-0x4*0x25f+0xe5*0x21+0x17*-0xdf,priority:_0x43a386=-0x3*0x80b+-0x2230+-0x1*-0x3a51,conditions:_0x2642b6=[],exitTime:_0xbd5398=null,transitionOffset:_0x59ba52=null,interruptionSource:_0x2afa3a=zv}){this['_from']=_0x2a66fe,this['_to']=_0x40e6f7,this['_time']=_0x16eb55,this['_priority']=_0x43a386,this['_condition'+'s']=_0x2642b6,this['_exitTime']=_0xbd5398,this['_transitio'+'nOffset']=_0x59ba52,this['_interrupt'+'ionSource']=_0x2afa3a;}get['from'](){return this['_from'];}set['to'](_0x564927){this['_to']=_0x564927;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class NL{constructor(_0x137cca,_0x145e45,_0x1b770d,_0x14ca55,_0x32435b,_0x2746d8,_0x22216e){h(this,'_states',{}),h(this,'_stateName'+'s',[]),h(this,'_findTrans'+'itionsFrom'+'StateCache',{}),h(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),h(this,'_previousS'+'tateName',null),h(this,'_activeSta'+'teName',Co),h(this,'_activeSta'+'teDuration',0x61*0x61+0x207a+-0x453b),h(this,'_activeSta'+'teDuration'+'Dirty',!(0x948+0x94*-0x3d+-0x19fc*-0x1)),h(this,'_playing',!(-0xf4f+-0x1*0x103d+-0x1f8d*-0x1)),h(this,'_activate'),h(this,'_transitio'+'ns'),h(this,'_currTrans'+'itionTime',-0xc*0x20c+-0x121e*0x1+-0x2aaf*-0x1),h(this,'_totalTran'+'sitionTime',-0x1f*-0x9d+0x82f+0x1b31*-0x1),h(this,'_isTransit'+'ioning',!(0x62b+-0x9*-0x293+-0x1d55)),h(this,'_transitio'+'nInterrupt'+'ionSource',zv),h(this,'_transitio'+'nPreviousS'+'tates',[]),h(this,'_timeInSta'+'te',0x9f*0x5+0x16c2+0x89f*-0x3),h(this,'_timeInSta'+'teBefore',-0x2*-0x92f+0x2b*-0x5+-0x1187),h(this,'findParame'+'ter',_0x1ae8af=>this['_findParam'+'eter'](_0x1ae8af)),(this['_animEvalu'+'ator']=_0x137cca,this['_eventHand'+'ler']=_0x32435b,this['_findParam'+'eter']=_0x2746d8,this['_consumeTr'+'igger']=_0x22216e);for(let _0x548d0d=-0x51b+0x23a+0x2e1;_0x548d0d<_0x145e45['length'];_0x548d0d++)this['_states'][_0x145e45[_0x548d0d]['name']]=new Fg(this,_0x145e45[_0x548d0d]['name'],_0x145e45[_0x548d0d]['speed'],_0x145e45[_0x548d0d]['loop'],_0x145e45[_0x548d0d]['blendTree']),this['_stateName'+'s']['push'](_0x145e45[_0x548d0d]['name']);this['_transitio'+'ns']=_0x1b770d['map'](_0x1f8590=>new Lh({..._0x1f8590})),this['_activate']=_0x14ca55;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0xea63e1){this['_activeSta'+'teName']=_0xea63e1;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x1d6188){this['_previousS'+'tateName']=_0x1d6188;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x720151=!(0x24f2*-0x1+0x8c2+-0x52*-0x58);for(let _0x10c86c=-0x107f*-0x1+-0x1*0xe27+0xc8*-0x3;_0x10c86c<this['_stateName'+'s']['length'];_0x10c86c++)this['_states'][this['_stateName'+'s'][_0x10c86c]]['playable']||(_0x720151=!(-0x1a7d+0x1*0x8dc+0x3d*0x4a));return _0x720151;}set['playing'](_0x53951e){this['_playing']=_0x53951e;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x1760fb=-0x1516+-0xbaf+0x20c5;for(let _0x57f878=-0xf65*0x1+-0x1*-0x998+0x37*0x1b;_0x57f878<this['activeStat'+'eAnimation'+'s']['length'];_0x57f878++){const _0x537784=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x57f878]['name']);_0x537784&&(_0x1760fb=Math['max'](_0x1760fb,_0x537784['track']['duration']));}this['_activeSta'+'teDuration']=_0x1760fb,this['_activeSta'+'teDuration'+'Dirty']=!(-0x5*0x609+-0x25b7+-0x7*-0x9b3);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0xd70d06){this['_timeInSta'+'teBefore']=_0xd70d06,this['_timeInSta'+'te']=_0xd70d06;for(let _0xa26d83=0xadb+-0x1*0xdb4+0x2d9;_0xa26d83<this['activeStat'+'eAnimation'+'s']['length'];_0xa26d83++){const _0x8ed40=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0xa26d83]['name']);_0x8ed40&&(_0x8ed40['time']=_0xd70d06);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x47b928){return this['_animEvalu'+'ator']['assignMask'](_0x47b928);}['_findState'](_0x2f2613){return this['_states'][_0x2f2613];}['_getActive'+'StateProgr'+'essForTime'](_0x17eebf){if(this['activeStat'+'eName']===Co||this['activeStat'+'eName']===vu||this['activeStat'+'eName']===qr)return-0xe*0x65+0x133b+0x2*-0x6da;const _0x305a37=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][0xd63+0x1*0xb1c+-0x1*0x187f]['name']);return _0x305a37?_0x305a37['progressFo'+'rTime'](_0x17eebf):null;}['_findTrans'+'itionsFrom'+'State'](_0x195812){let _0xfac737=this['_findTrans'+'itionsFrom'+'StateCache'][_0x195812];return _0xfac737||(_0xfac737=this['_transitio'+'ns']['filter'](_0x388202=>_0x388202['from']===_0x195812),ul(_0xfac737),this['_findTrans'+'itionsFrom'+'StateCache'][_0x195812]=_0xfac737),_0xfac737;}['_findTrans'+'itionsBetw'+'eenStates'](_0x4b2911,_0x1a0a2f){let _0x4f5033=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x4b2911+'->'+_0x1a0a2f];return _0x4f5033||(_0x4f5033=this['_transitio'+'ns']['filter'](_0x379bf6=>_0x379bf6['from']===_0x4b2911&&_0x379bf6['to']===_0x1a0a2f),ul(_0x4f5033),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x4b2911+'->'+_0x1a0a2f]=_0x4f5033),_0x4f5033;}['_transitio'+'nHasCondit'+'ionsMet'](_0x7132b1){const _0x55a4cd=_0x7132b1['conditions'];for(let _0x387b05=-0x13b4+0x25c3+-0x45*0x43;_0x387b05<_0x55a4cd['length'];_0x387b05++){const _0x103a59=_0x55a4cd[_0x387b05],_0x539319=this['_findParam'+'eter'](_0x103a59['parameterN'+'ame']);switch(_0x103a59['predicate']){case xL:if(!(_0x539319['value']>_0x103a59['value']))return!(0x121c*-0x1+0x91*-0x15+0xf01*0x2);break;case TL:if(!(_0x539319['value']<_0x103a59['value']))return!(-0x71b*-0x2+-0x7*0x421+0xeb2);break;case wL:if(!(_0x539319['value']>=_0x103a59['value']))return!(0x2*-0xebd+-0x1*-0x12ad+0xace);break;case EL:if(!(_0x539319['value']<=_0x103a59['value']))return!(-0x26ae+0x1e9f+0x810);break;case bL:if(_0x539319['value']!==_0x103a59['value'])return!(0x1*-0x637+0x18e*0xd+-0xdfe);break;case AL:if(_0x539319['value']===_0x103a59['value'])return!(0xe2*0x16+0x2174+0x34df*-0x1);break;}}return!(0x150f*-0x1+0x5*-0x71f+0x38aa);}['_findTrans'+'ition'](_0x355601,_0x4cf99f){let _0x2c366b=[];if(_0x355601&&_0x4cf99f)_0x2c366b=_0x2c366b['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0x355601,_0x4cf99f));else{if(!this['_isTransit'+'ioning'])_0x2c366b=_0x2c366b['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x2c366b=_0x2c366b['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case gL:_0x2c366b=_0x2c366b['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x2c366b=_0x2c366b['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case SL:_0x2c366b=_0x2c366b['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x2c366b=_0x2c366b['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case yL:_0x2c366b=_0x2c366b['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x2c366b=_0x2c366b['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x2c366b=_0x2c366b['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case vL:_0x2c366b=_0x2c366b['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x2c366b=_0x2c366b['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x2c366b=_0x2c366b['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;}}if(_0x2c366b=_0x2c366b['filter'](_0x1dc86b=>{if(_0x1dc86b['to']===this['activeStat'+'eName'])return!(0x1c69+0x5f2+-0x225a);if(_0x1dc86b['hasExitTim'+'e']){let _0x149f4d=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x4785f7=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0x1dc86b['exitTime']<-0x183+-0xc5c+0xde0&&this['activeStat'+'e']['loop']&&(_0x149f4d-=Math['floor'](_0x149f4d),_0x4785f7-=Math['floor'](_0x4785f7)),_0x4785f7===_0x149f4d){if(_0x4785f7!==_0x1dc86b['exitTime'])return null;}else{if(!(_0x1dc86b['exitTime']>_0x149f4d&&_0x1dc86b['exitTime']<=_0x4785f7))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0x1dc86b);}),_0x2c366b['length']>-0x2c4+-0x6d*-0x4f+-0x1edf){const _0x31422e=_0x2c366b[0x26e9+0xdb0+0x3499*-0x1];if(_0x31422e['to']===vu){const _0x217eae=this['_findTrans'+'itionsFrom'+'State'](Co)[-0x1104+-0x1269+0x3*0xbcf];_0x31422e['to']=_0x217eae['to'];}return _0x31422e;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x340a08){let _0x2f665f,_0x2b9ba2,_0x29ac23;this['previousSt'+'ate']=_0x340a08['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x340a08['to'],this['_activeSta'+'teDuration'+'Dirty']=!(0x1a*0x11b+-0xba0*-0x2+-0x33fe);for(let _0x34c56e=0x13a0+-0x1*0xb99+-0x807;_0x34c56e<_0x340a08['conditions']['length'];_0x34c56e++){const _0x5efe5e=_0x340a08['conditions'][_0x34c56e];this['_findParam'+'eter'](_0x5efe5e['parameterN'+'ame'])['type']===Qc&&this['_consumeTr'+'igger'](_0x5efe5e['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0x343860=Math['min'](this['_totalTran'+'sitionTime']!==0xdd1+0xad9+-0x18aa?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:-0xeb9+-0x203f+-0x145*-0x25,0x1993+-0x2f*0xb9+0x865);for(let _0x1e6342=-0x17*-0x5e+-0x9*-0x39d+-0x28f7;_0x1e6342<this['_transitio'+'nPreviousS'+'tates']['length'];_0x1e6342++){this['_isTransit'+'ioning']?_0x1e6342!==this['_transitio'+'nPreviousS'+'tates']['length']-(0x53*-0x70+0x247a+-0x29)?this['_transitio'+'nPreviousS'+'tates'][_0x1e6342]['weight']*=-0x11dc+-0x11e9+0x1*0x23c6-_0x343860:this['_transitio'+'nPreviousS'+'tates'][_0x1e6342]['weight']=_0x343860:this['_transitio'+'nPreviousS'+'tates'][_0x1e6342]['weight']=0x49*0x16+-0xd*0x148+-0xa63*-0x1,_0x2f665f=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x1e6342]['name']);for(let _0x51686f=-0x272+-0x1947+0x1bb9;_0x51686f<_0x2f665f['animations']['length'];_0x51686f++)_0x2b9ba2=_0x2f665f['animations'][_0x51686f],_0x29ac23=this['_animEvalu'+'ator']['findClip'](_0x2b9ba2['name']+'.previous.'+_0x1e6342),_0x29ac23||(_0x29ac23=this['_animEvalu'+'ator']['findClip'](_0x2b9ba2['name']),_0x29ac23['name']=_0x2b9ba2['name']+'.previous.'+_0x1e6342),_0x1e6342!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x93f+0xb*-0x244+0x222c)&&_0x29ac23['pause']();}}this['_isTransit'+'ioning']=!(-0x63b*-0x2+0x19*-0x101+0xca3),this['_totalTran'+'sitionTime']=_0x340a08['time'],this['_currTrans'+'itionTime']=0x174f+0x3ef+-0x1b3e,this['_transitio'+'nInterrupt'+'ionSource']=_0x340a08['interrupti'+'onSource'];const _0x536265=this['activeStat'+'e'],_0x48e55d=_0x340a08['transition'+'Offset']&&_0x340a08['transition'+'Offset']>-0x35*-0xad+-0x1f7*-0x1+-0x25c8&&_0x340a08['transition'+'Offset']<-0x814+-0x13*0xf7+0x2*0xd35;let _0x4c89aa=-0x1*0xd6a+0x1b*-0x1+0xd85,_0x27a859=0xf4*0xc+-0x6f0+-0x480*0x1;if(_0x48e55d){const _0x446f4d=_0x536265['timelineDu'+'ration']*_0x340a08['transition'+'Offset'];_0x4c89aa=_0x446f4d,_0x27a859=_0x446f4d;}this['_timeInSta'+'te']=_0x4c89aa,this['_timeInSta'+'teBefore']=_0x27a859;for(let _0x53b1de=0x374+0xeb*-0xe+0x966;_0x53b1de<_0x536265['animations']['length'];_0x53b1de++){if(_0x29ac23=this['_animEvalu'+'ator']['findClip'](_0x536265['animations'][_0x53b1de]['name']),_0x29ac23)_0x29ac23['reset']();else{const _0x8d0e8d=Number['isFinite'](_0x536265['animations'][_0x53b1de]['speed'])?_0x536265['animations'][_0x53b1de]['speed']:_0x536265['speed'];_0x29ac23=new Dh(_0x536265['animations'][_0x53b1de]['animTrack'],this['_timeInSta'+'te'],_0x8d0e8d,!(-0x1d76+-0x1*-0x55d+-0x1819*-0x1),_0x536265['loop'],this['_eventHand'+'ler']),_0x29ac23['name']=_0x536265['animations'][_0x53b1de]['name'],this['_animEvalu'+'ator']['addClip'](_0x29ac23);}if(_0x340a08['time']>-0x2f4+0x16a9+-0x13b5?_0x29ac23['blendWeigh'+'t']=0xf85+-0x1941+0x9bc:_0x29ac23['blendWeigh'+'t']=_0x536265['animations'][_0x53b1de]['normalized'+'Weight'],_0x29ac23['play'](),_0x48e55d)_0x29ac23['time']=_0x536265['timelineDu'+'ration']*_0x340a08['transition'+'Offset'];else{const _0x255a0a=_0x536265['speed']>=0xa3*0x2+-0xaf1*-0x3+-0x2219?0x1*-0x2383+0x10f6+0x128d:this['activeStat'+'eDuration'];_0x29ac23['time']=_0x255a0a;}}}['_transitio'+'nToState'](_0x3fc40d){if(!this['_findState'](_0x3fc40d))return;let _0x41a4a8=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x3fc40d);_0x41a4a8||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x41a4a8=new Lh({'from':null,'to':_0x3fc40d})),this['updateStat'+'eFromTrans'+'ition'](_0x41a4a8);}['assignAnim'+'ation'](_0x41ce40,_0x10638e,_0x2bf0bf,_0x42675f){const _0x5488a0=_0x41ce40['split']('.');let _0x158d2c=this['_findState'](_0x5488a0[-0x1281+0x284+-0xffd*-0x1]);_0x158d2c||(_0x158d2c=new Fg(this,_0x5488a0[0x409*-0x7+-0x1*-0xa35+0x120a*0x1],_0x2bf0bf),this['_states'][_0x5488a0[-0x17c9+-0x29*0x21+0x1d12]]=_0x158d2c,this['_stateName'+'s']['push'](_0x5488a0[-0x8e2+0x231c+-0x1a3a])),_0x158d2c['addAnimati'+'on'](_0x5488a0,_0x10638e),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x158d2c['name'],_0x10638e),_0x2bf0bf!==void(-0xc0f+0x60*0x60+-0x17f1)&&(_0x158d2c['speed']=_0x2bf0bf),_0x42675f!==void(-0x1a61+0xf*0x1e1+0xe*-0x21)&&(_0x158d2c['loop']=_0x42675f),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(-0x11e6+-0x13c3*0x1+0x25a9);}['removeNode'+'Animations'](_0x398ffe){if(Ih['indexOf'](_0x398ffe)!==-(-0x41*-0x1d+0x110d+0x3*-0x823))return!(-0xa48*0x1+-0xfb*-0x26+-0x565*0x5);const _0x5dc920=this['_findState'](_0x398ffe);return _0x5dc920?(_0x5dc920['animations']=[],!(0x9eb+0x101f+-0x1a0a)):(w['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x398ffe),!(0x2*-0x1002+0xeb4*-0x2+-0xc49*-0x5));}['play'](_0x5e6cc){_0x5e6cc&&this['_transitio'+'nToState'](_0x5e6cc),this['_playing']=!(-0x1468+-0xb*-0x1c8+0xd0);}['pause'](){this['_playing']=!(-0x2*0x35+0x1e2d+-0x1dc2);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=Co,this['_playing']=!(-0x15d*-0x1a+-0x160f*0x1+0x6b1*-0x2),this['_currTrans'+'itionTime']=-0x1*-0xdcc+0x5c7+-0x1392,this['_totalTran'+'sitionTime']=0x1e30+-0x7*0x32b+-0x802,this['_isTransit'+'ioning']=!(-0x3*-0x2c+0x1376+-0x13f9),this['_timeInSta'+'te']=0xb64*0x2+-0x22ca+0xc02,this['_timeInSta'+'teBefore']=-0x4*0x4f8+0x859+0xb87,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x5e4721){if(!this['_playing'])return;let _0x561e97,_0x54680a,_0x27ed9d;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x5e4721*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x5e4721=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0x25a22b=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0x25a22b&&this['updateStat'+'eFromTrans'+'ition'](_0x25a22b),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x5e4721,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x6992ea=this['_totalTran'+'sitionTime']!==-0x354+0x1a12+-0x52*0x47?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0xf9*-0x3+0x1*0x45b+0x1*-0x16f;for(let _0x1326e1=0x23c3+0x983*0x1+-0x13*0x262;_0x1326e1<this['_transitio'+'nPreviousS'+'tates']['length'];_0x1326e1++){_0x561e97=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x1326e1]['name']);const _0x390a31=this['_transitio'+'nPreviousS'+'tates'][_0x1326e1]['weight'];for(let _0x1dcd5b=0x1c8f+-0x1bfe+0x1*-0x91;_0x1dcd5b<_0x561e97['animations']['length'];_0x1dcd5b++)_0x54680a=_0x561e97['animations'][_0x1dcd5b],_0x27ed9d=this['_animEvalu'+'ator']['findClip'](_0x54680a['name']+'.previous.'+_0x1326e1),_0x27ed9d&&(_0x27ed9d['blendWeigh'+'t']=(0xd4f*-0x1+0xd*-0x1b7+-0x1*-0x239b-_0x6992ea)*_0x54680a['normalized'+'Weight']*_0x390a31);}_0x561e97=this['activeStat'+'e'];for(let _0x2e952a=-0x676*0x1+-0x1*-0x14bc+-0x105*0xe;_0x2e952a<_0x561e97['animations']['length'];_0x2e952a++)_0x54680a=_0x561e97['animations'][_0x2e952a],this['_animEvalu'+'ator']['findClip'](_0x54680a['name'])['blendWeigh'+'t']=_0x6992ea*_0x54680a['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(0x7ac*-0x2+-0x20b*-0xd+-0x23*0x52);const _0x150206=this['activeStat'+'eAnimation'+'s']['length'],_0x49794f=this['_animEvalu'+'ator']['clips']['length'];for(let _0xfb915d=-0x1*0xec+0x4*-0x4ac+0x9ce*0x2;_0xfb915d<_0x49794f-_0x150206;_0xfb915d++)this['_animEvalu'+'ator']['removeClip'](-0xff6*0x1+0x1*-0x2371+0x3367);this['_transitio'+'nPreviousS'+'tates']=[],_0x561e97=this['activeStat'+'e'];for(let _0x56470b=0x67a*-0x6+0xb29*0x1+0x3f5*0x7;_0x56470b<_0x561e97['animations']['length'];_0x56470b++)_0x54680a=_0x561e97['animations'][_0x56470b],_0x27ed9d=this['_animEvalu'+'ator']['findClip'](_0x54680a['name']),_0x27ed9d&&(_0x27ed9d['blendWeigh'+'t']=_0x54680a['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==ml){_0x561e97=this['activeStat'+'e'];for(let _0xfaee16=-0xe9f+-0x11b*0x13+0x23a0;_0xfaee16<_0x561e97['animations']['length'];_0xfaee16++)_0x54680a=_0x561e97['animations'][_0xfaee16],_0x27ed9d=this['_animEvalu'+'ator']['findClip'](_0x54680a['name']),_0x27ed9d&&(_0x27ed9d['blendWeigh'+'t']=_0x54680a['normalized'+'Weight'],_0x54680a['parent']['syncAnimat'+'ions']&&(_0x27ed9d['speed']=_0x54680a['speed']));}}this['_animEvalu'+'ator']['update'](_0x5e4721,this['activeStat'+'e']['hasAnimati'+'ons']);}}const wf=new J(),Tc=new D(),_o=new re(),go=new ie(),So=new le();class Fi extends Sr{constructor(_0x5f113f,_0x1f2e7d,_0x4c3de4,_0x942ac6,_0x25237a){super(_0x1f2e7d),this['animCompon'+'ent']=_0x5f113f,this['_mask']=_0x942ac6,this['layerName']=_0x4c3de4,this['layerIndex']=_0x25237a;}static['_packFloat'](_0x4a93fa){return _0x4a93fa[0x1918+0x2*-0x955+-0x66e];}static['_packBoole'+'an'](_0x554d2c){return!!_0x554d2c[-0x2*0x56e+-0xc89+0x35*0x71];}static['_packVec2'](_0x59a4c9){return wf['x']=_0x59a4c9[-0x55d*-0x5+-0x127e+-0x853],wf['y']=_0x59a4c9[-0x23*-0x55+0x1551+0x20ef*-0x1],wf;}static['_packVec3'](_0x1c489a){return Tc['x']=_0x1c489a[-0x3*-0x7e2+0x64*-0x3a+0xfe*-0x1],Tc['y']=_0x1c489a[0x3*-0x9d3+-0x6*0x2b+0x1e7c],Tc['z']=_0x1c489a[0x174b+-0x1f*-0x53+0x2*-0x10ab],Tc;}static['_packVec4'](_0x3195e0){return _o['x']=_0x3195e0[-0x15db+0x26a9+-0x10ce],_o['y']=_0x3195e0[0x1a1*-0x9+0x26de+-0x1834],_o['z']=_0x3195e0[0x1629*0x1+0x10dd+0x2704*-0x1],_o['w']=_0x3195e0[0x624*0x3+-0x1*-0x10e1+-0x234a],_o;}static['_packColor'](_0x5c9730){return go['r']=_0x5c9730[0x9f*-0x1d+0x186+0x9*0x1d5],go['g']=_0x5c9730[0x491*-0x1+-0x1be4*-0x1+-0x1752],go['b']=_0x5c9730[-0x94c+-0x235*0xc+0x23ca],go['a']=_0x5c9730[-0xd50+0x15*-0x1+-0x9c*-0x16],go;}static['_packQuat'](_0x1a9e0e){return So['x']=_0x1a9e0e[0xb6b+-0x1362+0x7f7],So['y']=_0x1a9e0e[0x24aa+0x1f85+-0x442e],So['z']=_0x1a9e0e[0x257c+-0x19e*-0x6+-0x2f2e],So['w']=_0x1a9e0e[-0x4*-0xf8+-0x1933*0x1+0x1556],So;}['resolve'](_0x4b97cd){const _0x237cd0=ra['encode'](_0x4b97cd['entityPath'],_0x4b97cd['component'],_0x4b97cd['propertyPa'+'th']);let _0x36617d=this['targetCach'+'e'][_0x237cd0];if(_0x36617d)return _0x36617d;let _0x6bb95d,_0x50ef77,_0xe7a32c;switch(_0x4b97cd['component']){case'entity':_0x6bb95d=this['_getEntity'+'FromHierar'+'chy'](_0x4b97cd['entityPath']),_0xe7a32c=ra['encode'](_0x6bb95d['path'],'entity',_0x4b97cd['propertyPa'+'th']),_0x50ef77=_0x6bb95d;break;case'graph':if(_0x50ef77=this['findNode'](_0x4b97cd),!_0x50ef77)return null;_0xe7a32c=ra['encode'](_0x50ef77['path'],'graph',_0x4b97cd['propertyPa'+'th']);break;default:if(_0x6bb95d=this['_getEntity'+'FromHierar'+'chy'](_0x4b97cd['entityPath']),_0x50ef77=_0x6bb95d['findCompon'+'ent'](_0x4b97cd['component']),!_0x50ef77)return null;_0xe7a32c=ra['encode'](_0x6bb95d['path'],_0x4b97cd['component'],_0x4b97cd['propertyPa'+'th']);break;}return _0x36617d=this['_createAni'+'mTargetFor'+'Property'](_0x50ef77,_0x4b97cd['propertyPa'+'th'],_0xe7a32c),this['targetCach'+'e'][_0x237cd0]=_0x36617d,_0x36617d;}['update'](_0x19f375){const _0x3f818d=this['activeNode'+'s'];if(_0x3f818d){for(let _0x495e9f=-0x1*-0x1b37+-0x115*-0x7+-0x49*0x7a;_0x495e9f<_0x3f818d['length'];_0x495e9f++)_0x3f818d[_0x495e9f]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0x3b40e5){if(!this['animCompon'+'ent']['entity']['name']===_0x3b40e5[-0xb4*-0xa+-0x933+-0x1*-0x22b])return null;const _0x3b73da=this['animCompon'+'ent']['entity'];return _0x3b40e5['length']===-0x1*0x26c7+0x3*-0x417+-0x330d*-0x1?_0x3b73da:_0x3b73da['_parent']['findByPath'](_0x3b40e5);}['_resolvePa'+'th'](_0x2880f6,_0x44174c,_0x51e5ee){const _0x3b3934=_0x44174c['length']-(_0x51e5ee?0x3*0x855+0xc1*0x29+0xdfa*-0x4:-0x2414*-0x1+-0x1493+-0xf80);for(let _0x1b1bf1=0x24a4+0x3bf+-0x2863;_0x1b1bf1<_0x3b3934;_0x1b1bf1++)_0x2880f6=_0x2880f6[_0x44174c[_0x1b1bf1]];return _0x2880f6;}['_setter'](_0x39e387,_0x232054,_0xae89bf){const _0x3f4b9f=this['_resolvePa'+'th'](_0x39e387,_0x232054),_0x4c6f9f=_0x232054[_0x232054['length']-(-0x4f0+0x1c*0x85+-0x99b*0x1)],_0x4ace19='set'+_0x4c6f9f['substring'](-0x4dd*0x7+-0x3a*-0x33+0x167d,0x68a+-0x1f2*-0x6+-0x1235)['toUpperCas'+'e']()+_0x4c6f9f['substring'](-0x445+-0x7c*0x30+0x1b86);if(_0x3f4b9f[_0x4ace19]){let _0x2200ac=_0x3f4b9f['get'+_0x4c6f9f['substring'](-0x1*0x2039+-0x2*0xd8b+0x3b4f,0x3*0x51f+-0x2412+0x16*0xf1)['toUpperCas'+'e']()+_0x4c6f9f['substring'](0x1097+-0x1bd7*0x1+0xb41)]['bind'](_0x3f4b9f)();_0x2200ac=[_0x2200ac['x'],_0x2200ac['y'],_0x2200ac['z'],_0x2200ac['w']];const _0x1da8d8=_0x3f4b9f[_0x4ace19]['bind'](_0x3f4b9f);return{'set':_0x3d4f1c=>{_0x1da8d8(_0xae89bf(_0x3d4f1c));},'get':()=>_0x2200ac};}const _0x34156c=_0x3f4b9f[_0x4c6f9f];if(typeof _0x34156c=='object'&&_0x34156c['hasOwnProp'+'erty']('copy'))return function(_0x5999fe){_0x34156c['copy'](_0xae89bf(_0x5999fe));};if([J,D,re,ie,le]['indexOf'](_0x3f4b9f['constructo'+'r'])!==-(-0x2204+-0x1fd4+0x41d9)&&_0x232054['length']>-0x1*-0x1cad+-0x25f3+0x947){const _0x26db00=_0x232054['length']>0x1baf+0x19e0+-0x358d?this['_resolvePa'+'th'](_0x39e387,_0x232054['slice'](-0x16*-0x1+0x20*0x18+-0x316,-(0x321*-0xb+0x1007+-0x115*-0x11))):_0x39e387,_0x1a2f50=_0x232054[_0x232054['length']-(0x2373+0x2488+-0x37*0x14f)];return function(_0x4c0b55){_0x3f4b9f[_0x4c6f9f]=_0xae89bf(_0x4c0b55),_0x26db00[_0x1a2f50]=_0x3f4b9f;};}return function(_0x40016c){_0x3f4b9f[_0x4c6f9f]=_0xae89bf(_0x40016c);};}['_createAni'+'mTargetFor'+'Property'](_0x522e30,_0x2dedb5,_0x486d14){if(this['handlers']&&_0x2dedb5[0x1885*0x1+0xfa0+-0x2825]['startsWith']('weight.'))return this['handlers']['weight'](_0x522e30,_0x2dedb5[-0xc31+-0x1454+0x2085]['replace']('weight.',''));if(this['handlers']&&_0x2dedb5[-0x3f7*-0x1+-0x2090+-0x1*-0x1c99]==='material'&&_0x2dedb5['length']===0x1fa7+-0x21df+0x23a){const _0x4f56aa=_0x2dedb5[-0x1*0x18f6+0x9a1+-0x12e*-0xd];if(_0x4f56aa['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x522e30,_0x4f56aa);}const _0x42eaf9=this['_resolvePa'+'th'](_0x522e30,_0x2dedb5,!(0x1*0x848+0x1827+-0x206f));if(typeof _0x42eaf9>'u')return null;let _0x46042c,_0x224464,_0x910c2;if(typeof _0x42eaf9=='number')_0x46042c=this['_setter'](_0x522e30,_0x2dedb5,Fi['_packFloat']),_0x224464='vector',_0x910c2=-0x2500+0x8*-0x1e6+0x3431;else{if(typeof _0x42eaf9=='boolean')_0x46042c=this['_setter'](_0x522e30,_0x2dedb5,Fi['_packBoole'+'an']),_0x224464='vector',_0x910c2=0x1193+0x1*-0x1f67+0x1*0xdd5;else{if(typeof _0x42eaf9=='object')switch(_0x42eaf9['constructo'+'r']){case J:_0x46042c=this['_setter'](_0x522e30,_0x2dedb5,Fi['_packVec2']),_0x224464='vector',_0x910c2=-0x23b2+0x117d+0x1237;break;case D:_0x46042c=this['_setter'](_0x522e30,_0x2dedb5,Fi['_packVec3']),_0x224464='vector',_0x910c2=-0x7*0x1b7+-0x2*0xd33+0x266a;break;case re:_0x46042c=this['_setter'](_0x522e30,_0x2dedb5,Fi['_packVec4']),_0x224464='vector',_0x910c2=0x658+-0xab*-0x1d+0x1*-0x19b3;break;case ie:_0x46042c=this['_setter'](_0x522e30,_0x2dedb5,Fi['_packColor']),_0x224464='vector',_0x910c2=0x4*-0x531+0x5d*0x33+0x1*0x241;break;case le:_0x46042c=this['_setter'](_0x522e30,_0x2dedb5,Fi['_packQuat']),_0x224464='quaternion',_0x910c2=-0x1*0x1c8b+0x55b*0x2+0x5f3*0x3;break;default:return null;}}}return _0x2dedb5['indexOf']('material')!==-(-0x14b9+-0x10b2*0x1+0x256c)?new xu(_0x2531cc=>{_0x46042c(_0x2531cc),_0x522e30['material']['update']();},_0x224464,_0x910c2,_0x486d14):new xu(_0x46042c,_0x224464,_0x910c2,_0x486d14);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0x41e0d9={},_0x140aea=function(_0x3ecfce){_0x41e0d9[_0x3ecfce['name']]=_0x3ecfce;for(let _0x542fac=0x16b*-0xb+-0x20ff+0x184c*0x2;_0x542fac<_0x3ecfce['children']['length'];++_0x542fac)_0x140aea(_0x3ecfce['children'][_0x542fac]);};_0x140aea(this['graph']),this['nodes']=_0x41e0d9;}}class kL{constructor(_0x6ed392,_0x52bacb,_0x991829,_0x56e529=-0x871+-0x4*0x5ca+0x1f9a,_0x11d171=Vv){h(this,'_name'),h(this,'_controlle'+'r'),h(this,'_component'),h(this,'_weight'),h(this,'_blendType'),h(this,'_mask',null),h(this,'_blendTime',-0x7f9+-0x2*-0x1025+-0x1851),h(this,'_blendTime'+'Elapsed',0x31*0x80+0x4c*0x56+-0x3208),h(this,'_startingW'+'eight',0x634+-0x2*-0x118d+-0x2*0x14a7),h(this,'_targetWei'+'ght',0x1b34+-0xc32+0x22*-0x71),(this['_name']=_0x6ed392,this['_controlle'+'r']=_0x52bacb,this['_component']=_0x991829,this['_weight']=_0x56e529,this['_blendType']=_0x11d171);}get['name'](){return this['_name'];}set['playing'](_0x2ba614){this['_controlle'+'r']['playing']=_0x2ba614;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x21b045){const _0xbd121f=this['_controlle'+'r'],_0x5ad413=_0xbd121f['playing'];_0xbd121f['playing']=!(-0x100e+-0x1*0x132e+0x233c),_0xbd121f['activeStat'+'eCurrentTi'+'me']=_0x21b045,_0x5ad413||_0xbd121f['update'](-0x192c+0x381+0x3*0x739),_0xbd121f['playing']=_0x5ad413;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x31b6ba){this['_weight']=_0x31b6ba,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x4a2a9c){_0x4a2a9c!==this['_blendType']&&(this['_blendType']=_0x4a2a9c,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x5a5c1d){this['_controlle'+'r']['assignMask'](_0x5a5c1d)&&this['_component']['rebind'](),this['_mask']=_0x5a5c1d;}get['mask'](){return this['_mask'];}['play'](_0x247db9){this['_controlle'+'r']['play'](_0x247db9);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x572245){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=Y['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x572245):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=-0x12*-0x131+-0x7*0x241+-0x5ab,this['_blendTime'+'Elapsed']=0x185e+0x16c8+-0x2f26,this['_startingW'+'eight']=-0x1*-0x1387+-0x146c+-0x1*-0xe5,this['_targetWei'+'ght']=0x73*-0x4e+0x1b*0x56+-0x8*-0x33f)),this['_controlle'+'r']['update'](_0x572245);}['blendToWei'+'ght'](_0x9903ec,_0x2911e1){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0x9903ec,this['_blendTime']=Math['max'](-0xbc+0x83d*-0x3+-0x5*-0x517,_0x2911e1),this['_blendTime'+'Elapsed']=-0x1ce9+-0x22af+0x1fcc*0x2;}['assignAnim'+'ation'](_0x240fff,_0x2b8791,_0x1f7a04,_0x471cbd){if(!(_0x2b8791 instanceof Qi)){w['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x240fff,_0x2b8791,_0x1f7a04,_0x471cbd),this['_controlle'+'r']['_transitio'+'ns']['length']===-0x30d*0x2+0x19d*-0x11+0x2187&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Lh({'from':'START','to':_0x240fff})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(0x2*0xfec+0x1*-0x7b5+0x25*-0xa7));}['removeNode'+'Animations'](_0x28c78c){this['_controlle'+'r']['removeNode'+'Animations'](_0x28c78c)&&(this['_component']['playing']=!(-0x11e8+-0x1bb6+0x2d9f));}['getAnimati'+'onAsset'](_0x31c93d){return this['_component']['animationA'+'ssets'][this['name']+':'+_0x31c93d];}['transition'](_0x404245,_0x247ccb=0xd3*-0x5+-0x882+0xca1,_0x10a96d=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Lh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x404245,'time':_0x247ccb,'transitionOffset':_0x10a96d}));}}class Jc{constructor(_0x31d52e){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x31d52e['layers']))this['_layers']=_0x31d52e['layers'];else for(const _0x6fc338 in _0x31d52e['layers']){const _0x426e4e=_0x31d52e['layers'][_0x6fc338],_0x196c57={'name':_0x426e4e['name'],'blendType':_0x426e4e['blendType'],'weight':_0x426e4e['weight'],'states':[],'transitions':[]};for(let _0x56061e=0x1b24+0x3*0x941+0xafb*-0x5;_0x56061e<_0x426e4e['states']['length'];_0x56061e++)_0x196c57['states']['push'](_0x31d52e['states'][_0x426e4e['states'][_0x56061e]]);for(let _0x7c2f43=-0x4*0x408+-0x1*-0xf23+-0x1*-0xfd;_0x7c2f43<_0x426e4e['transition'+'s']['length'];_0x7c2f43++){const _0x30aad3=_0x31d52e['transition'+'s'][_0x426e4e['transition'+'s'][_0x7c2f43]];if(_0x30aad3['conditions']&&!Array['isArray'](_0x30aad3['conditions'])){const _0x4633ad=Object['keys'](_0x30aad3['conditions']),_0x3b86c1=[];for(let _0xd9f6d9=0x1*-0x407+0x1d22+-0x191b;_0xd9f6d9<_0x4633ad['length'];_0xd9f6d9++){const _0x18da3e=_0x30aad3['conditions'][_0x4633ad[_0xd9f6d9]];_0x18da3e['parameterN'+'ame']&&_0x3b86c1['push'](_0x18da3e);}_0x30aad3['conditions']=_0x3b86c1;}Number['isInteger'](_0x30aad3['from'])&&(_0x30aad3['from']=_0x31d52e['states'][_0x30aad3['from']]['name']),Number['isInteger'](_0x30aad3['to'])&&(_0x30aad3['to']=_0x31d52e['states'][_0x30aad3['to']]['name']),_0x196c57['transition'+'s']['push'](_0x30aad3);}this['_layers']['push'](_0x196c57);}for(const _0x5f11f6 in _0x31d52e['parameters']){const _0x5e0921=_0x31d52e['parameters'][_0x5f11f6];this['_parameter'+'s'][_0x5e0921['name']]={'type':_0x5e0921['type'],'value':_0x5e0921['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class $v extends we{constructor(){super(...arguments),h(this,'_stateGrap'+'hAsset',null),h(this,'_animation'+'Assets',{}),h(this,'_speed',0x7c+-0x62a*0x1+0x5af),h(this,'_activate',!(-0x549*0x4+0x143f*0x1+0xe5)),h(this,'_playing',!(0x1f86+0x13f3+-0x3378)),h(this,'_rootBone',null),h(this,'_stateGrap'+'h',null),h(this,'_layers',[]),h(this,'_layerIndi'+'ces',{}),h(this,'_parameter'+'s',{}),h(this,'_targets',{}),h(this,'_consumedT'+'riggers',new Set()),h(this,'_normalize'+'Weights',!(-0x3*0xcd+0x1256*0x2+-0x2244)),h(this,'findParame'+'ter',_0x499c38=>this['_parameter'+'s'][_0x499c38]),h(this,'consumeTri'+'gger',_0x588c48=>{this['_consumedT'+'riggers']['add'](_0x588c48);});}set['stateGraph'+'Asset'](_0x2cf088){if(_0x2cf088===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x5ed585,_0x3b7b7a;_0x2cf088 instanceof pe?(_0x5ed585=_0x2cf088['id'],_0x3b7b7a=this['system']['app']['assets']['get'](_0x5ed585),_0x3b7b7a||(this['system']['app']['assets']['add'](_0x2cf088),_0x3b7b7a=this['system']['app']['assets']['get'](_0x5ed585))):(_0x5ed585=_0x2cf088,_0x3b7b7a=this['system']['app']['assets']['get'](_0x5ed585)),!(!_0x3b7b7a||this['_stateGrap'+'hAsset']===_0x5ed585)&&(_0x3b7b7a['resource']?(this['_stateGrap'+'h']=_0x3b7b7a['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0x3b7b7a['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0x3b7b7a['once']('load',_0xa50d62=>{this['_stateGrap'+'h']=_0xa50d62['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0x3b7b7a['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0x3b7b7a)),this['_stateGrap'+'hAsset']=_0x5ed585);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x568dd8){this['_normalize'+'Weights']=_0x568dd8,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x5b537d){this['_animation'+'Assets']=_0x5b537d,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x2c675e){this['_speed']=_0x2c675e;}get['speed'](){return this['_speed'];}set['activate'](_0x46dfae){this['_activate']=_0x46dfae;}get['activate'](){return this['_activate'];}set['playing'](_0x26796f){this['_playing']=_0x26796f;}get['playing'](){return this['_playing'];}set['rootBone'](_0x2ff067){if(typeof _0x2ff067=='string'){const _0x383acd=this['entity']['root']['findByGuid'](_0x2ff067);w['assert'](_0x383acd,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x2ff067+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x383acd;}else _0x2ff067 instanceof lt?this['_rootBone']=_0x2ff067:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x5064e5){this['_stateGrap'+'h']=_0x5064e5;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x5dbb3d){this['_layerIndi'+'ces']=_0x5dbb3d;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x42258e){this['_parameter'+'s']=_0x42258e;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0x5201f6){this['_targets']=_0x5201f6;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x1caa92=-0x82e+0x17f1+-0xfc3*0x1;_0x1caa92<this['_layers']['length'];_0x1caa92++)if(!this['_layers'][_0x1caa92]['playable'])return!(-0x1ea3+-0x38e+0x3*0xb66);return!(-0x56*0x17+0x269b*0x1+0x3*-0xa4b);}get['baseLayer'](){return this['_layers']['length']>-0x2351*-0x1+-0x1a22+0x1*-0x92f?this['_layers'][0xc4c+0x783*0x1+-0x13cf]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0x296f7d){const _0xae9de5=this['animationA'+'ssets'],_0x5c749d=this['layers']['map'](_0x1a8087=>_0x1a8087['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new Jc(_0x296f7d['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0xae9de5,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x1a1768,_0x230e7a)=>{_0x1a1768['mask']=_0x5c749d[_0x230e7a];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x39c053=Object['values'](this['_targets']);for(let _0x4cefad=0x1926+-0x24af+0xb89*0x1;_0x4cefad<_0x39c053['length'];_0x4cefad++)_0x39c053[_0x4cefad]['dirty']=!(-0x536+-0x958+-0x4da*-0x3);}['_addLayer']({name:_0x20e16a,states:_0x4fbd76,transitions:_0x164f52,weight:_0x28e1e9,mask:_0x2ddc79,blendType:_0x598fe1}){let _0x10cc0d;this['rootBone']?_0x10cc0d=this['rootBone']:_0x10cc0d=this['entity'];const _0x36cb23=this['_layers']['length'],_0x273515=new Fi(this,_0x10cc0d,_0x20e16a,_0x2ddc79,_0x36cb23),_0xed4765=new Gv(_0x273515),_0x5cc25f=new NL(_0xed4765,_0x4fbd76,_0x164f52,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new kL(_0x20e16a,_0x5cc25f,this,_0x28e1e9,_0x598fe1)),this['_layerIndi'+'ces'][_0x20e16a]=_0x36cb23,this['_layers'][_0x36cb23];}['addLayer'](_0x49f045,_0x4a0513,_0x478160,_0x48cf42){const _0x557fdc=this['findAnimat'+'ionLayer'](_0x49f045);if(_0x557fdc)return _0x557fdc;const _0x37ba12=[{'name':'START','speed':0x1}],_0x12cbb9=[];return this['_addLayer']({'name':_0x49f045,'states':_0x37ba12,'transitions':_0x12cbb9,'weight':_0x4a0513,'mask':_0x478160,'blendType':_0x48cf42});}['_assignPar'+'ameters'](_0x55e397){this['_parameter'+'s']={};const _0x2da981=Object['keys'](_0x55e397['parameters']);for(let _0x1583ec=-0x286*-0x7+0x80e+-0x19b8;_0x1583ec<_0x2da981['length'];_0x1583ec++){const _0x2c2415=_0x2da981[_0x1583ec];this['_parameter'+'s'][_0x2c2415]={'type':_0x55e397['parameters'][_0x2c2415]['type'],'value':_0x55e397['parameters'][_0x2c2415]['value']};}}['loadStateG'+'raph'](_0x262864){this['_stateGrap'+'h']=_0x262864,this['_assignPar'+'ameters'](_0x262864),this['_layers']=[];let _0x760f79=!(0x258a+-0x8db+-0x1cae);for(let _0xa48ad1=-0x22b*-0x11+-0x1888*0x1+-0xc53;_0xa48ad1<_0x262864['layers']['length'];_0xa48ad1++){const _0xc610d1=_0x262864['layers'][_0xa48ad1];this['_addLayer']({..._0xc610d1}),_0xc610d1['states']['some'](_0x5a15ae=>_0x5a15ae['blendTree'])&&(_0x760f79=!(0x1b0f+-0x21d5+0x6c6));}_0x760f79||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x312021=-0x21d8+0x22ae+-0xd6;_0x312021<this['_layers']['length'];_0x312021++){const _0x41403a=this['_layers'][_0x312021],_0x4a0ebe=_0x41403a['name'];for(let _0x38a3ff=0xd4e+0x3*0x5c6+-0x1ea0;_0x38a3ff<_0x41403a['states']['length'];_0x38a3ff++){const _0x944d4f=_0x41403a['states'][_0x38a3ff];if(Ih['indexOf'](_0x944d4f)===-(-0xa52+-0x2155+-0x58*-0x7f)){const _0x45472b=_0x4a0ebe+':'+_0x944d4f;this['_animation'+'Assets'][_0x45472b]||(this['_animation'+'Assets'][_0x45472b]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0x13bee4=0x2c*-0x86+-0x383+0x1a8b;_0x13bee4<this['_layers']['length'];_0x13bee4++){const _0x3e9139=this['_layers'][_0x13bee4];for(let _0x2a6fb4=0x31*0x53+-0x1b9c+-0xbb9*-0x1;_0x2a6fb4<_0x3e9139['states']['length'];_0x2a6fb4++){const _0x2bd009=_0x3e9139['states'][_0x2a6fb4];if(Ih['indexOf'](_0x2bd009)!==-(-0x2521+0x6ba+0x1e68))continue;const _0x55783c=this['_animation'+'Assets'][_0x3e9139['name']+':'+_0x2bd009];if(!_0x55783c||!_0x55783c['asset']){this['findAnimat'+'ionLayer'](_0x3e9139['name'])['assignAnim'+'ation'](_0x2bd009,Qi['EMPTY']);continue;}const _0x41d6ff=_0x55783c['asset'],_0xc03291=this['system']['app']['assets']['get'](_0x41d6ff);_0xc03291&&(_0xc03291['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x3e9139['name'],_0x2bd009,_0xc03291):(_0xc03291['once']('load',function(_0x48f86b,_0x11df69){return function(_0x1af41e){this['onAnimatio'+'nAssetLoad'+'ed'](_0x48f86b,_0x11df69,_0x1af41e);}['bind'](this);}['bind'](this)(_0x3e9139['name'],_0x2bd009)),this['system']['app']['assets']['load'](_0xc03291)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x520edc,_0x51fe9d,_0x4a33fc){this['findAnimat'+'ionLayer'](_0x520edc)['assignAnim'+'ation'](_0x51fe9d,_0x4a33fc['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(0xdeb+0xcc7*0x3+-0x343f),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x5cff02=0x17b0+-0x859*-0x4+-0x3914;_0x5cff02<this['_layers']['length'];_0x5cff02++){const _0x377ee7=this['_layers'][_0x5cff02]['playing'];this['_layers'][_0x5cff02]['reset'](),this['_layers'][_0x5cff02]['playing']=_0x377ee7;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x20c51b=>{this['_targets'][_0x20c51b]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x5e84d1=-0xa55+-0x1ce3+0x28*0xfb;_0x5e84d1<this['_layers']['length'];_0x5e84d1++)this['_layers'][_0x5e84d1]['rebind']();}['findAnimat'+'ionLayer'](_0x362578){const _0x104599=this['_layerIndi'+'ces'][_0x362578];return this['_layers'][_0x104599]||null;}['addAnimati'+'onState'](_0x260c73,_0xb815fe,_0x47cbad=-0x1*0x1ddf+0xe7d+0xf63,_0x59b54d=!(-0x1*0x188f+-0x257b+0x3e0a),_0x47e478='Base'){var _0x6be320;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new Jc({'layers':[{'name':_0x47e478,'states':[{'name':'START','speed':0x1},{'name':_0x260c73,'speed':_0x47cbad,'loop':_0x59b54d,'defaultState':!(-0x87b*0x1+0x1a12*-0x1+-0x91*-0x3d)}],'transitions':[{'from':'START','to':_0x260c73}]}],'parameters':{}}));const _0x149235=this['findAnimat'+'ionLayer'](_0x47e478);_0x149235?_0x149235['assignAnim'+'ation'](_0x260c73,_0xb815fe,_0x47cbad,_0x59b54d):(_0x6be320=this['addLayer'](_0x47e478))==null||_0x6be320['assignAnim'+'ation'](_0x260c73,_0xb815fe,_0x47cbad,_0x59b54d);}['assignAnim'+'ation'](_0x29156f,_0x375e38,_0x11160d,_0x5b90b6=0x13f5+0x1da8*0x1+0xc67*-0x4,_0x420c2f=!(0x13ea*-0x1+0x20*0x4b+0xa8a)){if(!this['_stateGrap'+'h']&&_0x29156f['indexOf']('.')===-(0x15d7+-0xc3d+-0x999)){this['loadStateG'+'raph'](new Jc({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x29156f,'speed':_0x5b90b6,'loop':_0x420c2f,'defaultState':!(0x114*0x2+-0xa41+0x819)}],'transitions':[{'from':'START','to':_0x29156f}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x29156f,_0x375e38);return;}const _0x5f54c6=_0x11160d?this['findAnimat'+'ionLayer'](_0x11160d):this['baseLayer'];if(!_0x5f54c6){w['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x5f54c6['assignAnim'+'ation'](_0x29156f,_0x375e38,_0x5b90b6,_0x420c2f);}['removeNode'+'Animations'](_0x2d2b4b,_0x35a72c){const _0x1839d8=_0x35a72c?this['findAnimat'+'ionLayer'](_0x35a72c):this['baseLayer'];if(!_0x1839d8){w['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0x1839d8['removeNode'+'Animations'](_0x2d2b4b);}['getParamet'+'erValue'](_0xe91bca,_0x70c612){const _0x549aba=this['_parameter'+'s'][_0xe91bca];if(_0x549aba&&_0x549aba['type']===_0x70c612)return _0x549aba['value'];w['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0xe91bca+('\x22\x20of\x20type\x20'+'\x22')+_0x70c612+'\x22');}['setParamet'+'erValue'](_0x159508,_0xe58e15,_0x4ff70d){const _0xb20456=this['_parameter'+'s'][_0x159508];if(_0xb20456&&_0xb20456['type']===_0xe58e15){_0xb20456['value']=_0x4ff70d;return;}w['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x159508+('\x22\x20of\x20type\x20'+'\x22')+_0xe58e15+'\x22');}['getFloat'](_0x4007db){return this['getParamet'+'erValue'](_0x4007db,Rg);}['setFloat'](_0x4ed910,_0x3369cd){this['setParamet'+'erValue'](_0x4ed910,Rg,_0x3369cd);}['getInteger'](_0x6f9d70){return this['getParamet'+'erValue'](_0x6f9d70,Lg);}['setInteger'](_0x4caf44,_0x55fc79){typeof _0x55fc79=='number'&&_0x55fc79%(-0x511*-0x1+-0xb*-0x2ba+0x230e*-0x1)===0x7b9+-0x14*0x3a+-0x13*0x2b?this['setParamet'+'erValue'](_0x4caf44,Lg,_0x55fc79):w['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x4caf44,_0x55fc79);}['getBoolean'](_0x20287e){return this['getParamet'+'erValue'](_0x20287e,Og);}['setBoolean'](_0x203089,_0x4e7769){this['setParamet'+'erValue'](_0x203089,Og,!!_0x4e7769);}['getTrigger'](_0x146f63){return this['getParamet'+'erValue'](_0x146f63,Qc);}['setTrigger'](_0x48cee5,_0x32adbb=!(0x2*0x11f+-0x1*-0xac+-0x2e9)){this['setParamet'+'erValue'](_0x48cee5,Qc,!(0xca3+0x259e+-0xa0d*0x5)),_0x32adbb&&this['_consumedT'+'riggers']['add'](_0x48cee5);}['resetTrigg'+'er'](_0x4bafac){this['setParamet'+'erValue'](_0x4bafac,Qc,!(-0x1*0x20d9+0x3f6+0x1ce4));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0xdf10b6){for(let _0x4c1520=0x50f+0x1d1*-0xf+0x1630;_0x4c1520<this['layers']['length'];_0x4c1520++)this['layers'][_0x4c1520]['update'](_0xdf10b6*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x442e95=>{this['parameters'][_0x442e95]['value']=!(0x121*0x1+-0x15d8+0x14b8);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4d3088,_0x270931){_0x4d3088['rootBone']&&_0x270931[_0x4d3088['rootBone']['getGuid']()]?this['rootBone']=_0x270931[_0x4d3088['rootBone']['getGuid']()]:this['rebind']();}}class UL{constructor(){this['enabled']=!(0x1*-0xe15+0xdba+0x5b);}}const bu=['enabled'];class BL extends ct{constructor(_0x46c4d7){super(_0x46c4d7),this['id']='anim',this['ComponentT'+'ype']=$v,this['DataType']=UL,this['schema']=bu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x55b50b,_0x165510,_0x14a8c6){super['initialize'+'ComponentD'+'ata'](_0x55b50b,_0x165510,bu);const _0x550b15=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x165510)['forEach'](_0x418e63=>{_0x550b15['includes'](_0x418e63)||(_0x55b50b[_0x418e63]=_0x165510[_0x418e63]);}),_0x165510['stateGraph']&&(_0x55b50b['stateGraph']=_0x165510['stateGraph'],_0x55b50b['loadStateG'+'raph'](_0x55b50b['stateGraph'])),_0x165510['layers']&&_0x165510['layers']['forEach']((_0xa43fcf,_0x28a7e4)=>{_0xa43fcf['_controlle'+'r']['states']['forEach'](_0x2e5992=>{_0xa43fcf['_controlle'+'r']['_states'][_0x2e5992]['_animation'+'List']['forEach'](_0x175385=>{if(!_0x175385['animTrack']||_0x175385['animTrack']===Qi['EMPTY']){const _0x448a5d=this['app']['assets']['get'](_0xa43fcf['_component']['_animation'+'Assets'][_0xa43fcf['name']+':'+_0x175385['name']]['asset']);_0x448a5d&&!_0x448a5d['loaded']&&_0x448a5d['once']('load',()=>{_0x55b50b['layers'][_0x28a7e4]['assignAnim'+'ation'](_0x175385['name'],_0x448a5d['resource']);});}else _0x55b50b['layers'][_0x28a7e4]['assignAnim'+'ation'](_0x175385['name'],_0x175385['animTrack']);});});}),_0x165510['animationA'+'ssets']&&(_0x55b50b['animationA'+'ssets']=Object['assign'](_0x55b50b['animationA'+'ssets'],_0x165510['animationA'+'ssets'])),_0x165510['masks']&&Object['keys'](_0x165510['masks'])['forEach'](_0x2767bc=>{if(_0x55b50b['layers'][_0x2767bc]){const _0x5e239d=_0x165510['masks'][_0x2767bc]['mask'],_0x3f9863={};Object['keys'](_0x5e239d)['forEach'](_0x5aa0f8=>{_0x3f9863[decodeURI(_0x5aa0f8)]=_0x5e239d[_0x5aa0f8];}),_0x55b50b['layers'][_0x2767bc]['mask']=_0x3f9863;}});}['onAnimatio'+'nUpdate'](_0x4eda27){const _0x201511=this['store'];for(const _0x32298a in _0x201511)if(_0x201511['hasOwnProp'+'erty'](_0x32298a)){const _0x20dadd=_0x201511[_0x32298a]['entity']['anim'];_0x20dadd['data']['enabled']&&_0x20dadd['entity']['enabled']&&_0x20dadd['playing']&&_0x20dadd['update'](_0x4eda27);}}['cloneCompo'+'nent'](_0x478ed9,_0x5336e8){let _0x4ab315;(!_0x478ed9['anim']['rootBone']||_0x478ed9['anim']['rootBone']===_0x478ed9)&&(_0x4ab315={},_0x478ed9['anim']['layers']['forEach']((_0xdae7be,_0x2c4943)=>{if(_0xdae7be['mask']){const _0x48e8ff={};Object['keys'](_0xdae7be['mask'])['forEach'](_0x13d9c3=>{const _0x15ab87=_0x13d9c3['split']('/');_0x15ab87['shift']();const _0x43bda8=[_0x5336e8['name'],..._0x15ab87]['join']('/');_0x48e8ff[_0x43bda8]=_0xdae7be['mask'][_0x13d9c3];}),_0x4ab315[_0x2c4943]={'mask':_0x48e8ff};}}));const _0x23b5e5={'enabled':_0x478ed9['anim']['enabled'],'stateGraphAsset':_0x478ed9['anim']['stateGraph'+'Asset'],'animationAssets':_0x478ed9['anim']['animationA'+'ssets'],'speed':_0x478ed9['anim']['speed'],'activate':_0x478ed9['anim']['activate'],'playing':_0x478ed9['anim']['playing'],'rootBone':_0x478ed9['anim']['rootBone'],'stateGraph':_0x478ed9['anim']['stateGraph'],'layers':_0x478ed9['anim']['layers'],'layerIndices':_0x478ed9['anim']['layerIndic'+'es'],'parameters':_0x478ed9['anim']['parameters'],'normalizeWeights':_0x478ed9['anim']['normalizeW'+'eights'],'masks':_0x4ab315};return this['addCompone'+'nt'](_0x5336e8,_0x23b5e5);}['onBeforeRe'+'move'](_0x556ade,_0x45f63b){_0x45f63b['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}we['_buildAcce'+'ssors']($v['prototype'],bu);class Xv extends we{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x1984c4=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x1984c4);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class zL{constructor(){this['enabled']=!(0x6*-0x467+-0x194*-0xd+0x2f3*0x2);}}const qv=['enabled'];class VL extends ct{constructor(_0x453bf1){super(_0x453bf1),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Xv,this['DataType']=zL,this['schema']=qv,this['manager']=_0x453bf1['soundManag'+'er'],w['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x549c43,_0x1f6e3b,_0x5362dc){_0x5362dc=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x549c43,_0x1f6e3b,_0x5362dc);}['onUpdate'](_0x50ff27){if(this['current']){const _0x1fcd92=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x1fcd92);const _0x10df52=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x10df52);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Xv['prototype'],qv);const Au=-0x24*0x57+-0x1f42+0x2b7e,Ng=0x1282*-0x2+-0x1f6+0x11*0x24b,eh='group',Cu='image',jv='text',th='stretch',GL='contain',HL='cover',ft={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},kl={};kl[ft['DEFAULT']]='_defaultTi'+'nt',kl[ft['HOVER']]='hoverTint',kl[ft['PRESSED']]='pressedTin'+'t',kl[ft['INACTIVE']]='inactiveTi'+'nt';const Ul={};Ul[ft['DEFAULT']]='_defaultSp'+'riteAsset',Ul[ft['HOVER']]='hoverSprit'+'eAsset',Ul[ft['PRESSED']]='pressedSpr'+'iteAsset',Ul[ft['INACTIVE']]='inactiveSp'+'riteAsset';const Bl={};Bl[ft['DEFAULT']]='_defaultSp'+'riteFrame',Bl[ft['HOVER']]='hoverSprit'+'eFrame',Bl[ft['PRESSED']]='pressedSpr'+'iteFrame',Bl[ft['INACTIVE']]='inactiveSp'+'riteFrame';class It extends we{constructor(_0x24001b,_0x1c2b56){super(_0x24001b,_0x1c2b56),h(this,'_visualSta'+'te',ft['DEFAULT']),h(this,'_isHoverin'+'g',!(-0x1b8e+-0x22fa+0x3e89)),h(this,'_hoveringC'+'ounter',0x4bc+-0xdbf+0x903),h(this,'_isPressed',!(-0x669+0x1a*-0x84+-0x76*-0x2b)),h(this,'_defaultTi'+'nt',new ie(0x1b37*0x1+-0xd16+0x10*-0xe2,-0xa35+0x1*0x1078+-0x642,-0x696+-0x117d+0x43*0x5c,0x6*0x257+-0x2a1*-0x7+-0x2070)),h(this,'_defaultSp'+'riteAsset',null),h(this,'_defaultSp'+'riteFrame',0xbe*-0x2f+-0x23b1*0x1+-0x26f*-0x1d),h(this,'_imageEnti'+'ty',null),h(this,'_evtElemen'+'tAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),h(this,'_evtImageE'+'ntityEleme'+'ntColor',null),h(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=ft['DEFAULT'],this['_isHoverin'+'g']=!(0x2129+0x56*-0x59+-0x3*0x116),this['_hoveringC'+'ounter']=-0x12ef+0x38d*0x9+-0xd06,this['_isPressed']=!(-0x18*-0x19c+0x1*0xbfb+0x86f*-0x6),this['_defaultTi'+'nt']=new ie(-0xbae*-0x2+0x45f+-0x1bba,-0x1*-0x13+0x2285*0x1+-0x325*0xb,-0x1be6+0x207f+0x2*-0x24c,-0x26fe+0xa58+0x1ca7),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=-0x4f2+-0x1da8+0x56*0x67,this['_toggleLif'+'ecycleList'+'eners']('on',_0x24001b));}get['data'](){const _0x44a381=this['system']['store'][this['entity']['getGuid']()];return _0x44a381?_0x44a381['data']:null;}set['enabled'](_0x2246c9){this['_setValue']('enabled',_0x2246c9);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x59b9df){this['_setValue']('active',_0x59b9df);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x1978b9){if(this['_imageEnti'+'ty']!==_0x1978b9){const _0x318c77=typeof _0x1978b9=='string';if(this['_imageEnti'+'ty']&&_0x318c77&&this['_imageEnti'+'ty']['getGuid']()===_0x1978b9)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x1978b9 instanceof Ie?this['_imageEnti'+'ty']=_0x1978b9:_0x318c77?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x1978b9)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x318c77&&_0x1978b9&&(this['data']['imageEntit'+'y']=_0x1978b9);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x47e47f){this['_setValue']('hitPadding',_0x47e47f);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x19e157){this['_setValue']('transition'+'Mode',_0x19e157);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0x1d20ea){this['_setValue']('hoverTint',_0x1d20ea);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x1493b7){this['_setValue']('pressedTin'+'t',_0x1493b7);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0xdb0d53){this['_setValue']('inactiveTi'+'nt',_0xdb0d53);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x721c75){this['_setValue']('fadeDurati'+'on',_0x721c75);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x4ba9fd){this['_setValue']('hoverSprit'+'eAsset',_0x4ba9fd);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x47882c){this['_setValue']('hoverSprit'+'eFrame',_0x47882c);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x1730aa){this['_setValue']('pressedSpr'+'iteAsset',_0x1730aa);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x3aa3f8){this['_setValue']('pressedSpr'+'iteFrame',_0x3aa3f8);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x26536d){this['_setValue']('inactiveSp'+'riteAsset',_0x26536d);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x58c8fe){this['_setValue']('inactiveSp'+'riteFrame',_0x58c8fe);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0x410215,_0x47ab6e){const _0x512db3=this['data'],_0x235a55=_0x512db3[_0x410215];_0x512db3[_0x410215]=_0x47ab6e,this['fire']('set',_0x410215,_0x235a55,_0x47ab6e);}['_toggleLif'+'ecycleList'+'eners'](_0xd33ee5,_0x3aacd6){var _0x2ccaf2;this[_0xd33ee5]('set_active',this['_onSetActi'+'ve'],this),this[_0xd33ee5]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0xd33ee5]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0xd33ee5]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0xd33ee5]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0xd33ee5]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0xd33ee5]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0xd33ee5]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0xd33ee5]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0xd33ee5]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0xd33ee5]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0xd33ee5==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x2ccaf2=this['_evtElemen'+'tAdd'])==null||_0x2ccaf2['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x4b1aae,_0x4e0e93,_0x1937c1){_0x4e0e93!==_0x1937c1&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x4db1d3,_0xccfb93,_0xa1d9f8){_0xccfb93!==_0xa1d9f8&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0xccfb93),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x1eaf35,_0x1cb36e,_0x3c98df){_0x1cb36e!==_0x3c98df&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x400ca0,_0x44cbb5;(_0x400ca0=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x400ca0['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x44cbb5=this['_imageEnti'+'ty'])!=null&&_0x44cbb5['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x5a5114=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x5a5114['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x5a5114['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x5a5114['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x5a5114['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x5a5114['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x3ef29e,_0x2fe759,_0x24fae9,_0x16c4eb,_0x4dacc4;(_0x3ef29e=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x3ef29e['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x2fe759=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x2fe759['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x24fae9=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x24fae9['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x16c4eb=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x16c4eb['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x4dacc4=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x4dacc4['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x53f8e9){if(this['entity']['element']){const _0x38cbbf=_0x53f8e9==='on';if(_0x38cbbf&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x53f8e9]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x53f8e9]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x53f8e9]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x53f8e9]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x53f8e9]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x53f8e9]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x53f8e9]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x53f8e9]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x53f8e9]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x53f8e9]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x53f8e9]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x53f8e9]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x53f8e9]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x53f8e9]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x38cbbf;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x42c332;const _0x483e3a=(_0x42c332=this['_imageEnti'+'ty'])==null?void(0x1*-0x14c5+-0xe6d*-0x1+0x4*0x196):_0x42c332['element'];!_0x483e3a||_0x483e3a['type']===eh||(this['_storeDefa'+'ultColor'](_0x483e3a['color']),this['_storeDefa'+'ultOpacity'](_0x483e3a['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x483e3a['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x483e3a['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x16b112){this['_defaultTi'+'nt']['r']=_0x16b112['r'],this['_defaultTi'+'nt']['g']=_0x16b112['g'],this['_defaultTi'+'nt']['b']=_0x16b112['b'];}['_storeDefa'+'ultOpacity'](_0x426421){this['_defaultTi'+'nt']['a']=_0x426421;}['_storeDefa'+'ultSpriteA'+'sset'](_0x1ffdb4){this['_defaultSp'+'riteAsset']=_0x1ffdb4;}['_storeDefa'+'ultSpriteF'+'rame'](_0x2cafde){this['_defaultSp'+'riteFrame']=_0x2cafde;}['_onSetColo'+'r'](_0x366f75){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x366f75),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x2067ce){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x2067ce),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x54bc20){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x54bc20),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0x2d71e1){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0x2d71e1),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x208760){this['_isHoverin'+'g']=!(0x3*0x305+0x159f+-0xee*0x21),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x208760);}['_onMouseLe'+'ave'](_0xd4382e){this['_isHoverin'+'g']=!(0x737*0x5+-0x14da+0xf38*-0x1),this['_isPressed']=!(-0x1*0x409+0xc2a+-0x820),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0xd4382e);}['_onMouseDo'+'wn'](_0x1d2384){this['_isPressed']=!(0x2557+0x2fc+0x117*-0x25),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x1d2384);}['_onMouseUp'](_0x3edd44){this['_isPressed']=!(-0x2a5*0xb+-0x2*0x12c7+0x42a6),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0x3edd44);}['_onTouchSt'+'art'](_0x18b8ab){this['_isPressed']=!(-0x213a+0x1*0x133d+-0xdfd*-0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x18b8ab);}['_onTouchEn'+'d'](_0x15599c){_0x15599c['event']['preventDef'+'ault'](),this['_isPressed']=!(-0x9fc+0x11ac*0x1+-0x7af),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0x15599c);}['_onTouchLe'+'ave'](_0x1960eb){this['_isPressed']=!(0x23eb+-0x1324+-0x10c6),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x1960eb);}['_onTouchCa'+'ncel'](_0x581941){this['_isPressed']=!(-0x1c1+-0x425*-0x9+-0xbd9*0x3),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x581941);}['_onSelectS'+'tart'](_0xf27120){this['_isPressed']=!(0x1c6*-0x15+-0x470+-0x2*-0x14d7),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0xf27120);}['_onSelectE'+'nd'](_0x447dc4){this['_isPressed']=!(-0x1*-0x1616+-0x21b8+0x3*0x3e1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x447dc4);}['_onSelectE'+'nter'](_0x176f96){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===0x1*-0x1b9d+0x5c9+0x15d5&&(this['_isHoverin'+'g']=!(0x1f6c+0x6a0+0x5*-0x79c),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x176f96);}['_onSelectL'+'eave'](_0x3130f2){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===-0x31+0x448+-0x417&&(this['_isHoverin'+'g']=!(-0x1*-0x163a+0x1418+0x3*-0xe1b),this['_isPressed']=!(0x2664+-0x446*0x4+-0x154b),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x3130f2);}['_onClick'](_0x29122b){this['_fireIfAct'+'ive']('click',_0x29122b);}['_fireIfAct'+'ive'](_0x1a34f9,_0x569800){this['data']['active']&&this['fire'](_0x1a34f9,_0x569800);}['_updateVis'+'ualState'](_0x8aa02d){const _0x2521c0=this['_visualSta'+'te'],_0x4b0dc0=this['_determine'+'VisualStat'+'e']();if((_0x2521c0!==_0x4b0dc0||_0x8aa02d)&&this['enabled'])switch(this['_visualSta'+'te']=_0x4b0dc0,_0x2521c0===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x2521c0===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x4b0dc0===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x4b0dc0===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case Au:{const _0x4ad31a=kl[this['_visualSta'+'te']],_0x4ab664=this[_0x4ad31a];this['_applyTint'](_0x4ab664);break;}case Ng:{const _0x229f6f=Ul[this['_visualSta'+'te']],_0x30bdbf=Bl[this['_visualSta'+'te']],_0x2af060=this[_0x229f6f],_0x4546f1=this[_0x30bdbf];this['_applySpri'+'te'](_0x2af060,_0x4546f1);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(-0xd0a+0x24ef+-0x17e5));}['_resetToDe'+'faultVisua'+'lState'](_0x339c16){var _0x18f396;if((_0x18f396=this['_imageEnti'+'ty'])!=null&&_0x18f396['element'])switch(_0x339c16){case Au:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case Ng:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return ft['PRESSED'];if(this['_isHoverin'+'g'])return ft['HOVER'];}else return ft['INACTIVE'];return ft['DEFAULT'];}['_applySpri'+'te'](_0xa482a0,_0x44aad1){var _0x1b8d9d;const _0x1b93dd=(_0x1b8d9d=this['_imageEnti'+'ty'])==null?void(0x1704+0xef8+0x374*-0xb):_0x1b8d9d['element'];_0x1b93dd&&(_0x44aad1=_0x44aad1||0x23*0x2+0x2478+0x24be*-0x1,this['_isApplyin'+'gSprite']=!(-0xec*0x1d+0x138*-0x15+0x3454),_0x1b93dd['spriteAsse'+'t']!==_0xa482a0&&(_0x1b93dd['spriteAsse'+'t']=_0xa482a0),_0x1b93dd['spriteFram'+'e']!==_0x44aad1&&(_0x1b93dd['spriteFram'+'e']=_0x44aad1),this['_isApplyin'+'gSprite']=!(0x58f+0x32*0x91+-0x21e0));}['_applyTint'](_0x2734b9){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===0x2*-0x26f+-0x1c2a+0x421*0x8?this['_applyTint'+'Immediatel'+'y'](_0x2734b9):this['_applyTint'+'WithTween'](_0x2734b9);}['_applyTint'+'Immediatel'+'y'](_0x5f06a7){var _0x33abd7;const _0x9cc20=(_0x33abd7=this['_imageEnti'+'ty'])==null?void(-0x3*-0x113+0x7f3*0x4+-0x37*0xa3):_0x33abd7['element'];if(!_0x5f06a7||!_0x9cc20||_0x9cc20['type']===eh)return;const _0x1f61fb=kg(_0x5f06a7);this['_isApplyin'+'gTint']=!(0x20cd+0xaa9+0x2*-0x15bb),_0x1f61fb['equals'](_0x9cc20['color'])||(_0x9cc20['color']=_0x1f61fb),_0x9cc20['opacity']!==_0x5f06a7['a']&&(_0x9cc20['opacity']=_0x5f06a7['a']),this['_isApplyin'+'gTint']=!(-0x91*-0x28+-0x5*-0x6f5+-0x3970);}['_applyTint'+'WithTween'](_0x38dd35){var _0x17746d;const _0x402374=(_0x17746d=this['_imageEnti'+'ty'])==null?void(-0x22bd+0x35*0xae+-0x149):_0x17746d['element'];if(!_0x38dd35||!_0x402374||_0x402374['type']===eh)return;const _0x478a50=kg(_0x38dd35),_0x1f724b=_0x402374['color'],_0x37298d=_0x402374['opacity'];_0x478a50['equals'](_0x1f724b)&&_0x38dd35['a']===_0x37298d||(this['_tweenInfo']={'startTime':de(),'from':new ie(_0x1f724b['r'],_0x1f724b['g'],_0x1f724b['b'],_0x37298d),'to':_0x38dd35['clone'](),'lerpColor':new ie()});}['_updateTin'+'tTween'](){const _0x266691=de()-this['_tweenInfo']['startTime'];let _0x56fdd0=this['fadeDurati'+'on']===0x7ac+0x1d6e+-0x251a?-0x1166+0x124f+-0xe8:_0x266691/this['fadeDurati'+'on'];if(_0x56fdd0=Y['clamp'](_0x56fdd0,0x1e6d+-0xdb*0xb+-0x1504,-0xe8+0x1d41+-0x1c58),Math['abs'](_0x56fdd0-(0x3da+0x1*-0x167+-0x272))>0x229e+0x958+0x22*-0x14b+0.00001){const _0x3c9e3b=this['_tweenInfo']['lerpColor'];_0x3c9e3b['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x56fdd0),this['_applyTint'+'Immediatel'+'y'](new ie(_0x3c9e3b['r'],_0x3c9e3b['g'],_0x3c9e3b['b'],_0x3c9e3b['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(0x0+0x34b*-0x4+-0x1*-0xd2d),this['_hoveringC'+'ounter']=0x1*0xb47+0xc0c+0x7*-0x355,this['_isPressed']=!(-0x18e4+-0x1b07+0x33ec),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0xcc9afe,_0x18c684){_0xcc9afe['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x18c684[_0xcc9afe['imageEntit'+'y']['getGuid']()]);}}h(It,'EVENT_MOUS'+'EDOWN','mousedown'),h(It,'EVENT_MOUS'+'EUP','mouseup'),h(It,'EVENT_MOUS'+'EENTER','mouseenter'),h(It,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(It,'EVENT_CLIC'+'K','click'),h(It,'EVENT_TOUC'+'HSTART','touchstart'),h(It,'EVENT_TOUC'+'HEND','touchend'),h(It,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),h(It,'EVENT_TOUC'+'HLEAVE','touchleave'),h(It,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(It,'EVENT_SELE'+'CTEND','selectend'),h(It,'EVENT_SELE'+'CTENTER','selectente'+'r'),h(It,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),h(It,'EVENT_HOVE'+'RSTART','hoverstart'),h(It,'EVENT_HOVE'+'REND','hoverend'),h(It,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),h(It,'EVENT_PRES'+'SEDEND','pressedend');function kg(_0x456dc2){return new ie(_0x456dc2['r'],_0x456dc2['g'],_0x456dc2['b']);}class WL{constructor(){this['enabled']=!(-0x99a*-0x3+-0x33a+-0x1994),this['active']=!(-0x26ed+0x1*0x184d+-0x138*-0xc),this['imageEntit'+'y']=null,this['hitPadding']=new re(),this['transition'+'Mode']=Au,this['hoverTint']=new ie(-0x1*-0x1187+-0x2642*-0x1+0x37c9*-0x1+0.75,0x2423*-0x1+-0x991+0xea*0x32+0.75,0x2350+0x201d+-0x436d+0.75),this['pressedTin'+'t']=new ie(-0x1c9*-0xd+0x11*-0x1c1+0x69c+0.5,-0x9*0x289+-0x1*0x22c9+0xca*0x49+0.5,0x22fe+-0xb0f+-0x1*0x17ef+0.5),this['inactiveTi'+'nt']=new ie(0x1cbd*-0x1+0x4e9*0x3+-0x146*-0xb+0.25,0x24a+0x15c9+-0x1*0x1813+0.25,-0x1*0x217b+-0x512+-0x8b*-0x47+0.25),this['fadeDurati'+'on']=0x56*-0x18+0x100b+-0x7fb,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=0x1cff+0x1318+-0x3017,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=0x3b*0x16+-0x13*-0xdc+-0x1566,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=0x273*-0x1+0x4*-0x4a9+-0x1*-0x1517;}}const Ug=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class $L extends ct{constructor(_0x1c833b){super(_0x1c833b),this['id']='button',this['ComponentT'+'ype']=It,this['DataType']=WL,this['schema']=Ug,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0xefc7dc,_0x81b878,_0x248e1b){_0xefc7dc['imageEntit'+'y']=_0x81b878['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0xefc7dc,_0x81b878,Ug);}['onUpdate'](_0x16ecdf){const _0x253c21=this['store'];for(const _0x349ce5 in _0x253c21){const _0x5051e0=_0x253c21[_0x349ce5]['entity'],_0xace505=_0x5051e0['button'];_0xace505['enabled']&&_0x5051e0['enabled']&&_0xace505['onUpdate']();}}['_onRemoveC'+'omponent'](_0x5323b9,_0x24ac98){_0x24ac98['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const Bg=new D(),zg=new le();class rn extends we{constructor(_0x10cd67,_0x513307){super(_0x10cd67,_0x513307),h(this,'_compoundP'+'arent',null),h(this,'_hasOffset',!(0x2*0xae9+0x259*-0x3+0x1f*-0x7a)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0x15b22d=this['system']['store'][this['entity']['getGuid']()];return _0x15b22d?_0x15b22d['data']:null;}set['enabled'](_0x76a065){this['_setValue']('enabled',_0x76a065);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x294ae0){this['_setValue']('type',_0x294ae0);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0x2cac98){this['_setValue']('halfExtent'+'s',_0x2cac98);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x2a8757){this['_setValue']('linearOffs'+'et',_0x2a8757);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x4a3558){this['_setValue']('angularOff'+'set',_0x4a3558);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0x4a7481){this['_setValue']('radius',_0x4a7481);}get['radius'](){return this['data']['radius'];}set['axis'](_0x34d049){this['_setValue']('axis',_0x34d049);}get['axis'](){return this['data']['axis'];}set['height'](_0x45cfee){this['_setValue']('height',_0x45cfee);}get['height'](){return this['data']['height'];}set['asset'](_0x2d8b9a){this['_setValue']('asset',_0x2d8b9a);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x31e94a){this['_setValue']('renderAsse'+'t',_0x31e94a);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0x16ea6a){this['_setValue']('convexHull',_0x16ea6a);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0xb69b5a){this['_setValue']('shape',_0xb69b5a);}get['shape'](){return this['data']['shape'];}set['model'](_0x16a560){this['_setValue']('model',_0x16a560);}get['model'](){return this['data']['model'];}set['render'](_0x1ef284){this['_setValue']('render',_0x1ef284);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0x358eec){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0x358eec);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x402ed3,_0x3b52a7){const _0x20de2b=this['data'],_0x4c1403=_0x20de2b[_0x402ed3];_0x20de2b[_0x402ed3]=_0x3b52a7,this['fire']('set',_0x402ed3,_0x4c1403,_0x3b52a7);}['onSetType'](_0x3425ff,_0x5ddab9,_0x3356b9){_0x5ddab9!==_0x3356b9&&this['system']['changeType'](this,_0x5ddab9,_0x3356b9);}['onSetHalfE'+'xtents'](_0x2f965e,_0x4e1960,_0x31d034){const _0x235c09=this['data']['type'];this['data']['initialize'+'d']&&_0x235c09==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x2ec369,_0x35279a,_0x285623){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](D['ZERO'])||!this['data']['angularOff'+'set']['equals'](le['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0xc01b17,_0x216970,_0x89a7ff){const _0x151b53=this['data']['type'];this['data']['initialize'+'d']&&(_0x151b53==='sphere'||_0x151b53==='capsule'||_0x151b53==='cylinder'||_0x151b53==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0x4b44aa,_0x29043d,_0x1ccc45){const _0xccd35d=this['data']['type'];this['data']['initialize'+'d']&&(_0xccd35d==='capsule'||_0xccd35d==='cylinder'||_0xccd35d==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x501884,_0x5ecbae,_0x1e1ff6){const _0x1fba8c=this['data']['type'];this['data']['initialize'+'d']&&(_0x1fba8c==='capsule'||_0x1fba8c==='cylinder'||_0x1fba8c==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x44a8e5,_0x32d184,_0x5c1aba){const _0x5d3362=this['system']['app']['assets'];if(_0x32d184){const _0x34364=_0x5d3362['get'](_0x32d184);_0x34364&&_0x34364['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x5c1aba){_0x5c1aba instanceof pe&&(this['data']['asset']=_0x5c1aba['id']);const _0x30eff1=_0x5d3362['get'](this['data']['asset']);_0x30eff1&&(_0x30eff1['off']('remove',this['onAssetRem'+'oved'],this),_0x30eff1['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x5c1aba||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x12e251,_0xdee4b1,_0x3770f8){const _0x1cd3a6=this['system']['app']['assets'];if(_0xdee4b1){const _0x15f05f=_0x1cd3a6['get'](_0xdee4b1);_0x15f05f&&_0x15f05f['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x3770f8){_0x3770f8 instanceof pe&&(this['data']['renderAsse'+'t']=_0x3770f8['id']);const _0x578909=_0x1cd3a6['get'](this['data']['renderAsse'+'t']);_0x578909&&(_0x578909['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x578909['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x3770f8||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x1cf4b1,_0xcfe564,_0x1c4527){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x18172f,_0x1ed492,_0x4195b5){this['onSetModel'](_0x18172f,_0x1ed492,_0x4195b5);}['onAssetRem'+'oved'](_0x23a561){_0x23a561['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x23a561['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x1fde79){_0x1fde79['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x1fde79['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x30fa27){const _0x277639=this['data']['shape'],_0x4dd2aa=_0x277639['getNumChil'+'dShapes']();for(let _0x2a37a6=0x1*-0x2421+-0x513*0x7+0x47a6;_0x2a37a6<_0x4dd2aa;_0x2a37a6++){const _0x1faa76=_0x277639['getChildSh'+'ape'](_0x2a37a6);if(Ammo['getPointer'](_0x1faa76)===Ammo['getPointer'](_0x30fa27))return _0x2a37a6;}return null;}['_onInsert'](_0x42ce14){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x2c17ff=this['entity']['parent'];for(;_0x2c17ff;){if(_0x2c17ff['collision']&&_0x2c17ff['collision']['type']==='compound'){_0x2c17ff['collision']['shape']['getNumChil'+'dShapes']()===-0x4*0x5ab+0x755*-0x1+0x1e01?this['system']['recreatePh'+'ysicalShap'+'es'](_0x2c17ff['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x2c17ff=_0x2c17ff['parent'];}}}}}['_updateCom'+'pound'](){const _0x821f55=this['entity'];if(_0x821f55['_dirtyWorl'+'d']){let _0x1ec27d=_0x821f55['_dirtyLoca'+'l'],_0x3f252d=_0x821f55;for(;_0x3f252d&&!_0x1ec27d&&!(_0x3f252d['collision']&&_0x3f252d['collision']===this['_compoundP'+'arent']);)_0x3f252d['_dirtyLoca'+'l']&&(_0x1ec27d=!(-0x1292+0x8b6+0x4ee*0x2)),_0x3f252d=_0x3f252d['parent'];if(_0x1ec27d){_0x821f55['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x821f55);const _0x5e68a=this['_compoundP'+'arent']['entity']['rigidbody'];_0x5e68a&&_0x5e68a['activate']();}}}['getShapePo'+'sition'](){const _0x5e61ab=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x2415a9=this['entity']['getRotatio'+'n'](),_0x4f4faf=this['data']['linearOffs'+'et'];return zg['copy'](_0x2415a9)['transformV'+'ector'](_0x4f4faf,Bg),Bg['add'](_0x5e61ab);}return _0x5e61ab;}['getShapeRo'+'tation'](){const _0x26a427=this['entity']['getRotatio'+'n']();return this['_hasOffset']?zg['copy'](_0x26a427)['mul'](this['data']['angularOff'+'set']):_0x26a427;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0xc82d7a=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0xc82d7a&&(!_0xc82d7a['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0x1076+-0x25dc+0x1b29*0x2)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x3ac217=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x3ac217,this['data']['shape']),Ammo['destroy'](_0x3ac217),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}h(rn,'EVENT_CONT'+'ACT','contact'),h(rn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(rn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(rn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(rn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class XL{constructor(){this['enabled']=!(0x19bc+0x1563+0x3*-0xfb5),this['type']='box',this['halfExtent'+'s']=new D(-0x6f*0x1f+-0x1*0x1feb+0x2d5c+0.5,-0xf1*0x1d+-0x1066+-0xe91*-0x3+0.5,0x155f+0x649*-0x3+-0x284+0.5),this['linearOffs'+'et']=new D(),this['angularOff'+'set']=new le(),this['radius']=0xb96+-0x96e+0x6*-0x5c+0.5,this['axis']=-0x3c8+-0x25be+0x2987*0x1,this['height']=-0x205f+0x155*0x14+0x5bd,this['convexHull']=!(-0x1d66+-0x8cb+0x2632),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(0x186+-0x5d+-0x129),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(-0x199+-0x2311+-0x7*-0x53d);}}const yo='static',ks='dynamic',Ha='kinematic',qL=-0x21be+0x1b2+-0x200e*-0x1,Po=-0xe65+-0x183*0x8+0x1a81,Pu=-0x1850+0x1*0x59f+0x12b2,Vg=0x2*-0xa2d+0x3a*-0x6b+-0x164e*-0x2,Yv=0x16f1+0x1e2f*0x1+-0x1*0x351b,jL=-0x96e+0x191f+-0xfb0,Gg=-0x18*0x1a+-0x23ab+0x261d*0x1,YL=-0x2541+0x153*-0xf+0x2*0x1c91,Hg=-0x625*0x3+0x687+0xbf8,Wg=-0xbc9a+0xa88*0x26+-0x2c69*-0x1,Mu=0x1124c+-0x15174+0x13f25;let Us,zr,Wa;class Kv{constructor(_0x357e36,_0x73ed78,_0x2847ff){this['entity']=_0x73ed78['entity'],this['component']=_0x73ed78,this['app']=_0x357e36,typeof Ammo<'u'&&!Us&&(Us=new Ammo['btVector3'](),zr=new Ammo['btQuaterni'+'on'](),Wa=new Ammo['btTransfor'+'m']()),this['initialize'](_0x2847ff);}['initialize'](_0x21508b){const _0x598844=this['entity'],_0x54ddab=_0x21508b['shape'];if(_0x54ddab&&typeof Ammo<'u'){_0x598844['trigger']&&_0x598844['trigger']['destroy']();const _0x3235a2=0x4d4+-0x1a1f+-0x154c*-0x1,_0x10a8be=this['component'];if(_0x10a8be){const _0x46b7ff=_0x10a8be['getShapePo'+'sition'](),_0x34b098=_0x10a8be['getShapeRo'+'tation']();Us['setValue'](_0x46b7ff['x'],_0x46b7ff['y'],_0x46b7ff['z']),zr['setValue'](_0x34b098['x'],_0x34b098['y'],_0x34b098['z'],_0x34b098['w']);}else{const _0x57509e=_0x598844['getPositio'+'n'](),_0x52b6fa=_0x598844['getRotatio'+'n']();Us['setValue'](_0x57509e['x'],_0x57509e['y'],_0x57509e['z']),zr['setValue'](_0x52b6fa['x'],_0x52b6fa['y'],_0x52b6fa['z'],_0x52b6fa['w']);}Wa['setOrigin'](Us),Wa['setRotatio'+'n'](zr);const _0x18580b=this['app']['systems']['rigidbody']['createBody'](_0x3235a2,_0x54ddab,Wa);_0x18580b['setRestitu'+'tion'](0x450*-0x1+-0x16e5+0x5*0x571),_0x18580b['setFrictio'+'n'](-0x213+0x160c+-0x13f9),_0x18580b['setDamping'](-0x9f*-0x37+-0x224c+-0x7*-0x5,-0x53*-0x61+-0xa3*-0x3d+-0x464a),Us['setValue'](-0x24e3+-0x9c*0x39+0x479f,-0x227f+0xe9*-0x9+0x2ab0,0x8a2+0xbb7+-0x1459*0x1),_0x18580b['setLinearF'+'actor'](Us),_0x18580b['setAngular'+'Factor'](Us),_0x18580b['setCollisi'+'onFlags'](_0x18580b['getCollisi'+'onFlags']()|Po),_0x18580b['entity']=_0x598844,this['body']=_0x18580b,this['component']['enabled']&&_0x598844['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0x505bcb){const _0x30c7d0=this['component'];if(_0x30c7d0){const _0x3e7c8c=_0x30c7d0['getShapePo'+'sition'](),_0x8d0d7c=_0x30c7d0['getShapeRo'+'tation']();Us['setValue'](_0x3e7c8c['x'],_0x3e7c8c['y'],_0x3e7c8c['z']),zr['setValue'](_0x8d0d7c['x'],_0x8d0d7c['y'],_0x8d0d7c['z'],_0x8d0d7c['w']);}else{const _0x1cb1a6=this['entity']['getPositio'+'n'](),_0x29c668=this['entity']['getRotatio'+'n']();Us['setValue'](_0x1cb1a6['x'],_0x1cb1a6['y'],_0x1cb1a6['z']),zr['setValue'](_0x29c668['x'],_0x29c668['y'],_0x29c668['z'],_0x29c668['w']);}_0x505bcb['setOrigin'](Us),_0x505bcb['setRotatio'+'n'](zr);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Wa);const _0x2436f9=this['body'];_0x2436f9['setWorldTr'+'ansform'](Wa),_0x2436f9['activate']();}['enable'](){const _0x48572a=this['body'];if(!_0x48572a)return;const _0x282d6b=this['app']['systems']['rigidbody'];_0x282d6b['_triggers']['indexOf'](this)<-0x55*-0x69+-0x1c81+-0x32e*0x2&&(_0x282d6b['addBody'](_0x48572a,Hg,Mu^Hg),_0x282d6b['_triggers']['push'](this)),_0x48572a['forceActiv'+'ationState'](Pu),this['updateTran'+'sform']();}['disable'](){const _0x41168e=this['body'];if(!_0x41168e)return;const _0xd7f990=this['app']['systems']['rigidbody'],_0x5da370=_0xd7f990['_triggers']['indexOf'](this);_0x5da370>-(0x2c6+-0x474+0x1af)&&(_0xd7f990['removeBody'](_0x41168e),_0xd7f990['_triggers']['splice'](_0x5da370,-0x26e*-0x5+-0x1*0x1183+-0x55e*-0x1)),_0x41168e['forceActiv'+'ationState'](Yv);}}const wc=new te(),KL=new D(),ZL=new D(),Vr=new le(),$g=new Ie(),QL=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class Ca{constructor(_0x3364a7){this['system']=_0x3364a7;}['beforeInit'+'ialize'](_0x36884f,_0x4a7139){_0x4a7139['shape']=null,_0x4a7139['model']=new sr(),_0x4a7139['model']['graph']=new Ie();}['afterIniti'+'alize'](_0x28c2a2,_0x1f8c30){this['recreatePh'+'ysicalShap'+'es'](_0x28c2a2),_0x28c2a2['data']['initialize'+'d']=!(0x1948+0x101a+-0x2962);}['reset'](_0x5116bc,_0x28354d){this['beforeInit'+'ialize'](_0x5116bc,_0x28354d),this['afterIniti'+'alize'](_0x5116bc,_0x28354d);}['recreatePh'+'ysicalShap'+'es'](_0x56fbcb){const _0x5b3a3c=_0x56fbcb['entity'],_0x319392=_0x56fbcb['data'];if(typeof Ammo<'u'){_0x5b3a3c['trigger']&&(_0x5b3a3c['trigger']['destroy'](),delete _0x5b3a3c['trigger']),_0x319392['shape']&&(_0x56fbcb['_compoundP'+'arent']&&(_0x56fbcb!==_0x56fbcb['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x56fbcb['_compoundP'+'arent'],_0x319392['shape']),_0x56fbcb['_compoundP'+'arent']['entity']['rigidbody']&&_0x56fbcb['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x319392)),_0x319392['shape']=this['createPhys'+'icalShape'](_0x56fbcb['entity'],_0x319392);const _0xb1f336=!_0x56fbcb['_compoundP'+'arent'];if(_0x319392['type']==='compound'&&(!_0x56fbcb['_compoundP'+'arent']||_0x56fbcb===_0x56fbcb['_compoundP'+'arent']))_0x56fbcb['_compoundP'+'arent']=_0x56fbcb,_0x5b3a3c['forEach'](this['_addEachDe'+'scendant'],_0x56fbcb);else{if(_0x319392['type']!=='compound'&&!_0x56fbcb['rigidbody']){_0x56fbcb['_compoundP'+'arent']=null;let _0x31e9b1=_0x5b3a3c['parent'];for(;_0x31e9b1;){if(_0x31e9b1['collision']&&_0x31e9b1['collision']['type']==='compound'){_0x56fbcb['_compoundP'+'arent']=_0x31e9b1['collision'];break;}_0x31e9b1=_0x31e9b1['parent'];}}}_0x56fbcb['_compoundP'+'arent']&&_0x56fbcb!==_0x56fbcb['_compoundP'+'arent']&&(_0xb1f336&&_0x56fbcb['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x1*-0x312+-0xef*-0x16+0x4*-0x45e?this['system']['recreatePh'+'ysicalShap'+'es'](_0x56fbcb['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x5b3a3c,!(0x1af*-0xc+-0x1e7+0x161b)),_0x56fbcb['_compoundP'+'arent']['entity']['rigidbody']&&_0x56fbcb['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x5b3a3c['rigidbody']?(_0x5b3a3c['rigidbody']['disableSim'+'ulation'](),_0x5b3a3c['rigidbody']['createBody'](),_0x5b3a3c['enabled']&&_0x5b3a3c['rigidbody']['enabled']&&_0x5b3a3c['rigidbody']['enableSimu'+'lation']()):_0x56fbcb['_compoundP'+'arent']||(_0x5b3a3c['trigger']?_0x5b3a3c['trigger']['initialize'](_0x319392):_0x5b3a3c['trigger']=new Kv(this['system']['app'],_0x56fbcb,_0x319392));}}['createPhys'+'icalShape'](_0x225181,_0x1f0b1b){}['updateTran'+'sform'](_0x22d5be,_0xb27756,_0x556174,_0x3c692d){_0x22d5be['entity']['trigger']&&_0x22d5be['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x5a0ab6){_0x5a0ab6['shape']&&(Ammo['destroy'](_0x5a0ab6['shape']),_0x5a0ab6['shape']=null);}['beforeRemo'+'ve'](_0x28c0eb,_0x54027f){_0x54027f['data']['shape']&&(_0x54027f['_compoundP'+'arent']&&!_0x54027f['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x54027f['_compoundP'+'arent'],_0x54027f['data']['shape']),_0x54027f['_compoundP'+'arent']['entity']['rigidbody']&&_0x54027f['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x54027f['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x54027f['data']));}['remove'](_0x18400f,_0x1832fd){_0x18400f['rigidbody']&&_0x18400f['rigidbody']['body']&&_0x18400f['rigidbody']['disableSim'+'ulation'](),_0x18400f['trigger']&&(_0x18400f['trigger']['destroy'](),delete _0x18400f['trigger']);}['clone'](_0x8fdb9c,_0x5be3ae){const _0x3a4817=this['system']['store'][_0x8fdb9c['getGuid']()],_0x42c04f={'enabled':_0x3a4817['data']['enabled'],'type':_0x3a4817['data']['type'],'halfExtents':[_0x3a4817['data']['halfExtent'+'s']['x'],_0x3a4817['data']['halfExtent'+'s']['y'],_0x3a4817['data']['halfExtent'+'s']['z']],'linearOffset':[_0x3a4817['data']['linearOffs'+'et']['x'],_0x3a4817['data']['linearOffs'+'et']['y'],_0x3a4817['data']['linearOffs'+'et']['z']],'angularOffset':[_0x3a4817['data']['angularOff'+'set']['x'],_0x3a4817['data']['angularOff'+'set']['y'],_0x3a4817['data']['angularOff'+'set']['z'],_0x3a4817['data']['angularOff'+'set']['w']],'radius':_0x3a4817['data']['radius'],'axis':_0x3a4817['data']['axis'],'height':_0x3a4817['data']['height'],'convexHull':_0x3a4817['data']['convexHull'],'asset':_0x3a4817['data']['asset'],'renderAsset':_0x3a4817['data']['renderAsse'+'t'],'model':_0x3a4817['data']['model'],'render':_0x3a4817['data']['render'],'checkVertexDuplicates':_0x3a4817['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x5be3ae,_0x42c04f);}}class JL extends Ca{['createPhys'+'icalShape'](_0x3e60e6,_0x4d2721){if(typeof Ammo<'u'){const _0x194289=_0x4d2721['halfExtent'+'s'],_0x476775=new Ammo['btVector3'](_0x194289?_0x194289['x']:-0x1*-0x2b7+0xd68+-0x101f+0.5,_0x194289?_0x194289['y']:0x2*-0xdb7+-0x1690+0x31fe+0.5,_0x194289?_0x194289['z']:-0xad9*0x1+-0x1*-0x7d2+-0x1f*-0x19+0.5),_0x3db88d=new Ammo['btBoxShape'](_0x476775);return Ammo['destroy'](_0x476775),_0x3db88d;}}}class eR extends Ca{['createPhys'+'icalShape'](_0x15a96c,_0x142b70){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x142b70['radius']);}}class tR extends Ca{['createPhys'+'icalShape'](_0x150224,_0x23c70f){const _0x433be2=_0x23c70f['axis']??0x155f+0xe82+-0xe0*0x29,_0x369dfb=_0x23c70f['radius']??0x437*-0x1+-0x17f0+0x1*0x1c27+0.5,_0x2782fd=Math['max']((_0x23c70f['height']??-0x10c6+0xe6*0x1+0x2*0x7f1)-(-0xbd6+0x1eae+-0x2*0x96b)*_0x369dfb,0x512*0x4+0x1330+-0x2778);let _0x41f85e=null;if(typeof Ammo<'u')switch(_0x433be2){case 0x1240+0x1223+-0x2463:_0x41f85e=new Ammo['btCapsuleS'+'hapeX'](_0x369dfb,_0x2782fd);break;case 0x24b+-0x1d89*0x1+0x1b3f:_0x41f85e=new Ammo['btCapsuleS'+'hape'](_0x369dfb,_0x2782fd);break;case 0xfb*-0x20+0x2221*-0x1+0x4183*0x1:_0x41f85e=new Ammo['btCapsuleS'+'hapeZ'](_0x369dfb,_0x2782fd);break;}return _0x41f85e;}}class sR extends Ca{['createPhys'+'icalShape'](_0x4f4039,_0x3c1e5f){const _0x10f233=_0x3c1e5f['axis']??-0x1ce6+0x11*0x21e+0x5*-0x16b,_0x317e0e=_0x3c1e5f['radius']??-0x6d7+-0x487+0x1e5*0x6+0.5,_0x50cb24=_0x3c1e5f['height']??0x203a+0x12e5+-0x1*0x331e;let _0x4c6026=null,_0x230e90=null;if(typeof Ammo<'u')switch(_0x10f233){case 0x14d4+0xc2d+-0x4b7*0x7:_0x4c6026=new Ammo['btVector3'](_0x50cb24*(-0x2*0xbaf+0x34*0x4+0x168e+0.5),_0x317e0e,_0x317e0e),_0x230e90=new Ammo['btCylinder'+'ShapeX'](_0x4c6026);break;case 0x340*0x5+-0xc58+-0x3e7:_0x4c6026=new Ammo['btVector3'](_0x317e0e,_0x50cb24*(-0x1e2*0x2+0x26*0x1+0x39e+0.5),_0x317e0e),_0x230e90=new Ammo['btCylinder'+'Shape'](_0x4c6026);break;case 0x1*-0x1c4d+-0xbb1*-0x1+-0x109e*-0x1:_0x4c6026=new Ammo['btVector3'](_0x317e0e,_0x317e0e,_0x50cb24*(0x1*0x4b+0x9*-0x248+0x143d+0.5)),_0x230e90=new Ammo['btCylinder'+'ShapeZ'](_0x4c6026);break;}return _0x4c6026&&Ammo['destroy'](_0x4c6026),_0x230e90;}}class iR extends Ca{['createPhys'+'icalShape'](_0xbeb47,_0x18e352){const _0xd6af26=_0x18e352['axis']??-0x3*0x7c3+-0x2431*0x1+0x1*0x3b7b,_0x27bd86=_0x18e352['radius']??0x2a*-0x45+-0x1d23+0x2875+0.5,_0x383a3e=_0x18e352['height']??0xaba+-0x982*0x3+0x1f*0x93;let _0x59175e=null;if(typeof Ammo<'u')switch(_0xd6af26){case-0x5b9+-0x6*0x219+-0x1*-0x124f:_0x59175e=new Ammo['btConeShap'+'eX'](_0x27bd86,_0x383a3e);break;case-0x4*0x479+0x412*-0x4+-0x1*-0x222d:_0x59175e=new Ammo['btConeShap'+'e'](_0x27bd86,_0x383a3e);break;case 0x1f4d+0x1*-0x1654+0x2d*-0x33:_0x59175e=new Ammo['btConeShap'+'eZ'](_0x27bd86,_0x383a3e);break;}return _0x59175e;}}class rR extends Ca{['beforeInit'+'ialize'](_0x4c6ac4,_0x4f0c24){}['createAmmo'+'Hull'](_0x552e42,_0x569d22,_0x3ab955,_0x162692){const _0x3f124f=new Ammo['btConvexHu'+'llShape'](),_0xe124d4=new Ammo['btVector3'](),_0x316236=[];_0x552e42['getPositio'+'ns'](_0x316236);for(let _0x3045ae=-0x24ab+0xf04+-0xf1*-0x17;_0x3045ae<_0x316236['length'];_0x3045ae+=0xbab+-0x1*-0x1a6f+0xc7*-0x31)_0xe124d4['setValue'](_0x316236[_0x3045ae]*_0x162692['x'],_0x316236[_0x3045ae+(-0x25a3+-0x2d7*0x3+-0xf63*-0x3)]*_0x162692['y'],_0x316236[_0x3045ae+(-0x10b*0x1+0x17*0xe3+0x9ac*-0x2)]*_0x162692['z']),_0x3f124f['addPoint'](_0xe124d4,!(0x1070*-0x1+-0xf7+0x1168));Ammo['destroy'](_0xe124d4),_0x3f124f['recalcLoca'+'lAabb'](),_0x3f124f['setMargin'](-0x6b9+-0x1639+0x1cf2+0.01);const _0x47a79e=this['system']['_getNodeTr'+'ansform'](_0x569d22);_0x3ab955['addChildSh'+'ape'](_0x47a79e,_0x3f124f),Ammo['destroy'](_0x47a79e);}['createAmmo'+'Mesh'](_0x4d2563,_0x1f1a05,_0x40a82b,_0x14329a,_0x3469a6=!(-0x4*0x28d+-0x231c+-0x8*-0x5aa)){const _0x2ca8e2=this['system'];let _0x4074dd;if(_0x2ca8e2['_triMeshCa'+'che'][_0x4d2563['id']])_0x4074dd=_0x2ca8e2['_triMeshCa'+'che'][_0x4d2563['id']];else{const _0x5413bc=_0x4d2563['vertexBuff'+'er'],_0x430209=_0x5413bc['getFormat']();let _0x14f416,_0x5f21c8;for(let _0x4d64d8=0x1cf8+-0x359*0x7+0x589*-0x1;_0x4d64d8<_0x430209['elements']['length'];_0x4d64d8++){const _0x2f0117=_0x430209['elements'][_0x4d64d8];if(_0x2f0117['name']===Me){_0x5f21c8=new Float32Array(_0x5413bc['lock'](),_0x2f0117['offset']),_0x14f416=_0x2f0117['stride']/(0x25c8+-0x253a+0x2*-0x45);break;}}const _0xfbe226=[];_0x4d2563['getIndices'](_0xfbe226);const _0x54abed=_0x4d2563['primitive'][-0x2*0x569+0x1de+-0x23d*-0x4]['count']/(-0x5d*-0x4d+0x1fee+0xef9*-0x4),_0x45e38c=new Ammo['btVector3']();let _0x33a9ce,_0x1eb906,_0x599f76;const _0x36e8f9=_0x4d2563['primitive'][0x1*0x1010+0x1c81*0x1+0xedb*-0x3]['base'];_0x4074dd=new Ammo['btTriangle'+'Mesh'](),_0x2ca8e2['_triMeshCa'+'che'][_0x4d2563['id']]=_0x4074dd;const _0xc17a67=new Map();w['assert'](typeof _0x4074dd['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x44dd7f=_0x4074dd['getIndexed'+'MeshArray']();_0x44dd7f['at'](-0x2597+-0x1809+-0x1ed*-0x20)['m_numTrian'+'gles']=_0x54abed;const _0x3e4c4b=_0x14329a?_0x14329a['x']:-0x19*-0xff+-0x2fa*0x2+-0x12f2,_0x45c002=_0x14329a?_0x14329a['y']:-0x191d+-0xfd9*-0x1+0x945,_0x58e837=_0x14329a?_0x14329a['z']:-0x1*-0x15d5+-0x5*-0x371+-0x2709,_0x10a960=_0x5761f4=>{const _0x271743=_0x5f21c8[_0x5761f4*_0x14f416]*_0x3e4c4b,_0x13e7bd=_0x5f21c8[_0x5761f4*_0x14f416+(0x134e+0x15d5+-0x2922)]*_0x45c002,_0x2ea582=_0x5f21c8[_0x5761f4*_0x14f416+(-0x10f6+0xda3*-0x1+0x1e9b)]*_0x58e837;let _0x2475f9;if(_0x3469a6){const _0x5647bf=_0x271743+':'+_0x13e7bd+':'+_0x2ea582;if(_0x2475f9=_0xc17a67['get'](_0x5647bf),_0x2475f9!==void(0x1ed8+0x25*0x6d+-0x2e99))return _0x2475f9;_0x45e38c['setValue'](_0x271743,_0x13e7bd,_0x2ea582),_0x2475f9=_0x4074dd['findOrAddV'+'ertex'](_0x45e38c,!(-0x1*-0x212f+0x1*0x28+-0x2156*0x1)),_0xc17a67['set'](_0x5647bf,_0x2475f9);}else _0x45e38c['setValue'](_0x271743,_0x13e7bd,_0x2ea582),_0x2475f9=_0x4074dd['findOrAddV'+'ertex'](_0x45e38c,!(0x1795+0xb7*-0x2+-0xb13*0x2));return _0x2475f9;};for(let _0x3da9cd=0x118e+-0x282*0x5+-0x504;_0x3da9cd<_0x54abed;_0x3da9cd++)_0x33a9ce=_0x10a960(_0xfbe226[_0x36e8f9+_0x3da9cd*(-0x1*-0x1b46+0xc09+0x274c*-0x1)]),_0x1eb906=_0x10a960(_0xfbe226[_0x36e8f9+_0x3da9cd*(-0x2*-0xe89+-0x802*-0x4+-0x3d17)+(-0x565*-0x7+0x182b+-0x1*0x3ded)]),_0x599f76=_0x10a960(_0xfbe226[_0x36e8f9+_0x3da9cd*(0x822+-0x9c2*0x1+0x1a3)+(0x1bc1+0x18fd*-0x1+-0x2c2)]),_0x4074dd['addIndex'](_0x33a9ce),_0x4074dd['addIndex'](_0x1eb906),_0x4074dd['addIndex'](_0x599f76);Ammo['destroy'](_0x45e38c);}const _0x5bb558=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x4074dd,!(-0xbb*-0xb+0x17a1*-0x1+-0x1*-0xf98));if(!_0x14329a){const _0x488204=_0x2ca8e2['_getNodeSc'+'aling'](_0x1f1a05);_0x5bb558['setLocalSc'+'aling'](_0x488204),Ammo['destroy'](_0x488204);}const _0x488dc4=_0x2ca8e2['_getNodeTr'+'ansform'](_0x1f1a05);_0x40a82b['addChildSh'+'ape'](_0x488dc4,_0x5bb558),Ammo['destroy'](_0x488dc4);}['createPhys'+'icalShape'](_0x308fdc,_0x20552a){if(!(typeof Ammo>'u')&&(_0x20552a['model']||_0x20552a['render'])){const _0x32951f=new Ammo['btCompound'+'Shape'](),_0x413442=_0x308fdc['getWorldTr'+'ansform']()['getScale']();if(_0x20552a['render']){const _0x505c3d=_0x20552a['render']['meshes'];for(let _0x5f0042=0x3*0xbfd+0x5c4+-0x29bb;_0x5f0042<_0x505c3d['length'];_0x5f0042++)_0x20552a['convexHull']?this['createAmmo'+'Hull'](_0x505c3d[_0x5f0042],$g,_0x32951f,_0x413442):this['createAmmo'+'Mesh'](_0x505c3d[_0x5f0042],$g,_0x32951f,_0x413442,_0x20552a['checkVerte'+'xDuplicate'+'s']);}else{if(_0x20552a['model']){const _0x4ffd10=_0x20552a['model']['meshInstan'+'ces'];for(let _0x295f01=-0x1055+-0x1e79+0x6*0x7cd;_0x295f01<_0x4ffd10['length'];_0x295f01++)this['createAmmo'+'Mesh'](_0x4ffd10[_0x295f01]['mesh'],_0x4ffd10[_0x295f01]['node'],_0x32951f,null,_0x20552a['checkVerte'+'xDuplicate'+'s']);const _0x1157b0=new Ammo['btVector3'](_0x413442['x'],_0x413442['y'],_0x413442['z']);_0x32951f['setLocalSc'+'aling'](_0x1157b0),Ammo['destroy'](_0x1157b0);}}return _0x32951f;}}['recreatePh'+'ysicalShap'+'es'](_0x524934){const _0x44d4a4=_0x524934['data'];if((_0x44d4a4['renderAsse'+'t']||_0x44d4a4['asset'])&&_0x524934['enabled']&&_0x524934['entity']['enabled']){this['loadAsset'](_0x524934,_0x44d4a4['renderAsse'+'t']||_0x44d4a4['asset'],_0x44d4a4['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x524934);}['loadAsset'](_0x226114,_0x55c373,_0x13d3e7){const _0x2bc84d=_0x226114['data'],_0x3f9a75=this['system']['app']['assets'],_0x38ef10=_0x2bc84d[_0x13d3e7],_0x1aa969=_0xe13985=>{_0x2bc84d[_0x13d3e7]===_0x38ef10&&(_0x2bc84d[_0x13d3e7]=_0xe13985['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0x226114));},_0x1cea34=_0x3695f5=>{_0x3695f5['ready'](_0x25e764=>{if(_0x25e764['data']['containerA'+'sset']){const _0x1d7e59=_0x3f9a75['get'](_0x25e764['data']['containerA'+'sset']);_0x1d7e59['loaded']?_0x1aa969(_0x25e764):(_0x1d7e59['ready'](()=>{_0x1aa969(_0x25e764);}),_0x3f9a75['load'](_0x1d7e59));}else _0x1aa969(_0x25e764);}),_0x3f9a75['load'](_0x3695f5);},_0x4ef0e0=_0x3f9a75['get'](_0x55c373);_0x4ef0e0?_0x1cea34(_0x4ef0e0):_0x3f9a75['once']('add:'+_0x55c373,_0x1cea34);}['doRecreate'+'PhysicalSh'+'ape'](_0x1594ba){const _0x1bf1a4=_0x1594ba['entity'],_0x2e3c7e=_0x1594ba['data'];_0x2e3c7e['model']||_0x2e3c7e['render']?(this['destroySha'+'pe'](_0x2e3c7e),_0x2e3c7e['shape']=this['createPhys'+'icalShape'](_0x1bf1a4,_0x2e3c7e),_0x1bf1a4['rigidbody']?(_0x1bf1a4['rigidbody']['disableSim'+'ulation'](),_0x1bf1a4['rigidbody']['createBody'](),_0x1bf1a4['enabled']&&_0x1bf1a4['rigidbody']['enabled']&&_0x1bf1a4['rigidbody']['enableSimu'+'lation']()):_0x1bf1a4['trigger']?_0x1bf1a4['trigger']['initialize'](_0x2e3c7e):_0x1bf1a4['trigger']=new Kv(this['system']['app'],_0x1594ba,_0x2e3c7e)):(this['beforeRemo'+'ve'](_0x1bf1a4,_0x1594ba),this['remove'](_0x1bf1a4,_0x2e3c7e));}['updateTran'+'sform'](_0x31f8a4,_0x3d4cf1,_0x40c7be,_0x48db31){if(_0x31f8a4['shape']){const _0x4887e2=_0x31f8a4['entity']['getWorldTr'+'ansform']()['getScale'](),_0x1965ed=_0x31f8a4['shape']['getLocalSc'+'aling']();(_0x4887e2['x']!==_0x1965ed['x']()||_0x4887e2['y']!==_0x1965ed['y']()||_0x4887e2['z']!==_0x1965ed['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x31f8a4);}super['updateTran'+'sform'](_0x31f8a4,_0x3d4cf1,_0x40c7be,_0x48db31);}['destroySha'+'pe'](_0x2ef409){if(!_0x2ef409['shape'])return;const _0x12e180=_0x2ef409['shape']['getNumChil'+'dShapes']();for(let _0x1ef2bd=0x11ea+0x51c*-0x3+-0x296*0x1;_0x1ef2bd<_0x12e180;_0x1ef2bd++){const _0x135d23=_0x2ef409['shape']['getChildSh'+'ape'](_0x1ef2bd);Ammo['destroy'](_0x135d23);}Ammo['destroy'](_0x2ef409['shape']),_0x2ef409['shape']=null;}}class aR extends Ca{['createPhys'+'icalShape'](_0xdd9bdd,_0x2f854e){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x8f14dd){!_0x8f14dd['collision']||_0x8f14dd['rigidbody']||(_0x8f14dd['collision']['_compoundP'+'arent']=this,_0x8f14dd!==this['entity']&&_0x8f14dd['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x8f14dd['collision']));}['_updateEac'+'hDescendan'+'t'](_0x213d52){_0x213d52['collision']&&_0x213d52['collision']['_compoundP'+'arent']===this&&(_0x213d52['collision']['_compoundP'+'arent']=null,_0x213d52!==this['entity']&&!_0x213d52['rigidbody']&&_0x213d52['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x213d52['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x4c5b3c){!_0x4c5b3c['collision']||_0x4c5b3c['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x4c5b3c,!(-0x25d0+0x4d3*-0x6+0x42c3));}}class nR extends ct{constructor(_0x3123b9){super(_0x3123b9),this['id']='collision',this['ComponentT'+'ype']=rn,this['DataType']=XL,this['schema']=QL,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x36137f,_0x59c857,_0x3d5baa){_0x3d5baa=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x501585={};for(let _0xb476d5=-0x2cf*0x2+-0x8*0x106+0xdce,_0x3943e5=_0x3d5baa['length'];_0xb476d5<_0x3943e5;_0xb476d5++){const _0x4ab029=_0x3d5baa[_0xb476d5];_0x501585[_0x4ab029]=_0x59c857[_0x4ab029];}let _0x1ec388;if(_0x59c857['hasOwnProp'+'erty']('asset')?(_0x1ec388=_0x3d5baa['indexOf']('model'),_0x1ec388!==-(-0x1*-0x1034+0x1*-0x20fb+0x10c8)&&_0x3d5baa['splice'](_0x1ec388,0x1007+0x15a9+-0x25af),_0x1ec388=_0x3d5baa['indexOf']('render'),_0x1ec388!==-(-0x16d1+-0x4*0x2de+0x224a)&&_0x3d5baa['splice'](_0x1ec388,0x7*0x2ab+0x3bb*0x6+-0x290e)):_0x59c857['hasOwnProp'+'erty']('model')&&(_0x1ec388=_0x3d5baa['indexOf']('asset'),_0x1ec388!==-(0x1811+-0x26a9+0xe99)&&_0x3d5baa['splice'](_0x1ec388,0x144d+-0x9*0x6e+-0x1*0x106e)),_0x501585['type']||(_0x501585['type']=_0x36137f['data']['type']),_0x36137f['data']['type']=_0x501585['type'],Array['isArray'](_0x501585['halfExtent'+'s'])&&(_0x501585['halfExtent'+'s']=new D(_0x501585['halfExtent'+'s'])),Array['isArray'](_0x501585['linearOffs'+'et'])&&(_0x501585['linearOffs'+'et']=new D(_0x501585['linearOffs'+'et'])),Array['isArray'](_0x501585['angularOff'+'set'])){const _0x1eb8b9=_0x501585['angularOff'+'set'];_0x1eb8b9['length']===0x229a+-0x1f76+0x9*-0x59?_0x501585['angularOff'+'set']=new le()['setFromEul'+'erAngles'](_0x1eb8b9[0x7a3+0xd*0x11d+-0x161c],_0x1eb8b9[0x775*0x1+-0x178f+-0x24d*-0x7],_0x1eb8b9[-0x17c9*-0x1+0x1d0d+-0x34d4]):_0x501585['angularOff'+'set']=new le(_0x501585['angularOff'+'set']);}const _0x3542a7=this['_createImp'+'lementatio'+'n'](_0x501585['type']);_0x3542a7['beforeInit'+'ialize'](_0x36137f,_0x501585),super['initialize'+'ComponentD'+'ata'](_0x36137f,_0x501585,_0x3d5baa),_0x3542a7['afterIniti'+'alize'](_0x36137f,_0x501585);}['_createImp'+'lementatio'+'n'](_0x159703){if(this['implementa'+'tions'][_0x159703]===void(-0xb*0x1d9+0x355*-0x7+0x1*0x2ba6)){let _0x277991;switch(_0x159703){case'box':_0x277991=new JL(this);break;case'sphere':_0x277991=new eR(this);break;case'capsule':_0x277991=new tR(this);break;case'cylinder':_0x277991=new sR(this);break;case'cone':_0x277991=new iR(this);break;case'mesh':_0x277991=new rR(this);break;case'compound':_0x277991=new aR(this);break;default:w['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x159703);}this['implementa'+'tions'][_0x159703]=_0x277991;}return this['implementa'+'tions'][_0x159703];}['_getImplem'+'entation'](_0x403a26){return this['implementa'+'tions'][_0x403a26['collision']['data']['type']];}['cloneCompo'+'nent'](_0x360247,_0x53f533){return this['_getImplem'+'entation'](_0x360247)['clone'](_0x360247,_0x53f533);}['onBeforeRe'+'move'](_0x396547,_0x5b42e5){this['implementa'+'tions'][_0x5b42e5['data']['type']]['beforeRemo'+'ve'](_0x396547,_0x5b42e5),_0x5b42e5['onBeforeRe'+'move']();}['onRemove'](_0x27a31b,_0x348487){this['implementa'+'tions'][_0x348487['type']]['remove'](_0x27a31b,_0x348487);}['updateComp'+'oundChildT'+'ransform'](_0x3f7ca0,_0x485a93){const _0xfd1d4f=_0x3f7ca0['collision']['_compoundP'+'arent'];if(_0xfd1d4f!==_0x3f7ca0['collision']&&_0x3f7ca0['enabled']&&_0x3f7ca0['collision']['enabled']&&(_0x3f7ca0['_dirtyLoca'+'l']||_0x485a93)){const _0x129142=this['_getNodeTr'+'ansform'](_0x3f7ca0,_0xfd1d4f['entity']),_0x33d71c=_0xfd1d4f['getCompoun'+'dChildShap'+'eIndex'](_0x3f7ca0['collision']['shape']);_0x33d71c===null?_0xfd1d4f['shape']['addChildSh'+'ape'](_0x129142,_0x3f7ca0['collision']['data']['shape']):_0xfd1d4f['shape']['updateChil'+'dTransform'](_0x33d71c,_0x129142,!(0x22d9+0x1*0x2389+-0x4662)),Ammo['destroy'](_0x129142);}}['_removeCom'+'poundChild'](_0x5868ec,_0x498286){if(_0x5868ec['shape']['getNumChil'+'dShapes']()!==0xd10+0x17a2+-0x356*0xb){if(_0x5868ec['shape']['removeChil'+'dShape'])_0x5868ec['shape']['removeChil'+'dShape'](_0x498286);else{const _0x1f0bfd=_0x5868ec['getCompoun'+'dChildShap'+'eIndex'](_0x498286);_0x1f0bfd!==null&&_0x5868ec['shape']['removeChil'+'dShapeByIn'+'dex'](_0x1f0bfd);}}}['onTransfor'+'mChanged'](_0x5d6406,_0x44d983,_0x17192d,_0x10c789){this['implementa'+'tions'][_0x5d6406['data']['type']]['updateTran'+'sform'](_0x5d6406,_0x44d983,_0x17192d,_0x10c789);}['changeType'](_0x18acd5,_0x3cd269,_0x2c0337){this['implementa'+'tions'][_0x3cd269]['beforeRemo'+'ve'](_0x18acd5['entity'],_0x18acd5),this['implementa'+'tions'][_0x3cd269]['remove'](_0x18acd5['entity'],_0x18acd5['data']),this['_createImp'+'lementatio'+'n'](_0x2c0337)['reset'](_0x18acd5,_0x18acd5['data']);}['recreatePh'+'ysicalShap'+'es'](_0x6d2e76){this['implementa'+'tions'][_0x6d2e76['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x6d2e76);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x2a6c52,_0x5ec1bb){if(_0x2a6c52===_0x5ec1bb){const _0x44c9d3=_0x2a6c52['getWorldTr'+'ansform']()['getScale']();wc['setScale'](_0x44c9d3['x'],_0x44c9d3['y'],_0x44c9d3['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x2a6c52['parent'],_0x5ec1bb),wc['mul'](_0x2a6c52['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x5201b0){const _0x30b43c=_0x5201b0['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x30b43c['x'],_0x30b43c['y'],_0x30b43c['z']);}['_getNodeTr'+'ansform'](_0x133fc4,_0x341e8e){let _0x2a716c,_0x4c9b91;_0x341e8e?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x133fc4,_0x341e8e),_0x2a716c=KL,_0x4c9b91=Vr,wc['getTransla'+'tion'](_0x2a716c),_0x4c9b91['setFromMat'+'4'](wc)):(_0x2a716c=_0x133fc4['getPositio'+'n'](),_0x4c9b91=_0x133fc4['getRotatio'+'n']());const _0x5b3def=new Ammo['btQuaterni'+'on'](),_0x4309da=new Ammo['btTransfor'+'m']();_0x4309da['setIdentit'+'y']();const _0x31fb68=_0x4309da['getOrigin'](),_0x551000=_0x133fc4['collision'];if(_0x551000&&_0x551000['_hasOffset']){const _0x7a639b=_0x551000['data']['linearOffs'+'et'],_0x4ccd26=_0x551000['data']['angularOff'+'set'],_0x52df20=ZL;Vr['copy'](_0x4c9b91)['transformV'+'ector'](_0x7a639b,_0x52df20),_0x52df20['add'](_0x2a716c),Vr['copy'](_0x4c9b91)['mul'](_0x4ccd26),_0x31fb68['setValue'](_0x52df20['x'],_0x52df20['y'],_0x52df20['z']),_0x5b3def['setValue'](Vr['x'],Vr['y'],Vr['z'],Vr['w']);}else _0x31fb68['setValue'](_0x2a716c['x'],_0x2a716c['y'],_0x2a716c['z']),_0x5b3def['setValue'](_0x4c9b91['x'],_0x4c9b91['y'],_0x4c9b91['z'],_0x4c9b91['w']);return _0x4309da['setRotatio'+'n'](_0x5b3def),Ammo['destroy'](_0x5b3def),_0x4309da;}['destroy'](){for(const _0x2b9b3b in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x2b9b3b]);this['_triMeshCa'+'che']=null,super['destroy']();}}const Ec=new ie(),oR=new Kt();class lR{constructor(_0x4831cd,_0x5adbc5,_0x575f41){this['_entity']=_0x4831cd,this['_element']=_0x4831cd['element'],this['model']=new sr(),this['node']=new Ie(),this['model']['graph']=this['node'],this['mesh']=_0x5adbc5,this['meshInstan'+'ce']=new He(this['mesh'],_0x575f41,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x4831cd['name'],this['meshInstan'+'ce']['castShadow']=!(0x753*-0x1+0x319+-0x1*-0x43b),this['meshInstan'+'ce']['receiveSha'+'dow']=!(0x8a5*0x1+0xf1c+-0x40*0x5f),this['_meshDirty']=!(0xd*0xb3+-0x528+-0x3ee*0x1),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x25a683,_0x1ebde4;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x25a683=this['meshInstan'+'ce'])==null||_0x25a683['destroy'](),this['meshInstan'+'ce']=null,(_0x1ebde4=this['unmaskMesh'+'Instance'])==null||_0x1ebde4['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x18d73e){this['meshInstan'+'ce']&&(this['mesh']=_0x18d73e,this['meshInstan'+'ce']['mesh']=_0x18d73e,this['meshInstan'+'ce']['visible']=!!_0x18d73e,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x18d73e),this['forceUpdat'+'eAabb']());}['setMask'](_0x4c5310){var _0x43fd02;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0x4c5310){this['unmaskMesh'+'Instance']=new He(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(0x1*0x1b06+0x3*-0x88+0x17*-0x11b),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(0xf67+0x26d0+-0x3636),this['unmaskMesh'+'Instance']['pick']=!(0x206f+-0xee7+0x7*-0x281),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0xc8e4d3 in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0xc8e4d3,this['meshInstan'+'ce']['parameters'][_0xc8e4d3]['data']);}else{const _0x9e09ea=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x9e09ea>=-0xeb+-0x796+0x7*0x137&&this['model']['meshInstan'+'ces']['splice'](_0x9e09ea,0x2*0x9+-0x1b4e+-0x1*-0x1b3d);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0x4c5310||((_0x43fd02=this['unmaskMesh'+'Instance'])==null||_0x43fd02['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x490ba2){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x490ba2,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x490ba2));}['setParamet'+'er'](_0x2bd6ed,_0x2fc218){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0x2bd6ed,_0x2fc218),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x2bd6ed,_0x2fc218));}['deletePara'+'meter'](_0x18da87){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x18da87),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x18da87));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x4103cc=function(_0x412591){let _0x1bb15d;const _0x2b3c9d=_0x412591['children'],_0x304280=_0x2b3c9d['length'];if(_0x304280){for(let _0x12265d=0x384+0xae3*0x2+-0x194a;_0x12265d<_0x304280;_0x12265d++)_0x2b3c9d[_0x12265d]['element']&&(_0x1bb15d=_0x2b3c9d[_0x12265d]);if(!_0x1bb15d)return null;const _0x3d6ed7=_0x4103cc(_0x1bb15d);return _0x3d6ed7||_0x1bb15d;}return null;};if(this['unmaskMesh'+'Instance']){const _0x3da76c=_0x4103cc(this['_entity']);_0x3da76c&&_0x3da76c['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x3da76c['element']['drawOrder']+_0x3da76c['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),w['trace'](Vs,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x303d81){this['meshInstan'+'ce']&&(w['trace'](Vs,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x303d81),this['meshInstan'+'ce']['drawOrder']=_0x303d81);}['setCull'](_0x2d0202){if(!this['meshInstan'+'ce'])return;const _0x54e3c0=this['_element'];let _0x3081d6=null;_0x2d0202&&_0x54e3c0['_isScreenS'+'pace']()&&(_0x3081d6=function(_0x1a19d8){return _0x54e3c0['isVisibleF'+'orCamera'](_0x1a19d8);}),this['meshInstan'+'ce']['cull']=_0x2d0202,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x3081d6,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x2d0202,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x3081d6);}['setScreenS'+'pace'](_0x41a681){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x41a681,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x41a681));}['setLayer'](_0x590d2d){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x590d2d,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x590d2d));}['forceUpdat'+'eAabb'](_0x1032f8){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(0x752+0x3b1+-0xb02),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(0x1d35+-0x16e0+0xa2*-0xa)));}['setAabbFun'+'c'](_0x3d0e14){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x3d0e14,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x3d0e14));}}class cR{constructor(_0x3a7797){h(this,'_evtSetMes'+'hes',null),(this['_element']=_0x3a7797,this['_entity']=_0x3a7797['entity'],this['_system']=_0x3a7797['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=-0x465+-0xd6a*-0x2+-0x166f,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(0x5*-0x20+-0x722+0x7c3),this['_rect']=new re(-0x12d*0x3+0xa57*-0x3+0x228c,-0xe42+0x1570+-0x1*0x72e,0xc30+-0x26c0+-0x1a91*-0x1,0x19fb+0x1369+-0x3*0xf21),this['_mask']=!(-0x7d*0x38+0x41e+-0x13*-0x139),this['_maskRef']=-0x12d9+0x1*-0x10a3+0x1*0x237c,this['_outerScal'+'e']=new J(),this['_outerScal'+'eUniform']=new Float32Array(0x24f6+-0x1de2+-0x712),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(0x1bfd+0x107*0x3+0x35*-0x96),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(-0x7f6*-0x3+0xbf9*0x3+0x5*-0xbf5),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new lR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new ie(-0x1*-0x1b95+-0x570+-0x1624,-0xf92+-0x18c+0x111f,-0x131c+-0x285*-0xf+-0x12ae,0x1d*-0x115+0x2d0+0x1c92),this['_colorUnif'+'orm']=new Float32Array([0x1bcb+0x163*-0x1a+0x17*0x5c,0x499*0x1+0x1*-0x19e0+0x1548,0x1*0x1b1c+-0x1*-0x162b+-0x11*0x2e6]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',0x24d7*-0x1+0x1af*-0x13+0x1*0x44d5),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x3c6c1f){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x57f611){this['_updateMat'+'erial'](_0x57f611);}['_onScreenC'+'hange'](_0x2ad454,_0xbfddd6){_0x2ad454?this['_updateMat'+'erial'](_0x2ad454['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x1f67*-0x1+-0x1*-0x26a7+-0xe3*0x4f));}['_onDrawOrd'+'erChange'](_0xce050a){this['_renderabl'+'e']['setDrawOrd'+'er'](_0xce050a),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(-0x17e0+-0xf4+-0x27*-0xa3);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt);}['_updateMat'+'erial'](_0x4b3b4b){const _0x16aa46=!!this['_mask'],_0x539daf=!!(this['sprite']&&this['sprite']['renderMode']===Pt),_0x175477=!!(this['sprite']&&this['sprite']['renderMode']===Mt);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x4b3b4b,_0x16aa46,_0x539daf,_0x175477)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x4b3b4b),this['_renderabl'+'e']['setLayer'](_0x4b3b4b?Ow:Ky));}['_createMes'+'h'](){const _0x506774=this['_element'],_0x5b2647=_0x506774['calculated'+'Width'],_0x1c54c5=_0x506774['calculated'+'Height'],_0x3a7a12=this['_rect'],_0x5ddc1c=this['_system']['app']['graphicsDe'+'vice'],_0x2ed91f=new Float32Array([_0x5b2647,-0x3*-0x8db+-0x1e14+0x383*0x1,0xbfe+-0x11*0x15d+0xb2f,0x92*-0x37+-0xb*0x1f+-0x2f9*-0xb,0x1a*-0x119+0xd47+-0xf43*-0x1,0xaaa+-0x26b2+0x1c09*0x1,_0x3a7a12['x']+_0x3a7a12['z'],-0x57b*-0x6+0x25b1*0x1+-0x2349*0x2-_0x3a7a12['y'],_0x5b2647,_0x1c54c5,-0x2*-0x3c7+0x9e8+-0x1176,0x4*0x3ab+-0x1*0x212f+-0x2a5*-0x7,-0x249d+-0x1227+0x36c4,0x1444+0x10d6*0x1+-0x2519,_0x3a7a12['x']+_0x3a7a12['z'],-0x1f8b+0x68*0x43+-0x115*-0x4-(_0x3a7a12['y']+_0x3a7a12['w']),0x20f0+-0xeb5+-0x123b,-0x130c+-0x1*-0x97+0x1275,0x135b*0x1+0x1131*-0x2+0xf07,0x262b+0x22c2+0x7*-0xa6b,0x157d+0x1*0x1303+-0x2880,0x553*-0x7+-0x1*0x12f9+0x383f,_0x3a7a12['x'],0x15d3+-0x1c98+0x6c6-_0x3a7a12['y'],-0x16f1+-0x2*0xc9d+0x302b,_0x1c54c5,0x3*-0x97e+0xe9c*0x1+0xdde,0x14f8+0x4*0x1a+-0x260*0x9,0x19c0+-0x78b+-0x3b*0x4f,-0x42*0x6b+0xb*-0x379+0x41ca,_0x3a7a12['x'],-0x17a0+0x15ae+0x1f3-(_0x3a7a12['y']+_0x3a7a12['w'])]),_0xc12678=oR['get'](_0x5ddc1c,()=>new kt(_0x5ddc1c,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':gs,'components':0x3,'type':Ve},{'semantic':is,'components':0x2,'type':Ve}])),_0x5aecf1=new Is(_0x5ddc1c,_0xc12678,-0x13f*0x3+0x363+0x5e,{'data':_0x2ed91f['buffer']}),_0x52cf1d=new Ge(_0x5ddc1c);return _0x52cf1d['vertexBuff'+'er']=_0x5aecf1,_0x52cf1d['primitive'][-0x1c2d+0xa1*-0x29+-0x35f6*-0x1]['type']=Er,_0x52cf1d['primitive'][0x20d5+0x2055+0x1b7*-0x26]['base']=0x10d5*-0x1+0x1e7f+-0xdaa,_0x52cf1d['primitive'][-0x1d7+0x1564+0x2cb*-0x7]['count']=0x50c+-0x4c5+0x1*-0x43,_0x52cf1d['primitive'][-0x47*-0x83+0xf59+-0x69*0x7e]['indexed']=!(0x1e9b+-0x2ef*0x7+0xa11*-0x1),_0x52cf1d['aabb']['setMinMax'](D['ZERO'],new D(_0x5b2647,_0x1c54c5,0x1*-0x1b61+-0x1d*-0x101+-0x94*0x3)),this['_updateMes'+'h'](_0x52cf1d),_0x52cf1d;}['_updateMes'+'h'](_0x555c1d){const _0x2a12d9=this['_element'];let _0x4cbb75=_0x2a12d9['calculated'+'Width'],_0x5664fc=_0x2a12d9['calculated'+'Height'];if(_0x2a12d9['fitMode']!==th&&this['_targetAsp'+'ectRatio']>-0x37*0x79+-0x1*0x1d79+0x3778){const _0x52adfc=_0x2a12d9['calculated'+'Width']/_0x2a12d9['calculated'+'Height'];_0x2a12d9['fitMode']===GL&&_0x52adfc>this['_targetAsp'+'ectRatio']||_0x2a12d9['fitMode']===HL&&_0x52adfc<this['_targetAsp'+'ectRatio']?_0x4cbb75=_0x2a12d9['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x5664fc=_0x2a12d9['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x322f20=_0x2a12d9['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x322f20),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){const _0x3c8485=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0x53cb29=(0xde2*0x1+0x4d*-0x3+-0x29*0x51)/_0x3c8485['rect']['z'],_0x3eaccf=(0x227d+-0x1a93+-0x7e8)/_0x3c8485['rect']['w'];this['_innerOffs'+'et']['set'](_0x3c8485['border']['x']*_0x53cb29,_0x3c8485['border']['y']*_0x3eaccf,_0x3c8485['border']['z']*_0x53cb29,_0x3c8485['border']['w']*_0x3eaccf);const _0x3f8c50=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x3c8485['rect']['x']/_0x3f8c50['width'],_0x3c8485['rect']['y']/_0x3f8c50['height'],_0x3c8485['rect']['z']/_0x3f8c50['width'],_0x3c8485['rect']['w']/_0x3f8c50['height']);const _0x207cc8=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0xae3735=_0x3c8485['rect']['z']/_0x207cc8,_0x56ba68=_0x3c8485['rect']['w']/_0x207cc8;this['_outerScal'+'e']['set'](Math['max'](_0x4cbb75,this['_innerOffs'+'et']['x']*_0xae3735),Math['max'](_0x5664fc,this['_innerOffs'+'et']['y']*_0x56ba68));let _0x5d44c5=_0xae3735,_0x5e1d11=_0x56ba68;this['_outerScal'+'e']['x']/=_0xae3735,this['_outerScal'+'e']['y']/=_0x56ba68,_0x5d44c5*=Y['clamp'](_0x4cbb75/(this['_innerOffs'+'et']['x']*_0xae3735),-0xde7*0x1+0x1b48+0xd61*-0x1+0.0001,-0x1aa+0x22a+-0x7f),_0x5e1d11*=Y['clamp'](_0x5664fc/(this['_innerOffs'+'et']['y']*_0x56ba68),-0xb3*0x23+-0x632+-0x1*-0x1eab+0.0001,0x10c*0xa+0x25bf+-0x16b*0x22),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][-0x1c76*-0x1+0x925+-0x1*0x259b]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x1109+0x31f+-0x7*-0x1fd]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0xd9d+0x1d34+-0x1*0xf95]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0x689*0x5+0x2371*-0x1+0x4421]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0x8*-0x156+-0x7*0x2a1+0x1d17]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0x12c3+0x1*0x1a2d+-0x2cef]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0x11d2*0x1+0x2382+-0x2*0x8d7]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x12bc+0x9f2+-0x2ef*-0x3]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][-0xccf+-0x20c0+0x2d8f]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][-0xa0*-0x11+-0x1a99+0xffa]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x5d44c5,_0x5e1d11,0x12b0+0x2377+0x3626*-0x1),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((0x6*-0x3e8+-0x646*0x5+0xe6*0x3d+0.5-_0x2a12d9['pivot']['x'])*_0x4cbb75,(-0x19d7+-0xa2*-0x23+-0x2d*-0x15+0.5-_0x2a12d9['pivot']['y'])*_0x5664fc,0x2*-0x3ad+-0x2267+0x5f7*0x7));}else{const _0x383e3c=_0x555c1d['vertexBuff'+'er'],_0x45e74d=new Float32Array(_0x383e3c['lock']()),_0x291b19=_0x2a12d9['pivot']['x'],_0x214297=_0x2a12d9['pivot']['y'];_0x45e74d[-0x17d1+-0x245+-0x3*-0x8b2]=_0x4cbb75-_0x291b19*_0x4cbb75,_0x45e74d[-0x3*0x427+-0x47b+-0x10f1*-0x1]=0x8*0x80+0x1860+-0x1c60-_0x214297*_0x5664fc,_0x45e74d[-0x11db+-0x7d7*-0x2+-0x5*-0x71]=_0x4cbb75-_0x291b19*_0x4cbb75,_0x45e74d[0x18a2+0x12*0xa9+-0x247b]=_0x5664fc-_0x214297*_0x5664fc,_0x45e74d[0x6dc+-0x24da+0x1e0e]=0xc81+-0x1fd4+0x3*0x671-_0x291b19*_0x4cbb75,_0x45e74d[-0x1*-0x14b1+-0x1c67+0x7c7]=-0x108d+0x705*0x1+-0x131*-0x8-_0x214297*_0x5664fc,_0x45e74d[-0x2546+-0x5c2*0x1+0x73*0x60]=0x1*-0x1d14+-0x1d2e+0x3a42-_0x291b19*_0x4cbb75,_0x45e74d[-0x15e3+0x2db*0x5+0x7b5]=_0x5664fc-_0x214297*_0x5664fc;let _0x236e2c=-0xaa9*-0x1+-0xe7+-0xe3*0xb,_0xab2608=-0xb23+-0xa75*-0x2+-0x6*0x1a1,_0x5e8202=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x3f2406=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x3f2406&&(_0x5e8202=_0x3f2406['rect'],_0x236e2c=this['_sprite']['atlas']['texture']['width'],_0xab2608=this['_sprite']['atlas']['texture']['height']);}_0x45e74d[0xa37+0x4*-0x499+0x833*0x1]=(_0x5e8202['x']+_0x5e8202['z'])/_0x236e2c,_0x45e74d[0x1623*-0x1+-0x472*-0x6+-0x2*0x241]=0x7*-0x1fa+-0xf27*-0x1+-0x150-_0x5e8202['y']/_0xab2608,_0x45e74d[0x1*0xb6f+0x1835+-0x2396]=(_0x5e8202['x']+_0x5e8202['z'])/_0x236e2c,_0x45e74d[-0xd*0x1c1+0x5*0x48e+-0x16*-0x1]=-0x2462+-0x13c7+0x382a-(_0x5e8202['y']+_0x5e8202['w'])/_0xab2608,_0x45e74d[-0x251+0x5d*-0x32+-0x15f*-0xf]=_0x5e8202['x']/_0x236e2c,_0x45e74d[0xb1*-0x2f+-0x3b*-0x3b+0x12fd*0x1]=-0x6be*0x5+-0x13eb*-0x1+0xdcc-_0x5e8202['y']/_0xab2608,_0x45e74d[0x1d2e+0x2424+0x1a*-0x282]=_0x5e8202['x']/_0x236e2c,_0x45e74d[-0x1*-0x1a1+0x7dc*-0x4+0x1dee]=-0x1c9+0x2bb*0x3+-0x667-(_0x5e8202['y']+_0x5e8202['w'])/_0xab2608,_0x383e3c['unlock']();const _0x5b6f83=new D(0x18*-0x91+-0x5b*-0x3a+0x2*-0x383-_0x291b19*_0x4cbb75,-0x1985+-0x107a+0x29ff-_0x214297*_0x5664fc,-0xee+0x2*0x1048+-0xfd1*0x2),_0x273d44=new D(_0x4cbb75-_0x291b19*_0x4cbb75,_0x5664fc-_0x214297*_0x5664fc,0x716+0x1179+0x188f*-0x1);_0x555c1d['aabb']['setMinMax'](_0x5b6f83,_0x273d44),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](0xf5d+-0x1*0x13d2+0x476,-0x1*0x390+-0x1*0x1dcd+0x2*0x10af,0x252e+-0x2cf+-0x225e),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](-0x17ec+0x15b8+0x234,-0x3*0x956+0x32b*-0x9+0x3885,0x1*-0x2188+-0x15c9+0x3751),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(0x4*0x3d2+0x20b*0x1+-0x1152);}['_updateSpr'+'ite'](){let _0xf0abf5=!(-0xcbe+0x1ee8+-0x1229),_0x3a345c=null;if(this['_targetAsp'+'ectRatio']=-(-0x2f*0x1f+0x4f*-0x35+-0x469*-0x5),this['_sprite']&&this['_sprite']['atlas']){_0x3a345c=this['_sprite']['meshes'][this['spriteFram'+'e']],_0xf0abf5=this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt;const _0x21451c=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x21451c==null?void(-0x53*-0xd+-0x1fc*0x8+0xba9):_0x21451c['rect']['w'])>0x4e3+-0xa29+0x546&&(this['_targetAsp'+'ectRatio']=_0x21451c['rect']['z']/_0x21451c['rect']['w']);}this['mesh']=_0xf0abf5?_0x3a345c:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0x2ed*-0x9+-0x59d+0x1ff2):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x2fdcc6){return _0x2fdcc6['center']['set'](0xb53+-0xf13*-0x1+0x1f*-0xda,0x2*0x565+0x52*-0x20+0x1*-0x8a,0x27*-0x29+0x1*-0x158f+0xde7*0x2),_0x2fdcc6['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0x1e0*-0x4+0x973+-0x1*0x1f3+0.5),this['_outerScal'+'e']['y']*(-0x106*0x4+0x1db5+-0x53*0x4f+0.5),-0x121b+-0xcbd+0x1c*0x11a+0.001),_0x2fdcc6['setFromTra'+'nsformedAa'+'bb'](_0x2fdcc6,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x2fdcc6;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0x1bc1d0=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x1bc1d0),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x54b538){this['material']=_0x54b538['resource'];}['_onMateria'+'lAdded'](_0x5c7709){this['_system']['app']['assets']['off']('add:'+_0x5c7709['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x5c7709['id']&&this['_bindMater'+'ialAsset'](_0x5c7709);}['_bindMater'+'ialAsset'](_0x3cd2f3){this['_entity']['enabled']&&(_0x3cd2f3['on']('load',this['_onMateria'+'lLoad'],this),_0x3cd2f3['on']('change',this['_onMateria'+'lChange'],this),_0x3cd2f3['on']('remove',this['_onMateria'+'lRemove'],this),_0x3cd2f3['resource']?this['_onMateria'+'lLoad'](_0x3cd2f3):this['_system']['app']['assets']['load'](_0x3cd2f3));}['_unbindMat'+'erialAsset'](_0x5a5246){_0x5a5246['off']('load',this['_onMateria'+'lLoad'],this),_0x5a5246['off']('change',this['_onMateria'+'lChange'],this),_0x5a5246['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x1ebf5d){this['_system']['app']['assets']['off']('add:'+_0x1ebf5d['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x1ebf5d['id']&&this['_bindTextu'+'reAsset'](_0x1ebf5d);}['_bindTextu'+'reAsset'](_0x2e0de6){this['_entity']['enabled']&&(_0x2e0de6['on']('load',this['_onTexture'+'Load'],this),_0x2e0de6['on']('change',this['_onTexture'+'Change'],this),_0x2e0de6['on']('remove',this['_onTexture'+'Remove'],this),_0x2e0de6['resource']?this['_onTexture'+'Load'](_0x2e0de6):this['_system']['app']['assets']['load'](_0x2e0de6));}['_unbindTex'+'tureAsset'](_0x1b60fc){_0x1b60fc['off']('load',this['_onTexture'+'Load'],this),_0x1b60fc['off']('change',this['_onTexture'+'Change'],this),_0x1b60fc['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x75d911){this['texture']=_0x75d911['resource'];}['_onTexture'+'Change'](_0x4ee55a){}['_onTexture'+'Remove'](_0x1ea377){}['_onSpriteA'+'ssetAdded'](_0x5ccaa3){this['_system']['app']['assets']['off']('add:'+_0x5ccaa3['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x5ccaa3['id']&&this['_bindSprit'+'eAsset'](_0x5ccaa3);}['_bindSprit'+'eAsset'](_0x5864f0){this['_entity']['enabled']&&(_0x5864f0['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x5864f0['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x5864f0['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x5864f0['resource']?this['_onSpriteA'+'ssetLoad'](_0x5864f0):this['_system']['app']['assets']['load'](_0x5864f0));}['_unbindSpr'+'iteAsset'](_0x4ce75f){_0x4ce75f['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x4ce75f['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x4ce75f['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x4ce75f['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x4ce75f['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x469974){if(!_0x469974||!_0x469974['resource'])this['sprite']=null;else{if(_0x469974['resource']['atlas'])this['sprite']=_0x469974['resource'];else{const _0x36210e=_0x469974['data']['textureAtl'+'asAsset'];if(_0x36210e){const _0x2653ed=this['_system']['app']['assets'];_0x2653ed['off']('load:'+_0x36210e,this['_onTexture'+'AtlasLoad'],this),_0x2653ed['once']('load:'+_0x36210e,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x471d2a){this['_onSpriteA'+'ssetLoad'](_0x471d2a);}['_onSpriteA'+'ssetRemove'](_0x1a8949){}['_bindSprit'+'e'](_0x8e9117){this['_evtSetMes'+'hes']=_0x8e9117['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x8e9117['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x8e9117['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x8e9117['atlas']&&_0x8e9117['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x3ae75d){var _0x4a040a;(_0x4a040a=this['_evtSetMes'+'hes'])==null||_0x4a040a['off'](),this['_evtSetMes'+'hes']=null,_0x3ae75d['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x3ae75d['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x3ae75d['atlas']&&_0x3ae75d['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],-0x1*0x4cf+0x5b1+0x2*-0x71,this['_sprite']['frameKeys']['length']-(-0x9*0x10d+-0x13*0xc7+0x183b))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==ci&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x458d03){const _0x2bb516=this['_spriteAss'+'et'];_0x2bb516 instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x2bb516):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x2bb516));}['onEnable'](){if(this['_materialA'+'sset']){const _0x589454=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x589454&&_0x589454['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x589454);}if(this['_textureAs'+'set']){const _0x321694=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x321694&&_0x321694['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x321694);}if(this['_spriteAss'+'et']){const _0x4bf1f9=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x4bf1f9&&_0x4bf1f9['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x4bf1f9);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x4cb874){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x4cb874,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x4cb874;let _0x3fe869=-0x2f*-0x64+-0x24e6*-0x1+-0x3742;if(this['_element']['maskedBy']&&(_0x3fe869=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x455b2d=new pi({'ref':_0x3fe869+(-0x2*0x4dc+-0x2b*0x55+0x1*0x1800),'func':dh,'zpass':Bx});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x455b2d,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x455b2d;}}['_updateRen'+'derableEmi'+'ssive'](){Ec['linear'](this['_color']),this['_colorUnif'+'orm'][-0x26d0+-0x1a25+0x40f5]=Ec['r'],this['_colorUnif'+'orm'][-0x139d+-0x3*-0x7e1+0x3*-0x157]=Ec['g'],this['_colorUnif'+'orm'][0x2584+-0xb*0x151+-0x1707]=Ec['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x1496ca){this['_color']===_0x1496ca&&w['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x4738b1,g:_0x5370a6,b:_0x5445fa}=_0x1496ca;(this['_color']['r']!==_0x4738b1||this['_color']['g']!==_0x5370a6||this['_color']['b']!==_0x5445fa)&&(this['_color']['r']=_0x4738b1,this['_color']['g']=_0x5370a6,this['_color']['b']=_0x5445fa,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0xaa2dc5){_0xaa2dc5!==this['_color']['a']&&(this['_color']['a']=_0xaa2dc5,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0xaa2dc5)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0xaa2dc5);}get['opacity'](){return this['_color']['a'];}set['rect'](_0x4f3ee2){this['_rect']===_0x4f3ee2&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x3dfdb1,_0x3fb909,_0x195b7a,_0x15464b;_0x4f3ee2 instanceof re?(_0x3dfdb1=_0x4f3ee2['x'],_0x3fb909=_0x4f3ee2['y'],_0x195b7a=_0x4f3ee2['z'],_0x15464b=_0x4f3ee2['w']):(_0x3dfdb1=_0x4f3ee2[0x2*-0x1292+0x6ce+-0x1*-0x1e56],_0x3fb909=_0x4f3ee2[-0xc14+0x1a3d*-0x1+0x2652],_0x195b7a=_0x4f3ee2[0x1d90+-0xeb6+-0xed8],_0x15464b=_0x4f3ee2[-0x1*-0x2477+0x1*0x1bb9+0x1*-0x402d]),!(_0x3dfdb1===this['_rect']['x']&&_0x3fb909===this['_rect']['y']&&_0x195b7a===this['_rect']['z']&&_0x15464b===this['_rect']['w'])&&(this['_rect']['set'](_0x3dfdb1,_0x3fb909,_0x195b7a,_0x15464b),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0x1*-0x1c7f+-0x24db+-0x5*-0xd12):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x4e9382=this['_system']['app']['assets'];_0x4e9382['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x5b5031=_0x4e9382['get'](this['_materialA'+'sset']);_0x5b5031&&(_0x5b5031['off']('load',this['_onMateria'+'lLoad'],this),_0x5b5031['off']('change',this['_onMateria'+'lChange'],this),_0x5b5031['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x5afa19){if(this['_material']!==_0x5afa19){if(!_0x5afa19){const _0x14e72d=this['_element']['_isScreenS'+'pace']();this['mask']?_0x5afa19=_0x14e72d?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x5afa19=_0x14e72d?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x5afa19,this['_materialA'+'sset']){const _0x23d05e=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x23d05e||_0x23d05e['resource']!==_0x5afa19)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x5afa19&&(this['_renderabl'+'e']['setMateria'+'l'](_0x5afa19),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x7cffef){const _0x25d1b5=this['_system']['app']['assets'];let _0xa2bee6=_0x7cffef;if(_0x7cffef instanceof pe&&(_0xa2bee6=_0x7cffef['id']),this['_materialA'+'sset']!==_0xa2bee6){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0xa2bee6,this['_materialA'+'sset']){const _0x47605c=_0x25d1b5['get'](this['_materialA'+'sset']);_0x47605c?this['_bindMater'+'ialAsset'](_0x47605c):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0xa2bee6,_0x25d1b5['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0xa2bee6;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x291e8e){if(this['_texture']!==_0x291e8e){if(this['_textureAs'+'set']){const _0x502ac4=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x502ac4&&_0x502ac4['resource']!==_0x291e8e&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x291e8e,_0x291e8e){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x5160f8=this['_texture']['width']/this['_texture']['height'];_0x5160f8!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x5160f8,this['_element']['fitMode']!==th&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(-0x1e73+0x26ff+0xf3*-0x9),this['_element']['fitMode']!==th&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0x51a3b5){const _0xe3e0c=this['_system']['app']['assets'];let _0x12e994=_0x51a3b5;if(_0x51a3b5 instanceof pe&&(_0x12e994=_0x51a3b5['id']),this['_textureAs'+'set']!==_0x12e994){if(this['_textureAs'+'set']){_0xe3e0c['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x528146=_0xe3e0c['get'](this['_textureAs'+'set']);_0x528146&&(_0x528146['off']('load',this['_onTexture'+'Load'],this),_0x528146['off']('change',this['_onTexture'+'Change'],this),_0x528146['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x12e994,this['_textureAs'+'set']){const _0x4bab72=_0xe3e0c['get'](this['_textureAs'+'set']);_0x4bab72?this['_bindTextu'+'reAsset'](_0x4bab72):(this['texture']=null,_0xe3e0c['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x2df63a){const _0x344561=this['_system']['app']['assets'];let _0x5ad2aa=_0x2df63a;if(_0x2df63a instanceof pe&&(_0x5ad2aa=_0x2df63a['id']),this['_spriteAss'+'et']!==_0x5ad2aa){if(this['_spriteAss'+'et']){_0x344561['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x32b3c8=_0x344561['get'](this['_spriteAss'+'et']);_0x32b3c8&&this['_unbindSpr'+'iteAsset'](_0x32b3c8);}if(this['_spriteAss'+'et']=_0x5ad2aa,this['_spriteAss'+'et']){const _0x26b30e=_0x344561['get'](this['_spriteAss'+'et']);_0x26b30e?this['_bindSprit'+'eAsset'](_0x26b30e):(this['sprite']=null,_0x344561['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x5ad2aa);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x106958){if(this['_sprite']!==_0x106958){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x48a545=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x48a545&&_0x48a545['resource']!==_0x106958&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x106958,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],-0x1b94+-0x3e9+0x1f7d,this['_sprite']['frameKeys']['length']-(-0xb0e+0x25ce+-0x1abf))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x1e6f82){const _0x3de0ee=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=Y['clamp'](_0x1e6f82,0x3d*-0x25+0x9c+0x835,this['_sprite']['frameKeys']['length']-(0x1e5c+-0x94+-0x21*0xe7)):this['_spriteFra'+'me']=_0x1e6f82,this['_spriteFra'+'me']!==_0x3de0ee&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x1e6f82);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x1fb70f){this['_renderabl'+'e']['setMesh'](_0x1fb70f),this['_defaultMe'+'sh']===_0x1fb70f?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x4f0421){this['_mask']!==_0x4f0421&&(this['_mask']=_0x4f0421,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0x484589){this['_pixelsPer'+'Unit']!==_0x484589&&(this['_pixelsPer'+'Unit']=_0x484589,this['_sprite']&&(this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class hR extends me{constructor(_0x6dc98c){super(),this['_app']=_0x6dc98c,_0x6dc98c['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['_autoLoad']=!(0x5*0x53c+-0x1d39*0x1+0x30e),this['_disableLo'+'calization']=!(0x733*0x1+-0x136b+0xc39*0x1),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x13bab9){const _0x148387=_0x13bab9 instanceof pe?_0x13bab9['id']:_0x13bab9;this['_defaultAs'+'set']!==_0x148387&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x148387,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x2833bd){const _0x3c805c=_0x2833bd instanceof pe?_0x2833bd['id']:_0x2833bd;this['_localized'+'Asset']!==_0x3c805c&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x3c805c,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x49f0f4){this['_autoLoad']!==_0x49f0f4&&(this['_autoLoad']=_0x49f0f4,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x59e353){this['_disableLo'+'calization']!==_0x59e353&&(this['_disableLo'+'calization']=_0x59e353,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x526f81=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x526f81?this['_onDefault'+'AssetAdd'](_0x526f81):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x25b0bc=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x25b0bc&&(_0x25b0bc['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x25b0bc['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x25b0bc['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x3c3c0d){this['_defaultAs'+'set']===_0x3c3c0d['id']&&(_0x3c3c0d['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x3c3c0d['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x3c3c0d['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x2ba86f){this['_defaultAs'+'set']===_0x2ba86f['id']&&(_0x2ba86f['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x2ba86f['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x5aff0d=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x5aff0d&&(_0x5aff0d['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x5aff0d['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x5aff0d['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x5aff0d['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x5aff0d):this['_app']['assets']['load'](_0x5aff0d));}['_unbindLoc'+'alizedAsse'+'t'](){const _0x2f8f52=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x2f8f52&&(_0x2f8f52['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x2f8f52['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x2f8f52['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x17572a){this['_localized'+'Asset']===_0x17572a['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x4c27fa){this['fire']('load',_0x4c27fa);}['_onLocaliz'+'edAssetCha'+'nge'](_0x10ac75,_0x434bfd,_0x24b02d,_0x5ddb1e){this['fire']('change',_0x10ac75,_0x434bfd,_0x24b02d,_0x5ddb1e);}['_onLocaliz'+'edAssetRem'+'ove'](_0x3b8211){this['_localized'+'Asset']===_0x3b8211['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x3b8211);}['_onLocaleA'+'dd'](_0x203ff7,_0x17d0c7){this['_app']['i18n']['locale']===_0x203ff7&&this['_onSetLoca'+'le'](_0x203ff7);}['_onLocaleR'+'emove'](_0x5bb322,_0x2bbbb7){this['_app']['i18n']['locale']===_0x5bb322&&this['_onSetLoca'+'le'](_0x5bb322);}['_onSetLoca'+'le'](_0x47d894){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x31972d=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x31972d||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0x5a3eb4=_0x31972d['getLocaliz'+'edAssetId'](_0x47d894);if(!_0x5a3eb4){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0x5a3eb4;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['off']();}}const Rh='msdf',dR='bitmap',Mo=-0x116b+0x35*-0x7b+0x2ae2,an=0x131f*-0x1+-0x1a8+0x5*0x428,Du=0x4*-0x2d9+-0x199d*0x1+-0x17b*-0x19,Zv=0x4*0x8ae+-0x2d0+-0x1fe5,Iu=-0x1161+-0x7d5+0x193a,Lu=-0x1949+-0x1c01+0x354f,Ru=0x7*-0x37d+0x10ba*-0x1+0x3*0xdb9,Ou=-0x103a+-0x11d3+0x2214,Xg=0x2*-0x6b7+-0x9*0x30d+0x28eb,fR='\x20\x09\x0a\x0d\x0b\x0c',uR=/[\w|/]/;class pR{constructor(_0x352822){this['_symbols']=_0x352822,this['_index']=-0x22de+0x211a+0xe2*0x2,this['_last']=-0x23cc+0xeb*-0x13+0x4d7*0xb,this['_cur']=this['_symbols']['length']>-0x326*0x5+0x112c+-0x3*0x7a?this['_symbols'][0x2ad*-0x1+-0x1cc8+0x1f75]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x5d1110=this['_read']();for(;_0x5d1110===Xg;)_0x5d1110=this['_read']();return _0x5d1110!==Mo&&_0x5d1110!==an&&(this['_last']=this['_index']),_0x5d1110;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0x490c41=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x759213=this['read'](),_0x5ad156='';for(;_0x5ad156+=(_0x5ad156['length']>-0x1*-0xd03+0x758+-0x3*0x6c9?'\x0a':'')+_0x490c41[_0x759213]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x759213===Mo||_0x759213===an);)_0x759213=this['read']();return _0x5ad156;}['_read'](){return this['_buf']=[],this['_eof']()?Mo:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>0x458+0x65*-0xa+0x22*-0x3?Du:Mo;case'[':return this['_mode']='tag',this['_buf']['length']>0x41*-0x7a+-0x1571+-0x5d3*-0x9?Du:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',an;case'[':return this['_store'](),Zv;case']':return this['_store'](),this['_mode']='text',Iu;case'=':return this['_store'](),Lu;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',an);}}['_whitespac'+'e'](){for(this['_store']();fR['indexOf'](this['_cur'])!==-(-0x20af+-0x5*0x652+-0x279*-0x1a);)this['_store']();return Xg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',an;case'\x22':return this['_next'](),Ru;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return Ou;}['_isIdentif'+'ierSymbol'](_0x24dcdc){return _0x24dcdc['length']===-0x3*-0x397+-0x2523+0x1a5f&&_0x24dcdc['match'](uR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0x204f7d){this['_buf']['push'](_0x204f7d);}}class mR{constructor(_0x2bdbe1){this['_scanner']=new pR(_0x2bdbe1),this['_error']=null;}['parse'](_0x1cb972,_0x5f4240){for(;;)switch(this['_scanner']['read']()){case Mo:return!(-0x1715+-0x592+-0x5*-0x5bb);case an:return!(0x876+0x17db+-0x2050);case Du:Array['prototype']['push']['apply'](_0x1cb972,this['_scanner']['buf']());break;case Zv:if(!this['_parseTag'](_0x1cb972,_0x5f4240))return!(0x8f7+0x14b*-0x15+-0x1231*-0x1);break;default:return!(-0x1c60+-0x1c2b+-0xe*-0x40a);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x3b28ca,_0xcabf3e){let _0x2054ba=this['_scanner']['read']();if(_0x2054ba!==Ou)return this['_error']='expected\x20i'+'dentifier',!(-0x7d*-0xd+0x1f40+0x322*-0xc);const _0x4c16e9=this['_scanner']['buf']()['join']('');if(_0x4c16e9[-0x101e+0x1cf*-0x8+0x1e96]==='/'){for(let _0x385fc3=_0xcabf3e['length']-(0x1830+0x1501+-0x30*0xf1);_0x385fc3>=-0x2635+0x1*-0x22e7+0x491c;--_0x385fc3)if(_0x4c16e9==='/'+_0xcabf3e[_0x385fc3]['name']&&_0xcabf3e[_0x385fc3]['end']===null)return _0xcabf3e[_0x385fc3]['end']=_0x3b28ca['length'],_0x2054ba=this['_scanner']['read'](),_0x2054ba!==Iu?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(-0x23c8+-0x3*0x15b+0x27da)):!(-0x20ea+-0x17*-0x1a9+0x545*-0x1);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(-0x1348+-0xab4*0x1+0x1dfd*0x1);}const _0x2e7644={'name':_0x4c16e9,'value':null,'attributes':{},'start':_0x3b28ca['length'],'end':null};if(_0x2054ba=this['_scanner']['read'](),_0x2054ba===Lu){if(_0x2054ba=this['_scanner']['read'](),_0x2054ba!==Ru)return this['_error']='expected\x20s'+'tring',!(-0x2a9+-0xab*-0x3+0xa9*0x1);_0x2e7644['value']=this['_scanner']['buf']()['join'](''),_0x2054ba=this['_scanner']['read']();}for(;;){switch(_0x2054ba){case Iu:return _0xcabf3e['push'](_0x2e7644),!(0x101a+0x1*0x23f9+-0x3413);case Ou:{const _0x2c5730=this['_scanner']['buf']()['join']('');if(_0x2054ba=this['_scanner']['read'](),_0x2054ba!==Lu)return this['_error']='expected\x20e'+'quals',!(0x18e+0x1919+-0x1aa6);if(_0x2054ba=this['_scanner']['read'](),_0x2054ba!==Ru)return this['_error']='expected\x20s'+'tring',!(-0xb2*0x7+-0xd*0x2a2+0x2719);const _0x1a4deb=this['_scanner']['buf']()['join']('');_0x2e7644['attributes'][_0x2c5730]=_0x1a4deb;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(0x24e1*-0x1+0xab+0x7f*0x49);}_0x2054ba=this['_scanner']['read']();}}}function Qv(_0xb41ddd,_0x3b88dc){for(const _0x254275 in _0x3b88dc){if(!_0x3b88dc['hasOwnProp'+'erty'](_0x254275))continue;const _0x54ca36=_0x3b88dc[_0x254275];_0x54ca36 instanceof Object?(_0xb41ddd['hasOwnProp'+'erty'](_0x254275)||(_0xb41ddd[_0x254275]={}),Qv(_0xb41ddd[_0x254275],_0x3b88dc[_0x254275])):_0xb41ddd[_0x254275]=_0x54ca36;}}function _R(_0x3c3c74){if(_0x3c3c74['length']===0x2f*-0x43+-0x2d+0x1*0xc7a)return null;const _0x1510d2={};for(let _0x44c124=-0x23ef+-0x18*0x10+-0x25*-0x103;_0x44c124<_0x3c3c74['length'];++_0x44c124){const _0x8d874c=_0x3c3c74[_0x44c124],_0x25004c={};_0x25004c[_0x8d874c['name']]={'value':_0x8d874c['value'],'attributes':_0x8d874c['attributes']},Qv(_0x1510d2,_0x25004c);}return _0x1510d2;}function gR(_0x46b89d,_0x28c659){if(_0x46b89d['length']===0x1674+0x7*0x509+-0x39b3)return null;const _0x296f2b={};for(let _0x1b6983=0x1270*-0x1+0xb26+-0x3*-0x26e;_0x1b6983<_0x46b89d['length'];++_0x1b6983){const _0x6d1a13=_0x46b89d[_0x1b6983];_0x296f2b['hasOwnProp'+'erty'](_0x6d1a13['start'])?_0x296f2b[_0x6d1a13['start']]['open']===null?_0x296f2b[_0x6d1a13['start']]['open']=[_0x6d1a13]:_0x296f2b[_0x6d1a13['start']]['open']['push'](_0x6d1a13):_0x296f2b[_0x6d1a13['start']]={'open':[_0x6d1a13],'close':null},_0x296f2b['hasOwnProp'+'erty'](_0x6d1a13['end'])?_0x296f2b[_0x6d1a13['end']]['close']===null?_0x296f2b[_0x6d1a13['end']]['close']=[_0x6d1a13]:_0x296f2b[_0x6d1a13['end']]['close']['push'](_0x6d1a13):_0x296f2b[_0x6d1a13['end']]={'open':null,'close':[_0x6d1a13]};}let _0x37b2ae=[];function _0x251ad8(_0x576d51){_0x37b2ae=_0x37b2ae['filter'](_0x53ec60=>_0x576d51['find'](_0x54d34a=>_0x54d34a===_0x53ec60)===void(-0x313*-0x4+-0x24e+-0x1*0x9fe));}function _0x4d18b3(_0x239d05){for(let _0x2570e7=0x2a4*-0xb+0xa3f*0x2+0x88e;_0x2570e7<_0x239d05['length'];++_0x2570e7)_0x37b2ae['push'](_0x239d05[_0x2570e7]);}const _0x443198=Object['keys'](_0x296f2b)['sort']((_0x4189de,_0x1fb7d7)=>_0x4189de-_0x1fb7d7),_0x1e23a1=[];for(let _0x3e9826=0x1f93*-0x1+0x21cf+0x16*-0x1a;_0x3e9826<_0x443198['length'];++_0x3e9826){const _0x44d1af=_0x296f2b[_0x443198[_0x3e9826]];_0x44d1af['close']!==null&&_0x251ad8(_0x44d1af['close']),_0x44d1af['open']!==null&&_0x4d18b3(_0x44d1af['open']),_0x1e23a1['push']({'start':_0x443198[_0x3e9826],'tags':_R(_0x37b2ae)});}const _0x37750c=[];let _0x51ac42=null;for(let _0x344764=-0x1233+0x1b88+0x1*-0x955;_0x344764<_0x1e23a1['length'];++_0x344764){const _0x401b10=_0x1e23a1[_0x344764];for(;_0x37750c['length']<_0x401b10['start'];)_0x37750c['push'](_0x51ac42?_0x51ac42['tags']:null);_0x51ac42=_0x401b10;}for(;_0x37750c['length']<_0x28c659;)_0x37750c['push'](null);return _0x37750c;}function SR(_0x2145cd){const _0x13f65f=new mR(_0x2145cd),_0x110f4c=[],_0x51b5c2=[];if(!_0x13f65f['parse'](_0x110f4c,_0x51b5c2))return console['warn'](_0x13f65f['error']()),{'symbols':_0x2145cd,'tags':null};const _0x5dbc0e=_0x51b5c2['find'](_0x15dfb6=>_0x15dfb6['end']===null);if(_0x5dbc0e)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x5dbc0e['name']+'\x27'),{'symbols':_0x2145cd,'tags':null};const _0x3a7fad=gR(_0x51b5c2,_0x110f4c['length']);return{'symbols':_0x110f4c,'tags':_0x3a7fad};}class yR{static['evaluate'](_0x530b52){return SR(_0x530b52);}}class vR{constructor(){this['count']=-0x1f56+-0x2*0x3f5+0x2740,this['quad']=0x4ac*0x2+-0x1b40+0x11e8,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function xR(_0x168292,_0x1ca975){const _0x374257=new Ge(_0x168292);return _0x374257['setPositio'+'ns'](_0x1ca975['positions']),_0x374257['setNormals'](_0x1ca975['normals']),_0x374257['setColors3'+'2'](_0x1ca975['colors']),_0x374257['setUvs'](-0x1465+-0x1fe7+0x344c,_0x1ca975['uvs']),_0x374257['setIndices'](_0x1ca975['indices']),_0x374257['setVertexS'+'tream'](Ko,_0x1ca975['outlines'],0x1289+0x105b+-0x22e1,void(-0x2bf+-0x1bc4+0x1*0x1e83),Ve,!(0x6e8+0x45f+-0xde*0xd)),_0x374257['setVertexS'+'tream'](Zo,_0x1ca975['shadows'],-0xc59*0x1+0x1e7f+-0x1223,void(-0x77f+0x17e3*-0x1+0x1a*0x135),Ve,!(0x294*-0x2+-0x2ac+0x5*0x191)),_0x374257['update'](),_0x374257;}const qg=/^[\r\n]$/,TR=/^[ \t]$/,jg=/^[ \t\-]|\u200b$/,wR=/^[a-z0-9]$/i,Yg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,ER=/^[]$/,bR=['','','','','','','','','','','','',''],AR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},Kg=new ie(),CR=new J(),We=new ie();class PR{constructor(_0x306976){this['_element']=_0x306976,this['_system']=_0x306976['system'],this['_entity']=_0x306976['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new hR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(0x2*0xd65+-0xec0+-0xc0a),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new ie(-0x81*-0x1+0xfad+-0x1*0x102d,-0x2f*-0x70+-0x1087+-0x408,-0x189a+-0x3ce+0x1c69,-0x21ae+-0x1256+0x3405),this['_colorUnif'+'orm']=new Float32Array(0x1fc5+-0x1db6*-0x1+-0x3d78),this['_spacing']=0xa6d*-0x1+0x2*0x1354+0x2*-0xe1d,this['_fontSize']=0x35*-0x26+0x22e4+-0x1ae6,this['_fontMinY']=0x2*0xffd+0x1bff+-0x3bf9,this['_fontMaxY']=-0x2099+0x6ca+-0x19cf*-0x1,this['_originalF'+'ontSize']=-0x1*0x4d7+0x22*-0x4+0x57f,this['_maxFontSi'+'ze']=-0x1675*-0x1+-0x7fc+-0xe59,this['_minFontSi'+'ze']=-0xe1c+-0x1*-0x1576+-0x752,this['_autoFitWi'+'dth']=!(-0x29*0x83+-0x46+-0x1542*-0x1),this['_autoFitHe'+'ight']=!(-0x427*0x1+0xe24+-0x9fc),this['_maxLines']=-(-0x79e*0x1+-0x77d*0x3+0xf0b*0x2),this['_lineHeigh'+'t']=0x2*0x751+0x22*-0x27+-0x255*0x4,this['_scaledLin'+'eHeight']=-0xe80+-0x1764+0xc*0x32b,this['_wrapLines']=!(-0x2a6*0x2+-0x257d*-0x1+0xce*-0x28),this['_drawOrder']=-0x3*-0x162+0x9a5+-0xdcb,this['_alignment']=new J(0x25f8+-0x1f23+0x21*-0x35+0.5,-0x21ac+0x1fd8+0x1d4+0.5),this['_autoWidth']=!(-0x5*0x67f+-0xa3f*0x2+0x34f9*0x1),this['_autoHeigh'+'t']=!(-0x1cb2+-0x29*0xb+0x17*0x153),this['width']=0x42d*0x1+-0x1bdd+0x17b0,this['height']=-0x4*-0x904+-0x1bc5*-0x1+-0x3fd5,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(0x46*0x50+-0x1*0x1124+-0x4bc),this['_aabb']=new De(),this['_noResize']=!(-0x2*-0x99d+-0x1fca+0xc91*0x1),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(0x3*0xa52+-0x13f5+-0xb00),this['_unicodeCo'+'nverter']=!(-0x207c+0x4c9*0x5+0x890*0x1),this['_rtl']=!(-0xc*-0x90+0x23f1+-0x2ab0),this['_outlineCo'+'lor']=new ie(-0x1661+-0x1*-0x210a+-0x1*0xaa9,0x75e+-0x7ec+-0x8e*-0x1,-0x697+0x157b+0x1*-0xee4,0x9ce*0x3+0x1c*0xf5+-0x3835),this['_outlineCo'+'lorUniform']=new Float32Array(-0x8a*0x1+-0x1*-0x1749+-0x1*0x16bb),this['_outlineTh'+'icknessSca'+'le']=-0x18ef+-0xa66+-0x5*-0x711+0.2,this['_outlineTh'+'ickness']=-0x1803+-0x1b7e+0x3381,this['_shadowCol'+'or']=new ie(-0xe3*0x27+-0x1a13+0x3ca8,0x41f+-0x21fe+0x1ddf,0x480+0x6fd+-0xb7d,-0x1b54+-0x22f5+0x2*0x1f25),this['_shadowCol'+'orUniform']=new Float32Array(-0x109*-0x5+0x1*0x109d+-0x3*0x742),this['_shadowOff'+'setScale']=-0xa58*-0x2+-0x4cf*0x1+-0xfe1+0.005,this['_shadowOff'+'set']=new J(0x863*-0x4+0x1*-0xab2+0x2c3e,-0x1c33+-0x713+0x2346),this['_shadowOff'+'setUniform']=new Float32Array(-0x4f*0x5+-0x1a94+0x1c21),this['_enableMar'+'kup']=!(0x6f7*-0x5+0x1c2a+0x6aa),this['_onScreenC'+'hange'](this['_element']['screen']),_0x306976['on']('resize',this['_onParentR'+'esize'],this),_0x306976['on']('set:screen',this['_onScreenC'+'hange'],this),_0x306976['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x306976['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x306976['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=0x1dd0+0xd*0x2d7+-0x42bb,this['_rangeEnd']=-0x1149+0x565+0xbe4;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x3b570c,_0x2fcd91){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x46a02c){_0x46a02c?this['_updateMat'+'erial'](_0x46a02c['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0x140c+0x729+-0x1b34));}['_onScreenS'+'paceChange'](_0x26059f){this['_updateMat'+'erial'](_0x26059f);}['_onDrawOrd'+'erChange'](_0x4c9aa3){if(this['_drawOrder']=_0x4c9aa3,this['_model']){for(let _0x58fab1=-0x2458+-0x18e6+0x3d3e,_0x18b2f5=this['_model']['meshInstan'+'ces']['length'];_0x58fab1<_0x18b2f5;_0x58fab1++)this['_model']['meshInstan'+'ces'][_0x58fab1]['drawOrder']=_0x4c9aa3;}}['_onPivotCh'+'ange'](_0xca4806){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x14355e){if(this['_i18nKey']){if(this['fontAsset']){const _0xbf21c9=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0xbf21c9||!_0xbf21c9['resource']||_0xbf21c9['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x4bcc86,_0x1ff059){this['_i18nKey']&&_0x1ff059[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x37ba33){if(this['unicodeCon'+'verter']){const _0x259626=this['_system']['getUnicode'+'Converter']();_0x259626?_0x37ba33=_0x259626(_0x37ba33):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x37ba33&&(this['_font']&&this['_updateTex'+'t'](_0x37ba33),this['_text']=_0x37ba33);}['_updateTex'+'t'](_0x162f6e){let _0x1ce8c2;if(_0x162f6e===void(0x49c+0x855*0x3+-0x1d9b)&&(_0x162f6e=this['_text']),this['_symbols']=Hc['getSymbols'](_0x162f6e['normalize']?_0x162f6e['normalize']('NFC'):_0x162f6e),this['_symbols']['length']===-0x189a*0x1+-0x1*0x74b+0x1fe5&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x5838a8=yR['evaluate'](this['_symbols']);this['_symbols']=_0x5838a8['symbols'],_0x1ce8c2=_0x5838a8['tags']||[];}if(this['_rtlReorde'+'r']){const _0x3cc413=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x3cc413){const _0x4fd24a=_0x3cc413(this['_symbols']);this['_rtl']=_0x4fd24a['rtl'],this['_symbols']=_0x4fd24a['mapping']['map'](function(_0x34465c){return this['_symbols'][_0x34465c];},this),_0x1ce8c2&&(_0x1ce8c2=_0x4fd24a['mapping']['map'](_0x29c880=>_0x1ce8c2[_0x29c880]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(0x1*-0xede+-0x134f*0x1+0x222e);const _0x4c60d6=(_0x232e2f,_0x37516e)=>_0x232e2f['toString'](!(0x1*0x3a4+-0xde7+0xa43))['toLowerCas'+'e']()+':'+_0x37516e['toFixed'](0x824*0x1+0xdc0+-0x15e2*0x1),_0x4f5550=(_0x4ba500,_0x1f3ed9)=>_0x4ba500['toString'](!(0x7*0x2e1+0x3*-0x5e5+0x4f*-0x8))['toLowerCas'+'e']()+':'+_0x1f3ed9['x']['toFixed'](0x1414+-0x3*-0xc0b+0x3833*-0x1)+':'+_0x1f3ed9['y']['toFixed'](0x1de0+-0x2f*0xd1+0x881);if(_0x1ce8c2){const _0x41016a={},_0x1d0566={},_0x89ee54={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(-0x5*-0x17d+0x2*0xfe+0x1*-0x86e)),Math['round'](this['_color']['g']*(0x22cd+-0x1835*-0x1+-0x3a03)),Math['round'](this['_color']['b']*(0x1541+-0x8f9*-0x1+-0x1d3b))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(0xbf*0x1f+0x11*-0x1b7+0x3*0x257)),Math['round'](this['_outlineCo'+'lor']['g']*(0x3*0x7c5+0x45d*-0x3+0x939*-0x1)),Math['round'](this['_outlineCo'+'lor']['b']*(-0x20ac+-0x1f11+0x40bc)),Math['round'](this['_outlineCo'+'lor']['a']*(0x10f4+0x3+0x8*-0x1ff)),Math['round'](this['_outlineTh'+'ickness']*(0x1641+0x1792+0x2*-0x166a))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(0x481*-0x5+0x37*-0x37+-0x5*-0x711)),Math['round'](this['_shadowCol'+'or']['g']*(-0x4a9*-0x6+0x155+-0x713*0x4)),Math['round'](this['_shadowCol'+'or']['b']*(-0x9*0x25+-0x49*0x53+0x19f7)),Math['round'](this['_shadowCol'+'or']['a']*(-0x232b+-0x2392+0x47bc*0x1)),Math['round'](this['_shadowOff'+'set']['x']*(-0x2396+0x1d9e+-0x5*-0x14b)),Math['round'](this['_shadowOff'+'set']['y']*(0x223f+-0x1*0xa1b+-0x17a5))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x41016a[this['_color']['toString'](!(-0x2d*0x98+0x1581*-0x1+0x2*0x181d))['toLowerCas'+'e']()]=-0x5*0x2c9+-0x74*-0x2e+-0xfd*0x7,_0x1d0566[_0x4c60d6(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=-0xff5+-0x147c+0x1eb*0x13,_0x89ee54[_0x4f5550(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=0x132b+0x2203*0x1+0x8dd*-0x6;for(let _0x3badf4=0x13c4+0x3a*0x3+0xa39*-0x2,_0x3cb89c=this['_symbols']['length'];_0x3badf4<_0x3cb89c;++_0x3badf4){const _0x250b62=_0x1ce8c2[_0x3badf4];let _0xc1b264=0x23dd+-0x7a1+-0xd*0x22c;if(_0x250b62&&_0x250b62['color']&&_0x250b62['color']['value']){const _0x5ed16a=_0x250b62['color']['value'];if(_0x5ed16a['length']===0x1fa2+0x2288+-0x4223&&_0x5ed16a[0xddb+-0x2a9*0x2+-0x5f*0x17]==='#'){const _0x287dad=_0x5ed16a['substring'](-0xba2+-0x3c*-0x4+0xab3)['toLowerCas'+'e']();_0x41016a['hasOwnProp'+'erty'](_0x287dad)?_0xc1b264=_0x41016a[_0x287dad]:/^[0-9a-f]{6}$/['test'](_0x287dad)&&(_0xc1b264=this['_colorPale'+'tte']['length']/(0x77e+-0x10d+-0x66e),_0x41016a[_0x287dad]=_0xc1b264,this['_colorPale'+'tte']['push'](parseInt(_0x287dad['substring'](-0x42f*-0x9+0x2563+-0x4b0a,0x36d*-0x3+-0x5*0x671+-0x2*-0x153f),-0xfb6+-0x1*-0x8fa+0x6cc)),this['_colorPale'+'tte']['push'](parseInt(_0x287dad['substring'](-0x11f3+-0x4*-0xd3+-0x1b*-0x8b,-0x111e+-0x204*-0x6+0x5*0x102),-0x1d9b*-0x1+-0x893+-0x14f8)),this['_colorPale'+'tte']['push'](parseInt(_0x287dad['substring'](0x378+0x1*-0x15b5+0x1241,0x5ef*-0x1+-0x4f9*0x6+-0x77*-0x4d),-0xe*0x34+0x4*0x97d+0x4*-0x8c3)));}}this['_symbolCol'+'ors']['push'](_0xc1b264);let _0x2ecc08=0x1c*-0x90+-0x56c*-0x4+0x5f0*-0x1;if(_0x250b62&&_0x250b62['outline']&&(_0x250b62['outline']['attributes']['color']||_0x250b62['outline']['attributes']['thickness'])){let _0x259e34=_0x250b62['outline']['attributes']['color']?Kg['fromString'](_0x250b62['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x260c32=Number(_0x250b62['outline']['attributes']['thickness']);(Number['isNaN'](_0x259e34['r'])||Number['isNaN'](_0x259e34['g'])||Number['isNaN'](_0x259e34['b'])||Number['isNaN'](_0x259e34['a']))&&(_0x259e34=this['_outlineCo'+'lor']),Number['isNaN'](_0x260c32)&&(_0x260c32=this['_outlineTh'+'ickness']);const _0x31e0cd=_0x4c60d6(_0x259e34,_0x260c32);_0x1d0566['hasOwnProp'+'erty'](_0x31e0cd)?_0x2ecc08=_0x1d0566[_0x31e0cd]:(_0x2ecc08=this['_outlinePa'+'lette']['length']/(0x2545+0x1ff1+-0x4531),_0x1d0566[_0x31e0cd]=_0x2ecc08,this['_outlinePa'+'lette']['push'](Math['round'](_0x259e34['r']*(-0x21*0x42+0xfbb+-0x63a)),Math['round'](_0x259e34['g']*(-0x2589+-0x11be+0x3846)),Math['round'](_0x259e34['b']*(-0x13*0x1cf+0x3f*-0x51+0x374b)),Math['round'](_0x259e34['a']*(-0x1*0x2393+0x1aa*-0xa+-0x3536*-0x1)),Math['round'](_0x260c32*(0x1*0x2d3+0x25*-0xb9+0x38f*0x7))));}this['_symbolOut'+'lineParams']['push'](_0x2ecc08);let _0x30295d=-0x1140+-0x1c3a+-0x16bd*-0x2;if(_0x250b62&&_0x250b62['shadow']&&(_0x250b62['shadow']['attributes']['color']||_0x250b62['shadow']['attributes']['offset']||_0x250b62['shadow']['attributes']['offsetX']||_0x250b62['shadow']['attributes']['offsetY'])){let _0x24a809=_0x250b62['shadow']['attributes']['color']?Kg['fromString'](_0x250b62['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x3e6225=Number(_0x250b62['shadow']['attributes']['offset']),_0x2bb77b=Number(_0x250b62['shadow']['attributes']['offsetX']),_0x46687f=Number(_0x250b62['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x24a809['r'])||Number['isNaN'](_0x24a809['g'])||Number['isNaN'](_0x24a809['b'])||Number['isNaN'](_0x24a809['a']))&&(_0x24a809=this['_shadowCol'+'or']);const _0x924d60=CR['set'](Number['isNaN'](_0x2bb77b)?Number['isNaN'](_0x3e6225)?this['_shadowOff'+'set']['x']:_0x3e6225:_0x2bb77b,Number['isNaN'](_0x46687f)?Number['isNaN'](_0x3e6225)?this['_shadowOff'+'set']['y']:_0x3e6225:_0x46687f),_0x10b47a=_0x4f5550(_0x24a809,_0x924d60);_0x89ee54['hasOwnProp'+'erty'](_0x10b47a)?_0x30295d=_0x89ee54[_0x10b47a]:(_0x30295d=this['_shadowPal'+'ette']['length']/(-0x5*-0x5f2+0x70f*-0x1+-0x16a5),_0x89ee54[_0x10b47a]=_0x30295d,this['_shadowPal'+'ette']['push'](Math['round'](_0x24a809['r']*(0x6e1+-0x1d88+-0x17a6*-0x1)),Math['round'](_0x24a809['g']*(-0x1819*0x1+0x965*0x3+0x7*-0x71)),Math['round'](_0x24a809['b']*(-0xb5*0xc+-0x17e0+-0x1*-0x215b)),Math['round'](_0x24a809['a']*(-0xe3f+0x1227+-0x95*0x5)),Math['round'](_0x924d60['x']*(-0x113d+-0x4a5+0x1661)),Math['round'](_0x924d60['y']*(-0x5*-0x30b+0x1*0x1b13+-0x29cb))));}this['_symbolSha'+'dowParams']['push'](_0x30295d);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x581e37=this['_calculate'+'CharsPerTe'+'xture']();let _0x4f987b=!(0xbd+0x17ef+-0x18ab);const _0x586625=this['_element'],_0x46a948=_0x586625['_isScreenS'+'pace'](),_0x5063bd=_0x586625['_isScreenC'+'ulled'](),_0x3d0d42=function(_0x3e1294){return _0x586625['isVisibleF'+'orCamera'](_0x3e1294);};for(let _0x2a2291=0xd59+-0x1008+-0x2af*-0x1,_0x57c189=this['_meshInfo']['length'];_0x2a2291<_0x57c189;_0x2a2291++){const _0x597093=_0x581e37[_0x2a2291]||0x10ab+0x251b+0x1*-0x35c6,_0x2430b2=this['_meshInfo'][_0x2a2291];if(_0x2430b2['count']!==_0x597093){if(_0x4f987b||(_0x586625['removeMode'+'lFromLayer'+'s'](this['_model']),_0x4f987b=!(-0x9d1+0xd22+0x11b*-0x3)),_0x2430b2['count']=_0x597093,_0x2430b2['positions']['length']=_0x2430b2['normals']['length']=_0x597093*(0x3*-0x3fb+-0x1*-0xe75+-0x281)*(-0x179+0x5db+0x22f*-0x2),_0x2430b2['indices']['length']=_0x597093*(-0x836+-0x12c4+0x1afd)*(-0xabf+0x102a+0x1*-0x569),_0x2430b2['uvs']['length']=_0x597093*(-0x13a1+-0x102a+0x23cd)*(-0x5fb*-0x3+0x80d*-0x3+0x2*0x31d),_0x2430b2['colors']['length']=_0x597093*(0x126e+-0x1*0x65d+-0xc0d)*(0x1*-0x1db+0x1c5d+-0x1a7e),_0x2430b2['outlines']['length']=_0x597093*(-0x1f7a+-0x176a+-0x4*-0xdba)*(-0x10d3+0x25e2+-0x150c*0x1),_0x2430b2['shadows']['length']=_0x597093*(0x21c7*-0x1+-0x2*-0x435+0x1*0x1961)*(-0x9*0x341+-0x702+0x244e),_0x2430b2['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x2430b2['meshInstan'+'ce']),_0x597093===-0x1012+0x25eb+-0x15d9){_0x2430b2['meshInstan'+'ce']=null;continue;}for(let _0x697c84=0x7*-0x4cd+0x14f7+0x329*0x4;_0x697c84<_0x597093;_0x697c84++)_0x2430b2['indices'][_0x697c84*(0x1f5b+-0x75b*-0x1+0x1*-0x26b3)*(-0x8*0x332+-0x90c*0x3+0x34b6)+(0x19ce+0xc7*-0x2e+-0x1c*-0x5b)]=_0x697c84*(-0x18*-0x20+0x4*-0x16e+0x2bc),_0x2430b2['indices'][_0x697c84*(0x7*0x593+-0x9f*0x1c+-0x159e*0x1)*(-0x1887*0x1+0xf05+0x984)+(0x225c+0x5*-0x727+0x3c*0x6)]=_0x697c84*(-0x25b4+-0xd46*-0x1+0x95*0x2a)+(0x5*0x77c+-0xb73+-0x19f8),_0x2430b2['indices'][_0x697c84*(0xb8d*-0x3+0x3a*0x5c+0x6e9*0x2)*(-0x8b3+-0x263e+0x2ef3)+(-0x1dc0+-0x1*0x1e3+0x1fa5)]=_0x697c84*(0x95*0x3e+-0x2044+-0x3ce)+(0x122f+0x17e7+-0x2a13*0x1),_0x2430b2['indices'][_0x697c84*(0x2302+0x5*0x287+0x7*-0x6ce)*(-0xec+-0x1e2+0x2d0)+(-0x78*-0x33+-0x520*-0x4+0x2c65*-0x1)]=_0x697c84*(0x26*0x1d+-0x1369*-0x2+-0x2b1c)+(0x291+0xb*0x2ee+-0x5*0x6f5),_0x2430b2['indices'][_0x697c84*(-0x2*-0x126c+-0xa*0x1a8+-0x1445)*(0x6e1+-0x1*0x4be+-0x221)+(0x43*-0xa+-0x1f8c+0x222e)]=_0x697c84*(0x1d54+0x2*0x267+-0x221e)+(-0x10bf+-0x1a58*-0x1+-0x996),_0x2430b2['indices'][_0x697c84*(-0xd26+0xb0*-0x7+0x11f9)*(-0xda*0x2+-0x6cb*-0x1+0x1*-0x515)+(0x11*-0x11+0xd23*0x1+0xbfd*-0x1)]=_0x697c84*(-0x17a6+0x571*0x4+-0x36*-0x9)+(-0xba6+0x12b4+-0x70d),_0x2430b2['normals'][_0x697c84*(0x290*0xa+0x1*0x1edb+-0x1*0x3877)*(-0x6*-0x501+-0x92*-0x1a+-0x2cd7)+(0x1c0b*-0x1+0x1f6a*-0x1+-0x1eb*-0x1f)]=0x68d+0x59e+-0xc2b,_0x2430b2['normals'][_0x697c84*(0x1*-0x1409+-0x1847+-0x1*-0x2c54)*(-0x116b+-0x11ef+-0x1*-0x235d)+(0x8*0x2b1+0x252*-0xc+0x21*0x31)]=0x133*-0x1+0x3*-0xae3+0x21dc,_0x2430b2['normals'][_0x697c84*(-0x1a92+-0xa1e+-0x24b4*-0x1)*(-0x10c7+-0x11f5*0x2+0x34b4)+(-0x15ca+0xe6e+0x75e)]=-(-0x1*0x333+-0x301+-0xe3*-0x7),_0x2430b2['normals'][_0x697c84*(-0x1*0x1f+0xc*0x1cc+-0x156d)*(0x1*0x1161+0x1d09+0x2e67*-0x1)+(-0x102*0x26+0x7ec*0x2+0x1677)]=0x353*0x3+-0x9*0x7a+0xf*-0x61,_0x2430b2['normals'][_0x697c84*(0x32c*0x4+0xd0d*0x2+0x58a*-0x7)*(-0x9d5+-0x25*-0x6b+-0x59f)+(0x160d+-0x106d+-0x59c)]=0x4b*0x67+-0x7*-0x1ae+0x863*-0x5,_0x2430b2['normals'][_0x697c84*(0x1a67+0x2*-0x79+0x87b*-0x3)*(-0x1655*0x1+0x27*0x66+0x6ce)+(0x8a*-0xb+0xb1*-0x30+0x2723)]=-(0x1e*0x24+0x598+-0x1*0x9cf),_0x2430b2['normals'][_0x697c84*(0x2*0x1a5+-0x1a79+-0x1733*-0x1)*(0x4f*-0x17+0x1f5a+-0x183e*0x1)+(0x258f*-0x1+0x1*0x2658+-0xc3)]=0x1f9f*-0x1+0xe01*-0x1+0x2da0,_0x2430b2['normals'][_0x697c84*(-0xeb6+-0x1199+0x19*0x14b)*(-0x35f*0xb+-0x1*0x229d+-0x3*-0x17e7)+(0x26*0xef+0x21b3*-0x1+0xe*-0x20)]=0x1*-0xeb9+0x15da+-0x721,_0x2430b2['normals'][_0x697c84*(0x13ef+0x1*0x1cd3+-0x30be)*(0x20c5+0x1*0x1cec+0xc56*-0x5)+(0x1*-0x9a9+-0x1e5b+-0x2c*-0xe9)]=-(0x1*-0x1f04+-0x2550+0x405*0x11),_0x2430b2['normals'][_0x697c84*(-0x3*0x7e4+-0x1227*0x2+-0x2*-0x1dff)*(-0x23b2+-0x10b3+-0x204*-0x1a)+(0x194b+-0x43*-0x59+-0x308d)]=0xb08+-0x1*-0xf07+-0x1a0f,_0x2430b2['normals'][_0x697c84*(0x1910+-0x1dc8+0x3*0x194)*(-0x2386+-0x1*0x871+0x2bfa)+(-0x22*0x7f+-0x10b*-0x16+0x1*-0x60a)]=-0x1977+0x215*-0x12+-0x1*-0x3ef1,_0x2430b2['normals'][_0x697c84*(-0x10*-0x76+-0x8c4+0x168)*(-0x691*0x4+0x1*-0x8df+-0x332*-0xb)+(-0xb60+-0xf87+0x2*0xd79)]=-(0x1ab7*-0x1+-0x1*0x1101+0x5b*0x7b);const _0x3b665a=xR(this['_system']['app']['graphicsDe'+'vice'],_0x2430b2),_0xf37a6e=new He(_0x3b665a,this['_material'],this['_node']);if(_0xf37a6e['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0xf37a6e['castShadow']=!(-0x905+0x8b*-0x1+0x1f*0x4f),_0xf37a6e['receiveSha'+'dow']=!(-0x1f20+-0xe26+0x2d47),_0xf37a6e['cull']=!_0x46a948,_0xf37a6e['screenSpac'+'e']=_0x46a948,_0xf37a6e['drawOrder']=this['_drawOrder'],_0x5063bd&&(_0xf37a6e['cull']=!(0x139*-0x1d+-0x2174+0xd*0x54d),_0xf37a6e['isVisibleF'+'unc']=_0x3d0d42),this['_setTextur'+'eParams'](_0xf37a6e,this['_font']['textures'][_0x2a2291]),_0xf37a6e['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0xf37a6e['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0xf37a6e['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0xf37a6e['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0xf37a6e['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x2a2291]['width']),_0xf37a6e['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0xf37a6e['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0xf37a6e['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][-0xfe8+-0x6fb*-0x1+0x8ed]=0x2e6+0x21e8+-0x24ce,this['_shadowOff'+'setUniform'][0x145f+0x1*0x105e+-0x24bc]=0x11df+-0xf98+0x1*-0x247;else{const _0x1949b5=-this['_font']['data']['info']['maps'][_0x2a2291]['width']/this['_font']['data']['info']['maps'][_0x2a2291]['height'];this['_shadowOff'+'setUniform'][-0x1c*0x2b+-0x2508+0x29bc]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x20e7+-0xba9+-0x153d]=_0x1949b5*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0xf37a6e['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x2430b2['meshInstan'+'ce']=_0xf37a6e,this['_model']['meshInstan'+'ces']['push'](_0xf37a6e);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x4f987b&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=0x31*0x35+0x99a+-0x695*0x3,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x38ce36){_0x38ce36['destroy']();const _0x15921d=this['_model']['meshInstan'+'ces']['indexOf'](_0x38ce36);_0x15921d!==-(-0x5c3+-0x4*-0x538+0x1*-0xf1c)&&this['_model']['meshInstan'+'ces']['splice'](_0x15921d,-0x23d*-0x7+0x11d2*0x1+0x4*-0x85f);}['_setMateri'+'al'](_0x131f8b){if(this['_material']=_0x131f8b,this['_model'])for(let _0x3157c7=-0x1d4c+0x2561+0x815*-0x1,_0x485539=this['_model']['meshInstan'+'ces']['length'];_0x3157c7<_0x485539;_0x3157c7++){const _0x19f930=this['_model']['meshInstan'+'ces'][_0x3157c7];_0x19f930['material']=_0x131f8b;}}['_updateMat'+'erial'](_0x44ab11){const _0x361c82=this['_element'],_0xa41d9c=_0x361c82['_isScreenC'+'ulled'](),_0x36d863=function(_0x12d168){return _0x361c82['isVisibleF'+'orCamera'](_0x12d168);},_0x3921a8=this['_font']&&this['_font']['type']===Rh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x44ab11,_0x3921a8,this['_enableMar'+'kup']),this['_model'])for(let _0x4df98e=-0x1*-0x13af+-0x3*-0x4b3+-0x21c8,_0x53a163=this['_model']['meshInstan'+'ces']['length'];_0x4df98e<_0x53a163;_0x4df98e++){const _0x55357c=this['_model']['meshInstan'+'ces'][_0x4df98e];_0x55357c['cull']=!_0x44ab11,_0x55357c['material']=this['_material'],_0x55357c['screenSpac'+'e']=_0x44ab11,_0xa41d9c?(_0x55357c['cull']=!(-0x26bb+-0x2663*0x1+-0x2*-0x268f),_0x55357c['isVisibleF'+'unc']=_0x36d863):_0x55357c['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][0x1fb6+-0x184e+0x4*-0x1da]=-0x233f+0x1b0e+0x832,this['_colorUnif'+'orm'][-0x2*0x507+0x1d*0x83+-0x88*0x9]=-0x66*-0x1b+0x1*-0x7ef+-0x1*0x2d2,this['_colorUnif'+'orm'][-0xeb7+-0xff9+0x1eb2]=0x1707+0x513+-0x1c19):(We['linear'](this['_color']),this['_colorUnif'+'orm'][-0x65b*0x6+-0x238d+-0x1*-0x49af]=We['r'],this['_colorUnif'+'orm'][0x1*-0x1435+-0x1*0x179b+0x2bd1*0x1]=We['g'],this['_colorUnif'+'orm'][0x8f4+0x2456*-0x1+0x1b64]=We['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][-0xaeb+-0x15e9+0x20d4]=-0x24b*0x1+0x154c+0x23*-0x8b,this['_outlineCo'+'lorUniform'][-0x94f+-0x1163*-0x1+-0x813]=-0xaa8+0x791*-0x3+0x215b,this['_outlineCo'+'lorUniform'][-0x1*-0x1de+-0x85e+-0x31*-0x22]=0x2*-0xeb1+0xdcd*-0x1+-0xc9*-0x37,this['_outlineCo'+'lorUniform'][0x15f7+-0x25b6+-0xfc2*-0x1]=-0x186f+0xe1b+0xa55):(We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0x1*-0x23a9+0x86d*0x4+0x1f5]=We['r'],this['_outlineCo'+'lorUniform'][0x1514+0x9c2+0x1*-0x1ed5]=We['g'],this['_outlineCo'+'lorUniform'][0x134b+-0x211c+-0xdd3*-0x1]=We['b'],this['_outlineCo'+'lorUniform'][0x206c+-0x416+-0x1c53]=We['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][0xaaa+-0xb5*0x2f+0x35*0x6d]=-0x7*0x4eb+0x1c3*-0x16+0x492f,this['_shadowCol'+'orUniform'][-0xc19*-0x3+-0x5f9+-0x1e51]=-0x137f+-0x14d7*-0x1+-0x56*0x4,this['_shadowCol'+'orUniform'][0x1*-0x1d06+-0x1fe*0x7+-0x1*-0x2afa]=0xb7*-0x2+-0x3*0x335+0xb0d,this['_shadowCol'+'orUniform'][-0x140*-0x3+-0x127*-0x1d+-0x2528]=-0x516+0x1458+0x117*-0xe):(We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x5bd*-0x1+0x20b7+0xd7d*-0x2]=We['r'],this['_shadowCol'+'orUniform'][0x522*0x2+-0x245c+-0x189*-0x11]=We['g'],this['_shadowCol'+'orUniform'][-0xd3*-0x1+0x11a9+0x127a*-0x1]=We['b'],this['_shadowCol'+'orUniform'][-0x1*-0x403+-0x1*-0x1b3b+-0x41*0x7b]=We['a']);}['_isWordBou'+'ndary'](_0x41b86f){return jg['test'](_0x41b86f);}['_isValidNe'+'xtChar'](_0x510a91){return _0x510a91!==null&&!ER['test'](_0x510a91);}['_isNextCJK'+'Boundary'](_0xa6fcb1,_0xd5ef04){return Yg['test'](_0xa6fcb1)&&(jg['test'](_0xd5ef04)||wR['test'](_0xd5ef04));}['_isNextCJK'+'WholeWord'](_0x3e0f0a){return Yg['test'](_0x3e0f0a);}['_updateMes'+'hes'](){const _0x5ae988=this['_font']['data'],_0x245fbf=this,_0x4723db=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x13b0c1=this['_maxFontSi'+'ze'],_0x4e5252=this['_shouldAut'+'oFit']();_0x4e5252&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x247e37=-0x3e7*-0x3+-0xd*-0x11+-0x213*0x6,_0x3a82c9=this['_symbols']['length'];let _0x345289=-0xbe*-0x13+-0x1*-0x2127+0x2f41*-0x1,_0x437f1b=0x2*-0x10f9+0x18d4+0x91e,_0x5bbae=0xc85+-0x1ae0+0xe5b,_0x58380e=0x19c*0x13+-0x40*0x19+0x40e*-0x6,_0x592037=-0x13c5+0x1*0x1a9e+0x4*-0x1b6,_0x833ba1=0x38e+0x127d+-0x160b,_0x422582=-0xd*-0x1a2+-0xfd+-0x143d,_0x4bb58a=-0x14f8+0xdfc+0x6fc,_0x34af1f=-0x1d5*-0x13+-0x513+-0x1dbc,_0x48dad5=0xe4d+0xf40+0x1*-0x1d8d,_0x45a51f=0x5b*-0x1b+-0x377*-0x3+-0x3*0x44;const _0x168623=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=-0x1960+-0x15dd+0x2f3d+0.0001;let _0x5a7477=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x168623||!this['_wrapLines'])&&(_0x5a7477=Number['POSITIVE_I'+'NFINITY']);let _0x4ce92d=-0x3*0xa31+-0x106a+0x17*0x20b,_0x5e91af=0x24db+-0x20d3+-0x408,_0x7815de,_0x8f4408,_0x2e2f0f,_0x58518a;function _0xeeac28(_0x11d37b,_0x311c9d,_0x2b97f1){_0x245fbf['_lineWidth'+'s']['push'](Math['abs'](_0x2b97f1));const _0x32b90f=_0x4bb58a>_0x311c9d?_0x311c9d+(-0x1698+0x3ad*-0x9+0x37ae):_0x4bb58a,_0xe73c2e=_0x4bb58a>_0x311c9d?_0x4bb58a+(0x3*0x893+-0x1*-0x22de+-0xa*0x60f):_0x311c9d,_0x43daf2=_0x11d37b['slice'](_0x32b90f,_0xe73c2e);if(_0x45a51f){let _0x31fb27=_0x43daf2['length'];for(;_0x31fb27--&&_0x45a51f>-0x1*0xb66+0x15d8+-0xa72;)qg['test'](_0x43daf2[_0x31fb27])&&(_0x43daf2['splice'](_0x31fb27,0x1*0xd93+0xe28+-0x1fb*0xe),_0x45a51f--);}_0x245fbf['_lineConte'+'nts']['push'](_0x43daf2['join']('')),_0x345289=0x784+-0x67+0x3*-0x25f,_0x437f1b-=_0x245fbf['_scaledLin'+'eHeight'],_0x592037++,_0x34af1f=0xb94+-0x1*0x815+-0xb3*0x5,_0x48dad5=-0xd4b+-0x9f1+0x173c,_0x45a51f=0x2257*-0x1+-0x149f*0x1+0x36f6,_0x833ba1=0x1*-0x2027+0x20ca+-0xa3*0x1,_0x4bb58a=_0x311c9d;}let _0x417cc8=!(0x1665+-0x114c+-0x519);for(;_0x417cc8;){_0x417cc8=!(0x7*-0x3cc+-0x22c7+0x3d5c),_0x4e5252?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||-0x475*0x4+-0xc9f+0x1e73+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=-0x1*-0x1785+-0x264*0x9+-0x201,this['height']=-0x12*-0x207+-0x2453+-0x1*0x2b,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x345289=-0x2*-0x7eb+-0x1*0xeb7+-0x11f,_0x437f1b=-0x1e*-0x137+0x2557+-0x49c9,_0x5bbae=-0x162b+-0x2133*0x1+-0x375e*-0x1,_0x58380e=0xf63+-0x1a52+0xaef,_0x592037=0xf5b*0x2+-0x6e2+-0x17d3,_0x833ba1=0x4a+0x1*-0x112d+-0x1*-0x10e3,_0x422582=-0xd89+-0x25d6+0x335f,_0x4bb58a=-0x1d3e+0x1*0xf1c+-0x2*-0x711,_0x34af1f=-0x297+0x119f*0x1+-0xf08*0x1,_0x48dad5=0x77+-0x182*0xd+0x1323,_0x45a51f=-0x81f+-0x259a+0x5*0x925;const _0x255e11=this['_fontSize']/_0x247e37;_0x4ce92d=this['_fontMinY']*_0x255e11,_0x5e91af=this['_fontMaxY']*_0x255e11;for(let _0x2e816d=-0x20bf+0x1e90+0xd*0x2b;_0x2e816d<this['_meshInfo']['length'];_0x2e816d++)this['_meshInfo'][_0x2e816d]['quad']=-0x245f+0x1e05+0x65a,this['_meshInfo'][_0x2e816d]['lines']={};let _0x288fb0=-0x1*-0x1c3c+0xec8+-0x15b*0x1f,_0x12cf00=0x1b92+0xf59+-0x29ec,_0x339bba=0x17c1+-0x24d2*-0x1+-0x3b94,_0x4514fc=0xcf3+0x38d+0xf81*-0x1+(0x1*-0x46d+-0x1cfe+0x226a)*(-0x255+0x1f9c+-0x1c47),_0x3c8534=-0x2440+-0xd3f*0x1+0x327e+(0x3d0*-0x3+-0x3e5*-0x1+0x88a)*(-0x631*0x5+-0x3a3+-0x2398*-0x1),_0x5c24bf=-0xcfe*-0x2+-0x45*-0x45+0x1*-0x2c95,_0x183ac0=-0x177f+0x2578+-0xcfa+(0x679*-0x1+-0x1adf+0x2257)*(0x1e0e+0x17ea+-0x2a6*0x14),_0x200896=0x73*0x4f+-0x39*0x4b+-0x11cb+(0xb96+0x1f61+-0x29f8)*(0x1ef+0x13*-0x79+0xa*0xce),_0x334de9=0x1e6b+0x2233+-0x7*0x929+(-0xf87+-0x13*-0x57+0x991*0x1)*(0x11e1+0x1597+-0x2678*0x1);for(let _0x2e24a0=0x73*0x20+0x1ad1+-0x83d*0x5;_0x2e24a0<_0x3a82c9;_0x2e24a0++){if(_0x7815de=this['_symbols'][_0x2e24a0],_0x58518a=_0x2e24a0+(0x146f*0x1+-0x937+0x9*-0x13f)>=_0x3a82c9?null:this['_symbols'][_0x2e24a0+(0x1e*0x92+0x1*0xfb3+-0x20ce)],qg['test'](_0x7815de)){_0x45a51f++,(!this['_wrapLines']||this['_maxLines']<-0x1df3+-0x2341+0x4134||_0x592037<this['_maxLines'])&&(_0xeeac28(this['_symbols'],_0x2e24a0,_0x58380e),_0x422582=_0x2e24a0+(-0xacb+0x59*-0x32+-0x1*-0x1c2e),_0x4bb58a=_0x2e24a0+(-0x5*-0xe5+0x7*0x36d+-0x1c73));continue;}let _0x30efc8=0x1fbc+0x3b*0xf+-0x2331,_0xf95640=-0x4c9+0x2655+-0x1*0x218c,_0xc68af0=-0x1418+-0x347*0x1+0x175f,_0x39e1a7=0x139a+0x3e5+-0x177e,_0x440850,_0x24abcd;if(_0x8f4408=_0x5ae988['chars'][_0x7815de],!_0x8f4408){if(bR['indexOf'](_0x7815de)!==-(0xc7*0x9+-0x26de+0x1fe0))_0x8f4408=AR;else{if(_0x5ae988['chars']['\x20'])_0x8f4408=_0x5ae988['chars']['\x20'];else for(const _0x525c34 in _0x5ae988['chars']){_0x8f4408=_0x5ae988['chars'][_0x525c34];break;}_0x5ae988['missingCha'+'rs']||(_0x5ae988['missingCha'+'rs']=new Set()),_0x5ae988['missingCha'+'rs']['has'](_0x7815de)||(console['warn']('Character\x20'+'\x27'+_0x7815de+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x5ae988['info']['face']),_0x5ae988['missingCha'+'rs']['add'](_0x7815de));}}if(_0x8f4408){let _0x2c9d73=0x11*0xd7+-0x1f8b+0x1144*0x1;if(_0x48dad5>-0xa99*0x1+0x1*-0x226c+0x2d05){const _0x2c787a=this['_font']['data']['kerning'];if(_0x2c787a){const _0xca6aa1=_0x2c787a[Hc['getCodePoi'+'nt'](this['_symbols'][_0x2e24a0-(0x1c6*-0x5+-0x193+0xa72)])||0xf55+0x1*0x199+-0x10ee];_0xca6aa1&&(_0x2c9d73=_0xca6aa1[Hc['getCodePoi'+'nt'](this['_symbols'][_0x2e24a0])||0xb4d+-0x1984+0xe37*0x1]||0x97*-0x2f+-0x1*0x1f3f+0x3af8);}}_0x440850=_0x8f4408['scale']||0xbe*0x1a+0x118c+0x24d7*-0x1,_0x24abcd=(_0x8f4408['width']+_0x8f4408['height'])/(-0x5e3+-0xf09+0x14ee),_0x39e1a7=_0x255e11*_0x24abcd/_0x440850,_0xc68af0=(_0x8f4408['xadvance']+_0x2c9d73)*_0x255e11,_0x30efc8=(_0x8f4408['xoffset']-_0x2c9d73)*_0x255e11,_0xf95640=_0x8f4408['yoffset']*_0x255e11;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x7815de+'\x27');const _0x4c3b9d=TR['test'](_0x7815de),_0x37942c=_0x8f4408&&_0x8f4408['map']||-0x1*0xd95+-0x16e6+0x3*0xc29,_0x58b02a=-this['_font']['data']['info']['maps'][_0x37942c]['width']/this['_font']['data']['info']['maps'][_0x37942c]['height'],_0x39983e=this['_meshInfo'][_0x37942c],_0x2c23b3=_0x345289+this['_spacing']*_0xc68af0;if(_0x2c23b3>_0x5a7477&&_0x48dad5>-0x18ce+-0x1d22+0x35f0&&!_0x4c3b9d&&(this['_maxLines']<-0x1*0x1c13+-0x5*0x1f7+0x62*0x63||_0x592037<this['_maxLines'])){if(_0x34af1f===0x1ae6+-0x1cf2+-0x1*-0x20c)_0x422582=_0x2e24a0,_0xeeac28(this['_symbols'],_0x2e24a0,_0x58380e);else{const _0x37f81e=Math['max'](_0x2e24a0-_0x422582,-0x2627+0xef*0x25+0x39c);if(this['_meshInfo']['length']<=-0x5*-0x6d+-0x1a*0xa0+0xe20)_0x39983e['lines'][_0x592037-(-0x1877*-0x1+-0x1d10+-0x2*-0x24d)]-=_0x37f81e,_0x39983e['quad']-=_0x37f81e;else{const _0x3987b5=_0x422582,_0x523bac=_0x2e24a0;for(let _0x24cb45=_0x3987b5;_0x24cb45<_0x523bac;_0x24cb45++){const _0x4a69af=this['_symbols'][_0x24cb45],_0x4da6bc=_0x5ae988['chars'][_0x4a69af],_0x4ddf82=this['_meshInfo'][_0x4da6bc&&_0x4da6bc['map']||0x1dbd*0x1+-0xa14+-0x13a9*0x1];_0x4ddf82['lines'][_0x592037-(-0x2195+0x1*0x22e5+-0x5*0x43)]-=-0x6af+0xe28+0x778*-0x1,_0x4ddf82['quad']-=0x2556+0x8*-0xa1+0x204d*-0x1;}}_0x2e24a0-=_0x37f81e+(-0x13bf+0x675+0xd4b),_0xeeac28(this['_symbols'],_0x422582,_0x833ba1);continue;}}_0x2e2f0f=_0x39983e['quad'],_0x39983e['lines'][_0x592037-(-0xfde+-0x24c5+0x34a4)]=_0x2e2f0f;let _0x4d94ac=_0x345289-_0x30efc8,_0xc1abf4=_0x4d94ac+_0x39e1a7;const _0x3a0cf4=_0x437f1b-_0xf95640,_0x18919a=_0x3a0cf4+_0x39e1a7;if(this['_rtl']){const _0x5285d3=_0x39e1a7-_0x30efc8-this['_spacing']*_0xc68af0-_0x30efc8;_0x4d94ac-=_0x5285d3,_0xc1abf4-=_0x5285d3;}_0x39983e['positions'][_0x2e2f0f*(-0x1104*-0x1+0x1f3d+-0x303d)*(0x2*-0xd19+-0x119f+0x5*0x8c4)+(-0x2263*-0x1+0x2355+-0x45b8)]=_0x4d94ac,_0x39983e['positions'][_0x2e2f0f*(-0x7b*0x3f+-0xf*0x229+0x3eb0)*(0x1*-0x1583+-0x8*-0x41c+0x5ad*-0x2)+(0x1a59*-0x1+0x80f+0x15*0xdf)]=_0x3a0cf4,_0x39983e['positions'][_0x2e2f0f*(0x2322+-0x33*0x59+-0x1163)*(-0x2*-0x595+0x1b*0xb+0x2*-0x628)+(-0x154b+-0x1*0xd0f+0x225c)]=_0x5bbae,_0x39983e['positions'][_0x2e2f0f*(0x18d2+0x20f6*-0x1+0x828)*(-0x5*0x5ec+0x1fbd+-0x21e)+(0x1*-0x228b+-0xd9*0x9+-0x2a2f*-0x1)]=_0xc1abf4,_0x39983e['positions'][_0x2e2f0f*(0x52*-0x79+0x3*-0x175+-0xeb*-0x2f)*(0x1*0x835+-0x21f5+0x527*0x5)+(0x1*-0x233+0x587*-0x5+-0x1dda*-0x1)]=_0x3a0cf4,_0x39983e['positions'][_0x2e2f0f*(-0x7ae*0x4+0x9dc*0x3+0x128)*(-0x71*-0x26+0x1*0xe2f+0x1d2*-0x11)+(0x1*-0x10c8+0x66*0x53+-0x1045)]=_0x5bbae,_0x39983e['positions'][_0x2e2f0f*(-0x6a3*-0x2+-0x1a56+0xd14)*(0xd1d+0x199b+-0x26b5)+(0x1bf7+0x5e6*0x2+0x1*-0x27bd)]=_0xc1abf4,_0x39983e['positions'][_0x2e2f0f*(0x6*0x5f3+-0x1*-0x66a+0x2a18*-0x1)*(-0x1*-0x595+-0x16e2+0x1150)+(0x4f*-0x20+-0x1a5e+-0x2445*-0x1)]=_0x18919a,_0x39983e['positions'][_0x2e2f0f*(-0x1947+-0x605+0x538*0x6)*(-0xaa1+0x1cd9+-0x1235*0x1)+(-0x1a82+0x755+-0x667*-0x3)]=_0x5bbae,_0x39983e['positions'][_0x2e2f0f*(-0x1080+-0x1*-0x2429+-0x13a5)*(-0x16f*0xf+0x1937+-0x3b3)+(-0x2*0xc71+0x1fb9+-0x6ce)]=_0x4d94ac,_0x39983e['positions'][_0x2e2f0f*(-0xecc+-0x59*-0x5a+-0x107a)*(-0x202c+0x2425*-0x1+-0x4*-0x1115)+(0x4*0xcb+0x16c3*-0x1+0x13a1)]=_0x18919a,_0x39983e['positions'][_0x2e2f0f*(-0x34a+0x13ba+-0x41b*0x4)*(0x50*0x2f+0x17d+-0x1*0x102a)+(-0x1adc+0x486+0x1661)]=_0x5bbae,this['width']=Math['max'](this['width'],_0x2c23b3);let _0x35f5dd;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x35f5dd=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||0x19*0x1d+-0x1ea1+0x1bcc+0.0001)),_0x35f5dd=Y['clamp'](_0x35f5dd,_0x4723db,_0x13b0c1),_0x35f5dd!==this['_element']['fontSize'])){this['_fontSize']=_0x35f5dd,_0x417cc8=!(0x1f*0xb6+0x1138+-0x2742);break;}if(this['height']=Math['max'](this['height'],_0x5e91af-(_0x437f1b+_0x4ce92d)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x35f5dd=Y['clamp'](this['_fontSize']-(-0x20a6+0x8f6*-0x1+0x299d),_0x4723db,_0x13b0c1),_0x35f5dd!==this['_element']['fontSize'])){this['_fontSize']=_0x35f5dd,_0x417cc8=!(-0x5*-0x19f+0x19ac+-0x21c7*0x1);break;}_0x345289+=this['_spacing']*_0xc68af0,_0x4c3b9d||(_0x58380e=_0x345289),(this['_isWordBou'+'ndary'](_0x7815de)||this['_isValidNe'+'xtChar'](_0x58518a)&&(this['_isNextCJK'+'Boundary'](_0x7815de,_0x58518a)||this['_isNextCJK'+'WholeWord'](_0x58518a)))&&(_0x34af1f++,_0x833ba1=_0x58380e,_0x422582=_0x2e24a0+(0x5aa+-0xf4f*0x1+0x9a6)),_0x48dad5++;const _0x1603d2=this['_getUv'](_0x7815de);if(_0x39983e['uvs'][_0x2e2f0f*(-0x2536+-0x7b0+0x2cea*0x1)*(0x1*-0xf95+-0xd*-0xbf+-0x34*-0x1d)+(0x186f*-0x1+0x229a+-0x1*0xa2b)]=_0x1603d2[-0x741+0xf88+-0x847],_0x39983e['uvs'][_0x2e2f0f*(0x2c1+0x1c2b*0x1+-0x1ee8)*(0xa*0x278+-0x2116+0x868)+(0x62*-0x4c+-0x2b9+0x1fd2)]=0x1bc+-0x4*-0xd4+-0x50b*0x1-_0x1603d2[0x23a8+-0x26*0x22+-0x1*0x1e9b],_0x39983e['uvs'][_0x2e2f0f*(0x174*0x3+0xa*0x25f+-0x3*0x95a)*(0x1*0x97+-0x15da+-0x5*-0x441)+(-0x7*-0x6b+-0x1*-0x1d93+-0x207e)]=_0x1603d2[-0x25e6+0x2392*0x1+0x256],_0x39983e['uvs'][_0x2e2f0f*(0x18d*-0xb+0x1c1*-0x8+-0x1f1b*-0x1)*(-0x1cc4+0x2*-0xe17+0x5a*0xa2)+(-0x323*0x4+0x2441+-0x17b2)]=0x3*-0x584+0x3a5+0xce8-_0x1603d2[0x618*-0x6+0x65*0x55+0xc2*0x4],_0x39983e['uvs'][_0x2e2f0f*(-0x972+0x3*0x43e+-0x344)*(-0x22ff+0x1*-0xdcd+0x30ce)+(-0x86f+0xcf7*0x3+-0x1e72)]=_0x1603d2[0xc7*0x19+0x1*0x172f+-0x2a9c],_0x39983e['uvs'][_0x2e2f0f*(-0x12d*-0x17+0x371*-0x8+0x81)*(0x1e6*0x5+-0x19ba+0x103e)+(-0x1*0xf75+0x1017*0x1+-0x9d)]=0x1f6f+0x17b7+0x2e7*-0x13-_0x1603d2[-0x1*0x131a+0x1879+-0x1*0x55c],_0x39983e['uvs'][_0x2e2f0f*(0x299+0x374+-0x3*0x203)*(-0x14*-0x2a+0xf7*0x12+0xa52*-0x2)+(-0x21b1+-0x549+0x2700)]=_0x1603d2[-0x101+0x43*-0xf+0x4ee],_0x39983e['uvs'][_0x2e2f0f*(0x34*0x3c+-0x4*-0x214+-0x3*0x6d4)*(0x16df+0x29*-0xac+0x4af)+(-0x1900+0x254*-0xb+0x32a3)]=-0x1*0x53d+-0x10be*0x2+-0x26ba*-0x1-_0x1603d2[-0x4a3*0x7+-0x67*-0x25+0x1195],this['_symbolCol'+'ors']){const _0x194a29=this['_symbolCol'+'ors'][_0x2e24a0]*(-0x171e+-0x1540+0x2c61);_0x288fb0=this['_colorPale'+'tte'][_0x194a29],_0x12cf00=this['_colorPale'+'tte'][_0x194a29+(0x19*-0xbc+0x139e+-0x141)],_0x339bba=this['_colorPale'+'tte'][_0x194a29+(0x1efd+0x1*-0x192a+-0x5d1)];}if(_0x39983e['colors'][_0x2e2f0f*(-0x1*-0xabd+-0x571*0x4+0xb0b)*(-0x1*0xac9+-0x1*-0xec6+0x1*-0x3f9)+(0x4f8*-0x1+-0x11ec*0x2+0x28d0)]=_0x288fb0,_0x39983e['colors'][_0x2e2f0f*(0x5*-0x252+0x22*-0x17+0x4e4*0x3)*(-0xe96+0x1eaf+0x1015*-0x1)+(-0xf1d+0x47d*-0x2+-0x202*-0xc)]=_0x12cf00,_0x39983e['colors'][_0x2e2f0f*(-0x163*-0xb+-0x342+-0x1*0xbfb)*(-0x6*0x268+-0x2*-0x1295+0x2*-0xb5b)+(0x4*-0x58f+0x496+0x11a8)]=_0x339bba,_0x39983e['colors'][_0x2e2f0f*(0x298+0x1f39+-0x21cd)*(0x15b7+-0xac6+-0xaed)+(0x5fd+-0xdf3+0x7f9)]=0x116d+-0x209d+0x102f,_0x39983e['colors'][_0x2e2f0f*(-0x1ab1*-0x1+0x1e42+0xb*-0x52d)*(0x13*-0x1ab+0x460+0x1*0x1b55)+(-0x1e7*0x9+-0x1d17+0x2e3a)]=_0x288fb0,_0x39983e['colors'][_0x2e2f0f*(0x6b2*0x5+0x21*-0x9d+-0x2a5*0x5)*(-0x1f07+0x1f7f*-0x1+0x3e8a)+(-0x1*-0x2256+0x21f*-0xd+-0x35f*0x2)]=_0x12cf00,_0x39983e['colors'][_0x2e2f0f*(0xd18+-0x1*0x17ee+0xada)*(-0x3a2+0x203a+-0xe4a*0x2)+(-0x14cd+-0x1c14+0x141*0x27)]=_0x339bba,_0x39983e['colors'][_0x2e2f0f*(0x251c+0x115f*0x1+-0x3677*0x1)*(0x25ae+0x25d*0x5+0x35*-0xef)+(-0x8cb+-0x14*0x1ae+0x59*0x7a)]=-0xf90+-0x219*0x3+0x16da,_0x39983e['colors'][_0x2e2f0f*(-0xa29+-0x1b59+0x12c3*0x2)*(0x6e*-0x44+-0x1535+0x3271)+(0x675+-0x44*0x3b+0x93f)]=_0x288fb0,_0x39983e['colors'][_0x2e2f0f*(-0x1*-0x13d5+-0x16eb+-0x2*-0x18d)*(0x33d*0xa+-0x553*-0x5+-0x3afd)+(-0x1*0x250+0x1fcb+-0xeb9*0x2)]=_0x12cf00,_0x39983e['colors'][_0x2e2f0f*(-0x9d2+-0x3bb*-0x5+0x8d1*-0x1)*(0x188d+-0x16c*0x18+0x997)+(-0x59*-0x17+0x67*0x5d+-0x2d60)]=_0x339bba,_0x39983e['colors'][_0x2e2f0f*(-0x117e*-0x2+-0x1031+-0x12c7*0x1)*(-0x131e+0x5*-0x5d4+0x14e*0x25)+(0x5*0x3df+0x1ff8+-0x3348)]=-0x16e7+0x23fe+-0xc18,_0x39983e['colors'][_0x2e2f0f*(0x160e+-0x810+-0x1*0xdfa)*(-0x5e7*-0x1+-0x1636+0x1053)+(-0x1*-0x109b+-0x94d*0x4+0x7*0x2f3)]=_0x288fb0,_0x39983e['colors'][_0x2e2f0f*(0x1364+-0x1744+0x3e4)*(0x16f4+0x558+-0x1c48)+(0x711+0x16*-0xc1+-0x15e*-0x7)]=_0x12cf00,_0x39983e['colors'][_0x2e2f0f*(-0x139e+-0x237a+0x371c)*(-0x49f+-0x397+-0x41d*-0x2)+(0xe01+0x3*0xa33+-0x2c8c)]=_0x339bba,_0x39983e['colors'][_0x2e2f0f*(0x2*-0xa86+-0x2*0xa0f+0x292e)*(0x205c+0x1*0x24d7+-0x452f*0x1)+(0x442+-0x1*-0x80f+-0x6*0x20b)]=-0xcbb*-0x1+-0x45*0x67+0x1007,this['_symbolOut'+'lineParams']){const _0x4ee7e4=this['_symbolOut'+'lineParams'][_0x2e24a0]*(-0x192*0x5+-0xce3*-0x1+0x504*-0x1);_0x4514fc=this['_outlinePa'+'lette'][_0x4ee7e4]+this['_outlinePa'+'lette'][_0x4ee7e4+(0x2103+0x2565+-0x4667)]*(-0x351+-0x2643+0x2a94),_0x3c8534=this['_outlinePa'+'lette'][_0x4ee7e4+(0xed9+-0x81a*0x1+-0x6bd)]+this['_outlinePa'+'lette'][_0x4ee7e4+(-0x3*-0x73e+-0x39*0x1d+-0xf42)]*(-0x18f*-0x17+0x24b1+-0x478a),_0x5c24bf=this['_outlinePa'+'lette'][_0x4ee7e4+(0x25f9*0x1+0x7*0x8e+-0x29d7)];}if(_0x39983e['outlines'][_0x2e2f0f*(0x1091+0xb*-0x357+0x2*0xa18)*(0x2*0xab9+-0x33a+-0x1235)+(-0x2*0xda3+-0x1*-0xc15+0xf31)]=_0x4514fc,_0x39983e['outlines'][_0x2e2f0f*(-0x1598+0x1b0e+-0x572)*(-0x1a87+0x1*-0x1c1b+-0x1237*-0x3)+(0x22de+-0x2*-0x115f+-0x459b)]=_0x3c8534,_0x39983e['outlines'][_0x2e2f0f*(0x1118+0x6df+-0x17f3)*(-0x1298+0x1b1d+-0x9*0xf2)+(0x1d97+0x19f1+-0x17*0x26a)]=_0x5c24bf,_0x39983e['outlines'][_0x2e2f0f*(0x408*-0x9+-0x5a4*0x3+0x106*0x34)*(0x50a+0x4*0x8b1+-0x27cb)+(-0x5dd+-0x2396+-0x3*-0xdd2)]=_0x4514fc,_0x39983e['outlines'][_0x2e2f0f*(-0x21e0+-0xde6+0x3*0xfee)*(-0x1770+0xa7*-0xd+0x3d*0x86)+(0x13*-0xa7+0x56f*-0x2+0x1747)]=_0x3c8534,_0x39983e['outlines'][_0x2e2f0f*(0xb12+0x1968+-0x123b*0x2)*(-0x27*0xee+-0x21c8+-0x4f*-0xe3)+(-0x2*0x464+0x7dd+-0x1e*-0x8)]=_0x5c24bf,_0x39983e['outlines'][_0x2e2f0f*(-0x1*0x217+0x1*0x1555+-0x6b*0x2e)*(0x139b+-0x25ed+0x1255)+(-0x1dc2+-0x1045+0x1*0x2e0d)]=_0x4514fc,_0x39983e['outlines'][_0x2e2f0f*(-0x185*0x7+0x15e1*0x1+-0x1*0xb3a)*(0x59*0x14+0xdf6+-0x1*0x14e7)+(-0x3*-0xcfb+-0x41+-0x26a9)]=_0x3c8534,_0x39983e['outlines'][_0x2e2f0f*(0xed*0x1a+0xb09*-0x1+-0xd05)*(0x19c7+-0x3ce*0x5+-0x6be)+(0x158f+-0x3b*0x13+-0x1126)]=_0x5c24bf,_0x39983e['outlines'][_0x2e2f0f*(-0x16d1+0x124*-0x21+0x89*0x71)*(0x2*0xa8d+0x76*-0x44+0xa41)+(0x20fc+0xc52+-0x2d45)]=_0x4514fc,_0x39983e['outlines'][_0x2e2f0f*(-0x881+0x506+0xb3*0x5)*(0x1*-0x1831+-0xb*0x11b+0x245d)+(0xcbe+-0x19d4*0x1+0x2*0x690)]=_0x3c8534,_0x39983e['outlines'][_0x2e2f0f*(0x2*-0x9fa+0x8df+0xb19)*(-0x38*-0x85+0x1e7*-0xe+-0x273)+(-0x2101+0x201b*-0x1+0x4127)]=_0x5c24bf,this['_symbolSha'+'dowParams']){const _0x2d6628=this['_symbolSha'+'dowParams'][_0x2e24a0]*(0x236*-0x1+-0x8ae+0xaea);_0x183ac0=this['_shadowPal'+'ette'][_0x2d6628]+this['_shadowPal'+'ette'][_0x2d6628+(-0x1*0x10d3+-0x3*-0x567+-0x9f*-0x1)]*(-0x1*0x242f+-0x13f3+0x3922),_0x200896=this['_shadowPal'+'ette'][_0x2d6628+(-0x3ff*-0x2+0x38b*-0xa+-0xdb9*-0x2)]+this['_shadowPal'+'ette'][_0x2d6628+(0x21b9+0x1595+-0x374b)]*(0xe*-0x193+0x1f6d+0x1*-0x863),_0x334de9=this['_shadowPal'+'ette'][_0x2d6628+(0x3*-0xc83+0xb*0xd4+0x1c71)]+(0x1*-0x1c76+0xa24+0x1*0x12d1)+Math['round'](_0x58b02a*this['_shadowPal'+'ette'][_0x2d6628+(-0x95*-0x1f+0x1*-0x158e+-0x2*-0x1c4)]+(-0x24f4*-0x1+0xc*0xfd+0x85*-0x5d))*(0x5*0x4cf+-0x10*-0x13d+-0x2adb);}_0x39983e['shadows'][_0x2e2f0f*(-0xa08+0x2*-0x3e7+0xa*0x1c9)*(-0x1*0x45d+0x1246*0x1+-0x251*0x6)+(0x1b*-0x24+0x48*-0x6a+0x219c)]=_0x183ac0,_0x39983e['shadows'][_0x2e2f0f*(0xa5*-0x2e+0xfbd+0x73*0x1f)*(0x261b+-0x1ec8+0x750*-0x1)+(-0x3*0x277+-0x1044+0x17aa)]=_0x200896,_0x39983e['shadows'][_0x2e2f0f*(0x77d+-0x2044+0x18cb)*(-0xe8f*0x1+0x12d4+-0x442)+(-0x2097+-0x11*0x15f+0x37e8)]=_0x334de9,_0x39983e['shadows'][_0x2e2f0f*(0x13d4+0xbe7+-0x1fb7)*(-0x134*0x19+0x2fe+-0x3df*-0x7)+(0xddf+-0x1*-0x226a+-0xa7*0x4a)]=_0x183ac0,_0x39983e['shadows'][_0x2e2f0f*(0x61d+-0xa7+-0x572)*(-0xba1+-0x722+0x12c6)+(-0x2346+-0x1c0a+0x3f54)]=_0x200896,_0x39983e['shadows'][_0x2e2f0f*(-0x20f2+-0x7bd*-0x1+0x1939)*(-0xdd5+0x1ace+-0xcf6)+(0xc17+0x1e2*0x2+0x2*-0x7eb)]=_0x334de9,_0x39983e['shadows'][_0x2e2f0f*(0x2a*0x71+-0x24ad+0x1227)*(0x3*-0x3d3+-0x2*-0xcdd+-0xe3e)+(-0x67a+-0x209b+0x271b)]=_0x183ac0,_0x39983e['shadows'][_0x2e2f0f*(-0xf3f+0x1049*0x1+-0x106)*(0x1*0x2098+0x1b83+-0x3c18)+(-0x110a*-0x2+-0xede+-0x1*0x132f)]=_0x200896,_0x39983e['shadows'][_0x2e2f0f*(-0x1*0x3fa+-0x53*0x59+0x20d9)*(0x269f+-0x14*-0x1ae+0x1*-0x4834)+(-0x20c8+0x41a+-0x93*-0x32)]=_0x334de9,_0x39983e['shadows'][_0x2e2f0f*(0x1*0x1ccf+-0x10*-0x93+0x1*-0x25fb)*(-0x111a+0x1f13+-0xdf6)+(0x12fe+-0xc3b+-0x6ba)]=_0x183ac0,_0x39983e['shadows'][_0x2e2f0f*(-0x1a41+0xb*0xac+0x3*0x64b)*(0x1d9+-0x24fe+0xa*0x384)+(0xa20+0x1a48+-0x299*0xe)]=_0x200896,_0x39983e['shadows'][_0x2e2f0f*(-0xb4c+-0x1*-0xbd9+0x89*-0x1)*(0x78a+0x17ec+0x61*-0x53)+(0x215f*-0x1+-0x20dc+-0x2123*-0x2)]=_0x334de9,_0x39983e['quad']++;}_0x417cc8||_0x4bb58a<_0x3a82c9&&_0xeeac28(this['_symbols'],_0x3a82c9,_0x345289);}this['_noResize']=!(0x22c*-0x3+-0x895+-0x305*-0x5),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(-0x159*-0x13+0x1075+-0x2a0f);const _0x26cee3=this['_element']['pivot']['x'],_0x260e3d=this['_element']['pivot']['y'],_0x51f320=this['_alignment']['x'],_0x482702=this['_alignment']['y'];for(let _0x37c569=-0x1ed+0xf6b*-0x2+-0x20c3*-0x1;_0x37c569<this['_meshInfo']['length'];_0x37c569++){if(this['_meshInfo'][_0x37c569]['count']===-0x8*-0x18a+0x1*-0x787+-0x4c9)continue;let _0xdc6165=0x743+-0x389+-0x3ba;for(const _0x163d38 in this['_meshInfo'][_0x37c569]['lines']){const _0x5f14ba=this['_meshInfo'][_0x37c569]['lines'][_0x163d38],_0x43f2ef=this['_lineWidth'+'s'][parseInt(_0x163d38,0x269a+-0x1*0x226d+-0x161*0x3)],_0x32d9d6=-_0x26cee3*this['_element']['calculated'+'Width']+_0x51f320*(this['_element']['calculated'+'Width']-_0x43f2ef)*(this['_rtl']?-(-0x15b4+0x4e*-0x11+0x1ae3):0xbf*-0x1a+-0xc1d+0x2*0xfc2),_0x14fed2=(-0x1034+0x360+-0x2d*-0x49-_0x260e3d)*this['_element']['calculated'+'Height']-_0x5e91af-(0x206e+-0x243+-0xc6*0x27-_0x482702)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x587437=_0xdc6165;_0x587437<=_0x5f14ba;_0x587437++)this['_meshInfo'][_0x37c569]['positions'][_0x587437*(0xa9*0x2f+-0x2031+0x2*0x97)*(-0x2*0x934+0x336*-0x7+-0x1d*-0x169)]+=_0x32d9d6,this['_meshInfo'][_0x37c569]['positions'][_0x587437*(-0x667+0x198b*-0x1+-0x1*-0x1ff6)*(-0x19fe+0x3c*-0xe+0x1d49)+(0x7*-0x50d+0x5*0x1d+0x22cd)]+=_0x32d9d6,this['_meshInfo'][_0x37c569]['positions'][_0x587437*(-0x24af+0x267a+-0x1*0x1c7)*(-0x23*0x3c+-0xbe8+0x3*0x6b5)+(-0x2684+0x7f0+0x1e9a)]+=_0x32d9d6,this['_meshInfo'][_0x37c569]['positions'][_0x587437*(-0x18b*-0x16+-0xa77+0x1*-0x1777)*(0x1*-0x191b+0x58f+-0x3*-0x685)+(0x1b0a+0xfad*0x2+-0x3a5b*0x1)]+=_0x32d9d6,this['_meshInfo'][_0x37c569]['positions'][_0x587437*(-0xeb8+0x7f4+0x6c8)*(-0xff*0x17+0x712+0xfda)+(-0x375*0x2+-0x7*-0x14b+-0x6*0x5b)]+=_0x14fed2,this['_meshInfo'][_0x37c569]['positions'][_0x587437*(0x1eff+-0x1*-0x15aa+-0x34a5*0x1)*(-0x1*-0x8db+-0x2047*0x1+0x176f)+(0x11*0x1f3+-0x1*0x618+-0x1b07)]+=_0x14fed2,this['_meshInfo'][_0x37c569]['positions'][_0x587437*(-0x59*-0xb+0x7a*0xa+-0x893)*(0x61f+-0x13*-0x3d+-0xaa3)+(0x50f+0x1*-0x2151+0x22d*0xd)]+=_0x14fed2,this['_meshInfo'][_0x37c569]['positions'][_0x587437*(-0x1503+-0x561+0x1a68)*(-0x163d+0x1fb9+-0x1e5*0x5)+(-0x86*-0x31+0x32*0x94+0x4*-0xda1)]+=_0x14fed2;if(this['_rtl'])for(let _0x4d6e12=_0xdc6165;_0x4d6e12<=_0x5f14ba;_0x4d6e12++){const _0x24e968=_0x4d6e12*(-0x1d69+0xf57+0xe16)*(-0xc1c+0x1*-0xe9b+-0xb*-0x26e);for(let _0x5ba603=0x2*0x38c+-0x39f*-0xa+-0x1*0x2b4e;_0x5ba603<0x7a6+0xb2*-0x33+0x1bd4;++_0x5ba603)this['_meshInfo'][_0x37c569]['positions'][_0x24e968+_0x5ba603*(-0x11f*-0x15+-0x6*-0x3d1+-0x2e6e)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x37c569]['positions'][_0x24e968+_0x5ba603*(0x1*-0x24df+0x4e5*0x4+-0x376*-0x5)]+_0x32d9d6*(0x1665+-0x1897+0x234);const _0x382c03=this['_meshInfo'][_0x37c569]['positions'][_0x24e968+(0x21*-0x1+0xb5+-0x91)],_0x21cf03=this['_meshInfo'][_0x37c569]['positions'][_0x24e968+(0x1ae9*0x1+0x3a4+0x209*-0xf)];this['_meshInfo'][_0x37c569]['positions'][_0x24e968+(-0x3a*0xe+0x132e+0x1c7*-0x9)]=this['_meshInfo'][_0x37c569]['positions'][_0x24e968+(0x46a+0x16*0x147+-0x4*0x821)],this['_meshInfo'][_0x37c569]['positions'][_0x24e968+(-0x19f2*-0x1+0x4*0x572+-0x2fb4)]=this['_meshInfo'][_0x37c569]['positions'][_0x24e968+(0x17a6+0xe2*0x2+-0x49*0x59)],this['_meshInfo'][_0x37c569]['positions'][_0x24e968+(-0x3*-0x765+-0x1c8d+0x65e)]=_0x382c03,this['_meshInfo'][_0x37c569]['positions'][_0x24e968+(0x1d3*-0x7+-0x138d+0x205b)]=_0x21cf03;}_0xdc6165=_0x5f14ba+(0x3*-0x4+0x6*0x17f+-0x8ed);}const _0xc576c3=this['_meshInfo'][_0x37c569]['count']*(-0x42d*0x3+-0x51*0x76+0x1*0x31e1),_0x3eb628=this['_meshInfo'][_0x37c569]['quad']*(-0x1*-0x53+-0x2020+-0x5*-0x65d),_0x437da5=new Uo(this['_meshInfo'][_0x37c569]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0x1f18bb=0x31b+0x1680+-0x5*0x51f;_0x1f18bb<_0xc576c3;_0x1f18bb++)_0x1f18bb>=_0x3eb628?(_0x437da5['element'][Me]['set'](-0xc7*-0x1+-0x2*0x36d+-0x5*-0x137,0x20aa+0xb73+-0x2c1d,0xf82+-0x1*0x19b1+-0x3*-0x365),_0x437da5['element'][is]['set'](0x1ce1+0x8b7+0x3*-0xc88,-0x83a*-0x3+0xb*-0x115+-0xcc7),_0x437da5['element'][Wt]['set'](-0x1b1*-0x3+-0x23b*0x4+0x3d9,0x10e8+0xf5e+-0x2046,-0x14cb+0x20d1+-0xc06,-0x1589+0x2b*0x53+0x798),_0x437da5['element'][Ko]['set'](-0x3a*-0x37+-0x1*0x6ef+0x11b*-0x5,-0x2*0xb3c+0xdff+0x879,0x2459+0xdb1*0x2+-0x3fbb,-0x393*0x3+0x3a1*0x3+-0x2a),_0x437da5['element'][Zo]['set'](-0x24d1+-0xd71+0x3242,-0x691*-0x2+-0x1f6b+0x1249,0xb*0xfb+-0x120*-0x8+-0x3f5*0x5,0x1386+0x25ea*0x1+0x1*-0x3970)):(_0x437da5['element'][Me]['set'](this['_meshInfo'][_0x37c569]['positions'][_0x1f18bb*(0x1*-0x62e+-0x1c7d+-0x17*-0x182)+(0x559+-0xfdd+0x4*0x2a1)],this['_meshInfo'][_0x37c569]['positions'][_0x1f18bb*(-0xca9+0x2e2*0x7+-0x782)+(0x1c7e+0x9*-0x1a5+-0xdb0)],this['_meshInfo'][_0x37c569]['positions'][_0x1f18bb*(0x1*-0x26d3+0xdf*0x1+0x25f7)+(-0x1*0x25dc+0x178e+-0x1*-0xe50)]),_0x437da5['element'][is]['set'](this['_meshInfo'][_0x37c569]['uvs'][_0x1f18bb*(-0x392*0x1+0x1219+-0xe85)+(-0x2f*0xbf+-0x27*-0x2+0x1*0x22c3)],this['_meshInfo'][_0x37c569]['uvs'][_0x1f18bb*(0x229d+0x1*0x703+-0x299e)+(-0x71*0x33+-0x2006+0x368a)]),_0x437da5['element'][Wt]['set'](this['_meshInfo'][_0x37c569]['colors'][_0x1f18bb*(0x249b+0x735+-0x2bcc)+(0x5*0x46b+0x108e+-0x26a5)],this['_meshInfo'][_0x37c569]['colors'][_0x1f18bb*(0x1709+-0x2*-0x12b+-0x195b*0x1)+(-0x6a*-0x31+-0x601+-0xe48)],this['_meshInfo'][_0x37c569]['colors'][_0x1f18bb*(0x3*-0x35a+0x144d*-0x1+-0x1e5f*-0x1)+(-0x389*-0x5+-0x10b2+-0xf9)],this['_meshInfo'][_0x37c569]['colors'][_0x1f18bb*(-0x1f81+-0x1*0x1fd9+0x3f5e)+(0x1cdd+-0x6*0x331+-0x1b*0x5c)]),_0x437da5['element'][Ko]['set'](this['_meshInfo'][_0x37c569]['outlines'][_0x1f18bb*(-0x1be*-0xc+-0x1*-0x19e+0x3*-0x781)+(0xbc8+-0x148d+-0x1c1*-0x5)],this['_meshInfo'][_0x37c569]['outlines'][_0x1f18bb*(-0x89*-0x4+-0x9d*-0x9+-0x7a6)+(0x6d7+0x159a+-0x1c70)],this['_meshInfo'][_0x37c569]['outlines'][_0x1f18bb*(-0x14e7+0x13bc+0x2*0x97)+(0x2*-0x12f9+0xd*-0x65+0x2b15)]),_0x437da5['element'][Zo]['set'](this['_meshInfo'][_0x37c569]['shadows'][_0x1f18bb*(-0xc2f*0x2+0x1684+0x1dd)+(0x2e5+0x112*-0x3+-0x1b*-0x3)],this['_meshInfo'][_0x37c569]['shadows'][_0x1f18bb*(0x1fe1+-0x1bef+-0x1*0x3ef)+(-0x57a+-0x15*-0x133+-0x13b4)],this['_meshInfo'][_0x37c569]['shadows'][_0x1f18bb*(0x200e+0x723+-0x272e)+(-0x171f+0x43*0x1a+-0x571*-0x3)])),_0x437da5['next']();_0x437da5['end'](),this['_meshInfo'][_0x37c569]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x37c569]['positions']),this['_meshInfo'][_0x37c569]['meshInstan'+'ce']['_aabbVer']=-(0x174d*-0x1+0x1f57+-0x79*0x11);}this['_aabbDirty']=!(-0xbab*0x2+-0x13b4+0x2*0x1585);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x3311fa){this['font']!==_0x3311fa['resource']&&(this['font']=_0x3311fa['resource']);}['_onFontCha'+'nge'](_0x58daca,_0x3a3d39,_0x1712e6,_0x7aca4a){if(_0x3a3d39==='data'){this['_font']['data']=_0x1712e6;const _0x592a40=this['_font']['data']['info']['maps']['length'];for(let _0x3417c2=-0x2*-0x74f+-0x1ca8+0x3*0x4ae;_0x3417c2<_0x592a40;_0x3417c2++){if(!this['_meshInfo'][_0x3417c2])continue;const _0x5eef29=this['_meshInfo'][_0x3417c2]['meshInstan'+'ce'];_0x5eef29&&(_0x5eef29['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x5eef29['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x5eef29['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x3417c2]['width']));}}}['_onFontRem'+'ove'](_0x599a14){}['_setTextur'+'eParams'](_0x9a2e31,_0x5dde6b){this['_font']&&(this['_font']['type']===Rh?(_0x9a2e31['deletePara'+'meter']('texture_em'+'issiveMap'),_0x9a2e31['deletePara'+'meter']('texture_op'+'acityMap'),_0x9a2e31['setParamet'+'er']('texture_ms'+'dfMap',_0x5dde6b)):this['_font']['type']===dR&&(_0x9a2e31['deletePara'+'meter']('texture_ms'+'dfMap'),_0x9a2e31['setParamet'+'er']('texture_em'+'issiveMap',_0x5dde6b),_0x9a2e31['setParamet'+'er']('texture_op'+'acityMap',_0x5dde6b)));}['_getPxRang'+'e'](_0x3f2c65){const _0x3db4ea=Object['keys'](this['_font']['data']['chars']);for(let _0x31afc3=-0x1e3e+-0x2*0xff6+0xda*0x49;_0x31afc3<_0x3db4ea['length'];_0x31afc3++){const _0x466883=this['_font']['data']['chars'][_0x3db4ea[_0x31afc3]];if(_0x466883['range'])return(_0x466883['scale']||0x3*0xaea+0xd61+0x2*-0x170f)*_0x466883['range'];}return 0x198c+-0x1*0xcf2+0x68*-0x1f;}['_getUv'](_0x4400b9){const _0x418b52=this['_font']['data'];if(!_0x418b52['chars'][_0x4400b9])return _0x418b52['chars']['\x20']?this['_getUv']('\x20'):[0x21f4+-0x2021+-0x1d3*0x1,-0x1*0x1057+0x19d3+0x4*-0x25f,0x162b+-0x4*0xdb+-0x12bf,-0x209c+0x7f8+-0x4c*-0x53];const _0xf8154e=_0x418b52['chars'][_0x4400b9]['map'],_0xaadf5c=_0x418b52['info']['maps'][_0xf8154e]['width'],_0x2a5e94=_0x418b52['info']['maps'][_0xf8154e]['height'],_0x3ccefb=_0x418b52['chars'][_0x4400b9]['x'],_0x3059ac=_0x418b52['chars'][_0x4400b9]['y'],_0x131e70=_0x3ccefb,_0x37e87b=_0x3059ac,_0x2ffa78=_0x3ccefb+_0x418b52['chars'][_0x4400b9]['width'],_0x423d4f=_0x3059ac-_0x418b52['chars'][_0x4400b9]['height'],_0x592a7f=0x11db+-0x2287+-0x10ad*-0x1-_0x418b52['chars'][_0x4400b9]['height']/_0x2a5e94;return[_0x131e70/_0xaadf5c,_0x592a7f-_0x37e87b/_0x2a5e94,_0x2ffa78/_0xaadf5c,_0x592a7f-_0x423d4f/_0x2a5e94];}['onEnable'](){this['_fontAsset']['autoLoad']=!(0x1e8d+0x10c4+-0x2f51),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(0x120*0x11+0x14b8+-0x27d7),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x1e3591){if(this['_model']){const _0x2f2a95=this['_model']['meshInstan'+'ces'];for(let _0x59494c=-0x75e*-0x3+0x1*0xedd+-0x24f7;_0x59494c<_0x2f2a95['length'];_0x59494c++)_0x2f2a95[_0x59494c]['stencilFro'+'nt']=_0x1e3591,_0x2f2a95[_0x59494c]['stencilBac'+'k']=_0x1e3591;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x411b28){const _0x2f3455={};_0x411b28===void(-0x1*-0xf26+-0x409*-0x5+0x1*-0x2353)&&(_0x411b28=this['_symbols']['length']);for(let _0x41ea8b=-0x1346+-0x101*0x1b+0x2e61,_0x36afd1=_0x411b28;_0x41ea8b<_0x36afd1;_0x41ea8b++){const _0x4c38e7=this['_symbols'][_0x41ea8b];let _0xc7fc80=this['_font']['data']['chars'][_0x4c38e7];_0xc7fc80||(_0xc7fc80=this['_font']['data']['chars']['\x20'],_0xc7fc80||(_0xc7fc80=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[0xe3a+-0x2*-0x1064+-0x2f02]]));const _0x5e068c=_0xc7fc80['map'];_0x2f3455[_0x5e068c]?_0x2f3455[_0x5e068c]++:_0x2f3455[_0x5e068c]=-0x14*-0x15a+0x4a0+-0x1fa7;}return _0x2f3455;}['_updateRen'+'derRange'](){const _0x55b474=this['_rangeStar'+'t']===0x1621+-0xadd+-0xb44?-0xf*0x7c+0x231+0x513:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0x4861e4=this['_rangeEnd']===-0x1517*0x1+-0x162c+0x1*0x2b43?-0xb*-0x2f+0xdde*0x2+0x9eb*-0x3:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x38c19c=-0x4*0x7e1+-0x1a2c+-0x39b*-0x10,_0x185c5c=this['_meshInfo']['length'];_0x38c19c<_0x185c5c;_0x38c19c++){const _0x8a1fec=_0x55b474[_0x38c19c]||-0x1691+0x1b1c+0x48b*-0x1,_0x4a2248=_0x4861e4[_0x38c19c]||-0x2215+-0x335*-0x4+0x1541,_0x2d9044=this['_meshInfo'][_0x38c19c]['meshInstan'+'ce'];if(_0x2d9044){const _0x391f33=_0x2d9044['mesh'];_0x391f33&&(_0x391f33['primitive'][0x0+-0x2299+0x1*0x2299]['base']=_0x8a1fec*(-0x4ff*0x3+-0xe69+0x1d69*0x1)*(0x6a*-0x55+0x1*-0xcac+0x2fe0),_0x391f33['primitive'][0xfb9+0x1*0x1aab+0x2*-0x1532]['count']=(_0x4a2248-_0x8a1fec)*(-0x1ffb+-0x1*-0x2a5+0x1d59)*(0x5*0x4ff+0x915+0x3*-0xb5a));}}}set['text'](_0x3bf98a){this['_i18nKey']=null;const _0x25b006=_0x3bf98a!=null&&_0x3bf98a['toString']()||'';this['_setText'](_0x25b006);}get['text'](){return this['_text'];}set['key'](_0x7d7ee3){const _0x1d76cc=_0x7d7ee3!==null?_0x7d7ee3['toString']():null;this['_i18nKey']!==_0x1d76cc&&(this['_i18nKey']=_0x1d76cc,_0x1d76cc?(this['_fontAsset']['disableLoc'+'alization']=!(0x1116+0x586+0x283*-0x9),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(0x1*-0x981+-0x7*0x332+0x29*0xc7));}get['key'](){return this['_i18nKey'];}set['color'](_0x253a11){const _0x2bf269=_0x253a11['r'],_0x2c5aad=_0x253a11['g'],_0x43b60d=_0x253a11['b'];if(this['_color']===_0x253a11&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x2bf269&&this['_color']['g']===_0x2c5aad&&this['_color']['b']===_0x43b60d)&&(this['_color']['r']=_0x2bf269,this['_color']['g']=_0x2c5aad,this['_color']['b']=_0x43b60d,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_color']),this['_colorUnif'+'orm'][0x807+-0xd99+0x17*0x3e]=We['r'],this['_colorUnif'+'orm'][-0x6d1*0x5+0x2005+-0x211*-0x1]=We['g'],this['_colorUnif'+'orm'][0x3*-0x6cd+-0x65f*-0x4+-0x1*0x513]=We['b'];for(let _0x260002=0x432+0x2*0xce3+-0x1df8,_0x1eb55c=this['_model']['meshInstan'+'ces']['length'];_0x260002<_0x1eb55c;_0x260002++)this['_model']['meshInstan'+'ces'][_0x260002]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x1b2eda){if(this['_color']['a']!==_0x1b2eda&&(this['_color']['a']=_0x1b2eda,this['_model'])){for(let _0x519b2a=0x23fe*-0x1+-0x1392+0x2*0x1bc8,_0x509c69=this['_model']['meshInstan'+'ces']['length'];_0x519b2a<_0x509c69;_0x519b2a++)this['_model']['meshInstan'+'ces'][_0x519b2a]['setParamet'+'er']('material_o'+'pacity',_0x1b2eda);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x1b2eda);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x22dfe3){const _0x3ec46c=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x22dfe3,this['_scaledLin'+'eHeight']=_0x22dfe3,_0x3ec46c!==_0x22dfe3&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0x7b9772){const _0x1c82af=this['_wrapLines'];this['_wrapLines']=_0x7b9772,_0x1c82af!==_0x7b9772&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x1fb0e8){const _0x418ccd=this['_spacing'];this['_spacing']=_0x1fb0e8,_0x418ccd!==_0x1fb0e8&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x9f02df){const _0x5eaa38=this['_fontSize'];this['_fontSize']=_0x9f02df,this['_originalF'+'ontSize']=_0x9f02df,_0x5eaa38!==_0x9f02df&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x5109b5){this['_fontAsset']['defaultAss'+'et']=_0x5109b5;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0x4a3d1c){let _0x5896a2;if(this['_font']&&(_0x5896a2=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0x4a3d1c,this['_fontMinY']=0x129f+0x7*-0x31d+0x32c,this['_fontMaxY']=0x1*-0x1b99+0xc97+0xf02,!_0x4a3d1c)return;const _0x27c2a8=this['_font']['data'];for(const _0x411516 in _0x27c2a8['chars']){const _0x5a645f=_0x27c2a8['chars'][_0x411516];_0x5a645f['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x5a645f['bounds'][-0x6d+-0xc25+0xc93]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x5a645f['bounds'][0xef*-0xb+-0x1*0xedc+0x649*0x4]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0x4a3d1c['type']!==_0x5896a2){const _0x16a288=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x16a288);}for(let _0x166d6d=0x2f*0x3b+-0x89c+-0x239,_0x60d812=this['_font']['textures']['length'];_0x166d6d<_0x60d812;_0x166d6d++)if(!this['_meshInfo'][_0x166d6d])this['_meshInfo'][_0x166d6d]=new vR();else{const _0x29d479=this['_meshInfo'][_0x166d6d]['meshInstan'+'ce'];_0x29d479&&(_0x29d479['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x29d479['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x29d479['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x166d6d]['width']),this['_setTextur'+'eParams'](_0x29d479,this['_font']['textures'][_0x166d6d]));}let _0x33ea46=!(-0x2505+-0xdd6+0x174*0x23);for(let _0x42e5e9=this['_font']['textures']['length'];_0x42e5e9<this['_meshInfo']['length'];_0x42e5e9++)this['_meshInfo'][_0x42e5e9]['meshInstan'+'ce']&&(_0x33ea46||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x33ea46=!(0x646*0x5+-0x212e+0x1d0)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x42e5e9]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x17486d){_0x17486d instanceof J?this['_alignment']['set'](_0x17486d['x'],_0x17486d['y']):this['_alignment']['set'](_0x17486d[-0xff9+0x1113+-0x11a],_0x17486d[-0x219a+0x2*-0xafa+-0x1285*-0x3]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x378d97){const _0x27855e=this['_autoWidth'];if(this['_autoWidth']=_0x378d97,_0x378d97&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<0x7a*0xc+0x2225+-0x5*0x7f9+0.0001&&(this['_element']['width']=this['width']),_0x27855e!==_0x378d97){const _0x3c0374=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x3c0374!==this['_fontSize']&&(this['_fontSize']=_0x3c0374,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x5d8eba){const _0x478eef=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x5d8eba,_0x5d8eba&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<-0x49*0x2f+-0x10*-0x1a8+-0xd19+0.0001&&(this['_element']['height']=this['height']),_0x478eef!==_0x5d8eba){const _0x3a14ac=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x3a14ac!==this['_fontSize']&&(this['_fontSize']=_0x3a14ac,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x667224){this['_rtlReorde'+'r']!==_0x667224&&(this['_rtlReorde'+'r']=_0x667224,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x1bdd63){this['_unicodeCo'+'nverter']!==_0x1bdd63&&(this['_unicodeCo'+'nverter']=_0x1bdd63,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x4cd8ac=!(0xef0+-0x2*-0xdbe+-0x2a6b);for(let _0x18ecb8=-0x6c*0x30+0x579*-0x3+0x7*0x53d;_0x18ecb8<this['_meshInfo']['length'];_0x18ecb8++)this['_meshInfo'][_0x18ecb8]['meshInstan'+'ce']&&(_0x4cd8ac?this['_aabb']['add'](this['_meshInfo'][_0x18ecb8]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x18ecb8]['meshInstan'+'ce']['aabb']),_0x4cd8ac=!(0x1760+0x149b+-0x2bfb)));this['_aabbDirty']=!(-0x125d+-0x1459+0x385*0xb);}return this['_aabb'];}set['outlineCol'+'or'](_0x3f40aa){const _0x183ce5=_0x3f40aa instanceof ie?_0x3f40aa['r']:_0x3f40aa[-0x1*0x596+0x2*-0x3ce+0xd32],_0x220c6e=_0x3f40aa instanceof ie?_0x3f40aa['g']:_0x3f40aa[-0x268a+-0x845+0x2ed0],_0x8dcf4b=_0x3f40aa instanceof ie?_0x3f40aa['b']:_0x3f40aa[0x970+0x1*0x102f+-0x1*0x199d],_0x5552f3=_0x3f40aa instanceof ie?_0x3f40aa['a']:_0x3f40aa[-0x1a75+0xfc7+-0xa1*-0x11];if(this['_outlineCo'+'lor']===_0x3f40aa&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x183ce5&&this['_outlineCo'+'lor']['g']===_0x220c6e&&this['_outlineCo'+'lor']['b']===_0x8dcf4b&&this['_outlineCo'+'lor']['a']===_0x5552f3)&&(this['_outlineCo'+'lor']['r']=_0x183ce5,this['_outlineCo'+'lor']['g']=_0x220c6e,this['_outlineCo'+'lor']['b']=_0x8dcf4b,this['_outlineCo'+'lor']['a']=_0x5552f3,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0x224+0x208d+0x6b*-0x53]=We['r'],this['_outlineCo'+'lorUniform'][0x10b3+-0x1ba8+0xaf6]=We['g'],this['_outlineCo'+'lorUniform'][0x62f*-0x1+-0x3f*0x9a+0x1*0x2c17]=We['b'],this['_outlineCo'+'lorUniform'][-0x1835*-0x1+0x150a+0xa*-0x486]=We['a'];for(let _0x2178e1=-0xaa7+0x1*-0x765+-0x2*-0x906,_0x238b1a=this['_model']['meshInstan'+'ces']['length'];_0x2178e1<_0x238b1a;_0x2178e1++)this['_model']['meshInstan'+'ces'][_0x2178e1]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x4b3796){const _0x14cc5=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x4b3796,_0x14cc5!==_0x4b3796&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x2791d5=0x3*-0x9b4+0x4*-0x920+0x419c,_0x5ce73c=this['_model']['meshInstan'+'ces']['length'];_0x2791d5<_0x5ce73c;_0x2791d5++)this['_model']['meshInstan'+'ces'][_0x2791d5]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0x1892cc){const _0x10c2c1=_0x1892cc instanceof ie?_0x1892cc['r']:_0x1892cc[0x3*0x75b+0x5*-0x64d+0x970],_0x1ed345=_0x1892cc instanceof ie?_0x1892cc['g']:_0x1892cc[-0xd7e+0x3a5*0x5+0x79*-0xa],_0x322922=_0x1892cc instanceof ie?_0x1892cc['b']:_0x1892cc[-0x1bd5+-0x3*-0x1a5+0x16e8*0x1],_0x5d4e8d=_0x1892cc instanceof ie?_0x1892cc['a']:_0x1892cc[-0x102c+0x57*-0x3b+0x243c];if(this['_shadowCol'+'or']===_0x1892cc&&w['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x10c2c1&&this['_shadowCol'+'or']['g']===_0x1ed345&&this['_shadowCol'+'or']['b']===_0x322922&&this['_shadowCol'+'or']['a']===_0x5d4e8d)&&(this['_shadowCol'+'or']['r']=_0x10c2c1,this['_shadowCol'+'or']['g']=_0x1ed345,this['_shadowCol'+'or']['b']=_0x322922,this['_shadowCol'+'or']['a']=_0x5d4e8d,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x1*0x84e+0x11cb+-0x1a19]=We['r'],this['_shadowCol'+'orUniform'][-0x25*-0x41+-0x1fa7+-0x8b*-0x29]=We['g'],this['_shadowCol'+'orUniform'][-0x5*0x57d+-0x26*0xe9+0x1*0x3e09]=We['b'],this['_shadowCol'+'orUniform'][0x22af+0x1*0xdfe+-0x30aa]=We['a'];for(let _0x4cc6bb=-0x1*-0x19d9+0xbe4+-0x25bd,_0x485b3f=this['_model']['meshInstan'+'ces']['length'];_0x4cc6bb<_0x485b3f;_0x4cc6bb++)this['_model']['meshInstan'+'ces'][_0x4cc6bb]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0xd60f70){const _0x36df57=_0xd60f70 instanceof J?_0xd60f70['x']:_0xd60f70[-0x1800+-0x1d1e*-0x1+0x51e*-0x1],_0x1b6182=_0xd60f70 instanceof J?_0xd60f70['y']:_0xd60f70[-0xa2*0x3b+0x226c+0x53*0x9];if(!(this['_shadowOff'+'set']['x']===_0x36df57&&this['_shadowOff'+'set']['y']===_0x1b6182)&&(this['_shadowOff'+'set']['set'](_0x36df57,_0x1b6182),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0x2d4b03=-0xa8*0x2a+0x10b1+0xadf,_0x5ac296=this['_model']['meshInstan'+'ces']['length'];_0x2d4b03<_0x5ac296;_0x2d4b03++){const _0x594b98=-this['_font']['data']['info']['maps'][_0x2d4b03]['width']/this['_font']['data']['info']['maps'][_0x2d4b03]['height'];this['_shadowOff'+'setUniform'][-0xefe+-0x2*-0x305+-0xbf*-0xc]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][-0x1d29+0x2*-0x1e7+0x20f8]=_0x594b98*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0x2d4b03]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x25de3f){this['_minFontSi'+'ze']!==_0x25de3f&&(this['_minFontSi'+'ze']=_0x25de3f,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x3fcbeb){this['_maxFontSi'+'ze']!==_0x3fcbeb&&(this['_maxFontSi'+'ze']=_0x3fcbeb,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x268ac6){this['_autoFitWi'+'dth']!==_0x268ac6&&(this['_autoFitWi'+'dth']=_0x268ac6,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x9440be){this['_autoFitHe'+'ight']!==_0x9440be&&(this['_autoFitHe'+'ight']=_0x9440be,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x52e00a){this['_maxLines']!==_0x52e00a&&(_0x52e00a===null&&this['_maxLines']===-(0x160f+0x17ce+-0x2ddc)||(this['_maxLines']=_0x52e00a===null?-(0x2*-0xfde+-0x61a+-0x1*-0x25d7):_0x52e00a,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0xfe7c77){if(_0xfe7c77=!!_0xfe7c77,this['_enableMar'+'kup']===_0xfe7c77)return;this['_enableMar'+'kup']=_0xfe7c77,this['font']&&this['_updateTex'+'t']();const _0xffcbd9=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0xffcbd9);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x14ebab){return this['_colorPale'+'tte']['slice'](_0x14ebab*(-0x206e*0x1+0x37*-0x42+0x2e9f),_0x14ebab*(-0x1b8*0xa+-0x7b9+-0x4fc*-0x5)+(-0x7f*0x1f+-0x2*-0x1271+0x157e*-0x1));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x1e732b){return this['_outlinePa'+'lette']['slice'](_0x1e732b*(0x2308+-0x7*-0x76+-0x263d*0x1),_0x1e732b*(0x1*0x23bd+0x2*-0x18e+-0x209c)+(-0x159a+-0x3*0x8f8+0x3087));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x552b80){return this['_shadowPal'+'ette']['slice'](_0x552b80*(0x7cf+-0x2*-0xf67+-0x2697),_0x552b80*(0x168b+0xf55+-0x25da)+(-0xa55+-0x2*-0x69c+0x2dd*-0x1));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x2fff92){_0x2fff92=Math['max'](-0x1950+-0x56b+-0x1ebb*-0x1,Math['min'](_0x2fff92,this['_symbols']['length'])),_0x2fff92!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x2fff92,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x291688){_0x291688=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x291688,this['_symbols']['length'])),_0x291688!==this['_rangeEnd']&&(this['_rangeEnd']=_0x291688,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Ef=new D(),Zg=new te(),Pi=new D(),MR=new D(),ws=new te(),bc=new te(),Ac=new te(),$a=new te();class hs extends we{constructor(_0x3d904c,_0x4e0538){super(_0x3d904c,_0x4e0538),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(0x2*-0x4d6+-0x404*-0x2+0x1a5),this['_anchor']=new re(),this['_localAnch'+'or']=new re(),this['_pivot']=new J(),this['_width']=this['_calculate'+'dWidth']=0x25e9+-0x24c3+0x2*-0x83,this['_height']=this['_calculate'+'dHeight']=0x59*-0x34+0x13a*0xd+0x242,this['_margin']=new re(-0x5*-0x269+0xe21+-0x1a2e,0xe03*0x1+-0x18a3+0xaa0,-(-0x2541+-0x23d6+0x4937),-(0x25b2+0x7aa+-0x2d3c)),this['_modelTran'+'sform']=new te(),this['_screenToW'+'orld']=new te(),this['_anchorTra'+'nsform']=new te(),this['_anchorDir'+'ty']=!(0x1058+-0x12db+0x283),this['_parentWor'+'ldTransfor'+'m']=new te(),this['_screenTra'+'nsform']=new te(),this['_screenCor'+'ners']=[new D(),new D(),new D(),new D()],this['_canvasCor'+'ners']=[new J(),new J(),new J(),new J()],this['_worldCorn'+'ers']=[new D(),new D(),new D(),new D()],this['_cornersDi'+'rty']=!(0x30d*-0x1+0x1b27+-0x181a),this['_canvasCor'+'nersDirty']=!(0x14b6+0x1*-0x2483+0xfcd),this['_worldCorn'+'ersDirty']=!(-0xd55*-0x2+-0x151b+-0x58f),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=eh,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=0xc6b*-0x3+0x4*0x8e6+0x5*0x55,this['_fitMode']=th,this['_useInput']=!(0x1ca+-0x866+-0x69d*-0x1),this['_layers']=[Il],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(0x17b*-0x12+0x11*0x1f5+-0x69e),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=0x2364+0x1cd2+-0x4036,this['_maskOffse'+'t']=-0xa*0x14b+-0x2159*-0x1+-0x1*0x146b+0.5,this['_maskedBy']=null);}get['data'](){const _0x29a701=this['system']['store'][this['entity']['getGuid']()];return _0x29a701?_0x29a701['data']:null;}set['enabled'](_0x123a1f){const _0x562399=this['data'],_0x1b37fa=_0x562399['enabled'];_0x562399['enabled']=_0x123a1f,this['fire']('set','enabled',_0x1b37fa,_0x123a1f);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>-0x44*0x3b+0x1*-0xa2d+0x19d9+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>0x1*-0x867+-0x2612+0x2e79+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0x3113ed){_0x3113ed instanceof re?this['_anchor']['copy'](_0x3113ed):this['_anchor']['set'](..._0x3113ed),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(-0x8*-0xa+-0x5a2*0x3+-0x1096*-0x1),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x4be7b9){var _0x4d91c1,_0x4f200b;this['_batchGrou'+'pId']!==_0x4be7b9&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x554*-0x1+-0xb73*0x3+0x17*0x143&&((_0x4d91c1=this['system']['app']['batcher'])==null||_0x4d91c1['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x4be7b9>=-0x72d*-0x3+-0x31*-0x16+0x19bd*-0x1&&((_0x4f200b=this['system']['app']['batcher'])==null||_0x4f200b['insert'](St['ELEMENT'],_0x4be7b9,this['entity'])),_0x4be7b9<0x1*-0x1f39+-0x4*-0x9b0+0x787*-0x1&&this['_batchGrou'+'pId']>=0x1*0x13d9+0x1*-0x19b1+0x5d8&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x4be7b9);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x261a51){this['_margin']['y']=_0x261a51;const _0x218e89=this['entity']['getLocalPo'+'sition'](),_0x3b12cd=this['_absTop'],_0x5e25f4=this['_localAnch'+'or']['y']+_0x261a51;this['_setHeight'](_0x3b12cd-_0x5e25f4),_0x218e89['y']=_0x261a51+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x218e89);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0x109df8){this['_setCalcul'+'atedWidth'](_0x109df8,!(-0xd1d+-0x1cec+0x2a09));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0xc35839){this['_setCalcul'+'atedHeight'](_0xc35839,!(-0x3*0x319+0x1329+-0x3*0x34a));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x341045=this['system']['app']['graphicsDe'+'vice'],_0x19d908=this['screenCorn'+'ers'],_0x19a158=_0x341045['canvas']['clientWidt'+'h']/_0x341045['width'],_0x385d47=_0x341045['canvas']['clientHeig'+'ht']/_0x341045['height'];for(let _0x369aa1=-0x260b+-0x1153+-0x26*-0x175;_0x369aa1<0x3c4*-0x4+-0xa6e+-0x1*-0x1982;_0x369aa1++)this['_canvasCor'+'ners'][_0x369aa1]['set'](_0x19d908[_0x369aa1]['x']*_0x19a158,(_0x341045['height']-_0x19d908[_0x369aa1]['y'])*_0x385d47);return this['_canvasCor'+'nersDirty']=!(-0x97*-0x34+0x2*0x1ba+0x221f*-0x1),this['_canvasCor'+'ners'];}set['drawOrder'](_0x50c1dd){let _0x3a432f=0x13*-0x1e1+0x6fa+0x1cb9;this['screen']&&(_0x3a432f=this['screen']['screen']['priority']),_0x50c1dd>0x160d*-0x8e6+-0x12b8472+-0x2efbc1f*-0x1&&(w['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x50c1dd=-0x1*0x5d8f5+-0x5*0x122aa4+0x160ae28),this['_drawOrder']=(_0x3a432f<<0x188*-0xa+-0xcde+0x1c46)+_0x50c1dd,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x365fc4){this['_height']=_0x365fc4,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x365fc4,!(0x1bf2+-0x4e9*0x1+-0x1709)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0xca8de){if(this['_addedMode'+'ls']['length'])for(let _0x14117e=-0xf7a+0x301+0xc79;_0x14117e<this['_layers']['length'];_0x14117e++){const _0x2cd0f4=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x14117e]);if(_0x2cd0f4){for(let _0x1c59ed=0x1633+0x17a7+-0x2dda;_0x1c59ed<this['_addedMode'+'ls']['length'];_0x1c59ed++)_0x2cd0f4['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x1c59ed]['meshInstan'+'ces']);}}if(this['_layers']=_0xca8de,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x1328e7=-0x5*-0xcb+-0x1622+0x122b;_0x1328e7<this['_layers']['length'];_0x1328e7++){const _0xeaf189=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x1328e7]);if(_0xeaf189){for(let _0x4e980f=0x1b85+0x80f*0x3+-0x3fa*0xd;_0x4e980f<this['_addedMode'+'ls']['length'];_0x4e980f++)_0xeaf189['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x4e980f]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x184776){this['_margin']['x']=_0x184776;const _0x22641b=this['entity']['getLocalPo'+'sition'](),_0x390ab2=this['_absRight'],_0x500b97=this['_localAnch'+'or']['x']+_0x184776;this['_setWidth'](_0x390ab2-_0x500b97),_0x22641b['x']=_0x184776+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x22641b);}get['left'](){return this['_margin']['x'];}set['margin'](_0x5af9b5){this['_margin']['copy'](_0x5af9b5),this['_calculate'+'Size'](!(0x1076+0x2*0xe4f+-0x2d14),!(-0x254e+0x20fb+0x1b*0x29)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x16480a){const {pivot:_0x43fedb,margin:_0x225f68}=this,_0x5418a9=_0x43fedb['x'],_0x5498bf=_0x43fedb['y'];_0x16480a instanceof J?_0x43fedb['copy'](_0x16480a):_0x43fedb['set'](..._0x16480a);const _0x59c077=_0x225f68['x']+_0x225f68['z'],_0x141877=_0x43fedb['x']-_0x5418a9;_0x225f68['x']+=_0x59c077*_0x141877,_0x225f68['z']-=_0x59c077*_0x141877;const _0x1f0009=_0x225f68['y']+_0x225f68['w'],_0x122508=_0x43fedb['y']-_0x5498bf;_0x225f68['y']+=_0x1f0009*_0x122508,_0x225f68['w']-=_0x1f0009*_0x122508,this['_anchorDir'+'ty']=!(-0x1*-0xda6+0x1345+-0x3*0xaf9),this['_cornersDi'+'rty']=!(0x1*0x23e7+-0x21a7+-0x8*0x48),this['_worldCorn'+'ersDirty']=!(-0x1*-0x7ed+-0x1*0x2a2+-0x5*0x10f),this['_calculate'+'Size'](!(0x1*-0x331+-0x1a5f+0x1d91),!(-0x1*0x1b29+-0xf41+-0x2a6b*-0x1)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x43fedb);}get['pivot'](){return this['_pivot'];}set['right'](_0x21c060){this['_margin']['z']=_0x21c060;const _0xfe6f4e=this['entity']['getLocalPo'+'sition'](),_0x4121fb=this['_absLeft'],_0x3d0ec7=this['_localAnch'+'or']['z']-_0x21c060;this['_setWidth'](_0x3d0ec7-_0x4121fb),_0xfe6f4e['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x21c060-this['_calculate'+'dWidth']*(0x1566+-0x3b*0x64+0x1a7*0x1-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0xfe6f4e);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x46f208=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][0x1*-0x5b+-0xc5*-0x27+-0x1da8];this['_screenCor'+'ners'][-0x1*-0x260a+0x53*0x65+-0x1*0x46c9]['set'](this['_absLeft'],this['_absBottom'],-0x1dc7+0x781*-0x3+0x344a),this['_screenCor'+'ners'][-0x1aec+-0x1*-0x9da+0x1*0x1113]['set'](this['_absRight'],this['_absBottom'],0x5*-0x1b6+-0x2*0x1e9+0xc60),this['_screenCor'+'ners'][-0x20c9+-0x1ebf+0x6*0xa97]['set'](this['_absRight'],this['_absTop'],-0xc69+0x13c0*-0x1+0x2029),this['_screenCor'+'ners'][-0x17f9+-0x583+0x9*0x347]['set'](this['_absLeft'],this['_absTop'],0xfa0+-0x265e+0x16be);const _0x4982c5=this['screen']['screen']['screenSpac'+'e'];for(let _0x35017c=-0x158e+0x1bcc+-0x63e;_0x35017c<0xeae+-0xb47*-0x3+-0x307f;_0x35017c++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x35017c],this['_screenCor'+'ners'][_0x35017c]),_0x4982c5&&this['_screenCor'+'ners'][_0x35017c]['mulScalar'](this['screen']['screen']['scale']),_0x46f208&&this['_screenCor'+'ners'][_0x35017c]['add'](_0x46f208);return this['_cornersDi'+'rty']=!(-0x7*0x355+-0x1*0x77b+0x3*0xa45),this['_canvasCor'+'nersDirty']=!(-0xed2*0x2+-0x1a01+-0xb21*-0x5),this['_worldCorn'+'ersDirty']=!(-0x1091+-0x295+-0x56*-0x39),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:0x1fe9+-0x1*0x116+-0x1ed3;}get['textHeight'](){return this['_text']?this['_text']['height']:0x8*-0x76+-0x6d*0x21+0x13*0xef;}set['top'](_0x4433c7){this['_margin']['w']=_0x4433c7;const _0x460fe9=this['entity']['getLocalPo'+'sition'](),_0xe2983e=this['_absBottom'],_0x2bb594=this['_localAnch'+'or']['w']-_0x4433c7;this['_setHeight'](_0x2bb594-_0xe2983e),_0x460fe9['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x4433c7-this['_calculate'+'dHeight']*(-0x4e1*-0x1+0x8b1*-0x3+0x1533-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x460fe9);}get['top'](){return this['_margin']['w'];}set['type'](_0x2191eb){_0x2191eb!==this['_type']&&(this['_type']=_0x2191eb,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0x2191eb===Cu?this['_image']=new cR(this):_0x2191eb===jv&&(this['_text']=new PR(this)));}get['type'](){return this['_type'];}set['useInput'](_0x211d97){this['_useInput']!==_0x211d97&&(this['_useInput']=_0x211d97,this['system']['app']['elementInp'+'ut']?_0x211d97?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(0x20bd+0x2456+-0x4513*0x1)&&w['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0x211d97));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0x25b060){this['_fitMode']=_0x25b060,this['_calculate'+'Size'](!(-0x1e29+0x7bf+-0xb35*-0x2),!(0x6a*-0x4a+-0x151*0xa+-0x321*-0xe)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x542b88){this['_width']=_0x542b88,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x542b88,!(-0xf82+0xf01+0x2b*0x3)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x1778de=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){ws['copy'](this['screen']['screen']['_screenMat'+'rix']),ws['data'][0x14a1+0xe74+-0x2308]=-ws['data'][-0x193+0x173*0x17+-0x1fb5],ws['mul2'](this['screen']['getWorldTr'+'ansform'](),ws);for(let _0x42a50a=0xf9*0x21+0x21b4+-0xd29*0x5;_0x42a50a<0x23+0x2a1*0x8+-0x1527;_0x42a50a++)ws['transformP'+'oint'](_0x1778de[_0x42a50a],this['_worldCorn'+'ers'][_0x42a50a]);}}else{const _0x164ede=this['entity']['getLocalPo'+'sition']();ws['setTransla'+'te'](-_0x164ede['x'],-_0x164ede['y'],-_0x164ede['z']),bc['setTRS'](D['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0x164ede['x'],_0x164ede['y'],_0x164ede['z']);const _0x3a9eec=this['entity']['parent']?this['entity']['parent']:this['entity'];$a['copy'](_0x3a9eec['getWorldTr'+'ansform']()),$a['mul'](Ac)['mul'](bc)['mul'](ws),Pi['set'](_0x164ede['x']-this['pivot']['x']*this['calculated'+'Width'],_0x164ede['y']-this['pivot']['y']*this['calculated'+'Height'],_0x164ede['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0x1*-0x1338+-0x13fd+0x2735*0x1]),Pi['set'](_0x164ede['x']+(0x5ec*0x4+0x43*-0x47+-0x51a*0x1-this['pivot']['x'])*this['calculated'+'Width'],_0x164ede['y']-this['pivot']['y']*this['calculated'+'Height'],_0x164ede['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0x1aae+0x1477+0x638]),Pi['set'](_0x164ede['x']+(-0x20+-0x125*-0x1f+-0x2*0x11ad-this['pivot']['x'])*this['calculated'+'Width'],_0x164ede['y']+(0x93*-0x1d+-0x791*0x2+0x2*0xfe5-this['pivot']['y'])*this['calculated'+'Height'],_0x164ede['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0x127b+0x19a+0x10e3]),Pi['set'](_0x164ede['x']-this['pivot']['x']*this['calculated'+'Width'],_0x164ede['y']+(0x1*-0x42f+0x1c2a+-0xba*0x21-this['pivot']['y'])*this['calculated'+'Height'],_0x164ede['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0xc8+0x3f5*0x3+-0xb14]);}return this['_worldCorn'+'ersDirty']=!(0x20*-0x76+0xc29*-0x2+0x1*0x2713),this['_worldCorn'+'ers'];}set['fontSize'](_0x55fab6){this['_setValue']('fontSize',_0x55fab6);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x1b2da5){this['_setValue']('minFontSiz'+'e',_0x1b2da5);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x1c32d8){this['_setValue']('maxFontSiz'+'e',_0x1c32d8);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x29c9b1){this['_setValue']('maxLines',_0x29c9b1);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x5dffd7){this['_setValue']('autoFitWid'+'th',_0x5dffd7);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x1444ff){this['_setValue']('autoFitHei'+'ght',_0x1444ff);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0xf423b4){this['_setValue']('color',_0xf423b4);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x109eae){this['_setValue']('font',_0x109eae);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x175192){this['_setValue']('fontAsset',_0x175192);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x3313f2){this['_setValue']('spacing',_0x3313f2);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x320ae8){this['_setValue']('lineHeight',_0x320ae8);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x2d7abc){this['_setValue']('wrapLines',_0x2d7abc);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x1861b8){this['_setValue']('lines',_0x1861b8);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x4570bf){this['_setValue']('alignment',_0x4570bf);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x2485d1){this['_setValue']('autoWidth',_0x2485d1);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0xd0741a){this['_setValue']('autoHeight',_0xd0741a);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0x528606){this['_setValue']('rtlReorder',_0x528606);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x5ce81f){this['_setValue']('unicodeCon'+'verter',_0x5ce81f);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x151978){this['_setValue']('text',_0x151978);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x6617a7){this['_setValue']('key',_0x6617a7);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0xd498eb){this['_setValue']('texture',_0xd498eb);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x523023){this['_setValue']('textureAss'+'et',_0x523023);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x2fe33a){this['_setValue']('material',_0x2fe33a);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x995cda){this['_setValue']('materialAs'+'set',_0x995cda);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x51abe9){this['_setValue']('sprite',_0x51abe9);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x310fda){this['_setValue']('spriteAsse'+'t',_0x310fda);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x572342){this['_setValue']('spriteFram'+'e',_0x572342);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0x33b1e7){this['_setValue']('pixelsPerU'+'nit',_0x33b1e7);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0xaf98f7){this['_setValue']('opacity',_0xaf98f7);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x4aa904){this['_setValue']('rect',_0x4aa904);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x5523cd){this['_setValue']('mask',_0x5523cd);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x59443b){this['_setValue']('outlineCol'+'or',_0x59443b);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x11e494){this['_setValue']('outlineThi'+'ckness',_0x11e494);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x2be8b4){this['_setValue']('shadowColo'+'r',_0x2be8b4);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x483e60){this['_setValue']('shadowOffs'+'et',_0x483e60);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x4864b2){this['_setValue']('enableMark'+'up',_0x4864b2);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x82c203){this['_setValue']('rangeStart',_0x82c203);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x2f3d85){this['_setValue']('rangeEnd',_0x2f3d85);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x5927e9,_0x4cf045){this['_text']?(this['_text'][_0x5927e9]!==_0x4cf045&&this['_dirtyBatc'+'h'](),this['_text'][_0x5927e9]=_0x4cf045):this['_image']&&(this['_image'][_0x5927e9]!==_0x4cf045&&this['_dirtyBatc'+'h'](),this['_image'][_0x5927e9]=_0x4cf045);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=lt['prototype']['_sync'],this['entity']['setPositio'+'n']=lt['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=lt['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0x2e1315,_0x39c05a,_0x21e6be){if(!this['element']['screen']){lt['prototype']['setPositio'+'n']['call'](this,_0x2e1315,_0x39c05a,_0x21e6be);return;}_0x2e1315 instanceof D?Ef['copy'](_0x2e1315):Ef['set'](_0x2e1315,_0x39c05a,_0x21e6be),this['getWorldTr'+'ansform'](),Zg['copy'](this['element']['_screenToW'+'orld'])['invert'](),Zg['transformP'+'oint'](Ef,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x5caded,_0x5a0999,_0x68f0ea){_0x5caded instanceof D?this['localPosit'+'ion']['copy'](_0x5caded):this['localPosit'+'ion']['set'](_0x5caded,_0x5a0999,_0x68f0ea);const _0x32a719=this['element'],_0x6e9181=this['localPosit'+'ion'],_0x12bb44=_0x32a719['_pivot'];_0x32a719['_margin']['x']=_0x6e9181['x']-_0x32a719['_calculate'+'dWidth']*_0x12bb44['x'],_0x32a719['_margin']['z']=_0x32a719['_localAnch'+'or']['z']-_0x32a719['_localAnch'+'or']['x']-_0x32a719['_calculate'+'dWidth']-_0x32a719['_margin']['x'],_0x32a719['_margin']['y']=_0x6e9181['y']-_0x32a719['_calculate'+'dHeight']*_0x12bb44['y'],_0x32a719['_margin']['w']=_0x32a719['_localAnch'+'or']['w']-_0x32a719['_localAnch'+'or']['y']-_0x32a719['_calculate'+'dHeight']-_0x32a719['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x5edffe=this['element'],_0x24d4c7=_0x5edffe['screen'];if(_0x24d4c7){if(_0x5edffe['_anchorDir'+'ty']){let _0x6fcbf2=-0x268d+0x2fa+-0x515*-0x7,_0x4568de=0x136d+-0x12d9+-0x94,_0x180157=0x2375+0x132d+-0x36a2,_0x9721fe=0x1425+-0x167c+0x258;if(this['_parent']&&this['_parent']['element'])_0x6fcbf2=this['_parent']['element']['calculated'+'Width'],_0x4568de=this['_parent']['element']['calculated'+'Height'],_0x180157=this['_parent']['element']['pivot']['x'],_0x9721fe=this['_parent']['element']['pivot']['y'];else{const _0x3701a5=_0x24d4c7['screen']['resolution'];_0x6fcbf2=_0x3701a5['x']/_0x24d4c7['screen']['scale'],_0x4568de=_0x3701a5['y']/_0x24d4c7['screen']['scale'];}_0x5edffe['_anchorTra'+'nsform']['setTransla'+'te'](_0x6fcbf2*(_0x5edffe['anchor']['x']-_0x180157),-(_0x4568de*(_0x9721fe-_0x5edffe['anchor']['y'])),0x1*0x3c5+0x1*-0x1917+0x1*0x1552),_0x5edffe['_anchorDir'+'ty']=!(0x73f+-0x205e+0x1920),_0x5edffe['_calculate'+'LocalAncho'+'rs']();}_0x5edffe['_sizeDirty']&&_0x5edffe['_calculate'+'Size'](!(-0x743+0x5*0xd3+0x325),!(-0x174*0x8+0x25c+-0x1*-0x945));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x1e5d6d=this['localPosit'+'ion'],_0x24cf94=_0x5edffe['_pivot'];_0x5edffe['_margin']['x']=_0x1e5d6d['x']-_0x5edffe['_calculate'+'dWidth']*_0x24cf94['x'],_0x5edffe['_margin']['z']=_0x5edffe['_localAnch'+'or']['z']-_0x5edffe['_localAnch'+'or']['x']-_0x5edffe['_calculate'+'dWidth']-_0x5edffe['_margin']['x'],_0x5edffe['_margin']['y']=_0x1e5d6d['y']-_0x5edffe['_calculate'+'dHeight']*_0x24cf94['y'],_0x5edffe['_margin']['w']=_0x5edffe['_localAnch'+'or']['w']-_0x5edffe['_localAnch'+'or']['y']-_0x5edffe['_calculate'+'dHeight']-_0x5edffe['_margin']['y'],this['_dirtyLoca'+'l']=!(0x1c73+-0xdd*-0x27+-0x3e1d);}if(!_0x24d4c7){this['_dirtyWorl'+'d']&&(_0x5edffe['_cornersDi'+'rty']=!(0xc75+-0xf49*0x2+-0x121d*-0x1),_0x5edffe['_canvasCor'+'nersDirty']=!(0x102d+0x26f+-0x129c*0x1),_0x5edffe['_worldCorn'+'ersDirty']=!(-0x1ea6+-0x3*0x913+0x39df)),lt['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x5edffe['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x5edffe['_anchorTra'+'nsform']):_0x5edffe['_screenToW'+'orld']['copy'](_0x5edffe['_anchorTra'+'nsform']),_0x5edffe['_modelTran'+'sform']['mul2'](_0x5edffe['_screenToW'+'orld'],this['localTrans'+'form']),_0x24d4c7){_0x5edffe['_screenToW'+'orld']['mul2'](_0x24d4c7['screen']['_screenMat'+'rix'],_0x5edffe['_screenToW'+'orld']),_0x24d4c7['screen']['screenSpac'+'e']||_0x5edffe['_screenToW'+'orld']['mul2'](_0x24d4c7['worldTrans'+'form'],_0x5edffe['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x5edffe['_screenToW'+'orld'],this['localTrans'+'form']);const _0xdfe5fd=_0x5edffe['_parentWor'+'ldTransfor'+'m'];_0xdfe5fd['setIdentit'+'y']();const _0x51a220=this['_parent'];_0x51a220&&_0x51a220['element']&&_0x51a220!==_0x24d4c7&&(ws['setTRS'](D['ZERO'],_0x51a220['getLocalRo'+'tation'](),_0x51a220['getLocalSc'+'ale']()),_0xdfe5fd['mul2'](_0x51a220['element']['_parentWor'+'ldTransfor'+'m'],ws));const _0x371e98=Pi;_0x371e98['set'](0x1*-0x138b+-0xcf1*-0x1+0x69a,-0x140d+-0x1cf+0x2*0xaee,this['localPosit'+'ion']['z']);const _0x2e8566=MR;_0x2e8566['set'](_0x5edffe['_absLeft']+_0x5edffe['_pivot']['x']*_0x5edffe['calculated'+'Width'],_0x5edffe['_absBottom']+_0x5edffe['_pivot']['y']*_0x5edffe['calculated'+'Height'],0xb99+-0x6c4*-0x2+0x7*-0x397),ws['setTransla'+'te'](-_0x2e8566['x'],-_0x2e8566['y'],-_0x2e8566['z']),bc['setTRS'](_0x371e98,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0x2e8566['x'],_0x2e8566['y'],_0x2e8566['z']),_0x5edffe['_screenTra'+'nsform']['mul2'](_0x5edffe['_parentWor'+'ldTransfor'+'m'],Ac)['mul'](bc)['mul'](ws),_0x5edffe['_cornersDi'+'rty']=!(-0xd21+0x1c6d*-0x1+-0x24f*-0x12),_0x5edffe['_canvasCor'+'nersDirty']=!(-0x608+-0x425*0x7+0x1*0x230b),_0x5edffe['_worldCorn'+'ersDirty']=!(0x2c*0xb0+-0x2*0x38c+-0x1728);}else this['worldTrans'+'form']['copy'](_0x5edffe['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(0x2561+0x4c*0x56+-0x3ee8);}}['_onInsert'](_0x385cdf){const _0x541ac0=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x541ac0['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x17c7e5=this['entity'];for(;_0x17c7e5;){const _0x5f3446=_0x17c7e5['parent'];if((_0x5f3446===null||_0x5f3446['screen'])&&_0x17c7e5['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),w['trace'](Vs,'register\x20p'+'rerender'));const _0x59400c=this['system']['_prerender']['indexOf'](this['entity']);_0x59400c>=-0x1*-0x52f+-0x51b*-0x2+0xf65*-0x1&&this['system']['_prerender']['splice'](_0x59400c,-0xa10*0x2+0x646+0xddb),this['system']['_prerender']['indexOf'](_0x17c7e5)<-0x14f8+0x4d2*0x8+0x1198*-0x1&&this['system']['_prerender']['push'](_0x17c7e5),w['trace'](Vs,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x17c7e5['name']);}_0x17c7e5=_0x5f3446;}}['_onPrerend'+'er'](){for(let _0x4ee06a=0x1359*0x1+-0x12c4*0x1+-0x95;_0x4ee06a<this['system']['_prerender']['length'];_0x4ee06a++){const _0x163bdf=this['system']['_prerender'][_0x4ee06a];w['trace'](Vs,'prerender\x20'+'from:\x20'+_0x163bdf['name']),_0x163bdf['element']&&_0x163bdf['element']['syncMask'](-0xc54+0x90*0x44+-0x19eb);}this['system']['_prerender']['length']=0xada*-0x2+-0x1d04+-0x6*-0x874;}['_bindScree'+'n'](_0x2358e6){_0x2358e6['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x556d2b){_0x556d2b['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x122738){this['screen']&&this['screen']!==_0x122738&&this['_unbindScr'+'een'](this['screen']['screen']);const _0xd1a40=this['screen'];this['screen']=_0x122738,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0xd1a40),this['_anchorDir'+'ty']=!(-0x4f3*0x6+-0x2440+-0x2*-0x20f9);const _0x35af8a=this['entity']['children'];for(let _0x273888=0x36*0x2d+-0x10*-0x242+-0x2d9e,_0x31eaa4=_0x35af8a['length'];_0x273888<_0x31eaa4;_0x273888++)_0x35af8a[_0x273888]['element']&&_0x35af8a[_0x273888]['element']['_updateScr'+'een'](_0x122738);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x49bd96){const _0x25ced2=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x25ced2['mask'],_0x49bd96);}['_setMasked'+'By'](_0x2e9a9e){const _0x267eb1=this['_image']||this['_text'];if(_0x2e9a9e){const _0x35bf9b=_0x2e9a9e['element']['_image']['_maskRef'];w['trace'](Vs,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x35bf9b),_0x267eb1==null||_0x267eb1['_setStenci'+'l'](new pi({'ref':_0x35bf9b,'func':dh})),this['_maskedBy']=_0x2e9a9e;}else w['trace'](Vs,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x267eb1==null||_0x267eb1['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x21a1db,_0x30a495){var _0x37abd0,_0xe96527;if(_0x21a1db){if(this['_setMasked'+'By'](_0x21a1db),this['mask']){const _0x3d3dca=_0x21a1db['element']['_image']['_maskRef'],_0x332d70=new pi({'ref':_0x3d3dca,'func':dh,'zpass':Ux});this['_image']['_setStenci'+'l'](_0x332d70),this['_image']['_maskRef']=_0x30a495,_0x30a495++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x332d70['ref']+(-0x167*-0x17+0x2092+-0x40d2))),w['trace'](Vs,'depth++\x20to'+':\x20',_0x30a495),_0x21a1db=this['entity'];}const _0x44f934=this['entity']['children'];for(let _0xe4c5cd=0x1691+0x1*0x2653+-0x3ce4,_0x248fe1=_0x44f934['length'];_0xe4c5cd<_0x248fe1;_0xe4c5cd++)(_0x37abd0=_0x44f934[_0xe4c5cd]['element'])==null||_0x37abd0['_updateMas'+'k'](_0x21a1db,_0x30a495);this['mask']&&_0x30a495--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x45a0b5=new pi({'ref':_0x30a495,'func':Wi,'zpass':kx});this['_image']['_setStenci'+'l'](_0x45a0b5),this['_image']['_maskRef']=_0x30a495,_0x30a495++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x45a0b5['ref']),w['trace'](Vs,'depth++\x20to'+':\x20',_0x30a495),_0x21a1db=this['entity'];}const _0x45445b=this['entity']['children'];for(let _0x3eaa7d=0x1da7*0x1+-0xab1+-0x12f6,_0x59f3c2=_0x45445b['length'];_0x3eaa7d<_0x59f3c2;_0x3eaa7d++)(_0xe96527=_0x45445b[_0x3eaa7d]['element'])==null||_0xe96527['_updateMas'+'k'](_0x21a1db,_0x30a495);this['mask']&&_0x30a495--;}}['_parseUpTo'+'Screen'](){const _0xa72bc7={'screen':null,'mask':null};let _0x19384c=this['entity']['_parent'];for(;_0x19384c&&!_0x19384c['screen'];)_0x19384c['element']&&_0x19384c['element']['mask']&&(_0xa72bc7['mask']||(_0xa72bc7['mask']=_0x19384c)),_0x19384c=_0x19384c['parent'];return _0x19384c&&_0x19384c['screen']&&(_0xa72bc7['screen']=_0x19384c),_0xa72bc7;}['_onScreenR'+'esize'](_0x2bd2c0){this['_anchorDir'+'ty']=!(0x7c*0x4+-0x2*-0x1163+-0x24b6),this['_cornersDi'+'rty']=!(0x1*0x48+0x1eea*-0x1+0x2*0xf51),this['_worldCorn'+'ersDirty']=!(0x1d27+0xc37+-0x295e),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x2bd2c0);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x2022db=0x860+-0x14fc+0x842*0x2,_0x1c0d1b=-0x52f+-0x1032+0x1949;const _0x388b48=this['entity']['_parent'];if(_0x388b48&&_0x388b48['element'])_0x2022db=_0x388b48['element']['calculated'+'Width'],_0x1c0d1b=_0x388b48['element']['calculated'+'Height'];else{if(this['screen']){const _0x3c8aa5=this['screen']['screen']['resolution'],_0x1ac011=this['screen']['screen']['scale'];_0x2022db=_0x3c8aa5['x']/_0x1ac011,_0x1c0d1b=_0x3c8aa5['y']/_0x1ac011;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x2022db,this['_anchor']['y']*_0x1c0d1b,this['_anchor']['z']*_0x2022db,this['_anchor']['w']*_0x1c0d1b);}['getOffsetP'+'osition'](_0x1ba0d0,_0x5ce031){const _0x86047f=this['entity']['getLocalPo'+'sition']()['clone']();return _0x86047f['x']+=_0x1ba0d0,_0x86047f['y']+=_0x5ce031,this['_screenToW'+'orld']['transformP'+'oint'](_0x86047f,_0x86047f),_0x86047f;}['onLayersCh'+'anged'](_0xcbef77,_0x4732ac){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0xcbef77['off']('add',this['onLayerAdd'+'ed'],this),_0xcbef77['off']('remove',this['onLayerRem'+'oved'],this),_0x4732ac['on']('add',this['onLayerAdd'+'ed'],this),_0x4732ac['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x5c5e82){this['layers']['indexOf'](_0x5c5e82['id'])<-0x1544+0x174b+-0x207*0x1||(this['_image']?_0x5c5e82['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x5c5e82['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x529d50){this['layers']['indexOf'](_0x529d50['id'])<-0x2302+0x21e6*0x1+-0x8e*-0x2||(this['_image']?_0x529d50['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x529d50['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x2ea321;const _0x46530a=this['system']['app']['scene'],_0x4d9923=_0x46530a['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x46530a['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4d9923&&(this['_evtLayerA'+'dded']=_0x4d9923['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x4d9923['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=-0x1*0x315+-0x1df0+0x2105&&((_0x2ea321=this['system']['app']['batcher'])==null||_0x2ea321['insert'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x36a131,_0xe79748,_0x3e9340,_0x111c91;const _0x144f3a=this['system']['app']['scene']['layers'];(_0x36a131=this['_evtLayers'+'Changed'])==null||_0x36a131['off'](),this['_evtLayers'+'Changed']=null,_0x144f3a&&((_0xe79748=this['_evtLayerA'+'dded'])==null||_0xe79748['off'](),this['_evtLayerA'+'dded']=null,(_0x3e9340=this['_evtLayerR'+'emoved'])==null||_0x3e9340['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=-0x14ec+0x2*-0xd2d+0xfc2*0x3&&((_0x111c91=this['system']['app']['batcher'])==null||_0x111c91['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x7196b4,_0x434d80){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x4b85da=this['_absRight']-this['_absLeft'],_0x111f6f=this['_absTop']-this['_absBottom'];_0x7196b4?this['_setWidth'](_0x4b85da):this['_setCalcul'+'atedWidth'](_0x4b85da,!(-0xdb*-0x13+-0x1*-0x82d+-0x186d)),_0x434d80?this['_setHeight'](_0x111f6f):this['_setCalcul'+'atedHeight'](_0x111f6f,!(-0xaa7+-0x24bd+0x1*0x2f65));const _0x5bc705=this['entity']['getLocalPo'+'sition']();_0x5bc705['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x5bc705['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x5bc705),this['_sizeDirty']=!(-0x2*-0x8d2+0x3*-0x215+-0xb64);}['_setWidth'](_0x3654c2){this['_width']=_0x3654c2,this['_setCalcul'+'atedWidth'](_0x3654c2,!(-0x1d7*-0x5+0x1ff2+-0x1492*0x2)),this['fire']('set:width',this['_width']);}['_setHeight'](_0xa6c118){this['_height']=_0xa6c118,this['_setCalcul'+'atedHeight'](_0xa6c118,!(-0x1*0x254d+0x25d4+-0x86)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x3e5069,_0x4b2697){if(!(Math['abs'](_0x3e5069-this['_calculate'+'dWidth'])<=-0x1143+0x22c7+-0x1184+0.0001)){if(this['_calculate'+'dWidth']=_0x3e5069,this['entity']['_dirtifyLo'+'cal'](),_0x4b2697){const _0x47151a=this['entity']['getLocalPo'+'sition'](),_0x3dfb3a=this['_pivot'];this['_margin']['x']=_0x47151a['x']-this['_calculate'+'dWidth']*_0x3dfb3a['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x34319b,_0x5b96d8){if(!(Math['abs'](_0x34319b-this['_calculate'+'dHeight'])<=-0xb*0x12f+0x16f9*-0x1+0x23fe+0.0001)){if(this['_calculate'+'dHeight']=_0x34319b,this['entity']['_dirtifyLo'+'cal'](),_0x5b96d8){const _0x3faa1b=this['entity']['getLocalPo'+'sition'](),_0x468cb2=this['_pivot'];this['_margin']['y']=_0x3faa1b['y']-this['_calculate'+'dHeight']*_0x468cb2['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0xf38ff2=this['entity']['_children'];for(let _0x129713=-0x1337+0x17d*-0x3+-0x362*-0x7,_0x521daa=_0xf38ff2['length'];_0x129713<_0x521daa;_0x129713++)_0xf38ff2[_0x129713]['element']&&(_0xf38ff2[_0x129713]['element']['_anchorDir'+'ty']=!(0x2*0x703+-0xd05+-0x1*0x101),_0xf38ff2[_0x129713]['element']['_sizeDirty']=!(0x1f05*-0x1+-0x6*-0x603+-0x50d));}['addModelTo'+'Layers'](_0x2c6d35){this['_addedMode'+'ls']['push'](_0x2c6d35);for(let _0x51b76a=-0x3c+0x1052*0x1+-0x2*0x80b;_0x51b76a<this['layers']['length'];_0x51b76a++){const _0xa1a458=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x51b76a]);_0xa1a458&&_0xa1a458['addMeshIns'+'tances'](_0x2c6d35['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x3962c9){const _0x5cb199=this['_addedMode'+'ls']['indexOf'](_0x3962c9);_0x5cb199>=-0x12cb+0x138b*0x1+0x60*-0x2&&this['_addedMode'+'ls']['splice'](_0x5cb199,0x1*0x1899+0x1d72+-0x360a*0x1);for(let _0x172347=-0x25*-0x3e+0x43*0x5a+-0x2084;_0x172347<this['layers']['length'];_0x172347++){const _0x502170=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x172347]);_0x502170&&_0x502170['removeMesh'+'Instances'](_0x3962c9['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x4c78d9=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x4c78d9&&(this['_maskOffse'+'t']=0x1*-0xd03+0x7a5*0x3+-0x4f6*0x2+0.5,this['_offsetRea'+'dAt']=_0x4c78d9);const _0x12efa9=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=-0xaf2+-0x311+0xe03+0.001,_0x12efa9;}['isVisibleF'+'orCamera'](_0x29df1b){let _0x2fac76,_0x2da533,_0x2cc5e1,_0x29919e;if(this['maskedBy']){const _0x87b9e=this['maskedBy']['element']['screenCorn'+'ers'];_0x2fac76=Math['min'](Math['min'](_0x87b9e[-0xbfa+-0x1*-0x68a+0xc*0x74]['x'],_0x87b9e[-0xf1e+-0x1f22+0x2e41]['x']),Math['min'](_0x87b9e[0x25c+0x97*-0x7+0x1c7]['x'],_0x87b9e[-0x1e66+0xe6*0x21+0xc3]['x'])),_0x2da533=Math['max'](Math['max'](_0x87b9e[-0x81c+-0x110+-0x24b*-0x4]['x'],_0x87b9e[-0x2527+-0xa78+0x2fa0]['x']),Math['max'](_0x87b9e[-0x2*-0x105d+0x242b+-0x44e3]['x'],_0x87b9e[0xb*0xe6+0x1*0x432+-0xe11]['x'])),_0x29919e=Math['min'](Math['min'](_0x87b9e[0x26c5+-0xd3b+-0x7*0x3a6]['y'],_0x87b9e[0xf*-0x24+0x3c+0xd*0x25]['y']),Math['min'](_0x87b9e[-0x1602+-0x5*0x246+-0x10b1*-0x2]['y'],_0x87b9e[-0x10e7+-0x19*-0xba+0x4*-0x50]['y'])),_0x2cc5e1=Math['max'](Math['max'](_0x87b9e[0x1*-0x1309+-0x2bf+0xa4*0x22]['y'],_0x87b9e[-0x49*-0x3+-0x1*0x1f1d+0x1e43]['y']),Math['max'](_0x87b9e[0x34b*-0x2+-0x47c+0xb14]['y'],_0x87b9e[0x2*-0x131d+0xfa3*0x1+0x169a]['y']));}else{const _0x542a72=this['system']['app']['graphicsDe'+'vice']['width'],_0x1c3707=this['system']['app']['graphicsDe'+'vice']['height'],_0x25df16=_0x29df1b['_rect']['z']*_0x542a72,_0x34e106=_0x29df1b['_rect']['w']*_0x1c3707;_0x2fac76=_0x29df1b['_rect']['x']*_0x542a72,_0x2da533=_0x2fac76+_0x25df16,_0x2cc5e1=(-0x1701+-0x2*0xe73+0xb*0x4b8-_0x29df1b['_rect']['y'])*_0x1c3707,_0x29919e=_0x2cc5e1-_0x34e106;}const _0xc55a55=this['screenCorn'+'ers'],_0x4deb90=Math['min'](Math['min'](_0xc55a55[0x1cd3*-0x1+0xc31+0x10a2]['x'],_0xc55a55[-0xa7d*-0x1+0x1871+-0x22ed*0x1]['x']),Math['min'](_0xc55a55[-0x1*0x1a+0x1195+-0x1179]['x'],_0xc55a55[-0x48f*-0x6+-0x6*0xa2+-0x178b]['x'])),_0xd0e452=Math['max'](Math['max'](_0xc55a55[-0x7d*0xe+-0x644+-0x102*-0xd]['x'],_0xc55a55[0x23b*-0x1+-0x1681+0x18bd*0x1]['x']),Math['max'](_0xc55a55[0x2086+-0x13c+-0x1f48]['x'],_0xc55a55[0x691+-0x2488+-0x2*-0xefd]['x'])),_0x3fddbc=Math['min'](Math['min'](_0xc55a55[-0x2232+-0x1c1f+-0x1*-0x3e51]['y'],_0xc55a55[0x104b+0x1a71+-0x2abb*0x1]['y']),Math['min'](_0xc55a55[0x1e8b+0x51f+-0x23a8]['y'],_0xc55a55[0x1b83*0x1+0x3cd+-0x1f4d]['y'])),_0x336144=Math['max'](Math['max'](_0xc55a55[0x21e5+-0x2*0x1ac+-0x1e8d]['y'],_0xc55a55[-0x1*-0x2509+-0x176d+-0xd9b]['y']),Math['max'](_0xc55a55[0x141d+-0xcf7*0x2+0x5d3]['y'],_0xc55a55[-0xcdc+-0x26e5+0x33c4]['y']));return!(_0xd0e452<_0x2fac76||_0x4deb90>_0x2da533||_0x3fddbc>_0x2cc5e1||_0x336144<_0x29919e);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(-0xf81+-0x18d4+-0x2856*-0x1);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(0x1*0xb0f+0x5*0xca+-0xf00);}['_dirtyBatc'+'h'](){var _0x1ce110;this['batchGroup'+'Id']!==-(-0x33c*0x6+-0x73f+0x1aa8)&&((_0x1ce110=this['system']['app']['batcher'])==null||_0x1ce110['markGroupD'+'irty'](this['batchGroup'+'Id']));}}h(hs,'EVENT_MOUS'+'EDOWN','mousedown'),h(hs,'EVENT_MOUS'+'EUP','mouseup'),h(hs,'EVENT_MOUS'+'EENTER','mouseenter'),h(hs,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(hs,'EVENT_MOUS'+'EMOVE','mousemove'),h(hs,'EVENT_MOUS'+'EWHEEL','mousewheel'),h(hs,'EVENT_CLIC'+'K','click'),h(hs,'EVENT_TOUC'+'HSTART','touchstart'),h(hs,'EVENT_TOUC'+'HEND','touchend'),h(hs,'EVENT_TOUC'+'HMOVE','touchmove'),h(hs,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class DR{constructor(){this['enabled']=!(-0x2318+0x2178+-0x68*-0x4);}}const IR=['enabled'];class LR extends ct{constructor(_0x37ced8){super(_0x37ced8),this['id']='element',this['ComponentT'+'ype']=hs,this['DataType']=DR,this['schema']=IR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new _e(_0x37ced8['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'element-sy'+'stem'});const _0x45602c=this['_defaultTe'+'xture']['lock'](),_0x530952=new Uint8Array(-0x3*-0x8e+0x1100+-0x12a6);_0x530952[0x2018+0x17a1+0x2d*-0x13d]=0xcaa+-0x71*-0xe+0x11d9*-0x1,_0x530952[-0x19fa+-0x7c*-0x41+0x581*-0x1]=-0x5cf*-0x3+-0xaa*-0x10+0x1b0e*-0x1,_0x530952[0xe*0x280+0xc61+-0x2f5f]=0x38e*-0xa+0x58c+0x1eff,_0x530952[-0x1aa1+-0x1723+0x31c7]=0x100b+0xbef*0x1+-0x1afb,_0x45602c['set'](_0x530952),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x5507f5,_0xa8caed,_0x3a4812){_0x5507f5['_beingInit'+'ialized']=!(-0x51a+0x339+0xd*0x25),_0xa8caed['anchor']!==void(-0x1908+-0x8dd*-0x3+-0x3*0x85)&&(_0xa8caed['anchor']instanceof re?_0x5507f5['anchor']['copy'](_0xa8caed['anchor']):_0x5507f5['anchor']['set'](_0xa8caed['anchor'][0x6*0x600+-0x1*-0x141+0x3*-0xc6b],_0xa8caed['anchor'][-0x1af*0x14+-0x60*0x11+0x280d],_0xa8caed['anchor'][-0x17*-0xc9+-0x1*-0xfaf+-0x22*0xfe],_0xa8caed['anchor'][-0x306+-0x1b9d+0x1ea6])),_0xa8caed['pivot']!==void(-0x2*-0xbab+0x1321+-0x2a77)&&(_0xa8caed['pivot']instanceof J?_0x5507f5['pivot']['copy'](_0xa8caed['pivot']):_0x5507f5['pivot']['set'](_0xa8caed['pivot'][0x1*0x967+0x19d*-0x5+-0x156],_0xa8caed['pivot'][-0x13*-0xe4+-0x2030+0xf45]));const _0x3bce56=Math['abs'](_0x5507f5['anchor']['x']-_0x5507f5['anchor']['z'])>0x168e+-0xf3a*-0x1+0xba*-0x34+0.001,_0x449c55=Math['abs'](_0x5507f5['anchor']['y']-_0x5507f5['anchor']['w'])>-0x6*-0x125+-0x35*0x10+-0x38e+0.001;let _0x578075=!(-0x2043+-0x3c7*0x7+0x71*0x85),_0xaa0d59;_0xa8caed['margin']!==void(-0x1660+-0x1dee+0x344e)&&(_0xa8caed['margin']instanceof re?_0x5507f5['margin']['copy'](_0xa8caed['margin']):_0x5507f5['_margin']['set'](_0xa8caed['margin'][0x20fa+0x250e*-0x1+0x2*0x20a],_0xa8caed['margin'][-0x15f4+-0xd*-0x2dd+0xf44*-0x1],_0xa8caed['margin'][0x1ac*0x11+0x4a*0x6+-0x22*0xe3],_0xa8caed['margin'][-0x1232+0xe33*-0x1+-0x3d*-0x88]),_0x578075=!(-0x84b*-0x1+0x4*-0x79d+-0x1*-0x1629)),_0xa8caed['left']!==void(0x1e32+0xfac*-0x1+0x1*-0xe86)&&(_0x5507f5['_margin']['x']=_0xa8caed['left'],_0x578075=!(0x9*0xe3+-0x47*-0x3b+0x98*-0x29)),_0xa8caed['bottom']!==void(0x14d0+-0x14ab+-0x25)&&(_0x5507f5['_margin']['y']=_0xa8caed['bottom'],_0x578075=!(0x26d2*0x1+0x8a8*-0x4+0x6*-0xb3)),_0xa8caed['right']!==void(-0x1423+-0x20da+0x1*0x34fd)&&(_0x5507f5['_margin']['z']=_0xa8caed['right'],_0x578075=!(-0x61+0x61b*0x2+0x1*-0xbd5)),_0xa8caed['top']!==void(0xd*0x9e+0x1345+-0x89*0x33)&&(_0x5507f5['_margin']['w']=_0xa8caed['top'],_0x578075=!(0xd5c+0xbb*-0x7+0x83f*-0x1)),_0x578075&&(_0x5507f5['margin']=_0x5507f5['_margin']);let _0x1149ae=!(-0x1479+0x6*-0x36+0x79*0x2e);_0xa8caed['width']!==void(-0x125f*0x1+0x1c33+-0x9d4)&&!_0x3bce56?_0x5507f5['width']=_0xa8caed['width']:_0x3bce56&&(_0x1149ae=!(-0x291*0x9+0x8c4+0x3*0x4c7)),_0xa8caed['height']!==void(0x1076+0xd45+0xb1*-0x2b)&&!_0x449c55?_0x5507f5['height']=_0xa8caed['height']:_0x449c55&&(_0x1149ae=!(-0x7*0x32+0x2167*-0x1+-0x45*-0x81)),_0x1149ae&&(_0x5507f5['anchor']=_0x5507f5['anchor']),_0xa8caed['enabled']!==void(-0xf68+0x1*0x95e+-0x1*-0x60a)&&(_0x5507f5['enabled']=_0xa8caed['enabled']),_0xa8caed['useInput']!==void(0xb3b+-0xc9+-0xa72)&&(_0x5507f5['useInput']=_0xa8caed['useInput']),_0xa8caed['fitMode']!==void(-0x51*0x6a+-0x9e3+-0x1*-0x2b6d)&&(_0x5507f5['fitMode']=_0xa8caed['fitMode']),_0x5507f5['batchGroup'+'Id']=_0xa8caed['batchGroup'+'Id']===void(0x2689+0x14e*0x4+0x1*-0x2bc1)||_0xa8caed['batchGroup'+'Id']===null?-(-0x677+-0x7c9*-0x5+0x1*-0x2075):_0xa8caed['batchGroup'+'Id'],_0xa8caed['layers']&&Array['isArray'](_0xa8caed['layers'])&&(_0x5507f5['layers']=_0xa8caed['layers']['slice'](-0xd*0x1b5+-0xb2*-0x10+0xb11)),_0xa8caed['type']!==void(0x401*-0x7+-0x21f1+0x3df8)&&(_0x5507f5['type']=_0xa8caed['type']),_0x5507f5['type']===Cu?(_0xa8caed['rect']!==void(-0x47*-0xb+0x2e1*0x1+-0x5ee)&&(_0x5507f5['rect']=_0xa8caed['rect']),_0xa8caed['color']!==void(0x18a2+-0x830+-0x1072)&&(_0xaa0d59=_0xa8caed['color'],_0xaa0d59 instanceof ie||(_0xaa0d59=new ie(_0xa8caed['color'][0x6*-0x5cc+-0x11d6+0x349e],_0xa8caed['color'][-0xb3*0x13+-0x1c41*0x1+0x298b],_0xa8caed['color'][-0x8c9*-0x4+-0x1410+-0xf12])),_0x5507f5['color']=_0xaa0d59),_0xa8caed['opacity']!==void(0x11d9+-0x114b*-0x2+-0x1f*0x1b1)&&(_0x5507f5['opacity']=_0xa8caed['opacity']),_0xa8caed['textureAss'+'et']!==void(0x1*-0x1c01+-0x23*0x28+0x2179)&&(_0x5507f5['textureAss'+'et']=_0xa8caed['textureAss'+'et']),_0xa8caed['texture']&&(_0x5507f5['texture']=_0xa8caed['texture']),_0xa8caed['spriteAsse'+'t']!==void(-0x1815*-0x1+0x64d*0x1+-0x1e62)&&(_0x5507f5['spriteAsse'+'t']=_0xa8caed['spriteAsse'+'t']),_0xa8caed['sprite']&&(_0x5507f5['sprite']=_0xa8caed['sprite']),_0xa8caed['spriteFram'+'e']!==void(0x130d*0x1+-0x2*-0xeed+-0x141*0x27)&&(_0x5507f5['spriteFram'+'e']=_0xa8caed['spriteFram'+'e']),_0xa8caed['pixelsPerU'+'nit']!==void(0xb3*-0x21+-0x22a4+0x39b7)&&_0xa8caed['pixelsPerU'+'nit']!==null&&(_0x5507f5['pixelsPerU'+'nit']=_0xa8caed['pixelsPerU'+'nit']),_0xa8caed['materialAs'+'set']!==void(0xa1c*-0x1+-0xcd6*0x3+0x7*0x6f2)&&(_0x5507f5['materialAs'+'set']=_0xa8caed['materialAs'+'set']),_0xa8caed['material']&&(_0x5507f5['material']=_0xa8caed['material']),_0xa8caed['mask']!==void(-0xb8a+0x26d8+0x1e*-0xe9)&&(_0x5507f5['mask']=_0xa8caed['mask'])):_0x5507f5['type']===jv&&(_0xa8caed['autoWidth']!==void(0x552+-0xf67+0xa15)&&(_0x5507f5['autoWidth']=_0xa8caed['autoWidth']),_0xa8caed['autoHeight']!==void(0x4c5+-0x13a0+0xedb*0x1)&&(_0x5507f5['autoHeight']=_0xa8caed['autoHeight']),_0xa8caed['rtlReorder']!==void(-0x2376+-0xe1f+-0x1087*-0x3)&&(_0x5507f5['rtlReorder']=_0xa8caed['rtlReorder']),_0xa8caed['unicodeCon'+'verter']!==void(0x1d5d+-0x8a*-0x5+-0x1d*0x11b)&&(_0x5507f5['unicodeCon'+'verter']=_0xa8caed['unicodeCon'+'verter']),_0xa8caed['text']!==null&&_0xa8caed['text']!==void(-0x1*-0x4aa+-0x21cd*-0x1+-0x2677)?_0x5507f5['text']=_0xa8caed['text']:_0xa8caed['key']!==null&&_0xa8caed['key']!==void(0xc56+0x2*0x4f0+-0x1636)&&(_0x5507f5['key']=_0xa8caed['key']),_0xa8caed['color']!==void(-0x1869+-0x1697+0x2f00)&&(_0xaa0d59=_0xa8caed['color'],_0xaa0d59 instanceof ie||(_0xaa0d59=new ie(_0xaa0d59[-0x6*0x14+0x847*-0x1+0x8bf*0x1],_0xaa0d59[0x176c*0x1+0xec4+0x5*-0x7a3],_0xaa0d59[0xc2c+-0x7*-0x245+-0x1c0d*0x1])),_0x5507f5['color']=_0xaa0d59),_0xa8caed['opacity']!==void(0x5*0x71b+0x14a9*0x1+0x10*-0x383)&&(_0x5507f5['opacity']=_0xa8caed['opacity']),_0xa8caed['spacing']!==void(0xb07+0x72c+-0x1233)&&(_0x5507f5['spacing']=_0xa8caed['spacing']),_0xa8caed['fontSize']!==void(-0x1*0x166d+-0x2428+0x1*0x3a95)&&(_0x5507f5['fontSize']=_0xa8caed['fontSize'],_0xa8caed['lineHeight']||(_0x5507f5['lineHeight']=_0xa8caed['fontSize'])),_0xa8caed['lineHeight']!==void(-0x21*-0x11a+-0x184f+-0xc0b*0x1)&&(_0x5507f5['lineHeight']=_0xa8caed['lineHeight']),_0xa8caed['maxLines']!==void(-0x1*0x447+0x1*-0x1d67+0x21ae)&&(_0x5507f5['maxLines']=_0xa8caed['maxLines']),_0xa8caed['wrapLines']!==void(-0x169e+0x1169*-0x1+0x2807)&&(_0x5507f5['wrapLines']=_0xa8caed['wrapLines']),_0xa8caed['minFontSiz'+'e']!==void(0x5*0x170+-0x73f+-0x5*-0x3)&&(_0x5507f5['minFontSiz'+'e']=_0xa8caed['minFontSiz'+'e']),_0xa8caed['maxFontSiz'+'e']!==void(-0xece+0x1*-0x23f9+0x32c7)&&(_0x5507f5['maxFontSiz'+'e']=_0xa8caed['maxFontSiz'+'e']),_0xa8caed['autoFitWid'+'th']&&(_0x5507f5['autoFitWid'+'th']=_0xa8caed['autoFitWid'+'th']),_0xa8caed['autoFitHei'+'ght']&&(_0x5507f5['autoFitHei'+'ght']=_0xa8caed['autoFitHei'+'ght']),_0xa8caed['fontAsset']!==void(-0xae6+0xb2f+0x49*-0x1)&&(_0x5507f5['fontAsset']=_0xa8caed['fontAsset']),_0xa8caed['font']!==void(-0x912+0xbbd+0x2ab*-0x1)&&(_0x5507f5['font']=_0xa8caed['font']),_0xa8caed['alignment']!==void(-0x1*0x1a05+-0x127d+0x2c82)&&(_0x5507f5['alignment']=_0xa8caed['alignment']),_0xa8caed['outlineCol'+'or']!==void(0x2228+-0x26f1+0x4c9)&&(_0x5507f5['outlineCol'+'or']=_0xa8caed['outlineCol'+'or']),_0xa8caed['outlineThi'+'ckness']!==void(-0x2543+0x3*0x6fb+0x1052)&&(_0x5507f5['outlineThi'+'ckness']=_0xa8caed['outlineThi'+'ckness']),_0xa8caed['shadowColo'+'r']!==void(-0x12c8*-0x1+0x1ace+0xf*-0x30a)&&(_0x5507f5['shadowColo'+'r']=_0xa8caed['shadowColo'+'r']),_0xa8caed['shadowOffs'+'et']!==void(0x11b3*-0x2+0xabc+0x9a*0x29)&&(_0x5507f5['shadowOffs'+'et']=_0xa8caed['shadowOffs'+'et']),_0xa8caed['enableMark'+'up']!==void(0x1f6f+0x661+0x37*-0xb0)&&(_0x5507f5['enableMark'+'up']=_0xa8caed['enableMark'+'up']));const _0x2f7c65=_0x5507f5['_parseUpTo'+'Screen']();_0x2f7c65['screen']&&_0x5507f5['_updateScr'+'een'](_0x2f7c65['screen']),super['initialize'+'ComponentD'+'ata'](_0x5507f5,_0xa8caed,_0x3a4812),_0x5507f5['_beingInit'+'ialized']=!(-0x380+0x13b1+-0x1030),_0x5507f5['type']===Cu&&_0x5507f5['_image']['_meshDirty']&&_0x5507f5['_image']['_updateMes'+'h'](_0x5507f5['_image']['mesh']);}['onAddCompo'+'nent'](_0x43e90f,_0x5ee36){_0x43e90f['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x296b6b,_0x2422d6){_0x2422d6['onRemove']();}['cloneCompo'+'nent'](_0x2a03a0,_0xa6ef32){const _0x236125=_0x2a03a0['element'],_0x1b8d18={'enabled':_0x236125['enabled'],'width':_0x236125['width'],'height':_0x236125['height'],'anchor':_0x236125['anchor']['clone'](),'pivot':_0x236125['pivot']['clone'](),'margin':_0x236125['margin']['clone'](),'alignment':_0x236125['alignment']&&_0x236125['alignment']['clone']()||_0x236125['alignment'],'autoWidth':_0x236125['autoWidth'],'autoHeight':_0x236125['autoHeight'],'type':_0x236125['type'],'rect':_0x236125['rect']&&_0x236125['rect']['clone']()||_0x236125['rect'],'rtlReorder':_0x236125['rtlReorder'],'unicodeConverter':_0x236125['unicodeCon'+'verter'],'materialAsset':_0x236125['materialAs'+'set'],'material':_0x236125['material'],'color':_0x236125['color']&&_0x236125['color']['clone']()||_0x236125['color'],'opacity':_0x236125['opacity'],'textureAsset':_0x236125['textureAss'+'et'],'texture':_0x236125['texture'],'spriteAsset':_0x236125['spriteAsse'+'t'],'sprite':_0x236125['sprite'],'spriteFrame':_0x236125['spriteFram'+'e'],'pixelsPerUnit':_0x236125['pixelsPerU'+'nit'],'spacing':_0x236125['spacing'],'lineHeight':_0x236125['lineHeight'],'wrapLines':_0x236125['wrapLines'],'layers':_0x236125['layers'],'fontSize':_0x236125['fontSize'],'minFontSize':_0x236125['minFontSiz'+'e'],'maxFontSize':_0x236125['maxFontSiz'+'e'],'autoFitWidth':_0x236125['autoFitWid'+'th'],'autoFitHeight':_0x236125['autoFitHei'+'ght'],'maxLines':_0x236125['maxLines'],'fontAsset':_0x236125['fontAsset'],'font':_0x236125['font'],'useInput':_0x236125['useInput'],'fitMode':_0x236125['fitMode'],'batchGroupId':_0x236125['batchGroup'+'Id'],'mask':_0x236125['mask'],'outlineColor':_0x236125['outlineCol'+'or']&&_0x236125['outlineCol'+'or']['clone']()||_0x236125['outlineCol'+'or'],'outlineThickness':_0x236125['outlineThi'+'ckness'],'shadowColor':_0x236125['shadowColo'+'r']&&_0x236125['shadowColo'+'r']['clone']()||_0x236125['shadowColo'+'r'],'shadowOffset':_0x236125['shadowOffs'+'et']&&_0x236125['shadowOffs'+'et']['clone']()||_0x236125['shadowOffs'+'et'],'enableMarkup':_0x236125['enableMark'+'up']};return _0x236125['key']!==void(0x8ea*-0x2+-0x2d8+0xe*0x17a)&&_0x236125['key']!==null?_0x1b8d18['key']=_0x236125['key']:_0x1b8d18['text']=_0x236125['text'],this['addCompone'+'nt'](_0xa6ef32,_0x1b8d18);}['getTextEle'+'mentMateri'+'al'](_0x21ca16,_0x1a27ec,_0x129be5){const _0x2a78be=(_0x21ca16&&0x1194+0x2f*0x53+-0x32*0xa8)|(_0x1a27ec&&0x1e3d+-0x5e*0x4c+-0x5*0x77)|(_0x129be5&&0x425*0x7+0x1546+-0x3245);let _0x2a4f8a=this['_defaultTe'+'xtMaterial'+'s'][_0x2a78be];if(_0x2a4f8a)return _0x2a4f8a;let _0x286521='TextMateri'+'al';return _0x2a4f8a=new Ut(),_0x1a27ec?(_0x2a4f8a['msdfMap']=this['_defaultTe'+'xture'],_0x2a4f8a['msdfTextAt'+'tribute']=_0x129be5,_0x2a4f8a['emissive']['set'](0x1*0x2165+0x13e9+-0x354d,-0x153a+0x239b+-0xe60,0x4cf+-0x185*-0x11+0xfd*-0x1f)):(_0x286521='Bitmap'+_0x286521,_0x2a4f8a['emissive']['set'](0x35c+-0x992+-0x2b*-0x25,-0x1b95*0x1+0x1505+0x691,0x111f*-0x1+0x93b+0x7e5),_0x2a4f8a['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x2a4f8a['opacityMap']=this['_defaultTe'+'xture'],_0x2a4f8a['opacityMap'+'Channel']='a'),_0x21ca16&&(_0x286521='ScreenSpac'+'e'+_0x286521,_0x2a4f8a['depthTest']=!(0x13c1+0x13*-0x185+0x1*0x91f)),_0x2a4f8a['name']='default'+_0x286521,_0x2a4f8a['useLightin'+'g']=!(0x2480+-0x50b*0x6+-0x63d),_0x2a4f8a['useTonemap']=!(-0x14c6+0xbc*-0x2+0x163f),_0x2a4f8a['useFog']=!(-0x556*0x5+0x1d*0x8+0x19c7),_0x2a4f8a['useSkybox']=!(-0x2131*-0x1+-0x1e11+-0x31f),_0x2a4f8a['diffuse']['set'](0x2342+-0x35e*-0x2+-0x56*0x7d,0xad*-0x1d+-0x209f+-0x45a*-0xc,0x50f*-0x3+0x1d0e+0x143*-0xb),_0x2a4f8a['opacity']=0x1921*-0x1+-0xcc1*-0x3+-0xd22+0.5,_0x2a4f8a['blendType']=Gn,_0x2a4f8a['depthWrite']=!(0x1851+0x386+-0x1bd6),_0x2a4f8a['emissiveVe'+'rtexColor']=!(-0x956+-0x1*-0xf09+0x1*-0x5b3),_0x2a4f8a['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x2a78be]=_0x2a4f8a,_0x2a4f8a;}['_createBas'+'eImageMate'+'rial'](){const _0x2e6b0d=new Ut();return _0x2e6b0d['diffuse']['set'](0x25b*-0x3+-0xdc7+0x14d8,-0xed*0x7+0x2506+-0x1e8b,-0x2*0x853+0x2195+-0xff*0x11),_0x2e6b0d['emissive']['set'](0x16b9+0x1569+-0x2c21,0x1f72+-0x811+-0x176*0x10,-0x881+-0x156b+0x2f*0xa3),_0x2e6b0d['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x2e6b0d['opacityMap']=this['_defaultTe'+'xture'],_0x2e6b0d['opacityMap'+'Channel']='a',_0x2e6b0d['useLightin'+'g']=!(0x13*-0x1cd+-0x1eac+-0x4*-0x1039),_0x2e6b0d['useTonemap']=!(0x166a*-0x1+-0x2480*0x1+-0x3aeb*-0x1),_0x2e6b0d['useFog']=!(-0x4e5+-0x61*-0x67+-0x2221*0x1),_0x2e6b0d['useSkybox']=!(0x1cae*-0x1+0x2244+-0x595),_0x2e6b0d['blendType']=Gn,_0x2e6b0d['depthWrite']=!(-0x593*0x1+0x6b*-0xf+0x3f3*0x3),_0x2e6b0d;}['getImageEl'+'ementMater'+'ial'](_0x249af2,_0x486a1e,_0x1328ce,_0x250925){return _0x249af2?_0x486a1e?_0x1328ce?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(-0x1a39+0x1dd6+-0x39c),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=-0x366+0x1b1c+-0x77*0x33,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(-0x448+-0x29*0x2f+0xbd0),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(0x2b*0xc1+0x1fe3+-0x404d),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(0x1*-0xab5+0x83*-0x23+0x1c9f),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(-0x180+-0x9c9+0xb4a),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x250925?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(0x1*0x515+-0x359*0x5+-0xf*-0xc7),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=-0x1e17*0x1+-0x6b*0x31+-0xb*-0x499,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(-0x1*0x33a+0xdd3*-0x1+0x2*0x887),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(0x5*-0x4f6+-0x11c5+0x2a94),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(-0xcd4+-0x4aa*0x1+-0x3*-0x5d5),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(0x11b*-0x15+0xb6b+0x9f*0x13),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(0x12f2+0x2490+-0x3781),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=-0x1*-0x72e+0x273+-0x9a0,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(-0x4e*0x51+0x4*0x4a5+0x1*0x61b),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(0xc44+0x1e*-0x116+0x1451),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(0x128f*-0x1+0x2d6+-0x3*-0x53e),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(0x1dc+-0x2*0x12c5+0x23af),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x1328ce?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(-0xa31+-0xa0a+0x50f*0x4),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x250925?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(-0x2352+0x867+0x1aec),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(-0x2*0xc9d+0x2232+-0xff*0x9),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x486a1e?_0x1328ce?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=0x1778+0x24a*-0xa+-0x93,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(-0x459+-0x1c20+0x2*0x103d),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(-0x3fb+0xef2*-0x2+0x21e0),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(0x3*-0xa2a+-0x3e7+0x22*0x103),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(-0x13e*0x8+0x6f8+-0x1*-0x2f9),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x250925?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=-0x264e+-0x145e+0x3aad,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(-0x18e1+0x1daa+-0x4c8),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(-0x2618+-0xb28+0x3141),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(-0x402*-0x5+-0x2311+0x68*0x25),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(0x362*0x4+0x105a+0x1de1*-0x1),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=-0x1*0x2482+0x1b0+-0x22d3*-0x1,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(0x160+-0x215c+-0x13*-0x1af),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(0x24c4+0x73e+-0x2c01),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(0x8b3*-0x1+0x24dd+0x1*-0x1c29),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(0xa65*-0x2+0xa85*0x1+0xa46),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x1328ce?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x250925?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x181779){this['_unicodeCo'+'nverter']=_0x181779;}['registerRt'+'lReorder'](_0x759467){this['_rtlReorde'+'r']=_0x759467;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Xa='free',qa='limited',ja='locked',RR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class ym extends we{constructor(_0x8d5599,_0x2491c1){super(_0x8d5599,_0x2491c1),w['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(0x6e2*0x2+0x1cf7+-0x2abb),this['_linearMot'+'ionX']=ja,this['_linearLim'+'itsX']=new J(0xdea+-0x7a*-0x4f+-0x64*0x84,-0x5b0+0x1e4e+-0x189e*0x1),this['_linearSpr'+'ingX']=!(0x54b+0x1118*-0x1+0xbce),this['_linearSti'+'ffnessX']=0x12a*-0x4+0x1*-0x1f4b+0x23f3,this['_linearDam'+'pingX']=-0x15*-0x6b+0x1a98+-0x235e,this['_linearEqu'+'ilibriumX']=0xc12+-0xfc2+0x3b0*0x1,this['_linearMot'+'ionY']=ja,this['_linearLim'+'itsY']=new J(0x9bc+0x1*-0x330+-0x68c,-0xba7*-0x3+0x18e4+-0x3bd9),this['_linearSpr'+'ingY']=!(-0x9fa+0x5b5+0x223*0x2),this['_linearSti'+'ffnessY']=0x19d*-0xb+-0x9d2+0x1b91,this['_linearDam'+'pingY']=0x1*-0x1772+-0x1*0x21be+0x3931,this['_linearEqu'+'ilibriumY']=-0x212b*-0x1+0x5d4*-0x5+0x1*-0x407,this['_linearMot'+'ionZ']=ja,this['_linearLim'+'itsZ']=new J(-0xf*-0x277+-0x1*0x1182+-0x1377,-0x23c5+0x75*-0x18+-0x959*-0x5),this['_linearSpr'+'ingZ']=!(0x22*-0xf6+-0xeea+0x2f97),this['_linearSti'+'ffnessZ']=0xfa7*-0x1+-0x1*-0xc10+0x397,this['_linearDam'+'pingZ']=-0x1*0x9+0x1d*0x25+0x427*-0x1,this['_linearEqu'+'ilibriumZ']=0x4*0x49a+0x1dda+0x1aa*-0x1d,this['_angularMo'+'tionX']=ja,this['_angularLi'+'mitsX']=new J(0x1a4f+-0xccd+-0xd82,0xe93+0x820+-0x16b3),this['_angularSp'+'ringX']=!(-0x2036+0x11*0x9f+0x738*0x3),this['_angularSt'+'iffnessX']=-0x3d*0x81+-0x11f6+0x30b3,this['_angularDa'+'mpingX']=0x65c+-0x273*-0x8+0xd*-0x1ff,this['_angularEq'+'uilibriumX']=0x225*-0x5+-0x21*0xd1+0x25aa*0x1,this['_angularMo'+'tionY']=ja,this['_angularLi'+'mitsY']=new J(-0x27a+-0xa1f+0xf*0xd7,0x1*0x177f+-0xff2+-0x1*0x78d),this['_angularSp'+'ringY']=!(0x5e*-0x66+-0x839+0x2dae),this['_angularSt'+'iffnessY']=-0x101*-0x5+-0x17d2+-0x1*-0x12cd,this['_angularDa'+'mpingY']=0x1651+-0x64f+-0x11*0xf1,this['_angularEq'+'uilibriumY']=-0x3+-0x7b*0x16+-0x2b*-0x3f,this['_angularMo'+'tionZ']=ja,this['_angularLi'+'mitsZ']=new J(-0x207d+0x325+-0x2*-0xeac,0x408+0x2200+-0x8*0x4c1),this['_angularSp'+'ringZ']=!(0x1e2b+-0xc25*0x2+-0x5e0),this['_angularEq'+'uilibriumZ']=0x226b+0x15fe+-0x3869,this['_angularDa'+'mpingZ']=-0x1e40+-0x6aa*-0x1+0x225*0xb,this['_angularSt'+'iffnessZ']=0x1e28+-0x159b+0x1*-0x88d,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0xfea260){this['_destroyCo'+'nstraint'](),this['_entityA']=_0xfea260,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0xf3c689){this['_destroyCo'+'nstraint'](),this['_entityB']=_0xf3c689,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x8ec203){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x8ec203&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x8ec203),this['_breakForc'+'e']=_0x8ec203);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x17a354){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x17a354,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x59bf00){this['_angularLi'+'mitsX']['equals'](_0x59bf00)||(this['_angularLi'+'mitsX']['copy'](_0x59bf00),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x42a668){this['_angularMo'+'tionX']!==_0x42a668&&(this['_angularMo'+'tionX']=_0x42a668,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x452207){this['_angularLi'+'mitsY']['equals'](_0x452207)||(this['_angularLi'+'mitsY']['copy'](_0x452207),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x17ecb2){this['_angularMo'+'tionY']!==_0x17ecb2&&(this['_angularMo'+'tionY']=_0x17ecb2,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x1ad8f9){this['_angularLi'+'mitsZ']['equals'](_0x1ad8f9)||(this['_angularLi'+'mitsZ']['copy'](_0x1ad8f9),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x17a342){this['_angularMo'+'tionZ']!==_0x17a342&&(this['_angularMo'+'tionZ']=_0x17a342,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x5d1d37){this['_linearLim'+'itsX']['equals'](_0x5d1d37)||(this['_linearLim'+'itsX']['copy'](_0x5d1d37),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x50bcea){this['_linearMot'+'ionX']!==_0x50bcea&&(this['_linearMot'+'ionX']=_0x50bcea,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x4554ba){this['_linearLim'+'itsY']['equals'](_0x4554ba)||(this['_linearLim'+'itsY']['copy'](_0x4554ba),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x46a385){this['_linearMot'+'ionY']!==_0x46a385&&(this['_linearMot'+'ionY']=_0x46a385,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x5d66d0){this['_linearLim'+'itsZ']['equals'](_0x5d66d0)||(this['_linearLim'+'itsZ']['copy'](_0x5d66d0),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x234711){this['_linearMot'+'ionZ']!==_0x234711&&(this['_linearMot'+'ionZ']=_0x234711,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x381a28,_0x325345){const _0x475dce=_0x381a28['getTransla'+'tion'](),_0x53136e=new le();_0x53136e['setFromMat'+'4'](_0x381a28);const _0xd89249=new Ammo['btVector3'](_0x475dce['x'],_0x475dce['y'],_0x475dce['z']),_0x20349b=new Ammo['btQuaterni'+'on'](_0x53136e['x'],_0x53136e['y'],_0x53136e['z'],_0x53136e['w']);_0x325345['setOrigin'](_0xd89249),_0x325345['setRotatio'+'n'](_0x20349b),Ammo['destroy'](_0xd89249),Ammo['destroy'](_0x20349b);}['_updateAng'+'ularLimits'](){const _0x781523=this['_constrain'+'t'];if(_0x781523){let _0x525be4,_0x3aff7a,_0x588f64,_0xfebebe,_0x5b4350,_0x57d1ec;this['_angularMo'+'tionX']===qa?(_0x525be4=this['_angularLi'+'mitsX']['x']*Y['DEG_TO_RAD'],_0xfebebe=this['_angularLi'+'mitsX']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionX']===Xa?(_0x525be4=0x2a7+0x21cb*0x1+-0x2471,_0xfebebe=0x3*-0x196+-0x23ba+0x287c):_0x525be4=_0xfebebe=0x1a3b+-0x270c+0xcd1,this['_angularMo'+'tionY']===qa?(_0x3aff7a=this['_angularLi'+'mitsY']['x']*Y['DEG_TO_RAD'],_0x5b4350=this['_angularLi'+'mitsY']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionY']===Xa?(_0x3aff7a=0xe2f+0x1a32+-0x2860,_0x5b4350=0xa*-0x6f+0x1*0xa67+0x1*-0x611):_0x3aff7a=_0x5b4350=0x2135*0x1+-0x1d79*0x1+0x1*-0x3bc,this['_angularMo'+'tionZ']===qa?(_0x588f64=this['_angularLi'+'mitsZ']['x']*Y['DEG_TO_RAD'],_0x57d1ec=this['_angularLi'+'mitsZ']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Xa?(_0x588f64=-0x1cf3+0x936+0x13be,_0x57d1ec=-0x98*0x31+-0x1*0xe91+0x2ba9):_0x588f64=_0x57d1ec=0x5*0x653+0xb*-0x319+0x13a*0x2;const _0x59d3e5=new Ammo['btVector3'](_0x525be4,_0x3aff7a,_0x588f64);_0x781523['setAngular'+'LowerLimit'](_0x59d3e5),_0x59d3e5['setValue'](_0xfebebe,_0x5b4350,_0x57d1ec),_0x781523['setAngular'+'UpperLimit'](_0x59d3e5),Ammo['destroy'](_0x59d3e5);}}['_updateLin'+'earLimits'](){const _0x332ffe=this['_constrain'+'t'];if(_0x332ffe){let _0x330ccb,_0x5b3d12,_0xc5a9a2,_0x1acec0,_0x4e453d,_0x3785db;this['_linearMot'+'ionX']===qa?(_0x330ccb=this['_linearLim'+'itsX']['x'],_0x1acec0=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Xa?(_0x330ccb=0x25dd+0x2148+0x1d*-0x274,_0x1acec0=0xc*-0x15b+-0x19f4+-0x2a38*-0x1):_0x330ccb=_0x1acec0=0x1935+-0x3*0x925+0x23a,this['_linearMot'+'ionY']===qa?(_0x5b3d12=this['_linearLim'+'itsY']['x'],_0x4e453d=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Xa?(_0x5b3d12=0x1bb7+0x1f3e*-0x1+-0x71*-0x8,_0x4e453d=0x121f+0x25ce+-0x37ed):_0x5b3d12=_0x4e453d=0x1*-0x4bb+-0x15*0xc2+0x23*0x97,this['_linearMot'+'ionZ']===qa?(_0xc5a9a2=this['_linearLim'+'itsZ']['x'],_0x3785db=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Xa?(_0xc5a9a2=0x3a6+-0x6b6+0x311,_0x3785db=0x2527+0x7e1*-0x1+-0x1*0x1d46):_0xc5a9a2=_0x3785db=-0x1e42*0x1+-0x226d+0x40af;const _0x9eb63f=new Ammo['btVector3'](_0x330ccb,_0x5b3d12,_0xc5a9a2);_0x332ffe['setLinearL'+'owerLimit'](_0x9eb63f),_0x9eb63f['setValue'](_0x1acec0,_0x4e453d,_0x3785db),_0x332ffe['setLinearU'+'pperLimit'](_0x9eb63f),Ammo['destroy'](_0x9eb63f);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x24ae72=new te(),_0x5b00c7=this['_entityA']['rigidbody']['body'];_0x5b00c7['activate']();const _0xc617f5=this['entity']['getWorldTr'+'ansform'](),_0x30430a=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x24ae72['mul2'](_0x30430a,_0xc617f5);const _0x51db32=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x24ae72,_0x51db32),this['_entityB']&&this['_entityB']['rigidbody']){const _0x456624=this['_entityB']['rigidbody']['body'];_0x456624['activate']();const _0x2d4a40=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x24ae72['mul2'](_0x2d4a40,_0xc617f5);const _0x1d13d2=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x24ae72,_0x1d13d2),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x5b00c7,_0x456624,_0x51db32,_0x1d13d2,!this['_enableCol'+'lision']),Ammo['destroy'](_0x1d13d2);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x5b00c7,_0x51db32,!this['_enableCol'+'lision']);Ammo['destroy'](_0x51db32);const _0x124e55=['X','Y','Z','X','Y','Z'];for(let _0x4055ae=-0x12f9+0x12ec+0xd;_0x4055ae<0x121b+0x81d*-0x1+-0x9f8;_0x4055ae++){const _0x2a07dc=_0x4055ae<-0x723+0x1e74+-0x174e?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0x4055ae,this[_0x2a07dc+'Spring'+_0x124e55[_0x4055ae]]),this['_constrain'+'t']['setDamping'](_0x4055ae,this[_0x2a07dc+'Damping'+_0x124e55[_0x4055ae]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0x4055ae,this[_0x2a07dc+('Equilibriu'+'m')+_0x124e55[_0x4055ae]]),this['_constrain'+'t']['setStiffne'+'ss'](_0x4055ae,this[_0x2a07dc+'Stiffness'+_0x124e55[_0x4055ae]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x225e93){for(const _0x3e1b43 of RR)_0x225e93['hasOwnProp'+'erty'](_0x3e1b43)&&(_0x225e93[_0x3e1b43]instanceof J?this['_'+_0x3e1b43]['copy'](_0x225e93[_0x3e1b43]):this['_'+_0x3e1b43]=_0x225e93[_0x3e1b43]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0x1b6b8e,_0x4d586c,_0x4dd909){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const OR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x427146=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x54eea5=>{['X','Y','Z']['forEach'](_0xbc7a32=>{const _0x4d9902=_0x427146+_0x54eea5+_0xbc7a32,_0x19f304='_'+_0x4d9902;let _0x109673=_0x427146==='linear'?-0x256d+-0xd49*-0x1+0x3c*0x67:-0x2*0x86b+-0x3b9*0x6+0x272f;_0xbc7a32==='Y'&&(_0x109673+=-0x115*0x7+-0xb0b*-0x2+-0xe82),_0xbc7a32==='Z'&&(_0x109673+=0x1ae+-0xa9*0x29+0x1*0x1965),Object['defineProp'+'erty'](ym['prototype'],_0x4d9902,{'get':function(){return this[_0x19f304];},'set':function(_0x381ca2){this[_0x19f304]!==_0x381ca2&&(this[_0x19f304]=_0x381ca2,this['_constrain'+'t'][OR[_0x54eea5]](_0x109673,_0x381ca2));}});});});});class FR{constructor(){this['enabled']=!(-0xceb+-0x2511+0x31fc*0x1);}}const Fu=['enabled'];class NR extends ct{constructor(_0x4f1a47){super(_0x4f1a47),this['id']='joint',this['app']=_0x4f1a47,this['ComponentT'+'ype']=ym,this['DataType']=FR,this['schema']=Fu;}['initialize'+'ComponentD'+'ata'](_0x119e17,_0x22d559,_0x9047fe){_0x119e17['initFromDa'+'ta'](_0x22d559),super['initialize'+'ComponentD'+'ata'](_0x119e17,_0x22d559,Fu);}}we['_buildAcce'+'ssors'](ym['prototype'],Fu);class Jv extends we{constructor(){super(...arguments),h(this,'_minWidth',-0x3*0xec+-0x232a*0x1+0x3cb*0xa),h(this,'_minHeight',-0xc83*0x3+0x2*-0x4ab+-0xd*-0x39b),h(this,'_maxWidth',null),h(this,'_maxHeight',null),h(this,'_fitWidthP'+'roportion',0x25f0+-0x19*0x105+-0xc73),h(this,'_fitHeight'+'Proportion',0x2087+0xcc3+-0x16a5*0x2),h(this,'_excludeFr'+'omLayout',!(-0x192b+0x16b7+-0x25*-0x11));}set['minWidth'](_0x2128fe){_0x2128fe!==this['_minWidth']&&(this['_minWidth']=_0x2128fe,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0xa9d72a){_0xa9d72a!==this['_minHeight']&&(this['_minHeight']=_0xa9d72a,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x3553ce){_0x3553ce!==this['_maxWidth']&&(this['_maxWidth']=_0x3553ce,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x14fe3c){_0x14fe3c!==this['_maxHeight']&&(this['_maxHeight']=_0x14fe3c,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x595bae){_0x595bae!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x595bae,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x413c34){_0x413c34!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x413c34,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x3a2469){_0x3a2469!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x3a2469,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class kR{constructor(){this['enabled']=!(0x1aa+-0x21f5+0x204b);}}const e0=['enabled'];class UR extends ct{constructor(_0x3d86ee){super(_0x3d86ee),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=Jv,this['DataType']=kR,this['schema']=e0;}['initialize'+'ComponentD'+'ata'](_0xa5b2f0,_0x2f37ab,_0xdef984){_0x2f37ab['enabled']!==void(0x1ed*0x1+0x256+0x1*-0x443)&&(_0xa5b2f0['enabled']=_0x2f37ab['enabled']),_0x2f37ab['minWidth']!==void(-0x15f+0x118e+0x102f*-0x1)&&(_0xa5b2f0['minWidth']=_0x2f37ab['minWidth']),_0x2f37ab['minHeight']!==void(0x405*0x3+0x215a+-0x3*0xf23)&&(_0xa5b2f0['minHeight']=_0x2f37ab['minHeight']),_0x2f37ab['maxWidth']!==void(0x6c5+0x2*0x1099+-0x27f7)&&(_0xa5b2f0['maxWidth']=_0x2f37ab['maxWidth']),_0x2f37ab['maxHeight']!==void(0x17ab+0x2682+-0x3e2d)&&(_0xa5b2f0['maxHeight']=_0x2f37ab['maxHeight']),_0x2f37ab['fitWidthPr'+'oportion']!==void(0x58f*0x3+-0x257+-0xe56)&&(_0xa5b2f0['fitWidthPr'+'oportion']=_0x2f37ab['fitWidthPr'+'oportion']),_0x2f37ab['fitHeightP'+'roportion']!==void(-0x208e+0xb47+0x1547)&&(_0xa5b2f0['fitHeightP'+'roportion']=_0x2f37ab['fitHeightP'+'roportion']),_0x2f37ab['excludeFro'+'mLayout']!==void(-0x3*-0xa85+-0x19d2+-0x5bd)&&(_0xa5b2f0['excludeFro'+'mLayout']=_0x2f37ab['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0xa5b2f0,_0x2f37ab,_0xdef984);}['cloneCompo'+'nent'](_0x2e9b8f,_0x531513){const _0x1a9433=_0x2e9b8f['layoutchil'+'d'];return this['addCompone'+'nt'](_0x531513,{'enabled':_0x1a9433['enabled'],'minWidth':_0x1a9433['minWidth'],'minHeight':_0x1a9433['minHeight'],'maxWidth':_0x1a9433['maxWidth'],'maxHeight':_0x1a9433['maxHeight'],'fitWidthProportion':_0x1a9433['fitWidthPr'+'oportion'],'fitHeightProportion':_0x1a9433['fitHeightP'+'roportion'],'excludeFromLayout':_0x1a9433['excludeFro'+'mLayout']});}}we['_buildAcce'+'ssors'](Jv['prototype'],e0);const Nu=0x1eee+0x26b3*0x1+-0x73*0x9b,BR=0x1489+0x39*-0x56+-0x2*0xb1,Qg=-0x1271*0x1+0xe1c+-0x457*-0x1,zR=0x1758+0xf71*0x1+-0x26c6,Oh={};Oh[Ce]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Oh[je]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const vm={};vm[Ce]=je,vm[je]=Ce;const VR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},os={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},ls=new J();function t0(_0x4ae77b){let _0x251986;const _0x5abbea=Oh[_0x4ae77b],_0x3e2a36=Oh[vm[_0x4ae77b]];function _0x4fffa9(_0x1fc224,_0x436227){return-_0x436227[_0x5abbea['size']]*_0x1fc224['pivot'][_0x5abbea['axis']];}function _0x26e3dc(_0x21287a,_0x5e16b1){return-_0x5e16b1[_0x3e2a36['size']]*_0x21287a['pivot'][_0x3e2a36['axis']];}function _0x45edb9(_0x106189,_0x53780b){return _0x53780b[_0x5abbea['size']]*(-0x2341+-0x24e0+0x4822-_0x106189['pivot'][_0x5abbea['axis']]);}function _0x2601c6(_0x87f669,_0x50aed9){_0x87f669=_0x87f669['filter'](_0x2798eb),_0x251986=_0x50aed9,ls['x']=_0x251986['containerS'+'ize']['x']-_0x251986['padding']['x']-_0x251986['padding']['z'],ls['y']=_0x251986['containerS'+'ize']['y']-_0x251986['padding']['y']-_0x251986['padding']['w'],_0x54e860(_0x87f669);const _0x3b2bb7=_0x165e4a(_0xbb3c6f(_0x87f669)),_0x377f1b=_0x318e85(_0x3b2bb7,_0x171e9c(_0x3b2bb7)),_0x1c56ec=_0x197ad2(_0x3b2bb7,_0x377f1b);return _0x4a07a7(_0x3b2bb7,_0x377f1b,_0x1c56ec),_0x601c38(_0x3b2bb7,_0x377f1b,_0x1c56ec),_0x2073f1(_0x3b2bb7);}function _0x2798eb(_0x29576d){const _0x1482fb=_0x29576d['entity']['layoutchil'+'d'];return!_0x1482fb||!_0x1482fb['enabled']||!_0x1482fb['excludeFro'+'mLayout'];}function _0x54e860(_0x3c3df9){for(let _0x58e5da=0x3ae*-0x1+-0x1*0x2441+0x27ef;_0x58e5da<_0x3c3df9['length'];++_0x58e5da){const _0x70e4f6=_0x3c3df9[_0x58e5da],_0x26a89f=_0x70e4f6['anchor'];(_0x26a89f['x']!==-0x3*-0x4e5+0x11c+-0xd*0x137||_0x26a89f['y']!==0x536+0xc69+-0x119f||_0x26a89f['z']!==-0x96d*0x4+-0xa9b+0x304f||_0x26a89f['w']!==-0x2*0x12b9+-0x1d6e+0x42e0)&&(_0x70e4f6['anchor']=re['ZERO']);}}function _0xbb3c6f(_0x292f78){if(!_0x251986['wrap'])return[_0x292f78];const _0xbdeb47=[[]],_0x58e4be=_0x515edf(_0x292f78);let _0x38e3b3=0x24e8+0x2285*0x1+-0x476d;const _0x44af10=_0x251986[_0x5abbea['fitting']]===Qg;for(let _0x59866e=-0xbce+-0x2551*-0x1+0x1983*-0x1;_0x59866e<_0x292f78['length'];++_0x59866e){_0xbdeb47[_0xbdeb47['length']-(0x1fc9+0x23*-0xb3+-0x74f)]['length']>-0x1*-0x224b+0x97*0x8+-0x2703&&(_0x38e3b3+=_0x251986['spacing'][_0x5abbea['axis']]);const _0x1ca170=_0x58e4be[_0x59866e][_0x5abbea['size']];_0x38e3b3+=_0x1ca170,!_0x44af10&&_0x38e3b3>ls[_0x5abbea['axis']]&&_0xbdeb47[_0xbdeb47['length']-(-0x23*0x61+-0x17*0xa0+0x1ba4)]['length']!==0xd58+-0x13fe+0x1*0x6a6&&(_0x38e3b3=_0x1ca170,_0xbdeb47['push']([])),_0xbdeb47[_0xbdeb47['length']-(0x2*-0x17b+-0xbe9+0xee0)]['push'](_0x292f78[_0x59866e]),_0x44af10&&_0x38e3b3>ls[_0x5abbea['axis']]&&_0x59866e!==_0x292f78['length']-(-0xab6+0x1121*-0x2+-0x18d*-0x1d)&&(_0x38e3b3=-0x16a7+-0x1dde+0x3485,_0xbdeb47['push']([]));}return _0xbdeb47;}function _0x165e4a(_0x23c4a9){const _0x2b41e1=_0x251986['orientatio'+'n']===Ce&&_0x251986['reverseX']||_0x251986['orientatio'+'n']===je&&_0x251986['reverseY'],_0x4772c1=_0x251986['orientatio'+'n']===Ce&&_0x251986['reverseY']||_0x251986['orientatio'+'n']===je&&_0x251986['reverseX'];if(_0x2b41e1){for(let _0x44cb9b=-0x5c*0x4b+-0x8eb+0x23df;_0x44cb9b<_0x23c4a9['length'];++_0x44cb9b)_0x2b41e1&&_0x23c4a9[_0x44cb9b]['reverse']();}return _0x4772c1&&_0x23c4a9['reverse'](),_0x23c4a9;}function _0x171e9c(_0xe12e35){const _0x2f7f4f=[];for(let _0x40301e=-0x21f4+-0x13bd+0x35b1;_0x40301e<_0xe12e35['length'];++_0x40301e){const _0x11f69d=_0xe12e35[_0x40301e],_0x49aa0d=_0x515edf(_0x11f69d),_0xf013e7=_0x4a4c6b(_0x49aa0d,_0x5abbea),_0x3b8a97=_0x1c34c3(_0x251986[_0x5abbea['fitting']],_0xf013e7,ls[_0x5abbea['axis']]);_0x3b8a97===os['APPLY_STRE'+'TCHING']?_0x548ff0(_0x49aa0d,_0xf013e7,_0x5abbea):_0x3b8a97===os['APPLY_SHRI'+'NKING']&&_0xd11ea(_0x49aa0d,_0xf013e7,_0x5abbea),_0x2f7f4f['push'](_0x49aa0d);}return _0x2f7f4f;}function _0x318e85(_0x4a1c33,_0x278109){const _0x17c2ba=[],_0x1272d7=[];for(let _0x571499=-0x2040+0xc*0x219+-0xc*-0x97;_0x571499<_0x4a1c33['length'];++_0x571499){const _0x153520=_0x4a1c33[_0x571499];_0x153520['largestEle'+'ment']=null,_0x153520['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0xb6fdff=-0xe9*0x7+0x1ead+0xc27*-0x2;_0xb6fdff<_0x153520['length'];++_0xb6fdff){const _0x3ef410=_0x278109[_0x571499][_0xb6fdff];_0x3ef410[_0x3e2a36['size']]>_0x153520['largestSiz'+'e'][_0x3e2a36['size']]&&(_0x153520['largestEle'+'ment']=_0x153520[_0xb6fdff],_0x153520['largestSiz'+'e']=_0x3ef410);}_0x17c2ba['push'](_0x153520['largestEle'+'ment']),_0x1272d7['push'](_0x153520['largestSiz'+'e']);}const _0x40306e=_0x4a4c6b(_0x1272d7,_0x3e2a36),_0x27e81e=_0x1c34c3(_0x251986[_0x3e2a36['fitting']],_0x40306e,ls[_0x3e2a36['axis']]);_0x27e81e===os['APPLY_STRE'+'TCHING']?_0x548ff0(_0x1272d7,_0x40306e,_0x3e2a36):_0x27e81e===os['APPLY_SHRI'+'NKING']&&_0xd11ea(_0x1272d7,_0x40306e,_0x3e2a36);for(let _0x4f0ffb=-0x1870+0x1290+0x5e0;_0x4f0ffb<_0x4a1c33['length'];++_0x4f0ffb){const _0x4b9e01=_0x4a1c33[_0x4f0ffb];for(let _0x56513f=-0x4c*0x23+-0x1c74+0x26d8;_0x56513f<_0x4b9e01['length'];++_0x56513f){const _0x2da8d9=_0x278109[_0x4f0ffb][_0x56513f],_0x5db6a4=_0x2da8d9[_0x3e2a36['size']],_0x317ff8=_0x4a1c33['length']===-0x20d*-0xc+-0x210d*0x1+0x872?ls[_0x3e2a36['axis']]:_0x4b9e01['largestSiz'+'e'][_0x3e2a36['size']],_0x179a1a=_0x1c34c3(_0x251986[_0x3e2a36['fitting']],_0x5db6a4,_0x317ff8);_0x179a1a===os['APPLY_STRE'+'TCHING']?_0x2da8d9[_0x3e2a36['size']]=Math['min'](_0x317ff8,_0x2da8d9[_0x3e2a36['maxSize']]):_0x179a1a===os['APPLY_SHRI'+'NKING']&&(_0x2da8d9[_0x3e2a36['size']]=Math['max'](_0x317ff8,_0x2da8d9[_0x3e2a36['minSize']]));}}return _0x278109;}function _0x1c34c3(_0xfa2769,_0x424253,_0x3a137c){switch(_0xfa2769){case Nu:return os['NONE'];case BR:return _0x424253<_0x3a137c?os['APPLY_STRE'+'TCHING']:os['NONE'];case Qg:return _0x424253>=_0x3a137c?os['APPLY_SHRI'+'NKING']:os['NONE'];case zR:return _0x424253<_0x3a137c?os['APPLY_STRE'+'TCHING']:os['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0xfa2769);}}function _0x4a4c6b(_0x680c8a,_0x48e128){const _0x1a8e51=_0x31d5ab(_0x680c8a,_0x48e128['size']),_0x538298=(_0x680c8a['length']-(-0x2360+0x73d+0x709*0x4))*_0x251986['spacing'][_0x48e128['axis']];return _0x1a8e51+_0x538298;}function _0x548ff0(_0x34fba5,_0x4d139c,_0x53f425){const _0x5343e7=_0x279df0(_0x34fba5,_0x53f425['maxSize']),_0x5cd42e=_0x4422ed(_0x34fba5,_0x53f425['fittingPro'+'portion']),_0x446f4a=_0xf0a11d(_0x5cd42e,_0x5343e7);let _0x26cbe7=ls[_0x53f425['axis']]-_0x4d139c;for(let _0x5187f9=-0x14a5*0x1+-0xf*-0x149+0x1*0x15e;_0x5187f9<_0x34fba5['length'];++_0x5187f9){const _0x43613c=_0x5343e7[_0x5187f9],_0x429945=_0x43cbbc(_0x43613c,_0x26cbe7,_0x5cd42e,_0x446f4a),_0x7fd3dd=_0x34fba5[_0x43613c][_0x53f425['size']]+_0x429945,_0x4b2de3=_0x34fba5[_0x43613c][_0x53f425['maxSize']],_0x15077b=Math['min'](_0x7fd3dd,_0x4b2de3);_0x34fba5[_0x43613c][_0x53f425['size']]=_0x15077b;const _0x5121ad=Math['max'](_0x7fd3dd-_0x15077b,0x515*0x1+0xe5e+0x1373*-0x1),_0x1aa853=_0x429945-_0x5121ad;_0x26cbe7-=_0x1aa853;}}function _0xd11ea(_0x8d3639,_0x5aabf0,_0x36ecb4){const _0xafd649=_0x279df0(_0x8d3639,_0x36ecb4['minSize'],!(0x19a2+-0x31*-0xf+-0x1c81)),_0x595467=_0x4422ed(_0x8d3639,_0x36ecb4['fittingPro'+'portion']),_0x4099b0=_0x380b3e(_0x595467),_0x1e02cd=_0xf0a11d(_0x4099b0,_0xafd649);let _0x4cd180=_0x5aabf0-ls[_0x36ecb4['axis']];for(let _0x309108=-0x26e+0x1011+0x1*-0xda3;_0x309108<_0x8d3639['length'];++_0x309108){const _0x47d009=_0xafd649[_0x309108],_0x38a74a=_0x43cbbc(_0x47d009,_0x4cd180,_0x4099b0,_0x1e02cd),_0x1dc35e=_0x8d3639[_0x47d009][_0x36ecb4['size']]-_0x38a74a,_0x1e77af=_0x8d3639[_0x47d009][_0x36ecb4['minSize']],_0x59331e=Math['max'](_0x1dc35e,_0x1e77af);_0x8d3639[_0x47d009][_0x36ecb4['size']]=_0x59331e;const _0x43fbfb=Math['max'](_0x59331e-_0x1dc35e,0x1136+0x16b3+-0x259*0x11),_0x1ad110=_0x38a74a-_0x43fbfb;_0x4cd180-=_0x1ad110;}}function _0x43cbbc(_0x488990,_0x45b160,_0x3da999,_0x3f58a6){const _0x218ce0=_0x3da999[_0x488990],_0x3bde51=_0x3f58a6[_0x488990];return Math['abs'](_0x218ce0)<-0x216c+-0x1236+-0x2*-0x19d1+0.00001&&Math['abs'](_0x3bde51)<0x2*-0xe11+-0x89d+0x24bf+0.00001?_0x45b160:_0x45b160*_0x218ce0/_0x3bde51;}function _0x197ad2(_0x4ccfb5,_0x591ed5){const _0x43d38c={};_0x43d38c[_0x5abbea['axis']]=-0x1*-0x13e1+0x1c4*-0x13+0xdab*0x1,_0x43d38c[_0x3e2a36['axis']]=-0x4d3+-0x2b*0xd1+0x27ee,_0x4ccfb5[_0x5abbea['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0x3781b2=[];for(let _0x4b39d5=-0x7f1*0x1+-0x3*-0x7b5+0x2*-0x797;_0x4b39d5<_0x4ccfb5['length'];++_0x4b39d5){const _0xd7fdc4=_0x4ccfb5[_0x4b39d5];if(_0xd7fdc4['length']===-0x36e*-0x1+-0xf5f+-0x3fb*-0x3){_0x3781b2['push']([]);continue;}const _0x4391d3=[],_0x49e60c=_0x591ed5[_0x4b39d5];for(let _0x1602d2=0x2e7*-0x2+-0x2487+0x1*0x2a55;_0x1602d2<_0xd7fdc4['length'];++_0x1602d2){const _0x344b0a=_0xd7fdc4[_0x1602d2],_0x114053=_0x49e60c[_0x1602d2];_0x43d38c[_0x3e2a36['axis']]-=_0x26e3dc(_0x344b0a,_0x114053),_0x43d38c[_0x5abbea['axis']]-=_0x4fffa9(_0x344b0a,_0x114053),_0x4391d3[_0x1602d2]={},_0x4391d3[_0x1602d2][_0x5abbea['axis']]=_0x43d38c[_0x5abbea['axis']],_0x4391d3[_0x1602d2][_0x3e2a36['axis']]=_0x43d38c[_0x3e2a36['axis']],_0x43d38c[_0x3e2a36['axis']]+=_0x26e3dc(_0x344b0a,_0x114053),_0x43d38c[_0x5abbea['axis']]+=_0x45edb9(_0x344b0a,_0x114053)+_0x251986['spacing'][_0x5abbea['axis']];}_0xd7fdc4[_0x5abbea['size']]=_0x43d38c[_0x5abbea['axis']]-_0x251986['spacing'][_0x5abbea['axis']],_0xd7fdc4[_0x3e2a36['size']]=_0xd7fdc4['largestSiz'+'e'][_0x3e2a36['size']],_0x4ccfb5[_0x5abbea['size']]=Math['max'](_0x4ccfb5[_0x5abbea['size']],_0xd7fdc4[_0x5abbea['size']]),_0x43d38c[_0x5abbea['axis']]=-0xf6*0x8+-0x2347+0x1*0x2af7,_0x43d38c[_0x3e2a36['axis']]+=_0xd7fdc4[_0x3e2a36['size']]+_0x251986['spacing'][_0x3e2a36['axis']],_0x3781b2['push'](_0x4391d3);}return _0x4ccfb5[_0x3e2a36['size']]=_0x43d38c[_0x3e2a36['axis']]-_0x251986['spacing'][_0x3e2a36['axis']],_0x3781b2;}function _0x4a07a7(_0x3847c2,_0x4baeb4,_0x5f8160){const _0x2f5797=_0x251986['alignment'][_0x5abbea['axis']],_0x1b5828=_0x251986['alignment'][_0x3e2a36['axis']],_0xbcaf9c=_0x251986['padding'][_0x5abbea['axis']],_0x4eae88=_0x251986['padding'][_0x3e2a36['axis']];for(let _0x3b2715=0x2476+-0x1d*-0x5+0x2507*-0x1;_0x3b2715<_0x3847c2['length'];++_0x3b2715){const _0x2e4f36=_0x3847c2[_0x3b2715],_0x335799=_0x4baeb4[_0x3b2715],_0x35af42=_0x5f8160[_0x3b2715],_0x27eddb=(ls[_0x5abbea['axis']]-_0x2e4f36[_0x5abbea['size']])*_0x2f5797+_0xbcaf9c,_0x303e60=(ls[_0x3e2a36['axis']]-_0x3847c2[_0x3e2a36['size']])*_0x1b5828+_0x4eae88;for(let _0x34ede4=0xa*-0x2a5+-0xd1*0x9+0x1*0x21cb;_0x34ede4<_0x2e4f36['length'];++_0x34ede4){const _0xc40461=(_0x2e4f36[_0x3e2a36['size']]-_0x335799[_0x34ede4][_0x3e2a36['size']])*_0x251986['alignment'][_0x3e2a36['axis']];_0x35af42[_0x34ede4][_0x5abbea['axis']]+=_0x27eddb,_0x35af42[_0x34ede4][_0x3e2a36['axis']]+=_0x303e60+_0xc40461;}}}function _0x601c38(_0x50caeb,_0x2c690b,_0x87ff1b){for(let _0x127d1f=-0x3c*0xa5+0x39*0x7c+0xb10;_0x127d1f<_0x50caeb['length'];++_0x127d1f){const _0x9e92f5=_0x50caeb[_0x127d1f],_0x4152c1=_0x2c690b[_0x127d1f],_0x3668f4=_0x87ff1b[_0x127d1f];for(let _0x250924=0x2698+-0x150b+-0x118d*0x1;_0x250924<_0x9e92f5['length'];++_0x250924){const _0x2916b1=_0x9e92f5[_0x250924];_0x2916b1[_0x5abbea['calculated'+'Size']]=_0x4152c1[_0x250924][_0x5abbea['size']],_0x2916b1[_0x3e2a36['calculated'+'Size']]=_0x4152c1[_0x250924][_0x3e2a36['size']],_0x251986['orientatio'+'n']===Ce?_0x2916b1['entity']['setLocalPo'+'sition'](_0x3668f4[_0x250924][_0x5abbea['axis']],_0x3668f4[_0x250924][_0x3e2a36['axis']],_0x2916b1['entity']['getLocalPo'+'sition']()['z']):_0x2916b1['entity']['setLocalPo'+'sition'](_0x3668f4[_0x250924][_0x3e2a36['axis']],_0x3668f4[_0x250924][_0x5abbea['axis']],_0x2916b1['entity']['getLocalPo'+'sition']()['z']);}}}function _0x2073f1(_0x3a830b){const _0x5557aa=_0x3a830b['width'],_0x227012=_0x3a830b['height'],_0x5a00cf=(ls['x']-_0x5557aa)*_0x251986['alignment']['x']+_0x251986['padding']['x'],_0xb5b6bb=(ls['y']-_0x227012)*_0x251986['alignment']['y']+_0x251986['padding']['y'];return{'bounds':new re(_0x5a00cf,_0xb5b6bb,_0x5557aa,_0x227012)};}function _0x515edf(_0x5a67a4){const _0xca6fab=[];for(let _0x4580c2=0x405+-0x3*0x6fd+0x10f2;_0x4580c2<_0x5a67a4['length'];++_0x4580c2){const _0x300b86=_0x5a67a4[_0x4580c2],_0x1e27b1=Math['max'](_0x20d353(_0x300b86,'minWidth'),-0x4*-0x8eb+-0x1*-0x171d+0x1*-0x3ac9),_0x4c89ea=Math['max'](_0x20d353(_0x300b86,'minHeight'),-0x157e+-0x41a+0x1998),_0x2247d7=Math['max'](_0x20d353(_0x300b86,'maxWidth'),_0x1e27b1),_0x213ff5=Math['max'](_0x20d353(_0x300b86,'maxHeight'),_0x4c89ea),_0x59cb01=_0x53a70d(_0x20d353(_0x300b86,'width'),_0x1e27b1,_0x2247d7),_0x47afc2=_0x53a70d(_0x20d353(_0x300b86,'height'),_0x4c89ea,_0x213ff5),_0x41ace4=_0x20d353(_0x300b86,'fitWidthPr'+'oportion'),_0x3dabc8=_0x20d353(_0x300b86,'fitHeightP'+'roportion');_0xca6fab['push']({'minWidth':_0x1e27b1,'minHeight':_0x4c89ea,'maxWidth':_0x2247d7,'maxHeight':_0x213ff5,'width':_0x59cb01,'height':_0x47afc2,'fitWidthProportion':_0x41ace4,'fitHeightProportion':_0x3dabc8});}return _0xca6fab;}function _0x20d353(_0x4aee0a,_0x84c7f1){const _0x647a31=_0x4aee0a['entity']['layoutchil'+'d'];return _0x647a31&&_0x647a31['enabled']&&_0x647a31[_0x84c7f1]!==void(0x1*-0x17f7+0x16c*-0x9+0xc41*0x3)&&_0x647a31[_0x84c7f1]!==null?_0x647a31[_0x84c7f1]:_0x4aee0a[_0x84c7f1]!==void(-0x83*-0x23+-0xf6c+0x31*-0xd)?_0x4aee0a[_0x84c7f1]:VR[_0x84c7f1];}function _0x53a70d(_0xcbc761,_0x38c3a5,_0x577c40){return Math['min'](Math['max'](_0xcbc761,_0x38c3a5),_0x577c40);}function _0x31d5ab(_0xd1ce05,_0x364f40){return _0xd1ce05['reduce']((_0x313528,_0x25e4d9)=>_0x313528+_0x25e4d9[_0x364f40],0x65+0xad*0x2c+-0x1e21);}function _0x4422ed(_0x3f5976,_0x55fee0){const _0x5cc584=_0x31d5ab(_0x3f5976,_0x55fee0),_0x1ba97a=[],_0xd709aa=_0x3f5976['length'];if(_0x5cc584===-0xb*0x18b+0xa*-0x2ec+0x433*0xb){for(let _0xa6d96b=-0x1e55+0x16de*0x1+0x777;_0xa6d96b<_0xd709aa;++_0xa6d96b)_0x1ba97a['push']((0x1d78+0x3*-0x905+-0x2*0x134)/_0xd709aa);}else{for(let _0x3af900=0x1*0x93b+0x5*-0x5ad+0x1326;_0x3af900<_0xd709aa;++_0x3af900)_0x1ba97a['push'](_0x3f5976[_0x3af900][_0x55fee0]/_0x5cc584);}return _0x1ba97a;}function _0x380b3e(_0x198157){if(_0x198157['length']===0x23cd*-0x1+-0x1b19+0x1*0x3ee7)return[0x1*-0x479+-0xb*0x19f+0x164f];const _0x4febc0=[],_0x49cc4a=_0x198157['length'];for(let _0x3e57dd=-0x16*-0x7d+0x1*0x1945+-0x2403*0x1;_0x3e57dd<_0x49cc4a;++_0x3e57dd)_0x4febc0['push']((-0x2ef*0x1+-0x28*-0xa6+-0x1700-_0x198157[_0x3e57dd])/(_0x49cc4a-(-0x5f8*-0x1+0x43*0x51+0x13*-0x16e)));return _0x4febc0;}function _0x279df0(_0x4b9397,_0x2d531a,_0x344661){return _0x4b9397['forEach'](_0x36a900),_0x4b9397['slice']()['sort']((_0x11bf2e,_0x4c1325)=>_0x344661?_0x4c1325[_0x2d531a]-_0x11bf2e[_0x2d531a]:_0x11bf2e[_0x2d531a]-_0x4c1325[_0x2d531a])['map'](_0x511f25);}function _0x36a900(_0x1a3d3a,_0x9454f4){_0x1a3d3a['index']=_0x9454f4;}function _0x511f25(_0x1bf649){return _0x1bf649['index'];}function _0xf0a11d(_0x240d96,_0x2004fe){const _0x22dc8e=[];_0x22dc8e[_0x2004fe[_0x240d96['length']-(-0x1ad3+-0x211e+0x3bf2)]]=_0x240d96[_0x2004fe[_0x240d96['length']-(0x13*0x153+0x21b7+0x869*-0x7)]];for(let _0x33c127=_0x240d96['length']-(0x455*0x4+0xae9+-0x1c3b);_0x33c127>=-0xdcb+-0x1*0x17c2+0x1*0x258d;--_0x33c127)_0x22dc8e[_0x2004fe[_0x33c127]]=_0x22dc8e[_0x2004fe[_0x33c127+(0x2310+0x5*0xed+0x4*-0x9ec)]]+_0x240d96[_0x2004fe[_0x33c127]];return _0x22dc8e;}return _0x2601c6;}const xm={};xm[Ce]=t0(Ce),xm[je]=t0(je);class GR{['calculateL'+'ayout'](_0x1b7de6,_0x428de9){const _0x577c33=xm[_0x428de9['orientatio'+'n']];if(_0x577c33)return _0x577c33(_0x1b7de6,_0x428de9);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x428de9['orientatio'+'n']);}}function Jg(_0x237049){return _0x237049['element'];}function HR(_0x48e224){return _0x48e224['enabled']&&_0x48e224['element']&&_0x48e224['element']['enabled'];}class s0 extends we{constructor(_0x5563fa,_0x5825d2){super(_0x5563fa,_0x5825d2),h(this,'_orientati'+'on',Ce),h(this,'_reverseX',!(0x1d6b+-0x2078+-0x2*-0x187)),h(this,'_reverseY',!(0x1923+-0x87*0x38+-0x2d*-0x19)),h(this,'_alignment',new J(0xa01*0x1+0x2616+0x3017*-0x1,0x1834+-0x1*-0x265e+-0x3e91)),h(this,'_padding',new re()),h(this,'_spacing',new J()),h(this,'_widthFitt'+'ing',Nu),h(this,'_heightFit'+'ting',Nu),h(this,'_wrap',!(0x215*-0x7+0x1a2c+-0xb98)),h(this,'_layoutCal'+'culator',new GR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x1d5470=>{this['_listenFor'+'ReflowEven'+'ts'](_0x1d5470,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),w['assert'](_0x5563fa['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x5563fa['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x5563fa['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),w['assert'](_0x5563fa['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x5563fa['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x5563fa['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x553cee){_0x553cee!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x553cee,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x2d93b5){_0x2d93b5!==this['_reverseX']&&(this['_reverseX']=_0x2d93b5,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x5502c7){_0x5502c7!==this['_reverseY']&&(this['_reverseY']=_0x5502c7,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x46a448){_0x46a448['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x46a448),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x4346e3){_0x4346e3['equals'](this['_padding'])||(this['_padding']['copy'](_0x4346e3),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x5425f1){_0x5425f1['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x5425f1),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0x2f599d){_0x2f599d!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0x2f599d,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x3a397a){_0x3a397a!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x3a397a,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x2a2c4b){_0x2a2c4b!==this['_wrap']&&(this['_wrap']=_0x2a2c4b,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x1e4809){return _0x1e4809===this['entity']||this['entity']['children']['indexOf'](_0x1e4809)!==-(-0x3*0xb22+0x1d9a+0x3cd);}['_listenFor'+'ReflowEven'+'ts'](_0x930146,_0x2faab3){_0x930146['element']&&(_0x930146['element'][_0x2faab3]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x930146['element'][_0x2faab3]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x930146['element'][_0x2faab3]('resize',this['_scheduleR'+'eflow'],this),_0x930146['element'][_0x2faab3]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x930146['layoutchil'+'d']&&(_0x930146['layoutchil'+'d'][_0x2faab3]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x930146['layoutchil'+'d'][_0x2faab3]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0xa1d8e5){this['_isSelfOrC'+'hild'](_0xa1d8e5)&&(this['_listenFor'+'ReflowEven'+'ts'](_0xa1d8e5,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x1bb80f){this['_isSelfOrC'+'hild'](_0x1bb80f)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x1bb80f,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0x35a03c){this['_listenFor'+'ReflowEven'+'ts'](_0x35a03c,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0x294ef7){this['_listenFor'+'ReflowEven'+'ts'](_0x294ef7,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0xfcdbb8=Jg(this['entity']),_0x3f9b01=this['entity']['children']['filter'](HR)['map'](Jg);if(!_0xfcdbb8||_0x3f9b01['length']===0x19d+0x26e4+-0x2881)return;const _0x14a711=Math['max'](_0xfcdbb8['calculated'+'Width'],0x180f+0x768+-0x1f77),_0x50885d=Math['max'](_0xfcdbb8['calculated'+'Height'],-0x8*0x1+-0x1c64+0x1c6c),_0x153f84={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new J(_0x14a711,_0x50885d)};this['_isPerform'+'ingReflow']=!(0x6*0x16f+0x218a*0x1+-0x2a24);const _0x33add3=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x3f9b01,_0x153f84);this['_isPerform'+'ingReflow']=!(-0x1*-0x2176+-0xf8d+0x8f4*-0x2),this['fire']('reflow',_0x33add3);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x52c385=>{this['_listenFor'+'ReflowEven'+'ts'](_0x52c385,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class WR{constructor(){this['enabled']=!(0x1*-0x1834+0x1b0d+-0x2d9);}}const i0=['enabled'],$R=0x9*0x1c9+-0xc+0x1*-0xfa1;class XR extends ct{constructor(_0x14acdf){super(_0x14acdf),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=s0,this['DataType']=WR,this['schema']=i0,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x1560eb,_0x4ec2db,_0x4020fc){_0x4ec2db['enabled']!==void(-0x1331+-0x17*-0x68+-0x9d9*-0x1)&&(_0x1560eb['enabled']=_0x4ec2db['enabled']),_0x4ec2db['orientatio'+'n']!==void(0x6*0x4d6+-0x2*-0xaa7+-0x3252)&&(_0x1560eb['orientatio'+'n']=_0x4ec2db['orientatio'+'n']),_0x4ec2db['reverseX']!==void(-0x13b1*0x1+0x545*0x4+-0x163)&&(_0x1560eb['reverseX']=_0x4ec2db['reverseX']),_0x4ec2db['reverseY']!==void(-0x7a*-0x41+0x445*0x5+-0x37d*0xf)&&(_0x1560eb['reverseY']=_0x4ec2db['reverseY']),_0x4ec2db['alignment']!==void(0x75f+0xc*-0x1ee+0xfc9)&&(_0x1560eb['alignment']=Array['isArray'](_0x4ec2db['alignment'])?new J(_0x4ec2db['alignment']):_0x4ec2db['alignment']),_0x4ec2db['padding']!==void(0x17c3+0x1f36*0x1+0x1*-0x36f9)&&(_0x1560eb['padding']=Array['isArray'](_0x4ec2db['padding'])?new re(_0x4ec2db['padding']):_0x4ec2db['padding']),_0x4ec2db['spacing']!==void(-0xdb6+-0x4f*-0x3f+-0x3*0x1e9)&&(_0x1560eb['spacing']=Array['isArray'](_0x4ec2db['spacing'])?new J(_0x4ec2db['spacing']):_0x4ec2db['spacing']),_0x4ec2db['widthFitti'+'ng']!==void(-0x13e8+-0x3c2+0x17aa)&&(_0x1560eb['widthFitti'+'ng']=_0x4ec2db['widthFitti'+'ng']),_0x4ec2db['heightFitt'+'ing']!==void(-0xfeb+0x367+0x6*0x216)&&(_0x1560eb['heightFitt'+'ing']=_0x4ec2db['heightFitt'+'ing']),_0x4ec2db['wrap']!==void(-0x206f+0x11e1+0xe8e)&&(_0x1560eb['wrap']=_0x4ec2db['wrap']),super['initialize'+'ComponentD'+'ata'](_0x1560eb,_0x4ec2db,_0x4020fc);}['cloneCompo'+'nent'](_0x5bd1ce,_0xe88d48){const _0x3df570=_0x5bd1ce['layoutgrou'+'p'];return this['addCompone'+'nt'](_0xe88d48,{'enabled':_0x3df570['enabled'],'orientation':_0x3df570['orientatio'+'n'],'reverseX':_0x3df570['reverseX'],'reverseY':_0x3df570['reverseY'],'alignment':_0x3df570['alignment'],'padding':_0x3df570['padding'],'spacing':_0x3df570['spacing'],'widthFitting':_0x3df570['widthFitti'+'ng'],'heightFitting':_0x3df570['heightFitt'+'ing'],'wrap':_0x3df570['wrap']});}['scheduleRe'+'flow'](_0x29a7eb){this['_reflowQue'+'ue']['indexOf'](_0x29a7eb)===-(-0x37*0x31+-0xeb1+0x24b*0xb)&&this['_reflowQue'+'ue']['push'](_0x29a7eb);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===-0x1232+-0x190b*0x1+-0x2b3d*-0x1)return;let _0x34098a=-0x1c48+0x1*0x1afb+0x14d;for(;this['_reflowQue'+'ue']['length']>-0x337*-0x2+-0x135+-0x539;){const _0x12383f=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=-0x24f5*-0x1+0x1*-0x23b1+-0xa2*0x2,_0x12383f['sort']((_0x3c84a6,_0x4df6b4)=>_0x3c84a6['entity']['graphDepth']-_0x4df6b4['entity']['graphDepth']);for(let _0x4719dc=-0x1a5a+0x5ac+-0x14ae*-0x1;_0x4719dc<_0x12383f['length'];++_0x4719dc)_0x12383f[_0x4719dc]['reflow']();if(++_0x34098a>=$R){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x57cd03,_0x137003){_0x137003['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}we['_buildAcce'+'ssors'](s0['prototype'],i0);class qR{constructor(){h(this,'map',new Map());}['destroy'](_0x4978ce){this['map']['forEach'](_0x1a7898=>_0x1a7898['mesh']['destroy']());}}const jR=new Kt(),r0=(_0x4859d5,_0x311f4f)=>{const _0x45d6bd=jR['get'](_0x4859d5,()=>new qR());let _0x5d9c27=_0x45d6bd['map']['get'](_0x311f4f);if(!_0x5d9c27){let _0x48d9de,_0x21d878;switch(_0x311f4f){case'box':_0x48d9de=Ge['fromGeomet'+'ry'](_0x4859d5,new mu()),_0x21d878={'x':0x2,'y':0x2,'z':0x2,'uv':(0x77*-0x2f+-0x1559*0x1+-0x452*-0xa)/(-0x77*0x39+-0x3*0xa91+0x3a35*0x1)};break;case'capsule':_0x48d9de=Ge['fromGeomet'+'ry'](_0x4859d5,new GA({'radius':0.5,'height':0x2})),_0x21d878={'x':Math['PI']*(0x18*-0x14e+0x25*0x25+-0x6d*-0x3d),'y':Math['PI'],'z':Math['PI']*(-0x1*0x18ed+-0x7cf*-0x1+0x1120),'uv':(-0x77f*0x3+0x1256+0x428)/(-0x25f+0x259c+-0x2*0x119d)+(0x67*-0x3+0x1*0x10af+-0xe9*0x11)/(0x12ed+0x19*0x169+0x1*-0x362b)/(-0x7f4+-0x20f2+0x28e9*0x1)*(-0xf1*-0x1+-0x1e70+0x1d81)};break;case'cone':_0x48d9de=Ge['fromGeomet'+'ry'](_0x4859d5,new HA({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0x21d878={'x':2.54,'y':2.54,'z':2.54,'uv':(0xd6f+-0x1*-0xe47+-0x1bb5)/(-0x1*-0x19df+-0x1506+-0x4d6)+(-0x1fa2+-0x23e1+0x4384)/(-0x1cd*0x1+0x922+-0x752)/(0x199a+0x1a3*-0x15+0x232*0x4)};break;case'cylinder':_0x48d9de=Ge['fromGeomet'+'ry'](_0x4859d5,new WA({'radius':0.5,'height':0x1})),_0x21d878={'x':Math['PI'],'y':(-0x2ea+-0x130+0x41a+0.79)*(0x109+-0x13a*-0x1+-0x241),'z':Math['PI'],'uv':(0x1e15+0x2*-0x59f+-0x12d6)/(0x25f8+0x1e96+-0x448b)+(-0x7*-0x481+-0x1cf*0x9+0x1*-0xf3f)/(0x1ab8+-0x532+-0x1583)/(-0x26*0xd9+0x1ffd+0x3c)*(0x18f*0x15+-0x14a8+-0xc11)};break;case'plane':_0x48d9de=Ge['fromGeomet'+'ry'](_0x4859d5,new $A({'halfExtents':new J(-0x4c7+0x104*0xb+-0x665+0.5,-0x29d*-0xe+-0x7*-0xd6+-0x2a70+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0x21d878={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x48d9de=Ge['fromGeomet'+'ry'](_0x4859d5,new _m({'radius':0.5})),_0x21d878={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x48d9de=Ge['fromGeomet'+'ry'](_0x4859d5,new XA({'tubeRadius':0.2,'ringRadius':0.3})),_0x21d878={'x':Math['PI']*(-0x227e+0x1e11+0x46d+0.5)*(-0x3d*-0x31+0x2122+-0x2ccf+0.5)-Math['PI']*(-0xd43+0x1*0x1c02+-0x2f3*0x5+0.1)*(-0x1d*-0xf7+-0x163e+0x71*-0xd+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x311f4f);}_0x48d9de['incRefCoun'+'t'](),_0x5d9c27={'mesh':_0x48d9de,'area':_0x21d878},_0x45d6bd['map']['set'](_0x311f4f,_0x5d9c27);}return _0x5d9c27;};class Tm extends we{constructor(_0xf8e85e,_0x42166a){super(_0xf8e85e,_0x42166a),h(this,'_type','asset'),h(this,'_asset',null),h(this,'_model',null),h(this,'_mapping',{}),h(this,'_castShado'+'ws',!(-0x22*-0x63+-0x196*0x7+0x2*-0x106)),h(this,'_receiveSh'+'adows',!(0x6*0x241+0x1*-0x1927+0xba1)),h(this,'_materialA'+'sset',null),h(this,'_material'),h(this,'_castShado'+'wsLightmap',!(0x57f+0x807*0x4+0x3*-0xc89)),h(this,'_lightmapp'+'ed',!(0x18bc+-0x46+-0x1875)),h(this,'_lightmapS'+'izeMultipl'+'ier',0x3f3*0x6+-0x96f+-0xa*0x16d),h(this,'isStatic',!(-0x766+-0xc01+0x1368)),h(this,'_layers',[er]),h(this,'_batchGrou'+'pId',-(0xa6a*0x2+-0x1*-0x125b+-0x272e)),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_materialE'+'vents',null),h(this,'_clonedMod'+'el',!(-0x1*0x845+-0x1b8e+0x23d4)),h(this,'_batchGrou'+'p',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_material']=_0xf8e85e['defaultMat'+'erial'],_0x42166a['on']('remove',this['onRemoveCh'+'ild'],this),_0x42166a['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x42166a['on']('insert',this['onInsertCh'+'ild'],this),_0x42166a['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x2fad91){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x2fad91);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x98ef6c){if(this['_customAab'+'b']=_0x98ef6c,this['_model']){const _0x36d664=this['_model']['meshInstan'+'ces'];if(_0x36d664){for(let _0x112e4b=0x1d14+0x2696+-0x43aa;_0x112e4b<_0x36d664['length'];_0x112e4b++)_0x36d664[_0x112e4b]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x3aaeb7){if(this['_type']!==_0x3aaeb7){if(this['_area']=null,this['_type']=_0x3aaeb7,_0x3aaeb7==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0xdc9747=r0(this['system']['app']['graphicsDe'+'vice'],_0x3aaeb7);this['_area']=_0xdc9747['area'];const _0x49c10d=_0xdc9747['mesh'],_0x48b4da=new Ie(),_0x471a1b=new sr();_0x471a1b['graph']=_0x48b4da,_0x471a1b['meshInstan'+'ces']=[new He(_0x49c10d,this['_material'],_0x48b4da)],this['model']=_0x471a1b,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x4c9c8a){const _0x46b635=this['system']['app']['assets'];let _0x4d4a74=_0x4c9c8a;if(_0x4c9c8a instanceof pe&&(_0x4d4a74=_0x4c9c8a['id']),this['_asset']!==_0x4d4a74){if(this['_asset']){_0x46b635['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x26a3c6=_0x46b635['get'](this['_asset']);_0x26a3c6&&this['_unbindMod'+'elAsset'](_0x26a3c6);}if(this['_asset']=_0x4d4a74,this['_asset']){const _0x4de6a0=_0x46b635['get'](this['_asset']);_0x4de6a0?this['_bindModel'+'Asset'](_0x4de6a0):(this['model']=null,_0x46b635['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x412736){if(this['_model']!==_0x412736){if(_0x412736&&_0x412736['_immutable']){w['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(-0x2168+0x621*-0x4+0x134f*0x3),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(0xd7+0xf50+-0x6*0x2b1))),this['_model']=_0x412736,this['_model']){this['_model']['_immutable']=!(-0x1*-0x521+-0x9a+-0x487*0x1);const _0x403084=this['_model']['meshInstan'+'ces'];for(let _0x562b21=0x8ac+0x7dc+-0x1088;_0x562b21<_0x403084['length'];_0x562b21++)_0x403084[_0x562b21]['castShadow']=this['_castShado'+'ws'],_0x403084[_0x562b21]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x403084[_0x562b21]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x2d7cf3){if(_0x2d7cf3!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x2d7cf3,this['_model'])){const _0x4afedc=this['_model']['meshInstan'+'ces'];for(let _0x30fe8a=0x942+0x287*-0xe+0x1a20;_0x30fe8a<_0x4afedc['length'];_0x30fe8a++)_0x4afedc[_0x30fe8a]['setLightma'+'pped'](_0x2d7cf3);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x11d89e){if(this['_castShado'+'ws']===_0x11d89e)return;const _0x39353e=this['_model'];if(_0x39353e){const _0x1efbdb=this['layers'],_0x24645e=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x11d89e)for(let _0x2e714c=-0x1*-0x160f+-0x1529+-0xe6;_0x2e714c<_0x1efbdb['length'];_0x2e714c++){const _0x2cf7d7=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x2e714c]);_0x2cf7d7&&_0x2cf7d7['removeShad'+'owCasters'](_0x39353e['meshInstan'+'ces']);}const _0x327663=_0x39353e['meshInstan'+'ces'];for(let _0x2fd29d=0xf31+0x1*-0x10af+0x17e;_0x2fd29d<_0x327663['length'];_0x2fd29d++)_0x327663[_0x2fd29d]['castShadow']=_0x11d89e;if(!this['_castShado'+'ws']&&_0x11d89e)for(let _0x5229d7=-0x44*0x7b+-0x7f2*0x2+0x3090;_0x5229d7<_0x1efbdb['length'];_0x5229d7++){const _0x19ae2a=_0x24645e['layers']['getLayerBy'+'Id'](_0x1efbdb[_0x5229d7]);_0x19ae2a&&_0x19ae2a['addShadowC'+'asters'](_0x39353e['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x11d89e;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x4d97c7){if(this['_receiveSh'+'adows']!==_0x4d97c7&&(this['_receiveSh'+'adows']=_0x4d97c7,this['_model'])){const _0x53801b=this['_model']['meshInstan'+'ces'];for(let _0xba67bb=0x1e4b+-0x10c7+0x14*-0xad,_0x115306=_0x53801b['length'];_0xba67bb<_0x115306;_0xba67bb++)_0x53801b[_0xba67bb]['receiveSha'+'dow']=_0x4d97c7;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x50edf7){this['_castShado'+'wsLightmap']=_0x50edf7;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x290a6a){this['_lightmapS'+'izeMultipl'+'ier']=_0x290a6a;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x14a226){const _0xfb039a=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x3a30ef=0xa*0x25f+0x2428+-0x3bde*0x1;_0x3a30ef<this['_layers']['length'];_0x3a30ef++){const _0x4ec1b4=_0xfb039a['getLayerBy'+'Id'](this['_layers'][_0x3a30ef]);_0x4ec1b4&&_0x4ec1b4['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=0xa69+-0x4*-0x1f2+-0x1231*0x1;for(let _0x3f8f7c=-0x1896*-0x1+0x1df1+0x63*-0x8d;_0x3f8f7c<_0x14a226['length'];_0x3f8f7c++)this['_layers'][_0x3f8f7c]=_0x14a226[_0x3f8f7c];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0x185dd3=-0x177e+-0x16b*-0xf+0x239;_0x185dd3<this['_layers']['length'];_0x185dd3++){const _0x5ee205=_0xfb039a['getLayerBy'+'Id'](this['_layers'][_0x185dd3]);_0x5ee205&&_0x5ee205['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0xdbdc85){var _0x45bcf7,_0x2268e3;this['_batchGrou'+'pId']!==_0xdbdc85&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x1*0xbbd+0x115f+0xce*-0x7&&((_0x45bcf7=this['system']['app']['batcher'])==null||_0x45bcf7['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0xdbdc85>=-0x277*0xd+0x2e6+-0x1d25*-0x1&&((_0x2268e3=this['system']['app']['batcher'])==null||_0x2268e3['insert'](St['MODEL'],_0xdbdc85,this['entity'])),_0xdbdc85<0x1661*0x1+-0x1258+0x409*-0x1&&this['_batchGrou'+'pId']>=-0x836*0x2+-0x14d5+0x363*0xb&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0xdbdc85);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x73a9ae){let _0x58c78f=_0x73a9ae;_0x73a9ae instanceof pe&&(_0x58c78f=_0x73a9ae['id']);const _0x51c6e4=this['system']['app']['assets'];if(_0x58c78f!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x51c6e4['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x59d993=_0x51c6e4['get'](this['_materialA'+'sset']);_0x59d993&&this['_unbindMat'+'erialAsset'](_0x59d993);}if(this['_materialA'+'sset']=_0x58c78f,this['_materialA'+'sset']){const _0x8877c5=_0x51c6e4['get'](this['_materialA'+'sset']);_0x8877c5?this['_bindMater'+'ialAsset'](_0x8877c5):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x51c6e4['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x5664ab){this['_material']!==_0x5664ab&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x5664ab));}get['material'](){return this['_material'];}set['mapping'](_0x5a653d){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x5a653d||(_0x5a653d={}),this['_mapping']=_0x5a653d,!this['_model']))return;const _0x267453=this['_model']['meshInstan'+'ces'],_0x766ca2=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x42dd55=_0x766ca2?_0x766ca2['data']['mapping']:null;let _0x56f873=null;for(let _0x40e90e=0x6ad+0xb30+0x11*-0x10d,_0x2f4c54=_0x267453['length'];_0x40e90e<_0x2f4c54;_0x40e90e++)if(_0x5a653d[_0x40e90e]!==void(0x2*-0x91f+0x80f+0xa2f))_0x5a653d[_0x40e90e]?(_0x56f873=this['system']['app']['assets']['get'](_0x5a653d[_0x40e90e]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x56f873,_0x267453[_0x40e90e],_0x40e90e)):_0x267453[_0x40e90e]['material']=this['system']['defaultMat'+'erial'];else{if(_0x42dd55){if(_0x42dd55[_0x40e90e]&&(_0x42dd55[_0x40e90e]['material']||_0x42dd55[_0x40e90e]['path'])){if(_0x42dd55[_0x40e90e]['material']!==void(0x150c+-0x91*0x3a+0xbce))_0x56f873=this['system']['app']['assets']['get'](_0x42dd55[_0x40e90e]['material']);else{if(_0x42dd55[_0x40e90e]['path']!==void(-0x1b75+-0x2469+0x3fde)){const _0x60c68a=this['_getMateri'+'alAssetUrl'](_0x42dd55[_0x40e90e]['path']);_0x60c68a&&(_0x56f873=this['system']['app']['assets']['getByUrl'](_0x60c68a));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x56f873,_0x267453[_0x40e90e],_0x40e90e);}else _0x267453[_0x40e90e]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0x5463a5=this['system']['app']['scene']['layers'];for(let _0x47f730=0x12c9+0x1a74+0x2d3d*-0x1;_0x47f730<this['_layers']['length'];_0x47f730++){const _0x2fdf3b=_0x5463a5['getLayerBy'+'Id'](this['_layers'][_0x47f730]);_0x2fdf3b&&_0x2fdf3b['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x2ceb1b=this['system']['app']['scene']['layers'];for(let _0x1af12b=0x15d4+0x21*-0x2b+-0x1049;_0x1af12b<this['_layers']['length'];_0x1af12b++){const _0x4c5412=_0x2ceb1b['getLayerBy'+'Id'](this['_layers'][_0x1af12b]);_0x4c5412&&_0x4c5412['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x2277b9,_0x4fd48a){this['addModelTo'+'Layers'](),_0x2277b9['off']('add',this['onLayerAdd'+'ed'],this),_0x2277b9['off']('remove',this['onLayerRem'+'oved'],this),_0x4fd48a['on']('add',this['onLayerAdd'+'ed'],this),_0x4fd48a['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x43c982){this['layers']['indexOf'](_0x43c982['id'])<0x14f7+0x2534*0x1+-0x3a2b||_0x43c982['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x2ab3a5){this['layers']['indexOf'](_0x2ab3a5['id'])<0x2204+-0x22b5+-0x3*-0x3b||_0x2ab3a5['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0xf1b702,_0x2a222a,_0x532eb4,_0x3eda83){const _0xb2300=_0x2a222a+':'+_0x532eb4;this['system']['app']['assets']['on'](_0xb2300,_0x3eda83,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0xf1b702]||(this['_materialE'+'vents'][_0xf1b702]={}),this['_materialE'+'vents'][_0xf1b702][_0xb2300]={'id':_0x532eb4,'handler':_0x3eda83};}['_unsetMate'+'rialEvents'](){const _0x1c14b3=this['system']['app']['assets'],_0x4839a4=this['_materialE'+'vents'];if(_0x4839a4){for(let _0x3ef1db=0x22b6+-0x638*0x6+-0x6*-0x6f,_0x4daabf=_0x4839a4['length'];_0x3ef1db<_0x4daabf;_0x3ef1db++){if(!_0x4839a4[_0x3ef1db])continue;const _0x3bfcf2=_0x4839a4[_0x3ef1db];for(const _0xf3abca in _0x3bfcf2)_0x1c14b3['off'](_0xf3abca,_0x3bfcf2[_0xf3abca]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x19e044){let _0x55b410=null;if(!isNaN(parseInt(_0x19e044,-0x593+-0x1c5d*-0x1+-0x16c0)))_0x55b410=this['system']['app']['assets']['get'](_0x19e044);else{if(this['asset']){const _0x4c472a=this['_getMateri'+'alAssetUrl'](_0x19e044);_0x4c472a&&(_0x55b410=this['system']['app']['assets']['getByUrl'](_0x4c472a));}}return _0x55b410;}['_getMateri'+'alAssetUrl'](_0x1aeb56){if(!this['asset'])return null;const _0x1e8f48=this['system']['app']['assets']['get'](this['asset']);return _0x1e8f48?_0x1e8f48['getAbsolut'+'eUrl'](_0x1aeb56):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x59f881,_0x37ee89,_0x2b9f95){const _0x55ff6f=this['system']['app']['assets'];_0x59f881&&(_0x59f881['resource']?(_0x37ee89['material']=_0x59f881['resource'],this['_setMateri'+'alEvent'](_0x2b9f95,'remove',_0x59f881['id'],function(){_0x37ee89['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x2b9f95,'load',_0x59f881['id'],function(_0xeae6be){_0x37ee89['material']=_0xeae6be['resource'],this['_setMateri'+'alEvent'](_0x2b9f95,'remove',_0x59f881['id'],function(){_0x37ee89['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x55ff6f['load'](_0x59f881)));}['onEnable'](){var _0x5d8b62;const _0x163611=this['system']['app'],_0x2f9a63=_0x163611['scene'],_0x35c7f7=_0x2f9a63==null?void(0x12e*0x11+-0x88f+0xb7f*-0x1):_0x2f9a63['layers'];this['_evtLayers'+'Changed']=_0x2f9a63['on']('set:layers',this['onLayersCh'+'anged'],this),_0x35c7f7&&(this['_evtLayerA'+'dded']=_0x35c7f7['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x35c7f7['on']('remove',this['onLayerRem'+'oved'],this));const _0x3f2c41=this['_type']==='asset';let _0x35ca36;if(this['_model']?this['addModelTo'+'Layers']():_0x3f2c41&&this['_asset']&&(_0x35ca36=_0x163611['assets']['get'](this['_asset']),_0x35ca36&&_0x35ca36['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x35ca36)),this['_materialA'+'sset']&&(_0x35ca36=_0x163611['assets']['get'](this['_materialA'+'sset']),_0x35ca36&&_0x35ca36['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x35ca36)),_0x3f2c41&&this['_mapping']){for(const _0x41cc89 in this['_mapping'])this['_mapping'][_0x41cc89]&&(_0x35ca36=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x41cc89]),_0x35ca36&&!_0x35ca36['resource']&&_0x163611['assets']['load'](_0x35ca36));}this['_batchGrou'+'pId']>=-0x1*0x1e21+-0x1f*-0x29+-0xc95*-0x2&&((_0x5d8b62=_0x163611['batcher'])==null||_0x5d8b62['insert'](St['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x390821,_0x3b5b70,_0x2cb575,_0x2b068d;const _0x300eab=this['system']['app'],_0x631f30=_0x300eab['scene']['layers'];(_0x390821=this['_evtLayers'+'Changed'])==null||_0x390821['off'](),this['_evtLayers'+'Changed']=null,_0x631f30&&((_0x3b5b70=this['_evtLayerA'+'dded'])==null||_0x3b5b70['off'](),this['_evtLayerA'+'dded']=null,(_0x2cb575=this['_evtLayerR'+'emoved'])==null||_0x2cb575['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0xd2a+0x4f3*0x7+-0x2fcf&&((_0x2b068d=_0x300eab['batcher'])==null||_0x2b068d['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x48f4f6=this['_model']['meshInstan'+'ces'];for(let _0xe4bbcb=0x1fa7+0x113e*-0x1+0x20f*-0x7,_0xf3d83c=_0x48f4f6['length'];_0xe4bbcb<_0xf3d83c;_0xe4bbcb++)_0x48f4f6[_0xe4bbcb]['visible']=!(0x35*-0x2b+0xb*0x161+-0x643);}}['show'](){if(this['_model']){const _0x46b3f3=this['_model']['meshInstan'+'ces'];for(let _0x202de5=0x20c5+0x27*-0x20+-0x1be5,_0x3b7bdd=_0x46b3f3['length'];_0x202de5<_0x3b7bdd;_0x202de5++)_0x46b3f3[_0x202de5]['visible']=!(-0x1d7f+-0x355+-0x16*-0x17e);}}['_bindMater'+'ialAsset'](_0x164766){if(_0x164766['on']('load',this['_onMateria'+'lAssetLoad'],this),_0x164766['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x164766['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x164766['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0x164766['resource'])this['_onMateria'+'lAssetLoad'](_0x164766);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x164766);}}['_unbindMat'+'erialAsset'](_0x42e9a3){_0x42e9a3['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x42e9a3['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x42e9a3['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x42e9a3['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x1509ef){this['system']['app']['assets']['off']('add:'+_0x1509ef['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x1509ef['id']&&this['_bindMater'+'ialAsset'](_0x1509ef);}['_onMateria'+'lAssetLoad'](_0x1a79ba){this['_setMateri'+'al'](_0x1a79ba['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x176a0b){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x2ecc2d){this['_onMateria'+'lAssetUnlo'+'ad'](_0x2ecc2d);}['_onMateria'+'lAssetChan'+'ge'](_0x50cce9){}['_bindModel'+'Asset'](_0x52ab1f){if(this['_unbindMod'+'elAsset'](_0x52ab1f),_0x52ab1f['on']('load',this['_onModelAs'+'setLoad'],this),_0x52ab1f['on']('unload',this['_onModelAs'+'setUnload'],this),_0x52ab1f['on']('change',this['_onModelAs'+'setChange'],this),_0x52ab1f['on']('remove',this['_onModelAs'+'setRemove'],this),_0x52ab1f['resource'])this['_onModelAs'+'setLoad'](_0x52ab1f);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x52ab1f);}}['_unbindMod'+'elAsset'](_0x37b76c){_0x37b76c['off']('load',this['_onModelAs'+'setLoad'],this),_0x37b76c['off']('unload',this['_onModelAs'+'setUnload'],this),_0x37b76c['off']('change',this['_onModelAs'+'setChange'],this),_0x37b76c['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x4da66d){this['system']['app']['assets']['off']('add:'+_0x4da66d['id'],this['_onModelAs'+'setAdded'],this),_0x4da66d['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x4da66d);}['_onModelAs'+'setLoad'](_0x82753){this['model']=_0x82753['resource']['clone'](),this['_clonedMod'+'el']=!(0x128e+0x1b73+0x1*-0x2e01);}['_onModelAs'+'setUnload'](_0x21f6b4){this['model']=null;}['_onModelAs'+'setChange'](_0x5d264d,_0x28c745,_0x1a9c4a,_0x5e2af5){_0x28c745==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0x144d1d){this['model']=null;}['_setMateri'+'al'](_0x3d1b24){if(this['_material']===_0x3d1b24)return;this['_material']=_0x3d1b24;const _0x27981a=this['_model'];if(_0x27981a&&this['_type']!=='asset'){const _0x46477d=_0x27981a['meshInstan'+'ces'];for(let _0x35cabe=0x1c4f+-0x1*0x26f5+-0x5e*-0x1d,_0x177636=_0x46477d['length'];_0x35cabe<_0x177636;_0x35cabe++)_0x46477d[_0x35cabe]['material']=_0x3d1b24;}}}class YR{constructor(){this['enabled']=!(-0x781*0x1+0x2*-0xd19+0x21b3*0x1);}}const a0=['enabled'];class KR extends ct{constructor(_0xc5b3a8){super(_0xc5b3a8),this['id']='model',this['ComponentT'+'ype']=Tm,this['DataType']=YR,this['schema']=a0,this['defaultMat'+'erial']=Qn(_0xc5b3a8['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x5023cb,_0xaee2b2,_0x3c741c){_0x3c741c=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0xaee2b2['batchGroup'+'Id']===null||_0xaee2b2['batchGroup'+'Id']===void(-0x2355+0x2*-0xec1+-0x3*-0x159d))&&(_0xaee2b2['batchGroup'+'Id']=-(0x5d1*-0x1+0x2f*0x87+0x3cb*-0x5)),_0xaee2b2['layers']&&_0xaee2b2['layers']['length']&&(_0xaee2b2['layers']=_0xaee2b2['layers']['slice'](-0x10d6+0x1d49+0x1*-0xc73));for(let _0xffc4f5=-0x1*0x2443+-0xd*0x4d+-0xa0b*-0x4;_0xffc4f5<_0x3c741c['length'];_0xffc4f5++)_0xaee2b2['hasOwnProp'+'erty'](_0x3c741c[_0xffc4f5])&&(_0x5023cb[_0x3c741c[_0xffc4f5]]=_0xaee2b2[_0x3c741c[_0xffc4f5]]);_0xaee2b2['aabbCenter']&&_0xaee2b2['aabbHalfEx'+'tents']&&(_0x5023cb['customAabb']=new De(new D(_0xaee2b2['aabbCenter']),new D(_0xaee2b2['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x5023cb,_0xaee2b2,['enabled']);}['cloneCompo'+'nent'](_0xaf5480,_0x11d13e){const _0x185be4={'type':_0xaf5480['model']['type'],'asset':_0xaf5480['model']['asset'],'castShadows':_0xaf5480['model']['castShadow'+'s'],'receiveShadows':_0xaf5480['model']['receiveSha'+'dows'],'castShadowsLightmap':_0xaf5480['model']['castShadow'+'sLightmap'],'lightmapped':_0xaf5480['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0xaf5480['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0xaf5480['model']['isStatic'],'enabled':_0xaf5480['model']['enabled'],'layers':_0xaf5480['model']['layers'],'batchGroupId':_0xaf5480['model']['batchGroup'+'Id'],'mapping':ah({},_0xaf5480['model']['mapping'])};let _0x409cfc=_0xaf5480['model']['materialAs'+'set'];!(_0x409cfc instanceof pe)&&_0x409cfc!=null&&(_0x409cfc=this['app']['assets']['get'](_0x409cfc));const _0x461bd5=_0xaf5480['model']['material'];(!_0x461bd5||_0x461bd5===this['defaultMat'+'erial']||!_0x409cfc||_0x461bd5===_0x409cfc['resource'])&&(_0x185be4['materialAs'+'set']=_0x409cfc);const _0x21919c=this['addCompone'+'nt'](_0x11d13e,_0x185be4);if(_0xaf5480['model']['model']&&_0xaf5480['model']['type']==='asset'&&!_0xaf5480['model']['asset']&&(_0x21919c['model']=_0xaf5480['model']['model']['clone'](),_0x21919c['_clonedMod'+'el']=!(0x825*0x4+-0x110e*-0x1+-0x31a2)),_0x185be4['materialAs'+'set']||(_0x21919c['material']=_0x461bd5),_0xaf5480['model']['model']){const _0x2c1b24=_0xaf5480['model']['model']['meshInstan'+'ces'],_0xd98092=_0x21919c['model']['meshInstan'+'ces'];for(let _0x2d79be=0xc38+0x13c6+-0x1ffe;_0x2d79be<_0x2c1b24['length'];_0x2d79be++)_0xd98092[_0x2d79be]['mask']=_0x2c1b24[_0x2d79be]['mask'],_0xd98092[_0x2d79be]['material']=_0x2c1b24[_0x2d79be]['material'],_0xd98092[_0x2d79be]['layer']=_0x2c1b24[_0x2d79be]['layer'],_0xd98092[_0x2d79be]['receiveSha'+'dow']=_0x2c1b24[_0x2d79be]['receiveSha'+'dow'];}return _0xaf5480['model']['customAabb']&&(_0x21919c['customAabb']=_0xaf5480['model']['customAabb']['clone']()),_0x21919c;}['onRemove'](_0x36b509,_0x388a93){_0x388a93['onRemove']();}}we['_buildAcce'+'ssors'](Tm['prototype'],a0);const ZR=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],QR=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],JR=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Cc=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Ya;class e3 extends we{constructor(_0x26670a,_0x4d67e5){super(_0x26670a,_0x4d67e5),h(this,'_requested'+'Depth',!(0x1c6d+-0x2*-0x108c+0xf61*-0x4)),h(this,'_drawOrder',-0xb*0x2a5+-0x23ec+-0x3d3*-0x11),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),ZR['forEach'](_0x4927d1=>{this['on']('set_'+_0x4927d1,this['onSetSimpl'+'eProperty'],this);}),QR['forEach'](_0x3c61ec=>{this['on']('set_'+_0x3c61ec,this['onSetCompl'+'exProperty'],this);}),JR['forEach'](_0x42e572=>{this['on']('set_'+_0x42e572,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x516752=this['system']['store'][this['entity']['getGuid']()];return _0x516752?_0x516752['data']:null;}set['enabled'](_0x22fd48){this['_setValue']('enabled',_0x22fd48);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x2ad66d){this['_setValue']('autoPlay',_0x2ad66d);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x38332a){this['_setValue']('numParticl'+'es',_0x38332a);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x42d019){this['_setValue']('lifetime',_0x42d019);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x3d03a5){this['_setValue']('rate',_0x3d03a5);}get['rate'](){return this['data']['rate'];}set['rate2'](_0x3b3434){this['_setValue']('rate2',_0x3b3434);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x2ee882){this['_setValue']('startAngle',_0x2ee882);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x36bfbe){this['_setValue']('startAngle'+'2',_0x36bfbe);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x3218eb){this['_setValue']('loop',_0x3218eb);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0x5db970){this['_setValue']('preWarm',_0x5db970);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0x3f47e0){this['_setValue']('lighting',_0x3f47e0);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x4b118d){this['_setValue']('halfLamber'+'t',_0x4b118d);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x4050cf){this['_setValue']('intensity',_0x4050cf);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x6347){this['_setValue']('depthWrite',_0x6347);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x210a3a){this['_setValue']('noFog',_0x210a3a);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x13b0a0){this['_setValue']('depthSofte'+'ning',_0x13b0a0);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x3e5dec){this['_setValue']('sort',_0x3e5dec);}get['sort'](){return this['data']['sort'];}set['blendType'](_0xb74d27){this['_setValue']('blendType',_0xb74d27);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0x29aec9){this['_setValue']('stretch',_0x29aec9);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x563b17){this['_setValue']('alignToMot'+'ion',_0x563b17);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x4399b7){this['_setValue']('emitterSha'+'pe',_0x4399b7);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x39b927){this['_setValue']('emitterExt'+'ents',_0x39b927);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x9e49df){this['_setValue']('emitterExt'+'entsInner',_0x9e49df);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0x427e5d){this['_setValue']('emitterRad'+'ius',_0x427e5d);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x56fa11){this['_setValue']('emitterRad'+'iusInner',_0x56fa11);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x156fe9){this['_setValue']('initialVel'+'ocity',_0x156fe9);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x14df53){this['_setValue']('wrap',_0x14df53);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x59debd){this['_setValue']('wrapBounds',_0x59debd);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x37ff42){this['_setValue']('localSpace',_0x37ff42);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0x475bcd){this['_setValue']('screenSpac'+'e',_0x475bcd);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x2456be){this['_setValue']('colorMapAs'+'set',_0x2456be);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x3106b6){this['_setValue']('normalMapA'+'sset',_0x3106b6);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x20c952){this['_setValue']('mesh',_0x20c952);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x14ee75){this['_setValue']('meshAsset',_0x14ee75);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x882b9f){this['_setValue']('renderAsse'+'t',_0x882b9f);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x316b4e){this['_setValue']('orientatio'+'n',_0x316b4e);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0xca94e3){this['_setValue']('particleNo'+'rmal',_0xca94e3);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x148eef){this['_setValue']('localVeloc'+'ityGraph',_0x148eef);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0x1a291f){this['_setValue']('localVeloc'+'ityGraph2',_0x1a291f);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x1d127e){this['_setValue']('velocityGr'+'aph',_0x1d127e);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x4d9035){this['_setValue']('velocityGr'+'aph2',_0x4d9035);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x1a1c99){this['_setValue']('rotationSp'+'eedGraph',_0x1a1c99);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0xd98d4e){this['_setValue']('rotationSp'+'eedGraph2',_0xd98d4e);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x73585){this['_setValue']('radialSpee'+'dGraph',_0x73585);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0xc0a6dc){this['_setValue']('radialSpee'+'dGraph2',_0xc0a6dc);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x405acd){this['_setValue']('scaleGraph',_0x405acd);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x5df730){this['_setValue']('scaleGraph'+'2',_0x5df730);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x5ee2b2){this['_setValue']('colorGraph',_0x5ee2b2);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x4efb4c){this['_setValue']('colorGraph'+'2',_0x4efb4c);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0x2d6c34){this['_setValue']('alphaGraph',_0x2d6c34);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x31f160){this['_setValue']('alphaGraph'+'2',_0x31f160);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x1e55ec){this['_setValue']('colorMap',_0x1e55ec);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0x1d38dd){this['_setValue']('normalMap',_0x1d38dd);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0x3d74db){this['_setValue']('animTilesX',_0x3d74db);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x6defec){this['_setValue']('animTilesY',_0x6defec);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x3c610b){this['_setValue']('animStartF'+'rame',_0x3c610b);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0x3b61e5){this['_setValue']('animNumFra'+'mes',_0x3b61e5);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x424d0b){this['_setValue']('animNumAni'+'mations',_0x424d0b);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x5f2f6d){this['_setValue']('animIndex',_0x5f2f6d);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x302f89){this['_setValue']('randomizeA'+'nimIndex',_0x302f89);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x14175a){this['_setValue']('animSpeed',_0x14175a);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x3a9134){this['_setValue']('animLoop',_0x3a9134);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x43dbad){this['_setValue']('layers',_0x43dbad);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x598066){this['_drawOrder']=_0x598066,this['emitter']&&(this['emitter']['drawOrder']=_0x598066);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x2f94da,_0x5759ce){const _0x2f5c72=this['data'],_0x19118e=_0x2f5c72[_0x2f94da];_0x2f5c72[_0x2f94da]=_0x5759ce,this['fire']('set',_0x2f94da,_0x19118e,_0x5759ce);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x1f3368=-0x466*0x2+0x1202+0x1*-0x936;_0x1f3368<this['layers']['length'];_0x1f3368++){const _0x1c94d2=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x1f3368]);_0x1c94d2&&(_0x1c94d2['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x1c94d2);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x3190ad=0x1*-0x1bc3+-0x2129+0x1c*0x22d;_0x3190ad<this['layers']['length'];_0x3190ad++){const _0x3a7016=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x3190ad]);_0x3a7016&&_0x3a7016['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0xccb35b,_0x524956,_0x48f019){if(this['emitter']){for(let _0x23dc57=0x7b*-0xb+0x1f06+0x19bd*-0x1;_0x23dc57<_0x524956['length'];_0x23dc57++){const _0x1bfdf5=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x524956[_0x23dc57]);_0x1bfdf5&&_0x1bfdf5['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x153d55=-0xd*-0x5+-0x335*-0xb+-0x2388;_0x153d55<_0x48f019['length'];_0x153d55++){const _0x2c59df=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x48f019[_0x153d55]);_0x2c59df&&_0x2c59df['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x5c3462,_0xeeecab){this['addMeshIns'+'tanceToLay'+'ers'](),_0x5c3462['off']('add',this['onLayerAdd'+'ed'],this),_0x5c3462['off']('remove',this['onLayerRem'+'oved'],this),_0xeeecab['on']('add',this['onLayerAdd'+'ed'],this),_0xeeecab['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x168ade){!this['emitter']||this['layers']['indexOf'](_0x168ade['id'])<0x1e5a+0x0+-0x7*0x456||_0x168ade['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x4b6bc0){!this['emitter']||this['layers']['indexOf'](_0x4b6bc0['id'])<0x14c*0x7+-0x1d7c+-0x4*-0x51a||_0x4b6bc0['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x431f7a){if(_0x431f7a['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x431f7a['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x431f7a['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x431f7a['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x431f7a['resource'])this['_onColorMa'+'pAssetLoad'](_0x431f7a);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x431f7a);}}['_unbindCol'+'orMapAsset'](_0x2e78ad){_0x2e78ad['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0x2e78ad['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x2e78ad['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x2e78ad['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x4ba52b){this['colorMap']=_0x4ba52b['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x43788e){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x4c8de9){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x4c8de9);}['_onColorMa'+'pAssetChan'+'ge'](_0x585722){}['onSetColor'+'MapAsset'](_0x12fa45,_0x3b0a9a,_0x4821dc){const _0x1a908e=this['system']['app']['assets'];if(_0x3b0a9a){const _0x24bfcf=_0x1a908e['get'](_0x3b0a9a);_0x24bfcf&&this['_unbindCol'+'orMapAsset'](_0x24bfcf);}if(_0x4821dc){_0x4821dc instanceof pe&&(this['data']['colorMapAs'+'set']=_0x4821dc['id'],_0x4821dc=_0x4821dc['id']);const _0xf9556c=_0x1a908e['get'](_0x4821dc);_0xf9556c?this['_bindColor'+'MapAsset'](_0xf9556c):_0x1a908e['once']('add:'+_0x4821dc,_0x516cb5=>{this['_bindColor'+'MapAsset'](_0x516cb5);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0x6a8c23){if(_0x6a8c23['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x6a8c23['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x6a8c23['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x6a8c23['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0x6a8c23['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0x6a8c23);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x6a8c23);}}['_unbindNor'+'malMapAsse'+'t'](_0x50f522){_0x50f522['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x50f522['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x50f522['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x50f522['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0xf77cf9){this['normalMap']=_0xf77cf9['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x5e0319){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x2f91b1){this['_onNormalM'+'apAssetUnl'+'oad'](_0x2f91b1);}['_onNormalM'+'apAssetCha'+'nge'](_0x1d0aa0){}['onSetNorma'+'lMapAsset'](_0x397b09,_0x8f3b59,_0x10b14b){const _0x1d1aa0=this['system']['app']['assets'];if(_0x8f3b59){const _0x595d5b=_0x1d1aa0['get'](_0x8f3b59);_0x595d5b&&this['_unbindNor'+'malMapAsse'+'t'](_0x595d5b);}if(_0x10b14b){_0x10b14b instanceof pe&&(this['data']['normalMapA'+'sset']=_0x10b14b['id'],_0x10b14b=_0x10b14b['id']);const _0x3eb81a=_0x1d1aa0['get'](_0x10b14b);_0x3eb81a?this['_bindNorma'+'lMapAsset'](_0x3eb81a):_0x1d1aa0['once']('add:'+_0x10b14b,_0x2ffa04=>{this['_bindNorma'+'lMapAsset'](_0x2ffa04);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x1b7319){if(_0x1b7319['on']('load',this['_onMeshAss'+'etLoad'],this),_0x1b7319['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x1b7319['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x1b7319['on']('change',this['_onMeshAss'+'etChange'],this),_0x1b7319['resource'])this['_onMeshAss'+'etLoad'](_0x1b7319);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x1b7319);}}['_unbindMes'+'hAsset'](_0x38b5f3){_0x38b5f3['off']('load',this['_onMeshAss'+'etLoad'],this),_0x38b5f3['off']('unload',this['_onMeshAss'+'etUnload'],this),_0x38b5f3['off']('remove',this['_onMeshAss'+'etRemove'],this),_0x38b5f3['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x39aad3){this['_onMeshCha'+'nged'](_0x39aad3['resource']);}['_onMeshAss'+'etUnload'](_0x145d4e){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x5a65ce){this['_onMeshAss'+'etUnload'](_0x5a65ce);}['_onMeshAss'+'etChange'](_0x245995){}['onSetMeshA'+'sset'](_0xd29b2b,_0x1035cc,_0x1af443){const _0x212956=this['system']['app']['assets'];if(_0x1035cc){const _0x2ca124=_0x212956['get'](_0x1035cc);_0x2ca124&&this['_unbindMes'+'hAsset'](_0x2ca124);}if(_0x1af443){_0x1af443 instanceof pe&&(this['data']['meshAsset']=_0x1af443['id'],_0x1af443=_0x1af443['id']);const _0x2d9bf6=_0x212956['get'](_0x1af443);_0x2d9bf6&&this['_bindMeshA'+'sset'](_0x2d9bf6);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0x26ca92,_0x40e45b,_0x4c46b7){!_0x4c46b7||_0x4c46b7 instanceof pe||typeof _0x4c46b7=='number'?this['meshAsset']=_0x4c46b7:this['_onMeshCha'+'nged'](_0x4c46b7);}['_onMeshCha'+'nged'](_0x115b4d){_0x115b4d&&!(_0x115b4d instanceof Ge)&&(_0x115b4d['meshInstan'+'ces'][0x119f+-0x221c+0x107d]?_0x115b4d=_0x115b4d['meshInstan'+'ces'][-0x1ae0+0x1a9+0x1937]['mesh']:_0x115b4d=null),this['data']['mesh']=_0x115b4d,this['emitter']&&(this['emitter']['mesh']=_0x115b4d,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0x6b13e5,_0x3ffac2,_0x1258e7){const _0x2e93d4=this['system']['app']['assets'];if(_0x3ffac2){const _0x3bb325=_0x2e93d4['get'](_0x3ffac2);_0x3bb325&&this['_unbindRen'+'derAsset'](_0x3bb325);}if(_0x1258e7){_0x1258e7 instanceof pe&&(this['data']['renderAsse'+'t']=_0x1258e7['id'],_0x1258e7=_0x1258e7['id']);const _0x445cef=_0x2e93d4['get'](_0x1258e7);_0x445cef&&this['_bindRende'+'rAsset'](_0x445cef);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x13b9c4){if(_0x13b9c4['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x13b9c4['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x13b9c4['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x13b9c4['resource'])this['_onRenderA'+'ssetLoad'](_0x13b9c4);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x13b9c4);}}['_unbindRen'+'derAsset'](_0x3e9fd4){var _0x10b70c;_0x3e9fd4['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x3e9fd4['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x3e9fd4['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x10b70c=this['_evtSetMes'+'hes'])==null||_0x10b70c['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0x254fd0){this['_onRenderC'+'hanged'](_0x254fd0['resource']);}['_onRenderA'+'ssetUnload'](_0x4f9efd){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x39c171){this['_onRenderA'+'ssetUnload'](_0x39c171);}['_onRenderC'+'hanged'](_0x4b281d){var _0x215e8d;if(!_0x4b281d){this['_onMeshCha'+'nged'](null);return;}(_0x215e8d=this['_evtSetMes'+'hes'])==null||_0x215e8d['off'](),this['_evtSetMes'+'hes']=_0x4b281d['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x4b281d['meshes']&&this['_onRenderS'+'etMeshes'](_0x4b281d['meshes']);}['_onRenderS'+'etMeshes'](_0x5a6da5){this['_onMeshCha'+'nged'](_0x5a6da5&&_0x5a6da5[-0xaf8*-0x2+0x1066*0x1+-0x2656*0x1]);}['onSetLoop'](_0x297d62,_0x1c78b7,_0xd575f3){this['emitter']&&(this['emitter'][_0x297d62]=_0xd575f3,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x4d75dd,_0x5c3b3f,_0x136b5e){this['emitter']&&(this['emitter'][_0x4d75dd]=_0x136b5e,this['emitter']['material']['blendType']=_0x136b5e,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Ya||(Ya=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps)),Ya&&(Ya['incrementC'+'ounter'](),this['_requested'+'Depth']=!(-0x2304+0x335*0x2+0x1c9a)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Ya&&(Ya['decrementC'+'ounter'](),this['_requested'+'Depth']=!(0x24df+0x268f*-0x1+0x1b1));}['onSetDepth'+'Softening'](_0xd05526,_0x10eebc,_0x5bd6e4){_0x10eebc!==_0x5bd6e4&&(_0x5bd6e4?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0xd05526]=_0x5bd6e4)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0xd05526]=_0x5bd6e4)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x3c2c72,_0x5db57b,_0x2e74cc){this['emitter']&&(this['emitter'][_0x3c2c72]=_0x2e74cc,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x32c26c,_0x32db41,_0x4115e6){this['emitter']&&(this['emitter'][_0x32c26c]=_0x4115e6,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x598e88,_0x58ebf3,_0x59dbe0){this['emitter']&&(this['emitter'][_0x598e88]=_0x59dbe0,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0xc3a3b1=this['system']['app']['scene'],_0x5dcc37=_0xc3a3b1['layers'],_0xef316d=this['data'];for(let _0x72a633=0x18b*0xd+-0x1fde+-0x1*-0xbcf,_0x2d2fa8=Cc['length'];_0x72a633<_0x2d2fa8;_0x72a633++){let _0x6a3b7d=_0xef316d[Cc[_0x72a633]];if(_0x6a3b7d){if(!(_0x6a3b7d instanceof pe)){if(parseInt(_0x6a3b7d,-0x1*0xb1+-0x11a*0x8+0x98b*0x1)>=0x16bc+-0x10d4+-0x1f8*0x3)_0x6a3b7d=this['system']['app']['assets']['get'](_0x6a3b7d);else continue;}_0x6a3b7d&&!_0x6a3b7d['resource']&&this['system']['app']['assets']['load'](_0x6a3b7d);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x257546=_0xef316d['mesh'];_0x257546 instanceof Ge||(_0x257546=null),this['emitter']=new CA(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0xef316d['numParticl'+'es'],'emitterExtents':_0xef316d['emitterExt'+'ents'],'emitterExtentsInner':_0xef316d['emitterExt'+'entsInner'],'emitterRadius':_0xef316d['emitterRad'+'ius'],'emitterRadiusInner':_0xef316d['emitterRad'+'iusInner'],'emitterShape':_0xef316d['emitterSha'+'pe'],'initialVelocity':_0xef316d['initialVel'+'ocity'],'wrap':_0xef316d['wrap'],'localSpace':_0xef316d['localSpace'],'screenSpace':_0xef316d['screenSpac'+'e'],'wrapBounds':_0xef316d['wrapBounds'],'lifetime':_0xef316d['lifetime'],'rate':_0xef316d['rate'],'rate2':_0xef316d['rate2'],'orientation':_0xef316d['orientatio'+'n'],'particleNormal':_0xef316d['particleNo'+'rmal'],'animTilesX':_0xef316d['animTilesX'],'animTilesY':_0xef316d['animTilesY'],'animStartFrame':_0xef316d['animStartF'+'rame'],'animNumFrames':_0xef316d['animNumFra'+'mes'],'animNumAnimations':_0xef316d['animNumAni'+'mations'],'animIndex':_0xef316d['animIndex'],'randomizeAnimIndex':_0xef316d['randomizeA'+'nimIndex'],'animSpeed':_0xef316d['animSpeed'],'animLoop':_0xef316d['animLoop'],'startAngle':_0xef316d['startAngle'],'startAngle2':_0xef316d['startAngle'+'2'],'scaleGraph':_0xef316d['scaleGraph'],'scaleGraph2':_0xef316d['scaleGraph'+'2'],'colorGraph':_0xef316d['colorGraph'],'colorGraph2':_0xef316d['colorGraph'+'2'],'alphaGraph':_0xef316d['alphaGraph'],'alphaGraph2':_0xef316d['alphaGraph'+'2'],'localVelocityGraph':_0xef316d['localVeloc'+'ityGraph'],'localVelocityGraph2':_0xef316d['localVeloc'+'ityGraph2'],'velocityGraph':_0xef316d['velocityGr'+'aph'],'velocityGraph2':_0xef316d['velocityGr'+'aph2'],'rotationSpeedGraph':_0xef316d['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0xef316d['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0xef316d['radialSpee'+'dGraph'],'radialSpeedGraph2':_0xef316d['radialSpee'+'dGraph2'],'colorMap':_0xef316d['colorMap'],'normalMap':_0xef316d['normalMap'],'loop':_0xef316d['loop'],'preWarm':_0xef316d['preWarm'],'sort':_0xef316d['sort'],'stretch':_0xef316d['stretch'],'alignToMotion':_0xef316d['alignToMot'+'ion'],'lighting':_0xef316d['lighting'],'halfLambert':_0xef316d['halfLamber'+'t'],'intensity':_0xef316d['intensity'],'depthSoftening':_0xef316d['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x257546,'depthWrite':_0xef316d['depthWrite'],'noFog':_0xef316d['noFog'],'node':this['entity'],'blendType':_0xef316d['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0xef316d['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(0x2*-0xcd7+-0x3*0x169+0x1dea));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0xc3a3b1['on']('set:layers',this['onLayersCh'+'anged'],this),_0x5dcc37&&(this['_evtLayerA'+'dded']=_0x5dcc37['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x5dcc37['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0xef316d['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x25cf09,_0x1de494,_0x4e25d7;const _0x4a4ab5=this['system']['app']['scene']['layers'];(_0x25cf09=this['_evtLayers'+'Changed'])==null||_0x25cf09['off'](),this['_evtLayers'+'Changed']=null,_0x4a4ab5&&((_0x1de494=this['_evtLayerA'+'dded'])==null||_0x1de494['off'](),this['_evtLayerA'+'dded']=null,(_0x4e25d7=this['_evtLayerR'+'emoved'])==null||_0x4e25d7['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(0x147+-0x15f5+0x161*0xf)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x23698b=-0x262f+0xe*0x1f7+-0x3*-0x38f;_0x23698b<Cc['length'];_0x23698b++){const _0x390692=Cc[_0x23698b];this['data'][_0x390692]&&(this[_0x390692]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(-0xb4a+0xef*0xd+-0x6c*0x2),this['emitter']['resetTime'](),this['emitter']['addTime'](0xef4+0x15*-0xb1+-0x1*0x6f,!(-0x1*-0xe65+-0x22bd+0x1458)));}['pause'](){this['data']['paused']=!(0x24fb+0xcd1+-0x31cc);}['unpause'](){this['data']['paused']=!(0xddb+0x1e1b+0x79*-0x5d);}['play'](){this['data']['paused']=!(-0x1cc*0x11+-0x4+0x1e91),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(0x40*-0x45+0x9*0x13e+-0x612*-0x1),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(0x469*-0x1+-0x23bd+0x13*0x21d):this['emitter']&&this['emitter']['loop']?!(-0xb*0x251+-0x1*-0x12e3+0x698*0x1):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x42ee04}=this;_0x42ee04&&!_0x42ee04['inTools']&&(_0x42ee04['inTools']=!(-0x13*0x3b+0x25f9+0xd7*-0x28),this['rebuild']());}['rebuild'](){const _0x1800e3=this['enabled'];this['enabled']=!(-0x1*-0x1837+0x31e+-0x1b54),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0x1800e3;}}class t3{constructor(){this['numParticl'+'es']=-0x2*-0x704+0x1*0x1e76+-0x2c7d,this['rate']=0x9e8*-0x1+-0x16c7+0x20b0,this['rate2']=null,this['startAngle']=-0x272*-0xd+0x21c2+-0x418c,this['startAngle'+'2']=null,this['lifetime']=-0x1*-0x69a+0x48d+-0xaf5,this['emitterExt'+'ents']=new D(),this['emitterExt'+'entsInner']=new D(),this['emitterRad'+'ius']=0x1360+0x5*0x224+-0x64*0x4d,this['emitterRad'+'iusInner']=-0x1b91+-0x1407*0x1+0x5f3*0x8,this['emitterSha'+'pe']=ai,this['initialVel'+'ocity']=-0x12c3*0x1+-0xc*0x2d+0x6f5*0x3,this['wrap']=!(0x129e+-0x7b*0x29+0x2*0x8b),this['wrapBounds']=new D(),this['localSpace']=!(0x1951*0x1+-0xecf+-0xa81),this['screenSpac'+'e']=!(-0x230c+-0xe3d+0x2bd*0x12),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(0x20ba+-0x1*-0x1417+-0x34d1),this['preWarm']=!(-0xcbf+-0x3ec+0xc2*0x16),this['sort']=-0x7a3+-0x1dd*-0xb+-0xcdc,this['mode']=rv,this['scene']=null,this['lighting']=!(-0x1edf+0x2d7*0x3+0x165b),this['halfLamber'+'t']=!(-0x1*-0x729+-0x310+-0x418),this['intensity']=0x1f72+0x1f5e+-0x7*0x8f9,this['stretch']=-0x913+0xb55+-0x2*0x121,this['alignToMot'+'ion']=!(0x287+-0x14c*-0x7+-0xb9a),this['depthSofte'+'ning']=-0x139*-0x11+0x14ca+-0x2993*0x1,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(0x1fb1+-0x12cf+0x3*-0x44b),this['noFog']=!(-0xd21*-0x1+0xe66+-0x1a*0x10f),this['orientatio'+'n']=yh,this['particleNo'+'rmal']=new D(-0xaf7+-0x120f+-0x5*-0x5ce,0x1*-0xced+-0x1*-0x23c8+-0x16da,0x128*-0x11+0x441+0xf67),this['animTilesX']=-0x1a6f+0x3ed+0x1*0x1683,this['animTilesY']=0x146+-0x1210+-0x1*-0x10cb,this['animStartF'+'rame']=0x1e23+0x2707+-0x452a,this['animNumFra'+'mes']=0x34c*-0x1+-0x1f97*0x1+0x22e4,this['animNumAni'+'mations']=0x1afb+-0x215a+0x660,this['animIndex']=-0x2694+0x1252+-0x1*-0x1442,this['randomizeA'+'nimIndex']=!(0x170+-0x3*-0x9ad+-0x1e76),this['animSpeed']=0x1*0xa98+0xa*0x307+-0x1*0x28dd,this['animLoop']=!(-0x1377+-0x49*0x47+-0x12b*-0x22),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Zs,this['enabled']=!(0xe99*-0x1+0xd35+0x164),this['paused']=!(0xd*0x272+0x1e2b+-0x1*0x3df4),this['autoPlay']=!(-0x22a1+-0x3b5+0x2656),this['layers']=[er];}}const s3='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0auniform\x20'+'float\x20soft'+'ening;\x0auni'+'form\x20float'+'\x20colorMult'+';\x0a\x0afloat\x20s'+'aturate(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex\x20\x20=\x20tex'+'ture2D(col'+'orMap,\x20vec'+'2(texCoord'+'sAlphaLife'+'.x,\x201.0\x20-\x20'+'texCoordsA'+'lphaLife.y'+'));\x0a\x20\x20\x20\x20ve'+'c4\x20ramp\x20=\x20'+'texture2D('+'colorParam'+',\x20vec2(tex'+'CoordsAlph'+'aLife.w,\x200'+'.0));\x0a\x20\x20\x20\x20'+'ramp.rgb\x20*'+'=\x20colorMul'+'t;\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20+=\x20te'+'xCoordsAlp'+'haLife.z;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'rgb\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'float\x20a\x20\x20='+'\x20tex.a\x20*\x20r'+'amp.a;\x0a',i3='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20meshLoca'+'lPos\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20vec2\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20nlife\x20='+'\x20clamp(inL'+'ife\x20/\x20part'+'icleLifeti'+'me,\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20param'+'Div;\x0a\x20\x20\x20\x20v'+'ec4\x20params'+'\x20=\x20tex1Dlo'+'d_lerp(TEX'+'TURE_PASS('+'internalTe'+'x2),\x20vec2('+'nlife,\x200),'+'\x20paramDiv)'+';\x0a\x20\x20\x20\x20floa'+'t\x20scale\x20=\x20'+'params.y;\x0a'+'\x20\x20\x20\x20float\x20'+'scaleDiv\x20='+'\x20paramDiv.'+'x;\x0a\x20\x20\x20\x20flo'+'at\x20alphaDi'+'v\x20=\x20paramD'+'iv.z;\x0a\x0a\x20\x20\x20'+'\x20scale\x20+=\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20scale'+'DivMult\x20*\x20'+'fract(rndF'+'actor*1000'+'0.0);\x0a\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(quadXY'+'\x20*\x20-0.5\x20+\x20'+'0.5,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'alphaDivMu'+'lt\x20*\x20fract'+'(rndFactor'+'*1000.0),\x20'+'nlife);\x0a#e'+'lse\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_uv,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePos\x20='+'\x20inPos;\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePosMo'+'ved\x20=\x20vec3'+'(0.0);\x0a\x0a\x20\x20'+'\x20\x20mat2\x20rot'+'Matrix;\x0a'),r3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',a3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',n3='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',o3='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',l3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y\x20*\x20('+'1.0\x20/\x20255.'+'0)\x20+\x20rg.x;'+'\x0a}\x0a\x0afloat\x20'+'decodeFloa'+'tRGBA(\x20vec'+'4\x20rgba\x20)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(rgba'+',\x20vec4(1.0'+',\x201.0\x20/\x2025'+'5.0,\x201.0\x20/'+'\x2065025.0,\x20'+'1.0\x20/\x201605'+'81375.0));'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+('rticles\x20-\x20'+'1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),c3='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',h3='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),d3='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',f3='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',u3='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',p3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',m3='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',_3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',g3='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',S3='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),y3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',v3='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',x3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',T3='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',w3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec2\x20pa'+'rticle_ver'+'texData5;\x0a'+'#else\x0a\x20\x20\x20\x20'+'attribute\x20'+'vec4\x20parti'+'cle_vertex'+'Data5;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifndef\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a#endif\x0a\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20lifetim'+'e;\x0auniform'+'\x20float\x20str'+'etch;\x0aunif'+'orm\x20float\x20'+'seed;\x0aunif'+'orm\x20vec3\x20w'+'rapBounds;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rScale;\x0aun'+('iform\x20vec3'+'\x20faceTange'+'nt;\x0aunifor'+'m\x20vec3\x20fac'+'eBinorm;\x0a\x0a'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex0'+';\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x1;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex2;\x0a#end'+'if\x0auniform'+'\x20vec3\x20emit'+'terPos;\x0a\x0av'+'arying\x20vec'+'4\x20texCoord'+'sAlphaLife'+';\x0a\x0avec2\x20ro'+'tate(vec2\x20'+'quadXY,\x20fl'+'oat\x20pRotat'+'ion,\x20out\x20m'+'at2\x20rotMat'+'rix)\x0a{\x0a\x20\x20\x20'+'\x20float\x20c\x20='+'\x20cos(pRota'+'tion);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20sin(pRota'+'tion);\x0a\x20\x20\x20'+'\x20//vec4\x20ro'+'tationMatr'+'ix\x20=\x20vec4('+'c,\x20-s,\x20s,\x20'+'c);\x0a\x0a\x20\x20\x20\x20m'+'at2\x20m\x20=\x20ma'+'t2(c,\x20-s,\x20'+'s,\x20c);\x0a\x20\x20\x20'+'\x20rotMatrix'+'\x20=\x20m;\x0a\x0a\x20\x20\x20'+'\x20return\x20m\x20'+'*\x20quadXY;\x0a'+'}\x0a\x0avec3\x20bi'+'llboard(ve'+'c3\x20Instanc'+'eCoords,\x20v'+'ec2\x20quadXY'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20return\x20p'+'os;\x0a}\x0a\x0avec'+'3\x20customFa'+'ce(vec3\x20In'+'stanceCoor'+'ds,\x20vec2\x20q'+'uadXY)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20po'+'s\x20=\x20faceTa'+'ngent\x20*\x20qu'+'adXY.x\x20+\x20f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avoid\x20main'+'(void)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20pa'+'rticlePos\x20'+'=\x20particle'+'_vertexDat'+'a.xyz;\x0a\x20\x20\x20'+'\x20vec3\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20vec3\x20vert'+'Pos\x20=\x20part'+'icle_verte'+'xData3.xyz'+';\x0a\x20\x20\x20\x20vec3'+'\x20inVel\x20=\x20v'+'ec3(partic'+'le_vertexD'+'ata2.w,\x20pa')+('rticle_ver'+'texData3.w'+',\x20particle'+'_vertexDat'+'a5.x);\x0a\x0a\x20\x20'+'\x20\x20float\x20id'+'\x20=\x20floor(p'+'article_ve'+'rtexData4)'+';\x0a\x20\x20\x20\x20floa'+'t\x20rndFacto'+'r\x20=\x20fract('+'sin(id\x20+\x201'+'.0\x20+\x20seed)'+');\x0a\x20\x20\x20\x20vec'+'3\x20rndFacto'+'r3\x20=\x20vec3('+'rndFactor,'+'\x20fract(rnd'+'Factor*10.'+'0),\x20fract('+'rndFactor*'+'100.0));\x0a\x0a'+'#ifdef\x20LOC'+'AL_SPACE\x0a\x20'+'\x20\x20\x20inVel\x20='+'\x20mat3(matr'+'ix_model)\x20'+'*\x20inVel;\x0a#'+'endif\x0a\x20\x20\x20\x20'+'vec2\x20veloc'+'ityV\x20=\x20nor'+'malize((ma'+'t3(matrix_'+'view)\x20*\x20in'+'Vel).xy);\x20'+'//\x20should\x20'+'be\x20removed'+'\x20by\x20compil'+'er\x20if\x20alig'+'n/stretch\x20'+'is\x20not\x20use'+'d\x0a\x0a\x20\x20\x20\x20vec'+'2\x20quadXY\x20='+'\x20vertPos.x'+'y;\x0a\x0a#ifdef'+'\x20USE_MESH\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe\x20=\x20vec4('+'particle_v'+'ertexData5'+'.zw,\x20parti'+'cle_vertex'+'Data2.z,\x20p'+'article_ve'+'rtexData.w'+');\x0a#else\x0a\x20'+'\x20\x20\x20texCoor'+'dsAlphaLif'+'e\x20=\x20vec4(q'+'uadXY\x20*\x20-0'+'.5\x20+\x200.5,\x20'+'particle_v'+'ertexData2'+'.z,\x20partic'+'le_vertexD'+'ata.w);\x0a#e'+'ndif\x0a\x20\x20\x20\x20m'+'at2\x20rotMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'float\x20inAn'+'gle\x20=\x20part'+'icle_verte'+'xData2.x;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20vec3\x20me'+'shLocalPos'+'\x20=\x20particl'+'e_vertexDa'+'ta3.xyz;\x0a'),E3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',b3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',A3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',C3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',P3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20vec3'+'\x20posNormal'+'\x20=\x20-normal'+'\x20*\x200.5\x20+\x200'+'.5;\x0a\x20\x20\x20\x20ne'+'gNormal\x20*='+'\x20negNormal'+';\x0a\x20\x20\x20\x20posN'+'ormal\x20*=\x20p'+'osNormal;\x0a',M3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a\x0a#i'+'f\x20defined('+'USE_MESH)\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(USE_'+'MESH_UV)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20particle'+'_uv;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mesh'+'\x20UV\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20par'+'ticle_uv\x20='+'\x20vec2(0.0,'+'\x200.0);\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+'Projection'+';\x0auniform\x20'+'mat4\x20matri'+'x_model;\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20numPart'+'iclesPot;\x0a'+'uniform\x20fl'+'oat\x20graphS'+'ampleSize;'+'\x0auniform\x20f'+'loat\x20graph'+'NumSamples'+';\x0auniform\x20'+'float\x20stre'+'tch;\x0aunifo'+'rm\x20vec3\x20wr'+'apBounds;\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Scale;\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0auniform\x20'+'vec3\x20faceT'+'angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0auniform'+'\x20float\x20rat'+'e;\x0auniform'+'\x20float\x20rat'+'eDiv;\x0aunif'+'orm\x20float\x20'+'lifetime;\x0a'+'uniform\x20fl'+'oat\x20deltaR'+'andomnessS'+'tatic;\x0auni'+'form\x20float'+'\x20scaleDivM'+'ult;\x0aunifo'+'rm\x20float\x20a'+'lphaDivMul'+'t;\x0auniform'+'\x20float\x20see'+'d;\x0auniform'+'\x20float\x20del'+'ta;\x0aunifor'+'m\x20sampler2'+'D\x20particle'+'TexOUT;\x0aun'+'iform\x20samp'+('ler2D\x20part'+'icleTexIN;'+'\x0a\x0a#ifdef\x20P'+'ARTICLE_GP'+'U\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x0;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex2;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0avarying\x20'+'vec4\x20texCo'+'ordsAlphaL'+'ife;\x0a\x0avec3'+'\x20inPos;\x0ave'+'c3\x20inVel;\x0a'+'float\x20inAn'+'gle;\x0abool\x20'+'inShow;\x0afl'+'oat\x20inLife'+';\x0a'),D3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',I3='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',L3='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',R3='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',O3='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',F3='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',N3='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan(veloci'+'tyV.x,\x20vel'+'ocityV.y);'+'\x0a\x0a',k3='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',U3='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec3\x20No'+'rmal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20lightCu'+'be[6];\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20float\x20vDe'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fogP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'f\x20NORMAL\x20='+'=\x20MAP\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20normalMa'+'p;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22p'+'articlePS\x22'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_softP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20normal\x20'+'=\x20Normal;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalMap'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20HALF_L'+'AMBERT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_ha'+'lflambertP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_la'+'mbertPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_lighting'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20BLEND\x20'+'==\x20NORMAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndNormalPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+('\x20ADDITIVE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndAddPS\x22\x0a\x20'+'\x20\x20\x20#elif\x20B'+'LEND\x20==\x20MU'+'LTIPLICATI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendMulti'+'plyPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endPS\x22\x0a'),B3='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20animTexTi'+'lesParams;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20animTexP'+'arams;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec2\x20an'+'imTexIndex'+'Params;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20NO'+'RMAL\x20==\x20MA'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20Normal'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20SOFT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20floa'+'t\x20vDepth;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_initVS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PA'+'CK8\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleInputR'+'gba8PS\x22\x20\x20\x20'+'\x20\x20//\x20why\x20a'+'re\x20these\x20P'+'S\x20and\x20not\x20'+'VS?\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x20'+'\x22particleI'+'nputFloatP'+'S\x22\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'OFT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22scre'+'enDepthPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleVS\x22\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20PARTICLE_'+'CPU\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22scr'+'eenDepthPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_cpuVS'+'\x22\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_local'+'ShiftVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20ANIMT'+'EX_LOOP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('#include\x20\x22'+'particleAn'+'imFrameLoo'+'pVS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particleA'+'nimFrameCl'+'ampVS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleAn'+'imTexVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20wr'+'ap\x20is\x20not\x20'+'used\x20on\x20CP'+'U,\x20it\x20was\x20'+'commented\x20'+'out.\x20TODO:'+'\x20investiga'+'te\x20why\x0a\x20\x20\x20'+'\x20#ifdef\x20PA'+'RTICLE_GPU'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20WRAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_wrapVS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20AL'+'IGN_TO_MOT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_pointAlon'+'gVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20US'+'E_MESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_meshVS'+'\x22\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20CUS'+'TOM_FACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'customFace'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_b'+'illboardVS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalVS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_TBNVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STRETCH\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_str'+'etchVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endVS\x22\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20PARTICLE'+'_CPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_cpu_endV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#')+('ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_so'+'ftVS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20}\x0a'),z3='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',V3='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',G3='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',H3='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',W3='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',$3={'particlePS':s3,'particleVS':i3,'particleAnimFrameClampVS':r3,'particleAnimFrameLoopVS':a3,'particleAnimTexVS':n3,'particleInputFloatPS':o3,'particleInputRgba8PS':l3,'particleOutputFloatPS':c3,'particleOutputRgba8PS':h3,'particleUpdaterAABBPS':d3,'particleUpdaterEndPS':f3,'particleUpdaterInitPS':u3,'particleUpdaterNoRespawnPS':p3,'particleUpdaterOnStopPS':m3,'particleUpdaterRespawnPS':_3,'particleUpdaterSpherePS':g3,'particleUpdaterStartPS':S3,'particle_billboardVS':y3,'particle_blendAddPS':v3,'particle_blendMultiplyPS':x3,'particle_blendNormalPS':T3,'particle_cpuVS':w3,'particle_cpu_endVS':E3,'particle_customFaceVS':b3,'particle_endPS':A3,'particle_endVS':C3,'particle_halflambertPS':P3,'particle_initVS':M3,'particle_lambertPS':D3,'particle_lightingPS':I3,'particle_localShiftVS':L3,'particle_meshVS':R3,'particle_normalVS':O3,'particle_normalMapPS':F3,'particle_pointAlongVS':N3,'particle_simulationPS':k3,'particle_shaderPS':U3,'particle_shaderVS':B3,'particle_softPS':z3,'particle_softVS':V3,'particle_stretchVS':G3,'particle_TBNVS':H3,'particle_wrapVS':W3},X3='\x0avarying\x20t'+'exCoordsAl'+'phaLife:\x20v'+'ec4f;\x0a\x0avar'+'\x20colorMap:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20colorMap'+'Sampler:\x20s'+'ampler;\x0ava'+'r\x20colorPar'+'am:\x20textur'+'e_2d<f32>;'+'\x0avar\x20color'+'ParamSampl'+'er:\x20sample'+'r;\x0a\x0aunifor'+'m\x20graphSam'+'pleSize:\x20f'+'32;\x0aunifor'+'m\x20graphNum'+'Samples:\x20f'+'32;\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0auniform'+'\x20softening'+':\x20f32;\x0auni'+'form\x20color'+'Mult:\x20f32;'+'\x0a\x0afn\x20satur'+'ate(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20tex:\x20v'+'ec4f\x20\x20=\x20te'+'xtureSampl'+'e(colorMap'+',\x20colorMap'+'Sampler,\x20v'+'ec2f(input'+'.texCoords'+'AlphaLife.'+'x,\x201.0\x20-\x20i'+'nput.texCo'+'ordsAlphaL'+'ife.y));\x0a\x20'+'\x20\x20\x20var\x20ram'+'p:\x20vec4f\x20='+'\x20textureSa'+'mple(color'+'Param,\x20col'+'orParamSam'+'pler,\x20vec2'+'f(input.te'+'xCoordsAlp'+'haLife.w,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20ramp\x20=\x20ve'+'c4f(ramp.r'+'gb\x20*\x20unifo'+'rm.colorMu'+'lt,\x20ramp.a'+');\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20=\x20ram'+'p.a\x20+\x20inpu'+'t.texCoord'+'sAlphaLife'+'.z;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20rgb:\x20ve'+'c3f\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'var\x20a:\x20f32'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',q3='\x0afn\x20unpack'+'3NFloats(s'+'rc:\x20f32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20r\x20'+'=\x20fract(sr'+'c);\x0a\x20\x20\x20\x20le'+'t\x20g\x20=\x20frac'+'t(src\x20*\x2025'+'6.0);\x0a\x20\x20\x20\x20'+'let\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3f(r,\x20'+'g,\x20b);\x0a}\x0a\x0a'+'fn\x20saturat'+'e(x:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0astruct\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20resu'+'lt:\x20vec4f,'+'\x0a\x20\x20\x20\x20unpac'+'ked:\x20vec3f'+'\x0a}\x0a\x0afn\x20tex'+'1Dlod_lerp'+'_simple(te'+'x:\x20texture'+'_2d<f32>,\x20'+'texSampler'+':\x20sampler,'+'\x20tc:\x20vec2f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20tc_next\x20='+'\x20tc\x20+\x20vec2'+'f(uniform.'+'graphSampl'+'eSize);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(\x20textur'+'eSample(te'+'x,\x20texSamp'+'ler,\x20tc),\x20'+'textureSam'+'ple(tex,\x20t'+'exSampler,'+'\x20tc_next),'+'\x20fract(tc.'+'x\x20*\x20unifor'+'m.graphNum'+'Samples)\x20)'+';\x0a}\x0a\x0afn\x20te'+'x1Dlod_ler'+'p_unpack(t'+'ex:\x20textur'+'e_2d<f32>,'+'\x20texSample'+'r:\x20sampler'+',\x20tc:\x20vec2'+'f)\x20->\x20TexL'+'erpUnpackR'+'esult\x20{\x0a\x20\x20'+'\x20\x20let\x20tc_n'+'ext\x20=\x20tc\x20+'+'\x20vec2f(uni'+'form.graph'+'SampleSize'+');\x0a\x20\x20\x20\x20let'+'\x20a\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20tc,\x200.0);'+'\x0a\x20\x20\x20\x20let\x20b'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'c_next,\x200.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20u'+'niform.gra'+'phNumSampl'+'es);\x0a\x20\x20\x20\x20l'+'et\x20unpacke'+'dA\x20=\x20unpac'+'k3NFloats('+'a.w);\x0a\x20\x20\x20\x20'+'let\x20unpack'+'edB\x20=\x20unpa'+'ck3NFloats'+'(b.w);\x0a\x20\x20\x20'+'\x20let\x20w_out'+('\x20=\x20mix(unp'+'ackedA,\x20un'+'packedB,\x20c'+');\x0a\x20\x20\x20\x20ret'+'urn\x20TexLer'+'pUnpackRes'+'ult(mix(a,'+'\x20b,\x20c),\x20w_'+'out);\x0a}\x0a\x0as'+'truct\x20Rota'+'teResult\x20{'+'\x0a\x20\x20\x20\x20rotat'+'edVec:\x20vec'+'2f,\x0a\x20\x20\x20\x20ma'+'trix:\x20mat2'+'x2f\x0a}\x0a\x0afn\x20'+'rotateWith'+'Matrix(qua'+'dXY:\x20vec2f'+',\x20pRotatio'+'n:\x20f32)\x20->'+'\x20RotateRes'+'ult\x20{\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20co'+'s(pRotatio'+'n);\x0a\x20\x20\x20\x20le'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x20\x20\x20\x20let\x20'+'m\x20=\x20mat2x2'+'f(vec2f(c,'+'\x20s),\x20vec2f'+'(-s,\x20c));\x0a'+'\x20\x20\x20\x20return'+'\x20RotateRes'+'ult(m\x20*\x20qu'+'adXY,\x20m);\x0a'+'}\x0a\x0afn\x20bill'+'board(Inst'+'anceCoords'+':\x20vec3f,\x20q'+'uadXY:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20pos:\x20ve'+'c3f;\x0a\x20\x20\x20\x20#'+'ifdef\x20SCRE'+'EN_SPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pos'+'\x20=\x20vec3f(-'+'1.0,\x200.0,\x20'+'0.0)\x20*\x20qua'+'dXY.x\x20+\x20ve'+'c3f(0.0,\x20-'+'1.0,\x200.0)\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20custom'+'Face(Insta'+'nceCoords:'+'\x20vec3f,\x20qu'+'adXY:\x20vec2'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20pos\x20=\x20un'+'iform.face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20uniform.f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20safeNo'+'rmalize(v:'+'\x20vec2f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20let\x20l\x20='+'\x20length(v)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20select('+'v,\x20v\x20/\x20l,\x20'+'l\x20>\x201e-06)'+';\x0a}\x0a\x0a@vert'+'ex\x0afn\x20vert'+'exMain(inp')+('ut:\x20Vertex'+'Input)\x20->\x20'+'VertexOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20meshLo'+'calPos_in\x20'+'=\x20input.pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20id\x20=\x20floo'+'r(input.pa'+'rticle_ver'+'texData.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20rndFactor'+'\x20=\x20fract(s'+'in(id\x20+\x201.'+'0\x20+\x20unifor'+'m.seed));\x0a'+'\x20\x20\x20\x20let\x20rn'+'dFactor3\x20='+'\x20vec3f(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20let\x20uv\x20=\x20'+'id\x20/\x20unifo'+'rm.numPart'+'iclesPot;\x0a'+'\x20\x20\x20\x20readIn'+'put(uv);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20model'+'Rotation\x20='+'\x20mat3x3f(u'+'niform.mat'+'rix_model['+'0].xyz,\x20un'+'iform.matr'+'ix_model[1'+'].xyz,\x20uni'+'form.matri'+'x_model[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20inVel'+'\x20=\x20modelRo'+'tation\x20*\x20i'+'nVel;\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20let\x20viewR'+'otation\x20=\x20'+'mat3x3f(un'+'iform.matr'+'ix_view[0]'+'.xyz,\x20unif'+'orm.matrix'+'_view[1].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[2].xyz'+');\x0a\x20\x20\x20\x20let'+'\x20velocityV'+'\x20=\x20safeNor'+'malize((vi'+'ewRotation'+'\x20*\x20inVel).'+'xy);\x0a\x0a\x20\x20\x20\x20'+'let\x20partic'+'leLifetime'+'\x20=\x20uniform'+'.lifetime;'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'meshLocalP'+'os\x20=\x20meshL'+'ocalPos_in'+';\x0a\x20\x20\x20\x20if\x20('+'inLife\x20<=\x20'+'0.0\x20||\x20inL'+'ife\x20>\x20part'+'icleLifeti'+'me\x20||\x20!inS'+'how)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mesh'+'LocalPos\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20let\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20let'+'\x20nlife\x20=\x20c')+('lamp(inLif'+'e\x20/\x20partic'+'leLifetime'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20lerp_res'+'ult\x20=\x20tex1'+'Dlod_lerp_'+'unpack(int'+'ernalTex2,'+'\x20internalT'+'ex2Sampler'+',\x20vec2f(nl'+'ife,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'params\x20=\x20l'+'erp_result'+'.result;\x0a\x20'+'\x20\x20\x20let\x20par'+'amDiv\x20=\x20le'+'rp_result.'+'unpacked;\x0a'+'\x0a\x20\x20\x20\x20var\x20s'+'cale\x20=\x20par'+'ams.y;\x0a\x20\x20\x20'+'\x20let\x20scale'+'Div\x20=\x20para'+'mDiv.x;\x0a\x20\x20'+'\x20\x20let\x20alph'+'aDiv\x20=\x20par'+'amDiv.z;\x0a\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20scale\x20+\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20unifo'+'rm.scaleDi'+'vMult\x20*\x20fr'+'act(rndFac'+'tor*10000.'+'0);\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.texCoords'+'AlphaLife\x20'+'=\x20vec4f(qu'+'adXY\x20*\x20-0.'+'5\x20+\x200.5,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20unifor'+'m.alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife\x20=\x20vec4'+'f(particle'+'_uv,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'uniform.al'+'phaDivMult'+'\x20*\x20fract(r'+'ndFactor*1'+'000.0),\x20nl'+'ife);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20var\x20part'+'iclePos\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20var\x20parti'+'clePosMove'+'d\x20=\x20vec3f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20var\x20rotMa'+'trix:\x20mat2'+'x2f;\x0a'),j3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20min('+'floor(inpu'+'t.texCoord'+'sAlphaLife'+'.w\x20*\x20unifo'+'rm.animTex'+'Params.y)\x20'+'+\x20uniform.'+'animTexPar'+'ams.x,\x20uni'+'form.animT'+'exParams.z'+');\x0a',Y3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20floo'+'r((output.'+'texCoordsA'+'lphaLife.w'+'\x20*\x20uniform'+'.animTexPa'+'rams.y\x20+\x20u'+'niform.ani'+'mTexParams'+'.x)\x20%\x20(uni'+'form.animT'+'exParams.z'+'\x20+\x201.0));\x20'+'\x20\x20\x20\x0a',K3='\x0a\x20\x20\x20\x20var\x20a'+'nimationIn'+'dex:\x20f32;\x0a'+'\x0a\x20\x20\x20\x20if\x20(u'+'niform.ani'+'mTexIndexP'+'arams.y\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20floor(('+'uniform.an'+'imTexParam'+'s.w\x20+\x201.0)'+'\x20*\x20rndFact'+'or3.z)\x20*\x20('+'uniform.an'+'imTexParam'+'s.z\x20+\x201.0)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20animati'+'onIndex\x20=\x20'+'uniform.an'+'imTexIndex'+'Params.x\x20*'+'\x20(uniform.'+'animTexPar'+'ams.z\x20+\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20var\x20a'+'tlasX:\x20f32'+'\x20=\x20(animat'+'ionIndex\x20+'+'\x20animFrame'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20atlasY:\x20'+'f32\x20=\x201.0\x20'+'-\x20floor(at'+'lasX\x20+\x201.0'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.y;\x0a\x20\x20\x20\x20at'+'lasX\x20=\x20fra'+'ct(atlasX)'+';\x20//\x20Reass'+'ign\x20atlasX'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'current_tc'+'al_xy\x20=\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.xy;\x0a\x20\x20'+'\x20\x20let\x20scal'+'ed_tcal_xy'+'\x20=\x20current'+'_tcal_xy\x20*'+'\x20uniform.a'+'nimTexTile'+'sParams.xy'+';\x0a\x20\x20\x20\x20let\x20'+'final_tcal'+'_xy\x20=\x20scal'+'ed_tcal_xy'+'\x20+\x20vec2f(a'+'tlasX,\x20atl'+'asY);\x0a\x20\x20\x20\x20'+'output.tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4f(final_'+'tcal_xy,\x20o'+'utput.texC'+'oordsAlpha'+'Life.z,\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.w);\x0a',Z3='\x0afn\x20readIn'+'put(uv:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex:\x20ve'+'c4f\x20=\x20text'+'ureSampleL'+'evel(parti'+'cleTexIN,\x20'+'particleTe'+'xINSampler'+',\x20vec2f(uv'+',\x200.25),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex2:\x20v'+'ec4f\x20=\x20tex'+'tureSample'+'Level(part'+'icleTexIN,'+'\x20particleT'+'exINSample'+'r,\x20vec2f(u'+'v,\x200.75),\x20'+'0.0);\x0a\x0a\x20\x20\x20'+'\x20inPos\x20=\x20t'+'ex.xyz;\x0a\x20\x20'+'\x20\x20inVel\x20=\x20'+'tex2.xyz;\x0a'+'\x20\x20\x20\x20inAngl'+'e\x20=\x20abs(te'+'x.w)\x20-\x20100'+'0.0;\x0a\x20\x20\x20\x20i'+'nShow\x20=\x20te'+'x.w\x20>=\x200.0'+';\x0a\x20\x20\x20\x20inLi'+'fe\x20=\x20tex2.'+'w;\x0a}\x0a',Q3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0ac'+'onst\x20PI2:\x20'+'f32\x20=\x206.28'+'3185307179'+'586;\x0a\x0aunif'+'orm\x20inBoun'+'dsSize:\x20ve'+'c3f;\x0aunifo'+'rm\x20inBound'+'sCenter:\x20v'+'ec3f;\x0a\x0auni'+'form\x20maxVe'+'l:\x20f32;\x0a\x0af'+'n\x20decodeFl'+'oatRG(rg:\x20'+'vec2f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20rg.'+'y\x20*\x20(1.0\x20/'+'\x20255.0)\x20+\x20'+'rg.x;\x0a}\x0a\x0af'+'n\x20decodeFl'+'oatRGBA(\x20r'+'gba:\x20vec4f'+'\x20)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(rgb'+'a,\x20vec4f(1'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x2065025.0'+',\x201.0\x20/\x2016'+'0581375.0)'+');\x0a}\x0a\x0afn\x20r'+'eadInput(u'+'v:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20let\x20te'+'x0\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.125),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex1\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.37'+'5),\x200.0);\x0a'+'\x20\x20\x20\x20let\x20te'+'x2\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.625),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex3\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.87'+'5),\x200.0);\x0a'+'\x0a\x20\x20\x20\x20inPos'+'\x20=\x20vec3f(d'+'ecodeFloat'+'RG(tex0.rg'+'),\x20decodeF'+'loatRG(tex'+'0.ba),\x20dec'+'odeFloatRG'+'(tex1.rg))'+';\x0a\x20\x20\x20\x20inPo'+'s\x20=\x20(inPos'+'\x20-\x20vec3f(0'+'.5))\x20*\x20uni'+'form.inBou'+'ndsSize\x20+\x20'+'uniform.in'+'BoundsCent'+'er;\x0a\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inVel\x20=\x20('+('inVel\x20-\x20ve'+'c3f(0.5))\x20'+'*\x20uniform.'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20let\x20l'+'ife_decode'+'d\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20let\x20maxNe'+'gLife\x20=\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20(uniform.'+'rate\x20+\x20uni'+'form.rateD'+'iv));\x0a\x20\x20\x20\x20'+'let\x20maxPos'+'Life\x20=\x20uni'+'form.lifet'+'ime\x20+\x201.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20life_d'+'ecoded\x20*\x20('+'maxNegLife'+'\x20+\x20maxPosL'+'ife)\x20-\x20max'+'NegLife;\x0a}'),J3='\x0afn\x20getOut'+'put()\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20if\x20(pcPos'+'ition.y\x20<\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4f(ou'+'tPos,\x20(out'+'Angle\x20+\x2010'+'00.0)\x20*\x20vi'+'sMode);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(outVel,\x20'+'outLife);\x0a'+'\x20\x20\x20\x20}\x0a}\x0a',eO='\x0auniform\x20o'+'utBoundsMu'+'l:\x20vec3f;\x0a'+'uniform\x20ou'+'tBoundsAdd'+':\x20vec3f;\x0a\x0a'+'fn\x20encodeF'+'loatRG(\x20v:'+'\x20f32\x20)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20var\x20enc:'+'\x20vec2f\x20=\x20v'+'ec2f(1.0,\x20'+'255.0)\x20*\x20v'+';\x0a\x20\x20\x20\x20enc\x20'+'=\x20fract(en'+'c);\x0a\x20\x20\x20\x20en'+'c\x20=\x20enc\x20-\x20'+'enc.yy\x20*\x20('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20enc;\x0a'+'}\x0a\x0afn\x20enco'+'deFloatRGB'+'A(\x20v:\x20f32\x20'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20factors\x20='+'\x20vec4f(1.0'+',\x20255.0,\x206'+'5025.0,\x2016'+'0581375.0)'+';\x0a\x20\x20\x20\x20var\x20'+'enc:\x20vec4f'+'\x20=\x20factors'+'\x20*\x20v;\x0a\x20\x20\x20\x20'+'enc\x20=\x20frac'+'t(enc);\x0a\x20\x20'+'\x20\x20enc\x20=\x20en'+'c\x20-\x20enc.yz'+'ww\x20*\x20vec4f'+'(1.0\x20/\x20255'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x20255.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'return\x20enc'+';\x0a}\x0a\x0afn\x20ge'+'tOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20outPo'+'s\x20=\x20outPos'+'\x20*\x20uniform'+'.outBounds'+'Mul\x20+\x20unif'+'orm.outBou'+'ndsAdd;\x0a\x20\x20'+'\x20\x20outAngle'+'\x20=\x20fract(o'+'utAngle\x20/\x20'+'PI2);\x0a\x0a\x20\x20\x20'+'\x20outVel\x20=\x20'+'(outVel\x20/\x20'+'uniform.ma'+'xVel)\x20+\x20ve'+'c3f(0.5);\x20'+'//\x20TODO:\x20m'+'ul\x0a\x0a\x20\x20\x20\x20le'+'t\x20maxNegLi'+'fe\x20=\x20max(u'+'niform.lif'+'etime,\x20(un'+'iform.numP'+'articles\x20-'+'\x201.0)\x20*\x20(u'+'niform.rat'+'e\x20+\x20unifor'+'m.rateDiv)'+');\x0a\x20\x20\x20\x20let'+'\x20maxPosLif'+'e\x20=\x20unifor'+'m.lifetime'+'\x20+\x201.0;\x0a\x20\x20'+'\x20\x20outLife\x20'+'=\x20(outLife'+'\x20+\x20maxNegL'+'ife)\x20/\x20(ma'+'xNegLife\x20+'+'\x20maxPosLif'+'e);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(pcPosit'+'ion.y\x20<\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'vec4f(enco'+'deFloatRG('+'outPos.x),'+'\x20encodeFlo'+'atRG(outPo'+'s.y));\x0a\x20\x20\x20'+('\x20}\x20else\x20if'+'\x20(pcPositi'+'on.y\x20<\x202.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(encod'+'eFloatRG(o'+'utPos.z),\x20'+'encodeFloa'+'tRG(outAng'+'le));\x0a\x20\x20\x20\x20'+'}\x20else\x20if\x20'+'(pcPositio'+'n.y\x20<\x203.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(outVel'+',\x20visMode\x20'+'*\x200.5\x20+\x200.'+'5);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20encodeFl'+'oatRGBA(ou'+'tLife);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),tO='\x0auniform\x20s'+'pawnBounds'+':\x20mat3x3f;'+'\x0auniform\x20s'+'pawnPosInn'+'erRatio:\x20v'+'ec3f;\x0a\x0afn\x20'+'calcSpawnP'+'osition(in'+'Bounds:\x20ve'+'c3f,\x20rndFa'+'ctor:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'pos\x20=\x20inBo'+'unds\x20-\x20vec'+'3f(0.5);\x0a\x0a'+'\x20\x20\x20\x20let\x20po'+'sAbs\x20=\x20abs'+'(pos);\x0a\x20\x20\x20'+'\x20let\x20maxCo'+'mp\x20=\x20max(p'+'osAbs.x,\x20m'+'ax(posAbs.'+'y,\x20posAbs.'+'z));\x0a\x20\x20\x20\x20l'+'et\x20maxPos\x20'+'=\x20vec3f(ma'+'xComp);\x0a\x0a\x20'+'\x20\x20\x20let\x20edg'+'e\x20=\x20maxPos'+'\x20+\x20(vec3f('+'0.5)\x20-\x20max'+'Pos)\x20*\x20uni'+'form.spawn'+'PosInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'pos.x\x20=\x20ed'+'ge.x\x20*\x20sel'+'ect(2.0\x20*\x20'+'pos.x,\x20sig'+'n(pos.x),\x20'+'maxPos.x\x20='+'=\x20posAbs.x'+');\x0a\x20\x20\x20\x20pos'+'.y\x20=\x20edge.'+'y\x20*\x20select'+'(2.0\x20*\x20pos'+'.y,\x20sign(p'+'os.y),\x20max'+'Pos.y\x20==\x20p'+'osAbs.y);\x0a'+'\x20\x20\x20\x20pos.z\x20'+'=\x20edge.z\x20*'+'\x20select(2.'+'0\x20*\x20pos.z,'+'\x20sign(pos.'+'z),\x20maxPos'+'.z\x20==\x20posA'+'bs.z);\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20uni'+'form.emitt'+'erPos\x20+\x20un'+'iform.spaw'+'nBounds\x20*\x20'+'pos;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uniform.sp'+'awnBounds\x20'+'*\x20pos;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20*localV'+'elocity\x20=\x20'+'*localVelo'+'city\x20-\x20vec'+'3f(0.0,\x200.'+'0,\x20uniform'+'.initialVe'+'locity);\x0a}'+'\x0a',sO='\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'getOutput('+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',iO='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20par'+'ticleTexIN'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20particl'+'eTexINSamp'+'ler:\x20sampl'+'er;\x0avar\x20in'+'ternalTex0'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0avar\x20int'+'ernalTex1:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20internal'+'Tex1Sample'+'r:\x20sampler'+';\x0avar\x20inte'+'rnalTex2:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20internalT'+'ex2Sampler'+':\x20sampler;'+'\x0avar\x20inter'+'nalTex3:\x20t'+'exture_2d<'+'f32>;\x0avar\x20'+'internalTe'+'x3Sampler:'+'\x20sampler;\x0a'+'\x0auniform\x20e'+'mitterMatr'+'ix:\x20mat3x3'+'f;\x0auniform'+'\x20emitterMa'+'trixInv:\x20m'+'at3x3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0a\x0aun'+'iform\x20emit'+'terPos:\x20ve'+'c3f;\x0aunifo'+'rm\x20frameRa'+'ndom:\x20vec3'+'f;\x0auniform'+'\x20localVelo'+'cityDivMul'+'t:\x20vec3f;\x0a'+'uniform\x20ve'+'locityDivM'+'ult:\x20vec3f'+';\x0auniform\x20'+'delta:\x20f32'+';\x0auniform\x20'+'rate:\x20f32;'+'\x0auniform\x20r'+'ateDiv:\x20f3'+'2;\x0auniform'+'\x20lifetime:'+'\x20f32;\x0aunif'+'orm\x20numPar'+'ticles:\x20f3'+'2;\x0auniform'+'\x20rotSpeedD'+'ivMult:\x20f3'+'2;\x0auniform'+'\x20radialSpe'+'edDivMult:'+'\x20f32;\x0aunif'+'orm\x20seed:\x20'+'f32;\x0aunifo'+'rm\x20startAn'+'gle:\x20f32;\x0a'+'uniform\x20st'+'artAngle2:'+'\x20f32;\x0aunif'+'orm\x20initia'+'lVelocity:'+'\x20f32;\x0a\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0a\x0ava'+'r<private>'+'\x20inPos:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20in'+'Vel:\x20vec3f'+';\x0avar<priv'+'ate>\x20inAng'+('le:\x20f32;\x0av'+'ar<private'+'>\x20inShow:\x20'+'bool;\x0avar<'+'private>\x20i'+'nLife:\x20f32'+';\x0avar<priv'+'ate>\x20visMo'+'de:\x20f32;\x0a\x0a'+'var<privat'+'e>\x20outPos:'+'\x20vec3f;\x0ava'+'r<private>'+'\x20outVel:\x20v'+'ec3f;\x0avar<'+'private>\x20o'+'utAngle:\x20f'+'32;\x0avar<pr'+'ivate>\x20out'+'Show:\x20bool'+';\x0avar<priv'+'ate>\x20outLi'+'fe:\x20f32;\x0a'),rO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tLife\x20=\x20ou'+'tLife\x20-\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20particleR'+'ate);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20visMod'+'e\x20=\x20-1.0;\x0a'+'\x20\x20\x20\x20}\x0a',aO='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20selec'+'t(visMode,'+'\x20-1.0,\x20out'+'Life\x20<\x200.0'+');\x0a',nO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20subtract'+'Amount\x20=\x20m'+'ax(uniform'+'.lifetime,'+'\x20(uniform.'+'numParticl'+'es\x20-\x201.0)\x20'+'*\x20particle'+'Rate);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outLi'+'fe\x20=\x20outLi'+'fe\x20-\x20subtr'+'actAmount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'isMode\x20=\x201'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20visMod'+'e\x20=\x20select'+'(visMode,\x20'+'1.0,\x20outLi'+'fe\x20<\x200.0);'+'\x0a',oO='\x0auniform\x20s'+'pawnBounds'+'Sphere:\x20f3'+'2;\x0auniform'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio:\x20'+'f32;\x0a\x0afn\x20c'+'alcSpawnPo'+'sition(inB'+'ounds:\x20vec'+'3f,\x20rndFac'+'tor:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'nd4:\x20f32\x20='+'\x20fract(rnd'+'Factor\x20*\x201'+'000.0);\x0a\x20\x20'+'\x20\x20let\x20norm'+':\x20vec3f\x20=\x20'+'normalize('+'inBounds.x'+'yz\x20-\x20vec3f'+'(0.5));\x0a\x20\x20'+'\x20\x20let\x20r:\x20f'+'32\x20=\x20rnd4\x20'+'*\x20(1.0\x20-\x20u'+'niform.spa'+'wnBoundsSp'+'hereInnerR'+'atio)\x20+\x20un'+'iform.spaw'+'nBoundsSph'+'ereInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20unifo'+'rm.emitter'+'Pos\x20+\x20norm'+'\x20*\x20r\x20*\x20uni'+'form.spawn'+'BoundsSphe'+'re;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20n'+'orm\x20*\x20r\x20*\x20'+'uniform.sp'+'awnBoundsS'+'phere;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20ini'+'tialVelOff'+'set:\x20vec3f'+'\x20=\x20normali'+'ze(inBound'+'s\x20-\x20vec3f('+'0.5))\x20*\x20un'+'iform.init'+'ialVelocit'+'y;\x0a\x20\x20\x20\x20*lo'+'calVelocit'+'y\x20=\x20*local'+'Velocity\x20+'+'\x20initialVe'+'lOffset;\x0a}'+'\x0a',lO='\x0afn\x20satura'+'te(x:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0afn\x20unp'+'ack3NFloat'+'s(src:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20r\x20=\x20fract'+'(src);\x0a\x20\x20\x20'+'\x20let\x20g\x20=\x20f'+'ract(src\x20*'+'\x20256.0);\x0a\x20'+'\x20\x20\x20let\x20b\x20='+'\x20fract(src'+'\x20*\x2065536.0'+');\x0a\x20\x20\x20\x20ret'+'urn\x20vec3f('+'r,\x20g,\x20b);\x0a'+'}\x0a\x0a//\x20Stru'+'ct\x20to\x20hand'+'le\x20multipl'+'e\x20return\x20v'+'alues\x20from'+'\x20tex1Dlod_'+'lerp\x0astruc'+'t\x20TexLerpU'+'npackResul'+'t\x20{\x0a\x20\x20\x20\x20re'+'sult:\x20vec3'+'f,\x0a\x20\x20\x20\x20unp'+'acked:\x20vec'+'3f\x0a}\x0a\x0afn\x20t'+'ex1Dlod_le'+'rp(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20tc:\x20'+'vec2f)\x20->\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'tc_next\x20=\x20'+'tc\x20+\x20vec2f'+'(uniform.g'+'raphSample'+'Size);\x0a\x20\x20\x20'+'\x20let\x20a\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20tc,\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20tc_next'+',\x200.0);\x0a\x20\x20'+'\x20\x20let\x20c\x20=\x20'+'fract(tc.x'+'\x20*\x20uniform'+'.graphNumS'+'amples);\x0a\x0a'+'\x20\x20\x20\x20let\x20un'+'packedA\x20=\x20'+'unpack3NFl'+'oats(a.w);'+'\x0a\x20\x20\x20\x20let\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20let\x20'+'w_out\x20=\x20mi'+'x(unpacked'+'A,\x20unpacke'+'dB,\x20c);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'TexLerpUnp'+'ackResult('+'mix(a.xyz,'+'\x20b.xyz,\x20c)'+',\x20w_out);\x0a'+'}\x0a\x0aconst\x20H'+'ASHSCALE4:'+'\x20vec4f\x20=\x20v'+'ec4f(1031.'+'0,\x200.1030,'+'\x200.0973,\x200'+'.1099);\x0afn'+'\x20hash41(p:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20var\x20p4\x20=\x20'+'fract(vec4'+'f(p)\x20*\x20HAS'+('HSCALE4);\x0a'+'\x20\x20\x20\x20p4\x20=\x20p'+'4\x20+\x20dot(p4'+',\x20p4.wzxy\x20'+'+\x2019.19);\x0a'+'\x20\x20\x20\x20return'+'\x20fract(vec'+'4f((p4.x\x20+'+'\x20p4.y)*p4.'+'z,\x20(p4.x\x20+'+'\x20p4.z)*p4.'+'y,\x20(p4.y\x20+'+'\x20p4.z)*p4.'+'w,\x20(p4.z\x20+'+'\x20p4.w)*p4.'+'x));\x0a}\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20if\x20(pc'+'Position.x'+'\x20>\x20uniform'+'.numPartic'+'les)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20re'+'adInput(in'+'put.vUv0.x'+');\x0a\x20\x20\x20\x20vis'+'Mode\x20=\x20sel'+'ect(-1.0,\x20'+'1.0,\x20inSho'+'w);\x0a\x0a\x20\x20\x20\x20l'+'et\x20rndFact'+'or\x20=\x20hash4'+'1(pcPositi'+'on.x\x20+\x20uni'+'form.seed)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20particleR'+'ate\x20=\x20unif'+'orm.rate\x20+'+'\x20uniform.r'+'ateDiv\x20*\x20r'+'ndFactor.x'+';\x0a\x0a\x20\x20\x20\x20out'+'Life\x20=\x20inL'+'ife\x20+\x20unif'+'orm.delta;'+'\x0a\x20\x20\x20\x20let\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20uniform'+'.lifetime,'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t0\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'0,\x20interna'+'lTex0Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20va'+'r\x20localVel'+'ocity\x20=\x20le'+'rpResult0.'+'result;\x0a\x20\x20'+'\x20\x20let\x20loca'+'lVelocityD'+'iv\x20=\x20lerpR'+'esult0.unp'+'acked;\x0a\x0a\x20\x20'+'\x20\x20let\x20lerp'+'Result1\x20=\x20'+'tex1Dlod_l'+'erp(intern'+'alTex1,\x20in'+'ternalTex1'+'Sampler,\x20v'+'ec2f(nlife'+',\x200.0));\x0a\x20'+'\x20\x20\x20var\x20vel'+'ocity\x20=\x20le'+'rpResult1.'+'result;\x0a\x20\x20'+'\x20\x20let\x20velo'+'cityDiv\x20=\x20'+'lerpResult')+('1.unpacked'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t2\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'2,\x20interna'+'lTex2Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20le'+'t\x20params\x20='+'\x20lerpResul'+'t2.result;'+'\x0a\x20\x20\x20\x20let\x20p'+'aramDiv\x20=\x20'+'lerpResult'+'2.unpacked'+';\x0a\x20\x20\x20\x20var\x20'+'rotSpeed\x20='+'\x20params.x;'+'\x0a\x20\x20\x20\x20let\x20r'+'otSpeedDiv'+'\x20=\x20paramDi'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'let\x20lerpRe'+'sult3\x20=\x20te'+'x1Dlod_ler'+'p(internal'+'Tex3,\x20inte'+'rnalTex3Sa'+'mpler,\x20vec'+'2f(nlife,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20let\x20radia'+'lParams\x20=\x20'+'lerpResult'+'3.result;\x0a'+'\x20\x20\x20\x20let\x20ra'+'dialParamD'+'iv\x20=\x20lerpR'+'esult3.unp'+'acked;\x0a\x20\x20\x20'+'\x20let\x20radia'+'lSpeed\x20=\x20r'+'adialParam'+'s.x;\x0a\x20\x20\x20\x20l'+'et\x20radialS'+'peedDiv\x20=\x20'+'radialPara'+'mDiv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20res'+'pawn\x20=\x20inL'+'ife\x20<=\x200.0'+'\x20||\x20outLif'+'e\x20>=\x20unifo'+'rm.lifetim'+'e;\x0a\x20\x20\x20\x20inP'+'os\x20=\x20selec'+'t(inPos,\x20c'+'alcSpawnPo'+'sition(rnd'+'Factor.xyz'+',\x20rndFacto'+'r.x),\x20resp'+'awn);\x0a\x20\x20\x20\x20'+'inAngle\x20=\x20'+'select(inA'+'ngle,\x20mix('+'uniform.st'+'artAngle,\x20'+'uniform.st'+'artAngle2,'+'\x20rndFactor'+'.x),\x20respa'+'wn);\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20radialVe'+'l:\x20vec3f\x20='+'\x20inPos\x20-\x20u'+'niform.emi'+'tterPos;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20radialVel'+':\x20vec3f\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20=\x20select'+'(vec3f(0.0'+'),\x20radialS'+'peed\x20*\x20nor'+'malize(rad'+'ialVel),\x20d'+'ot(radialV'+'el,\x20radial'+'Vel)\x20>\x201.0')+('E-8);\x0a\x20\x20\x20\x20'+'radialVel\x20'+'=\x20radialVe'+'l\x20+\x20(radia'+'lSpeedDiv\x20'+'*\x20vec3f(2.'+'0)\x20-\x20vec3f'+'(1.0))\x20*\x20u'+'niform.rad'+'ialSpeedDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20=\x20localV'+'elocity\x20+\x20'+'(localVelo'+'cityDiv\x20*\x20'+'vec3f(2.0)'+'\x20-\x20vec3f(1'+'.0))\x20*\x20uni'+'form.local'+'VelocityDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x20\x20\x20\x20vel'+'ocity\x20=\x20ve'+'locity\x20+\x20('+'velocityDi'+'v\x20*\x20vec3f('+'2.0)\x20-\x20vec'+'3f(1.0))\x20*'+'\x20uniform.v'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20rotS'+'peed\x20=\x20rot'+'Speed\x20+\x20(r'+'otSpeedDiv'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20unif'+'orm.rotSpe'+'edDivMult\x20'+'*\x20rndFacto'+'r.y;\x0a\x0a\x20\x20\x20\x20'+'addInitial'+'Velocity(&'+'localVeloc'+'ity,\x20rndFa'+'ctor.xyz);'+'\x0a\x0a\x20\x20\x20\x20#ifn'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20outVel'+'\x20=\x20uniform'+'.emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tVel\x20=\x20(lo'+'calVelocit'+'y\x20+\x20radial'+'Vel)\x20/\x20uni'+'form.emitt'+'erScale\x20+\x20'+'uniform.em'+'itterMatri'+'xInv\x20*\x20vel'+'ocity;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20outPos\x20'+'=\x20inPos\x20+\x20'+'outVel\x20*\x20u'+'niform.del'+'ta;\x0a\x20\x20\x20\x20ou'+'tAngle\x20=\x20i'+'nAngle\x20+\x20r'+'otSpeed\x20*\x20'+'uniform.de'+'lta;\x0a'),cO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20rotated'+'QuadXY);\x0a',hO='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20sa'+'turate(gam'+'maCorrectI'+'nput(max(a'+',\x200.0)));\x0a'+'\x20\x20\x20\x20if\x20((r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+')\x20<\x200.0000'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20}\x20\x20'+'\x20\x20\x0a',dO='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3f'+'(1.0),\x20rgb'+',\x20a);\x0a\x20\x20\x20\x20'+'if\x20((rgb.r'+'\x20+\x20rgb.g\x20+'+'\x20rgb.b)\x20>\x20'+'2.99)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a',fO='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20}\x0a',uO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20\x20'+'\x20//\x20XYZ\x20=\x20'+'world\x20pos,'+'\x20W\x20=\x20life\x0a'+'attribute\x20'+'particle_v'+'ertexData2'+':\x20vec4f;\x20\x20'+'//\x20X\x20=\x20ang'+'le,\x20Y\x20=\x20sc'+'ale,\x20Z\x20=\x20a'+'lpha,\x20W\x20=\x20'+'velocity.x'+'\x0aattribute'+'\x20particle_'+'vertexData'+'3:\x20vec4f;\x20'+'\x20//\x20XYZ\x20=\x20'+'particle\x20l'+'ocal\x20pos,\x20'+'W\x20=\x20veloci'+'ty.y\x0aattri'+'bute\x20parti'+'cle_vertex'+'Data4:\x20f32'+';\x20\x20\x20\x20//\x20pa'+'rticle\x20id\x0a'+'\x0a//\x20type\x20d'+'epends\x20on\x20'+'useMesh\x20pr'+'operty.\x20St'+'art\x20with\x20X'+'\x20=\x20velocit'+'y.z,\x20Y\x20=\x20p'+'article\x20ID'+'\x20and\x20for\x20m'+'esh\x20partic'+'les\x20procee'+'ds\x20with\x20Z\x20'+'=\x20mesh\x20UV.'+'x,\x20W\x20=\x20mes'+'h\x20UV.y\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_ver'+'texData5:\x20'+'vec2f;\x0a#el'+'se\x0a\x20\x20\x20\x20att'+'ribute\x20par'+'ticle_vert'+'exData5:\x20v'+'ec4f;\x0a#end'+'if\x0a\x0aunifor'+'m\x20matrix_v'+'iewProject'+'ion:\x20mat4x'+'4f;\x0aunifor'+'m\x20matrix_m'+'odel:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'trix_norma'+'l:\x20mat3x3f'+';\x0auniform\x20'+'matrix_vie'+'wInverse:\x20'+'mat4x4f;\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20lifet'+'ime:\x20f32;\x0a'+'uniform\x20st'+'retch:\x20f32'+';\x0auniform\x20'+'seed:\x20f32;'+'\x0auniform\x20w'+'rapBounds:'+'\x20vec3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0auni'+'form\x20faceT'+'angent:\x20ve'+'c3f;\x0aunifo'+'rm\x20faceBin'+'orm:\x20vec3f'+';\x0a\x0a#ifdef\x20'+('PARTICLE_G'+'PU\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex0:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x0Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex1'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex1S'+'ampler:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20var\x20inter'+'nalTex2:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex2Samp'+'ler:\x20sampl'+'er;\x0a#endif'+'\x0auniform\x20e'+'mitterPos:'+'\x20vec3f;\x0a\x0av'+'arying\x20tex'+'CoordsAlph'+'aLife:\x20vec'+'4f;\x0a\x0astruc'+'t\x20RotateRe'+'sult\x20{\x0a\x20\x20\x20'+'\x20rotatedVe'+'c:\x20vec2f,\x0a'+'\x20\x20\x20\x20matrix'+':\x20mat2x2f\x0a'+'}\x0a\x0afn\x20rota'+'teWithMatr'+'ix(quadXY:'+'\x20vec2f,\x20pR'+'otation:\x20f'+'32)\x20->\x20Rot'+'ateResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'c\x20=\x20cos(pR'+'otation);\x0a'+'\x20\x20\x20\x20let\x20s\x20'+'=\x20sin(pRot'+'ation);\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'mat2x2f(ve'+'c2f(c,\x20s),'+'\x20vec2f(-s,'+'\x20c));\x0a\x20\x20\x20\x20'+'return\x20Rot'+'ateResult('+'m\x20*\x20quadXY'+',\x20m);\x0a}\x0a\x0a\x0a'+'fn\x20billboa'+'rd(Instanc'+'eCoords:\x20v'+'ec3f,\x20quad'+'XY:\x20vec2f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20customF'+'ace(Instan'+'ceCoords:\x20'+'vec3f,\x20qua'+'dXY:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20pos\x20=\x20uni'+'form.faceT'+'angent\x20*\x20q'+'uadXY.x\x20+\x20'+'uniform.fa'+'ceBinorm\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20safeNor'+'malize(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20l\x20=\x20')+('length(v);'+'\x0a\x20\x20\x20\x20retur'+'n\x20select(v'+',\x20v\x20/\x20l,\x20l'+'\x20>\x201e-06);'+'\x0a}\x0a\x0a@verte'+'x\x0afn\x20verte'+'xMain(inpu'+'t:\x20VertexI'+'nput)\x20->\x20V'+'ertexOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'VertexOutp'+'ut;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20particl'+'ePos\x20=\x20inp'+'ut.particl'+'e_vertexDa'+'ta.xyz;\x0a\x20\x20'+'\x20\x20let\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20let\x20vertP'+'os\x20=\x20input'+'.particle_'+'vertexData'+'3.xyz;\x0a\x20\x20\x20'+'\x20var\x20inVel'+'\x20=\x20vec3f(i'+'nput.parti'+'cle_vertex'+'Data2.w,\x20i'+'nput.parti'+'cle_vertex'+'Data3.w,\x20i'+'nput.parti'+'cle_vertex'+'Data5.x);\x0a'+'\x0a\x20\x20\x20\x20let\x20i'+'d\x20=\x20floor('+'input.part'+'icle_verte'+'xData4);\x0a\x20'+'\x20\x20\x20let\x20rnd'+'Factor\x20=\x20f'+'ract(sin(i'+'d\x20+\x201.0\x20+\x20'+'uniform.se'+'ed));\x0a\x20\x20\x20\x20'+'let\x20rndFac'+'tor3\x20=\x20vec'+'3f(rndFact'+'or,\x20fract('+'rndFactor*'+'10.0),\x20fra'+'ct(rndFact'+'or*100.0))'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20mo'+'delRotatio'+'n\x20=\x20mat3x3'+'f(uniform.'+'matrix_mod'+'el[0].xyz,'+'\x20uniform.m'+'atrix_mode'+'l[1].xyz,\x20'+'uniform.ma'+'trix_model'+'[2].xyz);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'Vel\x20=\x20mode'+'lRotation\x20'+'*\x20inVel;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20let\x20ve'+'locityV\x20=\x20'+'safeNormal'+'ize((mat3x'+'3f(uniform'+'.matrix_vi'+'ew[0].xyz,'+'\x20uniform.m'+'atrix_view'+'[1].xyz,\x20u'+'niform.mat'+'rix_view[2'+'].xyz)\x20*\x20i'+'nVel).xy);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'quadXY\x20=\x20v'+'ertPos.xy;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20USE_MES'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.tex'+'CoordsAlph')+('aLife\x20=\x20ve'+'c4f(input.'+'particle_v'+'ertexData5'+'.zw,\x20input'+'.particle_'+'vertexData'+'2.z,\x20input'+'.particle_'+'vertexData'+'.w);\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'texCoordsA'+'lphaLife\x20='+'\x20vec4f(qua'+'dXY\x20*\x20-0.5'+'\x20+\x200.5,\x20in'+'put.partic'+'le_vertexD'+'ata2.z,\x20in'+'put.partic'+'le_vertexD'+'ata.w);\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20var\x20rot'+'Matrix:\x20ma'+'t2x2f;\x0a\x0a\x20\x20'+'\x20\x20var\x20inAn'+'gle\x20=\x20inpu'+'t.particle'+'_vertexDat'+'a2.x;\x0a\x20\x20\x20\x20'+'var\x20partic'+'lePosMoved'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20meshLoc'+'alPos\x20=\x20in'+'put.partic'+'le_vertexD'+'ata3.xyz;\x0a'),pO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20inp'+'ut.particl'+'e_vertexDa'+'ta2.y\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20localP'+'os\x20=\x20local'+'Pos\x20+\x20part'+'iclePos;\x0a\x0a'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20vec4f('+'localPos,\x20'+'1.0);\x0a',mO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20rotate'+'dQuadXY);\x0a',_O='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(rg'+'b,\x20a);\x0a\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a}\x0a',gO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20sca'+'le\x20*\x20unifo'+'rm.emitter'+'Scale;\x0a\x20\x20\x20'+'\x20localPos\x20'+'=\x20localPos'+'\x20+\x20particl'+'ePos;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'REEN_SPACE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(localPo'+'s.x,\x20local'+'Pos.y,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_v'+'iewProject'+'ion\x20*\x20vec4'+'f(localPos'+'.xyz,\x201.0)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a',SO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20no'+'rmal\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20var\x20posN'+'ormal:\x20vec'+'3f\x20=\x20-norm'+'al\x20*\x200.5\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'=\x20negNorma'+'l\x20*\x20negNor'+'mal;\x0a\x20\x20\x20\x20p'+'osNormal\x20='+'\x20posNormal'+'\x20*\x20posNorm'+'al;\x0a',yO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20/'+'/\x20XYZ\x20=\x20pa'+'rticle\x20pos'+'ition,\x20W\x20='+'\x20particle\x20'+'ID\x20+\x20rando'+'m\x20factor\x0a#'+'if\x20defined'+'(USE_MESH)'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(USE'+'_MESH_UV)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_uv:'+'\x20vec2f;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'esh\x20UV\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20pa'+'rticle_uv:'+'\x20vec2f\x20=\x20v'+'ec2f(0.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0aunifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0aunif'+'orm\x20matrix'+'_normal:\x20m'+'at3x3f;\x0aun'+'iform\x20matr'+'ix_viewInv'+'erse:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20numPa'+'rticlesPot'+':\x20f32;\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0auni'+'form\x20stret'+'ch:\x20f32;\x0au'+'niform\x20wra'+'pBounds:\x20v'+'ec3f;\x0aunif'+'orm\x20emitte'+'rScale:\x20ve'+'c3f;\x0aunifo'+'rm\x20emitter'+'Pos:\x20vec3f'+';\x0auniform\x20'+'faceTangen'+'t:\x20vec3f;\x0a'+'uniform\x20fa'+'ceBinorm:\x20'+'vec3f;\x0auni'+'form\x20rate:'+'\x20f32;\x0aunif'+'orm\x20rateDi'+'v:\x20f32;\x0aun'+'iform\x20life'+'time:\x20f32;'+'\x0auniform\x20d'+'eltaRandom'+'nessStatic'+':\x20f32;\x0auni'+'form\x20scale'+'DivMult:\x20f'+'32;\x0aunifor'+'m\x20alphaDiv'+'Mult:\x20f32;'+'\x0auniform\x20s'+'eed:\x20f32;\x0a'+'uniform\x20de'+'lta:\x20f32;\x0a'+'\x0avar\x20parti'+('cleTexOUT:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20particle'+'TexOUTSamp'+'ler:\x20sampl'+'er;\x0avar\x20pa'+'rticleTexI'+'N:\x20texture'+'_2d<f32>;\x0a'+'var\x20partic'+'leTexINSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex0:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex1:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x1Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex2'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex2S'+'ampler:\x20sa'+'mpler;\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0avarying'+'\x20texCoords'+'AlphaLife:'+'\x20vec4f;\x0a\x0av'+'ar<private'+'>\x20inPos:\x20v'+'ec3f;\x0avar<'+'private>\x20i'+'nVel:\x20vec3'+'f;\x0avar<pri'+'vate>\x20inAn'+'gle:\x20f32;\x0a'+'var<privat'+'e>\x20inShow:'+'\x20bool;\x0avar'+'<private>\x20'+'inLife:\x20f3'+'2;\x0a'),vO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20ma'+'x(normal,\x20'+'vec3(0.0))'+';\x0a\x20\x20\x20\x20var\x20'+'posNormal:'+'\x20vec3f\x20=\x20m'+'ax(-normal'+',\x20vec3(0.0'+'));\x0a',xO='\x0a\x20\x20\x20\x20let\x20l'+'ight:\x20vec3'+'f\x20=\x20negNor'+'mal.x\x20*\x20un'+'iform.ligh'+'tCube[0]\x20+'+'\x20posNormal'+'.x\x20*\x20unifo'+'rm.lightCu'+'be[1]\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20negNormal'+'.y\x20*\x20unifo'+'rm.lightCu'+'be[2]\x20+\x20po'+'sNormal.y\x20'+'*\x20uniform.'+'lightCube['+'3]\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ne'+'gNormal.z\x20'+'*\x20uniform.'+'lightCube['+'4]\x20+\x20posNo'+'rmal.z\x20*\x20u'+'niform.lig'+'htCube[5];'+'\x0a\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20li'+'ght;\x0a',TO='\x0aparticleP'+'os\x20=\x20(unif'+'orm.matrix'+'_model\x20*\x20v'+'ec4f(parti'+'clePos,\x201.'+'0)).xyz;\x0a',wO='\x0avar\x20local'+'Pos\x20=\x20mesh'+'LocalPos;\x0a'+'let\x20rotRes'+'ultXY\x20=\x20ro'+'tateWithMa'+'trix(local'+'Pos.xy,\x20in'+'Angle);\x0alo'+'calPos\x20=\x20v'+'ec3f(rotRe'+'sultXY.rot'+'atedVec,\x20l'+'ocalPos.z)'+';\x0arotMatri'+'x\x20=\x20rotRes'+'ultXY.matr'+'ix;\x0a\x0alet\x20r'+'otResultYZ'+'\x20=\x20rotateW'+'ithMatrix('+'localPos.y'+'z,\x20inAngle'+');\x0alocalPo'+'s\x20=\x20vec3f('+'localPos.x'+',\x20rotResul'+'tYZ.rotate'+'dVec);\x0arot'+'Matrix\x20=\x20r'+'otResultYZ'+'.matrix;\x0a\x0a'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',EO='\x0aoutput.No'+'rmal\x20=\x20nor'+'malize(loc'+'alPos\x20+\x20un'+'iform.matr'+'ix_viewInv'+'erse[2].xy'+'z);\x0a',bO='\x0a\x20\x20\x20\x20let\x20s'+'ampledNorm'+'al:\x20vec4f\x20'+'=\x20textureS'+'ample(norm'+'alMap,\x20nor'+'malMapSamp'+'ler,\x20vec2f'+'(input.tex'+'CoordsAlph'+'aLife.x,\x201'+'.0\x20-\x20input'+'.texCoords'+'AlphaLife.'+'y));\x0a\x20\x20\x20\x20l'+'et\x20normalM'+'ap:\x20vec3f\x20'+'=\x20normaliz'+'e(sampledN'+'ormal.xyz\x20'+'*\x202.0\x20-\x201.'+'0);\x0a\x0a\x20\x20\x20\x20l'+'et\x20Particl'+'eMat\x20=\x20mat'+'3x3<f32>(P'+'articleMat'+'0,\x20Particl'+'eMat1,\x20Par'+'ticleMat2)'+';\x0a\x20\x20\x20\x20let\x20'+'normal:\x20ve'+'c3f\x20=\x20Part'+'icleMat\x20*\x20'+'normalMap;'+'\x0a',AO='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan2(veloc'+'ityV.x,\x20ve'+'locityV.y)'+';\x0a',CO='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',PO='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20Normal:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20varying\x20'+'ParticleMa'+'t0:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Particle'+'Mat2:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'Cube:\x20arra'+'y<vec3f,\x206'+'>;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vDe'+'pth:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sc'+'reenDepthP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22fogPS\x22\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'ap:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'apSampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'iclePS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'VERTEX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'ormal:\x20vec'+'3f\x20=\x20Norma'+'l;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20MAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_normal'+'MapPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20!=\x20NON'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20HAL'+'F_LAMBERT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_halflambe'+'rtPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_lambertPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+('#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_light'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20BLE'+'ND\x20==\x20NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendNorma'+'lPS\x22\x0a\x20\x20\x20\x20#'+'elif\x20BLEND'+'\x20==\x20ADDITI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendAddPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+'\x20MULTIPLIC'+'ATIVE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_blendMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_endPS'+'\x22\x0a'),MO='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20anim'+'TexTilesPa'+'rams:\x20vec2'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20a'+'nimTexPara'+'ms:\x20vec4f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20ani'+'mTexIndexP'+'arams:\x20vec'+'2f;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20Partic'+'leMat0:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20Pa'+'rticleMat2'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20==\x20V'+'ERTEX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Normal:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vDepth:\x20f'+'32;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_in'+'itVS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20PACK8\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleIn'+'putRgba8PS'+'\x22\x20\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x20\x22parti'+'cleInputFl'+'oatPS\x22\x20\x20\x20\x20'+'//\x20why\x20are'+'\x20these\x20PS\x20'+'and\x20not\x20VS'+'?\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'screenDept'+'hPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'articleVS\x22'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x20//\x20PARTI'+'CLE_CPU\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SOFT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22screenDep'+'thPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_c'+'puVS\x22\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_l'+('ocalShiftV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20ANIM'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20A'+'NIMTEX_LOO'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimFram'+'eLoopVS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleAnimFra'+'meClampVS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimTexV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20wrap\x20is\x20'+'not\x20used\x20o'+'n\x20CPU,\x20it\x20'+'was\x20commen'+'ted\x20out.\x20T'+'ODO:\x20inves'+'tigate\x20why'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'WRAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_wrap'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ALIGN_TO'+'_MOTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_point'+'AlongVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20USE_MESH'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_me'+'shVS\x22\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CUSTOM_FA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_custom'+'FaceVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_billboa'+'rdVS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20VERTEX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_norma'+'lVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20NORMA'+'L\x20==\x20MAP\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_TBNV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STRE'+'TCH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_stretchVS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PART'+'ICLE_GPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_endV')+('S\x22\x0a\x20\x20\x20\x20#el'+'se\x20//\x20PART'+'ICLE_CPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_cpu_'+'endVS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softVS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),DO='\x0a\x20\x20\x20\x20var\x20d'+'epth:\x20f32\x20'+'=\x20getLinea'+'rScreenDep'+'thFrag();\x0a'+'\x20\x20\x20\x20var\x20pa'+'rticleDept'+'h:\x20f32\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20var\x20depth'+'Diff:\x20f32\x20'+'=\x20saturate'+'(abs(parti'+'cleDepth\x20-'+'\x20depth)\x20*\x20'+'uniform.so'+'ftening);\x0a'+'\x20\x20\x20\x20a\x20=\x20a\x20'+'*\x20depthDif'+'f;\x0a',IO='\x0a\x20\x20\x20\x20outpu'+'t.vDepth\x20='+'\x20getLinear'+'Depth(loca'+'lPos);\x0a',LO='\x0a\x20\x20\x20\x20let\x20m'+'oveDir:\x20ve'+'c3f\x20=\x20inVe'+'l\x20*\x20unifor'+'m.stretch;'+'\x0a\x20\x20\x20\x20var\x20p'+'osPrev:\x20ve'+'c3f\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20=\x20posPrev'+'\x20+\x20particl'+'ePosMoved;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'viewRotati'+'onTemp:\x20ma'+'t3x3f\x20=\x20ma'+'t3x3f(unif'+'orm.matrix'+'_view[0].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[1].xyz'+',\x20uniform.'+'matrix_vie'+'w[2].xyz);'+'\x0a\x20\x20\x20\x20let\x20c'+'enterToVer'+'texV:\x20vec2'+'f\x20=\x20normal'+'ize((viewR'+'otationTem'+'p\x20*\x20localP'+'os).xy);\x0a\x0a'+'\x20\x20\x20\x20let\x20in'+'terpolatio'+'n:\x20f32\x20=\x20d'+'ot(-veloci'+'tyV,\x20cente'+'rToVertexV'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x0a\x20\x20\x20\x20'+'particlePo'+'s\x20=\x20mix(pa'+'rticlePos,'+'\x20posPrev,\x20'+'interpolat'+'ion);\x0a',RO='\x0a\x20\x20\x20\x20let\x20r'+'ot3\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(r'+'otMatrix[0'+'][0],\x20rotM'+'atrix[1][0'+'],\x200.0),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(rotMatr'+'ix[0][1],\x20'+'rotMatrix['+'1][1],\x200.0'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3f(0.0'+',\x200.0,\x201.0'+')\x0a\x20\x20\x20\x20);\x0a\x0a'+'\x20\x20\x20\x20let\x20vi'+'ewBasis\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-un'+'iform.matr'+'ix_viewInv'+'erse[0].xy'+'z,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-uniform.'+'matrix_vie'+'wInverse[1'+'].xyz,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.matrix_'+'viewInvers'+'e[2].xyz\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20tempM'+'at\x20=\x20viewB'+'asis\x20*\x20rot'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20WGSL\x20does'+'\x20not\x20suppo'+'rt\x20matrix\x20'+'varyings,\x20'+'decompose\x20'+'it\x20to\x20vec3'+'s\x0a\x20\x20\x20\x20outp'+'ut.Particl'+'eMat0\x20=\x20te'+'mpMat[0];\x0a'+'\x20\x20\x20\x20output'+'.ParticleM'+'at1\x20=\x20temp'+'Mat[1];\x0a\x20\x20'+'\x20\x20output.P'+'articleMat'+'2\x20=\x20tempMa'+'t[2];\x0a',OO='\x0a\x20\x20\x20\x20let\x20o'+'rigParticl'+'ePos:\x20vec3'+'f\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20particleP'+'os\x20=\x20parti'+'clePos\x20-\x20u'+'niform.mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20=\x20(par'+'ticlePos\x20%'+'\x20uniform.w'+'rapBounds)'+'\x20-\x20uniform'+'.wrapBound'+'s\x20*\x200.5;\x0a\x20'+'\x20\x20\x20particl'+'ePos\x20=\x20par'+'ticlePos\x20+'+'\x20uniform.m'+'atrix_mode'+'l[3].xyz;\x0a'+'\x20\x20\x20\x20partic'+'lePosMoved'+'\x20=\x20particl'+'ePos\x20-\x20ori'+'gParticleP'+'os;\x0a',FO={'particlePS':X3,'particleVS':q3,'particleAnimFrameClampVS':j3,'particleAnimFrameLoopVS':Y3,'particleAnimTexVS':K3,'particleInputFloatPS':Z3,'particleInputRgba8PS':Q3,'particleOutputFloatPS':J3,'particleOutputRgba8PS':eO,'particleUpdaterAABBPS':tO,'particleUpdaterEndPS':sO,'particleUpdaterInitPS':iO,'particleUpdaterNoRespawnPS':rO,'particleUpdaterOnStopPS':aO,'particleUpdaterRespawnPS':nO,'particleUpdaterSpherePS':oO,'particleUpdaterStartPS':lO,'particle_billboardVS':cO,'particle_blendAddPS':hO,'particle_blendMultiplyPS':dO,'particle_blendNormalPS':fO,'particle_cpuVS':uO,'particle_cpu_endVS':pO,'particle_customFaceVS':mO,'particle_endPS':_O,'particle_endVS':gO,'particle_halflambertPS':SO,'particle_initVS':yO,'particle_lambertPS':vO,'particle_lightingPS':xO,'particle_localShiftVS':TO,'particle_meshVS':wO,'particle_normalVS':EO,'particle_normalMapPS':bO,'particle_pointAlongVS':AO,'particle_simulationPS':CO,'particle_shaderPS':PO,'particle_shaderVS':MO,'particle_softPS':DO,'particle_softVS':IO,'particle_stretchVS':LO,'particle_TBNVS':RO,'particle_wrapVS':OO},NO=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class kO extends ct{constructor(_0x2f176c){super(_0x2f176c),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=e3,this['DataType']=t3,this['schema']=NO,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this),Pe['get'](_0x2f176c['graphicsDe'+'vice'],Fe)['add']($3),Pe['get'](_0x2f176c['graphicsDe'+'vice'],it)['add'](FO);}['initialize'+'ComponentD'+'ata'](_0x360214,_0x4eae4f,_0x1a197b){const _0x210101={};_0x1a197b=[];const _0x508468=this['propertyTy'+'pes'];(_0x4eae4f['mesh']instanceof pe||typeof _0x4eae4f['mesh']=='number')&&(_0x4eae4f['meshAsset']=_0x4eae4f['mesh'],delete _0x4eae4f['mesh']);for(const _0x4ebfc4 in _0x4eae4f){if(_0x4eae4f['hasOwnProp'+'erty'](_0x4ebfc4)&&(_0x1a197b['push'](_0x4ebfc4),_0x210101[_0x4ebfc4]=_0x4eae4f[_0x4ebfc4]),_0x508468[_0x4ebfc4]==='vec3')Array['isArray'](_0x210101[_0x4ebfc4])&&(_0x210101[_0x4ebfc4]=new D(_0x210101[_0x4ebfc4][0x130e+-0x1922*0x1+0x1*0x614],_0x210101[_0x4ebfc4][0x2*-0x33d+-0x4fd*-0x1+0x17e],_0x210101[_0x4ebfc4][-0x57c*0x7+0x25b0+-0x5b*-0x2]));else{if(_0x508468[_0x4ebfc4]==='curve'){if(!(_0x210101[_0x4ebfc4]instanceof qs)){const _0x54af92=_0x210101[_0x4ebfc4]['type'];_0x210101[_0x4ebfc4]=new qs(_0x210101[_0x4ebfc4]['keys']),_0x210101[_0x4ebfc4]['type']=_0x54af92;}}else{if(_0x508468[_0x4ebfc4]==='curveset'&&!(_0x210101[_0x4ebfc4]instanceof na)){const _0x42f74e=_0x210101[_0x4ebfc4]['type'];_0x210101[_0x4ebfc4]=new na(_0x210101[_0x4ebfc4]['keys']),_0x210101[_0x4ebfc4]['type']=_0x42f74e;}}}_0x210101['layers']&&Array['isArray'](_0x210101['layers'])&&(_0x210101['layers']=_0x210101['layers']['slice'](0x6f+-0x2357+0x22e8));}super['initialize'+'ComponentD'+'ata'](_0x360214,_0x210101,_0x1a197b);}['cloneCompo'+'nent'](_0x4db4c0,_0x2589d4){const _0xbeafc1=_0x4db4c0['particlesy'+'stem']['data'],_0x32b02d=this['schema'],_0x862d7={};for(let _0x31da21=-0x2602+-0xb0e+0x14*0x274,_0x4ffe84=_0x32b02d['length'];_0x31da21<_0x4ffe84;_0x31da21++){const _0x32f0cb=_0x32b02d[_0x31da21];let _0x4f449b=_0xbeafc1[_0x32f0cb];_0x4f449b instanceof D||_0x4f449b instanceof qs||_0x4f449b instanceof na?(_0x4f449b=_0x4f449b['clone'](),_0x862d7[_0x32f0cb]=_0x4f449b):_0x32f0cb==='layers'?_0x862d7['layers']=_0xbeafc1['layers']['slice'](-0x1ff9+-0x161b*-0x1+-0x34a*-0x3):_0x4f449b!=null&&(_0x862d7[_0x32f0cb]=_0x4f449b);}return this['addCompone'+'nt'](_0x2589d4,_0x862d7);}['onUpdate'](_0x3e845c){const _0x2ea6dd=this['store'],_0x2a4725=this['app']['stats']['particles'],_0x1d866d=this['app']['scene']['layers'];for(let _0x191e71=0x27c+0x6f5+-0x971;_0x191e71<_0x1d866d['layerList']['length'];_0x191e71++)_0x1d866d['layerList'][_0x191e71]['requiresLi'+'ghtCube']=!(-0x37+0x25f4+-0x25bc);for(const _0x33c9f9 in _0x2ea6dd)if(_0x2ea6dd['hasOwnProp'+'erty'](_0x33c9f9)){const _0x40ebd2=_0x2ea6dd[_0x33c9f9],_0x54765d=_0x40ebd2['entity'],_0x92dfaf=_0x40ebd2['data'];if(_0x92dfaf['enabled']&&_0x54765d['enabled']){const _0x23a0b2=_0x54765d['particlesy'+'stem']['emitter'];if(!(_0x23a0b2!=null&&_0x23a0b2['meshInstan'+'ce']['visible']))continue;if(_0x23a0b2['lighting']){const _0x3bb35e=_0x92dfaf['layers'];for(let _0x4a3b70=0x1412+-0xa3a+-0x3c*0x2a;_0x4a3b70<_0x3bb35e['length'];_0x4a3b70++){const _0x11e76d=_0x1d866d['getLayerBy'+'Id'](_0x3bb35e[_0x4a3b70]);_0x11e76d&&(_0x11e76d['requiresLi'+'ghtCube']=!(-0x1*-0x1a63+0x5ad*0x3+-0x2b6a*0x1));}}if(!_0x92dfaf['paused']){let _0x52461d=0x1ae*0x9+-0x2403+0x14e5;if(_0x23a0b2['simTime']+=_0x3e845c,_0x23a0b2['simTime']>=_0x23a0b2['fixedTimeS'+'tep']&&(_0x52461d=Math['floor'](_0x23a0b2['simTime']/_0x23a0b2['fixedTimeS'+'tep']),_0x23a0b2['simTime']-=_0x52461d*_0x23a0b2['fixedTimeS'+'tep']),_0x52461d){_0x52461d=Math['min'](_0x52461d,_0x23a0b2['maxSubStep'+'s']);for(let _0x25d60e=-0x7db+0x1cd9+0xa7f*-0x2;_0x25d60e<_0x52461d;_0x25d60e++)_0x23a0b2['addTime'](_0x23a0b2['fixedTimeS'+'tep'],!(-0x2*0x1d2+-0x16*0x180+-0xb1*-0x35));_0x2a4725['_updatesPe'+'rFrame']+=_0x52461d,_0x2a4725['_frameTime']+=_0x23a0b2['_addTimeTi'+'me'],_0x23a0b2['_addTimeTi'+'me']=0x1*-0xc51+-0x194+0x1*0xde5;}_0x23a0b2['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x2b81c0,_0x273021){_0x273021['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class UO extends wd{constructor(_0x85dd15,_0x1ea817){super(),this['skin']=_0x85dd15,this['skinInstan'+'ce']=_0x1ea817;}}const Gs=class Gs{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),Gs['_skinInsta'+'nceCache']['forEach']((_0x146255,_0x28c143)=>{console['log'](_0x28c143['name']+':\x20Array('+_0x146255['length']+')');for(let _0x2a91a2=0x2*-0x2bd+-0xc7+0x641;_0x2a91a2<_0x146255['length'];_0x2a91a2++)console['log']('\x20\x20'+_0x2a91a2+(':\x20RefCount'+'\x20')+_0x146255[_0x2a91a2]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x30314f,_0x47ffe9,_0x2056f9){let _0x51d554=Gs['getCachedS'+'kinInstanc'+'e'](_0x30314f,_0x47ffe9);return _0x51d554||(_0x51d554=new Ol(_0x30314f),_0x51d554['resolve'](_0x47ffe9,_0x2056f9),Gs['addCachedS'+'kinInstanc'+'e'](_0x30314f,_0x47ffe9,_0x51d554)),_0x51d554;}static['getCachedS'+'kinInstanc'+'e'](_0x52568e,_0x5cb2f7){let _0x4ea8b9=null;const _0x44c90c=Gs['_skinInsta'+'nceCache']['get'](_0x5cb2f7);if(_0x44c90c){const _0x2cbf9f=_0x44c90c['find'](_0x19ffff=>_0x19ffff['skin']===_0x52568e);_0x2cbf9f&&(_0x2cbf9f['incRefCoun'+'t'](),_0x4ea8b9=_0x2cbf9f['skinInstan'+'ce']);}return _0x4ea8b9;}static['addCachedS'+'kinInstanc'+'e'](_0xf6e0e4,_0x21b092,_0x1f2ab1){let _0x508a15=Gs['_skinInsta'+'nceCache']['get'](_0x21b092);_0x508a15||(_0x508a15=[],Gs['_skinInsta'+'nceCache']['set'](_0x21b092,_0x508a15));let _0x1dbffc=_0x508a15['find'](_0x54bb0b=>_0x54bb0b['skin']===_0xf6e0e4);_0x1dbffc||(_0x1dbffc=new UO(_0xf6e0e4,_0x1f2ab1),_0x508a15['push'](_0x1dbffc)),_0x1dbffc['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0x5a6341){if(_0x5a6341){const _0xb2b64e=_0x5a6341['rootBone'];if(_0xb2b64e){const _0x3a9a52=Gs['_skinInsta'+'nceCache']['get'](_0xb2b64e);if(_0x3a9a52){const _0x37d2a1=_0x3a9a52['findIndex'](_0x992cf3=>_0x992cf3['skinInstan'+'ce']===_0x5a6341);if(_0x37d2a1>=-0x272*0xc+-0x279*-0x4+0x1374){const _0x183baf=_0x3a9a52[_0x37d2a1];_0x183baf['decRefCoun'+'t'](),_0x183baf['refCount']===0x1cff+0x2f*-0x89+0xf6*-0x4&&(_0x3a9a52['splice'](_0x37d2a1,-0x1120+-0x1*0x57a+0x9*0x283),_0x3a9a52['length']||Gs['_skinInsta'+'nceCache']['delete'](_0xb2b64e),_0x5a6341&&(_0x5a6341['destroy'](),_0x183baf['skinInstan'+'ce']=null));}}}}}};h(Gs,'_skinInsta'+'nceCache',new Map());let _l=Gs;class gl{constructor(_0xd18510,_0x503318,_0x1babef,_0x198ca0,_0x50b17c){h(this,'_evtLoadBy'+'Id',null),h(this,'_evtUnload'+'ById',null),h(this,'_evtAddByI'+'d',null),h(this,'_evtRemove'+'ById',null),h(this,'_evtLoadBy'+'Url',null),h(this,'_evtAddByU'+'rl',null),h(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0xd18510,this['parent']=_0x503318,this['_scope']=_0x50b17c,this['_registry']=_0x1babef,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x198ca0['load'],this['_onAssetAd'+'d']=_0x198ca0['add'],this['_onAssetRe'+'move']=_0x198ca0['remove'],this['_onAssetUn'+'load']=_0x198ca0['unload']);}set['id'](_0x5d236e){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x5d236e,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x2beb22){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x2beb22,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0x54e4da,_0x2531f0,_0x5881eb,_0x3d1031,_0x1114a6,_0x48d47c,_0x3ff52d;this['id']&&((_0x54e4da=this['_evtLoadBy'+'Id'])==null||_0x54e4da['off'](),this['_evtLoadBy'+'Id']=null,(_0x2531f0=this['_evtAddByI'+'d'])==null||_0x2531f0['off'](),this['_evtAddByI'+'d']=null,(_0x5881eb=this['_evtRemove'+'ById'])==null||_0x5881eb['off'](),this['_evtRemove'+'ById']=null,(_0x3d1031=this['_evtUnload'+'ById'])==null||_0x3d1031['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x1114a6=this['_evtLoadBy'+'Url'])==null||_0x1114a6['off'](),this['_evtLoadBy'+'Url']=null,(_0x48d47c=this['_evtAddByU'+'rl'])==null||_0x48d47c['off'](),this['_evtAddByU'+'rl']=null,(_0x3ff52d=this['_evtRemove'+'ByUrl'])==null||_0x3ff52d['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x58c75f){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x58c75f);}['_onAdd'](_0x5ffeed){this['asset']=_0x5ffeed,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x5ffeed);}['_onRemove'](_0x50265e){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x50265e),this['asset']=null;}['_onUnload'](_0x1c9425){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x1c9425);}}class n0 extends we{constructor(_0x294ff7,_0x23fab5){super(_0x294ff7,_0x23fab5),h(this,'_type','asset'),h(this,'_castShado'+'ws',!(0x21e2*0x1+0x6*-0x590+-0x82)),h(this,'_receiveSh'+'adows',!(-0xa08+0x13a1+-0x999*0x1)),h(this,'_castShado'+'wsLightmap',!(0xf34+-0x1*0x19ac+0x53c*0x2)),h(this,'_lightmapp'+'ed',!(-0x418+-0xb1a+0x1*0xf33)),h(this,'_lightmapS'+'izeMultipl'+'ier',-0x1c*0x143+-0x1f7*0x13+0x48aa),h(this,'isStatic',!(-0x1628+-0x531+0x1b5a)),h(this,'_batchGrou'+'pId',-(0x11*0x95+-0xb*-0x15b+-0x1*0x18cd)),h(this,'_layers',[er]),h(this,'_renderSty'+'le',un),h(this,'_meshInsta'+'nces',[]),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_assetRefe'+'rence'),h(this,'_materialR'+'eferences',[]),h(this,'_material'),h(this,'_rootBone',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new gl('asset',this,_0x294ff7['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x294ff7['defaultMat'+'erial'],_0x23fab5['on']('remove',this['onRemoveCh'+'ild'],this),_0x23fab5['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x23fab5['on']('insert',this['onInsertCh'+'ild'],this),_0x23fab5['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x55a6ba){this['_renderSty'+'le']!==_0x55a6ba&&(this['_renderSty'+'le']=_0x55a6ba,He['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x55a6ba));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0x33fd07){this['_customAab'+'b']=_0x33fd07;const _0x1f4b9b=this['_meshInsta'+'nces'];if(_0x1f4b9b){for(let _0x3a1052=0x16d5*0x1+0x646*-0x2+-0xa49;_0x3a1052<_0x1f4b9b['length'];_0x3a1052++)_0x1f4b9b[_0x3a1052]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x24b46f){if(this['_type']!==_0x24b46f&&(this['_area']=null,this['_type']=_0x24b46f,this['destroyMes'+'hInstances'](),_0x24b46f!=='asset')){let _0x59a8c1=this['_material'];(!_0x59a8c1||_0x59a8c1===this['system']['defaultMat'+'erial'])&&(_0x59a8c1=this['_materialR'+'eferences'][0x1f98+-0xb*-0x36e+-0x2*0x22a9]&&this['_materialR'+'eferences'][-0x321*-0x1+-0xf87+0xc66]['asset']&&this['_materialR'+'eferences'][0x1d31+0x19b9*0x1+-0x36ea]['asset']['resource']);const _0x2ddf1d=r0(this['system']['app']['graphicsDe'+'vice'],_0x24b46f);this['_area']=_0x2ddf1d['area'],this['meshInstan'+'ces']=[new He(_0x2ddf1d['mesh'],_0x59a8c1||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x4ebf1c){if(w['assert'](Array['isArray'](_0x4ebf1c),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x4ebf1c,this['_meshInsta'+'nces']){const _0x393d30=this['_meshInsta'+'nces'];for(let _0x3ab7db=0x1c7b*-0x1+-0x45c+0x20d7;_0x3ab7db<_0x393d30['length'];_0x3ab7db++)_0x393d30[_0x3ab7db]['node']||(_0x393d30[_0x3ab7db]['node']=this['entity']),_0x393d30[_0x3ab7db]['castShadow']=this['_castShado'+'ws'],_0x393d30[_0x3ab7db]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x393d30[_0x3ab7db]['renderStyl'+'e']=this['_renderSty'+'le'],_0x393d30[_0x3ab7db]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x393d30[_0x3ab7db]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x1c2b4c){if(_0x1c2b4c!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x1c2b4c;const _0x3546a4=this['_meshInsta'+'nces'];if(_0x3546a4){for(let _0x1215b3=0x165f+-0x234c+-0x1*-0xced;_0x1215b3<_0x3546a4['length'];_0x1215b3++)_0x3546a4[_0x1215b3]['setLightma'+'pped'](_0x1c2b4c);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x3e163c){if(this['_castShado'+'ws']!==_0x3e163c){const _0x576a7b=this['_meshInsta'+'nces'];if(_0x576a7b){const _0xe62fb7=this['layers'],_0x1b5d08=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x3e163c)for(let _0x58f1b3=-0x20fb+-0xe5d+0x2f58;_0x58f1b3<_0xe62fb7['length'];_0x58f1b3++){const _0x43258c=_0x1b5d08['layers']['getLayerBy'+'Id'](this['layers'][_0x58f1b3]);_0x43258c&&_0x43258c['removeShad'+'owCasters'](_0x576a7b);}for(let _0x5d597e=0x22b5+0xb1*-0x9+0x2*-0xe3e;_0x5d597e<_0x576a7b['length'];_0x5d597e++)_0x576a7b[_0x5d597e]['castShadow']=_0x3e163c;if(!this['_castShado'+'ws']&&_0x3e163c)for(let _0x41ef78=0x13a3+-0x1cf8+0x955;_0x41ef78<_0xe62fb7['length'];_0x41ef78++){const _0x12b062=_0x1b5d08['layers']['getLayerBy'+'Id'](_0xe62fb7[_0x41ef78]);_0x12b062&&_0x12b062['addShadowC'+'asters'](_0x576a7b);}}this['_castShado'+'ws']=_0x3e163c;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x1cf2a5){if(this['_receiveSh'+'adows']!==_0x1cf2a5){this['_receiveSh'+'adows']=_0x1cf2a5;const _0x47aa75=this['_meshInsta'+'nces'];if(_0x47aa75){for(let _0x414239=0xaff+0xc30+-0x1*0x172f;_0x414239<_0x47aa75['length'];_0x414239++)_0x47aa75[_0x414239]['receiveSha'+'dow']=_0x1cf2a5;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x3853be){this['_castShado'+'wsLightmap']=_0x3853be;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x597b3a){this['_lightmapS'+'izeMultipl'+'ier']=_0x597b3a;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x2f6f6b){const _0x1d8944=this['system']['app']['scene']['layers'];let _0x1a771c;if(this['_meshInsta'+'nces']){for(let _0xdd68b9=-0x15*-0x165+-0x1*-0xd01+-0x2a4a;_0xdd68b9<this['_layers']['length'];_0xdd68b9++)_0x1a771c=_0x1d8944['getLayerBy'+'Id'](this['_layers'][_0xdd68b9]),_0x1a771c&&_0x1a771c['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=0x2f*0x37+-0x215f+0x12*0x14b;for(let _0x57ab3b=-0x104b*-0x1+0x1050+-0x11*0x1eb;_0x57ab3b<_0x2f6f6b['length'];_0x57ab3b++)this['_layers'][_0x57ab3b]=_0x2f6f6b[_0x57ab3b];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x1eae89=-0x1d6*0x5+0x1a8+0x786;_0x1eae89<this['_layers']['length'];_0x1eae89++)_0x1a771c=_0x1d8944['getLayerBy'+'Id'](this['_layers'][_0x1eae89]),_0x1a771c&&_0x1a771c['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x235144){var _0x472017,_0x1d973f;this['_batchGrou'+'pId']!==_0x235144&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x257c*0x1+0xe10+0x4*-0xce3&&((_0x472017=this['system']['app']['batcher'])==null||_0x472017['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x235144>=0x36f+0x1a*0xad+-0x1501&&((_0x1d973f=this['system']['app']['batcher'])==null||_0x1d973f['insert'](St['RENDER'],_0x235144,this['entity'])),_0x235144<0xcb1+-0x13ff+0x74e&&this['_batchGrou'+'pId']>=-0x839+-0x2042+0x287b&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x235144);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x56adc3){if(this['_material']!==_0x56adc3&&(this['_material']=_0x56adc3,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x425c64=-0x4*0xca+-0xcb*-0x11+-0xa53;_0x425c64<this['_meshInsta'+'nces']['length'];_0x425c64++)this['_meshInsta'+'nces'][_0x425c64]['material']=_0x56adc3;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x269aa3=[]){if(this['_materialR'+'eferences']['length']>_0x269aa3['length']){for(let _0x120eb1=_0x269aa3['length'];_0x120eb1<this['_materialR'+'eferences']['length'];_0x120eb1++)this['_materialR'+'eferences'][_0x120eb1]['id']=null;this['_materialR'+'eferences']['length']=_0x269aa3['length'];}for(let _0x2080ed=0xfb1+-0x10c9+0x118;_0x2080ed<_0x269aa3['length'];_0x2080ed++)if(this['_materialR'+'eferences'][_0x2080ed]||this['_materialR'+'eferences']['push'](new gl(_0x2080ed,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x269aa3[_0x2080ed]){const _0x2a5d5c=_0x269aa3[_0x2080ed]instanceof pe?_0x269aa3[_0x2080ed]['id']:_0x269aa3[_0x2080ed];this['_materialR'+'eferences'][_0x2080ed]['id']!==_0x2a5d5c&&(this['_materialR'+'eferences'][_0x2080ed]['id']=_0x2a5d5c),this['_materialR'+'eferences'][_0x2080ed]['asset']&&this['_onMateria'+'lAdded'](_0x2080ed,this,this['_materialR'+'eferences'][_0x2080ed]['asset']);}else this['_materialR'+'eferences'][_0x2080ed]['id']=null,this['_meshInsta'+'nces'][_0x2080ed]&&(this['_meshInsta'+'nces'][_0x2080ed]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x17d103=>_0x17d103['id']);}set['asset'](_0x2d5ba0){const _0x34c723=_0x2d5ba0 instanceof pe?_0x2d5ba0['id']:_0x2d5ba0;this['_assetRefe'+'rence']['id']!==_0x34c723&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x34c723,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0xe8d62f){const _0x1f6819=_0xe8d62f instanceof pe?_0xe8d62f['id']:_0xe8d62f;this['_assetRefe'+'rence']['id']=_0x1f6819;}set['rootBone'](_0x1dea2b){if(this['_rootBone']!==_0x1dea2b){const _0x7d0826=typeof _0x1dea2b=='string';if(this['_rootBone']&&_0x7d0826&&this['_rootBone']['getGuid']()===_0x1dea2b)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x1dea2b instanceof Ie?this['_rootBone']=_0x1dea2b:_0x7d0826?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0x1dea2b)||null,this['_rootBone']||w['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x569278=this['_meshInsta'+'nces'];if(_0x569278){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x48ed8c=0x3b5+0x5a7+-0x95c;_0x48ed8c<_0x569278['length'];_0x48ed8c++)_0x569278[_0x48ed8c]['destroy']();this['_meshInsta'+'nces']['length']=-0x14b4+0x2142+0x2*-0x647;}}['addToLayer'+'s'](){const _0x4bf837=this['system']['app']['scene']['layers'];for(let _0x16a1c3=-0x18da+0x153d*0x1+0x39d;_0x16a1c3<this['_layers']['length'];_0x16a1c3++){const _0x28d4e3=_0x4bf837['getLayerBy'+'Id'](this['_layers'][_0x16a1c3]);_0x28d4e3&&_0x28d4e3['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0x51b4ce=this['system']['app']['scene']['layers'];for(let _0x409e1d=-0x3a*0x6b+0x1340+0x9*0x8e;_0x409e1d<this['_layers']['length'];_0x409e1d++){const _0x3aef35=_0x51b4ce['getLayerBy'+'Id'](this['_layers'][_0x409e1d]);_0x3aef35&&_0x3aef35['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x3476da=-0x55*0x63+-0x1*-0x1ba9+0x536;_0x3476da<this['_materialR'+'eferences']['length'];_0x3476da++)this['_materialR'+'eferences'][_0x3476da]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x2653a7,_0x42550f){this['addToLayer'+'s'](),_0x2653a7['off']('add',this['onLayerAdd'+'ed'],this),_0x2653a7['off']('remove',this['onLayerRem'+'oved'],this),_0x42550f['on']('add',this['onLayerAdd'+'ed'],this),_0x42550f['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x1aec96){this['layers']['indexOf'](_0x1aec96['id'])<-0x1*-0xf63+-0x2067+-0x42*-0x42||_0x1aec96['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x301e35){this['layers']['indexOf'](_0x301e35['id'])<-0x124*0x2+0x2674+0x2*-0x1216||_0x301e35['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x4d28a5;const _0x4fbdb6=this['system']['app'],_0x10620c=_0x4fbdb6['scene'],_0x426efa=_0x10620c['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0x10620c['on']('set:layers',this['onLayersCh'+'anged'],this),_0x426efa&&(this['_evtLayerA'+'dded']=_0x426efa['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x426efa['on']('remove',this['onLayerRem'+'oved'],this));const _0x126b4e=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x126b4e&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x460523=-0x67d*-0x2+0x1b4a+0x1422*-0x2;_0x460523<this['_materialR'+'eferences']['length'];_0x460523++)this['_materialR'+'eferences'][_0x460523]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x460523]['asset']);this['_batchGrou'+'pId']>=-0x510+0x115*-0x1+0x625&&((_0x4d28a5=_0x4fbdb6['batcher'])==null||_0x4d28a5['insert'](St['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x464d06,_0x233f8c,_0x507714,_0x3ea2ef;const _0x568d89=this['system']['app'],_0x3813ec=_0x568d89['scene']['layers'];(_0x464d06=this['_evtLayers'+'Changed'])==null||_0x464d06['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x3813ec&&((_0x233f8c=this['_evtLayerA'+'dded'])==null||_0x233f8c['off'](),this['_evtLayerA'+'dded']=null,(_0x507714=this['_evtLayerR'+'emoved'])==null||_0x507714['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x1951+-0x82e*-0x3+-0x31db&&((_0x3ea2ef=_0x568d89['batcher'])==null||_0x3ea2ef['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x415e5c=-0xc72+-0x16a6+0x2318;_0x415e5c<this['_meshInsta'+'nces']['length'];_0x415e5c++)this['_meshInsta'+'nces'][_0x415e5c]['visible']=!(0x1*-0x13ea+-0x2*0x650+-0x208b*-0x1);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x255073=0x38f*0x1+0xe48+-0x11d7*0x1;_0x255073<this['_meshInsta'+'nces']['length'];_0x255073++)this['_meshInsta'+'nces'][_0x255073]['visible']=!(-0x1386+-0x180a+0x2b90);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x77604a;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0x1003a1=this['_assetRefe'+'rence']['asset']['resource'];(_0x77604a=this['_evtSetMes'+'hes'])==null||_0x77604a['off'](),this['_evtSetMes'+'hes']=_0x1003a1['on']('set:meshes',this['_onSetMesh'+'es'],this),_0x1003a1['meshes']&&this['_onSetMesh'+'es'](_0x1003a1['meshes']);}}['_onSetMesh'+'es'](_0x2b83b6){this['_cloneMesh'+'es'](_0x2b83b6);}['_clearSkin'+'Instances'](){for(let _0x531c6b=0x1281+0x5db+-0x2*0xc2e;_0x531c6b<this['_meshInsta'+'nces']['length'];_0x531c6b++){const _0x38a0f3=this['_meshInsta'+'nces'][_0x531c6b];_l['removeCach'+'edSkinInst'+'ance'](_0x38a0f3['skinInstan'+'ce']),_0x38a0f3['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof Ie)for(let _0x2eaa14=-0x1739+-0x35*0x9b+0x3c*0xec;_0x2eaa14<this['_meshInsta'+'nces']['length'];_0x2eaa14++){const _0x4848f5=this['_meshInsta'+'nces'][_0x2eaa14],_0x2b7954=_0x4848f5['mesh'];_0x2b7954['skin']&&!_0x4848f5['skinInstan'+'ce']&&(_0x4848f5['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0x2b7954['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x1e6eaf){if(_0x1e6eaf&&_0x1e6eaf['length']){const _0x59c5bc=[];for(let _0x468978=0x2*-0x114e+0x2398+0x24*-0x7;_0x468978<_0x1e6eaf['length'];_0x468978++){const _0xe70e4d=_0x1e6eaf[_0x468978],_0x4d7c1f=this['_materialR'+'eferences'][_0x468978]&&this['_materialR'+'eferences'][_0x468978]['asset']&&this['_materialR'+'eferences'][_0x468978]['asset']['resource'],_0x2407a3=new He(_0xe70e4d,_0x4d7c1f||this['system']['defaultMat'+'erial'],this['entity']);_0x59c5bc['push'](_0x2407a3),_0xe70e4d['morph']&&(_0x2407a3['morphInsta'+'nce']=new xa(_0xe70e4d['morph']));}this['meshInstan'+'ces']=_0x59c5bc,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x2ab1ee;(_0x2ab1ee=this['_evtSetMes'+'hes'])==null||_0x2ab1ee['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0x54a787,_0xa38e83,_0x43e806){_0x43e806['resource']?this['_onMateria'+'lLoad'](_0x54a787,_0xa38e83,_0x43e806):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0x43e806);}['_updateMai'+'nMaterial'](_0x2bb6dc,_0x4eac4c){_0x2bb6dc===-0x2318+-0x22b3+0x11*0x41b&&(this['material']=_0x4eac4c);}['_onMateria'+'lLoad'](_0x12853a,_0x5aaacb,_0x5607f1){this['_meshInsta'+'nces'][_0x12853a]&&(this['_meshInsta'+'nces'][_0x12853a]['material']=_0x5607f1['resource']),this['_updateMai'+'nMaterial'](_0x12853a,_0x5607f1['resource']);}['_onMateria'+'lRemove'](_0x1c2727,_0x4ae647,_0x4c926f){this['_meshInsta'+'nces'][_0x1c2727]&&(this['_meshInsta'+'nces'][_0x1c2727]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x1c2727,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x11c844,_0x57b975,_0x5b306d){this['_meshInsta'+'nces'][_0x11c844]&&(this['_meshInsta'+'nces'][_0x11c844]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x11c844,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x335bce,_0x2ac81c){_0x335bce['rootBone']&&(this['rootBone']=_0x2ac81c[_0x335bce['rootBone']['getGuid']()]);}}class BO{constructor(){this['enabled']=!(0x211*-0xe+0x22e4+0x2*-0x2fb);}}const ku=['enabled'],Gr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class zO extends ct{constructor(_0x57e02d){super(_0x57e02d),this['id']='render',this['ComponentT'+'ype']=n0,this['DataType']=BO,this['schema']=ku,this['defaultMat'+'erial']=Qn(_0x57e02d['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x54d258,_0x28e4da,_0x2457e0){(_0x28e4da['batchGroup'+'Id']===null||_0x28e4da['batchGroup'+'Id']===void(-0x16e3+-0xa9*0xb+-0x22*-0xe3))&&(_0x28e4da['batchGroup'+'Id']=-(0x3*0xa31+-0x1*0x8e6+0x13*-0x124)),_0x28e4da['layers']&&_0x28e4da['layers']['length']&&(_0x28e4da['layers']=_0x28e4da['layers']['slice'](0xc6e+0x7d0*0x2+-0x1b*0x10a));for(let _0x19b903=0x25*-0x57+0x1a80+-0xded;_0x19b903<Gr['length'];_0x19b903++)_0x28e4da['hasOwnProp'+'erty'](Gr[_0x19b903])&&(_0x54d258[Gr[_0x19b903]]=_0x28e4da[Gr[_0x19b903]]);_0x28e4da['aabbCenter']&&_0x28e4da['aabbHalfEx'+'tents']&&(_0x54d258['customAabb']=new De(new D(_0x28e4da['aabbCenter']),new D(_0x28e4da['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x54d258,_0x28e4da,ku);}['cloneCompo'+'nent'](_0x4ecfcd,_0x25ec71){const _0x58e1a8={};for(let _0x3c9486=-0x6c5*-0x1+0x124a*0x1+-0x503*0x5;_0x3c9486<Gr['length'];_0x3c9486++)_0x58e1a8[Gr[_0x3c9486]]=_0x4ecfcd['render'][Gr[_0x3c9486]];_0x58e1a8['enabled']=_0x4ecfcd['render']['enabled'],delete _0x58e1a8['meshInstan'+'ces'];const _0x40b89e=this['addCompone'+'nt'](_0x25ec71,_0x58e1a8),_0x884f2b=_0x4ecfcd['render']['meshInstan'+'ces'],_0x4d9a77=_0x884f2b['map'](_0x467c75=>_0x467c75['mesh']);_0x40b89e['_onSetMesh'+'es'](_0x4d9a77);for(let _0x4d147c=-0x3*0xa9f+-0x1e38+-0x3e15*-0x1;_0x4d147c<_0x884f2b['length'];_0x4d147c++)_0x40b89e['meshInstan'+'ces'][_0x4d147c]['material']=_0x884f2b[_0x4d147c]['material'];return _0x4ecfcd['render']['customAabb']&&(_0x40b89e['customAabb']=_0x4ecfcd['render']['customAabb']['clone']()),_0x40b89e;}['onRemove'](_0x4b004c,_0x5a7829){_0x5a7829['onRemove']();}}we['_buildAcce'+'ssors'](n0['prototype'],ku);class bf{constructor(_0xba245,_0x2bb357){h(this,'_construct'+'or'),h(this,'_pool',[]),h(this,'_count',0xbf4+-0x23*-0x1+-0xc17),(this['_construct'+'or']=_0xba245,this['_resize'](_0x2bb357));}['_resize'](_0x562394){if(_0x562394>this['_pool']['length']){for(let _0x5896f9=this['_pool']['length'];_0x5896f9<_0x562394;_0x5896f9++)this['_pool'][_0x5896f9]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(0x2134+0xdc6+-0x2ef8)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=0xad*-0x5+0x38f+-0x2e*0x1;}}let cs,Re,Bs,Ka;const VO=new le(),GO=new le(),Pc=new D();class bs extends we{constructor(){super(...arguments),h(this,'_angularDa'+'mping',-0x1226+0x1d3a+-0x2*0x58a),h(this,'_angularFa'+'ctor',new D(0x18e*-0xd+0x9d*0x2f+-0x89c,-0x1235+0x7e9+0xa4d,-0x7ef+0x1f1*-0x11+-0xdf*-0x2f)),h(this,'_angularVe'+'locity',new D()),h(this,'_body',null),h(this,'_friction',-0x80f+0x4*-0x8e+-0x3*-0x36d+0.5),h(this,'_group',Gg),h(this,'_linearDam'+'ping',-0x144*-0x3+-0x2383+0x1fb7),h(this,'_linearFac'+'tor',new D(-0x1*-0xc83+-0xd1c+0x2*0x4d,0x174a+0x326+-0x43*0x65,-0x5e2+-0x5fc+0xbdf)),h(this,'_linearVel'+'ocity',new D()),h(this,'_mask',Mu),h(this,'_mass',-0x265*0x3+-0x1*0x955+-0x1085*-0x1),h(this,'_restituti'+'on',0x1*0x151+0x2*-0x747+0x1*0xd3d),h(this,'_rollingFr'+'iction',0x134f*-0x1+-0x5bf+0x42d*0x6),h(this,'_simulatio'+'nEnabled',!(0x887+-0x58f*0x7+0x1*0x1e63)),h(this,'_type',yo);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(cs=new Ammo['btTransfor'+'m'](),Re=new Ammo['btVector3'](),Bs=new Ammo['btVector3'](),Ka=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](cs),Ammo['destroy'](Re),Ammo['destroy'](Bs),Ammo['destroy'](Ka),cs=null,Re=null,Bs=null,Ka=null;}set['angularDam'+'ping'](_0x32bd10){this['_angularDa'+'mping']!==_0x32bd10&&(this['_angularDa'+'mping']=_0x32bd10,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x32bd10));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x3fa7d3){this['_angularFa'+'ctor']['equals'](_0x3fa7d3)||(this['_angularFa'+'ctor']['copy'](_0x3fa7d3),this['_body']&&this['_type']===ks&&(Re['setValue'](_0x3fa7d3['x'],_0x3fa7d3['y'],_0x3fa7d3['z']),this['_body']['setAngular'+'Factor'](Re)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x1daf34){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0x1daf34['x'],_0x1daf34['y'],_0x1daf34['z']),this['_body']['setAngular'+'Velocity'](Re),this['_angularVe'+'locity']['copy'](_0x1daf34));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===ks){const _0x39373b=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x39373b['x'](),_0x39373b['y'](),_0x39373b['z']());}return this['_angularVe'+'locity'];}set['body'](_0x540804){this['_body']!==_0x540804&&(this['_body']=_0x540804,_0x540804&&this['_simulatio'+'nEnabled']&&_0x540804['activate']());}get['body'](){return this['_body'];}set['friction'](_0x35e0fb){this['_friction']!==_0x35e0fb&&(this['_friction']=_0x35e0fb,this['_body']&&this['_body']['setFrictio'+'n'](_0x35e0fb));}get['friction'](){return this['_friction'];}set['group'](_0x1da62c){this['_group']!==_0x1da62c&&(this['_group']=_0x1da62c,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x58c062){this['_linearDam'+'ping']!==_0x58c062&&(this['_linearDam'+'ping']=_0x58c062,this['_body']&&this['_body']['setDamping'](_0x58c062,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x3b0e18){this['_linearFac'+'tor']['equals'](_0x3b0e18)||(this['_linearFac'+'tor']['copy'](_0x3b0e18),this['_body']&&this['_type']===ks&&(Re['setValue'](_0x3b0e18['x'],_0x3b0e18['y'],_0x3b0e18['z']),this['_body']['setLinearF'+'actor'](Re)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x3c5d0b){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0x3c5d0b['x'],_0x3c5d0b['y'],_0x3c5d0b['z']),this['_body']['setLinearV'+'elocity'](Re),this['_linearVel'+'ocity']['copy'](_0x3c5d0b));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===ks){const _0x568d8d=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x568d8d['x'](),_0x568d8d['y'](),_0x568d8d['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x2103e9){this['_mask']!==_0x2103e9&&(this['_mask']=_0x2103e9,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x53b328){if(this['_mass']!==_0x53b328&&(this['_mass']=_0x53b328,this['_body']&&this['_type']===ks)){const _0x81b5a=this['enabled']&&this['entity']['enabled'];_0x81b5a&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x53b328,Re),this['_body']['setMassPro'+'ps'](_0x53b328,Re),this['_body']['updateIner'+'tiaTensor'](),_0x81b5a&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x456de0){this['_restituti'+'on']!==_0x456de0&&(this['_restituti'+'on']=_0x456de0,this['_body']&&this['_body']['setRestitu'+'tion'](_0x456de0));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x16fb94){this['_rollingFr'+'iction']!==_0x16fb94&&(this['_rollingFr'+'iction']=_0x16fb94,this['_body']&&this['_body']['setRolling'+'Friction'](_0x16fb94));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x1f0872){if(this['_type']!==_0x1f0872){switch(this['_type']=_0x1f0872,this['disableSim'+'ulation'](),_0x1f0872){case ks:this['_group']=jL,this['_mask']=Wg;break;case Ha:this['_group']=YL,this['_mask']=Wg;break;case yo:default:this['_group']=Gg,this['_mask']=Mu;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x48d490=this['entity'];let _0x3eaeeb;if(_0x48d490['collision']&&(_0x3eaeeb=_0x48d490['collision']['shape'],_0x48d490['trigger']&&(_0x48d490['trigger']['destroy'](),delete _0x48d490['trigger'])),_0x3eaeeb){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x4b57df=this['_type']===ks?this['_mass']:0x1f1f+-0xdd*0x2a+0x523;this['_getEntity'+'Transform'](cs);const _0x335303=this['system']['createBody'](_0x4b57df,_0x3eaeeb,cs);if(_0x335303['setRestitu'+'tion'](this['_restituti'+'on']),_0x335303['setFrictio'+'n'](this['_friction']),_0x335303['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x335303['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===ks){const _0x24a7a0=this['_linearFac'+'tor'];Re['setValue'](_0x24a7a0['x'],_0x24a7a0['y'],_0x24a7a0['z']),_0x335303['setLinearF'+'actor'](Re);const _0x2ec186=this['_angularFa'+'ctor'];Re['setValue'](_0x2ec186['x'],_0x2ec186['y'],_0x2ec186['z']),_0x335303['setAngular'+'Factor'](Re);}else this['_type']===Ha&&(_0x335303['setCollisi'+'onFlags'](_0x335303['getCollisi'+'onFlags']()|qL),_0x335303['setActivat'+'ionState'](Vg));_0x335303['entity']=_0x48d490,this['body']=_0x335303,this['enabled']&&_0x48d490['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(0x1487+0x20a7+-0x1*0x352d);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0x42fe5e=this['entity'];if(_0x42fe5e['collision']&&_0x42fe5e['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0x532c1f=this['_body'];if(_0x532c1f){switch(this['system']['addBody'](_0x532c1f,this['_group'],this['_mask']),this['_type']){case ks:this['system']['_dynamic']['push'](this),_0x532c1f['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;case Ha:this['system']['_kinematic']['push'](this),_0x532c1f['forceActiv'+'ationState'](Vg);break;case yo:_0x532c1f['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;}_0x42fe5e['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0x42fe5e['collision']),_0x532c1f['activate'](),this['_simulatio'+'nEnabled']=!(-0x37*0x9+-0xe*-0x25c+-0x1f19);}}}['disableSim'+'ulation'](){const _0x49adc0=this['_body'];if(_0x49adc0&&this['_simulatio'+'nEnabled']){const _0x4d7e83=this['system'];let _0x385e65=_0x4d7e83['_compounds']['indexOf'](this['entity']['collision']);_0x385e65>-(0x215d+0xc6+-0x2222)&&_0x4d7e83['_compounds']['splice'](_0x385e65,-0x1*-0x1e5+0x26af+-0x2893),_0x385e65=_0x4d7e83['_dynamic']['indexOf'](this),_0x385e65>-(0x2033*-0x1+0x1*0x26a1+-0x66d)&&_0x4d7e83['_dynamic']['splice'](_0x385e65,0x1738+0x3b3*0x7+-0x311c),_0x385e65=_0x4d7e83['_kinematic']['indexOf'](this),_0x385e65>-(-0x2075*0x1+-0xa06+0x1*0x2a7c)&&_0x4d7e83['_kinematic']['splice'](_0x385e65,0x1fe9+-0x1*-0x3ee+-0x23d6),_0x4d7e83['removeBody'](_0x49adc0),_0x49adc0['forceActiv'+'ationState'](Yv),this['_simulatio'+'nEnabled']=!(0x218e+-0x1121+-0x2*0x836);}}['applyForce'](_0x42ef76,_0x52374f,_0x3724e9,_0x1516ef,_0x551886,_0x6a25e2){const _0x40df2c=this['_body'];_0x40df2c&&(_0x40df2c['activate'](),_0x42ef76 instanceof D?Re['setValue'](_0x42ef76['x'],_0x42ef76['y'],_0x42ef76['z']):Re['setValue'](_0x42ef76,_0x52374f,_0x3724e9),_0x52374f instanceof D?Bs['setValue'](_0x52374f['x'],_0x52374f['y'],_0x52374f['z']):_0x1516ef!==void(0xcfe+0xad5*-0x3+0x1381)?Bs['setValue'](_0x1516ef,_0x551886,_0x6a25e2):Bs['setValue'](-0x6*-0x518+-0xc32+-0x125e,-0x3e*0x22+0xfa8+-0x76c,0x45f*-0x5+0xf5f+-0x33e*-0x2),_0x40df2c['applyForce'](Re,Bs));}['applyTorqu'+'e'](_0x394206,_0x2a7cbe,_0x450d44){const _0x245dcf=this['_body'];_0x245dcf&&(_0x245dcf['activate'](),_0x394206 instanceof D?Re['setValue'](_0x394206['x'],_0x394206['y'],_0x394206['z']):Re['setValue'](_0x394206,_0x2a7cbe,_0x450d44),_0x245dcf['applyTorqu'+'e'](Re));}['applyImpul'+'se'](_0x51bca3,_0x402cbe,_0x31e00a,_0x3715bf,_0x5ba368,_0x2b2079){const _0x1f277b=this['_body'];_0x1f277b&&(_0x1f277b['activate'](),_0x51bca3 instanceof D?Re['setValue'](_0x51bca3['x'],_0x51bca3['y'],_0x51bca3['z']):Re['setValue'](_0x51bca3,_0x402cbe,_0x31e00a),_0x402cbe instanceof D?Bs['setValue'](_0x402cbe['x'],_0x402cbe['y'],_0x402cbe['z']):_0x3715bf!==void(-0x11f1+0x2653+0x1*-0x1462)?Bs['setValue'](_0x3715bf,_0x5ba368,_0x2b2079):Bs['setValue'](-0x719*0x1+0x436+0x1*0x2e3,-0x24a8+-0x24d*0x9+-0x537*-0xb,-0x1e2b+0xac1*-0x1+0x28ec),_0x1f277b['applyImpul'+'se'](Re,Bs));}['applyTorqu'+'eImpulse'](_0xbf435a,_0x3710fe,_0x4b5bf2){const _0x2437e3=this['_body'];_0x2437e3&&(_0x2437e3['activate'](),_0xbf435a instanceof D?Re['setValue'](_0xbf435a['x'],_0xbf435a['y'],_0xbf435a['z']):Re['setValue'](_0xbf435a,_0x3710fe,_0x4b5bf2),_0x2437e3['applyTorqu'+'eImpulse'](Re));}['isStatic'](){return this['_type']===yo;}['isStaticOr'+'Kinematic'](){return this['_type']===yo||this['_type']===Ha;}['isKinemati'+'c'](){return this['_type']===Ha;}['_getEntity'+'Transform'](_0x1aa2ac){const _0x40774b=this['entity'],_0x22e2fb=_0x40774b['collision'];if(_0x22e2fb){const _0x127948=_0x22e2fb['getShapePo'+'sition'](),_0x150847=_0x22e2fb['getShapeRo'+'tation']();Re['setValue'](_0x127948['x'],_0x127948['y'],_0x127948['z']),Ka['setValue'](_0x150847['x'],_0x150847['y'],_0x150847['z'],_0x150847['w']);}else{const _0x5896e1=_0x40774b['getPositio'+'n'](),_0x8de5fa=_0x40774b['getRotatio'+'n']();Re['setValue'](_0x5896e1['x'],_0x5896e1['y'],_0x5896e1['z']),Ka['setValue'](_0x8de5fa['x'],_0x8de5fa['y'],_0x8de5fa['z'],_0x8de5fa['w']);}_0x1aa2ac['setOrigin'](Re),_0x1aa2ac['setRotatio'+'n'](Ka);}['syncEntity'+'ToBody'](){const _0x306f0b=this['_body'];if(_0x306f0b){if(this['_getEntity'+'Transform'](cs),_0x306f0b['setWorldTr'+'ansform'](cs),this['_type']===Ha){const _0x13a085=_0x306f0b['getMotionS'+'tate']();_0x13a085&&_0x13a085['setWorldTr'+'ansform'](cs);}_0x306f0b['activate']();}}['_updateDyn'+'amic'](){const _0x70f8a6=this['_body'];if(_0x70f8a6['isActive']()){const _0x3422ef=_0x70f8a6['getMotionS'+'tate']();if(_0x3422ef){const _0x37caa2=this['entity'];_0x3422ef['getWorldTr'+'ansform'](cs);const _0x48a178=cs['getOrigin'](),_0x47b894=cs['getRotatio'+'n'](),_0x34e9f4=_0x37caa2['collision'];if(_0x34e9f4&&_0x34e9f4['_hasOffset']){const _0x507c56=_0x34e9f4['data']['linearOffs'+'et'],_0x45b832=_0x34e9f4['data']['angularOff'+'set'],_0x57a6ce=GO['copy'](_0x45b832)['invert'](),_0x565141=VO['set'](_0x47b894['x'](),_0x47b894['y'](),_0x47b894['z'](),_0x47b894['w']())['mul'](_0x57a6ce);_0x565141['transformV'+'ector'](_0x507c56,Pc),_0x37caa2['setPositio'+'n'](_0x48a178['x']()-Pc['x'],_0x48a178['y']()-Pc['y'],_0x48a178['z']()-Pc['z']),_0x37caa2['setRotatio'+'n'](_0x565141);}else _0x37caa2['setPositio'+'n'](_0x48a178['x'](),_0x48a178['y'](),_0x48a178['z']()),_0x37caa2['setRotatio'+'n'](_0x47b894['x'](),_0x47b894['y'](),_0x47b894['z'](),_0x47b894['w']());}}}['_updateKin'+'ematic'](){const _0x7f2597=this['_body']['getMotionS'+'tate']();_0x7f2597&&(this['_getEntity'+'Transform'](cs),_0x7f2597['setWorldTr'+'ansform'](cs));}['teleport'](_0x12401d,_0x5085cb,_0x31b9ce,_0x207e5f,_0x2296d9,_0x4f8320){_0x12401d instanceof D?this['entity']['setPositio'+'n'](_0x12401d):this['entity']['setPositio'+'n'](_0x12401d,_0x5085cb,_0x31b9ce),_0x5085cb instanceof le?this['entity']['setRotatio'+'n'](_0x5085cb):_0x5085cb instanceof D?this['entity']['setEulerAn'+'gles'](_0x5085cb):_0x207e5f!==void(0x1d6c+-0x125f*0x1+-0xb0d)&&this['entity']['setEulerAn'+'gles'](_0x207e5f,_0x2296d9,_0x4f8320),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}h(bs,'EVENT_CONT'+'ACT','contact'),h(bs,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(bs,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(bs,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(bs,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),h(bs,'order',-(0x192a+-0x1432+-0x1f*0x29));class HO{constructor(){this['enabled']=!(-0x1ab3+-0x1a7e+0x3531);}}let Mi,Di;class eS{constructor(_0x93a307,_0x19f52c,_0x247e60,_0x2bf225){h(this,'entity'),h(this,'point'),h(this,'normal'),h(this,'hitFractio'+'n'),(this['entity']=_0x93a307,this['point']=_0x19f52c,this['normal']=_0x247e60,this['hitFractio'+'n']=_0x2bf225);}}class WO{constructor(_0x1f11f2,_0x10d8ea,_0x6a37d2){h(this,'a'),h(this,'b'),h(this,'impulse'),h(this,'localPoint'+'A'),h(this,'localPoint'+'B'),h(this,'pointA'),h(this,'pointB'),h(this,'normal'),arguments['length']!==-0x11*-0x59+-0x1*0x224f+-0x1*-0x1c66?(this['a']=_0x1f11f2,this['b']=_0x10d8ea,this['impulse']=_0x6a37d2['impulse'],this['localPoint'+'A']=_0x6a37d2['localPoint'],this['localPoint'+'B']=_0x6a37d2['localPoint'+'Other'],this['pointA']=_0x6a37d2['point'],this['pointB']=_0x6a37d2['pointOther'],this['normal']=_0x6a37d2['normal']):(this['a']=null,this['b']=null,this['impulse']=-0x1f9d+-0xe70*0x1+-0x2e0d*-0x1,this['localPoint'+'A']=new D(),this['localPoint'+'B']=new D(),this['pointA']=new D(),this['pointB']=new D(),this['normal']=new D());}}class $O{constructor(_0x2d8aa1=new D(),_0x53d098=new D(),_0x3d8880=new D(),_0x466593=new D(),_0x297b24=new D(),_0x17f888=0x225*-0x4+-0x59*0x25+0x1*0x1571){h(this,'localPoint'),h(this,'localPoint'+'Other'),h(this,'point'),h(this,'pointOther'),h(this,'normal'),h(this,'impulse'),(this['localPoint']=_0x2d8aa1,this['localPoint'+'Other']=_0x53d098,this['point']=_0x3d8880,this['pointOther']=_0x466593,this['normal']=_0x297b24,this['impulse']=_0x17f888);}}class XO{constructor(_0x31ce6e,_0x15d3ad){h(this,'other'),h(this,'contacts'),(this['other']=_0x31ce6e,this['contacts']=_0x15d3ad);}}const o0=['enabled'];class wm extends ct{constructor(_0x4b5288){super(_0x4b5288),h(this,'maxSubStep'+'s',0x1b26*-0x1+-0x1a29+-0x7*-0x79f),h(this,'fixedTimeS'+'tep',(0x1ac9+-0x10*-0x89+-0x2358)/(0x60*0x5d+-0x9*0x2f7+0x123*-0x7)),h(this,'gravity',new D(-0x36a+-0x1*0x63c+0xd*0xbe,-(-0x2635+0x697*0x1+0x1fa7+0.8100000000000005),0xc1*-0x8+0x3*-0x4c8+0x1460)),h(this,'_gravityFl'+'oat32',new Float32Array(0x1*-0x28d+-0x13*0x15d+-0x1c77*-0x1)),h(this,'_dynamic',[]),h(this,'_kinematic',[]),h(this,'_triggers',[]),h(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x4b5288['stats']['frame'],this['ComponentT'+'ype']=bs,this['DataType']=HO,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=o0,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x2277ee=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x2277ee);}else w['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');Mi=new Ammo['btVector3'](),Di=new Ammo['btVector3'](),bs['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new bf($O,0x1399+0x288+0x30*-0x76),this['contactRes'+'ultPool']=new bf(XO,-0xc8a+0x174+0xb17),this['singleCont'+'actResultP'+'ool']=new bf(WO,0x12e1+0x1*-0x1b31+-0x851*-0x1),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0xddbc54,_0x342ebc,_0x28516e){const _0x138d4f=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x1608c9 of _0x138d4f)if(_0x342ebc['hasOwnProp'+'erty'](_0x1608c9)){const _0x590f9e=_0x342ebc[_0x1608c9];Array['isArray'](_0x590f9e)?_0xddbc54[_0x1608c9]=new D(_0x590f9e[-0x1ae9+-0x4*0x839+0xf3*0x3f],_0x590f9e[0x25fa+-0x2371+0x144*-0x2],_0x590f9e[-0x5*0x209+0x1f1c+-0x14ed]):_0xddbc54[_0x1608c9]=_0x590f9e;}super['initialize'+'ComponentD'+'ata'](_0xddbc54,_0x342ebc,['enabled']);}['cloneCompo'+'nent'](_0x407018,_0x3d5b43){const _0x1f9103=_0x407018['rigidbody'],_0x43c43d={'enabled':_0x1f9103['enabled'],'mass':_0x1f9103['mass'],'linearDamping':_0x1f9103['linearDamp'+'ing'],'angularDamping':_0x1f9103['angularDam'+'ping'],'linearFactor':[_0x1f9103['linearFact'+'or']['x'],_0x1f9103['linearFact'+'or']['y'],_0x1f9103['linearFact'+'or']['z']],'angularFactor':[_0x1f9103['angularFac'+'tor']['x'],_0x1f9103['angularFac'+'tor']['y'],_0x1f9103['angularFac'+'tor']['z']],'friction':_0x1f9103['friction'],'rollingFriction':_0x1f9103['rollingFri'+'ction'],'restitution':_0x1f9103['restitutio'+'n'],'type':_0x1f9103['type'],'group':_0x1f9103['group'],'mask':_0x1f9103['mask']};return this['addCompone'+'nt'](_0x3d5b43,_0x43c43d);}['onBeforeRe'+'move'](_0x2e6247,_0x33f72f){_0x33f72f['enabled']&&(_0x33f72f['enabled']=!(-0x766*0x5+0xaba+0x1a45)),_0x33f72f['body']&&(this['destroyBod'+'y'](_0x33f72f['body']),_0x33f72f['body']=null);}['addBody'](_0x1b6ea1,_0x5b630b,_0x49e719){_0x5b630b!==void(-0x227+-0x145c+0x1683)&&_0x49e719!==void(-0x83*-0x33+-0x2061+0x648)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x1b6ea1,_0x5b630b,_0x49e719):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x1b6ea1);}['removeBody'](_0x42dc6d){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x42dc6d);}['createBody'](_0x72e899,_0x1f3d62,_0x32bedc){const _0x3cceee=new Ammo['btVector3'](-0xd88*0x1+0x5e6+0x2*0x3d1,-0x4e9*-0x1+-0xa97+-0x2d7*-0x2,-0x1*0x2291+0x1317+0xf7a);_0x72e899!==0x22e8+-0x1686+-0xc62&&_0x1f3d62['calculateL'+'ocalInerti'+'a'](_0x72e899,_0x3cceee);const _0x25cb58=new Ammo['btDefaultM'+'otionState'](_0x32bedc),_0x2af16b=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x72e899,_0x25cb58,_0x1f3d62,_0x3cceee),_0x15e8e4=new Ammo['btRigidBod'+'y'](_0x2af16b);return Ammo['destroy'](_0x2af16b),Ammo['destroy'](_0x3cceee),_0x15e8e4;}['destroyBod'+'y'](_0x1ec51a){const _0x23bf10=_0x1ec51a['getMotionS'+'tate']();_0x23bf10&&Ammo['destroy'](_0x23bf10),Ammo['destroy'](_0x1ec51a);}['raycastFir'+'st'](_0xeaf981,_0x1327bf,_0x916609={}){if(_0x916609['filterTags']||_0x916609['filterCall'+'back'])return _0x916609['sort']=!(-0x3*0x6f+0x1*-0x256c+0x26b9),this['raycastAll'](_0xeaf981,_0x1327bf,_0x916609)[-0x3*0x17f+0x19e2+-0x1565]||null;let _0x3e973f=null;Mi['setValue'](_0xeaf981['x'],_0xeaf981['y'],_0xeaf981['z']),Di['setValue'](_0x1327bf['x'],_0x1327bf['y'],_0x1327bf['z']);const _0x5cf161=new Ammo['ClosestRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0x916609['filterColl'+'isionGroup']=='number'&&_0x5cf161['set_m_coll'+'isionFilte'+'rGroup'](_0x916609['filterColl'+'isionGroup']),typeof _0x916609['filterColl'+'isionMask']=='number'&&_0x5cf161['set_m_coll'+'isionFilte'+'rMask'](_0x916609['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0x5cf161),_0x5cf161['hasHit']()){const _0x13c3f6=_0x5cf161['get_m_coll'+'isionObjec'+'t'](),_0x4f3098=Ammo['castObject'](_0x13c3f6,Ammo['btRigidBod'+'y']);if(_0x4f3098){const _0x59adc6=_0x5cf161['get_m_hitP'+'ointWorld'](),_0x30e0a8=_0x5cf161['get_m_hitN'+'ormalWorld']();_0x3e973f=new eS(_0x4f3098['entity'],new D(_0x59adc6['x'](),_0x59adc6['y'](),_0x59adc6['z']()),new D(_0x30e0a8['x'](),_0x30e0a8['y'](),_0x30e0a8['z']()),_0x5cf161['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0x5cf161),_0x3e973f;}['raycastAll'](_0x10d7c6,_0x37670b,_0x3d1df0={}){w['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x3b8c9e=[];Mi['setValue'](_0x10d7c6['x'],_0x10d7c6['y'],_0x10d7c6['z']),Di['setValue'](_0x37670b['x'],_0x37670b['y'],_0x37670b['z']);const _0x1f7be4=new Ammo['AllHitsRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0x3d1df0['filterColl'+'isionGroup']=='number'&&_0x1f7be4['set_m_coll'+'isionFilte'+'rGroup'](_0x3d1df0['filterColl'+'isionGroup']),typeof _0x3d1df0['filterColl'+'isionMask']=='number'&&_0x1f7be4['set_m_coll'+'isionFilte'+'rMask'](_0x3d1df0['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0x1f7be4),_0x1f7be4['hasHit']()){const _0x155619=_0x1f7be4['get_m_coll'+'isionObjec'+'ts'](),_0x4c5de2=_0x1f7be4['get_m_hitP'+'ointWorld'](),_0x401078=_0x1f7be4['get_m_hitN'+'ormalWorld'](),_0x3a92bc=_0x1f7be4['get_m_hitF'+'ractions'](),_0x1b4dd7=_0x155619['size']();for(let _0x5a3b7b=0xa12+-0x45b*-0x8+-0x2cea;_0x5a3b7b<_0x1b4dd7;_0x5a3b7b++){const _0x57ed1c=Ammo['castObject'](_0x155619['at'](_0x5a3b7b),Ammo['btRigidBod'+'y']);if(_0x57ed1c&&_0x57ed1c['entity']){if(_0x3d1df0['filterTags']&&!_0x57ed1c['entity']['tags']['has'](..._0x3d1df0['filterTags'])||_0x3d1df0['filterCall'+'back']&&!_0x3d1df0['filterCall'+'back'](_0x57ed1c['entity']))continue;const _0x4e480a=_0x4c5de2['at'](_0x5a3b7b),_0x1e32f3=_0x401078['at'](_0x5a3b7b),_0x1a3439=new eS(_0x57ed1c['entity'],new D(_0x4e480a['x'](),_0x4e480a['y'](),_0x4e480a['z']()),new D(_0x1e32f3['x'](),_0x1e32f3['y'](),_0x1e32f3['z']()),_0x3a92bc['at'](_0x5a3b7b));_0x3b8c9e['push'](_0x1a3439);}}_0x3d1df0['sort']&&_0x3b8c9e['sort']((_0x1ca58c,_0x38296d)=>_0x1ca58c['hitFractio'+'n']-_0x38296d['hitFractio'+'n']);}return Ammo['destroy'](_0x1f7be4),_0x3b8c9e;}['_storeColl'+'ision'](_0x17a2b1,_0x12a470){let _0x3881f3=!(0x5f*-0x43+-0x27*-0x1d+0x1473);const _0x4eb775=_0x17a2b1['getGuid']();return this['collisions'][_0x4eb775]=this['collisions'][_0x4eb775]||{'others':[],'entity':_0x17a2b1},this['collisions'][_0x4eb775]['others']['indexOf'](_0x12a470)<-0xd67+-0x24d0+0x3237&&(this['collisions'][_0x4eb775]['others']['push'](_0x12a470),_0x3881f3=!(0x8f1+-0xc*-0x242+-0x2409)),this['frameColli'+'sions'][_0x4eb775]=this['frameColli'+'sions'][_0x4eb775]||{'others':[],'entity':_0x17a2b1},this['frameColli'+'sions'][_0x4eb775]['others']['push'](_0x12a470),_0x3881f3;}['_createCon'+'tactPointF'+'romAmmo'](_0x1a20bf){const _0x7518da=_0x1a20bf['get_m_loca'+'lPointA'](),_0x5c515c=_0x1a20bf['get_m_loca'+'lPointB'](),_0x5aea35=_0x1a20bf['getPositio'+'nWorldOnA'](),_0x5b1856=_0x1a20bf['getPositio'+'nWorldOnB'](),_0x59305d=_0x1a20bf['get_m_norm'+'alWorldOnB'](),_0x5f0256=this['contactPoi'+'ntPool']['allocate']();return _0x5f0256['localPoint']['set'](_0x7518da['x'](),_0x7518da['y'](),_0x7518da['z']()),_0x5f0256['localPoint'+'Other']['set'](_0x5c515c['x'](),_0x5c515c['y'](),_0x5c515c['z']()),_0x5f0256['point']['set'](_0x5aea35['x'](),_0x5aea35['y'](),_0x5aea35['z']()),_0x5f0256['pointOther']['set'](_0x5b1856['x'](),_0x5b1856['y'](),_0x5b1856['z']()),_0x5f0256['normal']['set'](_0x59305d['x'](),_0x59305d['y'](),_0x59305d['z']()),_0x5f0256['impulse']=_0x1a20bf['getApplied'+'Impulse'](),_0x5f0256;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x5de3f0){const _0x2884ff=_0x5de3f0['get_m_loca'+'lPointA'](),_0x21f6e=_0x5de3f0['get_m_loca'+'lPointB'](),_0x599677=_0x5de3f0['getPositio'+'nWorldOnA'](),_0x146370=_0x5de3f0['getPositio'+'nWorldOnB'](),_0x1361b3=_0x5de3f0['get_m_norm'+'alWorldOnB'](),_0x432f1e=this['contactPoi'+'ntPool']['allocate']();return _0x432f1e['localPoint'+'Other']['set'](_0x2884ff['x'](),_0x2884ff['y'](),_0x2884ff['z']()),_0x432f1e['localPoint']['set'](_0x21f6e['x'](),_0x21f6e['y'](),_0x21f6e['z']()),_0x432f1e['pointOther']['set'](_0x599677['x'](),_0x599677['y'](),_0x599677['z']()),_0x432f1e['point']['set'](_0x146370['x'](),_0x146370['y'](),_0x146370['z']()),_0x432f1e['normal']['set'](_0x1361b3['x'](),_0x1361b3['y'](),_0x1361b3['z']()),_0x432f1e['impulse']=_0x5de3f0['getApplied'+'Impulse'](),_0x432f1e;}['_createSin'+'gleContact'+'Result'](_0x19b2a7,_0xed533d,_0x149b7b){const _0x48ad56=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x48ad56['a']=_0x19b2a7,_0x48ad56['b']=_0xed533d,_0x48ad56['localPoint'+'A']=_0x149b7b['localPoint'],_0x48ad56['localPoint'+'B']=_0x149b7b['localPoint'+'Other'],_0x48ad56['pointA']=_0x149b7b['point'],_0x48ad56['pointB']=_0x149b7b['pointOther'],_0x48ad56['normal']=_0x149b7b['normal'],_0x48ad56['impulse']=_0x149b7b['impulse'],_0x48ad56;}['_createCon'+'tactResult'](_0x595eff,_0x4d7072){const _0x50023b=this['contactRes'+'ultPool']['allocate']();return _0x50023b['other']=_0x595eff,_0x50023b['contacts']=_0x4d7072,_0x50023b;}['_cleanOldC'+'ollisions'](){for(const _0x5c4dee in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x5c4dee)){const _0x24d95b=this['frameColli'+'sions'][_0x5c4dee],_0x2c0ac3=this['collisions'][_0x5c4dee],_0x14add6=_0x2c0ac3['entity'],_0x2108fc=_0x14add6['collision'],_0x83212b=_0x14add6['rigidbody'],_0x1e8106=_0x2c0ac3['others'];let _0x1edcca=_0x1e8106['length'];for(;_0x1edcca--;){const _0x4d17d3=_0x1e8106[_0x1edcca];(!_0x24d95b||_0x24d95b['others']['indexOf'](_0x4d17d3)<-0x11*0x243+0x23*-0x37+-0x16fc*-0x2)&&(_0x1e8106['splice'](_0x1edcca,-0x3*0x8ae+0xd1*-0x5+0x1e20),_0x14add6['trigger']?(_0x2108fc&&_0x2108fc['fire']('triggerlea'+'ve',_0x4d17d3),_0x4d17d3['rigidbody']&&_0x4d17d3['rigidbody']['fire']('triggerlea'+'ve',_0x14add6)):_0x4d17d3['trigger']||(_0x83212b&&_0x83212b['fire']('collisione'+'nd',_0x4d17d3),_0x2108fc&&_0x2108fc['fire']('collisione'+'nd',_0x4d17d3)));}_0x1e8106['length']===0x1*0x577+0xb74+-0x10eb&&delete this['collisions'][_0x5c4dee];}}['_hasContac'+'tEvent'](_0x9d3700){const _0x2ba15e=_0x9d3700['collision'];if(_0x2ba15e&&(_0x2ba15e['hasEvent']('collisions'+'tart')||_0x2ba15e['hasEvent']('collisione'+'nd')||_0x2ba15e['hasEvent']('contact')))return!(-0x1f53+-0x14*0x93+0x2acf);const _0x51cb48=_0x9d3700['rigidbody'];return _0x51cb48&&(_0x51cb48['hasEvent']('collisions'+'tart')||_0x51cb48['hasEvent']('collisione'+'nd')||_0x51cb48['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x1cf22d,_0x266e02){const _0x532869=Ammo['wrapPointe'+'r'](_0x1cf22d,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0x30140d=_0x532869['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x3e073e=-0xbb*0x17+-0xb53+0x9*0x320;_0x3e073e<_0x30140d;_0x3e073e++){const _0x59d833=_0x532869['getManifol'+'dByIndexIn'+'ternal'](_0x3e073e),_0x5a3ff3=_0x59d833['getBody0'](),_0x5aacba=_0x59d833['getBody1'](),_0x5e0306=Ammo['castObject'](_0x5a3ff3,Ammo['btRigidBod'+'y']),_0x298de8=Ammo['castObject'](_0x5aacba,Ammo['btRigidBod'+'y']),_0x31febf=_0x5e0306['entity'],_0x5c0dfc=_0x298de8['entity'];if(!_0x31febf||!_0x5c0dfc)continue;const _0x11993c=_0x5e0306['getCollisi'+'onFlags'](),_0x42d014=_0x298de8['getCollisi'+'onFlags'](),_0x58e575=_0x59d833['getNumCont'+'acts'](),_0x4111ef=[],_0x41a2ae=[];let _0x2668ae;if(_0x58e575>0x1*-0xc2e+-0x609*-0x5+-0x10f*0x11){if(_0x11993c&Po||_0x42d014&Po){const _0x5e407c=_0x31febf['collision']&&(_0x31febf['collision']['hasEvent']('triggerent'+'er')||_0x31febf['collision']['hasEvent']('triggerlea'+'ve')),_0x44cac3=_0x5c0dfc['collision']&&(_0x5c0dfc['collision']['hasEvent']('triggerent'+'er')||_0x5c0dfc['collision']['hasEvent']('triggerlea'+'ve')),_0x3f5723=_0x31febf['rigidbody']&&(_0x31febf['rigidbody']['hasEvent']('triggerent'+'er')||_0x31febf['rigidbody']['hasEvent']('triggerlea'+'ve')),_0xfc1bf4=_0x5c0dfc['rigidbody']&&(_0x5c0dfc['rigidbody']['hasEvent']('triggerent'+'er')||_0x5c0dfc['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x5e407c&&(_0x2668ae=this['_storeColl'+'ision'](_0x31febf,_0x5c0dfc),_0x2668ae&&!(_0x42d014&Po)&&_0x31febf['collision']['fire']('triggerent'+'er',_0x5c0dfc)),_0x44cac3&&(_0x2668ae=this['_storeColl'+'ision'](_0x5c0dfc,_0x31febf),_0x2668ae&&!(_0x11993c&Po)&&_0x5c0dfc['collision']['fire']('triggerent'+'er',_0x31febf)),_0x3f5723&&(_0x2668ae||(_0x2668ae=this['_storeColl'+'ision'](_0x5c0dfc,_0x31febf)),_0x2668ae&&_0x31febf['rigidbody']['fire']('triggerent'+'er',_0x5c0dfc)),_0xfc1bf4&&(_0x2668ae||(_0x2668ae=this['_storeColl'+'ision'](_0x31febf,_0x5c0dfc)),_0x2668ae&&_0x5c0dfc['rigidbody']['fire']('triggerent'+'er',_0x31febf));}else{const _0x823d11=this['_hasContac'+'tEvent'](_0x31febf),_0x43accf=this['_hasContac'+'tEvent'](_0x5c0dfc),_0x192415=this['hasEvent']('contact');if(_0x192415||_0x823d11||_0x43accf){for(let _0x3a941f=-0x258d+-0x8*0x40+-0x51*-0x7d;_0x3a941f<_0x58e575;_0x3a941f++){const _0x94947a=_0x59d833['getContact'+'Point'](_0x3a941f),_0x1776de=this['_createCon'+'tactPointF'+'romAmmo'](_0x94947a);if(_0x823d11||_0x43accf){_0x4111ef['push'](_0x1776de);const _0x311b0f=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x94947a);_0x41a2ae['push'](_0x311b0f);}if(_0x192415){const _0x3aade8=this['_createSin'+'gleContact'+'Result'](_0x31febf,_0x5c0dfc,_0x1776de);this['fire']('contact',_0x3aade8);}}if(_0x823d11){const _0x122790=this['_createCon'+'tactResult'](_0x5c0dfc,_0x4111ef);_0x2668ae=this['_storeColl'+'ision'](_0x31febf,_0x5c0dfc),_0x31febf['collision']&&(_0x31febf['collision']['fire']('contact',_0x122790),_0x2668ae&&_0x31febf['collision']['fire']('collisions'+'tart',_0x122790)),_0x31febf['rigidbody']&&(_0x31febf['rigidbody']['fire']('contact',_0x122790),_0x2668ae&&_0x31febf['rigidbody']['fire']('collisions'+'tart',_0x122790));}if(_0x43accf){const _0x17d3fe=this['_createCon'+'tactResult'](_0x31febf,_0x41a2ae);_0x2668ae=this['_storeColl'+'ision'](_0x5c0dfc,_0x31febf),_0x5c0dfc['collision']&&(_0x5c0dfc['collision']['fire']('contact',_0x17d3fe),_0x2668ae&&_0x5c0dfc['collision']['fire']('collisions'+'tart',_0x17d3fe)),_0x5c0dfc['rigidbody']&&(_0x5c0dfc['rigidbody']['fire']('contact',_0x17d3fe),_0x2668ae&&_0x5c0dfc['rigidbody']['fire']('collisions'+'tart',_0x17d3fe));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x1d4501){let _0x59aafc,_0x4e542b;this['_stats']['physicsSta'+'rt']=de(),this['_gravityFl'+'oat32'][-0x1e97+0x560*-0x4+0x3417]=this['gravity']['x'],this['_gravityFl'+'oat32'][0x61*-0x16+-0x2*0x504+0x1*0x125f]=this['gravity']['y'],this['_gravityFl'+'oat32'][-0x61f*0x1+-0x6ea*0x3+0x8f5*0x3]=this['gravity']['z'];const _0x50b687=this['dynamicsWo'+'rld']['getGravity']();(_0x50b687['x']()!==this['_gravityFl'+'oat32'][-0xa3f+-0xe80+0x4f3*0x5]||_0x50b687['y']()!==this['_gravityFl'+'oat32'][-0x20e+-0xd*-0x52+0x7*-0x4d]||_0x50b687['z']()!==this['_gravityFl'+'oat32'][0x3*-0x3a5+-0x492+-0x169*-0xb])&&(_0x50b687['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x50b687));const _0xdb41fb=this['_triggers'];for(_0x59aafc=0x1a62*-0x1+-0xcde+-0x1*-0x2740,_0x4e542b=_0xdb41fb['length'];_0x59aafc<_0x4e542b;_0x59aafc++)_0xdb41fb[_0x59aafc]['updateTran'+'sform']();const _0x19da34=this['_compounds'];for(_0x59aafc=-0x26b4+-0x1175+-0x1*-0x3829,_0x4e542b=_0x19da34['length'];_0x59aafc<_0x4e542b;_0x59aafc++)_0x19da34[_0x59aafc]['_updateCom'+'pound']();const _0x772d80=this['_kinematic'];for(_0x59aafc=0x25c+0x251b+-0x2777,_0x4e542b=_0x772d80['length'];_0x59aafc<_0x4e542b;_0x59aafc++)_0x772d80[_0x59aafc]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x1d4501,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x5e9be9=this['_dynamic'];for(_0x59aafc=0x5*-0x36d+-0x1be9+0x1685*0x2,_0x4e542b=_0x5e9be9['length'];_0x59aafc<_0x4e542b;_0x59aafc++)_0x5e9be9[_0x59aafc]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x1d4501),this['_stats']['physicsTim'+'e']=de()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](Mi),Ammo['destroy'](Di),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,Mi=null,Di=null,bs['onAppDestr'+'oy']());}}h(wm,'EVENT_CONT'+'ACT','contact'),we['_buildAcce'+'ssors'](bs['prototype'],o0);const Za='none',qO='blend',tS=new te();class l0 extends we{constructor(_0x4d47cd,_0x50f98f){super(_0x4d47cd,_0x50f98f),this['_resolutio'+'n']=new J(0x10*0x1a3+0x1239+0x1*-0x29e9,0x579+0x6*-0x603+0x1fd9),this['_reference'+'Resolution']=new J(0xd84+0x1*0x1ef9+-0x29fd,0x199d+0x20*-0x76+-0x99d*0x1),this['_scaleMode']=Za,this['scale']=0x891*0x2+-0x1e7*-0x7+-0x1e72,this['_scaleBlen'+'d']=0x13d3*-0x1+-0x21e9+0x1*0x35bc+0.5,this['_priority']=0xfa*0x9+0xb71+-0x143b*0x1,this['_screenSpa'+'ce']=!(-0x223e+-0x2557+0x4796),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new te(),this['_elements']=new Set(),_0x4d47cd['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x3f6e7f,_0x21b8d5){var _0x536845;if(!(_0x3f6e7f instanceof lt))return _0x21b8d5;if(_0x3f6e7f['element']){const _0x22f86b=_0x3f6e7f['element']['drawOrder'];_0x3f6e7f['element']['drawOrder']=_0x21b8d5++,_0x3f6e7f['element']['_batchGrou'+'pId']>=0xc*-0x2ef+-0xe*0x284+0x466c&&_0x22f86b!==_0x3f6e7f['element']['drawOrder']&&((_0x536845=this['system']['app']['batcher'])==null||_0x536845['markGroupD'+'irty'](_0x3f6e7f['element']['_batchGrou'+'pId']));}_0x3f6e7f['particlesy'+'stem']&&(_0x3f6e7f['particlesy'+'stem']['drawOrder']=_0x21b8d5++);const _0x39ac9d=_0x3f6e7f['children'];for(let _0x18e2cd=-0xb6f+-0x2622+0x3191;_0x18e2cd<_0x39ac9d['length'];_0x18e2cd++)_0x21b8d5=this['_recurseDr'+'awOrderSyn'+'c'](_0x39ac9d[_0x18e2cd],_0x21b8d5);return _0x21b8d5;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],0x2372+0x6cd+0x2*-0x151f),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0x170c3a=this['_resolutio'+'n']['x']/this['scale'],_0x30e434=this['_resolutio'+'n']['y']/this['scale'],_0x5c38c2=-0x11a7+0x5f3+0xbb4,_0x5b56ef=_0x170c3a,_0xe5d81c=-_0x30e434;this['_screenMat'+'rix']['setOrtho'](_0x5c38c2,_0x5b56ef,_0xe5d81c,0x17ca+0xb70+-0x233a,-0x3b*0xa1+-0x22bc+0x47d8,-(0x8*-0x25+0x1599+0x51c*-0x4)),this['_screenSpa'+'ce']||(tS['setScale']((0x4*0x3d3+0x1a08+-0x2954+0.5)*_0x170c3a,(0x610+-0x91b*-0x1+-0xf2b+0.5)*_0x30e434,0x1*-0x19d+0x3f8+-0x25a),this['_screenMat'+'rix']['mul2'](tS,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x3e19cc,_0x29dc39){const _0x491ba9=Math['log2']((_0x3e19cc['x']||-0x1619+0x39*0x53+0x39f)/_0x29dc39['x']),_0x3eeee5=Math['log2']((_0x3e19cc['y']||0x12e6+0xef*-0x7+-0xc5c)/_0x29dc39['y']);return Math['pow'](-0xe8a+-0x1e2e+0x2cba,_0x491ba9*(-0x1ffb+-0xb*-0x388+-0x6dc-this['_scaleBlen'+'d'])+_0x3eeee5*this['_scaleBlen'+'d']);}['_onResize'](_0x101349,_0x4c647f){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x101349,_0x4c647f),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0x1ee7bc){this['_elements']['add'](_0x1ee7bc);}['_unbindEle'+'ment'](_0x61a821){this['_elements']['delete'](_0x61a821);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x477f15=>_0x477f15['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x4a865e){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x4a865e['x'],_0x4a865e['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x325f31=>_0x325f31['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x580884){this['_reference'+'Resolution']['set'](_0x580884['x'],_0x580884['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x80bb75=>_0x80bb75['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===Za?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x5eeab7){this['_screenSpa'+'ce']=_0x5eeab7,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x53c9e3=>_0x53c9e3['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x1f2664){_0x1f2664!==Za&&_0x1f2664!==qO&&(_0x1f2664=Za),!this['_screenSpa'+'ce']&&_0x1f2664!==Za&&(_0x1f2664=Za),this['_scaleMode']=_0x1f2664,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x3622ea){this['_scaleBlen'+'d']=_0x3622ea,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x21d4e9=>_0x21d4e9['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x3219e){_0x3219e>-0xe3d+0xa63+0x4d9&&(w['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x3219e+'\x20to\x20255'),_0x3219e=0x3*0x7e6+0x975*0x1+-0x18*0x157),this['_priority']!==_0x3219e&&(this['_priority']=_0x3219e,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class jO{constructor(){this['enabled']=!(0x9*-0x3a4+0x24a6+0x2*-0x1f1);}}const Uu=['enabled'];class YO extends ct{constructor(_0x1410be){super(_0x1410be),this['id']='screen',this['ComponentT'+'ype']=l0,this['DataType']=jO,this['schema']=Uu,this['windowReso'+'lution']=new J(),this['_drawOrder'+'SyncQueue']=new fx(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x51e929,_0x4ac026,_0x12e5d7){_0x4ac026['priority']!==void(-0x15*-0x58+-0x513+0x1*-0x225)&&(_0x51e929['priority']=_0x4ac026['priority']),_0x4ac026['screenSpac'+'e']!==void(0x1fb*-0x2+0x1c86*-0x1+-0x3f*-0x84)&&(_0x51e929['screenSpac'+'e']=_0x4ac026['screenSpac'+'e']),_0x51e929['cull']=_0x51e929['screenSpac'+'e'],_0x4ac026['scaleMode']!==void(-0xdeb+-0x1*-0x179+0xc72)&&(_0x51e929['scaleMode']=_0x4ac026['scaleMode']),_0x4ac026['scaleBlend']!==void(0xbe0+0x541*0x2+-0x1662)&&(_0x51e929['scaleBlend']=_0x4ac026['scaleBlend']),_0x4ac026['resolution']!==void(0x3*-0xaa9+-0x1*-0xc41+0x13ba)&&(_0x4ac026['resolution']instanceof J?_0x51e929['_resolutio'+'n']['copy'](_0x4ac026['resolution']):_0x51e929['_resolutio'+'n']['set'](_0x4ac026['resolution'][-0x2392+-0x5*-0x74f+0x3*-0x53],_0x4ac026['resolution'][-0x9*0x34c+-0x1619+-0x6*-0x8a1]),_0x51e929['resolution']=_0x51e929['_resolutio'+'n']),_0x4ac026['referenceR'+'esolution']!==void(-0x9*0x289+-0x99b*0x1+0x206c)&&(_0x4ac026['referenceR'+'esolution']instanceof J?_0x51e929['_reference'+'Resolution']['copy'](_0x4ac026['referenceR'+'esolution']):_0x51e929['_reference'+'Resolution']['set'](_0x4ac026['referenceR'+'esolution'][0x1b*0x1e+-0x4*-0x1+0x4a*-0xb],_0x4ac026['referenceR'+'esolution'][0x1d*0x4b+0x1ca7+-0x25*0x101]),_0x51e929['referenceR'+'esolution']=_0x51e929['_reference'+'Resolution']),_0x51e929['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x51e929,_0x4ac026,Uu);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x4c0ae9){const _0x23efa1=this['store'];for(const _0x45fb29 in _0x23efa1)_0x23efa1[_0x45fb29]['entity']['screen']['update']&&_0x23efa1[_0x45fb29]['entity']['screen']['update'](_0x4c0ae9);}['_onResize'](_0x59c522,_0x296c84){this['windowReso'+'lution']['x']=_0x59c522,this['windowReso'+'lution']['y']=_0x296c84;}['cloneCompo'+'nent'](_0x251fc8,_0x1e2bcf){const _0x2c1fa8=_0x251fc8['screen'];return this['addCompone'+'nt'](_0x1e2bcf,{'enabled':_0x2c1fa8['enabled'],'screenSpace':_0x2c1fa8['screenSpac'+'e'],'scaleMode':_0x2c1fa8['scaleMode'],'resolution':_0x2c1fa8['resolution']['clone'](),'referenceResolution':_0x2c1fa8['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x3f99b4,_0x3263f4){_0x3263f4['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x3d04ca=this['_drawOrder'+'SyncQueue']['list']();for(let _0x46cff7=0xf74+0xb1b*0x3+-0x30c5;_0x46cff7<_0x3d04ca['length'];_0x46cff7++){const _0x22ccc1=_0x3d04ca[_0x46cff7];_0x22ccc1['callback']['call'](_0x22ccc1['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0x91f3f7,_0x13bea9,_0x5bea83){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0x91f3f7)||this['_drawOrder'+'SyncQueue']['push'](_0x91f3f7,{'callback':_0x13bea9,'scope':_0x5bea83});}}we['_buildAcce'+'ssors'](l0['prototype'],Uu);const lr=new J(),sS=new D(),Hr=new Dn(),iS=new QS(),rS=new D(),vo=new D(),KO=new le(),ZO={'x':'y','y':'x'};class Go extends me{constructor(_0x12e4b0,_0x547589){if(super(),!_0x12e4b0||!(_0x12e4b0 instanceof hs))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x547589&&_0x547589!=='x'&&_0x547589!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x547589);this['_element']=_0x12e4b0,this['_app']=_0x12e4b0['system']['app'],this['_axis']=_0x547589||null,this['_enabled']=!(0x17f*-0x11+-0x54*0x47+0x30bb),this['_dragScale']=new D(),this['_dragStart'+'MousePosit'+'ion']=new D(),this['_dragStart'+'HandlePosi'+'tion']=new D(),this['_deltaMous'+'ePosition']=new D(),this['_deltaHand'+'lePosition']=new D(),this['_isDraggin'+'g']=!(0xd*0xb+0x22f*-0x1+0x1a1),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x484072){this['_element'][_0x484072]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x484072]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x484072]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x4bf485){const _0xd713c3=_0x4bf485==='on';this['_hasDragLi'+'steners']&&_0xd713c3||(this['_app']['mouse']&&(this['_element'][_0x4bf485]('mousemove',this['_onMove'],this),this['_element'][_0x4bf485]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),Ae['touch']&&(this['_element'][_0x4bf485]('touchmove',this['_onMove'],this),this['_element'][_0x4bf485]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x4bf485]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x4bf485]('selectmove',this['_onMove'],this),this['_element'][_0x4bf485]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0xd713c3);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x25e5c3){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x25e5c3['camera'],this['_calculate'+'DragScale']();const _0x451745=this['_screenToL'+'ocal'](_0x25e5c3);_0x451745&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(0x71f+-0x2563+0x1e44),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x451745),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(0xc5*0x1d+0x2a*-0x39+-0xcf6),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x39638b){return _0x39638b['inputSourc'+'e']?Hr['set'](_0x39638b['inputSourc'+'e']['getOrigin'](),_0x39638b['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x39638b),this['_chooseRay'+'OriginAndD'+'irection']()),rS['copy'](this['_element']['entity']['forward'])['mulScalar'](-(-0x6*-0x577+0x14fb+-0x2*0x1ae2)),iS['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),rS),iS['intersects'+'Ray'](Hr,vo)?(KO['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](vo,vo),vo['mul'](this['_dragScale']),vo):null;}['_determine'+'InputPosit'+'ion'](_0x1aafa1){const _0x33255b=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x1aafa1['x']<'u'&&typeof _0x1aafa1['y']<'u'?(lr['x']=_0x1aafa1['x']*_0x33255b,lr['y']=_0x1aafa1['y']*_0x33255b):_0x1aafa1['changedTou'+'ches']?(lr['x']=_0x1aafa1['changedTou'+'ches'][0x82a+-0x12*-0x2f+-0xb78]['x']*_0x33255b,lr['y']=_0x1aafa1['changedTou'+'ches'][-0x15a8+0x14b1+-0x13*-0xd]['y']*_0x33255b):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Hr['origin']['set'](lr['x'],-lr['y'],-0x25c2+0xe8*-0x6+0x2b32),Hr['direction']['copy'](D['FORWARD'])):(sS['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](lr['x'],lr['y'],-0xfb4+0x7*-0x30d+-0x1288*-0x2)),Hr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Hr['direction']['copy'](sS)['sub'](Hr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x36392e=this['_element']['entity']['parent'];const _0x541170=this['_element']['screen']&&this['_element']['screen']['screen'],_0xf1feda=_0x541170&&_0x541170['screenSpac'+'e'],_0x4d9582=_0xf1feda?_0x541170['scale']:-0x7*0xf6+0x6*-0x98+0xa4b,_0x2ccc82=this['_dragScale'];for(_0x2ccc82['set'](_0x4d9582,_0x4d9582,_0x4d9582);_0x36392e&&(_0x2ccc82['mul'](_0x36392e['getLocalSc'+'ale']()),_0x36392e=_0x36392e['parent'],!(_0xf1feda&&_0x36392e['screen'])););_0x2ccc82['x']=(-0x1*-0x8ad+0x774+0x6*-0x2b0)/_0x2ccc82['x'],_0x2ccc82['y']=(0x14dc+0xb*0x30+-0x16eb)/_0x2ccc82['y'],_0x2ccc82['z']=-0x49*-0x21+-0x74a+-0xb5*0x3;}['_onMove'](_0x1bdd05){const {_element:_0x22f57b,_deltaMousePosition:_0x220b72,_deltaHandlePosition:_0x3ee010,_axis:_0x13795b}=this;if(_0x22f57b&&this['_isDraggin'+'g']&&this['enabled']&&_0x22f57b['enabled']&&_0x22f57b['entity']['enabled']){const _0x934a59=this['_screenToL'+'ocal'](_0x1bdd05);if(_0x934a59){if(_0x220b72['sub2'](_0x934a59,this['_dragStart'+'MousePosit'+'ion']),_0x3ee010['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x220b72),_0x13795b){const _0x392716=_0x22f57b['entity']['getLocalPo'+'sition'](),_0x43ff40=ZO[_0x13795b];_0x3ee010[_0x43ff40]=_0x392716[_0x43ff40];}_0x22f57b['entity']['setLocalPo'+'sition'](_0x3ee010),this['fire']('drag:move',_0x3ee010);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x5e6f11){this['_enabled']=_0x5e6f11;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}h(Go,'EVENT_DRAG'+'START','drag:start'),h(Go,'EVENT_DRAG'+'END','drag:end'),h(Go,'EVENT_DRAG'+'MOVE','drag:move');const QO=0x28f*-0xf+0x218b+-0x2*-0x26b,aS=0x1d76+-0x665+-0x1710,JO=0x6b+-0x18c0+0xc9*0x1f,eF=0x12e5+0x1085+-0x236a,tF=0x18ba+0x254+-0x5*0x569,xo=new J();class c0 extends we{constructor(_0x1a12ad,_0x5e677a){super(_0x1a12ad,_0x5e677a),h(this,'_viewportE'+'ntity',null),h(this,'_contentEn'+'tity',null),h(this,'_horizonta'+'lScrollbar'+'Entity',null),h(this,'_verticalS'+'crollbarEn'+'tity',null),h(this,'_evtElemen'+'tRemove',null),h(this,'_evtViewpo'+'rtElementR'+'emove',null),h(this,'_evtViewpo'+'rtResize',null),h(this,'_evtConten'+'tEntityEle'+'mentAdd',null),h(this,'_evtConten'+'tElementRe'+'move',null),h(this,'_evtConten'+'tResize',null),h(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),h(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),h(this,'_evtHorizo'+'ntalScroll'+'barValue',null),h(this,'_evtVertic'+'alScrollba'+'rAdd',null),h(this,'_evtVertic'+'alScrollba'+'rRemove',null),h(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_scroll']=new J(),this['_velocity']=new D(),this['_dragStart'+'Position']=new D(),this['_disabledC'+'ontentInpu'+'t']=!(-0x1c2d+-0xde6+-0x150a*-0x2),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x121756=this['system']['store'][this['entity']['getGuid']()];return _0x121756?_0x121756['data']:null;}set['enabled'](_0x377fa4){this['_setValue']('enabled',_0x377fa4);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x46dc36){this['_setValue']('horizontal',_0x46dc36);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x25a4ed){this['_setValue']('vertical',_0x25a4ed);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x2c218d){this['_setValue']('scrollMode',_0x2c218d);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x3b78f9){this['_setValue']('bounceAmou'+'nt',_0x3b78f9);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0xdc129f){this['_setValue']('friction',_0xdc129f);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x5583f7){this['_setValue']('dragThresh'+'old',_0x5583f7);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x2f4b99){this['_setValue']('useMouseWh'+'eel',_0x2f4b99);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x8f1721){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x8f1721);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x3bd936){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x3bd936);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x22e362){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x22e362);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0x22a8df){if(this['_viewportE'+'ntity']===_0x22a8df)return;const _0x207136=typeof _0x22a8df=='string';this['_viewportE'+'ntity']&&_0x207136&&this['_viewportE'+'ntity']['getGuid']()===_0x22a8df||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0x22a8df instanceof Ie?this['_viewportE'+'ntity']=_0x22a8df:_0x207136?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0x22a8df)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x207136&&_0x22a8df&&(this['data']['viewportEn'+'tity']=_0x22a8df));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x376a55){if(this['_contentEn'+'tity']===_0x376a55)return;const _0x1a5aa2=typeof _0x376a55=='string';this['_contentEn'+'tity']&&_0x1a5aa2&&this['_contentEn'+'tity']['getGuid']()===_0x376a55||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x376a55 instanceof Ie?this['_contentEn'+'tity']=_0x376a55:_0x1a5aa2?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x376a55)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0x1a5aa2&&_0x376a55&&(this['data']['contentEnt'+'ity']=_0x376a55));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x353387){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x353387)return;const _0x1aee64=typeof _0x353387=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x1aee64&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x353387||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x353387 instanceof Ie?this['_horizonta'+'lScrollbar'+'Entity']=_0x353387:_0x1aee64?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x353387)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][Ce]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x1aee64&&_0x353387&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x353387));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x314565){if(this['_verticalS'+'crollbarEn'+'tity']===_0x314565)return;const _0x3c6d4a=typeof _0x314565=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x3c6d4a&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x314565||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x314565 instanceof Ie?this['_verticalS'+'crollbarEn'+'tity']=_0x314565:_0x3c6d4a?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x314565)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][je]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x3c6d4a&&_0x314565&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x314565));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0x39284d){this['_onSetScro'+'ll'](_0x39284d['x'],_0x39284d['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x2381ac,_0x16d904){const _0x50e2ce=this['data'],_0x428750=_0x50e2ce[_0x2381ac];_0x50e2ce[_0x2381ac]=_0x16d904,this['fire']('set',_0x2381ac,_0x428750,_0x16d904);}['_toggleLif'+'ecycleList'+'eners'](_0x4578b3){this[_0x4578b3]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0x4578b3]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0x4578b3]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x59d161){if(this['entity']['element']){if(_0x59d161==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x59d161]('resize',this['_syncAll'],this),this['entity']['element'][_0x59d161]('mousewheel',this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x59d161==='on';}}['_onElement'+'ComponentA'+'dd'](_0x372660){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0x34f013){var _0x5bb1ac;(_0x5bb1ac=this['_evtElemen'+'tRemove'])==null||_0x5bb1ac['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x1dd69d,_0x526bed;(_0x1dd69d=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x1dd69d['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x526bed=this['_viewportE'+'ntity'])!=null&&_0x526bed['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x161504=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x161504['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x161504['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x40d714,_0x3a8d70;(_0x40d714=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x40d714['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x3a8d70=this['_evtViewpo'+'rtResize'])==null||_0x3a8d70['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0x3d7a52,_0x440135;(_0x3d7a52=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0x3d7a52['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x440135=this['_contentEn'+'tity'])!=null&&_0x440135['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x3b6e56=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x3b6e56['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x3b6e56['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0x29751b,_0x535226;(_0x29751b=this['_evtConten'+'tElementRe'+'move'])==null||_0x29751b['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x535226=this['_evtConten'+'tResize'])==null||_0x535226['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new Go(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0x2ba003){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(-0x11a6+0x11d*0x17+-0x7f5),this['_setScroll'+'FromConten'+'tPosition'](_0x2ba003),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x2ba003),!this['_disabledC'+'ontentInpu'+'t'])){const _0x2f30b6=_0x2ba003['x']-this['_dragStart'+'Position']['x'],_0x232783=_0x2ba003['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x2f30b6)>this['dragThresh'+'old']||Math['abs'](_0x232783)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0xcbbdb;(_0xcbbdb=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0xcbbdb['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x2642e8;(_0x2642e8=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x2642e8['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x35335e){!this['_scrollbar'+'UpdateFlag'+'s'][Ce]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x35335e,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x288a2b){!this['_scrollbar'+'UpdateFlag'+'s'][je]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x288a2b);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x54ab97;const _0x1c1963=(_0x54ab97=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(-0x1deb+-0x1ce7+-0x1*-0x3ad2):_0x54ab97['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0x1c1963['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0x1c1963['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarPositi'+'on'](Ce);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x56721a;const _0x33f9e8=(_0x56721a=this['_verticalS'+'crollbarEn'+'tity'])==null?void(0x17db+0x225e+-0x3a39):_0x56721a['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0x33f9e8['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0x33f9e8['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](je),this['_syncScrol'+'lbarPositi'+'on'](je);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x208f71,_0x97521d;(_0x208f71=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x208f71['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x97521d=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x97521d['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x12d2ac,_0x82809a;(_0x12d2ac=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x12d2ac['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x82809a=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x82809a['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](Ce);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](je);}['_onSetScro'+'ll'](_0x2a5c47,_0x37e3f0,_0x167b46){_0x167b46!==!(-0x1262*-0x1+0x428+-0x281*0x9)&&this['_velocity']['set'](-0x875+0xaf5+-0x5*0x80,0x991+-0xe07+-0x23b*-0x2,0xc13+-0x1409+0x2*0x3fb);const _0x333b75=this['_updateAxi'+'s'](_0x2a5c47,'x',Ce),_0x359556=this['_updateAxi'+'s'](_0x37e3f0,'y',je);(_0x333b75||_0x359556)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x576e9e,_0x2cd8f2,_0x53d216){const _0x58abe2=_0x576e9e!==null&&Math['abs'](_0x576e9e-this['_scroll'][_0x2cd8f2])>-0x133+0x1249+-0x36*0x51+0.00001;return(_0x58abe2||this['_isDraggin'+'g']()||_0x576e9e===-0xe09*-0x2+-0x6*0x116+0x1f*-0xb2)&&(this['_scroll'][_0x2cd8f2]=this['_determine'+'NewScrollV'+'alue'](_0x576e9e,_0x2cd8f2,_0x53d216),this['_syncConte'+'ntPosition'](_0x53d216),this['_syncScrol'+'lbarPositi'+'on'](_0x53d216)),_0x58abe2;}['_determine'+'NewScrollV'+'alue'](_0x4972bc,_0x246a98,_0x30105c){if(!this['_getScroll'+'ingEnabled'](_0x30105c))return this['_scroll'][_0x246a98];switch(this['scrollMode']){case QO:return Y['clamp'](_0x4972bc,0x6*-0x126+0xa57*-0x3+0xf*0x287,this['_getMaxScr'+'ollValue'](_0x30105c));case aS:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x4972bc,_0x246a98,_0x30105c),_0x4972bc;case JO:return _0x4972bc;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x4972bc;}}['_syncAll'](){this['_syncConte'+'ntPosition'](Ce),this['_syncConte'+'ntPosition'](je),this['_syncScrol'+'lbarPositi'+'on'](Ce),this['_syncScrol'+'lbarPositi'+'on'](je),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je);}['_syncConte'+'ntPosition'](_0x1e337d){if(!this['_contentEn'+'tity'])return;const _0x430e9c=this['_getAxis'](_0x1e337d),_0x2497be=this['_getSign'](_0x1e337d),_0x1a6a86=this['_prevConte'+'ntSizes'][_0x1e337d],_0x217aa3=this['_getConten'+'tSize'](_0x1e337d);if(_0x1a6a86!==null&&Math['abs'](_0x1a6a86-_0x217aa3)>-0x1*0x25eb+-0x18ce+0x3eb9+0.0001){const _0x549795=this['_getMaxOff'+'set'](_0x1e337d,_0x1a6a86),_0x42832a=this['_getMaxOff'+'set'](_0x1e337d,_0x217aa3);_0x42832a===-0xa36*-0x3+0x186a+-0x2*0x1b86?this['_scroll'][_0x430e9c]=0xbf*-0x24+-0xc91+0x31*0xce:this['_scroll'][_0x430e9c]=Y['clamp'](this['_scroll'][_0x430e9c]*_0x549795/_0x42832a,-0x1*-0x49a+-0x1263+0xdc9,0xe2f+-0x4a*0x39+0x24c);}const _0x320b4a=this['_scroll'][_0x430e9c]*this['_getMaxOff'+'set'](_0x1e337d),_0xa291aa=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0xa291aa[_0x430e9c]=_0x320b4a*_0x2497be,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0xa291aa),this['_prevConte'+'ntSizes'][_0x1e337d]=_0x217aa3;}['_syncScrol'+'lbarPositi'+'on'](_0x3a6628){const _0x256582=this['_scrollbar'+'Entities'][_0x3a6628];if(!(_0x256582!=null&&_0x256582['scrollbar']))return;const _0x356862=this['_getAxis'](_0x3a6628);this['_scrollbar'+'UpdateFlag'+'s'][_0x3a6628]=!(-0x1fb9*0x1+-0x1f66+0x3f1f),_0x256582['scrollbar']['value']=this['_scroll'][_0x356862],_0x256582['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x356862,_0x3a6628),this['_scrollbar'+'UpdateFlag'+'s'][_0x3a6628]=!(-0x1474+0xbf0+0x885);}['_syncScrol'+'lbarEnable'+'dState'](_0x55b450){const _0x484a6b=this['_scrollbar'+'Entities'][_0x55b450];if(!_0x484a6b)return;const _0x163df5=this['_getScroll'+'ingEnabled'](_0x55b450),_0x306765=this['_getScroll'+'barVisibil'+'ity'](_0x55b450);switch(_0x306765){case eF:_0x484a6b['enabled']=_0x163df5;return;case tF:_0x484a6b['enabled']=_0x163df5&&this['_contentIs'+'LargerThan'+'Viewport'](_0x55b450);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x306765),_0x484a6b['enabled']=_0x163df5;}}['_contentIs'+'LargerThan'+'Viewport'](_0x2e4924){return this['_getConten'+'tSize'](_0x2e4924)>this['_getViewpo'+'rtSize'](_0x2e4924);}['_contentPo'+'sitionToSc'+'rollValue'](_0x1a3db7){const _0x753d96=this['_getMaxOff'+'set'](Ce),_0xab2a44=this['_getMaxOff'+'set'](je);return _0x753d96===-0x1d87*-0x1+0x13b9+-0x628*0x8?xo['x']=-0x39*0x59+-0x2053+-0x1a12*-0x2:xo['x']=_0x1a3db7['x']/_0x753d96,_0xab2a44===-0x1*-0x1283+-0x104f+-0x2f*0xc?xo['y']=-0x1*0x18c1+0x7b1*0x1+0x1110:xo['y']=_0x1a3db7['y']/-_0xab2a44,xo;}['_getMaxOff'+'set'](_0x4c3d1f,_0xe5190){_0xe5190=_0xe5190===void(0x1237*0x1+0x1*-0x973+-0x8c4)?this['_getConten'+'tSize'](_0x4c3d1f):_0xe5190;const _0xa71726=this['_getViewpo'+'rtSize'](_0x4c3d1f);return _0xe5190<_0xa71726?-this['_getViewpo'+'rtSize'](_0x4c3d1f):_0xa71726-_0xe5190;}['_getMaxScr'+'ollValue'](_0x299459){return this['_contentIs'+'LargerThan'+'Viewport'](_0x299459)?-0x1206+-0x1d32+0xb*0x44b:0x1836+0x43c*-0x3+-0x2*0x5c1;}['_getScroll'+'barHandleS'+'ize'](_0x56b404,_0x3da05c){const _0x3b3b15=this['_getViewpo'+'rtSize'](_0x3da05c),_0x3e915c=this['_getConten'+'tSize'](_0x3da05c);if(Math['abs'](_0x3e915c)<-0x11aa+0x14e6+-0x33c+0.001)return 0x457+0x1*0x17c2+-0x3e*0x74;const _0x4f2d74=Math['min'](_0x3b3b15/_0x3e915c,0x1*0x1b47+0x1dff+0x21f*-0x1b),_0x2dae00=this['_toOversho'+'ot'](this['_scroll'][_0x56b404],_0x3da05c);return _0x2dae00===0x2f0+-0x6f2+-0x6*-0xab?_0x4f2d74:_0x4f2d74/(-0x733+0x224f+-0x1b1b+Math['abs'](_0x2dae00));}['_getViewpo'+'rtSize'](_0x3e46c4){return this['_getSize'](_0x3e46c4,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x2715f3){return this['_getSize'](_0x2715f3,this['_contentEn'+'tity']);}['_getSize'](_0x49f31f,_0x24d431){return _0x24d431!=null&&_0x24d431['element']?_0x24d431['element'][this['_getCalcul'+'atedDimens'+'ion'](_0x49f31f)]:-0xa69+-0x180c+0x2275;}['_getScroll'+'ingEnabled'](_0x20e31c){if(_0x20e31c===Ce)return this['horizontal'];if(_0x20e31c===je)return this['vertical'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x20e31c);}['_getScroll'+'barVisibil'+'ity'](_0x3f984c){if(_0x3f984c===Ce)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x3f984c===je)return this['verticalSc'+'rollbarVis'+'ibility'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x3f984c);}['_getSign'](_0x134d49){return _0x134d49===Ce?-0x1*0x1307+0x13ea+0xe2*-0x1:-(-0xe2c+-0x1a95+0x28c2);}['_getAxis'](_0x59e73f){return _0x59e73f===Ce?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x584989){return _0x584989===Ce?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===aS&&(this['_hasOversh'+'oot']('x',Ce)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',Ce),this['_hasOversh'+'oot']('y',je)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',je)),Math['abs'](this['_velocity']['x'])>0x252b+0x1616+0x7*-0x877+0.0001||Math['abs'](this['_velocity']['y'])>-0xb68*-0x3+0x9b*0x35+0x979*-0x7+0.0001){const _0x311051=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x311051['x']+=this['_velocity']['x'],_0x311051['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x311051),this['_setScroll'+'FromConten'+'tPosition'](_0x311051);}this['_velocity']['x']*=-0xa3*0x39+-0x1622+-0x3a6e*-0x1-this['friction'],this['_velocity']['y']*=0x126c+-0x1828+0x5bd-this['friction'];}}['_hasOversh'+'oot'](_0x639fe,_0x43cf00){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x639fe],_0x43cf00))>-0x206a+-0x1*-0x1de7+0x283*0x1+0.001;}['_toOversho'+'ot'](_0x46963d,_0x4da0aa){const _0xc5361a=this['_getMaxScr'+'ollValue'](_0x4da0aa);return _0x46963d<-0x1fa9+-0xd3c+0x2ce5?_0x46963d:_0x46963d>_0xc5361a?_0x46963d-_0xc5361a:0x1ffb+0x1eb3+-0x3eae;}['_setVeloci'+'tyFromOver'+'shoot'](_0x5eab27,_0x2fe42f,_0x14bac3){const _0x1dd5d5=this['_toOversho'+'ot'](_0x5eab27,_0x14bac3)*this['_getMaxOff'+'set'](_0x14bac3)*this['_getSign'](_0x14bac3);Math['abs'](_0x1dd5d5)>0x1*0x264+-0x1*-0x81f+-0xa83&&(this['_velocity'][_0x2fe42f]=-_0x1dd5d5/(this['bounceAmou'+'nt']*(0x680+0xaa6+-0x10f4)+(0x2d7*-0x9+0x8bf*0x2+-0x812*-0x1)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x53dadc){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x53dadc,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x53dadc)):(this['_velocity']['set'](0x206a+-0x1035+0x1*-0x1035,0x1db1+0x1cce+0x19*-0x257,-0x1*0x1a53+0x270d+-0x12*0xb5),this['_prevConte'+'ntDragPosi'+'tion']=_0x53dadc['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x200672){let _0x466e72=this['_contentPo'+'sitionToSc'+'rollValue'](_0x200672);this['_isDraggin'+'g']()&&(_0x466e72=this['_applyScro'+'llValueTen'+'sion'](_0x466e72)),this['_onSetScro'+'ll'](_0x466e72['x'],_0x466e72['y'],!(0x1*-0x1ece+-0x27*-0xc7+-0x12*-0x7));}['_applyScro'+'llValueTen'+'sion'](_0x56cf7c){let _0x23f841=this['_getMaxScr'+'ollValue'](Ce),_0x2ae5a3=this['_toOversho'+'ot'](_0x56cf7c['x'],Ce);return _0x2ae5a3>-0x1*-0x1a7+0x871*-0x4+-0x201d*-0x1?_0x56cf7c['x']=_0x23f841+(0x1517+-0xaff+0x35d*-0x3)*Math['log10'](0x1*-0x2306+-0xb94+0x2e9b+_0x2ae5a3):_0x2ae5a3<0x1f*0xa4+0xe7*-0x12+-0x1*0x39e&&(_0x56cf7c['x']=-(0x3*-0xc13+0x6*-0x31f+0x36f4)*Math['log10'](0x10aa+-0x669*0x6+0x15cd-_0x2ae5a3)),_0x23f841=this['_getMaxScr'+'ollValue'](je),_0x2ae5a3=this['_toOversho'+'ot'](_0x56cf7c['y'],je),_0x2ae5a3>-0x22af+0xb55+-0x7a*-0x31?_0x56cf7c['y']=_0x23f841+(-0x19*-0x122+0x5ca+0x1*-0x221b)*Math['log10'](-0x260f+0x103f+0x15d1+_0x2ae5a3):_0x2ae5a3<0x83f+0x1de1*-0x1+-0x6*-0x39b&&(_0x56cf7c['y']=-(0x1bee+-0x6e3*-0x2+0x19*-0x1ab)*Math['log10'](-0x9*-0x3d1+-0x3c6*0x2+-0x157*0x14-_0x2ae5a3)),_0x56cf7c;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x197853){var _0x13150c,_0x270024;(_0x13150c=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x13150c['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x197853),(_0x270024=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0x270024['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x197853);}['_setConten'+'tDraggingE'+'nabled'](_0x24a8da){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0x24a8da);}['_onMouseWh'+'eel'](_0xa0edf9){var _0x13ed54;if(!this['useMouseWh'+'eel']||!((_0x13ed54=this['_contentEn'+'tity'])!=null&&_0x13ed54['element']))return;const _0x1922a9=_0xa0edf9['event'],_0x43ba98=_0x1922a9['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x4ba0fc=_0x1922a9['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x2e506b=Y['clamp'](this['_scroll']['x']+_0x43ba98,0x8*0x303+0xc02+-0x241a*0x1,this['_getMaxScr'+'ollValue'](Ce)),_0x92cf44=Y['clamp'](this['_scroll']['y']+_0x4ba0fc,-0x1*-0x234e+-0x13ac+-0x2*0x7d1,this['_getMaxScr'+'ollValue'](je));this['scroll']=new J(_0x2e506b,_0x92cf44);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x554765=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x554765['element']&&(_0x554765['element']['useInput']=!(0xc*-0x3+-0x3a*-0xab+-0x225*0x12));}this['_disabledC'+'ontentInpu'+'t']=!(0x17d*-0x1+0x1322+-0x11a4);}['_disableCo'+'ntentInput'](){const _0x4c00e6=_0x291cae=>{_0x291cae['element']&&_0x291cae['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x291cae),_0x291cae['element']['useInput']=!(0x67e+0x1*-0x13a+-0x543));const _0x5b18d3=_0x291cae['children'];for(let _0x34e18f=0x1*-0x2057+-0x1391+0x2c*0x12e,_0x1c6fe0=_0x5b18d3['length'];_0x34e18f<_0x1c6fe0;_0x34e18f++)_0x4c00e6(_0x5b18d3[_0x34e18f]);};if(this['_contentEn'+'tity']){const _0x59b591=this['_contentEn'+'tity']['children'];for(let _0x565a63=0x3d*-0x27+-0xcdb+0x1626,_0x360196=_0x59b591['length'];_0x565a63<_0x360196;_0x565a63++)_0x4c00e6(_0x59b591[_0x565a63]);}this['_disabledC'+'ontentInpu'+'t']=!(0x1c6f+-0x26bd+0xa4e*0x1);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0x1*0x10df+0x2699+-0x3778)),this['_setConten'+'tDraggingE'+'nabled'](!(0x191*-0x1+0x171d+-0x158c)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0xb0*-0x17+-0xca8+-0x327)),this['_setConten'+'tDraggingE'+'nabled'](!(-0x296*-0x7+0xfb3+-0x21cc));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x1e51cd,_0x3053d2){_0x1e51cd['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x3053d2[_0x1e51cd['viewportEn'+'tity']['getGuid']()]),_0x1e51cd['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x3053d2[_0x1e51cd['contentEnt'+'ity']['getGuid']()]),_0x1e51cd['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x3053d2[_0x1e51cd['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x1e51cd['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x3053d2[_0x1e51cd['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}h(c0,'EVENT_SETS'+'CROLL','set:scroll');const sF=0xd75+-0x24c8+0x1*0x175d;class iF{constructor(){h(this,'enabled',!(-0x140*-0x5+0x5*-0x33d+0x1fd*0x5)),h(this,'horizontal'),h(this,'vertical'),h(this,'scrollMode'),h(this,'bounceAmou'+'nt'),h(this,'friction'),h(this,'dragThresh'+'old',sF),h(this,'useMouseWh'+'eel',!(0x51*0x25+-0x1355+-0x7a*-0x10)),h(this,'mouseWheel'+'Sensitivit'+'y',new J(0x407+-0x1fef+0x1be9,0x75b*0x2+-0x9a7+0x50e*-0x1)),h(this,'horizontal'+'ScrollbarV'+'isibility',0x1481+0x1455+0x2*-0x146b),h(this,'verticalSc'+'rollbarVis'+'ibility',-0x143+-0x127f*0x1+0x34b*0x6),h(this,'viewportEn'+'tity',null),h(this,'contentEnt'+'ity',null),h(this,'horizontal'+'ScrollbarE'+'ntity',null),h(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const nS=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],rF=-0x10e2+0x4*0x8b7+-0x11f0;class aF extends ct{constructor(_0x5b7cfa){super(_0x5b7cfa),this['id']='scrollview',this['ComponentT'+'ype']=c0,this['DataType']=iF,this['schema']=nS,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x2e8990,_0xff5389,_0xa8e205){_0xff5389['dragThresh'+'old']===void(-0x7*0x67+0x2*-0xac1+0x1853)&&(_0xff5389['dragThresh'+'old']=rF),_0xff5389['useMouseWh'+'eel']===void(-0xb29+0x231a+0x1*-0x17f1)&&(_0xff5389['useMouseWh'+'eel']=!(0x2568+-0x2f*0xbf+-0x257)),_0xff5389['mouseWheel'+'Sensitivit'+'y']===void(0x24*-0x88+0x5ed+0x1*0xd33)&&(_0xff5389['mouseWheel'+'Sensitivit'+'y']=new J(-0x451*-0x7+0xc7*0x1+-0x1efd*0x1,-0x2263+-0x1c16+0x3e7a)),super['initialize'+'ComponentD'+'ata'](_0x2e8990,_0xff5389,nS),_0x2e8990['viewportEn'+'tity']=_0xff5389['viewportEn'+'tity'],_0x2e8990['contentEnt'+'ity']=_0xff5389['contentEnt'+'ity'],_0x2e8990['horizontal'+'ScrollbarE'+'ntity']=_0xff5389['horizontal'+'ScrollbarE'+'ntity'],_0x2e8990['verticalSc'+'rollbarEnt'+'ity']=_0xff5389['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x4f12de){const _0x3476dc=this['store'];for(const _0x4210e4 in _0x3476dc){const _0x40765b=_0x3476dc[_0x4210e4]['entity'],_0x5d78d0=_0x40765b['scrollview'];_0x5d78d0['enabled']&&_0x40765b['enabled']&&_0x5d78d0['onUpdate']();}}['_onRemoveC'+'omponent'](_0x99e0fd,_0x1ca92e){_0x1ca92e['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class h0 extends we{constructor(_0x49d34b,_0x3e3698){super(_0x49d34b,_0x3e3698),h(this,'_handleEnt'+'ity',null),h(this,'_evtHandle'+'EntityElem'+'entAdd',null),h(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x4d140c=this['system']['store'][this['entity']['getGuid']()];return _0x4d140c?_0x4d140c['data']:null;}set['enabled'](_0x467a91){this['_setValue']('enabled',_0x467a91);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x16460d){this['_setValue']('orientatio'+'n',_0x16460d);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0xaf3b6c){this['_setValue']('value',_0xaf3b6c);}get['value'](){return this['data']['value'];}set['handleSize'](_0x6df9e6){this['_setValue']('handleSize',_0x6df9e6);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x47e84a){if(this['_handleEnt'+'ity']===_0x47e84a)return;const _0xaf4193=typeof _0x47e84a=='string';this['_handleEnt'+'ity']&&_0xaf4193&&this['_handleEnt'+'ity']['getGuid']()===_0x47e84a||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x47e84a instanceof Ie?this['_handleEnt'+'ity']=_0x47e84a:_0xaf4193?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x47e84a)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0xaf4193&&_0x47e84a&&(this['data']['handleEnti'+'ty']=_0x47e84a));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0x54a933,_0x379788){const _0x306b6a=this['data'],_0x5d3a42=_0x306b6a[_0x54a933];_0x306b6a[_0x54a933]=_0x379788,this['fire']('set',_0x54a933,_0x5d3a42,_0x379788);}['_toggleLif'+'ecycleList'+'eners'](_0x34d41e){this[_0x34d41e]('set_value',this['_onSetValu'+'e'],this),this[_0x34d41e]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x34d41e]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x44fca7,_0x283152;(_0x44fca7=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x44fca7['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x283152=this['_handleEnt'+'ity'])!=null&&_0x283152['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0xf2e008=this['_handleEnt'+'ity']['element'],_0x4c9ffe=this['_evtHandle'+'EntityChan'+'ges'];_0x4c9ffe['push'](_0xf2e008['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x4c9ffe['push'](_0xf2e008['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x4c9ffe['push'](_0xf2e008['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x4c9ffe['push'](_0xf2e008['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x12fd91=0xb63+0xba2+-0x47*0x53;_0x12fd91<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x12fd91++)this['_evtHandle'+'EntityChan'+'ges'][_0x12fd91]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=0x158a+-0x18b7+0x32d;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new Go(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x4bae26){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x4bae26[this['_getAxis']()]));}['_onSetValu'+'e'](_0x23bcf1,_0x2e4ed8,_0x5bdee4){Math['abs'](_0x5bdee4-_0x2e4ed8)>-0x2f*-0x9+0xc73+0xe1a*-0x1+0.00001&&(this['data']['value']=Y['clamp'](_0x5bdee4,-0x1009*0x1+0xe9f+-0x16a*-0x1,-0x2*-0x68+-0x464*-0x4+-0x125f),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0xef075b,_0x23fec5,_0x58903e){Math['abs'](_0x58903e-_0x23fec5)>-0x53*-0x1f+-0x18c*0x17+0x5*0x51b+0.00001&&(this['data']['handleSize']=Y['clamp'](_0x58903e,0x116d+-0xf9c+-0x5d*0x5,-0x13*0x188+0x1fa9+-0x290),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x2731d1,_0x259a77,_0x2e5d15){var _0x281bb0;_0x2e5d15!==_0x259a77&&((_0x281bb0=this['_handleEnt'+'ity'])!=null&&_0x281bb0['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=0x215e+0xd*0x2d4+0x17e*-0x2f);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x5d255f=this['_handleEnt'+'ity'],_0x5cd148=_0x5d255f==null?void(0x1*-0x18cf+0x1c0*-0x13+0x3a0f):_0x5d255f['element'];if(_0x5d255f){const _0x5c636d=_0x5d255f['getLocalPo'+'sition']();_0x5c636d[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x5d255f['setLocalPo'+'sition'](_0x5c636d);}_0x5cd148&&(_0x5cd148[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x17b03b){return _0x17b03b*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0xd53885){return _0xd53885*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),-0x178b+-0x17*0x11c+0x310f+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===Ce?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:0x1ee9+0x4*0x8dd+0x161f*-0x3;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===Ce?-0x409*-0x7+-0xc3d*0x3+0x879:-(-0xe09+-0x23e2*-0x1+-0xe9*0x18);}['_getAxis'](){return this['orientatio'+'n']===Ce?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===Ce?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===Ce?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x50474){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x50474);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x2*0x608+0xeda+-0x2ca));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(0xd*-0x205+-0x144d+0x2e8f));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x263f6c,_0x46f76b){_0x263f6c['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x46f76b[_0x263f6c['handleEnti'+'ty']['getGuid']()]);}}h(h0,'EVENT_SETV'+'ALUE','set:value');class nF{constructor(){h(this,'enabled',!(0x9fe+0x253a+-0x2f38)),h(this,'orientatio'+'n',Ce),h(this,'value',0x168e+0x9*0x11d+-0x1f*0x10d),h(this,'handleSize',-0xbb*-0x21+-0x47e+-0x139d),h(this,'handleEnti'+'ty',null);}}const oS=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class oF extends ct{constructor(_0x4dda88){super(_0x4dda88),this['id']='scrollbar',this['ComponentT'+'ype']=h0,this['DataType']=nF,this['schema']=oS,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x2d240f,_0x14f2c5,_0x54c8c5){super['initialize'+'ComponentD'+'ata'](_0x2d240f,_0x14f2c5,oS),_0x2d240f['handleEnti'+'ty']=_0x14f2c5['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x5bcb9d){_0x5bcb9d['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x318ef3,_0x76ecf){_0x76ecf['onRemove']();}}const lF={'volume':0x0,'pitch':0x0,'loop':!(-0x1f67*0x1+0x24f5*0x1+0x7*-0xcb),'startTime':0x0,'duration':0x0,'position':new D(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class Gi extends me{constructor(_0x1e7914,_0x270213='Untitled',_0x46491e={}){super(),h(this,'name'),h(this,'instances',[]),(this['_component']=_0x1e7914,this['_assets']=_0x1e7914['system']['app']['assets'],this['_manager']=_0x1e7914['system']['manager'],this['name']=_0x270213,this['_volume']=_0x46491e['volume']!==void(-0x20a6+-0xcc5*0x1+0x2d6b)?Y['clamp'](Number(_0x46491e['volume'])||0x13*0x1c9+0x1d*-0x137+0xa8*0x2,0x13*-0x13+0x741*-0x1+0x8aa,0x617*0x1+0x1*-0xe87+0x871):0x5e6+-0x85*0x1c+0x8a7,this['_pitch']=_0x46491e['pitch']!==void(-0x164c+-0x1c20+0x326c)?Math['max'](0xa1a*0x3+-0x4*-0x8fb+-0x423a+0.01,Number(_0x46491e['pitch'])||0x6a*0xb+-0x1eaf+0x1a21*0x1):0xa6e+-0x1df1+-0x4*-0x4e1,this['_loop']=!!(_0x46491e['loop']!==void(0x1*0x174a+-0x4cd+-0x127d)&&_0x46491e['loop']),this['_duration']=_0x46491e['duration']>0xc49*0x2+-0x2*-0xdf3+-0xd1e*0x4?_0x46491e['duration']:null,this['_startTime']=Math['max'](0x35*0x31+0x88c+-0x12b1,Number(_0x46491e['startTime'])||0x250+0x1ca*0xb+0x1*-0x15fe),this['_overlap']=!!_0x46491e['overlap'],this['_autoPlay']=!!_0x46491e['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x46491e['asset'],this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x1276b7){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){w['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x107c89=_0x1276b7;if(_0x107c89||(_0x107c89=this['_createIns'+'tance'](),this['instances']['push'](_0x107c89)),this['isLoaded'])_0x107c89['play']();else{const _0x3eea00=function(_0x3e9d58){const _0x4de77f=_0x107c89['_playWhenL'+'oaded'];_0x107c89['sound']=_0x3e9d58,_0x4de77f&&_0x107c89['play']();};this['off']('load',_0x3eea00),this['once']('load',_0x3eea00),this['load']();}return _0x107c89;}['pause'](){let _0x1edbe8=!(0x26ba+0x7*-0x301+-0x11b2);const _0x1fe6e3=this['instances'];for(let _0x1ee2a5=-0x46*-0x66+-0x11*-0x9d+-0x2651,_0x4f263f=_0x1fe6e3['length'];_0x1ee2a5<_0x4f263f;_0x1ee2a5++)_0x1fe6e3[_0x1ee2a5]['pause']()&&(_0x1edbe8=!(-0xe*0x2c3+0x20d0+0x5da));return _0x1edbe8;}['resume'](){let _0x498dfe=!(0x1228*-0x2+0x4*-0x755+-0xd21*-0x5);const _0x16ed82=this['instances'];for(let _0x56f5b7=-0x132*0x13+-0x23cb+0x3a81,_0x1b1d75=_0x16ed82['length'];_0x56f5b7<_0x1b1d75;_0x56f5b7++)_0x16ed82[_0x56f5b7]['resume']()&&(_0x498dfe=!(0x51+-0x12e8+0x1*0x1297));return _0x498dfe;}['stop'](){let _0x33139d=!(-0x147d+0x1*0xef+0x138f);const _0x38f234=this['instances'];let _0x141cde=_0x38f234['length'];for(;_0x141cde--;)_0x38f234[_0x141cde]['stop'](),_0x33139d=!(0x79d+-0x5d2*-0x1+0x13*-0xb5);return _0x38f234['length']=0x21c5+0x910+0x33*-0xd7,_0x33139d;}['load'](){if(!this['_hasAsset']())return;const _0x3eb234=this['_assets']['get'](this['_asset']);if(!_0x3eb234){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x3eb234['off']('remove',this['_onAssetRe'+'moved'],this),_0x3eb234['on']('remove',this['_onAssetRe'+'moved'],this),!_0x3eb234['resource']){_0x3eb234['off']('load',this['_onAssetLo'+'ad'],this),_0x3eb234['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x3eb234);return;}this['fire']('load',_0x3eb234['resource']);}['setExterna'+'lNodes'](_0x197f5d,_0x9abfca){if(!_0x197f5d){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x9abfca||(_0x9abfca=_0x197f5d),this['_firstNode']=_0x197f5d,this['_lastNode']=_0x9abfca,!this['_overlap']){const _0xfbea5d=this['instances'];for(let _0x217ff2=0xc7e+-0x6bb*-0x1+-0x1339,_0x3a529d=_0xfbea5d['length'];_0x217ff2<_0x3a529d;_0x217ff2++)_0xfbea5d[_0x217ff2]['setExterna'+'lNodes'](_0x197f5d,_0x9abfca);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x928d94=this['instances'];for(let _0x2762c6=-0x1a*-0x6d+-0x2406+0x18f4,_0xcdbc2c=_0x928d94['length'];_0x2762c6<_0xcdbc2c;_0x2762c6++)_0x928d94[_0x2762c6]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0x18277a=null;const _0xe15644=this['_component'];let _0x3e4f2b=null;if(this['_hasAsset']()){const _0xfb03df=this['_assets']['get'](this['_asset']);_0xfb03df&&(_0x3e4f2b=_0xfb03df['resource']);}const _0x5c87fd=lF;return _0x5c87fd['volume']=this['_volume']*_0xe15644['volume'],_0x5c87fd['pitch']=this['_pitch']*_0xe15644['pitch'],_0x5c87fd['loop']=this['_loop'],_0x5c87fd['startTime']=this['_startTime'],_0x5c87fd['duration']=this['_duration'],_0x5c87fd['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x5c87fd['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x5c87fd['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x5c87fd['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x5c87fd['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0xe15644['positional']?(_0x5c87fd['position']['copy'](_0xe15644['entity']['getPositio'+'n']()),_0x5c87fd['maxDistanc'+'e']=_0xe15644['maxDistanc'+'e'],_0x5c87fd['refDistanc'+'e']=_0xe15644['refDistanc'+'e'],_0x5c87fd['rollOffFac'+'tor']=_0xe15644['rollOffFac'+'tor'],_0x5c87fd['distanceMo'+'del']=_0xe15644['distanceMo'+'del'],_0x18277a=new sn(this['_manager'],_0x3e4f2b,_0x5c87fd)):_0x18277a=new As(this['_manager'],_0x3e4f2b,_0x5c87fd),this['_firstNode']&&_0x18277a['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0x18277a;}['_onInstanc'+'ePlay'](_0x1aee2e){this['fire']('play',_0x1aee2e),this['_component']['fire']('play',this,_0x1aee2e);}['_onInstanc'+'ePause'](_0x62b3ee){this['fire']('pause',_0x62b3ee),this['_component']['fire']('pause',this,_0x62b3ee);}['_onInstanc'+'eResume'](_0x1c735a){this['fire']('resume',_0x1c735a),this['_component']['fire']('resume',this,_0x1c735a);}['_onInstanc'+'eStop'](_0x45dcee){const _0x23d79b=this['instances']['indexOf'](_0x45dcee);_0x23d79b!==-(-0xe59*0x2+-0x1*-0x166d+0x16*0x49)&&this['instances']['splice'](_0x23d79b,0xfad+-0x354*-0x4+-0x424*0x7),this['fire']('stop',_0x45dcee),this['_component']['fire']('stop',this,_0x45dcee);}['_onInstanc'+'eEnd'](_0x5e393f){const _0x2a6b92=this['instances']['indexOf'](_0x5e393f);_0x2a6b92!==-(0x1fb8+-0x265*0x1+0x342*-0x9)&&this['instances']['splice'](_0x2a6b92,0x7c*0xc+0xcf3+0x2ae*-0x7),this['fire']('end',_0x5e393f),this['_component']['fire']('end',this,_0x5e393f);}['_onAssetAd'+'d'](_0x548250){this['load']();}['_onAssetLo'+'ad'](_0x42648c){this['load']();}['_onAssetRe'+'moved'](_0x4ebee1){_0x4ebee1['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x4ebee1['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0x4ead21){const _0xb180c5=this['instances'];for(let _0x26353d=-0x1579+0x2166+0x2b*-0x47,_0x43b0bf=_0xb180c5['length'];_0x26353d<_0x43b0bf;_0x26353d++)_0xb180c5[_0x26353d]['position']=_0x4ead21;}set['asset'](_0x4e683a){const _0x2d0c6e=this['_asset'];if(_0x2d0c6e){this['_assets']['off']('add:'+_0x2d0c6e,this['_onAssetAd'+'d'],this);const _0x3db5fd=this['_assets']['get'](_0x2d0c6e);_0x3db5fd&&_0x3db5fd['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x4e683a,this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x122233){this['_autoPlay']=!!_0x122233;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x4884ba){if(this['_duration']=Math['max'](0x1eca*0x1+-0x18fb*0x1+0x5cf*-0x1,Number(_0x4884ba)||0x25f*-0xd+-0x1c15+0x28*0x179)||null,!this['_overlap']){const _0x506ed1=this['instances'];for(let _0x10fb1f=-0xcaa*-0x3+0x44*0x37+-0x349a,_0x1066fd=_0x506ed1['length'];_0x10fb1f<_0x1066fd;_0x10fb1f++)_0x506ed1[_0x10fb1f]['duration']=this['_duration'];}}get['duration'](){let _0x44d405=0x107*-0x1c+0x53*-0x43+0x327d;if(this['_hasAsset']()){const _0x377eba=this['_assets']['get'](this['_asset']);_0x44d405=_0x377eba!=null&&_0x377eba['resource']?_0x377eba['resource']['duration']:-0x127*0xf+-0x1*-0x1007+0x142;}return this['_duration']!=null?this['_duration']%(_0x44d405||0xb7*-0x15+0x3*-0x185+-0x1*-0x1393):_0x44d405;}get['isLoaded'](){if(this['_hasAsset']()){const _0x3351cb=this['_assets']['get'](this['_asset']);if(_0x3351cb)return!!_0x3351cb['resource'];}return!(-0x227+-0x228b+-0x757*-0x5);}get['isPaused'](){const _0xe804a1=this['instances'],_0x2419c6=_0xe804a1['length'];if(_0x2419c6===-0x22f1+-0x1*0x16f7+0x39e8)return!(-0x17*0x3b+-0x13f8+-0xa*-0x287);for(let _0x3964bd=-0xdab+0x44e+0x1*0x95d;_0x3964bd<_0x2419c6;_0x3964bd++)if(!_0xe804a1[_0x3964bd]['isPaused'])return!(-0x51f*-0x1+0x1*0xc2f+-0x114d);return!(0x903*-0x3+0x2f*-0x1a+0x1fcf);}get['isPlaying'](){const _0x35ced4=this['instances'];for(let _0x35666c=-0xf8*0x20+0x1892+-0x1*-0x66e,_0x519bc1=_0x35ced4['length'];_0x35666c<_0x519bc1;_0x35666c++)if(_0x35ced4[_0x35666c]['isPlaying'])return!(-0xc2*-0x16+0x16ce+-0x277a);return!(-0x3*-0x397+-0x1970+0x3ab*0x4);}get['isStopped'](){const _0x5f0f8d=this['instances'];for(let _0x594c34=-0x17*-0x61+-0x1*0x7c9+0xee*-0x1,_0x291566=_0x5f0f8d['length'];_0x594c34<_0x291566;_0x594c34++)if(!_0x5f0f8d[_0x594c34]['isStopped'])return!(0x1b3f+0x2a2*-0x4+-0x10b6);return!(0x314+-0x449*0x7+0x1aeb);}set['loop'](_0x4ea460){this['_loop']=!!_0x4ea460;const _0x4b4470=this['instances'];for(let _0x16c6a0=0x50*0x7b+0xd57+-0x33c7,_0xb2aba0=_0x4b4470['length'];_0x16c6a0<_0xb2aba0;_0x16c6a0++)_0x4b4470[_0x16c6a0]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x36a643){this['_overlap']=!!_0x36a643;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x58e46e){if(this['_pitch']=Math['max'](Number(_0x58e46e)||-0xa*0x184+0x291*0x8+-0x560*0x1,0x1f07+-0x12*0x76+0x17*-0xfd+0.01),!this['_overlap']){const _0x5d687e=this['instances'];for(let _0xdf770b=0x1b7e+-0x1*-0x518+-0x2096,_0x18f718=_0x5d687e['length'];_0xdf770b<_0x18f718;_0xdf770b++)_0x5d687e[_0xdf770b]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x240741){if(this['_startTime']=Math['max'](0x1160+-0x1211+0xb1,Number(_0x240741)||0xdc7*0x1+0x23*0x10d+-0x328e),!this['_overlap']){const _0x287d66=this['instances'];for(let _0x237abe=0x5*-0xc5+0x59*-0x68+-0x2801*-0x1,_0x4024bb=_0x287d66['length'];_0x237abe<_0x4024bb;_0x237abe++)_0x287d66[_0x237abe]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x51fa0b){if(this['_volume']=Y['clamp'](Number(_0x51fa0b)||0x221*0x11+-0xbea+0x1*-0x1847,-0xe0b+-0x217a*-0x1+-0x136f,0x2c5*-0x3+-0x259f+0x2def),!this['_overlap']){const _0x27df5b=this['instances'];for(let _0x2e0270=-0xa8f+0x3dd+0x1*0x6b2,_0x45bcf9=_0x27df5b['length'];_0x2e0270<_0x45bcf9;_0x2e0270++)_0x27df5b[_0x2e0270]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}h(Gi,'EVENT_PLAY','play'),h(Gi,'EVENT_PAUS'+'E','pause'),h(Gi,'EVENT_RESU'+'ME','resume'),h(Gi,'EVENT_STOP','stop'),h(Gi,'EVENT_END','end'),h(Gi,'EVENT_LOAD','load');class Kr extends we{constructor(){super(...arguments),h(this,'_volume',-0x171*-0x16+-0xccf*-0x1+-0x32e*0xe),h(this,'_pitch',0xe94+-0xa08+-0x48b),h(this,'_positiona'+'l',!(0x1f8e*0x1+0x6aa*0x1+-0x1*0x2638)),h(this,'_refDistan'+'ce',-0x2*-0x118a+0x182c+-0x3b3f),h(this,'_maxDistan'+'ce',0x5*0x4cf+-0x1030+0x1*0x1f35),h(this,'_rollOffFa'+'ctor',-0x1*0x2525+-0x2*0xebd+-0x2150*-0x2),h(this,'_distanceM'+'odel',Vp),h(this,'_slots',{}),h(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x21cbcf,_0x3446bc,_0x4eca29){const _0x5c7bfb=this['_slots'];for(const _0x2f9de7 in _0x5c7bfb){const _0x5003d0=_0x5c7bfb[_0x2f9de7];if(!_0x5003d0['overlap']){const _0x10b6e1=_0x5003d0['instances'];for(let _0x1f99d1=0xd*0x131+-0x959*0x1+-0x106*0x6,_0x1ef89e=_0x10b6e1['length'];_0x1f99d1<_0x1ef89e;_0x1f99d1++)_0x10b6e1[_0x1f99d1][_0x21cbcf]=_0x4eca29?_0x5003d0[_0x21cbcf]*_0x3446bc:_0x3446bc;}}}set['distanceMo'+'del'](_0x3925ee){this['_distanceM'+'odel']=_0x3925ee,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x3925ee,!(-0x1*0xa4c+0x308*-0xa+0x289d));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x4f45c3){this['_maxDistan'+'ce']=_0x4f45c3,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x4f45c3,!(0xaba+0xc2*0x31+-0x2fdb));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x1f7099){this['_refDistan'+'ce']=_0x1f7099,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x1f7099,!(-0x17af+0x251d+-0xd6d));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0x398b24){this['_rollOffFa'+'ctor']=_0x398b24,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0x398b24,!(-0x60c+-0x4f*-0x56+-0x1*0x147d));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x227b77){this['_pitch']=_0x227b77,this['_updateSou'+'ndInstance'+'s']('pitch',_0x227b77,!(0x1b04+0xe*-0x69+0xaa3*-0x2));}get['pitch'](){return this['_pitch'];}set['volume'](_0x4f2065){this['_volume']=_0x4f2065,this['_updateSou'+'ndInstance'+'s']('volume',_0x4f2065,!(-0x1*-0xd8c+0x11d+0x3*-0x4e3));}get['volume'](){return this['_volume'];}set['positional'](_0x55123e){this['_positiona'+'l']=_0x55123e;const _0x487f60=this['_slots'];for(const _0xef1b1a in _0x487f60){const _0x444c65=_0x487f60[_0xef1b1a];if(!_0x444c65['overlap']){const _0x1d9cf4=_0x444c65['instances'],_0x46a629=_0x1d9cf4['length'];for(let _0x2b987c=_0x46a629-(-0x1cf5+0x1*-0x11ff+-0x2ef5*-0x1);_0x2b987c>=0x2f1*0x9+-0x3*0x928+0xf*0x11;_0x2b987c--){const _0x126c2e=_0x1d9cf4[_0x2b987c]['isPlaying']||_0x1d9cf4[_0x2b987c]['isSuspende'+'d'],_0x617e4d=_0x1d9cf4[_0x2b987c]['currentTim'+'e'];_0x126c2e&&_0x1d9cf4[_0x2b987c]['stop']();const _0x59b995=_0x444c65['_createIns'+'tance']();_0x126c2e&&(_0x59b995['play'](),_0x59b995['currentTim'+'e']=_0x617e4d),_0x1d9cf4['push'](_0x59b995);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x1927b5){const _0x47a321=this['_slots'];if(_0x47a321){for(const _0x3e666c in _0x47a321)_0x47a321[_0x3e666c]['stop']();}const _0x42180c={};for(const _0x56c378 in _0x1927b5)_0x1927b5[_0x56c378]instanceof Gi?_0x42180c[_0x1927b5[_0x56c378]['name']]=_0x1927b5[_0x56c378]:_0x1927b5[_0x56c378]['name']&&(_0x42180c[_0x1927b5[_0x56c378]['name']]=new Gi(this,_0x1927b5[_0x56c378]['name'],_0x1927b5[_0x56c378]));this['_slots']=_0x42180c,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x38192a=this['_slots'],_0x5d4273=this['_playingBe'+'foreDisabl'+'e'];for(const _0x9924f5 in _0x38192a){const _0x24f34b=_0x38192a[_0x9924f5];_0x24f34b['autoPlay']&&_0x24f34b['isStopped']?_0x24f34b['play']():_0x5d4273[_0x9924f5]?_0x24f34b['resume']():_0x24f34b['isLoaded']||_0x24f34b['load']();}}['onDisable'](){const _0x873a47=this['_slots'],_0x5c3f12={};for(const _0x24d9de in _0x873a47)_0x873a47[_0x24d9de]['overlap']||_0x873a47[_0x24d9de]['isPlaying']&&(_0x873a47[_0x24d9de]['pause'](),_0x5c3f12[_0x24d9de]=!(0x1fdb+0x20*0x6b+0x1*-0x2d3b));this['_playingBe'+'foreDisabl'+'e']=_0x5c3f12;}['onRemove'](){this['off']();}['addSlot'](_0x20aed6,_0xed5d7f){const _0x1c5bc5=this['_slots'];if(_0x1c5bc5[_0x20aed6])return w['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x20aed6+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0x15964b=new Gi(this,_0x20aed6,_0xed5d7f);return _0x1c5bc5[_0x20aed6]=_0x15964b,_0x15964b['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0x15964b['play'](),_0x15964b;}['removeSlot'](_0x1b9cdc){const _0x266156=this['_slots'];_0x266156[_0x1b9cdc]&&(_0x266156[_0x1b9cdc]['stop'](),delete _0x266156[_0x1b9cdc]);}['slot'](_0x3dcd2e){return this['_slots'][_0x3dcd2e];}['_getSlotPr'+'operty'](_0x3460a1,_0x348b7d){if(!this['enabled']||!this['entity']['enabled'])return;const _0x53d500=this['_slots'][_0x3460a1];if(!_0x53d500){w['warn']('Trying\x20to\x20'+'get\x20'+_0x348b7d+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x3460a1+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x53d500[_0x348b7d];}['isPlaying'](_0xf62b24){return this['_getSlotPr'+'operty'](_0xf62b24,'isPlaying')||!(0x1f8e+-0x624+-0x1969);}['isLoaded'](_0x9b726f){return this['_getSlotPr'+'operty'](_0x9b726f,'isLoaded')||!(0xd97+0xfae+-0xea2*0x2);}['isPaused'](_0x3e3e3e){return this['_getSlotPr'+'operty'](_0x3e3e3e,'isPaused')||!(-0x1962+0x3*-0x7da+0x30f1);}['isStopped'](_0x3c422e){return this['_getSlotPr'+'operty'](_0x3c422e,'isStopped')||!(-0x135e*0x2+0x9ff*0x2+0x12bf*0x1);}['play'](_0x3c300f){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x59937e=this['_slots'][_0x3c300f];return _0x59937e?_0x59937e['play']():(w['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x3c300f+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x24891b){const _0x564d1a=this['_slots'];if(_0x24891b){const _0x91d273=_0x564d1a[_0x24891b];if(!_0x91d273){w['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x24891b+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x91d273['pause']();}else{for(const _0x14a9ce in _0x564d1a)_0x564d1a[_0x14a9ce]['pause']();}}['resume'](_0x1a4dee){const _0x3d6360=this['_slots'];if(_0x1a4dee){const _0x17094a=_0x3d6360[_0x1a4dee];if(!_0x17094a){w['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x1a4dee+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x17094a['isPaused']&&_0x17094a['resume']();}else{for(const _0x2d2c07 in _0x3d6360)_0x3d6360[_0x2d2c07]['resume']();}}['stop'](_0x43ba71){const _0x4b143e=this['_slots'];if(_0x43ba71){const _0x8994f3=_0x4b143e[_0x43ba71];if(!_0x8994f3){w['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x43ba71+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x8994f3['stop']();}else{for(const _0x4ae659 in _0x4b143e)_0x4b143e[_0x4ae659]['stop']();}}}h(Kr,'EVENT_PLAY','play'),h(Kr,'EVENT_PAUS'+'E','pause'),h(Kr,'EVENT_RESU'+'ME','resume'),h(Kr,'EVENT_STOP','stop'),h(Kr,'EVENT_END','end');class cF{constructor(){this['enabled']=!(0xf7a+0x60d*0x5+-0x2dbb);}}const d0=['enabled'];class hF extends ct{constructor(_0x511bc9){super(_0x511bc9),this['id']='sound',this['ComponentT'+'ype']=Kr,this['DataType']=cF,this['schema']=d0,this['manager']=_0x511bc9['soundManag'+'er'],w['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x338251){this['manager']['volume']=_0x338251;}get['volume'](){return this['manager']['volume'];}get['context'](){return Dl()?this['manager']['context']:(w['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x702fa,_0x1834e2,_0x40b43e){_0x40b43e=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x4d26f7=0x2*0xa1d+0x17*-0x193+0xffb*0x1;_0x4d26f7<_0x40b43e['length'];_0x4d26f7++)_0x1834e2['hasOwnProp'+'erty'](_0x40b43e[_0x4d26f7])&&(_0x702fa[_0x40b43e[_0x4d26f7]]=_0x1834e2[_0x40b43e[_0x4d26f7]]);super['initialize'+'ComponentD'+'ata'](_0x702fa,_0x1834e2,['enabled']);}['cloneCompo'+'nent'](_0x5a3629,_0x1428a5){const _0x156ec7=_0x5a3629['sound'],_0x4f4dba=_0x156ec7['slots'],_0x5d4bee={};for(const _0x2ab8de in _0x4f4dba){const _0x49841e=_0x4f4dba[_0x2ab8de];_0x5d4bee[_0x2ab8de]={'name':_0x49841e['name'],'volume':_0x49841e['volume'],'pitch':_0x49841e['pitch'],'loop':_0x49841e['loop'],'duration':_0x49841e['duration'],'startTime':_0x49841e['startTime'],'overlap':_0x49841e['overlap'],'autoPlay':_0x49841e['autoPlay'],'asset':_0x49841e['asset']};}const _0x28c8aa={'distanceModel':_0x156ec7['distanceMo'+'del'],'enabled':_0x156ec7['enabled'],'maxDistance':_0x156ec7['maxDistanc'+'e'],'pitch':_0x156ec7['pitch'],'positional':_0x156ec7['positional'],'refDistance':_0x156ec7['refDistanc'+'e'],'rollOffFactor':_0x156ec7['rollOffFac'+'tor'],'slots':_0x5d4bee,'volume':_0x156ec7['volume']};return this['addCompone'+'nt'](_0x1428a5,_0x28c8aa);}['onUpdate'](_0x2417ac){const _0x584789=this['store'];for(const _0x465058 in _0x584789)if(_0x584789['hasOwnProp'+'erty'](_0x465058)){const _0x5a2e5a=_0x584789[_0x465058]['entity'];if(_0x5a2e5a['enabled']){const _0x12f62e=_0x5a2e5a['sound'];if(_0x12f62e['enabled']&&_0x12f62e['positional']){const _0x1c9a99=_0x5a2e5a['getPositio'+'n'](),_0x3061b5=_0x12f62e['slots'];for(const _0x3dc63e in _0x3061b5)_0x3061b5[_0x3dc63e]['updatePosi'+'tion'](_0x1c9a99);}}}}['onBeforeRe'+'move'](_0x35e5d9,_0x22fd7f){const _0x1af935=_0x22fd7f['slots'];for(const _0x4666a0 in _0x1af935)_0x1af935[_0x4666a0]['overlap']||_0x1af935[_0x4666a0]['stop']();_0x22fd7f['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Kr['prototype'],d0);const lS='simple',cS='animated';class Hi extends me{constructor(_0x52082f,_0x2263b5){super(),h(this,'_evtSetMes'+'hes',null),(this['_component']=_0x52082f,this['_frame']=0x232f+0x1*0x92f+-0xeca*0x3,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x2263b5['spriteAsse'+'t'],this['name']=_0x2263b5['name'],this['fps']=_0x2263b5['fps']||-0xe59+-0x182*0x2+-0x379*-0x5,this['loop']=_0x2263b5['loop']||!(-0x1*-0x2215+0x82*-0x41+-0x2*0x89),this['_playing']=!(0xe21*-0x1+-0x18d4+0x26f6),this['_paused']=!(0x11c*-0x2+-0x1b*-0x152+-0x216d),this['_time']=-0x1*0x17e4+0x935*-0x1+0x2119);}get['duration'](){if(this['_sprite']){const _0x4bcda5=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x4bcda5);}return-0xd7+0x1c88+-0x1bb1;}set['frame'](_0x5f231e){this['_setFrame'](_0x5f231e);const _0x25de84=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x25de84);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x27e16a){var _0x2aee4a;if(this['_sprite']&&((_0x2aee4a=this['_evtSetMes'+'hes'])==null||_0x2aee4a['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x27e16a,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x1b248c;!_0x27e16a||!_0x27e16a['atlas']?(_0x1b248c=this['_component']['_meshInsta'+'nce'],_0x1b248c&&(_0x1b248c['deletePara'+'meter']('texture_em'+'issiveMap'),_0x1b248c['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x27e16a['atlas']['texture']&&(_0x1b248c=this['_component']['_meshInsta'+'nce'],_0x1b248c&&(_0x1b248c['setParamet'+'er']('texture_em'+'issiveMap',_0x27e16a['atlas']['texture']),_0x1b248c['setParamet'+'er']('texture_op'+'acityMap',_0x27e16a['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x4bc9e6){const _0xeb1b4e=this['_component']['system']['app']['assets'];let _0x55cfa3=_0x4bc9e6;if(_0x4bc9e6 instanceof pe&&(_0x55cfa3=_0x4bc9e6['id']),this['_spriteAss'+'et']!==_0x55cfa3){if(this['_spriteAss'+'et']){const _0x125f2a=_0xeb1b4e['get'](this['_spriteAss'+'et']);_0x125f2a&&this['_unbindSpr'+'iteAsset'](_0x125f2a);}if(this['_spriteAss'+'et']=_0x55cfa3,this['_spriteAss'+'et']){const _0x5aa9dd=_0xeb1b4e['get'](this['_spriteAss'+'et']);_0x5aa9dd?this['_bindSprit'+'eAsset'](_0x5aa9dd):(this['sprite']=null,_0xeb1b4e['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x3a9cd3){this['_setTime'](_0x3a9cd3),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(0x5*0x5f+-0x13ac+-0x11d2*-0x1),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=0x1dca+0xd5*0x3+0x57*-0x5f;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x4e9efb){this['_component']['system']['app']['assets']['off']('add:'+_0x4e9efb['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x4e9efb['id']&&this['_bindSprit'+'eAsset'](_0x4e9efb);}['_bindSprit'+'eAsset'](_0x337577){_0x337577['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x337577['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x337577['resource']?this['_onSpriteA'+'ssetLoad'](_0x337577):this['_component']['system']['app']['assets']['load'](_0x337577);}['_unbindSpr'+'iteAsset'](_0x3e2bef){_0x3e2bef&&(_0x3e2bef['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x3e2bef['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x3e2bef['resource']&&!_0x3e2bef['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x3e2bef['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x9830a6){if(!_0x9830a6['resource'])this['sprite']=null;else{if(_0x9830a6['resource']['atlas'])this['sprite']=_0x9830a6['resource'];else{const _0x2a132d=_0x9830a6['data']['textureAtl'+'asAsset'],_0x35e0df=this['_component']['system']['app']['assets'];_0x35e0df['off']('load:'+_0x2a132d,this['_onTexture'+'AtlasLoad'],this),_0x35e0df['once']('load:'+_0x2a132d,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x386261){const _0x2dcf06=this['_spriteAss'+'et'];_0x2dcf06 instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x2dcf06):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x2dcf06));}['_onSpriteA'+'ssetRemove'](_0x583c80){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==ci&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x24335c){if(this['fps']===-0x1*-0x521+0x277*0x4+-0xefd||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0x4f94bb=this['fps']<0x50b*-0x1+-0x5b4*0x1+0x15*0x83?-(-0x1e92+0x192e+-0x565*-0x1):0xb*-0x6b+0x241d+-0x1f83,_0x14ed96=this['_time']+_0x24335c*this['_component']['speed']*_0x4f94bb,_0x59f2b7=this['duration'],_0x178cba=_0x14ed96>_0x59f2b7||_0x14ed96<-0x1d27*-0x1+-0x2*0x495+-0x11*0x12d;this['_setTime'](_0x14ed96);let _0x591385=this['frame'];this['_sprite']?_0x591385=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0x59f2b7):_0x591385=-0x863*-0x3+0x1334+-0x2c5d,_0x591385!==this['_frame']&&this['_setFrame'](_0x591385),_0x178cba&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(-0x187b+0x1a73+-0x1f7),this['_paused']=!(-0x20e3*-0x1+0x1*-0x154c+-0xb96),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x500baf){this['_time']=_0x500baf;const _0x33d610=this['duration'];this['_time']<0x1*0x1105+0x22*-0xa3+0x4a1?this['loop']?this['_time']=this['_time']%_0x33d610+_0x33d610:this['_time']=0x5*0x13d+0x1ad5*-0x1+0x14a4:this['_time']>_0x33d610&&(this['loop']?this['_time']%=_0x33d610:this['_time']=_0x33d610);}['_setFrame'](_0x19191f){this['_sprite']?this['_frame']=Y['clamp'](_0x19191f,-0x231+-0x109+-0x7*-0x76,this['_sprite']['frameKeys']['length']-(0x1519+0x1*0x8bb+0xf*-0x1fd)):this['_frame']=_0x19191f,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x536ed5=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x536ed5['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(-0x6*0x551+0x550*-0x6+-0x3fc6*-0x1),this['_paused']=!(0x6f5+0x1*0x258d+-0x1*0x2c81),this['frame']=-0x255e+-0x2*0x74f+0x6*0x8aa,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(0x1*0x109d+-0x257+-0xe46),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(-0x2de*0x1+0x7*-0x1a9+0xe7e),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(0x24e9+-0xff9+0x1*-0x14ef),this['_paused']=!(-0x5*-0x13+-0x1*-0x6bb+0x1*-0x719),this['_time']=0x1381*0x1+0x1f3*0x2+-0x1767,this['frame']=0x2589*0x1+0x39d+-0x2*0x1493,this['fire']('stop'),this['_component']['fire']('stop',this));}}h(Hi,'EVENT_PLAY','play'),h(Hi,'EVENT_PAUS'+'E','pause'),h(Hi,'EVENT_RESU'+'ME','resume'),h(Hi,'EVENT_STOP','stop'),h(Hi,'EVENT_END','end'),h(Hi,'EVENT_LOOP','loop');const hS='texture_em'+'issiveMap',dS='texture_op'+'acityMap',fS='material_e'+'missive',uS='material_o'+'pacity',dF='innerOffse'+'t',fF='outerScale',uF='atlasRect';class ur extends we{constructor(_0x41655a,_0x54a216){super(_0x41655a,_0x54a216),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_type']=lS,this['_material']=_0x41655a['defaultMat'+'erial'],this['_color']=new ie(-0x5*0x458+0x20ff+0xde*-0xd,0x3*0x8dc+-0x4a2+-0x15f1*0x1,0x13*-0x6b+0x1bb*-0xd+0x1e71,0xb4a+-0x7d7*0x3+0xc3c),this['_colorUnif'+'orm']=new Float32Array(0xa*0x235+-0x163d*-0x1+-0x654*0x7),this['_speed']=0x4*0x582+-0xfc+0x1*-0x150b,this['_flipX']=!(0xa0f+0x3f1*-0x9+0x196b),this['_flipY']=!(0x17*0x1a8+0x5*0x466+-0x3c15),this['_width']=0x1e2f+-0x19fb+-0x433,this['_height']=-0x13*-0x19b+0x5fb*-0x3+-0x283*0x5,this['_drawOrder']=0x223*0x3+-0x4cb+-0x19e,this['_layers']=[er],this['_outerScal'+'e']=new J(0x245+-0xf2a+0xce6,0x3ea*0x9+-0x35*-0x49+-0x1*0x3256),this['_outerScal'+'eUniform']=new Float32Array(0x25d0+-0x1950+-0xc7e),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(-0x1971+0x19bf+-0x4a),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(-0xf52*-0x2+-0x514*-0x5+-0x3804),this['_batchGrou'+'pId']=-(0x78+0x19e4+-0x1a5b),this['_batchGrou'+'p']=null,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0x54a216['addChild'](this['_model']['graph']),this['_model']['_entity']=_0x54a216,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(0x1bcc+0x277*-0x4+-0x11ef),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new Hi(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(0x64d*-0x3+-0x1919*0x1+0x2c01),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0x241e4d){this['_type']!==_0x241e4d&&(this['_type']=_0x241e4d,this['_type']===lS?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===cS&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0x499673){this['_currentCl'+'ip']['frame']=_0x499673;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x4f4fd7){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x4f4fd7;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x2ea451){this['_currentCl'+'ip']['sprite']=_0x2ea451;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0xb7169e){this['_material']=_0xb7169e,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0xb7169e);}get['material'](){return this['_material'];}set['color'](_0x4fd9d8){this['_color']['r']=_0x4fd9d8['r'],this['_color']['g']=_0x4fd9d8['g'],this['_color']['b']=_0x4fd9d8['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][-0x4c7*0x2+-0x10d*-0x7+0x233]=this['_color']['r'],this['_colorUnif'+'orm'][0x3*0xa97+0x218b+0x414f*-0x1]=this['_color']['g'],this['_colorUnif'+'orm'][-0x1e38*-0x1+-0x199*-0xe+-0x3494]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x5d8017){this['_color']['a']=_0x5d8017,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](uS,_0x5d8017);}get['opacity'](){return this['_color']['a'];}set['clips'](_0xe57a3f){if(!_0xe57a3f){for(const _0x4d34d2 in this['_clips'])this['removeClip'](_0x4d34d2);return;}for(const _0x4956d0 in this['_clips']){let _0x42497c=!(-0x1*-0xa8d+-0xa*-0x327+-0x435*0xa);for(const _0x30bc99 in _0xe57a3f)if(_0xe57a3f[_0x30bc99]['name']===_0x4956d0){_0x42497c=!(-0x7*-0x240+-0x5*-0x3be+-0x2276),this['_clips'][_0x4956d0]['fps']=_0xe57a3f[_0x30bc99]['fps'],this['_clips'][_0x4956d0]['loop']=_0xe57a3f[_0x30bc99]['loop'],_0xe57a3f[_0x30bc99]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0x4956d0]['sprite']=_0xe57a3f[_0x30bc99]['sprite']:_0xe57a3f[_0x30bc99]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0x4956d0]['spriteAsse'+'t']=_0xe57a3f[_0x30bc99]['spriteAsse'+'t']);break;}_0x42497c||this['removeClip'](_0x4956d0);}for(const _0x3792b6 in _0xe57a3f)this['_clips'][_0xe57a3f[_0x3792b6]['name']]||this['addClip'](_0xe57a3f[_0x3792b6]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0x337357){this['_speed']=_0x337357;}get['speed'](){return this['_speed'];}set['flipX'](_0x1b2245){this['_flipX']!==_0x1b2245&&(this['_flipX']=_0x1b2245,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x2fc982){this['_flipY']!==_0x2fc982&&(this['_flipY']=_0x2fc982,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x322031){_0x322031!==this['_width']&&(this['_width']=_0x322031,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x1ac474){_0x1ac474!==this['_height']&&(this['_height']=_0x1ac474,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0x47aa26){var _0x51b577,_0x1674f8;if(this['_batchGrou'+'pId']===_0x47aa26)return;const _0x257fce=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0x47aa26,this['entity']['enabled']&&_0x257fce>=0x102f+-0x5*-0x5a3+-0x2c5e&&((_0x51b577=this['system']['app']['batcher'])==null||_0x51b577['remove'](St['SPRITE'],_0x257fce,this['entity'])),this['entity']['enabled']&&_0x47aa26>=-0x888+-0x1fcb+-0x1f*-0x14d?(_0x1674f8=this['system']['app']['batcher'])==null||_0x1674f8['insert'](St['SPRITE'],_0x47aa26,this['entity']):_0x257fce>=-0x322*-0x1+-0x19*-0x101+-0x1c3b&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x22ea74){this['_autoPlayC'+'lip']=_0x22ea74 instanceof Hi?_0x22ea74['name']:_0x22ea74,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0xf3c928){this['_drawOrder']=_0xf3c928,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0xf3c928);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x278384){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x278384,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x588d9b;const _0x596b32=this['system']['app'],_0x592c9f=_0x596b32['scene'],_0x40c385=_0x592c9f['layers'];this['_evtLayers'+'Changed']=_0x592c9f['on']('set:layers',this['_onLayersC'+'hanged'],this),_0x40c385&&(this['_evtLayerA'+'dded']=_0x40c385['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0x40c385['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=0x177d+0x3c8+-0x1b45&&((_0x588d9b=_0x596b32['batcher'])==null||_0x588d9b['insert'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x43e826,_0x5706df,_0x35180d,_0x3dc611;const _0x4f7a89=this['system']['app'],_0x3938a6=_0x4f7a89['scene']['layers'];(_0x43e826=this['_evtLayers'+'Changed'])==null||_0x43e826['off'](),this['_evtLayers'+'Changed']=null,_0x3938a6&&((_0x5706df=this['_evtLayerA'+'dded'])==null||_0x5706df['off'](),this['_evtLayerA'+'dded']=null,(_0x35180d=this['_evtLayerR'+'emoved'])==null||_0x35180d['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=-0xdbf+-0x20ac+0x2bb*0x11&&((_0x3dc611=_0x4f7a89['batcher'])==null||_0x3dc611['remove'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x57feb0;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0x1c177c in this['_clips'])this['_clips'][_0x1c177c]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x57feb0=this['_node'])==null||_0x57feb0['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x34666c=[this['_meshInsta'+'nce']];for(let _0x381a17=0x4cc+0xc60+-0x112c,_0x3eff60=this['_layers']['length'];_0x381a17<_0x3eff60;_0x381a17++){const _0x4c002f=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x381a17]);_0x4c002f&&_0x4c002f['addMeshIns'+'tances'](_0x34666c);}this['_addedMode'+'l']=!(-0x1026+-0xdb7+0x1ddd);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x3af65f=[this['_meshInsta'+'nce']];for(let _0x462d33=0x1e*-0x35+-0x3e*-0x47+-0xafc,_0x58e6aa=this['_layers']['length'];_0x462d33<_0x58e6aa;_0x462d33++){const _0x4c42bc=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x462d33]);_0x4c42bc&&_0x4c42bc['removeMesh'+'Instances'](_0x3af65f);}this['_addedMode'+'l']=!(-0x1ba0+-0x1920+-0x1*-0x34c1);}['_showFrame'](_0x34c37d){if(!this['sprite'])return;const _0x47ad63=this['sprite']['meshes'][_0x34c37d];if(!_0x47ad63){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(-0x248f+0xe64+0x162c));return;}let _0x33c661;if(this['sprite']['renderMode']===Pt?_0x33c661=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Mt?_0x33c661=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x33c661=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new He(_0x47ad63,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(0x3*0x6e1+0xe78*0x2+0x9ea*-0x5),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(-0xad1*0x2+0x15*-0xfd+0x2a64),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][0x21cb+0x6*-0x201+-0x15c5]=this['_color']['r'],this['_colorUnif'+'orm'][0x767+-0x1439+0xcd3]=this['_color']['g'],this['_colorUnif'+'orm'][0x2b*-0x3d+0xf*-0x1b4+0x2f*0xc3]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](uS,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x33c661&&(this['_meshInsta'+'nce']['material']=_0x33c661),this['_meshInsta'+'nce']['mesh']!==_0x47ad63&&(this['_meshInsta'+'nce']['mesh']=_0x47ad63,this['_meshInsta'+'nce']['visible']=!(-0x9*0x73+-0x81*-0xb+0x1*-0x180),this['_meshInsta'+'nce']['_aabbVer']=-(0x6c3+0x600+-0xcc2)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](hS,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](dS,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](hS),this['_meshInsta'+'nce']['deletePara'+'meter'](dS)),this['sprite']['atlas']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x2160a9=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x34c37d]];if(_0x2160a9){const _0x567cb0=(-0x1f7*0x2+0x1f1+0x1ff)/_0x2160a9['rect']['z'],_0x248936=(0xa*-0x221+0x245e+-0x3*0x506)/_0x2160a9['rect']['w'];this['_innerOffs'+'et']['set'](_0x2160a9['border']['x']*_0x567cb0,_0x2160a9['border']['y']*_0x248936,_0x2160a9['border']['z']*_0x567cb0,_0x2160a9['border']['w']*_0x248936);const _0x38f54d=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x2160a9['rect']['x']/_0x38f54d['width'],_0x2160a9['rect']['y']/_0x38f54d['height'],_0x2160a9['rect']['z']/_0x38f54d['width'],_0x2160a9['rect']['w']/_0x38f54d['height']);}else this['_innerOffs'+'et']['set'](-0xb01*-0x3+0x1*-0x4b1+-0x1c52,-0x1360+0x574+0xdec,-0x4*0x3dd+-0x249b*0x1+-0x1*-0x340f,0xd42+-0x1*-0x253d+-0x327f);this['_innerOffs'+'etUniform'][-0xa04+-0x24fe+0x2f02]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0x616+0x4*-0x49+-0x4f1]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0x8bb+-0xe2a+0x16e7]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0x1e*-0x3e+-0x1e7b+0x6*0x64b]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](dF,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0x787+-0x3*0xc66+-0x1*-0x1dab]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0x1057+0x1254+-0x22aa]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0x1*-0x16d6+-0x77f+-0xf55]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x21d4+0x4f3+-0x4*-0x739]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](uF,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x73028a=this['flipX']?-(-0x24c4+-0xbeb+0x30b*0x10):-0x1*-0x1d75+0x1*-0x224f+-0xb*-0x71,_0x4398f6=this['flipY']?-(0xe5*0x1f+-0xb56+-0x1064):-0x1ef8+-0x1e36+0x45*0xe3,_0x2b1eab=0x17fd+-0x6*0x5a7+0x9ed,_0x1a62e6=0x13*-0x9b+-0x9d*0xd+0x137a;if(this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){let _0x25b0cd=0x1ee9+-0xe23+-0x10c5*0x1,_0x5adec5=0x1*-0xf8+0x2195+0x209c*-0x1;if(this['sprite']['atlas']){const _0xa3be38=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0xa3be38&&(_0x25b0cd=_0xa3be38['rect']['z'],_0x5adec5=_0xa3be38['rect']['w'],_0x2b1eab=(-0x1977+-0x17f*-0x1+0x17f8+0.5-_0xa3be38['pivot']['x'])*this['_width'],_0x1a62e6=(-0x1dfe+-0x1*-0x1a12+-0x3ec*-0x1+0.5-_0xa3be38['pivot']['y'])*this['_height']);}const _0x568bf3=_0x25b0cd/this['sprite']['pixelsPerU'+'nit'],_0x5d85fa=_0x5adec5/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0x568bf3),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x5d85fa)),_0x73028a*=_0x568bf3,_0x4398f6*=_0x5d85fa,this['_outerScal'+'e']['x']/=_0x568bf3,this['_outerScal'+'e']['y']/=_0x5d85fa,_0x73028a*=Y['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0x568bf3),-0x63f+0x1485+-0xe46+0.0001,-0x121*-0x9+0x1426+-0x1e4e),_0x4398f6*=Y['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x5d85fa),-0x2e7*-0x8+0x1e3c+-0x3574+0.0001,0x17dd*0x1+0x226a+-0x3a46),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][0x1ad7*0x1+-0x6a3+-0x1434]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][-0x1f8e+0x22*0x6d+0x1115]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](fF,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x73028a,_0x4398f6,-0x74*0xc+0xa3e+-0x4cd),this['_node']['setLocalPo'+'sition'](_0x2b1eab,_0x1a62e6,0x62*0x5d+-0x14be+-0x1*0xedc);}['_updateAab'+'b'](_0x1023f1){return _0x1023f1['center']['set'](0x625*0x1+0x1*-0xcd2+0x6ad,-0x2115+0x2b3*0xc+0x3*0x3b,-0x1*-0x1077+0xd9+0x115*-0x10),_0x1023f1['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0x23f0+0xd3b*-0x1+-0x16b5+0.5),this['_outerScal'+'e']['y']*(0x567+0x135*-0xd+0xa4a+0.5),0x1*-0x7db+0x3a9*-0x4+0x167f+0.001),_0x1023f1['setFromTra'+'nsformedAa'+'bb'](_0x1023f1,this['_node']['getWorldTr'+'ansform']()),_0x1023f1;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==cS)return;const _0x434cbf=this['_clips'][this['_autoPlayC'+'lip']];_0x434cbf&&!_0x434cbf['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x434cbf['name']);}['_onLayersC'+'hanged'](_0x6a3553,_0x505f76){_0x6a3553['off']('add',this['onLayerAdd'+'ed'],this),_0x6a3553['off']('remove',this['onLayerRem'+'oved'],this),_0x505f76['on']('add',this['onLayerAdd'+'ed'],this),_0x505f76['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x111d1d){this['layers']['indexOf'](_0x111d1d['id'])<0x1*0x2341+0x1858+-0x3b99||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x111d1d['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0x4f6647){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0x4f6647['id'])<-0xf29+-0x182*0xa+-0x1*-0x1e3d||_0x4f6647['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0x2317a2=0x11*-0x21b+0x45*-0xe+0x2791;_0x2317a2<this['layers']['length'];_0x2317a2++){const _0x96003a=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x2317a2]);_0x96003a&&_0x96003a['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x516083){const _0x3d3008=new Hi(this,{'name':_0x516083['name'],'fps':_0x516083['fps'],'loop':_0x516083['loop'],'spriteAsset':_0x516083['spriteAsse'+'t']});return this['_clips'][_0x516083['name']]=_0x3d3008,_0x3d3008['name']&&_0x3d3008['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0x3d3008;}['removeClip'](_0x565409){delete this['_clips'][_0x565409];}['clip'](_0x31548c){return this['_clips'][_0x31548c];}['play'](_0x567867){const _0x57c3f5=this['_clips'][_0x567867],_0x32fed9=this['_currentCl'+'ip'];return _0x32fed9&&_0x32fed9!==_0x57c3f5&&(_0x32fed9['_playing']=!(0x167d+0xb5a+-0x21d6)),this['_currentCl'+'ip']=_0x57c3f5,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x57c3f5,this['_currentCl'+'ip']['play']()):w['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0x567867+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x57c3f5;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}h(ur,'EVENT_PLAY','play'),h(ur,'EVENT_PAUS'+'E','pause'),h(ur,'EVENT_RESU'+'ME','resume'),h(ur,'EVENT_STOP','stop'),h(ur,'EVENT_END','end'),h(ur,'EVENT_LOOP','loop');class pF{constructor(){this['enabled']=!(-0x11ae+-0x1e41+-0x6d9*-0x7);}}const f0=['enabled'];class mF extends ct{constructor(_0x2e370d){super(_0x2e370d),this['id']='sprite',this['ComponentT'+'ype']=ur,this['DataType']=pF,this['schema']=f0,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x160736){this['_defaultMa'+'terial']=_0x160736;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x32712c=new _e(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'sprite'}),_0x300c5e=new Uint8Array(_0x32712c['lock']());_0x300c5e[-0x1*0x1f9d+0xbad+-0x1d0*-0xb]=_0x300c5e[-0x15e1+0x2*0x42d+0x6c4*0x2]=_0x300c5e[0x981+0xdcd*0x2+0x1*-0x2519]=_0x300c5e[-0x20*-0x1d+0x505+-0x8a2]=0x25ad+-0x5*-0x657+-0x4461,_0x32712c['unlock']();const _0x4b1983=new Ut();_0x4b1983['diffuse']['set'](0x5*0x43f+-0x1*-0x105a+-0x2595,-0x2603+0x655+0xfd7*0x2,-0x9a5*0x2+0x172f+0x1*-0x3e5),_0x4b1983['emissive']['set'](0x12ee*-0x2+0x3*-0x63+0x2706,-0xc58+-0x16af+0x2308,-0x204f+0xe55+0x11fb),_0x4b1983['emissiveMa'+'p']=_0x32712c,_0x4b1983['opacityMap']=_0x32712c,_0x4b1983['opacityMap'+'Channel']='a',_0x4b1983['useLightin'+'g']=!(0x2*-0x151+-0x7a6*-0x2+-0xca9),_0x4b1983['useTonemap']=!(0x1320+0x1ed4+-0x31f3),_0x4b1983['useFog']=!(0x137a+0xf09+-0x2282),_0x4b1983['useSkybox']=!(-0x226d*-0x1+0xb99*0x3+-0x4537),_0x4b1983['blendType']=Gn,_0x4b1983['depthWrite']=!(0x1f2e+0x1b0*-0x10+-0x42d),_0x4b1983['pixelSnap']=!(0x9*-0x127+-0xd5*-0x2+-0x1be*-0x5),_0x4b1983['cull']=bt,_0x4b1983['update'](),this['_defaultTe'+'xture']=_0x32712c,this['_defaultMa'+'terial']=_0x4b1983;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x9f1834){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x9f1834;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x3d3e38=this['defaultMat'+'erial']['clone']();_0x3d3e38['nineSliced'+'Mode']=Pt,_0x3d3e38['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x3d3e38;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x29d252){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x29d252;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x35adf5=this['defaultMat'+'erial']['clone']();_0x35adf5['nineSliced'+'Mode']=Mt,_0x35adf5['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x35adf5;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x5bb32c,_0x4cbbd7,_0x553377){if(_0x4cbbd7['enabled']!==void(0xc1*0x21+0x26e0*0x1+-0x3fc1)&&(_0x5bb32c['enabled']=_0x4cbbd7['enabled']),_0x5bb32c['type']=_0x4cbbd7['type'],_0x4cbbd7['layers']&&Array['isArray'](_0x4cbbd7['layers'])&&(_0x5bb32c['layers']=_0x4cbbd7['layers']['slice'](-0xd89+-0x3*-0x607+0x246*-0x2)),_0x4cbbd7['drawOrder']!==void(-0x1632+-0x3*-0x3b7+0xb0d)&&(_0x5bb32c['drawOrder']=_0x4cbbd7['drawOrder']),_0x4cbbd7['color']!==void(0x2*0x275+-0x11a2+0x16*0x94)&&(_0x4cbbd7['color']instanceof ie?_0x5bb32c['color']['set'](_0x4cbbd7['color']['r'],_0x4cbbd7['color']['g'],_0x4cbbd7['color']['b'],_0x4cbbd7['opacity']??-0x3c7*0x5+-0x163d*0x1+0x2921):_0x5bb32c['color']['set'](_0x4cbbd7['color'][-0x102a+0xcc0+0x36a],_0x4cbbd7['color'][0x3*0xc45+0x11*0x15f+-0x3c1d],_0x4cbbd7['color'][0x15*0x29+-0x29b*-0x9+-0x1ace],_0x4cbbd7['opacity']??0x67*0x17+-0x74d+0x1f3*-0x1),_0x5bb32c['color']=_0x5bb32c['color']),_0x4cbbd7['opacity']!==void(0x25b+-0xf62*-0x1+0xef*-0x13)&&(_0x5bb32c['opacity']=_0x4cbbd7['opacity']),_0x4cbbd7['flipX']!==void(-0x1c54+-0x20ff*0x1+0x3d53)&&(_0x5bb32c['flipX']=_0x4cbbd7['flipX']),_0x4cbbd7['flipY']!==void(0x11f1+0x5db*0x3+-0x2382)&&(_0x5bb32c['flipY']=_0x4cbbd7['flipY']),_0x4cbbd7['width']!==void(0x210d+-0x1378+-0xd95*0x1)&&(_0x5bb32c['width']=_0x4cbbd7['width']),_0x4cbbd7['height']!==void(0x6b*0x57+-0x19c+-0x22c1)&&(_0x5bb32c['height']=_0x4cbbd7['height']),_0x4cbbd7['spriteAsse'+'t']!==void(-0x923*-0x3+0x32*0x20+-0x4cf*0x7)&&(_0x5bb32c['spriteAsse'+'t']=_0x4cbbd7['spriteAsse'+'t']),_0x4cbbd7['sprite']&&(_0x5bb32c['sprite']=_0x4cbbd7['sprite']),_0x4cbbd7['frame']!==void(-0x16b1+-0x4ef*0x5+0x2f5c)&&(_0x5bb32c['frame']=_0x4cbbd7['frame']),_0x4cbbd7['clips']){for(const _0xf982bd in _0x4cbbd7['clips'])_0x5bb32c['addClip'](_0x4cbbd7['clips'][_0xf982bd]);}_0x4cbbd7['speed']!==void(0x1954+0x5cf*0x1+-0x1f23)&&(_0x5bb32c['speed']=_0x4cbbd7['speed']),_0x4cbbd7['autoPlayCl'+'ip']&&(_0x5bb32c['autoPlayCl'+'ip']=_0x4cbbd7['autoPlayCl'+'ip']),_0x5bb32c['batchGroup'+'Id']=_0x4cbbd7['batchGroup'+'Id']===void(-0xbf5+0x15c1+-0x9cc)||_0x4cbbd7['batchGroup'+'Id']===null?-(0x19*0x4e+-0x196f+0x8e9*0x2):_0x4cbbd7['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x5bb32c,_0x4cbbd7,_0x553377);}['cloneCompo'+'nent'](_0x2d33c7,_0x53f154){const _0x2d0814=_0x2d33c7['sprite'];return this['addCompone'+'nt'](_0x53f154,{'enabled':_0x2d0814['enabled'],'type':_0x2d0814['type'],'spriteAsset':_0x2d0814['spriteAsse'+'t'],'sprite':_0x2d0814['sprite'],'width':_0x2d0814['width'],'height':_0x2d0814['height'],'frame':_0x2d0814['frame'],'color':_0x2d0814['color']['clone'](),'opacity':_0x2d0814['opacity'],'flipX':_0x2d0814['flipX'],'flipY':_0x2d0814['flipY'],'speed':_0x2d0814['speed'],'clips':_0x2d0814['clips'],'autoPlayClip':_0x2d0814['autoPlayCl'+'ip'],'batchGroupId':_0x2d0814['batchGroup'+'Id'],'drawOrder':_0x2d0814['drawOrder'],'layers':_0x2d0814['layers']['slice'](0x233d+0x3*-0x11f+-0x3*0xaa0)});}['onUpdate'](_0x3dc147){const _0x4f979c=this['store'];for(const _0x14a36c in _0x4f979c)if(_0x4f979c['hasOwnProp'+'erty'](_0x14a36c)){const _0x3a6ebb=_0x4f979c[_0x14a36c];if(_0x3a6ebb['data']['enabled']&&_0x3a6ebb['entity']['enabled']){const _0x4b00eb=_0x3a6ebb['entity']['sprite'];_0x4b00eb['_currentCl'+'ip']&&_0x4b00eb['_currentCl'+'ip']['_update'](_0x3dc147);}}}['onBeforeRe'+'move'](_0x4823b6,_0x41c74a){_0x41c74a['onDestroy']();}}we['_buildAcce'+'ssors'](ur['prototype'],f0);class _n extends we{constructor(_0x460512,_0x1e88ec){super(_0x460512,_0x1e88ec),this['_oldState']=!(-0x70c+-0x1ea8+0x25b4),this['_size']=new D(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0xcfbf7){_0xcfbf7 instanceof D?this['_size']['copy'](_0xcfbf7):_0xcfbf7 instanceof Array&&_0xcfbf7['length']>=0x1*-0x1786+-0x4*0x5e3+-0x1*-0x2f15&&this['size']['set'](_0xcfbf7[0xb95+-0xa7b+-0x11a],_0xcfbf7[0x2460+-0x238c+0x1*-0xd3],_0xcfbf7[0xa88+-0x14ca+0xa44]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x3bfd84,_0x3f0d26,_0x4971a3){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x2d6a31=this['enabled']&&this['entity']['enabled'];_0x2d6a31!==this['_oldState']&&(this['_oldState']=_0x2d6a31,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}h(_n,'EVENT_ENAB'+'LE','enable'),h(_n,'EVENT_DISA'+'BLE','disable'),h(_n,'EVENT_STAT'+'E','state'),h(_n,'EVENT_REMO'+'VE','remove');class _F{constructor(){this['enabled']=!(0x2*-0x3f1+-0x1728+-0x112*-0x1d);}}const u0=['enabled'];class gF extends ct{constructor(_0x2f647e){super(_0x2f647e),this['id']='zone',this['ComponentT'+'ype']=_n,this['DataType']=_F,this['schema']=u0,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x20a408,_0xce3054,_0x5964c7){_0x20a408['enabled']=_0xce3054['hasOwnProp'+'erty']('enabled')?!!_0xce3054['enabled']:!(0x2*-0x1206+0xac1*0x2+0x1*0xe8a),_0xce3054['size']&&(_0xce3054['size']instanceof D?_0x20a408['size']['copy'](_0xce3054['size']):_0xce3054['size']instanceof Array&&_0xce3054['size']['length']>=-0x1e3*0x1+-0x124d*-0x1+-0x1067&&_0x20a408['size']['set'](_0xce3054['size'][0x2*0x7fa+-0x2086+0xe*0x12f],_0xce3054['size'][-0x1692+-0x1c2d+0x32c0],_0xce3054['size'][0x43*0x1+-0x1c0a+0x1bc9]));}['cloneCompo'+'nent'](_0x52952a,_0x2dc1c4){const _0x1100ac={'enabled':_0x52952a['zone']['enabled'],'size':_0x52952a['zone']['size']};return this['addCompone'+'nt'](_0x2dc1c4,_0x1100ac);}['_onBeforeR'+'emove'](_0xe5bdcb,_0x16fdcd){_0x16fdcd['_onBeforeR'+'emove']();}}we['_buildAcce'+'ssors'](_n['prototype'],u0);class SF{constructor(_0xd7b649,_0x3e90db){this['effect']=_0xd7b649,this['inputTarge'+'t']=_0x3e90db,this['outputTarg'+'et']=null,this['name']=_0xd7b649['constructo'+'r']['name'];}}class yF{constructor(_0x2f16ee,_0x7d947f){this['app']=_0x2f16ee,this['camera']=_0x7d947f,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(0x3*0x33e+0x8d*0x13+0x4*-0x50c),this['depthTarge'+'t']=null,_0x7d947f['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0xcc3364,_0x378c9f){const _0x36acd6=this['camera']['rect'],_0x5afc51=this['destinatio'+'nRenderTar'+'get'],_0x3a8118=this['app']['graphicsDe'+'vice'],_0x9888c=Math['floor'](_0x36acd6['z']*((_0x5afc51==null?void(0x12ba+-0xfcb+0x1*-0x2ef):_0x5afc51['width'])??_0x3a8118['width'])),_0x2bc6b2=Math['floor'](_0x36acd6['w']*((_0x5afc51==null?void(0x61*-0x57+-0x1254+-0x334b*-0x1):_0x5afc51['height'])??_0x3a8118['height']));return new _e(_0x3a8118,{'name':_0x378c9f,'format':_0xcc3364,'width':_0x9888c,'height':_0x2bc6b2,'mipmaps':!(0x18a*-0x17+-0xd8f+-0x1052*-0x3),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});}['_createOff'+'screenTarg'+'et'](_0x20db74,_0x93d98c){const _0x1249d8=this['app']['graphicsDe'+'vice'],_0x40802d=(this['destinatio'+'nRenderTar'+'get']??_0x1249d8['backBuffer'])['isColorBuf'+'ferSrgb'](-0x153e+0x1f5a+-0x50e*0x2),_0x245d60=(_0x93d98c&&_0x1249d8['getRendera'+'bleHdrForm'+'at']([nt,Xt],!(-0xf*-0x1df+0x1147*0x1+0x2d58*-0x1)))??(_0x40802d?_s:Ne),_0x50c534=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x50f6bf=this['_allocateC'+'olorBuffer'](_0x245d60,_0x50c534);return new gt({'colorBuffer':_0x50f6bf,'depth':_0x20db74,'stencil':_0x20db74&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0x20db74?_0x1249d8['samples']:-0x35*0x3f+0x1b2*0x1+-0x2*-0x5ad});}['_resizeOff'+'screenTarg'+'et'](_0x319084){const _0x53bd4a=_0x319084['colorBuffe'+'r']['format'],_0x3f5991=_0x319084['colorBuffe'+'r']['name'];_0x319084['destroyFra'+'meBuffers'](),_0x319084['destroyTex'+'tureBuffer'+'s'](),_0x319084['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x53bd4a,_0x3f5991),_0x319084['_colorBuff'+'ers']=[_0x319084['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x47448f){_0x47448f['destroyTex'+'tureBuffer'+'s'](),_0x47448f['destroy']();}['addEffect'](_0x59f6e5){const _0x36ff86=this['effects'],_0x27948c=_0x36ff86['length']===0x163c+0x4c1*0x2+0x1*-0x1fbe,_0x4ae2ac=this['_createOff'+'screenTarg'+'et'](_0x27948c,_0x59f6e5['hdr']),_0x12a4dd=new SF(_0x59f6e5,_0x4ae2ac);_0x36ff86['push'](_0x12a4dd),this['_sourceTar'+'get']=_0x12a4dd['inputTarge'+'t'],_0x36ff86['length']>0x182d+-0x14*-0x89+-0x5d*0x60&&(_0x36ff86[_0x36ff86['length']-(-0x1*-0x610+-0x1c7*0x4+0x10e)]['outputTarg'+'et']=_0x12a4dd['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x59f6e5,_0x59f6e5['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(-0x1e6c+-0x5*-0x111+0x1917);}['removeEffe'+'ct'](_0x45c9a6){let _0x4f5c92=-(0xed3+-0x1c30+-0x1d*-0x76);for(let _0x3efdbe=0x573+0x2*0x1115+-0x279d,_0x5cdd2b=this['effects']['length'];_0x3efdbe<_0x5cdd2b;_0x3efdbe++)if(this['effects'][_0x3efdbe]['effect']===_0x45c9a6){_0x4f5c92=_0x3efdbe;break;}_0x4f5c92>=-0xca3+0x2592+-0x1eb*0xd&&(_0x4f5c92>0x52d*0x3+0xe96+0xd*-0x251?this['effects'][_0x4f5c92-(-0x2458+-0xc4d+0x1853*0x2)]['outputTarg'+'et']=_0x4f5c92+(-0x16a*0x1a+0x1f6c+0x559)<this['effects']['length']?this['effects'][_0x4f5c92+(-0x4*0x1cf+-0xe6a+0xf1*0x17)]['inputTarge'+'t']:null:this['effects']['length']>0x1fc0+-0x83*-0x43+-0x8*0x841&&(this['effects'][-0x192a+0x851*0x2+0x889]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][-0x200e+-0x3*0x26b+0x10*0x275]['inputTarge'+'t']),this['effects'][0x3c6+-0x693+0x2ce]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(0x2250+-0x5*-0x74b+-0x46c7*0x1),this['effects'][0xce2+-0x1f*-0x12a+-0x30f7]['hdr']),this['_sourceTar'+'get']=this['effects'][0x5*-0x7c3+0x195c+0xd74]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][-0x7c*0x36+-0x4*-0x875+-0x7ab]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x4f5c92]['inputTarge'+'t']),this['effects']['splice'](_0x4f5c92,0x3d*-0x52+0x1a44+-0x6b9)),this['enabled']&&_0x45c9a6['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===-0xad*-0x38+0x1*0x1fa3+-0x457b&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x194f6e=-0x2*-0xd74+-0x289+-0x185f,_0x7978a=this['effects']['length'];_0x194f6e<_0x7978a;_0x194f6e++){const _0x21520d=this['effects'][_0x194f6e]['effect'];this['_newPostEf'+'fect']!==_0x21520d&&_0x21520d['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x4f270d=0x1f7*-0xd+-0x1a99+0x3424,_0x5c59ae=this['effects']['length'];_0x4f270d<_0x5c59ae;_0x4f270d++)this['effects'][_0x4f270d]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x787b74=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x787b74&&(_0x787b74['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(-0x3*-0x315+-0x2606+0x1cc7*0x1)));}['_releaseDe'+'pthMap'](){const _0x3aba4a=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x3aba4a&&(_0x3aba4a['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x5df*0x5+-0x5c6+-0x1794)));}['destroy'](){for(let _0x18698d=0x221*-0x3+0x185b+0x4*-0x47e,_0x728d85=this['effects']['length'];_0x18698d<_0x728d85;_0x18698d++)this['effects'][_0x18698d]['inputTarge'+'t']['destroy']();this['effects']['length']=0x17cf*0x1+-0x1*0x1a6b+0x29c,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(0x12*0xa8+-0x1*0x8dd+-0x97*0x5),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][0x85d*0x2+-0x18b5+0x7fb]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x631630=null;const _0x927b49=this['effects']['length'];if(_0x927b49)for(let _0x490b7e=0x165b+0xf0c+-0x17f*0x19;_0x490b7e<_0x927b49;_0x490b7e++){const _0x36e99e=this['effects'][_0x490b7e];let _0x539f92=_0x36e99e['outputTarg'+'et'];_0x490b7e===_0x927b49-(-0x2c3*-0x2+0x3ed*-0x4+0x21*0x4f)&&(_0x631630=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x539f92=this['destinatio'+'nRenderTar'+'get'])),Q['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0x36e99e['name']),_0x36e99e['effect']['render'](_0x36e99e['inputTarge'+'t'],_0x539f92,_0x631630),Q['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(0x854+0x22ec+-0x1*0x2b3f),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x544120,_0x4ef705){const _0x4f61bf=this['camera']['rect'],_0x2480a2=this['destinatio'+'nRenderTar'+'get'];_0x544120=(_0x2480a2==null?void(0x78b*0x1+-0xc*0x232+-0x12cd*-0x1):_0x2480a2['width'])??_0x544120,_0x4ef705=(_0x2480a2==null?void(0x2d*-0xb+0x1*0x579+-0x38a):_0x2480a2['height'])??_0x4ef705,this['camera']['camera']['aspectRati'+'o']=_0x544120*_0x4f61bf['z']/(_0x4ef705*_0x4f61bf['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x152825=this['app']['graphicsDe'+'vice'],_0xc17beb=this['destinatio'+'nRenderTar'+'get'],_0x3ca65c=(_0xc17beb==null?void(0x568+0xb*-0xb6+0x26a):_0xc17beb['width'])??_0x152825['width'],_0x1b42df=(_0xc17beb==null?void(0xc04+0x19e8*-0x1+0xde4):_0xc17beb['height'])??_0x152825['height'],_0x3a583e=this['camera']['rect'],_0x32f7df=Math['floor'](_0x3a583e['z']*_0x3ca65c),_0x219041=Math['floor'](_0x3a583e['w']*_0x1b42df),_0x227bb1=this['effects'];for(let _0x3cc03c=0x44+-0x461+0x1b*0x27,_0x38346a=_0x227bb1['length'];_0x3cc03c<_0x38346a;_0x3cc03c++){const _0xb4d8ec=_0x227bb1[_0x3cc03c];(_0xb4d8ec['inputTarge'+'t']['width']!==_0x32f7df||_0xb4d8ec['inputTarge'+'t']['height']!==_0x219041)&&this['_resizeOff'+'screenTarg'+'et'](_0xb4d8ec['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x3d3573,_0x5dae4e,_0x58e46f){this['enabled']&&this['resizeRend'+'erTargets']();}}class Ir extends we{constructor(_0x47a57f,_0x36c056){super(_0x47a57f,_0x36c056),h(this,'onPostproc'+'essing',null),h(this,'_renderSce'+'neDepthMap',-0x14dd+0x1*-0x10b1+0x258e),h(this,'_renderSce'+'neColorMap',0x1*0x2282+-0x149+-0x6a5*0x5),h(this,'_sceneDept'+'hMapReques'+'ted',!(0x666+-0x2f8*0x6+0x25*0x4f)),h(this,'_sceneColo'+'rMapReques'+'ted',!(-0x10*-0x98+0x21e1+-0x4*0xad8)),h(this,'_priority',0x3a*0x8f+0xd7c+-0x2de2),h(this,'_disablePo'+'stEffectsL'+'ayer',Il),h(this,'_camera',new Fl()),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x36c056,this['_postEffec'+'ts']=new yF(_0x47a57f['app'],this));}['setShaderP'+'ass'](_0x5cd349){const _0x5918b4=Si['get'](this['system']['app']['graphicsDe'+'vice']),_0xda0373=_0x5cd349?_0x5918b4['allocate'](_0x5cd349,{'isForward':!(-0x841*0x2+-0xf09*-0x2+0x8*-0x1b2)}):null;return this['_camera']['shaderPass'+'Info']=_0xda0373,_0xda0373['index'];}['getShaderP'+'ass'](){var _0x2e8c86;return(_0x2e8c86=this['_camera']['shaderPass'+'Info'])==null?void(-0x22*-0x11+0x5ea+-0x82c):_0x2e8c86['name'];}set['renderPass'+'es'](_0x465af4){this['_camera']['renderPass'+'es']=_0x465af4||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(-0xaeb+-0x859*-0x3+0xe2*-0x10);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x49b679){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x49b679;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0x37dc87){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0x37dc87;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x4b6ade){this['_camera']['fogParams']=_0x4b6ade;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x3b55df){this['_camera']['aperture']=_0x3b55df;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x55473c){this['_camera']['aspectRati'+'o']=_0x55473c;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x23abbe){this['_camera']['aspectRati'+'oMode']=_0x23abbe;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x20141e){this['_camera']['calculateP'+'rojection']=_0x20141e;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x3eb747){this['_camera']['calculateT'+'ransform']=_0x3eb747;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0xfb7c2c){this['_camera']['clearColor']=_0xfb7c2c;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x4dab3c){this['_camera']['clearColor'+'Buffer']=_0x4dab3c,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x3eca4b){this['_camera']['clearDepth'+'Buffer']=_0x3eca4b,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x98a07a){this['_camera']['clearStenc'+'ilBuffer']=_0x98a07a,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x3c4184){this['_camera']['cullFaces']=_0x3c4184;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x196936){this['_disablePo'+'stEffectsL'+'ayer']=_0x196936,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x28bc5f){this['_camera']['farClip']=_0x28bc5f;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0xb2963b){this['_camera']['flipFaces']=_0xb2963b;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x50ee83){this['_camera']['fov']=_0x50ee83;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0x17cf5c){this['_camera']['frustumCul'+'ling']=_0x17cf5c;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x17d4d4){this['_camera']['horizontal'+'Fov']=_0x17d4d4;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x383919){const _0x59c7cd=this['_camera']['layers'],_0x11217b=this['system']['app']['scene'];_0x59c7cd['forEach'](_0x21504d=>{const _0x1f9f61=_0x11217b['layers']['getLayerBy'+'Id'](_0x21504d);_0x1f9f61==null||_0x1f9f61['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x383919,this['enabled']&&this['entity']['enabled']&&_0x383919['forEach'](_0xaa3176=>{const _0x392971=_0x11217b['layers']['getLayerBy'+'Id'](_0xaa3176);_0x392971==null||_0x392971['addCamera'](this);}),this['fire']('set:layers');}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x1a4ad8){this['_camera']['jitter']=_0x1a4ad8;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x12bfb8){this['_camera']['nearClip']=_0x12bfb8;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x3ee250){this['_camera']['orthoHeigh'+'t']=_0x3ee250;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x2741c1){this['_priority']=_0x2741c1,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0xad1c51){this['_camera']['projection']=_0xad1c51;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x44b8b5){this['_camera']['rect']=_0x44b8b5,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x2ffbcc){_0x2ffbcc&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(-0x71*-0xd+-0x1b9d+0x32*0x70)),this['_sceneColo'+'rMapReques'+'ted']=!(0x11e5+0x4*0x36d+-0x1f99*0x1)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(0x1*0x145c+-0xf*-0xec+-0x222f)),this['_sceneColo'+'rMapReques'+'ted']=!(-0x6fd*-0x2+-0x6f5+-0x382*0x2));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>0x149*0x1a+0x967+-0x2ad1;}set['renderScen'+'eDepthMap'](_0x452ff3){_0x452ff3&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(0x95*-0x19+-0x19ba+0x2847)),this['_sceneDept'+'hMapReques'+'ted']=!(0x11*0x109+-0xbf*0x3+-0x3d7*0x4)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(0x208d+-0x9e+0x2*-0xff7)),this['_sceneDept'+'hMapReques'+'ted']=!(0xca7*0x1+0xaad*0x1+0x1*-0x1753));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>0x1*0x135b+0x6cf+-0x1a2a;}set['renderTarg'+'et'](_0x459b63){w['call'](()=>{this['_camera']['renderPass'+'es']['length']>0x1*-0x62f+-0x136e+0x199d&&w['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x459b63,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x54ff38){this['_camera']['scissorRec'+'t']=_0x54ff38;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x206e30){this['_camera']['sensitivit'+'y']=_0x206e30;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x11e78c){this['_camera']['shutter']=_0x11e78c;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x4a273c){if(this['layers']['find'](_0x3852c4=>_0x3852c4===ps)){const _0x234137=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x4a273c?_0x234137==null||_0x234137['incrementC'+'ounter']():_0x234137==null||_0x234137['decrementC'+'ounter']();}else{if(_0x4a273c)return!(-0x1*-0x203+-0x83*0x15+-0x1*-0x8bd);}return!(0x1*0x773+0xc22+-0x1395);}['requestSce'+'neColorMap'](_0x43f040){this['_renderSce'+'neColorMap']+=_0x43f040?-0x7bf*0x1+-0x1360+0x1b20:-(0x108a+0x3*-0xa46+0xe49),w['assert'](this['_renderSce'+'neColorMap']>=-0x25fb+0xa8*0x3a+-0x15),this['_enableDep'+'thLayer'](_0x43f040)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']),this['system']['app']['scene']['layers']['markDirty']();}['requestSce'+'neDepthMap'](_0x505b42){this['_renderSce'+'neDepthMap']+=_0x505b42?0x1f74+-0x2404+0x491:-(-0xfaf*-0x1+-0x1*0xf45+-0x69),w['assert'](this['_renderSce'+'neDepthMap']>=-0x1886+0x117*-0x1+0x4f*0x53),this['_enableDep'+'thLayer'](_0x505b42)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']),this['system']['app']['scene']['layers']['markDirty']();}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x3e9706=this['system']['app']['scene']['layers'];_0x3e9706['_dirty']=!(0xd*0x8d+-0x755*0x2+0x781);}['screenToWo'+'rld'](_0x1777d2,_0xf707a8,_0x32018a,_0x28f462){const _0x1967d1=this['system']['app']['graphicsDe'+'vice'],{width:_0x25c17b,height:_0x591314}=_0x1967d1['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x1777d2,_0xf707a8,_0x32018a,_0x25c17b,_0x591314,_0x28f462);}['worldToScr'+'een'](_0x48a39d,_0x1b47de){const _0x219941=this['system']['app']['graphicsDe'+'vice'],{width:_0x50f115,height:_0x570b7c}=_0x219941['clientRect'];return this['_camera']['worldToScr'+'een'](_0x48a39d,_0x50f115,_0x570b7c,_0x1b47de);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(-0x10*0xa3+0x4*-0x209+0x3*0x61c),this['_camera']['_viewProjM'+'atDirty']=!(-0x99+0x47f*-0x7+0x66a*0x5);}['addCameraT'+'oLayers'](){const _0x176aee=this['layers'];for(let _0x21b650=-0x1cf*0xb+-0x1442+0x2827;_0x21b650<_0x176aee['length'];_0x21b650++){const _0x5819d5=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x176aee[_0x21b650]);_0x5819d5&&_0x5819d5['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x3b9d46=this['layers'];for(let _0x545997=0x1fe*0x2+0x61f+-0xa1b*0x1;_0x545997<_0x3b9d46['length'];_0x545997++){const _0x4c7d46=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x3b9d46[_0x545997]);_0x4c7d46&&_0x4c7d46['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0x4bacb6,_0x5c1d42){this['addCameraT'+'oLayers'](),_0x4bacb6['off']('add',this['onLayerAdd'+'ed'],this),_0x4bacb6['off']('remove',this['onLayerRem'+'oved'],this),_0x5c1d42['on']('add',this['onLayerAdd'+'ed'],this),_0x5c1d42['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x4d4c2e){this['layers']['indexOf'](_0x4d4c2e['id'])<0x9*-0x327+0x1885*-0x1+0x34e4||_0x4d4c2e['addCamera'](this);}['onLayerRem'+'oved'](_0x226105){this['layers']['indexOf'](_0x226105['id'])<0xcf0+-0x9*0x41d+0x4d1*0x5||_0x226105['removeCame'+'ra'](this);}['onEnable'](){var _0x14de0c,_0x4e4830,_0xaf9b2;const _0x3482a0=this['system']['app']['scene'],_0xea94ff=_0x3482a0['layers'];this['system']['addCamera'](this),(_0x14de0c=this['_evtLayers'+'Changed'])==null||_0x14de0c['off'](),this['_evtLayers'+'Changed']=_0x3482a0['on']('set:layers',this['onLayersCh'+'anged'],this),_0xea94ff&&((_0x4e4830=this['_evtLayerA'+'dded'])==null||_0x4e4830['off'](),this['_evtLayerA'+'dded']=_0xea94ff['on']('add',this['onLayerAdd'+'ed'],this),(_0xaf9b2=this['_evtLayerR'+'emoved'])==null||_0xaf9b2['off'](),this['_evtLayerR'+'emoved']=_0xea94ff['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x5f475f,_0xc11668,_0x4fd138;const _0x6b759f=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x5f475f=this['_evtLayers'+'Changed'])==null||_0x5f475f['off'](),this['_evtLayers'+'Changed']=null,_0x6b759f&&((_0xc11668=this['_evtLayerA'+'dded'])==null||_0xc11668['off'](),this['_evtLayerA'+'dded']=null,(_0x4fd138=this['_evtLayerR'+'emoved'])==null||_0x4fd138['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x1ec739){const _0x443e1d=this['system']['app']['graphicsDe'+'vice'],_0x3c328e=_0x1ec739?_0x1ec739['width']:_0x443e1d['width'],_0x5c5c91=_0x1ec739?_0x1ec739['height']:_0x443e1d['height'];return _0x3c328e*this['rect']['z']/(_0x5c5c91*this['rect']['w']);}['frameUpdat'+'e'](_0x439546){this['aspectRati'+'oMode']===hm&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x439546));}['startXr'](_0x51b654,_0x3aac03,_0x3402f7){this['system']['app']['xr']['start'](this,_0x51b654,_0x3aac03,_0x3402f7);}['endXr'](_0x452b90){if(!this['_camera']['xr']){_0x452b90&&_0x452b90(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x452b90);}['copy'](_0x24a56c){this['aperture']=_0x24a56c['aperture'],this['aspectRati'+'o']=_0x24a56c['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x24a56c['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x24a56c['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x24a56c['calculateT'+'ransform'],this['clearColor']=_0x24a56c['clearColor'],this['clearColor'+'Buffer']=_0x24a56c['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x24a56c['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x24a56c['clearStenc'+'ilBuffer'],this['cullFaces']=_0x24a56c['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x24a56c['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x24a56c['farClip'],this['flipFaces']=_0x24a56c['flipFaces'],this['fov']=_0x24a56c['fov'],this['frustumCul'+'ling']=_0x24a56c['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x24a56c['horizontal'+'Fov'],this['layers']=_0x24a56c['layers'],this['nearClip']=_0x24a56c['nearClip'],this['orthoHeigh'+'t']=_0x24a56c['orthoHeigh'+'t'],this['priority']=_0x24a56c['priority'],this['projection']=_0x24a56c['projection'],this['rect']=_0x24a56c['rect'],this['renderTarg'+'et']=_0x24a56c['renderTarg'+'et'],this['scissorRec'+'t']=_0x24a56c['scissorRec'+'t'],this['sensitivit'+'y']=_0x24a56c['sensitivit'+'y'],this['shutter']=_0x24a56c['shutter'];}}class vF{constructor(){this['enabled']=!(-0xf5*-0x1a+-0xa*0x146+0x137*-0xa);}}const p0=['enabled'];class xF extends ct{constructor(_0x2b75d1){super(_0x2b75d1),h(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=Ir,this['DataType']=vF,this['schema']=p0,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x389ccc,_0x13e76f,_0x47ee51){_0x47ee51=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fog','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x236492=0x109f*0x1+0x1*0x1c5b+0x13*-0x25e;_0x236492<_0x47ee51['length'];_0x236492++){const _0x15aad5=_0x47ee51[_0x236492];if(_0x13e76f['hasOwnProp'+'erty'](_0x15aad5)){const _0x46e001=_0x13e76f[_0x15aad5];switch(_0x15aad5){case'rect':case'scissorRec'+'t':Array['isArray'](_0x46e001)?_0x389ccc[_0x15aad5]=new re(_0x46e001[-0x191b+0x1579+-0x1f*-0x1e],_0x46e001[0xffe+-0x5*0x5e3+0xd72],_0x46e001[0xb8*-0xc+0x22c6+-0x1a24],_0x46e001[0xbf1+0xc9c+-0x188a]):_0x389ccc[_0x15aad5]=_0x46e001;break;case'clearColor':Array['isArray'](_0x46e001)?_0x389ccc[_0x15aad5]=new ie(_0x46e001[0x13*-0x12f+0x9f2+0x13*0xa9],_0x46e001[-0xbd8+-0x2391+-0x33*-0xee],_0x46e001[-0x4*0x5fc+-0x4cf*0x1+-0x1b1*-0x11],_0x46e001[0x10b*-0x6+-0x1*0x10a2+0x16e7]):_0x389ccc[_0x15aad5]=_0x46e001;break;default:_0x389ccc[_0x15aad5]=_0x46e001;break;}}}super['initialize'+'ComponentD'+'ata'](_0x389ccc,_0x13e76f,['enabled']);}['cloneCompo'+'nent'](_0x233414,_0x57616b){const _0x1afa16=_0x233414['camera'];return this['addCompone'+'nt'](_0x57616b,{'aspectRatio':_0x1afa16['aspectRati'+'o'],'aspectRatioMode':_0x1afa16['aspectRati'+'oMode'],'calculateProjection':_0x1afa16['calculateP'+'rojection'],'calculateTransform':_0x1afa16['calculateT'+'ransform'],'clearColor':_0x1afa16['clearColor'],'clearColorBuffer':_0x1afa16['clearColor'+'Buffer'],'clearDepthBuffer':_0x1afa16['clearDepth'+'Buffer'],'clearStencilBuffer':_0x1afa16['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0x1afa16['renderScen'+'eDepthMap'],'renderSceneColorMap':_0x1afa16['renderScen'+'eColorMap'],'cullFaces':_0x1afa16['cullFaces'],'enabled':_0x1afa16['enabled'],'farClip':_0x1afa16['farClip'],'flipFaces':_0x1afa16['flipFaces'],'fov':_0x1afa16['fov'],'frustumCulling':_0x1afa16['frustumCul'+'ling'],'horizontalFov':_0x1afa16['horizontal'+'Fov'],'layers':_0x1afa16['layers'],'renderTarget':_0x1afa16['renderTarg'+'et'],'nearClip':_0x1afa16['nearClip'],'orthoHeight':_0x1afa16['orthoHeigh'+'t'],'projection':_0x1afa16['projection'],'priority':_0x1afa16['priority'],'rect':_0x1afa16['rect'],'scissorRect':_0x1afa16['scissorRec'+'t'],'aperture':_0x1afa16['aperture'],'sensitivity':_0x1afa16['sensitivit'+'y'],'shutter':_0x1afa16['shutter'],'gammaCorrection':_0x1afa16['gammaCorre'+'ction'],'toneMapping':_0x1afa16['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x1610c1,_0x106d13){this['removeCame'+'ra'](_0x106d13),_0x106d13['onRemove']();}['onAppPrere'+'nder'](){for(let _0x39bca7=-0x3*-0x40e+0x1c*-0x129+0x1*0x1452,_0x8dd052=this['cameras']['length'];_0x39bca7<_0x8dd052;_0x39bca7++)this['cameras'][_0x39bca7]['onAppPrere'+'nder']();}['addCamera'](_0x1818f7){this['cameras']['push'](_0x1818f7),ul(this['cameras']);}['removeCame'+'ra'](_0x4cfac0){const _0x1c44b6=this['cameras']['indexOf'](_0x4cfac0);_0x1c44b6>=0x7f*0x16+0x12e+-0xc18&&(this['cameras']['splice'](_0x1c44b6,0x1*0x2699+-0x2f*-0xb5+0xe3*-0x51),ul(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}we['_buildAcce'+'ssors'](Ir['prototype'],p0);class m0{constructor(){h(this,'enabled',!(0x23d3+0x4*0x2b+-0x247f*0x1)),h(this,'light'),h(this,'type','directiona'+'l'),h(this,'color',new ie(0x12*0x12+-0x1b8a+0x1a47,0x11e0+0x1b1*-0xd+0x41e,0x41f+0x1*-0x17f5+0x13d7)),h(this,'intensity',0x8eb+0xddc*0x1+0x247*-0xa),h(this,'luminance',-0xd1+0x824+-0x753),h(this,'shape',Ys),h(this,'affectSpec'+'ularity',!(0x1b*-0x3d+-0x15b3+0x1c22)),h(this,'castShadow'+'s',!(-0x2d*0x5+-0x7d*0x47+-0x13*-0x1df)),h(this,'shadowDist'+'ance',-0xcb6*0x3+0x188f+0xb9*0x13),h(this,'shadowInte'+'nsity',-0x4*-0x1a9+-0xf13+0x28*0x36),h(this,'shadowReso'+'lution',0x3d*0x35+-0x2587+0x1ce6),h(this,'shadowBias',0xe92+0x3*0x6ad+0x11*-0x209+0.05),h(this,'numCascade'+'s',-0x131e*-0x2+-0x157*-0x1a+0x5*-0xe9d),h(this,'cascadeBle'+'nd',-0x1*-0x1785+0xe2+-0x1867),h(this,'bakeNumSam'+'ples',0x237+0x239b+0x3*-0xc9b),h(this,'bakeArea',0x1*0x23b7+-0x1f4f+-0x468),h(this,'cascadeDis'+'tribution',-0x752+0x24*0x9a+-0x1*0xe56+0.5),h(this,'normalOffs'+'etBias',-0xa9d+-0x8f8*-0x2+-0x753),h(this,'range',-0xad7+0x1b41*0x1+0x20c*-0x8),h(this,'innerConeA'+'ngle',-0x1ed9+0x870+0x1691),h(this,'outerConeA'+'ngle',-0x3e3+-0x26c1+0x2ad1),h(this,'falloffMod'+'e',Qp),h(this,'shadowType',$s),h(this,'vsmBlurSiz'+'e',-0x2a9*0x2+-0x15c9+-0x2b7*-0xa),h(this,'vsmBlurMod'+'e',em),h(this,'vsmBias',(0x20d7+0x4c7+-0x259e+0.01)*(0x1*-0x2135+-0x1e6f+0xfe9*0x4+0.25)),h(this,'cookieAsse'+'t',null),h(this,'cookie',null),h(this,'cookieInte'+'nsity',-0x21a+-0x1cc0+0x1*0x1edb),h(this,'cookieFall'+'off',!(-0x14*0x127+0x1cd4+-0x5c8)),h(this,'cookieChan'+'nel','rgb'),h(this,'cookieAngl'+'e',-0x8*0xe5+-0xbce*0x3+0x2a92),h(this,'cookieScal'+'e',null),h(this,'cookieOffs'+'et',null),h(this,'shadowUpda'+'teMode',lm),h(this,'mask',-0x2463+-0x13e3+-0x1*-0x3847),h(this,'affectDyna'+'mic',!(0xab7+-0x157a+0xac3)),h(this,'affectLigh'+'tmapped',!(-0xb8d+-0x1717*0x1+0x7*0x4f3)),h(this,'bake',!(-0x1*-0xeaa+0x20f5*0x1+-0x2f9e)),h(this,'bakeDir',!(-0xa*0x73+-0x12*0xd1+-0x998*-0x2)),h(this,'isStatic',!(0x1e83+-0x2*0x120a+0x592)),h(this,'layers',[er]),h(this,'penumbraSi'+'ze',0x725+0x1d93+-0x1*0x24b7),h(this,'penumbraFa'+'lloff',0x1646+0x57*-0x52+-0x1*-0x599),h(this,'shadowSamp'+'les',0x1a21+-0x1b87+0x176),h(this,'shadowBloc'+'kerSamples',0xcf*0x1d+-0x709+0x1a*-0xa1);}}const Ho=Object['keys'](new m0());class TF extends we{constructor(){super(...arguments),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_cookieAss'+'et',null),h(this,'_cookieAss'+'etId',null),h(this,'_cookieAss'+'etAdd',!(0x50e*-0x1+-0x560+0xa6f)),h(this,'_cookieMat'+'rix',null);}get['data'](){const _0x539c3e=this['system']['store'][this['entity']['getGuid']()];return _0x539c3e?_0x539c3e['data']:null;}set['enabled'](_0x47ccaa){this['_setValue']('enabled',_0x47ccaa,function(_0x5e71bc,_0x4e4634){this['onSetEnabl'+'ed'](null,_0x4e4634,_0x5e71bc);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x456671){this['_setValue']('light',_0x456671);}get['light'](){return this['data']['light'];}set['type'](_0x1f7f94){this['_setValue']('type',_0x1f7f94,function(_0x151413,_0x182993){this['system']['changeType'](this,_0x182993,_0x151413),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x35d610){this['_setValue']('color',_0x35d610,function(_0x150156,_0x429439){this['light']['setColor'](_0x150156);},!(-0x13b7+-0x922*0x3+0x2f1d));}get['color'](){return this['data']['color'];}set['intensity'](_0x11978d){this['_setValue']('intensity',_0x11978d,function(_0x20f69e,_0x262ffb){this['light']['intensity']=_0x20f69e;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x540835){this['_setValue']('luminance',_0x540835,function(_0x12274d,_0x3ad8a0){this['light']['luminance']=_0x12274d;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x3d5182){this['_setValue']('shape',_0x3d5182,function(_0x4f0dc3,_0x587d4c){this['light']['shape']=_0x4f0dc3;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x3bddb4){this['_setValue']('affectSpec'+'ularity',_0x3bddb4,function(_0x55721d,_0x1b4b38){this['light']['affectSpec'+'ularity']=_0x55721d;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x240eb1){this['_setValue']('castShadow'+'s',_0x240eb1,function(_0x14b4ae,_0x5da714){this['light']['castShadow'+'s']=_0x14b4ae;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0x58ad0b){this['_setValue']('shadowDist'+'ance',_0x58ad0b,function(_0x2d2752,_0x3cfa74){this['light']['shadowDist'+'ance']=_0x2d2752;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x1aba89){this['_setValue']('shadowInte'+'nsity',_0x1aba89,function(_0x72850c,_0x8fb3b2){this['light']['shadowInte'+'nsity']=_0x72850c;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x47518e){this['_setValue']('shadowReso'+'lution',_0x47518e,function(_0xf19ad2,_0x546f24){this['light']['shadowReso'+'lution']=_0xf19ad2;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x32656b){this['_setValue']('shadowBias',_0x32656b,function(_0x24b1e1,_0x7958c0){this['light']['shadowBias']=-(-0x1e59*0x1+-0xb8*-0x1d+-0x981*-0x1+0.01)*Y['clamp'](_0x24b1e1,-0x3e4+0x33*0x68+0x435*-0x4,0x18ee+0x48+-0x1935);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x1a3864){this['_setValue']('numCascade'+'s',_0x1a3864,function(_0x540633,_0x2a7de6){this['light']['numCascade'+'s']=Y['clamp'](Math['floor'](_0x540633),0x4*0x7cd+0x1409+0x6*-0x88a,-0x126f*-0x1+-0xb*-0xbf+0x47*-0x60);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0x49c8c0){this['_setValue']('cascadeBle'+'nd',_0x49c8c0,function(_0xb79f11,_0xc400be){this['light']['cascadeBle'+'nd']=Y['clamp'](_0xb79f11,-0x9b0+-0x721*0x5+0x5*0x911,-0x1*0xd05+0x1*0x8eb+0x1*0x41b);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0x1763ec){this['_setValue']('bakeNumSam'+'ples',_0x1763ec,function(_0x5debdb,_0x3b462d){this['light']['bakeNumSam'+'ples']=Y['clamp'](Math['floor'](_0x5debdb),0x2638+-0xb99+-0x1a9e,-0x23ad+0xec7+0x15e5);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0x14a1d0){this['_setValue']('bakeArea',_0x14a1d0,function(_0x42c0c1,_0x56b540){this['light']['bakeArea']=Y['clamp'](_0x42c0c1,0x1b0a+-0xc7a+-0xe90,0xcac+-0x272*-0xa+0x3*-0xc24);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x640bb4){this['_setValue']('cascadeDis'+'tribution',_0x640bb4,function(_0x22ec41,_0x746b3a){this['light']['cascadeDis'+'tribution']=Y['clamp'](_0x22ec41,-0x341+-0x1da1+0x20e2,-0xa7e*-0x1+-0xd87+-0x2*-0x185);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x28fd2e){this['_setValue']('normalOffs'+'etBias',_0x28fd2e,function(_0x2a9185,_0x1fd9b8){this['light']['normalOffs'+'etBias']=Y['clamp'](_0x2a9185,-0x2b0+0x2692+-0xbf6*0x3,-0x281*0xc+0xeaf+0xf5e);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0x581d2c){this['_setValue']('range',_0x581d2c,function(_0xd00b0e,_0x4b9ac9){this['light']['attenuatio'+'nEnd']=_0xd00b0e;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x3f4e4c){this['_setValue']('innerConeA'+'ngle',_0x3f4e4c,function(_0x4e9e51,_0x3515cb){this['light']['innerConeA'+'ngle']=_0x4e9e51;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0x4257f6){this['_setValue']('outerConeA'+'ngle',_0x4257f6,function(_0x460f99,_0x1ab0b8){this['light']['outerConeA'+'ngle']=_0x460f99;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0x2bd1b2){this['_setValue']('falloffMod'+'e',_0x2bd1b2,function(_0xf71fce,_0x37eea6){this['light']['falloffMod'+'e']=_0xf71fce;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x16bca1){this['_setValue']('shadowType',_0x16bca1,function(_0x4a010f,_0x5626b6){this['light']['shadowType']=_0x4a010f;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x56cc68){this['_setValue']('vsmBlurSiz'+'e',_0x56cc68,function(_0x139f06,_0x2c1a20){this['light']['vsmBlurSiz'+'e']=_0x139f06;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x4b1d8c){this['_setValue']('vsmBlurMod'+'e',_0x4b1d8c,function(_0x50203a,_0x77a081){this['light']['vsmBlurMod'+'e']=_0x50203a;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x35b437){this['_setValue']('vsmBias',_0x35b437,function(_0x39290b,_0x1f404c){this['light']['vsmBias']=Y['clamp'](_0x39290b,0x410*0x3+-0x1*-0xbb+0x1*-0xceb,-0x15ec+0x26e*0x1+-0x1*-0x137f);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x5460d6){this['_setValue']('cookieAsse'+'t',_0x5460d6,function(_0x51a873,_0xc691ba){if(!(this['_cookieAss'+'etId']&&(_0x51a873 instanceof pe&&_0x51a873['id']===this['_cookieAss'+'etId']||_0x51a873===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x51a873 instanceof pe)this['data']['cookieAsse'+'t']=_0x51a873['id'],this['_cookieAss'+'etId']=_0x51a873['id'],this['onCookieAs'+'setAdd'](_0x51a873);else{if(typeof _0x51a873=='number'){this['_cookieAss'+'etId']=_0x51a873;const _0x5db88b=this['system']['app']['assets']['get'](_0x51a873);_0x5db88b?this['onCookieAs'+'setAdd'](_0x5db88b):(this['_cookieAss'+'etAdd']=!(-0x20b0+-0x1b*-0x10b+0x487),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0x305e4a){this['_setValue']('cookie',_0x305e4a,function(_0x7ca952,_0x53a759){this['light']['cookie']=_0x7ca952;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x1372a7){this['_setValue']('cookieInte'+'nsity',_0x1372a7,function(_0x51c36d,_0x4bf95f){this['light']['cookieInte'+'nsity']=Y['clamp'](_0x51c36d,0x2065+-0x1*-0x1d+-0x2082,0xc46+0x21*0xa+-0xd8f);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0xd62489){this['_setValue']('cookieFall'+'off',_0xd62489,function(_0x2b7624,_0x2e105b){this['light']['cookieFall'+'off']=_0x2b7624;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x19eaf2){this['_setValue']('cookieChan'+'nel',_0x19eaf2,function(_0x2910a0,_0x5505d7){this['light']['cookieChan'+'nel']=_0x2910a0;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x2e2df7){this['_setValue']('cookieAngl'+'e',_0x2e2df7,function(_0x414cd1,_0x58d4c0){if(_0x414cd1!==-0x1fce+0x2566*-0x1+0x4534||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());let _0x5ac97c=0x6*-0x322+-0x2036+0x3303,_0x180209=-0xd8e*0x1+0x1e40+-0x1*0x10b1;this['cookieScal'+'e']&&(_0x5ac97c=this['cookieScal'+'e']['x'],_0x180209=this['cookieScal'+'e']['y']);const _0x55d558=Math['cos'](_0x414cd1*Y['DEG_TO_RAD']),_0x21b37a=Math['sin'](_0x414cd1*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x55d558/_0x5ac97c,-_0x21b37a/_0x5ac97c,_0x21b37a/_0x180209,_0x55d558/_0x180209),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x47c99f){this['_setValue']('cookieScal'+'e',_0x47c99f,function(_0x4101c2,_0x305379){if(_0x4101c2!==null||this['cookieAngl'+'e']!==0x114a*-0x2+0x2689+0x1*-0x3f5){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());const _0x2f744e=_0x4101c2['x'],_0x3a66c8=_0x4101c2['y'],_0x36dbdc=Math['cos'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']),_0x4ea49b=Math['sin'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x36dbdc/_0x2f744e,-_0x4ea49b/_0x2f744e,_0x4ea49b/_0x3a66c8,_0x36dbdc/_0x3a66c8),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(-0x39d+-0x1956+0x1cf3));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0x12a2a7){this['_setValue']('cookieOffs'+'et',_0x12a2a7,function(_0x252750,_0x3e372d){this['light']['cookieOffs'+'et']=_0x252750;},!(-0x2f3*-0x1+0x115*-0x7+0x4a0));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x10f259){this['_setValue']('shadowUpda'+'teMode',_0x10f259,function(_0x17cfa1,_0x47dd7b){this['light']['shadowUpda'+'teMode']=_0x17cfa1;},!(-0x3*-0x63+0xc4f*-0x2+0x1775));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x4d6ab2){this['_setValue']('mask',_0x4d6ab2,function(_0x12a318,_0x5929ed){this['light']['mask']=_0x12a318;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x3b18ba){this['_setValue']('affectDyna'+'mic',_0x3b18ba,function(_0x1904c2,_0x1805d0){_0x1904c2?this['light']['mask']|=Ss:this['light']['mask']&=~Ss,this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x4d21ec){this['_setValue']('affectLigh'+'tmapped',_0x4d21ec,function(_0x2c8d81,_0x73f468){_0x2c8d81?(this['light']['mask']|=di,this['bake']&&(this['light']['mask']&=~fi)):(this['light']['mask']&=~di,this['bake']&&(this['light']['mask']|=fi));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0xac5f11){this['_setValue']('bake',_0xac5f11,function(_0x58a494,_0x21ee94){_0x58a494?(this['light']['mask']|=fi,this['affectLigh'+'tmapped']&&(this['light']['mask']&=~di)):(this['light']['mask']&=~fi,this['affectLigh'+'tmapped']&&(this['light']['mask']|=di)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x16311f){this['_setValue']('bakeDir',_0x16311f,function(_0x278c68,_0x49cdd7){this['light']['bakeDir']=_0x278c68;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x3c13e8){this['_setValue']('isStatic',_0x3c13e8,function(_0x402e4e,_0x23afe3){this['light']['isStatic']=_0x402e4e;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0x5e4554){this['_setValue']('layers',_0x5e4554,function(_0x45762b,_0x283e97){for(let _0x896c11=0x1f78+-0xf*0xa1+0x1*-0x1609;_0x896c11<_0x283e97['length'];_0x896c11++){const _0x4b98db=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x283e97[_0x896c11]);_0x4b98db&&(_0x4b98db['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x4b98db));}for(let _0x145750=-0x1ebc+0xa59+0x1463;_0x145750<_0x45762b['length'];_0x145750++){const _0x33e5cf=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x45762b[_0x145750]);_0x33e5cf&&this['enabled']&&this['entity']['enabled']&&(_0x33e5cf['addLight'](this),this['light']['addLayer'](_0x33e5cf));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x1d2965){this['light']['shadowUpda'+'teOverride'+'s']=_0x1d2965;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x22ec01){this['light']['shadowSamp'+'les']=_0x22ec01;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x1426c5){this['light']['shadowBloc'+'kerSamples']=_0x1426c5;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0xaecfb1){this['light']['penumbraSi'+'ze']=_0xaecfb1;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0x484838){this['light']['penumbraFa'+'lloff']=_0x484838;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x9a90a8,_0x5bee32,_0x48e714,_0x5b3dff){const _0x4f7519=this['data'],_0x53892f=_0x4f7519[_0x9a90a8];!_0x5b3dff&&_0x53892f===_0x5bee32||(_0x4f7519[_0x9a90a8]=_0x5bee32,_0x48e714&&_0x48e714['call'](this,_0x5bee32,_0x53892f));}['addLightTo'+'Layers'](){for(let _0x5c7582=-0x167f+0x3c2*0x2+0x2ff*0x5;_0x5c7582<this['layers']['length'];_0x5c7582++){const _0x1015d9=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x5c7582]);_0x1015d9&&(_0x1015d9['addLight'](this),this['light']['addLayer'](_0x1015d9));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0x2dda1b=0x1793+-0x5c8+-0x38f*0x5;_0x2dda1b<this['layers']['length'];_0x2dda1b++){const _0x4d2887=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x2dda1b]);_0x4d2887&&(_0x4d2887['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x4d2887));}}['onLayersCh'+'anged'](_0x4d91b3,_0x287cbc){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x4d91b3['off']('add',this['onLayerAdd'+'ed'],this),_0x4d91b3['off']('remove',this['onLayerRem'+'oved'],this),_0x287cbc['on']('add',this['onLayerAdd'+'ed'],this),_0x287cbc['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x2daad4){this['layers']['indexOf'](_0x2daad4['id'])>=-0xee4+-0x3*0x8b8+0x290c&&this['enabled']&&this['entity']['enabled']&&(_0x2daad4['addLight'](this),this['light']['addLayer'](_0x2daad4));}['onLayerRem'+'oved'](_0x49e5d4){this['layers']['indexOf'](_0x49e5d4['id'])>=0x1343*0x2+-0x17b3*0x1+-0xed3&&(_0x49e5d4['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x49e5d4));}['refreshPro'+'perties'](){for(let _0x81a145=0x83d*0x1+0x649*0x1+-0xe86;_0x81a145<Ho['length'];_0x81a145++){const _0x42c880=Ho[_0x81a145];this[_0x42c880]=this[_0x42c880];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x5bab6a=!(0x3f*0x6f+-0x8b7*0x4+0x78c);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(-0x1*0xe1d+0x3*0x51c+-0x137),_0x5bab6a=!(-0x3ad*0x4+-0x6df*-0x1+0x7d5)),(!this['_cookieAss'+'et']['resource']||_0x5bab6a)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x9136d4){this['_cookieAss'+'etId']===_0x9136d4['id']&&(this['_cookieAss'+'et']=_0x9136d4,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(-0x8e*-0x22+-0x10c2+0xb3*-0x3)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x3e97a6=this['system']['app']['scene'],_0x4c5b25=_0x3e97a6['layers'];this['light']['enabled']=!(0x1439+0x2525*0x1+-0x395e),this['_evtLayers'+'Changed']=_0x3e97a6['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4c5b25&&(this['_evtLayerA'+'dded']=_0x4c5b25['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x4c5b25['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x1ac14e,_0x3d3fb5,_0x48fed7;const _0x38d865=this['system']['app']['scene']['layers'];this['light']['enabled']=!(-0x249*-0x1+0x265d+-0x5*0x821),(_0x1ac14e=this['_evtLayers'+'Changed'])==null||_0x1ac14e['off'](),this['_evtLayers'+'Changed']=null,_0x38d865&&((_0x3d3fb5=this['_evtLayerA'+'dded'])==null||_0x3d3fb5['off'](),this['_evtLayerA'+'dded']=null,(_0x48fed7=this['_evtLayerR'+'emoved'])==null||_0x48fed7['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class wF extends ct{constructor(_0x18cbd3){super(_0x18cbd3),this['id']='light',this['ComponentT'+'ype']=TF,this['DataType']=m0,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x523de2,_0x1542f1){const _0x1303b1={..._0x1542f1};_0x1303b1['type']||(_0x1303b1['type']=_0x523de2['data']['type']),_0x523de2['data']['type']=_0x1303b1['type'],_0x1303b1['layers']&&Array['isArray'](_0x1303b1['layers'])&&(_0x1303b1['layers']=_0x1303b1['layers']['slice'](-0x1b8d*-0x1+-0x5*-0x237+-0x26a0)),_0x1303b1['color']&&Array['isArray'](_0x1303b1['color'])&&(_0x1303b1['color']=new ie(_0x1303b1['color'][-0x1eec+0x464+0x1a88],_0x1303b1['color'][0x2615+-0x2058+0x2*-0x2de],_0x1303b1['color'][-0x5*-0x4d2+0x23a8+-0x3bc0])),_0x1303b1['cookieOffs'+'et']&&_0x1303b1['cookieOffs'+'et']instanceof Array&&(_0x1303b1['cookieOffs'+'et']=new J(_0x1303b1['cookieOffs'+'et'][0x5ec*0x4+0x50f+-0x1cbf],_0x1303b1['cookieOffs'+'et'][0x1832+-0x2fe*0x9+0x2bd])),_0x1303b1['cookieScal'+'e']&&_0x1303b1['cookieScal'+'e']instanceof Array&&(_0x1303b1['cookieScal'+'e']=new J(_0x1303b1['cookieScal'+'e'][-0x10c3+-0x101f*0x1+0x1*0x20e2],_0x1303b1['cookieScal'+'e'][-0x22bb+0x7*-0x259+0x332b*0x1])),_0x1303b1['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x1303b1['enabled']=_0x1303b1['enable']),_0x1303b1['shape']||(_0x1303b1['shape']=Ys);const _0x415838=new pl(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x415838['type']=fu[_0x1303b1['type']],_0x415838['_node']=_0x523de2['entity'],_0x523de2['data']['light']=_0x415838,super['initialize'+'ComponentD'+'ata'](_0x523de2,_0x1303b1,Ho);}['_onRemoveC'+'omponent'](_0x3e4c23,_0x190a0e){_0x190a0e['onRemove']();}['cloneCompo'+'nent'](_0x1740ed,_0x339a89){const _0x536d9c=_0x1740ed['light'],_0x31e675=[];let _0x2562d4;for(let _0x257538=0x219*-0x9+-0x844+0x1b25;_0x257538<Ho['length'];_0x257538++)_0x2562d4=Ho[_0x257538],_0x2562d4!=='light'&&(_0x536d9c[_0x2562d4]&&_0x536d9c[_0x2562d4]['clone']?_0x31e675[_0x2562d4]=_0x536d9c[_0x2562d4]['clone']():_0x31e675[_0x2562d4]=_0x536d9c[_0x2562d4]);return this['addCompone'+'nt'](_0x339a89,_0x31e675);}['changeType'](_0x5e1a08,_0x202c63,_0x1b80aa){_0x202c63!==_0x1b80aa&&(_0x5e1a08['light']['type']=fu[_0x1b80aa]);}}const EF=['x','y','z','w'],bF=[void(0x24b5+-0x663+-0x1*0x1e52),void(-0xc75*-0x1+-0x1dab*-0x1+-0x544*0x8),J,D,re];function Yn(_0x114c2b,_0x4f39be,_0x2247ac,_0x4d52a5){switch(_0x4f39be['type']){case'boolean':return!!_0x2247ac;case'number':if(typeof _0x2247ac=='number')return _0x2247ac;if(typeof _0x2247ac=='string'){const _0x422305=parseInt(_0x2247ac,-0x1e7d+-0x268f+0x4516);return isNaN(_0x422305)?null:_0x422305;}else{if(typeof _0x2247ac=='boolean')return-0x47a*0x5+-0x4*-0x515+-0x107*-0x2+_0x2247ac;}return null;case'json':{const _0x1301a3={};if(Array['isArray'](_0x4f39be['schema'])){(!_0x2247ac||typeof _0x2247ac!='object')&&(_0x2247ac={});for(let _0x2a02f9=0x1*0xc18+-0xa09+-0x20f*0x1;_0x2a02f9<_0x4f39be['schema']['length'];_0x2a02f9++){const _0x109abc=_0x4f39be['schema'][_0x2a02f9];if(_0x109abc['name']){if(_0x109abc['array']){_0x1301a3[_0x109abc['name']]=[];const _0x38d19a=Array['isArray'](_0x2247ac[_0x109abc['name']])?_0x2247ac[_0x109abc['name']]:[];for(let _0x10c626=0xf29+-0xe89*0x1+-0x20*0x5;_0x10c626<_0x38d19a['length'];_0x10c626++)_0x1301a3[_0x109abc['name']]['push'](Yn(_0x114c2b,_0x109abc,_0x38d19a[_0x10c626]));}else{const _0x42d977=_0x2247ac['hasOwnProp'+'erty'](_0x109abc['name'])?_0x2247ac[_0x109abc['name']]:_0x109abc['default'];_0x1301a3[_0x109abc['name']]=Yn(_0x114c2b,_0x109abc,_0x42d977);}}}}return _0x1301a3;}case'asset':return _0x2247ac instanceof pe?_0x2247ac:typeof _0x2247ac=='number'?_0x114c2b['assets']['get'](_0x2247ac)||null:typeof _0x2247ac=='string'&&_0x114c2b['assets']['get'](parseInt(_0x2247ac,0x1573+0xe69+-0x23d2))||null;case'entity':return _0x2247ac instanceof Ie?_0x2247ac:typeof _0x2247ac=='string'?_0x114c2b['getEntityF'+'romIndex'](_0x2247ac):null;case'rgb':case'rgba':if(_0x2247ac instanceof ie)return _0x4d52a5 instanceof ie?(_0x4d52a5['copy'](_0x2247ac),_0x4d52a5):_0x2247ac['clone']();if(_0x2247ac instanceof Array&&_0x2247ac['length']>=0x21e1+-0x1*-0x11c9+0x1*-0x33a7&&_0x2247ac['length']<=0x1*0x1549+0x18b8+0x2dfd*-0x1){for(let _0xdb8f9f=-0x1*-0x1125+-0x20*0x15+-0xe85;_0xdb8f9f<_0x2247ac['length'];_0xdb8f9f++)if(typeof _0x2247ac[_0xdb8f9f]!='number')return null;return _0x4d52a5||(_0x4d52a5=new ie()),_0x4d52a5['r']=_0x2247ac[-0x25*0xc5+0x1cbf+-0x46],_0x4d52a5['g']=_0x2247ac[0x8*0x17e+0x45b*0x1+-0x1*0x104a],_0x4d52a5['b']=_0x2247ac[-0x61*-0x38+-0x1*-0x1129+0xb*-0x37d],_0x4d52a5['a']=_0x2247ac['length']===0x1*0x1957+0x923*0x3+-0x34bd?0x213a+-0x1e71+-0x2c8*0x1:_0x2247ac[-0x55e*0x1+0x1*-0x88c+-0x5*-0x2c9],_0x4d52a5;}else{if(typeof _0x2247ac=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x2247ac))return _0x4d52a5||(_0x4d52a5=new ie()),_0x4d52a5['fromString'](_0x2247ac),_0x4d52a5;}return null;case'vec2':case'vec3':case'vec4':{const _0x2d6bd9=parseInt(_0x4f39be['type']['slice'](0x2ca*-0x1+0x2652+-0x2385),0x1*-0x255d+0x3e1*-0x2+0x2d29*0x1),_0x5f200b=bF[_0x2d6bd9];if(_0x2247ac instanceof _0x5f200b)return _0x4d52a5 instanceof _0x5f200b?(_0x4d52a5['copy'](_0x2247ac),_0x4d52a5):_0x2247ac['clone']();if(_0x2247ac instanceof Array&&_0x2247ac['length']===_0x2d6bd9){for(let _0x145b62=0x19*-0x109+0x2*-0x10c6+0x3b6d;_0x145b62<_0x2247ac['length'];_0x145b62++)if(typeof _0x2247ac[_0x145b62]!='number')return null;_0x4d52a5||(_0x4d52a5=new _0x5f200b());for(let _0x206146=0xd*-0x106+-0x1688+0x23d6;_0x206146<_0x2d6bd9;_0x206146++)_0x4d52a5[EF[_0x206146]]=_0x2247ac[_0x206146];return _0x4d52a5;}return null;}case'curve':if(_0x2247ac){let _0xf7ff1d;if(_0x2247ac instanceof qs||_0x2247ac instanceof na)_0xf7ff1d=_0x2247ac['clone']();else{const _0x1d2f81=_0x2247ac['keys'][0x2648+-0x110b+-0x153d*0x1]instanceof Array?na:qs;_0xf7ff1d=new _0x1d2f81(_0x2247ac['keys']),_0xf7ff1d['type']=_0x2247ac['type'];}return _0xf7ff1d;}break;}return _0x2247ac;}function _0(_0x28290f,_0x1545ff,_0x5b243a,_0x1b9ed4){return _0x1545ff['array']?_0x5b243a['map']((_0x403f50,_0x39783b)=>Yn(_0x28290f,_0x1545ff,_0x403f50,_0x1b9ed4?_0x1b9ed4[_0x39783b]:null)):Yn(_0x28290f,_0x1545ff,_0x5b243a,_0x1b9ed4);}function g0(_0x44a7e3,_0xa5b9d6,_0x5973ab,_0x1c45da){if(_0x5973ab)for(const _0x1c2833 in _0xa5b9d6){const _0x5ad2e3=_0xa5b9d6[_0x1c2833],_0x1b52e0=_0x5973ab[_0x1c2833];_0x1b52e0!==void(-0x795*-0x1+0x7*-0x32d+0xea6)&&(_0x1c45da[_0x1c2833]=_0(_0x44a7e3,_0x5ad2e3,_0x1b52e0,_0x1c45da[_0x1c2833]));}}const yn=class yn{constructor(_0x1cb7d8){this['scriptType']=_0x1cb7d8,this['index']={};}['add'](_0x30f33c,_0x135115){if(this['index'][_0x30f33c]){w['warn']('attribute\x20'+'\x27'+_0x30f33c+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(yn['reservedNa'+'mes']['has'](_0x30f33c)){w['warn']('attribute\x20'+'\x27'+_0x30f33c+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x30f33c]=_0x135115,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x30f33c,{'get':function(){return this['__attribut'+'es'][_0x30f33c];},'set':function(_0x55eafa){const _0x488d05='attr',_0x4b0073='attr:'+_0x30f33c,_0x4c7442=this['__attribut'+'es'][_0x30f33c];let _0x258933=_0x4c7442;if(_0x4c7442&&_0x135115['type']!=='json'&&_0x135115['type']!=='entity'&&_0x4c7442['clone']&&(this['hasEvent'](_0x488d05)||this['hasEvent'](_0x4b0073))&&(_0x258933=_0x4c7442['clone']()),_0x135115['array']){if(this['__attribut'+'es'][_0x30f33c]=[],_0x55eafa){for(let _0x5ad896=-0xe81+0x11a6+-0x325,_0x3238d2=_0x55eafa['length'];_0x5ad896<_0x3238d2;_0x5ad896++)this['__attribut'+'es'][_0x30f33c]['push'](Yn(this['app'],_0x135115,_0x55eafa[_0x5ad896],_0x4c7442?_0x4c7442[_0x5ad896]:null));}}else this['__attribut'+'es'][_0x30f33c]=Yn(this['app'],_0x135115,_0x55eafa,_0x4c7442);this['fire'](_0x488d05,_0x30f33c,this['__attribut'+'es'][_0x30f33c],_0x258933),this['fire'](_0x4b0073,this['__attribut'+'es'][_0x30f33c],_0x258933);}});}['remove'](_0x3b747e){return this['index'][_0x3b747e]?(delete this['index'][_0x3b747e],delete this['scriptType']['prototype'][_0x3b747e],!(-0x4*-0x39e+-0x1ee3*0x1+0x106b)):!(-0x1*0x194f+0xcdd*0x2+0x1*-0x6a);}['has'](_0x3db5d2){return!!this['index'][_0x3db5d2];}['get'](_0x333d30){return this['index'][_0x333d30]||null;}};h(yn,'assignAttr'+'ibutesToSc'+'ript',g0),h(yn,'attributeT'+'oValue',_0),h(yn,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Sl=yn;const Bu='initialize',zu='postInitia'+'lize',AF='update',CF='postUpdate',PF='swap';class ts extends me{constructor(_0x105f38){super(),h(this,'app'),h(this,'entity'),h(this,'_enabled'),h(this,'_enabledOl'+'d'),h(this,'_initializ'+'ed'),h(this,'_postIniti'+'alized'),h(this,'__destroye'+'d'),h(this,'__scriptTy'+'pe'),h(this,'__executio'+'nOrder'),this['initScript'](_0x105f38);}set['enabled'](_0x2fd6d2){this['_enabled']=!!_0x2fd6d2,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(-0x718*0x1+0x1*-0x22e8+0x2a00),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,Bu)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(-0x301*-0x1+0x25dc+-0x28dd),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,zu)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x42793f){const _0x2378bb=this['constructo'+'r'];w['assert'](_0x42793f&&_0x42793f['app']&&_0x42793f['entity'],'script\x20['+_0x2378bb['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x42793f['app'],this['entity']=_0x42793f['entity'],this['_enabled']=typeof _0x42793f['enabled']=='boolean'?_0x42793f['enabled']:!(0x2e8+0x125d+0x63*-0x37),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(-0xa2e+-0x1419+0xe4*0x22),this['__scriptTy'+'pe']=_0x2378bb,this['__executio'+'nOrder']=-(-0x36f*-0x1+0x8f3*-0x1+-0x9*-0x9d);}static get['scriptName'](){return this['__name'];}}h(ts,'EVENT_ENAB'+'LE','enable'),h(ts,'EVENT_DISA'+'BLE','disable'),h(ts,'EVENT_STAT'+'E','state'),h(ts,'EVENT_DEST'+'ROY','destroy'),h(ts,'EVENT_ATTR','attr'),h(ts,'EVENT_ERRO'+'R','error'),h(ts,'__name',null),h(ts,'__getScrip'+'tName',S0);const MF=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function S0(_0x1264c2){if(typeof _0x1264c2!='function')return;if(_0x1264c2['scriptName'])return _0x1264c2['scriptName'];if('name'in Function['prototype'])return _0x1264c2['name'];if(_0x1264c2===Function||_0x1264c2===Function['prototype']['constructo'+'r'])return'Function';const _0x4df877=(''+_0x1264c2)['match'](MF);return _0x4df877?_0x4df877[-0x1bd*0x5+-0x10ba+0x196c]:void(-0x2*-0xc51+-0x2018+-0x3bb*-0x2);}class Wo extends ts{constructor(_0xeaac2e){super(_0xeaac2e),h(this,'__attribut'+'es'),h(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0xeaac2e);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Sl(this)),this['__attribut'+'es'];}['initScript'](_0x1d1aee){ts['prototype']['initScript']['call'](this,_0x1d1aee),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x1d1aee['attributes']||{};}['initScript'+'Type'](_0x3d4780){this['initScript'](_0x3d4780);}['__initiali'+'zeAttribut'+'es'](_0x55d5ce){if(!(!_0x55d5ce&&!this['__attribut'+'esRaw'])){for(const _0x4a1eef in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x4a1eef)?this[_0x4a1eef]=this['__attribut'+'esRaw'][_0x4a1eef]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x4a1eef)||(this['__scriptTy'+'pe']['attributes']['index'][_0x4a1eef]['hasOwnProp'+'erty']('default')?this[_0x4a1eef]=this['__scriptTy'+'pe']['attributes']['index'][_0x4a1eef]['default']:this[_0x4a1eef]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0x121a82){for(const _0x4319a7 in _0x121a82)_0x121a82['hasOwnProp'+'erty'](_0x4319a7)&&(this['prototype'][_0x4319a7]=_0x121a82[_0x4319a7]);}}const DF=_0x359fa3=>_0x359fa3[0xffc+0x448+-0x511*0x4]['toLowerCas'+'e']()+_0x359fa3['substring'](0x1*0x1189+-0x18d1+0x175*0x5);class Ii extends we{constructor(_0x19c8ff,_0x4aa21c){super(_0x19c8ff,_0x4aa21c),h(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new oh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new oh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(0x268e+0x3da+-0x2a67),this['_scriptsDa'+'ta']=null,this['_oldState']=!(-0x513*0x6+0xb44+0x132e),this['_enabled']=!(-0x2*0xd32+0x1c2b+-0x41*0x7),this['_beingEnab'+'led']=!(0x61+0x1*0x2345+-0x16d*0x19),this['_isLooping'+'ThroughScr'+'ipts']=!(0x259c+-0x3e5*0x7+0x2*-0x52c),this['_execution'+'Order']=-(-0x1fd0+-0x13da+0x33ab),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x34d424){this['_scriptsDa'+'ta']=_0x34d424;for(const _0x2d9daf in _0x34d424){if(!_0x34d424['hasOwnProp'+'erty'](_0x2d9daf))continue;const _0x33b7f0=this['_scriptsIn'+'dex'][_0x2d9daf];if(_0x33b7f0){if(typeof _0x34d424[_0x2d9daf]['enabled']=='boolean'&&(_0x33b7f0['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x33b7f0);}),_0x33b7f0['enabled']=!!_0x34d424[_0x2d9daf]['enabled']),typeof _0x34d424[_0x2d9daf]['attributes']=='object'){for(const _0x1c5159 in _0x34d424[_0x2d9daf]['attributes'])if(!Sl['reservedNa'+'mes']['has'](_0x1c5159)){if(!_0x33b7f0['__attribut'+'es']['hasOwnProp'+'erty'](_0x1c5159)){const _0x5c8307=this['system']['app']['scripts']['get'](_0x2d9daf);_0x5c8307&&_0x5c8307['attributes']['add'](_0x1c5159,{});}_0x33b7f0[_0x1c5159]=_0x34d424[_0x2d9daf]['attributes'][_0x1c5159];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0xac5fc4){const _0x3eddd2=this['_enabled'];this['_enabled']=_0xac5fc4,this['fire']('set','enabled',_0x3eddd2,_0xac5fc4);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(-0xc9f+0x1*-0x269+0xf08),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(-0x1afd+-0xe9*-0x5+-0x5*-0x47d);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x10cad0=this['_beginLoop'+'ing']();for(let _0x281ba5=-0x24a5+0x1ff*0xb+0xeb0,_0x401c83=this['scripts']['length'];_0x281ba5<_0x401c83;_0x281ba5++){const _0x1e65c5=this['scripts'][_0x281ba5];_0x1e65c5['_initializ'+'ed']&&!_0x1e65c5['_postIniti'+'alized']&&_0x1e65c5['enabled']&&(_0x1e65c5['_postIniti'+'alized']=!(-0xbf5+0x290*0xd+-0x155b),_0x1e65c5['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x1e65c5,zu));}this['_endLoopin'+'g'](_0x10cad0);}['_beginLoop'+'ing'](){const _0x4e65ca=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(0x1824+-0x5a+-0x1b3*0xe),_0x4e65ca;}['_endLoopin'+'g'](_0x2ab336){this['_isLooping'+'ThroughScr'+'ipts']=_0x2ab336,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0x3625cb,_0x252b45,_0x5b3920){this['_beingEnab'+'led']=!(-0x2608+0x1f2*0x2+0x2224),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(0x2141+-0x2d6+0xf35*-0x2);}['_checkStat'+'e'](){const _0x4bc3b8=this['enabled']&&this['entity']['enabled'];if(_0x4bc3b8===this['_oldState'])return;this['_oldState']=_0x4bc3b8,this['fire'](_0x4bc3b8?'enable':'disable'),this['fire']('state',_0x4bc3b8),_0x4bc3b8?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x15dde6=this['_beginLoop'+'ing']();for(let _0x4dd75d=0x2*-0x77b+0x1a6d+-0xb77,_0x50ff3d=this['scripts']['length'];_0x4dd75d<_0x50ff3d;_0x4dd75d++){const _0x53e0c1=this['scripts'][_0x4dd75d];_0x53e0c1['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x53e0c1);}),_0x53e0c1['enabled']=_0x53e0c1['_enabled'];}this['_endLoopin'+'g'](_0x15dde6);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x1962f6=this['_beginLoop'+'ing']();for(let _0x73a564=-0x321*0x7+-0x1*-0x125a+0x38d;_0x73a564<this['scripts']['length'];_0x73a564++){const _0x3754d6=this['scripts'][_0x73a564];_0x3754d6&&this['destroy'](_0x3754d6['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x1962f6);}['_removeDes'+'troyedScri'+'pts'](){const _0x4ac28b=this['_destroyed'+'Scripts']['length'];if(_0x4ac28b){for(let _0x298e32=0x21f*0x3+0x2c*-0xb8+-0xdf*-0x1d;_0x298e32<_0x4ac28b;_0x298e32++){const _0x65a0ed=this['_destroyed'+'Scripts'][_0x298e32];this['_removeScr'+'iptInstanc'+'e'](_0x65a0ed);}this['_destroyed'+'Scripts']['length']=-0xb0c+0x7ad+-0x1*-0x35f,this['_resetExec'+'utionOrder'](0x2097+0x2c*0x33+-0x295b,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x21f317=-0x198c+0x608+-0x4*-0x4e1,_0xec4365=this['scripts']['length'];_0x21f317<_0xec4365;_0x21f317++){const _0x16a5ac=this['scripts'][_0x21f317];this['initialize'+'Attributes'](_0x16a5ac);}}['initialize'+'Attributes'](_0x4f0ae6){var _0x37fa03;if(_0x4f0ae6 instanceof Wo)_0x4f0ae6['__initiali'+'zeAttribut'+'es']();else{const _0x4260dc=_0x4f0ae6['__scriptTy'+'pe']['__name'],_0x192ae0=this['_attribute'+'DataMap']['get'](_0x4260dc);if(!_0x192ae0)return;const _0xbda9a1=(_0x37fa03=this['system']['app']['scripts'])==null?void(-0xd95*-0x2+-0x1*-0x1c55+0x377f*-0x1):_0x37fa03['getSchema'](_0x4260dc);_0xbda9a1||w['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x4260dc+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),g0(this['system']['app'],_0xbda9a1['attributes'],_0x192ae0,_0x4f0ae6);}}['_scriptMet'+'hod'](_0x29456e,_0x3edaf8,_0x20a721){try{_0x29456e[_0x3edaf8](_0x20a721);}catch(_0x14b540){_0x29456e['enabled']=!(-0x28e*0x6+-0x2b5+0x120a),_0x29456e['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x3edaf8+'\x22\x20for\x20\x22'+_0x29456e['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x14b540),console['error'](_0x14b540)),_0x29456e['fire']('error',_0x14b540,_0x3edaf8),this['fire']('error',_0x29456e,_0x14b540,_0x3edaf8);}}['_onInitial'+'ize'](){const _0x4af7bb=this['_scripts'],_0x1c58ae=this['_beginLoop'+'ing']();for(let _0x4125e7=-0x1*0x1a8f+0x1075+-0x3*-0x35e,_0x146826=_0x4af7bb['length'];_0x4125e7<_0x146826;_0x4125e7++){const _0x3ed10d=_0x4af7bb[_0x4125e7];!_0x3ed10d['_initializ'+'ed']&&_0x3ed10d['enabled']&&(_0x3ed10d['_initializ'+'ed']=!(-0xd67+-0x1c59*-0x1+0x1*-0xef2),_0x3ed10d['initialize']&&this['_scriptMet'+'hod'](_0x3ed10d,Bu));}this['_endLoopin'+'g'](_0x1c58ae);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x3b3ed4){const _0x341d24=this['_updateLis'+'t'];if(!_0x341d24['length'])return;const _0x212489=this['_beginLoop'+'ing']();for(_0x341d24['loopIndex']=0x1931+0x16*0x1be+0x3f85*-0x1;_0x341d24['loopIndex']<_0x341d24['length'];_0x341d24['loopIndex']++){const _0x47899d=_0x341d24['items'][_0x341d24['loopIndex']];_0x47899d['enabled']&&this['_scriptMet'+'hod'](_0x47899d,AF,_0x3b3ed4);}this['_endLoopin'+'g'](_0x212489);}['_onPostUpd'+'ate'](_0x426e48){const _0x125cd0=this['_postUpdat'+'eList'];if(!_0x125cd0['length'])return;const _0x55582f=this['_beginLoop'+'ing']();for(_0x125cd0['loopIndex']=0x778*0x5+-0x67*-0x4a+-0x1*0x431e;_0x125cd0['loopIndex']<_0x125cd0['length'];_0x125cd0['loopIndex']++){const _0x1b2c0b=_0x125cd0['items'][_0x125cd0['loopIndex']];_0x1b2c0b['enabled']&&this['_scriptMet'+'hod'](_0x1b2c0b,CF,_0x426e48);}this['_endLoopin'+'g'](_0x55582f);}['_insertScr'+'iptInstanc'+'e'](_0x41c1fe,_0x56a32c,_0x16258c){_0x56a32c===-(-0xe5*-0x1a+0x1*0x244d+-0x3b8e)?(this['_scripts']['push'](_0x41c1fe),_0x41c1fe['__executio'+'nOrder']=_0x16258c,_0x41c1fe['update']&&this['_updateLis'+'t']['append'](_0x41c1fe),_0x41c1fe['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x41c1fe)):(this['_scripts']['splice'](_0x56a32c,-0xec3+-0x53f+0x1402,_0x41c1fe),_0x41c1fe['__executio'+'nOrder']=_0x56a32c,this['_resetExec'+'utionOrder'](_0x56a32c+(0x2*0x601+0x5*-0x2a7+0x2*0xa1),_0x16258c+(-0x22fb+0x1837*-0x1+0x3b33)),_0x41c1fe['update']&&this['_updateLis'+'t']['insert'](_0x41c1fe),_0x41c1fe['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x41c1fe));}['_removeScr'+'iptInstanc'+'e'](_0x2ad0c3){const _0x147372=this['_scripts']['indexOf'](_0x2ad0c3);return _0x147372===-(-0xda8+-0x6*-0x1ec+0x221)||(this['_scripts']['splice'](_0x147372,0x132b*0x1+0x190f+-0x1*0x2c39),_0x2ad0c3['update']&&this['_updateLis'+'t']['remove'](_0x2ad0c3),_0x2ad0c3['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x2ad0c3)),_0x147372;}['_resetExec'+'utionOrder'](_0x7fbe4b,_0x1f21f1){for(let _0x273ac3=_0x7fbe4b;_0x273ac3<_0x1f21f1;_0x273ac3++)this['_scripts'][_0x273ac3]['__executio'+'nOrder']=_0x273ac3;}['_resolveEn'+'tityScript'+'Attribute'](_0x5c9b99,_0x37b460,_0x331d39,_0x14457e,_0x383612,_0x1ed41c){if(_0x5c9b99['array']){const _0x4d6c11=_0x331d39['length'];if(!_0x4d6c11)return;const _0x5cdc2a=_0x331d39['slice']();for(let _0x441ddc=-0x87b+-0x1211*-0x2+-0x1ba7;_0x441ddc<_0x4d6c11;_0x441ddc++){const _0x3e669e=_0x5cdc2a[_0x441ddc]instanceof lt?_0x5cdc2a[_0x441ddc]['getGuid']():_0x5cdc2a[_0x441ddc];_0x1ed41c[_0x3e669e]&&(_0x5cdc2a[_0x441ddc]=_0x14457e?_0x1ed41c[_0x3e669e]['getGuid']():_0x1ed41c[_0x3e669e]);}_0x383612[_0x37b460]=_0x5cdc2a;}else{if(_0x331d39 instanceof lt)_0x331d39=_0x331d39['getGuid']();else{if(typeof _0x331d39!='string')return;}_0x1ed41c[_0x331d39]&&(_0x383612[_0x37b460]=_0x1ed41c[_0x331d39]);}}['has'](_0x3930ae){if(typeof _0x3930ae=='string')return!!this['_scriptsIn'+'dex'][_0x3930ae];if(!_0x3930ae)return!(0x11ed+-0x766+-0xa86);const _0x3c9e1c=_0x3930ae,_0x239bb1=_0x3c9e1c['__name'],_0x45e0d7=this['_scriptsIn'+'dex'][_0x239bb1];return(_0x45e0d7&&_0x45e0d7['instance'])instanceof _0x3c9e1c;}['get'](_0x278990){if(typeof _0x278990=='string'){const _0x11ade4=this['_scriptsIn'+'dex'][_0x278990];return _0x11ade4?_0x11ade4['instance']:null;}if(!_0x278990)return null;const _0x38ebcd=_0x278990,_0x45e62a=_0x38ebcd['__name'],_0x49c264=this['_scriptsIn'+'dex'][_0x45e62a],_0x376b55=_0x49c264&&_0x49c264['instance'];return _0x376b55 instanceof _0x38ebcd?_0x376b55:null;}['create'](_0x3e12cb,_0x4c58b9={}){const _0xeb8c42=this;let _0x22999b=_0x3e12cb,_0x5ce8f2=_0x3e12cb;if(typeof _0x22999b=='string')_0x22999b=this['system']['app']['scripts']['get'](_0x22999b);else{if(_0x22999b){const _0xdd90f8=S0(_0x22999b),_0x55f61f=DF(_0xdd90f8);!(_0x22999b['prototype']instanceof Wo)&&!_0x22999b['scriptName']&&w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0xdd90f8+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0xdd90f8+('.scriptNam'+'e\x20=\x20\x22')+_0x55f61f+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.')),_0x22999b['__name']??(_0x22999b['__name']=_0x22999b['scriptName']??_0x55f61f),_0x5ce8f2=_0x22999b['__name'];}}if(_0x22999b){if(!this['_scriptsIn'+'dex'][_0x5ce8f2]||!this['_scriptsIn'+'dex'][_0x5ce8f2]['instance']){const _0x2b76c9=new _0x22999b({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x4c58b9['hasOwnProp'+'erty']('enabled')?_0x4c58b9['enabled']:!(-0xdcf*0x1+0x1294+-0x4c5),'attributes':_0x4c58b9['attributes']||{}});_0x4c58b9['properties']&&typeof _0x4c58b9['properties']=='object'&&Object['assign'](_0x2b76c9,_0x4c58b9['properties']),_0x2b76c9 instanceof Wo||this['_attribute'+'DataMap']['set'](_0x5ce8f2,_0x4c58b9['attributes']);const _0x289333=this['_scripts']['length'];let _0x12a426=-(-0x2*-0x95+0x9e3+0x2c3*-0x4);return typeof _0x4c58b9['ind']=='number'&&_0x4c58b9['ind']!==-(0x1acb*-0x1+-0x453*-0x2+0x2*0x913)&&_0x289333>_0x4c58b9['ind']&&(_0x12a426=_0x4c58b9['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x2b76c9,_0x12a426,_0x289333),this['_scriptsIn'+'dex'][_0x5ce8f2]={'instance':_0x2b76c9,'onSwap':function(){_0xeb8c42['swap'](_0x5ce8f2);}},this[_0x5ce8f2]=_0x2b76c9,_0x4c58b9['preloading']||this['initialize'+'Attributes'](_0x2b76c9),this['fire']('create',_0x5ce8f2,_0x2b76c9),this['fire']('create:'+_0x5ce8f2,_0x2b76c9),this['system']['app']['scripts']['on']('swap:'+_0x5ce8f2,this['_scriptsIn'+'dex'][_0x5ce8f2]['onSwap']),_0x4c58b9['preloading']||(_0x2b76c9['enabled']&&!_0x2b76c9['_initializ'+'ed']&&(_0x2b76c9['_initializ'+'ed']=!(-0x6*0xed+0x256b+-0x1fdd*0x1),_0x2b76c9['initialize']&&this['_scriptMet'+'hod'](_0x2b76c9,Bu)),_0x2b76c9['enabled']&&!_0x2b76c9['_postIniti'+'alized']&&(_0x2b76c9['_postIniti'+'alized']=!(0x167b+0x8*0x2c8+-0x2cbb),_0x2b76c9['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x2b76c9,zu))),_0x2b76c9;}w['warn']('script\x20\x27'+_0x5ce8f2+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x5ce8f2]={'awaiting':!(0x67*0x37+0x1*0x26cb+0xe*-0x45a),'ind':this['_scripts']['length']},w['warn']('script\x20\x27'+_0x5ce8f2+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x66791f){let _0x40f891=_0x66791f,_0x58e35e=_0x66791f;typeof _0x58e35e=='string'?_0x58e35e=this['system']['app']['scripts']['get'](_0x58e35e):_0x58e35e&&(_0x40f891=_0x58e35e['__name']);const _0x3c2557=this['_scriptsIn'+'dex'][_0x40f891];if(delete this['_scriptsIn'+'dex'][_0x40f891],!_0x3c2557)return!(-0xc9c+-0x78f+0x142c*0x1);this['_attribute'+'DataMap']['delete'](_0x40f891);const _0x2c5273=_0x3c2557['instance'];if(_0x2c5273&&!_0x2c5273['_destroyed']){if(_0x2c5273['enabled']=!(0x1*-0x17cb+0xd8c+0xa40),_0x2c5273['_destroyed']=!(0x1*0x3ad+0x1e1*-0xc+0x12df),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x2c5273);else{const _0x46699d=this['_removeScr'+'iptInstanc'+'e'](_0x2c5273);_0x46699d>=0x241*-0x5+-0x22ff+0x1a7*0x1c&&this['_resetExec'+'utionOrder'](_0x46699d,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x40f891,_0x3c2557['onSwap']),delete this[_0x40f891],this['fire']('destroy',_0x40f891,_0x2c5273||null),this['fire']('destroy:'+_0x40f891,_0x2c5273||null),_0x2c5273&&_0x2c5273['fire']('destroy'),!(0x1259+0x10*-0xe5+-0x1*0x409);}['swap'](_0x34cb2c){let _0x21b0a9=_0x34cb2c,_0x5748d9=_0x34cb2c;typeof _0x5748d9=='string'?_0x5748d9=this['system']['app']['scripts']['get'](_0x5748d9):_0x5748d9&&(_0x21b0a9=_0x5748d9['__name']);const _0x3ee5df=this['_scriptsIn'+'dex'][_0x21b0a9];if(!_0x3ee5df||!_0x3ee5df['instance'])return!(0x1*-0x12b5+-0x3*0x205+0x18c5);const _0x4f0fef=_0x3ee5df['instance'],_0x103aeb=this['_scripts']['indexOf'](_0x4f0fef),_0x3c118d=new _0x5748d9({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x4f0fef['enabled'],'attributes':_0x4f0fef['__attribut'+'es']});return _0x3c118d['swap']?(this['initialize'+'Attributes'](_0x3c118d),this['_scripts'][_0x103aeb]=_0x3c118d,this['_scriptsIn'+'dex'][_0x21b0a9]['instance']=_0x3c118d,this[_0x21b0a9]=_0x3c118d,_0x3c118d['__executio'+'nOrder']=_0x103aeb,_0x4f0fef['update']&&this['_updateLis'+'t']['remove'](_0x4f0fef),_0x4f0fef['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x4f0fef),_0x3c118d['update']&&this['_updateLis'+'t']['insert'](_0x3c118d),_0x3c118d['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x3c118d),this['_scriptMet'+'hod'](_0x3c118d,PF,_0x4f0fef),this['fire']('swap',_0x21b0a9,_0x3c118d),this['fire']('swap:'+_0x21b0a9,_0x3c118d),!(-0xd3b+0x11be+-0x37*0x15)):!(-0x6*0x36d+0x1de*-0x4+0x1c07);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4fd6a7,_0x2a73dd){var _0x16f15c,_0x336034,_0x3fa320;const _0x24588a=this['entity']['script'];for(const _0x305760 in _0x4fd6a7['_scriptsIn'+'dex']){const _0x197704=this['system']['app']['scripts']['get'](_0x305760);if(!_0x197704)continue;const _0x90c4b2=_0x4fd6a7['_scriptsIn'+'dex'][_0x305760];if(!_0x90c4b2||!_0x90c4b2['instance'])continue;const _0x1f05e2=_0x24588a[_0x305760]['__attribut'+'esRaw']??_0x24588a['_attribute'+'DataMap']['get'](_0x305760),_0x37c94a=_0x24588a[_0x305760]['__attribut'+'es'];if(!_0x1f05e2&&!_0x37c94a)continue;const _0x4f5f74=!!_0x1f05e2,_0x573a14=_0x90c4b2['instance']['__attribut'+'es']??_0x24588a['_attribute'+'DataMap']['get'](_0x305760);for(const _0x3fd137 in _0x573a14){if(!_0x573a14[_0x3fd137])continue;const _0x54ad43=((_0x16f15c=_0x197704['attributes'])==null?void(-0x4bf+0x19c0+-0x1501):_0x16f15c['get'](_0x3fd137))??((_0x3fa320=(_0x336034=this['system']['app']['scripts']['getSchema'](_0x305760))==null?void(0x1c*-0x161+0x97a+0x1d22):_0x336034['attributes'])==null?void(-0x5c+-0x1d04+-0x2f*-0xa0):_0x3fa320[_0x3fd137]);if(_0x54ad43){if(_0x54ad43['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x54ad43,_0x3fd137,_0x573a14[_0x3fd137],_0x4f5f74,_0x1f05e2||_0x37c94a,_0x2a73dd);else{if(_0x54ad43['type']==='json'&&Array['isArray'](_0x54ad43['schema'])){const _0x49303f=_0x573a14[_0x3fd137],_0x40ab76=_0x1f05e2?_0x1f05e2[_0x3fd137]:_0x37c94a[_0x3fd137];for(let _0x3498bd=0x23*0x112+0xba*-0x21+-0xd7c;_0x3498bd<_0x54ad43['schema']['length'];_0x3498bd++){const _0x4dfafa=_0x54ad43['schema'][_0x3498bd];if(_0x4dfafa['type']==='entity'){if(_0x54ad43['array']){for(let _0x18f5f6=0xca8+0x50*0x7d+-0x33b8;_0x18f5f6<_0x49303f['length'];_0x18f5f6++)this['_resolveEn'+'tityScript'+'Attribute'](_0x4dfafa,_0x4dfafa['name'],_0x49303f[_0x18f5f6][_0x4dfafa['name']],_0x4f5f74,_0x40ab76[_0x18f5f6],_0x2a73dd);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x4dfafa,_0x4dfafa['name'],_0x49303f[_0x4dfafa['name']],_0x4f5f74,_0x40ab76,_0x2a73dd);}}}}}}}}['move'](_0x410e90,_0xdc782f){const _0x50e65e=this['_scripts']['length'];if(_0xdc782f>=_0x50e65e||_0xdc782f<-0x2291*-0x1+0x1178+0x76f*-0x7)return!(-0x244+0x1*0x1bd+0x88);let _0x4ad63e=_0x410e90,_0x52d1e6=_0x410e90;typeof _0x52d1e6!='string'?_0x52d1e6=_0x410e90['__name']:_0x4ad63e=null;const _0x411b8b=this['_scriptsIn'+'dex'][_0x52d1e6];if(!_0x411b8b||!_0x411b8b['instance'])return!(-0x6*-0x1cf+0x26b3+-0x318c);const _0x4abb10=_0x411b8b['instance'];if(_0x4ad63e&&!(_0x4abb10 instanceof _0x4ad63e))return!(0x1*-0x173f+-0x225f+0x399f);const _0xd389f3=this['_scripts']['indexOf'](_0x4abb10);return _0xd389f3===-(-0x8b+0x172*-0x2+-0x5*-0xb0)||_0xd389f3===_0xdc782f?!(-0x1068*-0x1+-0xbe5+0x241*-0x2):(this['_scripts']['splice'](_0xdc782f,0x15*-0x1a3+0x2450+0x7*-0x47,this['_scripts']['splice'](_0xd389f3,0x10f*-0x23+-0x19fb+0x1503*0x3)[0x4f1+0x1a*-0x103+0x155d]),this['_resetExec'+'utionOrder'](-0x235a+0x370+-0xbe*-0x2b,_0x50e65e),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x52d1e6,_0x4abb10,_0xdc782f,_0xd389f3),this['fire']('move:'+_0x52d1e6,_0x4abb10,_0xdc782f,_0xd389f3),!(0x4b*0x3a+-0x17a6+0x6a8));}}h(Ii,'EVENT_CREA'+'TE','create'),h(Ii,'EVENT_DEST'+'ROY','destroy'),h(Ii,'EVENT_ENAB'+'LE','enable'),h(Ii,'EVENT_DISA'+'BLE','disable'),h(Ii,'EVENT_REMO'+'VE','remove'),h(Ii,'EVENT_STAT'+'E','state'),h(Ii,'EVENT_MOVE','move'),h(Ii,'EVENT_ERRO'+'R','error');class IF{constructor(){this['enabled']=!(0x207*0x11+-0x1c*-0xd+-0x1*0x23e3);}}const LF='_onInitial'+'izeAttribu'+'tes',RF='_onInitial'+'ize',OF='_onPostIni'+'tialize',FF='_onUpdate',NF='_onPostUpd'+'ate';let Mc=-0x1*0xc98+-0xcfa+0x1992*0x1;class kF extends ct{constructor(_0x1afb4e){super(_0x1afb4e),this['id']='script',this['ComponentT'+'ype']=Ii,this['DataType']=IF,this['_component'+'s']=new oh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new oh({'sortBy':'_execution'+'Order'}),this['preloading']=!(0xdb+0x1f09*-0x1+0x1e2e),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x1e1985,_0x8cc893){if(_0x1e1985['_execution'+'Order']=Mc++,this['_component'+'s']['append'](_0x1e1985),Mc>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x1e1985['enabled']=_0x8cc893['hasOwnProp'+'erty']('enabled')?!!_0x8cc893['enabled']:!(-0x5c6*-0x2+0x1f*0x107+0x633*-0x7),_0x1e1985['enabled']&&_0x1e1985['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x1e1985),_0x8cc893['hasOwnProp'+'erty']('order')&&_0x8cc893['hasOwnProp'+'erty']('scripts')){_0x1e1985['_scriptsDa'+'ta']=_0x8cc893['scripts'];for(let _0x4622af=-0x7f*-0x25+0x19eb+-0x2c46;_0x4622af<_0x8cc893['order']['length'];_0x4622af++)_0x1e1985['create'](_0x8cc893['order'][_0x4622af],{'enabled':_0x8cc893['scripts'][_0x8cc893['order'][_0x4622af]]['enabled'],'attributes':_0x8cc893['scripts'][_0x8cc893['order'][_0x4622af]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x369baf,_0x464a2f){var _0x2033a8;const _0x51795f=[],_0x155a5d={};for(let _0x4af700=-0x9dc*0x2+-0x86d*0x3+0x2cff;_0x4af700<_0x369baf['script']['_scripts']['length'];_0x4af700++){const _0x5020d1=_0x369baf['script']['_scripts'][_0x4af700],_0x2b8d97=_0x5020d1['__scriptTy'+'pe']['__name'];_0x51795f['push'](_0x2b8d97);const _0x414746=((_0x2033a8=_0x369baf['script']['_attribute'+'DataMap'])==null?void(0x1582+0x919*0x2+-0x27b4):_0x2033a8['get'](_0x2b8d97))||{};for(const _0x235420 in _0x5020d1['__attribut'+'es'])_0x414746[_0x235420]=_0x5020d1['__attribut'+'es'][_0x235420];_0x155a5d[_0x2b8d97]={'enabled':_0x5020d1['_enabled'],'attributes':_0x414746};}for(const _0x1aa6bf in _0x369baf['script']['_scriptsIn'+'dex'])_0x1aa6bf['awaiting']&&_0x51795f['splice'](_0x1aa6bf['ind'],0x445+-0x8*-0x2a6+-0x13*0x157,_0x1aa6bf);const _0x296ce1={'enabled':_0x369baf['script']['enabled'],'order':_0x51795f,'scripts':_0x155a5d};return this['addCompone'+'nt'](_0x464a2f,_0x296ce1);}['_resetExec'+'utionOrder'](){Mc=-0x25*-0x13+0x2559+-0x2818;for(let _0x5dafe4=0x1*-0xac3+0x202a*-0x1+0x2aed,_0x1dc7e8=this['_component'+'s']['length'];_0x5dafe4<_0x1dc7e8;_0x5dafe4++)this['_component'+'s']['items'][_0x5dafe4]['_execution'+'Order']=Mc++;}['_callCompo'+'nentMethod'](_0x33e7b6,_0x2a6c6c,_0x5755a1){for(_0x33e7b6['loopIndex']=-0x4*-0x46d+-0x407+0x48f*-0x3;_0x33e7b6['loopIndex']<_0x33e7b6['length'];_0x33e7b6['loopIndex']++)_0x33e7b6['items'][_0x33e7b6['loopIndex']][_0x2a6c6c](_0x5755a1);}['_onInitial'+'ize'](){this['preloading']=!(-0x26d6+0x14cf+0x1*0x1208),this['_callCompo'+'nentMethod'](this['_component'+'s'],LF),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],RF);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],OF);}['_onUpdate'](_0x237bd3){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],FF,_0x237bd3);}['_onPostUpd'+'ate'](_0x362808){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],NF,_0x362808);}['_addCompon'+'entToEnabl'+'ed'](_0x4249b2){this['_enabledCo'+'mponents']['insert'](_0x4249b2);}['_removeCom'+'ponentFrom'+'Enabled'](_0x44441f){this['_enabledCo'+'mponents']['remove'](_0x44441f);}['_onBeforeR'+'emove'](_0x1dcd8a,_0x121af9){this['_component'+'s']['items']['indexOf'](_0x121af9)>=0x97*0x3b+-0x1*0x732+0x25*-0xbf&&_0x121af9['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0x121af9),this['_component'+'s']['remove'](_0x121af9);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class y0 extends we{constructor(_0x2866d0,_0x372d4f){super(_0x2866d0,_0x372d4f),h(this,'_layers',[er]),h(this,'_instance',null),h(this,'_materialT'+'mp',null),h(this,'_highQuali'+'tySH',!(0x17e3+-0x1c68+0x485)),h(this,'_customAab'+'b',null),h(this,'_assetRefe'+'rence'),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_castShado'+'ws',!(0x251a+-0x164d+-0xecc)),(this['_assetRefe'+'rence']=new gl('asset',this,_0x2866d0['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0x372d4f['on']('remove',this['onRemoveCh'+'ild'],this),_0x372d4f['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x372d4f['on']('insert',this['onInsertCh'+'ild'],this),_0x372d4f['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x2e5e8d){var _0x32db47,_0xeb365b;this['_customAab'+'b']=_0x2e5e8d,(_0xeb365b=(_0x32db47=this['_instance'])==null?void(0x1f52+0x3e*-0x6d+-0x4ec):_0x32db47['meshInstan'+'ce'])==null||_0xeb365b['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x3d161b){if(this['destroyIns'+'tance'](),this['_instance']=_0x3d161b,this['_instance']){const _0x4b53dd=this['_instance']['meshInstan'+'ce'];_0x4b53dd['node']||(_0x4b53dd['node']=this['entity']),_0x4b53dd['castShadow']=this['_castShado'+'ws'],_0x4b53dd['setCustomA'+'abb'](this['_customAab'+'b']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['material'](_0x51e858){this['_instance']?this['_instance']['material']=_0x51e858:this['_materialT'+'mp']=_0x51e858;}get['material'](){var _0x5a4f8b;return((_0x5a4f8b=this['_instance'])==null?void(0x83f+0x24a*-0xa+0xea5):_0x5a4f8b['material'])??this['_materialT'+'mp']??null;}set['highQualit'+'ySH'](_0x2b1b16){_0x2b1b16!==this['_highQuali'+'tySH']&&(this['_highQuali'+'tySH']=_0x2b1b16,this['_instance']&&this['_instance']['setHighQua'+'litySH'](_0x2b1b16));}get['highQualit'+'ySH'](){return this['_highQuali'+'tySH'];}set['castShadow'+'s'](_0x3ec81e){var _0x3132fa;if(this['_castShado'+'ws']!==_0x3ec81e){const _0x3d2d5d=(_0x3132fa=this['instance'])==null?void(0x11*-0x26+0x1c95+-0x1a0f):_0x3132fa['meshInstan'+'ce'];if(_0x3d2d5d){const _0x51c541=this['layers'],_0x4a2c8c=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x3ec81e)for(let _0x2c9e1d=0x975+0x2*-0xc62+0x1*0xf4f;_0x2c9e1d<_0x51c541['length'];_0x2c9e1d++){const _0x232272=_0x4a2c8c['layers']['getLayerBy'+'Id'](this['layers'][_0x2c9e1d]);_0x232272&&_0x232272['removeShad'+'owCasters']([_0x3d2d5d]);}if(_0x3d2d5d['castShadow']=_0x3ec81e,!this['_castShado'+'ws']&&_0x3ec81e)for(let _0x7e7611=-0x250*-0x8+0x18ce+-0x2b4e;_0x7e7611<_0x51c541['length'];_0x7e7611++){const _0x7d2ec0=_0x4a2c8c['layers']['getLayerBy'+'Id'](_0x51c541[_0x7e7611]);_0x7d2ec0&&_0x7d2ec0['addShadowC'+'asters']([_0x3d2d5d]);}}this['_castShado'+'ws']=_0x3ec81e;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['layers'](_0x189302){this['removeFrom'+'Layers'](),this['_layers']['length']=-0xd77+0x9*0x24a+-0x15*0x57;for(let _0xfbb0e4=-0xb*-0x1c+0x119e+0x1*-0x12d2;_0xfbb0e4<_0x189302['length'];_0xfbb0e4++)this['_layers'][_0xfbb0e4]=_0x189302[_0xfbb0e4];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x32e156){const _0x2de273=_0x32e156 instanceof pe?_0x32e156['id']:_0x32e156;this['_assetRefe'+'rence']['id']!==_0x2de273&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x2de273,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['destroyIns'+'tance'](){var _0x2072c9;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x2072c9=this['_instance'])==null||_0x2072c9['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x9fb1ed,_0x570412;const _0x251b27=(_0x9fb1ed=this['instance'])==null?void(0x15b5*-0x1+-0xde9+0x61*0x5e):_0x9fb1ed['meshInstan'+'ce'];if(_0x251b27){const _0x3336dd=this['system']['app']['scene']['layers'];for(let _0x5680d2=0x1cd*-0x1+-0x147*0xd+-0xf8*-0x13;_0x5680d2<this['_layers']['length'];_0x5680d2++)(_0x570412=_0x3336dd['getLayerBy'+'Id'](this['_layers'][_0x5680d2]))==null||_0x570412['addMeshIns'+'tances']([_0x251b27]);}}['removeFrom'+'Layers'](){var _0x1c92e3,_0x612f14;const _0x48cbfd=(_0x1c92e3=this['instance'])==null?void(0x1*0xd5b+-0x25a6+0x184b):_0x1c92e3['meshInstan'+'ce'];if(_0x48cbfd){const _0x3f0fab=this['system']['app']['scene']['layers'];for(let _0x5ceec5=-0x54*0x40+-0x11*0xc4+0x2204;_0x5ceec5<this['_layers']['length'];_0x5ceec5++)(_0x612f14=_0x3f0fab['getLayerBy'+'Id'](this['_layers'][_0x5ceec5]))==null||_0x612f14['removeMesh'+'Instances']([_0x48cbfd]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x6fe406,_0x3ebfb1){this['addToLayer'+'s'](),_0x6fe406['off']('add',this['onLayerAdd'+'ed'],this),_0x6fe406['off']('remove',this['onLayerRem'+'oved'],this),_0x3ebfb1['on']('add',this['onLayerAdd'+'ed'],this),_0x3ebfb1['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x764cf2){this['layers']['indexOf'](_0x764cf2['id'])<-0x2537+0x1dd8+0x75f||this['_instance']&&_0x764cf2['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x3a1d05){this['layers']['indexOf'](_0x3a1d05['id'])<0x164b+0xf1*-0x29+0x104e||this['_instance']&&_0x3a1d05['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x354bf3=this['system']['app']['scene'],_0x523cd6=_0x354bf3['layers'];this['_evtLayers'+'Changed']=_0x354bf3['on']('set:layers',this['onLayersCh'+'anged'],this),_0x523cd6&&(this['_evtLayerA'+'dded']=_0x523cd6['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x523cd6['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x12fae3,_0x131020,_0x462fd9;const _0x19fad3=this['system']['app']['scene']['layers'];(_0x12fae3=this['_evtLayers'+'Changed'])==null||_0x12fae3['off'](),this['_evtLayers'+'Changed']=null,_0x19fad3&&((_0x131020=this['_evtLayerA'+'dded'])==null||_0x131020['off'](),this['_evtLayerA'+'dded']=null,(_0x462fd9=this['_evtLayerR'+'emoved'])==null||_0x462fd9['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0xa3*0x1f+0x17e8+-0x2ba4));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x1*-0xdb5+-0x48a*0x3+0x1b53));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x1946d4=this['_assetRefe'+'rence']['asset'];_0x1946d4&&(this['instance']=_0x1946d4['resource']['createInst'+'ance'](_0x1946d4['resource'],{'material':this['_materialT'+'mp'],'highQualitySH':this['_highQuali'+'tySH']}),this['_materialT'+'mp']=null,this['customAabb']=this['instance']['resource']['aabb']['clone']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class UF{constructor(){this['enabled']=!(-0x891*0x1+-0x13*0x7+-0x2*-0x48b);}}const Vu=['enabled'],To=['castShadow'+'s','material','highQualit'+'ySH','asset','layers'];class BF extends ct{constructor(_0x3b3450){super(_0x3b3450),this['id']='gsplat',this['ComponentT'+'ype']=y0,this['DataType']=UF,this['schema']=Vu,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x4d90b9,_0x1873a1,_0x20854f){_0x1873a1['layers']&&_0x1873a1['layers']['length']&&(_0x1873a1['layers']=_0x1873a1['layers']['slice'](-0x1b6e+-0x1df8+0x991*0x6));for(let _0x438a6d=0x172d+-0x538*-0x1+-0x1c65;_0x438a6d<To['length'];_0x438a6d++)_0x1873a1['hasOwnProp'+'erty'](To[_0x438a6d])&&(_0x4d90b9[To[_0x438a6d]]=_0x1873a1[To[_0x438a6d]]);_0x1873a1['aabbCenter']&&_0x1873a1['aabbHalfEx'+'tents']&&(_0x4d90b9['customAabb']=new De(new D(_0x1873a1['aabbCenter']),new D(_0x1873a1['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x4d90b9,_0x1873a1,Vu);}['cloneCompo'+'nent'](_0x3d7e8f,_0x363186){const _0x1a80f2=_0x3d7e8f['gsplat'],_0x4e2310={};To['forEach'](_0x260567=>{_0x260567==='material'?_0x4e2310[_0x260567]=_0x1a80f2[_0x260567]['clone']():_0x4e2310[_0x260567]=_0x1a80f2[_0x260567];}),_0x4e2310['enabled']=_0x1a80f2['enabled'];const _0x41ddb5=this['addCompone'+'nt'](_0x363186,_0x4e2310);return _0x1a80f2['customAabb']&&(_0x41ddb5['customAabb']=_0x1a80f2['customAabb']['clone']()),_0x41ddb5;}['onRemove'](_0x546da7,_0x13e5d6){_0x13e5d6['onRemove']();}}we['_buildAcce'+'ssors'](y0['prototype'],Vu);class Em extends me{constructor(){super(...arguments),h(this,'_meshes',null);}set['meshes'](_0x4a04fe){this['decRefMesh'+'es'](),this['_meshes']=_0x4a04fe,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x4a04fe);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0xecb8b3;(_0xecb8b3=this['_meshes'])==null||_0xecb8b3['forEach']((_0x1c08b4,_0x23b179)=>{_0x1c08b4&&(_0x1c08b4['decRefCoun'+'t'](),_0x1c08b4['refCount']<-0x1e1f+0x2b*0x7b+-0x1*-0x977&&(_0x1c08b4['destroy'](),this['_meshes'][_0x23b179]=null));});}['incRefMesh'+'es'](){var _0x2a1609;(_0x2a1609=this['_meshes'])==null||_0x2a1609['forEach'](_0x326228=>{_0x326228==null||_0x326228['incRefCoun'+'t']();});}}h(Em,'EVENT_SETM'+'ESHES','set:meshes');function sh(_0x1423d0){const _0x5bda1a=this;if(!_0x5bda1a['resource'])return;const _0x27bf53=_0x1423d0['resource'],_0x290371=_0x27bf53['renders']&&_0x27bf53['renders'][_0x5bda1a['data']['renderInde'+'x']];_0x290371&&(_0x5bda1a['resource']['meshes']=_0x290371['resource']['meshes']);}function pS(_0x63a48f){const _0x14a2a1=this;_0x14a2a1['registry']['off']('load:'+_0x63a48f['id'],sh,_0x14a2a1),_0x14a2a1['registry']['on']('load:'+_0x63a48f['id'],sh,_0x14a2a1),_0x14a2a1['registry']['off']('remove:'+_0x63a48f['id'],mS,_0x14a2a1),_0x14a2a1['registry']['once']('remove:'+_0x63a48f['id'],mS,_0x14a2a1),_0x63a48f['resource']?sh['call'](_0x14a2a1,_0x63a48f):_0x14a2a1['registry']['load'](_0x63a48f);}function mS(_0x3df6e0){const _0x29282b=this;_0x29282b['registry']['off']('load:'+_0x3df6e0['id'],sh,_0x29282b),_0x29282b['resource']&&_0x29282b['resource']['destroy']();}class zF extends Qe{constructor(_0x1a3e07){super(_0x1a3e07,'render'),this['_registry']=_0x1a3e07['assets'];}['open'](_0x5db582,_0x4ed192){return new Em();}['patch'](_0x51d89a,_0x5450bb){if(!_0x51d89a['data']['containerA'+'sset'])return;const _0x20db89=_0x5450bb['get'](_0x51d89a['data']['containerA'+'sset']);if(!_0x20db89){_0x5450bb['once']('add:'+_0x51d89a['data']['containerA'+'sset'],pS,_0x51d89a);return;}pS['call'](_0x51d89a,_0x20db89);}}class v0{constructor(_0x172368,_0x3b2b19,_0x3fc44,_0xd98dbb){this['_paths']=_0x172368,this['_input']=_0x3b2b19,this['_output']=_0x3fc44,this['_interpola'+'tion']=_0xd98dbb;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class Fh{constructor(_0xbe1b39,_0xd6df02){this['_component'+'s']=_0xbe1b39,this['_data']=_0xd6df02;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function VF(_0x58ebbd,_0x477357){let _0x2a8697;const _0xb6b71e=(_0x3732b4,_0x519b19)=>{switch(_0x519b19){case _0x2a8697['DT_INT8']:return new Int8Array(_0x3732b4['buffer'],_0x3732b4['byteOffset'],_0x3732b4['byteLength']);case _0x2a8697['DT_INT16']:return new Int16Array(_0x3732b4['buffer'],_0x3732b4['byteOffset'],_0x3732b4['byteLength']/(0x11b2+0x2ef+-0x149f));case _0x2a8697['DT_INT32']:return new Int32Array(_0x3732b4['buffer'],_0x3732b4['byteOffset'],_0x3732b4['byteLength']/(0x1*-0x1234+-0x1cda+-0x2*-0x1789));case _0x2a8697['DT_UINT8']:return new Uint8Array(_0x3732b4['buffer'],_0x3732b4['byteOffset'],_0x3732b4['byteLength']);case _0x2a8697['DT_UINT16']:return new Uint16Array(_0x3732b4['buffer'],_0x3732b4['byteOffset'],_0x3732b4['byteLength']/(0x161*-0xe+-0x5*0x74f+-0xb5*-0x4f));case _0x2a8697['DT_UINT32']:return new Uint32Array(_0x3732b4['buffer'],_0x3732b4['byteOffset'],_0x3732b4['byteLength']/(-0x1*0xceb+0x2af*0x1+0x40*0x29));case _0x2a8697['DT_FLOAT32']:return new Float32Array(_0x3732b4['buffer'],_0x3732b4['byteOffset'],_0x3732b4['byteLength']/(0x2068+0xeed*0x1+0x2f51*-0x1));}return null;},_0x2e9a62=_0x42f2f3=>{switch(_0x42f2f3){case _0x2a8697['DT_INT8']:return-0x1ef8+-0x34*-0x96+0x81;case _0x2a8697['DT_INT16']:return 0x8e*0x3+-0x2188+-0x11*-0x1e0;case _0x2a8697['DT_INT32']:return-0x1*-0xcaf+-0x10f9+-0x227*-0x2;case _0x2a8697['DT_UINT8']:return-0x13*-0x1a1+0x1255+-0x3147*0x1;case _0x2a8697['DT_UINT16']:return 0x1c12+-0x258a+-0x4bd*-0x2;case _0x2a8697['DT_UINT32']:return-0x227*0x1+0x97*0xd+0x20*-0x2c;case _0x2a8697['DT_FLOAT32']:return 0x4a*-0x1a+-0xe71+0x3*0x753;}return 0x24e6*0x1+-0x1b17+-0x1*0x9ce;},_0x4f81a1=_0x501e12=>_0x501e12['num_compon'+'ents']()*_0x2e9a62(_0x501e12['data_type']()),_0x50a6f6={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x59e19a=(_0x415714,_0x445dc1)=>{const _0x2689d6=(_0x4d5e30,_0x20e8bc,_0x4573e3)=>{_0x4d5e30[-0xb55+0x3*0x313+0x6*0x5a]=_0x20e8bc[0x2550+-0x1c8a+-0x463*0x2]-_0x4573e3[-0x485*-0x8+-0x55*0xb+-0x2081],_0x4d5e30[-0x3*-0x9f7+0x2286+0x406a*-0x1]=_0x20e8bc[-0x6a*0x8+-0xec2+0x1213]-_0x4573e3[-0x26b2+-0xd56+0x3409],_0x4d5e30[-0x144+-0x1*0x2a5+0x3b*0x11]=_0x20e8bc[0xe3*-0x1d+-0x340+0x1cf9]-_0x4573e3[-0x67*-0x4d+-0x3*0x9f+-0x4*0x747];},_0x418742=(_0x4f06a2,_0x463718,_0x21bf59)=>{_0x4f06a2[-0x1d*0x12e+-0x167e+0x1*0x38b4]=_0x463718[-0x2*0x29d+-0xcbd+-0x4*-0x47e]*_0x21bf59[0x73+-0x6*-0x13d+-0x7df*0x1]-_0x21bf59[0x14*0x4a+0xd84+-0x134b]*_0x463718[-0x1*0x123e+0x86*-0x4+0x1458],_0x4f06a2[0x315*-0x3+0x1*0x1247+-0x907]=_0x463718[-0xd01+0x19b+0xb68]*_0x21bf59[-0xbb3+0x5b*-0x35+0x1e8a]-_0x21bf59[-0x1fa8+-0x355*-0x4+0x1*0x1256]*_0x463718[0x22b7*-0x1+0xf21+0x1396],_0x4f06a2[0x1d1b*-0x1+0x147d+-0x18*-0x5c]=_0x463718[-0x1d*-0x12e+0x1929+-0x3b5f*0x1]*_0x21bf59[-0x97e+0x33*-0x61+0x1cd2]-_0x21bf59[-0x16*0xb5+-0x16a5+-0x575*-0x7]*_0x463718[0xaba+0x9a3*-0x2+0x88d];},_0x431e47=(_0x25f05f,_0x1bc96f)=>{const _0x1714f1=_0x25f05f[_0x1bc96f+(-0x1eda+0xb8a+0x1350)],_0xbc81f=_0x25f05f[_0x1bc96f+(-0x15d5+-0x1*0x1b59+-0x1*-0x312f)],_0x4bcaed=_0x25f05f[_0x1bc96f+(-0x12f9*-0x1+0x170a+-0x2a01)],_0x473ec8=(-0x132c+0xc2f+0x6fe)/Math['sqrt'](_0x1714f1*_0x1714f1+_0xbc81f*_0xbc81f+_0x4bcaed*_0x4bcaed);_0x25f05f[_0x1bc96f+(-0x82a+-0x3b*-0x76+0x4c2*-0x4)]*=_0x473ec8,_0x25f05f[_0x1bc96f+(-0x44b*0x9+0x1865+-0x7*-0x209)]*=_0x473ec8,_0x25f05f[_0x1bc96f+(-0x72b+-0x3*-0xcdb+0x31*-0xa4)]*=_0x473ec8;},_0x3731da=(_0x13f9b3,_0x4e2edc,_0x58bb83)=>{for(let _0x579ea5=0x272*0xd+-0x2616+0x1*0x64c;_0x579ea5<0x1*0x247f+-0x1ade+-0x2*0x4cf;++_0x579ea5)_0x13f9b3[_0x579ea5]=_0x4e2edc[_0x58bb83+_0x579ea5];},_0x383bf8=_0x445dc1['length']/(-0x2e4+0x1c58+-0x1971),_0x33a52=_0x415714['length']/(0xd79*0x1+-0xd*0x2ed+-0x2bb*-0x9),_0x3f30ad=new Float32Array(_0x415714['length']),_0x2bc2ee=[0x1*-0xd6+-0x3*0x831+0x515*0x5,0x194+0x22b4+0x6c*-0x56,0xb*-0x92+-0x2435+0x2a7b],_0xbd359d=[0x884+0x1875+-0x20f9,0x23*-0x10d+0x1*0x557+0x1f70,0x255c+-0x1ffa+-0x562],_0x554234=[-0x2a7+0x55c*-0x5+0x435*0x7,0x245a+0x2564+-0x24df*0x2,0x1ea5+0xee6+-0x2d8b],_0x534ddc=[-0xf*-0x260+-0xb1c+-0x1884,0x93d+-0x1e*-0x57+-0x136f,0x54c+0xc9b+0x11e7*-0x1],_0x347875=[-0x4a+-0x62f+0x679,-0x225f+-0x567+0x27c6,0x26d2*-0x1+0x2412+0x1*0x2c0],_0x5c3d01=[0x410*0x7+0x255c*-0x1+0x8ec*0x1,0xf92+0x11d*0x17+-0x1*0x292d,-0xd*-0xc2+-0x1c17+0x7*0x29b];for(let _0x40397f=0x739+0x12c4+-0x19fd*0x1;_0x40397f<_0x383bf8;++_0x40397f){const _0x5b5361=_0x445dc1[_0x40397f*(0x1*0x1fe1+0x4*-0x449+-0xeba)+(-0x23e8+-0x1591+0x3979)]*(0x1*-0x1ed1+-0xc97+0xf*0x2e5),_0x1f4be6=_0x445dc1[_0x40397f*(0x2123*-0x1+-0x95*-0x2+0xffe*0x2)+(0x6*0x2f9+-0x26f5+0x1520)]*(-0x17*0xaa+0xfb*0x7+0x86c),_0x276476=_0x445dc1[_0x40397f*(-0x265d+-0x1*-0x1843+0xe1d*0x1)+(-0x2*-0x10d6+-0x575+0x3*-0x967)]*(0x1d00+0xcc4+-0x29c1);_0x3731da(_0x2bc2ee,_0x415714,_0x5b5361),_0x3731da(_0xbd359d,_0x415714,_0x1f4be6),_0x3731da(_0x554234,_0x415714,_0x276476),_0x2689d6(_0x534ddc,_0xbd359d,_0x2bc2ee),_0x2689d6(_0x347875,_0x554234,_0x2bc2ee),_0x418742(_0x5c3d01,_0x534ddc,_0x347875),_0x431e47(_0x5c3d01,-0xa*-0x232+-0x265b+0x1067);for(let _0x42f337=0x1d78+-0x21a7+0x42f;_0x42f337<-0x6*-0x65b+-0x1c*0x2e+-0x2b*0xc5;++_0x42f337)_0x3f30ad[_0x5b5361+_0x42f337]+=_0x5c3d01[_0x42f337],_0x3f30ad[_0x1f4be6+_0x42f337]+=_0x5c3d01[_0x42f337],_0x3f30ad[_0x276476+_0x42f337]+=_0x5c3d01[_0x42f337];}for(let _0x1f1925=0x210f+-0x3*-0x351+0x5*-0x89a;_0x1f1925<_0x33a52;++_0x1f1925)_0x431e47(_0x3f30ad,_0x1f1925*(0x1ab9*-0x1+0xb*-0x7+0x9*0x301));return new Uint8Array(_0x3f30ad['buffer']);},_0x1db608=_0x25d32b=>{const _0x4159e6={},_0x32558e=new _0x2a8697['DecoderBuf'+'fer']();_0x32558e['Init'](_0x25d32b,_0x25d32b['length']);const _0x4a5dbe=new _0x2a8697['Decoder']();if(_0x4a5dbe['GetEncoded'+'GeometryTy'+'pe'](_0x32558e)!==_0x2a8697['TRIANGULAR'+'_MESH'])return _0x4159e6['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x4159e6;const _0x46be95=new _0x2a8697['Mesh'](),_0x13013f=_0x4a5dbe['DecodeBuff'+'erToMesh'](_0x32558e,_0x46be95);if(!_0x13013f||!_0x13013f['ok']()||_0x2a8697['getPointer'](_0x46be95)===-0x24e3+0x1690+0xe53)return _0x4159e6['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x4159e6;const _0x54b45c=_0x46be95['num_faces']()*(-0x8ab+-0x81c+0x10ca),_0x329b53=_0x46be95['num_points']()<=-0x63*-0x373+-0x159fd*-0x1+-0x1af77,_0x37fcfe=_0x54b45c*(_0x329b53?0x3*0xb9d+-0xf59+0x137c*-0x1:0x296+-0x29f*0x1+-0xd*-0x1),_0x528498=_0x2a8697['_malloc'](_0x37fcfe);_0x329b53?(_0x4a5dbe['GetTriangl'+'esUInt16Ar'+'ray'](_0x46be95,_0x37fcfe,_0x528498),_0x4159e6['indices']=new Uint16Array(_0x2a8697['HEAPU16']['buffer'],_0x528498,_0x54b45c)['slice']()['buffer']):(_0x4a5dbe['GetTriangl'+'esUInt32Ar'+'ray'](_0x46be95,_0x37fcfe,_0x528498),_0x4159e6['indices']=new Uint32Array(_0x2a8697['HEAPU32']['buffer'],_0x528498,_0x54b45c)['slice']()['buffer']),_0x2a8697['_free'](_0x528498);const _0x5da986=[];for(let _0x4bc55e=0x99e+0xed8*0x1+-0x1876;_0x4bc55e<_0x46be95['num_attrib'+'utes']();++_0x4bc55e)_0x5da986['push'](_0x4a5dbe['GetAttribu'+'te'](_0x46be95,_0x4bc55e));_0x5da986['sort']((_0x52d70a,_0x489fc4)=>(_0x50a6f6[_0x52d70a['attribute_'+'type']()]??_0x50a6f6['length'])-(_0x50a6f6[_0x489fc4['attribute_'+'type']()]??_0x50a6f6['length'])),_0x4159e6['attributes']=_0x5da986['map'](_0x4506e7=>_0x4506e7['unique_id']());let _0x3ca997=-0x1*-0xfa9+0x1*-0x358+0x3*-0x41b;const _0x271598=_0x5da986['map'](_0x3716f3=>{const _0x563de5=_0x3ca997;return _0x3ca997+=Math['ceil'](_0x4f81a1(_0x3716f3)/(-0x1b59+0x1*-0x1d9+0x1d36))*(-0x39a+-0x3e5*0x1+-0x783*-0x1),_0x563de5;}),_0x289ce1=_0x5da986['some'](_0x25707d=>_0x25707d['attribute_'+'type']()===0xa11*-0x1+0x173f+-0xd2d*0x1),_0xe2811d=_0x271598[-0x7b5*-0x2+-0x1d*-0xe5+-0x295a];if(!_0x289ce1){for(let _0x46ef38=-0x1c9*0x4+-0x139d+0x89*0x32;_0x46ef38<_0x271598['length'];++_0x46ef38)_0x271598[_0x46ef38]+=-0x1a18+-0x168b*0x1+0xb*0x46d;_0x3ca997+=0xb25*-0x1+0x206b+-0x1a*0xd1;}_0x4159e6['vertices']=new ArrayBuffer(_0x46be95['num_points']()*_0x3ca997);const _0x1505ef=new Uint8Array(_0x4159e6['vertices']);for(let _0x5deb65=-0x26db+0x30d*-0x9+0x4250;_0x5deb65<_0x46be95['num_attrib'+'utes']();++_0x5deb65){const _0x42f135=_0x5da986[_0x5deb65],_0x3d35c4=_0x4f81a1(_0x42f135),_0x3e7b07=_0x46be95['num_points']()*_0x3d35c4,_0x635a22=_0x2a8697['_malloc'](_0x3e7b07);_0x4a5dbe['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x46be95,_0x42f135,_0x42f135['data_type'](),_0x3e7b07,_0x635a22);const _0xab1d86=new Uint8Array(_0x2a8697['HEAPU8']['buffer'],_0x635a22,_0x3e7b07);for(let _0x6c831e=-0x2702+-0x1edd*-0x1+0x825;_0x6c831e<_0x46be95['num_points']();++_0x6c831e)for(let _0x405e1f=0x21ed+0x20ee+-0x42db;_0x405e1f<_0x3d35c4;++_0x405e1f)_0x1505ef[_0x6c831e*_0x3ca997+_0x271598[_0x5deb65]+_0x405e1f]=_0xab1d86[_0x6c831e*_0x3d35c4+_0x405e1f];if(!_0x289ce1&&_0x42f135['attribute_'+'type']()===0x7*0x107+-0x5db+-0x13*0x12){const _0xb334c4=_0x59e19a(_0xb6b71e(_0xab1d86,_0x42f135['data_type']()),_0x329b53?new Uint16Array(_0x4159e6['indices']):new Uint32Array(_0x4159e6['indices']));for(let _0x79530d=-0x3e9+-0x204f+0x2438;_0x79530d<_0x46be95['num_points']();++_0x79530d)for(let _0x31ccd8=-0xc*-0xf+-0x208c+-0xfec*-0x2;_0x31ccd8<0x1dd8+-0x1e28+-0x2*-0x2e;++_0x31ccd8)_0x1505ef[_0x79530d*_0x3ca997+_0xe2811d+_0x31ccd8]=_0xb334c4[_0x79530d*(-0x8*-0x40d+-0x1fbf+0x1*-0x9d)+_0x31ccd8];}_0x2a8697['_free'](_0x635a22);}return _0x2a8697['destroy'](_0x46be95),_0x2a8697['destroy'](_0x4a5dbe),_0x2a8697['destroy'](_0x32558e),_0x4159e6;},_0x20c7fa=_0x16c2f7=>{const _0x4083d1=_0x1db608(new Uint8Array(_0x16c2f7['buffer']));self['postMessag'+'e']({'jobId':_0x16c2f7['jobId'],'error':_0x4083d1['error'],'indices':_0x4083d1['indices'],'vertices':_0x4083d1['vertices'],'attributes':_0x4083d1['attributes']},[_0x4083d1['indices'],_0x4083d1['vertices']]['filter'](_0x37e04b=>_0x37e04b!=null));},_0x31a72d=[];self['onmessage']=_0x120f36=>{const _0x260aa4=_0x120f36['data'];switch(_0x260aa4['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x2af27e,_0x79c119)=>(WebAssembly['instantiat'+'e'](_0x260aa4['module'],_0x2af27e)['then'](_0x50bb38=>_0x79c119(_0x50bb38))['catch'](_0x2fe68f=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x2fe68f)),{})})['then'](_0x48c876=>{_0x2a8697=_0x48c876,_0x31a72d['forEach'](_0x28b354=>_0x20c7fa(_0x28b354));});break;case'decodeMesh':_0x2a8697?_0x20c7fa(_0x260aa4):_0x31a72d['push'](_0x260aa4);break;}};}const _S=0x1807*-0x1+0x24c3+-0xcb9*0x1;class GF{constructor(){this['workers']=[[],[],[]],this['jobId']=-0x1f1*-0x8+0xea3+-0x1e2b,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x4a672c,_0x48ec38)=>{_0x4a672c['postMessag'+'e']({'type':'decodeMesh','jobId':_0x48ec38['jobId'],'buffer':_0x48ec38['buffer']},[_0x48ec38['buffer']]);};}['init'](_0x15a3d9){for(_0x15a3d9['forEach'](_0x51870d=>{_0x51870d['addEventLi'+'stener']('message',_0x45c194=>{const _0x444551=_0x45c194['data'],_0x8dd4a6=this['jobCallbac'+'ks']['get'](_0x444551['jobId']);if(_0x8dd4a6&&_0x8dd4a6(_0x444551['error'],{'indices':_0x444551['indices'],'vertices':_0x444551['vertices'],'attributes':_0x444551['attributes']}),this['jobCallbac'+'ks']['delete'](_0x444551['jobId']),this['jobQueue']['length']>-0x2619+0x1629*0x1+0xff0){const _0x1679ba=this['jobQueue']['shift']();this['run'](_0x51870d,_0x1679ba);}else{const _0x469eb1=this['workers'][-0x1520+0x2*-0xb7b+-0x2*-0x160c]['indexOf'](_0x51870d);if(_0x469eb1!==-(0xdb3+0x14e9+-0x229b))this['workers'][-0x9e2+-0x107d+0x1a61]['splice'](_0x469eb1,-0xc44+0x14a2+-0x85d),this['workers'][0x8b*0x3b+-0x1a9*-0x5+-0x2855]['push'](_0x51870d);else{const _0x5ef341=this['workers'][0x1dfc*-0x1+0x1b37+0x2c6]['indexOf'](_0x51870d);_0x5ef341!==-(-0x29*-0xc2+0x260e+-0x451f)?(this['workers'][-0x29e*0x1+-0x1f6*-0x9+-0xf07]['splice'](_0x5ef341,0xa*-0x91+0x10b4+-0x71*0x19),this['workers'][-0x1cb4*-0x1+0x19e3+0x2b*-0x145]['push'](_0x51870d)):w['error']('logical\x20er'+'ror');}}});}),this['workers'][0x1cbb+-0xa18+-0x12a3]=_0x15a3d9;this['jobQueue']['length']&&(this['workers'][0xe53+0x2*-0x17+-0xe25]['length']||this['workers'][-0x1fac+0x1ca9+-0x182*-0x2]['length']);){const _0x52ba19=this['jobQueue']['shift']();if(this['workers'][0xfd7+-0x26b9+0x16e2]['length']>-0x224e+0x1380+-0x5*-0x2f6){const _0x8a7eff=this['workers'][-0x6fa+0x26b6+-0x3*0xa94]['shift']();this['workers'][0x1a*0x11b+-0x2*0x620+-0x107d]['push'](_0x8a7eff),this['run'](_0x8a7eff,_0x52ba19);}else{const _0x227883=this['workers'][-0x255+0x3e+0x218]['shift']();this['workers'][-0x1e54+0x21d1+0x3*-0x129]['push'](_0x227883),this['run'](_0x227883,_0x52ba19);}}}['enqueueJob'](_0x26f335,_0x234428){const _0xbd18aa={'jobId':this['jobId']++,'buffer':_0x26f335};if(this['jobCallbac'+'ks']['set'](_0xbd18aa['jobId'],_0x234428),this['workers'][0x1c*0x7+-0x1*0x73c+-0x24*-0x2e]['length']>-0x2*0x73e+0x2ef*-0x2+-0x145a*-0x1){const _0x4e7853=this['workers'][0x1d*0x10c+0x9*0x1b+0x1*-0x1f4f]['shift']();this['workers'][-0xb*-0x274+-0x1*0xc41+-0xeba]['push'](_0x4e7853),this['run'](_0x4e7853,_0xbd18aa);}else{if(this['workers'][-0xac3+-0x1*-0x1c73+0x11af*-0x1]['length']>-0x3c7*-0x8+-0x1857+-0x5e1){const _0x443a4c=this['workers'][0xc*-0x9f+-0x1*0x112a+0x189f]['shift']();this['workers'][-0x13f*-0x12+0xb5a+0x2*-0x10e3]['push'](_0x443a4c),this['run'](_0x443a4c,_0xbd18aa);}else this['jobQueue']['push'](_0xbd18aa);}}}const HF=_0xc04011=>new Promise((_0x472088,_0x5ea47a)=>{const _0x2728b9={'cache':!(0x24e3+-0x2f0*-0x2+-0x7b*0x59),'responseType':'text','retry':_S>-0x4a3*0x6+0x2529+-0x957,'maxRetries':_S};ot['get'](_0xc04011,_0x2728b9,(_0xba1757,_0xc6655)=>{_0xba1757?_0x5ea47a(_0xba1757):_0x472088(_0xc6655);});}),WF=_0x1f4d15=>{const _0x28876a=()=>fetch(_0x1f4d15)['then'](_0x5becdf=>_0x5becdf['arrayBuffe'+'r']())['then'](_0x49c175=>WebAssembly['compile'](_0x49c175)),_0x3813ba=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x1f4d15))['catch'](_0xc8790c=>(w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x1f4d15+'\x20('+_0xc8790c+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x28876a()));return WebAssembly['compileStr'+'eaming']?_0x3813ba():_0x28876a();},gS=-0x2*-0xfbb+0x25*-0xd+-0x2*0xeca;let ih;const $F=_0x4191a7=>{if(ih)return!(0x2001+-0x1a7e*-0x1+-0x3a7f);if(!_0x4191a7){const _0x152dd9=YS['getConfig']('DracoDecod'+'erModule');_0x152dd9?_0x4191a7={'jsUrl':_0x152dd9['glueUrl'],'wasmUrl':_0x152dd9['wasmUrl'],'numWorkers':_0x152dd9['numWorkers']}:_0x4191a7={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':gS};}return!_0x4191a7['jsUrl']||!_0x4191a7['wasmUrl']?!(0x1f5a*-0x1+-0xba5+0x2b00):(ih=new GF(),Promise['all']([HF(_0x4191a7['jsUrl']),WF(_0x4191a7['wasmUrl'])])['then'](([_0x2fcafe,_0x1c5b8b])=>{const _0x5bf4fc=['/*\x20draco\x20*'+'/',_0x2fcafe,'/*\x20worker\x20'+'*/','(\x0a'+VF['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x9ec5ab=new Blob([_0x5bf4fc],{'type':'applicatio'+'n/javascri'+'pt'}),_0xec856a=URL['createObje'+'ctURL'](_0x9ec5ab),_0x136707=Math['max'](-0x1f+-0x216b+0x1*0x218b,Math['min'](0x21d2+0x146*0x6+-0x7*0x5ea,_0x4191a7['numWorkers']||gS)),_0x47d933=[];for(let _0x1cdd85=-0x17+0x91d+-0x906;_0x1cdd85<_0x136707;++_0x1cdd85){const _0x332a2c=new Worker(_0xec856a);_0x332a2c['postMessag'+'e']({'type':'init','module':_0x1c5b8b}),_0x47d933['push'](_0x332a2c);}ih['init'](_0x47d933);}),!(-0x1bdf+0x1*0x563+0x167c));},XF=(_0x85e759,_0x2ea689)=>$F()?(ih['enqueueJob'](_0x85e759,_0x2ea689),!(0x89*-0x7+0x1deb+-0x1a2c)):!(-0x1327*0x1+0x33c*0xb+-0x106c);class qF{constructor(){h(this,'gltf'),h(this,'nodes'),h(this,'scenes'),h(this,'animations'),h(this,'textures'),h(this,'materials'),h(this,'variants'),h(this,'meshVarian'+'ts'),h(this,'meshDefaul'+'tMaterials'),h(this,'renders'),h(this,'skins'),h(this,'lights'),h(this,'cameras'),h(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x90941=>{_0x90941['meshes']=null;});}}const x0=_0x82af88=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x82af88),jF=_0x18c690=>_0x18c690['substring'](_0x18c690['indexOf'](':')+(0x1b49+0x1378+-0x2ec0),_0x18c690['indexOf'](';')),yl=_0x11f7fd=>{switch(_0x11f7fd){case'SCALAR':return-0xbbe+0x24b2+-0x851*0x3;case'VEC2':return-0x189d*0x1+0x132b*-0x1+0x2bca;case'VEC3':return 0x1007*-0x1+0x336+0xcd4;case'VEC4':return-0x10e4+-0x6*0x20d+0x1d36;case'MAT2':return 0x30a+0x1*-0x2647+-0x5f*-0x5f;case'MAT3':return 0x25c0+-0x1*-0x2195+-0x474c;case'MAT4':return-0x19d8+0x10f0+0x8f8;default:return 0x21c+0xb86*0x1+-0x13d*0xb;}},Dd=_0x32ca0a=>{switch(_0x32ca0a){case-0x941*-0x3+0x17e9+0x2*-0xfd6:return dd;case 0xef3+-0x22de*0x1+0x27ec:return la;case 0x43*-0x1d+-0xa4a+0x25e3:return fd;case-0xfa*0x26+0x865*-0x4+-0xd9*-0x6b:return Ml;case 0x1b4f+-0x2*-0x11b0+-0x2aab:return Ty;case-0x19f8+0x24e+0x2baf*0x1:return el;case 0xea6+-0x1a97+0x1ff7:return Ve;default:return 0x3*0x657+0x19bd+-0x2cc2;}},YF=_0x32e3f7=>{switch(_0x32e3f7){case-0x2*0xcbe+0x1382+0x19fa:return-0x4*0x379+0x9a*-0xd+0x147*0x11;case 0x25cf*-0x1+0x464+0x356c:return 0x55d+0x531*-0x6+0x19ca;case 0x14ca+-0x472+-0xe*-0x43:return-0x1*0x1113+-0x119*0x1f+0x331c;case-0x1*0x1834+-0x9ff*0x4+0xf*0x59d:return-0x877*-0x3+-0x12fe+-0x1*0x665;case-0x1*-0x137d+0xb*0x2+0x71*0x1:return 0x138b+0x2*0x49c+-0x1cbf;case 0xf*0x7a+0x10*0x234+0x1*-0x1661:return 0x43*-0x83+-0x1*-0xc0b+0x1642;case-0x5ed*0x5+0x19c*-0xb+0x435b:return-0x2421*-0x1+-0x3*0xa1f+-0x1*0x5c0;default:return-0x45e+-0x18d9+-0x33f*-0x9;}},KF=_0x111335=>{switch(_0x111335){case-0x1*0x2265+-0x17a8+0x1*0x4e0d:return Int8Array;case 0x18b4+0xa1e+-0xed1*0x1:return Uint8Array;case-0x1b*-0x10b+-0x19d3+0x11ac:return Int16Array;case 0x2210+0x1*0x72e+-0x153b:return Uint16Array;case-0x1b04+-0x1fb4+0x4ebc:return Int32Array;case-0x1cd*0x10+-0xba7+-0x4*-0xf1f:return Uint32Array;case-0xfbf+-0x184e+-0x5b*-0xa9:return Float32Array;default:return null;}},Nh={'POSITION':Me,'NORMAL':gs,'TANGENT':yi,'COLOR_0':Wt,'JOINTS_0':us,'WEIGHTS_0':gi,'TEXCOORD_0':is,'TEXCOORD_1':ba,'TEXCOORD_2':wl,'TEXCOORD_3':El,'TEXCOORD_4':bl,'TEXCOORD_5':Al,'TEXCOORD_6':Cl,'TEXCOORD_7':Pl},SS={[Me]:-0x1e65+-0x813+-0x4cf*-0x8,[gs]:0xff3+0x1dac+-0x2d9e,[yi]:-0xd5*0x3+-0xc4+0x345,[Wt]:0x2*-0x706+-0x9a+0x9*0x1a1,[us]:0x1*0x43+-0x1dcc+-0x5e9*-0x5,[gi]:-0x20e3+0xd*-0xa3+0x292f,[is]:0xa6*-0xa+-0x190a+0x1f8c,[ba]:-0x2f8+0x1e*-0x52+-0x1*-0xc9b,[wl]:-0x9a7+-0x31*0x2f+-0x2*-0x957,[El]:0x9d7+-0x3*-0xc5b+0x2edf*-0x1,[bl]:0x13e4+0x19b+0x3*-0x727,[Al]:0x2d7+-0x1f77+0x1cab,[Cl]:0x9cb+-0x1ec5+-0xd*-0x19e,[Pl]:0x1de+0x5c*0xd+-0xb*0x97},ZF=_0x5e797b=>{switch(_0x5e797b){case dd:return _0x8bcfde=>Math['max'](_0x8bcfde/(0x1d*0x115+0x21*0x101+-0x4003),-(0x531*0x1+-0x581+-0x3*-0x1b));case la:return _0x309f42=>_0x309f42/(-0x2669+0x1813+-0x311*-0x5);case fd:return _0x21abe4=>Math['max'](_0x21abe4/(0xbdc8+-0x1*-0x3a3+-0x416c),-(0xe4a+-0x105b*0x1+-0x5*-0x6a));case Ml:return _0x323d41=>_0x323d41/(0x6af*-0x1f+0x8b67*-0x3+0x37165);default:return _0x4d4a60=>_0x4d4a60;}},Gu=(_0x24f207,_0x51732c,_0x16fb79)=>{const _0x5f3847=ZF(_0x16fb79),_0xd949ec=_0x51732c['length'];for(let _0x5818d8=0xdaf+-0xdcd*-0x1+-0x1b7c;_0x5818d8<_0xd949ec;++_0x5818d8)_0x24f207[_0x5818d8]=_0x5f3847(_0x51732c[_0x5818d8]);return _0x24f207;},ua=(_0x28c918,_0x2c9615,_0x575028=!(-0x1106+0x1b4d*-0x1+0x2c54))=>{const _0x11e5ae=yl(_0x28c918['type']),_0x2e8e97=KF(_0x28c918['componentT'+'ype']);if(!_0x2e8e97)return null;let _0x11cdda;if(_0x28c918['sparse']){const _0x213658=_0x28c918['sparse'],_0xdc7aa1={'count':_0x213658['count'],'type':'SCALAR'},_0x2e2b41=ua(Object['assign'](_0xdc7aa1,_0x213658['indices']),_0x2c9615,!(0x69*-0x51+-0x1f7f*-0x1+0x11*0x1a)),_0x130132={'count':_0x213658['count'],'type':_0x28c918['type'],'componentType':_0x28c918['componentT'+'ype']},_0x8a676=ua(Object['assign'](_0x130132,_0x213658['values']),_0x2c9615,!(-0x1*-0x150d+0x245*-0x8+-0x2e5));if(_0x28c918['hasOwnProp'+'erty']('bufferView')){const _0x56b843={'bufferView':_0x28c918['bufferView'],'byteOffset':_0x28c918['byteOffset'],'componentType':_0x28c918['componentT'+'ype'],'count':_0x28c918['count'],'type':_0x28c918['type']};_0x11cdda=ua(_0x56b843,_0x2c9615,!(-0x6b7*-0x5+0xc*-0x2e7+0x141))['slice']();}else _0x11cdda=new _0x2e8e97(_0x28c918['count']*_0x11e5ae);for(let _0x3fad11=0x1775+0x2*-0x1a3+-0x142f;_0x3fad11<_0x213658['count'];++_0x3fad11){const _0x465c1e=_0x2e2b41[_0x3fad11];for(let _0xf77eb5=-0x6b3+-0x1882+0x1f35;_0xf77eb5<_0x11e5ae;++_0xf77eb5)_0x11cdda[_0x465c1e*_0x11e5ae+_0xf77eb5]=_0x8a676[_0x3fad11*_0x11e5ae+_0xf77eb5];}}else{if(_0x28c918['hasOwnProp'+'erty']('bufferView')){const _0x217d18=_0x2c9615[_0x28c918['bufferView']];if(_0x575028&&_0x217d18['hasOwnProp'+'erty']('byteStride')){const _0x3315ba=_0x11e5ae*_0x2e8e97['BYTES_PER_'+'ELEMENT'],_0x5d6cec=new ArrayBuffer(_0x28c918['count']*_0x3315ba),_0x316af6=new Uint8Array(_0x5d6cec);let _0xbf2bef=-0xfd9+-0x538+0x1511;for(let _0x91a0e8=-0x16*-0x151+0x7e9+-0x24df;_0x91a0e8<_0x28c918['count'];++_0x91a0e8){let _0x105134=(_0x28c918['byteOffset']||0x1*-0x537+-0x2389+0x28c0)+_0x91a0e8*_0x217d18['byteStride'];for(let _0x312fac=0x3e*0x55+0x5*-0x78d+0x112b;_0x312fac<_0x3315ba;++_0x312fac)_0x316af6[_0xbf2bef++]=_0x217d18[_0x105134++];}_0x11cdda=new _0x2e8e97(_0x5d6cec);}else _0x11cdda=new _0x2e8e97(_0x217d18['buffer'],_0x217d18['byteOffset']+(_0x28c918['byteOffset']||0x228a+0x69a*0x2+-0x2fbe),_0x28c918['count']*_0x11e5ae);}else _0x11cdda=new _0x2e8e97(_0x28c918['count']*_0x11e5ae);}return _0x11cdda;},Pn=(_0x3d896d,_0x128e39)=>{const _0x352b23=ua(_0x3d896d,_0x128e39,!(-0x5*-0x11c+-0x1*-0x1466+0x19f2*-0x1));if(_0x352b23 instanceof Float32Array||!_0x3d896d['normalized'])return _0x352b23;const _0x48ec94=new Float32Array(_0x352b23['length']);return Gu(_0x48ec94,_0x352b23,Dd(_0x3d896d['componentT'+'ype'])),_0x48ec94;},Hu=_0x3eef05=>{let _0xb52a38=_0x3eef05['min'],_0x29bce7=_0x3eef05['max'];if(!_0xb52a38||!_0x29bce7)return null;if(_0x3eef05['normalized']){const _0x36ff95=Dd(_0x3eef05['componentT'+'ype']);_0xb52a38=Gu([],_0xb52a38,_0x36ff95),_0x29bce7=Gu([],_0x29bce7,_0x36ff95);}return new De(new D((_0x29bce7[0xa6e*0x3+0x1d*0x2+-0x7e1*0x4]+_0xb52a38[-0x13a0+0x596+0xe0a])*(-0xa47+0xc52+-0x20b+0.5),(_0x29bce7[-0x851+-0x1d*0x63+0x3*0x683]+_0xb52a38[0x4b3+0x2252+0x2*-0x1382])*(-0x26b1*-0x1+0x17a5+-0x3e56+0.5),(_0x29bce7[-0x2f0+0x1*-0x15e3+0x18d5]+_0xb52a38[-0x20c5+-0x1bc+-0x5f*-0x5d])*(-0xab*0x32+0x49d+-0x1cc9*-0x1+0.5)),new D((_0x29bce7[0x3*0x7a0+-0x253+-0x148d*0x1]-_0xb52a38[-0x1b*-0xc9+0x5de+-0x1b11])*(0x1*0x1615+0x188f+-0x2ea4+0.5),(_0x29bce7[-0x11a+0x1855+-0x173a]-_0xb52a38[0x1*0x1e01+-0x1c6*0x1+-0x1c3a])*(-0x73b+0x8*-0x473+0x2ad3+0.5),(_0x29bce7[0x2*0x173+-0x1*0xf7+-0x1d*0x11]-_0xb52a38[0xfd*0xf+0x6a8+-0x1579])*(-0x267c+0x21a2+0x4da+0.5)));},T0=_0x5ec988=>{if(!_0x5ec988['hasOwnProp'+'erty']('mode'))return js;switch(_0x5ec988['mode']){case-0x37*0x56+0xc38+0x642:return cd;case-0x9*0x281+0x111e+0x56c:return hd;case-0x3a6*-0x3+-0x1*-0x23e3+-0x2ed3:return _y;case-0x1d5*0x5+0x750+-0x44*-0x7:return gy;case-0x19eb+-0x1b55+0x3544:return js;case 0x2708+-0xed4+-0x182f:return Er;case 0x71*-0x1b+0x115*-0x2+0xe1b*0x1:return oa;default:return js;}},QF=_0xbebc19=>{const _0x4313dc=new Uint16Array(_0xbebc19);for(let _0x3d3faf=-0x1df3+0x1083+0x5*0x2b0;_0x3d3faf<_0xbebc19;_0x3d3faf++)_0x4313dc[_0x3d3faf]=_0x3d3faf;return _0x4313dc;},JF=(_0x249bcb,_0x2f22fc)=>{const _0x2451d2=_0x249bcb[Me];if(!_0x2451d2||_0x2451d2['components']!==-0x1b*-0x106+0xb3e*0x3+-0x3d59)return;let _0x3f8370;if(_0x2451d2['size']!==_0x2451d2['stride']){const _0x1f9306=_0x2451d2['stride']/No[_0x2451d2['type']],_0x3bad71=new wn[_0x2451d2['type']](_0x2451d2['buffer'],_0x2451d2['offset'],_0x2451d2['count']*_0x1f9306);_0x3f8370=new wn[_0x2451d2['type']](_0x2451d2['count']*(-0x8*-0x153+-0x5b0+0xb3*-0x7));for(let _0x4c00cb=-0x1fc1+-0x1*0x551+-0x5*-0x76a;_0x4c00cb<_0x2451d2['count'];++_0x4c00cb)_0x3f8370[_0x4c00cb*(-0x26d8+0x190f+-0xdcc*-0x1)+(-0x40f*0x4+-0xc4a*-0x1+0x3f2)]=_0x3bad71[_0x4c00cb*_0x1f9306+(-0x267c*0x1+-0x4*0x5ed+0x3e30)],_0x3f8370[_0x4c00cb*(0xf6*-0x4+-0x59*0x19+-0x2c*-0x49)+(0x2*-0x98f+0xf2a+-0x3f5*-0x1)]=_0x3bad71[_0x4c00cb*_0x1f9306+(-0x3f4+-0x8f*-0xb+-0x230)],_0x3f8370[_0x4c00cb*(0x18e8+0x18d8+-0x71b*0x7)+(-0x2*-0x805+0x1*-0x1efc+-0x27e*-0x6)]=_0x3bad71[_0x4c00cb*_0x1f9306+(-0x1d21+0x3*-0x9a3+0x3a0c)];}else _0x3f8370=new wn[_0x2451d2['type']](_0x2451d2['buffer'],_0x2451d2['offset'],_0x2451d2['count']*(-0x11b*0x22+0x26d9+-0x140));const _0x15f5ce=_0x2451d2['count'];_0x2f22fc||(_0x2f22fc=QF(_0x15f5ce));const _0x4a1a05=Iv(_0x3f8370,_0x2f22fc),_0x1520be=new Float32Array(_0x4a1a05['length']);_0x1520be['set'](_0x4a1a05),_0x249bcb[gs]={'buffer':_0x1520be['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x15f5ce,'components':0x3,'type':Ve};},eN=_0x5bae8c=>{const _0x3ed81d=_0x393e04=>{const _0x3a6fe6=[];for(let _0x4e2118=-0x1f6f+-0x3ab*0x8+0x3cc7;_0x4e2118<_0x393e04['_levels']['length'];++_0x4e2118){let _0x3a0ce9=[];if(_0x393e04['cubemap']){for(let _0x5d4c77=0x2099+0x1b83+-0x3c1c;_0x5d4c77<0x23de+-0x3f+-0x2399;++_0x5d4c77)_0x3a0ce9['push'](_0x393e04['_levels'][_0x4e2118][_0x5d4c77]);}else _0x3a0ce9=_0x393e04['_levels'][_0x4e2118];_0x3a6fe6['push'](_0x3a0ce9);}return _0x3a6fe6;},_0x173cce=new _e(_0x5bae8c['device'],_0x5bae8c);return _0x173cce['_levels']=_0x3ed81d(_0x5bae8c),_0x173cce;},tN=_0x4f7996=>{const _0xfd7a0c=new pe(_0x4f7996['name']+'_clone',_0x4f7996['type'],_0x4f7996['file'],_0x4f7996['data'],_0x4f7996['options']);return _0xfd7a0c['loaded']=!(0x1*0xcf7+-0x473+-0x884),_0xfd7a0c['resource']=eN(_0x4f7996['resource']),_0x4f7996['registry']['add'](_0xfd7a0c),_0xfd7a0c;},sN=(_0xc256b4,_0x5c76b2)=>{const _0x7b05aa=_0x5c76b2[Me];if(!_0x7b05aa)return null;const _0x3568d3=_0x7b05aa['count'],_0x28b48f=[];for(const _0x29720e in _0x5c76b2)if(_0x5c76b2['hasOwnProp'+'erty'](_0x29720e)){const _0x10a0e6={'semantic':_0x29720e,'components':_0x5c76b2[_0x29720e]['components'],'type':_0x5c76b2[_0x29720e]['type'],'normalize':!!_0x5c76b2[_0x29720e]['normalize']};kt['isElementV'+'alid'](_0xc256b4,_0x10a0e6)||_0x10a0e6['components']++,_0x28b48f['push'](_0x10a0e6);}_0x28b48f['sort']((_0x3f5ec7,_0x59dde6)=>SS[_0x3f5ec7['semantic']]-SS[_0x59dde6['semantic']]);let _0x4563fc,_0x16c3ca,_0x41eeae,_0x48bfdc,_0x78466c,_0x4f3ab1;const _0x56ca97=new kt(_0xc256b4,_0x28b48f);let _0x4e5620=!(-0x2*0x314+0x1b21+-0x1*0x14f9);for(_0x4563fc=-0x9*0x30f+0x5a5+0x15e2;_0x4563fc<_0x56ca97['elements']['length'];++_0x4563fc)if(_0x78466c=_0x56ca97['elements'][_0x4563fc],_0x48bfdc=_0x5c76b2[_0x78466c['name']],_0x4f3ab1=_0x48bfdc['offset']-_0x7b05aa['offset'],_0x48bfdc['buffer']!==_0x7b05aa['buffer']||_0x48bfdc['stride']!==_0x78466c['stride']||_0x48bfdc['size']!==_0x78466c['size']||_0x4f3ab1!==_0x78466c['offset']){_0x4e5620=!(0x1*0xce6+0x254f*0x1+-0x3234);break;}const _0xdcc2ea=new Is(_0xc256b4,_0x56ca97,_0x3568d3),_0x9eb341=_0xdcc2ea['lock'](),_0x386fd9=new Uint32Array(_0x9eb341);let _0x3eddad;if(_0x4e5620)_0x3eddad=new Uint32Array(_0x7b05aa['buffer'],_0x7b05aa['offset'],_0x3568d3*_0xdcc2ea['format']['size']/(-0x2*-0x12f7+-0x3*-0x1eb+-0x7*0x63d)),_0x386fd9['set'](_0x3eddad);else{let _0x3780f3,_0x5dfe94;for(_0x4563fc=-0x866+0xcad+0x49*-0xf;_0x4563fc<_0xdcc2ea['format']['elements']['length'];++_0x4563fc){_0x78466c=_0xdcc2ea['format']['elements'][_0x4563fc],_0x3780f3=_0x78466c['stride']/(-0x24b8+0x3*-0x80f+0x1*0x3ce9),_0x48bfdc=_0x5c76b2[_0x78466c['name']],_0x5dfe94=_0x48bfdc['stride']/(-0x45*0x5f+-0x1ed5+-0xe1d*-0x4),_0x3eddad=new Uint32Array(_0x48bfdc['buffer'],_0x48bfdc['offset'],(_0x48bfdc['count']-(-0x1*-0xe75+-0xaa3+0x3d1*-0x1))*_0x5dfe94+(_0x48bfdc['size']+(-0x1*0xd85+-0x1*-0xab5+0x2d3))/(0xc38+0xa26+-0x165a));let _0x25ae49=-0xb38+0x825+0x313,_0x1300e0=_0x78466c['offset']/(0x101*0xa+0x253+-0xc59);const _0x18e70f=Math['floor']((_0x48bfdc['size']+(-0x783*-0x1+-0x1d*-0x7c+-0x158c))/(0x1b71+0x2*0x335+0x1*-0x21d7));for(_0x16c3ca=-0x74*-0x2b+-0x2076+0xb*0x12e;_0x16c3ca<_0x3568d3;++_0x16c3ca){for(_0x41eeae=-0x1*0x25df+-0x1*0x1e5d+0x443c;_0x41eeae<_0x18e70f;++_0x41eeae)_0x386fd9[_0x1300e0+_0x41eeae]=_0x3eddad[_0x25ae49+_0x41eeae];_0x25ae49+=_0x5dfe94,_0x1300e0+=_0x3780f3;}}}return _0xdcc2ea['unlock'](),_0xdcc2ea;},iN=(_0x467abf,_0x24f693,_0x33f48c,_0x162725,_0x598c07,_0x5bcf46)=>{const _0x11ce89={},_0x792d3b=[];for(const _0x12d84b in _0x24f693)_0x24f693['hasOwnProp'+'erty'](_0x12d84b)&&Nh['hasOwnProp'+'erty'](_0x12d84b)&&(_0x11ce89[_0x12d84b]=_0x24f693[_0x12d84b],_0x792d3b['push'](_0x12d84b+':'+_0x24f693[_0x12d84b]));_0x792d3b['sort']();const _0x22affb=_0x792d3b['join']();let _0x327dae=_0x5bcf46[_0x22affb];if(!_0x327dae){const _0x15de46={};for(const _0x5a38db in _0x11ce89){const _0x2e5688=_0x162725[_0x24f693[_0x5a38db]],_0x1858a6=ua(_0x2e5688,_0x598c07),_0x227354=_0x598c07[_0x2e5688['bufferView']],_0x25aa41=Nh[_0x5a38db],_0x589dd7=yl(_0x2e5688['type'])*YF(_0x2e5688['componentT'+'ype']),_0x3e74fc=_0x227354&&_0x227354['hasOwnProp'+'erty']('byteStride')?_0x227354['byteStride']:_0x589dd7;_0x15de46[_0x25aa41]={'buffer':_0x1858a6['buffer'],'size':_0x589dd7,'offset':_0x1858a6['byteOffset'],'stride':_0x3e74fc,'count':_0x2e5688['count'],'components':yl(_0x2e5688['type']),'type':Dd(_0x2e5688['componentT'+'ype']),'normalize':_0x2e5688['normalized']};}_0x15de46['hasOwnProp'+'erty'](gs)||JF(_0x15de46,_0x33f48c),_0x327dae=sN(_0x467abf,_0x15de46),_0x5bcf46[_0x22affb]=_0x327dae;}return _0x327dae;},rN=(_0x4cba76,_0x10debd,_0x543eff,_0x34c096,_0x5130f9,_0x4e039a)=>{let _0x21f0c8,_0x55506d,_0x4a8f38;const _0xbee139=_0x10debd['joints'],_0x2524b5=_0xbee139['length'],_0x3dde22=[];if(_0x10debd['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x2547d5=_0x10debd['inverseBin'+'dMatrices'],_0x4cfa0b=ua(_0x543eff[_0x2547d5],_0x34c096,!(-0x2316+-0x1*0x17ff+0x3b15)),_0x4f8415=[];for(_0x21f0c8=-0x1674+-0x16f*0x18+0x38dc;_0x21f0c8<_0x2524b5;_0x21f0c8++){for(_0x55506d=0x3*-0x6d9+0xea0+0x5eb;_0x55506d<-0x5*-0x3fd+0x2478+0x1*-0x3859;_0x55506d++)_0x4f8415[_0x55506d]=_0x4cfa0b[_0x21f0c8*(-0x565*-0x3+0x1*0x1eb7+-0x2ed6)+_0x55506d];_0x4a8f38=new te(),_0x4a8f38['set'](_0x4f8415),_0x3dde22['push'](_0x4a8f38);}}else{for(_0x21f0c8=-0x1bf3+-0x2*-0x5d4+0x104b;_0x21f0c8<_0x2524b5;_0x21f0c8++)_0x4a8f38=new te(),_0x3dde22['push'](_0x4a8f38);}const _0x53b0ca=[];for(_0x21f0c8=-0xe48*-0x2+-0xd13*0x1+-0xf7d;_0x21f0c8<_0x2524b5;_0x21f0c8++)_0x53b0ca[_0x21f0c8]=_0x5130f9[_0xbee139[_0x21f0c8]]['name'];const _0x569bb2=_0x53b0ca['join']('#');let _0x1a6e4a=_0x4e039a['get'](_0x569bb2);return _0x1a6e4a||(_0x1a6e4a=new Lv(_0x4cba76,_0x3dde22,_0x53b0ca),_0x4e039a['set'](_0x569bb2,_0x1a6e4a)),_0x1a6e4a;},aN=(_0xac94e0,_0x1b3d4f,_0x105166,_0x5782eb,_0x5cbf06,_0x17383c,_0x500600)=>{var _0x4d9049;const _0x294e6a=new Ge(_0xac94e0);_0x294e6a['aabb']=Hu(_0x105166[_0x1b3d4f['attributes']['POSITION']]);const _0x3a61ec=[];for(const [_0xa899da,_0x2aff38]of Object['entries'](_0x1b3d4f['attributes'])){const _0x282612=_0x105166[_0x2aff38],_0x251d8c=Nh[_0xa899da],_0x4f6cba=Dd(_0x282612['componentT'+'ype']);_0x3a61ec['push']({'semantic':_0x251d8c,'components':yl(_0x282612['type']),'type':_0x4f6cba,'normalize':_0x282612['normalized']??(_0x251d8c===Wt&&(_0x4f6cba===la||_0x4f6cba===Ml))});}if(_0x500600['push'](new Promise((_0x4b51ca,_0x6afad3)=>{const _0x3cc588=_0x1b3d4f['extensions']['KHR_draco_'+'mesh_compr'+'ession'];XF(_0x5782eb[_0x3cc588['bufferView']]['slice']()['buffer'],(_0x539b22,_0x154101)=>{var _0x642e3b;if(_0x539b22)console['log'](_0x539b22),_0x6afad3(_0x539b22);else{const _0x50f866={};for(const [_0x56d1c9,_0x5cfd83]of Object['entries'](_0x3cc588['attributes']))_0x50f866[Nh[_0x56d1c9]]=_0x154101['attributes']['indexOf'](_0x5cfd83);_0x3a61ec['sort']((_0x50317d,_0xcea8d7)=>_0x50f866[_0x50317d['semantic']]-_0x50f866[_0xcea8d7['semantic']]),(_0x642e3b=_0x1b3d4f['attributes'])!=null&&_0x642e3b['NORMAL']||_0x3a61ec['splice'](-0x62b+-0x1276+0x18a2,-0xeb2+-0x52f*-0x1+0x983,{'semantic':'NORMAL','components':0x3,'type':Ve});const _0x549deb=new kt(_0xac94e0,_0x3a61ec),_0x5bc691=_0x154101['vertices']['byteLength']/_0x549deb['size'],_0xbcb0c5=_0x5bc691<=-0x18998+-0x654b+0x2eee2?Yi:wr,_0x5f06da=_0x154101['indices']['byteLength']/(_0x5bc691<=-0x11642*0x1+0x4b*-0x10f+0x265a6?0x1*0x246f+-0x4*-0x2ef+0x3029*-0x1:-0x2*0x9fe+0x59e*-0x1+0x199e);w['call'](()=>{_0x5bc691!==_0x105166[_0x1b3d4f['attributes']['POSITION']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0x5f06da!==_0x105166[_0x1b3d4f['indices']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x66847f=new Is(_0xac94e0,_0x549deb,_0x5bc691,{'data':_0x154101['vertices']}),_0x508143=new br(_0xac94e0,_0xbcb0c5,_0x5f06da,ms,_0x154101['indices']);_0x294e6a['vertexBuff'+'er']=_0x66847f,_0x294e6a['indexBuffe'+'r'][0x84f+0x1717*-0x1+0xec8]=_0x508143,_0x294e6a['primitive'][0x59*0x9+0x1027+-0x1348]['type']=T0(_0x1b3d4f),_0x294e6a['primitive'][0x181d+-0x29*-0xb1+-0x1a3b*0x2]['base']=-0x1*-0x12c4+-0xe84+-0x440,_0x294e6a['primitive'][0x2eb+-0x6cd*-0x1+-0x9b8]['count']=_0x508143?_0x5f06da:_0x5bc691,_0x294e6a['primitive'][0x3*-0x501+0x7*0x42d+-0xa*0x16c]['indexed']=!!_0x508143,_0x4b51ca();}});})),(_0x4d9049=_0x1b3d4f==null?void(0x1435*-0x1+0x214f+-0xd1a):_0x1b3d4f['extensions'])!=null&&_0x4d9049['KHR_materi'+'als_varian'+'ts']){const _0x400e7f=_0x1b3d4f['extensions']['KHR_materi'+'als_varian'+'ts'],_0x20b250={};_0x400e7f['mappings']['forEach'](_0x36d30d=>{_0x36d30d['variants']['forEach'](_0x4df6a3=>{_0x20b250[_0x4df6a3]=_0x36d30d['material'];});}),_0x5cbf06[_0x294e6a['id']]=_0x20b250;}return _0x17383c[_0x294e6a['id']]=_0x1b3d4f['material'],_0x294e6a;},nN=(_0x4e733e,_0x595288,_0x455528,_0x4e5f7d,_0xbf3b19,_0x4af3a3,_0x373808,_0x3bb7fc,_0x2d84a8)=>{const _0x249fa5=[];return _0x595288['primitives']['forEach'](_0x352d67=>{var _0x197f4e;if((_0x197f4e=_0x352d67['extensions'])!=null&&_0x197f4e['KHR_draco_'+'mesh_compr'+'ession'])_0x249fa5['push'](aN(_0x4e733e,_0x352d67,_0x455528,_0x4e5f7d,_0x4af3a3,_0x373808,_0x2d84a8));else{let _0x283077=_0x352d67['hasOwnProp'+'erty']('indices')?ua(_0x455528[_0x352d67['indices']],_0x4e5f7d,!(0x148a+-0x2667*-0x1+-0x3af1*0x1)):null;const _0x44f32f=iN(_0x4e733e,_0x352d67['attributes'],_0x283077,_0x455528,_0x4e5f7d,_0xbf3b19),_0x41079b=T0(_0x352d67),_0x560c73=new Ge(_0x4e733e);if(_0x560c73['vertexBuff'+'er']=_0x44f32f,_0x560c73['primitive'][0x42f+-0x1fca+-0xbf*-0x25]['type']=_0x41079b,_0x560c73['primitive'][-0xb2*-0x33+0x1*0x245+-0x25bb]['base']=-0x49+-0x1ef1*0x1+0x1*0x1f3a,_0x560c73['primitive'][0x10ba+0x222f+-0x32e9*0x1]['indexed']=_0x283077!==null,_0x283077!==null){let _0x25b046;_0x283077 instanceof Uint8Array?_0x25b046=$f:_0x283077 instanceof Uint16Array?_0x25b046=Yi:_0x25b046=wr,_0x25b046===$f&&_0x4e733e['isWebGPU']&&(_0x25b046=Yi,_0x283077=new Uint16Array(_0x283077));const _0x16e209=new br(_0x4e733e,_0x25b046,_0x283077['length'],ms,_0x283077);_0x560c73['indexBuffe'+'r'][-0x2*-0x139+-0xe00+-0x22*-0x57]=_0x16e209,_0x560c73['primitive'][-0x176a+-0x31*0x1d+-0x5*-0x5cb]['count']=_0x283077['length'];}else _0x560c73['primitive'][-0x14+-0xe03+-0x1*-0xe17]['count']=_0x44f32f['numVertice'+'s'];if(_0x352d67['hasOwnProp'+'erty']('extensions')&&_0x352d67['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x518671=_0x352d67['extensions']['KHR_materi'+'als_varian'+'ts'],_0x18d8b4={};_0x518671['mappings']['forEach'](_0x2fe82d=>{_0x2fe82d['variants']['forEach'](_0x3d0bb0=>{_0x18d8b4[_0x3d0bb0]=_0x2fe82d['material'];});}),_0x4af3a3[_0x560c73['id']]=_0x18d8b4;}_0x373808[_0x560c73['id']]=_0x352d67['material'];let _0x486d13=_0x455528[_0x352d67['attributes']['POSITION']];if(_0x560c73['aabb']=Hu(_0x486d13),_0x352d67['hasOwnProp'+'erty']('targets')){const _0x2c2033=[];_0x352d67['targets']['forEach']((_0x3da111,_0x2b6349)=>{const _0x12bb51={};_0x3da111['hasOwnProp'+'erty']('POSITION')&&(_0x486d13=_0x455528[_0x3da111['POSITION']],_0x12bb51['deltaPosit'+'ions']=Pn(_0x486d13,_0x4e5f7d),_0x12bb51['aabb']=Hu(_0x486d13)),_0x3da111['hasOwnProp'+'erty']('NORMAL')&&(_0x486d13=_0x455528[_0x3da111['NORMAL']],_0x12bb51['deltaNorma'+'ls']=Pn(_0x486d13,_0x4e5f7d)),_0x595288['hasOwnProp'+'erty']('extras')&&_0x595288['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x12bb51['name']=_0x595288['extras']['targetName'+'s'][_0x2b6349]:_0x12bb51['name']=_0x2b6349['toString'](0x1a31+0x216*-0x4+-0x11cf*0x1),_0x595288['hasOwnProp'+'erty']('weights')&&(_0x12bb51['defaultWei'+'ght']=_0x595288['weights'][_0x2b6349]),_0x12bb51['preserveDa'+'ta']=_0x3bb7fc['morphPrese'+'rveData'],_0x2c2033['push'](new Md(_0x12bb51));}),_0x560c73['morph']=new mm(_0x2c2033,_0x4e733e,{'preferHighPrecision':_0x3bb7fc['morphPrefe'+'rHighPreci'+'sion']});}_0x249fa5['push'](_0x560c73);}}),_0x249fa5;},Dt=(_0x47b2ea,_0x12c8cc,_0xe0fb3a)=>{var _0x5727fc;let _0x36def8;const _0x3926ee=_0x47b2ea['texCoord'];if(_0x3926ee){for(_0x36def8=0x2*-0x10ed+-0x3f5*0x7+0x3d8d;_0x36def8<_0xe0fb3a['length'];++_0x36def8)_0x12c8cc[_0xe0fb3a[_0x36def8]+'MapUv']=_0x3926ee;}const _0xfdc8d4=[-0xc1f+-0x329*-0x2+0xb*0x87,-0x107*-0x1b+0x1a8d+-0x364a*0x1],_0x3d4196=[0x12e6+0xa16+-0x3*0x9a9,0xd*-0x301+0x724*0x4+0x53f*0x2],_0x1f786d=(_0x5727fc=_0x47b2ea['extensions'])==null?void(0x111e*-0x2+-0x1*-0x1f0c+0x30*0x11):_0x5727fc['KHR_textur'+'e_transfor'+'m'];if(_0x1f786d){const _0x1b9f83=_0x1f786d['offset']||_0xfdc8d4,_0x3d362f=_0x1f786d['scale']||_0x3d4196,_0x31e93e=_0x1f786d['rotation']?-_0x1f786d['rotation']*Y['RAD_TO_DEG']:-0x29*0x2e+-0xdf*-0x8+0x66,_0x32597c=new J(_0x3d362f[0x1a76+-0x1*-0x26b+-0x1ce1],_0x3d362f[0x224b+-0xa39*-0x1+0xd7*-0x35]),_0x746b6b=new J(_0x1b9f83[-0x6*0x9b+0xa2b+-0x689],-0xe7a+-0x17de+0x2659-_0x3d362f[0x3*-0xaff+0xcfb+0x1403]-_0x1b9f83[0x7*-0x224+-0x74*-0x15+-0x1d3*-0x3]);for(_0x36def8=-0x4e8*0x7+0x1*-0xe50+0x30a8;_0x36def8<_0xe0fb3a['length'];++_0x36def8)_0x12c8cc[_0xe0fb3a[_0x36def8]+'MapTiling']=_0x32597c,_0x12c8cc[_0xe0fb3a[_0x36def8]+'MapOffset']=_0x746b6b,_0x12c8cc[_0xe0fb3a[_0x36def8]+('MapRotatio'+'n')]=_0x31e93e;}},oN=(_0x1c690b,_0x1e132c,_0x10f36c)=>{let _0x11a26e,_0x38f7ae;if(_0x1c690b['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x11a26e=_0x1c690b['diffuseFac'+'tor'],_0x1e132c['diffuse']['set'](Math['pow'](_0x11a26e[0x7*0x269+0x1213*0x1+-0x22f2],(0xd*0xf1+0x200f+-0x2c4b)/(0xeaf+0x1bd6+-0x2a83+0.20000000000000018)),Math['pow'](_0x11a26e[0x47*0x59+-0x2543+-0xc95*-0x1],(0x181e+0x31*0x2d+-0x20ba)/(0x25d*0x9+-0x2104+-0x3b*-0x33+0.20000000000000018)),Math['pow'](_0x11a26e[0x3aa*0x4+-0x7ab*-0x5+-0x1*0x34fd],(0x9*-0x329+-0x1*-0x8b0+0x13c2)/(0x329*0xc+0x1dde+-0x43c8+0.20000000000000018))),_0x1e132c['opacity']=_0x11a26e[0x4cf+-0xdd*-0x15+0x1*-0x16ed]):(_0x1e132c['diffuse']['set'](0x1*-0x2aa+0x26ef+-0x2444,-0x543*-0x5+0x10f2+-0x2b40,-0xbdf+0x188c+-0xcac),_0x1e132c['opacity']=0x3ec+0x104d+0x1438*-0x1),_0x1c690b['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x5b286d=_0x1c690b['diffuseTex'+'ture'];_0x38f7ae=_0x10f36c[_0x5b286d['index']],_0x1e132c['diffuseMap']=_0x38f7ae,_0x1e132c['diffuseMap'+'Channel']='rgb',_0x1e132c['opacityMap']=_0x38f7ae,_0x1e132c['opacityMap'+'Channel']='a',Dt(_0x5b286d,_0x1e132c,['diffuse','opacity']);}if(_0x1e132c['useMetalne'+'ss']=!(-0x15b4+-0x21c9+0x377e),_0x1c690b['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x11a26e=_0x1c690b['specularFa'+'ctor'],_0x1e132c['specular']['set'](Math['pow'](_0x11a26e[0x580+0x61*-0x4f+0x186f],(-0x3c9*0x5+0x15f2+-0x182*0x2)/(-0x67*0x5d+-0x12a+0x2697+0.20000000000000018)),Math['pow'](_0x11a26e[-0xeae*-0x1+-0x1087*-0x1+-0x1f34],(0x2*-0x559+0x1*0x581+0x10a*0x5)/(-0x1445*0x1+0x142c*-0x1+0x2873+0.20000000000000018)),Math['pow'](_0x11a26e[0x1*-0x100b+-0x26ed*0x1+0x3e*0xe3],(-0x24f2+-0x1866+0x3d59)/(0x1edd*-0x1+0x11d3+-0x686*-0x2+0.20000000000000018)))):_0x1e132c['specular']['set'](-0x1a02*0x1+0xd*0x243+-0x364*0x1,0x123f+0xcca+-0x1f08,0x1*-0x784+0x1b26+0x5*-0x3ed),_0x1c690b['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x1e132c['gloss']=_0x1c690b['glossiness'+'Factor']:_0x1e132c['gloss']=0x22c8+-0x5*0x411+-0xe72,_0x1c690b['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x3237ba=_0x1c690b['specularGl'+'ossinessTe'+'xture'];_0x1e132c['specularMa'+'p']=_0x1e132c['glossMap']=_0x10f36c[_0x3237ba['index']],_0x1e132c['specularMa'+'pChannel']='rgb',_0x1e132c['glossMapCh'+'annel']='a',Dt(_0x3237ba,_0x1e132c,['gloss','metalness']);}},lN=(_0x46fd9b,_0x325adf,_0x5d38cd)=>{if(_0x46fd9b['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x325adf['clearCoat']=_0x46fd9b['clearcoatF'+'actor']*(0x221*-0x9+-0xd*0x65+0x184a+0.25):_0x325adf['clearCoat']=0x6*-0x227+-0x4*-0x2ff+0xee,_0x46fd9b['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0x4e0c5c=_0x46fd9b['clearcoatT'+'exture'];_0x325adf['clearCoatM'+'ap']=_0x5d38cd[_0x4e0c5c['index']],_0x325adf['clearCoatM'+'apChannel']='r',Dt(_0x4e0c5c,_0x325adf,['clearCoat']);}if(_0x46fd9b['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x325adf['clearCoatG'+'loss']=_0x46fd9b['clearcoatR'+'oughnessFa'+'ctor']:_0x325adf['clearCoatG'+'loss']=0xb0b*-0x2+0x1*-0x18a6+0x2ebc,_0x46fd9b['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0x1cae55=_0x46fd9b['clearcoatR'+'oughnessTe'+'xture'];_0x325adf['clearCoatG'+'lossMap']=_0x5d38cd[_0x1cae55['index']],_0x325adf['clearCoatG'+'lossMapCha'+'nnel']='g',Dt(_0x1cae55,_0x325adf,['clearCoatG'+'loss']);}if(_0x46fd9b['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x43a47e=_0x46fd9b['clearcoatN'+'ormalTextu'+'re'];_0x325adf['clearCoatN'+'ormalMap']=_0x5d38cd[_0x43a47e['index']],Dt(_0x43a47e,_0x325adf,['clearCoatN'+'ormal']),_0x43a47e['hasOwnProp'+'erty']('scale')?_0x325adf['clearCoatB'+'umpiness']=_0x43a47e['scale']:_0x325adf['clearCoatB'+'umpiness']=0x1*0x2581+-0x3*0xc11+-0x14d;}_0x325adf['clearCoatG'+'lossInvert']=!(-0x2*-0x55a+0x196f*0x1+-0x349*0xb);},cN=(_0x29f3e8,_0x4d1ac8,_0x4baef5)=>{_0x4d1ac8['useLightin'+'g']=!(0x63a*0x4+-0x1254+-0xb*0x99),_0x4d1ac8['emissive']['copy'](_0x4d1ac8['diffuse']),_0x4d1ac8['emissiveMa'+'p']=_0x4d1ac8['diffuseMap'],_0x4d1ac8['emissiveMa'+'pUv']=_0x4d1ac8['diffuseMap'+'Uv'],_0x4d1ac8['emissiveMa'+'pTiling']['copy'](_0x4d1ac8['diffuseMap'+'Tiling']),_0x4d1ac8['emissiveMa'+'pOffset']['copy'](_0x4d1ac8['diffuseMap'+'Offset']),_0x4d1ac8['emissiveMa'+'pRotation']=_0x4d1ac8['diffuseMap'+'Rotation'],_0x4d1ac8['emissiveMa'+'pChannel']=_0x4d1ac8['diffuseMap'+'Channel'],_0x4d1ac8['emissiveVe'+'rtexColor']=_0x4d1ac8['diffuseVer'+'texColor'],_0x4d1ac8['emissiveVe'+'rtexColorC'+'hannel']=_0x4d1ac8['diffuseVer'+'texColorCh'+'annel'],_0x4d1ac8['useLightin'+'g']=!(-0xa49*-0x3+-0x1*-0x2f1+0x29*-0xd3),_0x4d1ac8['useSkybox']=!(-0x1*-0x205d+-0x1db7*-0x1+0x1*-0x3e13),_0x4d1ac8['diffuse']['set'](0x13a2+0x1415+-0x13db*0x2,0x679*-0x1+-0x261f*0x1+0x65f*0x7,-0x13af+-0xa*-0x23e+-0x2bc),_0x4d1ac8['diffuseMap']=null,_0x4d1ac8['diffuseVer'+'texColor']=!(0x1f02+0x2567*-0x1+-0x2*-0x333);},hN=(_0x3e052a,_0x39f968,_0x10a5d4)=>{if(_0x39f968['useMetalne'+'ssSpecular'+'Color']=!(0x1f00+0xf62+-0x2e62),_0x3e052a['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x39f968['specularMa'+'p']=_0x10a5d4[_0x3e052a['specularCo'+'lorTexture']['index']],_0x39f968['specularMa'+'pChannel']='rgb',Dt(_0x3e052a['specularCo'+'lorTexture'],_0x39f968,['specular'])),_0x3e052a['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x5b7e1e=_0x3e052a['specularCo'+'lorFactor'];_0x39f968['specular']['set'](Math['pow'](_0x5b7e1e[-0xaf7*-0x2+0xeaa*0x2+-0x3342],(-0x1*-0x2507+-0x155d+-0xfa9)/(0xcc6+0x1047+-0x5cf*0x5+0.20000000000000018)),Math['pow'](_0x5b7e1e[-0xb4a+-0xe5d*-0x1+-0x312],(0x5*0xfb+-0x1385+0xe9f)/(0x16*0x22+0x11*-0x25+-0x75+0.20000000000000018)),Math['pow'](_0x5b7e1e[0x1*0x16df+-0x1*-0x101b+0x137c*-0x2],(-0x1eee+0x2174+-0x285)/(0x7ad+-0x3*0x5ea+0xa13+0.20000000000000018)));}else _0x39f968['specular']['set'](0x1*0x1f4b+-0x106+-0x1e44,-0xf41+-0xad*-0x2f+-0x1081,0x1af5+0x1ea+0x5*-0x5c6);_0x3e052a['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x39f968['specularit'+'yFactor']=_0x3e052a['specularFa'+'ctor']:_0x39f968['specularit'+'yFactor']=-0x2*0x775+-0x1*0x9bc+0x18a7,_0x3e052a['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x39f968['specularit'+'yFactorMap'+'Channel']='a',_0x39f968['specularit'+'yFactorMap']=_0x10a5d4[_0x3e052a['specularTe'+'xture']['index']],Dt(_0x3e052a['specularTe'+'xture'],_0x39f968,['specularit'+'yFactor']));},dN=(_0x533da5,_0x19a460,_0x4baa10)=>{_0x533da5['hasOwnProp'+'erty']('ior')&&(_0x19a460['refraction'+'Index']=(-0xca*0x4+-0x22c0+0x25e9)/_0x533da5['ior']);},fN=(_0x4d8350,_0x45376f,_0x1d6ff6)=>{_0x4d8350['hasOwnProp'+'erty']('dispersion')&&(_0x45376f['dispersion']=_0x4d8350['dispersion']);},uN=(_0x17ed23,_0x49318b,_0x3ba3ed)=>{_0x49318b['blendType']=Zs,_0x49318b['useDynamic'+'Refraction']=!(0x2416+0x2*-0x92c+-0x11be),_0x17ed23['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x49318b['refraction']=_0x17ed23['transmissi'+'onFactor']),_0x17ed23['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x49318b['refraction'+'MapChannel']='r',_0x49318b['refraction'+'Map']=_0x3ba3ed[_0x17ed23['transmissi'+'onTexture']['index']],Dt(_0x17ed23['transmissi'+'onTexture'],_0x49318b,['refraction']));},pN=(_0x5112da,_0x12d082,_0x4e2bdd)=>{if(_0x12d082['useSheen']=!(-0x1*0x6bb+0x1912*0x1+-0x3ab*0x5),_0x5112da['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0xc37894=_0x5112da['sheenColor'+'Factor'];_0x12d082['sheen']['set'](Math['pow'](_0xc37894[0x3*-0x4d+0x15*0x84+0xe7*-0xb],(-0xb75+-0x157f+-0x20f5*-0x1)/(-0x129b+0x83*0x5+0x336*0x5+0.20000000000000018)),Math['pow'](_0xc37894[-0x1171+-0x300+0x1472],(-0x22ea+0x2f3+0x5d*0x58)/(0x1*0xdd3+0x115d+-0x1f2e+0.20000000000000018)),Math['pow'](_0xc37894[0x625+-0x1*0x13ed+0xdca],(0x2056*0x1+-0x4d0+-0x581*0x5)/(-0xe2*0x14+0x2*0x245+0xd20+0.20000000000000018)));}else _0x12d082['sheen']['set'](-0x11bb+-0x1e66+-0x3022*-0x1,0x1*-0x14fc+-0x2*0x287+0x71*0x3b,-0x1d*-0x66+-0x978+-0x1*0x215);_0x5112da['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x12d082['sheenMap']=_0x4e2bdd[_0x5112da['sheenColor'+'Texture']['index']],Dt(_0x5112da['sheenColor'+'Texture'],_0x12d082,['sheen'])),_0x12d082['sheenGloss']=_0x5112da['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x5112da['sheenRough'+'nessFactor']:0x268a+0xea0+0x5*-0xaa2,_0x5112da['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x12d082['sheenGloss'+'Map']=_0x4e2bdd[_0x5112da['sheenRough'+'nessTextur'+'e']['index']],_0x12d082['sheenGloss'+'MapChannel']='a',Dt(_0x5112da['sheenRough'+'nessTextur'+'e'],_0x12d082,['sheenGloss'])),_0x12d082['sheenGloss'+'Invert']=!(-0x34*-0x80+-0x13e0+0x38*-0x1c);},mN=(_0x1b6586,_0x9a2b31,_0x4c6521)=>{if(_0x9a2b31['blendType']=Zs,_0x9a2b31['useDynamic'+'Refraction']=!(-0x268e+0x86b+0x1e23),_0x1b6586['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0x9a2b31['thickness']=_0x1b6586['thicknessF'+'actor']),_0x1b6586['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0x9a2b31['thicknessM'+'ap']=_0x4c6521[_0x1b6586['thicknessT'+'exture']['index']],_0x9a2b31['thicknessM'+'apChannel']='g',Dt(_0x1b6586['thicknessT'+'exture'],_0x9a2b31,['thickness'])),_0x1b6586['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0x9a2b31['attenuatio'+'nDistance']=_0x1b6586['attenuatio'+'nDistance']),_0x1b6586['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x14806a=_0x1b6586['attenuatio'+'nColor'];_0x9a2b31['attenuatio'+'n']['set'](Math['pow'](_0x14806a[-0x47*-0x55+-0x4*-0x48b+0x1*-0x29bf],(-0x5*0xc1+-0x3d*0x3d+-0x124f*-0x1)/(0x1da6+-0x1add+-0x2c7+0.20000000000000018)),Math['pow'](_0x14806a[-0x72f+0x25fd+0x1*-0x1ecd],(-0x2*0xcd7+0x206b+0x1*-0x6bc)/(-0x11b*-0xf+0xb*-0x255+0x914+0.20000000000000018)),Math['pow'](_0x14806a[0xee6*0x1+0x1837+-0x3*0xd09],(-0x1050+0x257f+-0x152e)/(0x419*-0x4+-0x4d*-0x13+0xaaf+0.20000000000000018)));}},_N=(_0x1a99ce,_0x16ee3b,_0x2fface)=>{_0x1a99ce['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x16ee3b['emissiveIn'+'tensity']=_0x1a99ce['emissiveSt'+'rength']);},gN=(_0x1db9d8,_0x28009a,_0x1b0122)=>{_0x28009a['useIridesc'+'ence']=!(0x6*0x437+-0x2*-0xf6f+0xe0a*-0x4),_0x1db9d8['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x28009a['iridescenc'+'e']=_0x1db9d8['iridescenc'+'eFactor']),_0x1db9d8['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x28009a['iridescenc'+'eMapChanne'+'l']='r',_0x28009a['iridescenc'+'eMap']=_0x1b0122[_0x1db9d8['iridescenc'+'eTexture']['index']],Dt(_0x1db9d8['iridescenc'+'eTexture'],_0x28009a,['iridescenc'+'e'])),_0x1db9d8['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x28009a['iridescenc'+'eRefractio'+'nIndex']=_0x1db9d8['iridescenc'+'eIor']),_0x1db9d8['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x28009a['iridescenc'+'eThickness'+'Min']=_0x1db9d8['iridescenc'+'eThickness'+'Minimum']),_0x1db9d8['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x28009a['iridescenc'+'eThickness'+'Max']=_0x1db9d8['iridescenc'+'eThickness'+'Maximum']),_0x1db9d8['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x28009a['iridescenc'+'eThickness'+'MapChannel']='g',_0x28009a['iridescenc'+'eThickness'+'Map']=_0x1b0122[_0x1db9d8['iridescenc'+'eThickness'+'Texture']['index']],Dt(_0x1db9d8['iridescenc'+'eThickness'+'Texture'],_0x28009a,['iridescenc'+'eThickness']));},SN=(_0x5ac230,_0x49f01c,_0x1ba23c)=>{if(_0x49f01c['enableGGXS'+'pecular']=!(0x4ee+0xa28+-0xf16),_0x5ac230['hasOwnProp'+'erty']('anisotropy'+'Strength')?_0x49f01c['anisotropy'+'Intensity']=_0x5ac230['anisotropy'+'Strength']:_0x49f01c['anisotropy'+'Intensity']=0x465+0x2458+-0x28bd*0x1,_0x5ac230['hasOwnProp'+'erty']('anisotropy'+'Texture')){const _0x584ef1=_0x5ac230['anisotropy'+'Texture'];_0x49f01c['anisotropy'+'Map']=_0x1ba23c[_0x584ef1['index']],Dt(_0x584ef1,_0x49f01c,['anisotropy']);}_0x5ac230['hasOwnProp'+'erty']('anisotropy'+'Rotation')?_0x49f01c['anisotropy'+'Rotation']=_0x5ac230['anisotropy'+'Rotation']*Y['RAD_TO_DEG']:_0x49f01c['anisotropy'+'Rotation']=0x3f8*0x8+-0x21a5+-0x1e5*-0x1;},w0=(_0x313dee,_0x3f91c2)=>{const _0xa7d71c=new Ut();_0x313dee['hasOwnProp'+'erty']('name')&&(_0xa7d71c['name']=_0x313dee['name']),_0xa7d71c['occludeSpe'+'cular']=bd,_0xa7d71c['diffuseVer'+'texColor']=!(0x7*-0x409+-0x8*0x46a+0x133*0x35),_0xa7d71c['specularTi'+'nt']=!(0xf4+0x823*0x1+0xb3*-0xd),_0xa7d71c['specularVe'+'rtexColor']=!(-0x619+-0x1*0x2492+0x2aab),_0xa7d71c['specular']['set'](-0x47*-0x2f+-0x2*-0xf44+0x4*-0xae4,-0x1655+0xd9d+0x8b9,-0x17af+0x2*0x106+-0x14*-0x115),_0xa7d71c['gloss']=-0x2704+0x61d*-0x3+0x395c,_0xa7d71c['glossInver'+'t']=!(-0x913*0x1+-0x1ef9+0x3a4*0xb),_0xa7d71c['useMetalne'+'ss']=!(0x2a4*-0xd+-0x415+0x2669);let _0x173b22,_0x3eb3c2;if(_0x313dee['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x534256=_0x313dee['pbrMetalli'+'cRoughness'];if(_0x534256['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x173b22=_0x534256['baseColorF'+'actor'],_0xa7d71c['diffuse']['set'](Math['pow'](_0x173b22[-0x167a+-0x18b9*-0x1+-0x23f],(0x1e03+-0x1168+-0xc9a)/(-0x1*0x25a+-0x1*0x1633+0x188f+0.20000000000000018)),Math['pow'](_0x173b22[-0x29*-0x3a+0x1d6*-0x3+-0x1*0x3c7],(-0xb7c+0x1f0f+-0x9c9*0x2)/(0x1*0x2087+-0x103d+-0x1048+0.20000000000000018)),Math['pow'](_0x173b22[-0x1fb8+-0x18ca+0x3884],(-0x11b7+-0xd41+0x1ef9)/(0x1*0x149+0x35*-0x4a+0xe0b*0x1+0.20000000000000018))),_0xa7d71c['opacity']=_0x173b22[0x102d+-0x2*0x129e+-0xba*-0x1d]),_0x534256['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x8656a=_0x534256['baseColorT'+'exture'];_0x3eb3c2=_0x3f91c2[_0x8656a['index']],_0xa7d71c['diffuseMap']=_0x3eb3c2,_0xa7d71c['diffuseMap'+'Channel']='rgb',_0xa7d71c['opacityMap']=_0x3eb3c2,_0xa7d71c['opacityMap'+'Channel']='a',Dt(_0x8656a,_0xa7d71c,['diffuse','opacity']);}if(_0x534256['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0xa7d71c['metalness']=_0x534256['metallicFa'+'ctor']),_0x534256['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0xa7d71c['gloss']=_0x534256['roughnessF'+'actor']),_0x534256['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x2c8147=_0x534256['metallicRo'+'ughnessTex'+'ture'];_0xa7d71c['metalnessM'+'ap']=_0xa7d71c['glossMap']=_0x3f91c2[_0x2c8147['index']],_0xa7d71c['metalnessM'+'apChannel']='b',_0xa7d71c['glossMapCh'+'annel']='g',Dt(_0x2c8147,_0xa7d71c,['gloss','metalness']);}}if(_0x313dee['hasOwnProp'+'erty']('normalText'+'ure')){const _0x556ae5=_0x313dee['normalText'+'ure'];_0xa7d71c['normalMap']=_0x3f91c2[_0x556ae5['index']],Dt(_0x556ae5,_0xa7d71c,['normal']),_0x556ae5['hasOwnProp'+'erty']('scale')&&(_0xa7d71c['bumpiness']=_0x556ae5['scale']);}if(_0x313dee['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x1af98b=_0x313dee['occlusionT'+'exture'];_0xa7d71c['aoMap']=_0x3f91c2[_0x1af98b['index']],_0xa7d71c['aoMapChann'+'el']='r',Dt(_0x1af98b,_0xa7d71c,['ao']);}if(_0x313dee['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x173b22=_0x313dee['emissiveFa'+'ctor'],_0xa7d71c['emissive']['set'](Math['pow'](_0x173b22[0x4a0+-0xf78+0x56c*0x2],(-0x1b14+0x651+0x14c4)/(0xdfd+-0x1*-0x1f0+-0xfeb+0.20000000000000018)),Math['pow'](_0x173b22[0x277*-0xe+0x1*-0xb8d+0x2e10],(-0x26e6+-0x19ed+-0x40d4*-0x1)/(-0x429+0x1*-0xa5+-0x70*-0xb+0.20000000000000018)),Math['pow'](_0x173b22[-0x6*-0x34+0x7f*0x33+-0x1a83],(-0x41*0x63+-0x1254+0x2b78)/(-0x2*-0x775+-0xc33+0x3*-0xe7+0.20000000000000018)))),_0x313dee['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0xb7ef17=_0x313dee['emissiveTe'+'xture'];_0xa7d71c['emissiveMa'+'p']=_0x3f91c2[_0xb7ef17['index']],Dt(_0xb7ef17,_0xa7d71c,['emissive']);}if(_0x313dee['hasOwnProp'+'erty']('alphaMode'))switch(_0x313dee['alphaMode']){case'MASK':_0xa7d71c['blendType']=Cs,_0x313dee['hasOwnProp'+'erty']('alphaCutof'+'f')?_0xa7d71c['alphaTest']=_0x313dee['alphaCutof'+'f']:_0xa7d71c['alphaTest']=-0x11ed+-0xb*0x2c6+0x306f+0.5;break;case'BLEND':_0xa7d71c['blendType']=Zs,_0xa7d71c['depthWrite']=!(-0x2629*-0x1+0xa7a+-0x30a2);break;default:case'OPAQUE':_0xa7d71c['blendType']=Cs;break;}else _0xa7d71c['blendType']=Cs;_0x313dee['hasOwnProp'+'erty']('doubleSide'+'d')?(_0xa7d71c['twoSidedLi'+'ghting']=_0x313dee['doubleSide'+'d'],_0xa7d71c['cull']=_0x313dee['doubleSide'+'d']?bt:pa):(_0xa7d71c['twoSidedLi'+'ghting']=!(0xbbb+-0x1d0+-0x9ea),_0xa7d71c['cull']=pa);const _0x475abb={'KHR_materials_clearcoat':lN,'KHR_materials_emissive_strength':_N,'KHR_materials_ior':dN,'KHR_materials_dispersion':fN,'KHR_materials_iridescence':gN,'KHR_materials_pbrSpecularGlossiness':oN,'KHR_materials_sheen':pN,'KHR_materials_specular':hN,'KHR_materials_transmission':uN,'KHR_materials_unlit':cN,'KHR_materials_volume':mN,'KHR_materials_anisotropy':SN};if(_0x313dee['hasOwnProp'+'erty']('extensions'))for(const _0x429166 in _0x313dee['extensions']){const _0x3776b1=_0x475abb[_0x429166];_0x3776b1!==void(-0x12a6+0x13*0x1ec+-0x11de)&&_0x3776b1(_0x313dee['extensions'][_0x429166],_0xa7d71c,_0x3f91c2);}return _0xa7d71c['update'](),_0xa7d71c;},yN=(_0x199420,_0x108a46,_0xebc8b2,_0x243cff,_0x4b3d6c,_0x45e203,_0x17ed21)=>{const _0x25cc3c=_0x3e8cd4=>new Fh(yl(_0x3e8cd4['type']),Pn(_0x3e8cd4,_0x243cff)),_0x2cc447={'STEP':Bv,'LINEAR':Su,'CUBICSPLINE':yu},_0x4d0a00={},_0x3dd4bf={},_0x23a450={};let _0x52f2ef=0x2366+-0x26f0+0x38b,_0x5bbab0;for(_0x5bbab0=0x148*0x15+-0x3*0xadc+0x2c*0x21;_0x5bbab0<_0x199420['samplers']['length'];++_0x5bbab0){const _0x4aff12=_0x199420['samplers'][_0x5bbab0];_0x4d0a00['hasOwnProp'+'erty'](_0x4aff12['input'])||(_0x4d0a00[_0x4aff12['input']]=_0x25cc3c(_0xebc8b2[_0x4aff12['input']])),_0x3dd4bf['hasOwnProp'+'erty'](_0x4aff12['output'])||(_0x3dd4bf[_0x4aff12['output']]=_0x25cc3c(_0xebc8b2[_0x4aff12['output']]));const _0x4e9b14=_0x4aff12['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x2cc447['hasOwnProp'+'erty'](_0x4aff12['interpolat'+'ion'])?_0x2cc447[_0x4aff12['interpolat'+'ion']]:Su,_0x1fb444={'paths':[],'input':_0x4aff12['input'],'output':_0x4aff12['output'],'interpolation':_0x4e9b14};_0x23a450[_0x5bbab0]=_0x1fb444;}const _0x301788=[],_0x5ca23b={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x43fbd6=_0x5a94bf=>{const _0x3620da=[];for(;_0x5a94bf;)_0x3620da['unshift'](_0x5a94bf['name']),_0x5a94bf=_0x5a94bf['parent'];return _0x3620da;},_0x27b568=(_0x1c0451,_0x641095,_0x4328b9)=>{const _0xcdde49=_0x3dd4bf[_0x1c0451['output']];if(!_0xcdde49){w['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x4328b9+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0x418f53;if(_0x45e203&&_0x45e203[_0x641095['mesh']]){const _0x1d298c=_0x45e203[_0x641095['mesh']];_0x1d298c['hasOwnProp'+'erty']('extras')&&_0x1d298c['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0x418f53=_0x1d298c['extras']['targetName'+'s']);}const _0x3ab2ee=_0xcdde49['data'],_0x5486d0=_0x3ab2ee['length']/_0x4d0a00[_0x1c0451['input']]['data']['length'],_0x46d69a=_0x3ab2ee['length']/_0x5486d0,_0x2cd201=_0x46d69a*(0x1b5*-0x6+-0x12d7+-0x3*-0x9b3),_0x3ed131=new ArrayBuffer(_0x2cd201*_0x5486d0);for(let _0x5c38d1=0x2*0x35a+-0x1db4+0x1700;_0x5c38d1<_0x5486d0;_0x5c38d1++){const _0x1f5e63=new Float32Array(_0x3ed131,_0x2cd201*_0x5c38d1,_0x46d69a);for(let _0xd01fd5=0x21f*0x2+0x1*0x1367+-0x17a5;_0xd01fd5<_0x46d69a;_0xd01fd5++)_0x1f5e63[_0xd01fd5]=_0x3ab2ee[_0xd01fd5*_0x5486d0+_0x5c38d1];const _0x5ae0a7=new Fh(-0x865+0x125d+-0x9f7,_0x1f5e63),_0x14778b=_0x418f53!=null&&_0x418f53[_0x5c38d1]?'name.'+_0x418f53[_0x5c38d1]:_0x5c38d1;_0x3dd4bf[-_0x52f2ef]=_0x5ae0a7;const _0x279630={'paths':[{'entityPath':_0x4328b9,'component':'graph','propertyPath':['weight.'+_0x14778b]}],'input':_0x1c0451['input'],'output':-_0x52f2ef,'interpolation':_0x1c0451['interpolat'+'ion']};_0x52f2ef++,_0x23a450['morphCurve'+'-'+_0x5bbab0+'-'+_0x5c38d1]=_0x279630;}};for(_0x5bbab0=-0x1*0x1463+-0x2b*-0x3b+0xa7a;_0x5bbab0<_0x199420['channels']['length'];++_0x5bbab0){const _0x372f7b=_0x199420['channels'][_0x5bbab0],_0x521263=_0x372f7b['target'],_0x386d88=_0x23a450[_0x372f7b['sampler']],_0x5655f9=_0x4b3d6c[_0x521263['node']],_0x113375=_0x17ed21[_0x521263['node']],_0x230c91=_0x43fbd6(_0x5655f9);_0x521263['path']['startsWith']('weights')?(_0x27b568(_0x386d88,_0x113375,_0x230c91),_0x23a450[_0x372f7b['sampler']]['morphCurve']=!(0x6*0x34e+-0x123*0x3+-0x106b)):_0x386d88['paths']['push']({'entityPath':_0x230c91,'component':'graph','propertyPath':[_0x5ca23b[_0x521263['path']]]});}const _0x3b90f7=[],_0x1a8105=[],_0x437fa3=[];for(const _0x48780f in _0x4d0a00)_0x3b90f7['push'](_0x4d0a00[_0x48780f]),_0x4d0a00[_0x48780f]=_0x3b90f7['length']-(0x2*-0x981+-0x91c+0x1c1f);for(const _0x4c49a in _0x3dd4bf)_0x1a8105['push'](_0x3dd4bf[_0x4c49a]),_0x3dd4bf[_0x4c49a]=_0x1a8105['length']-(-0x1d25+-0x8d0*0x2+0x2ec6);for(const _0xbe9f in _0x23a450){const _0x48fc29=_0x23a450[_0xbe9f];_0x48fc29['morphCurve']||(_0x437fa3['push'](new v0(_0x48fc29['paths'],_0x4d0a00[_0x48fc29['input']],_0x3dd4bf[_0x48fc29['output']],_0x48fc29['interpolat'+'ion'])),_0x48fc29['paths']['length']>-0x4*-0x411+-0xb*-0x2cf+0x1*-0x2f29&&_0x48fc29['paths'][-0x1801+-0x1a72+0x3273*0x1]['propertyPa'+'th'][0x1*0xe9+-0x17b*-0x13+-0x1d0a]==='localRotat'+'ion'&&_0x48fc29['interpolat'+'ion']!==yu&&_0x301788['push'](_0x437fa3[_0x437fa3['length']-(0x7a3+0x882+-0x1024)]['output']));}_0x301788['sort']();let _0x29aad8=null,_0x364279;for(_0x5bbab0=0x4*0x556+-0x161d+-0x1*-0xc5;_0x5bbab0<_0x301788['length'];++_0x5bbab0){const _0x89fdad=_0x301788[_0x5bbab0];if(_0x5bbab0===0xe97+0x1*-0x1d36+0xe9f||_0x89fdad!==_0x29aad8){if(_0x364279=_0x1a8105[_0x89fdad],_0x364279['components']===0xec1*0x2+-0x2f*-0x5e+-0x2ec0){const _0x5d70fd=_0x364279['data'],_0x583533=_0x5d70fd['length']-(-0xfa5+0x13*-0x1c4+-0x1067*-0x3);for(let _0xf81a61=0xc0c+-0xe5f+0x253;_0xf81a61<_0x583533;_0xf81a61+=-0xa8b+0x3*-0xc7a+0xbd*0x41)_0x5d70fd[_0xf81a61+(-0x1669+0xd*0x283+-0x45*0x26)]*_0x5d70fd[_0xf81a61+(0xd97+-0x1*-0x1f2f+-0x2cc2)]+_0x5d70fd[_0xf81a61+(-0xaf2+-0x17e8*-0x1+0xcf5*-0x1)]*_0x5d70fd[_0xf81a61+(-0xe*0x1d8+-0x834*-0x1+0x11a1)]+_0x5d70fd[_0xf81a61+(-0xdb8+0x1*-0x14a6+0x226*0x10)]*_0x5d70fd[_0xf81a61+(-0xea8+0xf4f*-0x1+0x355*0x9)]+_0x5d70fd[_0xf81a61+(0x2b7*-0x1+-0x1e52+-0x3c*-0x8d)]*_0x5d70fd[_0xf81a61+(0x7dd+-0x1*0x1e67+-0x35*-0x6d)]<-0xe*-0x2+0x1a1d+-0x1a39&&(_0x5d70fd[_0xf81a61+(-0x66*0x1d+-0x2637+0x9f5*0x5)]*=-(-0x29*0x79+0x511*-0x5+0x2cb7),_0x5d70fd[_0xf81a61+(-0xb*0x296+0x9*-0x73+-0x13*-0x1b6)]*=-(0x3*-0xa0f+-0x50*0x47+0x345e),_0x5d70fd[_0xf81a61+(-0x57b+-0x18ac+0x1e2d)]*=-(-0x113*-0xa+-0x7*-0x42+-0x13*0xa9),_0x5d70fd[_0xf81a61+(0x39c+0x25e7*-0x1+0x1129*0x2)]*=-(-0x6e2*0x2+-0x207d+-0x2*-0x1721));}_0x29aad8=_0x89fdad;}}let _0x331811=0xedb*-0x1+-0x168e+0x3d*0x9d;for(_0x5bbab0=-0x1e4c+0x1*0x117a+0x6*0x223;_0x5bbab0<_0x3b90f7['length'];_0x5bbab0++)_0x364279=_0x3b90f7[_0x5bbab0]['_data'],_0x331811=Math['max'](_0x331811,_0x364279['length']===-0x2*-0x12d2+-0x26e9*0x1+-0xd*-0x19?-0xd94+-0x564+-0x4*-0x4be:_0x364279[_0x364279['length']-(0x92a+-0xa*-0x39+0x247*-0x5)]);return new Qi(_0x199420['hasOwnProp'+'erty']('name')?_0x199420['name']:'animation_'+_0x108a46,_0x331811,_0x3b90f7,_0x1a8105,_0x437fa3);},Dc=new te(),Qa=new D(),vN=(_0x50429,_0x29ab19,_0x4cb485)=>{const _0x64ca88=new Ie();if(_0x50429['hasOwnProp'+'erty']('name')&&_0x50429['name']['length']>-0x2*0x1171+0x9a0+0x1942?_0x64ca88['name']=_0x50429['name']:_0x64ca88['name']='node_'+_0x29ab19,_0x50429['hasOwnProp'+'erty']('matrix')&&(Dc['data']['set'](_0x50429['matrix']),Dc['getTransla'+'tion'](Qa),_0x64ca88['setLocalPo'+'sition'](Qa),Dc['getEulerAn'+'gles'](Qa),_0x64ca88['setLocalEu'+'lerAngles'](Qa),Dc['getScale'](Qa),_0x64ca88['setLocalSc'+'ale'](Qa)),_0x50429['hasOwnProp'+'erty']('rotation')){const _0x4e6f3c=_0x50429['rotation'];_0x64ca88['setLocalRo'+'tation'](_0x4e6f3c[-0x1125+0x2*-0xdff+-0x5*-0x907],_0x4e6f3c[-0x3a3+-0x5*0x73d+0x27d5],_0x4e6f3c[0x13d2+-0x3*-0x7ef+-0x2b9d],_0x4e6f3c[-0x382*-0x1+-0xc*0x10c+-0x911*-0x1]);}if(_0x50429['hasOwnProp'+'erty']('translatio'+'n')){const _0x185a4e=_0x50429['translatio'+'n'];_0x64ca88['setLocalPo'+'sition'](_0x185a4e[0x1*0x1331+-0xf0d+-0x424],_0x185a4e[-0x1*0x2022+0x5d+-0x1*-0x1fc6],_0x185a4e[-0x7d*0x15+-0x182b+0x2a6*0xd]);}if(_0x50429['hasOwnProp'+'erty']('scale')){const _0x44e190=_0x50429['scale'];_0x64ca88['setLocalSc'+'ale'](_0x44e190[-0x209c+0x17e9+0x83*0x11],_0x44e190[0x1727+0x19ae+-0x30d4],_0x44e190[-0x1112+-0x2515+-0x127*-0x2f]);}return _0x50429['hasOwnProp'+'erty']('extensions')&&_0x50429['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x4cb485['set'](_0x50429,{'ext':_0x50429['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x64ca88;},xN=(_0x25f5c0,_0x1de3d3)=>{const _0x438b5a=_0x25f5c0['type']==='orthograph'+'ic'?En:ni,_0x7900f6=_0x438b5a===En?_0x25f5c0['orthograph'+'ic']:_0x25f5c0['perspectiv'+'e'],_0x1a7f4d={'enabled':!(-0xe50+0xb0f+-0x3*-0x116),'projection':_0x438b5a,'nearClip':_0x7900f6['znear'],'aspectRatioMode':hm};_0x7900f6['zfar']&&(_0x1a7f4d['farClip']=_0x7900f6['zfar']),_0x438b5a===En?(_0x1a7f4d['orthoHeigh'+'t']=(-0x26f0+-0x12bb+0x103*0x39+0.5)*_0x7900f6['ymag'],_0x7900f6['ymag']&&(_0x1a7f4d['aspectRati'+'oMode']=lu,_0x1a7f4d['aspectRati'+'o']=_0x7900f6['xmag']/_0x7900f6['ymag'])):(_0x1a7f4d['fov']=_0x7900f6['yfov']*Y['RAD_TO_DEG'],_0x7900f6['aspectRati'+'o']&&(_0x1a7f4d['aspectRati'+'oMode']=lu,_0x1a7f4d['aspectRati'+'o']=_0x7900f6['aspectRati'+'o']));const _0x38cbed=new lt(_0x25f5c0['name']);return _0x38cbed['addCompone'+'nt']('camera',_0x1a7f4d),_0x38cbed;},TN=(_0x5cfc4c,_0x21acaf)=>{const _0x5a08f={'enabled':!(-0xd1c+-0x5d6+0x21b*0x9),'type':_0x5cfc4c['type']==='point'?'omni':_0x5cfc4c['type'],'color':_0x5cfc4c['hasOwnProp'+'erty']('color')?new ie(_0x5cfc4c['color']):ie['WHITE'],'range':_0x5cfc4c['hasOwnProp'+'erty']('range')?_0x5cfc4c['range']:0x1*0x161b+-0x5*0xa7f+-0xf*-0x4a1,'falloffMode':ev,'intensity':_0x5cfc4c['hasOwnProp'+'erty']('intensity')?Y['clamp'](_0x5cfc4c['intensity'],0x7*-0x43+0x10f9+-0xe4*0x11,-0x53*-0x5d+-0x1*0x10f+-0x1d16):-0x1649+-0x1d2e+0x3378};_0x5cfc4c['hasOwnProp'+'erty']('spot')&&(_0x5a08f['innerConeA'+'ngle']=_0x5cfc4c['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x5cfc4c['spot']['innerConeA'+'ngle']*Y['RAD_TO_DEG']:0x4d0*0x1+0x1b91+0x1*-0x2061,_0x5a08f['outerConeA'+'ngle']=_0x5cfc4c['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x5cfc4c['spot']['outerConeA'+'ngle']*Y['RAD_TO_DEG']:Math['PI']/(0xbf9+0x1*0x47f+-0x1074)),_0x5cfc4c['hasOwnProp'+'erty']('intensity')&&(_0x5a08f['luminance']=_0x5cfc4c['intensity']*pl['getLightUn'+'itConversi'+'on'](fu[_0x5a08f['type']],_0x5a08f['outerConeA'+'ngle'],_0x5a08f['innerConeA'+'ngle']));const _0x59bb4f=new lt(_0x21acaf['name']);return _0x59bb4f['rotateLoca'+'l'](-0x5d7+-0x1*0x151+-0x1*-0x782,0x6d6+-0x18cb+0x11f5,-0x6*0x363+0x2645+-0x11f3),_0x59bb4f['addCompone'+'nt']('light',_0x5a08f),_0x59bb4f;},wN=(_0x88241b,_0x31a9ea,_0x209945,_0xea7e84)=>{if(!_0x31a9ea['hasOwnProp'+'erty']('skins')||_0x31a9ea['skins']['length']===-0x288+0x2b*0x7+0x15b)return[];const _0x34e915=new Map();return _0x31a9ea['skins']['map'](_0x9a513=>rN(_0x88241b,_0x9a513,_0x31a9ea['accessors'],_0xea7e84,_0x209945,_0x34e915));},EN=(_0x5ed46f,_0x3b266b,_0xafaa99,_0x1c9f65)=>{var _0x21c738,_0xa871a4,_0x5ac90e;const _0x189d8b={},_0x3b6191={},_0xd2b9a3={},_0x3b995e=[];return{'meshes':!_0x1c9f65['skipMeshes']&&((_0x21c738=_0x3b266b==null?void(-0x524+-0x1dab+0x22cf):_0x3b266b['meshes'])==null?void(-0x1*0x20e2+-0x115*-0x1+-0x1fcd*-0x1):_0x21c738['length'])&&((_0xa871a4=_0x3b266b==null?void(0x1300+0xa1*0x1f+-0x49*0x87):_0x3b266b['accessors'])==null?void(-0x168c+0x2106+0x1bf*-0x6):_0xa871a4['length'])&&((_0x5ac90e=_0x3b266b==null?void(-0x189c+0x18e2+-0x46):_0x3b266b['bufferView'+'s'])==null?void(-0x2132+-0x819+0x294b):_0x5ac90e['length'])?_0x3b266b['meshes']['map'](_0x113c8e=>nN(_0x5ed46f,_0x113c8e,_0x3b266b['accessors'],_0xafaa99,_0x189d8b,_0x3b6191,_0xd2b9a3,_0x1c9f65,_0x3b995e)):[],'meshVariants':_0x3b6191,'meshDefaultMaterials':_0xd2b9a3,'promises':_0x3b995e};},bN=(_0x1f3c42,_0x4379ef,_0x415daa)=>{var _0x369fc0,_0x2cb773,_0x28d691;if(!_0x1f3c42['hasOwnProp'+'erty']('materials')||_0x1f3c42['materials']['length']===0x19d*-0xe+-0x14a2+0x2b38)return[];const _0x17c864=(_0x369fc0=_0x415daa==null?void(0xf3+-0x24d3+0x1*0x23e0):_0x415daa['material'])==null?void(-0x13c5+0x18*0xff+0x1*-0x423):_0x369fc0['preprocess'],_0x1ad470=((_0x2cb773=_0x415daa==null?void(-0x24b1+0x20a8+0x409):_0x415daa['material'])==null?void(0x6*0x332+-0x1112+-0x21a):_0x2cb773['process'])??w0,_0x5c0e33=(_0x28d691=_0x415daa==null?void(-0x5*-0x425+-0x2645+0x118c*0x1):_0x415daa['material'])==null?void(0x20e9*0x1+0x48b+-0x44*0x8d):_0x28d691['postproces'+'s'];return _0x1f3c42['materials']['map'](_0x31311c=>{_0x17c864&&_0x17c864(_0x31311c);const _0x347b25=_0x1ad470(_0x31311c,_0x4379ef);return _0x5c0e33&&_0x5c0e33(_0x31311c,_0x347b25),_0x347b25;});},AN=_0x123a42=>{if(!_0x123a42['hasOwnProp'+'erty']('extensions')||!_0x123a42['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x5928a0=_0x123a42['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0x59d1dc={};for(let _0x1940fe=0x1a8b+-0x17*0xe3+-0x313*0x2;_0x1940fe<_0x5928a0['length'];_0x1940fe++)_0x59d1dc[_0x5928a0[_0x1940fe]['name']]=_0x1940fe;return _0x59d1dc;},CN=(_0x59f3b3,_0x4440ac,_0x198d3a,_0x562e6a)=>{var _0x55e6ef,_0x1815b6;if(!_0x59f3b3['hasOwnProp'+'erty']('animations')||_0x59f3b3['animations']['length']===-0x2268+-0x2*-0xf37+0x3fa)return[];const _0x3c0407=(_0x55e6ef=_0x562e6a==null?void(0x77*-0x31+0x1*0xf07+0x7c0):_0x562e6a['animation'])==null?void(-0x670+-0x19ae+0x201e):_0x55e6ef['preprocess'],_0x4a1a48=(_0x1815b6=_0x562e6a==null?void(0x1d1c+-0x2*0x7+-0x2*0xe87):_0x562e6a['animation'])==null?void(0x1cae+-0x3*-0x27+-0x1*0x1d23):_0x1815b6['postproces'+'s'];return _0x59f3b3['animations']['map']((_0x23f2d1,_0x3d6e22)=>{_0x3c0407&&_0x3c0407(_0x23f2d1);const _0x14fb26=yN(_0x23f2d1,_0x3d6e22,_0x59f3b3['accessors'],_0x198d3a,_0x4440ac,_0x59f3b3['meshes'],_0x59f3b3['nodes']);return _0x4a1a48&&_0x4a1a48(_0x23f2d1,_0x14fb26),_0x14fb26;});},PN=(_0x37f2df,_0x760719,_0x195b6e,_0x366e09)=>{const _0x929b6b=_0x760719['accessors'];_0x195b6e['forEach']((_0x4ca694,_0x11f0b1)=>{const _0x38d87b=_0x4ca694['ext']['attributes'];let _0x5680a6;if(_0x38d87b['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x264926=_0x929b6b[_0x38d87b['TRANSLATIO'+'N']];_0x5680a6=Pn(_0x264926,_0x366e09);}let _0x8951d4;if(_0x38d87b['hasOwnProp'+'erty']('ROTATION')){const _0x292c42=_0x929b6b[_0x38d87b['ROTATION']];_0x8951d4=Pn(_0x292c42,_0x366e09);}let _0x17fe50;if(_0x38d87b['hasOwnProp'+'erty']('SCALE')){const _0xb619a3=_0x929b6b[_0x38d87b['SCALE']];_0x17fe50=Pn(_0xb619a3,_0x366e09);}const _0x236790=(_0x5680a6?_0x5680a6['length']/(-0x15da+-0x200f+0x44*0xcb):-0x2*0x10fa+-0x1b37+-0x1*-0x3d2b)||(_0x8951d4?_0x8951d4['length']/(0x1f64+-0xb7e+-0x5*0x3fa):0x1d*-0x111+0x7e*0x3+-0x9d1*-0x3)||(_0x17fe50?_0x17fe50['length']/(0x1b1d+-0x1594+-0x586):0x1129+-0x1062+-0xc7);if(_0x236790){const _0x36426d=new Float32Array(_0x236790*(-0xec1+-0x1ec2+0x2d93)),_0x3b39aa=new D(),_0x49b188=new le(),_0x10f087=new D(-0x1102+-0xddb*0x1+0x1ede,-0x9ea+0x2565+0xdbd*-0x2,0xcfb*0x1+-0x333+-0x9c7),_0x27c8b5=new te();let _0x4ae6e7=0x1*-0x146d+-0x1f9d*0x1+-0x1a05*-0x2;for(let _0x40ef1c=-0x611*0x2+-0x493*0x4+0x1e6e;_0x40ef1c<_0x236790;_0x40ef1c++){const _0x5c98b5=_0x40ef1c*(0x7*0x48b+-0x155f+0x15*-0x7f);if(_0x5680a6&&_0x3b39aa['set'](_0x5680a6[_0x5c98b5],_0x5680a6[_0x5c98b5+(0x943+-0x12c6+0x57*0x1c)],_0x5680a6[_0x5c98b5+(-0x2675+-0x13f3+0x3a6a)]),_0x8951d4){const _0x44d672=_0x40ef1c*(0x223c+0x1f04+-0x413c);_0x49b188['set'](_0x8951d4[_0x44d672],_0x8951d4[_0x44d672+(-0x2*-0x37b+-0x89e+0x1a9)],_0x8951d4[_0x44d672+(-0x10*0x1+-0x6f1*0x4+0x1bd6)],_0x8951d4[_0x44d672+(0x49*-0x10+-0x133b+-0x1*-0x17ce)]);}_0x17fe50&&_0x10f087['set'](_0x17fe50[_0x5c98b5],_0x17fe50[_0x5c98b5+(-0x4*-0x2ad+-0xda8+0x2f5)],_0x17fe50[_0x5c98b5+(0x3fd*-0x1+0x4*-0x882+0x2607)]),_0x27c8b5['setTRS'](_0x3b39aa,_0x49b188,_0x10f087);for(let _0x36b29a=0xf17+0x1f6a+-0x94d*0x5;_0x36b29a<-0xd7*0x23+0xb9b*-0x1+0x2910;_0x36b29a++)_0x36426d[_0x4ae6e7++]=_0x27c8b5['data'][_0x36b29a];}_0x4ca694['matrices']=_0x36426d;}});},MN=(_0x99dae7,_0x9b8936,_0x528654)=>{var _0x56852a,_0x465c5c,_0x3e51f9;if(!_0x99dae7['hasOwnProp'+'erty']('nodes')||_0x99dae7['nodes']['length']===0xc39*-0x1+0x3*-0x7c9+0x2394)return[];const _0xbe1cff=(_0x56852a=_0x9b8936==null?void(-0x2fb*-0xd+-0x4*0x3da+0x4ab*-0x5):_0x9b8936['node'])==null?void(-0x5ea*-0x3+0x1d4d+-0x2f0b):_0x56852a['preprocess'],_0x2450f9=((_0x465c5c=_0x9b8936==null?void(-0x1e45+0x8*0x394+0x1*0x1a5):_0x9b8936['node'])==null?void(-0x4ab*-0x5+-0x1e4c+0x6f5):_0x465c5c['process'])??vN,_0xee883b=(_0x3e51f9=_0x9b8936==null?void(0x346+0x1417+-0x1*0x175d):_0x9b8936['node'])==null?void(-0x14e1+0x13ce+-0x37*-0x5):_0x3e51f9['postproces'+'s'],_0x5ca023=_0x99dae7['nodes']['map']((_0x2b8099,_0x122606)=>{_0xbe1cff&&_0xbe1cff(_0x2b8099);const _0x4f3921=_0x2450f9(_0x2b8099,_0x122606,_0x528654);return _0xee883b&&_0xee883b(_0x2b8099,_0x4f3921),_0x4f3921;});for(let _0x4cffd3=-0x807+-0x9*0x159+0x1428;_0x4cffd3<_0x99dae7['nodes']['length'];++_0x4cffd3){const _0x472816=_0x99dae7['nodes'][_0x4cffd3];if(_0x472816['hasOwnProp'+'erty']('children')){const _0x15bcf8=_0x5ca023[_0x4cffd3],_0x1dab19={};for(let _0x5f3ba8=-0x57a+-0xd*-0x169+-0xcdb;_0x5f3ba8<_0x472816['children']['length'];++_0x5f3ba8){const _0xb3a0=_0x5ca023[_0x472816['children'][_0x5f3ba8]];_0xb3a0['parent']||(_0x1dab19['hasOwnProp'+'erty'](_0xb3a0['name'])?_0xb3a0['name']+=_0x1dab19[_0xb3a0['name']]++:_0x1dab19[_0xb3a0['name']]=-0xe10+0xb66+0x2ab,_0x15bcf8['addChild'](_0xb3a0));}}}return _0x5ca023;},DN=(_0xd4782e,_0x222256)=>{var _0x420f63;const _0x40d841=[],_0xd019b4=_0xd4782e['scenes']['length'];if(_0xd019b4===-0x7*0x587+0x1e15+-0x2df*-0x3&&((_0x420f63=_0xd4782e['scenes'][-0x1*-0x181f+-0x1*0x252f+0xd10]['nodes'])==null?void(-0x69b+-0x12e5*-0x2+0x9*-0x377):_0x420f63['length'])===0x4a*0x30+-0x255*-0x7+-0x60a*0x5){const _0x490441=_0xd4782e['scenes'][0x21e9+-0x14c4*-0x1+-0x36ad]['nodes'][-0xbe3+0x1ca*-0x12+0x2c17];_0x40d841['push'](_0x222256[_0x490441]);}else for(let _0x44d2c9=0x1*-0x75+-0x13d6+-0x40f*-0x5;_0x44d2c9<_0xd019b4;_0x44d2c9++){const _0x3cef48=_0xd4782e['scenes'][_0x44d2c9];if(_0x3cef48['nodes']){const _0x47e7de=new Ie(_0x3cef48['name']);for(let _0x5518d7=-0x2*0xfd6+-0x2298+0x2122*0x2;_0x5518d7<_0x3cef48['nodes']['length'];_0x5518d7++){const _0x431156=_0x222256[_0x3cef48['nodes'][_0x5518d7]];_0x47e7de['addChild'](_0x431156);}_0x40d841['push'](_0x47e7de);}}return _0x40d841;},IN=(_0xb6b274,_0x12c3ea,_0x16f611)=>{var _0x1f71c2,_0x5d117c,_0x394fb4;let _0x55ece9=null;if(_0xb6b274['hasOwnProp'+'erty']('nodes')&&_0xb6b274['hasOwnProp'+'erty']('cameras')&&_0xb6b274['cameras']['length']>-0x12d4+-0x969+0x1c3d*0x1){const _0xe84fd4=(_0x1f71c2=_0x16f611==null?void(-0x1*0x1fff+-0x133c+0x333b):_0x16f611['camera'])==null?void(0x6c*0x35+0x101e*-0x2+0x9e*0x10):_0x1f71c2['preprocess'],_0x1f1b0d=((_0x5d117c=_0x16f611==null?void(0x3*-0x34b+-0x1*-0xfbe+-0x13*0x4f):_0x16f611['camera'])==null?void(-0x1d7+0x293*-0x1+0x46a):_0x5d117c['process'])??xN,_0x494a9e=(_0x394fb4=_0x16f611==null?void(0x1*-0x11a5+-0x2c2+-0x1*-0x1467):_0x16f611['camera'])==null?void(0x23c0+0x12fd*-0x2+-0xf*-0x26):_0x394fb4['postproces'+'s'];_0xb6b274['nodes']['forEach']((_0x3b03f4,_0x3018fe)=>{if(_0x3b03f4['hasOwnProp'+'erty']('camera')){const _0x1d59cd=_0xb6b274['cameras'][_0x3b03f4['camera']];if(_0x1d59cd){_0xe84fd4&&_0xe84fd4(_0x1d59cd);const _0x541e26=_0x1f1b0d(_0x1d59cd,_0x12c3ea[_0x3018fe]);_0x494a9e&&_0x494a9e(_0x1d59cd,_0x541e26),_0x541e26&&(_0x55ece9||(_0x55ece9=new Map()),_0x55ece9['set'](_0x3b03f4,_0x541e26));}}});}return _0x55ece9;},LN=(_0x18e2a2,_0x282151,_0x2462f7)=>{var _0x36860e,_0x2198bd,_0x5982f2;let _0x4ac890=null;if(_0x18e2a2['hasOwnProp'+'erty']('nodes')&&_0x18e2a2['hasOwnProp'+'erty']('extensions')&&_0x18e2a2['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x18e2a2['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x2224e5=_0x18e2a2['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x2224e5['length']){const _0x379e9c=(_0x36860e=_0x2462f7==null?void(-0x517*-0x7+0x814+-0x2bb5):_0x2462f7['light'])==null?void(0x1719+0x1dc6+-0x1*0x34df):_0x36860e['preprocess'],_0x14f9a1=((_0x2198bd=_0x2462f7==null?void(-0x5*0x5f3+-0x1f75*-0x1+-0x1b6):_0x2462f7['light'])==null?void(0x12c9+0x2*-0xa26+0x183):_0x2198bd['process'])??TN,_0x160d49=(_0x5982f2=_0x2462f7==null?void(-0xc01*-0x2+-0x1f5+0x1*-0x160d):_0x2462f7['light'])==null?void(-0xd3b*0x1+-0x26a*-0x1+0x47*0x27):_0x5982f2['postproces'+'s'];_0x18e2a2['nodes']['forEach']((_0x24a5ed,_0x5e7ff8)=>{if(_0x24a5ed['hasOwnProp'+'erty']('extensions')&&_0x24a5ed['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x24a5ed['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0x2292bf=_0x24a5ed['extensions']['KHR_lights'+'_punctual']['light'],_0x561516=_0x2224e5[_0x2292bf];if(_0x561516){_0x379e9c&&_0x379e9c(_0x561516);const _0x49e9d6=_0x14f9a1(_0x561516,_0x282151[_0x5e7ff8]);_0x160d49&&_0x160d49(_0x561516,_0x49e9d6),_0x49e9d6&&(_0x4ac890||(_0x4ac890=new Map()),_0x4ac890['set'](_0x24a5ed,_0x49e9d6));}}});}}return _0x4ac890;},RN=(_0x57c855,_0x20f2c7,_0x433db6)=>{_0x57c855['nodes']['forEach'](_0x58b295=>{_0x58b295['hasOwnProp'+'erty']('mesh')&&_0x58b295['hasOwnProp'+'erty']('skin')&&_0x20f2c7[_0x58b295['mesh']]['meshes']['forEach'](_0x5b4702=>{_0x5b4702['skin']=_0x433db6[_0x58b295['skin']];});});},ON=async(_0x4726ca,_0x13f49b,_0x4d2f44,_0x138d6a,_0x4a5f3a)=>{var _0x29c712,_0x401236;const _0xea34c9=(_0x29c712=_0x4a5f3a==null?void(-0x103d+-0x349*0x1+0x3*0x682):_0x4a5f3a['global'])==null?void(0xe3a+0x170f+-0x2549):_0x29c712['preprocess'],_0x2103d5=(_0x401236=_0x4a5f3a==null?void(0x1ad7+0x15bd*-0x1+-0x51a):_0x4a5f3a['global'])==null?void(0x16af+0x13e6+-0x2a95*0x1):_0x401236['postproces'+'s'];_0xea34c9&&_0xea34c9(_0x13f49b),_0x13f49b['asset']&&_0x13f49b['asset']['generator']==='PlayCanvas'&&w['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x33b99c=new Map(),_0x4ddd17=MN(_0x13f49b,_0x4a5f3a,_0x33b99c),_0x1f0c34=DN(_0x13f49b,_0x4ddd17),_0x32d710=LN(_0x13f49b,_0x4ddd17,_0x4a5f3a),_0x23177b=IN(_0x13f49b,_0x4ddd17,_0x4a5f3a),_0xefaec9=AN(_0x13f49b),_0x51a5cc=await Promise['all'](_0x4d2f44),{meshes:_0x542593,meshVariants:_0x4b49d3,meshDefaultMaterials:_0x3e560f,promises:_0x5e3566}=EN(_0x4726ca,_0x13f49b,_0x51a5cc,_0x4a5f3a),_0x3f17ad=CN(_0x13f49b,_0x4ddd17,_0x51a5cc,_0x4a5f3a);PN(_0x4726ca,_0x13f49b,_0x33b99c,_0x51a5cc);const _0x108d3b=await Promise['all'](_0x138d6a),_0x513a45=_0x108d3b['map'](_0x3a20ca=>_0x3a20ca['resource']),_0x137621=bN(_0x13f49b,_0x513a45,_0x4a5f3a),_0x378603=wN(_0x4726ca,_0x13f49b,_0x4ddd17,_0x51a5cc),_0x472e8c=[];for(let _0x351868=0x271*0x9+0x1c34*-0x1+-0xb*-0x91;_0x351868<_0x542593['length'];_0x351868++)_0x472e8c[_0x351868]=new Em(),_0x472e8c[_0x351868]['meshes']=_0x542593[_0x351868];RN(_0x13f49b,_0x472e8c,_0x378603);const _0x5f1a62=new qF();return _0x5f1a62['gltf']=_0x13f49b,_0x5f1a62['nodes']=_0x4ddd17,_0x5f1a62['scenes']=_0x1f0c34,_0x5f1a62['animations']=_0x3f17ad,_0x5f1a62['textures']=_0x108d3b,_0x5f1a62['materials']=_0x137621,_0x5f1a62['variants']=_0xefaec9,_0x5f1a62['meshVarian'+'ts']=_0x4b49d3,_0x5f1a62['meshDefaul'+'tMaterials']=_0x3e560f,_0x5f1a62['renders']=_0x472e8c,_0x5f1a62['skins']=_0x378603,_0x5f1a62['lights']=_0x32d710,_0x5f1a62['cameras']=_0x23177b,_0x5f1a62['nodeInstan'+'cingMap']=_0x33b99c,_0x2103d5&&_0x2103d5(_0x13f49b,_0x5f1a62),await Promise['all'](_0x5e3566),_0x5f1a62;},FN=(_0x1585e9,_0x142211)=>{const _0x407667=(_0x526fad,_0x23a6fc)=>{switch(_0x526fad){case 0x40*0xd7+-0x78a*-0x4+-0x71*0x68:return Te;case 0x2*0x1d86+-0x49c5+0x34ba:return vt;case-0x3012+-0x4d7f+-0x1f*-0x54f:return Kh;case-0x1*-0x1c18+-0x28ff+0x67d*0x8:return Qh;case-0x1d36+-0x1*0x1ea3+0x62db*0x1:return Zh;case-0x13a0+0x4b8b*-0x1+0x862e:return ma;default:return _0x23a6fc;}},_0x5d24e4=(_0x4cffaf,_0x4b4a19)=>{switch(_0x4cffaf){case-0x2*-0x1e7+0x1*0x98bf+-0x1b5e:return ue;case 0x898b+0x239d+-0x29b8:return ip;case-0x4cb5+-0x1a4f+-0x643*-0x17:return yt;default:return _0x4b4a19;}};_0x1585e9&&(_0x142211=_0x142211??{},_0x1585e9['minFilter']=_0x407667(_0x142211['minFilter'],ma),_0x1585e9['magFilter']=_0x407667(_0x142211['magFilter'],vt),_0x1585e9['addressU']=_0x5d24e4(_0x142211['wrapS'],yt),_0x1585e9['addressV']=_0x5d24e4(_0x142211['wrapT'],yt));};let NN=-0x193a+-0x2218+0x1*0x3b52;const nn=_0x2ee4f3=>{var _0x52fe33,_0x24f6c7,_0x6ceb66,_0x47de4c;return((_0x24f6c7=(_0x52fe33=_0x2ee4f3['extensions'])==null?void(0x7be+-0xac5+0x1f*0x19):_0x52fe33['KHR_textur'+'e_basisu'])==null?void(0x194c+-0x36+-0x1*0x1916):_0x24f6c7['source'])??((_0x47de4c=(_0x6ceb66=_0x2ee4f3['extensions'])==null?void(0x2536+0xb9c+0x823*-0x6):_0x6ceb66['EXT_textur'+'e_webp'])==null?void(-0xb*-0x91+0x4*0x9b0+-0x2cfb):_0x47de4c['source'])??_0x2ee4f3['source'];},kN=(_0x103381,_0x42b121,_0x1ccdd2,_0x2c6623,_0x38c534)=>{var _0xbfc032,_0x2c0f13,_0xfeb053;if(!_0x103381['images']||_0x103381['images']['length']===-0x2*-0xe87+0x1*0x18af+-0x1*0x35bd)return[];const _0x1bb7e3=(_0xbfc032=_0x38c534==null?void(0x1*0x20d4+-0x1712+0x9c2*-0x1):_0x38c534['image'])==null?void(0xfb*-0x21+0x266f*0x1+-0x614):_0xbfc032['preprocess'],_0x4bdd5c=(_0x2c0f13=_0x38c534==null?void(-0x2*-0x65e+-0xc5f+0x3*-0x1f):_0x38c534['image'])==null?void(0x2*-0x5f7+-0x1*0x1e2e+0x2a1c):_0x2c0f13['processAsy'+'nc'],_0x47f91c=(_0xfeb053=_0x38c534==null?void(-0xc7a+0x1c0+0x1*0xaba):_0x38c534['image'])==null?void(0xae6+0x17b6+-0x229c):_0xfeb053['postproces'+'s'],_0x576f5e={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x1fc67f=_0x427f49=>{const _0x10d574=new Set();return _0x427f49['hasOwnProp'+'erty']('materials')&&_0x427f49['materials']['forEach'](_0x23e5de=>{if(_0x23e5de['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x37464f=_0x23e5de['pbrMetalli'+'cRoughness'];if(_0x37464f['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x5435c5=_0x427f49['textures'][_0x37464f['baseColorT'+'exture']['index']];_0x10d574['add'](nn(_0x5435c5));}}if(_0x23e5de['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x1332a1=_0x427f49['textures'][_0x23e5de['emissiveTe'+'xture']['index']];_0x10d574['add'](nn(_0x1332a1));}if(_0x23e5de['hasOwnProp'+'erty']('extensions')){const _0x54f6ee=_0x23e5de['extensions']['KHR_materi'+'als_sheen'];if(_0x54f6ee&&_0x54f6ee['hasOwnProp'+'erty']('sheenColor'+'Texture')){const _0x25f934=_0x427f49['textures'][_0x54f6ee['sheenColor'+'Texture']['index']];_0x10d574['add'](nn(_0x25f934));}const _0x82e1c0=_0x23e5de['extensions']['KHR_materi'+'als_pbrSpe'+'cularGloss'+'iness'];if(_0x82e1c0&&_0x82e1c0['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x2a5b86=_0x427f49['textures'][_0x82e1c0['specularGl'+'ossinessTe'+'xture']['index']];_0x10d574['add'](nn(_0x2a5b86));}const _0x2aa619=_0x23e5de['extensions']['KHR_materi'+'als_specul'+'ar'];if(_0x2aa619&&_0x2aa619['hasOwnProp'+'erty']('specularCo'+'lorTexture')){const _0x24ad9b=_0x427f49['textures'][_0x2aa619['specularCo'+'lorTexture']['index']];_0x10d574['add'](nn(_0x24ad9b));}}}),_0x10d574;},_0x361e4b=(_0x212bd6,_0x462aab,_0x2a8268,_0x54e297,_0x173829,_0x1238dc)=>new Promise((_0x514fc0,_0x1b1553)=>{const _0x44dc47=_0x420434=>{const _0x4c31c8=(_0x212bd6['name']||'gltf-textu'+'re')+'-'+NN++,_0x2c2ae8={'url':_0x462aab||_0x4c31c8};if(_0x420434&&(_0x2c2ae8['contents']=_0x420434['slice'](0x1ade+0x6ae+0x218c*-0x1)['buffer']),_0x54e297){const _0x39ecbb=_0x576f5e[_0x54e297];_0x39ecbb&&(_0x2c2ae8['filename']=_0x2c2ae8['url']+'.'+_0x39ecbb);}const _0x2ac686={'srgb':_0x1238dc},_0xb452c3=new pe(_0x4c31c8,'texture',_0x2c2ae8,_0x2ac686,_0x173829);_0xb452c3['on']('load',_0x37c419=>_0x514fc0(_0x37c419)),_0xb452c3['on']('error',_0x370a55=>_0x1b1553(_0x370a55)),_0x2c6623['add'](_0xb452c3),_0x2c6623['load'](_0xb452c3);};_0x2a8268?_0x2a8268['then'](_0xb9b790=>_0x44dc47(_0xb9b790)):_0x44dc47(null);}),_0x4c869a=_0x1fc67f(_0x103381);return _0x103381['images']['map']((_0x197436,_0x38128b)=>{_0x1bb7e3&&_0x1bb7e3(_0x197436);let _0x37a47c;return _0x4bdd5c?_0x37a47c=new Promise((_0xbd12ae,_0x42bdd4)=>{_0x4bdd5c(_0x197436,(_0x50212d,_0x520439)=>{_0x50212d?_0x42bdd4(_0x50212d):_0xbd12ae(_0x520439);});}):_0x37a47c=new Promise(_0x4996b4=>{_0x4996b4(null);}),_0x37a47c=_0x37a47c['then'](_0x305cc1=>{const _0xc2f6cf=_0x4c869a['has'](_0x38128b);return _0x305cc1||(_0x197436['hasOwnProp'+'erty']('uri')?x0(_0x197436['uri'])?_0x361e4b(_0x197436,_0x197436['uri'],null,jF(_0x197436['uri']),null,_0xc2f6cf):_0x361e4b(_0x197436,jn['test'](_0x197436['uri'])?_0x197436['uri']:xe['join'](_0x1ccdd2,_0x197436['uri']),null,null,{'crossOrigin':'anonymous'},_0xc2f6cf):_0x197436['hasOwnProp'+'erty']('bufferView')&&_0x197436['hasOwnProp'+'erty']('mimeType')?_0x361e4b(_0x197436,null,_0x42b121[_0x197436['bufferView']],_0x197436['mimeType'],null,_0xc2f6cf):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x38128b)));}),_0x47f91c&&(_0x37a47c=_0x37a47c['then'](_0x46a439=>(_0x47f91c(_0x197436,_0x46a439),_0x46a439))),_0x37a47c;});},UN=(_0x34b3ce,_0x4107fb,_0x2867d4)=>{var _0x5d93e6,_0x10da4b,_0x4a2848,_0x2d3050,_0x2aa42b;if(!((_0x5d93e6=_0x34b3ce==null?void(-0x2623+0x24cd*-0x1+0x1b4*0x2c):_0x34b3ce['images'])!=null&&_0x5d93e6['length'])||!((_0x10da4b=_0x34b3ce==null?void(0x1e88+-0x1*-0x19f3+0x13*-0x2f9):_0x34b3ce['textures'])!=null&&_0x10da4b['length']))return[];const _0x188f1f=(_0x4a2848=_0x2867d4==null?void(-0xe9a+0x17f8+-0x6d*0x16):_0x2867d4['texture'])==null?void(0x1*0x63d+0x269+-0x8a6):_0x4a2848['preprocess'],_0x591196=(_0x2d3050=_0x2867d4==null?void(-0x10d+0x85*-0x38+-0x1e25*-0x1):_0x2867d4['texture'])==null?void(-0x2*0x337+0x73*0xb+0x17d):_0x2d3050['processAsy'+'nc'],_0x5a5223=(_0x2aa42b=_0x2867d4==null?void(0xdfe+0xaf3+-0x5*0x4fd):_0x2867d4['texture'])==null?void(0x2220+0x260e+0x1*-0x482e):_0x2aa42b['postproces'+'s'],_0x48205a=new Set();return _0x34b3ce['textures']['map'](_0x4ca747=>{_0x188f1f&&_0x188f1f(_0x4ca747);let _0x572707;return _0x591196?_0x572707=new Promise((_0x42f55e,_0x2fdb5a)=>{_0x591196(_0x4ca747,_0x34b3ce['images'],(_0x402c56,_0x524ac1)=>{_0x402c56?_0x2fdb5a(_0x402c56):_0x42f55e(_0x524ac1);});}):_0x572707=new Promise(_0x49146c=>{_0x49146c(null);}),_0x572707=_0x572707['then'](_0x5ae024=>{_0x5ae024=_0x5ae024??nn(_0x4ca747);const _0x3c93cc=_0x48205a['has'](_0x5ae024);return _0x48205a['add'](_0x5ae024),_0x4107fb[_0x5ae024]['then'](_0x37bf22=>{const _0x41bac2=_0x3c93cc?tN(_0x37bf22):_0x37bf22;return FN(_0x41bac2['resource'],(_0x34b3ce['samplers']??[])[_0x4ca747['sampler']]),_0x41bac2;});}),_0x5a5223&&(_0x572707=_0x572707['then'](_0x3d1fb3=>(_0x5a5223(_0x4ca747,_0x3d1fb3),_0x3d1fb3))),_0x572707;});},BN=(_0x451671,_0x46f525,_0x2664ec,_0x2c9565)=>{var _0x35b08c,_0x50e6c2,_0x11c9e2;if(!_0x451671['buffers']||_0x451671['buffers']['length']===0x1a5*0xc+0x951+0x25*-0xc9)return[];const _0x17d06d=(_0x35b08c=_0x2c9565==null?void(0x1*0xeb9+0x614+-0x163*0xf):_0x2c9565['buffer'])==null?void(-0x1594+-0x25ca+-0x1*-0x3b5e):_0x35b08c['preprocess'],_0x3e8516=(_0x50e6c2=_0x2c9565==null?void(0x3*0x577+-0x1618+0x5b3):_0x2c9565['buffer'])==null?void(-0x2*0x7d5+-0x159*0x17+0x2ea9):_0x50e6c2['processAsy'+'nc'],_0x530d32=(_0x11c9e2=_0x2c9565==null?void(-0x181b+-0x124e+0x4d*0x8d):_0x2c9565['buffer'])==null?void(0x6b*-0xc+-0x1*-0xd6f+-0x86b):_0x11c9e2['postproces'+'s'];return _0x451671['buffers']['map']((_0x5ddfc1,_0xfe9d13)=>{_0x17d06d&&_0x17d06d(_0x5ddfc1);let _0x3fc542;return _0x3e8516?_0x3fc542=new Promise((_0x2e59e5,_0x10a2a5)=>{_0x3e8516(_0x5ddfc1,(_0x4cd526,_0x35f0c1)=>{_0x4cd526?_0x10a2a5(_0x4cd526):_0x2e59e5(_0x35f0c1);});}):_0x3fc542=new Promise(_0x15bf9d=>{_0x15bf9d(null);}),_0x3fc542=_0x3fc542['then'](_0x1beba1=>{if(_0x1beba1)return _0x1beba1;if(_0x5ddfc1['hasOwnProp'+'erty']('uri')){if(x0(_0x5ddfc1['uri'])){const _0x15091e=atob(_0x5ddfc1['uri']['split'](',')[-0x5*0x97+-0x3*0xa65+0xb61*0x3]),_0x151619=new Uint8Array(_0x15091e['length']);for(let _0x406dc8=0x1*0x703+0x2dc+-0x85*0x13;_0x406dc8<_0x15091e['length'];_0x406dc8++)_0x151619[_0x406dc8]=_0x15091e['charCodeAt'](_0x406dc8);return _0x151619;}return new Promise((_0x3d2511,_0x378b94)=>{ot['get'](jn['test'](_0x5ddfc1['uri'])?_0x5ddfc1['uri']:xe['join'](_0x2664ec,_0x5ddfc1['uri']),{'cache':!(0x17*-0x10d+-0x1cb9+0x34e4),'responseType':'arraybuffe'+'r','retry':!(-0xd24+0x22cc+-0x15a7)},(_0x13d9d2,_0x1d6dea)=>{_0x13d9d2?_0x378b94(_0x13d9d2):_0x3d2511(new Uint8Array(_0x1d6dea));});});}return _0x46f525;}),_0x530d32&&(_0x3fc542=_0x3fc542['then'](_0x199c6b=>(_0x530d32(_0x451671['buffers'][_0xfe9d13],_0x199c6b),_0x199c6b))),_0x3fc542;});},zN=(_0x3f1e89,_0x5b283b)=>{const _0x3a73a1=JSON['parse']((_0x576fbf=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x576fbf);let _0x441784='';for(let _0x5f4ca5=-0x3*-0x7cf+0x44c+0x1bb9*-0x1;_0x5f4ca5<_0x576fbf['length'];_0x5f4ca5++)_0x441784+=String['fromCharCo'+'de'](_0x576fbf[_0x5f4ca5]);return decodeURIComponent(escape(_0x441784));})(_0x3f1e89));if(_0x3a73a1['asset']&&_0x3a73a1['asset']['version']&&parseFloat(_0x3a73a1['asset']['version'])<0x4*-0x94d+0xf01+-0xf*-0x17b){_0x5b283b('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x3a73a1['asset']['version']+'\x27.');return;}_0x5b283b(null,_0x3a73a1);},VN=(_0x393898,_0x18206e)=>{const _0x5a5a99=_0x393898 instanceof ArrayBuffer?new DataView(_0x393898):new DataView(_0x393898['buffer'],_0x393898['byteOffset'],_0x393898['byteLength']),_0x1a6866=_0x5a5a99['getUint32'](-0x6d3+-0x2c*-0xa9+-0x1639,!(0x2622*-0x1+-0x1aec*0x1+0x1*0x410e)),_0x1f3697=_0x5a5a99['getUint32'](0x1e83+0x6d1+-0x2550,!(0x2484+-0x220e+-0x276)),_0x924a6f=_0x5a5a99['getUint32'](0x49f+-0x1c0*0xa+0xce9*0x1,!(0x1*-0x1af+-0x1*0x3d+-0x29*-0xc));if(_0x1a6866!==0x6ac9f0f+0x629eb12a+-0x6*0x5d3d0a3){_0x18206e('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x1a6866['toString'](-0xda4+0xfef+-0x23b));return;}if(_0x1f3697!==0xa06+-0x26*0xb2+0x1068){_0x18206e('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x1f3697);return;}if(_0x924a6f<=0x25ae+-0x2635+0x87||_0x924a6f>_0x5a5a99['byteLength']){_0x18206e('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x924a6f);return;}const _0x3a4563=[];let _0x2fbfaa=0x146*0x18+-0x1879+-0x60b;for(;_0x2fbfaa<_0x924a6f;){const _0x183618=_0x5a5a99['getUint32'](_0x2fbfaa,!(-0x1719+-0x1*-0x260c+-0xef3));_0x2fbfaa+_0x183618+(0x13c*0x1a+0xcb9+-0x5*0x8f5)>_0x5a5a99['byteLength']&&_0x18206e('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x183618);const _0x53a0f6=_0x5a5a99['getUint32'](_0x2fbfaa+(-0x1d3f+-0x1*-0x445+-0x1*-0x18fe),!(0x97a+-0x272*-0x1+-0xbec)),_0x1ea21f=new Uint8Array(_0x5a5a99['buffer'],_0x5a5a99['byteOffset']+_0x2fbfaa+(-0xf*0x245+0xe*-0xf7+0x2f95),_0x183618);_0x3a4563['push']({'length':_0x183618,'type':_0x53a0f6,'data':_0x1ea21f}),_0x2fbfaa+=_0x183618+(-0x2070+0x1*0x162d+0xa4b);}if(_0x3a4563['length']!==0x1706+-0xeb*0x8+-0xfad&&_0x3a4563['length']!==-0xa03*-0x1+0x3*-0x86d+0xf46){_0x18206e('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x3a4563[-0x1*-0x20bb+0x1d72*0x1+-0x3e2d]['type']!==0x517e89b0+0xb0c68c2+-0xd654a8*0x11){_0x18206e('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x3a4563[0x73c*-0x3+-0xe*-0x103+-0x2*-0x3c5]['type']['toString'](-0x1a*0x15b+-0xb*0x9f+0x2a23));return;}if(_0x3a4563['length']>0xd4+0x1*0x265b+-0xaa*0x3b&&_0x3a4563[-0x7*0x9b+-0x5ab*-0x1+-0x16d]['type']!==-0x33eb2e+0xd85*-0x70d+0xe18731){_0x18206e('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x3a4563[-0x9*-0x9+0x261b+-0x266b]['type']['toString'](-0x2426+0x11*0x1e6+0x2a*0x18));return;}_0x18206e(null,{'gltfChunk':_0x3a4563[0xc15+-0x19b3+0xd9e]['data'],'binaryChunk':_0x3a4563['length']===0xa*0x1bb+0x1d17+-0x2e63?_0x3a4563[0x35*0x1b+-0x1*0x169+-0x42d]['data']:null});},GN=(_0x27d0e2,_0x56a072,_0x6623b4)=>{const _0x2240dd=()=>{const _0x29a226=new Uint8Array(_0x56a072);return _0x29a226[0xc1*-0x28+0x126a+0x2*0x5df]===0x1b8b+-0x1*-0x39b+-0x1*0x1ebf&&_0x29a226[-0x99+-0x15*0x11b+0x17d1]===0x19*0x1+0xb4b+-0xaf8&&_0x29a226[-0x16b3+-0x804+0x1eb9]===0xd76+0xb*0x332+0x18*-0x203&&_0x29a226[0xc2b+-0x1*0x683+-0x5a5]===0x10f8+0x1*0x1a24+-0x2ad6;};_0x27d0e2&&_0x27d0e2['toLowerCas'+'e']()['endsWith']('.glb')||_0x2240dd()?VN(_0x56a072,_0x6623b4):_0x6623b4(null,{'gltfChunk':_0x56a072,'binaryChunk':null});},HN=(_0x435e87,_0x124102,_0x3c0792)=>{var _0x5d6798,_0x5034d4,_0x5044f6,_0x34232e;const _0xccca9d=[],_0xbb2fc4=(_0x5d6798=_0x3c0792==null?void(-0x2326+0x6*-0x54b+0x42e8):_0x3c0792['bufferView'])==null?void(0x11b5+-0xc2e*0x3+0x12d5):_0x5d6798['preprocess'],_0x500b99=(_0x5034d4=_0x3c0792==null?void(-0x30*0x4c+-0x187e+0x26be):_0x3c0792['bufferView'])==null?void(0x2ed*0x5+-0x5*-0x7cd+-0x35a2):_0x5034d4['processAsy'+'nc'],_0x3f91fd=(_0x5044f6=_0x3c0792==null?void(0x14ba+-0xd4a+-0x770):_0x3c0792['bufferView'])==null?void(-0x187a+0x1e4e+-0x5d4*0x1):_0x5044f6['postproces'+'s'];if(!((_0x34232e=_0x435e87['bufferView'+'s'])!=null&&_0x34232e['length']))return _0xccca9d;for(let _0xde1997=-0x134e+-0x28*-0x9e+-0x562;_0xde1997<_0x435e87['bufferView'+'s']['length'];++_0xde1997){const _0x592e87=_0x435e87['bufferView'+'s'][_0xde1997];_0xbb2fc4&&_0xbb2fc4(_0x592e87);let _0x5a9264;_0x500b99?_0x5a9264=new Promise((_0x166451,_0x533945)=>{_0x500b99(_0x592e87,_0x124102,(_0x24c40a,_0x76485c)=>{_0x24c40a?_0x533945(_0x24c40a):_0x166451(_0x76485c);});}):_0x5a9264=new Promise(_0x48d84b=>{_0x48d84b(null);}),_0x5a9264=_0x5a9264['then'](_0x52765f=>_0x52765f||_0x124102[_0x592e87['buffer']]['then'](_0x404c6b=>new Uint8Array(_0x404c6b['buffer'],_0x404c6b['byteOffset']+(_0x592e87['byteOffset']||0xea1+0x258f+-0x3430),_0x592e87['byteLength']))),_0x592e87['hasOwnProp'+'erty']('byteStride')&&(_0x5a9264=_0x5a9264['then'](_0x2d0200=>(_0x2d0200['byteStride']=_0x592e87['byteStride'],_0x2d0200))),_0x3f91fd&&(_0x5a9264=_0x5a9264['then'](_0x11b100=>(_0x3f91fd(_0x592e87,_0x11b100),_0x11b100))),_0xccca9d['push'](_0x5a9264);}return _0xccca9d;};class kh{static['parse'](_0x34d3a9,_0xed2cb4,_0x171b0a,_0x12bc54,_0x43808c,_0x272900,_0x4b8e35){GN(_0x34d3a9,_0x171b0a,(_0x5b61ad,_0x6c2b52)=>{if(_0x5b61ad){_0x4b8e35(_0x5b61ad);return;}zN(_0x6c2b52['gltfChunk'],(_0x16181b,_0x520d9e)=>{if(_0x16181b){_0x4b8e35(_0x16181b);return;}const _0x18bde7=BN(_0x520d9e,_0x6c2b52['binaryChun'+'k'],_0xed2cb4,_0x272900),_0x1b20fd=HN(_0x520d9e,_0x18bde7,_0x272900),_0x40d8d8=kN(_0x520d9e,_0x1b20fd,_0xed2cb4,_0x43808c,_0x272900),_0x29fda6=UN(_0x520d9e,_0x40d8d8,_0x272900);ON(_0x12bc54,_0x520d9e,_0x1b20fd,_0x29fda6,_0x272900)['then'](_0x21a0d4=>_0x4b8e35(null,_0x21a0d4))['catch'](_0x493a5a=>_0x4b8e35(_0x493a5a));});});}static['createDefa'+'ultMateria'+'l'](){return w0({'name':'defaultGlb'+'Material'},[]);}}class WN extends Qe{constructor(_0x5696b2){super(_0x5696b2,'animation'),this['device']=_0x5696b2['graphicsDe'+'vice'],this['assets']=_0x5696b2['assets'];}['load'](_0x13b86a,_0x5080a4,_0xfc7693){typeof _0x13b86a=='string'&&(_0x13b86a={'load':_0x13b86a,'original':_0x13b86a});const _0x1a954d={'retry':this['maxRetries']>-0xa64+-0x186f*-0x1+0x5*-0x2cf,'maxRetries':this['maxRetries']};(_0x13b86a['load']['startsWith']('blob:')||_0x13b86a['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x13b86a['original'])['toLowerCas'+'e']()==='.glb'?_0x1a954d['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x1a954d['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x13b86a['load'],_0x1a954d,(_0x3c8497,_0x3b8a90)=>{_0x3c8497?_0x5080a4('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x13b86a['original']+'\x20['+_0x3c8497+']'):xe['getExtensi'+'on'](_0x13b86a['original'])['toLowerCas'+'e']()==='.glb'?kh['parse']('filename.g'+'lb','',_0x3b8a90,this['device'],this['assets'],(_0xfc7693==null?void(-0x1*0x511+-0x77d+0xc8e):_0xfc7693['options'])??{},(_0x149adb,_0x8fb002)=>{var _0x4d0a8d;if(_0x149adb)_0x5080a4(_0x149adb);else{const _0x1a07e3=_0x8fb002['animations'];if((_0x4d0a8d=_0xfc7693==null?void(0x266f+-0x12d5*-0x2+-0x4c19):_0xfc7693['data'])!=null&&_0x4d0a8d['events']){for(let _0x8f040=0x1d2b+0x1d76+-0x3aa1;_0x8f040<_0x1a07e3['length'];_0x8f040++)_0x1a07e3[_0x8f040]['events']=new Hv(Object['values'](_0xfc7693['data']['events']));}_0x8fb002['destroy'](),_0x5080a4(null,_0x1a07e3);}}):_0x5080a4(null,this['_parseAnim'+'ationV'+_0x3b8a90['animation']['version']](_0x3b8a90));});}['open'](_0x4a0222,_0x5d753a,_0x3b0d10){return _0x5d753a;}['_parseAnim'+'ationV3'](_0x5d0ae4){const _0x2d15aa=_0x5d0ae4['animation'],_0x4a4630=new ug();_0x4a4630['name']=_0x2d15aa['name'],_0x4a4630['duration']=_0x2d15aa['duration'];for(let _0x2c4442=-0x3e4*-0x7+0x84e*-0x2+-0xaa0;_0x2c4442<_0x2d15aa['nodes']['length'];_0x2c4442++){const _0x41d503=new fg(),_0x3d4de8=_0x2d15aa['nodes'][_0x2c4442];_0x41d503['_name']=_0x3d4de8['name'];for(let _0x2410f7=0x2039+-0x1dd+-0x1e5c;_0x2410f7<_0x3d4de8['keys']['length'];_0x2410f7++){const _0x1f9418=_0x3d4de8['keys'][_0x2410f7],_0x16cc77=_0x1f9418['time'],_0x366d28=_0x1f9418['pos'],_0x5d7c0c=_0x1f9418['rot'],_0x4685da=_0x1f9418['scale'],_0x52a96d=new D(_0x366d28[-0x1ecf*0x1+0x1*0xab1+0xce*0x19],_0x366d28[-0x1*0x957+0x595+-0x3c3*-0x1],_0x366d28[-0x4e3+0x1*0x2c6+-0x1*-0x21f]),_0x107c8e=new le()['setFromEul'+'erAngles'](_0x5d7c0c[0x1*0x1cb7+-0x1*-0x17f7+-0x16*0x265],_0x5d7c0c[0x21ba+-0x1c91+-0x528],_0x5d7c0c[0x5fb*-0x5+-0x2605+-0xeb*-0x4a]),_0x5f135b=new D(_0x4685da[0x1*0x737+0x5aa+-0x15*0x9d],_0x4685da[0x1*0x135d+-0x8bc+-0x14*0x88],_0x4685da[-0x2*0x3cf+0x119*-0x1d+0x309*0xd]),_0x372cbb=new dg(_0x16cc77,_0x52a96d,_0x107c8e,_0x5f135b);_0x41d503['_keys']['push'](_0x372cbb);}_0x4a4630['addNode'](_0x41d503);}return _0x4a4630;}['_parseAnim'+'ationV4'](_0xb84635){const _0x592299=_0xb84635['animation'],_0x49ebeb=new ug();_0x49ebeb['name']=_0x592299['name'],_0x49ebeb['duration']=_0x592299['duration'];for(let _0x1cec26=-0x88a+-0x97c*-0x2+-0x1*0xa6e;_0x1cec26<_0x592299['nodes']['length'];_0x1cec26++){const _0x5ea264=new fg(),_0x3245ea=_0x592299['nodes'][_0x1cec26];_0x5ea264['_name']=_0x3245ea['name'];const _0x59b2e8=_0x3245ea['defaults']['p'],_0x3b83fb=_0x3245ea['defaults']['r'],_0x12684c=_0x3245ea['defaults']['s'];for(let _0x4438f1=0x11de+-0x712+0x2b3*-0x4;_0x4438f1<_0x3245ea['keys']['length'];_0x4438f1++){const _0x42d004=_0x3245ea['keys'][_0x4438f1],_0x4497db=_0x42d004['t'],_0x5c5cd7=_0x59b2e8||_0x42d004['p'],_0x2e289a=_0x3b83fb||_0x42d004['r'],_0x3a618a=_0x12684c||_0x42d004['s'],_0xf7666d=new D(_0x5c5cd7[0xb93+0x1*-0x5c9+0x39*-0x1a],_0x5c5cd7[0x1*0xde7+0x1814+-0x25fa],_0x5c5cd7[0x149b+0x8*-0x1c7+-0x17*0x47]),_0x254ba2=new le()['setFromEul'+'erAngles'](_0x2e289a[0x2b*-0x2f+0x5e9+0x1*0x1fc],_0x2e289a[0x3cc+-0x1c3+-0x208],_0x2e289a[-0x2b*-0x75+-0x4d*-0x47+-0x2900]),_0x4790dd=new D(_0x3a618a[0x148b+-0x7*0x6e+-0x1189],_0x3a618a[0x1741*0x1+-0x2223+0xae3],_0x3a618a[-0x1853*-0x1+0x63*-0x43+0x198]),_0x523e5f=new dg(_0x4497db,_0xf7666d,_0x254ba2,_0x4790dd);_0x5ea264['_keys']['push'](_0x523e5f);}_0x49ebeb['addNode'](_0x5ea264);}return _0x49ebeb;}}class $N extends Qe{constructor(_0x2c1919){super(_0x2c1919,'animclip');}['load'](_0x4cc743,_0x107334){typeof _0x4cc743=='string'&&(_0x4cc743={'load':_0x4cc743,'original':_0x4cc743});const _0x278da6={'retry':this['maxRetries']>0x1ccd+0x1ec5*0x1+0x1*-0x3b92,'maxRetries':this['maxRetries']};_0x4cc743['load']['startsWith']('blob:')&&(_0x278da6['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x4cc743['load'],_0x278da6,(_0x3024a2,_0x3996f9)=>{_0x3024a2?_0x107334('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x4cc743['original']+'\x20['+_0x3024a2+']'):_0x107334(null,_0x3996f9);});}['open'](_0xf9be6c,_0x277744){const _0x150d57=_0x277744['name'],_0x17f1a3=_0x277744['duration'],_0x44773d=_0x277744['inputs']['map'](_0x4a9c59=>new Fh(-0x1166+-0x1bf1+-0xb56*-0x4,_0x4a9c59)),_0x4b809a=_0x277744['outputs']['map'](_0x1e693b=>new Fh(_0x1e693b['components'],_0x1e693b['data'])),_0x489ec1=_0x277744['curves']['map'](_0x148682=>new v0([_0x148682['path']],_0x148682['inputIndex'],_0x148682['outputInde'+'x'],_0x148682['interpolat'+'ion']));return new Qi(_0x150d57,_0x17f1a3,_0x44773d,_0x4b809a,_0x489ec1);}}class XN extends Qe{constructor(_0x40fde0){super(_0x40fde0,'animstateg'+'raph');}['load'](_0x1b1b5c,_0x509ba0){typeof _0x1b1b5c=='string'&&(_0x1b1b5c={'load':_0x1b1b5c,'original':_0x1b1b5c});const _0xb2ec6={'retry':this['maxRetries']>-0xc*0x35+-0x24e0+0x275c,'maxRetries':this['maxRetries']};_0x1b1b5c['load']['startsWith']('blob:')&&(_0xb2ec6['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x1b1b5c['load'],_0xb2ec6,(_0x1b6a77,_0x20c0ad)=>{_0x1b6a77?_0x509ba0('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x1b1b5c['original']+'\x20['+_0x1b6a77+']'):_0x509ba0(null,_0x20c0ad);});}['open'](_0x324406,_0x34d5c){return new Jc(_0x34d5c);}}const Af=(function(){if(typeof window>'u')return!(0x18ee+-0x1697*-0x1+0x2*-0x17c2);const _0x288c5e=window['navigator']['userAgent'],_0x418984=_0x288c5e['indexOf']('MSIE\x20');if(_0x418984>0x1*0xb2f+-0x428*0x9+0x1a39)return parseInt(_0x288c5e['substring'](_0x418984+(-0x53f*0x6+0x8ee+0x6d*0x35),_0x288c5e['indexOf']('.',_0x418984)),0x932+-0xfe*0x19+-0xfa6*-0x1);if(_0x288c5e['indexOf']('Trident/')>0x3*-0x31a+0x4f*0x6d+-0x1855){const _0x71455f=_0x288c5e['indexOf']('rv:');return parseInt(_0x288c5e['substring'](_0x71455f+(0xd4d+0x1cfb+0x2a45*-0x1),_0x288c5e['indexOf']('.',_0x71455f)),0x17b*-0xe+0x1c45*0x1+-0x781);}return!(0x2701+-0x2*-0x14b+-0x2996);}()),qN=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class jN extends Qe{constructor(_0x346a0c){super(_0x346a0c,'audio'),this['manager']=_0x346a0c['soundManag'+'er'],w['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x4b324d){const _0x376193=xe['getExtensi'+'on'](_0x4b324d);return qN['indexOf'](_0x376193)>-(0x142*-0x1f+-0x13dd+-0x2*-0x1d6e)||_0x4b324d['startsWith']('blob:');}['load'](_0x44d8d6,_0x4f27ef){typeof _0x44d8d6=='string'&&(_0x44d8d6={'load':_0x44d8d6,'original':_0x44d8d6});const _0x2d0851=function(_0x48eade){_0x4f27ef(null,new Mw(_0x48eade));},_0x95d2ec=function(_0x12002a){let _0x4bf592='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0x44d8d6['original'];_0x12002a&&(_0x4bf592+=':\x20'+(_0x12002a['message']||_0x12002a)),console['warn'](_0x4bf592),_0x4f27ef(_0x4bf592);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0x44d8d6['original'])){_0x95d2ec('Audio\x20form'+'at\x20for\x20'+_0x44d8d6['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0x44d8d6['load'],_0x2d0851,_0x95d2ec);}else _0x95d2ec(null);}['_createSou'+'nd'](_0x56e5d1,_0x52fc86,_0x550e0b){if(Dl()){const _0x2372cd=this['manager'];if(!_0x2372cd['context']){_0x550e0b('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x10ba41={'retry':this['maxRetries']>-0xfd*-0x6+-0x794+0x1a6,'maxRetries':this['maxRetries']};(_0x56e5d1['startsWith']('blob:')||_0x56e5d1['startsWith']('data:'))&&(_0x10ba41['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),ot['get'](_0x56e5d1,_0x10ba41,(_0x15ceef,_0x2afed8)=>{if(_0x15ceef){_0x550e0b(_0x15ceef);return;}_0x2372cd['context']['decodeAudi'+'oData'](_0x2afed8,_0x52fc86,_0x550e0b);});}else{let _0x150c21=null;try{_0x150c21=new Audio();}catch{_0x550e0b('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Af&&document['body']['appendChil'+'d'](_0x150c21);const _0x2f572c=function(){_0x150c21['removeEven'+'tListener']('canplaythr'+'ough',_0x2f572c),Af&&document['body']['removeChil'+'d'](_0x150c21),_0x52fc86(_0x150c21);};_0x150c21['onerror']=function(){_0x150c21['onerror']=null,Af&&document['body']['removeChil'+'d'](_0x150c21),_0x550e0b();},_0x150c21['addEventLi'+'stener']('canplaythr'+'ough',_0x2f572c),_0x150c21['src']=_0x56e5d1;}}}class YN extends Qe{constructor(_0x224d68){super(_0x224d68,'binary');}['load'](_0x1e7500,_0x2fb817){typeof _0x1e7500=='string'&&(_0x1e7500={'load':_0x1e7500,'original':_0x1e7500}),ot['get'](_0x1e7500['load'],{'responseType':Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>0xc1a*-0x2+-0x703+0x1f37,'maxRetries':this['maxRetries']},(_0x357204,_0x31d37d)=>{_0x357204?_0x2fb817('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x1e7500['original']+'\x20['+_0x357204+']'):_0x2fb817(null,_0x31d37d);});}['openBinary'](_0x5ead2f){return _0x5ead2f['buffer'];}}class yr{constructor(_0x170ca0,_0x3bf321,_0x3bac28,_0x3078e6){const _0xff57c=function(_0x41302d,_0x195b14,_0x55ba73){const _0x1caca5=yr['createAsse'+'t'](_0x3bf321['name'],_0x41302d,_0x195b14,_0x55ba73);return _0x3bac28['add'](_0x1caca5),_0x1caca5;},_0xc3779=[];for(let _0x200279=-0x2*-0x49d+0x3*0x1bf+-0xe77;_0x200279<_0x170ca0['renders']['length'];++_0x200279)_0xc3779['push'](_0xff57c('render',_0x170ca0['renders'][_0x200279],_0x200279));const _0x4a3c5a=[];for(let _0x4a3ef8=-0x23f9+0x1135+-0x962*-0x2;_0x4a3ef8<_0x170ca0['materials']['length'];++_0x4a3ef8)_0x4a3c5a['push'](_0xff57c('material',_0x170ca0['materials'][_0x4a3ef8],_0x4a3ef8));const _0x40b499=[];for(let _0x248d92=0x47*-0x22+0xc7c+0x187*-0x2;_0x248d92<_0x170ca0['animations']['length'];++_0x248d92)_0x40b499['push'](_0xff57c('animation',_0x170ca0['animations'][_0x248d92],_0x248d92));this['data']=_0x170ca0,this['_model']=null,this['_assetName']=_0x3bf321['name'],this['_assets']=_0x3bac28,this['_defaultMa'+'terial']=_0x3078e6,this['renders']=_0xc3779,this['materials']=_0x4a3c5a,this['textures']=_0x170ca0['textures'],this['animations']=_0x40b499;}get['model'](){if(!this['_model']){const _0x2547ef=yr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x4b4541=yr['createAsse'+'t'](this['_assetName'],'model',_0x2547ef,-0x4eb+0x873*-0x1+0xd5e);this['_assets']['add'](_0x4b4541),this['_model']=_0x4b4541;}return this['_model'];}static['createAsse'+'t'](_0x1778bd,_0x35d12e,_0x12f1ac,_0x5c91c8){const _0x400ff4=new pe(_0x1778bd+'/'+_0x35d12e+'/'+_0x5c91c8,_0x35d12e,{'url':''});return _0x400ff4['resource']=_0x12f1ac,_0x400ff4['loaded']=!(0x3*0x257+-0x1249+0x4*0x2d1),_0x400ff4;}['instantiat'+'eModelEnti'+'ty'](_0x376aa9){const _0xc34037=new lt(void(0x11a3+-0x9*0x27b+0x4b0),this['_assets']['_loader']['_app']);return _0xc34037['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0x376aa9)),_0xc34037;}['instantiat'+'eRenderEnt'+'ity'](_0x3f9a5f){const _0x940daf=this['_defaultMa'+'terial'],_0x3707ef=[],_0x18b3a4=function(_0x1a0908,_0x17b23d,_0xe13fa,_0x5d360d,_0x301391,_0x21cea5,_0x2fad94,_0x1f32f2){const _0x584ea1=_0x301391[_0xe13fa['id']],_0x50b8df=_0x584ea1===void(-0x1055+0x267+0xdee)?_0x940daf:_0x5d360d[_0x584ea1],_0x2888c1=new He(_0xe13fa,_0x50b8df);_0xe13fa['morph']&&(_0x2888c1['morphInsta'+'nce']=new xa(_0xe13fa['morph'])),_0x2fad94['hasOwnProp'+'erty']('skin')&&_0x3707ef['push']({'meshInstance':_0x2888c1,'rootBone':_0x1a0908,'entity':_0x17b23d});const _0x14e404=_0x1f32f2['get'](_0x2fad94);if(_0x14e404){const _0x44aaae=_0x14e404['matrices'],_0x34043b=kt['getDefault'+'Instancing'+'Format'](_0xe13fa['device']),_0x204718=new Is(_0xe13fa['device'],_0x34043b,_0x44aaae['length']/(-0x10ee+-0xada*-0x3+-0x2*0x7c8),{'data':_0x44aaae});_0x2888c1['setInstanc'+'ing'](_0x204718),_0x2888c1['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(-0xd21*0x1+0x17*0x111+0x1*-0xb66);}return _0x2888c1;},_0x556d00=(_0x411a20,_0x454664,_0xc16da2)=>{const _0x4445b0=new lt(void(0x8*0x316+0x23a3*-0x1+-0xaf3*-0x1),this['_assets']['_loader']['_app']);_0x454664['_cloneInte'+'rnal'](_0x4445b0),_0x411a20||(_0x411a20=_0x4445b0);let _0x1304f5=null,_0x2d47c4=null;for(let _0x204f9c=-0x1*0x13c3+-0x6*0x390+0x2923;_0x204f9c<_0xc16da2['nodes']['length'];_0x204f9c++)if(_0xc16da2['nodes'][_0x204f9c]===_0x454664){const _0x13a5a2=_0xc16da2['gltf']['nodes'][_0x204f9c];if(_0x13a5a2['hasOwnProp'+'erty']('mesh')){const _0x5f3996=_0xc16da2['renders'][_0x13a5a2['mesh']]['meshes'];_0x2d47c4=this['renders'][_0x13a5a2['mesh']];for(let _0x5a6709=-0x1*-0x6d5+0x1d30*0x1+-0x2405*0x1;_0x5a6709<_0x5f3996['length'];_0x5a6709++){const _0x5d7bc1=_0x5f3996[_0x5a6709];if(_0x5d7bc1){const _0x36b139=_0x18b3a4(_0x411a20,_0x4445b0,_0x5d7bc1,_0xc16da2['materials'],_0xc16da2['meshDefaul'+'tMaterials'],_0xc16da2['skins'],_0x13a5a2,_0xc16da2['nodeInstan'+'cingMap']);_0x1304f5||(_0x1304f5=[]),_0x1304f5['push'](_0x36b139);}}}if(_0xc16da2['lights']){const _0x582d57=_0xc16da2['lights']['get'](_0x13a5a2);_0x582d57&&_0x4445b0['addChild'](_0x582d57['clone']());}if(_0xc16da2['cameras']){const _0x571751=_0xc16da2['cameras']['get'](_0x13a5a2);_0x571751&&_0x571751['camera']['system']['cloneCompo'+'nent'](_0x571751,_0x4445b0);}}_0x1304f5&&(_0x4445b0['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x1304f5},_0x3f9a5f)),_0x4445b0['render']['assignAsse'+'t'](_0x2d47c4));const _0x1d9457=_0x454664['children'];for(let _0x19eff9=0x17ff*0x1+-0x1b*0x8f+-0x8ea;_0x19eff9<_0x1d9457['length'];_0x19eff9++){const _0xdeaef=_0x556d00(_0x411a20,_0x1d9457[_0x19eff9],_0xc16da2);_0x4445b0['addChild'](_0xdeaef);}return _0x4445b0;},_0x5c4406=[];for(const _0x109e4b of this['data']['scenes'])_0x5c4406['push'](_0x556d00(null,_0x109e4b,this['data']));return _0x3707ef['forEach'](_0x71ecb8=>{_0x71ecb8['meshInstan'+'ce']['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0x71ecb8['meshInstan'+'ce']['mesh']['skin'],_0x71ecb8['rootBone'],_0x71ecb8['entity']),_0x71ecb8['meshInstan'+'ce']['node']['render']['rootBone']=_0x71ecb8['rootBone'];}),yr['createScen'+'eHierarchy'](_0x5c4406,lt);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0xf33237,_0x1c177f){const _0x402b67=_0x1c177f?this['data']['variants'][_0x1c177f]:null;if(_0x402b67===void(0xc4e+-0x157a+0x24b*0x4)){w['warn']('No\x20variant'+'\x20named\x20'+_0x1c177f+('\x20exists\x20in'+'\x20resource'));return;}const _0x41554d=_0xf33237['findCompon'+'ents']('render');for(let _0x34db5d=-0x201c+0x435*0x4+0xf48;_0x34db5d<_0x41554d['length'];_0x34db5d++){const _0x262e32=_0x41554d[_0x34db5d];this['_applyMate'+'rialVarian'+'t'](_0x402b67,_0x262e32['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0x3fcba1,_0x1c166f){const _0x23ac60=_0x1c166f?this['data']['variants'][_0x1c166f]:null;if(_0x23ac60===void(0xb*-0x25+-0xf2c*-0x1+0xb7*-0x13)){w['warn']('No\x20variant'+'\x20named\x20'+_0x1c166f+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x23ac60,_0x3fcba1);}['_applyMate'+'rialVarian'+'t'](_0x44dc38,_0x3e3342){_0x3e3342['forEach'](_0x330913=>{if(_0x44dc38===null)_0x330913['material']=this['_defaultMa'+'terial'];else{const _0x3015b7=this['data']['meshVarian'+'ts'][_0x330913['mesh']['id']];_0x3015b7&&(_0x330913['material']=this['data']['materials'][_0x3015b7[_0x44dc38]]);}w['assert'](_0x330913['material']);});}static['createScen'+'eHierarchy'](_0x47bb42,_0x45fb34){let _0x4ee2f7=null;if(_0x47bb42['length']===0x17ff*-0x1+0xc74+0x4*0x2e3)_0x4ee2f7=_0x47bb42[0x43c+0x132a+-0x1766];else{_0x4ee2f7=new _0x45fb34('SceneGroup');for(const _0x2d5bbb of _0x47bb42)_0x4ee2f7['addChild'](_0x2d5bbb);}return _0x4ee2f7;}static['createMode'+'l'](_0x45d5e8,_0x938cb0){const _0x254534=function(_0xe12e0,_0x4eab0f,_0x21b29b,_0x355c59,_0x574e23,_0xc67713,_0x26b5f8){const _0x4d0cb3=_0x45d5e8['meshDefaul'+'tMaterials'][_0x4eab0f['id']],_0x41c45f=_0x4d0cb3===void(0x1de*-0x1+-0x57*0x1+0x235)?_0x938cb0:_0x574e23[_0x4d0cb3],_0x315015=new He(_0x4eab0f,_0x41c45f,_0xc67713);if(_0x4eab0f['morph']){const _0x919b42=new xa(_0x4eab0f['morph']);_0x315015['morphInsta'+'nce']=_0x919b42,_0xe12e0['morphInsta'+'nces']['push'](_0x919b42);}if(_0x26b5f8['hasOwnProp'+'erty']('skin')){const _0x10a237=_0x26b5f8['skin'],_0x3023e8=_0x21b29b[_0x10a237];_0x4eab0f['skin']=_0x3023e8;const _0x5c7bfe=_0x355c59[_0x10a237];_0x315015['skinInstan'+'ce']=_0x5c7bfe,_0xe12e0['skinInstan'+'ces']['push'](_0x5c7bfe);}_0xe12e0['meshInstan'+'ces']['push'](_0x315015);},_0x11114e=new sr(),_0x2d17d7=[];for(const _0x44bb6c of _0x45d5e8['skins']){const _0xb0f9e6=new Ol(_0x44bb6c);_0xb0f9e6['bones']=_0x44bb6c['bones'],_0x2d17d7['push'](_0xb0f9e6);}_0x11114e['graph']=yr['createScen'+'eHierarchy'](_0x45d5e8['scenes'],Ie);for(let _0x17a5a6=-0x2*0x1bc+0x1*0x141d+0x10a5*-0x1;_0x17a5a6<_0x45d5e8['nodes']['length'];_0x17a5a6++){const _0x2e7806=_0x45d5e8['nodes'][_0x17a5a6];if(_0x2e7806['root']===_0x11114e['graph']){const _0x21ef0b=_0x45d5e8['gltf']['nodes'][_0x17a5a6];if(_0x21ef0b['hasOwnProp'+'erty']('mesh')){const _0x1f51fc=_0x45d5e8['renders'][_0x21ef0b['mesh']]['meshes'];for(let _0x4fc6a8=0x142c+-0x2*-0x686+-0x2138;_0x4fc6a8<_0x1f51fc['length'];_0x4fc6a8++){const _0x5977d0=_0x1f51fc[_0x4fc6a8];_0x5977d0&&_0x254534(_0x11114e,_0x5977d0,_0x45d5e8['skins'],_0x2d17d7,_0x45d5e8['materials'],_0x2e7806,_0x21ef0b);}}}}return _0x11114e;}['destroy'](){const _0x2f45b0=this['_assets'],_0x295905=function(_0x5e5126){_0x2f45b0['remove'](_0x5e5126),_0x5e5126['unload']();},_0x8b3138=function(_0x255551){_0x255551['forEach'](_0x289d66=>{_0x295905(_0x289d66);});};this['animations']&&(_0x8b3138(this['animations']),this['animations']=null),this['textures']&&(_0x8b3138(this['textures']),this['textures']=null),this['materials']&&(_0x8b3138(this['materials']),this['materials']=null),this['renders']&&(_0x8b3138(this['renders']),this['renders']=null),this['_model']&&(_0x295905(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class KN{constructor(_0xb8bb12,_0x1c3c68,_0x1d685c){this['_device']=_0xb8bb12,this['_assets']=_0x1c3c68,this['_defaultMa'+'terial']=kh['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x1d685c;}['_getUrlWit'+'houtParams'](_0x3f2eb7){return _0x3f2eb7['indexOf']('?')>=-0xb76+-0x1*0x7f+0xbf5*0x1?_0x3f2eb7['split']('?')[0x1ac1+-0x18a5*-0x1+0x1122*-0x3]:_0x3f2eb7;}['load'](_0x3ff743,_0x4d3204,_0x3824ed){pe['fetchArray'+'Buffer'](_0x3ff743['load'],(_0x294f07,_0x56f59b)=>{_0x294f07?_0x4d3204(_0x294f07):kh['parse'](this['_getUrlWit'+'houtParams'](_0x3ff743['original']),xe['extractPat'+'h'](_0x3ff743['load']),_0x56f59b,this['_device'],_0x3824ed['registry'],_0x3824ed['options'],(_0x238daa,_0x54df6e)=>{_0x238daa?_0x4d3204(_0x238daa):_0x4d3204(null,new yr(_0x54df6e,_0x3824ed,this['_assets'],this['_defaultMa'+'terial']));});},_0x3824ed,this['maxRetries']);}['open'](_0x140a4b,_0x36beda,_0x2a7e5d){return _0x36beda;}['patch'](_0x2ec1de,_0x2138a2){}}class ZN extends Qe{constructor(_0x4d94e2){super(_0x4d94e2,'container'),this['glbContain'+'erParser']=new KN(_0x4d94e2['graphicsDe'+'vice'],_0x4d94e2['assets'],-0xab0+-0x8*0x17f+-0xa*-0x244),this['parsers']={};}set['maxRetries'](_0xecbbfa){this['glbContain'+'erParser']['maxRetries']=_0xecbbfa;for(const _0x29717e in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x29717e)&&(this['parsers'][_0x29717e]['maxRetries']=_0xecbbfa);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x36cfe2){return _0x36cfe2['indexOf']('?')>=-0x1577+0x1dd1+-0x85a?_0x36cfe2['split']('?')[0xc97*-0x1+-0x191*0x11+0x2738]:_0x36cfe2;}['_getParser'](_0xc48e15){const _0x317f8d=_0xc48e15?xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0xc48e15))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x317f8d]||this['glbContain'+'erParser'];}['load'](_0x2dd740,_0x179545,_0x249379){typeof _0x2dd740=='string'&&(_0x2dd740={'load':_0x2dd740,'original':_0x2dd740}),this['_getParser'](_0x2dd740['original'])['load'](_0x2dd740,_0x179545,_0x249379);}['open'](_0x299967,_0x24af0b,_0x2e978f){return this['_getParser'](_0x299967)['open'](_0x299967,_0x24af0b,_0x2e978f);}}class QN extends Qe{constructor(_0x4fbef3){super(_0x4fbef3,'css'),h(this,'decoder',null);}['load'](_0x5a0733,_0x112bdc){typeof _0x5a0733=='string'&&(_0x5a0733={'load':_0x5a0733,'original':_0x5a0733}),ot['get'](_0x5a0733['load'],{'retry':this['maxRetries']>-0x115*0x13+0xda8+-0x1*-0x6e7,'maxRetries':this['maxRetries']},(_0x182069,_0x2bd8ce)=>{_0x182069?_0x112bdc('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0x5a0733['original']+'\x20['+_0x182069+']'):_0x112bdc(null,_0x2bd8ce);});}['openBinary'](_0x1cedba){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x1cedba);}}class JN extends Qe{constructor(_0x41ede6){super(_0x41ede6,'cubemap'),this['_device']=_0x41ede6['graphicsDe'+'vice'],this['_registry']=_0x41ede6['assets'],this['_loader']=_0x41ede6['loader'];}['load'](_0x2c1198,_0x25fdc0,_0x3b8877){this['loadAssets'](_0x3b8877,_0x25fdc0);}['open'](_0x55e165,_0x204bb0,_0x45e2d3){return _0x45e2d3?_0x45e2d3['resource']:null;}['patch'](_0x361397,_0x1b06d2){this['loadAssets'](_0x361397,(_0x2296dc,_0x355469)=>{_0x2296dc&&(_0x1b06d2['fire']('error',_0x361397),_0x1b06d2['fire']('error:'+_0x361397['id'],_0x2296dc,_0x361397),_0x361397['fire']('error',_0x361397));});}['getAssetId'+'s'](_0x5d9e0e){const _0x51875e=[];if(_0x51875e[-0x2159+-0x1233*0x1+0x338c]=_0x5d9e0e['file'],(_0x5d9e0e['loadFaces']||!_0x5d9e0e['file'])&&_0x5d9e0e['data']&&_0x5d9e0e['data']['textures']){for(let _0x386e47=0x899+0x6a*0x1+-0x1*0x903;_0x386e47<-0x219*-0x4+-0x1*0x57e+-0x2e0;++_0x386e47)_0x51875e[_0x386e47+(0x1*-0x775+-0xafa+0x1270)]=_0x5d9e0e['data']['textures'][_0x386e47];}else _0x51875e[0x26e+0x3*0x757+-0x1872*0x1]=_0x51875e[0x174d*-0x1+-0x1b4*-0x9+-0x3*-0x2a9]=_0x51875e[-0x1e3*0x3+0x20bf+-0xef*0x1d]=_0x51875e[-0x23ea+0x1cc8*0x1+0x726]=_0x51875e[-0x9e5+-0x136a+0x1d54]=_0x51875e[-0x680+0x1*0xec8+-0x842]=null;return _0x51875e;}['compareAss'+'etIds'](_0x579473,_0x34e93a){return _0x579473&&_0x34e93a?parseInt(_0x579473,-0x1d5e+-0x1867+-0x13*-0x2d5)===_0x579473||typeof _0x579473=='string'?_0x579473===_0x34e93a:_0x579473['url']===_0x34e93a['url']:_0x579473!==null==(_0x34e93a!==null);}['update'](_0x5d4f2b,_0x92a1a0,_0x17e9c9){const _0x32c915=_0x5d4f2b['data']||{},_0x5a1538=_0x5d4f2b['_handlerSt'+'ate']['assets'],_0x710e39=_0x5d4f2b['_resources'];let _0x2ec5fb,_0x30af9a,_0x2317a6;const _0x2e3f1b=[null,null,null,null,null,null,null],_0x4c5f4a=function(){return _0x32c915['hasOwnProp'+'erty']('type')?_0x32c915['type']:_0x32c915['hasOwnProp'+'erty']('rgbm')?_0x32c915['rgbm']?Zi:Ds:null;};if(!_0x5d4f2b['loaded']||_0x17e9c9[0x11d*0x10+0x2e7+-0x14b7*0x1]!==_0x5a1538[0x2d7+0xcb4*0x2+-0x1c3f]){if(_0x17e9c9[-0x85*-0x32+0xe51+0x80f*-0x5]){if(_0x2ec5fb=_0x17e9c9[-0x1*-0x19a0+0x3*-0xaed+0x727]['resource'],_0x2ec5fb['cubemap']){for(_0x2317a6=0x4ce+-0x9bf+0x1*0x4f1;_0x2317a6<0x25e9+0x18*-0x65+-0x1*0x1c6b;++_0x2317a6)_0x2e3f1b[_0x2317a6+(-0x330+-0x4*0x6cf+0x1e6d)]=new _e(this['_device'],{'name':_0x5d4f2b['name']+('_prelitCub'+'emap')+(_0x2ec5fb['width']>>_0x2317a6),'cubemap':!(0xe9f+-0x25c8+0x1729),'type':_0x4c5f4a()||_0x2ec5fb['type'],'width':_0x2ec5fb['width']>>_0x2317a6,'height':_0x2ec5fb['height']>>_0x2317a6,'format':_0x2ec5fb['format'],'levels':[_0x2ec5fb['_levels'][_0x2317a6]],'addressU':ue,'addressV':ue,'mipmaps':_0x2317a6===0x10d3*0x1+0x337*0x1+-0x140a});}else _0x2e3f1b[-0x151*-0xe+-0x1259*-0x1+-0x24c6]=_0x2ec5fb;}}else _0x2e3f1b[0x1e1f+0xfd*-0x13+0x1*-0xb57]=_0x710e39[0x22a1*-0x1+-0x10f*0x2+-0x1*-0x24c0]||null,_0x2e3f1b[0x74f+-0x1*0xf86+0x1a5*0x5]=_0x710e39[0x1*-0xed2+-0x16e*-0x18+-0x137c]||null,_0x2e3f1b[-0x24d1+0x10*-0xdc+0x3294]=_0x710e39[0x14b9+-0x1*0x2291+0xddb]||null,_0x2e3f1b[0x5*0x3c9+-0xfc+-0x11ed]=_0x710e39[0x330+0xd29*0x1+-0x1055]||null,_0x2e3f1b[-0x1f75*0x1+0x11bf+0xdbb*0x1]=_0x710e39[0x649*0x6+-0x67*0x58+-0x249]||null,_0x2e3f1b[0x903+-0x5*-0xd7+0xd3*-0x10]=_0x710e39[-0xeb3+-0x21a4+0x1*0x305d]||null;const _0x129760=_0x17e9c9['slice'](-0x1*0x289+-0x1*0x42e+-0x14*-0x56);if(!_0x5d4f2b['loaded']||!this['cmpArrays'](_0x129760,_0x5a1538['slice'](-0x1*-0x23dd+0xa3*-0x4+-0x2150))){if(_0x129760['indexOf'](null)===-(0x1492*0x1+0x12d*-0x1d+0xd88)){const _0x1107d4=_0x129760['map'](_0x5d9cb5=>_0x5d9cb5['resource']),_0x40058d=[];for(_0x30af9a=-0x42f*0x5+-0x64b*0x3+0x27cc;_0x30af9a<_0x1107d4[-0x1*-0x23d4+0x143e*-0x1+-0xf96*0x1]['_levels']['length'];++_0x30af9a)_0x40058d['push'](_0x1107d4['map'](_0x5ab548=>_0x5ab548['_levels'][_0x30af9a]));const _0x501fce=_0x1107d4[0x10*0x36+-0x1*0x18d5+-0x3*-0x727]['format'],_0x79873d=new _e(this['_device'],{'name':_0x5d4f2b['name']+'_faces','cubemap':!(-0xf6e+0x17b4+-0x846),'type':_0x4c5f4a()||_0x1107d4[-0xe46+0x343*0x1+0xb03]['type'],'width':_0x1107d4[-0x4*-0x916+0x191*-0x13+-0x695]['width'],'height':_0x1107d4[-0x1064+0x438+0xc2c]['height'],'format':_0x501fce===Cr?Ne:_0x501fce,'mipmaps':_0x32c915['mipmaps']??!(-0xf*0xad+0x1*-0x163f+-0x1*-0x2062),'levels':_0x40058d,'minFilter':_0x32c915['hasOwnProp'+'erty']('minFilter')?_0x32c915['minFilter']:_0x1107d4[0x2*-0x61b+-0x218b+0x35*0xdd]['minFilter'],'magFilter':_0x32c915['hasOwnProp'+'erty']('magFilter')?_0x32c915['magFilter']:_0x1107d4[0x1aa*0x1+-0x157*-0x1+0x1*-0x301]['magFilter'],'anisotropy':_0x32c915['hasOwnProp'+'erty']('anisotropy')?_0x32c915['anisotropy']:0x318*0x5+-0xa9*-0xa+-0x1611,'addressU':ue,'addressV':ue});_0x2e3f1b[-0x1b*-0x152+-0xcca+-0x16dc]=_0x79873d;}}else _0x2e3f1b[-0x1b14+-0x24e5*0x1+-0x1553*-0x3]=_0x710e39[-0x1*-0xf11+0x2559+-0x346a]||null;if(!this['cmpArrays'](_0x2e3f1b,_0x710e39)){for(_0x5d4f2b['resources']=_0x2e3f1b,_0x5d4f2b['_handlerSt'+'ate']['assetIds']=_0x92a1a0,_0x5d4f2b['_handlerSt'+'ate']['assets']=_0x17e9c9,_0x2317a6=0x6c0+0x6e8+-0xda8;_0x2317a6<_0x710e39['length'];++_0x2317a6)_0x710e39[_0x2317a6]!==null&&_0x2e3f1b['indexOf'](_0x710e39[_0x2317a6])===-(-0x32*-0x6b+-0x45a*0x8+0xdeb)&&_0x710e39[_0x2317a6]['destroy']();}for(_0x2317a6=-0x1*0x1127+0xa9+-0x2*-0x83f;_0x2317a6<_0x5a1538['length'];++_0x2317a6)_0x5a1538[_0x2317a6]!==null&&_0x17e9c9['indexOf'](_0x5a1538[_0x2317a6])===-(-0x274+-0x2453+0x1*0x26c8)&&_0x5a1538[_0x2317a6]['unload']();}['cmpArrays'](_0x21af48,_0x5a8565){if(_0x21af48['length']!==_0x5a8565['length'])return!(0x7e1+-0xf10+0x730);for(let _0x274b79=-0x18f6+-0x1a0d+0x3303;_0x274b79<_0x21af48['length'];++_0x274b79)if(_0x21af48[_0x274b79]!==_0x5a8565[_0x274b79])return!(-0x1b88*0x1+0x17e7+-0x1*-0x3a2);return!(0x21*0x122+-0x8a7+-0x1cbb);}['resolveId'](_0x5dcaa9){const _0x261113=parseInt(_0x5dcaa9,-0xf2e+-0xdbf+0x5*0x5cb);return _0x261113===_0x5dcaa9||_0x261113['toString']()===_0x5dcaa9?_0x261113:_0x5dcaa9;}['loadAssets'](_0x574e6d,_0x4e01f6){_0x574e6d['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x574e6d['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x18da13=this,_0x3de631=_0x18da13['getAssetId'+'s'](_0x574e6d),_0x1c5eca=[null,null,null,null,null,null,null],_0x8e29f6=_0x574e6d['_handlerSt'+'ate']['assetIds'],_0x3755d8=_0x574e6d['_handlerSt'+'ate']['assets'],_0x3f8d0f=_0x18da13['_registry'];let _0x171ff4=0x1790+-0x1b9f+-0x1*-0x416;const _0x480b78=function(_0x4588e5,_0x4e98db){_0x1c5eca[_0x4588e5]=_0x4e98db,_0x171ff4--,_0x171ff4===-0xcb7*0x3+0x3ff+0x3*0xb62&&(_0x18da13['update'](_0x574e6d,_0x3de631,_0x1c5eca),_0x4e01f6(null,_0x574e6d['resources']));},_0x4dcab4=function(_0x2d478d,_0x4a10e7,_0x3823d8){_0x4e01f6(_0x4a10e7);},_0x41e60e=function(_0x1b3152,_0x3fdc1){_0x3fdc1['loaded']?_0x480b78(_0x1b3152,_0x3fdc1):(_0x3f8d0f['once']('load:'+_0x3fdc1['id'],_0x480b78['bind'](_0x18da13,_0x1b3152)),_0x3f8d0f['once']('error:'+_0x3fdc1['id'],_0x4dcab4['bind'](_0x18da13,_0x1b3152)),_0x3fdc1['loading']||_0x3f8d0f['load'](_0x3fdc1));};let _0x42be93;for(let _0x23ea24=-0x14*0x4c+0x17d*-0x3+0xa67;_0x23ea24<-0x1f*0xca+0x15a+0x1723;++_0x23ea24){const _0xd6760=this['resolveId'](_0x3de631[_0x23ea24]);if(!_0xd6760)_0x480b78(_0x23ea24,null);else{if(_0x18da13['compareAss'+'etIds'](_0xd6760,_0x8e29f6[_0x23ea24]))_0x41e60e(_0x23ea24,_0x3755d8[_0x23ea24]);else{if(parseInt(_0xd6760,-0x1*-0x1f93+-0x17*0xe+-0x1e47)===_0xd6760)_0x42be93=_0x3f8d0f['get'](_0xd6760),_0x42be93?_0x41e60e(_0x23ea24,_0x42be93):setTimeout(((_0x501bf7,_0xe754e3)=>{const _0x490938=_0x3f8d0f['get'](_0xe754e3);_0x490938?_0x41e60e(_0x501bf7,_0x490938):_0x4dcab4(_0x501bf7,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0xe754e3);})['bind'](null,_0x23ea24,_0xd6760));else{const _0x46a94f=typeof _0xd6760=='string'?{'url':_0xd6760,'filename':_0xd6760}:_0xd6760,_0x5cedfa=_0x46a94f['url']['search']('.dds')===-(0x2156+0x11fd*-0x1+-0xf58)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(0x1*0xad+-0x44*-0x25+-0xa80)}:null;_0x42be93=new pe(_0x574e6d['name']+'_part_'+_0x23ea24,'texture',_0x46a94f,_0x5cedfa),_0x3f8d0f['add'](_0x42be93),_0x41e60e(_0x23ea24,_0x42be93);}}}}}}class ek extends Qe{constructor(_0x38a753){super(_0x38a753,'folder');}['load'](_0x190985,_0x2e8cd5){_0x2e8cd5(null,null);}}class yS{constructor(_0x38bf77,_0x423c22){this['type']=_0x423c22&&_0x423c22['type']||Rh,this['em']=0x15e+0x166*0x17+0x3*-0xb2d,this['textures']=_0x38bf77,this['intensity']=0x7*0x4e5+0x373+-0x25b6,this['_data']=null,this['data']=_0x423c22;}set['data'](_0x18920b){if(this['_data']=_0x18920b,!!_0x18920b&&(this['_data']['intensity']!==void(-0x15f*-0x5+-0x7c0+-0x1*-0xe5)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<-0x1241*-0x2+0x2534*0x1+0xb2*-0x6a)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x17e472 in this['_data']['chars'])this['_data']['chars'][_0x17e472]['map']=-0x2*0x39c+-0x9*-0x84+-0x14*-0x21;}}get['data'](){return this['_data'];}}function Cf(_0x241501){return _0x241501['version']<-0x1*0x1439+0x1674+-0x238&&(_0x241501['version']<0x112*0x16+-0xf40+-0x84a&&(_0x241501['info']['maps']=_0x241501['info']['maps']||[{'width':_0x241501['info']['width'],'height':_0x241501['info']['height']}]),_0x241501['chars']=Object['keys'](_0x241501['chars']||{})['reduce']((_0x239396,_0x279cd8)=>{const _0x1ee44a=_0x241501['chars'][_0x279cd8],_0x491a94=_0x1ee44a['letter']!==void(0x2386*0x1+-0xbe0+-0x17a6)?_0x1ee44a['letter']:Hc['fromCodePo'+'int'](_0x279cd8);return _0x241501['version']<0x11a7*-0x1+-0x1355+0x24fe&&(_0x1ee44a['map']=_0x1ee44a['map']||-0x14ef+-0x1*-0xf1+-0x3*-0x6aa),_0x239396[_0x491a94]=_0x1ee44a,_0x239396;},{}),_0x241501['version']=-0x11a4+0x1*-0x1b25+-0x2*-0x1666),_0x241501;}class tk extends Qe{constructor(_0x246f02){super(_0x246f02,'font'),this['_loader']=_0x246f02['loader'],this['maxRetries']=0x1*-0x1643+0x2*0x96b+0x36d;}['load'](_0x33f986,_0x2869e9,_0x43993a){typeof _0x33f986=='string'&&(_0x33f986={'load':_0x33f986,'original':_0x33f986});const _0x171e29=this;xe['getExtensi'+'on'](_0x33f986['original'])==='.json'?ot['get'](_0x33f986['load'],{'retry':this['maxRetries']>-0x3f*0x2f+0xe67*-0x1+-0x67e*-0x4,'maxRetries':this['maxRetries']},(_0x2274ab,_0x2f2426)=>{if(_0x2274ab)_0x2869e9('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x33f986['original']+'\x20['+_0x2274ab+']');else{const _0x42b5e0=Cf(_0x2f2426);_0x171e29['_loadTextu'+'res'](_0x33f986['load']['replace']('.json','.png'),_0x42b5e0,(_0x44b128,_0x1f96be)=>{_0x44b128?_0x2869e9(_0x44b128):_0x2869e9(null,{'data':_0x42b5e0,'textures':_0x1f96be});});}}):(_0x43993a&&_0x43993a['data']&&(_0x43993a['data']=Cf(_0x43993a['data'])),this['_loadTextu'+'res'](_0x33f986['load'],_0x43993a&&_0x43993a['data'],_0x2869e9));}['_loadTextu'+'res'](_0x549422,_0x2e9678,_0x1f1190){const _0x2b06c5=_0x2e9678['info']['maps']['length'];let _0x14c4cd=0xff5+0x964+0x7*-0x39f,_0x19ae13=null;const _0x2a5629=new Array(_0x2b06c5),_0x497dbb=this['_loader'],_0x294b93=function(_0x40949c){const _0x58a18a=function(_0x4ae29d,_0x5aaf1f){if(!_0x19ae13){if(_0x4ae29d){_0x19ae13=_0x4ae29d,_0x1f1190(_0x4ae29d);return;}_0x5aaf1f['upload'](),_0x2a5629[_0x40949c]=_0x5aaf1f,_0x14c4cd++,_0x14c4cd===_0x2b06c5&&_0x1f1190(null,_0x2a5629);}};_0x40949c===-0x54b+-0x10cb+0x1616*0x1?_0x497dbb['load'](_0x549422,'texture',_0x58a18a):_0x497dbb['load'](_0x549422['replace']('.png',_0x40949c+'.png'),'texture',_0x58a18a);};for(let _0x4cc7f0=-0xfae*-0x1+-0x1135*-0x2+-0x3218;_0x4cc7f0<_0x2b06c5;_0x4cc7f0++)_0x294b93(_0x4cc7f0);}['open'](_0x581648,_0x290941,_0x478622){let _0x39573b;return _0x290941['textures']?_0x39573b=new yS(_0x290941['textures'],_0x290941['data']):_0x39573b=new yS(_0x290941,null),_0x39573b;}['patch'](_0x617e3c,_0x41fddd){const _0x632dd4=_0x617e3c['resource'];!_0x632dd4['data']&&_0x617e3c['data']?_0x632dd4['data']=_0x617e3c['data']:!_0x617e3c['data']&&_0x632dd4['data']&&(_0x617e3c['data']=_0x632dd4['data']),_0x617e3c['data']&&(_0x617e3c['data']=Cf(_0x617e3c['data']));}}async function sk(){const _0x11dc1d=-0x2435+-0x1*-0x92d+0x1b08+0.28209479177387814;class _0x58f7f8{constructor(_0x46add4,_0x5af2e8,_0x247832){this['x']=_0x46add4,this['y']=_0x5af2e8,this['z']=_0x247832;}}class _0x27dcb0{constructor(_0x594642,_0x4c987d,_0x2f39e9,_0x249178){this['x']=_0x594642,this['y']=_0x4c987d,this['z']=_0x2f39e9,this['w']=_0x249178;}}class _0x5794b0{constructor(_0x4090c4,_0x5d7eb8,_0x563863,_0x25569e){this['x']=_0x4090c4,this['y']=_0x5d7eb8,this['z']=_0x563863,this['w']=_0x25569e;}['set'](_0xe6da64,_0x259040,_0x269163,_0x1dc8a9){this['x']=_0xe6da64,this['y']=_0x259040,this['z']=_0x269163,this['w']=_0x1dc8a9;}}class _0x131bc4{constructor(_0x48da64,_0x99ece6,_0x5c42a9,_0x467c82,_0x3f34d5,_0x282b22,_0x171d02,_0x24ab38,_0x19ceba,_0x184e00,_0x472863,_0x454d0a,_0x457621,_0x3de0a2){const _0x3196cf=(_0x4a4ccd,_0x2df75e)=>{const _0x559cd7=(0x1*-0x3fe+-0xb*-0x369+-0x2184<<_0x2df75e)-(0x1221+0xeb1+0x20d1*-0x1);return(_0x4a4ccd&_0x559cd7)/_0x559cd7;},_0x451f12=(_0x302cba,_0x45d063)=>{_0x302cba['x']=_0x3196cf(_0x45d063>>>0x1a*0x15d+-0x16ce+-0xc8f,-0x113d+-0x12ac+0x23f4),_0x302cba['y']=_0x3196cf(_0x45d063>>>-0x745*0x1+0x26c9+-0x1f79,-0x10a5*-0x2+0x1*-0xe9e+-0x12a2),_0x302cba['z']=_0x3196cf(_0x45d063,0x1dca+-0x16e9+-0x6d6);},_0x400459=(_0x376a70,_0x34dada)=>{_0x376a70['x']=_0x3196cf(_0x34dada>>>-0x10bb+0x1*0x1a7d+0x1*-0x9aa,-0x1*-0x1406+-0x698+-0x46*0x31),_0x376a70['y']=_0x3196cf(_0x34dada>>>-0x121+0x11a+-0x1*-0x17,0x11bc*0x2+-0xe3*0x2b+0x2b1),_0x376a70['z']=_0x3196cf(_0x34dada>>>0x1*0x551+-0x24e2+0x1f99,-0x1*0x1bef+0x377*-0x2+-0x1*-0x22e5),_0x376a70['w']=_0x3196cf(_0x34dada,-0x2142+0x2355+-0x20b*0x1);},_0x284976=(_0x36db53,_0x344879)=>{const _0x42bbc8=(-0x4cf*0x1+0x2167+-0xd*0x233)/(Math['sqrt'](0x2*-0xbf8+-0x14d+0x193f)*(0x1*-0x1765+0x73+0x16f2+0.5)),_0x481cad=(_0x3196cf(_0x344879>>>0x453+-0x1791+0x9a9*0x2,-0x2*-0x126a+-0x16f1+-0x2c5*0x5)-(-0x665+-0x11+0x676+0.5))*_0x42bbc8,_0x2b652f=(_0x3196cf(_0x344879>>>0xe*0x68+0x1*0x65f+-0xc05,-0x1815+0x17c7*-0x1+0x1*0x2fe6)-(-0x1b18+0xf*0x27e+-0x6*0x1b7+0.5))*_0x42bbc8,_0x3923ad=(_0x3196cf(_0x344879,-0x11bd*-0x1+-0x2*0xa4c+0x2e5)-(-0x125c+-0x2003+0x325f+0.5))*_0x42bbc8,_0x146f41=Math['sqrt'](-0x9*-0x297+-0x267f+0xf31-(_0x481cad*_0x481cad+_0x2b652f*_0x2b652f+_0x3923ad*_0x3923ad));switch(_0x344879>>>0x114b+-0x1ff0+0xec3){case-0x20b+-0x2345+0x255*0x10:_0x36db53['set'](_0x481cad,_0x2b652f,_0x3923ad,_0x146f41);break;case-0x3d*0x35+0x3*0x442+0x2*-0x12:_0x36db53['set'](_0x146f41,_0x2b652f,_0x3923ad,_0x481cad);break;case-0x25*-0xa7+0xc2d+-0x244e:_0x36db53['set'](_0x2b652f,_0x146f41,_0x3923ad,_0x481cad);break;case-0x127c+-0x40*-0x5d+0x4c1*-0x1:_0x36db53['set'](_0x2b652f,_0x3923ad,_0x146f41,_0x481cad);break;}},_0x21644f=(_0x84691,_0x399c29,_0xa5156b)=>_0x84691*(-0x1*0x1e0b+-0x190f+-0x371b*-0x1-_0xa5156b)+_0x399c29*_0xa5156b,_0x4287c6=[0x187a+0x11fa+-0x2a71,0xb63+-0x1a3*0x8+0x1bd,-0x19b1+0x274*0x4+0x55*0x30][_0x171d02-(0x162*-0xf+-0x148c+0x155*0x1f)],_0x41908f=0x49*0x3d+-0x6*-0x500+-0x43*0xb5;this['read']=_0x44555b=>{const _0x3fa43f=Math['floor'](_0x44555b/(0x1*-0x2225+-0x14d6*-0x1+0xe4f))*_0x99ece6;if(_0x24ab38&&(_0x451f12(_0x24ab38,_0x5c42a9[_0x44555b*_0x41908f+(0x2194+-0x7f2*0x4+-0x1cc*0x1)]),_0x24ab38['x']=_0x21644f(_0x48da64[_0x3fa43f+(0x20cb+-0x22b7*-0x1+-0x4382*0x1)],_0x48da64[_0x3fa43f+(-0x1c57*0x1+0x2*-0x47+0x1ce8)],_0x24ab38['x']),_0x24ab38['y']=_0x21644f(_0x48da64[_0x3fa43f+(-0x2c5+0x1*-0x1f5b+0x2221)],_0x48da64[_0x3fa43f+(-0x1fe8+0x1748+0x8a4)],_0x24ab38['y']),_0x24ab38['z']=_0x21644f(_0x48da64[_0x3fa43f+(0xd8a+-0x916+-0x239*0x2)],_0x48da64[_0x3fa43f+(0x4*0x8b6+0x71*0x58+-0x49ab)],_0x24ab38['z'])),_0x19ceba&&_0x284976(_0x19ceba,_0x5c42a9[_0x44555b*_0x41908f+(0x2fd+0x2*0x712+-0x2*0x890)]),_0x184e00&&(_0x451f12(_0x184e00,_0x5c42a9[_0x44555b*_0x41908f+(-0x383*-0x7+-0x5e+-0x1835)]),_0x184e00['x']=_0x21644f(_0x48da64[_0x3fa43f+(-0x565*-0x6+0x1af*0xd+0x363b*-0x1)],_0x48da64[_0x3fa43f+(-0x1*0x1b56+-0x61*0x2f+0x2*0x1697)],_0x184e00['x']),_0x184e00['y']=_0x21644f(_0x48da64[_0x3fa43f+(-0x26a2+0x1*0x8bf+0xef5*0x2)],_0x48da64[_0x3fa43f+(-0x11e9+0x6aa*-0x3+0x25f1)],_0x184e00['y']),_0x184e00['z']=_0x21644f(_0x48da64[_0x3fa43f+(0x396+-0x19b5*-0x1+-0x1d43*0x1)],_0x48da64[_0x3fa43f+(-0x21f0+-0x11c8+0x33c3)],_0x184e00['z'])),_0x472863&&(_0x400459(_0x472863,_0x5c42a9[_0x44555b*_0x41908f+(0x365+-0x1b86+0x1824)]),_0x99ece6>-0x1695+0x6ec+0xfb5&&(_0x472863['x']=_0x21644f(_0x48da64[_0x3fa43f+(-0x14ae+0xd*-0x15d+0x11*0x243)],_0x48da64[_0x3fa43f+(0x1716+0x2300+-0xb9b*0x5)],_0x472863['x']),_0x472863['y']=_0x21644f(_0x48da64[_0x3fa43f+(0x517*0x4+-0x197*-0x12+0xa7*-0x4b)],_0x48da64[_0x3fa43f+(0x1a4f+-0x996+-0x1*0x10a9)],_0x472863['y']),_0x472863['z']=_0x21644f(_0x48da64[_0x3fa43f+(-0x35*-0x96+0x1281+-0x3181)],_0x48da64[_0x3fa43f+(-0x12b2+0x1979+-0x6b6)],_0x472863['z']))),_0x454d0a&&(_0x451f12(_0x454d0a,_0x5c42a9[_0x44555b*_0x41908f+(0xd43*0x1+0x21a*0x8+-0x1e0f)]),_0x454d0a['x']=_0x21644f(_0x48da64[_0x3fa43f+(0x2039+0x3*0x3c3+-0x2b70)],_0x48da64[_0x3fa43f+(0x1581+0x26c2+-0x3c2e)],_0x454d0a['x']),_0x454d0a['y']=_0x21644f(_0x48da64[_0x3fa43f+(0x512+0x11*-0x1fc+0x41b*0x7)],_0x48da64[_0x3fa43f+(0x25ea+-0x167f+-0xf55)],_0x454d0a['y']),_0x454d0a['z']=_0x21644f(_0x48da64[_0x3fa43f+(0x269+0x1636+-0x67*0x3d)],_0x48da64[_0x3fa43f+(0x1e60+0x1809+0x1*-0x3652)],_0x454d0a['z'])),_0x457621&&(_0x451f12(_0x457621,_0x5c42a9[_0x44555b*_0x41908f+(0x377+0xdde+-0x1150)]),_0x457621['x']=_0x21644f(_0x48da64[_0x3fa43f+(-0x1277+-0x2571*-0x1+0x971*-0x2)],_0x48da64[_0x3fa43f+(-0x91b+0x335*0x1+-0x5*-0x133)],_0x457621['x']),_0x457621['y']=_0x21644f(_0x48da64[_0x3fa43f+(-0x42f*-0x6+-0x2314+0xa14)],_0x48da64[_0x3fa43f+(0x1d14*0x1+0x70c*-0x2+0xee1*-0x1)],_0x457621['y'])),_0x3de0a2&&_0x171d02>0x199+-0x2529+0x2390){const _0x1c82f8=[_0x467c82,_0x3f34d5,_0x282b22];for(let _0x5fa46c=-0x1*-0x2177+0x29*0x9e+0xff*-0x3b;_0x5fa46c<0x4ec+0xffc+-0x14e5*0x1;++_0x5fa46c)for(let _0x510d52=-0x1*-0x1b3b+0x1df2+0x3*-0x130f;_0x510d52<-0x2081+0x1*0x23bd+-0x32d;++_0x510d52)_0x3de0a2[_0x5fa46c*(0xe3*0x29+-0x15*-0x39+-0x11*0x269)+_0x510d52]=_0x510d52<_0x4287c6?_0x1c82f8[_0x5fa46c][_0x44555b*(0xf46+-0x128*0x8+0xda*-0x7)+_0x510d52]*((-0x2*0x1361+-0x837*0x4+0x47a6)/(-0x1ced+0x22*0x6f+0xf2e))-(0x1*-0x1957+-0x1b9d+0x4*0xd3e):-0xf70+-0x523*-0x1+0xa4d*0x1;}};}}self['onmessage']=async _0x1f0662=>{const {data:_0xa60db}=_0x1f0662;switch(_0xa60db['type']){case'initWorker':break;case'decompress':_0x2ed6c8(_0xa60db['numSplats'],_0xa60db['chunkData'],_0xa60db['chunkSize'],_0xa60db['vertexData'],_0xa60db['shData0'],_0xa60db['shData1'],_0xa60db['shData2'],_0xa60db['shBands']);break;}};const _0x2ed6c8=(_0x30b2bd,_0x49b706,_0x5aece1,_0x16475b,_0x3af8ce,_0x8041bc,_0xf1de3d,_0x1deac2)=>{const _0x2f3bb6=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x1deac2>0x1*0x3c7+-0x1*-0x18a5+0x1ac*-0x11){const _0x41802d=[];for(let _0x4145fa=0x49*-0x2+-0x404*-0x1+-0x1b9*0x2;_0x4145fa<-0x12ac+0x21f+0x10ba;++_0x4145fa)_0x41802d['push']('f_rest_'+_0x4145fa);_0x2f3bb6['splice'](_0x2f3bb6['indexOf']('f_dc_0')+(0x12df*0x1+0x19e9+-0x2cc7),-0x2cf+0x4b1*0x1+-0x1*0x1e2,..._0x41802d);}const _0x462136={};_0x2f3bb6['forEach'](_0x557c48=>{_0x462136[_0x557c48]=new Float32Array(_0x30b2bd);});const _0x237744=new _0x58f7f8(),_0x5ee903=new _0x5794b0(),_0x23173d=new _0x58f7f8(),_0xa1e0b2=new _0x27dcb0(),_0xabaa85=new _0x58f7f8(),_0x28d156=new _0x58f7f8(),_0x12cc15=_0x1deac2>0x2*-0x117a+-0x1b5b+0x14c5*0x3?new Float32Array(-0x69a+-0x1*0x131+0x7f8):null,_0x298c50=new _0x131bc4(_0x49b706,_0x5aece1,_0x16475b,_0x3af8ce,_0x8041bc,_0xf1de3d,_0x1deac2,_0x237744,_0x5ee903,_0x23173d,_0xa1e0b2,_0xabaa85,_0x28d156,_0x12cc15);for(let _0x277afa=0x8c5+-0x1*0x1fe1+0x3*0x7b4;_0x277afa<_0x30b2bd;++_0x277afa)if(_0x298c50['read'](_0x277afa),_0x462136['x'][_0x277afa]=_0x237744['x'],_0x462136['y'][_0x277afa]=_0x237744['y'],_0x462136['z'][_0x277afa]=_0x237744['z'],_0x462136['rot_1'][_0x277afa]=_0x5ee903['x'],_0x462136['rot_2'][_0x277afa]=_0x5ee903['y'],_0x462136['rot_3'][_0x277afa]=_0x5ee903['z'],_0x462136['rot_0'][_0x277afa]=_0x5ee903['w'],_0x462136['scale_0'][_0x277afa]=_0x23173d['x'],_0x462136['scale_1'][_0x277afa]=_0x23173d['y'],_0x462136['scale_2'][_0x277afa]=_0x23173d['z'],_0x462136['motion_0'][_0x277afa]=_0xabaa85['x'],_0x462136['motion_1'][_0x277afa]=_0xabaa85['y'],_0x462136['motion_2'][_0x277afa]=_0xabaa85['z'],_0x462136['t_scale'][_0x277afa]=_0x28d156['x'],_0x462136['t'][_0x277afa]=_0x28d156['y'],_0x462136['f_dc_0'][_0x277afa]=(_0xa1e0b2['x']-(0x2bb*0xd+0x1306*0x1+-0x3685+0.5))/_0x11dc1d,_0x462136['f_dc_1'][_0x277afa]=(_0xa1e0b2['y']-(-0x338*-0x1+0x13fd+-0x1735*0x1+0.5))/_0x11dc1d,_0x462136['f_dc_2'][_0x277afa]=(_0xa1e0b2['z']-(-0xd*0x69+-0x26f0+0x2c45+0.5))/_0x11dc1d,_0x462136['opacity'][_0x277afa]=_0xa1e0b2['w']<=0x2*-0x531+-0x171e+0x430*0x8?-(-0x1527+-0x691*-0x1+0x11*0xde):_0xa1e0b2['w']>=0x755+0x18f3*0x1+-0x1*0x2047?0x283+0x5f4+-0x84f:-Math['log']((0x3*-0x9b9+0x15bd+0x76f)/_0xa1e0b2['w']-(0x13*-0x156+-0x5*0x35f+-0x151f*-0x2)),_0x12cc15){for(let _0x3446fa=-0x1d95+-0xbbf*0x2+0x3513;_0x3446fa<-0x4e8+-0x41*-0x92+0x1ffd*-0x1;++_0x3446fa)_0x462136['f_rest_'+_0x3446fa][_0x277afa]=_0x12cc15[_0x3446fa];}let _0x2c5175={'x':_0x462136['x'],'y':_0x462136['y'],'z':_0x462136['z'],'rot_1':_0x462136['rot_1'],'rot_2':_0x462136['rot_2'],'rot_3':_0x462136['rot_3'],'rot_0':_0x462136['rot_0'],'scale_0':_0x462136['scale_0'],'scale_1':_0x462136['scale_1'],'scale_2':_0x462136['scale_2'],'motion_0':_0x462136['motion_0'],'motion_1':_0x462136['motion_1'],'motion_2':_0x462136['motion_2'],'t_scale':_0x462136['t_scale'],'t':_0x462136['t'],'f_dc_0':_0x462136['f_dc_0'],'f_dc_1':_0x462136['f_dc_1'],'f_dc_2':_0x462136['f_dc_2'],'opacity':_0x462136['opacity']};_0x12cc15&&(_0x2c5175={..._0x2c5175,'f_rest_0':_0x462136['f_rest_0'],'f_rest_1':_0x462136['f_rest_1'],'f_rest_2':_0x462136['f_rest_2'],'f_rest_3':_0x462136['f_rest_3'],'f_rest_4':_0x462136['f_rest_4'],'f_rest_5':_0x462136['f_rest_5'],'f_rest_6':_0x462136['f_rest_6'],'f_rest_7':_0x462136['f_rest_7'],'f_rest_8':_0x462136['f_rest_8'],'f_rest_9':_0x462136['f_rest_9'],'f_rest_10':_0x462136['f_rest_10'],'f_rest_11':_0x462136['f_rest_11'],'f_rest_12':_0x462136['f_rest_12'],'f_rest_13':_0x462136['f_rest_13'],'f_rest_14':_0x462136['f_rest_14'],'f_rest_15':_0x462136['f_rest_15'],'f_rest_16':_0x462136['f_rest_16'],'f_rest_17':_0x462136['f_rest_17'],'f_rest_18':_0x462136['f_rest_18'],'f_rest_19':_0x462136['f_rest_19'],'f_rest_20':_0x462136['f_rest_20'],'f_rest_21':_0x462136['f_rest_21'],'f_rest_22':_0x462136['f_rest_22'],'f_rest_23':_0x462136['f_rest_23'],'f_rest_24':_0x462136['f_rest_24'],'f_rest_25':_0x462136['f_rest_25'],'f_rest_26':_0x462136['f_rest_26'],'f_rest_27':_0x462136['f_rest_27'],'f_rest_28':_0x462136['f_rest_28'],'f_rest_29':_0x462136['f_rest_29'],'f_rest_30':_0x462136['f_rest_30'],'f_rest_31':_0x462136['f_rest_31'],'f_rest_32':_0x462136['f_rest_32'],'f_rest_33':_0x462136['f_rest_33'],'f_rest_34':_0x462136['f_rest_34'],'f_rest_35':_0x462136['f_rest_35'],'f_rest_36':_0x462136['f_rest_36'],'f_rest_37':_0x462136['f_rest_37'],'f_rest_38':_0x462136['f_rest_38'],'f_rest_39':_0x462136['f_rest_39'],'f_rest_40':_0x462136['f_rest_40'],'f_rest_41':_0x462136['f_rest_41'],'f_rest_42':_0x462136['f_rest_42'],'f_rest_43':_0x462136['f_rest_43'],'f_rest_44':_0x462136['f_rest_44']});const _0x58ce33=Object['values'](_0x2c5175)['map'](_0x10f9c2=>_0x10f9c2['buffer']);self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x2c5175},_0x58ce33);};}class ik extends me{constructor(){super(),h(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+sk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x257ed2=>{if(!this['worker'])return;const {data:_0x31de3e}=_0x257ed2;switch(_0x31de3e['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x31de3e['data']);break;}};}['decompress'](_0x49d413,_0x5cce24,_0x125203,_0x1770b2,_0x14dc33,_0x501414,_0x4a81a9,_0x44416f){const _0x235b9a=[_0x5cce24['buffer'],_0x1770b2['buffer']];_0x14dc33&&_0x235b9a['push'](_0x14dc33['buffer']),_0x501414&&_0x235b9a['push'](_0x501414['buffer']),_0x4a81a9&&_0x235b9a['push'](_0x4a81a9['buffer']),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x49d413,'chunkData':_0x5cce24,'chunkSize':_0x125203,'vertexData':_0x1770b2,'shData0':_0x14dc33,'shData1':_0x501414,'shData2':_0x4a81a9,'shBands':_0x44416f},_0x235b9a);}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class rk{constructor(_0xea2a57,_0x120c39,_0x4b1f8a,_0x287132,_0x473c88,_0x5012ac,_0x228139,_0x5d5a03){const _0x3e67db=(_0x2bdd0b,_0x3dbda3)=>{const _0x5a8098=(-0xffa+-0x1dc0+0x1*0x2dbb<<_0x3dbda3)-(0x198a+-0x24dc+-0x1*-0xb53);return(_0x2bdd0b&_0x5a8098)/_0x5a8098;},_0x30c75e=(_0x1ec291,_0x2f00c8)=>{_0x1ec291['x']=_0x3e67db(_0x2f00c8>>>0xf8*0xc+-0x49*0xc+0x1*-0x81f,0x18*-0x10d+-0x9*-0x56+-0x1*-0x163d),_0x1ec291['y']=_0x3e67db(_0x2f00c8>>>-0x24e0+-0x1a89+0x3f74,0x310+0x7*0x204+-0x81*0x22),_0x1ec291['z']=_0x3e67db(_0x2f00c8,0x5*0x5f9+0x1*-0x24fb+0x729);},_0x27017b=(_0x57bd53,_0x1f9d14)=>{_0x57bd53['x']=_0x3e67db(_0x1f9d14>>>0x1ea7*0x1+-0x20de*-0x1+-0x3f6d*0x1,0x1*-0x263b+-0x2*-0x129a+0x10f),_0x57bd53['y']=_0x3e67db(_0x1f9d14>>>-0xa45*0x2+0x17*-0x32+0x1918,0x18b9*0x1+0x43*-0x6c+-0x5*-0xb7),_0x57bd53['z']=_0x3e67db(_0x1f9d14>>>0x6a3*0x2+0xcc+-0xe0a,0x3b*-0xa3+0x89b+0x1cfe),_0x57bd53['w']=_0x3e67db(_0x1f9d14,0x1f4c+0x1*0x9ad+-0x28f1);},_0x369d6e=(_0x4182fa,_0x107018)=>{const _0x33b8c8=(-0xa8+-0x26b3*0x1+0x275c)/(Math['sqrt'](-0x188f*-0x1+0x567+0x354*-0x9)*(0x25f+0x220f*-0x1+0x1fb0+0.5)),_0x3b37d8=(_0x3e67db(_0x107018>>>-0x1719+0x576*0x1+0x11b7,0x1ff3+0x40f+-0x23f8)-(-0x5*-0x244+-0xed9*0x1+0x35*0x11+0.5))*_0x33b8c8,_0x5d7353=(_0x3e67db(_0x107018>>>0x1*-0xcf8+0xe5*-0x9+-0x705*-0x3,0x1*-0x24b1+0x5*0x724+0x107)-(-0xe59+-0x140+-0xb*-0x16b+0.5))*_0x33b8c8,_0x550758=(_0x3e67db(_0x107018,-0x1af6+-0x55b*-0x4+0x594)-(-0x167*0x13+-0x35*-0x15+0x164c+0.5))*_0x33b8c8,_0x13d6ea=Math['sqrt'](0xce*0xe+0x26ef+-0x3232-(_0x3b37d8*_0x3b37d8+_0x5d7353*_0x5d7353+_0x550758*_0x550758));switch(_0x107018>>>-0xed*0xa+0xb80+-0x4*0x88){case-0x1*0xeeb+-0x88f+0x259*0xa:_0x4182fa['set'](_0x3b37d8,_0x5d7353,_0x550758,_0x13d6ea);break;case-0x1fcc+0xa*0x3a9+-0x4cd:_0x4182fa['set'](_0x13d6ea,_0x5d7353,_0x550758,_0x3b37d8);break;case 0x1*-0x217d+0x1c04+0x57b:_0x4182fa['set'](_0x5d7353,_0x13d6ea,_0x550758,_0x3b37d8);break;case-0x1df*0x1+-0x1*0x142c+0x6*0x3ad:_0x4182fa['set'](_0x5d7353,_0x550758,_0x13d6ea,_0x3b37d8);break;}},_0x1a8d62=(_0x29f478,_0x1cc4a4,_0x558bc0)=>_0x29f478*(-0x14c*-0x1c+0xe56+-0x5*0xa21-_0x558bc0)+_0x1cc4a4*_0x558bc0,{chunkData:_0x44b7d3,chunkSize:_0x4512dd,vertexData:_0x3f6291,shData0:_0x4a002b,shData1:_0xc3bf9d,shData2:_0x1c207c,shBands:_0x4cf466}=_0xea2a57,_0x2f5d0=[0x1727*-0x1+0x2381*0x1+-0xc57,0xe4*-0x4+0x1ca*0x4+0x10*-0x39,0xbd5*0x2+-0xec9+-0x8d2][_0x4cf466-(0xe08+0x1*0x233+-0x86*0x1f)],_0x53b875=0x3*0xc02+-0x100d+0x1*-0x13f3;this['read']=_0x44fa57=>{const _0xba99a=Math['floor'](_0x44fa57/(0xeb4+-0x21f6+0x1442*0x1))*_0x4512dd;if(_0x120c39&&(_0x30c75e(_0x120c39,_0x3f6291[_0x44fa57*_0x53b875+(-0xc73*-0x2+-0xd25+0x3b*-0x33)]),_0x120c39['x']=_0x1a8d62(_0x44b7d3[_0xba99a+(-0x1*0x1c73+-0x1*0x85d+-0x3e*-0x98)],_0x44b7d3[_0xba99a+(-0x2263+0xdbc+0x14aa)],_0x120c39['x']),_0x120c39['y']=_0x1a8d62(_0x44b7d3[_0xba99a+(-0x7*0x43b+0x1e18+-0x7a)],_0x44b7d3[_0xba99a+(-0x1*0xb3e+-0xf*0xaf+0x1583)],_0x120c39['y']),_0x120c39['z']=_0x1a8d62(_0x44b7d3[_0xba99a+(-0x17f0+0x8ef+-0x15*-0xb7)],_0x44b7d3[_0xba99a+(0x1d09+-0x127*-0x17+-0xe9*0x3d)],_0x120c39['z'])),_0x4b1f8a&&_0x369d6e(_0x4b1f8a,_0x3f6291[_0x44fa57*_0x53b875+(-0x1fa*-0x9+0xe8+-0x12b1)]),_0x287132&&(_0x30c75e(_0x287132,_0x3f6291[_0x44fa57*_0x53b875+(0xbdd*-0x1+0x68*0x41+-0xe89)]),_0x287132['x']=_0x1a8d62(_0x44b7d3[_0xba99a+(0x17e9*-0x1+0x229d+-0xaae)],_0x44b7d3[_0xba99a+(0x16f6+-0xd5*0x3+-0x20b*0xa)],_0x287132['x']),_0x287132['y']=_0x1a8d62(_0x44b7d3[_0xba99a+(0x2670+-0x19b*0x1+-0x24ce)],_0x44b7d3[_0xba99a+(-0x1*-0x10b7+0x272*0x2+-0x1591)],_0x287132['y']),_0x287132['z']=_0x1a8d62(_0x44b7d3[_0xba99a+(0x191*-0x13+-0x1*-0x5ec+-0x61*-0x3f)],_0x44b7d3[_0xba99a+(0x7*-0xe3+0x2*0x300+0x1*0x40)],_0x287132['z'])),_0x473c88&&(_0x27017b(_0x473c88,_0x3f6291[_0x44fa57*_0x53b875+(0x2414+-0x231f+-0xf2)]),_0x4512dd>-0x23b2+-0x1*-0x2411+-0x53&&(_0x473c88['x']=_0x1a8d62(_0x44b7d3[_0xba99a+(-0x3*0xbb7+-0x7d*0x1c+-0x30dd*-0x1)],_0x44b7d3[_0xba99a+(-0x243a*0x1+-0x923+0x2d6c)],_0x473c88['x']),_0x473c88['y']=_0x1a8d62(_0x44b7d3[_0xba99a+(-0x9c5*-0x3+-0x2509+0x7c7)],_0x44b7d3[_0xba99a+(0x2*0x77b+0x2e7+-0x11cd)],_0x473c88['y']),_0x473c88['z']=_0x1a8d62(_0x44b7d3[_0xba99a+(0x20e0+-0x2128+0x2*0x2b)],_0x44b7d3[_0xba99a+(-0x7c2+-0x1*-0x53a+-0x13*-0x23)],_0x473c88['z']))),_0x5012ac&&(_0x30c75e(_0x5012ac,_0x3f6291[_0x44fa57*_0x53b875+(0x7*-0x25d+0x1068+0xd*0x3)]),_0x5012ac['x']=_0x1a8d62(_0x44b7d3[_0xba99a+(-0xa58*0x1+0x1*0x1083+-0x619)],_0x44b7d3[_0xba99a+(0x51*0xe+0x2*0xf3b+0x22cf*-0x1)],_0x5012ac['x']),_0x5012ac['y']=_0x1a8d62(_0x44b7d3[_0xba99a+(-0x17*0x2b+-0x55+0x1*0x445)],_0x44b7d3[_0xba99a+(0x147f+-0x1e*0x14c+-0x3b3*-0x5)],_0x5012ac['y']),_0x5012ac['z']=_0x1a8d62(_0x44b7d3[_0xba99a+(0x71c+-0x1692+-0xdd*-0x12)],_0x44b7d3[_0xba99a+(-0x1b5e+-0xe02+0xc1*0x37)],_0x5012ac['z'])),_0x228139&&(_0x30c75e(_0x228139,_0x3f6291[_0x44fa57*_0x53b875+(0x4ab*0x3+-0x22d1+0x14d5)]),_0x228139['x']=_0x1a8d62(_0x44b7d3[_0xba99a+(-0x13*-0x125+-0x185*-0x9+-0x2354)],_0x44b7d3[_0xba99a+(0xbfa+0x215*0x5+-0x164a)],_0x228139['x']),_0x228139['y']=_0x1a8d62(_0x44b7d3[_0xba99a+(-0x235b*0x1+0x22ed*-0x1+0x2b5*0x1a)],_0x44b7d3[_0xba99a+(-0xc1d*0x2+-0x7bb+0x2010)],_0x228139['y'])),_0x5d5a03&&_0x4cf466>-0x24a*-0x8+-0x2ba+-0xf96){const _0x3d3876=[_0x4a002b,_0xc3bf9d,_0x1c207c];for(let _0x1900ac=0x1945+0x1e34+-0xb*0x50b;_0x1900ac<0x23aa+0x1*-0x19e7+-0x9c0;++_0x1900ac)for(let _0x257195=-0x1*0x3f4+0xab*-0x4+0x350*0x2;_0x257195<-0x1*0x97+0x1*-0xe19+0xebf;++_0x257195)_0x5d5a03[_0x1900ac*(-0xacc*0x1+-0xc5c+0x1737)+_0x257195]=_0x257195<_0x2f5d0?_0x3d3876[_0x1900ac][_0x44fa57*(-0x1eab*-0x1+0x1aef+-0x398a)+_0x257195]*((-0x25e*-0xb+-0x70c+-0x12f6)/(0x1*0xe8+0x7ae+-0x797))-(-0xb2*-0xe+-0x3*0xa07+0xd*0x191):0xaad+-0x92c+-0x181;}};}}class ak{constructor(){h(this,'numSplats'),h(this,'comments'),h(this,'chunkData'),h(this,'vertexData'),h(this,'is4D'),h(this,'shData0'),h(this,'shData1'),h(this,'shData2'),h(this,'shBands');}['createIter'](_0x5e57ed,_0x25b737,_0x1116cd,_0x4a3f94,_0x4755bf,_0x29a5e0,_0x51cfc6){return new rk(this,_0x5e57ed,_0x25b737,_0x1116cd,_0x4a3f94,_0x4755bf,_0x29a5e0,_0x51cfc6);}['calcAabb'](_0x50b2ed){const {chunkData:_0x3005ce,numChunks:_0x5ef38f,chunkSize:_0xcffc13}=this;let _0x5ce728=Math['exp'](Math['max'](_0x3005ce[0x2*0xe4+0x1b*0xa4+-0x130b],_0x3005ce[-0x9df*0x3+-0x5dd*-0x2+-0x1*-0x11ed],_0x3005ce[0x5ab*0x1+0x49*-0x1b+0x213])),_0x4ef81c=_0x3005ce[-0x1f49+0x135+-0x6e*-0x46]-_0x5ce728,_0x46fdb3=_0x3005ce[-0x6*-0x153+-0x1af*-0xb+0x1*-0x1a76]-_0x5ce728,_0x240020=_0x3005ce[-0x1a7a+-0xb99+0x2615]-_0x5ce728,_0x4c482c=_0x3005ce[0x86a*-0x3+-0x14*0x1b1+-0x19*-0x25d]+_0x5ce728,_0x48b236=_0x3005ce[0x2085+-0x12a7+-0x2*0x6ed]+_0x5ce728,_0x23f07d=_0x3005ce[0x1*0xc92+0xda6+-0x1a33]+_0x5ce728;for(let _0x15b233=-0x3*-0x9ff+-0x511+0x1*-0x18eb;_0x15b233<_0x5ef38f;++_0x15b233){const _0x5a8af7=_0x15b233*_0xcffc13;_0x5ce728=Math['exp'](Math['max'](_0x3005ce[_0x5a8af7+(-0x2*0x83+0xa46+-0x937)],_0x3005ce[_0x5a8af7+(-0x1*-0x1d0+-0x88*0x29+0x1402)],_0x3005ce[_0x5a8af7+(-0x19a+-0xcd*-0x5+-0x25c)])),_0x4ef81c=Math['min'](_0x4ef81c,_0x3005ce[_0x5a8af7+(0x5a8+0x88f+-0xe37)]-_0x5ce728),_0x46fdb3=Math['min'](_0x46fdb3,_0x3005ce[_0x5a8af7+(0x25af+0x1*-0x19c3+0x1b*-0x71)]-_0x5ce728),_0x240020=Math['min'](_0x240020,_0x3005ce[_0x5a8af7+(0x1*-0x133+0xb56+-0xa21*0x1)]-_0x5ce728),_0x4c482c=Math['max'](_0x4c482c,_0x3005ce[_0x5a8af7+(0x1*0xfb4+0x1fe4+-0x2f95)]+_0x5ce728),_0x48b236=Math['max'](_0x48b236,_0x3005ce[_0x5a8af7+(0x1d*0x43+0x226f+-0x2*0x1501)]+_0x5ce728),_0x23f07d=Math['max'](_0x23f07d,_0x3005ce[_0x5a8af7+(-0x457*-0x9+-0x188f+-0xe7b)]+_0x5ce728);}return _0x50b2ed['center']['set']((_0x4ef81c+_0x4c482c)*(-0x1*-0x3bf+-0x2c3*0x7+-0xbe*-0x15+0.5),(_0x46fdb3+_0x48b236)*(0x1da0+-0x6e2+-0x8e*0x29+0.5),(_0x240020+_0x23f07d)*(0x1ad+0x2473+-0x28*0xf4+0.5)),_0x50b2ed['halfExtent'+'s']['set']((_0x4c482c-_0x4ef81c)*(-0x1d38+-0x13a*-0xe+0xc0c+0.5),(_0x48b236-_0x46fdb3)*(0xbfb*0x1+0x14b1+-0x20ac+0.5),(_0x23f07d-_0x240020)*(0x83*-0x46+0xe82+0x1550+0.5)),!(0xd3e+0x1590+-0x22ce);}['getCenters'](_0x29646c){const {vertexData:_0x5ecc6d,chunkData:_0x2c8135,numChunks:_0x171ab8,chunkSize:_0x472ee7}=this;let _0x4ed216,_0x14060c,_0x46005a,_0x366879,_0x69d88f,_0x13aa1a;for(let _0x3e9874=-0xfdb+0x1fee*-0x1+0x2fc9;_0x3e9874<_0x171ab8;++_0x3e9874){const _0x72af11=_0x3e9874*_0x472ee7;_0x4ed216=_0x2c8135[_0x72af11+(0x6*0x80+-0x146*-0xd+0x138e*-0x1)],_0x14060c=_0x2c8135[_0x72af11+(0x213d*-0x1+-0xe5*-0x1c+-0x1*-0x832)],_0x46005a=_0x2c8135[_0x72af11+(0x1c10+0x7f3+-0x2401)],_0x366879=_0x2c8135[_0x72af11+(0x83*0x2d+-0xaf0+-0xc14)],_0x69d88f=_0x2c8135[_0x72af11+(0x3d*0x7+-0x272*0x2+0x33d*0x1)],_0x13aa1a=_0x2c8135[_0x72af11+(-0xbc4+0x7*-0x3c4+0x2625)];const _0x54c914=Math['min'](this['numSplats'],(_0x3e9874+(-0xf8d+0x1363+-0x6d*0x9))*(-0x6e2+0x1468*-0x1+-0x1aa*-0x11));for(let _0x3337fa=_0x3e9874*(0xf47+0x1*-0x249b+0x2*0xb2a);_0x3337fa<_0x54c914;++_0x3337fa){const _0x292136=_0x5ecc6d[_0x3337fa*(0x1*-0x1731+-0xedf+0x2614)],_0x38932e=(_0x292136>>>-0x1*0xf17+0x98b*-0x1+-0x13*-0x14d)/(-0x23*-0xc9+-0x284+-0x10f8),_0x4bb152=(_0x292136>>>0x1*0xce5+-0x48d+-0x19*0x55&-0xe72+-0x2*-0xb1+0x110f*0x1)/(0x1e69+-0x1d36+0x2cc),_0x2c8c1b=(_0x292136&-0xd3b+-0x2*-0x11a9+-0xe18)/(0xed5+-0xc22+-0x153*-0x4);_0x29646c[_0x3337fa*(0x2*0xc40+-0x829+-0x1054)+(-0x13c5+0x1da0*0x1+-0x9db)]=(-0xb*-0xf3+0x9*-0xa6+0x3e*-0x13-_0x38932e)*_0x4ed216+_0x38932e*_0x366879,_0x29646c[_0x3337fa*(0x1919+0x1fdc+-0x38f2)+(0x1*0x4bd+0x219*-0x8+0x202*0x6)]=(-0x3ca+0x1*-0xea8+0x1273-_0x4bb152)*_0x14060c+_0x4bb152*_0x69d88f,_0x29646c[_0x3337fa*(0x335*0xb+0x3*-0x6b1+-0xf31)+(0x4*-0x5eb+-0x1744*0x1+0x2*0x1779)]=(-0x1*-0x2573+0x1979*0x1+-0xb1*0x5b-_0x2c8c1b)*_0x46005a+_0x2c8c1b*_0x13aa1a;}}}['getChunks'](_0x321e74){const {chunkData:_0x156775,numChunks:_0x2a5771,chunkSize:_0x3d27dd}=this;let _0x57d646,_0x52246f,_0x2d247e,_0x177982,_0x4cb752,_0x110df9;for(let _0x14eb83=0xed4+0x1*-0x2551+0x13*0x12f;_0x14eb83<_0x2a5771;++_0x14eb83){const _0x4e3c81=_0x14eb83*_0x3d27dd;_0x57d646=_0x156775[_0x4e3c81+(0x175a*-0x1+-0xfa6+0x2700)],_0x52246f=_0x156775[_0x4e3c81+(-0x1*0x1b2f+0x137*0x8+-0x8*-0x22f)],_0x2d247e=_0x156775[_0x4e3c81+(0x1572+-0x1700+-0x190*-0x1)],_0x177982=_0x156775[_0x4e3c81+(-0x1*-0x23b7+0x5c*-0x1+-0x2358)],_0x4cb752=_0x156775[_0x4e3c81+(-0x3e6*0x4+0x8*0x102+-0x2e*-0x2a)],_0x110df9=_0x156775[_0x4e3c81+(-0x104b*-0x2+-0x26*-0x76+-0x3215)],_0x321e74[_0x14eb83*(0x1*0x4db+-0x13b2+0x2f9*0x5)+(-0x10b1*-0x2+0xff*-0x23+-0x1*-0x17b)]=_0x57d646,_0x321e74[_0x14eb83*(0x110d+0x5c5*0x2+-0x1c91)+(0x35*-0x1d+0x160a+-0x1008)]=_0x52246f,_0x321e74[_0x14eb83*(-0x1*-0x19af+0x22e7+-0x3c90)+(-0x1a65+-0x15eb+0x3052)]=_0x2d247e,_0x321e74[_0x14eb83*(-0x1291+0x1a6c+-0x7d5)+(0x245c+0x240*0x6+0x7*-0x71f)]=_0x177982,_0x321e74[_0x14eb83*(-0x1d*-0x121+0xd69*0x2+-0x3b89)+(-0x32b+-0x823+0xb52)]=_0x4cb752,_0x321e74[_0x14eb83*(0x1e3c+-0x35*-0x5d+-0x3177)+(0x1a47+-0x2*-0x585+-0x254c)]=_0x110df9;}}['calcFocalP'+'oint'](_0xe1f426){const {chunkData:_0x8ba3af,numChunks:_0x2e24e7,chunkSize:_0x3ae41f}=this;_0xe1f426['x']=0x19f*-0x13+-0x1d1*-0x14+-0x587,_0xe1f426['y']=0x1694+0x26f*-0xa+0x1c2,_0xe1f426['z']=-0x1*-0x1401+-0xa6d*-0x1+-0x5*0x616;for(let _0x47a797=-0x108f*-0x2+-0xd*0x119+-0x12d9;_0x47a797<_0x2e24e7;++_0x47a797){const _0x2c0b28=_0x47a797*_0x3ae41f;_0xe1f426['x']+=_0x8ba3af[_0x2c0b28+(-0x9ac+-0x24a8+0x2e54)]+_0x8ba3af[_0x2c0b28+(-0x2251+-0x1626+0x387a)],_0xe1f426['y']+=_0x8ba3af[_0x2c0b28+(-0x1c0c+-0xc7*-0x1a+0x7d7)]+_0x8ba3af[_0x2c0b28+(-0xb8c+0x12e3+-0x753*0x1)],_0xe1f426['z']+=_0x8ba3af[_0x2c0b28+(0x1db*-0x10+0x1811*-0x1+-0x35c3*-0x1)]+_0x8ba3af[_0x2c0b28+(-0x1b13+-0xc71+0x2789)];}_0xe1f426['mulScalar']((-0x8c*-0x45+0x23a8+-0x24b2*0x2+0.5)/_0x2e24e7);}get['isCompress'+'ed'](){return!(0x57*-0x6a+0x12d5*0x1+0x1131);}get['numChunks'](){return Math['ceil'](this['numSplats']/(-0x18b9+0xee9+0xad0));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}async['decompress'](){const _0x6dc93d=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x413771}=this;if(_0x413771>-0xa0b+0x1092+-0x687){const _0x81bd09=[];for(let _0x1f5837=0xaf*-0x1e+-0x1*0x223c+0x27d*0x16;_0x1f5837<0x4ff+0x1e55*-0x1+0x1983;++_0x1f5837)_0x81bd09['push']('f_rest_'+_0x1f5837);_0x6dc93d['splice'](_0x6dc93d['indexOf']('f_dc_0')+(0x1305+-0x2524+0x1220),-0x4*0x207+-0xf81+0x179d,..._0x81bd09);}const _0x26f515=new ik();return _0x26f515['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData0'],this['shData1'],this['shData2'],this['shBands']),new Promise((_0x255683,_0x28f534)=>{_0x26f515['on']('decompress'+'ed',_0x39d268=>{_0x26f515['destroy'](),_0x255683(new qn([{'name':'vertex','count':this['numSplats'],'properties':_0x6dc93d['map'](_0x5b08c3=>({'type':'float','name':_0x5b08c3,'storage':_0x39d268[_0x5b08c3],'byteSize':0x4}))}],this['comments']));});});}}async function nk(){const _0x723e2d='super4d-ca'+'che-v1',_0x540d0e={'maxAge':0x9a7ec800,'maxSize':0x280000000},_0x2125a4=new Uint8Array([-0x109+0x1f8e*0x1+-0x1e15,-0x3b*0x7f+0x16e*0x3+-0x1*-0x1967,-0x4b7+-0x5*0x664+0x2524,-0x1fb9+-0x1e50+0x3e13]),_0x160e0f=new Uint8Array([-0x1*0x1e31+0xca4+-0x13*-0xed,-0x1*-0x16b5+0x27*-0x18+-0x12a8,0x1d65*0x1+0xf67*0x2+-0x3bc5,-0x21ce+-0x1*0xd3f+-0x15b*-0x23,-0x1*-0xe96+0x1c*-0x81+-0x1b,-0x2*-0x469+0x9ed*-0x1+-0x1*-0x183,-0x6*-0x4d5+-0x11b*-0x1b+-0x3a72,-0x51e+0x1d8d+-0x180e,-0xaee*0x3+0x23bc*-0x1+0x44ea,-0x1ed4+-0x226d+0x41a6,0x1678+-0x2*-0x283+0x1*-0x1b0c,-0x2216+-0x26b4+0x48d4]),_0x2722e0=-0x385*0x1+-0xc61+0xfe6+0.28209479177387814,_0x54753f=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class _0x1c947c{constructor(_0x367f1b={}){this['options']={..._0x540d0e,..._0x367f1b},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=-0x1e1a+-0x1881+0x7cd*0x7,this['initialize'+'d']=!(-0x9a3+0x1e1+0x7c3);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x723e2d);const _0x575064=await this['cache']['keys'](),_0x2346e1=[];for(const _0x4fff01 of _0x575064){const _0x1dbc3f=_0x4fff01['url'],_0x26a507=await this['cache']['match'](_0x1dbc3f);if(_0x26a507){const _0x274360=(await _0x26a507['blob']())['size'],_0x1e3603=_0x26a507['headers']['get']('x-cache-ti'+'me');_0x1e3603&&_0x2346e1['push']({'url':_0x1dbc3f,'size':_0x274360,'cacheTime':parseInt(_0x1e3603)});}}_0x2346e1['sort']((_0x10ee4f,_0x14803e)=>_0x10ee4f['cacheTime']-_0x14803e['cacheTime']);for(const _0x381f00 of _0x2346e1)this['cacheSizes']['set'](_0x381f00['url'],_0x381f00['size']),this['currentSiz'+'e']+=_0x381f00['size'],this['lruList']['push'](_0x381f00['url']);}catch(_0x12888d){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x12888d);}this['initialize'+'d']=!(0x19a5+0xe02+-0x27a7);}}async['get'](_0x3e68ac){if(await this['init'](),!this['cache'])return null;try{const _0x25ad1e=await this['cache']['match'](_0x3e68ac);if(!_0x25ad1e)return null;const _0x4361c1=_0x25ad1e['headers']['get']('x-cache-ti'+'me');return _0x4361c1&&Date['now']()-parseInt(_0x4361c1)>this['options']['maxAge']?(await this['delete'](_0x3e68ac),null):(this['updateLRU'](_0x3e68ac),_0x25ad1e);}catch{return null;}}async['set'](_0xe3ea5b,_0x48c5aa){if(!(!this['cache']||_0xe3ea5b['startsWith']('blob:')))try{const _0x115664=_0x48c5aa['clone'](),_0x460913=await _0x115664['blob'](),_0x3e199a=_0x460913['size'];this['currentSiz'+'e']+_0x3e199a>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x3e199a);const _0x435c7e=new Headers(_0x115664['headers']);_0x435c7e['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0xee98a7=new Response(_0x460913,{'status':_0x115664['status'],'statusText':_0x115664['statusText'],'headers':_0x435c7e});await this['cache']['put'](_0xe3ea5b,_0xee98a7),this['cacheSizes']['set'](_0xe3ea5b,_0x3e199a),this['currentSiz'+'e']+=_0x3e199a,this['updateLRU'](_0xe3ea5b);}catch(_0xdbf14){console['error']('Cache\x20set\x20'+'error:',_0xdbf14);}}['updateLRU'](_0x27a101){const _0x3af107=this['lruList']['indexOf'](_0x27a101);_0x3af107>-(-0x11b4+-0x1071+0x2226)&&this['lruList']['splice'](_0x3af107,0x1333+-0x47*0xe+-0x14*0xc4),this['lruList']['push'](_0x27a101);}async['cleanupSpa'+'ce'](_0x2ecb21){const _0x5312f7=this['options']['maxSize']*(-0x1d66+-0x5b*-0x45+-0x2b*-0x1d+0.9);if(!(this['currentSiz'+'e']<=_0x5312f7))for(;this['lruList']['length']>-0x26d8+-0x967*-0x4+0x4f*0x4&&this['currentSiz'+'e']>_0x5312f7;){const _0x5510c2=this['lruList']['shift']();_0x5510c2&&await this['delete'](_0x5510c2);}}async['delete'](_0xe1fb5a){if(this['cache'])try{await this['cache']['delete'](_0xe1fb5a);const _0xaa96c=this['cacheSizes']['get'](_0xe1fb5a)||-0x175f+-0x1978+0x30d7;this['currentSiz'+'e']-=_0xaa96c,this['cacheSizes']['delete'](_0xe1fb5a);const _0x295e3d=this['lruList']['indexOf'](_0xe1fb5a);_0x295e3d>-(0x1897+-0x1e1d+-0x5*-0x11b)&&this['lruList']['splice'](_0x295e3d,-0xfb5*-0x2+0x131*0x3+-0x22fc);}catch(_0x1db5c8){console['error']('Cache\x20dele'+'te\x20error:',_0x1db5c8);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0x3d553b=>Promise['all'](_0x3d553b['map'](_0x410c55=>{var _0x2c3d0d;return(_0x2c3d0d=this['cache'])==null?void(0x1*-0x1ebe+-0x3ab*-0x1+-0x1b13*-0x1):_0x2c3d0d['delete'](_0x410c55);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0x2*-0x505+0x1*-0x1088+0x1a92;}catch(_0x487f4e){console['error']('Cache\x20clea'+'r\x20error:',_0x487f4e);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0x1aa0+0x21a5+-0x3c45;}}class _0x31900e{constructor(_0x12109d=[],_0x176711={}){this['cacheManag'+'er']=new _0x1c947c(_0x176711['cache']),this['retryCount']=_0x176711['retryCount']||0x1*-0x6c6+-0x1bdd*-0x1+-0x1514*0x1,this['retryDelay']=_0x176711['retryDelay']||0x1b21+-0x240+-0x16ed,this['maxConcurr'+'ency']=_0x176711['maxConcurr'+'ency']||-0x7f+0x1818+-0x63*0x3d,this['downloadQu'+'eue']=_0x12109d,this['isProcessi'+'ngDownload'+'Queue']=!(0x3*-0x37e+0x5*0x5ab+-0x477*0x4),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(-0x2443+-0xd9d+-0x8*-0x63c);this['downloadQu'+'eue']['length']>0x4d*-0x28+0x91c+0x44*0xb;)try{const _0x19a1e3=this['downloadQu'+'eue']['splice'](-0xd94*-0x1+0x2*-0x856+-0x42*-0xc,this['maxConcurr'+'ency'])['map'](_0x574295=>{if(!this['pendingRes'+'ponses']['has'](_0x574295)){const _0x410518=this['download'](_0x574295);return this['pendingRes'+'ponses']['set'](_0x574295,_0x410518),_0x410518['then'](()=>{this['pendingRes'+'ponses']['delete'](_0x574295);});}return Promise['resolve']();});await Promise['all'](_0x19a1e3);}catch(_0x213896){console['error']('Download\x20e'+'rror:',_0x213896);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(-0x16f2+0xebc+0x1*0x837);}}}async['fetch'](_0xcb4c70,_0x412a78={}){if(this['pendingRes'+'ponses']['has'](_0xcb4c70))return this['pendingRes'+'ponses']['get'](_0xcb4c70);const {forceRefresh:_0x398e1c=!(0x23d0+0xd71+-0x18a*0x20),..._0x203954}=_0x412a78;this['pendingRes'+'ponses']['set'](_0xcb4c70,this['download'](_0xcb4c70,_0x203954));const _0x276f27=await this['pendingRes'+'ponses']['get'](_0xcb4c70);return this['pendingRes'+'ponses']['delete'](_0xcb4c70),_0x276f27;}async['download'](_0x22e44c,_0x513b2d={}){var _0x45fd8b;await((_0x45fd8b=this['cacheManag'+'er'])==null?void(-0x4*0x78d+-0x624+0x2458):_0x45fd8b['init']());const {forceRefresh:_0x1eb785=!(-0x9*-0x93+0xfe7+-0x1511*0x1),..._0xf12407}=_0x513b2d;_0x1eb785&&await this['cacheManag'+'er']['delete'](_0x22e44c);const _0x55aa9f=await this['cacheManag'+'er']['get'](_0x22e44c);if(_0x55aa9f)return _0x55aa9f;let _0x3f49a9;for(let _0x103bf3=-0x41b+0x35*0x43+0x14*-0x7d;_0x103bf3<this['retryCount'];_0x103bf3++)try{const _0x1eee14=await fetch(_0x22e44c,_0xf12407);if(!_0x1eee14['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x1eee14['status']);return await this['cacheManag'+'er']['set'](_0x22e44c,_0x1eee14),_0x1eee14;}catch(_0x371079){console['error']('Download\x20e'+'rror:',_0x371079),_0x3f49a9=_0x371079,_0x103bf3<this['retryCount']-(-0x12a7*0x1+-0xbd9+-0x13*-0x19b)&&await new Promise(_0x19a6c1=>setTimeout(_0x19a6c1,this['retryDelay']*(_0x103bf3+(-0x2240+-0xd77*0x1+0x4*0xbee))));}throw _0x3f49a9;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){this['cacheManag'+'er']['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(0x1*0x10ce+-0x1858+-0x78b*-0x1),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0xb70d1d{constructor(){this['numSplats']=-0x19ba+0x23dc+0x511*-0x2,this['comments']=[],this['chunkData']=new Float32Array(0x93e+-0x25dd+0x1c9f),this['vertexData']=new Uint32Array(0x2553+0x4a9+-0x29fc),this['is4D']=!(0x6ce+-0x403+-0x2cb),this['shBands']=0x479*0x7+0x143*-0x11+-0x9dc*0x1,this['shData0']=new Uint8Array(0x2349+0x269b+-0x49e4),this['shData1']=new Uint8Array(-0x1*0x29+-0x1*0x1345+0x67a*0x3),this['shData2']=new Uint8Array(0x260*0xe+0xdce+0x1787*-0x2),this['elements']=[],this['isCompress'+'ed']=!(0x7f*-0x4b+0x199*0x6+0x1b9f);}get['numChunks'](){return Math['ceil'](this['numSplats']/(0x17*0xbc+-0x8da*0x4+-0x1*-0x1384));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}}class _0x263cb8{constructor(_0x5c7e82,_0x3f80dd=[]){this['elements']=_0x5c7e82,this['comments']=_0x3f80dd,this['isCompress'+'ed']=!(0x21bc+-0x16d7+-0xae4);}}class _0x347bd8{constructor(_0x36cccc,_0x4173bb){this['reader']=_0x36cccc,this['progressFu'+'nc']=_0x4173bb,this['head']=-0x3d*0xa3+0x1bff+-0x15b*-0x8,this['tail']=0x851*-0x2+-0x5*-0x269+0x33*0x17;}async['read'](){var _0x903d32;const {value:_0x4db74c,done:_0x930c8}=await this['reader']['read']();if(_0x930c8)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x4db74c),(_0x903d32=this['progressFu'+'nc'])==null||_0x903d32['call'](this,_0x4db74c['byteLength']);}['push'](_0x1c3932){if(!this['data'])this['data']=_0x1c3932,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x1c3932['length'];else{const _0x1a05cf=this['tail']-this['head'],_0x191578=_0x1a05cf+_0x1c3932['length'];if(this['data']['length']>=_0x191578)this['head']>-0xf5*0x9+-0xe4*-0x7+0x261?(this['data']['copyWithin'](-0xf09*0x1+-0x1*0x11e9+-0x2*-0x1079,this['head'],this['tail']),this['data']['set'](_0x1c3932,_0x1a05cf),this['head']=-0xae2*-0x1+0x1*0x2432+0x5c*-0x83,this['tail']=_0x191578):(this['data']['set'](_0x1c3932,this['tail']),this['tail']+=_0x1c3932['length']);else{const _0x1207ad=new Uint8Array(_0x191578);this['head']>0x144*-0x1a+0x331*0x3+0x1755*0x1||this['tail']<this['data']['length']?_0x1207ad['set'](this['data']['subarray'](this['head'],this['tail']),0xb*0xc2+-0x2*0x101+0x6c*-0xf):_0x1207ad['set'](this['data'],-0x1ecb+0x4ab*-0x6+0x1*0x3acd),_0x1207ad['set'](_0x1c3932,_0x1a05cf),this['data']=_0x1207ad,this['view']=new DataView(this['data']['buffer']),this['head']=-0x3*-0x9da+0x59*0x26+-0x2ac4,this['tail']=_0x191578;}}}['compact'](){this['head']>0x1d04+-0x1*-0x1442+-0x3146&&(this['data']['copyWithin'](-0x2631+-0x6c*0x3+0x3*0xd27,this['head'],this['tail']),this['tail']-=this['head'],this['head']=-0x15c6+-0x73c*-0x2+0x74e);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x3bf3bb=this['view']['getInt8'](this['head']);return this['head']++,_0x3bf3bb;}['getUint8'](){const _0x33307a=this['view']['getUint8'](this['head']);return this['head']++,_0x33307a;}['getInt16'](){const _0x550fa7=this['view']['getInt16'](this['head'],!(-0xff1+-0xab2+-0x1*-0x1aa3));return this['head']+=-0x1289+0xf6f*-0x1+0x21fa,_0x550fa7;}['getUint16'](){const _0x3ab9d2=this['view']['getUint16'](this['head'],!(0x2224+0x1be+-0x23e2));return this['head']+=-0x787+0x323+0x1*0x466,_0x3ab9d2;}['getInt32'](){const _0x785d61=this['view']['getInt32'](this['head'],!(-0xde1+-0x13de+0x21bf));return this['head']+=-0x10b8+0x14f6*-0x1+0x25b2,_0x785d61;}['getUint32'](){const _0x572a6e=this['view']['getUint32'](this['head'],!(0x4*-0x68f+-0x24b5+0x3ef1));return this['head']+=0xd7*0x3+0x10e1*0x1+0x3*-0x676,_0x572a6e;}['getFloat32'](){const _0x18f656=this['view']['getFloat32'](this['head'],!(0x25bc+-0x832+0xec5*-0x2));return this['head']+=-0x3*0x115+-0x158*-0xd+-0xe35,_0x18f656;}['getFloat64'](){const _0x3756a2=this['view']['getFloat64'](this['head'],!(-0x8fb*-0x2+0x8fe*0x1+-0x1*0x1af4));return this['head']+=-0x1*0x2543+0xada*-0x2+0x3aff,_0x3756a2;}}class _0x150b0e{constructor(_0x1b611f,_0xc4907c,_0x45ab4a){this['x']=_0x1b611f,this['y']=_0xc4907c,this['z']=_0x45ab4a;}}class _0x3143e5{constructor(_0x2e7836,_0x2b8adc,_0x4be625,_0x5ea4f2){this['x']=_0x2e7836,this['y']=_0x2b8adc,this['z']=_0x4be625,this['w']=_0x5ea4f2;}}class _0x153992{constructor(_0x337dce,_0x314792,_0x1af194,_0x4fbe62){this['x']=_0x337dce,this['y']=_0x314792,this['z']=_0x1af194,this['w']=_0x4fbe62;}['set'](_0x3930f4,_0x54c150,_0x59dee5,_0x56a88a){this['x']=_0x3930f4,this['y']=_0x54c150,this['z']=_0x59dee5,this['w']=_0x56a88a;}}class _0x2c7a3b{constructor(_0x28422f,_0x541753,_0xe62953,_0x9f8b97,_0x4f8394,_0x2fa91e,_0x43c8c1,_0x497331,_0x22d4b4,_0x48c49e,_0x378775,_0x2b9aa6,_0x294611,_0xc5c7f8){const _0x26b391=(_0x4b3e37,_0xa910ed)=>{const _0x233859=(-0x2e*0x25+-0x3*-0xc2a+-0x1dd7<<_0xa910ed)-(0x52a+0xa*-0x46+-0x26d);return(_0x4b3e37&_0x233859)/_0x233859;},_0x297591=(_0x3b11d1,_0x44e781)=>{_0x3b11d1['x']=_0x26b391(_0x44e781>>>0xd*0x17+-0x17f*0xd+0x125d,0x34e+0x1ad6+-0x1e19),_0x3b11d1['y']=_0x26b391(_0x44e781>>>0x77b*0x5+0xd93+0x11*-0x2ff,0x16*0x22+0x1112+-0x13f4),_0x3b11d1['z']=_0x26b391(_0x44e781,0x1*-0x1af3+-0x1*-0x1ffb+-0x4fd);},_0x57bffe=(_0x57cdde,_0x106198)=>{_0x57cdde['x']=_0x26b391(_0x106198>>>-0x1f46*0x1+0x65b+0x1903,-0x1647+0xb*0x219+-0xc4),_0x57cdde['y']=_0x26b391(_0x106198>>>-0x1a1+-0x1*0x2a+-0x1*-0x1db,-0xcb6+-0x24b5+0x1*0x3173),_0x57cdde['z']=_0x26b391(_0x106198>>>-0x275*0x7+-0x2088+0x31c3,0x1d1+0x42*-0x46+0x1*0x1043),_0x57cdde['w']=_0x26b391(_0x106198,-0x4*-0x48b+0x2244+0x34*-0x102);},_0x5953ae=(_0x499626,_0x2b040f)=>{const _0x2bfb90=(-0x755*-0x5+0x3*-0xb3e+0x96*-0x5)/(Math['sqrt'](0x1ddc+-0x5*-0x443+-0x74f*0x7)*(-0x1*-0x20a1+0x225b+-0x42fc+0.5)),_0x2e211f=(_0x26b391(_0x2b040f>>>-0xba5*0x1+-0x1*-0x1925+-0xd6c,0x8bc+-0x36*0x3+-0x810)-(-0x5*-0x5db+0x5ef+-0x119b*0x2+0.5))*_0x2bfb90,_0x4edf5e=(_0x26b391(_0x2b040f>>>0x5df+0x21cc+-0x1*0x27a1,0x7e5+-0x2354+0x1b79)-(-0x4*-0x35+0x2289+-0xb*0x337+0.5))*_0x2bfb90,_0x4a91a4=(_0x26b391(_0x2b040f,0x20b*-0x11+-0x2*-0x1108+0xb5)-(-0x23eb+0x4b7*0x7+-0x2ea*-0x1+0.5))*_0x2bfb90,_0x55d1c4=Math['sqrt'](-0x1*-0x99b+0x1*0x2007+-0x29a1-(_0x2e211f*_0x2e211f+_0x4edf5e*_0x4edf5e+_0x4a91a4*_0x4a91a4));switch(_0x2b040f>>>-0xbe9*-0x1+-0x23*-0xdb+-0x29bc){case-0x13c3+-0x19eb+0x6*0x79d:_0x499626['set'](_0x2e211f,_0x4edf5e,_0x4a91a4,_0x55d1c4);break;case 0x9*0x2eb+0x204+-0x1*0x1c46:_0x499626['set'](_0x55d1c4,_0x4edf5e,_0x4a91a4,_0x2e211f);break;case-0x13d*-0x17+0x1d27*0x1+-0x10*0x39a:_0x499626['set'](_0x4edf5e,_0x55d1c4,_0x4a91a4,_0x2e211f);break;case-0x2158+-0x515*-0x1+-0x16*-0x149:_0x499626['set'](_0x4edf5e,_0x4a91a4,_0x55d1c4,_0x2e211f);break;}},_0x1567e1=(_0xf9d76b,_0x186313,_0xf9f29d)=>_0xf9d76b*(-0x349+-0x175f+-0xf*-0x1c7-_0xf9f29d)+_0x186313*_0xf9f29d,_0x5bc6df=[-0x6*-0x1a0+-0x1091+0x6d4,-0x2a*-0x31+-0xf2a+0x728,-0x1006+-0xa3*0x31+0x2f48][_0x43c8c1-(0xc7a*0x2+-0x2531+-0x61f*-0x2)],_0x448983=0xda2+-0x20ba+0x1*0x131e;this['read']=_0x140dc5=>{const _0x47a617=Math['floor'](_0x140dc5/(-0x1*-0x1ec1+-0x54*0x50+-0x381))*_0x541753;if(_0x497331&&(_0x297591(_0x497331,_0xe62953[_0x140dc5*_0x448983+(-0x101+-0x1e7d+0x116*0x1d)]),_0x497331['x']=_0x1567e1(_0x28422f[_0x47a617+(-0x33e+0x1*0xe12+-0x21*0x54)],_0x28422f[_0x47a617+(0x2239*-0x1+0xa63+0x17d9)],_0x497331['x']),_0x497331['y']=_0x1567e1(_0x28422f[_0x47a617+(-0x538+0x16*-0x35+0x9c7)],_0x28422f[_0x47a617+(0x17*0x133+-0x1c8e+0xfd)],_0x497331['y']),_0x497331['z']=_0x1567e1(_0x28422f[_0x47a617+(-0x2*-0x110f+0x1dc*0xc+0xe1b*-0x4)],_0x28422f[_0x47a617+(-0x1d*-0x25+-0x324+-0x108)],_0x497331['z'])),_0x22d4b4&&_0x5953ae(_0x22d4b4,_0xe62953[_0x140dc5*_0x448983+(0x8*-0x246+-0x11c8+0x23f9*0x1)]),_0x48c49e&&(_0x297591(_0x48c49e,_0xe62953[_0x140dc5*_0x448983+(0x12f*-0x4+-0x8*0xb3+0x7e*0x15)]),_0x48c49e['x']=_0x1567e1(_0x28422f[_0x47a617+(0x2167+-0x2683+0x6*0xdb)],_0x28422f[_0x47a617+(-0x1*-0x1745+0x4*0x12c+-0x1bec)],_0x48c49e['x']),_0x48c49e['y']=_0x1567e1(_0x28422f[_0x47a617+(-0x649+0x2130+-0x1ae0)],_0x28422f[_0x47a617+(0x906+-0x236*0x1+0x6*-0x121)],_0x48c49e['y']),_0x48c49e['z']=_0x1567e1(_0x28422f[_0x47a617+(-0x1*-0x514+-0x95*-0x25+-0x551*0x5)],_0x28422f[_0x47a617+(-0x1bee+-0x5f*-0x28+-0x1*-0xd21)],_0x48c49e['z'])),_0x378775&&(_0x57bffe(_0x378775,_0xe62953[_0x140dc5*_0x448983+(-0x1*-0x1070+-0x2*-0xe26+-0x2cb9)]),_0x541753>0x3*-0xc37+0x1*-0xd31+0x31e2&&(_0x378775['x']=_0x1567e1(_0x28422f[_0x47a617+(0x23b*0x10+-0x244+0x6*-0x590)],_0x28422f[_0x47a617+(-0xfa+0x15b0+-0x14a7)],_0x378775['x']),_0x378775['y']=_0x1567e1(_0x28422f[_0x47a617+(-0x2196*-0x1+-0x4*-0x80+-0x2389)],_0x28422f[_0x47a617+(0x1*-0x2be+0x1428+-0x115a)],_0x378775['y']),_0x378775['z']=_0x1567e1(_0x28422f[_0x47a617+(-0xa+-0x11*-0x89+-0x901)],_0x28422f[_0x47a617+(0x1*-0x373+0x1fad+-0x1c29)],_0x378775['z']))),_0x2b9aa6&&(_0x297591(_0x2b9aa6,_0xe62953[_0x140dc5*_0x448983+(-0xa0d+-0x4*0x6c5+0x2525)]),_0x2b9aa6['x']=_0x1567e1(_0x28422f[_0x47a617+(-0x387+0x1960+-0x1*0x15c7)],_0x28422f[_0x47a617+(-0x2481+0x4e6+-0x68*-0x4e)],_0x2b9aa6['x']),_0x2b9aa6['y']=_0x1567e1(_0x28422f[_0x47a617+(-0x2371+-0x262e+0x49b2)],_0x28422f[_0x47a617+(-0x157d*0x1+-0xa*0x251+-0xd*-0x371)],_0x2b9aa6['y']),_0x2b9aa6['z']=_0x1567e1(_0x28422f[_0x47a617+(-0x8*-0x4d9+0x22f4*-0x1+-0x3c0)],_0x28422f[_0x47a617+(-0xf*0x1e5+0x4*0x68d+-0x3b*-0xa)],_0x2b9aa6['z'])),_0x294611&&(_0x297591(_0x294611,_0xe62953[_0x140dc5*_0x448983+(-0x1*0x1f83+-0x2*0xf3c+0x3e00)]),_0x294611['x']=_0x1567e1(_0x28422f[_0x47a617+(-0x15*0x198+-0x1b8a+-0x9*-0x6ca)],_0x28422f[_0x47a617+(0x1*0x38a+0x237d+-0x6*0x67d)],_0x294611['x']),_0x294611['y']=_0x1567e1(_0x28422f[_0x47a617+(-0x15b*-0xa+0x24bb*-0x1+0x65*0x3b)],_0x28422f[_0x47a617+(-0x2*-0xc9d+-0x16a8+0x277*-0x1)],_0x294611['y'])),_0xc5c7f8&&_0x43c8c1>-0xa5d*-0x2+0x2*-0x109+-0x12a8){const _0x51870a=[_0x9f8b97,_0x4f8394,_0x2fa91e];for(let _0x34b88d=0x182b+-0x1b90+0x4f*0xb;_0x34b88d<-0x20a7*-0x1+0x367*0x1+-0x240b;++_0x34b88d)for(let _0x42ba92=0xd51+-0xbe6*0x2+0xa7b;_0x42ba92<0x203*0x6+0x26d3+-0x32d6;++_0x42ba92)_0xc5c7f8[_0x34b88d*(0x1f97+-0xf04+-0x97*0x1c)+_0x42ba92]=_0x42ba92<_0x5bc6df?_0x51870a[_0x34b88d][_0x140dc5*(0x38b*0x1+-0x17a0+-0x1b*-0xbf)+_0x42ba92]*((-0x211*-0x4+-0x1*0x258d+0x1d51)/(0x123*0x1f+0x80f+-0xdd*0x31))-(-0x10d*0x1+-0x1a4f+0x1b60):-0x20f4+-0x116a+0x10ca*0x3;}};}}self['onmessage']=async _0x1af933=>{var _0x1e04dd,_0x3663b1,_0x4dbd9d;const {data:_0x489f55}=_0x1af933;switch(_0x489f55['type']){case'initWorker':globalThis['loadUrlLis'+'t']=_0x489f55['loadUrlLis'+'t'],globalThis['fetchWorke'+'r']=new _0x31900e(globalThis['loadUrlLis'+'t']);break;case'destroyWor'+'ker':(_0x1e04dd=globalThis['fetchWorke'+'r'])==null||_0x1e04dd['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['loadUrlLis'+'t']=[];break;case'loadPly':const {url:_0xfbec16,decompress:_0x22137b}=_0x489f55;try{globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x31900e(globalThis['loadUrlLis'+'t']));const _0xd81e79=await globalThis['fetchWorke'+'r']['fetch'](_0xfbec16);if(!_0xd81e79||!_0xd81e79['body'])self['postMessag'+'e']({'type':'error','data':'Error\x20load'+'ing\x20resour'+'ce','url':_0xfbec16});else{const _0x289e5c=parseInt(_0xd81e79['headers']['get']('content-le'+'ngth')??'0',0x1509+0x1de1+-0x2c*0x128);self['postMessag'+'e']({'type':'totalLengt'+'h','totalLength':_0x289e5c,'bytes':0x0,'url':_0xfbec16});let _0x31b28b=await _0x2e7e71(_0xd81e79['body']['getReader'](),_0x19b01f=>{self['postMessag'+'e']({'type':'progress','bytes':_0x19b01f,'totalLength':_0x289e5c,'url':_0xfbec16});});if(_0x22137b&&_0x31b28b['isCompress'+'ed']){const _0x43ed91=_0x5d4942(_0x31b28b),_0x322d58=(_0x3663b1=_0x43ed91==null?void(0x56+-0x172e+0x2db*0x8):_0x43ed91['elements'][0x14b3*-0x1+0x1*-0x20fe+0x35b1])==null?void(0x23*0xda+0x1595+-0xf*0x36d):_0x3663b1['properties']['map'](_0x50da97=>_0x50da97['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0x43ed91,'url':_0xfbec16},_0x322d58);}else{if(_0x31b28b['isCompress'+'ed']){const _0x3aacaa=['chunkData','vertexData'];_0x31b28b['shData0']&&_0x3aacaa['push']('shData0','shData1','shData2');const _0x22e174=_0x3aacaa['map'](_0x22ec65=>{var _0x457a3a;return(_0x457a3a=_0x31b28b[_0x22ec65])==null?void(0x6a1*0x1+0x16cc+-0x1b*0x117):_0x457a3a['buffer'];});self['postMessag'+'e']({'type':'splatData','data':_0x31b28b,'url':_0xfbec16},_0x22e174);}else{_0x31b28b=_0x42b34a(_0x31b28b);const _0x38dea0=(_0x4dbd9d=_0x31b28b==null?void(-0x24aa+-0x260c+0x4ab6):_0x31b28b['elements'][0x55b*0x3+-0x1cdf+0x12a*0xb])==null?void(-0xba5*0x1+-0x19b*-0x4+-0x1*-0x539):_0x4dbd9d['properties']['map'](_0x156bad=>_0x156bad['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0x31b28b,'url':_0xfbec16},_0x38dea0);}}}}catch(_0x13ca5e){self['postMessag'+'e']({'type':'error','data':_0x13ca5e['message'],'url':_0xfbec16});}break;}};const _0x42b34a=_0x20fa5d=>{var _0x35887f;const _0x54039f=(_0x35887f=_0x20fa5d==null?void(-0xc*0x2a2+-0x1d7b+0x3d13):_0x20fa5d['elements'][0xf09+-0x303*0x2+0x903*-0x1])==null?void(0x1000+0x1*-0x222b+0x1*0x122b):_0x35887f['properties']['find'](_0x4cd27e=>_0x4cd27e['name']==='opacity');if(_0x54039f){for(let _0x2d67e3=-0x68*0x1d+-0x5d3+0x119b;_0x2d67e3<_0x54039f['storage']['length'];_0x2d67e3++)_0x54039f['storage'][_0x2d67e3]=(-0x87b+-0x27e+-0x2*-0x57d)/(0x29*0x22+-0xc5c+-0x4d*-0x17+Math['exp'](-_0x54039f['storage'][_0x2d67e3]));}return _0x20fa5d;},_0x1942a7=_0x5226e1=>{const _0x36322e=[],_0x363c68=[];let _0x43e40c;for(let _0x55d3f6=-0xa*-0x1a3+-0x4fd*0x5+-0x3*-0x2dc;_0x55d3f6<_0x5226e1['length'];++_0x55d3f6){const _0x12b965=_0x5226e1[_0x55d3f6]['split']('\x20');switch(_0x12b965[-0x1407+-0x2*0x982+0x270b]){case'comment':_0x363c68['push'](_0x12b965['slice'](0x21d9+-0x3d*0x2e+-0x16e2)['join']('\x20'));break;case'format':_0x43e40c=_0x12b965[0x16b4+-0x15f6+-0xbd];break;case'element':_0x36322e['push']({'name':_0x12b965[-0x1a8e+-0xa66+0x24f5],'count':parseInt(_0x12b965[-0x32d+0x2576+-0x2247],0xa8d*-0x1+0x12e*-0x14+0x222f),'properties':[]});break;case'property':{if(!_0x54753f['has'](_0x12b965[-0x7be*-0x3+0x4ab+-0x1be4]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0x12b965[0x1*-0x2467+-0x216f+-0x3ad*-0x13]+('\x27\x20in\x20ply\x20h'+'eader'));_0x36322e[_0x36322e['length']-(0xf42+0x31d*0x5+0x62a*-0x5)]['properties']['push']({'type':_0x12b965[-0x3a0+-0x17*-0x11b+-0x15cc],'name':_0x12b965[-0x1c0c+-0x226c+0x3e7a],'storage':null,'byteSize':_0x54753f['get'](_0x12b965[-0x20d1+0x1c*0x13f+-0x212])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0x12b965[-0x11c*0x1+0x4*0x959+-0x2448]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x36322e,'format':_0x43e40c,'comments':_0x363c68};},_0xffed1e=_0x46f04e=>{const _0x3ae21d=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x238b04=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x483220=new Array(-0xb5*0x3+-0x215f+-0x18d*-0x17)['fill']('')['map']((_0x83bbd7,_0x2ac231)=>'f_rest_'+_0x2ac231),_0x652d62=()=>_0x46f04e[-0x1f*-0x9f+-0xc3b+-0x3a*0x1f]['name']==='chunk'&&_0x46f04e[-0x92b+0x1*0x1435+-0x1d7*0x6]['properties']['every']((_0x1b79c9,_0x4570d0)=>_0x1b79c9['name']===_0x3ae21d[_0x4570d0]&&_0x1b79c9['type']==='float')&&_0x46f04e[-0x254e+-0x1*0x122b+0x377a*0x1]['name']==='vertex'&&_0x46f04e[0x3ff+-0x17*0x142+0x18f0*0x1]['properties']['every']((_0x47a54b,_0x5b6240)=>_0x47a54b['name']===_0x238b04[_0x5b6240]&&_0x47a54b['type']==='uint'),_0x32c3d2=()=>_0x46f04e[0x2556+0x34*-0xb1+-0x160]['name']==='sh'&&[-0xda1+0xe*0x1c+0xc22,0x107e+-0x1*0x26f7+0x6d*0x35,0x1*0x389+0x11*-0xc1+-0x10d*-0x9]['indexOf'](_0x46f04e[0x3*0xb39+-0xb58+-0x1651]['properties']['length'])!==-(-0x26c3+-0x5*-0x2fe+0x17ce)&&_0x46f04e[0x16d5+-0x1*-0x663+-0x1d36]['properties']['every']((_0x40853d,_0x1d0c28)=>_0x40853d['name']===_0x483220[_0x1d0c28]&&_0x40853d['type']==='uchar');return _0x46f04e['length']===0x1e00+-0x14f+-0x1caf&&_0x652d62()||_0x46f04e['length']===0x6aa+0x1084+-0x172b&&_0x652d62()&&_0x32c3d2();},_0x5d4410=_0x5bf445=>_0x5bf445['length']===-0x1*0x1ff9+0x1e82*-0x1+-0x4*-0xf9f&&_0x5bf445[0x21a3+0x139*0x1+0x184*-0x17]['name']==='vertex'&&_0x5bf445[0x122e+0x1225+-0x2453]['properties']['every'](_0x577a5a=>_0x577a5a['type']==='float'),_0x3422ad=async(_0x2ce681,_0x29b9b5,_0x47597)=>{const _0x25d5a8=new _0xb70d1d();_0x25d5a8['comments']=_0x47597;const _0x199392=_0x29b9b5[-0xab6+0x30*-0x75+-0x1*-0x20a6]['count'],_0x384973=_0x29b9b5[-0x1cbf+-0xc*0x144+0x2bef]['properties']['length'],_0x54014f=_0x29b9b5[-0x22ab+-0x2*0xce5+0x3c76]['count'],_0xc53461=_0x29b9b5[-0x23*0x40+0x1*0x237f+-0x1abe]['properties']['some'](_0x4c931c=>_0x4c931c['name']==='packed_tim'+'e'),_0x162c1b=(_0x338c4b=>{const _0x46f2bb=Math['ceil'](Math['sqrt'](_0x338c4b)),_0x48454d=Math['ceil'](_0x338c4b/_0x46f2bb);return _0x46f2bb*_0x48454d;})(_0x54014f);_0x25d5a8['numSplats']=_0x54014f,_0x25d5a8['is4D']=_0xc53461,_0x25d5a8['chunkData']=new Float32Array(_0x199392*_0x384973),_0x25d5a8['vertexData']=new Uint32Array(_0x162c1b*(0xae1*-0x3+0x1*-0x1e23+0x3ecc));const _0x26573b=async(_0x4b20fa,_0x52d88e)=>{const _0x230f51=new Uint8Array(_0x4b20fa);let _0x387e75=0x300*0xb+-0xc05+-0x14fb;for(;_0x387e75<_0x52d88e;){for(;_0x2ce681['remaining']===-0x18*-0x152+0xc61+0x1*-0x2c11;)await _0x2ce681['read']();const _0x3b73cd=Math['min'](_0x52d88e-_0x387e75,_0x2ce681['remaining']),_0x3b86b3=_0x2ce681['data'];for(let _0x1eb44b=-0xc*-0x97+-0x151b+-0x3f*-0x39;_0x1eb44b<_0x3b73cd;++_0x1eb44b)_0x230f51[_0x387e75++]=_0x3b86b3[_0x2ce681['head']++];}};if(await _0x26573b(_0x25d5a8['chunkData']['buffer'],_0x199392*_0x384973*(-0x2*0x385+-0x229a+0x8*0x535)),await _0x26573b(_0x25d5a8['vertexData']['buffer'],_0x54014f*(-0x1*-0x18c1+0xb88+-0x2443)*(-0xdf2+-0x1d8+0x7*0x242)),_0x29b9b5['length']===-0x3b3*0x9+0x2*0x10c9+-0x1*0x44){const _0x2f0aa1=_0x162c1b*(-0x651*0x1+-0x5e*-0x18+-0x26f),_0x507bb5=new Uint8Array(_0x2f0aa1),_0x2488ea=new Uint8Array(_0x2f0aa1),_0x57c36c=new Uint8Array(_0x2f0aa1),_0x5dcfeb=-0xd0c+-0x1a88+0x2b94,_0x3488f4=_0x29b9b5[-0x1206+-0x1fea+-0x853*-0x6]['properties']['length']/(-0x1b*0x172+-0x52*-0x73+-0x233*-0x1),_0xa2d4a5=new Uint8Array(_0x5dcfeb*_0x3488f4*(0x1bf8+0x1daa*0x1+0x399f*-0x1));for(let _0x328ed0=0x6c0+0x2da+-0x2*0x4cd;_0x328ed0<_0x25d5a8['numSplats'];_0x328ed0+=_0x5dcfeb){const _0x5f3a6c=Math['min'](_0x5dcfeb,_0x25d5a8['numSplats']-_0x328ed0);await _0x26573b(_0xa2d4a5['buffer'],_0x5f3a6c*_0x3488f4*(0x5*-0x5f3+0x2d*-0xd3+0x9d*0x6d));for(let _0x49d3ba=-0x1cd*-0xf+0x507+-0x200a;_0x49d3ba<_0x5f3a6c;++_0x49d3ba)for(let _0x391a69=-0xe9+0x2*-0x10c9+0x4ed*0x7;_0x391a69<0x1d76+-0x2ba+-0x1aad;++_0x391a69){const _0x4ad33c=(_0x328ed0+_0x49d3ba)*(0xd*0xe9+0x1*-0x1f71+0x13ac)+_0x391a69;_0x391a69<_0x3488f4?(_0x507bb5[_0x4ad33c]=_0xa2d4a5[(_0x49d3ba*(-0x1*0xd79+-0x149e*-0x1+-0x722)+(-0x21ed+-0xb*-0x121+-0x2*-0xac1))*_0x3488f4+_0x391a69],_0x2488ea[_0x4ad33c]=_0xa2d4a5[(_0x49d3ba*(-0x8af*-0x2+0x1*-0x132a+0x1cf)+(0x2*0x11b6+-0x1*-0x265d+-0x49c8))*_0x3488f4+_0x391a69],_0x57c36c[_0x4ad33c]=_0xa2d4a5[(_0x49d3ba*(-0x14c*0x14+0x2c1+0x1732)+(-0x2597*-0x1+-0x14*0x14c+-0xba5))*_0x3488f4+_0x391a69]):(_0x507bb5[_0x4ad33c]=0x4*0x751+-0x451+-0x1874,_0x2488ea[_0x4ad33c]=-0xb*-0x312+-0x649*0x4+-0x823,_0x57c36c[_0x4ad33c]=0xcf5+0x92d*-0x2+0x34*0x1d);}}_0x25d5a8['shData0']=_0x507bb5,_0x25d5a8['shData1']=_0x2488ea,_0x25d5a8['shData2']=_0x57c36c,_0x25d5a8['shBands']={0x3:0x1,0x8:0x2,0xf:0x3}[_0x3488f4];}else _0x25d5a8['shBands']=0x2357*0x1+0x9*0x457+0x59*-0xd6;return _0x25d5a8;},_0x121320=async(_0x5c18cc,_0x3cba86,_0x1c5e5b)=>{const _0x166941=_0x3cba86[0x1355+-0x153f+0x1ea],_0x1340a7=_0x166941['properties'],_0x491b02=_0x1340a7['length'],_0x247285=_0x1340a7['map'](_0x2a2ae8=>_0x2a2ae8['storage']),_0x5e4933=_0x1340a7['reduce']((_0x9205eb,_0x294120)=>_0x9205eb+_0x294120['byteSize'],-0x7c*0x7+0xdfb+-0xa97*0x1);let _0x5e320c=0x2372+0x1ec2+-0x4234,_0x3897ed;const _0x59df70=()=>{const _0x3fee77=_0x5c18cc['data']['buffer'];(_0x3897ed==null?void(0x3*-0x61+-0x247*-0x11+-0x2594):_0x3897ed['buffer'])!==_0x3fee77&&(_0x3897ed=new Float32Array(_0x3fee77,-0x7*-0x1a1+-0x1*0x43a+-0x72d,_0x3fee77['byteLength']/(0x2490+-0x1*-0x17a1+-0x1*0x3c2d)));};for(_0x59df70();_0x5e320c<_0x166941['count'];){for(;_0x5c18cc['remaining']<_0x5e4933;)await _0x5c18cc['read'](),_0x59df70();const _0x5c82c5=Math['min'](_0x166941['count']-_0x5e320c,Math['floor'](_0x5c18cc['remaining']/_0x5e4933));for(let _0x44d1ab=-0x1525+0x1c6b+0x1*-0x746;_0x44d1ab<_0x491b02;++_0x44d1ab){const _0x48733b=_0x247285[_0x44d1ab];for(let _0x5f6e59=0x1111*-0x2+-0x4a3*-0x6+-0xca*-0x8;_0x5f6e59<_0x5c82c5;++_0x5f6e59)_0x48733b[_0x5f6e59+_0x5e320c]=_0x3897ed[_0x5f6e59*_0x491b02+_0x44d1ab];}_0x5e320c+=_0x5c82c5,_0x5c18cc['head']+=_0x5c82c5*_0x5e4933;}return new _0x263cb8(_0x3cba86,_0x1c5e5b);},_0x4cd64f=async(_0x22aef9,_0x31ea87,_0x4fd961)=>{for(let _0x25921b=-0x1c77+-0xa0*-0x24+-0x1fd*-0x3;_0x25921b<_0x31ea87['length'];++_0x25921b){const _0x5466fb=_0x31ea87[_0x25921b],_0x4c9f80=_0x5466fb['properties']['reduce']((_0x37172c,_0x3faa99)=>_0x37172c+_0x3faa99['byteSize'],0x1c41+-0x2282+0x641),_0x2ff00f=_0x5466fb['properties']['map'](_0x551f8f=>{if(_0x551f8f['storage'])switch(_0x551f8f['type']){case'char':return(_0x5ac85e,_0x4eec30)=>{_0x551f8f['storage'][_0x4eec30]=_0x5ac85e['getInt8']();};case'uchar':return(_0x3c5b02,_0x1bc1ca)=>{_0x551f8f['storage'][_0x1bc1ca]=_0x3c5b02['getUint8']();};case'short':return(_0x3ca017,_0x1ea346)=>{_0x551f8f['storage'][_0x1ea346]=_0x3ca017['getInt16']();};case'ushort':return(_0x19e7a3,_0x3aef0f)=>{_0x551f8f['storage'][_0x3aef0f]=_0x19e7a3['getUint16']();};case'int':return(_0x383ebb,_0x13ce3b)=>{_0x551f8f['storage'][_0x13ce3b]=_0x383ebb['getInt32']();};case'uint':return(_0x2278f9,_0x3d688b)=>{_0x551f8f['storage'][_0x3d688b]=_0x2278f9['getUint32']();};case'float':return(_0x52b231,_0x1d8995)=>{_0x551f8f['storage'][_0x1d8995]=_0x52b231['getFloat32']();};case'double':return(_0x3f3266,_0x9cad7b)=>{_0x551f8f['storage'][_0x9cad7b]=_0x3f3266['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0x551f8f['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0x58ef6a=>{_0x58ef6a['head']+=_0x551f8f['byteSize'];};});let _0x37a223=0x84a+0x3*-0xcc1+-0x1df9*-0x1;for(;_0x37a223<_0x5466fb['count'];){for(;_0x22aef9['remaining']<_0x4c9f80;)await _0x22aef9['read']();const _0x4f1c8d=Math['min'](_0x5466fb['count']-_0x37a223,Math['floor'](_0x22aef9['remaining']/_0x4c9f80));for(let _0x3d59c5=-0x5f*-0x69+0x3*0xcd2+-0x4d6d;_0x3d59c5<_0x4f1c8d;++_0x3d59c5){for(let _0x3cea15=0x106d+0x283*-0xc+-0x1*-0xdb7;_0x3cea15<_0x5466fb['properties']['length'];++_0x3cea15)_0x2ff00f[_0x3cea15](_0x22aef9,_0x37a223);_0x37a223++;}}}return new _0x263cb8(_0x31ea87,_0x4fd961);},_0x2e7e71=async(_0x5598b5,_0x2948ed=null)=>{const _0x1423d3=(_0x459a59,_0xc639fc)=>{const _0x4dec8e=_0x459a59['length']-_0xc639fc['length'];let _0x51892d,_0x1fae98;for(_0x51892d=-0x2320+-0x20ee+0x440e;_0x51892d<=_0x4dec8e;++_0x51892d){for(_0x1fae98=-0x1*-0x2244+-0x1*-0x109b+-0x3*0x10f5;_0x1fae98<_0xc639fc['length']&&_0x459a59[_0x51892d+_0x1fae98]===_0xc639fc[_0x1fae98];++_0x1fae98);if(_0x1fae98===_0xc639fc['length'])return _0x51892d;}return-(-0x4*0x847+-0x17c0+0x38dd);},_0x29e042=(_0x5a2ef4,_0x225b9c)=>{if(_0x5a2ef4['length']<_0x225b9c['length'])return!(0xa37*-0x1+0x18c1+-0xe89*0x1);for(let _0xae3fc2=0x77*0x4f+-0x1721+-0x1d*0x78;_0xae3fc2<_0x225b9c['length'];++_0xae3fc2)if(_0x5a2ef4[_0xae3fc2]!==_0x225b9c[_0xae3fc2])return!(0x17cd+-0x153d+0x5*-0x83);return!(0x23b1+-0x144b*-0x1+-0x37fc);},_0x3b58fc=new _0x347bd8(_0x5598b5,_0x2948ed);let _0x19d9cd;for(;;){if(await _0x3b58fc['read'](),_0x3b58fc['tail']>=_0x2125a4['length']&&!_0x29e042(_0x3b58fc['data'],_0x2125a4))throw new Error('Invalid\x20pl'+'y\x20header');if(_0x19d9cd=_0x1423d3(_0x3b58fc['data'],_0x160e0f),_0x19d9cd!==-(-0x154e+0x1*0x2130+-0xbe1))break;}const _0x49cd04=new TextDecoder('ascii')['decode'](_0x3b58fc['data']['subarray'](0x2*0x2da+0x1*0x1f4c+-0x2500,_0x19d9cd))['split']('\x0a'),{elements:_0xdd2831,format:_0x1670de,comments:_0x17c9d7}=_0x1942a7(_0x49cd04);if(_0x1670de!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x3b58fc['head']=_0x19d9cd+_0x160e0f['length'],_0x3b58fc['compact'](),await((async()=>_0xffed1e(_0xdd2831)?await _0x3422ad(_0x3b58fc,_0xdd2831,_0x17c9d7):(_0xdd2831['forEach'](_0x25e0dd=>{_0x25e0dd['properties']['forEach'](_0x2ba294=>{const _0x3d7b21=_0x54753f['get'](_0x2ba294['type']);if(_0x3d7b21){const _0x1673fa=new _0x3d7b21(_0x25e0dd['count']);_0x2ba294['storage']=_0x1673fa;}});}),_0x5d4410(_0xdd2831)?await _0x121320(_0x3b58fc,_0xdd2831,_0x17c9d7):await _0x4cd64f(_0x3b58fc,_0xdd2831,_0x17c9d7)))());},_0x5d4942=_0x649829=>{const {numSplats:_0x13d8cd,chunkData:_0x32ff22,chunkSize:_0x3c772,vertexData:_0x428db5,shData0:_0xe3dfde,shData1:_0x3998eb,shData2:_0x3a1734,shBands:_0x24f8ea,comments:_0x1f6dc5,is4D:_0x4adf51}=_0x649829,_0x37a538=['x','y','z','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','f_dc_0','f_dc_1','f_dc_2','opacity'];if(_0x4adf51&&_0x37a538['push']('t','t_scale','motion_0','motion_1','motion_2'),_0x24f8ea>0x5da*-0x3+-0x674+0x36e*0x7){const _0x45328c=[];for(let _0x52ea43=-0x6b*-0x7+0x4*0x366+-0x1085;_0x52ea43<-0x735*-0x1+-0x13*-0x129+-0x1d13;++_0x52ea43)_0x45328c['push']('f_rest_'+_0x52ea43);_0x37a538['splice'](_0x37a538['indexOf']('f_dc_0')+(-0x20*0xad+0x172f*-0x1+0x2cd0),-0x9d3*-0x3+-0xa2e+-0x134b,..._0x45328c);}const _0x32db8d={};_0x37a538['forEach'](_0x342d49=>{_0x32db8d[_0x342d49]=new Float32Array(_0x13d8cd);});const _0x3da7c7=new _0x150b0e(),_0x504bc5=new _0x153992(),_0x4e53b=new _0x150b0e(),_0x226d6c=new _0x3143e5(),_0x3e46f8=new _0x150b0e(),_0x4d308c=new _0x150b0e(),_0x22c45a=_0x24f8ea>0x29d*0xa+-0x60*-0x36+-0x2e62?new Float32Array(-0x7e9+-0x6*0x623+0xc*0x3be):null,_0x1b7deb=new _0x2c7a3b(_0x32ff22,_0x3c772,_0x428db5,_0xe3dfde,_0x3998eb,_0x3a1734,_0x24f8ea,_0x3da7c7,_0x504bc5,_0x4e53b,_0x226d6c,_0x3e46f8,_0x4d308c,_0x22c45a);for(let _0x15347e=0x1603+-0x1d45+-0x2*-0x3a1;_0x15347e<_0x13d8cd;++_0x15347e){_0x1b7deb['read'](_0x15347e),_0x32db8d['x'][_0x15347e]=_0x3da7c7['x'],_0x32db8d['y'][_0x15347e]=_0x3da7c7['y'],_0x32db8d['z'][_0x15347e]=_0x3da7c7['z'],_0x32db8d['rot_1'][_0x15347e]=_0x504bc5['x'],_0x32db8d['rot_2'][_0x15347e]=_0x504bc5['y'],_0x32db8d['rot_3'][_0x15347e]=_0x504bc5['z'],_0x32db8d['rot_0'][_0x15347e]=_0x504bc5['w'],_0x32db8d['scale_0'][_0x15347e]=_0x4e53b['x'],_0x32db8d['scale_1'][_0x15347e]=_0x4e53b['y'],_0x32db8d['scale_2'][_0x15347e]=_0x4e53b['z'],_0x32db8d['motion_0'][_0x15347e]=_0x3e46f8['x'],_0x32db8d['motion_1'][_0x15347e]=_0x3e46f8['y'],_0x32db8d['motion_2'][_0x15347e]=_0x3e46f8['z'],_0x32db8d['t_scale'][_0x15347e]=_0x4d308c['x'],_0x32db8d['t'][_0x15347e]=_0x4d308c['y'],_0x32db8d['f_dc_0'][_0x15347e]=(_0x226d6c['x']-(-0x1e97+-0x1de1*-0x1+0x1a*0x7+0.5))/_0x2722e0,_0x32db8d['f_dc_1'][_0x15347e]=(_0x226d6c['y']-(-0x2d*0x3f+0x1*-0x238f+0xfe*0x2f+0.5))/_0x2722e0,_0x32db8d['f_dc_2'][_0x15347e]=(_0x226d6c['z']-(-0xb*-0x137+-0x292*-0x7+-0x17*0x15d+0.5))/_0x2722e0;const _0x1de816=_0x226d6c['w']<=-0x5*-0x550+-0x1b58+0xc8?-(0x2*-0x11b3+-0x48*0x8+-0x3*-0xc9a):_0x226d6c['w']>=-0x20fb+-0x17b*0x3+0x8f*0x43?-0x2b*-0x2+0x71+-0x9f:-Math['log']((-0x7b0+-0x9d*-0x3d+-0x18*0x13d)/_0x226d6c['w']-(-0x15bc+-0xc43+0x2200));if(_0x32db8d['opacity'][_0x15347e]=(-0x26db+-0x1744+0x3e20)/(0x55*-0x6f+0x2594+-0xb8+Math['exp'](-_0x1de816)),_0x22c45a){for(let _0xef9f5c=-0x187b+0x210d+-0x892;_0xef9f5c<0x15f7+0x1959+-0x2f23;++_0xef9f5c)_0x32db8d['f_rest_'+_0xef9f5c][_0x15347e]=_0x22c45a[_0xef9f5c];}}const _0x16c029=[{'count':_0x13d8cd,'name':'vertex','properties':_0x37a538['map'](_0x4cd866=>({'byteSize':0x4,'name':_0x4cd866,'type':'float','storage':_0x32db8d[_0x4cd866]}))}];return new _0x263cb8(_0x16c029,_0x1f6dc5);};}class ok extends me{constructor(_0x1537fc){super(),h(this,'worker'),h(this,'loadUrlLis'+'t'),(this['loadUrlLis'+'t']=_0x1537fc,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+nk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','loadUrlList':this['loadUrlLis'+'t']});}['loadPly'](_0x297fd1,_0x478dd9,_0x45f132=(_0x415be9,_0x32240f)=>{},_0xda080e=(_0x471388,_0x18d941,_0x1535d2)=>{},_0x2dc691=(_0x1421b3,_0x39289d)=>{}){var _0x2f8029;return(_0x2f8029=this['worker'])==null||_0x2f8029['postMessag'+'e']({'type':'loadPly','url':_0x297fd1,'decompress':_0x478dd9}),new Promise((_0x2256fa,_0x923088)=>{if(!this['worker']){_0x923088(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x12753d=>{if(!this['worker'])return;const {data:_0x22bf15}=_0x12753d;if(_0x297fd1===_0x22bf15['url'])switch(_0x22bf15['type']){case'totalLengt'+'h':_0x45f132==null||_0x45f132(_0x22bf15['totalLengt'+'h'],_0x22bf15['url']);break;case'progress':_0xda080e==null||_0xda080e(_0x22bf15['bytes'],_0x22bf15['totalLengt'+'h'],_0x22bf15['url']);break;case'splatData':_0x2256fa(_0x22bf15['data']);break;case'error':_0x2dc691==null||_0x2dc691(_0x22bf15['data'],_0x22bf15['url']);break;}};});}['destroy'](){this['loadUrl']='',this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(-0x1525+-0x9e+0x3*0x741));}}class lk{constructor(_0x5860b7,_0x2b826f){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'readWorker'),(console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','Register\x20P'+'lyParser.c'+'onstructor'),this['app']=_0x5860b7,this['maxRetries']=_0x2b826f,this['urlList']=[],this['gsplatReso'+'urce']=null,this['readWorker']=null,this['totalRecei'+'ved']=0x1*-0x2159+0x7b3*0x5+0x293*-0x2);}async['load'](_0xd77caf,_0x1c7790,_0x104a08){var _0x1ace86,_0xaf2126,_0x5d16c6;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','PlyParser.'+'load'),this['urlList']=[],_0xd77caf['load']['includes'](',')?this['urlList']=_0xd77caf['load']['split'](','):this['urlList']['push'](_0xd77caf['load']);const _0x58c05c=_0x104a08['data']['createTime']!==((_0xaf2126=(_0x1ace86=this['onlyOneAss'+'et'])==null?void(0x1*-0x1a83+0x442+-0x1641*-0x1):_0x1ace86['data'])==null?void(0x1c0c+-0x6d*-0x43+-0x3893):_0xaf2126['createTime']);(!this['readWorker']||_0x58c05c)&&((_0x5d16c6=this['readWorker'])==null||_0x5d16c6['destroy'](),this['readWorker']=new ok(this['urlList']));const _0x1e436e=_0x104a08['data']['loadIndex']>=-0xdbe*0x1+-0x4*-0x4ba+-0x52a?_0x104a08['data']['loadIndex']:0xeff*-0x1+0x18d6+-0x9d7,_0x347bc9=_0x104a08['data']['loadMode']==='all'?this['urlList']['length']-_0x1e436e:_0x1e436e+(-0xd*0x22c+0x909*0x2+0xa2b),_0x4f02a1=_0x104a08['data']['timeOption'],_0x244e8f=_0x104a08['data']['events'];for(let _0x47b997=_0x1e436e;_0x47b997<_0x347bc9;_0x47b997++)await this['loadGsplat'+'Data'](this['urlList'],_0x1c7790,_0x104a08,_0x47b997,_0x4f02a1,_0x244e8f,_0x347bc9);_0x244e8f['fire']('loadAllAss'+'etsDone');}async['loadGsplat'+'Data'](_0x41ae63,_0x2b2fff,_0x4db093,_0x1d0794,_0x163ba9,_0x41e932,_0x27e1cd){var _0x148f53,_0x354eb5,_0x85ad39;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','loadGsplat'+'Data',_0x41ae63[_0x1d0794]['trim'](),_0x1d0794);const _0x3dbd29=_0x163ba9[(0x286*-0x4+0xff8+-0x5de)*_0x1d0794]+_0x163ba9[(-0x932+0x9d*-0xc+-0x212*-0x8)*_0x1d0794+(-0x1*0x4f5+-0xf70+-0xe*-0x175)],_0x48ba08=_0x41ae63[_0x1d0794]['trim']();globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('loadTime','=========='+'=========='+'=========='+'=========='+'=========='+'====='),console['log']('loadTime','start\x20load'+'\x20ply\x20data',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(-0x12de*-0x1+0x3ed+-0x5*0xa7))['toFixed'](-0x12b8+-0x1c75+-0x2f2f*-0x1));try{const _0x4c303e=await((_0x148f53=this['readWorker'])==null?void(0x17f0+-0x1932+0x7*0x2e):_0x148f53['loadPly'](_0x48ba08,_0x4db093['data']['decompress'],()=>{this['totalRecei'+'ved']=0x1*-0xe5d+0x16ed*-0x1+0x254a;},(_0x18f02b,_0x5b4070)=>{this['totalRecei'+'ved']+=_0x18f02b,_0x4db093&&_0x41e932['fire']('progress',_0x5b4070*_0x1d0794/_0x27e1cd+this['totalRecei'+'ved']/_0x27e1cd,_0x5b4070);},(_0x42d377,_0x503b7b)=>{debugger;console['warn']('ERROE\x20Load'+'\x20Ply',_0x503b7b,_0x42d377);}));let _0x32575f;console['log']('loadTime','load\x20ply\x20d'+'ata\x20done',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(-0x25ee+0xcf2+-0xb21*-0x4))['toFixed'](0x15c6+-0xd5*-0x7+-0x1b97)),_0x4c303e['isCompress'+'ed']?(_0x32575f=new ak(),_0x32575f['comments']=_0x4c303e['comments'],_0x32575f['numSplats']=_0x4c303e['numSplats'],_0x32575f['is4D']=_0x4c303e['is4D'],_0x32575f['chunkData']=_0x4c303e['chunkData'],_0x32575f['vertexData']=_0x4c303e['vertexData'],_0x32575f['shData0']=_0x4c303e['shData0'],_0x32575f['shData1']=_0x4c303e['shData1'],_0x32575f['shData2']=_0x4c303e['shData2'],_0x32575f['shBands']=_0x4c303e['shBands']):_0x32575f=new qn(_0x4c303e['elements'],_0x4c303e['comments']),_0x4db093['fire']('load:data',_0x32575f),_0x32575f['isCompress'+'ed']||_0x4db093['data']['reorder'];const _0x159526=_0x4db093['data']['createTime']!==((_0x85ad39=(_0x354eb5=this['onlyOneAss'+'et'])==null?void(-0x6a4+0x26b*-0xb+0x213d):_0x354eb5['data'])==null?void(0x1836+0xe46+-0x267c):_0x85ad39['createTime']);this['gsplatReso'+'urce']&&!_0x159526?this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0x32575f['isCompress'+'ed']?await _0x32575f['decompress']():_0x32575f,_0x163ba9,_0x3dbd29,_0x4db093,_0x41e932):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new EC(this['app']['graphicsDe'+'vice'],_0x32575f['isCompress'+'ed']?await _0x32575f['decompress']():_0x32575f),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x163ba9,this['onlyOneAss'+'et']=_0x4db093),_0x2b2fff(null,this['gsplatReso'+'urce']);}catch(_0x2c7bb1){_0x2b2fff(_0x2c7bb1,null);}}['open'](_0xfc1799,_0x3ad1c2){return _0x3ad1c2;}}async function ck(){const _0x2924f9='super4d-ca'+'che-v1',_0x315d18={'maxAge':0x202fbf000,'maxSize':0x280000000},_0x3c34d7=0x125f+-0x1a3*0x7+-0x6ea+0.28209479177387814;class _0x1980ec{constructor(_0x4b72d3={}){this['options']={..._0x315d18,..._0x4b72d3},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=-0xbf5*0x1+-0x20cf+-0x2cc4*-0x1,this['initialize'+'d']=!(-0x1*0xa68+-0x84*0x1+0xaed*0x1);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x2924f9);const _0x1c9c2e=await this['cache']['keys'](),_0x336275=[];for(const _0x6e890e of _0x1c9c2e){const _0x32853e=_0x6e890e['url'],_0x468df0=await this['cache']['match'](_0x32853e);if(_0x468df0){const _0x4877a1=(await _0x468df0['blob']())['size'],_0x76df82=_0x468df0['headers']['get']('x-cache-ti'+'me');_0x76df82&&_0x336275['push']({'url':_0x32853e,'size':_0x4877a1,'cacheTime':parseInt(_0x76df82)});}}_0x336275['sort']((_0x44dc01,_0x45e889)=>_0x44dc01['cacheTime']-_0x45e889['cacheTime']);for(const _0x477a61 of _0x336275)this['cacheSizes']['set'](_0x477a61['url'],_0x477a61['size']),this['currentSiz'+'e']+=_0x477a61['size'],this['lruList']['push'](_0x477a61['url']);}catch(_0x5a11c5){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x5a11c5);}this['initialize'+'d']=!(0x7a1*-0x1+0x1*0x2513+-0x2*0xeb9);}}async['get'](_0x58a66e){if(await this['init'](),!this['cache'])return null;try{const _0x47e782=await this['cache']['match'](_0x58a66e);if(!_0x47e782)return null;const _0x3daeed=_0x47e782['headers']['get']('x-cache-ti'+'me');return _0x3daeed&&Date['now']()-parseInt(_0x3daeed)>this['options']['maxAge']?(await this['delete'](_0x58a66e),null):(this['updateLRU'](_0x58a66e),_0x47e782);}catch{return null;}}async['set'](_0x4c451f,_0x2f49e6){if(!(!this['cache']||_0x4c451f['startsWith']('blob:')))try{const _0x80eddf=_0x2f49e6['clone'](),_0x51602a=await _0x80eddf['blob'](),_0x164ccf=_0x51602a['size'];this['currentSiz'+'e']+_0x164ccf>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x164ccf);const _0x110331=new Headers(_0x80eddf['headers']);_0x110331['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x3a7c9a=new Response(_0x51602a,{'status':_0x80eddf['status'],'statusText':_0x80eddf['statusText'],'headers':_0x110331});await this['cache']['put'](_0x4c451f,_0x3a7c9a),this['cacheSizes']['set'](_0x4c451f,_0x164ccf),this['currentSiz'+'e']+=_0x164ccf,this['updateLRU'](_0x4c451f);}catch(_0x2398cc){console['error']('Cache\x20set\x20'+'error:',_0x2398cc);}}['updateLRU'](_0x1ea0cf){const _0xb24b78=this['lruList']['indexOf'](_0x1ea0cf);_0xb24b78>-(-0x2a6*0x2+0x256+0x2f7)&&this['lruList']['splice'](_0xb24b78,-0x13c*0x1d+0x557*-0x3+-0x5c2*-0x9),this['lruList']['push'](_0x1ea0cf);}async['cleanupSpa'+'ce'](_0x1a48d4){const _0x4512a0=this['options']['maxSize']*(-0x5*0x169+-0x206a+0x2777+0.9);if(!(this['currentSiz'+'e']<=_0x4512a0))for(;this['lruList']['length']>0x1e18+-0x2*0x1357+-0x7*-0x13a&&this['currentSiz'+'e']>_0x4512a0;){const _0x569699=this['lruList']['shift']();_0x569699&&await this['delete'](_0x569699);}}async['delete'](_0x46febc){if(this['cache'])try{await this['cache']['delete'](_0x46febc);const _0x3f840b=this['cacheSizes']['get'](_0x46febc)||0x130+0xb*-0x25d+0x18cf;this['currentSiz'+'e']-=_0x3f840b,this['cacheSizes']['delete'](_0x46febc);const _0x39b96a=this['lruList']['indexOf'](_0x46febc);_0x39b96a>-(0x1b39+-0x1*0x571+-0x19*0xdf)&&this['lruList']['splice'](_0x39b96a,0x1f80+-0x1d*-0x9d+-0x3148);}catch(_0x5d8524){console['error']('Cache\x20dele'+'te\x20error:',_0x5d8524);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0x34b6b8=>Promise['all'](_0x34b6b8['map'](_0x17cbaf=>{var _0x88563;return(_0x88563=this['cache'])==null?void(0x43*-0x19+0x2*-0xf4d+0x101*0x25):_0x88563['delete'](_0x17cbaf);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0x8f*-0x1f+-0x15d8+-0x487*-0x1;}catch(_0x486b76){console['error']('Cache\x20clea'+'r\x20error:',_0x486b76);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0xf58+0x3cc+0xb8c;}}class _0x1d7e77{constructor(_0x19e18a=[],_0x4024d6={}){this['cacheManag'+'er']=new _0x1980ec(_0x4024d6['cache']),this['retryCount']=_0x4024d6['retryCount']||-0x189e+0x129b+0x2*0x303,this['retryDelay']=_0x4024d6['retryDelay']||0x1b*-0x16f+-0x4a*0x7f+-0x4d5f*-0x1,this['maxConcurr'+'ency']=_0x4024d6['maxConcurr'+'ency']||-0x4*-0x30a+0x64*0x14+-0x13f2,this['downloadQu'+'eue']=_0x19e18a,this['isProcessi'+'ngDownload'+'Queue']=!(0xd67+0xc93+-0x6d*0x3d),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(-0x2*-0xd8d+-0x22f5*-0x1+-0x3e0f);this['downloadQu'+'eue']['length']>-0x186d*-0x1+-0x1dd0+0xc5*0x7;)try{const _0x525a77=this['downloadQu'+'eue']['splice'](0x26b9*-0x1+0x1*0x12bd+0x4*0x4ff,this['maxConcurr'+'ency'])['map'](_0x26de58=>{if(!this['pendingRes'+'ponses']['has'](_0x26de58)){const _0x4387b9=this['download'](_0x26de58);return this['pendingRes'+'ponses']['set'](_0x26de58,_0x4387b9),_0x4387b9['then'](()=>{this['pendingRes'+'ponses']['delete'](_0x26de58);});}return Promise['resolve']();});await Promise['all'](_0x525a77);}catch(_0x1eae9a){console['error']('Download\x20e'+'rror:',_0x1eae9a);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(-0x2016+-0x2*0xfac+0x3f6f);}}}async['fetch'](_0x3767f1,_0x5103a6={}){if(this['pendingRes'+'ponses']['has'](_0x3767f1))return this['pendingRes'+'ponses']['get'](_0x3767f1);const {forceRefresh:_0x34d807=!(0x1f71+-0x63e*0x3+-0xcb6),..._0x3dd6d3}=_0x5103a6;this['pendingRes'+'ponses']['set'](_0x3767f1,this['download'](_0x3767f1,_0x3dd6d3));const _0x1e9d73=await this['pendingRes'+'ponses']['get'](_0x3767f1);return this['pendingRes'+'ponses']['delete'](_0x3767f1),_0x1e9d73;}async['download'](_0x1a5b1b,_0x1d262a={}){var _0x47c602;await((_0x47c602=this['cacheManag'+'er'])==null?void(0x2*-0x851+-0x115a+0x2d5*0xc):_0x47c602['init']());const {forceRefresh:_0x9bcdce=!(0x22e1*0x1+0x10ae+-0x338e),..._0xe40577}=_0x1d262a;_0x9bcdce&&await this['cacheManag'+'er']['delete'](_0x1a5b1b);const _0x21a53d=await this['cacheManag'+'er']['get'](_0x1a5b1b);if(_0x21a53d)return _0x21a53d;let _0x187926;for(let _0x30894e=0x161*-0x6+0x2330+-0x1aea;_0x30894e<this['retryCount'];_0x30894e++)try{const _0x2306a8=await fetch(_0x1a5b1b,_0xe40577);if(!_0x2306a8['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x2306a8['status']);return await this['cacheManag'+'er']['set'](_0x1a5b1b,_0x2306a8),_0x2306a8;}catch(_0x533d9e){console['error']('Download\x20e'+'rror:',_0x533d9e),_0x187926=_0x533d9e,_0x30894e<this['retryCount']-(0x1*-0x1abd+0x1*-0xb23+0x1*0x25e1)&&await new Promise(_0x38f33f=>setTimeout(_0x38f33f,this['retryDelay']*(_0x30894e+(0x112a+0x20f2+-0x321b))));}throw _0x187926;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){var _0x50952b;(_0x50952b=this['cacheManag'+'er'])==null||_0x50952b['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(0x1812+0x29d+-0x1aae),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0x343a29{constructor(_0x5ec220,_0x2bb359=[]){this['elements']=_0x5ec220,this['comments']=_0x2bb359,this['isCompress'+'ed']=!(0x2d4*0x7+-0x6e8*-0x1+-0x1ab3);}}class _0x3cd200{constructor(_0x58a869){this['url']=_0x58a869;}async['readFragme'+'nt'](){globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x1d7e77(globalThis['downloadQu'+'eueUrlList']));const _0x2344c2=await globalThis['fetchWorke'+'r']['fetch'](this['url']);if(!_0x2344c2['ok'])throw new Error('Failed\x20to\x20'+'fetch\x20'+this['url']+':\x20'+_0x2344c2['statusText']);const _0x109031=await _0x2344c2['arrayBuffe'+'r'](),_0x12789e=new Uint8Array(_0x109031);let _0x21acd7=0x4b2+0x32d+-0x7df,{size:_0x35ae9a,type:_0x1a5098}=this['_readBoxHe'+'ader'](_0x12789e,_0x21acd7);if(_0x1a5098!=='moof')throw new Error('Not\x20a\x20moof');_0x21acd7+=-0x18fb+-0xe27*0x2+0x3551*0x1;const _0x56e09e=_0x21acd7+_0x35ae9a-(0x2e*0x41+-0x6e*-0x21+-0x4*0x675);let _0x2e4fec=null;for(;_0x21acd7<_0x56e09e;){const {size:_0x2a8f0e,type:_0x1e5f37}=this['_readBoxHe'+'ader'](_0x12789e,_0x21acd7);_0x21acd7+=-0x1*-0x1d1e+-0xf71+0x1f3*-0x7;const _0x413a16=_0x12789e['slice'](_0x21acd7,_0x21acd7+_0x2a8f0e-(0x3d5+-0x1709+0x133c));_0x21acd7+=_0x2a8f0e-(-0x1*-0x1d1+-0x163d+0xa3a*0x2),_0x1e5f37==='emsg'&&(_0x2e4fec=this['_parseEmsg'](_0x413a16));}if(!_0x2e4fec)throw new Error('Incomplete'+'\x20moof');const {size:_0x598def,type:_0x530fee}=this['_readBoxHe'+'ader'](_0x12789e,_0x21acd7);if(_0x530fee!=='mdat')throw new Error('Expected\x20m'+'dat\x20box\x20af'+'ter\x20moof');_0x21acd7+=-0x4bf+0x834+-0x1*0x36d;const _0x15f84e=_0x12789e['slice'](_0x21acd7,_0x21acd7+(_0x598def-(0x513+0x469*-0x2+0x3c7*0x1)));return{'metadata':_0x2e4fec,'segmentData':_0x15f84e};}['_readBoxHe'+'ader'](_0x21d695,_0x110ffc){if(_0x110ffc+(-0x76e+0xb6c+-0x3f6)>_0x21d695['length'])throw new Error('EOF');const _0x1dee5a=_0x21d695[_0x110ffc]<<-0xe39+0x3*-0xcc7+0x34a6|_0x21d695[_0x110ffc+(0x4d6+-0x35*-0x8+-0xb*0x97)]<<-0x91*0x33+-0xa7a*0x1+0x276d|_0x21d695[_0x110ffc+(0xa6*0x3+0x167*-0x1b+-0x23ed*-0x1)]<<-0x1bb6+-0x12f6+0x2eb4|_0x21d695[_0x110ffc+(-0x1*-0x833+-0xd09+0x49*0x11)],_0x1fb120=String['fromCharCo'+'de'](_0x21d695[_0x110ffc+(-0xb8a+0x253f*-0x1+0x30cd)],_0x21d695[_0x110ffc+(0x5*0x6e3+-0x740+-0x1b2a)],_0x21d695[_0x110ffc+(0x26df+-0x53d+-0x219c)],_0x21d695[_0x110ffc+(0x1be*-0xd+-0x232b+0x4*0xe76)]);return{'size':_0x1dee5a,'type':_0x1fb120};}['_parseEmsg'](_0x3c407e){let _0x5cbabb=-0x1fed+-0x262c+-0x1*-0x4619;_0x5cbabb=_0x3c407e['indexOf'](-0x2f*0xa4+-0x116e+0x2f8a,_0x5cbabb)+(0x3e3*-0x3+-0x367+0x1d*0x85),_0x5cbabb=_0x3c407e['indexOf'](-0xe6+0x223e+-0x2158,_0x5cbabb)+(0x1*-0x509+-0x11b4+-0x2*-0xb5f),_0x5cbabb+=-0x1bc3+0x3b6+0x181d;const _0x311e16=_0x3c407e['slice'](_0x5cbabb);return globalThis['CBOR']['decode'](_0x311e16);}}class _0x40b9c4{constructor(_0x284260=0x2*-0xe55+-0x1359+-0x11*-0x2d3,_0xa0d634=-0x1*0xb7e+-0x1f0b+0x2a89,_0x5521e7=0xca*-0x13+0x1396+-0x498,_0x493416=-0xcc2*0x1+0x1899+-0xbd6){this['x']=_0x284260,this['y']=_0xa0d634,this['z']=_0x5521e7,this['w']=_0x493416;}['set'](_0x4a26d2,_0x5024d6,_0x5b932f,_0x4e8a3b){return this['x']=_0x4a26d2,this['y']=_0x5024d6,this['z']=_0x5b932f,this['w']=_0x4e8a3b,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x4aa69b=this){let _0x1a21e9=_0x4aa69b['length']();return _0x1a21e9===0x1*-0x2523+0x1502+-0x1021*-0x1?(this['x']=this['y']=this['z']=-0x1be6+-0x218b+0x3d71,this['w']=0xa20+-0x43f*-0x2+-0x3b9*0x5):(_0x1a21e9=(-0x11c8+0x239d*0x1+-0x2*0x8ea)/_0x1a21e9,this['x']=_0x4aa69b['x']*_0x1a21e9,this['y']=_0x4aa69b['y']*_0x1a21e9,this['z']=_0x4aa69b['z']*_0x1a21e9,this['w']=_0x4aa69b['w']*_0x1a21e9),this;}['mulScalar'](_0x8e8f2f,_0x1538cb=this){return this['x']=_0x1538cb['x']*_0x8e8f2f,this['y']=_0x1538cb['y']*_0x8e8f2f,this['z']=_0x1538cb['z']*_0x8e8f2f,this['w']=_0x1538cb['w']*_0x8e8f2f,this;}}self['onmessage']=async _0x36c493=>{var _0x153cb4,_0x4a8a4b;const {data:_0x3c1ff2}=_0x36c493;switch(_0x3c1ff2['type']){case'initWorker':importScripts(_0x3c1ff2['cborXUrl']);break;case'destroyWor'+'ker':_0x514b5f();break;case'loadGsdMan'+'ifest':const {manifestUrl:_0xb78bbc,loadRepresentation:_0x35004e}=_0x3c1ff2,_0x44880a=await _0xa79a99(_0xb78bbc,_0x35004e);globalThis['manifestUr'+'l']=_0xb78bbc,globalThis['manifest']=_0x44880a,globalThis['resentatio'+'n']=_0x44880a['representa'+'tion'],globalThis['downloadQu'+'eueUrlList']=_0xc26643(),globalThis['fetchWorke'+'r']=new _0x1d7e77(globalThis['downloadQu'+'eueUrlList']),self['postMessag'+'e']({'type':'onloadMani'+'fest','data':_0x44880a,'url':_0xb78bbc,'representation':_0x35004e});break;case'loadGsdSeg'+'ments':try{const _0x19fe5a=_0x413f5f(globalThis['manifest'],globalThis['resentatio'+'n']),_0x28c64a=await _0x582c4a(globalThis['manifest'],_0x19fe5a),_0x21e859=(_0x153cb4=_0x28c64a==null?void(0x768*-0x5+0xf7a+-0x1f*-0xb2):_0x28c64a['elements'][0x685+-0x1*-0xcf7+-0x4df*0x4])==null?void(-0x1*0x11cf+-0x27f*0xf+0x11*0x340):_0x153cb4['properties']['map'](_0xd638af=>_0xd638af['storage']['buffer']);self['postMessag'+'e']({'type':'loadGsdSeg'+'mentsDone','data':_0x28c64a,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x21e859);}catch(_0xe97cfc){console['error']('Error\x20load'+'ing\x20GSD:',_0xe97cfc),self['postMessag'+'e']({'type':'error','data':_0xe97cfc['message'],'url':globalThis['manifestUr'+'l']});}break;case'loadTimeli'+'neIndexSeg'+'ments':const {timelineIndexs:_0x20e9e3}=_0x3c1ff2;try{const _0x4c5167=_0x413f5f(globalThis['manifest'],globalThis['resentatio'+'n']),_0x42bdcb=await _0x150fda(globalThis['manifest'],_0x4c5167,_0x20e9e3),_0x5abf29=(_0x4a8a4b=_0x42bdcb==null?void(0x1262+-0x1c07+0x9a5):_0x42bdcb['elements'][0x16b*-0x12+-0x254d+0x6fb*0x9])==null?void(-0x1029+0x1d92+-0xd69):_0x4a8a4b['properties']['map'](_0xc08f52=>_0xc08f52['storage']['buffer']);self['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'mentsDone','data':_0x42bdcb,'timelineIndexs':_0x20e9e3,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x5abf29);}catch(_0xcac69c){console['error']('Error\x20load'+'ing\x20GSD:',_0xcac69c),self['postMessag'+'e']({'type':'error','data':_0xcac69c['message'],'url':globalThis['manifestUr'+'l']});}break;}};const _0x514b5f=()=>{var _0x59688a;globalThis['manifestUr'+'l']=null,globalThis['manifest']=null,globalThis['resentatio'+'n']=null,(_0x59688a=globalThis['fetchWorke'+'r'])==null||_0x59688a['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['downloadQu'+'eueUrlList']=[],globalThis['loadedSegm'+'ents']=[],globalThis['currentLoa'+'dSg']=null;},_0xc26643=()=>{const _0x407a29=new Set(),_0x596550=_0x413f5f(globalThis['manifest'],globalThis['resentatio'+'n']),_0x26a6eb=globalThis['manifest']['baseUrl'],_0x49239d=_0x596550['segmentTem'+'plate'][-0xdc1+-0x80c+0x15cd*0x1];for(const _0x4aa570 of _0x49239d['segmentTim'+'eline'])for(const _0x1a0357 of _0x4aa570['nl']){const _0x11645e=''+_0x26a6eb+_0x49239d['media']['replace']('$SegGroupI'+'ndex$',String(_0x4aa570['sg']))['replace']('$NodeIndex'+'$',String(_0x1a0357));_0x407a29['add'](_0x11645e);}return Array['from'](_0x407a29);},_0xa79a99=async(_0x1f3447,_0x3d1cca)=>{const _0x2b2892=await(await fetch(_0x1f3447))['text'](),_0x1fe674=JSON['parse'](_0x2b2892);_0x1fe674['baseUrl']=_0x1f3447['replace'](/\/[^\/]*$/,'/');const {schemas:_0x3639da,gsiUrl:_0x3bd885,repId:_0x19212f}=await _0x52d92b(_0x1fe674,_0x3d1cca);return _0x1fe674['schemas']=_0x3639da,_0x1fe674['gsiUrl']=_0x3bd885,_0x1fe674['representa'+'tion']=_0x19212f,_0x1fe674;},_0x52d92b=async(_0x7de3d6,_0x5105ac)=>{let _0x4a13ef=null,_0x426b4d=null;for(const _0x2d3866 of _0x7de3d6['adaptation'+'Sets'])if(_0x2d3866['contentTyp'+'e']==='4dgs'){_0x426b4d=_0x2d3866;for(const _0x51b907 of _0x2d3866['representa'+'tions'])if(_0x51b907['id']===_0x5105ac){_0x4a13ef=_0x51b907;break;}break;}_0x4a13ef||(_0x4a13ef=_0x426b4d['representa'+'tions'][-0x2*0x125f+-0x89a+0x2d58],console['warn']('Representa'+'tion\x20\x27'+_0x5105ac+('\x27\x20not\x20foun'+'d,\x20use\x20the'+'\x20first\x20rep'+'resentatio'+'n\x20instead')));const _0x53f47b=_0x4a13ef['id'],_0x36ccf1=_0x7de3d6['baseUrl']+_0x53f47b+('/init.gsi.'+'json'),_0x454361=await(await fetch(_0x36ccf1))['text'](),_0x3bb883=JSON['parse'](_0x454361),_0x2949b5={};return _0x2949b5[_0x53f47b]=_0x3bb883,{'schemas':_0x2949b5,'gsiUrl':_0x36ccf1,'repId':_0x53f47b};},_0x413f5f=(_0x4f881b,_0x4c1690='high-quant'+'ized')=>{let _0x5bd6c4=null;for(const _0x3df3b6 of _0x4f881b['adaptation'+'Sets'])if(_0x3df3b6['contentTyp'+'e']==='4dgs'){for(const _0xcbeb4c of _0x3df3b6['representa'+'tions'])if(_0xcbeb4c['id']===_0x4c1690){_0x5bd6c4=_0xcbeb4c;break;}break;}if(!_0x5bd6c4)throw new Error('Representa'+'tion\x20\x27'+_0x4c1690+('\x27\x20not\x20foun'+'d'));return _0x5bd6c4;},_0x582c4a=async(_0x4e3eb6,_0x2cd6da)=>{const _0x13d3d2=_0x2cd6da['id'],_0x2f3e36=_0x4e3eb6['schemas'][_0x13d3d2]['attributes'],_0x36b6be=_0x2cd6da['segmentTem'+'plate'][-0x84e+-0xa*-0x27+0x6c8];globalThis['loadedSegm'+'ents']=[];const _0x1d442d=[],_0x24b9a1=[];for(const _0x3c4462 of _0x36b6be['segmentTim'+'eline'])for(const _0x2ea5a9 of _0x3c4462['nl']){if(globalThis['loadedSegm'+'ents']['includes'](_0x3c4462['sg']+'_'+_0x2ea5a9))continue;globalThis['loadedSegm'+'ents']['push'](_0x3c4462['sg']+'_'+_0x2ea5a9);const _0x264c56=await _0x4b8db3(_0x4e3eb6,_0x2cd6da,_0x2f3e36,_0x3c4462['sg'],_0x2ea5a9);_0x24b9a1['push'](_0x264c56['decoded']),_0x1d442d['push'](_0x264c56['metadata']);}return _0x5b27b1(_0x24b9a1,_0x2f3e36,_0x4e3eb6['comments']);},_0x150fda=async(_0x2823bf,_0x546c5b,_0xe4c2c8)=>{if(!_0xe4c2c8||_0xe4c2c8['length']===0x118+-0x2154+0x203c)return{'decoded':[],'metadata':[]};const _0x3ffd36=_0x546c5b['id'],_0x2f7677=_0x2823bf['schemas'][_0x3ffd36]['attributes'],_0x5df116=_0x546c5b['segmentTem'+'plate'][0xe9c+0x85a+-0x16f6];globalThis['loadedSegm'+'ents']||(globalThis['loadedSegm'+'ents']=[]);const _0x14f188=_0x5df116['segmentTim'+'eline'][_0xe4c2c8[0x16f*-0x15+-0x22e9+-0x15ac*-0x3]];globalThis['currentLoa'+'dSg']!==_0x14f188['sg']&&(globalThis['loadedSegm'+'ents']=globalThis['loadedSegm'+'ents']['filter'](_0x21adf2=>!_0x21adf2['startsWith'](globalThis['currentLoa'+'dSg'])),globalThis['currentLoa'+'dSg']=_0x14f188['sg']);let _0x277412;const _0x3bc7d8=[];for(const _0x2a8a47 of _0xe4c2c8){_0x277412=_0x5df116['segmentTim'+'eline'][_0x2a8a47];for(const _0x11ddde of _0x277412['nl'])globalThis['loadedSegm'+'ents']['includes'](_0x277412['sg']+'_'+_0x11ddde)||(globalThis['loadedSegm'+'ents']['push'](_0x277412['sg']+'_'+_0x11ddde),_0x3bc7d8['push'](_0x11ddde));}const _0x45736f=await _0x4b8db3(_0x2823bf,_0x546c5b,_0x2f7677,_0x277412['sg'],_0x3bc7d8);_0x45736f['metadata'];const _0x421102=_0x45736f['decoded'];return _0x5b27b1(_0x421102,_0x2f7677,_0x2823bf['comments']);},_0x4b8db3=async(_0x185329,_0x5ec163,_0x2ad73b,_0xbc565a,_0x15477f)=>{const _0x2781b=_0x185329['baseUrl'],_0x14f365=_0x5ec163['segmentTem'+'plate'][0x1b*0x2b+-0x2556+0x20cd]['media'],_0x23e999=_0x15477f['map'](_0x4419b7=>''+_0x2781b+_0x14f365['replace']('$SegGroupI'+'ndex$',String(_0xbc565a))['replace']('$NodeIndex'+'$',String(_0x4419b7))),_0x4907e1=await Promise['all'](_0x23e999['map'](async _0x1e0e84=>{const _0x2aa4c7=await _0x36053f(_0x1e0e84),_0x4c7325=_0x2aa4c7['metadata'],_0x2bfd71=_0x2aa4c7['segmentDat'+'a'],_0x3e2cc1=_0x4c7325['gaussianCo'+'unt'];console['log']('loadSegmen'+'t\x20'+_0x1e0e84),console['log']('loadSegmen'+'t\x20timeStar'+'t:',_0x4c7325['timeStart'],'segment\x20ti'+'meEnd:',_0x4c7325['timeEnd'],'segment\x20ga'+'ussianCoun'+'t:',_0x3e2cc1);let _0x277dc2;if(_0x5ec163['id']['includes']('quantized')){const _0x3c3a70=_0x4c7325['chunk_boun'+'ds'];_0x277dc2=_0x361dc8(_0x2bfd71,_0x3e2cc1,_0x2ad73b,_0xbc565a,_0x3c3a70);}else _0x277dc2=_0x5036b8(_0x2bfd71,_0x3e2cc1,_0x2ad73b,_0xbc565a);return{'decoded':_0x277dc2,'metadata':_0x4c7325};})),_0x786896=_0x4907e1['map'](_0x455a69=>_0x455a69['decoded']),_0xa16ebc=_0x4907e1['map'](_0x150f46=>_0x150f46['metadata']);return{'decoded':_0x786896,'metadata':_0xa16ebc};},_0x5b27b1=(_0x1bd49e,_0xa0b54f,_0x575598)=>{if(_0x1bd49e['length']===0x25e8*0x1+-0x6b*0x47+-0x83b)return new _0x343a29([{'name':'vertex','count':0x0,'properties':[{'name':'position','type':'float','storage':new Float32Array(-0xab2+0x10ed+-0x63b),'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':new Uint16Array(0x2109+0x3*0x317+-0x1*0x2a4e),'byteSize':0x2},{'name':'t','type':'float','storage':new Float32Array(-0x2136+-0x1658+0x378e),'byteSize':0x4},{'name':'t_scale','type':'float','storage':new Float32Array(0xf6+-0x3*0xcd8+0x2592),'byteSize':0x4},{'name':'cutoff','type':'float','storage':new Float32Array(0x91f+0x10e*0xf+-0x18f1),'byteSize':0x4},{'name':'motion','type':'float','storage':new Float32Array(0xf*0x67+-0x15ae+0xfa5),'byteSize':0x4},{'name':'rotation','type':'float','storage':new Float32Array(0x38*-0xa6+-0x1b97+0x7*0x921),'byteSize':0x4},{'name':'scale','type':'uint16','storage':new Uint16Array(-0x7*0x4e8+0x10d*-0x2+-0x137*-0x1e),'byteSize':0x2},{'name':'time_index','type':'float','storage':new Float32Array(-0x2338+-0x23f5+0x472d),'byteSize':0x4}]}],_0x575598);const _0x4d19fd=_0x3721c6(_0x1bd49e),[_0x12a50d,_0x3c703f,_0xd5fe6c]=_0x3ea9c9(_0x4d19fd['lifecycle'],0x1b42+-0x1b2c+-0x13,Float32Array),_0x1529a9=_0x4d19fd['time_index'],_0x1829b7=_0xa0b54f['find'](_0xf7203a=>_0xf7203a['name']==='feature_re'+'st'),_0x12f1fe=[];if(_0x1829b7&&_0x4d19fd['feature_re'+'st']){const _0x547a0b=_0x1829b7['dataType']['split'](',')[0x3a4*0x7+0x1c47+-0x35c2]['trim']()['replace']('>',''),_0x24eedd=_0x3ea9c9(_0x4d19fd['feature_re'+'st'],-0x1*0x251b+0x1205+-0x1*-0x1319,Float32Array);for(const _0x5ba2cb of _0x24eedd){const _0x5cf418=_0x3ea9c9(_0x5ba2cb,_0x547a0b/(-0x1*0xd5b+0x1*-0x1253+0x1fb1),Float32Array);for(let _0x4c6051=0x23b*-0x7+0x12f1+-0x8e*0x6;_0x4c6051<_0x5cf418['length'];_0x4c6051++)_0x12f1fe['push']({'name':'f_rest_'+_0x4c6051,'type':'float','storage':_0x5cf418[_0x4c6051],'byteSize':0x4});}}return new _0x343a29([{'name':'vertex','count':_0x4d19fd['position']['length']/(-0x15a*0x6+0x2225*-0x1+0x2a44),'properties':[{'name':'position','type':'float','storage':_0x4d19fd['position'],'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':_0x4d19fd['color_opac'+'ity'],'byteSize':0x2},{'name':'t','type':'float','storage':_0x3c703f,'byteSize':0x4},{'name':'t_scale','type':'float','storage':_0x12a50d,'byteSize':0x4},{'name':'cutoff','type':'float','storage':_0xd5fe6c,'byteSize':0x4},{'name':'motion','type':'float','storage':_0x4d19fd['motion'],'byteSize':0x4},{'name':'rotation','type':'float','storage':_0x4d19fd['rotation'],'byteSize':0x4},{'name':'scale','type':'uint16','storage':_0x4d19fd['scale'],'byteSize':0x2},{'name':'time_index','type':'float','storage':_0x1529a9,'byteSize':0x4},..._0x12f1fe]}],_0x575598);},_0x3ea9c9=(_0x328b47,_0x515e55,_0x57c875)=>{const _0x7bf56b=new Array(_0x515e55),_0x372d5a=Math['floor'](_0x328b47['length']/_0x515e55),_0x5e4a8c=_0x328b47['length']%_0x515e55;for(let _0x18bf19=0xf19+0x267c+-0x3595;_0x18bf19<_0x515e55;_0x18bf19++){const _0xca6387=_0x18bf19<_0x5e4a8c?_0x372d5a+(-0x94f+-0x412+-0x2*-0x6b1):_0x372d5a;_0x7bf56b[_0x18bf19]=new _0x57c875(_0xca6387);}for(let _0x346e63=-0x31*0x9b+0x341+-0x2*-0xd35;_0x346e63<_0x328b47['length'];_0x346e63++){const _0x288f3a=_0x346e63%_0x515e55,_0x24bd7c=Math['floor'](_0x346e63/_0x515e55);_0x7bf56b[_0x288f3a][_0x24bd7c]=_0x328b47[_0x346e63];}return _0x7bf56b;},_0x36053f=async _0x4c702b=>{const _0x1a17c8=new _0x3cd200(_0x4c702b),{metadata:_0x512486,segmentData:_0x392567}=await _0x1a17c8['readFragme'+'nt']();return{'metadata':_0x512486,'segmentData':_0x392567};},_0x43a2b8=(_0x121907,_0x3d7b47)=>{let _0x519191,_0x2ef322,_0x2fbc48=-(0x7*0x3af+0x1*0x2cb+0x5b7*-0x5);if(_0x121907['encoding']){const _0x2ec21c=_0x121907['encoding']['storageTyp'+'e'];if(_0x2ec21c==='uint32')_0x2ef322=Uint32Array,_0x519191=Uint32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x2ec21c['startsWith']('array<ucha'+'r')){_0x2ef322=Uint8Array;const _0x4c9a4e=_0x2ec21c['split'](',')[0x1da0+0x10*0x1c5+0x1*-0x39ef]['trim']()['replace']('>','');_0x2fbc48=parseInt(_0x4c9a4e),_0x519191=_0x2fbc48*Uint8Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20storage\x20'+'type:\x20'+_0x2ec21c);}}else{if(_0x2ef322=Float32Array,_0x121907['dataType']==='vec3f')_0x519191=(0x1*-0xfb9+0x8b+0xf31*0x1)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x121907['dataType']==='vec4f')_0x519191=(-0x4ee*0x7+-0x1*-0x1787+0xaff*0x1)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x121907['dataType']==='vec2f')_0x519191=(0x26*-0x57+0x1ce8+-0xffc)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x121907['dataType']['startsWith']('array<floa'+'t')){const _0x1527f7=_0x121907['dataType']['split'](',')[-0x4df*0x7+0x83a+0x8*0x33c]['trim']()['replace']('>','');_0x2fbc48=parseInt(_0x1527f7),_0x519191=_0x2fbc48*Float32Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0x121907['dataType']);}}}}return{'dataSize':_0x3d7b47*_0x519191,'datatype':_0x2ef322,'arraySize':_0x2fbc48};},_0x38b633=(_0x2faefd,_0x1e4f92)=>{const _0x5f3c84=(0xd82+-0x1c8d+0x12*0xd6<<_0x1e4f92)-(-0x2135+-0x8c4+0x29fa);return(_0x2faefd&_0x5f3c84)/_0x5f3c84;},_0x4fd2b4=_0x855e50=>{const _0x33d79=new Float32Array(_0x855e50['length']*(-0xeff+-0x1*-0x193+0x13*0xb5));for(let _0x547910=-0x1*0x1069+0x8d*-0x39+0x17e7*0x2;_0x547910<_0x855e50['length'];_0x547910++)_0x33d79[_0x547910*(-0x1*0x12bf+-0xfb0+0x2272)]=_0x38b633(_0x855e50[_0x547910]>>>0xffd*0x2+-0x13fc+-0xbe9,0x21*-0x59+0x827+-0x1*-0x35d),_0x33d79[_0x547910*(0x73*-0x4+-0x1*-0xd7b+-0xbac)+(-0x1677+-0x1e0e+-0x2*-0x1a43)]=_0x38b633(_0x855e50[_0x547910]>>>0x18b2+0x5*-0x1ff+-0xeac,-0x1846+-0x1acf+0x331f*0x1),_0x33d79[_0x547910*(0x503+-0x1*0x1eb0+0x19b0)+(0x1ae9+-0x10a2+-0xa45)]=_0x38b633(_0x855e50[_0x547910],0x966+0x218c+-0x2ae7);return _0x33d79;},_0x1faf5c=_0x6f195e=>{const _0x468380=new Float32Array(_0x6f195e['length']*(0x127e+0x21af*-0x1+-0xe5*-0x11));for(let _0x2c120a=0x6b*-0x59+-0x1567+0x3a9a;_0x2c120a<_0x6f195e['length'];_0x2c120a++)_0x468380[_0x2c120a*(-0x192f+-0xc*0xf9+0x1*0x24df)]=_0x38b633(_0x6f195e[_0x2c120a]>>>-0x1*0x5c9+0x193e+0x135d*-0x1,0x14d5*0x1+0x10f*-0xd+-0x35*0x22),_0x468380[_0x2c120a*(0x1*0x2653+0x4*0x61b+-0x3ebb)+(0xb*-0x7e+-0xde*-0x16+-0xda9)]=_0x38b633(_0x6f195e[_0x2c120a]>>>-0x14c1+0xdeb+0x6e6,0x1536+0xa7*0x2f+-0x33d7),_0x468380[_0x2c120a*(0xab0+-0x1*-0x851+0x1*-0x12fd)+(-0x1f98+0x1*-0x5a8+0x26*0xfb)]=_0x38b633(_0x6f195e[_0x2c120a]>>>0x1f0f+-0x1*0x172c+0x1*-0x7db,0x24*0x27+0xdcc+-0x38*0x58),_0x468380[_0x2c120a*(-0x174f+0x1559+0xb*0x2e)+(0x69d*0x3+0x2004*0x1+-0x33d8)]=_0x38b633(_0x6f195e[_0x2c120a],0x8d0+-0x1c2+-0x706);return _0x468380;},_0x85a7ea=_0x485c42=>{const _0x5c41d9=new Float32Array(_0x485c42['length']*(-0x544*-0x2+-0xd50+-0xb*-0x41)),_0x5b2da8=(-0x6d4+-0x1704*-0x1+-0x102f)/(Math['sqrt'](-0x545*-0x7+0x1311+-0x37f2)*(0x11bb*-0x1+0x542+0xc79+0.5));for(let _0x7a9d4a=0x1c44+0x802+-0x2*0x1223;_0x7a9d4a<_0x485c42['length'];_0x7a9d4a++){const _0x1ed73f=(_0x38b633(_0x485c42[_0x7a9d4a]>>>-0x5a0+0x1*-0x1726+-0x99e*-0x3,0x59d+-0xb68*0x1+-0x5d5*-0x1)-(-0x7c3+0x1918+0x1155*-0x1+0.5))*_0x5b2da8,_0x4e85a7=(_0x38b633(_0x485c42[_0x7a9d4a]>>>0x1701+-0x10b7*-0x1+-0x27ae,-0x469*-0x7+-0x1*-0x8e9+-0x27be)-(-0x106*-0xd+0x27*0x25+-0x12f1+0.5))*_0x5b2da8,_0x25e9b0=(_0x38b633(_0x485c42[_0x7a9d4a],0x4b*0x18+0x1f63+0x4b*-0x83)-(-0x1bdb+0x24bb+0x2*-0x470+0.5))*_0x5b2da8,_0x64dc7=Math['sqrt'](-0x245*0xd+0x2*0xc2f+0x524-(_0x1ed73f*_0x1ed73f+_0x4e85a7*_0x4e85a7+_0x25e9b0*_0x25e9b0));let _0x273383=-0x37*0x23+0x1*0xaa8+-0x49*0xb,_0x54d7e2=0x21f*-0x3+-0x348+0x9a5,_0x23579f=-0x22d3+0xd6*-0x1f+0xd5*0x49,_0x302927=0x21c+-0xf9c+0xd80;switch(_0x485c42[_0x7a9d4a]>>>-0xb98+-0x2513+0x30c9){case-0x5*-0x57f+-0x22cc+0x751*0x1:_0x273383=_0x64dc7,_0x54d7e2=_0x1ed73f,_0x23579f=_0x4e85a7,_0x302927=_0x25e9b0;break;case 0xc50+0x9*0x425+-0x319c:_0x273383=_0x64dc7,_0x54d7e2=_0x4e85a7,_0x23579f=_0x25e9b0,_0x302927=_0x1ed73f;break;case 0x21a6+-0xed*0x15+-0xe33:_0x273383=_0x4e85a7,_0x54d7e2=_0x64dc7,_0x23579f=_0x25e9b0,_0x302927=_0x1ed73f;break;case 0x205b+0xf1*-0x26+0x36e*0x1:_0x273383=_0x4e85a7,_0x54d7e2=_0x25e9b0,_0x23579f=_0x64dc7,_0x302927=_0x1ed73f;break;}const _0x4687ec=_0x2c116f(_0x273383,_0x54d7e2,_0x23579f,_0x302927);_0x5c41d9[_0x7a9d4a*(-0x1e*-0x141+0x1*-0x98f+0x2*-0xe06)]=_0x4687ec['x'],_0x5c41d9[_0x7a9d4a*(0x11*0x20f+-0x255*-0x1+-0x2551)+(0x2*0xbb2+0x12ea+-0x77*0x5b)]=_0x4687ec['y'],_0x5c41d9[_0x7a9d4a*(0x39f+0x4*0x101+0x3d0*-0x2)+(-0x2ec+-0x167c+0x196a)]=_0x4687ec['z'];}return _0x5c41d9;},_0x318d9f=(_0x34afea,_0x56728d,_0x576f9f)=>{const _0x273252=_0x576f9f-_0x56728d,_0x1d2841=new Float32Array(_0x34afea['length']);for(let _0x65366d=0xcc5+0x5b7+-0x4*0x49f;_0x65366d<_0x34afea['length'];_0x65366d++)_0x1d2841[_0x65366d]=_0x34afea[_0x65366d]/(-0xead+-0x4db*-0x2+0x1*0x5f6)*_0x273252+_0x56728d;return _0x1d2841;},_0x1f5add=new Float32Array(-0xb*-0xce+-0x5c6*-0x1+0xc5*-0x13),_0x2adc16=new Int32Array(_0x1f5add['buffer']),_0x52ad1f=_0x3d5869=>{_0x1f5add[0x1acd+-0x694*-0x2+-0x27f5]=_0x3d5869;const _0x5ce495=_0x2adc16[-0x1cc8+0x1*0x1168+0xb60];let _0x5a8fc5=_0x5ce495>>0xb13+-0xb5*-0x15+-0x4*0x677&-0x3e7d*0x3+-0x1*-0x1fa+0x1397d,_0x1e0a00=_0x5ce495>>0x1*-0x9c7+0xe5*-0xd+-0x2*-0xaba&-0x173*-0x2+-0xcd4+0x161*0xd;const _0x4f7a93=_0x5ce495>>0x79d+-0x50c*-0x4+-0x1bb6&0x1*-0x116b+-0x1683+-0x28ed*-0x1;return _0x4f7a93<0x1c81+0x31*-0x8d+-0x11d?_0x5a8fc5:_0x4f7a93>0x2518+-0xb*0x17+0x238d*-0x1?(_0x5a8fc5|=-0xb129+-0x58e+-0xe9b*-0x15,_0x5a8fc5|=(_0x4f7a93===0x1913+0x1a40+-0x192a*0x2?-0xac7+0x4*-0x6ca+0x25ef:0x2d9+-0x3f3+-0x1*-0x11b)&&_0x5ce495&-0x2820d7+-0xda6c86+0x1828d5c,_0x5a8fc5):_0x4f7a93<-0xa*0x280+0x18e5*-0x1+-0x2f6*-0x11?(_0x1e0a00|=-0x41b+0x1581+-0x3*0x322,_0x5a8fc5|=(_0x1e0a00>>0x110c+-0xa1c+0x115*-0x6-_0x4f7a93)+(_0x1e0a00>>0x16*0x151+-0xee7+-0xd9e-_0x4f7a93&-0x9*0x2b3+-0x16+-0x1*-0x1862),_0x5a8fc5):(_0x5a8fc5|=_0x4f7a93-(-0x2419*0x1+-0x142b+0x38b4)<<0x231+0x4*0x54e+-0xc1*0x1f|_0x1e0a00>>0x1241*-0x2+-0xb01+0x2f84,_0x5a8fc5+=_0x1e0a00&0x35*-0x97+0x1743+0x2ab*0x3,_0x5a8fc5);},_0x1170d1=_0x20738e=>{const _0x1f7450=new Uint16Array(_0x20738e['length']);for(let _0x58c0b6=-0x102d+-0x1d53*-0x1+-0xd26;_0x58c0b6<_0x20738e['length']/(0x2bd*0x7+0x27*-0x57+0x2f3*-0x2);++_0x58c0b6)_0x1f7450[_0x58c0b6*(-0x14ea+-0x11b7+0x26a5)]=_0x52ad1f(_0x20738e[_0x58c0b6*(0x191f+0x1901*0x1+0x6*-0x85a)]*_0x3c34d7+(-0x71a+0x185b+-0x277*0x7+0.5)),_0x1f7450[_0x58c0b6*(-0x16*-0x1bb+-0x224c+-0x3c2*0x1)+(-0x1*0x1945+-0x29e+-0x44*-0x69)]=_0x52ad1f(_0x20738e[_0x58c0b6*(-0x198c+-0x3a6*0x8+-0x4*-0xdb0)+(0x3f5*-0x5+-0x600*-0x4+-0xb*0x62)]*_0x3c34d7+(0xd26+0x6ed+-0x1413+0.5)),_0x1f7450[_0x58c0b6*(-0xc71+0x10c*0x2+0x7*0x17b)+(-0x3*0x42d+0x1*0x1e9+0xaa0)]=_0x52ad1f(_0x20738e[_0x58c0b6*(-0x1*-0x1a6f+-0x22c7+-0x1ac*-0x5)+(-0x2d1*-0xb+0x133*0x19+-0x3cf4)]*_0x3c34d7+(0xf28+0x1f83*-0x1+0x105b+0.5)),_0x1f7450[_0x58c0b6*(-0x5*-0x2fb+0x150c+-0x23ef*0x1)+(0x1b39+-0x1*-0x1df5+-0x392b)]=_0x52ad1f(_0x20738e[_0x58c0b6*(-0x88f+-0x1c*-0xc9+-0xd69)+(0x54f*-0x2+0x1225*-0x1+0x7f*0x3a)]);return _0x1f7450;},_0x369ec5=new _0x40b9c4(-0x481*-0x4+0x21c1+-0x33c5*0x1,0x1*-0x1f0f+-0x1*0x257e+0x2fb*0x17,-0x13b4+0x1b69+0x7b5*-0x1,-0x77f*0x5+-0x202d+0x45a8),_0x2c116f=(_0x576401,_0x4713b7,_0x381a0a,_0x2e7763)=>(_0x369ec5['set'](_0x4713b7,_0x381a0a,_0x2e7763,_0x576401),_0x369ec5['normalize'](),_0x369ec5['w']<0x1*0x1369+0x2*0x585+0x617*-0x5&&_0x369ec5['mulScalar'](-(0x420+-0x5*0x6c1+0x6e*0x45)),_0x369ec5);function _0x361dc8(_0x7f5177,_0x147129,_0x54cc07,_0x4372d9,_0x233796){const _0x411230=_0x233796[Object['keys'](_0x233796)[-0xd*-0x2c4+-0x2*0x11e4+-0x2c]]['length'],_0x453155=0x26b9+0x5d7+-0x2b90;let _0x562baa=[],_0x5c53b2=_0x147129;for(let _0xb4630d=-0xdc5+0x1898+-0xad3;_0xb4630d<_0x411230;_0xb4630d++){const _0x58c818=Math['min'](_0x453155,_0x5c53b2);_0x562baa['push'](_0x58c818),_0x5c53b2-=_0x58c818;}let _0x733a5f=0x1*0xda1+0x1302+-0x1*0x20a3,_0x3654f0={};for(let _0x302b09 of _0x54cc07){const _0xd7004d=_0x302b09['name'],{dataSize:_0xd95781,datatype:_0x2eee60}=_0x43a2b8(_0x302b09,_0x147129);let _0x497e63=_0x7f5177['buffer']['slice'](_0x733a5f,_0x733a5f+_0xd95781),_0x2ad64e=new _0x2eee60(_0x497e63);_0x3654f0[_0xd7004d]=_0x2ad64e,_0x733a5f+=_0xd95781;}let _0x533aef=[],_0x3d88e0=-0x1*-0x437+-0xd9d+0x966;for(let _0x3894d4=-0x7f*0x21+0x197e+-0x91f;_0x3894d4<_0x411230;_0x3894d4++){const _0x3b81a7=_0x2effdb(_0x3654f0,_0x233796,_0x3894d4,_0x562baa,_0x3d88e0,_0x54cc07),_0x168dba=_0x3b81a7['chunkDecom'+'pressed'];_0x533aef['push'](_0x168dba),_0x3d88e0=_0x3b81a7['chunkStart'+'Idx'];}let _0x2f6295={};for(let _0x59a91b of Object['keys'](_0x533aef[0xa*-0x42+-0x1*0x1037+-0x11b*-0x11])){let _0x30f031=0x1995*-0x1+0x195e+-0x5*-0xb;for(let _0x51bf0c=-0xc5f+-0x2c5*0xb+0x2*0x156b;_0x51bf0c<_0x533aef['length'];_0x51bf0c++)_0x30f031+=_0x533aef[_0x51bf0c][_0x59a91b]['length'];_0x59a91b==='color_opac'+'ity'||_0x59a91b==='scale'?_0x2f6295[_0x59a91b]=new Uint16Array(_0x30f031):_0x2f6295[_0x59a91b]=new Float32Array(_0x30f031);let _0x506133=0x1e2b*0x1+0x55*0x59+-0x3bb8;for(let _0x31c986=0x1*0xa31+-0x1650+0xc1f;_0x31c986<_0x533aef['length'];_0x31c986++)_0x2f6295[_0x59a91b]['set'](_0x533aef[_0x31c986][_0x59a91b],_0x506133),_0x506133+=_0x533aef[_0x31c986][_0x59a91b]['length'];}return _0x54cc07['some'](_0x344442=>_0x344442['name']==='feature_re'+'st')&&(_0x2f6295['feature_re'+'st']=_0x5ec655(_0x3654f0,_0x54cc07)),_0x2f6295['time_index']=new Float32Array(_0x147129),_0x2f6295['time_index']['fill'](_0x4372d9-(0x1596+0xddc+-0x2371)),_0x2f6295;}const _0x2effdb=(_0x532146,_0x10538d,_0x3b0e37,_0x57a595,_0x300ca8,_0x4ed739)=>{const _0xf3ea6f=_0x57a595[_0x3b0e37],_0x4421ed=_0x300ca8+_0xf3ea6f,_0x52980f=(_0x11bb97,_0x209d40,_0x1a80cb)=>_0x11bb97*(-0xa0d+-0x654+-0x1*-0x1062-_0x1a80cb)+_0x209d40*_0x1a80cb;let _0xf7eb06={};for(let _0x1820ed of _0x4ed739){const _0x4a82d5=_0x1820ed['name'],_0x2faf31=_0x1820ed['encoding']['codec'],_0x113d73=_0x532146[_0x4a82d5]['slice'](_0x300ca8,_0x4421ed);if(_0x2faf31==='pack_11_10'+'_11'){if(_0x4a82d5==='scale'){const _0x2e013f=_0x10538d['min_scales'][_0x3b0e37],_0x30ccba=_0x10538d['max_scales'][_0x3b0e37],_0x335e9c=_0x4fd2b4(_0x113d73),_0xaf2d32=_0x335e9c['length'],_0x56ce99=new Uint16Array(_0xaf2d32);for(let _0x432099=-0xd6a+-0x1*-0x166+0xc04;_0x432099<_0xaf2d32;_0x432099++)_0x56ce99[_0x432099]=_0x52ad1f(Math['exp'](_0x52980f(_0x2e013f[_0x432099%(0x1*-0x95+0xf9a+-0xf02)],_0x30ccba[_0x432099%(-0x1943+-0x2e7+0x1c2d)],_0x335e9c[_0x432099])));_0xf7eb06[_0x4a82d5]=_0x56ce99;}else{const _0x382dbf=_0x4fd2b4(_0x113d73);let _0x25801b,_0x1b47b8;if(_0x4a82d5==='position')_0x25801b=_0x10538d['min_means'][_0x3b0e37],_0x1b47b8=_0x10538d['max_means'][_0x3b0e37];else{if(_0x4a82d5==='motion')_0x25801b=_0x10538d['min_motion'][_0x3b0e37],_0x1b47b8=_0x10538d['max_motion'][_0x3b0e37];else{if(_0x4a82d5==='lifecycle'){const _0x3a72a9=_0x10538d['min_t_scal'+'e'][_0x3b0e37],_0x3ea753=_0x10538d['max_t_scal'+'e'][_0x3b0e37],_0x5d9be1=_0x10538d['min_time'][_0x3b0e37],_0x48017c=_0x10538d['max_time'][_0x3b0e37],_0x2a5e30=_0x10538d['min_cutoff'][_0x3b0e37],_0x4d3822=_0x10538d['max_cutoff'][_0x3b0e37];_0x25801b=[_0x3a72a9[-0x6b8+0x1a72+-0xa*0x1f9],_0x5d9be1[-0xea8+0x167f+0x9*-0xdf],_0x2a5e30[-0x1573*0x1+0x100b*0x1+0x568]],_0x1b47b8=[_0x3ea753[-0x3*-0x3ce+-0x61e+-0x54c],_0x48017c[-0x26bd+-0x202a+0x46e7],_0x4d3822[-0x14a1+0xf8a+-0x517*-0x1]];}else throw new Error('Unknown\x20at'+'tribute\x20fo'+'r\x20pack_11_'+'10_11:\x20'+_0x4a82d5);}}for(let _0x31ea97=0x12*0x7b+-0x1*-0x8cb+-0x1171;_0x31ea97<_0x382dbf['length'];_0x31ea97++)_0x382dbf[_0x31ea97]=_0x52980f(_0x25801b[_0x31ea97%(-0x817+-0x3d*0x6e+-0x2dc*-0xc)],_0x1b47b8[_0x31ea97%(0x193+0x1f6a+-0x20fa)],_0x382dbf[_0x31ea97]);_0xf7eb06[_0x4a82d5]=_0x382dbf;}}else{if(_0x2faf31==='pack_8888'){let _0x433f98=_0x1faf5c(_0x113d73);const _0x4b938c=_0x10538d['min_colors'][_0x3b0e37],_0x5ed16c=_0x10538d['max_colors'][_0x3b0e37],_0xa77dac=new Uint16Array(_0x433f98['length']);for(let _0x423833=0x197*0x5+-0xc*-0x139+-0x169f;_0x423833<_0x433f98['length'];_0x423833++){const _0xcf6a04=_0x423833*(0x29*-0xb+0xa7*0x14+0x5*-0x241);_0xa77dac[_0xcf6a04]=_0x52ad1f(_0x52980f(_0x4b938c[0x13af+-0xb21*-0x2+-0xdfb*0x3],_0x5ed16c[-0x671+-0x1fc4*0x1+-0x1*-0x2635],_0x433f98[_0xcf6a04])),_0xa77dac[_0xcf6a04+(-0x1c03+-0x129*0xb+0x28c7)]=_0x52ad1f(_0x52980f(_0x4b938c[-0x230f*-0x1+-0x2665+0x357],_0x5ed16c[0x2193+-0x46c+-0x1d26],_0x433f98[_0xcf6a04+(-0xc42+0xa87*0x1+0x1*0x1bc)])),_0xa77dac[_0xcf6a04+(-0x6f*0x3+-0x2bb*-0x3+-0x371*0x2)]=_0x52ad1f(_0x52980f(_0x4b938c[-0xa31*0x3+0x24e*-0x10+0x7*0x9a3],_0x5ed16c[-0x13*0x17c+-0x1fe7+0x3c1d],_0x433f98[_0xcf6a04+(-0x1*0x55d+0x1f9a+-0x1a3b)])),_0xa77dac[_0xcf6a04+(0x1f95+0xa00+-0x2992)]=_0x52ad1f(_0x433f98[_0xcf6a04+(0x9f4+0x3fe*-0x8+0x15ff)]);}_0xf7eb06[_0x4a82d5]=_0xa77dac;}else{if(_0x2faf31==='pack_rotat'+'ion_32'){const _0x5b20f6=_0x85a7ea(_0x113d73);_0xf7eb06[_0x4a82d5]=_0x5b20f6;}else{if(_0x2faf31==='range_quan'+'t_u8'){if(_0x4a82d5==='feature_re'+'st')continue;throw new Error('Unknown\x20co'+'dec:\x20'+_0x2faf31);}}}}}return{'chunkDecompressed':_0xf7eb06,'chunkStartIdx':_0x4421ed};},_0x5ec655=(_0x3072cf,_0x4b3744)=>{const _0x1941b7='feature_re'+'st',_0x4915cb=_0x4b3744['find'](_0x61713c=>_0x61713c['name']===_0x1941b7);let _0x4203b6;const _0x19a4f9=_0x4915cb['encoding']['codec'],_0x1be8fb=_0x3072cf[_0x1941b7];if(_0x19a4f9==='range_quan'+'t_u8'){const [_0x562857,_0x3dce40]=_0x4915cb['encoding']['range'];_0x4203b6=_0x318d9f(_0x1be8fb,_0x562857,_0x3dce40);}else throw new Error('Unknown\x20co'+'dec:\x20'+_0x19a4f9);return _0x4203b6;},_0x5036b8=(_0x1c4066,_0x4961e1,_0x3df16f,_0x767370)=>{let _0x5531a6=-0xb9f+-0x1da+0xd79;const _0x59ac62={};for(const _0x49b186 of _0x3df16f){const {dataSize:_0x3349ad}=_0x43a2b8(_0x49b186,_0x4961e1);if(['vec3f','vec4f','vec2f']['includes'](_0x49b186['dataType']))_0x59ac62[_0x49b186['name']]=new Float32Array(_0x1c4066['buffer']['slice'](_0x5531a6,_0x5531a6+_0x3349ad));else{if(_0x49b186['dataType']['startsWith']('array<floa'+'t'))_0x59ac62[_0x49b186['name']]=new Float32Array(_0x1c4066['buffer']['slice'](_0x5531a6,_0x5531a6+_0x3349ad));else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0x49b186['dataType']);}_0x5531a6+=_0x3349ad;}const _0x3caf99=new Uint16Array(_0x59ac62['scale']['length']);for(let _0x251f34=0x605+-0x2289+0x1c84;_0x251f34<_0x59ac62['scale']['length'];_0x251f34++)_0x3caf99[_0x251f34]=_0x52ad1f(Math['exp'](_0x59ac62['scale'][_0x251f34]));_0x59ac62['scale']=_0x3caf99;const _0xc03cbb=_0x59ac62['rotation']['length']/(-0x5a6+0x2f*0x3b+-0x3*0x1b9),_0x15defb=new Float32Array(_0xc03cbb*(0x15a*-0x14+-0x1*0x10ba+0x2bc5));for(let _0x29f011=0xa80+-0xcfb*0x3+0x1c71;_0x29f011<_0xc03cbb;_0x29f011++){const _0x5ec65b=_0x2c116f(_0x59ac62['rotation'][_0x29f011*(0x43*-0x7f+-0x6d8+0x2819)],_0x59ac62['rotation'][_0x29f011*(-0x618+0x1884+-0x1268)+(-0x1*-0xa13+-0x12d9+-0x1*-0x8c7)],_0x59ac62['rotation'][_0x29f011*(0x5*0x5ef+0x153a+-0x32e1)+(0x18f9+-0x7*0x420+0x3e9)],_0x59ac62['rotation'][_0x29f011*(0x1df7+0x344+-0x305*0xb)+(0x3e+-0x2609+0x25ce)]);_0x15defb[_0x29f011*(-0xc33+0x2093+-0x145d)]=_0x5ec65b['x'],_0x15defb[_0x29f011*(-0x1a9b+0x5*0xef+-0x751*-0x3)+(-0x8*-0x406+-0x42d*0x1+0x956*-0x3)]=_0x5ec65b['y'],_0x15defb[_0x29f011*(-0x167b+0x2387+0x2f*-0x47)+(0x1a*-0x101+0xb*0x1e7+0x52f)]=_0x5ec65b['z'];}return _0x59ac62['rotation']=_0x15defb,_0x59ac62['color_opac'+'ity']=_0x1170d1(_0x59ac62['color_opac'+'ity']),_0x59ac62['time_index']=new Float32Array(_0x4961e1),_0x59ac62['time_index']['fill'](_0x767370-(0x68*0x18+-0x1bd5+-0x1*-0x1216)),_0x59ac62;},_0x3721c6=(_0x4eb4f6,_0x24378b)=>{const _0x2c8381={};if(_0x4eb4f6['length']===0x1e88+0xf65+-0xb7b*0x4)return _0x4eb4f6[-0x8*0x38c+0xd76+-0xeea*-0x1];for(const _0xf33a59 of Object['keys'](_0x4eb4f6[0x17*-0x4f+-0x5*0x125+0xcd2]))if(_0x4eb4f6[0xfee*0x2+0xe27+-0x2e03][_0xf33a59]instanceof Float32Array||_0x4eb4f6[-0xa3*0x3+0x8*0x1cf+-0x1*0xc8f][_0xf33a59]instanceof Uint16Array){const _0x29d309=_0x4eb4f6['reduce']((_0x2c3946,_0x80a04d)=>_0x2c3946+_0x80a04d[_0xf33a59]['length'],0x17ea+-0x1811+0x27);let _0x2031ec;_0x4eb4f6[0x168c*-0x1+0x1ca2+-0x616][_0xf33a59]instanceof Uint16Array?_0x2031ec=new Uint16Array(_0x29d309):_0x2031ec=new Float32Array(_0x29d309);let _0x5daecf=-0x2137+-0x2b*-0xde+-0x413;for(const _0x30116a of _0x4eb4f6)_0x2031ec['set'](_0x30116a[_0xf33a59],_0x5daecf),_0x5daecf+=_0x30116a[_0xf33a59]['length'];_0x2c8381[_0xf33a59]=_0x2031ec;}else Array['isArray'](_0x4eb4f6[0x1*-0x1d5f+-0x23*-0x5+0x1cb0][_0xf33a59])?_0x2c8381[_0xf33a59]=_0x4eb4f6['flatMap'](_0x1da2da=>Array['from'](_0x1da2da[_0xf33a59])):_0x2c8381[_0xf33a59]=_0x4eb4f6['map'](_0x45ef34=>_0x45ef34[_0xf33a59])['flat']();return _0x2c8381;};}class hk extends me{constructor(_0x44ab65){super(),h(this,'manifestUr'+'l'),h(this,'worker'),(this['manifestUr'+'l']=_0x44ab65,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+ck['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','cborXUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/cbor-x@1'+'.6.0.min.j'+'s'});}['loadGsdMan'+'ifest'](_0x251c72){var _0x69c4c5;return(_0x69c4c5=this['worker'])==null||_0x69c4c5['postMessag'+'e']({'type':'loadGsdMan'+'ifest','manifestUrl':this['manifestUr'+'l'],'loadRepresentation':_0x251c72}),new Promise((_0x22e6d6,_0x41dc8c)=>{if(!this['worker']){_0x41dc8c(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x7b2e7=>{if(!this['worker'])return;const {data:_0x19db1f}=_0x7b2e7;if(this['manifestUr'+'l']===_0x19db1f['url'])switch(_0x19db1f['type']){case'onloadMani'+'fest':_0x22e6d6({'manifest':_0x19db1f['data'],'url':_0x19db1f['url'],'representation':_0x19db1f['representa'+'tion']});break;case'error':_0x41dc8c(_0x19db1f['data']);break;}};});}['loadGsdSeg'+'ments'](_0x5b06ec,_0x231150){var _0x414ec0;return(_0x414ec0=this['worker'])==null||_0x414ec0['postMessag'+'e']({'type':'loadGsdSeg'+'ments'}),new Promise((_0x4b2197,_0x5d427a)=>{if(!this['worker']){_0x5d427a(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x25428c=>{if(!this['worker'])return;const {data:_0x1b634a}=_0x25428c;if(this['manifestUr'+'l']===_0x1b634a['url'])switch(_0x1b634a['type']){case'progress':_0x5b06ec==null||_0x5b06ec(_0x1b634a['bytes'],_0x1b634a['totalLengt'+'h'],_0x1b634a['url']);break;case'loadGsdSeg'+'mentsDone':_0x4b2197(_0x1b634a['data']);break;case'error':_0x231150==null||_0x231150(_0x1b634a['data'],_0x1b634a['url']);break;}};});}['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0x406f88,_0x24ae17,_0x5c056c){var _0x13275d;return(_0x13275d=this['worker'])==null||_0x13275d['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'ments','timelineIndexs':_0x406f88}),new Promise((_0x479fb2,_0x2b60b6)=>{if(!this['worker']){_0x2b60b6(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x4ba226=>{if(!this['worker'])return;const {data:_0x45ac23}=_0x4ba226;if(this['manifestUr'+'l']===_0x45ac23['url'])switch(_0x45ac23['type']){case'progress':_0x24ae17==null||_0x24ae17(_0x45ac23['bytes'],_0x45ac23['totalLengt'+'h'],_0x45ac23['url']);break;case'loadTimeli'+'neIndexSeg'+'mentsDone':_0x479fb2(_0x45ac23);break;case'error':_0x5c056c==null||_0x5c056c(_0x45ac23['data'],_0x45ac23['url']);break;}};});}['destroy'](){this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(0xf15+-0x1c2f+-0x45e*-0x3));}}const Xh=class Xh{constructor(_0x6dcd13,_0xdda98a,_0x5e55b0){h(this,'lastLoadIn'+'dex',-0x22cc+-0x7*0x112+0x2a4a),h(this,'gsdAssetPa'+'rser'),(this['manifest']=_0x6dcd13,this['representa'+'tion']=_0xdda98a,this['gsdAssetPa'+'rser']=_0x5e55b0,this['segmentTim'+'elines']=this['getSegment'+'Timeline'](_0x6dcd13,_0xdda98a));}['getSegment'+'Timeline'](_0x1cc823,_0x5460fc){let _0x4b0447=null;for(const _0x388a9b of _0x1cc823['adaptation'+'Sets'])if(_0x388a9b['contentTyp'+'e']==='4dgs'){for(const _0x4efcf7 of _0x388a9b['representa'+'tions'])if(_0x4efcf7['id']===_0x5460fc){_0x4b0447=_0x4efcf7;break;}break;}if(!_0x4b0447)throw new Error('Representa'+'tion\x20\x27'+_0x5460fc+('\x27\x20not\x20foun'+'d'));return _0x4b0447['segmentTem'+'plate'][0x1b5*0xf+0x432*-0x1+-0x1569]['segmentTim'+'eline'];}['onTimeChan'+'ged'](_0x7f7cb4){const _0x440cd3=this['findSegmen'+'tTimeline'](_0x7f7cb4);if(!_0x440cd3)return;const _0x416224=_0x440cd3['timelineIn'+'dex']<this['segmentTim'+'elines']['length']-(0x31*-0xc3+0x12*0x1f1+0x5*0x7a)?_0x440cd3['timelineIn'+'dex']+(-0x1837*0x1+0x3*0x3cd+-0xcd1*-0x1):0xf75+0x10f8+-0x206d;this['lastLoadIn'+'dex']!==_0x416224&&(this['lastLoadIn'+'dex']=_0x416224,this['loadNextSe'+'gment'](_0x416224));}async['loadNextSe'+'gment'](_0xfbbfd1){const _0x25a696=[];for(let _0x266074=-0x27*0x73+-0x5*0x517+0x2af8;_0x266074<Xh['CACHE_COUN'+'T'];_0x266074++)_0x25a696['push']((_0xfbbfd1+_0x266074)%this['segmentTim'+'elines']['length']);const _0x585a15=_0x25a696[_0x25a696['length']-(-0x1*0x123f+0x1a41+-0x801)],_0x509c13=this['segmentTim'+'elines'][_0x585a15]['t']+this['segmentTim'+'elines'][_0x585a15]['d'];this['gsdAssetPa'+'rser']['appendload'+'DataTask'](_0x25a696,_0x509c13);}['findSegmen'+'tTimeline'](_0x2c2824){let _0x7f788b=-0x66a*0x5+0x47*0x8b+0x7*-0xed,_0x505798=this['segmentTim'+'elines']['length']-(-0xc1*-0x14+-0x926+-0x5ed);for(;_0x7f788b<=_0x505798;){const _0x40b500=_0x7f788b+_0x505798>>-0xf7*-0x27+0x15af+0x2d3*-0x15,{t:_0x24f8a0,d:_0x23d8fa}=this['segmentTim'+'elines'][_0x40b500];if(_0x2c2824<_0x24f8a0)_0x505798=_0x40b500-(0x17a2+-0x1979+0x1d8);else{if(_0x2c2824>=_0x24f8a0+_0x23d8fa)_0x7f788b=_0x40b500+(0x1*0x6d7+-0x5dc+-0x1*0xfa);else return{'timeline':this['segmentTim'+'elines'][_0x40b500],'timelineIndex':_0x40b500};}}return null;}};h(Xh,'CACHE_COUN'+'T',0x1557+0x70d*0x1+-0x1c5e);let Wu=Xh;class dk{constructor(_0x241f54,_0x312681){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'manifest'),h(this,'schedule'),h(this,'readWorker'),h(this,'loadDataTa'+'skQueue',[]),h(this,'isProcessi'+'ngLoadTask'+'Queue',!(0x11*0x107+-0x31b*-0x1+-0xc3*0x1b)),(console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','Register\x20G'+'sdParser.c'+'onstructor'),this['app']=_0x241f54,this['maxRetries']=_0x312681,this['urlList']=[],this['gsplatReso'+'urce']=null,this['totalRecei'+'ved']=-0x1*-0x201c+0xf72+-0x2f8e,this['manifest']={});}async['load'](_0x738165,_0x517479,_0xf6c5b9){console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','GsdParser.'+'load',_0x738165['load']);const _0x3adaed=_0xf6c5b9['data']['events'];this['events']=_0x3adaed,this['asset']=_0xf6c5b9,this['callback']=_0x517479,this['timeOption']=_0xf6c5b9['data']['timeOption'];let _0x431cfc=_0xf6c5b9['data']['representa'+'tion']||'high-raw';this['readWorker']=new hk(_0x738165['load']);const _0x246848=await this['readWorker']['loadGsdMan'+'ifest'](_0x431cfc);this['manifest']=_0x246848['manifest'],_0x431cfc=_0x246848['manifest']['representa'+'tion']||_0x431cfc,this['schedule']=new Wu(this['manifest'],_0x431cfc,this),this['totalRecei'+'vedCount']=-0x185*-0xf+-0x3*0xbb7+0xc5a;const _0x6ac552=this['getSegment'+'Timeline'](this['manifest'],_0x431cfc),_0x3a6b63=_0x6ac552[0x121a+0x7a3+-0x19bd]['t']+_0x6ac552[-0x1b*0x91+0x192d*-0x1+-0x38*-0xb9]['d'];this['appendload'+'DataTask']([-0x2414+-0x221*0x4+0x2c98,-0x1d65+0x1*0x1e17+-0x3*0x3b],_0x3a6b63),_0x3adaed['on']('timeChange'+'d',_0x5817de=>{var _0x590e4b;(_0x590e4b=this['schedule'])==null||_0x590e4b['onTimeChan'+'ged'](_0x5817de);});}['getSegment'+'Timeline'](_0x11ebf8,_0x4bca84){let _0x4d8ec8=null;for(const _0xe8e9e2 of _0x11ebf8['adaptation'+'Sets'])if(_0xe8e9e2['contentTyp'+'e']==='4dgs'){for(const _0x269423 of _0xe8e9e2['representa'+'tions'])if(_0x269423['id']===_0x4bca84){_0x4d8ec8=_0x269423;break;}break;}if(!_0x4d8ec8)throw new Error('Representa'+'tion\x20\x27'+_0x4bca84+('\x27\x20not\x20foun'+'d'));return _0x4d8ec8['segmentTem'+'plate'][0x1e7f+0x26*0xe+-0x2093]['segmentTim'+'eline'];}['appendload'+'DataTask'](_0x3afa34,_0x31864c){this['loadDataTa'+'skQueue']['push']({'segmentIndexs':_0x3afa34,'loadedTime':_0x31864c}),this['isProcessi'+'ngLoadTask'+'Queue']||Promise['resolve']()['then'](()=>this['processLoa'+'dQueue']());}async['processLoa'+'dQueue'](){if(!this['isProcessi'+'ngLoadTask'+'Queue']){this['isProcessi'+'ngLoadTask'+'Queue']=!(-0x132e*-0x2+-0x495*-0x8+0x4*-0x12c1);try{for(;this['loadDataTa'+'skQueue']['length']>-0x1e7a*-0x1+0x1*0x110a+-0x2f84;){const _0x4310af=this['loadDataTa'+'skQueue']['shift']();await this['loadGsplat'+'Data'](_0x4310af);}}finally{this['isProcessi'+'ngLoadTask'+'Queue']=!(0x1013+-0x1c7f+0x1*0xc6d);}}}async['loadGsplat'+'Data'](_0x48ab50){var _0x301f30,_0x504e59;const {segmentIndexs:_0x510b8c,loadedTime:_0x4bfbdc}=_0x48ab50,_0xfb6922=this['events'],_0x4cb094=this['asset'],_0x51656e=this['callback'],_0x1eb872=this['timeOption'];globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('____loadTi'+'me','gsd\x20======'+'=========='+'=========='+'=========='+'=========='+'========='),console['log']('____loadTi'+'me','gsd\x20start\x20'+'loadGsplat'+'Data',_0x510b8c,(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](0x18cc+-0x2378+0xaae));try{const _0x54bce0=await this['readWorker']['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0x510b8c,(_0x3cd7da,_0x13404b)=>{this['totalRecei'+'ved']+=_0x3cd7da,_0x4cb094&&_0xfb6922['fire']('progress',this['totalRecei'+'ved'],_0x13404b);},(_0x3f8ee6,_0x4dc82c)=>{debugger;console['warn']('ERROE\x20Load'+'\x20GSD',_0x4dc82c,_0x3f8ee6);});console['log']('____loadTi'+'me','gsd\x20end\x20lo'+'adGsplatDa'+'ta',(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](0x11d1+-0x62b*-0x2+-0x1e25),_0x54bce0['data']['elements'][-0x151c+0x15b4+-0x98]['count'],((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/_0x54bce0['data']['elements'][-0x31*0x7+-0x8a1*0x3+0x1b3a]['count']*(-0x1*-0x1b29+-0x1c*0x1b6+-0x3bcf*-0x1))['toFixed'](-0x2300+-0x20c8+0x21e5*0x2));const _0x15c079=_0x54bce0['data'];if(_0x15c079['elements'][-0x1534+-0x2*-0x565+0xa6a*0x1]['count']===0x41+0x271+0x2b2*-0x1)return;this['totalRecei'+'vedCount']+=_0x15c079['elements'][0x1fe1+-0x6*-0x10+-0x2041]['count'];const _0x7b4c92=new iC(_0x15c079['elements'],_0x15c079['comments']);_0x4cb094['fire']('load:data',_0x7b4c92);const _0x84da08=_0x4cb094['data']['createTime']!==((_0x504e59=(_0x301f30=this['onlyOneAss'+'et'])==null?void(-0x405+0x756+-0x351*0x1):_0x301f30['data'])==null?void(-0x145d+0xd*-0x59+0x18e2):_0x504e59['createTime']);this['gsplatReso'+'urce']&&!_0x84da08?(console['log']('____\x20ENGIN'+'E\x20IVAN','appendGSpl'+'atDecodedR'+'esource'),this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0x7b4c92,_0x1eb872,_0x4bfbdc,_0x4cb094)):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'DecodedRes'+'ource'),this['gsplatReso'+'urce']=new CC(this['app']['graphicsDe'+'vice'],_0x7b4c92),this['gsplatReso'+'urce']['setSceneIn'+'fo'](this['manifest']['sceneInfo']),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x1eb872,this['onlyOneAss'+'et']=_0x4cb094,_0x51656e&&_0x51656e(null,this['gsplatReso'+'urce']),_0xfb6922['fire']('loadAllAss'+'etsDone'));}catch(_0x445c89){console['error']('loadGsplat'+'Data','error',_0x445c89),_0x51656e&&_0x51656e(_0x445c89,null);}}['open'](_0x5d763a,_0x122f6b){return _0x122f6b;}}class fk extends Qe{constructor(_0x43c12a){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x43c12a,'gsplat'),this['parsers']={'ply':new lk(_0x43c12a,-0x1dae+-0x14c4*-0x1+-0x5*-0x1c9),'json':new dk(_0x43c12a,-0x2572+-0x83*-0xc+0x1f51)};}['_getUrlWit'+'houtParams'](_0x1f7bfc){return _0x1f7bfc['indexOf']('?')>=0x2018+-0x35e*-0x3+-0x2a32?_0x1f7bfc['split']('?')[0x16a+0x1ec2+-0x1d*0x11c]:_0x1f7bfc;}['_getParser'](_0x1829f0){const _0x274d06=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x1829f0))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x274d06]||this['parsers']['ply'];}['load'](_0x472c38,_0x1fb2cc,_0x5c40a9){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x472c38=='string'&&(_0x472c38={'load':_0x472c38,'original':_0x472c38}),this['_getParser'](_0x472c38['original'])['load'](_0x472c38,_0x1fb2cc,_0x5c40a9);}['open'](_0x28b28c,_0x2c3cc1,_0x430b11){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),_0x2c3cc1;}}class $u{static['setCompres'+'sedPRS'](_0x4c71f8,_0x40f2a6,_0x4da451){const _0x30e45c=_0x4da451['singleVecs'];let _0x4a1f33,_0x5a5795;const _0x278e5a=_0x40f2a6['___1'];_0x278e5a||(_0x4a1f33=_0x4da451['tripleVecs'],_0x5a5795=_0x40f2a6['___2']);let _0x5e2ff4=_0x278e5a?_0x278e5a[-0x2033*-0x1+-0x21fc+0x1c9]:_0x4a1f33[_0x5a5795];_0x4c71f8['setLocalPo'+'sition'](_0x30e45c[_0x5e2ff4],_0x30e45c[_0x5e2ff4+(-0x21a7+0xa4d+0x175b)],_0x30e45c[_0x5e2ff4+(0x20ba+0xd22+0x2*-0x16ed)]),_0x5e2ff4=_0x278e5a?_0x278e5a[-0x2*0xdd3+-0x1955+0x34fc]:_0x4a1f33[_0x5a5795+(0x67e*-0x1+-0x2261+-0x6d0*-0x6)],_0x4c71f8['setLocalEu'+'lerAngles'](_0x30e45c[_0x5e2ff4],_0x30e45c[_0x5e2ff4+(-0x53f+0x24b2+-0x1f72)],_0x30e45c[_0x5e2ff4+(0x1737+0x1ed*0x2+-0x1b0f)]),_0x5e2ff4=_0x278e5a?_0x278e5a[0xd67+0x1c44+0x29a9*-0x1]:_0x4a1f33[_0x5a5795+(-0x2135*0x1+-0x8*-0x1c1+0x132f)],_0x4c71f8['setLocalSc'+'ale'](_0x30e45c[_0x5e2ff4],_0x30e45c[_0x5e2ff4+(0x185*0x11+-0x47f+0x1555*-0x1)],_0x30e45c[_0x5e2ff4+(0x25*-0x10d+-0x937*0x2+0x3951)]);}static['oneCharToK'+'ey'](_0x1dbb27,_0x5b3693){const _0x5187d6=_0x1dbb27['charCodeAt'](-0xe9*-0xc+-0xc1d*-0x2+-0x2326*0x1)-_0x5b3693['fieldFirst'+'Code'];return _0x5b3693['fieldArray'][_0x5187d6];}static['multCharTo'+'Key'](_0x5c35df,_0x56b6c8){let _0x469d53=0x2704+-0x1*0x137d+0x1387*-0x1;for(let _0x36802e=-0x4c*-0x3b+-0x27b*-0x7+-0x22e1;_0x36802e<_0x5c35df['length'];_0x36802e++)_0x469d53=_0x469d53*_0x56b6c8['fieldCodeB'+'ase']+_0x5c35df['charCodeAt'](_0x36802e)-_0x56b6c8['fieldFirst'+'Code'];return _0x56b6c8['fieldArray'][_0x469d53];}}class Uh{constructor(_0x45da8e,_0x135c29){this['_node']=_0x45da8e,this['_data']=_0x135c29;}['run'](){const _0x31d312=Object['prototype']['toString']['call'](this['_node']);return _0x31d312==='[object\x20Ob'+'ject]'?this['_handleMap']():_0x31d312==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x6d2d41){let _0xc94799=_0x6d2d41;const _0x26f007=_0x6d2d41['length'];_0x26f007===0x1838+0x9*-0x110+-0xb*0x155?_0xc94799=$u['oneCharToK'+'ey'](_0x6d2d41,this['_data']):_0x26f007===0x10ca+-0x2422+-0x135a*-0x1&&(_0xc94799=$u['multCharTo'+'Key'](_0x6d2d41,this['_data'])),this['_result'][_0xc94799]=new Uh(this['_node'][_0x6d2d41],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x3aef0c){const _0x106131=new Uh(_0x3aef0c,this['_data'])['run']();this['_result']['push'](_0x106131);}}class bm{constructor(_0x2f6280,_0x112b5d){this['_app']=_0x2f6280,this['_isTemplat'+'e']=_0x112b5d;}['parse'](_0x561045){const _0x4e3a8c={};let _0x8ba54=null;const _0x11ba3b=_0x561045['compressed'+'Format'];_0x11ba3b&&!_0x561045['entDecompr'+'essed']&&(_0x561045['entDecompr'+'essed']=!(-0x4*0x2e+0x1d1e+0x5ae*-0x5),_0x561045['entities']=new Uh(_0x561045['entities'],_0x11ba3b)['run']());for(const _0x2896af in _0x561045['entities']){const _0x1fa36e=_0x561045['entities'][_0x2896af],_0x2210c1=this['_createEnt'+'ity'](_0x1fa36e,_0x11ba3b);_0x4e3a8c[_0x2896af]=_0x2210c1,_0x1fa36e['parent']===null&&(_0x8ba54=_0x2210c1);}for(const _0x209700 in _0x561045['entities']){const _0x2ac52d=_0x4e3a8c[_0x209700],_0x543563=_0x561045['entities'][_0x209700]['children'],_0x302050=_0x543563['length'];for(let _0x14668d=-0x182*0x1+0x112c+0x322*-0x5;_0x14668d<_0x302050;_0x14668d++){const _0x6023a9=_0x4e3a8c[_0x543563[_0x14668d]];_0x6023a9&&_0x2ac52d['addChild'](_0x6023a9);}}return this['_openCompo'+'nentData'](_0x8ba54,_0x561045['entities']),_0x8ba54;}['_createEnt'+'ity'](_0x155053,_0x3877b1){const _0x357d17=new lt(_0x155053['name'],this['_app']);if(_0x357d17['setGuid'](_0x155053['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x357d17,_0x155053,_0x3877b1),_0x357d17['_enabled']=_0x155053['enabled']??!(0x1014+0x7*0x10+-0x1084),this['_isTemplat'+'e']?_0x357d17['_template']=!(0xdda+-0x35c*-0x6+0xb56*-0x3):_0x357d17['_enabledIn'+'Hierarchy']=_0x357d17['_enabled'],_0x357d17['template']=_0x155053['template'],_0x155053['tags']){for(let _0x3bca50=0xcec+0xed1+-0x1bbd;_0x3bca50<_0x155053['tags']['length'];_0x3bca50++)_0x357d17['tags']['add'](_0x155053['tags'][_0x3bca50]);}return _0x357d17;}['_setPosRot'+'Scale'](_0x3cce5e,_0x5ef63e,_0x1245da){if(_0x1245da)$u['setCompres'+'sedPRS'](_0x3cce5e,_0x5ef63e,_0x1245da);else{const _0x12525b=_0x5ef63e['position'],_0x57296a=_0x5ef63e['rotation'],_0x3c0b28=_0x5ef63e['scale'];_0x3cce5e['setLocalPo'+'sition'](_0x12525b[-0x10a7+-0x2553+0x35fa],_0x12525b[0x1*0x2441+-0x6fe+-0x1d42],_0x12525b[0xd75+0x281*0x3+-0x1*0x14f6]),_0x3cce5e['setLocalEu'+'lerAngles'](_0x57296a[0x1343*0x1+0x1647+0x1*-0x298a],_0x57296a[-0x1*-0xbe5+0x1f9f+-0x2b83],_0x57296a[0x40*0x49+-0x1*0x238d+0x114f]),_0x3cce5e['setLocalSc'+'ale'](_0x3c0b28[0x7ca*0x1+-0x1f5e+0x1794],_0x3c0b28[-0x772+-0x3ac+0x3*0x3b5],_0x3c0b28[-0x2188+-0x28b*0xd+0x1633*0x3]);}}['_openCompo'+'nentData'](_0x3f0984,_0x3feb8b){const _0x361fdc=this['_app']['systems']['list'];let _0x5e4eab=_0x361fdc['length'];const _0x1f4679=_0x3feb8b[_0x3f0984['getGuid']()];for(let _0x444029=-0x5*-0x265+-0x1c2a+-0x5*-0x33d;_0x444029<_0x5e4eab;_0x444029++){const _0x34ee26=_0x361fdc[_0x444029],_0x35f773=_0x1f4679['components'][_0x34ee26['id']];_0x35f773&&_0x34ee26['addCompone'+'nt'](_0x3f0984,_0x35f773);}_0x5e4eab=_0x1f4679['children']['length'];const _0x14805a=_0x3f0984['_children'];for(let _0x347bcc=-0x7c5+-0x1cf3+0xeb*0x28;_0x347bcc<_0x5e4eab;_0x347bcc++)_0x14805a[_0x347bcc]?_0x14805a[_0x347bcc]=this['_openCompo'+'nentData'](_0x14805a[_0x347bcc],_0x3feb8b):w['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x3f0984['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x3f0984;}}class E0{static['load'](_0x389418,_0x4506a9,_0x16a534){typeof _0x389418=='string'&&(_0x389418={'load':_0x389418,'original':_0x389418}),ot['get'](_0x389418['load'],{'retry':_0x4506a9>0x9d7*0x1+-0x5bb+-0x41c*0x1,'maxRetries':_0x4506a9},(_0x3d8e13,_0x1fd797)=>{if(!_0x3d8e13)_0x16a534(_0x3d8e13,_0x1fd797);else{let _0x96d1e7='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x389418['original'];_0x3d8e13['message']?(_0x96d1e7+=':\x20'+_0x3d8e13['message'],_0x3d8e13['stack']&&(_0x96d1e7+='\x0a'+_0x3d8e13['stack'])):_0x96d1e7+=':\x20'+_0x3d8e13,_0x16a534(_0x96d1e7);}});}}class uk extends Qe{constructor(_0x477e7c){super(_0x477e7c,'hierarchy');}['load'](_0xca8004,_0x23eece){E0['load'](_0xca8004,this['maxRetries'],_0x23eece);}['open'](_0x17a47a,_0x354028){this['_app']['systems']['script']['preloading']=!(0x199+0x77a+-0x913);const _0x2f3e44=new bm(this['_app'],!(-0x1784+0x99f+-0x2*-0x6f3))['parse'](_0x354028);return this['_app']['systems']['script']['preloading']=!(0x5c*-0x7+-0xd6f+0xff4),_0x2f3e44;}}class pk extends Qe{constructor(_0x331764){super(_0x331764,'html'),h(this,'decoder',null);}['load'](_0x2b2d90,_0x48a324){typeof _0x2b2d90=='string'&&(_0x2b2d90={'load':_0x2b2d90,'original':_0x2b2d90}),ot['get'](_0x2b2d90['load'],{'retry':this['maxRetries']>0x2*-0xca+0x1f5e+-0x1dca,'maxRetries':this['maxRetries']},(_0x412d14,_0x4cf1f4)=>{_0x412d14?_0x48a324('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x2b2d90['original']+'\x20['+_0x412d14+']'):_0x48a324(null,_0x4cf1f4);});}['openBinary'](_0x6a2df1){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x6a2df1);}}class mk extends Qe{constructor(_0x533124){super(_0x533124,'json'),h(this,'decoder',null);}['load'](_0x5af0a1,_0x51b7b4){typeof _0x5af0a1=='string'&&(_0x5af0a1={'load':_0x5af0a1,'original':_0x5af0a1});const _0x9d2070={'retry':this['maxRetries']>-0x2034+0x73a*0x2+0x11c0,'maxRetries':this['maxRetries']};_0x5af0a1['load']['startsWith']('blob:')&&(_0x9d2070['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x5af0a1['load'],_0x9d2070,(_0x2227ad,_0x56c9f0)=>{_0x2227ad?_0x51b7b4('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x5af0a1['original']+'\x20['+_0x2227ad+']'):_0x51b7b4(null,_0x56c9f0);});}['openBinary'](_0x21e68f){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x21e68f));}}class _k{constructor(){this['removeInva'+'lid']=!(-0x1452+-0x1f4d*0x1+0x339f),this['valid']=!(-0x121*-0x13+-0x4*0x200+-0xd73),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([lv,bd,cv]),'cull':this['_createEnu'+'mValidator']([bt,pa,Fo,Ax]),'blendType':this['_createEnu'+'mValidator']([Gp,Hp,Zs,Cs,Gn,Wp,Ed,$p,Xp,qp,jp]),'depthFunc':this['_createEnu'+'mValidator']([Cx,hh,dh,Wf,Px,Mx,Dx,Wi])};}['setInvalid'](_0x36c91c,_0x3ef676){this['valid']=!(-0x1b1a+-0x1*-0x195b+0x1c0),w['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x36c91c,_0x3ef676[_0x36c91c]),this['removeInva'+'lid']&&delete _0x3ef676[_0x36c91c];}['validate'](_0xb5275f){const _0xf9f758=$n,_0x15166c=gb,_0x23aac9=_0xb5275f['mappingFor'+'mat']==='path';for(const _0x1750d5 in _0xb5275f){const _0x7bf957=_0xf9f758[_0x1750d5];if(!_0x7bf957){_0x15166c[_0x1750d5]?delete _0xb5275f[_0x1750d5]:(w['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x1750d5),this['valid']=!(0x1d*-0x1+0x13b1+-0x1393));continue;}if(_0x7bf957['startsWith']('enum')){const _0x27cb70=_0x7bf957['split'](':')[0x1819+-0x2d*0x66+0x6*-0x107];this['enumValida'+'tors'][_0x27cb70]&&(this['enumValida'+'tors'][_0x27cb70](_0xb5275f[_0x1750d5])||this['setInvalid'](_0x1750d5,_0xb5275f));}else{if(_0x7bf957==='number')typeof _0xb5275f[_0x1750d5]!='number'&&this['setInvalid'](_0x1750d5,_0xb5275f);else{if(_0x7bf957==='boolean')typeof _0xb5275f[_0x1750d5]!='boolean'&&this['setInvalid'](_0x1750d5,_0xb5275f);else{if(_0x7bf957==='string')typeof _0xb5275f[_0x1750d5]!='string'&&this['setInvalid'](_0x1750d5,_0xb5275f);else{if(_0x7bf957==='vec2')_0xb5275f[_0x1750d5]instanceof Array&&_0xb5275f[_0x1750d5]['length']===0xcfb+0x9a3+0x4*-0x5a7||this['setInvalid'](_0x1750d5,_0xb5275f);else{if(_0x7bf957==='rgb')_0xb5275f[_0x1750d5]instanceof Array&&_0xb5275f[_0x1750d5]['length']===-0x231f+-0xf*0x1d9+0x3*0x14f3||this['setInvalid'](_0x1750d5,_0xb5275f);else{if(_0x7bf957==='texture')_0x23aac9?typeof _0xb5275f[_0x1750d5]=='string'||_0xb5275f[_0x1750d5]===null||_0xb5275f[_0x1750d5]instanceof _e||this['setInvalid'](_0x1750d5,_0xb5275f):typeof _0xb5275f[_0x1750d5]=='number'||_0xb5275f[_0x1750d5]===null||_0xb5275f[_0x1750d5]instanceof _e||this['setInvalid'](_0x1750d5,_0xb5275f);else{if(_0x7bf957==='boundingbo'+'x')_0xb5275f[_0x1750d5]['center']&&_0xb5275f[_0x1750d5]['center']instanceof Array&&_0xb5275f[_0x1750d5]['center']['length']===0x194a+-0x93*-0xb+-0x3f3*0x8||this['setInvalid'](_0x1750d5,_0xb5275f),_0xb5275f[_0x1750d5]['halfExtent'+'s']&&_0xb5275f[_0x1750d5]['halfExtent'+'s']instanceof Array&&_0xb5275f[_0x1750d5]['halfExtent'+'s']['length']===0x6b+0x10cb+0x11*-0x103||this['setInvalid'](_0x1750d5,_0xb5275f);else{if(_0x7bf957==='cubemap')typeof _0xb5275f[_0x1750d5]=='number'||_0xb5275f[_0x1750d5]===null||_0xb5275f[_0x1750d5]===void(0x24ba+0x1f6b+-0x4425)||_0xb5275f[_0x1750d5]instanceof _e&&_0xb5275f[_0x1750d5]['cubemap']||this['setInvalid'](_0x1750d5,_0xb5275f);else{if(_0x7bf957==='chunks'){const _0x68af07=Object['keys'](_0xb5275f[_0x1750d5]);for(let _0x200daf=0xa41+0x1241+-0x1c82;_0x200daf<_0x68af07['length'];_0x200daf++)typeof _0xb5275f[_0x1750d5][_0x68af07[_0x200daf]]!='string'&&this['setInvalid'](_0x68af07[_0x200daf],_0xb5275f[_0x1750d5]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x7bf957);}}}}}}}}}}return _0xb5275f['validated']=!(0x7ff+-0x65*0x47+0x1404),this['valid'];}['_createEnu'+'mValidator'](_0x12f5ed){return function(_0x4b6bb6){return _0x12f5ed['indexOf'](_0x4b6bb6)>=0x1e0b+0x1c2a+-0x1367*0x3;};}}class gk{constructor(){this['_validator']=null;}['parse'](_0x5ac3ab){const _0x1cac3c=this['migrate'](_0x5ac3ab),_0x3bcbaa=this['_validate'](_0x1cac3c),_0x5f3001=new Ut();return this['initialize'](_0x5f3001,_0x3bcbaa),_0x5f3001;}['initialize'](_0x132dca,_0x4d7783){if(_0x4d7783['validated']||(_0x4d7783=this['_validate'](_0x4d7783)),_0x4d7783['chunks']&&_0x4d7783['chunks']&&Object['keys'](_0x4d7783['chunks'])['length']>-0x125e+0x2ed*0x7+-0x21d){const _0x308617=_0x132dca['shaderChun'+'ks']['glsl'];Object['entries'](_0x4d7783['chunks'])['forEach'](([_0x84b414,_0x35e192])=>_0x308617['set'](_0x84b414,_0x35e192));}for(const _0x27fcdb in _0x4d7783){const _0x523235=$n[_0x27fcdb],_0x1b46ef=_0x4d7783[_0x27fcdb];if(_0x523235==='vec2')_0x132dca[_0x27fcdb]=new J(_0x1b46ef[0xd53+-0x17e0+0xa8d],_0x1b46ef[0x1435+0x9c7*-0x1+-0x9d*0x11]);else{if(_0x523235==='rgb')_0x132dca[_0x27fcdb]=new ie(_0x1b46ef[-0x114e+0x1afa+-0x2*0x4d6],_0x1b46ef[-0x218d+-0x3*0x1cf+0x26fb],_0x1b46ef[-0x16ba+-0xedb+0x2597]);else{if(_0x523235==='texture')_0x1b46ef instanceof _e?_0x132dca[_0x27fcdb]=_0x1b46ef:_0x132dca[_0x27fcdb]instanceof _e&&typeof _0x1b46ef=='number'&&_0x1b46ef>0xa75*-0x1+0x1ce6+0x1*-0x1271||(_0x132dca[_0x27fcdb]=null);else{if(_0x523235==='cubemap')_0x1b46ef instanceof _e?_0x132dca[_0x27fcdb]=_0x1b46ef:_0x132dca[_0x27fcdb]instanceof _e&&typeof _0x1b46ef=='number'&&_0x1b46ef>-0x2384+0x1021+0x7*0x2c5||(_0x132dca[_0x27fcdb]=null),_0x27fcdb==='cubeMap'&&!_0x1b46ef&&(_0x132dca['prefiltere'+'dCubemaps']=null);else{if(_0x523235==='boundingbo'+'x'){const _0x3c1cdb=new D(_0x1b46ef['center'][-0xc7c+0x113d+-0x4c1],_0x1b46ef['center'][-0x11*-0x12f+-0x24b+-0x11d3],_0x1b46ef['center'][0x23cd+-0x8da*0x2+-0x1217]),_0x4fbfbb=new D(_0x1b46ef['halfExtent'+'s'][-0x61*-0x1f+-0x15cf+0xa10],_0x1b46ef['halfExtent'+'s'][0x19e8*-0x1+-0x24c7+-0x2*-0x1f58],_0x1b46ef['halfExtent'+'s'][-0x7f8+0xce2+-0x4e8]);_0x132dca[_0x27fcdb]=new De(_0x3c1cdb,_0x4fbfbb);}else _0x132dca[_0x27fcdb]=_0x4d7783[_0x27fcdb];}}}}}_0x132dca['update']();}['migrate'](_0x337af3){_0x337af3['shader']&&delete _0x337af3['shader'],_0x337af3['mapping_fo'+'rmat']&&(_0x337af3['mappingFor'+'mat']=_0x337af3['mapping_fo'+'rmat'],delete _0x337af3['mapping_fo'+'rmat']);let _0x5b286e;const _0x7912c7=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x5b286e=-0x1ab7+-0x12d9*-0x1+0x7de;_0x5b286e<_0x7912c7['length'];_0x5b286e++){const _0x261ec7=_0x7912c7[_0x5b286e][0x4f*0x62+-0x1e38+0x3*-0x2],_0x44b857=_0x7912c7[_0x5b286e][0x1*0x18a9+0x75e+-0x1003*0x2];_0x337af3[_0x261ec7]!==void(-0x1*-0x19ff+0x1155+-0x2f*0xec)&&(_0x337af3[_0x44b857]===void(0x1*-0x1f29+0x88e*0x1+0x169b)&&(_0x337af3[_0x44b857]=_0x337af3[_0x261ec7]),delete _0x337af3[_0x261ec7]);}const _0x2d3aeb=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x5b286e=-0x22b+-0x1609+0x60d*0x4;_0x5b286e<_0x2d3aeb['length'];_0x5b286e++){const _0x34c4f8=_0x2d3aeb[_0x5b286e];_0x337af3['hasOwnProp'+'erty'](_0x34c4f8)&&delete _0x337af3[_0x34c4f8];}return _0x337af3;}['_validate'](_0x322add){return _0x322add['validated']||(this['_validator']||(this['_validator']=new _k()),this['_validator']['validate'](_0x322add)),_0x322add;}}const Sk={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black','anisotropyMap':'black'};class yk extends Qe{constructor(_0x44b8a1){super(_0x44b8a1,'material'),this['_assets']=_0x44b8a1['assets'],this['_device']=_0x44b8a1['graphicsDe'+'vice'],this['_parser']=new gk();}['load'](_0x106b61,_0x2c1010){typeof _0x106b61=='string'&&(_0x106b61={'load':_0x106b61,'original':_0x106b61}),ot['get'](_0x106b61['load'],{'retry':this['maxRetries']>0xc9+0x190a+-0x19d3,'maxRetries':this['maxRetries']},(_0xe6139a,_0x16dd9b)=>{_0xe6139a?_0x2c1010&&_0x2c1010('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x106b61['original']+'\x20['+_0xe6139a+']'):_0x2c1010&&(_0x16dd9b['_engine']=!(-0x96a*0x3+-0x1ec1*-0x1+-0x283),_0x2c1010(null,_0x16dd9b));});}['open'](_0x34302a,_0x5a4a61){const _0x5e8a30=this['_parser']['parse'](_0x5a4a61);return _0x5a4a61['_engine']&&(_0x5e8a30['_data']=_0x5a4a61,delete _0x5a4a61['_engine']),_0x5e8a30;}['patch'](_0x5055ee,_0x30d8ee){_0x5055ee['resource']['_data']&&(_0x5055ee['_data']=_0x5055ee['resource']['_data'],delete _0x5055ee['resource']['_data']),_0x5055ee['data']['name']=_0x5055ee['name'],_0x5055ee['resource']['name']=_0x5055ee['name'],this['_bindAndAs'+'signAssets'](_0x5055ee,_0x30d8ee),_0x5055ee['off']('unload',this['_onAssetUn'+'load'],this),_0x5055ee['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x5318c4){delete _0x5318c4['data']['parameters'],delete _0x5318c4['data']['chunks'],delete _0x5318c4['data']['name'];}['_assignTex'+'ture'](_0x161a97,_0x48042a,_0x561b9d){_0x48042a['resource'][_0x161a97]=_0x561b9d;}['_getPlaceh'+'olderTextu'+'re'](_0x28486b){const _0x4968ec=Sk[_0x28486b];return w['assert'](_0x4968ec,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x28486b),fa(this['_device'],_0x4968ec);}['_assignPla'+'ceholderTe'+'xture'](_0x13bc06,_0x45512b){_0x45512b['resource'][_0x13bc06]=this['_getPlaceh'+'olderTextu'+'re'](_0x13bc06);}['_onTexture'+'Load'](_0x3e3d45,_0x252982,_0x32aa58){this['_assignTex'+'ture'](_0x3e3d45,_0x252982,_0x32aa58['resource']),_0x252982['resource']['update']();}['_onTexture'+'Add'](_0x32811f,_0x12aaaa,_0x2d35e2){this['_assets']['load'](_0x2d35e2);}['_onTexture'+'RemoveOrUn'+'load'](_0x5da4f0,_0x19ac59,_0x1a64a0){const _0x2f0b22=_0x19ac59['resource'];_0x2f0b22&&_0x19ac59['resource'][_0x5da4f0]===_0x1a64a0['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x5da4f0,_0x19ac59),_0x2f0b22['update']());}['_assignCub'+'emap'](_0x697a9d,_0x3c42e9,_0x14c766){if(_0x3c42e9['resource'][_0x697a9d]=_0x14c766[-0xca2+-0x2663+-0x161*-0x25],_0x697a9d==='cubeMap'){const _0x4e3d31=_0x14c766['slice'](-0x4*-0x2ab+0xc64+-0x170f*0x1);_0x4e3d31['every'](_0x52ec67=>_0x52ec67)?_0x3c42e9['resource']['prefiltere'+'dCubemaps']=_0x4e3d31:_0x4e3d31[-0x10f*0x1f+0x4a*0x29+-0x3*-0x6fd]&&(_0x3c42e9['resource']['envAtlas']=_0x4e3d31[0x1bce+-0x679+-0x1555]);}}['_onCubemap'+'Load'](_0x3959d0,_0x8bd276,_0x30662e){this['_assignCub'+'emap'](_0x3959d0,_0x8bd276,_0x30662e['resources']),this['_parser']['initialize'](_0x8bd276['resource'],_0x8bd276['data']);}['_onCubemap'+'Add'](_0x2ac4c7,_0x29db02,_0x2c21b5){this['_assets']['load'](_0x2c21b5);}['_onCubemap'+'RemoveOrUn'+'load'](_0x24f4c1,_0x28fdfe,_0xaa9bfa){const _0x159bfb=_0x28fdfe['resource'];_0x28fdfe['data']['prefiltere'+'dCubeMap12'+'8']===_0xaa9bfa['resources'][-0x7*0xb+-0x2252+-0x22a0*-0x1]&&(this['_assignCub'+'emap'](_0x24f4c1,_0x28fdfe,[null,null,null,null,null,null,null]),_0x159bfb['update']());}['_bindAndAs'+'signAssets'](_0x4d9f09,_0x40b962){const _0x494a9f=this['_parser']['migrate'](_0x4d9f09['data']),_0x82f9d0=_0x4d9f09['resource'],_0x379852=_0x494a9f['mappingFor'+'mat']==='path',_0x34e765=Cd;let _0x192b7f,_0x3a505c,_0x1aea9a;for(_0x192b7f=0x25*-0xce+0xc*-0x287+0x3c1a;_0x192b7f<_0x34e765['length'];_0x192b7f++){_0x3a505c=_0x34e765[_0x192b7f],_0x1aea9a=_0x82f9d0['_assetRefe'+'rences'][_0x3a505c];const _0x579475=_0x494a9f[_0x3a505c],_0x554e61=_0x82f9d0[_0x3a505c],_0xf6d69=_0x554e61===this['_getPlaceh'+'olderTextu'+'re'](_0x3a505c),_0x185a36=_0x494a9f['validated'];_0x579475&&(!_0x554e61||!_0x185a36||_0xf6d69)?(_0x1aea9a||(_0x1aea9a=new gl(_0x3a505c,_0x4d9f09,_0x40b962,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x82f9d0['_assetRefe'+'rences'][_0x3a505c]=_0x1aea9a),_0x379852?_0x1aea9a['url']=_0x4d9f09['getAbsolut'+'eUrl'](_0x579475):_0x1aea9a['id']=_0x579475,_0x1aea9a['asset']&&(_0x1aea9a['asset']['resource']?this['_assignTex'+'ture'](_0x3a505c,_0x4d9f09,_0x1aea9a['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x3a505c,_0x4d9f09),_0x40b962['load'](_0x1aea9a['asset']))):_0x1aea9a&&(_0x379852?_0x1aea9a['url']=null:_0x1aea9a['id']=null);}const _0x47b0f3=fm;for(_0x192b7f=0x159b+-0xeb3+-0x6e8;_0x192b7f<_0x47b0f3['length'];_0x192b7f++)_0x3a505c=_0x47b0f3[_0x192b7f],_0x1aea9a=_0x82f9d0['_assetRefe'+'rences'][_0x3a505c],_0x494a9f[_0x3a505c]&&!_0x4d9f09['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x1aea9a||(_0x1aea9a=new gl(_0x3a505c,_0x4d9f09,_0x40b962,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x82f9d0['_assetRefe'+'rences'][_0x3a505c]=_0x1aea9a),_0x379852?_0x1aea9a['url']=_0x494a9f[_0x3a505c]:_0x1aea9a['id']=_0x494a9f[_0x3a505c],_0x1aea9a['asset']&&(_0x1aea9a['asset']['loaded']&&this['_assignCub'+'emap'](_0x3a505c,_0x4d9f09,_0x1aea9a['asset']['resources']),_0x40b962['load'](_0x1aea9a['asset'])));this['_parser']['initialize'](_0x82f9d0,_0x494a9f);}}class vk{constructor(_0x2a90d5){this['_device']=_0x2a90d5['device'],this['_defaultMa'+'terial']=_0x2a90d5['defaultMat'+'erial'],this['_assets']=_0x2a90d5['assets'];}['parse'](_0x38d1dc,_0x49bdf3,_0x7ec46d){kh['parse']('filename.g'+'lb','',_0x38d1dc,this['_device'],this['_assets'],(_0x7ec46d==null?void(0xb39+0x26f*0xe+0xf19*-0x3):_0x7ec46d['options'])??{},(_0x3e74a5,_0x5473ee)=>{if(_0x3e74a5)_0x49bdf3(_0x3e74a5);else{const _0x182ed1=yr['createMode'+'l'](_0x5473ee,this['_defaultMa'+'terial']);_0x5473ee['destroy'](),_0x49bdf3(null,_0x182ed1);}});}}const xk={'points':cd,'lines':hd,'lineloop':_y,'linestrip':gy,'triangles':js,'trianglestrip':Er,'trianglefan':oa},Tk={'int8':dd,'uint8':la,'int16':fd,'uint16':Ml,'int32':Ty,'uint32':el,'float32':Ve};class wk{constructor(_0x2c5cda){this['_device']=_0x2c5cda['device'],this['_defaultMa'+'terial']=_0x2c5cda['defaultMat'+'erial'];}['parse'](_0x49eea6,_0x23782c){const _0x309e60=_0x49eea6['model'];if(!_0x309e60){_0x23782c(null,null);return;}if(_0x309e60['version']<=-0x23fe+0xd9*-0x9+0x2ba0){_0x23782c('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x19d7bc=this['_parseNode'+'s'](_0x49eea6),_0x53d1cb=this['_parseSkin'+'s'](_0x49eea6,_0x19d7bc),_0x411376=this['_parseVert'+'exBuffers'](_0x49eea6),_0x1d0b4b=this['_parseInde'+'xBuffers'](_0x49eea6,_0x411376),_0x239dfa=this['_parseMorp'+'hs'](_0x49eea6,_0x19d7bc,_0x411376),_0xc56883=this['_parseMesh'+'es'](_0x49eea6,_0x53d1cb['skins'],_0x239dfa['morphs'],_0x411376,_0x1d0b4b['buffer'],_0x1d0b4b['data']),_0x1f8abd=this['_parseMesh'+'Instances'](_0x49eea6,_0x19d7bc,_0xc56883,_0x53d1cb['skins'],_0x53d1cb['instances'],_0x239dfa['morphs'],_0x239dfa['instances']),_0x350116=new sr();_0x350116['graph']=_0x19d7bc[0xce9+-0xeff+0x216],_0x350116['meshInstan'+'ces']=_0x1f8abd,_0x350116['skinInstan'+'ces']=_0x53d1cb['instances'],_0x350116['morphInsta'+'nces']=_0x239dfa['instances'],_0x350116['getGraph']()['syncHierar'+'chy'](),_0x23782c(null,_0x350116);}['_parseNode'+'s'](_0x2e2ea2){const _0x2d3724=_0x2e2ea2['model'],_0x242c70=[];let _0xffb322;for(_0xffb322=0x1e5c+-0x1*-0x1b49+-0x1*0x39a5;_0xffb322<_0x2d3724['nodes']['length'];_0xffb322++){const _0x46d159=_0x2d3724['nodes'][_0xffb322],_0xf6c17c=new Ie(_0x46d159['name']);_0xf6c17c['setLocalPo'+'sition'](_0x46d159['position'][-0xb8f*-0x3+0x269*-0x3+0x2*-0xdb9],_0x46d159['position'][-0x1c57*0x1+-0x1f64+0xeef*0x4],_0x46d159['position'][-0x2085+0x21e7+0x2c*-0x8]),_0xf6c17c['setLocalEu'+'lerAngles'](_0x46d159['rotation'][0x668+-0x1*0x5ff+0x23*-0x3],_0x46d159['rotation'][0x3dd*-0x9+0x841+0x1a85],_0x46d159['rotation'][0x26a6+-0x1bf5*0x1+0x1*-0xaaf]),_0xf6c17c['setLocalSc'+'ale'](_0x46d159['scale'][0x2*-0x1304+-0xad5+0x30dd],_0x46d159['scale'][0x48e*-0x7+-0x1*0x1b25+-0x8*-0x761],_0x46d159['scale'][0x1b7*0xf+0x305*-0x6+-0x799]),_0xf6c17c['scaleCompe'+'nsation']=!!_0x46d159['scaleCompe'+'nsation'],_0x242c70['push'](_0xf6c17c);}for(_0xffb322=0xa71+0x24d7+-0x2f47;_0xffb322<_0x2d3724['parents']['length'];_0xffb322++)_0x242c70[_0x2d3724['parents'][_0xffb322]]['addChild'](_0x242c70[_0xffb322]);return _0x242c70;}['_parseSkin'+'s'](_0x2ce3fa,_0x1ebdf0){const _0x59a6fa=_0x2ce3fa['model'],_0x1e5a28=[],_0x2b6677=[];let _0x47dc81,_0x1a8e55;for(_0x47dc81=0x10*-0x191+0x6*0x225+0x1be*0x7;_0x47dc81<_0x59a6fa['skins']['length'];_0x47dc81++){const _0x4ce0aa=_0x59a6fa['skins'][_0x47dc81],_0x597425=[];for(_0x1a8e55=0xa72*-0x1+-0x1b4d+0xc95*0x3;_0x1a8e55<_0x4ce0aa['inverseBin'+'dMatrices']['length'];_0x1a8e55++){const _0x46b730=_0x4ce0aa['inverseBin'+'dMatrices'][_0x1a8e55];_0x597425[_0x1a8e55]=new te()['set'](_0x46b730);}const _0x46f6b6=new Lv(this['_device'],_0x597425,_0x4ce0aa['boneNames']);_0x1e5a28['push'](_0x46f6b6);const _0x4baafe=new Ol(_0x46f6b6),_0xed6f92=[];for(_0x1a8e55=0x1*0x2237+-0x39a*0x6+-0x1cd*0x7;_0x1a8e55<_0x46f6b6['boneNames']['length'];_0x1a8e55++){const _0x3974d1=_0x46f6b6['boneNames'][_0x1a8e55],_0x3ab134=_0x1ebdf0[-0x217f+-0xca0+-0x1*-0x2e1f]['findByName'](_0x3974d1);_0xed6f92['push'](_0x3ab134);}_0x4baafe['bones']=_0xed6f92,_0x2b6677['push'](_0x4baafe);}return{'skins':_0x1e5a28,'instances':_0x2b6677};}['_getMorphV'+'ertexCount'](_0x218e3c,_0x521c9d,_0xf07991){for(let _0x2f23da=0x1*0xb55+0x13d5*-0x1+0x880;_0x2f23da<_0x218e3c['meshes']['length'];_0x2f23da++){const _0x4310c6=_0x218e3c['meshes'][_0x2f23da];if(_0x4310c6['morph']===_0x521c9d)return _0xf07991[_0x4310c6['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x44e5b8,_0x8c0e0,_0x4c7f77){const _0x2117bf=_0x44e5b8['model'],_0x5d5da1=[],_0x2a99b8=[];let _0x5e80b5,_0x56f209,_0x3638a3,_0x583fe4,_0x337624,_0xea526f;if(_0x2117bf['morphs']){const _0x55856=function(_0x184ea8,_0x198e89,_0x539643){const _0x3d8dbb=new Float32Array(_0x539643*(0x24ae+0x25e1+-0x4a8c));for(let _0x17739b=-0x32c*0x8+-0x8*-0x2e3+-0x92*-0x4;_0x17739b<_0x198e89['length'];_0x17739b++){const _0x212218=_0x198e89[_0x17739b]*(-0x7fc+-0x11*0x5+-0x29*-0x34);_0x3d8dbb[_0x212218]=_0x184ea8[_0x17739b*(0x1*-0x1cc9+0x11*0x9+0x1*0x1c33)],_0x3d8dbb[_0x212218+(0x1e1c+-0xb13+0xcb*-0x18)]=_0x184ea8[_0x17739b*(0x1721+0x841+-0x1f5f)+(-0x7ee+-0x11*0xe+0x8dd)],_0x3d8dbb[_0x212218+(-0x8c7+-0x2180*0x1+0x2a49)]=_0x184ea8[_0x17739b*(0x111b*0x2+0x56e*-0x2+-0x19*0xef)+(0x2569+-0xe7f+-0x1*0x16e8)];}return _0x3d8dbb;};for(_0x5e80b5=0x1*-0x2351+0x1d0e*-0x1+0x405f;_0x5e80b5<_0x2117bf['morphs']['length'];_0x5e80b5++){for(_0x583fe4=_0x2117bf['morphs'][_0x5e80b5]['targets'],_0xea526f=[],_0x3638a3=this['_getMorphV'+'ertexCount'](_0x2117bf,_0x5e80b5,_0x4c7f77),_0x56f209=-0x24f1+-0x18cb+0x3dbc;_0x56f209<_0x583fe4['length'];_0x56f209++){const _0x22f08f=_0x583fe4[_0x56f209]['aabb'],_0x23a0fa=_0x22f08f['min'],_0x3e2916=_0x22f08f['max'],_0x3927fe=new De(new D((_0x3e2916[-0x3*0x9a7+-0x63*-0x25+0xea6]+_0x23a0fa[-0xa55+0x31a*0x1+0x73b])*(0xd5*0x1d+-0x2*0x7a0+-0x8e1+0.5),(_0x3e2916[0x9e0+0x93a*-0x3+0x11cf]+_0x23a0fa[0x2*0x8ba+-0x6*0x539+0xed*0xf])*(-0xbfe+0x1*-0xedd+-0x5*-0x55f+0.5),(_0x3e2916[0x41*0x1+-0x434*0x4+0x1091]+_0x23a0fa[0x2614+0xa93+-0x30a5])*(-0x1*-0x1a51+-0x239*-0x1+0x119*-0x1a+0.5)),new D((_0x3e2916[0x1c*0xc7+0x138d+-0x1*0x2951]-_0x23a0fa[0x253+-0x23f9+0x21a6])*(-0x1*0x1b69+-0x36c+-0x1ed5*-0x1+0.5),(_0x3e2916[0x20a4*-0x1+-0x2*-0x1d3+0x23b*0xd]-_0x23a0fa[-0x6c+0x1e47+-0x1dda])*(-0x1*-0x1e57+0x1*-0x223b+0x1*0x3e4+0.5),(_0x3e2916[-0x32*-0x3d+-0x1475+0x88d]-_0x23a0fa[0xc2b*0x2+-0x11ab+-0xb*0x9b])*(-0x1a9b+-0x219+0x1cb4+0.5))),_0xb2825=_0x583fe4[_0x56f209]['indices'];let _0x2cc73a=_0x583fe4[_0x56f209]['deltaPosit'+'ions'],_0x37141e=_0x583fe4[_0x56f209]['deltaNorma'+'ls'];_0xb2825&&(_0x2cc73a=_0x55856(_0x2cc73a,_0xb2825,_0x3638a3),_0x37141e=_0x55856(_0x37141e,_0xb2825,_0x3638a3)),_0x337624=new Md({'deltaPositions':_0x2cc73a,'deltaNormals':_0x37141e,'name':_0x583fe4[_0x56f209]['name'],'aabb':_0x3927fe}),_0xea526f['push'](_0x337624);}const _0x256325=new mm(_0xea526f,this['_device']);_0x5d5da1['push'](_0x256325);const _0x207239=new xa(_0x256325);_0x2a99b8['push'](_0x207239);}}return{'morphs':_0x5d5da1,'instances':_0x2a99b8};}['_parseVert'+'exBuffers'](_0x1e8ab1){const _0xd54fad=_0x1e8ab1['model'],_0x18cbe5=[],_0xf0f4d4={'position':Me,'normal':gs,'tangent':yi,'blendWeight':gi,'blendIndices':us,'color':Wt,'texCoord0':is,'texCoord1':ba,'texCoord2':wl,'texCoord3':El,'texCoord4':bl,'texCoord5':Al,'texCoord6':Cl,'texCoord7':Pl};for(let _0xe8873c=0x692+-0x21*-0x9a+-0x1a6c;_0xe8873c<_0xd54fad['vertices']['length'];_0xe8873c++){const _0x5b171d=_0xd54fad['vertices'][_0xe8873c],_0x393d5f=[];for(const _0x5bd878 in _0x5b171d){const _0x426869=_0x5b171d[_0x5bd878];_0x393d5f['push']({'semantic':_0xf0f4d4[_0x5bd878],'components':_0x426869['components'],'type':Tk[_0x426869['type']],'normalize':_0xf0f4d4[_0x5bd878]===Wt});}const _0xfd433d=new kt(this['_device'],_0x393d5f),_0x3cf8b0=_0x5b171d['position']['data']['length']/_0x5b171d['position']['components'],_0x480d96=new Is(this['_device'],_0xfd433d,_0x3cf8b0),_0x4edd0b=new Uo(_0x480d96);for(let _0x18bfda=0x2e5*0x7+0x1581+-0x29c4;_0x18bfda<_0x3cf8b0;_0x18bfda++){for(const _0x2a4d34 in _0x5b171d){const _0x531030=_0x5b171d[_0x2a4d34];switch(_0x531030['components']){case-0x4fe*0x6+-0x102f*0x1+-0x2e24*-0x1:_0x4edd0b['element'][_0xf0f4d4[_0x2a4d34]]['set'](_0x531030['data'][_0x18bfda]);break;case-0x1*0x12d9+-0x1*0xeb7+-0x10c9*-0x2:_0x4edd0b['element'][_0xf0f4d4[_0x2a4d34]]['set'](_0x531030['data'][_0x18bfda*(-0x44*0x17+-0x3d*0x22+0xe38)],0x6*0x51a+-0x1*0x739+0x1*-0x1762-_0x531030['data'][_0x18bfda*(-0xdb4+0x9*-0x435+0x3393)+(-0x13*-0xc2+-0x15e0+-0x5*-0x17f)]);break;case-0x409*0x5+0x134e+0x71*0x2:_0x4edd0b['element'][_0xf0f4d4[_0x2a4d34]]['set'](_0x531030['data'][_0x18bfda*(0x1aa*0x4+0xdee+-0x1493)],_0x531030['data'][_0x18bfda*(0x16a7+-0x1527+-0x17d*0x1)+(-0x47f*-0x8+-0x2*-0x1345+-0x4a81)],_0x531030['data'][_0x18bfda*(0x887+0x7b9*0x4+-0x2768)+(0x3f2*-0x3+0x3*0x925+-0x133*0xd)]);break;case-0x1e0f+-0x130e+-0x3121*-0x1:_0x4edd0b['element'][_0xf0f4d4[_0x2a4d34]]['set'](_0x531030['data'][_0x18bfda*(0x18da+-0x54a*-0x1+0xf10*-0x2)],_0x531030['data'][_0x18bfda*(0x37*0x8b+0x1d7b+0xed5*-0x4)+(-0x373+-0x1*-0x1dd5+-0x1a61)],_0x531030['data'][_0x18bfda*(0x9ee*-0x3+0x1102+0xccc)+(0x9ea+0x1*-0xccc+0x2e4)],_0x531030['data'][_0x18bfda*(0x1d1d+-0x51*-0x75+0x6*-0xb05)+(-0x26*-0x1+0x959+0x1*-0x97c)]);break;}}_0x4edd0b['next']();}_0x4edd0b['end'](),_0x18cbe5['push'](_0x480d96);}return _0x18cbe5;}['_parseInde'+'xBuffers'](_0x3465f8,_0x6aa1f7){const _0x9c4ac=_0x3465f8['model'];let _0x19f833=null,_0x490f0b=null,_0x59e9dd,_0xc4be51=-0x50a+0x15b4+0x1b*-0x9e;for(_0x59e9dd=-0x1747+-0x1*-0xd7f+0x1*0x9c8;_0x59e9dd<_0x9c4ac['meshes']['length'];_0x59e9dd++){const _0xf19f72=_0x9c4ac['meshes'][_0x59e9dd];_0xf19f72['indices']!==void(-0x14d0+-0x14*0x1d3+-0x182*-0x26)&&(_0xc4be51+=_0xf19f72['indices']['length']);}let _0x4b5296=-0xd70+-0xab4+0x1824;for(_0x59e9dd=0xebc+0x1ca8+0xad9*-0x4;_0x59e9dd<_0x6aa1f7['length'];_0x59e9dd++)_0x4b5296=Math['max'](_0x4b5296,_0x6aa1f7[_0x59e9dd]['numVertice'+'s']);return _0xc4be51>-0x16e9+0x22c4+0x25f*-0x5&&(_0x4b5296>0x1*-0x715b+0x156c4+0x1a96?(_0x19f833=new br(this['_device'],wr,_0xc4be51),_0x490f0b=new Uint32Array(_0x19f833['lock']())):(_0x19f833=new br(this['_device'],Yi,_0xc4be51),_0x490f0b=new Uint16Array(_0x19f833['lock']()))),{'buffer':_0x19f833,'data':_0x490f0b};}['_parseMesh'+'es'](_0x13c0d6,_0x578a65,_0x3d126c,_0x5e2033,_0x4dd312,_0xe34e0b){const _0x4d1453=_0x13c0d6['model'],_0x3084a1=[];let _0x2f5023=-0x26cf+-0x1761+-0x14*-0x31c;for(let _0x37e839=0x20ce+-0x7cd*-0x1+-0x289b;_0x37e839<_0x4d1453['meshes']['length'];_0x37e839++){const _0xb58b6c=_0x4d1453['meshes'][_0x37e839],_0x56c485=_0xb58b6c['aabb'],_0x2df3f8=_0x56c485['min'],_0x15af57=_0x56c485['max'],_0x20af59=new De(new D((_0x15af57[0x133d+0xddf+0x1a*-0x146]+_0x2df3f8[0x1256+0x1761+-0x29b7])*(0x1218+-0x24da+0x62*0x31+0.5),(_0x15af57[-0x143*-0x13+-0x41a+-0x13de]+_0x2df3f8[0x7d2+-0x17bd+0x3fb*0x4])*(0xbf3*0x1+-0xa5c+-0x197+0.5),(_0x15af57[0x1*0xe9b+-0x560*-0x2+-0x1959]+_0x2df3f8[0x2027+-0x6b2+0x1973*-0x1])*(-0x2b*0x30+0xbe*0x7+0x2*0x16f+0.5)),new D((_0x15af57[-0x1c4b+0x1d55+-0x13*0xe]-_0x2df3f8[0x25f8+0x18b3+-0x3eab*0x1])*(0x492+-0x1*-0x1969+0x1*-0x1dfb+0.5),(_0x15af57[-0xa8f+0x3*-0xb19+0x2bdb]-_0x2df3f8[0x35e+0x9*0x35b+-0x2190])*(0x14ae+0x2d6*-0x6+0x2*-0x1d5+0.5),(_0x15af57[0x1*-0x81f+-0x1*-0x1a0b+-0x11ea]-_0x2df3f8[0x8e6+-0x8a*0x4+-0x6bc])*(0x3*-0x847+-0x224a+-0x3f1*-0xf+0.5))),_0x4ef7c6=_0xb58b6c['indices']!==void(-0x12e4+0x3*-0x97c+0x2f58),_0x443349=new Ge(this['_device']);_0x443349['vertexBuff'+'er']=_0x5e2033[_0xb58b6c['vertices']],_0x443349['indexBuffe'+'r'][-0x1f3f+0xd46*-0x1+0x2c85]=_0x4ef7c6?_0x4dd312:null,_0x443349['primitive'][0x235e+0x8fb+-0x2c59*0x1]['type']=xk[_0xb58b6c['type']],_0x443349['primitive'][0x242c+-0xe16+-0x1616]['base']=_0x4ef7c6?_0xb58b6c['base']+_0x2f5023:_0xb58b6c['base'],_0x443349['primitive'][-0x6a1*0x4+0x628*0x3+0x80c]['count']=_0xb58b6c['count'],_0x443349['primitive'][-0xea4+-0x1*-0x19b5+0x1*-0xb11]['indexed']=_0x4ef7c6,_0x443349['skin']=_0xb58b6c['skin']!==void(0x77*0x4d+-0x24bf+0xf4)?_0x578a65[_0xb58b6c['skin']]:null,_0x443349['morph']=_0xb58b6c['morph']!==void(-0x12ba*-0x1+-0xda5+-0x515)?_0x3d126c[_0xb58b6c['morph']]:null,_0x443349['aabb']=_0x20af59,_0x4ef7c6&&(_0xe34e0b['set'](_0xb58b6c['indices'],_0x2f5023),_0x2f5023+=_0xb58b6c['indices']['length']),_0x3084a1['push'](_0x443349);}return _0x4dd312!==null&&_0x4dd312['unlock'](),_0x3084a1;}['_parseMesh'+'Instances'](_0x5ad9aa,_0x35daad,_0x45fc86,_0x203061,_0x8b87b2,_0x961cf6,_0x310dc0){const _0x156432=_0x5ad9aa['model'],_0x384f09=[];let _0x3049d9;for(_0x3049d9=0x665*-0x3+-0x18b+-0xe*-0x17b;_0x3049d9<_0x156432['meshInstan'+'ces']['length'];_0x3049d9++){const _0x439611=_0x156432['meshInstan'+'ces'][_0x3049d9],_0x38412b=_0x35daad[_0x439611['node']],_0x58386d=_0x45fc86[_0x439611['mesh']],_0x4318a1=new He(_0x58386d,this['_defaultMa'+'terial'],_0x38412b);if(_0x58386d['skin']){const _0x2aa393=_0x203061['indexOf'](_0x58386d['skin']);if(_0x2aa393===-(0x2561+-0x1aac+-0x224*0x5))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x4318a1['skinInstan'+'ce']=_0x8b87b2[_0x2aa393];}if(_0x58386d['morph']){const _0xd6f224=_0x961cf6['indexOf'](_0x58386d['morph']);if(_0xd6f224===-(-0x349+0x2e*-0xb9+0xe*0x29c))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x4318a1['morphInsta'+'nce']=_0x310dc0[_0xd6f224];}_0x384f09['push'](_0x4318a1);}return _0x384f09;}}class Ek extends Qe{constructor(_0x50081f){super(_0x50081f,'model'),this['_parsers']=[],this['device']=_0x50081f['graphicsDe'+'vice'],this['assets']=_0x50081f['assets'],this['defaultMat'+'erial']=Qn(this['device']),this['addParser'](new wk(this),(_0x403bd2,_0x23b673)=>xe['getExtensi'+'on'](_0x403bd2)==='.json'),this['addParser'](new vk(this),(_0x4d78e8,_0x312b88)=>xe['getExtensi'+'on'](_0x4d78e8)==='.glb');}['load'](_0x128b47,_0x59d455,_0x5c26ff){typeof _0x128b47=='string'&&(_0x128b47={'load':_0x128b47,'original':_0x128b47});const _0x1d61e0={'retry':this['maxRetries']>0x1ea4+-0xc7f+-0x1225,'maxRetries':this['maxRetries']};(_0x128b47['load']['startsWith']('blob:')||_0x128b47['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x128b47['original'])['toLowerCas'+'e']()==='.glb'?_0x1d61e0['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x1d61e0['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x128b47['load'],_0x1d61e0,(_0x41863b,_0x4f3fe5)=>{if(_0x59d455){if(_0x41863b)_0x59d455('Error\x20load'+'ing\x20model:'+'\x20'+_0x128b47['original']+'\x20['+_0x41863b+']');else{for(let _0x46dcab=-0x17*-0xd5+-0x1824+0x1ab*0x3;_0x46dcab<this['_parsers']['length'];_0x46dcab++){const _0x4ac37f=this['_parsers'][_0x46dcab];if(_0x4ac37f['decider'](_0x128b47['original'],_0x4f3fe5)){_0x4ac37f['parser']['parse'](_0x4f3fe5,(_0x10ec78,_0x4d730b)=>{_0x10ec78?_0x59d455(_0x10ec78):_0x59d455(null,_0x4d730b);},_0x5c26ff);return;}}_0x59d455('No\x20parsers'+'\x20found');}}});}['open'](_0x269367,_0x35e767){return _0x35e767;}['patch'](_0xfe175e,_0x51b9f0){if(!_0xfe175e['resource'])return;const _0x508125=_0xfe175e['data'],_0x2a857f=this;_0xfe175e['resource']['meshInstan'+'ces']['forEach']((_0x4ce769,_0x37c12b)=>{if(_0x508125['mapping']){const _0x286f86=function(_0x4d57cf){_0x4d57cf['resource']?_0x4ce769['material']=_0x4d57cf['resource']:(_0x4d57cf['once']('load',_0x286f86),_0x51b9f0['load'](_0x4d57cf)),_0x4d57cf['once']('remove',_0x49554a=>{_0x4ce769['material']===_0x49554a['resource']&&(_0x4ce769['material']=_0x2a857f['defaultMat'+'erial']);});};if(!_0x508125['mapping'][_0x37c12b]){_0x4ce769['material']=_0x2a857f['defaultMat'+'erial'];return;}const _0x564b5f=_0x508125['mapping'][_0x37c12b]['material'],_0x411ed4=_0x508125['mapping'][_0x37c12b]['path'];let _0x209ab7;if(_0x564b5f!==void(0x5*0x4b5+-0x61*-0x18+-0x1*0x20a1))_0x564b5f?(_0x209ab7=_0x51b9f0['get'](_0x564b5f),_0x209ab7?_0x286f86(_0x209ab7):_0x51b9f0['once']('add:'+_0x564b5f,_0x286f86)):_0x4ce769['material']=_0x2a857f['defaultMat'+'erial'];else{if(_0x411ed4){const _0xf7a939=_0xfe175e['getAbsolut'+'eUrl'](_0x508125['mapping'][_0x37c12b]['path']);_0x209ab7=_0x51b9f0['getByUrl'](_0xf7a939),_0x209ab7?_0x286f86(_0x209ab7):_0x51b9f0['once']('add:url:'+_0xf7a939,_0x286f86);}}}});}['addParser'](_0xd20d71,_0x1a550a){this['_parsers']['push']({'parser':_0xd20d71,'decider':_0x1a550a});}}class bk extends Qe{constructor(_0x3911f8){super(_0x3911f8,'scene');}['load'](_0xb9b662,_0x286151){E0['load'](_0xb9b662,this['maxRetries'],_0x286151);}['open'](_0x57fa52,_0x550c5c){this['_app']['systems']['script']['preloading']=!(0xd*-0x273+-0x8d5+0x28ac);const _0x3c1ccd=new bm(this['_app'],!(-0x19d+-0xb*-0xdf+-0x7f7))['parse'](_0x550c5c),_0x298e4d=this['_app']['scene'];return _0x298e4d['root']=_0x3c1ccd,this['_app']['applyScene'+'Settings'](_0x550c5c['settings']),this['_app']['systems']['script']['preloading']=!(-0x4a5*-0x5+0x14*-0x9d+-0xaf4),_0x298e4d;}}const qh=class qh{static['push'](_0x5d5137){qh['_types']['push'](_0x5d5137);}};h(qh,'_types',[]);let aa=qh;const Ak=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),Ck={};Sl['reservedNa'+'mes']['forEach']((_0x11f2e3,_0x336f51,_0x219438)=>{Ck[_0x11f2e3]=0x1d89+-0x1630+-0x758;});function Pk(_0x7afa5d,_0x1dd5e0,_0x1bccc2){if(typeof _0x7afa5d!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x7afa5d+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x7afa5d['prototype']instanceof ts))throw new Error('script\x20cla'+'ss:\x20\x27'+Wo['__getScrip'+'tName'](_0x7afa5d)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x1dd5e0=_0x1dd5e0||_0x7afa5d['__name']||Wo['__getScrip'+'tName'](_0x7afa5d),Ak['has'](_0x1dd5e0))throw new Error('script\x20nam'+'e:\x20\x27'+_0x1dd5e0+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x7afa5d['__name']=_0x1dd5e0,Ks['getApplica'+'tion']()['scripts']['add'](_0x7afa5d),aa['push'](_0x7afa5d);}const Mk=_0x43394f=>_0x43394f[0x3b*-0x8+-0x1*0x4ca+0x6a2]['toLowerCas'+'e']()+_0x43394f['substring'](-0xaf2+0xc5e+-0x16b*0x1);class Dk extends Qe{constructor(_0x3e8147){super(_0x3e8147,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x512bfd in this['_cache']){const _0x262e19=this['_cache'][_0x512bfd],_0x280079=_0x262e19['parentNode'];_0x280079&&_0x280079['removeChil'+'d'](_0x262e19);}this['_cache']={};}['load'](_0x49d37a,_0x215291){typeof _0x49d37a=='string'&&(_0x49d37a={'load':_0x49d37a,'original':_0x49d37a});const _0x62cd6f=this;this['_app'];const _0x2b94b4=(_0x49d37a['load'],(_0x3292e4,_0x1882a9,_0x1a8775)=>{if(_0x3292e4)_0x215291(_0x3292e4);else{const _0xd20341={};for(let _0x260c5a=0xc52+0x26*-0x1d+-0x804;_0x260c5a<aa['_types']['length'];_0x260c5a++)_0xd20341[aa['_types'][_0x260c5a]['name']]=aa['_types'][_0x260c5a];aa['_types']['length']=0x1*0x1279+-0x1*-0x1f6e+-0x19*0x1ff,_0x215291(null,_0xd20341,_0x1a8775);const _0x3aa199=_0x1882a9['split']('&hash=')[-0xbdf*0x3+-0x15e5+0x3982*0x1];delete _0x62cd6f['_loader']['_cache'][Cn['makeKey'](_0x3aa199,'script')];}}),[_0x144a06]=_0x49d37a['load']['split']('?');_0x144a06['endsWith']('.mjs')?this['_loadModul'+'e'](_0x144a06,_0x2b94b4):this['_loadScrip'+'t'](_0x49d37a['load'],_0x2b94b4);}['open'](_0xa71f0d,_0x5757dc){return _0x5757dc;}['patch'](_0x62edb6,_0x243e2f){}['_loadScrip'+'t'](_0x337bfb,_0x1a22d3){const _0x1d36e4=document['head'],_0x1963dd=document['createElem'+'ent']('script');this['_cache'][_0x337bfb]=_0x1963dd,_0x1963dd['async']=!(-0x2*0x718+0x201d+0x47b*-0x4),_0x1963dd['addEventLi'+'stener']('error',_0x1ee926=>{_0x1a22d3('Script:\x20'+_0x1ee926['target']['src']+('\x20failed\x20to'+'\x20load'));},!(0x127d*0x2+0xd53+-0x324c));let _0x3d981b=!(-0xb64+0x5*0x479+-0xaf8);_0x1963dd['onload']=_0x1963dd['onreadysta'+'techange']=function(){!_0x3d981b&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x3d981b=!(0x1*-0x1299+0x1*0x1123+-0x11*-0x16),_0x1a22d3(null,_0x337bfb,_0x1963dd));},_0x1963dd['src']=_0x337bfb,_0x1d36e4['appendChil'+'d'](_0x1963dd);}['_loadModul'+'e'](_0x26c9c0,_0x4a532b){const _0x4639d6=Ae['browser']&&window['location']['origin']!=='null'?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x313274=new URL(_0x26c9c0,_0x4639d6);import(_0x313274['toString']())['then'](_0x1874db=>{var _0x4a5181,_0x16cf13;const _0x262264=_0x313274['pathname']['split']('/')['pop'](),_0x141036=(_0x16cf13=(_0x4a5181=this['_app']['assets']['find'](_0x262264,'script'))==null?void(-0x2a*0xd7+-0x1*0xa7+0x23ed):_0x4a5181['data'])==null?void(0x71a+0xb59+-0x1273*0x1):_0x16cf13['scripts'];for(const _0x58b327 in _0x1874db){const _0xf0c043=_0x1874db[_0x58b327];if(_0xf0c043['prototype']instanceof ts){const _0x8d0184=Mk(_0xf0c043['name']);_0xf0c043['scriptName']||w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0xf0c043['name']+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0xf0c043['name']+('.scriptNam'+'e\x20=\x20\x22')+_0x8d0184+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.'));const _0x22453e=_0xf0c043['scriptName']??_0x8d0184;Pk(_0xf0c043,_0x22453e),_0x141036&&this['_app']['scripts']['addSchema'](_0x22453e,_0x141036[_0x22453e]);}}_0x4a532b(null,_0x26c9c0,null);})['catch'](_0x178edd=>{_0x4a532b(_0x178edd);});}}class Ik extends Qe{constructor(_0x59cf22){super(_0x59cf22,'shader'),h(this,'decoder',null);}['load'](_0x5ca860,_0x927ca6){typeof _0x5ca860=='string'&&(_0x5ca860={'load':_0x5ca860,'original':_0x5ca860}),ot['get'](_0x5ca860['load'],{'retry':this['maxRetries']>0x1db4+-0x2292+-0xe*-0x59,'maxRetries':this['maxRetries']},(_0x4cfa86,_0xff709b)=>{_0x4cfa86?_0x927ca6('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x5ca860['original']+'\x20['+_0x4cfa86+']'):_0x927ca6(null,_0xff709b);});}['openBinary'](_0xf37ea2){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0xf37ea2);}}function Pf(_0x4dce50){const _0x5d2f70=this;_0x5d2f70['resource']&&(_0x5d2f70['resource']['atlas']=_0x4dce50['resource']);}function Mf(_0x2591ce){this['registry']['load'](_0x2591ce);}class Lk extends Qe{constructor(_0x5c4476){super(_0x5c4476,'sprite'),this['_assets']=_0x5c4476['assets'],this['_device']=_0x5c4476['graphicsDe'+'vice'];}['load'](_0x2b2040,_0x4e918e){typeof _0x2b2040=='string'&&(_0x2b2040={'load':_0x2b2040,'original':_0x2b2040}),xe['getExtensi'+'on'](_0x2b2040['original'])==='.json'&&ot['get'](_0x2b2040['load'],{'retry':this['maxRetries']>0x223a+0xcfb+-0x2f35,'maxRetries':this['maxRetries']},(_0x234a41,_0x1c59f8)=>{_0x234a41?_0x4e918e(_0x234a41):_0x4e918e(null,_0x1c59f8);});}['open'](_0x2eda30,_0xc0e8de){const _0x5986ca=new BA(this['_device']);return _0x2eda30&&(_0x5986ca['__data']=_0xc0e8de),_0x5986ca;}['patch'](_0x21a542,_0x450315){const _0x471a09=_0x21a542['resource'];if(_0x471a09['__data']&&(_0x21a542['data']['pixelsPerU'+'nit']=_0x471a09['__data']['pixelsPerU'+'nit'],_0x21a542['data']['renderMode']=_0x471a09['__data']['renderMode'],_0x21a542['data']['frameKeys']=_0x471a09['__data']['frameKeys'],_0x471a09['__data']['textureAtl'+'asAsset'])){const _0x5d7691=_0x450315['getByUrl'](_0x471a09['__data']['textureAtl'+'asAsset']);_0x5d7691?_0x21a542['data']['textureAtl'+'asAsset']=_0x5d7691['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x471a09['__data']['textureAtl'+'asAsset']);}_0x471a09['startUpdat'+'e'](),_0x471a09['renderMode']=_0x21a542['data']['renderMode'],_0x471a09['pixelsPerU'+'nit']=_0x21a542['data']['pixelsPerU'+'nit'],_0x471a09['frameKeys']=_0x21a542['data']['frameKeys'],this['_updateAtl'+'as'](_0x21a542),_0x471a09['endUpdate'](),_0x21a542['off']('change',this['_onAssetCh'+'ange'],this),_0x21a542['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x1bff2d){const _0x59fae8=_0x1bff2d['resource'];if(!_0x1bff2d['data']['textureAtl'+'asAsset']){_0x59fae8['atlas']=null;return;}this['_assets']['off']('load:'+_0x1bff2d['data']['textureAtl'+'asAsset'],Pf,_0x1bff2d),this['_assets']['on']('load:'+_0x1bff2d['data']['textureAtl'+'asAsset'],Pf,_0x1bff2d);const _0x362020=this['_assets']['get'](_0x1bff2d['data']['textureAtl'+'asAsset']);_0x362020&&_0x362020['resource']?_0x59fae8['atlas']=_0x362020['resource']:_0x362020?this['_assets']['load'](_0x362020):(this['_assets']['off']('add:'+_0x1bff2d['data']['textureAtl'+'asAsset'],Mf,_0x1bff2d),this['_assets']['on']('add:'+_0x1bff2d['data']['textureAtl'+'asAsset'],Mf,_0x1bff2d));}['_onAssetCh'+'ange'](_0x1bedb3,_0x522fee,_0x108dc4,_0x167268){_0x522fee==='data'&&_0x108dc4&&_0x108dc4['textureAtl'+'asAsset']&&_0x167268&&_0x108dc4['textureAtl'+'asAsset']!==_0x167268['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x167268['textureAtl'+'asAsset'],Pf,_0x1bedb3),this['_assets']['off']('add:'+_0x167268['textureAtl'+'asAsset'],Mf,_0x1bedb3));}}class vS{constructor(_0x3b69b8,_0x26b3c0){h(this,'_app'),h(this,'_data'),h(this,'_templateR'+'oot',null),(this['_app']=_0x3b69b8,this['_data']=_0x26b3c0);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x3a72cb=new bm(this['_app'],!(-0x2*-0x10d9+0x22e2+0x4c*-0xe7));this['_templateR'+'oot']=_0x3a72cb['parse'](this['_data']);}}class Rk extends Qe{constructor(_0x23e74b){super(_0x23e74b,'template'),h(this,'decoder',null);}['load'](_0x51a462,_0x4ba275){typeof _0x51a462=='string'&&(_0x51a462={'load':_0x51a462,'original':_0x51a462});const _0xbb7644={'retry':this['maxRetries']>-0x1e0e*-0x1+0x22*0x5d+-0xa9a*0x4,'maxRetries':this['maxRetries']};ot['get'](_0x51a462['load'],_0xbb7644,(_0x1de543,_0x3e0b68)=>{_0x1de543?_0x4ba275('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x51a462['original']):_0x4ba275(_0x1de543,_0x3e0b68);});}['open'](_0x2c66f5,_0x1d203a){return new vS(this['_app'],_0x1d203a);}['openBinary'](_0x22e2ae){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new vS(this['_app'],JSON['parse'](this['decoder']['decode'](_0x22e2ae)));}}class Ok extends Qe{constructor(_0x367fe1){super(_0x367fe1,'text'),h(this,'decoder',null);}['load'](_0x72d709,_0x28b7b1){typeof _0x72d709=='string'&&(_0x72d709={'load':_0x72d709,'original':_0x72d709}),ot['get'](_0x72d709['load'],{'retry':this['maxRetries']>-0x1*-0x26c3+0x4f*0x31+-0x1af1*0x2,'maxRetries':this['maxRetries']},(_0x20f04e,_0x1de342)=>{_0x20f04e?_0x28b7b1('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x72d709['original']+'\x20['+_0x20f04e+']'):_0x28b7b1(null,_0x1de342);});}['openBinary'](_0x1a2d68){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x1a2d68);}}const Ic={'repeat':yt,'clamp':ue,'mirror':ip},Lc={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},Fk=/^data\.frames\.(\d+)$/;class Nk extends Qe{constructor(_0x306630){super(_0x306630,'textureatl'+'as'),this['_loader']=_0x306630['loader'];}['load'](_0x3c988b,_0x3ccd30){typeof _0x3c988b=='string'&&(_0x3c988b={'load':_0x3c988b,'original':_0x3c988b});const _0x4e1c34=this,_0x381d80=this['_loader']['getHandler']('texture');xe['getExtensi'+'on'](_0x3c988b['original'])==='.json'?ot['get'](_0x3c988b['load'],{'retry':this['maxRetries']>-0xdf0+0x1085*0x1+0x295*-0x1,'maxRetries':this['maxRetries']},(_0x51c12e,_0x5e250c)=>{if(_0x51c12e)_0x3ccd30(_0x51c12e);else{const _0x41efa0=_0x3c988b['original']['replace']('.json','.png');_0x4e1c34['_loader']['load'](_0x41efa0,'texture',(_0xc2de91,_0x9c0d48)=>{_0xc2de91?_0x3ccd30(_0xc2de91):_0x3ccd30(null,{'data':_0x5e250c,'texture':_0x9c0d48});});}}):_0x381d80['load'](_0x3c988b,_0x3ccd30);}['open'](_0x12a963,_0x49ac06,_0x3660ad){const _0xcda2ad=new zA();if(_0x49ac06['texture']&&_0x49ac06['data'])_0xcda2ad['texture']=_0x49ac06['texture'],_0xcda2ad['__data']=_0x49ac06['data'];else{const _0x2e3b04=this['_loader']['getHandler']('texture')['open'](_0x12a963,_0x49ac06,_0x3660ad);if(!_0x2e3b04)return null;_0xcda2ad['texture']=_0x2e3b04;}return _0xcda2ad;}['patch'](_0x15e2a9,_0x4632da){if(!_0x15e2a9['resource'])return;_0x15e2a9['resource']['__data']&&(_0x15e2a9['resource']['__data']['minfilter']!==void(-0x27*-0x7e+0x268a+-0x39bc)&&(_0x15e2a9['data']['minfilter']=_0x15e2a9['resource']['__data']['minfilter']),_0x15e2a9['resource']['__data']['magfilter']!==void(0x12bf*0x1+-0x177b+-0xca*-0x6)&&(_0x15e2a9['data']['magfilter']=_0x15e2a9['resource']['__data']['magfilter']),_0x15e2a9['resource']['__data']['addressu']!==void(-0x8b6+-0x13b6+0x1c6c)&&(_0x15e2a9['data']['addressu']=_0x15e2a9['resource']['__data']['addressu']),_0x15e2a9['resource']['__data']['addressv']!==void(0x1*0xbe7+-0x530*0x5+-0x1*-0xe09)&&(_0x15e2a9['data']['addressv']=_0x15e2a9['resource']['__data']['addressv']),_0x15e2a9['resource']['__data']['mipmaps']!==void(0x4c3*0x4+0x1*0x4b1+-0x17bd)&&(_0x15e2a9['data']['mipmaps']=_0x15e2a9['resource']['__data']['mipmaps']),_0x15e2a9['resource']['__data']['anisotropy']!==void(0x1c3+-0x1626+0x1463)&&(_0x15e2a9['data']['anisotropy']=_0x15e2a9['resource']['__data']['anisotropy']),_0x15e2a9['resource']['__data']['rgbm']!==void(-0x45e*0x1+-0x5*-0x41d+-0x1033)&&(_0x15e2a9['data']['rgbm']=!!_0x15e2a9['resource']['__data']['rgbm']),_0x15e2a9['data']['frames']=_0x15e2a9['resource']['__data']['frames'],delete _0x15e2a9['resource']['__data']);const _0x4d4857=_0x15e2a9['resource']['texture'];if(_0x4d4857&&(_0x4d4857['name']=_0x15e2a9['name'],_0x15e2a9['data']['hasOwnProp'+'erty']('minfilter')&&_0x4d4857['minFilter']!==Lc[_0x15e2a9['data']['minfilter']]&&(_0x4d4857['minFilter']=Lc[_0x15e2a9['data']['minfilter']]),_0x15e2a9['data']['hasOwnProp'+'erty']('magfilter')&&_0x4d4857['magFilter']!==Lc[_0x15e2a9['data']['magfilter']]&&(_0x4d4857['magFilter']=Lc[_0x15e2a9['data']['magfilter']]),_0x15e2a9['data']['hasOwnProp'+'erty']('addressu')&&_0x4d4857['addressU']!==Ic[_0x15e2a9['data']['addressu']]&&(_0x4d4857['addressU']=Ic[_0x15e2a9['data']['addressu']]),_0x15e2a9['data']['hasOwnProp'+'erty']('addressv')&&_0x4d4857['addressV']!==Ic[_0x15e2a9['data']['addressv']]&&(_0x4d4857['addressV']=Ic[_0x15e2a9['data']['addressv']]),_0x15e2a9['data']['hasOwnProp'+'erty']('mipmaps')&&_0x4d4857['mipmaps']!==_0x15e2a9['data']['mipmaps']&&(_0x4d4857['mipmaps']=_0x15e2a9['data']['mipmaps']),_0x15e2a9['data']['hasOwnProp'+'erty']('anisotropy')&&_0x4d4857['anisotropy']!==_0x15e2a9['data']['anisotropy']&&(_0x4d4857['anisotropy']=_0x15e2a9['data']['anisotropy']),_0x15e2a9['data']['hasOwnProp'+'erty']('rgbm'))){const _0x28aaa4=_0x15e2a9['data']['rgbm']?Zi:Ds;_0x4d4857['type']!==_0x28aaa4&&(_0x4d4857['type']=_0x28aaa4);}_0x15e2a9['resource']['texture']=_0x4d4857;const _0x54f218={};for(const _0x15a83e in _0x15e2a9['data']['frames']){const _0x1a959d=_0x15e2a9['data']['frames'][_0x15a83e];_0x54f218[_0x15a83e]={'rect':new re(_0x1a959d['rect']),'pivot':new J(_0x1a959d['pivot']),'border':new re(_0x1a959d['border'])};}_0x15e2a9['resource']['frames']=_0x54f218,_0x15e2a9['off']('change',this['_onAssetCh'+'ange'],this),_0x15e2a9['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x260753,_0x2cb93d,_0x5e6fc7){let _0x5212b6;if(_0x2cb93d==='data'||_0x2cb93d==='data.frame'+'s'){const _0x4cb501={};for(const _0x353e04 in _0x5e6fc7['frames'])_0x5212b6=_0x5e6fc7['frames'][_0x353e04],_0x4cb501[_0x353e04]={'rect':new re(_0x5212b6['rect']),'pivot':new J(_0x5212b6['pivot']),'border':new re(_0x5212b6['border'])};_0x260753['resource']['frames']=_0x4cb501;}else{const _0x3dd900=_0x2cb93d['match'](Fk);if(_0x3dd900){const _0x4135c9=_0x3dd900[-0x2343+0x332+-0x2*-0x1009];_0x5e6fc7?(_0x260753['resource']['frames'][_0x4135c9]?(_0x5212b6=_0x260753['resource']['frames'][_0x4135c9],_0x5212b6['rect']['set'](_0x5e6fc7['rect'][0x1e50+0x22dd+0x47*-0xeb],_0x5e6fc7['rect'][0x67*-0x4+0x2517+-0x1*0x237a],_0x5e6fc7['rect'][0x4*-0x791+-0xc61+-0xb3*-0x3d],_0x5e6fc7['rect'][-0x58*-0x3+-0x1549+-0x511*-0x4]),_0x5212b6['pivot']['set'](_0x5e6fc7['pivot'][0x5*-0x1ba+-0x32*-0xbe+-0x1c7a],_0x5e6fc7['pivot'][0x25f1+0x2*-0x19+0x1*-0x25be]),_0x5212b6['border']['set'](_0x5e6fc7['border'][0x2459+-0x5*-0x3ac+-0x36b5],_0x5e6fc7['border'][0x20f+0x61*0x24+-0x7*0x23e],_0x5e6fc7['border'][0x98b+-0x5d5*-0x1+-0xf5e],_0x5e6fc7['border'][-0xa*0x29e+-0x430+-0x19*-0x137])):_0x260753['resource']['frames'][_0x4135c9]={'rect':new re(_0x5e6fc7['rect']),'pivot':new J(_0x5e6fc7['pivot']),'border':new re(_0x5e6fc7['border'])},_0x260753['resource']['fire']('set:frame',_0x4135c9,_0x260753['resource']['frames'][_0x4135c9])):_0x260753['resource']['frames'][_0x4135c9]&&(delete _0x260753['resource']['frames'][_0x4135c9],_0x260753['resource']['fire']('remove:fra'+'me',_0x4135c9));}}}}function kk(){const _0x3fd643={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x45998d={'astc':_0x3fd643['cTFASTC_4x'+'4'],'dxt':_0x3fd643['cTFBC1'],'etc1':_0x3fd643['cTFETC1'],'etc2':_0x3fd643['cTFETC1'],'pvr':_0x3fd643['cTFPVRTC1_'+'4_RGB'],'atc':_0x3fd643['cTFATC_RGB'],'none':_0x3fd643['cTFRGB565']},_0x35d0d6={'astc':_0x3fd643['cTFASTC_4x'+'4'],'dxt':_0x3fd643['cTFBC3'],'etc1':_0x3fd643['cTFRGBA444'+'4'],'etc2':_0x3fd643['cTFETC2'],'pvr':_0x3fd643['cTFPVRTC1_'+'4_RGBA'],'atc':_0x3fd643['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x3fd643['cTFRGBA444'+'4']},_0x47e6aa={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x30c7d1=(_0x3f3baa,_0x804239)=>{switch(_0x3f3baa){case _0x3fd643['cTFETC1']:return _0x804239['formats']['etc2']?_0x47e6aa['ETC2_RGB']:_0x47e6aa['ETC1'];case _0x3fd643['cTFETC2']:return _0x47e6aa['ETC2_RGBA'];case _0x3fd643['cTFBC1']:return _0x47e6aa['DXT1'];case _0x3fd643['cTFBC3']:return _0x47e6aa['DXT5'];case _0x3fd643['cTFPVRTC1_'+'4_RGB']:return _0x47e6aa['PVRTC_4BPP'+'_RGB_1'];case _0x3fd643['cTFPVRTC1_'+'4_RGBA']:return _0x47e6aa['PVRTC_4BPP'+'_RGBA_1'];case _0x3fd643['cTFASTC_4x'+'4']:return _0x47e6aa['ASTC_4x4'];case _0x3fd643['cTFATC_RGB']:return _0x47e6aa['ATC_RGB'];case _0x3fd643['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x47e6aa['ATC_RGBA'];case _0x3fd643['cTFRGBA32']:return _0x47e6aa['R8_G8_B8_A'+'8'];case _0x3fd643['cTFRGB565']:return _0x47e6aa['R5_G6_B5'];case _0x3fd643['cTFRGBA444'+'4']:return _0x47e6aa['R4_G4_B4_A'+'4'];}},_0x314441=_0x592fce=>{const _0x13ce20=function(_0x2c2411,_0x132d31){const _0x419327=_0x2c2411*(-0x1bc5+0x2552*-0x1+-0x36d*-0x13+0.00784313725490196)-(0x5cb+0x260e+-0x2bd8),_0x5cb5af=_0x132d31*((-0x1451+0x3*-0x415+0x2092)/(0x7*0x553+-0x4d3*-0x7+-0x460b))-(0x237c+-0x2233+-0x148),_0x865634=Math['sqrt'](0x153b*-0x1+0x15*-0x121+0x2cf1-Math['min'](0xf67+0x1734+-0x269a,_0x419327*_0x419327+_0x5cb5af*_0x5cb5af));return Math['max'](-0x9*0x3a7+0x776+0x1969,Math['min'](-0x8b*0x47+-0xc12+0x339e,Math['floor']((_0x865634+(0x1*0x1b4f+-0x3*-0x685+0x5d*-0x81))*(0x1*-0xcdd+-0x90+0xd6d+0.5)*(0x18f4+0x1350+-0xd1*0x35))));};for(let _0xf2e89b=0x2356+0x31*-0x8b+-0xf*0x95;_0xf2e89b<_0x592fce['length'];_0xf2e89b+=-0x22a5+0xfd4+0x12d5){const _0x1d557a=_0x592fce[_0xf2e89b+(-0x5*0x36d+-0xe05+0x1f29)],_0x27a306=_0x592fce[_0xf2e89b+(0x4ee*0x5+0x52+0xb*-0x245)];_0x592fce[_0xf2e89b+(-0x165b*0x1+-0x5a8*-0x2+-0x1*-0xb0b)]=_0x1d557a,_0x592fce[_0xf2e89b+(-0x25c7+0xb74+0x1a55)]=_0x13ce20(_0x1d557a,_0x27a306),_0x592fce[_0xf2e89b+(0x1585*0x1+0x1425+-0x1*0x29a7)]=-0x487+-0x359*-0x1+0x22d;}return _0x592fce;},_0x2f3e3a=_0x3a7d1a=>{const _0x8893f8=new Uint16Array(_0x3a7d1a['length']/(-0xb+-0x71*0x7+0x326));for(let _0x220a19=-0x33d*-0x8+0x1122+-0x7*0x626;_0x220a19<_0x3a7d1a['length'];_0x220a19+=-0x45c+-0xc88+0x10e8){const _0x35e7f0=_0x3a7d1a[_0x220a19+(0x1ec5+-0x12be*-0x1+-0x3183)],_0x170c51=_0x3a7d1a[_0x220a19+(-0x1e55+0x3fd*0x1+0x1a59)],_0x1ae418=_0x3a7d1a[_0x220a19+(0xd35+0x1364+-0x9*0x39f)];_0x8893f8[_0x220a19/(-0x107e+-0x1c9f+0x2d21)]=(_0x35e7f0&-0x2219+0x4*-0x337+0x2fed)<<0x1c1c+0x6c5*-0x1+-0x154f|(_0x170c51&-0x59f*-0x1+-0x34f+-0xaa*0x2)<<0x1*0x1cc9+0x88f+-0x2555|_0x1ae418>>0x168d+0x23f6+-0x9c*0x60;}return _0x8893f8;},_0x4b3387=(_0x4ada05,_0xcdb428)=>(_0x4ada05&_0x4ada05-(0x1*-0xd49+-0x2b*-0x1d+0x86b*0x1))===-0x13aa*-0x1+0xc6e+-0x2018&&(_0xcdb428&_0xcdb428-(-0x1*-0xb77+0x27e*-0xb+0xff4))===0x12a*0x1f+0x129c+-0x36b2,_0x3ffe1a=()=>typeof performance<'u'?performance['now']():0xb5b+0xe*-0x5c+0x1*-0x653;let _0x485d4d,_0x275196,_0x3f55ab;const _0x400261=(_0x3943b0,_0x16f2d8,_0x582510)=>{if(_0x582510){if(_0x3943b0['formats']['astc'])return'astc';}else{if(_0x16f2d8){if(_0x3943b0['formats']['etc2'])return'etc2';}else{if(_0x3943b0['formats']['etc2'])return'etc2';if(_0x3943b0['formats']['etc1'])return'etc1';}}return(_0x56fc32=>{for(let _0x5dfa4d=0xfe8+0xaa4+-0x1a8c;_0x5dfa4d<_0x56fc32['length'];++_0x5dfa4d){const _0x324962=_0x56fc32[_0x5dfa4d];if(_0x3943b0['formats'][_0x324962])return _0x324962;}return'none';})(_0x16f2d8?_0x3f55ab:_0x275196);},_0x45ce0d=(_0x5ae34a,_0x1fe70c,_0x334bb6)=>{switch(_0x334bb6){case _0x3fd643['cTFETC1']:case _0x3fd643['cTFETC2']:return!(0x17e0+0x67a+-0x1e5a);case _0x3fd643['cTFBC1']:case _0x3fd643['cTFBC3']:return(_0x5ae34a&0xf23*-0x2+-0x1089+0x1769*0x2)===0x1d34+0x1*0x249b+0x41cf*-0x1&&(_0x1fe70c&-0x2436+-0x171*0x2+0x8d*0x47)===0x1276+-0xc*-0x1d3+-0x285a;case _0x3fd643['cTFPVRTC1_'+'4_RGB']:case _0x3fd643['cTFPVRTC1_'+'4_RGBA']:return _0x4b3387(_0x5ae34a,_0x1fe70c);case _0x3fd643['cTFASTC_4x'+'4']:return!(0x1e30+-0x1*-0xdcd+-0x2bfd*0x1);case _0x3fd643['cTFATC_RGB']:case _0x3fd643['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(-0x61*-0x37+-0x5*-0x1a6+-0x1d15);}return!(0xa40+0x82b*0x1+-0x126a);},_0x4edca4=(_0x4d7048,_0x954f68,_0x5cdcb2)=>{if(!_0x485d4d['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x2384b3=_0x3ffe1a(),_0x2d0213=new _0x485d4d['KTX2File'](new Uint8Array(_0x954f68)),_0xf317bc=_0x2d0213['getWidth'](),_0x2793ec=_0x2d0213['getHeight'](),_0xf6d5bc=_0x2d0213['getLevels'](),_0x544913=!!_0x2d0213['getHasAlph'+'a'](),_0x3b1116=_0x2d0213['isUASTC']&&_0x2d0213['isUASTC']();if(!_0xf317bc||!_0x2793ec||!_0xf6d5bc)throw _0x2d0213['close'](),_0x2d0213['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x4d7048+'\x20width='+_0xf317bc+'\x20height='+_0x2793ec+'\x20levels='+_0xf6d5bc);const _0x5c780d=_0x400261(_0x5cdcb2['deviceDeta'+'ils'],_0x544913,_0x3b1116),_0x379b48=!!_0x5cdcb2['isGGGR']&&_0x5c780d==='pvr';let _0xa70ba3;if(_0x379b48?_0xa70ba3=_0x3fd643['cTFRGBA32']:(_0xa70ba3=_0x544913?_0x35d0d6[_0x5c780d]:_0x45998d[_0x5c780d],_0x45ce0d(_0xf317bc,_0x2793ec,_0xa70ba3)||(_0xa70ba3=_0x544913?_0x3fd643['cTFRGBA32']:_0x3fd643['cTFRGB565'])),!_0x2d0213['startTrans'+'coding']())throw _0x2d0213['close'](),_0x2d0213['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x4d7048);let _0x366ce5;const _0x6d4d22=[];for(let _0x12fa7f=0x2598+-0x1d7f+-0x819;_0x12fa7f<_0xf6d5bc;++_0x12fa7f){const _0x25e276=_0x2d0213['getImageTr'+'anscodedSi'+'zeInBytes'](_0x12fa7f,0x5f*0x1+-0x64c+0x5ed,0x728+0x14*0xfc+-0x1ad8,_0xa70ba3),_0x4d5775=new Uint8Array(_0x25e276);if(!_0x2d0213['transcodeI'+'mage'](_0x4d5775,_0x12fa7f,0x1163*-0x2+-0x19cb+0x3c91,-0x999+0x1087+-0x1*0x6ee,_0xa70ba3,0x1b2+-0xc87+0xad5,-(0x6*0x1e4+-0x2687*-0x1+-0x31de),-(-0x2*-0x70a+-0x1f7f*0x1+0x5*0x37c)))throw _0x2d0213['close'](),_0x2d0213['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x4d7048);const _0x23c0e8=_0xa70ba3===_0x3fd643['cTFRGB565']||_0xa70ba3===_0x3fd643['cTFRGBA444'+'4'];_0x6d4d22['push'](_0x23c0e8?new Uint16Array(_0x4d5775['buffer']):_0x4d5775);}if(_0x2d0213['close'](),_0x2d0213['delete'](),_0x379b48){for(_0xa70ba3=_0x3fd643['cTFRGB565'],_0x366ce5=0xffe+-0x21bd*0x1+0x11bf;_0x366ce5<_0x6d4d22['length'];++_0x366ce5)_0x6d4d22[_0x366ce5]=_0x2f3e3a(_0x314441(_0x6d4d22[_0x366ce5]));}return{'format':_0x30c7d1(_0xa70ba3,_0x5cdcb2['deviceDeta'+'ils']),'width':_0xf317bc,'height':_0x2793ec,'levels':_0x6d4d22,'cubemap':!(0x13c7+0x1a*0x61+-0x4f0*0x6),'transcodeTime':_0x3ffe1a()-_0x2384b3,'url':_0x4d7048,'unswizzledGGGR':_0x379b48};},_0x244978=(_0x56159c,_0x6dc351,_0x341617)=>{const _0x11c500=_0x3ffe1a(),_0x4d6c45=new _0x485d4d['BasisFile'](new Uint8Array(_0x6dc351)),_0xb563a5=_0x4d6c45['getImageWi'+'dth'](-0x1da9+0xfa7+0xa3*0x16,0x77d+-0x3*0x882+0x1209),_0x1719f7=_0x4d6c45['getImageHe'+'ight'](0x1*0xbf1+-0x1*-0x14a3+0x22c*-0xf,-0x20df+0xe2+0x1ffd),_0x52bd6a=_0x4d6c45['getNumImag'+'es'](),_0x402c04=_0x4d6c45['getNumLeve'+'ls'](-0x162+-0xdd9*-0x1+0xc77*-0x1),_0x564c5c=!!_0x4d6c45['getHasAlph'+'a'](),_0x487224=_0x4d6c45['isUASTC']&&_0x4d6c45['isUASTC']();if(!_0xb563a5||!_0x1719f7||!_0x52bd6a||!_0x402c04)throw _0x4d6c45['close'](),_0x4d6c45['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x56159c+'\x20width='+_0xb563a5+'\x20height='+_0x1719f7+'\x20images='+_0x52bd6a+'\x20levels='+_0x402c04);const _0x39e6ca=_0x400261(_0x341617['deviceDeta'+'ils'],_0x564c5c,_0x487224),_0x2e92b3=!!_0x341617['isGGGR']&&_0x39e6ca==='pvr';let _0x19f0b5;if(_0x2e92b3?_0x19f0b5=_0x3fd643['cTFRGBA32']:(_0x19f0b5=_0x564c5c?_0x35d0d6[_0x39e6ca]:_0x45998d[_0x39e6ca],_0x45ce0d(_0xb563a5,_0x1719f7,_0x19f0b5)||(_0x19f0b5=_0x564c5c?_0x3fd643['cTFRGBA32']:_0x3fd643['cTFRGB565'])),!_0x4d6c45['startTrans'+'coding']())throw _0x4d6c45['close'](),_0x4d6c45['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x56159c);let _0x563681;const _0x354df6=[];for(let _0xa79e9=-0xcb9+-0x5*0xa1+0x6*0x2a5;_0xa79e9<_0x402c04;++_0xa79e9){const _0x267ab5=_0x4d6c45['getImageTr'+'anscodedSi'+'zeInBytes'](0x9af*-0x1+-0x5*-0xe9+0x522,_0xa79e9,_0x19f0b5),_0x52f9f5=new Uint8Array(_0x267ab5);if(!_0x4d6c45['transcodeI'+'mage'](_0x52f9f5,0x101+-0x9ca*-0x1+-0xacb,_0xa79e9,_0x19f0b5,0xa*0x1ce+0x1a74+0xb2*-0x40,0x12e0+-0xd*0x281+0xdad)){if(_0xa79e9===_0x402c04-(-0x208f+0x389+0x1d07)&&_0x267ab5===_0x354df6[_0xa79e9-(-0x36f*-0x2+0x89b*-0x1+-0x1*-0x1be)]['buffer']['byteLength'])_0x52f9f5['set'](new Uint8Array(_0x354df6[_0xa79e9-(-0x2*0xbf+-0x3*0x3c5+-0xb*-0x12a)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0x56159c);else throw _0x4d6c45['close'](),_0x4d6c45['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x56159c);}const _0x1e0fe8=_0x19f0b5===_0x3fd643['cTFRGB565']||_0x19f0b5===_0x3fd643['cTFRGBA444'+'4'];_0x354df6['push'](_0x1e0fe8?new Uint16Array(_0x52f9f5['buffer']):_0x52f9f5);}if(_0x4d6c45['close'](),_0x4d6c45['delete'](),_0x2e92b3){for(_0x19f0b5=_0x3fd643['cTFRGB565'],_0x563681=-0x2*-0x12a8+0x1*0x1de+-0x272e;_0x563681<_0x354df6['length'];++_0x563681)_0x354df6[_0x563681]=_0x2f3e3a(_0x314441(_0x354df6[_0x563681]));}return{'format':_0x30c7d1(_0x19f0b5,_0x341617['deviceDeta'+'ils']),'width':_0xb563a5,'height':_0x1719f7,'levels':_0x354df6,'cubemap':!(-0x19d8+-0xdbd*0x2+0x3553),'transcodeTime':_0x3ffe1a()-_0x11c500,'url':_0x56159c,'unswizzledGGGR':_0x2e92b3};},_0x5f5a3f=(_0x1b1750,_0x1f1852,_0x34e99c)=>_0x34e99c['isKTX2']?_0x4edca4(_0x1b1750,_0x1f1852,_0x34e99c):_0x244978(_0x1b1750,_0x1f1852,_0x34e99c),_0x207b99=(_0x3d3142,_0x5d2ced,_0x21bc00)=>{try{const _0x413e34=_0x5f5a3f(_0x3d3142,_0x5d2ced,_0x21bc00);_0x413e34['levels']=_0x413e34['levels']['map'](_0x5caf3b=>_0x5caf3b['buffer']),self['postMessag'+'e']({'url':_0x3d3142,'data':_0x413e34},_0x413e34['levels']);}catch(_0x19dbb0){self['postMessag'+'e']({'url':_0x3d3142,'err':_0x19dbb0},null);}},_0xc9a46a=(_0x18ced7,_0x113206)=>{const _0x5334ec=(_0x4e5f34,_0xfa5293)=>(WebAssembly['instantiat'+'e'](_0x18ced7['module'],_0x4e5f34)['then'](_0x170679=>{_0xfa5293(_0x170679);})['catch'](_0x4beb7f=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x4beb7f);}),{});self['BASIS'](_0x18ced7['module']?{'instantiateWasm':_0x5334ec}:null)['then'](_0x27964b=>{_0x27964b['initialize'+'Basis'](),_0x485d4d=_0x27964b,_0x275196=_0x18ced7['rgbPriorit'+'y'],_0x3f55ab=_0x18ced7['rgbaPriori'+'ty'],_0x113206(null);});},_0x1bac29=[];self['onmessage']=_0x5a34c0=>{const _0x544f24=_0x5a34c0['data'];switch(_0x544f24['type']){case'init':_0xc9a46a(_0x544f24['config'],()=>{for(let _0x554591=0x1*-0xee4+0x1f9f+0x1*-0x10bb;_0x554591<_0x1bac29['length'];++_0x554591)_0x207b99(_0x1bac29[_0x554591]['url'],_0x1bac29[_0x554591]['data'],_0x1bac29[_0x554591]['options']);_0x1bac29['length']=-0xa16+0x1946+-0xf30;});break;case'transcode':_0x485d4d?_0x207b99(_0x544f24['url'],_0x544f24['data'],_0x544f24['options']):_0x1bac29['push'](_0x544f24);break;}};}const Uk=_0x406761=>({'astc':!!_0x406761['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x406761['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x406761['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x406761['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x406761['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x406761['extCompres'+'sedTexture'+'PVRTC']}),Bk=(_0x1a13ab,_0x5d725f)=>{const _0x5e5bfa=_0x2cd205=>{const _0xba38e9=['/*\x20basis\x20*'+'/',_0x2cd205,'','('+kk['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0xba38e9],{'type':'applicatio'+'n/javascri'+'pt'});},_0x5eafb=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x38ee02=new WebAssembly['Module'](Uint8Array['of'](-0x2564+0x1e5d+-0x7*-0x101,0xa28+0x1cda+-0x26a1*0x1,0x83*-0x1f+-0x811+0x1861,0x55d+-0x7ef*0x3+0x12dd,-0x1*0x2187+-0x8a5+0x2a2d*0x1,-0x1*0x2285+-0x889*0x2+0x3397,0x218*0xc+0x4d2+-0x1df2,0x1580+-0x1259+0x10d*-0x3));if(_0x38ee02 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x38ee02)instanceof WebAssembly['Instance'];}}catch{}return!(-0x1d32+-0x75e*-0x3+-0x719*-0x1);},_0x3611eb=(_0x123e84,_0x5cb3a9)=>{_0x5d725f(null,{'workerUrl':URL['createObje'+'ctURL'](_0x5e5bfa(_0x123e84)),'module':_0x5cb3a9,'rgbPriority':_0x1a13ab['rgbPriorit'+'y'],'rgbaPriority':_0x1a13ab['rgbaPriori'+'ty']});},_0x5ccb9b={'cache':!(-0x2467+-0x1369+0x37d0),'responseType':'text','retry':_0x1a13ab['maxRetries']>-0x194*-0x16+-0x15f6+-0xcc2,'maxRetries':_0x1a13ab['maxRetries']};if(_0x1a13ab['glueUrl']&&_0x1a13ab['wasmUrl']&&_0x5eafb()){let _0x28ca54=null,_0x38153f=null;ot['get'](_0x1a13ab['glueUrl'],_0x5ccb9b,(_0x2882a2,_0x1c79e3)=>{_0x2882a2?_0x5d725f(_0x2882a2):_0x38153f?_0x3611eb(_0x1c79e3,_0x38153f):_0x28ca54=_0x1c79e3;});const _0x4e037b=fetch(_0x1a13ab['wasmUrl']),_0x5fad49=()=>{_0x4e037b['then'](_0x4725c9=>_0x4725c9['arrayBuffe'+'r']())['then'](_0x2950e2=>WebAssembly['compile'](_0x2950e2))['then'](_0x889240=>{_0x28ca54?_0x3611eb(_0x28ca54,_0x889240):_0x38153f=_0x889240;})['catch'](_0x235c4e=>{_0x5d725f(_0x235c4e,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x4e037b)['then'](_0x338e18=>{_0x28ca54?_0x3611eb(_0x28ca54,_0x338e18):_0x38153f=_0x338e18;})['catch'](_0x4530dc=>{w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x1a13ab['wasmUrl']+'\x20('+_0x4530dc+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x5fad49();}):_0x5fad49();}else ot['get'](_0x1a13ab['fallbackUr'+'l'],_0x5ccb9b,(_0x416ab3,_0x1ed624)=>{_0x416ab3?_0x5d725f(_0x416ab3,null):_0x3611eb(_0x1ed624,null);});};class zk{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x3af1cc,_0x56852e,_0x215d48,_0x4fcefd){if(this['callbacks']['hasOwnProp'+'erty'](_0x3af1cc))this['callbacks'][_0x3af1cc]['push'](_0x215d48);else{this['callbacks'][_0x3af1cc]=[_0x215d48];const _0x540f44={'url':_0x3af1cc,'data':_0x56852e,'options':_0x4fcefd};this['clients']['length']>0x1e4a+-0x236f+0x525?this['clients']['shift']()['run'](_0x540f44):this['queue']['push'](_0x540f44);}}['enqueueCli'+'ent'](_0x46e60d){this['queue']['length']>0xa6*0x11+0x21b+-0xd21?_0x46e60d['run'](this['queue']['shift']()):this['clients']['push'](_0x46e60d);}['handleResp'+'onse'](_0x140721,_0xcfb869,_0x45d578){const _0x162cf5=this['callbacks'][_0x140721];if(_0xcfb869){for(let _0x691c92=-0x3ce*-0x6+0x90d+-0x1fe1;_0x691c92<_0x162cf5['length'];++_0x691c92)_0x162cf5[_0x691c92](_0xcfb869);}else{_0x45d578['format']===Jh||_0x45d578['format']===ed?_0x45d578['levels']=_0x45d578['levels']['map'](_0x464a53=>new Uint16Array(_0x464a53)):_0x45d578['levels']=_0x45d578['levels']['map'](_0x41dc5a=>new Uint8Array(_0x41dc5a));for(let _0x21a319=0xc34+0x183b*0x1+0x3*-0xc25;_0x21a319<_0x162cf5['length'];++_0x21a319)_0x162cf5[_0x21a319](null,_0x45d578);}delete this['callbacks'][_0x140721];}}class Vk{constructor(_0x586dee,_0x44e191,_0x51453f){this['queue']=_0x586dee,this['worker']=new Worker(_0x44e191['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x2e5f6c=>{const _0x58f5e6=_0x2e5f6c['data'];this['queue']['handleResp'+'onse'](_0x58f5e6['url'],_0x58f5e6['err'],_0x58f5e6['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x44e191}),this['eager']=_0x51453f;}['run'](_0x30f8c9){const _0x30b2bc=[];_0x30f8c9['data']instanceof ArrayBuffer&&_0x30b2bc['push'](_0x30f8c9['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x30f8c9['url'],'format':_0x30f8c9['format'],'data':_0x30f8c9['data'],'options':_0x30f8c9['options']},_0x30b2bc),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const Gk=0x959*-0x2+-0x2553+0x2*0x1c03,Hk=['etc2','etc1','astc','dxt','pvr','atc'],Wk=['astc','dxt','etc2','pvr','atc'],$k=0x24cc+0x2*-0xcf2+-0xae3,Xu=new zk();let xS=null,qu=!(-0x4f6+0x23e6+-0x1eef);function Xk(_0x47f8ba){if(!qu){if(!_0x47f8ba)_0x47f8ba=xS||{};else{if(_0x47f8ba['lazyInit']){xS=_0x47f8ba;return;}}if(!_0x47f8ba['glueUrl']||!_0x47f8ba['wasmUrl']||!_0x47f8ba['fallbackUr'+'l']){const _0x5a0a02=YS['getConfig']('BASIS');_0x5a0a02&&(_0x47f8ba={'glueUrl':_0x5a0a02['glueUrl'],'wasmUrl':_0x5a0a02['wasmUrl'],'fallbackUrl':_0x5a0a02['fallbackUr'+'l'],'numWorkers':_0x5a0a02['numWorkers']});}if(_0x47f8ba['glueUrl']||_0x47f8ba['wasmUrl']||_0x47f8ba['fallbackUr'+'l']){qu=!(0x1289+0x2c2+-0x154b);const _0x25ff15=Math['max'](0x22c3*0x1+0x6*0xb0+-0x26e2,Math['min'](-0x3*-0x4e9+-0x1754*0x1+-0x3*-0x2e3,_0x47f8ba['numWorkers']||Gk)),_0x9bda0d=_0x47f8ba['numWorkers']===-0x5*-0xc5+-0x17dd*0x1+0x1405||(_0x47f8ba['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x47f8ba['eagerWorke'+'rs']:!(0x3*0xb08+-0x1dec+-0x32c));_0x47f8ba['rgbPriorit'+'y']=_0x47f8ba['rgbPriorit'+'y']||Hk,_0x47f8ba['rgbaPriori'+'ty']=_0x47f8ba['rgbaPriori'+'ty']||Wk,_0x47f8ba['maxRetries']=_0x47f8ba['hasOwnProp'+'erty']('maxRetries')?_0x47f8ba['maxRetries']:$k,Bk(_0x47f8ba,(_0x3ec650,_0xb1dbc8)=>{if(_0x3ec650)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x3ec650);else{for(let _0x18c736=0x1880+-0x1b46+0x2c6;_0x18c736<_0x25ff15;++_0x18c736)Xu['enqueueCli'+'ent'](new Vk(Xu,_0xb1dbc8,_0x9bda0d));}});}}}let Df=null;function b0(_0x168aef,_0x3c314c,_0xf076db,_0x49ebf3,_0x2dc531){return Xk(),Df||(Df={'formats':Uk(_0x168aef)}),Xu['enqueueJob'](_0x3c314c,_0xf076db,_0x49ebf3,{'deviceDetails':Df,'isGGGR':!!(_0x2dc531!=null&&_0x2dc531['isGGGR']),'isKTX2':!!(_0x2dc531!=null&&_0x2dc531['isKTX2'])}),qu;}class eo{['load'](_0x240c95,_0x2d62aa,_0x499201){throw new Error('not\x20implem'+'ented');}['open'](_0x350b82,_0x164d89,_0x2bb72b){throw new Error('not\x20implem'+'ented');}}class qk extends eo{constructor(_0x37e512,_0x36b4e9){super(),this['device']=_0x36b4e9,this['maxRetries']=-0x1d89*-0x1+-0x2*-0x1233+0x1*-0x41ef;}['load'](_0x500552,_0x24270a,_0x42b980){const _0x1e17ea=this['device'],_0x113652=_0x2dc2f5=>{var _0x149aa0,_0x54ccf7,_0x23095c;b0(_0x1e17ea,_0x500552['load'],_0x2dc2f5,_0x24270a,{'isGGGR':(((_0x23095c=(_0x54ccf7=(_0x149aa0=_0x42b980==null?void(0x1*-0xe8a+-0x2*0x926+0x20d6*0x1):_0x42b980['file'])==null?void(0x2e*0x2b+0x831+-0xfeb):_0x149aa0['variants'])==null?void(0x2628+0x1*0xa55+-0x1*0x307d):_0x54ccf7['basis'])==null?void(0x1be4+0x292+0x1e76*-0x1):_0x23095c['opt'])&0x41*0x3c+-0x2*0x1362+0x1790)!==-0x18e6*-0x1+0x2345+-0x3c2b})||_0x24270a('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x42b980['name']+']('+_0x42b980['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};pe['fetchArray'+'Buffer'](_0x500552['load'],(_0x51a9ff,_0x735508)=>{_0x51a9ff?_0x24270a(_0x51a9ff):_0x113652(_0x735508);},_0x42b980,this['maxRetries']);}['open'](_0x1bed1a,_0x500eeb,_0x3abc02,_0x1f6c9c={}){const _0x4713f1=_0x1f6c9c['srgb']?ld(_0x500eeb['format']):_0x500eeb['format'],_0x26d7cc=new _e(_0x3abc02,{'name':_0x1bed1a,'profilerHint':Pr,'addressU':_0x500eeb['cubemap']?ue:yt,'addressV':_0x500eeb['cubemap']?ue:yt,'width':_0x500eeb['width'],'height':_0x500eeb['height'],'format':_0x4713f1,'cubemap':_0x500eeb['cubemap'],'levels':_0x500eeb['levels'],..._0x1f6c9c});return _0x26d7cc['upload'](),_0x26d7cc;}}const A0=new Uint8Array([-0x1ffd+0x2df+-0x1da7*-0x1,0xae5*0x1+0x1c49+-0x2*0x136f,-0x1*-0x250f+0x6*0x2ab+-0x34c3,0x2449+-0x201b*0x1+-0x3e7,0x25*0x4a+0x18b9+-0x11af*0x2,0x262*0x3+-0x1395+0x1f*0x67,0x1158+0x233+-0x1371,0x1050+0x284+-0x25*0x82,-0x15*0x12d+-0x22e0+0x3b91,-0x18ca+0x1fbd+-0x6f3*0x1,0xd*-0x207+0x104e+0x1*0xa0d,-0xbb8+0x2d7*0x7+-0x81c,-0x1*0x6df+-0x117e*0x1+0x18a6,-0x1*0x1257+0x25*0x47+0x85c,-0x16eb+-0x1241*-0x1+0x4ee,-0x1a89+0x221e+-0x743,0xa91+-0x1f44+0x14b3,-0x1d50+-0x8c1*-0x1+0x148f,-0x108f+0xbbc+0x4d3,-0x1dbf+-0x6b1+0x2471,0x1718*-0x1+-0x1cd0+-0xb*-0x4b8,-0x13*-0x9b+0x33*0x61+-0x1ed4,-0x8c4+0x120+0x7a4,-0x13*-0x1eb+-0xb25+-0x103*0x19,-0x222a*0x1+-0x3d7*-0x5+-0xeff*-0x1,0x2494+-0x5*-0x624+0x2*-0x21a1,-0x1e58+-0x1*-0x1fc1+-0x169,-0x24a+0x2419+-0x21cf,-0xefd*-0x1+0xe2*-0x26+0x1*0x128f,0x1206*-0x1+-0x1*0x205b+0x3280,-0xbc3+-0x7*0x4de+-0x51a*-0x9,0xee6+-0x1f26+-0xc6*-0x16,0x1e42+0x1*-0x1c7b+-0x1*0x13e,0x143c+-0x11a8+-0x16*0x1e,-0x1*0x169+0x120*-0x11+0x1489*0x1,-0x20d+-0x1*0x35+0x2*0x121,0x1b4*-0x14+0x714+-0x301*-0x9,-0x1*-0x403+-0x2*-0x8f0+-0x159a,0x8*-0x4ca+-0x1*0x2164+-0x23fc*-0x2,-0x1b5*-0x8+-0x714*-0x1+-0x147b,-0x2*-0x10cf+-0x1971*0x1+-0x7d9,-0x1*0x469+-0x2514+0x29f5,0x173*0xa+0xcec+-0x1a90,-0x134b+-0x1e12+0xc7*0x40,0x1c96+-0x3*-0x70f+-0x315f,0x464+0x15c2+0x9d*-0x2a,-0x23b4+-0x1d2*-0x1+-0x66*-0x56,0xbee+-0x24aa*0x1+0x1972,0x26ef+0x1*-0x23a2+-0x346,-0x5*-0x24d+-0x99d*-0x2+-0x1ebb,-0x10aa+-0x40d*0x6+0x28f8,-0xca0*-0x1+0x2e*-0xa5+0x1*0x115f,0x47*-0x4c+-0x1*0x132f+0x2843,0x1a66*-0x1+0x1dd2+0x17*-0x23,0x1a67+-0xef6+0xb2e*-0x1,0xca+0x26d7+-0x9c7*0x4,0xe9*0x1b+-0x1d3a+-0x53b*-0x1,-0x9*0x301+0x1b17*0x1+0x1*0xdf,0x3*0x9ee+0x1*0x241e+-0x41e8,-0xb64+-0xcf3+-0x81d*-0x3,0x11*0x116+0x5*-0xeb+-0xddf,0x1*-0x99a+0x1a73+-0x1*0x10d9,0xbe6*0x2+-0x2a*-0x45+-0x22d5,0x1205+0x656+-0x1816,-0x1*-0x1bf6+-0x1cc1+0x119,-0x7b5+0x2*-0x112d+0x2a53,0x2571+0xe0e+-0x32d1,0x9bb+0x745*0x1+-0x1*0x10be,0xf*-0x22f+-0x785+0x28a6,-0x54f+0x3ea*-0x9+-0x290b*-0x1]),C0=(_0x19cf4f,_0x20822b)=>{const _0x201283=new _e(_0x19cf4f,{'width':0x1,'height':0x1,'format':Ne,'mipmaps':!(0x89*-0x1b+0x2*-0xd96+-0x6*-0x6f0),'levels':[_0x20822b]}),_0x2e2533=new gt({'colorBuffer':_0x201283,'depth':!(0x43d*0x7+0x1765+-0x350f*0x1)});_0x19cf4f['setFramebu'+'ffer'](_0x2e2533['impl']['_glFrameBu'+'ffer']),_0x19cf4f['initRender'+'Target'](_0x2e2533);const _0x147101=new Uint8ClampedArray(-0x1255*-0x1+-0xbcf*-0x1+-0x1e20);return _0x19cf4f['gl']['readPixels'](-0x118d*-0x2+-0x9*0x3b3+-0x1cf,-0x17be+0x1e4e+-0x690,0x6*0x29+-0xa52+-0x2f*-0x33,0x2*-0x6a7+-0x23e+0x52f*0x3,_0x19cf4f['gl']['RGBA'],_0x19cf4f['gl']['UNSIGNED_B'+'YTE'],_0x147101),_0x2e2533['destroy'](),_0x201283['destroy'](),_0x147101[0x21c6+0x21f8+-0x43be]===0x1ea5*0x1+-0x1f*-0x46+-0x271e&&_0x147101[-0x1*-0x1e11+0x1776+-0x3586]===0xa9a+0xbe6+0x1*-0x167e&&_0x147101[0x1ecf+0x79a+-0x2667]===0x232c+0x5f8+-0x2921&&_0x147101[-0x32*-0x28+-0x1*0x6b1+-0x11c]===-0x1*0x1d4b+-0x10d*0x1+0xbf*0x29;},jk=_0x36f51b=>createImageBitmap(new Blob([A0],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x131d62=>C0(_0x36f51b,_0x131d62))['catch'](_0x4d2668=>!(-0x44f+-0x3dc*0x7+0x322*0xa)),Yk=_0x1d8bda=>new Promise((_0xb4b84c,_0x4578b9)=>{const _0x5397ba=new Image();_0x5397ba['src']=URL['createObje'+'ctURL'](new Blob([A0])),_0x5397ba['onload']=()=>{_0xb4b84c(C0(_0x1d8bda,_0x5397ba));};});class Kk{static['run'](_0x1079c4){jk(_0x1079c4)['then'](_0x59d5d5=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x59d5d5);}),Yk(_0x1079c4)['then'](_0x2aa389=>{console['log']('imgElement'+'IsCorrect='+_0x2aa389);});}}class Zk extends eo{constructor(_0x57149e,_0x482d9d){super(),this['crossOrigi'+'n']=_0x57149e['prefix']?'anonymous':null,this['maxRetries']=-0x1*-0x1c12+0x53+0x1c65*-0x1,this['device']=_0x482d9d,mi['get']('IMG_ALPHA_'+'TEST')&&Kk['run'](this['device']);}['load'](_0x598871,_0xa295b0,_0x140d81){var _0xcf3f81;const _0x2b1d59=!!((_0xcf3f81=_0x140d81==null?void(-0x1b6b+0x1b*0x16b+-0xade):_0x140d81['file'])!=null&&_0xcf3f81['contents']);if(_0x2b1d59){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0x140d81['file']['contents']]),_0xa295b0);return;}_0x598871={'load':URL['createObje'+'ctURL'](new Blob([_0x140d81['file']['contents']])),'original':_0x598871['original']};}const _0xa69638=(_0x5d9deb,_0x4df065)=>{_0x2b1d59&&URL['revokeObje'+'ctURL'](_0x598871['load']),_0xa295b0(_0x5d9deb,_0x4df065);};let _0x35bfcd;_0x140d81&&_0x140d81['options']&&_0x140d81['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x35bfcd=_0x140d81['options']['crossOrigi'+'n']:jn['test'](_0x598871['load'])&&(_0x35bfcd=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x598871['load'],_0x598871['original'],_0x35bfcd,_0xa69638,_0x140d81):this['_loadImage'](_0x598871['load'],_0x598871['original'],_0x35bfcd,_0xa69638);}['open'](_0x11c14a,_0x585c63,_0x11a52a,_0x47a2e7={}){const _0x382d88=new _e(_0x11a52a,{'name':_0x11c14a,'profilerHint':Pr,'width':_0x585c63['width'],'height':_0x585c63['height'],'format':_0x47a2e7['srgb']?_s:Ne,..._0x47a2e7});return _0x382d88['setSource'](_0x585c63),_0x382d88;}['_loadImage'](_0x2d6a30,_0x3e4892,_0x24dfae,_0x4a91d3){const _0x2f31d1=new Image();_0x24dfae&&(_0x2f31d1['crossOrigi'+'n']=_0x24dfae);let _0x5ba40a=0x2cf*-0x5+0x2*-0x305+-0x1*-0x1415;const _0x202eec=this['maxRetries'];let _0x2d0c4c;_0x2f31d1['onload']=function(){_0x4a91d3(null,_0x2f31d1);},_0x2f31d1['onerror']=function(){if(!_0x2d0c4c){if(_0x202eec>0x253e+-0x23*-0xa5+0x9*-0x6a5&&++_0x5ba40a<=_0x202eec){const _0x277c16=Math['pow'](-0x1*-0x129b+0x1ac0+-0x1*0x2d59,_0x5ba40a)*(0x54*-0xb+-0x78a+0xb8a);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x3e4892+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x277c16+'ms...');const _0x2013e8=_0x2d6a30['indexOf']('?')>=-0x363*-0x8+-0x1060+-0xab8?'&':'?';_0x2d0c4c=setTimeout(()=>{_0x2f31d1['src']=_0x2d6a30+_0x2013e8+'retry='+Date['now'](),_0x2d0c4c=null;},_0x277c16);}else _0x4a91d3('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x3e4892+'\x27');}},_0x2f31d1['src']=_0x2d6a30;}['_loadImage'+'Bitmap'](_0x208151,_0x36ef01,_0xd43977,_0x29fdb2,_0x5128d0){const _0x9d723={'cache':!(0x1*-0x891+0x1*-0x67f+0xf10),'responseType':'blob','retry':this['maxRetries']>0x1*-0xd2d+0x111+-0xa*-0x136,'maxRetries':this['maxRetries'],'progress':_0x5128d0};ot['get'](_0x208151,_0x9d723,(_0x4c8843,_0x18c706)=>{_0x4c8843?_0x29fdb2(_0x4c8843):this['_loadImage'+'BitmapFrom'+'Blob'](_0x18c706,_0x29fdb2);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x5bfec5,_0x34fe9e){createImageBitmap(_0x5bfec5,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0xe64ef0=>_0x34fe9e(null,_0xe64ef0))['catch'](_0x4d249e=>_0x34fe9e(_0x4d249e));}}const If=[-0x2eb96696+-0x971ac8a2+0x11e287ae3,-0x35a2f254+-0x13281a638+0x22355c9ac,-0x80*-0xdaeab+0x14127a3*0x5+-0x30311a2],Qk={0x83f0:td,0x83f2:op,0x83f3:vl,0x8d64:id,0x9274:cp,0x9278:hp,0x8c00:rd,0x8c01:xl,0x8c02:ad,0x8c03:Tl,0x8051:Cr,0x8058:Ne,0x8c41:lp,0x8c43:_s,0x8c3a:In,0x881b:ui,0x881a:nt};function Jk(_0x5e3887,_0x157489,_0x3b6240,_0x4a9d2a){return _0x5e3887===In?new Uint32Array(_0x157489,_0x3b6240,_0x4a9d2a/(-0x1399*-0x1+-0x1aa9+-0x4*-0x1c5)):new Uint8Array(_0x157489,_0x3b6240,_0x4a9d2a);}class eU extends eo{constructor(_0x5116a5){super(),this['maxRetries']=-0xcb9+0x34*-0x35+0x177d;}['load'](_0x1051c3,_0x28c8fa,_0x23de5d){pe['fetchArray'+'Buffer'](_0x1051c3['load'],_0x28c8fa,_0x23de5d,this['maxRetries']);}['open'](_0x329434,_0x395055,_0x432d59,_0x280f21={}){const _0x3f0b3b=this['parse'](_0x395055);if(!_0x3f0b3b)return null;const _0xae5d60=_0x280f21['srgb']?ld(_0x3f0b3b['format']):_0x3f0b3b['format'],_0x9e800b=new _e(_0x432d59,{'name':_0x329434,'profilerHint':Pr,'addressU':_0x3f0b3b['cubemap']?ue:yt,'addressV':_0x3f0b3b['cubemap']?ue:yt,'width':_0x3f0b3b['width'],'height':_0x3f0b3b['height'],'format':_0xae5d60,'cubemap':_0x3f0b3b['cubemap'],'levels':_0x3f0b3b['levels'],..._0x280f21});return _0x9e800b['upload'](),_0x9e800b;}['parse'](_0x28ea41){const _0x12984c=new Uint32Array(_0x28ea41);if(If[-0xe8c+-0x73+-0x1*-0xeff]!==_0x12984c[-0x251f+0x5cc+-0xb*-0x2d9]||If[-0xfc6+-0x215f+0x3126]!==_0x12984c[0x4+0x1702+-0x53*0x47]||If[-0x2c+0x283*-0x2+-0x14d*-0x4]!==_0x12984c[0x234e+0xac0+0x1706*-0x2])return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x4c3784={'endianness':_0x12984c[0x2*0x694+0x177f+-0xe*0x29e],'glType':_0x12984c[0x1e19+-0x1*0x23a7+0x592*0x1],'glTypeSize':_0x12984c[0x1*-0x2695+0x12d5+0x2d3*0x7],'glFormat':_0x12984c[0x973*0x3+0x1*0x1df4+0x3a47*-0x1],'glInternalFormat':_0x12984c[-0x47*0x47+0xe74+0x1*0x544],'glBaseInternalFormat':_0x12984c[0x1de2+-0x38c*-0x7+-0x36ae],'pixelWidth':_0x12984c[0xf0a+-0x2d4+-0x3*0x40f],'pixelHeight':_0x12984c[-0x4fd*-0x2+-0x2*-0x25+-0xee*0xb],'pixelDepth':_0x12984c[-0x1669+-0xc59+0x3b*0x97],'numberOfArrayElements':_0x12984c[-0x925+-0x966+0x1297],'numberOfFaces':_0x12984c[-0xb43*-0x1+-0x32*-0x96+-0x2882],'numberOfMipmapLevels':_0x12984c[-0x3c*0xf+0x22f8+-0x1f66],'bytesOfKeyValueData':_0x12984c[0x880+0x1cd1*0x1+0x26*-0xfb]};if(_0x4c3784['pixelDepth']>0x1*0x12b+-0xb33+0xa09)return w['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x4c3784['numberOfAr'+'rayElement'+'s']!==-0xef9+0x2042+0x127*-0xf)return w['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x5ab4f4=Qk[_0x4c3784['glInternal'+'Format']];if(_0x5ab4f4===void(-0x355*-0x7+-0xa9*-0x1f+-0x2bca))return w['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x4c3784['glInternal'+'Format']),null;let _0x58c142=0xc*0x199+0xe03+-0x211f*0x1+_0x4c3784['bytesOfKey'+'ValueData']/(0x4e2+0x45*-0x5c+0x13ee);const _0x8ee607=_0x4c3784['numberOfFa'+'ces']>-0x1*0x2022+0x24c4+-0xf*0x4f,_0x272ed1=[];for(let _0x4056b9=-0x940+0xfbc+-0x67c;_0x4056b9<(_0x4c3784['numberOfMi'+'pmapLevels']||-0x11a3+-0xc09+0x1dad);_0x4056b9++){const _0x43533e=_0x12984c[_0x58c142++];_0x8ee607&&_0x272ed1['push']([]);const _0x39baff=_0x8ee607?_0x272ed1[_0x4056b9]:_0x272ed1;for(let _0x5bf845=0x3b8+0x19*0xdd+0x3*-0x86f;_0x5bf845<(_0x8ee607?0xed*0xc+-0x216a+0x1654:0x2d+-0x265+0x239*0x1);++_0x5bf845)_0x39baff['push'](Jk(_0x5ab4f4,_0x28ea41,_0x58c142*(-0x199c+0x7b+0x1925),_0x43533e)),_0x58c142+=_0x43533e+(0x1*-0x1a23+-0x2*0xfd7+0x39d4*0x1)>>0x59f*-0x5+-0x15*0x19a+0x1*0x3dbf;}return{'format':_0x5ab4f4,'width':_0x4c3784['pixelWidth'],'height':_0x4c3784['pixelHeigh'+'t'],'levels':_0x272ed1,'cubemap':_0x8ee607};}}const tU={'KHR_DF_MODEL_UASTC':0xa6};class sU extends eo{constructor(_0x4da016,_0x479a75){super(),this['maxRetries']=0x162a+-0x3f5+-0x1235,this['device']=_0x479a75;}['load'](_0x51a569,_0x4742ff,_0x391697){pe['fetchArray'+'Buffer'](_0x51a569['load'],(_0xbb6404,_0x4f9a6f)=>{_0xbb6404?_0x4742ff(_0xbb6404,_0x4f9a6f):this['parse'](_0x4f9a6f,_0x51a569,_0x4742ff,_0x391697);},_0x391697,this['maxRetries']);}['open'](_0x4bf6ec,_0x3b6642,_0x44fcb7,_0x5079f8={}){const _0x41301d=_0x5079f8['srgb']?ld(_0x3b6642['format']):_0x3b6642['format'],_0x5b3544=new _e(_0x44fcb7,{'name':_0x4bf6ec,'profilerHint':Pr,'addressU':_0x3b6642['cubemap']?ue:yt,'addressV':_0x3b6642['cubemap']?ue:yt,'width':_0x3b6642['width'],'height':_0x3b6642['height'],'format':_0x41301d,'cubemap':_0x3b6642['cubemap'],'levels':_0x3b6642['levels'],..._0x5079f8});return _0x5b3544['upload'](),_0x5b3544;}['parse'](_0xf6f9e3,_0x3fdaf2,_0x392eae,_0x2ae4b5){var _0x2c133b,_0x1de2b6,_0x1c1154;const _0x1a1d50=new KS(_0xf6f9e3),_0xcff291=[_0x1a1d50['readU32be'](),_0x1a1d50['readU32be'](),_0x1a1d50['readU32be']()];if(_0xcff291[-0x18f8+-0x20c5+0x39bd]!==-0x1987eddb+0xd*-0xc283688+0x162de071b||_0xcff291[0x1750+-0xc7*-0x6+-0x953*0x3]!==0x309c301b+-0x1*0x35cedbd2+0xa76*0x3931b||_0xcff291[0x1b85+0x1880+-0x3403]!==-0x114492ff+0x6cd477f+0x11*0x161f6ea)return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0x36ec8e={'vkFormat':_0x1a1d50['readU32'](),'typeSize':_0x1a1d50['readU32'](),'pixelWidth':_0x1a1d50['readU32'](),'pixelHeight':_0x1a1d50['readU32'](),'pixelDepth':_0x1a1d50['readU32'](),'layerCount':_0x1a1d50['readU32'](),'faceCount':_0x1a1d50['readU32'](),'levelCount':_0x1a1d50['readU32'](),'supercompressionScheme':_0x1a1d50['readU32']()},_0x14d48d={'dfdByteOffset':_0x1a1d50['readU32'](),'dfdByteLength':_0x1a1d50['readU32'](),'kvdByteOffset':_0x1a1d50['readU32'](),'kvdByteLength':_0x1a1d50['readU32'](),'sgdByteOffset':_0x1a1d50['readU64'](),'sgdByteLength':_0x1a1d50['readU64']()},_0x495a0f=[];for(let _0x42d4ae=0x207*-0x7+0x2ca+-0x15*-0x8b;_0x42d4ae<Math['max'](-0xc07*-0x2+-0x1*-0x14ad+0x2*-0x165d,_0x36ec8e['levelCount']);++_0x42d4ae)_0x495a0f['push']({'byteOffset':_0x1a1d50['readU64'](),'byteLength':_0x1a1d50['readU64'](),'uncompressedByteLength':_0x1a1d50['readU64']()});if(_0x1a1d50['readU32']()!==_0x14d48d['kvdByteOff'+'set']-_0x14d48d['dfdByteOff'+'set'])return w['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x1a1d50['skip'](0x1aa*-0x10+-0x19bb+0x3463*0x1);const _0xf76a4a=_0x1a1d50['readU8']();_0x1a1d50['skip'](_0x14d48d['dfdByteLen'+'gth']-(-0x25aa+0xc4a+0x1*0x1969)),_0x1a1d50['skip'](_0x14d48d['kvdByteLen'+'gth']),_0x36ec8e['supercompr'+'essionSche'+'me']===0x180*-0x19+-0xc0e*0x1+0x318f||_0xf76a4a===tU['KHR_DF_MOD'+'EL_UASTC']?b0(this['device'],_0x3fdaf2['load'],_0xf6f9e3,_0x392eae,{'isGGGR':(((_0x1c1154=(_0x1de2b6=(_0x2c133b=_0x2ae4b5==null?void(0x12ba+-0x23aa+-0x10f*-0x10):_0x2ae4b5['file'])==null?void(-0x133d+-0x1*-0xc7f+0x6be):_0x2c133b['variants'])==null?void(0x250a+-0x1cc1+-0x15*0x65):_0x1de2b6['basis'])==null?void(0x95c+-0xe7b*-0x1+0x17d7*-0x1):_0x1c1154['opt'])&0x43*0x76+-0x1ad5+-0x405)!==-0x124*-0x5+0x1f85+0x1*-0x2539,'isKTX2':!(0x1bd+0x5*-0xf+-0x172)})||_0x392eae('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x2ae4b5['name']+']('+_0x2ae4b5['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x392eae('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class iU extends eo{constructor(_0x14d10b){super(),this['maxRetries']=0x1529*0x1+0x36f*-0x1+-0x11ba;}['load'](_0x12d15b,_0x1f401e,_0x9c508d){pe['fetchArray'+'Buffer'](_0x12d15b['load'],_0x1f401e,_0x9c508d,this['maxRetries']);}['open'](_0x346cdd,_0x7b34e,_0x160950,_0x10315a={}){const _0x3aed36=new Uint32Array(_0x7b34e,-0x2*-0xbc9+0x43*-0x1e+-0xfb8*0x1,-0x654+-0x11*-0x247+-0x2043),_0x365d47=_0x3aed36[0x2405+0x1964+0xd*-0x4b9],_0x449598=_0x3aed36[0xd*0x11f+0x194+-0x4*0x409],_0x30af3d=Math['max'](_0x3aed36[0x8ee+-0x352*0x1+-0x595*0x1],-0x7e1*0x2+0x1*-0x24be+-0x3481*-0x1),_0x4c4449=_0x3aed36[-0x1*-0x23a2+0x6*-0x416+-0x3*0x3ae]===-0x1*0x1ccd+0x58*0x69+-0x747*0x1,_0x2b3c1c=_0x3aed36[0x935*-0x1+-0x797+0x10e1*0x1],_0x4298a5=_0x3aed36[-0x9*0x193+-0x1*-0x237b+-0x153a],_0x44c3a6=_0x3aed36[0x1ac9*-0x1+-0xb8d*0x1+0x2672]===0x62ae+0x1c706+-0x12bb4*0x1,_0x322219=0x1b88c564+-0x3be749d*-0x1a+-0x4b8c4512,_0x523b8d=0x284b*-0x1a02f+0x5496bc9*0xb+-0x7f*-0x7a509a,_0x47357e=-0x57*0x62+-0x76a*-0x1+-0x3c3*-0x7,_0x16c53b=-0x121f+0xaa6+0x7ed,_0x155c38=0x1*0x375d4cdb+-0x1bcc853c*0x1+0x2b*0x812cf2,_0x14b52a=0x674cb3c+-0xbc83*0x2e17+0x4caee0d9,_0x17c421=0x48950c9f+-0x850de21*-0x8+-0x59e7cb57,_0x4553f7=-0x4e569aeb+0x5c4d23a3+0x233cab98,_0x5769d1=-0x9897b*-0x9ac+-0x29*-0x2086f5a+0x1*-0x7e6352be;let _0x4dde51=!(-0x121*-0x17+0x10e8+-0x6*0x725),_0x378f80=!(-0xa6d+0xd92+-0x324),_0xc1f94d=!(0x435+0x56b*-0x5+-0x345*-0x7),_0x290b26=!(0x1d*0xeb+-0x9b3+0x1*-0x10eb),_0x84b39c=null,_0xc71062=0x2*0x748+0x11f*-0xa+0x359*-0x1,_0x199bae;if(_0x4c4449?_0x2b3c1c===_0x322219?(_0x84b39c=td,_0x4dde51=!(0xa*-0x37f+0x31*0xb1+0x115)):_0x2b3c1c===_0x523b8d?(_0x84b39c=vl,_0x4dde51=!(-0xb2e+-0x15d6+0x2104)):_0x2b3c1c===_0x47357e?(_0x84b39c=nt,_0xc71062=-0x5bf*-0x1+0x1*0x17e1+-0x1d9e):_0x2b3c1c===_0x16c53b?(_0x84b39c=Xt,_0xc71062=-0xc52+0x2c7+0x1*0x98f):_0x2b3c1c===_0x155c38?(_0x84b39c=id,_0x4dde51=!(-0x172b+-0x1ac*0xf+0x303f*0x1),_0x378f80=!(0x1d3c+-0x24a5*0x1+0x769)):_0x2b3c1c===_0x14b52a||_0x2b3c1c===_0x17c421?(_0x84b39c=_0x2b3c1c===_0x14b52a?xl:Tl,_0x4dde51=!(-0x4b6+0xe2*0x2c+-0x2222),_0xc1f94d=!(0x21be+0x1*0x26c+-0x242a)):(_0x2b3c1c===_0x4553f7||_0x2b3c1c===_0x5769d1)&&(_0x84b39c=_0x2b3c1c===_0x4553f7?rd:ad,_0x4dde51=!(0x23b4+-0x1*0x1738+-0xc7c),_0x290b26=!(0x1da+0x6b*-0x30+0x1236)):_0x4298a5===0x26ca+0x1*-0x1c9+-0x24e1&&(_0x84b39c=Ne),!_0x84b39c)return w['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x346cdd+'.'),_0x199bae=new _e(_0x160950,{'width':0x4,'height':0x4,'format':Cr,'name':'dds-legacy'+'-empty'}),_0x199bae;_0x199bae=new _e(_0x160950,{'name':_0x346cdd,'profilerHint':Pr,'addressU':_0x44c3a6?ue:yt,'addressV':_0x44c3a6?ue:yt,'width':_0x365d47,'height':_0x449598,'format':_0x84b39c,'cubemap':_0x44c3a6,'mipmaps':_0x30af3d>0x14e7*0x1+0x1c80+-0x18b3*0x2,..._0x10315a});let _0x1fa84e=0x757+-0x41c*-0x6+-0x1f7f;const _0x547e5d=_0x44c3a6?0x4*-0x1ad+0x5dd+-0xdd*-0x1:-0x1785*-0x1+0x1e94+-0x8*0x6c3;let _0x868680;const _0x5ed511=-0xf28+-0x71*-0x13+-0x6c9*-0x1,_0xbd2c8e=-0xfba+0x1142+-0x184*0x1,_0x42b4d9=_0x2b3c1c===_0x322219?-0x22b7+0x905*-0x2+0x1*0x34c9:0x1df7+0x1593+-0x337a*0x1;let _0x3daee5,_0xc3d5c7,_0x384a29;for(let _0x4b590f=-0x1a96+0x1*0xa99+-0xffd*-0x1;_0x4b590f<_0x547e5d;_0x4b590f++){let _0x2f2f5f=_0x365d47,_0x5c940c=_0x449598;for(let _0x161d7c=0x4f*-0x1b+-0xc0*-0x17+-0x2f9*0x3;_0x161d7c<_0x30af3d;_0x161d7c++){_0x4dde51?_0x378f80?_0x868680=Math['floor']((_0x2f2f5f+(-0x19fe+-0x5ec+-0x1fed*-0x1))/(0xfb5*0x1+0x1*-0x1c91+0xce0))*Math['floor']((_0x5c940c+(-0x97*-0x2f+-0x148a+-0x72c))/(0x2*-0x569+-0x1*-0x2551+-0x1*0x1a7b))*(0xc72+0x1*-0xd31+0xc7*0x1):_0xc1f94d?_0x868680=Math['max'](_0x2f2f5f,0x2204*0x1+-0x1*-0x2113+-0x4307*0x1)*Math['max'](_0x5c940c,-0x48+-0x20*-0x3e+-0x770)/(-0x52f+0xa2d+0x62*-0xd):_0x290b26?_0x868680=Math['max'](_0x2f2f5f,-0x291+0x9*0x1b7+-0x1*0xcd6)*Math['max'](_0x5c940c,0x3*-0xae3+0x1ae0+0x5d1)/(-0x3*-0x887+-0xb1*0x3+-0x1780):(_0x3daee5=Math['floor']((_0x2f2f5f+_0x5ed511-(0x1*-0xfe7+0x1e12+-0xe2a))/_0x5ed511),_0xc3d5c7=Math['floor']((_0x5c940c+_0xbd2c8e-(-0x253f+0xb13+0x1*0x1a2d))/_0xbd2c8e),_0x384a29=_0x3daee5*_0xc3d5c7,_0x868680=_0x384a29*_0x42b4d9):_0x868680=_0x2f2f5f*_0x5c940c*(-0x4b+0x220c*0x1+-0xb3f*0x3);const _0x41ccdc=_0x84b39c===Xt?new Float32Array(_0x7b34e,_0x1fa84e,_0x868680):_0x84b39c===nt?new Uint16Array(_0x7b34e,_0x1fa84e,_0x868680):new Uint8Array(_0x7b34e,_0x1fa84e,_0x868680);_0x44c3a6?(_0x199bae['_levels'][_0x161d7c]||(_0x199bae['_levels'][_0x161d7c]=[]),_0x199bae['_levels'][_0x161d7c][_0x4b590f]=_0x41ccdc):_0x199bae['_levels'][_0x161d7c]=_0x41ccdc,_0x1fa84e+=_0x868680*_0xc71062,_0x2f2f5f=Math['max'](_0x2f2f5f*(0x597+-0xd1b+0x784+0.5),-0x2*-0x10ac+-0x17*-0x18b+-0x44d4),_0x5c940c=Math['max'](_0x5c940c*(-0x17*-0x68+0x11c3*0x1+0x1*-0x1b1b+0.5),-0xa7*0x29+0x3*-0x1db+0x2051);}}return _0x199bae['upload'](),_0x199bae;}}class rU extends eo{constructor(_0x25a9d5){super(),this['maxRetries']=0x7*0x421+0x1ec7*-0x1+0x1e0;}['load'](_0x3b27dc,_0x1b0e47,_0x4a6a92){pe['fetchArray'+'Buffer'](_0x3b27dc['load'],_0x1b0e47,_0x4a6a92,this['maxRetries']),_0x4a6a92['data']&&!_0x4a6a92['data']['type']&&(_0x4a6a92['data']['type']=mh);}['open'](_0x433182,_0x32a2c4,_0x13376c,_0x551d96={}){const _0x4edf6c=this['parse'](_0x32a2c4);if(!_0x4edf6c)return null;const _0x5d52e1=new _e(_0x13376c,{'name':_0x433182,'profilerHint':Pr,'addressU':yt,'addressV':ue,'minFilter':Te,'magFilter':Te,'width':_0x4edf6c['width'],'height':_0x4edf6c['height'],'levels':_0x4edf6c['levels'],'format':Ne,'type':mh,'mipmaps':!(0xfbf+-0x1*-0x19f6+-0x29b4),..._0x551d96});return _0x5d52e1['upload'](),_0x5d52e1;}['parse'](_0x5b07b8){const _0x101009=new KS(_0x5b07b8);if(!_0x101009['readLine']()['startsWith']('#?RADIANCE'))return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x424398={};for(;;){const _0x153c62=_0x101009['readLine']();if(_0x153c62['length']===0x15c8+-0x2*-0xaa6+-0x2b14)break;{const _0x2e9fcd=_0x153c62['split']('=');_0x2e9fcd['length']===-0x422+-0x53*-0x53+-0x16c5&&(_0x424398[_0x2e9fcd[0x4*-0x8e4+-0x1608+0x3998]]=_0x2e9fcd[-0x1093+-0x1*-0x269e+-0x160a]);}}if(!_0x424398['hasOwnProp'+'erty']('FORMAT'))return w['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x30e4c1=_0x101009['readLine']()['split']('\x20');if(_0x30e4c1['length']!==0x1*0x229b+-0x154c+-0xd4b*0x1)return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x53b29e=parseInt(_0x30e4c1[0x23e3+0x7a*-0x49+-0x118],0x158f+0xfbf*0x2+0x3503*-0x1),_0x2170ab=parseInt(_0x30e4c1[-0x505*0x3+-0x2507*0x1+-0x3419*-0x1],-0xffd+0x4d5+0xb32),_0x52cda9=this['_readPixel'+'s'](_0x101009,_0x2170ab,_0x53b29e,_0x30e4c1[0x2329+-0x2137*0x1+-0x53*0x6]==='-Y');return _0x52cda9?{'width':_0x2170ab,'height':_0x53b29e,'levels':[_0x52cda9]}:null;}['_readPixel'+'s'](_0x4f5990,_0x1e19a9,_0x41f99a,_0x46dac0){if(_0x1e19a9<-0xe0+-0xce7+0xdcf||_0x1e19a9>0x5b*0x23e+0x90e2*0x1+-0xdced)return this['_readPixel'+'sFlat'](_0x4f5990,_0x1e19a9,_0x41f99a);const _0x5f5426=[-0x66f*0x2+-0x823+0x11b*0x13,0x188f+-0x4f4*0x3+-0x9b3,-0x497*-0x3+-0xca*-0x8+-0x1415*0x1,0x4c2*0x7+0x1*-0x445+-0x1d09];if(_0x4f5990['readArray'](_0x5f5426),_0x5f5426[0x116*0x9+0xfa1+-0x1967]!==-0x1315+-0x1eaa+0x31c1||_0x5f5426[0x148f+0x2db+0x1*-0x1769]!==0x6f*-0x1+0x1cc*-0x6+-0xb39*-0x1||(_0x5f5426[-0x12b3+0x184f+0x59a*-0x1]&-0x3*-0x9c1+0x8ba*-0x1+-0x1409)!==-0x2239*-0x1+-0x1d8d+-0x4ac)return _0x4f5990['skip'](-(-0x25*0xd3+0x1*-0x22ca+0x414d)),this['_readPixel'+'sFlat'](_0x4f5990,_0x1e19a9,_0x41f99a);const _0x4f8bcf=new ArrayBuffer(_0x1e19a9*_0x41f99a*(-0x1878+0x1c*-0x142+0x3bb4)),_0x1b6c23=new Uint8Array(_0x4f8bcf);let _0x46d7a1=_0x46dac0?0x24bb+-0x2*-0xb3f+0x1*-0x3b39:_0x1e19a9*(-0x2027*0x1+0x18ab+0x780)*(_0x41f99a-(-0xde7+0x1cb5+0xecd*-0x1)),_0x48e82c,_0x2a7fd6,_0x46700f,_0x5bf5f8,_0x16467e,_0x226f1e;for(_0x2a7fd6=-0x16d+-0xc9*-0x25+-0x1ba*0x10;_0x2a7fd6<_0x41f99a;++_0x2a7fd6){if(_0x2a7fd6&&_0x4f5990['readArray'](_0x5f5426),(_0x5f5426[0x1*-0xe9b+-0x1d52*-0x1+-0xeb5*0x1]<<0x12a4+-0x6*0x19b+-0x8fa)+_0x5f5426[-0xfe*0x16+-0x1877+0x2e4e]!==_0x1e19a9)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x5bf5f8=-0x1364+0x1*0x1247+0x5f*0x3;_0x5bf5f8<0x1ec4+-0x1acd+-0x3f3;++_0x5bf5f8)for(_0x48e82c=0xe29+0x4a+-0x1*0xe73;_0x48e82c<_0x1e19a9;)if(_0x16467e=_0x4f5990['readU8'](),_0x16467e>-0x15ea+-0xf43+0x25ad){if(_0x16467e-=0x48d*-0x7+-0x1c7b+0x3cd6,_0x48e82c+_0x16467e>_0x1e19a9)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x226f1e=_0x4f5990['readU8'](),_0x46700f=0x24d9+0x35+-0x250e;_0x46700f<_0x16467e;++_0x46700f)_0x1b6c23[_0x46d7a1+_0x5bf5f8+(-0x2591+-0x742+-0x373*-0xd)*_0x48e82c++]=_0x226f1e;}else{if(_0x16467e===0x1a*-0xd3+-0x1a25+-0x281*-0x13||_0x48e82c+_0x16467e>_0x1e19a9)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x46700f=-0xa57*0x2+0xeca+-0x1d*-0x34;_0x46700f<_0x16467e;++_0x46700f)_0x1b6c23[_0x46d7a1+_0x5bf5f8+(0xd*-0x2a3+0xec0+-0x138b*-0x1)*_0x48e82c++]=_0x4f5990['readU8']();}_0x46d7a1+=_0x1e19a9*(-0xc46+0x1*-0x618+0x1262)*(_0x46dac0?0x1e*0xb8+0x55d*-0x7+0x3e*0x42:-(-0x1e91+-0x1*-0xc27+-0x1*-0x126b));}return _0x1b6c23;}['_readPixel'+'sFlat'](_0x6de930,_0x33aec5,_0x373e5c){return _0x6de930['remainingB'+'ytes']===_0x33aec5*_0x373e5c*(0x238f+-0x1*0x2254+-0x137)?new Uint8Array(_0x6de930['arraybuffe'+'r'],_0x6de930['offset']):null;}}const TS={'repeat':yt,'clamp':ue,'mirror':ip},wS={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},aU={'default':Ds,'rgbm':Zi,'rgbe':mh,'rgbp':Qo,'swizzleGGGR':Jo},nU=function(_0x596092){const _0x2cd65b=Xi['calcMipLev'+'elsCount'](_0x596092['_width'],_0x596092['_height']),_0x26297e=function(_0x68db9b){return _0x68db9b instanceof HTMLCanvasElement||_0x68db9b instanceof HTMLImageElement||_0x68db9b instanceof HTMLVideoElement;};if(!(_0x596092['_format']===Ne||_0x596092['_format']===Xt)||_0x596092['_volume']||_0x596092['_compresse'+'d']||_0x596092['_levels']['length']===0x1592+-0x790+-0xe01||_0x596092['_levels']['length']===_0x2cd65b||_0x26297e(_0x596092['_cubemap']?_0x596092['_levels'][-0xb*-0x6b+-0x34*-0x35+-0x39*0x45][-0x13ac+0x135*0x19+-0xa81]:_0x596092['_levels'][-0x54b+0x107*0x25+-0x20b8]))return;const _0x29ea2d=function(_0x37434a,_0x5a70d3,_0x456813){const _0x5ec999=Math['max'](0x206c+0x95*-0x3d+0xa*0x4f,_0x37434a>>-0xc7*-0x17+-0x182c+0x326*0x2),_0x251b62=Math['max'](-0xbfd*0x1+-0x7*-0x369+-0xbe1,_0x5a70d3>>0x14f*0x4+0x1*-0x170f+0x11d4),_0x286c11=new _0x456813['constructo'+'r'](_0x5ec999*_0x251b62*(0x1c33+-0x123c+-0x1*0x9f3)),_0x2b08a8=Math['floor'](_0x37434a/_0x5ec999),_0x59f217=Math['floor'](_0x5a70d3/_0x251b62),_0x1fe4bb=_0x2b08a8*_0x59f217;for(let _0x1827b6=0xf*0x33+-0x1*-0x617+-0x914;_0x1827b6<_0x251b62;++_0x1827b6)for(let _0x5244a6=-0x1dc8+0x3d*-0x25+0xf1*0x29;_0x5244a6<_0x5ec999;++_0x5244a6)for(let _0x26320f=-0x1ec1+-0x2*0xef+-0x7*-0x4a9;_0x26320f<0x1aaf+-0xa01+-0x10aa;++_0x26320f){let _0x3c68fd=-0x51b+0x5*0x4f0+-0x1395*0x1;for(let _0x4c9efc=0x6d9*0x1+-0x427+-0x159*0x2;_0x4c9efc<_0x59f217;++_0x4c9efc)for(let _0x45a1e5=-0x6c9+-0x647+0xd10;_0x45a1e5<_0x2b08a8;++_0x45a1e5)_0x3c68fd+=_0x456813[(_0x5244a6*_0x2b08a8+_0x45a1e5+(_0x1827b6*_0x59f217+_0x4c9efc)*_0x37434a)*(-0xb43+0x1364+-0x81d)+_0x26320f];_0x286c11[(_0x5244a6+_0x1827b6*_0x5ec999)*(-0x1*0x10ff+-0x78f+-0x1892*-0x1)+_0x26320f]=_0x3c68fd/_0x1fe4bb;}return _0x286c11;};for(let _0x3d2b99=_0x596092['_levels']['length'];_0x3d2b99<_0x2cd65b;++_0x3d2b99){const _0x3a318c=Math['max'](0x2564+0xc4e*0x1+0x31b1*-0x1,_0x596092['_width']>>_0x3d2b99-(-0x4*0x31d+-0x1d6e*-0x1+-0x10f9)),_0x5505e8=Math['max'](-0x24*-0xec+0x1211+0x4*-0xcd0,_0x596092['_height']>>_0x3d2b99-(0x1f14+0x2287+-0x419a));if(_0x596092['_cubemap']){const _0x374aac=[];for(let _0x2d1082=0x1682+0x72*-0x1f+-0x8b4;_0x2d1082<-0xe8*0x28+0x26*-0xef+0xe*0x520;++_0x2d1082)_0x374aac['push'](_0x29ea2d(_0x3a318c,_0x5505e8,_0x596092['_levels'][_0x3d2b99-(0x1a9c+-0x1d4b+0x2b0)][_0x2d1082]));_0x596092['_levels']['push'](_0x374aac);}else _0x596092['_levels']['push'](_0x29ea2d(_0x3a318c,_0x5505e8,_0x596092['_levels'][_0x3d2b99-(0x5bf+-0x3*0x17d+-0x3*0x6d)]));}_0x596092['_levelsUpd'+'ated']=_0x596092['_cubemap']?[[!(-0x517*0x1+-0x17*-0x14f+-0x1902),!(0x53*0x25+0x1*-0x31f+-0x8e0),!(0x1*0xb9b+-0x65c+-0x53f),!(0xa25+0xf37+-0x195c),!(0x160*-0x10+-0x18+-0x65*-0x38),!(-0x18ed+-0xe78*-0x2+0x4f*-0xd)]]:[!(0x27e*0x6+0x21e9*0x1+-0x30dd)];};class oU extends Qe{constructor(_0x2d5c41){super(_0x2d5c41,'texture');const _0x545948=_0x2d5c41['assets'],_0x154c2d=_0x2d5c41['graphicsDe'+'vice'];this['_device']=_0x154c2d,this['_assets']=_0x545948,this['imgParser']=new Zk(_0x545948,_0x154c2d),this['parsers']={'dds':new iU(_0x545948),'ktx':new eU(_0x545948),'ktx2':new sU(_0x545948,_0x154c2d),'basis':new qk(_0x545948,_0x154c2d),'hdr':new rU(_0x545948)};}set['crossOrigi'+'n'](_0x158734){this['imgParser']['crossOrigi'+'n']=_0x158734;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x201432){this['imgParser']['maxRetries']=_0x201432;for(const _0x28521c in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x28521c)&&(this['parsers'][_0x28521c]['maxRetries']=_0x201432);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x458c5d){return _0x458c5d['indexOf']('?')>=-0x5c6*0x5+0x82d+0x1*0x14b1?_0x458c5d['split']('?')[0x17ca+-0xd*0x3d+-0x14b1]:_0x458c5d;}['_getParser'](_0x1f2dd2){const _0xc74518=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x1f2dd2))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0xc74518]||this['imgParser'];}['_getTextur'+'eOptions'](_0x195001){var _0x300b6d;const _0x5a6833={'profilerHint':Pr};if(_0x195001){((_0x300b6d=_0x195001['name'])==null?void(-0x893+-0x61d*0x4+-0x5*-0x69b):_0x300b6d['length'])>-0x18d9*0x1+-0x1*-0x160d+-0xb3*-0x4&&(_0x5a6833['name']=_0x195001['name']);const _0x27f2a3=_0x195001['data'];_0x27f2a3['hasOwnProp'+'erty']('minfilter')&&(_0x5a6833['minFilter']=wS[_0x27f2a3['minfilter']]),_0x27f2a3['hasOwnProp'+'erty']('magfilter')&&(_0x5a6833['magFilter']=wS[_0x27f2a3['magfilter']]),_0x27f2a3['hasOwnProp'+'erty']('addressu')&&(_0x5a6833['addressU']=TS[_0x27f2a3['addressu']]),_0x27f2a3['hasOwnProp'+'erty']('addressv')&&(_0x5a6833['addressV']=TS[_0x27f2a3['addressv']]),_0x27f2a3['hasOwnProp'+'erty']('mipmaps')&&(_0x5a6833['mipmaps']=_0x27f2a3['mipmaps']),_0x27f2a3['hasOwnProp'+'erty']('anisotropy')&&(_0x5a6833['anisotropy']=_0x27f2a3['anisotropy']),_0x27f2a3['hasOwnProp'+'erty']('flipY')&&(_0x5a6833['flipY']=!!_0x27f2a3['flipY']),_0x27f2a3['hasOwnProp'+'erty']('srgb')&&(_0x5a6833['srgb']=!!_0x27f2a3['srgb']),_0x5a6833['type']=Ds,_0x27f2a3['hasOwnProp'+'erty']('type')?_0x5a6833['type']=aU[_0x27f2a3['type']]:_0x27f2a3['hasOwnProp'+'erty']('rgbm')&&_0x27f2a3['rgbm']?_0x5a6833['type']=Zi:_0x195001['file']&&(_0x195001['file']['opt']&0x4ca*-0x1+-0xce*0x22+0x202e)!==-0x171d*0x1+-0x2*0x7ea+0x26f1&&(_0x5a6833['type']=Jo);}return _0x5a6833;}['load'](_0x3301b8,_0x260283,_0x238899){typeof _0x3301b8=='string'&&(_0x3301b8={'load':_0x3301b8,'original':_0x3301b8}),this['_getParser'](_0x3301b8['original'])['load'](_0x3301b8,_0x260283,_0x238899);}['open'](_0x1b7fa9,_0x2f04b9,_0x2b241a){if(!_0x1b7fa9)return;const _0x5831ad=this['_getTextur'+'eOptions'](_0x2b241a);let _0x22d086=this['_getParser'](_0x1b7fa9)['open'](_0x1b7fa9,_0x2f04b9,this['_device'],_0x5831ad);return _0x22d086===null?_0x22d086=new _e(this['_device'],{'width':0x4,'height':0x4,'format':Cr}):(nU(_0x22d086),_0x2f04b9['unswizzled'+'GGGR']&&(_0x2b241a['file']['variants']['basis']['opt']&=-(-0x25b0+0x4*-0x13c+-0x1*-0x2aa9))),_0x22d086;}['patch'](_0x2d7ece,_0x1b310d){const _0x4c442d=_0x2d7ece['resource'];if(!_0x4c442d)return;const _0x5b6695=this['_getTextur'+'eOptions'](_0x2d7ece);for(const _0xf8dff4 of Object['keys'](_0x5b6695))_0x4c442d[_0xf8dff4]=_0x5b6695[_0xf8dff4];}}const lU='inline',cU='immersive-'+'vr',$o='immersive-'+'ar',ES='viewer',hU='left',dU='cpu-optimi'+'zed',P0='gpu-optimi'+'zed',M0='luminance-'+'alpha',D0='unsigned-s'+'hort',I0='float32';class fU{constructor(_0x10d52b){h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRDOMOverl'+'ayState']),h(this,'_root',null),this['_manager']=_0x10d52b;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x1b6774){!this['_supported']||this['_manager']['active']||(this['_root']=_0x1b6774);}get['root'](){return this['_root'];}}const Rc=[],bS=[];class ju extends me{constructor(_0x3dd207,_0x26fb4b,_0x123780,_0x42d9ae=null){super(),h(this,'manager'),h(this,'_xrHitTest'+'Source'),h(this,'_transient'),h(this,'_inputSour'+'ce'),(this['manager']=_0x3dd207,this['_xrHitTest'+'Source']=_0x26fb4b,this['_transient']=_0x123780,this['_inputSour'+'ce']=_0x42d9ae);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0x14153b=this['manager']['hitTest']['sources'],_0x3d2e81=_0x14153b['indexOf'](this);_0x3d2e81!==-(-0xdc9*-0x1+0x2*-0x5bc+-0x4a*0x8)&&_0x14153b['splice'](_0x3d2e81,-0x1b38+-0xcd6+0x280f),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x3011b7){if(this['_transient']){const _0x50ba44=_0x3011b7['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x1a2ac2=0x2f1*0xb+-0x1*0x1ee3+-0x178;_0x1a2ac2<_0x50ba44['length'];_0x1a2ac2++){const _0x48a5a4=_0x50ba44[_0x1a2ac2];if(!_0x48a5a4['results']['length'])continue;let _0x2086c3;_0x48a5a4['inputSourc'+'e']&&(_0x2086c3=this['manager']['input']['_getByInpu'+'tSource'](_0x48a5a4['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x48a5a4['results'],_0x2086c3);}}else{const _0x4b86d8=_0x3011b7['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x4b86d8['length'])return;this['updateHitR'+'esults'](_0x4b86d8);}}['updateHitR'+'esults'](_0x115868,_0x596252){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x596252)return;const _0x191ef4=Rc['pop']()??new D();_0x596252?_0x191ef4['copy'](_0x596252['getOrigin']()):_0x191ef4['copy'](this['manager']['camera']['getPositio'+'n']());let _0x401f50=(0xeed+0x2621+-0x350d)/(-0x14a+0x1042+-0xef8),_0x5661a2=null;const _0x152af7=Rc['pop']()??new D(),_0x122bab=bS['pop']()??new le();for(let _0x2c4a17=0xc45+0x2188+0x1*-0x2dcd;_0x2c4a17<_0x115868['length'];_0x2c4a17++){const _0x5fbdb9=_0x115868[_0x2c4a17]['getPose'](this['manager']['_reference'+'Space']),_0x40dc85=_0x191ef4['distance'](_0x5fbdb9['transform']['position']);_0x40dc85>=_0x401f50||(_0x401f50=_0x40dc85,_0x5661a2=_0x115868[_0x2c4a17],_0x152af7['copy'](_0x5fbdb9['transform']['position']),_0x122bab['copy'](_0x5fbdb9['transform']['orientatio'+'n']));}this['fire']('result',_0x152af7,_0x122bab,_0x596252||this['_inputSour'+'ce'],_0x5661a2),this['manager']['hitTest']['fire']('result',this,_0x152af7,_0x122bab,_0x596252||this['_inputSour'+'ce'],_0x5661a2),Rc['push'](_0x191ef4),Rc['push'](_0x152af7),bS['push'](_0x122bab);}}h(ju,'EVENT_REMO'+'VE','remove'),h(ju,'EVENT_RESU'+'LT','result');class jr extends me{constructor(_0x7e687d){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),h(this,'_available',!(0x1f15+0x139a+-0x32ae)),h(this,'_checkingA'+'vailabilit'+'y',!(-0x2239*-0x1+0x23f*-0xa+-0xa*0x12d)),h(this,'sources',[]),(this['manager']=_0x7e687d,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x35cf86=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(-0x2*-0x3+-0x197*-0x5+-0x78*0x11);if(!_0x35cf86)return;this['_available']=_0x35cf86,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(0x20b3+-0x393+-0x1*0x1d20),this['manager']['session']['requestRef'+'erenceSpac'+'e'](ES)['then'](_0x2752c3=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x2752c3})['then'](_0xb7d1e4=>{_0xb7d1e4['cancel'](),this['manager']['active']&&(this['_available']=!(-0xb1f+-0x6c8+0x11e7),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(-0x5bc+0x2571+-0x1fb4);for(let _0x5e4622=0x5*-0x11e+-0x1852+0x1de8;_0x5e4622<this['sources']['length'];_0x5e4622++)this['sources'][_0x5e4622]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x26d547={}){var _0xd988f4,_0x2fc1af;if(!this['_supported']){(_0xd988f4=_0x26d547['callback'])==null||_0xd988f4['call'](_0x26d547,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x2fc1af=_0x26d547['callback'])==null||_0x2fc1af['call'](_0x26d547,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x26d547['profile']&&!_0x26d547['spaceType']&&(_0x26d547['spaceType']=ES);let _0x4a0b52;const _0x5ab61c=_0x26d547['offsetRay'];if(_0x5ab61c){const _0x51142b=new DOMPoint(_0x5ab61c['origin']['x'],_0x5ab61c['origin']['y'],_0x5ab61c['origin']['z'],-0x26d1+-0x20e6+0x47b8),_0x53147d=new DOMPoint(_0x5ab61c['direction']['x'],_0x5ab61c['direction']['y'],_0x5ab61c['direction']['z'],-0x1*0x1032+0x1de5*0x1+-0xdb3);_0x4a0b52=new XRRay(_0x51142b,_0x53147d);}const _0x519fbc=_0x26d547['callback'];_0x26d547['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x26d547['spaceType'])['then'](_0x2c4f01=>{if(!this['manager']['session']){const _0x47b25a=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x519fbc&&_0x519fbc(_0x47b25a),this['fire']('error',_0x47b25a);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x2c4f01,'entityTypes':_0x26d547['entityType'+'s']||void(0x1ec9+-0x5*-0x1f8+0x3*-0xd8b),'offsetRay':_0x4a0b52})['then'](_0x4d4430=>{this['_onHitTest'+'Source'](_0x4d4430,!(0xa44*-0x2+-0x16d7+0x1*0x2b60),_0x26d547['inputSourc'+'e'],_0x519fbc);})['catch'](_0x4409af=>{_0x519fbc&&_0x519fbc(_0x4409af),this['fire']('error',_0x4409af);});})['catch'](_0x156252=>{_0x519fbc&&_0x519fbc(_0x156252),this['fire']('error',_0x156252);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x26d547['profile'],'entityTypes':_0x26d547['entityType'+'s']||void(0x231*0xf+-0x59*0x19+-0x182e),'offsetRay':_0x4a0b52})['then'](_0x26866b=>{this['_onHitTest'+'Source'](_0x26866b,!(-0x23d3+0xcbf+0x1714),_0x26d547['inputSourc'+'e'],_0x519fbc);})['catch'](_0x3f0d14=>{_0x519fbc&&_0x519fbc(_0x3f0d14),this['fire']('error',_0x3f0d14);});}['_onHitTest'+'Source'](_0x1a6eb3,_0x210934,_0x536e35,_0x1b5673){if(!this['manager']['session']){_0x1a6eb3['cancel']();const _0x180732=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x1b5673&&_0x1b5673(_0x180732),this['fire']('error',_0x180732);return;}const _0x92fafd=new ju(this['manager'],_0x1a6eb3,_0x210934,_0x536e35??null);this['sources']['push'](_0x92fafd),_0x1b5673&&_0x1b5673(null,_0x92fafd),this['fire']('add',_0x92fafd);}['update'](_0x55e720){if(this['_available']){for(let _0x3c8edf=-0x1190*-0x2+-0x145e+-0xec2;_0x3c8edf<this['sources']['length'];_0x3c8edf++)this['sources'][_0x3c8edf]['update'](_0x55e720);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}h(jr,'EVENT_AVAI'+'LABLE','available'),h(jr,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(jr,'EVENT_ADD','add'),h(jr,'EVENT_REMO'+'VE','remove'),h(jr,'EVENT_RESU'+'LT','result'),h(jr,'EVENT_ERRO'+'R','error');class Yu extends me{constructor(_0x5e1a83,_0x221463){super(),h(this,'_image'),h(this,'_width'),h(this,'_bitmap',null),h(this,'_measuredW'+'idth',-0xfc1*0x1+-0x2d5+0x1*0x1296),h(this,'_trackable',!(-0x3*0x685+-0x25d8+-0x8*-0x72d)),h(this,'_tracking',!(0x713*-0x1+0x1*-0x1391+0x1aa5)),h(this,'_emulated',!(0xf47+0x205+0x114b*-0x1)),h(this,'_pose',null),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_image']=_0x5e1a83,this['_width']=_0x221463);}get['image'](){return this['_image'];}set['width'](_0x3de3f6){this['_width']=_0x3de3f6;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x1752d5=>(this['_bitmap']=_0x1752d5,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}h(Yu,'EVENT_TRAC'+'KED','tracked'),h(Yu,'EVENT_UNTR'+'ACKED','untracked');class L0 extends me{constructor(_0xbd6c43){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),h(this,'_available',!(-0x1*-0x1369+0x213d+-0x34a5)),h(this,'_images',[]),(this['_manager']=_0xbd6c43,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x269295,_0x3b8d07){if(!this['_supported']||this['_manager']['active'])return null;const _0x5d4801=new Yu(_0x269295,_0x3b8d07);return this['_images']['push'](_0x5d4801),_0x5d4801;}['remove'](_0x480a7a){if(this['_manager']['active'])return;const _0x40ad47=this['_images']['indexOf'](_0x480a7a);_0x40ad47!==-(-0x1be3+-0x25b7+0x419b)&&(_0x480a7a['destroy'](),this['_images']['splice'](_0x40ad47,-0xb5+0x1*0x1a6f+0x5*-0x525));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0xae6841=>{this['_available']=!(0x878*0x2+-0x107b+-0x75);for(let _0x3705ff=-0x1f12+-0x509*0x5+0x383f;_0x3705ff<_0xae6841['length'];_0x3705ff++)this['_images'][_0x3705ff]['_trackable']=_0xae6841[_0x3705ff]==='trackable';})['catch'](_0x32c91e=>{this['_available']=!(-0x480+-0x1cd8+0x2159),this['fire']('error',_0x32c91e);});}['_onSession'+'End'](){this['_available']=!(-0x3*-0x52a+-0x44d*-0x6+-0x294b);for(let _0x2e4e2c=0x1bee+0xed4+-0x2ac2;_0x2e4e2c<this['_images']['length'];_0x2e4e2c++){const _0x233906=this['_images'][_0x2e4e2c];_0x233906['_pose']=null,_0x233906['_measuredW'+'idth']=-0xfde+-0x121a+-0x87e*-0x4,_0x233906['_tracking']&&(_0x233906['_tracking']=!(-0xf28+-0x1*-0x1dda+-0xeb1*0x1),_0x233906['fire']('untracked'));}}['prepareIma'+'ges'](_0x2bffdd){this['_images']['length']?Promise['all'](this['_images']['map'](_0x29cd76=>_0x29cd76['prepare']()))['then'](_0x9203ab=>{_0x2bffdd(null,_0x9203ab);})['catch'](_0x306896=>{_0x2bffdd(_0x306896,null);}):_0x2bffdd(null,null);}['update'](_0xd6cb24){if(!this['_available'])return;const _0x3d5905=_0xd6cb24['getImageTr'+'ackingResu'+'lts'](),_0x2f1b64={};for(let _0x174461=-0x404+-0x20b*-0x9+0xe5f*-0x1;_0x174461<_0x3d5905['length'];_0x174461++){_0x2f1b64[_0x3d5905[_0x174461]['index']]=_0x3d5905[_0x174461];const _0x2f164f=this['_images'][_0x3d5905[_0x174461]['index']];_0x2f164f['_emulated']=_0x3d5905[_0x174461]['trackingSt'+'ate']==='emulated',_0x2f164f['_measuredW'+'idth']=_0x3d5905[_0x174461]['measuredWi'+'dthInMeter'+'s'],_0x2f164f['_pose']=_0xd6cb24['getPose'](_0x3d5905[_0x174461]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x3e83c9=0x926*0x2+-0x1bd7*0x1+0x98b*0x1;_0x3e83c9<this['_images']['length'];_0x3e83c9++)this['_images'][_0x3e83c9]['_tracking']&&!_0x2f1b64[_0x3e83c9]?(this['_images'][_0x3e83c9]['_tracking']=!(-0x8a*-0x34+-0x7aa+-0xd*0x191),this['_images'][_0x3e83c9]['fire']('untracked')):!this['_images'][_0x3e83c9]['_tracking']&&_0x2f1b64[_0x3e83c9]&&(this['_images'][_0x3e83c9]['_tracking']=!(0x132a+-0x25*0x9e+0x3ac),this['_images'][_0x3e83c9]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}h(L0,'EVENT_ERRO'+'R','error');class uU{constructor(_0x4e6b4a,_0x539c91){h(this,'_index'),h(this,'_hand'),h(this,'_joints',[]),h(this,'_tip',null),(this['_index']=_0x4e6b4a,this['_hand']=_0x539c91,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const AS=Ae['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],R0={};for(let l=-0xd89+-0x1236+-0x81*-0x3f;l<AS['length'];l++)R0[AS[l]]=!(-0x1abd+0x2129+-0x3*0x224);class CS{constructor(_0x2d51e5,_0x48505a,_0x5b410d,_0x5a5d78=null){h(this,'_index'),h(this,'_id'),h(this,'_hand'),h(this,'_finger'),h(this,'_wrist'),h(this,'_tip'),h(this,'_radius',null),h(this,'_localTran'+'sform',new te()),h(this,'_worldTran'+'sform',new te()),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_dirtyLoca'+'l',!(-0x17*-0x107+-0xc*0xcb+0x1*-0xe1d)),(this['_index']=_0x2d51e5,this['_id']=_0x48505a,this['_hand']=_0x5b410d,this['_finger']=_0x5a5d78,this['_wrist']=_0x48505a==='wrist',this['_tip']=this['_finger']&&!!R0[_0x48505a]);}['update'](_0x40c179){this['_dirtyLoca'+'l']=!(-0x13*0x9d+0x1ed7+-0x1330),this['_radius']=_0x40c179['radius'],this['_localPosi'+'tion']['copy'](_0x40c179['transform']['position']),this['_localRota'+'tion']['copy'](_0x40c179['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(0x2*0xeb9+0x4*-0x742+-0x69),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0x41ccb9=this['_hand']['_manager']['camera']['parent'];_0x41ccb9?this['_worldTran'+'sform']['mul2'](_0x41ccb9['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||-0x10*0x103+-0x15*-0x12e+-0x896+0.005;}}let rh=[];const Wr=new D(),Oc=new D(),PS=new D();Ae['browser']&&window['XRHand']&&(rh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Ku extends me{constructor(_0x367d02){super(),h(this,'_manager'),h(this,'_inputSour'+'ce'),h(this,'_tracking',!(0xd95+0x117e+-0xc2*0x29)),h(this,'_fingers',[]),h(this,'_joints',[]),h(this,'_jointsByI'+'d',{}),h(this,'_tips',[]),h(this,'_wrist',null);const _0x3b6e16=_0x367d02['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x367d02['_manager'],this['_inputSour'+'ce']=_0x367d02,_0x3b6e16['get']('wrist')){const _0x3dc82c=new CS(-0xa52+-0x1a07+0x2459,'wrist',this,null);this['_wrist']=_0x3dc82c,this['_joints']['push'](_0x3dc82c),this['_jointsByI'+'d']['wrist']=_0x3dc82c;}for(let _0x5df40a=0x1641*-0x1+0x626+0x101b;_0x5df40a<rh['length'];_0x5df40a++){const _0x266989=new uU(_0x5df40a,this);for(let _0x1e2ab2=0x6be+-0x42*-0x65+-0x20c8;_0x1e2ab2<rh[_0x5df40a]['length'];_0x1e2ab2++){const _0x30e1cb=rh[_0x5df40a][_0x1e2ab2];if(!_0x3b6e16['get'](_0x30e1cb))continue;const _0xb7df58=new CS(_0x1e2ab2,_0x30e1cb,this,_0x266989);this['_joints']['push'](_0xb7df58),this['_jointsByI'+'d'][_0x30e1cb]=_0xb7df58,_0xb7df58['tip']&&(this['_tips']['push'](_0xb7df58),_0x266989['_tip']=_0xb7df58),_0x266989['_joints']['push'](_0xb7df58);}}}['update'](_0x4acf6a){const _0x575155=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0x5d23c0=0x83*-0x1d+-0xbcb*0x1+-0xd51*-0x2;_0x5d23c0<this['_joints']['length'];_0x5d23c0++){const _0x364122=this['_joints'][_0x5d23c0],_0xb2a100=_0x575155['hand']['get'](_0x364122['_id']);if(_0xb2a100){let _0x1a1206;if(_0x4acf6a['session']['visibility'+'State']!=='hidden'&&(_0x1a1206=_0x4acf6a['getJointPo'+'se'](_0xb2a100,this['_manager']['_reference'+'Space'])),_0x1a1206)_0x364122['update'](_0x1a1206),_0x364122['wrist']&&!this['_tracking']&&(this['_tracking']=!(-0x763*0x1+0xc1c+-0x4b9),this['fire']('tracking'));else{if(_0x364122['wrist']){this['_tracking']&&(this['_tracking']=!(-0x137c+-0x74*-0x29+0xe9*0x1),this['fire']('trackinglo'+'st'));break;}}}}const _0x41112a=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x476e16=this['_jointsByI'+'d']['thumb-tip'],_0x2692f8=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x24014a=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0x4212c6=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0x1588b7=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x41112a&&_0x476e16&&_0x2692f8&&_0x24014a&&_0x4212c6&&_0x1588b7){this['_inputSour'+'ce']['_dirtyRay']=!(0x1*-0x2027+0x15c6+0xa61),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x476e16['_localPosi'+'tion'],_0x24014a['_localPosi'+'tion'],-0x1b*0xfb+-0x20e5+-0x22*-0x1bf+0.5);let _0x3b1f53=_0x41112a,_0x4a7b37=_0x1588b7;if(this['_inputSour'+'ce']['handedness']===hU){const _0x12589e=_0x3b1f53;_0x3b1f53=_0x4a7b37,_0x4a7b37=_0x12589e;}Wr['sub2'](_0x3b1f53['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Oc['sub2'](_0x4a7b37['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),PS['cross'](Wr,Oc)['normalize'](),Wr['lerp'](_0x2692f8['_localPosi'+'tion'],_0x4212c6['_localPosi'+'tion'],-0x143d+0x200b*0x1+-0x2*0x5e7+0.5),Wr['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](PS,Wr,0x24*-0x4d+0x4a*-0x2+0xb68+0.5)['normalize']();}this['_fingerIsC'+'losed'](-0x13f3+0x3*-0x45d+-0x301*-0xb)&&this['_fingerIsC'+'losed'](0x46*-0xd+-0x2032+0x2e*0xc7)&&this['_fingerIsC'+'losed'](-0x21c8+0x1c3b+-0xb2*-0x8)&&this['_fingerIsC'+'losed'](-0xf3d+0x9f*0x18+0x59)?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(-0x283*0x5+-0xff2+-0x1*-0x1c81),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(-0x190e+0x13c+0x1*0x17d3),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingerIsC'+'losed'](_0x138acc){const _0x5815fc=this['_fingers'][_0x138acc];return Wr['sub2'](_0x5815fc['joints'][-0x4b9*0x3+0xead+-0x82]['_localPosi'+'tion'],_0x5815fc['joints'][-0x877+-0x195f+-0x21d7*-0x1]['_localPosi'+'tion'])['normalize'](),Oc['sub2'](_0x5815fc['joints'][-0x1d3c+-0x466+0x869*0x4]['_localPosi'+'tion'],_0x5815fc['joints'][-0xc9d+0x1*0x1791+0x1*-0xaf1]['_localPosi'+'tion'])['normalize'](),Wr['dot'](Oc)<-(0x59*-0x51+0x21dd+-0x5b4+0.8);}['getJointBy'+'Id'](_0x168e5b){return this['_jointsByI'+'d'][_0x168e5b]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}h(Ku,'EVENT_TRAC'+'KING','tracking'),h(Ku,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const MS=new D(),DS=new le();let pU=0x1*-0x212b+0x4cd*-0x1+-0x51*-0x78;class Qt extends me{constructor(_0x18ae05,_0x49ee9e){super(),h(this,'_id'),h(this,'_manager'),h(this,'_xrInputSo'+'urce'),h(this,'_ray',new Dn()),h(this,'_rayLocal',new Dn()),h(this,'_grip',!(0x9*0x2a1+-0x1*-0x146f+-0x1*0x2c17)),h(this,'_hand',null),h(this,'_velocitie'+'sAvailable',!(-0x375+-0x1a53+0x1*0x1dc9)),h(this,'_velocitie'+'sTimestamp',de()),h(this,'_localTran'+'sform',null),h(this,'_worldTran'+'sform',null),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_localPosi'+'tion',null),h(this,'_localPosi'+'tionLast',null),h(this,'_localRota'+'tion',null),h(this,'_linearVel'+'ocity',null),h(this,'_dirtyLoca'+'l',!(-0x17c4+0x1a43+-0x9*0x47)),h(this,'_dirtyRay',!(-0x1*0x819+-0x27*0x2f+-0x1*-0xf43)),h(this,'_selecting',!(-0xde+-0x1*-0xb1d+-0xa3e)),h(this,'_squeezing',!(0x1fb4+-0x78c+-0x1827)),h(this,'_elementIn'+'put',!(-0x2d1*-0x5+-0x101*-0x19+0x11*-0x24e)),h(this,'_elementEn'+'tity',null),h(this,'_hitTestSo'+'urces',[]),(this['_id']=++pU,this['_manager']=_0x18ae05,this['_xrInputSo'+'urce']=_0x49ee9e,_0x49ee9e['hand']&&(this['_hand']=new Ku(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x1481fe){this['_elementIn'+'put']!==_0x1481fe&&(this['_elementIn'+'put']=_0x1481fe,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0x4e1255){if(this['_hand'])this['_hand']['update'](_0x4e1255);else{const _0x145072=this['_xrInputSo'+'urce']['gripSpace'];if(_0x145072){const _0x1f6eb9=_0x4e1255['getPose'](_0x145072,this['_manager']['_reference'+'Space']);if(_0x1f6eb9){this['_grip']||(this['_grip']=!(-0xd2+-0x16de*-0x1+-0x160c),this['_localTran'+'sform']=new te(),this['_worldTran'+'sform']=new te(),this['_localPosi'+'tionLast']=new D(),this['_localPosi'+'tion']=new D(),this['_localRota'+'tion']=new le(),this['_linearVel'+'ocity']=new D());const _0x4fafb3=de(),_0x47c55c=(_0x4fafb3-this['_velocitie'+'sTimestamp'])/(-0xb3b+-0x1d4f+0x1639*0x2);this['_velocitie'+'sTimestamp']=_0x4fafb3,this['_dirtyLoca'+'l']=!(0x1791+-0x1*-0x2608+0xd*-0x4bd),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x1f6eb9['transform']['position']),this['_localRota'+'tion']['copy'](_0x1f6eb9['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(-0x21f4+-0x2c*0x68+-0x3e*-0xd6),this['_manager']['input']['velocities'+'Supported']&&_0x1f6eb9['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x1f6eb9['linearVelo'+'city']):_0x47c55c>0x1233+0x5*0x121+-0x17d8&&(MS['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x47c55c),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],MS,-0xab3*-0x1+0x622*-0x4+0xdd5+0.15));}else this['_velocitie'+'sAvailable']=!(0x14bd+-0x4af*-0x2+-0x1e1a);}const _0x136b7d=_0x4e1255['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0x136b7d&&(this['_dirtyRay']=!(-0x1ad9+0x2e9*0x1+0x5fc*0x4),this['_rayLocal']['origin']['copy'](_0x136b7d['transform']['position']),this['_rayLocal']['direction']['set'](0xf*0xb3+0x2e*-0x9+-0x8df,0x1*0x15c7+-0xc8c+-0x93b,-(-0x6da+0x54b+-0x32*-0x8)),DS['copy'](_0x136b7d['transform']['orientatio'+'n']),DS['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x1*0x23df+0x238c+-0x1c*-0x3),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0x5d7512=this['_manager']['camera']['parent'];_0x5d7512?this['_worldTran'+'sform']['mul2'](_0x5d7512['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x2691ed=this['_dirtyRay'];if(this['_dirtyRay']=!(0x17b1+0xe24+-0x25d4),this['_manager']['camera']['parent']){const _0x4a6e01=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x4a6e01['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x4a6e01),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x2691ed&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x4900a3={}){_0x4900a3['inputSourc'+'e']=this,_0x4900a3['profile']=this['_xrInputSo'+'urce']['profiles'][-0xc4c+0x2f9+0xd9*0xb];const _0x399c64=_0x4900a3['callback'];_0x4900a3['callback']=(_0x546a3b,_0x52cb66)=>{_0x52cb66&&this['onHitTestS'+'ourceAdd'](_0x52cb66),_0x399c64&&_0x399c64(_0x546a3b,_0x52cb66);},this['_manager']['hitTest']['start'](_0x4900a3);}['onHitTestS'+'ourceAdd'](_0x38cdbd){this['_hitTestSo'+'urces']['push'](_0x38cdbd),this['fire']('hittest:ad'+'d',_0x38cdbd),_0x38cdbd['on']('result',(_0x4fc0f0,_0x42a08c,_0x1325aa,_0x1d7b0f)=>{_0x1325aa===this&&this['fire']('hittest:re'+'sult',_0x38cdbd,_0x4fc0f0,_0x42a08c,_0x1d7b0f);}),_0x38cdbd['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x38cdbd),this['fire']('hittest:re'+'move',_0x38cdbd);});}['onHitTestS'+'ourceRemov'+'e'](_0x43b95e){const _0x2f0ee2=this['_hitTestSo'+'urces']['indexOf'](_0x43b95e);_0x2f0ee2!==-(-0x2*-0x9c7+0x1*0x19fd+0x1d*-0x192)&&this['_hitTestSo'+'urces']['splice'](_0x2f0ee2,0x23*0x59+0x170a+-0xbbc*0x3);}}h(Qt,'EVENT_REMO'+'VE','remove'),h(Qt,'EVENT_SELE'+'CT','select'),h(Qt,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Qt,'EVENT_SELE'+'CTEND','selectend'),h(Qt,'EVENT_SQUE'+'EZE','squeeze'),h(Qt,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Qt,'EVENT_SQUE'+'EZEEND','squeezeend'),h(Qt,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),h(Qt,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),h(Qt,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class Li extends me{constructor(_0x3527f4){var _0x381130,_0x3df063;super(),h(this,'manager'),h(this,'_inputSour'+'ces',[]),h(this,'_onInputSo'+'urcesChang'+'eEvt'),h(this,'velocities'+'Supported',!(-0x1b88*-0x1+-0x1ce2+0x15b*0x1)),(this['manager']=_0x3527f4,this['velocities'+'Supported']=!!(Ae['browser']&&((_0x3df063=(_0x381130=window['XRPose'])==null?void(-0x22ee+0x153*-0x1a+0x455c):_0x381130['prototype'])!=null&&_0x3df063['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x59860a=>{this['_onInputSo'+'urcesChang'+'e'](_0x59860a);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x5d55a5=this['manager']['session'];_0x5d55a5['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x5d55a5['addEventLi'+'stener']('select',_0xb67b66=>{const _0x25f13b=this['_getByInpu'+'tSource'](_0xb67b66['inputSourc'+'e']);_0x25f13b['update'](_0xb67b66['frame']),_0x25f13b['fire']('select',_0xb67b66),this['fire']('select',_0x25f13b,_0xb67b66);}),_0x5d55a5['addEventLi'+'stener']('selectstar'+'t',_0x2e53f4=>{const _0x18f1e8=this['_getByInpu'+'tSource'](_0x2e53f4['inputSourc'+'e']);_0x18f1e8['_selecting']||(_0x18f1e8['update'](_0x2e53f4['frame']),_0x18f1e8['_selecting']=!(-0xe50+0x1e69+-0x1019),_0x18f1e8['fire']('selectstar'+'t',_0x2e53f4),this['fire']('selectstar'+'t',_0x18f1e8,_0x2e53f4));}),_0x5d55a5['addEventLi'+'stener']('selectend',_0x3ac734=>{const _0x465e68=this['_getByInpu'+'tSource'](_0x3ac734['inputSourc'+'e']);_0x465e68['update'](_0x3ac734['frame']),_0x465e68['_selecting']=!(0x12a1+0x1*0x99b+0x291*-0xb),_0x465e68['fire']('selectend',_0x3ac734),this['fire']('selectend',_0x465e68,_0x3ac734);}),_0x5d55a5['addEventLi'+'stener']('squeeze',_0x69e2e4=>{const _0x34470c=this['_getByInpu'+'tSource'](_0x69e2e4['inputSourc'+'e']);_0x34470c['update'](_0x69e2e4['frame']),_0x34470c['fire']('squeeze',_0x69e2e4),this['fire']('squeeze',_0x34470c,_0x69e2e4);}),_0x5d55a5['addEventLi'+'stener']('squeezesta'+'rt',_0x530e77=>{const _0x513b3b=this['_getByInpu'+'tSource'](_0x530e77['inputSourc'+'e']);_0x513b3b['update'](_0x530e77['frame']),_0x513b3b['_squeezing']=!(0x41*-0x69+0x1*-0x1778+0x3221*0x1),_0x513b3b['fire']('squeezesta'+'rt',_0x530e77),this['fire']('squeezesta'+'rt',_0x513b3b,_0x530e77);}),_0x5d55a5['addEventLi'+'stener']('squeezeend',_0x5a28ac=>{const _0x4d5abc=this['_getByInpu'+'tSource'](_0x5a28ac['inputSourc'+'e']);_0x4d5abc['update'](_0x5a28ac['frame']),_0x4d5abc['_squeezing']=!(-0x141d+-0x227a+0x3698),_0x4d5abc['fire']('squeezeend',_0x5a28ac),this['fire']('squeezeend',_0x4d5abc,_0x5a28ac);});const _0x68dc26=_0x5d55a5['inputSourc'+'es'];for(let _0x1ff1bb=0xf86+0x1520+0x1*-0x24a6;_0x1ff1bb<_0x68dc26['length'];_0x1ff1bb++)this['_addInputS'+'ource'](_0x68dc26[_0x1ff1bb]);}['_onSession'+'End'](){let _0x2da45d=this['_inputSour'+'ces']['length'];for(;_0x2da45d--;){const _0x2c1db7=this['_inputSour'+'ces'][_0x2da45d];this['_inputSour'+'ces']['splice'](_0x2da45d,-0x5*-0x50d+0x80+-0x19c0),_0x2c1db7['fire']('remove'),this['fire']('remove',_0x2c1db7);}this['fire']('removeall'),this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x3bdd68){for(let _0x2a257f=-0x2414+0x51b+0x1ef9;_0x2a257f<_0x3bdd68['removed']['length'];_0x2a257f++)this['_removeInp'+'utSource'](_0x3bdd68['removed'][_0x2a257f]);for(let _0xfb0f8c=0x995*0x1+-0xb*-0x1f5+-0x7c7*0x4;_0xfb0f8c<_0x3bdd68['added']['length'];_0xfb0f8c++)this['_addInputS'+'ource'](_0x3bdd68['added'][_0xfb0f8c]);}['_getByInpu'+'tSource'](_0x520627){for(let _0x3ba4ac=-0x6cb+-0x1*0x19e2+-0x689*-0x5;_0x3ba4ac<this['_inputSour'+'ces']['length'];_0x3ba4ac++)if(this['_inputSour'+'ces'][_0x3ba4ac]['inputSourc'+'e']===_0x520627)return this['_inputSour'+'ces'][_0x3ba4ac];return null;}['_removeApp'+'Entity'](_0x27a94d){const _0x290bc8=this['manager']['app']['root']['findByName']('Armature_'+_0x27a94d);_0x290bc8&&this['manager']['app']['root']['removeChil'+'d'](_0x290bc8);}['_addInputS'+'ource'](_0x5129ec){if(this['_removeApp'+'Entity'](_0x5129ec['handedness']),this['_getByInpu'+'tSource'](_0x5129ec))return;const _0x5859e9=new Qt(this['manager'],_0x5129ec);this['_inputSour'+'ces']['push'](_0x5859e9),this['fire']('add',_0x5859e9);}['_removeInp'+'utSource'](_0x568d6c){for(let _0x2aa09c=-0x1712*-0x1+-0x14a4+-0x26e;_0x2aa09c<this['_inputSour'+'ces']['length'];_0x2aa09c++){if(this['_inputSour'+'ces'][_0x2aa09c]['inputSourc'+'e']!==_0x568d6c)continue;const _0x4fe35a=this['_inputSour'+'ces'][_0x2aa09c];this['_inputSour'+'ces']['splice'](_0x2aa09c,0x230b*0x1+-0x2*-0xaca+-0x389e);let _0x594c7b=_0x4fe35a['hitTestSou'+'rces']['length'];for(;_0x594c7b--;)_0x4fe35a['hitTestSou'+'rces'][_0x594c7b]['remove']();this['_removeApp'+'Entity'](_0x4fe35a['handedness']),_0x4fe35a['fire']('remove'),this['fire']('remove',_0x4fe35a);return;}}['update'](_0x689f9e){for(let _0x3819b4=0x5*-0x7d+-0x1da0+0x2011*0x1;_0x3819b4<this['_inputSour'+'ces']['length'];_0x3819b4++)this['_inputSour'+'ces'][_0x3819b4]['update'](_0x689f9e);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}h(Li,'EVENT_ADD','add'),h(Li,'EVENT_REMO'+'VE','remove'),h(Li,'EVENT_SELE'+'CT','select'),h(Li,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Li,'EVENT_SELE'+'CTEND','selectend'),h(Li,'EVENT_SQUE'+'EZE','squeeze'),h(Li,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Li,'EVENT_SQUE'+'EZEEND','squeezeend');const Ja=new D(),IS=new D(),Lf=new te(),LS=new te();class Zu extends me{constructor(_0x439c20){super(),h(this,'_manager'),h(this,'_supported',!(-0x15af+-0x43c+0x2a*0x9e)),h(this,'_available',!(-0x1b46*-0x1+0x1f35+-0x1*0x3a7a)),h(this,'_lightProb'+'eRequested',!(0x20f2+0x7d9+0x17*-0x1c6)),h(this,'_lightProb'+'e',null),h(this,'_intensity',0x27*0xa9+0x1d11+0x36d*-0x10),h(this,'_rotation',new le()),h(this,'_color',new ie()),h(this,'_spherical'+'Harmonics',new Float32Array(-0xe72*-0x2+-0x791+-0x1538)),(this['_manager']=_0x439c20,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(-0xa96+-0x619+0x10af));}['_onSession'+'End'](){this['_supported']=!(-0x1539+0x6be*-0x2+0x22b6),this['_available']=!(0x23ef+-0x238a+-0x64),this['_lightProb'+'eRequested']=!(-0x5c0+-0x9*0x3e1+0x6c7*0x6),this['_lightProb'+'e']=null;}['start'](){let _0x4c2bad;if(this['_manager']['session']||(_0x4c2bad=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0x4c2bad&&this['_manager']['type']!==$o&&(_0x4c2bad=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0x4c2bad&&!this['_supported']&&(_0x4c2bad=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0x4c2bad&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0x4c2bad=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0x4c2bad){this['fire']('error',_0x4c2bad);return;}this['_lightProb'+'eRequested']=!(-0x96f+-0x9*0x21a+0x1c59),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x3e36b7=>{const _0x3925fc=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(0x20d8+0x16ed+-0x37c4),this['_manager']['active']?_0x3925fc&&(this['_lightProb'+'e']=_0x3e36b7):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x3ca752=>{this['_lightProb'+'eRequested']=!(-0xf*-0xe1+0xee1+-0x1c0f),this['fire']('error',_0x3ca752);});}['end'](){this['_lightProb'+'eRequested']=!(0x1ffb*-0x1+0x208e+-0x92),this['_lightProb'+'e']=null,this['_available']=!(-0x2*-0xe51+0x4*0x22d+0x2555*-0x1);}['update'](_0xfc813c){if(!this['_lightProb'+'e'])return;const _0x2c3174=_0xfc813c['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x2c3174)return;this['_available']||(this['_available']=!(0x1d87*-0x1+0x1cb7+-0x2*-0x68),this['fire']('available'));const _0x1bd953=_0x2c3174['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](-0x1fd6+0x745*-0x3+0x5f6*0x9,Math['max'](_0x1bd953['x'],Math['max'](_0x1bd953['y'],_0x1bd953['z']))),Ja['copy'](_0x1bd953)['mulScalar']((-0x7ab+0x3e7+-0x5*-0xc1)/this['_intensity']),this['_color']['set'](Ja['x'],Ja['y'],Ja['z']),Ja['set'](0x16f1+0x17*-0x125+0x362,0x25*0x1+0x15f+-0x184,-0x82+-0x93*0x3f+-0x24af*-0x1),IS['copy'](_0x2c3174['primaryLig'+'htDirectio'+'n']),Lf['setLookAt'](IS,Ja,D['UP']),LS['setFromAxi'+'sAngle'](D['RIGHT'],-0x3d4+-0x741+0xb6f),Lf['mul'](LS),this['_rotation']['setFromMat'+'4'](Lf),this['_spherical'+'Harmonics']['set'](_0x2c3174['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}h(Zu,'EVENT_AVAI'+'LABLE','available'),h(Zu,'EVENT_ERRO'+'R','error');let mU=0xaf*-0x32+0x355*0x5+-0x73*-0x27;class Qu extends me{constructor(_0x1897e1,_0x4cfade){super(),h(this,'_id'),h(this,'_planeDete'+'ction'),h(this,'_xrPlane'),h(this,'_lastChang'+'edTime'),h(this,'_orientati'+'on'),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_id']=++mU,this['_planeDete'+'ction']=_0x1897e1,this['_xrPlane']=_0x4cfade,this['_lastChang'+'edTime']=_0x4cfade['lastChange'+'dTime'],this['_orientati'+'on']=_0x4cfade['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x1f351d){const _0x5d3224=this['_planeDete'+'ction']['_manager'],_0x3712e4=_0x1f351d['getPose'](this['_xrPlane']['planeSpace'],_0x5d3224['_reference'+'Space']);_0x3712e4&&(this['_position']['copy'](_0x3712e4['transform']['position']),this['_rotation']['copy'](_0x3712e4['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}h(Qu,'EVENT_REMO'+'VE','remove'),h(Qu,'EVENT_CHAN'+'GE','change');class Do extends me{constructor(_0x3aba22){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRPlane']),h(this,'_available',!(0x23*0x41+0x25*0xd7+-0x27f5)),h(this,'_planesInd'+'ex',new Map()),h(this,'_planes',[]),(this['_manager']=_0x3aba22,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(-0x27*-0x4c+0x1b61+-0x3*0xcfc)&&(this['_available']=!(0x1714+0x5fc*0x2+-0x230c),this['fire']('available'));}['_onSession'+'End'](){for(let _0x3ca78c=0x1591*0x1+-0x2625*-0x1+-0x3bb6*0x1;_0x3ca78c<this['_planes']['length'];_0x3ca78c++)this['_planes'][_0x3ca78c]['destroy'](),this['fire']('remove',this['_planes'][_0x3ca78c]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=-0x15bf*0x1+-0x1271+0x2830,this['_available']&&(this['_available']=!(0x10c9+0x1*0x2485+-0x5*0xaa9),this['fire']('unavailabl'+'e'));}['update'](_0x510408){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x510408['detectedPl'+'anes']['size'])this['_available']=!(-0x35*0x4c+0xe58+0x164*0x1),this['fire']('available');else return;}const _0x10a2b5=_0x510408['detectedPl'+'anes'];for(const [_0xfeb642,_0x493ea1]of this['_planesInd'+'ex'])_0x10a2b5['has'](_0xfeb642)||(this['_planesInd'+'ex']['delete'](_0xfeb642),this['_planes']['splice'](this['_planes']['indexOf'](_0x493ea1),0x31*-0x92+-0x57c+0x216f),_0x493ea1['destroy'](),this['fire']('remove',_0x493ea1));for(const _0xb63a8c of _0x10a2b5){let _0x5c6556=this['_planesInd'+'ex']['get'](_0xb63a8c);_0x5c6556?_0x5c6556['update'](_0x510408):(_0x5c6556=new Qu(this,_0xb63a8c),this['_planesInd'+'ex']['set'](_0xb63a8c,_0x5c6556),this['_planes']['push'](_0x5c6556),_0x5c6556['update'](_0x510408),this['fire']('add',_0x5c6556));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}h(Do,'EVENT_AVAI'+'LABLE','available'),h(Do,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Do,'EVENT_ADD','add'),h(Do,'EVENT_REMO'+'VE','remove');class Io extends me{constructor(_0x2ca813,_0x31c7b7,_0x22c39b=null){super(),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_uuid',null),h(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x2ca813,this['_xrAnchor']=_0x31c7b7,this['_uuid']=_0x22c39b);}['destroy'](){if(!this['_xrAnchor'])return;const _0x5de440=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x5de440,this);}['update'](_0x21fa4c){if(!this['_xrAnchor'])return;const _0x597046=_0x21fa4c['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x597046){if(this['_position']['equals'](_0x597046['transform']['position'])&&this['_rotation']['equals'](_0x597046['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x597046['transform']['position']),this['_rotation']['copy'](_0x597046['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x3cf2d1){if(!this['_anchors']['persistenc'+'e']){_0x3cf2d1==null||_0x3cf2d1(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x3cf2d1==null||_0x3cf2d1(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x3cf2d1&&this['_uuidReque'+'sts']['push'](_0x3cf2d1);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0x41ba6d=>{this['_uuid']=_0x41ba6d,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x3cf2d1==null||_0x3cf2d1(null,_0x41ba6d);for(const _0x1668d7 of this['_uuidReque'+'sts'])_0x1668d7(null,_0x41ba6d);this['_uuidReque'+'sts']=null,this['fire']('persist',_0x41ba6d);})['catch'](_0x53ae0b=>{_0x3cf2d1==null||_0x3cf2d1(_0x53ae0b,null);for(const _0x534b2b of this['_uuidReque'+'sts'])_0x534b2b(_0x53ae0b,null);this['_uuidReque'+'sts']=null;});}['forget'](_0x52d6c3){if(!this['_uuid']){_0x52d6c3==null||_0x52d6c3(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x5d9a26=>{this['_uuid']=null,_0x52d6c3==null||_0x52d6c3(_0x5d9a26),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}h(Io,'EVENT_DEST'+'ROY','destroy'),h(Io,'EVENT_CHAN'+'GE','change'),h(Io,'EVENT_PERS'+'IST','persist'),h(Io,'EVENT_FORG'+'ET','forget');var VS;class on extends me{constructor(_0x20f615){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!window['XRAnchor']),h(this,'_available',!(-0x1d6f+0x1*0x1e05+-0x95)),h(this,'_checkingA'+'vailabilit'+'y',!(0x232*0x9+0x8ed+-0x1cae)),h(this,'_persisten'+'ce',Ae['browser']&&!!((VS=window==null?void(0x1*0x384+-0x51*0x11+0x1dd):window['XRSession'])!=null&&VS['prototype']['restorePer'+'sistentAnc'+'hor'])),h(this,'_creationQ'+'ueue',[]),h(this,'_index',new Map()),h(this,'_indexByUu'+'id',new Map()),h(this,'_list',[]),h(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x20f615,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){var _0x4db41e;const _0x430bf6=((_0x4db41e=this['manager']['session']['enabledFea'+'tures'])==null?void(0x56d+-0x8e4+0x377*0x1):_0x4db41e['indexOf']('anchors'))>=-0xbc*-0x4+0x443*-0x1+0x153;_0x430bf6&&(this['_available']=_0x430bf6,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(0x1*0x109d+-0x22e2+-0x1*-0x1246);for(let _0x42c8fb=0x11f4+-0x38c*-0x2+-0x190c;_0x42c8fb<this['_creationQ'+'ueue']['length'];_0x42c8fb++)this['_creationQ'+'ueue'][_0x42c8fb]['callback']&&this['_creationQ'+'ueue'][_0x42c8fb]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=-0x2419+0x14a9+0xf70,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x28bfcc=this['_list']['length'];for(;_0x28bfcc--;)this['_list'][_0x28bfcc]['destroy']();this['_list']['length']=-0x1ba2+-0x16*-0x14a+-0xba,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x5e0225,_0x2697cb=null){const _0x25f26f=new Io(this,_0x5e0225,_0x2697cb);return this['_index']['set'](_0x5e0225,_0x25f26f),_0x2697cb&&this['_indexByUu'+'id']['set'](_0x2697cb,_0x25f26f),this['_list']['push'](_0x25f26f),_0x25f26f['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x25f26f;}['_onAnchorD'+'estroy'](_0x3b72c9,_0xdab5e6){this['_index']['delete'](_0x3b72c9),_0xdab5e6['uuid']&&this['_indexByUu'+'id']['delete'](_0xdab5e6['uuid']);const _0x3c44d3=this['_list']['indexOf'](_0xdab5e6);_0x3c44d3!==-(0x1ea8+-0x612+-0x1895)&&this['_list']['splice'](_0x3c44d3,-0x8d*-0x2f+-0x1*0x1b7f+0x19d),this['fire']('destroy',_0xdab5e6);}['create'](_0xae4835,_0x40eb81,_0x43fc63){if(!this['_available']){_0x43fc63==null||_0x43fc63(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0xae4835 instanceof XRHitTestResult){const _0x53efae=_0xae4835;if(_0x43fc63=_0x40eb81,!this['_supported']){_0x43fc63==null||_0x43fc63(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x53efae['createAnch'+'or']){_0x43fc63==null||_0x43fc63(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x53efae['createAnch'+'or']()['then'](_0x118de8=>{const _0xc6aba5=this['_createAnc'+'hor'](_0x118de8);_0x43fc63==null||_0x43fc63(null,_0xc6aba5),this['fire']('add',_0xc6aba5);})['catch'](_0x611e90=>{_0x43fc63==null||_0x43fc63(_0x611e90,null),this['fire']('error',_0x611e90);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0xae4835,_0x40eb81),'callback':_0x43fc63});}['restore'](_0x24d846,_0x575898){if(!this['_available']){_0x575898==null||_0x575898(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x575898==null||_0x575898(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x575898==null||_0x575898(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x24d846)['then'](_0x1b3c70=>{const _0x1b6dc2=this['_createAnc'+'hor'](_0x1b3c70,_0x24d846);_0x575898==null||_0x575898(null,_0x1b6dc2),this['fire']('add',_0x1b6dc2);})['catch'](_0x5aead9=>{_0x575898==null||_0x575898(_0x5aead9,null),this['fire']('error',_0x5aead9);});}['forget'](_0x544350,_0x4692dd){if(!this['_available']){_0x4692dd==null||_0x4692dd(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x4692dd==null||_0x4692dd(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x4692dd==null||_0x4692dd(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x544350)['then'](()=>{_0x4692dd==null||_0x4692dd(null);})['catch'](_0x55eec8=>{_0x4692dd==null||_0x4692dd(_0x55eec8),this['fire']('error',_0x55eec8);});}['update'](_0x338a0f){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(-0x78f+-0x150d*-0x1+0x2*-0x6bf),_0x338a0f['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x59f9db=>{_0x59f9db['delete'](),this['manager']['active']&&(this['_available']=!(0x1b52+0x1f1e+-0x3a70),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x58e150=0x1*0x139d+0x524+-0x1*0x18c1;_0x58e150<this['_creationQ'+'ueue']['length'];_0x58e150++){const _0x571dde=this['_creationQ'+'ueue'][_0x58e150];_0x338a0f['createAnch'+'or'](_0x571dde['transform'],this['manager']['_reference'+'Space'])['then'](_0x270fa7=>{_0x571dde['callback']&&this['_callbacks'+'Anchors']['set'](_0x270fa7,_0x571dde['callback']);})['catch'](_0x3fdc8a=>{_0x571dde['callback']&&_0x571dde['callback'](_0x3fdc8a,null),this['fire']('error',_0x3fdc8a);});}this['_creationQ'+'ueue']['length']=0x26*-0x10+0x130d*-0x2+0x13a*0x21;}for(const [_0x363e29,_0x34ef65]of this['_index'])_0x338a0f['trackedAnc'+'hors']['has'](_0x363e29)||(this['_index']['delete'](_0x363e29),_0x34ef65['destroy']());for(let _0x375293=0x31*0x34+-0x9bc+-0x2*0x1c;_0x375293<this['_list']['length'];_0x375293++)this['_list'][_0x375293]['update'](_0x338a0f);for(const _0x12fffe of _0x338a0f['trackedAnc'+'hors']){if(this['_index']['has'](_0x12fffe))continue;try{const _0x3e9823=_0x12fffe['anchorSpac'+'e'];}catch{continue;}const _0x4ec391=this['_createAnc'+'hor'](_0x12fffe);_0x4ec391['update'](_0x338a0f);const _0x31be04=this['_callbacks'+'Anchors']['get'](_0x12fffe);_0x31be04&&(this['_callbacks'+'Anchors']['delete'](_0x12fffe),_0x31be04(null,_0x4ec391)),this['fire']('add',_0x4ec391);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}h(on,'EVENT_AVAI'+'LABLE','available'),h(on,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(on,'EVENT_ERRO'+'R','error'),h(on,'EVENT_ADD','add'),h(on,'EVENT_DEST'+'ROY','destroy');class Ju extends me{constructor(_0x3e1c34,_0x300fcf){super(),h(this,'_meshDetec'+'tion'),h(this,'_xrMesh'),h(this,'_lastChang'+'ed',-0x452*0x2+-0x2246+0x6*0x727),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_meshDetec'+'tion']=_0x3e1c34,this['_xrMesh']=_0x300fcf,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x5a312d){const _0x2b620a=this['_meshDetec'+'tion']['_manager'],_0x42515c=_0x5a312d['getPose'](this['_xrMesh']['meshSpace'],_0x2b620a['_reference'+'Space']);_0x42515c&&(this['_position']['copy'](_0x42515c['transform']['position']),this['_rotation']['copy'](_0x42515c['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}h(Ju,'EVENT_REMO'+'VE','remove'),h(Ju,'EVENT_CHAN'+'GE','change');class Lo extends me{constructor(_0xba6af7){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRMesh']),h(this,'_available',!(0x20a8+0x1ee8+0x1*-0x3f8f)),h(this,'_index',new Map()),h(this,'_list',[]),(this['_manager']=_0xba6af7,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x261545){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x261545['detectedMe'+'shes']['size'])this['_available']=!(-0x116+0x1711+-0x15fb*0x1),this['fire']('available');else return;}for(const _0x511ad5 of _0x261545['detectedMe'+'shes']){let _0x386adc=this['_index']['get'](_0x511ad5);_0x386adc?_0x386adc['update'](_0x261545):(_0x386adc=new Ju(this,_0x511ad5),this['_index']['set'](_0x511ad5,_0x386adc),this['_list']['push'](_0x386adc),_0x386adc['update'](_0x261545),this['fire']('add',_0x386adc));}for(const _0x43c6e8 of this['_index']['values']())_0x261545['detectedMe'+'shes']['has'](_0x43c6e8['xrMesh'])||this['_removeMes'+'h'](_0x43c6e8);}['_removeMes'+'h'](_0x4b2163){this['_index']['delete'](_0x4b2163['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0x4b2163),0x2*-0x166+-0x13*0x3d+-0x7*-0x10c),_0x4b2163['destroy'](),this['fire']('remove',_0x4b2163);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x4066a7=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(0xb07+-0x1c0c+0x1106*0x1);if(!_0x4066a7)return;this['_available']=_0x4066a7,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0xb*-0x1c9+0x16a8+-0x304);for(const _0x5d4b85 of this['_index']['values']())this['_removeMes'+'h'](_0x5d4b85);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}h(Lo,'EVENT_AVAI'+'LABLE','available'),h(Lo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Lo,'EVENT_ADD','add'),h(Lo,'EVENT_REMO'+'VE','remove');class O0 extends me{constructor(_0x232855,_0x590b38,_0x5c33ca){super(),h(this,'_manager'),h(this,'_xrView'),h(this,'_positionD'+'ata',new Float32Array(-0x2*-0x1253+0x1f48+-0x43eb)),h(this,'_viewport',new re()),h(this,'_projMat',new te()),h(this,'_projViewO'+'ffMat',new te()),h(this,'_viewMat',new te()),h(this,'_viewOffMa'+'t',new te()),h(this,'_viewMat3',new _i()),h(this,'_viewInvMa'+'t',new te()),h(this,'_viewInvOf'+'fMat',new te()),h(this,'_xrCamera',null),h(this,'_textureCo'+'lor',null),h(this,'_textureDe'+'pth',null),h(this,'_depthInfo',null),h(this,'_emptyDept'+'hBuffer',new Uint8Array(0x2*-0xc91+0x2aa+-0x788*-0x3)),h(this,'_depthMatr'+'ix',new te()),(this['_manager']=_0x232855,this['_xrView']=_0x590b38);const _0x47bf31=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new _e(_0x47bf31,{'format':Cr,'mipmaps':!(0x8b*0x43+-0x97b+-0x9*0x2fd),'addressU':ue,'addressV':ue,'minFilter':vt,'magFilter':vt,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0x1431c4=this['_manager']['views']['depthGpuOp'+'timized']?Te:vt;this['_textureDe'+'pth']=new _e(_0x47bf31,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0x5c33ca===-0xe9f+-0xcc4*0x1+0x2*0xdb2?-0x7e+0xb6+-0x8*0x7:_0x5c33ca,'mipmaps':!(-0x25c6+-0x1777+0x3d3e),'addressU':ue,'addressV':ue,'minFilter':_0x1431c4,'magFilter':_0x1431c4,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0x46e865=0x9ef*-0x1+-0x2569+0x2f58;_0x46e865<this['_textureDe'+'pth']['_levels']['length'];_0x46e865++)this['_textureDe'+'pth']['_levels'][_0x46e865]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x47bf31['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0x55b2db;return((_0x55b2db=this['_depthInfo'])==null?void(0x161*0xe+-0x16eb+0x39d):_0x55b2db['rawValueTo'+'Meters'])||0x2*0x725+-0xf1+-0x1*0xd59;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x2b9cac,_0x56559a){this['_xrView']=_0x56559a,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x3fff3e=_0x2b9cac['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x3fff3e['x'],this['_viewport']['y']=_0x3fff3e['y'],this['_viewport']['z']=_0x3fff3e['width'],this['_viewport']['w']=_0x3fff3e['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x2b9cac);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0x5ef041=this['_manager']['webglBindi'+'ng'];if(!_0x5ef041)return;const _0x11fa7b=_0x5ef041['getCameraI'+'mage'](this['_xrCamera']);if(!_0x11fa7b)return;const _0x36f605=this['_manager']['app']['graphicsDe'+'vice'],_0x340e9b=_0x36f605['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x340e9b['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x340e9b['createFram'+'ebuffer']();else{const _0xd12276=_0x340e9b['COLOR_ATTA'+'CHMENT0'],_0x36fbde=this['_xrCamera']['width'],_0x439756=this['_xrCamera']['height'];_0x36f605['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x340e9b['framebuffe'+'rTexture2D'](_0x340e9b['FRAMEBUFFE'+'R'],_0xd12276,_0x340e9b['TEXTURE_2D'],_0x11fa7b,0x19ee*0x1+-0x9dd+-0x1011),_0x36f605['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x340e9b['framebuffe'+'rTexture2D'](_0x340e9b['FRAMEBUFFE'+'R'],_0xd12276,_0x340e9b['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],-0x1cd7*-0x1+-0x942+-0x1395),_0x340e9b['bindFrameb'+'uffer'](_0x340e9b['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x340e9b['bindFrameb'+'uffer'](_0x340e9b['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x340e9b['blitFrameb'+'uffer'](0x12d*-0x3+0x1*-0x13b7+0x173e,_0x439756,_0x36fbde,-0x2108+0x11*0x239+-0x1*0x4c1,-0x3*-0x427+-0xa6c+-0x209,-0x2651*0x1+0x1eb4+0x1*0x79d,_0x36fbde,_0x439756,_0x340e9b['COLOR_BUFF'+'ER_BIT'],_0x340e9b['NEAREST']);}}['_updateDep'+'th'](_0x17cf54){var _0x5ef834,_0x456f76;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x1cd1a8=this['_manager']['views']['depthGpuOp'+'timized'],_0x376a2a=_0x1cd1a8?this['_manager']['webglBindi'+'ng']:_0x17cf54;if(!_0x376a2a){this['_depthInfo']=null;return;}const _0x1b66e3=_0x376a2a['getDepthIn'+'formation'](this['_xrView']);if(!_0x1b66e3){this['_depthInfo']=null;return;}let _0x1f8fd6=!this['_depthInfo']!=!_0x1b66e3;this['_depthInfo']=_0x1b66e3;const _0x37b861=((_0x5ef834=this['_depthInfo'])==null?void(-0x5ea+-0x1db8+0x23a2):_0x5ef834['width'])||0x1*-0x2501+0x2*-0xc5b+-0x1*-0x3dbb,_0x1ecd14=((_0x456f76=this['_depthInfo'])==null?void(0x19cd*0x1+0x5c3*-0x1+-0x140a):_0x456f76['height'])||-0xede+0xdae+-0x4*-0x4d;let _0x199cd1=!(0x22c5+0x21e2+-0x44a6);if((this['_textureDe'+'pth']['width']!==_0x37b861||this['_textureDe'+'pth']['height']!==_0x1ecd14)&&(this['_textureDe'+'pth']['_width']=_0x37b861,this['_textureDe'+'pth']['_height']=_0x1ecd14,_0x1f8fd6=!(0x50d*-0x1+-0x1*0x1dc2+0x22cf*0x1),_0x199cd1=!(-0x3*-0x725+-0xfb0*-0x1+-0x251f)),_0x1f8fd6&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x1cd1a8){if(this['_depthInfo']['texture']){const _0x49f002=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0x49f002['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0x49f002['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Ji:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x49f002['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x49f002['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x49f002['RED'];break;case $i:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x49f002['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x49f002['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x49f002['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(-0x1f24+-0x1507+-0x342b*-0x1);}}else this['_textureDe'+'pth']['_levels'][0x1d*0x86+-0xe51+-0xdd]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][0xff1+-0x3*0xafb+-0x4*-0x440]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x199cd1&&this['fire']('depth:resi'+'ze',_0x37b861,_0x1ecd14);}['updateTran'+'sforms'](_0x8da79d){_0x8da79d?(this['_viewInvOf'+'fMat']['mul2'](_0x8da79d,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][-0x1db6+0x14c9+-0x8ed*-0x1]=this['_viewInvOf'+'fMat']['data'][0x93f+0x1cba+0x1ff*-0x13],this['_positionD'+'ata'][0x25a7+-0x1*0x8a5+-0x1d01]=this['_viewInvOf'+'fMat']['data'][0x1640+0x1ea1*-0x1+0x2*0x437],this['_positionD'+'ata'][-0x2*-0x52d+-0x1*-0x955+0x17*-0xdb]=this['_viewInvOf'+'fMat']['data'][0xcfc+0x1*-0x18c6+0xbd8];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x62eff8,_0x494fa1){var _0xf8d19a;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0xf8d19a=this['_depthInfo'])==null?void(0x1a*0x59+-0x2*0xf52+0x159a):_0xf8d19a['getDepthIn'+'Meters'](_0x62eff8,_0x494fa1))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0x64cc7=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0x64cc7['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0x64cc7['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}h(O0,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class Bh extends me{constructor(_0x4f9aeb){super(),h(this,'_manager'),h(this,'_index',new Map()),h(this,'_indexTmp',new Map()),h(this,'_list',[]),h(this,'_supported'+'Color',Ae['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),h(this,'_supported'+'Depth',Ae['browser']&&!!window['XRDepthInf'+'ormation']),h(this,'_available'+'Color',!(0x31*0x29+-0x761*-0x5+-0x2cbd)),h(this,'_available'+'Depth',!(-0x1f0c*0x1+0x2060+-0x153)),h(this,'_depthUsag'+'e',''),h(this,'_depthForm'+'at',''),h(this,'_depthForm'+'ats',{[M0]:ap,[D0]:$i,[I0]:Ji}),(this['_manager']=_0x4f9aeb,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===P0;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x142375,_0x7b801d){for(let _0x35e8e9=0x1c99+-0x2*-0xdd2+-0x383d;_0x35e8e9<_0x7b801d['length'];_0x35e8e9++)this['_indexTmp']['set'](_0x7b801d[_0x35e8e9]['eye'],_0x7b801d[_0x35e8e9]);for(const [_0x550e61,_0x190e3c]of this['_indexTmp']){let _0x55175d=this['_index']['get'](_0x550e61);_0x55175d?_0x55175d['update'](_0x142375,_0x190e3c):(_0x55175d=new O0(this['_manager'],_0x190e3c,_0x7b801d['length']),this['_index']['set'](_0x550e61,_0x55175d),this['_list']['push'](_0x55175d),_0x55175d['update'](_0x142375,_0x190e3c),this['fire']('add',_0x55175d));}for(const [_0x4dfdd7,_0x550262]of this['_index']){if(this['_indexTmp']['has'](_0x4dfdd7))continue;_0x550262['destroy'](),this['_index']['delete'](_0x4dfdd7);const _0x576668=this['_list']['indexOf'](_0x550262);_0x576668!==-(-0x2545+0xc0e*-0x1+0x3154)&&this['_list']['splice'](_0x576668,-0x1685*0x1+-0x446+0x1acc),this['fire']('remove',_0x550262);}this['_indexTmp']['clear']();}['get'](_0xe6a816){return this['_index']['get'](_0xe6a816)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===$o&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(-0x4*0x4c8+0x162*0x13+0x1f*-0x3b),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(0x2128+0x1345+-0x346c),this['_available'+'Depth'])){const _0xdb6758=this['_manager']['session'];this['_depthUsag'+'e']=_0xdb6758['depthUsage'],this['_depthForm'+'at']=_0xdb6758['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x31edc0 of this['_index']['values']())_0x31edc0['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(0x609+-0x808+0x200),this['_available'+'Depth']=!(0x2*-0x975+-0xb4d*0x3+-0x2*-0x1a69),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=0x33a*-0xa+-0x2f1+0x2335;}}h(Bh,'EVENT_ADD','add'),h(Bh,'EVENT_REMO'+'VE','remove');class ln extends me{constructor(_0x2b7b91){super(),h(this,'app'),h(this,'_supported',Ae['browser']&&!!navigator['xr']),h(this,'_available',{}),h(this,'_type',null),h(this,'_spaceType',null),h(this,'_session',null),h(this,'_baseLayer',null),h(this,'webglBindi'+'ng',null),h(this,'_reference'+'Space',null),h(this,'domOverlay'),h(this,'hitTest'),h(this,'imageTrack'+'ing'),h(this,'planeDetec'+'tion'),h(this,'meshDetect'+'ion'),h(this,'input'),h(this,'lightEstim'+'ation'),h(this,'views'),h(this,'anchors'),h(this,'_camera',null),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_depthNear',0x163c+0x12af*0x1+-0x28eb+0.1),h(this,'_depthFar',0x1*0x1ab9+0x6*-0x51f+-0x51*-0x19),h(this,'_supported'+'FrameRates',null),h(this,'_width',-0x7b*0xc+0x1806+-0xf6*0x13),h(this,'_height',-0x1021*0x1+-0x15be+0x25df),h(this,'_framebuff'+'erScaleFac'+'tor',0x19a4+0x11a1*0x1+-0x2b44),(this['app']=_0x2b7b91,this['_available'][lU]=!(0x1a5f+-0x8*-0x2d7+-0x3116),this['_available'][cU]=!(-0xdbd*0x1+0x2ac*0x6+-0x125*0x2),this['_available'][$o]=!(-0x1a3*-0x2+0x2*-0x29d+0x1f5),this['views']=new Bh(this),this['domOverlay']=new fU(this),this['hitTest']=new jr(this),this['imageTrack'+'ing']=new L0(this),this['planeDetec'+'tion']=new Do(this),this['meshDetect'+'ion']=new Lo(this),this['input']=new Li(this),this['lightEstim'+'ation']=new Zu(this),this['anchors']=new on(this),this['views']=new Bh(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)),this['isPC']=z0());}['destroy'](){}['start'](_0x450fc6,_0x226c2d,_0x4c8a43,_0x34e59a){let _0x10dba7=_0x34e59a;if(typeof _0x34e59a=='object'&&(_0x10dba7=_0x34e59a['callback']),!this['_available'][_0x226c2d]){_0x10dba7&&_0x10dba7(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x10dba7&&_0x10dba7(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x450fc6,this['_camera']['camera']['xr']=this,this['_type']=_0x226c2d,this['_spaceType']=_0x4c8a43,this['_framebuff'+'erScaleFac'+'tor']=(_0x34e59a==null?void(-0x59d*0x6+0x127*-0x12+-0x204*-0x1b):_0x34e59a['framebuffe'+'rScaleFact'+'or'])??0x1404+0xf8b+-0x52*0x6f,this['_setClipPl'+'anes'](_0x450fc6['nearClip'],_0x450fc6['farClip']);const _0x5d17c2={'requiredFeatures':[_0x4c8a43],'optionalFeatures':[]},_0x50e2f8=this['app']['graphicsDe'+'vice'];_0x50e2f8!=null&&_0x50e2f8['isWebGPU']&&_0x5d17c2['requiredFe'+'atures']['push']('webgpu');const _0x15722f=_0x50e2f8==null?void(0x31*0x3+0x1a48+-0xb*0x271):_0x50e2f8['isWebGL2'];if(_0x226c2d===$o){if(_0x5d17c2['optionalFe'+'atures']['push']('light-esti'+'mation'),_0x5d17c2['optionalFe'+'atures']['push']('hit-test'),_0x34e59a&&(_0x34e59a['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0x5d17c2['optionalFe'+'atures']['push']('image-trac'+'king'),_0x34e59a['planeDetec'+'tion']&&_0x5d17c2['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x34e59a['meshDetect'+'ion']&&_0x5d17c2['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0x5d17c2['optionalFe'+'atures']['push']('dom-overla'+'y'),_0x5d17c2['domOverlay']={'root':this['domOverlay']['root']}),_0x34e59a&&_0x34e59a['anchors']&&this['anchors']['supported']&&_0x5d17c2['optionalFe'+'atures']['push']('anchors'),_0x34e59a&&_0x34e59a['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0x5d17c2['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x18afc6=[],_0xaa5719=[];if(_0x18afc6['push'](P0,dU),_0xaa5719['push'](I0,M0,D0),_0x34e59a['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x58afdc=_0x18afc6['indexOf'](_0x34e59a['depthSensi'+'ng']['usagePrefe'+'rence']);_0x58afdc!==-(0xa3*0x35+0x1b41+-0x9*0x6c7)&&_0x18afc6['splice'](_0x58afdc,-0xe5a+-0x363*-0x1+0x27*0x48),_0x18afc6['unshift'](_0x34e59a['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x34e59a['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x4abc7b=_0xaa5719['indexOf'](_0x34e59a['depthSensi'+'ng']['dataFormat'+'Preference']);_0x4abc7b!==-(-0x9c*0x8+-0x201d*0x1+-0x127f*-0x2)&&_0xaa5719['splice'](_0x4abc7b,0x1*-0x1fe4+-0x49*-0x2c+0x7f*0x27),_0xaa5719['unshift'](_0x34e59a['depthSensi'+'ng']['dataFormat'+'Preference']);}_0x5d17c2['depthSensi'+'ng']={'usagePreference':_0x18afc6,'dataFormatPreference':_0xaa5719};}_0x15722f&&_0x34e59a&&_0x34e59a['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0x5d17c2['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0x5d17c2['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x34e59a&&_0x34e59a['optionalFe'+'atures']&&(_0x5d17c2['optionalFe'+'atures']=_0x5d17c2['optionalFe'+'atures']['concat'](_0x34e59a['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x2b04b4,_0x4bdb8a)=>{if(_0x2b04b4){_0x10dba7&&_0x10dba7(_0x2b04b4),this['fire']('error',_0x2b04b4);return;}_0x4bdb8a!==null&&(_0x5d17c2['trackedIma'+'ges']=_0x4bdb8a),this['_onStartOp'+'tionsReady'](_0x226c2d,_0x4c8a43,_0x5d17c2,_0x10dba7);}):this['_onStartOp'+'tionsReady'](_0x226c2d,_0x4c8a43,_0x5d17c2,_0x10dba7);}['_onStartOp'+'tionsReady'](_0x2b1669,_0x520b01,_0xfc6035,_0x559fd0){const _0x26e532=this['isPC']?{'requiredFeatures':['local-floo'+'r']}:_0xfc6035;navigator['xr']['requestSes'+'sion'](_0x2b1669,_0x26e532)['then'](_0x15f28f=>{this['_onSession'+'Start'](_0x15f28f,_0x520b01,_0x559fd0);})['catch'](_0x2d9661=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x559fd0&&_0x559fd0(_0x2d9661),this['fire']('error',_0x2d9661);});}['end'](_0x23da75){if(!this['_session']){_0x23da75&&_0x23da75(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x23da75&&this['once']('end',_0x23da75),this['_session']['end']();}['isAvailabl'+'e'](_0x1d379d){return this['_available'][_0x1d379d];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x20588d in this['_available'])this['_sessionSu'+'pportCheck'](_0x20588d);}['initiateRo'+'omCapture'](_0x51507c){if(!this['_session']){_0x51507c(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x51507c(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x51507c&&_0x51507c(null);})['catch'](_0x132a0e=>{_0x51507c&&_0x51507c(_0x132a0e);});}['updateTarg'+'etFrameRat'+'e'](_0x119995,_0x312877){var _0x58231e;if(!((_0x58231e=this['_session'])!=null&&_0x58231e['updateTarg'+'etFrameRat'+'e'])){_0x312877==null||_0x312877(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x119995)['then'](()=>{_0x312877==null||_0x312877();})['catch'](_0x5c7066=>{_0x312877==null||_0x312877(_0x5c7066);});}['_sessionSu'+'pportCheck'](_0x45807f){navigator['xr']['isSessionS'+'upported'](_0x45807f)['then'](_0x32e8fd=>{this['_available'][_0x45807f]!==_0x32e8fd&&(this['_available'][_0x45807f]=_0x32e8fd,this['fire']('available',_0x45807f,_0x32e8fd),this['fire']('available:'+_0x45807f,_0x32e8fd));})['catch'](_0x8a895f=>{this['fire']('error',_0x8a895f);});}['_onSession'+'Start'](_0x5c30e6,_0x22f04f,_0x248bf7){let _0x3cf678=!(-0x1579+-0x16f0*0x1+0x5*0x8e2);this['_session']=_0x5c30e6;const _0x27e7d1=()=>{this['fire']('visibility'+':change',_0x5c30e6['visibility'+'State']);},_0x103741=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x2942cd=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0x103741),this['_camera']['off']('set_farCli'+'p',_0x103741),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x5c30e6['removeEven'+'tListener']('end',_0x2942cd),_0x5c30e6['removeEven'+'tListener']('visibility'+'change',_0x27e7d1),_0x3cf678||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=-0xaf6+-0x19f4+0x24ea,this['_height']=0x255d*-0x1+0x1a2f+0xb2e,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x5c30e6['addEventLi'+'stener']('end',_0x2942cd),_0x5c30e6['addEventLi'+'stener']('visibility'+'change',_0x27e7d1),this['_camera']['on']('set_nearCl'+'ip',_0x103741),this['_camera']['on']('set_farCli'+'p',_0x103741),w['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x403535;this['fire']('frameratec'+'hange',(_0x403535=this['_session'])==null?void(-0x20ac+0x1*-0xe1d+0x2ec9):_0x403535['frameRate']);}),_0x5c30e6['requestRef'+'erenceSpac'+'e'](_0x22f04f)['then'](_0xbc0329=>{this['_reference'+'Space']=_0xbc0329,this['app']['tick'](),_0x248bf7&&_0x248bf7(null),this['fire']('start');})['catch'](_0x56c37d=>{_0x3cf678=!(0x453+-0x25c4+0x2171),_0x5c30e6['end'](),_0x248bf7&&_0x248bf7(_0x56c37d),this['fire']('error',_0x56c37d);});}['_setClipPl'+'anes'](_0x49c126,_0x162002){this['_depthNear']===_0x49c126&&this['_depthFar']===_0x162002||(this['_depthNear']=_0x49c126,this['_depthFar']=_0x162002,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x590383=this['app']['graphicsDe'+'vice'],_0x5da7d3=_0x590383['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x590383['gl'],{'alpha':!(0x5*-0x4e1+-0x2*-0x971+0x583),'depth':!(0x44e+-0x14fc+0x10ae),'stencil':!(-0xeb6+-0xd60+0x5*0x59e),'framebufferScaleFactor':_0x5da7d3,'antialias':!(0x111a+-0x93d*0x3+0x38a*0x3)}),_0x590383!=null&&_0x590383['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x590383['gl']);}catch(_0x1a61e1){this['fire']('error',_0x1a61e1);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x22d929=>{this['fire']('error',_0x22d929);});},-0xaed*0x3+0x1249*0x2+-0x3cb);}['update'](_0x463fb8){if(!this['_session'])return!(-0x1788*-0x1+-0x1d01+-0x2bd*-0x2);const _0x5c3b7d=_0x463fb8['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x300b00=_0x463fb8['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x5c3b7d||this['_height']!==_0x300b00)&&(this['_width']=_0x5c3b7d,this['_height']=_0x300b00,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x5c3b7d,_0x300b00));const _0x293d93=_0x463fb8['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x293d93)return!(-0x147b*0x1+-0x266b+-0x3ae7*-0x1);const _0x4c27f2=this['views']['list']['length'];this['views']['update'](_0x463fb8,_0x293d93['views']);const _0x1e4d8e=_0x293d93['transform']['position'],_0x43f95c=_0x293d93['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x1e4d8e['x'],_0x1e4d8e['y'],_0x1e4d8e['z']),this['_localRota'+'tion']['set'](_0x43f95c['x'],_0x43f95c['y'],_0x43f95c['z'],_0x43f95c['w']),_0x4c27f2===-0xd4*0x2+0x96b+-0x1*0x7c3&&this['views']['list']['length']>0x4e0*-0x7+0x3e6*0x4+-0x4*-0x4a2){const _0x583f5d=new te(),_0x4e32cd=this['views']['list'][0x2687+-0xef*0x25+-0x6*0xaa];_0x583f5d['copy'](_0x4e32cd['projMat']);const _0x3fe8e6=_0x583f5d['data'],_0xc24bce=(0x2538+0x30b+-0x2841)*Math['atan']((0x1*-0x1256+0x2457+0x9*-0x200)/_0x3fe8e6[-0x25*0xdd+0x9*-0x246+0x29f*0x14])*(0x1cb8+0x131e*-0x2+-0x28e*-0x4)/Math['PI'],_0x2519c4=_0x3fe8e6[0x156c+-0x438*-0x6+-0x2eb7*0x1]/_0x3fe8e6[0x2*0xc8+0x341*-0xb+0x223b],_0x1bcb76=_0x3fe8e6[0x16d8+-0x125*-0x20+-0x249*0x1a]/(_0x3fe8e6[0x28*-0x5d+-0xe17*-0x2+0x4*-0x367]+(-0x8c2+0x486+-0x5*-0xd9)),_0x2cf606=_0x3fe8e6[-0x1*-0x178+-0x1*0x1efd+-0x43*-0x71]/(_0x3fe8e6[-0x1e7a+-0x1639*-0x1+0x84b]-(0xa3b+-0x296*-0x6+-0x19be));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x2519c4,'farClip':_0x1bcb76,'fov':_0xc24bce,'horizontalFov':!(0x18c1+0x90b+-0x1*0x21cb),'nearClip':_0x2cf606});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x463fb8),this['_type']===$o&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x463fb8),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x463fb8),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x463fb8),this['anchors']['supported']&&this['anchors']['update'](_0x463fb8),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x463fb8),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x463fb8)),this['fire']('update',_0x463fb8),!(0x19fd+-0x1*0x1ccc+0x1*0x2cf);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x3b1226;return((_0x3b1226=this['_session'])==null?void(-0x1fed+0x24b2+-0x4c5):_0x3b1226['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x841d71){var _0x4cd09f;(((_0x4cd09f=this['_baseLayer'])==null?void(-0x21c*-0x5+0x313*-0x2+0x1*-0x466):_0x4cd09f['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>-0x787+-0x1dca+0x1*0x2552&&w['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x841d71);}get['fixedFovea'+'tion'](){var _0x1f2ec1;return((_0x1f2ec1=this['_baseLayer'])==null?void(-0x13*-0x16f+-0xc*0x105+0x1*-0xf01):_0x1f2ec1['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}h(ln,'EVENT_AVAI'+'LABLE','available'),h(ln,'EVENT_STAR'+'T','start'),h(ln,'EVENT_END','end'),h(ln,'EVENT_UPDA'+'TE','update'),h(ln,'EVENT_ERRO'+'R','error');class $U extends Ks{constructor(_0x46e0e7,_0x18b80d={}){super(_0x46e0e7);const _0x85cd2c=new tL();_0x85cd2c['graphicsDe'+'vice']=_0x18b80d['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x46e0e7,_0x18b80d),this['addCompone'+'ntSystems'](_0x85cd2c),this['addResourc'+'eHandles'](_0x85cd2c),_0x85cd2c['elementInp'+'ut']=_0x18b80d['elementInp'+'ut'],_0x85cd2c['keyboard']=_0x18b80d['keyboard'],_0x85cd2c['mouse']=_0x18b80d['mouse'],_0x85cd2c['touch']=_0x18b80d['touch'],_0x85cd2c['gamepads']=_0x18b80d['gamepads'],_0x85cd2c['scriptPref'+'ix']=_0x18b80d['scriptPref'+'ix'],_0x85cd2c['assetPrefi'+'x']=_0x18b80d['assetPrefi'+'x'],_0x85cd2c['scriptsOrd'+'er']=_0x18b80d['scriptsOrd'+'er'],_0x85cd2c['soundManag'+'er']=new Pw(),_0x85cd2c['lightmappe'+'r']=pL,_0x85cd2c['batchManag'+'er']=IE,_0x85cd2c['xr']=ln,this['init'](_0x85cd2c);}['createDevi'+'ce'](_0x4efe91,_0x2b81b8){return _0x2b81b8['graphicsDe'+'viceOption'+'s']||(_0x2b81b8['graphicsDe'+'viceOption'+'s']={}),Ae['browser']&&navigator['xr']&&(_0x2b81b8['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(0x1a93+-0x1*0x1875+-0x2*0x10f)),_0x2b81b8['graphicsDe'+'viceOption'+'s']['alpha']=_0x2b81b8['graphicsDe'+'viceOption'+'s']['alpha']||!(-0x1433+0x2*-0x6c6+0x1b0*0x14),new aw(_0x4efe91,_0x2b81b8['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x1df2b4){_0x1df2b4['componentS'+'ystems']=[wm,nR,NR,RL,BL,KR,zO,xF,wF,kF,hF,VL,kO,YO,LR,$L,aF,oF,mF,XR,UR,gF,BF];}['addResourc'+'eHandles'](_0x27a5ce){_0x27a5ce['resourceHa'+'ndlers']=[zF,WN,$N,XN,Ek,yk,oU,Ok,mk,jN,Dk,bk,JN,pk,QN,Ik,uk,ek,tk,YN,Nk,Lk,Rk,ZN,fk];}}class XU extends me{constructor(_0x17e517,_0x656449){super(),h(this,'_assets',new Set()),h(this,'_loadingAs'+'sets',new Set()),h(this,'_waitingAs'+'sets',new Set()),h(this,'_loading',!(0xdc9+0x70*-0x37+0xa48)),h(this,'_loaded',!(0x14f+-0x1cad+0x1*0x1b5f)),h(this,'_failed',[]),(this['_registry']=_0x656449,_0x17e517['forEach'](_0x3ade22=>{if(_0x3ade22 instanceof pe)_0x3ade22['registry']||(_0x3ade22['registry']=_0x656449),this['_assets']['add'](_0x3ade22);else{const _0x4b8c1c=_0x656449['get'](_0x3ade22);_0x4b8c1c?this['_assets']['add'](_0x4b8c1c):this['_waitForAs'+'set'](_0x3ade22);}}));}['destroy'](){this['_registry']['off']('load',this['_onLoad']),this['_registry']['off']('error',this['_onError']),this['_waitingAs'+'sets']['forEach'](_0x1aabf1=>{this['_registry']['off']('add:'+_0x1aabf1,this['_onAddAsse'+'t']);}),this['off']('progress'),this['off']('load');}['_assetHasD'+'ependencie'+'s'](_0x4c123e){var _0x3c45ea;return _0x4c123e['type']==='model'&&((_0x3c45ea=_0x4c123e['file'])==null?void(-0x2099+-0x1a47+0x3ae0):_0x3c45ea['url'])&&_0x4c123e['file']['url']&&_0x4c123e['file']['url']['match'](/.json$/g);}['load'](_0x6943ae,_0x4d452c){if(this['_loading']){console['debug']('AssetListL'+'oader:\x20Loa'+'d\x20function'+'\x20called\x20mu'+'ltiple\x20tim'+'es.');return;}this['_loading']=!(-0x507*0x5+0x26c9+-0xda6),this['_callback']=_0x6943ae,this['_scope']=_0x4d452c,this['_registry']['on']('load',this['_onLoad'],this),this['_registry']['on']('error',this['_onError'],this);let _0xf0758a=!(-0x260d+-0xd*-0x6a+0x20ac);this['_assets']['forEach'](_0x386218=>{_0x386218['loaded']||(_0xf0758a=!(0x2*0x21d+-0x2284+0x1e4a),this['_assetHasD'+'ependencie'+'s'](_0x386218)&&this['_registry']['loadFromUr'+'l'](_0x386218['file']['url'],_0x386218['type'],(_0x41f333,_0xce82a4)=>{if(_0x41f333){this['_onError'](_0x41f333,_0x386218);return;}this['_onLoad'](_0x386218);}),this['_loadingAs'+'sets']['add'](_0x386218),this['_registry']['add'](_0x386218));}),this['_loadingAs'+'sets']['forEach'](_0x2dddeb=>{this['_assetHasD'+'ependencie'+'s'](_0x2dddeb)||this['_registry']['load'](_0x2dddeb);}),!_0xf0758a&&this['_waitingAs'+'sets']['size']===0xbe5+-0x269*0xd+-0x9b8*-0x2&&this['_loadingCo'+'mplete']();}['ready'](_0x38b0f2,_0x1ddf4a=this){this['_loaded']?_0x38b0f2['call'](_0x1ddf4a,Array['from'](this['_assets'])):this['once']('load',_0x577b1d=>{_0x38b0f2['call'](_0x1ddf4a,_0x577b1d);});}['_loadingCo'+'mplete'](){this['_loaded']||(this['_loaded']=!(-0x447+0x1*0x2422+-0x1fdb),this['_registry']['off']('load',this['_onLoad'],this),this['_registry']['off']('error',this['_onError'],this),this['_failed']['length']?(this['_callback']&&this['_callback']['call'](this['_scope'],'Failed\x20to\x20'+'load\x20some\x20'+'assets',this['_failed']),this['fire']('error',this['_failed'])):(this['_callback']&&this['_callback']['call'](this['_scope']),this['fire']('load',Array['from'](this['_assets']))));}['_onLoad'](_0x1a9ee7){this['_loadingAs'+'sets']['has'](_0x1a9ee7)&&(this['fire']('progress',_0x1a9ee7),this['_loadingAs'+'sets']['delete'](_0x1a9ee7)),this['_loadingAs'+'sets']['size']===-0xf43+-0x1ae4+0x147*0x21&&setTimeout(()=>{this['_loadingCo'+'mplete']();},0x1*-0x23e7+-0x28*0x32+0x2bb7);}['_onError'](_0x38e942,_0x3528cd){this['_loadingAs'+'sets']['has'](_0x3528cd)&&(this['_failed']['push'](_0x3528cd),this['_loadingAs'+'sets']['delete'](_0x3528cd)),this['_loadingAs'+'sets']['size']===0x25*-0x77+0x371+-0x1*-0xdc2&&setTimeout(()=>{this['_loadingCo'+'mplete']();},-0xa5a+0x18bd+0x1d*-0x7f);}['_onAddAsse'+'t'](_0x2e5480){this['_waitingAs'+'sets']['delete'](_0x2e5480),this['_assets']['add'](_0x2e5480),_0x2e5480['loaded']||(this['_loadingAs'+'sets']['add'](_0x2e5480),this['_registry']['load'](_0x2e5480));}['_waitForAs'+'set'](_0x303f6d){this['_waitingAs'+'sets']['add'](_0x303f6d),this['_registry']['once']('add:'+_0x303f6d,this['_onAddAsse'+'t'],this);}}const Fc=[],_U=[[],[],[]];class gU extends ys{constructor(_0x3b4fe5,_0x30f654){super(_0x3b4fe5),h(this,'viewBindGr'+'oups',[]),this['renderer']=_0x30f654;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x4c16d4=>{_0x4c16d4['defaultUni'+'formBuffer']['destroy'](),_0x4c16d4['destroy']();}),this['viewBindGr'+'oups']['length']=-0x4*-0x174+-0x903*0x4+0x1e3c;}['update'](_0x3021f8,_0x554186,_0x432cf3,_0x565aa9){this['camera']=_0x3021f8,this['scene']=_0x554186,this['layers']=_0x432cf3,this['mapping']=_0x565aa9;}['execute'](){const _0x1ba472=this['device'],{renderer:_0xcf0fa2,camera:_0x545228,scene:_0x358ce2,layers:_0x120fa3,mapping:_0x41addb,renderTarget:_0xf438b6}=this,_0x300bbc=_0x358ce2['layers']['layerList'],_0x53da4d=_0x358ce2['layers']['subLayerEn'+'abled'],_0x4a1f25=_0x358ce2['layers']['subLayerLi'+'st'];for(let _0x1a2671=-0x2250+0x204b+0x205;_0x1a2671<_0x300bbc['length'];_0x1a2671++){const _0x2960c9=_0x300bbc[_0x1a2671];if(!(_0x120fa3&&_0x120fa3['indexOf'](_0x2960c9)<-0x2461+-0x1d54+0x41b5)&&_0x2960c9['enabled']&&_0x53da4d[_0x1a2671]&&_0x2960c9['camerasSet']['has'](_0x545228['camera'])){const _0x3ac446=_0x4a1f25[_0x1a2671];Q['pushGpuMar'+'ker'](_0x1ba472,_0x2960c9['name']+'('+(_0x3ac446?'TRANSP':'OPAQUE')+')'),_0x2960c9['_clearDept'+'hBuffer']&&_0xcf0fa2['clear'](_0x545228['camera'],!(0x17e1+0x2542+-0x3d22),!(-0x1285*-0x2+0x2a2*0x4+-0x2f92),!(-0x3ab*0xa+-0x11f7*0x2+0x489d));const _0x3b2a77=_0x2960c9['meshInstan'+'ces'];for(let _0x1e808c=-0xd*0xf6+0x2f3*-0x3+-0x9*-0x25f;_0x1e808c<_0x3b2a77['length'];_0x1e808c++){const _0x19fc4b=_0x3b2a77[_0x1e808c];_0x19fc4b['pick']&&_0x19fc4b['transparen'+'t']===_0x3ac446&&(Fc['push'](_0x19fc4b),_0x41addb['set'](_0x19fc4b['id'],_0x19fc4b));}Fc['length']>0x4ff*-0x1+0xcf9+-0x7fa&&(_0x358ce2['clusteredL'+'ightingEna'+'bled']&&_0xcf0fa2['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0xcf0fa2['setCameraU'+'niforms'](_0x545228['camera'],_0xf438b6),_0x1ba472['supportsUn'+'iformBuffe'+'rs']&&_0xcf0fa2['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0xcf0fa2['viewUnifor'+'mFormat'],_0xcf0fa2['viewBindGr'+'oupFormat'],null),_0xcf0fa2['renderForw'+'ard'](_0x545228['camera'],_0xf438b6,Fc,_U,Zn,_0x402428=>{_0x1ba472['setBlendSt'+'ate'](pt['NOBLEND']);}),Fc['length']=-0xc6f+-0x1*-0x58f+-0x6e0*-0x1),Q['popGpuMark'+'er'](_0x1ba472);}}}}const Rf=new Set(),SU=new re();let qU=class{constructor(_0xcd2f67,_0x5e5ae8,_0x1d1fc0){h(this,'renderTarg'+'et',null),h(this,'mapping',new Map()),h(this,'deviceVali'+'d',!(0x247*0xd+-0x16d*-0x1+-0x296*0xc)),(w['assert'](_0xcd2f67),this['renderer']=_0xcd2f67['renderer'],this['device']=_0xcd2f67['graphicsDe'+'vice'],this['renderPass']=new gU(this['device'],_0xcd2f67['renderer']),this['width']=0x1*-0xd40+0x271*0xb+0x9*-0x183,this['height']=0x188a+0x450*0x3+-0x257a,this['resize'](_0x5e5ae8,_0x1d1fc0),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(0x151a*-0x1+-0x1*-0x16d5+-0x11*0x1a);}));}['getSelecti'+'on'](_0x336610,_0x598f57,_0x38ed83=0x59f*0x2+-0x14ab+0x96e,_0x2505a2=-0x1*0x24f+0x267e+0x1a5*-0x16){const _0x36500b=this['device'];if(_0x36500b['isWebGPU'])return w['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];w['assert'](typeof _0x336610!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x598f57=this['renderTarg'+'et']['height']-(_0x598f57+_0x2505a2);const _0x3a3ebf=this['sanitizeRe'+'ct'](_0x336610,_0x598f57,_0x38ed83,_0x2505a2);_0x36500b['setRenderT'+'arget'](this['renderTarg'+'et']),_0x36500b['updateBegi'+'n']();const _0xf0a740=new Uint8Array((-0x14a*-0x1a+0x12*-0x67+-0x1a42)*_0x3a3ebf['z']*_0x3a3ebf['w']);return _0x36500b['readPixels'](_0x3a3ebf['x'],_0x3a3ebf['y'],_0x3a3ebf['z'],_0x3a3ebf['w'],_0xf0a740),_0x36500b['updateEnd'](),this['decodePixe'+'ls'](_0xf0a740,this['mapping']);}['getSelecti'+'onAsync'](_0x416bed,_0x323813,_0x51eb1c=0x11e3+-0x9ba+-0x828,_0xe15229=-0xc28+0x20*0x11b+-0x1737*0x1){var _0x759232;(_0x759232=this['device'])!=null&&_0x759232['isWebGL2']&&(_0x323813=this['renderTarg'+'et']['height']-(_0x323813+_0xe15229));const _0x5797b3=this['sanitizeRe'+'ct'](_0x416bed,_0x323813,_0x51eb1c,_0xe15229);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0x5797b3['x'],_0x5797b3['y'],_0x5797b3['z'],_0x5797b3['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(0x1e72+0x1722+-0x3594)})['then'](_0x8439c0=>this['decodePixe'+'ls'](_0x8439c0,this['mapping']));}['sanitizeRe'+'ct'](_0x3af3ac,_0x3004d5,_0x2d9b3e,_0x45d7b4){const _0x126115=this['renderTarg'+'et']['width'],_0x254791=this['renderTarg'+'et']['height'];return _0x3af3ac=Y['clamp'](Math['floor'](_0x3af3ac),0x2164+-0x1dcf+-0x1*0x395,_0x126115-(0x1*-0x1f4b+-0xb39+0x2a85)),_0x3004d5=Y['clamp'](Math['floor'](_0x3004d5),-0x2*0xe9b+-0x1*-0x2579+-0x843,_0x254791-(-0x443+-0x84a+0x647*0x2)),_0x2d9b3e=Math['floor'](Math['max'](_0x2d9b3e,0x1c0d+-0xeb*0x1e+0x2*-0x41)),_0x2d9b3e=Math['min'](_0x2d9b3e,_0x126115-_0x3af3ac),_0x45d7b4=Math['floor'](Math['max'](_0x45d7b4,-0x15eb+0x21ea+-0xbfe)),_0x45d7b4=Math['min'](_0x45d7b4,_0x254791-_0x3004d5),SU['set'](_0x3af3ac,_0x3004d5,_0x2d9b3e,_0x45d7b4);}['decodePixe'+'ls'](_0x48199d,_0x2b6bd8){const _0x19f79a=[];if(this['deviceVali'+'d']){const _0x38a71c=_0x48199d['length'];for(let _0x3d6636=0xa34+0x3*0xbb3+-0x2d4d;_0x3d6636<_0x38a71c;_0x3d6636+=-0x614+-0x1399+0x19b1){const _0x153241=_0x48199d[_0x3d6636+(-0x19ce+0x5*-0x4b1+-0x3143*-0x1)],_0x58975f=_0x48199d[_0x3d6636+(-0x1cec+0x5*0x2c4+-0x305*-0x5)],_0x18647e=_0x48199d[_0x3d6636+(-0xca5+-0x1a1e+0x18d*0x19)],_0x560ca9=(_0x48199d[_0x3d6636+(-0xed1+-0x41b+0x12ef)]<<0xffa+0x15c*0x9+0x3b*-0x7a|_0x153241<<0x6*-0x427+-0x6a*0x11+0x2ab*0xc|_0x58975f<<-0x2231*0x1+0x1*-0x1ee9+0x4122|_0x18647e)>>>-0x3*0x902+0x215*0x2+0x16dc;_0x560ca9!==-0x6b4e06c*0x17+0x1fa8e3ba3+-0x188*0x3ee49e&&Rf['add'](_0x2b6bd8['get'](_0x560ca9));}Rf['forEach'](_0x2d1b7b=>{_0x2d1b7b&&_0x19f79a['push'](_0x2d1b7b);}),Rf['clear']();}return _0x19f79a;}['allocateRe'+'nderTarget'](){const _0x2cd5e3=new _e(this['device'],{'format':Ne,'width':this['width'],'height':this['height'],'mipmaps':!(-0x2*0x89f+0x4*0x16a+-0x3*-0x3dd),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':'pick'});this['renderTarg'+'et']=new gt({'colorBuffer':_0x2cd5e3,'depth':!(0x3ca+-0x4*-0x70f+-0x2006)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x3b84cc,_0x33357a,_0x3dd64b){_0x3dd64b instanceof Ot&&(_0x3dd64b=[_0x3dd64b]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x48a38a=this['renderPass'];_0x48a38a['init'](this['renderTarg'+'et']),_0x48a38a['colorOps']['clearValue']=ie['WHITE'],_0x48a38a['colorOps']['clear']=!(0x4*0x85a+0x9c1+-0x2b29),_0x48a38a['depthStenc'+'ilOps']['clearDepth']=!(-0x26ef+-0x10ec+0x37db),_0x48a38a['update'](_0x3b84cc,_0x33357a,_0x3dd64b,this['mapping']),_0x48a38a['render']();}['resize'](_0x8e0c1f,_0x578169){this['width']=Math['floor'](_0x8e0c1f),this['height']=Math['floor'](_0x578169);}},cr,hr;const Of=new D(),RS=new D(),Ri=new Dn(),Ro=new Dn(),ep=new Dn();Ri['end']=new D(),Ro['end']=new D(),ep['end']=new D();const en=new D(),Nc=new D(),Ff=new D(),OS=new D(),Nf=new D(),kc=new D(),Uc=new D(),Bc=new D(),zc=new D(),kf=new D(),yU=new D(),tn=new D(),wo=new D(),Vc=new D(),Gc=new D(),Eo=new D(),FS=new D(),NS=new D(),kS=new D(),US=new D(),vU=new re();function BS(_0x5d2aae,_0x243186,_0x130803){return yU['cross'](_0x5d2aae,_0x243186)['dot'](_0x130803);}function xU(_0x38de64,_0x145a5c,_0x115c9a){en['sub2'](_0x145a5c,_0x38de64),Nc['sub2'](_0x115c9a[0x8*0x436+-0x27b*-0x3+-0x1*0x2921],_0x38de64),Ff['sub2'](_0x115c9a[-0x162f+-0x1*0x10f3+0x2723],_0x38de64),OS['sub2'](_0x115c9a[-0xa42+-0x215c+-0x1*-0x2ba0],_0x38de64),kc['cross'](OS,en);let _0x57b3df=Nc['dot'](kc),_0xe097bc,_0x2c36b0;if(_0x57b3df>=-0x89*-0xc+-0x899+-0x22d*-0x1){if(_0xe097bc=-Ff['dot'](kc),_0xe097bc<-0xb7e+0x23cc+0x40d*-0x6||(_0x2c36b0=BS(en,Ff,Nc),_0x2c36b0<0x3*0xbbf+0xbbf*0x1+-0x2efc))return-(-0x2244+-0x1664+0x3*0x12e3);const _0x22db27=(0x18*0x17+-0x4*0x8b+0x5)/(_0xe097bc+_0x57b3df+_0x2c36b0);Uc['copy'](_0x115c9a[0x1*0xad+-0x1c*-0x4f+-0x951])['mulScalar'](_0xe097bc*_0x22db27),Bc['copy'](_0x115c9a[-0x1891+0x20f2*0x1+0x860*-0x1])['mulScalar'](_0x57b3df*_0x22db27),zc['copy'](_0x115c9a[-0x1356+0x2*0x367+0x282*0x5])['mulScalar'](_0x2c36b0*_0x22db27),kf['copy'](Uc)['add'](Bc)['add'](zc);}else{if(Nf['sub2'](_0x115c9a[0x20a7*-0x1+0x11*0x1a6+0x4a4],_0x38de64),_0xe097bc=Nf['dot'](kc),_0xe097bc<-0x1*0xa49+-0x6e1+0x895*0x2||(_0x2c36b0=BS(en,Nc,Nf),_0x2c36b0<0x24a0+-0x1e3+0x1*-0x22bd))return-(-0x6*-0xca+-0x2387+0x1ecc);_0x57b3df=-_0x57b3df;const _0x5d6f12=(0x64b+0x10fa+-0x1*0x1744)/(_0xe097bc+_0x57b3df+_0x2c36b0);Uc['copy'](_0x115c9a[-0x1*0x20e7+0x27*-0x2d+0x13e1*0x2])['mulScalar'](_0xe097bc*_0x5d6f12),Bc['copy'](_0x115c9a[-0x171b+0x250+0x14ce])['mulScalar'](_0x57b3df*_0x5d6f12),zc['copy'](_0x115c9a[0xb62+0x2*-0x1009+0x14b2])['mulScalar'](_0x2c36b0*_0x5d6f12),kf['copy'](Uc)['add'](Bc)['add'](zc);}return en['sub2'](_0x115c9a[0x75*0x30+-0x13fc*0x1+-0x64*0x5],_0x115c9a[0xd*0x2c9+0x4*0x283+0x2e3f*-0x1])['lengthSq']()<(0x7f*-0x19+-0x778+0x13df+0.0001)*(-0x746+0x455*0x5+-0x1*0xe63+0.0001)||en['sub2'](_0x115c9a[0x2419+-0x586+-0x1e92],_0x115c9a[0x9e0+-0x11b7*0x1+0x1*0x7da])['lengthSq']()<(-0x36c+0x1e71+0x1b05*-0x1+0.0001)*(0xc49+0x1*0x2b0+-0xef9*0x1+0.0001)?-(0x77c+0x1*-0x504+-0x277):kf['sub'](_0x38de64)['lengthSq']();}class Am{constructor(_0x2abfdd,_0x143304,_0x1858ca){this['event']=_0x2abfdd,this['element']=_0x143304,this['camera']=_0x1858ca,this['_stopPropa'+'gation']=!(0x2*0xbcf+0x9*0x125+-0x21ea);}['stopPropag'+'ation'](){this['_stopPropa'+'gation']=!(-0x48f+0x1*-0x3fb+-0x1*-0x88a),this['event']&&(this['event']['stopImmedi'+'atePropaga'+'tion'](),this['event']['stopPropag'+'ation']());}}class bo extends Am{constructor(_0x1e33a3,_0x48f9b9,_0x4057ad,_0x2ec9ec,_0x5b2b62,_0x239f6f,_0x324b06){super(_0x1e33a3,_0x48f9b9,_0x4057ad),this['x']=_0x2ec9ec,this['y']=_0x5b2b62,this['ctrlKey']=_0x1e33a3['ctrlKey']||!(-0x24f0+0x10e7*0x2+0x323),this['altKey']=_0x1e33a3['altKey']||!(0x8c8+-0x7a7+0xc*-0x18),this['shiftKey']=_0x1e33a3['shiftKey']||!(0x23*-0x9+0x193a+-0x53*0x4a),this['metaKey']=_0x1e33a3['metaKey']||!(-0x9*-0xc9+0x217e*-0x1+0x22*0xc7),this['button']=_0x1e33a3['button'],sa['isPointerL'+'ocked']()?(this['dx']=_0x1e33a3['movementX']||_0x1e33a3['webkitMove'+'mentX']||_0x1e33a3['mozMovemen'+'tX']||-0x340+-0x1*-0x5ad+-0x45*0x9,this['dy']=_0x1e33a3['movementY']||_0x1e33a3['webkitMove'+'mentY']||_0x1e33a3['mozMovemen'+'tY']||-0x2079+-0x6fb*0x3+-0x2b*-0x13e):(this['dx']=_0x2ec9ec-_0x239f6f,this['dy']=_0x5b2b62-_0x324b06),this['wheelDelta']=0x341*-0x1+0x17f5*0x1+-0x14b4,_0x1e33a3['type']==='wheel'&&(_0x1e33a3['deltaY']>-0x2440+0x6e*0xb+0x1f86?this['wheelDelta']=0xb86+0xba9+-0x2b*0x8a:_0x1e33a3['deltaY']<0x22*0x101+-0x31b*0x5+-0xb*0x1b1&&(this['wheelDelta']=-(-0x4f*0x1+-0x153+0x1a3)));}}class Ao extends Am{constructor(_0x2c8bb5,_0x279019,_0xf6b42,_0xed8da6,_0x3c39b2,_0xb5aa6b){super(_0x2c8bb5,_0x279019,_0xf6b42),this['touches']=_0x2c8bb5['touches'],this['changedTou'+'ches']=_0x2c8bb5['changedTou'+'ches'],this['x']=_0xed8da6,this['y']=_0x3c39b2,this['touch']=_0xb5aa6b;}}class dr extends Am{constructor(_0x445d14,_0x1cdb52,_0x43a2aa,_0x1e8bc4){super(_0x445d14,_0x1cdb52,_0x43a2aa),this['inputSourc'+'e']=_0x1e8bc4;}}class Xo{constructor(_0x7bda88,_0x486090){this['_app']=null,this['_attached']=!(0x178b+-0xd*-0x11+0x1*-0x1867),this['_target']=null,this['_enabled']=!(-0x573*0x6+-0xa4d*0x1+0x2aff),this['_lastX']=0x24c+-0xef*-0xb+0xc91*-0x1,this['_lastY']=0xb41+0xeda+-0x1*0x1a1b,this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_touchstar'+'tHandler']=this['_handleTou'+'chStart']['bind'](this),this['_touchendH'+'andler']=this['_handleTou'+'chEnd']['bind'](this),this['_touchcanc'+'elHandler']=this['_touchendH'+'andler'],this['_touchmove'+'Handler']=this['_handleTou'+'chMove']['bind'](this),this['_sortHandl'+'er']=this['_sortEleme'+'nts']['bind'](this),this['_elements']=[],this['_hoveredEl'+'ement']=null,this['_pressedEl'+'ement']=null,this['_touchedEl'+'ements']={},this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired']={},this['_selectedE'+'lements']={},this['_selectedP'+'ressedElem'+'ents']={},this['_useMouse']=!_0x486090||_0x486090['useMouse']!==!(0xc53+0x5*-0x3fd+0x79f),this['_useTouch']=!_0x486090||_0x486090['useTouch']!==!(0x1f8a+-0x1327*-0x2+-0x3ad*0x13),this['_useXr']=!_0x486090||_0x486090['useXr']!==!(0x1e6b+-0x1*0x223c+0x3d2),this['_selectEve'+'ntsAttache'+'d']=!(-0xfa7*-0x1+-0x1*0xf4d+0x1*-0x59),Ae['touch']&&(this['_clickedEn'+'tities']={}),this['attach'](_0x7bda88);}set['enabled'](_0x5e78e8){this['_enabled']=_0x5e78e8;}get['enabled'](){return this['_enabled'];}set['app'](_0x47d02e){this['_app']=_0x47d02e;}get['app'](){return this['_app']||Ms();}['attach'](_0x516873){this['_attached']&&(this['_attached']=!(-0x6b*0x1f+0x1*0xae5+0x1*0x211),this['detach']()),this['_target']=_0x516873,this['_attached']=!(0x235d*-0x1+-0x24b8+0x4815);const _0x1d6698=Ae['passiveEve'+'nts']?{'passive':!(0x59*0x3d+0x1d64+-0x3299)}:!(0x14aa+0x2c0+0x1cd*-0xd);this['_useMouse']&&(window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x1d6698),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x1d6698),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x1d6698),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x1d6698)),this['_useTouch']&&Ae['touch']&&(this['_target']['addEventLi'+'stener']('touchstart',this['_touchstar'+'tHandler'],_0x1d6698),this['_target']['addEventLi'+'stener']('touchend',this['_touchendH'+'andler'],!(-0x1d81+0x1*-0x4a3+0x2225)),this['_target']['addEventLi'+'stener']('touchmove',this['_touchmove'+'Handler'],!(0x10e5+0x48*-0x7a+-0x2*-0x8b6)),this['_target']['addEventLi'+'stener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(0x164a+0x71*-0x2d+-0x26c))),this['attachSele'+'ctEvents']();}['attachSele'+'ctEvents'](){!this['_selectEve'+'ntsAttache'+'d']&&this['_useXr']&&this['app']&&this['app']['xr']&&this['app']['xr']['supported']&&(this['_clickedEn'+'tities']||(this['_clickedEn'+'tities']={}),this['_selectEve'+'ntsAttache'+'d']=!(0x1dcd+0x1145*0x1+-0x5*0x96a),this['app']['xr']['on']('start',this['_onXrStart'],this));}['detach'](){if(!this['_attached'])return;this['_attached']=!(0x8*-0xd1+0x3e*-0x59+0x1c17);const _0x2dae52=Ae['passiveEve'+'nts']?{'passive':!(0xf90+0x3f5*-0x8+0x1018)}:!(0x21a+-0x850+-0x25*-0x2b);this['_useMouse']&&(window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x2dae52),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x2dae52),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x2dae52),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x2dae52)),this['_useTouch']&&(this['_target']['removeEven'+'tListener']('touchstart',this['_touchstar'+'tHandler'],_0x2dae52),this['_target']['removeEven'+'tListener']('touchend',this['_touchendH'+'andler'],!(0x1*-0x24fb+0x1*0x43c+-0x20c*-0x10)),this['_target']['removeEven'+'tListener']('touchmove',this['_touchmove'+'Handler'],!(0x4*-0x116+0x1d98+-0x119*0x17)),this['_target']['removeEven'+'tListener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(0x1304+-0xdf*-0x29+-0x36ba))),this['_selectEve'+'ntsAttache'+'d']&&(this['_selectEve'+'ntsAttache'+'d']=!(-0x2490+0x17e8+0x1cf*0x7),this['app']['xr']['off']('start',this['_onXrStart'],this),this['app']['xr']['off']('end',this['_onXrEnd'],this),this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this)),this['_target']=null;}['addElement'](_0xde6e17){this['_elements']['indexOf'](_0xde6e17)===-(-0x4*0x12e+-0x144+0x5fd)&&this['_elements']['push'](_0xde6e17);}['removeElem'+'ent'](_0xb9378d){const _0x29a718=this['_elements']['indexOf'](_0xb9378d);_0x29a718!==-(-0x1384+0x1b0d+0x8*-0xf1)&&this['_elements']['splice'](_0x29a718,0x1f73+-0xd3d+0x3b*-0x4f);}['_handleUp'](_0x180a7a){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x180a7a),this['_onElement'+'MouseEvent']('mouseup',_0x180a7a)));}['_handleDow'+'n'](_0x187cc7){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x187cc7),this['_onElement'+'MouseEvent']('mousedown',_0x187cc7)));}['_handleMov'+'e'](_0x179b82){this['_enabled']&&(this['_calcMouse'+'Coords'](_0x179b82),this['_onElement'+'MouseEvent']('mousemove',_0x179b82),this['_lastX']=cr,this['_lastY']=hr);}['_handleWhe'+'el'](_0x3a4de3){this['_enabled']&&(this['_calcMouse'+'Coords'](_0x3a4de3),this['_onElement'+'MouseEvent']('mousewheel',_0x3a4de3));}['_determine'+'TouchedEle'+'ments'](_0x400cd0){const _0x3787cc={},_0x251459=this['app']['systems']['camera']['cameras'];for(let _0x102187=_0x251459['length']-(-0x2*-0xc92+-0x53f*-0x3+-0x28e0);_0x102187>=-0x8*-0x1d9+-0x1*0x234f+0x1487;_0x102187--){const _0x4281f9=_0x251459[_0x102187];let _0x566304=-0x7*0x23d+0x5*-0x79+0x8*0x241;const _0x1ff309=_0x400cd0['changedTou'+'ches']['length'];for(let _0x29bab2=-0xcb*-0x7+0x1*0x13+-0x8*0xb4;_0x29bab2<_0x1ff309;_0x29bab2++){if(_0x3787cc[_0x400cd0['changedTou'+'ches'][_0x29bab2]['identifier']]){_0x566304++;continue;}const _0xe2ea73=Wc(_0x400cd0['changedTou'+'ches'][_0x29bab2]),_0x221ac5=this['_getTarget'+'ElementByC'+'oords'](_0x4281f9,_0xe2ea73['x'],_0xe2ea73['y']);_0x221ac5&&(_0x566304++,_0x3787cc[_0x400cd0['changedTou'+'ches'][_0x29bab2]['identifier']]={'element':_0x221ac5,'camera':_0x4281f9,'x':_0xe2ea73['x'],'y':_0xe2ea73['y']});}if(_0x566304===_0x1ff309)break;}return _0x3787cc;}['_handleTou'+'chStart'](_0x43d1cc){if(!this['_enabled'])return;const _0x378154=this['_determine'+'TouchedEle'+'ments'](_0x43d1cc);for(let _0x30bd6a=-0x63b+-0x7c1*0x4+-0x253f*-0x1,_0x1f2c8e=_0x43d1cc['changedTou'+'ches']['length'];_0x30bd6a<_0x1f2c8e;_0x30bd6a++){const _0x19563b=_0x43d1cc['changedTou'+'ches'][_0x30bd6a],_0x3c65db=_0x378154[_0x19563b['identifier']],_0x2feda5=this['_touchedEl'+'ements'][_0x19563b['identifier']];_0x3c65db&&(!_0x2feda5||_0x3c65db['element']!==_0x2feda5['element'])&&(this['_fireEvent'](_0x43d1cc['type'],new Ao(_0x43d1cc,_0x3c65db['element'],_0x3c65db['camera'],_0x3c65db['x'],_0x3c65db['y'],_0x19563b)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x19563b['identifier']]=!(-0x15b7+0x1e59+-0x2f*0x2f));}for(const _0x129db0 in _0x378154)this['_touchedEl'+'ements'][_0x129db0]=_0x378154[_0x129db0];}['_handleTou'+'chEnd'](_0xdd8041){if(!this['_enabled'])return;const _0x46a80c=this['app']['systems']['camera']['cameras'];for(const _0xaab51 in this['_clickedEn'+'tities'])delete this['_clickedEn'+'tities'][_0xaab51];for(let _0x33390e=-0x29*-0x4+-0x4b2+0x40e,_0xa90fb3=_0xdd8041['changedTou'+'ches']['length'];_0x33390e<_0xa90fb3;_0x33390e++){const _0x2a4226=_0xdd8041['changedTou'+'ches'][_0x33390e],_0x1bf4bc=this['_touchedEl'+'ements'][_0x2a4226['identifier']];if(!_0x1bf4bc)continue;const _0x1261d4=_0x1bf4bc['element'],_0x437d1d=_0x1bf4bc['camera'],_0x355289=_0x1bf4bc['x'],_0x529d42=_0x1bf4bc['y'];delete this['_touchedEl'+'ements'][_0x2a4226['identifier']],delete this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x2a4226['identifier']];const _0x4b2169=Wc(_0x2a4226);for(let _0x155ec5=_0x46a80c['length']-(0xe90*-0x2+-0x454+0xf*0x23b);_0x155ec5>=0x14ab*0x1+0x689*-0x2+-0x799;_0x155ec5--)this['_getTarget'+'ElementByC'+'oords'](_0x46a80c[_0x155ec5],_0x4b2169['x'],_0x4b2169['y'])===_0x1261d4&&(this['_clickedEn'+'tities'][_0x1261d4['entity']['getGuid']()]||(this['_fireEvent']('click',new Ao(_0xdd8041,_0x1261d4,_0x437d1d,_0x355289,_0x529d42,_0x2a4226)),this['_clickedEn'+'tities'][_0x1261d4['entity']['getGuid']()]=Date['now']()));this['_fireEvent'](_0xdd8041['type'],new Ao(_0xdd8041,_0x1261d4,_0x437d1d,_0x355289,_0x529d42,_0x2a4226));}}['_handleTou'+'chMove'](_0x3582eb){if(_0x3582eb['preventDef'+'ault'](),!this['_enabled'])return;const _0x19cc14=this['_determine'+'TouchedEle'+'ments'](_0x3582eb);for(let _0x1db70a=0x5e0+-0x4*0x161+-0x5c*0x1,_0x178572=_0x3582eb['changedTou'+'ches']['length'];_0x1db70a<_0x178572;_0x1db70a++){const _0x6a38ec=_0x3582eb['changedTou'+'ches'][_0x1db70a],_0x29f158=_0x19cc14[_0x6a38ec['identifier']],_0x34e7f0=this['_touchedEl'+'ements'][_0x6a38ec['identifier']];if(_0x34e7f0){const _0x378425=Wc(_0x6a38ec);(!_0x29f158||_0x29f158['element']!==_0x34e7f0['element'])&&!this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x6a38ec['identifier']]&&(this['_fireEvent']('touchleave',new Ao(_0x3582eb,_0x34e7f0['element'],_0x34e7f0['camera'],_0x378425['x'],_0x378425['y'],_0x6a38ec)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x6a38ec['identifier']]=!(-0x1*0xe08+-0x462+-0x1*-0x126a)),this['_fireEvent']('touchmove',new Ao(_0x3582eb,_0x34e7f0['element'],_0x34e7f0['camera'],_0x378425['x'],_0x378425['y'],_0x6a38ec));}}}['_onElement'+'MouseEvent'](_0x3114b4,_0x4c92d1){let _0x559cd0=null;const _0xdf1ca8=this['_hoveredEl'+'ement'];this['_hoveredEl'+'ement']=null;const _0x36cd04=this['app']['systems']['camera']['cameras'];let _0x490573;for(let _0x4965e2=_0x36cd04['length']-(-0x1*0x304+0xac9+-0x7c4);_0x4965e2>=0x53*-0x48+0x861+0xef7*0x1&&(_0x490573=_0x36cd04[_0x4965e2],_0x559cd0=this['_getTarget'+'ElementByC'+'oords'](_0x490573,cr,hr),!_0x559cd0);_0x4965e2--);if(this['_hoveredEl'+'ement']=_0x559cd0,(_0x3114b4==='mousemove'||_0x3114b4==='mouseup')&&this['_pressedEl'+'ement']?this['_fireEvent'](_0x3114b4,new bo(_0x4c92d1,this['_pressedEl'+'ement'],_0x490573,cr,hr,this['_lastX'],this['_lastY'])):_0x559cd0&&(this['_fireEvent'](_0x3114b4,new bo(_0x4c92d1,_0x559cd0,_0x490573,cr,hr,this['_lastX'],this['_lastY'])),_0x3114b4==='mousedown'&&(this['_pressedEl'+'ement']=_0x559cd0)),_0xdf1ca8!==this['_hoveredEl'+'ement']&&(_0xdf1ca8&&this['_fireEvent']('mouseleave',new bo(_0x4c92d1,_0xdf1ca8,_0x490573,cr,hr,this['_lastX'],this['_lastY'])),this['_hoveredEl'+'ement']&&this['_fireEvent']('mouseenter',new bo(_0x4c92d1,this['_hoveredEl'+'ement'],_0x490573,cr,hr,this['_lastX'],this['_lastY']))),_0x3114b4==='mouseup'&&this['_pressedEl'+'ement']){if(this['_pressedEl'+'ement']===this['_hoveredEl'+'ement']){const _0x2d94ae=this['_hoveredEl'+'ement']['entity']['getGuid']();let _0x41dfce=!this['_clickedEn'+'tities'];if(this['_clickedEn'+'tities']){const _0x3e7537=this['_clickedEn'+'tities'][_0x2d94ae]||-0x2425+-0x1ef+0x2614;_0x41dfce=Date['now']()-_0x3e7537>-0x353+-0x3*0x566+-0x1*-0x14b1,delete this['_clickedEn'+'tities'][_0x2d94ae];}_0x41dfce&&this['_fireEvent']('click',new bo(_0x4c92d1,this['_hoveredEl'+'ement'],_0x490573,cr,hr,this['_lastX'],this['_lastY']));}this['_pressedEl'+'ement']=null;}}['_onXrStart'](){this['app']['xr']['on']('end',this['_onXrEnd'],this),this['app']['xr']['on']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['on']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['on']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['on']('remove',this['_onXrInput'+'Remove'],this);}['_onXrEnd'](){this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this);}['_onXrUpdat'+'e'](){if(!this['_enabled'])return;const _0x4c485f=this['app']['xr']['input']['inputSourc'+'es'];for(let _0x2363e6=-0x7*-0x566+0x6*-0x458+-0x26*0x4f;_0x2363e6<_0x4c485f['length'];_0x2363e6++)this['_onElement'+'SelectEven'+'t']('selectmove',_0x4c485f[_0x2363e6],null);}['_onXrInput'+'Remove'](_0x1cf20f){const _0x2050d8=this['_selectedE'+'lements'][_0x1cf20f['id']];_0x2050d8&&(_0x1cf20f['_elementEn'+'tity']=null,this['_fireEvent']('selectleav'+'e',new dr(null,_0x2050d8,null,_0x1cf20f))),delete this['_selectedE'+'lements'][_0x1cf20f['id']],delete this['_selectedP'+'ressedElem'+'ents'][_0x1cf20f['id']];}['_onSelectS'+'tart'](_0x187ee3,_0x2942c3){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectstar'+'t',_0x187ee3,_0x2942c3);}['_onSelectE'+'nd'](_0x5eb6c2,_0xba4045){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectend',_0x5eb6c2,_0xba4045);}['_onElement'+'SelectEven'+'t'](_0x1c3668,_0x274393,_0x25bd15){let _0x59d43a;const _0x1030bf=this['_selectedE'+'lements'][_0x274393['id']];let _0x3abd74;const _0x25ab9e=this['app']['systems']['camera']['cameras'];let _0x36729b;if(_0x274393['elementInp'+'ut']){ep['set'](_0x274393['getOrigin'](),_0x274393['getDirecti'+'on']());for(let _0x13e795=_0x25ab9e['length']-(0x1b*-0x51+-0x134e*-0x1+-0xac2);_0x13e795>=-0x595*0x2+0xa*-0x381+0x2e34&&(_0x36729b=_0x25ab9e[_0x13e795],_0x59d43a=this['_getTarget'+'ElementByR'+'ay'](ep,_0x36729b),!_0x59d43a);_0x13e795--);}_0x274393['_elementEn'+'tity']=_0x59d43a||null,_0x59d43a?(this['_selectedE'+'lements'][_0x274393['id']]=_0x59d43a,_0x3abd74=_0x59d43a):delete this['_selectedE'+'lements'][_0x274393['id']],_0x1030bf!==_0x3abd74&&(_0x1030bf&&this['_fireEvent']('selectleav'+'e',new dr(_0x25bd15,_0x1030bf,_0x36729b,_0x274393)),_0x3abd74&&this['_fireEvent']('selectente'+'r',new dr(_0x25bd15,_0x3abd74,_0x36729b,_0x274393)));const _0x56e790=this['_selectedP'+'ressedElem'+'ents'][_0x274393['id']];_0x1c3668==='selectmove'&&_0x56e790&&this['_fireEvent']('selectmove',new dr(_0x25bd15,_0x56e790,_0x36729b,_0x274393)),_0x1c3668==='selectstar'+'t'&&(this['_selectedP'+'ressedElem'+'ents'][_0x274393['id']]=_0x3abd74,_0x3abd74&&this['_fireEvent']('selectstar'+'t',new dr(_0x25bd15,_0x3abd74,_0x36729b,_0x274393))),!_0x274393['elementInp'+'ut']&&_0x56e790&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x274393['id']],_0x1030bf&&this['_fireEvent']('selectend',new dr(_0x25bd15,_0x56e790,_0x36729b,_0x274393))),_0x1c3668==='selectend'&&_0x274393['elementInp'+'ut']&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x274393['id']],_0x56e790&&this['_fireEvent']('selectend',new dr(_0x25bd15,_0x56e790,_0x36729b,_0x274393)),_0x56e790&&_0x56e790===_0x1030bf&&this['_fireEvent']('click',new dr(_0x25bd15,_0x56e790,_0x36729b,_0x274393)));}['_fireEvent'](_0x1b7b11,_0x55f334){let _0x535ad8=_0x55f334['element'];for(;_0x535ad8['fire'](_0x1b7b11,_0x55f334),!(_0x55f334['_stopPropa'+'gation']||!_0x535ad8['entity']['parent']||(_0x535ad8=_0x535ad8['entity']['parent']['element'],!_0x535ad8)););}['_calcMouse'+'Coords'](_0x259645){const _0x16cbf9=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x1db61f=Math['floor'](_0x16cbf9['left']),_0xfbe0d2=Math['floor'](_0x16cbf9['top']);cr=_0x259645['clientX']-_0x1db61f,hr=_0x259645['clientY']-_0xfbe0d2;}['_sortEleme'+'nts'](_0x4abc81,_0x1c0d45){const _0x4f2e7b=this['app']['scene']['layers']['sortTransp'+'arentLayer'+'s'](_0x4abc81['layers'],_0x1c0d45['layers']);return _0x4f2e7b!==0x1*0x1e67+-0x625+0x1e*-0xcf?_0x4f2e7b:_0x4abc81['screen']&&!_0x1c0d45['screen']?-(-0x1e14+-0x3*0xb01+-0x2*-0x1f8c):!_0x4abc81['screen']&&_0x1c0d45['screen']?-0x1e32+-0x18d7+0x370a:!_0x4abc81['screen']&&!_0x1c0d45['screen']?0x1*-0x4cc+0xe8f+-0x9c3:_0x4abc81['screen']['screen']['screenSpac'+'e']&&!_0x1c0d45['screen']['screen']['screenSpac'+'e']?-(0x161*0x13+-0x247e+0xa4c):_0x1c0d45['screen']['screen']['screenSpac'+'e']&&!_0x4abc81['screen']['screen']['screenSpac'+'e']?0x12ce*0x1+-0x741*0x1+-0xb8c:_0x1c0d45['drawOrder']-_0x4abc81['drawOrder'];}['_getTarget'+'ElementByC'+'oords'](_0x18a04d,_0x5b44dd,_0x102e2e){const _0xc1443c=this['_calculate'+'RayScreen'](_0x5b44dd,_0x102e2e,_0x18a04d,Ri)?Ri:null,_0x88c02e=this['_calculate'+'Ray3d'](_0x5b44dd,_0x102e2e,_0x18a04d,Ro)?Ro:null;return this['_getTarget'+'Element'](_0x18a04d,_0xc1443c,_0x88c02e);}['_getTarget'+'ElementByR'+'ay'](_0x23d2e8,_0x46307a){Ri['origin']['copy'](_0x23d2e8['origin']),Ri['direction']['copy'](_0x23d2e8['direction']),Ri['end']['copy'](Ri['direction'])['mulScalar'](_0x46307a['farClip']*(-0x8*-0x3be+0x267c+-0x446a))['add'](Ri['origin']);const _0x3e815a=Ri,_0x1d1a72=_0x46307a['worldToScr'+'een'](_0x3e815a['origin'],Of),_0x1f33f6=this['_calculate'+'RayScreen'](_0x1d1a72['x'],_0x1d1a72['y'],_0x46307a,Ro)?Ro:null;return this['_getTarget'+'Element'](_0x46307a,_0x1f33f6,_0x3e815a);}['_getTarget'+'Element'](_0x22b3eb,_0x2cbd91,_0xe65cd4){let _0x3c95c0=null,_0x42c74e=(-0x4*0x656+-0x1bbc+0x3515)/(0x1ed*0x11+0x1fff+-0x40bc);this['_elements']['sort'](this['_sortHandl'+'er']);for(let _0x759d84=0x8*0xb5+0x439*-0x8+0x1c20,_0x5c3e7d=this['_elements']['length'];_0x759d84<_0x5c3e7d;_0x759d84++){const _0x36ed37=this['_elements'][_0x759d84];if(_0x36ed37['layers']['some'](_0x23a720=>_0x22b3eb['layersSet']['has'](_0x23a720))){if(_0x36ed37['screen']&&_0x36ed37['screen']['screen']['screenSpac'+'e']){if(!_0x2cbd91)continue;if(this['_checkElem'+'ent'](_0x2cbd91,_0x36ed37,!(-0x11d7*0x1+0x1e2b+-0xc54))>=0x24d*-0xd+0xa*0x67+0x3*0x8a1){_0x3c95c0=_0x36ed37;break;}}else{if(!_0xe65cd4)continue;const _0x38d5bc=this['_checkElem'+'ent'](_0xe65cd4,_0x36ed37,!(-0x5b*0x1+-0x2320*-0x1+0x8b1*-0x4));if(_0x38d5bc>=-0x446+0x200c+0x4f*-0x5a&&(_0x38d5bc<_0x42c74e&&(_0x3c95c0=_0x36ed37,_0x42c74e=_0x38d5bc),_0x36ed37['screen'])){_0x3c95c0=_0x36ed37;break;}}}}return _0x3c95c0;}['_calculate'+'RayScreen'](_0x20c40b,_0x1192ac,_0x236a8b,_0x5a2e8e){const _0x39e906=this['app']['graphicsDe'+'vice']['width'],_0x110297=this['app']['graphicsDe'+'vice']['height'],_0x27009e=_0x236a8b['rect']['z']*_0x39e906,_0x3dc4b1=_0x236a8b['rect']['w']*_0x110297,_0x48ca91=_0x236a8b['rect']['x']*_0x39e906,_0xde9911=_0x48ca91+_0x27009e,_0x3ba31e=(0x1228+0x6*-0x33d+0x1*0x147-_0x236a8b['rect']['y'])*_0x110297,_0x44c05a=_0x3ba31e-_0x3dc4b1;let _0x5a8fab=_0x20c40b*_0x39e906/this['_target']['clientWidt'+'h'],_0x1d3fe1=_0x1192ac*_0x110297/this['_target']['clientHeig'+'ht'];return _0x5a8fab>=_0x48ca91&&_0x5a8fab<=_0xde9911&&_0x1d3fe1<=_0x3ba31e&&_0x1d3fe1>=_0x44c05a?(_0x5a8fab=_0x39e906*(_0x5a8fab-_0x48ca91)/_0x27009e,_0x1d3fe1=_0x110297*(_0x1d3fe1-_0x44c05a)/_0x3dc4b1,_0x1d3fe1=_0x110297-_0x1d3fe1,_0x5a2e8e['origin']['set'](_0x5a8fab,_0x1d3fe1,0xbef+-0x193+-0xa5b),_0x5a2e8e['direction']['set'](-0xf39+-0x1d*0x43+0x49*0x50,-0x1*-0x569+0x1*0xa88+-0xff1,-(-0x246a+0x24e0+-0x75)),_0x5a2e8e['end']['copy'](_0x5a2e8e['direction'])['mulScalar'](0x112*-0x1+0x224c+-0x8*0x427)['add'](_0x5a2e8e['origin']),!(-0x194c+-0x11d+0x1a69)):!(-0x16af+0x186b+0x1bb*-0x1);}['_calculate'+'Ray3d'](_0x2fd40d,_0x4b16e8,_0x2b05f3,_0x287fdd){const _0x63da0=this['_target']['clientWidt'+'h'],_0x54ea3f=this['_target']['clientHeig'+'ht'],_0x1ecb09=_0x2b05f3['rect']['z']*_0x63da0,_0x43d103=_0x2b05f3['rect']['w']*_0x54ea3f,_0x2a9495=_0x2b05f3['rect']['x']*_0x63da0,_0x268f16=_0x2a9495+_0x1ecb09,_0x2b574e=(-0x1ca3+0x1b80+-0x2*-0x92-_0x2b05f3['rect']['y'])*_0x54ea3f,_0xe15e84=_0x2b574e-_0x43d103;let _0xe9f121=_0x2fd40d,_0x51f4e8=_0x4b16e8;return _0x2fd40d>=_0x2a9495&&_0x2fd40d<=_0x268f16&&_0x4b16e8<=_0x2b574e&&_0x51f4e8>=_0xe15e84?(_0xe9f121=_0x63da0*(_0xe9f121-_0x2a9495)/_0x1ecb09,_0x51f4e8=_0x54ea3f*(_0x51f4e8-_0xe15e84)/_0x43d103,_0x2b05f3['screenToWo'+'rld'](_0xe9f121,_0x51f4e8,_0x2b05f3['nearClip'],Of),_0x2b05f3['screenToWo'+'rld'](_0xe9f121,_0x51f4e8,_0x2b05f3['farClip'],RS),_0x287fdd['origin']['copy'](Of),_0x287fdd['direction']['set'](-0x61*0x55+-0x1ae*0xa+-0x1*-0x3101,-0x1*0x22b+-0x848+0xa73,-(-0x472+-0x913*0x1+0xd86)),_0x287fdd['end']['copy'](RS),!(-0x198f+0x6*-0x1f7+-0x1*-0x2559)):!(-0xe06+0xe6*0x1e+-0x44f*0x3);}['_checkElem'+'ent'](_0x4cd594,_0x4944db,_0x1adeaa){if(_0x4944db['maskedBy']&&this['_checkElem'+'ent'](_0x4cd594,_0x4944db['maskedBy']['element'],_0x1adeaa)<0x1*0x12c3+-0x7f0+-0xad3)return-(0x412*-0x1+-0x1930+0x1d43);let _0x16b4f8;_0x1adeaa?_0x16b4f8=Xo['calculateS'+'caleToScre'+'en'](_0x4944db):_0x16b4f8=Xo['calculateS'+'caleToWorl'+'d'](_0x4944db);const _0x6d0b63=Xo['buildHitCo'+'rners'](_0x4944db,_0x1adeaa?_0x4944db['screenCorn'+'ers']:_0x4944db['worldCorne'+'rs'],_0x16b4f8);return xU(_0x4cd594['origin'],_0x4cd594['end'],_0x6d0b63);}static['buildHitCo'+'rners'](_0x25919d,_0x2f7fac,_0x16e4fa){let _0x100d7a=_0x2f7fac;if(_0x25919d['entity']&&_0x25919d['entity']['button']){const _0x2f9882=_0x25919d['entity']['button']['hitPadding']||vU;wo['copy'](_0x25919d['entity']['up']),Vc['copy'](wo)['mulScalar'](-(-0x22a*-0x12+-0x237c+-0x1*0x377)),Eo['copy'](_0x25919d['entity']['right']),Gc['copy'](Eo)['mulScalar'](-(-0xa2b+0x169*0x1+0x8c3)),wo['mulScalar'](_0x2f9882['w']*_0x16e4fa['y']),Vc['mulScalar'](_0x2f9882['y']*_0x16e4fa['y']),Eo['mulScalar'](_0x2f9882['z']*_0x16e4fa['x']),Gc['mulScalar'](_0x2f9882['x']*_0x16e4fa['x']),FS['copy'](_0x100d7a[0x2351+-0x20*-0xf5+0x15fb*-0x3])['add'](Vc)['add'](Gc),NS['copy'](_0x100d7a[-0x1*-0x3d4+0x7f6+0x1af*-0x7])['add'](Vc)['add'](Eo),kS['copy'](_0x100d7a[0x1f54+-0x1*0x1613+-0x93f])['add'](wo)['add'](Eo),US['copy'](_0x100d7a[-0x17b2+0x313+0x14a2])['add'](wo)['add'](Gc),_0x100d7a=[FS,NS,kS,US];}if(_0x16e4fa['x']<-0x2b*-0xd7+0x11a4+-0x35c1){const _0x5e0518=_0x100d7a[-0x2*-0xd6f+0xdd0+-0x4c*0x89]['x'],_0x285eed=_0x100d7a[0x17f4+0x220e+0x21*-0x1c2]['x'];_0x100d7a[0x2049+-0x1*0xbc9+-0x1480]['x']=_0x5e0518,_0x100d7a[-0x5c*-0x3d+-0x148+-0x3*0x6e1]['x']=_0x285eed,_0x100d7a[-0x40d+-0x20a8+0x24b7]['x']=_0x285eed,_0x100d7a[-0xd1*-0x2e+-0x2*-0xe16+-0x41b7]['x']=_0x5e0518;}if(_0x16e4fa['y']<0x1*0x1666+0x22ee+-0x3954){const _0xa8674=_0x100d7a[0x2*-0xfc2+0x245+-0x1d41*-0x1]['y'],_0x446200=_0x100d7a[-0x4bf+-0x1f51+-0x4*-0x904]['y'];_0x100d7a[0x593+-0x1d84+0x1b*0xe3]['y']=_0xa8674,_0x100d7a[0x1bba+-0x331*-0x4+-0x287d]['y']=_0xa8674,_0x100d7a[0x2*-0x2b+-0xe42*0x1+0x74d*0x2]['y']=_0x446200,_0x100d7a[0x11be+-0x4cc+0x1d9*-0x7]['y']=_0x446200;}if(_0x16e4fa['z']<0x3e3+0x5*-0x54d+0xf*0x182){const _0x409881=_0x100d7a[-0x19*0xb+-0xb1e*0x2+0x1751]['x'],_0x53805f=_0x100d7a[-0x220c+-0x1*-0xb02+0x170c]['y'],_0x2958d9=_0x100d7a[0x10b6+-0x212b+0x3*0x57d]['z'];_0x100d7a[0x3*0xcda+-0x2527*-0x1+-0x4bb3]['x']=_0x100d7a[-0x56*0x51+-0xcdd+0x2813]['x'],_0x100d7a[-0xd8+-0x1193+0x126d*0x1]['y']=_0x100d7a[0x5*-0x3a5+-0x1a29*-0x1+-0xfe*0x8]['y'],_0x100d7a[0x7*-0x3d7+-0x1*0x26b3+0x4196]['z']=_0x100d7a[-0x1256+-0x1a2d+-0x109*-0x2b]['z'],_0x100d7a[0x1c5*-0x7+-0x3fd+-0x2*-0x830]['x']=_0x409881,_0x100d7a[-0x199a+0x5ab*-0x1+-0x1f45*-0x1]['y']=_0x53805f,_0x100d7a[0x1e24*0x1+0x3*-0x9f5+0x3*-0x17]['z']=_0x2958d9;}return _0x100d7a;}static['calculateS'+'caleToScre'+'en'](_0x26f739){let _0x250cb2=_0x26f739['entity'];const _0xf1cadf=_0x26f739['screen']['screen']['scale'];for(tn['set'](_0xf1cadf,_0xf1cadf,_0xf1cadf);_0x250cb2&&!_0x250cb2['screen'];)tn['mul'](_0x250cb2['getLocalSc'+'ale']()),_0x250cb2=_0x250cb2['parent'];return tn;}static['calculateS'+'caleToWorl'+'d'](_0x3101ed){let _0x2bae69=_0x3101ed['entity'];for(tn['set'](-0x150+0x1036+0x1*-0xee5,0x126a+-0x1*0x22d1+0x1068,-0x9d0+0x5+0x9cc);_0x2bae69;)tn['mul'](_0x2bae69['getLocalSc'+'ale']()),_0x2bae69=_0x2bae69['parent'];return tn;}}J['prototype']['scale']=J['prototype']['mulScalar'],D['prototype']['scale']=D['prototype']['mulScalar'],re['prototype']['scale']=re['prototype']['mulScalar'],new re();function YU(_0xc5a174,_0x3d4d7a){return w['deprecated']('pc.createS'+'phere\x20is\x20d'+'eprecated.'+'\x20Use\x20\x27pc.M'+'esh.fromGe'+'ometry(dev'+'ice,\x20new\x20S'+'phereGeome'+'try(option'+'s);\x27\x20forma'+'t\x20instead.'),Ge['fromGeomet'+'ry'](_0xc5a174,new _m(_0x3d4d7a));}Object['defineProp'+'erties'](gt['prototype'],{'_glFrameBuffer':{'get':function(){return w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.'),this['impl']['_glFrameBu'+'ffer'];},'set':function(_0x148d85){w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.');}}}),Object['defineProp'+'erty'](kt,'defaultIns'+'tancingFor'+'mat',{'get':function(){return w['assert']('pc.VertexF'+'ormat.defa'+'ultInstanc'+'ingFormat\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.VertexFo'+'rmat.getDe'+'faultInsta'+'ncingForma'+'t(graphics'+'Device).'),null;}}),Object['defineProp'+'erties'](_e['prototype'],{'rgbm':{'get':function(){return w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']===Zi;},'set':function(_0x27ec89){w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']=_0x27ec89?Zi:Ds;}},'swizzleGGGR':{'get':function(){return w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']===Jo;},'set':function(_0x41e31c){w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']=_0x41e31c?Jo:Ds;}},'_glTexture':{'get':function(){return w['deprecated']('pc.Texture'+'#_glTextur'+'e\x20is\x20no\x20lo'+'nger\x20avail'+'able,\x20use\x20'+'Use\x20pc.Tex'+'ture.impl.'+'_glTexture'+'\x20instead.'),this['impl']['_glTexture'];}}}),Object['defineProp'+'erty']($e['prototype'],'boneLimit',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#bo'+'neLimit\x20is'+'\x20deprecate'+'d\x20and\x20the\x20'+'limit\x20has\x20'+'been\x20remov'+'ed.'),0x5e6+0x1a9d*-0x1+-0x2bf*-0x9;}}),Object['defineProp'+'erty']($e['prototype'],'webgl2',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#we'+'bgl2\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e#isWebGL2'+'\x20instead.'),this['isWebGL2'];}}),Object['defineProp'+'erty']($e['prototype'],'textureFlo'+'atHighPrec'+'ision',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureFloat'+'HighPrecis'+'ion\x20is\x20dep'+'recated\x20an'+'d\x20always\x20r'+'eturns\x20tru'+'e.'),!(0x3*-0x56+-0x1c50+-0x342*-0x9);}}),Object['defineProp'+'erty']($e['prototype'],'extBlendMi'+'nmax',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tBlendMinm'+'ax\x20is\x20depr'+'ecated\x20as\x20'+'it\x20is\x20alwa'+'ys\x20true.'),!(-0xf21*0x2+-0x2163+0x1537*0x3);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'HalfFloat',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureHa'+'lfFloat\x20is'+'\x20deprecate'+'d\x20as\x20it\x20is'+'\x20always\x20tr'+'ue.'),!(-0x1*-0x25b1+-0x896+-0x1d1b);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Lod',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureLo'+'d\x20is\x20depre'+'cated\x20as\x20i'+'t\x20is\x20alway'+'s\x20true.'),!(-0x1*-0x1fe7+0x266*-0x4+-0x164f*0x1);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatFilt'+'erable',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatFilter'+'able\x20is\x20de'+'precated\x20a'+'s\x20it\x20is\x20al'+'ways\x20true.'),!(0x397*0x5+-0x1685*-0x1+-0x2878);}}),Object['defineProp'+'erty']($e['prototype'],'supportsMr'+'t',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsMrt\x20'+'is\x20depreca'+'ted\x20as\x20it\x20'+'is\x20always\x20'+'true.'),!(0x1*-0x1231+-0x1a5f+-0x17*-0x1f0);}}),Object['defineProp'+'erty']($e['prototype'],'supportsVo'+'lumeTextur'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsVolu'+'meTextures'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(0x2659*0x1+0x14de+-0x3b37);}}),Object['defineProp'+'erty']($e['prototype'],'supportsIn'+'stancing',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsInst'+'ancing\x20is\x20'+'deprecated'+'\x20as\x20it\x20is\x20'+'always\x20tru'+'e.'),!(-0x2195*-0x1+0xd86+-0x2f1b);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatUpda'+'table',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatUpdata'+'ble\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true.'),!(-0xf51+0xc0f+-0x8b*-0x6);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Float',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureFl'+'oat\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true'),!(-0x851*-0x4+-0x14ad+-0xc97*0x1);}}),Object['defineProp'+'erty']($e['prototype'],'extStandar'+'dDerivativ'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tStandardD'+'erivatives'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(-0x1*0x22db+-0x60*-0x34+0xf5b*0x1);}}),pt['DEFAULT']=Object['freeze'](new pt());const ut=new pt(),ji=new Yt();$e['prototype']['setBlendFu'+'nction']=function(_0x2ffc12,_0x35fb63){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x4194c8=this['blendState'];ut['copy'](_0x4194c8),ut['setColorBl'+'end'](_0x4194c8['colorOp'],_0x2ffc12,_0x35fb63),ut['setAlphaBl'+'end'](_0x4194c8['alphaOp'],_0x2ffc12,_0x35fb63),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendFu'+'nctionSepa'+'rate']=function(_0xc1b01e,_0x2a3015,_0x31f1c6,_0x589fc1){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0x468928=this['blendState'];ut['copy'](_0x468928),ut['setColorBl'+'end'](_0x468928['colorOp'],_0xc1b01e,_0x2a3015),ut['setAlphaBl'+'end'](_0x468928['alphaOp'],_0x31f1c6,_0x589fc1),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uation']=function(_0x392d6b){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x2bdc32=this['blendState'];ut['copy'](_0x2bdc32),ut['setColorBl'+'end'](_0x392d6b,_0x2bdc32['colorSrcFa'+'ctor'],_0x2bdc32['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0x392d6b,_0x2bdc32['alphaSrcFa'+'ctor'],_0x2bdc32['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uationSepa'+'rate']=function(_0xaab15d,_0x4bd433){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0xda7544=this['blendState'];ut['copy'](_0xda7544),ut['setColorBl'+'end'](_0xaab15d,_0xda7544['colorSrcFa'+'ctor'],_0xda7544['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0x4bd433,_0xda7544['alphaSrcFa'+'ctor'],_0xda7544['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setColorWr'+'ite']=function(_0x28a58b,_0x226d8f,_0x208956,_0x167989){w['deprecated']('pc.Graphic'+'sDevice#se'+'tColorWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etBlendSta'+'te\x20instead'+'.');const _0x92d826=this['blendState'];ut['copy'](_0x92d826),ut['setColorWr'+'ite'](_0x28a58b,_0x226d8f,_0x208956,_0x167989),this['setBlendSt'+'ate'](ut);},$e['prototype']['getBlendin'+'g']=function(){return this['blendState']['blend'];},$e['prototype']['setBlendin'+'g']=function(_0x21018a){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlending\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.Graphics'+'Device.set'+'BlendState'+'\x20instead.'),ut['copy'](this['blendState']),ut['blend']=_0x21018a,this['setBlendSt'+'ate'](ut);},$e['prototype']['setDepthWr'+'ite']=function(_0x5acbf8){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etDepthSta'+'te\x20instead'+'.'),ji['copy'](this['depthState']),ji['write']=_0x5acbf8,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthFu'+'nc']=function(_0xd1e562){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthFunc'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['func']=_0xd1e562,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthTe'+'st']=function(_0x3459dc){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthTest'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['test']=_0x3459dc,this['setDepthSt'+'ate'](ji);},$e['prototype']['getCullMod'+'e']=function(){return this['cullMode'];},new Proxy({},{'get'(_0x41e6c9,_0x39df42){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20acces'+'s\x20global\x20s'+'hader\x20chun'+'ks\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Shade'+'rChunks.ge'+'t\x20instead,'+'\x20for\x20examp'+'le:\x20pc.Sha'+'derChunks.'+'get(this.a'+'pp.graphic'+'sDevice,\x20p'+'c.SHADERLA'+'NGUAGE_GLS'+'L).get(\x27'+_0x39df42+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['get'](_0x39df42);},'set'(_0xbbc180,_0x2a5d8e,_0x1e59b3){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20overr'+'ide\x20global'+'\x20shader\x20ch'+'unks\x20is\x20de'+'precated.\x20'+'Use\x20pc.Sha'+'derChunks.'+'get\x20instea'+'d,\x20for\x20exa'+'mple:\x20pc.S'+'haderChunk'+'s.get(this'+'.app.graph'+'icsDevice,'+'\x20pc.SHADER'+'LANGUAGE_G'+'LSL).set(\x27'+_0x2a5d8e+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['set'](_0x2a5d8e,_0x1e59b3),!(0x915+0x115f+0x1a74*-0x1);}}),Object['defineProp'+'erty'](Et['prototype'],'defaultMat'+'erial',{'get':function(){return w['deprecated']('pc.Scene#d'+'efaultMate'+'rial\x20is\x20de'+'precated.'),Qn(Ms()['graphicsDe'+'vice']);}}),Object['defineProp'+'erty'](Et['prototype'],'fogColor',{'set':function(_0x51c183){w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color']=_0x51c183;},'get':function(){return w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogEnd',{'set':function(_0x445640){w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end']=_0x445640;},'get':function(){return w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogStart',{'set':function(_0x3ec0b1){w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start']=_0x3ec0b1;},'get':function(){return w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogDensity',{'set':function(_0x33ec3d){w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density']=_0x33ec3d;},'get':function(){return w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density'];}}),Object['defineProp'+'erty'](Et['prototype'],'toneMappin'+'g',{'set':function(_0x4fffe6){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');},'get':function(){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'gammaCorre'+'ction',{'set':function(_0x554fa9){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');},'get':function(){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'rendering',{'set':function(_0x101d16){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');},'get':function(){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');}}),Object['defineProp'+'erty'](du['prototype'],'_meshInsta'+'nces',{'get':function(){return w['deprecated']('pc.LayerCo'+'mposition#'+'_meshInsta'+'nces\x20is\x20de'+'precated.'),null;}}),Object['defineProp'+'erty'](Et['prototype'],'drawCalls',{'get':function(){return w['deprecated']('pc.Scene#d'+'rawCalls\x20i'+'s\x20deprecat'+'ed\x20and\x20no\x20'+'longer\x20pro'+'vides\x20mesh'+'\x20instances'+'.'),null;}}),['128','64','32','16','8','4']['forEach']((_0x28c593,_0x1dfb16)=>{Object['defineProp'+'erty'](Et['prototype'],'skyboxPref'+'iltered'+_0x28c593,{'get':function(){return w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x28c593+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x1dfb16];},'set':function(_0x35a81f){w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x28c593+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x1dfb16]=_0x35a81f,this['updateShad'+'ers']=!(-0x29c+0x9*0x39+0x9b);}});}),Object['defineProp'+'erty'](Et['prototype'],'models',{'get':function(){return this['_models']||(this['_models']=[]),this['_models'];}});function Bt(_0x4a61ee,_0x39b2f9,_0x35072f=''){Object['defineProp'+'erty'](_0x4a61ee['prototype'],_0x39b2f9,{'set':function(_0x549f8e){w['errorOnce'](_0x4a61ee['name']+'#'+_0x39b2f9+('\x20has\x20been\x20'+'removed.\x20')+_0x35072f);},'get':function(){w['errorOnce'](_0x4a61ee['name']+'#'+_0x39b2f9+('\x20has\x20been\x20'+'removed.\x20')+_0x35072f);}});}Bt(Ot,'renderTarg'+'et'),Bt(Ot,'onPreCull'),Bt(Ot,'onPreRende'+'r'),Bt(Ot,'onPreRende'+'rOpaque'),Bt(Ot,'onPreRende'+'rTranspare'+'nt'),Bt(Ot,'onPostCull'),Bt(Ot,'onPostRend'+'er'),Bt(Ot,'onPostRend'+'erOpaque'),Bt(Ot,'onPostRend'+'erTranspar'+'ent'),Bt(Ot,'onDrawCall'),Bt(Ot,'layerRefer'+'ence'),Bt(Ir,'onPreCull','Use\x20Scene#'+'EVENT_PREC'+'ULL\x20event\x20'+'instead.'),Bt(Ir,'onPostCull','Use\x20Scene#'+'EVENT_POST'+'CULL\x20event'+'\x20instead.'),Bt(Ir,'onPreRende'+'r','Use\x20Scene#'+'EVENT_PRER'+'ENDER\x20even'+'t\x20instead.'),Bt(Ir,'onPostRend'+'er','Use\x20Scene#'+'EVENT_POST'+'RENDER\x20eve'+'nt\x20instead'+'.'),Bt(Ir,'onPreRende'+'rLayer','Use\x20Scene#'+'EVENT_PRER'+'ENDER_LAYE'+'R\x20event\x20in'+'stead.'),Bt(Ir,'onPostRend'+'erLayer','Use\x20Scene#'+'EVENT_POST'+'RENDER_LAY'+'ER\x20event\x20i'+'nstead.'),fl['prototype']['renderComp'+'osition']=function(_0x229a11){w['deprecated']('pc.Forward'+'Renderer#r'+'enderCompo'+'sition\x20is\x20'+'deprecated'+'.\x20Use\x20pc.A'+'ppBase.ren'+'derComposi'+'tion\x20inste'+'ad.'),Ms()['renderComp'+'osition'](_0x229a11);},He['prototype']['syncAabb']=function(){w['deprecated']('pc.MeshIns'+'tance#sync'+'Aabb\x20is\x20de'+'precated.');},mm['prototype']['getTarget']=function(_0x3cdff9){return w['deprecated']('pc.Morph#g'+'etTarget\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.Morph#tar'+'gets\x20inste'+'ad.'),this['targets'][_0x3cdff9];},Ie['prototype']['getChildre'+'n']=function(){return w['deprecated']('pc.GraphNo'+'de#getChil'+'dren\x20is\x20de'+'precated.\x20'+'Use\x20pc.Gra'+'phNode#chi'+'ldren\x20inst'+'ead.'),this['children'];},Ie['prototype']['getName']=function(){return w['deprecated']('pc.GraphNo'+'de#getName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name'];},Ie['prototype']['getPath']=function(){return w['deprecated']('pc.GraphNo'+'de#getPath'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#path\x20in'+'stead.'),this['path'];},Ie['prototype']['getRoot']=function(){return w['deprecated']('pc.GraphNo'+'de#getRoot'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#root\x20in'+'stead.'),this['root'];},Ie['prototype']['getParent']=function(){return w['deprecated']('pc.GraphNo'+'de#getPare'+'nt\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Graph'+'Node#paren'+'t\x20instead.'),this['parent'];},Ie['prototype']['setName']=function(_0x23a7f9){w['deprecated']('pc.GraphNo'+'de#setName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name']=_0x23a7f9;},Object['defineProp'+'erty'](tr['prototype'],'shader',{'set':function(_0x935380){w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.');},'get':function(){return w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.'),null;}}),Object['defineProp'+'erty'](tr['prototype'],'blend',{'set':function(_0x239306){w['deprecated']('pc.Materia'+'l#blend\x20is'+'\x20deprecate'+'d,\x20use\x20pc.'+'Material.b'+'lendState.'),this['blendState']['blend']=_0x239306;},'get':function(){return this['blendState']['blend'];}}),Object['defineProp'+'erty'](Ut['prototype'],'shininess',{'get':function(){return this['gloss']*(-0x1*-0x10c1+-0x49d+-0x178*0x8);},'set':function(_0x22e1d2){this['gloss']=_0x22e1d2*(0x204c+0x153f+-0x358b+0.01);}}),Object['defineProp'+'erty'](Ut['prototype'],'useGammaTo'+'nemap',{'get':function(){return this['useTonemap'];},'set':function(_0x3b3eb3){this['useTonemap']=_0x3b3eb3;}}),Object['defineProp'+'erty'](Ut['prototype'],'anisotropy',{'get':function(){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.');const _0x37f59f=Math['sign'](Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']*(-0x2d7*0x7+0x1c20*-0x1+0x3003)));return this['anisotropy'+'Intensity']*_0x37f59f;},'set':function(_0x5de204){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.'),this['anisotropy'+'Intensity']=Math['abs'](_0x5de204),_0x5de204>=-0x26c0+0x7*-0xb9+-0x2bcf*-0x1?this['anisotropy'+'Rotation']=-0xfad+-0x15d9+0x2586:this['anisotropy'+'Rotation']=0x26d0+-0x12+-0x2664;}});function Qs(_0x457423,_0x23c585){Object['defineProp'+'erty'](Ut['prototype'],_0x23c585,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x23c585+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0x457423+'\x20instead.'),this[_0x457423];},'set':function(_0x3179fa){w['deprecated']('pc.Standar'+'dMaterial#'+_0x23c585+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0x457423+'\x20instead.'),this[_0x457423]=_0x3179fa;}});}function Id(_0x275899){Object['defineProp'+'erty'](Ut['prototype'],_0x275899,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x275899+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x275899+('\x20was\x20alway'+'s\x20true')),!(-0x1*-0xf1+0x965+0x36*-0x31);},'set':function(_0x1ab7f9){w['deprecated']('pc.Standar'+'dMaterial#'+_0x275899+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x275899+('\x20was\x20alway'+'s\x20true'));}});}Id('sheenTint'),Id('diffuseTin'+'t'),Id('emissiveTi'+'nt'),Id('ambientTin'+'t'),Qs('specularTi'+'nt','specularMa'+'pTint'),Qs('aoVertexCo'+'lor','aoMapVerte'+'xColor'),Qs('diffuseVer'+'texColor','diffuseMap'+'VertexColo'+'r'),Qs('specularVe'+'rtexColor','specularMa'+'pVertexCol'+'or'),Qs('emissiveVe'+'rtexColor','emissiveMa'+'pVertexCol'+'or'),Qs('metalnessV'+'ertexColor','metalnessM'+'apVertexCo'+'lor'),Qs('glossVerte'+'xColor','glossMapVe'+'rtexColor'),Qs('opacityVer'+'texColor','opacityMap'+'VertexColo'+'r'),Qs('lightVerte'+'xColor','lightMapVe'+'rtexColor'),Qs('sheenGloss','sheenGloss'+'iess'),Qs('clearCoatG'+'loss','clearCostG'+'lossiness');function F0(_0x387fd9,_0x75796d){_0x387fd9!=='pass'&&Object['defineProp'+'erty'](dl['prototype'],_0x387fd9,{'get':function(){return w['deprecated']('Getting\x20pc'+'.Options#'+_0x387fd9+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0x75796d||_0x387fd9)+'.'),this['litOptions'][_0x75796d||_0x387fd9];},'set':function(_0x3fda4f){w['deprecated']('Setting\x20pc'+'.Options#'+_0x387fd9+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0x75796d||_0x387fd9)+'.'),this['litOptions'][_0x75796d||_0x387fd9]=_0x3fda4f;}});}F0('refraction','useRefract'+'ion');const TU=new wv(),zS=Object['getOwnProp'+'ertyNames'](TU);for(const l in zS)F0(zS[l]);mn['prototype']['getAssetBy'+'Id']=function(_0x47f290){return w['deprecated']('pc.AssetRe'+'gistry#get'+'AssetById\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AssetReg'+'istry#get\x20'+'instead.'),this['get'](_0x47f290);},Object['defineProp'+'erty'](Qt['prototype'],'ray',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#ray'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.XrInput'+'Source#get'+'Origin\x20and'+'\x20pc.XrInpu'+'tSource#ge'+'tDirection'+'\x20instead.'),this['_rayLocal'];}}),Object['defineProp'+'erty'](Qt['prototype'],'position',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#pos'+'ition\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Position\x20i'+'nstead.'),this['_localPosi'+'tion'];}}),Object['defineProp'+'erty'](Qt['prototype'],'rotation',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#rot'+'ation\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Rotation\x20i'+'nstead.'),this['_localRota'+'tion'];}}),Object['defineProp'+'erty'](Xo['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(-0x22*0x29+-0x17*-0x101+-0x12d*0xf);}}),Object['defineProp'+'erty'](ta['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(0xeda+0xc7f+-0x1b57*0x1);}}),Ks['prototype']['isFullscre'+'en']=function(){return w['deprecated']('pc.AppBase'+'#isFullscr'+'een\x20is\x20dep'+'recated.\x20U'+'se\x20the\x20Ful'+'lscreen\x20AP'+'I\x20directly'+'.'),!!document['fullscreen'+'Element'];},Ks['prototype']['enableFull'+'screen']=function(_0x5bc51a,_0x42d57d,_0x4cfbc6){w['deprecated']('pc.AppBase'+'#enableFul'+'lscreen\x20is'+'\x20deprecate'+'d.\x20Use\x20the'+'\x20Fullscree'+'n\x20API\x20dire'+'ctly.'),_0x5bc51a=_0x5bc51a||this['graphicsDe'+'vice']['canvas'];const _0x24bedb=function(){_0x42d57d(),document['removeEven'+'tListener']('fullscreen'+'change',_0x24bedb);},_0x2606cf=function(){_0x4cfbc6(),document['removeEven'+'tListener']('fullscreen'+'error',_0x2606cf);};_0x42d57d&&document['addEventLi'+'stener']('fullscreen'+'change',_0x24bedb,!(-0x241f+-0x805*-0x2+0x1416)),_0x4cfbc6&&document['addEventLi'+'stener']('fullscreen'+'error',_0x2606cf,!(-0x1*0x13e7+0x1f04+-0xb1c)),_0x5bc51a['requestFul'+'lscreen']?_0x5bc51a['requestFul'+'lscreen'](Element['ALLOW_KEYB'+'OARD_INPUT']):_0x4cfbc6();},Ks['prototype']['disableFul'+'lscreen']=function(_0x3b50bc){w['deprecated']('pc.AppBase'+'#disableFu'+'llscreen\x20i'+'s\x20deprecat'+'ed.\x20Use\x20th'+'e\x20Fullscre'+'en\x20API\x20dir'+'ectly.');const _0x3f44ab=function(){_0x3b50bc(),document['removeEven'+'tListener']('fullscreen'+'change',_0x3f44ab);};_0x3b50bc&&document['addEventLi'+'stener']('fullscreen'+'change',_0x3f44ab,!(-0x20b+0x11da*-0x2+-0x8*-0x4b8)),document['exitFullsc'+'reen']();},Ks['prototype']['getSceneUr'+'l']=function(_0x2d0a51){w['deprecated']('pc.AppBase'+'#getSceneU'+'rl\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.AppBa'+'se#scenes\x20'+'and\x20pc.Sce'+'neRegistry'+'#find\x20inst'+'ead.');const _0x2f9cab=this['scenes']['find'](_0x2d0a51);return _0x2f9cab?_0x2f9cab['url']:null;},Ks['prototype']['loadScene']=function(_0x1dbecb,_0x582e87){w['deprecated']('pc.AppBase'+'#loadScene'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.AppBase'+'#scenes\x20an'+'d\x20pc.Scene'+'Registry#l'+'oadScene\x20i'+'nstead.'),this['scenes']['loadScene'](_0x1dbecb,_0x582e87);},Ks['prototype']['loadSceneH'+'ierarchy']=function(_0xcca340,_0x219f1d){w['deprecated']('pc.AppBase'+'#loadScene'+'Hierarchy\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AppBase#'+'scenes\x20and'+'\x20pc.SceneR'+'egistry#lo'+'adSceneHie'+'rarchy\x20ins'+'tead.'),this['scenes']['loadSceneH'+'ierarchy'](_0xcca340,_0x219f1d);},Ks['prototype']['loadSceneS'+'ettings']=function(_0x11edf1,_0x3cc05a){w['deprecated']('pc.AppBase'+'#loadScene'+'Settings\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.AppBase#s'+'cenes\x20and\x20'+'pc.SceneRe'+'gistry#loa'+'dSceneSett'+'ings\x20inste'+'ad.'),this['scenes']['loadSceneS'+'ettings'](_0x11edf1,_0x3cc05a);},Tm['prototype']['setVisible']=function(_0x112a39){w['deprecated']('pc.ModelCo'+'mponent#se'+'tVisible\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.ModelComp'+'onent#enab'+'led\x20instea'+'d.'),this['enabled']=_0x112a39;},Object['defineProp'+'erty'](bs['prototype'],'bodyType',{'get':function(){return w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type'];},'set':function(_0x50b22a){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type']=_0x50b22a;}}),bs['prototype']['syncBodyTo'+'Entity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#syncBody'+'ToEntity\x20i'+'s\x20not\x20publ'+'ic\x20API\x20and'+'\x20should\x20no'+'t\x20be\x20used.'),this['_updateDyn'+'amic']();},wm['prototype']['setGravity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'tSystem#se'+'tGravity\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.RigidBody'+'ComponentS'+'ystem#grav'+'ity\x20instea'+'d.'),arguments['length']===-0xb*-0x377+-0x10d9+-0x1543?this['gravity']['copy'](arguments[-0x2160+-0x569+0x26c9]):this['gravity']['set'](arguments[-0xc*0x2cf+-0x19*0x6f+0x2c8b],arguments[-0x14d0+-0xff5*-0x2+-0x3b3*0x3],arguments[0x1c4*0x1+-0x205*0x1+0x43]);};class wU{constructor(_0x59d8e1){this['_frameInde'+'x']=-0x1218+0x1*-0x767+0x197f,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=-0x1206+0xab*0x26+-0x75b,this['enabled']=!(-0x742*0x1+0x127a+-0xb38),_0x59d8e1['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x59d8e1['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x59d8e1['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x1c5cda){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x1fb7c3=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x1fb7c3,this['_frameInde'+'x']=-0xf*0x17b+0x1d64+-0x265*0x3,this['mark'](_0x1c5cda);}['mark'](_0x108774){if(!this['enabled'])return;const _0x5ebe42=de();if(this['_frameInde'+'x']>0x9cb+0x1019+-0x19e4){const _0xa8d1ae=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(0x11*0xf7+0x19d0+-0x2a36)];_0xa8d1ae[0x7c4*-0x2+0x2415*-0x1+0x339e]=_0x5ebe42-_0xa8d1ae[-0x19*-0x1+0x1*0x1be6+0x1bfe*-0x1];}else{if(this['_timings']['length']>0x21b8+0x6*0x665+-0x4816){const _0x107284=this['_timings'][this['_timings']['length']-(0x20d7+-0x2b0+-0x1e26)];_0x107284[-0xc*-0x2db+-0x1970+-0x8d3*0x1]=_0x5ebe42-_0x107284[0x9*0x2c5+-0x1550+0xe7*-0x4];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x108774,_0x5ebe42]);else{const _0x15573e=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x15573e[-0x22b4*-0x1+-0xcda+-0x15da]=_0x108774,_0x15573e[-0x2511+0x5*0x64d+-0x591*-0x1]=_0x5ebe42;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](-0x6*-0x443+-0x46f*0x3+-0xc45,-(-0xb8c+-0x166*0xa+0x1989))['map'](_0xfb1796=>_0xfb1796[-0x1003+-0x210c+-0x4*-0xc44]);}}class EU{constructor(_0x98bd25){this['device']=_0x98bd25,_0x98bd25['gpuProfile'+'r']['enabled']=!(-0x169e+-0x15d8+0x2c76),this['enabled']=!(0x418+-0x2332+0x1f1a),this['unitsName']='ms',this['decimalPla'+'ces']=0x7f7*-0x3+0x25*-0xca+-0x6a3*-0x8,this['_timings']=[];}get['timings'](){return this['_timings'][-0x2377*0x1+-0xeda+-0x493*-0xb]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class bU{constructor(_0x1f7b53,_0x11cc36,_0x24201b,_0x1129fa,_0x15ccdd){this['app']=_0x1f7b53,this['values']=[],this['statNames']=_0x11cc36,this['statNames']['length']>0x26d4+-0xe84+0x1*-0x184d&&(this['statNames']['length']=0x4ee+0xd63*0x1+-0x1*0x124e),this['unitsName']=_0x1129fa,this['decimalPla'+'ces']=_0x24201b,this['multiplier']=_0x15ccdd||0x163*-0x6+-0xfe2+0x1835*0x1;const _0x5a68cb=(_0x285a9e,_0x649ebe)=>_0x285a9e['split']('.')['reduce']((_0x39d7ff,_0x4d8a96)=>_0x39d7ff?_0x39d7ff[_0x4d8a96]:null,_0x649ebe||this);_0x1f7b53['on']('frameupdat'+'e',_0x2d5ae1=>{for(let _0x3134aa=0x33*0x53+0x1f63+0xbfb*-0x4;_0x3134aa<this['statNames']['length'];_0x3134aa++)this['values'][_0x3134aa]=_0x5a68cb(this['statNames'][_0x3134aa],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class Uf{constructor(_0x20d182,_0x5e0a80,_0x593d21,_0x3b5fb8,_0x2da78f){this['app']=_0x5e0a80,this['name']=_0x20d182,this['device']=_0x5e0a80['graphicsDe'+'vice'],this['timer']=_0x2da78f,this['watermark']=_0x593d21,this['enabled']=!(0x1084*0x1+-0x1dbb+-0x12*-0xbc),this['textRefres'+'hRate']=_0x3b5fb8,this['avgTotal']=0x1*-0x85c+0x2159+-0x18fd,this['avgTimer']=-0x3*-0x6f2+0x1d04+-0x31da,this['avgCount']=0x3*0x66+0x6e6*0x4+-0xb*0x29e,this['timingText']='',this['texture']=null,this['yOffset']=-0x1*-0x1c5d+-0x1*-0x1295+-0x2ef2,this['cursor']=0x1839+0xfc0+-0x27f9,this['sample']=new Uint8ClampedArray(-0x2532+-0x2*-0x6a0+0x17f6),this['sample']['set']([-0x25bd*0x1+0x14d6*0x1+-0x1*-0x10e7,-0xcfe*-0x2+0xc02+-0xcaa*0x3,0x6bf+-0x284*-0x6+-0x1*0x15d7,-0xac0*-0x2+-0x1954+0x4d3]),this['counter']=-0x259+0x1*0xb74+-0x91b,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x3559ff){const _0x1d9328=this['timer']['timings'],_0x1a6289=_0x1d9328['reduce']((_0x2f8e30,_0x245134)=>_0x2f8e30+_0x245134,-0x1*0x1b59+0xc48+-0x1d*-0x85);if(this['avgTotal']+=_0x1a6289,this['avgTimer']+=_0x3559ff,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=0x25*-0xa9+-0xa81*0x3+-0xa*-0x598,this['avgTotal']=-0x1351+0x2*-0xa1c+0x2789,this['avgCount']=-0x90*-0x8+0x1560+-0x6*0x450),this['enabled']){let _0x2d2b96=0x52c+-0x492+-0x16*0x7;const _0x3545fe=(-0xf86+0xde*-0x1e+-0x298b*-0x1+0.5)*this['watermark'];for(let _0x24ff2b=-0x1b47+-0x2282+0x3dc9;_0x24ff2b<_0x1d9328['length'];++_0x24ff2b)_0x2d2b96+=Math['floor'](_0x1d9328[_0x24ff2b]/_0x3545fe*(-0x15d*0x7+0x2*0x757+0x6a*-0xa)),this['sample'][_0x24ff2b]=_0x2d2b96;this['sample'][0xd85*0x1+-0x6a6+-0x6dc]=this['watermark']/_0x3545fe*(-0x260c+-0x1359*-0x2+0x59),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(-0x2572*0x1+0x2597+-0x3*0xb)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=0x1b11+0x2529+-0x403a*0x1);}}['render'](_0x2330ca,_0x2d38ab,_0x44fff2,_0x3565dc,_0x2eb851){_0x2330ca['quad'](_0x2d38ab+_0x3565dc,_0x44fff2,-_0x3565dc,_0x2eb851,this['enabled']?this['cursor']:0xd6a+0xfa9+-0x1d13,this['enabled']?0x2*-0x8d3+0xa7*0x2e+0xc5c*-0x1+0.5+this['yOffset']:this['texture']['height']-(0xad6+0x29*0x93+-0x2260),-_0x3565dc,-0x1a42+0x6a0+0x13a2,this['texture'],0x1421*-0x1+-0x10bd*0x1+0x24de);}}class AU{constructor(_0x336bb1,_0x2d5c78){const _0x202416=_0x35b459=>{_0x35b459['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x35b459['textAlign']='left',_0x35b459['textBaseli'+'ne']='alphabetic';},_0x567fa9=_0x1f0631=>_0x1f0631==='.'||_0x1f0631['length']===0x1ae5+-0x51*0x47+-0x46d&&_0x1f0631['charCodeAt'](0x53f+0x370+-0xf7*0x9)>=0x94f+0x47*0x6d+-0x275a&&_0x1f0631['charCodeAt'](0x233+-0x126+-0x10d)<=0x2044+-0x25*-0x2+0x2055*-0x1,_0x32e57c=document['createElem'+'ent']('canvas'),_0x446bd6=_0x32e57c['getContext']('2d',{'alpha':!(-0x1fb7+-0x1*0x244d+0x5ab*0xc)});_0x202416(_0x446bd6);const _0x4d1df4=new Map(),_0x1b2ff7=-0x1dc2+-0x2649+-0x84*-0x84,_0x48c130=0x1bf0+0x1a5*-0xf+0x5*-0x41;let _0x552cc7=_0x1b2ff7,_0x5a56b5=_0x1b2ff7;_0x2d5c78['forEach'](_0x518845=>{const _0x59c448=_0x446bd6['measureTex'+'t'](_0x518845),_0x181515=Math['ceil'](-_0x59c448['actualBoun'+'dingBoxLef'+'t']),_0x12b3cf=Math['ceil'](_0x59c448['actualBoun'+'dingBoxRig'+'ht']),_0x285fba=Math['ceil'](_0x59c448['actualBoun'+'dingBoxAsc'+'ent']),_0x409fc0=Math['ceil'](_0x59c448['actualBoun'+'dingBoxDes'+'cent']),_0x1dcaa4=_0x181515+_0x12b3cf,_0x44dcfd=_0x285fba+_0x409fc0;_0x552cc7+_0x1dcaa4+_0x1b2ff7>=_0x48c130&&(_0x552cc7=_0x1b2ff7,_0x5a56b5+=-0x72c+0x20f*-0x1+0x94b),_0x4d1df4['set'](_0x518845,{'l':_0x181515,'r':_0x12b3cf,'a':_0x285fba,'d':_0x409fc0,'w':_0x1dcaa4,'h':_0x44dcfd,'x':_0x552cc7,'y':_0x5a56b5}),_0x552cc7+=_0x1dcaa4+_0x1b2ff7;}),_0x32e57c['width']=-0x2*0x836+-0x1*0x1f63+0x31cf,_0x32e57c['height']=Y['nextPowerO'+'fTwo'](_0x5a56b5+(-0xa3*-0x2e+0x16e+-0x1ea8)+_0x1b2ff7),_0x202416(_0x446bd6),_0x446bd6['fillStyle']='rgb(0,\x200,\x20'+'0)',_0x446bd6['fillRect'](-0x1670+0x1049+0x627,0x11*0x221+-0x238*-0x11+-0x35*0x165,_0x32e57c['width'],_0x32e57c['height']),_0x4d1df4['forEach']((_0x3c5382,_0xa4d386)=>{_0x446bd6['fillStyle']=_0x567fa9(_0xa4d386)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0x446bd6['fillText'](_0xa4d386,_0x3c5382['x']-_0x3c5382['l'],_0x3c5382['y']+_0x3c5382['a']);}),this['placements']=_0x4d1df4;const _0x2e1ce4=_0x446bd6['getImageDa'+'ta'](0x1e95+0x29f*0x7+-0x30ee,-0x2591*0x1+-0x2026+0x3*0x173d,_0x32e57c['width'],_0x32e57c['height'])['data'];for(let _0x277cfe=-0x1*0x19a9+0x23e9+0x1*-0xa40;_0x277cfe<_0x2e1ce4['length'];_0x277cfe+=0x173*-0xe+0x21b6+-0x68*0x21)_0x2e1ce4[_0x277cfe+(-0xbc9+0x2375+0x7e3*-0x3)]=_0x2e1ce4[_0x277cfe+(0x43d+-0x1a*-0x133+-0x236b)],_0x2e1ce4[_0x277cfe+(0x17c9+0x13c7*-0x1+-0x402*0x1)]=0x8e5+-0x1904+0x139*0xe,_0x2e1ce4[_0x277cfe+(0x21bc*0x1+-0x1*-0x1b97+0x5e*-0xa7)]=-0x92*-0x22+0x2*-0x3d0+-0xac5,_0x2e1ce4[_0x277cfe+(0x263f+-0xcc*-0x1c+-0x3c8d)]=-0x13fc+0x424+-0x10d7*-0x1;this['texture']=new _e(_0x336bb1,{'name':'mini-stats'+'-word-atla'+'s','width':_0x32e57c['width'],'height':_0x32e57c['height'],'mipmaps':!(-0x1326+0x187*0x5+0xb84),'minFilter':Te,'magFilter':Te,'levels':[_0x2e1ce4]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x3f8333,_0x2b3fd2,_0x3a9ceb,_0x3e6628){const _0x3d22d5=this['placements']['get'](_0x2b3fd2);return _0x3d22d5?(_0x3f8333['quad'](_0x3a9ceb+_0x3d22d5['l']-(0x3*-0xb0a+-0x200*-0x1+0x1f1f),_0x3e6628-_0x3d22d5['d']+(0x1d46+0x13a3+0x4*-0xc3a),_0x3d22d5['w']+(0x1c45+0x8b*0x43+-0x40a4),_0x3d22d5['h']+(-0x1*-0x1ca8+0x109d*-0x1+-0xc09),_0x3d22d5['x']-(0xa66*0x2+-0x7*0x48b+0xb02),this['texture']['height']-_0x3d22d5['y']-_0x3d22d5['h']-(0x282*-0x8+-0x127a+-0x1ad*-0x17),void(0x2c*-0x9e+-0x1c26+0x374e),void(0x92*0x3b+-0x1*0x19b5+-0x7f1),this['texture'],-0x1ad4+-0x1*0x1cc9+0x62e*0x9),_0x3d22d5['w']):-0x756+-0xfb3*-0x1+-0x85d;}}const CU='\x0a\x20\x20\x20\x20attri'+'bute\x20vec3\x20'+'vertex_pos'+'ition;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20un'+'normalized'+'\x20xy,\x20word\x20'+'flag\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_texCoord0'+';\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20unnormal'+'ized\x20textu'+'re\x20space\x20u'+'v,\x20normali'+'zed\x20uv\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec4\x20uv0;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20float\x20wo'+'rdFlag;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion.xy\x20*\x202'+'.0\x20-\x201.0,\x20'+'0.5,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20verte'+'x_texCoord'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20wordFlag\x20'+'=\x20vertex_p'+'osition.z;'+'\x0a\x20\x20\x20\x20}\x0a',PU='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec3f;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'unnormaliz'+'ed\x20xy,\x20wor'+'d\x20flag\x0a\x20\x20\x20'+'\x20attribute'+'\x20vertex_te'+'xCoord0:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20unno'+'rmalized\x20t'+'exture\x20spa'+'ce\x20uv,\x20nor'+'malized\x20uv'+'\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'varying\x20wo'+'rdFlag:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x20fn\x20v'+'ertexMain('+'input\x20:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output\x20:\x20'+'VertexOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4(input'+'.vertex_po'+'sition.xy\x20'+'*\x202.0\x20-\x201.'+'0,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.u'+'v0\x20=\x20input'+'.vertex_te'+'xCoord0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.wordFl'+'ag\x20=\x20input'+'.vertex_po'+'sition.z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',MU='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20uv'+'0;\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20wordFlag;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'lr;\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20grap'+'hTex;\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in\x20(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20graph'+'Sample\x20=\x20t'+'exture2D(g'+'raphTex,\x20u'+'v0.xy);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20graph;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.r)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.7,\x200.2,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.b)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gr'+'aph\x20=\x20vec4'+'(0.2,\x200.2,'+'\x200.7,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gra'+'ph\x20=\x20vec4('+'0.0,\x200.0,\x20'+'0.0,\x201.0\x20-'+'\x200.25\x20*\x20si'+'n(uv0.w\x20*\x20'+'3.14159));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20words'+'\x20=\x20texture'+'2D(wordsTe'+'x,\x20vec2(uv'+'0.x,\x201.0\x20-'+'\x20uv0.y));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20mix(gr'+'aph,\x20words'+',\x20wordFlag'+')\x20*\x20clr;\x0a\x20'+'\x20\x20\x20}\x0a',DU='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c4f;\x0a\x20\x20\x20\x20v'+'arying\x20wor'+'dFlag:\x20f32'+';\x0a\x0a\x20\x20\x20\x20uni'+'form\x20clr:\x20'+'vec4f;\x0a\x0a\x20\x20'+'\x20\x20var\x20grap'+'hTex\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20graphTex'+'_sampler\x20:'+'\x20sampler;\x0a'+'\x0a\x20\x20\x20\x20var\x20w'+'ordsTex\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20words'+'Tex_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20u'+'v0:\x20vec4f\x20'+'=\x20input.uv'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20graph'+'Sample:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'graphTex,\x20'+'graphTex_s'+'ampler,\x20uv'+'0.xy);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'graph:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(uv0.'+'w\x20<\x20graphS'+'ample.r)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4f(0.7'+',\x200.2,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4f(0.'+'2,\x200.7,\x200.'+'2,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(uv'+'0.w\x20<\x20grap'+'hSample.b)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20graph'+'\x20=\x20vec4f(0'+'.2,\x200.2,\x200'+'.7,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'raph\x20=\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x201.'+'0\x20-\x200.25\x20*'+'\x20sin(uv0.w'+'\x20*\x203.14159'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20wor'+'ds:\x20vec4f\x20'+'=\x20textureS'+'ample(word'+'sTex,\x20word'+'sTex_sampl'+'er,\x20vec2f('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'input.word'+('Flag)\x20*\x20un'+'iform.clr;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a');class IU{constructor(_0xf2b5bf,_0x5b4044=-0x1a12+-0x516*-0x4+0x7ba){const _0x4b2229=new kt(_0xf2b5bf,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':is,'components':0x4,'type':Ve}]),_0x34e963=new Uint16Array(_0x5b4044*(0x2*-0x67f+-0x11f*0x1c+-0x74*-0x62));for(let _0x605f81=0x171*-0x13+-0x2004+0x3b67;_0x605f81<_0x5b4044;++_0x605f81)_0x34e963[_0x605f81*(0x4e1+-0x122*0x1e+0x1d21)+(-0x62*0x2+-0x1a*0x23+0xe*0x4f)]=_0x605f81*(-0x24d9+-0x2652+0x4b2f),_0x34e963[_0x605f81*(-0x4*0x8ba+-0x36b+-0x2659*-0x1)+(0x990+-0x676*0x2+0x29*0x15)]=_0x605f81*(0x1602+-0x246e+0xe70)+(0x688+-0x1d*-0x64+-0x11db),_0x34e963[_0x605f81*(-0x23f3*0x1+0x2523+-0x2*0x95)+(0x363+0x1ecc+-0x2a1*0xd)]=_0x605f81*(0x8f6+0xdc9+-0x16bb)+(0x4*0x83b+0x16ad+-0x13*0x2ed),_0x34e963[_0x605f81*(0xecc+0x21c8+-0x308e)+(0x612+-0x6ca+0xbb)]=_0x605f81*(0x46*0x38+0x11*-0x1cf+-0x5*-0x317),_0x34e963[_0x605f81*(0x6a*0x5d+-0x220*-0x1+-0x289c)+(0x5*-0x44d+0x9d*0xa+0x65*0x27)]=_0x605f81*(-0x11bc+0x3ed+0xdd3)+(-0xd4f*-0x1+-0xece+0x1*0x181),_0x34e963[_0x605f81*(0x1*0x445+0x1cb7+-0x107b*0x2)+(-0x18f3+-0xcd*-0x1f+0x25)]=_0x605f81*(-0x23b4+-0x178b+0xd*0x48f)+(-0x24d4+-0x1f95+0x1*0x446c);this['device']=_0xf2b5bf,this['buffer']=new Is(_0xf2b5bf,_0x4b2229,_0x5b4044*(-0x19c0+-0x18ab+0x326f),{'usage':ey}),this['data']=new Float32Array(this['buffer']['numBytes']/(0x1*0x12a9+-0x2*0xad0+0x2fb*0x1)),this['indexBuffe'+'r']=new br(_0xf2b5bf,Yi,_0x5b4044*(0xfbb*-0x1+-0x1223+-0x3*-0xb4c),ms,_0x34e963),this['prim']={'type':js,'indexed':!(-0x1d94+0x7*0x95+0x1981),'base':0x0,'baseVertex':0x0,'count':0x0},this['quads']=-0xa*0x2ca+-0xd*-0x27f+-0x48f,this['mesh']=new Ge(_0xf2b5bf),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][0xc61*-0x2+0x1fd0+-0x2a*0x2b]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x3e5765=new Xn({'uniqueName':'MiniStats','vertexGLSL':CU,'fragmentGLSL':MU,'vertexWGSL':PU,'fragmentWGSL':DU,'attributes':{'vertex_position':Me,'vertex_texCoord0':is}});this['material']=_0x3e5765,_0x3e5765['cull']=bt,_0x3e5765['depthState']=Yt['NODEPTH'],_0x3e5765['blendState']=new pt(!(-0x23a+0x1df9+0x1bbf*-0x1),fs,jh,Yh,fs,Ft,Ft),_0x3e5765['update'](),this['meshInstan'+'ce']=new He(this['mesh'],_0x3e5765,new Ie('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(-0x1*0x1949+-0x1395+0x2*0x1671)},this['targetSize']={'width':_0xf2b5bf['width'],'height':_0xf2b5bf['height']};}['quad'](_0x22ff8e,_0x50604f,_0x5ba5de,_0x2e4b9f,_0x4f0677,_0x42585e,_0x426568,_0x2a2400,_0x525d71,_0x4629df=0x1277+-0x3a7+-0xed0){const _0x20a077=this['targetSize']['width'],_0x24a5f3=this['targetSize']['height'],_0x104e82=_0x22ff8e/_0x20a077,_0x1c267c=_0x50604f/_0x24a5f3,_0x41d600=(_0x22ff8e+_0x5ba5de)/_0x20a077,_0x2cbaab=(_0x50604f+_0x2e4b9f)/_0x24a5f3,_0x634fca=_0x525d71['width'],_0x2e9b4b=_0x525d71['height'],_0x1dfa17=_0x4f0677/_0x634fca,_0x13b11e=_0x42585e/_0x2e9b4b,_0xa757f7=(_0x4f0677+(_0x426568??_0x5ba5de))/_0x634fca,_0x56374a=(_0x42585e+(_0x2a2400??_0x2e4b9f))/_0x2e9b4b;this['data']['set']([_0x104e82,_0x1c267c,_0x4629df,_0x1dfa17,_0x13b11e,-0x232b+-0x2400+0x472b,-0x100+-0x4b*-0x29+-0xb03,_0x41d600,_0x1c267c,_0x4629df,_0xa757f7,_0x13b11e,0x23d7+0x1d80+-0x4156,0x1677+-0x8b6+-0xdc1,_0x41d600,_0x2cbaab,_0x4629df,_0xa757f7,_0x56374a,0x1*0xce+-0x11*0x106+-0x7*-0x25f,-0x5a7*0x3+-0x17d4*0x1+0x28ca,_0x104e82,_0x2cbaab,_0x4629df,_0x1dfa17,_0x56374a,-0xc9b+0x6a*0x4f+-0x141b,0x1c49+0x11d9+-0x2e21],(-0x917+-0x3dc+-0x1*-0xd0f)*this['quads']),this['quads']++,this['prim']['count']+=0x25df+-0x1*-0x1822+0x3*-0x14a9;}['startFrame'](){this['quads']=0x2f3*0xd+-0x1a*0x14e+-0x179*0x3,this['prim']['count']=-0x7*0x383+-0x915+0x21aa,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x24e979,_0x44c33f,_0x366e56,_0x347a9c,_0x50055b,_0x2b527f){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x50055b,0x1d89*0x1+-0x1*-0xdb7+-0x2b40),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0x366e56),this['material']['setParamet'+'er']('wordsTex',_0x347a9c),_0x24e979['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x44c33f);}}class N0{constructor(_0x2e890d,_0x5645fb){const _0x19d510=_0x2e890d['graphicsDe'+'vice'];this['deviceHeig'+'ht']=_0x19d510['height']/_0x19d510['maxPixelRa'+'tio'],_0x5645fb={...N0['getDefault'+'Options'](),..._0x5645fb},this['options']=_0x5645fb,this['initGraphs'](_0x2e890d,_0x19d510,_0x5645fb);const _0x34d474=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x4208c4=>_0x4208c4['name']))['concat'](_0x5645fb['stats']?_0x5645fb['stats']['map'](_0x1753a4=>_0x1753a4['unitsName']):[])['filter'](_0x3e4cc5=>!!_0x3e4cc5));this['wordAtlas']=new AU(_0x19d510,_0x34d474),this['sizes']=_0x5645fb['sizes'],this['_activeSiz'+'eIndex']=_0x5645fb['startSizeI'+'ndex'];const _0x1a9b8a=document['createElem'+'ent']('div');_0x1a9b8a['setAttribu'+'te']('id','mini-stats'),_0x5645fb['position']==='top'?_0x1a9b8a['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';':_0x1a9b8a['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',_0x1a9b8a['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';',document['body']['appendChil'+'d'](_0x1a9b8a),_0x1a9b8a['addEventLi'+'stener']('mouseenter',_0x29f0ec=>{this['opacity']=0x242d+0x18ab+-0xc2b*0x5;}),_0x1a9b8a['addEventLi'+'stener']('mouseleave',_0x580cef=>{this['opacity']=-0x1682+-0x847+-0x3*-0xa43+0.7;}),_0x1a9b8a['addEventLi'+'stener']('click',_0x588d18=>{_0x588d18['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(0x2*-0xc18+-0x1*-0xbf6+0x1f*0x65))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x19d510['on']('resizecanv'+'as',this['updateDiv'],this),_0x19d510['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x2e890d['on']('postrender',this['postRender'],this),this['app']=_0x2e890d,this['drawLayer']=_0x2e890d['scene']['layers']['getLayerBy'+'Id'](Il),this['device']=_0x19d510,this['render2d']=new IU(_0x19d510),this['div']=_0x1a9b8a,this['width']=-0x3fa+-0xb3+0x4ad,this['height']=-0x191b*-0x1+-0xb11+-0xe0a,this['gspacing']=0x1*0x443+0x3*-0x943+0x1788,this['clr']=[0x520+-0xbd8+0x6b9,-0x1c37+-0x12eb+0x2f23,0x8*-0x3c9+0x12db+0xb6e,0x1b1*0x11+0x66*-0x54+-0x11*-0x47+0.5],this['_enabled']=!(-0x6c7*0x1+0x1f*0x8b+-0xa0e),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x304d0b=>_0x304d0b['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'position':'top','sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(-0x11c+0x194d+-0x204*0xc)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(-0x20*-0x121+-0x25*-0x18+-0x2798)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(0xea*0xf+-0x13*-0x71+-0x1*0x1619)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(-0x1157+-0x2573*0x1+0x1b65*0x2),'watermark':0x21},'gpu':{'enabled':!(-0x5*-0x59+-0x10d6+0xf19*0x1),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x3a9751){this['_activeSiz'+'eIndex']=_0x3a9751,this['gspacing']=this['sizes'][_0x3a9751]['spacing'],this['resize'](this['sizes'][_0x3a9751]['width'],this['sizes'][_0x3a9751]['height'],this['sizes'][_0x3a9751]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0x175e6f){this['clr'][-0xfcb+0x16f9+-0x72b]=_0x175e6f;}get['opacity'](){return this['clr'][0xeea*0x2+-0xb7e*0x3+0x1*0x4a9];}get['overallHei'+'ght'](){const _0x1330ce=this['graphs'],_0x5ceb36=this['gspacing'];return this['height']*_0x1330ce['length']+_0x5ceb36*(_0x1330ce['length']-(-0x153f*-0x1+0x1bd8+-0x7a*0x67));}set['enabled'](_0x3f9974){if(_0x3f9974!==this['_enabled']){this['_enabled']=_0x3f9974;for(let _0x10335f=0x11e1+-0x3*-0x663+-0x250a;_0x10335f<this['graphs']['length'];++_0x10335f)this['graphs'][_0x10335f]['enabled']=_0x3f9974,this['graphs'][_0x10335f]['timer']['enabled']=_0x3f9974;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x199f1e,_0x5ea6f6,_0x9fd2a0){if(this['graphs']=[],_0x9fd2a0['cpu']['enabled']){const _0x100e64=new wU(_0x199f1e),_0x2aa4ac=new Uf('CPU',_0x199f1e,_0x9fd2a0['cpu']['watermark'],_0x9fd2a0['textRefres'+'hRate'],_0x100e64);this['graphs']['push'](_0x2aa4ac);}if(_0x9fd2a0['gpu']['enabled']){const _0x16446b=new EU(_0x5ea6f6),_0x198a0a=new Uf('GPU',_0x199f1e,_0x9fd2a0['gpu']['watermark'],_0x9fd2a0['textRefres'+'hRate'],_0x16446b);this['graphs']['push'](_0x198a0a);}_0x9fd2a0['stats']&&_0x9fd2a0['stats']['forEach'](_0x51cd62=>{const _0x406679=new bU(_0x199f1e,_0x51cd62['stats'],_0x51cd62['decimalPla'+'ces'],_0x51cd62['unitsName'],_0x51cd62['multiplier']),_0x9b1627=new Uf(_0x51cd62['name'],_0x199f1e,_0x51cd62['watermark'],_0x9fd2a0['textRefres'+'hRate'],_0x406679);this['graphs']['push'](_0x9b1627);});const _0x45c7e1=_0x9fd2a0['sizes']['reduce']((_0x385c77,_0x20046b)=>_0x20046b['width']>_0x385c77?_0x20046b['width']:_0x385c77,0x1de0+-0x7*-0x576+-0x2e*0x17b);this['texture']=new _e(_0x5ea6f6,{'name':'mini-stats'+'-graph-tex'+'ture','width':Y['nextPowerO'+'fTwo'](_0x45c7e1),'height':Y['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(-0xb6*-0x8+0xc*0x1d0+-0x1b6f),'minFilter':Te,'magFilter':Te,'addressU':yt,'addressV':yt}),this['graphs']['forEach']((_0x33b7b5,_0x1977c2)=>{_0x33b7b5['texture']=this['texture'],_0x33b7b5['yOffset']=_0x1977c2;});}['render'](){const _0x5dfb68=this['graphs'],_0xe7cfc9=this['wordAtlas'],_0x2a5375=this['render2d'],_0x20aa86=this['width'],_0x579266=this['height'],_0x3c3aec=this['gspacing'];_0x2a5375['startFrame']();for(let _0x2a87f3=0x8*-0x2f5+0x2d*0x44+-0xe*-0xd6;_0x2a87f3<_0x5dfb68['length'];++_0x2a87f3){const _0x37ffd7=_0x5dfb68[_0x2a87f3];let _0x2f65b8=this['options']['position']==='top'?this['deviceHeig'+'ht']-(_0x2a87f3+(-0x141*0xd+0xf59+0xf5))*(_0x579266+_0x3c3aec):_0x2a87f3*(_0x579266+_0x3c3aec);_0x37ffd7['render'](_0x2a5375,0x8*-0x4ca+0x63c+0x4*0x805,_0x2f65b8,_0x20aa86,_0x579266);let _0x366cc9=0x19*-0x6f+-0x51*0x1f+0x14a7*0x1;_0x2f65b8+=_0x579266-(-0xe0e+-0x541*-0x7+-0x16ac),_0x366cc9+=_0xe7cfc9['render'](_0x2a5375,_0x37ffd7['name'],_0x366cc9,_0x2f65b8)+(-0x1*0x1271+-0x1fbc+0x5*0xa0b);const _0x1d1948=_0x37ffd7['timingText'];for(let _0xa37b6a=0x1521+0x1be0+-0x3101;_0xa37b6a<_0x1d1948['length'];++_0xa37b6a)_0x366cc9+=_0xe7cfc9['render'](_0x2a5375,_0x1d1948[_0xa37b6a],_0x366cc9,_0x2f65b8);_0x37ffd7['timer']['unitsName']&&(_0x366cc9+=-0x1559*-0x1+0x964*-0x4+0x103a,_0xe7cfc9['render'](_0x2a5375,_0x37ffd7['timer']['unitsName'],_0x366cc9,_0x2f65b8));}_0x2a5375['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x579266);}['resize'](_0x15f176,_0x3e5cfc,_0x348d75){const _0x383ed3=this['graphs'];for(let _0x2ed157=-0x2281+0xd*-0x22d+0x3eca;_0x2ed157<_0x383ed3['length'];++_0x2ed157)_0x383ed3[_0x2ed157]['enabled']=_0x348d75;this['width']=_0x15f176,this['height']=_0x3e5cfc,this['updateDiv']();}['updateDiv'](){const _0x7f994a=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x7f994a['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x7f994a['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px',this['deviceHeig'+'ht']=this['device']['height']/this['device']['maxPixelRa'+'tio'];}['loseContex'+'t'](){this['graphs']['forEach'](_0x5baaef=>_0x5baaef['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}H0();class LU extends ts{constructor(){super(...arguments),h(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),h(this,'controller'+'s',new Map()),h(this,'preEntitie'+'s',new Map()),h(this,'eventsList',[]),h(this,'addEvents',(_0x329744,_0x457f66,_0x109291)=>{_0x329744['on'](_0x457f66,_0x109291),this['eventsList']=this['eventsList']['concat']({'e':_0x329744,'ty':_0x457f66,'fn':_0x109291});}),h(this,'removeEven'+'ts',()=>{this['eventsList']['forEach'](({e:_0x292a8e,ty:_0x24dbe2,fn:_0x13c726})=>{_0x292a8e['off'](_0x24dbe2,_0x13c726);}),this['eventsList']=[];}),h(this,'initialize',()=>{if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation');return;}this['addEvents'](this['app']['xr']['input'],'add',async _0x11d09a=>{var _0xa0ef91;if(console['log']('add\x20xr\x20inp'+'ut',_0x11d09a['handedness']),!((_0xa0ef91=_0x11d09a['profiles'])!=null&&_0xa0ef91['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x500d00=_0x11d09a['profiles']['map'](async _0xe3618b=>{var _0x6acdc6;const _0x29a1db=this['basePath']+'/'+_0xe3618b+('/profile.j'+'son');try{const _0xc421ce=await fetch(_0x29a1db);if(!_0xc421ce['ok'])return null;const _0x1e050f=await _0xc421ce['json'](),_0x3eb4fa=((_0x6acdc6=_0x1e050f['layouts'][_0x11d09a['handedness']])==null?void(0x85+0x737+-0x7bc):_0x6acdc6['assetPath'])||'',_0x5e3424=this['basePath']+'/'+_0x1e050f['profileId']+'/'+_0x11d09a['handedness']+_0x3eb4fa['replace'](/^\/?(left|right)/,''),_0x4f2963=await new Promise((_0x13439d,_0x4720e4)=>{this['app']['assets']['loadFromUr'+'l'](_0x5e3424,'container',(_0x4a5da2,_0x22303f)=>{_0x4a5da2?_0x4720e4(_0x4a5da2):_0x13439d(_0x22303f);});});return{'profileId':_0xe3618b,'asset':_0x4f2963};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0xe3618b),null;}}),_0x4eac9c=(await Promise['all'](_0x500d00))['find'](_0x38c5fb=>_0x38c5fb!==null);if(_0x4eac9c){const {asset:_0x4998d4}=_0x4eac9c,_0x28d763=_0x4998d4['resource']['instantiat'+'eRenderEnt'+'ity']();_0x28d763['name']='Armature_'+_0x11d09a['handedness'],this['app']['root']['addChild'](_0x28d763),this['preEntitie'+'s']['set'](_0x11d09a,_0x28d763);const _0x2d5e07=new Map();if(_0x11d09a['hand'])for(const _0x48629f of _0x11d09a['hand']['joints']){const _0x2ee2bd=_0x28d763['findByName'](_0x48629f['id']);_0x2ee2bd&&_0x2d5e07['set'](_0x48629f,_0x2ee2bd);}this['controller'+'s']['set'](_0x11d09a,{'entity':_0x28d763,'jointMap':_0x2d5e07});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['addEvents'](this['app']['xr']['input'],'remove',_0x2c0606=>{var _0x6d0ed0;const _0x306a11=this['controller'+'s']['get'](_0x2c0606);_0x306a11&&((_0x6d0ed0=_0x306a11['entity'])==null||_0x6d0ed0['destroy'](),this['app']['root']['removeChil'+'d'](_0x306a11==null?void(-0x2db+0x926*0x2+-0xf71*0x1):_0x306a11['entity']),this['controller'+'s']['delete'](_0x2c0606));}),this['addEvents'](this['app']['xr']['input'],'removeall',this['destroy']),this['on']('destroy',this['removeEven'+'ts']);}),h(this,'destroy',()=>{var _0x561a16,_0x559357,_0x472bc7;const _0x3dbb14=this['app'];(_0x561a16=this['controller'+'s'])==null||_0x561a16['forEach'](_0x1688bf=>{var _0x1d8cf0;_0x3dbb14['root']['removeChil'+'d'](_0x1688bf==null?void(-0x2*0x827+-0x2*-0xd8b+-0xac8):_0x1688bf['entity']),(_0x1d8cf0=_0x1688bf['entity'])==null||_0x1d8cf0['destroy']();}),(_0x559357=this['controller'+'s'])==null||_0x559357['clear'](),(_0x472bc7=this['preEntitie'+'s'])==null||_0x472bc7['forEach'](_0x505f33=>{_0x3dbb14['root']['removeChil'+'d'](_0x505f33),_0x505f33==null||_0x505f33['destroy']();});const _0x52c5f1=()=>{const _0x3a51c5=_0x3dbb14['root']['findByName']('Armature_l'+'eft'),_0x24e934=_0x3dbb14['root']['findByName']('Armature_r'+'ight');for(_0x3a51c5&&_0x3dbb14['root']['removeChil'+'d'](_0x3a51c5),_0x24e934&&_0x3dbb14['root']['removeChil'+'d'](_0x24e934);_0x3dbb14['root']['findByName']('Armature_l'+'eft')||_0x3dbb14['root']['findByName']('Armature_r'+'ight');)_0x52c5f1();};_0x52c5f1();});}['update'](_0x47cf0e){var _0x16450b;if((_0x16450b=this['app']['xr'])!=null&&_0x16450b['active']){for(const [_0x3d57f0,{entity:_0x2ecef6,jointMap:_0x2bfbd0}]of this['controller'+'s'])if(_0x3d57f0['hand']){for(const [_0x39f2ab,_0x3daa09]of _0x2bfbd0)_0x3daa09['setPositio'+'n'](_0x39f2ab['getPositio'+'n']()),_0x3daa09['setRotatio'+'n'](_0x39f2ab['getRotatio'+'n']());}else _0x2ecef6['setPositio'+'n'](_0x3d57f0['getPositio'+'n']()),_0x2ecef6['setRotatio'+'n'](_0x3d57f0['getRotatio'+'n']());}}}h(LU,'scriptName','xrControll'+'ers');class RU extends ts{constructor(){super(...arguments),h(this,'enableDraw'+'Ray',!(0x543+-0x53e+0x1*-0x4)),h(this,'inputSourc'+'es',new Set()),h(this,'activePoin'+'ters',new Map()),h(this,'validColor',new ie(0x1d77+0x1fa6+-0x3d1d*0x1,-0x182+0x50*0xd+-0x1*0x28d,-0x382*0x6+-0x1b61+0xb*0x467)),h(this,'invalidCol'+'or',new ie(-0x2607+-0xe9e+0x34a6,-0x13e2+-0x1*0x1f7f+0x3361,-0x1*0x1666+-0x1061*-0x1+0x605)),h(this,'inputHandl'+'ers',new Map()),h(this,'teleportOp'+'enStatus',!(0x87f+0xb18+-0x6d*0x2e)),h(this,'teleportLe'+'ftOpenStat'+'us',!(0x1*0x17c9+-0x1a7d+0x2b5));}['initialize'](){if(!this['app']['xr']){console['error']('XrNavigati'+'on\x20script\x20'+'requires\x20X'+'R\x20to\x20be\x20en'+'abled\x20on\x20t'+'he\x20applica'+'tion');return;}this['app']['xr']['input']['on']('add',_0x2e341d=>{const _0x1bb779=()=>{this['activePoin'+'ters']['set'](_0x2e341d,!(-0x1b94*0x1+0x970+0x1224));},_0xea5e76=()=>{this['activePoin'+'ters']['set'](_0x2e341d,!(-0x171a+0x1*-0xa63+0xb2a*0x3)),this['tryTelepor'+'t'](_0x2e341d);};_0x2e341d['on']('selectstar'+'t',_0x1bb779),_0x2e341d['on']('selectend',_0xea5e76),this['inputHandl'+'ers']['set'](_0x2e341d,{'handleSelectStart':_0x1bb779,'handleSelectEnd':_0xea5e76}),this['inputSourc'+'es']['add'](_0x2e341d);}),this['app']['xr']['input']['on']('remove',_0x3c7485=>{const _0x49a05=this['inputHandl'+'ers']['get'](_0x3c7485);_0x49a05&&(_0x3c7485['off']('selectstar'+'t',_0x49a05['handleSele'+'ctStart']),_0x3c7485['off']('selectend',_0x49a05['handleSele'+'ctEnd']),this['inputHandl'+'ers']['delete'](_0x3c7485)),this['activePoin'+'ters']['delete'](_0x3c7485),this['inputSourc'+'es']['delete'](_0x3c7485);});}['findPlaneI'+'ntersectio'+'n'](_0x3a8135,_0x1fd54c){if(Math['abs'](_0x1fd54c['y'])<0x266e+0x15b9+-0x3c27*0x1+0.00001)return null;const _0x50fbd1=-_0x3a8135['y']/_0x1fd54c['y'];return _0x50fbd1<0x49e+0x1613+0x1ab1*-0x1?null:new D(_0x3a8135['x']+_0x1fd54c['x']*_0x50fbd1,0x62*-0x3d+-0x2647+0x3da1,_0x3a8135['z']+_0x1fd54c['z']*_0x50fbd1);}['tryTelepor'+'t'](_0x375106){if(this['teleportOp'+'enStatus']||this['teleportLe'+'ftOpenStat'+'us']){const _0x558c06=_0x375106['getOrigin'](),_0x57933b=_0x375106['getDirecti'+'on'](),_0x29d9a9=this['findPlaneI'+'ntersectio'+'n'](_0x558c06,_0x57933b);if(_0x29d9a9){const _0x2634a4=this['entity']['getPositio'+'n']()['y'];_0x29d9a9['y']=_0x2634a4,this['entity']['setPositio'+'n'](_0x29d9a9);}}}['update'](){for(const _0x52a20a of this['inputSourc'+'es']){const _0x59ad41=_0x52a20a['getOrigin'](),_0x4f3585=_0x52a20a['getDirecti'+'on']();if(_0x52a20a['gamepad']&&!_0x52a20a['hand']){const _0x4f0d69=_0x52a20a['gamepad'];for(let _0x52fe64=0x3*0xe3+-0xd34+0xa8b;_0x52fe64<_0x4f0d69['buttons']['length'];++_0x52fe64)_0x4f0d69['buttons'][_0x52fe64]['pressed']&&console['log'](_0x52fe64,_0x52a20a['handedness']),_0x52a20a['handedness']==='right'&&_0x52fe64===0xc*-0x10a+0xd16+-0x9d&&(this['teleportOp'+'enStatus']=_0x4f0d69['buttons'][-0x32d+-0x82d+0xab*0x11]['pressed']),_0x52a20a['handedness']==='left'&&_0x52fe64===-0x1275+0x219e+-0x28*0x61&&(this['teleportLe'+'ftOpenStat'+'us']=_0x4f0d69['buttons'][-0x16d3+-0x1960+0x3034]['pressed']);}const _0x2c3ece=_0x52a20a['handedness'];if(!this['enableDraw'+'Ray']&&(_0x2c3ece==='right'&&!this['teleportOp'+'enStatus']||_0x2c3ece==='left'&&!this['teleportLe'+'ftOpenStat'+'us']))continue;const _0x38d2a0=this['findPlaneI'+'ntersectio'+'n'](_0x59ad41,_0x4f3585);if(this['enableDraw'+'Ray']||!_0x38d2a0){const _0x32d867=_0x59ad41['clone']()['add'](_0x4f3585['clone']()['mulScalar'](0x6d*-0x5+-0x1719+0x199e)),_0x5c492c=this['enableDraw'+'Ray']?_0x52a20a['selecting']?ie['GREEN']:ie['WHITE']:this['invalidCol'+'or'];this['app']['drawLine'](_0x59ad41,_0x32d867,_0x5c492c);}else this['app']['drawLine'](_0x59ad41,_0x38d2a0,this['validColor']),this['drawTelepo'+'rtIndicato'+'r'](_0x38d2a0);}}['drawTelepo'+'rtIndicato'+'r'](_0x22b96e){for(let _0x12a468=-0x2458*0x1+0xd*-0x299+-0x1*-0x461d;_0x12a468<0xd*-0x8c+0x14fd+-0xdc1;_0x12a468++){const _0x1ac4ff=_0x12a468/(-0x354*0x4+0x34*0x72+-0x9b8)*Math['PI']*(-0x1*0xf89+0xd99+0x1f2),_0xe7671e=(_0x12a468+(-0xcf+-0x1*0x1c5d+-0x4d*-0x61))/(-0x230a+-0x165e*-0x1+-0x9*-0x16c)*Math['PI']*(-0x2*0xc72+-0xe4b+0x2731),_0x12ec99=_0x22b96e['x']+Math['cos'](_0x1ac4ff)*(0x5a+-0x1*-0x2117+0x2171*-0x1+0.2),_0x32d63d=_0x22b96e['z']+Math['sin'](_0x1ac4ff)*(0x1c60+-0x2405+-0x13*-0x67+0.2),_0x6a7329=_0x22b96e['x']+Math['cos'](_0xe7671e)*(-0x7*0x24d+0x1*0x2209+-0x1cb*0xa+0.2),_0x468676=_0x22b96e['z']+Math['sin'](_0xe7671e)*(-0x122c+0x13f9+0x1cd*-0x1+0.2);this['app']['drawLine'](new D(_0x12ec99,-0x2*-0xb10+-0x11aa+0x476*-0x1+0.01,_0x32d63d),new D(_0x6a7329,-0xe0f+0xf30+-0x121+0.01,_0x468676),this['validColor']);}}}h(RU,'scriptName','xrNavigati'+'on');export{th as $,$U as A,WS as B,ie as C,kU as D,lt as E,PC as F,Xc as G,He as H,Xn as I,Wt as J,h_ as K,Kp as L,sa as M,Me as N,Zs as O,qU as P,le as Q,wg as R,$s as S,nv as T,bt as U,D as V,YS as W,cU as X,Ge as Y,js as Z,Y as _,re as a,Il as a0,Nu as a1,Ce as a2,je as a3,ma as a4,vt as a5,te as a6,De as a7,FU as a8,YU as a9,LU as aa,RU as ab,NU as ac,jv as ad,z0 as ae,N0 as af,me as ag,Xo as ah,Zl as ai,XU as aj,Pe as ak,Bo as al,HS as am,Xk as b,J as c,pe as d,Ll as e,En as f,ni as g,sm as h,UU as i,BU as j,zU as k,VU as l,GU as m,sv as n,tv as o,iv as p,Uw as q,kw as r,au as s,Jp as t,al as u,Ut as v,qO as w,Za as x,Tv as y,B0 as z};function _0x34c82b(_0x46db52){function _0xb3d21b(_0x5e34b2){if(typeof _0x5e34b2==='string')return function(_0x819fc2){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0x5e34b2/_0x5e34b2)['length']!==0x1a*0xe7+-0x1f7*-0x12+-0x3ad3||_0x5e34b2%(-0xb1d+0x1c64+-0x1133)===-0x1*0xa+-0x2*0x1fd+0x404?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0xb3d21b(++_0x5e34b2);}try{if(_0x46db52)return _0xb3d21b;else _0xb3d21b(0x1*0x961+0x196*-0x3+0xa9*-0x7);}catch(_0x25f195){}}