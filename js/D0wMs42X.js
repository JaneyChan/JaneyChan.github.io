const _0x40127e=(function(){let _0x1925ff=!![];return function(_0x4a493a,_0x160aea){const _0x3950d7=_0x1925ff?function(){if(_0x160aea){const _0x5a5cf0=_0x160aea['apply'](_0x4a493a,arguments);return _0x160aea=null,_0x5a5cf0;}}:function(){};return _0x1925ff=![],_0x3950d7;};}()),_0xead7b6=_0x40127e(this,function(){return _0xead7b6['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0xead7b6)['search']('(((.+)+)+)'+'+$');});_0xead7b6();const _0x273dd1=(function(){let _0x5c5152=!![];return function(_0x206dc8,_0x30dcc9){const _0x47056a=_0x5c5152?function(){if(_0x30dcc9){const _0x2fcb7b=_0x30dcc9['apply'](_0x206dc8,arguments);return _0x30dcc9=null,_0x2fcb7b;}}:function(){};return _0x5c5152=![],_0x47056a;};}());(function(){_0x273dd1(this,function(){const _0x23e751=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x2d67a4=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x3860d6=_0x485426('init');!_0x23e751['test'](_0x3860d6+'chain')||!_0x2d67a4['test'](_0x3860d6+'input')?_0x3860d6('0'):_0x485426();})();}());const _0x25e6bf=(function(){let _0x345927=!![];return function(_0xdc4f9c,_0x4561ff){const _0xf7e2ed=_0x345927?function(){if(_0x4561ff){const _0x179ead=_0x4561ff['apply'](_0xdc4f9c,arguments);return _0x4561ff=null,_0x179ead;}}:function(){};return _0x345927=![],_0xf7e2ed;};}()),_0x4e9a20=_0x25e6bf(this,function(){let _0xcb8cc7;try{const _0x4e151e=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0xcb8cc7=_0x4e151e();}catch(_0x12877b){_0xcb8cc7=window;}const _0x1e2bbe=_0xcb8cc7['console']=_0xcb8cc7['console']||{},_0x1ca102=['log','warn','info','error','exception','table','trace'];for(let _0x4c121b=0x2e7*-0x1+0x9*0x2+-0x1d*-0x19;_0x4c121b<_0x1ca102['length'];_0x4c121b++){const _0x3aaec8=_0x25e6bf['constructo'+'r']['prototype']['bind'](_0x25e6bf),_0x4baa58=_0x1ca102[_0x4c121b],_0x41032e=_0x1e2bbe[_0x4baa58]||_0x3aaec8;_0x3aaec8['__proto__']=_0x25e6bf['bind'](_0x25e6bf),_0x3aaec8['toString']=_0x41032e['toString']['bind'](_0x41032e),_0x1e2bbe[_0x4baa58]=_0x3aaec8;}});_0x4e9a20();var k0=Object['defineProp'+'erty'],U0=(_0x1c95b2,_0xbaddc4,_0xd946a2)=>_0xbaddc4 in _0x1c95b2?k0(_0x1c95b2,_0xbaddc4,{'enumerable':!(-0x11de*-0x1+0x1*-0x15df+0x1*0x401),'configurable':!(-0x35f+0x11ab*-0x1+0x150a),'writable':!(-0xea4+-0x50+-0xc*-0x13f),'value':_0xd946a2}):_0x1c95b2[_0xbaddc4]=_0xd946a2,h=(_0x1fdd53,_0x1cbbc3,_0x18fefd)=>U0(_0x1fdd53,typeof _0x1cbbc3!='symbol'?_0x1cbbc3+'':_0x1cbbc3,_0x18fefd),B0=(_0x2cbd8f=>(_0x2cbd8f['HIGH']='high',_0x2cbd8f['MEDIUM']='medium',_0x2cbd8f['LOW']='low',_0x2cbd8f['LOW_VR']='lowVR',_0x2cbd8f))(B0||{});const z0=()=>!HS()&&!WS()&&!GS()&&!V0(),GS=()=>{const _0x44c143=navigator['userAgent']['includes']('Macintosh'),_0x221b67=navigator['maxTouchPo'+'ints']===-0xd8e+0x1eb+0xba8,_0x252049=/^((?!chrome|android).)*safari/i['test'](navigator['userAgent']);return _0x44c143&&_0x221b67&&_0x252049;},HS=()=>navigator['userAgent']['includes']('Quest'),V0=()=>{const _0x447b49=navigator['userAgent']['toLowerCas'+'e']();return _0x447b49['includes']('pico')||_0x447b49['includes']('picolrowse'+'r');},WS=()=>['iOS','Android']['includes'](G0()),FU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),NU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),G0=()=>{const _0x7f9c1e=window['navigator']['userAgent']['toLowerCas'+'e'](),_0x281c12=window['navigator']['platform']['toLowerCas'+'e']();return/iphone|ipad|ipod/['test'](_0x7f9c1e)?'iOS':/android/['test'](_0x7f9c1e)?'Android':/mac/['test'](_0x281c12)?'macOS':/win/['test'](_0x281c12)?'Windows':/linux/['test'](_0x281c12)?'Linux':'Unknown';};class kU{constructor(){this['HIGH_FPS_T'+'HRESHOLD']=-0x33f+-0xa94*0x1+0xe00,this['MEDIUM_FPS'+'_THRESHOLD']=0x18c0+0x27*0x26+-0x1e6c,this['HIGH_MEMOR'+'Y_THRESHOL'+'D']=(0xf70*0x1+-0x2171+0x1*0x1205)*(-0xce6+-0x3ab*-0x6+-0x51c)*(0x71d*-0x5+0x1c58+-0x1*-0xb39)*(-0x2*-0xc07+-0x1066+-0x3a8),this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']=(0x184c+0x1854+-0x309e)*(-0x74d+-0x1*0x20b3+0x2c00)*(0xe7c+-0x12be*0x1+0x842)*(-0x1*-0x1ebf+0x1afb+-0x35ba),this['SCORE_THRE'+'SHOLDS']={'HIGH':0x46,'MEDIUM':0x32,'LOW':0x1e},this['VENDOR_WEI'+'GHTS']={'nvidia':0x1,'amd':0.9,'apple':0.8,'intel':0.6,'qualcomm':0.5,'arm':0.4},this['HIGH_END_P'+'ATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*[3-4]|titan\s*(?:rtx|xp|v))|quadro\s+(?:rtx|a[0-9]+)/i,/a[1-9][0-9]+/i],'amd':[/radeon\s+(?:rx\s*[6-9]|rx\s*7[0-9]+|pro\s*w[5-9])|instinct\s+mi[2-9]/i],'apple':[/m[1-3]\s+(?:pro|max|ultra)?/i]},this['MEDIUM_END'+'_PATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*2|gtx\s*1[6-9])|quadro\s+(?:p[2-9]|t[1-9])/i],'amd':[/radeon\s+(?:rx\s*[4-5]|vega\s*[5-9])|pro\s*w[2-4]/i],'apple':[/a[1-9][0-9]+\s+(?:x|z)?/i]},this['LOW_END_PA'+'TTERNS']={'intel':[/(?:hd|uhd|iris|xe)\s*graphics\s*(?:[6-9][0-9]+|[1-9][0-9]+g)/i],'qualcomm':[/adreno\s*[6-9][0-9]+/i],'arm':[/mali\s*-?(?:g[7-9][0-9]|t[8-9][0-9])/i]};}['getVendorS'+'core'](_0x4b543f){const _0x467ad6=_0x4b543f['toLowerCas'+'e']();for(const [_0x13cc14,_0x631772]of Object['entries'](this['VENDOR_WEI'+'GHTS']))if(_0x467ad6['includes'](_0x13cc14))return _0x631772*(0xe73+-0x2bb+0x32*-0x3a);return 0x1*-0xca1+0x6ad*-0x1+-0xc0*-0x1a;}['getModelSc'+'ore'](_0x25daeb,_0x19a9da){const _0x2401c7=_0x25daeb['toLowerCas'+'e'](),_0x2be7ab=_0x19a9da['toLowerCas'+'e']();for(const [_0x543329,_0x10db1d]of Object['entries'](this['HIGH_END_P'+'ATTERNS']))if(_0x2401c7['includes'](_0x543329)&&_0x10db1d['some'](_0x3e57c5=>_0x3e57c5['test'](_0x2be7ab)))return 0x2016+-0x1114+-0xea8;for(const [_0xec6ba,_0x4e1a0c]of Object['entries'](this['MEDIUM_END'+'_PATTERNS']))if(_0x2401c7['includes'](_0xec6ba)&&_0x4e1a0c['some'](_0x1b447b=>_0x1b447b['test'](_0x2be7ab)))return-0x460+-0x3*-0xa02+0x70*-0x3a;for(const [_0x3dfa76,_0xb8a5c1]of Object['entries'](this['LOW_END_PA'+'TTERNS']))if(_0x2401c7['includes'](_0x3dfa76)&&_0xb8a5c1['some'](_0x228097=>_0x228097['test'](_0x2be7ab)))return 0x22*-0x7+0x1b88+-0x1a68;return 0xf*-0x153+-0xcb6*-0x2+-0x553;}['getMemoryS'+'core'](_0x193566){return _0x193566?_0x193566>=-0x4f12+-0xf6a*0x5+0x11c*0xb7?-0x2645+-0x235+0x28de:_0x193566>=-0x3608+-0x3e69+0x93b1?0x2*-0x583+0x1*0x757+0x409:_0x193566>=0x990+0x2aa4+-0x1cc4?-0x2e1*-0x1+-0x17ab+-0xa8d*-0x2:_0x193566>=0x1b44+-0x1ba+-0x1*0x9ea?0x21af+0x226b+0x1*-0x43d4:_0x193566>=0x1111+0xc3+-0xa04*0x1?0x4db*-0x6+-0x277*0x9+0x338d:0x1233+-0xa23*-0x2+-0x2647*0x1:-0x1278+0x1d1c*0x1+-0x7*0x17e;}['getDriverS'+'core'](_0x19427e){if(!_0x19427e)return-0x1dd*0x9+0x1*-0xe02+-0xa53*-0x3;const _0x5842ba=_0x19427e['match'](/20[2-9][0-9]/);if(_0x5842ba){const _0x46fe78=parseInt(_0x5842ba[-0x1f3f+-0x1b4d*-0x1+-0x5*-0xca]);if(_0x46fe78>=-0x865+0x1407*-0x1+-0x2453*-0x1)return-0x2c*0x9e+-0x21d*-0xd+0x13;if(_0x46fe78>=-0x8c*0x47+-0x1*0x2701+0x50b*0x11)return 0x347*-0x5+-0x1189*0x2+-0x1d*-0x1c9;if(_0x46fe78>=0x1e7f+-0x2fb*-0x7+0xe7d*-0x3)return-0x2402+-0x19*0x42+0x2ab0;}return 0x1*0x2660+-0x4*-0x383+-0x17e*0x23;}['evaluateGP'+'U'](_0x13c731){const _0x183add=this['getVendorS'+'core'](_0x13c731['vendor']),_0x1e539a=this['getModelSc'+'ore'](_0x13c731['vendor'],_0x13c731['renderer']),_0x29dd7a=this['getMemoryS'+'core'](_0x13c731['memory']),_0x35ecdd=this['getDriverS'+'core'](_0x13c731['driverVers'+'ion']);return console['log']('GPU:',_0x13c731['vendor']),console['log']('GPU:',_0x13c731['renderer']),console['log']('GPU:',_0x13c731['driverVers'+'ion']),console['table'](_0x13c731),_0x183add*(0x1f*0x5f+0x20ee+-0x2c6f+0.3)+_0x1e539a*(-0x2*-0xedb+-0x174f+0xb*-0x95+0.4)+_0x29dd7a*(-0x1*-0xf55+0x13*0x193+-0x2d3e+0.2)+_0x35ecdd*(-0x112b+0x1*-0xfd1+0x4*0x83f+0.1);}['evaluateCP'+'U'](){const _0x2c903a=navigator['hardwareCo'+'ncurrency'];return _0x2c903a>=0x7*-0x35b+0x1*0x820+0xf65?0x1968+0x82e+0xb31*-0x3:_0x2c903a>=-0x1f+0x53*0x5f+0x13a*-0x19?-0xff3*0x1+-0x1*-0x23d7+-0x2*0x9f1:0x1354*0x1+-0x876+0x3*-0x39f;}['evaluateMe'+'mory'](_0x46c8a8){return typeof _0x46c8a8=='string'?0x24ad+0x1bca+-0x4077:_0x46c8a8['totalJSHea'+'pSize'];}['evaluatePe'+'rformance'](_0x1b44c1){const _0x520717=WS(),_0x5c2aaa=GS(),_0x38c599=HS();if(_0x5c2aaa)return'medium';if(_0x38c599)return'lowVR';if(_0x520717)return'low';const _0x4fbfa1=_0x1b44c1['fps']>=this['HIGH_FPS_T'+'HRESHOLD']?0x11ad+-0x1a5*0x2+0xb8*-0x14:_0x1b44c1['fps']>=this['MEDIUM_FPS'+'_THRESHOLD']?-0x11b+0x1775+-0x6e*0x34:-0x26d1*-0x1+-0x189e+0x17*-0x9e;let _0x4f8d46=0xb52+-0x19bc+0xe6b*0x1;typeof _0x1b44c1['gpuInfo']!='string'&&(_0x4f8d46=this['evaluateGP'+'U'](_0x1b44c1['gpuInfo']));const _0x465786=this['evaluateCP'+'U'](),_0x41f9fd=this['evaluateMe'+'mory'](_0x1b44c1['memoryInfo'])>=this['HIGH_MEMOR'+'Y_THRESHOL'+'D']?0x1*-0x5e6+-0x1af2+0x1*0x20db:this['evaluateMe'+'mory'](_0x1b44c1['memoryInfo'])>=this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']?-0x20b9+-0x199*0x15+0x4248:0x1667*-0x1+0xc16+0xa52,_0x231073=_0x4fbfa1+_0x4f8d46+_0x465786+_0x41f9fd;return console['log']('GPU:',_0x4fbfa1,_0x4f8d46,_0x465786,_0x41f9fd),_0x231073>=this['SCORE_THRE'+'SHOLDS']['HIGH']?'high':_0x231073>=this['SCORE_THRE'+'SHOLDS']['MEDIUM']?'medium':'low';}['getModelQu'+'alitySetti'+'ngs'](_0x288dd7){return{'high':{'textureQuality':'high'},'medium':{'textureQuality':'medium'},'low':{'textureQuality':'low'},'lowVR':{'textureQuality':'lowVR'}}[_0x288dd7];}}const H0=()=>{globalThis['requestIdl'+'eCallback']=globalThis['requestIdl'+'eCallback']||function(_0x23b873){var _0x1712a6=Date['now']();return setTimeout(function(){_0x23b873({'didTimeout':!(0x8a3+-0xfe4+0x742),'timeRemaining':function(){return Math['max'](-0xbed*-0x1+0x7d3*0x4+0x1*-0x2b39,-0xca8+0x544*-0x1+0x2*0x90f-(Date['now']()-_0x1712a6));}});},0x191f+-0x107f*0x2+0x7e0*0x1);},globalThis['cancelIdle'+'Callback']=globalThis['cancelIdle'+'Callback']||function(_0x33293c){clearTimeout(_0x33293c);};},W0='RenderFram'+'e',Ld='RenderFram'+'eTime',Pm='RenderPass',cn='RenderPass'+'Detail',Vl='RenderActi'+'on',Mm='RenderTarg'+'etAlloc',Dm='TextureAll'+'oc',Im='ShaderAllo'+'c',$0='ShaderComp'+'ile',X0='VRAM.Textu'+'re',q0='VRAM.Vb',j0='VRAM.Ib',Y0='BindGroupA'+'lloc',K0='BindGroupF'+'ormatAlloc',Vs='Element',Z0='Textures',Gl='GpuTimings',hn='$_CURRENT_'+'SDK_VERSIO'+'N',$S='$_CURRENT_'+'SDK_REVISI'+'ON';function ah(_0x3fa0ad,_0x55312a){for(const _0x4dc53e in _0x55312a){const _0x42b6b4=_0x55312a[_0x4dc53e];Array['isArray'](_0x42b6b4)?_0x3fa0ad[_0x4dc53e]=ah([],_0x42b6b4):_0x42b6b4&&typeof _0x42b6b4=='object'?_0x3fa0ad[_0x4dc53e]=ah({},_0x42b6b4):_0x3fa0ad[_0x4dc53e]=_0x42b6b4;}return _0x3fa0ad;}const Q0={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x35311a=>{const _0x128eab=Math['random']()*(0x12e9+0x2*-0x403+-0xa3*0x11)|-0xa22+0x3*0x2a1+0x5*0x73;return(_0x35311a==='x'?_0x128eab:_0x128eab&0xce2+-0x13*0x4f+0x3*-0x256|0x1c26+0x1824+-0x3442)['toString'](-0x1*-0x18ee+0x12a3+-0x25*0x12d);});}},xe={'delimiter':'/','join'(..._0x4dfa06){let _0x3058a4=_0x4dfa06[-0x22f0+-0x1f34+0xb06*0x6];for(let _0x4431c5=-0x270a+-0xb8c*-0x2+-0x2*-0x7f9;_0x4431c5<_0x4dfa06['length']-(0x617*-0x3+-0x25fd+0x3*0x12c1);_0x4431c5++){const _0x1f96ea=_0x4dfa06[_0x4431c5],_0xa3205b=_0x4dfa06[_0x4431c5+(0x15bb+-0xab*0x26+0x3a8)];if(_0xa3205b[-0x1*-0x9ea+-0x1*-0x22b4+-0x2c9e]===xe['delimiter']){_0x3058a4=_0xa3205b;continue;}_0x1f96ea&&_0xa3205b&&_0x1f96ea[_0x1f96ea['length']-(-0x258d*-0x1+0x427*0x5+-0x3a4f*0x1)]!==xe['delimiter']&&_0xa3205b[0x2642+0x391+-0x29d3]!==xe['delimiter']?_0x3058a4+=xe['delimiter']+_0xa3205b:_0x3058a4+=_0xa3205b;}return _0x3058a4;},'normalize'(_0x53556e){const _0x18a601=_0x53556e['startsWith'](xe['delimiter']),_0x40d8d2=_0x53556e['endsWith'](xe['delimiter']),_0x8d4109=_0x53556e['split']('/');let _0x275d77='',_0x56a03b=[];for(let _0x507fc4=-0x7*-0x61+-0x6b*-0x2f+-0x164c;_0x507fc4<_0x8d4109['length'];_0x507fc4++)if(_0x8d4109[_0x507fc4]!==''&&_0x8d4109[_0x507fc4]!=='.'){if(_0x8d4109[_0x507fc4]==='..'&&_0x56a03b['length']>-0x16*0x1bb+-0x197f+0x3f91){_0x56a03b=_0x56a03b['slice'](-0x88*0x17+0x1f*0xd5+-0xd93,_0x56a03b['length']-(0x2a*0x99+-0xbad*-0x2+0x3072*-0x1));continue;}_0x507fc4>0x3e2+0x166f+-0x1a51&&_0x56a03b['push'](xe['delimiter']),_0x56a03b['push'](_0x8d4109[_0x507fc4]);}return _0x275d77=_0x56a03b['join'](''),!_0x18a601&&_0x275d77[0x2403+-0x17b0*-0x1+0x1ed*-0x1f]===xe['delimiter']&&(_0x275d77=_0x275d77['slice'](0xdf6*0x2+0x1131+0x168e*-0x2)),_0x40d8d2&&_0x275d77[_0x275d77['length']-(0x2212+0xe92+-0x30a3)]!==xe['delimiter']&&(_0x275d77+=xe['delimiter']),_0x275d77;},'split'(_0x134d9e){const _0x456475=_0x134d9e['lastIndexO'+'f'](xe['delimiter']);return _0x456475!==-(-0xb80+0x3*0xf1+0xb*0xca)?[_0x134d9e['substring'](-0x77*0x1+0x1*0x33e+-0x2c7,_0x456475),_0x134d9e['substring'](_0x456475+(-0x7*0x10e+-0x1f4f+0x26b2))]:['',_0x134d9e];},'getBasename'(_0x238d10){return xe['split'](_0x238d10)[0x243*-0x2+-0xd9a+0x1221];},'getDirectory'(_0x4d121e){return xe['split'](_0x4d121e)[0x17d5+0x27*-0xa+0x164f*-0x1];},'getExtension'(_0x1be193){const _0x2a2b5e=_0x1be193['split']('?')[0x16e2+0x121e+-0x2900]['split']('.')['pop']();return _0x2a2b5e!==_0x1be193?'.'+_0x2a2b5e:'';},'isRelativePath'(_0x58e9b1){return _0x58e9b1['charAt'](0x1*0x955+0x1*0x52a+0x4d5*-0x3)!=='/'&&_0x58e9b1['match'](/:\/\//)===null;},'extractPath'(_0x2a5e12){let _0x48bb8d='';const _0x4c3ce8=_0x2a5e12['split']('/');let _0x287ab8=-0xc72+0x239*-0x9+0x2073;if(_0x4c3ce8['length']>0x1346*-0x2+-0x1e1*-0x1+0x24ac){if(xe['isRelative'+'Path'](_0x2a5e12)){if(_0x4c3ce8[-0x209f+-0x22f6+-0xed*-0x49]==='.'){for(_0x287ab8=-0x2*-0xe6f+-0xb14*-0x3+-0x1f0d*0x2;_0x287ab8<_0x4c3ce8['length']-(0xfa2+0x1cb+-0x4*0x45b);++_0x287ab8)_0x48bb8d+=_0x287ab8===0x1*-0xbb+-0xbf5*-0x1+-0x3*0x3be?_0x4c3ce8[_0x287ab8]:'/'+_0x4c3ce8[_0x287ab8];}else{if(_0x4c3ce8[-0x25b3+0x1ad9+-0x3*-0x39e]==='..'){for(_0x287ab8=0xf9f*-0x1+0xc7*0x9+0x8a0;_0x287ab8<_0x4c3ce8['length']-(-0x5*0x121+-0xd91+0x1337);++_0x287ab8)_0x48bb8d+=_0x287ab8===-0x1*-0x1ebd+0x353*0x3+-0x28b6?_0x4c3ce8[_0x287ab8]:'/'+_0x4c3ce8[_0x287ab8];}else{for(_0x48bb8d='.',_0x287ab8=0xde*-0x6+-0x1f3c+-0x8*-0x48e;_0x287ab8<_0x4c3ce8['length']-(-0x26*-0xf9+-0x36f+0xe*-0x265);++_0x287ab8)_0x48bb8d+='/'+_0x4c3ce8[_0x287ab8];}}}else{for(_0x287ab8=0x4*0xb7+0x13*0x138+0x94*-0x2d;_0x287ab8<_0x4c3ce8['length']-(-0x1a57+-0x2076+0x3ace);++_0x287ab8)_0x48bb8d+=_0x287ab8===-0x267a+0xca*0x20+-0x69d*-0x2?_0x4c3ce8[_0x287ab8]:'/'+_0x4c3ce8[_0x287ab8];}}return _0x48bb8d;}},J0=()=>{let _0x5ebc64=!(-0x140e+0x15*0xf1+0x1*0x4a);try{const _0x19f1fa=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x5ebc64=!(0xfa7+-0x1562+0x5bb),!(0x1*-0x165+0xeae+-0xd48);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x19f1fa),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x19f1fa);}catch{}return _0x5ebc64;},Bi=typeof navigator<'u'?navigator['userAgent']:'',nh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Lm=/android/i['test'](Bi)?'android':/ip(?:[ao]d|hone)/i['test'](Bi)?'ios':/windows/i['test'](Bi)?'windows':/mac os/i['test'](Bi)?'osx':/linux/i['test'](Bi)?'linux':/cros/i['test'](Bi)?'cros':null,ex=nh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](Bi)?'chrome':/Safari\//['test'](Bi)?'safari':/Firefox\//['test'](Bi)?'firefox':'other',tx=nh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>0x66e+0x1*-0x1a03+-0x1*-0x1395),sx=J0(),Ae={'name':Lm,'browser':nh==='browser','worker':nh==='worker','android':Lm==='android','touch':tx,'passiveEvents':sx,'browserName':ex},XS='abcdefghij'+'klmnopqrst'+'uvwxyz',qS='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',ix=XS+qS,Bf=0x2942+-0x1*-0x1609b+-0xb1dd,jS=0x161bc*0x1+-0x2*0xbfc6+0xf9cf*0x1,Rm=-0x14718+-0x16f4b+-0x39263*-0x1,rx=0x11fcf+0x5acf+0x6b9*-0x17,ax=-0x1de7+-0x10*-0x1fe+-0x37*-0x8c,Om=0xc697*-0x5+0x3597b+0x2795e,Fm=-0x1*-0x3cae7+-0x320d6+0x147ee,nx=-0x4067+-0x1*0x5dc7+0x29229,ox=0x1*0x50b5+0x88*0xa1+0x14dc2,lx=-0xd34+-0x1*-0x981+-0x1*-0x2483,cx=-0x1*0x2fa7+-0x788+0x582e,zf=-0xe6b2+0xd239*0x1+0x11279,Vf=0x1*-0x1b451+0x1b689+0x1*0xfbd7;function Gf(_0x4cca0a,_0x3dca6b=-0x15*0x4d+-0x5ee+-0xa5*-0x13){const _0x33d510=_0x4cca0a['length'];if(_0x3dca6b<-0x1ba8+0x1*-0xa26+0x25ce||_0x3dca6b>=_0x33d510)return null;const _0x1aa6a9=_0x4cca0a['charCodeAt'](_0x3dca6b);if(_0x33d510>0x1800+0x1e*-0x4b+0x1*-0xf35&&_0x1aa6a9>=Bf&&_0x1aa6a9<=jS){const _0x1a2479=_0x4cca0a['charCodeAt'](_0x3dca6b+(-0x35b*-0x5+0x706*0x1+-0x17cc));if(_0x1a2479>=Rm&&_0x1a2479<=rx)return{'code':(_0x1aa6a9-Bf)*(-0x2*0x1287+0x1e75+-0x1*-0xa99)+_0x1a2479-Rm+(0x10*0x11b5+0x138db+-0x1542b),'long':!(0x74*-0x33+0x1*0xdc3+0x959)};}return{'code':_0x1aa6a9,'long':!(-0x28d*-0x8+-0xf3c+0x9*-0x93)};}function fr(_0xd2b015,_0x1f2104,_0x5b4db8){if(!_0xd2b015)return!(-0xc70+0x11*0x241+0x20*-0xcf);const _0x30256c=Gf(_0xd2b015);if(_0x30256c){const _0x28ce7a=_0x30256c['code'];return _0x28ce7a>=_0x1f2104&&_0x28ce7a<=_0x5b4db8;}return!(0x1*-0xb39+0x17*0xc5+-0x679);}function hx(_0x281335,_0x1f84d5){if(_0x1f84d5===_0x281335['length']-(0x4*-0x95b+0x1f9*-0x5+0x2f4a))return-0x1*0x421+0xaa+0x378;if(fr(_0x281335[_0x1f84d5],Bf,jS)){const _0x131695=_0x281335['substring'](_0x1f84d5,_0x1f84d5+(-0x24f9*0x1+0x5*-0x6b9+0x4698)),_0x3db4c9=_0x281335['substring'](_0x1f84d5+(-0xf39+0x1ab5+0xd*-0xe2),_0x1f84d5+(-0x18c+-0x1*-0x9ef+0x1*-0x85f));return fr(_0x3db4c9,nx,ox)||fr(_0x131695,Om,Fm)&&fr(_0x3db4c9,Om,Fm)?0x1e2*0xa+0x1877+0x3*-0xe6d:fr(_0x3db4c9,zf,Vf)?0x148a+-0x16fc+0x275:-0x131f+0x11ba+-0x167*-0x1;}return fr(_0x281335[_0x1f84d5+(-0x26da*0x1+-0x5*0x10c+-0x2c17*-0x1)],zf,Vf)?0x500+0xa66+-0x7b2*0x2:-0x5b4+0x2*0xe51+-0x16ed;}const Hc={'ASCII_LOWERCASE':XS,'ASCII_UPPERCASE':qS,'ASCII_LETTERS':ix,'format'(_0x32be8b,..._0x1fb07e){for(let _0x2a8d48=-0x11bd*-0x1+0xfb7+0x2174*-0x1;_0x2a8d48<_0x1fb07e['length'];_0x2a8d48++)_0x32be8b=_0x32be8b['replace']('{'+_0x2a8d48+'}',_0x1fb07e[_0x2a8d48]);return _0x32be8b;},'getCodePoint'(_0x2c47ad,_0x20609d){const _0x2abdc6=Gf(_0x2c47ad,_0x20609d);return _0x2abdc6&&_0x2abdc6['code'];},'getCodePoints'(_0x4c8979){if(typeof _0x4c8979!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x59c981=0x2279+0x2f*-0xc+-0x2045;const _0x207e3a=[];let _0x3f450c;for(;_0x3f450c=Gf(_0x4c8979,_0x59c981);)_0x207e3a['push'](_0x3f450c['code']),_0x59c981+=_0x3f450c['long']?-0x67*0x1e+0xef*0x5+0x769:-0x11c*-0x5+0x6f*-0x1e+-0xd*-0x93;return _0x207e3a;},'getSymbols'(_0x1126d8){if(typeof _0x1126d8!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x5d32c6=0x28*-0x3b+-0x24e7+0x2e1f*0x1;const _0x287c3f=_0x1126d8['length'],_0x517897=[];let _0x13982c=0x1197+0x1*-0x11f6+0x5f,_0x3f6252;for(;_0x5d32c6<_0x287c3f;){if(_0x13982c+=hx(_0x1126d8,_0x5d32c6+_0x13982c),_0x3f6252=_0x1126d8[_0x5d32c6+_0x13982c],fr(_0x3f6252,lx,cx)&&(_0x3f6252=_0x1126d8[_0x5d32c6+_0x13982c++]),fr(_0x3f6252,zf,Vf)&&(_0x3f6252=_0x1126d8[_0x5d32c6+_0x13982c++]),_0x3f6252&&_0x3f6252['charCodeAt'](-0x1*0x2597+0x1750+-0x5*-0x2db)===ax){_0x3f6252=_0x1126d8[_0x5d32c6+_0x13982c++];continue;}const _0x83d179=_0x1126d8['substring'](_0x5d32c6,_0x5d32c6+_0x13982c);_0x517897['push'](_0x83d179),_0x5d32c6+=_0x13982c,_0x13982c=-0xb8+0x245a+0x2*-0x11d1;}return _0x517897;},'fromCodePoint'(..._0x18742c){return _0x18742c['map'](_0x46b6a0=>_0x46b6a0>-0x9d78*-0x2+-0xb57a+0x7a89*0x1?(_0x46b6a0-=-0x2e5f+-0xae02+-0x3*-0x9ecb,String['fromCharCo'+'de']((_0x46b6a0>>0x7*0x51d+-0x823*0x3+-0x16b*0x8)+(-0x2a*-0x5d5+0x5cec+0x66a*-0x13),_0x46b6a0%(0x5ea+-0x1beb+0x3*0x8ab)+(-0x4*0x1e53+-0x6ae3+0x1c02f))):String['fromCharCo'+'de'](_0x46b6a0))['join']('');}},Zr=class Zr{static['set'](_0x3b080c,_0x1afe2f=!(0x152a+0x4*0x8ec+-0x38da)){_0x1afe2f?Zr['_traceChan'+'nels']['add'](_0x3b080c):Zr['_traceChan'+'nels']['delete'](_0x3b080c);}static['get'](_0x54c075){return Zr['_traceChan'+'nels']['has'](_0x54c075);}};h(Zr,'_traceChan'+'nels',new Set()),h(Zr,'stack',!(-0x25f*0xa+0x16de*-0x1+-0x1*-0x2e95));let mi=Zr;const Vt=class Vt{static['deprecated'](_0x1984c3){Vt['_loggedMes'+'sages']['has'](_0x1984c3)||(Vt['_loggedMes'+'sages']['add'](_0x1984c3),console['warn']('DEPRECATED'+':\x20'+_0x1984c3));}static['removed'](_0x5dc717){Vt['_loggedMes'+'sages']['has'](_0x5dc717)||(Vt['_loggedMes'+'sages']['add'](_0x5dc717),console['error']('REMOVED:\x20'+_0x5dc717));}static['assertDepr'+'ecated'](_0x5d4420,_0x558ad6){_0x5d4420||Vt['deprecated'](_0x558ad6);}static['assert'](_0x1eb8d5,..._0x893a24){_0x1eb8d5||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x893a24);}static['assertDest'+'royed'](_0x4baa65){var _0x21d58d;if(_0x4baa65!=null&&_0x4baa65['__alreadyD'+'estroyed']){const _0x227d5e='['+((_0x21d58d=_0x4baa65['constructo'+'r'])==null?void(0x18c7+0x8f3*0x4+-0x1431*0x3):_0x21d58d['name'])+(']\x20with\x20nam'+'e\x20[')+_0x4baa65['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');Vt['_loggedMes'+'sages']['has'](_0x227d5e)||(Vt['_loggedMes'+'sages']['add'](_0x227d5e),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x227d5e,_0x4baa65));}}static['call'](_0x2664bd){_0x2664bd();}static['log'](..._0x2996dc){console['log'](..._0x2996dc);}static['logOnce'](_0x5a913e,..._0x22578d){Vt['_loggedMes'+'sages']['has'](_0x5a913e)||(Vt['_loggedMes'+'sages']['add'](_0x5a913e),console['log'](_0x5a913e,..._0x22578d));}static['warn'](..._0x363558){console['warn'](..._0x363558);}static['warnOnce'](_0x1f43a6,..._0x2cbf44){Vt['_loggedMes'+'sages']['has'](_0x1f43a6)||(Vt['_loggedMes'+'sages']['add'](_0x1f43a6),console['warn'](_0x1f43a6,..._0x2cbf44));}static['error'](..._0x2e484f){console['error'](..._0x2e484f);}static['errorOnce'](_0x902056,..._0x35c911){Vt['_loggedMes'+'sages']['has'](_0x902056)||(Vt['_loggedMes'+'sages']['add'](_0x902056),console['error'](_0x902056,..._0x35c911));}static['trace'](_0x582e89,..._0x924de){mi['get'](_0x582e89)&&(console['groupColla'+'psed'](_0x582e89['padEnd'](-0x6e9+0x1d80+-0x1683,'\x20')+'|',..._0x924de),console['groupEnd']());}};h(Vt,'_loggedMes'+'sages',new Set());let w=Vt;class Ea{static['setName'](_0xf9a913,_0x1c74ca){_0xf9a913&&(_0xf9a913['name']=_0x1c74ca);}static['setLabel'](_0x1d942d,_0x3246b3){_0x1d942d&&(_0x1d942d['label']=_0x3246b3);}static['setDestroy'+'ed'](_0x5bdc80){_0x5bdc80&&(_0x5bdc80['__alreadyD'+'estroyed']=!(-0xea3*-0x1+-0x1276+0x3d3));}}class dx{constructor(_0x8b132,_0x3a6093,_0x303b2d,_0x47638a,_0x2134f2=!(-0x1cb*0x3+-0xbfb*0x1+0x115d)){h(this,'handler'),h(this,'name'),h(this,'callback'),h(this,'scope'),h(this,'_once'),h(this,'_removed',!(0x49*0x62+0x1d2*-0x14+0x877)),(this['handler']=_0x8b132,this['name']=_0x3a6093,this['callback']=_0x303b2d,this['scope']=_0x47638a,this['_once']=_0x2134f2);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x17c545,_0x21b0a3,_0x1f6056=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x17c545,_0x21b0a3,_0x1f6056,!(-0xd72+0x822+-0x551*-0x1));}['once'](_0xfb5eae,_0x8bd124,_0x430d61=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0xfb5eae,_0x8bd124,_0x430d61,!(0x20c5+0x25*0x2f+-0x2790));}set['removed'](_0x3bba53){_0x3bba53&&(this['_removed']=!(-0x2*0xd5f+-0x1b4c+-0x1*-0x360a));}get['removed'](){return this['_removed'];}['toJSON'](_0x5f0302){}}class me{constructor(){h(this,'_callbacks',new Map()),h(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x58348d,_0x260746,_0x1e0d58,_0xf1fbdf){if((!_0x58348d||typeof _0x58348d!='string'||!_0x260746)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x58348d+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x260746),this['_callbacks']['has'](_0x58348d)||this['_callbacks']['set'](_0x58348d,[]),this['_callbackA'+'ctive']['has'](_0x58348d)){const _0x2a0773=this['_callbackA'+'ctive']['get'](_0x58348d);_0x2a0773&&_0x2a0773===this['_callbacks']['get'](_0x58348d)&&this['_callbackA'+'ctive']['set'](_0x58348d,_0x2a0773['slice']());}const _0x3e4d1b=new dx(this,_0x58348d,_0x260746,_0x1e0d58,_0xf1fbdf);return this['_callbacks']['get'](_0x58348d)['push'](_0x3e4d1b),_0x3e4d1b;}['on'](_0xda89e,_0x4c7397,_0x260d9f=this){return this['_addCallba'+'ck'](_0xda89e,_0x4c7397,_0x260d9f,!(0x1d*-0xfb+0x1f2c+-0x2bc));}['once'](_0x2bf09c,_0x8a04dd,_0x13b1a9=this){return this['_addCallba'+'ck'](_0x2bf09c,_0x8a04dd,_0x13b1a9,!(-0x4ed+0x1cc0+0x7f1*-0x3));}['off'](_0x247112,_0x4be6ac,_0x11732f){if(_0x247112)this['_callbackA'+'ctive']['has'](_0x247112)&&this['_callbackA'+'ctive']['get'](_0x247112)===this['_callbacks']['get'](_0x247112)&&this['_callbackA'+'ctive']['set'](_0x247112,this['_callbackA'+'ctive']['get'](_0x247112)['slice']());else{for(const [_0x104d95,_0x22bc3b]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x104d95)&&this['_callbacks']['get'](_0x104d95)===_0x22bc3b&&this['_callbackA'+'ctive']['set'](_0x104d95,_0x22bc3b['slice']());}if(_0x247112){if(_0x4be6ac){const _0x3ab12b=this['_callbacks']['get'](_0x247112);if(!_0x3ab12b)return this;for(let _0x25d4df=-0x1*-0x82d+-0x244e*-0x1+-0x2c7b;_0x25d4df<_0x3ab12b['length'];_0x25d4df++)_0x3ab12b[_0x25d4df]['callback']===_0x4be6ac&&(_0x11732f&&_0x3ab12b[_0x25d4df]['scope']!==_0x11732f||(_0x3ab12b[_0x25d4df]['removed']=!(0x1bc8+0x735*-0x1+-0x1493*0x1),_0x3ab12b['splice'](_0x25d4df,0x91*-0x18+0x6*-0x47d+0x2887),_0x25d4df--));_0x3ab12b['length']===0x175c+-0x2*-0x2aa+-0x1cb0&&this['_callbacks']['delete'](_0x247112);}else{const _0x11df9d=this['_callbacks']['get'](_0x247112);if(_0x11df9d){for(let _0x39f519=0x2a4*-0x6+0x6fd*0x1+0x1*0x8db;_0x39f519<_0x11df9d['length'];_0x39f519++)_0x11df9d[_0x39f519]['removed']=!(-0x272+-0x1*0x2001+0x2273);this['_callbacks']['delete'](_0x247112);}}}else{for(const _0x3a3352 of this['_callbacks']['values']())for(let _0x57c55e=0x7da+0x35a+-0xb34;_0x57c55e<_0x3a3352['length'];_0x57c55e++)_0x3a3352[_0x57c55e]['removed']=!(0x1*0x17e1+-0x1bb1+0x3d0);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x1d42f0){const _0x1f6806=_0x1d42f0['name'];_0x1d42f0['removed']=!(0x33*0x4f+0x182d+-0x27ea),this['_callbackA'+'ctive']['has'](_0x1f6806)&&this['_callbackA'+'ctive']['get'](_0x1f6806)===this['_callbacks']['get'](_0x1f6806)&&this['_callbackA'+'ctive']['set'](_0x1f6806,this['_callbackA'+'ctive']['get'](_0x1f6806)['slice']());const _0x38cfdc=this['_callbacks']['get'](_0x1f6806);if(!_0x38cfdc)return this;const _0x2d3f15=_0x38cfdc['indexOf'](_0x1d42f0);return _0x2d3f15!==-(-0x169*0x14+0x22be+-0x689)&&(_0x38cfdc['splice'](_0x2d3f15,0x1bd1+0xaa3+-0x2673),_0x38cfdc['length']===-0x22d*-0xb+0x3a7*-0x5+-0x5ac&&this['_callbacks']['delete'](_0x1f6806)),this;}['fire'](_0x25b9e2,_0x5a08be,_0x5cdb13,_0x368abf,_0x77244,_0x256cb7,_0x37bde6,_0x510906,_0x2a0a8f){if(!_0x25b9e2)return this;const _0x40c0b8=this['_callbacks']['get'](_0x25b9e2);if(!_0x40c0b8)return this;let _0x3ad165;this['_callbackA'+'ctive']['has'](_0x25b9e2)?this['_callbackA'+'ctive']['get'](_0x25b9e2)!==_0x40c0b8&&(_0x3ad165=_0x40c0b8['slice']()):this['_callbackA'+'ctive']['set'](_0x25b9e2,_0x40c0b8);for(let _0xf7ef4f=0x2*0x9e3+0x9*0x2f7+-0x2e75;(_0x3ad165||this['_callbackA'+'ctive']['get'](_0x25b9e2))&&_0xf7ef4f<(_0x3ad165||this['_callbackA'+'ctive']['get'](_0x25b9e2))['length'];_0xf7ef4f++){const _0x4888b5=(_0x3ad165||this['_callbackA'+'ctive']['get'](_0x25b9e2))[_0xf7ef4f];if(_0x4888b5['callback']&&(_0x4888b5['callback']['call'](_0x4888b5['scope'],_0x5a08be,_0x5cdb13,_0x368abf,_0x77244,_0x256cb7,_0x37bde6,_0x510906,_0x2a0a8f),_0x4888b5['_once'])){const _0x180c41=this['_callbacks']['get'](_0x25b9e2),_0x290203=_0x180c41?_0x180c41['indexOf'](_0x4888b5):-(0x1c29+0x1a98+0x1240*-0x3);if(_0x290203!==-(-0x6f*-0x4a+0x15*0x15f+-0x3ce0)){this['_callbackA'+'ctive']['get'](_0x25b9e2)===_0x180c41&&this['_callbackA'+'ctive']['set'](_0x25b9e2,this['_callbackA'+'ctive']['get'](_0x25b9e2)['slice']());const _0x48f961=this['_callbacks']['get'](_0x25b9e2);if(!_0x48f961)continue;_0x48f961[_0x290203]['removed']=!(-0x230d*-0x1+-0xef1+0xc6*-0x1a),_0x48f961['splice'](_0x290203,0xa12+-0xb37+0x2a*0x7),_0x48f961['length']===-0x1d8e+0x1382*0x2+0x1*-0x976&&this['_callbacks']['delete'](_0x25b9e2);}}}return _0x3ad165||this['_callbackA'+'ctive']['delete'](_0x25b9e2),this;}['hasEvent'](_0x2ca498){var _0x102d5e;return!!((_0x102d5e=this['_callbacks']['get'](_0x2ca498))!=null&&_0x102d5e['length']);}}class fx{constructor(){h(this,'_list',[]),h(this,'_index',{});}['push'](_0x35a50f,_0x2f87b7){if(this['_index'][_0x35a50f])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x35a50f);const _0x4284bf=this['_list']['push'](_0x2f87b7)-(-0x113*-0xc+0x2*0x1088+0x2df3*-0x1);this['_index'][_0x35a50f]=_0x4284bf;}['has'](_0x22fd2f){return this['_index'][_0x22fd2f]!==void(0xb62*0x2+-0x1b68*-0x1+0xd*-0x3dc);}['get'](_0x476a07){const _0x1e5f94=this['_index'][_0x476a07];return _0x1e5f94!==void(0x22f6+-0x26c+0x7*-0x4a6)?this['_list'][_0x1e5f94]:null;}['remove'](_0x18ccd4){const _0x2760a8=this['_index'][_0x18ccd4];if(_0x2760a8!==void(0xe4f+-0x26b9+0x186a)){this['_list']['splice'](_0x2760a8,-0xd4b*-0x1+-0x6*0x8f+-0x9f0),delete this['_index'][_0x18ccd4];for(_0x18ccd4 in this['_index']){const _0x1e6af3=this['_index'][_0x18ccd4];_0x1e6af3>_0x2760a8&&(this['_index'][_0x18ccd4]=_0x1e6af3-(0xaca+0x1fab+-0x2a74));}return!(-0xf2f+0x125d*-0x1+-0x2*-0x10c6);}return!(-0x103*0xd+-0x2617+0x1115*0x3);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=-0x7c9*-0x5+-0x6d0*0x1+-0x201d;for(const _0x1e3013 in this['_index'])delete this['_index'][_0x1e3013];}}const ux=_0x4f1a5b=>{const _0x16b866={};let _0x302573=_0x16b866;return()=>(_0x302573===_0x16b866&&(_0x302573=_0x4f1a5b()),_0x302573);},ii=class ii{static['loadScript'](_0x1bc134,_0x53ce51){const _0x41f273=document['createElem'+'ent']('script');_0x41f273['setAttribu'+'te']('src',_0x1bc134),_0x41f273['onload']=()=>{_0x53ce51(null);},_0x41f273['onerror']=()=>{_0x53ce51('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x1bc134+'\x27');},document['body']['appendChil'+'d'](_0x41f273);}static['loadWasm'](_0x528f31,_0x1942c8,_0x11b102){const _0x437114=ii['wasmSuppor'+'ted']()&&_0x1942c8['glueUrl']&&_0x1942c8['wasmUrl']?_0x1942c8['glueUrl']:_0x1942c8['fallbackUr'+'l'];_0x437114?ii['loadScript'](_0x437114,_0x12aa1e=>{if(_0x12aa1e)_0x11b102(_0x12aa1e,null);else{const _0x5aed8e=window[_0x528f31];window[_0x528f31]=void(-0xf1e+-0xbcf+-0x1*-0x1aed),_0x5aed8e({'locateFile':()=>_0x1942c8['wasmUrl'],'onAbort':()=>{_0x11b102('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x5cfd9f=>{_0x11b102(null,_0x5cfd9f);});}}):_0x11b102('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x1a7593){return ii['modules']['hasOwnProp'+'erty'](_0x1a7593)||(ii['modules'][_0x1a7593]={'config':null,'initializing':!(-0x9e*-0x1d+-0x3*0x749+-0x3f6*-0x1),'instance':null,'callbacks':[]}),ii['modules'][_0x1a7593];}static['initialize'](_0x2e97e2,_0x4f2de2){if(_0x4f2de2['initializi'+'ng'])return;const _0x2a2bca=_0x4f2de2['config'];(_0x2a2bca['glueUrl']||_0x2a2bca['wasmUrl']||_0x2a2bca['fallbackUr'+'l'])&&(_0x4f2de2['initializi'+'ng']=!(0x252*-0x3+0x1e66+-0x1770),ii['loadWasm'](_0x2e97e2,_0x2a2bca,(_0x714961,_0x2addee)=>{_0x714961?_0x2a2bca['errorHandl'+'er']?_0x2a2bca['errorHandl'+'er'](_0x714961):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0x2e97e2+'\x20error='+_0x714961):(_0x4f2de2['instance']=_0x2addee,_0x4f2de2['callbacks']['forEach'](_0x5c2580=>{_0x5c2580(_0x2addee);}));}));}};h(ii,'modules',{}),h(ii,'wasmSuppor'+'ted',ux(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x599148=new WebAssembly['Module'](Uint8Array['of'](-0x26b6*-0x1+0x73+-0x2729,0x12*0xd5+-0x3*-0x2a5+0xb44*-0x2,-0x1*0x8e+0x2d5*0x3+0x2*-0x3bf,0x1ea6+-0x22d4+0x49b,-0x763+-0x1623+-0x1d87*-0x1,0x112c+-0x1*-0x1a20+-0x2b4c,0x72*-0x1a+-0x859+0x13ed,0xd53*-0x1+0x6b4+0x69f*0x1));if(_0x599148 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x599148)instanceof WebAssembly['Instance'];}}catch{}return!(-0xf22+-0x977*0x2+-0x3c9*-0x9);}));let Yr=ii;class YS{static['setConfig'](_0x23217a,_0x37bc78){const _0x1a467f=Yr['getModule'](_0x23217a);_0x1a467f['config']=_0x37bc78,_0x1a467f['callbacks']['length']>-0x25a5*0x1+-0x2657+0x4bfc&&Yr['initialize'](_0x23217a,_0x1a467f);}static['getConfig'](_0x52ea61){var _0x28f6c2,_0x37e851;return(_0x37e851=(_0x28f6c2=Yr['modules'])==null?void(-0x57*0x2+-0x1bc0+0x1c6e):_0x28f6c2[_0x52ea61])==null?void(-0xcb7+-0x2000+0x1*0x2cb7):_0x37e851['config'];}static['getInstanc'+'e'](_0x2d9062,_0x4335f1){const _0x321a51=Yr['getModule'](_0x2d9062);_0x321a51['instance']?_0x4335f1(_0x321a51['instance']):(_0x321a51['callbacks']['push'](_0x4335f1),_0x321a51['config']&&Yr['initialize'](_0x2d9062,_0x321a51));}}class KS{constructor(_0x354c0b){h(this,'arraybuffe'+'r'),h(this,'dataView'),h(this,'offset',0x4*-0x7dc+0x1*-0xd0b+0x2c7b),(this['arraybuffe'+'r']=_0x354c0b,this['dataView']=new DataView(_0x354c0b));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x3cd00c=-0xdf3*-0x1+-0x83f*-0x1+-0x766*0x3){this['offset']=_0x3cd00c;}['skip'](_0x5cd2de){this['offset']+=_0x5cd2de;}['align'](_0x5b6d3c){this['offset']=this['offset']+_0x5b6d3c-(0x111d+-0x337*0x1+-0xde5*0x1)&~(_0x5b6d3c-(0x8ea+0x11f1*-0x2+0x5*0x565));}['_inc'](_0x21fbad){return this['offset']+=_0x21fbad,this['offset']-_0x21fbad;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x155a11){let _0x2320f3='';for(let _0x37c2f5=0x1fe2+0x11d6+-0x31b8;_0x37c2f5<_0x155a11;++_0x37c2f5)_0x2320f3+=this['readChar']();return _0x2320f3;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](-0x229a+0x26aa+0x40e*-0x1),!(-0xf16+-0x2e*-0xd+0xcc0));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](-0xb2a+-0x32b*-0x2+0x7c*0xa),!(-0xda0+0x12ed+0x3b*-0x17));}['readU64'](){return this['readU32']()+(-0xbf*0x10+0x1332+0x20*-0x3a)**(-0xb68+-0x1ec*0xb+0x20ac*0x1)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](-0xa19+0x1*-0xf73+0x1990),!(-0x2*0x3e7+-0x93+0x862));}['readArray'](_0x137e94){for(let _0x2f4942=0x304*-0x4+-0xbcc+-0x5f7*-0x4;_0x2f4942<_0x137e94['length'];++_0x2f4942)_0x137e94[_0x2f4942]=this['readU8']();}['readLine'](){const _0x180cd5=this['dataView'];let _0x3352fd='';for(;!(this['offset']>=_0x180cd5['byteLength']);){const _0x386b5b=String['fromCharCo'+'de'](this['readU8']());if(_0x386b5b==='\x0a')break;_0x3352fd+=_0x386b5b;}return _0x3352fd;}}class oh{constructor(_0x396b41){h(this,'items',[]),h(this,'length',0x21*0xfd+-0x39*0x97+-0x81*-0x2),h(this,'loopIndex',-(-0x121d+0xae6+0x738)),h(this,'_sortBy'),h(this,'_sortHandl'+'er'),(this['_sortBy']=_0x396b41['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x3c2bb6){let _0x274940=-0x1b44+-0x72e*-0x5+-0x1ba*0x5,_0x203108=this['items']['length']-(-0x143e+0x7a*-0x2c+0x2937);const _0x118e15=_0x3c2bb6[this['_sortBy']];let _0xc99d,_0xaafabf;for(;_0x274940<=_0x203108;)_0xc99d=Math['floor']((_0x274940+_0x203108)/(-0x4*0x782+0x1575+0x895)),_0xaafabf=this['items'][_0xc99d][this['_sortBy']],_0xaafabf<=_0x118e15?_0x274940=_0xc99d+(-0x54a+-0x2af+0x7fa):_0xaafabf>_0x118e15&&(_0x203108=_0xc99d-(0x3*-0xc5f+-0x1fde+0x44fc));return _0x274940;}['_doSort'](_0xd2da6a,_0x54bf4f){const _0xc8ba35=this['_sortBy'];return _0xd2da6a[_0xc8ba35]-_0x54bf4f[_0xc8ba35];}['insert'](_0x15fda2){const _0x486631=this['_binarySea'+'rch'](_0x15fda2);this['items']['splice'](_0x486631,0x223d+0x1a95*0x1+-0x12*0x361,_0x15fda2),this['length']++,this['loopIndex']>=_0x486631&&this['loopIndex']++;}['append'](_0x2450d4){this['items']['push'](_0x2450d4),this['length']++;}['remove'](_0x1b320d){const _0x4f4d5b=this['items']['indexOf'](_0x1b320d);_0x4f4d5b<0x5*0x63d+-0x403+0x2*-0xd97||(this['items']['splice'](_0x4f4d5b,0x1ece+-0x10ad+0xe2*-0x10),this['length']--,this['loopIndex']>=_0x4f4d5b&&this['loopIndex']--);}['sort'](){const _0x1a4455=this['loopIndex']>=0x1*0x1f3f+-0xe*-0x31+-0x21ed?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x1a4455!==null&&(this['loopIndex']=this['items']['indexOf'](_0x1a4455));}}class Oo extends me{constructor(_0x7c53e8){super(),h(this,'_index',{}),h(this,'_list',[]),this['_parent']=_0x7c53e8;}['add'](..._0x478e06){let _0x834d6f=!(0x6*-0x4fe+-0x4*0x745+0x1*0x3b09);const _0xfa0c3c=this['_processAr'+'guments'](_0x478e06,!(-0x12e3+0x397+0xf4c));if(!_0xfa0c3c['length'])return _0x834d6f;for(let _0x2d68ef=0xde*0x3+-0x9e3*-0x3+0x3*-0xac1;_0x2d68ef<_0xfa0c3c['length'];_0x2d68ef++)this['_index'][_0xfa0c3c[_0x2d68ef]]||(_0x834d6f=!(-0x92c+-0x135*0x15+0x2285),this['_index'][_0xfa0c3c[_0x2d68ef]]=!(-0x8eb*-0x4+0x1574*-0x1+-0xe38),this['_list']['push'](_0xfa0c3c[_0x2d68ef]),this['fire']('add',_0xfa0c3c[_0x2d68ef],this['_parent']));return _0x834d6f&&this['fire']('change',this['_parent']),_0x834d6f;}['remove'](..._0x4ca464){let _0x11128e=!(0x52c+-0x2266+0x1d3b);if(!this['_list']['length'])return _0x11128e;const _0x16b9b3=this['_processAr'+'guments'](_0x4ca464,!(-0x11b*0x9+0x1*0xf2b+-0x538));if(!_0x16b9b3['length'])return _0x11128e;for(let _0x380005=-0x5*0x6aa+-0x14d7+0x3629;_0x380005<_0x16b9b3['length'];_0x380005++)this['_index'][_0x16b9b3[_0x380005]]&&(_0x11128e=!(-0x184+0xfb3+-0xe2f*0x1),delete this['_index'][_0x16b9b3[_0x380005]],this['_list']['splice'](this['_list']['indexOf'](_0x16b9b3[_0x380005]),-0x14ed+0x2fc*-0x6+0x2*0x136b),this['fire']('remove',_0x16b9b3[_0x380005],this['_parent']));return _0x11128e&&this['fire']('change',this['_parent']),_0x11128e;}['clear'](){if(!this['_list']['length'])return;const _0x50a39b=this['_list']['slice'](0xd*-0x21d+-0x22c4+0x3*0x14bf);this['_list']=[],this['_index']={};for(let _0x361661=0xe*0x15f+-0x1b19+-0x11*-0x77;_0x361661<_0x50a39b['length'];_0x361661++)this['fire']('remove',_0x50a39b[_0x361661],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x4751e1){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x4751e1)):!(-0x524+-0x1a31+0x1f56);}['_has'](_0xadead8){if(!this['_list']['length']||!_0xadead8['length'])return!(0x6c+0x1af5+0x6*-0x490);for(let _0x31d47f=0x15+0xa3e*-0x3+-0xa37*-0x3;_0x31d47f<_0xadead8['length'];_0x31d47f++)if(_0xadead8[_0x31d47f]['length']===0x2*0x8bb+-0x1d*0x4f+-0x882){if(this['_index'][_0xadead8[_0x31d47f][0x26cd+-0x4b+-0x2682]])return!(-0xcf1+-0x1a24+0x2715);}else{let _0xefe5c9=!(-0x3*0x881+-0x154d+0x2ed0);for(let _0x29ff3b=-0x1*0xbb9+-0x1*0x1e34+0x29ed;_0x29ff3b<_0xadead8[_0x31d47f]['length'];_0x29ff3b++)if(!this['_index'][_0xadead8[_0x31d47f][_0x29ff3b]]){_0xefe5c9=!(-0x3e*0x7+0xc*0x220+-0x3*0x7ef);break;}if(_0xefe5c9)return!(0xe4+0x78*0x25+-0x123c);}return!(0x4b*0xf+0x1*0x6e3+0x1*-0xb47);}['list'](){return this['_list']['slice'](-0x13a2+0x926*-0x2+0x25ee);}['_processAr'+'guments'](_0x282e68,_0xf2f39a){const _0x492792=[];let _0x2ef59b=[];if(!_0x282e68||!_0x282e68['length'])return _0x492792;for(let _0x5acf9e=-0x1854*-0x1+0x1789*-0x1+-0xcb;_0x5acf9e<_0x282e68['length'];_0x5acf9e++)if(_0x282e68[_0x5acf9e]instanceof Array){_0xf2f39a||(_0x2ef59b=[]);for(let _0x18aa83=-0x25+0x831*-0x1+0x16*0x61;_0x18aa83<_0x282e68[_0x5acf9e]['length'];_0x18aa83++)typeof _0x282e68[_0x5acf9e][_0x18aa83]=='string'&&(_0xf2f39a?_0x492792['push'](_0x282e68[_0x5acf9e][_0x18aa83]):_0x2ef59b['push'](_0x282e68[_0x5acf9e][_0x18aa83]));!_0xf2f39a&&_0x2ef59b['length']&&_0x492792['push'](_0x2ef59b);}else typeof _0x282e68[_0x5acf9e]=='string'&&(_0xf2f39a?_0x492792['push'](_0x282e68[_0x5acf9e]):_0x492792['push']([_0x282e68[_0x5acf9e]]));return _0x492792;}get['size'](){return this['_list']['length'];}}h(Oo,'EVENT_ADD','add'),h(Oo,'EVENT_REMO'+'VE','remove'),h(Oo,'EVENT_CHAN'+'GE','change');const de=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],px=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class Rd{constructor(_0x5408a2){h(this,'scheme'),h(this,'authority'),h(this,'path'),h(this,'query'),h(this,'fragment');const _0x12b6d6=_0x5408a2['match'](px);this['scheme']=_0x12b6d6[-0xca*0x8+0xfe1*-0x1+0x1633],this['authority']=_0x12b6d6[0x2*0x17b+0x270*0x2+0xd*-0x9a],this['path']=_0x12b6d6[0x13a6+0xa6b*-0x2+0x3*0x67],this['query']=_0x12b6d6[-0x28*0x1a+-0x10d+0x524],this['fragment']=_0x12b6d6[-0xa7*-0x1a+0x1*0x198b+-0x2a78];}['toString'](){let _0x4788c2='';return this['scheme']&&(_0x4788c2+=this['scheme']+':'),this['authority']&&(_0x4788c2+='//'+this['authority']),_0x4788c2+=this['path'],this['query']&&(_0x4788c2+='?'+this['query']),this['fragment']&&(_0x4788c2+='#'+this['fragment']),_0x4788c2;}['getQuery'](){const _0x57cc9c={};if(this['query']){const _0x2258ef=decodeURIComponent(this['query'])['split']('&');for(const _0x464355 of _0x2258ef){const _0x2be7a8=_0x464355['split']('=');_0x57cc9c[_0x2be7a8[0xb08+-0x1824+0xd1c*0x1]]=_0x2be7a8[-0x254a+0x24bc+0x8f*0x1];}}return _0x57cc9c;}['setQuery'](_0xe86953){let _0x466291='';for(const _0x6325ee in _0xe86953)_0xe86953['hasOwnProp'+'erty'](_0x6325ee)&&(_0x466291!==''&&(_0x466291+='&'),_0x466291+=encodeURIComponent(_0x6325ee)+'='+encodeURIComponent(_0xe86953[_0x6325ee]));this['query']=_0x466291;}}(function(){const _0x3d3b52=function(){let _0x1b8410;try{_0x1b8410=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0x72a07c){_0x1b8410=window;}return _0x1b8410;},_0x1040d1=_0x3d3b52();_0x1040d1['setInterva'+'l'](_0x485426,-0x9c9+0x9d3+0xf96);}());const mx=-0x5*0x407+0x1193+0x290,tp=-0x16dd+0x64*0x24+0x8ce,Nm=0x19f3+0x2*0x817+-0x2a1d,_x=0xb62+0x18e9+-0x2446,Y={'DEG_TO_RAD':Math['PI']/(-0x24ce+0x10f5+0x148d*0x1),'RAD_TO_DEG':(0x11*-0x1d5+-0x19bb+0x3994)/Math['PI'],'clamp'(_0xd43d8d,_0x1b8db6,_0x3fad31){return _0xd43d8d>=_0x3fad31?_0x3fad31:_0xd43d8d<=_0x1b8db6?_0x1b8db6:_0xd43d8d;},'intToBytes24'(_0x5b9d48){const _0x2160fd=_0x5b9d48>>0x7*0x174+-0x10ef+0x6d3&-0x2310*-0x1+0xca6+-0x1*0x2eb7,_0x58972b=_0x5b9d48>>0xadb*-0x1+-0x9a4+0x1487*0x1&-0x1e49+-0x1086+-0x2*-0x17e7,_0x2ae72b=_0x5b9d48&-0x844*-0x3+0xf6f+-0x273c;return[_0x2160fd,_0x58972b,_0x2ae72b];},'intToBytes32'(_0x31a152){const _0xb20fe5=_0x31a152>>-0xdb3+0x254d+0x22*-0xb1&0xfd4+-0x2*0x12ef+0x1709,_0x5cda95=_0x31a152>>0x1*-0x157f+0x1668+-0xd9&-0x1*0xfcb+-0x13e5*0x1+0x24af,_0x20e05a=_0x31a152>>-0xc6*-0x12+0x131c*-0x1+0x538&-0x1ab7+0x226d+-0x6b7,_0x55ad54=_0x31a152&0x5*-0x6fb+0x391+0x2055;return[_0xb20fe5,_0x5cda95,_0x20e05a,_0x55ad54];},'bytesToInt24'(_0x5e426c,_0x5320d2,_0x11bf32){return _0x5e426c['length']&&(_0x11bf32=_0x5e426c[0x9ff*-0x1+-0xb07+0xa84*0x2],_0x5320d2=_0x5e426c[-0x35b*-0x5+-0x6c5*0x2+0x9*-0x5c],_0x5e426c=_0x5e426c[-0x11*-0x121+-0xc26+-0x70b]),_0x5e426c<<-0x1*0x11c3+-0x1005+0x21d8|_0x5320d2<<-0x2701+0x1*0x677+-0x17b*-0x16|_0x11bf32;},'bytesToInt32'(_0x507f01,_0x15502d,_0xe38527,_0x42baa4){return _0x507f01['length']&&(_0x42baa4=_0x507f01[-0x193c+-0xb56*-0x1+-0x4a3*-0x3],_0xe38527=_0x507f01[0x2559+-0x5d3*0x4+-0x1*0xe0b],_0x15502d=_0x507f01[-0x22dd+0xe3*-0x11+0x31f1],_0x507f01=_0x507f01[-0x25e2*0x1+-0x215c+0x473e]),(_0x507f01<<-0x1*-0x14c9+-0xc7d+0xaf*-0xc|_0x15502d<<-0x2672+-0x135*0x9+-0xb*-0x47d|_0xe38527<<-0x18*-0x18d+-0x1*0xc38+-0x18f8|_0x42baa4)>>>0xd50+0x2b*0xa3+-0x28b1;},'lerp'(_0x589124,_0x48a59f,_0xf1406b){return _0x589124+(_0x48a59f-_0x589124)*Y['clamp'](_0xf1406b,0x1c*-0x165+-0x1d37+0x4443,-0xb64+-0x64*-0x13+0x1*0x3f9);},'lerpAngle'(_0x4a7042,_0x35ced6,_0x19aa74){return _0x35ced6-_0x4a7042>-0x1d*-0x95+0x23de*-0x1+0x13b1&&(_0x35ced6-=-0x17b*0x1a+-0x8*-0x2e7+-0x2*-0x857),_0x35ced6-_0x4a7042<-(-0x88b+0x2650+-0x1*0x1d11)&&(_0x35ced6+=-0x3*-0x253+0x25c1+0x1*-0x2b52),Y['lerp'](_0x4a7042,_0x35ced6,Y['clamp'](_0x19aa74,-0x1*-0xe14+-0x2174+-0x8*-0x26c,0x1*-0x16de+-0x812+-0x59*-0x59));},'powerOfTwo'(_0x1e9389){return _0x1e9389!==-0x3*-0x20b+0x3*0x27b+0x6c9*-0x2&&!(_0x1e9389&_0x1e9389-(0x3d3+-0x11b+-0x2b7));},'nextPowerOfTwo'(_0x248337){return _0x248337--,_0x248337|=_0x248337>>0x2355+-0x2*-0x42c+0xa*-0x45e,_0x248337|=_0x248337>>0x1*0x25a9+0x9*-0x93+-0x207c,_0x248337|=_0x248337>>0x13b8+-0x6*0x338+-0x64,_0x248337|=_0x248337>>-0x1d*0x114+0xb8a+0x13c2,_0x248337|=_0x248337>>0x182a*-0x1+-0x3*0x30a+0x2158,_0x248337++,_0x248337;},'nearestPowerOfTwo'(_0x3f86f){return Math['pow'](-0x3af*-0x1+-0x8b*0x16+-0x49*-0x1d,Math['round'](Math['log2'](_0x3f86f)));},'random'(_0x5d869d,_0x2dccb6){const _0xce1f83=_0x2dccb6-_0x5d869d;return Math['random']()*_0xce1f83+_0x5d869d;},'smoothstep'(_0x32f958,_0x1eeeff,_0x3b6a43){return _0x3b6a43<=_0x32f958?0xc5d+0x1623*-0x1+0x9c6*0x1:_0x3b6a43>=_0x1eeeff?0x2497+0x15bb+0x3a51*-0x1:(_0x3b6a43=(_0x3b6a43-_0x32f958)/(_0x1eeeff-_0x32f958),_0x3b6a43*_0x3b6a43*(-0x84e+0x629+-0x45*-0x8-(0x5*-0x7a+-0x4*-0x1ef+-0x39*0x18)*_0x3b6a43));},'smootherstep'(_0xde73e4,_0x85abe6,_0x38cb34){return _0x38cb34<=_0xde73e4?-0x221b*0x1+-0x7df*-0x1+0x1a3c:_0x38cb34>=_0x85abe6?-0x244f+-0x224a+-0x50b*-0xe:(_0x38cb34=(_0x38cb34-_0xde73e4)/(_0x85abe6-_0xde73e4),_0x38cb34*_0x38cb34*_0x38cb34*(_0x38cb34*(_0x38cb34*(0x1406+0x13ec+0x1ff*-0x14)-(0x1574+-0x1b9*-0x1+-0x171e))+(0x2e*-0xb7+-0x853+0x293f)));},'roundUp'(_0x3e9b44,_0x4e17ee){return _0x4e17ee===-0x1a49+-0x2146+0x1*0x3b8f?_0x3e9b44:Math['ceil'](_0x3e9b44/_0x4e17ee)*_0x4e17ee;},'between'(_0x335481,_0x38ca05,_0x487d0b,_0x3f6e9f){const _0x2bb0aa=Math['min'](_0x38ca05,_0x487d0b),_0x259503=Math['max'](_0x38ca05,_0x487d0b);return _0x3f6e9f?_0x335481>=_0x2bb0aa&&_0x335481<=_0x259503:_0x335481>_0x2bb0aa&&_0x335481<_0x259503;}},Tt=class Tt{constructor(_0x421d28=-0x562*0x3+-0xbd1+-0x1bf7*-0x1,_0x4238d4=-0x23fa+-0x1c22+-0x5d4*-0xb,_0x5db1fa=0xfe7+0x11*-0x1bb+-0x15a*-0xa,_0xa60d2=0x1948+-0x419*0x2+0x1*-0x1115){h(this,'r'),h(this,'g'),h(this,'b'),h(this,'a');const _0x4d4f01=_0x421d28['length'];_0x4d4f01===0x1875*-0x1+-0x14a3+-0x503*-0x9||_0x4d4f01===0xe2*-0x2+0x11de+-0x1016?(this['r']=_0x421d28[0x3*0x779+-0x1472*0x1+-0x1f9],this['g']=_0x421d28[0x1*-0x16ed+0x232f+-0xc41*0x1],this['b']=_0x421d28[0x1298+-0xa78*0x3+0xcd2],this['a']=_0x421d28[0xfc9+-0x143*0xb+-0x1e5]??-0x3e0+-0x1d4b+-0x84b*-0x4):(this['r']=_0x421d28,this['g']=_0x4238d4,this['b']=_0x5db1fa,this['a']=_0xa60d2);}['clone'](){const _0x1014c4=this['constructo'+'r'];return new _0x1014c4(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x209d41){return this['r']=_0x209d41['r'],this['g']=_0x209d41['g'],this['b']=_0x209d41['b'],this['a']=_0x209d41['a'],this;}['equals'](_0x255525){return this['r']===_0x255525['r']&&this['g']===_0x255525['g']&&this['b']===_0x255525['b']&&this['a']===_0x255525['a'];}['set'](_0x47af0b,_0x223b6f,_0x20e573,_0x40441d=0x33*0x2f+-0x7f+-0x8dd*0x1){return this['r']=_0x47af0b,this['g']=_0x223b6f,this['b']=_0x20e573,this['a']=_0x40441d,this;}['lerp'](_0x47e85b,_0x44d12c,_0xb231b0){return this['r']=_0x47e85b['r']+_0xb231b0*(_0x44d12c['r']-_0x47e85b['r']),this['g']=_0x47e85b['g']+_0xb231b0*(_0x44d12c['g']-_0x47e85b['g']),this['b']=_0x47e85b['b']+_0xb231b0*(_0x44d12c['b']-_0x47e85b['b']),this['a']=_0x47e85b['a']+_0xb231b0*(_0x44d12c['a']-_0x47e85b['a']),this;}['linear'](_0x5ec65e=this){return this['r']=Math['pow'](_0x5ec65e['r'],-0x2cd+0x1ecb*-0x1+-0x219a*-0x1+0.20000000000000018),this['g']=Math['pow'](_0x5ec65e['g'],-0x1*-0x242c+-0x1*-0x19b4+-0x3dde+0.20000000000000018),this['b']=Math['pow'](_0x5ec65e['b'],-0x70+0xdf5+-0xd83+0.20000000000000018),this['a']=_0x5ec65e['a'],this;}['gamma'](_0x53e8f2=this){return this['r']=Math['pow'](_0x53e8f2['r'],(-0x3d*0x31+0x12f*0x11+-0x1*0x871)/(-0xbab+0x13f1+-0x211*0x4+0.20000000000000018)),this['g']=Math['pow'](_0x53e8f2['g'],(-0x506*-0x5+0x2*0x151+-0x1bbf)/(0x23ec+0x183d+-0x3c27+0.20000000000000018)),this['b']=Math['pow'](_0x53e8f2['b'],(-0x90a+0x1*-0x26dd+0x2fe8)/(0xa18*0x3+0x2288+-0x40ce+0.20000000000000018)),this['a']=_0x53e8f2['a'],this;}['mulScalar'](_0x474283){return this['r']*=_0x474283,this['g']*=_0x474283,this['b']*=_0x474283,this;}['fromString'](_0x5871fe){const _0x52c2d1=parseInt(_0x5871fe['replace']('#','0x'),0xb76+-0x193*-0x2+-0xe8c);let _0xad8da8;return _0x5871fe['length']>0x2238+-0x1*0x1381+0x8*-0x1d6?_0xad8da8=Y['intToBytes'+'32'](_0x52c2d1):(_0xad8da8=Y['intToBytes'+'24'](_0x52c2d1),_0xad8da8[0xddb+-0x7a*0x36+0xbe4]=0x4*0x52c+-0x2*0x10fd+0xe49),this['set'](_0xad8da8[0x11e7*0x1+0xc1*-0x17+-0x90]/(-0xfc6*-0x2+0xa28+-0x28b5),_0xad8da8[-0x5*0x4e+0x2292+-0x210b]/(0x43*0x43+0x3*-0x6b7+0x39b),_0xad8da8[0x1*-0x409+0x165e+0x1*-0x1253]/(0x7b0+-0x70*0x4a+0x19af),_0xad8da8[0x6*0x3b0+0x919+0x1f36*-0x1]/(-0x107*-0x1+0x2e*0x1e+0x1*-0x56c)),this;}['fromArray'](_0x2d7e6b,_0x359662=-0x1d*-0xd9+-0xae1+-0xdb4){return this['r']=_0x2d7e6b[_0x359662]??this['r'],this['g']=_0x2d7e6b[_0x359662+(-0x2*-0x1088+-0x37*0x59+0x1be*-0x8)]??this['g'],this['b']=_0x2d7e6b[_0x359662+(0x826+0x1*-0x43c+-0x3e8)]??this['b'],this['a']=_0x2d7e6b[_0x359662+(-0x2*-0xf2d+0x502+0x1*-0x2359)]??this['a'],this;}['toString'](_0x40f60b,_0x41dbf9){const {r:_0x1d206c,g:_0x56b58a,b:_0x3daf90,a:_0x5b18ec}=this;if(_0x41dbf9||_0x1d206c>0x32d*-0x7+-0x1a*-0x1e+0x1330||_0x56b58a>0x2ef*0xb+0x1895+-0x38d9||_0x3daf90>-0x6aa+0xc30+-0x585*0x1)return _0x1d206c['toFixed'](0x1*0x15d2+-0x23b1+0xde2*0x1)+',\x20'+_0x56b58a['toFixed'](-0xf2a*0x1+0xac0+0x46d)+',\x20'+_0x3daf90['toFixed'](-0x241*-0x7+-0x24*0xdc+0xf2c)+',\x20'+_0x5b18ec['toFixed'](-0xe1c*0x1+-0x1b5d+0x297c);let _0x2b2002='#'+((0x32*-0xb9+0x1851+0xbd2<<0x191*0xe+0xc*-0x9d+-0xe7a)+(Math['round'](_0x1d206c*(0xde7*0x1+-0x1d76+-0x847*-0x2))<<0x9dd+-0xbe4+0x1*0x217)+(Math['round'](_0x56b58a*(-0x121+-0xe4c+0x106c))<<-0x477+0x61a*0x2+-0x7b5)+Math['round'](_0x3daf90*(-0x1*-0x16ed+-0x371*-0x2+-0x1cd0)))['toString'](-0x1e9d+0x5d1+0x1*0x18dc)['slice'](0x1923+0x2572+-0x3e94);if(_0x40f60b===!(-0x833*0x3+0x7a3+0x10f6)){const _0x4b0b76=Math['round'](_0x5b18ec*(0x795+0x2503+-0x2b99))['toString'](0x1*-0xb4e+0x1613*0x1+-0xab5);this['a']<(0x19*0xd4+-0x20e8+0xc44)/(-0x612+0x336+0x3db)?_0x2b2002+='0'+_0x4b0b76:_0x2b2002+=_0x4b0b76;}return _0x2b2002;}['toArray'](_0x2ee693=[],_0x5add47=0x26c0+-0xf43+-0x177d,_0x1f7aa7=!(0x1*0x1046+-0x122c+0x1e6)){return _0x2ee693[_0x5add47]=this['r'],_0x2ee693[_0x5add47+(0x6e+0x893+0x8*-0x120)]=this['g'],_0x2ee693[_0x5add47+(0x3*-0x957+-0x1*0x2149+0x6*0xa38)]=this['b'],_0x1f7aa7&&(_0x2ee693[_0x5add47+(0x2*0x285+-0x2260+0x1d59)]=this['a']),_0x2ee693;}};h(Tt,'BLACK',Object['freeze'](new Tt(0x1b52+-0x9*0x377+0x1*0x3dd,-0x184e+-0x1932+0x24*0x160,0x311*0xb+-0x22*-0xc5+0x3*-0x13f7,-0x7*-0x3c4+0xb91*0x1+0x4*-0x97b))),h(Tt,'BLUE',Object['freeze'](new Tt(-0x2405+0x9b3+0x1a52,-0x407*-0x4+-0x1d*0xc9+0xb*0x9b,-0x1*0x1f91+-0x1aba+0x3a4c,0x17ba+-0xa*-0x119+0xb91*-0x3))),h(Tt,'CYAN',Object['freeze'](new Tt(0x13a6+-0x10b5*0x1+-0x1*0x2f1,0x2*0xf62+0xfa7+-0x2e6a,0x26a6+-0x1cbe+-0x9e7,0x41*-0x3e+-0x1dd3+0x2d92))),h(Tt,'GRAY',Object['freeze'](new Tt(-0x145+0x3*0x662+-0xc7*0x17+0.5,-0xcb3+0x1*-0x1591+0x2b*0xcc+0.5,0x1d59*0x1+0x59b+-0x22f4+0.5,0x2183+0x17a+-0x22fc))),h(Tt,'GREEN',Object['freeze'](new Tt(0x1c82+0x763+-0x23e5,0x549+-0x84e+0x12*0x2b,0xfb*0x1+-0x36d*-0x6+0x1*-0x1589,0x137+0x110*0x7+-0x8a6))),h(Tt,'MAGENTA',Object['freeze'](new Tt(0x25b9+0x3*-0x1c3+0x1b5*-0x13,-0x1*-0x2ab+-0x479*-0x4+-0x148f,0x37*0x71+-0x1fa0+0x3ad*0x2,-0xe52+0x1*-0x16b+0xfbe))),h(Tt,'RED',Object['freeze'](new Tt(-0xfb1*0x2+-0x12*-0x101+-0x7*-0x1e7,-0xe3c*0x1+-0xd8b+-0x1*-0x1bc7,-0xfa6*0x1+0x1*-0xf95+-0x29*-0xc3,-0xbd*0x1a+0x125*0x1+0x120e*0x1))),h(Tt,'WHITE',Object['freeze'](new Tt(0x1058+0x7c2+-0x1*0x1819,-0xaf5+-0xcf*0x10+-0x2e*-0x85,-0x1cdf+-0x1597+0x3277*0x1,0x2*-0xf74+0x11*-0x13f+0x4*0xd06))),h(Tt,'YELLOW',Object['freeze'](new Tt(-0x1f34*-0x1+0x1e7*0x7+-0x2c84,-0xc83+0xe56+-0x1d2,0x5fc+-0x2456+0x1e5a,0x2494+0x517*0x6+0x53*-0xcf)));let ie=Tt;class ZS{constructor(_0x1621eb,_0x142ff0=-0x2ab+-0x2285+0x14*0x1dc){h(this,'_curve'),h(this,'_left',-(-0x12cc+-0x1028+-0x1*-0x22f5)/(-0x9ce*-0x2+-0xdfb+-0x1*0x5a1)),h(this,'_right',(-0x1113+-0x263c*0x1+0x3750)/(-0x1fe7+-0x959*0x1+0x2940)),h(this,'_recip',-0x2489+0x52*0x2+0x23e5),h(this,'_p0',0xa7*0x1a+-0x2*0x71e+0x1*-0x2ba),h(this,'_p1',0x146c*0x1+-0xb3a+-0x932),h(this,'_m0',0xc*0xb5+-0x1291+0xa15),h(this,'_m1',-0x68c*0x5+0x35c+-0xeb0*-0x2),(this['_curve']=_0x1621eb,this['_reset'](_0x142ff0));}['evaluate'](_0x744b83,_0x5a5dff=!(-0x221a+0x584*0x6+0x103)){(_0x5a5dff||_0x744b83<this['_left']||_0x744b83>=this['_right'])&&this['_reset'](_0x744b83);let _0x1a668f;const _0x175bbb=this['_curve']['type'];if(_0x175bbb===_x)_0x1a668f=this['_p0'];else{const _0x2fa079=this['_recip']===-0x1*-0x1191+0x627+0x17b8*-0x1?0x2*0x399+0x427*-0x9+-0x67*-0x4b:(_0x744b83-this['_left'])*this['_recip'];_0x175bbb===mx?_0x1a668f=Y['lerp'](this['_p0'],this['_p1'],_0x2fa079):_0x175bbb===tp?_0x1a668f=Y['lerp'](this['_p0'],this['_p1'],_0x2fa079*_0x2fa079*(0x6c8+0xfab*0x1+-0x1670-(0x472+-0x8c8+0x458)*_0x2fa079)):_0x1a668f=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x2fa079);}return _0x1a668f;}['_reset'](_0x2e65e8){const _0x49b4e7=this['_curve']['keys'],_0x43db7a=_0x49b4e7['length'];if(!_0x43db7a)this['_left']=-(0x213*-0x2+-0x19e*0x10+0x1e07*0x1)/(0x29f+-0xdc1*-0x1+0x1*-0x1060),this['_right']=(0x1be2+0x10f*0xa+-0x2677)/(0x2c9*-0x8+-0x2408+0x3a50),this['_recip']=-0x1635+0x3*0xb3+-0x2*-0xa0e,this['_p0']=this['_p1']=this['_m0']=this['_m1']=-0x1*0xc6a+0x3*-0x4c9+0x1ac5;else{if(_0x2e65e8<_0x49b4e7[0x23aa+0x2*-0xec1+-0x628*0x1][0x2064+-0x11fe+-0xc2*0x13])this['_left']=-(-0x1c64*-0x1+-0xf87+0x4*-0x337)/(0x169d+0x556*-0x4+-0xd*0x19),this['_right']=_0x49b4e7[0xe78+0x1*0x1ad5+-0x294d][0x1ce6+0x1554+-0x323a],this['_recip']=-0x1*0x193+0x2700+-0x256d,this['_p0']=this['_p1']=_0x49b4e7[0xc7a*0x3+-0x1a6f*-0x1+0x3fdd*-0x1][0x2*-0x1018+-0xc13+0x1*0x2c44],this['_m0']=this['_m1']=-0x18fa*0x1+0x10f6+0x804;else{if(_0x2e65e8>=_0x49b4e7[_0x43db7a-(-0x1cf2+-0x12cd+-0x2fc*-0x10)][0x1da0+0x49*-0x3a+-0xd16*0x1])this['_left']=_0x49b4e7[_0x43db7a-(0x8a0+-0x37*0x5d+0xb5c)][0xa7d+-0x16f2+0xc75],this['_right']=(-0x2*-0x1166+-0x9*-0x85+-0x2778)/(-0x1ca9+-0x15a*0x9+0x28d3),this['_recip']=0xad6+0x10*-0x6c+-0x416*0x1,this['_p0']=this['_p1']=_0x49b4e7[_0x43db7a-(-0x91*-0xa+0x1c41+0x1*-0x21ea)][-0x1dcd+-0xae*0x5+0x2134],this['_m0']=this['_m1']=0x26de+0x1e75+-0x4553;else{let _0x1fbd73=-0x1708+-0x18*0xfb+0x2e90;for(;_0x2e65e8>=_0x49b4e7[_0x1fbd73+(0x4*-0x897+-0xae0+0x2d3d)][-0x619+0x12+0x1*0x607];)_0x1fbd73++;this['_left']=_0x49b4e7[_0x1fbd73][-0x164b+-0x4d3+0x1b1e],this['_right']=_0x49b4e7[_0x1fbd73+(0xb88+-0x36*0x70+0xc19)][0xc66+-0x826*0x2+0x3e6];const _0x3e46ed=(-0x162*0x1c+-0x1cd*-0x14+0x2b5)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x3e46ed)?_0x3e46ed:-0x13a2+-0x2fc+0x169e*0x1,this['_p0']=_0x49b4e7[_0x1fbd73][0xfae+-0x182*-0x10+0x1bb*-0x17],this['_p1']=_0x49b4e7[_0x1fbd73+(-0x5*0x2b7+0x2247+0x1*-0x14b3)][0x1a14+0x69*-0x2b+-0x30*0x2d],this['_curve']['type']===Nm&&this['_calcTange'+'nts'](_0x49b4e7,_0x1fbd73);}}}}['_calcTange'+'nts'](_0x51911d,_0x1cd202){let _0xf4f3fe;const _0x2fd889=_0x51911d[_0x1cd202],_0x4bd50b=_0x51911d[_0x1cd202+(-0x2*-0xbcf+0x2c5*-0x2+-0x1213)];let _0x3f0511;if(_0x1cd202===-0xae*-0x9+0x49*0x7a+-0x28e8?_0xf4f3fe=[_0x51911d[-0x1940+0x188b+-0xb5*-0x1][0x1f18*0x1+0x756+-0x266e*0x1]+(_0x51911d[0x2e2+0x23c8+-0x26aa][0xa85+-0xe*-0xb2+-0x40d*0x5]-_0x51911d[0x1ca1+0xc2*0x1f+0x341e*-0x1][0x20bc+0xab9+0x19*-0x1bd]),_0x51911d[0x1b2*-0x15+0x9cc+-0x2de*-0x9][0xaa9*-0x2+0x1*-0x277+0x17ca]+(_0x51911d[0x74d+-0x1131+-0x279*-0x4][-0xdd6*0x2+-0x261b*0x1+0x41c8]-_0x51911d[0x2e*0xb1+-0x1*0x1591+-0xa3c][-0x45e*0x1+0x21cf+-0x1d70])]:_0xf4f3fe=_0x51911d[_0x1cd202-(0x552+-0x74c*0x3+-0x1*-0x1093)],_0x1cd202===_0x51911d['length']-(-0x2*-0xe4b+-0x234b+0x6b7)?_0x3f0511=[_0x51911d[_0x1cd202+(-0x1e45+0x1979+-0x4cd*-0x1)][0x3ae*-0x9+-0x8dc+0x36*0xc7]+(_0x51911d[_0x1cd202+(-0x1*0x1ebb+0x1ab5+-0x1*-0x407)][0x1*-0x149a+0xcf*-0x6+0x21f*0xc]-_0x51911d[_0x1cd202][-0x1*0x17c3+-0x46*-0x2b+-0x1b7*-0x7]),_0x51911d[_0x1cd202+(0xc28+0x13*0x1ef+-0x30e4)][-0x1ff5+-0xb4f+-0x1*-0x2b45]+(_0x51911d[_0x1cd202+(0x1c39+-0x205b+-0x161*-0x3)][0x337+0x98*0x19+-0x120e]-_0x51911d[_0x1cd202][-0x1f74+-0xa57+-0x64*-0x6b])]:_0x3f0511=_0x51911d[_0x1cd202+(-0x143b+-0xcb3+-0x44*-0x7c)],this['_curve']['type']===Nm){const _0x451fa9=(-0x17*0x1f+0x15b5+0x12ea*-0x1)*(_0x4bd50b[0x2b9*-0xb+0x15fe+0x7f5]-_0x2fd889[0x16b8+0x436+-0xd77*0x2])/(_0x4bd50b[-0x1*-0x1a3+-0x22b2+0x210f]-_0xf4f3fe[-0x200b+0x1*-0x1ce9+-0x1*-0x3cf4]),_0x13783b=(-0xe39+0x669+0x7d2)*(_0x4bd50b[0x211b+-0x79c+-0x1*0x197f]-_0x2fd889[-0x6*-0x3a9+-0xb*0x245+0x301])/(_0x3f0511[-0x71*-0x21+0x2fe+-0x1d*0x9b]-_0x2fd889[0x1e*0x147+0x819+-0x2e6b]);this['_m0']=this['_curve']['tension']*(isFinite(_0x451fa9)?_0x451fa9:-0x1d49+-0x2b*0x61+0x2d94)*(_0x4bd50b[0xe28+-0xf45+-0x2*-0x8f]-_0xf4f3fe[0x7a2*-0x2+0x107*-0xb+-0x13*-0x166]),this['_m1']=this['_curve']['tension']*(isFinite(_0x13783b)?_0x13783b:0x11a+0x180e+-0x1928)*(_0x3f0511[-0x177+0x2*0x8ae+-0x2a6*0x6]-_0x2fd889[0x2575+0xd95*-0x1+0x3*-0x7f5]);}else{const _0x241ad1=(_0x4bd50b[0x2*-0xe59+-0xcbf*0x1+0x2971]-_0x2fd889[0x139f+-0x1f62+0xbc3*0x1])/(_0x2fd889[-0x9ad*0x3+0xb5f+-0x5*-0x388]-_0xf4f3fe[0xa*-0x2cf+0x493*0x2+-0x3*-0x650]),_0x5ea3dd=(_0x4bd50b[0x1*0x73a+-0x1935+-0x11fb*-0x1]-_0x2fd889[-0x11c1+-0x2095+0x3256])/(_0x3f0511[-0x9e8+-0x1609+-0x1*-0x1ff1]-_0x4bd50b[-0x79+0x1e1*0x13+-0x119d*0x2]),_0x34865f=_0x2fd889[0x2cf*-0x8+0x1*0x17d5+0x3a*-0x6]+(_0xf4f3fe[0x1381+-0x1*-0x324+0xe*-0x19e]-_0x2fd889[-0xe67+-0xee5+-0x1*-0x1d4d])*(isFinite(_0x241ad1)?_0x241ad1:0xb84+0x151c+0x1d0*-0x12),_0x213edd=_0x4bd50b[-0xd2b*0x2+0x168f+-0x4*-0xf2]+(_0x3f0511[-0x8c*-0xb+-0x846*0x1+0x243]-_0x4bd50b[0x1be*-0x15+0x1512+0xf85])*(isFinite(_0x5ea3dd)?_0x5ea3dd:-0x796+0x89a+-0x34*0x5),_0x17ab25=this['_curve']['tension'];this['_m0']=_0x17ab25*(_0x4bd50b[-0x1*-0x16d9+-0x445*0x7+0x70b]-_0x34865f),this['_m1']=_0x17ab25*(_0x213edd-_0x2fd889[-0x1*-0x1b31+-0x2271*0x1+0x1*0x741]);}}['_evaluateH'+'ermite'](_0xea96d,_0x330597,_0x4862ba,_0x3fd134,_0xed1597){const _0x5bd8de=_0xed1597*_0xed1597,_0x49980=_0xed1597+_0xed1597,_0x37a1b4=-0x1b07*-0x1+0x924+0x6*-0x607-_0xed1597,_0x3a5233=_0x37a1b4*_0x37a1b4;return _0xea96d*((-0x1126+-0xa3*-0x3a+0x53*-0x3d+_0x49980)*_0x3a5233)+_0x4862ba*(_0xed1597*_0x3a5233)+_0x330597*(_0x5bd8de*(0x1c4a+-0x2a7+-0x19a0-_0x49980))+_0x3fd134*(_0x5bd8de*(_0xed1597-(0x6f*0x31+-0xa76+-0x6*0x1cc)));}}class qs{constructor(_0x3332de){h(this,'keys',[]),h(this,'type',tp),h(this,'tension',-0x2616+0x1*0x1995+-0xb*-0x123+0.5),h(this,'_eval',new ZS(this));if(_0x3332de){for(let _0x5a53f6=-0x17e7+-0x2ab*0x1+-0x166*-0x13;_0x5a53f6<_0x3332de['length']-(0x11*-0x202+0x2109+-0x5e*-0x3);_0x5a53f6+=-0x1*0x6c5+0xb57+-0x124*0x4)this['keys']['push']([_0x3332de[_0x5a53f6],_0x3332de[_0x5a53f6+(0x189f+-0x1ea3+-0x605*-0x1)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x555aa4,_0x31c88d){const _0x2999a0=this['keys'],_0x5a6251=_0x2999a0['length'];let _0x492a0c=-0xdea*-0x1+0xe19+0x1*-0x1c03;for(;_0x492a0c<_0x5a6251&&!(_0x2999a0[_0x492a0c][0x55*-0x11+0x21b0+-0x1c0b]>_0x555aa4);_0x492a0c++);const _0x5c9155=[_0x555aa4,_0x31c88d];return this['keys']['splice'](_0x492a0c,-0xb4a+-0xc22+0x5db*0x4,_0x5c9155),_0x5c9155;}['get'](_0xa84fd3){return this['keys'][_0xa84fd3];}['sort'](){this['keys']['sort']((_0x6f06c8,_0x26c2c5)=>_0x6f06c8[-0x1baf+0x1174+0x123*0x9]-_0x26c2c5[-0x233c+-0x2*0x961+-0x2*-0x1aff]);}['value'](_0x24a15a){return this['_eval']['evaluate'](_0x24a15a,!(-0xffc+0x6da+0x922));}['closest'](_0x37b50f){const _0x460414=this['keys'],_0x56121b=_0x460414['length'];let _0x13a74a=0x356*-0x2+-0x1f*-0x11+0x49f,_0x24dab9=null;for(let _0x329523=0x21aa+-0x17cc+0x3*-0x34a;_0x329523<_0x56121b;_0x329523++){const _0xbc9ce=Math['abs'](_0x37b50f-_0x460414[_0x329523][0xe3f+0x9ec*0x2+-0x2217]);if(_0x13a74a>=_0xbc9ce)_0x13a74a=_0xbc9ce,_0x24dab9=_0x460414[_0x329523];else break;}return _0x24dab9;}['clone'](){const _0x16ab3f=new this['constructo'+'r']();return _0x16ab3f['keys']=this['keys']['map'](_0x4ee343=>[..._0x4ee343]),_0x16ab3f['type']=this['type'],_0x16ab3f['tension']=this['tension'],_0x16ab3f;}['quantize'](_0x20c89b){_0x20c89b=Math['max'](_0x20c89b,0x1746+0xf4b+-0x268f*0x1);const _0x259e25=new Float32Array(_0x20c89b),_0x1acef3=(0x1456+0x1e1e+-0x3273)/(_0x20c89b-(-0x4*0x408+-0x200b+0x302c));_0x259e25[-0x201f+-0x1*-0x1099+0x7c3*0x2]=this['_eval']['evaluate'](0x1a44*-0x1+0x1*-0x2461+-0xcb*-0x4f,!(-0x24ef+-0x3c*0x6+-0x97*-0x41));for(let _0x4b7aa5=-0x1dd0+0x1b*0x156+-0x641;_0x4b7aa5<_0x20c89b;_0x4b7aa5++)_0x259e25[_0x4b7aa5]=this['_eval']['evaluate'](_0x1acef3*_0x4b7aa5);return _0x259e25;}['quantizeCl'+'amped'](_0x41ec5a,_0x25c615,_0x42657a){const _0x4035d1=this['quantize'](_0x41ec5a);for(let _0x5a1ace=-0x175d+0x1faf+-0x852;_0x5a1ace<_0x4035d1['length'];++_0x5a1ace)_0x4035d1[_0x5a1ace]=Math['min'](_0x42657a,Math['max'](_0x25c615,_0x4035d1[_0x5a1ace]));return _0x4035d1;}}class na{constructor(..._0x449d20){h(this,'curves',[]),h(this,'_type',tp);if(_0x449d20['length']>-0x1d98+0x27f*0x9+0x722){for(let _0x2c02a8=-0xad9+-0x684*0x1+0x379*0x5;_0x2c02a8<_0x449d20['length'];_0x2c02a8++)this['curves']['push'](new qs(_0x449d20[_0x2c02a8]));}else{if(_0x449d20['length']===0xb55+-0x1*-0x3b+0xa*-0x128)this['curves']['push'](new qs());else{const _0x5ca728=_0x449d20[0x1d8d+-0x16ed+-0x6a0];if(typeof _0x5ca728=='number'){for(let _0x58e4b1=-0x212a+-0x30c+-0x73e*-0x5;_0x58e4b1<_0x5ca728;_0x58e4b1++)this['curves']['push'](new qs());}else{for(let _0x336205=0x125b+0x868+0x11*-0x193;_0x336205<_0x5ca728['length'];_0x336205++)this['curves']['push'](new qs(_0x5ca728[_0x336205]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x28f0a5){this['_type']=_0x28f0a5;for(let _0x2d0a5b=-0x12c9+-0x1bf8+0x2ec1*0x1;_0x2d0a5b<this['curves']['length'];_0x2d0a5b++)this['curves'][_0x2d0a5b]['type']=_0x28f0a5;}get['type'](){return this['_type'];}['get'](_0x1b6210){return this['curves'][_0x1b6210];}['value'](_0x581b59,_0x51ac01=[]){const _0x4e80ae=this['curves']['length'];_0x51ac01['length']=_0x4e80ae;for(let _0x4013ba=-0x8e*-0x35+-0x152b+0x12d*-0x7;_0x4013ba<_0x4e80ae;_0x4013ba++)_0x51ac01[_0x4013ba]=this['curves'][_0x4013ba]['value'](_0x581b59);return _0x51ac01;}['clone'](){const _0x31ad1b=new this['constructo'+'r']();_0x31ad1b['curves']=[];for(let _0x574c02=0x1b1*0x14+-0x153*0x13+-0x8ab*0x1;_0x574c02<this['curves']['length'];_0x574c02++)_0x31ad1b['curves']['push'](this['curves'][_0x574c02]['clone']());return _0x31ad1b['_type']=this['_type'],_0x31ad1b;}['quantize'](_0x3f7909){_0x3f7909=Math['max'](_0x3f7909,-0x252+-0x26bc*-0x1+0x1d2*-0x14);const _0x18a57f=this['curves']['length'],_0x16c740=new Float32Array(_0x3f7909*_0x18a57f),_0x4d0edb=(-0x15e6+0x15ca+0x1d)/(_0x3f7909-(0x1*0x1b79+-0x5*-0x1a9+0x1*-0x23c5));for(let _0x5c30b5=0x1*0x292+0xf*-0x1d3+-0x241*-0xb;_0x5c30b5<_0x18a57f;_0x5c30b5++){const _0x2d8748=new ZS(this['curves'][_0x5c30b5]);for(let _0x5533ef=-0xdc6*-0x2+-0x13*-0x161+-0x35bf*0x1;_0x5533ef<_0x3f7909;_0x5533ef++)_0x16c740[_0x5533ef*_0x18a57f+_0x5c30b5]=_0x2d8748['evaluate'](_0x4d0edb*_0x5533ef);}return _0x16c740;}['quantizeCl'+'amped'](_0x342284,_0x109146,_0x145afb){const _0x131bdf=this['quantize'](_0x342284);for(let _0x427a1d=-0xe04+0x65*0x9+0x2f*0x39;_0x427a1d<_0x131bdf['length'];++_0x427a1d)_0x131bdf[_0x427a1d]=Math['min'](_0x145afb,Math['max'](_0x109146,_0x131bdf[_0x427a1d]));return _0x131bdf;}}const Hf=new Float32Array(-0x4dd+-0x1*-0x12a7+-0xdc9),km=new Int32Array(Hf['buffer']);class Mn{static['float2Half'](_0x37c5a4){Hf[0x209c+-0x146a+-0xc32]=_0x37c5a4;const _0x34f151=km[0x6*-0x1e7+0x123*-0x22+0x3210];let _0x10c57d=_0x34f151>>0x24bb+-0x46c*-0x2+-0x2d83&0x7d7f+0x7eaf*-0x1+0x18*0x562,_0x29c754=_0x34f151>>-0x71+-0xbd7*0x1+0xc54&0x218e*0x1+0x48*0x80+-0x3d8f;const _0x420485=_0x34f151>>-0x2667*0x1+0xdeb+-0x1b*-0xe9&0x184e+-0xd16+0xa39*-0x1;return _0x420485<-0x1*-0x1997+-0x8e3+-0x104d?_0x10c57d:_0x420485>0x45a+-0x9*0x2c7+0x1533?(_0x10c57d|=-0xf*-0x1ce+0x1987+0x4767,_0x10c57d|=(_0x420485===0x1903+0x1*-0x52a+0x2*-0x96d?-0xc*-0x6a+-0x25b7+0x20bf:-0x1e3b+-0x10ee+-0x1*-0x2f2a)&&_0x34f151&-0x4f977e+0x28cd00+0xa6ca7d,_0x10c57d):_0x420485<-0x243e*0x1+-0x791+0x2c40?(_0x29c754|=0x1851+0x4d2+0x7*-0x305,_0x10c57d|=(_0x29c754>>-0x585+-0x1*-0x1231+-0xc3a-_0x420485)+(_0x29c754>>0x9*-0x3b6+-0x3fc*0x3+-0x13*-0x269-_0x420485&-0x8cf+0x11*0x1f3+-0x1853),_0x10c57d):(_0x10c57d|=_0x420485-(-0x1*-0x13cf+-0xc60+-0x255*0x3)<<-0x524*-0x6+0x1*-0x2669+0x79b|_0x29c754>>0xd60+-0x1*0x25fa+-0x1*-0x189b,_0x10c57d+=_0x29c754&0x2ea*0xa+-0x347+-0x19dc,_0x10c57d);}static['float2RGBA'+'8'](_0x48c3c3,_0x5b9cd1){Hf[0x1*-0x7c1+0x1e*-0x51+0x113f]=_0x48c3c3;const _0x30efb9=km[-0x14d8+0x335*0x4+-0x6*-0x156];_0x5b9cd1['r']=(_0x30efb9>>-0xc9e+-0x1*0x1ef5+0x1*0x2bab&-0x2497+-0x53*-0xe+-0x843*-0x4)/(-0x12d+-0x1f3d+0xb23*0x3),_0x5b9cd1['g']=(_0x30efb9>>-0x26*0x41+0xe37+0x481*-0x1&0x1c01+-0x1216+-0x1*0x8ec)/(-0x18ea+-0x9c8*-0x2+0x659),_0x5b9cd1['b']=(_0x30efb9>>-0x177*0x12+0x241*-0x2+0x1ee8&-0x1c7+0x3*-0x958+0x1*0x1ece)/(-0x1*0x117e+0x1b39+0x34*-0x2b),_0x5b9cd1['a']=(_0x30efb9&0x26*0x1+0x1*0x539+0xa*-0x70)/(-0x1355*-0x2+0x511*0x4+-0x39ef);}}const wt=class wt{constructor(_0x4a5e8d=0x58f*0x5+0x1060+0xeb9*-0x3,_0xb46d5e=0x193*0xd+-0xf07*-0x2+0x1b*-0x1df,_0x521672=0xd73+-0x47b*-0x8+-0x314b*0x1){h(this,'x'),h(this,'y'),h(this,'z'),_0x4a5e8d['length']===0x17f3+0x5c*-0x6b+-0x2*-0x742?(this['x']=_0x4a5e8d[-0x1*0x1eda+0x1cc3+0x217],this['y']=_0x4a5e8d[-0x101*-0x1+0x1*-0xc0a+-0x1d7*-0x6],this['z']=_0x4a5e8d[-0x1*-0x6af+-0x2*-0x892+-0x17d1]):(this['x']=_0x4a5e8d,this['y']=_0xb46d5e,this['z']=_0x521672);}['add'](_0x55598a){return this['x']+=_0x55598a['x'],this['y']+=_0x55598a['y'],this['z']+=_0x55598a['z'],this;}['add2'](_0x296d5e,_0x15dd35){return this['x']=_0x296d5e['x']+_0x15dd35['x'],this['y']=_0x296d5e['y']+_0x15dd35['y'],this['z']=_0x296d5e['z']+_0x15dd35['z'],this;}['addScalar'](_0x2bcf0a){return this['x']+=_0x2bcf0a,this['y']+=_0x2bcf0a,this['z']+=_0x2bcf0a,this;}['addScaled'](_0x4bb3e3,_0x12b5ab){return this['x']+=_0x4bb3e3['x']*_0x12b5ab,this['y']+=_0x4bb3e3['y']*_0x12b5ab,this['z']+=_0x4bb3e3['z']*_0x12b5ab,this;}['clone'](){const _0x355c6b=this['constructo'+'r'];return new _0x355c6b(this['x'],this['y'],this['z']);}['copy'](_0x16c206){return this['x']=_0x16c206['x'],this['y']=_0x16c206['y'],this['z']=_0x16c206['z'],this;}['cross'](_0x549a6b,_0xc8b5f0){const _0x3e460f=_0x549a6b['x'],_0x5ce95b=_0x549a6b['y'],_0x5e342a=_0x549a6b['z'],_0x57756d=_0xc8b5f0['x'],_0x236fd5=_0xc8b5f0['y'],_0x3044f8=_0xc8b5f0['z'];return this['x']=_0x5ce95b*_0x3044f8-_0x236fd5*_0x5e342a,this['y']=_0x5e342a*_0x57756d-_0x3044f8*_0x3e460f,this['z']=_0x3e460f*_0x236fd5-_0x57756d*_0x5ce95b,this;}['distance'](_0x1ba38c){const _0x319ab6=this['x']-_0x1ba38c['x'],_0x50bad5=this['y']-_0x1ba38c['y'],_0x42e9f2=this['z']-_0x1ba38c['z'];return Math['sqrt'](_0x319ab6*_0x319ab6+_0x50bad5*_0x50bad5+_0x42e9f2*_0x42e9f2);}['div'](_0x7a68d4){return this['x']/=_0x7a68d4['x'],this['y']/=_0x7a68d4['y'],this['z']/=_0x7a68d4['z'],this;}['div2'](_0x4b5a8b,_0x31f105){return this['x']=_0x4b5a8b['x']/_0x31f105['x'],this['y']=_0x4b5a8b['y']/_0x31f105['y'],this['z']=_0x4b5a8b['z']/_0x31f105['z'],this;}['divScalar'](_0x4be7d7){return this['x']/=_0x4be7d7,this['y']/=_0x4be7d7,this['z']/=_0x4be7d7,this;}['dot'](_0xc41ebd){return this['x']*_0xc41ebd['x']+this['y']*_0xc41ebd['y']+this['z']*_0xc41ebd['z'];}['equals'](_0x3fc009){return this['x']===_0x3fc009['x']&&this['y']===_0x3fc009['y']&&this['z']===_0x3fc009['z'];}['equalsAppr'+'ox'](_0x3ac92e,_0x1b3fd7=-0xcc1+0x3d*-0x5b+0x2270+0.000001){return Math['abs'](this['x']-_0x3ac92e['x'])<_0x1b3fd7&&Math['abs'](this['y']-_0x3ac92e['y'])<_0x1b3fd7&&Math['abs'](this['z']-_0x3ac92e['z'])<_0x1b3fd7;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0xe563d2,_0x57bd0a,_0x581a8b){return this['x']=_0xe563d2['x']+_0x581a8b*(_0x57bd0a['x']-_0xe563d2['x']),this['y']=_0xe563d2['y']+_0x581a8b*(_0x57bd0a['y']-_0xe563d2['y']),this['z']=_0xe563d2['z']+_0x581a8b*(_0x57bd0a['z']-_0xe563d2['z']),this;}['mul'](_0x2c17f6){return this['x']*=_0x2c17f6['x'],this['y']*=_0x2c17f6['y'],this['z']*=_0x2c17f6['z'],this;}['mul2'](_0x5816c4,_0x5972ab){return this['x']=_0x5816c4['x']*_0x5972ab['x'],this['y']=_0x5816c4['y']*_0x5972ab['y'],this['z']=_0x5816c4['z']*_0x5972ab['z'],this;}['mulScalar'](_0xa1fc13){return this['x']*=_0xa1fc13,this['y']*=_0xa1fc13,this['z']*=_0xa1fc13,this;}['normalize'](_0x129b7b=this){const _0x4db8c9=_0x129b7b['x']*_0x129b7b['x']+_0x129b7b['y']*_0x129b7b['y']+_0x129b7b['z']*_0x129b7b['z'];if(_0x4db8c9>-0x1b0f*0x1+0x1*0x1b47+0x4*-0xe){const _0x4b0334=(0x2*0x89f+-0x1eb5+0xd78)/Math['sqrt'](_0x4db8c9);this['x']=_0x129b7b['x']*_0x4b0334,this['y']=_0x129b7b['y']*_0x4b0334,this['z']=_0x129b7b['z']*_0x4b0334;}return this;}['floor'](_0xb167c8=this){return this['x']=Math['floor'](_0xb167c8['x']),this['y']=Math['floor'](_0xb167c8['y']),this['z']=Math['floor'](_0xb167c8['z']),this;}['ceil'](_0x42f92a=this){return this['x']=Math['ceil'](_0x42f92a['x']),this['y']=Math['ceil'](_0x42f92a['y']),this['z']=Math['ceil'](_0x42f92a['z']),this;}['round'](_0x223a63=this){return this['x']=Math['round'](_0x223a63['x']),this['y']=Math['round'](_0x223a63['y']),this['z']=Math['round'](_0x223a63['z']),this;}['min'](_0x3c3bb1){return _0x3c3bb1['x']<this['x']&&(this['x']=_0x3c3bb1['x']),_0x3c3bb1['y']<this['y']&&(this['y']=_0x3c3bb1['y']),_0x3c3bb1['z']<this['z']&&(this['z']=_0x3c3bb1['z']),this;}['max'](_0x267e48){return _0x267e48['x']>this['x']&&(this['x']=_0x267e48['x']),_0x267e48['y']>this['y']&&(this['y']=_0x267e48['y']),_0x267e48['z']>this['z']&&(this['z']=_0x267e48['z']),this;}['project'](_0x5df313){const _0x1dee8d=this['x']*_0x5df313['x']+this['y']*_0x5df313['y']+this['z']*_0x5df313['z'],_0x4d9d4d=_0x5df313['x']*_0x5df313['x']+_0x5df313['y']*_0x5df313['y']+_0x5df313['z']*_0x5df313['z'],_0x1b90b2=_0x1dee8d/_0x4d9d4d;return this['x']=_0x5df313['x']*_0x1b90b2,this['y']=_0x5df313['y']*_0x1b90b2,this['z']=_0x5df313['z']*_0x1b90b2,this;}['set'](_0x58a711,_0x2d73da,_0x16f1dc){return this['x']=_0x58a711,this['y']=_0x2d73da,this['z']=_0x16f1dc,this;}['sub'](_0x34b73d){return this['x']-=_0x34b73d['x'],this['y']-=_0x34b73d['y'],this['z']-=_0x34b73d['z'],this;}['sub2'](_0x20dd14,_0x5d094d){return this['x']=_0x20dd14['x']-_0x5d094d['x'],this['y']=_0x20dd14['y']-_0x5d094d['y'],this['z']=_0x20dd14['z']-_0x5d094d['z'],this;}['subScalar'](_0x2ce2c7){return this['x']-=_0x2ce2c7,this['y']-=_0x2ce2c7,this['z']-=_0x2ce2c7,this;}['fromArray'](_0x412f03,_0x290b8a=0x139*0x12+0x10*-0x25e+0xfde){return this['x']=_0x412f03[_0x290b8a]??this['x'],this['y']=_0x412f03[_0x290b8a+(-0xb*0x324+-0x10d3+0x3360)]??this['y'],this['z']=_0x412f03[_0x290b8a+(-0x15a1+0x1*0x847+-0x5f*-0x24)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x154270=[],_0x3ba865=-0x8a4+0x6f6+0x1ae){return _0x154270[_0x3ba865]=this['x'],_0x154270[_0x3ba865+(0xb8b+0x893+0x1*-0x141d)]=this['y'],_0x154270[_0x3ba865+(-0xedc*-0x1+0x1d8d+-0x1a5*0x1b)]=this['z'],_0x154270;}};h(wt,'ZERO',Object['freeze'](new wt(-0x1*-0xce4+0x154f+-0x67*0x55,0x1a*-0xd9+-0x49*-0x43+-0x2ef*-0x1,-0x141c+-0x193a+0x2d56))),h(wt,'HALF',Object['freeze'](new wt(0x1cf0+0x138d*0x1+-0x307d+0.5,0x246e*-0x1+-0x1726+0x3b94+0.5,0x5c6*-0x5+-0x5*0x51a+-0xe8*-0x3c+0.5))),h(wt,'ONE',Object['freeze'](new wt(0x1984+0x1af9+-0x347c,-0x1445*0x1+-0x247*-0x3+0xd71,-0xfef+0x1320+0x6*-0x88))),h(wt,'UP',Object['freeze'](new wt(0x1*0x2b3+-0x33*0xa+0x1*-0xb5,-0x9*-0x51+-0x1c2d+0x1955,-0x5a8+-0x3ef+0x997))),h(wt,'DOWN',Object['freeze'](new wt(0x18e*-0x1+0xb9b*-0x1+0x1*0xd29,-(-0x1*0x143b+0x325+-0x5*-0x36b),0x201a+-0x37*0x9e+0x1d8))),h(wt,'RIGHT',Object['freeze'](new wt(0x21db+0x2634+0x1*-0x480e,-0xf74*0x1+-0xc5b+-0x317*-0x9,-0x1*-0xa7b+-0x7f*-0x9+-0xef2))),h(wt,'LEFT',Object['freeze'](new wt(-(-0x256c+0x24f4+0x1*0x79),-0x7fb+-0x139*-0x1e+-0x1cb3,-0x8f5+0x1ea9*0x1+-0xada*0x2))),h(wt,'FORWARD',Object['freeze'](new wt(-0x21ce+-0x164d+0x381b,0xfcd+0x1aa3*0x1+-0x2a70,-(-0x1c4d+-0x2b*0x11+0x3*0xa63)))),h(wt,'BACK',Object['freeze'](new wt(-0x1*0x63a+0x1*-0xa27+0x1061,-0x160d+0x25d7+-0xfca,0x264*0xb+0x1*-0x1976+-0xd5)));let D=wt;const gn=class gn{constructor(){h(this,'data',new Float32Array(0x149a+-0x1af5+0x664)),this['data'][0x16f*-0x1+0xc89*0x2+-0x7e1*0x3]=this['data'][0x994+0x310+-0x10*0xca]=this['data'][0xc3*0x23+-0x93d+0x4*-0x459]=-0x8*0x1eb+-0xbf4+0x1b4d;}['clone'](){const _0x284974=this['constructo'+'r'];return new _0x284974()['copy'](this);}['copy'](_0x201267){const _0xb63e89=_0x201267['data'],_0x4115c5=this['data'];return _0x4115c5[-0x1be7+-0xd56+0x293d]=_0xb63e89[0x5dc+-0xd84*0x2+0xa*0x21e],_0x4115c5[-0x5bf*-0x2+-0x2a5*-0x1+0xc9*-0x12]=_0xb63e89[-0x1*-0xdd7+-0x11da+-0x202*-0x2],_0x4115c5[0x54*0x8+-0x4+-0x29a]=_0xb63e89[-0x1*-0x2025+0x2487+-0x40a*0x11],_0x4115c5[0xa7*-0x7+-0x2600*0x1+0x442*0xa]=_0xb63e89[-0x1818*0x1+0x1fc2+-0x7a7],_0x4115c5[-0x3*0x4d2+0x4*-0x931+0x7*0x752]=_0xb63e89[-0xd*0x1ea+-0x14d*0xd+0x29cf],_0x4115c5[0x1c66*0x1+-0x1301*-0x2+-0x4263]=_0xb63e89[0x3*0x9f2+-0x13f*0x2+-0x1b53],_0x4115c5[-0xa43+0x2514+0x1acb*-0x1]=_0xb63e89[-0x17e*-0x6+-0x1a6*-0x17+-0x2ed8],_0x4115c5[-0x790+0x236b+0x2*-0xdea]=_0xb63e89[-0xca2+-0x16be+0x2367],_0x4115c5[0xb*-0xd9+0xd39*-0x2+0x23cd]=_0xb63e89[0x9d*0x31+-0x260*0xc+-0x185],this;}['set'](_0x30c7c4){const _0x46dcac=this['data'];return _0x46dcac[0x315*0x9+0x458+-0x2015]=_0x30c7c4[0x19c+0xff3+0x118f*-0x1],_0x46dcac[-0x7e2*-0x4+-0xba*0x35+0x6fb]=_0x30c7c4[0x15f7*-0x1+-0x4*0x50+0x1738],_0x46dcac[0x48+0x1664+-0x16aa]=_0x30c7c4[0x12b*-0x19+-0x24db+0x4210],_0x46dcac[0xa20+0x5b7*-0x1+-0x1*0x466]=_0x30c7c4[0x1b94+-0xaea+-0x57*0x31],_0x46dcac[-0x19a0+0x2d*-0x2d+0x218d]=_0x30c7c4[0x215*0xb+0x1d6e+-0x3451],_0x46dcac[-0x2*0x8c6+-0x8aa*0x1+0x1a3b]=_0x30c7c4[0x1*-0x5fb+-0x11b8+0x17b8],_0x46dcac[0x4a8+-0x3*0x5c+-0x38e]=_0x30c7c4[0x2170+-0x1cbf*0x1+-0x4ab],_0x46dcac[-0x1f5f+0x3f3*-0x1+-0x2359*-0x1]=_0x30c7c4[-0x2*0x80e+0x1b57+-0xb34],_0x46dcac[0x4*0x33b+0xc47+-0x192b]=_0x30c7c4[0x1*-0x855+0x3d6+-0x13*-0x3d],this;}['getX'](_0x5b5427=new D()){return _0x5b5427['set'](this['data'][0x28*0xdf+0x3*-0x495+0x1*-0x1519],this['data'][-0x4*0x3fd+0x2647+-0x2*0xb29],this['data'][0x1707+-0x1*-0x248b+-0x3b90]);}['getY'](_0x1ab829=new D()){return _0x1ab829['set'](this['data'][-0x2e*0x72+-0x8*-0x7e+0x108f],this['data'][-0x1688+0xb*0x10+0x577*0x4],this['data'][0xf1*-0x17+-0x1f21+0x34cd]);}['getZ'](_0x2e010c=new D()){return _0x2e010c['set'](this['data'][0x8bc+0xbf9+-0x1*0x14af],this['data'][-0x2*-0xc0a+0x56c*-0x2+0x17*-0x93],this['data'][-0x17a+-0x1f68+0x20ea]);}['equals'](_0x57e972){const _0x3b43ca=this['data'],_0x15f925=_0x57e972['data'];return _0x3b43ca[0x3f2+-0x2*-0xafb+-0x19e8*0x1]===_0x15f925[-0x24e8+-0xcb3*-0x1+0x1835]&&_0x3b43ca[-0x4*-0x161+0x758+-0xcdb*0x1]===_0x15f925[0x2*-0xc78+-0x1dde+0x36cf*0x1]&&_0x3b43ca[-0x12f1+-0x9*0x31f+0x1*0x2f0a]===_0x15f925[-0x1395+-0xd3+0x146a]&&_0x3b43ca[0x12cc+0x2ac+-0x1575*0x1]===_0x15f925[0x80b*0x1+0xcbb*0x3+-0x2e39]&&_0x3b43ca[-0x1*-0x1654+0x1ba2+-0x31f2]===_0x15f925[-0x371+-0x475*0x1+-0x2*-0x3f5]&&_0x3b43ca[0x1*-0x3ef+0x2af*-0x1+0x6a3]===_0x15f925[-0xb11*-0x1+0xcdc+-0x17e8]&&_0x3b43ca[0x1*-0xdf1+-0x38+0xe2f]===_0x15f925[0xdf6+-0xb3f+-0x35*0xd]&&_0x3b43ca[-0x14f*0x2+-0x1f*0x51+-0xc74*-0x1]===_0x15f925[0x1*0xea2+0x1090+-0x1f2b]&&_0x3b43ca[0x350+0x1*-0x131+0x6b*-0x5]===_0x15f925[0x7f*-0x25+0xea4+-0x89*-0x7];}['isIdentity'](){const _0x1260f7=this['data'];return _0x1260f7[0x1094+-0x1*-0x2e1+-0x1375*0x1]===0x16*-0x94+0x1ce5+0x45*-0x3c&&_0x1260f7[-0x7c8+0x1964+-0x119b*0x1]===-0x1bb6+0xb1*0x26+-0x2*-0xb8&&_0x1260f7[0x10*-0x1e1+0x409*-0x1+0x221b]===-0x1d65*0x1+-0x1*-0x24bb+0x3ab*-0x2&&_0x1260f7[-0x21c*0x9+0x1df3+0x4*-0x2bd]===-0xf1a*-0x1+0xd21*0x1+-0x1c3b&&_0x1260f7[-0x1*-0x26b8+0x241b+-0x4acf]===-0x1d87+0x1fc8+-0x240&&_0x1260f7[0xd42*-0x1+-0x468+0x1*0x11af]===-0x1a*-0x15d+0x22c7+-0x4639&&_0x1260f7[0x7bf+-0x240b*-0x1+-0x1*0x2bc4]===0x14d8+0x18f1+-0x2dc9&&_0x1260f7[0x328+-0x57*0x56+-0x1a19*-0x1]===0xb*-0x2f0+0xe38+-0x182*-0xc&&_0x1260f7[0x16b3+-0x4*-0x35c+0x241b*-0x1]===-0x2*0xc19+-0xd9+-0xe5*-0x1c;}['setIdentit'+'y'](){const _0x27f2d1=this['data'];return _0x27f2d1[0x3b3*0x5+-0x1dc8+-0x1b*-0x6b]=0x5bf+0x6f1*-0x5+0x1cf7,_0x27f2d1[0x909+-0x79d+-0x16b]=0x23b*-0x5+-0x71a+0x1241*0x1,_0x27f2d1[0x18ca+-0x2467*0x1+0xb9f]=-0x2693+0x122a+0x1469,_0x27f2d1[-0x2*0x12f6+0x1757+0xe98]=-0x1db7+-0x75*0xe+0xd7*0x2b,_0x27f2d1[-0x90a+-0x943*-0x4+-0x1bfe*0x1]=0x18eb+-0x1460+0xe*-0x53,_0x27f2d1[0x77e+0xa6*0x31+-0xd15*0x3]=-0x23b5+0x10c0+0x12f5*0x1,_0x27f2d1[-0xc43+-0xe46+0x1a8f]=-0x4*-0x7+0x1d*-0x43+0x17f*0x5,_0x27f2d1[-0x1c33+-0x90d+0x1*0x2547]=-0x71*-0x1d+-0x3*0x702+0x1*0x839,_0x27f2d1[-0x1*-0xeb7+0xe90+-0x1d3f*0x1]=0x47*-0x63+-0x5a1+0x2117,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x181440=this){const _0x3709ea=_0x181440['data'],_0x1aedd0=this['data'];if(_0x3709ea===_0x1aedd0){let _0xe1663f;_0xe1663f=_0x3709ea[-0x265*0xc+0x1bb+0xd81*0x2],_0x1aedd0[0x16fa+0x96c+-0x2065*0x1]=_0x3709ea[-0x103a+0xe9*0x10+-0xb*-0x27],_0x1aedd0[-0x2*0xcbf+0x1af6+0x1*-0x175]=_0xe1663f,_0xe1663f=_0x3709ea[0x20c0+-0x1613+-0xaab],_0x1aedd0[-0xc46+-0x2240+0x2e88]=_0x3709ea[-0x34*-0x46+-0x19*-0x1+-0xe4b],_0x1aedd0[-0x563+0x3e*0x7+0x3b7*0x1]=_0xe1663f,_0xe1663f=_0x3709ea[0x1ef1+0x37f*-0xb+-0x283*-0x3],_0x1aedd0[0x16f7*-0x1+-0x56*0x2e+0xc*0x334]=_0x3709ea[0x644+0x17f1*-0x1+0x11b4],_0x1aedd0[-0x7da+0x22ed+-0x3*0x904]=_0xe1663f;}else _0x1aedd0[-0x4*-0x371+-0x418+-0x26b*0x4]=_0x3709ea[0x3*0x8cd+0x19b3+-0x341a],_0x1aedd0[0x1907+-0x389+-0x157d]=_0x3709ea[-0x3*-0x9e5+0x245d*-0x1+0x6b1],_0x1aedd0[0xe3b+-0x230a+0x14d1*0x1]=_0x3709ea[-0xf6e+0x1d*0x13d+0x1475*-0x1],_0x1aedd0[0x2*0x2eb+-0xa26+0x453]=_0x3709ea[0x9d7+-0x245*0x9+0xa97],_0x1aedd0[0x3c3*0x7+0x19fe+-0x344f]=_0x3709ea[0xa13+-0x549+-0x263*0x2],_0x1aedd0[0x1f25+-0xeb*-0x7+-0x258d]=_0x3709ea[-0x146f+-0xfec+-0x2462*-0x1],_0x1aedd0[-0x2*0xdf3+-0x1*0x1724+0x3310]=_0x3709ea[0x3d*0x23+-0x1513+0xcbe],_0x1aedd0[-0x337*0x3+0x25b1+0x3*-0x957]=_0x3709ea[0x513*0x7+0x378+-0x26f8],_0x1aedd0[0x1*-0x14a6+-0x20a1+0x354f]=_0x3709ea[-0x23*0x44+0xfec+-0x698];return this;}['setFromMat'+'4'](_0x27c26e){const _0x1fa99a=_0x27c26e['data'],_0x46ad8d=this['data'];return _0x46ad8d[-0x1*0x204d+-0x6ed+-0x139d*-0x2]=_0x1fa99a[0x2517+-0x1*0xe03+0x5c5*-0x4],_0x46ad8d[0x113+0x77f+-0x891]=_0x1fa99a[-0x244d+-0x1*0x23c9+0x4817],_0x46ad8d[0xd64+0x1*0x202e+-0x2d90]=_0x1fa99a[0x18ba+0x121+-0x19d9],_0x46ad8d[0x2404+0x1406+0x12ad*-0x3]=_0x1fa99a[0x1636+-0x83*0x27+-0x23d],_0x46ad8d[-0x2177+0x14*-0xa+0xb3*0x31]=_0x1fa99a[-0x105b+-0x8cc+0x12*0x166],_0x46ad8d[0x2*-0xbb5+-0xd*0x244+-0x3*-0x11a1]=_0x1fa99a[-0x1e5b+-0x1*0x10bf+0x2f20],_0x46ad8d[-0x781+-0x82b+0xfb2]=_0x1fa99a[-0xfe*-0xf+0x1681*0x1+-0x255b],_0x46ad8d[-0x2b0+0x26b0+-0x23f9]=_0x1fa99a[0x21dd+-0x22b1+-0x1*-0xdd],_0x46ad8d[0xa1*0x3a+0x1b3b+-0x3fad]=_0x1fa99a[0xc6+0xb2a*-0x2+-0xacc*-0x2],this;}['setFromQua'+'t'](_0x34d24a){const _0x1dc3d3=_0x34d24a['x'],_0x2289d9=_0x34d24a['y'],_0x731e53=_0x34d24a['z'],_0x3b949c=_0x34d24a['w'],_0x3f83c7=_0x1dc3d3+_0x1dc3d3,_0x2986e3=_0x2289d9+_0x2289d9,_0x5332ee=_0x731e53+_0x731e53,_0x4cb35b=_0x1dc3d3*_0x3f83c7,_0x11b3af=_0x1dc3d3*_0x2986e3,_0x31a134=_0x1dc3d3*_0x5332ee,_0x2e49bf=_0x2289d9*_0x2986e3,_0x365856=_0x2289d9*_0x5332ee,_0x3bc50e=_0x731e53*_0x5332ee,_0x16a564=_0x3b949c*_0x3f83c7,_0x207a0f=_0x3b949c*_0x2986e3,_0x49db28=_0x3b949c*_0x5332ee,_0x317ffc=this['data'];return _0x317ffc[0x1*-0xa39+-0x1a*0x13a+0x2a1d]=0x3c8*0x8+0x13*0x87+0xa11*-0x4-(_0x2e49bf+_0x3bc50e),_0x317ffc[0x89*0x2e+-0x65*0x56+-0x1*-0x951]=_0x11b3af+_0x49db28,_0x317ffc[-0xe81*-0x1+-0x1*0x1772+0x4f*0x1d]=_0x31a134-_0x207a0f,_0x317ffc[-0x1*0x8bc+-0x187*0x13+0x971*0x4]=_0x11b3af-_0x49db28,_0x317ffc[0x10*0x25+-0x21b7+0x1f6b]=-0x11*-0x233+0x1f*0x6f+-0x32d3-(_0x4cb35b+_0x3bc50e),_0x317ffc[0x1a64+0x1689+-0x1*0x30e8]=_0x365856+_0x16a564,_0x317ffc[-0xc9a+-0x5*-0x78+0xa48]=_0x31a134+_0x207a0f,_0x317ffc[0x6d0*0x4+-0x15af+-0x58a]=_0x365856-_0x16a564,_0x317ffc[0x1*0x8bd+-0x10c*0x3+-0x591]=-0x1*-0x1bae+0x25f9*0x1+0xaf1*-0x6-(_0x4cb35b+_0x2e49bf),this;}['invertMat4'](_0x295d96){const _0x17051d=_0x295d96['data'],_0x46d50b=_0x17051d[-0x228+0xf73+-0x29*0x53],_0x4688b7=_0x17051d[0x188+0x23f0*-0x1+-0x17f*-0x17],_0x914974=_0x17051d[0x1*-0x1c0a+0x26*0x7a+0x3*0x350],_0x4e3ae0=_0x17051d[-0x1*0x26d2+-0x1d94+0x446a],_0x5820bf=_0x17051d[0x296+0x1c01+-0x1e92],_0x2dfa3b=_0x17051d[-0x264e+0x1*0x1b65+0xaef],_0x2515bf=_0x17051d[-0x263f*0x1+0xc29+0x1a1e],_0x1911a0=_0x17051d[-0x1917+-0x2*-0xede+-0x49c],_0x2a76e2=_0x17051d[0x16*0x17b+-0x4bb*0x8+-0x28*-0x22],_0xed116c=_0x2a76e2*_0x5820bf-_0x2dfa3b*_0x1911a0,_0x230375=-_0x2a76e2*_0x4688b7+_0x914974*_0x1911a0,_0x450786=_0x2dfa3b*_0x4688b7-_0x914974*_0x5820bf,_0x5225ba=-_0x2a76e2*_0x4e3ae0+_0x2dfa3b*_0x2515bf,_0x35103a=_0x2a76e2*_0x46d50b-_0x914974*_0x2515bf,_0x2638f9=-_0x2dfa3b*_0x46d50b+_0x914974*_0x4e3ae0,_0xa9de7a=_0x1911a0*_0x4e3ae0-_0x5820bf*_0x2515bf,_0x2f7b20=-_0x1911a0*_0x46d50b+_0x4688b7*_0x2515bf,_0x36fc78=_0x5820bf*_0x46d50b-_0x4688b7*_0x4e3ae0,_0x5134d3=_0x46d50b*_0xed116c+_0x4688b7*_0x5225ba+_0x914974*_0xa9de7a;if(_0x5134d3===0x4d6+-0x4c3+0x13*-0x1)this['setIdentit'+'y']();else{const _0xab95e7=(0xa45+0x1acd*-0x1+-0x3*-0x583)/_0x5134d3,_0x2207ee=this['data'];_0x2207ee[-0x1*-0x669+-0x13df+0xd76]=_0xed116c*_0xab95e7,_0x2207ee[-0x1896+-0x1d4d+0x4*0xd79]=_0x230375*_0xab95e7,_0x2207ee[0x22b0+0xc8*-0x26+-0x4fe]=_0x450786*_0xab95e7,_0x2207ee[-0x20de+-0x2*0x431+0x7*0x5e5]=_0x5225ba*_0xab95e7,_0x2207ee[-0x641*-0x2+0x3*0x1de+-0x1218]=_0x35103a*_0xab95e7,_0x2207ee[-0xafe+0xe*-0x76+0x107*0x11]=_0x2638f9*_0xab95e7,_0x2207ee[0x1*0x1bfe+-0x8f9+-0x655*0x3]=_0xa9de7a*_0xab95e7,_0x2207ee[-0xec2+-0xb9d*-0x2+-0x871]=_0x2f7b20*_0xab95e7,_0x2207ee[-0x20bf+-0x224c+-0xdf*-0x4d]=_0x36fc78*_0xab95e7;}return this;}['transformV'+'ector'](_0x49dc34,_0x3c92d5=new D()){const _0x2f5594=this['data'],{x:_0x35eb96,y:_0x25ae0a,z:_0x5d12a5}=_0x49dc34;return _0x3c92d5['x']=_0x35eb96*_0x2f5594[-0x1047+-0x323*-0x3+0x2*0x36f]+_0x25ae0a*_0x2f5594[-0x1*-0x24f5+-0x72f+-0x1dc3]+_0x5d12a5*_0x2f5594[-0x105f+0x1f80+-0xf1b],_0x3c92d5['y']=_0x35eb96*_0x2f5594[-0x2f*0x1f+0x25d2+-0x404*0x8]+_0x25ae0a*_0x2f5594[0xc7d*-0x2+0x9d9*0x1+-0x1*-0xf25]+_0x5d12a5*_0x2f5594[-0xc*0x1e5+-0x1765+0x2e28],_0x3c92d5['z']=_0x35eb96*_0x2f5594[-0x2077*0x1+0x1c4+0x1eb5*0x1]+_0x25ae0a*_0x2f5594[-0x20*0x82+0x2*-0xd1d+0x17*0x1d9]+_0x5d12a5*_0x2f5594[0x19f4+-0x251*0x2+-0x154a],_0x3c92d5;}};h(gn,'IDENTITY',Object['freeze'](new gn())),h(gn,'ZERO',Object['freeze'](new gn()['set']([-0x8*-0x211+0x112b+-0x21b3,-0x1bbc+0x1*-0x1b5+0x1d71,0xb*-0x79+-0x1e32+0x2365,-0x1bbf*0x1+0xcd7*-0x1+-0x5*-0x81e,0x1447+0x2383+-0x182*0x25,0xca*0x1d+-0x724*-0x3+-0x2c4e,-0x1*0x225d+0xe18+0x1445,-0x97*0x10+0xe1c+-0x4ac,-0x6eb*-0x1+-0x8*-0xb8+-0x1*0xcab])));let _i=gn;const Gt=class Gt{constructor(_0x356751=0xb*-0x18d+0x35c*0x8+-0x9d1,_0x14afbb=0x15b+0x7db+-0x936){h(this,'x'),h(this,'y'),_0x356751['length']===0x1e2f*-0x1+0x7ed*0x4+-0x183?(this['x']=_0x356751[0x1acb+0x59*0x66+-0x3e41],this['y']=_0x356751[0x20c3+-0x1b*-0x15+-0x22f9]):(this['x']=_0x356751,this['y']=_0x14afbb);}['add'](_0x24a75f){return this['x']+=_0x24a75f['x'],this['y']+=_0x24a75f['y'],this;}['add2'](_0x23b947,_0x51ec65){return this['x']=_0x23b947['x']+_0x51ec65['x'],this['y']=_0x23b947['y']+_0x51ec65['y'],this;}['addScalar'](_0x176302){return this['x']+=_0x176302,this['y']+=_0x176302,this;}['addScaled'](_0x1f3cb0,_0x516cd1){return this['x']+=_0x1f3cb0['x']*_0x516cd1,this['y']+=_0x1f3cb0['y']*_0x516cd1,this;}['clone'](){const _0x550fb8=this['constructo'+'r'];return new _0x550fb8(this['x'],this['y']);}['copy'](_0x54bf3a){return this['x']=_0x54bf3a['x'],this['y']=_0x54bf3a['y'],this;}['cross'](_0x377801){return this['x']*_0x377801['y']-this['y']*_0x377801['x'];}['distance'](_0x496b5e){const _0x36def5=this['x']-_0x496b5e['x'],_0x16a071=this['y']-_0x496b5e['y'];return Math['sqrt'](_0x36def5*_0x36def5+_0x16a071*_0x16a071);}['div'](_0x2ff194){return this['x']/=_0x2ff194['x'],this['y']/=_0x2ff194['y'],this;}['div2'](_0x2e9ea4,_0x49f98c){return this['x']=_0x2e9ea4['x']/_0x49f98c['x'],this['y']=_0x2e9ea4['y']/_0x49f98c['y'],this;}['divScalar'](_0x3270f5){return this['x']/=_0x3270f5,this['y']/=_0x3270f5,this;}['dot'](_0x14cbcc){return this['x']*_0x14cbcc['x']+this['y']*_0x14cbcc['y'];}['equals'](_0x242f40){return this['x']===_0x242f40['x']&&this['y']===_0x242f40['y'];}['equalsAppr'+'ox'](_0x402528,_0x288f35=0x1b5d+-0x1*0x9a7+0x1*-0x11b6+0.000001){return Math['abs'](this['x']-_0x402528['x'])<_0x288f35&&Math['abs'](this['y']-_0x402528['y'])<_0x288f35;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x138c82,_0x37a6fd,_0x358b61){return this['x']=_0x138c82['x']+_0x358b61*(_0x37a6fd['x']-_0x138c82['x']),this['y']=_0x138c82['y']+_0x358b61*(_0x37a6fd['y']-_0x138c82['y']),this;}['mul'](_0x15309f){return this['x']*=_0x15309f['x'],this['y']*=_0x15309f['y'],this;}['mul2'](_0x5ce23e,_0x57ad4c){return this['x']=_0x5ce23e['x']*_0x57ad4c['x'],this['y']=_0x5ce23e['y']*_0x57ad4c['y'],this;}['mulScalar'](_0x525d0c){return this['x']*=_0x525d0c,this['y']*=_0x525d0c,this;}['normalize'](_0x1cc077=this){const _0x18d77d=_0x1cc077['x']*_0x1cc077['x']+_0x1cc077['y']*_0x1cc077['y'];if(_0x18d77d>-0x18f*-0x17+-0x11a0+0x1*-0x1239){const _0x237a20=(0x8e*0x26+-0x14c5+0x6*-0xd)/Math['sqrt'](_0x18d77d);this['x']=_0x1cc077['x']*_0x237a20,this['y']=_0x1cc077['y']*_0x237a20;}return this;}['rotate'](_0x3466f1){const _0x1e10fd=Math['atan2'](this['x'],this['y'])+_0x3466f1*Y['DEG_TO_RAD'],_0x3d7cbf=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x1e10fd)*_0x3d7cbf,this['y']=Math['cos'](_0x1e10fd)*_0x3d7cbf,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*Y['RAD_TO_DEG'];}['angleTo'](_0x4949e2){return Math['atan2'](this['x']*_0x4949e2['y']+this['y']*_0x4949e2['x'],this['x']*_0x4949e2['x']+this['y']*_0x4949e2['y'])*Y['RAD_TO_DEG'];}['floor'](_0x5accda=this){return this['x']=Math['floor'](_0x5accda['x']),this['y']=Math['floor'](_0x5accda['y']),this;}['ceil'](_0x5690de=this){return this['x']=Math['ceil'](_0x5690de['x']),this['y']=Math['ceil'](_0x5690de['y']),this;}['round'](_0x4cd61d=this){return this['x']=Math['round'](_0x4cd61d['x']),this['y']=Math['round'](_0x4cd61d['y']),this;}['min'](_0x16ac16){return _0x16ac16['x']<this['x']&&(this['x']=_0x16ac16['x']),_0x16ac16['y']<this['y']&&(this['y']=_0x16ac16['y']),this;}['max'](_0x3fd064){return _0x3fd064['x']>this['x']&&(this['x']=_0x3fd064['x']),_0x3fd064['y']>this['y']&&(this['y']=_0x3fd064['y']),this;}['set'](_0x82aae2,_0x389f3a){return this['x']=_0x82aae2,this['y']=_0x389f3a,this;}['sub'](_0x469691){return this['x']-=_0x469691['x'],this['y']-=_0x469691['y'],this;}['sub2'](_0x50d54d,_0x352556){return this['x']=_0x50d54d['x']-_0x352556['x'],this['y']=_0x50d54d['y']-_0x352556['y'],this;}['subScalar'](_0x51a654){return this['x']-=_0x51a654,this['y']-=_0x51a654,this;}['fromArray'](_0x2af1fd,_0x19992c=-0x376*-0x1+-0x1952*0x1+-0x4*-0x577){return this['x']=_0x2af1fd[_0x19992c]??this['x'],this['y']=_0x2af1fd[_0x19992c+(-0x24f3+0x1*0x24fb+-0x7*0x1)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x48762e=[],_0x5376e1=-0xae1+-0x3*0xb99+-0x16d6*-0x2){return _0x48762e[_0x5376e1]=this['x'],_0x48762e[_0x5376e1+(-0xbda*-0x2+0x1ee1+0x4*-0xda5)]=this['y'],_0x48762e;}static['angleRad'](_0x18ea4b,_0x3581fd){return Math['atan2'](_0x18ea4b['x']*_0x3581fd['y']-_0x18ea4b['y']*_0x3581fd['x'],_0x18ea4b['x']*_0x3581fd['x']+_0x18ea4b['y']*_0x3581fd['y']);}};h(Gt,'ZERO',Object['freeze'](new Gt(0x7*0x65+-0x35*-0x7f+0x2*-0xe87,0x49*-0x53+0x37*-0xa7+0x3b8c))),h(Gt,'HALF',Object['freeze'](new Gt(-0xa6d+-0x8eb*0x1+-0x26b*-0x8+0.5,-0x17b+-0x20f2+0x1*0x226d+0.5))),h(Gt,'ONE',Object['freeze'](new Gt(-0xa*0x31d+0x1990+0x593,-0xce5+-0x17*-0x62+-0x2*-0x20c))),h(Gt,'UP',Object['freeze'](new Gt(-0x1838+0x11d9+0x65f*0x1,-0x236d+0x49d+-0x31*-0xa1))),h(Gt,'DOWN',Object['freeze'](new Gt(-0xe64+0x2642+-0x17de,-(-0x8bc+-0x166*-0x1+0x757)))),h(Gt,'RIGHT',Object['freeze'](new Gt(0x236f+0xeb*-0x3+0x689*-0x5,0x128d+-0x1ee8+-0x1*-0xc5b))),h(Gt,'LEFT',Object['freeze'](new Gt(-(0xe*0x218+-0x1d41+-0xe),0x2e6*0x1+-0x150b*0x1+0x1*0x1225)));let J=Gt;const pr=class pr{constructor(_0x2fddd1=0xa4*0x24+-0x102c+0x31*-0x24,_0x309791=-0x1a*0xc7+0x6a7+0xd8f,_0x904916=-0x1*-0x146f+-0x21fe+0xd8f,_0x72f411=-0x55*-0x53+-0x1b46+-0x49){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0x2fddd1['length']===-0x11fe+0x25*-0x19+0x159f?(this['x']=_0x2fddd1[-0x11*-0x27+0x52a+0x1*-0x7c1],this['y']=_0x2fddd1[0x1495*-0x1+0xef7*0x1+0x59f],this['z']=_0x2fddd1[-0x89*-0x11+-0xd8b*-0x1+-0xb51*0x2],this['w']=_0x2fddd1[0x2bc+0x3e*0x9e+0x5db*-0x7]):(this['x']=_0x2fddd1,this['y']=_0x309791,this['z']=_0x904916,this['w']=_0x72f411);}['add'](_0x17d2d7){return this['x']+=_0x17d2d7['x'],this['y']+=_0x17d2d7['y'],this['z']+=_0x17d2d7['z'],this['w']+=_0x17d2d7['w'],this;}['add2'](_0x2f5591,_0x45d544){return this['x']=_0x2f5591['x']+_0x45d544['x'],this['y']=_0x2f5591['y']+_0x45d544['y'],this['z']=_0x2f5591['z']+_0x45d544['z'],this['w']=_0x2f5591['w']+_0x45d544['w'],this;}['addScalar'](_0x53b9ca){return this['x']+=_0x53b9ca,this['y']+=_0x53b9ca,this['z']+=_0x53b9ca,this['w']+=_0x53b9ca,this;}['addScaled'](_0x2862ac,_0x5b2289){return this['x']+=_0x2862ac['x']*_0x5b2289,this['y']+=_0x2862ac['y']*_0x5b2289,this['z']+=_0x2862ac['z']*_0x5b2289,this['w']+=_0x2862ac['w']*_0x5b2289,this;}['clone'](){const _0x287f56=this['constructo'+'r'];return new _0x287f56(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x30e73c){return this['x']=_0x30e73c['x'],this['y']=_0x30e73c['y'],this['z']=_0x30e73c['z'],this['w']=_0x30e73c['w'],this;}['div'](_0xa6e841){return this['x']/=_0xa6e841['x'],this['y']/=_0xa6e841['y'],this['z']/=_0xa6e841['z'],this['w']/=_0xa6e841['w'],this;}['div2'](_0x5948f9,_0x739edd){return this['x']=_0x5948f9['x']/_0x739edd['x'],this['y']=_0x5948f9['y']/_0x739edd['y'],this['z']=_0x5948f9['z']/_0x739edd['z'],this['w']=_0x5948f9['w']/_0x739edd['w'],this;}['divScalar'](_0x4a9756){return this['x']/=_0x4a9756,this['y']/=_0x4a9756,this['z']/=_0x4a9756,this['w']/=_0x4a9756,this;}['dot'](_0x527ea8){return this['x']*_0x527ea8['x']+this['y']*_0x527ea8['y']+this['z']*_0x527ea8['z']+this['w']*_0x527ea8['w'];}['equals'](_0x2c9dfe){return this['x']===_0x2c9dfe['x']&&this['y']===_0x2c9dfe['y']&&this['z']===_0x2c9dfe['z']&&this['w']===_0x2c9dfe['w'];}['equalsAppr'+'ox'](_0x331693,_0x4a580a=-0x47*-0x24+0x57*0x1e+0x2e2*-0x7+0.000001){return Math['abs'](this['x']-_0x331693['x'])<_0x4a580a&&Math['abs'](this['y']-_0x331693['y'])<_0x4a580a&&Math['abs'](this['z']-_0x331693['z'])<_0x4a580a&&Math['abs'](this['w']-_0x331693['w'])<_0x4a580a;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0xc5e6f5,_0x1e4c95,_0x442142){return this['x']=_0xc5e6f5['x']+_0x442142*(_0x1e4c95['x']-_0xc5e6f5['x']),this['y']=_0xc5e6f5['y']+_0x442142*(_0x1e4c95['y']-_0xc5e6f5['y']),this['z']=_0xc5e6f5['z']+_0x442142*(_0x1e4c95['z']-_0xc5e6f5['z']),this['w']=_0xc5e6f5['w']+_0x442142*(_0x1e4c95['w']-_0xc5e6f5['w']),this;}['mul'](_0x31299f){return this['x']*=_0x31299f['x'],this['y']*=_0x31299f['y'],this['z']*=_0x31299f['z'],this['w']*=_0x31299f['w'],this;}['mul2'](_0x24e086,_0x50005e){return this['x']=_0x24e086['x']*_0x50005e['x'],this['y']=_0x24e086['y']*_0x50005e['y'],this['z']=_0x24e086['z']*_0x50005e['z'],this['w']=_0x24e086['w']*_0x50005e['w'],this;}['mulScalar'](_0x9a472e){return this['x']*=_0x9a472e,this['y']*=_0x9a472e,this['z']*=_0x9a472e,this['w']*=_0x9a472e,this;}['normalize'](_0x3c4af8=this){const _0xcaf3a0=_0x3c4af8['x']*_0x3c4af8['x']+_0x3c4af8['y']*_0x3c4af8['y']+_0x3c4af8['z']*_0x3c4af8['z']+_0x3c4af8['w']*_0x3c4af8['w'];if(_0xcaf3a0>-0x1f1f+-0x8f4+-0x1*-0x2813){const _0x419686=(-0x22*0xb9+-0x1330+0x293*0x11)/Math['sqrt'](_0xcaf3a0);this['x']=_0x3c4af8['x']*_0x419686,this['y']=_0x3c4af8['y']*_0x419686,this['z']=_0x3c4af8['z']*_0x419686,this['w']=_0x3c4af8['w']*_0x419686;}return this;}['floor'](_0x4662a0=this){return this['x']=Math['floor'](_0x4662a0['x']),this['y']=Math['floor'](_0x4662a0['y']),this['z']=Math['floor'](_0x4662a0['z']),this['w']=Math['floor'](_0x4662a0['w']),this;}['ceil'](_0x563716=this){return this['x']=Math['ceil'](_0x563716['x']),this['y']=Math['ceil'](_0x563716['y']),this['z']=Math['ceil'](_0x563716['z']),this['w']=Math['ceil'](_0x563716['w']),this;}['round'](_0x319a74=this){return this['x']=Math['round'](_0x319a74['x']),this['y']=Math['round'](_0x319a74['y']),this['z']=Math['round'](_0x319a74['z']),this['w']=Math['round'](_0x319a74['w']),this;}['min'](_0x2e1de2){return _0x2e1de2['x']<this['x']&&(this['x']=_0x2e1de2['x']),_0x2e1de2['y']<this['y']&&(this['y']=_0x2e1de2['y']),_0x2e1de2['z']<this['z']&&(this['z']=_0x2e1de2['z']),_0x2e1de2['w']<this['w']&&(this['w']=_0x2e1de2['w']),this;}['max'](_0x372d07){return _0x372d07['x']>this['x']&&(this['x']=_0x372d07['x']),_0x372d07['y']>this['y']&&(this['y']=_0x372d07['y']),_0x372d07['z']>this['z']&&(this['z']=_0x372d07['z']),_0x372d07['w']>this['w']&&(this['w']=_0x372d07['w']),this;}['set'](_0x41f7a2,_0x29decb,_0x110bb8,_0x1e55bc){return this['x']=_0x41f7a2,this['y']=_0x29decb,this['z']=_0x110bb8,this['w']=_0x1e55bc,this;}['sub'](_0xf6f51c){return this['x']-=_0xf6f51c['x'],this['y']-=_0xf6f51c['y'],this['z']-=_0xf6f51c['z'],this['w']-=_0xf6f51c['w'],this;}['sub2'](_0x89b76c,_0x4dad47){return this['x']=_0x89b76c['x']-_0x4dad47['x'],this['y']=_0x89b76c['y']-_0x4dad47['y'],this['z']=_0x89b76c['z']-_0x4dad47['z'],this['w']=_0x89b76c['w']-_0x4dad47['w'],this;}['subScalar'](_0x2b5e8d){return this['x']-=_0x2b5e8d,this['y']-=_0x2b5e8d,this['z']-=_0x2b5e8d,this['w']-=_0x2b5e8d,this;}['fromArray'](_0x5153e1,_0x1e57de=-0x90+-0x405*-0x1+-0x375){return this['x']=_0x5153e1[_0x1e57de]??this['x'],this['y']=_0x5153e1[_0x1e57de+(-0x799*-0x1+-0x24ca+0x1d32)]??this['y'],this['z']=_0x5153e1[_0x1e57de+(-0x955*0x1+0x14b*-0x1+0xaa2*0x1)]??this['z'],this['w']=_0x5153e1[_0x1e57de+(-0x16f3+0x4ff*0x2+-0xcf8*-0x1)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x2db626=[],_0x409843=-0x1*-0x254c+0x16b+-0x26b7){return _0x2db626[_0x409843]=this['x'],_0x2db626[_0x409843+(-0x19b+-0x4f0+-0x2*-0x346)]=this['y'],_0x2db626[_0x409843+(0x1f1b+-0x2113*0x1+0xb*0x2e)]=this['z'],_0x2db626[_0x409843+(-0x1376+0x2a0+0x10d9)]=this['w'],_0x2db626;}};h(pr,'ZERO',Object['freeze'](new pr(-0x3*0x296+-0x26b7+0x2e79,0x5d*-0x35+0x1518+-0x1d7,0x548*0x5+0x22ba+-0x3d22,-0x1a*-0xbc+0x4fd+-0x3*0x807))),h(pr,'HALF',Object['freeze'](new pr(-0x17*0xe7+0x660*0x3+0x1a1+0.5,0x2*0x379+-0x1c7f+0x158d+0.5,0xd33+0x4b*0x40+0x1*-0x1ff3+0.5,0xcf*-0x25+0x1daf+-0xf*-0x4+0.5))),h(pr,'ONE',Object['freeze'](new pr(0x1bb8*0x1+0x23c7+-0x12*0x387,0xc18+0x1d76+-0x298d,-0x11cf+0x1*-0x1223+0x23f3,0x1*-0xde7+0x98+0x238*0x6)));let re=pr;const to=new J(),Os=new D(),Js=new D(),ei=new D(),Hl=new D(),Qr=class Qr{constructor(){h(this,'data',new Float32Array(0x248f+0x1f51*-0x1+-0x52e)),this['data'][0x120f+-0x3*0x962+-0x7b*-0x15]=this['data'][-0x1*-0xae7+0x217+-0xcf9]=this['data'][-0x2*-0xed+0x1*-0x259f+0x23cf]=this['data'][-0x119*0x17+0x218a+-0x7c*0x11]=-0xa4f+0x7*0x4ee+-0x1*0x1832;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0x51be72,_0x5e08f8,_0x4ee37e,_0x57fc5b,_0x4f6e71){_0x4f6e71?(_0x51be72['x']=_0x57fc5b*Math['tan'](_0x5e08f8*Math['PI']/(-0xc60+-0xaa3*0x2+0x1*0x230e)),_0x51be72['y']=_0x51be72['x']/_0x4ee37e):(_0x51be72['y']=_0x57fc5b*Math['tan'](_0x5e08f8*Math['PI']/(0x74e+-0x1188+0xba2)),_0x51be72['x']=_0x51be72['y']*_0x4ee37e);}['add2'](_0x51ef82,_0x187f30){const _0x2732c3=_0x51ef82['data'],_0xe26c01=_0x187f30['data'],_0x29c84c=this['data'];return _0x29c84c[-0x2f3+0x2d*0xd2+0x5*-0x6cb]=_0x2732c3[-0x154d+-0x1a07+0x2f54]+_0xe26c01[0x1755+-0xec*0x19+-0x49],_0x29c84c[0x232c+-0x7a*-0xf+-0x1*0x2a51]=_0x2732c3[0x1c15+0xd35+-0x2949]+_0xe26c01[-0x1ffb+-0x13da+0xa5e*0x5],_0x29c84c[0x10a4+0xfa7*0x1+0x57*-0x5f]=_0x2732c3[-0x5b6*0x6+0xb85+0x16c1]+_0xe26c01[-0x920*0x2+0x22f1+-0x10af],_0x29c84c[-0x35d+-0x1e7d*0x1+0x1*0x21dd]=_0x2732c3[0xbeb+0x221f*0x1+-0x2e07]+_0xe26c01[-0x1*0xecb+0x52f+0x99f],_0x29c84c[0x1920+-0x185b+-0xc1*0x1]=_0x2732c3[0x18fd+-0x1ff+-0x2*0xb7d]+_0xe26c01[-0xf31+-0x1*-0x542+0x9f3],_0x29c84c[0x83c+-0xa79*-0x2+-0x5d5*0x5]=_0x2732c3[-0x165b+0x11d6+0x48a]+_0xe26c01[-0x47*0x1e+0x575*-0x3+-0x2*-0xc5b],_0x29c84c[-0xa0*0x33+-0x1649+-0xb*-0x4ed]=_0x2732c3[-0x4b*-0x27+0x65*0x35+-0x2050]+_0xe26c01[0xdb4+0x9e8+-0x1796],_0x29c84c[0x23e5*-0x1+-0xe4e*-0x1+0x159e]=_0x2732c3[0x1e40+0x1f85+-0x3dbe]+_0xe26c01[0x1399+0x22fd+-0x368f],_0x29c84c[-0x18f5+0xab7*-0x3+0x3922]=_0x2732c3[0x2*-0xca5+0x2*0x932+0x6ee]+_0xe26c01[-0x2630+0x23bc+0x27c*0x1],_0x29c84c[-0x4dc*0x2+0x12*-0x17f+0x24af]=_0x2732c3[0x1*0xde4+-0x2687+0x18ac]+_0xe26c01[-0x269b*0x1+-0x2d0+-0x17b*-0x1c],_0x29c84c[0x1dd8+-0x1d87+-0x1*0x47]=_0x2732c3[0x11ef+0x21da+-0x33bf]+_0xe26c01[-0x15*0x31+-0x1f7e+0x238d],_0x29c84c[0x2*0x4af+-0xd3f*-0x1+-0x1692]=_0x2732c3[0x1eef*0x1+0x2*-0x10a4+0x44*0x9]+_0xe26c01[-0x517+0x188b+0x1369*-0x1],_0x29c84c[0x195d*0x1+0x1c9e+-0x35ef]=_0x2732c3[0x1*0x257c+-0x1475+-0x10fb]+_0xe26c01[0x119d+-0xea0+0xfb*-0x3],_0x29c84c[-0x1*0x23f1+0xd1*0xe+0x2*0xc48]=_0x2732c3[-0x20f*-0x7+-0x17f*0xb+0x1*0x219]+_0xe26c01[0x1859+0x6*-0x565+0x812*0x1],_0x29c84c[-0x23f*-0xb+-0x1*-0x1c8d+-0x2a9*0x14]=_0x2732c3[-0x4*-0x81e+0x12cb*0x1+0x3335*-0x1]+_0xe26c01[0x1*0x4e3+-0x1*0x1b5+-0x32*0x10],_0x29c84c[-0x1*-0xf5a+-0xe63+-0xe8]=_0x2732c3[-0x16*0x17f+0xd05+0x13f4]+_0xe26c01[0x12a2+0x40*0x59+0x7*-0x5d5],this;}['add'](_0x553df1){return this['add2'](this,_0x553df1);}['clone'](){const _0x21695a=this['constructo'+'r'];return new _0x21695a()['copy'](this);}['copy'](_0x323d23){const _0xbeb860=_0x323d23['data'],_0x3b291a=this['data'];return _0x3b291a[0x3*-0x7e+-0x5*0x52c+0x1b56]=_0xbeb860[-0x1493+-0x1*0x10a2+0x2535],_0x3b291a[-0x89*0x2d+0xa53+0xdc3]=_0xbeb860[0x8d4+0x1525*-0x1+0xc52],_0x3b291a[0x7ce+-0x1*-0x377+-0xb43*0x1]=_0xbeb860[-0x2d7+0x1817+-0x153e],_0x3b291a[0x2066*-0x1+-0x576*-0x1+0x1af3]=_0xbeb860[0x7b7+-0x386*0x3+0x16f*0x2],_0x3b291a[0x7*0x18d+-0x89*0x14+0x23*-0x1]=_0xbeb860[0x1bbf*0x1+-0x6e3+-0x14d8],_0x3b291a[0x195d+-0x2*0x102c+0x700]=_0xbeb860[-0x16fc+-0xa36*0x1+-0x2137*-0x1],_0x3b291a[-0x2a2+-0x30f+-0xd1*-0x7]=_0xbeb860[-0x2a5*0x6+-0x7ba+0x179e],_0x3b291a[-0x5*-0x19+0x1534+-0x15aa]=_0xbeb860[-0x3e8*0x4+0x3b1+-0x2*-0x5fb],_0x3b291a[0x9*0x2f9+-0x1646+-0x43*0x11]=_0xbeb860[0x18c7+-0xfd+-0x17c2],_0x3b291a[0x10ee+-0x2*0xb11+-0x1bf*-0x3]=_0xbeb860[-0x2387+-0xde5+0xb*0x47f],_0x3b291a[0x1b35+-0x942+0x7*-0x28f]=_0xbeb860[-0x2017+0xaed+0x2*0xa9a],_0x3b291a[0x22*-0x31+-0x1f4b+0x1c*0x15a]=_0xbeb860[-0xd*0x1+-0x167b+0x1693],_0x3b291a[-0xbff*0x1+-0xea+0xcf5]=_0xbeb860[-0x1c2*-0x15+-0x2340+-0x2*0xcf],_0x3b291a[0x112e+0xb*0x8+-0x1179]=_0xbeb860[0x15a1+-0x1533+0x1*-0x61],_0x3b291a[0x3*-0xbcc+-0x2589+-0x7*-0xa6d]=_0xbeb860[-0x201a+-0x10b*-0xd+0x1299],_0x3b291a[0x5c0+0x8e2+-0xe93]=_0xbeb860[-0x4*0x11f+0x25fb+-0x6b*0x50],this;}['equals'](_0x5b92d2){const _0x27c286=this['data'],_0x4f9cad=_0x5b92d2['data'];return _0x27c286[-0x839+0x35*0x59+0x1*-0xa34]===_0x4f9cad[-0x3e5*0x7+0x25e5+-0x1*0xaa2]&&_0x27c286[0x2185*0x1+-0x202f+-0x155]===_0x4f9cad[-0xbea+-0xd19*0x2+0x261d]&&_0x27c286[-0x139*0x1d+-0x26b0+0x4a27]===_0x4f9cad[-0x3*0x2c5+-0x1419+-0xe35*-0x2]&&_0x27c286[0x1b*0xb+0x2072+0x28*-0xd7]===_0x4f9cad[0x1e28+0x1*0xc77+-0x2a9c]&&_0x27c286[-0xf09+0x95d+0x5b0]===_0x4f9cad[-0x2ff*0x1+-0x13*0x142+0x1ae9]&&_0x27c286[0x1*0x25c7+0x21d*-0xb+-0x2e7*0x5]===_0x4f9cad[0xd*0x267+-0x1637+-0x8ff*0x1]&&_0x27c286[-0x5dc+-0x4e9+0xacb]===_0x4f9cad[0x474*-0x4+-0x2*0x2b8+-0x6*-0x3e1]&&_0x27c286[0x1eb8+0x3fd+-0x22ae]===_0x4f9cad[0x646+0x15cd+-0x1c0c]&&_0x27c286[-0x1640+-0x1*-0x3c7+0x1281]===_0x4f9cad[-0x1c46+0x3e1+-0x1*-0x186d]&&_0x27c286[0x2127+-0x179e*0x1+-0x10*0x98]===_0x4f9cad[-0xedb*0x1+-0x329*0xc+0x34d0]&&_0x27c286[-0x1*0xd4+-0x2376+-0xc*-0x307]===_0x4f9cad[0x1d1b+0x1513+-0x3224]&&_0x27c286[0x1*-0x9f5+-0x4b2*0x4+0x1cc8]===_0x4f9cad[0x44*0x7+0x15c+-0x32d]&&_0x27c286[0x205a+0x1287+-0x32d5]===_0x4f9cad[-0x17a2+0x1199+-0x9*-0xad]&&_0x27c286[0x4d2*-0x8+-0xf3*0x15+0x4e1*0xc]===_0x4f9cad[-0xc21+0x19aa+-0xd7c]&&_0x27c286[-0x1152*-0x1+-0x1952+0x80e]===_0x4f9cad[0x14*-0x1b7+-0x8*0x18a+0x2eaa]&&_0x27c286[0x66a+-0x186b+0x88*0x22]===_0x4f9cad[0x225c+-0x2587+0x7*0x76];}['isIdentity'](){const _0x55c91=this['data'];return _0x55c91[-0x1a64+-0x1b7*-0x10+0x43*-0x4]===0x109d+0x22ad+-0x3349&&_0x55c91[-0x1004+-0x5b*0xa+0x1393*0x1]===-0x25ad+-0x639+0x2be6&&_0x55c91[-0x83*0x45+-0x943+0x3*0xedc]===-0x2*-0x2c3+-0x213+-0x373&&_0x55c91[-0x5bc*0x5+0x41*-0x7f+0x3cee]===0x23d5*-0x1+0x23a7*0x1+0x2e&&_0x55c91[-0xd82+0x97*-0x34+0x1*0x2c32]===-0x24e*0x9+-0x2b*0x97+0x2e1b&&_0x55c91[0x1*-0x642+0x2687+-0x2040]===-0x1c9*0x11+0x1ee2*0x1+0x4*-0x22&&_0x55c91[-0x15f1*-0x1+0xb*-0x2fa+0xad3]===-0x30*-0xcd+0x6*-0x183+-0x1d5e&&_0x55c91[0x6*0x28+0x61f+-0x708]===-0x4d*-0x56+0x1*0xacc+0x1255*-0x2&&_0x55c91[0x3*0xcaa+-0x21af+-0x447]===-0x68f*0x3+0x35*0x92+-0x1*0xa8d&&_0x55c91[-0xe2d+-0x43f*-0x9+-0x1801]===-0x425+-0xf9e+0x13c3&&_0x55c91[-0x9*-0xe3+-0x2178+0x1987]===-0x190c+0x1b6b+-0x2*0x12f&&_0x55c91[-0x503*-0x3+-0xa*0x3b9+0x4*0x58f]===0x122+-0xf76+-0xe*-0x106&&_0x55c91[-0x3e+-0xd0c+-0x6ab*-0x2]===0x71+0x11*-0xa1+-0x20*-0x52&&_0x55c91[0x350+0xf9a+0x1*-0x12dd]===-0x189d*0x1+0x15c*-0x1+0x19f9&&_0x55c91[-0x164*-0xd+-0x414*0x7+0x1c1*0x6]===0x1*0x10f1+-0x15df+-0x2*-0x277&&_0x55c91[-0x1ae2*0x1+0x565*0x3+0x36*0x33]===-0x153*-0x9+0x2ed+-0x1d*0x83;}['mul2'](_0xd0e505,_0x534469){const _0x5d2e75=_0xd0e505['data'],_0x338395=_0x534469['data'],_0x573df1=this['data'],_0x35387f=_0x5d2e75[-0x208a+0x92*0x2+-0x1f66*-0x1],_0x424305=_0x5d2e75[-0x925*0x4+0x1111+-0x9c2*-0x2],_0x5b66eb=_0x5d2e75[-0x79+0x1*-0x5ab+0x2*0x313],_0x2fe29a=_0x5d2e75[0x9e5+-0x2*-0xd75+-0x24cc],_0x56a4bb=_0x5d2e75[0x133*0xf+-0xb0e*0x3+-0x1*-0xf31],_0x20b95d=_0x5d2e75[0x25c*0x7+-0x205e+-0x1*-0xfdf],_0xe55b6=_0x5d2e75[0xaac*-0x1+-0xf28+0x19da],_0x456714=_0x5d2e75[0x909+0x791*-0x5+0x1*0x1cd3],_0x2cb58d=_0x5d2e75[-0x1a26+-0x7*-0x521+-0x1*0x9b9],_0x4a2779=_0x5d2e75[-0x1c*-0xb2+0x16a7+-0x2a16],_0x5143f7=_0x5d2e75[0x2*-0x1237+0x52*-0x67+0x2*0x22bb],_0x47c74a=_0x5d2e75[0x1*0xbf6+-0x16c7+0xadc],_0x1efc6b=_0x5d2e75[0x35e*-0x8+-0x1*-0x2ff+-0x45*-0x59],_0x30e7ff=_0x5d2e75[-0x72*0x8+0x2fc+0xa1*0x1],_0x2b6a95=_0x5d2e75[0x1*0x22dc+0x1*0x13c3+-0x3691],_0x250b1a=_0x5d2e75[0x1d38+0x2462+0x165*-0x2f];let _0xdab4c9,_0x98f144,_0x5b68cc,_0x4b6143;return _0xdab4c9=_0x338395[0x6f*0x42+0x1ec1*0x1+-0x3b5f],_0x98f144=_0x338395[-0xb90+0x1ce8+-0x1157],_0x5b68cc=_0x338395[0x8c*-0x4+0x1453+0x33*-0x5b],_0x4b6143=_0x338395[-0x71d*-0x4+0x1c19*0x1+-0x388a],_0x573df1[0x1a0a+-0x45*-0x3+0x3*-0x8f3]=_0x35387f*_0xdab4c9+_0x56a4bb*_0x98f144+_0x2cb58d*_0x5b68cc+_0x1efc6b*_0x4b6143,_0x573df1[0x24d+0x20ff+0xd*-0x2b7]=_0x424305*_0xdab4c9+_0x20b95d*_0x98f144+_0x4a2779*_0x5b68cc+_0x30e7ff*_0x4b6143,_0x573df1[0xa6*0xa+0x10*0x1f2+0x2*-0x12cd]=_0x5b66eb*_0xdab4c9+_0xe55b6*_0x98f144+_0x5143f7*_0x5b68cc+_0x2b6a95*_0x4b6143,_0x573df1[-0x26e0+0x7*-0x567+0x4cb4]=_0x2fe29a*_0xdab4c9+_0x456714*_0x98f144+_0x47c74a*_0x5b68cc+_0x250b1a*_0x4b6143,_0xdab4c9=_0x338395[0x65b*0x1+-0x7a7*0x5+0x7fb*0x4],_0x98f144=_0x338395[0x3*0x1b+-0x1a*-0xfe+-0x1a18],_0x5b68cc=_0x338395[-0x132*0x7+0x1b0d+-0x12a9],_0x4b6143=_0x338395[-0x1*-0x1a02+0x324+-0x1d1f],_0x573df1[-0x1*0x3bf+0xbd8+-0x815*0x1]=_0x35387f*_0xdab4c9+_0x56a4bb*_0x98f144+_0x2cb58d*_0x5b68cc+_0x1efc6b*_0x4b6143,_0x573df1[0x113e+0xb96+0x127*-0x19]=_0x424305*_0xdab4c9+_0x20b95d*_0x98f144+_0x4a2779*_0x5b68cc+_0x30e7ff*_0x4b6143,_0x573df1[0x563*0x2+0x97*0x2b+-0x241d]=_0x5b66eb*_0xdab4c9+_0xe55b6*_0x98f144+_0x5143f7*_0x5b68cc+_0x2b6a95*_0x4b6143,_0x573df1[0x509+-0x99*-0x1+-0x59b]=_0x2fe29a*_0xdab4c9+_0x456714*_0x98f144+_0x47c74a*_0x5b68cc+_0x250b1a*_0x4b6143,_0xdab4c9=_0x338395[0x27c+0x215c+-0x23d0],_0x98f144=_0x338395[-0xc11+-0x2*-0xbe7+-0xbb4],_0x5b68cc=_0x338395[0x163d+0x106e*-0x1+-0x5c5],_0x4b6143=_0x338395[0x2*0x982+0x5*-0x1d3+-0x9da],_0x573df1[0x1308+-0x2492+0x1192]=_0x35387f*_0xdab4c9+_0x56a4bb*_0x98f144+_0x2cb58d*_0x5b68cc+_0x1efc6b*_0x4b6143,_0x573df1[0xd*0x167+-0xc89+0x7*-0xcf]=_0x424305*_0xdab4c9+_0x20b95d*_0x98f144+_0x4a2779*_0x5b68cc+_0x30e7ff*_0x4b6143,_0x573df1[0x29d*-0x3+0x9d7+0x1f6*-0x1]=_0x5b66eb*_0xdab4c9+_0xe55b6*_0x98f144+_0x5143f7*_0x5b68cc+_0x2b6a95*_0x4b6143,_0x573df1[-0x22e9*-0x1+-0xa*0x86+-0x1da2*0x1]=_0x2fe29a*_0xdab4c9+_0x456714*_0x98f144+_0x47c74a*_0x5b68cc+_0x250b1a*_0x4b6143,_0xdab4c9=_0x338395[-0x1*-0x23ab+-0x17a6+-0x265*0x5],_0x98f144=_0x338395[0x390+-0xaf2*-0x3+-0x745*0x5],_0x5b68cc=_0x338395[-0x5*0x5c4+0x262f+-0x94d],_0x4b6143=_0x338395[-0x130e*0x2+-0x419*0x3+0x3276],_0x573df1[-0x6ab*-0x1+0xee*0x13+-0x1849]=_0x35387f*_0xdab4c9+_0x56a4bb*_0x98f144+_0x2cb58d*_0x5b68cc+_0x1efc6b*_0x4b6143,_0x573df1[-0x1954+0x5f9+-0x24*-0x8a]=_0x424305*_0xdab4c9+_0x20b95d*_0x98f144+_0x4a2779*_0x5b68cc+_0x30e7ff*_0x4b6143,_0x573df1[0x2*0x111+0x1f9e+0x21b2*-0x1]=_0x5b66eb*_0xdab4c9+_0xe55b6*_0x98f144+_0x5143f7*_0x5b68cc+_0x2b6a95*_0x4b6143,_0x573df1[0x2a3+-0x21a4+-0x10*-0x1f1]=_0x2fe29a*_0xdab4c9+_0x456714*_0x98f144+_0x47c74a*_0x5b68cc+_0x250b1a*_0x4b6143,this;}['mulAffine2'](_0x1837ee,_0x55e66e){const _0x5767f1=_0x1837ee['data'],_0x20ba90=_0x55e66e['data'],_0xe93b5b=this['data'],_0x291d44=_0x5767f1[0x934+0x6d*0x5b+0x5*-0x997],_0x3ecda8=_0x5767f1[0x97*0x17+0x1*-0x23b0+0x2c4*0x8],_0x3b6e7a=_0x5767f1[0x4*0x19d+-0x1e4e+0x17dc],_0xc8f30d=_0x5767f1[0x1*0x1a11+0x470+-0x619*0x5],_0xb07d9c=_0x5767f1[0xbaf+0x3c0+-0xf6a],_0x11d05d=_0x5767f1[-0x1e02+0x1f33+0x1*-0x12b],_0x1afc51=_0x5767f1[0x1d43+-0xfa3*-0x1+-0x2*0x166f],_0x1db4b2=_0x5767f1[0x1cfd+-0xf45+-0xdaf],_0x3c78e7=_0x5767f1[-0x72b+0xf03+-0x7ce],_0x532377=_0x5767f1[0x3*0x72f+0x17e0+-0x2d61],_0x5089cf=_0x5767f1[-0x9*0x276+0xe71*-0x1+0x5*0x754],_0x110061=_0x5767f1[0x10*0x11+-0x1ae*-0x7+-0xcc4];let _0x10475c,_0x40c7e0,_0x38ea22;return _0x10475c=_0x20ba90[-0x8cc+-0x160d*0x1+0x1ed9],_0x40c7e0=_0x20ba90[-0x1c32+0x1f13+0x8*-0x5c],_0x38ea22=_0x20ba90[0x1c10+-0x356+0xc5c*-0x2],_0xe93b5b[-0x510+-0x16e2+0x1bf2]=_0x291d44*_0x10475c+_0xc8f30d*_0x40c7e0+_0x1afc51*_0x38ea22,_0xe93b5b[0x1*-0xef3+0xeac+0x48]=_0x3ecda8*_0x10475c+_0xb07d9c*_0x40c7e0+_0x1db4b2*_0x38ea22,_0xe93b5b[0x83*0x33+-0xfa0+-0xa77]=_0x3b6e7a*_0x10475c+_0x11d05d*_0x40c7e0+_0x3c78e7*_0x38ea22,_0xe93b5b[-0x162e+0x1c9*-0xd+0x2d66]=-0x232b+-0x1c83+0x3fae,_0x10475c=_0x20ba90[0x1*0x181d+-0x84a+-0xfcf],_0x40c7e0=_0x20ba90[0x5f4+0x1*-0x12a0+-0xcb1*-0x1],_0x38ea22=_0x20ba90[-0x7c9*0x3+-0x7bd*0x1+0x1f1e],_0xe93b5b[0x2e*0x36+0x25f1+-0x2fa1]=_0x291d44*_0x10475c+_0xc8f30d*_0x40c7e0+_0x1afc51*_0x38ea22,_0xe93b5b[-0xcc*0x1a+-0x32b*-0xb+-0xe1c]=_0x3ecda8*_0x10475c+_0xb07d9c*_0x40c7e0+_0x1db4b2*_0x38ea22,_0xe93b5b[0x6ba+-0xd*-0x79+-0xfd*0xd]=_0x3b6e7a*_0x10475c+_0x11d05d*_0x40c7e0+_0x3c78e7*_0x38ea22,_0xe93b5b[0x1a06+0x1774+0x3173*-0x1]=-0x148f+-0xd81+0x2210,_0x10475c=_0x20ba90[-0x1*0x30a+-0x1*-0x97+0x27b*0x1],_0x40c7e0=_0x20ba90[-0x1*0x1bf4+-0x7*-0x295+0x9ea],_0x38ea22=_0x20ba90[0xa95+-0x775*0x1+0x4f*-0xa],_0xe93b5b[-0x35*-0x50+-0x1d2b+0xca3]=_0x291d44*_0x10475c+_0xc8f30d*_0x40c7e0+_0x1afc51*_0x38ea22,_0xe93b5b[0x61*-0x17+0x1b42+0x941*-0x2]=_0x3ecda8*_0x10475c+_0xb07d9c*_0x40c7e0+_0x1db4b2*_0x38ea22,_0xe93b5b[-0x247b+0x2b6*0xb+0x6b3]=_0x3b6e7a*_0x10475c+_0x11d05d*_0x40c7e0+_0x3c78e7*_0x38ea22,_0xe93b5b[-0x1c92*0x1+0x1122+0xb7b]=0x51*0x6c+0x1a5c+-0x3c88,_0x10475c=_0x20ba90[0x4e7*0x2+0x11e1+-0x587*0x5],_0x40c7e0=_0x20ba90[0xb*-0x2f+-0x1a5*-0x7+0x1*-0x971],_0x38ea22=_0x20ba90[-0x2482+-0x25c0+0x2528*0x2],_0xe93b5b[0x1*-0xbc3+-0x5*-0x10d+0x68e]=_0x291d44*_0x10475c+_0xc8f30d*_0x40c7e0+_0x1afc51*_0x38ea22+_0x532377,_0xe93b5b[0x15c9+0x1aae+0x1*-0x306a]=_0x3ecda8*_0x10475c+_0xb07d9c*_0x40c7e0+_0x1db4b2*_0x38ea22+_0x5089cf,_0xe93b5b[0xa+-0x1da8+-0xed6*-0x2]=_0x3b6e7a*_0x10475c+_0x11d05d*_0x40c7e0+_0x3c78e7*_0x38ea22+_0x110061,_0xe93b5b[-0x982*-0x2+0x1405+-0x2*0x137d]=-0x6*-0x31+-0xb38+0xa13,this;}['mul'](_0x4c540b){return this['mul2'](this,_0x4c540b);}['transformP'+'oint'](_0x1742e2,_0x24a5e4=new D()){const _0x15161d=this['data'],{x:_0x4dd4f2,y:_0x4dcb7c,z:_0x2c2cf5}=_0x1742e2;return _0x24a5e4['x']=_0x4dd4f2*_0x15161d[-0xddf+0x83*-0x11+0x1692]+_0x4dcb7c*_0x15161d[0xd4b+-0x1765+-0x172*-0x7]+_0x2c2cf5*_0x15161d[-0x21ce*-0x1+-0x7*-0x58d+-0x1*0x48a1]+_0x15161d[-0x15b5+0x20c1+-0xb00],_0x24a5e4['y']=_0x4dd4f2*_0x15161d[-0x15d0+0xdf*-0x1+0x16b0]+_0x4dcb7c*_0x15161d[0x20ae+-0x1a47+-0x662]+_0x2c2cf5*_0x15161d[0x518+0x597+-0xaa6]+_0x15161d[0x1d07*-0x1+-0xc5+0x11b*0x1b],_0x24a5e4['z']=_0x4dd4f2*_0x15161d[-0x4*0x48f+0x2565+-0x1327]+_0x4dcb7c*_0x15161d[0x2124+-0x210+-0x96*0x35]+_0x2c2cf5*_0x15161d[0x1082+0xaca+-0x1b42]+_0x15161d[-0x1e4a+-0x2e*0x4f+0x2c8a],_0x24a5e4;}['transformV'+'ector'](_0xc7bc4,_0x1cfb13=new D()){const _0x471d83=this['data'],{x:_0x3532e8,y:_0x578d6f,z:_0x525a38}=_0xc7bc4;return _0x1cfb13['x']=_0x3532e8*_0x471d83[-0x1345+0x24e5*0x1+-0x11a0]+_0x578d6f*_0x471d83[-0xb67+-0x2e9*0x4+0x1*0x170f]+_0x525a38*_0x471d83[0x2*-0x127d+-0x77b*0x1+0x2c7d],_0x1cfb13['y']=_0x3532e8*_0x471d83[0xc*-0x2b9+-0x446*-0x2+-0x47*-0x57]+_0x578d6f*_0x471d83[-0x881+-0xb34+0x13ba]+_0x525a38*_0x471d83[0x1b21+-0x1e18+0x2*0x180],_0x1cfb13['z']=_0x3532e8*_0x471d83[-0x1ee9+-0x709*-0x1+0x17e2]+_0x578d6f*_0x471d83[-0x20cf+0x26b3+-0x5de]+_0x525a38*_0x471d83[-0x1*0x1e8f+-0x1*-0xa0d+0x5*0x41c],_0x1cfb13;}['transformV'+'ec4'](_0x3add67,_0x44cfef=new re()){const _0x2fe928=this['data'],{x:_0x519fa5,y:_0x5747ff,z:_0x569545,w:_0x19ff5c}=_0x3add67;return _0x44cfef['x']=_0x519fa5*_0x2fe928[-0x1*0x167e+-0x1*0x665+-0x5c7*-0x5]+_0x5747ff*_0x2fe928[-0x1f6d+0x25bb+-0x64a]+_0x569545*_0x2fe928[0xe91+-0xec1+0x38]+_0x19ff5c*_0x2fe928[0xc83+0x7*0x211+-0x6*0x47d],_0x44cfef['y']=_0x519fa5*_0x2fe928[-0x1a30+-0x22aa+0x9*0x6c3]+_0x5747ff*_0x2fe928[-0x4*-0x1f7+0x4*0x734+0x1*-0x24a7]+_0x569545*_0x2fe928[-0x1083+-0x7b9*0x5+0x3729]+_0x19ff5c*_0x2fe928[-0x2*0xaf3+-0x1346+0x2939],_0x44cfef['z']=_0x519fa5*_0x2fe928[0xc29*-0x1+0x6be+0x56d]+_0x5747ff*_0x2fe928[0x36+-0x1f*-0x67+-0xca9*0x1]+_0x569545*_0x2fe928[-0x4c*0x43+-0x50c+0x8b*0x2e]+_0x19ff5c*_0x2fe928[0x7*0x4cd+0x26a1+-0x482e],_0x44cfef['w']=_0x519fa5*_0x2fe928[0x24ba+0x1*0x1dc4+-0x427b*0x1]+_0x5747ff*_0x2fe928[0x489*0x2+0x22e5+-0x15f8*0x2]+_0x569545*_0x2fe928[-0xbe9+-0x12b+0xd1f]+_0x19ff5c*_0x2fe928[0x117*-0x21+0x81*-0xf+-0x2b95*-0x1],_0x44cfef;}['setLookAt'](_0x469155,_0x3aa8bb,_0x31c6a1){ei['sub2'](_0x469155,_0x3aa8bb)['normalize'](),Js['copy'](_0x31c6a1)['normalize'](),Os['cross'](Js,ei)['normalize'](),Js['cross'](ei,Os);const _0x65a365=this['data'];return _0x65a365[-0x1b31+0x1701*-0x1+0x3232]=Os['x'],_0x65a365[0x16*-0x31+-0x817+0x96*0x15]=Os['y'],_0x65a365[-0x5*0x4b1+-0x1744+0x2ebb]=Os['z'],_0x65a365[-0x1ca1+0x1b81+0x123]=0xc60+-0x2114+0x14b4,_0x65a365[-0xf33+-0xaf*0x19+0x33b*0xa]=Js['x'],_0x65a365[-0x3cb*-0x5+0x19bd+0x2caf*-0x1]=Js['y'],_0x65a365[0x1b6*0x10+0xbbf+-0x2719]=Js['z'],_0x65a365[-0xbe1*-0x3+0x72a+-0x2ac6]=0x1693+-0x995+-0x2*0x67f,_0x65a365[-0x1f41+0x1*0x1511+0xa38]=ei['x'],_0x65a365[-0x2442+0x1875+0xf*0xca]=ei['y'],_0x65a365[-0x72a+-0x1b7*-0x16+-0x1e86]=ei['z'],_0x65a365[-0x19a3*-0x1+0xd69+-0x2701]=-0x7f2+0x20c6*0x1+0x18d4*-0x1,_0x65a365[0x219*-0xf+-0x1c91+-0x1*-0x3c14]=_0x469155['x'],_0x65a365[0x1ffa+-0x24fa+0x50d]=_0x469155['y'],_0x65a365[0x2359+0x1*0x1c82+-0x3fcd]=_0x469155['z'],_0x65a365[0x1*-0x766+0x77d+0x2*-0x4]=-0x17bf*-0x1+-0x1f15+0x757,this;}['setFrustum'](_0x21cf9e,_0x4e4789,_0xe0803,_0x29f423,_0x2ccfb7,_0x434694){const _0x2787f5=(0x58*-0x3a+0x15*0x79+0x2d*0x39)*_0x2ccfb7,_0x25a4e7=_0x4e4789-_0x21cf9e,_0x1c73f8=_0x29f423-_0xe0803,_0x29efe1=_0x434694-_0x2ccfb7,_0x5da9dc=this['data'];return _0x5da9dc[-0x2*-0x75a+-0x269b*0x1+0x17e7]=_0x2787f5/_0x25a4e7,_0x5da9dc[0xf47+-0x15ce+0x688]=0xe05+0x1965+-0x276a,_0x5da9dc[0x1d3*0x7+-0x58a*0x2+0x1*-0x1af]=0x2c2+-0x13*0x167+0x17e3*0x1,_0x5da9dc[0x173*-0x7+0x1062+-0x63a]=0x1043+0x18d7*0x1+-0x291a,_0x5da9dc[-0x9*-0x153+-0x19cc+0x1*0xde5]=0x700*0x2+-0x1*0x1b0c+-0xa*-0x14e,_0x5da9dc[-0x81*-0x14+0xec3*-0x1+0x7*0xac]=_0x2787f5/_0x1c73f8,_0x5da9dc[0x57f*-0x1+0x1cf0+-0x176b]=-0x427*-0x5+-0x1*0x148e+-0x35,_0x5da9dc[0x3*0x1cf+-0x1be*-0x11+-0x2304]=-0x156d+-0x179d+0x2*0x1685,_0x5da9dc[0x177+0x1*-0x2481+0x2312]=(_0x4e4789+_0x21cf9e)/_0x25a4e7,_0x5da9dc[0xa*0xf1+0x4*0x964+-0x2ef1]=(_0x29f423+_0xe0803)/_0x1c73f8,_0x5da9dc[-0x1*0x209d+-0x1*-0x44f+0x8*0x38b]=(-_0x434694-_0x2ccfb7)/_0x29efe1,_0x5da9dc[0x1*0x23b+0x51b*-0x1+0x2eb]=-(-0x2234+0xd4b*0x1+0x14ea*0x1),_0x5da9dc[0x79b+-0x3*-0x352+-0x1185*0x1]=-0x1c56+0xe75*-0x2+0x10*0x394,_0x5da9dc[-0x2672+-0x270+0x3*0xda5]=0x1*-0x1cd9+-0x1b94+0x3*0x12cf,_0x5da9dc[0x2*0x453+-0x1*-0xc37+-0x14cf]=-_0x2787f5*_0x434694/_0x29efe1,_0x5da9dc[-0x6+-0xfb9+-0x121*-0xe]=0x73c+0x12d4+0x458*-0x6,this;}['setPerspec'+'tive'](_0x12ed8b,_0x29177a,_0x28c71c,_0x54bbd1,_0x4eacf9){return Qr['_getPerspe'+'ctiveHalfS'+'ize'](to,_0x12ed8b,_0x29177a,_0x28c71c,_0x4eacf9),this['setFrustum'](-to['x'],to['x'],-to['y'],to['y'],_0x28c71c,_0x54bbd1);}['setOrtho'](_0x2ce5ef,_0x526fc7,_0x562147,_0x3052a1,_0x21f350,_0x3ddffe){const _0x1f17bc=this['data'];return _0x1f17bc[0x2c*-0x5f+-0xbaa*0x3+-0x3352*-0x1]=(0x4b9+0x2069*0x1+-0x2520)/(_0x526fc7-_0x2ce5ef),_0x1f17bc[-0x28d*-0x2+-0x1e30+0x1917*0x1]=-0x1*-0x116+-0x1be1+0x1acb,_0x1f17bc[-0x21e8+0x8*0x412+-0xad*-0x2]=-0x1941+0x25*-0x49+0x2*0x11e7,_0x1f17bc[-0x3db*-0x6+0x2065+0x4*-0xde1]=-0x1600+0x1*-0x673+0x1c73,_0x1f17bc[-0x4*0x51e+-0x4*-0x8+0x145c]=-0x1*0xdaf+-0x141c+0x21cb,_0x1f17bc[-0x1*-0x1997+0x3f*-0x4f+-0x621]=(-0xf*-0x1bd+0x935+-0x2346)/(_0x3052a1-_0x562147),_0x1f17bc[0x17b*0x4+0x27c+-0x862]=-0x29*-0xbb+-0x1d1b+0x18*-0x9,_0x1f17bc[-0x24*0x59+-0x24f1+0x317c]=-0x1*-0x13e5+-0x7a+-0x136b,_0x1f17bc[0x1*-0x169f+0xc70*-0x1+0x2317*0x1]=-0x17*0x12+-0x182b*-0x1+-0x168d,_0x1f17bc[0x67*-0x19+0x13*0x1a5+-0x1527]=0x1db4+-0x1303+-0xab1,_0x1f17bc[-0x27*0x68+-0x3*0xbfe+-0x19ee*-0x2]=-(0xed9+0x1*0x259+-0x1130)/(_0x3ddffe-_0x21f350),_0x1f17bc[-0x1*-0x19e0+0x87*0x36+-0x1*0x364f]=-0x5c8+-0x8e1+0xea9,_0x1f17bc[-0xb9*-0x30+0xcd*0x21+0x1b*-0x243]=-(_0x526fc7+_0x2ce5ef)/(_0x526fc7-_0x2ce5ef),_0x1f17bc[-0xaa*0x15+0x1d46+-0x1*0xf47]=-(_0x3052a1+_0x562147)/(_0x3052a1-_0x562147),_0x1f17bc[0x1aa3+-0xa9f+0x9*-0x1c6]=-(_0x3ddffe+_0x21f350)/(_0x3ddffe-_0x21f350),_0x1f17bc[-0x37f*-0x4+0x8ca*-0x1+-0x523]=0x236d+-0x1f*-0x135+-0x1*0x48d7,this;}['setFromAxi'+'sAngle'](_0x1ca69f,_0x5d1095){_0x5d1095*=Y['DEG_TO_RAD'];const {x:_0x3d1140,y:_0x3b16f6,z:_0x19c26e}=_0x1ca69f,_0x25e4d7=Math['cos'](_0x5d1095),_0x2f0251=Math['sin'](_0x5d1095),_0x265898=-0xe62+-0xd*-0x115+0x52-_0x25e4d7,_0x49460b=_0x265898*_0x3d1140,_0xd4912c=_0x265898*_0x3b16f6,_0x9e68d=this['data'];return _0x9e68d[-0xb3*0x31+-0x103a+0x5*0xa19]=_0x49460b*_0x3d1140+_0x25e4d7,_0x9e68d[-0x1fe6*-0x1+-0x9*0x1ed+-0xe90]=_0x49460b*_0x3b16f6+_0x2f0251*_0x19c26e,_0x9e68d[-0xff7+0x972+-0x3*-0x22d]=_0x49460b*_0x19c26e-_0x2f0251*_0x3b16f6,_0x9e68d[0x4a4*0x1+0x184a+-0x1ceb*0x1]=-0x2*0xc20+0x65f*0x1+0x11e1,_0x9e68d[0x1*-0xb38+-0x3d8+-0x182*-0xa]=_0x49460b*_0x3b16f6-_0x2f0251*_0x19c26e,_0x9e68d[-0x2*-0x43+0x6*-0x22+0x3*0x19]=_0xd4912c*_0x3b16f6+_0x25e4d7,_0x9e68d[0xa*-0x119+0x1523+-0xa23]=_0xd4912c*_0x19c26e+_0x2f0251*_0x3d1140,_0x9e68d[-0x16b*0x17+-0x1ec4+0x3f68]=-0xc0c+0x1e*0x67+-0x6,_0x9e68d[-0x1892+0x26a8+0x1*-0xe0e]=_0x49460b*_0x19c26e+_0x2f0251*_0x3b16f6,_0x9e68d[0x2299*0x1+0x1857+-0x3ae7]=_0xd4912c*_0x19c26e-_0x3d1140*_0x2f0251,_0x9e68d[0x1039+-0x145a+0x42b*0x1]=_0x265898*_0x19c26e*_0x19c26e+_0x25e4d7,_0x9e68d[0x2398+-0x11c1+0x10c*-0x11]=0xad*-0x5+0x608+-0x2a7,_0x9e68d[-0x1b54+0x24c7*0x1+-0x1*0x967]=0x3a1*-0x5+-0xa9c+0x1b1*0x11,_0x9e68d[0x3*-0x92b+-0x126f*-0x1+0x91f*0x1]=-0x15af+0x135e+0x251*0x1,_0x9e68d[-0x2216+0x1*0x1195+0x108f]=0x9ca+-0x24*0x18+-0x66a,_0x9e68d[-0x1426+0x1*0x1a05+-0x1f0*0x3]=-0x5*-0x533+-0x13ea+-0x614,this;}['setTransla'+'te'](_0x7f449c,_0x5b4fd0,_0x2e66e5){const _0x539c59=this['data'];return _0x539c59[-0x133e+-0x10cd+0x240b]=-0x1701+0x2217+0x1*-0xb15,_0x539c59[0xa37+0x2*-0x132b+0x12*0x190]=-0x2549+-0x26ae+-0x4bf7*-0x1,_0x539c59[-0x1f3c+-0xc4f*-0x2+0x20*0x35]=-0x26ac+0x256b+-0x141*-0x1,_0x539c59[-0x3*0x71f+0x2*0x468+-0x192*-0x8]=-0xdca+0xf3d+-0x173,_0x539c59[0x1788+-0x3*-0xa9b+-0x5*0xb11]=-0x22fc+-0x25*-0xb3+0x91d*0x1,_0x539c59[0x1663+0x16*-0x14f+0x66c]=0x1a15*0x1+-0x1a85+0x71,_0x539c59[-0x272*-0xb+-0x19c9+-0x117]=-0x7*-0x442+-0x1de3+0x15,_0x539c59[-0x5*-0x27+0x281*-0x1+0x1c5*0x1]=-0x1e2c+0x1acc+0x360,_0x539c59[0xbd2+-0x379+-0x851]=-0xfe9*0x1+0x20f6*0x1+-0x110d,_0x539c59[-0x38+-0x427*-0x1+-0x1*0x3e6]=0x1*0x1726+-0x9*-0x14c+0x1*-0x22d2,_0x539c59[0x208c+-0xc*0x98+-0x1962]=0xe65*0x2+0x1f*-0xb+-0x2*0xdba,_0x539c59[-0x1*0x76f+-0x272*0xe+-0x13*-0x232]=-0x185d+-0x7d*0x3f+-0x20*-0x1b9,_0x539c59[-0x1085+0x1949*-0x1+0x29da]=_0x7f449c,_0x539c59[-0x2*-0xe4b+-0x1c3a+-0x4f*0x1]=_0x5b4fd0,_0x539c59[0x1*0xd9f+-0x1aec+0x107*0xd]=_0x2e66e5,_0x539c59[-0x23df+0x11f6+0x11f8]=-0x10c2+0x5*-0x221+0x1b68,this;}['setScale'](_0x44d5a9,_0x54e0fd,_0x106c09){const _0x5b2fb8=this['data'];return _0x5b2fb8[0x9f5*-0x1+0x6ec+0x309]=_0x44d5a9,_0x5b2fb8[-0x1*0x84b+0x41*-0x1+0x88d]=-0x70f+-0x213d+-0x284c*-0x1,_0x5b2fb8[-0x31*-0x33+-0x72f*0x1+0x2*-0x149]=0xa78+-0x2f*0x15+0x69d*-0x1,_0x5b2fb8[0xd*-0x2e3+-0x5*0x313+0x34e9]=0x1*0x120d+0x1d09+-0x2f16,_0x5b2fb8[0x61f+-0xf4b+-0x498*-0x2]=0x1*-0x23d7+0x13*-0x16a+0x3eb5,_0x5b2fb8[-0x1a37+-0x2261+0x3c9d]=_0x54e0fd,_0x5b2fb8[0x1d55+-0x1a40+-0x1b*0x1d]=0x1751+-0x1*0x156b+-0x1e6,_0x5b2fb8[0x1fe9+0xaad+-0x2a8f*0x1]=0x17a6+-0x2f*-0x97+-0x1*0x335f,_0x5b2fb8[-0x1507+0x6f+-0x2c*-0x78]=0x93c+-0x482+-0x2*0x25d,_0x5b2fb8[0x17*0x53+0x7*0x39b+-0x20a9]=-0x1783+-0x1ebd+0x3640,_0x5b2fb8[-0x1*0x23a5+0x1c1d+0x792]=_0x106c09,_0x5b2fb8[-0x1f9a+0x222d+-0x4*0xa2]=-0x23ff+-0x145*-0x19+0x442,_0x5b2fb8[0x2*0x620+-0x9*0x43e+-0x46*-0x5f]=-0x25ad+-0x1*0x17e9+-0x1*-0x3d96,_0x5b2fb8[-0xb51*-0x2+0x3cd+0xd31*-0x2]=0xf14+-0x90c+-0x4*0x182,_0x5b2fb8[0x86a+0x1783*-0x1+0x3*0x50d]=0x46*0x2f+-0x100a+0x330,_0x5b2fb8[0x2164+0xfc7+-0x311c]=-0x1914+0x1*-0x249b+0x3db0,this;}['setViewpor'+'t'](_0x1c2ca7,_0x544055,_0x4b3b00,_0x5a1e0b){const _0x2a41c2=this['data'];return _0x2a41c2[-0x2564+-0xc0c+0x3170]=_0x4b3b00*(-0x10ae+0x1611+0x563*-0x1+0.5),_0x2a41c2[0x599*0x1+-0xbf0+0x658]=-0x1b9f+0x1faa+-0x40b,_0x2a41c2[0x1*0x10+-0x38a+0x4*0xdf]=-0x1967+-0x1b31+-0x3498*-0x1,_0x2a41c2[-0x1ac9+-0x3fd*-0x7+-0x11f]=0x98d*-0x2+0x19c0+-0x6a6,_0x2a41c2[-0xa99*-0x2+0x13ef+-0x291d]=0x241a+0xb49*0x1+-0x2f63,_0x2a41c2[-0x2106+-0x1d6f+-0xb*-0x5ae]=_0x5a1e0b*(0x1*0x1a73+-0x679*-0x2+-0x2765+0.5),_0x2a41c2[-0x1f4f+-0x16d1+0x3626]=-0x1*0x1795+0x1ab5+-0x10*0x32,_0x2a41c2[0xf1f+-0x1b*0x112+0xdce]=-0x3d7*-0x4+0x1741*-0x1+0x7e5,_0x2a41c2[0xa2+0x149b+-0x1535]=-0xac5*0x1+-0x1b5f+0x1*0x2624,_0x2a41c2[-0x2141+0x6c2*-0x2+-0x6*-0x7cd]=-0x956*-0x2+0x7f1+-0x2f5*0x9,_0x2a41c2[-0x1*-0x102d+0x27*0x1a+-0x15*0xf5]=-0xbc8+-0x626+0x9*0x1fe+0.5,_0x2a41c2[0x24*0x25+-0x2*-0x9f8+-0x1919]=-0xfad+-0x1298+0x2245*0x1,_0x2a41c2[0x1*-0x1b03+-0x401+-0x1f1*-0x10]=_0x1c2ca7+_0x4b3b00*(-0x10e3+-0x1343*-0x2+-0xbf*0x1d+0.5),_0x2a41c2[-0x1af*-0xd+0x1fe8+-0x35be]=_0x544055+_0x5a1e0b*(-0x3e*-0x43+-0xb11*-0x3+-0x316d*0x1+0.5),_0x2a41c2[0x2278+-0x188e*-0x1+-0x6f*0x88]=0x18f9+0x1ae9*-0x1+-0x10*-0x1f+0.5,_0x2a41c2[-0x16e8+0x4*0x155+-0x1*-0x11a3]=0x1*-0x8ef+0xa49*0x3+0x1*-0x15eb,this;}['setReflect'+'ion'](_0x3748d,_0x23bff3){const _0x190d86=_0x3748d['x'],_0x5c39cd=_0x3748d['y'],_0x5baf52=_0x3748d['z'],_0x477d57=this['data'];return _0x477d57[-0x1122+-0x21ad+0x32cf*0x1]=-0x21b5+0x1a3*0x7+0x1641-(-0x3*-0x577+0x83*-0x1+-0x7f*0x20)*_0x190d86*_0x190d86,_0x477d57[-0x306*-0xc+-0x1832*0x1+-0xc15]=-(0x7*-0x2c2+0x3*0xea+0x3*0x586)*_0x190d86*_0x5c39cd,_0x477d57[0x3*0x9fa+0x5a1*-0x3+-0xd09]=-(-0x1fb9+-0x1*-0x15bf+0x9fc)*_0x190d86*_0x5baf52,_0x477d57[-0x2*-0x491+0x16e6*0x1+-0x2005]=0x13dd+0x2571+-0x394e,_0x477d57[-0x27*0x60+0x1dfd*0x1+0xf59*-0x1]=-(0x13c1+-0x1f82+-0x1*-0xbc3)*_0x190d86*_0x5c39cd,_0x477d57[-0x1c1a+-0x55*-0x7+0x19cc]=-0x1*0x182d+0x1*-0x20a0+0x38ce-(-0x1be+0x1eaf+-0x1*0x1cef)*_0x5c39cd*_0x5c39cd,_0x477d57[-0x4b5+-0xe*0x1bf+0x1d2d]=-(0x1*0x1e1+-0xa*0x56+0x17d)*_0x5c39cd*_0x5baf52,_0x477d57[0x93c+-0x1ddf+-0x14aa*-0x1]=0x36e*0xb+-0x11f8+-0x119*0x12,_0x477d57[0x4*0x866+-0x1dda+-0x3b6]=-(-0x12*0x13e+0x2a0*0xa+0x8e*-0x7)*_0x190d86*_0x5baf52,_0x477d57[0xb*-0x2c2+0x1*0x65b+-0x601*-0x4]=-(0x7b1+-0x13*0x4+-0x763)*_0x5c39cd*_0x5baf52,_0x477d57[0x1f72+-0x1d7d*0x1+0x1eb*-0x1]=-0x31*0x2+0xad*-0x21+0x16b0-(-0x2*-0x8e9+0x1a68+-0x2c38)*_0x5baf52*_0x5baf52,_0x477d57[-0x10b*-0x14+-0x10c1+-0x410]=0x215f*0x1+-0xa92+-0x16cd,_0x477d57[0x1005+-0x1*-0x1058+-0x2051]=-(0x86*-0x3b+0x47f*0x5+0x869*0x1)*_0x190d86*_0x23bff3,_0x477d57[0x894*-0x4+-0x9ff+0x2c5c]=-(-0xb72+0x39*0x81+0x1145*-0x1)*_0x5c39cd*_0x23bff3,_0x477d57[0x61*0x3d+0x2c*-0xb1+0x75d]=-(-0xa1a+0x1*-0x12cb+0x1ce7)*_0x5baf52*_0x23bff3,_0x477d57[-0xcd*0x29+0xfae+0x1136]=-0x796*-0x1+-0xb*-0x1d9+0x4c*-0x5e,this;}['invert'](_0x17addd=this){const _0x11eb06=_0x17addd['data'],_0x35a3c0=_0x11eb06[-0x1*0x97b+-0x1f42+0x28bd],_0x4e8472=_0x11eb06[-0xc7*-0x1+0x7*-0x43f+0x1cf3],_0x23192c=_0x11eb06[-0x45b*-0x1+0x7ed*-0x3+0x33d*0x6],_0x3c586f=_0x11eb06[-0x10d*-0xb+0x1*0x619+-0x11a5],_0x310073=_0x11eb06[-0x81a+-0x1228+0x1a46],_0x356a5e=_0x11eb06[0x2430+0xe2c+-0x3257],_0x5164a1=_0x11eb06[0xce*0xa+-0x1582+-0x6be*-0x2],_0x4c8a2c=_0x11eb06[0x1ff7+0x10ff*-0x1+-0xf*0xff],_0x154a51=_0x11eb06[0x47f*-0x2+-0x25e9+-0x5*-0x963],_0x4ce31d=_0x11eb06[-0x6*0x281+0x1fb7+0x2*-0x854],_0x131440=_0x11eb06[-0x1083+-0x1326*0x2+0x36d9],_0x4a58fc=_0x11eb06[-0x21*0x49+-0x1baf+0x2523],_0x40fd44=_0x11eb06[0x6cf+0x3d3+-0x2*0x54b],_0x3b6734=_0x11eb06[0x1401+-0x2*0x945+0x2*-0xb5],_0x36beab=_0x11eb06[0x1f16+-0xe55+-0x3*0x591],_0x25f6e3=_0x11eb06[0xb*-0x10d+-0x564+0x1102],_0x183216=_0x35a3c0*_0x356a5e-_0x4e8472*_0x310073,_0x2da646=_0x35a3c0*_0x5164a1-_0x23192c*_0x310073,_0x4f58ca=_0x35a3c0*_0x4c8a2c-_0x3c586f*_0x310073,_0x7564b1=_0x4e8472*_0x5164a1-_0x23192c*_0x356a5e,_0x34f115=_0x4e8472*_0x4c8a2c-_0x3c586f*_0x356a5e,_0x4a810f=_0x23192c*_0x4c8a2c-_0x3c586f*_0x5164a1,_0x54cf72=_0x154a51*_0x3b6734-_0x4ce31d*_0x40fd44,_0xb5afcd=_0x154a51*_0x36beab-_0x131440*_0x40fd44,_0x8769ca=_0x154a51*_0x25f6e3-_0x4a58fc*_0x40fd44,_0x5eec12=_0x4ce31d*_0x36beab-_0x131440*_0x3b6734,_0x44454e=_0x4ce31d*_0x25f6e3-_0x4a58fc*_0x3b6734,_0xd64d20=_0x131440*_0x25f6e3-_0x4a58fc*_0x36beab,_0x5c0fc5=_0x183216*_0xd64d20-_0x2da646*_0x44454e+_0x4f58ca*_0x5eec12+_0x7564b1*_0x8769ca-_0x34f115*_0xb5afcd+_0x4a810f*_0x54cf72;if(_0x5c0fc5===-0xe4*-0x10+-0x43*0x1d+-0x6a9)this['setIdentit'+'y']();else{const _0xf27583=(0x1*0x493+0x1dbd+-0x224f)/_0x5c0fc5,_0x42d65d=this['data'];_0x42d65d[0xfcf*-0x1+0x551*0x5+0x7*-0x18a]=(_0x356a5e*_0xd64d20-_0x5164a1*_0x44454e+_0x4c8a2c*_0x5eec12)*_0xf27583,_0x42d65d[0x1*-0x33d+0xb78+-0x83a]=(-_0x4e8472*_0xd64d20+_0x23192c*_0x44454e-_0x3c586f*_0x5eec12)*_0xf27583,_0x42d65d[0x6be+-0x2651+-0x2df*-0xb]=(_0x3b6734*_0x4a810f-_0x36beab*_0x34f115+_0x25f6e3*_0x7564b1)*_0xf27583,_0x42d65d[0xb*0x10f+0x4a*0x59+-0x255c]=(-_0x4ce31d*_0x4a810f+_0x131440*_0x34f115-_0x4a58fc*_0x7564b1)*_0xf27583,_0x42d65d[0x3a5*-0x7+0x1d34+0x1*-0x3ad]=(-_0x310073*_0xd64d20+_0x5164a1*_0x8769ca-_0x4c8a2c*_0xb5afcd)*_0xf27583,_0x42d65d[-0x18d*-0xd+0x159*0x13+-0x2dbf]=(_0x35a3c0*_0xd64d20-_0x23192c*_0x8769ca+_0x3c586f*_0xb5afcd)*_0xf27583,_0x42d65d[0xc1d+0x2520+-0x2b*0x125]=(-_0x40fd44*_0x4a810f+_0x36beab*_0x4f58ca-_0x25f6e3*_0x2da646)*_0xf27583,_0x42d65d[0x2455+0x1*0x1e59+0x97*-0x71]=(_0x154a51*_0x4a810f-_0x131440*_0x4f58ca+_0x4a58fc*_0x2da646)*_0xf27583,_0x42d65d[0x495*-0x1+0xeab+-0xa0e]=(_0x310073*_0x44454e-_0x356a5e*_0x8769ca+_0x4c8a2c*_0x54cf72)*_0xf27583,_0x42d65d[0x4*-0x476+0x1*0x7b+-0x2*-0x8b3]=(-_0x35a3c0*_0x44454e+_0x4e8472*_0x8769ca-_0x3c586f*_0x54cf72)*_0xf27583,_0x42d65d[-0x46b*0x3+0x21b5*0x1+-0x4e*0x43]=(_0x40fd44*_0x34f115-_0x3b6734*_0x4f58ca+_0x25f6e3*_0x183216)*_0xf27583,_0x42d65d[0x1*-0x1809+0xdb8+-0xa5c*-0x1]=(-_0x154a51*_0x34f115+_0x4ce31d*_0x4f58ca-_0x4a58fc*_0x183216)*_0xf27583,_0x42d65d[-0xcd*0x1+-0xb32*-0x1+-0xa59*0x1]=(-_0x310073*_0x5eec12+_0x356a5e*_0xb5afcd-_0x5164a1*_0x54cf72)*_0xf27583,_0x42d65d[-0x25bd*0x1+0x6f4+0x1ed6]=(_0x35a3c0*_0x5eec12-_0x4e8472*_0xb5afcd+_0x23192c*_0x54cf72)*_0xf27583,_0x42d65d[0x7*-0xd6+0x59b*-0x3+-0x3*-0x793]=(-_0x40fd44*_0x7564b1+_0x3b6734*_0x2da646-_0x36beab*_0x183216)*_0xf27583,_0x42d65d[-0x49*0x26+0x1579+-0x2*0x54a]=(_0x154a51*_0x7564b1-_0x4ce31d*_0x2da646+_0x131440*_0x183216)*_0xf27583;}return this;}['set'](_0x29f92c){const _0x3ea96d=this['data'];return _0x3ea96d[-0x1*-0x25ac+0x236d+-0x4919]=_0x29f92c[0x1aeb+0x17c6+-0x1*0x32b1],_0x3ea96d[-0xbcb+-0xd*0x3b+0xecb*0x1]=_0x29f92c[-0xcdd*0x1+-0xf45+0x1c23*0x1],_0x3ea96d[0x1*0x2490+-0x2*0x79a+-0x3*0x71e]=_0x29f92c[-0x8a7+0x1c3+0x6e6*0x1],_0x3ea96d[0x7f2+0x1ec0*0x1+-0x26af]=_0x29f92c[-0x14*-0x78+-0x2*0x1025+0x16ed],_0x3ea96d[0x1a66+0xcc1*0x3+-0x13*0x367]=_0x29f92c[-0xc6f+-0x1f7c+-0xea5*-0x3],_0x3ea96d[0xfd4+0x10e*0x1+-0x10dd]=_0x29f92c[0x6ec+0x2670+-0xdb*0x35],_0x3ea96d[-0x151c+-0x2401+0x3923]=_0x29f92c[-0x8cb+0x246c+-0x1b9b],_0x3ea96d[0x151*-0x15+-0x3*-0x95b+-0x65*0x1]=_0x29f92c[-0x1e9a+-0x3e7*0x1+0x2288*0x1],_0x3ea96d[-0xd8f+-0x844+-0x1*-0x15db]=_0x29f92c[-0x173c*-0x1+0x1c9*-0x2+0x167*-0xe],_0x3ea96d[0x118+0x1c07+-0x1b6*0x11]=_0x29f92c[-0x20e2+-0x1*0x397+0x2*0x1241],_0x3ea96d[-0x1e0b+0x976+0x149f]=_0x29f92c[-0xf3a+0x3fb*-0x4+0x1f30],_0x3ea96d[-0x2132+0x85*0x18+0x1*0x14c5]=_0x29f92c[0x1*-0xc7+0x1*-0x1912+0x19e4],_0x3ea96d[0x2*-0xa49+-0x246e+0x390c]=_0x29f92c[-0x16b2+-0x1622+0x2ce0],_0x3ea96d[0xad7+0xe14+0x3*-0x84a]=_0x29f92c[0x70b*-0x4+0x1f6*0x1+-0xf9*-0x1b],_0x3ea96d[0x12*-0x7+0x1*-0x142+0xb*0x2a]=_0x29f92c[0x2*-0x1051+0x3*-0x70b+0x35d1],_0x3ea96d[-0x14f5*0x1+-0x1*-0x238f+-0xe8b]=_0x29f92c[-0x20b0+-0x1*0x3fb+0x2*0x125d],this;}['setIdentit'+'y'](){const _0x5b677f=this['data'];return _0x5b677f[0x1868+-0x2*-0x207+-0xe3b*0x2]=0x19b0+-0x10b5+0x3*-0x2fe,_0x5b677f[0x951+0x2*-0x115a+-0x2*-0xcb2]=-0x2b*0x26+0x1315+-0xcb3,_0x5b677f[-0x9*0x1ce+-0x4*-0x976+-0x2b3*0x8]=-0x4df*0x1+-0xeb*0xb+0x4*0x3be,_0x5b677f[-0x2*-0x97f+0x1*-0x137d+0x82]=0x47*-0x73+0x23d*-0x7+0x2f90,_0x5b677f[-0x5*0x4ff+0x13*-0x160+-0x17*-0x239]=0x4c6+0x23*0x3d+0x9*-0x175,_0x5b677f[0x7b*0x12+-0x2288+-0x1*-0x19e7]=0x1e4b+-0x222a+0x3e0,_0x5b677f[-0x1*0x6f7+0x1598+0xe9b*-0x1]=-0x161c+0xb*-0x1b7+0x28f9*0x1,_0x5b677f[0x1*-0x1821+-0xe2b+0x2653]=-0x120b*0x1+0x1e81+0x13f*-0xa,_0x5b677f[0x1*0x3b8+0x2*-0xe57+0x18fe]=0x1*0x74c+-0xc*0x6f+-0x218,_0x5b677f[-0x2308+-0x1e19+0x412a]=0x1a7a+-0x1a28+-0x52,_0x5b677f[0x4de+-0x1265+-0xd91*-0x1]=-0x1a62+-0x25c7+0x402a,_0x5b677f[0x3*0xb33+0x2083*-0x1+-0x10b]=0x1*0x164b+-0x2be+-0x138d,_0x5b677f[-0x2*0xa46+0x1c45+-0x7ad]=-0x21f5*0x1+0x3*0x463+0x2c*0x79,_0x5b677f[0x1*0x6ee+0x1*-0x1ec6+0x1*0x17e5]=0x186d+-0x327+0x185*-0xe,_0x5b677f[-0x1843*0x1+-0x1*0x1c3d+0x348e]=-0x623*-0x2+0x8f*0x13+0x28b*-0x9,_0x5b677f[0x22e5+0x1f96+-0x426c]=0x9d0*0x3+0x257*-0x6+-0xf65,this;}['setTRS'](_0x41af8f,_0x3bf9d6,_0x3b8497){const _0x3e4ac0=_0x3bf9d6['x'],_0x3438a3=_0x3bf9d6['y'],_0x185733=_0x3bf9d6['z'],_0x3a08b9=_0x3bf9d6['w'],_0xb3881f=_0x3b8497['x'],_0x6a6f2e=_0x3b8497['y'],_0x1d10dd=_0x3b8497['z'],_0x9e4cdf=_0x3e4ac0+_0x3e4ac0,_0x4ccac5=_0x3438a3+_0x3438a3,_0x51b114=_0x185733+_0x185733,_0x22b990=_0x3e4ac0*_0x9e4cdf,_0x3d2b01=_0x3e4ac0*_0x4ccac5,_0x43eb58=_0x3e4ac0*_0x51b114,_0x1fbe6a=_0x3438a3*_0x4ccac5,_0x34d844=_0x3438a3*_0x51b114,_0x11d4ae=_0x185733*_0x51b114,_0x7008b4=_0x3a08b9*_0x9e4cdf,_0x43c65e=_0x3a08b9*_0x4ccac5,_0x202123=_0x3a08b9*_0x51b114,_0x1e14a4=this['data'];return _0x1e14a4[0xfe2+-0x449*0x9+0x16af]=(0xbe4+0x10c*0xb+-0x1767-(_0x1fbe6a+_0x11d4ae))*_0xb3881f,_0x1e14a4[0x11*-0xa7+0x155+0x9c3]=(_0x3d2b01+_0x202123)*_0xb3881f,_0x1e14a4[0xa6d*0x3+0x565*0x7+0x178*-0x2f]=(_0x43eb58-_0x43c65e)*_0xb3881f,_0x1e14a4[-0x206+0xd*-0xd6+0xce7]=0x972+0x8fb+-0x126d,_0x1e14a4[-0x1*0x1954+-0xdb2+0x2*0x1385]=(_0x3d2b01-_0x202123)*_0x6a6f2e,_0x1e14a4[0x28*-0xd1+-0x1f43+-0x16*-0x2e8]=(0x1cf7*0x1+0x3d*0x40+-0x2c36*0x1-(_0x22b990+_0x11d4ae))*_0x6a6f2e,_0x1e14a4[-0x1499+0x522+0xf7d*0x1]=(_0x34d844+_0x7008b4)*_0x6a6f2e,_0x1e14a4[0x1470+-0x4*0x1b7+-0xd8d]=0x1fc8+-0x23c7+0x155*0x3,_0x1e14a4[0x1*-0x6a1+-0xa38+-0x1*-0x10e1]=(_0x43eb58+_0x43c65e)*_0x1d10dd,_0x1e14a4[0x1*0x1b3+-0x959*0x1+0x7af]=(_0x34d844-_0x7008b4)*_0x1d10dd,_0x1e14a4[0x1*0x687+-0x3*0x1bb+0x2*-0xa6]=(0xc*0x21f+-0xa1a*-0x1+-0x238d-(_0x22b990+_0x1fbe6a))*_0x1d10dd,_0x1e14a4[0x1023+0x13cb+-0x23e3*0x1]=0x1e1f*0x1+-0x1*0x2000+-0x1*-0x1e1,_0x1e14a4[0xb7*0xc+0x1a03+0x1*-0x228b]=_0x41af8f['x'],_0x1e14a4[-0x1fb3+0x7b0+-0x268*-0xa]=_0x41af8f['y'],_0x1e14a4[0x14cb*-0x1+0x2*0x11af+0x9*-0x19d]=_0x41af8f['z'],_0x1e14a4[-0x1c9d+-0x1*-0x6bb+-0x1*-0x15f1]=-0x1197+-0x13*-0x124+-0x414,this;}['transpose'](_0x341a89=this){const _0x4deb9b=_0x341a89['data'],_0x5807d1=this['data'];if(_0x4deb9b===_0x5807d1){let _0xdf7af9;_0xdf7af9=_0x4deb9b[-0x1*-0x1409+-0x799+0x3*-0x425],_0x5807d1[0x8da+0xd1f+-0x15f8]=_0x4deb9b[-0x12fc+0x203a+-0xd3a],_0x5807d1[0x81f*-0x1+0x1*-0x544+-0x2f*-0x49]=_0xdf7af9,_0xdf7af9=_0x4deb9b[-0x88c*0x4+0xf5*-0x4+-0x2*-0x1303],_0x5807d1[0x4*-0x119+0xc*-0x11f+0x11da]=_0x4deb9b[-0x5e*-0x3a+0xdda+-0x231e*0x1],_0x5807d1[0x1655+-0x2*-0x136b+-0x3d23*0x1]=_0xdf7af9,_0xdf7af9=_0x4deb9b[-0x566+-0x3c6+0x92f*0x1],_0x5807d1[0x16e5*-0x1+-0x13e9*-0x1+0x2ff]=_0x4deb9b[-0x788+-0x7*-0x47f+-0x1*0x17e5],_0x5807d1[-0x5*0x164+0x1*0x15cf+-0xecf]=_0xdf7af9,_0xdf7af9=_0x4deb9b[0x3*0x5ea+0x5*-0x2f5+-0x2ef],_0x5807d1[-0x59*-0x1d+0x17*0x71+-0x1436]=_0x4deb9b[-0x15e*0xd+0x11b1*-0x2+0x9*0x5e9],_0x5807d1[-0x985*0x2+-0x1*-0x11ad+0x166*0x1]=_0xdf7af9,_0xdf7af9=_0x4deb9b[-0x104*-0x15+0x1*-0xe8f+-0x6be],_0x5807d1[-0x27*-0xe7+-0x12ea*0x1+-0x1040]=_0x4deb9b[0x8f+0x1cf7+-0x1d79],_0x5807d1[-0x4b9+0x559*-0x2+0xf78]=_0xdf7af9,_0xdf7af9=_0x4deb9b[-0x19*0x52+0x1bd9*-0x1+0x23e6],_0x5807d1[-0x113+-0xd3*-0x17+0x1*-0x11d7]=_0x4deb9b[0x8f1*-0x2+-0x53d+0x172d],_0x5807d1[0xd7*0x4+-0x1a95+0x1747]=_0xdf7af9;}else _0x5807d1[-0xbbc+0xc1d*0x2+-0xc7e]=_0x4deb9b[0x1*0x250f+-0xe7*0x9+-0x1cf0],_0x5807d1[0x150a+0x1*-0x13e1+-0x94*0x2]=_0x4deb9b[0x1965+-0x101f+-0x942],_0x5807d1[0x495*-0x3+-0x237+0x248*0x7]=_0x4deb9b[-0x5*0x211+0x26db+-0x1c7e],_0x5807d1[-0x83c+-0x1*0x624+-0x1*-0xe63]=_0x4deb9b[0x1d87+0xa61*0x1+-0x27dc],_0x5807d1[0xfeb*0x1+0x92*-0x1+-0xf55]=_0x4deb9b[0x12e7+-0xee1+-0x405],_0x5807d1[-0x2f5*-0x4+0xe*0x250+-0x2c2f]=_0x4deb9b[-0x11f+-0x1743*0x1+-0x1867*-0x1],_0x5807d1[-0x196d+-0xe9b+-0x280e*-0x1]=_0x4deb9b[-0x1f*0xd2+0x89*-0x47+0x2*0x1fbb],_0x5807d1[0x358+-0x1*-0x4+-0x355]=_0x4deb9b[0xc33*-0x2+0x22cb*0x1+0x296*-0x4],_0x5807d1[-0x16d3+-0x1*-0x14bd+0x21e*0x1]=_0x4deb9b[-0x2d*-0x9f+0xec3+-0x2ab4],_0x5807d1[0x1a37+-0x1*0x2273+0x845]=_0x4deb9b[-0xcbb*-0x2+-0x437+0x1*-0x1539],_0x5807d1[0x45*0x35+0x2665+0x8c6*-0x6]=_0x4deb9b[-0x1c74+0xb*0x2c5+-0x1f9],_0x5807d1[-0x202a+0x3f6+0x1c3f]=_0x4deb9b[-0x4c7+0x139f+0x765*-0x2],_0x5807d1[-0x3*0x8db+0x422+0x167b]=_0x4deb9b[-0x195f+-0x40*-0x7+0x19*0xf2],_0x5807d1[-0x1*0x1ea8+-0x27*-0x6d+0xe1a]=_0x4deb9b[0xc40+0x7eb+-0x1424],_0x5807d1[0x3c1+0x1d8+-0x2b*0x21]=_0x4deb9b[-0x1*0x1b4+-0x2f8*-0xd+-0x24d9],_0x5807d1[0xa3+-0x1d0c+0x1c78]=_0x4deb9b[-0x14e1*-0x1+0x964+-0x1e36];return this;}['getTransla'+'tion'](_0x2f3e1f=new D()){return _0x2f3e1f['set'](this['data'][-0x859*-0x2+0x2f*0x1+-0x10d5],this['data'][-0xb5d+0x2642+-0x1ad8],this['data'][0x11*0x22+-0x1a1*-0xb+-0x141f]);}['getX'](_0x2f7dfe=new D()){return _0x2f7dfe['set'](this['data'][0x160f+-0x2*-0xf5f+0x7*-0x78b],this['data'][-0x1faf+0xe9*-0x1+0x2099],this['data'][-0x26*-0x19+-0x1130+0xd7c*0x1]);}['getY'](_0x35db6b=new D()){return _0x35db6b['set'](this['data'][-0x5*-0x5c3+-0x2641+0x976],this['data'][0x499+0x1fe1+-0x2475],this['data'][-0x9*-0x8d+0xa39*0x2+-0x1961]);}['getZ'](_0x5afd63=new D()){return _0x5afd63['set'](this['data'][0x5ab*0x5+-0x160e+0x1*-0x641],this['data'][-0x1a4f+0x16d*0x9+0x481*0x3],this['data'][-0x245e+-0x10e*-0x7+0x1d06]);}['getScale'](_0x4c84a8=new D()){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),_0x4c84a8['set'](Os['length'](),Js['length'](),ei['length']()),_0x4c84a8;}get['scaleSign'](){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),Os['cross'](Os,Js),Os['dot'](ei)<0x7*0x415+-0x1*0x250f+-0x87c*-0x1?-(-0x1*-0x10a9+0xe3e+-0x1ee6):0x2e*0x9e+-0x14f2*-0x1+0x49*-0xad;}['setFromEul'+'erAngles'](_0x4b72f6,_0x5517f5,_0x5549ac){_0x4b72f6*=Y['DEG_TO_RAD'],_0x5517f5*=Y['DEG_TO_RAD'],_0x5549ac*=Y['DEG_TO_RAD'];const _0x5abfb3=Math['sin'](-_0x4b72f6),_0x166ddf=Math['cos'](-_0x4b72f6),_0x3780cc=Math['sin'](-_0x5517f5),_0x5a9db9=Math['cos'](-_0x5517f5),_0x10b690=Math['sin'](-_0x5549ac),_0x24a8ba=Math['cos'](-_0x5549ac),_0x45f2b0=this['data'];return _0x45f2b0[0x7db*0x3+-0xa4c+0x2b*-0x4f]=_0x5a9db9*_0x24a8ba,_0x45f2b0[0x1b4c+0x1cdf*0x1+-0x1a*0x229]=-_0x5a9db9*_0x10b690,_0x45f2b0[0x4*0x58d+-0x1bad+0x57b]=_0x3780cc,_0x45f2b0[0xda5+-0x3b9*-0x7+-0x9*0x469]=-0xff6*-0x2+-0x193d+-0x6af,_0x45f2b0[0x13*-0x11f+0x146*0x1+0x140b]=_0x166ddf*_0x10b690+_0x24a8ba*_0x5abfb3*_0x3780cc,_0x45f2b0[-0x9aa+-0x22*-0xc2+-0x1015]=_0x166ddf*_0x24a8ba-_0x5abfb3*_0x3780cc*_0x10b690,_0x45f2b0[-0xc6d+-0x12ce+0x1f41]=-_0x5a9db9*_0x5abfb3,_0x45f2b0[0x1b63+0x4fd+0x49f*-0x7]=-0x2467*-0x1+-0x1947+-0x8*0x164,_0x45f2b0[-0x34d*-0x2+0x283*0xf+-0x2c3f*0x1]=_0x5abfb3*_0x10b690-_0x166ddf*_0x24a8ba*_0x3780cc,_0x45f2b0[0x17ab+0x8b+-0x182d]=_0x24a8ba*_0x5abfb3+_0x166ddf*_0x3780cc*_0x10b690,_0x45f2b0[-0x1*-0xc9b+-0xa26+-0x26b]=_0x166ddf*_0x5a9db9,_0x45f2b0[-0x5*-0x42e+-0x1a*0xa7+0x3e5*-0x1]=0x1462+-0xba9*0x1+0x8b9*-0x1,_0x45f2b0[0x607*-0x5+0xf7*-0x3+0x2114]=-0x5*-0x33b+-0x1c7b+0xc54,_0x45f2b0[0x3d5+-0xbb6*0x2+0x13a4]=-0x31b+-0x169e+-0x1b7*-0xf,_0x45f2b0[-0xe61+0xc5*0x2f+-0x15bc]=-0x2523+0x2478+0xab,_0x45f2b0[-0x197*0x6+-0xc67+0x1600]=-0x16d4+0x1214+0x4c1,this;}['getEulerAn'+'gles'](_0x45c122=new D()){this['getScale'](Hl);const _0x2d668c=Hl['x'],_0x2ec398=Hl['y'],_0x3ba081=Hl['z'];if(_0x2d668c===0x180f*0x1+0xcf*0x2a+-0x3a05||_0x2ec398===0x125+-0xe21*-0x1+-0x73*0x22||_0x3ba081===0xc*-0x2e9+0x5ad*-0x3+0x33f3)return _0x45c122['set'](-0x9*0x1bb+0x1591*0x1+0x5fe*-0x1,0xbeb+-0x1b4d+-0x1*-0xf62,-0xf61+-0x1*0x10f7+0x2058);const _0x2d03f2=this['data'],_0x52f06c=Math['asin'](-_0x2d03f2[0xa7*0x29+0x141a+0x3*-0xf9d]/_0x2d668c),_0x5ceaa4=Math['PI']*(-0x20e3+-0x1*-0x10c4+0x101f+0.5);let _0x48be24,_0x1d64e1;return _0x52f06c<_0x5ceaa4?_0x52f06c>-_0x5ceaa4?(_0x48be24=Math['atan2'](_0x2d03f2[-0x1dd7+-0x17*-0x8d+0x1f*0x8e]/_0x2ec398,_0x2d03f2[-0xd4d+0x5d1*0x5+-0x41*0x3e]/_0x3ba081),_0x1d64e1=Math['atan2'](_0x2d03f2[-0xfc*-0x1e+0x507+-0x2*0x1147]/_0x2d668c,_0x2d03f2[0x216+-0x1707+0x1*0x14f1]/_0x2d668c)):(_0x1d64e1=0x332*0x1+0x75d+0x9f*-0x11,_0x48be24=-Math['atan2'](_0x2d03f2[0x785+-0x5d2+-0x1*0x1af]/_0x2ec398,_0x2d03f2[0x1*0x8bd+-0x343*-0xb+0x31*-0xe9]/_0x2ec398)):(_0x1d64e1=0x22f*0x8+-0xec*0x22+-0x6f0*-0x2,_0x48be24=Math['atan2'](_0x2d03f2[-0x65d+-0x1ada+0x213b]/_0x2ec398,_0x2d03f2[0x22*-0xcd+-0x6*0x29b+-0x1*-0x2ae1]/_0x2ec398)),_0x45c122['set'](_0x48be24,_0x52f06c,_0x1d64e1)['mulScalar'](Y['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};h(Qr,'IDENTITY',Object['freeze'](new Qr())),h(Qr,'ZERO',Object['freeze'](new Qr()['set']([-0xc66+-0x26ff+0x3365,-0x67c+-0x2128+0x27a4,-0x7ca+0x2*0xbac+0x1*-0xf8e,0xacd+0x115*0xd+-0x18de,0x2*-0x6ea+-0x168a+0x245e,-0x2*0xd4b+0xb7*0x29+0x29*-0x11,0x1926+-0x1*0x1f22+0x5fc,0x24ac+-0x1*-0x25ab+0x4a57*-0x1,0x1d5d+0x1a3+-0x1f00,0xafc+0xc74+0x3e8*-0x6,0x1ca6+-0x2f*-0xa7+-0x3b4f,0x45b*-0x1+-0x30b*-0x5+-0x56e*0x2,-0x2650+-0xddd+-0x1*-0x342d,-0x4a*-0xd+-0x868+-0x77*-0xa,0x25d5+0x148a+0x3*-0x1375,-0x8*0x337+0xb*0xce+0x10de])));let te=Qr;const Sn=class Sn{constructor(_0x5b9073=-0x5*0x10d+-0x1cc1+-0x6*-0x5ab,_0x20ec97=0x1bdc+-0x2*-0xe4e+-0x3878*0x1,_0xca1f64=-0x1*-0xa12+0x1aa7+-0x11*0x229,_0x584eb8=0x7b0+0x43*0x47+-0x1a44){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0x5b9073['length']===0x1a4a+-0x611*0x3+-0x813?(this['x']=_0x5b9073[0x54c*0x6+-0xfb6+0x16*-0xbb],this['y']=_0x5b9073[0x2de*-0x3+-0xaa6+-0x1341*-0x1],this['z']=_0x5b9073[0x1c93+-0x1*0x1c94+0x3],this['w']=_0x5b9073[0x5*0xcf+0x261*-0xe+0x1d46]):(this['x']=_0x5b9073,this['y']=_0x20ec97,this['z']=_0xca1f64,this['w']=_0x584eb8);}['clone'](){const _0x190a78=this['constructo'+'r'];return new _0x190a78(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x2edf09=this){return this['x']=_0x2edf09['x']*-(-0xae2+0xe8c+-0x3a9),this['y']=_0x2edf09['y']*-(-0x2126+0x9*0xdf+0x1950),this['z']=_0x2edf09['z']*-(-0x1e3d*-0x1+-0x2*0x7b5+-0xed2),this['w']=_0x2edf09['w'],this;}['copy'](_0x443e42){return this['x']=_0x443e42['x'],this['y']=_0x443e42['y'],this['z']=_0x443e42['z'],this['w']=_0x443e42['w'],this;}['dot'](_0x57e87a){return this['x']*_0x57e87a['x']+this['y']*_0x57e87a['y']+this['z']*_0x57e87a['z']+this['w']*_0x57e87a['w'];}['equals'](_0x5061e5){return this['x']===_0x5061e5['x']&&this['y']===_0x5061e5['y']&&this['z']===_0x5061e5['z']&&this['w']===_0x5061e5['w'];}['equalsAppr'+'ox'](_0x41272b,_0x17c68a=-0x6f8+0x1d83+-0x168b+0.000001){return Math['abs'](this['x']-_0x41272b['x'])<_0x17c68a&&Math['abs'](this['y']-_0x41272b['y'])<_0x17c68a&&Math['abs'](this['z']-_0x41272b['z'])<_0x17c68a&&Math['abs'](this['w']-_0x41272b['w'])<_0x17c68a;}['getAxisAng'+'le'](_0x2cbbb2){let _0x211845=Math['acos'](this['w'])*(0x1205+0x1*0x30b+-0x16*0xf5);const _0x101543=Math['sin'](_0x211845/(0x1*0x169f+-0x567+-0x89b*0x2));return _0x101543!==0x18f7+-0x1fab+0x6b4?(_0x2cbbb2['x']=this['x']/_0x101543,_0x2cbbb2['y']=this['y']/_0x101543,_0x2cbbb2['z']=this['z']/_0x101543,(_0x2cbbb2['x']<-0x25*-0x33+0x1*-0xdab+0x64c||_0x2cbbb2['y']<-0x226c*-0x1+0x3*-0x6a1+-0xe89||_0x2cbbb2['z']<-0x113b*-0x1+0xcbb*-0x1+-0x480)&&(_0x2cbbb2['x']*=-(0xa67*-0x1+-0x1*-0xc90+0x6*-0x5c),_0x2cbbb2['y']*=-(-0x4*0xd1+0x419*0x1+0xd4*-0x1),_0x2cbbb2['z']*=-(-0x1d96+-0x5ca+-0x1*-0x2361),_0x211845*=-(0xf2e+0x1297+-0x21c4))):(_0x2cbbb2['x']=-0x1*-0x1ce2+0x24b*0xb+0xad2*-0x5,_0x2cbbb2['y']=0x1dcc+-0x67*-0x5+-0x1fcf,_0x2cbbb2['z']=0xd3*0x3+0x2*0x1322+-0x1*0x28bd),_0x211845*Y['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x42e27e=new D()){let _0x4d6a63,_0x2a62dd,_0x1a95f1;const _0xd9c9ea=this['x'],_0x464586=this['y'],_0x4dfdf2=this['z'],_0x347d48=this['w'],_0x112ef9=(-0x87e+-0x1046+-0x97*-0x2a)*(_0x347d48*_0x464586-_0xd9c9ea*_0x4dfdf2);return _0x112ef9<=-(-0x863+-0x1*0x18ed+0x2150+0.99999)?(_0x4d6a63=(0x1dc2+0xc*-0x209+-0x2*0x2aa)*Math['atan2'](_0xd9c9ea,_0x347d48),_0x2a62dd=-Math['PI']/(0xc4e+-0x1a2c+0x128*0xc),_0x1a95f1=0x2065*0x1+-0x1528+-0xb3d):_0x112ef9>=0x4c6*-0x8+-0x257d+0x4bad+0.99999?(_0x4d6a63=(0x927+-0xd79*-0x1+0x6*-0x3c5)*Math['atan2'](_0xd9c9ea,_0x347d48),_0x2a62dd=Math['PI']/(0x1755+0xe21*0x2+-0x3395),_0x1a95f1=-0x1d0e+-0xa3f*0x1+0x1*0x274d):(_0x4d6a63=Math['atan2']((-0x1410+0xb2*-0x17+0x4*0x904)*(_0x347d48*_0xd9c9ea+_0x464586*_0x4dfdf2),-0x4*-0x905+0x51b+-0x292e-(-0x1011+-0x13d*0x1a+0x3045*0x1)*(_0xd9c9ea*_0xd9c9ea+_0x464586*_0x464586)),_0x2a62dd=Math['asin'](_0x112ef9),_0x1a95f1=Math['atan2']((-0x3*-0xa6e+-0x23f8+0x4b0)*(_0x347d48*_0x4dfdf2+_0xd9c9ea*_0x464586),0x2490+-0x135a+-0x1135*0x1-(-0x55+0x2075+-0x201e)*(_0x464586*_0x464586+_0x4dfdf2*_0x4dfdf2))),_0x42e27e['set'](_0x4d6a63,_0x2a62dd,_0x1a95f1)['mulScalar'](Y['RAD_TO_DEG']);}['invert'](_0x402c4b=this){return this['conjugate'](_0x402c4b)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x46aa3e,_0x406a55,_0x4f5c6b){const _0x15b4b1=(-0x22*-0x126+-0xc*-0xf3+-0x326f-_0x4f5c6b)*(_0x46aa3e['dot'](_0x406a55)<-0x90c+0x1740+0x9*-0x194?-(0xce3+0x49*-0x19+-0x5c1):-0x18fa+0x178*-0x1+0x25*0xb7);return this['x']=_0x46aa3e['x']*_0x15b4b1+_0x406a55['x']*_0x4f5c6b,this['y']=_0x46aa3e['y']*_0x15b4b1+_0x406a55['y']*_0x4f5c6b,this['z']=_0x46aa3e['z']*_0x15b4b1+_0x406a55['z']*_0x4f5c6b,this['w']=_0x46aa3e['w']*_0x15b4b1+_0x406a55['w']*_0x4f5c6b,this['normalize']();}['mul'](_0x4db62c){const _0x2066a1=this['x'],_0x337e7f=this['y'],_0x58e9ae=this['z'],_0x118442=this['w'],_0x8e367d=_0x4db62c['x'],_0x37e230=_0x4db62c['y'],_0x16ceb0=_0x4db62c['z'],_0x50db33=_0x4db62c['w'];return this['x']=_0x118442*_0x8e367d+_0x2066a1*_0x50db33+_0x337e7f*_0x16ceb0-_0x58e9ae*_0x37e230,this['y']=_0x118442*_0x37e230+_0x337e7f*_0x50db33+_0x58e9ae*_0x8e367d-_0x2066a1*_0x16ceb0,this['z']=_0x118442*_0x16ceb0+_0x58e9ae*_0x50db33+_0x2066a1*_0x37e230-_0x337e7f*_0x8e367d,this['w']=_0x118442*_0x50db33-_0x2066a1*_0x8e367d-_0x337e7f*_0x37e230-_0x58e9ae*_0x16ceb0,this;}['mulScalar'](_0x4e278b,_0xf083c0=this){return this['x']=_0xf083c0['x']*_0x4e278b,this['y']=_0xf083c0['y']*_0x4e278b,this['z']=_0xf083c0['z']*_0x4e278b,this['w']=_0xf083c0['w']*_0x4e278b,this;}['mul2'](_0x224a77,_0x291ec0){const _0x11fe9c=_0x224a77['x'],_0x1ecf38=_0x224a77['y'],_0x140eb1=_0x224a77['z'],_0x385cc0=_0x224a77['w'],_0x428c14=_0x291ec0['x'],_0x18a432=_0x291ec0['y'],_0x3394e7=_0x291ec0['z'],_0x111ce=_0x291ec0['w'];return this['x']=_0x385cc0*_0x428c14+_0x11fe9c*_0x111ce+_0x1ecf38*_0x3394e7-_0x140eb1*_0x18a432,this['y']=_0x385cc0*_0x18a432+_0x1ecf38*_0x111ce+_0x140eb1*_0x428c14-_0x11fe9c*_0x3394e7,this['z']=_0x385cc0*_0x3394e7+_0x140eb1*_0x111ce+_0x11fe9c*_0x18a432-_0x1ecf38*_0x428c14,this['w']=_0x385cc0*_0x111ce-_0x11fe9c*_0x428c14-_0x1ecf38*_0x18a432-_0x140eb1*_0x3394e7,this;}['normalize'](_0x19407a=this){let _0x3c07e2=_0x19407a['length']();return _0x3c07e2===0x332*-0x3+0x2*-0xea7+0x26e4?(this['x']=this['y']=this['z']=-0x1c7d+-0x622+0x1*0x229f,this['w']=-0x1228+0x1397+-0x16e):(_0x3c07e2=(0x358*-0x4+0x1*0xeb9+0x1*-0x158)/_0x3c07e2,this['x']=_0x19407a['x']*_0x3c07e2,this['y']=_0x19407a['y']*_0x3c07e2,this['z']=_0x19407a['z']*_0x3c07e2,this['w']=_0x19407a['w']*_0x3c07e2),this;}['set'](_0x1817cd,_0x567406,_0x5981ef,_0x5ca63e){return this['x']=_0x1817cd,this['y']=_0x567406,this['z']=_0x5981ef,this['w']=_0x5ca63e,this;}['setFromAxi'+'sAngle'](_0x172086,_0x125052){_0x125052*=(-0x4f5*-0x1+0x1112+-0x1607+0.5)*Y['DEG_TO_RAD'];const _0x279bd2=Math['sin'](_0x125052),_0x36c5a8=Math['cos'](_0x125052);return this['x']=_0x279bd2*_0x172086['x'],this['y']=_0x279bd2*_0x172086['y'],this['z']=_0x279bd2*_0x172086['z'],this['w']=_0x36c5a8,this;}['setFromEul'+'erAngles'](_0x20917c,_0x236413,_0x4163ae){if(_0x20917c instanceof D){const _0x503acc=_0x20917c;_0x20917c=_0x503acc['x'],_0x236413=_0x503acc['y'],_0x4163ae=_0x503acc['z'];}const _0x3638be=(0x26b8+0x2634+-0x6*0xcd2+0.5)*Y['DEG_TO_RAD'];_0x20917c*=_0x3638be,_0x236413*=_0x3638be,_0x4163ae*=_0x3638be;const _0x112574=Math['sin'](_0x20917c),_0x35c182=Math['cos'](_0x20917c),_0x3a442c=Math['sin'](_0x236413),_0x4fe09b=Math['cos'](_0x236413),_0x541749=Math['sin'](_0x4163ae),_0x49d23d=Math['cos'](_0x4163ae);return this['x']=_0x112574*_0x4fe09b*_0x49d23d-_0x35c182*_0x3a442c*_0x541749,this['y']=_0x35c182*_0x3a442c*_0x49d23d+_0x112574*_0x4fe09b*_0x541749,this['z']=_0x35c182*_0x4fe09b*_0x541749-_0x112574*_0x3a442c*_0x49d23d,this['w']=_0x35c182*_0x4fe09b*_0x49d23d+_0x112574*_0x3a442c*_0x541749,this;}['setFromMat'+'4'](_0x448fb5){const _0x14ba2f=_0x448fb5['data'];let _0x35063f=_0x14ba2f[0x3*-0x5a5+-0xb47*-0x1+0x5a8*0x1],_0x4ef62e=_0x14ba2f[0x2138+0x15b0+0x1*-0x36e7],_0x539046=_0x14ba2f[-0x1937+-0x1b1d+0x3456],_0x181bb3=_0x14ba2f[-0x8*0x3df+-0x9d+0x1f99],_0x50216e=_0x14ba2f[-0xdb7*-0x1+-0x1667+0x1*0x8b5],_0x4309bb=_0x14ba2f[0x4d7*0x3+-0xd01*0x1+0xbf*-0x2],_0x415d35=_0x14ba2f[0x6c9*0x3+0x3*0x5bf+-0x1*0x2590],_0x4df319=_0x14ba2f[0x5*0x74d+0x142e+-0x38a6],_0x2ba5c5=_0x14ba2f[0xb3*0x1f+0xc4+-0x1667],_0x3a5d69;return _0x3a5d69=_0x35063f*_0x35063f+_0x4ef62e*_0x4ef62e+_0x539046*_0x539046,_0x3a5d69===-0xf*0x8b+-0x12e2+0x1b07*0x1?this['set'](-0xe5+-0x1c66+0x1d4b,-0x1edf+-0xa26+0x2905,-0x9*0x219+-0xde9+0xaee*0x3,-0x18cb*-0x1+-0x2293+0x9c9):(_0x3a5d69=(0x1cba+-0x1db7+-0xfe*-0x1)/Math['sqrt'](_0x3a5d69),_0x35063f*=_0x3a5d69,_0x4ef62e*=_0x3a5d69,_0x539046*=_0x3a5d69,_0x3a5d69=_0x181bb3*_0x181bb3+_0x50216e*_0x50216e+_0x4309bb*_0x4309bb,_0x3a5d69===0x4*0x7d3+0x1*0x3cd+-0x2319?this['set'](0x2641*0x1+-0xfe9*-0x1+0x6*-0x907,0x1686+-0x1*0x5f3+-0x1093,0xf6d*-0x2+0x10c1+0x1*0xe19,0x181a+0x3*-0x82+-0x1*0x1693):(_0x3a5d69=(-0x6b2+-0x1a11*-0x1+0x4a*-0x43)/Math['sqrt'](_0x3a5d69),_0x181bb3*=_0x3a5d69,_0x50216e*=_0x3a5d69,_0x4309bb*=_0x3a5d69,_0x3a5d69=_0x415d35*_0x415d35+_0x4df319*_0x4df319+_0x2ba5c5*_0x2ba5c5,_0x3a5d69===0x4b7*-0x6+-0x653*-0x3+0x3*0x31b?this['set'](0x9b*0x1f+0x1b9f+-0x2*0x1732,0x6*-0x335+-0x1590+0x6*0x6cd,0x1c*-0x139+-0x1e0d+-0x1*-0x4049,0x8bd*0x4+0x5a*0x24+-0x2f9b):(_0x3a5d69=(0x111d*-0x2+-0x2583+-0x23df*-0x2)/Math['sqrt'](_0x3a5d69),_0x415d35*=_0x3a5d69,_0x4df319*=_0x3a5d69,_0x2ba5c5*=_0x3a5d69,_0x2ba5c5<-0x1590+0x15c8*0x1+-0x8*0x7?_0x35063f>_0x50216e?this['set'](-0x1197+-0x8cd+0x1a65+_0x35063f-_0x50216e-_0x2ba5c5,_0x4ef62e+_0x181bb3,_0x415d35+_0x539046,_0x4309bb-_0x4df319):this['set'](_0x4ef62e+_0x181bb3,-0x4fa+-0x1a*0x177+-0x20d*-0x15-_0x35063f+_0x50216e-_0x2ba5c5,_0x4309bb+_0x4df319,_0x415d35-_0x539046):_0x35063f<-_0x50216e?this['set'](_0x415d35+_0x539046,_0x4309bb+_0x4df319,-0x54*-0x1a+-0x1cf2+0x146b*0x1-_0x35063f-_0x50216e+_0x2ba5c5,_0x4ef62e-_0x181bb3):this['set'](_0x4309bb-_0x4df319,_0x415d35-_0x539046,_0x4ef62e-_0x181bb3,0x8*0x89+0x103b+-0x1482+_0x35063f+_0x50216e+_0x2ba5c5),this['mulScalar']((-0x26e*0x1+0x63*0xf+-0x35e)/this['length']()))));}['setFromDir'+'ections'](_0x44c44d,_0x33e249){const _0x3be2d9=-0x1f*-0xb1+-0x1bb*-0x1+0x4d*-0x4d+_0x44c44d['dot'](_0x33e249);return _0x3be2d9<Number['EPSILON']?Math['abs'](_0x44c44d['x'])>Math['abs'](_0x44c44d['y'])?(this['x']=-_0x44c44d['z'],this['y']=-0xb*-0x151+0x206b+-0x2ee6,this['z']=_0x44c44d['x'],this['w']=0x199+0x5c2+-0x75b):(this['x']=-0x1935+-0x1*-0x445+-0xa*-0x218,this['y']=-_0x44c44d['z'],this['z']=_0x44c44d['y'],this['w']=0x14*-0x1dd+-0x1506+-0x9b7*-0x6):(this['x']=_0x44c44d['y']*_0x33e249['z']-_0x44c44d['z']*_0x33e249['y'],this['y']=_0x44c44d['z']*_0x33e249['x']-_0x44c44d['x']*_0x33e249['z'],this['z']=_0x44c44d['x']*_0x33e249['y']-_0x44c44d['y']*_0x33e249['x'],this['w']=_0x3be2d9),this['normalize']();}['slerp'](_0x3e8f78,_0x4c4b96,_0x102ae1){const _0x162f71=_0x3e8f78['x'],_0x383b77=_0x3e8f78['y'],_0x4eef00=_0x3e8f78['z'],_0x2b051e=_0x3e8f78['w'];let _0x2e1947=_0x4c4b96['x'],_0x4480ca=_0x4c4b96['y'],_0x337c9a=_0x4c4b96['z'],_0x31a4cf=_0x4c4b96['w'],_0x109ece=_0x2b051e*_0x31a4cf+_0x162f71*_0x2e1947+_0x383b77*_0x4480ca+_0x4eef00*_0x337c9a;if(_0x109ece<0x8d8*-0x1+-0x1f9+0x3*0x39b&&(_0x31a4cf=-_0x31a4cf,_0x2e1947=-_0x2e1947,_0x4480ca=-_0x4480ca,_0x337c9a=-_0x337c9a,_0x109ece=-_0x109ece),Math['abs'](_0x109ece)>=0x9*0x8d+0x39*-0x79+0x15fd)return this['w']=_0x2b051e,this['x']=_0x162f71,this['y']=_0x383b77,this['z']=_0x4eef00,this;const _0x4db07e=Math['acos'](_0x109ece),_0x413bde=Math['sqrt'](-0x225c+0x13*0x67+-0xf*-0x1c8-_0x109ece*_0x109ece);if(Math['abs'](_0x413bde)<-0x24d8+0x1528+0xfb0+0.001)return this['w']=_0x2b051e*(0xa63*0x2+0x43+-0x703*0x3+0.5)+_0x31a4cf*(0xeb4*0x1+-0x1687+0x7d3+0.5),this['x']=_0x162f71*(0x24da+0x30a*-0x1+0x10e8*-0x2+0.5)+_0x2e1947*(-0x3b9*0x3+-0x147*-0x1+0x9e4+0.5),this['y']=_0x383b77*(-0xd*-0x251+0x9e3*-0x1+-0xa1d*0x2+0.5)+_0x4480ca*(0x31+-0x75*-0x52+-0x1*0x25ab+0.5),this['z']=_0x4eef00*(-0x254e+-0xc70+0x31be+0.5)+_0x337c9a*(0x66a+0x115*-0x7+0x129+0.5),this;const _0x295069=Math['sin']((-0x22e6+0x2096+-0x251*-0x1-_0x102ae1)*_0x4db07e)/_0x413bde,_0x3596fe=Math['sin'](_0x102ae1*_0x4db07e)/_0x413bde;return this['w']=_0x2b051e*_0x295069+_0x31a4cf*_0x3596fe,this['x']=_0x162f71*_0x295069+_0x2e1947*_0x3596fe,this['y']=_0x383b77*_0x295069+_0x4480ca*_0x3596fe,this['z']=_0x4eef00*_0x295069+_0x337c9a*_0x3596fe,this;}['transformV'+'ector'](_0x7e1f08,_0x208f06=new D()){const _0x2a2e5c=_0x7e1f08['x'],_0x3eb277=_0x7e1f08['y'],_0x269125=_0x7e1f08['z'],_0x13d1c9=this['x'],_0x17f0e2=this['y'],_0x24126d=this['z'],_0x4bf621=this['w'],_0x428c9b=_0x4bf621*_0x2a2e5c+_0x17f0e2*_0x269125-_0x24126d*_0x3eb277,_0x208037=_0x4bf621*_0x3eb277+_0x24126d*_0x2a2e5c-_0x13d1c9*_0x269125,_0x59b368=_0x4bf621*_0x269125+_0x13d1c9*_0x3eb277-_0x17f0e2*_0x2a2e5c,_0x71f4a6=-_0x13d1c9*_0x2a2e5c-_0x17f0e2*_0x3eb277-_0x24126d*_0x269125;return _0x208f06['x']=_0x428c9b*_0x4bf621+_0x71f4a6*-_0x13d1c9+_0x208037*-_0x24126d-_0x59b368*-_0x17f0e2,_0x208f06['y']=_0x208037*_0x4bf621+_0x71f4a6*-_0x17f0e2+_0x59b368*-_0x13d1c9-_0x428c9b*-_0x24126d,_0x208f06['z']=_0x59b368*_0x4bf621+_0x71f4a6*-_0x24126d+_0x428c9b*-_0x17f0e2-_0x208037*-_0x13d1c9,_0x208f06;}['fromArray'](_0x2f6d21,_0x1daf18=-0x1*0xeb+-0xe05+-0x1de*-0x8){return this['x']=_0x2f6d21[_0x1daf18]??this['x'],this['y']=_0x2f6d21[_0x1daf18+(-0x531+0x1*0x1da+0x358)]??this['y'],this['z']=_0x2f6d21[_0x1daf18+(-0x7*-0x1cd+-0xa0f+-0x28a)]??this['z'],this['w']=_0x2f6d21[_0x1daf18+(0xe*0xc4+-0x12*-0xc9+-0x18d7)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x3124ac=[],_0x2d9c8a=-0x33d+-0xe42+-0x117f*-0x1){return _0x3124ac[_0x2d9c8a]=this['x'],_0x3124ac[_0x2d9c8a+(0x1f*-0x2b+-0x1941+0x1e77)]=this['y'],_0x3124ac[_0x2d9c8a+(0x5*0x6b9+0x1d3*-0xe+-0x811)]=this['z'],_0x3124ac[_0x2d9c8a+(-0x7ad+-0xc*0x1c+0x900)]=this['w'],_0x3124ac;}};h(Sn,'IDENTITY',Object['freeze'](new Sn(0x136f+0x838+0x1ba7*-0x1,-0x1*-0x455+-0x15ab+0x1156,0x7*0x126+-0x250a+0xe8*0x20,0x8b*-0xd+0xd2e+-0x61e))),h(Sn,'ZERO',Object['freeze'](new Sn(0x23e4+0x2c0+-0x26a4,0x152a+0x1651+0x1*-0x2b7b,-0x611*0x3+0xe*0x6c+0xc4b,-0xc6*0x31+-0x296*-0x9+0xea0)));let le=Sn;const Pa=new D(),Ma=new D(),Um=new D(),Bm=new D(),gx=new D();class De{constructor(_0x36b622,_0x5103df){h(this,'center',new D()),h(this,'halfExtent'+'s',new D(0xa*-0x26d+0x8*-0xb6+-0x2*-0xef9+0.5,0x1ff8+-0xe45+-0x11b3+0.5,0x17e9+0xe8*0x10+-0x2669+0.5)),h(this,'_min',new D()),h(this,'_max',new D()),(_0x36b622&&this['center']['copy'](_0x36b622),_0x5103df&&this['halfExtent'+'s']['copy'](_0x5103df));}['add'](_0x584e36){const _0x5f58f9=this['center'],_0x48d1ca=_0x5f58f9['x'],_0x201cb1=_0x5f58f9['y'],_0xb95f21=_0x5f58f9['z'],_0x1c89c0=this['halfExtent'+'s'],_0x5eb875=_0x1c89c0['x'],_0x14eab7=_0x1c89c0['y'],_0x3b0c08=_0x1c89c0['z'];let _0xc1ff38=_0x48d1ca-_0x5eb875,_0xc1e09c=_0x48d1ca+_0x5eb875,_0x38f534=_0x201cb1-_0x14eab7,_0xaa921b=_0x201cb1+_0x14eab7,_0x5dcff0=_0xb95f21-_0x3b0c08,_0x2b0421=_0xb95f21+_0x3b0c08;const _0x20b3bd=_0x584e36['center'],_0x88a80d=_0x20b3bd['x'],_0x3f41c6=_0x20b3bd['y'],_0x4cc6d1=_0x20b3bd['z'],_0x52ca3a=_0x584e36['halfExtent'+'s'],_0x80679d=_0x52ca3a['x'],_0x1254f9=_0x52ca3a['y'],_0x5b0872=_0x52ca3a['z'],_0x2c7ba4=_0x88a80d-_0x80679d,_0x4b4428=_0x88a80d+_0x80679d,_0x765952=_0x3f41c6-_0x1254f9,_0xbfb613=_0x3f41c6+_0x1254f9,_0x1ebea8=_0x4cc6d1-_0x5b0872,_0x6882be=_0x4cc6d1+_0x5b0872;_0x2c7ba4<_0xc1ff38&&(_0xc1ff38=_0x2c7ba4),_0x4b4428>_0xc1e09c&&(_0xc1e09c=_0x4b4428),_0x765952<_0x38f534&&(_0x38f534=_0x765952),_0xbfb613>_0xaa921b&&(_0xaa921b=_0xbfb613),_0x1ebea8<_0x5dcff0&&(_0x5dcff0=_0x1ebea8),_0x6882be>_0x2b0421&&(_0x2b0421=_0x6882be),_0x5f58f9['x']=(_0xc1ff38+_0xc1e09c)*(0x1ba5+-0xe45*0x2+0xe5+0.5),_0x5f58f9['y']=(_0x38f534+_0xaa921b)*(-0x60*-0x4d+0x1e8d+0x21*-0x1cd+0.5),_0x5f58f9['z']=(_0x5dcff0+_0x2b0421)*(0x2432+0x20*-0x103+-0x3d2+0.5),_0x1c89c0['x']=(_0xc1e09c-_0xc1ff38)*(-0x2370+-0x25ab+0x491b+0.5),_0x1c89c0['y']=(_0xaa921b-_0x38f534)*(-0x7*-0x299+-0x43e+-0xdf1+0.5),_0x1c89c0['z']=(_0x2b0421-_0x5dcff0)*(-0x8f9*0x2+-0x1e4c+0x303e+0.5);}['copy'](_0x47aa56){this['center']['copy'](_0x47aa56['center']),this['halfExtent'+'s']['copy'](_0x47aa56['halfExtent'+'s']);}['clone'](){return new De(this['center'],this['halfExtent'+'s']);}['intersects'](_0x130257){const _0x1e3f50=this['getMax'](),_0x5b21fa=this['getMin'](),_0x5c434d=_0x130257['getMax'](),_0x3a565f=_0x130257['getMin']();return _0x5b21fa['x']<=_0x5c434d['x']&&_0x1e3f50['x']>=_0x3a565f['x']&&_0x5b21fa['y']<=_0x5c434d['y']&&_0x1e3f50['y']>=_0x3a565f['y']&&_0x5b21fa['z']<=_0x5c434d['z']&&_0x1e3f50['z']>=_0x3a565f['z'];}['_intersect'+'sRay'](_0x204225,_0x505527){const _0x5084a5=Pa['copy'](this['getMin']())['sub'](_0x204225['origin']),_0x1a8209=Ma['copy'](this['getMax']())['sub'](_0x204225['origin']),_0x4912da=_0x204225['direction'];_0x4912da['x']===0x28*-0xa7+0xc75+0xda3?(_0x5084a5['x']=_0x5084a5['x']<0x1042*-0x1+0x648+0x4fd*0x2?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x1a8209['x']=_0x1a8209['x']<-0x2b*0xad+-0x193*0x13+-0x2*-0x1d7c?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x5084a5['x']/=_0x4912da['x'],_0x1a8209['x']/=_0x4912da['x']),_0x4912da['y']===0x3*0xd+-0x6e6*-0x1+-0x70d?(_0x5084a5['y']=_0x5084a5['y']<0x1*0x926+-0xaf5*0x2+-0x4c*-0x2b?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x1a8209['y']=_0x1a8209['y']<0x1964+0x1*-0x1f91+0x62d?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x5084a5['y']/=_0x4912da['y'],_0x1a8209['y']/=_0x4912da['y']),_0x4912da['z']===-0x19ce+-0x7d3+0x1*0x21a1?(_0x5084a5['z']=_0x5084a5['z']<0xcf1+0x1*0x121c+-0x1f0d?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x1a8209['z']=_0x1a8209['z']<0x4b1*0x5+-0x1147+0x2*-0x317?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x5084a5['z']/=_0x4912da['z'],_0x1a8209['z']/=_0x4912da['z']);const _0x38e195=Um['set'](Math['min'](_0x5084a5['x'],_0x1a8209['x']),Math['min'](_0x5084a5['y'],_0x1a8209['y']),Math['min'](_0x5084a5['z'],_0x1a8209['z'])),_0x1e7963=Bm['set'](Math['max'](_0x5084a5['x'],_0x1a8209['x']),Math['max'](_0x5084a5['y'],_0x1a8209['y']),Math['max'](_0x5084a5['z'],_0x1a8209['z'])),_0x2babc3=Math['min'](Math['min'](_0x1e7963['x'],_0x1e7963['y']),_0x1e7963['z']),_0x55facd=Math['max'](Math['max'](_0x38e195['x'],_0x38e195['y']),_0x38e195['z']),_0x5534b4=_0x2babc3>=_0x55facd&&_0x55facd>=0x1f*0x63+-0x5*0x46b+-0x50d*-0x2;return _0x5534b4&&_0x505527['copy'](_0x204225['direction'])['mulScalar'](_0x55facd)['add'](_0x204225['origin']),_0x5534b4;}['_fastInter'+'sectsRay'](_0x2d285e){const _0x51e5ab=Pa,_0x508c61=Ma,_0x148ba1=Um,_0xbcde48=Bm,_0xcc8d0b=gx,_0x68d989=_0x2d285e['direction'];return _0x51e5ab['sub2'](_0x2d285e['origin'],this['center']),_0xbcde48['set'](Math['abs'](_0x51e5ab['x']),Math['abs'](_0x51e5ab['y']),Math['abs'](_0x51e5ab['z'])),_0x148ba1['mul2'](_0x51e5ab,_0x68d989),!(_0xbcde48['x']>this['halfExtent'+'s']['x']&&_0x148ba1['x']>=0x1942+0x2fb*0x9+0x43*-0xc7||_0xbcde48['y']>this['halfExtent'+'s']['y']&&_0x148ba1['y']>=0x483+0x6d7*-0x5+-0x19*-0x130||_0xbcde48['z']>this['halfExtent'+'s']['z']&&_0x148ba1['z']>=0x9*-0x383+0x329*0xc+0x21*-0x31||(_0xcc8d0b['set'](Math['abs'](_0x68d989['x']),Math['abs'](_0x68d989['y']),Math['abs'](_0x68d989['z'])),_0x508c61['cross'](_0x68d989,_0x51e5ab),_0x508c61['set'](Math['abs'](_0x508c61['x']),Math['abs'](_0x508c61['y']),Math['abs'](_0x508c61['z'])),_0x508c61['x']>this['halfExtent'+'s']['y']*_0xcc8d0b['z']+this['halfExtent'+'s']['z']*_0xcc8d0b['y'])||_0x508c61['y']>this['halfExtent'+'s']['x']*_0xcc8d0b['z']+this['halfExtent'+'s']['z']*_0xcc8d0b['x']||_0x508c61['z']>this['halfExtent'+'s']['x']*_0xcc8d0b['y']+this['halfExtent'+'s']['y']*_0xcc8d0b['x']);}['intersects'+'Ray'](_0x1d1f44,_0x361d06){return _0x361d06?this['_intersect'+'sRay'](_0x1d1f44,_0x361d06):this['_fastInter'+'sectsRay'](_0x1d1f44);}['setMinMax'](_0x527228,_0x23c258){this['center']['add2'](_0x23c258,_0x527228)['mulScalar'](-0x5*0x1bb+-0x127*0x1e+0x1*0x2b39+0.5),this['halfExtent'+'s']['sub2'](_0x23c258,_0x527228)['mulScalar'](-0x1b97+0x1bed+-0x56+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x495873){const _0x3bccd2=this['getMin'](),_0x3b1ecf=this['getMax']();return!(_0x495873['x']<_0x3bccd2['x']||_0x495873['x']>_0x3b1ecf['x']||_0x495873['y']<_0x3bccd2['y']||_0x495873['y']>_0x3b1ecf['y']||_0x495873['z']<_0x3bccd2['z']||_0x495873['z']>_0x3b1ecf['z']);}['setFromTra'+'nsformedAa'+'bb'](_0x1f8490,_0x44f4fd,_0xabdf3b=!(0x3d*-0x67+-0x1c8a+0x3516)){const _0x407a68=_0x1f8490['center'],_0x991c19=_0x1f8490['halfExtent'+'s'],_0x26a0ac=_0x44f4fd['data'];let _0xa77447=_0x26a0ac[0xdba+-0x26e5+0x192b],_0x5904b6=_0x26a0ac[-0xe38+0x13b2+-0x576],_0x14f880=_0x26a0ac[-0x5*-0x55e+-0x2624+0xb56],_0x52110e=_0x26a0ac[0x2448+0x5d6*0x1+-0x1*0x2a1d],_0xed1175=_0x26a0ac[-0x42b+-0x11d3+0x1603],_0xf2ddb4=_0x26a0ac[-0x210d+-0x14e5+0x35fb],_0x285fb4=_0x26a0ac[-0x29*0x88+-0x4de*0x5+0x6*0x7b0],_0x24eabe=_0x26a0ac[0xc7f*-0x1+0x7*0x4f3+-0x1620],_0x415b44=_0x26a0ac[0x2*0x211+0x254c+0x6*-0x6e6];if(_0xabdf3b){let _0x4a0548=_0xa77447*_0xa77447+_0x5904b6*_0x5904b6+_0x14f880*_0x14f880;if(_0x4a0548>-0x5b3+-0x1873+-0x22*-0xe3){const _0xd0ce57=(0x36a+-0x2589+0x2220)/Math['sqrt'](_0x4a0548);_0xa77447*=_0xd0ce57,_0x5904b6*=_0xd0ce57,_0x14f880*=_0xd0ce57;}if(_0x4a0548=_0x52110e*_0x52110e+_0xed1175*_0xed1175+_0xf2ddb4*_0xf2ddb4,_0x4a0548>0x1d72+-0x104b+-0xd27){const _0x33259a=(0x1702+0x26d0+0x3*-0x149b)/Math['sqrt'](_0x4a0548);_0x52110e*=_0x33259a,_0xed1175*=_0x33259a,_0xf2ddb4*=_0x33259a;}if(_0x4a0548=_0x285fb4*_0x285fb4+_0x24eabe*_0x24eabe+_0x415b44*_0x415b44,_0x4a0548>0x2*-0xc91+0x1f2d+0xd*-0x77){const _0x30587c=(-0xd86+-0x3b*-0x5+0xc60)/Math['sqrt'](_0x4a0548);_0x285fb4*=_0x30587c,_0x24eabe*=_0x30587c,_0x415b44*=_0x30587c;}}this['center']['set'](_0x26a0ac[-0x169*-0x5+0x11e1+-0x18e2]+_0xa77447*_0x407a68['x']+_0x5904b6*_0x407a68['y']+_0x14f880*_0x407a68['z'],_0x26a0ac[0x3*-0x1c+0x1187*0x1+-0x1126]+_0x52110e*_0x407a68['x']+_0xed1175*_0x407a68['y']+_0xf2ddb4*_0x407a68['z'],_0x26a0ac[0x13*-0x3b+0x1b15+-0x16a6]+_0x285fb4*_0x407a68['x']+_0x24eabe*_0x407a68['y']+_0x415b44*_0x407a68['z']),this['halfExtent'+'s']['set'](Math['abs'](_0xa77447)*_0x991c19['x']+Math['abs'](_0x5904b6)*_0x991c19['y']+Math['abs'](_0x14f880)*_0x991c19['z'],Math['abs'](_0x52110e)*_0x991c19['x']+Math['abs'](_0xed1175)*_0x991c19['y']+Math['abs'](_0xf2ddb4)*_0x991c19['z'],Math['abs'](_0x285fb4)*_0x991c19['x']+Math['abs'](_0x24eabe)*_0x991c19['y']+Math['abs'](_0x415b44)*_0x991c19['z']);}static['computeMin'+'Max'](_0x4c2860,_0x499a1a,_0x22585d,_0x530a47=_0x4c2860['length']/(0x4*-0x55d+0x10e3*0x1+-0x2*-0x24a)){if(_0x530a47>-0x1*-0x29+0x665*0x3+-0x1358){let _0x459d80=_0x4c2860[0x1*-0x11ff+0x18*0x9d+-0x1*-0x347],_0x1d35e5=_0x4c2860[0x16d2+0x1*0xefa+-0x19*0x183],_0x23c44c=_0x4c2860[-0x1*0x1715+0x1*-0x24cb+0x3be2],_0x29ece3=_0x459d80,_0x1ff4a2=_0x1d35e5,_0x3bebcf=_0x23c44c;const _0xbb077d=_0x530a47*(-0x577*-0x4+-0x1151+-0x91*0x8);for(let _0x5d32c8=-0x1292+-0x8fe+0x1b93;_0x5d32c8<_0xbb077d;_0x5d32c8+=0x17cf+0x53*0x49+0x1d*-0x1a3){const _0x53aad4=_0x4c2860[_0x5d32c8],_0x258e97=_0x4c2860[_0x5d32c8+(-0x2380+-0xb3f*-0x2+-0xd03*-0x1)],_0x44c54c=_0x4c2860[_0x5d32c8+(-0x38*0x91+0x1a0a+0xe*0x68)];_0x53aad4<_0x459d80&&(_0x459d80=_0x53aad4),_0x258e97<_0x1d35e5&&(_0x1d35e5=_0x258e97),_0x44c54c<_0x23c44c&&(_0x23c44c=_0x44c54c),_0x53aad4>_0x29ece3&&(_0x29ece3=_0x53aad4),_0x258e97>_0x1ff4a2&&(_0x1ff4a2=_0x258e97),_0x44c54c>_0x3bebcf&&(_0x3bebcf=_0x44c54c);}_0x499a1a['set'](_0x459d80,_0x1d35e5,_0x23c44c),_0x22585d['set'](_0x29ece3,_0x1ff4a2,_0x3bebcf);}}['compute'](_0xdcb892,_0x36cee7){De['computeMin'+'Max'](_0xdcb892,Pa,Ma,_0x36cee7),this['setMinMax'](Pa,Ma);}['intersects'+'BoundingSp'+'here'](_0x410156){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x410156)<=_0x410156['radius']*_0x410156['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x8b7021){const _0x2e4235=this['getMin'](),_0x75152c=this['getMax']();let _0x46a1b6=0xbd8+-0x2534+-0x3*-0x874;const _0x504ae2=['x','y','z'];for(let _0x5d6a4c=0x35*-0x37+-0x25ac+0x295*0x13;_0x5d6a4c<0x4f*-0x4d+0x2173*0x1+-0x9ad;++_0x5d6a4c){let _0x331372=-0x1df8+0xa4a+0x13ae;const _0x314189=_0x8b7021['center'][_0x504ae2[_0x5d6a4c]],_0x21d903=_0x2e4235[_0x504ae2[_0x5d6a4c]],_0x11eed0=_0x75152c[_0x504ae2[_0x5d6a4c]];let _0x4fa26e=0x115+0x583*-0x7+0x10*0x258;_0x314189<_0x21d903&&(_0x4fa26e=_0x21d903-_0x314189,_0x331372+=_0x4fa26e*_0x4fa26e),_0x314189>_0x11eed0&&(_0x4fa26e=_0x314189-_0x11eed0,_0x331372+=_0x4fa26e*_0x4fa26e),_0x46a1b6+=_0x331372;}return _0x46a1b6;}['_expand'](_0x48bbfd,_0x1f93ef){Pa['add2'](this['getMin'](),_0x48bbfd),Ma['add2'](this['getMax'](),_0x1f93ef),this['setMinMax'](Pa,Ma);}}const Wl=new D(),Sx=new D();class sp{constructor(_0x56a8f9=new D(),_0x506f3f=0x1d7+-0xbde+0xa07+0.5){h(this,'center'),h(this,'radius'),(w['assert'](!Object['isFrozen'](_0x56a8f9),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x56a8f9,this['radius']=_0x506f3f);}['containsPo'+'int'](_0x4f5c25){const _0x16db6f=Wl['sub2'](_0x4f5c25,this['center'])['lengthSq'](),_0x98111=this['radius'];return _0x16db6f<_0x98111*_0x98111;}['intersects'+'Ray'](_0x17dd74,_0x2398e2){const _0x106cca=Wl['copy'](_0x17dd74['origin'])['sub'](this['center']),_0x465527=_0x106cca['dot'](Sx['copy'](_0x17dd74['direction'])['normalize']()),_0x2184e1=_0x106cca['dot'](_0x106cca)-this['radius']*this['radius'];if(_0x2184e1>0x15ed+0x185e+-0x2e4b*0x1&&_0x465527>-0x1*-0x8b+-0xb61+0xad6)return!(0x1adc+0x1*0x2122+0x3*-0x13ff);const _0x1781e9=_0x465527*_0x465527-_0x2184e1;if(_0x1781e9<0x22c*0x8+0x1a2*-0xd+0x3da)return!(-0x1b7*-0x2+-0x18*0x175+0x11*0x1db);const _0x4f691f=Math['abs'](-_0x465527-Math['sqrt'](_0x1781e9));return _0x2398e2&&_0x2398e2['copy'](_0x17dd74['direction'])['mulScalar'](_0x4f691f)['add'](_0x17dd74['origin']),!(0x76a*0x1+-0x1d94+0x162a);}['intersects'+'BoundingSp'+'here'](_0x8502e7){Wl['sub2'](_0x8502e7['center'],this['center']);const _0x760ee5=_0x8502e7['radius']+this['radius'];return Wl['lengthSq']()<=_0x760ee5*_0x760ee5;}}class QS{constructor(_0x3498ba=D['UP'],_0x5dd836=-0xb78*0x1+-0xdd0+0x1948){h(this,'normal',new D()),h(this,'distance'),(this['normal']['copy'](_0x3498ba),this['distance']=_0x5dd836);}['clone'](){const _0x146d32=this['constructo'+'r'];return new _0x146d32()['copy'](this);}['copy'](_0x2634c4){return this['normal']['copy'](_0x2634c4['normal']),this['distance']=_0x2634c4['distance'],this;}['intersects'+'Line'](_0x10470d,_0x34865c,_0x2ec2ae){const _0x2563b8=this['distance'],_0x48f1dc=this['normal']['dot'](_0x10470d)+_0x2563b8,_0x1a4c60=this['normal']['dot'](_0x34865c)+_0x2563b8,_0x689522=_0x48f1dc/(_0x48f1dc-_0x1a4c60),_0x1c3bdc=_0x689522>=-0x5cc*0x2+-0x7b0+0x1348&&_0x689522<=-0x1*0x801+-0x49*0x43+0x277*0xb;return _0x1c3bdc&&_0x2ec2ae&&_0x2ec2ae['lerp'](_0x10470d,_0x34865c,_0x689522),_0x1c3bdc;}['intersects'+'Ray'](_0x144291,_0x3d4493){const _0x19e2d3=this['normal']['dot'](_0x144291['direction']);if(_0x19e2d3===-0x13d*0x4+0x1049+-0xb55)return!(0x3*-0x4ee+-0xe29+0x1cf4);const _0x46a3e5=-(this['normal']['dot'](_0x144291['origin'])+this['distance'])/_0x19e2d3;return _0x46a3e5>=0x21*0x25+0x5*-0x7b5+0x21c4&&_0x3d4493&&_0x3d4493['copy'](_0x144291['direction'])['mulScalar'](_0x46a3e5)['add'](_0x144291['origin']),_0x46a3e5>=0x1699+-0x24c+0x144d*-0x1;}['normalize'](){const _0x35b465=(-0x19bb*0x1+-0x2321+0x3cdd)/this['normal']['length']();return this['normal']['mulScalar'](_0x35b465),this['distance']*=_0x35b465,this;}['set'](_0x2622b7,_0x57b7fc,_0x2b5f47,_0x28ee0b){return this['normal']['set'](_0x2622b7,_0x57b7fc,_0x2b5f47),this['distance']=_0x28ee0b,this;}['setFromPoi'+'ntNormal'](_0x2de065,_0x3c3e3f){return this['normal']['copy'](_0x3c3e3f),this['distance']=-this['normal']['dot'](_0x2de065),this;}}class yx{constructor(){h(this,'planes',[]);for(let _0x5ce31a=-0x1b*0x101+0x93b+0x11e0;_0x5ce31a<0x154*-0x1+-0x191*0x15+-0x1*-0x223f;_0x5ce31a++)this['planes'][_0x5ce31a]=new QS();}['clone'](){const _0x2e356a=this['constructo'+'r'];return new _0x2e356a()['copy'](this);}['copy'](_0x3c9d88){for(let _0x4f7351=0x2ed+-0x197f*0x1+0x1692;_0x4f7351<0x2*0x6df+0x295*0x1+-0x104d;_0x4f7351++)this['planes'][_0x4f7351]['copy'](_0x3c9d88['planes'][_0x4f7351]);return this;}['setFromMat'+'4'](_0x48f841){const [_0x120471,_0x5514a9,_0x1faa4d,_0x3f1382,_0xe14133,_0x19f587,_0x5453a3,_0x505e80,_0x1f69c6,_0x24b734,_0x1f0e96,_0x908c2d,_0x5bd52a,_0x1cfc23,_0x183461,_0x55ff47]=_0x48f841['data'],_0x4a9b1d=this['planes'];_0x4a9b1d[0x4ba+-0x20ca+0x1c10]['set'](_0x3f1382-_0x120471,_0x505e80-_0xe14133,_0x908c2d-_0x1f69c6,_0x55ff47-_0x5bd52a)['normalize'](),_0x4a9b1d[-0x1*0x521+0x11b8+-0x1*0xc96]['set'](_0x3f1382+_0x120471,_0x505e80+_0xe14133,_0x908c2d+_0x1f69c6,_0x55ff47+_0x5bd52a)['normalize'](),_0x4a9b1d[0x3c3+-0x3e*-0x27+-0xd33]['set'](_0x3f1382+_0x5514a9,_0x505e80+_0x19f587,_0x908c2d+_0x24b734,_0x55ff47+_0x1cfc23)['normalize'](),_0x4a9b1d[-0xdd*0x5+0x5*-0xeb+0x8eb*0x1]['set'](_0x3f1382-_0x5514a9,_0x505e80-_0x19f587,_0x908c2d-_0x24b734,_0x55ff47-_0x1cfc23)['normalize'](),_0x4a9b1d[0x8c0+0xce6*0x3+0x1d3*-0x1a]['set'](_0x3f1382-_0x1faa4d,_0x505e80-_0x5453a3,_0x908c2d-_0x1f0e96,_0x55ff47-_0x183461)['normalize'](),_0x4a9b1d[0x1995+-0x923+-0x106d]['set'](_0x3f1382+_0x1faa4d,_0x505e80+_0x5453a3,_0x908c2d+_0x1f0e96,_0x55ff47+_0x183461)['normalize']();}['containsPo'+'int'](_0x37e129){for(let _0x5f082c=0x43*-0x59+0x2a6+0x14a5;_0x5f082c<0x6*0x2d8+-0x1737+-0x62d*-0x1;_0x5f082c++){const {normal:_0x438752,distance:_0x1010e6}=this['planes'][_0x5f082c];if(_0x438752['dot'](_0x37e129)+_0x1010e6<=-0x1*0x2b9+-0x5a8*0x4+-0x67*-0x3f)return!(-0x448+0x2bf*0x7+0xef0*-0x1);}return!(-0x45*-0x7b+0x141*-0x13+-0x954);}['containsSp'+'here'](_0x3e6046){const {center:_0x2e8a39,radius:_0x3ee6f4}=_0x3e6046;let _0x15a06d=-0x218a+-0x1b33+0x3cbd;for(let _0x4d4ea6=0x1da+-0x115*-0x1+-0x2ef;_0x4d4ea6<-0x3cf+-0x41*-0x34+-0x95f;_0x4d4ea6++){const {normal:_0x424793,distance:_0x182a03}=this['planes'][_0x4d4ea6],_0x54ed17=_0x424793['dot'](_0x2e8a39)+_0x182a03;if(_0x54ed17<=-_0x3ee6f4)return-0x1*0x30d+0x254b+-0x12*0x1e7;_0x54ed17>_0x3ee6f4&&_0x15a06d++;}return _0x15a06d===-0x7a2+0x1*0xae8+-0x340?-0x2*-0x995+0x1*-0xa99+0x7*-0x139:0x9*0x269+-0x7f8+-0xdb8;}}class Dn{constructor(_0x54f99e,_0x12ae7f){h(this,'origin',new D()),h(this,'direction',D['FORWARD']['clone']()),(_0x54f99e&&this['origin']['copy'](_0x54f99e),_0x12ae7f&&this['direction']['copy'](_0x12ae7f));}['set'](_0x37390f,_0x6269cd){return this['origin']['copy'](_0x37390f),this['direction']['copy'](_0x6269cd),this;}['copy'](_0x23f42a){return this['set'](_0x23f42a['origin'],_0x23f42a['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const yt=-0x1ef4+-0x7*-0x194+0x13e8,ue=-0x1514+-0xd1b+0x2230,ip=0x5c*0x3a+0x1ea8+-0x337e,rp=0x7a1*0x5+-0x76e+-0x1eb7,Ft=-0x249b*-0x1+0x15a+-0x25f4,vx=0x2699+0x1633+-0x3cca,JS=-0x1*0x1769+0x865+-0x128*-0xd,xx=-0x25*-0xdf+-0x57*-0xd+-0x1*0x24a1,jh=0x1c7+-0x23fa+-0x2239*-0x1,Yh=-0xd*-0x281+0xa3*0x2f+-0x3e72,fs=-0x2616+0x3bf*-0x1+-0x1*-0x29d5,Tx=-0xb5a+0x67f*0x4+-0xea0,wx=0x2614+0x5*0xb5+-0x299a,Ex=0xcc6+0x69a+0x6*-0x33a,ms=-0x1*0x1c4e+-0x3d*-0x17+-0x1*-0x16d3,lh=-0xd4d+0xcb9*-0x1+0x1a07,ey=0x1d69+0x164+-0x1ecb,bx=-0x1025*0x2+0x18*0xb0+-0x329*-0x5,jo=0x1377+0xc63+-0x1*0x1fd9,Yo=0x10e3+0x195+-0x1276,ch=0x14e5*0x1+-0x5c9*0x6+0xdd5,bt=-0x1*-0x26d5+0x1d36+-0x440b,pa=-0xfb*0x1+0xbd3*0x1+-0xad7,Fo=-0x1*0x15da+-0x5d*-0x47+-0x3ef,Ax=-0x14f4+-0x83c+0x1d33,Te=0x109a+0xbf9*0x2+-0x288c,vt=0x4ae*0x1+-0xb3*0xa+0x251,Kh=-0x47*0x66+-0x1*-0x236b+-0x71f,Zh=0x19b*-0x3+0x24cf+-0x1ffb,Qh=0x1502*-0x1+0x7b6+-0x10*-0xd5,ma=-0x1647+-0x1173*-0x2+-0xc9a,Cx=-0x1e5e+0x7*0x56f+-0x7ab,hh=-0x4b3+-0x2*0x353+-0x1*-0xb5a,dh=0x2b*-0x26+0xb88+-0x524,Wf=0x214f*0x1+0xcfe*-0x1+0xe2*-0x17,Px=0x1903+-0x1f84+0x685*0x1,Mx=0x19a+-0x22f*0x5+-0x1*-0x956,Dx=0x10fa*0x2+0x989*0x2+-0x3500,Wi=-0x1941*-0x1+-0x2*-0x1+0x2*-0xc9e,$f=-0x16f7*-0x1+0x1c40+-0x3337,Yi=0x5af+-0x25f6+0x812*0x4,wr=0x18ad*0x1+0x268a+-0x3f35,ty=0x19a7+-0x1*0x216+0x1*-0x1791,sy=0xab4+0x14d*0x1+0x20*-0x60,ap=0x1e95+0x4*-0x7b0+0x2d,Jh=-0x2394+-0x12f2+0x3689,np=0x1*0x1434+-0x1dcc+-0x6*-0x19a,ed=-0x2265+-0x1*-0x1d11+-0x25*-0x25,Cr=0x1f91*0x1+-0x105*-0x26+-0x4649,Ne=-0xf5b+-0x1*0x22a7+0x3209,td=0xf95*-0x1+-0x67*0x2f+0x1*0x2286,op=0x6c3*0x1+0xe87+0x1541*-0x1,vl=-0x13ae+-0x1*-0xbcf+-0x87*-0xf,ui=-0x23f1+0x1d46+0x6b6,nt=-0x70a+0x6dc+0x3a,Ye=-0xbb7*0x2+-0x1b79+0x32f4,Xt=0x1f95+-0x25bc+0x7*0xe3,Ji=0x613+0x15fb*-0x1+0xff7,$i=0x1*0x25db+-0x1*0x11+-0x12dd*0x2,sd=0x1*-0x238e+-0x1aed+0x3e8c,In=-0x1*-0xea2+-0xec9+-0x3*-0x13,lp=0x855+0x1a5e+-0x8*0x454,_s=0x1*0x178d+0x3*0x245+-0x1e48,id=-0x52e+0x25ca+-0x2087,cp=-0x71c+0x1*0x26d2+-0x1fa0,hp=0xa44+-0xaa*-0x1c+0xf*-0x1eb,xl=-0x226b+0x19a3+0x8e0,Tl=0x223*0xb+-0x86a+-0xca*0x13,rd=-0x44a+-0x1204+0x1668,ad=0x1*-0x131a+-0x47f+-0x2*-0xbda,iy=-0xd98+0x106f*-0x1+-0x5*-0x607,ry=0xfa3+-0x6*0x5ea+-0x46*-0x49,ay=0x205f+0xef7+-0x2f38,ny=-0xc2*-0x5+-0x6a5*0x2+0x99f,dp=-0x114b+-0x1*-0x22f7+-0x118c,oy=-0xaf0+0x22*-0x49+0x14c3,fp=0x1223*-0x2+-0x1df*-0x3+0x1ecb*0x1,up=-0x4f*-0x4f+0x2*0xa5e+-0x2cfa,pp=0x2*-0xe08+0x148d+0x7a7,Ki=-0x213*-0x3+0xf3e*0x2+-0xf*0x270,mp=0x2018+0x21bc+-0x41ae,ly=0xee*0x22+-0x2422+0x4ad,_p=0x16*-0x186+-0xeed+0x3099,gp=-0x1919+-0x1897+0x31d9,Sp=-0x15f5+0x8*0x219+0x557,yp=-0x2a1*0x3+0x17ee+0xfe0*-0x1,vp=0x156e+-0x12*-0x74+-0x2*0xeb5,cy=0x1*-0x22e1+-0x17ad+-0x9b*-0x61,xp=-0x1*-0x21d+-0x1f2+0x3*0x1,nd=-0xc5f*0x1+0x16a0+-0xa12,Tp=0x31a+-0x343*-0x1+-0x62d,Ue=-0xaa*-0x32+-0x1a*0xc2+-0xd4f*0x1,od=-0xc3*-0x28+-0x3*0x15a+-0x1a38,wp=0x1*0x73d+0x1f9e+-0x26a8,Ep=-0x1739+0x2fb*0x2+0x1177,bp=0x486+0x20cf+-0x2520,Xf=-0x3*0x1a1+0x1*-0x17d7+0x4*0x73c,qf=0x5*0x29d+-0x63+-0xc77,jf=-0x8d1+-0x78*0xb+0x3*0x4bb,Yf=0xd*-0x2f+0xdd9*-0x1+0x1079,Kf=-0x79a*-0x3+0x1*-0x2319+0x1*0xc89,Zf=-0xef5+0x4c5*-0x1+0x13f9,hy=0xb4f+0x12ae+0x14b*-0x17,dy=-0x718+-0x9*-0x6a+0x39f,fy=0xf9a*-0x1+0x61*-0x42+0x28de*0x1,uy=-0x1be3+-0x434+0x1*0x205a,Qf=0x49f+-0x2494+0x2039,vn=-0x1582*-0x1+0x1938+0x2e75*-0x1,Nt=new Map([[ty,{'name':'A8','size':0x1,'ldr':!(0x1*0x15d6+-0x1b*-0x81+-0x2b*0xd3)}],[Ep,{'name':'R8','size':0x1,'ldr':!(-0x18f*0x1+-0x3*-0x191+-0x6*0x86)}],[sy,{'name':'L8','size':0x1,'ldr':!(-0x1d26+0x13*-0x1ad+0xd*0x4b1)}],[ap,{'name':'LA8','size':0x2,'ldr':!(0x122+-0x24d3+-0x1*-0x23b1)}],[bp,{'name':'RG8','size':0x2,'ldr':!(0xad3+0x1*0x7ed+-0x12c0)}],[Jh,{'name':'RGB565','size':0x2,'ldr':!(-0x7e*-0x49+-0x1982+-0xa6c)}],[np,{'name':'RGBA5551','size':0x2,'ldr':!(0x3ae+-0xee4+0x29*0x46)}],[ed,{'name':'RGBA4','size':0x2,'ldr':!(0x1943+0x17c*0x13+-0x3577)}],[Cr,{'name':'RGB8','size':0x4,'ldr':!(0x1a19+0x1f0c+-0x3925)}],[Ne,{'name':'RGBA8','size':0x4,'ldr':!(-0x29*-0x6d+-0x181a+-0x7*-0xf3),'srgbFormat':_s}],[od,{'name':'R16F','size':0x2}],[wp,{'name':'RG16F','size':0x4}],[ui,{'name':'RGB16F','size':0x8}],[nt,{'name':'RGBA16F','size':0x8}],[Ye,{'name':'RGB32F','size':0x10}],[Xt,{'name':'RGBA32F','size':0x10}],[Ji,{'name':'R32F','size':0x4}],[$i,{'name':'DEPTH','size':0x4}],[vn,{'name':'DEPTH16','size':0x2}],[sd,{'name':'DEPTHSTENC'+'IL','size':0x4}],[In,{'name':'111110F','size':0x4}],[lp,{'name':'SRGB8','size':0x4,'ldr':!(-0xea0+0x10d+0xd93),'srgb':!(0x200b+0x1*0x1a05+-0x3a10)}],[_s,{'name':'SRGBA8','size':0x4,'ldr':!(-0x2dc*-0xd+-0xdd8+-0x1754),'srgb':!(0xda*-0x25+-0x24*0x13+0x36b*0xa)}],[ny,{'name':'BGRA8','size':0x4,'ldr':!(-0x35*0x9d+-0xa7+0x2128)}],[hy,{'name':'SBGRA8','size':0x4,'ldr':!(-0x1*0x1cb+0xcde+-0x2d*0x3f),'srgb':!(0x116a+-0x175*-0x14+0x65*-0x76)}],[td,{'name':'DXT1','blockSize':0x8,'ldr':!(0x1d87+0x1*0x187f+0x3*-0x1202),'srgbFormat':Xf}],[op,{'name':'DXT3','blockSize':0x10,'ldr':!(-0x33+-0x1017*0x2+-0x1*-0x2061),'srgbFormat':qf}],[vl,{'name':'DXT5','blockSize':0x10,'ldr':!(0xe7d*0x2+0x842+-0x2*0x129e),'srgbFormat':jf}],[id,{'name':'ETC1','blockSize':0x8,'ldr':!(0xf*0x25f+-0x1*0x989+0x2*-0xd04)}],[cp,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(0x11f*0x1a+0x2*-0xd98+-0x1f6),'srgbFormat':Yf}],[hp,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(0x26f1+-0x5a*0x5b+-0x6f3),'srgbFormat':Kf}],[xl,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(0x3*-0x8b5+0x221d+-0xba*0xb),'blockSize':0x8}],[Tl,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(-0x1fed+0x1*0x1d35+0xc*0x3a),'blockSize':0x8}],[rd,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(-0x13fd+0x83*0x7+0x1068),'blockSize':0x8}],[ad,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(-0xa3*-0x5+-0x21d6+0x13*0x19d),'blockSize':0x8}],[iy,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(0x2*0xe4b+-0x1*-0x3ea+-0x2080),'srgbFormat':Zf}],[ry,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(0x3*-0x517+0x1*0x25e+-0x9*-0x16f)}],[ay,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(0x3e*0x8b+0x1*-0x8ab+0x9*-0x2c7)}],[dy,{'name':'BC6H_RGBF','blockSize':0x10}],[fy,{'name':'BC6H_RGBUF','blockSize':0x10}],[uy,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(0x2112+0x5ad+-0x26bf),'srgbFormat':Qf}],[Xf,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(-0x137e+0x1a*0x171+0x47f*-0x4),'srgb':!(-0x25b+0xa30+-0x7d5)}],[qf,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(-0x75*0x3d+-0x24f+0x1e30),'srgb':!(0x4*-0x6bb+-0x618*-0x6+0x2*-0x4d2)}],[jf,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(0xb1*0x1a+0x1b0b+-0x1*0x2d05),'srgb':!(-0x707*0x1+-0x56e*0x1+0xc75)}],[Yf,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(0x4*-0x910+-0x1*0x853+0x2c93*0x1),'srgb':!(0x15f6+0x10bf+-0x26b5)}],[Kf,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(0x21c2+0x1648+-0x380a),'srgb':!(0x790+0x21af+-0x1*0x293f)}],[Zf,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(0x2bb+0x25*-0x16+0x73),'srgb':!(0x93*0x25+-0x1*-0xc7a+-0x21b9*0x1)}],[Qf,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(0xe77+0x333+-0x11aa),'srgb':!(0x25*-0xd6+0x2cf*-0x1+0x21bd)}],[dp,{'name':'R8I','size':0x1,'isInt':!(-0x14dd+-0x1367*-0x2+-0x11f1*0x1)}],[oy,{'name':'R8U','size':0x1,'isInt':!(0xbb5+-0x4af*0x1+-0x706)}],[fp,{'name':'R16I','size':0x2,'isInt':!(-0x2*-0xe4a+0x1ed7*0x1+-0x3b6b)}],[up,{'name':'R16U','size':0x2,'isInt':!(-0x150a+-0x1b43+0x1*0x304d)}],[pp,{'name':'R32I','size':0x4,'isInt':!(-0x188a+-0x26b2+0x3f3c)}],[Ki,{'name':'R32U','size':0x4,'isInt':!(0x601*-0x1+0x503*0x1+0xfe)}],[mp,{'name':'RG8I','size':0x2,'isInt':!(-0x1039+-0x3a*-0x5f+-0x1*0x54d)}],[ly,{'name':'RG8U','size':0x2,'isInt':!(-0x139f*0x1+-0x194e+0x2ced*0x1)}],[_p,{'name':'RG16I','size':0x4,'isInt':!(0x1e*-0x94+0x6b*-0x18+-0x4*-0x6d8)}],[gp,{'name':'RG16U','size':0x4,'isInt':!(0x53f+-0xb46+-0x607*-0x1)}],[Sp,{'name':'RG32I','size':0x8,'isInt':!(-0xf0c+-0x1f9c+0x2ea8)}],[yp,{'name':'RG32U','size':0x8,'isInt':!(0x1131+0xb9*0x15+-0x205e)}],[vp,{'name':'RGBA8I','size':0x4,'isInt':!(0x2579*-0x1+0x283+0x22f6)}],[cy,{'name':'RGBA8U','size':0x4,'isInt':!(-0x23ed+-0x14b*0xf+-0x61*-0x92)}],[xp,{'name':'RGBA16I','size':0x8,'isInt':!(-0x1c10+0x4*0x6b9+0xf*0x14)}],[nd,{'name':'RGBA16U','size':0x8,'isInt':!(0xcc*-0x19+0x1*0x1d39+-0x94d)}],[Tp,{'name':'RGBA32I','size':0x10,'isInt':!(0x22e7*0x1+0x18ca+0x1*-0x3bb1)}],[Ue,{'name':'RGBA32U','size':0x10,'isInt':!(-0x1e5*0xd+-0x88*0x25+-0xec3*-0x3)}]]),Ix=_0x1aed5b=>{var _0x5a3382;return((_0x5a3382=Nt['get'](_0x1aed5b))==null?void(-0xb08*-0x1+-0x89*0x3a+0x1402):_0x5a3382['blockSize'])!==void(0x1*-0x2266+-0x4cd*0x7+0x4401);},fh=_0x15f153=>{var _0x360936;return((_0x360936=Nt['get'](_0x15f153))==null?void(0x1d93+0x2096+-0x3e29):_0x360936['srgb'])===!(0x25dd+0x35d+0x6*-0x6df);},dn=_0xeaad8c=>{var _0x5076e4;return((_0x5076e4=Nt['get'](_0xeaad8c))==null?void(0x68e*-0x1+0x1063+-0x1*0x9d5):_0x5076e4['isInt'])===!(0x157+-0x183*0x3+0x332);},ld=_0x108c45=>{var _0x2ea68e;return((_0x2ea68e=Nt['get'](_0x108c45))==null?void(0x10d9+0x1*0x40c+0x14e5*-0x1):_0x2ea68e['srgbFormat'])||_0x108c45;},Lx=_0x4b300b=>{for(const [_0x5bab28,_0x16ce7f]of Nt)if(_0x16ce7f['srgbFormat']===_0x4b300b)return _0x5bab28;return _0x4b300b;},py=_0xb71b01=>{const _0x31bf3f=Nt['get'](_0xb71b01);return!!(_0x31bf3f!=null&&_0x31bf3f['ldr']&&!(_0x31bf3f!=null&&_0x31bf3f['srgb']));},my=_0x1cfbf7=>{switch(_0x1cfbf7){case Ji:case Ye:case Xt:return Float32Array;case pp:case Sp:case Tp:return Int32Array;case Ki:case yp:case Ue:return Uint32Array;case fp:case _p:case xp:return Int16Array;case bp:case up:case gp:case nd:case Jh:case np:case ed:case od:case wp:case ui:case nt:return Uint16Array;case dp:case mp:case vp:return Int8Array;default:return Uint8Array;}},cd=-0x10d4+0x1*-0x201d+0x30f1,hd=-0x5*0x42b+0x18b3*0x1+0x3*-0x149,_y=0x24a+0x1*-0xfe9+0x48b*0x3,gy=-0x1*-0x13c1+0x233f+-0x36fd,js=-0xa7*0xd+0x265*-0xb+0x22d6,Er=-0x164f+-0x26b3*-0x1+0x17d*-0xb,oa=-0xe8*0x7+-0x1*-0x9ae+-0x350,Me='POSITION',gs='NORMAL',yi='TANGENT',gi='BLENDWEIGH'+'T',us='BLENDINDIC'+'ES',Wt='COLOR',zm='TEXCOORD',is='TEXCOORD0',ba='TEXCOORD1',wl='TEXCOORD2',El='TEXCOORD3',bl='TEXCOORD4',Al='TEXCOORD5',Cl='TEXCOORD6',Pl='TEXCOORD7',Jf='ATTR0',uh='ATTR1',Ap='ATTR2',Cp='ATTR3',Pp='ATTR4',Rx='ATTR5',Ox='ATTR6',Fx='ATTR7',Ko='ATTR8',Zo='ATTR9',Nx='ATTR10',Mp='ATTR11',Dp='ATTR12',ph='ATTR13',Ip='ATTR14',Ln='ATTR15',Sy=0x156a+0xd7c+-0x22e5,xn=-0xde1*-0x1+-0xb*0x7+-0xd94,kx=-0x1*-0x653+0x21*0x9a+-0x1a2b,Ux=0x1a9f+0x11a8+-0x2c44,Bx=-0x14e5+-0x1578+0x1531*0x2,$l=0x7*-0xd+-0x1df*-0x4+-0x721,yy=-0x1ad*-0x17+-0x631+0x5b*-0x5b,Od=0x1*-0x21f+0x26*0x53+0xa31*-0x1,Ds='default',Zi='rgbm',mh='rgbe',Qo='rgbp',Jo='swizzleGGG'+'R',eu=0xaa9*0x3+-0x1665+-0xdf*0xb,Pr=-0x1116+0x13*0x116+-0x38a,vy=0x23a7+0xb*0xb5+0x5f*-0x75,xy='2d',zx=0x12bc*-0x2+-0x179b+0x3b*0x109,Vx='none',tu='cube',Vm='equirect',Gx='octahedral',Fe='glsl',it='wgsl',dd=0x1d1c+0x1dc3+-0x3adf,la=0x344+-0x1c09+0x18c6,fd=0xc97+0x1737+-0x23cc,Ml=-0x61a+0x2493*-0x1+0x556*0x8,Ty=0x2118+-0x239a+0x286,el=0x413+0x58a+-0x998,Ve=-0x13*0x1eb+-0x4f7+0x296e,Tn=0x2254+0x214e+-0x43a2,_a=0x1ae*-0x1+-0x13*-0x194+-0x1c4d,Xs=0x8b7*0x3+-0x1*0xbe+-0x24f*0xb,ga=0x7d7+0x1b33*0x1+-0x2307,ds=-0x20a+0x1964+-0x1756,Rn=0x9b7+0xa7*-0x1f+0xa87,ca=-0x1e*-0xab+-0x81*-0x31+-0x2cb5,ha=-0x1130+-0x11ca+-0x67*-0x57,da=-0x2109+-0x178d*0x1+0x389e,tl=0x19cf+-0xfc8+-0x2*0x4ff,sl=-0x38c+-0x1*-0x7ed+-0x457,il=-0x1c52+-0x1f9c+0x3bf9,_h=-0x26aa+0x8b1*-0x4+0x497a,On=0xcaa*0x1+0x2b6+-0x1*0xf53,li=-0x3*0xc87+-0x2329+-0x2466*-0x2,Hx=-0x372*-0x7+-0x230d+0xafe,Wx=-0x197d+-0x20c*0x9+0x2bf9*0x1,ud=-0x15f4+-0x379*0x2+0x1cf7*0x1,$x=0x136c+0xd9d+-0x20f7,Xx=-0x114d+-0x2124+0x3284,qx=-0x5*-0xdd+-0xa*0x32f+0x1b99,pd=0x4fc*-0x1+-0xe2*0x6+0xa5d,md=0x1*0x907+-0x4b*0x3b+0x858,Lp=0x25d2+-0x2545+0x3b*-0x2,wy=0x26a9*-0x1+0xec5+0x266*0xa,jx=0x6fc*-0x3+-0x1b4*0x5+-0x9*-0x349,Fn=0x20ea+-0x1a5*0xa+0x2*-0x82f,Nn=-0x1*-0x3ee+0x13b0+-0x1783,kn=0x1ee5+-0xce5*0x2+-0x4ff,Un=0x25da+-0x76*-0xb+0xe45*-0x3,Bn=-0x1708+-0x6ce+0x1df4,_d=0x1*0xdd3+0x144*-0x19+-0x4*-0x47c,gd=0x7f7*0x4+0x55*0x3b+-0x3353,zn=-0x6ea+0xb0c+0xcd*-0x5,Sd=-0x1474+-0x3b7*0x1+0x184d,yd=0x17bc+-0xcfd*-0x2+0x103*-0x31,Vn=-0x2*0x1349+0xfb7+0x16ff,vd=-0x1*-0xe1b+0x923*-0x4+-0x3b*-0x62,xd=-0x7a8+0x3*-0x917+0xdb*0x29,gh=0x1*0xced+0x1098+-0x1d5e,Rp=0x5*0x313+0x4*0x89a+-0x319f,Op=0x3db+-0xe68+0xab6,Yx=-0x26f+-0x1919+0xdd9*0x2,Kx=0x247+-0x7*0x45+-0x39,Zx=0x2149*-0x1+0x1*-0x377+0x4*0x93b,Qx=0x633+-0x30+-0x5d6,Jx=-0x171*-0x7+-0x4*0x3b8+0x4f7,eT=-0x11df+-0x1*0x991+0x1b9f,tT=-0x1b1*0x11+0x10d*0x3+0x1*0x19ca,sT=-0x1a1c*0x1+-0x739+0x2186,Ey=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],iT=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],rT=new Map();iT['forEach']((_0x1b1b55,_0x258bcb)=>{_0x1b1b55['forEach'](_0x1a63ee=>rT['set'](_0x1a63ee,_0x258bcb));});const aT='webgl2',Fp=-0x1*0x3d9+0x7*0x403+0x1*-0x183b,by=0x213d+0x649*-0x3+-0x50*0x2e,nT=-0x14a5+-0x1b19+0x2fc2,oT='ldr',Ay=-0xe7b+0xc0*0x1+0xdbc,Cy=-0x1c49+0x14e7+0x764,Py=-0x16e5+-0x120*-0x12+0x2a9,My=0x61*-0x13+0x1*0x1732+-0x43*0x3d,Dy=0x146b*0x1+-0x61*-0x3+-0x157e,Iy=0x15dc+0x410+-0x19cc,Ly=-0x1d14+-0x24f*-0x8+-0x14*-0x8b,Ry=-0x24b2+0xe1f+-0xb*-0x219,lT=0xf6f*-0x1+0x4*0x5fd+-0x3c3*0x2,rl=-0x1821+0x5d5+0x1*0x124c,Oy=-0xc*0x2a5+0x8d5+-0x4*-0x5ba,su=0x1efd+-0x15b*0x7+-0x106*0x15,Np='default',wn=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],No=[0x483+-0x176*-0x3+-0x8e4,-0xba7+0x4*0x8c1+-0x4*0x5d7,-0x1*-0x195b+0x208f+0x88*-0x6d,-0x24bf+0xc52*0x2+-0x1*-0xc1d,0x2191+-0x1d56+0x437*-0x1,0x12cd*0x1+0x1169+-0x2432*0x1,-0x3*-0x9ec+-0x169f+-0x721,0x250c+-0x480+-0x2*0x1045],cT=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Sh=[Uint8Array,Uint16Array,Uint32Array],hT=[0x197b+-0xcec+-0xc8e,0x18b6+-0x1ab6+-0x202*-0x1,-0x1d7d+-0x5c1+-0x1*-0x2342],Fy=new Map([['float','f32'],['vec2','vec2f'],['vec3','vec3f'],['vec4','vec4f'],['int','i32'],['ivec2','vec2i'],['ivec3','vec3i'],['ivec4','vec4i'],['uint','u32'],['uvec2','vec2u'],['uvec3','vec3u'],['uvec4','vec4u']]),Le={};Le[Me]=-0x1*-0x14b+0x2e+-0x179*0x1,Le[gs]=0xb5b+-0x3*0x5ad+0x5ad,Le[gi]=0x7*0x19f+0x19c+-0xcf3,Le[us]=-0x26b4*-0x1+0x925+0x13a*-0x27,Le[Wt]=-0x1*0x2315+-0xf*0x6b+-0x1*-0x295e,Le[is]=-0xbce+0x27*0x25+-0xb0*-0x9,Le[ba]=-0x6*-0x626+-0x2125+-0x1*0x3b9,Le[wl]=0x1f87+0x692*-0x1+-0x18ee,Le[El]=0x3a7+-0x805+0x466,Le[bl]=0x5*0x1d2+0x1459*-0x1+0x13*0x98,Le[Al]=-0x18*0x161+0x1*-0x1163+0x10d7*0x3,Le[Cl]=0xf46+-0x11f5*0x1+0x1*0x2ba,Le[Pl]=-0x2267+0x881*-0x1+-0xabd*-0x4,Le[yi]=-0x1ae4+0x4*0x168+0x1551,Le[Jf]=0x5*0x2+0x2049+0x14b*-0x19,Le[uh]=-0x1ccb+0x2b*-0x18+0x835*0x4,Le[Ap]=-0xdb8*-0x2+-0x1b16+-0x58,Le[Cp]=-0x1052+0x8e*-0x18+0x1da5,Le[Pp]=0x46d*0x1+0x1719+-0x1b82,Le[Rx]=0x1*-0x1777+0x2470+-0xcf4*0x1,Le[Ox]=0x33*0x66+-0x608+-0xe44,Le[Fx]=-0x12b3*-0x1+-0xda3+0x1*-0x509,Le[Ko]=-0x1842+-0xbdf+0x2429,Le[Zo]=-0xa4*-0x1+-0x4*-0x3ae+0x1*-0xf53,Le[Nx]=-0x1bdf+-0x235a+0x1*0x3f43,Le[Mp]=0x468+0x4*0xc4+0x1*-0x76d,Le[Dp]=-0x2b*-0x2f+0x10f5*-0x1+0x91c,Le[ph]=0x87a+0x2c7*-0x9+0x2a*0x65,Le[Ip]=0x20c2+-0x2051+-0x63,Le[Ln]=-0xc5f*-0x2+-0x5*-0x211+0xf9*-0x24;const mr=class mr{static['clearGpuMa'+'rkers'](){mr['markers']['length']=-0x770+0x3f1*-0x3+0x1343;}static['pushGpuMar'+'ker'](_0xb4cea9,_0x29c393){mr['markers']['push'](_0x29c393),_0xb4cea9['pushMarker'](_0x29c393);}static['popGpuMark'+'er'](_0x17e991){mr['markers']['length']&&mr['markers']['pop'](),_0x17e991['popMarker']();}static['toString'](){return mr['markers']['join']('\x20|\x20');}};h(mr,'markers',[]);let Q=mr,dT=-0x94d+0x13ef*0x1+-0x1*0xaa2;class Td{constructor(_0x52e88c,_0x4d06b9){h(this,'slot',-(-0x10e6+0x222+0x1*0xec5)),h(this,'scopeId',null),(this['name']=_0x52e88c,this['visibility']=_0x4d06b9);}}class kp extends Td{}class fT extends Td{constructor(_0x1e8f56,_0x5df257,_0x22993e=!(-0x1*-0x241a+-0x1e5e+-0x5bb)){super(_0x1e8f56,_0x5df257),h(this,'format',''),(this['readOnly']=_0x22993e,w['assert'](_0x22993e||!(_0x5df257&Fp),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class Gm extends Td{constructor(_0x1fb5b8,_0x26a362,_0x2ef292=xy,_0x140636=zx,_0x1cbf9c=!(0x102*-0x7+0x2413*0x1+-0x11*0x1b5),_0x37881a=null){super(_0x1fb5b8,_0x26a362),this['textureDim'+'ension']=_0x2ef292,this['sampleType']=_0x140636,this['hasSampler']=_0x1cbf9c,this['samplerNam'+'e']=_0x37881a??_0x1fb5b8+'_sampler';}}class uT extends Td{constructor(_0x30ebe4,_0x66f187=Ne,_0x58605c=xy,_0x55e63f=!(0x8d3+0x385+-0xc58),_0x4511b9=!(-0x7b5+0x2*0xe76+0x389*-0x6)){super(_0x30ebe4,nT),this['format']=_0x66f187,this['textureDim'+'ension']=_0x58605c,this['write']=_0x55e63f,this['read']=_0x4511b9;}}class Ny{constructor(_0x272c16,_0x299dbf){h(this,'uniformBuf'+'ferFormats',[]),h(this,'textureFor'+'mats',[]),h(this,'storageTex'+'tureFormat'+'s',[]),h(this,'storageBuf'+'ferFormats',[]),(this['id']=dT++,Ea['setName'](this,'BindGroupF'+'ormat_'+this['id']),w['assert'](_0x299dbf));let _0x4bc88f=-0x16*-0xe5+-0xbf6*-0x1+0x384*-0x9;_0x299dbf['forEach'](_0x4ab0ba=>{_0x4ab0ba['slot']=_0x4bc88f++,_0x4ab0ba instanceof Gm&&_0x4ab0ba['hasSampler']&&_0x4bc88f++,_0x4ab0ba instanceof kp?this['uniformBuf'+'ferFormats']['push'](_0x4ab0ba):_0x4ab0ba instanceof Gm?this['textureFor'+'mats']['push'](_0x4ab0ba):_0x4ab0ba instanceof uT?this['storageTex'+'tureFormat'+'s']['push'](_0x4ab0ba):_0x4ab0ba instanceof fT?this['storageBuf'+'ferFormats']['push'](_0x4ab0ba):w['assert']('Invalid\x20bi'+'nd\x20format',_0x4ab0ba);}),this['device']=_0x272c16;const _0x313e3a=_0x272c16['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x4c8bcd,_0x4f08a5)=>this['bufferForm'+'atsMap']['set'](_0x4c8bcd['name'],_0x4f08a5)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x2ab03d,_0xf5c76f)=>{this['textureFor'+'matsMap']['set'](_0x2ab03d['name'],_0xf5c76f),_0x2ab03d['scopeId']=_0x313e3a['resolve'](_0x2ab03d['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x1da580,_0x519715)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x1da580['name'],_0x519715),_0x1da580['scopeId']=_0x313e3a['resolve'](_0x1da580['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x273336,_0x353c3f)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x273336['name'],_0x353c3f),_0x273336['scopeId']=_0x313e3a['resolve'](_0x273336['name']);}),this['impl']=_0x272c16['createBind'+'GroupForma'+'tImpl'](this),w['trace'](K0,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+Q['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0x3eb9a2){const _0x2d4b6f=this['textureFor'+'matsMap']['get'](_0x3eb9a2);return _0x2d4b6f!==void(0x8*-0x4cc+-0x1569+0x3bc9)?this['textureFor'+'mats'][_0x2d4b6f]:null;}['getStorage'+'Texture'](_0x39e4c2){const _0x22dc4c=this['storageTex'+'tureFormat'+'sMap']['get'](_0x39e4c2);return _0x22dc4c!==void(-0x1*-0x1c73+-0x2082+0x40f)?this['storageTex'+'tureFormat'+'s'][_0x22dc4c]:null;}['loseContex'+'t'](){}}class Kt{constructor(){h(this,'_cache',new Map());}['get'](_0x5d4fbd,_0x265f3e){return this['_cache']['has'](_0x5d4fbd)||(this['_cache']['set'](_0x5d4fbd,_0x265f3e()),_0x5d4fbd['on']('destroy',()=>{this['remove'](_0x5d4fbd);}),_0x5d4fbd['on']('devicelost',()=>{var _0x4f2fc0,_0x20c713;(_0x20c713=(_0x4f2fc0=this['_cache']['get'](_0x5d4fbd))==null?void(-0x302+0x1*0x50e+-0x2*0x106):_0x4f2fc0['loseContex'+'t'])==null||_0x20c713['call'](_0x4f2fc0,_0x5d4fbd);})),this['_cache']['get'](_0x5d4fbd);}['remove'](_0x2296e5){var _0x1cf914,_0x42bcb7;(_0x42bcb7=(_0x1cf914=this['_cache']['get'](_0x2296e5))==null?void(-0x1f1d+0x1bbc+-0x361*-0x1):_0x1cf914['destroy'])==null||_0x42bcb7['call'](_0x1cf914,_0x2296e5),this['_cache']['delete'](_0x2296e5);}}class Xi{static['calcLevelD'+'imension'](_0x30cd8c,_0x1daefa){return Math['max'](_0x30cd8c>>_0x1daefa,0x2148+0x1*-0x2383+-0x8f*-0x4);}static['calcMipLev'+'elsCount'](_0x4b146f,_0x8d14b,_0x2ff4eb=-0x355+-0x11c5+0x151b){return-0x272*-0xe+-0x115a+-0x10e1+Math['floor'](Math['log2'](Math['max'](_0x4b146f,_0x8d14b,_0x2ff4eb)));}static['calcLevelG'+'puSize'](_0x4bf9ab,_0x552603,_0x48fb8a,_0x3320fd){var _0x5bda6b;const _0xa43af2=Nt['get'](_0x3320fd);w['assert'](_0xa43af2!==void(-0x7b0+-0x16ff+0x1eaf),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x3320fd);const _0x29e1aa=((_0x5bda6b=Nt['get'](_0x3320fd))==null?void(-0xd*-0x124+-0x1412*0x1+0x53e):_0x5bda6b['size'])??-0x1f35+0x36a+0x5*0x58f;if(_0x29e1aa>0x989*-0x1+0x4ad+0x4dc)return _0x4bf9ab*_0x552603*_0x48fb8a*_0x29e1aa;const _0x5cdcbe=_0xa43af2['blockSize']??0x539+0x98e*-0x1+-0x455*-0x1;let _0xa114e6=Math['floor']((_0x4bf9ab+(-0x5f9*0x1+-0x14a9*0x1+0x1aa5))/(-0x883*0x3+0x1752+0x23b));const _0x4b52f3=Math['floor']((_0x552603+(0x1379*0x2+-0x7*-0x93+-0x2af4))/(0x1d04+0xb3a+-0x283a)),_0x28bac6=Math['floor']((_0x48fb8a+(-0x407+-0x514+0x91e))/(0x5a+0x929+-0x97f));return(_0x3320fd===xl||_0x3320fd===Tl)&&(_0xa114e6=Math['max'](Math['floor'](_0xa114e6/(-0x339*0x1+0x2*-0x4b2+0x3*0x435)),0x20aa+0x1*0x91d+0x2*-0x14e3)),_0xa114e6*_0x4b52f3*_0x28bac6*_0x5cdcbe;}static['calcGpuSiz'+'e'](_0x130913,_0x3f012,_0x30997f,_0x54f9cb,_0x325570,_0x595474){let _0x3954ab=-0x570+0x2*0x255+0xc6;for(;_0x3954ab+=Xi['calcLevelG'+'puSize'](_0x130913,_0x3f012,_0x30997f,_0x54f9cb),!(!_0x325570||_0x130913===-0x74*0x34+0x1*-0x2b+0x17bc&&_0x3f012===0xc39*-0x1+0x12ad+-0x1*0x673&&_0x30997f===-0x10*-0x1cd+-0x31*-0x65+-0x3024);)_0x130913=Math['max'](_0x130913>>0xa45+-0x6be+-0x386,-0x1*-0x1a0f+0x1761+-0x316f),_0x3f012=Math['max'](_0x3f012>>-0x1311+-0x5c3*0x3+0x245b,0x2*0x16+-0x150c+-0x1*-0x14e1),_0x30997f=Math['max'](_0x30997f>>-0x21*-0xcc+0x21b+-0x2d7*0xa,0x115a+-0x117f+0x13*0x2);return _0x3954ab*(_0x595474?0x1be9+0x1b82+0x57*-0xa3:0x3*0xaaf+0x1bf1+0x3*-0x13ff);}}let pT=0x1f3e+-0x1*-0x1999+0x38d7*-0x1;class _e{constructor(_0x32f6b0,_0x23417e={}){h(this,'name'),h(this,'_gpuSize',0x1*0x23da+0x22*0x18+-0x1385*0x2),h(this,'id',pT++),h(this,'_invalid',!(0x4ed+-0x4*0x44e+0xc4c)),h(this,'_lockedLev'+'el',-(0x1213+0x1928+0x1f7*-0x16)),h(this,'_lockedMod'+'e',$l),h(this,'renderVers'+'ionDirty',-0xc96+0x1890+-0xbfa),h(this,'_storage',!(-0x1567*-0x1+-0x25aa+0xc*0x15b)),h(this,'_numLevels',-0x1a*-0x13d+-0x2386+0xd5*0x4),h(this,'_numLevels'+'Requested');var _0x2d2382;this['device']=_0x32f6b0,w['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),w['assert'](!_0x23417e['width']||Number['isInteger'](_0x23417e['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x23417e),w['assert'](!_0x23417e['height']||Number['isInteger'](_0x23417e['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x23417e),w['assert'](!_0x23417e['depth']||Number['isInteger'](_0x23417e['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x23417e),this['name']=_0x23417e['name']??'',this['_width']=Math['floor'](_0x23417e['width']??-0x1a3e+0xc25*-0x1+0x2667),this['_height']=Math['floor'](_0x23417e['height']??-0x20*0x9d+-0x113+0x14b7*0x1),this['_format']=_0x23417e['format']??Ne,this['_compresse'+'d']=Ix(this['_format']),this['_integerFo'+'rmat']=dn(this['_format']),this['_integerFo'+'rmat']&&(_0x23417e['minFilter']=Te,_0x23417e['magFilter']=Te),this['_volume']=_0x23417e['volume']??!(-0xeac*-0x2+0x665*-0x3+0x64*-0x1a),this['_depth']=Math['floor'](_0x23417e['depth']??0x117*0x20+0x7*-0x194+-0x17d3),this['_arrayLeng'+'th']=Math['floor'](_0x23417e['arrayLengt'+'h']??-0x6bc+0x4de*-0x5+0x1f12),this['_storage']=_0x23417e['storage']??!(-0x1f2*0xc+0x1163+0x5f6),this['_cubemap']=_0x23417e['cubemap']??!(0x1*-0x1153+0x473*0x1+0xce1),this['_flipY']=_0x23417e['flipY']??!(-0x12*0x172+-0x700+0x2105),this['_premultip'+'lyAlpha']=_0x23417e['premultipl'+'yAlpha']??!(0xd*0x15b+0xa25+-0x1bc3*0x1),this['_mipmaps']=_0x23417e['mipmaps']??!(-0x74*-0xb+-0xa95*0x3+0x1ac3),this['_numLevels'+'Requested']=_0x23417e['numLevels'],_0x23417e['numLevels']!==void(0x1aed+-0x24e5+-0x9f8*-0x1)&&(this['_numLevels']=_0x23417e['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x23417e['minFilter']??ma,this['_magFilter']=_0x23417e['magFilter']??vt,this['_anisotrop'+'y']=_0x23417e['anisotropy']??0x1*0x1af2+0x8*0x403+0x7*-0x86f,this['_addressU']=_0x23417e['addressU']??yt,this['_addressV']=_0x23417e['addressV']??yt,this['_addressW']=_0x23417e['addressW']??yt,this['_compareOn'+'Read']=_0x23417e['compareOnR'+'ead']??!(-0x103*0x17+0x2477+-0xd31*0x1),this['_compareFu'+'nc']=_0x23417e['compareFun'+'c']??hh,this['_type']=_0x23417e['type']??Ds,w['assert'](!_0x23417e['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),w['assert'](!_0x23417e['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=Vx,this['_cubemap']?this['projection']=tu:_0x23417e['projection']&&_0x23417e['projection']!==tu&&(this['projection']=_0x23417e['projection']),this['profilerHi'+'nt']=_0x23417e['profilerHi'+'nt']??-0xb01+-0x51f+0x1020,this['_levels']=_0x23417e['levels'];const _0x436655=!!_0x23417e['levels'];this['_levels']||this['_clearLeve'+'ls'](),this['recreateIm'+'pl'](_0x436655),_0x32f6b0['textures']['push'](this),w['trace'](Dm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0x2d2382=Nt['get'](this['format']))==null?void(0x3c6*-0x2+-0x4*-0x635+-0x1148):_0x2d2382['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){w['trace'](Dm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x2d4874=this['device'];if(_0x2d4874){const _0x4eaebd=_0x2d4874['textures']['indexOf'](this);_0x4eaebd!==-(0x1a73+0x1ea8+-0x391a)&&_0x2d4874['textures']['splice'](_0x4eaebd,-0x703+0x162e+-0x1*0xf2a),_0x2d4874['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0x2d4874),this['adjustVram'+'SizeTracki'+'ng'](_0x2d4874['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x5500b1=!(-0x21f3*-0x1+-0x1*0x9c7+-0xe*0x1ba)){var _0x304485;const {device:_0x2a76a6}=this;(_0x304485=this['impl'])==null||_0x304485['destroy'](_0x2a76a6),this['impl']=null,this['impl']=_0x2a76a6['createText'+'ureImpl'](this),this['dirtyAll'](),_0x5500b1&&this['upload']();}['_clearLeve'+'ls'](){this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null];}['resize'](_0x55ab76,_0x515ea9,_0x3ae0e9=0x5b*-0x3+-0x44a+0x55c){const _0x278ac4=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x278ac4['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x278ac4),this['_clearLeve'+'ls'](),this['_width']=Math['floor'](_0x55ab76),this['_height']=Math['floor'](_0x515ea9),this['_depth']=Math['floor'](_0x3ae0e9),this['_updateNum'+'Level'](),this['impl']=_0x278ac4['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x5c37b3,_0x1f6c64){w['trace'](X0,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x1f6c64+('\x20vram.text'+'ure:\x20')+_0x5c37b3['tex']+'\x20=>\x20'+(_0x5c37b3['tex']+_0x1f6c64)),_0x5c37b3['tex']+=_0x1f6c64,this['profilerHi'+'nt']===eu?_0x5c37b3['texShadow']+=_0x1f6c64:this['profilerHi'+'nt']===Pr?_0x5c37b3['texAsset']+=_0x1f6c64:this['profilerHi'+'nt']===vy&&(_0x5c37b3['texLightma'+'p']+=_0x1f6c64);}['propertyCh'+'anged'](_0x5581fc){this['impl']['propertyCh'+'anged'](_0x5581fc),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x5061a7=this['mipmaps']?Xi['calcMipLev'+'elsCount'](this['width'],this['height']):0x1*-0x13d6+-0x1629*0x1+0x2a00,_0x193eaf=this['_numLevels'+'Requested'];_0x193eaf!==void(0x2*0xce3+0x1647+-0x300d)&&_0x193eaf>_0x5061a7&&w['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x5061a7,this),this['_numLevels']=Math['min'](_0x193eaf??_0x5061a7,_0x5061a7),this['_mipmaps']=this['_numLevels']>0x123*-0x17+-0x2079+0x3a9f;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x4921dc){this['_minFilter']!==_0x4921dc&&(dn(this['_format'])?w['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x4921dc,this['propertyCh'+'anged'](Ay)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x4541cd){this['_magFilter']!==_0x4541cd&&(dn(this['_format'])?w['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x4541cd,this['propertyCh'+'anged'](Cy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0x10295b){this['_addressU']!==_0x10295b&&(this['_addressU']=_0x10295b,this['propertyCh'+'anged'](Py));}get['addressU'](){return this['_addressU'];}set['addressV'](_0xb320fe){this['_addressV']!==_0xb320fe&&(this['_addressV']=_0xb320fe,this['propertyCh'+'anged'](My));}get['addressV'](){return this['_addressV'];}set['addressW'](_0x283eb4){if(!this['_volume']){w['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0x283eb4!==this['_addressW']&&(this['_addressW']=_0x283eb4,this['propertyCh'+'anged'](Dy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x44c2c8){this['_compareOn'+'Read']!==_0x44c2c8&&(this['_compareOn'+'Read']=_0x44c2c8,this['propertyCh'+'anged'](Iy));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x1be55c){this['_compareFu'+'nc']!==_0x1be55c&&(this['_compareFu'+'nc']=_0x1be55c,this['propertyCh'+'anged'](Ly));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x21b568){this['_anisotrop'+'y']!==_0x21b568&&(this['_anisotrop'+'y']=_0x21b568,this['propertyCh'+'anged'](Ry));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x1f8ff3){this['_mipmaps']!==_0x1f8ff3&&(this['device']['isWebGPU']?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):dn(this['_format'])?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x1f8ff3,_0x1f8ff3&&(this['_needsMipm'+'apsUpload']=!(-0xed*0x1+-0x1e61+0x1f4e*0x1)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0xd19cd0=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===0x2470+0xabb+-0x2f2a);return Xi['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0xd19cd0,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>0xe4*-0x27+0x16f8+0xbc4;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['type'](_0x5c2588){this['_type']!==_0x5c2588&&(this['_type']=_0x5c2588,this['device']['_shadersDi'+'rty']=!(-0x7d6+-0x5*0x177+0xf29));}get['type'](){return this['_type'];}set['srgb'](_0x1fdf6d){var _0xe1375b,_0x3e20f3,_0xf5ba0b,_0x223172;const _0xc9da8a=fh(this['format']);if(_0x1fdf6d!==_0xc9da8a){if(_0x1fdf6d){const _0x1d33ee=ld(this['format']);this['_format']!==_0x1d33ee&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0xe1375b=Nt['get'](this['format']))==null?void(-0x1*-0x16a1+-0x16f6+0x55):_0xe1375b['name'])+'\x20->\x20'+((_0x3e20f3=Nt['get'](_0x1d33ee))==null?void(0x443+-0x4*-0x239+0x5b*-0x25):_0x3e20f3['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x1d33ee,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(0x2380+-0x1d51+-0x62f*0x1));}else{const _0x555e49=Lx(this['format']);this['_format']!==_0x555e49&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0xf5ba0b=Nt['get'](this['format']))==null?void(-0x158b+-0x1384*0x2+0x3c93):_0xf5ba0b['name'])+'\x20->\x20'+((_0x223172=Nt['get'](_0x555e49))==null?void(-0xa5a+-0x18f3+0x234d):_0x223172['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x555e49,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x1*0x2627+-0x2339+0x4960));}}}get['srgb'](){return fh(this['format']);}set['flipY'](_0x916348){this['_flipY']!==_0x916348&&(this['_flipY']=_0x916348,this['_needsUplo'+'ad']=!(0x2c*0x4b+-0x1d06*-0x1+-0x29ea*0x1));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x3d5fe9){this['_premultip'+'lyAlpha']!==_0x3d5fe9&&(this['_premultip'+'lyAlpha']=_0x3d5fe9,this['_needsUplo'+'ad']=!(-0x25*-0x2b+0xa78+0x1*-0x10af));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return Y['powerOfTwo'](this['_width'])&&Y['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case Zi:return'rgbm';case mh:return'rgbe';case Qo:return'rgbp';}return py(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(0x517*-0x7+-0x2207+0x45a8),!(-0xf1b+0x2*-0xd3+0x1*0x10c1),!(0x42c+0x22d9+-0x2705),!(-0x21f8+0x1d*0x17+-0xd9*-0x25),!(0x25*-0x9+0xe19+0x111*-0xc),!(0x258d+0xc13*0x1+0x20*-0x18d)]]:[!(-0x78d*0x3+-0x3b5+0xd2e*0x2)],this['_needsUplo'+'ad']=!(0x13f9+-0xe*0x71+0x3*-0x499),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(0x29*-0x17+-0x3cb*-0x8+-0x1aa8),this['propertyCh'+'anged'](lT);}['lock'](_0x188c42={}){_0x188c42['level']??(_0x188c42['level']=0x242*-0xd+0x1e8f+-0x3*0x67),_0x188c42['face']??(_0x188c42['face']=-0x9*0x3a5+0x9af*-0x1+0x2a7c),_0x188c42['mode']??(_0x188c42['mode']=Od),w['assert'](this['_lockedMod'+'e']===$l,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),w['assert'](_0x188c42['mode']===yy||_0x188c42['mode']===Od,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x188c42['mode'],this['_lockedLev'+'el']=_0x188c42['level'];const _0x27bd01=this['cubemap']?this['_levels'][_0x188c42['face']]:this['_levels'];if((_0x27bd01==null?void(0x1a32+-0xba+-0x8*0x32f):_0x27bd01[_0x188c42['level']])===null){const _0x305e58=Math['max'](-0x1a8c+-0x1530+0x2fbd,this['_width']>>_0x188c42['level']),_0x50f66d=Math['max'](-0x1e8b+0x8*-0x12+0x16*0x16a,this['_height']>>_0x188c42['level']),_0x142550=Math['max'](-0x1*-0x15b+-0x38*-0x15+-0x2f9*0x2,this['_depth']>>_0x188c42['level']),_0x3299d1=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0x305e58,_0x50f66d,_0x142550,this['_format']));_0x27bd01[_0x188c42['level']]=new(my(this['_format']))(_0x3299d1);}return _0x27bd01==null?void(-0x64e+0x4*0x3ff+-0x4d7*0x2):_0x27bd01[_0x188c42['level']];}['setSource'](_0x3ba10f,_0x37fab7=0xe57+-0xc*-0x303+-0x327b){let _0x354a17=!(0x1af0+0xc82*-0x1+-0xe6d),_0x3fd390,_0x154a75;if(this['_cubemap']){if(_0x3ba10f[0xccd+0x3*-0x8d3+0xfa*0xe]){_0x3fd390=_0x3ba10f[-0x1*-0x639+-0x7f0+0x1b7]['width']||-0xc8e+-0x15a3+0x2231,_0x154a75=_0x3ba10f[-0x129b+0x1596+0x1*-0x2fb]['height']||-0x3*0xb23+0x31*-0xb3+-0x7a*-0x8e;for(let _0x539c48=-0x1244+0x101+-0x9*-0x1eb;_0x539c48<0x1b05*-0x1+-0x1cb*-0x8+-0x1*-0xcb3;_0x539c48++){const _0x4462d4=_0x3ba10f[_0x539c48];if(!_0x4462d4||_0x4462d4['width']!==_0x3fd390||_0x4462d4['height']!==_0x154a75||!this['device']['_isBrowser'+'Interface'](_0x4462d4)){_0x354a17=!(-0x14*-0xad+0x2060+-0x2de4);break;}}}else _0x354a17=!(-0x232*0x8+-0xb0e+-0x16*-0x14d);if(!_0x354a17){for(let _0x1cb67e=0x84b+0x29*-0x3a+0x3*0x55;_0x1cb67e<0x1*-0x1a3+0x486*-0x6+0x1ccd;_0x1cb67e++)this['_levels'][_0x37fab7][_0x1cb67e]!==_0x3ba10f[_0x1cb67e]&&(this['_levelsUpd'+'ated'][_0x37fab7][_0x1cb67e]=!(-0xe4e*0x1+0x1*-0xe27+-0x1*-0x1c75));}}else this['device']['_isBrowser'+'Interface'](_0x3ba10f)||(_0x354a17=!(0x2*-0x87+-0x55*-0x22+-0xa3c)),_0x354a17||(_0x3ba10f!==this['_levels'][_0x37fab7]&&(this['_levelsUpd'+'ated'][_0x37fab7]=!(0x65*0x7+0x1ede+-0x1*0x21a1)),_0x3ba10f instanceof HTMLVideoElement?(_0x3fd390=_0x3ba10f['videoWidth'],_0x154a75=_0x3ba10f['videoHeigh'+'t']):(_0x3fd390=_0x3ba10f['width'],_0x154a75=_0x3ba10f['height']));if(_0x354a17){if(this['_width']=-0x32*0xaf+0x1*-0xd13+-0x2f45*-0x1,this['_height']=0x9*0x293+0xdf1*0x2+-0x3309,this['_cubemap']){for(let _0x1b7b44=0x10bb+0xb76+-0x1c31;_0x1b7b44<0x6f7+0x8*0x308+-0x1*0x1f31;_0x1b7b44++)this['_levels'][_0x37fab7][_0x1b7b44]=null,this['_levelsUpd'+'ated'][_0x37fab7][_0x1b7b44]=!(0x116+-0x1*-0x1c63+-0x1d79*0x1);}else this['_levels'][_0x37fab7]=null,this['_levelsUpd'+'ated'][_0x37fab7]=!(-0x6b1+0x2*0x66e+0x62b*-0x1);}else _0x37fab7===-0x1909+0x1949+-0x40&&(this['_width']=_0x3fd390,this['_height']=_0x154a75),this['_levels'][_0x37fab7]=_0x3ba10f;(this['_invalid']!==_0x354a17||!_0x354a17)&&(this['_invalid']=_0x354a17,this['upload']());}['getSource'](_0x3bfae4=0xcc8*0x1+-0x1ac1+0x49*0x31){return this['_levels'][_0x3bfae4];}['unlock'](){this['_lockedMod'+'e']===$l&&w['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===Od&&this['upload'](),this['_lockedLev'+'el']=-(-0x3*0xbe1+0x86e+0x1b36),this['_lockedMod'+'e']=$l;}['upload'](){var _0x1d4643,_0x59439b;this['_needsUplo'+'ad']=!(-0x8*-0xca+0x87a*-0x3+-0x98f*-0x2),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x59439b=(_0x1d4643=this['impl'])['uploadImme'+'diate'])==null||_0x59439b['call'](_0x1d4643,this['device'],this);}['read'](_0x3b67b5,_0x1be430,_0x52e784,_0x333356,_0xfd35d8={}){var _0x5ededc,_0x58926c;return(_0x58926c=(_0x5ededc=this['impl'])['read'])==null?void(-0xc2b+-0xe3c+0x1a67):_0x58926c['call'](_0x5ededc,_0x3b67b5,_0x1be430,_0x52e784,_0x333356,_0xfd35d8);}['write'](_0x40cb0f,_0x3c4c7a,_0x45f57d,_0x1d3b3c,_0x495080){var _0x1215ff,_0x359082;return(_0x359082=(_0x1215ff=this['impl'])['write'])==null?void(-0x1fbb*-0x1+-0x3*-0x96f+0x88*-0x71):_0x359082['call'](_0x1215ff,_0x40cb0f,_0x3c4c7a,_0x45f57d,_0x1d3b3c,_0x495080);}}const mT={'white':[-0x2363+0x154e+-0x1*-0xf14,0x13b3+0x382+0x1*-0x1636,0x24c1*-0x1+-0x1*0x18fd+0x1*0x3ebd,-0x1469+0x2669*0x1+0x1101*-0x1],'gray':[0x2*-0xec1+0x267e+-0x6*0x16a,0x30*0x58+0x1da7+0x1f*-0x179,-0x191a+0x1*0x2462+-0xf*0xb8,0x367+-0x179d+-0x1535*-0x1],'black':[-0x2f1*0x2+0x10aa+-0xac8,0x1e*0x99+0xabb+-0x1ca9,-0xf5a+0x1557*0x1+-0x5fd,-0x534+0xc*0x17f+-0xbc1],'normal':[0x19*0x107+0xaf6+-0x1*0x2425,-0x11*0x28+-0x329*-0x7+-0x12f7,-0x1*-0xe89+-0x11f5+0x46b,-0xf4b+-0xa+0x37*0x4c],'pink':[0x205d*-0x1+0x7*-0x2a7+0x33ed*0x1,0x1496*0x1+-0x2286+0xc*0x134,0x10d2+-0x6bf+-0x914,0x1369+-0x204b+-0x11*-0xd1]};class _T{constructor(){h(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x447692=>{_0x447692['destroy']();});}}const gT=new Kt(),fa=(_0x497e19,_0x306e86)=>{const _0x4442af=gT['get'](_0x497e19,()=>new _T());if(!_0x4442af['map']['has'](_0x306e86)){const _0x4b0b1e=new _e(_0x497e19,{'name':'built-in-t'+'exture-'+_0x306e86,'width':0x1,'height':0x1,'format':Ne}),_0x1e884d=_0x4b0b1e['lock'](),_0xc9b1cd=mT[_0x306e86];w['assert'](_0xc9b1cd,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x306e86+('\x27\x20not\x20foun'+'d')),_0x1e884d['set'](_0xc9b1cd),_0x4b0b1e['unlock'](),_0x4442af['map']['set'](_0x306e86,_0x4b0b1e);}return _0x4442af['map']['get'](_0x306e86);};let ST=-0x9cc+0x15fa+-0xc2e*0x1;class ky{constructor(){h(this,'bindGroup'),h(this,'offsets',[]);}}class Up{constructor(_0x2d98e2,_0x359a23,_0x8122ba){h(this,'renderVers'+'ionUpdated',-(0xbf2+-0x390+-0x861)),h(this,'uniformBuf'+'fers'),h(this,'uniformBuf'+'ferOffsets',[]),(this['id']=ST++,this['device']=_0x2d98e2,this['format']=_0x359a23,this['dirty']=!(-0x40*0x3b+0x17c3+-0x903*0x1),this['impl']=_0x2d98e2['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x8122ba,_0x8122ba&&this['setUniform'+'Buffer'](Np,_0x8122ba),w['trace'](Y0,'Alloc:\x20Id\x20'+this['id'],this,_0x359a23));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x1b6718,_0x263a2b){const _0xbce6f9=this['format']['bufferForm'+'atsMap']['get'](_0x1b6718);w['assert'](_0xbce6f9!==void(-0x17e*-0x7+0x14d5+-0x1f47),'Setting\x20a\x20'+'uniform\x20['+_0x1b6718+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['uniformBuf'+'fers'][_0xbce6f9]!==_0x263a2b&&(this['uniformBuf'+'fers'][_0xbce6f9]=_0x263a2b,this['dirty']=!(0x31d*0x9+-0xe23+-0x6f1*0x2));}['setStorage'+'Buffer'](_0x233bc6,_0x387f8a){const _0x57e981=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x233bc6);w['assert'](_0x57e981!==void(-0x1*-0x1c95+-0x47b*-0x1+0x10*-0x211),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x233bc6+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageBuf'+'fers'][_0x57e981]!==_0x387f8a&&(this['storageBuf'+'fers'][_0x57e981]=_0x387f8a,this['dirty']=!(0x75c+-0x2645+0x1ee9));}['setTexture'](_0x50ce0e,_0x57a6ff){const _0x1552d7=this['format']['textureFor'+'matsMap']['get'](_0x50ce0e);w['assert'](_0x1552d7!==void(-0x1aad+0x659+0x515*0x4),'Setting\x20a\x20'+'texture\x20['+_0x50ce0e+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['textures'][_0x1552d7]!==_0x57a6ff?(this['textures'][_0x1552d7]=_0x57a6ff,this['dirty']=!(0x20bc+-0x1749+0x973*-0x1)):this['renderVers'+'ionUpdated']<_0x57a6ff['renderVers'+'ionDirty']&&(this['dirty']=!(-0x123f+0x775+0xaca));}['setStorage'+'Texture'](_0x3d455f,_0x17ed3f){const _0x339e21=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x3d455f);w['assert'](_0x339e21!==void(0x2297+0x4f*-0x36+0x11ed*-0x1),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x3d455f+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageTex'+'tures'][_0x339e21]!==_0x17ed3f?(this['storageTex'+'tures'][_0x339e21]=_0x17ed3f,this['dirty']=!(-0x16a4+0x5cc*-0x1+-0x1c*-0x104)):this['renderVers'+'ionUpdated']<_0x17ed3f['renderVers'+'ionDirty']&&(this['dirty']=!(-0x1*-0x1bdb+-0x270a+0xb2f*0x1));}['updateUnif'+'ormBuffers'](){for(let _0x1961b3=-0x13*0x33+0x22db*0x1+-0x1f12;_0x1961b3<this['uniformBuf'+'fers']['length'];_0x1961b3++)this['uniformBuf'+'fers'][_0x1961b3]['update']();}['update'](){const {textureFormats:_0x2b5a31,storageTextureFormats:_0x440c19,storageBufferFormats:_0x2b92c6}=this['format'];for(let _0x22dbe3=-0x5c*0x13+0x11*0x1e6+-0x2*0xcb9;_0x22dbe3<_0x2b5a31['length'];_0x22dbe3++){const _0x2bd5d6=_0x2b5a31[_0x22dbe3];let _0x153224=_0x2bd5d6['scopeId']['value'];_0x153224||(_0x2bd5d6['name']==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x153224=fa(this['device'],'white')),_0x2bd5d6['name']==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x153224=fa(this['device'],'pink')),_0x153224||(w['errorOnce']('Texture\x20'+_0x2bd5d6['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+Q['toString']()+']'),_0x153224=fa(this['device'],'pink'))),this['setTexture'](_0x2bd5d6['name'],_0x153224);}for(let _0x584193=0xd2f+0x585+-0x39*0x54;_0x584193<_0x440c19['length'];_0x584193++){const _0x595dbc=_0x440c19[_0x584193],_0x517aed=_0x595dbc['scopeId']['value'];w['assert'](_0x517aed,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x595dbc['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Texture'](_0x595dbc['name'],_0x517aed);}for(let _0x106a3e=-0x1db7+-0x1*-0x8c7+-0x29e*-0x8;_0x106a3e<_0x2b92c6['length'];_0x106a3e++){const _0x3ed9b3=_0x2b92c6[_0x106a3e],_0x30c116=_0x3ed9b3['scopeId']['value'];w['assert'](_0x30c116,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0x3ed9b3['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Buffer'](_0x3ed9b3['name'],_0x30c116);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0x787f71=-0x2485+0xd*0x67+0x1f4a;_0x787f71<this['uniformBuf'+'fers']['length'];_0x787f71++){const _0x75f282=this['uniformBuf'+'fers'][_0x787f71];this['uniformBuf'+'ferOffsets'][_0x787f71]=_0x75f282['offset'],this['renderVers'+'ionUpdated']<_0x75f282['renderVers'+'ionDirty']&&(this['dirty']=!(0xf3d+-0x2*0xdf3+-0x7*-0x1cf));}this['dirty']&&(this['dirty']=!(0x2579+0x1028+-0x60*0x8f),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const qe={'set'(_0x34b489,_0xe08ea3,_0x96adc4,_0x4ee58c=-0x194e*-0x1+-0x6*0x15b+-0x5b9*0x3){return _0x34b489&~(_0x4ee58c<<_0x96adc4)|_0xe08ea3<<_0x96adc4;},'get'(_0x28b74f,_0x27866c,_0x524fee=-0x772*-0x2+-0x67*-0xf+-0x1*0x14ec){return _0x28b74f>>_0x27866c&_0x524fee;},'all'(_0x21ecc8,_0x4e3d95,_0x52da37=-0x5*0x6bf+-0x5*0x259+0x2d79){const _0x442ea2=_0x52da37<<_0x4e3d95;return(_0x21ecc8&_0x442ea2)===_0x442ea2;},'any'(_0x32419c,_0x55363a,_0xb88fd6=0x1042+0xd05+0x1d46*-0x1){return(_0x32419c&_0xb88fd6<<_0x55363a)!==-0x4*0x776+0x1d08+0xd0;}},Xl=-0x2138+-0x1c77+0x3db6,ir=0x2fd+0x11*-0x97+-0x4f*-0x17,Hm=0x19f*0x1+-0x18cd+-0x2e*-0x81,Wm=0x112f+-0x1a10+-0x8e4*-0x1,$m=-0x4fb+-0x2309*-0x1+-0x1e07,Xm=0xcbe+0x18bb*0x1+-0x256e,qm=0x245b+-0x5d6+-0x1e77,jm=0xa9a*-0x1+0x1e75+-0x13c9,iu=0x1a54+-0x695*-0x3+-0x2dfd,Ym=0x1*0x3bf+0xee0+-0x1288,Km=0x257+0x1378*0x2+-0x1*0x292f,Zm=-0x3*-0xbdb+0x1*0x1402+0x1bbd*-0x2,Qm=0x2*-0x1292+-0xd03+0x3241,yT=-0x3a6*-0xa+0x10f3*0x1+-0x6ac*0x8,vT=iu,ri=class ri{constructor(_0x4b105c=!(0x3*0xcf7+-0x5b*-0x3e+-0x3cee),_0x58cb72=fs,_0x36dbf5=Ft,_0x1df4e6=rp,_0x2cdb2f,_0xf582c1,_0x3d0fa5,_0x57315a=!(0x1934*-0x1+-0x165b+0x2f8f),_0x5694d3=!(0xacb*0x1+-0x83f*0x1+0x2*-0x146),_0x3c4c76=!(-0x3f*-0x1+-0x1f18+0x1ed9),_0x36f4b7=!(0x1be+0xb*0x24b+0x27*-0xb1)){h(this,'target0',-0xc56*-0x1+-0x55*-0x2b+-0x1a9d),(this['setColorBl'+'end'](_0x58cb72,_0x36dbf5,_0x1df4e6),this['setAlphaBl'+'end'](_0x2cdb2f??_0x58cb72,_0xf582c1??_0x36dbf5,_0x3d0fa5??_0x1df4e6),this['setColorWr'+'ite'](_0x57315a,_0x5694d3,_0x3c4c76,_0x36f4b7),this['blend']=_0x4b105c);}set['blend'](_0x5b6aca){this['target0']=qe['set'](this['target0'],_0x5b6aca?0x269e+-0x1ee1+-0x7bc:0x2404*-0x1+-0x1*0x1186+0x358a,Qm);}get['blend'](){return qe['all'](this['target0'],Qm);}['setColorBl'+'end'](_0x53c16b,_0x11f981,_0x4cdab9){this['target0']=qe['set'](this['target0'],_0x53c16b,Hm,Xl),this['target0']=qe['set'](this['target0'],_0x11f981,Wm,ir),this['target0']=qe['set'](this['target0'],_0x4cdab9,$m,ir);}['setAlphaBl'+'end'](_0x20d5b1,_0x6bb7c,_0x33cf1d){this['target0']=qe['set'](this['target0'],_0x20d5b1,Xm,Xl),this['target0']=qe['set'](this['target0'],_0x6bb7c,qm,ir),this['target0']=qe['set'](this['target0'],_0x33cf1d,jm,ir);}['setColorWr'+'ite'](_0x29a70b,_0x4b2f06,_0x54f60a,_0x3a2645){this['redWrite']=_0x29a70b,this['greenWrite']=_0x4b2f06,this['blueWrite']=_0x54f60a,this['alphaWrite']=_0x3a2645;}get['colorOp'](){return qe['get'](this['target0'],Hm,Xl);}get['colorSrcFa'+'ctor'](){return qe['get'](this['target0'],Wm,ir);}get['colorDstFa'+'ctor'](){return qe['get'](this['target0'],$m,ir);}get['alphaOp'](){return qe['get'](this['target0'],Xm,Xl);}get['alphaSrcFa'+'ctor'](){return qe['get'](this['target0'],qm,ir);}get['alphaDstFa'+'ctor'](){return qe['get'](this['target0'],jm,ir);}set['redWrite'](_0x23c462){this['target0']=qe['set'](this['target0'],_0x23c462?0xca1+0xd1b*-0x1+0x7b:-0x1145*0x1+0x52e+-0xc17*-0x1,iu);}get['redWrite'](){return qe['all'](this['target0'],iu);}set['greenWrite'](_0x2a2757){this['target0']=qe['set'](this['target0'],_0x2a2757?-0x26ab+-0xd13*0x1+0xd*0x3fb:-0x2*-0xdc3+0x205*0x12+-0x92*0x70,Ym);}get['greenWrite'](){return qe['all'](this['target0'],Ym);}set['blueWrite'](_0x49808d){this['target0']=qe['set'](this['target0'],_0x49808d?-0x12e0+-0x1*-0x25b8+-0x12d7:-0xf6*0x1d+-0x1689+0x45*0xbb,Km);}get['blueWrite'](){return qe['all'](this['target0'],Km);}set['alphaWrite'](_0x102648){this['target0']=qe['set'](this['target0'],_0x102648?0x13ab+0xeb+0x1495*-0x1:-0x1*0x112+-0x1*0x14b0+0x45a*0x5,Zm);}get['alphaWrite'](){return qe['all'](this['target0'],Zm);}get['allWrite'](){return qe['get'](this['target0'],vT,yT);}['copy'](_0x5b94c0){return this['target0']=_0x5b94c0['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0x1b2564){return this['target0']===_0x1b2564['target0'];}};h(ri,'NOBLEND',Object['freeze'](new ri())),h(ri,'NOWRITE',Object['freeze'](new ri(void(0x706+-0x12aa+0xba4),void(0x4f*0xb+0x1*-0x183b+0x14d6),void(-0x26ad*-0x1+0x54a*-0x5+-0xc3b),void(-0xd00+-0xbd0+0x18d0),void(-0x129c*-0x1+0x795+-0x1a31),void(-0xe*0x203+0x2*0x53+-0x6e1*-0x4),void(-0x13e9+-0x2*-0x1095+-0xd41),!(-0x1*0xdee+0x1*-0x1b7c+0x296b),!(-0x689*0x2+0x2422+-0x170f),!(-0x17*-0xa3+0x2*0xce7+-0x1439*0x2),!(-0x1184+0x6*0x673+-0x152d)))),h(ri,'ALPHABLEND',Object['freeze'](new ri(!(-0x1f71+0x1588+0x9e9),fs,jh,Yh))),h(ri,'ADDBLEND',Object['freeze'](new ri(!(-0x107f+-0x1185+0x2204),fs,Ft,Ft)));let pt=ri;class Bp{constructor(){h(this,'map',new Map()),h(this,'id',0x1914+0x1*-0x209b+0x787);}['get'](_0xf11c1f){let _0x2a2bf6=this['map']['get'](_0xf11c1f);return _0x2a2bf6===void(0x22d6+-0x3e6+0x14*-0x18c)&&(_0x2a2bf6=this['id']++,this['map']['set'](_0xf11c1f,_0x2a2bf6)),_0x2a2bf6;}}const xT=new Bp(),Jm=0xd1f+0x2*0x108e+-0x2e34,e_=0xbba+-0x8e6+-0x2d4,t_=0xc9c*0x1+-0x1863*-0x1+-0x24fc,_r=class _r{constructor(_0x261f65=Wf,_0x5acaa0=!(-0xa*0x1b7+-0x2*0x9d1+0x24c8)){h(this,'data',0x1c02+-0xc1*0x2+-0x1a80),h(this,'_depthBias',-0x110a+0x2473+-0x1*0x1369),h(this,'_depthBias'+'Slope',0x23*0x43+-0xb67+-0x7*-0x52),h(this,'key',-0x1*-0x152e+-0x16fa+0x17*0x14),(this['func']=_0x261f65,this['write']=_0x5acaa0);}set['test'](_0x564e00){this['func']=_0x564e00?Wf:Wi,this['updateKey']();}get['test'](){return this['func']!==Wi;}set['write'](_0x2ad92e){this['data']=qe['set'](this['data'],_0x2ad92e?0x254a+-0x9*-0x13d+-0x306e:-0x212d+0xcc+0xacb*0x3,t_),this['updateKey']();}get['write'](){return qe['all'](this['data'],t_);}set['func'](_0x25abb4){this['data']=qe['set'](this['data'],_0x25abb4,e_,Jm),this['updateKey']();}get['func'](){return qe['get'](this['data'],e_,Jm);}set['depthBias'](_0x18a5ed){this['_depthBias']=_0x18a5ed,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x2afcc8){this['_depthBias'+'Slope']=_0x2afcc8,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x479fb8){return this['data']=_0x479fb8['data'],this['_depthBias']=_0x479fb8['_depthBias'],this['_depthBias'+'Slope']=_0x479fb8['_depthBias'+'Slope'],this['key']=_0x479fb8['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x5838c5,_depthBias:_0x303f63,_depthBiasSlope:_0x19e246}=this,_0x115b7f=_0x5838c5+'-'+_0x303f63+'-'+_0x19e246;this['key']=xT['get'](_0x115b7f);}['equals'](_0x2495e6){return this['key']===_0x2495e6['key'];}};h(_r,'DEFAULT',Object['freeze'](new _r())),h(_r,'NODEPTH',Object['freeze'](new _r(Wi,!(-0x567+0xdb2+-0x84a)))),h(_r,'WRITEDEPTH',Object['freeze'](new _r(Wi,!(0x3ff*-0x5+-0x1*0xe0+0x14db*0x1))));let Yt=_r;class Uy{constructor(){h(this,'globalId',0x27*-0x8f+-0x25*-0xd+-0x8*-0x27d),h(this,'revision',0x1*0xc76+0x26a2*-0x1+0x1a2c);}['equals'](_0x42a9e3){return this['globalId']===_0x42a9e3['globalId']&&this['revision']===_0x42a9e3['revision'];}['copy'](_0x3422ae){this['globalId']=_0x3422ae['globalId'],this['revision']=_0x3422ae['revision'];}['reset'](){this['globalId']=-0x23b2+-0x21ed+0x1c9*0x27,this['revision']=0x2626*0x1+0x2d5+-0x28fb;}}let s_=-0x2*-0x5e7+0x1*-0x13d5+-0x5*-0x19b;class TT{constructor(){s_++,this['version']=new Uy(),this['version']['globalId']=s_;}['increment'](){this['version']['revision']++;}}class wT{constructor(_0x5b2d28){this['name']=_0x5b2d28,this['value']=null,this['versionObj'+'ect']=new TT();}['toJSON'](_0x1ee757){}['setValue'](_0x436863){this['value']=_0x436863,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class ET{constructor(_0x3d811d){this['name']=_0x3d811d,this['variables']=new Map();}['resolve'](_0x3e0054){return this['variables']['has'](_0x3e0054)||this['variables']['set'](_0x3e0054,new wT(_0x3e0054)),this['variables']['get'](_0x3e0054);}['removeValu'+'e'](_0xf2e640){for(const _0x1caf9c in this['variables']){const _0x22c522=this['variables'][_0x1caf9c];_0x22c522['value']===_0xf2e640&&(_0x22c522['value']=null);}}}let bT=0x1d10*0x1+-0x7*-0x1ac+0x1*-0x28c4;class Is{constructor(_0x27b05e,_0x12c1b7,_0x360b78,_0x458d02){h(this,'usage',ms),(w['assert'](arguments['length']<=0x1c4f*-0x1+-0x3*-0x95c+0x3f&&(!_0x458d02||typeof _0x458d02=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x458d02==null?void(-0xfea+0x26d5*0x1+0x16eb*-0x1):_0x458d02['usage'])??ms,this['device']=_0x27b05e,this['format']=_0x12c1b7,this['numVertice'+'s']=_0x360b78,this['id']=bT++,this['impl']=_0x27b05e['createVert'+'exBufferIm'+'pl'](this,_0x12c1b7,_0x458d02),this['numBytes']=_0x12c1b7['verticesBy'+'teSize']?_0x12c1b7['verticesBy'+'teSize']:_0x12c1b7['size']*_0x360b78,this['adjustVram'+'SizeTracki'+'ng'](_0x27b05e['_vram'],this['numBytes']));const _0x8e9a2d=_0x458d02==null?void(-0x2b3*0xb+0x90f+-0x2*-0xa51):_0x458d02['data'];_0x8e9a2d?this['setData'](_0x8e9a2d):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x1fb937=this['device'],_0x59c1ad=_0x1fb937['buffers']['indexOf'](this);_0x59c1ad!==-(0x141b+-0x2309+0xeef)&&_0x1fb937['buffers']['splice'](_0x59c1ad,-0x472*-0x1+-0x79*0x3+-0x1*0x306),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x1fb937),this['adjustVram'+'SizeTracki'+'ng'](_0x1fb937['_vram'],-this['storage']['byteLength'])),this['storage']=null;}['adjustVram'+'SizeTracki'+'ng'](_0x33cc58,_0x2f9b2b){w['trace'](q0,this['id']+'\x20size:\x20'+_0x2f9b2b+'\x20vram.vb:\x20'+_0x33cc58['vb']+'\x20=>\x20'+(_0x33cc58['vb']+_0x2f9b2b)),_0x33cc58['vb']+=_0x2f9b2b;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x5508ba){return _0x5508ba['byteLength']!==this['numBytes']?(w['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x5508ba['byteLength']),!(-0x3*0x704+-0x380+-0x82f*-0x3)):(this['storage']=_0x5508ba,this['unlock'](),!(-0x2598+0x11ed+0x13ab));}}function hi(_0x4fbe19){if(_0x4fbe19==null)return-0x498+0x25*-0x45+0xe91;let _0x4403eb=-0x8cd+-0x980+-0x5*-0x3a9;for(let _0xf155d=0x1*0x34b+0x1a0c+0x25*-0xcb,_0x40b194=_0x4fbe19['length'];_0xf155d<_0x40b194;_0xf155d++)_0x4403eb=(_0x4403eb<<0x1fef+-0x5*0x1a5+-0x1*0x17b1)-_0x4403eb+_0x4fbe19['charCodeAt'](_0xf155d),_0x4403eb|=-0x35*0x9e+0xead+0x1*0x1209;return _0x4403eb;}function By(_0x1334cb){let _0x1033f6=0x51b7a53b*-0x1+0x67a36*0x1eda+0xafddd04;for(let _0xef4e44=-0x98b+-0x49*0xa+0xc65;_0xef4e44<_0x1334cb['length'];_0xef4e44++)_0x1033f6^=_0x1334cb[_0xef4e44],_0x1033f6*=0x1477786+0x7313b9+-0xc6f94*0xf;return _0x1033f6>>>-0x1*-0x1633+-0x1c77+0x644;}const AT=new Bp(),CT=[0x25cb*-0x1+-0x6b1*-0x3+0x11ba,0x21*0x115+-0x1*-0x16db+-0x1384*0x3,-0x1*-0x3ec+-0x1cd*-0xa+-0xaf3*0x2,-0x13ba+-0x18ba+0x4*0xb20,-0x1c93+-0x853*-0x1+-0x34*-0x64],PT=new Kt();class kt{constructor(_0x2adfb,_0x5a8fb0,_0xc94239){this['device']=_0x2adfb,this['_elements']=[],this['hasUv0']=!(0x1520+-0x208*0x5+-0xaf7),this['hasUv1']=!(-0x253a+0x1c82+0xcb*0xb),this['hasColor']=!(-0x1*-0x191a+0x75b+-0x2074),this['hasTangent'+'s']=!(-0x18be+-0x716+0x1fd5),this['verticesBy'+'teSize']=0x4d2+0xb45*-0x2+0x11b8,this['vertexCoun'+'t']=_0xc94239,this['interleave'+'d']=_0xc94239===void(0x1655+0x1de*0x6+-0x1*0x2189),this['instancing']=!(0x21f8+-0x9e*-0x13+-0x2db1),this['size']=_0x5a8fb0['reduce']((_0x16d748,_0x4c07ea)=>_0x16d748+Math['ceil'](_0x4c07ea['components']*No[_0x4c07ea['type']]/(0x258c+0xf1*-0x10+-0x1678))*(-0x5*-0x57b+-0x1d12+0x1af),-0x9d*-0x4+0x197d+0x1*-0x1bf1);let _0xa395c2=-0x212b+0x100b+0x1120,_0xe771b6;for(let _0x215b4a=-0x34*-0x34+0x33*0xad+0x1*-0x2d07,_0x99d09a=_0x5a8fb0['length'];_0x215b4a<_0x99d09a;_0x215b4a++){const _0x34bf95=_0x5a8fb0[_0x215b4a];_0xe771b6=_0x34bf95['components']*No[_0x34bf95['type']],w['assert'](kt['isElementV'+'alid'](_0x2adfb,_0x34bf95),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x34bf95['semantic']+'\x20:\x20'+cT[_0x34bf95['type']]+'\x20x\x20'+_0x34bf95['components']),_0xc94239&&(_0xa395c2=Y['roundUp'](_0xa395c2,_0xe771b6),w['assert'](_0xe771b6%(-0x125*-0x1f+0x3*-0x601+-0x1174)===-0x11*-0x9e+0xf*0x197+-0x2257,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0xe771b6));const _0x32f404=_0x34bf95['asInt']??!(0x103d+-0x93+-0xfa9*0x1),_0x6a468e=_0x32f404?!(-0x6ac+0x1*-0xcf8+-0x6b*-0x2f):_0x34bf95['normalize']??!(-0xc1*0x2+0x107f+-0xefc),_0x4afb0a={'name':_0x34bf95['semantic'],'offset':_0xc94239?_0xa395c2:_0x34bf95['hasOwnProp'+'erty']('offset')?_0x34bf95['offset']:_0xa395c2,'stride':_0xc94239?_0xe771b6:_0x34bf95['hasOwnProp'+'erty']('stride')?_0x34bf95['stride']:this['size'],'dataType':_0x34bf95['type'],'numComponents':_0x34bf95['components'],'normalize':_0x6a468e,'size':_0xe771b6,'asInt':_0x32f404};this['_elements']['push'](_0x4afb0a),_0xc94239?_0xa395c2+=_0xe771b6*_0xc94239:_0xa395c2+=Math['ceil'](_0xe771b6/(0x564+-0x2e*0x6d+0xe36))*(0x1e38+-0x20*-0xcd+-0x37d4),_0x34bf95['semantic']===is?this['hasUv0']=!(0x1b7d*0x1+0x1bc1+-0x1b9f*0x2):_0x34bf95['semantic']===ba?this['hasUv1']=!(-0x250b+0x261+0x3a*0x99):_0x34bf95['semantic']===Wt?this['hasColor']=!(0x73f+0x33*0x75+-0x1*0x1e8e):_0x34bf95['semantic']===yi&&(this['hasTangent'+'s']=!(0x15f4+0x3*0x97+-0x17b9));}_0xc94239&&(this['verticesBy'+'teSize']=_0xa395c2),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x511872){return PT['get'](_0x511872,()=>new kt(_0x511872,[{'semantic':Mp,'components':0x4,'type':Ve},{'semantic':Dp,'components':0x4,'type':Ve},{'semantic':Ip,'components':0x4,'type':Ve},{'semantic':Ln,'components':0x4,'type':Ve}]));}static['isElementV'+'alid'](_0x49dd14,_0x15af9d){const _0x403701=_0x15af9d['components']*No[_0x15af9d['type']];return!(_0x49dd14['isWebGPU']&&!CT['includes'](_0x403701));}['update'](){w['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x57ba99=[],_0x4af450=[],_0x1746df=this['_elements']['length'];for(let _0x5b7dbd=-0xd*-0x1a8+0x5d4+0x11*-0x19c;_0x5b7dbd<_0x1746df;_0x5b7dbd++){const {name:_0x22aaad,dataType:_0x580deb,numComponents:_0x375d92,normalize:_0x5152c1,offset:_0x34d250,stride:_0x209220,size:_0x2fb71b,asInt:_0x2bc886}=this['_elements'][_0x5b7dbd],_0xbd4c2e=_0x22aaad+_0x580deb+_0x375d92+_0x5152c1+_0x2bc886;_0x57ba99['push'](_0xbd4c2e);const _0x1b4b72=_0xbd4c2e+_0x34d250+_0x209220+_0x2fb71b;_0x4af450['push'](_0x1b4b72);}_0x57ba99['sort']();const _0x2434b0=_0x57ba99['join']();this['batchingHa'+'sh']=hi(_0x2434b0),this['shaderProc'+'essingHash'+'String']=_0x2434b0,this['renderingH'+'ashString']=_0x4af450['join']('_'),this['renderingH'+'ash']=AT['get'](this['renderingH'+'ashString']);}}const MT=new Bp(),zh=class zh{constructor(_0x5a5dd1={}){h(this,'_func'),h(this,'_ref'),h(this,'_fail'),h(this,'_zfail'),h(this,'_zpass'),h(this,'_readMask'),h(this,'_writeMask'),h(this,'_dirty',!(-0x1b8c+0x1*0x100d+0xb7f)),h(this,'_key'),(this['_func']=_0x5a5dd1['func']??Wi,this['_ref']=_0x5a5dd1['ref']??-0x4*-0x9b8+0xaa5*-0x1+-0x1c3b,this['_readMask']=_0x5a5dd1['readMask']??0x3ad*-0x6+0x35+0x16d8,this['_writeMask']=_0x5a5dd1['writeMask']??-0x4fc+-0x3*0xa3+0x7e4,this['_fail']=_0x5a5dd1['fail']??xn,this['_zfail']=_0x5a5dd1['zfail']??xn,this['_zpass']=_0x5a5dd1['zpass']??xn,this['_evalKey']());}set['func'](_0xe2c5cf){this['_func']=_0xe2c5cf,this['_dirty']=!(-0xbd5+-0x1742+0x2317);}get['func'](){return this['_func'];}set['ref'](_0x461313){this['_ref']=_0x461313,this['_dirty']=!(0x9*0x2e9+0xda7+-0xff*0x28);}get['ref'](){return this['_ref'];}set['fail'](_0x3d44f5){this['_fail']=_0x3d44f5,this['_dirty']=!(-0x6b*-0x2d+-0xc58+-0x677);}get['fail'](){return this['_fail'];}set['zfail'](_0x1a27ef){this['_zfail']=_0x1a27ef,this['_dirty']=!(-0x1097+-0x1b5b+0x2bf2);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x352f3d){this['_zpass']=_0x352f3d,this['_dirty']=!(0x2270+-0x1*-0x5ce+0x22*-0x12f);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x4b3119){this['_readMask']=_0x4b3119,this['_dirty']=!(0x17ab*-0x1+-0x427*-0x7+-0x2b3*0x2);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x1db157){this['_writeMask']=_0x1db157,this['_dirty']=!(-0x864+0x5*-0x6d3+-0x1*-0x2a83);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x2729c6,_ref:_0x5231ff,_fail:_0x30e816,_zfail:_0x85bfe4,_zpass:_0xee72d4,_readMask:_0x2c906a,_writeMask:_0x4de9d6}=this,_0x129f08=_0x2729c6+','+_0x5231ff+','+_0x30e816+','+_0x85bfe4+','+_0xee72d4+','+_0x2c906a+','+_0x4de9d6;this['_key']=MT['get'](_0x129f08),this['_dirty']=!(-0x3*-0x1ab+0x25*-0x4a+0x5b2);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x1709a5){return this['_func']=_0x1709a5['_func'],this['_ref']=_0x1709a5['_ref'],this['_readMask']=_0x1709a5['_readMask'],this['_writeMask']=_0x1709a5['_writeMask'],this['_fail']=_0x1709a5['_fail'],this['_zfail']=_0x1709a5['_zfail'],this['_zpass']=_0x1709a5['_zpass'],this['_dirty']=_0x1709a5['_dirty'],this['_key']=_0x1709a5['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};h(zh,'DEFAULT',Object['freeze'](new zh()));let pi=zh;const ql=new Set(),Vh=class Vh extends me{constructor(_0x18ad9f,_0x31f813){var _0x2937ae,_0x26c92d,_0x1ecf75,_0x4e68e3,_0x148e35,_0x3ead23;super(),h(this,'canvas'),h(this,'backBuffer',null),h(this,'backBuffer'+'Size',new J()),h(this,'backBuffer'+'Format'),h(this,'backBuffer'+'Antialias',!(0x1105+0x98*-0x1b+-0x3f*0x4)),h(this,'isWebGPU',!(-0x2b*-0x1c+0xd7*-0xd+-0x4*-0x18e)),h(this,'isWebGL2',!(-0x7d*-0x43+0x282+-0x31*0xb8)),h(this,'isHdr',!(-0x1587+0x2*0x1115+-0x436*0x3)),h(this,'scope'),h(this,'maxIndirec'+'tDrawCount',0x43c*0x1+-0x359+0x31d),h(this,'maxAnisotr'+'opy'),h(this,'maxCubeMap'+'Size'),h(this,'maxTexture'+'Size'),h(this,'maxVolumeS'+'ize'),h(this,'maxColorAt'+'tachments',-0x1e8a+-0x1*0x25aa+-0x1*-0x4435),h(this,'precision'),h(this,'samples'),h(this,'maxSamples',0x1ab5+0xfd9+-0xe2f*0x3),h(this,'supportsSt'+'encil'),h(this,'supportsCo'+'mpute',!(0x119+-0x1f61+0x1*0x1e49)),h(this,'supportsSt'+'orageTextu'+'reRead',!(-0x7d0+-0x1*0xf86+0x1757)),h(this,'renderTarg'+'et',null),h(this,'shaders',[]),h(this,'textures',[]),h(this,'targets',new Set()),h(this,'renderVers'+'ion',-0x41f*0x1+-0x10d*0x5+0x64*0x18),h(this,'renderPass'+'Index'),h(this,'insideRend'+'erPass',!(-0x17e1+0x127c+0x566)),h(this,'supportsUn'+'iformBuffe'+'rs',!(0x5a8*-0x6+0xa15+0x17dc)),h(this,'supportsCl'+'ipDistance'+'s',!(0x8bf*-0x1+-0x2060+0x2920)),h(this,'textureFlo'+'atRenderab'+'le'),h(this,'textureHal'+'fFloatRend'+'erable'),h(this,'textureRG1'+'1B10Render'+'able',!(0x2*0x7c9+0x83*-0xd+-0x8ea)),h(this,'textureFlo'+'atFilterab'+'le',!(0x7*0x383+0x1*-0x19ef+-0x15b*-0x1)),h(this,'quadVertex'+'Buffer'),h(this,'blendState',new pt()),h(this,'depthState',new Yt()),h(this,'stencilEna'+'bled',!(-0x1603+-0x26b*0x3+0x1d45)),h(this,'stencilFro'+'nt',new pi()),h(this,'stencilBac'+'k',new pi()),h(this,'dynamicBuf'+'fers'),h(this,'gpuProfile'+'r'),h(this,'defaultCle'+'arOptions',{'color':[0x32b*-0x3+0x19f8+-0x1077,0x584*0x2+0x151*-0x17+-0x133f*-0x1,0x1e53*-0x1+0x4af*0x8+-0x725,-0x4e*0x19+0x1c65*0x1+-0x14c6],'depth':0x1,'stencil':0x0,'flags':jo|Yo}),h(this,'clientRect',{'width':0x0,'height':0x0}),h(this,'_shadersDi'+'rty',!(-0x1fbd+-0x5f6*-0x1+0x19c8)),h(this,'capsDefine'+'s',new Map()),h(this,'mapsToClea'+'r',new Set()),(this['canvas']=_0x18ad9f,'setAttribu'+'te'in _0x18ad9f&&_0x18ad9f['setAttribu'+'te']('data-engin'+'e','PlayCanvas'+'\x20'+hn),this['initOption'+'s']={..._0x31f813},(_0x2937ae=this['initOption'+'s'])['alpha']??(_0x2937ae['alpha']=!(-0x1443+0xa7*-0x2f+0x32ec)),(_0x26c92d=this['initOption'+'s'])['depth']??(_0x26c92d['depth']=!(-0xc25*0x1+-0x1711+-0x1*-0x2336)),(_0x1ecf75=this['initOption'+'s'])['stencil']??(_0x1ecf75['stencil']=!(0x1*-0x1cf5+-0x12e3+-0x2*-0x17ec)),(_0x4e68e3=this['initOption'+'s'])['antialias']??(_0x4e68e3['antialias']=!(-0x1f2a*0x1+-0x1473+0x1*0x339d)),(_0x148e35=this['initOption'+'s'])['powerPrefe'+'rence']??(_0x148e35['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x3ead23=this['initOption'+'s'])['displayFor'+'mat']??(_0x3ead23['displayFor'+'mat']=oT),this['_maxPixelR'+'atio']=Ae['browser']?Math['min'](-0x6f*0x49+-0x7bd+-0x7e1*-0x5,window['devicePixe'+'lRatio']):-0x1501*0x1+-0x2*-0xa47+0x1*0x74,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=0x109e+-0x21*-0x5d+-0x1c9b,this['_shaderSwi'+'tchesPerFr'+'ame']=0x26f5*0x1+-0x57d+-0x2178,this['_primsPerF'+'rame']=[]);for(let _0x45117d=cd;_0x45117d<=oa;_0x45117d++)this['_primsPerF'+'rame'][_0x45117d]=0x36e*-0x4+-0x1bd2+0x298a;this['_renderTar'+'getCreatio'+'nTime']=-0x164e+0xd79+0x8d5,this['scope']=new ET('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](0x2332+-0x4*0x95f+0x24a);}['postInit'](){const _0x177050=new kt(this,[{'semantic':Me,'components':0x2,'type':Ve}]),_0x90aa49=new Float32Array([-(-0x6a7*-0x1+0x26d3+-0x7*0x67f),-(0x118d*-0x1+-0x2*-0x479+0x89c),0x2*0x836+-0x12da+-0x1*-0x26f,-(0x1*-0xd29+0xbbe*0x1+-0xe*-0x1a),-(-0x59*-0x6b+-0x929*-0x2+0xbb*-0x4c),-0xbab*-0x1+0x12d9+-0x1e83,0x14da+0x1a3f+-0x2f18,-0x401*0x5+-0x2*0x99d+0x2740]);this['quadVertex'+'Buffer']=new Is(this,_0x177050,-0x2a*0x58+-0x1d31*0x1+0x2ba5,{'data':_0x90aa49});}['initCapsDe'+'fines'](){const {capsDefines:_0x4a2cc1}=this;_0x4a2cc1['clear'](),this['textureFlo'+'atFilterab'+'le']&&_0x4a2cc1['set']('CAPS_TEXTU'+'RE_FLOAT_F'+'ILTERABLE',''),this['textureFlo'+'atRenderab'+'le']&&_0x4a2cc1['set']('CAPS_TEXTU'+'RE_FLOAT_R'+'ENDERABLE','');}['destroy'](){var _0x1d9be7,_0x56e0b1,_0x24290d;this['fire']('destroy'),(_0x1d9be7=this['quadVertex'+'Buffer'])==null||_0x1d9be7['destroy'](),this['quadVertex'+'Buffer']=null,(_0x56e0b1=this['dynamicBuf'+'fers'])==null||_0x56e0b1['destroy'](),this['dynamicBuf'+'fers']=null,(_0x24290d=this['gpuProfile'+'r'])==null||_0x24290d['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x57921b){this['fire']('destroy:sh'+'ader',_0x57921b);const _0x4972b2=this['shaders']['indexOf'](_0x57921b);_0x4972b2!==-(-0x35*-0x59+-0x11e*0x4+-0xdf4)&&this['shaders']['splice'](_0x4972b2,-0x1*0x1037+-0x21+0x9*0x1d1);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x5cd6c0;this['contextLos'+'t']=!(-0x79f*0x3+-0x1236+-0xdb1*-0x3),this['backBuffer'+'Size']['set'](-(0x16b7+-0x855*0x2+0x306*-0x2),-(-0x2*-0x130d+-0xc2c+-0x19ed));for(const _0x146d7f of this['textures'])_0x146d7f['loseContex'+'t']();for(const _0x99ad67 of this['buffers'])_0x99ad67['loseContex'+'t']();for(const _0x516d00 of this['targets'])_0x516d00['loseContex'+'t']();(_0x5cd6c0=this['gpuProfile'+'r'])==null||_0x5cd6c0['loseContex'+'t']();}['restoreCon'+'text'](){var _0x5b9374,_0x36a320;this['contextLos'+'t']=!(0x1*0xfae+0x1cee+0x13*-0x259),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x4c5827 of this['buffers'])_0x4c5827['unlock']();(_0x36a320=(_0x5b9374=this['gpuProfile'+'r'])==null?void(-0x3*0x77c+0x2*0x23d+0xb1*0x1a):_0x5b9374['restoreCon'+'text'])==null||_0x36a320['call'](_0x5b9374);}['toJSON'](_0x1bcea1){}['initialize'+'ContextCac'+'hes'](){this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(0xe5c+-0x236+-0xc26),this['shaderAsyn'+'cCompile']=!(0x398*0x4+0x8*-0x200+0x1a1),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new pt(),this['depthState']=new Yt(),this['cullMode']=pa,this['vx']=this['vy']=this['vw']=this['vh']=0x21c*-0x10+-0x4*-0x2dd+0x4*0x593,this['sx']=this['sy']=this['sw']=this['sh']=0x1*-0xec1+-0x1031+0x1ef2,this['blendColor']=new ie(0x24ee+-0x1f73+-0x57b,0x106e+0x23*0x71+-0x1fe1*0x1,0x9bb+-0x210c+0x1751*0x1,-0x14f2*-0x1+0x30d*-0x5+0x1*-0x5b1);}['setStencil'+'State'](_0x4f2158,_0x29b921){w['assert'](!(0x233b+0x1a57+-0x3d91));}['setBlendSt'+'ate'](_0x2a9c1b){w['assert'](!(-0x1*-0x1d7d+0x9f*0x24+-0x33d8));}['setBlendCo'+'lor'](_0x526058,_0x50d8a1,_0x8b5f9f,_0xa98ce2){w['assert'](!(0x2*-0x335+0x1ee3*0x1+-0x1878));}['setDepthSt'+'ate'](_0x1b6564){w['assert'](!(-0x13a9+-0xd45+0x20ef));}['setCullMod'+'e'](_0x2afb5a){w['assert'](!(0x39d+-0x1b35+0x1799));}['setRenderT'+'arget'](_0x44367a){this['renderTarg'+'et']=_0x44367a;}['setVertexB'+'uffer'](_0x312c45){_0x312c45&&this['vertexBuff'+'ers']['push'](_0x312c45);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=0x26e8+0xe38*0x1+-0x3520;}['getIndirec'+'tDrawSlot'](){return-0x107*-0x1f+-0x21ce+0x1f5;}get['indirectDr'+'awBuffer'](){return null;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x1ac1a8){if(_0x1ac1a8['initialize'+'d'])return;const _0x2a7b82=de();this['fire']('fbo:create',{'timestamp':_0x2a7b82,'target':this}),_0x1ac1a8['init'](),this['targets']['add'](_0x1ac1a8),this['_renderTar'+'getCreatio'+'nTime']+=de()-_0x2a7b82;}['draw'](_0x3a0154,_0x32ed74,_0x186e54,_0xff64da,_0x8b56ff=!(0x22bb+-0xf5c+-0x135f),_0x15fe53=!(0x1*-0xdc3+-0x11ce*-0x2+-0x11*0x149)){w['assert'](!(0x7fb+0x1ab2+0x7*-0x4f4));}['_isBrowser'+'Interface'](_0x4ef82c){return this['_isImageBr'+'owserInter'+'face'](_0x4ef82c)||this['_isImageCa'+'nvasInterf'+'ace'](_0x4ef82c)||this['_isImageVi'+'deoInterfa'+'ce'](_0x4ef82c);}['_isImageBr'+'owserInter'+'face'](_0x3560c1){return typeof ImageBitmap<'u'&&_0x3560c1 instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x3560c1 instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x335cae){return typeof HTMLCanvasElement<'u'&&_0x335cae instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x7332b){return typeof HTMLVideoElement<'u'&&_0x7332b instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x33b4a1,_0x4a004e){const _0x20c79c=Math['min'](this['_maxPixelR'+'atio'],Ae['browser']?window['devicePixe'+'lRatio']:0x2*-0x24a+-0x46*0x11+0x93b),_0x1af97c=Math['floor'](_0x33b4a1*_0x20c79c),_0x387201=Math['floor'](_0x4a004e*_0x20c79c);(_0x1af97c!==this['canvas']['width']||_0x387201!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x1af97c,_0x387201);}['setResolut'+'ion'](_0x465450,_0x16bf1c){this['canvas']['width']=_0x465450,this['canvas']['height']=_0x16bf1c,this['fire'](Vh['EVENT_RESI'+'ZE'],_0x465450,_0x16bf1c);}['update'](){this['updateClie'+'ntRect']();}['updateClie'+'ntRect'](){if(Ae['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x156532=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x156532['width'],this['clientRect']['height']=_0x156532['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x57f776){w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(0x25d6+-0x2596+-0x1*0x3f);}set['maxPixelRa'+'tio'](_0x440636){this['_maxPixelR'+'atio']=_0x440636;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x139777){}['endRenderP'+'ass'](_0x10541f){}['startCompu'+'tePass'](_0x2e6ff3){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=0x1*0x799+-0x1302+0x7f*0x17,this['renderVers'+'ion']++,w['call'](()=>{if(mi['get'](Z0)){const _0x4a29e9=this['textures']['slice']();_0x4a29e9['sort']((_0xc04001,_0x2bee9)=>_0x2bee9['gpuSize']-_0xc04001['gpuSize']),w['log']('Textures:\x20'+_0x4a29e9['length']);let _0x46e9f0=-0x15f3+0x107c+0x577;_0x4a29e9['forEach']((_0x42c41d,_0x8064de)=>{const _0x33e8f4=_0x42c41d['gpuSize'];_0x46e9f0+=_0x33e8f4,w['log'](_0x8064de+'.\x20'+_0x42c41d['name']+'\x20'+_0x42c41d['width']+'x'+_0x42c41d['height']+'\x20VRAM:\x20'+(_0x33e8f4/(-0x1e21*0x1+-0x5da+0x27fb)/(-0x14d2+-0x1d*0x9b+-0x2a61*-0x1))['toFixed'](0xb85+0x2539+-0x30bc)+'\x20MB');}),w['log']('Total:\x20'+(_0x46e9f0/(0x3*-0x1b4+-0xc7f+0x159b)/(0x1d8f+0x2495+-0x1f12*0x2))['toFixed'](0x50e*-0x1+-0x17bd+0x1ccd)+'MB');}});}['frameEnd'](){this['mapsToClea'+'r']['forEach'](_0x300db9=>_0x300db9['clear']()),this['mapsToClea'+'r']['clear']();}['computeDis'+'patch'](_0x12f4be,_0x228a3d='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x27d7b1=[In,nt,Xt],_0xad279d=!(0x265*-0x5+-0x1386+0x1f7f),_0x5076f4=-0x2*0x250+-0x8*0x57+0x759){for(let _0x114e24=0x1*-0x71f+-0x1a2*0xe+-0x133*-0x19;_0x114e24<_0x27d7b1['length'];_0x114e24++){const _0x2709cb=_0x27d7b1[_0x114e24];switch(_0x2709cb){case In:{if(this['textureRG1'+'1B10Render'+'able'])return _0x2709cb;break;}case nt:if(this['textureHal'+'fFloatRend'+'erable'])return _0x2709cb;break;case Xt:if(this['isWebGPU']&&_0x5076f4>0x1ba5*-0x1+-0x5c*-0x43+0x392)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0xad279d||this['textureFlo'+'atFilterab'+'le']))return _0x2709cb;break;}}}['validateAt'+'tributes'](_0x5347aa,_0x2421ef,_0x30f265){w['call'](()=>{ql['clear'](),_0x2421ef==null||_0x2421ef['elements']['forEach'](_0xc708d5=>ql['add'](Le[_0xc708d5['name']])),_0x30f265==null||_0x30f265['elements']['forEach'](_0x164dc7=>ql['add'](Le[_0x164dc7['name']]));for(const [_0x2df433,_0x296513]of _0x5347aa['attributes'])ql['has'](_0x2df433)||w['errorOnce']('Vertex\x20att'+'ribute\x20['+_0x296513+(']\x20at\x20locat'+'ion\x20')+_0x2df433+('\x20required\x20'+'by\x20the\x20sha'+'der\x20is\x20not'+'\x20present\x20i'+'n\x20the\x20curr'+'ently\x20assi'+'gned\x20verte'+'x\x20buffers,'+'\x20while\x20ren'+'dering\x20[')+Q['toString']()+']',{'shader':_0x5347aa,'vb0Format':_0x2421ef,'vb1Format':_0x30f265});});}};h(Vh,'EVENT_RESI'+'ZE','resizecanv'+'as');let $e=Vh,DT=-0x2*0x2a0+-0x74*0x9+-0x4aa*-0x2;class gt{constructor(_0x57b376={}){h(this,'name'),h(this,'_device'),h(this,'_colorBuff'+'er'),h(this,'_colorBuff'+'ers'),h(this,'_depthBuff'+'er'),h(this,'_depth'),h(this,'_stencil'),h(this,'_samples'),h(this,'autoResolv'+'e'),h(this,'_face'),h(this,'_mipLevel'),h(this,'_mipmaps'),h(this,'flipY');var _0x373c0a,_0x48f5d5,_0x51d622,_0x3e515f,_0x58981e,_0x4fe696;w['assert'](!(_0x57b376 instanceof $e),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=DT++;const _0x1149df=((_0x373c0a=_0x57b376['colorBuffe'+'r'])==null?void(0x9b9*-0x2+0x11a*0x10+-0x1*-0x1d2):_0x373c0a['device'])??((_0x48f5d5=_0x57b376['colorBuffe'+'rs'])==null?void(-0x184c*-0x1+-0x8*0xfb+-0x6*0x2be):_0x48f5d5[-0x2122*-0x1+0x9*0x3ec+-0x2*0x2237]['device'])??((_0x51d622=_0x57b376['depthBuffe'+'r'])==null?void(0x168a+0x2*0xe3+-0x1850):_0x51d622['device'])??_0x57b376['graphicsDe'+'vice'];w['assert'](_0x1149df,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x1149df;const {maxSamples:_0x38a4b1}=this['_device'];if(this['_samples']=Math['min'](_0x57b376['samples']??0xd92+0x2b5+-0x2*0x823,_0x38a4b1),_0x1149df['isWebGPU']&&(this['_samples']=this['_samples']>-0x3*-0x152+-0x123+0x13*-0x26?_0x38a4b1:-0x204+-0x1812+0x1a17),this['_colorBuff'+'er']=_0x57b376['colorBuffe'+'r'],_0x57b376['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x57b376['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x57b376['depthBuffe'+'r'],this['_face']=_0x57b376['face']??-0x2*-0x78e+0x148d+-0xb3*0x33,this['_depthBuff'+'er']){const _0x12edc5=this['_depthBuff'+'er']['_format'];_0x12edc5===$i||_0x12edc5===vn?(this['_depth']=!(0x14b6+0x1*-0x19b8+0x502),this['_stencil']=!(0xf*-0x1+-0xd4e*0x1+0xd5e)):_0x12edc5===sd?(this['_depth']=!(-0x983+-0x1a0+0xb23*0x1),this['_stencil']=!(0x2b4+0x44*-0x38+0xc2c)):_0x12edc5===Ji&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>-0xbf1+0x2208+-0x1616?(this['_depth']=!(0x1*0x422+-0x2623+-0x5*-0x6cd),this['_stencil']=!(-0x170a+0x47*-0x79+0x325*0x12)):(w['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(-0xc51*0x3+0x1635+0x1*0xebf),this['_stencil']=!(-0xff9+0x61*-0x2+0x10bc));}else this['_depth']=_0x57b376['depth']??!(-0xabc+0x600+0x4bc),this['_stencil']=_0x57b376['stencil']??!(0x1*0x52+0xbb+-0x43*0x4);_0x57b376['colorBuffe'+'rs']&&(w['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x57b376['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x57b376['colorBuffe'+'rs'][-0x667*0x1+-0x83c+0xea3])),this['autoResolv'+'e']=_0x57b376['autoResolv'+'e']??!(0x12e*0x6+0x22c4+0x67*-0x68),this['name']=_0x57b376['name'],this['name']||(this['name']=(_0x3e515f=this['_colorBuff'+'er'])==null?void(0x4*0x2+-0x3da+-0x3d2*-0x1):_0x3e515f['name']),this['name']||(this['name']=(_0x58981e=this['_depthBuff'+'er'])==null?void(-0x1d73+0x123a+0xb39):_0x58981e['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x57b376['flipY']??!(-0x97e+-0x1*0xb89+0x1508),this['_mipLevel']=_0x57b376['mipLevel']??0x9*0x4+0x825+-0x1*0x849,this['_mipLevel']>0xc81+-0x80*-0x12+-0x1581&&this['_depth']&&(w['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x57b376}),this['_mipLevel']=-0x71e*0x3+-0x9ee+0x1f48),this['_mipmaps']=_0x57b376['mipLevel']===void(0x19*-0xfb+-0x41b+0x2*0xe4f),this['validateMr'+'t'](),this['impl']=_0x1149df['createRend'+'erTargetIm'+'pl'](this),w['trace'](Mm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x4fe696=this['_colorBuff'+'ers'])!=null&&_0x4fe696['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){w['trace'](Mm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0xaba121=this['_device'];_0xaba121&&(_0xaba121['targets']['delete'](this),_0xaba121['renderTarg'+'et']===this&&_0xaba121['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x5da286=this['_device'];_0x5da286&&this['impl']['destroy'](_0x5da286);}['destroyTex'+'tureBuffer'+'s'](){var _0x3cd8fd,_0x3ac5f5;(_0x3cd8fd=this['_depthBuff'+'er'])==null||_0x3cd8fd['destroy'](),this['_depthBuff'+'er']=null,(_0x3ac5f5=this['_colorBuff'+'ers'])==null||_0x3ac5f5['forEach'](_0x33b421=>{_0x33b421['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0xa25092,_0xe034a9){var _0x3e8781,_0x4865b9;if(this['width']!==_0xa25092||this['height']!==_0xe034a9){if(this['mipLevel']>-0xfc9*-0x2+-0x1*0x2485+0x7*0xb5){w['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x2d13f7=this['_device'];this['destroyFra'+'meBuffers'](),_0x2d13f7['renderTarg'+'et']===this&&_0x2d13f7['setRenderT'+'arget'](null),(_0x3e8781=this['_depthBuff'+'er'])==null||_0x3e8781['resize'](_0xa25092,_0xe034a9),(_0x4865b9=this['_colorBuff'+'ers'])==null||_0x4865b9['forEach'](_0x310d07=>{_0x310d07['resize'](_0xa25092,_0xe034a9);}),this['validateMr'+'t'](),this['impl']=_0x2d13f7['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){w['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x40f090,height:_0x370c92,cubemap:_0x6094ff,volume:_0x13848e}=this['_colorBuff'+'ers'][-0x2e*0xbf+0xbd5*0x2+-0x16*-0x7c];for(let _0xa403ae=-0x2*-0xf9b+-0x1f9+-0x1d3c;_0xa403ae<this['_colorBuff'+'ers']['length'];_0xa403ae++){const _0x36960b=this['_colorBuff'+'ers'][_0xa403ae];w['assert'](_0x36960b['width']===_0x40f090,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),w['assert'](_0x36960b['height']===_0x370c92,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),w['assert'](_0x36960b['cubemap']===_0x6094ff,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),w['assert'](_0x36960b['volume']===_0x13848e,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x7b6e57=!(0x5b2*0x6+-0xb*-0xa+0x2*-0x114d),_0x4f6b67=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>0xf78+-0x26db*0x1+0xbb2*0x2&&(Q['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x7b6e57?'[color]':'')+':'+(_0x4f6b67?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x7b6e57,_0x4f6b67),Q['popGpuMark'+'er'](this['_device']));}['copy'](_0x4cdedd,_0x5717f0,_0x1accc1){if(!this['_device']){if(_0x4cdedd['_device'])this['_device']=_0x4cdedd['_device'];else return w['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(-0x667+0x1*-0x3b3+0xa1b);}Q['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x4cdedd['name']+'->'+this['name']);const _0x426186=this['_device']['copyRender'+'Target'](_0x4cdedd,this,_0x5717f0,_0x1accc1);return Q['popGpuMark'+'er'](this['_device']),_0x426186;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x3287b0){var _0x4297bc;return(_0x4297bc=this['_colorBuff'+'ers'])==null?void(0x26c+0x39b+-0x1*0x607):_0x4297bc[_0x3287b0];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x4ae80f,_0x48a771;let _0x2c6a4c=((_0x4ae80f=this['_colorBuff'+'er'])==null?void(0x845*-0x1+-0xefb+0x1740):_0x4ae80f['width'])||((_0x48a771=this['_depthBuff'+'er'])==null?void(-0xed+-0x1*-0x4c6+-0x3d9):_0x48a771['width'])||this['_device']['width'];return this['_mipLevel']>-0x5*-0xe3+-0x23*-0xed+-0xe6*0x29&&(_0x2c6a4c=Xi['calcLevelD'+'imension'](_0x2c6a4c,this['_mipLevel'])),_0x2c6a4c;}get['height'](){var _0x25c119,_0x20fe5d;let _0x51e44c=((_0x25c119=this['_colorBuff'+'er'])==null?void(0x1*0x2179+0x3e7*0x7+-0x3cca):_0x25c119['height'])||((_0x20fe5d=this['_depthBuff'+'er'])==null?void(0xbc3*-0x2+0xb*-0x6d+0x57*0x53):_0x20fe5d['height'])||this['_device']['height'];return this['_mipLevel']>0x187b+-0x45c+-0x141f&&(_0x51e44c=Xi['calcLevelD'+'imension'](_0x51e44c,this['_mipLevel'])),_0x51e44c;}['isColorBuf'+'ferSrgb'](_0x3b82a1=-0x721+0xd5d+0x31e*-0x2){if(this['device']['backBuffer']===this)return fh(this['device']['backBuffer'+'Format']);const _0xca650b=this['getColorBu'+'ffer'](_0x3b82a1);return _0xca650b?fh(_0xca650b['format']):!(-0x2*-0xcfb+0x1239+-0x2c2e);}}const IT={'equals'(_0xa0ac39,_0x2a76df){if(_0xa0ac39['length']!==_0x2a76df['length'])return!(0xf1*-0x17+0x27a*-0x8+0x2978);for(let _0x35db61=-0x149a+-0x2ee+0x5e2*0x4;_0x35db61<_0xa0ac39['length'];_0x35db61++)if(_0xa0ac39[_0x35db61]!==_0x2a76df[_0x35db61])return!(0x13d8+-0x1e66*0x1+0x35*0x33);return!(0x62f*-0x1+-0x191+-0x1*-0x7c0);}};class wd{constructor(){h(this,'_refCount',-0x1b8f+0x7e2+0x3*0x68f);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class LT extends wd{constructor(_0x148379){super(),h(this,'object'),(this['object']=_0x148379,this['incRefCoun'+'t']());}}class RT{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x3f8653=>{var _0x121d89;(_0x121d89=_0x3f8653['object'])==null||_0x121d89['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x7927e7){const _0x155cec=this['cache']['get'](_0x7927e7);return _0x155cec?(_0x155cec['incRefCoun'+'t'](),_0x155cec['object']):null;}['set'](_0x2ae3ef,_0xa99cf0){w['assert'](!this['cache']['has'](_0x2ae3ef),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x2ae3ef,'object':_0xa99cf0}),this['cache']['set'](_0x2ae3ef,new LT(_0xa99cf0));}['release'](_0x2a904b){var _0x1cb24a;const _0x2e6c78=this['cache']['get'](_0x2a904b);_0x2e6c78?(_0x2e6c78['decRefCoun'+'t'](),_0x2e6c78['refCount']===0x11a5+0x1*0x148d+-0x2632&&(this['cache']['delete'](_0x2a904b),(_0x1cb24a=_0x2e6c78['object'])==null||_0x1cb24a['destroy']())):w['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x2a904b});}}class OT extends RT{['loseContex'+'t'](_0x2f239a){this['clear']();}}const FT=new Kt(),Fd=_0x78817e=>FT['get'](_0x78817e,()=>new OT()),At=[];At[Xs]=0xa3+-0x2b*0x6a+0x112c,At[ga]=-0x3a5+0x1*-0xf5b+0x1302,At[ds]=0x1826+-0x1a9c+0x279,At[Rn]=0x1cdf*0x1+-0x1*0x149e+-0x83d,At[_a]=-0x653+0x209c+-0x1a48,At[ca]=-0x459+-0x3f5*0x3+0x103a,At[ha]=-0x6*-0x4e9+-0x1*0x1445+-0x92e,At[da]=0xe*-0x277+-0xe3b*0x2+-0x4*-0xfbf,At[Tn]=-0x2325*-0x1+-0x47d*0x2+0x2*-0xd15,At[tl]=-0x5df*0x4+0x17f*0x2+0x148*0x10,At[sl]=0x1*-0x1ae0+-0x213*-0x12+-0xa73,At[il]=-0x144c+0x1c8a*0x1+-0x83a,At[_h]=-0x96b+-0x1b9a+0x250d,At[On]=-0x9d*-0x2e+-0x6f0+-0x153a,At[li]=0x5*-0x3e2+0x644*-0x1+0x19be*0x1,At[Fn]=0x4ca+-0x101+-0x3c8,At[Nn]=0x1*-0x854+0x142*0x1+0xc*0x97,At[kn]=0x5*-0x740+-0xa*-0xca+0x1c5f,At[Un]=0x17ae+-0xa8e+0x2*-0x68e;class dt{constructor(_0x4e1076,_0x4194f0,_0x522e86=0x12d1+0x3*-0x7a+-0x1163){h(this,'name'),h(this,'type'),h(this,'byteSize'),h(this,'offset'),h(this,'scopeId'),h(this,'count'),h(this,'numCompone'+'nts');if(this['shortName']=_0x4e1076,this['name']=_0x522e86?_0x4e1076+'[0]':_0x4e1076,this['type']=_0x4194f0,this['numCompone'+'nts']=At[_0x4194f0],w['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x4194f0+'\x20used\x20for\x20'+_0x4e1076),this['updateType']=_0x4194f0,_0x522e86>-0xcc7*0x1+0x3*0x232+0x631)switch(_0x4194f0){case Xs:this['updateType']=ud;break;case _a:this['updateType']=Bn;break;case Fn:this['updateType']=_d;break;case Tn:this['updateType']=gd;break;case ga:this['updateType']=pd;break;case ca:this['updateType']=zn;break;case Nn:this['updateType']=Sd;break;case tl:this['updateType']=yd;break;case ds:this['updateType']=md;break;case ha:this['updateType']=Vn;break;case kn:this['updateType']=vd;break;case sl:this['updateType']=xd;break;case Rn:this['updateType']=Lp;break;case da:this['updateType']=gh;break;case Un:this['updateType']=Rp;break;case il:this['updateType']=Op;break;case li:this['updateType']=wy;break;default:w['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+Ey[_0x4194f0]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x4e1076+'\x27.'),w['call'](()=>{this['invalid']=!(0x24a1+0xf*-0x226+-0x467*0x1);});break;}this['count']=_0x522e86,w['assert'](!isNaN(_0x522e86),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x4e1076+'['+_0x522e86+']'),w['call'](()=>{isNaN(_0x522e86)&&(this['invalid']=!(-0xc07*0x3+0x24fa+-0xe5));});let _0x1c7921=this['numCompone'+'nts'];_0x522e86&&(_0x1c7921=Y['roundUp'](_0x1c7921,-0x825*0x1+0xf5*0x26+-0x3*0x967)),this['byteSize']=_0x1c7921*(-0x1c6d+-0xb38*0x2+0x32e1),_0x522e86&&(this['byteSize']*=_0x522e86),w['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x4194f0+'\x20used\x20for\x20'+_0x4e1076);}get['isArrayTyp'+'e'](){return this['count']>-0x13*0xb3+-0x492+0x11db;}['calculateO'+'ffset'](_0x453405){let _0x252a6a=this['byteSize']<=-0xd6a+0x12c6*0x1+-0x554?this['byteSize']:0x2a*-0xcb+0x21a*-0x1+0x28*0xe3;this['count']&&(_0x252a6a=-0x8fc+-0x1c94+0x25a0*0x1),_0x453405=Y['roundUp'](_0x453405,_0x252a6a),this['offset']=_0x453405/(-0x46c+0x1*0x5cf+-0x15f);}}class zy{constructor(_0x386bcd,_0x3c8b67){h(this,'byteSize',-0x3*-0xaa5+-0xa*-0x9d+-0x2611),h(this,'map',new Map()),(this['scope']=_0x386bcd['scope'],this['uniforms']=_0x3c8b67);let _0xf6b5ed=0xa78+-0x1bdd+-0x1165*-0x1;for(let _0x125f8c=0x1afb+-0x4c+-0x1aaf;_0x125f8c<_0x3c8b67['length'];_0x125f8c++){const _0xd18359=_0x3c8b67[_0x125f8c];_0xd18359['calculateO'+'ffset'](_0xf6b5ed),_0xf6b5ed=_0xd18359['offset']*(-0x22fc*0x1+0x8*0x293+0x4*0x39a)+_0xd18359['byteSize'],_0xd18359['scopeId']=this['scope']['resolve'](_0xd18359['name']),this['map']['set'](_0xd18359['name'],_0xd18359);}this['byteSize']=Y['roundUp'](_0xf6b5ed,0x1e2c+-0x3*0x70f+0x1*-0x8ef);}['get'](_0x4c36dc){return this['map']['get'](_0x4c36dc);}}const Lr='Preprocess'+'or',Fs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,Nd=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,i_=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,kd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,Ud=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,Bd=/(endif|else|elif)(?:[ \t]+([^\r\n]*))?\r?\n?/g,r_=/\{?[\w-]+\}?/,NT=/(!|\s)?defined\(([\w-]+)\)/,kT=/!?defined\s*\([^)]*\)/g,UT=/!?defined\s*$/,BT=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,zT=/[+\-]/g,zd=/include[ \t]+"([\w-]+)(?:\s*,\s*([\w-]+))?"/g,VT=/\{i\}/g,a_=/(pcFragColor[1-8])\b/g,Lt=class Lt{static['run'](_0x517279,_0x1c9966=new Map(),_0x51abb8={}){Lt['sourceName']=_0x51abb8['sourceName'],_0x517279=this['stripComme'+'nts'](_0x517279),_0x517279=_0x517279['split'](/\r?\n/)['map'](_0x4a90b8=>_0x4a90b8['trimEnd']())['join']('\x0a');const _0x488e0d=new Map(),_0x1b13f9=new Map();if(_0x517279=this['_preproces'+'s'](_0x517279,_0x488e0d,_0x1b13f9,_0x1c9966,_0x51abb8['stripDefin'+'es']),_0x517279===null)return null;const _0x134cce=new Map();return _0x488e0d['forEach']((_0x3d7c1d,_0x252e4b)=>{Number['isInteger'](parseFloat(_0x3d7c1d))&&!_0x3d7c1d['includes']('.')&&_0x134cce['set'](_0x252e4b,_0x3d7c1d);}),_0x517279=this['stripComme'+'nts'](_0x517279),_0x517279=this['stripUnuse'+'dColorAtta'+'chments'](_0x517279,_0x51abb8),_0x517279=this['RemoveEmpt'+'yLines'](_0x517279),_0x517279=this['processArr'+'aySize'](_0x517279,_0x134cce),_0x517279=this['injectDefi'+'nes'](_0x517279,_0x1b13f9),_0x517279;}static['stripUnuse'+'dColorAtta'+'chments'](_0x1abbda,_0x34a690){if(_0x34a690['stripUnuse'+'dColorAtta'+'chments']){const _0x59d6df=new Map(),_0x4c0588=_0x1abbda['match'](a_);if(_0x4c0588==null||_0x4c0588['forEach'](_0x1005e4=>{const _0xd6d764=parseInt(_0x1005e4['charAt'](_0x1005e4['length']-(0x206e+0x1*-0x1d60+-0x30d)),-0x1f36+0x3f7+0x1b49*0x1);_0x59d6df['set'](_0xd6d764,(_0x59d6df['get'](_0xd6d764)??-0x1c9*-0xb+-0x1*-0x22f1+-0x2*0x1b4a)+(0x3a*0x6d+-0xae2*0x1+0x23*-0x65));}),Array['from'](_0x59d6df['values']())['some'](_0x58bc7a=>_0x58bc7a===0x11c9+0x1ef4+-0x30bc)){const _0x55a80e=_0x1abbda['split']('\x0a'),_0x4c77c0=[];for(let _0x7f3d96=0x232e+-0x3*-0x79f+-0x1*0x3a0b;_0x7f3d96<_0x55a80e['length'];_0x7f3d96++){const _0x45ab1f=_0x55a80e[_0x7f3d96]['match'](a_);if(_0x45ab1f){const _0x2d5393=parseInt(_0x45ab1f[-0x7be+-0x1*0x21f7+0x29b5]['charAt'](_0x45ab1f[0x1*-0x449+0x2032+-0x5*0x595]['length']-(-0xdaf*-0x1+-0x8*0x189+-0x166)),0x5*0x68c+0x1596+-0x3648);if(_0x2d5393>0x9*-0x1af+0x248b+0xab2*-0x2&&_0x59d6df['get'](_0x2d5393)===0x2530+0x1ce8+0x1*-0x4217)continue;}_0x4c77c0['push'](_0x55a80e[_0x7f3d96]);}_0x1abbda=_0x4c77c0['join']('\x0a');}}return _0x1abbda;}static['stripComme'+'nts'](_0x5775ca){return _0x5775ca['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x314f83,_0x26421a){return _0x314f83!==null&&_0x26421a['forEach']((_0x756705,_0x5e5cd3)=>{_0x314f83=_0x314f83['replace'](new RegExp('\x5c['+_0x5e5cd3+'\x5c]','g'),'['+_0x756705+']');}),_0x314f83;}static['injectDefi'+'nes'](_0x20a84d,_0x3a1a55){if(_0x20a84d!==null&&_0x3a1a55['size']>-0xb*-0x226+-0x9*-0x9f+-0x1d39){const _0x32f2ba=_0x20a84d['split']('\x0a');_0x3a1a55['forEach']((_0x4f0c06,_0x4cc52a)=>{const _0x13ec13=new RegExp(_0x4cc52a,'g');for(let _0x29d4e6=0x13e2+0x891+0x1c73*-0x1;_0x29d4e6<_0x32f2ba['length'];_0x29d4e6++)_0x32f2ba[_0x29d4e6]['includes']('#')||(_0x32f2ba[_0x29d4e6]=_0x32f2ba[_0x29d4e6]['replace'](_0x13ec13,_0x4f0c06));}),_0x20a84d=_0x32f2ba['join']('\x0a');}return _0x20a84d;}static['RemoveEmpt'+'yLines'](_0x59a1ce){return _0x59a1ce!==null&&(_0x59a1ce=_0x59a1ce['split'](/\r?\n/)['map'](_0x59aac4=>_0x59aac4['trim']()===''?'':_0x59aac4)['join']('\x0a'),_0x59a1ce=_0x59a1ce['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x59a1ce;}static['_preproces'+'s'](_0x46723c,_0x5c7725=new Map(),_0x4738f2,_0x59040b,_0x1e02e2){var _0x187971;const _0x812b04=_0x46723c,_0x202c8c=[];let _0xc3a1ed=!(-0x8f9*0x4+-0x4*0x869+0x4589),_0x1f1415;for(;(_0x1f1415=Fs['exec'](_0x46723c))!==null&&!_0xc3a1ed;){const _0x45201e=_0x1f1415[0x93e+-0x17a2+0x43*0x37];switch(_0x45201e){case'define':{Nd['lastIndex']=_0x1f1415['index'];const _0x4cfe9a=Nd['exec'](_0x46723c);w['assert'](_0x4cfe9a,'Invalid\x20['+_0x45201e+']:\x20'+_0x46723c['substring'](_0x1f1415['index'],_0x1f1415['index']+(-0x2095+-0x10a6*0x2+0x4245))+'...'),_0xc3a1ed||(_0xc3a1ed=_0x4cfe9a===null);const _0x3bd37f=_0x4cfe9a[0x9*0x28f+-0xbf*-0x1f+-0x2e27*0x1];r_['lastIndex']=_0x4cfe9a['index'];const _0x17da43=r_['exec'](_0x3bd37f)[0x13e7+-0x9*0x2db+-0x6a*-0xe];let _0x44dc57=_0x3bd37f['substring'](_0x17da43['length'])['trim']();_0x44dc57===''&&(_0x44dc57='true');const _0x16528a=Lt['_keep'](_0x202c8c);let _0x2b594d=_0x1e02e2;if(_0x16528a){const _0xdb45fa=_0x17da43['startsWith']('{')&&_0x17da43['endsWith']('}');_0xdb45fa&&(_0x2b594d=!(0x5d5*0x5+0x3*0x46b+-0x2a6a)),_0xdb45fa?_0x4738f2['set'](_0x17da43,_0x44dc57):_0x5c7725['set'](_0x17da43,_0x44dc57),_0x2b594d&&(_0x46723c=_0x46723c['substring'](-0xd*-0x269+-0x67*0x33+-0xad0,_0x4cfe9a['index']-(-0xb*0x5b+0x16c8+-0x12de))+_0x46723c['substring'](Nd['lastIndex']),Fs['lastIndex']=_0x4cfe9a['index']-(-0x458+0x2*-0xc47+0x7*0x421));}w['trace'](Lr,_0x45201e+':\x20['+_0x17da43+']\x20'+_0x44dc57+'\x20'+(_0x16528a?'':'IGNORED')),_0x2b594d||(Fs['lastIndex']=_0x4cfe9a['index']+_0x4cfe9a[-0x145a+-0x197a+-0x2*-0x16ea]['length']);break;}case'undef':{kd['lastIndex']=_0x1f1415['index'];const _0x173a11=kd['exec'](_0x46723c),_0x405a6e=_0x173a11[0xb18+-0x39*-0x93+-0x2bd2]['trim'](),_0x1ea59d=Lt['_keep'](_0x202c8c);_0x1ea59d&&(_0x5c7725['delete'](_0x405a6e),_0x1e02e2&&(_0x46723c=_0x46723c['substring'](-0x12e3+0xf81+-0x362*-0x1,_0x173a11['index']-(-0x1a93+-0x1*-0x1043+0xa51*0x1))+_0x46723c['substring'](kd['lastIndex']),Fs['lastIndex']=_0x173a11['index']-(0xb3+0x1*0x18b2+-0x1964))),w['trace'](Lr,_0x45201e+':\x20['+_0x405a6e+']\x20'+(_0x1ea59d?'':'IGNORED')),_0x1e02e2||(Fs['lastIndex']=_0x173a11['index']+_0x173a11[-0xa6*-0x2e+0x179c+-0x3570]['length']);break;}case'extension':{i_['lastIndex']=_0x1f1415['index'];const _0xf94930=i_['exec'](_0x46723c);if(w['assert'](_0xf94930,'Invalid\x20['+_0x45201e+']:\x20'+_0x46723c['substring'](_0x1f1415['index'],_0x1f1415['index']+(-0x19c4+-0xab5*0x1+0x24dd))+'...'),_0xc3a1ed||(_0xc3a1ed=_0xf94930===null),_0xf94930){const _0x6eaabc=_0xf94930[-0x214a+-0x2553+0x312*0x17],_0x35cf90=Lt['_keep'](_0x202c8c);_0x35cf90&&_0x5c7725['set'](_0x6eaabc,'true'),w['trace'](Lr,_0x45201e+':\x20['+_0x6eaabc+']\x20'+(_0x35cf90?'':'IGNORED'));}Fs['lastIndex']=_0xf94930['index']+_0xf94930[-0x23d1+0x1300+-0x15*-0xcd]['length'];break;}case'ifdef':case'ifndef':case'if':{Ud['lastIndex']=_0x1f1415['index'];const _0x120c59=Ud['exec'](_0x46723c),_0xf0f803=_0x120c59[-0x1f12+-0x1*0x823+0x2737],_0x47dbfa=Lt['evaluate'](_0xf0f803,_0x5c7725);_0xc3a1ed||(_0xc3a1ed=_0x47dbfa['error']);let _0x453b3b=_0x47dbfa['result'];_0x45201e==='ifndef'&&(_0x453b3b=!_0x453b3b),_0x202c8c['push']({'anyKeep':_0x453b3b,'keep':_0x453b3b,'start':_0x1f1415['index'],'end':Ud['lastIndex']}),w['trace'](Lr,_0x45201e+':\x20['+_0xf0f803+']\x20=>\x20'+_0x453b3b),Fs['lastIndex']=_0x120c59['index']+_0x120c59[0x1d58+0x4d8+0x8*-0x446]['length'];break;}case'endif':case'else':case'elif':{Bd['lastIndex']=_0x1f1415['index'];const _0x591326=Bd['exec'](_0x46723c),_0x193f32=_0x202c8c['pop']();if(!_0x193f32){console['error']('Shader\x20pre'+'processing'+'\x20encounter'+'ed\x20\x22#'+_0x591326[-0x79a+0xd20+-0x585]+('\x22\x20without\x20'+'a\x20precedin'+'g\x20#if\x20#ifd'+'ef\x20#ifndef'+'\x20while\x20pre'+'processing'+'\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0x46723c['substring'](_0x1f1415['index'],_0x1f1415['index']+(-0x1b56*-0x1+0x1a63+-0x5ed*0x9))+'...',{'source':_0x812b04}),_0xc3a1ed=!(0x1*0xfd+-0x1247+0x114a);continue;}const _0x39755f=_0x193f32['keep']?_0x46723c['substring'](_0x193f32['end'],_0x1f1415['index']):'';w['trace'](Lr,_0x45201e+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x39755f!=='')),_0x46723c=_0x46723c['substring'](0xa7a+-0x1b78*0x1+0x32*0x57,_0x193f32['start'])+_0x39755f+_0x46723c['substring'](Bd['lastIndex']),Fs['lastIndex']=_0x193f32['start']+_0x39755f['length'];const _0x27cb56=_0x591326[-0x121a+-0xe17+0xd*0x27a];if(_0x27cb56==='else'||_0x27cb56==='elif'){let _0x1dbb83=!(-0x185d+0x21db+-0x97d);if(!_0x193f32['anyKeep']){if(_0x27cb56==='else')_0x1dbb83=!_0x193f32['keep'];else{const _0x4e9e4b=Lt['evaluate'](_0x591326[0x4e8+-0x114a+-0x4*-0x319],_0x5c7725);_0x1dbb83=_0x4e9e4b['result'],_0xc3a1ed||(_0xc3a1ed=_0x4e9e4b['error']);}}_0x202c8c['push']({'anyKeep':_0x193f32['anyKeep']||_0x1dbb83,'keep':_0x1dbb83,'start':Fs['lastIndex'],'end':Fs['lastIndex']}),w['trace'](Lr,_0x45201e+':\x20['+_0x591326[-0x4f5*-0x3+0x23c1+-0x2*0x194f]+']\x20=>\x20'+_0x1dbb83);}break;}case'include':{zd['lastIndex']=_0x1f1415['index'];const _0x1e2cc4=zd['exec'](_0x46723c);if(_0xc3a1ed||(_0xc3a1ed=_0x1e2cc4===null),!_0x1e2cc4){w['assert'](_0x1e2cc4,'Invalid\x20['+_0x45201e+(']\x20while\x20pr'+'eprocessin'+'g\x20')+Lt['sourceName']+':\x0a'+_0x46723c['substring'](_0x1f1415['index'],_0x1f1415['index']+(-0x3*0x82f+-0x1067+0x2958))+'...'),_0xc3a1ed=!(0x64c+0xdd7+0x1*-0x1423);continue;}const _0x30fbe0=_0x1e2cc4[-0x1*-0x56f+-0x1f73+-0x1*-0x1a05]['trim'](),_0x3feb3e=(_0x187971=_0x1e2cc4[0x1d8+0xbd*-0xd+-0x7c3*-0x1])==null?void(0x459+0x1750+-0x1ba9):_0x187971['trim'](),_0x55cdeb=Lt['_keep'](_0x202c8c);if(_0x55cdeb){let _0x254c99=_0x59040b==null?void(0x1*0x2b7+0xc08+0xebf*-0x1):_0x59040b['get'](_0x30fbe0);if(_0x254c99!==void(0x2*-0xdfa+-0xa36*0x1+0x262a)){if(_0x254c99=this['stripComme'+'nts'](_0x254c99),_0x3feb3e){const _0x5da32b=_0x5c7725['get'](_0x3feb3e),_0x4040d7=parseFloat(_0x5da32b);if(Number['isInteger'](_0x4040d7)){let _0x18978c='';for(let _0x1d3caf=0x1992+0xbf+0x1a51*-0x1;_0x1d3caf<_0x4040d7;_0x1d3caf++)_0x18978c+=_0x254c99['replace'](VT,String(_0x1d3caf));_0x254c99=_0x18978c;}else console['error']('Include\x20Co'+'unt\x20identi'+'fier\x20\x22'+_0x3feb3e+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0x46723c['substring'](_0x1f1415['index'],_0x1f1415['index']+(-0x13c+0x2*0x113f+-0x20de))+'...',{'originalSource':_0x812b04,'source':_0x46723c}),_0xc3a1ed=!(0x1d30+-0x139c*-0x1+-0x2*0x1866);}_0x46723c=_0x46723c['substring'](0x1*0x194+-0x1*-0x157d+0x49d*-0x5,_0x1e2cc4['index']-(-0x9*-0x359+-0x1ac+-0x1c74))+_0x254c99+_0x46723c['substring'](zd['lastIndex']),Fs['lastIndex']=_0x1e2cc4['index']-(0x29+0x1*-0x61b+-0x5f3*-0x1);}else{console['error']('Include\x20\x22'+_0x30fbe0+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName'],{'originalSource':_0x812b04,'source':_0x46723c}),_0xc3a1ed=!(0xa*-0x385+0x1*0x1ca0+0x692*0x1);continue;}}w['trace'](Lr,_0x45201e+':\x20['+_0x30fbe0+']\x20'+(_0x55cdeb?'':'IGNORED'));break;}}}return _0x202c8c['length']>0x259*-0xb+-0x2563+0x3f36*0x1&&(console['error']('Shader\x20pre'+'processing'+'\x20reached\x20t'+'he\x20end\x20of\x20'+'the\x20file\x20w'+'ithout\x20enc'+'ountering\x20'+'the\x20necess'+'ary\x20#endif'+'\x20to\x20close\x20'+'a\x20precedin'+'g\x20#if,\x20#if'+'def,\x20or\x20#i'+'fndef\x20bloc'+'k.\x20'+Lt['sourceName']),_0xc3a1ed=!(0x685+-0x191c+0x1297)),_0xc3a1ed?(console['error']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x812b04}),null):_0x46723c;}static['_keep'](_0x3cae7c){for(let _0x9f649a=0x2679+0x12*-0x6d+-0x1*0x1ecf;_0x9f649a<_0x3cae7c['length'];_0x9f649a++)if(!_0x3cae7c[_0x9f649a]['keep'])return!(-0x23e0+-0x8c4*-0x2+0x1259);return!(0xd*0xb+0x18*0x117+0x1ab7*-0x1);}static['evaluateAt'+'omicExpres'+'sion'](_0x286688,_0x2240bd){let _0x43b262=!(-0xd*-0x83+0x1c*-0x13a+0xdd9*0x2);_0x286688=_0x286688['trim']();let _0x288dd5=!(0x1d3*0x10+-0xc02+0x112d*-0x1);if(_0x286688==='true')return{'result':!(0x5*-0x3f3+-0x3*-0x5f2+0x1e9),'error':_0x43b262};if(_0x286688==='false')return{'result':!(0x19*0x11f+0x1*-0x259c+0x4cb*0x2),'error':_0x43b262};const _0x5276f0=NT['exec'](_0x286688);if(_0x5276f0){_0x288dd5=_0x5276f0[-0x122*-0x7+0x2c3+-0x13*0x90]==='!',_0x286688=_0x5276f0[0x19b*-0x15+0x1845+0x974]['trim']();const _0x45a46c=_0x2240bd['has'](_0x286688);return{'result':_0x288dd5?!_0x45a46c:_0x45a46c,'error':_0x43b262};}const _0x5ab071=BT['exec'](_0x286688);if(_0x5ab071){const _0x2df20c=_0x2240bd['get'](_0x5ab071[0x21d4+-0x1da3+0x10*-0x43]['trim']())??_0x5ab071[0x72e+0x260a+-0x2d37]['trim'](),_0xc5aedd=_0x2240bd['get'](_0x5ab071[-0xee3*-0x2+0x1616+-0x33d9]['trim']())??_0x5ab071[0x97b+-0x756*0x3+-0x2*-0x645]['trim'](),_0x3460da=_0x5ab071[0x1ad9+0xb62+-0x5*0x7a5]['trim']();let _0x4702fe=!(-0x142d+-0x1*0x82+0x14b*0x10);switch(_0x3460da){case'==':_0x4702fe=_0x2df20c===_0xc5aedd;break;case'!=':_0x4702fe=_0x2df20c!==_0xc5aedd;break;case'<':_0x4702fe=_0x2df20c<_0xc5aedd;break;case'<=':_0x4702fe=_0x2df20c<=_0xc5aedd;break;case'>':_0x4702fe=_0x2df20c>_0xc5aedd;break;case'>=':_0x4702fe=_0x2df20c>=_0xc5aedd;break;default:_0x43b262=!(0x2*-0x176+0x517+-0x22b);}return{'result':_0x4702fe,'error':_0x43b262};}return{'result':_0x2240bd['has'](_0x286688),'error':_0x43b262};}static['processPar'+'entheses'](_0x3e8467,_0x573525){let _0xcb693e=!(-0xd*0x1cd+0x1b8b+-0x421),_0x17f289=_0x3e8467['trim']();for(;_0x17f289['startsWith']('(')&&_0x17f289['endsWith'](')');){let _0x160d9e=0x1c*0x88+0x6*0x1d7+-0x3e*0x6b,_0x5b5f8d=!(0x2a4*0x6+-0x1583+0x5ab);for(let _0x5aad0e=-0x45a*0x3+0x1f*-0xf9+-0xe67*-0x3;_0x5aad0e<_0x17f289['length']-(0x4*-0x955+-0x117*0x19+0x4094);_0x5aad0e++)if(_0x17f289[_0x5aad0e]==='(')_0x160d9e++;else{if(_0x17f289[_0x5aad0e]===')'&&(_0x160d9e--,_0x160d9e===0x1575*-0x1+0x3ad*-0x7+0xbcc*0x4)){_0x5b5f8d=!(0x23*0xb0+0x18e7+-0x30f6);break;}}if(_0x5b5f8d)_0x17f289=_0x17f289['slice'](0x1b52+0x14bf+-0x3010,-(-0x1*0x98e+0xdfa+-0x179*0x3))['trim']();else break;}for(;;){let _0x441a22=!(-0x1241+0xb5*0x35+-0x1337),_0x13d057=0x9d0+-0x2*-0x1222+-0x2e14,_0x17f384=0x8d*0x37+0x1*-0x182a+-0x1*0x621,_0x4d2343=-(0xafa+0x115*-0x1f+0x1692),_0x1f0991=-(-0xe8+0xd2f*-0x1+-0x58*-0x29),_0x2a99a0=0xf15+-0xdfc*-0x2+-0x2b0d;for(let _0x57c131=0x51*0x3a+0xaab*-0x1+0x119*-0x7;_0x57c131<_0x17f289['length'];_0x57c131++)if(_0x17f289[_0x57c131]==='('){const _0x350ca2=_0x17f289['substring'](-0xd*0xb3+0x1b76+0x125f*-0x1,_0x57c131);UT['test'](_0x350ca2)?_0x2a99a0++:_0x2a99a0===0x1bc7+0x1294+-0x2e5b&&(_0x13d057++,_0x13d057>_0x17f384&&(_0x17f384=_0x13d057,_0x4d2343=_0x57c131),_0x441a22=!(-0xaa9*0x1+0x1139*0x1+-0x690));}else _0x17f289[_0x57c131]===')'&&(_0x2a99a0>-0x137*0x18+-0x853*-0x1+-0x14d5*-0x1?_0x2a99a0--:_0x13d057>-0x24ab*0x1+-0x1*-0x46c+0x1*0x203f&&(_0x13d057===_0x17f384&&_0x4d2343!==-(-0x14d*0x1d+0xcf5+0x18c5)&&(_0x1f0991=_0x57c131),_0x13d057--));if(!_0x441a22||_0x4d2343===-(-0x1386+0xa45+-0x4a1*-0x2)||_0x1f0991===-(-0xbb*-0x12+0x1ad1*-0x1+0xdac))break;const _0x57e447=_0x17f289['substring'](_0x4d2343+(-0x4c3*0x1+-0x3e5*0x2+0xc8e),_0x1f0991),{result:_0x2b0bd9,error:_0x182fe6}=Lt['evaluate'](_0x57e447,_0x573525);_0xcb693e=_0xcb693e||_0x182fe6,_0x17f289=_0x17f289['substring'](0x1b92+-0x2d5*-0x5+-0x29bb,_0x4d2343)+(_0x2b0bd9?'true':'false')+_0x17f289['substring'](_0x1f0991+(0x40e+0x26a+0x677*-0x1));}return{'expression':_0x17f289,'error':_0xcb693e};}static['evaluate'](_0x36c91a,_0x2f97bb){const _0x5857bd=zT['exec'](_0x36c91a)===null;w['assert'](_0x5857bd,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x36c91a);let _0x41d978=_0x36c91a,_0x150127=!(0x81a+-0x8*0x1cf+-0x65f*-0x1);if(_0x36c91a['replace'](kT,'')['indexOf']('(')!==-(-0x2460*-0x1+0x1021*0x1+-0x3480)){const _0x49eff5=Lt['processPar'+'entheses'](_0x36c91a,_0x2f97bb);_0x41d978=_0x49eff5['expression'],_0x150127=_0x49eff5['error'];}if(_0x150127)return w['log']('Parenthesi'+'s\x20parsing\x20'+'error\x20in\x20e'+'xpression:'+'\x20\x22'+_0x36c91a+'\x22'),{'result':!(0xeca+-0xfb6+0xed),'error':!(-0x1f5d+-0x1*0x1b4f+0x3aac)};const _0x1ff7cf=_0x41d978['split']('||');for(const _0x28b374 of _0x1ff7cf){const _0x31c866=_0x28b374['split']('&&');let _0x2d8ec9=!(0x19*0x59+0x2386+-0x15*0x21b);for(const _0x165f7d of _0x31c866){const {result:_0x4df684,error:_0x1a3a00}=Lt['evaluateAt'+'omicExpres'+'sion'](_0x165f7d['trim'](),_0x2f97bb);if(!_0x4df684||_0x1a3a00){_0x2d8ec9=!(-0x1d31+-0x93a*-0x1+0x47*0x48);break;}}if(_0x2d8ec9)return{'result':!(0x93d+-0xab*0x1d+0xa22),'error':!_0x5857bd};}return{'result':!(-0x1f00+-0x13f5+0x32f6),'error':!_0x5857bd};}};h(Lt,'sourceName');let ko=Lt;const Vy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pcFragCo'+'lor0;\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_1\x0a'+'layout(loc'+'ation\x20=\x201)'+'\x20out\x20highp'+'\x20outType_1'+'\x20pcFragCol'+'or1;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_2\x0alayo'+'ut(locatio'+'n\x20=\x202)\x20out'+'\x20highp\x20out'+'Type_2\x20pcF'+'ragColor2;'+'\x0a#endif\x0a\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'3\x0alayout(l'+'ocation\x20=\x20'+'3)\x20out\x20hig'+'hp\x20outType'+'_3\x20pcFragC'+'olor3;\x0a#en'+'dif\x0a\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'cFragColor'+'4;\x0a#endif\x0a'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_5\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0a#'+'endif\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_6\x0a'+'layout(loc'+'ation\x20=\x206)'+'\x20out\x20highp'+'\x20outType_6'+'\x20pcFragCol'+'or6;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_7\x0alayo'+'ut(locatio'+'n\x20=\x207)\x20out'+'\x20highp\x20out'+'Type_7\x20pcF'+'ragColor7;'+'\x0a#endif\x0a\x0a#'+'define\x20gl_'+'FragColor\x20'+'pcFragColo'+'r0\x0a\x0a#defin'+'e\x20varying\x20'+'in\x0a\x0a#defin'+'e\x20texture2'+'D\x20texture\x0a'+'#define\x20te'+'xture2DBia'+'s\x20texture\x0a'+'#define\x20te'+'xtureCube\x20'+'texture\x0a#d'+'efine\x20text'+'ure2DProj\x20'+'texturePro'+'j\x0a#define\x20'+'texture2DL'+'od\x20texture'+'Lod\x0a#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a#defin'+'e\x20textureC'+'ubeLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+('ure2DGrad\x20'+'textureGra'+'d\x0a#define\x20'+'texture2DP'+'rojGrad\x20te'+'xtureProjG'+'rad\x0a#defin'+'e\x20textureC'+'ubeGrad\x20te'+'xtureGrad\x0a'+'#define\x20ut'+'exture2D\x20t'+'exture\x0a#de'+'fine\x20itext'+'ure2D\x20text'+'ure\x0a\x0a//\x20de'+'precated\x20d'+'efines\x0a#de'+'fine\x20textu'+'re2DLodEXT'+'\x20texture2D'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DProjLodE'+'XT\x20texture'+'2DProjLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DP'+'rojLod\x0a#de'+'fine\x20textu'+'reCubeLodE'+'XT\x20texture'+'CubeLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeL'+'od_instead'+'\x0a#define\x20t'+'exture2DGr'+'adEXT\x20text'+'ure2DGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DG'+'rad_instea'+'d\x0a#define\x20'+'texture2DP'+'rojGradEXT'+'\x20texture2D'+'ProjGradEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DPr'+'ojGrad_ins'+'tead\x0a#defi'+'ne\x20texture'+'CubeGradEX'+'T\x20textureC'+'ubeGradEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeG'+'rad_instea'+'d\x0a\x0a//\x20samp'+'le\x20shadows'+'\x20using\x20tex'+'tureGrad\x20t'+'o\x20remove\x20d'+'erivatives'+'\x20in\x20the\x20dy'+'namic\x20loop'+'s\x20(which\x20a'+'re\x20used\x20by'+'\x0a//\x20cluste'+'red\x20lighti'+'ng)\x20-\x20as\x20D'+'irectX\x20sha'+'der\x20compil'+'er\x20tries\x20t'+'o\x20unroll\x20t'+'he\x20loops\x20a'+'nd\x20takes\x20l'+'ong\x20time\x0a/'+'/\x20to\x20compi'+'le\x20the\x20sha'+'der.\x20Using'+'\x20textureLo'+'d\x20would\x20be'+'\x20even\x20bett')+('er,\x20but\x20We'+'bGl\x20does\x20n'+'ot\x20transla'+'te\x20it\x20to\x0a/'+'/\x20lod\x20inst'+'ruction\x20fo'+'r\x20DirectX\x20'+'correctly\x20'+'and\x20uses\x20S'+'ampleCmp\x20i'+'nstead\x20of\x20'+'SampleCmpL'+'evelZero\x20o'+'r\x20similar.'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureG'+'rad(res,\x20u'+'v,\x20vec2(1,'+'\x201),\x20vec2('+'1,\x201))\x0a\x0a//'+'\x20pass\x20/\x20ac'+'cept\x20shado'+'w\x20map\x20or\x20t'+'exture\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20on\x20webgl'+'\x20this\x20is\x20s'+'imply\x20pass'+'ed\x20as\x20is\x0a/'+'/\x20but\x20this'+'\x20is\x20needed'+'\x20for\x20WebGP'+'U\x0a#define\x20'+'SHADOWMAP_'+'PASS(name)'+'\x20name\x0a#def'+'ine\x20SHADOW'+'MAP_ACCEPT'+'(name)\x20sam'+'pler2DShad'+'ow\x20name\x0a#d'+'efine\x20TEXT'+'URE_PASS(n'+'ame)\x20name\x0a'+'#define\x20TE'+'XTURE_ACCE'+'PT(name)\x20s'+'ampler2D\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP(name)\x20h'+'ighp\x20sampl'+'er2D\x20name\x0a'+'\x0a#define\x20G'+'L2\x0a'),Gy='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',Hy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pcFragColo'+'r0;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pcFra'+'gColor1;\x0al'+'ayout(loca'+'tion\x20=\x202)\x20'+'out\x20highp\x20'+'outType_2\x20'+'pcFragColo'+'r2;\x0alayout'+'(location\x20'+'=\x203)\x20out\x20h'+'ighp\x20outTy'+'pe_3\x20pcFra'+'gColor3;\x0al'+'ayout(loca'+'tion\x20=\x204)\x20'+'out\x20highp\x20'+'outType_4\x20'+'pcFragColo'+'r4;\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0al'+'ayout(loca'+'tion\x20=\x206)\x20'+'out\x20highp\x20'+'outType_6\x20'+'pcFragColo'+'r6;\x0alayout'+'(location\x20'+'=\x207)\x20out\x20h'+'ighp\x20outTy'+'pe_7\x20pcFra'+'gColor7;\x0a\x0a'+'#define\x20gl'+'_FragColor'+'\x20pcFragCol'+'or0\x0a\x0a#defi'+'ne\x20texture'+'2D(res,\x20uv'+')\x20texture('+'sampler2D('+('res,\x20res\x20#'+'#\x20_sampler'+'),\x20uv)\x0a#de'+'fine\x20textu'+'re2DBias(r'+'es,\x20uv,\x20bi'+'as)\x20textur'+'e(sampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv,\x20b'+'ias)\x0a#defi'+'ne\x20texture'+'2DLod(res,'+'\x20uv,\x20lod)\x20'+'textureLod'+'(sampler2D'+'(res,\x20res\x20'+'##\x20_sample'+'r),\x20uv,\x20lo'+'d)\x0a#define'+'\x20textureCu'+'be(res,\x20uv'+')\x20texture('+'samplerCub'+'e(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a#'+'define\x20tex'+'tureCubeLo'+'d(res,\x20uv,'+'\x20lod)\x20text'+'ureLod(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20lod)'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureL'+'od(sampler'+'2DShadow(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x200.0)'+'\x0a#define\x20i'+'texture2D('+'res,\x20uv)\x20t'+'exture(isa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv)\x0a#defi'+'ne\x20utextur'+'e2D(res,\x20u'+'v)\x20texture'+'(usampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a\x0a'+'//\x20depreca'+'ted\x20define'+'s\x0a#define\x20'+'texture2DL'+'odEXT\x20text'+'ure2DLodEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DLo'+'d_instead\x0a'+'#define\x20te'+'xture2DPro'+'jLodEXT\x20te'+'xture2DPro'+'jLodEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DProjLo'+'d\x0a#define\x20'+'textureCub'+'eLodEXT\x20te'+'xtureCubeL'+'odEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeLod_in'+'stead\x0a#def'+'ine\x20textur'+'e2DGradEXT'+'\x20texture2D'+'GradEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DGrad_i'+'nstead\x0a#de')+('fine\x20textu'+'re2DProjGr'+'adEXT\x20text'+'ure2DProjG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjGra'+'d_instead\x0a'+'#define\x20te'+'xtureCubeG'+'radEXT\x20tex'+'tureCubeGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeGrad_i'+'nstead\x0a\x0a//'+'\x20TODO:\x20imp'+'lement\x20oth'+'er\x20texture'+'\x20sampling\x20'+'macros\x0a//\x20'+'#define\x20te'+'xture2DPro'+'j\x20textureP'+'roj\x0a//\x20#de'+'fine\x20textu'+'re2DProjLo'+'d\x20textureP'+'rojLod\x0a//\x20'+'#define\x20te'+'xture2DGra'+'d\x20textureG'+'rad\x0a//\x20#de'+'fine\x20textu'+'re2DProjGr'+'ad\x20texture'+'ProjGrad\x0a/'+'/\x20#define\x20'+'textureCub'+'eGrad\x20text'+'ureGrad\x0a\x0a/'+'/\x20pass\x20/\x20a'+'ccept\x20shad'+'ow\x20map\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20passes\x20b'+'oth\x20the\x20te'+'xture\x20as\x20w'+'ell\x20as\x20sam'+'pler\x0a//\x20as'+'\x20the\x20combi'+'ned\x20sample'+'r\x20can\x20be\x20o'+'nly\x20create'+'d\x20at\x20a\x20poi'+'nt\x20of\x20use\x0a'+'#define\x20SH'+'ADOWMAP_PA'+'SS(name)\x20n'+'ame,\x20name\x20'+'##\x20_sample'+'r\x0a#define\x20'+'SHADOWMAP_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'PASS(name)'+'\x20name,\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP\x20TEXTURE'+'_ACCEPT\x0a\x0a#'+'define\x20GL2'+'\x0a#define\x20W'+'EBGPU\x0a'),Wy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',$y='\x0a',Xy='\x0a#define\x20V'+'ERTEXSHADE'+'R\x0a',n_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',o_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20fo'+'r\x20sampling'+'\x20scene\x20gra'+'b\x20textures'+'\x0afn\x20getGra'+'bScreenPos'+'(clipPos:\x20'+'vec4<f32>)'+'\x20->\x20vec2<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'var\x20uv:\x20ve'+'c2<f32>\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x20vec2<f3'+'2>(0.5);\x0a\x20'+'\x20\x20\x20uv.y\x20=\x20'+'1.0\x20-\x20uv.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'//\x20convert'+'\x20uv\x20coordi'+'nates\x20to\x20s'+'ample\x20imag'+'e\x20effect\x20t'+'exture\x20(re'+'nder\x20targe'+'t\x20texture\x20'+'rendered\x20w'+'ithout\x0a//\x20'+'forward\x20re'+'nderer\x20whi'+'ch\x20does\x20th'+'e\x20flip\x20in\x20'+'the\x20projec'+'tion\x20matri'+'x)\x0afn\x20getI'+'mageEffect'+'UV(uv:\x20vec'+'2<f32>)\x20->'+'\x20vec2<f32>'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20modifiedU'+'V:\x20vec2<f3'+'2>\x20=\x20uv;\x0a\x20'+'\x20\x20\x20modifie'+'dUV.y\x20=\x201.'+'0\x20-\x20modifi'+'edUV.y;\x0a\x20\x20'+'\x20\x20return\x20m'+'odifiedUV;'+'\x0a}\x0a\x0a//\x20typ'+'es\x20wrapped'+'\x20in\x20size\x20a'+'ligned\x20str'+'uctures\x20to'+'\x20ensure\x20co'+'rrect\x20alig'+'nment\x20in\x20u'+'niform\x20buf'+'fer\x20arrays'+'\x0astruct\x20Wr'+'appedF32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'f32\x20}\x0astru'+'ct\x20Wrapped'+'I32\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20i32\x20}'+'\x0astruct\x20Wr'+'appedU32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'u32\x20}\x0astru'+'ct\x20Wrapped'+'Vec2F\x20{\x20@s'+'ize(16)\x20el'+'ement:\x20vec'+'2f\x20}\x0astruc'+'t\x20WrappedV'+'ec2I\x20{\x20@si'+'ze(16)\x20ele'+'ment:\x20vec2'+'i\x20}\x0astruct'+'\x20WrappedVe'+'c2U\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20vec2u'+'\x20}\x0a',GT={'vertex_position':Me,'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_texCoord2':wl,'vertex_texCoord3':El,'vertex_texCoord4':bl,'vertex_texCoord5':Al,'vertex_texCoord6':Cl,'vertex_texCoord7':Pl,'vertex_color':Wt,'vertex_boneIndices':us,'vertex_boneWeights':gi};class Jt{static['createDefi'+'nition'](_0x5827de,_0xc5eb41){w['assert'](_0xc5eb41),w['assert'](!_0xc5eb41['vertexDefi'+'nes']||_0xc5eb41['vertexDefi'+'nes']instanceof Map),w['assert'](!_0xc5eb41['vertexIncl'+'udes']||_0xc5eb41['vertexIncl'+'udes']instanceof Map),w['assert'](!_0xc5eb41['fragmentDe'+'fines']||_0xc5eb41['fragmentDe'+'fines']instanceof Map),w['assert'](!_0xc5eb41['fragmentIn'+'cludes']||_0xc5eb41['fragmentIn'+'cludes']instanceof Map);const _0xf4df82=_0x1b6696=>{let _0x33a9fb=_0x1b6696['fragmentOu'+'tputTypes']??'vec4';return Array['isArray'](_0x33a9fb)||(_0x33a9fb=[_0x33a9fb]),_0x33a9fb;},_0x3ccaac=(_0x291ed5,_0x55cd6f,_0x336a65,_0x1f4511)=>{const _0x293439=_0x5827de['isWebGPU']?_0x291ed5:_0x55cd6f;let _0x5d6494='';if(!_0x336a65){const _0x17520d=_0xf4df82(_0x1f4511);for(let _0x465967=-0x16d8+-0x26cd+0x16f*0x2b;_0x465967<_0x5827de['maxColorAt'+'tachments'];_0x465967++){_0x5d6494+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x465967+'\x0a';const _0x361b5c=_0x17520d[_0x465967]??'vec4';_0x5d6494+='#define\x20ou'+'tType_'+_0x465967+'\x20'+_0x361b5c+'\x0a';}}return _0x5d6494+_0x293439;},_0x43783c=(_0x9540b6,_0x3384c2)=>{let _0x16320b='';if(!_0x9540b6){const _0x10b692=_0xf4df82(_0x3384c2);for(let _0x54b389=-0xfee+-0xb*0x18d+0x20fd;_0x54b389<_0x5827de['maxColorAt'+'tachments'];_0x54b389++){const _0x1e7f18=_0x10b692[_0x54b389]??'vec4',_0x1179da=Fy['get'](_0x1e7f18);w['assert'](_0x1179da,'Unknown\x20ou'+'tput\x20type\x20'+'translatio'+'n:\x20'+_0x1e7f18+'\x20->\x20'+_0x1179da),_0x16320b+='alias\x20pcOu'+'tType'+_0x54b389+'\x20=\x20'+_0x1179da+';\x0a';}}return _0x16320b;},_0x1049ad=_0xc5eb41['name']??'Untitled';let _0x22c5c2,_0x3bf110;const _0xe35e2c=Jt['getDefines'+'Code'](_0x5827de,_0xc5eb41['vertexDefi'+'nes']),_0xb19de7=Jt['getDefines'+'Code'](_0x5827de,_0xc5eb41['fragmentDe'+'fines']);return _0xc5eb41['shaderLang'+'uage']===it?(_0x22c5c2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x43783c(!(0x12a7+0x1*-0x19b1+0x22*0x35),_0xc5eb41)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Xy+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0xe35e2c+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0xc5eb41['vertexCode']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'),_0x3bf110='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x43783c(!(-0x9d*-0x2f+0x395*0x5+-0x2ebb),_0xc5eb41)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+$y+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0xb19de7+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0xc5eb41['fragmentCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')):(w['assert'](_0xc5eb41['vertexCode']),_0x22c5c2=Jt['versionCod'+'e'](_0x5827de)+_0x3ccaac(Wy,Gy,!(0xc6*0x1+0xf65+0x1*-0x102b),_0xc5eb41)+_0xe35e2c+Jt['precisionC'+'ode'](_0x5827de)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x1049ad)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0xc5eb41['vertexCode'],w['assert'](_0xc5eb41['fragmentCo'+'de']),_0x3bf110=(_0xc5eb41['fragmentPr'+'eamble']||'')+Jt['versionCod'+'e'](_0x5827de)+_0x3ccaac(Hy,Vy,!(-0x281*0x8+-0x585+0x198e),_0xc5eb41)+_0xb19de7+Jt['precisionC'+'ode'](_0x5827de)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x1049ad)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0xc5eb41['fragmentCo'+'de']),{'name':_0x1049ad,'shaderLanguage':_0xc5eb41['shaderLang'+'uage']??Fe,'attributes':_0xc5eb41['attributes'],'vshader':_0x22c5c2,'vincludes':_0xc5eb41['vertexIncl'+'udes'],'fincludes':_0xc5eb41['fragmentIn'+'cludes'],'fshader':_0x3bf110,'useTransformFeedback':_0xc5eb41['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0xc5eb41['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0xc5eb41['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0xfe8872,_0x3a4cc6){let _0x3fdbc3='';return _0xfe8872['capsDefine'+'s']['forEach']((_0x2c854c,_0x25b986)=>{_0x3fdbc3+='#define\x20'+_0x25b986+'\x20'+_0x2c854c+'\x0a';}),_0x3fdbc3+='\x0a',_0x3a4cc6==null||_0x3a4cc6['forEach']((_0x318451,_0x2c0554)=>{_0x3fdbc3+='#define\x20'+_0x2c0554+'\x20'+_0x318451+'\x0a';}),_0x3fdbc3+='\x0a',_0x3fdbc3;}static['getShaderN'+'ameCode'](_0x3be656){return'#define\x20SH'+'ADER_NAME\x20'+_0x3be656+'\x0a';}static['versionCod'+'e'](_0x11ac2c){return _0x11ac2c['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x31444f,_0x103868){_0x103868&&_0x103868!=='highp'&&_0x103868!=='mediump'&&_0x103868!=='lowp'&&(_0x103868=null),_0x103868&&(_0x103868==='highp'&&_0x31444f['maxPrecisi'+'on']!=='highp'&&(_0x103868='mediump'),_0x103868==='mediump'&&_0x31444f['maxPrecisi'+'on']==='lowp'&&(_0x103868='lowp'));const _0x2b8fad=_0x103868||_0x31444f['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x2b8fad+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x2b8fad+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x2b8fad+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x2b8fad+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x2b8fad+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x2b8fad+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x2b8fad+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x21df07){const _0x5936f4={};let _0x3b1436=-0x149+-0x8a*0x2e+-0x1a15*-0x1,_0x39c33c=_0x21df07['indexOf']('attribute');for(;_0x39c33c>=0x1bc2+-0x1363+0x1*-0x85f&&!(_0x39c33c>0x10c4+-0xbf3+-0x4d1&&_0x21df07[_0x39c33c-(0x1bbc+0xad5+-0x1*0x2690)]==='/');){let _0x1d5a26=!(-0x21d0+0x45d+0x1d74);if(_0x39c33c>-0x2*0xd8d+-0x2424+0x3f3e){let _0x32daa3=_0x21df07['lastIndexO'+'f']('\x0a',_0x39c33c);_0x32daa3=_0x32daa3!==-(-0x2*0x26e+-0x1c31*0x1+0x210e)?_0x32daa3+(0x1129+0x2*0x7ef+0x1*-0x2106):0x89f*0x1+-0x1f90+-0x7*-0x347,_0x21df07['substring'](_0x32daa3,_0x39c33c)['includes']('#')&&(_0x1d5a26=!(0x5b5*0x4+-0xfd4+-0x700));}if(!_0x1d5a26){const _0x24926b=_0x21df07['indexOf'](';',_0x39c33c),_0x3be6b6=_0x21df07['lastIndexO'+'f']('\x20',_0x24926b),_0x370ae3=_0x21df07['substring'](_0x3be6b6+(-0x89a*0x3+-0x19ad*0x1+0x337c),_0x24926b);if(_0x5936f4[_0x370ae3])w['warn']('Attribute\x20'+'['+_0x370ae3+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x21df07});else{const _0x3ef42b=GT[_0x370ae3];_0x3ef42b!==void(0x2*-0x9dd+0x2196+0x2*-0x6ee)?_0x5936f4[_0x370ae3]=_0x3ef42b:(_0x5936f4[_0x370ae3]='ATTR'+_0x3b1436,_0x3b1436++);}}_0x39c33c=_0x21df07['indexOf']('attribute',_0x39c33c+(0xa46+0x21*-0x97+0x499*0x2));}return _0x5936f4;}}let HT=0x9b1*0x3+-0x559+-0x17ba;class qy{constructor(_0x39d62b,_0x2143f2){h(this,'meshUnifor'+'mBufferFor'+'mat'),h(this,'meshBindGr'+'oupFormat'),h(this,'attributes',new Map());if(this['id']=HT++,this['device']=_0x39d62b,this['definition']=_0x2143f2,this['name']=_0x2143f2['name']||'Untitled',this['init'](),_0x2143f2['cshader'])w['assert'](_0x39d62b['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),w['assert'](!_0x2143f2['vshader']&&!_0x2143f2['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.'),_0x2143f2['cshader']=ko['run'](_0x2143f2['cshader'],_0x2143f2['cincludes'],{'sourceName':'compute\x20sh'+'ader\x20for\x20'+this['label'],'stripDefines':!(0x164*0x2+0x3a7*-0x8+0x1a70)});else{w['assert'](_0x2143f2['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),w['assert'](_0x2143f2['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),w['call'](()=>{this['vUnmodifie'+'d']=_0x2143f2['vshader'],this['fUnmodifie'+'d']=_0x2143f2['fshader'];});const _0x2b38ec=_0x2143f2['shaderLang'+'uage']===it;_0x2143f2['vshader']=ko['run'](_0x2143f2['vshader'],_0x2143f2['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label'],'stripDefines':_0x2b38ec}),_0x2143f2['shaderLang'+'uage']===Fe&&(_0x2143f2['attributes']??(_0x2143f2['attributes']=Jt['collectAtt'+'ributes'](_0x2143f2['vshader'])));const _0x567562=_0x39d62b['isWebGL2']&&(Ae['name']==='osx'||Ae['name']==='ios');if(_0x2143f2['fshader']=ko['run'](_0x2143f2['fshader'],_0x2143f2['fincludes'],{'stripUnusedColorAttachments':_0x567562,'stripDefines':_0x2b38ec,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']}),!_0x2143f2['vshader']||!_0x2143f2['fshader']){w['error']('Shader:\x20Fa'+'iled\x20to\x20cr'+'eate\x20shade'+'r\x20'+this['label']+('.\x20Vertex\x20o'+'r\x20fragment'+'\x20shader\x20so'+'urce\x20is\x20em'+'pty.'),this),this['failed']=!(0xfd+0x17bc*0x1+-0x1*0x18b9);return;}}this['impl']=_0x39d62b['createShad'+'erImpl'](this),w['trace'](Im,'Alloc:\x20'+this['label']+',\x20stack:\x20'+Q['toString'](),{'instance':this});}['init'](){this['ready']=!(0x10a6+0x230f+-0x6*0x89e),this['failed']=!(-0x1*0x201d+0x1*-0xf27+0x2f45);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20('+(this['definition']['shaderLang'+'uage']===it?'WGSL':'GLSL')+')\x20'+this['name'];}['destroy'](){w['trace'](Im,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class WT{constructor(){h(this,'storage'),h(this,'gpuBuffer'),h(this,'offset');}}const Be=[];Be[Xs]=function(_0x2aa9f7,_0x15b982,_0xab4059){const _0x197786=_0x2aa9f7['storageFlo'+'at32'];_0x197786[_0xab4059]=_0x15b982;},Be[ga]=(_0xc3e439,_0x2a405f,_0x109d26)=>{const _0x3075ff=_0xc3e439['storageFlo'+'at32'];_0x3075ff[_0x109d26]=_0x2a405f[0x2688+0x58*-0x59+-0x7f0],_0x3075ff[_0x109d26+(-0x1fec+0x10f3+0x77d*0x2)]=_0x2a405f[0x1be9+-0x210a+0x522];},Be[ds]=(_0x33252,_0x26ea75,_0x49cf45)=>{const _0x5d49f5=_0x33252['storageFlo'+'at32'];_0x5d49f5[_0x49cf45]=_0x26ea75[-0xda*-0x13+-0x1*-0x1b9d+-0x2bcb],_0x5d49f5[_0x49cf45+(0x7de+0x9*0x7+-0x81c)]=_0x26ea75[0x127b+-0x22db*0x1+0x1061],_0x5d49f5[_0x49cf45+(-0x9d1+0x586+-0x44d*-0x1)]=_0x26ea75[-0xb3*0x1b+-0x1567+0x17e*0x1b];},Be[Rn]=(_0x35d97e,_0x49f173,_0x2f82c3)=>{const _0x4e05fa=_0x35d97e['storageFlo'+'at32'];_0x4e05fa[_0x2f82c3]=_0x49f173[0x14f5+0x26c8+-0x3bbd],_0x4e05fa[_0x2f82c3+(-0x3*0x253+0x33a+0x3c0)]=_0x49f173[-0x1020+-0x1e7b+0x2e9c],_0x4e05fa[_0x2f82c3+(0x82e+0x1*0x23b7+-0x8c7*0x5)]=_0x49f173[-0x48*-0x6+-0x1492+0x12e4],_0x4e05fa[_0x2f82c3+(-0x27*-0xfb+-0x1bab+-0x11*0x9f)]=_0x49f173[-0x1*-0x1b3b+-0x1a59*-0x1+-0x3591];},Be[_a]=function(_0x13568a,_0x5dc0be,_0x1c1497){const _0x3f4f98=_0x13568a['storageInt'+'32'];_0x3f4f98[_0x1c1497]=_0x5dc0be;},Be[ca]=function(_0x37fb81,_0x512065,_0x15922b){const _0x34e6ea=_0x37fb81['storageInt'+'32'];_0x34e6ea[_0x15922b]=_0x512065[0xf0f+-0x5db+-0x934*0x1],_0x34e6ea[_0x15922b+(-0x1abe+-0x6e2*0x2+0x2883)]=_0x512065[0x5e5+0xcba+-0x129e];},Be[ha]=function(_0x4b943d,_0x12e31e,_0x369f6c){const _0x50ed79=_0x4b943d['storageInt'+'32'];_0x50ed79[_0x369f6c]=_0x12e31e[-0x9de*0x3+0xf22+0x8*0x1cf],_0x50ed79[_0x369f6c+(0x15d5+-0x1bd2+0x5fe)]=_0x12e31e[-0x1017+0xe*-0x23c+0x2f60],_0x50ed79[_0x369f6c+(-0x1*-0x2659+-0x114d+-0x150a)]=_0x12e31e[-0x2*-0x116b+-0x955*0x2+-0x815*0x2];},Be[da]=function(_0xf72a3c,_0x50a473,_0x3cb0ff){const _0xf519a5=_0xf72a3c['storageInt'+'32'];_0xf519a5[_0x3cb0ff]=_0x50a473[-0x1a8e+-0x13eb+0x2e79*0x1],_0xf519a5[_0x3cb0ff+(0x62b*-0x1+0x13a*0xa+-0x618)]=_0x50a473[-0xb*-0x373+-0x62b*0x3+0x5*-0x3e3],_0xf519a5[_0x3cb0ff+(-0xb4e+0x248d+0x47*-0x5b)]=_0x50a473[-0x164c+-0x1650+0x2c9e],_0xf519a5[_0x3cb0ff+(-0x2b*0x49+0xb*-0x4d+0xf95)]=_0x50a473[0x2b1+0x18d1+-0x1*0x1b7f];},Be[_h]=(_0x2f1602,_0x3c8de7,_0x4bc7ca)=>{const _0x5284ab=_0x2f1602['storageFlo'+'at32'];_0x5284ab[_0x4bc7ca]=_0x3c8de7[0x9e*-0x8+0x41*0x23+0x1*-0x3f3],_0x5284ab[_0x4bc7ca+(-0xffe+0x25*-0x46+0x1a1d)]=_0x3c8de7[-0x18*-0x8b+-0xfee*0x1+0x2e7],_0x5284ab[_0x4bc7ca+(-0xb*0x9c+0x13*0x1ee+-0x1df2)]=_0x3c8de7[0x166e+-0x1a*-0x46+-0x438*0x7],_0x5284ab[_0x4bc7ca+(-0x1479*-0x1+0x2a6+-0x171a)]=_0x3c8de7[-0x221e+0xd9a+-0x1*-0x1487],_0x5284ab[_0x4bc7ca+(0x1*0x14b+-0x196d+0x182a)]=_0x3c8de7[0x24a7+0x2*-0x130+-0x2243],_0x5284ab[_0x4bc7ca+(-0xc5c+0x1f6e+-0x1309)]=_0x3c8de7[-0x146f*-0x1+0x7c3+0x1*-0x1c2d];},Be[On]=(_0x493094,_0x30a248,_0x5164a8)=>{const _0xa7c358=_0x493094['storageFlo'+'at32'];_0xa7c358[_0x5164a8]=_0x30a248[-0x67*0x13+0x1706+-0xf61],_0xa7c358[_0x5164a8+(0x9e9+-0x76*0x1d+0x376*0x1)]=_0x30a248[0x531*-0x5+-0x241d*-0x1+-0xa27],_0xa7c358[_0x5164a8+(0x1e92+0x2f*0x89+-0x347*0x11)]=_0x30a248[0xbf5*-0x1+0x250+0x9a7],_0xa7c358[_0x5164a8+(0x8c0*-0x3+-0x1*-0x66e+0x13d6)]=_0x30a248[0x2333*-0x1+0x2*-0xecb+-0xd*-0x4fc],_0xa7c358[_0x5164a8+(0xcaf+0x238c+-0x3036)]=_0x30a248[0x1f28+0x1e34+0x1eac*-0x2],_0xa7c358[_0x5164a8+(-0x18c7*0x1+0x24ee+-0xc21)]=_0x30a248[0x463*-0x1+0x2*0x14+-0x2*-0x220],_0xa7c358[_0x5164a8+(-0x1*-0x1183+-0x1bf7*0x1+0xa7c)]=_0x30a248[0x1d3*0xb+0x6*0x597+0x2b*-0x13f],_0xa7c358[_0x5164a8+(0xb8c+-0xd*0xc2+0x19*-0x11)]=_0x30a248[0x2a1*-0x2+0x101c*-0x1+0x1565*0x1],_0xa7c358[_0x5164a8+(0xc*-0x1ab+-0x9c4+0xee9*0x2)]=_0x30a248[0xeda*0x2+-0x1*-0x975+-0x2721];},Be[ud]=function(_0x49cfef,_0xd6619f,_0x16bfc0,_0x188037){const _0x13553e=_0x49cfef['storageFlo'+'at32'];for(let _0x2f57d4=0x844+-0x215d+0x505*0x5;_0x2f57d4<_0x188037;_0x2f57d4++)_0x13553e[_0x16bfc0+_0x2f57d4*(-0x2417*0x1+-0x145d*0x1+0x3878)]=_0xd6619f[_0x2f57d4];},Be[pd]=(_0x30c2d2,_0x1396ab,_0x28c707,_0x3238bf)=>{const _0x5a0201=_0x30c2d2['storageFlo'+'at32'];for(let _0x1bde9f=0x35e+-0x7ed+0x48f;_0x1bde9f<_0x3238bf;_0x1bde9f++)_0x5a0201[_0x28c707+_0x1bde9f*(-0x1*-0x18b+-0x6*0x5cb+0x213b)]=_0x1396ab[_0x1bde9f*(0x13cf+0x1baf+-0x6*0x7ea)],_0x5a0201[_0x28c707+_0x1bde9f*(0x1*0x21e+0x975+-0xb8f)+(-0xf06+0x1d42+-0x1*0xe3b)]=_0x1396ab[_0x1bde9f*(-0x1*-0x1322+-0x11c5+-0x15b*0x1)+(0x1f69+-0x38*0x78+-0x4*0x14a)];},Be[md]=(_0x10b85f,_0x25ce6b,_0x220535,_0x47372e)=>{const _0xe8d719=_0x10b85f['storageFlo'+'at32'];for(let _0x60906b=-0x4a3+0xd25+0x42*-0x21;_0x60906b<_0x47372e;_0x60906b++)_0xe8d719[_0x220535+_0x60906b*(0x61*-0x65+-0x6f+0x26b8)]=_0x25ce6b[_0x60906b*(0x4*0x48a+-0xf5a+-0x2cb)],_0xe8d719[_0x220535+_0x60906b*(-0x238a+-0x24c4+-0x2429*-0x2)+(-0x15d1+0x8*-0x2f1+0x2d5a)]=_0x25ce6b[_0x60906b*(0x2*-0x8fe+0x198c+-0x1*0x78d)+(-0x17a6+-0x24ab+-0x3c52*-0x1)],_0xe8d719[_0x220535+_0x60906b*(0xc6e*-0x1+0xf7b+-0x309*0x1)+(0xe4f+-0x395+0x62*-0x1c)]=_0x25ce6b[_0x60906b*(-0xa21*-0x2+-0xd2b*-0x1+0x2*-0x10b5)+(0x850+-0x1481+0x9*0x15b)];},Be[Fn]=(_0x2ecfc9,_0x4ddc75,_0x271786,_0x13dc7a)=>{const _0x22a64b=_0x2ecfc9['storageUin'+'t32'];_0x22a64b[_0x271786]=_0x4ddc75;},Be[Nn]=(_0x468865,_0xd00b06,_0x2160a4,_0x8e62f1)=>{const _0x3bcfab=_0x468865['storageUin'+'t32'];_0x3bcfab[_0x2160a4]=_0xd00b06[-0x3cd*-0x8+0x702+-0x256a*0x1],_0x3bcfab[_0x2160a4+(-0x1a80+-0x968+0x13d*0x1d)]=_0xd00b06[0x2*-0x74c+0x1*-0x6b6+0x443*0x5];},Be[kn]=(_0x544694,_0x4b299f,_0x42761f,_0x395e2f)=>{const _0x17f80=_0x544694['storageUin'+'t32'];_0x17f80[_0x42761f]=_0x4b299f[0x91d*0x1+0x6b9+-0x2*0x7eb],_0x17f80[_0x42761f+(-0x1135+0x105*0x13+-0x229)]=_0x4b299f[-0xc0d+0x9ae+-0x1*-0x260],_0x17f80[_0x42761f+(0x1093+0x1a*0x137+-0x3027*0x1)]=_0x4b299f[0x5b1+-0x512*0x2+0x475];},Be[Un]=(_0x3f7f84,_0x2704d1,_0x367f5b,_0x54ebac)=>{const _0x4442ba=_0x3f7f84['storageUin'+'t32'];_0x4442ba[_0x367f5b]=_0x2704d1[0x1d3*0x1+0x352*-0x5+0x27*0x61],_0x4442ba[_0x367f5b+(0xe3+0x7ee+-0x8d0)]=_0x2704d1[-0x1827+-0xe1d+0x2645],_0x4442ba[_0x367f5b+(0x1*-0x2103+0xa*0x391+-0x2a5)]=_0x2704d1[-0x1f16+-0x114f+0x3067],_0x4442ba[_0x367f5b+(0x1ad*0xb+-0x57*-0x6b+0x1*-0x36c9)]=_0x2704d1[0xb1*0x34+0x1833+-0x3c24];},Be[Bn]=function(_0x5db1bb,_0xa1b932,_0x4358c7,_0x497d84){const _0x4cbc7f=_0x5db1bb['storageInt'+'32'];for(let _0x105850=-0x1b2e+-0x1334*0x1+0x2e62*0x1;_0x105850<_0x497d84;_0x105850++)_0x4cbc7f[_0x4358c7+_0x105850*(0x70*-0x59+0x1c97+0xa5d)]=_0xa1b932[_0x105850];},Be[gd]=Be[Bn],Be[_d]=function(_0x4c6eae,_0x46ee8f,_0x1efc47,_0x1724dd){const _0x5ba7b9=_0x4c6eae['storageUin'+'t32'];for(let _0x5adffe=0x137*0xf+0x20*0xed+-0x1*0x2fd9;_0x5adffe<_0x1724dd;_0x5adffe++)_0x5ba7b9[_0x1efc47+_0x5adffe*(0xe49+0x1*-0x125b+0x416)]=_0x46ee8f[_0x5adffe];},Be[zn]=(_0x58ed05,_0x5c88ac,_0x1cbdf9,_0x1cf746)=>{const _0x46da8a=_0x58ed05['storageInt'+'32'];for(let _0x3a3ff0=-0xe1*-0x21+0x8f*-0x2d+-0x3de;_0x3a3ff0<_0x1cf746;_0x3a3ff0++)_0x46da8a[_0x1cbdf9+_0x3a3ff0*(0x1*0x2673+0x23ef+-0x4a5e)]=_0x5c88ac[_0x3a3ff0*(0xac1*-0x1+-0x1cf2+0x27b5)],_0x46da8a[_0x1cbdf9+_0x3a3ff0*(-0x18*0x17b+-0x7d0*0x5+-0x12a7*-0x4)+(0x6*0x58a+0xde0+-0x2f1b)]=_0x5c88ac[_0x3a3ff0*(-0x27e*-0xc+0x1af5*-0x1+-0x2f1)+(-0x139f+0x2c2*-0x1+0x1662)];},Be[yd]=Be[zn],Be[Sd]=(_0x1a917e,_0x584024,_0x23e473,_0x1df090)=>{const _0x2fb2e3=_0x1a917e['storageUin'+'t32'];for(let _0xadfbe8=0x1*-0x1e0d+0xa*0x34b+0x1*-0x2e1;_0xadfbe8<_0x1df090;_0xadfbe8++)_0x2fb2e3[_0x23e473+_0xadfbe8*(0xf0e+-0x155e+0x2d*0x24)]=_0x584024[_0xadfbe8*(0x3*-0x823+0x31*0x31+0xf0a)],_0x2fb2e3[_0x23e473+_0xadfbe8*(0x547*-0x4+0x6*-0x60c+0xe5a*0x4)+(0xa27+-0x26c3*-0x1+-0x30e9)]=_0x584024[_0xadfbe8*(0x17*-0xa4+-0x7*-0x3bb+-0x47*0x29)+(0x233*-0x5+0x10b*-0x7+0x124d)];},Be[Vn]=(_0x38c123,_0x2449a8,_0x26c165,_0x534430)=>{const _0x22cc03=_0x38c123['storageInt'+'32'];for(let _0x567346=-0x3*0x454+-0x4dc*0x8+0x33dc;_0x567346<_0x534430;_0x567346++)_0x22cc03[_0x26c165+_0x567346*(0x16f0+-0x177a+0x47*0x2)]=_0x2449a8[_0x567346*(0x1d59+0x1*-0x1c87+-0xcf)],_0x22cc03[_0x26c165+_0x567346*(-0x2e*0xd1+-0xe04*-0x2+0x98a)+(0x205+0x1870*0x1+-0x1a74)]=_0x2449a8[_0x567346*(-0x8*-0x49a+0x14ad+-0x397a)+(-0x59f*-0x1+0x1783*0x1+0x1*-0x1d21)],_0x22cc03[_0x26c165+_0x567346*(0x2c7*0x5+-0x2*0xfbf+0x119f)+(-0x1d*0x25+0x2f*0x65+0x11*-0xd8)]=_0x2449a8[_0x567346*(-0x13bb*0x1+0x10ee+0x2d0)+(-0x404+-0x26*0x19+0x7bc)];},Be[xd]=Be[Vn],Be[vd]=(_0x593720,_0x4bd406,_0x34e844,_0x1786a0)=>{const _0x4eac57=_0x593720['storageUin'+'t32'];for(let _0x12f37a=0x1*-0x1583+-0x36+0x15b9;_0x12f37a<_0x1786a0;_0x12f37a++)_0x4eac57[_0x34e844+_0x12f37a*(-0x1e*0x141+0x1566+0x103c)]=_0x4bd406[_0x12f37a*(0x16*-0x1a6+-0xe7b*0x1+0x32c2)],_0x4eac57[_0x34e844+_0x12f37a*(-0x11ff*0x2+-0x1*0xf65+0x3367)+(-0x4*-0x360+0x2*-0xc34+0xae9)]=_0x4bd406[_0x12f37a*(0x2621+0x6*0x444+-0x1*0x3fb6)+(-0x1dce+0x26b4+-0x8e5)],_0x4eac57[_0x34e844+_0x12f37a*(0x567+0x71f*0x4+0x1d*-0x12b)+(0x1fcc+0x187a+-0x3844)]=_0x4bd406[_0x12f37a*(-0x59*0x2c+0x1f58+-0x5*0x335)+(0x45*-0x47+0x6*-0x5c6+0x35c9)];};class zp{constructor(_0xc3e66e,_0x25ba77,_0x3ca453=!(-0x1*0x137+-0x44a*-0x7+-0x7d*0x3b)){h(this,'device'),h(this,'persistent'),h(this,'allocation'),h(this,'storageFlo'+'at32'),h(this,'storageInt'+'32'),h(this,'storageUin'+'t32'),h(this,'renderVers'+'ionDirty',-0x64+0x5bb+-0x557);if(this['device']=_0xc3e66e,this['format']=_0x25ba77,this['persistent']=_0x3ca453,w['assert'](_0x25ba77),_0x3ca453){this['impl']=_0xc3e66e['createUnif'+'ormBufferI'+'mpl'](this);const _0x2c71cb=new ArrayBuffer(_0x25ba77['byteSize']);this['assignStor'+'age'](new Int32Array(_0x2c71cb)),_0xc3e66e['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new WT();}['destroy'](){if(this['persistent']){const _0x1f4280=this['device'];this['impl']['destroy'](_0x1f4280),_0x1f4280['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?-0xc7*-0x1d+-0x1ef7*0x1+-0x4d*-0x1c:this['allocation']['offset'];}['assignStor'+'age'](_0x39eb7f){this['storageInt'+'32']=_0x39eb7f,this['storageUin'+'t32']=new Uint32Array(_0x39eb7f['buffer'],_0x39eb7f['byteOffset'],_0x39eb7f['byteLength']/(0x582+0x1d0c+-0x2*0x1145)),this['storageFlo'+'at32']=new Float32Array(_0x39eb7f['buffer'],_0x39eb7f['byteOffset'],_0x39eb7f['byteLength']/(0x1010+0x13a9+-0x23b5));}['loseContex'+'t'](){var _0x263f68;(_0x263f68=this['impl'])==null||_0x263f68['loseContex'+'t']();}['setUniform'](_0x386675,_0x40c4d0){w['assert'](_0x386675);const _0x104e5b=_0x386675['offset'];if(_0x40c4d0!=null){const _0x59a5ce=Be[_0x386675['updateType']];_0x59a5ce?_0x59a5ce(this,_0x40c4d0,_0x104e5b,_0x386675['count']):this['storageFlo'+'at32']['set'](_0x40c4d0,_0x104e5b);}else w['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0x386675['name']+('],\x20expecte'+'d\x20type\x20')+Ey[_0x386675['type']]+('\x20while\x20ren'+'dering\x20')+Q['toString']());}['set'](_0x2506de,_0x592f0b){const _0xd6c3bf=this['format']['map']['get'](_0x2506de);w['assert'](_0xd6c3bf,'Uniform\x20na'+'me\x20['+_0x2506de+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0xd6c3bf&&this['setUniform'](_0xd6c3bf,_0x592f0b);}['startUpdat'+'e'](_0x209d5f){if(!this['persistent']){const _0x162ad9=this['allocation'],_0x345342=_0x162ad9['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x162ad9,this['format']['byteSize']),this['assignStor'+'age'](_0x162ad9['storage']),_0x209d5f&&(_0x209d5f['bindGroup']=_0x162ad9['gpuBuffer']['getBindGro'+'up'](this),_0x209d5f['offsets'][0x1adf+-0x2347+0x868*0x1]=_0x162ad9['offset']),_0x345342!==_0x162ad9['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x23e164){this['startUpdat'+'e'](_0x23e164);const _0x368c8c=this['format']['uniforms'];for(let _0x5da0dc=-0x107b+-0xa*0x371+0x12f*0x2b;_0x5da0dc<_0x368c8c['length'];_0x5da0dc++){const _0xee25f=_0x368c8c[_0x5da0dc]['scopeId']['value'];this['setUniform'](_0x368c8c[_0x5da0dc],_0xee25f);}this['endUpdate']();}}class $T{constructor(){h(this,'frameAlloc'+'ations',[]),h(this,'pastFrameA'+'llocations',new Map()),h(this,'_enabled',!(-0x1ad4*0x1+0xa79*0x2+0xb*0x89)),h(this,'_enableReq'+'uest',!(-0x982*-0x1+-0x1e36+0x14b5)),h(this,'_frameTime',0xbf3+-0x3*-0x9e3+-0xa67*0x4);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x57d4f6){this['_enableReq'+'uest']=_0x57d4f6;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=-0x1001*0x2+0x124a+0x4*0x36e));}['request'](_0x21895a){this['pastFrameA'+'llocations']['set'](_0x21895a,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x46ac9f,_0x12345f){if(_0x12345f){const _0x122342=this['pastFrameA'+'llocations']['get'](_0x46ac9f);if(w['assert'](_0x122342['length']===_0x12345f['length']),_0x12345f['length']>0x1af9+0x262+0x3*-0x9c9&&(this['_frameTime']=_0x12345f['reduce']((_0x1d9b28,_0x55c323)=>_0x1d9b28+_0x55c323,-0x2*0xea0+-0x897+-0xc9d*-0x3)),mi['get'](Gl)){w['trace'](Gl,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x46ac9f+'\x20--');let _0x383519=-0x1*0x1229+0x1b8d*0x1+-0x4*0x259;for(let _0xd6a504=0x3*-0x13c+0x4*-0x52c+0x619*0x4;_0xd6a504<_0x122342['length'];++_0xd6a504){const _0x198a2a=_0x122342[_0xd6a504];_0x383519+=_0x12345f[_0xd6a504],w['trace'](Gl,_0x12345f[_0xd6a504]['toFixed'](0x1eb1+0x566+-0x2415)+'\x20ms\x20'+_0x198a2a);}w['trace'](Gl,_0x383519['toFixed'](-0xb5c+-0x579+0x10d7)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x46ac9f);}['getSlot'](_0x3e4788){const _0x37c689=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x3e4788),_0x37c689;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class jy{constructor(){h(this,'bufferId',null);}['destroy'](_0x5c1f54){this['bufferId']&&(_0x5c1f54['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x477047,_0x1b8ab6,_0x4494c5,_0xa742b2){const _0x4adfbd=_0x477047['gl'];if(this['bufferId'])_0x4adfbd['bindBuffer'](_0x4494c5,this['bufferId']),_0x4adfbd['bufferSubD'+'ata'](_0x4494c5,0xa13+0xc86*-0x3+0x1b7f,_0xa742b2);else{let _0x277673;switch(_0x1b8ab6){case ms:_0x277673=_0x4adfbd['STATIC_DRA'+'W'];break;case lh:_0x277673=_0x4adfbd['DYNAMIC_DR'+'AW'];break;case ey:_0x277673=_0x4adfbd['STREAM_DRA'+'W'];break;case bx:_0x277673=_0x4adfbd['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x4adfbd['createBuff'+'er'](),_0x4adfbd['bindBuffer'](_0x4494c5,this['bufferId']),_0x4adfbd['bufferData'](_0x4494c5,_0xa742b2,_0x277673);}}}class XT extends jy{constructor(){super(...arguments),h(this,'vao',null);}['destroy'](_0x14ea26){super['destroy'](_0x14ea26),_0x14ea26['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x293184){const _0x3382ad=_0x293184['device'];super['unlock'](_0x3382ad,_0x293184['usage'],_0x3382ad['gl']['ARRAY_BUFF'+'ER'],_0x293184['storage']);}}class qT extends jy{constructor(_0x175cf8){super();const _0x377635=_0x175cf8['device']['gl'],_0x4d7b92=_0x175cf8['format'];_0x4d7b92===$f?this['glFormat']=_0x377635['UNSIGNED_B'+'YTE']:_0x4d7b92===Yi?this['glFormat']=_0x377635['UNSIGNED_S'+'HORT']:_0x4d7b92===wr&&(this['glFormat']=_0x377635['UNSIGNED_I'+'NT']);}['unlock'](_0x5e2093){const _0x5d4a6a=_0x5e2093['device'];super['unlock'](_0x5d4a6a,_0x5e2093['usage'],_0x5d4a6a['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x5e2093['storage']);}}class jT{constructor(_0x166b74,_0x5cda56,_0x431a57,_0x17b322){if(this['locationId']=_0x17b322,this['scopeId']=_0x166b74['scope']['resolve'](_0x5cda56),this['version']=new Uy(),_0x5cda56['substring'](_0x5cda56['length']-(0xb*-0x22d+-0x9e*-0x37+-0xa00))==='[0]')switch(_0x431a57){case Xs:_0x431a57=ud;break;case _a:_0x431a57=Bn;break;case Fn:_0x431a57=_d;break;case Tn:_0x431a57=gd;break;case ga:_0x431a57=pd;break;case ca:_0x431a57=zn;break;case Nn:_0x431a57=Sd;break;case tl:_0x431a57=yd;break;case ds:_0x431a57=md;break;case ha:_0x431a57=Vn;break;case kn:_0x431a57=vd;break;case sl:_0x431a57=xd;break;case Rn:_0x431a57=Lp;break;case da:_0x431a57=gh;break;case Un:_0x431a57=Rp;break;case il:_0x431a57=Op;break;}this['dataType']=_0x431a57,this['value']=[null,null,null,null],this['array']=[];}}let l_=-0xd34+-0x24f0+0x3224*0x1;const YT=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class KT{constructor(){h(this,'map',new Map());}['destroy'](_0x19eeb8){this['map']['forEach'](_0x31426d=>{_0x19eeb8['gl']['deleteShad'+'er'](_0x31426d);});}['loseContex'+'t'](_0x5ce6c2){this['map']['clear']();}}const ZT=new Kt(),QT=new Kt();class JT{constructor(_0x5eede4){h(this,'compileDur'+'ation',0x89b*-0x3+0x21a2+0x3*-0x29b),(this['init'](),this['compile'](_0x5eede4['device'],_0x5eede4),this['link'](_0x5eede4['device'],_0x5eede4),_0x5eede4['device']['shaders']['push'](_0x5eede4));}['destroy'](_0x30cb47){this['glProgram']&&(_0x30cb47['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x29df0f,_0x7d4f37){this['compile'](_0x29df0f,_0x7d4f37),this['link'](_0x29df0f,_0x7d4f37);}['compile'](_0xde996,_0x12fd2f){const _0x33cdeb=_0x12fd2f['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0xde996,_0x33cdeb['vshader'],!(-0x5*0xb+-0x28*0xb9+0x1d1f)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0xde996,_0x33cdeb['fshader'],!(-0x21ee+-0x3a1*-0x6+0x1*0xc29));}['link'](_0xa327dd,_0x2fba59){if(this['glProgram'])return;const _0x5969f7=_0xa327dd['gl'];if(_0x5969f7['isContextL'+'ost']())return;let _0x184ef1=0x2*0x535+0xfcb*0x1+-0x1a35*0x1;w['call'](()=>{this['compileDur'+'ation']=-0x194*-0x3+0xe9b*-0x1+-0x9df*-0x1,_0x184ef1=de();});const _0x58bca1=_0x5969f7['createProg'+'ram']();this['glProgram']=_0x58bca1,_0x5969f7['attachShad'+'er'](_0x58bca1,this['glVertexSh'+'ader']),_0x5969f7['attachShad'+'er'](_0x58bca1,this['glFragment'+'Shader']);const _0x451fd5=_0x2fba59['definition'],_0x19a5e6=_0x451fd5['attributes'];if(_0x451fd5['useTransfo'+'rmFeedback']){const _0x47dd5e=[];for(const _0x27947a in _0x19a5e6)_0x19a5e6['hasOwnProp'+'erty'](_0x27947a)&&_0x47dd5e['push']('out_'+_0x27947a);_0x5969f7['transformF'+'eedbackVar'+'yings'](_0x58bca1,_0x47dd5e,_0x5969f7['INTERLEAVE'+'D_ATTRIBS']);}const _0x531124={};for(const _0x2d2950 in _0x19a5e6)if(_0x19a5e6['hasOwnProp'+'erty'](_0x2d2950)){const _0x405cbb=_0x19a5e6[_0x2d2950],_0x2a4f08=Le[_0x405cbb];w['assert'](!_0x531124['hasOwnProp'+'erty'](_0x2a4f08),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0x531124[_0x2a4f08]+'\x20and\x20'+_0x2d2950),_0x531124[_0x2a4f08]=_0x2d2950,_0x5969f7['bindAttrib'+'Location'](_0x58bca1,_0x2a4f08,_0x2d2950);}_0x5969f7['linkProgra'+'m'](_0x58bca1),w['call'](()=>{this['compileDur'+'ation']=de()-_0x184ef1;}),_0xa327dd['_shaderSta'+'ts']['linked']++,_0x451fd5['tag']===Sy&&_0xa327dd['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x308d69,_0x3c0ef6,_0x60385e){const _0x38a6c1=_0x308d69['gl'];if(_0x38a6c1['isContextL'+'ost']())return null;const _0x2d0542=(_0x60385e?ZT:QT)['get'](_0x308d69,()=>new KT());let _0x48d9cb=_0x2d0542['map']['get'](_0x3c0ef6);if(!_0x48d9cb){const _0x200e41=de();_0x308d69['fire']('shader:com'+'pile:start',{'timestamp':_0x200e41,'target':_0x308d69}),_0x48d9cb=_0x38a6c1['createShad'+'er'](_0x60385e?_0x38a6c1['VERTEX_SHA'+'DER']:_0x38a6c1['FRAGMENT_S'+'HADER']),_0x38a6c1['shaderSour'+'ce'](_0x48d9cb,_0x3c0ef6),_0x38a6c1['compileSha'+'der'](_0x48d9cb),_0x2d0542['map']['set'](_0x3c0ef6,_0x48d9cb);const _0x21e9d9=de();_0x308d69['fire']('shader:com'+'pile:end',{'timestamp':_0x21e9d9,'target':_0x308d69}),_0x308d69['_shaderSta'+'ts']['compileTim'+'e']+=_0x21e9d9-_0x200e41,_0x60385e?_0x308d69['_shaderSta'+'ts']['vsCompiled']++:_0x308d69['_shaderSta'+'ts']['fsCompiled']++;}return _0x48d9cb;}['finalize'](_0x154399,_0x2e6881){var _0x501898,_0x2b73cf;const _0x1bb1f5=_0x154399['gl'];if(_0x1bb1f5['isContextL'+'ost']())return!(-0xa39*-0x2+-0x7ae*-0x1+0x258*-0xc);const _0x35648a=this['glProgram'],_0x10fcb9=_0x2e6881['definition'],_0x23818f=de();_0x154399['fire']('shader:lin'+'k:start',{'timestamp':_0x23818f,'target':_0x154399});let _0x1d6d84=0x80f*-0x4+0x11ea+-0x1*-0xe52;if(w['call'](()=>{_0x1d6d84=de();}),!_0x1bb1f5['getProgram'+'Parameter'](_0x35648a,_0x1bb1f5['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x154399,_0x2e6881,this['glVertexSh'+'ader'],_0x10fcb9['vshader'],'vertex')||!this['_isCompile'+'d'](_0x154399,_0x2e6881,this['glFragment'+'Shader'],_0x10fcb9['fshader'],'fragment'))return!(-0x723+0x5ae*0x1+0x22*0xb);const _0x1402ef='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0x1bb1f5['getProgram'+'InfoLog'](_0x35648a);return _0x10fcb9['translated'+'Frag']=(_0x501898=_0x1bb1f5['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0x3b+-0x3*0x853+-0xc9a*-0x2):_0x501898['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x10fcb9['translated'+'Vert']=(_0x2b73cf=_0x1bb1f5['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0x1e*0x59+-0x4c1*0x3+0x147*0x3):_0x2b73cf['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x1402ef,_0x10fcb9),console['error'](_0x1402ef),!(0xb8f+0x3*0xcfd+-0x3285);}const _0x3b7c94=_0x1bb1f5['getProgram'+'Parameter'](_0x35648a,_0x1bb1f5['ACTIVE_ATT'+'RIBUTES']);_0x2e6881['attributes']['clear']();for(let _0x1aff42=0x1eff+-0x1acf*-0x1+-0x39ce;_0x1aff42<_0x3b7c94;_0x1aff42++){const _0x439700=_0x1bb1f5['getActiveA'+'ttrib'](_0x35648a,_0x1aff42),_0x78ce24=_0x1bb1f5['getAttribL'+'ocation'](_0x35648a,_0x439700['name']);YT['has'](_0x439700['name'])||(_0x10fcb9['attributes'][_0x439700['name']]===void(0x46c*0x1+-0x80+-0x3ec)?(console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0x439700['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0x2e6881['label']+']',_0x2e6881),_0x2e6881['failed']=!(-0x1*0x18ed+0x14e0+0x40d)):_0x2e6881['attributes']['set'](_0x78ce24,_0x439700['name']));}const _0x2bf83c=_0x154399['_samplerTy'+'pes'],_0x1623a6=_0x1bb1f5['getProgram'+'Parameter'](_0x35648a,_0x1bb1f5['ACTIVE_UNI'+'FORMS']);for(let _0x1e95ed=-0x2367+0x1f52+0x415;_0x1e95ed<_0x1623a6;_0x1e95ed++){const _0x1a642f=_0x1bb1f5['getActiveU'+'niform'](_0x35648a,_0x1e95ed),_0x3a2ee4=_0x1bb1f5['getUniform'+'Location'](_0x35648a,_0x1a642f['name']),_0x12976c=new jT(_0x154399,_0x1a642f['name'],_0x154399['pcUniformT'+'ype'][_0x1a642f['type']],_0x3a2ee4);_0x2bf83c['has'](_0x1a642f['type'])?this['samplers']['push'](_0x12976c):this['uniforms']['push'](_0x12976c);}_0x2e6881['ready']=!(0x6f*-0x43+0xead+0xe60);const _0x546e90=de();return _0x154399['fire']('shader:lin'+'k:end',{'timestamp':_0x546e90,'target':_0x154399}),_0x154399['_shaderSta'+'ts']['compileTim'+'e']+=_0x546e90-_0x23818f,w['call'](()=>{const _0x3871b4=de()-_0x1d6d84;this['compileDur'+'ation']+=_0x3871b4,l_+=this['compileDur'+'ation'],w['trace']($0,'[id:\x20'+_0x2e6881['id']+']\x20'+_0x2e6881['name']+':\x20'+this['compileDur'+'ation']['toFixed'](-0x6*0x191+-0x2365+0x2ccc)+('ms,\x20TOTAL:'+'\x20')+l_['toFixed'](-0x5*0x431+-0x1a3a+0x2f30)+'ms');}),!(-0x2638+-0x11*0x3b+0x2a23);}['_isCompile'+'d'](_0x22c8fa,_0x23b4cc,_0x225cee,_0x340a0b,_0x76ccbf){const _0x40fb88=_0x22c8fa['gl'];if(!_0x40fb88['getShaderP'+'arameter'](_0x225cee,_0x40fb88['COMPILE_ST'+'ATUS'])){const _0x56bd24=_0x40fb88['getShaderI'+'nfoLog'](_0x225cee),[_0x4bacd9,_0xf2dfca]=this['_processEr'+'ror'](_0x340a0b,_0x56bd24),_0x499203='Failed\x20to\x20'+'compile\x20'+_0x76ccbf+'\x20shader:\x0a\x0a'+_0x56bd24+'\x0a'+_0x4bacd9+('\x20while\x20ren'+'dering\x20')+Q['toString']();return _0xf2dfca['shader']=_0x23b4cc,console['error'](_0x499203,_0xf2dfca),console['error'](_0x499203),!(-0x1870+-0x1886+-0x17*-0x221);}return!(-0x3ce+0x246*0x5+-0x790);}['isLinked'](_0x3563a1){const {extParallelShaderCompile:_0x1e1ce9}=_0x3563a1;return _0x1e1ce9?_0x3563a1['gl']['getProgram'+'Parameter'](this['glProgram'],_0x1e1ce9['COMPLETION'+'_STATUS_KH'+'R']):!(0x9*0x41b+0x3b5+0x4*-0xa2a);}['_processEr'+'ror'](_0x3b0f54,_0x27fe8f){const _0x32dfcf={};let _0x350211='';if(_0x3b0f54){const _0x46a579=_0x3b0f54['split']('\x0a');let _0x549ee5=0x2415+0x2359*-0x1+-0xbc,_0x5596a2=_0x46a579['length'];if(_0x27fe8f&&_0x27fe8f['startsWith']('ERROR:')){const _0x5296c9=_0x27fe8f['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0x5296c9&&(_0x32dfcf['message']=_0x5296c9[-0x630+-0xc5+0x4*0x1be],_0x32dfcf['line']=parseInt(_0x5296c9[-0xcd1*-0x1+0x1781+-0x2450],0x2*-0x80f+0x1*0x227b+-0x1*0x1253),_0x549ee5=Math['max'](0x693+-0x1496+0x1*0xe03,_0x32dfcf['line']-(-0x1805+-0xbeb+0x23f6)),_0x5596a2=Math['min'](_0x46a579['length'],_0x32dfcf['line']+(-0x92*-0x31+-0x1f*-0x1d+-0x2*0xfb8)));}for(let _0x126087=_0x549ee5;_0x126087<_0x5596a2;_0x126087++){const _0x99bae5=_0x126087+(0x265b+-0x22b1+-0x3a9)===_0x32dfcf['line']?'>\x20':'\x20\x20';_0x350211+=''+_0x99bae5+(_0x126087+(-0x22e7+-0x243f*-0x1+0x31*-0x7))+':\x09'+_0x46a579[_0x126087]+'\x0a';}_0x32dfcf['source']=_0x3b0f54;}return[_0x350211,_0x32dfcf];}}function c_(_0x5f1eb5,_0x4add79){const _0x16cb1d=_0x5f1eb5['width'],_0x260fb2=_0x5f1eb5['height'];if(_0x16cb1d>_0x4add79||_0x260fb2>_0x4add79){const _0x3a1540=_0x4add79/Math['max'](_0x16cb1d,_0x260fb2),_0x99ca03=Math['floor'](_0x16cb1d*_0x3a1540),_0x8f8565=Math['floor'](_0x260fb2*_0x3a1540);w['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x4add79+('.\x20Resizing'+'\x20from\x20')+_0x16cb1d+',\x20'+_0x260fb2+'\x20to\x20'+_0x99ca03+',\x20'+_0x8f8565+'.');const _0xd9e701=document['createElem'+'ent']('canvas');return _0xd9e701['width']=_0x99ca03,_0xd9e701['height']=_0x8f8565,_0xd9e701['getContext']('2d')['drawImage'](_0x5f1eb5,0x2a0+0xc95*0x1+-0xf35,-0x19f*-0x3+-0xa81+0x169*0x4,_0x16cb1d,_0x260fb2,-0x489*-0x1+-0x17e7*0x1+0x135e,-0x2025+0x3*0xcf+0x2*0xedc,_0x99ca03,_0x8f8565),_0xd9e701;}return _0x5f1eb5;}class ew{constructor(_0x508379){h(this,'_glTexture',null),h(this,'_glTarget'),h(this,'_glFormat'),h(this,'_glInterna'+'lFormat'),h(this,'_glPixelTy'+'pe'),h(this,'_glCreated'),h(this,'dirtyParam'+'eterFlags',-0x6f7+-0x2567+0x2c5e),this['texture']=_0x508379;}['destroy'](_0x1cc585){if(this['_glTexture']){for(let _0x143101=0x1195+0xeab+-0x2040;_0x143101<_0x1cc585['textureUni'+'ts']['length'];_0x143101++){const _0x57c64c=_0x1cc585['textureUni'+'ts'][_0x143101];for(let _0x409656=-0x133f*0x1+0x94*-0x35+0x3*0x10a1;_0x409656<_0x57c64c['length'];_0x409656++)_0x57c64c[_0x409656]===this['_glTexture']&&(_0x57c64c[_0x409656]=null);}_0x1cc585['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x1d5285){this['dirtyParam'+'eterFlags']|=_0x1d5285;}['initialize'](_0x3ecbcc,_0x6b301d){const _0x5a5510=_0x3ecbcc['gl'];switch(this['_glTexture']=_0x5a5510['createText'+'ure'](),this['_glTarget']=_0x6b301d['_cubemap']?_0x5a5510['TEXTURE_CU'+'BE_MAP']:_0x6b301d['_volume']?_0x5a5510['TEXTURE_3D']:_0x6b301d['array']?_0x5a5510['TEXTURE_2D'+'_ARRAY']:_0x5a5510['TEXTURE_2D'],_0x6b301d['_format']){case ty:this['_glFormat']=_0x5a5510['ALPHA'],this['_glInterna'+'lFormat']=_0x5a5510['ALPHA'],this['_glPixelTy'+'pe']=_0x5a5510['UNSIGNED_B'+'YTE'];break;case sy:this['_glFormat']=_0x5a5510['LUMINANCE'],this['_glInterna'+'lFormat']=_0x5a5510['LUMINANCE'],this['_glPixelTy'+'pe']=_0x5a5510['UNSIGNED_B'+'YTE'];break;case ap:this['_glFormat']=_0x5a5510['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x5a5510['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x5a5510['UNSIGNED_B'+'YTE'];break;case Ep:this['_glFormat']=_0x5a5510['RED'],this['_glInterna'+'lFormat']=_0x5a5510['R8'],this['_glPixelTy'+'pe']=_0x5a5510['UNSIGNED_B'+'YTE'];break;case bp:this['_glFormat']=_0x5a5510['RG'],this['_glInterna'+'lFormat']=_0x5a5510['RG8'],this['_glPixelTy'+'pe']=_0x5a5510['UNSIGNED_B'+'YTE'];break;case Jh:this['_glFormat']=_0x5a5510['RGB'],this['_glInterna'+'lFormat']=_0x5a5510['RGB565'],this['_glPixelTy'+'pe']=_0x5a5510['UNSIGNED_S'+'HORT_5_6_5'];break;case np:this['_glFormat']=_0x5a5510['RGBA'],this['_glInterna'+'lFormat']=_0x5a5510['RGB5_A1'],this['_glPixelTy'+'pe']=_0x5a5510['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case ed:this['_glFormat']=_0x5a5510['RGBA'],this['_glInterna'+'lFormat']=_0x5a5510['RGBA4'],this['_glPixelTy'+'pe']=_0x5a5510['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case Cr:this['_glFormat']=_0x5a5510['RGB'],this['_glInterna'+'lFormat']=_0x5a5510['RGB8'],this['_glPixelTy'+'pe']=_0x5a5510['UNSIGNED_B'+'YTE'];break;case Ne:this['_glFormat']=_0x5a5510['RGBA'],this['_glInterna'+'lFormat']=_0x5a5510['RGBA8'],this['_glPixelTy'+'pe']=_0x5a5510['UNSIGNED_B'+'YTE'];break;case ny:case hy:w['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case td:this['_glFormat']=_0x5a5510['RGB'],this['_glInterna'+'lFormat']=_0x3ecbcc['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case op:this['_glFormat']=_0x5a5510['RGBA'],this['_glInterna'+'lFormat']=_0x3ecbcc['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case vl:this['_glFormat']=_0x5a5510['RGBA'],this['_glInterna'+'lFormat']=_0x3ecbcc['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case id:this['_glFormat']=_0x5a5510['RGB'],this['_glInterna'+'lFormat']=_0x3ecbcc['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case xl:this['_glFormat']=_0x5a5510['RGB'],this['_glInterna'+'lFormat']=_0x3ecbcc['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Tl:this['_glFormat']=_0x5a5510['RGBA'],this['_glInterna'+'lFormat']=_0x3ecbcc['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case rd:this['_glFormat']=_0x5a5510['RGB'],this['_glInterna'+'lFormat']=_0x3ecbcc['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case ad:this['_glFormat']=_0x5a5510['RGBA'],this['_glInterna'+'lFormat']=_0x3ecbcc['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case cp:this['_glFormat']=_0x5a5510['RGB'],this['_glInterna'+'lFormat']=_0x3ecbcc['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case hp:this['_glFormat']=_0x5a5510['RGBA'],this['_glInterna'+'lFormat']=_0x3ecbcc['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case iy:this['_glFormat']=_0x5a5510['RGBA'],this['_glInterna'+'lFormat']=_0x3ecbcc['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case ry:this['_glFormat']=_0x5a5510['RGB'],this['_glInterna'+'lFormat']=_0x3ecbcc['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case ay:this['_glFormat']=_0x5a5510['RGBA'],this['_glInterna'+'lFormat']=_0x3ecbcc['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case dy:this['_glFormat']=_0x5a5510['RGB'],this['_glInterna'+'lFormat']=_0x3ecbcc['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case fy:this['_glFormat']=_0x5a5510['RGB'],this['_glInterna'+'lFormat']=_0x3ecbcc['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case uy:this['_glFormat']=_0x5a5510['RGBA'],this['_glInterna'+'lFormat']=_0x3ecbcc['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case Xf:this['_glFormat']=_0x5a5510['SRGB'],this['_glInterna'+'lFormat']=_0x3ecbcc['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case qf:this['_glFormat']=_0x5a5510['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x3ecbcc['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case jf:this['_glFormat']=_0x5a5510['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x3ecbcc['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case Yf:this['_glFormat']=_0x5a5510['SRGB'],this['_glInterna'+'lFormat']=_0x3ecbcc['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case Kf:this['_glFormat']=_0x5a5510['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x3ecbcc['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Zf:this['_glFormat']=_0x5a5510['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x3ecbcc['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case Qf:this['_glFormat']=_0x5a5510['RGBA'],this['_glInterna'+'lFormat']=_0x3ecbcc['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case od:this['_glFormat']=_0x5a5510['RED'],this['_glInterna'+'lFormat']=_0x5a5510['R16F'],this['_glPixelTy'+'pe']=_0x5a5510['HALF_FLOAT'];break;case wp:this['_glFormat']=_0x5a5510['RG'],this['_glInterna'+'lFormat']=_0x5a5510['RG16F'],this['_glPixelTy'+'pe']=_0x5a5510['HALF_FLOAT'];break;case ui:this['_glFormat']=_0x5a5510['RGB'],this['_glInterna'+'lFormat']=_0x5a5510['RGB16F'],this['_glPixelTy'+'pe']=_0x5a5510['HALF_FLOAT'];break;case nt:this['_glFormat']=_0x5a5510['RGBA'],this['_glInterna'+'lFormat']=_0x5a5510['RGBA16F'],this['_glPixelTy'+'pe']=_0x5a5510['HALF_FLOAT'];break;case Ye:this['_glFormat']=_0x5a5510['RGB'],this['_glInterna'+'lFormat']=_0x5a5510['RGB32F'],this['_glPixelTy'+'pe']=_0x5a5510['FLOAT'];break;case Xt:this['_glFormat']=_0x5a5510['RGBA'],this['_glInterna'+'lFormat']=_0x5a5510['RGBA32F'],this['_glPixelTy'+'pe']=_0x5a5510['FLOAT'];break;case Ji:this['_glFormat']=_0x5a5510['RED'],this['_glInterna'+'lFormat']=_0x5a5510['R32F'],this['_glPixelTy'+'pe']=_0x5a5510['FLOAT'];break;case $i:this['_glFormat']=_0x5a5510['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x5a5510['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x5a5510['FLOAT'];break;case vn:this['_glFormat']=_0x5a5510['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x5a5510['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x5a5510['UNSIGNED_S'+'HORT'];break;case sd:this['_glFormat']=_0x5a5510['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x5a5510['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x5a5510['UNSIGNED_I'+'NT_24_8'];break;case In:this['_glFormat']=_0x5a5510['RGB'],this['_glInterna'+'lFormat']=_0x5a5510['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x5a5510['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case lp:this['_glFormat']=_0x5a5510['RGB'],this['_glInterna'+'lFormat']=_0x5a5510['SRGB8'],this['_glPixelTy'+'pe']=_0x5a5510['UNSIGNED_B'+'YTE'];break;case _s:this['_glFormat']=_0x5a5510['RGBA'],this['_glInterna'+'lFormat']=_0x5a5510['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x5a5510['UNSIGNED_B'+'YTE'];break;case dp:this['_glFormat']=_0x5a5510['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x5a5510['R8I'],this['_glPixelTy'+'pe']=_0x5a5510['BYTE'];break;case oy:this['_glFormat']=_0x5a5510['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x5a5510['R8UI'],this['_glPixelTy'+'pe']=_0x5a5510['UNSIGNED_B'+'YTE'];break;case fp:this['_glFormat']=_0x5a5510['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x5a5510['R16I'],this['_glPixelTy'+'pe']=_0x5a5510['SHORT'];break;case up:this['_glFormat']=_0x5a5510['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x5a5510['R16UI'],this['_glPixelTy'+'pe']=_0x5a5510['UNSIGNED_S'+'HORT'];break;case pp:this['_glFormat']=_0x5a5510['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x5a5510['R32I'],this['_glPixelTy'+'pe']=_0x5a5510['INT'];break;case Ki:this['_glFormat']=_0x5a5510['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x5a5510['R32UI'],this['_glPixelTy'+'pe']=_0x5a5510['UNSIGNED_I'+'NT'];break;case mp:this['_glFormat']=_0x5a5510['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x5a5510['RG8I'],this['_glPixelTy'+'pe']=_0x5a5510['BYTE'];break;case ly:this['_glFormat']=_0x5a5510['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x5a5510['RG8UI'],this['_glPixelTy'+'pe']=_0x5a5510['UNSIGNED_B'+'YTE'];break;case _p:this['_glFormat']=_0x5a5510['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x5a5510['RG16I'],this['_glPixelTy'+'pe']=_0x5a5510['SHORT'];break;case gp:this['_glFormat']=_0x5a5510['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x5a5510['RG16UI'],this['_glPixelTy'+'pe']=_0x5a5510['UNSIGNED_S'+'HORT'];break;case Sp:this['_glFormat']=_0x5a5510['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x5a5510['RG32I'],this['_glPixelTy'+'pe']=_0x5a5510['INT'];break;case yp:this['_glFormat']=_0x5a5510['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x5a5510['RG32UI'],this['_glPixelTy'+'pe']=_0x5a5510['UNSIGNED_I'+'NT'];break;case vp:this['_glFormat']=_0x5a5510['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x5a5510['RGBA8I'],this['_glPixelTy'+'pe']=_0x5a5510['BYTE'];break;case cy:this['_glFormat']=_0x5a5510['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x5a5510['RGBA8UI'],this['_glPixelTy'+'pe']=_0x5a5510['UNSIGNED_B'+'YTE'];break;case xp:this['_glFormat']=_0x5a5510['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x5a5510['RGBA16I'],this['_glPixelTy'+'pe']=_0x5a5510['SHORT'];break;case nd:this['_glFormat']=_0x5a5510['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x5a5510['RGBA16UI'],this['_glPixelTy'+'pe']=_0x5a5510['UNSIGNED_S'+'HORT'];break;case Tp:this['_glFormat']=_0x5a5510['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x5a5510['RGBA32I'],this['_glPixelTy'+'pe']=_0x5a5510['INT'];break;case Ue:this['_glFormat']=_0x5a5510['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x5a5510['RGBA32UI'],this['_glPixelTy'+'pe']=_0x5a5510['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(-0x387+-0x1f6d+0x3*0xba7);}['upload'](_0x5a7d28,_0x28e13e){w['assert'](_0x28e13e['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x28e13e);const _0x524d39=_0x5a7d28['gl'];if(!_0x28e13e['_needsUplo'+'ad']&&(_0x28e13e['_needsMipm'+'apsUpload']&&_0x28e13e['_mipmapsUp'+'loaded']||!_0x28e13e['pot']))return;let _0x3be067=0x183*-0x15+-0x11*-0x18d+-0x6a*-0xd,_0x185342,_0x5bfe8f;const _0x47643c=_0x28e13e['numLevels'];for(_0x28e13e['array']&&_0x524d39['texStorage'+'3D'](_0x524d39['TEXTURE_2D'+'_ARRAY'],_0x47643c,this['_glInterna'+'lFormat'],_0x28e13e['_width'],_0x28e13e['_height'],_0x28e13e['_arrayLeng'+'th']);_0x28e13e['_levels'][_0x3be067]||_0x3be067===-0x434+0x16db+-0x12a7*0x1;){if(!_0x28e13e['_needsUplo'+'ad']&&_0x3be067===0x26eb+0x3*-0xa9f+-0x102*0x7){_0x3be067++;continue;}else{if(_0x3be067&&(!_0x28e13e['_needsMipm'+'apsUpload']||!_0x28e13e['_mipmaps']))break;}if(_0x185342=_0x28e13e['_levels'][_0x3be067],_0x5bfe8f=(-0x1e62*0x1+0x1*0x132e+-0x97*-0x13)/Math['pow'](-0x27+0x1*-0x1f6c+0x1f95,_0x3be067),_0x3be067===-0xfe9*-0x1+0x170a+-0x26f2&&!_0x28e13e['_compresse'+'d']&&!_0x28e13e['_integerFo'+'rmat']&&_0x28e13e['_levels']['length']<_0x47643c&&(_0x524d39['generateMi'+'pmap'](this['_glTarget']),_0x28e13e['_mipmapsUp'+'loaded']=!(0x21d+-0x49*-0x17+-0x8ac)),_0x28e13e['_cubemap']){let _0x3ca1f2;if(_0x5a7d28['_isBrowser'+'Interface'](_0x185342[-0x37+-0x3e*0x3c+0xebf]))for(_0x3ca1f2=-0x23bc+0x7*0x28b+0x11ef;_0x3ca1f2<-0x26b5+0xc37+0x1a84;_0x3ca1f2++){if(!_0x28e13e['_levelsUpd'+'ated'][-0xa9e*0x3+0x1*0x235d+0x1d*-0x1f][_0x3ca1f2])continue;let _0x4e24c8=_0x185342[_0x3ca1f2];_0x5a7d28['_isImageBr'+'owserInter'+'face'](_0x4e24c8)&&(_0x4e24c8['width']>_0x5a7d28['maxCubeMap'+'Size']||_0x4e24c8['height']>_0x5a7d28['maxCubeMap'+'Size'])&&(_0x4e24c8=c_(_0x4e24c8,_0x5a7d28['maxCubeMap'+'Size']),_0x3be067===0x5a3+0x1f97+-0x253a&&(_0x28e13e['_width']=_0x4e24c8['width'],_0x28e13e['_height']=_0x4e24c8['height'])),_0x5a7d28['setUnpackF'+'lipY'](!(0x21dd*-0x1+0x1*-0x287+0x533*0x7)),_0x5a7d28['setUnpackP'+'remultiply'+'Alpha'](_0x28e13e['_premultip'+'lyAlpha']),this['_glCreated']?_0x524d39['texSubImag'+'e2D'](_0x524d39['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x3ca1f2,_0x3be067,-0x228a*0x1+0x43e+-0xf26*-0x2,0xdd7+-0x2a9*0x2+-0x885,this['_glFormat'],this['_glPixelTy'+'pe'],_0x4e24c8):_0x524d39['texImage2D'](_0x524d39['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x3ca1f2,_0x3be067,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x4e24c8);}else for(_0x5bfe8f=(0x43*-0x77+0xf*0x1b6+0x1d4*0x3)/Math['pow'](-0x304+-0x3e5*0x3+0xeb5,_0x3be067),_0x3ca1f2=0x1a62*0x1+0x2496+0x26c*-0x1a;_0x3ca1f2<0x8*-0x3bc+-0x1f*0xf5+0x13db*0x3;_0x3ca1f2++){if(!_0x28e13e['_levelsUpd'+'ated'][0x1*0x1135+0x1876+-0x29ab][_0x3ca1f2])continue;const _0x1ffd74=_0x185342[_0x3ca1f2];_0x28e13e['_compresse'+'d']?this['_glCreated']&&_0x1ffd74?_0x524d39['compressed'+'TexSubImag'+'e2D'](_0x524d39['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x3ca1f2,_0x3be067,-0x6*0x1bd+-0xfae+0x1a1c,0x94f*0x1+0x2195*-0x1+0x1846,Math['max'](_0x28e13e['_width']*_0x5bfe8f,0x1893*0x1+0xd45+0x25d7*-0x1),Math['max'](_0x28e13e['_height']*_0x5bfe8f,0x992+0xbf9+-0x158a*0x1),this['_glInterna'+'lFormat'],_0x1ffd74):_0x524d39['compressed'+'TexImage2D'](_0x524d39['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x3ca1f2,_0x3be067,this['_glInterna'+'lFormat'],Math['max'](_0x28e13e['_width']*_0x5bfe8f,-0x1*-0x269b+0x847+-0x443*0xb),Math['max'](_0x28e13e['_height']*_0x5bfe8f,-0x1a*0x25+0x1148+-0xd85*0x1),-0x28*-0x12+-0x1c4f+0x3d*0x6b,_0x1ffd74):(_0x5a7d28['setUnpackF'+'lipY'](!(-0x1*-0xbf+-0xbe*0xc+0x82a)),_0x5a7d28['setUnpackP'+'remultiply'+'Alpha'](_0x28e13e['_premultip'+'lyAlpha']),this['_glCreated']&&_0x1ffd74?_0x524d39['texSubImag'+'e2D'](_0x524d39['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x3ca1f2,_0x3be067,0xf85*0x1+0x1ed3+-0x2e58*0x1,-0x104*-0xa+-0x8dd+-0x14b,Math['max'](_0x28e13e['_width']*_0x5bfe8f,-0x1706+0x1c61+0x89*-0xa),Math['max'](_0x28e13e['_height']*_0x5bfe8f,-0x137+0x1c52+0x1b1a*-0x1),this['_glFormat'],this['_glPixelTy'+'pe'],_0x1ffd74):_0x524d39['texImage2D'](_0x524d39['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x3ca1f2,_0x3be067,this['_glInterna'+'lFormat'],Math['max'](_0x28e13e['_width']*_0x5bfe8f,-0xfff+0x255e+-0x155e),Math['max'](_0x28e13e['_height']*_0x5bfe8f,0x149a+-0x5ec*-0x2+-0x2071*0x1),0x37c+0x2*0xc27+-0x1*0x1bca,this['_glFormat'],this['_glPixelTy'+'pe'],_0x1ffd74));}}else{if(_0x28e13e['_volume'])_0x28e13e['_compresse'+'d']?_0x524d39['compressed'+'TexImage3D'](_0x524d39['TEXTURE_3D'],_0x3be067,this['_glInterna'+'lFormat'],Math['max'](_0x28e13e['_width']*_0x5bfe8f,0x10e2+-0x241*0x11+-0x4*-0x55c),Math['max'](_0x28e13e['_height']*_0x5bfe8f,0x2458+-0x5*0x669+-0x44a),Math['max'](_0x28e13e['_depth']*_0x5bfe8f,-0x30*-0x90+-0x50*-0x70+0x3b*-0x10d),-0x9*-0x2cb+0xe61+0x232*-0x12,_0x185342):(_0x5a7d28['setUnpackF'+'lipY'](!(0x1*0x1ab1+0x134+-0x1be4)),_0x5a7d28['setUnpackP'+'remultiply'+'Alpha'](_0x28e13e['_premultip'+'lyAlpha']),_0x524d39['texImage3D'](_0x524d39['TEXTURE_3D'],_0x3be067,this['_glInterna'+'lFormat'],Math['max'](_0x28e13e['_width']*_0x5bfe8f,0x16d8+-0xb*-0x20b+0x4*-0xb54),Math['max'](_0x28e13e['_height']*_0x5bfe8f,-0x158b+0x570+0x101c),Math['max'](_0x28e13e['_depth']*_0x5bfe8f,-0x1*-0xbdb+0x2568+0x1e5*-0x1a),0x1757+-0x11fd+-0x55a,this['_glFormat'],this['_glPixelTy'+'pe'],_0x185342));else{if(_0x28e13e['array']&&typeof _0x185342=='object'){if(_0x28e13e['_arrayLeng'+'th']===_0x185342['length']){if(_0x28e13e['_compresse'+'d']){for(let _0x1e7e9f=0x165a+-0x84a+0x30*-0x4b;_0x1e7e9f<_0x28e13e['_arrayLeng'+'th'];_0x1e7e9f++)_0x524d39['compressed'+'TexSubImag'+'e3D'](_0x524d39['TEXTURE_2D'+'_ARRAY'],_0x3be067,0x142f*-0x1+0x25*-0xa7+0x2c52,0x1*0xc39+-0x9ad*0x4+0x1a7b,_0x1e7e9f,Math['max'](Math['floor'](_0x28e13e['_width']*_0x5bfe8f),-0x22fa+-0x1ad7*-0x1+0x1*0x824),Math['max'](Math['floor'](_0x28e13e['_height']*_0x5bfe8f),0x2*0x460+0x24e3+-0xb*0x426),0x13*0xdf+-0x193a+0x457*0x2,this['_glInterna'+'lFormat'],_0x185342[_0x1e7e9f]);}else{for(let _0x56b58c=0x1615*-0x1+0x983*-0x1+0x1f98*0x1;_0x56b58c<_0x28e13e['_arrayLeng'+'th'];_0x56b58c++)_0x524d39['texSubImag'+'e3D'](_0x524d39['TEXTURE_2D'+'_ARRAY'],_0x3be067,-0x1b49+0x32*0x74+0x4a1,0x1*-0x1047+-0x18c9+-0x30*-0xdb,_0x56b58c,Math['max'](Math['floor'](_0x28e13e['_width']*_0x5bfe8f),-0x1301*0x1+-0x8c6*0x1+0x1bc8*0x1),Math['max'](Math['floor'](_0x28e13e['_height']*_0x5bfe8f),-0x439+0x2*0xb9d+0x80*-0x26),-0x10cb+0x1720+-0x654,this['_glFormat'],this['_glPixelTy'+'pe'],_0x185342[_0x56b58c]);}}}else{if(_0x5a7d28['_isBrowser'+'Interface'](_0x185342)){_0x5a7d28['_isImageBr'+'owserInter'+'face'](_0x185342)&&(_0x185342['width']>_0x5a7d28['maxTexture'+'Size']||_0x185342['height']>_0x5a7d28['maxTexture'+'Size'])&&(_0x185342=c_(_0x185342,_0x5a7d28['maxTexture'+'Size']),_0x3be067===-0x1265*-0x1+0x1*0xaca+-0x1d2f*0x1&&(_0x28e13e['_width']=_0x185342['width'],_0x28e13e['_height']=_0x185342['height']));const _0x4731dc=_0x185342['width']||_0x185342['videoWidth'],_0x454b0a=_0x185342['height']||_0x185342['videoHeigh'+'t'];_0x5a7d28['setUnpackF'+'lipY'](_0x28e13e['_flipY']),_0x5a7d28['setUnpackP'+'remultiply'+'Alpha'](_0x28e13e['_premultip'+'lyAlpha']),this['_glCreated']&&_0x28e13e['_width']===_0x4731dc&&_0x28e13e['_height']===_0x454b0a&&!_0x5a7d28['_isImageVi'+'deoInterfa'+'ce'](_0x185342)?_0x524d39['texSubImag'+'e2D'](_0x524d39['TEXTURE_2D'],_0x3be067,0xb13+0xbe4+-0x16f7,0xdc4*0x1+-0x39b*0x3+0x97*-0x5,this['_glFormat'],this['_glPixelTy'+'pe'],_0x185342):(_0x524d39['texImage2D'](_0x524d39['TEXTURE_2D'],_0x3be067,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x185342),_0x3be067===-0x320+-0x1127+-0x1*-0x1447&&(_0x28e13e['_width']=_0x4731dc,_0x28e13e['_height']=_0x454b0a));}else _0x5bfe8f=(-0x61c+-0x1*0x12e5+-0xc81*-0x2)/Math['pow'](-0x406+-0x1777+0x1b7f,_0x3be067),_0x28e13e['_compresse'+'d']?this['_glCreated']&&_0x185342?_0x524d39['compressed'+'TexSubImag'+'e2D'](_0x524d39['TEXTURE_2D'],_0x3be067,-0x2018+-0x7ac+-0x7f4*-0x5,0xccf*0x3+0x473*-0x3+-0x1914,Math['max'](Math['floor'](_0x28e13e['_width']*_0x5bfe8f),0x50c+0x1*-0x21bb+-0x44*-0x6c),Math['max'](Math['floor'](_0x28e13e['_height']*_0x5bfe8f),0x6e*-0x1d+-0x1d15+-0x298c*-0x1),this['_glInterna'+'lFormat'],_0x185342):_0x524d39['compressed'+'TexImage2D'](_0x524d39['TEXTURE_2D'],_0x3be067,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x28e13e['_width']*_0x5bfe8f),0xb69+0x1*-0x6df+-0x489),Math['max'](Math['floor'](_0x28e13e['_height']*_0x5bfe8f),-0x2*-0x8eb+-0x39*-0x45+-0x2132),-0x1ed3+-0x2*-0xe43+-0x24d*-0x1,_0x185342):(_0x5a7d28['setUnpackF'+'lipY'](!(0x6*-0x466+-0x1a51+0x2*0x1a5b)),_0x5a7d28['setUnpackP'+'remultiply'+'Alpha'](_0x28e13e['_premultip'+'lyAlpha']),this['_glCreated']&&_0x185342?_0x524d39['texSubImag'+'e2D'](_0x524d39['TEXTURE_2D'],_0x3be067,-0xd*-0x95+0x17de+-0x1f6f*0x1,-0x397*-0x5+-0x21a2+-0x323*-0x5,Math['max'](_0x28e13e['_width']*_0x5bfe8f,0x1*-0x2402+0x18a7+0x5ae*0x2),Math['max'](_0x28e13e['_height']*_0x5bfe8f,-0x67*0x53+0x12fb+0xe6b),this['_glFormat'],this['_glPixelTy'+'pe'],_0x185342):_0x524d39['texImage2D'](_0x524d39['TEXTURE_2D'],_0x3be067,this['_glInterna'+'lFormat'],Math['max'](_0x28e13e['_width']*_0x5bfe8f,0x61*-0x2+0x2*0x11ec+0x1*-0x2315),Math['max'](_0x28e13e['_height']*_0x5bfe8f,0x155c*-0x1+-0x22d4+0x3831),0xe*-0x178+-0x2*-0xfe8+-0xb40,this['_glFormat'],this['_glPixelTy'+'pe'],_0x185342));_0x3be067===0x2*-0x8a1+-0x9e6+0x1b28?_0x28e13e['_mipmapsUp'+'loaded']=!(-0x131*0xd+0x26*-0xe3+0x2*0x1898):_0x28e13e['_mipmapsUp'+'loaded']=!(-0x92d+0x1fd0+-0x16a3);}}}_0x3be067++;}if(_0x28e13e['_needsUplo'+'ad']){if(_0x28e13e['_cubemap']){for(let _0xe51ea=0xce3+0x5fb+0x17*-0xd2;_0xe51ea<-0x95*0x2f+-0x75a*0x2+-0x85*-0x51;_0xe51ea++)_0x28e13e['_levelsUpd'+'ated'][-0x2b7+0x8e9*0x3+-0x1804][_0xe51ea]=!(-0x54*-0x24+0xdef+-0x19be);}else _0x28e13e['_levelsUpd'+'ated'][-0x2*0x10f7+-0x11fb*0x1+0x33e9]=!(-0xc6f+0x545*0x4+-0x8a4);}!_0x28e13e['_compresse'+'d']&&!_0x28e13e['_integerFo'+'rmat']&&_0x28e13e['_mipmaps']&&_0x28e13e['_needsMipm'+'apsUpload']&&_0x28e13e['_levels']['length']===0xfc2+0x24*-0x83+0x2ab&&(_0x524d39['generateMi'+'pmap'](this['_glTarget']),_0x28e13e['_mipmapsUp'+'loaded']=!(0x259f+0x797*0x3+0x1e32*-0x2)),_0x28e13e['_gpuSize']&&_0x28e13e['adjustVram'+'SizeTracki'+'ng'](_0x5a7d28['_vram'],-_0x28e13e['_gpuSize']),_0x28e13e['_gpuSize']=_0x28e13e['gpuSize'],_0x28e13e['adjustVram'+'SizeTracki'+'ng'](_0x5a7d28['_vram'],_0x28e13e['_gpuSize']),this['_glCreated']=!(-0x241+0x3d*0x3e+0xc85*-0x1);}['read'](_0x154b06,_0x435c07,_0x4600da,_0x151326,_0x10a3a4){const _0x1fc3c0=this['texture'];return _0x1fc3c0['device']['readTextur'+'eAsync'](_0x1fc3c0,_0x154b06,_0x435c07,_0x4600da,_0x151326,_0x10a3a4);}['write'](_0x5d100b,_0x56dd78,_0x4e75e2,_0x29edaa,_0x300a92){const {texture:_0x5cb2bf}=this,{device:_0x2b7e56}=_0x5cb2bf;return _0x2b7e56['setTexture'](_0x5cb2bf,-0x5*0x406+-0x19*0xb1+-0x2567*-0x1),_0x2b7e56['writeTextu'+'reAsync'](_0x5cb2bf,_0x5d100b,_0x56dd78,_0x4e75e2,_0x29edaa,_0x300a92);}}class tw{constructor(_0x19a1c1,_0x58145b){h(this,'msaaFB'),h(this,'resolveFB'),(this['msaaFB']=_0x19a1c1,this['resolveFB']=_0x58145b);}['destroy'](_0x2b90b1){this['msaaFB']&&(_0x2b90b1['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x2b90b1['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class sw{constructor(){h(this,'_glFrameBu'+'ffer',null),h(this,'_glDepthBu'+'ffer',null),h(this,'_glResolve'+'FrameBuffe'+'r',null),h(this,'colorMrtFr'+'amebuffers',null),h(this,'_glMsaaCol'+'orBuffers',[]),h(this,'_glMsaaDep'+'thBuffer',null),h(this,'msaaDepthB'+'ufferKey'),h(this,'suppliedCo'+'lorFramebu'+'ffer'),h(this,'_isInitial'+'ized',!(-0xde3+0x1435+-0xe7*0x7));}['destroy'](_0x1db339){var _0x4a686b;const _0x52904d=_0x1db339['gl'];this['_isInitial'+'ized']=!(0x1a3*0x1+-0xd8+0xca*-0x1),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x52904d['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x52904d['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x52904d['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x42cb5e=>{_0x52904d['deleteRend'+'erbuffer'](_0x42cb5e);}),this['_glMsaaCol'+'orBuffers']['length']=0xd*-0x2a1+-0xae+0x22db*0x1,(_0x4a686b=this['colorMrtFr'+'amebuffers'])==null||_0x4a686b['forEach'](_0x1f63a5=>{_0x1f63a5['destroy'](_0x52904d);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&Fd(_0x1db339)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(-0x67*0x56+0xe44+0x1456);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x2285ad,_0x15a8c4){var _0x4ea342,_0xa43451;const _0x3d0eaa=_0x2285ad['gl'];w['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(0x1a29+0x19ab+0xcf5*-0x4);const _0x3b8fc1=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(-0x1*0x22e5+-0x106c+0x3351))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{w['call'](()=>{(_0x15a8c4['width']<=0xb*0x103+0xb13+0xe*-0x196||_0x15a8c4['height']<=-0x7d0+-0x1c9*0x6+0x1286)&&w['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x15a8c4['width']+'\x20x\x20'+_0x15a8c4['height'],_0x15a8c4);}),this['_glFrameBu'+'ffer']=_0x3d0eaa['createFram'+'ebuffer'](),_0x2285ad['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x42fe93=((_0x4ea342=_0x15a8c4['_colorBuff'+'ers'])==null?void(0x128+-0x101b+-0x1*-0xef3):_0x4ea342['length'])??0x3*0x5fb+-0x1687+0x1*0x496,_0x28408b=_0x3d0eaa['COLOR_ATTA'+'CHMENT0'];for(let _0x50aa49=0x2*-0x281+-0x23fb+-0x1*-0x28fd;_0x50aa49<_0x42fe93;++_0x50aa49){const _0x36535b=_0x15a8c4['getColorBu'+'ffer'](_0x50aa49);_0x36535b&&(_0x36535b['impl']['_glTexture']||(_0x36535b['_width']=Math['min'](_0x36535b['width'],_0x2285ad['maxRenderB'+'ufferSize']),_0x36535b['_height']=Math['min'](_0x36535b['height'],_0x2285ad['maxRenderB'+'ufferSize']),_0x2285ad['setTexture'](_0x36535b,0x369*-0x5+-0x1bd4+-0x1*-0x2ce1)),_0x3d0eaa['framebuffe'+'rTexture2D'](_0x3d0eaa['FRAMEBUFFE'+'R'],_0x28408b+_0x50aa49,_0x36535b['_cubemap']?_0x3d0eaa['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x15a8c4['_face']:_0x3d0eaa['TEXTURE_2D'],_0x36535b['impl']['_glTexture'],_0x15a8c4['mipLevel']),_0x3b8fc1['push'](_0x28408b+_0x50aa49));}_0x3d0eaa['drawBuffer'+'s'](_0x3b8fc1);const _0x121d0c=_0x15a8c4['_depthBuff'+'er'];if(_0x121d0c||_0x15a8c4['_depth']){const _0x6a4e58=_0x15a8c4['_stencil']?_0x3d0eaa['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x3d0eaa['DEPTH_ATTA'+'CHMENT'];if(_0x121d0c)_0x121d0c['impl']['_glTexture']||(_0x121d0c['_width']=Math['min'](_0x121d0c['width'],_0x2285ad['maxRenderB'+'ufferSize']),_0x121d0c['_height']=Math['min'](_0x121d0c['height'],_0x2285ad['maxRenderB'+'ufferSize']),_0x2285ad['setTexture'](_0x121d0c,-0x1cb7+0x2*0x57a+0x11c3)),_0x3d0eaa['framebuffe'+'rTexture2D'](_0x3d0eaa['FRAMEBUFFE'+'R'],_0x6a4e58,_0x121d0c['_cubemap']?_0x3d0eaa['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x15a8c4['_face']:_0x3d0eaa['TEXTURE_2D'],_0x15a8c4['_depthBuff'+'er']['impl']['_glTexture'],_0x15a8c4['mipLevel']);else{if(!(_0x15a8c4['_samples']>-0x20bf+0x22e+0x1e92)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0x3d0eaa['createRend'+'erbuffer']());const _0x2de996=_0x15a8c4['_stencil']?_0x3d0eaa['DEPTH24_ST'+'ENCIL8']:_0x3d0eaa['DEPTH_COMP'+'ONENT32F'];_0x3d0eaa['bindRender'+'buffer'](_0x3d0eaa['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x3d0eaa['renderbuff'+'erStorage'](_0x3d0eaa['RENDERBUFF'+'ER'],_0x2de996,_0x15a8c4['width'],_0x15a8c4['height']),_0x3d0eaa['framebuffe'+'rRenderbuf'+'fer'](_0x3d0eaa['FRAMEBUFFE'+'R'],_0x6a4e58,_0x3d0eaa['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x3d0eaa['bindRender'+'buffer'](_0x3d0eaa['RENDERBUFF'+'ER'],null);}}}w['call'](()=>this['_checkFbo'](_0x2285ad,_0x15a8c4));}if(_0x15a8c4['_samples']>-0x18c9+-0xbb8+-0x2*-0x1241){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0x3d0eaa['createFram'+'ebuffer'](),_0x2285ad['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x722190=((_0xa43451=_0x15a8c4['_colorBuff'+'ers'])==null?void(-0xe*0x129+-0x24f7*0x1+0x3535):_0xa43451['length'])??0x1221+-0x91*-0x17+0x7ca*-0x4;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0x2484+-0x92*0x2+-0x2360*0x1)){const _0x32ecc8=_0x3d0eaa['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x32ecc8);const _0x4a05d5=_0x2285ad['backBuffer'+'Format']===Ne?_0x3d0eaa['RGBA8']:_0x3d0eaa['RGB8'];_0x3d0eaa['bindRender'+'buffer'](_0x3d0eaa['RENDERBUFF'+'ER'],_0x32ecc8),_0x3d0eaa['renderbuff'+'erStorageM'+'ultisample'](_0x3d0eaa['RENDERBUFF'+'ER'],_0x15a8c4['_samples'],_0x4a05d5,_0x15a8c4['width'],_0x15a8c4['height']),_0x3d0eaa['framebuffe'+'rRenderbuf'+'fer'](_0x3d0eaa['FRAMEBUFFE'+'R'],_0x3d0eaa['COLOR_ATTA'+'CHMENT0'],_0x3d0eaa['RENDERBUFF'+'ER'],_0x32ecc8);}else for(let _0x3d9b80=-0x1387*0x1+0x17de+-0x457*0x1;_0x3d9b80<_0x722190;++_0x3d9b80){const _0x467e87=_0x15a8c4['getColorBu'+'ffer'](_0x3d9b80);if(_0x467e87){const _0x43b820=_0x3d0eaa['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x43b820),_0x3d0eaa['bindRender'+'buffer'](_0x3d0eaa['RENDERBUFF'+'ER'],_0x43b820),_0x3d0eaa['renderbuff'+'erStorageM'+'ultisample'](_0x3d0eaa['RENDERBUFF'+'ER'],_0x15a8c4['_samples'],_0x467e87['impl']['_glInterna'+'lFormat'],_0x15a8c4['width'],_0x15a8c4['height']),_0x3d0eaa['framebuffe'+'rRenderbuf'+'fer'](_0x3d0eaa['FRAMEBUFFE'+'R'],_0x3d0eaa['COLOR_ATTA'+'CHMENT0']+_0x3d9b80,_0x3d0eaa['RENDERBUFF'+'ER'],_0x43b820);}}if(_0x15a8c4['_depth']){w['assert'](!this['_glMsaaDep'+'thBuffer']);const _0x2a3bb7=_0x15a8c4['_stencil']?_0x3d0eaa['DEPTH24_ST'+'ENCIL8']:_0x3d0eaa['DEPTH_COMP'+'ONENT32F'],_0x58238c=_0x15a8c4['_stencil']?_0x3d0eaa['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x3d0eaa['DEPTH_ATTA'+'CHMENT'];let _0x16e648;const _0x46066d=_0x15a8c4['_depthBuff'+'er'];_0x46066d&&(_0x16e648=_0x46066d['id']+':'+_0x15a8c4['width']+':'+_0x15a8c4['height']+':'+_0x15a8c4['_samples']+':'+_0x2a3bb7+':'+_0x58238c,this['_glMsaaDep'+'thBuffer']=Fd(_0x2285ad)['get'](_0x16e648)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0x3d0eaa['createRend'+'erbuffer'](),_0x3d0eaa['bindRender'+'buffer'](_0x3d0eaa['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0x3d0eaa['renderbuff'+'erStorageM'+'ultisample'](_0x3d0eaa['RENDERBUFF'+'ER'],_0x15a8c4['_samples'],_0x2a3bb7,_0x15a8c4['width'],_0x15a8c4['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0x3d0eaa['deleteRend'+'erbuffer'](this);},_0x46066d&&Fd(_0x2285ad)['set'](_0x16e648,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x16e648,_0x3d0eaa['framebuffe'+'rRenderbuf'+'fer'](_0x3d0eaa['FRAMEBUFFE'+'R'],_0x58238c,_0x3d0eaa['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}w['call'](()=>this['_checkFbo'](_0x2285ad,_0x15a8c4,'MSAA')),_0x722190>0x1d*-0xc+-0xb68+-0x1*-0xcc5&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x2285ad,_0x15a8c4,_0x722190),_0x2285ad['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0x3d0eaa['drawBuffer'+'s'](_0x3b8fc1));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0xbd38fd,_0x2db8c6,_0x5a8f3c){const _0xaee4fd=_0xbd38fd['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x2aab09=-0xe12+0x6d*0x1f+-0xdf*-0x1;_0x2aab09<_0x5a8f3c;++_0x2aab09){const _0x22a125=_0x2db8c6['getColorBu'+'ffer'](_0x2aab09),_0x3eb65e=_0xaee4fd['createFram'+'ebuffer']();_0xbd38fd['setFramebu'+'ffer'](_0x3eb65e);const _0x493c1f=this['_glMsaaCol'+'orBuffers'][_0x2aab09];_0xaee4fd['bindRender'+'buffer'](_0xaee4fd['RENDERBUFF'+'ER'],_0x493c1f),_0xaee4fd['renderbuff'+'erStorageM'+'ultisample'](_0xaee4fd['RENDERBUFF'+'ER'],_0x2db8c6['_samples'],_0x22a125['impl']['_glInterna'+'lFormat'],_0x2db8c6['width'],_0x2db8c6['height']),_0xaee4fd['framebuffe'+'rRenderbuf'+'fer'](_0xaee4fd['FRAMEBUFFE'+'R'],_0xaee4fd['COLOR_ATTA'+'CHMENT0'],_0xaee4fd['RENDERBUFF'+'ER'],_0x493c1f),_0xaee4fd['drawBuffer'+'s']([_0xaee4fd['COLOR_ATTA'+'CHMENT0']]),w['call'](()=>this['_checkFbo'](_0xbd38fd,_0x2db8c6,'MSAA-MRT-s'+'rc'+_0x2aab09));const _0x14ddeb=_0xaee4fd['createFram'+'ebuffer']();_0xbd38fd['setFramebu'+'ffer'](_0x14ddeb),_0xaee4fd['framebuffe'+'rTexture2D'](_0xaee4fd['FRAMEBUFFE'+'R'],_0xaee4fd['COLOR_ATTA'+'CHMENT0'],_0x22a125['_cubemap']?_0xaee4fd['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x2db8c6['_face']:_0xaee4fd['TEXTURE_2D'],_0x22a125['impl']['_glTexture'],-0x1233+0xb5d*0x3+-0xfe4),this['colorMrtFr'+'amebuffers'][_0x2aab09]=new tw(_0x3eb65e,_0x14ddeb),w['call'](()=>this['_checkFbo'](_0xbd38fd,_0x2db8c6,'MSAA-MRT-d'+'st'+_0x2aab09));}}['_checkFbo'](_0x23afb4,_0x7f0ffe,_0x4faf75=''){const _0x461f7e=_0x23afb4['gl'],_0x1da5cf=_0x461f7e['checkFrame'+'bufferStat'+'us'](_0x461f7e['FRAMEBUFFE'+'R']);let _0x43231a;switch(_0x1da5cf){case _0x461f7e['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x43231a='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x461f7e['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x43231a='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x461f7e['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x43231a='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x461f7e['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x43231a='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}w['assert'](!_0x43231a,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x43231a+(',\x20render\x20t'+'arget:\x20')+_0x7f0ffe['name']+'\x20'+_0x4faf75,_0x7f0ffe);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=-0x10a6+0x26e6+0x590*-0x4,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(0x66*0x11+-0x1*-0xf44+-0x1*0x160a),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(-0xfae+0x1362+-0x6*0x9e),this['_isInitial'+'ized']=!(-0x26e*0x2+0x14f6*-0x1+-0x1*-0x19d3);}['internalRe'+'solve'](_0x161d32,_0x20a6fb,_0x5066e7,_0x279d87,_0x5f1569){w['assert'](_0x20a6fb!==_0x5066e7,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x161d32['setScissor'](0x168c+-0x8e*0x38+0x884,0xc*0x323+-0x567*-0x1+-0x1*0x2b0b,_0x279d87['width'],_0x279d87['height']);const _0x4e70d6=_0x161d32['gl'];_0x4e70d6['bindFrameb'+'uffer'](_0x4e70d6['READ_FRAME'+'BUFFER'],_0x20a6fb),_0x4e70d6['bindFrameb'+'uffer'](_0x4e70d6['DRAW_FRAME'+'BUFFER'],_0x5066e7),_0x4e70d6['blitFrameb'+'uffer'](-0x1e32+-0x5*0x73d+0x4263,0x7*-0x13e+-0x166d*0x1+0x1f1f,_0x279d87['width'],_0x279d87['height'],-0x3*-0x251+0x267e+-0x2d71,-0xa88+-0x762+-0x1*-0x11ea,_0x279d87['width'],_0x279d87['height'],_0x5f1569,_0x4e70d6['NEAREST']);}['resolve'](_0x4c4484,_0x370ef6,_0x100831,_0x59212a){const _0x6aa594=_0x4c4484['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x100831)for(let _0x4d42a4=-0x2c*-0xe+0x121c+0x34*-0x65;_0x4d42a4<this['colorMrtFr'+'amebuffers']['length'];_0x4d42a4++){const _0x290383=this['colorMrtFr'+'amebuffers'][_0x4d42a4];Q['pushGpuMar'+'ker'](_0x4c4484,'RESOLVE-MR'+'T'+_0x4d42a4),this['internalRe'+'solve'](_0x4c4484,_0x290383['msaaFB'],_0x290383['resolveFB'],_0x370ef6,_0x6aa594['COLOR_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0x4c4484);}_0x59212a&&(Q['pushGpuMar'+'ker'](_0x4c4484,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x4c4484,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x370ef6,_0x6aa594['DEPTH_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0x4c4484));}else Q['pushGpuMar'+'ker'](_0x4c4484,'RESOLVE'),this['internalRe'+'solve'](_0x4c4484,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x370ef6,(_0x100831?_0x6aa594['COLOR_BUFF'+'ER_BIT']:0x24b1+0xd1*-0x8+-0x1e29)|(_0x59212a?_0x6aa594['DEPTH_BUFF'+'ER_BIT']:-0x16dd*-0x1+-0x1d19+0x63c)),Q['popGpuMark'+'er'](_0x4c4484);_0x6aa594['bindFrameb'+'uffer'](_0x6aa594['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class iw{constructor(){h(this,'renderVers'+'ion'),h(this,'queries',[]);}['destroy'](_0x3ce0bc){this['queries']['forEach'](_0x75651c=>_0x3ce0bc['deleteQuer'+'y'](_0x75651c)),this['queries']=null;}}class rw extends $T{constructor(_0x3d0cbd){super(),h(this,'device'),h(this,'freeQuerie'+'s',[]),h(this,'frameQueri'+'es',[]),h(this,'previousFr'+'ameQueries',[]),h(this,'timings',[]),(this['device']=_0x3d0cbd,this['ext']=_0x3d0cbd['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0xc6bd64=>this['device']['gl']['deleteQuer'+'y'](_0xc6bd64)),this['frameQueri'+'es']['forEach'](_0x562d27=>this['device']['gl']['deleteQuer'+'y'](_0x562d27)),this['previousFr'+'ameQueries']['forEach'](_0x1732dd=>_0x1732dd['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x61e726){if(this['ext']){const _0x450cd4=this['getSlot'](_0x61e726),_0x2a59a2=this['getQuery']();return this['frameQueri'+'es'][_0x450cd4]=_0x2a59a2,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x2a59a2),_0x450cd4;}}['end'](_0x259229){_0x259229!==void(-0x1*-0x1889+0x1aa5+-0x332e)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x1aa3d4=this['ext'],_0x3515ce=this['device']['gl'],_0x114360=this['device']['renderVers'+'ion'],_0x1c9874=this['frameQueri'+'es'];if(_0x1c9874['length']>-0x1f38+0x2348+-0x41*0x10){this['frameQueri'+'es']=[];const _0x5e5782=new iw();_0x5e5782['queries']=_0x1c9874,_0x5e5782['renderVers'+'ion']=_0x114360,this['previousFr'+'ameQueries']['push'](_0x5e5782);}if(this['previousFr'+'ameQueries']['length']>-0xd*-0x142+0x82c+0x56*-0x49){const _0x43d94a=this['previousFr'+'ameQueries'][0x2*-0x42d+-0x5*0x164+0xf4e],_0x5f50aa=_0x43d94a['queries'],_0x47cb8e=_0x5f50aa[_0x5f50aa['length']-(0x1c6c+-0x9ab+0x1e0*-0xa)],_0x315841=_0x3515ce['getQueryPa'+'rameter'](_0x47cb8e,_0x3515ce['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x137abf=_0x3515ce['getParamet'+'er'](_0x1aa3d4['GPU_DISJOI'+'NT_EXT']);if(_0x315841&&!_0x137abf){this['previousFr'+'ameQueries']['shift']();const _0x82659f=this['timings'];_0x82659f['length']=-0x16a6+-0x801+0x1ea7;for(let _0x5e1f59=-0x29e+0x1*-0x20d5+-0x4b*-0x79;_0x5e1f59<_0x5f50aa['length'];_0x5e1f59++){const _0x2e22ed=_0x5f50aa[_0x5e1f59],_0x20dac2=_0x3515ce['getQueryPa'+'rameter'](_0x2e22ed,_0x3515ce['QUERY_RESU'+'LT']);_0x82659f[_0x5e1f59]=_0x20dac2*(0x1470+-0x4*0x83+-0x16*0xd6+0.000001),this['freeQuerie'+'s']['push'](_0x2e22ed);}this['report'](_0x43d94a['renderVers'+'ion'],_0x82659f);}_0x137abf&&(this['previousFr'+'ameQueries']['forEach'](_0xfafd8d=>{this['report'](_0xfafd8d['renderVers'+'ion'],null),_0xfafd8d['destroy'](_0x3515ce);}),this['previousFr'+'ameQueries']['length']=0x2459+-0x1367+0x5a6*-0x3);}super['request'](_0x114360);}}}const Da=[];class aw extends $e{constructor(_0x29f07f,_0xb9397c={}){super(_0x29f07f,_0xb9397c),h(this,'gl'),h(this,'_defaultFr'+'amebuffer',null),h(this,'_defaultFr'+'amebufferC'+'hanged',!(0x1c5a+-0x2*-0x6d5+-0x4ab*0x9)),(_0xb9397c=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(0x2363+-0x1229+0x1*-0x1139),this['_contextLo'+'stHandler']=_0x18e76f=>{_0x18e76f['preventDef'+'ault'](),this['loseContex'+'t'](),w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x12f0d3=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x12f0d3&&_0x12f0d3['includes']('AppleWebKi'+'t')&&(_0x12f0d3['includes']('15.4')||_0x12f0d3['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0xb9397c['antialias']=!(0x2*0x626+0x12*-0x2d+-0x921),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),Ae['browserNam'+'e']==='firefox'){const _0x365084=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x9cf2aa=_0x365084?_0x365084[-0x1f4b*-0x1+0x1*-0xfc2+-0xf88]:null;if(_0x9cf2aa){const _0x325122=parseFloat(_0x9cf2aa);(Ae['name']==='windows'&&(_0x325122>=-0x2c*0x73+0x1*0x200+0x123c||_0x325122===-0x148+-0x1*-0xd36+-0xb7b)||Ae['name']==='android'&&_0x325122>=0x6e4+-0x6*0x609+0x1dd6)&&(_0xb9397c['antialias']=!(-0x1ec4+-0x2fb+-0xc*-0x2d0),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+Ae['name']+('\x20platform\x20'+'version\x20')+_0x9cf2aa));}}this['backBuffer'+'Antialias']=_0xb9397c['antialias']??!(0xd*-0x26+-0xd*-0xb3+-0x728),_0xb9397c['antialias']=!(-0x3b*0x22+-0x628*-0x5+-0x16f1);const _0x21b797=_0xb9397c['gl']??_0x29f07f['getContext']('webgl2',_0xb9397c);if(!_0x21b797)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x21b797,this['isWebGL2']=!(-0x203c+0x3*-0x91e+0x3b96),this['_deviceTyp'+'e']=aT,this['updateBack'+'bufferForm'+'at'](null);const _0x10d0ab=Ae['browserNam'+'e']==='chrome',_0x131fc1=Ae['browserNam'+'e']==='safari',_0x468e02=Ae['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(0x29f*-0xb+0x1f55+-0x27f);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x131fc1,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x468e02&&_0x10d0ab&&!_0xb9397c['alpha'],_0x29f07f['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0x3*-0x199+-0x31*-0x53+-0xb17)),_0x29f07f['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0x24b2*0x1+0x1*0x21a1+0x312)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x131fc1&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x21b797['SAMPLER_2D'],_0x21b797['SAMPLER_CU'+'BE'],_0x21b797['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x21b797['INT_SAMPLE'+'R_2D'],_0x21b797['SAMPLER_2D'+'_SHADOW'],_0x21b797['SAMPLER_CU'+'BE_SHADOW'],_0x21b797['SAMPLER_3D'],_0x21b797['INT_SAMPLE'+'R_3D'],_0x21b797['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x21b797['SAMPLER_2D'+'_ARRAY'],_0x21b797['INT_SAMPLE'+'R_2D_ARRAY'],_0x21b797['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x21b797['REPEAT'],_0x21b797['CLAMP_TO_E'+'DGE'],_0x21b797['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x21b797['FUNC_ADD'],_0x21b797['FUNC_SUBTR'+'ACT'],_0x21b797['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x21b797['MIN'],_0x21b797['MAX']],this['glBlendFun'+'ctionColor']=[_0x21b797['ZERO'],_0x21b797['ONE'],_0x21b797['SRC_COLOR'],_0x21b797['ONE_MINUS_'+'SRC_COLOR'],_0x21b797['DST_COLOR'],_0x21b797['ONE_MINUS_'+'DST_COLOR'],_0x21b797['SRC_ALPHA'],_0x21b797['SRC_ALPHA_'+'SATURATE'],_0x21b797['ONE_MINUS_'+'SRC_ALPHA'],_0x21b797['DST_ALPHA'],_0x21b797['ONE_MINUS_'+'DST_ALPHA'],_0x21b797['CONSTANT_C'+'OLOR'],_0x21b797['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x21b797['ZERO'],_0x21b797['ONE'],_0x21b797['SRC_COLOR'],_0x21b797['ONE_MINUS_'+'SRC_COLOR'],_0x21b797['DST_COLOR'],_0x21b797['ONE_MINUS_'+'DST_COLOR'],_0x21b797['SRC_ALPHA'],_0x21b797['SRC_ALPHA_'+'SATURATE'],_0x21b797['ONE_MINUS_'+'SRC_ALPHA'],_0x21b797['DST_ALPHA'],_0x21b797['ONE_MINUS_'+'DST_ALPHA'],_0x21b797['CONSTANT_A'+'LPHA'],_0x21b797['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x21b797['NEVER'],_0x21b797['LESS'],_0x21b797['EQUAL'],_0x21b797['LEQUAL'],_0x21b797['GREATER'],_0x21b797['NOTEQUAL'],_0x21b797['GEQUAL'],_0x21b797['ALWAYS']],this['glStencilO'+'p']=[_0x21b797['KEEP'],_0x21b797['ZERO'],_0x21b797['REPLACE'],_0x21b797['INCR'],_0x21b797['INCR_WRAP'],_0x21b797['DECR'],_0x21b797['DECR_WRAP'],_0x21b797['INVERT']],this['glClearFla'+'g']=[0x493*0x5+-0x447*0x3+-0xa0a,_0x21b797['COLOR_BUFF'+'ER_BIT'],_0x21b797['DEPTH_BUFF'+'ER_BIT'],_0x21b797['COLOR_BUFF'+'ER_BIT']|_0x21b797['DEPTH_BUFF'+'ER_BIT'],_0x21b797['STENCIL_BU'+'FFER_BIT'],_0x21b797['STENCIL_BU'+'FFER_BIT']|_0x21b797['COLOR_BUFF'+'ER_BIT'],_0x21b797['STENCIL_BU'+'FFER_BIT']|_0x21b797['DEPTH_BUFF'+'ER_BIT'],_0x21b797['STENCIL_BU'+'FFER_BIT']|_0x21b797['COLOR_BUFF'+'ER_BIT']|_0x21b797['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[-0x31*-0x6+0x3d*0x4f+-0x13f9,_0x21b797['BACK'],_0x21b797['FRONT'],_0x21b797['FRONT_AND_'+'BACK']],this['glFilter']=[_0x21b797['NEAREST'],_0x21b797['LINEAR'],_0x21b797['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x21b797['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x21b797['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x21b797['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x21b797['POINTS'],_0x21b797['LINES'],_0x21b797['LINE_LOOP'],_0x21b797['LINE_STRIP'],_0x21b797['TRIANGLES'],_0x21b797['TRIANGLE_S'+'TRIP'],_0x21b797['TRIANGLE_F'+'AN']],this['glType']=[_0x21b797['BYTE'],_0x21b797['UNSIGNED_B'+'YTE'],_0x21b797['SHORT'],_0x21b797['UNSIGNED_S'+'HORT'],_0x21b797['INT'],_0x21b797['UNSIGNED_I'+'NT'],_0x21b797['FLOAT'],_0x21b797['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x21b797['BOOL']]=Tn,this['pcUniformT'+'ype'][_0x21b797['INT']]=_a,this['pcUniformT'+'ype'][_0x21b797['FLOAT']]=Xs,this['pcUniformT'+'ype'][_0x21b797['FLOAT_VEC2']]=ga,this['pcUniformT'+'ype'][_0x21b797['FLOAT_VEC3']]=ds,this['pcUniformT'+'ype'][_0x21b797['FLOAT_VEC4']]=Rn,this['pcUniformT'+'ype'][_0x21b797['INT_VEC2']]=ca,this['pcUniformT'+'ype'][_0x21b797['INT_VEC3']]=ha,this['pcUniformT'+'ype'][_0x21b797['INT_VEC4']]=da,this['pcUniformT'+'ype'][_0x21b797['BOOL_VEC2']]=tl,this['pcUniformT'+'ype'][_0x21b797['BOOL_VEC3']]=sl,this['pcUniformT'+'ype'][_0x21b797['BOOL_VEC4']]=il,this['pcUniformT'+'ype'][_0x21b797['FLOAT_MAT2']]=_h,this['pcUniformT'+'ype'][_0x21b797['FLOAT_MAT3']]=On,this['pcUniformT'+'ype'][_0x21b797['FLOAT_MAT4']]=li,this['pcUniformT'+'ype'][_0x21b797['SAMPLER_2D']]=Hx,this['pcUniformT'+'ype'][_0x21b797['SAMPLER_CU'+'BE']]=Wx,this['pcUniformT'+'ype'][_0x21b797['UNSIGNED_I'+'NT']]=Fn,this['pcUniformT'+'ype'][_0x21b797['UNSIGNED_I'+'NT_VEC2']]=Nn,this['pcUniformT'+'ype'][_0x21b797['UNSIGNED_I'+'NT_VEC3']]=kn,this['pcUniformT'+'ype'][_0x21b797['UNSIGNED_I'+'NT_VEC4']]=Un,this['pcUniformT'+'ype'][_0x21b797['SAMPLER_2D'+'_SHADOW']]=$x,this['pcUniformT'+'ype'][_0x21b797['SAMPLER_CU'+'BE_SHADOW']]=Xx,this['pcUniformT'+'ype'][_0x21b797['SAMPLER_2D'+'_ARRAY']]=jx,this['pcUniformT'+'ype'][_0x21b797['SAMPLER_3D']]=qx,this['pcUniformT'+'ype'][_0x21b797['INT_SAMPLE'+'R_2D']]=Yx,this['pcUniformT'+'ype'][_0x21b797['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Kx,this['pcUniformT'+'ype'][_0x21b797['INT_SAMPLE'+'R_CUBE']]=Zx,this['pcUniformT'+'ype'][_0x21b797['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Qx,this['pcUniformT'+'ype'][_0x21b797['INT_SAMPLE'+'R_3D']]=Jx,this['pcUniformT'+'ype'][_0x21b797['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=eT,this['pcUniformT'+'ype'][_0x21b797['INT_SAMPLE'+'R_2D_ARRAY']]=tT,this['pcUniformT'+'ype'][_0x21b797['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=sT,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x21b797['TEXTURE_2D']]=-0xf7e+0x3b2*-0x2+0x16e2,this['targetToSl'+'ot'][_0x21b797['TEXTURE_CU'+'BE_MAP']]=0x21ef+0x3e9*0x4+-0x12*0x2c1,this['targetToSl'+'ot'][_0x21b797['TEXTURE_3D']]=0x170+-0xf41*0x1+-0xdd3*-0x1;let _0x15ec6b,_0x37cfce,_0x17a62f,_0x467665,_0xdc667;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][Tn]=function(_0x4b8e69,_0x2ea16d){_0x4b8e69['value']!==_0x2ea16d&&(_0x21b797['uniform1i'](_0x4b8e69['locationId'],_0x2ea16d),_0x4b8e69['value']=_0x2ea16d);},this['commitFunc'+'tion'][_a]=this['commitFunc'+'tion'][Tn],this['commitFunc'+'tion'][Xs]=function(_0x502314,_0x56f586){_0x502314['value']!==_0x56f586&&(_0x21b797['uniform1f'](_0x502314['locationId'],_0x56f586),_0x502314['value']=_0x56f586);},this['commitFunc'+'tion'][ga]=function(_0x12d8d4,_0x1c17cb){_0xdc667=_0x12d8d4['value'],_0x15ec6b=_0x1c17cb[0x20f*0x3+-0x25fa*0x1+0x1fcd],_0x37cfce=_0x1c17cb[-0x5ea*0x2+-0x1a5*-0xb+-0x642],(_0xdc667[0x5*-0x6a3+0x344+-0x9f9*-0x3]!==_0x15ec6b||_0xdc667[-0x1a1d+-0xeef+-0x1*-0x290d]!==_0x37cfce)&&(_0x21b797['uniform2fv'](_0x12d8d4['locationId'],_0x1c17cb),_0xdc667[0x1*-0xced+-0x1a6*-0x14+-0x140b]=_0x15ec6b,_0xdc667[-0x3c7*-0x5+0xe9*0x2+-0x14b4]=_0x37cfce);},this['commitFunc'+'tion'][ds]=function(_0x417236,_0x2bca70){_0xdc667=_0x417236['value'],_0x15ec6b=_0x2bca70[-0xeac+0x202f+-0x1183],_0x37cfce=_0x2bca70[0x10*-0x230+-0xba5+-0x1*-0x2ea6],_0x17a62f=_0x2bca70[-0x7*-0x497+0x1a50+-0x3a6f],(_0xdc667[-0x10*-0x11c+-0x1*0x203f+-0x4d5*-0x3]!==_0x15ec6b||_0xdc667[-0xb*0x61+0xb4*0x1e+0x10ec*-0x1]!==_0x37cfce||_0xdc667[-0x439*0x1+-0x23b+0x676]!==_0x17a62f)&&(_0x21b797['uniform3fv'](_0x417236['locationId'],_0x2bca70),_0xdc667[0x1636*-0x1+-0x17db+0x2e11]=_0x15ec6b,_0xdc667[-0x9b5+-0x18a5*0x1+0x225b*0x1]=_0x37cfce,_0xdc667[-0x2137+-0x7*0x15a+0x2aaf]=_0x17a62f);},this['commitFunc'+'tion'][Rn]=function(_0x300103,_0x1ead12){_0xdc667=_0x300103['value'],_0x15ec6b=_0x1ead12[-0x2*-0x10bb+0x252c+-0x2*0x2351],_0x37cfce=_0x1ead12[0x1164+0x442+-0x15a5],_0x17a62f=_0x1ead12[-0x202b+-0x5f8+0x2625],_0x467665=_0x1ead12[-0xb0+0x1*0xc70+-0xbbd],(_0xdc667[0x1cf+0x295+-0x464]!==_0x15ec6b||_0xdc667[-0x1ac4*-0x1+0x1b51+-0x3614]!==_0x37cfce||_0xdc667[-0x1cc4+-0x1155+0x2e1b]!==_0x17a62f||_0xdc667[0x9b4+-0x1231*0x2+0x1ab1]!==_0x467665)&&(_0x21b797['uniform4fv'](_0x300103['locationId'],_0x1ead12),_0xdc667[0x155c+0x1*-0x1779+-0x1*-0x21d]=_0x15ec6b,_0xdc667[-0x1*-0x1a83+-0x1*0x1996+0x3b*-0x4]=_0x37cfce,_0xdc667[-0x1*-0x1b81+-0x11d0+-0x9af]=_0x17a62f,_0xdc667[-0x18d3+0x2666+-0xd90]=_0x467665);},this['commitFunc'+'tion'][ca]=function(_0x32d809,_0x4c7436){_0xdc667=_0x32d809['value'],_0x15ec6b=_0x4c7436[0x15ba+-0x1b72+0x5b8],_0x37cfce=_0x4c7436[0x49*0x2f+-0x64*-0x5b+0x46*-0xb3],(_0xdc667[0x348+-0x102e+0xce6]!==_0x15ec6b||_0xdc667[0x246*0x5+0x2ea+-0xe47]!==_0x37cfce)&&(_0x21b797['uniform2iv'](_0x32d809['locationId'],_0x4c7436),_0xdc667[-0x1a07+0x1*-0xd4c+-0x1*-0x2753]=_0x15ec6b,_0xdc667[0x1c6+-0x99c+0x7d7]=_0x37cfce);},this['commitFunc'+'tion'][tl]=this['commitFunc'+'tion'][ca],this['commitFunc'+'tion'][ha]=function(_0x2d0ea8,_0x1f1fa5){_0xdc667=_0x2d0ea8['value'],_0x15ec6b=_0x1f1fa5[0x2579+-0x2*0x3d7+-0x1dcb],_0x37cfce=_0x1f1fa5[0xc02+-0x108+-0xaf9],_0x17a62f=_0x1f1fa5[-0x20bf+0x7c0+0x1901],(_0xdc667[0x15dd+0x14cd+-0x2aaa]!==_0x15ec6b||_0xdc667[-0x1*-0x201d+0x993*-0x4+0x630]!==_0x37cfce||_0xdc667[0x5b7+0x7*0x1+-0x1*0x5bc]!==_0x17a62f)&&(_0x21b797['uniform3iv'](_0x2d0ea8['locationId'],_0x1f1fa5),_0xdc667[-0x4*-0x1d7+-0x1062+-0x1ce*-0x5]=_0x15ec6b,_0xdc667[0x2*0x14b+0x631+0x2*-0x463]=_0x37cfce,_0xdc667[0xcd7+0x1dfb+-0x2ad0]=_0x17a62f);},this['commitFunc'+'tion'][sl]=this['commitFunc'+'tion'][ha],this['commitFunc'+'tion'][da]=function(_0x585eb2,_0xde4e53){_0xdc667=_0x585eb2['value'],_0x15ec6b=_0xde4e53[0x1*0x1c07+0x72d*0x2+-0x2a61],_0x37cfce=_0xde4e53[-0x119*0x5+-0x675+0xbf3],_0x17a62f=_0xde4e53[-0x1b1b+0x1*-0x2672+0x418f],_0x467665=_0xde4e53[0x203a+0xbf*-0xf+-0x1506],(_0xdc667[0x23d*-0xc+-0x1f*0x110+0x3bcc*0x1]!==_0x15ec6b||_0xdc667[0x1*-0x20e9+0xfb8+0x1132]!==_0x37cfce||_0xdc667[-0x1*-0x8a3+0x3*-0x6d5+0xbde]!==_0x17a62f||_0xdc667[-0x1584+-0x796+0x1d1d]!==_0x467665)&&(_0x21b797['uniform4iv'](_0x585eb2['locationId'],_0xde4e53),_0xdc667[-0xae7+-0x103e+0x1b25]=_0x15ec6b,_0xdc667[-0x3f8+0x4b*0x83+-0x2268]=_0x37cfce,_0xdc667[0xac1+0x8+0x1f*-0x59]=_0x17a62f,_0xdc667[-0x15ca+0xe63+-0x3b5*-0x2]=_0x467665);},this['commitFunc'+'tion'][il]=this['commitFunc'+'tion'][da],this['commitFunc'+'tion'][_h]=function(_0x18852e,_0x1bb0f5){_0x21b797['uniformMat'+'rix2fv'](_0x18852e['locationId'],!(-0x2194+-0x8d*0x9+0x2*0x1345),_0x1bb0f5);},this['commitFunc'+'tion'][On]=function(_0x2da7d7,_0x50a89c){_0x21b797['uniformMat'+'rix3fv'](_0x2da7d7['locationId'],!(0x444*-0x6+0x757+0x1242),_0x50a89c);},this['commitFunc'+'tion'][li]=function(_0x2dc397,_0x2ea9a8){_0x21b797['uniformMat'+'rix4fv'](_0x2dc397['locationId'],!(0x2575+-0x6f*0xb+-0x20af),_0x2ea9a8);},this['commitFunc'+'tion'][ud]=function(_0x183c3d,_0x285e5b){_0x21b797['uniform1fv'](_0x183c3d['locationId'],_0x285e5b);},this['commitFunc'+'tion'][pd]=function(_0x131650,_0x8f7196){_0x21b797['uniform2fv'](_0x131650['locationId'],_0x8f7196);},this['commitFunc'+'tion'][md]=function(_0x54e6a6,_0x2d6b63){_0x21b797['uniform3fv'](_0x54e6a6['locationId'],_0x2d6b63);},this['commitFunc'+'tion'][Lp]=function(_0x2c13ff,_0xd91f48){_0x21b797['uniform4fv'](_0x2c13ff['locationId'],_0xd91f48);},this['commitFunc'+'tion'][Fn]=function(_0x4efae7,_0x2d5d52){_0x4efae7['value']!==_0x2d5d52&&(_0x21b797['uniform1ui'](_0x4efae7['locationId'],_0x2d5d52),_0x4efae7['value']=_0x2d5d52);},this['commitFunc'+'tion'][Nn]=function(_0x39c04b,_0x1e5f26){_0xdc667=_0x39c04b['value'],_0x15ec6b=_0x1e5f26[-0xd1c+-0xe3*0x3+0x16f*0xb],_0x37cfce=_0x1e5f26[-0x37*0x7c+-0x5e3+0x3*0xad8],(_0xdc667[0x2169+-0x1*0x1c87+-0x4e2*0x1]!==_0x15ec6b||_0xdc667[0xc5d+-0x1e89+0x122d]!==_0x37cfce)&&(_0x21b797['uniform2ui'+'v'](_0x39c04b['locationId'],_0x1e5f26),_0xdc667[0x10d0+-0xa16*-0x2+-0x24fc]=_0x15ec6b,_0xdc667[0x1b*0x101+0x493*0x6+-0x1b46*0x2]=_0x37cfce);},this['commitFunc'+'tion'][kn]=function(_0x545db3,_0x1de6c6){_0xdc667=_0x545db3['value'],_0x15ec6b=_0x1de6c6[-0x24eb+-0x73*0x43+0x4304],_0x37cfce=_0x1de6c6[0x17*0xf1+-0x1*-0x268a+-0x3c30],_0x17a62f=_0x1de6c6[-0x18f1+-0x9b2+-0x22a5*-0x1],(_0xdc667[-0x266f+-0x49e*0x3+0x3449*0x1]!==_0x15ec6b||_0xdc667[0x25e9+-0x7*-0x31d+0x11*-0x383]!==_0x37cfce||_0xdc667[0x257d+-0x1a5c+-0x27*0x49]!==_0x17a62f)&&(_0x21b797['uniform3ui'+'v'](_0x545db3['locationId'],_0x1de6c6),_0xdc667[-0x7d6+-0x269*0x1+0x2b*0x3d]=_0x15ec6b,_0xdc667[0x4cd*-0x2+0x2*0xcdf+0x33*-0x51]=_0x37cfce,_0xdc667[0x86f+0x1ce4+-0xe9*0x29]=_0x17a62f);},this['commitFunc'+'tion'][Un]=function(_0x730549,_0x407887){_0xdc667=_0x730549['value'],_0x15ec6b=_0x407887[0x1f*0x107+-0xfc1*-0x1+-0x2f9a],_0x37cfce=_0x407887[0x23b*0x1+-0x21*0xc9+0x17af],_0x17a62f=_0x407887[-0x1e92+-0x119*-0x7+-0x16e5*-0x1],_0x467665=_0x407887[-0x7f7*0x1+-0x59*-0x29+-0x1*0x647],(_0xdc667[0x99d+-0x4c*0x9+0x1*-0x6f1]!==_0x15ec6b||_0xdc667[-0x115f*-0x2+-0x1cbc+-0x601]!==_0x37cfce||_0xdc667[-0x191*0x16+-0x815*-0x3+0xa39*0x1]!==_0x17a62f||_0xdc667[-0x1ad*0xd+0x2*-0x80f+0x1a6*0x17]!==_0x467665)&&(_0x21b797['uniform4ui'+'v'](_0x730549['locationId'],_0x407887),_0xdc667[0xc49+0x3*-0x4bd+0x1ee]=_0x15ec6b,_0xdc667[-0x407*0x1+-0x2641+0x2a49]=_0x37cfce,_0xdc667[0x10a9+-0x6cb+-0x9dc]=_0x17a62f,_0xdc667[-0x1*0x106+-0xd*0x27+0x304]=_0x467665);},this['commitFunc'+'tion'][Bn]=function(_0x6042eb,_0x4b841e){_0x21b797['uniform1iv'](_0x6042eb['locationId'],_0x4b841e);},this['commitFunc'+'tion'][_d]=function(_0x54f8b0,_0x325def){_0x21b797['uniform1ui'+'v'](_0x54f8b0['locationId'],_0x325def);},this['commitFunc'+'tion'][gd]=this['commitFunc'+'tion'][Bn],this['commitFunc'+'tion'][zn]=function(_0x3bf71f,_0xdf5e1e){_0x21b797['uniform2iv'](_0x3bf71f['locationId'],_0xdf5e1e);},this['commitFunc'+'tion'][Sd]=function(_0x4825c7,_0x388b53){_0x21b797['uniform2ui'+'v'](_0x4825c7['locationId'],_0x388b53);},this['commitFunc'+'tion'][yd]=this['commitFunc'+'tion'][zn],this['commitFunc'+'tion'][Vn]=function(_0x34336d,_0x56ebef){_0x21b797['uniform3iv'](_0x34336d['locationId'],_0x56ebef);},this['commitFunc'+'tion'][vd]=function(_0xca9034,_0x186e51){_0x21b797['uniform3ui'+'v'](_0xca9034['locationId'],_0x186e51);},this['commitFunc'+'tion'][xd]=this['commitFunc'+'tion'][Vn],this['commitFunc'+'tion'][gh]=function(_0xd173c6,_0x40d88b){_0x21b797['uniform4iv'](_0xd173c6['locationId'],_0x40d88b);},this['commitFunc'+'tion'][Rp]=function(_0x221ebe,_0x1446fd){_0x21b797['uniform4ui'+'v'](_0x221ebe['locationId'],_0x1446fd);},this['commitFunc'+'tion'][Op]=this['commitFunc'+'tion'][gh],this['commitFunc'+'tion'][wy]=function(_0x59063f,_0x5f3b96){_0x21b797['uniformMat'+'rix4fv'](_0x59063f['locationId'],!(-0xbb9*0x1+0x57*-0x1e+0x15ec),_0x5f3b96);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new rw(this);}['destroy'](){super['destroy']();const _0x122c00=this['gl'];this['feedback']&&_0x122c00['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0x695*0x1+-0x13d*0x19+-0x258b*-0x1)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0x1f*-0x1d+0x286+-0x608)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0x11a0d7){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new gt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0x11a0d7;}['updateBack'+'bufferForm'+'at'](_0x50a12a){const _0x1ed93a=this['gl'];_0x1ed93a['bindFrameb'+'uffer'](_0x1ed93a['FRAMEBUFFE'+'R'],_0x50a12a);const _0x41b812=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x41b812?Ne:Cr;}['updateBack'+'buffer'](){const _0x21d799=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x21d799)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(-0x1*0x108d+-0x7*0x2bf+0x23c7),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x1220c0,_0x334f06){return new XT();}['createInde'+'xBufferImp'+'l'](_0x382d18){return new qT(_0x382d18);}['createShad'+'erImpl'](_0x25838d){return new JT(_0x25838d);}['createText'+'ureImpl'](_0x1a3485){return new ew(_0x1a3485);}['createRend'+'erTargetIm'+'pl'](_0x44cced){return new sw();}['pushMarker'](_0x345273){if(Ae['browser']&&window['spector']){const _0x1e4f1e=Q['toString']();window['spector']['setMarker'](_0x1e4f1e+'\x20#');}}['popMarker'](){if(Ae['browser']&&window['spector']){const _0x102c50=Q['toString']();_0x102c50['length']?window['spector']['setMarker'](_0x102c50+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0xb0f986=this['gl'];let _0x59500c='highp';if(_0xb0f986['getShaderP'+'recisionFo'+'rmat']){const _0x434bf0=_0xb0f986['getShaderP'+'recisionFo'+'rmat'](_0xb0f986['VERTEX_SHA'+'DER'],_0xb0f986['HIGH_FLOAT']),_0x5d3fa7=_0xb0f986['getShaderP'+'recisionFo'+'rmat'](_0xb0f986['VERTEX_SHA'+'DER'],_0xb0f986['MEDIUM_FLO'+'AT']),_0x45cfc7=_0xb0f986['getShaderP'+'recisionFo'+'rmat'](_0xb0f986['FRAGMENT_S'+'HADER'],_0xb0f986['HIGH_FLOAT']),_0x38ce6b=_0xb0f986['getShaderP'+'recisionFo'+'rmat'](_0xb0f986['FRAGMENT_S'+'HADER'],_0xb0f986['MEDIUM_FLO'+'AT']);if(_0x434bf0&&_0x5d3fa7&&_0x45cfc7&&_0x38ce6b){const _0x2358ae=_0x434bf0['precision']>0x1*-0x1976+0xd44+0xc32&&_0x45cfc7['precision']>0x18bd+0x1*0x1e5c+-0x193*0x23,_0x526832=_0x5d3fa7['precision']>-0x1*-0x20c2+0x26d0+-0x4792&&_0x38ce6b['precision']>-0x3d2+0x7*-0x266+0x149c;_0x2358ae||(_0x526832?(_0x59500c='mediump',w['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x59500c='lowp',w['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x59500c;}['getExtensi'+'on'](){for(let _0x1e6f77=0xd*0x296+-0x8*-0x4d6+0xa*-0x73b;_0x1e6f77<arguments['length'];_0x1e6f77++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x1e6f77])!==-(-0xf4d+0x1bb2+-0x1*0xc64))return this['gl']['getExtensi'+'on'](arguments[_0x1e6f77]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x5c2cff=this['gl'];this['supportedE'+'xtensions']=_0x5c2cff['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(0x1e60+-0x3*-0x69b+-0x3231),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float'),this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc');}['initialize'+'Capabiliti'+'es'](){const _0x25d86d=this['gl'];let _0x317f74;const _0xd7d75c=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0x1b5cc8=_0x25d86d['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0x1b5cc8==null?void(0x12d4+0x781*-0x5+0x12b1):_0x1b5cc8['antialias'])??!(0x1ed2+-0x1*-0x1ba1+-0x3a72*0x1),this['supportsSt'+'encil']=(_0x1b5cc8==null?void(-0xfe6+-0x5*-0x773+-0x1559):_0x1b5cc8['stencil'])??!(0x2*-0x37d+0x1*0x2123+0x7c*-0x36),this['maxTexture'+'Size']=_0x25d86d['getParamet'+'er'](_0x25d86d['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0x25d86d['getParamet'+'er'](_0x25d86d['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0x25d86d['getParamet'+'er'](_0x25d86d['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0x25d86d['getParamet'+'er'](_0x25d86d['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0x25d86d['getParamet'+'er'](_0x25d86d['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0x25d86d['getParamet'+'er'](_0x25d86d['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0x25d86d['getParamet'+'er'](_0x25d86d['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0x25d86d['getParamet'+'er'](_0x25d86d['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0x25d86d['getParamet'+'er'](_0x25d86d['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0x25d86d['getParamet'+'er'](_0x25d86d['MAX_3D_TEX'+'TURE_SIZE']),_0x317f74=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x317f74?_0x25d86d['getParamet'+'er'](_0x317f74['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x317f74?_0x25d86d['getParamet'+'er'](_0x317f74['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0x2cb538=/\bMali-G52+/,_0x3926f7=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0xd7d75c['match'](_0x3926f7))&&!this['unmaskedRe'+'nderer']['match'](_0x2cb538),_0x317f74=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x317f74?_0x25d86d['getParamet'+'er'](_0x317f74['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):-0x4*0x197+0x1149*-0x1+-0x6*-0x3f1;const _0x59128b=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x59128b?_0x25d86d['getParamet'+'er'](_0x25d86d['MAX_SAMPLE'+'S']):0xb*-0x1d7+0x1072+0x3cc,this['maxSamples']=Math['min'](this['maxSamples'],0x99+-0x1125+-0x50*-0x35),this['samples']=_0x59128b&&this['backBuffer'+'Antialias']?this['maxSamples']:-0x22e8+-0x1*-0xfbd+0x332*0x6,this['supportsAr'+'eaLights']=!Ae['android'],this['maxTexture'+'s']<=0xc43*-0x2+0x1*-0xf8f+0x9*0x475&&(this['supportsAr'+'eaLights']=!(-0x1f34+-0x2394+-0x29*-0x1a1)),this['initCapsDe'+'fines']();}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x547748=this['gl'];_0x547748['disable'](_0x547748['BLEND']),_0x547748['blendFunc'](_0x547748['ONE'],_0x547748['ZERO']),_0x547748['blendEquat'+'ion'](_0x547748['FUNC_ADD']),_0x547748['colorMask'](!(0x1*-0x2176+0x1*0x443+0x1d33),!(0x11b*-0x1+-0x22f8+0x2413),!(-0x97e+-0xcbf*0x1+0x163d),!(-0x1*-0x268a+0xe93+-0x351d)),_0x547748['blendColor'](0x1101+0x5*0x327+-0x2*0x1062,-0x240a+-0xe3*-0x23+0x501,-0x742*-0x5+0x80d+0x1*-0x2c57,0x76*0x45+0x2d2+-0x22a0),_0x547748['enable'](_0x547748['CULL_FACE']),this['cullFace']=_0x547748['BACK'],_0x547748['cullFace'](_0x547748['BACK']),_0x547748['enable'](_0x547748['DEPTH_TEST']),_0x547748['depthFunc'](_0x547748['LEQUAL']),_0x547748['depthMask'](!(-0x1dc6*-0x1+0x8*-0x48a+-0x22e*-0x3)),this['stencil']=!(0x1f11+0x3*-0x6b9+-0xae5*0x1),_0x547748['disable'](_0x547748['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Wi,this['stencilRef'+'Front']=this['stencilRef'+'Back']=-0x1647*0x1+0x251*0xd+0x3b*-0x22,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=0x94f*0x3+-0x1dd1+0x2e3,_0x547748['stencilFun'+'c'](_0x547748['ALWAYS'],0x25*0x9f+-0x9b7+-0xd44,0x9b0+0x1427+-0x1cd8),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=xn,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=xn,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=xn,this['stencilWri'+'teMaskFron'+'t']=-0x2374+0x23cc+0xa7,this['stencilWri'+'teMaskBack']=-0x55b*0x5+0x69*0x1d+0xfe1,_0x547748['stencilOp'](_0x547748['KEEP'],_0x547748['KEEP'],_0x547748['KEEP']),_0x547748['stencilMas'+'k'](-0x1091*0x1+-0x20a6+0x1*0x3236),this['alphaToCov'+'erage']=!(-0x604+0x1d1e+0x49*-0x51),this['raster']=!(-0x2b9*0xa+0xe7f+0xcbb*0x1),_0x547748['disable'](_0x547748['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x547748['disable'](_0x547748['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(-0x711*-0x1+0x240d+-0x2b1d),_0x547748['disable'](_0x547748['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=-0x11ec*0x2+0x17*0x33+-0x4*-0x7d1,_0x547748['clearDepth'](-0x1f*-0x127+0x11e9+-0x35a1),this['clearColor']=new ie(-0x136*-0x13+0x1f*0x10d+0x9*-0x62d,-0x26c4+0x1a8f+0x1*0xc35,-0x1826+0xa1f*-0x3+0x3683,0x25b7*-0x1+0xbe1+-0x1*-0x19d6),_0x547748['clearColor'](-0x1236+0x1ef0+-0xcba,0x31a*-0x2+-0x63e+-0x76*-0x1b,0x69*0x36+0xc66+-0x228c,0x139*-0x1f+0x1655+0xf92),this['clearStenc'+'il']=-0x1e11+0x25*0x7f+0x5db*0x2,_0x547748['clearStenc'+'il'](0x1294*-0x2+0x2*0x415+0x1cfe),_0x547748['hint'](_0x547748['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x547748['NICEST']),_0x547748['enable'](_0x547748['SCISSOR_TE'+'ST']),_0x547748['pixelStore'+'i'](_0x547748['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x547748['NONE']),this['unpackFlip'+'Y']=!(0x3b*-0x47+0x1*-0x4e0+0x2*0xa9f),_0x547748['pixelStore'+'i'](_0x547748['UNPACK_FLI'+'P_Y_WEBGL'],!(0x18fe+-0x266+0x1697*-0x1)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(0x1ead*0x1+-0x11*0x235+0x6d9),_0x547748['pixelStore'+'i'](_0x547748['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(0x2287*-0x1+-0xdfd*-0x1+0x148b)),_0x547748['pixelStore'+'i'](_0x547748['UNPACK_ALI'+'GNMENT'],-0x16ab+0x2368+-0xcbc);}['initTextur'+'eUnits'](_0x5bcab8=-0xb16+0x20ab+-0x1585){this['textureUni'+'ts']=[];for(let _0x53e8c6=0x25e9+0x1de9+-0x21e9*0x2;_0x53e8c6<_0x5bcab8;_0x53e8c6++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=0x8*0x382+0x29b*0xd+-0x3def,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x29e9cd of this['shaders'])_0x29e9cd['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0x2c8669 of this['shaders'])_0x2c8669['restoreCon'+'text']();}['setViewpor'+'t'](_0x3def90,_0x26511a,_0x109ab8,_0x514d7a){(this['vx']!==_0x3def90||this['vy']!==_0x26511a||this['vw']!==_0x109ab8||this['vh']!==_0x514d7a)&&(this['gl']['viewport'](_0x3def90,_0x26511a,_0x109ab8,_0x514d7a),this['vx']=_0x3def90,this['vy']=_0x26511a,this['vw']=_0x109ab8,this['vh']=_0x514d7a);}['setScissor'](_0x20e263,_0x571586,_0x59a966,_0x11adb6){(this['sx']!==_0x20e263||this['sy']!==_0x571586||this['sw']!==_0x59a966||this['sh']!==_0x11adb6)&&(this['gl']['scissor'](_0x20e263,_0x571586,_0x59a966,_0x11adb6),this['sx']=_0x20e263,this['sy']=_0x571586,this['sw']=_0x59a966,this['sh']=_0x11adb6);}['setFramebu'+'ffer'](_0x12cf4b){if(this['activeFram'+'ebuffer']!==_0x12cf4b){const _0x21727e=this['gl'];_0x21727e['bindFrameb'+'uffer'](_0x21727e['FRAMEBUFFE'+'R'],_0x12cf4b),this['activeFram'+'ebuffer']=_0x12cf4b;}}['copyRender'+'Target'](_0x17ebdf,_0x588c53,_0x287721,_0x1ba712){var _0x500787,_0x4d80c3;const _0x544be3=this['gl'];if(_0x17ebdf===this['backBuffer']&&(_0x17ebdf=null),_0x287721){if(_0x588c53){if(_0x17ebdf){if(!_0x17ebdf['_colorBuff'+'er']||!_0x588c53['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x1f6*0xc+-0x2e*-0x4f+-0x25b9);if(_0x17ebdf['_colorBuff'+'er']['_format']!==_0x588c53['_colorBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(-0x1d3+-0x3*-0xaaa+-0x1e2a);}}else{if(!_0x17ebdf['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(-0x12e3+-0x1367+0x1*0x264b);}}if(_0x1ba712&&_0x17ebdf&&!_0x17ebdf['_depth']){if(!_0x17ebdf['_depthBuff'+'er']||!_0x588c53['_depthBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x22b5+0xdc3+-0x3077);if(_0x17ebdf['_depthBuff'+'er']['_format']!==_0x588c53['_depthBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(-0xd1*-0x1e+0x104+0x1981*-0x1);}Q['pushGpuMar'+'ker'](this,'COPY-RT');const _0x735c2f=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x588c53,this['updateBegi'+'n']();const _0x22f650=_0x17ebdf?_0x17ebdf['impl']['_glFrameBu'+'ffer']:(_0x500787=this['backBuffer'])==null?void(-0x3*-0x737+0xe39+-0x23de):_0x500787['impl']['_glFrameBu'+'ffer'],_0x397b68=_0x588c53?_0x588c53['impl']['_glFrameBu'+'ffer']:(_0x4d80c3=this['backBuffer'])==null?void(0x345+-0x12d2*0x1+0xf8d):_0x4d80c3['impl']['_glFrameBu'+'ffer'];w['assert'](_0x22f650!==_0x397b68,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x544be3['bindFrameb'+'uffer'](_0x544be3['READ_FRAME'+'BUFFER'],_0x22f650),_0x544be3['bindFrameb'+'uffer'](_0x544be3['DRAW_FRAME'+'BUFFER'],_0x397b68);const _0x41c797=_0x17ebdf?_0x17ebdf['width']:_0x588c53?_0x588c53['width']:this['width'],_0x381b51=_0x17ebdf?_0x17ebdf['height']:_0x588c53?_0x588c53['height']:this['height'];return _0x544be3['blitFrameb'+'uffer'](0x1631+0x91*-0x2e+-0x1*-0x3dd,-0x11fe+0x2398+-0x119a,_0x41c797,_0x381b51,0x1c4b+-0x1a29*0x1+-0xb6*0x3,0x1*0xdb7+-0x1250+0x499,_0x41c797,_0x381b51,(_0x287721?_0x544be3['COLOR_BUFF'+'ER_BIT']:-0x13f1+-0x1*-0x25e5+0x8fa*-0x2)|(_0x1ba712?_0x544be3['DEPTH_BUFF'+'ER_BIT']:-0x1791+-0x1*-0x241+0x1550),_0x544be3['NEAREST']),this['renderTarg'+'et']=_0x735c2f,_0x544be3['bindFrameb'+'uffer'](_0x544be3['FRAMEBUFFE'+'R'],_0x735c2f?_0x735c2f['impl']['_glFrameBu'+'ffer']:null),Q['popGpuMark'+'er'](this),!(-0x3*0xaee+-0xb9e+0x2c68);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0x298c33){const _0x5b311f=_0x298c33['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0x5b311f,w['assert'](_0x5b311f),Q['pushGpuMar'+'ker'](this,'Pass:'+_0x298c33['name']+'\x20RT:'+_0x5b311f['name']),Q['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x1fb6df,height:_0x165169}=_0x5b311f;this['setViewpor'+'t'](-0x288+0x5d5+-0x34d,-0x5a+0x1*-0x156a+0x15c4,_0x1fb6df,_0x165169),this['setScissor'](-0xb88*0x1+0x49*-0x7b+0x2e9b,0x1*0x6df+0x2124+-0x2803,_0x1fb6df,_0x165169);const _0x485368=_0x298c33['colorOps'],_0x402b92=_0x298c33['depthStenc'+'ilOps'];if(_0x485368!=null&&_0x485368['clear']||_0x402b92['clearDepth']||_0x402b92['clearStenc'+'il']){let _0x49e6e2=-0x1545+-0x1b57+-0x2*-0x184e;const _0x280fda={};_0x485368!=null&&_0x485368['clear']&&(_0x49e6e2|=jo,_0x280fda['color']=[_0x485368['clearValue']['r'],_0x485368['clearValue']['g'],_0x485368['clearValue']['b'],_0x485368['clearValue']['a']]),_0x402b92['clearDepth']&&(_0x49e6e2|=Yo,_0x280fda['depth']=_0x402b92['clearDepth'+'Value']),_0x402b92['clearStenc'+'il']&&(_0x49e6e2|=ch,_0x280fda['stencil']=_0x402b92['clearStenc'+'ilValue']),_0x280fda['flags']=_0x49e6e2,this['clear'](_0x280fda);}w['call'](()=>{this['insideRend'+'erPass']&&w['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(0x1018+0xd8a*0x1+-0x2*0xed1),Q['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0x47b7b3){var _0x384d7d;Q['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0x472f0b=this['renderTarg'+'et'],_0x228556=_0x47b7b3['colorArray'+'Ops']['length'];if(_0x472f0b){Da['length']=-0x99e+-0x41c+0xdba;const _0x5ab5b9=this['gl'];for(let _0x5a5dd5=0x16d9+-0x54a+-0x118f;_0x5a5dd5<_0x228556;_0x5a5dd5++){const _0x58b364=_0x47b7b3['colorArray'+'Ops'][_0x5a5dd5];_0x58b364['store']||_0x58b364['resolve']||Da['push'](_0x5ab5b9['COLOR_ATTA'+'CHMENT0']+_0x5a5dd5);}_0x472f0b!==this['backBuffer']&&(_0x47b7b3['depthStenc'+'ilOps']['storeDepth']||Da['push'](_0x5ab5b9['DEPTH_ATTA'+'CHMENT']),_0x47b7b3['depthStenc'+'ilOps']['storeStenc'+'il']||Da['push'](_0x5ab5b9['STENCIL_AT'+'TACHMENT'])),Da['length']>-0x891+0xf4d+-0x6bc*0x1&&_0x47b7b3['fullSizeCl'+'earRect']&&_0x5ab5b9['invalidate'+'Framebuffe'+'r'](_0x5ab5b9['DRAW_FRAME'+'BUFFER'],Da),_0x228556&&((_0x384d7d=_0x47b7b3['colorOps'])!=null&&_0x384d7d['resolve'])&&_0x47b7b3['samples']>-0xb*-0x1ca+0x1e8e+-0x491*0xb&&_0x472f0b['autoResolv'+'e']&&_0x472f0b['resolve'](!(0x48f+0x1577+-0x1a06*0x1),!(-0x7ad+0x174b+-0x7*0x23b)),_0x472f0b['depthBuffe'+'r']&&_0x47b7b3['depthStenc'+'ilOps']['resolveDep'+'th']&&_0x47b7b3['samples']>-0x106f+0x1e85*-0x1+-0x1*-0x2ef5&&_0x472f0b['autoResolv'+'e']&&_0x472f0b['resolve'](!(-0x3*0x5cb+-0x1014+0x2176),!(-0x22a*0x2+-0x1349+0x179d));for(let _0x85c0a0=-0x23e5+0x2cd+0x2118;_0x85c0a0<_0x228556;_0x85c0a0++)if(_0x47b7b3['colorArray'+'Ops'][_0x85c0a0]['genMipmaps']){const _0x483722=_0x472f0b['_colorBuff'+'ers'][_0x85c0a0];_0x483722&&_0x483722['impl']['_glTexture']&&_0x483722['mipmaps']&&(Q['pushGpuMar'+'ker'](this,'MIPS'+_0x85c0a0),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0xf92*0x2+-0x6e7*0x5+0x41a8)),this['bindTextur'+'e'](_0x483722),this['gl']['generateMi'+'pmap'](_0x483722['impl']['_glTarget']),Q['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(0x12ae+-0x1f0*-0xe+-0x2dcd),Q['popGpuMark'+'er'](this),Q['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x2d5a95){this['_defaultFr'+'amebuffer']!==_0x2d5a95&&(this['_defaultFr'+'amebuffer']=_0x2d5a95,this['_defaultFr'+'amebufferC'+'hanged']=!(0x2*0xa4a+0xc1d+-0x20b1));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(Q['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x30ad5a=0x20be+0x365+-0x1*0x2423;_0x30ad5a<this['textureUni'+'ts']['length'];++_0x30ad5a)for(let _0x1201dd=0x1e7f+-0x10ec+-0xd93;_0x1201dd<0xe49+-0x7ad+-0x699;++_0x1201dd)this['textureUni'+'ts'][_0x30ad5a][_0x1201dd]=null;}const _0x2ebdb6=this['renderTarg'+'et']??this['backBuffer'];w['assert'](_0x2ebdb6);const _0x558621=_0x2ebdb6['impl'];_0x558621['initialize'+'d']||this['initRender'+'Target'](_0x2ebdb6),this['setFramebu'+'ffer'](_0x558621['_glFrameBu'+'ffer']),Q['popGpuMark'+'er'](this);}['updateEnd'](){Q['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x3f947b=this['renderTarg'+'et'];if(_0x3f947b&&_0x3f947b!==this['backBuffer']){_0x3f947b['_samples']>0x22d2+0x8*-0xf6+-0x1b21&&_0x3f947b['autoResolv'+'e']&&_0x3f947b['resolve']();const _0x13ba57=_0x3f947b['_colorBuff'+'er'];_0x13ba57&&_0x13ba57['impl']['_glTexture']&&_0x13ba57['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x1e27+-0x1282*-0x1+0x8*-0x615)),this['bindTextur'+'e'](_0x13ba57),this['gl']['generateMi'+'pmap'](_0x13ba57['impl']['_glTarget']));}Q['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x287980){if(this['unpackFlip'+'Y']!==_0x287980){this['unpackFlip'+'Y']=_0x287980;const _0x4bffee=this['gl'];_0x4bffee['pixelStore'+'i'](_0x4bffee['UNPACK_FLI'+'P_Y_WEBGL'],_0x287980);}}['setUnpackP'+'remultiply'+'Alpha'](_0x5bc40c){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x5bc40c){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x5bc40c;const _0x49e0d6=this['gl'];_0x49e0d6['pixelStore'+'i'](_0x49e0d6['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x5bc40c);}}['activeText'+'ure'](_0x293194){this['textureUni'+'t']!==_0x293194&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x293194),this['textureUni'+'t']=_0x293194);}['bindTextur'+'e'](_0x2c5cde){const _0x3efa87=_0x2c5cde['impl'],_0x3aae78=_0x3efa87['_glTarget'],_0x37670d=_0x3efa87['_glTexture'],_0x3ff247=this['textureUni'+'t'],_0x262ac7=this['targetToSl'+'ot'][_0x3aae78];this['textureUni'+'ts'][_0x3ff247][_0x262ac7]!==_0x37670d&&(this['gl']['bindTextur'+'e'](_0x3aae78,_0x37670d),this['textureUni'+'ts'][_0x3ff247][_0x262ac7]=_0x37670d);}['bindTextur'+'eOnUnit'](_0x4fb051,_0x4856a9){const _0x3ce1af=_0x4fb051['impl'],_0x1ef739=_0x3ce1af['_glTarget'],_0x54f98e=_0x3ce1af['_glTexture'],_0x2bfbb3=this['targetToSl'+'ot'][_0x1ef739];this['textureUni'+'ts'][_0x4856a9][_0x2bfbb3]!==_0x54f98e&&(this['activeText'+'ure'](_0x4856a9),this['gl']['bindTextur'+'e'](_0x1ef739,_0x54f98e),this['textureUni'+'ts'][_0x4856a9][_0x2bfbb3]=_0x54f98e);}['setTexture'+'Parameters'](_0x4c5c8d){const _0x124f79=this['gl'],_0x311d36=_0x4c5c8d['impl']['dirtyParam'+'eterFlags'],_0xdbadab=_0x4c5c8d['impl']['_glTarget'];if(_0x311d36&Ay){let _0x388a2a=_0x4c5c8d['_minFilter'];(!_0x4c5c8d['_mipmaps']||_0x4c5c8d['_compresse'+'d']&&_0x4c5c8d['_levels']['length']===0x21f+-0x5cd+0x3af)&&(_0x388a2a===Kh||_0x388a2a===Zh?_0x388a2a=Te:(_0x388a2a===Qh||_0x388a2a===ma)&&(_0x388a2a=vt)),_0x124f79['texParamet'+'eri'](_0xdbadab,_0x124f79['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x388a2a]);}if(_0x311d36&Cy&&_0x124f79['texParamet'+'eri'](_0xdbadab,_0x124f79['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x4c5c8d['_magFilter']]),_0x311d36&Py&&_0x124f79['texParamet'+'eri'](_0xdbadab,_0x124f79['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x4c5c8d['_addressU']]),_0x311d36&My&&_0x124f79['texParamet'+'eri'](_0xdbadab,_0x124f79['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x4c5c8d['_addressV']]),_0x311d36&Dy&&_0x124f79['texParamet'+'eri'](_0xdbadab,_0x124f79['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x4c5c8d['_addressW']]),_0x311d36&Iy&&_0x124f79['texParamet'+'eri'](_0xdbadab,_0x124f79['TEXTURE_CO'+'MPARE_MODE'],_0x4c5c8d['_compareOn'+'Read']?_0x124f79['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x124f79['NONE']),_0x311d36&Ly&&_0x124f79['texParamet'+'eri'](_0xdbadab,_0x124f79['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x4c5c8d['_compareFu'+'nc']]),_0x311d36&Ry){const _0x10ff98=this['extTexture'+'FilterAnis'+'otropic'];_0x10ff98&&_0x124f79['texParamet'+'erf'](_0xdbadab,_0x10ff98['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],Y['clamp'](Math['round'](_0x4c5c8d['_anisotrop'+'y']),-0xd53+-0x1047+0xb*0x2b1,this['maxAnisotr'+'opy']));}}['setTexture'](_0x32b867,_0x535350){const _0x46bd6d=_0x32b867['impl'];_0x46bd6d['_glTexture']||_0x46bd6d['initialize'](this,_0x32b867),_0x46bd6d['dirtyParam'+'eterFlags']>0xb*0x22d+0x1*-0x1b97+-0xc*-0x4e||_0x32b867['_needsUplo'+'ad']||_0x32b867['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x535350),this['bindTextur'+'e'](_0x32b867),_0x46bd6d['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0x32b867),_0x46bd6d['dirtyParam'+'eterFlags']=-0x9b1+0x3e1*-0x9+0x2c9a),(_0x32b867['_needsUplo'+'ad']||_0x32b867['_needsMipm'+'apsUpload'])&&(_0x46bd6d['upload'](this,_0x32b867),_0x32b867['_needsUplo'+'ad']=!(0xcc*-0x9+0x1a91+-0x1364),_0x32b867['_needsMipm'+'apsUpload']=!(-0x5ab*0x1+-0xa7d+0x7*0x24f))):this['bindTextur'+'eOnUnit'](_0x32b867,_0x535350);}['createVert'+'exArray'](_0xce8452){let _0x3c133f,_0x5adeca;const _0x251c0a=_0xce8452['length']>0x1d0b+-0x1*-0x41c+-0x2126;if(_0x251c0a){_0x3c133f='';for(let _0x22d1e1=0x18d1*0x1+0x239a+-0x3c6b;_0x22d1e1<_0xce8452['length'];_0x22d1e1++){const _0x2406ea=_0xce8452[_0x22d1e1];_0x3c133f+=_0x2406ea['id']+_0x2406ea['format']['renderingH'+'ash'];}_0x5adeca=this['_vaoMap']['get'](_0x3c133f);}if(!_0x5adeca){const _0x258f59=this['gl'];_0x5adeca=_0x258f59['createVert'+'exArray'](),_0x258f59['bindVertex'+'Array'](_0x5adeca),_0x258f59['bindBuffer'](_0x258f59['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x11a181=!(0x19a4+0x82f+-0x21d2);for(let _0x5061d4=0x18b6+0x41c*0x4+-0xe5*0x2e;_0x5061d4<_0xce8452['length'];_0x5061d4++){const _0x42bd72=_0xce8452[_0x5061d4];_0x258f59['bindBuffer'](_0x258f59['ARRAY_BUFF'+'ER'],_0x42bd72['impl']['bufferId']);const _0x5c15fe=_0x42bd72['format']['elements'];for(let _0x36b207=0x6*0x3d+0x5e5*0x5+0x9*-0x36f;_0x36b207<_0x5c15fe['length'];_0x36b207++){const _0x9dcd1=_0x5c15fe[_0x36b207],_0xb6d7c1=Le[_0x9dcd1['name']];_0xb6d7c1===0x29b+0x883+-0xb1e&&(_0x11a181=!(-0x23df+0x1a*-0x97+0x3335)),_0x9dcd1['asInt']?_0x258f59['vertexAttr'+'ibIPointer'](_0xb6d7c1,_0x9dcd1['numCompone'+'nts'],this['glType'][_0x9dcd1['dataType']],_0x9dcd1['stride'],_0x9dcd1['offset']):_0x258f59['vertexAttr'+'ibPointer'](_0xb6d7c1,_0x9dcd1['numCompone'+'nts'],this['glType'][_0x9dcd1['dataType']],_0x9dcd1['normalize'],_0x9dcd1['stride'],_0x9dcd1['offset']),_0x258f59['enableVert'+'exAttribAr'+'ray'](_0xb6d7c1),_0x42bd72['format']['instancing']&&_0x258f59['vertexAttr'+'ibDivisor'](_0xb6d7c1,0x1fe2+-0xd*0x2f1+0x65c);}}_0x258f59['bindVertex'+'Array'](null),_0x258f59['bindBuffer'](_0x258f59['ARRAY_BUFF'+'ER'],null),_0x251c0a&&this['_vaoMap']['set'](_0x3c133f,_0x5adeca),_0x11a181||w['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x5adeca;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](_0x25709f){const _0x182947=this['gl'];let _0x575140;if(this['vertexBuff'+'ers']['length']===-0x3c9*0x6+-0x7*-0x355+0x4*-0x27){const _0x206348=this['vertexBuff'+'ers'][0x85b*-0x2+0x41f*0x7+0xef*-0xd];w['assert'](_0x206348['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x206348['impl']['vao']||(_0x206348['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x575140=_0x206348['impl']['vao'];}else _0x575140=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x575140&&(this['boundVao']=_0x575140,_0x182947['bindVertex'+'Array'](_0x575140));const _0x41ad6d=_0x25709f?_0x25709f['impl']['bufferId']:null;_0x182947['bindBuffer'](_0x182947['ELEMENT_AR'+'RAY_BUFFER'],_0x41ad6d);}['draw'](_0x194d3b,_0x11daad,_0x194d32,_0x8ddeee,_0xbac4a5=!(-0x1e8a*-0x1+0x2c*-0xb+-0x1ca6),_0x11ba74=!(0x2658+0x225b+-0x48b3*0x1)){const _0x5eaa7d=this['shader'];if(_0x5eaa7d&&(this['activateSh'+'ader'](),this['shaderVali'+'d'])){const _0x46d00c=this['gl'];_0xbac4a5&&(w['call'](()=>{var _0x20dc32,_0x2625ea;return this['validateAt'+'tributes'](this['shader'],(_0x20dc32=this['vertexBuff'+'ers'][-0x1*-0x623+0x2058+-0x267b])==null?void(-0xbe9+-0x1373*0x1+-0xa74*-0x3):_0x20dc32['format'],(_0x2625ea=this['vertexBuff'+'ers'][-0x1*0x1bb6+0x1*-0x239+-0x1df0*-0x1])==null?void(0xd*-0x269+0x15d3+-0x4c1*-0x2):_0x2625ea['format']);}),this['setBuffers'](_0x11daad));let _0x203948=-0x2*0xad2+-0x1d10+0x32b4;const _0x317079=_0x5eaa7d['impl']['samplers'];for(let _0x564899=-0x1*-0x1b1d+-0x1*-0xca3+-0x9f*0x40,_0x270509=_0x317079['length'];_0x564899<_0x270509;_0x564899++){const _0x2313a2=_0x317079[_0x564899];let _0x288bab=_0x2313a2['scopeId']['value'];if(!_0x288bab){const _0x2bcb37=_0x2313a2['scopeId']['name'];w['assert'](_0x2bcb37!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),w['assert'](_0x2bcb37!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x2bcb37==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x288bab=fa(this,'white')),_0x2bcb37==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x288bab=fa(this,'pink')),_0x288bab||(w['errorOnce']('Shader\x20'+_0x5eaa7d['name']+'\x20requires\x20'+_0x2bcb37+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+Q['toString']()+']',_0x5eaa7d),_0x288bab=fa(this,'pink'));}if(_0x288bab instanceof _e){const _0x386fcf=_0x288bab;this['setTexture'](_0x386fcf,_0x203948),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<0xeea*-0x1+-0x66e+0x1*0x155a&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x386fcf?w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x386fcf}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x386fcf&&w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x386fcf})),_0x2313a2['slot']!==_0x203948&&(_0x46d00c['uniform1i'](_0x2313a2['locationId'],_0x203948),_0x2313a2['slot']=_0x203948),_0x203948++;}else{_0x2313a2['array']['length']=-0x1*0x1b34+-0x1ff8+-0x4*-0xecb;const _0x52e319=_0x288bab['length'];for(let _0x48c1df=-0x1*-0x33b+-0x551*0x4+-0x51*-0x39;_0x48c1df<_0x52e319;_0x48c1df++){const _0xc1da3a=_0x288bab[_0x48c1df];this['setTexture'](_0xc1da3a,_0x203948),_0x2313a2['array'][_0x48c1df]=_0x203948,_0x203948++;}_0x46d00c['uniform1iv'](_0x2313a2['locationId'],_0x2313a2['array']);}}const _0x541da1=_0x5eaa7d['impl']['uniforms'];for(let _0x18fa50=0x16bd+-0xf25*-0x1+-0x25e2,_0x4eccdf=_0x541da1['length'];_0x18fa50<_0x4eccdf;_0x18fa50++){const _0x4836d0=_0x541da1[_0x18fa50],_0x15832d=_0x4836d0['scopeId'],_0x474992=_0x4836d0['version'],_0x1aedb9=_0x15832d['versionObj'+'ect']['version'];if(_0x474992['globalId']!==_0x1aedb9['globalId']||_0x474992['revision']!==_0x1aedb9['revision']){_0x474992['globalId']=_0x1aedb9['globalId'],_0x474992['revision']=_0x1aedb9['revision'];const _0x143880=_0x15832d['value'];_0x143880!=null?this['commitFunc'+'tion'][_0x4836d0['dataType']](_0x4836d0,_0x143880):w['warnOnce']('Shader\x20['+_0x5eaa7d['label']+(']\x20requires'+'\x20uniform\x20[')+_0x4836d0['scopeId']['name']+(']\x20which\x20ha'+'s\x20not\x20been'+'\x20set,\x20whil'+'e\x20renderin'+'g\x20[')+Q['toString']()+']');}}this['transformF'+'eedbackBuf'+'fer']&&(_0x46d00c['bindBuffer'+'Base'](_0x46d00c['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],-0x5a1+-0x2f*0xbc+0x1*0x2825,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x46d00c['beginTrans'+'formFeedba'+'ck'](_0x46d00c['POINTS']));const _0x351abf=this['glPrimitiv'+'e'][_0x194d3b['type']],_0x743490=_0x194d3b['count'];if(_0x194d3b['indexed']){w['assert'](_0x11daad['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x505808=_0x11daad['impl']['glFormat'],_0x5d9681=_0x194d3b['base']*_0x11daad['bytesPerIn'+'dex'];_0x194d32>0x2352+0x1*-0x2083+0x1*-0x2cf?_0x46d00c['drawElemen'+'tsInstance'+'d'](_0x351abf,_0x743490,_0x505808,_0x5d9681,_0x194d32):_0x46d00c['drawElemen'+'ts'](_0x351abf,_0x743490,_0x505808,_0x5d9681);}else{const _0x1e4a06=_0x194d3b['base'];_0x194d32>0x26bb+0x6*0x66e+0x2dd*-0x1b?_0x46d00c['drawArrays'+'Instanced'](_0x351abf,_0x1e4a06,_0x743490,_0x194d32):_0x46d00c['drawArrays'](_0x351abf,_0x1e4a06,_0x743490);}this['transformF'+'eedbackBuf'+'fer']&&(_0x46d00c['endTransfo'+'rmFeedback'](),_0x46d00c['bindBuffer'+'Base'](_0x46d00c['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],-0xe5*0x6+0x1575+-0x1017,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x194d3b['type']]+=_0x194d3b['count']*(_0x194d32>-0x6*-0xef+-0x5*-0x1a3+-0xdc8?_0x194d32:0x4d*-0x7f+0x2*-0xa27+0x3a82);}_0x11ba74&&this['clearVerte'+'xBuffer']();}['clear'](_0x5e6efe){const _0x89e0e2=this['defaultCle'+'arOptions'];_0x5e6efe=_0x5e6efe||_0x89e0e2;const _0x514a24=_0x5e6efe['flags']??_0x89e0e2['flags'];if(_0x514a24!==0x1903+-0x1ca*0x13+0x8fb){const _0x38d3ac=this['gl'];if(_0x514a24&jo){const _0x4347ea=_0x5e6efe['color']??_0x89e0e2['color'],_0x6c3c76=_0x4347ea[0x21e1+0x4d7*0x7+-0x43c2],_0x41ca8a=_0x4347ea[0xd1*0x13+-0x2f*0x81+0x82d],_0x3c6580=_0x4347ea[-0xc2+-0x195b+-0x9*-0x2e7],_0x424b16=_0x4347ea[-0x4*0x1f3+0x81f+-0x50],_0x3ef12b=this['clearColor'];(_0x6c3c76!==_0x3ef12b['r']||_0x41ca8a!==_0x3ef12b['g']||_0x3c6580!==_0x3ef12b['b']||_0x424b16!==_0x3ef12b['a'])&&(this['gl']['clearColor'](_0x6c3c76,_0x41ca8a,_0x3c6580,_0x424b16),this['clearColor']['set'](_0x6c3c76,_0x41ca8a,_0x3c6580,_0x424b16)),this['setBlendSt'+'ate'](pt['NOBLEND']);}if(_0x514a24&Yo){const _0x5d91e0=_0x5e6efe['depth']??_0x89e0e2['depth'];_0x5d91e0!==this['clearDepth']&&(this['gl']['clearDepth'](_0x5d91e0),this['clearDepth']=_0x5d91e0),this['setDepthSt'+'ate'](Yt['WRITEDEPTH']);}if(_0x514a24&ch){const _0x6ef9df=_0x5e6efe['stencil']??_0x89e0e2['stencil'];_0x6ef9df!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x6ef9df),this['clearStenc'+'il']=_0x6ef9df),_0x38d3ac['stencilMas'+'k'](0x121f+-0x5d0+-0xb50),this['stencilWri'+'teMaskFron'+'t']=0x9b9+-0x1e1*-0x2+-0xc7c,this['stencilWri'+'teMaskBack']=0x181a+0xd27+-0x2442;}_0x38d3ac['clear'](this['glClearFla'+'g'][_0x514a24]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x1e0d51,_0x16acc5,_0x5a18a3,_0x4f01af,_0x3e0c55){const _0x4d6352=this['gl'];_0x4d6352['readPixels'](_0x1e0d51,_0x16acc5,_0x5a18a3,_0x4f01af,_0x4d6352['RGBA'],_0x4d6352['UNSIGNED_B'+'YTE'],_0x3e0c55);}['clientWait'+'Async'](_0x2b7023,_0x8add55){const _0x232e3e=this['gl'],_0x21b30e=_0x232e3e['fenceSync'](_0x232e3e['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],0x8fb+0x65a+-0x5*0x311);return this['submit'](),new Promise((_0x10f389,_0x10d393)=>{function _0x29c773(){const _0x37f02d=_0x232e3e['clientWait'+'Sync'](_0x21b30e,_0x2b7023,-0xae5*-0x1+-0xd2c+0xb*0x35);_0x37f02d===_0x232e3e['TIMEOUT_EX'+'PIRED']?setTimeout(_0x29c773,_0x8add55):(_0x232e3e['deleteSync'](_0x21b30e),_0x37f02d===_0x232e3e['WAIT_FAILE'+'D']?_0x10d393(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed')):_0x10f389());}_0x29c773();});}async['readPixels'+'Async'](_0x13cadb,_0x3def92,_0x55a450,_0x5c2f47,_0x1cb0f8){var _0xbbf7a5;const _0x251755=this['gl'],_0x506b5b=(_0xbbf7a5=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(-0x19*-0x61+-0x1e08+-0x148f*-0x1):_0xbbf7a5['impl'],_0x28a3a2=(_0x506b5b==null?void(0x1*0x1e38+-0x3*0x36f+-0x1*0x13eb):_0x506b5b['_glFormat'])??_0x251755['RGBA'],_0x494fa0=(_0x506b5b==null?void(0x1405+0x5*0x4d5+-0x1617*0x2):_0x506b5b['_glPixelTy'+'pe'])??_0x251755['UNSIGNED_B'+'YTE'],_0xe3c70a=_0x251755['createBuff'+'er']();return _0x251755['bindBuffer'](_0x251755['PIXEL_PACK'+'_BUFFER'],_0xe3c70a),_0x251755['bufferData'](_0x251755['PIXEL_PACK'+'_BUFFER'],_0x1cb0f8['byteLength'],_0x251755['STREAM_REA'+'D']),_0x251755['readPixels'](_0x13cadb,_0x3def92,_0x55a450,_0x5c2f47,_0x28a3a2,_0x494fa0,-0x4fe+0x1*0x1279+-0xd7b),_0x251755['bindBuffer'](_0x251755['PIXEL_PACK'+'_BUFFER'],null),await this['clientWait'+'Async'](0x1*0xca6+-0xf43+0x29d,0x26ef+0x3*0xda+0xdcf*-0x3),_0x251755['bindBuffer'](_0x251755['PIXEL_PACK'+'_BUFFER'],_0xe3c70a),_0x251755['getBufferS'+'ubData'](_0x251755['PIXEL_PACK'+'_BUFFER'],0x22*0xda+0x8*-0x359+0x1*-0x22c,_0x1cb0f8),_0x251755['bindBuffer'](_0x251755['PIXEL_PACK'+'_BUFFER'],null),_0x251755['deleteBuff'+'er'](_0xe3c70a),_0x1cb0f8;}['readTextur'+'eAsync'](_0x3ac7fa,_0x118944,_0x56a51c,_0x1d590b,_0x57d577,_0x3612bb){const _0x2ee6b7=_0x3612bb['face']??-0x29*-0x2d+-0x225*0xf+-0x9*-0x2c6,_0x44d34b=_0x3612bb['renderTarg'+'et']??new gt({'colorBuffer':_0x3ac7fa,'depth':!(0x6c0+0x2203+-0x3*0xd96),'face':_0x2ee6b7});w['assert'](_0x44d34b['colorBuffe'+'r']===_0x3ac7fa);const _0x574fcb=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0x1d590b,_0x57d577,0x1ab0+-0xb*0x309+0x6b4,_0x3ac7fa['_format'])),_0x4c6efa=_0x3612bb['data']??new(my(_0x3ac7fa['_format']))(_0x574fcb);return this['setRenderT'+'arget'](_0x44d34b),this['initRender'+'Target'](_0x44d34b),new Promise((_0x21c845,_0x2505fe)=>{this['readPixels'+'Async'](_0x118944,_0x56a51c,_0x1d590b,_0x57d577,_0x4c6efa)['then'](_0x41814e=>{_0x3612bb['renderTarg'+'et']||_0x44d34b['destroy'](),_0x21c845(_0x41814e);})['catch'](_0x2505fe);});}async['writeTextu'+'reAsync'](_0x644a29,_0x26933f,_0x3c8be8,_0x59e052,_0x360d73,_0x9cf28c){const _0x39f1c8=this['gl'],_0x50b075=_0x644a29['impl'],_0x343ba1=(_0x50b075==null?void(-0x2029*0x1+-0x445+0x246e*0x1):_0x50b075['_glFormat'])??_0x39f1c8['RGBA'],_0x645559=(_0x50b075==null?void(-0x1fe9+0x1*0x1b79+0x470):_0x50b075['_glPixelTy'+'pe'])??_0x39f1c8['UNSIGNED_B'+'YTE'],_0x233fda=_0x39f1c8['createBuff'+'er']();_0x39f1c8['bindBuffer'](_0x39f1c8['PIXEL_UNPA'+'CK_BUFFER'],_0x233fda),_0x39f1c8['bufferData'](_0x39f1c8['PIXEL_UNPA'+'CK_BUFFER'],_0x9cf28c,_0x39f1c8['STREAM_DRA'+'W']),_0x39f1c8['bindTextur'+'e'](_0x39f1c8['TEXTURE_2D'],_0x50b075['_glTexture']),_0x39f1c8['texSubImag'+'e2D'](_0x39f1c8['TEXTURE_2D'],-0x574+0x43*-0x5d+0x1dcb,_0x26933f,_0x3c8be8,_0x59e052,_0x360d73,_0x343ba1,_0x645559,-0x158+-0x1*0x48b+0x5e3),_0x39f1c8['bindBuffer'](_0x39f1c8['PIXEL_UNPA'+'CK_BUFFER'],null),_0x644a29['_needsUplo'+'ad']=!(0x2*-0x1a+-0x2*0x8ac+0x118d*0x1),_0x644a29['_mipmapsUp'+'loaded']=!(-0x16e1*-0x1+0xc7e+0x12*-0x1f7),await this['clientWait'+'Async'](-0x29*-0x8a+0x1*-0x1d47+0x72d,0x8ad+-0x335*0x9+0x1440);}['setAlphaTo'+'Coverage'](_0x21f4f7){this['alphaToCov'+'erage']!==_0x21f4f7&&(this['alphaToCov'+'erage']=_0x21f4f7,_0x21f4f7?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0xac1c17){if(this['transformF'+'eedbackBuf'+'fer']!==_0xac1c17){this['transformF'+'eedbackBuf'+'fer']=_0xac1c17;const _0x3f8792=this['gl'];_0xac1c17?(this['feedback']||(this['feedback']=_0x3f8792['createTran'+'sformFeedb'+'ack']()),_0x3f8792['bindTransf'+'ormFeedbac'+'k'](_0x3f8792['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x3f8792['bindTransf'+'ormFeedbac'+'k'](_0x3f8792['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x446aea){this['raster']!==_0x446aea&&(this['raster']=_0x446aea,_0x446aea?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x107185){if(this['stencil']!==_0x107185){const _0x338427=this['gl'];_0x107185?_0x338427['enable'](_0x338427['STENCIL_TE'+'ST']):_0x338427['disable'](_0x338427['STENCIL_TE'+'ST']),this['stencil']=_0x107185;}}['setStencil'+'Func'](_0x459d27,_0x46fd37,_0x4a572e){(this['stencilFun'+'cFront']!==_0x459d27||this['stencilRef'+'Front']!==_0x46fd37||this['stencilMas'+'kFront']!==_0x4a572e||this['stencilFun'+'cBack']!==_0x459d27||this['stencilRef'+'Back']!==_0x46fd37||this['stencilMas'+'kBack']!==_0x4a572e)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x459d27],_0x46fd37,_0x4a572e),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x459d27,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x46fd37,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x4a572e);}['setStencil'+'FuncFront'](_0x29900c,_0x471de6,_0x5ee06f){if(this['stencilFun'+'cFront']!==_0x29900c||this['stencilRef'+'Front']!==_0x471de6||this['stencilMas'+'kFront']!==_0x5ee06f){const _0x49067d=this['gl'];_0x49067d['stencilFun'+'cSeparate'](_0x49067d['FRONT'],this['glComparis'+'on'][_0x29900c],_0x471de6,_0x5ee06f),this['stencilFun'+'cFront']=_0x29900c,this['stencilRef'+'Front']=_0x471de6,this['stencilMas'+'kFront']=_0x5ee06f;}}['setStencil'+'FuncBack'](_0x24b34b,_0x4c0e03,_0x6db5c7){if(this['stencilFun'+'cBack']!==_0x24b34b||this['stencilRef'+'Back']!==_0x4c0e03||this['stencilMas'+'kBack']!==_0x6db5c7){const _0x312208=this['gl'];_0x312208['stencilFun'+'cSeparate'](_0x312208['BACK'],this['glComparis'+'on'][_0x24b34b],_0x4c0e03,_0x6db5c7),this['stencilFun'+'cBack']=_0x24b34b,this['stencilRef'+'Back']=_0x4c0e03,this['stencilMas'+'kBack']=_0x6db5c7;}}['setStencil'+'Operation'](_0x103101,_0x5e2ab5,_0x2411df,_0x2d976d){(this['stencilFai'+'lFront']!==_0x103101||this['stencilZfa'+'ilFront']!==_0x5e2ab5||this['stencilZpa'+'ssFront']!==_0x2411df||this['stencilFai'+'lBack']!==_0x103101||this['stencilZfa'+'ilBack']!==_0x5e2ab5||this['stencilZpa'+'ssBack']!==_0x2411df)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x103101],this['glStencilO'+'p'][_0x5e2ab5],this['glStencilO'+'p'][_0x2411df]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x103101,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x5e2ab5,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x2411df),(this['stencilWri'+'teMaskFron'+'t']!==_0x2d976d||this['stencilWri'+'teMaskBack']!==_0x2d976d)&&(this['gl']['stencilMas'+'k'](_0x2d976d),this['stencilWri'+'teMaskFron'+'t']=_0x2d976d,this['stencilWri'+'teMaskBack']=_0x2d976d);}['setStencil'+'OperationF'+'ront'](_0x1299ea,_0x1aabb0,_0x2fecae,_0x4e4b41){(this['stencilFai'+'lFront']!==_0x1299ea||this['stencilZfa'+'ilFront']!==_0x1aabb0||this['stencilZpa'+'ssFront']!==_0x2fecae)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0x1299ea],this['glStencilO'+'p'][_0x1aabb0],this['glStencilO'+'p'][_0x2fecae]),this['stencilFai'+'lFront']=_0x1299ea,this['stencilZfa'+'ilFront']=_0x1aabb0,this['stencilZpa'+'ssFront']=_0x2fecae),this['stencilWri'+'teMaskFron'+'t']!==_0x4e4b41&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x4e4b41),this['stencilWri'+'teMaskFron'+'t']=_0x4e4b41);}['setStencil'+'OperationB'+'ack'](_0x1e870b,_0x261063,_0x60655c,_0x43c339){(this['stencilFai'+'lBack']!==_0x1e870b||this['stencilZfa'+'ilBack']!==_0x261063||this['stencilZpa'+'ssBack']!==_0x60655c)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x1e870b],this['glStencilO'+'p'][_0x261063],this['glStencilO'+'p'][_0x60655c]),this['stencilFai'+'lBack']=_0x1e870b,this['stencilZfa'+'ilBack']=_0x261063,this['stencilZpa'+'ssBack']=_0x60655c),this['stencilWri'+'teMaskBack']!==_0x43c339&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x43c339),this['stencilWri'+'teMaskBack']=_0x43c339);}['setBlendSt'+'ate'](_0x21a0a9){const _0x30a477=this['blendState'];if(!_0x30a477['equals'](_0x21a0a9)){const _0x1e5074=this['gl'],{blend:_0x2b15af,colorOp:_0x11cfd1,alphaOp:_0x4de047,colorSrcFactor:_0x14b663,colorDstFactor:_0x51b300,alphaSrcFactor:_0x523942,alphaDstFactor:_0x567178}=_0x21a0a9;if(_0x30a477['blend']!==_0x2b15af&&(_0x2b15af?_0x1e5074['enable'](_0x1e5074['BLEND']):_0x1e5074['disable'](_0x1e5074['BLEND'])),_0x30a477['colorOp']!==_0x11cfd1||_0x30a477['alphaOp']!==_0x4de047){const _0x465310=this['glBlendEqu'+'ation'];_0x1e5074['blendEquat'+'ionSeparat'+'e'](_0x465310[_0x11cfd1],_0x465310[_0x4de047]);}(_0x30a477['colorSrcFa'+'ctor']!==_0x14b663||_0x30a477['colorDstFa'+'ctor']!==_0x51b300||_0x30a477['alphaSrcFa'+'ctor']!==_0x523942||_0x30a477['alphaDstFa'+'ctor']!==_0x567178)&&_0x1e5074['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x14b663],this['glBlendFun'+'ctionColor'][_0x51b300],this['glBlendFun'+'ctionAlpha'][_0x523942],this['glBlendFun'+'ctionAlpha'][_0x567178]),_0x30a477['allWrite']!==_0x21a0a9['allWrite']&&this['gl']['colorMask'](_0x21a0a9['redWrite'],_0x21a0a9['greenWrite'],_0x21a0a9['blueWrite'],_0x21a0a9['alphaWrite']),_0x30a477['copy'](_0x21a0a9);}}['setBlendCo'+'lor'](_0x418413,_0x529cd9,_0x2113fb,_0x214eb1){const _0x4c1b92=this['blendColor'];(_0x418413!==_0x4c1b92['r']||_0x529cd9!==_0x4c1b92['g']||_0x2113fb!==_0x4c1b92['b']||_0x214eb1!==_0x4c1b92['a'])&&(this['gl']['blendColor'](_0x418413,_0x529cd9,_0x2113fb,_0x214eb1),_0x4c1b92['set'](_0x418413,_0x529cd9,_0x2113fb,_0x214eb1));}['setStencil'+'State'](_0x231dd3,_0xb1b2fa){_0x231dd3||_0xb1b2fa?(this['setStencil'+'Test'](!(0x1975*-0x1+0x1*-0x10ee+-0xe21*-0x3)),_0x231dd3===_0xb1b2fa?(this['setStencil'+'Func'](_0x231dd3['func'],_0x231dd3['ref'],_0x231dd3['readMask']),this['setStencil'+'Operation'](_0x231dd3['fail'],_0x231dd3['zfail'],_0x231dd3['zpass'],_0x231dd3['writeMask'])):(_0x231dd3??(_0x231dd3=pi['DEFAULT']),this['setStencil'+'FuncFront'](_0x231dd3['func'],_0x231dd3['ref'],_0x231dd3['readMask']),this['setStencil'+'OperationF'+'ront'](_0x231dd3['fail'],_0x231dd3['zfail'],_0x231dd3['zpass'],_0x231dd3['writeMask']),_0xb1b2fa??(_0xb1b2fa=pi['DEFAULT']),this['setStencil'+'FuncBack'](_0xb1b2fa['func'],_0xb1b2fa['ref'],_0xb1b2fa['readMask']),this['setStencil'+'OperationB'+'ack'](_0xb1b2fa['fail'],_0xb1b2fa['zfail'],_0xb1b2fa['zpass'],_0xb1b2fa['writeMask']))):this['setStencil'+'Test'](!(0x18a+0x3ff*-0x1+0x276));}['setDepthSt'+'ate'](_0x2df8ed){const _0x2238ba=this['depthState'];if(!_0x2238ba['equals'](_0x2df8ed)){const _0x32efc7=this['gl'],_0x2e0852=_0x2df8ed['write'];_0x2238ba['write']!==_0x2e0852&&_0x32efc7['depthMask'](_0x2e0852);let {func:_0x3e7029,test:_0x190e35}=_0x2df8ed;!_0x190e35&&_0x2e0852&&(_0x190e35=!(0x1e40+-0x1a5*-0x1+-0x1fe5),_0x3e7029=Wi),_0x2238ba['func']!==_0x3e7029&&_0x32efc7['depthFunc'](this['glComparis'+'on'][_0x3e7029]),_0x2238ba['test']!==_0x190e35&&(_0x190e35?_0x32efc7['enable'](_0x32efc7['DEPTH_TEST']):_0x32efc7['disable'](_0x32efc7['DEPTH_TEST']));const {depthBias:_0x14eec7,depthBiasSlope:_0x560bab}=_0x2df8ed;_0x14eec7||_0x560bab?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(-0x1169+0x35*-0x4f+0x2*0x10e2),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x32efc7['polygonOff'+'set'](_0x560bab,_0x14eec7)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(0x1f1a+-0x9c2+-0x1*0x1557),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x2238ba['copy'](_0x2df8ed);}}['setCullMod'+'e'](_0x5ee36d){if(this['cullMode']!==_0x5ee36d){if(_0x5ee36d===bt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===bt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x3dd96a=this['glCull'][_0x5ee36d];this['cullFace']!==_0x3dd96a&&(this['gl']['cullFace'](_0x3dd96a),this['cullFace']=_0x3dd96a);}this['cullMode']=_0x5ee36d;}}['setShader'](_0xa782,_0xd8e548=!(-0x201e+0x8ac+-0x17*-0x105)){_0xa782!==this['shader']&&(this['shader']=_0xa782,this['shaderAsyn'+'cCompile']=_0xd8e548,this['shaderVali'+'d']=void(0xc52+0x38f*0x7+-0x253b),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](){const {shader:_0x12c50c}=this,{impl:_0x3f2dcc}=_0x12c50c;this['shaderVali'+'d']===void(0x6af+-0x15bf+0xf10)&&(_0x12c50c['failed']?this['shaderVali'+'d']=!(-0x1013+-0x1bc0+0x2bd4):_0x12c50c['ready']||(this['shaderAsyn'+'cCompile']?_0x3f2dcc['isLinked'](this)?_0x3f2dcc['finalize'](this,_0x12c50c)||(_0x12c50c['failed']=!(0xfb2*-0x1+0x1f6e+-0xd4*0x13),this['shaderVali'+'d']=!(0xaf1*0x1+-0x20a2+0x15b2)):this['shaderVali'+'d']=!(0x137b*-0x2+0x5db*0x3+0x1566):_0x3f2dcc['finalize'](this,_0x12c50c)||(_0x12c50c['failed']=!(-0xbd+0x1e87+-0xee5*0x2),this['shaderVali'+'d']=!(0x43*-0x2e+0xc56+-0x3*0x19)))),this['shaderVali'+'d']===void(0x7*0x11b+-0x2*0x82f+-0x2f*-0x2f)&&(this['gl']['useProgram'](_0x3f2dcc['glProgram']),this['shaderVali'+'d']=!(0x978+0x76*-0x10+-0x218));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0xc77dc5=this['gl'];this['_vaoMap']['forEach']((_0x59b038,_0x10cdb6,_0x4fb845)=>{_0xc77dc5['deleteVert'+'exArray'](_0x59b038);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x319167){_0x319167?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0xf49876=0x123b*0x2+-0x1554+-0x75f*0x2){const _0x52c596=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x52c596['loseContex'+'t'](),setTimeout(()=>_0x52c596['restoreCon'+'text'](),_0xf49876);}}let nw=-0x1f41+0x16*0x18f+-0x309;class br{constructor(_0x4bff1c,_0x85fbd6,_0x3d0869,_0x516157=ms,_0xd9bbf6,_0x2d2778){this['device']=_0x4bff1c,this['format']=_0x85fbd6,this['numIndices']=_0x3d0869,this['usage']=_0x516157,this['id']=nw++,this['impl']=_0x4bff1c['createInde'+'xBufferImp'+'l'](this,_0x2d2778);const _0x120c40=hT[_0x85fbd6];this['bytesPerIn'+'dex']=_0x120c40,this['numBytes']=this['numIndices']*_0x120c40,_0xd9bbf6?this['setData'](_0xd9bbf6):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x4bff1c['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x590ba6=this['device'],_0x507f79=_0x590ba6['buffers']['indexOf'](this);_0x507f79!==-(-0xe3f*0x1+-0x20cd+0x2f0d)&&_0x590ba6['buffers']['splice'](_0x507f79,-0x1*-0x735+0x1327*-0x1+0xbf3),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x590ba6),this['adjustVram'+'SizeTracki'+'ng'](_0x590ba6['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x3e5390,_0x3fec47){w['trace'](j0,this['id']+'\x20size:\x20'+_0x3fec47+'\x20vram.ib:\x20'+_0x3e5390['ib']+'\x20=>\x20'+(_0x3e5390['ib']+_0x3fec47)),_0x3e5390['ib']+=_0x3fec47;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x23aebc){return _0x23aebc['byteLength']!==this['numBytes']?(w['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x23aebc['byteLength']),!(-0x2*-0x80b+0x1822+-0x2837)):(this['storage']=_0x23aebc,this['unlock'](),!(0x7*0x413+0x1*0x15ce+-0x3253*0x1));}['_lockTyped'+'Array'](){const _0x423210=this['lock']();return this['format']===wr?new Uint32Array(_0x423210):this['format']===Yi?new Uint16Array(_0x423210):new Uint8Array(_0x423210);}['writeData'](_0x1d6c3a,_0x16b5b8){const _0x1fcb9f=this['_lockTyped'+'Array']();if(_0x1d6c3a['length']>_0x16b5b8){if(ArrayBuffer['isView'](_0x1d6c3a))_0x1d6c3a=_0x1d6c3a['subarray'](-0x10eb*-0x2+-0x4*-0xbd+-0x24ca,_0x16b5b8),_0x1fcb9f['set'](_0x1d6c3a);else{for(let _0x138677=-0x8f5*-0x1+-0x243d+0x1b48;_0x138677<_0x16b5b8;_0x138677++)_0x1fcb9f[_0x138677]=_0x1d6c3a[_0x138677];}}else _0x1fcb9f['set'](_0x1d6c3a);this['unlock']();}['readData'](_0x5b3c93){const _0x1c5f49=this['_lockTyped'+'Array'](),_0x4f1788=this['numIndices'];if(ArrayBuffer['isView'](_0x5b3c93))_0x5b3c93['set'](_0x1c5f49);else{_0x5b3c93['length']=0x18da+0x1f1+-0x1acb;for(let _0x3d839f=-0x32*-0x1+-0x314+0x9*0x52;_0x3d839f<_0x4f1788;_0x3d839f++)_0x5b3c93[_0x3d839f]=_0x1c5f49[_0x3d839f];}return _0x4f1788;}}class ow{constructor(){h(this,'clearValue',new ie(0xc7*-0x8+0x16c9+-0x1091,0x20ee+-0x2184+0x96,0x447*0x8+-0x3*-0xbe1+-0x45db*0x1,-0x1*-0x144d+-0x1*-0x1e0e+-0x325a)),h(this,'clearValue'+'Linear',new ie(-0x1201+0xdb*-0x27+0x20e*0x19,-0x9bd*-0x1+0x45a+-0xe17,0x93+0x14a1*0x1+0x17*-0xec,-0x4f*-0xd+-0x1396+0xf94)),h(this,'clear',!(-0x2*0x1103+-0x9c9+0x2*0x15e8)),h(this,'store',!(0x10f4+-0x42*0x4e+0x329)),h(this,'resolve',!(-0x9*0x20f+-0x7d4+-0x8c9*-0x3)),h(this,'genMipmaps',!(0x1*0x1ee3+0x1ef+-0x10f*0x1f));}}class lw{constructor(){h(this,'clearDepth'+'Value',-0x17*-0x162+-0x987+-0x1646),h(this,'clearStenc'+'ilValue',-0x72*-0x43+-0x21bc*0x1+-0x1f3*-0x2),h(this,'clearDepth',!(-0x3b9*0x9+0x2220+0x4f*-0x2)),h(this,'clearStenc'+'il',!(-0x7*0x255+0x1444+-0x3f0)),h(this,'storeDepth',!(0x56c*0x2+-0x1b44+0x5*0x349)),h(this,'resolveDep'+'th',!(-0x1*0x869+0x59*-0x2b+-0x175d*-0x1)),h(this,'storeStenc'+'il',!(0xdaf*0x1+0x7e7+-0x1a9*0xd));}}class ys{constructor(_0x2ddc1c){h(this,'_name'),h(this,'device'),h(this,'_enabled',!(0x41*-0x13+0x131*0xb+-0x848)),h(this,'_skipStart',!(0x11f*-0x5+-0x142d+-0x3af*-0x7)),h(this,'_skipEnd',!(0x1127*0x1+0xc8b+-0xb*0x2b3)),h(this,'executeEna'+'bled',!(0x283+-0x1fec+0x1d69)),h(this,'renderTarg'+'et'),h(this,'_options'),h(this,'samples',-0x2278+0x3*0x10d+0x1f51),h(this,'colorArray'+'Ops',[]),h(this,'depthStenc'+'ilOps'),h(this,'requiresCu'+'bemaps',!(-0x1bde+0x716*-0x5+0x3f4c*0x1)),h(this,'fullSizeCl'+'earRect',!(0x9f*-0x26+0xcca+0xad0)),h(this,'beforePass'+'es',[]),h(this,'afterPasse'+'s',[]),(w['assert'](_0x2ddc1c),this['device']=_0x2ddc1c);}get['colorOps'](){return this['colorArray'+'Ops'][0x1bd1+-0x3e5*0x1+-0x17ec];}set['name'](_0x236b48){this['_name']=_0x236b48;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0x2b32bc){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0x2b32bc;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0x43742f){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0x43742f;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x2c8659){this['_options']=_0x2c8659,_0x2c8659&&(this['scaleX']=this['scaleX']??-0x40d+0x148*-0x15+0x1ef6,this['scaleY']=this['scaleY']??0x1d8d+0x18*-0x7+-0xac*0x2b);}get['options'](){return this['_options'];}['init'](_0x430718=null,_0x362a98){this['options']=_0x362a98,this['renderTarg'+'et']=_0x430718,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],0x1*0x1a05+-0x19d3+-0x31),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0x3f7b7b,_0x4f53d9,_0x2f0d61,_0x3bb96e;const _0xfaa09e=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new lw(),_0xfaa09e!=null&&_0xfaa09e['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(-0x17b7+0x182b+0x4*-0x1d));const _0x295c15=_0xfaa09e?((_0x3f7b7b=_0xfaa09e['_colorBuff'+'ers'])==null?void(-0x51f+-0x2211+-0x4c*-0x84):_0x3f7b7b['length'])??-0x267f+-0x1a62*-0x1+0xc1d:0x2*0xb5b+0x1b25+-0x1*0x31da;this['colorArray'+'Ops']['length']=0x3*-0x153+-0x3ad*0x5+0x165a;for(let _0x1b4203=0x2*0x841+0x1*-0x11a2+0x120;_0x1b4203<_0x295c15;_0x1b4203++){const _0x528c43=new ow();this['colorArray'+'Ops'][_0x1b4203]=_0x528c43,this['samples']===0x9*-0x145+0x1a7d+-0xf0f&&(_0x528c43['store']=!(-0xc0*-0x20+0x15*0x1bd+-0x3c81),_0x528c43['resolve']=!(0x1*0x17db+0xf38+-0x2712));const _0x4747f4=(_0x2f0d61=(_0x4f53d9=this['renderTarg'+'et'])==null?void(-0xb*0x2eb+0x2041+-0x28):_0x4f53d9['_colorBuff'+'ers'])==null?void(0x31+0x1*-0x1203+0x11d2):_0x2f0d61[_0x1b4203];if((_0x3bb96e=this['renderTarg'+'et'])!=null&&_0x3bb96e['mipmaps']&&(_0x4747f4!=null&&_0x4747f4['mipmaps'])){const _0x46198e=dn(_0x4747f4['_format']);_0x528c43['genMipmaps']=!_0x46198e;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x1d27dc=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x3f919c=Math['floor'](_0x1d27dc['width']*this['scaleX']),_0x1bb07f=Math['floor'](_0x1d27dc['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x3f919c,_0x1bb07f);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x5d1b9b){this['_enabled']!==_0x5d1b9b&&(this['_enabled']=_0x5d1b9b,_0x5d1b9b?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x75c505){const _0x3e5fe5=this['colorArray'+'Ops']['length'];for(let _0xf657ad=0x2*0xb74+0x759+0x1e41*-0x1;_0xf657ad<_0x3e5fe5;_0xf657ad++){const _0x33daf6=this['colorArray'+'Ops'][_0xf657ad];_0x75c505&&(_0x33daf6['clearValue']['copy'](_0x75c505),_0x33daf6['clearValue'+'Linear']['linear'](_0x75c505)),_0x33daf6['clear']=!!_0x75c505;}}['setClearDe'+'pth'](_0x27e473){_0x27e473&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x27e473),this['depthStenc'+'ilOps']['clearDepth']=_0x27e473!==void(-0x1e75+0x1145*-0x1+0x2fba);}['setClearSt'+'encil'](_0x3af93c){_0x3af93c&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x3af93c),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x3af93c!==void(-0x1*0x253d+0x1869+0x1*0xcd4);}['render'](){if(this['enabled']){const _0x44484c=this['device'],_0x465b97=this['renderTarg'+'et']!==void(-0xfc*-0x27+-0x37c*0x4+0x2*-0xc3a);w['call'](()=>{this['log'](_0x44484c,_0x44484c['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x465b97&&!this['_skipStart']&&_0x44484c['startRende'+'rPass'](this),this['execute'](),_0x465b97&&!this['_skipEnd']&&_0x44484c['endRenderP'+'ass'](this)),this['after'](),_0x44484c['renderPass'+'Index']++;}}['log'](_0x31185c,_0x200e25=-0x125e*-0x1+0x25e4+-0x3842){var _0x341012,_0x392867,_0x5a3862;if(mi['get'](Pm)||mi['get'](cn)){const _0x4a56e8=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x31185c['backBuffer']:null),_0x5c7f32=!!(_0x4a56e8!=null&&_0x4a56e8['impl']['assignedCo'+'lorTexture'])||(_0x4a56e8==null?void(-0x4*-0x1a6+0x8*0x211+-0x1720):_0x4a56e8['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(-0xf7b+0x5*-0x676+-0xd*-0x3ad),_0x1b1ac7=((_0x341012=_0x4a56e8==null?void(0x1c*0xd9+-0x1e22+0x666):_0x4a56e8['_colorBuff'+'ers'])==null?void(0x1403*-0x1+0xb7*0x10+0x1*0x893):_0x341012['length'])??(_0x5c7f32?-0xe4*-0x1f+-0x272*-0x3+-0x22f1*0x1:0x18c9+-0x1*-0x16f7+-0x40*0xbf),_0x612de9=_0x4a56e8==null?void(-0x3*0x9a5+-0x4*-0x293+-0xd*-0x16f):_0x4a56e8['depth'],_0xb2e61e=_0x4a56e8==null?void(0x1872+-0x12b2+0x10*-0x5c):_0x4a56e8['stencil'],_0x5825c7=_0x4a56e8==null?void(-0x2385*0x1+0x6fd+0x1c88):_0x4a56e8['mipLevel'],_0x3f255f=_0x4a56e8?'\x20RT:\x20'+(_0x4a56e8?_0x4a56e8['name']:'NULL')+'\x20'+(_0x1b1ac7>0x2*0x1195+-0x1190+-0x119a?'[Color'+(_0x1b1ac7>-0xd77+0x1206+-0x48e?'\x20x\x20'+_0x1b1ac7:'')+']':'')+(_0x612de9?'[Depth]':'')+(_0xb2e61e?'[Stencil]':'')+'\x20'+_0x4a56e8['width']+'\x20x\x20'+_0x4a56e8['height']+(this['samples']>0x523*0x1+0x1*0x9c7+-0xeea?'\x20samples:\x20'+this['samples']:'')+(_0x5825c7>0x268f*0x1+-0x5*0x50d+-0xd4e?'\x20mipLevel:'+'\x20'+_0x5825c7:''):'',_0xf86a8d=this['_skipStart']?'++':_0x200e25['toString']()['padEnd'](-0x749*0x3+0x23e9*0x1+0x3e*-0x3a,'\x20');w['trace'](Pm,_0xf86a8d+':\x20'+this['name']['padEnd'](-0x44*-0x8b+-0x49d*0x5+-0xdc7,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0x3f255f['padEnd'](-0x161f+0x20bb+-0xa7e));for(let _0x26587e=-0x18ad+0x2*0xc1b+0x77;_0x26587e<_0x1b1ac7;_0x26587e++){const _0x4d5b71=this['colorArray'+'Ops'][_0x26587e],_0x318db3=(_0x392867=Nt['get'](_0x5c7f32?_0x31185c['backBuffer'+'Format']:_0x4a56e8['getColorBu'+'ffer'](_0x26587e)['format']))==null?void(0x1a3f*-0x1+0xb2*0x4+0x1777*0x1):_0x392867['name'];w['trace'](cn,'\x20\x20\x20\x20color['+_0x26587e+']:\x20'+(_0x4d5b71['clear']?'clear':'load')+'->'+(_0x4d5b71['store']?'store':'discard')+'\x20'+(_0x4d5b71['resolve']?'resolve\x20':'')+(_0x4d5b71['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x318db3+']\x20'+(_0x4d5b71['clear']?'[clear:\x20'+_0x4d5b71['clearValue']['toString'](!(0xce*-0x10+0xc*-0x1bf+0x21d4),!(0x1f6+-0x363*-0x5+-0x12e5))+']':''));}if(this['depthStenc'+'ilOps']){const _0x47e57b=''+(_0x4a56e8['depthBuffe'+'r']?'\x20[format:\x20'+((_0x5a3862=Nt['get'](_0x4a56e8['depthBuffe'+'r']['format']))==null?void(0x42*0x71+0x1bb9+0x47*-0xcd):_0x5a3862['name'])+']':'');_0x612de9&&w['trace'](cn,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0x47e57b+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0xb2e61e&&w['trace'](cn,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0x47e57b+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function cw(_0x5880b9){this['array'][this['index']]=_0x5880b9;}function hw(_0x51faf9,_0x56285d){this['array'][this['index']]=_0x51faf9,this['array'][this['index']+(0x9b7*0x2+0x257d+-0x38ea)]=_0x56285d;}function dw(_0x130dce,_0x1e22f4,_0x17121e){this['array'][this['index']]=_0x130dce,this['array'][this['index']+(-0x21ea+0x39*0x11+-0x85*-0x3a)]=_0x1e22f4,this['array'][this['index']+(-0xf4*0x6+0x51*-0x67+0x2651)]=_0x17121e;}function fw(_0x2e7c81,_0x43d742,_0xbc7a2,_0x4b0d0b){this['array'][this['index']]=_0x2e7c81,this['array'][this['index']+(0x1367*-0x1+0xb*-0x2ed+0x3397)]=_0x43d742,this['array'][this['index']+(-0xc*-0x1c9+0x155*-0x1+-0x1415*0x1)]=_0xbc7a2,this['array'][this['index']+(0x32b*-0x5+-0x1e8*-0x2+-0x17*-0x86)]=_0x4b0d0b;}function uw(_0x524990,_0x250a0b,_0x3a40d3){this['array'][_0x524990]=_0x250a0b[_0x3a40d3];}function pw(_0xa6bc5f,_0x3b4ba9,_0x3bb813){this['array'][_0xa6bc5f]=_0x3b4ba9[_0x3bb813],this['array'][_0xa6bc5f+(-0x7b3+0x78*0x4+-0x175*-0x4)]=_0x3b4ba9[_0x3bb813+(-0x1846*0x1+-0x1*-0x1e62+-0x61b)];}function mw(_0x2a5856,_0x3a39da,_0x55aab0){this['array'][_0x2a5856]=_0x3a39da[_0x55aab0],this['array'][_0x2a5856+(0x760+0x5*0x39+-0x3*0x2d4)]=_0x3a39da[_0x55aab0+(-0x2708+-0x2279+-0x2*-0x24c1)],this['array'][_0x2a5856+(0x14b7+0x2575+-0x3a2a)]=_0x3a39da[_0x55aab0+(0x127e+-0x1bd4+0x958)];}function _w(_0x29c55b,_0x2f4837,_0xc4a083){this['array'][_0x29c55b]=_0x2f4837[_0xc4a083],this['array'][_0x29c55b+(0x5*0x571+0x496+-0x1fca)]=_0x2f4837[_0xc4a083+(0x293*0x5+0x195a+-0x2638)],this['array'][_0x29c55b+(-0x24f5+-0x267+-0x2*-0x13af)]=_0x2f4837[_0xc4a083+(0x135d+-0x1*0x13fa+0x9f*0x1)],this['array'][_0x29c55b+(0x64f+0x2116+0x2*-0x13b1)]=_0x2f4837[_0xc4a083+(-0xb3*0x17+-0x178f+0x27a7)];}function gw(_0x49274c,_0x5715c9,_0x4196a3){_0x5715c9[_0x4196a3]=this['array'][_0x49274c];}function Sw(_0x497ac6,_0x34f31a,_0x40da67){_0x34f31a[_0x40da67]=this['array'][_0x497ac6],_0x34f31a[_0x40da67+(0x5da*-0x1+-0xf0b+0x14e6)]=this['array'][_0x497ac6+(-0x1c54+-0xca4+0x11*0x269)];}function yw(_0x201d5c,_0x56b18b,_0x4267a3){_0x56b18b[_0x4267a3]=this['array'][_0x201d5c],_0x56b18b[_0x4267a3+(0x2641*-0x1+-0x6d*0x25+0xb*0x4e9)]=this['array'][_0x201d5c+(-0x57*0xd+-0x1732+0x1b9e)],_0x56b18b[_0x4267a3+(0x11ec+0x264a+-0x21*0x1b4)]=this['array'][_0x201d5c+(-0x111b*0x2+-0x13*0x49+0x27a3)];}function vw(_0x31f4d6,_0x57784f,_0x4a1e5){_0x57784f[_0x4a1e5]=this['array'][_0x31f4d6],_0x57784f[_0x4a1e5+(0x782+-0x2687*-0x1+-0x2e08)]=this['array'][_0x31f4d6+(0x1c80+-0x253+-0x1a2c)],_0x57784f[_0x4a1e5+(-0x1f83+-0x11c*0x8+0x2865)]=this['array'][_0x31f4d6+(0x1e5*-0xc+0xd7*0x9+0xf2f)],_0x57784f[_0x4a1e5+(0x2706+0x543*-0x1+-0x90*0x3c)]=this['array'][_0x31f4d6+(0x7a3+-0x81b+0x7b*0x1)];}class xw{constructor(_0x382a8c,_0x24f317,_0x1f01d0){switch(this['index']=-0x211f+0x1f33+0x29*0xc,this['numCompone'+'nts']=_0x24f317['numCompone'+'nts'],_0x1f01d0['interleave'+'d']?this['array']=new wn[_0x24f317['dataType']](_0x382a8c,_0x24f317['offset']):this['array']=new wn[_0x24f317['dataType']](_0x382a8c,_0x24f317['offset'],_0x1f01d0['vertexCoun'+'t']*_0x24f317['numCompone'+'nts']),this['stride']=_0x24f317['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x24f317['numCompone'+'nts']){case-0x385+-0x649*0x4+0x1caa:this['set']=cw,this['getToArray']=gw,this['setFromArr'+'ay']=uw;break;case 0x3d9*-0x1+-0x1*-0x1064+-0xc89*0x1:this['set']=hw,this['getToArray']=Sw,this['setFromArr'+'ay']=pw;break;case-0x1d*0x98+0x1adf+0x2*-0x4d2:this['set']=dw,this['getToArray']=yw,this['setFromArr'+'ay']=mw;break;case-0x14b*-0xb+0x380+-0x11b5:this['set']=fw,this['getToArray']=vw,this['setFromArr'+'ay']=_w;break;}}['get'](_0x58cbac){return this['array'][this['index']+_0x58cbac];}['set'](_0x53cc26,_0x291bae,_0x468de1,_0x169199){}['getToArray'](_0x127d51,_0x4f23a0,_0xfa98ea){}['setFromArr'+'ay'](_0xa23fac,_0x4bf0e2,_0x4a3895){}}class Uo{constructor(_0x254e2f){this['vertexBuff'+'er']=_0x254e2f,this['vertexForm'+'atSize']=_0x254e2f['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x49aaa9=this['vertexBuff'+'er']['getFormat']();for(let _0x14a851=-0x867+0x3*-0x5b9+-0xcc9*-0x2;_0x14a851<_0x49aaa9['elements']['length'];_0x14a851++){const _0xbd2aab=_0x49aaa9['elements'][_0x14a851];this['accessors'][_0x14a851]=new xw(this['buffer'],_0xbd2aab,_0x49aaa9),this['element'][_0xbd2aab['name']]=this['accessors'][_0x14a851];}}['next'](_0x5636d3=0x4*-0x521+-0x4*0x2c3+-0x1*-0x1f91){let _0x35201f=0x1aaf+-0x1794+-0x5*0x9f;const _0xbc3998=this['accessors'],_0x17a6df=this['accessors']['length'];for(;_0x35201f<_0x17a6df;){const _0x28af9e=_0xbc3998[_0x35201f++];_0x28af9e['index']+=_0x5636d3*_0x28af9e['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0x199c47,_0x1c45e2,_0x50d5f2){const _0x507a5b=this['element'][_0x199c47];if(_0x507a5b){_0x50d5f2>this['vertexBuff'+'er']['numVertice'+'s']&&(w['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x50d5f2+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x50d5f2=this['vertexBuff'+'er']['numVertice'+'s']);const _0x45e513=_0x507a5b['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x48ffbb=0x1fee+-0x10e4+-0x181*0xa;for(let _0x47e799=0x1840+0xf6d+-0x27ad;_0x47e799<_0x50d5f2;_0x47e799++)_0x507a5b['setFromArr'+'ay'](_0x48ffbb,_0x1c45e2,_0x47e799*_0x45e513),_0x48ffbb+=_0x507a5b['stride'];}else{if(_0x1c45e2['length']>_0x50d5f2*_0x45e513){const _0x5c8d18=_0x50d5f2*_0x45e513;if(ArrayBuffer['isView'](_0x1c45e2))_0x1c45e2=_0x1c45e2['subarray'](-0x1736+0x126d*0x2+-0xda4,_0x5c8d18),_0x507a5b['array']['set'](_0x1c45e2);else{for(let _0x5d288a=-0xff2+-0x1225+-0x1*-0x2217;_0x5d288a<_0x5c8d18;_0x5d288a++)_0x507a5b['array'][_0x5d288a]=_0x1c45e2[_0x5d288a];}}else _0x507a5b['array']['set'](_0x1c45e2);}}}['readData'](_0x3e6640,_0x3bdbb0){const _0x4ecee2=this['element'][_0x3e6640];let _0x539fad=-0x2673*0x1+0x2381*-0x1+-0x4*-0x127d;if(_0x4ecee2){_0x539fad=this['vertexBuff'+'er']['numVertice'+'s'];let _0x341df5;const _0x18954b=_0x4ecee2['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x3bdbb0)&&(_0x3bdbb0['length']=-0xa54+-0x251e+0x2f72),_0x4ecee2['index']=0x1aa5*-0x1+0x72+0x1a33;let _0xcf9051=0x7b7*-0x5+-0xaf3*-0x1+-0xd0*-0x22;for(_0x341df5=0x5c7+-0x1*0xfa6+0x9df;_0x341df5<_0x539fad;_0x341df5++)_0x4ecee2['getToArray'](_0xcf9051,_0x3bdbb0,_0x341df5*_0x18954b),_0xcf9051+=_0x4ecee2['stride'];}else{if(ArrayBuffer['isView'](_0x3bdbb0))_0x3bdbb0['set'](_0x4ecee2['array']);else{_0x3bdbb0['length']=0x3*-0xb83+0x1*0x210b+-0x2*-0xbf;const _0x4bf5a9=_0x539fad*_0x18954b;for(_0x341df5=-0x3*0xac2+-0xa2f*0x3+0x3ed3;_0x341df5<_0x4bf5a9;_0x341df5++)_0x3bdbb0[_0x341df5]=_0x4ecee2['array'][_0x341df5];}}}return _0x539fad;}}const Tw=-(-0x1*-0x1a84+0x1*0x2557+-0x3fda);class ww{constructor(_0x4dac0b,_0x375098){h(this,'key',null),h(this,'element',null),h(this,'event',null),_0x375098&&(this['key']=_0x375098['keyCode'],this['element']=_0x375098['target'],this['event']=_0x375098);}}const jl=new ww();function Vd(_0x290452){return jl['key']=_0x290452['keyCode'],jl['element']=_0x290452['target'],jl['event']=_0x290452,jl;}function Yl(_0x12c5ad){return typeof _0x12c5ad=='string'?_0x12c5ad['toUpperCas'+'e']()['charCodeAt'](0x1b5+-0x414*0x8+0x1eeb):_0x12c5ad;}const Ew={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class h_ extends me{constructor(_0x133f51,_0x2b68fb={}){super(),h(this,'_element',null),h(this,'_keymap',{}),h(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x133f51&&this['attach'](_0x133f51),this['preventDef'+'ault']=_0x2b68fb['preventDef'+'ault']||!(0xd51+-0x93b+-0x415),this['stopPropag'+'ation']=_0x2b68fb['stopPropag'+'ation']||!(-0xcd0+-0x3*-0x6eb+0xfe*-0x8));}['attach'](_0x32c8b0){this['_element']&&this['detach'](),this['_element']=_0x32c8b0,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(-0x2*0x116a+-0x168a+0x1*0x395f)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(0x2566+-0x728+-0x1e3d)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(-0x1509+0xe*-0xa3+0x4fe*0x6)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x6b+-0x9*0x350+0xeb3*0x2)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(-0x1*-0x2476+0x1703+-0x15a*0x2c));}['detach'](){if(!this['_element']){w['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x1a9f+0x8c2+-0x8d8*0x4)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(-0x7c2*0x2+-0x164*-0x18+-0x11db));}['toKeyIdent'+'ifier'](_0x4c779a){_0x4c779a=Yl(_0x4c779a);const _0x43836e=Ew[_0x4c779a['toString']()];if(_0x43836e)return _0x43836e;let _0x3df075=_0x4c779a['toString'](-0x2*0x11e7+0x1a28+0x9b6)['toUpperCas'+'e']();const _0x308ef6=_0x3df075['length'];for(let _0x4e2812=0x1c0f+0x655*0x5+-0x3bb8;_0x4e2812<0x13b5+0x1ba2+0x5*-0x977-_0x308ef6;_0x4e2812++)_0x3df075='0'+_0x3df075;return'U+'+_0x3df075;}['_handleKey'+'Down'](_0x13f593){const _0x4d8ed0=_0x13f593['keyCode']||_0x13f593['charCode'];if(_0x4d8ed0===void(-0x2cd+-0x68*0x1f+0x233*0x7))return;const _0x11983c=this['toKeyIdent'+'ifier'](_0x4d8ed0);this['_keymap'][_0x11983c]=!(0x638*0x6+-0x222d*-0x1+0x1*-0x477d),this['fire']('keydown',Vd(_0x13f593)),this['preventDef'+'ault']&&_0x13f593['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x13f593['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x444257){const _0x3f4b6e=_0x444257['keyCode']||_0x444257['charCode'];if(_0x3f4b6e===void(0x8*-0x42a+0x1f*0xe2+0x5f2))return;const _0x3605dd=this['toKeyIdent'+'ifier'](_0x3f4b6e);delete this['_keymap'][_0x3605dd],this['fire']('keyup',Vd(_0x444257)),this['preventDef'+'ault']&&_0x444257['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x444257['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x32443b){this['fire']('keypress',Vd(_0x32443b)),this['preventDef'+'ault']&&_0x32443b['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x32443b['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x2b50b3 in this['_lastmap'])delete this['_lastmap'][_0x2b50b3];for(const _0x5cd9d9 in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0x5cd9d9)&&(this['_lastmap'][_0x5cd9d9]=this['_keymap'][_0x5cd9d9]);}['isPressed'](_0x31283c){const _0x30aeb8=Yl(_0x31283c),_0x1515c6=this['toKeyIdent'+'ifier'](_0x30aeb8);return!!this['_keymap'][_0x1515c6];}['wasPressed'](_0x121d0b){const _0x41ddd8=Yl(_0x121d0b),_0xf04141=this['toKeyIdent'+'ifier'](_0x41ddd8);return!!this['_keymap'][_0xf04141]&&!this['_lastmap'][_0xf04141];}['wasRelease'+'d'](_0x5ac02d){const _0x44ee54=Yl(_0x5ac02d),_0x25a99b=this['toKeyIdent'+'ifier'](_0x44ee54);return!this['_keymap'][_0x25a99b]&&!!this['_lastmap'][_0x25a99b];}}h(h_,'EVENT_KEYD'+'OWN','keydown'),h(h_,'EVENT_KEYU'+'P','keyup');function ru(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ta{constructor(_0x229ed6,_0x33dbfd){h(this,'x',0x80+0x17f0+-0x5c*0x44),h(this,'y',-0x7f6*-0x3+0x68f*0x3+0xe85*-0x3),h(this,'dx',0x1bdd+-0x167+0x2*-0xd3b),h(this,'dy',-0xb3*-0x31+-0xf85*-0x1+-0x31c8),h(this,'button',Tw),h(this,'wheelDelta',-0xdd3+-0x101e+0x1df1),h(this,'element'),h(this,'ctrlKey',!(-0x11*-0x1db+0x121*0x7+-0x1b7*0x17)),h(this,'altKey',!(0x144e+0x1b62*0x1+0xfe5*-0x3)),h(this,'shiftKey',!(-0x73f+-0x20a+0x94a)),h(this,'metaKey',!(0x1f4*0x5+0x1*0x103+-0xe*0xc5)),h(this,'event');let _0x3b1d7f={'x':0x0,'y':0x0};if(_0x33dbfd){if(_0x33dbfd instanceof ta)throw Error('Expected\x20M'+'ouseEvent');_0x3b1d7f=_0x229ed6['_getTarget'+'Coords'](_0x33dbfd);}else _0x33dbfd={};if(_0x3b1d7f)this['x']=_0x3b1d7f['x'],this['y']=_0x3b1d7f['y'];else{if(ru())this['x']=0xad7+0x2408+-0x47*0xa9,this['y']=-0xf18+-0x3ce+0x12e6;else return;}_0x33dbfd['type']==='wheel'&&(_0x33dbfd['deltaY']>-0x13a*0x12+0x112a+0x4ea?this['wheelDelta']=0x9*-0x153+-0x1020+0x1c0c:_0x33dbfd['deltaY']<-0x1*-0x9a9+0x17b3+-0x215c&&(this['wheelDelta']=-(-0x230+0x2*0x783+-0xcd5))),ru()?(this['dx']=_0x33dbfd['movementX']||_0x33dbfd['webkitMove'+'mentX']||_0x33dbfd['mozMovemen'+'tX']||0x251+0x8f0+-0x1*0xb41,this['dy']=_0x33dbfd['movementY']||_0x33dbfd['webkitMove'+'mentY']||_0x33dbfd['mozMovemen'+'tY']||-0x1*-0x184a+-0xb7f+0x1*-0xccb):(this['dx']=this['x']-_0x229ed6['_lastX'],this['dy']=this['y']-_0x229ed6['_lastY']),(_0x33dbfd['type']==='mousedown'||_0x33dbfd['type']==='mouseup')&&(this['button']=_0x33dbfd['button']),this['buttons']=_0x229ed6['_buttons']['slice'](-0x215f+-0x256*-0x7+0x1105*0x1),this['element']=_0x33dbfd['target'],this['ctrlKey']=_0x33dbfd['ctrlKey']??!(-0x729*0x2+0x26dc+-0xb*0x23b),this['altKey']=_0x33dbfd['altKey']??!(-0x233*0x2+0x7f9+-0x1c9*0x2),this['shiftKey']=_0x33dbfd['shiftKey']??!(0x21a+0x1d15+-0x1f2e),this['metaKey']=_0x33dbfd['metaKey']??!(-0x2091+0x196c+0x726),this['event']=_0x33dbfd;}}class sa extends me{constructor(_0xbb6315){super(),h(this,'_lastX',0x1ac+0x7ee+0x1*-0x99a),h(this,'_lastY',-0x1e41*0x1+0x1*0x1bbf+-0x141*-0x2),h(this,'_buttons',[!(-0x876+0x4a0+0x1*0x3d7),!(-0x2422*-0x1+0x22c7+-0x46e8),!(0x2*-0xa4f+-0xb85+0x2024)]),h(this,'_lastbutto'+'ns',[!(0x1675+-0xed8*0x1+0x79c*-0x1),!(0x17da+-0x107*0x19+0x1d6*0x1),!(-0x7*0x37b+-0x1e0d+-0x1*-0x366b)]),h(this,'_target',null),h(this,'_attached',!(0x1e*-0xf9+0x2*-0x1364+0x43f7)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x36e2fa=>{_0x36e2fa['preventDef'+'ault']();},this['attach'](_0xbb6315));}static['isPointerL'+'ocked'](){return ru();}['attach'](_0x14ed50){if(this['_target']=_0x14ed50,this['_attached'])return;this['_attached']=!(0x1f45+0x7*0x101+-0x13*0x204);const _0x1f8470={'passive':!(0x79e+-0x1670+0x21*0x73)},_0x26e3ff=Ae['passiveEve'+'nts']?_0x1f8470:!(0x2*0x1159+-0x1d0+0x20e1*-0x1);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x26e3ff),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x26e3ff),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x26e3ff),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x26e3ff);}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0x115e+-0x1*-0x5ff+0xb60),this['_target']=null;const _0x4eaf06={'passive':!(0x155e*0x1+-0x6*0x37f+-0x21*0x3)},_0x5909bb=Ae['passiveEve'+'nts']?_0x4eaf06:!(-0x1bf*0x11+-0x803+0x25b3);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x5909bb),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x5909bb),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x5909bb),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x5909bb);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x1b4acb,_0x493591){if(!document['body']['requestPoi'+'nterLock']){_0x493591&&_0x493591();return;}const _0x54e00e=()=>{_0x1b4acb(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x54e00e);},_0x18c16f=()=>{_0x493591(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x18c16f);};_0x1b4acb&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x54e00e,!(0xd54+-0x12aa*-0x1+-0x1ffd)),_0x493591&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x18c16f,!(0x168c+0xfb0+-0x263b*0x1)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0x18c8bb){if(!document['exitPointe'+'rLock'])return;const _0x3ad635=()=>{_0x18c8bb(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x3ad635);};_0x18c8bb&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x3ad635,!(0x70e+-0x1a97*-0x1+0x21a4*-0x1)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][0x9d2+0x543+-0xf15]=this['_buttons'][0x1*-0x2011+0xc*-0x2f0+0x4351*0x1],this['_lastbutto'+'ns'][-0xb*0x249+0x1*0x1661+-0x65*-0x7]=this['_buttons'][-0x69d+-0x3*0x7cf+0x1e0b],this['_lastbutto'+'ns'][0x5e7*0x4+0x1*-0xa9d+-0xcfd]=this['_buttons'][-0x282+0x16*0x1+-0x137*-0x2];}['isPressed'](_0x434677){return this['_buttons'][_0x434677];}['wasPressed'](_0x2d2339){return this['_buttons'][_0x2d2339]&&!this['_lastbutto'+'ns'][_0x2d2339];}['wasRelease'+'d'](_0x548221){return!this['_buttons'][_0x548221]&&this['_lastbutto'+'ns'][_0x548221];}['_handleUp'](_0xc8b28d){this['_buttons'][_0xc8b28d['button']]=!(0x2*0x8f5+0x17e0+0x13*-0x233);const _0x256755=new ta(this,_0xc8b28d);_0x256755['event']&&this['fire']('mouseup',_0x256755);}['_handleDow'+'n'](_0x59c0b6){this['_buttons'][_0x59c0b6['button']]=!(-0xc17+0x118*-0x9+0x15ef);const _0x290e53=new ta(this,_0x59c0b6);_0x290e53['event']&&this['fire']('mousedown',_0x290e53);}['_handleMov'+'e'](_0x49d3ac){const _0x43a7b2=new ta(this,_0x49d3ac);_0x43a7b2['event']&&(this['fire']('mousemove',_0x43a7b2),this['_lastX']=_0x43a7b2['x'],this['_lastY']=_0x43a7b2['y']);}['_handleWhe'+'el'](_0x42a710){const _0xb07ed3=new ta(this,_0x42a710);_0xb07ed3['event']&&this['fire']('mousewheel',_0xb07ed3);}['_getTarget'+'Coords'](_0x337eb6){const _0x25d8e7=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x411214=Math['floor'](_0x25d8e7['left']),_0xb856d3=Math['floor'](_0x25d8e7['top']);return _0x337eb6['clientX']<_0x411214||_0x337eb6['clientX']>=_0x411214+this['_target']['clientWidt'+'h']||_0x337eb6['clientY']<_0xb856d3||_0x337eb6['clientY']>=_0xb856d3+this['_target']['clientHeig'+'ht']?null:{'x':_0x337eb6['clientX']-_0x411214,'y':_0x337eb6['clientY']-_0xb856d3};}}h(sa,'EVENT_MOUS'+'EMOVE','mousemove'),h(sa,'EVENT_MOUS'+'EDOWN','mousedown'),h(sa,'EVENT_MOUS'+'EUP','mouseup'),h(sa,'EVENT_MOUS'+'EWHEEL','mousewheel');function Wc(_0x148347){let _0x56652f=-0x1d35+0x8f4+0x1441,_0x404470=0x23d7+-0x1*-0x1e0a+0xd2d*-0x5,_0x100230=_0x148347['target'];for(;!(_0x100230 instanceof HTMLElement)&&_0x100230;)_0x100230=_0x100230['parentNode'];for(;_0x100230;)_0x56652f+=_0x100230['offsetLeft']-_0x100230['scrollLeft'],_0x404470+=_0x100230['offsetTop']-_0x100230['scrollTop'],_0x100230=_0x100230['offsetPare'+'nt'];return{'x':_0x148347['pageX']-_0x56652f,'y':_0x148347['pageY']-_0x404470};}class d_{constructor(_0x2caa2f){h(this,'id'),h(this,'x'),h(this,'y'),h(this,'target'),h(this,'touch');const _0x927c66=Wc(_0x2caa2f);this['id']=_0x2caa2f['identifier'],this['x']=_0x927c66['x'],this['y']=_0x927c66['y'],this['target']=_0x2caa2f['target'],this['touch']=_0x2caa2f;}}class Kl{constructor(_0x4f8750,_0xcb40b5){h(this,'element'),h(this,'event'),h(this,'touches',[]),h(this,'changedTou'+'ches',[]),(this['element']=_0xcb40b5['target'],this['event']=_0xcb40b5,this['touches']=Array['from'](_0xcb40b5['touches'])['map'](_0x1252b4=>new d_(_0x1252b4)),this['changedTou'+'ches']=Array['from'](_0xcb40b5['changedTou'+'ches'])['map'](_0x23fa8e=>new d_(_0x23fa8e)));}['getTouchBy'+'Id'](_0x37cbfc,_0x1d4664){return _0x1d4664['find'](_0x3c89f9=>_0x3c89f9['id']===_0x37cbfc)||null;}}class Zl extends me{constructor(_0xfb2b07){super(),this['_element']=null,this['_startHand'+'ler']=this['_handleTou'+'chStart']['bind'](this),this['_endHandle'+'r']=this['_handleTou'+'chEnd']['bind'](this),this['_moveHandl'+'er']=this['_handleTou'+'chMove']['bind'](this),this['_cancelHan'+'dler']=this['_handleTou'+'chCancel']['bind'](this),this['attach'](_0xfb2b07);}['attach'](_0x4edafb){this['_element']&&this['detach'](),this['_element']=_0x4edafb,this['_element']['addEventLi'+'stener']('touchstart',this['_startHand'+'ler'],!(-0xfa5+-0x1*0x617+0x15bd)),this['_element']['addEventLi'+'stener']('touchend',this['_endHandle'+'r'],!(-0xd*-0x174+0x39d+-0xf0*0x18)),this['_element']['addEventLi'+'stener']('touchmove',this['_moveHandl'+'er'],!(0x1510+0x437+0x1*-0x1946)),this['_element']['addEventLi'+'stener']('touchcance'+'l',this['_cancelHan'+'dler'],!(0x1ae0+0x1f73+0x5*-0xbaa));}['detach'](){this['_element']&&(this['_element']['removeEven'+'tListener']('touchstart',this['_startHand'+'ler'],!(0x4a*-0x1d+-0x78d+-0x14*-0xcc)),this['_element']['removeEven'+'tListener']('touchend',this['_endHandle'+'r'],!(0x6*-0x5ce+-0xb39+0xf*0x312)),this['_element']['removeEven'+'tListener']('touchmove',this['_moveHandl'+'er'],!(-0x4*-0x97d+0xb2*0x1e+0xbc3*-0x5)),this['_element']['removeEven'+'tListener']('touchcance'+'l',this['_cancelHan'+'dler'],!(-0x601*0x4+-0xa2e+0x2233))),this['_element']=null;}['_handleTou'+'chStart'](_0x1eef6a){this['fire']('touchstart',new Kl(this,_0x1eef6a));}['_handleTou'+'chEnd'](_0x1f61c3){this['fire']('touchend',new Kl(this,_0x1f61c3));}['_handleTou'+'chMove'](_0x2f21c1){_0x2f21c1['preventDef'+'ault'](),this['fire']('touchmove',new Kl(this,_0x2f21c1));}['_handleTou'+'chCancel'](_0x39d6b5){this['fire']('touchcance'+'l',new Kl(this,_0x39d6b5));}}h(Zl,'EVENT_TOUC'+'HSTART','touchstart'),h(Zl,'EVENT_TOUC'+'HEND','touchend'),h(Zl,'EVENT_TOUC'+'HMOVE','touchmove'),h(Zl,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');const Oe=class Oe{['get'](_0x38e4a5,_0x550dde,_0x51f38b){typeof _0x550dde=='function'&&(_0x51f38b=_0x550dde,_0x550dde={});const _0x266b18=this['request']('GET',_0x38e4a5,_0x550dde,_0x51f38b),{progress:_0x250c2f}=_0x550dde;if(_0x250c2f){const _0x10103f=_0x497124=>{_0x497124['lengthComp'+'utable']&&_0x250c2f['fire']('progress',_0x497124['loaded'],_0x497124['total']);},_0xeb4608=_0x4a0aa2=>{_0x10103f(_0x4a0aa2),_0x266b18['removeEven'+'tListener']('loadstart',_0x10103f),_0x266b18['removeEven'+'tListener']('progress',_0x10103f),_0x266b18['removeEven'+'tListener']('loadend',_0xeb4608);};_0x266b18['addEventLi'+'stener']('loadstart',_0x10103f),_0x266b18['addEventLi'+'stener']('progress',_0x10103f),_0x266b18['addEventLi'+'stener']('loadend',_0xeb4608);}return _0x266b18;}['post'](_0x2b0108,_0x2569ac,_0x1fb005,_0x10b053){return typeof _0x1fb005=='function'&&(_0x10b053=_0x1fb005,_0x1fb005={}),_0x1fb005['postdata']=_0x2569ac,this['request']('POST',_0x2b0108,_0x1fb005,_0x10b053);}['put'](_0x301e6c,_0x102097,_0x4be1ea,_0x202547){return typeof _0x4be1ea=='function'&&(_0x202547=_0x4be1ea,_0x4be1ea={}),_0x4be1ea['postdata']=_0x102097,this['request']('PUT',_0x301e6c,_0x4be1ea,_0x202547);}['del'](_0x274e54,_0x5aee1a,_0x3b1c5d){return typeof _0x5aee1a=='function'&&(_0x3b1c5d=_0x5aee1a,_0x5aee1a={}),this['request']('DELETE',_0x274e54,_0x5aee1a,_0x3b1c5d);}['request'](_0x1d1420,_0xca025e,_0x19a2f3,_0x53b22a){let _0x574022,_0x402a82,_0x5ea5e6,_0x11cd94=!(-0x2*0xb8a+-0xcf3+0x4*0x902);if(typeof _0x19a2f3=='function'&&(_0x53b22a=_0x19a2f3,_0x19a2f3={}),_0x19a2f3['retry']&&(_0x19a2f3=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x19a2f3)),_0x19a2f3['callback']=_0x53b22a,_0x19a2f3['async']==null&&(_0x19a2f3['async']=!(0x26ca+0xad8*-0x2+0xc7*-0x16)),_0x19a2f3['headers']==null&&(_0x19a2f3['headers']={}),_0x19a2f3['postdata']!=null){if(_0x19a2f3['postdata']instanceof Document)_0x5ea5e6=_0x19a2f3['postdata'];else{if(_0x19a2f3['postdata']instanceof FormData)_0x5ea5e6=_0x19a2f3['postdata'];else{if(_0x19a2f3['postdata']instanceof Object){let _0x358aa7=_0x19a2f3['headers']['Content-Ty'+'pe'];switch(_0x358aa7===void(-0x7cb+0xe*-0x53+0xc55)&&(_0x19a2f3['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x358aa7=_0x19a2f3['headers']['Content-Ty'+'pe']),_0x358aa7){case Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x5ea5e6='';let _0x16f993=!(0x2d9+-0x3*0x62f+0xfb4);for(const _0x2b6e2e in _0x19a2f3['postdata'])if(_0x19a2f3['postdata']['hasOwnProp'+'erty'](_0x2b6e2e)){_0x16f993?_0x16f993=!(-0x2357*-0x1+-0x1fd1*-0x1+0x4327*-0x1):_0x5ea5e6+='&';const _0x1ca406=encodeURIComponent(_0x2b6e2e),_0x57d3b4=encodeURIComponent(_0x19a2f3['postdata'][_0x2b6e2e]);_0x5ea5e6+=_0x1ca406+'='+_0x57d3b4;}break;}default:case Oe['ContentTyp'+'e']['JSON']:_0x358aa7==null&&(_0x19a2f3['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['JSON']),_0x5ea5e6=JSON['stringify'](_0x19a2f3['postdata']);break;}}else _0x5ea5e6=_0x19a2f3['postdata'];}}}if(_0x19a2f3['cache']===!(-0x188a+0x1e6f+-0x4*0x179)){const _0x341ef9=de();_0x574022=new Rd(_0xca025e),_0x574022['query']?_0x574022['query']=_0x574022['query']+'&ts='+_0x341ef9:_0x574022['query']='ts='+_0x341ef9,_0xca025e=_0x574022['toString']();}_0x19a2f3['query']&&(_0x574022=new Rd(_0xca025e),_0x402a82=ah(_0x574022['getQuery'](),_0x19a2f3['query']),_0x574022['setQuery'](_0x402a82),_0xca025e=_0x574022['toString']());const _0x170369=new XMLHttpRequest();_0x170369['open'](_0x1d1420,_0xca025e,_0x19a2f3['async']),_0x170369['withCreden'+'tials']=_0x19a2f3['withCreden'+'tials']!==void(0x62e*-0x4+0x7c9*-0x1+0x2081)?_0x19a2f3['withCreden'+'tials']:!(0x709+-0x1456+-0x83*-0x1a),_0x170369['responseTy'+'pe']=_0x19a2f3['responseTy'+'pe']||this['_guessResp'+'onseType'](_0xca025e);for(const _0x5f026a in _0x19a2f3['headers'])_0x19a2f3['headers']['hasOwnProp'+'erty'](_0x5f026a)&&_0x170369['setRequest'+'Header'](_0x5f026a,_0x19a2f3['headers'][_0x5f026a]);_0x170369['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x1d1420,_0xca025e,_0x19a2f3,_0x170369);},_0x170369['onerror']=()=>{this['_onError'](_0x1d1420,_0xca025e,_0x19a2f3,_0x170369),_0x11cd94=!(0x1*0x1e92+-0x17d*-0x17+-0x40cd);};try{_0x170369['send'](_0x5ea5e6);}catch(_0x5cec8d){_0x11cd94||_0x19a2f3['error'](_0x170369['status'],_0x170369,_0x5cec8d);}return _0x170369;}['_guessResp'+'onseType'](_0x4b597c){const _0x371f36=new Rd(_0x4b597c),_0x513b4e=xe['getExtensi'+'on'](_0x371f36['path'])['toLowerCas'+'e']();return Oe['binaryExte'+'nsions']['indexOf'](_0x513b4e)>=0xee0+0x24*0xa3+-0x25cc?Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x513b4e==='.json'?Oe['ResponseTy'+'pe']['JSON']:_0x513b4e==='.xml'?Oe['ResponseTy'+'pe']['DOCUMENT']:Oe['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x40e307){return[Oe['ContentTyp'+'e']['BASIS'],Oe['ContentTyp'+'e']['BIN'],Oe['ContentTyp'+'e']['DDS'],Oe['ContentTyp'+'e']['GLB'],Oe['ContentTyp'+'e']['MP3'],Oe['ContentTyp'+'e']['MP4'],Oe['ContentTyp'+'e']['OGG'],Oe['ContentTyp'+'e']['OPUS'],Oe['ContentTyp'+'e']['WAV']]['indexOf'](_0x40e307)>=-0x290*-0x1+-0x63d*-0x3+-0xd*0x1a3;}['_isBinaryR'+'esponseTyp'+'e'](_0x51fc2a){return _0x51fc2a===Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x51fc2a===Oe['ResponseTy'+'pe']['BLOB']||_0x51fc2a===Oe['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x2fc5f4,_0x5ad5e7,_0x5e75ae,_0x57237b){if(_0x57237b['readyState']===-0xaf9+0x1037*-0x1+-0x2*-0xd9a)switch(_0x57237b['status']){case-0x1*0x1c5a+0x461*-0x4+0x7a5*0x6:{_0x57237b['responseUR'+'L']&&_0x57237b['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x2fc5f4,_0x5ad5e7,_0x5e75ae,_0x57237b):this['_onError'](_0x2fc5f4,_0x5ad5e7,_0x5e75ae,_0x57237b);break;}case-0x2681*-0x1+-0x1d89*0x1+-0x1*0x830:case-0xef8+0x1cc2+-0xd01:case-0x861+-0x181c+-0x9*-0x3b3:case 0xf*0xfd+-0xa9d+-0x306:{this['_onSuccess'](_0x2fc5f4,_0x5ad5e7,_0x5e75ae,_0x57237b);break;}default:{this['_onError'](_0x2fc5f4,_0x5ad5e7,_0x5e75ae,_0x57237b);break;}}}['_onSuccess'](_0x86c737,_0x2c6f4d,_0x1bc315,_0x122611){let _0x5db8bf,_0x14774;const _0x5d0713=_0x122611['getRespons'+'eHeader']('Content-Ty'+'pe');_0x5d0713&&(_0x14774=_0x5d0713['split'](';')[-0xaa0+-0x9bb*-0x1+0xe5]['trim']());try{this['_isBinaryC'+'ontentType'](_0x14774)||this['_isBinaryR'+'esponseTyp'+'e'](_0x122611['responseTy'+'pe'])?_0x5db8bf=_0x122611['response']:_0x14774===Oe['ContentTyp'+'e']['JSON']||_0x2c6f4d['split']('?')[-0x1*-0x131a+-0x119d+-0x3*0x7f]['endsWith']('.json')?_0x5db8bf=JSON['parse'](_0x122611['responseTe'+'xt']):_0x122611['responseTy'+'pe']===Oe['ResponseTy'+'pe']['DOCUMENT']||_0x14774===Oe['ContentTyp'+'e']['XML']?_0x5db8bf=_0x122611['responseXM'+'L']:_0x5db8bf=_0x122611['responseTe'+'xt'],_0x1bc315['callback'](null,_0x5db8bf);}catch(_0x1385d3){_0x1bc315['callback'](_0x1385d3);}}['_onError'](_0x31346e,_0x47419d,_0x20dc61,_0x23a336){if(!_0x20dc61['retrying']){if(_0x20dc61['retry']&&_0x20dc61['retries']<_0x20dc61['maxRetries']){_0x20dc61['retries']++,_0x20dc61['retrying']=!(0x213b+0x5ab*-0x4+-0xa8f);const _0x5237c5=Y['clamp'](Math['pow'](0x2479*-0x1+-0x238d*0x1+0x4808,_0x20dc61['retries'])*Oe['retryDelay'],0x1*0x1369+-0x1195+0xea*-0x2,_0x20dc61['maxRetryDe'+'lay']||0x4eb*-0x1+0x283+0x15f0);console['log'](_0x31346e+':\x20'+_0x47419d+'\x20-\x20Error\x20'+_0x23a336['status']+('.\x20Retrying'+'\x20in\x20')+_0x5237c5+'\x20ms'),setTimeout(()=>{_0x20dc61['retrying']=!(-0x14f5+-0x136d+0x1*0x2863),this['request'](_0x31346e,_0x47419d,_0x20dc61,_0x20dc61['callback']);},_0x5237c5);}else _0x20dc61['callback'](_0x23a336['status']===0x2187+-0x4dc+-0x1cab?'Network\x20er'+'ror':_0x23a336['status'],null);}}};h(Oe,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),h(Oe,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),h(Oe,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),h(Oe,'retryDelay',-0x137c+0xc6*-0x12+0x21cc);let Ls=Oe;const ot=new Ls(),Vp='linear',bw='inverse',Aw='exponentia'+'l';class Cw{constructor(_0x566274){h(this,'_manager'),h(this,'position',new D()),h(this,'orientatio'+'n',new te()),this['_manager']=_0x566274;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x42e44a){this['position']['copy'](_0x42e44a);const _0x32dc35=this['listener'];_0x32dc35&&('positionX'in _0x32dc35?(_0x32dc35['positionX']['value']=_0x42e44a['x'],_0x32dc35['positionY']['value']=_0x42e44a['y'],_0x32dc35['positionZ']['value']=_0x42e44a['z']):_0x32dc35['setPositio'+'n']&&_0x32dc35['setPositio'+'n'](_0x42e44a['x'],_0x42e44a['y'],_0x42e44a['z']));}['setOrienta'+'tion'](_0x1fb41f){this['orientatio'+'n']['copy'](_0x1fb41f);const _0xcb1d4=this['listener'];if(_0xcb1d4){const _0x42d4de=_0x1fb41f['data'];'forwardX'in _0xcb1d4?(_0xcb1d4['forwardX']['value']=-_0x42d4de[-0x19f0+-0x4*0x97f+0x3ff4],_0xcb1d4['forwardY']['value']=-_0x42d4de[0x1b46+0x3*-0x8ab+-0x13c],_0xcb1d4['forwardZ']['value']=-_0x42d4de[0x2e*0xd7+0x1318+-0x39b0],_0xcb1d4['upX']['value']=_0x42d4de[-0x1*0xdbd+0x2401+-0x1640],_0xcb1d4['upY']['value']=_0x42d4de[-0xb42+0x2159+-0x19*0xe2],_0xcb1d4['upZ']['value']=_0x42d4de[0x1*-0x1ce1+-0x3*0x20d+-0xe*-0x281]):_0xcb1d4['setOrienta'+'tion']&&_0xcb1d4['setOrienta'+'tion'](-_0x42d4de[-0x46+-0x5*-0x36f+-0x10dd],-_0x42d4de[0x397*-0x2+0x86f+-0x138],-_0x42d4de[-0x2674+0x18f5+0xd89],_0x42d4de[0x6*0x44b+-0x16cb+-0x2f3],_0x42d4de[0x1141+-0x83*-0x8+-0x1554],_0x42d4de[0x59*0x4f+0x1*0x10ec+-0x2c5d]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x5e0ca4=this['_manager']['context'];return _0x5e0ca4?_0x5e0ca4['listener']:null;}}const Ql='running',f_=['click','touchstart','mousedown'];class Pw extends me{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||w['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(-0x1b83+-0x292*-0x3+-0x9e7*-0x2),this['listener']=new Cw(this),this['_volume']=0xfb*-0x23+-0xb*0x1e1+-0x7db*-0x7;}set['volume'](_0x36727c){_0x36727c=Y['clamp'](_0x36727c,-0x337*0x6+0x8b*-0x45+-0x1f5*-0x1d,-0x1*-0xa25+-0x4b*0x19+-0x2d1),this['_volume']=_0x36727c,this['fire']('volumechan'+'ge',_0x36727c);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==Ql&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(0x5a*0x1+-0x2067+-0x3*-0xaaf),this['_context']&&this['_context']['state']===Ql&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(-0x29c*-0xe+0x1*0x10e7+-0x356e),this['_context']&&this['_context']['state']!==Ql&&this['_resume']());}['destroy'](){var _0x29f82b;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x29f82b=this['_context'])==null||_0x29f82b['close'](),this['_context']=null);}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x557f77=this['_context']['createBuff'+'erSource']();_0x557f77['buffer']=this['_context']['createBuff'+'er'](-0x1*0x21c5+0x1*0x24a6+-0x2e0,0x76*0xa+0x2384+-0x281f,this['_context']['sampleRate']),_0x557f77['connect'](this['_context']['destinatio'+'n']),_0x557f77['start'](0x1ae1+-0x5*-0x665+-0x36*0x117),_0x557f77['onended']=_0x174d63=>{_0x557f77['disconnect'](0x1d*0x35+-0xc9a+0x3*0x233),this['fire']('resume');};},_0x18f4db=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0x18f4db);})['catch'](_0x4ea06f=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x4ea06f);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x4ef17d=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x4ef17d);})['catch'](_0x1a707b=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x1a707b);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==Ql&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){f_['forEach'](_0x1db63f=>{window['addEventLi'+'stener'](_0x1db63f,this['_unlockHan'+'dlerFunc'],!(0x5dc+-0xea0+0x1c1*0x5));});}['_removeUnl'+'ockListene'+'rs'](){f_['forEach'](_0x12cf33=>{window['removeEven'+'tListener'](_0x12cf33,this['_unlockHan'+'dlerFunc'],!(0x25f*0x5+0x4*-0x737+0x2*0x881));});}}class Mw{constructor(_0x8963d9){h(this,'audio'),h(this,'buffer'),_0x8963d9 instanceof Audio?this['audio']=_0x8963d9:this['buffer']=_0x8963d9;}get['duration'](){let _0x2bfa7e=0x122d+0x1*-0x1628+-0x3fb*-0x1;return this['buffer']?_0x2bfa7e=this['buffer']['duration']:this['audio']&&(_0x2bfa7e=this['audio']['duration']),_0x2bfa7e||-0x1b41+-0x220e+0x49*0xd7;}}function Dl(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}const Zt=0x39f*-0x1+0x9ce*-0x3+-0x3*-0xb03,fn=-0x23f5+-0x1*0x1307+0x7*0x7db,Hs=-0x38*-0x7c+-0xf3e+-0xbe0;function es(_0x2e43dd,_0x3d6088){return _0x2e43dd%_0x3d6088||-0xd73+0x3c2+0x9b1;}class As extends me{constructor(_0x28cdae,_0x375298,_0xcb7bc4){super(),h(this,'source',null),(this['_manager']=_0x28cdae,this['_volume']=_0xcb7bc4['volume']!==void(0x1*0xc4f+0x1bc7+0x5ba*-0x7)?Y['clamp'](Number(_0xcb7bc4['volume'])||0x3*-0x6d9+-0x2342+0xb29*0x5,0x1*0x2665+0x246*0x9+-0x3d*0xf7,-0xdcd+-0x20c5*-0x1+-0x12f7):0x1*-0x1058+-0x64d+0x16a6,this['_pitch']=_0xcb7bc4['pitch']!==void(0x1*0x21+-0x1b*-0x9b+0x4a*-0x39)?Math['max'](-0x5d*-0x12+-0x9*0x75+-0x45*0x9+0.01,Number(_0xcb7bc4['pitch'])||0x15d*-0x7+-0x35*0x82+0x1*0x2475):-0x79c*-0x3+0x14a5+-0x2b78,this['_loop']=!!(_0xcb7bc4['loop']!==void(-0x31*0x86+0x1b0d+-0x167*0x1)&&_0xcb7bc4['loop']),this['_sound']=_0x375298,this['_state']=Hs,this['_suspended']=!(-0x15c5+-0x1cd*-0x13+0x7*-0x1c7),this['_suspendEn'+'dEvent']=0xc5b+-0x19*-0x17c+-0x9*0x57f,this['_suspendIn'+'stanceEven'+'ts']=!(-0xd9c+-0x188+0xf25),this['_playWhenL'+'oaded']=!(0x1847+-0xf11*0x2+0x5db),this['_startTime']=Math['max'](0x2437*0x1+0x61f+-0x2a56,Number(_0xcb7bc4['startTime'])||0x66d+-0xf88+0x91b),this['_duration']=Math['max'](0x2540+0x2*0x8cb+-0x36d6*0x1,Number(_0xcb7bc4['duration'])||0x15*0x68+0x1f*0x127+0x2c41*-0x1),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0xcb7bc4['onPlay'],this['_onPauseCa'+'llback']=_0xcb7bc4['onPause'],this['_onResumeC'+'allback']=_0xcb7bc4['onResume'],this['_onStopCal'+'lback']=_0xcb7bc4['onStop'],this['_onEndCall'+'back']=_0xcb7bc4['onEnd'],Dl()?(this['_startedAt']=-0x1*-0xe57+-0x168a+-0x833*-0x1,this['_currentTi'+'me']=0x1*-0x212c+0x61*0x17+0x1875*0x1,this['_currentOf'+'fset']=0xaea+-0x1b9b+-0x1*-0x10b1,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x3a1*0x6+0x2f*0xa5+-0x1*0x3410),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(-0x1*-0x195d+-0x1*0x12bf+-0x1*0x69d),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x3e5ac5){if(!(_0x3e5ac5<-0x111c*-0x2+0x1187+-0x33bf)){if(this['_state']===Zt){const _0x425aea=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(0x1b09+-0x73+0x53*-0x52),this['stop'](),this['_startOffs'+'et']=_0x3e5ac5,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x425aea;}else this['_startOffs'+'et']=_0x3e5ac5,this['_currentTi'+'me']=_0x3e5ac5;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===fn?this['_currentTi'+'me']:this['_state']===Hs||!this['source']?0x429+-0x202c+-0x1c03*-0x1:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x193681){this['_duration']=Math['max'](-0x179*-0xb+-0x34*0x7e+0x41*0x25,Number(_0x193681)||0x6*-0x3f8+-0x132d+0x47*0x9b);const _0x44ee0c=this['_state']===Zt;this['stop'](),_0x44ee0c&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?es(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:-0x49c+-0x22d2+-0x2*-0x13b7;}get['isPaused'](){return this['_state']===fn;}get['isPlaying'](){return this['_state']===Zt;}get['isStopped'](){return this['_state']===Hs;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x47108a){this['_loop']=!!_0x47108a,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x3457da){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x3457da)||0x11a7+-0x170+-0x7*0x251,-0x10dd*0x1+0x3ea+0xd*0xff+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x461278){this['_sound']=_0x461278,this['_state']!==Hs?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x2333d9){this['_startTime']=Math['max'](0x2581+-0x53+-0x252e,Number(_0x2333d9)||0x107b+0x155*-0x6+-0x87d);const _0x2929c9=this['_state']===Zt;this['stop'](),_0x2929c9&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x1c4664){_0x1c4664=Y['clamp'](_0x1c4664,-0x1193+-0x33*-0x14+0xd97,-0x1859+0x13a8+0x4b2),this['_volume']=_0x1c4664,this['gain']&&(this['gain']['gain']['value']=_0x1c4664*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>-0xbb*0x2f+0xde9+0x146c){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Zt&&!this['_suspended']&&(this['_suspended']=!(-0x5*-0x31d+0x1abe+-0x2a4f),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(-0x9d*0x1d+-0x3d*0x87+0x3*0x10a7),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==Hs&&this['stop'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(-0x11fc+0xb18+0x6e5),this['_waitingCo'+'ntextSuspe'+'nsion']?!(-0x7*-0x89+0x14ac+-0x1*0x186a):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0xa64+0x686+0x1ef*0x2),!(0x1d71+0x10a*0x24+-0x42d8)):(this['_playAudio'+'Immediate'](),!(-0xc2f*-0x3+-0x11f9+-0x1294));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x5*-0x1c+-0x1*0x1baa+-0x35*-0x83),this['_state']!==Zt)return;this['source']||this['_createSou'+'rce']();let _0xdd68c1=es(this['_startOffs'+'et'],this['duration']);_0xdd68c1=es(this['_startTime']+_0xdd68c1,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](0x25*0xbe+0x1d0a+-0x3880,_0xdd68c1,this['_duration']):this['source']['start'](0x21a2+-0x1e46+-0x35c,_0xdd68c1),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=0x1cf*-0x9+-0x1f*-0xa3+-0x376,this['_currentOf'+'fset']=_0xdd68c1,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(0x9d*-0x25+0x111c*0x2+-0xb86),this['_state']!==Zt?!(-0x973+-0x246d+0x91*0x51):(this['_state']=fn,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](-0x4*-0x6f7+-0x61*-0x47+-0x36c3),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(-0xff7*0x2+-0x18d*-0x11+0x591));}['resume'](){if(this['_state']!==fn)return!(-0x1334+0x1be7*-0x1+-0xc*-0x3ed);let _0x5189dc=this['currentTim'+'e'];return this['_state']=Zt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0x5189dc=es(this['_startOffs'+'et'],this['duration']),_0x5189dc=es(this['_startTime']+_0x5189dc,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](-0x260f+0x4ae+-0x6ad*-0x5,_0x5189dc,this['_duration']):this['source']['start'](-0x12c0+0xebe+0x201*0x2,_0x5189dc),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0x5189dc,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(0xa6*0x26+-0x1bf1+0x5e*0x9),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0x1*0x2de+0x1997+0x15*-0x115);}['stop'](){if(this['_playWhenL'+'oaded']=!(0xfcb*0x2+0x24ea+0xdb3*-0x5),this['_state']===Hs)return!(0x560+-0xa3*-0x1f+-0x191c);const _0x4ae983=this['_state']===Zt;return this['_state']=Hs,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=-0x9*0xe2+-0x1*-0x1ddf+-0x15ed*0x1,this['_currentTi'+'me']=-0x18fa+0x2*0xb8a+0x1e6*0x1,this['_currentOf'+'fset']=-0x1611+0x4bc+0x99*0x1d,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x4ae983&&this['source']&&this['source']['stop'](0x2024+-0x17c1+-0x863),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(-0x681+-0x2*-0xcf1+-0x1361);}['setExterna'+'lNodes'](_0x581a03,_0x2079b6){if(!_0x581a03){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x2079b6||(_0x2079b6=_0x581a03);const _0x38e4c6=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x581a03&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x38e4c6),this['_firstNode']=_0x581a03,this['_connector'+'Node']['connect'](_0x581a03)),this['_lastNode']!==_0x2079b6&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x38e4c6),this['_lastNode']=_0x2079b6,this['_lastNode']['connect'](_0x38e4c6));}['clearExter'+'nalNodes'](){const _0xb7d943=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0xb7d943),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0xb7d943);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0xc4970e=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0xc4970e['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=es(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],es(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=es((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Zt&&(this['source']['stop'](0x58*-0x56+-0x1a+0x1daa),this['source']=null);}}h(As,'EVENT_PLAY','play'),h(As,'EVENT_PAUS'+'E','pause'),h(As,'EVENT_RESU'+'ME','resume'),h(As,'EVENT_STOP','stop'),h(As,'EVENT_END','end'),Dl()||(Object['assign'](As['prototype'],{'play':function(){return this['_state']!==Hs&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(-0x36e+0x927+-0x5b8):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(-0xab*0x2+-0x75+0x1cc),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(-0x238a*0x1+-0xd3*0x1b+0x39cb));},'pause':function(){return!this['source']||this['_state']!==Zt?!(0xa92+-0x314*-0xb+-0x2c6d):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0x120a+-0x31*0x17+0x1672),this['_state']=fn,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(0x14ab*-0x1+-0x1*-0x268d+-0x2*0x8f1));},'resume':function(){return!this['source']||this['_state']!==fn?!(0x251b*0x1+0x2*-0x1fd+-0x2120):(this['_state']=Zt,this['_playWhenL'+'oaded']=!(-0x1*0xe59+0x11e3+-0x389),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0x1867+-0x1a5*-0xf+-0x4*0x11));},'stop':function(){return!this['source']||this['_state']===Hs?!(0x2f*0xa8+-0xc3a*-0x1+0xe5b*-0x3):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0x906+0x743+0x1c4),this['_state']=Hs,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(-0x1e41+-0x259b+0x2*0x21ee));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(0x17e7+-0x11c2+-0x625);let _0x2ea6f1=es(this['_startOffs'+'et'],this['duration']);_0x2ea6f1=es(this['_startTime']+_0x2ea6f1,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x2ea6f1;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(-0x239*-0xb+-0x31*0x90+0x31e),this['source']=this['_sound']['audio']['cloneNode'](!(-0x146e+-0x2aa+0x1718)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>es(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=es(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](As['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x271e2c){_0x271e2c=Y['clamp'](_0x271e2c,-0x1781+-0x1164+-0x1*-0x28e5,-0x1*-0x1ef1+-0x1368+-0xb88),this['_volume']=_0x271e2c,this['source']&&(this['source']['volume']=_0x271e2c*this['_manager']['volume']);}}),Object['defineProp'+'erty'](As['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x33e830){this['_pitch']=Math['max'](Number(_0x33e830)||-0x1*-0x1dfb+-0x1*-0x1d3e+-0x3b39,-0x1bf7+0x9a*0x2a+0x2b3+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](As['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x3080bb){this['stop'](),this['_sound']=_0x3080bb;}}),Object['defineProp'+'erty'](As['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===Hs||!this['source']?0xa71+0xb25*0x2+-0x20bb:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0x2d4cc4){_0x2d4cc4<0x22*0x108+-0x65c+-0x1cb4||(this['_startOffs'+'et']=_0x2d4cc4,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=es(this['_startTime']+es(_0x2d4cc4,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Dw=0x2*-0x542+-0x389f+0x6a33*0x1;class sn extends As{constructor(_0x144e8d,_0x11b1bd,_0x49842a={}){super(_0x144e8d,_0x11b1bd,_0x49842a),h(this,'_position',new D()),h(this,'_velocity',new D()),(_0x49842a['position']&&(this['position']=_0x49842a['position']),this['maxDistanc'+'e']=_0x49842a['maxDistanc'+'e']!==void(-0x143a+0x11+0x1429)?Number(_0x49842a['maxDistanc'+'e']):Dw,this['refDistanc'+'e']=_0x49842a['refDistanc'+'e']!==void(-0xc86*-0x2+0xb1a*0x1+-0x2426)?Number(_0x49842a['refDistanc'+'e']):-0x1de+0x23a0+-0x21c1,this['rollOffFac'+'tor']=_0x49842a['rollOffFac'+'tor']!==void(0x3*0x14a+-0x42f*-0x2+-0xc3c)?Number(_0x49842a['rollOffFac'+'tor']):-0x1*0x1dda+0xb6*0x1d+0x93d,this['distanceMo'+'del']=_0x49842a['distanceMo'+'del']!==void(0x17f3*0x1+0x172f+-0x2f22)?_0x49842a['distanceMo'+'del']:Vp);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0x1c69ca){this['_position']['copy'](_0x1c69ca);const _0x49eb31=this['panner'];'positionX'in _0x49eb31?(_0x49eb31['positionX']['value']=_0x1c69ca['x'],_0x49eb31['positionY']['value']=_0x1c69ca['y'],_0x49eb31['positionZ']['value']=_0x1c69ca['z']):_0x49eb31['setPositio'+'n']&&_0x49eb31['setPositio'+'n'](_0x1c69ca['x'],_0x1c69ca['y'],_0x1c69ca['z']);}get['position'](){return this['_position'];}set['velocity'](_0x27243c){w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x27243c);}get['velocity'](){return w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x2b50d1){this['panner']['maxDistanc'+'e']=_0x2b50d1;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x304f4a){this['panner']['refDistanc'+'e']=_0x304f4a;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x55c35d){this['panner']['rolloffFac'+'tor']=_0x55c35d;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x192b52){this['panner']['distanceMo'+'del']=_0x192b52;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Dl()){let l=new D();const t=function(_0xb14def,_0x446f3a,_0x8a7e50,_0x340e2e,_0x3c4e6a,_0x32a898){l=l['sub2'](_0xb14def,_0x446f3a);const _0x3a6e77=l['length']();if(_0x3a6e77<_0x8a7e50)return 0xed*-0x1f+-0x14*-0x80+0x12b4;if(_0x3a6e77>_0x340e2e)return-0x11*-0x1c4+0x1626+-0x342a;let _0x4b56af=-0x20a1*0x1+-0x2*-0xa5d+-0x1*-0xbe7;return _0x32a898===Vp?_0x4b56af=-0xa7a*-0x3+0x1075+0x6*-0x7fb-_0x3c4e6a*(_0x3a6e77-_0x8a7e50)/(_0x340e2e-_0x8a7e50):_0x32a898===bw?_0x4b56af=_0x8a7e50/(_0x8a7e50+_0x3c4e6a*(_0x3a6e77-_0x8a7e50)):_0x32a898===Aw&&(_0x4b56af=Math['pow'](_0x3a6e77/_0x8a7e50,-_0x3c4e6a)),Y['clamp'](_0x4b56af,-0x1*0xbe9+-0x1eb5*0x1+0x2a9e,-0x1a8d*0x1+-0x6e5+0x1*0x2173);};Object['defineProp'+'erty'](sn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x2c4347){if(this['_position']['copy'](_0x2c4347),this['source']){const _0x3d4d6e=this['_manager']['listener']['getPositio'+'n'](),_0x122119=t(_0x3d4d6e,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x56efe0=this['volume'];this['source']['volume']=_0x56efe0*_0x122119*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](sn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x2a737b){this['_maxDistan'+'ce']=_0x2a737b;}}),Object['defineProp'+'erty'](sn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x509b5b){this['_refDistan'+'ce']=_0x509b5b;}}),Object['defineProp'+'erty'](sn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x310c16){this['_rollOffFa'+'ctor']=_0x310c16;}}),Object['defineProp'+'erty'](sn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x3657d7){this['_distanceM'+'odel']=_0x3657d7;}});}const Gp=-0xef4+0x1*-0x1b2e+0x2a22*0x1,Hp=0x2*-0x61+0x116a+-0x10a7,Zs=-0x12e5+-0x2033+0x331a,Cs=0x43a*0x8+0x133*-0x1e+0x22d,Gn=0x123e+-0x1c2c+0x9f2,Wp=-0x1754*0x1+0xeff+0x85a,Ed=-0x1896+-0x9*0x18d+0x2691,$p=0x1fe7+0x379*0xb+-0x4613*0x1,Xp=-0xe3e*0x1+-0x1685+0x24cb,qp=-0x17*0xb6+-0x1b*0x6b+0x1bac,jp=-0x1*-0x2dd+0xa1d+0x90*-0x17,Yy={[Gp]:'SUBTRACTIV'+'E',[Hp]:'ADDITIVE',[Zs]:'NORMAL',[Cs]:'NONE',[Gn]:'PREMULTIPL'+'IED',[Wp]:'MULTIPLICA'+'TIVE',[Ed]:'ADDITIVEAL'+'PHA',[$p]:'MULTIPLICA'+'TIVE2X',[Xp]:'SCREEN',[qp]:'MIN',[jp]:'MAX'},Kn='none',Iw='linear',Lw=-0x142d+0x1b54+-0x1*0x727,Yp=-0x7eb*0x2+0xb*0xf9+-0x525*-0x1,Rw={[Lw]:'NONE',[Yp]:'SCHLICK'},Ow=-0x295+0x1*0x3b+-0x25a*-0x1,Ky=0x1a0f+-0x6b*-0xb+-0x1e99,er=-0x1795*0x1+0x20*0xca+-0x1ab,ps=0x1*-0xdff+-0x532+0x9*0x222,Kp=-0x1cb5+0x1f80+-0x2c9,Zp=-0x2*0x12aa+-0x59*-0x42+0xe65,Il=0x1cd6+0x1dcf+-0x3aa1,ve=-0x1*0x1f6b+-0x2*0x11d6+0x4317,Ke=-0x6f+-0xd25*0x1+0x13*0xb7,Ze=0x204+0xc99+-0x1*0xe9b,u_={[ve]:'DIRECTIONA'+'L',[Ke]:'OMNI',[Ze]:'SPOT'},$c=0x1969+-0x25f3*-0x1+-0x3ef8,Ys=0x1e84*-0x1+-0xb17+0x299b*0x1,Zy=0xaf1*0x3+-0x91*-0x22+-0x3414,Qy=-0x1fda+0x1b35+0x3*0x18d,Jy=0x1e9e*-0x1+0x7*0x384+-0x605*-0x1,Fw={[Ys]:'PUNCTUAL',[Zy]:'RECT',[Qy]:'DISK',[Jy]:'SPHERE'},Qp=-0x2582*0x1+-0x1*-0x19+0x1*0x2569,ev=0x4*-0x81+-0x1776+-0x1*-0x197b,Nw={[Qp]:'LINEAR',[ev]:'INVERSESQU'+'ARED'},$s=-0x5d3*-0x1+-0x3*-0xa97+-0x2*0x12cc,au=0x86a+0x19b1+-0x2219,Jp=-0x24af+-0x8*0xb7+0x2a6a,kw=-0x3*0xc5c+0x3*-0x7eb+-0x3cd9*-0x1,tv=-0x195b*0x1+0x2*0xc1d+-0x126*-0x1,al=-0xb3c+0x2*-0x137b+0x1*0x3238,sv=0x2169*0x1+-0x1b64+0x1*-0x5fe,iv=-0x80a+0x205c+-0x184a*0x1,Uw=0x447*-0x7+-0x1d5f+0x3b59,qi=new Map([[tv,{'name':'PCF1_32F','kind':'PCF1','format':$i,'pcf':!(-0xa31+-0x1*-0x1bcb+-0x119a)}],[$s,{'name':'PCF3_32F','kind':'PCF3','format':$i,'pcf':!(-0x2*-0x80c+-0x4df*-0x6+-0x16a9*0x2)}],[kw,{'name':'PCF5_32F','kind':'PCF5','format':$i,'pcf':!(-0x1ab9*0x1+-0xcfe*0x1+0x27b7)}],[sv,{'name':'PCF1_16F','kind':'PCF1','format':vn,'pcf':!(-0x1259*-0x1+-0x20c7+-0x1*-0xe6e)}],[iv,{'name':'PCF3_16F','kind':'PCF3','format':vn,'pcf':!(-0x8c8*0x1+0x20f*-0xd+0x1*0x238b)}],[Uw,{'name':'PCF5_16F','kind':'PCF5','format':vn,'pcf':!(-0x1d*0x5+0xd8+-0x47*0x1)}],[au,{'name':'VSM_16F','kind':'VSM','format':nt,'vsm':!(-0x26ae+0xac*-0x25+0x3f8a)}],[Jp,{'name':'VSM_32F','kind':'VSM','format':Xt,'vsm':!(0x21de+0x1bcf+-0x3dad)}],[al,{'name':'PCSS_32F','kind':'PCSS','format':Ji,'pcss':!(-0x5c5+0x1d7*0x11+-0x1982)}]]),Bw=0x2303*0x1+-0x1c0f*0x1+-0x5f5,em=0x2d7*0x3+-0x3*0x32f+0x109,nu=-0x3*-0x7ab+-0x178e+0x8d,rv=-0x11*0x1d7+0x2db+0xd6*0x22,ai=-0xf73+-0x791*-0x1+0x7e2,zw=-0xa41+-0x18c6+0x2308,yh=-0x11*-0x217+-0x13e+-0x2249,Vw=-0x2038*-0x1+0x2*-0x1123+0x20f,ni=0x145+0x3b*0x11+-0x530,En=0x3d2+0xc61*-0x3+0x2152*0x1,un=0xc15*0x3+0x25*0x100+-0x493f,$r=0x51f+-0x3*-0x373+-0xf77,Jl=0x2*0xa25+0x35d+0x17a5*-0x1,tm=0x7ec+0x19f7+-0x19*0x15b,av=0x610*0x5+0x1358*0x1+-0x31a7,Gw={[tm]:'NONE',[av]:'BOX'},p_='mul',Ll=-0x1*-0x2364+-0x2132+-0x232,Xc=0xd7a+0x95+-0xe0e*0x1,Hw={[Ll]:'NONE',[Xc]:'SRGB'},sm=0x1c9+-0x1*-0x1019+0x7*-0x28e,UU=0x1f*0xad+0x653+0x3*-0x917,BU=0x1bb8+0x2f*0x3+-0x1c43*0x1,zU=0x1ce4*0x1+-0x11fb+-0xae6,VU=0xfd0+0x72+-0x103e,GU=-0x1524+0xf4*0x24+-0xd27,nv=0x17b5+0x5*-0x31d+0x40f*-0x2,ov=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],lv=-0x10ae+0x1*0xd09+0x3a5,bd=0x90e+0x26a7+-0x2fb4,cv=-0xced+-0x16a8+-0x1*-0x2397,Ww={[lv]:'NONE',[bd]:'AO',[cv]:'GLOSSDEPEN'+'DENT'},vr='none',vh='envAtlas',xh='envAtlasHQ',Th='cubeMap',hv='sphereMap',$w={[vr]:'NONE',[vh]:'ENVATLAS',[xh]:'ENVATLASHQ',[Th]:'CUBEMAP',[hv]:'SPHEREMAP'},im='ambientSH',rm='envAtlas',am='constant',Xw={[im]:'AMBIENTSH',[rm]:'ENVALATLAS',[am]:'CONSTANT'},wh=0x207b+-0x241b*-0x1+-0x4495,nl=-0x9a7+0xb5a*-0x3+0x2bb7,nm=0x513+-0x2046*0x1+0x1b37,dv=-0x1*0x2201+0x1*0x1607+-0x6a*-0x1d,fv=-0x3*-0x17+-0x100d+-0x2a4*-0x6,ol=-0x1d1b+-0x1af2+0x382d,ou=-0x2*0x2db+0x74d+-0x157,uv=-0x1*-0x16c3+0xc2e+0x2271*-0x1,Eh=0x1b92+0x1*-0x5a6+-0x14ec,om=0xc*0x44+-0x7b4*-0x2+0x426*-0x4,ll=0x206+0x71*-0x38+0x1*0x1ab2,cl=0x16*0x7b+0x936+0x5e4*-0x2,pv=-0xe02+-0x6b5*-0x4+0x32e,hl=0x13c*0x2+-0x1240*-0x1+0xb48,qc=0x42d9+-0x1a89*0x2+-0x12b*-0x2b,Ps=0x9fb*0x1+-0xd7*-0x25+-0x5*0x836,xr=-0x5*-0x11e+-0x12d3+0xd3e,lm=0xe4a+-0x1823+-0x349*-0x3,Ss=-0x2*-0x32b+0x742+-0xd97,di=-0x11*0xd+-0x2581*0x1+-0x20*-0x133,fi=-0xb*0x31c+0x180d+0xa2b,Aa=0x1*-0x4ab+0x607*0x3+-0x6b5*0x2,Rl=0x1*-0x82d+0x254d+-0x7*0x429,cm=0x1f1c+0x1ddd+0x3cf7*-0x1,Zn=-0xe83+-0x8c*0xd+-0xad1*-0x2,ci=0x2*-0x9eb+0x1*0xf8b+0x44b,Pt=0x9d3+-0x22bb+0x7*0x38f,Mt=-0x1b5a+-0xcd9+0x2835,qw={[ci]:'SIMPLE',[Pt]:'SLICED',[Mt]:'TILED'},jc=-0x113*0x1d+-0x1b09+0x1*0x3a31,ec=-0xbc+-0x12d1*-0x1+-0x1215,Yc=-0xf5c+0x8b6+0x6a6,jw=-0x891+-0x22*-0xdf+-0x150c,Yw=-0x342+-0x183*0xe+0x186e*0x1,m_=-0x16b7+-0x673*-0x1+-0x56d*-0x3,Kw=-0x16+-0xf3b+0xf55,Zw=0x55*0x19+-0x11b5*-0x2+-0x77*0x5e,hm=-0x2e1+-0x1210+0x14f1,lu=0x992+-0x24*0xe9+-0x1*-0x1733,Ce=-0x9*-0x18a+-0x2290+0x14b6,je=-0x255*0x4+0xd1c+-0x3c7,Bo='infinite',Qw='box',Jw='dome',Sa='none',eE='bayer8',tE='bluenoise',sE='ignnoise',iE={[Sa]:'NONE',[eE]:'BAYER8',[tE]:'BLUENOISE',[sE]:'IGNNOISE'},rE='prerender',aE='postrender',nE='prerender:'+'layer',oE='postrender'+':layer',mv='precull',_v='postcull',lE='cull:end';class Ad{constructor(_0x380f18,_0x15bdad,_0x3cbb03){h(this,'uniformFor'+'mats',[]),h(this,'bindGroupF'+'ormats',[]),h(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][rl]=_0x380f18,this['bindGroupF'+'ormats'][rl]=_0x15bdad,this['vertexForm'+'at']=_0x3cbb03);}['hasUniform'](_0x3c0eec){for(let _0x4356f8=-0x1*-0x25f+0x6af*0x2+-0xfbd;_0x4356f8<this['uniformFor'+'mats']['length'];_0x4356f8++){const _0x2629d1=this['uniformFor'+'mats'][_0x4356f8];if(_0x2629d1!=null&&_0x2629d1['get'](_0x3c0eec))return!(0x8*-0x1c9+-0xa90+0x1*0x18d8);}return!(-0x1*0xe4e+0x2*0xe6b+-0xe87);}['hasTexture'](_0x441c75){for(let _0x4c7c18=-0x108c*0x2+0x2*0x982+0xe14;_0x4c7c18<this['bindGroupF'+'ormats']['length'];_0x4c7c18++){const _0x2a9246=this['bindGroupF'+'ormats'][_0x4c7c18];if(_0x2a9246!=null&&_0x2a9246['getTexture'](_0x441c75))return!(-0x1*0x52d+0x570+-0x43);}return!(0xb0c+0x2*-0x67f+0x1f3);}['getVertexE'+'lement'](_0x389083){var _0x5d385c;return(_0x5d385c=this['vertexForm'+'at'])==null?void(0x6c7+-0x86*-0x14+0x113f*-0x1):_0x5d385c['elements']['find'](_0x23a23a=>_0x23a23a['name']===_0x389083);}['generateKe'+'y'](_0x244f58){var _0x3ef493;let _0x2e217d=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x244f58['isWebGPU']&&(_0x2e217d+=(_0x3ef493=this['vertexForm'+'at'])==null?void(-0x577*-0x1+0x831+-0xda8):_0x3ef493['shaderProc'+'essingHash'+'String']),_0x2e217d;}}const gv=new Kt();function Hn(_0x5d268a){const _0xee82f5=gv['get'](_0x5d268a);return w['assert'](_0xee82f5),_0xee82f5;}function cE(_0x455586,_0xf1f1da){w['assert'](_0xf1f1da),gv['get'](_0x455586,()=>_0xf1f1da);}class ya{static['definesHas'+'h'](_0x4b9092){const _0x2129e3=Array['from'](_0x4b9092)['sort']((_0xc88105,_0x208f19)=>_0xc88105[0xdc9+-0x2*0x58c+0x1*-0x2b1]>_0x208f19[-0xac+-0x1413+0x14bf]?0xde0+-0x1532+0x753:-(-0x134b+0x509+0xe43));return hi(JSON['stringify'](_0x2129e3));}}const hE=new Kt();class dE{constructor(_0x39b0ff,_0x49de46,_0x9b49d2={}){h(this,'index'),h(this,'name'),h(this,'defines',new Map()),(w['assert'](/^[a-z]\w*$/i['test'](_0x39b0ff),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x39b0ff),this['name']=_0x39b0ff,this['index']=_0x49de46,Object['assign'](this,_0x9b49d2),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x55b2a0;this['isShadow']?_0x55b2a0='SHADOW':this['isForward']?_0x55b2a0='FORWARD':this['index']===Zn&&(_0x55b2a0='PICK'),this['defines']['set'](_0x55b2a0+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Si{constructor(){h(this,'passesName'+'d',new Map()),h(this,'passesInde'+'xed',[]),h(this,'nextIndex',0xafa+-0xa*-0x3d1+-0x44*0xb9);const _0x52c282=(_0x211443,_0x508e4c,_0x38d397)=>{const _0x59997b=this['allocate'](_0x211443,_0x38d397);w['assert'](_0x59997b['index']===_0x508e4c);};_0x52c282('forward',Aa,{'isForward':!(-0x14f7+0xb*-0x91+-0x1*-0x1b32)}),_0x52c282('prepass',Rl),_0x52c282('shadow',cm),_0x52c282('pick',Zn);}static['get'](_0x4da315){return w['assert'](_0x4da315),hE['get'](_0x4da315,()=>new Si());}['allocate'](_0x45aa8b,_0x5682e0){let _0x560985=this['passesName'+'d']['get'](_0x45aa8b);return _0x560985===void(-0x4a*0xc+-0xf3b+0x12b3)&&(_0x560985=new dE(_0x45aa8b,this['nextIndex'],_0x5682e0),this['passesName'+'d']['set'](_0x560985['name'],_0x560985),this['passesInde'+'xed'][_0x560985['index']]=_0x560985,this['nextIndex']++),_0x560985;}['getByIndex'](_0x14c272){const _0x1f35fe=this['passesInde'+'xed'][_0x14c272];return w['assert'](_0x1f35fe),_0x1f35fe;}['getByName'](_0x15234f){return this['passesName'+'d']['get'](_0x15234f);}}class __ extends Map{constructor(){super(...arguments),h(this,'_keyDirty',!(-0x1e04+0xb96+0x126f)),h(this,'_key','');}['set'](_0x418ca8,_0x22c7d0){return(!this['has'](_0x418ca8)||this['get'](_0x418ca8)!==_0x22c7d0)&&this['markDirty'](),super['set'](_0x418ca8,_0x22c7d0);}['add'](_0x1e72ff){for(const [_0x54dc94,_0x1115bd]of Object['entries'](_0x1e72ff))this['set'](_0x54dc94,_0x1115bd);return this;}['delete'](_0x5b8542){const _0x3a5da0=this['has'](_0x5b8542),_0x1388b2=super['delete'](_0x5b8542);return _0x3a5da0&&_0x1388b2&&this['markDirty'](),_0x1388b2;}['clear'](){this['size']>0x1150+0x5e8+-0x2*0xb9c&&this['markDirty'](),super['clear']();}['markDirty'](){this['_dirty']=!(-0x232+-0x1*-0x2185+-0x1f53),this['_keyDirty']=!(-0x975+0x2*-0x600+0x1575);}['isDirty'](){return this['_dirty'];}['resetDirty'](){this['_dirty']=!(-0x1bbd*-0x1+-0xb7e+-0x103e);}get['key'](){return this['_keyDirty']&&(this['_keyDirty']=!(0x89*-0x25+0x23cd+-0xfff),this['_key']=Array['from'](this['entries']())['sort'](([_0x43a214],[_0x4951cd])=>_0x43a214<_0x4951cd?-(-0x189d+0x1*-0x37d+0x1c1b):_0x43a214>_0x4951cd?-0x2445+0x25c4+-0x1*0x17e:0x10de+-0x558+-0xb86)['map'](([_0x4f7bb7,_0x5eabe0])=>_0x4f7bb7+'='+hi(_0x5eabe0))['join'](',')),this['_key'];}['copy'](_0x122162){this['clear']();for(const [_0x576f85,_0x233247]of _0x122162)this['set'](_0x576f85,_0x233247);return this;}}const fE=new Kt();class Pe{constructor(){h(this,'glsl',new __()),h(this,'wgsl',new __()),h(this,'version','');}static['get'](_0x5881e9,_0x337816=Fe){const _0x31295b=fE['get'](_0x5881e9,()=>new Pe());return _0x337816===Fe?_0x31295b['glsl']:_0x31295b['wgsl'];}get['useWGSL'](){return this['glsl']['size']===0x3c*0x17+0x12de+-0x1842||this['wgsl']['size']>0x26bd*0x1+0x23b7+0x1*-0x4a74;}get['key'](){return'GLSL:'+this['glsl']['key']+'|WGSL:'+this['wgsl']['key']+'|API:'+this['version'];}['isDirty'](){return this['glsl']['isDirty']()||this['wgsl']['isDirty']();}['resetDirty'](){this['glsl']['resetDirty'](),this['wgsl']['resetDirty']();}['copy'](_0x2fe6df){return this['version']=_0x2fe6df['version'],this['glsl']['copy'](_0x2fe6df['glsl']),this['wgsl']['copy'](_0x2fe6df['wgsl']),this;}}class bh{static['merge'](..._0x1dabc0){const _0x109f55=new Map(_0x1dabc0[-0x1371+0xa87+0x7*0x146]??[]);for(let _0x263164=-0x394+-0x26f*0x1+-0x2c*-0x23;_0x263164<_0x1dabc0['length'];_0x263164++){const _0x5ed77f=_0x1dabc0[_0x263164];if(_0x5ed77f){for(const [_0x5a6078,_0x477856]of _0x5ed77f)_0x109f55['set'](_0x5a6078,_0x477856);}}return _0x109f55;}}class uE extends ya{constructor(_0x418543,_0x32be08){super(),this['key']=_0x418543,this['shaderDefi'+'nition']=_0x32be08;}['generateKe'+'y'](_0x1d3929){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x2e37c1,_0x27ac6b){return this['shaderDefi'+'nition'];}}class $t{static['createShad'+'er'](_0x5f0cdf,_0x3ee6a2){const _0xcd9f9=Hn(_0x5f0cdf);let _0x1decd0=_0xcd9f9['getCachedS'+'hader'](_0x3ee6a2['uniqueName']);if(!_0x1decd0){const _0xafec9e=_0x5f0cdf['isWebGPU']&&(!!_0x3ee6a2['vertexWGSL']||!!_0x3ee6a2['vertexChun'+'k'])&&(!!_0x3ee6a2['fragmentWG'+'SL']||!!_0x3ee6a2['fragmentCh'+'unk']),_0xb6652a=Pe['get'](_0x5f0cdf,_0xafec9e?it:Fe),_0x2815ca=_0x3ee6a2['vertexChun'+'k']?_0xb6652a['get'](_0x3ee6a2['vertexChun'+'k']):_0xafec9e?_0x3ee6a2['vertexWGSL']:_0x3ee6a2['vertexGLSL'],_0x27350f=_0x3ee6a2['fragmentCh'+'unk']?_0xb6652a['get'](_0x3ee6a2['fragmentCh'+'unk']):_0xafec9e?_0x3ee6a2['fragmentWG'+'SL']:_0x3ee6a2['fragmentGL'+'SL'];w['assert'](_0x2815ca,'ShaderUtil'+'s.createSh'+'ader:\x20vert'+'ex\x20shader\x20'+'code\x20not\x20p'+'rovided',_0x3ee6a2),w['assert'](_0x27350f,'ShaderUtil'+'s.createSh'+'ader:\x20frag'+'ment\x20shade'+'r\x20code\x20not'+'\x20provided',_0x3ee6a2);const _0x454790=bh['merge'](_0xb6652a,_0x3ee6a2['fragmentIn'+'cludes']),_0x2542da=bh['merge'](_0xb6652a,_0x3ee6a2['vertexIncl'+'udes']);_0x1decd0=new qy(_0x5f0cdf,Jt['createDefi'+'nition'](_0x5f0cdf,{'name':_0x3ee6a2['uniqueName'],'shaderLanguage':_0xafec9e?it:Fe,'attributes':_0x3ee6a2['attributes'],'vertexCode':_0x2815ca,'fragmentCode':_0x27350f,'useTransformFeedback':_0x3ee6a2['useTransfo'+'rmFeedback'],'vertexIncludes':_0x2542da,'vertexDefines':_0x3ee6a2['vertexDefi'+'nes'],'fragmentIncludes':_0x454790,'fragmentDefines':_0x3ee6a2['fragmentDe'+'fines'],'fragmentOutputTypes':_0x3ee6a2['fragmentOu'+'tputTypes']})),_0xcd9f9['setCachedS'+'hader'](_0x3ee6a2['uniqueName'],_0x1decd0);}return _0x1decd0;}static['getCoreDef'+'ines'](_0x52a31b,_0x30d975){const _0x24811a=new Map(_0x52a31b['defines']);return _0x30d975['cameraShad'+'erParams']['defines']['forEach']((_0x2957bb,_0x50c66e)=>_0x24811a['set'](_0x50c66e,_0x2957bb)),Si['get'](_0x30d975['device'])['getByIndex'](_0x30d975['pass'])['defines']['forEach']((_0x3803ee,_0x389019)=>_0x24811a['set'](_0x389019,_0x3803ee)),_0x24811a;}static['processSha'+'der'](_0x24330a,_0xaa52a2){w['assert'](_0x24330a);const _0x4f25bf=_0x24330a['definition'],_0xf87614=(_0x4f25bf['name']??'shader')+'-id-'+_0x24330a['id'],_0x3edd8f=new uE(_0xf87614,_0x4f25bf),_0x54f767='shader',_0x431f60=Hn(_0x24330a['device']);w['assert'](!_0x431f60['isRegister'+'ed'](_0x54f767)),_0x431f60['register'](_0x54f767,_0x3edd8f);const _0x4e1523=_0x431f60['getProgram'](_0x54f767,{},_0xaa52a2);return _0x431f60['unregister'](_0x54f767),_0x4e1523;}static['addScreenD'+'epthChunkD'+'efines'](_0x2b025c,_0x975ca2,_0x45022b){_0x975ca2['sceneDepth'+'MapLinear']&&_0x45022b['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',''),_0x2b025c['textureFlo'+'atRenderab'+'le']&&_0x45022b['set']('SCENE_DEPT'+'HMAP_FLOAT','');}}const pE={'type':Er,'base':0x0,'baseVertex':0x0,'count':0x4,'indexed':!(0x28c+-0x24ab+0x2220)},so=new re(),io=new re(),Gd=new ky();class Ah{constructor(_0x5419c7){h(this,'uniformBuf'+'fer'),h(this,'bindGroup');const _0x3b90a3=_0x5419c7['device'];if(this['shader']=_0x5419c7,w['assert'](_0x5419c7),_0x3b90a3['supportsUn'+'iformBuffe'+'rs']){const _0x213985=new Ad();this['shader']=$t['processSha'+'der'](_0x5419c7,_0x213985);const _0x280cd7=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0x280cd7&&(this['uniformBuf'+'fer']=new zp(_0x3b90a3,_0x280cd7,!(-0x1d6f+-0x1*-0xd39+-0x1037*-0x1)));const _0x4f5ba4=this['shader']['meshBindGr'+'oupFormat'];w['assert'](_0x4f5ba4),this['bindGroup']=new Up(_0x3b90a3,_0x4f5ba4),Ea['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x1d607b,_0x352244;(_0x1d607b=this['uniformBuf'+'fer'])==null||_0x1d607b['destroy'](),this['uniformBuf'+'fer']=null,(_0x352244=this['bindGroup'])==null||_0x352244['destroy'](),this['bindGroup']=null;}['render'](_0x33f8b9,_0x20fa51){const _0x1bea89=this['shader']['device'];Q['pushGpuMar'+'ker'](_0x1bea89,'QuadRender'),_0x33f8b9&&(so['set'](_0x1bea89['vx'],_0x1bea89['vy'],_0x1bea89['vw'],_0x1bea89['vh']),io['set'](_0x1bea89['sx'],_0x1bea89['sy'],_0x1bea89['sw'],_0x1bea89['sh']),_0x20fa51=_0x20fa51??_0x33f8b9,_0x1bea89['setViewpor'+'t'](_0x33f8b9['x'],_0x33f8b9['y'],_0x33f8b9['z'],_0x33f8b9['w']),_0x1bea89['setScissor'](_0x20fa51['x'],_0x20fa51['y'],_0x20fa51['z'],_0x20fa51['w'])),_0x1bea89['setVertexB'+'uffer'](_0x1bea89['quadVertex'+'Buffer'],0x3*0x68b+-0xaa2+-0x8ff);const _0x15e367=this['shader'];if(_0x1bea89['setShader'](_0x15e367),_0x1bea89['supportsUn'+'iformBuffe'+'rs']){_0x1bea89['setBindGro'+'up'](rl,_0x1bea89['emptyBindG'+'roup']);const _0x50823=this['bindGroup'];_0x50823['update'](),_0x1bea89['setBindGro'+'up'](Oy,_0x50823);const _0x2b9008=this['uniformBuf'+'fer'];_0x2b9008?(_0x2b9008['update'](Gd),_0x1bea89['setBindGro'+'up'](su,Gd['bindGroup'],Gd['offsets'])):_0x1bea89['setBindGro'+'up'](su,_0x1bea89['emptyBindG'+'roup']);}_0x1bea89['draw'](pE),_0x33f8b9&&(_0x1bea89['setViewpor'+'t'](so['x'],so['y'],so['z'],so['w']),_0x1bea89['setScissor'](io['x'],io['y'],io['z'],io['w'])),Q['popGpuMark'+'er'](_0x1bea89);}}class mE extends ys{constructor(_0x331b9e,_0x29187e,_0x582bdf,_0x5a8dd6){super(_0x331b9e),this['quad']=_0x29187e,this['rect']=_0x582bdf,this['scissorRec'+'t']=_0x5a8dd6;}['execute'](){const {device:_0x26e2d4}=this;Q['pushGpuMar'+'ker'](_0x26e2d4,this['name']+':'+this['quad']['shader']['name']),_0x26e2d4['setCullMod'+'e'](bt),_0x26e2d4['setDepthSt'+'ate'](Yt['NODEPTH']),_0x26e2d4['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),Q['popGpuMark'+'er'](_0x26e2d4);}}const _E=new re();function Ar(_0xaaf08c,_0x2a66f8,_0x22ff30,_0x26c929,_0x364343){w['assert'](_0x2a66f8!==void(-0x3*-0x11c+-0x55*-0x1a+0xbf6*-0x1));const _0x2c16d7=arguments[-0x15cb+0x241*-0x4+-0x2*-0xf6a];w['call'](()=>{_0x2c16d7!==void(0x34d+0x589*0x6+-0xd*0x2cf)&&w['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x4427f4=new Ah(_0x22ff30);_0x26c929||(_0x26c929=_E,_0x26c929['x']=-0x5*-0x2e9+-0x210f+0x1282,_0x26c929['y']=-0x20b*0x11+0x1177+0x1144,_0x26c929['z']=_0x2a66f8?_0x2a66f8['width']:_0xaaf08c['width'],_0x26c929['w']=_0x2a66f8?_0x2a66f8['height']:_0xaaf08c['height']);const _0x5ef117=new mE(_0xaaf08c,_0x4427f4,_0x26c929,_0x364343);_0x5ef117['init'](_0x2a66f8),_0x5ef117['colorOps']['clear']=!(-0x8f7*0x2+-0x1b4*-0xd+0x435*-0x1),_0x5ef117['depthStenc'+'ilOps']['clearDepth']=!(-0x1597+-0x31*0x5f+-0x257*-0x11),_0xaaf08c['isWebGPU']&&_0x2a66f8===null&&_0xaaf08c['samples']>0x1f9*0x11+0x153*-0x11+-0x1*0xb05&&(_0x5ef117['colorOps']['store']=!(0xad*0x39+0x1a*0x25+0x2a47*-0x1)),_0x5ef117['render'](),_0x4427f4['destroy']();}class g_{constructor(_0x40e56c,_0x594134,_0x4b0260){h(this,'_aabb',new De()),h(this,'origMeshIn'+'stances'),h(this,'meshInstan'+'ce',null),h(this,'dynamic'),h(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x40e56c,this['dynamic']=_0x594134,this['batchGroup'+'Id']=_0x4b0260);}['destroy'](_0x32c06a,_0x577f41){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x32c06a,_0x577f41),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0x464ba4,_0x5040d9){for(let _0x4b5dea=-0x1bfc+-0x1b0f+0x21*0x1ab;_0x4b5dea<_0x5040d9['length'];_0x4b5dea++){const _0x4a3d8e=_0x464ba4['layers']['getLayerBy'+'Id'](_0x5040d9[_0x4b5dea]);_0x4a3d8e&&_0x4a3d8e['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x2a6725,_0x373206){for(let _0x258fcd=0x2313+-0x1*-0x6c1+-0xa75*0x4;_0x258fcd<_0x373206['length'];_0x258fcd++){const _0x3ac888=_0x2a6725['layers']['getLayerBy'+'Id'](_0x373206[_0x258fcd]);_0x3ac888&&_0x3ac888['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][-0x1f27+-0x622+0x2549]['aabb']);for(let _0xa5d338=0xac7+0x4*0x47c+-0x1cb6;_0xa5d338<this['origMeshIn'+'stances']['length'];_0xa5d338++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0xa5d338]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=0x1*-0x25f+0x11e*0x18+0x1*-0x1871;}get['model'](){w['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class St{constructor(_0x5bb292,_0x57328f,_0x420e22,_0x4fafa8,_0x4891c9=[er]){h(this,'_ui',!(0x1958+0x897+-0x21ee)),h(this,'_sprite',!(0x7f5*-0x3+-0x1*-0xde9+0x9f7)),h(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),h(this,'id'),h(this,'name'),h(this,'dynamic'),h(this,'maxAabbSiz'+'e'),h(this,'layers'),(this['id']=_0x5bb292,this['name']=_0x57328f,this['dynamic']=_0x420e22,this['maxAabbSiz'+'e']=_0x4fafa8,this['layers']=_0x4891c9);}}h(St,'MODEL','model'),h(St,'ELEMENT','element'),h(St,'SPRITE','sprite'),h(St,'RENDER','render');const S_=new te();class Ol{constructor(_0xded941){h(this,'bones'),(this['_dirty']=!(-0x1a7e+0xedb*-0x2+0x51c*0xb),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(-0x1f*0x1+0x2*-0x101f+0x205e),this['_updateBef'+'oreCull']=!(0xb*-0x295+0x1*-0x188b+0x34f2),_0xded941&&this['initSkin'](_0xded941));}set['rootBone'](_0x23adbc){this['_rootBone']=_0x23adbc;}get['rootBone'](){return this['_rootBone'];}['init'](_0x3025cf,_0x143e4b){const _0x5ae2f5=_0x143e4b*(-0x22ea+-0x523+0x2810);let _0x8696c7=Math['ceil'](Math['sqrt'](_0x5ae2f5));_0x8696c7=Y['roundUp'](_0x8696c7,0x22f8+-0x2408+-0x5*-0x37);const _0x319129=Math['ceil'](_0x5ae2f5/_0x8696c7);this['boneTextur'+'e']=new _e(_0x3025cf,{'width':_0x8696c7,'height':_0x319129,'format':Xt,'mipmaps':!(0x2*0xcce+-0xc85+-0xd16),'minFilter':Te,'magFilter':Te,'name':'skin'}),this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':yy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x30db67,_0x4bfa33){this['rootBone']=_0x30db67;const _0x3fa297=this['skin'],_0x5a0277=[];for(let _0x301e27=-0xfbe+0xdd3+0x1eb;_0x301e27<_0x3fa297['boneNames']['length'];_0x301e27++){const _0x40616d=_0x3fa297['boneNames'][_0x301e27];let _0x4f6736=_0x30db67['findByName'](_0x40616d);_0x4f6736||(w['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x40616d+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0x4bfa33['name']+(',\x20rootBone'+':\x20')+_0x30db67['name']),_0x4f6736=_0x4bfa33),_0x5a0277['push'](_0x4f6736);}this['bones']=_0x5a0277;}['initSkin'](_0xae8eb3){this['skin']=_0xae8eb3,this['bones']=[];const _0x3dcb12=_0xae8eb3['inverseBin'+'dPose']['length'];this['init'](_0xae8eb3['device'],_0x3dcb12),this['matrices']=[];for(let _0x2528e5=-0xa7c*-0x1+0x179*-0x9+0x2c5;_0x2528e5<_0x3dcb12;_0x2528e5++)this['matrices'][_0x2528e5]=new te();}['uploadBone'+'s'](_0x15c17e){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x46c9ee,_0x5d13ef){if(this['_skinUpdat'+'eIndex']!==_0x5d13ef){this['_skinUpdat'+'eIndex']=_0x5d13ef,S_['copy'](_0x46c9ee['getWorldTr'+'ansform']())['invert']();for(let _0x57bfa7=this['bones']['length']-(-0x2275+-0x23e0+0x4656);_0x57bfa7>=0x1*-0x1f66+-0x86b+-0x27d1*-0x1;_0x57bfa7--)this['matrices'][_0x57bfa7]['mulAffine2'](S_,this['bones'][_0x57bfa7]['getWorldTr'+'ansform']()),this['matrices'][_0x57bfa7]['mulAffine2'](this['matrices'][_0x57bfa7],this['skin']['inverseBin'+'dPose'][_0x57bfa7]);}}['updateMatr'+'ices'](_0x137703,_0x59bd9e){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x137703,_0x59bd9e);}['updateMatr'+'ixPalette'](_0x1e94f7,_0x5f1be1){this['_updateMat'+'rices'](_0x1e94f7,_0x5f1be1);const _0x43f4ca=this['matrixPale'+'tte'],_0x3ae498=this['bones']['length'];for(let _0x5ee184=0x2617+0x2490+-0x4aa7;_0x5ee184<_0x3ae498;_0x5ee184++){const _0x584e9f=this['matrices'][_0x5ee184]['data'],_0x17c932=_0x5ee184*(-0x2*0xfae+0x1*-0x1b5b+0x3ac3*0x1);_0x43f4ca[_0x17c932]=_0x584e9f[0x2519+-0x5*0x1c9+0x964*-0x3],_0x43f4ca[_0x17c932+(-0x1*-0x641+-0x167e+0x3*0x56a)]=_0x584e9f[-0x70*0x5+-0x1d8d+-0x2e3*-0xb],_0x43f4ca[_0x17c932+(0x6f2+0x1d*0xa3+-0x1967)]=_0x584e9f[0x24a9*0x1+0x69e+-0x2b3f],_0x43f4ca[_0x17c932+(0x1e1a+0x11f7*-0x2+0x5d7)]=_0x584e9f[-0x179b+-0xbd4+-0x1*-0x237b],_0x43f4ca[_0x17c932+(0x9*-0x11c+-0x22dd+-0x1*-0x2cdd)]=_0x584e9f[0x33d+-0x208d*-0x1+-0x1*0x23c9],_0x43f4ca[_0x17c932+(0x6*-0x321+0x1*-0xa76+0x1*0x1d41)]=_0x584e9f[-0x5*0x707+-0x1310+-0xad8*-0x5],_0x43f4ca[_0x17c932+(0x1673*-0x1+-0x20a0+-0xd*-0x43d)]=_0x584e9f[0x2201+0x1116+-0x1*0x330e],_0x43f4ca[_0x17c932+(0x214b+0x4*0x479+0x3328*-0x1)]=_0x584e9f[-0x12a5+0x1729+0x17d*-0x3],_0x43f4ca[_0x17c932+(-0x7d4+0x164f*-0x1+0x1e2b)]=_0x584e9f[-0x78*0x25+0x15e3+0x1b*-0x2b],_0x43f4ca[_0x17c932+(0x4*-0xd6+-0x13b2+0x1713)]=_0x584e9f[-0x1b23+0x144b+-0x36f*-0x2],_0x43f4ca[_0x17c932+(0x15f0*0x1+-0x2300+0xd1a)]=_0x584e9f[-0x1*0x1df+0x2604+-0x2c7*0xd],_0x43f4ca[_0x17c932+(-0x2201+0x1e7*-0x11+0x4263)]=_0x584e9f[0x1*0x1b9a+-0x17a0+-0x3ec*0x1];}this['uploadBone'+'s'](this['skin']['device']);}}class y_ extends Ol{constructor(_0x151c6b,_0x2e647c,_0x1f828b){super();const _0x1a2e1e=_0x2e647c['length'];this['init'](_0x151c6b,_0x1a2e1e),this['device']=_0x151c6b,this['rootNode']=_0x1f828b,this['bones']=_0x2e647c;}['updateMatr'+'ices'](_0x2cde1b,_0x38a0c4){}['updateMatr'+'ixPalette'](_0x5d840b,_0x894943){const _0x1c44ff=this['matrixPale'+'tte'],_0x1b034b=this['bones']['length'];for(let _0x2c414e=0x1*0x119b+0x2468*0x1+-0x3603;_0x2c414e<_0x1b034b;_0x2c414e++){const _0x3ef2e1=this['bones'][_0x2c414e]['getWorldTr'+'ansform']()['data'],_0x4a6342=_0x2c414e*(-0xe11+0x2056+-0x1239);_0x1c44ff[_0x4a6342]=_0x3ef2e1[-0x1*-0x85f+0xf+-0x86e],_0x1c44ff[_0x4a6342+(0x1a73+0x1e9*-0x1+0x1*-0x1889)]=_0x3ef2e1[-0x1597*-0x1+0x1e8a*0x1+-0x1*0x341d],_0x1c44ff[_0x4a6342+(0x1*0x17df+-0x1fe8+-0x1*-0x80b)]=_0x3ef2e1[0x1*-0x15b0+-0x167e+0x1*0x2c36],_0x1c44ff[_0x4a6342+(0x1*-0x655+-0x9ad+0x1005)]=_0x3ef2e1[0x1*0x141d+0x67c+-0x3cb*0x7],_0x1c44ff[_0x4a6342+(0x154e+-0x2*-0x52d+0x64*-0x51)]=_0x3ef2e1[0x3*-0x957+-0x1acd+-0x23*-0x191],_0x1c44ff[_0x4a6342+(0x1030+0xacc+-0x8fd*0x3)]=_0x3ef2e1[-0x1ff*0x12+0x1a3*-0xd+0x393a],_0x1c44ff[_0x4a6342+(-0xb3f*0x1+0x15ae+-0xa69)]=_0x3ef2e1[-0xf2a+0x191c+0x9e9*-0x1],_0x1c44ff[_0x4a6342+(-0x135*0x12+-0x1b61+0x1*0x3122)]=_0x3ef2e1[0x3ad+0xc1a+-0xb*0x16e],_0x1c44ff[_0x4a6342+(0x25cd+0x24dd*-0x1+-0x8*0x1d)]=_0x3ef2e1[-0x26e2+-0x731+0x2e15],_0x1c44ff[_0x4a6342+(0x179a+0x11*-0x3f+-0x2*0x9b1)]=_0x3ef2e1[-0x44+0x1*-0xcfb+0x1*0xd45],_0x1c44ff[_0x4a6342+(0x1643+-0x1*0x16bd+0x84)]=_0x3ef2e1[-0xe9*0x2+0xcb*0x2f+-0x2369],_0x1c44ff[_0x4a6342+(0xa87*0x3+-0xe13+-0x1177)]=_0x3ef2e1[0xf8a+-0x5b9+-0x33*0x31];}this['uploadBone'+'s'](this['device']);}}let gE=0x11b*-0xb+-0x2*-0x950+-0x677;class oi{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(0x1053+0x5*0x502+-0x4*0xa57),this['verticesUs'+'age']=ms,this['indicesUsa'+'ge']=ms,this['maxVertice'+'s']=-0x505+-0x21b0+-0x16f*-0x1b,this['maxIndices']=0x48d+-0x2b*-0x51+-0xa6*0x1c,this['vertexCoun'+'t']=-0x163f+-0x1*0x1f39+0x3578,this['indexCount']=0x21b4+0x4f4*0x5+-0xe9e*0x4,this['vertexStre'+'amsUpdated']=!(0x1*0x266c+-0x21*-0x11c+-0x4b07),this['indexStrea'+'mUpdated']=!(0x818*0x1+0x1*-0x10a5+0x88e),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0xc28c79,_0x320ba8){this['vertexCoun'+'t']?w['assert'](this['vertexCoun'+'t']===_0xc28c79,'Vertex\x20str'+'eam\x20'+_0x320ba8+'\x20has\x20'+_0xc28c79+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0xc28c79;}}h(oi,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',-0x11*-0xad+0x1069*-0x1+-0x1a5*-0x3),h(oi,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',-0x2694+-0x20de+0x4775),h(oi,'DEFAULT_CO'+'MPONENTS_U'+'V',-0x4a2+-0x1f16+0x23ba),h(oi,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',-0x6b4+0x916+0xca*-0x3);class SE{constructor(_0x5ca942,_0x74044e,_0x2c600a,_0x8ed0a2,_0x795e98){this['data']=_0x5ca942,this['componentC'+'ount']=_0x74044e,this['dataType']=_0x2c600a,this['dataTypeNo'+'rmalize']=_0x8ed0a2,this['asInt']=_0x795e98;}}class Ge extends wd{constructor(_0x5b40ac,_0x324d80){super(),h(this,'indexBuffe'+'r',[null]),h(this,'vertexBuff'+'er',null),h(this,'primitive',[{'type':0x0,'base':0x0,'baseVertex':0x0,'count':0x0}]),h(this,'skin',null),h(this,'boneAabb',null),h(this,'_aabbVer',-0x1*-0xc9+-0x1689+0xae*0x20),h(this,'_aabb',new De()),h(this,'_geometryD'+'ata',null),h(this,'_morph',null),h(this,'_storageIn'+'dex',!(0x157c+0x1066+-0x25e1)),h(this,'_storageVe'+'rtex',!(0x21cb+-0x20cc+-0xfe)),(this['id']=gE++,w['assert'](_0x5b40ac,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x5b40ac,this['_storageIn'+'dex']=(_0x324d80==null?void(-0x22b6+-0x4e6+-0x2*-0x13ce):_0x324d80['storageInd'+'ex'])||!(0x39b*0x5+0xeea+-0x20f0*0x1),this['_storageVe'+'rtex']=(_0x324d80==null?void(-0x1*0x2062+-0x23da+-0x2*-0x221e):_0x324d80['storageVer'+'tex'])||!(-0x1516+0xad8*0x2+-0x99));}static['fromGeomet'+'ry'](_0x46af41,_0x306090,_0x17cbc1={}){const _0x58b9bf=new Ge(_0x46af41,_0x17cbc1),{positions:_0x42f1ba,normals:_0x58883d,tangents:_0x2b1a8d,colors:_0x1d11c6,uvs:_0x5149c4,uvs1:_0x4e6e32,blendIndices:_0xc49f7a,blendWeights:_0x49c1e7,indices:_0x3e438e}=_0x306090;return _0x42f1ba&&_0x58b9bf['setPositio'+'ns'](_0x42f1ba),_0x58883d&&_0x58b9bf['setNormals'](_0x58883d),_0x2b1a8d&&_0x58b9bf['setVertexS'+'tream'](yi,_0x2b1a8d,-0x23*-0x9d+0x119b*-0x1+0x29*-0x18),_0x1d11c6&&_0x58b9bf['setColors3'+'2'](_0x1d11c6),_0x5149c4&&_0x58b9bf['setUvs'](-0x1ba6+0xf7a+0xc2c,_0x5149c4),_0x4e6e32&&_0x58b9bf['setUvs'](-0x25fb+-0x1*-0xe85+0x1777,_0x4e6e32),_0xc49f7a&&_0x58b9bf['setVertexS'+'tream'](us,_0xc49f7a,-0x93f+-0x4c8+0xe0b,_0xc49f7a['length']/(0x3*-0x3+0x4ac+-0x49f*0x1),la),_0x49c1e7&&_0x58b9bf['setVertexS'+'tream'](gi,_0x49c1e7,0x1da5+0x9d*0x9+-0x2*0x1193),_0x3e438e&&_0x58b9bf['setIndices'](_0x3e438e),_0x58b9bf['update'](),_0x58b9bf;}set['morph'](_0x38fcdd){_0x38fcdd!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x38fcdd,_0x38fcdd&&_0x38fcdd['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x302d3a){this['_aabb']=_0x302d3a,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x4b866a=this['morph'];_0x4b866a&&(this['morph']=null,_0x4b866a['refCount']<0x16d1+0x14e9*-0x1+0x1*-0x1e7&&_0x4b866a['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0x24ad16=-0x20*0xef+-0x71*0x16+0x2796;_0x24ad16<this['indexBuffe'+'r']['length'];_0x24ad16++)this['_destroyIn'+'dexBuffer'](_0x24ad16);this['indexBuffe'+'r']['length']=0x1*0x1bcb+0x1*0x2f3+-0x1ebe,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x1fa408){this['indexBuffe'+'r'][_0x1fa408]&&(this['indexBuffe'+'r'][_0x1fa408]['destroy'](),this['indexBuffe'+'r'][_0x1fa408]=null);}['_initBoneA'+'abbs'](_0x2952c2){this['boneAabb']=[],this['boneUsed']=[];let _0x259746,_0x573434,_0x156507,_0x54147e,_0x83ec6a;const _0x40fe90=[],_0x200709=[],_0x21ed9b=this['boneUsed'],_0x25d9ab=this['skin']['boneNames']['length'];let _0x320398,_0x36be89,_0xeac96f;for(let _0x49975d=-0xe*0x157+-0x227*0xd+-0x2ebd*-0x1;_0x49975d<_0x25d9ab;_0x49975d++)_0x40fe90[_0x49975d]=new D(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x200709[_0x49975d]=new D(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x3fc380=new Uo(this['vertexBuff'+'er']),_0x5368a5=_0x3fc380['element'][Me],_0x18edb3=_0x3fc380['element'][gi],_0x596807=_0x3fc380['element'][us],_0x158f94=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0x1d2a23=-0x1*0x139a+-0x12a*-0x17+-0x396*0x2;_0x1d2a23<_0x158f94;_0x1d2a23++){for(let _0x46ab8c=-0x18ca+-0x1708+-0x2fd2*-0x1;_0x46ab8c<0x22cf+-0x10d1+-0x11fa;_0x46ab8c++)if(_0x18edb3['array'][_0x18edb3['index']+_0x46ab8c]>0xe*0x1ec+0x160*-0x1+-0x1988){const _0x5da0d1=_0x596807['array'][_0x596807['index']+_0x46ab8c];if(_0x21ed9b[_0x5da0d1]=!(0x1*-0xf9a+0x811*-0x1+0x17ab),_0x259746=_0x5368a5['array'][_0x5368a5['index']],_0x573434=_0x5368a5['array'][_0x5368a5['index']+(0xa*0x125+0x119f+-0x1d1*0x10)],_0x156507=_0x5368a5['array'][_0x5368a5['index']+(-0x1975+-0x4*-0x736+0x5*-0xad)],_0x54147e=_0x200709[_0x5da0d1],_0x83ec6a=_0x40fe90[_0x5da0d1],_0x83ec6a['x']>_0x259746&&(_0x83ec6a['x']=_0x259746),_0x83ec6a['y']>_0x573434&&(_0x83ec6a['y']=_0x573434),_0x83ec6a['z']>_0x156507&&(_0x83ec6a['z']=_0x156507),_0x54147e['x']<_0x259746&&(_0x54147e['x']=_0x259746),_0x54147e['y']<_0x573434&&(_0x54147e['y']=_0x573434),_0x54147e['z']<_0x156507&&(_0x54147e['z']=_0x156507),_0x2952c2){let _0x67b0ce=_0x320398=_0x259746,_0x268970=_0x36be89=_0x573434,_0xa93a07=_0xeac96f=_0x156507;for(let _0x58ab43=0x11*0x21d+-0x193+-0x225a;_0x58ab43<_0x2952c2['length'];_0x58ab43++){const _0x2646f8=_0x2952c2[_0x58ab43],_0x46ccba=_0x2646f8['deltaPosit'+'ions'][_0x1d2a23*(-0x1*0x78e+0x14b*-0x5+-0x1*-0xe08)],_0x26a640=_0x2646f8['deltaPosit'+'ions'][_0x1d2a23*(-0x15*0x15c+0x1451+-0xd3*-0xa)+(0x58b+0xfe7*0x1+-0x1571)],_0x22a64a=_0x2646f8['deltaPosit'+'ions'][_0x1d2a23*(0x199e+0x3*0xfe+-0x10f*0x1b)+(-0x67d*0x5+-0xa40+0x2ab3)];_0x46ccba<-0x1829*-0x1+0x184b+0xc1d*-0x4?_0x67b0ce+=_0x46ccba:_0x320398+=_0x46ccba,_0x26a640<-0xf82+-0x2425+0x33a7?_0x268970+=_0x26a640:_0x36be89+=_0x26a640,_0x22a64a<0xb3*-0x3+0x2134+-0x1f1b*0x1?_0xa93a07+=_0x22a64a:_0xeac96f+=_0x22a64a;}_0x83ec6a['x']>_0x67b0ce&&(_0x83ec6a['x']=_0x67b0ce),_0x83ec6a['y']>_0x268970&&(_0x83ec6a['y']=_0x268970),_0x83ec6a['z']>_0xa93a07&&(_0x83ec6a['z']=_0xa93a07),_0x54147e['x']<_0x320398&&(_0x54147e['x']=_0x320398),_0x54147e['y']<_0x36be89&&(_0x54147e['y']=_0x36be89),_0x54147e['z']<_0xeac96f&&(_0x54147e['z']=_0xeac96f);}}_0x3fc380['next']();}const _0x458328=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x36a07b=>_0x36a07b['name']===Me);if(_0x458328&&_0x458328['normalize']){const _0x27ada0=((()=>{switch(_0x458328['dataType']){case dd:return _0x42cb87=>Math['max'](_0x42cb87/(-0x2350*-0x1+-0x12*-0x7f+-0x1*0x2bbf),-(0x3a9+-0x9e*-0x33+-0x2322));case la:return _0x3c12c8=>_0x3c12c8/(0x1cbb+0x53*0x8+-0x3*0xa1c);case fd:return _0x44b1e4=>Math['max'](_0x44b1e4/(0x97df+-0x1*0x1f45+0x765),-(-0x6d9*-0x5+0x1080+-0x32bc));case Ml:return _0x1e9ed3=>_0x1e9ed3/(-0x1fac5+-0x53*0x1e2+0x3970a);default:return _0x453cfc=>_0x453cfc;}})());for(let _0x598827=0x20de+0x2*-0xc6a+-0x80a;_0x598827<_0x25d9ab;_0x598827++)if(_0x21ed9b[_0x598827]){const _0x4eeafb=_0x40fe90[_0x598827],_0x31b1b3=_0x200709[_0x598827];_0x4eeafb['set'](_0x27ada0(_0x4eeafb['x']),_0x27ada0(_0x4eeafb['y']),_0x27ada0(_0x4eeafb['z'])),_0x31b1b3['set'](_0x27ada0(_0x31b1b3['x']),_0x27ada0(_0x31b1b3['y']),_0x27ada0(_0x31b1b3['z']));}}for(let _0x2e4b14=-0x2b*-0x8e+-0x20b*0xd+0x15*0x21;_0x2e4b14<_0x25d9ab;_0x2e4b14++){const _0x3da296=new De();_0x3da296['setMinMax'](_0x40fe90[_0x2e4b14],_0x200709[_0x2e4b14]),this['boneAabb']['push'](_0x3da296);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new oi(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>0x5bd+0x47*-0x2f+0x74c*0x1&&this['indexBuffe'+'r'][-0x982*-0x1+0x5*0x233+-0x1481]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][-0x1ebd+0x1899*-0x1+0x939*0x6]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][-0x284+-0x1*-0x196d+-0x16e9]['numIndices']));}['clear'](_0x2ccadb,_0x209c00,_0x351260=-0x681*-0x3+0xe09+-0x10c6*0x2,_0x9f497f=0x7*0x148+-0xa*-0x1e7+-0x1bfe){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(-0x4b*-0x26+0x1590+-0x136*0x1b),this['_geometryD'+'ata']['maxVertice'+'s']=_0x351260,this['_geometryD'+'ata']['maxIndices']=_0x9f497f,this['_geometryD'+'ata']['verticesUs'+'age']=_0x2ccadb?ms:lh,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0x209c00?ms:lh;}['setVertexS'+'tream'](_0x18a8fc,_0x1f5a7b,_0x29d43f,_0x23b7c1,_0x496325=Ve,_0xb5a8fd=!(0x71d+0x58e+-0xcaa),_0x9e4ac8=!(0xe06+-0x149d+0x698)){this['_initGeome'+'tryData']();const _0x4e596b=_0x23b7c1||_0x1f5a7b['length']/_0x29d43f;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x4e596b,_0x18a8fc),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0x832*0x1+0x1*0x102a+-0x7f8),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x18a8fc]=new SE(_0x1f5a7b,_0x29d43f,_0x496325,_0xb5a8fd,_0x9e4ac8);}['getVertexS'+'tream'](_0x54f4fc,_0x399d09){let _0x12a9da=0x120b+-0x77*-0x2c+-0x267f,_0x4b82c7=!(-0x1270+-0xef+-0x1360*-0x1);if(this['_geometryD'+'ata']){const _0x312b62=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x54f4fc];_0x312b62&&(_0x4b82c7=!(0x2212+-0x15a*0x6+0x19f6*-0x1),_0x12a9da=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x399d09)?_0x399d09['set'](_0x312b62['data']):(_0x399d09['length']=0x21a6+0xede+-0x3084,_0x399d09['push'](_0x312b62['data'])));}return _0x4b82c7||this['vertexBuff'+'er']&&(_0x12a9da=new Uo(this['vertexBuff'+'er'])['readData'](_0x54f4fc,_0x399d09)),_0x12a9da;}['setPositio'+'ns'](_0x2b61ed,_0x5053fd=oi['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x2e80c9){this['setVertexS'+'tream'](Me,_0x2b61ed,_0x5053fd,_0x2e80c9,Ve,!(-0x85*0x21+0x7*-0x263+-0x9*-0x3c3));}['setNormals'](_0x2e0b96,_0x5d721e=oi['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x378c63){this['setVertexS'+'tream'](gs,_0x2e0b96,_0x5d721e,_0x378c63,Ve,!(0xd6d+-0xa*0x7b+-0x89e));}['setUvs'](_0x75c0a1,_0x4e32e2,_0x424efb=oi['DEFAULT_CO'+'MPONENTS_U'+'V'],_0x1af09a){this['setVertexS'+'tream'](zm+_0x75c0a1,_0x4e32e2,_0x424efb,_0x1af09a,Ve,!(-0x379+-0xd53+-0x17*-0xbb));}['setColors'](_0x58f314,_0x34d909=oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x552998){this['setVertexS'+'tream'](Wt,_0x58f314,_0x34d909,_0x552998,Ve,!(0x1a67+-0xedd*0x2+-0xd5*-0x4));}['setColors3'+'2'](_0x23177d,_0x5ecea9){this['setVertexS'+'tream'](Wt,_0x23177d,oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x5ecea9,la,!(-0xcc3+0x12*-0x83+-0x7d*-0x2d));}['setIndices'](_0x137869,_0x42fa28){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(-0x1dd9+-0xe5*-0x25+-0x340),this['_geometryD'+'ata']['indices']=_0x137869,this['_geometryD'+'ata']['indexCount']=_0x42fa28||_0x137869['length'];}['getPositio'+'ns'](_0x1d9ba7){return this['getVertexS'+'tream'](Me,_0x1d9ba7);}['getNormals'](_0x3ad525){return this['getVertexS'+'tream'](gs,_0x3ad525);}['getUvs'](_0x1f1158,_0x2e4adb){return this['getVertexS'+'tream'](zm+_0x1f1158,_0x2e4adb);}['getColors'](_0x591b65){return this['getVertexS'+'tream'](Wt,_0x591b65);}['getIndices'](_0x40cb9d){let _0x430d27=0x1557+-0x8f3*0x1+-0x1a*0x7a;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x4159be=this['_geometryD'+'ata']['indices'];if(_0x430d27=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x40cb9d))_0x40cb9d['set'](_0x4159be);else{_0x40cb9d['length']=0x92f*0x1+-0x910+-0x1f;for(let _0x7a0052=-0x1*-0x2363+0xf6b*-0x2+-0x1*0x48d,_0x5d9110=_0x4159be['length'];_0x7a0052<_0x5d9110;_0x7a0052++)_0x40cb9d['push'](_0x4159be[_0x7a0052]);}}else this['indexBuffe'+'r']['length']>-0x4fb+-0x1cd2+0x21cd&&this['indexBuffe'+'r'][0x5e5+-0x7f9+0x214]&&(_0x430d27=this['indexBuffe'+'r'][-0x23cf+0x179e+0xc31]['readData'](_0x40cb9d));return _0x430d27;}['update'](_0x47d7e6=js,_0x282159=!(-0x2*-0xb3d+-0x732+-0xf48)){if(this['_geometryD'+'ata']){if(_0x282159){const _0x2ce4bc=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][Me];_0x2ce4bc&&_0x2ce4bc['componentC'+'ount']===0x12a9+0xe26+-0x20cc&&(this['_aabb']['compute'](_0x2ce4bc['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x20a626=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x20a626=!(-0xb*0x274+-0x1f49+0x3a45),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x20a626&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x2c3b45=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x2c3b45=!(0xf07+-0xf*0x11+-0xe08),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x2c3b45&&this['indexBuffe'+'r']['length']>-0xc6b*-0x1+-0xd40*0x1+0xd5&&this['indexBuffe'+'r'][0x3*0x139+0x1e*0xb+0x4f5*-0x1]&&(this['indexBuffe'+'r'][0x1f8a+0x1be5+-0x3b6f*0x1]['destroy'](),this['indexBuffe'+'r'][-0x1065+-0x1843+0x28a8]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][0x14cd*0x1+0x1c66+-0x3133]['type']=_0x47d7e6,this['indexBuffe'+'r']['length']>0x1*-0x18fb+-0xb72+0x175*0x19&&this['indexBuffe'+'r'][0x7f6+-0x3*0xbc2+0x2*0xda8]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][0x18a7+-0x1d25*-0x1+-0x4e4*0xb]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][-0x4b+0x17d7+0x4*-0x5e3]['indexed']=!(-0x74f*0x1+0x26*-0x23+-0x21*-0x61)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][-0xc73+-0x1846*-0x1+-0xbd3]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][-0x2184+0x3e*0x57+0xc72]['indexed']=!(0xa*0x29+-0x17cf+0x1636)),this['_geometryD'+'ata']['vertexCoun'+'t']=0xc29*0x2+-0xb8c*0x2+-0x13a,this['_geometryD'+'ata']['indexCount']=0x1*0x829+0x79a*0x1+-0xfc3,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0x3ca+-0x2*0x670+0x917),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(-0x3ee*-0x8+-0x18a8+-0x6c7*0x1),this['_geometryD'+'ata']['recreate']=!(0x2*-0x713+-0x28+0x197*0x9),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x264d24){const _0x44dc0b=[];for(const _0x14dae4 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x94ce28=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x14dae4];_0x44dc0b['push']({'semantic':_0x14dae4,'components':_0x94ce28['componentC'+'ount'],'type':_0x94ce28['dataType'],'normalize':_0x94ce28['dataTypeNo'+'rmalize'],'asInt':_0x94ce28['asInt']});}return new kt(this['device'],_0x44dc0b,_0x264d24);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x5e1a9e=this['_geometryD'+'ata']['maxVertice'+'s'],_0x2aa600=this['_buildVert'+'exFormat'](_0x5e1a9e);this['vertexBuff'+'er']=new Is(this['device'],_0x2aa600,_0x5e1a9e,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x27304a=new Uo(this['vertexBuff'+'er']),_0xf52f4a=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x131737 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x1de4fd=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x131737];_0x27304a['writeData'](_0x131737,_0x1de4fd['data'],_0xf52f4a),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x131737];}_0x27304a['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=-0x3*0xa38+-0xb51*-0x3+-0x34b||!this['indexBuffe'+'r'][-0xf38+0x19*-0x14b+0x3*0xfd9]){const _0x55213c=this['_geometryD'+'ata']['maxVertice'+'s'],_0x466067=_0x55213c>-0x994c+-0x1d2bc+0x36c07||_0x55213c===-0x1003*-0x1+0x18bf*0x1+-0x1461*0x2?wr:Yi,_0x1ee42f=this['_storageIn'+'dex']?{'storage':!(0x306+-0x3*0x757+0x12ff)}:void(-0x18e*0x11+-0x252a+0x4*0xfe6);this['indexBuffe'+'r'][0x13fa+-0xb*0x16c+-0x456]=new br(this['device'],_0x466067,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(0x1142+0x16a*0x17+0x6c*-0x76),_0x1ee42f);}const _0x52be5f=this['_geometryD'+'ata']['indices'];_0x52be5f&&(this['indexBuffe'+'r'][-0x9*-0x182+0x1823+-0x25b5]['writeData'](_0x52be5f,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x3c79f4){_0x3c79f4===$r?this['generateWi'+'reframe']():_0x3c79f4===Jl&&(this['primitive'][Jl]={'type':cd,'base':0x0,'baseVertex':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:0xbf+-0x147*-0x6+0x869*-0x1,'indexed':!(0x2*-0x905+0x21ef+-0xfe4)});}['updateRend'+'erStates'](){this['primitive'][Jl]&&this['prepareRen'+'derState'](Jl),this['primitive'][$r]&&this['prepareRen'+'derState']($r);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer']($r);const _0x423bee=this['vertexBuff'+'er']['numVertice'+'s'],_0x21d010=[];let _0x32484c;if(this['indexBuffe'+'r']['length']>0xade+-0x4fc*-0x2+-0x14d6&&this['indexBuffe'+'r'][0x26fa+0x1922+-0x401c]){const _0x1a8aa7=[[0x1a*-0x133+-0x1*0x1c96+0x13ec*0x3,0x3bc+0x1d63+-0x211e],[0x222b+-0xc50+-0x15da,-0x12ae*-0x1+-0x7*-0xcd+-0x71*0x37],[-0x2088+-0x1*-0x43f+0x1c4b*0x1,-0x230a+-0x9bf+0x2cc9]],_0x22a26c=this['primitive'][un]['base'],_0x280b76=this['primitive'][un]['count'],_0x3c37cf=this['primitive'][un]['baseVertex']||0x107*0x1+-0x1*0x40e+0x1f*0x19,_0xa5544e=this['indexBuffe'+'r'][un],_0x27971e=new Sh[_0xa5544e['format']](_0xa5544e['storage']),_0x51b9ff=new Set();for(let _0x1f6f40=_0x22a26c;_0x1f6f40<_0x22a26c+_0x280b76;_0x1f6f40+=0x1d46+-0x1000+0x5*-0x2a7)for(let _0x52833d=-0x26cb+0x1dd0+-0xb*-0xd1;_0x52833d<0x3f*-0x57+0x1fcf+-0xa63;_0x52833d++){const _0x43bb9e=_0x27971e[_0x1f6f40+_0x1a8aa7[_0x52833d][0x903+0x1957*-0x1+-0x4*-0x415]]+_0x3c37cf,_0xd8370a=_0x27971e[_0x1f6f40+_0x1a8aa7[_0x52833d][-0x1b*0x91+0x52d+-0x1*-0xa1f]]+_0x3c37cf,_0x1d650e=_0x43bb9e>_0xd8370a?_0xd8370a*_0x423bee+_0x43bb9e:_0x43bb9e*_0x423bee+_0xd8370a;_0x51b9ff['has'](_0x1d650e)||(_0x51b9ff['add'](_0x1d650e),_0x21d010['push'](_0x43bb9e,_0xd8370a));}_0x32484c=_0xa5544e['format'];}else{for(let _0xac45f3=0x283*-0xe+0x1c35+-0x6f5*-0x1;_0xac45f3<_0x423bee;_0xac45f3+=0x1c3f+0x1*0x23c9+-0x4005)_0x21d010['push'](_0xac45f3,_0xac45f3+(0x4f3*-0x1+-0x11f5+0x16e9*0x1),_0xac45f3+(-0x1252+0x1cd0+-0xa7d),_0xac45f3+(0x111f+0x11*-0x9b+-0x6d2),_0xac45f3+(0x26f5*0x1+0xb44+-0x10bd*0x3),_0xac45f3);_0x32484c=_0x21d010['length']>-0x50d5*-0x3+0x1*-0x9cb9+0xaa39?wr:Yi;}const _0x4d95cc=new br(this['vertexBuff'+'er']['device'],_0x32484c,_0x21d010['length']);new Sh[_0x4d95cc['format']](_0x4d95cc['storage'])['set'](_0x21d010),_0x4d95cc['unlock'](),this['primitive'][$r]={'type':hd,'base':0x0,'baseVertex':0x0,'count':_0x21d010['length'],'indexed':!(-0x83c+0x17*-0x1+-0x853*-0x1)},this['indexBuffe'+'r'][$r]=_0x4d95cc;}}const v_=new te(),Hd=new D(),x_=new le(),Wd=new le(),T_=new D(),w_=new D(),yE=new te(),vE=new le(),rs=new D(),ro=new te(),as=new le(),Ia=new le(),E_=new te(),$d=new D(),tc=new D();function b_(_0x1b92a6,_0x18067c){return _0x1b92a6 instanceof Function?_0x1b92a6:_0x2154f0=>{let _0x431b36=_0x2154f0[_0x1b92a6];return _0x431b36 instanceof Function&&(_0x431b36=_0x431b36()),_0x431b36===_0x18067c;};}function Sv(_0x44cf95,_0x213a78){if(_0x213a78(_0x44cf95))return _0x44cf95;const _0x30cca3=_0x44cf95['_children'],_0x58d804=_0x30cca3['length'];for(let _0x29b112=0x1*0x2513+0x2512+0xab*-0x6f;_0x29b112<_0x58d804;++_0x29b112){const _0x4528ee=Sv(_0x30cca3[_0x29b112],_0x213a78);if(_0x4528ee)return _0x4528ee;}return null;}class Ie extends me{constructor(_0x1f4a90='Untitled'){super(),h(this,'name'),h(this,'tags',new Oo(this)),h(this,'localPosit'+'ion',new D()),h(this,'localRotat'+'ion',new le()),h(this,'localScale',new D(0x137b+-0x34*-0xb7+-0x38a6,0x10c1+0x1dfe+-0x175f*0x2,-0xe9*0x10+0x1*0x7f7+0x69a)),h(this,'localEuler'+'Angles',new D()),h(this,'position',new D()),h(this,'rotation',new le()),h(this,'eulerAngle'+'s',new D()),h(this,'_scale',null),h(this,'localTrans'+'form',new te()),h(this,'_dirtyLoca'+'l',!(0x219*-0x11+0x81d+-0x3*-0x92f)),h(this,'_aabbVer',0xd72+-0x328*0x4+-0xd2),h(this,'_frozen',!(-0x2198+-0x171*0x3+-0x25ec*-0x1)),h(this,'worldTrans'+'form',new te()),h(this,'_dirtyWorl'+'d',!(-0x1f83+0xb*0x115+0x139d)),h(this,'_worldScal'+'eSign',0x39e+0x1*0x1120+-0x14be),h(this,'_normalMat'+'rix',new _i()),h(this,'_dirtyNorm'+'al',!(0x3*-0x233+-0x5e7*0x5+0x120e*0x2)),h(this,'_right',null),h(this,'_up',null),h(this,'_forward',null),h(this,'_parent',null),h(this,'_children',[]),h(this,'_graphDept'+'h',0x17ec+-0x18a9+0xbd),h(this,'_enabled',!(-0xdb4*0x1+0x1*0x205a+-0x9a*0x1f)),h(this,'_enabledIn'+'Hierarchy',!(0x1492+-0x2701+0x24e*0x8)),h(this,'scaleCompe'+'nsation',!(0x53e*0x7+-0x1a7f+-0xa32)),this['name']=_0x1f4a90;}get['right'](){return this['_right']||(this['_right']=new D()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new D()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new D()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(-0x858+-0x63*0x33+0x1c12));}get['normalMatr'+'ix'](){const _0x5972d6=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x5972d6['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(0x1565*0x1+-0x1ac2+0x55e)),_0x5972d6;}set['enabled'](_0x408e1d){var _0x3aee23;this['_enabled']!==_0x408e1d&&(this['_enabled']=_0x408e1d,(_0x408e1d&&((_0x3aee23=this['_parent'])!=null&&_0x3aee23['enabled'])||!_0x408e1d)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x408e1d));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x4a9797=this['_parent'];if(!_0x4a9797)return'';let _0x5e6ffa=this['name'];for(;_0x4a9797&&_0x4a9797['_parent'];)_0x5e6ffa=_0x4a9797['name']+'/'+_0x5e6ffa,_0x4a9797=_0x4a9797['_parent'];return _0x5e6ffa;}get['root'](){let _0x2bc8cb=this;for(;_0x2bc8cb['_parent'];)_0x2bc8cb=_0x2bc8cb['_parent'];return _0x2bc8cb;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x219b26,_0x298deb){_0x219b26['_onHierarc'+'hyStateCha'+'nged'](_0x298deb);const _0x843283=_0x219b26['_children'];for(let _0x150b1f=-0x79c+0x1*-0x15da+0x1d76,_0x2cf911=_0x843283['length'];_0x150b1f<_0x2cf911;_0x150b1f++)_0x843283[_0x150b1f]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x843283[_0x150b1f],_0x298deb);}['_onHierarc'+'hyStateCha'+'nged'](_0x504626){this['_enabledIn'+'Hierarchy']=_0x504626,_0x504626&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0xd5794e){_0xd5794e['name']=this['name'];const _0x36e6fb=this['tags']['_list'];_0xd5794e['tags']['clear']();for(let _0xa75325=0x2*0xc1+-0x1*0xb84+0xa02;_0xa75325<_0x36e6fb['length'];_0xa75325++)_0xd5794e['tags']['add'](_0x36e6fb[_0xa75325]);_0xd5794e['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0xd5794e['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0xd5794e['localScale']['copy'](this['localScale']),_0xd5794e['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0xd5794e['position']['copy'](this['position']),_0xd5794e['rotation']['copy'](this['rotation']),_0xd5794e['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0xd5794e['localTrans'+'form']['copy'](this['localTrans'+'form']),_0xd5794e['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0xd5794e['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0xd5794e['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0xd5794e['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0xd5794e['_aabbVer']=this['_aabbVer']+(-0x19a7+0x1d62+-0x6*0x9f),_0xd5794e['_enabled']=this['_enabled'],_0xd5794e['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0xd5794e['_enabledIn'+'Hierarchy']=!(0x1*-0x1367+0x17*-0x61+0x1c1f);}['clone'](){const _0x3fc3c3=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x3fc3c3),_0x3fc3c3;}['copy'](_0x5667fd){return _0x5667fd['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x48f859=this['_children'];for(;_0x48f859['length'];){const _0x4336fc=_0x48f859['pop']();_0x4336fc['_parent']=null,_0x4336fc['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x5ebbf5,_0x4ef3af){const _0x4b4d7c=[],_0x440b0b=b_(_0x5ebbf5,_0x4ef3af);return this['forEach'](_0x55f5e5=>{_0x440b0b(_0x55f5e5)&&_0x4b4d7c['push'](_0x55f5e5);}),_0x4b4d7c;}['findOne'](_0x1650a9,_0x1dc72b){const _0x28e348=b_(_0x1650a9,_0x1dc72b);return Sv(this,_0x28e348);}['findByTag'](..._0x2b6add){const _0x158a52=[],_0x475752=(_0x30e2ee,_0x3ee0cc)=>{_0x3ee0cc&&_0x30e2ee['tags']['has'](..._0x2b6add)&&_0x158a52['push'](_0x30e2ee);for(let _0x206b97=-0x1015*0x1+0x2213*-0x1+0x3228;_0x206b97<_0x30e2ee['_children']['length'];_0x206b97++)_0x475752(_0x30e2ee['_children'][_0x206b97],!(0x81c*-0x3+0x24c7+0xc73*-0x1));};return _0x475752(this,!(-0xbfd*-0x1+0x2f9*-0x7+0x8d3)),_0x158a52;}['findByName'](_0x59a938){return this['findOne']('name',_0x59a938);}['findByPath'](_0x428195){const _0x99007e=Array['isArray'](_0x428195)?_0x428195:_0x428195['split']('/');let _0x553ee1=this;for(let _0x2e0224=0x2320+-0x1d59+-0x5c7*0x1,_0x3a2388=_0x99007e['length'];_0x2e0224<_0x3a2388;++_0x2e0224)if(_0x553ee1=_0x553ee1['children']['find'](_0x4f4c3f=>_0x4f4c3f['name']===_0x99007e[_0x2e0224]),!_0x553ee1)return null;return _0x553ee1;}['forEach'](_0x8ebd1c,_0x546587){_0x8ebd1c['call'](_0x546587,this);const _0x5bf05f=this['_children'],_0x123b4f=_0x5bf05f['length'];for(let _0x2d4342=0xd8*0x24+0x151+-0x1fb1;_0x2d4342<_0x123b4f;++_0x2d4342)_0x5bf05f[_0x2d4342]['forEach'](_0x8ebd1c,_0x546587);}['isDescenda'+'ntOf'](_0x514ef1){let _0x416d67=this['_parent'];for(;_0x416d67;){if(_0x416d67===_0x514ef1)return!(0x1438+-0x23*0xce+0x7f2);_0x416d67=_0x416d67['_parent'];}return!(0x2088*-0x1+-0x1*-0x7ff+0x188a);}['isAncestor'+'Of'](_0x5c16bb){return _0x5c16bb['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x1a41+0x1b42+0x12*-0x2f9)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new D()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===-0x48d*-0x8+0x9*-0x2bc+-0xbcc&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0xdf1123;(_0xdf1123=this['_parent'])==null||_0xdf1123['removeChil'+'d'](this);}['reparent'](_0x2aebb1,_0x458844){this['remove'](),_0x2aebb1&&(_0x458844>=0x76a+0xc74+-0x13de?_0x2aebb1['insertChil'+'d'](this,_0x458844):_0x2aebb1['addChild'](this));}['setLocalEu'+'lerAngles'](_0x56ae23,_0x385da5,_0x353a17){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x56ae23,_0x385da5,_0x353a17),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x32dc7c,_0x24e957,_0x2dfeb9){_0x32dc7c instanceof D?this['localPosit'+'ion']['copy'](_0x32dc7c):this['localPosit'+'ion']['set'](_0x32dc7c,_0x24e957,_0x2dfeb9),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x5c5348,_0x26083d,_0x449c4e,_0x1f46c1){_0x5c5348 instanceof le?this['localRotat'+'ion']['copy'](_0x5c5348):this['localRotat'+'ion']['set'](_0x5c5348,_0x26083d,_0x449c4e,_0x1f46c1),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x70653c,_0x1397f3,_0x3fd1ff){_0x70653c instanceof D?this['localScale']['copy'](_0x70653c):this['localScale']['set'](_0x70653c,_0x1397f3,_0x3fd1ff),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(0x1762+0x555+0x1cb7*-0x1),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x1c8265=this['_parent'];for(;_0x1c8265;)_0x1c8265['_frozen']=!(0x1*-0x2608+0x20a8+0x561),_0x1c8265=_0x1c8265['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(0xd1*-0xb+-0x505+-0x4ab*-0x3),this['_dirtyWorl'+'d']=!(-0xa88+-0x2a*0x23+0x1046*0x1);for(let _0xb4a846=-0x1*0x1546+0x59*-0x6+0x175c;_0xb4a846<this['_children']['length'];_0xb4a846++)this['_children'][_0xb4a846]['_dirtyWorl'+'d']||this['_children'][_0xb4a846]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(0x1ff3*-0x1+0x1ab7*0x1+-0x14f*-0x4),this['_worldScal'+'eSign']=0x4*0x133+0x4*0x335+-0x11a0,this['_aabbVer']++;}['setPositio'+'n'](_0x40f467,_0x3f37e7,_0x59729f){_0x40f467 instanceof D?rs['copy'](_0x40f467):rs['set'](_0x40f467,_0x3f37e7,_0x59729f),this['_parent']===null?this['localPosit'+'ion']['copy'](rs):(ro['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),ro['transformP'+'oint'](rs,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x4a3700,_0x138e30,_0x17585b,_0x1f898d){if(_0x4a3700 instanceof le?as['copy'](_0x4a3700):as['set'](_0x4a3700,_0x138e30,_0x17585b,_0x1f898d),this['_parent']===null)this['localRotat'+'ion']['copy'](as);else{const _0x1fd3da=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x1fd3da)['invert'](),this['localRotat'+'ion']['copy'](Ia)['mul'](as);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x1e5e5e,_0x159887){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x1e5e5e),this['localRotat'+'ion']['copy'](_0x159887);else{const _0x39a818=this['_parent']['getWorldTr'+'ansform']();ro['copy'](_0x39a818)['invert'](),ro['transformP'+'oint'](_0x1e5e5e,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](ro)['mul'](_0x159887);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x3e7ad6,_0x40baca,_0x5a802a){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x3e7ad6,_0x40baca,_0x5a802a),this['_parent']!==null){const _0x2faa5b=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x2faa5b)['invert'](),this['localRotat'+'ion']['mul2'](Ia,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x315f39){this['_prepareIn'+'sertChild'](_0x315f39),this['_children']['push'](_0x315f39),this['_onInsertC'+'hild'](_0x315f39);}['addChildAn'+'dSaveTrans'+'form'](_0x24f4e0){const _0x34933d=_0x24f4e0['getPositio'+'n'](),_0x1786ed=_0x24f4e0['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x24f4e0),_0x24f4e0['setPositio'+'n'](yE['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x34933d)),_0x24f4e0['setRotatio'+'n'](vE['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x1786ed)),this['_children']['push'](_0x24f4e0),this['_onInsertC'+'hild'](_0x24f4e0);}['insertChil'+'d'](_0x223e1c,_0x1d1d5c){this['_prepareIn'+'sertChild'](_0x223e1c),this['_children']['splice'](_0x1d1d5c,0x1d55+0x235c+-0x40b1,_0x223e1c),this['_onInsertC'+'hild'](_0x223e1c);}['_prepareIn'+'sertChild'](_0x197680){_0x197680['remove'](),w['assert'](_0x197680!==this,'GraphNode\x20'+(_0x197680==null?void(-0x5*-0x71f+-0x232b+-0x70):_0x197680['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),w['assert'](!this['isDescenda'+'ntOf'](_0x197680),'GraphNode\x20'+(_0x197680==null?void(-0x1*-0x1b77+0x1cfb+-0x3872):_0x197680['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x2f2eee,_0x2f1e56,_0x5727b7){this['fire'](_0x2f2eee,_0x5727b7);for(let _0x14aaf7=-0x2668+0x1*-0x213a+0x47a2;_0x14aaf7<this['_children']['length'];_0x14aaf7++)this['_children'][_0x14aaf7]['_fireOnHie'+'rarchy'](_0x2f1e56,_0x2f1e56,_0x5727b7);}['_onInsertC'+'hild'](_0x1c8c90){_0x1c8c90['_parent']=this;const _0x2c8108=_0x1c8c90['_enabled']&&this['enabled'];_0x1c8c90['_enabledIn'+'Hierarchy']!==_0x2c8108&&(_0x1c8c90['_enabledIn'+'Hierarchy']=_0x2c8108,_0x1c8c90['_notifyHie'+'rarchyStat'+'eChanged'](_0x1c8c90,_0x2c8108)),_0x1c8c90['_updateGra'+'phDepth'](),_0x1c8c90['_dirtifyWo'+'rld'](),this['_frozen']&&_0x1c8c90['_unfreezeP'+'arentToRoo'+'t'](),_0x1c8c90['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x1c8c90);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(0x2497+0x1628+-0x92*0x67):0x398+-0x38c+-0x6*0x2;for(let _0x21c639=0x73+-0x16b0+0x163d,_0x3b5794=this['_children']['length'];_0x21c639<_0x3b5794;_0x21c639++)this['_children'][_0x21c639]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0x114baa){const _0x4e9e28=this['_children']['indexOf'](_0x114baa);_0x4e9e28!==-(-0xb0*-0x25+-0x1e85+0x516)&&(this['_children']['splice'](_0x4e9e28,-0x167f*-0x1+-0xa*-0x3b1+-0x1*0x3b68),_0x114baa['_parent']=null,_0x114baa['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0x114baa));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(-0xd*0x257+-0x4aa*-0x7+0x26*-0xf)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x540348;const _0x1aeca7=this['_parent'];let _0x29a7a3=this['localScale'],_0x28e36f=_0x1aeca7;if(_0x28e36f){for(;_0x28e36f&&_0x28e36f['scaleCompe'+'nsation'];)_0x28e36f=_0x28e36f['_parent'];_0x28e36f&&(_0x28e36f=_0x28e36f['_parent'],_0x28e36f&&(_0x540348=_0x28e36f['worldTrans'+'form']['getScale'](),T_['mul2'](_0x540348,this['localScale']),_0x29a7a3=T_));}Wd['setFromMat'+'4'](_0x1aeca7['worldTrans'+'form']),x_['mul2'](Wd,this['localRotat'+'ion']);let _0x54e9a4=_0x1aeca7['worldTrans'+'form'];_0x1aeca7['scaleCompe'+'nsation']&&(w_['mul2'](_0x540348,_0x1aeca7['getLocalSc'+'ale']()),v_['setTRS'](_0x1aeca7['worldTrans'+'form']['getTransla'+'tion'](Hd),Wd,w_),_0x54e9a4=v_),_0x54e9a4['transformP'+'oint'](this['localPosit'+'ion'],Hd),this['worldTrans'+'form']['setTRS'](Hd,x_,_0x29a7a3);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(-0x9*-0x9f+0x2529+-0x2abf);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(-0xcd*0x28+-0x517*-0x3+0x10c3),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x1c45d9=this['_children'];for(let _0x3032cc=-0xd99*0x1+0x20cf+0x2*-0x99b,_0x3dff31=_0x1c45d9['length'];_0x3032cc<_0x3dff31;_0x3032cc++)_0x1c45d9[_0x3032cc]['syncHierar'+'chy']();}['lookAt'](_0x20f081,_0xae5ba0,_0x26ebfb,_0x5d97cc=-0x1f1+0x1c0b+-0x1a1a,_0x916877=0x3*-0xcf5+0x2c*-0x47+0x3314,_0x6062ac=-0x315*0xa+0x1fce+-0xfc){if(_0x20f081 instanceof D)$d['copy'](_0x20f081),_0xae5ba0 instanceof D?tc['copy'](_0xae5ba0):tc['copy'](D['UP']);else{if(_0x26ebfb===void(-0x8*0x83+-0x1*-0x1709+0xd*-0x175))return;$d['set'](_0x20f081,_0xae5ba0,_0x26ebfb),tc['set'](_0x5d97cc,_0x916877,_0x6062ac);}E_['setLookAt'](this['getPositio'+'n'](),$d,tc),as['setFromMat'+'4'](E_),this['setRotatio'+'n'](as);}['translate'](_0x17cedf,_0x1086f1,_0x27f141){_0x17cedf instanceof D?rs['copy'](_0x17cedf):rs['set'](_0x17cedf,_0x1086f1,_0x27f141),rs['add'](this['getPositio'+'n']()),this['setPositio'+'n'](rs);}['translateL'+'ocal'](_0x410c24,_0x104718,_0x4e57b7){_0x410c24 instanceof D?rs['copy'](_0x410c24):rs['set'](_0x410c24,_0x104718,_0x4e57b7),this['localRotat'+'ion']['transformV'+'ector'](rs,rs),this['localPosit'+'ion']['add'](rs),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0xb08211,_0x5f3ccf,_0x5a1f3d){if(as['setFromEul'+'erAngles'](_0xb08211,_0x5f3ccf,_0x5a1f3d),this['_parent']===null)this['localRotat'+'ion']['mul2'](as,this['localRotat'+'ion']);else{const _0x4bdab=this['getRotatio'+'n'](),_0x3d622d=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x3d622d)['invert'](),as['mul2'](Ia,as),this['localRotat'+'ion']['mul2'](as,_0x4bdab);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x105898,_0xec66aa,_0x502d03){as['setFromEul'+'erAngles'](_0x105898,_0xec66aa,_0x502d03),this['localRotat'+'ion']['mul'](as),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const yv=new Kt();function Qn(_0x53e3e1){const _0x3667a1=yv['get'](_0x53e3e1);return w['assert'](_0x3667a1),_0x3667a1;}function xE(_0x28dfab,_0x36be13){w['assert'](_0x36be13),yv['get'](_0x28dfab,()=>_0x36be13);}class TE{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x5ad856,_0xdd12b5)=>{_0xdd12b5['destroy']();}),this['cache']['clear']();}['incRef'](_0x1c4a1f){const _0x11cf78=(this['cache']['get'](_0x1c4a1f)||0x605*0x5+0x2*-0x51b+0x3*-0x6a1)+(0x397+-0x587+0x1f1*0x1);this['cache']['set'](_0x1c4a1f,_0x11cf78);}['decRef'](_0x44e0a3){if(_0x44e0a3){let _0x3655ac=this['cache']['get'](_0x44e0a3);_0x3655ac&&(_0x3655ac--,_0x3655ac===0x1*0x1811+-0x126b+0x2*-0x2d3?(this['cache']['delete'](_0x44e0a3),_0x44e0a3['destroy']()):this['cache']['set'](_0x44e0a3,_0x3655ac));}}}class zi{static['incRef'](_0x3dc039){this['cache']['incRef'](_0x3dc039);}static['decRef'](_0x94fa05){this['cache']['decRef'](_0x94fa05);}static['destroy'](){this['cache']['destroy']();}}h(zi,'cache',new TE());let wE=-0x3ee*-0x8+-0x2590+0x188*0x4;const EE=new De(),sc=new De(),Xd=new sp(),qd=new Set(),Rr=new Uint32Array(0x3*-0x8cb+0x122a+0x31*0x2b);class bE{constructor(_0x530e63){h(this,'vertexBuff'+'er',null),h(this,'_destroyVe'+'rtexBuffer',!(-0x180+0x1311+-0x10*0x119)),this['count']=_0x530e63;}['destroy'](){var _0x539a96;this['_destroyVe'+'rtexBuffer']&&((_0x539a96=this['vertexBuff'+'er'])==null||_0x539a96['destroy']()),this['vertexBuff'+'er']=null;}}class AE{constructor(){h(this,'map',new Map()),h(this,'meshMetaDa'+'ta',new Int32Array(0x51*-0xd+0x257c+-0x215b));}['get'](_0x132e67){return this['map']['get'](_0x132e67)??this['map']['get'](null);}}class CE{constructor(){h(this,'shader'),h(this,'bindGroup',null),h(this,'uniformBuf'+'fer',null),h(this,'hashes');}['getBindGro'+'up'](_0x10154f){if(!this['bindGroup']){const _0x38f8a1=this['shader'];w['assert'](_0x38f8a1);const _0x43728a=_0x38f8a1['meshBindGr'+'oupFormat'];w['assert'](_0x43728a),this['bindGroup']=new Up(_0x10154f,_0x43728a),Ea['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x1a44e4){if(!this['uniformBuf'+'fer']){const _0x32796e=this['shader'];w['assert'](_0x32796e);const _0x105652=_0x32796e['meshUnifor'+'mBufferFor'+'mat'];w['assert'](_0x105652),this['uniformBuf'+'fer']=new zp(_0x1a44e4,_0x105652,!(-0x4d9*-0x7+0x305*-0xb+-0xb7));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x35afb1,_0xf4664b;(_0x35afb1=this['bindGroup'])==null||_0x35afb1['destroy'](),this['bindGroup']=null,(_0xf4664b=this['uniformBuf'+'fer'])==null||_0xf4664b['destroy'](),this['uniformBuf'+'fer']=null;}}const Jr=class Jr{constructor(_0x32e559,_0xd06e4,_0x76331f=null){h(this,'castShadow',!(-0x3*0x825+-0x229c+-0x4*-0xec3)),h(this,'shadowCasc'+'adeMask',Bw),h(this,'cull',!(0x2607+0x22bb+-0x48c2)),h(this,'drawOrder',-0x38c*0x8+-0x5*0x413+0x30bf),h(this,'_drawBucke'+'t',-0x1*-0x755+-0x1a*0xc8+-0x5*-0x2b2),h(this,'node'),h(this,'visible',!(0x1d06+-0x24c+-0x1aba)),h(this,'visibleThi'+'sFrame',!(-0x77*0x32+0x2be*-0x5+0x1*0x24f5)),h(this,'flipFacesF'+'actor',0x11*-0xdd+0x3bb*-0x3+0x19df),h(this,'gsplatInst'+'ance',null),h(this,'id',wE++),h(this,'isVisibleF'+'unc',null),h(this,'instancing'+'Data',null),h(this,'indirectDa'+'ta',null),h(this,'parameters',{}),h(this,'pick',!(-0x2*-0x263+-0xa40*0x3+0x19fa)),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'transparen'+'t',!(0x1*-0x36a+0x1*-0xcb7+0x2*0x811)),h(this,'_aabb',new De()),h(this,'_aabbVer',-(-0x81+-0x2073+0x20f5)),h(this,'_aabbMeshV'+'er',-(-0x6*-0x120+-0xe9*0x22+0x1833)),h(this,'_customAab'+'b',null),h(this,'_updateAab'+'b',!(0x61*-0x56+0x1044+0x1052)),h(this,'_updateAab'+'bFunc',null),h(this,'_sortKeySh'+'adow',-0xabe+0x32f+-0x2d*-0x2b),h(this,'_sortKeyFo'+'rward',0x162a+-0x25a3+0xf79),h(this,'_sortKeyDy'+'namic',-0x233a+-0x17b*0xb+0x3383),h(this,'_layer',Ky),h(this,'_material',null),h(this,'_skinInsta'+'nce',null),h(this,'_morphInst'+'ance',null),h(this,'_receiveSh'+'adow',!(0x3f9+0x1cb9+-0xba*0x2d)),h(this,'_renderSty'+'le',un),h(this,'_screenSpa'+'ce',!(-0x6a5+0x5cf*0x1+0xd7)),h(this,'_shaderCac'+'he',new Map()),h(this,'_shaderDef'+'s',Ss<<0x347+-0x3*0x765+-0x8*-0x25f),h(this,'_calculate'+'SortDistan'+'ce',null);if(w['assert'](!(_0x32e559 instanceof Ie),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x76331f,this['_mesh']=_0x32e559,_0x32e559['incRefCoun'+'t'](),this['material']=_0xd06e4,_0x32e559['vertexBuff'+'er']){const _0x3b7f04=_0x32e559['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x3b7f04['hasUv0']?nm:0x1ce+-0x2086+0x1eb8,this['_shaderDef'+'s']|=_0x3b7f04['hasUv1']?dv:-0x141*-0xe+0x12ac+-0x243a,this['_shaderDef'+'s']|=_0x3b7f04['hasColor']?fv:-0x26de+-0x152d+-0x3c0b*-0x1,this['_shaderDef'+'s']|=_0x3b7f04['hasTangent'+'s']?om:-0x1b*-0xed+0x1d0b+-0x360a;}this['updateKey']();}set['drawBucket'](_0x2a537a){this['_drawBucke'+'t']=Math['floor'](_0x2a537a)&-0x2*0x217+-0x1b*-0xf6+-0x14c5,this['updateKey']();}get['drawBucket'](){return this['_drawBucke'+'t'];}set['renderStyl'+'e'](_0x18477f){this['_renderSty'+'le']=_0x18477f,this['mesh']['prepareRen'+'derState'](_0x18477f);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x4a2335){_0x4a2335!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x4a2335,_0x4a2335&&_0x4a2335['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0x2b3966){this['_aabb']=_0x2b3966;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x2b9c64=this['_customAab'+'b'],_0x240e67=!!_0x2b9c64;if(!_0x2b9c64){if(_0x2b9c64=EE,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x5ea4cb=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x5ea4cb);}const _0x56f154=this['mesh']['boneUsed'];let _0x2114fb=!(-0x1ac*0x1+-0x36d*-0xb+-0x15*0x1b7);for(let _0xb6a632=-0x1e3f+-0x242e+0xb3*0x5f;_0xb6a632<this['mesh']['boneAabb']['length'];_0xb6a632++)_0x56f154[_0xb6a632]&&(sc['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0xb6a632],this['skinInstan'+'ce']['matrices'][_0xb6a632]),_0x2114fb?(_0x2114fb=!(-0x60c+0x1f32+-0x1925),_0x2b9c64['center']['copy'](sc['center']),_0x2b9c64['halfExtent'+'s']['copy'](sc['halfExtent'+'s'])):_0x2b9c64['add'](sc));_0x240e67=!(0x2*-0x4a3+0x9*-0x101+0x124f);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x2b9c64['center']['copy'](this['mesh']['aabb']['center']),_0x2b9c64['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x2b9c64['center']['set'](0x69d+-0x76*-0xb+-0x3*0x3e5,-0x622+0x1748+0x893*-0x2,-0x61e*-0x3+0x1*0x143f+-0x29*0xf1),_0x2b9c64['halfExtent'+'s']['set'](-0x3b5+-0xf54+-0x1bb*-0xb,0x592+-0x7ff*-0x4+-0x16*0x1b5,-0x1d8d+0x2617+-0x88a)),this['mesh']&&this['mesh']['morph']){const _0x451ec9=this['mesh']['morph']['aabb'];_0x2b9c64['_expand'](_0x451ec9['getMin'](),_0x451ec9['getMax']());}_0x240e67=!(0x1ce5*0x1+0x1*-0x16d6+-0xb*0x8d),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0x240e67&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x2b9c64,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x2cfb6e=>{_0x2cfb6e['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x531068,_0x49b1fa,_0x1e0026,_0x41d0e,_0x2e83bc,_0x2e7776,_0x1a2b43){var _0xd69ff2;const _0xdf098e=this['_shaderDef'+'s'];Rr[-0x22bd*-0x1+0xa17+0x4*-0xb35]=_0x531068,Rr[-0x2342+-0x5d3*-0x5+-0x83*-0xc]=_0x49b1fa,Rr[-0xe3b*-0x2+-0x1c2f+0x1*-0x45]=_0xdf098e,Rr[-0x1*-0x10b4+0x2a5*0x1+-0x1356]=_0x41d0e['hash'];const _0x4a077f=By(Rr);let _0x39c85c=this['_shaderCac'+'he']['get'](_0x4a077f);if(!_0x39c85c){const _0x2b8b27=this['_material'];if(_0x39c85c=new CE(),_0x39c85c['shader']=_0x2b8b27['variants']['get'](_0x4a077f),_0x39c85c['hashes']=new Uint32Array(Rr),!_0x39c85c['shader']){Q['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0xb089b8=_0x2b8b27['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x1e0026,'objDefs':_0xdf098e,'cameraShaderParams':_0x41d0e,'pass':_0x531068,'sortedLights':_0x1a2b43,'viewUniformFormat':_0x2e83bc,'viewBindGroupFormat':_0x2e7776,'vertexFormat':(_0xd69ff2=this['mesh']['vertexBuff'+'er'])==null?void(-0x13*0x85+0x60a*0x2+0x71*-0x5):_0xd69ff2['format']});Q['popGpuMark'+'er'](this['mesh']['device']),_0x2b8b27['variants']['set'](_0x4a077f,_0xb089b8),_0x39c85c['shader']=_0xb089b8;}this['_shaderCac'+'he']['set'](_0x4a077f,_0x39c85c);}return w['call'](()=>{IT['equals'](_0x39c85c['hashes'],Rr)||w['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x39c85c;}set['material'](_0x29160d){this['clearShade'+'rs']();const _0x41a50a=this['_material'];_0x41a50a&&_0x41a50a['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x29160d,_0x29160d&&(_0x29160d['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x29160d['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}['_updateSha'+'derDefs'](_0x426096){_0x426096!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x426096,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0xfe3341){this['_calculate'+'SortDistan'+'ce']=_0xfe3341;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0x262c48){this['_receiveSh'+'adow']!==_0x262c48&&(this['_receiveSh'+'adow']=_0x262c48,this['_updateSha'+'derDefs'](_0x262c48?this['_shaderDef'+'s']&~wh:this['_shaderDef'+'s']|wh));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x1460dc){this['_updateSha'+'derDefs'](_0x1460dc?this['_shaderDef'+'s']|qc:this['_shaderDef'+'s']&~qc);}get['batching'](){return(this['_shaderDef'+'s']&qc)!==-0x2344+-0x36*-0x1e+0x39e*0x8;}set['skinInstan'+'ce'](_0x23ce5e){this['_skinInsta'+'nce']=_0x23ce5e,this['_updateSha'+'derDefs'](_0x23ce5e?this['_shaderDef'+'s']|nl:this['_shaderDef'+'s']&~nl),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x17481d){var _0x53d1a0;(_0x53d1a0=this['_morphInst'+'ance'])==null||_0x53d1a0['destroy'](),this['_morphInst'+'ance']=_0x17481d;let _0x440c60=this['_shaderDef'+'s'];_0x440c60=_0x17481d&&_0x17481d['morph']['morphPosit'+'ions']?_0x440c60|ll:_0x440c60&~ll,_0x440c60=_0x17481d&&_0x17481d['morph']['morphNorma'+'ls']?_0x440c60|cl:_0x440c60&~cl,_0x440c60=_0x17481d&&_0x17481d['morph']['intRenderF'+'ormat']?_0x440c60|hl:_0x440c60&~hl,this['_updateSha'+'derDefs'](_0x440c60);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x211922){this['_screenSpa'+'ce']!==_0x211922&&(this['_screenSpa'+'ce']=_0x211922,this['_updateSha'+'derDefs'](_0x211922?this['_shaderDef'+'s']|Eh:this['_shaderDef'+'s']&~Eh));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x537ab6){this['_sortKeyFo'+'rward']=_0x537ab6;}get['key'](){return this['_sortKeyFo'+'rward'];}set['mask'](_0x321b48){const _0x3fa761=this['_shaderDef'+'s']&0xc77e+-0x1907d+0x1c8fe;this['_updateSha'+'derDefs'](_0x3fa761|_0x321b48<<-0x103a+-0x1*0xd0b+0x1d55);}get['mask'](){return this['_shaderDef'+'s']>>-0x2*0x92+-0x2*-0x4ca+0x8*-0x10c;}set['instancing'+'Count'](_0x4e3580){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x4e3580);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:-0x62*-0x25+-0x13d3+0x5a9;}['destroy'](){var _0x121866,_0x5b7074,_0x138b8f;const _0x33ce37=this['mesh'];_0x33ce37&&(this['mesh']=null,_0x33ce37['refCount']<0x448*-0x1+0x1cde*-0x1+0x2127&&_0x33ce37['destroy']()),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0x14ca+-0xe5b+0x3*-0x225],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0x1e55+-0x24bb+0x667],null),(_0x121866=this['_skinInsta'+'nce'])==null||_0x121866['destroy'](),this['_skinInsta'+'nce']=null,(_0x5b7074=this['morphInsta'+'nce'])==null||_0x5b7074['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0x138b8f=this['instancing'+'Data'])==null||_0x138b8f['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x5c9e16,_0x32842d){if(_0x5c9e16){for(let _0x43329d=-0x1*-0x1073+0x2f5*0x5+0x1*-0x1f3c;_0x43329d<_0x5c9e16['length'];_0x43329d++){_0x5c9e16[_0x43329d]['_renderSty'+'le']=_0x32842d;const _0x26bf44=_0x5c9e16[_0x43329d]['mesh'];qd['has'](_0x26bf44)||(qd['add'](_0x26bf44),_0x26bf44['prepareRen'+'derState'](_0x32842d));}qd['clear']();}}['_isVisible'](_0x2d59c2){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x2d59c2):(Xd['center']=this['aabb']['center'],Xd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x2d59c2['frustum']['containsSp'+'here'](Xd)>-0x4*-0x5a0+-0x1b23+0x1*0x4a3):!(-0x19*-0x18+-0x1*-0x1ba+-0x411);}['updateKey'](){const {material:_0x13e0c4}=this;this['_sortKeyFo'+'rward']=this['_drawBucke'+'t']<<-0x4f4*-0x1+0xa*0x129+0x1*-0x1077|(_0x13e0c4['alphaToCov'+'erage']||_0x13e0c4['alphaTest']?0x13ca17+0x129d5*-0x4f+0x881ea4:0x3*-0x9fa+-0x1*-0x1477+0x977)|_0x13e0c4['id']&0x1f7*-0x25c0+0x101*-0x32f9+0x2a4c*0x47a;}['setInstanc'+'ing'](_0x1fdfce,_0x5b137f=!(0x7*-0x38b+-0x34a+-0x1f*-0xe8)){_0x1fdfce?(this['instancing'+'Data']=new bE(_0x1fdfce['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x1fdfce,_0x1fdfce['format']['instancing']=!(0x2*-0x9ce+0x7c4+0xbd8),this['cull']=_0x5b137f):(this['instancing'+'Data']=null,this['cull']=!(-0x165a+-0x1f6*0x3+0x1c3c)),this['_updateSha'+'derDefs'](_0x1fdfce?this['_shaderDef'+'s']|ol:this['_shaderDef'+'s']&~ol);}['setIndirec'+'t'](_0x999cac,_0x53bb12){this['_allocIndi'+'rectData'](),this['indirectDa'+'ta']['map']['set']((_0x999cac==null?void(0x2*0x35b+-0x197*-0x16+-0x29b0):_0x999cac['camera'])??null,_0x53bb12),this['mesh']['device']['mapsToClea'+'r']['add'](this['indirectDa'+'ta']['map']);}['getIndirec'+'tMetaData'](){var _0x3baaf0;this['_allocIndi'+'rectData']();const _0x4c2a30=(_0x3baaf0=this['mesh'])==null?void(-0x2185+-0x1770+0x38f5):_0x3baaf0['primitive'][this['renderStyl'+'e']],_0x1d6cdd=this['indirectDa'+'ta']['meshMetaDa'+'ta'];return _0x1d6cdd[-0x23ba+-0x587*0x1+0x2941]=_0x4c2a30['count'],_0x1d6cdd[-0x5f+-0x71f*-0x3+-0x14fd]=_0x4c2a30['base'],_0x1d6cdd[0x41c+-0xc5*0x7+0x149]=_0x4c2a30['baseVertex'],_0x1d6cdd;}['_allocIndi'+'rectData'](){this['indirectDa'+'ta']||(this['indirectDa'+'ta']=new AE());}['ensureMate'+'rial'](_0x2751be){this['material']||(w['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=Qn(_0x2751be));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x16f103){return this['parameters'][_0x16f103];}['setParamet'+'er'](_0x1a0e5d,_0x31338d,_0x52a6ab=0x8b*0x17a1749+0x11e098ccf+-0xd3b9*0x11c8b){const _0x455904=this['parameters'][_0x1a0e5d];_0x455904?(_0x455904['data']=_0x31338d,_0x455904['passFlags']=_0x52a6ab):this['parameters'][_0x1a0e5d]={'scopeId':null,'data':_0x31338d,'passFlags':_0x52a6ab};}['setRealtim'+'eLightmap'](_0x33e30e,_0x37a422){const _0x23c88c=this['getParamet'+'er'](_0x33e30e);_0x23c88c!==_0x37a422&&(_0x23c88c&&zi['decRef'](_0x23c88c['data']),_0x37a422?(zi['incRef'](_0x37a422),this['setParamet'+'er'](_0x33e30e,_0x37a422)):this['deletePara'+'meter'](_0x33e30e));}['deletePara'+'meter'](_0x4f2f29){this['parameters'][_0x4f2f29]&&delete this['parameters'][_0x4f2f29];}['setParamet'+'ers'](_0x177a1e,_0x8f71ea){const _0x41a948=this['parameters'];for(const _0xea30d0 in _0x41a948){const _0x1bfcb=_0x41a948[_0xea30d0];_0x1bfcb['passFlags']&_0x8f71ea&&(_0x1bfcb['scopeId']||(_0x1bfcb['scopeId']=_0x177a1e['scope']['resolve'](_0xea30d0)),_0x1bfcb['scopeId']['setValue'](_0x1bfcb['data']));}}['setLightma'+'pped'](_0x186f20){_0x186f20?this['mask']=(this['mask']|di)&-(-0xe3c+0xa1*-0x15+0x1b77):(this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0x669+-0x16fd+0x1d66],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0x1*0x1d+0xd8d*-0x1+0xdab],null),this['_shaderDef'+'s']&=-(0x295*-0x6+-0x2*0x89e+-0x35*-0xef),this['mask']=(this['mask']|Ss)&-(0x15*0x185+-0x351+-0x1c91));}['setCustomA'+'abb'](_0x463367){_0x463367?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0x463367):this['_customAab'+'b']=_0x463367['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(0x1*-0x1f8d+-0x1996+0x114*0x35)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};h(Jr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let He=Jr;const PE=[0x2682+0x7*-0x1f7+-0x18c1,-0x241*0x8+0x6*-0xc5+0x16a7,-0x1be*0xb+0x1e3f+-0xb12,0x2128+0xfd*-0x26+0x468,-0xbe7+-0x16f*0x2+0xec8,-0xed2+0x30d*0xb+-0x12bc],ME=[-0x2466+-0xfbb+0x311*0x11,-0x1c68+0x2682+-0xa19,0x43*-0x4f+0x101c+0x494,0xcd*0x2e+0x3fb+-0x28d1,0x9a*0x3+0x2a*-0x6b+0xfc3,0x3bb*0xa+0x25*0x1+-0x1b*0x163],A_=new _i();function C_(_0x5d7eae,_0xd4568b){if(_0x5d7eae&&!_0xd4568b||!_0x5d7eae&&_0xd4568b)return!(-0x2141+0x4*-0x7cf+0x5*0xce6);if(_0x5d7eae=_0x5d7eae['data'],_0xd4568b=_0xd4568b['data'],_0x5d7eae===_0xd4568b)return!(0x237c+0x3*-0x783+-0x11*0xc3);if(_0x5d7eae instanceof Float32Array&&_0xd4568b instanceof Float32Array){if(_0x5d7eae['length']!==_0xd4568b['length'])return!(0xb*0x245+-0x2*-0x14c+0x1b8e*-0x1);for(let _0xa7340e=-0x2e1+0x6a2+0x3c1*-0x1;_0xa7340e<_0x5d7eae['length'];_0xa7340e++)if(_0x5d7eae[_0xa7340e]!==_0xd4568b[_0xa7340e])return!(-0x87*0x1+-0x247c*-0x1+0x3b*-0x9c);return!(-0x1*-0x1527+-0x67*0x49+0x838);}return!(-0xefc*-0x1+-0x1984+0xa89);}function DE(_0x44e671,_0xef2b6f){for(const _0x56f649 in _0x44e671)if(_0x44e671['hasOwnProp'+'erty'](_0x56f649)&&!C_(_0x44e671[_0x56f649],_0xef2b6f[_0x56f649]))return!(0x2*0x1051+-0x1f*-0x12a+0x7*-0x9d1);for(const _0x1ea75e in _0xef2b6f)if(_0xef2b6f['hasOwnProp'+'erty'](_0x1ea75e)&&!C_(_0xef2b6f[_0x1ea75e],_0x44e671[_0x1ea75e]))return!(0x26b3+0x1037+-0x36e9);return!(-0x23c1+-0x19*0x29+0x13e1*0x2);}function jd(_0x13e6f4){return _0x13e6f4['node']['worldTrans'+'form']['scaleSign'];}class IE{constructor(_0x2afb96,_0x390ba3,_0x2dbe5b){this['device']=_0x2afb96,this['rootNode']=_0x390ba3,this['scene']=_0x2dbe5b,this['_init']=!(-0xb57+0xe9b*0x1+-0x343),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=-0xb2f+-0x13d9*-0x1+-0x8aa,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x4fd9c4,_0x5f123f,_0x150558,_0x4c2ed9,_0x50ccac){if(_0x4c2ed9===void(-0x2199+-0x11b9+0x3352)&&(_0x4c2ed9=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0x4c2ed9]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x4c2ed9+('\x20already\x20e'+'xists.'));return;}const _0x11881e=new St(_0x4c2ed9,_0x4fd9c4,_0x5f123f,_0x150558,_0x50ccac);return this['_batchGrou'+'ps'][_0x4c2ed9]=_0x11881e,_0x11881e;}['removeGrou'+'p'](_0x537ebd){if(!this['_batchGrou'+'ps'][_0x537ebd]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x537ebd+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x43189b=[];for(let _0x23a628=-0x17bd*0x1+-0x382+-0xf*-0x1d1;_0x23a628<this['_batchList']['length'];_0x23a628++)this['_batchList'][_0x23a628]['batchGroup'+'Id']===_0x537ebd?this['destroyBat'+'ch'](this['_batchList'][_0x23a628]):_0x43189b['push'](this['_batchList'][_0x23a628]);this['_batchList']=_0x43189b,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x537ebd),delete this['_batchGrou'+'ps'][_0x537ebd];}['markGroupD'+'irty'](_0x16b36d){this['_dirtyGrou'+'ps']['indexOf'](_0x16b36d)<0x5*0x4e1+-0x195d+0x2*0x7c&&this['_dirtyGrou'+'ps']['push'](_0x16b36d);}['getGroupBy'+'Name'](_0x3c28eb){const _0x2a9398=this['_batchGrou'+'ps'];for(const _0x1de48f in _0x2a9398)if(_0x2a9398['hasOwnProp'+'erty'](_0x1de48f)&&_0x2a9398[_0x1de48f]['name']===_0x3c28eb)return _0x2a9398[_0x1de48f];return null;}['getBatches'](_0x332cc1){const _0x5ea9ed=[],_0x1687b7=this['_batchList']['length'];for(let _0x21a381=0xbb3*0x1+0x104c+-0x1bff;_0x21a381<_0x1687b7;_0x21a381++){const _0x24c847=this['_batchList'][_0x21a381];_0x24c847['batchGroup'+'Id']===_0x332cc1&&_0x5ea9ed['push'](_0x24c847);}return _0x5ea9ed;}['_removeMod'+'elsFromBat'+'chGroup'](_0x5441ea,_0x33ba7d){if(_0x5441ea['enabled']){_0x5441ea['model']&&_0x5441ea['model']['batchGroup'+'Id']===_0x33ba7d&&(_0x5441ea['model']['batchGroup'+'Id']=-(0x2080+0xb75*0x1+-0x2bf4)),_0x5441ea['render']&&_0x5441ea['render']['batchGroup'+'Id']===_0x33ba7d&&(_0x5441ea['render']['batchGroup'+'Id']=-(0x96+0x1762+0x199*-0xf)),_0x5441ea['element']&&_0x5441ea['element']['batchGroup'+'Id']===_0x33ba7d&&(_0x5441ea['element']['batchGroup'+'Id']=-(0x19db+-0xdcf+-0xc0b)),_0x5441ea['sprite']&&_0x5441ea['sprite']['batchGroup'+'Id']===_0x33ba7d&&(_0x5441ea['sprite']['batchGroup'+'Id']=-(-0xe19+0xb74+0x2a6));for(let _0x4c1fcb=-0x1*0x14f5+-0x19*-0xda+-0x55;_0x4c1fcb<_0x5441ea['_children']['length'];_0x4c1fcb++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x5441ea['_children'][_0x4c1fcb],_0x33ba7d);}}['insert'](_0x35d56e,_0x1ba2ed,_0x1f3de1){const _0x1bf159=this['_batchGrou'+'ps'][_0x1ba2ed];w['assert'](_0x1bf159,'Invalid\x20ba'+'tch\x20'+_0x1ba2ed+'\x20insertion'),_0x1bf159&&_0x1bf159['_obj'][_0x35d56e]['indexOf'](_0x1f3de1)<-0x732+-0x2*0xe74+-0x2*-0x120d&&(_0x1bf159['_obj'][_0x35d56e]['push'](_0x1f3de1),this['markGroupD'+'irty'](_0x1ba2ed));}['remove'](_0x3c38c0,_0x4d52fa,_0x3b508c){const _0x10fae2=this['_batchGrou'+'ps'][_0x4d52fa];if(w['assert'](_0x10fae2,'Invalid\x20ba'+'tch\x20'+_0x4d52fa+'\x20insertion'),_0x10fae2){const _0x2be7e8=_0x10fae2['_obj'][_0x3c38c0]['indexOf'](_0x3b508c);_0x2be7e8>=0x1e44+-0x1d0c+-0x138&&(_0x10fae2['_obj'][_0x3c38c0]['splice'](_0x2be7e8,-0x157d+0x1a69+-0x4eb*0x1),this['markGroupD'+'irty'](_0x4d52fa));}}['_extractRe'+'nder'](_0x1eeba5,_0x1b290b,_0x26c681,_0x36c1ef){return _0x1eeba5['render']&&(_0x1b290b=_0x36c1ef[_0x1eeba5['render']['batchGroup'+'Id']]=_0x1b290b['concat'](_0x1eeba5['render']['meshInstan'+'ces']),_0x1eeba5['render']['removeFrom'+'Layers']()),_0x1b290b;}['_extractMo'+'del'](_0x293b19,_0x2e568a,_0x55bafc,_0x39bcf7){return _0x293b19['model']&&_0x293b19['model']['model']&&(_0x2e568a=_0x39bcf7[_0x293b19['model']['batchGroup'+'Id']]=_0x2e568a['concat'](_0x293b19['model']['meshInstan'+'ces']),_0x293b19['model']['removeMode'+'lFromLayer'+'s'](),_0x293b19['model']['_batchGrou'+'p']=_0x55bafc),_0x2e568a;}['_extractEl'+'ement'](_0x23f8d6,_0x374701,_0x3b84b6){if(!_0x23f8d6['element'])return;let _0x15b3d9=!(0x14*0x73+0x1b7e+-0x2479*0x1);_0x23f8d6['element']['_text']&&_0x23f8d6['element']['_text']['_model']['meshInstan'+'ces']['length']>0x5*-0x4b7+-0x16*-0x2e+-0x1*-0x139f?(_0x374701['push'](_0x23f8d6['element']['_text']['_model']['meshInstan'+'ces'][0x1*0x1a50+0x15c4+-0x3014]),_0x23f8d6['element']['removeMode'+'lFromLayer'+'s'](_0x23f8d6['element']['_text']['_model']),_0x15b3d9=!(0x1d6b+-0x151f+-0x84c)):_0x23f8d6['element']['_image']&&(_0x374701['push'](_0x23f8d6['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x23f8d6['element']['removeMode'+'lFromLayer'+'s'](_0x23f8d6['element']['_image']['_renderabl'+'e']['model']),_0x23f8d6['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x374701['push'](_0x23f8d6['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x23f8d6['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x23f8d6['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x23f8d6['element']['_dirtifyMa'+'sk'](),_0x23f8d6['element']['_onPrerend'+'er']())),_0x15b3d9=!(-0x3e*-0x9d+-0xc09+-0x19fd*0x1)),_0x15b3d9&&(_0x3b84b6['_ui']=!(-0x74*0x29+-0x547+0x17db),_0x23f8d6['element']['_batchGrou'+'p']=_0x3b84b6);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x178129,_0x778daf){for(let _0x5b770=0x183e+-0x119*-0x10+0x1*-0x29ce;_0x5b770<_0x778daf['length'];_0x5b770++){const _0x10f42e=_0x778daf[_0x5b770],_0x4792a5=this['_batchGrou'+'ps'][_0x10f42e];if(!_0x4792a5)continue;let _0x3453fb=_0x178129[_0x10f42e];_0x3453fb||(_0x3453fb=_0x178129[_0x10f42e]=[]);for(let _0x53f3bc=-0x11*0x139+0xf88+0x541;_0x53f3bc<_0x4792a5['_obj']['model']['length'];_0x53f3bc++)_0x3453fb=this['_extractMo'+'del'](_0x4792a5['_obj']['model'][_0x53f3bc],_0x3453fb,_0x4792a5,_0x178129);for(let _0x11334f=-0x531*-0x1+0x2f9+-0x2*0x415;_0x11334f<_0x4792a5['_obj']['render']['length'];_0x11334f++)_0x3453fb=this['_extractRe'+'nder'](_0x4792a5['_obj']['render'][_0x11334f],_0x3453fb,_0x4792a5,_0x178129);for(let _0x59af52=0x7bb+-0x2698+0x1edd*0x1;_0x59af52<_0x4792a5['_obj']['element']['length'];_0x59af52++)this['_extractEl'+'ement'](_0x4792a5['_obj']['element'][_0x59af52],_0x3453fb,_0x4792a5);for(let _0x51c5e1=-0x1d59+0xa33*0x2+0x8f3;_0x51c5e1<_0x4792a5['_obj']['sprite']['length'];_0x51c5e1++){const _0x5754ab=_0x4792a5['_obj']['sprite'][_0x51c5e1];_0x5754ab['sprite']&&_0x5754ab['sprite']['_meshInsta'+'nce']&&(_0x4792a5['dynamic']||_0x5754ab['sprite']['sprite']['_renderMod'+'e']===ci)&&(_0x3453fb['push'](_0x5754ab['sprite']['_meshInsta'+'nce']),_0x5754ab['sprite']['removeMode'+'lFromLayer'+'s'](),_0x4792a5['_sprite']=!(-0x2c3*-0x2+0x2365+0x28eb*-0x1),_0x5754ab['sprite']['_batchGrou'+'p']=_0x4792a5);}}}['generate'](_0x4871d6){const _0x585abb={};_0x4871d6||(_0x4871d6=Object['keys'](this['_batchGrou'+'ps']));const _0x4c12e8=[];for(let _0x410cbc=0x75d+0x22fc+-0x2a59*0x1;_0x410cbc<this['_batchList']['length'];_0x410cbc++){if(_0x4871d6['indexOf'](this['_batchList'][_0x410cbc]['batchGroup'+'Id'])<0x17*0xd4+0x813+-0x1b1f){_0x4c12e8['push'](this['_batchList'][_0x410cbc]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x410cbc]);}if(this['_batchList']=_0x4c12e8,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x585abb,_0x4871d6),_0x4871d6===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=-0x2066+0xe1e*0x1+0x1248;else{const _0x156010=[];for(let _0x3a279e=0x2f*0x82+0x1a7a+-0x3258;_0x3a279e<this['_dirtyGrou'+'ps']['length'];_0x3a279e++)_0x4871d6['indexOf'](this['_dirtyGrou'+'ps'][_0x3a279e])<0x1145+-0x88*-0x35+0x191*-0x1d&&_0x156010['push'](this['_dirtyGrou'+'ps'][_0x3a279e]);this['_dirtyGrou'+'ps']=_0x156010;}let _0x145d87,_0x32229c,_0x70d55f,_0x24ea11;for(const _0x201b04 in _0x585abb)if(_0x585abb['hasOwnProp'+'erty'](_0x201b04)){if(_0x145d87=_0x585abb[_0x201b04],_0x70d55f=this['_batchGrou'+'ps'][_0x201b04],!_0x70d55f){w['error']('batch\x20grou'+'p\x20'+_0x201b04+'\x20not\x20found');continue;}_0x32229c=this['prepare'](_0x145d87,_0x70d55f['dynamic'],_0x70d55f['maxAabbSiz'+'e'],_0x70d55f['_ui']||_0x70d55f['_sprite']);for(let _0x3e9377=0x924+0xdf7+-0x171b;_0x3e9377<_0x32229c['length'];_0x3e9377++)_0x24ea11=this['create'](_0x32229c[_0x3e9377],_0x70d55f['dynamic'],parseInt(_0x201b04,-0x10a6+-0x61*0x2+0x2*0x8b9)),_0x24ea11&&_0x24ea11['addToLayer'+'s'](this['scene'],_0x70d55f['layers']);}}['prepare'](_0xfb4335,_0x12b925,_0xd5ad84=Number['POSITIVE_I'+'NFINITY'],_0x19e3dd){if(_0xfb4335['length']===-0x1003+0xa*0x115+0x1bb*0x3)return[];const _0x455f86=_0xd5ad84*(0xfe3+0x107*0x25+-0x35e6*0x1+0.5),_0x12491b=0x1afe+-0xbdc+-0xb22,_0x54ab79=-0x187b170b7*-0x1+0x1a8a2372f+0x21*-0x10fac707,_0x308bea=new De(),_0x373ee3=new De();let _0x537d6c=null,_0x5e0e89;const _0x44b18b=[];let _0x5432c6=0x2*-0x1070+-0x1c*-0xeb+0x36*0x22;_0x19e3dd&&_0xfb4335['sort']((_0x5bc68f,_0x2c4fbe)=>_0x5bc68f['drawOrder']-_0x2c4fbe['drawOrder']);let _0xe6444d=_0xfb4335,_0x47960e;const _0x3d7a28=_0x19e3dd?function(_0x458610){_0x537d6c?_0x537d6c['add'](_0x458610['aabb']):_0x537d6c=_0x458610['aabb']['clone'](),_0x47960e['push'](_0x458610);}:function(_0x36e493){_0x47960e['push'](_0x36e493);};for(;_0xe6444d['length']>-0x4b2+-0x35*0xb3+0x29c1;){_0x44b18b[_0x5432c6]=[_0xe6444d[-0x1813+0x285*0xa+-0x11f*0x1]],_0x47960e=[];const _0x3d56fa=_0xe6444d[-0x61*0x67+-0x121*0x1+-0x202*-0x14]['material'],_0x199160=_0xe6444d[0x5*-0x53+-0x1*-0x819+-0x1*0x67a]['layer'],_0x168f29=_0xe6444d[0x1*0x1de3+0x62*0x23+0x7*-0x62f]['_shaderDef'+'s'],_0x842e27=_0xe6444d[-0x1eee+-0x763*-0x1+0x178b]['parameters'],_0x5a3781=_0xe6444d[-0x62d+0x21cf+-0x1ba2]['stencilFro'+'nt'];let _0x409a21=_0xe6444d[-0x1f6d+-0xc2*0x26+0x23b*0x1b]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x16a8cc=_0xe6444d[0x1*0x1e89+-0x1c6d+-0x21c]['drawOrder'];_0x308bea['copy'](_0xe6444d[-0x154d+-0x1d15*-0x1+-0x7c8]['aabb']);const _0x3e5cd4=jd(_0xe6444d[0x18f*-0x7+-0x337*-0x4+-0x1f3]),_0x39ee31=_0xe6444d[-0x2*0xd0f+0x23de+-0x3*0x340]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x24ada0=_0xe6444d[0x554*0x7+-0x2636+-0xd*-0x12]['mesh']['primitive'][0x203b+-0x65*-0x35+0x4c*-0xb3]['indexed'];_0x537d6c=null;for(let _0xa7ceb5=-0x20a1+-0x1ea8+-0x2*-0x1fa5;_0xa7ceb5<_0xe6444d['length'];_0xa7ceb5++){const _0x38292=_0xe6444d[_0xa7ceb5];if(_0x12b925&&_0x44b18b[_0x5432c6]['length']>=_0x12491b){_0x47960e=_0x47960e['concat'](_0xe6444d['slice'](_0xa7ceb5));break;}if(_0x3d56fa!==_0x38292['material']||_0x199160!==_0x38292['layer']||_0x39ee31!==_0x38292['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x24ada0!==_0x38292['mesh']['primitive'][0x2570+-0x1*-0xa7+-0x2617]['indexed']||_0x168f29!==_0x38292['_shaderDef'+'s']||_0x409a21+_0x38292['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x54ab79){_0x3d7a28(_0x38292);continue;}if(_0x373ee3['copy'](_0x308bea),_0x373ee3['add'](_0x38292['aabb']),_0x373ee3['halfExtent'+'s']['x']>_0x455f86||_0x373ee3['halfExtent'+'s']['y']>_0x455f86||_0x373ee3['halfExtent'+'s']['z']>_0x455f86){_0x3d7a28(_0x38292);continue;}if(_0x5a3781&&(!(_0x5e0e89=_0x38292['stencilFro'+'nt'])||_0x5a3781['func']!==_0x5e0e89['func']||_0x5a3781['zpass']!==_0x5e0e89['zpass'])){_0x3d7a28(_0x38292);continue;}if(_0x3e5cd4!==jd(_0x38292)){_0x3d7a28(_0x38292);continue;}if(!DE(_0x842e27,_0x38292['parameters'])){_0x3d7a28(_0x38292);continue;}if(_0x19e3dd&&_0x537d6c&&_0x537d6c['intersects'](_0x38292['aabb'])&&_0x38292['drawOrder']!==_0x16a8cc){_0x3d7a28(_0x38292);continue;}_0x308bea['add'](_0x38292['aabb']),_0x409a21+=_0x38292['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0x44b18b[_0x5432c6]['push'](_0x38292);}_0x5432c6++,_0xe6444d=_0x47960e;}return _0x44b18b;}['collectBat'+'chedMeshDa'+'ta'](_0x10502d,_0x86bf1c){let _0x8caeb0=null,_0x46452e=-0xf*0xea+-0x50b*-0x7+0x1*-0x1597,_0x5647f8=-0xbcc*-0x1+-0xb35*0x1+0x97*-0x1,_0x419fc0=null;for(let _0x5262a7=0x472+0x3*-0x6d9+0x1019;_0x5262a7<_0x10502d['length'];_0x5262a7++)if(_0x10502d[_0x5262a7]['visible']){const _0x43a0c3=_0x10502d[_0x5262a7]['mesh'],_0x319808=_0x43a0c3['vertexBuff'+'er']['numVertice'+'s'];if(_0x46452e+=_0x319808,_0x43a0c3['primitive'][0x1c66+-0x22d4*-0x1+-0x3f3a]['indexed'])_0x5647f8+=_0x43a0c3['primitive'][-0x6*0x661+0x1c03+-0x1*-0xa43]['count'];else{const _0x1d0a74=_0x43a0c3['primitive'][-0x1345*-0x1+0x1041+-0x2386*0x1]['type'];(_0x1d0a74===oa||_0x1d0a74===Er)&&_0x43a0c3['primitive'][-0xe71*0x2+0x2e3+0x19ff]['count']===-0x1*-0xb65+-0x1653+0xaf2&&(_0x5647f8+=-0x1*0xf99+0x12fe+0x35f*-0x1);}if(!_0x8caeb0){_0x419fc0=_0x10502d[_0x5262a7]['material'],_0x8caeb0={};const _0x1bddef=_0x43a0c3['vertexBuff'+'er']['format']['elements'];for(let _0x44af98=0x469*0x1+-0xdad*-0x1+-0x90b*0x2;_0x44af98<_0x1bddef['length'];_0x44af98++){const _0x126b49=_0x1bddef[_0x44af98]['name'];_0x8caeb0[_0x126b49]={'numComponents':_0x1bddef[_0x44af98]['numCompone'+'nts'],'dataType':_0x1bddef[_0x44af98]['dataType'],'normalize':_0x1bddef[_0x44af98]['normalize'],'count':0x0};}_0x86bf1c&&(_0x8caeb0[us]={'numComponents':0x1,'dataType':Ve,'normalize':!(-0x1b35+0x1d2e+-0x1f8),'count':0x0});}}return{'streams':_0x8caeb0,'batchNumVerts':_0x46452e,'batchNumIndices':_0x5647f8,'material':_0x419fc0};}['create'](_0x47579b,_0x3e202e,_0x4b1393){const _0x46373e=de();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(0x1dec*-0x1+0x4*0x15d+0x1878));let _0x71bac9=null,_0x2cf7b0,_0xf35651,_0x27bdcf,_0x469fd0=null;const _0x5057ef=this['collectBat'+'chedMeshDa'+'ta'](_0x47579b,_0x3e202e);if(_0x5057ef['streams']){const _0xc70fb2=_0x5057ef['streams'];let _0x2c496e=_0x5057ef['material'];const _0x580470=_0x5057ef['batchNumVe'+'rts'],_0x1bdf1d=_0x5057ef['batchNumIn'+'dices'];_0x469fd0=new g_(_0x47579b,_0x3e202e,_0x4b1393),this['_batchList']['push'](_0x469fd0);let _0x1d3638,_0x215afd,_0x480603,_0x9a84d7,_0x5f22ac=0x35*-0x76+-0x24*0x61+0x2612,_0x11a521=-0x1f58+-0x2498+0x8*0x87e,_0x4f9e9a;const _0x1937bb=_0x580470<=0x775*0x35+-0x8596+-0x5a4?Uint16Array:Uint32Array,_0x5e54a6=new _0x1937bb(_0x1bdf1d);for(_0x2cf7b0 in _0xc70fb2)_0x71bac9=_0xc70fb2[_0x2cf7b0],_0x71bac9['typeArrayT'+'ype']=wn[_0x71bac9['dataType']],_0x71bac9['elementByt'+'eSize']=No[_0x71bac9['dataType']],_0x71bac9['buffer']=new _0x71bac9['typeArrayT'+'ype'](_0x580470*_0x71bac9['numCompone'+'nts']);for(let _0x45921d=-0x14f6+0x1131*-0x1+0x2627;_0x45921d<_0x47579b['length'];_0x45921d++)if(_0x47579b[_0x45921d]['visible']){_0xf35651=_0x47579b[_0x45921d]['mesh'],_0x27bdcf=_0xf35651['vertexBuff'+'er']['numVertice'+'s'],_0x3e202e||(_0x4f9e9a=_0x47579b[_0x45921d]['node']['getWorldTr'+'ansform']());for(_0x2cf7b0 in _0xc70fb2)if(_0x2cf7b0!==us){_0x71bac9=_0xc70fb2[_0x2cf7b0];const _0x533d06=new _0x71bac9['typeArrayT'+'ype'](_0x71bac9['buffer']['buffer'],_0x71bac9['elementByt'+'eSize']*_0x71bac9['count']),_0x18404e=_0xf35651['getVertexS'+'tream'](_0x2cf7b0,_0x533d06)*_0x71bac9['numCompone'+'nts'];if(_0x71bac9['count']+=_0x18404e,!_0x3e202e&&_0x71bac9['numCompone'+'nts']>=0xd4b+-0xb24+-0x4*0x89){if(_0x2cf7b0===Me){const _0x5b079a=_0x4f9e9a['data'],_0x1c2248=_0x5b079a[-0x2357+-0x1efb+0x4252],_0x285932=_0x5b079a[0xe37*-0x2+-0x464*-0x5+-0x7*-0xed],_0x240d77=_0x5b079a[-0x1ba7*0x1+-0x95*-0x3a+-0x619],_0x2fa6ac=_0x5b079a[-0x303*-0xa+-0x154b+-0x8cf],_0x44dc18=_0x5b079a[0x1*-0x461+-0xa*0x2f5+0x21f8],_0x8885ec=_0x5b079a[0x57d+-0xec1+0x94a],_0x3fc563=_0x5b079a[0x1c3+-0xe58+0xc9d],_0x183836=_0x5b079a[-0x1a*-0x79+0x490+-0x10d1*0x1],_0x521db0=_0x5b079a[0x204e+-0x67f+-0x19c5],_0x2eb466=_0x5b079a[0xe0a+-0x17*-0x8e+0x20*-0xd6],_0x376293=_0x5b079a[0x14fe+-0x223f+0x1a*0x83],_0x3bb473=_0x5b079a[0xd79*-0x2+0x15fa+0x506];let _0x1d871f,_0x5a7e15,_0x3c5a3d;for(let _0x42d493=-0x524*0x5+0x24e2+-0x1dd*0x6;_0x42d493<_0x18404e;_0x42d493+=_0x71bac9['numCompone'+'nts'])_0x1d871f=_0x533d06[_0x42d493],_0x5a7e15=_0x533d06[_0x42d493+(0x1c3*0x7+-0x2*0xd51+0xe4e*0x1)],_0x3c5a3d=_0x533d06[_0x42d493+(0xc33+0x1d21*-0x1+0x10f0)],_0x533d06[_0x42d493]=_0x1d871f*_0x1c2248+_0x5a7e15*_0x2fa6ac+_0x3c5a3d*_0x3fc563+_0x2eb466,_0x533d06[_0x42d493+(0x2207+-0xe96+-0x1370)]=_0x1d871f*_0x285932+_0x5a7e15*_0x44dc18+_0x3c5a3d*_0x183836+_0x376293,_0x533d06[_0x42d493+(0x1*0x25fa+0x5*0x3df+0x3953*-0x1)]=_0x1d871f*_0x240d77+_0x5a7e15*_0x8885ec+_0x3c5a3d*_0x521db0+_0x3bb473;}else{if(_0x2cf7b0===gs||_0x2cf7b0===yi){A_['invertMat4'](_0x4f9e9a)['transpose']();const [_0x10dac0,_0x2aa63a,_0x5adcf9,_0x5e0127,_0x2545fa,_0x9d6b15,_0x9fc185,_0x3eefb7,_0x37a8d2]=A_['data'];let _0xd76fc,_0x228fa8,_0x56dc74;for(let _0x3d6d1b=-0x7*-0x217+-0x17d4+0x933;_0x3d6d1b<_0x18404e;_0x3d6d1b+=_0x71bac9['numCompone'+'nts'])_0xd76fc=_0x533d06[_0x3d6d1b],_0x228fa8=_0x533d06[_0x3d6d1b+(0x13e2+0x562+-0x1943)],_0x56dc74=_0x533d06[_0x3d6d1b+(0x6*-0x5db+-0x1cab*0x1+-0x16b*-0x2d)],_0x533d06[_0x3d6d1b]=_0xd76fc*_0x10dac0+_0x228fa8*_0x5e0127+_0x56dc74*_0x9fc185,_0x533d06[_0x3d6d1b+(0x650+0x1*0x1a5f+-0x20ae)]=_0xd76fc*_0x2aa63a+_0x228fa8*_0x2545fa+_0x56dc74*_0x3eefb7,_0x533d06[_0x3d6d1b+(0x6b*-0x51+-0x1922+0x3aff)]=_0xd76fc*_0x5adcf9+_0x228fa8*_0x9d6b15+_0x56dc74*_0x37a8d2;}}}}if(_0x3e202e){_0x71bac9=_0xc70fb2[us];for(let _0x54179d=-0xdb6+-0x169c+-0x1229*-0x2;_0x54179d<_0x27bdcf;_0x54179d++)_0x71bac9['buffer'][_0x71bac9['count']++]=_0x45921d;}if(_0xf35651['primitive'][0xd*0x20b+0x193*-0x4+-0x1443]['indexed']){_0x1d3638=_0xf35651['primitive'][-0xc62+-0x4*-0x859+-0x1502*0x1]['base'],_0x215afd=_0xf35651['primitive'][0x23a6+0x1940+0xa*-0x617]['baseVertex']||0x217*-0x5+0x2*0x779+-0x1*0x47f,_0x480603=_0xf35651['primitive'][0x623+-0x1*-0x1e67+-0x248a]['count'];const _0x3d9d11=_0xf35651['indexBuffe'+'r'][0x1777*-0x1+0x1*-0x1854+-0x1*-0x2fcb]['getFormat']();_0x9a84d7=new Sh[_0x3d9d11](_0xf35651['indexBuffe'+'r'][-0x1*0xbe3+-0x57f+-0x1*-0x1162]['storage']);}else{_0x215afd=0x1*0xbfc+0x1ba9*0x1+-0x27a5;const _0x2f8485=_0xf35651['primitive'][-0xddf+0x1c44+-0xe65]['type'];if(_0x2f8485===oa||_0x2f8485===Er){if(_0xf35651['primitive'][0x6f1+0xbc9+-0x12ba]['count']===0x267c+0xc74+0x2*-0x1976)_0x1d3638=0x1cb9+0x2398+-0x4051,_0x480603=-0x12*0x61+-0x1d0f+0x23e7,_0x9a84d7=_0x2f8485===oa?PE:ME;else{_0x480603=0x6d*0x1+0x3*0xcae+-0x2677;continue;}}}for(let _0x158d84=-0x4*0x49d+-0x1a9a+0x1*0x2d0e;_0x158d84<_0x480603;_0x158d84++)_0x5e54a6[_0x158d84+_0x11a521]=_0x9a84d7[_0x1d3638+_0x158d84]+_0x215afd+_0x5f22ac;_0x11a521+=_0x480603,_0x5f22ac+=_0x27bdcf;}_0xf35651=new Ge(this['device']);for(_0x2cf7b0 in _0xc70fb2)_0x71bac9=_0xc70fb2[_0x2cf7b0],_0xf35651['setVertexS'+'tream'](_0x2cf7b0,_0x71bac9['buffer'],_0x71bac9['numCompone'+'nts'],void(-0x14fb+0x2585+0x1*-0x108a),_0x71bac9['dataType'],_0x71bac9['normalize']);_0x5e54a6['length']>0x84*-0x3+0x325+-0x199&&_0xf35651['setIndices'](_0x5e54a6),_0xf35651['update'](js,!(-0x1*-0x143+0x1*0x935+-0x1*0xa77)),_0x3e202e&&(_0x2c496e=_0x2c496e['clone'](),_0x2c496e['update']());const _0x41024f=new He(_0xf35651,_0x2c496e,this['rootNode']);_0x41024f['castShadow']=_0x469fd0['origMeshIn'+'stances'][-0x1*0x1ded+-0x20b*-0x13+-0x2*0x472]['castShadow'],_0x41024f['parameters']=_0x469fd0['origMeshIn'+'stances'][-0x3d*0x25+-0x13*-0x169+0x5fe*-0x3]['parameters'],_0x41024f['layer']=_0x469fd0['origMeshIn'+'stances'][0x22c*0xa+0x1*-0x9fe+0x1*-0xbba]['layer'],_0x41024f['_shaderDef'+'s']=_0x469fd0['origMeshIn'+'stances'][-0x343+0x3*0x477+-0xa22]['_shaderDef'+'s'],_0x41024f['batching']=!(0x713*-0x5+-0x1f9*0x6+0x2f35),_0x41024f['cull']=_0x469fd0['origMeshIn'+'stances'][-0x3b6+0x67e+-0x2c8]['cull'];const _0x30d270=this['_batchGrou'+'ps'][_0x4b1393];if(_0x30d270&&_0x30d270['_ui']&&(_0x41024f['cull']=!(0x3*0xb8b+-0x62e*-0x6+-0x47b4)),_0x3e202e){const _0x37b971=[];for(let _0x5b216c=-0x1403+-0x2595+0x3998;_0x5b216c<_0x469fd0['origMeshIn'+'stances']['length'];_0x5b216c++)_0x37b971['push'](_0x469fd0['origMeshIn'+'stances'][_0x5b216c]['node']);_0x41024f['skinInstan'+'ce']=new y_(this['device'],_0x37b971,this['rootNode']);}_0x41024f['_updateAab'+'b']=!(-0x1231*-0x1+-0x198+0x162*-0xc),_0x41024f['drawOrder']=_0x469fd0['origMeshIn'+'stances'][-0x1*-0x421+0x4*-0x23e+0x4d7]['drawOrder'],_0x41024f['stencilFro'+'nt']=_0x469fd0['origMeshIn'+'stances'][-0x1*-0x1017+0x246d+-0x1*0x3484]['stencilFro'+'nt'],_0x41024f['stencilBac'+'k']=_0x469fd0['origMeshIn'+'stances'][-0x1*-0x15e9+-0x11*0xd6+-0x7b3]['stencilBac'+'k'],_0x41024f['flipFacesF'+'actor']=jd(_0x469fd0['origMeshIn'+'stances'][0xe75*-0x2+-0x7af*-0x1+-0x43f*-0x5]),_0x41024f['castShadow']=_0x469fd0['origMeshIn'+'stances'][0xe95*-0x1+-0x10a4+0x1f39]['castShadow'],_0x469fd0['meshInstan'+'ce']=_0x41024f,_0x469fd0['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=de()-_0x46373e,_0x469fd0;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>0x3*0xa5d+0x2492+-0x43a9&&this['generate'](this['_dirtyGrou'+'ps']);const _0x2e7e22=de();for(let _0x216a76=-0x722+-0x23+0x745;_0x216a76<this['_batchList']['length'];_0x216a76++)this['_batchList'][_0x216a76]['dynamic']&&this['_batchList'][_0x216a76]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=de()-_0x2e7e22;}['clone'](_0xf62da2,_0x774096){const _0x277709=new g_(_0x774096,_0xf62da2['dynamic'],_0xf62da2['batchGroup'+'Id']);this['_batchList']['push'](_0x277709);const _0x24a011=[];for(let _0x1cb398=-0x1a*-0x41+-0xaa8+0x40e;_0x1cb398<_0x774096['length'];_0x1cb398++)_0x24a011['push'](_0x774096[_0x1cb398]['node']);return _0x277709['meshInstan'+'ce']=new He(_0xf62da2['meshInstan'+'ce']['mesh'],_0xf62da2['meshInstan'+'ce']['material'],_0xf62da2['meshInstan'+'ce']['node']),_0x277709['meshInstan'+'ce']['_updateAab'+'b']=!(0x1b99+-0x3*0x198+-0x8*0x2da),_0x277709['meshInstan'+'ce']['parameters']=_0x774096[-0x146b*-0x1+-0x57d+-0xeee]['parameters'],_0x277709['meshInstan'+'ce']['cull']=_0x774096[0x18db+-0x81a+-0x10c1]['cull'],_0x277709['meshInstan'+'ce']['layer']=_0x774096[-0x1377+-0x1*-0xb53+0x824]['layer'],_0xf62da2['dynamic']&&(_0x277709['meshInstan'+'ce']['skinInstan'+'ce']=new y_(this['device'],_0x24a011,this['rootNode'])),_0x277709['meshInstan'+'ce']['castShadow']=_0xf62da2['meshInstan'+'ce']['castShadow'],_0x277709;}['destroyBat'+'ch'](_0x249a48){_0x249a48['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x249a48['batchGroup'+'Id']]['layers']);}}const P_='uSceneColo'+'rMap';class LE extends ys{constructor(){super(...arguments),h(this,'colorRende'+'rTarget',null),h(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0xed5222,_0x64f231,_0x1d0c09){if((_0xed5222==null?void(-0x1*-0xe0a+0x16af+-0x24b9):_0xed5222['colorBuffe'+'r']['format'])!==_0x1d0c09)return!(0x607*-0x3+-0x1736+-0x3c1*-0xb);const _0x29613e=(_0x64f231==null?void(0x1dc8+0x1e67+-0x3c2f):_0x64f231['width'])||this['device']['width'],_0x475c8f=(_0x64f231==null?void(-0x2023+-0x4*0x2e1+0x2ba7):_0x64f231['height'])||this['device']['height'];return!_0xed5222||_0x29613e!==_0xed5222['width']||_0x475c8f!==_0xed5222['height'];}['allocateRe'+'nderTarget'](_0x28c9eb,_0x50fe72,_0x1118b2,_0xde0391){const _0x3887c8=new _e(_0x1118b2,{'name':P_,'format':_0xde0391,'width':_0x50fe72?_0x50fe72['colorBuffe'+'r']['width']:_0x1118b2['width'],'height':_0x50fe72?_0x50fe72['colorBuffe'+'r']['height']:_0x1118b2['height'],'mipmaps':!(-0x4*0x971+0x17db+0xde9),'minFilter':ma,'magFilter':vt,'addressU':ue,'addressV':ue});return _0x28c9eb?(_0x28c9eb['destroyFra'+'meBuffers'](),_0x28c9eb['_colorBuff'+'er']=_0x3887c8,_0x28c9eb['_colorBuff'+'ers']=[_0x3887c8]):_0x28c9eb=new gt({'name':'ColorGrabR'+'T','colorBuffer':_0x3887c8,'depth':!(-0x243+0xa54+-0x810),'stencil':!(-0x761+-0x17*-0x109+-0x106d),'autoResolve':!(0x2330+0x5b0+-0x28df)}),_0x28c9eb;}['releaseRen'+'derTarget'](_0x5beec7){_0x5beec7&&(_0x5beec7['destroyTex'+'tureBuffer'+'s'](),_0x5beec7['destroy']());}['frameUpdat'+'e'](){const _0x137173=this['device'],_0x827bb6=this['source'],_0xe8dabb=(_0x827bb6==null?void(-0x361*0x3+0x1*-0x1e05+0x2828*0x1):_0x827bb6['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x827bb6==null?void(0x1*-0xf2e+-0xc48+0x1b76*0x1):_0x827bb6['colorBuffe'+'r'],_0xe8dabb)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x827bb6,_0x137173,_0xe8dabb));const _0x45951d=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x137173['scope']['resolve'](P_)['setValue'](_0x45951d);}['execute'](){const _0x4054e6=this['device'];Q['pushGpuMar'+'ker'](_0x4054e6,'GRAB-COLOR');const _0x5e96c8=this['source'],_0x163d27=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x4054e6['isWebGPU']?(_0x4054e6['copyRender'+'Target'](_0x5e96c8,this['colorRende'+'rTarget'],!(0x1*0x1396+0x105f+-0x523*0x7),!(-0x1*-0x12f5+-0x2477+0x1*0x1183)),_0x4054e6['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x4054e6['copyRender'+'Target'](_0x5e96c8,this['colorRende'+'rTarget'],!(0xf*-0x9b+0x2329+-0x685*0x4),!(-0x119*-0x12+0x1f30+0x1e3*-0x1b)),_0x4054e6['activeText'+'ure'](_0x4054e6['maxCombine'+'dTextures']-(0x5f*-0x66+0xa1b+-0x3*-0x940)),_0x4054e6['bindTextur'+'e'](_0x163d27),_0x4054e6['gl']['generateMi'+'pmap'](_0x163d27['impl']['_glTarget'])),Q['popGpuMark'+'er'](_0x4054e6);}}const M_='uSceneDept'+'hMap';class RE extends ys{constructor(_0x488159,_0x433a0e){super(_0x488159),h(this,'depthRende'+'rTarget',null),h(this,'camera',null),this['camera']=_0x433a0e;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x503baf,_0x35607a){const _0x3ea034=(_0x35607a==null?void(0x107*-0x1d+-0x4*-0x2ef+0x120f):_0x35607a['width'])||this['device']['width'],_0x5f100e=(_0x35607a==null?void(-0x17*-0x6a+0x5*-0x1d3+-0x1*0x67):_0x35607a['height'])||this['device']['height'];return!_0x503baf||_0x3ea034!==_0x503baf['width']||_0x5f100e!==_0x503baf['height'];}['allocateRe'+'nderTarget'](_0x48d89c,_0x11c09d,_0x1d6e07,_0x2be0b2,_0x2839a2){const _0x25f30d=new _e(_0x1d6e07,{'name':M_,'format':_0x2be0b2,'width':_0x11c09d?_0x11c09d['colorBuffe'+'r']['width']:_0x1d6e07['width'],'height':_0x11c09d?_0x11c09d['colorBuffe'+'r']['height']:_0x1d6e07['height'],'mipmaps':!(0x628+-0x1f6b+0xb*0x24c),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});return _0x48d89c?(_0x48d89c['destroyFra'+'meBuffers'](),_0x2839a2?_0x48d89c['_depthBuff'+'er']=_0x25f30d:(_0x48d89c['_colorBuff'+'er']=_0x25f30d,_0x48d89c['_colorBuff'+'ers']=[_0x25f30d])):_0x48d89c=new gt({'name':'DepthGrabR'+'T','colorBuffer':_0x2839a2?null:_0x25f30d,'depthBuffer':_0x2839a2?_0x25f30d:null,'depth':!_0x2839a2,'stencil':_0x1d6e07['supportsSt'+'encil'],'autoResolve':!(-0x536*0x3+0x1*0xc27+0x1*0x37c)}),_0x48d89c;}['releaseRen'+'derTarget'](_0x457d22){_0x457d22&&(_0x457d22['destroyTex'+'tureBuffer'+'s'](),_0x457d22['destroy']());}['before'](){var _0x530871,_0x3c7f57;const _0x112a92=this['camera'],_0x3e7fe5=this['device'],_0xa02bfe=(_0x112a92==null?void(-0x9*-0xb0+0x6*-0x607+0x1dfa):_0x112a92['renderTarg'+'et'])??_0x3e7fe5['backBuffer'];let _0x4a325a=!(0x1*0x2dd+0x1eb6+-0x5*0x6b7),_0x598705=_0xa02bfe['stencil']?sd:$i;_0x3e7fe5['isWebGPU']&&_0xa02bfe['samples']>0x1*-0x228b+-0x2573*-0x1+0x1*-0x2e7&&(_0x598705=Ji,_0x4a325a=!(-0x233a+-0x23d3*0x1+0x470e));const _0x3c3fc5=((_0x530871=_0x112a92['renderTarg'+'et'])==null?void(0x19*-0x8f+-0x143*0x13+0x25f0):_0x530871['depthBuffe'+'r'])??((_0x3c7f57=_0x112a92['renderTarg'+'et'])==null?void(0xa71+-0x2d*-0x25+0x9*-0x1e2):_0x3c7f57['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x3c3fc5)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x112a92['renderTarg'+'et'],_0x3e7fe5,_0x598705,_0x4a325a));const _0x32d1fe=_0x4a325a?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x3e7fe5['scope']['resolve'](M_)['setValue'](_0x32d1fe);}['execute'](){const _0x3e4b97=this['device'];if(Q['pushGpuMar'+'ker'](_0x3e4b97,'GRAB-DEPTH'),_0x3e4b97['isWebGL2']&&_0x3e4b97['renderTarg'+'et']['samples']>0x235*-0xc+0x39*0x8b+-0x476){const _0xae6687=_0x3e4b97['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0x2ac5fa=this['depthRende'+'rTarget'];_0x3e4b97['renderTarg'+'et']=_0x2ac5fa,_0x3e4b97['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x3e4b97,_0xae6687,_0x2ac5fa['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x3e4b97['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x3e4b97['copyRender'+'Target'](_0x3e4b97['renderTarg'+'et'],this['depthRende'+'rTarget'],!(0x1fd6*0x1+-0x2*-0xe67+-0x3ca3),!(0x20f3+0x2e*-0xc4+0x245));Q['popGpuMark'+'er'](_0x3e4b97);}}class vv{constructor(){h(this,'_gammaCorr'+'ection',Xc),h(this,'_toneMappi'+'ng',sm),h(this,'_srgbRende'+'rTarget',!(-0x22a9*-0x1+-0x1b4+-0x20f4)),h(this,'_ssaoEnabl'+'ed',!(-0x17cb*-0x1+-0x27e*-0xb+-0x3334)),h(this,'_fog',Kn),h(this,'_sceneDept'+'hMapLinear',!(-0xee*-0xc+0x195+0xa*-0x146)),h(this,'_hash'),h(this,'_defines',new Map()),h(this,'_definesDi'+'rty',!(-0x2537*0x1+-0x22ca+0x4801));}get['hash'](){if(this['_hash']===void(0x1917+0x5*-0x67c+0x755)){const _0x307b5f=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hi(_0x307b5f);}return this['_hash'];}get['defines'](){const _0x35eb2e=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(0x1*0x1049+-0x1a67+0xa1f),_0x35eb2e['clear'](),this['_sceneDept'+'hMapLinear']&&_0x35eb2e['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(0x31*-0xba+-0x16ce+0x1d34*0x2)),_0x35eb2e['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x35eb2e['set']('TONEMAP',ov[this['_toneMappi'+'ng']]),_0x35eb2e['set']('GAMMA',Hw[this['shaderOutp'+'utGamma']])),_0x35eb2e;}['markDirty'](){this['_hash']=void(0x26e*-0x8+-0x1c12+-0x17c1*-0x2),this['_definesDi'+'rty']=!(0x5d2+-0x14cd+-0x2ff*-0x5);}set['fog'](_0x3e8f2b){this['_fog']!==_0x3e8f2b&&(this['_fog']=_0x3e8f2b,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0x55af88){this['_ssaoEnabl'+'ed']!==_0x55af88&&(this['_ssaoEnabl'+'ed']=_0x55af88,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0xc8a5e4){this['_gammaCorr'+'ectionAssi'+'gned']=!(-0x5a*0x4e+-0x1*0x1864+0x33d0),this['_gammaCorr'+'ection']!==_0xc8a5e4&&(this['_gammaCorr'+'ection']=_0xc8a5e4,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x5e787b){this['_toneMappi'+'ng']!==_0x5e787b&&(this['_toneMappi'+'ng']=_0x5e787b,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0x2f714b){this['_srgbRende'+'rTarget']!==_0x2f714b&&(this['_srgbRende'+'rTarget']=_0x2f714b,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x63f5a4){this['_sceneDept'+'hMapLinear']!==_0x63f5a4&&(this['_sceneDept'+'hMapLinear']=_0x63f5a4,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===Xc&&!this['_srgbRende'+'rTarget']?Xc:Ll;}}const La=new D(),ao=new D(),D_=new D(),I_=new te(),OE=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()];class Fl{constructor(){h(this,'shaderPass'+'Info',null),h(this,'renderPass'+'ColorGrab',null),h(this,'renderPass'+'DepthGrab',null),h(this,'fogParams',null),h(this,'shaderPara'+'ms',new vv()),h(this,'renderPass'+'es',[]),h(this,'jitter',0x5*-0x67d+0x1d72*0x1+0x2ff),(this['_aspectRat'+'io']=(-0x671+-0xc9c+0x3*0x65f)/(0x26b5+0x92*-0x17+-0xcc7*0x2),this['_aspectRat'+'ioMode']=hm,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new ie(0x29*0xd9+-0x11c3+0x96*-0x1d+0.75,-0xc13*-0x3+-0xad6+-0x1963+0.75,0x1*0x1805+0x71*0x1+0x65*-0x3e+0.75,-0x4f2*-0x7+-0x49d*0x3+-0x14c6),this['_clearColo'+'rBuffer']=!(0x1837+-0x171*0xf+-0x53*0x8),this['_clearDept'+'h']=-0x43*0x8f+-0x7a4+0x3*0xf06,this['_clearDept'+'hBuffer']=!(0x2*-0x243+-0x335*-0x3+-0x519),this['_clearSten'+'cil']=0xb24+-0x16fe+0xbda,this['_clearSten'+'cilBuffer']=!(-0xfc5+0x9d8+0x5ed),this['_cullFaces']=!(-0x1*0x5f+0x191e+0x23*-0xb5),this['_farClip']=-0x1d08+0x1217+0x21f*0x7,this['_flipFaces']=!(0x295*-0x1+0x7*-0x3cd+-0x8d*-0x35),this['_fov']=0x3*0xc3+-0x1d35+0x3df*0x7,this['_frustumCu'+'lling']=!(-0x13eb+0x2*0x101+0x11e9),this['_horizonta'+'lFov']=!(0x1*0x1223+-0x2145*-0x1+-0x3367),this['_layers']=[er,ps,Kp,Il,Zp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=-0xa*0xa7+-0x8b3*-0x4+-0x1c46+0.1,this['_node']=null,this['_orthoHeig'+'ht']=-0xae3*0x1+-0x1*-0x2bf+0x82e,this['_projectio'+'n']=ni,this['_rect']=new re(-0x1*-0x5c2+-0x968+-0x2*-0x1d3,-0x13*0x1eb+0xbe*-0x25+0x3fe7,-0x1*-0xeb1+-0x1b54+0xca4*0x1,0x1305+0x1c66*0x1+-0x2f6a),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new re(-0x3*0x15d+0xdae+0x5*-0x1eb,0xbb9*0x2+0x465+-0x1bd7,-0x134d*0x1+-0x484+0x17d2,-0xbf*-0x27+0xadb+-0x27f3),this['_scissorRe'+'ctClear']=!(0x3*0x1b7+0x260f+0x2b33*-0x1),this['_aperture']=0x25cf+0xae8+0x109*-0x2f,this['_shutter']=(-0x6a7+0x1ea7+-0x17ff)/(0x526*0x4+-0x1632*-0x1+0x452*-0x9),this['_sensitivi'+'ty']=0x754*-0x4+-0x1603+0x373b,this['_projMat']=new te(),this['_projMatDi'+'rty']=!(-0x14*-0x57+-0x179+-0x1*0x553),this['_projMatSk'+'ybox']=new te(),this['_viewMat']=new te(),this['_viewMatDi'+'rty']=!(-0x927+-0x4f9*-0x7+0x335*-0x8),this['_viewProjM'+'at']=new te(),this['_viewProjM'+'atDirty']=!(-0x1*-0x1fbd+-0x2333*-0x1+-0x1650*0x3),this['_shaderMat'+'ricesVersi'+'on']=-0x161*-0xb+-0x72d+-0x7fe,this['_viewProjI'+'nverse']=new te(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new te(),this['_jitters']=[0x9b4+-0x1f6b+-0x6d*-0x33,-0x48*-0x3+-0x1d51+-0x1*-0x1c79,0xf12+0x63f*0x3+0x6c3*-0x5,0x4*0x501+0xbad*0x1+0x1*-0x1fb1],this['frustum']=new yx(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0x13eaf6,_0x4b3078;(_0x13eaf6=this['renderPass'+'ColorGrab'])==null||_0x13eaf6['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x4b3078=this['renderPass'+'DepthGrab'])==null||_0x4b3078['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=-0x1630+0x2127+-0xaf7;}['_storeShad'+'erMatrices'](_0x52ffd5,_0x4dd4c0,_0x3ffcdf,_0x2df1e3){this['_shaderMat'+'ricesVersi'+'on']!==_0x2df1e3&&(this['_shaderMat'+'ricesVersi'+'on']=_0x2df1e3,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x52ffd5),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new te()),this['_viewProjC'+'urrent']['copy'](_0x52ffd5),this['_viewProjI'+'nverse']['invert'](_0x52ffd5),this['_jitters'][0x2409+-0x1d*-0x12f+-0x1*0x465a]=this['_jitters'][0x12ba*0x1+-0x94c*-0x1+-0x1c06],this['_jitters'][0xb*0x269+-0x1*0x2174+0x6f4]=this['_jitters'][-0xa82+0x2c7*0xd+-0x1998],this['_jitters'][0x1abb+0x255*0x10+-0x400b]=_0x4dd4c0,this['_jitters'][-0x2f*-0x47+0x56*0x16+-0x4*0x51b]=_0x3ffcdf);}get['fullSizeCl'+'earRect'](){const _0x20d67d=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x20d67d['x']===0x1*0x4c3+-0x1*-0x9c1+0x2*-0x742&&_0x20d67d['y']===-0x250e+0x20*-0xfe+0x44ce&&_0x20d67d['z']===0x256*0x3+-0xbf*0x1+-0x10b*0x6&&_0x20d67d['w']===0x7f+0x294+-0x312;}set['aspectRati'+'o'](_0x37c48f){this['_aspectRat'+'io']!==_0x37c48f&&(this['_aspectRat'+'io']=_0x37c48f,this['_projMatDi'+'rty']=!(-0x3*-0x4fa+-0xb47+-0x11*0x37));}get['aspectRati'+'o'](){var _0x2ba4d6;return(_0x2ba4d6=this['xr'])!=null&&_0x2ba4d6['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x5650d3){this['_aspectRat'+'ioMode']!==_0x5650d3&&(this['_aspectRat'+'ioMode']=_0x5650d3,this['_projMatDi'+'rty']=!(0x89+-0x1aa6+-0x539*-0x5));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x3cd889){this['_calculate'+'Projection']=_0x3cd889,this['_projMatDi'+'rty']=!(0x1895+-0x2*-0x355+0x1f3f*-0x1);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x378cd7){this['_calculate'+'Transform']=_0x378cd7;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x252662){this['_clearColo'+'r']['copy'](_0x252662);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0x1a6cc5){this['_clearColo'+'rBuffer']=_0x1a6cc5;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x4f9e46){this['_clearDept'+'h']=_0x4f9e46;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x14402d){this['_clearDept'+'hBuffer']=_0x14402d;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x359a6d){this['_clearSten'+'cil']=_0x359a6d;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x2da6d3){this['_clearSten'+'cilBuffer']=_0x2da6d3;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x3de1d9){this['_cullFaces']=_0x3de1d9;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x5965d1){this['_farClip']!==_0x5965d1&&(this['_farClip']=_0x5965d1,this['_projMatDi'+'rty']=!(0x36f+-0x1*-0x9b9+0x4*-0x34a));}get['farClip'](){var _0x298811;return(_0x298811=this['xr'])!=null&&_0x298811['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x3f6e0c){this['_flipFaces']=_0x3f6e0c;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x465f0a){this['_fov']!==_0x465f0a&&(this['_fov']=_0x465f0a,this['_projMatDi'+'rty']=!(-0x53*0x56+-0x207f+-0x215*-0x1d));}get['fov'](){var _0xdc7956;return(_0xdc7956=this['xr'])!=null&&_0xdc7956['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x133403){this['_frustumCu'+'lling']=_0x133403;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x526645){this['_horizonta'+'lFov']!==_0x526645&&(this['_horizonta'+'lFov']=_0x526645,this['_projMatDi'+'rty']=!(-0x12*-0x5+0x1*0x1736+-0x1790));}get['horizontal'+'Fov'](){var _0x12b5b9;return(_0x12b5b9=this['xr'])!=null&&_0x12b5b9['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x1e98b0){this['_layers']=_0x1e98b0['slice'](0x18f4*0x1+-0x1c32*0x1+0x33e),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x217430){this['_nearClip']!==_0x217430&&(this['_nearClip']=_0x217430,this['_projMatDi'+'rty']=!(0x58e+0x255c+-0x2aea));}get['nearClip'](){var _0x5f1ea6;return(_0x5f1ea6=this['xr'])!=null&&_0x5f1ea6['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x1059cd){this['_node']=_0x1059cd;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0x372665){this['_orthoHeig'+'ht']!==_0x372665&&(this['_orthoHeig'+'ht']=_0x372665,this['_projMatDi'+'rty']=!(-0x135*0x5+-0x1*0x5ff+0xc08));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x7c9e4c){this['_projectio'+'n']!==_0x7c9e4c&&(this['_projectio'+'n']=_0x7c9e4c,this['_projMatDi'+'rty']=!(-0x34e+0x22*-0xfe+0x250a));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x5a395a){this['_rect']['copy'](_0x5a395a);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x102575){this['_renderTar'+'get']=_0x102575;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x58609d){this['_scissorRe'+'ct']['copy'](_0x58609d);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x35e726=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x35e726)['invert'](),this['_viewMatDi'+'rty']=!(0x4f*-0xf+-0x36e*0x4+0x61e*0x3);}return this['_viewMat'];}set['aperture'](_0x1f49df){this['_aperture']=_0x1f49df;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x2ba64b){this['_sensitivi'+'ty']=_0x2ba64b;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0x443fd3){this['_shutter']=_0x443fd3;}get['shutter'](){return this['_shutter'];}set['xr'](_0x53142a){this['_xr']!==_0x53142a&&(this['_xr']=_0x53142a,this['_projMatDi'+'rty']=!(-0x12b0+0x1fb0+0x2*-0x680));}get['xr'](){return this['_xr'];}['clone'](){return new Fl()['copy'](this);}['copy'](_0x3c2f45){return this['_aspectRat'+'io']=_0x3c2f45['_aspectRat'+'io'],this['_farClip']=_0x3c2f45['_farClip'],this['_fov']=_0x3c2f45['_fov'],this['_horizonta'+'lFov']=_0x3c2f45['_horizonta'+'lFov'],this['_nearClip']=_0x3c2f45['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x3c2f45['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x3c2f45['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x3c2f45['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x3c2f45['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x3c2f45['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x3c2f45['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x3c2f45['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x3c2f45['calculateT'+'ransform'],this['clearColor']=_0x3c2f45['clearColor'],this['clearColor'+'Buffer']=_0x3c2f45['clearColor'+'Buffer'],this['clearDepth']=_0x3c2f45['clearDepth'],this['clearDepth'+'Buffer']=_0x3c2f45['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x3c2f45['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x3c2f45['clearStenc'+'ilBuffer'],this['cullFaces']=_0x3c2f45['cullFaces'],this['flipFaces']=_0x3c2f45['flipFaces'],this['frustumCul'+'ling']=_0x3c2f45['frustumCul'+'ling'],this['layers']=_0x3c2f45['layers'],this['orthoHeigh'+'t']=_0x3c2f45['orthoHeigh'+'t'],this['projection']=_0x3c2f45['projection'],this['rect']=_0x3c2f45['rect'],this['renderTarg'+'et']=_0x3c2f45['renderTarg'+'et'],this['scissorRec'+'t']=_0x3c2f45['scissorRec'+'t'],this['aperture']=_0x3c2f45['aperture'],this['shutter']=_0x3c2f45['shutter'],this['sensitivit'+'y']=_0x3c2f45['sensitivit'+'y'],this['shaderPass'+'Info']=_0x3c2f45['shaderPass'+'Info'],this['jitter']=_0x3c2f45['jitter'],this['_projMatDi'+'rty']=!(-0x5*0x4cd+0xd52+0x1*0xaaf),this;}['_enableRen'+'derPassCol'+'orGrab'](_0xd6a655,_0x15bd2c){var _0x23bf8b;_0x15bd2c?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new LE(_0xd6a655)):((_0x23bf8b=this['renderPass'+'ColorGrab'])==null||_0x23bf8b['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x1bbf31,_0x594c39,_0x4b37d0){var _0x1fd77c;_0x4b37d0?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new RE(_0x1bbf31,this)):((_0x1fd77c=this['renderPass'+'DepthGrab'])==null||_0x1fd77c['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(-0x20b2+0x1*0x129b+0xe18));}['worldToScr'+'een'](_0x59a9aa,_0x4d6396,_0x4ce246,_0x339761=new D()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x59a9aa,_0x339761);const _0x25b609=this['_viewProjM'+'at']['data'],_0x1e4ca1=_0x59a9aa['x']*_0x25b609[-0x1fa2+-0x27d*0x5+-0x129*-0x26]+_0x59a9aa['y']*_0x25b609[-0x459+0x67*0x4a+0x1966*-0x1]+_0x59a9aa['z']*_0x25b609[0x8a1+0x4d3+-0xd69]+(-0xe93+-0x437*-0x2+0x2*0x313)*_0x25b609[-0x1595+-0x15b2+0x739*0x6];_0x339761['x']=(_0x339761['x']/_0x1e4ca1+(0x9fb+-0x873*-0x2+-0xa0*0x2b))*(-0x2c*0x12+-0x6a3+0x9bb+0.5),_0x339761['y']=(0x1fca+0x13e1+0x1*-0x33aa-_0x339761['y']/_0x1e4ca1)*(-0x2527*0x1+-0x25*0xb9+0x3fe4+0.5);const {x:_0x5efe8e,y:_0x130a70,z:_0x3f631f,w:_0x1fa0c1}=this['_rect'];return _0x339761['x']=_0x339761['x']*_0x3f631f*_0x4d6396+_0x5efe8e*_0x4d6396,_0x339761['y']=_0x339761['y']*_0x1fa0c1*_0x4ce246+(0x112a+-0xe*-0x1e+-0x12cd-_0x130a70-_0x1fa0c1)*_0x4ce246,_0x339761;}['screenToWo'+'rld'](_0x1ca0f9,_0x11668a,_0x175951,_0x22e558,_0x9b11ea,_0x4cf064=new D()){const {x:_0x4d47ab,y:_0x374568,z:_0x342fba,w:_0x5a08ad}=this['_rect'],_0x12a2ba=this['farClip']-this['nearClip'];if(La['set']((_0x1ca0f9-_0x4d47ab*_0x22e558)/(_0x342fba*_0x22e558),-0x5b*0x27+-0xbc+0xe9a-(_0x11668a-(-0x902+0x1366+-0x1*0xa63-_0x374568-_0x5a08ad)*_0x9b11ea)/(_0x5a08ad*_0x9b11ea),_0x175951/_0x12a2ba),La['mulScalar'](0x3*-0x513+-0x1a5*-0x8+0x3*0xb1),La['sub'](D['ONE']),this['_projectio'+'n']===ni){te['_getPerspe'+'ctiveHalfS'+'ize'](ao,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),ao['x']*=La['x'],ao['y']*=La['y'];const _0x3c8689=this['_node']['getWorldTr'+'ansform']();ao['z']=-this['nearClip'],_0x3c8689['transformP'+'oint'](ao,D_);const _0x4b81a5=this['_node']['getPositio'+'n']();_0x4cf064['sub2'](D_,_0x4b81a5),_0x4cf064['normalize'](),_0x4cf064['mulScalar'](_0x175951),_0x4cf064['add'](_0x4b81a5);}else this['_updateVie'+'wProjMat'](),I_['copy'](this['_viewProjM'+'at'])['invert'](),I_['transformP'+'oint'](La,_0x4cf064);return _0x4cf064;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===ni)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x32765b=this['_orthoHeig'+'ht'],_0x3c6b98=_0x32765b*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x3c6b98,_0x3c6b98,-_0x32765b,_0x32765b,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(-0x17*0xaf+-0x373+0x132d);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x234368=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(-0x1d37*0x1+0x1*0x1017+0xd84)/this['_sensitivi'+'ty']);return(0x23b4+0x1*0x26de+-0x38d*0x15)/(Math['pow'](0x1aeb+-0x821*0x1+-0x12c8,_0x234368)*(0x775*-0x1+0x6d9+-0x9d*-0x1+0.19999999999999996));}['getScreenS'+'ize'](_0x37300b){if(this['_projectio'+'n']===ni){const _0x568dd7=this['_node']['getPositio'+'n']()['distance'](_0x37300b['center']);if(_0x568dd7<_0x37300b['radius'])return-0x54b+0x2c*-0x21+0xaf8;const _0x375ef6=Math['asin'](_0x37300b['radius']/_0x568dd7),_0x51febb=Math['tan'](_0x375ef6),_0xcad1d4=Math['tan'](this['fov']/(0x7*-0x4ea+0x261+-0x3*-0xaad)*Y['DEG_TO_RAD']);return Math['min'](_0x51febb/_0xcad1d4,0x10d*-0x7+0x265d*-0x1+-0x1*-0x2db9);}return Y['clamp'](_0x37300b['radius']/this['_orthoHeig'+'ht'],0xa*-0x34+0xa65+-0x85d*0x1,0x22cb+-0xe10+0xa5d*-0x2);}['getFrustum'+'Corners'](_0x1ded35=this['nearClip'],_0x37dea8=this['farClip']){const _0x202dfa=this['fov']*Math['PI']/(0x2068+-0x1720+-0x894);let _0x43fdf2,_0x37436e;this['projection']===ni?this['horizontal'+'Fov']?(_0x43fdf2=_0x1ded35*Math['tan'](_0x202dfa/(0x1145+-0x1*-0x7d6+-0x1919)),_0x37436e=_0x43fdf2/this['aspectRati'+'o']):(_0x37436e=_0x1ded35*Math['tan'](_0x202dfa/(-0x17b1+0x1*-0xbfb+0x23ae)),_0x43fdf2=_0x37436e*this['aspectRati'+'o']):(_0x37436e=this['_orthoHeig'+'ht'],_0x43fdf2=_0x37436e*this['aspectRati'+'o']);const _0x151691=OE;return _0x151691[0x1be8+-0xdbd+0x193*-0x9]['x']=_0x43fdf2,_0x151691[0x1fe9+-0x8c+-0x1f5d]['y']=-_0x37436e,_0x151691[0xa4c+0x1c+0x18*-0x6f]['z']=-_0x1ded35,_0x151691[0x6*0x20f+0x834+-0x148d]['x']=_0x43fdf2,_0x151691[-0x4dd+-0x3a0+-0x2*-0x43f]['y']=_0x37436e,_0x151691[0x2b0+0x100b+-0x12ba]['z']=-_0x1ded35,_0x151691[0xbfe*-0x1+-0x2*-0x4+0x2fe*0x4]['x']=-_0x43fdf2,_0x151691[-0xf25+-0x89c+0x17c3]['y']=_0x37436e,_0x151691[-0x21c6+-0x3*-0x573+0x116f]['z']=-_0x1ded35,_0x151691[0x17*-0xd1+-0x2338+0x3e*0xdf]['x']=-_0x43fdf2,_0x151691[0x3ea*0x5+-0x7*0x15d+-0xa04]['y']=-_0x37436e,_0x151691[-0x25*0x3d+0x145e+-0x1*0xb8a]['z']=-_0x1ded35,this['_projectio'+'n']===ni&&(this['horizontal'+'Fov']?(_0x43fdf2=_0x37dea8*Math['tan'](_0x202dfa/(-0x3*-0xb07+0xd0f+-0x2e22)),_0x37436e=_0x43fdf2/this['aspectRati'+'o']):(_0x37436e=_0x37dea8*Math['tan'](_0x202dfa/(0x1070+-0x98f+-0x6df*0x1)),_0x43fdf2=_0x37436e*this['aspectRati'+'o'])),_0x151691[0x1*-0x1cf9+0xadc+0x1221]['x']=_0x43fdf2,_0x151691[0x1*0xea7+-0x191e+-0xa7b*-0x1]['y']=-_0x37436e,_0x151691[0xf63+-0xd20+-0x73*0x5]['z']=-_0x37dea8,_0x151691[0x2518+-0x1f9e+-0xb*0x7f]['x']=_0x43fdf2,_0x151691[0x2ae*-0x2+-0x62d+0x3a*0x33]['y']=_0x37436e,_0x151691[0x4*-0x98c+-0x1*-0x1bdb+-0x5*-0x212]['z']=-_0x37dea8,_0x151691[-0xb*-0x2af+-0x155*-0x5+-0x2428]['x']=-_0x43fdf2,_0x151691[0x17*-0x3d+0x1b73+-0x15f2*0x1]['y']=_0x37436e,_0x151691[-0x43a*-0x3+0x1069*0x2+-0x2*0x16bd]['z']=-_0x37dea8,_0x151691[-0x1*-0x4a+-0xe*0x21e+0x1d61]['x']=-_0x43fdf2,_0x151691[0x156e+0xd49*-0x2+0x52b]['y']=-_0x37436e,_0x151691[0x1666+-0xdbd*-0x2+-0x31d9]['z']=-_0x37dea8,_0x151691;}['setXrPrope'+'rties'](_0x37fd50){Object['assign'](this['_xrPropert'+'ies'],_0x37fd50),this['_projMatDi'+'rty']=!(0x2c1+0x1*-0x49a+0x1d9);}}const L_=new te(),R_=new te(),O_=new te(),gr=class gr{static['create'](_0x122a61,_0x4b7524,_0x9a245){const _0x8e843=new Fl();switch(_0x8e843['node']=new Ie(_0x122a61),_0x8e843['aspectRati'+'o']=-0x6*-0x369+0x143*0x2+-0x7a9*0x3,_0x8e843['aspectRati'+'oMode']=lu,_0x8e843['_scissorRe'+'ctClear']=!(-0x1deb+0x144a+0x9a1),_0x4b7524){case Ke:_0x8e843['node']['setRotatio'+'n'](gr['pointLight'+'Rotations'][_0x9a245]),_0x8e843['fov']=0x1b*0x130+-0x24a1+0x4eb,_0x8e843['projection']=ni;break;case Ze:_0x8e843['projection']=ni;break;case ve:_0x8e843['projection']=En;break;}return _0x8e843;}static['evalSpotCo'+'okieMatrix'](_0x4eb8e0){let _0x154756=gr['_spotCooki'+'eCamera'];_0x154756||(_0x154756=gr['create']('SpotCookie'+'Camera',Ze),gr['_spotCooki'+'eCamera']=_0x154756),_0x154756['fov']=_0x4eb8e0['_outerCone'+'Angle']*(-0x6a6+0xa9+0x5ff);const _0x56f881=_0x154756['_node'];_0x56f881['setPositio'+'n'](_0x4eb8e0['_node']['getPositio'+'n']()),_0x56f881['setRotatio'+'n'](_0x4eb8e0['_node']['getRotatio'+'n']()),_0x56f881['rotateLoca'+'l'](-(0x1acd+0xa40+0x757*-0x5),0x21c+-0x141e+0x1202,0x11e5+-0x3*-0x61+-0x2a*0x74),L_['setTRS'](_0x56f881['getPositio'+'n'](),_0x56f881['getRotatio'+'n'](),D['ONE'])['invert'](),R_['mul2'](_0x154756['projection'+'Matrix'],L_);const _0x578356=_0x4eb8e0['cookieMatr'+'ix'],_0x34b98e=_0x4eb8e0['atlasViewp'+'ort'];return O_['setViewpor'+'t'](_0x34b98e['x'],_0x34b98e['y'],_0x34b98e['z'],_0x34b98e['w']),_0x578356['mul2'](O_,R_),_0x578356;}};h(gr,'pointLight'+'Rotations',[new le()['setFromEul'+'erAngles'](-0x10b0+-0x469*-0x2+-0x3ef*-0x2,-0x2d*-0x32+-0x20e0+0x1870,-0xe*-0xdf+0x2383*0x1+0x15*-0x23d),new le()['setFromEul'+'erAngles'](0x53*0x6d+-0x159*0x19+-0x2*0xd3,-(-0xecf+0x24de+-0x15b5),-0xdc0+0x153a+-0x22*0x33),new le()['setFromEul'+'erAngles'](-0x1*-0x1457+0x1777+-0x2b74,0x1f1c+0x99f+-0x28bb,0x53b*0x1+0xecc+-0x1407),new le()['setFromEul'+'erAngles'](-(0xbee+-0x16e+-0xa26),-0x1445+-0xa6*0x1d+0x1*0x2713,0xe7+0x9*0xdb+-0x1*0x89a),new le()['setFromEul'+'erAngles'](-0x9*0x23d+-0x2373+-0x3*-0x1288,-0x20b+-0x2154+0x737*0x5,-0x232f+-0x7f2+0x2bd5),new le()['setFromEul'+'erAngles'](-0x4*-0x5e7+0x6*-0x217+-0xb12,-0xc8a+-0x1914+0x259e,0x15*0x18a+-0x5f*0x3b+0x13*-0x83)]),h(gr,'_spotCooki'+'eCamera',null);let Wn=gr;const vs=new D(),Or=new Float32Array(-0xe9b*-0x1+-0x203a+0x11a5),FE=new D(-(0x1685+0x3*-0xc56+-0xe7d*-0x1+0.5),0x16c7+-0x2567*-0x1+-0x3c2e,0x4fd*-0x1+0x9d7*0x1+-0x4da),NE=new D(0x5ec+-0x1549+0xf5d,-0x2611+-0x43a*-0x4+0x1529,-0xe50+0xb*-0x15d+-0x7b*-0x3d+0.5),at={'POSITION_RANGE':0x0,'DIRECTION_FLAGS':0x1,'COLOR_ANGLES_BIAS':0x2,'PROJ_MAT_0':0x3,'ATLAS_VIEWPORT':0x3,'PROJ_MAT_1':0x4,'PROJ_MAT_2':0x5,'PROJ_MAT_3':0x6,'AREA_DATA_WIDTH':0x7,'AREA_DATA_HEIGHT':0x8,'COUNT':0x9},kE={'LIGHTSHAPE_PUNCTUAL':Ys+'u','LIGHTSHAPE_RECT':Zy+'u','LIGHTSHAPE_DISK':Qy+'u','LIGHTSHAPE_SPHERE':Jy+'u','LIGHT_COLOR_DIVIDER':$c+'.0'},F_=(_0x476b7e,_0x5da66a)=>Object['keys'](_0x476b7e)['map'](_0x47b26a=>'#define\x20{'+_0x5da66a+_0x47b26a+'}\x20'+_0x476b7e[_0x47b26a])['join']('\x0a'),N_='\x0a\x0a\x20\x20\x20\x20'+F_(at,'CLUSTER_TE'+'XTURE_')+'\x0a\x20\x20\x20\x20'+F_(kE,'')+'\x0a';class UE{constructor(_0x50af89){h(this,'areaLights'+'Enabled',!(0x1c34+0x1e7f+0x3ab2*-0x1)),(this['device']=_0x50af89,Pe['get'](_0x50af89,Fe)['set']('lightBuffe'+'rDefinesPS',N_),Pe['get'](_0x50af89,it)['set']('lightBuffe'+'rDefinesPS',N_),this['cookiesEna'+'bled']=!(0x1409+-0x18b7+0xb*0x6d),this['shadowsEna'+'bled']=!(-0x4*-0x5cf+0x257e+-0x3cb9),this['areaLights'+'Enabled']=!(0x14c7+-0x7ca*-0x4+-0x33ee),this['maxLights']=0x4ae+-0x1*-0x1ef9+-0x22a8);const _0x5321de=at['COUNT'];this['lightsFloa'+'t']=new Float32Array((0xfa+-0x2*-0x69b+-0xe2c)*_0x5321de*this['maxLights']),this['lightsUint']=new Uint32Array(this['lightsFloa'+'t']['buffer']),this['lightsText'+'ure']=this['createText'+'ure'](this['device'],_0x5321de,this['maxLights'],Xt,'LightsText'+'ure'),this['_lightsTex'+'tureId']=this['device']['scope']['resolve']('lightsText'+'ure'),this['invMaxColo'+'rValue']=0xd0*0x1f+0xe*-0x3+-0x1*0x1906,this['invMaxAtte'+'nuation']=-0x2445+0x3b*0x8a+0x477,this['boundsMin']=new D(),this['boundsDelt'+'a']=new D();}['destroy'](){var _0x4cd846;(_0x4cd846=this['lightsText'+'ure'])==null||_0x4cd846['destroy'](),this['lightsText'+'ure']=null;}['createText'+'ure'](_0x4f1367,_0x1c5a44,_0x3347f7,_0xbbeb60,_0x1ce612){return new _e(_0x4f1367,{'name':_0x1ce612,'width':_0x1c5a44,'height':_0x3347f7,'mipmaps':!(0x11e2+0x8d9+-0x1aba),'format':_0xbbeb60,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1});}['setBounds'](_0x39da8b,_0x39e88d){this['boundsMin']['copy'](_0x39da8b),this['boundsDelt'+'a']['copy'](_0x39e88d);}['uploadText'+'ures'](){this['lightsText'+'ure']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ure']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'tureId']['setValue'](this['lightsText'+'ure']);}['getSpotDir'+'ection'](_0x27ca50,_0x1dda88){_0x1dda88['_node']['getWorldTr'+'ansform']()['getY'](_0x27ca50)['mulScalar'](-(-0xe5f+0x214a+0x9*-0x21a)),_0x27ca50['normalize']();}['getLightAr'+'eaSizes'](_0x369acb){const _0xb839b=_0x369acb['_node']['getWorldTr'+'ansform']();return _0xb839b['transformV'+'ector'](FE,vs),Or[0x9af*0x1+0xb95*0x1+-0x1544]=vs['x'],Or[-0x2210+0xd88+-0x1489*-0x1]=vs['y'],Or[0x1de4+0x1e36+-0x3c18]=vs['z'],_0xb839b['transformV'+'ector'](NE,vs),Or[-0x7b9+0x1*0x27a+0x542]=vs['x'],Or[0x2543*0x1+0xf7*0x12+0x1*-0x369d]=vs['y'],Or[-0x575*-0x1+0x2c0+-0x83*0x10]=vs['z'],Or;}['addLightDa'+'ta'](_0x165cbf,_0x435c71){const _0x3b7ff2=_0x165cbf['_type']===Ze,_0x4cee9f=_0x165cbf['atlasViewp'+'ortAllocat'+'ed'],_0x12dee9=this['cookiesEna'+'bled']&&!!_0x165cbf['_cookie']&&_0x4cee9f,_0x5aab02=this['areaLights'+'Enabled']&&_0x165cbf['shape']!==Ys,_0x120c8b=this['shadowsEna'+'bled']&&_0x165cbf['castShadow'+'s']&&_0x4cee9f,_0xd448b=_0x165cbf['_node']['getPositio'+'n']();let _0x34d8ac=null,_0x3113e7=null;_0x3b7ff2?_0x120c8b?_0x34d8ac=_0x165cbf['getRenderD'+'ata'](null,0x10be+-0x8d*0x34+0xbe6)['shadowMatr'+'ix']:_0x12dee9&&(_0x34d8ac=Wn['evalSpotCo'+'okieMatrix'](_0x165cbf)):(_0x120c8b||_0x12dee9)&&(_0x3113e7=_0x165cbf['atlasViewp'+'ort']);const _0x24c44e=this['lightsFloa'+'t'],_0x15d10e=this['lightsUint'],_0x44ca3e=_0x435c71*this['lightsText'+'ure']['width']*(-0x1*-0x1b6+0xb4f*-0x3+-0x1*-0x203b);_0x24c44e[_0x44ca3e+(-0xb1*-0x37+-0x1107*0x2+0x3f5*-0x1)*at['POSITION_R'+'ANGE']+(0x1*-0x1763+0xf78+0x7eb)]=_0xd448b['x'],_0x24c44e[_0x44ca3e+(-0x2cb+0x1*0x208f+0x10*-0x1dc)*at['POSITION_R'+'ANGE']+(0x7d*-0x7+-0x3f4+0x1d8*0x4)]=_0xd448b['y'],_0x24c44e[_0x44ca3e+(-0x6d4+-0x1e52+0x252a*0x1)*at['POSITION_R'+'ANGE']+(0x1*-0x1045+0xde+0xf69)]=_0xd448b['z'],_0x24c44e[_0x44ca3e+(-0x935*-0x1+0x1bf+0x28*-0x46)*at['POSITION_R'+'ANGE']+(-0x260c+-0x4b6+0x2ac5)]=_0x165cbf['attenuatio'+'nEnd'];const _0x57f53b=_0x165cbf['clusteredD'+'ata'];if(_0x15d10e[_0x44ca3e+(0x1*-0x16af+0x26ea+-0x1037)*at['COLOR_ANGL'+'ES_BIAS']+(-0x2*-0xc5+0x7*0x16+-0x224)]=_0x57f53b[0x15*-0x131+0x198*0x1+-0x1*-0x176d],_0x15d10e[_0x44ca3e+(-0xfe3+-0xae5+0x1acc)*at['COLOR_ANGL'+'ES_BIAS']+(-0xb47+-0x1*-0x150+-0x27e*-0x4)]=_0x57f53b[0x6cf+-0x1561+0x1*0xe93],_0x15d10e[_0x44ca3e+(0xc6*0x9+-0xbd7+-0xb3*-0x7)*at['COLOR_ANGL'+'ES_BIAS']+(0x1ddd+0x1424+-0x31ff)]=_0x57f53b[-0xc44+0xcb9+-0x73],_0x165cbf['castShadow'+'s']){const _0x31ac63=_0x165cbf['getRenderD'+'ata'](null,-0x1*-0x12f2+-0x14*0x2b+0x7cb*-0x2),_0x2e8936=_0x165cbf['_getUnifor'+'mBiasValue'+'s'](_0x31ac63),_0x4e4b61=Mn['float2Half'](_0x2e8936['bias']),_0x27f084=Mn['float2Half'](_0x2e8936['normalBias']);_0x15d10e[_0x44ca3e+(-0x4e2+0xd54*-0x2+0x1f8e)*at['COLOR_ANGL'+'ES_BIAS']+(-0x8*0x2f4+0x1a78+-0x91*0x5)]=_0x4e4b61|_0x27f084<<0x1e09+-0x29e*-0xa+-0x3825;}if(_0x3b7ff2&&(this['getSpotDir'+'ection'](vs,_0x165cbf),_0x24c44e[_0x44ca3e+(0x1ca7+0xb03*0x3+-0x3dac*0x1)*at['DIRECTION_'+'FLAGS']+(-0x1b3b*0x1+0xc87*0x2+0x1*0x22d)]=vs['x'],_0x24c44e[_0x44ca3e+(-0x18e3+-0x1ee7+-0x129a*-0x3)*at['DIRECTION_'+'FLAGS']+(0x1f9e+-0x1*-0x808+0xd37*-0x3)]=vs['y'],_0x24c44e[_0x44ca3e+(0x205*0x4+-0x16*-0x95+0x1*-0x14de)*at['DIRECTION_'+'FLAGS']+(-0x99d+0x105d*-0x2+0x2a59)]=vs['z']),_0x15d10e[_0x44ca3e+(0x63f+0xc5e+-0x1299)*at['DIRECTION_'+'FLAGS']+(0x1c61+-0x1*0x2126+-0x2*-0x264)]=_0x165cbf['getCluster'+'edFlags'](_0x120c8b,_0x12dee9),_0x34d8ac){const _0x458e12=_0x34d8ac['data'];for(let _0xc20958=0xed9+0x11*0x91+-0x187a;_0xc20958<-0xb11*0x1+0xa8b*0x2+-0x1*0x9f5;_0xc20958++)_0x24c44e[_0x44ca3e+(-0x19*-0x1+-0x6af*-0x1+-0x6c4)*at['PROJ_MAT_0']+_0xc20958]=_0x458e12[_0xc20958];}if(_0x3113e7&&(_0x24c44e[_0x44ca3e+(0x47a+-0x199*-0x1+-0x60f)*at['ATLAS_VIEW'+'PORT']+(0x12ee+-0x1*-0x234e+-0xd8f*0x4)]=_0x3113e7['x'],_0x24c44e[_0x44ca3e+(0x3d5+-0x1*0x1d87+0x6*0x449)*at['ATLAS_VIEW'+'PORT']+(0xe29*0x1+0x6b7+-0x3*0x6f5)]=_0x3113e7['y'],_0x24c44e[_0x44ca3e+(-0x157f*0x1+0x783*-0x1+0x1d06)*at['ATLAS_VIEW'+'PORT']+(-0x1*0x1160+0x20d0+-0xf6e)]=_0x3113e7['z']/(0x1cb8+-0x1ee2+-0x1*-0x22d)),_0x5aab02){const _0x4222d4=this['getLightAr'+'eaSizes'](_0x165cbf);_0x24c44e[_0x44ca3e+(0x12*0x54+0x13e0+0x184*-0x11)*at['AREA_DATA_'+'WIDTH']+(0x22e1*-0x1+0x1*-0x6e+0x234f)]=_0x4222d4[0x2*0x1069+-0xdde+-0x12f4],_0x24c44e[_0x44ca3e+(0xef8+-0xeca+0x15*-0x2)*at['AREA_DATA_'+'WIDTH']+(-0x59f+0x18fc+0x6*-0x33a)]=_0x4222d4[-0x23*-0x115+-0x7*-0x1ea+-0x3344],_0x24c44e[_0x44ca3e+(-0x1518+-0xa91+0x1*0x1fad)*at['AREA_DATA_'+'WIDTH']+(-0x310*-0x5+0x1250+-0x219e)]=_0x4222d4[0x1*-0x72f+-0xfb1+0x16e2],_0x24c44e[_0x44ca3e+(0x127*0x8+-0x971+0x3d)*at['AREA_DATA_'+'HEIGHT']+(0xddb+-0xbb*0x29+0x1018)]=_0x4222d4[-0x81c+0xbec+0x8b*-0x7],_0x24c44e[_0x44ca3e+(0x7*-0x44b+0x180f+0x602)*at['AREA_DATA_'+'HEIGHT']+(0xb3c+-0x1*0x1ce1+-0x3*-0x5e2)]=_0x4222d4[0x1031+-0x810+-0x81d*0x1],_0x24c44e[_0x44ca3e+(-0x1a72+-0x1c90+-0x2*-0x1b83)*at['AREA_DATA_'+'HEIGHT']+(-0x145f+0x25*0xf9+-0x24*0x6f)]=_0x4222d4[-0x44b*-0x5+0x1181*0x2+-0x1*0x3874];}}}const ic=new D(),rc=new D(),ac=new D(),Yd=new De(),k_=-0x2*-0xd01+0x10f*0x12+-0x1d10;class U_{constructor(){this['light']=null,this['min']=new D(),this['max']=new D();}}class cu{constructor(_0x1bdd59){h(this,'clusterTex'+'ture'),(this['device']=_0x1bdd59,this['name']='Untitled',this['reportCoun'+'t']=-0x1079+-0x2143+0x31bc,this['boundsMin']=new D(),this['boundsMax']=new D(),this['boundsDelt'+'a']=new D(),this['_cells']=new D(-0x2bf*-0x1+-0x389+0x1d*0x7,0x2*0x1075+-0x2c2+-0x1e27,0x12d*-0x5+0xc33+-0x651),this['_cellsLimi'+'t']=new D(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=0x1*0x1b0c+0x7ca*-0x3+0x43*-0xe,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new U_()),this['lightsBuff'+'er']=new UE(_0x1bdd59),this['registerUn'+'iforms'](_0x1bdd59));}set['maxCellLig'+'htCount'](_0x49ce28){_0x49ce28!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x49ce28,this['_cellsDirt'+'y']=!(-0x15cc+0x2b9*-0xe+-0x1*-0x3bea));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x28ee1a){ic['copy'](_0x28ee1a)['floor'](),this['_cells']['equals'](ic)||(this['_cells']['copy'](ic),this['_cellsLimi'+'t']['copy'](ic)['sub'](D['ONE']),this['_cellsDirt'+'y']=!(-0x1e87+-0x1c13+0x3a9a));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x2518cc){this['_clusterSk'+'ipId']=_0x2518cc['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x2518cc['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x2518cc['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x2518cc['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(-0x92d+-0x4*0x9ad+0x2fe4),this['_clusterBo'+'undsMinId']=_0x2518cc['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(-0x1370+0xc0c+0x1*0x767),this['_clusterBo'+'undsDeltaI'+'d']=_0x2518cc['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(0x71+-0x1f39+0x1ecb),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x2518cc['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(-0x17e*0x16+0x1f39+-0x3*-0x8a),this['_clusterCe'+'llsDotId']=_0x2518cc['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(-0x1b5*-0x12+-0x17*-0x112+-0x3755),this['_clusterCe'+'llsMaxId']=_0x2518cc['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(-0x980+-0x18e2+0x2265*0x1);}['updatePara'+'ms'](_0x50bb82){_0x50bb82&&(this['cells']=_0x50bb82['cells'],this['maxCellLig'+'htCount']=_0x50bb82['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x50bb82['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x50bb82['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x50bb82['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(-0x535+0x1*-0x1163+-0x59*-0x41);const _0x287736=this['_cells']['x'],_0x4f39ae=this['_cells']['y'],_0x50444c=this['_cells']['z'],_0xd5cea=_0x287736*_0x4f39ae*_0x50444c,_0x4e21a1=this['maxCellLig'+'htCount']*_0xd5cea;let _0x1c5e33=Math['ceil'](Math['sqrt'](_0x4e21a1));_0x1c5e33=Y['roundUp'](_0x1c5e33,this['maxCellLig'+'htCount']);const _0x4c8cd3=Math['ceil'](_0x4e21a1/_0x1c5e33);w['assert'](_0x1c5e33<=k_&&_0x4c8cd3<=k_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][0x243f+0x1c53+-0x1d*0x23a]=_0x287736,this['_clusterCe'+'llsMaxData'][0x17*0x9d+-0x2*-0x67a+-0x1b0e]=_0x4f39ae,this['_clusterCe'+'llsMaxData'][-0xc3e+-0x1a*-0xd5+0x1*-0x962]=_0x50444c,this['_clusterCe'+'llsDotData'][-0x97*0x3a+-0x9f4+0x2c2a]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0x17*-0x13d+-0x664*-0x4+0x2ec]=_0x287736*_0x50444c*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0x1d1a+0xc27+-0x293f]=_0x287736*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x4e21a1),this['counts']=new Int32Array(_0xd5cea),this['_clusterTe'+'xtureSizeD'+'ata'][0x9a*0x1b+-0x8*-0xae+0x19*-0xde]=_0x1c5e33,this['_clusterTe'+'xtureSizeD'+'ata'][0x486*0x5+-0x20c*-0x11+0x27f*-0x17]=(-0xa2e+0x17fc+-0xdcd)/_0x1c5e33,this['_clusterTe'+'xtureSizeD'+'ata'][0xafb+0x2*-0x62f+0x3*0x77]=(0xcc8+-0x3c3+-0x4*0x241)/_0x4c8cd3,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x1c5e33,_0x4c8cd3,Ep,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>0x1*-0xdf3+-0x7fa+0x15ee?0x509*0x1+0x1fd1+0x24da*-0x1:0x2ea*0x1+0x7*0x1f+-0x3c2),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x6ae2ff=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x253e+-0xc2*0xe+0x2fda]=this['_cells']['x']/_0x6ae2ff['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x40*0x6a+-0x162*0xd+0x3b*0xc1]=this['_cells']['y']/_0x6ae2ff['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x39+0x4b8*0x3+-0xded]=this['_cells']['z']/_0x6ae2ff['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][-0x1938+0x98d+0xfab]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][-0x1*-0x6+-0xd*-0x8f+-0x3a4*0x2]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][-0x121f+-0x8b5*0x3+0x2c40]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][0x1914+-0x10bf+-0x9*0xed]=_0x6ae2ff['x'],this['_clusterBo'+'undsDeltaD'+'ata'][0x1691+0x8f+-0x171f*0x1]=_0x6ae2ff['y'],this['_clusterBo'+'undsDeltaD'+'ata'][0x6d3*0x1+-0x39a*0x8+0x15ff]=_0x6ae2ff['z'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']);}['evalLightC'+'ellMinMax'](_0xa20ec8,_0x1e2182,_0x56394c){_0x1e2182['copy'](_0xa20ec8['min']),_0x1e2182['sub'](this['boundsMin']),_0x1e2182['div'](this['boundsDelt'+'a']),_0x1e2182['mul2'](_0x1e2182,this['cells']),_0x1e2182['floor'](),_0x56394c['copy'](_0xa20ec8['max']),_0x56394c['sub'](this['boundsMin']),_0x56394c['div'](this['boundsDelt'+'a']),_0x56394c['mul2'](_0x56394c,this['cells']),_0x56394c['ceil'](),_0x1e2182['max'](D['ZERO']),_0x56394c['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0x390a0c){const _0x54fc53=this['lightsBuff'+'er']['maxLights'],_0x5db427=this['_usedLight'+'s'];let _0x5800d0=-0x175*-0x9+0x339+-0x1055;_0x390a0c['forEach'](_0x16f097=>{const _0x1f7917=!!(_0x16f097['mask']&(Ss|di)),_0x4b3aa9=_0x16f097['type']===Ze&&_0x16f097['_outerCone'+'Angle']===-0x32d+0xe36*-0x2+0x1f99;if(_0x16f097['enabled']&&_0x16f097['type']!==ve&&_0x16f097['visibleThi'+'sFrame']&&_0x16f097['intensity']>0x268e+-0x4*0x79c+0x2*-0x40f&&_0x1f7917&&!_0x4b3aa9){if(_0x5800d0<_0x54fc53){let _0x4a79e1;_0x5800d0<_0x5db427['length']?_0x4a79e1=_0x5db427[_0x5800d0]:(_0x4a79e1=new U_(),_0x5db427['push'](_0x4a79e1)),_0x4a79e1['light']=_0x16f097,_0x16f097['getBoundin'+'gBox'](Yd),_0x4a79e1['min']['copy'](Yd['getMin']()),_0x4a79e1['max']['copy'](Yd['getMax']()),_0x5800d0++;}else w['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x54fc53-(-0x1183+-0x310*-0xa+-0xd1c))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x5db427['length']=_0x5800d0;}['evaluateBo'+'unds'](){const _0x4c6665=this['_usedLight'+'s'],_0x4ffd05=this['boundsMin'],_0x4457f6=this['boundsMax'];if(_0x4c6665['length']>0x1*0x1d5+-0x1514+0x1340){_0x4ffd05['copy'](_0x4c6665[-0x1d+0x1*-0xc4f+-0xc6d*-0x1]['min']),_0x4457f6['copy'](_0x4c6665[-0x1f5d+-0x7a7*-0x1+0x17b7]['max']);for(let _0x5c7617=-0x29e+-0x33c+-0x19*-0x3c;_0x5c7617<_0x4c6665['length'];_0x5c7617++)_0x4ffd05['min'](_0x4c6665[_0x5c7617]['min']),_0x4457f6['max'](_0x4c6665[_0x5c7617]['max']);}else _0x4ffd05['set'](0x174*0x12+-0x1*-0x21d+-0x1c45,-0x4*0x35b+0x2*-0x10f3+0xfc6*0x3,-0x2*0xeb+0x825+0x5f*-0x11),_0x4457f6['set'](0x1*0x24b7+-0x1*-0x14e7+-0x12d*0x31,-0xe13+0x1222+-0x40e,-0x1be0*-0x1+0x1f6c+0x161*-0x2b);this['boundsDelt'+'a']['sub2'](_0x4457f6,_0x4ffd05),this['lightsBuff'+'er']['setBounds'](_0x4ffd05,this['boundsDelt'+'a']);}['updateClus'+'ters'](_0x4036f8){this['counts']['fill'](-0x1*-0x1427+0x1*-0x1205+-0x222),this['clusters']['fill'](0x23a3+0xd9a*-0x2+0x7f*-0x11),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x4036f8?_0x4036f8['areaLights'+'Enabled']:!(0x221+-0x583*-0x4+-0x182c);const _0x304361=this['_cells']['x'],_0x36c5f3=this['_cells']['z'],_0x5da033=this['counts'],_0x2f6ff0=this['_maxCellLi'+'ghtCount'],_0xd8c3c5=this['clusters'],_0xf1c513=this['maxCellLig'+'htCount'];let _0x1f480c=!(-0x5a8*0x6+0x227b+-0x2*0x45);const _0x41d605=this['_usedLight'+'s'];for(let _0x5ce665=0x13df+0xeb6+0x1*-0x2294;_0x5ce665<_0x41d605['length'];_0x5ce665++){const _0x1187d1=_0x41d605[_0x5ce665],_0xdd7265=_0x1187d1['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0xdd7265,_0x5ce665),this['evalLightC'+'ellMinMax'](_0x1187d1,rc,ac);const _0x545766=rc['x'],_0xf720d2=ac['x'],_0x19e442=rc['y'],_0x51ae58=ac['y'],_0x14a7eb=rc['z'],_0x1996cf=ac['z'];for(let _0x14659f=_0x545766;_0x14659f<=_0xf720d2;_0x14659f++)for(let _0x17f13f=_0x14a7eb;_0x17f13f<=_0x1996cf;_0x17f13f++)for(let _0xcd3199=_0x19e442;_0xcd3199<=_0x51ae58;_0xcd3199++){const _0x6dbadb=_0x14659f+_0x304361*(_0x17f13f+_0xcd3199*_0x36c5f3),_0x118230=_0x5da033[_0x6dbadb];_0x118230<_0x2f6ff0?(_0xd8c3c5[_0xf1c513*_0x6dbadb+_0x118230]=_0x5ce665,_0x5da033[_0x6dbadb]=_0x118230+(-0xbdb*0x2+-0x9b*0x3+0x1988)):_0x1f480c=!(-0x482+-0x22ab+0x272d);}}_0x1f480c&&this['reportCoun'+'t']<-0x1b1b+-0x1245+0x2d65&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===0x1*0x1975+0xec1*0x1+-0x15*0x1ea?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x154410,_0x56d607=null){this['updatePara'+'ms'](_0x56d607),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x154410),this['evaluateBo'+'unds'](),this['updateClus'+'ters'](_0x56d607),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const B_=0x4af*-0x4+-0x263*-0x3+0xb95+0.39996322972865306,Nl={'circlePoint'(_0x253f70){const _0x218554=Math['sqrt'](Math['random']()),_0x4bc570=Math['random']()*(0x1bdf*-0x1+-0x81e+0x23ff)*Math['PI'];_0x253f70['x']=_0x218554*Math['cos'](_0x4bc570),_0x253f70['y']=_0x218554*Math['sin'](_0x4bc570);},'circlePointDeterministic'(_0x4c749f,_0x34ec1b,_0x1fec2e){const _0x422af9=_0x34ec1b*B_,_0x437c7a=Math['sqrt'](_0x34ec1b)/Math['sqrt'](_0x1fec2e);_0x4c749f['x']=_0x437c7a*Math['cos'](_0x422af9),_0x4c749f['y']=_0x437c7a*Math['sin'](_0x422af9);},'spherePointDeterministic'(_0x3e8416,_0x43f099,_0x410448,_0x353f67=-0xd8b+0xb1f+-0x136*-0x2,_0x28b778=0x7ab+-0x1*0x12ad+0xb03*0x1){_0x353f67=-0xbd3+0x5*0x1e1+0x26f-(0x10*0x101+0x1*0xd75+0x5e7*-0x5)*_0x353f67,_0x28b778=-0xdcd*-0x1+0x1*0x17c1+-0x258d*0x1-(0x16*0x167+-0x1*-0x213+-0x1*0x20eb)*_0x28b778;const _0x38b191=Y['lerp'](_0x353f67,_0x28b778,_0x43f099/_0x410448),_0x1694db=Math['sqrt'](-0x1*0x1ed3+0x1b70+0x364-_0x38b191*_0x38b191),_0x169142=B_*_0x43f099;_0x3e8416['x']=Math['cos'](_0x169142)*_0x1694db,_0x3e8416['y']=_0x38b191,_0x3e8416['z']=Math['sin'](_0x169142)*_0x1694db;},'radicalInverse'(_0xd16db4){let _0x148af6=(_0xd16db4<<0x2*-0x8b3+0x442*0x8+-0x109a|_0xd16db4>>>0x232e+-0x181c+-0xb02)>>>0x4*-0x118+0x1796+-0x1336;return _0x148af6=((_0x148af6&-0x1*-0x3c805984+-0xeb*0x9abf95+0x53716ccc*0x2)<<-0xa3a*-0x1+-0x1630+0xbf7|(_0x148af6&0x3*-0xd0ab591+-0xb87dd85+-0x20f*-0x6b82fe)>>>-0x23d4+0x39d*0x2+0x1c9b)>>>0x183e+-0x92d*-0x1+-0x216b,_0x148af6=((_0x148af6&0x2d81ddfe+0x2785*-0x8727+-0x1a8e7d78*-0x1)<<0x1ada+0x1586+-0x182f*0x2|(_0x148af6&0x74164b7*-0x2f+-0x1800210ec+0x20f*0x1c3ac9f)>>>0x6bc*0x2+0x8*-0x263+0x5a2)>>>-0x4d*0x13+0x26*-0xf8+0x2a87,_0x148af6=((_0x148af6&-0x4*0x16f9052+0xe500f8*0xb+-0xa96f7*-0x109)<<-0x1*0x22db+-0x38b+0xb*0x37e|(_0x148af6&-0xc5354b8e+0xa280771a+0xda*0x143b23a)>>>-0xd*-0x25c+-0x12df+-0x1af*0x7)>>>0x1*0x22a+-0x1c0f+0x19e5,_0x148af6=((_0x148af6&-0x1399*0xe4f+0x1*-0x3a0cb1+0x25177e7)<<0x2f*0x4f+-0x5*-0x799+-0x3476|(_0x148af6&0xbc2ee9*0x3+-0x1e000a44a+0x2dccd168f)>>>0x4*-0x229+-0x162b*0x1+0x1ed7)>>>-0xac*0x1b+0x389*-0x2+0x7*0x39a,_0x148af6*(0x1*0x12aa+-0x3b4+-0xef6+2.3283064365386963e-10);}},BE={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP','xy':'unpackNorm'+'alXY','xyz':'unpackNorm'+'alXYZ'},zE={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Tr{static['decodeFunc'](_0x512b02){return BE[_0x512b02]??'decodeGamm'+'a';}static['encodeFunc'](_0x201322){return zE[_0x201322]??'encodeGamm'+'a';}}const z_=_0x60e80=>{switch(_0x60e80){case tu:return'Cubemap';case Gx:return'Octahedral';default:return'Equirect';}},nc=(_0x27d197,_0x2bdb64,_0x20edb8)=>{if(_0x27d197<=-0x2de*-0x3+-0x3*0xb29+-0x21*-0xc1)_0x2bdb64[_0x20edb8+(-0x17f3+0x15d+-0x2*-0xb4b)]=0x1cae+0x267d+0x5*-0xd6f,_0x2bdb64[_0x20edb8+(0x1*0x277+0x26ba+-0x2*0x1498)]=0x2ef+0x6*-0x30+0x1cf*-0x1,_0x2bdb64[_0x20edb8+(0x902+-0x4*0x8ed+0xd5a*0x2)]=0x21b6+0x748+-0x48e*0x9,_0x2bdb64[_0x20edb8+(-0x2588+-0xe3*0x18+0x197*0x25)]=0x8c5+-0x1*0x1eef+0x162a;else{if(_0x27d197>=-0x27*0x3b+0x1*0x1169+-0x86b)_0x2bdb64[_0x20edb8+(-0x1817+-0x595+0x1dac)]=0x178e+0x2357*-0x1+-0x199*-0x8,_0x2bdb64[_0x20edb8+(-0x1193+0x2173+-0xfdf)]=0x1bd7*0x1+0x1*0x819+-0x23f0,_0x2bdb64[_0x20edb8+(0x2a8*-0xe+-0x23cc+0x48fe)]=0x1*0x1135+0x21fe+-0x1111*0x3,_0x2bdb64[_0x20edb8+(-0x19fd+-0x12c2+-0x1*-0x2cc2)]=0x1f*-0x49+0x3*0x8f9+0x59*-0x34;else{let _0x37ae0d=(0x2364+-0x33*0x15+-0x1f34)*_0x27d197%(0x6a*0x19+-0x1eb5+0x145c),_0x411f9a=(0x4b+0x1a69+0x1*-0x19b5)*_0x27d197%(-0xf87+-0xc6f+0x1bf7),_0x4a69d8=(0x1a30f+-0x5eaf+0xe13*-0x5)*_0x27d197%(0x5*-0x16d+-0x232e+0x2a50);const _0x568546=(-0x1abc7c3+0x16bb132+0x2*0x9e8cc8)*_0x27d197%(-0x12b6+-0x3*0x52e+0x2241);_0x37ae0d-=_0x411f9a/(-0x26f1+0x1bf5+0x1*0xbfb),_0x411f9a-=_0x4a69d8/(-0x1ba3+-0x1883+0x3525),_0x4a69d8-=_0x568546/(-0x1cc4+0x8aa*-0x3+-0x37c1*-0x1),_0x2bdb64[_0x20edb8+(-0x58*-0x20+0x565*-0x1+-0x1*0x59b)]=Math['min'](0x1b02+-0x1085+-0x12*0x87,Math['floor'](_0x37ae0d*(0xe69+-0x38*0x37+-0x161))),_0x2bdb64[_0x20edb8+(0x4*0x617+-0x399*-0x1+-0x1bf4)]=Math['min'](-0x2185+0x6*0x199+0xc77*0x2,Math['floor'](_0x411f9a*(-0x52d+0x2093+-0x1a66))),_0x2bdb64[_0x20edb8+(-0x2*0x10c9+0x1a7*-0x4+0x2830)]=Math['min'](0x1a3*-0x14+-0x37f*0x1+0x253a,Math['floor'](_0x4a69d8*(0xb*0x18b+-0x8bf+0xa*-0xb9))),_0x2bdb64[_0x20edb8+(-0x22e2+0x1e9*0x1+0x20fc)]=Math['min'](-0x1dee+0xfce*-0x1+0x2ebb,Math['floor'](_0x568546*(0x19d*-0x10+-0x14*0x1ed+-0x4154*-0x1)));}}},VE=_0x52e84a=>{const _0x269fe1=_0x52e84a['length'],_0x5b87ca=Math['min'](_0x269fe1,-0x1bb5+-0x25c1+-0x13a*-0x37),_0x1a68d9=Math['ceil'](_0x269fe1/_0x5b87ca),_0x539bd2=new Uint8Array(_0x5b87ca*_0x1a68d9*(0x250*-0x4+-0xde2+0x2*0xb93));let _0x4e4ac5=-0x1d*-0x13+-0x27*-0x11+0x25f*-0x2;for(let _0x14fbc0=-0x10b7*-0x1+-0x73*-0xd+0xb47*-0x2;_0x14fbc0<_0x269fe1;_0x14fbc0+=-0x1725+-0x264d+-0x1*-0x3d76)nc(_0x52e84a[_0x14fbc0+(0x1b8+0x142a+0x15e2*-0x1)]*(-0x89e*-0x1+0x13b0+-0x1c4e+0.5)+(0x1ac*-0x2+-0x1636+0x198e+0.5),_0x539bd2,_0x4e4ac5+(0x2144*0x1+-0x962+-0x2*0xbf1)),nc(_0x52e84a[_0x14fbc0+(0x463*0x1+-0x1*0xa32+0x5d0)]*(0x24e+0x265*0x10+0x144f*-0x2+0.5)+(-0x1*0x17ab+-0x3d*-0x69+-0x15a+0.5),_0x539bd2,_0x4e4ac5+(-0xa0*0x16+-0x14ec+-0x18*-0x172)),nc(_0x52e84a[_0x14fbc0+(-0x4eb*-0x3+-0x16e2+0x823)]*(-0x27*0x6+0x2486+-0x239c+0.5)+(0x1*-0x41b+0x18e6+-0x1*0x14cb+0.5),_0x539bd2,_0x4e4ac5+(0x1264+0x2*0x55e+-0x1d18)),nc(_0x52e84a[_0x14fbc0+(0x1d+0x1*-0x1aa7+-0x7*-0x3cb)]/(-0x1e11+-0x136+0x1f4f),_0x539bd2,_0x4e4ac5+(-0x250a+-0x151*0x1+0x1*0x2667)),_0x4e4ac5+=0x1ce4+-0x11fa+-0xada;return{'width':_0x5b87ca,'height':_0x1a68d9,'data':_0x539bd2};},GE=(_0x22475b,_0x36b0e2,_0xc28986,_0x363f5e)=>{const _0x542499=_0xc28986*(-0x45*0x20+-0xceb+-0x9*-0x265)*Math['PI'],_0x3799d5=Math['pow'](0x3*-0x565+-0x1*0x1645+0x2675-_0x36b0e2,(-0x1809+0x5*0x641+-0x73b*0x1)/(_0x363f5e+(-0x169*0x19+-0x25a9+-0x6a1*-0xb))),_0x18e6f6=Math['sqrt'](0x1a5+0x15de+-0x162*0x11-_0x3799d5*_0x3799d5);_0x22475b['set'](Math['cos'](_0x542499)*_0x18e6f6,Math['sin'](_0x542499)*_0x18e6f6,_0x3799d5)['normalize']();},HE=(_0x59596c,_0x24c64b,_0x1358af)=>{const _0x3a7ae4=_0x1358af*(-0x6f0+0x1*-0x883+0x1*0xf75)*Math['PI'],_0x7758d7=Math['sqrt'](-0x5e3*-0x3+-0x983+-0x825-_0x24c64b),_0x174dbd=Math['sqrt'](_0x24c64b);_0x59596c['set'](Math['cos'](_0x3a7ae4)*_0x174dbd,Math['sin'](_0x3a7ae4)*_0x174dbd,_0x7758d7)['normalize']();},WE=(_0x5dc0e6,_0x5b6937,_0x496bdc,_0xc089ee)=>{const _0x328718=_0x496bdc*(-0x12cb+0x6+0x1b5*0xb)*Math['PI'],_0x3c11fe=Math['sqrt']((0x16a*0x14+-0x6aa+0x159d*-0x1-_0x5b6937)/(0x101f*0x1+-0xc52+0x144*-0x3+(_0xc089ee*_0xc089ee-(-0x352*-0xa+0x17f*0x9+0x2*-0x1755))*_0x5b6937)),_0x48df1a=Math['sqrt'](-0x190b+0x716+-0xb*-0x1a2-_0x3c11fe*_0x3c11fe);_0x5dc0e6['set'](Math['cos'](_0x328718)*_0x48df1a,Math['sin'](_0x328718)*_0x48df1a,_0x3c11fe)['normalize']();},$E=(_0x3b9e90,_0x17be7b)=>{const _0x1cdb19=_0x3b9e90*_0x17be7b,_0x3581e8=_0x17be7b/(0x1b14+-0x14a*-0x5+-0x2185-_0x3b9e90*_0x3b9e90+_0x1cdb19*_0x1cdb19);return _0x3581e8*_0x3581e8*((0x1*0x1d23+-0x4*-0x796+0x1dbd*-0x2)/Math['PI']);},XE=(_0x50357b,_0x30cc3b)=>{const _0x4480b5=new D(),_0x13bc2f=[];for(let _0x33dc66=-0x1*0x21f+-0xf3e*-0x2+-0x1c5d*0x1;_0x33dc66<_0x50357b;++_0x33dc66)GE(_0x4480b5,_0x33dc66/_0x50357b,Nl['radicalInv'+'erse'](_0x33dc66),_0x30cc3b),_0x13bc2f['push'](_0x4480b5['x'],_0x4480b5['y'],_0x4480b5['z'],0x237*0xa+-0x4cf*-0x7+-0x37cf);return _0x13bc2f;},qE=(_0x205134,_0xdb6451)=>{const _0x4f43e5=_0xdb6451/_0x205134,_0x50e97b=new D(),_0x13fbe6=[];for(let _0x586d91=0xdcd*0x1+0x4f9+-0x12c6;_0x586d91<_0x205134;++_0x586d91){HE(_0x50e97b,_0x586d91/_0x205134,Nl['radicalInv'+'erse'](_0x586d91));const _0x5ad939=_0x50e97b['z']/Math['PI'],_0x5f5ce5=(-0x1438+0x8e6*0x1+-0x3*-0x3c6+0.5)*Math['log2'](_0x4f43e5/_0x5ad939);_0x13fbe6['push'](_0x50e97b['x'],_0x50e97b['y'],_0x50e97b['z'],_0x5f5ce5);}return _0x13fbe6;},jE={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},YE=(_0x34d8c9,_0x52fc56)=>{const _0x5e48e1=jE[_0x34d8c9];return _0x5e48e1&&_0x5e48e1[_0x52fc56]||_0x34d8c9;},KE=(_0x30ef76,_0x3032d0,_0x25c2b9)=>{const _0x166ccc=_0x25c2b9/_0x30ef76,_0x167448=0x2b*-0xd+-0x1093+-0x3*-0x641-Math['log2'](_0x3032d0)/(-0x1021+-0x25e3+-0x1*-0x360f),_0x377822=_0x167448*_0x167448,_0x241e24=new D(),_0x3befdf=new D(),_0x5c20a7=new D(-0x17a8*-0x1+0x1111+-0x19*0x1a1,0x26f*0x2+0x6*0x670+-0x2*0x15bf,-0xc46+-0x3*-0xb4+0x1*0xa2b),_0x2cb748=[],_0x55ba10=YE(_0x30ef76,_0x3032d0);for(let _0x180374=-0x676+-0x2010+-0x2*-0x1343;_0x180374<_0x55ba10;++_0x180374){WE(_0x241e24,_0x180374/_0x55ba10,Nl['radicalInv'+'erse'](_0x180374),_0x377822);const _0x64ba92=_0x241e24['z'];if(_0x3befdf['set'](_0x241e24['x'],_0x241e24['y'],_0x241e24['z'])['mulScalar']((-0x190+0x1*-0x2227+0x1f*0x127)*_0x64ba92)['sub'](_0x5c20a7),_0x3befdf['z']>-0x1*-0x15a3+0x1614+-0x2bb7){const _0x648c6d=$E(Math['min'](-0x118b+-0x1*-0x1f1b+0xd*-0x10b,_0x64ba92),_0x377822)/(0x2*0x12fa+0x3*-0x795+-0xf31)+(-0x772*0x3+0x1*0xfe0+0x676+0.001),_0x1188bd=(0x109d+-0x205+-0xe98+0.5)*Math['log2'](_0x166ccc/_0x648c6d);_0x2cb748['push'](_0x3befdf['x'],_0x3befdf['y'],_0x3befdf['z'],_0x1188bd);}}for(;_0x2cb748['length']<_0x30ef76*(-0x25dd+-0x6cc+0x2cad);)_0x2cb748['push'](-0x1*0x103f+0x16aa+-0x35*0x1f,-0xabc+0x2*0xfb6+-0x14b0,-0x232e+-0x1462+0xfe*0x38,-0x50+0x1d45*0x1+0x423*-0x7);return _0x2cb748;},ZE=(_0x4d55be,_0x4aadfd,_0x23fdf1)=>{const _0x4fea1c=VE(_0x23fdf1);return new _e(_0x4d55be,{'name':_0x4aadfd,'width':_0x4fea1c['width'],'height':_0x4fea1c['height'],'mipmaps':!(0x10db+-0x1eb2+-0x1*-0xdd8),'minFilter':Te,'magFilter':Te,'levels':[_0x4fea1c['data']]});};class xv{constructor(_0x32444c=!(-0x203*-0x11+0x1e10*-0x1+-0x1*0x423)){h(this,'map',new Map()),this['destroyCon'+'tent']=_0x32444c;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x425edf,_0x4771e2)=>{_0x425edf['destroy']();});}['get'](_0x5a09ff,_0x56fba8){if(!this['map']['has'](_0x5a09ff)){const _0x2d49a6=_0x56fba8();return this['map']['set'](_0x5a09ff,_0x2d49a6),_0x2d49a6;}return this['map']['get'](_0x5a09ff);}}const QE=new xv(!(0x1cd*0x1+0x2bd*-0x5+0x23*0x57)),JE=new Kt(),dm=(_0x4f40eb,_0x4fa1d9,_0x841436)=>JE['get'](_0x4f40eb,()=>new xv())['get'](_0x4fa1d9,()=>ZE(_0x4f40eb,_0x4fa1d9,QE['get'](_0x4fa1d9,_0x841436))),eb=(_0x263cc7,_0x21a240,_0x434fdc)=>{const _0x59de94='lambert-sa'+'mples-'+_0x21a240+'-'+_0x434fdc;return dm(_0x263cc7,_0x59de94,()=>qE(_0x21a240,_0x434fdc));},tb=(_0x55c960,_0x1f28a5,_0x133af8)=>{const _0x389278='phong-samp'+'les-'+_0x1f28a5+'-'+_0x133af8;return dm(_0x55c960,_0x389278,()=>XE(_0x1f28a5,_0x133af8));},sb=(_0x1871db,_0x169263,_0x2713b3,_0x1233fe)=>{const _0x3cc443='ggx-sample'+'s-'+_0x169263+'-'+_0x2713b3+'-'+_0x1233fe;return dm(_0x1871db,_0x3cc443,()=>KE(_0x169263,_0x2713b3,_0x1233fe));};function vi(_0xebcd5a,_0x51e213,_0x1d84cd={}){var _0x236f36,_0x7c9105;w['assert'](_0xebcd5a instanceof _e&&_0x51e213 instanceof _e,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x4d8644=_0x1d84cd['seamPixels']??0x3*-0x303+-0x13ad+0x41a*0x7,_0x527c93=(((_0x236f36=_0x1d84cd['rect'])==null?void(-0x165b*0x1+0x217f+-0xb24):_0x236f36['z'])??_0x51e213['width'])-_0x4d8644*(0x265a+0x22*0x125+0x3a*-0x155),_0x4b339f=(((_0x7c9105=_0x1d84cd['rect'])==null?void(0x1*-0xf96+0xaf7+-0xd*-0x5b):_0x7c9105['w'])??_0x51e213['height'])-_0x4d8644*(0x1fed+-0x229d+0x2b2);if(_0x527c93<-0x62*-0x27+0xc2*-0xf+-0x38f||_0x4b339f<-0x1ffd+-0xc34+-0x2*-0x1619)return!(-0x563+0x13*0x11b+-0xf9d);const _0x1d4207={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x5bfb00=_0x1d84cd['hasOwnProp'+'erty']('specularPo'+'wer')?_0x1d84cd['specularPo'+'wer']:-0x1440+-0x12b7+0x158*0x1d,_0x5bd081=_0x1d84cd['hasOwnProp'+'erty']('face')?_0x1d84cd['face']:null,_0x5028c4=_0x1d84cd['hasOwnProp'+'erty']('distributi'+'on')?_0x1d84cd['distributi'+'on']:_0x5bfb00===0x97*0x42+-0x723+0x1fca*-0x1?'none':'phong',_0x1af332=_0x1d4207[_0x5028c4]||'reproject',_0x5b24e7=_0x1af332['startsWith']('prefilterS'+'amples'),_0xdd1d9a=Tr['decodeFunc'](_0xebcd5a['encoding']),_0x506eb0=Tr['encodeFunc'](_0x51e213['encoding']),_0x13e98d='sample'+z_(_0xebcd5a['projection']),_0x48e2d8='getDirecti'+'on'+z_(_0x51e213['projection']),_0x32fbd3=_0x1d84cd['hasOwnProp'+'erty']('numSamples')?_0x1d84cd['numSamples']:-0x177c+-0x164*0xd+-0x48*-0xa2,_0x4edf2a='ReprojectS'+'hader:'+_0x1af332+'_'+_0xdd1d9a+'_'+_0x506eb0+'_'+_0x13e98d+'_'+_0x48e2d8+'_'+_0x32fbd3,_0x326250=_0xebcd5a['device'];let _0x503769=Hn(_0x326250)['getCachedS'+'hader'](_0x4edf2a);if(!_0x503769){const _0x2970a9=new Map();_0x5b24e7&&_0x2970a9['set']('USE_SAMPLE'+'S_TEX',''),_0xebcd5a['cubemap']&&_0x2970a9['set']('CUBEMAP_SO'+'URCE',''),_0x2970a9['set']('{PROCESS_F'+'UNC}',_0x1af332),_0x2970a9['set']('{DECODE_FU'+'NC}',_0xdd1d9a),_0x2970a9['set']('{ENCODE_FU'+'NC}',_0x506eb0),_0x2970a9['set']('{SOURCE_FU'+'NC}',_0x13e98d),_0x2970a9['set']('{TARGET_FU'+'NC}',_0x48e2d8),_0x2970a9['set']('{NUM_SAMPL'+'ES}',_0x32fbd3),_0x2970a9['set']('{NUM_SAMPL'+'ES_SQRT}',Math['round'](Math['sqrt'](_0x32fbd3))['toFixed'](-0x140e+-0x120b+0x261a));const _0x21c578=_0x326250['isWebGPU'],_0x2c3e34=Pe['get'](_0x326250,_0x21c578?it:Fe),_0x227fce=new Map();_0x227fce['set']('decodePS',_0x2c3e34['get']('decodePS')),_0x227fce['set']('encodePS',_0x2c3e34['get']('encodePS')),_0x503769=$t['createShad'+'er'](_0x326250,{'uniqueName':_0x4edf2a,'attributes':{'vertex_position':Me},'vertexChunk':'reprojectV'+'S','fragmentChunk':'reprojectP'+'S','fragmentIncludes':_0x227fce,'fragmentDefines':_0x2970a9});}Q['pushGpuMar'+'ker'](_0x326250,'ReprojectT'+'exture'),_0x326250['setBlendSt'+'ate'](pt['NOBLEND']);const _0x29a406=_0x326250['scope']['resolve'](_0xebcd5a['cubemap']?'sourceCube':'sourceTex');w['assert'](_0x29a406),_0x29a406['setValue'](_0xebcd5a);const _0xc8095a=_0x326250['scope']['resolve']('params'),_0x4e0128=_0x326250['scope']['resolve']('uvMod');_0x4d8644>0x84a+-0x2*-0x89+0x2*-0x4ae?_0x4e0128['setValue']([(_0x527c93+_0x4d8644*(-0x13b7+-0x132*0x7+0x1c17))/_0x527c93,(_0x4b339f+_0x4d8644*(0x1*-0x222b+0x1798+0xa95))/_0x4b339f,-_0x4d8644/_0x527c93,-_0x4d8644/_0x4b339f]):_0x4e0128['setValue']([0xf72+-0x113d+-0x14*-0x17,0xfce+0x4c6+-0x1493,0x25e9+-0xa8c+0x1d3*-0xf,-0xfbf+-0xa1c*0x1+0x19db*0x1]);const _0x39df1f=[0xacf*0x3+0xaca*0x3+-0x40cb,_0x51e213['width']*_0x51e213['height']*(_0x51e213['cubemap']?-0x60*0x51+-0x6*0x672+0x4512:-0x1*-0x2267+0x1160*-0x2+0x5a),_0xebcd5a['width']*_0xebcd5a['height']*(_0xebcd5a['cubemap']?0x8ba*0x1+0x3bf+-0xc73:-0x2682*0x1+-0x1ad8+0xb*0x5f1)];if(_0x5b24e7){const _0x56d580=_0xebcd5a['width']*_0xebcd5a['height']*(_0xebcd5a['cubemap']?0x8*-0x220+-0x1fe+-0x1*-0x1304:-0x2657+0xa6b+0x1bed*0x1),_0x13b512=_0x5028c4==='ggx'?sb(_0x326250,_0x32fbd3,_0x5bfb00,_0x56d580):_0x5028c4==='lambert'?eb(_0x326250,_0x32fbd3,_0x56d580):tb(_0x326250,_0x32fbd3,_0x5bfb00);_0x326250['scope']['resolve']('samplesTex')['setValue'](_0x13b512),_0x326250['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(-0x7*-0x224+-0xc97*-0x1+0x2*-0xdc9)/_0x13b512['width'],(0xef*0x20+0x243+-0x2022*0x1)/_0x13b512['height']]);}for(let _0x2c49ba=-0xbd5+0x1de5+-0x121*0x10;_0x2c49ba<(_0x51e213['cubemap']?0x1*0x1793+-0x20*-0x5b+-0x1*0x22ed:-0x1b27*0x1+-0x872+0x239a);_0x2c49ba++)if(_0x5bd081===null||_0x2c49ba===_0x5bd081){const _0x3982d2=new gt({'colorBuffer':_0x51e213,'face':_0x2c49ba,'depth':!(0x2*-0x769+0x2195*-0x1+0x3068),'flipY':_0x326250['isWebGPU']});_0x39df1f[0x2444+-0x1b22+-0x922]=_0x2c49ba,_0xc8095a['setValue'](_0x39df1f),Ar(_0x326250,_0x3982d2,_0x503769,_0x1d84cd==null?void(0xccd+0x1d0e+0x29db*-0x1):_0x1d84cd['rect']),_0x3982d2['destroy']();}return Q['popGpuMark'+'er'](_0x326250),!(-0x2ba*0xb+-0x134+0x79*0x42);}const Kd=(_0x323b4b,_0xd70623=-0x590+0x8e1*0x1+-0x351)=>0x2384+-0x24b*0x7+-0x1376+Math['floor'](Math['log2'](Math['max'](_0x323b4b,_0xd70623))),ib=_0x514738=>_0x514738['textureHal'+'fFloatRend'+'erable'],rb=_0x1e3cbf=>_0x1e3cbf['textureFlo'+'atRenderab'+'le'],ab=_0x2ec60=>ib(_0x2ec60)?nt:rb(_0x2ec60)?Xt:Ne,nb=_0x1137a5=>Ne,ob=(_0x3ce846,_0x3d95cb,_0x4c7e10,_0x393f76)=>new _e(_0x3ce846,{'name':'lighting-'+_0x3d95cb,'cubemap':!(0x1f4b+-0x1c50+-0x7*0x6d),'width':_0x3d95cb,'height':_0x3d95cb,'format':_0x4c7e10,'type':Qo,'addressU':ue,'addressV':ue,'mipmaps':!(0x6a*-0x47+0x9*0x26b+0x7a4)});class Tv{static['generateSk'+'yboxCubema'+'p'](_0x2986f2,_0x2813a8){const _0x3b83e3=_0x2986f2['device'];Q['pushGpuMar'+'ker'](_0x3b83e3,'genSkyboxC'+'ubemap');const _0x3fa045=ob(_0x3b83e3,_0x2813a8||(_0x2986f2['cubemap']?_0x2986f2['width']:_0x2986f2['width']/(0x1*0xf51+0x1927+-0x2874)),Ne);return vi(_0x2986f2,_0x3fa045,{'numSamples':0x400}),Q['popGpuMark'+'er'](_0x3b83e3),_0x3fa045;}static['generateLi'+'ghtingSour'+'ce'](_0x27d430,_0x57cb6a){const _0x4df56a=_0x27d430['device'];Q['pushGpuMar'+'ker'](_0x4df56a,'genLightin'+'gSource');const _0x18d165=ab(_0x4df56a),_0x121ede=(_0x57cb6a==null?void(0x2089+-0xacb+-0x15be):_0x57cb6a['target'])||new _e(_0x4df56a,{'name':'lighting-s'+'ource','cubemap':!(-0xbee+-0x78d*-0x1+0x461),'width':(_0x57cb6a==null?void(0x1d*0x79+0x9*0x327+-0x2a14):_0x57cb6a['size'])||0x24f5+0xc*0x45+0xd3b*-0x3,'height':(_0x57cb6a==null?void(-0x120b*0x1+-0x1330*0x1+0x253b):_0x57cb6a['size'])||-0x2d*-0xa3+0xc30+-0x1*0x2857,'format':_0x18d165,'type':_0x18d165===Ne?Qo:Ds,'addressU':ue,'addressV':ue,'mipmaps':!(-0x52*-0x2b+0x4c1*-0x1+-0x905)});return vi(_0x27d430,_0x121ede,{'numSamples':_0x27d430['mipmaps']?-0x1ea3+-0xa2d+0x28d1:0x246c+-0xc59*0x2+0x1*-0x7ba}),Q['popGpuMark'+'er'](_0x4df56a),_0x121ede;}static['generateAt'+'las'](_0x3d7def,_0x495a68){const _0x467d94=_0x3d7def['device'],_0x18355a=nb();Q['pushGpuMar'+'ker'](_0x467d94,'genAtlas');const _0x57ea84=(_0x495a68==null?void(0x3*-0xbc5+0x149f*0x1+-0x10*-0xeb):_0x495a68['target'])||new _e(_0x467d94,{'name':'envAtlas','width':(_0x495a68==null?void(0xef2+0x807+-0x16f9):_0x495a68['size'])||-0x1*-0x17bd+0x2*-0x1ff+0x19d*-0xb,'height':(_0x495a68==null?void(0x1f51*-0x1+0x263*-0xd+-0x38*-0x11d):_0x495a68['size'])||0x87d*-0x1+-0x166d+-0x20ea*-0x1,'format':_0x18355a,'type':Qo,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(0xad3*-0x1+0x1*-0x16b1+0x2185)});Q['pushGpuMar'+'ker'](_0x467d94,'mipmaps');const _0x25e204=_0x57ea84['width']/(-0x5c5+-0xf7+-0x8bc*-0x1),_0x534c6c=new re(-0x10d2+0xe41+0x291,0x1*-0x2667+0x1*0x17b+0x24ec,(0x1796*-0x1+0x87a+0x111c)*_0x25e204,(-0x2079+0x101*0x10+0x1*0x1169)*_0x25e204),_0x27c2bf=Kd(-0x14ec+0x97*0x25+0x19)-Kd(-0x181d*-0x1+0x214c+-0x3965);for(let _0x5c5532=0x186f+0x7cc+-0x203b;_0x5c5532<_0x27c2bf;++_0x5c5532)vi(_0x3d7def,_0x57ea84,{'numSamples':0x1,'rect':_0x534c6c,'seamPixels':_0x25e204}),_0x534c6c['x']+=_0x534c6c['w'],_0x534c6c['y']+=_0x534c6c['w'],_0x534c6c['z']=Math['max'](0x387*0x5+0x1*0x137+0x5*-0x3c5,Math['floor'](_0x534c6c['z']*(0x1c3e+-0xd49*0x2+-0xd6*0x2+0.5))),_0x534c6c['w']=Math['max'](-0x1b5b+-0xabd*-0x1+0x109f,Math['floor'](_0x534c6c['w']*(0x6f9+0x818*-0x3+-0x15*-0xd3+0.5)));Q['popGpuMark'+'er'](_0x467d94),Q['pushGpuMar'+'ker'](_0x467d94,'reflection'+'s'),_0x534c6c['set'](0x1*-0x24dc+0x1*-0x190+0x1*0x266c,(-0x3ca+-0xd11+-0x7*-0x28d)*_0x25e204,(-0x1492+-0x2205+-0x7*-0x7f1)*_0x25e204,(0x175*-0x17+0x2417+-0x214)*_0x25e204);for(let _0x16cc97=-0x12eb*0x1+0x217f+-0xe93;_0x16cc97<0xb*0x2cf+-0x1782+0x2*-0x3ae;++_0x16cc97)vi(_0x3d7def,_0x57ea84,{'numSamples':(_0x495a68==null?void(0xd11*0x2+-0x11f2+-0x830):_0x495a68['numReflect'+'ionSamples'])||-0xb13+-0x26c4+-0x4e5*-0xb,'distribution':(_0x495a68==null?void(0x2b*0x1d+-0x26d0+0x21f1):_0x495a68['distributi'+'on'])||'ggx','specularPower':Math['max'](-0x2*-0x425+0x1a6e+-0x22b7,-0xd7*0x1+0xc2*0x3+0x29*0x29>>_0x16cc97*(-0x1227+0xc05+-0x4*-0x189)),'rect':_0x534c6c,'seamPixels':_0x25e204}),_0x534c6c['y']+=_0x534c6c['w'],_0x534c6c['z']=Math['max'](0xeed*0x1+0x94a+-0x1836,Math['floor'](_0x534c6c['z']*(-0x1fe6+-0x153d+0x3523+0.5))),_0x534c6c['w']=Math['max'](0x1*-0xaa9+-0x2*0x34a+0x1*0x113e,Math['floor'](_0x534c6c['w']*(-0x1*0x1375+-0xc2*0x10+0x1f95+0.5)));return Q['popGpuMark'+'er'](_0x467d94),Q['pushGpuMar'+'ker'](_0x467d94,'ambient'),_0x534c6c['set']((0xf86+-0x1f63+0x105d)*_0x25e204,(-0x45*0x27+0x1291+-0x347*0x2)*_0x25e204,(0xc64+-0x1d7d+0x1159)*_0x25e204,(0x1c56+-0x4f*-0x4c+0x11*-0x30a)*_0x25e204),vi(_0x3d7def,_0x57ea84,{'numSamples':(_0x495a68==null?void(0xa81*-0x2+-0x2246+0x4*0xdd2):_0x495a68['numAmbient'+'Samples'])||0x1613+-0xc5+0x83*-0x1a,'distribution':'lambert','rect':_0x534c6c,'seamPixels':_0x25e204}),Q['popGpuMark'+'er'](_0x467d94),Q['popGpuMark'+'er'](_0x467d94),_0x57ea84;}static['generatePr'+'efilteredA'+'tlas'](_0x5e27cc,_0xd740f){const _0x53d820=_0x5e27cc[-0x180a+0xa0d+-0x1*-0xdfd]['device'],_0x158c15=_0x5e27cc[0x37*0x29+0x168d+-0x1f5c]['format'],_0x722c92=_0x5e27cc[-0x23f8+0x3e6+-0xa*-0x335]['type'];Q['pushGpuMar'+'ker'](_0x53d820,'genPrefilt'+'eredAtlas');const _0x1a4179=(_0xd740f==null?void(0x466+-0x1e07+0x19a1):_0xd740f['target'])||new _e(_0x53d820,{'name':'envPrefilt'+'eredAtlas','width':(_0xd740f==null?void(0x1b2*0x1+0x21e9+-0x239b*0x1):_0xd740f['size'])||-0xc50+0x16d0+-0x880,'height':(_0xd740f==null?void(-0x2342+-0x1*0x23ed+0x472f*0x1):_0xd740f['size'])||0x18d7+0x16*0x133+0x3139*-0x1,'format':_0x158c15,'type':_0x722c92,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(0x1fc7+0x1eab+-0x3e71)});Q['pushGpuMar'+'ker'](_0x53d820,'mipmaps');const _0x1fd12b=_0x1a4179['width']/(-0x1*-0x235d+-0x1e21*-0x1+-0x306*0x15),_0x2eda1d=new re(-0x219c+0xcc8+0x14d4,-0x2b*0x5+-0x11fd+0x12d4,(0x749*-0x1+-0x23ab+0x2cf4)*_0x1fd12b,(0x254*-0xf+-0x77f+-0x13*-0x249)*_0x1fd12b),_0x39ca3d=Kd(0x1aac+-0x21a1+0x8f5);for(let _0x36f00e=0x192*0xe+0x91*-0x41+-0xed5*-0x1;_0x36f00e<_0x39ca3d;++_0x36f00e)vi(_0x5e27cc[-0x4a3*0x7+0x1dcb*-0x1+-0xc*-0x530],_0x1a4179,{'numSamples':0x1,'rect':_0x2eda1d,'seamPixels':_0x1fd12b}),_0x2eda1d['x']+=_0x2eda1d['w'],_0x2eda1d['y']+=_0x2eda1d['w'],_0x2eda1d['z']=Math['max'](0xef*-0x8+0x25af+-0x1e36,Math['floor'](_0x2eda1d['z']*(0xd*-0xa9+-0x13e5+-0x97e*-0x3+0.5))),_0x2eda1d['w']=Math['max'](0x224f*0x1+-0x2*-0x11f5+0x8c7*-0x8,Math['floor'](_0x2eda1d['w']*(0x2319+0x1e15+-0x412e+0.5)));Q['popGpuMark'+'er'](_0x53d820),Q['pushGpuMar'+'ker'](_0x53d820,'reflection'+'s'),_0x2eda1d['set'](-0x379*0x4+0x49*-0x1+-0x13*-0xbf,(0x2529+-0xa*-0x67+-0x282f)*_0x1fd12b,(-0x4*-0x438+0x2*0x386+-0x16ec)*_0x1fd12b,(-0x1*0x1a7b+0x1fd*0x2+0x1*0x1701)*_0x1fd12b);for(let _0x2915c5=-0x20e2+-0x17*-0x15+0x10*0x1f0;_0x2915c5<_0x5e27cc['length'];++_0x2915c5)vi(_0x5e27cc[_0x2915c5],_0x1a4179,{'numSamples':0x1,'rect':_0x2eda1d,'seamPixels':_0x1fd12b}),_0x2eda1d['y']+=_0x2eda1d['w'],_0x2eda1d['z']=Math['max'](-0x425*-0x7+0x7*0x10d+-0xc1f*0x3,Math['floor'](_0x2eda1d['z']*(0x14b1+0x6b5*-0x5+0xcd8+0.5))),_0x2eda1d['w']=Math['max'](0x21f6+0x1*0xa53+0x1*-0x2c48,Math['floor'](_0x2eda1d['w']*(0x9d5*-0x1+-0x6bb*-0x1+0x31a+0.5)));return Q['popGpuMark'+'er'](_0x53d820),Q['pushGpuMar'+'ker'](_0x53d820,'ambient'),_0x2eda1d['set']((0x1543+0x29c*0x2+-0x19fb)*_0x1fd12b,(0xc0c+-0xc5*-0x13+-0x1*0x192b)*_0x1fd12b,(-0x12e6*-0x1+0x1dc9+-0x1*0x306f)*_0x1fd12b,(-0x932+-0x18ae+0x20*0x110)*_0x1fd12b),_0xd740f!=null&&_0xd740f['legacyAmbi'+'ent']?vi(_0x5e27cc[-0xad5+-0x3*-0x59+0x9cf],_0x1a4179,{'numSamples':0x1,'rect':_0x2eda1d,'seamPixels':_0x1fd12b}):vi(_0x5e27cc[-0x3f*-0x7f+0xd3a+-0x2c7b*0x1],_0x1a4179,{'numSamples':(_0xd740f==null?void(-0x992+-0x1b38+-0x1*-0x24ca):_0xd740f['numSamples'])||0x82+-0xff*0xe+0x1570,'distribution':'lambert','rect':_0x2eda1d,'seamPixels':_0x1fd12b}),Q['popGpuMark'+'er'](_0x53d820),Q['popGpuMark'+'er'](_0x53d820),_0x1a4179;}}const lb={'aoPS':'1.57','clearCoatPS':'1.57','clearCoatGlossPS':'1.60','clearCoatNormalPS':'1.57','diffusePS':'1.57','emissivePS':'1.57','glossPS':'1.60','metalnessPS':'1.57','normalMapPS':'1.57','opacityPS':'1.57','parallaxPS':'1.57','sheenPS':'1.57','sheenGlossPS':'1.60','specularPS':'1.57','specularityFactorPS':'1.57','thicknessPS':'1.57','transmissionPS':'1.57','normalVertexPS':'1.55','aoDiffuseOccPS':'1.62','aoSpecOccPS':'2.6','clusteredLightPS':'1.62','clusteredLightShadowPS':'1.62','combinePS':'1.62','falloffInvSquaredPS':'1.62','falloffLinearPS':'1.62','lightDiffuseLambertPS':'1.62','lightSheenPS':'1.62','lightSpecularAnisoGGXPS':'1.62','lightSpecularBlinnPS':'1.62','ltcPS':'1.62','reflDirPS':'1.62','reflDirAnisoPS':'1.62','reflectionCCPS':'1.62','reflectionCubePS':'2.6','reflectionEnvPS':'2.6','reflectionEnvHQPS':'2.6','reflectionSpherePS':'2.6','reflectionSheenPS':'1.62','shadowCommonPS':'1.62','shadowCoordPS':'1.62','shadowCoordPerspZBufferPS':'1.62','shadowEVSMPS':'1.62','spotPS':'1.62','TBNPS':'1.62','endPS':'1.65','metalnessModulatePS':'1.65','outputAlphaPS':'1.65','outputAlphaPremulPS':'1.65','fresnelSchlickPS':'1.65','iridescenceDiffractionPS':'1.65','lightmapAddPS':'1.65','refractionCubePS':'1.70','refractionDynamicPS':'1.70'},V_={'ambientPrefilteredCubePS':'1.51','ambientPrefilteredCubeLodPS':'1.51','dpAtlasQuadPS':'1.51','genParaboloidPS':'1.51','prefilterCubemapPS':'1.51','reflectionDpAtlasPS':'1.51','reflectionPrefilteredCubePS':'1.51','reflectionPrefilteredCubeLodPS':'1.51','refractionPS':'1.56','combineClearCoatPS':'1.56','combineDiffusePS':'1.56','combineDiffuseSpecularPS':'1.56','combineDiffuseSpecularNoReflPS':'1.56','combineDiffuseSpecularNoReflSeparateAmbientPS':'1.56','combineDiffuseSpecularOldPS':'1.56','lightmapSingleVertPS':'1.55','normalMapFastPS':'1.55','specularAaNonePS':'1.55','specularAaToksvigPS':'1.55','specularAaToksvigFastPS':'1.55','skyboxEnvPS':'2.1','skyboxHDRPS':'2.1','shadowVSM8PS':'2.3','fogExpPS':'2.5','fogExp2PS':'2.5','fogLinearPS':'2.5','fogNonePS':'2.5','gamma1_0PS':'2.5','gamma2_2PS':'2.5','storeEVSMPS':'2.6','shadowEVSMnPS':'2.6','shadowVSM_commonPS':'2.6','shadowStandardPS':'2.6','shadowStandardGL2PS':'2.6','startVS':'2.6','endVS':'2.6','baseVS':'2.6','baseNineSlicedVS':'2.6','viewNormalVS':'2.6','lightmapDirAddPS':'2.6','TBNObjectSpacePS':'2.6','TBNderivativePS':'2.6','startPS':'2.6','outputAlphaOpaque':'2.6','outputAlphaPremul':'2.6','cubeMapProjectBoxPS':'2.6','cubeMapProjectNonePS':'2.6','envMultiplyPS':'2.6','envConstPS':'2.6','aoSpecOccConstPS':'2.6','aoSpecOccConstSimplePS':'2.6','aoSpecOccSimplePS':'2.6','ambientConstantPS':'2.6','ambientEnvPS':'2.6','ambientSHPS':'2.6','shadowSampleCoordPS':'2.6','diffuseDetailMapPS':'2.7','normalDetailMapPS':'2.7','normalXYPS':'2.7','normalXYZPS':'2.7','aoDetailMapPS':'2.7','lightmapDirPS':'2.7','lightmapSinglePS':'2.7','tangentBinormalVS':'2.7'},cb=(_0x45c3d3,_0x163839)=>{const _0x28076b=_0x45c3d3['split']('.')['map'](_0x5b39f4=>parseInt(_0x5b39f4,0x1222+-0x1*-0x1c8b+0x1*-0x2ea3)),_0x152744=_0x163839['split']('.')['map'](_0x1f7281=>parseInt(_0x1f7281,0x15a6+0x1df2+-0x338e));return _0x28076b[-0x1*0xfc4+-0x1*-0x5ce+-0x1*-0x9f6]<_0x152744[-0x5*0x54f+0xd5d+0xd2e]||_0x28076b[-0x4*-0x339+-0x1*0x2533+0x184f]===_0x152744[-0x17f5+-0x22c4+0x3ab9]&&_0x28076b[0x4*-0x70a+-0x1b61+0x378a*0x1]<_0x152744[0x33*0x5d+-0x1*-0x707+0xd3*-0x1f];},hb=(_0x3c2032,_0x16f299)=>{for(const _0x32fd0c of _0x3c2032['keys']())if(V_['hasOwnProp'+'erty'](_0x32fd0c)){const _0x75970c=V_[_0x32fd0c];w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x32fd0c+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x75970c+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.'));}else{const _0x5852b8=lb[_0x32fd0c];_0x5852b8&&(!_0x16f299||cb(_0x16f299,_0x5852b8))&&w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x32fd0c+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x5852b8+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0x16f299||'undefined')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}},Zd={'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_color':Wt,'vertex_boneWeights':gi,'vertex_boneIndices':us};class db{constructor(_0x22a36e,_0x246c21,_0x2a4c6f=!(0x1857+-0xf1*-0x28+0x10d*-0x3b)){h(this,'varyingsCo'+'de',''),h(this,'device'),h(this,'options'),h(this,'shaderLang'+'uage'),h(this,'vDefines',new Map()),h(this,'fDefines',new Map()),h(this,'includes',new Map()),h(this,'chunks',null),(this['device']=_0x22a36e,this['options']=_0x246c21);const _0x2a09f2=_0x246c21['shaderChun'+'ks'];if(this['shaderLang'+'uage']=_0x22a36e['isWebGPU']&&_0x2a4c6f&&(_0x2a09f2!=null&&_0x2a09f2['useWGSL'])?it:Fe,this['attributes']={'vertex_position':Me},_0x246c21['userAttrib'+'utes']){for(const [_0x594774,_0x3e741f]of Object['entries'](_0x246c21['userAttrib'+'utes']))this['attributes'][_0x3e741f]=_0x594774;}const _0xe652b5=Pe['get'](_0x22a36e,this['shaderLang'+'uage']);if(this['chunks']=new Map(_0xe652b5),_0x2a09f2){const _0xde1c46=this['shaderLang'+'uage']===Fe?_0x2a09f2['glsl']:_0x2a09f2['wgsl'];w['call'](()=>{hb(_0xde1c46,_0x2a09f2['version']);}),_0xde1c46['forEach']((_0x5a6465,_0xff8eaa)=>{for(const _0xc2b394 in Zd)Zd['hasOwnProp'+'erty'](_0xc2b394)&&_0x5a6465['indexOf'](_0xc2b394)>=0x1c64+-0x27*0x45+-0x11e1&&(this['attributes'][_0xc2b394]=Zd[_0xc2b394]);this['chunks']['set'](_0xff8eaa,_0x5a6465);});}this['shaderPass'+'Info']=Si['get'](this['device'])['getByIndex'](_0x246c21['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x246c21['lights']['length']>-0x1f30+0x25*0x13+-0x97b*-0x3||_0x246c21['dirLightMa'+'pEnabled']||_0x246c21['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=_0x246c21['reflection'+'Source']!==vr,this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x246c21['useSpecula'+'r']||_0x246c21['ambientSH']||_0x246c21['useHeights']||_0x246c21['enableGGXS'+'pecular']||_0x246c21['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x246c21['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x246c21['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x246c21['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x246c21['useDynamic'+'Refraction'],this['vshader']=null,this['fshader']=null;}['fDefineSet'](_0x21b94b,_0x25a360,_0x1b6d7d=''){_0x21b94b&&this['fDefines']['set'](_0x25a360,_0x1b6d7d);}['generateVe'+'rtexShader'](_0x47dde1,_0x265d2e,_0x3ba969){const {options:_0x4f6d19,vDefines:_0x31fa98,attributes:_0x27a6a9}=this,_0x443fb0=new Map();if(_0x443fb0['set']('vPositionW','vec3'),(_0x4f6d19['nineSliced'+'Mode']===Pt||_0x4f6d19['nineSliced'+'Mode']===Mt)&&_0x31fa98['set']('NINESLICED',!(-0x1860+-0x3d6+0x13a*0x17)),this['options']['linearDept'+'h']&&(_0x31fa98['set']('LINEAR_DEP'+'TH',!(-0x11*0x1bd+-0x602+-0x238f*-0x1)),_0x443fb0['set']('vLinearDep'+'th','float')),this['needsNorma'+'l']&&_0x31fa98['set']('NORMALS',!(0x56+-0x3*0x8df+0x1a47)),this['options']['useInstanc'+'ing']){const _0x146d71=Pe['get'](this['device'],this['shaderLang'+'uage']);this['chunks']['get']('transformI'+'nstancingV'+'S')===_0x146d71['get']('transformI'+'nstancingV'+'S')&&(_0x27a6a9['instance_l'+'ine1']=Mp,_0x27a6a9['instance_l'+'ine2']=Dp,_0x27a6a9['instance_l'+'ine3']=Ip,_0x27a6a9['instance_l'+'ine4']=Ln);}this['needsNorma'+'l']&&(_0x27a6a9['vertex_nor'+'mal']=gs,_0x443fb0['set']('vNormalW','vec3'),_0x4f6d19['hasTangent'+'s']&&(_0x4f6d19['useHeights']||_0x4f6d19['useNormals']||_0x4f6d19['useClearCo'+'atNormals']||_0x4f6d19['enableGGXS'+'pecular'])?(_0x31fa98['set']('TANGENTS',!(-0x5*-0xc1+0x257f*0x1+-0x1*0x2944)),_0x27a6a9['vertex_tan'+'gent']=yi,_0x443fb0['set']('vTangentW','vec3'),_0x443fb0['set']('vBinormalW','vec3')):_0x4f6d19['enableGGXS'+'pecular']&&(_0x31fa98['set']('GGX_SPECUL'+'AR',!(0x9*-0x3ca+0x29a+0x18*0x150)),_0x443fb0['set']('vObjectSpa'+'ceUpW','vec3')));const _0x332453=-0x12fc+-0x19eb+0x2ce9;for(let _0x29d0f5=0x1*-0x136d+-0x1cad*-0x1+-0x940;_0x29d0f5<_0x332453;_0x29d0f5++)_0x47dde1[_0x29d0f5]&&(_0x31fa98['set']('UV'+_0x29d0f5,!(-0x5ce+0x17c0+-0x11f2)),_0x27a6a9['vertex_tex'+'Coord'+_0x29d0f5]='TEXCOORD'+_0x29d0f5),_0x265d2e[_0x29d0f5]&&(_0x31fa98['set']('UV'+_0x29d0f5+('_UNMODIFIE'+'D'),!(0x126c+0x1a3a+-0x2ca6)),_0x443fb0['set']('vUv'+_0x29d0f5,'vec2'));let _0x4a93a3=-0xf65*-0x1+-0x1*0x1ef1+0xf8c;const _0x5289e3=new Set();_0x3ba969['forEach'](_0x333a08=>{const {id:_0x469b64,uv:_0x4c53b3,name:_0x5aeeb4}=_0x333a08,_0x1348a3=_0x469b64+_0x4c53b3*(-0x114f+-0x46f+0x2*0xb11);if(!_0x5289e3['has'](_0x1348a3)){_0x5289e3['add'](_0x1348a3),_0x443fb0['set']('vUV'+_0x4c53b3+'_'+_0x469b64,'vec2');const _0x4cb4ff='texture_'+_0x5aeeb4+('MapTransfo'+'rm');_0x31fa98['set']('{TRANSFORM'+'_NAME_'+_0x4a93a3+'}',_0x4cb4ff),_0x31fa98['set']('{TRANSFORM'+'_UV_'+_0x4a93a3+'}',_0x4c53b3),_0x31fa98['set']('{TRANSFORM'+'_ID_'+_0x4a93a3+'}',_0x469b64),_0x4a93a3++;}}),_0x31fa98['set']('UV_TRANSFO'+'RMS_COUNT',_0x4a93a3),_0x4f6d19['vertexColo'+'rs']&&(_0x27a6a9['vertex_col'+'or']=Wt,_0x31fa98['set']('VERTEX_COL'+'OR',!(-0x10*-0x23b+0x425+-0x27d5)),_0x443fb0['set']('vVertexCol'+'or','vec4')),_0x4f6d19['useMsdf']&&_0x4f6d19['msdfTextAt'+'tribute']&&(_0x27a6a9['vertex_out'+'lineParame'+'ters']=Ko,_0x27a6a9['vertex_sha'+'dowParamet'+'ers']=Zo,_0x31fa98['set']('MSDF',!(0x24c1+-0x9*0x7+-0x2482*0x1))),(_0x4f6d19['useMorphPo'+'sition']||_0x4f6d19['useMorphNo'+'rmal'])&&(_0x31fa98['set']('MORPHING',!(0x1*-0x1c87+-0x2318+0x3f9f)),_0x4f6d19['useMorphTe'+'xtureBased'+'Int']&&_0x31fa98['set']('MORPHING_I'+'NT',!(-0x1c37+0x1c05+0x32)),_0x4f6d19['useMorphPo'+'sition']&&_0x31fa98['set']('MORPHING_P'+'OSITION',!(0x1543+-0x5e7*-0x1+0x1*-0x1b2a)),_0x4f6d19['useMorphNo'+'rmal']&&_0x31fa98['set']('MORPHING_N'+'ORMAL',!(0x1293+-0x26e*-0x1+-0x1501)),_0x27a6a9['morph_vert'+'ex_id']=Ln),_0x4f6d19['skin']&&(_0x27a6a9['vertex_bon'+'eIndices']=us,_0x4f6d19['batch']?_0x31fa98['set']('BATCH',!(-0x11*-0x108+-0x117*-0x13+-0x3*0xcbf)):(_0x27a6a9['vertex_bon'+'eWeights']=gi,_0x31fa98['set']('SKIN',!(-0x1f4c*0x1+-0x1d23+0x3c6f)))),_0x4f6d19['useInstanc'+'ing']&&_0x31fa98['set']('INSTANCING',!(-0x1d9+0x2273+-0x209a)),_0x4f6d19['screenSpac'+'e']&&_0x31fa98['set']('SCREENSPAC'+'E',!(0x1*0x1380+0x20*-0x83+-0x320)),_0x4f6d19['pixelSnap']&&_0x31fa98['set']('PIXELSNAP',!(-0xe83+-0x1d35+0x2bb8)),_0x443fb0['forEach']((_0x2d10a7,_0x461454)=>{this['varyingsCo'+'de']+='#define\x20VA'+'RYING_'+_0x461454['toUpperCas'+'e']()+'\x0a',this['varyingsCo'+'de']+=this['shaderLang'+'uage']===it?'varying\x20'+_0x461454+':\x20'+Fy['get'](_0x2d10a7)+';\x0a':'varying\x20'+_0x2d10a7+'\x20'+_0x461454+';\x0a';}),this['includes']['set']('varyingsVS',this['varyingsCo'+'de']),this['includes']['set']('varyingsPS',this['varyingsCo'+'de']),this['vshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}['_setupLigh'+'tingDefine'+'s'](_0x4117e7,_0x25af94){const _0x45e0d1=this['fDefines'],_0x1d7914=this['options'];if(this['fDefines']['set']('LIGHT_COUN'+'T',_0x1d7914['lights']['length']),_0x4117e7&&_0x45e0d1['set']('AREA_LIGHT'+'S',!(-0x1*0x505+-0xf*0x167+0x1a0e)),_0x25af94&&this['lighting']&&(_0x45e0d1['set']('LIT_CLUSTE'+'RED_LIGHTS',!(-0x7*0x51b+-0x249d+0x485a)),_0x1d7914['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x45e0d1['set']('CLUSTER_CO'+'OKIES',!(-0x10*-0x106+-0xec0+-0x1a0)),_0x1d7914['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x45e0d1['set']('CLUSTER_AR'+'EALIGHTS',!(-0x4*0xe2+-0x4b*0x7+0x595)),_0x1d7914['lightMaskD'+'ynamic']&&_0x45e0d1['set']('CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS',!(0x1948+0x23bf*0x1+-0x3d07)),_0x1d7914['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x1d7914['noShadow'])){const _0x48d1eb=qi['get'](_0x1d7914['clusteredL'+'ightingSha'+'dowType']);_0x45e0d1['set']('CLUSTER_SH'+'ADOWS',!(-0x5ae+0x55*0x4+0x45a)),_0x45e0d1['set']('SHADOW_KIN'+'D_'+_0x48d1eb['kind'],!(0x1fe9+0x1a5*-0x2+0x1af*-0x11)),_0x45e0d1['set']('CLUSTER_SH'+'ADOW_TYPE_'+_0x48d1eb['kind'],!(-0x1*0x1a57+-0x48*-0x3d+0x92f));}for(let _0x476b92=0x2568+-0xabb*0x2+0x7f9*-0x2;_0x476b92<_0x1d7914['lights']['length'];_0x476b92++){const _0x36cbfe=_0x1d7914['lights'][_0x476b92],_0x3d5d70=_0x36cbfe['_type'];if(_0x25af94&&_0x3d5d70!==ve)continue;const _0x3000aa=_0x4117e7&&_0x36cbfe['_shape']?_0x36cbfe['_shape']:Ys,_0x4e68f6=_0x36cbfe['_shadowTyp'+'e'],_0x1844bb=_0x36cbfe['castShadow'+'s']&&!_0x1d7914['noShadow'],_0x1e1f8a=qi['get'](_0x4e68f6);w['assert'](_0x1e1f8a),_0x45e0d1['set']('LIGHT'+_0x476b92,!(-0x3*0x137+-0x301*0xd+0x2ab2*0x1)),_0x45e0d1['set']('LIGHT'+_0x476b92+'TYPE',''+u_[_0x3d5d70]),_0x45e0d1['set']('LIGHT'+_0x476b92+'SHADOWTYPE',''+_0x1e1f8a['name']),_0x45e0d1['set']('LIGHT'+_0x476b92+'SHAPE',''+Fw[_0x3000aa]),_0x45e0d1['set']('LIGHT'+_0x476b92+'FALLOFF',''+Nw[_0x36cbfe['_falloffMo'+'de']]),_0x36cbfe['affectSpec'+'ularity']&&_0x45e0d1['set']('LIGHT'+_0x476b92+('AFFECT_SPE'+'CULARITY'),!(-0x11be+-0x1be2+0x2da0*0x1)),_0x36cbfe['_cookie']&&(_0x3d5d70===Ze&&!_0x36cbfe['_cookie']['_cubemap']||_0x3d5d70===Ke&&_0x36cbfe['_cookie']['_cubemap'])&&(_0x45e0d1['set']('LIGHT'+_0x476b92+'COOKIE',!(0x1*0xe8a+0x83*-0x21+0x1*0x259)),_0x45e0d1['set']('{LIGHT'+_0x476b92+('COOKIE_CHA'+'NNEL}'),_0x36cbfe['_cookieCha'+'nnel']),_0x3d5d70===Ze&&(_0x36cbfe['_cookieTra'+'nsform']&&_0x45e0d1['set']('LIGHT'+_0x476b92+('COOKIE_TRA'+'NSFORM'),!(0x1021+-0x1*-0x955+-0x1976)),_0x36cbfe['_cookieFal'+'loff']&&_0x45e0d1['set']('LIGHT'+_0x476b92+('COOKIE_FAL'+'LOFF'),!(0x19f+0x1*-0x1bf7+0x1a58)))),_0x1844bb&&(_0x45e0d1['set']('LIGHT'+_0x476b92+'CASTSHADOW',!(0x161b*-0x1+-0x21d+0x1838)),_0x1e1f8a['pcf']&&_0x45e0d1['set']('LIGHT'+_0x476b92+'SHADOW_PCF',!(0x2324+-0x19*-0x3a+-0x28ce)),_0x36cbfe['_normalOff'+'setBias']&&!_0x36cbfe['_isVsm']&&_0x45e0d1['set']('LIGHT'+_0x476b92+('_SHADOW_SA'+'MPLE_NORMA'+'L_OFFSET'),!(0x245b+-0x2*0xde5+-0x891)),_0x3d5d70===ve&&(_0x45e0d1['set']('LIGHT'+_0x476b92+('_SHADOW_SA'+'MPLE_ORTHO'),!(-0x5e+-0x64e+0x6ac)),_0x36cbfe['cascadeBle'+'nd']>-0x18d6+0x1*-0x12f+0x1a05&&_0x45e0d1['set']('LIGHT'+_0x476b92+('_SHADOW_CA'+'SCADE_BLEN'+'D'),!(-0x65c+-0x1*-0x1021+0x29*-0x3d)),_0x36cbfe['numCascade'+'s']>-0x1*-0x17ed+-0x16c4+-0x25*0x8&&_0x45e0d1['set']('LIGHT'+_0x476b92+('_SHADOW_CA'+'SCADES'),!(0x3*0xa75+0x7e1*0x3+-0x3702))),(_0x1e1f8a['pcf']||_0x1e1f8a['pcss']||this['device']['isWebGPU'])&&_0x45e0d1['set']('LIGHT'+_0x476b92+('_SHADOW_SA'+'MPLE_SOURC'+'E_ZBUFFER'),!(0x1*-0x1683+-0x147e*-0x1+0x205)),_0x3d5d70===Ke&&_0x45e0d1['set']('LIGHT'+_0x476b92+('_SHADOW_SA'+'MPLE_POINT'),!(0x1d0c+-0x8d8+-0x1434))),_0x1844bb&&(_0x45e0d1['set']('SHADOW_KIN'+'D_'+_0x1e1f8a['kind'],!(0x2555+-0x7*-0x157+0x2*-0x175b)),_0x3d5d70===ve&&_0x45e0d1['set']('SHADOW_DIR'+'ECTIONAL',!(0x100*0x16+-0xf*0xe7+0x877*-0x1)));}}['prepareFor'+'wardPass'](_0x3ae814){const {options:_0x3ca215}=this,_0x20340f=_0x3ca215['clusteredL'+'ightingEna'+'bled']&&_0x3ca215['clusteredL'+'ightingAre'+'aLightsEna'+'bled']||_0x3ca215['lights']['some'](_0x4775a4=>_0x4775a4['_shape']&&_0x4775a4['_shape']!==Ys),_0x15bb63=!_0x3ca215['lightMapEn'+'abled']||_0x3ca215['lightMapWi'+'thoutAmbie'+'nt'],_0x2f79a9=this['needsNorma'+'l']&&(_0x3ca215['useNormals']||_0x3ca215['useClearCo'+'atNormals']||_0x3ca215['enableGGXS'+'pecular']&&!_0x3ca215['useHeights']);_0x3ca215['useSpecula'+'r']&&(this['fDefineSet'](!(-0x5*-0x5f+-0xd*-0x22a+0x1*-0x1dfd),'LIT_SPECUL'+'AR'),this['fDefineSet'](this['reflection'+'s'],'LIT_REFLEC'+'TIONS'),this['fDefineSet'](_0x3ca215['useClearCo'+'at'],'LIT_CLEARC'+'OAT'),this['fDefineSet'](_0x3ca215['fresnelMod'+'el']>-0xe9d+0x1e7b+0x54a*-0x3,'LIT_SPECUL'+'AR_FRESNEL'),this['fDefineSet'](_0x3ca215['useSheen'],'LIT_SHEEN'),this['fDefineSet'](_0x3ca215['useIridesc'+'ence'],'LIT_IRIDES'+'CENCE')),this['fDefineSet'](this['lighting']&&_0x3ca215['useSpecula'+'r']||this['reflection'+'s'],'LIT_SPECUL'+'AR_OR_REFL'+'ECTION'),this['fDefineSet'](this['needsScene'+'Color'],'LIT_SCENE_'+'COLOR'),this['fDefineSet'](this['needsScree'+'nSize'],'LIT_SCREEN'+'_SIZE'),this['fDefineSet'](this['needsTrans'+'forms'],'LIT_TRANSF'+'ORMS'),this['fDefineSet'](this['needsNorma'+'l'],'LIT_NEEDS_'+'NORMAL'),this['fDefineSet'](this['lighting'],'LIT_LIGHTI'+'NG'),this['fDefineSet'](_0x3ca215['useMetalne'+'ss'],'LIT_METALN'+'ESS'),this['fDefineSet'](_0x3ca215['enableGGXS'+'pecular'],'LIT_GGX_SP'+'ECULAR'),this['fDefineSet'](_0x3ca215['useSpecula'+'rityFactor'],'LIT_SPECUL'+'ARITY_FACT'+'OR'),this['fDefineSet'](_0x3ca215['useCubeMap'+'Rotation'],'CUBEMAP_RO'+'TATION'),this['fDefineSet'](_0x3ca215['occludeSpe'+'cularFloat'],'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT'),this['fDefineSet'](_0x3ca215['separateAm'+'bient'],'LIT_SEPARA'+'TE_AMBIENT'),this['fDefineSet'](_0x3ca215['twoSidedLi'+'ghting'],'LIT_TWO_SI'+'DED_LIGHTI'+'NG'),this['fDefineSet'](_0x3ca215['lightMapEn'+'abled'],'LIT_LIGHTM'+'AP'),this['fDefineSet'](_0x3ca215['dirLightMa'+'pEnabled'],'LIT_DIR_LI'+'GHTMAP'),this['fDefineSet'](_0x3ca215['skyboxInte'+'nsity']>-0x1c61*-0x1+-0x5*-0x184+-0x23f5,'LIT_SKYBOX'+'_INTENSITY'),this['fDefineSet'](_0x3ca215['clusteredL'+'ightingSha'+'dowsEnable'+'d'],'LIT_CLUSTE'+'RED_SHADOW'+'S'),this['fDefineSet'](_0x3ca215['clusteredL'+'ightingAre'+'aLightsEna'+'bled'],'LIT_CLUSTE'+'RED_AREA_L'+'IGHTS'),this['fDefineSet'](_0x2f79a9,'LIT_TBN'),this['fDefineSet'](_0x15bb63,'LIT_ADD_AM'+'BIENT'),this['fDefineSet'](_0x3ca215['hasTangent'+'s'],'LIT_TANGEN'+'TS'),this['fDefineSet'](_0x3ca215['useNormals'],'LIT_USE_NO'+'RMALS'),this['fDefineSet'](_0x3ca215['useClearCo'+'atNormals'],'LIT_USE_CL'+'EARCOAT_NO'+'RMALS'),this['fDefineSet'](_0x3ca215['useRefract'+'ion'],'LIT_REFRAC'+'TION'),this['fDefineSet'](_0x3ca215['useDynamic'+'Refraction'],'LIT_DYNAMI'+'C_REFRACTI'+'ON'),this['fDefineSet'](_0x3ca215['dispersion'],'LIT_DISPER'+'SION'),this['fDefineSet'](_0x3ca215['useHeights'],'LIT_HEIGHT'+'S'),this['fDefineSet'](_0x3ca215['opacityFad'+'esSpecular'],'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR'),this['fDefineSet'](_0x3ca215['alphaToCov'+'erage'],'LIT_ALPHA_'+'TO_COVERAG'+'E'),this['fDefineSet'](_0x3ca215['alphaTest'],'LIT_ALPHA_'+'TEST'),this['fDefineSet'](_0x3ca215['useMsdf'],'LIT_MSDF'),this['fDefineSet'](_0x3ca215['ssao'],'LIT_SSAO'),this['fDefineSet'](_0x3ca215['useAo'],'LIT_AO'),this['fDefineSet'](_0x3ca215['occludeDir'+'ect'],'LIT_OCCLUD'+'E_DIRECT'),this['fDefineSet'](_0x3ca215['msdfTextAt'+'tribute'],'LIT_MSDF_T'+'EXT_ATTRIB'+'UTE'),this['fDefineSet'](_0x3ca215['diffuseMap'+'Enabled'],'LIT_DIFFUS'+'E_MAP'),this['fDefineSet'](_0x3ca215['shadowCatc'+'her'],'LIT_SHADOW'+'_CATCHER'),this['fDefineSet'](!(0x1983+-0x209a+0x717),'LIT_FRESNE'+'L_MODEL',Rw[_0x3ca215['fresnelMod'+'el']]),this['fDefineSet'](!(0x18bc+0x632*-0x6+0x31c*0x4),'LIT_NONE_S'+'LICE_MODE',qw[_0x3ca215['nineSliced'+'Mode']]),this['fDefineSet'](!(0x2d9+-0x19*-0x12b+0x1006*-0x2),'LIT_BLEND_'+'TYPE',Yy[_0x3ca215['blendType']]),this['fDefineSet'](!(-0x1083+0x1*-0x446+0x1*0x14c9),'LIT_CUBEMA'+'P_PROJECTI'+'ON',Gw[_0x3ca215['cubeMapPro'+'jection']]),this['fDefineSet'](!(-0x10b+-0x1690*0x1+0x179b),'LIT_OCCLUD'+'E_SPECULAR',Ww[_0x3ca215['occludeSpe'+'cular']]),this['fDefineSet'](!(0x1fdf+0x1787+-0x3766),'LIT_REFLEC'+'TION_SOURC'+'E',$w[_0x3ca215['reflection'+'Source']]),this['fDefineSet'](!(0x1*-0x6fb+0x1abb+-0x10*0x13c),'LIT_AMBIEN'+'T_SOURCE',Xw[_0x3ca215['ambientSou'+'rce']]),this['fDefineSet'](!(-0x1630+-0x1*-0x16ca+0x16*-0x7),'{lightingU'+'v}',_0x3ae814??''),this['fDefineSet'](!(0x4d2*-0x1+0x224c+-0x1d7a),'{reflectio'+'nDecode}',Tr['decodeFunc'](_0x3ca215['reflection'+'Encoding'])),this['fDefineSet'](!(-0x136e+0x1602+-0x294),'{reflectio'+'nCubemapDe'+'code}',Tr['decodeFunc'](_0x3ca215['reflection'+'CubemapEnc'+'oding'])),this['fDefineSet'](!(-0x23af+-0x180b+-0x56e*-0xb),'{ambientDe'+'code}',Tr['decodeFunc'](_0x3ca215['ambientEnc'+'oding'])),this['_setupLigh'+'tingDefine'+'s'](_0x20340f,_0x3ca215['clusteredL'+'ightingEna'+'bled']);}['prepareSha'+'dowPass'](){const {options:_0x519012}=this,_0x4bd81c=this['shaderPass'+'Info']['lightType'],_0x4fee27=this['shaderPass'+'Info']['shadowType'],_0x1faf0a=qi['get'](_0x4fee27);w['assert'](_0x1faf0a);const _0x5388ce=_0x4bd81c===ve||!_0x1faf0a['vsm']&&_0x4bd81c===Ze;this['fDefineSet'](_0x5388ce,'PERSPECTIV'+'E_DEPTH'),this['fDefineSet'](!(-0x1462+-0x161f+0x2a81),'LIGHT_TYPE',''+u_[_0x4bd81c]),this['fDefineSet'](!(-0x19*-0x14b+-0x16f*-0x12+-0x3a21),'SHADOW_TYP'+'E',''+_0x1faf0a['name']),this['fDefineSet'](_0x519012['alphaTest'],'LIT_ALPHA_'+'TEST');}['generateFr'+'agmentShad'+'er'](_0x1a4412,_0x34bad3,_0x1bc785){const _0x49d340=this['options'];this['includes']['set']('frontendDe'+'clPS',_0x1a4412??''),this['includes']['set']('frontendCo'+'dePS',_0x34bad3??''),_0x49d340['pass']===Zn||_0x49d340['pass']===Rl||(this['shadowPass']?this['prepareSha'+'dowPass']():this['prepareFor'+'wardPass'](_0x1bc785)),this['fshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}}class wv{constructor(){h(this,'hasTangent'+'s',!(-0x175*0x7+-0x1*-0x54d+0x1*0x4e7)),h(this,'shaderChun'+'ks',null),h(this,'pass',-0x1*0x6ad+0x1caf+-0x1602),h(this,'alphaTest',!(-0xc74+0xf08+0x293*-0x1)),h(this,'blendType',Cs),h(this,'separateAm'+'bient',!(0x1c9e+-0x1c8c+-0x11)),h(this,'screenSpac'+'e',!(-0x1*0x859+-0x5ba*0x1+0x1*0xe14)),h(this,'skin',!(-0x3*0xb52+0x1fb7+0x240)),h(this,'batch',!(-0xaf7*-0x3+-0x6b*0x1f+-0x13ef)),h(this,'useInstanc'+'ing',!(-0x1efa+0xd58+-0x12d*-0xf)),h(this,'useMorphPo'+'sition',!(-0x54*0x8+0x1280+0x1*-0xfdf)),h(this,'useMorphNo'+'rmal',!(-0x1e53*0x1+0x2e5+-0x1b6f*-0x1)),h(this,'useMorphTe'+'xtureBased'+'Int',!(0x7*-0x191+-0x22d8+0x2dd0)),h(this,'nineSliced'+'Mode',-0x173e+-0x21bc+0x38fa),h(this,'clusteredL'+'ightingEna'+'bled',!(0x21a0+0x4f0+-0x2690)),h(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(-0x2cf*0x2+0x3*-0x709+-0x26e*-0xb)),h(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(-0xc6c+0xa75+0x1f8)),h(this,'clusteredL'+'ightingSha'+'dowType',-0x1b84*0x1+-0xd75+-0x269*-0x11),h(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(-0x21d+-0x1*0x1972+0x1b90)),h(this,'vertexColo'+'rs',!(0x1fb2*-0x1+-0x18c1+0x3874)),h(this,'lightMapEn'+'abled',!(-0x13*-0x191+0x1*-0x103f+-0xd83*0x1)),h(this,'dirLightMa'+'pEnabled',!(0x25ca+-0x21d8+0x3f1*-0x1)),h(this,'useHeights',!(-0x405+0x1*0x1c85+0x1*-0x187f)),h(this,'useNormals',!(0x9*-0x443+0x2*-0xc07+0x3e6a)),h(this,'useClearCo'+'atNormals',!(0x268e+0x1*-0x150b+-0x1182)),h(this,'useAo',!(0x18a9*0x1+-0x17b*0x9+-0xb55)),h(this,'diffuseMap'+'Enabled',!(-0x69f+-0x23f0+0xe30*0x3)),h(this,'pixelSnap',!(-0xbf6+0x12f3+0x2*-0x37e)),h(this,'ambientSH',!(0x1dc3+0x19*0xb9+-0x2fd3)),h(this,'ssao',!(-0x146*-0x1+-0x1*-0x36d+0x4b2*-0x1)),h(this,'twoSidedLi'+'ghting',!(-0x1*0x16a9+0x373*0xb+-0xf47)),h(this,'occludeDir'+'ect',!(-0x179*0x10+-0x1906+0x3097)),h(this,'occludeSpe'+'cular',-0x47*0x5f+-0x87f+0x22d8),h(this,'occludeSpe'+'cularFloat',!(-0x1*0x2266+-0x1434+0x369b)),h(this,'useMsdf',!(-0x44+0x12b0+-0x126b*0x1)),h(this,'msdfTextAt'+'tribute',!(-0x254c+0x6*0x27a+0x17f*0xf)),h(this,'alphaToCov'+'erage',!(0x1838+0x656*0x5+0x29*-0x15d)),h(this,'opacityFad'+'esSpecular',!(-0x1d6c*-0x1+-0xe88+-0xee3)),h(this,'opacityDit'+'her',Sa),h(this,'opacitySha'+'dowDither',Sa),h(this,'cubeMapPro'+'jection',0x142f*0x1+-0x1091+-0x39e*0x1),h(this,'useSpecula'+'r',!(0x1eac+-0x21a9*0x1+0x2fe)),h(this,'useSpecula'+'rityFactor',!(-0xe43+0x21af+-0x136b)),h(this,'enableGGXS'+'pecular',!(-0x1*0x15b+0x22*0x24+-0x36c)),h(this,'fresnelMod'+'el',0x1*0xb51+-0x258+-0x8f9),h(this,'useRefract'+'ion',!(0xd6c+-0x3a7*-0x9+0x1*-0x2e4a)),h(this,'useClearCo'+'at',!(-0x1269*-0x2+-0x29a*0xb+-0x833*0x1)),h(this,'useSheen',!(0xb5a+-0x55d*-0x1+-0x6*0x2c9)),h(this,'useIridesc'+'ence',!(-0x1b*-0xb+-0x3*-0xbe1+-0x24cb*0x1)),h(this,'useMetalne'+'ss',!(-0x245d+0x643*-0x3+0x3727)),h(this,'useDynamic'+'Refraction',!(0xfd+-0x2331+0xb67*0x3)),h(this,'dispersion',!(-0xe*-0x4+0x1bca+-0x1c01)),h(this,'fog',Kn),h(this,'gamma',Ll),h(this,'toneMap',-(0x765*-0x1+0xbd3*-0x3+0x2adf)),h(this,'reflection'+'Source',vr),h(this,'reflection'+'Encoding',null),h(this,'reflection'+'CubemapEnc'+'oding',null),h(this,'ambientSou'+'rce','constant'),h(this,'ambientEnc'+'oding',null),h(this,'skyboxInte'+'nsity',-0x1*-0x1317+-0x26ec+0x2*0x9eb),h(this,'useCubeMap'+'Rotation',!(0x3ec+-0xc1*-0x33+-0x2a5e)),h(this,'lightMapWi'+'thoutAmbie'+'nt',!(-0x1075+-0x922+0x1998)),h(this,'lights',[]),h(this,'noShadow',!(0x992+-0x822+-0x16f)),h(this,'lightMaskD'+'ynamic',-0x2*-0xa26+0x450+-0xe*0x1c2),h(this,'userAttrib'+'utes',{}),h(this,'linearDept'+'h',!(-0x227c*0x1+-0xac0+0x2d3d)),h(this,'shadowCatc'+'her',!(0x1b8a+-0x1053+-0x19a*0x7));}}class dl{constructor(){h(this,'defines',new Map()),h(this,'forceUv1',!(0x23e*-0xc+0x12d*-0x2+-0x21*-0xe3)),h(this,'specularTi'+'nt',!(-0x16*-0x76+0x19*-0x164+0x5*0x4ed)),h(this,'metalnessT'+'int',!(-0x2404+0x1b9c+-0x869*-0x1)),h(this,'glossTint',!(0x1b10+-0x240b+-0x64*-0x17)),h(this,'emissiveEn'+'coding','linear'),h(this,'lightMapEn'+'coding','linear'),h(this,'packedNorm'+'al',!(0xaf3+-0x1153+0x661)),h(this,'normalDeta'+'ilPackedNo'+'rmal',!(-0x1*-0xd07+-0x110c+-0x1*-0x406)),h(this,'clearCoatP'+'ackedNorma'+'l',!(-0x2190+-0x1*0x2209+0x11*0x3fa)),h(this,'glossInver'+'t',!(-0xf7*-0xa+0x252*0x2+-0xe49)),h(this,'sheenGloss'+'Invert',!(-0x1b*0x71+0xefe+-0x2*0x189)),h(this,'clearCoatG'+'lossInvert',!(-0x22d9+0x1bd3*-0x1+-0xc89*-0x5)),h(this,'useAO',!(0x160b+0x4e*-0xa+-0xdd*0x16)),h(this,'litOptions',new wv());}get['pass'](){return this['litOptions']['pass'];}}const Ev={'generateKey'(_0x360faa){return'lit'+Object['keys'](_0x360faa)['sort']()['map'](_0x14c6d7=>{var _0x26c715;return _0x14c6d7==='shaderChun'+'ks'?((_0x26c715=_0x360faa['shaderChun'+'ks'])==null?void(-0x15d2+-0x8eb+0x3d*0x81):_0x26c715['key'])??'':_0x14c6d7==='lights'?Ev['generateLi'+'ghtsKey'](_0x360faa):_0x14c6d7+_0x360faa[_0x14c6d7];})['join']('\x0a');},'generateLightsKey'(_0x3f5074){return'lights:'+_0x3f5074['lights']['map'](_0x224cee=>!_0x3f5074['clusteredL'+'ightingEna'+'bled']||_0x224cee['_type']===ve?_0x224cee['key']+',':'')['join']('');}},bn=[],Qd=_0x1084e7=>Object['keys'](_0x1084e7)['filter'](_0x20a658=>_0x20a658!=='litOptions')['sort']();class fb extends ya{constructor(){super(...arguments),h(this,'optionsCon'+'text',new dl()),h(this,'optionsCon'+'textMin',new dl());}['generateKe'+'y'](_0x117d4e){let _0x47cf58;return _0x117d4e===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Qd(_0x117d4e)),_0x47cf58=this['propsMin']):_0x117d4e===this['optionsCon'+'text']?(this['props']||(this['props']=Qd(_0x117d4e)),_0x47cf58=this['props']):_0x47cf58=Qd(_0x117d4e),'standard:\x0a'+ya['definesHas'+'h'](_0x117d4e['defines'])+'\x0a'+_0x47cf58['map'](_0xd41cc6=>_0xd41cc6+_0x117d4e[_0xd41cc6])['join']('\x0a')+Ev['generateKe'+'y'](_0x117d4e['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0x4e449a,_0x202242,_0x18a41d){const _0x324775=_0x18a41d[_0x4e449a],_0x1eb682=_0x18a41d[_0x202242],_0x2e39b9=_0x18a41d['litOptions']['pass']===Aa;let _0x56d012;return _0x2e39b9&&_0x18a41d['litOptions']['nineSliced'+'Mode']===Pt||_0x2e39b9&&_0x18a41d['litOptions']['nineSliced'+'Mode']===Mt?_0x56d012='nineSliced'+'Uv':(_0x324775===-0x19a2+0x1293+0x70f?_0x56d012='vUv'+_0x1eb682:_0x56d012='vUV'+_0x1eb682+'_'+_0x324775,_0x18a41d['heightMap']&&_0x4e449a!=='heightMapT'+'ransform'&&(_0x56d012+='\x20+\x20dUvOffs'+'et')),_0x56d012;}['_validateM'+'apChunk'](_0x14471b,_0x321674,_0x317c05){w['call'](()=>{const _0x41d6c3=_0x317c05['get'](_0x321674)['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1'),_0x41a7b9=[],_0x14f129=(_0x1d9d21,_0x437ca6)=>{_0x41d6c3['includes'](_0x1d9d21)&&_0x41a7b9['push']('\x20\x20'+_0x1d9d21+'\x20->\x20'+_0x437ca6);};[['$UV','{STD_'+_0x14471b+('_TEXTURE_U'+'V}')],['$CH','{STD_'+_0x14471b+('_TEXTURE_C'+'HANNEL}')],['$SAMPLER','{STD_'+_0x14471b+('_TEXTURE_N'+'AME}')],['$DECODE','{STD_'+_0x14471b+('_TEXTURE_D'+'ECODE}')],['$VC','{STD_'+_0x14471b+('_VERTEX_CH'+'ANNEL}')],['$DETAILMOD'+'E','{STD_'+_0x14471b+('_DETAILMOD'+'E}')],['unpackNorm'+'al(','{STD_'+_0x14471b+('_TEXTURE_D'+'ECODE}(')]]['forEach'](([_0x1c02cd,_0x3e69a3])=>_0x14f129(_0x1c02cd,_0x3e69a3)),[['MAPFLOAT','STD_'+_0x14471b+'_CONSTANT'],['MAPCOLOR','STD_'+_0x14471b+'_CONSTANT'],['MAPVERTEX','STD_'+_0x14471b+'_VERTEX'],['MAPTEXTURE','STD_'+_0x14471b+'_TEXTURE'],['MAPINVERT','STD_'+_0x14471b+'_INVERT']]['forEach'](([_0x4ded60,_0x171014])=>_0x14f129(_0x4ded60,_0x171014)),_0x41d6c3['includes']('$texture2D'+'SAMPLE')&&_0x14f129('$texture2D'+'SAMPLE','(Macro\x20no\x20'+'longer\x20sup'+'ported\x20-\x20r'+'emove/refa'+'ctor)'),_0x41a7b9['length']>-0x721+0x4c3+-0x2*-0x12f&&w['errorOnce']('Shader\x20chu'+'nk\x20'+_0x321674+('\x20is\x20in\x20no\x20'+'longer\x20com'+'patible\x20fo'+'rmat.\x20Plea'+'se\x20make\x20th'+'ese\x20replac'+'ements\x20to\x20'+'bring\x20it\x20t'+'o\x20the\x20curr'+'ent\x20versio'+'n:\x0a')+_0x41a7b9['join']('\x0a'),{'code':_0x41d6c3});});}['_addMapDef'+'ines'](_0x5abf9e,_0x2f7ae8,_0x34326e,_0x4af32b,_0x13f2d5,_0x4779c2,_0x19a5b2=null){const _0x57cf1b=_0x2f7ae8+'Map',_0x594049=_0x2f7ae8['toUpperCas'+'e'](),_0x5bb0ea=_0x57cf1b+'Uv',_0x4d92e4=_0x57cf1b+'Identifier',_0xf0fb58=_0x57cf1b+'Transform',_0x89f872=_0x57cf1b+'Channel',_0x5f147f=_0x2f7ae8+('VertexColo'+'rChannel'),_0x3025ce=_0x2f7ae8+'Tint',_0x27fa8f=_0x2f7ae8+('VertexColo'+'r'),_0x53c2a4=_0x2f7ae8+'Mode',_0x560ce3=_0x2f7ae8+'Invert',_0x87a81b=_0x4af32b[_0x3025ce],_0x36ec92=_0x4af32b[_0x27fa8f],_0x5038b0=_0x4af32b[_0x57cf1b],_0x183c40=_0x4af32b[_0x4d92e4],_0x3f4700=_0x4af32b[_0x53c2a4],_0x500066=_0x13f2d5['get'](_0x34326e);if(w['assert'](_0x500066,'Shader\x20chu'+'nk\x20'+_0x34326e+('\x20not\x20found'+'.')),w['call'](()=>{_0x500066&&this['_validateM'+'apChunk'](_0x594049,_0x34326e,_0x13f2d5);}),_0x5038b0){_0x5abf9e['set']('STD_'+_0x594049+'_TEXTURE','');const _0x5945bd=this['_getUvSour'+'ceExpressi'+'on'](_0xf0fb58,_0x5bb0ea,_0x4af32b);_0x5abf9e['set']('{STD_'+_0x594049+('_TEXTURE_U'+'V}'),_0x5945bd),_0x5abf9e['set']('{STD_'+_0x594049+('_TEXTURE_C'+'HANNEL}'),_0x4af32b[_0x89f872]);const _0x24c931='{STD_'+_0x594049+('_TEXTURE_N'+'AME}');if(_0x500066['includes'](_0x24c931)){let _0x35bbfe='texture_'+_0x57cf1b;const _0x39b183=_0x4779c2[_0x183c40];_0x39b183?_0x35bbfe=_0x39b183:(_0x4779c2[_0x183c40]=_0x35bbfe,_0x5abf9e['set']('STD_'+_0x594049+('_TEXTURE_A'+'LLOCATE'),'')),_0x5abf9e['set'](_0x24c931,_0x35bbfe);}if(_0x19a5b2){const _0x3e6cbd=_0x4af32b[_0x89f872]==='aaa'?'passThroug'+'h':Tr['decodeFunc'](_0x19a5b2);_0x5abf9e['set']('{STD_'+_0x594049+('_TEXTURE_D'+'ECODE}'),_0x3e6cbd);}}_0x36ec92&&(_0x5abf9e['set']('STD_'+_0x594049+'_VERTEX',''),_0x5abf9e['set']('{STD_'+_0x594049+('_VERTEX_CH'+'ANNEL}'),_0x4af32b[_0x5f147f])),_0x3f4700&&_0x5abf9e['set']('{STD_'+_0x594049+('_DETAILMOD'+'E}'),_0x3f4700),_0x87a81b&&_0x5abf9e['set']('STD_'+_0x594049+'_CONSTANT',''),_0x4af32b[_0x560ce3]&&_0x5abf9e['set']('STD_'+_0x594049+'_INVERT','');}['_correctCh'+'annel'](_0x502262,_0x1707b6,_0x356f90){if(_0x356f90[_0x502262]>-0x598+-0x989*-0x1+-0x1*0x3f1){if(_0x356f90[_0x502262]<_0x1707b6['length'])return _0x1707b6['substring'](0x46c*-0x8+-0x3*-0x52d+0x13d9,_0x356f90[_0x502262]);if(_0x356f90[_0x502262]>_0x1707b6['length']){let _0x1aa67f=_0x1707b6;const _0x5139e1=_0x1aa67f['charAt'](_0x1aa67f['length']-(0x264a+0x2*0x11fe+-0x4a45)),_0x1e6bfd=_0x356f90[_0x502262]-_0x1aa67f['length'];for(let _0x1a23a0=0x1de*-0x9+0xe6*0x2b+0x7f*-0x2c;_0x1a23a0<_0x1e6bfd;_0x1a23a0++)_0x1aa67f+=_0x5139e1;return _0x1aa67f;}return _0x1707b6;}}['createVert'+'exShader'](_0x11fd00,_0x394a3a){const _0x4740f8=[],_0x296a36=[],_0x18f89f=[];for(const _0x315b27 in bn){const _0x1584dd=_0x315b27+'Map';if(_0x394a3a[_0x315b27+('VertexColo'+'r')]){const _0x5c6dae=_0x315b27+('VertexColo'+'rChannel');_0x394a3a[_0x5c6dae]=this['_correctCh'+'annel'](_0x315b27,_0x394a3a[_0x5c6dae],bn);}if(_0x394a3a[_0x1584dd]){const _0x10e8cd=_0x1584dd+'Channel',_0x46bc0c=_0x1584dd+'Transform',_0x148e09=_0x1584dd+'Uv';_0x394a3a[_0x148e09]=Math['min'](_0x394a3a[_0x148e09],0x21be+0x134a+-0x3507),_0x394a3a[_0x10e8cd]=this['_correctCh'+'annel'](_0x315b27,_0x394a3a[_0x10e8cd],bn);const _0x4e79ab=_0x394a3a[_0x148e09];_0x4740f8[_0x4e79ab]=!(-0x1fab+-0x1*0x1387+0x3332),_0x296a36[_0x4e79ab]=_0x296a36[_0x4e79ab]||_0x394a3a[_0x1584dd]&&!_0x394a3a[_0x46bc0c],_0x394a3a[_0x46bc0c]&&_0x18f89f['push']({'name':_0x315b27,'id':_0x394a3a[_0x46bc0c],'uv':_0x394a3a[_0x148e09]});}}_0x394a3a['forceUv1']&&(_0x4740f8[-0x2523+0x1e72+-0x2*-0x359]=!(-0x4*0xf8+-0x2683+-0x3*-0xe21),_0x296a36[-0x13b0+0x4e5*0x3+-0x2*-0x281]=_0x296a36[0x61f+0x29*0x18+-0x9f6]!==void(-0x412+-0x26e7+0x243*0x13)?_0x296a36[-0x19a4+-0x12d1+-0x1*-0x2c76]:!(-0x110e+0x10ed*-0x1+-0x1*-0x21fb)),_0x11fd00['generateVe'+'rtexShader'](_0x4740f8,_0x296a36,_0x18f89f);}['prepareFra'+'gmentDefin'+'es'](_0x274db9,_0x2ae9a8,_0x4e6286){const _0x394725=(_0x32f0d6,_0x285a2e,_0x5a7f5d='')=>{_0x32f0d6&&_0x2ae9a8['set'](_0x285a2e,_0x5a7f5d);};_0x394725(_0x274db9['lightMap'],'STD_LIGHTM'+'AP',''),_0x394725(_0x274db9['lightVerte'+'xColor'],'STD_LIGHT_'+'VERTEX_COL'+'OR',''),_0x394725(_0x274db9['dirLightMa'+'p']&&_0x274db9['litOptions']['useSpecula'+'r'],'STD_LIGHTM'+'AP_DIR',''),_0x394725(_0x274db9['heightMap'],'STD_HEIGHT'+'_MAP',''),_0x394725(_0x274db9['useSpecula'+'rColor'],'STD_SPECUL'+'AR_COLOR',''),_0x394725(_0x274db9['aoMap']||_0x274db9['aoVertexCo'+'lor']||_0x274db9['useAO'],'STD_AO',''),_0x394725(!(-0x9*0x2e3+-0x7c0+0x21bb),'STD_OPACIT'+'Y_DITHER',iE[_0x4e6286['isForward']?_0x274db9['litOptions']['opacityDit'+'her']:_0x274db9['litOptions']['opacitySha'+'dowDither']]);}['createShad'+'erDefiniti'+'on'](_0x200e18,_0x341cef){const _0x25d5c3=Si['get'](_0x200e18)['getByIndex'](_0x341cef['litOptions']['pass']),_0x13768c=_0x25d5c3['isForward'],_0xe5a9e5=new db(_0x200e18,_0x341cef['litOptions']);this['createVert'+'exShader'](_0xe5a9e5,_0x341cef);const _0x162fce={};_0x341cef['litOptions']['fresnelMod'+'el']=_0x341cef['litOptions']['fresnelMod'+'el']===-0x11da+-0xb3*0x1+0x1*0x128d?Yp:_0x341cef['litOptions']['fresnelMod'+'el'];const _0x195d9e=_0xe5a9e5['fDefines'];this['prepareFra'+'gmentDefin'+'es'](_0x341cef,_0x195d9e,_0x25d5c3);let _0x1945c3='';if(_0x13768c){if(_0x341cef['heightMap']&&this['_addMapDef'+'ines'](_0x195d9e,'height','parallaxPS',_0x341cef,_0xe5a9e5['chunks'],_0x162fce),(_0x341cef['litOptions']['blendType']!==Cs||_0x341cef['litOptions']['alphaTest']||_0x341cef['litOptions']['alphaToCov'+'erage']||_0x341cef['litOptions']['opacityDit'+'her']!==Sa)&&this['_addMapDef'+'ines'](_0x195d9e,'opacity','opacityPS',_0x341cef,_0xe5a9e5['chunks'],_0x162fce),_0xe5a9e5['needsNorma'+'l']){if((_0x341cef['normalMap']||_0x341cef['clearCoatN'+'ormalMap'])&&!_0x341cef['litOptions']['hasTangent'+'s']){const _0x199745=_0x341cef['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x1945c3=this['_getUvSour'+'ceExpressi'+'on'](_0x199745+'Transform',_0x199745+'Uv',_0x341cef);}this['_addMapDef'+'ines'](_0x195d9e,'normalDeta'+'il','normalMapP'+'S',_0x341cef,_0xe5a9e5['chunks'],_0x162fce,_0x341cef['normalDeta'+'ilPackedNo'+'rmal']?'xy':'xyz'),this['_addMapDef'+'ines'](_0x195d9e,'normal','normalMapP'+'S',_0x341cef,_0xe5a9e5['chunks'],_0x162fce,_0x341cef['packedNorm'+'al']?'xy':'xyz');}_0x341cef['diffuseDet'+'ail']&&this['_addMapDef'+'ines'](_0x195d9e,'diffuseDet'+'ail','diffusePS',_0x341cef,_0xe5a9e5['chunks'],_0x162fce,_0x341cef['diffuseDet'+'ailEncodin'+'g']),this['_addMapDef'+'ines'](_0x195d9e,'diffuse','diffusePS',_0x341cef,_0xe5a9e5['chunks'],_0x162fce,_0x341cef['diffuseEnc'+'oding']),_0x341cef['litOptions']['useRefract'+'ion']&&(this['_addMapDef'+'ines'](_0x195d9e,'refraction','transmissi'+'onPS',_0x341cef,_0xe5a9e5['chunks'],_0x162fce),this['_addMapDef'+'ines'](_0x195d9e,'thickness','thicknessP'+'S',_0x341cef,_0xe5a9e5['chunks'],_0x162fce)),_0x341cef['litOptions']['useIridesc'+'ence']&&(this['_addMapDef'+'ines'](_0x195d9e,'iridescenc'+'e','iridescenc'+'ePS',_0x341cef,_0xe5a9e5['chunks'],_0x162fce),this['_addMapDef'+'ines'](_0x195d9e,'iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x341cef,_0xe5a9e5['chunks'],_0x162fce)),(_0xe5a9e5['lighting']&&_0x341cef['litOptions']['useSpecula'+'r']||_0xe5a9e5['reflection'+'s'])&&(_0x341cef['litOptions']['useSheen']&&(this['_addMapDef'+'ines'](_0x195d9e,'sheen','sheenPS',_0x341cef,_0xe5a9e5['chunks'],_0x162fce,_0x341cef['sheenEncod'+'ing']),this['_addMapDef'+'ines'](_0x195d9e,'sheenGloss','sheenGloss'+'PS',_0x341cef,_0xe5a9e5['chunks'],_0x162fce)),_0x341cef['litOptions']['useMetalne'+'ss']&&(this['_addMapDef'+'ines'](_0x195d9e,'metalness','metalnessP'+'S',_0x341cef,_0xe5a9e5['chunks'],_0x162fce),this['_addMapDef'+'ines'](_0x195d9e,'ior','iorPS',_0x341cef,_0xe5a9e5['chunks'],_0x162fce)),_0x341cef['litOptions']['useSpecula'+'rityFactor']&&this['_addMapDef'+'ines'](_0x195d9e,'specularit'+'yFactor','specularit'+'yFactorPS',_0x341cef,_0xe5a9e5['chunks'],_0x162fce),_0x341cef['useSpecula'+'rColor']&&this['_addMapDef'+'ines'](_0x195d9e,'specular','specularPS',_0x341cef,_0xe5a9e5['chunks'],_0x162fce,_0x341cef['specularEn'+'coding']),this['_addMapDef'+'ines'](_0x195d9e,'gloss','glossPS',_0x341cef,_0xe5a9e5['chunks'],_0x162fce)),_0x341cef['aoDetail']&&this['_addMapDef'+'ines'](_0x195d9e,'aoDetail','aoPS',_0x341cef,_0xe5a9e5['chunks'],_0x162fce),(_0x341cef['aoMap']||_0x341cef['aoVertexCo'+'lor']||_0x341cef['useAO'])&&this['_addMapDef'+'ines'](_0x195d9e,'ao','aoPS',_0x341cef,_0xe5a9e5['chunks'],_0x162fce),this['_addMapDef'+'ines'](_0x195d9e,'emissive','emissivePS',_0x341cef,_0xe5a9e5['chunks'],_0x162fce,_0x341cef['emissiveEn'+'coding']),_0x341cef['litOptions']['useClearCo'+'at']&&(this['_addMapDef'+'ines'](_0x195d9e,'clearCoat','clearCoatP'+'S',_0x341cef,_0xe5a9e5['chunks'],_0x162fce),this['_addMapDef'+'ines'](_0x195d9e,'clearCoatG'+'loss','clearCoatG'+'lossPS',_0x341cef,_0xe5a9e5['chunks'],_0x162fce),this['_addMapDef'+'ines'](_0x195d9e,'clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x341cef,_0xe5a9e5['chunks'],_0x162fce,_0x341cef['clearCoatP'+'ackedNorma'+'l']?'xy':'xyz')),_0x341cef['litOptions']['enableGGXS'+'pecular']&&this['_addMapDef'+'ines'](_0x195d9e,'anisotropy','anisotropy'+'PS',_0x341cef,_0xe5a9e5['chunks'],_0x162fce),(_0x341cef['lightMap']||_0x341cef['lightVerte'+'xColor'])&&this['_addMapDef'+'ines'](_0x195d9e,'light','lightmapPS',_0x341cef,_0xe5a9e5['chunks'],_0x162fce,_0x341cef['lightMapEn'+'coding']);}else{const _0x5e58c2=_0x341cef['litOptions']['opacitySha'+'dowDither'];(_0x341cef['litOptions']['alphaTest']||_0x5e58c2)&&this['_addMapDef'+'ines'](_0x195d9e,'opacity','opacityPS',_0x341cef,_0xe5a9e5['chunks'],_0x162fce);}_0xe5a9e5['generateFr'+'agmentShad'+'er'](_0xe5a9e5['chunks']['get']('stdDeclara'+'tionPS'),_0xe5a9e5['chunks']['get']('stdFrontEn'+'dPS'),_0x1945c3);const _0x318262=bh['merge'](_0xe5a9e5['chunks'],_0xe5a9e5['includes']),_0x3103a0=_0xe5a9e5['vDefines'];_0x341cef['defines']['forEach']((_0x524c89,_0x1f2ad6)=>_0x3103a0['set'](_0x1f2ad6,_0x524c89)),_0x341cef['defines']['forEach']((_0x52ecce,_0x228e0f)=>_0x195d9e['set'](_0x228e0f,_0x52ecce));const _0x55c2e9=Jt['createDefi'+'nition'](_0x200e18,{'name':'StandardSh'+'ader','attributes':_0xe5a9e5['attributes'],'shaderLanguage':_0xe5a9e5['shaderLang'+'uage'],'vertexCode':_0xe5a9e5['vshader'],'fragmentCode':_0xe5a9e5['fshader'],'vertexIncludes':_0x318262,'fragmentIncludes':_0x318262,'fragmentDefines':_0x195d9e,'vertexDefines':_0x3103a0});return _0xe5a9e5['shaderPass'+'Info']['isForward']&&(_0x55c2e9['tag']=Sy),_0x55c2e9;}}const Jd=new fb(),ss=[];ss[Gp]={'src':Ft,'dst':Ft,'op':Tx},ss[Cs]={'src':Ft,'dst':rp,'op':fs},ss[Zs]={'src':jh,'dst':Yh,'op':fs,'alphaSrc':Ft},ss[Gn]={'src':Ft,'dst':Yh,'op':fs},ss[Hp]={'src':Ft,'dst':Ft,'op':fs},ss[Ed]={'src':jh,'dst':Ft,'op':fs},ss[$p]={'src':JS,'dst':vx,'op':fs},ss[Xp]={'src':xx,'dst':Ft,'op':fs},ss[Wp]={'src':JS,'dst':rp,'op':fs},ss[qp]={'src':Ft,'dst':Ft,'op':wx},ss[jp]={'src':Ft,'dst':Ft,'op':Ex};let ub=0x1*0x1f86+-0x1942*0x1+0x4*-0x191;class tr{constructor(){h(this,'meshInstan'+'ces',[]),h(this,'name','Untitled'),h(this,'userId',''),h(this,'id',ub++),h(this,'variants',new Map()),h(this,'defines',new Map()),h(this,'_definesDi'+'rty',!(-0x5*0x1cd+0x326+0x5dc)),h(this,'parameters',{}),h(this,'alphaTest',-0x199a+-0x1517+0x2eb1),h(this,'alphaToCov'+'erage',!(0x21*0x3a+-0x32f*0xa+0x185d)),h(this,'_blendStat'+'e',new pt()),h(this,'_depthStat'+'e',new Yt()),h(this,'cull',pa),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'_shaderChu'+'nks',null),h(this,'_oldChunks',{}),h(this,'_dirtyShad'+'er',!(-0xac5*-0x1+0x1012+-0x1ad7)),h(this,'_shaderVer'+'sion',0x4cf+0x20be+0x258d*-0x1),h(this,'_scene',null),h(this,'dirty',!(-0xe6*0x19+-0x2203+0x3879)),new.target===tr&&w['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}get['hasShaderC'+'hunks'](){return this['_shaderChu'+'nks']!=null;}get['shaderChun'+'ks'](){return this['_shaderChu'+'nks']||(this['_shaderChu'+'nks']=new Pe()),this['_shaderChu'+'nks'];}['getShaderC'+'hunks'](_0x4f2236=Fe){const _0x2ef918=this['shaderChun'+'ks'];return _0x4f2236===Fe?_0x2ef918['glsl']:_0x2ef918['wgsl'];}set['shaderChun'+'ksVersion'](_0x437fc2){this['shaderChun'+'ks']['version']=_0x437fc2;}get['shaderChun'+'ksVersion'](){return this['shaderChun'+'ks']['version'];}set['chunks'](_0x476e88){w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),this['_oldChunks']=_0x476e88;}get['chunks'](){return w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),Object['assign'](this['_oldChunks'],Object['fromEntrie'+'s'](this['shaderChun'+'ks']['glsl'])),this['_oldChunks'];}set['depthBias'](_0x201688){this['_depthStat'+'e']['depthBias']=_0x201688;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0x411404){this['_depthStat'+'e']['depthBiasS'+'lope']=_0x411404;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x390384){this['_blendStat'+'e']['redWrite']=_0x390384;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x22eacf){this['_blendStat'+'e']['greenWrite']=_0x22eacf;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x357846){this['_blendStat'+'e']['blueWrite']=_0x357846;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x43ebe6){this['_blendStat'+'e']['alphaWrite']=_0x43ebe6;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x55d2be=this['transparen'+'t'],_0x204f9c=this['meshInstan'+'ces'];for(let _0x48c084=-0x1b00+-0x2*-0xfb6+0x4*-0x11b;_0x48c084<_0x204f9c['length'];_0x48c084++)_0x204f9c[_0x48c084]['transparen'+'t']=_0x55d2be;}set['blendState'](_0x1d2c39){this['_blendStat'+'e']['copy'](_0x1d2c39),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x366407){const _0x1f16d9=ss[_0x366407];w['assert'](_0x1f16d9,'Unknown\x20bl'+'end\x20mode\x20'+_0x366407),this['_blendStat'+'e']['setColorBl'+'end'](_0x1f16d9['op'],_0x1f16d9['src'],_0x1f16d9['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x1f16d9['alphaOp']??_0x1f16d9['op'],_0x1f16d9['alphaSrc']??_0x1f16d9['src'],_0x1f16d9['alphaDst']??_0x1f16d9['dst']);const _0x4f41b2=_0x366407!==Cs;this['_blendStat'+'e']['blend']!==_0x4f41b2&&(this['_blendStat'+'e']['blend']=_0x4f41b2,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return Cs;const {colorOp:_0x77c8,colorSrcFactor:_0x1648f1,colorDstFactor:_0x472581,alphaOp:_0x4cdd27,alphaSrcFactor:_0x51b52b,alphaDstFactor:_0x5c3488}=this['_blendStat'+'e'];for(let _0x166b70=0x19bb+-0x147d+-0x2*0x29f;_0x166b70<ss['length'];_0x166b70++){const _0x3041dc=ss[_0x166b70];if(_0x3041dc['src']===_0x1648f1&&_0x3041dc['dst']===_0x472581&&_0x3041dc['op']===_0x77c8&&_0x3041dc['src']===_0x51b52b&&_0x3041dc['dst']===_0x5c3488&&_0x3041dc['op']===_0x4cdd27)return _0x166b70;}return Zs;}set['depthState'](_0x843de9){this['_depthStat'+'e']['copy'](_0x843de9);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x4a5c84){this['_depthStat'+'e']['test']=_0x4a5c84;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x358aeb){this['_depthStat'+'e']['func']=_0x358aeb;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x3c1e09){this['_depthStat'+'e']['write']=_0x3c1e09;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x598766){var _0x200571,_0x502197;this['name']=_0x598766['name'],this['alphaTest']=_0x598766['alphaTest'],this['alphaToCov'+'erage']=_0x598766['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x598766['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x598766['_depthStat'+'e']),this['cull']=_0x598766['cull'],this['stencilFro'+'nt']=(_0x200571=_0x598766['stencilFro'+'nt'])==null?void(-0x1962+-0x1e1e+0x4a0*0xc):_0x200571['clone'](),_0x598766['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x598766['stencilFro'+'nt']===_0x598766['stencilBac'+'k']?this['stencilFro'+'nt']:_0x598766['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x1884b7 in _0x598766['parameters'])_0x598766['parameters']['hasOwnProp'+'erty'](_0x1884b7)&&this['_setParame'+'terSimple'](_0x1884b7,_0x598766['parameters'][_0x1884b7]['data']);return this['defines']['clear'](),_0x598766['defines']['forEach']((_0xe74f58,_0x195b9c)=>this['defines']['set'](_0x195b9c,_0xe74f58)),this['_shaderChu'+'nks']=_0x598766['hasShaderC'+'hunks']?new Pe():null,(_0x502197=this['_shaderChu'+'nks'])==null||_0x502197['copy'](_0x598766['_shaderChu'+'nks']),this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x28104e=this['meshInstan'+'ces'];for(let _0x3b031d=-0x3e6+-0x24a5+0x288b;_0x3b031d<_0x28104e['length'];_0x3b031d++)_0x28104e[_0x3b031d]['updateKey']();}['updateUnif'+'orms'](_0x49d6c8,_0x3ff96d){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x582396){w['assert'](!(-0x10b3+0xb*-0xe5+-0x54f*-0x5),'Not\x20implem'+'ented');}['update'](){var _0x17c514,_0x52e25d;if(Object['keys'](this['_oldChunks'])['length']>0xcc3+-0x809*0x1+0x6e*-0xb){for(const [_0x5afc54,_0x40de37]of Object['entries'](this['_oldChunks']))this['shaderChun'+'ks']['glsl']['set'](_0x5afc54,_0x40de37),delete this['_oldChunks'][_0x5afc54];}(this['_definesDi'+'rty']||(_0x17c514=this['_shaderChu'+'nks'])!=null&&_0x17c514['isDirty']())&&(this['_definesDi'+'rty']=!(-0x184a*-0x1+0x183*0xc+-0x1*0x2a6d),(_0x52e25d=this['_shaderChu'+'nks'])==null||_0x52e25d['resetDirty'](),this['clearVaria'+'nts']()),this['dirty']=!(0x3*0xbdd+0x1990+0x65*-0x9b);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x2ca7c4=this['meshInstan'+'ces'],_0x50ecaf=_0x2ca7c4['length'];for(let _0x3824ef=0x1982+-0xdf*-0x7+0x383*-0x9;_0x3824ef<_0x50ecaf;_0x3824ef++)_0x2ca7c4[_0x3824ef]['clearShade'+'rs']();}['getParamet'+'er'](_0x3c9469){return this['parameters'][_0x3c9469];}['_setParame'+'terSimple'](_0x4c8c6a,_0x40907d){w['call'](()=>{_0x40907d===void(0x1a5*0x11+-0x199c+-0x259)&&w['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x4c8c6a+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'),this);});const _0x861004=this['parameters'][_0x4c8c6a];_0x861004?_0x861004['data']=_0x40907d:this['parameters'][_0x4c8c6a]={'scopeId':null,'data':_0x40907d};}['setParamet'+'er'](_0x24163e,_0x4c846c){if(_0x4c846c===void(0x1467*0x1+-0x4ac*-0x2+-0x1dbf)&&typeof _0x24163e=='object'){const _0x341647=_0x24163e;if(_0x341647['length']){for(let _0x530795=-0x3*0xa01+0x71*-0x1d+0x2ad0;_0x530795<_0x341647['length'];_0x530795++)this['setParamet'+'er'](_0x341647[_0x530795]);return;}_0x24163e=_0x341647['name'],_0x4c846c=_0x341647['value'];}this['_setParame'+'terSimple'](_0x24163e,_0x4c846c);}['deletePara'+'meter'](_0x2e8e86){this['parameters'][_0x2e8e86]&&delete this['parameters'][_0x2e8e86];}['setParamet'+'ers'](_0x1bda51,_0x3e684e){const _0x39f25b=this['parameters'];_0x3e684e===void(-0x4*0x45a+-0xd36*-0x1+0x432)&&(_0x3e684e=_0x39f25b);for(const _0x329dd2 in _0x3e684e){const _0x4cbb8d=_0x39f25b[_0x329dd2];_0x4cbb8d&&(_0x4cbb8d['scopeId']||(_0x4cbb8d['scopeId']=_0x1bda51['scope']['resolve'](_0x329dd2)),_0x4cbb8d['scopeId']['setValue'](_0x4cbb8d['data']));}}['setDefine'](_0x49fcf2,_0x672070){let _0x429091=!(-0x2141*0x1+0xf50+0x11f2);const {defines:_0x5bde34}=this;_0x672070!==void(0x1ac0+-0x1c*-0xf8+-0x35e0)&&_0x672070!==!(0x3d0+0x8ae+-0xc7d*0x1)?(_0x429091=!_0x5bde34['has'](_0x49fcf2)||_0x5bde34['get'](_0x49fcf2)!==_0x672070,_0x5bde34['set'](_0x49fcf2,_0x672070)):(_0x429091=_0x5bde34['has'](_0x49fcf2),_0x5bde34['delete'](_0x49fcf2)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x429091);}['getDefine'](_0x300f65){return this['defines']['has'](_0x300f65);}['destroy'](){this['variants']['clear']();for(let _0x3a0344=0xc91+0x18*-0x10f+0xcd7;_0x3a0344<this['meshInstan'+'ces']['length'];_0x3a0344++){const _0x25aa0e=this['meshInstan'+'ces'][_0x3a0344];if(_0x25aa0e['clearShade'+'rs'](),_0x25aa0e['_material']=null,_0x25aa0e['mesh']){const _0x27b7f9=Qn(_0x25aa0e['mesh']['device']);this!==_0x27b7f9&&(_0x25aa0e['material']=_0x27b7f9);}else w['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=-0x57*-0x1+-0x3b+0x1*-0x1c;}['addMeshIns'+'tanceRef'](_0x3b5d16){this['meshInstan'+'ces']['push'](_0x3b5d16);}['removeMesh'+'InstanceRe'+'f'](_0x289563){const _0x3bf6e8=this['meshInstan'+'ces'],_0x4c6790=_0x3bf6e8['indexOf'](_0x289563);_0x4c6790!==-(0x1*0x1776+-0x12bf+-0x4b6)&&_0x3bf6e8['splice'](_0x4c6790,-0x3*0x173+-0x173e+-0x1*-0x1b98);}}class Ws{static['update'](_0x1babfb,_0x33d299,_0x3e875d,_0x4d56b6,_0xa9728c,_0x56e787,_0x3f52cc){Ws['updateShar'+'edOptions'](_0x1babfb,_0x33d299,_0x3e875d,_0xa9728c,_0x56e787),Ws['updateMate'+'rialOption'+'s'](_0x1babfb,_0x33d299),Ws['updateEnvO'+'ptions'](_0x1babfb,_0x33d299,_0x3e875d,_0x4d56b6),Ws['updateLigh'+'tingOption'+'s'](_0x1babfb,_0x33d299,_0x3e875d,_0xa9728c,_0x3f52cc);}static['updateShar'+'edOptions'](_0x33bf27,_0x4bf4a5,_0x12ff1f,_0x3eb6a0,_0x43cc7c){_0x33bf27['shaderChun'+'ks']=_0x4bf4a5['shaderChun'+'ks'],_0x33bf27['pass']=_0x43cc7c,_0x33bf27['alphaTest']=_0x4bf4a5['alphaTest']>-0x4f*-0x9+-0xee*0x2+-0xeb,_0x33bf27['blendType']=_0x4bf4a5['blendType'],_0x33bf27['screenSpac'+'e']=_0x3eb6a0&&(_0x3eb6a0&Eh)!==-0xb09+0x9*-0x279+0x10a5*0x2,_0x33bf27['skin']=_0x3eb6a0&&(_0x3eb6a0&nl)!==-0x59*-0x8+-0x1df*-0xe+0xe7d*-0x2,_0x33bf27['useInstanc'+'ing']=_0x3eb6a0&&(_0x3eb6a0&ol)!==0x1*-0xa61+0x4*-0x55c+-0x21f*-0xf,_0x33bf27['useMorphPo'+'sition']=_0x3eb6a0&&(_0x3eb6a0&ll)!==0x2*0x86e+-0x5e*-0x6a+-0x2ca*0x14,_0x33bf27['useMorphNo'+'rmal']=_0x3eb6a0&&(_0x3eb6a0&cl)!==-0x2*-0x12fe+0x11dd*0x2+0x172*-0x33,_0x33bf27['useMorphTe'+'xtureBased'+'Int']=_0x3eb6a0&&(_0x3eb6a0&hl)!==0x17e7+-0x56*0x50+0x2f9,_0x33bf27['hasTangent'+'s']=_0x3eb6a0&&(_0x3eb6a0&om)!==-0xf85*0x1+0x2b9*-0x5+-0x153*-0x16,_0x33bf27['nineSliced'+'Mode']=_0x4bf4a5['nineSliced'+'Mode']||ci,_0x4bf4a5['useLightin'+'g']&&_0x12ff1f['clusteredL'+'ightingEna'+'bled']?(_0x33bf27['clusteredL'+'ightingEna'+'bled']=!(0x1*0x1163+0x4cf*0x3+-0x1fd0),_0x33bf27['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x12ff1f['lighting']['cookiesEna'+'bled'],_0x33bf27['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x12ff1f['lighting']['shadowsEna'+'bled'],_0x33bf27['clusteredL'+'ightingSha'+'dowType']=_0x12ff1f['lighting']['shadowType'],_0x33bf27['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x12ff1f['lighting']['areaLights'+'Enabled']):(_0x33bf27['clusteredL'+'ightingEna'+'bled']=!(-0x1bf2+0x20a7*-0x1+0x2*0x1e4d),_0x33bf27['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(0x8*0x166+0x1d3f+-0x286e),_0x33bf27['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0x81c+0xfbf+-0x17da),_0x33bf27['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(-0x8fe*0x1+0x894+0x6b));}static['updateMate'+'rialOption'+'s'](_0x12186b,_0x445f5b){_0x12186b['separateAm'+'bient']=!(0x1f18+0x2*-0xf6a+0x1*-0x43),_0x12186b['pixelSnap']=_0x445f5b['pixelSnap'],_0x12186b['ambientSH']=_0x445f5b['ambientSH'],_0x12186b['twoSidedLi'+'ghting']=_0x445f5b['twoSidedLi'+'ghting'],_0x12186b['occludeDir'+'ect']=_0x445f5b['occludeDir'+'ect'],_0x12186b['occludeSpe'+'cular']=_0x445f5b['occludeSpe'+'cular'],_0x12186b['occludeSpe'+'cularFloat']=_0x445f5b['occludeSpe'+'cularInten'+'sity']!==-0x75a+0xcba*-0x2+0x20cf,_0x12186b['useMsdf']=!(-0xbd9+-0x994+0x156e*0x1),_0x12186b['msdfTextAt'+'tribute']=!(-0xba+0x4f*0x3b+-0x117a*0x1),_0x12186b['alphaToCov'+'erage']=_0x445f5b['alphaToCov'+'erage'],_0x12186b['opacityFad'+'esSpecular']=_0x445f5b['opacityFad'+'esSpecular'],_0x12186b['opacityDit'+'her']=_0x445f5b['opacityDit'+'her'],_0x12186b['cubeMapPro'+'jection']=tm,_0x12186b['useSpecula'+'r']=_0x445f5b['hasSpecula'+'r'],_0x12186b['useSpecula'+'rityFactor']=_0x445f5b['hasSpecula'+'rityFactor'],_0x12186b['enableGGXS'+'pecular']=_0x445f5b['ggxSpecula'+'r'],_0x12186b['fresnelMod'+'el']=_0x445f5b['fresnelMod'+'el'],_0x12186b['useRefract'+'ion']=_0x445f5b['hasRefract'+'ion'],_0x12186b['useClearCo'+'at']=_0x445f5b['hasClearCo'+'at'],_0x12186b['useSheen']=_0x445f5b['hasSheen'],_0x12186b['useIridesc'+'ence']=_0x445f5b['hasIrrides'+'cence'],_0x12186b['useMetalne'+'ss']=_0x445f5b['hasMetalne'+'ss'],_0x12186b['useDynamic'+'Refraction']=_0x445f5b['dynamicRef'+'raction'],_0x12186b['dispersion']=_0x445f5b['dispersion']>-0x230d*-0x1+0xa73*-0x2+-0x1*0xe27,_0x12186b['vertexColo'+'rs']=!(-0x185b+-0x10f*0x11+0x2a5b),_0x12186b['lightMapEn'+'abled']=_0x445f5b['hasLightin'+'g'],_0x12186b['dirLightMa'+'pEnabled']=_0x445f5b['dirLightMa'+'p'],_0x12186b['useHeights']=_0x445f5b['hasHeights'],_0x12186b['useNormals']=_0x445f5b['hasNormals'],_0x12186b['useClearCo'+'atNormals']=_0x445f5b['hasClearCo'+'atNormals'],_0x12186b['useAo']=_0x445f5b['hasAo'],_0x12186b['diffuseMap'+'Enabled']=_0x445f5b['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x1e19f6,_0x4afc11,_0x103e18,_0x1aab6d){_0x1e19f6['fog']=_0x4afc11['useFog']?_0x1aab6d['fog']:Kn,_0x1e19f6['gamma']=_0x1aab6d['shaderOutp'+'utGamma'],_0x1e19f6['toneMap']=_0x4afc11['useTonemap']?_0x1aab6d['toneMappin'+'g']:nv,_0x4afc11['useSkybox']&&_0x103e18['envAtlas']&&_0x103e18['skybox']?(_0x1e19f6['reflection'+'Source']=xh,_0x1e19f6['reflection'+'Encoding']=_0x103e18['envAtlas']['encoding'],_0x1e19f6['reflection'+'CubemapEnc'+'oding']=_0x103e18['skybox']['encoding']):_0x4afc11['useSkybox']&&_0x103e18['envAtlas']?(_0x1e19f6['reflection'+'Source']=vh,_0x1e19f6['reflection'+'Encoding']=_0x103e18['envAtlas']['encoding']):_0x4afc11['useSkybox']&&_0x103e18['skybox']?(_0x1e19f6['reflection'+'Source']=Th,_0x1e19f6['reflection'+'Encoding']=_0x103e18['skybox']['encoding']):(_0x1e19f6['reflection'+'Source']=vr,_0x1e19f6['reflection'+'Encoding']=null),_0x4afc11['ambientSH']?(_0x1e19f6['ambientSou'+'rce']=im,_0x1e19f6['ambientEnc'+'oding']=null):_0x1e19f6['reflection'+'Source']!==vr&&_0x103e18['envAtlas']?(_0x1e19f6['ambientSou'+'rce']=rm,_0x1e19f6['ambientEnc'+'oding']=_0x103e18['envAtlas']['encoding']):(_0x1e19f6['ambientSou'+'rce']=am,_0x1e19f6['ambientEnc'+'oding']=null);const _0x1ce870=_0x1e19f6['reflection'+'Source']!==vr;_0x1e19f6['skyboxInte'+'nsity']=_0x1ce870,_0x1e19f6['useCubeMap'+'Rotation']=_0x1ce870&&_0x103e18['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x35546d,_0x563617,_0x5a777e,_0xc8e6,_0x40bd46){if(_0x35546d['lightMapWi'+'thoutAmbie'+'nt']=!(-0x241e+-0x2*-0xa6f+-0x5*-0x30d),_0x563617['useLightin'+'g']){const _0x5720dd=[],_0x451a24=_0xc8e6?_0xc8e6>>0xb5c+-0x4ed+0xe9*-0x7:Ss;_0x35546d['lightMaskD'+'ynamic']=!!(_0x451a24&Ss),_0x35546d['lightMapWi'+'thoutAmbie'+'nt']=!(-0x17e1*-0x1+0x21db+-0x1*0x39bb),_0x40bd46&&(Ws['collectLig'+'hts'](ve,_0x40bd46[ve],_0x5720dd,_0x451a24),_0x5a777e['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0x40bd46[Ke],_0x5720dd,_0x451a24),Ws['collectLig'+'hts'](Ze,_0x40bd46[Ze],_0x5720dd,_0x451a24))),_0x35546d['lights']=_0x5720dd;}else _0x35546d['lights']=[];(_0x35546d['lights']['length']===-0x3*-0xaf3+0xcb5*-0x2+-0x76f&&!_0x5a777e['clusteredL'+'ightingEna'+'bled']||(_0xc8e6&wh)!==0xc1f*-0x3+0x207e+0x3df)&&(_0x35546d['noShadow']=!(0x19da+-0x2ef*0x7+-0x551));}static['collectLig'+'hts'](_0x4d42e2,_0x325278,_0x52f2b4,_0x3bdc20){for(let _0xb7e3c5=0x85e+0x1482+-0x1ce0;_0xb7e3c5<_0x325278['length'];_0xb7e3c5++){const _0x565f47=_0x325278[_0xb7e3c5];_0x565f47['enabled']&&_0x565f47['mask']&_0x3bdc20&&_0x52f2b4['push'](_0x565f47);}}}const G_=(_0x37fc6e,_0xaee8b2)=>{if(_0x37fc6e['length']!==_0xaee8b2['length'])return!(-0xf*0x1dd+0x1*0xa9+0x3*0x919);for(let _0x19b028=0xd41+0x19aa+-0x26eb;_0x19b028<_0x37fc6e['length'];++_0x19b028)if(_0x37fc6e[_0x19b028]!==_0xaee8b2[_0x19b028])return!(0x97*-0x19+-0x647+0x1*0x1507);return!(-0x2310+0xcef+0x203*0xb);},pb=_0x44febf=>_0x44febf['r']!==0x11ee+0x2196+-0x3383||_0x44febf['g']!==-0x11bf+-0x1d7*0x9+0x1*0x224f||_0x44febf['b']!==0x1eca+0x654+0x1*-0x251d,mb=_0xb7a7e9=>_0xb7a7e9['r']!==0x12d4+0x251b*-0x1+0x1247||_0xb7a7e9['g']!==0x1542+0xc8e+0x21d*-0x10||_0xb7a7e9['b']!==0x1d0a+0x1*-0x1104+-0xc06;class _b{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x10f9c4,_0x50bf22,_0x57aff3,_0x444fd0,_0x228ea3,_0x49daed){this['_updateSha'+'redOptions'](_0x10f9c4,_0x50bf22,_0x57aff3,_0x444fd0,_0x228ea3),this['_updateMin'+'Options'](_0x10f9c4,_0x57aff3,_0x228ea3),this['_updateUVO'+'ptions'](_0x10f9c4,_0x57aff3,_0x444fd0,!(-0x1*-0x13e4+-0x1910+0x52c));}['updateRef'](_0x36f921,_0x495d83,_0x3f3e63,_0x42a52f,_0x57f64c,_0x5332ff,_0xe8a360){this['_updateSha'+'redOptions'](_0x36f921,_0x495d83,_0x42a52f,_0x57f64c,_0x5332ff),this['_updateEnv'+'Options'](_0x36f921,_0x42a52f,_0x495d83,_0x3f3e63),this['_updateMat'+'erialOptio'+'ns'](_0x36f921,_0x42a52f,_0x495d83),_0x36f921['litOptions']['hasTangent'+'s']=_0x57f64c&&(_0x57f64c&om)!==-0x1736*0x1+-0x20f*-0x5+0xceb,this['_updateLig'+'htOptions'](_0x36f921,_0x495d83,_0x42a52f,_0x57f64c,_0xe8a360),this['_updateUVO'+'ptions'](_0x36f921,_0x42a52f,_0x57f64c,!(0x31*-0x92+-0x6b*0x13+0x23e4),_0x3f3e63);}['_updateSha'+'redOptions'](_0x10ce58,_0x44c8c8,_0xfb076a,_0x1fb917,_0x2ba242){_0x10ce58['forceUv1']=_0xfb076a['forceUv1'],_0xfb076a['userAttrib'+'utes']&&(_0x10ce58['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0xfb076a['userAttrib'+'utes']['entries']())),_0x10ce58['litOptions']['shaderChun'+'ks']=_0xfb076a['shaderChun'+'ks'],_0x10ce58['litOptions']['pass']=_0x2ba242,_0x10ce58['litOptions']['alphaTest']=_0xfb076a['alphaTest']>0x1bf6+0x231d+-0x3f13,_0x10ce58['litOptions']['blendType']=_0xfb076a['blendType'],_0x10ce58['litOptions']['screenSpac'+'e']=_0x1fb917&&(_0x1fb917&Eh)!==-0x16c3*-0x1+-0x12*0x146+-0x1*-0x29,_0x10ce58['litOptions']['skin']=_0x1fb917&&(_0x1fb917&nl)!==0x1f4+-0x1*0x1378+0x1184,_0x10ce58['litOptions']['batch']=_0x1fb917&&(_0x1fb917&qc)!==0x7*-0x30d+-0x21c1+0x371c,_0x10ce58['litOptions']['useInstanc'+'ing']=_0x1fb917&&(_0x1fb917&ol)!==-0x1*0xb7d+-0xfad+0x1b2a,_0x10ce58['litOptions']['useMorphPo'+'sition']=_0x1fb917&&(_0x1fb917&ll)!==-0x35c*-0xb+-0x1*0x1fc2+-0x46*0x13,_0x10ce58['litOptions']['useMorphNo'+'rmal']=_0x1fb917&&(_0x1fb917&cl)!==0xbca+0x7ea+-0x1a*0xc2,_0x10ce58['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x1fb917&&(_0x1fb917&hl)!==-0x1b48+-0x44*-0x23+0x11fc,_0x10ce58['litOptions']['nineSliced'+'Mode']=_0xfb076a['nineSliced'+'Mode']||0x2*-0x19+-0x21*-0x58+-0xb26,_0x44c8c8['clusteredL'+'ightingEna'+'bled']&&_0xfb076a['useLightin'+'g']?(_0x10ce58['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x25a*-0x5+-0xb*0x17+0xcbf),_0x10ce58['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x44c8c8['lighting']['cookiesEna'+'bled'],_0x10ce58['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x44c8c8['lighting']['shadowsEna'+'bled'],_0x10ce58['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x44c8c8['lighting']['shadowType'],_0x10ce58['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x44c8c8['lighting']['areaLights'+'Enabled']):(_0x10ce58['litOptions']['clusteredL'+'ightingEna'+'bled']=!(-0x242f*-0x1+-0x37c+-0x20b2),_0x10ce58['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(0xcdc+-0xcc7*0x3+0x6*0x43f),_0x10ce58['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x1d06+-0x3ad+-0x82d*-0x4),_0x10ce58['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x198c+0x153a+-0x2ec5));}['_updateUVO'+'ptions'](_0x34bf16,_0x4d13ce,_0x1dc501,_0x438be8,_0xfe0200){let _0x357a0f=!(0x5a+0x8ea+0x943*-0x1),_0x3f05fa=!(0x23c0+0xca+-0x2489),_0x1d3223=!(0x8f7+0x3*0x8b3+-0x230f);_0x1dc501&&(_0x357a0f=(_0x1dc501&nm)!==-0xff9+-0x19c*-0x17+-0x1*0x150b,_0x3f05fa=(_0x1dc501&dv)!==0x2*-0xe09+0x303*0x2+0x22*0xa6,_0x1d3223=(_0x1dc501&fv)!==0xb*0xcd+-0x1ba3+0x12d4),_0x34bf16['litOptions']['vertexColo'+'rs']=!(-0x16e*-0x13+0x1*0x237+-0x1d60),this['_mapXForms']=[];const _0x2b44c1={};for(const _0x1a29f7 in bn)this['_updateTex'+'Options'](_0x34bf16,_0x4d13ce,_0x1a29f7,_0x357a0f,_0x3f05fa,_0x1d3223,_0x438be8,_0x2b44c1);this['_mapXForms']=null,_0x34bf16['litOptions']['ssao']=_0xfe0200==null?void(0x1*0x989+0x1d3e+-0x26c7):_0xfe0200['ssaoEnable'+'d'],_0x34bf16['useAO']=_0x34bf16['litOptions']['ssao'],_0x34bf16['litOptions']['lightMapEn'+'abled']=_0x34bf16['lightMap'],_0x34bf16['litOptions']['dirLightMa'+'pEnabled']=_0x34bf16['dirLightMa'+'p'],_0x34bf16['litOptions']['useHeights']=_0x34bf16['heightMap'],_0x34bf16['litOptions']['useNormals']=_0x34bf16['normalMap'],_0x34bf16['litOptions']['useClearCo'+'atNormals']=_0x34bf16['clearCoatN'+'ormalMap'],_0x34bf16['litOptions']['useAo']=_0x34bf16['aoMap']||_0x34bf16['aoVertexCo'+'lor']||_0x34bf16['litOptions']['ssao'],_0x34bf16['litOptions']['diffuseMap'+'Enabled']=_0x34bf16['diffuseMap'];}['_updateTex'+'Options'](_0x5eb0ff,_0x343258,_0x7242f8,_0x535af5,_0x5c1f1f,_0x1ed3b9,_0x7d4732,_0x520996){const _0x263f2f=_0x7242f8==='opacity';if(!_0x7d4732||_0x263f2f){const _0x16bb9f=_0x7242f8+'Map',_0x31e2c6=_0x7242f8+('VertexColo'+'r'),_0x37e4d5=_0x7242f8+('VertexColo'+'rChannel'),_0x77c806=_0x16bb9f+'Channel',_0x3991f5=_0x16bb9f+'Transform',_0x1ef381=_0x16bb9f+'Uv',_0x2f8084=_0x16bb9f+'Identifier';if(_0x7242f8!=='light'&&(_0x5eb0ff[_0x16bb9f]=!(-0x95*0x1d+-0x2*0xcd8+-0x1549*-0x2),_0x5eb0ff[_0x2f8084]=void(-0x2bb+0x25*0x83+0x1034*-0x1),_0x5eb0ff[_0x77c806]='',_0x5eb0ff[_0x3991f5]=0x6*-0x407+-0x1368+-0x35a*-0xd,_0x5eb0ff[_0x1ef381]=0x1*0x12cd+-0xbaa*0x3+0x1031),_0x5eb0ff[_0x31e2c6]=!(-0x1721*0x1+0x1310+-0x412*-0x1),_0x5eb0ff[_0x37e4d5]='',_0x263f2f&&_0x343258['blendType']===Cs&&_0x343258['alphaTest']===-0x1832+-0x1a0b+-0x595*-0x9&&!_0x343258['alphaToCov'+'erage']&&_0x343258['opacityDit'+'her']===Sa)return;if(_0x7242f8!=='height'&&_0x343258[_0x31e2c6]&&_0x1ed3b9&&(_0x5eb0ff[_0x31e2c6]=_0x343258[_0x31e2c6],_0x5eb0ff[_0x37e4d5]=_0x343258[_0x37e4d5],_0x5eb0ff['litOptions']['vertexColo'+'rs']=!(-0x295*-0x1+-0x22c4+0x202f)),_0x343258[_0x16bb9f]){let _0x17424a=!(0xc31+-0x1751+-0x10*-0xb2);if(_0x343258[_0x1ef381]===-0x1fc+0x1*0x19e8+-0x17ec&&!_0x535af5&&(_0x17424a=!(-0x9*0x12b+-0x11b8+0x1c3c)),_0x343258[_0x1ef381]===0x191e+-0x2643+-0x42*-0x33&&!_0x5c1f1f&&(_0x17424a=!(-0x1*0xaaf+0x3*-0x4a0+0x1890)),_0x17424a){const _0x12033b=_0x343258[_0x16bb9f]['id'];let _0x5e3f41=_0x520996[_0x12033b];_0x5e3f41===void(-0x11*0x1c7+-0xda*-0x9+0xfb*0x17)&&(_0x520996[_0x12033b]=_0x7242f8,_0x5e3f41=_0x7242f8),_0x5eb0ff[_0x16bb9f]=!!_0x343258[_0x16bb9f],_0x5eb0ff[_0x2f8084]=_0x5e3f41,_0x5eb0ff[_0x3991f5]=this['_getMapTra'+'nsformID'](_0x343258['getUniform'](_0x3991f5),_0x343258[_0x1ef381]),_0x5eb0ff[_0x77c806]=_0x343258[_0x77c806],_0x5eb0ff[_0x1ef381]=_0x343258[_0x1ef381];}}}}['_updateMin'+'Options'](_0x57898b,_0x1e1f5a,_0x363b71){const _0x56a06c=_0x363b71===Rl;_0x57898b['litOptions']['opacitySha'+'dowDither']=_0x56a06c?_0x1e1f5a['opacityDit'+'her']:_0x1e1f5a['opacitySha'+'dowDither'],_0x57898b['litOptions']['linearDept'+'h']=_0x56a06c,_0x57898b['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x280406,_0x561b77,_0x188de2){var _0x4a7b1c,_0x2f3129,_0x134306,_0x1dadba,_0x4e4dd6,_0x14f037;const _0x459905=!!(_0x561b77['useMetalne'+'ss']||_0x561b77['specularMa'+'p']||_0x561b77['sphereMap']||_0x561b77['cubeMap']||mb(_0x561b77['specular'])||_0x561b77['specularit'+'yFactor']>0xc3e+0x2493*-0x1+0x1855*0x1&&_0x561b77['useMetalne'+'ss']||_0x561b77['enableGGXS'+'pecular']||_0x561b77['clearCoat']>-0x15bc+0x7*0x29d+0x1*0x371),_0x25f422=!_0x561b77['useMetalne'+'ss']||_0x561b77['useMetalne'+'ssSpecular'+'Color'],_0x469b02=_0x459905&&(_0x561b77['specularTi'+'nt']||!_0x561b77['specularMa'+'p']&&!_0x561b77['specularVe'+'rtexColor'])&&pb(_0x561b77['specular']),_0x360416=_0x459905&&_0x561b77['useMetalne'+'ssSpecular'+'Color']&&(_0x561b77['specularit'+'yFactorTin'+'t']||_0x561b77['specularit'+'yFactor']<-0x71f*0x1+-0x1ccf+0x23ef&&!_0x561b77['specularit'+'yFactorMap']),_0x397d2b=_0x1da5e4=>_0x1da5e4?_0x1da5e4['format']===vl||_0x1da5e4['type']===Jo:!(0x1f1e+0xa6*0x8+-0x1*0x244d),_0x28892c=(_0x5a4d1b,_0x40fa56)=>Math['abs'](_0x5a4d1b-_0x40fa56)<0x9aa+0x25c9+-0x2f73+0.0001;_0x280406['specularTi'+'nt']=_0x469b02,_0x280406['specularit'+'yFactorTin'+'t']=_0x360416,_0x280406['metalnessT'+'int']=_0x561b77['useMetalne'+'ss']&&_0x561b77['metalness']<-0x2e5+-0x5*-0x2c1+-0xfd*0xb,_0x280406['glossTint']=!(0x160d+0x61*-0x4f+-0x1*-0x7e2),_0x280406['diffuseEnc'+'oding']=(_0x4a7b1c=_0x561b77['diffuseMap'])==null?void(-0xe5*-0x1f+-0x18c4*0x1+0x1*-0x2f7):_0x4a7b1c['encoding'],_0x280406['diffuseDet'+'ailEncodin'+'g']=(_0x2f3129=_0x561b77['diffuseDet'+'ailMap'])==null?void(-0x14*-0x1be+-0x164b+-0xc8d):_0x2f3129['encoding'],_0x280406['emissiveEn'+'coding']=(_0x134306=_0x561b77['emissiveMa'+'p'])==null?void(-0x6*-0x337+0xb33+-0x1e7d):_0x134306['encoding'],_0x280406['lightMapEn'+'coding']=(_0x1dadba=_0x561b77['lightMap'])==null?void(-0x341+-0x1532+0xb*0x239):_0x1dadba['encoding'],_0x280406['packedNorm'+'al']=_0x397d2b(_0x561b77['normalMap']),_0x280406['refraction'+'Tint']=_0x28892c(_0x561b77['refraction'],0x533*0x1+-0x1120+-0x2*-0x5f7),_0x280406['refraction'+'IndexTint']=_0x28892c(_0x561b77['refraction'+'Index'],(-0xfda*-0x1+0x10d8+-0x20b1)/(0x1*-0x1b37+0x6*0x100+0x7*0x308+0.5)),_0x280406['thicknessT'+'int']=_0x561b77['useDynamic'+'Refraction']&&_0x561b77['thickness']!==-0x1bc*0x15+0x458*0x2+0x1bbd,_0x280406['specularEn'+'coding']=(_0x4e4dd6=_0x561b77['specularMa'+'p'])==null?void(0x6*0x20b+-0xc57+0x15):_0x4e4dd6['encoding'],_0x280406['sheenEncod'+'ing']=(_0x14f037=_0x561b77['sheenMap'])==null?void(-0x8e6*0x4+0x21*0xc2+0x10f*0xa):_0x14f037['encoding'],_0x280406['aoMapUv']=_0x561b77['aoUvSet'],_0x280406['aoDetail']=!!_0x561b77['aoDetailMa'+'p'],_0x280406['diffuseDet'+'ail']=!!_0x561b77['diffuseDet'+'ailMap'],_0x280406['normalDeta'+'il']=!!_0x561b77['normalMap'],_0x280406['normalDeta'+'ilPackedNo'+'rmal']=_0x397d2b(_0x561b77['normalDeta'+'ilMap']),_0x280406['diffuseDet'+'ailMode']=_0x561b77['diffuseDet'+'ailMode'],_0x280406['aoDetailMo'+'de']=_0x561b77['aoDetailMo'+'de'],_0x280406['clearCoatG'+'loss']=!!_0x561b77['clearCoatG'+'loss'],_0x280406['clearCoatP'+'ackedNorma'+'l']=_0x397d2b(_0x561b77['clearCoatN'+'ormalMap']),_0x280406['iorTint']=_0x28892c(_0x561b77['refraction'+'Index'],(0x2038+0x2591+-0x4fc*0xe)/(0x18bf*0x1+-0x1*0x20ae+-0x4*-0x1fc+0.5)),_0x188de2['forcePassT'+'hroughSpec'+'ular']&&(_0x280406['specularEn'+'coding']='linear',_0x280406['sheenEncod'+'ing']='linear'),_0x280406['iridescenc'+'eTint']=_0x561b77['iridescenc'+'e']!==0x7ec+-0x1*0x1b83+0xe4*0x16,_0x280406['glossInver'+'t']=_0x561b77['glossInver'+'t'],_0x280406['sheenGloss'+'Invert']=_0x561b77['sheenGloss'+'Invert'],_0x280406['clearCoatG'+'lossInvert']=_0x561b77['clearCoatG'+'lossInvert'],_0x280406['useSpecula'+'rColor']=_0x25f422,_0x280406['litOptions']['separateAm'+'bient']=!(-0x3*-0xac9+-0x13c+-0x1f1e),_0x280406['litOptions']['pixelSnap']=_0x561b77['pixelSnap'],_0x280406['litOptions']['ambientSH']=!!_0x561b77['ambientSH'],_0x280406['litOptions']['twoSidedLi'+'ghting']=_0x561b77['twoSidedLi'+'ghting'],_0x280406['litOptions']['occludeSpe'+'cular']=_0x561b77['occludeSpe'+'cular'],_0x280406['litOptions']['occludeSpe'+'cularFloat']=_0x561b77['occludeSpe'+'cularInten'+'sity']!==0x1d*-0x4b+-0x28d+-0x3af*-0x3,_0x280406['litOptions']['useMsdf']=!!_0x561b77['msdfMap'],_0x280406['litOptions']['msdfTextAt'+'tribute']=!!_0x561b77['msdfTextAt'+'tribute'],_0x280406['litOptions']['alphaToCov'+'erage']=_0x561b77['alphaToCov'+'erage'],_0x280406['litOptions']['opacityFad'+'esSpecular']=_0x561b77['opacityFad'+'esSpecular'],_0x280406['litOptions']['opacityDit'+'her']=_0x561b77['opacityDit'+'her'],_0x280406['litOptions']['cubeMapPro'+'jection']=_0x561b77['cubeMapPro'+'jection'],_0x280406['litOptions']['occludeDir'+'ect']=_0x561b77['occludeDir'+'ect'],_0x280406['litOptions']['useSpecula'+'r']=_0x459905,_0x280406['litOptions']['useSpecula'+'rityFactor']=(_0x360416||!!_0x561b77['specularit'+'yFactorMap'])&&_0x561b77['useMetalne'+'ssSpecular'+'Color'],_0x280406['litOptions']['enableGGXS'+'pecular']=_0x561b77['enableGGXS'+'pecular'],_0x280406['litOptions']['fresnelMod'+'el']=_0x561b77['fresnelMod'+'el'],_0x280406['litOptions']['useRefract'+'ion']=(_0x561b77['refraction']||!!_0x561b77['refraction'+'Map'])&&(_0x561b77['useDynamic'+'Refraction']||_0x280406['litOptions']['reflection'+'Source']!==vr),_0x280406['litOptions']['useClearCo'+'at']=!!_0x561b77['clearCoat'],_0x280406['litOptions']['useSheen']=_0x561b77['useSheen'],_0x280406['litOptions']['useIridesc'+'ence']=_0x561b77['useIridesc'+'ence']&&_0x561b77['iridescenc'+'e']!==-0x197*0x5+0x1498+0x1*-0xca5,_0x280406['litOptions']['useMetalne'+'ss']=_0x561b77['useMetalne'+'ss'],_0x280406['litOptions']['useDynamic'+'Refraction']=_0x561b77['useDynamic'+'Refraction'],_0x280406['litOptions']['dispersion']=_0x561b77['dispersion']>0xd62+-0x73+-0xcef,_0x280406['litOptions']['shadowCatc'+'her']=_0x561b77['shadowCatc'+'her'];}['_updateEnv'+'Options'](_0x5eddb1,_0x11071f,_0x17505b,_0xdca6fc){_0x5eddb1['litOptions']['fog']=_0x11071f['useFog']?_0xdca6fc['fog']:Kn,_0x5eddb1['litOptions']['gamma']=_0xdca6fc['shaderOutp'+'utGamma'],_0x5eddb1['litOptions']['toneMap']=_0x11071f['useTonemap']?_0xdca6fc['toneMappin'+'g']:nv;let _0xf0bab2=!(0x179d+-0x1*0x1a45+0x1*0x2a9);if(_0x11071f['envAtlas']&&_0x11071f['cubeMap']?(_0x5eddb1['litOptions']['reflection'+'Source']=xh,_0x5eddb1['litOptions']['reflection'+'Encoding']=_0x11071f['envAtlas']['encoding'],_0x5eddb1['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x11071f['cubeMap']['encoding']):_0x11071f['envAtlas']?(_0x5eddb1['litOptions']['reflection'+'Source']=vh,_0x5eddb1['litOptions']['reflection'+'Encoding']=_0x11071f['envAtlas']['encoding']):_0x11071f['cubeMap']?(_0x5eddb1['litOptions']['reflection'+'Source']=Th,_0x5eddb1['litOptions']['reflection'+'Encoding']=_0x11071f['cubeMap']['encoding']):_0x11071f['sphereMap']?(_0x5eddb1['litOptions']['reflection'+'Source']=hv,_0x5eddb1['litOptions']['reflection'+'Encoding']=_0x11071f['sphereMap']['encoding']):_0x11071f['useSkybox']&&_0x17505b['envAtlas']&&_0x17505b['skybox']?(_0x5eddb1['litOptions']['reflection'+'Source']=xh,_0x5eddb1['litOptions']['reflection'+'Encoding']=_0x17505b['envAtlas']['encoding'],_0x5eddb1['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x17505b['skybox']['encoding'],_0xf0bab2=!(0x1056+0x5*0x37a+-0x21b8)):_0x11071f['useSkybox']&&_0x17505b['envAtlas']?(_0x5eddb1['litOptions']['reflection'+'Source']=vh,_0x5eddb1['litOptions']['reflection'+'Encoding']=_0x17505b['envAtlas']['encoding'],_0xf0bab2=!(0x175e+0xf87+-0x26e5)):_0x11071f['useSkybox']&&_0x17505b['skybox']?(_0x5eddb1['litOptions']['reflection'+'Source']=Th,_0x5eddb1['litOptions']['reflection'+'Encoding']=_0x17505b['skybox']['encoding'],_0xf0bab2=!(-0x13ba+0x1165*0x1+0x255)):(_0x5eddb1['litOptions']['reflection'+'Source']=vr,_0x5eddb1['litOptions']['reflection'+'Encoding']=null),_0x11071f['ambientSH'])_0x5eddb1['litOptions']['ambientSou'+'rce']=im,_0x5eddb1['litOptions']['ambientEnc'+'oding']=null;else{const _0x662032=_0x11071f['envAtlas']||(_0x11071f['useSkybox']&&_0x17505b['envAtlas']?_0x17505b['envAtlas']:null);_0x662032&&!_0x11071f['sphereMap']?(_0x5eddb1['litOptions']['ambientSou'+'rce']=rm,_0x5eddb1['litOptions']['ambientEnc'+'oding']=_0x662032['encoding']):(_0x5eddb1['litOptions']['ambientSou'+'rce']=am,_0x5eddb1['litOptions']['ambientEnc'+'oding']=null);}_0x5eddb1['litOptions']['skyboxInte'+'nsity']=_0xf0bab2,_0x5eddb1['litOptions']['useCubeMap'+'Rotation']=_0xf0bab2&&_0x17505b['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x114425,_0x2982b3,_0x5878b1,_0x171675,_0x50ff6b){if(_0x114425['lightMap']=!(0x53c+0x7fa*-0x1+-0x13*-0x25),_0x114425['lightMapCh'+'annel']='',_0x114425['lightMapUv']=0x1775+0xab*0x26+-0x30d7,_0x114425['lightMapTr'+'ansform']=0x10b9+0x1a4c+-0x2b05,_0x114425['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x1f*-0x3f+0x94e*0x1+-0x1ac),_0x114425['dirLightMa'+'p']=!(-0x22c4+-0x1c97*-0x1+-0xe2*-0x7),_0x171675&&(_0x114425['litOptions']['noShadow']=(_0x171675&wh)!==0xa93*-0x2+0xa00+0xb26,(_0x171675&ou)!==-0x53*-0x65+0x63*-0x22+-0x1*0x1399&&(_0x114425['lightMapEn'+'coding']=_0x2982b3['lightmapPi'+'xelFormat']===Ne?'rgbm':'linear',_0x114425['lightMap']=!(-0x1718+-0x12d1+-0x29e9*-0x1),_0x114425['lightMapCh'+'annel']='rgb',_0x114425['lightMapUv']=0xdcf+-0x20dd+0x130f,_0x114425['lightMapTr'+'ansform']=-0x3*-0x541+-0x1165+-0x2*-0xd1,_0x114425['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x5878b1['lightMap'],(_0x171675&uv)!==0x259*0x1+0x1f8f+-0x21e8&&(_0x114425['dirLightMa'+'p']=!(-0xa99*0x3+0x25ad+0x6*-0xfb)),(_0x171675&pv)!==0x1a1a+-0x33e*0xb+0x330*0x3&&(_0x114425['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0xa*-0x305+-0x1*0xe32+-0xfff)))),_0x5878b1['useLightin'+'g']){const _0x5e9123=[],_0x1212c3=_0x171675?_0x171675>>-0x1*0x1bd2+-0xbf4+0x27d6:Ss;_0x114425['litOptions']['lightMaskD'+'ynamic']=!!(_0x1212c3&Ss),_0x50ff6b&&(Ws['collectLig'+'hts'](ve,_0x50ff6b[ve],_0x5e9123,_0x1212c3),_0x2982b3['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0x50ff6b[Ke],_0x5e9123,_0x1212c3),Ws['collectLig'+'hts'](Ze,_0x50ff6b[Ze],_0x5e9123,_0x1212c3))),_0x114425['litOptions']['lights']=_0x5e9123;}else _0x114425['litOptions']['lights']=[];_0x114425['litOptions']['lights']['length']===0x1119+0x1778*-0x1+0x65f*0x1&&!_0x2982b3['clusteredL'+'ightingEna'+'bled']&&(_0x114425['litOptions']['noShadow']=!(-0x3a4+0x1*0x220f+-0x1e6b));}['_getMapTra'+'nsformID'](_0x468c48,_0x55c4a0){if(!_0x468c48)return-0xd*-0x274+-0x1039+-0x539*0x3;let _0x56d0cb=this['_mapXForms'][_0x55c4a0];_0x56d0cb||(_0x56d0cb=[],this['_mapXForms'][_0x55c4a0]=_0x56d0cb);for(let _0x432596=-0x1*-0xed6+-0x174a+0x874;_0x432596<_0x56d0cb['length'];_0x432596++)if(G_(_0x56d0cb[_0x432596][-0x103e+-0x26*-0x7c+0x115*-0x2]['value'],_0x468c48[0x6e2*0x3+-0xdfc+0x2*-0x355]['value'])&&G_(_0x56d0cb[_0x432596][-0x14e+0xfb*0x9+0x4*-0x1e1]['value'],_0x468c48[0x99*-0x9+-0x7a6*0x5+0x8*0x574]['value']))return _0x432596+(-0xc5e*0x1+-0x10*0x83+0x115*0x13);return _0x56d0cb['push'](_0x468c48);}}function rt(_0x5f26e0,_0x44acbe=!(0x1ee*-0x3+-0x11*-0x10+0x37*0x16),_0x3a0eb9=!(-0x2*-0x1009+-0x2070+0x5e)){const _0x184c5b={};return _0x184c5b[_0x5f26e0+'Map']='texture',_0x184c5b[_0x5f26e0+'MapTiling']='vec2',_0x184c5b[_0x5f26e0+'MapOffset']='vec2',_0x184c5b[_0x5f26e0+('MapRotatio'+'n')]='number',_0x184c5b[_0x5f26e0+'MapUv']='number',_0x44acbe&&(_0x184c5b[_0x5f26e0+'MapChannel']='string',_0x3a0eb9&&(_0x184c5b[_0x5f26e0+('VertexColo'+'r')]='boolean',_0x184c5b[_0x5f26e0+('VertexColo'+'rChannel')]='string')),_0x184c5b;}const $n={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...rt('ao'),...rt('aoDetail',!(-0x2527+0x234f+0x1d8),!(0x774*-0x2+-0x948+-0x1831*-0x1)),'aoDetailMode':'string','aoIntensity':'number','diffuse':'rgb',...rt('diffuse'),...rt('diffuseDet'+'ail',!(0x6ca*0x4+0x16c*-0x17+0x58c*0x1),!(0x41f*0x2+-0x1*-0x1a4d+0x1*-0x228a)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...rt('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...rt('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','metalnessTint':'boolean',...rt('metalness'),'useMetalnessSpecularColor':'boolean','anisotropyIntensity':'number','anisotropyRotation':'number',...rt('anisotropy'),'shininess':'number','gloss':'number','glossInvert':'boolean',...rt('gloss'),'clearCoat':'number',...rt('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...rt('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...rt('clearCoatN'+'ormal',!(-0x1891+0x258f+-0xcfd)),'useSheen':'boolean','sheen':'rgb',...rt('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...rt('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...rt('emissive'),'emissiveIntensity':'number',...rt('normal',!(-0x102c+-0x913+0x1940)),'bumpiness':'number',...rt('normalDeta'+'il',!(-0x185f+-0x4a*0x70+0x38c0)),'normalDetailMapBumpiness':'number',...rt('height',!(-0x47*-0x6b+-0x23e8+0x5*0x13f),!(0x1df*0x11+0x2014+-0x3fe2)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...rt('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...rt('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...rt('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...rt('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...rt('iridescenc'+'eThickness'),...rt('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean','shadowCatcher':'boolean'},Cd=[];for(const l in $n)$n[l]==='texture'&&Cd['push'](l);const fm=[];for(const l in $n)$n[l]==='cubemap'&&fm['push'](l);const gb={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean','anisotropy':'boolean'},Kc={},bv={};let no=new Set();const oc=new ie();class Ut extends tr{constructor(){super(),h(this,'userAttrib'+'utes',new Map()),h(this,'onUpdateSh'+'ader'),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new _b(),this['reset']());}['reset'](){Object['keys'](Kc)['forEach'](_0x2eaa45=>{this['_'+_0x2eaa45]=Kc[_0x2eaa45]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x17e3ec){return super['copy'](_0x17e3ec),Object['keys'](Kc)['forEach'](_0x81a639=>{this[_0x81a639]=_0x17e3ec[_0x81a639];}),this['userAttrib'+'utes']=new Map(_0x17e3ec['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0xed71a0,_0x2e3d2d){this['userAttrib'+'utes']['set'](_0x2e3d2d,_0xed71a0);}['_setParame'+'ter'](_0x6fa064,_0x56a3ee){no['add'](_0x6fa064),this['setParamet'+'er'](_0x6fa064,_0x56a3ee);}['_setParame'+'ters'](_0x4f512c){_0x4f512c['forEach'](_0x226eb4=>{this['_setParame'+'ter'](_0x226eb4['name'],_0x226eb4['value']);});}['_processPa'+'rameters'](_0x201c04){const _0x9cc38c=this[_0x201c04];_0x9cc38c['forEach'](_0xc475ca=>{no['has'](_0xc475ca)||delete this['parameters'][_0xc475ca];}),this[_0x201c04]=no,no=_0x9cc38c,no['clear']();}['_updateMap'](_0x4203bd){const _0x43ca2e=_0x4203bd+'Map',_0x2390e8=this[_0x43ca2e];if(_0x2390e8){this['_setParame'+'ter']('texture_'+_0x43ca2e,_0x2390e8);const _0x4b7e88=_0x43ca2e+'Transform',_0x2f64b1=this['getUniform'](_0x4b7e88);_0x2f64b1&&this['_setParame'+'ters'](_0x2f64b1);}}['_allocUnif'+'orm'](_0x5834dc,_0x4099cb){let _0x382c3b=this['_uniformCa'+'che'][_0x5834dc];return _0x382c3b||(_0x382c3b=_0x4099cb(),this['_uniformCa'+'che'][_0x5834dc]=_0x382c3b),_0x382c3b;}['getUniform'](_0x1a4a4c,_0x5992d6,_0x541676){return bv[_0x1a4a4c](this,_0x5992d6,_0x541676);}['updateUnif'+'orms'](_0x26569c,_0x429406){const _0x5bc053=_0x7756bb=>this['getUniform'](_0x7756bb,_0x26569c,_0x429406);this['_setParame'+'ter']('material_a'+'mbient',_0x5bc053('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x5bc053('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<0x799*0x1+-0x214b+-0x19b3*-0x1)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x5bc053('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x5bc053('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x5bc053('specular')),this['enableGGXS'+'pecular']&&(this['_setParame'+'ter']('material_a'+'nisotropyI'+'ntensity',this['anisotropy'+'Intensity']),this['_setParame'+'ter']('material_a'+'nisotropyR'+'otation',[Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']),Math['sin'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD'])])),this['clearCoat']>0x3*0x31f+0x31*0xc4+-0x2ee1&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),w['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===-0x130*-0x9+0x13b1+-0x7*0x457&&this['emissive']['g']===-0x34c+-0x996+0xce2&&this['emissive']['b']===0x6b*-0x11+0x12*0xe3+-0x8db&&w['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+Q['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x5bc053('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>0x1*-0x1233+-0x55*0xb+0xaed*0x2&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>0x1a4+-0xc23+-0xa7f*-0x1&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x5bc053('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===0x14*0x10+-0x1f0d+0x1dcd?-0xcca+-0x1ac2+0x278c:(-0x17e8+-0xf26+-0xd05*-0x3)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(0x95*-0x16+-0x25f9+0x32c8)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===av&&this['_setParame'+'ter'](_0x5bc053('cubeMapPro'+'jectionBox'));for(const _0x4fd9de in bn)this['_updateMap'](_0x4fd9de);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x5bc053('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x26569c,_0x429406);}['updateEnvU'+'niforms'](_0x2c360d,_0x542007){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x542007['envAtlas']&&_0x542007['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x542007['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x542007['skybox'])):_0x542007['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x542007['envAtlas']):_0x542007['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x542007['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0x52fab7){const {device:_0x38324b,scene:_0x3a268b,pass:_0x43566c,objDefs:_0x4df239,sortedLights:_0x40bb89,cameraShaderParams:_0x5425c8}=_0x52fab7;this['updateEnvU'+'niforms'](_0x38324b,_0x3a268b);const _0x278856=Si['get'](_0x38324b)['getByIndex'](_0x43566c),_0x346850=_0x43566c===Zn||_0x43566c===Rl||_0x278856['isShadow'];let _0x17acbd=_0x346850?Jd['optionsCon'+'textMin']:Jd['optionsCon'+'text'];_0x17acbd['defines']=$t['getCoreDef'+'ines'](this,_0x52fab7),_0x346850?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x17acbd,_0x3a268b,this,_0x4df239,_0x43566c,_0x40bb89):this['shaderOptB'+'uilder']['updateRef'](_0x17acbd,_0x3a268b,_0x5425c8,this,_0x4df239,_0x43566c,_0x40bb89),this['useFog']||_0x17acbd['defines']['set']('FOG','NONE'),_0x17acbd['defines']['set']('TONEMAP',ov[_0x17acbd['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x17acbd=this['onUpdateSh'+'ader'](_0x17acbd));const _0x5c1512=new Ad(_0x52fab7['viewUnifor'+'mFormat'],_0x52fab7['viewBindGr'+'oupFormat'],_0x52fab7['vertexForm'+'at']),_0x10f13a=Hn(_0x38324b);_0x10f13a['register']('standard',Jd);const _0x217706=_0x10f13a['getProgram']('standard',_0x17acbd,_0x5c1512,this['userId']);return this['_dirtyShad'+'er']=!(0x1e1*0xd+-0x1c79+0x40d),_0x217706;}['destroy'](){for(const _0x3d142e in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x3d142e]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}h(Ut,'TEXTURE_PA'+'RAMETERS',Cd),h(Ut,'CUBEMAP_PA'+'RAMETERS',fm);const Pd=(_0x3ebc8a,_0x6a11a7)=>{bv[_0x3ebc8a]=_0x6a11a7;},um=(_0x55faf1,_0x2fdad1,_0x444081,_0x200801)=>{Object['defineProp'+'erty'](Ut['prototype'],_0x55faf1,{'get':_0x200801||function(){return this['_'+_0x55faf1];},'set':_0x444081}),Kc[_0x55faf1]={'value':_0x2fdad1};},Sb=_0x17e012=>{const _0x1dbbd9='_'+_0x17e012['name'],_0x4a2575=_0x17e012['dirtyShade'+'rFunc']||(()=>!(0x119b*0x1+0xe62+0x1*-0x1ffd)),_0x41a93f=function(_0x4a35ef){const _0x1ed987=this[_0x1dbbd9];_0x1ed987!==_0x4a35ef&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x4a2575(_0x1ed987,_0x4a35ef),this[_0x1dbbd9]=_0x4a35ef);};um(_0x17e012['name'],()=>_0x17e012['defaultVal'+'ue'],_0x41a93f,_0x17e012['getterFunc']);},yb=_0x44b6d9=>{const _0xcee0d6='_'+_0x44b6d9['name'],_0x39ecc2=_0x44b6d9['dirtyShade'+'rFunc']||(()=>!(0x154*-0x3+-0x26*-0x81+-0x6*0x287)),_0x49def0=function(_0x3b6c9a){const _0xb02589=this[_0xcee0d6];_0xb02589['equals'](_0x3b6c9a)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x39ecc2(_0xb02589,_0x3b6c9a),this[_0xcee0d6]=_0xb02589['copy'](_0x3b6c9a));};um(_0x44b6d9['name'],()=>_0x44b6d9['defaultVal'+'ue']['clone'](),_0x49def0,_0x44b6d9['getterFunc']);},Es=_0x2476b0=>_0x2476b0['defaultVal'+'ue']&&_0x2476b0['defaultVal'+'ue']['clone']?yb(_0x2476b0):Sb(_0x2476b0);function et(_0x51a034,_0x10aa03='rgb',_0x5774b6=!(0xa0a+0x211c+0x315*-0xe),_0x85f513=0x256f+-0x3f*0x17+-0x1fc6){bn[_0x51a034]=_0x10aa03['length']||-(-0x977+-0x17*0x1a+0xbce),Es({'name':_0x51a034+'Map','defaultValue':null,'dirtyShaderFunc':(_0x19dac3,_0x389e4b)=>!!_0x19dac3!=!!_0x389e4b||_0x19dac3&&(_0x19dac3['type']!==_0x389e4b['type']||_0x19dac3['format']!==_0x389e4b['format'])}),Es({'name':_0x51a034+'MapTiling','defaultValue':new J(-0x5*0x66d+0x15f5+0x5*0x209,0x42d*-0x7+0xec+-0x97*-0x30)}),Es({'name':_0x51a034+'MapOffset','defaultValue':new J(-0x1*-0x14b8+0xf95+-0x244d,-0x213d+0x2140+0x1*-0x3)}),Es({'name':_0x51a034+('MapRotatio'+'n'),'defaultValue':0x0}),Es({'name':_0x51a034+'MapUv','defaultValue':_0x85f513}),_0x10aa03&&(Es({'name':_0x51a034+'MapChannel','defaultValue':_0x10aa03}),_0x5774b6&&(Es({'name':_0x51a034+('VertexColo'+'r'),'defaultValue':!(0x1*-0x1246+0x356+-0x2d*-0x55)}),Es({'name':_0x51a034+('VertexColo'+'rChannel'),'defaultValue':_0x10aa03})));const _0x324df7=_0x51a034+'MapTiling',_0x3af1a1=_0x51a034+'MapOffset',_0x3420d3=_0x51a034+('MapRotatio'+'n'),_0x1ce6c2=_0x51a034+('MapTransfo'+'rm');Pd(_0x1ce6c2,(_0x1e5b19,_0x244b49,_0xabb44c)=>{const _0x21828e=_0x1e5b19[_0x324df7],_0x3d01a3=_0x1e5b19[_0x3af1a1],_0x267557=_0x1e5b19[_0x3420d3];if(_0x21828e['x']===0x1*-0x1849+-0x13d*0x2+0x1ac4&&_0x21828e['y']===0x5*-0x3ad+0x1b33+0x3d*-0x25&&_0x3d01a3['x']===0x1f8+0x1924+-0x1b1c&&_0x3d01a3['y']===-0x1*-0x12c2+-0x1*0x173+0x114f*-0x1&&_0x267557===0x553*0x2+0x2508+-0x2fae*0x1)return null;const _0x4154aa=_0x1e5b19['_allocUnif'+'orm'](_0x1ce6c2,()=>[{'name':'texture_'+_0x1ce6c2+'0','value':new Float32Array(0x80*0xb+-0x1a*-0x95+0x1*-0x149f)},{'name':'texture_'+_0x1ce6c2+'1','value':new Float32Array(0x7b*-0x2e+-0x7f7+-0x6e*-0x46)}]),_0x2f03d7=Math['cos'](_0x267557*Y['DEG_TO_RAD']),_0x43ffe0=Math['sin'](_0x267557*Y['DEG_TO_RAD']),_0x25f898=_0x4154aa[-0xa0f*0x1+0xd8e+0x1*-0x37f]['value'];_0x25f898[-0x43b+0x1501+-0x10c6]=_0x2f03d7*_0x21828e['x'],_0x25f898[0x5a+0x20db+-0x2134]=-_0x43ffe0*_0x21828e['y'],_0x25f898[0x41f+-0x14c2+0x1*0x10a5]=_0x3d01a3['x'];const _0xc163d=_0x4154aa[0x1526+-0x17*0x3a+-0xfef]['value'];return _0xc163d[0xfef*0x2+-0x1*-0x113e+0xe*-0x382]=_0x43ffe0*_0x21828e['x'],_0xc163d[0x389*-0x3+-0x2348+0x2de4]=_0x2f03d7*_0x21828e['y'],_0xc163d[-0x1acc*-0x1+0x25*0xc4+-0x371e]=0x170d*0x1+-0x21ab+0xa9f-_0x21828e['y']-_0x3d01a3['y'],_0x4154aa;});}function Ra(_0x38e0d0,_0x33ff78){Es({'name':_0x38e0d0,'defaultValue':_0x33ff78,'getterFunc':function(){return this['_dirtyShad'+'er']=!(0x2244+0x1*-0x21c7+-0x7d*0x1),this['_'+_0x38e0d0];}}),Pd(_0x38e0d0,(_0xb9d8a1,_0x1cc959,_0x3a3e58)=>{const _0x58e761=_0xb9d8a1['_allocUnif'+'orm'](_0x38e0d0,()=>new Float32Array(0x8*0x33f+0x10*0xf6+-0x2955)),_0x4814c7=_0xb9d8a1[_0x38e0d0];return oc['linear'](_0x4814c7),_0x58e761[-0xb21+-0xbc9*0x1+-0x1a3*-0xe]=oc['r'],_0x58e761[-0x2327*0x1+0x13b5+0xf73]=oc['g'],_0x58e761[0x10*0x95+0x1*-0x15bb+0xc6d]=oc['b'],_0x58e761;});}function ze(_0x33bfeb,_0x5f0388,_0xf15ee8){Es({'name':_0x33bfeb,'defaultValue':_0x5f0388,'dirtyShaderFunc':(_0xedf9c9,_0x2d2c20)=>(_0xedf9c9===-0x1*-0x147+-0x1f*-0x12b+-0x257c||_0xedf9c9===0x10d6*-0x2+0x21a8+0x1*0x5)!=(_0x2d2c20===0x6cb+0x2fd+0x9c8*-0x1||_0x2d2c20===0x63f+0x86e+-0x3ab*0x4)}),Pd(_0x33bfeb,_0xf15ee8);}function oo(_0x4ff23b,_0x3fd48f){Es({'name':_0x4ff23b,'defaultValue':null,'dirtyShaderFunc':(_0x3b84af,_0xc85ce6)=>!!_0x3b84af==!!_0xc85ce6}),Pd(_0x4ff23b,_0x3fd48f);}function ke(_0x1c2039,_0x4652c9){Es({'name':_0x1c2039,'defaultValue':_0x4652c9});}function vb(){Ra('ambient',new ie(-0x14de*-0x1+-0x249f+0xfc2,0x1349+-0x2*-0x127b+-0x383e,-0x2*-0xe81+-0x10*-0x19c+-0x83*0x6b)),Ra('diffuse',new ie(0x1e67+-0x1c0b+-0x25b,0x16d3+-0x21d3+-0x3ab*-0x3,0x416*-0x5+-0xd0*-0x3+0x11*0x10f)),Ra('specular',new ie(0x444+0x2516+-0x295a,0x6*0x33b+0x1914+0x3*-0xed2,0x15f+-0x9e6+-0x3b*-0x25)),Ra('emissive',new ie(0x1*0x1fe7+0x2*0x10a1+-0x4129,0x1*-0x8ab+0x1*0x37+-0x4*-0x21d,-0x385+0x1be*0x15+-0x1*0x2111)),Ra('sheen',new ie(0x1*0x15d+-0x1*0x14a1+-0x1*-0x1345,-0x1c4e+0x4cf*-0x2+0x25ed,0x1*-0x1193+-0x134f+0x24e3)),Ra('attenuatio'+'n',new ie(-0x12a*0x2+0x2*0x12b5+-0x503*0x7,0x1*0x1a26+0x192c+-0x3351,0x1539+0x233*-0xb+0x2f9)),ze('emissiveIn'+'tensity',-0x1650+-0xfe*0x6+0x1c45),ze('specularit'+'yFactor',0x1*-0x18f4+0xfe+0x17f7),ze('sheenGloss',-0x27f*0x1+-0x13d*-0x9+-0xf6*0x9),ze('gloss',-0x17bc+-0x14ec+0x2ca8+0.25),ze('aoIntensit'+'y',-0x2663+0x49a+-0x1*-0x21ca),ze('heightMapF'+'actor',0x1*0x26ff+-0x1*0xd3d+-0x19c1,(_0x457877,_0x177575,_0x3fe21e)=>_0x457877['heightMapF'+'actor']*(-0x86f+-0x1*0x1889+0x4*0x83e+0.025)),ze('opacity',0x18e*0x7+-0xe23+-0x3*-0x116),ze('alphaFade',-0xf16+-0x1353+0xa*0x371),ze('alphaTest',-0xe5*0x3+0x1346+0x89*-0x1f),ze('bumpiness',0x14a7+-0x1615*0x1+-0x1*-0x16f),ze('normalDeta'+'ilMapBumpi'+'ness',0x1582+-0xb44*0x3+0xc4b),ze('reflectivi'+'ty',0x16b+0x1609+-0x1773),ze('occludeSpe'+'cularInten'+'sity',-0x10*0x52+0x1*0x1c8b+-0x176a),ze('refraction',-0xad7+0x1155+0x3*-0x22a),ze('refraction'+'Index',(-0x5f2+0x165*-0xb+-0x442*-0x5)/(-0x3*-0x47e+-0xb15+-0x33*0xc+0.5)),ze('dispersion',0x5e2+-0x1*0x171+-0x471),ze('thickness',0x1587+0x1cfe*-0x1+0x777),ze('attenuatio'+'nDistance',-0x1*0x33d+-0xba0+-0xedd*-0x1),ze('metalness',-0x1280*-0x2+-0x1106+-0x13f9*0x1),ze('anisotropy'+'Intensity',0x2*0xc56+-0x3*-0x1e1+-0x1e4f),ze('anisotropy'+'Rotation',0x6f*-0x1f+-0xe*0x30+0x1011),ze('clearCoat',-0x72+-0x1*0x17a5+0x1817),ze('clearCoatG'+'loss',0x85b*0x4+0x1471+-0xc*0x47d),ze('clearCoatB'+'umpiness',-0x23af+0x1*-0xa03+-0x1*-0x2db3),ze('aoUvSet',0x12f2+-0xefd+-0x3f5,null),ze('iridescenc'+'e',-0x25*0xf3+0x7d2+-0x1d*-0xf1),ze('iridescenc'+'eRefractio'+'nIndex',(0x13e6+-0xcf1*0x1+0x1*-0x6f4)/(-0x1*0xce0+-0x9*-0x17e+-0x8d+0.5)),ze('iridescenc'+'eThickness'+'Min',0xde*-0x21+-0x567*-0x3+0xc69),ze('iridescenc'+'eThickness'+'Max',-0x29*0xa3+0x1*0x1615+0x406*0x1),oo('ambientSH'),oo('cubeMapPro'+'jectionBox',(_0x343d2b,_0x1e4ad0,_0xfcb856)=>{const _0x2ece3c=_0x343d2b['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(0x6a+0x7*-0x41b+-0x3e*-0x75)},{'name':'envBoxMax','value':new Float32Array(-0x8c4+0x84b+0x1*0x7c)}]),_0x33db5e=_0x343d2b['cubeMapPro'+'jectionBox']['getMin'](),_0x8512d1=_0x2ece3c[0xc*-0x1c5+0x1ce7+-0x7ab]['value'];_0x8512d1[-0x696+-0xc17+-0x1*-0x12ad]=_0x33db5e['x'],_0x8512d1[-0x1185+0x877*-0x3+0x2aeb]=_0x33db5e['y'],_0x8512d1[0x7f8+0x31*0x7+-0x1*0x94d]=_0x33db5e['z'];const _0x3cdff8=_0x343d2b['cubeMapPro'+'jectionBox']['getMax'](),_0x1973f9=_0x2ece3c[-0x187c+-0x48a*-0x8+0x1*-0xbd3]['value'];return _0x1973f9[0x1*-0x182+0x9ce+-0x84c]=_0x3cdff8['x'],_0x1973f9[0x86a+-0x22f+-0x63a]=_0x3cdff8['y'],_0x1973f9[-0x1da2+0x202f*0x1+-0x28b]=_0x3cdff8['z'],_0x2ece3c;}),ke('specularTi'+'nt',!(0xb68+-0x15a*0xb+0x1*0x377)),ke('specularit'+'yFactorTin'+'t',!(0x733+0x2390+-0x2ac2)),ke('useMetalne'+'ss',!(0x1*0x1864+0x3*0xcbb+-0x3e94)),ke('useMetalne'+'ssSpecular'+'Color',!(0x2691+-0x2228+-0x468)),ke('useSheen',!(-0x2*0x156+-0x1*-0x19c+0x3*0x5b)),ke('enableGGXS'+'pecular',!(-0x12a2+0x12b3+-0x10)),ke('occludeDir'+'ect',!(0x144d*-0x1+-0x1d*0x68+0x6f*0x4a)),ke('opacityFad'+'esSpecular',!(-0x13*-0x60+0x9a7+-0x10c7)),ke('occludeSpe'+'cular',bd),ke('fresnelMod'+'el',Yp),ke('useDynamic'+'Refraction',!(-0x1*-0x49d+0xc28+-0x862*0x2)),ke('cubeMapPro'+'jection',tm),ke('useFog',!(-0xf1*-0x12+-0x1d1e+-0x4c*-0x29)),ke('useLightin'+'g',!(0x5+0x1*0x216d+-0x2*0x10b9)),ke('useTonemap',!(0x2*0x17+-0x1*-0x9b3+-0x9e1)),ke('useSkybox',!(0x235+-0x38b*0x4+-0xbf7*-0x1)),ke('forceUv1',!(-0x79*-0x3a+-0xc85+-0xee4)),ke('pixelSnap',!(0x24f9+0x1689+-0x3b81)),ke('twoSidedLi'+'ghting',!(-0x650+0x2538+0x9*-0x36f)),ke('nineSliced'+'Mode',void(-0x8ce+0x15bb+-0xced)),ke('msdfTextAt'+'tribute',!(-0x998+0x1587+-0xbee*0x1)),ke('useIridesc'+'ence',!(0x136d+-0xbd+-0x12af*0x1)),ke('glossInver'+'t',!(0x410+-0x675*-0x1+-0xa84)),ke('sheenGloss'+'Invert',!(0x3*0x9ef+-0x235+-0x1b97)),ke('clearCoatG'+'lossInvert',!(0xda5+-0x1f48+0x11a4)),ke('opacityDit'+'her',Sa),ke('opacitySha'+'dowDither',Sa),ke('shadowCatc'+'her',!(-0x52a*0x2+-0x1803+-0x896*-0x4)),et('diffuse'),et('specular'),et('emissive'),et('thickness','g'),et('specularit'+'yFactor','g'),et('normal',''),et('metalness','g'),et('gloss','g'),et('opacity','a'),et('refraction','g'),et('height','g',!(-0x1*0x8cd+-0x16e5*0x1+0x1*0x1fb3)),et('ao','g'),et('light','rgb',!(0xe06+0x2*-0x8d3+0x3a0),-0x1e38+0x2*-0x1b2+0x219d),et('msdf',''),et('diffuseDet'+'ail','rgb',!(-0x616*-0x1+0x28*0x89+-0x1f*0xe3)),et('normalDeta'+'il',''),et('aoDetail','g',!(0x126e+0x349*-0x1+-0xe4*0x11)),et('clearCoat','g'),et('clearCoatG'+'loss','g'),et('clearCoatN'+'ormal',''),et('sheen','rgb'),et('sheenGloss','g'),et('iridescenc'+'e','g'),et('iridescenc'+'eThickness','g'),et('anisotropy',''),ke('diffuseDet'+'ailMode',p_),ke('aoDetailMo'+'de',p_),oo('cubeMap'),oo('sphereMap'),oo('envAtlas');const _0x33c5c8=function(){return this['_prefilter'+'edCubemaps'];},_0x175bf0=function(_0x320b14){const _0x3d9ec1=this['_prefilter'+'edCubemaps'];_0x320b14=_0x320b14||[];let _0xabb258=!(0x323+0x11*0x132+-0x1774),_0x184cab=!(0x967*0x2+0xab5+-0x1d83);for(let _0x227fbf=-0x1*-0x187d+0x2472*-0x1+0xbf5*0x1;_0x227fbf<-0x21a*-0xe+0x2071*0x1+-0x149d*0x3;++_0x227fbf){const _0x5378ff=_0x320b14[_0x227fbf]||null;_0x3d9ec1[_0x227fbf]!==_0x5378ff&&(_0x3d9ec1[_0x227fbf]=_0x5378ff,_0xabb258=!(-0xe*0x26f+-0x1622+0xb*0x51c)),_0x184cab=_0x184cab&&!!_0x3d9ec1[_0x227fbf];}_0xabb258&&(_0x184cab?this['envAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0x3d9ec1,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(0xc70+-0x31*-0x7f+-0x199*0x17));},_0x4c0fae=[null,null,null,null,null,null];um('prefiltere'+'dCubemaps',()=>_0x4c0fae['slice'](),_0x175bf0,_0x33c5c8);}vb();const Rt=class Rt{static['render'](_0x2f2cf7,_0x305a04){const _0x2476c2=_0x305a04['device'],_0x46ecc4=_0x2f2cf7['cells'],_0x5ab1a0=_0x2f2cf7['lightsBuff'+'er'],_0x44af88=_0x5ab1a0['boundsMin'],_0x37e226=_0x5ab1a0['boundsDelt'+'a'],_0x4dedaa=_0x44af88['clone']()['add'](_0x37e226),_0x2635a3=_0x5ab1a0['boundsDelt'+'a']['clone']()['div'](_0x46ecc4),_0xd5045f=Rt['gridPositi'+'ons'],_0x147650=Rt['gridColors'],_0x2e9117=new ie(-0x13d9*-0x1+-0x21e5+0x1f*0x74+0.3,0x2175+-0x895*0x1+0x4*-0x638+0.3,-0x26f9*-0x1+-0xfcf+-0xa*0x251+0.3),_0x1103b8=(_0x221688,_0x26248f,_0x1060da,_0x1b162a,_0x1d8522,_0x580c15,_0x238c19,_0x30c183,_0x5c9fe0)=>{for(let _0x2481aa=0x2523+0xab4+-0x2fd7*0x1;_0x2481aa<=_0x221688;_0x2481aa++)for(let _0x275f41=-0x1b02+-0x1528+0x302a;_0x275f41<=_0x26248f;_0x275f41++){const _0x27f73c=_0x1060da+_0x2481aa*_0x1b162a,_0x34a044=_0x1d8522+_0x275f41*_0x580c15;_0x5c9fe0===0x117+0x8eb+0xb7*-0xe?_0xd5045f['push'](_0x27f73c,_0x238c19,_0x34a044,_0x27f73c,_0x30c183,_0x34a044):_0x5c9fe0===0x1*0x16a2+0x1228+-0x28c9?_0xd5045f['push'](_0x27f73c,_0x34a044,_0x238c19,_0x27f73c,_0x34a044,_0x30c183):_0x5c9fe0===-0x755*-0x1+-0x1c69*0x1+0xa8b*0x2&&_0xd5045f['push'](_0x238c19,_0x27f73c,_0x34a044,_0x30c183,_0x27f73c,_0x34a044);}};if(_0x1103b8(_0x46ecc4['x'],_0x46ecc4['z'],_0x44af88['x'],_0x2635a3['x'],_0x44af88['z'],_0x2635a3['z'],_0x44af88['y'],_0x4dedaa['y'],-0xe*0x2be+-0x19*-0x70+0x1b74),_0x1103b8(_0x46ecc4['x'],_0x46ecc4['y'],_0x44af88['x'],_0x2635a3['x'],_0x44af88['y'],_0x2635a3['y'],_0x44af88['z'],_0x4dedaa['z'],-0x2*-0x10b4+0x6*0x60d+0x45b5*-0x1),_0x1103b8(_0x46ecc4['y'],_0x46ecc4['z'],_0x44af88['y'],_0x2635a3['y'],_0x44af88['z'],_0x2635a3['z'],_0x44af88['x'],_0x4dedaa['x'],-0x2*-0x387+0x1963+-0x206f),_0xd5045f['length']){const _0x314007=_0xd5045f['length']/(-0x155*0x7+-0xdb9+-0x170f*-0x1);if(_0x314007!==_0x147650['length']/(-0xa*0x363+0x601+0x319*0x9)){_0x147650['length']=0x412*0x2+-0x14e*0x17+-0x3a5*-0x6;for(let _0x9c118c=0x1*-0x1ead+-0x22b9+-0xb*-0x5f2;_0x9c118c<_0x314007;_0x9c118c++)_0x147650['push'](_0x2e9117['r'],_0x2e9117['g'],_0x2e9117['b'],_0x2e9117['a']);}_0x305a04['drawLineAr'+'rays'](_0xd5045f,_0x147650),_0xd5045f['length']=0x703*-0x5+0xd8d+0x1582*0x1;}let _0x5f05fd=Rt['mesh'];_0x5f05fd||(_0x5f05fd=new Ge(_0x2476c2),_0x5f05fd['clear'](!(0x10b0+0x1b70+-0x2c2*0x10),!(0x1c7f*0x1+-0xb8f+0x1*-0x10f0)),Rt['mesh']=_0x5f05fd);const _0x377d19=[],_0x1770c9=[],_0x581034=[],_0x3a1f4e=_0x2f2cf7['_cells']['x'],_0x17d310=_0x2f2cf7['_cells']['z'],_0x2a45d0=_0x2f2cf7['counts'],_0x3bd0b3=_0x2f2cf7['_maxCellLi'+'ghtCount'],_0x11eba7=new D(),_0x8bf1c8=new D(),_0x12843b=new D(),_0x4e4da5=_0x37e226['clone']()['div'](_0x46ecc4);let _0x1a2677=0x2098+-0x141*-0x15+-0x3aed;for(let _0x4a970c=0x4*-0x21e+-0x2*0xeb1+0xbe*0x33;_0x4a970c<_0x46ecc4['x'];_0x4a970c++)for(let _0x16616b=-0x1*0x319+0x1dcf+0x107*-0x1a;_0x16616b<_0x46ecc4['z'];_0x16616b++)for(let _0x5a8acd=0x1bbc+-0xe9*0x6+0xb23*-0x2;_0x5a8acd<_0x46ecc4['y'];_0x5a8acd++){const _0x52153a=_0x4a970c+_0x3a1f4e*(_0x16616b+_0x5a8acd*_0x17d310),_0x3dedc7=_0x2a45d0[_0x52153a];if(_0x3dedc7>0x1bca+-0x67+-0x1b63){_0x11eba7['x']=_0x44af88['x']+_0x4e4da5['x']*_0x4a970c,_0x11eba7['y']=_0x44af88['y']+_0x4e4da5['y']*_0x5a8acd,_0x11eba7['z']=_0x44af88['z']+_0x4e4da5['z']*_0x16616b,_0x8bf1c8['add2'](_0x11eba7,_0x4e4da5),_0x377d19['push'](_0x11eba7['x'],_0x11eba7['y'],_0x8bf1c8['z']),_0x377d19['push'](_0x8bf1c8['x'],_0x11eba7['y'],_0x8bf1c8['z']),_0x377d19['push'](_0x8bf1c8['x'],_0x8bf1c8['y'],_0x8bf1c8['z']),_0x377d19['push'](_0x11eba7['x'],_0x8bf1c8['y'],_0x8bf1c8['z']),_0x377d19['push'](_0x8bf1c8['x'],_0x11eba7['y'],_0x11eba7['z']),_0x377d19['push'](_0x11eba7['x'],_0x11eba7['y'],_0x11eba7['z']),_0x377d19['push'](_0x11eba7['x'],_0x8bf1c8['y'],_0x11eba7['z']),_0x377d19['push'](_0x8bf1c8['x'],_0x8bf1c8['y'],_0x11eba7['z']),_0x12843b['lerp'](Rt['colorLow'],Rt['colorHigh'],_0x3dedc7/_0x3bd0b3)['round']();for(let _0x3fe862=0x76e+-0x1*-0xcca+-0x1438;_0x3fe862<0xd*-0x1a5+-0x41c+0x1985;_0x3fe862++)_0x1770c9['push'](_0x12843b['x'],_0x12843b['y'],_0x12843b['z'],0x1*-0x14ce+0x2302+-0xe33);_0x581034['push'](_0x1a2677*(0x125b+0x1f50+-0x83*0x61)+(-0xde8+-0x2*-0xf7e+-0x1114),_0x1a2677*(0x2209*-0x1+0x26e9+-0x4d8)+(0x250a+0xbc*-0xb+-0x1cf5*0x1),_0x1a2677*(0xd54*0x1+0x1*0x1fc9+-0x2d15)+(-0x1405+0x10*-0x1e7+0x3278)),_0x581034['push'](_0x1a2677*(-0xd1d+0x32b*0x3+-0x2*-0x1d2)+(-0x1*0xcb+-0x362+0x430),_0x1a2677*(-0xfa4+0x107*-0x1b+0x2b69)+(0x1802*-0x1+0x1*-0x264e+0x3e51),_0x1a2677*(0x1e3b+-0x178a+-0x6a9)+(-0x98e*0x3+-0x23af+0x405b)),_0x581034['push'](_0x1a2677*(0x2158+0x181*0x11+-0x1*0x3ae1)+(-0x7c3*-0x4+-0x41*-0x1+-0x1f49),_0x1a2677*(-0xa6*0x32+0xb2c+0x1548)+(0x241f+-0x1179+0x12a1*-0x1),_0x1a2677*(0x14ea+0x817+-0x1cf9*0x1)+(-0xc9+0xa5e*0x3+-0x1e4a*0x1)),_0x581034['push'](_0x1a2677*(-0x2*-0xe89+0x1*-0x12+-0x67*0x48)+(0x1*-0x1ae7+-0x15e7+0x30d5),_0x1a2677*(0x5*-0x5d+0x217a+-0x1fa1)+(-0x184e+0x104f+-0xab*-0xc),_0x1a2677*(0x1cfd+0x2653*-0x1+0x95e)+(0x129e+-0x11*0x137+-0x1*-0x20f)),_0x581034['push'](_0x1a2677*(0x1eff+-0x150+-0x1da7)+(0x2*0x3d0+0x1*-0x43+-0x75a),_0x1a2677*(-0x4*-0x1e7+0x12c8*-0x2+0x1dfc)+(0x211*0xc+-0xa82+-0xe48),_0x1a2677*(0x1e5a+0x44a+-0x229c)+(-0xb48+0xa79*-0x2+0x2040)),_0x581034['push'](_0x1a2677*(0x1355+0x1*0x1693+-0x29e0)+(0x1936+0x1dec+-0x2*0x1b90),_0x1a2677*(0x59f+-0x2*-0xb26+-0x1be3)+(-0x1ca*-0x14+0x711+-0x2ad2),_0x1a2677*(-0x245*0xb+0xd85*-0x1+0x2684)+(0xf91*0x1+-0xae*-0x34+-0x32e3)),_0x581034['push'](_0x1a2677*(-0x2ae+0x127c+-0x6*0x2a1)+(0x2290+0xd64+0x19*-0x1eb),_0x1a2677*(-0x137b*-0x1+-0x1*0x198c+-0xdf*-0x7)+(-0x5*-0x631+-0x385*-0x1+-0x227a),_0x1a2677*(-0x1c6*0x1+-0x26dd*-0x1+-0x250f)+(-0x1*0xc3c+-0x88a*-0x3+-0x6af*0x2)),_0x581034['push'](_0x1a2677*(-0x2*0x1250+-0x1*0xcbf+0x3167)+(0x23*-0xaa+-0x26c7+0x1*0x3e05),_0x1a2677*(0x23e0+0x1*0x3f+-0x1*0x2417)+(-0x86c+0x1*0x283+-0x17*-0x42),_0x1a2677*(-0x255c+-0xd5f+0x5*0xa27)+(-0x1c04+-0x13a3+0x2fab)),_0x581034['push'](_0x1a2677*(-0x5f8+-0x2345*0x1+-0x2945*-0x1)+(0x1*0x1465+-0x1295+-0x1cf),_0x1a2677*(0x17d7+-0x9b3+-0xe1c)+(-0x1*-0x13d9+0x2513*0x1+0x71d*-0x8),_0x1a2677*(0x2018+0x1cf*0xa+-0x31*0x106)+(0x14d7*-0x1+-0xc0c+-0x3*-0xaf7)),_0x581034['push'](_0x1a2677*(-0x5f8*-0x6+-0x1d39*0x1+-0x68f)+(0x1*-0x18ad+-0xae3+0xcf*0x2c),_0x1a2677*(0xfaa+0x145+-0x10e7)+(-0x1*0xf4f+0x1f*0x13f+0x174b*-0x1),_0x1a2677*(0x74*-0xf+-0x2419+0x2aed)+(-0x1*0x8bd+0x1897+-0xfd8*0x1)),_0x581034['push'](_0x1a2677*(0x26cc+0x533*0x7+0x4b29*-0x1)+(-0x9*-0x3be+0x25a1+-0x474a),_0x1a2677*(0x1e70+0x854*0x4+0x7f7*-0x8)+(0xb*-0x287+0x2*-0x705+0x29d7*0x1),_0x1a2677*(0xf26+0x2cb+0x7*-0x28f)+(-0x314+-0x263*-0x3+-0x40f*0x1)),_0x581034['push'](_0x1a2677*(0x2318+-0x2033*-0x1+-0x4343)+(-0x2*0xc15+-0x1*0x5ad+0x1dd7),_0x1a2677*(0x76a+-0x107c+0xe9*0xa)+(0x763*0x3+0x1d6f+-0x5*0xa51),_0x1a2677*(0x3*-0x49f+-0x1*-0x2051+0xc*-0x189)+(-0x1cd0+-0x19c*-0x5+0x14ca)),_0x1a2677++;}}if(_0x1a2677){if(_0x5f05fd['setPositio'+'ns'](_0x377d19),_0x5f05fd['setNormals'](new Float32Array(_0x377d19['length'])),_0x5f05fd['setColors3'+'2'](_0x1770c9),_0x5f05fd['setIndices'](_0x581034),_0x5f05fd['update'](js,!(0x1f7c+-0xe24+0x1*-0x1157)),!Rt['meshInstan'+'ce']){const _0x3e5f22=new Ut();_0x3e5f22['useLightin'+'g']=!(-0x1c75+0x1*-0xccb+0x2941),_0x3e5f22['emissive']=new ie(0x1b49*-0x1+-0x1*-0x248c+-0x6*0x18b,-0x1b04+-0x18d6+0x33db,-0x4+-0x5fc+0x601),_0x3e5f22['emissiveVe'+'rtexColor']=!(-0x28f+-0x1351+0x64*0x38),_0x3e5f22['blendType']=Ed,_0x3e5f22['depthWrite']=!(-0x2*-0x184+-0x26d5*0x1+-0x1*-0x23ce),_0x3e5f22['update']();const _0x3dd756=new Ie('WorldClust'+'ersDebug');_0x3dd756['worldTrans'+'form']=te['IDENTITY'],_0x3dd756['_dirtyWorl'+'d']=_0x3dd756['_dirtyNorm'+'al']=!(-0x86*0x23+-0x2e*0x7a+0x1*0x283f),Rt['meshInstan'+'ce']=new He(_0x5f05fd,_0x3e5f22,_0x3dd756),Rt['meshInstan'+'ce']['cull']=!(-0x356*0xa+0x1*0x23ab+-0x24e);}const _0x561a70=Rt['meshInstan'+'ce'];_0x305a04['immediate']['drawMesh'](_0x561a70['material'],_0x561a70['node']['worldTrans'+'form'],null,_0x561a70,_0x305a04['defaultDra'+'wLayer']);}}};h(Rt,'gridPositi'+'ons',[]),h(Rt,'gridColors',[]),h(Rt,'mesh',null),h(Rt,'meshInstan'+'ce',null),h(Rt,'colorLow',new D(0x1eea+-0x7*0x286+-0xd3f,0x1f4+0x1a24+-0x2f*0x99,-0x1*-0x11bd+-0x21b6+0xffa)),h(Rt,'colorHigh',new D(0x3d*0xb+-0x34*0x86+0x1*0x18c1,0x1*0x1084+-0x1c51+-0x35*-0x39,0x21f3+0x2084+0xcd*-0x53));let hu=Rt;const xb='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let Vi=null;const Av=()=>{if(!Vi){const _0x70b8b1=atob(xb);Vi=Uint8Array['from'](_0x70b8b1,_0xd3b2ae=>_0xd3b2ae['charCodeAt'](-0xf31+0x248c+-0x155b));}},Tb=()=>(Av(),Vi);class wb{constructor(_0x17489c=0x44*0x1d+-0xfc3+0x80f){h(this,'seed',0x4*0x63d+0x258b+-0x3e7f),(this['seed']=_0x17489c*(-0x130e*0x1+-0x252d+-0x51d*-0xb),Av());}['_next'](){this['seed']=(this['seed']+(-0xb59+-0x14d9+0x2036))%Vi['length'];}['value'](){return this['_next'](),Vi[this['seed']]/(-0x1e4a+0x1*0x2611+-0x8*0xd9);}['vec4'](_0x3492df=new re()){return this['_next'](),_0x3492df['set'](Vi[this['seed']],Vi[this['seed']+(0xf31+-0x25a9*0x1+0x1679*0x1)],Vi[this['seed']+(-0xa1*-0x17+-0xd3*0xc+-0x491)],Vi[this['seed']+(-0x1a9d+0x1*-0xef2+0x2992)])['mulScalar']((-0x434*0x1+0x1b52+-0x171d)/(-0xe6a+-0x1c5f*0x1+-0xc*-0x3a6));}}const Eb=[new D(-(0x15*0x126+-0xd*0x20b+0x272),0x11*-0x11b+-0x2b5+-0x2b*-0x80,-0x42b+-0x216*0x10+-0x55d*-0x7),new D(-0x219c+-0x2*-0x2f5+-0x3f5*-0x7,-0x23d3+0x1e28*-0x1+0x1*0x41fb,-0x10b4+0x2a7*-0x2+0x139*0x12),new D(-0x1b0f*0x1+-0xb68+0x2b*0xe5,-(-0xf8c+-0x4f9*0x5+0x286a),0x3*0x5b3+-0x3*-0x52a+0x1*-0x2097),new D(0x1c8*-0xf+-0x1*-0x5df+0x14d9,-0xf3c*0x2+0xb65*-0x1+0x29de,-0x25a9+-0x2*-0x497+-0x13d*-0x17),new D(-0x1350+-0x19*-0x75+0x2a1*0x3,-0xeab*-0x2+-0x20dc+0x16*0x29,-(-0x2406+0x1667+0xda0)),new D(0x3*0x5d0+0x43*-0x6d+0x11*0xa7,-0x5*-0x3f3+0x304*-0x6+-0x1a7,0x5*-0xdf+-0x2*-0x12bf+-0x1091*0x2)];class bb{constructor(){h(this,'colors',new Float32Array(-0x6fc+0x24a*-0xf+0xc*0x373));}['update'](_0x18c9d7,_0x3d5904){const _0x506c2a=this['colors'],{r:_0x314fc7,g:_0x499fb2,b:_0x5d72fb}=_0x18c9d7;for(let _0x168ed7=0xb93+0x13*0x161+0x1*-0x25c6;_0x168ed7<0x1*-0x1273+-0x788+0x1*0x1a01;_0x168ed7++)_0x506c2a[_0x168ed7*(0x648+0x153e+-0x1b83)]=_0x314fc7,_0x506c2a[_0x168ed7*(-0x1*0x20fd+0x2160+-0x60)+(-0x2040+-0x1411+0x3452)]=_0x499fb2,_0x506c2a[_0x168ed7*(-0x1*0x661+0x1*-0x1c45+0x13*0x1d3)+(0xebf+-0x26*0xf2+0x152f*0x1)]=_0x5d72fb;for(let _0x3d6adc=0xb1*0x2f+-0x9*0x1ca+-0x1*0x1065;_0x3d6adc<_0x3d5904['length'];_0x3d6adc++){const _0x4ed443=_0x3d5904[_0x3d6adc];if(_0x4ed443['_type']===ve)for(let _0x336bb7=0x1360*-0x2+-0xd2c+-0x1*-0x33ec;_0x336bb7<0x1*0x1a03+0x2364+0x3d61*-0x1;_0x336bb7++){const _0x18e114=Math['max'](Eb[_0x336bb7]['dot'](_0x4ed443['_direction']),-0x2281+-0x763+0x4*0xa79)*_0x4ed443['_intensity'],_0xb7dcc3=_0x4ed443['_color'];_0x506c2a[_0x336bb7*(-0x17*-0x7+0x256d+-0x260b)]+=_0xb7dcc3['r']*_0x18e114,_0x506c2a[_0x336bb7*(-0x4*0x251+-0x43*-0x8d+-0x1a*0x110)+(-0x1*0x2291+0x16dd*-0x1+0x396f)]+=_0xb7dcc3['g']*_0x18e114,_0x506c2a[_0x336bb7*(0x2261+-0x1*-0x1d09+-0x3f67)+(0x1fc*-0xb+-0x1de2+0x14*0x296)]+=_0xb7dcc3['b']*_0x18e114;}}}}const Ab=(_0x379b4a,_0x250987,_0x2a7abd,_0x2204b6)=>{const _0x389e60=new _e(_0x379b4a,{'name':''+_0x250987+_0x2a7abd,'width':_0x2a7abd,'height':_0x2a7abd,'format':Ne,'addressU':yt,'addressV':yt,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(0x1156+-0x71*-0xb+-0x1630)});return _0x389e60['lock']()['set'](_0x2204b6),_0x389e60['unlock'](),_0x389e60;},Cb=new Kt(),Pb=_0x2afae4=>Cb['get'](_0x2afae4,()=>{const _0x438097=Tb(),_0xf9e83b=Math['sqrt'](_0x438097['length']/(0x2517+-0x2*-0xb51+-0x3bb5));return Ab(_0x2afae4,'BlueNoise',_0xf9e83b,_0x438097);});class va{constructor(_0xcdd468,_0x1ca056){this['texture']=_0xcdd468,this['cached']=!(0x1*-0x832+-0x6ce+0xf01),this['renderTarg'+'ets']=_0x1ca056;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x4da7f7=this['renderTarg'+'ets'];for(let _0x4623a0=-0x24f2*0x1+0x1*-0x1727+-0xc05*-0x5;_0x4623a0<_0x4da7f7['length'];_0x4623a0++)_0x4da7f7[_0x4623a0]['destroy']();this['renderTarg'+'ets']['length']=0x76*0xf+-0x4fc+-0x26*0xd;}static['create'](_0x5ed71b,_0x33cebd){let _0x134178=null;return _0x33cebd['_type']===Ke?_0x134178=this['createCube'+'map'](_0x5ed71b,_0x33cebd['_shadowRes'+'olution'],_0x33cebd['_shadowTyp'+'e']):_0x134178=this['create2dMa'+'p'](_0x5ed71b,_0x33cebd['_shadowRes'+'olution'],_0x33cebd['_shadowTyp'+'e']),_0x134178;}static['createAtla'+'s'](_0x55c182,_0x235cb3,_0x598263){const _0x3c5114=this['create2dMa'+'p'](_0x55c182,_0x235cb3,_0x598263),_0x3ef50b=_0x3c5114['renderTarg'+'ets'],_0x12b972=_0x3ef50b[0x482*0x1+0x1*-0x232e+-0xf56*-0x2];for(let _0x353297=-0x23ed*-0x1+0x13c0+-0x37ad*0x1;_0x353297<-0x1d58+-0xe2e+-0x2b8b*-0x1;_0x353297++)_0x3ef50b['push'](_0x12b972);return _0x3c5114;}static['create2dMa'+'p'](_0xd31c9d,_0x368e50,_0x2fd0b2){var _0x1a702f;const _0xbd9793=qi['get'](_0x2fd0b2);w['assert'](_0xbd9793);let _0x51a635=_0xbd9793['format'];_0x51a635===Ji&&!_0xd31c9d['textureFlo'+'atRenderab'+'le']&&_0xd31c9d['textureHal'+'fFloatRend'+'erable']&&(_0x51a635=od);const _0x382c9c=(_0x1a702f=Nt['get'](_0x51a635))==null?void(0x869*0x1+0x245f+-0x2cc8):_0x1a702f['name'];let _0x475f28=vt;_0x2fd0b2===Jp&&(_0x475f28=_0xd31c9d['extTexture'+'FloatLinea'+'r']?vt:Te),_0x2fd0b2===al&&(_0x475f28=Te);const _0x5e7981=new _e(_0xd31c9d,{'profilerHint':eu,'format':_0x51a635,'width':_0x368e50,'height':_0x368e50,'mipmaps':!(0xfc5+-0x2*-0x122c+-0x341c),'minFilter':_0x475f28,'magFilter':_0x475f28,'addressU':ue,'addressV':ue,'name':'ShadowMap2'+'D_'+_0x382c9c});let _0x126bd3=null;return _0xbd9793!=null&&_0xbd9793['pcf']?(_0x5e7981['compareOnR'+'ead']=!(0x33b*-0x2+-0x113d+0x17b3),_0x5e7981['compareFun'+'c']=hh,_0x126bd3=new gt({'depthBuffer':_0x5e7981})):_0x126bd3=new gt({'colorBuffer':_0x5e7981,'depth':!(-0xd*0x109+0xb3+0x2*0x661)}),_0xd31c9d['isWebGPU']&&(_0x126bd3['flipY']=!(-0xa45+0x1c24+-0x11df)),new va(_0x5e7981,[_0x126bd3]);}static['createCube'+'map'](_0x4b9661,_0x3e12bb,_0x3d5bc1){var _0x319198;const _0x51ca2e=qi['get'](_0x3d5bc1);w['assert'](_0x51ca2e);const _0x58aa03=(_0x319198=Nt['get'](_0x51ca2e['format']))==null?void(-0x7f1+0x11c5+-0x94*0x11):_0x319198['name'],_0x47406a=_0x3d5bc1===al,_0x81e9e8=_0x47406a?Te:vt,_0x14c430=new _e(_0x4b9661,{'profilerHint':eu,'format':_0x51ca2e==null?void(-0xfd9+-0x1f*-0x7+0xf00):_0x51ca2e['format'],'width':_0x3e12bb,'height':_0x3e12bb,'cubemap':!(-0x6d9+0x6*0x222+-0x5f3),'mipmaps':!(0x2*0x467+0x114*-0x7+0x3*-0x6b),'minFilter':_0x81e9e8,'magFilter':_0x81e9e8,'addressU':ue,'addressV':ue,'name':'ShadowMapC'+'ube_'+_0x58aa03});_0x47406a||(_0x14c430['compareOnR'+'ead']=!(0xddf*-0x1+-0xb*-0x25c+0x407*-0x3),_0x14c430['compareFun'+'c']=hh);const _0x4b675e=[];for(let _0x4ec6ee=0x1d8a+0x49*0x35+-0x2ca7;_0x4ec6ee<0xe01+-0x59d*-0x1+-0x1398;_0x4ec6ee++)_0x47406a?_0x4b675e['push'](new gt({'colorBuffer':_0x14c430,'face':_0x4ec6ee,'depth':!(-0x10ec+0x837+0x8b5)})):_0x4b675e['push'](new gt({'depthBuffer':_0x14c430,'face':_0x4ec6ee}));return new va(_0x14c430,_0x4b675e);}}const Mb=[],Db=[],xi=new re(),ef=new re();class tf{constructor(_0x54f8db){this['size']=Math['floor'](_0x54f8db['w']*(-0x120f+-0xfed+0x25fc)),this['used']=!(0x1*-0x23d8+0x3*-0xcde+0x4a73),this['lightId']=-(-0x133*0x5+-0x1c9f+0x229f),this['rect']=_0x54f8db;}}class Ib{constructor(_0x929f23){this['device']=_0x929f23,this['version']=-0x1*-0x19ba+-0xb*-0x197+-0x2b36,this['shadowAtla'+'sResolutio'+'n']=0x955+-0x2f6*0x2+0x497,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=0xf*0x15d+0x115e+0x2*-0x12e7,this['cookieAtla'+'sResolutio'+'n']=-0x3f*0x49+0x7ab+0xa50,this['cookieAtla'+'s']=new _e(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':_s,'cubemap':!(-0x3a*0xa2+0x2*-0x1b7+0x2823),'mipmaps':!(-0x7*0x97+0x12b9+0x5*-0x2eb),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue}),this['cookieRend'+'erTarget']=new gt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(-0x24dc+0x1*-0x1402+0x38df*0x1),'flipY':!(0x1*-0x563+0x3d1+0xc9*0x2)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new J(-0x1*-0x22fc+0x3e+0x9*-0x3ea,0x1*-0x183b+-0x5*0x5e2+0x35a5),new J(0x1c37+0x11bb+0x2*-0x16f9,0x2*0x11b2+-0x3*-0x2dd+-0x1b1*0x1a),new J(-0x85*-0xd+0x313*-0x6+0xbb2,0x1*0x19d9+-0x457*-0x7+-0x3*0x12be),new J(-0x3a*-0x99+-0x16*0xdd+-0xfab,-0x1c0+-0x9a*0x2+0x2f5*0x1),new J(-0xf54+0xf12+-0x1*-0x44,-0x12a2+-0x13fd+0x269f),new J(-0x1c73*0x1+0x661+0x1614,-0x25b1*0x1+0x21e*-0xd+0x4138)],this['scissorVec']=new re(),this['allocateSh'+'adowAtlas'](-0x55*0x47+-0xc36+0x23ca),this['allocateCo'+'okieAtlas'](0x7cb+0x758+-0x95*0x1a),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x5d42dd;(_0x5d42dd=this['shadowAtla'+'s'])==null||_0x5d42dd['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x5a5c69,_0x201619;(_0x5a5c69=this['cookieAtla'+'s'])==null||_0x5a5c69['destroy'](),this['cookieAtla'+'s']=null,(_0x201619=this['cookieRend'+'erTarget'])==null||_0x201619['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0x2b50eb,_0x311423=$s){var _0x5ac623;const _0x1ca3ca=(_0x5ac623=this['shadowAtla'+'s'])==null?void(-0x14e4+0x47*0x35+0x631):_0x5ac623['texture']['format'],_0xf828e9=qi['get'](_0x311423)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0x2b50eb||_0x1ca3ca!==_0xf828e9){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=va['createAtla'+'s'](this['device'],_0x2b50eb,_0x311423),this['shadowAtla'+'s']['cached']=!(-0x1*-0x17f5+-0x6*0x202+-0xbe9);const _0x360e14=(0x1*-0x1899+0xb6*0x3+0x47f*0x5)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x360e14,_0x360e14,-(-0x4*0x175+0x1*-0x392+0x4b4*0x2)*_0x360e14,-(0x11b5*-0x2+-0x1*-0x1222+0x114a)*_0x360e14);}}['allocateCo'+'okieAtlas'](_0x1d5757){this['cookieAtla'+'s']['width']!==_0x1d5757&&(this['cookieRend'+'erTarget']['resize'](_0x1d5757,_0x1d5757),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(0x1d4d+0xb47*-0x1+-0x1204),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0x7bc0eb=this['shadowAtla'+'s']['renderTarg'+'ets'][0x9*0x1df+-0x2*0x2ed+-0x1d*0x61]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0x7bc0eb),this['_shadowAtl'+'asParams'][0x1*0xb47+-0x239*0xe+-0x13d7*-0x1]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][-0x941+0x8fe+-0x4*-0x11]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x21ad03,_0x4b6ae7){let _0x529b3c=_0x4b6ae7['atlasSplit'];if(!_0x529b3c){const _0x526e07=Math['ceil'](Math['sqrt'](_0x21ad03));_0x529b3c=Db,_0x529b3c[0x17a+-0x1*-0x1299+0x9*-0x23b]=_0x526e07,_0x529b3c['length']=-0x133e+0x2*0xa16+-0xed;}if(!((_0x705f53,_0x3c34e9)=>_0x705f53['length']===_0x3c34e9['length']&&_0x705f53['every']((_0x19c0cf,_0x1835b3)=>_0x19c0cf===_0x3c34e9[_0x1835b3]))(_0x529b3c,this['atlasSplit'])){this['version']++,this['slots']['length']=-0xaf1*0x3+-0x1cf3+0x3dc6,this['atlasSplit']['length']=-0x1*0x1c5+0x2*-0x1112+0x23e9,this['atlasSplit']['push'](..._0x529b3c);const _0x3016af=this['atlasSplit'][-0x7*-0x30b+-0x228d+-0x35*-0x40];if(_0x3016af>0x55d+0x1*0x12dd+-0x1839*0x1){const _0x2d8f21=(-0x15a1+-0x3*0x171+-0x1*-0x19f5)/_0x3016af;for(let _0x144e88=0x1b36+0x3*-0xaa1+0x4ad;_0x144e88<_0x3016af;_0x144e88++)for(let _0x5b4c5b=-0x6*-0x449+0xab*-0x1+-0x1*0x190b;_0x5b4c5b<_0x3016af;_0x5b4c5b++){const _0x5c517e=new re(_0x144e88*_0x2d8f21,_0x5b4c5b*_0x2d8f21,_0x2d8f21,_0x2d8f21),_0x248218=this['atlasSplit'][0xe54+-0x3*-0xc35+-0x1*0x32f2+_0x144e88*_0x3016af+_0x5b4c5b];if(_0x248218>0x1e*0x51+0xd17+-0x1694){for(let _0x28a76a=0x10*0x19c+-0xa60+0x10*-0xf6;_0x28a76a<_0x248218;_0x28a76a++)for(let _0x148183=-0x21d*-0xa+-0x173d+0x21b;_0x148183<_0x248218;_0x148183++){const _0x1605db=_0x2d8f21/_0x248218,_0x4f0b2f=new re(_0x5c517e['x']+_0x28a76a*_0x1605db,_0x5c517e['y']+_0x148183*_0x1605db,_0x1605db,_0x1605db);this['slots']['push'](new tf(_0x4f0b2f));}}else this['slots']['push'](new tf(_0x5c517e));}}else this['slots']['push'](new tf(new re(0x573*-0x3+-0x25d+0x12b6,0x1bd7*0x1+0x260e+-0x15f7*0x3,0x2*0x821+0x1f78+-0x2fb9,0xa7b*0x1+-0x1975+-0x127*-0xd)));this['slots']['sort']((_0x26ccfa,_0x2438d3)=>_0x2438d3['size']-_0x26ccfa['size']);}}['collectLig'+'hts'](_0x3ec489,_0x1146fa){const _0x2738fa=_0x1146fa['cookiesEna'+'bled'],_0x292b9a=_0x1146fa['shadowsEna'+'bled'];let _0x5b4ae1=!(0x4f0*-0x3+-0xd9*0x11+0x1d*0x102),_0x3a635e=!(0x88+-0x13e6+0x135f);const _0x4d7cb9=Mb;return _0x4d7cb9['length']=-0x4*-0x829+-0x59f*-0x5+-0x3cbf,(_0x2738fa||_0x292b9a)&&(_0x3a3b58=>{for(let _0xe4a6a6=-0x113d*-0x1+0x1*-0x1f6+-0xf47*0x1;_0xe4a6a6<_0x3a3b58['length'];_0xe4a6a6++){const _0x17ad88=_0x3a3b58[_0xe4a6a6];if(_0x17ad88['visibleThi'+'sFrame']){const _0x28f994=_0x292b9a&&_0x17ad88['castShadow'+'s'],_0x5d1fbb=_0x2738fa&&!!_0x17ad88['cookie'];_0x5b4ae1||(_0x5b4ae1=_0x28f994),_0x3a635e||(_0x3a635e=_0x5d1fbb),(_0x28f994||_0x5d1fbb)&&_0x4d7cb9['push'](_0x17ad88);}}})(_0x3ec489),_0x4d7cb9['sort']((_0x277bee,_0x49576b)=>_0x49576b['maxScreenS'+'ize']-_0x277bee['maxScreenS'+'ize']),_0x5b4ae1&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x1146fa['shadowType']),_0x3a635e&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x5b4ae1||_0x3a635e)&&this['subdivide'](_0x4d7cb9['length'],_0x1146fa),_0x4d7cb9;}['setupSlot'](_0x43e962,_0x5e9621){_0x43e962['atlasViewp'+'ort']['copy'](_0x5e9621);const _0x4a06c6=_0x43e962['numShadowF'+'aces'];for(let _0x797bac=0x84d+0x1*0xb44+0x1*-0x1391;_0x797bac<_0x4a06c6;_0x797bac++)if(_0x43e962['castShadow'+'s']||_0x43e962['_cookie']){if(xi['copy'](_0x5e9621),ef['copy'](_0x5e9621),_0x43e962['_type']===Ze&&xi['add'](this['scissorVec']),_0x43e962['_type']===Ke){const _0x5474df=xi['z']/(0xa64+-0xaed*0x2+-0x3d3*-0x3),_0x5f0bb1=this['cubeSlotsO'+'ffsets'][_0x797bac];xi['x']+=_0x5474df*_0x5f0bb1['x'],xi['y']+=_0x5474df*_0x5f0bb1['y'],xi['z']=_0x5474df,xi['w']=_0x5474df,ef['copy'](xi);}if(_0x43e962['castShadow'+'s']){const _0x2a8ea3=_0x43e962['getRenderD'+'ata'](null,_0x797bac);_0x2a8ea3['shadowView'+'port']['copy'](xi),_0x2a8ea3['shadowScis'+'sor']['copy'](ef);}}}['assignSlot'](_0x2adc04,_0x142433,_0x403b78){_0x2adc04['atlasViewp'+'ortAllocat'+'ed']=!(0x6ac+-0x2586+-0x2*-0xf6d);const _0x542516=this['slots'][_0x142433];_0x542516['lightId']=_0x2adc04['id'],_0x542516['used']=!(-0xd*-0x2+0xe*0x1f8+-0x1baa),_0x403b78&&(_0x2adc04['atlasSlotU'+'pdated']=!(0x26e+0x1bba+-0x1e28),_0x2adc04['atlasVersi'+'on']=this['version'],_0x2adc04['atlasSlotI'+'ndex']=_0x142433);}['update'](_0x20e312,_0x4193da){this['shadowAtla'+'sResolutio'+'n']=_0x4193da['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x4193da['cookieAtla'+'sResolutio'+'n'];const _0x2f8e43=this['collectLig'+'hts'](_0x20e312,_0x4193da);if(_0x2f8e43['length']>0x13cc*0x1+0x14*-0x6f+-0x20*0x59){const _0x2e025c=this['slots'];for(let _0x220421=0x2*-0xe87+-0x5*-0xc1+0x1949;_0x220421<_0x2e025c['length'];_0x220421++)_0x2e025c[_0x220421]['used']=!(0x1dfe+-0x7e*-0x19+-0x2a4b*0x1);const _0x387084=Math['min'](_0x2f8e43['length'],_0x2e025c['length']);for(let _0x422b66=0x1233*-0x2+0x55a*0x4+0xefe;_0x422b66<_0x387084;_0x422b66++){const _0x544172=_0x2f8e43[_0x422b66];_0x544172['castShadow'+'s']&&(_0x544172['_shadowMap']=this['shadowAtla'+'s']);const _0x1c18fc=_0x2e025c[_0x544172['atlasSlotI'+'ndex']];if(_0x544172['atlasVersi'+'on']===this['version']&&_0x544172['id']===(_0x1c18fc==null?void(0x6f7*-0x5+0x455*0x8+0x2b):_0x1c18fc['lightId'])){const _0x59305b=_0x2e025c[_0x544172['atlasSlotI'+'ndex']];_0x59305b['size']===_0x2e025c[_0x422b66]['size']&&!_0x59305b['used']&&this['assignSlot'](_0x544172,_0x544172['atlasSlotI'+'ndex'],!(0xa7a*-0x3+0x12e+0x1e41));}}let _0x43a6c1=0x1824+-0x1c96+0x472;for(let _0x503d00=-0x2b*-0x73+0x2*-0x15d+-0x1097;_0x503d00<_0x387084;_0x503d00++){for(;_0x43a6c1<_0x2e025c['length']&&_0x2e025c[_0x43a6c1]['used'];)_0x43a6c1++;const _0x6a322a=_0x2f8e43[_0x503d00];_0x6a322a['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x6a322a,_0x43a6c1,!(0x5*0x292+-0x11ee+0xa*0x82));const _0x5137a4=_0x2e025c[_0x6a322a['atlasSlotI'+'ndex']];this['setupSlot'](_0x6a322a,_0x5137a4['rect']);}}this['updateUnif'+'orms']();}}class Lb{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x2ff957=>{_0x2ff957['forEach'](_0x3adb9e=>{_0x3adb9e['destroy']();});}),this['cache']['clear']();}['getKey'](_0x421e27){const _0x58eb82=_0x421e27['_type']===Ke,_0x30ea6c=_0x421e27['_shadowTyp'+'e'],_0x505928=_0x421e27['_shadowRes'+'olution'];return _0x58eb82+'-'+_0x30ea6c+'-'+_0x505928;}['get'](_0x4df5ed,_0x159e2b){const _0xd77a11=this['getKey'](_0x159e2b),_0x4d27aa=this['cache']['get'](_0xd77a11);if(_0x4d27aa&&_0x4d27aa['length'])return _0x4d27aa['pop']();const _0x2b44a4=va['create'](_0x4df5ed,_0x159e2b);return _0x2b44a4['cached']=!(-0x1*-0x17f5+-0x2402+0xc0d),_0x2b44a4;}['add'](_0x45d082,_0x59e3ea){const _0x20cc8f=this['getKey'](_0x45d082),_0x591701=this['cache']['get'](_0x20cc8f);_0x591701?_0x591701['push'](_0x59e3ea):this['cache']['set'](_0x20cc8f,[_0x59e3ea]);}}class Rb extends ys{constructor(_0x59ef37,_0xc16e93,_0x10c643,_0x43c839,_0x31ebe){super(_0x59ef37),Ea['setName'](this,this['name']+'-'+_0x10c643['_node']['name']),this['requiresCu'+'bemaps']=!(0x1*-0x255e+0x20c9+0x2*0x24b),this['shadowRend'+'erer']=_0xc16e93,this['light']=_0x10c643,this['face']=_0x43c839,this['applyVsm']=_0x31ebe,this['shadowCame'+'ra']=_0xc16e93['prepareFac'+'e'](_0x10c643,null,_0x43c839),_0xc16e93['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(-0x6c7*0x2+0x18d+0xc01));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(-0xb5e*0x1+0x2250+0x1*-0x16f1));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class Ob{constructor(_0x1ec05a,_0x309da3){h(this,'shadowLigh'+'ts',[]),h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0x1ec05a,this['shadowRend'+'erer']=_0x309da3,this['device']=_0x1ec05a['device']);}['cull'](_0x3aa048,_0x41ba59,_0x3d09f9=null){const _0x5864ca=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x3aa048['visibleThi'+'sFrame']=!(0x1525+-0x2*-0x53a+0x1f99*-0x1),_0x5864ca||_0x3aa048['_shadowMap']||(_0x3aa048['_shadowMap']=va['create'](this['device'],_0x3aa048));const _0x342024=_0x3aa048['_type'],_0x123684=_0x342024===Ze?0x1*0x927+0x58*-0x10+-0x3a6:-0x4*0x2c8+-0x28f*0x9+0x222d;for(let _0x596e92=-0x1a15*-0x1+-0x1*0x21e6+0x1d*0x45;_0x596e92<_0x123684;_0x596e92++){const _0x2ea271=_0x3aa048['getRenderD'+'ata'](null,_0x596e92),_0x4e8556=_0x2ea271['shadowCame'+'ra'];_0x4e8556['nearClip']=_0x3aa048['attenuatio'+'nEnd']/(0x9eb*0x1+-0x55*0x68+0x1c85),_0x4e8556['farClip']=_0x3aa048['attenuatio'+'nEnd'];const _0x2d3be7=_0x4e8556['_node'],_0x21f72d=_0x3aa048['_node'];if(_0x2d3be7['setPositio'+'n'](_0x21f72d['getPositio'+'n']()),_0x342024===Ze)_0x4e8556['fov']=_0x3aa048['_outerCone'+'Angle']*(-0x8e+-0x111f*-0x1+-0x108f),_0x2d3be7['setRotatio'+'n'](_0x21f72d['getRotatio'+'n']()),_0x2d3be7['rotateLoca'+'l'](-(0xc1+0x1456+-0x14bd),0x3*-0x4ca+-0xced+0x33*0x89,0x23af+-0x2161+-0x127*0x2);else{if(_0x342024===Ke){if(_0x5864ca){const _0x3ed245=(-0x209f*0x1+-0x14cb+0x356c)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x3aa048['atlasViewp'+'ort']['z']/(-0x83c+0x1*0x1741+-0xf02))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x4e8556['fov']=Math['atan'](-0xd54*0x1+0x8d2*-0x1+0x1627+_0x3ed245)*Y['RAD_TO_DEG']*(-0xb*-0x1d+0x2f*0x25+-0x808);}else _0x4e8556['fov']=0x7d1+0x22ea+-0x23b*0x13;}}this['renderer']['updateCame'+'raFrustum'](_0x4e8556),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x41ba59,_0x3aa048,_0x2ea271['visibleCas'+'ters'],_0x4e8556,_0x3d09f9);}}['prepareLig'+'hts'](_0x56b079,_0x331ba3){let _0x2e8a79;for(let _0x122771=-0x25b2+0x2209*-0x1+-0x17e9*-0x3;_0x122771<_0x331ba3['length'];_0x122771++){const _0x4491e5=_0x331ba3[_0x122771];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x4491e5)&&_0x4491e5['atlasViewp'+'ortAllocat'+'ed']){_0x56b079['push'](_0x4491e5);for(let _0x5e8a14=0x394*0x1+-0x2b0*-0x5+-0x1104;_0x5e8a14<_0x4491e5['numShadowF'+'aces'];_0x5e8a14++)_0x2e8a79=this['shadowRend'+'erer']['prepareFac'+'e'](_0x4491e5,null,_0x5e8a14);}}return _0x2e8a79;}['buildNonCl'+'usteredRen'+'derPasses'](_0xfa367a,_0x46187f){for(let _0x53409a=-0x196c+-0x16b2+-0x805*-0x6;_0x53409a<_0x46187f['length'];_0x53409a++){const _0x5fa906=_0x46187f[_0x53409a];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x5fa906)){const _0x4056eb=_0x5fa906['_type']===Ze,_0x52e3fc=_0x5fa906['numShadowF'+'aces'];for(let _0x59669c=-0x1bdc+0xf13*-0x2+0x3a02;_0x59669c<_0x52e3fc;_0x59669c++){const _0x300ab7=new Rb(this['device'],this['shadowRend'+'erer'],_0x5fa906,_0x59669c,_0x4056eb);_0xfa367a['addRenderP'+'ass'](_0x300ab7);}}}}}class Fb extends ys{constructor(_0xf1cb47,_0x457536,_0x405770,_0x19dd57,_0x3899c5){super(_0xf1cb47),Ea['setName'](this,this['name']+'-'+_0x405770['_node']['name']),this['shadowRend'+'erer']=_0x457536,this['light']=_0x405770,this['camera']=_0x19dd57,this['allCascade'+'sRendering']=_0x3899c5;}['execute'](){const {light:_0x76483,camera:_0x3d5d5c,shadowRenderer:_0x59c932,allCascadesRendering:_0x48f42f}=this,_0x435a38=_0x76483['numShadowF'+'aces'],_0x594b24=_0x76483['shadowUpda'+'teOverride'+'s'];for(let _0x2b3810=0x15a*0xb+-0x1*-0xfd+-0x171*0xb;_0x2b3810<_0x435a38;_0x2b3810++)(_0x594b24==null?void(0x1d*-0x125+-0xfed*0x1+0x2*0x188f):_0x594b24[_0x2b3810])!==Ps&&_0x59c932['renderFace'](_0x76483,_0x3d5d5c,_0x2b3810,!_0x48f42f),(_0x594b24==null?void(-0x2291+-0x1*-0x1e6+-0x1*-0x20ab):_0x594b24[_0x2b3810])===xr&&(_0x594b24[_0x2b3810]=Ps);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const lc=new De(),Ti=new D(),H_=new te(),Xe=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()],sf={'min':0x0,'max':0x0};function Nb(_0x87bc63,_0x3640ec,_0x30533a){Xe[-0x2019+-0x842+0x285b]['x']=Xe[0xe5*0x29+0x1*0x1fde+-0x448a]['x']=Xe[-0x1f2b+-0xc1b+0x2b48]['x']=Xe[-0x1b*0xf8+0x7*0x199+0xefc]['x']=_0x3640ec['x'],Xe[0x3*-0x92d+0x435*0x8+-0x620]['y']=Xe[0x461+0xe78*0x1+-0x12d6]['y']=Xe[0x4f*0x72+0x125*0x19+-0x3fc4]['y']=Xe[-0x780+-0x197b*0x1+0x2100]['y']=_0x3640ec['y'],Xe[0x2240+-0x1652+-0xbec]['z']=Xe[-0xc5b+0x19c6*0x1+-0x42*0x34]['z']=Xe[0x48f+0xcc8+-0x1151]['z']=Xe[0x15b+-0xf2a+0xdd6]['z']=_0x3640ec['z'],Xe[-0x130b+0x12b2+-0x5d*-0x1]['x']=Xe[0x13f1+0x3ad*-0x3+0x21*-0x45]['x']=Xe[-0xd6+-0x1713*-0x1+-0x1637]['x']=Xe[-0x1305+-0x26b3+0x39bf]['x']=_0x30533a['x'],Xe[0xab8+0x1c35+0x7c9*-0x5]['y']=Xe[-0x1*0x17fb+-0x227+0x1a24]['y']=Xe[-0x1*-0xd3d+-0x538*-0x1+-0x1*0x1271]['y']=Xe[-0x159*-0x19+0x1*0x1bbf+-0x3d6a]['y']=_0x30533a['y'],Xe[-0x1277+-0x1d*0xef+0x2d8a]['z']=Xe[-0xe*-0xce+0x2112+-0x75*0x61]['z']=Xe[0x3b*0x35+0x166+-0x1*0xd99]['z']=Xe[-0xa8c+-0xf*0xfa+0x5*0x50b]['z']=_0x30533a['z'];let _0x2a6f0c=0x2efc47f33+-0x1d2*-0x2169a0d+0xd*-0x56d5ecd6,_0x28ee1c=-(-0xa526b2b*0x2b+0x1a24c3b41+0x156f2923*0x1d);for(let _0x4fc2fd=0x2*0x9d2+0x29d+0x279*-0x9;_0x4fc2fd<-0x13cb+-0x1*-0x1f58+0xb85*-0x1;++_0x4fc2fd){_0x87bc63['transformP'+'oint'](Xe[_0x4fc2fd],Xe[_0x4fc2fd]);const _0x44db22=Xe[_0x4fc2fd]['z'];_0x44db22<_0x2a6f0c&&(_0x2a6f0c=_0x44db22),_0x44db22>_0x28ee1c&&(_0x28ee1c=_0x44db22);}return sf['min']=_0x2a6f0c,sf['max']=_0x28ee1c,sf;}class kb{constructor(_0x579154,_0x22131b){h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0x579154,this['shadowRend'+'erer']=_0x22131b,this['device']=_0x579154['device']);}['cull'](_0x1955c0,_0x2622d9,_0x17c1bc,_0x18baf7=null){_0x1955c0['visibleThi'+'sFrame']=!(0x5ba*-0x1+-0x1*-0x100a+-0xa50),_0x1955c0['_shadowMap']||(_0x1955c0['_shadowMap']=va['create'](this['device'],_0x1955c0));const _0x1b6ae0=_0x17c1bc['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x1955c0,_0x1b6ae0,Math['min'](_0x17c1bc['_farClip'],_0x1955c0['shadowDist'+'ance']));const _0x490518=_0x1955c0['shadowUpda'+'teOverride'+'s'];for(let _0x1ad6f1=-0x1dde+0x24*-0x38+0x1*0x25be;_0x1ad6f1<_0x1955c0['numCascade'+'s']&&(_0x490518==null?void(0x7b0+0x14*0x12e+-0xb*0x2d8):_0x490518[_0x1ad6f1])!==Ps;_0x1ad6f1++){const _0x449c07=_0x1955c0['getRenderD'+'ata'](_0x17c1bc,_0x1ad6f1),_0x997df7=_0x449c07['shadowCame'+'ra'];_0x997df7['renderTarg'+'et']=_0x1955c0['_shadowMap']['renderTarg'+'ets'][0x10d*-0x25+-0x1c2e+0x1*0x430f],_0x449c07['shadowView'+'port']['copy'](_0x1955c0['cascades'][_0x1ad6f1]),_0x449c07['shadowScis'+'sor']['copy'](_0x1955c0['cascades'][_0x1ad6f1]);const _0x43c6f7=_0x997df7['_node'],_0x388672=_0x1955c0['_node'];_0x43c6f7['setPositio'+'n'](_0x388672['getPositio'+'n']()),_0x43c6f7['setRotatio'+'n'](_0x388672['getRotatio'+'n']()),_0x43c6f7['rotateLoca'+'l'](-(0x1146+-0x2650+0x1564),0x45*0x5d+-0x1527+0x6*-0xa7,-0x1*-0x12d6+-0x1*0x1b9d+0x8c7);const _0x5115ed=_0x1ad6f1===0x15d*-0xb+0x50a*-0x6+0x2d3b?_0x1b6ae0:_0x1955c0['_shadowCas'+'cadeDistan'+'ces'][_0x1ad6f1-(0x1*0x4a8+-0x1*0xf47+0xaa0)],_0xe22f9=_0x1955c0['_shadowCas'+'cadeDistan'+'ces'][_0x1ad6f1],_0x5aaa46=_0x17c1bc['getFrustum'+'Corners'](_0x5115ed,_0xe22f9);Ti['set'](0x161+0x1*0x13e1+0x1*-0x1542,-0x17b5+-0x743+0x1ef8,-0x30a*-0x5+0x5db+0x11*-0x13d);const _0x27b220=_0x17c1bc['node']['getWorldTr'+'ansform']();for(let _0x15e47d=-0x3*-0x11e+0x1385*-0x1+-0x1*-0x102b;_0x15e47d<-0x5*-0x7ba+0x35*0xa9+-0x4997;_0x15e47d++)_0x27b220['transformP'+'oint'](_0x5aaa46[_0x15e47d],_0x5aaa46[_0x15e47d]),Ti['add'](_0x5aaa46[_0x15e47d]);Ti['mulScalar']((-0x278+0xc13+-0x99a)/(-0x12f5*0x1+0x527*0x5+0x6c6*-0x1));let _0x15a49e=-0x1bf+-0x74*0x17+0xc2b;for(let _0xd92d14=-0x14da+0x2f7*-0xd+0x3b65;_0xd92d14<0x2*0x643+-0x1*0x2545+0x18c7;_0xd92d14++){const _0x36be03=_0x5aaa46[_0xd92d14]['sub'](Ti)['length']();_0x36be03>_0x15a49e&&(_0x15a49e=_0x36be03);}const _0xff7462=_0x43c6f7['right'],_0xcd4735=_0x43c6f7['up'],_0x2b5cf9=_0x43c6f7['forward'],_0x218f51=(0x2f+-0x1f2c+-0x1efd*-0x1+0.25)*_0x1955c0['_shadowRes'+'olution']/_0x15a49e,_0x6dffa3=Math['ceil'](Ti['dot'](_0xcd4735)*_0x218f51)/_0x218f51,_0x286c48=Math['ceil'](Ti['dot'](_0xff7462)*_0x218f51)/_0x218f51,_0x5beb1d=_0xcd4735['mulScalar'](_0x6dffa3),_0x2224d8=_0xff7462['mulScalar'](_0x286c48),_0x3461b3=Ti['dot'](_0x2b5cf9),_0x2ed4aa=_0x2b5cf9['mulScalar'](_0x3461b3);Ti['add2'](_0x5beb1d,_0x2224d8)['add'](_0x2ed4aa),_0x43c6f7['setPositio'+'n'](Ti),_0x43c6f7['translateL'+'ocal'](-0x348+0x1c74+-0x4*0x64b,-0xeb8+-0x125d*-0x2+-0x1602,-0x59*-0x4ee9+0xca0e4+-0x18cda5),_0x997df7['nearClip']=-0x1ff3+-0x112*0x8+0x2883+0.01,_0x997df7['farClip']=0x1*-0x2f2e7+0x12e8e2+0xe8e85,_0x997df7['orthoHeigh'+'t']=_0x15a49e,this['renderer']['updateCame'+'raFrustum'](_0x997df7),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x2622d9,_0x1955c0,_0x449c07['visibleCas'+'ters'],_0x997df7,_0x18baf7);const _0x19eb7f=-0x7*0x4a8+0x24a4+-0x40b<<_0x1ad6f1,_0x3eb73f=_0x449c07['visibleCas'+'ters'],_0x4b197a=_0x3eb73f['length'];let _0x1e2b70=-0x2*-0x4d6+0xe49+0x1*-0x17f5;for(let _0x5e2f39=-0x13bb*-0x1+0x9ea+-0x1da5;_0x5e2f39<_0x4b197a;_0x5e2f39++){const _0x54310f=_0x3eb73f[_0x5e2f39];_0x54310f['shadowCasc'+'adeMask']&_0x19eb7f&&(_0x3eb73f[_0x1e2b70++]=_0x54310f,_0x1e2b70===0x14f7*-0x1+0x1da+0x131e?lc['copy'](_0x54310f['aabb']):lc['add'](_0x54310f['aabb']));}_0x4b197a!==_0x1e2b70&&(_0x3eb73f['length']=_0x1e2b70),H_['copy'](_0x43c6f7['getWorldTr'+'ansform']())['invert']();const _0x2721de=Nb(H_,lc['getMin'](),lc['getMax']());_0x43c6f7['translateL'+'ocal'](-0x61c+-0xb8f+-0x1*-0x11ab,0x140b+-0x47*0x79+0xd84,_0x2721de['max']+(-0x1*0x1047+-0x1586+-0x1*-0x25cd+0.1)),_0x997df7['farClip']=_0x2721de['max']-_0x2721de['min']+(0x1*0x16d7+0x3e7+-0x1abe+0.2),_0x449c07['projection'+'Compensati'+'on']=_0x15a49e;}}['generateSp'+'litDistanc'+'es'](_0x26d21d,_0x1008ed,_0x599796){_0x26d21d['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x599796);for(let _0x491514=-0x1c09+-0xa56+0x10*0x266;_0x491514<_0x26d21d['numCascade'+'s'];_0x491514++){const _0x23f0ae=_0x491514/_0x26d21d['numCascade'+'s'],_0x58098c=_0x1008ed+(_0x599796-_0x1008ed)*_0x23f0ae,_0x3a7bfa=_0x1008ed*(_0x599796/_0x1008ed)**_0x23f0ae,_0x4571a1=Y['lerp'](_0x58098c,_0x3a7bfa,_0x26d21d['cascadeDis'+'tribution']);_0x26d21d['_shadowCas'+'cadeDistan'+'ces'][_0x491514-(-0x2*-0x919+-0x1*-0x209+-0x143a)]=_0x4571a1;}}['getLightRe'+'nderPass'](_0xfef9f0,_0x440acb){w['assert'](_0xfef9f0&&_0xfef9f0['_type']===ve);let _0x315c2f=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0xfef9f0)){const _0x6f6a5b=_0xfef9f0['numShadowF'+'aces'],_0x29efea=_0xfef9f0['shadowUpda'+'teOverride'+'s'];let _0x1572c5=!(-0x4*0x841+0x3*0x875+0x7a5),_0x592090;for(let _0x4b0257=0x16dc+-0x1955+0x279;_0x4b0257<_0x6f6a5b;_0x4b0257++)(_0x29efea==null?void(-0x8b9*-0x2+0x113c*0x1+-0x22ae):_0x29efea[_0x4b0257])===Ps&&(_0x1572c5=!(0x8e6+0xb*0xa1+0xfd0*-0x1)),_0x592090=this['shadowRend'+'erer']['prepareFac'+'e'](_0xfef9f0,_0x440acb,_0x4b0257);_0x315c2f=new Fb(this['device'],this['shadowRend'+'erer'],_0xfef9f0,_0x440acb,_0x1572c5),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x315c2f,_0x592090,_0x1572c5);}return _0x315c2f;}}const rf=new Set(),W_=new te(),$_=new te(),Fr=new Float32Array(0x1192+-0x388*-0xa+-0x2*0x1a70),lo=new re(0x1*-0x1a05+-0x772*0x4+0x37ce,0x1303+0x275+-0x1577,-0x182e+0x1*0x190e+-0xe0,0x2138+-0x1*0x26e6+0x2d7*0x2),X_=new te();function Ub(_0x5925dc,_0x3459f1){return Math['exp'](-(_0x5925dc*_0x5925dc)/((-0xf*0x178+-0x1*-0x2688+-0x107e)*_0x3459f1*_0x3459f1));}function Bb(_0x69ae50){const _0x4b0ca6=(_0x69ae50-(0x773*0x5+0x1a3e+-0x3f7c))/(0x6d4+-0x9*-0x112+-0x1070),_0x522c92=(_0x69ae50-(0xb3*0x31+-0x2dd*-0x1+-0x251f))*(-0x1497+-0x3e0*-0x8+-0x215*0x5+0.5),_0xc3fd10=new Array(_0x69ae50);let _0x5c6986=-0x5*-0xc3+-0x1*-0x1c7f+0x204e*-0x1;for(let _0x1f519a=0x166b+0x4cc+-0x1b37;_0x1f519a<_0x69ae50;++_0x1f519a)_0xc3fd10[_0x1f519a]=Ub(_0x1f519a-_0x522c92,_0x4b0ca6),_0x5c6986+=_0xc3fd10[_0x1f519a];for(let _0x1af038=-0x12d*-0xd+-0x2466+0x439*0x5;_0x1af038<_0x69ae50;++_0x1af038)_0xc3fd10[_0x1af038]/=_0x5c6986;return _0xc3fd10;}class Cv{constructor(_0x2906be,_0xcd5c76){h(this,'shadowPass'+'Cache',[]),(this['device']=_0x2906be['device'],this['renderer']=_0x2906be,this['lightTextu'+'reAtlas']=_0xcd5c76);const _0x1c26e0=this['device']['scope'];this['sourceId']=_0x1c26e0['resolve']('source'),this['pixelOffse'+'tId']=_0x1c26e0['resolve']('pixelOffse'+'t'),this['weightId']=_0x1c26e0['resolve']('weight[0]'),this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x1c26e0['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new pt(),this['blendState'+'NoWrite']=new pt(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(0x21c+0x17ec+-0x1a07),!(-0x13*-0x163+0x389*-0x7+0x1*-0x199),!(0x1b06*-0x1+-0xd98*0x2+0x3637),!(0x1cc*0x12+0x4a6+-0x24fd));}static['createShad'+'owCamera'](_0x55dc9e,_0x6e1f9c,_0x286647){const _0x35dd49=Wn['create']('ShadowCame'+'ra',_0x6e1f9c,_0x286647),_0x2cb6f0=qi['get'](_0x55dc9e);w['assert'](_0x2cb6f0);const _0x5751a7=(_0x2cb6f0==null?void(-0x1*0xd8b+0x2314+-0x1589):_0x2cb6f0['vsm'])??!(0x24c6+-0x21c0+-0x305*0x1),_0x524d77=(_0x2cb6f0==null?void(-0x1*-0x2638+0x23c9*0x1+-0x4a01):_0x2cb6f0['pcf'])??!(-0x1*-0x1d69+0x195+-0x1*0x1efd);return _0x5751a7?_0x35dd49['clearColor']=new ie(0x6d*-0x13+-0x2*-0xc0b+-0xfff,0x1*-0x496+0x3c*-0x13+-0x485*-0x2,0x105e*-0x1+0x1*0xc50+0x3*0x15a,-0x111*0x21+0x1828+0xb09):_0x35dd49['clearColor']=new ie(-0x1f2*-0x11+-0x1524+-0xbed,0x61+-0x107*0x11+-0x1117*-0x1,-0x1c1f+0x120d*0x1+0xa13,-0x1973+-0x3a*0x95+0x3b36),_0x35dd49['clearDepth'+'Buffer']=!(0x22bd*0x1+0x1f*-0x1c+-0x6b*0x4b),_0x35dd49['clearStenc'+'ilBuffer']=!(0x19af+-0x13e+-0x1870),_0x35dd49['clearColor'+'Buffer']=!_0x524d77,_0x35dd49;}['_cullShado'+'wCastersIn'+'ternal'](_0x568f13,_0x144871,_0x2e7b8d){const _0x2173dd=_0x568f13['length'];for(let _0x48874d=-0x231b+0x13a4+0xf77;_0x48874d<_0x2173dd;_0x48874d++){const _0x1f8c43=_0x568f13[_0x48874d];_0x1f8c43['castShadow']&&(!_0x1f8c43['cull']||_0x1f8c43['_isVisible'](_0x2e7b8d))&&(_0x1f8c43['visibleThi'+'sFrame']=!(-0x747+-0x1*0x1262+-0x1*-0x19a9),_0x144871['push'](_0x1f8c43));}}['cullShadow'+'Casters'](_0x57ae0c,_0x186f13,_0x3bfbc0,_0x587322,_0xaf1fd3){var _0x4d99f3,_0x4af327;if((_0x4d99f3=this['renderer']['scene'])==null||_0x4d99f3['fire'](mv,_0x587322),_0x3bfbc0['length']=-0xe03+-0x1*-0x18ab+0x2*-0x554,_0xaf1fd3)this['_cullShado'+'wCastersIn'+'ternal'](_0xaf1fd3,_0x3bfbc0,_0x587322);else{const _0x4f901b=_0x57ae0c['layerList'],_0x291c98=_0x4f901b['length'];for(let _0x55dfa7=0x233f+-0x2*-0xd7f+-0x3e3d;_0x55dfa7<_0x291c98;_0x55dfa7++){const _0x162f38=_0x4f901b[_0x55dfa7];_0x162f38['_lightsSet']['has'](_0x186f13)&&(rf['has'](_0x162f38)||(rf['add'](_0x162f38),this['_cullShado'+'wCastersIn'+'ternal'](_0x162f38['shadowCast'+'ers'],_0x3bfbc0,_0x587322)));}rf['clear']();}_0x3bfbc0['sort'](this['sortCompar'+'eShader']),(_0x4af327=this['renderer']['scene'])==null||_0x4af327['fire'](_v,_0x587322);}['sortCompar'+'eShader'](_0x48f20d,_0x5ed7cf){const _0x589e5c=_0x48f20d['_sortKeySh'+'adow'],_0x490de0=_0x5ed7cf['_sortKeySh'+'adow'];return _0x589e5c===_0x490de0?_0x5ed7cf['mesh']['id']-_0x48f20d['mesh']['id']:_0x490de0-_0x589e5c;}['setupRende'+'rState'](_0x1405f0,_0x569ca3){const _0x5ec788=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x569ca3['_isPcf']:_0x569ca3['_isPcf']&&_0x569ca3['_type']!==Ke;_0x1405f0['setBlendSt'+'ate'](_0x5ec788?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x1405f0['setDepthSt'+'ate'](_0x569ca3['shadowDept'+'hState']),_0x1405f0['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x33d779,_0x234f73,_0x2ced45,_0x192c61){const _0x54f18f=_0x234f73['_node'];_0x33d779['_type']!==ve&&(this['renderer']['dispatchVi'+'ewPos'](_0x54f18f['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x33d779['attenuatio'+'nEnd'])),W_['setTRS'](_0x54f18f['getPositio'+'n'](),_0x54f18f['getRotatio'+'n'](),D['ONE'])['invert'](),$_['mul2'](_0x234f73['projection'+'Matrix'],W_);const _0x4f6f95=_0x2ced45['shadowView'+'port'];_0x234f73['rect']=_0x4f6f95,_0x234f73['scissorRec'+'t']=_0x2ced45['shadowScis'+'sor'],X_['setViewpor'+'t'](_0x4f6f95['x'],_0x4f6f95['y'],_0x4f6f95['z'],_0x4f6f95['w']),_0x2ced45['shadowMatr'+'ix']['mul2'](X_,$_),_0x33d779['_type']===ve&&_0x33d779['_shadowMat'+'rixPalette']['set'](_0x2ced45['shadowMatr'+'ix']['data'],_0x192c61*(-0x1*0x1276+-0xd39+0x1fbf));}['getShadowP'+'ass'](_0x4cf9dd){var _0x43a6a0;const _0x1f5e33=_0x4cf9dd['_type'],_0x5d0bc4=_0x4cf9dd['_shadowTyp'+'e'];let _0x26092a=(_0x43a6a0=this['shadowPass'+'Cache'][_0x1f5e33])==null?void(-0xfc9+0x7c0+0x809):_0x43a6a0[_0x5d0bc4];if(!_0x26092a){const _0x5658f2='ShadowPass'+'_'+_0x1f5e33+'_'+_0x5d0bc4;_0x26092a=Si['get'](this['device'])['allocate'](_0x5658f2,{'isShadow':!(-0x2*0x905+-0x2078+0x3282),'lightType':_0x1f5e33,'shadowType':_0x5d0bc4}),this['shadowPass'+'Cache'][_0x1f5e33]||(this['shadowPass'+'Cache'][_0x1f5e33]=[]),this['shadowPass'+'Cache'][_0x1f5e33][_0x5d0bc4]=_0x26092a;}return _0x26092a['index'];}['submitCast'+'ers'](_0x55fcab,_0x79c0f7,_0x48e8aa){var _0x3f1ea7;const _0x5e0648=this['device'],_0x1ba0e3=this['renderer'],_0x15a199=_0x1ba0e3['scene'],_0x15993d=0x541*0x5+0x1*0x22eb+-0x3d2f<<cm,_0x3e7058=this['getShadowP'+'ass'](_0x79c0f7),_0x108f09=_0x48e8aa['shaderPara'+'ms'],_0x2b97bb=_0x48e8aa['renderTarg'+'et']['flipY']?-(0x27b+-0x95+-0x61*0x5):-0x182a+0xef2+0x1*0x939,_0xce36e0=_0x55fcab['length'];for(let _0x3f472b=0x1*-0x1594+-0x16*-0xdf+0xce*0x3;_0x3f472b<_0xce36e0;_0x3f472b++){const _0x41235a=_0x55fcab[_0x3f472b],_0x5a2a3c=_0x41235a['mesh'],_0x104f4e=_0x41235a['instancing'+'Data'];if(_0x104f4e&&_0x104f4e['count']<=-0x229b+0xa86+-0x2ad*-0x9)continue;_0x41235a['ensureMate'+'rial'](_0x5e0648);const _0x24dd37=_0x41235a['material'];Q['pushGpuMar'+'ker'](_0x5e0648,'Node:\x20'+_0x41235a['node']['name']+(',\x20Material'+':\x20')+_0x24dd37['name']),_0x1ba0e3['setBaseCon'+'stants'](_0x5e0648,_0x24dd37),_0x1ba0e3['setSkinnin'+'g'](_0x5e0648,_0x41235a),_0x24dd37['dirty']&&(_0x24dd37['updateUnif'+'orms'](_0x5e0648,_0x15a199),_0x24dd37['dirty']=!(0x1*0x1837+-0x1f07+0x15d*0x5)),_0x1ba0e3['setupCullM'+'ode'](!(-0x1966+-0x2299+0x3bff),_0x2b97bb,_0x41235a),_0x24dd37['setParamet'+'ers'](_0x5e0648),_0x41235a['setParamet'+'ers'](_0x5e0648,_0x15993d);const _0xeccd18=_0x41235a['getShaderI'+'nstance'](_0x3e7058,0x3bb+-0xdca+0xa0f,_0x15a199,_0x108f09,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x3fe857=_0xeccd18['shader'];if(w['assert'](_0x3fe857,'no\x20shader\x20'+'for\x20pass\x20'+_0x3e7058,_0x24dd37),_0x3fe857['failed'])continue;_0x41235a['_sortKeySh'+'adow']=_0x3fe857['id'],_0x5e0648['setShader'](_0x3fe857),_0x1ba0e3['setVertexB'+'uffers'](_0x5e0648,_0x5a2a3c),_0x1ba0e3['setMorphin'+'g'](_0x5e0648,_0x41235a['morphInsta'+'nce']),_0x104f4e&&_0x5e0648['setVertexB'+'uffer'](_0x104f4e['vertexBuff'+'er']),_0x1ba0e3['setMeshIns'+'tanceMatri'+'ces'](_0x41235a),_0x1ba0e3['setupMeshU'+'niformBuff'+'ers'](_0xeccd18);const _0x3b945d=_0x41235a['renderStyl'+'e'],_0x3cfc11=(_0x3f1ea7=_0x41235a['indirectDa'+'ta'])==null?void(0x45*-0x5d+-0x1497+-0x1*-0x2da8):_0x3f1ea7['get'](_0x48e8aa);_0x5e0648['draw'](_0x5a2a3c['primitive'][_0x3b945d],_0x5a2a3c['indexBuffe'+'r'][_0x3b945d],_0x104f4e==null?void(0x24fb*0x1+-0x1a7*-0x9+0x1*-0x33da):_0x104f4e['count'],_0x3cfc11),_0x1ba0e3['_shadowDra'+'wCalls']++,_0x104f4e&&_0x1ba0e3['_instanced'+'DrawCalls']++,Q['popGpuMark'+'er'](_0x5e0648);}}['needsShado'+'wRendering'](_0x1a4f59){const _0x94ae2a=_0x1a4f59['enabled']&&_0x1a4f59['castShadow'+'s']&&_0x1a4f59['shadowUpda'+'teMode']!==Ps&&_0x1a4f59['visibleThi'+'sFrame'];return _0x1a4f59['shadowUpda'+'teMode']===xr&&(_0x1a4f59['shadowUpda'+'teMode']=Ps),_0x94ae2a&&(this['renderer']['_shadowMap'+'Updates']+=_0x1a4f59['numShadowF'+'aces']),_0x94ae2a;}['getLightRe'+'nderData'](_0x40b752,_0xb69358,_0x5ac302){return _0x40b752['getRenderD'+'ata'](_0x40b752['_type']===ve?_0xb69358:null,_0x5ac302);}['setupRende'+'rPass'](_0x13feaf,_0x22e1df,_0x955c17){const _0x58522c=_0x22e1df['renderTarg'+'et'];_0x13feaf['init'](_0x58522c),_0x13feaf['depthStenc'+'ilOps']['clearDepth'+'Value']=-0x22d8+0x2274+0x65,_0x13feaf['depthStenc'+'ilOps']['clearDepth']=_0x955c17,_0x58522c['depthBuffe'+'r']?_0x13feaf['depthStenc'+'ilOps']['storeDepth']=!(0x3*-0x3cb+-0x355*0xb+0x3008*0x1):(_0x13feaf['colorOps']['clearValue']['copy'](_0x22e1df['clearColor']),_0x13feaf['colorOps']['clear']=_0x955c17,_0x13feaf['depthStenc'+'ilOps']['storeDepth']=!(0x3*-0x4eb+-0x1ee1+0x685*0x7)),_0x13feaf['requiresCu'+'bemaps']=!(0x1725+0x1549+-0x29d*0x11);}['prepareFac'+'e'](_0x385fbc,_0x1a5fa4,_0x4c76c5){const _0x4403ef=_0x385fbc['_type'],_0x4d56e5=this['getLightRe'+'nderData'](_0x385fbc,_0x1a5fa4,_0x4c76c5)['shadowCame'+'ra'],_0x154684=_0x4403ef===ve?0x14f5+-0x989+0x11*-0xac:_0x4c76c5;return _0x4d56e5['renderTarg'+'et']=_0x385fbc['_shadowMap']['renderTarg'+'ets'][_0x154684],_0x4d56e5;}['renderFace'](_0x28309f,_0x3360a5,_0x3299d0,_0x1ceb7f,_0x2d846f=!(-0x2224+0x43*-0x17+0x2829)){const _0x33d1c0=this['device'],_0x53ba5d=de();Q['pushGpuMar'+'ker'](_0x33d1c0,'SHADOW\x20'+_0x28309f['_node']['name']+'\x20FACE\x20'+_0x3299d0);const _0x5a304d=this['getLightRe'+'nderData'](_0x28309f,_0x3360a5,_0x3299d0),_0x17bb38=_0x5a304d['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x28309f,_0x17bb38,_0x5a304d,_0x3299d0);const _0x2adf28=_0x17bb38['renderTarg'+'et'],_0x180653=this['renderer'];_0x180653['setCameraU'+'niforms'](_0x17bb38,_0x2adf28),_0x33d1c0['supportsUn'+'iformBuffe'+'rs']&&_0x180653['setupViewU'+'niformBuff'+'ers'](_0x5a304d['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],null),_0x2d846f?(_0x180653['setupViewp'+'ort'](_0x17bb38,_0x2adf28),_0x1ceb7f&&_0x180653['clear'](_0x17bb38)):_0x180653['clearView'](_0x17bb38,_0x2adf28,!(-0x1c1*-0x2+0x18d8+-0x1c5a),!(0x9c6+0x24e1+-0x2ea6)),this['setupRende'+'rState'](_0x33d1c0,_0x28309f),this['submitCast'+'ers'](_0x5a304d['visibleCas'+'ters'],_0x28309f,_0x17bb38),Q['popGpuMark'+'er'](_0x33d1c0),_0x180653['_shadowMap'+'Time']+=de()-_0x53ba5d;}['render'](_0x3ab2eb,_0x546a33,_0x5e16fa=!(0x19*-0x107+-0xa*-0x27e+0xc3)){if(this['needsShado'+'wRendering'](_0x3ab2eb)){const _0x42d568=_0x3ab2eb['numShadowF'+'aces'];for(let _0x18ee70=-0x2016+-0x3ea*-0x1+0x1c2c*0x1;_0x18ee70<_0x42d568;_0x18ee70++)this['prepareFac'+'e'](_0x3ab2eb,_0x546a33,_0x18ee70),this['renderFace'](_0x3ab2eb,_0x546a33,_0x18ee70,!(0x1*0x1425+0x9ed+-0x1e12),_0x5e16fa);this['renderVsm'](_0x3ab2eb,_0x546a33);}}['renderVsm'](_0x463a21,_0x4def60){_0x463a21['_isVsm']&&_0x463a21['_vsmBlurSi'+'ze']>0x1*0x61+0x1*0x332+0x2*-0x1c9&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x463a21['_type']===ve)&&this['applyVsmBl'+'ur'](_0x463a21,_0x4def60);}['getVsmBlur'+'Shader'](_0x4d2e6e,_0x134ec1){const _0x3e0ce1=this['blurVsmSha'+'der'];let _0x303ce1=_0x3e0ce1[_0x4d2e6e][_0x134ec1];if(!_0x303ce1){this['blurVsmWei'+'ghts'][_0x134ec1]=Bb(_0x134ec1);const _0x3aa366=new Map();_0x3aa366['set']('{SAMPLES}',_0x134ec1),_0x4d2e6e===-0xb8c+0x18f2+-0xd65&&_0x3aa366['set']('GAUSS',''),_0x303ce1=$t['createShad'+'er'](this['device'],{'uniqueName':'blurVsm'+_0x4d2e6e+_0x134ec1,'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'blurVSMPS','fragmentDefines':_0x3aa366}),_0x3e0ce1[_0x4d2e6e][_0x134ec1]=_0x303ce1;}return _0x303ce1;}['applyVsmBl'+'ur'](_0x36ece0,_0x2bc663){const _0x3d5768=this['device'];Q['pushGpuMar'+'ker'](_0x3d5768,'VSM\x20'+_0x36ece0['_node']['name']),_0x3d5768['setBlendSt'+'ate'](pt['NOBLEND']);const _0x3e5122=_0x36ece0['getRenderD'+'ata'](_0x36ece0['_type']===ve?_0x2bc663:null,0x2336+-0x1e21+-0x515)['shadowCame'+'ra']['renderTarg'+'et'],_0x323d3c=this['renderer']['shadowMapC'+'ache']['get'](_0x3d5768,_0x36ece0),_0x13cc84=_0x323d3c['renderTarg'+'ets'][0x235d+0x263+-0x4b8*0x8],_0x101f09=_0x36ece0['vsmBlurMod'+'e'],_0x1917d1=_0x36ece0['_vsmBlurSi'+'ze'],_0x2cd440=this['getVsmBlur'+'Shader'](_0x101f09,_0x1917d1);lo['z']=_0x36ece0['_shadowRes'+'olution']-(0x6*-0x44d+0x23d3+-0xa03),lo['w']=lo['z'],this['sourceId']['setValue'](_0x3e5122['colorBuffe'+'r']),Fr[0xb77+0x1cd5+-0x284c]=(0xc7*0x17+0x25a5+-0x1*0x3785)/_0x36ece0['_shadowRes'+'olution'],Fr[-0x3c5*0x4+0x25ad+-0x1698]=0x1*-0x2614+-0x3e*-0x2e+0x4*0x6bc,this['pixelOffse'+'tId']['setValue'](Fr),_0x101f09===em&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x1917d1]),Ar(_0x3d5768,_0x13cc84,_0x2cd440,null,lo),this['sourceId']['setValue'](_0x13cc84['colorBuffe'+'r']),Fr[-0xc9a*-0x1+0x18bc+0x13*-0x1f7]=Fr[-0x124d+-0xef*-0x11+0x26e],Fr[0x205b+0x197+-0x21f2]=0xb56+0x15ff*-0x1+-0x1*-0xaa9,this['pixelOffse'+'tId']['setValue'](Fr),Ar(_0x3d5768,_0x3e5122,_0x2cd440,null,lo),this['renderer']['shadowMapC'+'ache']['add'](_0x36ece0,_0x323d3c),Q['popGpuMark'+'er'](_0x3d5768);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new zy(this['device'],[new dt('matrix_vie'+'wProjectio'+'n',li)]),this['viewBindGr'+'oupFormat']=new Ny(this['device'],[new kp(Np,Fp|by)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const cc=[];class zb{constructor(_0x38d404){h(this,'_empty',null),h(this,'_allocated',[]),h(this,'_clusters',new Map()),this['device']=_0x38d404;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0xb44154=>{_0xb44154['destroy']();}),this['_allocated']['length']=0x1*-0xffb+0x8e5+0x716;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x329475=new cu(this['device']);_0x329475['name']='ClusterEmp'+'ty',_0x329475['update']([]),this['_empty']=_0x329475;}return this['_empty'];}['assign'](_0x1d419f){const _0x536dcd=this['empty'];cc['push'](...this['_allocated']),this['_allocated']['length']=0xcf*-0x1f+0x1*0x22a9+0x8*-0x133,this['_clusters']['clear']();const _0x5dc9c6=_0x1d419f['length'];for(let _0x491f41=0x1a43*-0x1+-0x963*0x1+0x23a6;_0x491f41<_0x5dc9c6;_0x491f41++){const _0x5c9cd4=_0x1d419f[_0x491f41]['renderActi'+'ons'];if(_0x5c9cd4){const _0x18c5ad=_0x5c9cd4['length'];for(let _0x5e2cac=0x5*0x3c0+0x2*-0x538+-0x850;_0x5e2cac<_0x18c5ad;_0x5e2cac++){const _0x4841f8=_0x5c9cd4[_0x5e2cac];_0x4841f8['lightClust'+'ers']=null;const _0x595823=_0x4841f8['layer'];if(_0x595823['hasCluster'+'edLights']&&_0x595823['meshInstan'+'ces']['length']){const _0x456955=_0x595823['getLightId'+'Hash'](),_0x3a5558=this['_clusters']['get'](_0x456955);let _0x2ecccc=_0x3a5558==null?void(-0xc*0x2e8+0x425*-0x5+0x3799):_0x3a5558['lightClust'+'ers'];_0x2ecccc||(_0x2ecccc=cc['pop']()??new cu(this['device']),Ea['setName'](_0x2ecccc,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x2ecccc),this['_clusters']['set'](_0x456955,_0x4841f8)),_0x4841f8['lightClust'+'ers']=_0x2ecccc;}_0x4841f8['lightClust'+'ers']||(_0x4841f8['lightClust'+'ers']=_0x536dcd);}}}cc['forEach'](_0x3a31b7=>_0x3a31b7['destroy']()),cc['length']=-0x2417*-0x1+-0x2*0x10ed+-0x23d;}['update'](_0x260395,_0x4a25a6){this['assign'](_0x260395),this['_clusters']['forEach'](_0x24f35a=>{const _0x4fea84=_0x24f35a['layer'];_0x24f35a['lightClust'+'ers']['update'](_0x4fea84['clusteredL'+'ightsSet'],_0x4a25a6);});}}const rr=new re(),af=[];class pm extends ys{constructor(_0x5dcae2,_0x29e449){super(_0x5dcae2),h(this,'_quadRende'+'rer2D',null),h(this,'_quadRende'+'rerCube',null),h(this,'_filteredL'+'ights',[]),h(this,'_forceCopy',!(-0x182*-0xb+-0x2188+0x10f3)),h(this,'_evtDevice'+'Restored',null),(this['_cubeSlots'+'Offsets']=_0x29e449,this['requiresCu'+'bemaps']=!(0x942+-0x169c*-0x1+-0x1fdd),this['blitTextur'+'eId']=_0x5dcae2['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0x5dcae2['scope']['resolve']('invViewPro'+'j'),this['_evtDevice'+'Restored']=_0x5dcae2['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this));}['destroy'](){var _0x459597,_0x886c79,_0x306b33;(_0x459597=this['_quadRende'+'rer2D'])==null||_0x459597['destroy'](),this['_quadRende'+'rer2D']=null,(_0x886c79=this['_quadRende'+'rerCube'])==null||_0x886c79['destroy'](),this['_quadRende'+'rerCube']=null,(_0x306b33=this['_evtDevice'+'Restored'])==null||_0x306b33['off'](),this['_evtDevice'+'Restored']=null;}static['create'](_0x53ffcd,_0x3610f0){w['assert'](_0x53ffcd);const _0x5600a6=new pm(_0x53ffcd['device'],_0x3610f0);return _0x5600a6['init'](_0x53ffcd),_0x5600a6['colorOps']['clear']=!(0x25a+0xb47*0x3+0x1217*-0x2),_0x5600a6['depthStenc'+'ilOps']['clearDepth']=!(0x3*-0xc7a+-0xcf+-0x7a6*-0x5),_0x5600a6;}['onDeviceRe'+'stored'](){this['_forceCopy']=!(0x185e+0x6*0x2f9+-0x2a34);}['update'](_0x301e28){const _0x28766b=this['_filteredL'+'ights'];this['filter'](_0x301e28,_0x28766b),this['executeEna'+'bled']=_0x28766b['length']>0xe3*-0x7+-0xbeb*-0x3+0x1*-0x1d8c;}['filter'](_0x39a106,_0x3f1b84){for(let _0x25bd5e=-0x193f*0x1+-0x1d08+-0x7c1*-0x7;_0x25bd5e<_0x39a106['length'];_0x25bd5e++){const _0x280cb0=_0x39a106[_0x25bd5e];_0x280cb0['_type']!==ve&&_0x280cb0['atlasViewp'+'ortAllocat'+'ed']&&(!_0x280cb0['atlasSlotU'+'pdated']&&!this['_forceCopy']||_0x280cb0['enabled']&&_0x280cb0['cookie']&&_0x280cb0['visibleThi'+'sFrame']&&_0x3f1b84['push'](_0x280cb0));}this['_forceCopy']=!(-0x924+-0x18af+0x21d4);}['initInvVie'+'wProjMatri'+'ces'](){if(!af['length'])for(let _0x572f80=0x15ae+0x1*-0x137b+-0x233;_0x572f80<-0x9eb*-0x2+0x1023+-0x23f3;_0x572f80++){const _0x2f2a17=Wn['create'](null,Ke,_0x572f80),_0x137091=_0x2f2a17['projection'+'Matrix'],_0x368578=_0x2f2a17['node']['getLocalTr'+'ansform']()['clone']()['invert']();af[_0x572f80]=new te()['mul2'](_0x137091,_0x368578)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x47f281=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'erer2d','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'2DPS'});this['_quadRende'+'rer2D']=new Ah(_0x47f281);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x23e6e9=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'ererCube','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'CubePS'});this['_quadRende'+'rerCube']=new Ah(_0x23e6e9);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x494526=this['device'];_0x494526['setBlendSt'+'ate'](pt['NOBLEND']),_0x494526['setCullMod'+'e'](bt),_0x494526['setDepthSt'+'ate'](Yt['NODEPTH']),_0x494526['setStencil'+'State']();const _0x1dcd30=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x1aae96=this['_cubeSlots'+'Offsets'],_0x3bce45=this['_filteredL'+'ights'];for(let _0x11c7d7=-0x125f*0x2+-0x2*0x37+0x94b*0x4;_0x11c7d7<_0x3bce45['length'];_0x11c7d7++){const _0x495fc2=_0x3bce45[_0x11c7d7];Q['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x495fc2['_node']['name']);const _0x480a43=_0x495fc2['numShadowF'+'aces'],_0x4fcfab=_0x480a43>0x1e59+-0xb7b+-0x12dd*0x1?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x480a43>-0xb87+-0x1*-0x1169+-0x5e1&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x495fc2['cookie']);for(let _0x12ca3e=0x1ed6*0x1+-0x221c+-0x1*-0x346;_0x12ca3e<_0x480a43;_0x12ca3e++){if(rr['copy'](_0x495fc2['atlasViewp'+'ort']),_0x480a43>-0xb8c+-0x1f6e+0x2afb){const _0x5564a0=rr['z']/(-0x1665+-0x495+-0x8ff*-0x3),_0x583f8b=_0x1aae96[_0x12ca3e];rr['x']+=_0x5564a0*_0x583f8b['x'],rr['y']+=_0x5564a0*_0x583f8b['y'],rr['z']=_0x5564a0,rr['w']=_0x5564a0,this['invViewPro'+'jId']['setValue'](af[_0x12ca3e]['data']);}rr['mulScalar'](_0x1dcd30),_0x4fcfab['render'](rr);}Q['popGpuMark'+'er'](_0x494526);}_0x3bce45['length']=0x6b*-0x29+-0xbc6+0x1*0x1ce9;}}class Vb extends ys{constructor(_0x58ece3,_0x4317b4,_0x3573c2){super(_0x58ece3),this['requiresCu'+'bemaps']=!(-0x1c27*-0x1+-0x22d2+0x6ac),this['shadowRend'+'erer']=_0x4317b4,this['shadowRend'+'ererLocal']=_0x3573c2;}['update'](_0x24daad){const _0x37d236=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x5d60bc=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x37d236,_0x24daad),_0x28a79e=_0x37d236['length'];this['enabled']=_0x28a79e>0x6f*-0x19+0x1ee4+-0xb1*0x1d,_0x28a79e&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0x5d60bc,!(-0xf1f+0x61*0x17+0x669));}['execute'](){const _0x35fc8f=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x4ca0c2=_0x35fc8f['length'];for(let _0x57945b=0xa*-0x281+-0x2*-0x101e+-0x266*0x3;_0x57945b<_0x4ca0c2;_0x57945b++){const _0x804d17=_0x35fc8f[_0x57945b];for(let _0x351795=0x27c+-0x8*-0x404+-0x4*0x8a7;_0x351795<_0x804d17['numShadowF'+'aces'];_0x351795++)this['shadowRend'+'erer']['renderFace'](_0x804d17,null,_0x351795,!(0xed8+-0x1*0x1343+-0x3*-0x179));}_0x35fc8f['length']=-0x127a+-0xf39+-0x21b3*-0x1;}}class Gb extends ys{constructor(_0x1ae5da,_0x2b463b,_0x3ab6f0,_0x10ba24,_0x19773f){super(_0x1ae5da),this['renderer']=_0x2b463b,this['frameGraph']=null,this['cookiesRen'+'derPass']=pm['create'](_0x19773f['cookieRend'+'erTarget'],_0x19773f['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new Vb(_0x1ae5da,_0x3ab6f0,_0x10ba24),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x4b89e4,_0x259961,_0x1499e9,_0x5ebbde,_0xf3445d){this['frameGraph']=_0x4b89e4,this['cookiesRen'+'derPass']['enabled']=_0x1499e9,_0x1499e9&&this['cookiesRen'+'derPass']['update'](_0x5ebbde),this['shadowRend'+'erPass']['enabled']=_0x259961,_0x259961&&this['shadowRend'+'erPass']['update'](_0xf3445d);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x4701ab=de(),{renderer:_0x28b601}=this,{scene:_0x72d8fe}=_0x28b601;_0x28b601['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x72d8fe['lighting']),_0x28b601['_lightClus'+'tersTime']+=de()-_0x4701ab,_0x28b601['_lightClus'+'ters']=_0x28b601['worldClust'+'ersAllocat'+'or']['count'];}}let nf=0x3*-0xc1d+-0x642*-0x3+0x1191*0x1;const ar=new te(),nr=new te(),Oa=new te(),q_=new _i(),of=new sp(),j_=new te()['setScale'](0x22+-0xa5b+-0x2*-0x51d,-(0x151c+-0x1*-0x14ad+0x29c8*-0x1),0x829+0x6be*-0x1+-0x16a),lf=new Set(),cf=new Set(),hf=new ky(),Y_=new te()['set']([-0xd11+0x173b*0x1+-0xa29*0x1,0x12eb+0x2*0x79f+-0x2229,0x1c6b*-0x1+0x435*0x7+-0x108,-0x1b53+-0x2b9+-0x502*-0x6,-0x101*0x11+0x2*-0x12d2+0x5*0xaf1,-0x1e47*-0x1+-0x379*-0xb+-0x4479,-0x1*-0xe15+-0xa47+0x3ce*-0x1,0x9*-0x5a+0x1775+-0x144b,0x1*0x10ba+0x2452+0x54e*-0xa,-0x1*0xd72+-0x32*-0x2+0xd0e,0x1c9+-0x16fd+0x2e*0x76+0.5,0x2a1*0xb+-0xdf7+-0xef4,-0x23d1*0x1+0x62*0x36+0xf25*0x1,-0x1*-0x642+0xa9f+0x1*-0x10e1,0x2653+-0x1*0x1a9d+-0xbb6+0.5,-0x7c1+0xa00+0x29*-0xe]),K_=[new J(0x60d*0x3+-0x12dd*-0x1+-0x2504+0.5,-0x1*-0x1c79+-0x1a15+-0x264+0.333333),new J(-0xdbf+0x10*-0x7d+0x1*0x158f+0.25,-0x15f+-0x61b+-0x6*-0x13f+0.666667),new J(0x1b49+0x5c5*0x2+-0x26d3+0.75,0x265d+-0x1ae+-0x1*0x24af+0.111111),new J(-0xf5+-0x14fa+0x15ef+0.125,0x2*0xcd5+-0x12a7+-0x703+0.444444),new J(0x1*0x17f+-0x1e17+0x1c98+0.625,-0x2369+0xf1b+0x144e+0.777778),new J(-0x534+-0x1945*-0x1+-0x1d3*0xb+0.375,-0x2584+0x1e65+0x71f+0.222222),new J(-0x565*0x3+-0x1798+0x1*0x27c7+0.875,0x1f56+-0x1494+0xac2*-0x1+0.555556),new J(-0x23b1*-0x1+-0x1*-0x2221+0x45d2*-0x1+0.0625,-0xd12+0xc7c+-0xa*-0xf+0.888889),new J(-0x1*-0x1c5+0x1*0x641+-0x806+0.5625,-0x17*-0x89+0x1*-0x1bd4+0xf85+0.037037),new J(-0x114+0x1efb+-0x1de7+0.3125,0x2*0x411+-0x3*-0xc61+0x2d45*-0x1+0.37037),new J(0x883*-0x2+0x1f58+-0x3*0x4c6+0.8125,0x138b+-0x5*-0x23b+-0xf59*0x2+0.703704),new J(-0x2*-0x799+0x1*0xad6+-0x188*0x11+0.1875,-0x1502+0x20c0+-0xbbe+0.148148),new J(0xe9+-0x4a*-0x76+-0x2305+0.6875,0x7*-0x3ad+0x1a02+-0x47+0.481481),new J(0x19e4+0x2629+-0x400d+0.4375,-0xea6+0x164b+0x13*-0x67+0.814815),new J(-0x2179+0x1*0x2129+-0x10*-0x5+0.9375,-0x13*0x8b+0x318+0x739+0.259259),new J(0x20ed+0x1f*-0x34+0x191*-0x11+0.03125,-0x1c77+0xce*-0x2b+0x1*0x3f11+0.592593)],Hb=new te(),Wb=new te(),$b=new te(),Xb=new te(),qb=new te(),jb=new te(),Fa=new Set(),df=[],ff=[];class Yb{constructor(_0x34aa27){h(this,'clustersDe'+'bugRendere'+'d',!(-0x52*-0x3b+0x116+-0x13fb)),h(this,'processing'+'MeshInstan'+'ces',new Set()),h(this,'worldClust'+'ersAllocat'+'or'),h(this,'lights',[]),h(this,'localLight'+'s',[]),h(this,'cameraDirS'+'hadowLight'+'s',new Map()),h(this,'dirLightSh'+'adows',new Map()),h(this,'blueNoise',new wb(0x17*-0x151+-0x22f0+0x6*0xaf3)),(this['device']=_0x34aa27,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new zb(_0x34aa27),this['lightTextu'+'reAtlas']=new Ib(_0x34aa27),this['shadowMapC'+'ache']=new Lb(),this['shadowRend'+'erer']=new Cv(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new Ob(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new kb(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new Gb(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=-0x14e9+-0x172e+0x2c17,this['_morphTime']=0x3*-0xc04+0x130*0x1b+0x4*0xff,this['_cullTime']=-0x17*-0x12e+0x1*0x2585+-0x265*0x1b,this['_shadowMap'+'Time']=0x24cd+0x1b1*-0xd+-0xed*0x10,this['_lightClus'+'tersTime']=0xed+0x1*0x9f7+-0x2*0x572,this['_layerComp'+'ositionUpd'+'ateTime']=0x1076+-0x248f*0x1+-0x157*-0xf,this['_shadowDra'+'wCalls']=-0x5eb+0x1a3*0x4+-0xa1,this['_skinDrawC'+'alls']=0x412+-0x1276*-0x2+-0x28fe,this['_instanced'+'DrawCalls']=-0x91e+-0xabb+-0x13d9*-0x1,this['_shadowMap'+'Updates']=-0x17dc+-0x2096+-0x22*-0x1a9,this['_numDrawCa'+'llsCulled']=-0x1*-0x17f5+-0x20*0xb+-0x3*0x787,this['_camerasRe'+'ndered']=-0x1a06*-0x1+0x25e2+-0x3fe8,this['_lightClus'+'ters']=-0x4d3+0x2534*-0x1+-0x2a07*-0x1);const _0x19500b=_0x34aa27['scope'];this['boneTextur'+'eId']=_0x19500b['resolve']('texture_po'+'seMap'),this['modelMatri'+'xId']=_0x19500b['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0x19500b['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0x19500b['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(0xe78+0x17d*0x7+-0x18e0),this['viewPosId']=_0x19500b['resolve']('view_posit'+'ion'),this['projId']=_0x19500b['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0x19500b['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0x19500b['resolve']('matrix_vie'+'w'),this['viewId3']=_0x19500b['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0x19500b['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0x19500b['resolve']('projection'+'FlipY'),this['tbnBasis']=_0x19500b['resolve']('tbnBasis'),this['nearClipId']=_0x19500b['resolve']('camera_nea'+'r'),this['farClipId']=_0x19500b['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(0x272*0xe+-0x1a36+-0xa*0xcd),this['cameraPara'+'msId']=_0x19500b['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0x19500b['resolve']('view_index'),this['viewIndexI'+'d']['setValue'](0x159c+0x2195+0xc7*-0x47),this['blueNoiseJ'+'itterVersi'+'on']=0xa*-0x1e0+-0x1*0x5c9+0x1889,this['blueNoiseJ'+'itterVec']=new re(),this['blueNoiseJ'+'itterData']=new Float32Array(-0x126a+-0x2*-0x22a+0xe1a),this['blueNoiseJ'+'itterId']=_0x19500b['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0x19500b['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0x19500b['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0x19500b['resolve']('texture_op'+'acityMap'),this['exposureId']=_0x19500b['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0x19500b['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](0x1*-0x16f7+0xf62*0x2+-0x7cd),this['morphPosit'+'ionTex']=_0x19500b['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0x19500b['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0x19500b['resolve']('morph_tex_'+'params'),this['lightCube']=new bb(),this['constantLi'+'ghtCube']=_0x19500b['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['setupViewp'+'ort'](_0xd5ccce,_0x43d9a9){const _0x51d3c7=this['device'],_0x14be3e=_0x43d9a9?_0x43d9a9['width']:_0x51d3c7['width'],_0x528212=_0x43d9a9?_0x43d9a9['height']:_0x51d3c7['height'],_0x1536a8=_0xd5ccce['rect'];let _0xa82e8=Math['floor'](_0x1536a8['x']*_0x14be3e),_0x3c7ddb=Math['floor'](_0x1536a8['y']*_0x528212),_0x15da84=Math['floor'](_0x1536a8['z']*_0x14be3e),_0x5943e5=Math['floor'](_0x1536a8['w']*_0x528212);if(_0x51d3c7['setViewpor'+'t'](_0xa82e8,_0x3c7ddb,_0x15da84,_0x5943e5),_0xd5ccce['_scissorRe'+'ctClear']){const _0x256c53=_0xd5ccce['scissorRec'+'t'];_0xa82e8=Math['floor'](_0x256c53['x']*_0x14be3e),_0x3c7ddb=Math['floor'](_0x256c53['y']*_0x528212),_0x15da84=Math['floor'](_0x256c53['z']*_0x14be3e),_0x5943e5=Math['floor'](_0x256c53['w']*_0x528212);}_0x51d3c7['setScissor'](_0xa82e8,_0x3c7ddb,_0x15da84,_0x5943e5);}['setCameraU'+'niforms'](_0x3fcec3,_0x2e0397){var _0x38c65c,_0x253761;const _0x4de1ae=_0x2e0397==null?void(0x7c7*-0x4+-0x1*0x1235+0x3151):_0x2e0397['flipY'];let _0x46df62=null;if(_0x3fcec3['xr']&&_0x3fcec3['xr']['session']){const _0x1e5dc1=((_0x253761=(_0x38c65c=_0x3fcec3['_node'])==null?void(0x5*0x574+0x1bd5+-0x3719):_0x38c65c['parent'])==null?void(0xfec*-0x1+0x16a2+0x1*-0x6b6):_0x253761['getWorldTr'+'ansform']())||null;_0x46df62=_0x3fcec3['xr']['views']['list'];for(let _0x1445d9=-0x26fa+0xe27*0x1+0x18d3;_0x1445d9<_0x46df62['length'];_0x1445d9++){const _0x5aa749=_0x46df62[_0x1445d9];_0x5aa749['updateTran'+'sforms'](_0x1e5dc1),_0x3fcec3['frustum']['setFromMat'+'4'](_0x5aa749['projViewOf'+'fMat']);}}else{let _0x466553=_0x3fcec3['projection'+'Matrix'];_0x3fcec3['calculateP'+'rojection']&&_0x3fcec3['calculateP'+'rojection'](_0x466553,ec);let _0x7c9ae6=_0x3fcec3['getProject'+'ionMatrixS'+'kybox']();_0x4de1ae&&(_0x466553=Hb['mul2'](j_,_0x466553),_0x7c9ae6=Wb['mul2'](j_,_0x7c9ae6)),this['device']['isWebGPU']&&(_0x466553=$b['mul2'](Y_,_0x466553),_0x7c9ae6=Xb['mul2'](Y_,_0x7c9ae6));const {jitter:_0x307bc9}=_0x3fcec3;let _0x4d6737=0x142f+0x7dc*0x1+0x959*-0x3,_0x2b1a8e=0x2466+0x2434+0x489a*-0x1;if(_0x307bc9>-0x263f+0xdb+0x2564){const _0x33ea81=_0x2e0397?_0x2e0397['width']:this['device']['width'],_0x528175=_0x2e0397?_0x2e0397['height']:this['device']['height'],_0x46dd9e=K_[this['device']['renderVers'+'ion']%K_['length']];_0x4d6737=_0x307bc9*(_0x46dd9e['x']*(0x18e*0x8+0x1243+-0x1eb1)-(-0x1bf8+0x80*-0x5+-0x10d*-0x1d))/_0x33ea81,_0x2b1a8e=_0x307bc9*(_0x46dd9e['y']*(-0x162e+-0x6d0+-0xe8*-0x20)-(-0x3*-0x82c+-0xa7f*0x2+-0x385))/_0x528175,_0x466553=qb['copy'](_0x466553),_0x466553['data'][0x16b3+-0x20*0x56+-0xbeb]=_0x4d6737,_0x466553['data'][0x2209*0x1+-0x2*0x2dc+-0x1c48]=_0x2b1a8e,_0x7c9ae6=jb['copy'](_0x7c9ae6),_0x7c9ae6['data'][0x124c+0x21d8+-0x341c]=_0x4d6737,_0x7c9ae6['data'][-0x1218+-0x1*0x1afb+0x2d1c]=_0x2b1a8e,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x12563b=_0x307bc9>0x2441*0x1+-0xe8d+-0x15b4?this['blueNoiseJ'+'itterVec']:re['ZERO'];if(this['blueNoiseJ'+'itterData'][-0xc26*-0x1+0x1*-0x1855+0xc2f]=_0x12563b['x'],this['blueNoiseJ'+'itterData'][0x509*0x3+-0xf27+0xd]=_0x12563b['y'],this['blueNoiseJ'+'itterData'][0x1*-0xacc+-0xb4e+0x161c]=_0x12563b['z'],this['blueNoiseJ'+'itterData'][0x3*0x13d+-0x123+-0x291]=_0x12563b['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x466553['data']),this['projSkybox'+'Id']['setValue'](_0x7c9ae6['data']),_0x3fcec3['calculateT'+'ransform'])_0x3fcec3['calculateT'+'ransform'](nr,ec);else{const _0x5b49d5=_0x3fcec3['_node']['getPositio'+'n'](),_0x12e486=_0x3fcec3['_node']['getRotatio'+'n']();nr['setTRS'](_0x5b49d5,_0x12e486,D['ONE']);}this['viewInvId']['setValue'](nr['data']),Oa['copy'](nr)['invert'](),this['viewId']['setValue'](Oa['data']),q_['setFromMat'+'4'](Oa),this['viewId3']['setValue'](q_['data']),ar['mul2'](_0x466553,Oa),this['viewProjId']['setValue'](ar['data']),_0x3fcec3['_storeShad'+'erMatrices'](ar,_0x4d6737,_0x2b1a8e,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x4de1ae?-(-0x655*-0x2+-0x1aa6+-0xdfd*-0x1):-0x139d*0x1+-0x2681+0x3a1f*0x1),this['dispatchVi'+'ewPos'](_0x3fcec3['_node']['getPositio'+'n']()),_0x3fcec3['frustum']['setFromMat'+'4'](ar);}this['tbnBasis']['setValue'](_0x4de1ae?-(0x1*-0x1bb3+0x1045+-0xb6f*-0x1):-0x80d*0x2+-0x257b+-0x2d2*-0x13);const _0xb69343=_0x3fcec3['_nearClip'],_0x110f73=_0x3fcec3['_farClip'];return this['nearClipId']['setValue'](_0xb69343),this['farClipId']['setValue'](_0x110f73),this['cameraPara'+'ms'][0xb42+-0x2b*-0x67+-0x1c8f]=(0x1cd9+0x4*0x4ff+-0x32*0xfa)/_0x110f73,this['cameraPara'+'ms'][-0x12c5+-0x1c1*0x1+0x1487]=_0x110f73,this['cameraPara'+'ms'][0x1*-0x1+-0x1daf+0x1db2]=_0xb69343,this['cameraPara'+'ms'][0x2425*0x1+-0x1357+-0x10cb]=_0x3fcec3['projection']===En?-0x1*0x22f2+-0x1cdb*-0x1+0x618:0x152b+0x4*-0x87e+0xccd,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x3fcec3['getExposur'+'e']():this['scene']['exposure']),_0x46df62;}['clear'](_0xd27b98,_0x21a58c,_0x511473,_0xcdd9f6){const _0x161bb2=(_0x21a58c??_0xd27b98['_clearColo'+'rBuffer']?jo:0x9*0x3ef+-0xae*-0x4+0x1*-0x261f)|(_0x511473??_0xd27b98['_clearDept'+'hBuffer']?Yo:-0x18*0x16c+-0x238a+-0x22d5*-0x2)|(_0xcdd9f6??_0xd27b98['_clearSten'+'cilBuffer']?ch:0x1b80+-0x4ee+-0x282*0x9);if(_0x161bb2){const _0x57960c=this['device'];Q['pushGpuMar'+'ker'](_0x57960c,'CLEAR'),_0x57960c['clear']({'color':[_0xd27b98['_clearColo'+'r']['r'],_0xd27b98['_clearColo'+'r']['g'],_0xd27b98['_clearColo'+'r']['b'],_0xd27b98['_clearColo'+'r']['a']],'depth':_0xd27b98['_clearDept'+'h'],'stencil':_0xd27b98['_clearSten'+'cil'],'flags':_0x161bb2}),Q['popGpuMark'+'er'](_0x57960c);}}['setCamera'](_0x3ba70c,_0x3afcad,_0x224ffa,_0x45b249=null){this['setCameraU'+'niforms'](_0x3ba70c,_0x3afcad),this['clearView'](_0x3ba70c,_0x3afcad,_0x224ffa,!(0x293*0xe+-0x2383+-0x2*0x43));}['clearView'](_0xf75c3c,_0x40a550,_0x3e1f84,_0x42a46d){const _0x316644=this['device'];if(Q['pushGpuMar'+'ker'](_0x316644,'CLEAR-VIEW'),_0x316644['setRenderT'+'arget'](_0x40a550),_0x316644['updateBegi'+'n'](),_0x42a46d&&(_0x316644['setColorWr'+'ite'](!(-0x1bc5*0x1+0x1dcd+-0x4*0x82),!(-0x32c+-0x9f3+0x1*0xd1f),!(0x1a3*0xb+0x452*-0x7+-0xc3d*-0x1),!(0x2d4+0x1*0x9d+0x371*-0x1)),_0x316644['setDepthWr'+'ite'](!(0x23de+0xf4c+-0x332a))),this['setupViewp'+'ort'](_0xf75c3c,_0x40a550),_0x3e1f84){const _0x59cacf=_0xf75c3c['_clearOpti'+'ons'];_0x316644['clear'](_0x59cacf||{'color':[_0xf75c3c['_clearColo'+'r']['r'],_0xf75c3c['_clearColo'+'r']['g'],_0xf75c3c['_clearColo'+'r']['b'],_0xf75c3c['_clearColo'+'r']['a']],'depth':_0xf75c3c['_clearDept'+'h'],'flags':(_0xf75c3c['_clearColo'+'rBuffer']?jo:0x24d4+0x1338+-0x4*0xe03)|(_0xf75c3c['_clearDept'+'hBuffer']?Yo:0x1c12+-0x1*-0x11ba+-0x2dcc)|(_0xf75c3c['_clearSten'+'cilBuffer']?ch:0x369+0xb53+-0xebc),'stencil':_0xf75c3c['_clearSten'+'cil']});}Q['popGpuMark'+'er'](_0x316644);}['setupCullM'+'ode'](_0x91e3b,_0x2342f2,_0x4caf99){const _0x370b75=_0x4caf99['material'];let _0x484a01=bt;if(_0x91e3b){let _0x203049=-0x1320+-0x2341+0x3662;(_0x370b75['cull']===Fo||_0x370b75['cull']===pa)&&(_0x203049=_0x2342f2*_0x4caf99['flipFacesF'+'actor']*_0x4caf99['node']['worldScale'+'Sign']),_0x203049<0x162a+0x23a2+-0x39cc?_0x484a01=_0x370b75['cull']===Fo?pa:Fo:_0x484a01=_0x370b75['cull'];}this['device']['setCullMod'+'e'](_0x484a01),_0x484a01===bt&&_0x370b75['cull']===bt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0x4caf99['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x371dab){if(_0x371dab['xr']&&_0x371dab['xr']['views']['list']['length']){const _0x2a3d1d=_0x371dab['xr']['views']['list'][0x1dee+0x3*-0x7cf+-0x681];ar['mul2'](_0x2a3d1d['projMat'],_0x2a3d1d['viewOffMat']),_0x371dab['frustum']['setFromMat'+'4'](ar);return;}const _0x5551ff=_0x371dab['projection'+'Matrix'];if(_0x371dab['calculateP'+'rojection']&&_0x371dab['calculateP'+'rojection'](_0x5551ff,ec),_0x371dab['calculateT'+'ransform'])_0x371dab['calculateT'+'ransform'](nr,ec);else{const _0x380246=_0x371dab['_node']['getPositio'+'n'](),_0x5aece3=_0x371dab['_node']['getRotatio'+'n']();nr['setTRS'](_0x380246,_0x5aece3,D['ONE']),this['viewInvId']['setValue'](nr['data']);}Oa['copy'](nr)['invert'](),ar['mul2'](_0x5551ff,Oa),_0x371dab['frustum']['setFromMat'+'4'](ar);}['setBaseCon'+'stants'](_0x135a52,_0x48a6d5){_0x135a52['setCullMod'+'e'](_0x48a6d5['cull']),_0x48a6d5['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x48a6d5['opacityMap']),(_0x48a6d5['opacityMap']||_0x48a6d5['alphaTest']>-0xb*0xff+0x3*0x761+-0xb2e)&&this['alphaTestI'+'d']['setValue'](_0x48a6d5['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x450f93){nf++;const _0x42d8df=_0x450f93['length'];if(_0x42d8df===0xc3d*0x3+0x2c*-0x80+0xeb7*-0x1)return;const _0x2421dc=de();for(let _0x388c24=0x1cdf+0x480+-0x215f;_0x388c24<_0x42d8df;_0x388c24++){const _0x52f1eb=_0x450f93[_0x388c24]['skinInstan'+'ce'];_0x52f1eb&&(_0x52f1eb['updateMatr'+'ices'](_0x450f93[_0x388c24]['node'],nf),_0x52f1eb['_dirty']=!(-0x1431+-0x51a+-0xb9*-0x23));}this['_skinTime']+=de()-_0x2421dc;}['updateGpuS'+'kinMatrice'+'s'](_0x37e28b){const _0x37c91f=de();for(const _0x1398d2 of _0x37e28b){const _0x27e393=_0x1398d2['skinInstan'+'ce'];_0x27e393&&_0x27e393['_dirty']&&(_0x27e393['updateMatr'+'ixPalette'](_0x1398d2['node'],nf),_0x27e393['_dirty']=!(0x1*0x2306+-0x1db4*-0x1+-0x93f*0x7));}this['_skinTime']+=de()-_0x37c91f;}['updateMorp'+'hing'](_0x4ce160){const _0xbfd5fb=de();for(const _0x1c82fe of _0x4ce160){const _0xa62f32=_0x1c82fe['morphInsta'+'nce'];_0xa62f32&&_0xa62f32['_dirty']&&_0xa62f32['update']();}this['_morphTime']+=de()-_0xbfd5fb;}['updateGSpl'+'ats'](_0x3fdd6c){var _0x1ad3d2;for(const _0x5bbcb8 of _0x3fdd6c)(_0x1ad3d2=_0x5bbcb8['gsplatInst'+'ance'])==null||_0x1ad3d2['update']();}['gpuUpdate'](_0xfad70c){this['updateGpuS'+'kinMatrice'+'s'](_0xfad70c),this['updateMorp'+'hing'](_0xfad70c),this['updateGSpl'+'ats'](_0xfad70c);}['setVertexB'+'uffers'](_0x540ca6,_0x12b49e){_0x540ca6['setVertexB'+'uffer'](_0x12b49e['vertexBuff'+'er']);}['setMorphin'+'g'](_0x44d15f,_0xdec4ea){_0xdec4ea&&(_0xdec4ea['prepareRen'+'dering'](_0x44d15f),_0x44d15f['setVertexB'+'uffer'](_0xdec4ea['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0xdec4ea['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0xdec4ea['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0xdec4ea['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x45862d,_0x3f2630){const _0x480fd9=_0x3f2630['skinInstan'+'ce'];if(_0x480fd9){this['_skinDrawC'+'alls']++;const _0x3beea9=_0x480fd9['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x3beea9);}}['dispatchVi'+'ewPos'](_0x3d1b74){const _0x77ab=this['viewPos'];_0x77ab[0x1*0xdc7+-0x3d5*-0x5+0x7c*-0x44]=_0x3d1b74['x'],_0x77ab[-0x6c6*0x2+-0x17*0x191+0x1*0x3194]=_0x3d1b74['y'],_0x77ab[0x203f+0x1a3f+-0x3a7c]=_0x3d1b74['z'],this['viewPosId']['setValue'](_0x77ab);}['initViewBi'+'ndGroupFor'+'mat'](_0x338c55){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x3dfe4a=[new dt('matrix_vie'+'w',li),new dt('matrix_vie'+'wInverse',li),new dt('matrix_pro'+'jection',li),new dt('matrix_pro'+'jectionSky'+'box',li),new dt('matrix_vie'+'wProjectio'+'n',li),new dt('matrix_vie'+'w3',On),new dt('cubeMapRot'+'ationMatri'+'x',On),new dt('view_posit'+'ion',ds),new dt('skyboxInte'+'nsity',Xs),new dt('exposure',Xs),new dt('textureBia'+'s',Xs),new dt('view_index',Xs)];_0x338c55&&_0x3dfe4a['push'](new dt('clusterCel'+'lsCountByB'+'oundsSize',ds),new dt('clusterTex'+'tureSize',ds),new dt('clusterBou'+'ndsMin',ds),new dt('clusterBou'+'ndsDelta',ds),new dt('clusterCel'+'lsDot',ds),new dt('clusterCel'+'lsMax',ds),new dt('shadowAtla'+'sParams',ga),new dt('clusterMax'+'Cells',_a),new dt('clusterSki'+'p',Xs)),this['viewUnifor'+'mFormat']=new zy(this['device'],_0x3dfe4a);const _0x46bdb6=[new kp(Np,Fp|by)];this['viewBindGr'+'oupFormat']=new Ny(this['device'],_0x46bdb6);}}['setupViewU'+'niforms'](_0xecaaa2,_0x7a4475){this['projId']['setValue'](_0xecaaa2['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0xecaaa2['projMat']['data']),this['viewId']['setValue'](_0xecaaa2['viewOffMat']['data']),this['viewInvId']['setValue'](_0xecaaa2['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0xecaaa2['viewMat3']['data']),this['viewProjId']['setValue'](_0xecaaa2['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0xecaaa2['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x7a4475);}['setupViewU'+'niformBuff'+'ers'](_0x2561be,_0x1d1982,_0x3d331e,_0x34f099){w['assert'](Array['isArray'](_0x2561be),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const {device:_0x487249}=this,_0x19f658=(_0x34f099==null?void(-0xfb*-0x2+-0x25a4+0x23ae*0x1):_0x34f099['length'])??-0x88*-0x2f+-0x2d7+-0x10*0x162;for(;_0x2561be['length']<_0x19f658;){const _0x39f172=new zp(_0x487249,_0x1d1982,!(-0x2*0x117a+-0x1040+0x3335)),_0x336bc2=new Up(_0x487249,_0x3d331e,_0x39f172);Ea['setName'](_0x336bc2,'ViewBindGr'+'oup_'+_0x336bc2['id']),_0x2561be['push'](_0x336bc2);}if(_0x34f099)for(let _0x5816e6=-0x1cf*0x1+0xd87+0x3e8*-0x3;_0x5816e6<_0x19f658;_0x5816e6++){const _0x27083e=_0x34f099[_0x5816e6];this['setupViewU'+'niforms'](_0x27083e,_0x5816e6);const _0x1bc47a=_0x2561be[_0x5816e6];_0x1bc47a['defaultUni'+'formBuffer']['update'](),_0x1bc47a['update']();}else{const _0xd6f140=_0x2561be[-0x638+0x11*-0x243+0x2cab];_0xd6f140['defaultUni'+'formBuffer']['update'](),_0xd6f140['update']();}_0x34f099||_0x487249['setBindGro'+'up'](rl,_0x2561be[-0x13d+0xc15*0x3+-0x2302]);}['setupMeshU'+'niformBuff'+'ers'](_0x4be751){const _0x9c08be=this['device'];if(_0x9c08be['supportsUn'+'iformBuffe'+'rs']){const _0x214e36=_0x4be751['getBindGro'+'up'](_0x9c08be);_0x214e36['update'](),_0x9c08be['setBindGro'+'up'](Oy,_0x214e36),_0x4be751['getUniform'+'Buffer'](_0x9c08be)['update'](hf),_0x9c08be['setBindGro'+'up'](su,hf['bindGroup'],hf['offsets']);}}['setMeshIns'+'tanceMatri'+'ces'](_0x21d8df,_0x15b54e=!(-0x2589*0x1+0x14e6+0x47*0x3c)){const _0x54b955=_0x21d8df['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x54b955['data']),_0x15b54e&&this['normalMatr'+'ixId']['setValue'](_0x21d8df['node']['normalMatr'+'ix']['data']);}['cull'](_0x385df1,_0x1af733,_0x4da47d){const _0xbc015e=de(),_0x2af6e0=_0x4da47d['opaque'];_0x2af6e0['length']=-0x1c22+0x1bcc+0x2*0x2b;const _0x959779=_0x4da47d['transparen'+'t'];_0x959779['length']=0x1*0x12c8+0x1*0x19ff+-0x2cc7;const _0x4a5a0d=_0x385df1['frustumCul'+'ling'],_0x3cc398=_0x1af733['length'];for(let _0x2124bc=0xe1*-0x2b+-0x427*-0x4+0x152f;_0x2124bc<_0x3cc398;_0x2124bc++){const _0x4b23b5=_0x1af733[_0x2124bc];_0x4b23b5['visible']&&(!_0x4a5a0d||!_0x4b23b5['cull']||_0x4b23b5['_isVisible'](_0x385df1))&&(_0x4b23b5['visibleThi'+'sFrame']=!(0x1225+-0x389*0x6+0x311),(_0x4b23b5['transparen'+'t']?_0x959779:_0x2af6e0)['push'](_0x4b23b5),(_0x4b23b5['skinInstan'+'ce']||_0x4b23b5['morphInsta'+'nce']||_0x4b23b5['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x4b23b5),_0x4b23b5['gsplatInst'+'ance']&&_0x4b23b5['gsplatInst'+'ance']['cameras']['push'](_0x385df1)));}this['_cullTime']+=de()-_0xbc015e,this['_numDrawCa'+'llsCulled']+=_0x4a5a0d?_0x3cc398:0x1e85+-0x2*-0x62f+-0x1*0x2ae3;}['collectLig'+'hts'](_0xf630bd){this['lights']['length']=0x164*-0xb+-0x2398+0x32e4,this['localLight'+'s']['length']=0x144*-0x1c+0x9*-0x303+0x3e8b;const _0x1ed1ac=this['scene']['_stats'];_0x1ed1ac['dynamicLig'+'hts']=0x565+-0x2*-0x475+-0x25*0x63,_0x1ed1ac['bakedLight'+'s']=0x1c21+-0x1b6a+-0xb7;const _0x30052a=_0xf630bd['layerList']['length'];for(let _0x3f3fb6=0x1a6+0xe92+0x568*-0x3;_0x3f3fb6<_0x30052a;_0x3f3fb6++){const _0x5a66ca=_0xf630bd['layerList'][_0x3f3fb6];if(!cf['has'](_0x5a66ca)){cf['add'](_0x5a66ca);const _0x15e2d3=_0x5a66ca['_lights'];for(let _0x1fadaf=0x623*-0x6+-0x1*0xc6b+0x313d;_0x1fadaf<_0x15e2d3['length'];_0x1fadaf++){const _0x17797a=_0x15e2d3[_0x1fadaf];lf['has'](_0x17797a)||(lf['add'](_0x17797a),this['lights']['push'](_0x17797a),_0x17797a['_type']!==ve&&this['localLight'+'s']['push'](_0x17797a),(_0x17797a['mask']&Ss||_0x17797a['mask']&di)&&_0x1ed1ac['dynamicLig'+'hts']++,_0x17797a['mask']&fi&&_0x1ed1ac['bakedLight'+'s']++);}}}_0x1ed1ac['lights']=this['lights']['length'],lf['clear'](),cf['clear']();}['cullLights'](_0x20415d,_0x44a3d7){const _0x18b331=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x372f80=this['scene']['physicalUn'+'its'];for(let _0x5b3ae2=0x3dd+-0x77*-0x16+-0xe17;_0x5b3ae2<_0x44a3d7['length'];_0x5b3ae2++){const _0x3856c5=_0x44a3d7[_0x5b3ae2];if(_0x3856c5['enabled']){if(_0x3856c5['_type']!==ve){if(_0x3856c5['getBoundin'+'gSphere'](of),_0x20415d['frustum']['containsSp'+'here'](of)){_0x3856c5['visibleThi'+'sFrame']=!(0x1195+0x1*0x1b73+-0x2d08),_0x3856c5['usePhysica'+'lUnits']=_0x372f80;const _0x22c713=_0x20415d['getScreenS'+'ize'](of);_0x3856c5['maxScreenS'+'ize']=Math['max'](_0x3856c5['maxScreenS'+'ize'],_0x22c713);}else _0x18b331||_0x3856c5['castShadow'+'s']&&!_0x3856c5['shadowMap']&&(_0x3856c5['visibleThi'+'sFrame']=!(0x906+-0xa16*0x2+0xb26));}else _0x3856c5['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x435d60){const _0x634963=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x7406dd=-0x1ac3+0x1cbb+-0x1f8;_0x7406dd<this['localLight'+'s']['length'];_0x7406dd++){const _0x50e658=this['localLight'+'s'][_0x7406dd];_0x50e658['_type']!==ve&&(_0x634963?_0x50e658['atlasSlotU'+'pdated']&&_0x50e658['shadowUpda'+'teMode']===Ps&&(_0x50e658['shadowUpda'+'teMode']=xr):_0x50e658['shadowUpda'+'teMode']===Ps&&_0x50e658['castShadow'+'s']&&(_0x50e658['getRenderD'+'ata'](null,-0xcca*-0x2+-0xc83*-0x3+-0x3f1d)['shadowCame'+'ra']['renderTarg'+'et']||(_0x50e658['shadowUpda'+'teMode']=xr)),_0x50e658['visibleThi'+'sFrame']&&_0x50e658['castShadow'+'s']&&_0x50e658['shadowUpda'+'teMode']!==Ps&&this['_shadowRen'+'dererLocal']['cull'](_0x50e658,_0x435d60));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x34703a=_0x435d60['cameras'];for(let _0xf1346e=-0xd*-0x243+0xc8d+-0x29f4;_0xf1346e<_0x34703a['length'];_0xf1346e++){const _0x1280f5=_0x34703a[_0xf1346e];if(_0x1280f5['enabled']){const _0xb9dd88=_0x1280f5['camera'];let _0xf3a85d;const _0x3a60a7=_0xb9dd88['layers'];for(let _0x33a0aa=-0x120b*0x1+-0x779+-0x8e*-0x2e;_0x33a0aa<_0x3a60a7['length'];_0x33a0aa++){const _0x53bdb0=_0x435d60['getLayerBy'+'Id'](_0x3a60a7[_0x33a0aa]);if(_0x53bdb0){const _0x3834f2=_0x53bdb0['splitLight'+'s'][ve];for(let _0x3ce953=0x65d+-0x1d4f+0x6*0x3d3;_0x3ce953<_0x3834f2['length'];_0x3ce953++){const _0x291fb3=_0x3834f2[_0x3ce953];_0x291fb3['castShadow'+'s']&&!Fa['has'](_0x291fb3)&&(Fa['add'](_0x291fb3),_0xf3a85d=_0xf3a85d??[],_0xf3a85d['push'](_0x291fb3),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0x291fb3,_0x435d60,_0xb9dd88));}}}_0xf3a85d&&this['cameraDirS'+'hadowLight'+'s']['set'](_0xb9dd88,_0xf3a85d),Fa['clear']();}}}['cullCompos'+'ition'](_0x2b0bef){const _0x1b11e9=de(),{scene:_0x309d00}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0x4bd89f=_0x2b0bef['cameras']['length'];this['_camerasRe'+'ndered']+=_0x4bd89f;for(let _0x90f364=0x9*0x333+0x1a33+-0x36fe;_0x90f364<_0x4bd89f;_0x90f364++){const _0x1d1ea8=_0x2b0bef['cameras'][_0x90f364];_0x309d00==null||_0x309d00['fire'](mv,_0x1d1ea8);const _0x1da493=_0x1d1ea8['renderTarg'+'et'];_0x1d1ea8['frameUpdat'+'e'](_0x1da493),this['updateCame'+'raFrustum'](_0x1d1ea8['camera']);const _0x247824=_0x1d1ea8['layers'];for(let _0x2a0baa=-0x1617+-0x1e6c+0x3483;_0x2a0baa<_0x247824['length'];_0x2a0baa++){const _0x878f69=_0x2b0bef['getLayerBy'+'Id'](_0x247824[_0x2a0baa]);if(_0x878f69&&_0x878f69['enabled']){this['cullLights'](_0x1d1ea8['camera'],_0x878f69['_lights']);const _0x5ae951=_0x878f69['getCulledI'+'nstances'](_0x1d1ea8['camera']);this['cull'](_0x1d1ea8['camera'],_0x878f69['meshInstan'+'ces'],_0x5ae951);}}_0x309d00==null||_0x309d00['fire'](_v,_0x1d1ea8);}_0x309d00['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x2b0bef),_0x309d00==null||_0x309d00['fire'](lE),this['_cullTime']+=de()-_0x1b11e9;}['updateShad'+'ers'](_0x339701,_0x421e7b){const _0x37c968=_0x339701['length'];for(let _0x356307=-0xd50+0x1d5a+0x100a*-0x1;_0x356307<_0x37c968;_0x356307++){const _0x9d8ca7=_0x339701[_0x356307]['material'];if(_0x9d8ca7&&!Fa['has'](_0x9d8ca7)&&(Fa['add'](_0x9d8ca7),_0x9d8ca7['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant'])){if(_0x421e7b&&(!_0x9d8ca7['useLightin'+'g']||_0x9d8ca7['emitter']&&!_0x9d8ca7['emitter']['lighting']))continue;_0x9d8ca7['clearVaria'+'nts']();}}Fa['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](Pb(this['device']));}['beginFrame'](_0x1ab2e5){const _0x57e5ed=this['scene'],_0x2d0840=_0x57e5ed['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x4b2d8b=0x1927+-0x19f8+-0xb*-0x13;const _0x19a9a5=_0x1ab2e5['layerList'],_0x2989f8=_0x19a9a5['length'];for(let _0x83a6f8=0xbdd+-0x1fd0+0x13f3;_0x83a6f8<_0x2989f8;_0x83a6f8++){const _0x4ad2f6=_0x19a9a5[_0x83a6f8]['meshInstan'+'ces'],_0x770d50=_0x4ad2f6['length'];_0x4b2d8b+=_0x770d50;for(let _0x323bfd=-0x19b+0x9f*-0xd+0x9ae;_0x323bfd<_0x770d50;_0x323bfd++){const _0x51d113=_0x4ad2f6[_0x323bfd];_0x51d113['visibleThi'+'sFrame']=!(0x1*-0x217+-0xe2*-0x2+-0x1*-0x54),_0x2d0840&&df['push'](_0x51d113),_0x51d113['skinInstan'+'ce']&&ff['push'](_0x51d113);}}if(_0x57e5ed['_stats']['meshInstan'+'ces']=_0x4b2d8b,_0x2d0840){const _0x27ef22=!_0x57e5ed['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](df,_0x27ef22),_0x57e5ed['updateShad'+'ers']=!(0x157*-0x1d+0x1451+0x128b),this['device']['_shadersDi'+'rty']=!(0x280+0x1bda+-0x1e59),_0x57e5ed['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](ff),df['length']=-0x7*-0x101+-0xf*0x165+0x2*0x6f2,ff['length']=0x1d3*-0x11+0x1463+0x11*0xa0;const _0x536458=this['lights'],_0x1d1a44=_0x536458['length'];for(let _0x57d4fd=-0x7c2+-0x2b6*0x1+0xa78;_0x57d4fd<_0x1d1a44;_0x57d4fd++)_0x536458[_0x57d4fd]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x3996db){const _0x3d46c5=de(),_0x59e517=_0x3996db['layerList']['length'],_0x17e1b0=this['scene']['_shaderVer'+'sion'];for(let _0x18b605=-0xf9a+0x1e7*-0x13+0x33bf;_0x18b605<_0x59e517;_0x18b605++){const _0x6b5b85=_0x3996db['layerList'][_0x18b605];_0x6b5b85['_shaderVer'+'sion']=_0x17e1b0,_0x6b5b85['_skipRende'+'rCounter']=0x23b6+-0x24c6+0x110,_0x6b5b85['_forwardDr'+'awCalls']=-0x1192+-0x799+0x192b,_0x6b5b85['_shadowDra'+'wCalls']=-0x1263+-0x2ed+0x1550,_0x6b5b85['_renderTim'+'e']=-0x2*-0x8fe+0x1a7e+-0x2c7a;}_0x3996db['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=de()-_0x3d46c5;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(0x2*-0x6a4+-0x648*0x5+-0x11*-0x2a1),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class Pv{constructor(){h(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(-0xb*-0x2e+0x22e7*-0x1+0x34b*0xa),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(0x66e*-0x3+-0x1*-0xe94+0x4b7),this['clearDepth']=!(-0x2694+-0x2b*-0xa9+0x1e*0x57),this['clearStenc'+'il']=!(-0x22+0x8d9+0x5*-0x1be),this['triggerPos'+'tprocess']=!(0x1*-0xd2a+0x1d48+-0x101d),this['firstCamer'+'aUse']=!(0xfa+-0x1550+0x7f*0x29),this['lastCamera'+'Use']=!(-0x10*0xc6+-0xf*0x88+-0x1459*-0x1),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(-0x22cc+-0x78b+0x2a58));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x45754c=>{_0x45754c['defaultUni'+'formBuffer']['destroy'](),_0x45754c['destroy']();}),this['viewBindGr'+'oups']['length']=-0x161*-0x1b+0x909*-0x1+-0x1*0x1c32;}['setupClear'+'s'](_0x4b102b,_0x4cff59){this['clearColor']=(_0x4b102b==null?void(-0x7b6+-0x4*-0x76f+-0x1606):_0x4b102b['clearColor'+'Buffer'])||_0x4cff59['clearColor'+'Buffer'],this['clearDepth']=(_0x4b102b==null?void(-0x1*-0x11c2+-0x248b+0x2af*0x7):_0x4b102b['clearDepth'+'Buffer'])||_0x4cff59['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x4b102b==null?void(0x8b4+-0x69d*-0x5+-0x11*0x275):_0x4b102b['clearStenc'+'ilBuffer'])||_0x4cff59['clearStenc'+'ilBuffer'];}}class Kb extends ys{constructor(_0x414c01,_0xaacc4a,_0x1939ee,_0x283492){super(_0x414c01),h(this,'layerCompo'+'sition'),h(this,'scene'),h(this,'renderer'),h(this,'renderActi'+'ons',[]),h(this,'gammaCorre'+'ction'),h(this,'toneMappin'+'g'),h(this,'noDepthCle'+'ar',!(0x2a1*-0xe+0xe09*0x2+-0x8bd*-0x1)),(this['layerCompo'+'sition']=_0xaacc4a,this['scene']=_0x1939ee,this['renderer']=_0x283492);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>-0x5*0x1e0+-0x1a2f+0x1*0x238f;}['addRenderA'+'ction'](_0x46d723){this['renderActi'+'ons']['push'](_0x46d723);}['addLayer'](_0x20e03c,_0x5b9ba1,_0xd6f3b3,_0x23c2a7=!(0x7*0x42d+0x45e+-0x3d*0x8d)){w['assert'](_0x20e03c),w['assert'](this['renderTarg'+'et']!==void(-0xda9*0x1+-0x6f1*0x1+0x149a),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),w['assert'](_0x20e03c['camera']['layersSet']['has'](_0x5b9ba1['id']),'Camera\x20'+_0x20e03c['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x5b9ba1['name']+'.');const _0x31b05a=new Pv();if(_0x31b05a['renderTarg'+'et']=this['renderTarg'+'et'],_0x31b05a['camera']=_0x20e03c,_0x31b05a['layer']=_0x5b9ba1,_0x31b05a['transparen'+'t']=_0xd6f3b3,_0x23c2a7){const _0x5dcb2e=this['renderActi'+'ons']['length']===-0xc1d+0x17e9+-0xbcc;_0x31b05a['setupClear'+'s'](_0x5dcb2e?_0x20e03c:void(0x144*0x1c+-0x1*0x2104+-0x1f*0x14),_0x5b9ba1);}this['addRenderA'+'ction'](_0x31b05a);}['addLayers'](_0x44abab,_0x285627,_0x5e6344,_0x88eba6,_0x1df6cb,_0x53df7f=!(-0x10d9+-0x1*-0x12aa+0x9b*-0x3)){const {layerList:_0x5816b0,subLayerList:_0x1c065f}=_0x44abab;let _0x58a0fc=_0x88eba6,_0x5ec0bd=_0x5e6344;for(;_0x5ec0bd<_0x5816b0['length'];){const _0x43d6f9=_0x5816b0[_0x5ec0bd],_0x7e0c86=_0x1c065f[_0x5ec0bd];if(_0x285627['camera']['layersSet']['has'](_0x43d6f9['id'])&&(this['addLayer'](_0x285627,_0x43d6f9,_0x7e0c86,_0x58a0fc),_0x58a0fc=!(-0x89b+0x1*-0xeb1+-0x4a9*-0x5)),_0x5ec0bd++,_0x43d6f9['id']===_0x1df6cb&&_0x7e0c86===_0x53df7f)break;}return _0x5ec0bd;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0x1d1478,renderActions:_0x316882}=this;for(let _0x2746e5=-0x5cb*0x5+-0x1f1*-0x1+0x902*0x3;_0x2746e5<_0x316882['length'];_0x2746e5++){const _0x5128ae=_0x316882[_0x2746e5]['camera']['camera'],_0x26f228=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x5128ae);if(_0x26f228)for(let _0x16528e=0x1*-0xbb0+0x23f7+0x235*-0xb;_0x16528e<_0x26f228['length'];_0x16528e++){const _0x4c92c1=_0x26f228[_0x16528e];if(_0x1d1478['dirLightSh'+'adows']['get'](_0x4c92c1)!==_0x5128ae){_0x1d1478['dirLightSh'+'adows']['set'](_0x4c92c1,_0x5128ae);const _0x40c5d5=_0x1d1478['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x4c92c1,_0x5128ae);_0x40c5d5&&this['beforePass'+'es']['push'](_0x40c5d5);}}}}['updateClea'+'rs'](){const _0x5cc801=this['renderActi'+'ons'][0x2e*-0x7a+-0x12*0x106+0x8*0x50b];if(_0x5cc801){const _0x21e402=_0x5cc801['camera']['camera'],_0x146523=_0x21e402['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x146523&&_0x5cc801['clearColor']?_0x21e402['clearColor']:void(0x204f+-0x1cf*-0x3+-0x25bc)),this['setClearDe'+'pth'](_0x146523&&_0x5cc801['clearDepth']&&!this['noDepthCle'+'ar']?_0x21e402['clearDepth']:void(-0x2*-0x110b+-0x1f0+-0x337*0xa)),this['setClearSt'+'encil'](_0x146523&&_0x5cc801['clearStenc'+'il']?_0x21e402['clearStenc'+'il']:void(0x135f+-0x6d7+-0xc88));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x140d0a}=this;for(let _0x57bbc5=-0xf*0x4d+-0x1cc7+0x2*0x10a5;_0x57bbc5<_0x140d0a['length'];_0x57bbc5++){const _0x3a284b=_0x140d0a[_0x57bbc5];_0x3a284b['firstCamer'+'aUse']&&this['scene']['fire'](rE,_0x3a284b['camera']);}}['execute'](){const {layerComposition:_0x934587,renderActions:_0x347bca}=this;for(let _0x3fd82f=0xbc3*0x1+0x174d*-0x1+0xb8a;_0x3fd82f<_0x347bca['length'];_0x3fd82f++){const _0x51f6ed=_0x347bca[_0x3fd82f],_0x363cb6=_0x51f6ed['layer'];w['call'](()=>{_0x934587['getLayerBy'+'Name'](_0x363cb6['name'])||w['warnOnce']('Layer\x20'+_0x363cb6['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x934587['isEnabled'](_0x363cb6,_0x51f6ed['transparen'+'t'])&&this['renderRend'+'erAction'](_0x51f6ed,_0x3fd82f===-0x3*-0x12d+0xc14*0x3+0x27*-0x105);}}['after'](){for(let _0x1b1e1b=0x413+-0x710+0x11*0x2d;_0x1b1e1b<this['renderActi'+'ons']['length'];_0x1b1e1b++){const _0x14c96f=this['renderActi'+'ons'][_0x1b1e1b];_0x14c96f['lastCamera'+'Use']&&this['scene']['fire'](aE,_0x14c96f['camera']);}this['beforePass'+'es']['length']=-0x96b*0x3+0x296+0x19ab;}['renderRend'+'erAction'](_0x138b62,_0x309e80){var _0x2a6ee5;const {renderer:_0x3cb8ea,scene:_0xf8be0c}=this,_0x49f106=_0x3cb8ea['device'],{layer:_0x109684,transparent:_0x43c210,camera:_0x4c576b}=_0x138b62;Q['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x4c576b?_0x4c576b['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0x109684['name']+'('+(_0x43c210?'TRANSP':'OPAQUE')+')');const _0x118226=de();if(_0x4c576b){const _0x3b65e1=_0x4c576b['gammaCorre'+'ction'],_0x522292=_0x4c576b['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(-0x15b9+-0x2668+0x3c21)&&(_0x4c576b['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(0x2cf*-0x7+-0x1a7d+0x2e26)&&(_0x4c576b['toneMappin'+'g']=this['toneMappin'+'g']),_0xf8be0c['fire'](nE,_0x4c576b,_0x109684,_0x43c210);const _0x2bcd3f={'lightClusters':_0x138b62['lightClust'+'ers']},_0x435467=((_0x2a6ee5=_0x4c576b['camera']['shaderPass'+'Info'])==null?void(-0x2be+0x288+0x36):_0x2a6ee5['index'])??Aa;(!_0x309e80||!_0x4c576b['camera']['fullSizeCl'+'earRect'])&&(_0x2bcd3f['clearColor']=_0x138b62['clearColor'],_0x2bcd3f['clearDepth']=_0x138b62['clearDepth'],_0x2bcd3f['clearStenc'+'il']=_0x138b62['clearStenc'+'il']);const _0x2b9fb0=_0x138b62['renderTarg'+'et']??_0x49f106['backBuffer'];_0x3cb8ea['renderForw'+'ardLayer'](_0x4c576b['camera'],_0x2b9fb0,_0x109684,_0x43c210,_0x435467,_0x138b62['viewBindGr'+'oups'],_0x2bcd3f),_0x49f106['setBlendSt'+'ate'](pt['NOBLEND']),_0x49f106['setStencil'+'State'](null,null),_0x49f106['setAlphaTo'+'Coverage'](!(0x1*0xd01+-0x1200+0x500)),_0xf8be0c['fire'](oE,_0x4c576b,_0x109684,_0x43c210),this['gammaCorre'+'ction']!==void(0x84c+-0x3*-0x51c+-0x60*0x3f)&&(_0x4c576b['gammaCorre'+'ction']=_0x3b65e1),this['toneMappin'+'g']!==void(-0x2219+0x33d+0xa*0x316)&&(_0x4c576b['toneMappin'+'g']=_0x522292);}Q['popGpuMark'+'er'](this['device']),_0x109684['_renderTim'+'e']+=de()-_0x118226;}['log'](_0x4a4999,_0x1623ba){if(super['log'](_0x4a4999,_0x1623ba),mi['get'](cn)){const {layerComposition:_0x5ecaba}=this;this['renderActi'+'ons']['forEach']((_0xb9dd06,_0xf6c628)=>{const _0x1b11bb=_0xb9dd06['layer'],_0x3a45de=_0x1b11bb['enabled']&&_0x5ecaba['isEnabled'](_0x1b11bb,_0xb9dd06['transparen'+'t']),_0x40bad3=_0xb9dd06['camera'];w['trace'](cn,'\x20\x20\x20\x20'+_0xf6c628+':'+('\x20Cam:\x20'+(_0x40bad3?_0x40bad3['entity']['name']:'-'))['padEnd'](-0x1*-0x1bbf+0x2608+0x41b1*-0x1,'\x20')+('\x20Lay:\x20'+_0x1b11bb['name'])['padEnd'](-0xa31*0x3+0x1*0x22c5+0x4*-0x107,'\x20')+(_0xb9dd06['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x3a45de?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x1b11bb['meshInstan'+'ces']['length'])['padEnd'](0x14a2+-0x1*-0x1b8b+-0x10c*0x2e,'\x20'));});}}}class Zb extends ys{constructor(_0x27fa21,_0x283f19,_0x4ac6a1){super(_0x27fa21),this['renderer']=_0x283f19,this['renderActi'+'on']=_0x4ac6a1,this['requiresCu'+'bemaps']=!(0x21e0+0x1f08+-0x40e7);}['execute'](){const _0x2f9c7c=this['renderActi'+'on'],_0x4b2764=_0x2f9c7c['camera'];w['assert'](_0x2f9c7c['triggerPos'+'tprocess']&&_0x4b2764['onPostproc'+'essing']),_0x4b2764['onPostproc'+'essing']();}}const Qb=[[],[],[]],or=new ie(),Nr={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=-0x125c+0x2*0x80e+-0x24*-0x10,this['shaderInst'+'ances']['length']=-0x175+0x208e+-0x1f19,this['isNewMater'+'ial']['length']=0x365+-0x21e4+0x1e7f,this['lightMaskC'+'hanged']['length']=0x164+-0xb*-0x18d+0x1273*-0x1;}};function Jb(_0x4abd20){const _0x27d8ac=[];for(let _0x1243a2=-0x1374*-0x1+0xfb2+0x199*-0x16;_0x1243a2<_0x4abd20;++_0x1243a2){const _0x2ea974=Math['sqrt'](_0x1243a2+(0xec0+0x1b69+-0x1*0x2a29+0.5))/Math['sqrt'](_0x4abd20);_0x27d8ac['push'](_0x2ea974);}return _0x27d8ac;}function eA(_0x4fe2f6){const _0x22b059=[];for(let _0x3a74f=-0x3d4*-0x2+0x6*0x49d+-0x11ab*0x2;_0x3a74f<_0x4fe2f6;_0x3a74f++){const _0x326c08=_0x3a74f/_0x4fe2f6,_0x5996b8=Math['sqrt'](_0x326c08*_0x326c08);_0x22b059['push'](_0x5996b8);}return _0x22b059;}const Ni=class Ni extends Yb{constructor(_0x371388){super(_0x371388);const _0x2db328=this['device'];this['_forwardDr'+'awCalls']=-0x1499+0x1577+-0xde,this['_materialS'+'witches']=0x9b*-0x7+0x1af5+-0x16b8,this['_depthMapT'+'ime']=-0x855*0x1+-0xc25+0x147a,this['_forwardTi'+'me']=-0x46c*0x1+0x1113+-0xca7,this['_sortTime']=0xd7*-0x1d+0x749*-0x5+0x3cc8;const _0x52aaf6=_0x2db328['scope'];this['fogColorId']=_0x52aaf6['resolve']('fog_color'),this['fogStartId']=_0x52aaf6['resolve']('fog_start'),this['fogEndId']=_0x52aaf6['resolve']('fog_end'),this['fogDensity'+'Id']=_0x52aaf6['resolve']('fog_densit'+'y'),this['ambientId']=_0x52aaf6['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0x52aaf6['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0x52aaf6['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0x52aaf6['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0x52aaf6['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0x52aaf6['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(0xd*0x54+-0x5d*0x3+-0x329),this['fogColor']=new Float32Array(0x4*-0x494+-0x2*-0xbd8+0x55d*-0x1),this['ambientCol'+'or']=new Float32Array(-0x1433+-0x2*0x134f+0x3ad4),this['pcssDiskSa'+'mples']=Jb(0x140+-0x8db*-0x3+-0x1bc1),this['pcssSphere'+'Samples']=eA(0x282*-0xa+-0x1542+0x2e66);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x3e2a2a){const _0x25f3e5=this['ambientCol'+'or'];if(or['linear'](_0x3e2a2a['ambientLig'+'ht']),_0x25f3e5[0x2b*-0x15+0x2632+0x7d*-0x47]=or['r'],_0x25f3e5[0x5*-0x623+0x18c9+0x5e7]=or['g'],_0x25f3e5[-0x5*-0x6f9+-0x1b49+-0x792]=or['b'],_0x3e2a2a['physicalUn'+'its']){for(let _0x813026=0x936+-0x5e4+0x1*-0x352;_0x813026<-0xe*0x139+-0xeca+-0x1*-0x1feb;_0x813026++)_0x25f3e5[_0x813026]*=_0x3e2a2a['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x25f3e5),this['skyboxInte'+'nsityId']['setValue'](_0x3e2a2a['physicalUn'+'its']?_0x3e2a2a['skyboxLumi'+'nance']:_0x3e2a2a['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x3e2a2a['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x4291df,_0x4ef191){const _0x223b6b='light'+_0x4ef191;this['lightColor'+'Id'][_0x4ef191]=_0x4291df['resolve'](_0x223b6b+'_color'),this['lightDir'][_0x4ef191]=new Float32Array(0x25b9+-0x65e*-0x2+-0x3272),this['lightDirId'][_0x4ef191]=_0x4291df['resolve'](_0x223b6b+'_direction'),this['lightShado'+'wMapId'][_0x4ef191]=_0x4291df['resolve'](_0x223b6b+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x4ef191]=_0x4291df['resolve'](_0x223b6b+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x4ef191]=_0x4291df['resolve'](_0x223b6b+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x4ef191]=_0x4291df['resolve'](_0x223b6b+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x4ef191]=_0x4291df['resolve'](_0x223b6b+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x4ef191]=_0x4291df['resolve'](_0x223b6b+'_radius'),this['lightPos'][_0x4ef191]=new Float32Array(-0x57*0x20+0xf6e+-0x48b),this['lightPosId'][_0x4ef191]=_0x4291df['resolve'](_0x223b6b+'_position'),this['lightWidth'][_0x4ef191]=new Float32Array(0x1*0x1581+-0x34b+-0x1233),this['lightWidth'+'Id'][_0x4ef191]=_0x4291df['resolve'](_0x223b6b+'_halfWidth'),this['lightHeigh'+'t'][_0x4ef191]=new Float32Array(-0x1*0x105c+0x5*0x2ed+-0x2*-0xdf),this['lightHeigh'+'tId'][_0x4ef191]=_0x4291df['resolve'](_0x223b6b+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x4ef191]=_0x4291df['resolve'](_0x223b6b+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x4ef191]=_0x4291df['resolve'](_0x223b6b+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x4ef191]=_0x4291df['resolve'](_0x223b6b+'_cookie'),this['lightCooki'+'eIntId'][_0x4ef191]=_0x4291df['resolve'](_0x223b6b+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x4ef191]=_0x4291df['resolve'](_0x223b6b+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x4ef191]=_0x4291df['resolve'](_0x223b6b+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x4ef191]=_0x4291df['resolve'](_0x223b6b+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x4ef191]=_0x4291df['resolve'](_0x223b6b+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x4ef191]=_0x4291df['resolve'](_0x223b6b+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x4ef191]=_0x4291df['resolve'](_0x223b6b+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x4ef191]=_0x4291df['resolve'](_0x223b6b+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x4ef191]=_0x4291df['resolve'](_0x223b6b+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x138363,_0x19abd0,_0x2dc5fa,_0x3c9dfb,_0x108cb2){this['lightPos'][_0x19abd0][0x11c9+0x2*-0xd45+0x8c1]=_0x3c9dfb['x']-_0x2dc5fa['x']*_0x108cb2,this['lightPos'][_0x19abd0][0x2*-0x7af+0x188+0xdd7]=_0x3c9dfb['y']-_0x2dc5fa['y']*_0x108cb2,this['lightPos'][_0x19abd0][0x1f6*0x1+0xd*-0x27b+-0xf*-0x205]=_0x3c9dfb['z']-_0x2dc5fa['z']*_0x108cb2,this['lightPosId'][_0x19abd0]['setValue'](this['lightPos'][_0x19abd0]);const _0x2ab427=_0x138363['transformV'+'ector'](new D(-(0x1*-0x11ff+0x1*-0xc0b+0x1e0a+0.5),-0x24b+0x2*0x1316+0xa7*-0x37,0x25c3*0x1+-0xa63+-0x1b60));this['lightWidth'][_0x19abd0][-0x5*0x1cd+-0x2*0x205+0xd0b]=_0x2ab427['x']*_0x108cb2,this['lightWidth'][_0x19abd0][0x13ee+-0x1f76+0xb89]=_0x2ab427['y']*_0x108cb2,this['lightWidth'][_0x19abd0][-0x92*0x1c+-0x1a69*-0x1+0x1*-0xa6f]=_0x2ab427['z']*_0x108cb2,this['lightWidth'+'Id'][_0x19abd0]['setValue'](this['lightWidth'][_0x19abd0]);const _0x5bcf34=_0x138363['transformV'+'ector'](new D(0x3*-0x62f+-0x261b+-0x1c54*-0x2,-0x126+0x2*-0x17+0x154,-0x886+0x186f+-0xfe9+0.5));this['lightHeigh'+'t'][_0x19abd0][-0x16c1+-0x1*0x18c1+0x2f82]=_0x5bcf34['x']*_0x108cb2,this['lightHeigh'+'t'][_0x19abd0][-0x98d+-0x7db*0x1+0x1169*0x1]=_0x5bcf34['y']*_0x108cb2,this['lightHeigh'+'t'][_0x19abd0][0x2*-0x5d9+0x1671+-0xabd]=_0x5bcf34['z']*_0x108cb2,this['lightHeigh'+'tId'][_0x19abd0]['setValue'](this['lightHeigh'+'t'][_0x19abd0]);}['dispatchDi'+'rectLights'](_0x322ef6,_0x503ac4,_0x59c641){let _0x34ebec=0x1682+0xdaa+0x2*-0x1216;const _0x1ec46c=this['device']['scope'];for(let _0x28e1fe=0x9da*-0x1+0x3a*-0x28+0x12ea;_0x28e1fe<_0x322ef6['length'];_0x28e1fe++){if(!(_0x322ef6[_0x28e1fe]['mask']&_0x503ac4))continue;const _0x3f7dba=_0x322ef6[_0x28e1fe],_0x46eb21=_0x3f7dba['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x34ebec]||this['_resolveLi'+'ght'](_0x1ec46c,_0x34ebec),this['lightColor'+'Id'][_0x34ebec]['setValue'](_0x3f7dba['_colorLine'+'ar']),_0x46eb21['getY'](_0x3f7dba['_direction'])['mulScalar'](-(-0x2f6*0x1+-0x1f3f+0x2236)),_0x3f7dba['_direction']['normalize'](),this['lightDir'][_0x34ebec][0x3d2*0xa+-0xa1*0xb+-0x1*0x1f49]=_0x3f7dba['_direction']['x'],this['lightDir'][_0x34ebec][0x16e*0x12+-0xe74+-0xb47]=_0x3f7dba['_direction']['y'],this['lightDir'][_0x34ebec][-0x1e12+-0x856+-0x3*-0xcce]=_0x3f7dba['_direction']['z'],this['lightDirId'][_0x34ebec]['setValue'](this['lightDir'][_0x34ebec]),_0x3f7dba['shape']!==Ys&&this['setLTCDire'+'ctionalLig'+'ht'](_0x46eb21,_0x34ebec,_0x3f7dba['_direction'],_0x59c641['_node']['getPositio'+'n'](),_0x59c641['farClip']),_0x3f7dba['castShadow'+'s']){const _0x44e38d=_0x3f7dba['getRenderD'+'ata'](_0x59c641,-0x1b61+-0x2257+0x3db8),_0x17a26b=_0x3f7dba['_getUnifor'+'mBiasValue'+'s'](_0x44e38d);this['lightShado'+'wMapId'][_0x34ebec]['setValue'](_0x44e38d['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x34ebec]['setValue'](_0x44e38d['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x34ebec]['setValue'](_0x3f7dba['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x34ebec]['setValue'](_0x3f7dba['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x34ebec]['setValue'](_0x3f7dba['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x34ebec]['setValue'](-0x4d*0x6d+0xd*0x72+0x40*0x6c-_0x3f7dba['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x34ebec]['setValue'](_0x3f7dba['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x34ebec]['setValue'](_0x3f7dba['_softShado'+'wParams']),_0x44e38d['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x34ebec]['setValue'](_0x3f7dba['penumbraSi'+'ze']/_0x44e38d['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x44e38d['projection'+'Compensati'+'on']);const _0x332cff=_0x3f7dba['_shadowCam'+'eraParams'];_0x332cff['length']=0x146*-0x1d+-0x1f84+0x4476,_0x332cff[-0x8ac+-0x73f+0xfeb]=0x172e+0x250e+0x14*-0x303,_0x332cff[-0xb51*0x3+-0xe03*0x1+-0x2ff7*-0x1]=_0x44e38d['shadowCame'+'ra']['_farClip'],_0x332cff[-0x2669+-0x2498+0x4b03]=_0x44e38d['shadowCame'+'ra']['_nearClip'],_0x332cff[0x9*0x5+-0x81b+0x7f1]=0x42a+0x1*0x18e9+-0x1d12,this['lightCamer'+'aParamsId'][_0x34ebec]['setValue'](_0x332cff);const _0x1b8542=_0x3f7dba['_shadowRen'+'derParams'];_0x1b8542['length']=-0x61*0x67+-0x1*-0x2035+0x6d6,_0x1b8542[0x1572+-0xdd*-0xb+-0x1ef1*0x1]=_0x3f7dba['_shadowRes'+'olution'],_0x1b8542[-0x98d+-0x1c38+0x25c6]=_0x17a26b['normalBias'],_0x1b8542[0x27*0xf7+-0x11b6*-0x1+0x5*-0xb11]=_0x17a26b['bias'],_0x1b8542[0x397*0x8+0x14e5+0xe*-0x38b]=-0x523+0x1d*-0x10d+-0x2*-0x11ce,this['lightShado'+'wParamsId'][_0x34ebec]['setValue'](_0x1b8542);}_0x34ebec++;}return _0x34ebec;}['setLTCPosi'+'tionalLigh'+'t'](_0x52198a,_0x13ca8e){const _0x3d800c=_0x52198a['transformV'+'ector'](new D(-(-0x14d6+-0x45e+0x1934+0.5),-0x1*0x747+-0x17*0x16f+0x2840,-0x1*-0x7f9+0x1880+0x3*-0xad3));this['lightWidth'][_0x13ca8e][0x113c+0x3e1+-0x151d]=_0x3d800c['x'],this['lightWidth'][_0x13ca8e][-0x2*-0xa61+-0xa4*0x13+-0x895]=_0x3d800c['y'],this['lightWidth'][_0x13ca8e][-0x513*0x7+0x15c0+-0x1*-0xdc7]=_0x3d800c['z'],this['lightWidth'+'Id'][_0x13ca8e]['setValue'](this['lightWidth'][_0x13ca8e]);const _0x35b94d=_0x52198a['transformV'+'ector'](new D(-0x1641+-0x13b6+0x29f7,0x9da+-0x1191+-0x1*-0x7b7,0x2088+0x1f8+-0x2280+0.5));this['lightHeigh'+'t'][_0x13ca8e][0x1a12+0x1*-0x1b39+0x127]=_0x35b94d['x'],this['lightHeigh'+'t'][_0x13ca8e][-0x1*-0x1066+0x555+-0x73e*0x3]=_0x35b94d['y'],this['lightHeigh'+'t'][_0x13ca8e][-0x1*-0xe21+0x57*0x59+-0x2c5e]=_0x35b94d['z'],this['lightHeigh'+'tId'][_0x13ca8e]['setValue'](this['lightHeigh'+'t'][_0x13ca8e]);}['dispatchOm'+'niLight'](_0x327a7a,_0x281f50,_0x758315){const _0x599f08=_0x281f50['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x758315]||this['_resolveLi'+'ght'](_0x327a7a,_0x758315),this['lightRadiu'+'sId'][_0x758315]['setValue'](_0x281f50['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x758315]['setValue'](_0x281f50['_colorLine'+'ar']),_0x599f08['getTransla'+'tion'](_0x281f50['_position']),this['lightPos'][_0x758315][-0x1bb*-0xb+0x92c+0x1*-0x1c35]=_0x281f50['_position']['x'],this['lightPos'][_0x758315][0x1a*-0x63+-0x3*0x5ad+0x1b16]=_0x281f50['_position']['y'],this['lightPos'][_0x758315][-0x3*-0x31+-0x884+0x7f3]=_0x281f50['_position']['z'],this['lightPosId'][_0x758315]['setValue'](this['lightPos'][_0x758315]),_0x281f50['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0x599f08,_0x758315),_0x281f50['castShadow'+'s']){const _0x43f308=_0x281f50['getRenderD'+'ata'](null,-0x2125+-0x75f+0x2884);this['lightShado'+'wMapId'][_0x758315]['setValue'](_0x43f308['shadowBuff'+'er']);const _0x4a8490=_0x281f50['_getUnifor'+'mBiasValue'+'s'](_0x43f308),_0x3495ac=_0x281f50['_shadowRen'+'derParams'];_0x3495ac['length']=0x1d02+0x9c2+0x4*-0x9b0,_0x3495ac[0xd1c+-0x18fe+-0x27*-0x4e]=_0x281f50['_shadowRes'+'olution'],_0x3495ac[0x70a+0x2*0x95+0x1*-0x833]=_0x4a8490['normalBias'],_0x3495ac[0xc1b*-0x1+-0x2f3*0x2+0x1203*0x1]=_0x4a8490['bias'],_0x3495ac[-0x185e+-0xfdb+-0x80c*-0x5]=(-0x1f0b+-0x13d3*-0x1+0xb39)/_0x281f50['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x758315]['setValue'](_0x3495ac),this['lightShado'+'wIntensity'][_0x758315]['setValue'](_0x281f50['shadowInte'+'nsity']);const _0xca97d1=_0x281f50['penumbraSi'+'ze']/_0x43f308['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x758315]['setValue'](_0xca97d1);const _0x2f58a4=_0x281f50['_shadowCam'+'eraParams'];_0x2f58a4['length']=0x1219+-0x2581+0x136c,_0x2f58a4[-0x4f*0x19+-0x3c8*0x8+-0x1*-0x25f7]=-0x1*-0x373+-0x1154+-0xd1*-0x11,_0x2f58a4[-0x74*0x12+0xd62+-0x539]=_0x43f308['shadowCame'+'ra']['_farClip'],_0x2f58a4[0x1e7d+-0x5ca+-0x81*0x31]=_0x43f308['shadowCame'+'ra']['_nearClip'],_0x2f58a4[-0x11df+0x10f6+0xec]=-0x1b1a+-0x6b*0x4f+0x3c1f,this['lightCamer'+'aParamsId'][_0x758315]['setValue'](_0x2f58a4);}_0x281f50['_cookie']&&(this['lightCooki'+'eId'][_0x758315]['setValue'](_0x281f50['_cookie']),this['lightShado'+'wMatrixId'][_0x758315]['setValue'](_0x599f08['data']),this['lightCooki'+'eIntId'][_0x758315]['setValue'](_0x281f50['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x383dbe,_0x18bc27,_0x26161a){const _0x202ae3=_0x18bc27['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x26161a]||this['_resolveLi'+'ght'](_0x383dbe,_0x26161a),this['lightInAng'+'leId'][_0x26161a]['setValue'](_0x18bc27['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x26161a]['setValue'](_0x18bc27['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x26161a]['setValue'](_0x18bc27['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x26161a]['setValue'](_0x18bc27['_colorLine'+'ar']),_0x202ae3['getTransla'+'tion'](_0x18bc27['_position']),this['lightPos'][_0x26161a][0x676+0x2*-0x1329+-0xfee*-0x2]=_0x18bc27['_position']['x'],this['lightPos'][_0x26161a][-0x989+0x6bc+-0x2*-0x167]=_0x18bc27['_position']['y'],this['lightPos'][_0x26161a][-0x1f28+0x28e*0x2+0x1a0e]=_0x18bc27['_position']['z'],this['lightPosId'][_0x26161a]['setValue'](this['lightPos'][_0x26161a]),_0x18bc27['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0x202ae3,_0x26161a),_0x202ae3['getY'](_0x18bc27['_direction'])['mulScalar'](-(0x5e*0x2a+0x37b*0x7+-0x27c8)),_0x18bc27['_direction']['normalize'](),this['lightDir'][_0x26161a][-0x15ae+0x23*-0x7a+0x265c*0x1]=_0x18bc27['_direction']['x'],this['lightDir'][_0x26161a][0x1*0x247f+-0x17*-0x18d+-0x4829*0x1]=_0x18bc27['_direction']['y'],this['lightDir'][_0x26161a][-0x327+0x210b+-0x1de2]=_0x18bc27['_direction']['z'],this['lightDirId'][_0x26161a]['setValue'](this['lightDir'][_0x26161a]),_0x18bc27['castShadow'+'s']){const _0x11e368=_0x18bc27['getRenderD'+'ata'](null,-0x57b*-0x5+0x1*0x37c+0x1*-0x1ee3);this['lightShado'+'wMapId'][_0x26161a]['setValue'](_0x11e368['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x26161a]['setValue'](_0x11e368['shadowMatr'+'ix']['data']);const _0x452275=_0x18bc27['_getUnifor'+'mBiasValue'+'s'](_0x11e368),_0x5687fb=_0x18bc27['_shadowRen'+'derParams'];_0x5687fb['length']=0x2372+0x15ac+-0x391a,_0x5687fb[0x1bca*-0x1+-0x1*-0x87c+0x134e]=_0x18bc27['_shadowRes'+'olution'],_0x5687fb[0x775*0x4+-0x232+-0x1ba1]=_0x452275['normalBias'],_0x5687fb[0xa6b+0xd05+-0x176e]=_0x452275['bias'],_0x5687fb[-0x44+0x1904*0x1+-0x18bd*0x1]=(0x5a1+-0x1de3*0x1+0x1843)/_0x18bc27['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x26161a]['setValue'](_0x5687fb),this['lightShado'+'wIntensity'][_0x26161a]['setValue'](_0x18bc27['shadowInte'+'nsity']);const _0x35eb99=_0x18bc27['penumbraSi'+'ze']/_0x11e368['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x3b9276=_0x11e368['shadowCame'+'ra']['_fov']*Math['PI']/(-0x1593*-0x1+-0x5*0x3fa+-0xfd),_0x117473=(0x1d23+-0x3e*0xc+0x1a3a*-0x1)/Math['tan'](_0x3b9276/(0x1770+-0x378+0xa*-0x1ff));this['lightShado'+'wSearchAre'+'aId'][_0x26161a]['setValue'](_0x35eb99*_0x117473);const _0x1145ab=_0x18bc27['_shadowCam'+'eraParams'];_0x1145ab['length']=-0x1a61+0x1b4a+0xe5*-0x1,_0x1145ab[-0x23da+0x2a4*0x8+0xeba]=-0x1387*-0x1+0x245f*-0x1+0x10d8,_0x1145ab[-0x1fb8+0xe*-0x28d+-0x436f*-0x1]=_0x11e368['shadowCame'+'ra']['_farClip'],_0x1145ab[-0x5ff*-0x5+0x1*-0x183b+-0x5be]=_0x11e368['shadowCame'+'ra']['_nearClip'],_0x1145ab[-0xe3*0x1+0x2*-0xd5a+0x1b9a]=-0x2123+0xb*0x285+0x56c,this['lightCamer'+'aParamsId'][_0x26161a]['setValue'](_0x1145ab);}if(_0x18bc27['_cookie']){if(!_0x18bc27['castShadow'+'s']){const _0x73d523=Wn['evalSpotCo'+'okieMatrix'](_0x18bc27);this['lightShado'+'wMatrixId'][_0x26161a]['setValue'](_0x73d523['data']);}this['lightCooki'+'eId'][_0x26161a]['setValue'](_0x18bc27['_cookie']),this['lightCooki'+'eIntId'][_0x26161a]['setValue'](_0x18bc27['cookieInte'+'nsity']),_0x18bc27['_cookieTra'+'nsform']&&(_0x18bc27['_cookieTra'+'nsformUnif'+'orm'][0x1*-0x1e5+-0x1169*-0x2+-0x20ed]=_0x18bc27['_cookieTra'+'nsform']['x'],_0x18bc27['_cookieTra'+'nsformUnif'+'orm'][0x2*0x303+0x4*0x455+-0x1759]=_0x18bc27['_cookieTra'+'nsform']['y'],_0x18bc27['_cookieTra'+'nsformUnif'+'orm'][-0xfc6+-0x3*-0x1bb+0xa97]=_0x18bc27['_cookieTra'+'nsform']['z'],_0x18bc27['_cookieTra'+'nsformUnif'+'orm'][0xbc5+0x2*0xc35+0x5*-0x73c]=_0x18bc27['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x26161a]['setValue'](_0x18bc27['_cookieTra'+'nsformUnif'+'orm']),_0x18bc27['_cookieOff'+'setUniform'][-0x22d1*-0x1+0x14d+-0x241e]=_0x18bc27['_cookieOff'+'set']['x'],_0x18bc27['_cookieOff'+'setUniform'][0xc91+0xa*0x2e2+-0x2*0x14b2]=_0x18bc27['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x26161a]['setValue'](_0x18bc27['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x11d4c4,_0x49af6c,_0x919cfb){let _0x44a57a=_0x919cfb;const _0x2fa4ce=this['device']['scope'],_0x5ec181=_0x11d4c4[Ke],_0x198c02=_0x5ec181['length'];for(let _0x5007d0=0x168c+0x3*0x829+-0x2f07;_0x5007d0<_0x198c02;_0x5007d0++){const _0xe58942=_0x5ec181[_0x5007d0];_0xe58942['mask']&_0x49af6c&&(this['dispatchOm'+'niLight'](_0x2fa4ce,_0xe58942,_0x44a57a),_0x44a57a++);}const _0xc91384=_0x11d4c4[Ze],_0x924f89=_0xc91384['length'];for(let _0x4a0e85=-0x1ca0+-0x343*-0x6+0x487*0x2;_0x4a0e85<_0x924f89;_0x4a0e85++){const _0x1e0f17=_0xc91384[_0x4a0e85];_0x1e0f17['mask']&_0x49af6c&&(this['dispatchSp'+'otLight'](_0x2fa4ce,_0x1e0f17,_0x44a57a),_0x44a57a++);}}['renderForw'+'ardPrepare'+'Materials'](_0x535b77,_0x18d84a,_0x3d53ef,_0x260c6d,_0x2cf76c,_0x2a2c83){const _0x5cc452=_0x535b77['fogParams']??this['scene']['fog'],_0x1f21c4=_0x535b77['shaderPara'+'ms'];_0x1f21c4['fog']=_0x5cc452['type'],_0x1f21c4['srgbRender'+'Target']=(_0x18d84a==null?void(-0xabd*0x3+0x1233+0xe04):_0x18d84a['isColorBuf'+'ferSrgb'](0xb87*-0x1+-0x15*-0xfe+0x1*-0x94f))??!(-0x11a7+0x24b8+-0x1310);const _0x8a8c78=(_0x4b0bd5,_0xe465a2,_0xb25cde,_0x16aa9f)=>{Nr['drawCalls']['push'](_0x4b0bd5),Nr['shaderInst'+'ances']['push'](_0xe465a2),Nr['isNewMater'+'ial']['push'](_0xb25cde),Nr['lightMaskC'+'hanged']['push'](_0x16aa9f);};Nr['clear']();const _0x15bfce=this['device'],_0x46a40f=this['scene'],_0x81e96e=_0x46a40f['clusteredL'+'ightingEna'+'bled'],_0x4bc8a4=(_0x2cf76c==null?void(-0x18e*0x8+0x2495+-0x1825):_0x2cf76c['getLightHa'+'sh'](_0x81e96e))??-0xbf6+0x3e*0x85+0x20*-0xa2;let _0x12189a=null,_0x166587,_0x1b4ff3;const _0x203b6b=_0x3d53ef['length'];for(let _0x3703ef=0x4ea+-0x4a*0x47+0xf9c;_0x3703ef<_0x203b6b;_0x3703ef++){const _0x3ebeca=_0x3d53ef[_0x3703ef];if(_0x535b77===Ni['skipRender'+'Camera']){if(Ni['_skipRende'+'rCounter']>=Ni['skipRender'+'After'])continue;Ni['_skipRende'+'rCounter']++;}if(_0x2cf76c){if(_0x2cf76c['_skipRende'+'rCounter']>=_0x2cf76c['skipRender'+'After'])continue;_0x2cf76c['_skipRende'+'rCounter']++;}const _0x2906fc=_0x3ebeca['instancing'+'Data'];if(_0x2906fc&&_0x2906fc['count']<=-0x1*-0x237b+0x1afe+-0x1*0x3e79)continue;_0x3ebeca['ensureMate'+'rial'](_0x15bfce);const _0x10bdf5=_0x3ebeca['material'],_0x10f662=_0x3ebeca['_shaderDef'+'s'],_0x3765ea=_0x3ebeca['mask'];_0x10bdf5&&_0x10bdf5===_0x12189a&&_0x10f662!==_0x166587&&(_0x12189a=null),_0x10bdf5!==_0x12189a&&(this['_materialS'+'witches']++,_0x10bdf5['_scene']=_0x46a40f,_0x10bdf5['dirty']&&(Q['pushGpuMar'+'ker'](_0x15bfce,'Node:\x20'+_0x3ebeca['node']['name']+(',\x20Material'+':\x20')+_0x10bdf5['name']),_0x10bdf5['updateUnif'+'orms'](_0x15bfce,_0x46a40f),_0x10bdf5['dirty']=!(-0x847+-0xcae+0x14f6),Q['popGpuMark'+'er'](_0x15bfce)));const _0x4f8874=_0x3ebeca['getShaderI'+'nstance'](_0x2a2c83,_0x4bc8a4,_0x46a40f,_0x1f21c4,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x260c6d);_0x8a8c78(_0x3ebeca,_0x4f8874,_0x10bdf5!==_0x12189a,!_0x12189a||_0x3765ea!==_0x1b4ff3),_0x12189a=_0x10bdf5,_0x166587=_0x10f662,_0x1b4ff3=_0x3765ea;}return Nr;}['renderForw'+'ardInterna'+'l'](_0x381432,_0x3ad6fe,_0x477531,_0x30420a,_0x58fbf7,_0x1c6c06,_0x54672e){var _0x1a0114,_0x31c75f;const _0x26c550=this['device'],_0x20df71=this['scene'],_0x2082e1=-0x11*0x148+-0x13*-0x92+0xaf3<<_0x30420a,_0x3f4ad7=_0x1c6c06?-(-0x49d+-0x1017*-0x1+0x3d3*-0x3):-0x1*-0x594+0x1125+-0x16b8,_0x1cd438=_0x20df71['clusteredL'+'ightingEna'+'bled'],_0x273c42=(_0x1a0114=_0x381432['xr'])!=null&&_0x1a0114['session']&&_0x381432['xr']['views']['list']['length']?_0x381432['xr']['views']['list']:null,_0x146a63=_0x3ad6fe['drawCalls']['length'];for(let _0xc74eea=-0x5*-0x28f+-0x1283+0xf4*0x6;_0xc74eea<_0x146a63;_0xc74eea++){const _0x442824=_0x3ad6fe['drawCalls'][_0xc74eea],_0x4c96e5=_0x3ad6fe['isNewMater'+'ial'][_0xc74eea],_0x1b3137=_0x3ad6fe['lightMaskC'+'hanged'][_0xc74eea],_0x21fb57=_0x3ad6fe['shaderInst'+'ances'][_0xc74eea],_0x54e81f=_0x442824['material'],_0x8b1f29=_0x442824['mask'];if(_0x21fb57['shader']['failed'])continue;if(_0x4c96e5){if(_0x26c550['setShader'](_0x21fb57['shader'],!(0x2e9*0xd+-0x580+0x102a*-0x2)),_0x54e81f['setParamet'+'ers'](_0x26c550),_0x1b3137){const _0x12f819=this['dispatchDi'+'rectLights'](_0x477531[ve],_0x8b1f29,_0x381432);_0x1cd438||this['dispatchLo'+'calLights'](_0x477531,_0x8b1f29,_0x12f819);}this['alphaTestI'+'d']['setValue'](_0x54e81f['alphaTest']),_0x26c550['setBlendSt'+'ate'](_0x54e81f['blendState']),_0x26c550['setDepthSt'+'ate'](_0x54e81f['depthState']),_0x26c550['setAlphaTo'+'Coverage'](_0x54e81f['alphaToCov'+'erage']);}Q['pushGpuMar'+'ker'](_0x26c550,'Node:\x20'+_0x442824['node']['name']+(',\x20Material'+':\x20')+_0x54e81f['name']),this['setupCullM'+'ode'](_0x381432['_cullFaces'],_0x3f4ad7,_0x442824);const _0x50b78d=_0x442824['stencilFro'+'nt']??_0x54e81f['stencilFro'+'nt'],_0x332e5e=_0x442824['stencilBac'+'k']??_0x54e81f['stencilBac'+'k'];_0x26c550['setStencil'+'State'](_0x50b78d,_0x332e5e),_0x442824['setParamet'+'ers'](_0x26c550,_0x2082e1),_0x26c550['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0x442824['id']);const _0x3fc0d8=_0x442824['mesh'];this['setVertexB'+'uffers'](_0x26c550,_0x3fc0d8),this['setMorphin'+'g'](_0x26c550,_0x442824['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x26c550,_0x442824);const _0x2e29a9=_0x442824['instancing'+'Data'];_0x2e29a9&&_0x26c550['setVertexB'+'uffer'](_0x2e29a9['vertexBuff'+'er']),this['setMeshIns'+'tanceMatri'+'ces'](_0x442824,!(-0x4*-0x103+-0xf58+-0x2d3*-0x4)),this['setupMeshU'+'niformBuff'+'ers'](_0x21fb57);const _0x5c0629=_0x442824['renderStyl'+'e'],_0x23eb66=_0x3fc0d8['indexBuffe'+'r'][_0x5c0629];_0x58fbf7==null||_0x58fbf7(_0x442824,_0xc74eea);const _0x5c0968=(_0x31c75f=_0x442824['indirectDa'+'ta'])==null?void(0x909+0x2fb+-0xc04):_0x31c75f['get'](_0x381432);if(_0x273c42)for(let _0x1a3455=-0x118f+0x2111+-0xf82;_0x1a3455<_0x273c42['length'];_0x1a3455++){const _0x13e412=_0x273c42[_0x1a3455];if(_0x26c550['setViewpor'+'t'](_0x13e412['viewport']['x'],_0x13e412['viewport']['y'],_0x13e412['viewport']['z'],_0x13e412['viewport']['w']),_0x26c550['supportsUn'+'iformBuffe'+'rs']){const _0x14eea5=_0x54672e[_0x1a3455];_0x26c550['setBindGro'+'up'](rl,_0x14eea5);}else this['setupViewU'+'niforms'](_0x13e412,_0x1a3455);const _0xd9d0ec=_0x1a3455===0x2638+0x7d8+-0x2e10,_0x48f28f=_0x1a3455===_0x273c42['length']-(-0x3*0x337+-0xf6a+0x1*0x1910);_0x26c550['draw'](_0x3fc0d8['primitive'][_0x5c0629],_0x23eb66,_0x2e29a9==null?void(0xd3+-0x5*0x67f+0x1fa8):_0x2e29a9['count'],_0x5c0968,_0xd9d0ec,_0x48f28f),this['_forwardDr'+'awCalls']++,_0x442824['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;}else _0x26c550['draw'](_0x3fc0d8['primitive'][_0x5c0629],_0x23eb66,_0x2e29a9==null?void(0xbde+0x2*0xd3c+-0x57a*0x7):_0x2e29a9['count'],_0x5c0968),this['_forwardDr'+'awCalls']++,_0x442824['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;_0xc74eea<_0x146a63-(0x2b*-0xc7+0x2*-0x12df+0x472c)&&!_0x3ad6fe['isNewMater'+'ial'][_0xc74eea+(-0x1*0x2466+0x1cd3+0x794)]&&_0x54e81f['setParamet'+'ers'](_0x26c550,_0x442824['parameters']),Q['popGpuMark'+'er'](_0x26c550);}}['renderForw'+'ard'](_0x187bf5,_0x420eff,_0x1cc2a1,_0x36217a,_0x1e6a8a,_0x178591,_0x126be0,_0x52aaed,_0x1ed5e7){const _0x2074ff=de(),_0x1e4ee8=this['renderForw'+'ardPrepare'+'Materials'](_0x187bf5,_0x420eff,_0x1cc2a1,_0x36217a,_0x126be0,_0x1e6a8a);this['renderForw'+'ardInterna'+'l'](_0x187bf5,_0x1e4ee8,_0x36217a,_0x1e6a8a,_0x178591,_0x52aaed,_0x1ed5e7),Nr['clear'](),this['_forwardTi'+'me']+=de()-_0x2074ff;}['renderForw'+'ardLayer'](_0x129588,_0x71f5d6,_0x50481e,_0x33084f,_0x26d148,_0x3e6b71,_0x48375c={}){const {scene:_0x258a43,device:_0x314bf1}=this,_0x1981c7=_0x258a43['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x129588,_0x71f5d6);let _0x159f3c,_0x2995ae;if(_0x50481e){const _0x5f1518=de();_0x50481e['sortVisibl'+'e'](_0x129588,_0x33084f),this['_sortTime']+=de()-_0x5f1518;const _0x32ecc9=_0x50481e['getCulledI'+'nstances'](_0x129588);_0x159f3c=_0x33084f?_0x32ecc9['transparen'+'t']:_0x32ecc9['opaque'],_0x258a43['immediate']['onPreRende'+'rLayer'](_0x50481e,_0x159f3c,_0x33084f),_0x50481e['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x258a43['ambientLig'+'ht'],_0x50481e['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x2995ae=_0x50481e['splitLight'+'s'];}else _0x159f3c=_0x48375c['meshInstan'+'ces'],_0x2995ae=_0x48375c['splitLight'+'s']??Qb;if(w['assert'](_0x159f3c,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0x1981c7){const _0x28c930=_0x48375c['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x28c930['activate'](),_0x50481e&&!this['clustersDe'+'bugRendere'+'d']&&_0x258a43['lighting']['debugLayer']===_0x50481e['id']&&(this['clustersDe'+'bugRendere'+'d']=!(-0x5*0x5cb+-0x5*0x224+0x27ab*0x1),hu['render'](_0x28c930,this['scene']));}_0x258a43['_activeCam'+'era']=_0x129588;const _0xd0809c=_0x129588['fogParams']??this['scene']['fog'];this['setFogCons'+'tants'](_0xd0809c);const _0x33e090=this['setCameraU'+'niforms'](_0x129588,_0x71f5d6);_0x314bf1['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x3e6b71,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x33e090);const _0x36c58a=_0x48375c['clearColor']??!(0x20a5+-0x8d*0x2f+-0x6c1),_0x292379=_0x48375c['clearDepth']??!(0x6a1+0x547*-0x2+0x3ee),_0x784218=_0x48375c['clearStenc'+'il']??!(-0x662+0x23ed+-0x2*0xec5);(_0x36c58a||_0x292379||_0x784218)&&this['clear'](_0x129588,_0x36c58a,_0x292379,_0x784218);const _0x49c9f4=!!(_0x129588['_flipFaces']^(_0x71f5d6==null?void(-0x1*-0x7fb+-0xb9d+0x3a2):_0x71f5d6['flipY'])),_0x1129e6=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x129588,_0x71f5d6,_0x159f3c,_0x2995ae,_0x26d148,null,_0x50481e,_0x49c9f4,_0x3e6b71),_0x50481e&&(_0x50481e['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x1129e6);}['setFogCons'+'tants'](_0x122fd9){if(_0x122fd9['type']!==Kn){or['linear'](_0x122fd9['color']);const _0x34b7fa=this['fogColor'];_0x34b7fa[0x1*0x1940+0x1b19+-0x3459]=or['r'],_0x34b7fa[-0xc29*-0x3+0x1fb5+-0x442f]=or['g'],_0x34b7fa[0x9*-0x37e+-0x113c*-0x1+0xe34]=or['b'],this['fogColorId']['setValue'](_0x34b7fa),_0x122fd9['type']===Iw?(this['fogStartId']['setValue'](_0x122fd9['start']),this['fogEndId']['setValue'](_0x122fd9['end'])):this['fogDensity'+'Id']['setValue'](_0x122fd9['density']);}}['setSceneCo'+'nstants'](){const _0x5b99e6=this['scene'];this['dispatchGl'+'obalLights'](_0x5b99e6);const _0x5e5872=this['device'];this['_screenSiz'+'e'][-0x333*-0x2+-0x3*0x98a+-0x3*-0x768]=_0x5e5872['width'],this['_screenSiz'+'e'][0x1e26+0x75e+-0x2583]=_0x5e5872['height'],this['_screenSiz'+'e'][-0x1983+0x16d*0xe+-0x1*-0x58f]=(-0x1*0x1ef7+0x2080+-0x188)/_0x5e5872['width'],this['_screenSiz'+'e'][0x1*0x737+0x1*0x6a+-0x79e]=(0x13a0*0x1+0x1cd8+-0x3077)/_0x5e5872['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x10b6c7,_0x42cfff){const _0x40b03a=this['scene'];if(_0x10b6c7['reset'](),_0x40b03a['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x12d581,cookiesEnabled:_0x4c6752}=_0x40b03a['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x10b6c7,_0x12d581,_0x4c6752,this['lights'],this['localLight'+'s']),_0x10b6c7['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x10b6c7,this['localLight'+'s']);let _0x5947ec=0x14da+-0x3a9*0xa+0x70*0x24,_0x31cfbe=!(0x12c8+-0xed4+0xb*-0x5c),_0x5b0d33=null;const _0x2aa021=_0x42cfff['_renderAct'+'ions'];for(let _0xed627e=_0x5947ec;_0xed627e<_0x2aa021['length'];_0xed627e++){const _0x590187=_0x2aa021[_0xed627e],{layer:_0x1ad0b1,camera:_0xb6df4b}=_0x590187;if(_0x590187['useCameraP'+'asses'])w['call'](()=>{_0xb6df4b['postEffect'+'s']['effects']['length']>-0x3a4+-0x5f+-0x403*-0x1&&w['warnOnce']('Camera\x20\x27'+_0xb6df4b['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0xb6df4b['camera']['renderPass'+'es']['forEach'](_0x238687=>{_0x10b6c7['addRenderP'+'ass'](_0x238687);});else{const _0x453f29=_0x1ad0b1['id']===ps,_0x510f60=_0x453f29&&(_0xb6df4b['renderScen'+'eColorMap']||_0xb6df4b['renderScen'+'eDepthMap']);_0x31cfbe&&(_0x31cfbe=!(-0x6b5*0x4+-0x1428+0x1*0x2efd),_0x5947ec=_0xed627e,_0x5b0d33=_0x590187['renderTarg'+'et']);const _0xf25a53=_0x2aa021[_0xed627e+(-0x6*-0x217+0x1a4d+-0x26d6)],_0x2709a1=(_0xf25a53?!_0xf25a53['useCameraP'+'asses']&&_0xf25a53['layer']['id']===ps:!(-0xa60+-0x743*0x2+0x18e7))&&(_0xb6df4b['renderScen'+'eColorMap']||_0xb6df4b['renderScen'+'eDepthMap']),_0x37bc11=_0xf25a53?_0xf25a53['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0xf25a53['camera']['camera']):!(0x8b+-0x1311+0x1287);if(!_0xf25a53||_0xf25a53['renderTarg'+'et']!==_0x5b0d33||_0x37bc11||_0x2709a1||_0x510f60){if(_0x453f29&&_0x5947ec===_0xed627e||this['addMainRen'+'derPass'](_0x10b6c7,_0x42cfff,_0x5b0d33,_0x5947ec,_0xed627e),_0x453f29){if(_0xb6df4b['renderScen'+'eColorMap']){const _0x40dd21=_0xb6df4b['camera']['renderPass'+'ColorGrab'];_0x40dd21['source']=_0xb6df4b['renderTarg'+'et'],_0x10b6c7['addRenderP'+'ass'](_0x40dd21);}_0xb6df4b['renderScen'+'eDepthMap']&&_0x10b6c7['addRenderP'+'ass'](_0xb6df4b['camera']['renderPass'+'DepthGrab']);}if(_0x590187['triggerPos'+'tprocess']&&(_0xb6df4b!=null&&_0xb6df4b['onPostproc'+'essing'])){const _0x1a289c=new Zb(this['device'],this,_0x590187);_0x10b6c7['addRenderP'+'ass'](_0x1a289c);}_0x31cfbe=!(0x163*0xe+0x2*0x275+-0x1854);}}}}['addMainRen'+'derPass'](_0x5a65a8,_0x41cad4,_0x31203b,_0x1bc4d2,_0x3d2015){const _0x48e960=new Kb(this['device'],_0x41cad4,this['scene'],this);_0x48e960['init'](_0x31203b);const _0x21ae91=_0x41cad4['_renderAct'+'ions'];for(let _0x1d370d=_0x1bc4d2;_0x1d370d<=_0x3d2015;_0x1d370d++)_0x48e960['addRenderA'+'ction'](_0x21ae91[_0x1d370d]);_0x5a65a8['addRenderP'+'ass'](_0x48e960);}['update'](_0x9a372b){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x9a372b),this['collectLig'+'hts'](_0x9a372b),this['beginFrame'](_0x9a372b),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x9a372b),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};h(Ni,'skipRender'+'Camera',null),h(Ni,'_skipRende'+'rCounter',0x2689*0x1+0xac8+0x19*-0x1f9),h(Ni,'skipRender'+'After',0xba*0x1+0x2681*0x1+-0x273b);let fl=Ni,uf=-0x924+0x131*0x6+-0x22*-0xf;const co=[],hc=new Set();function tA(_0xac5e6e,_0x5a7ae5){return _0xac5e6e['drawOrder']-_0x5a7ae5['drawOrder'];}function sA(_0x3eafac,_0x5c5173){const _0x5d9a9b=_0x3eafac['_sortKeyFo'+'rward'],_0x31f3d5=_0x5c5173['_sortKeyFo'+'rward'];return _0x5d9a9b===_0x31f3d5?_0x5c5173['mesh']['id']-_0x3eafac['mesh']['id']:_0x31f3d5-_0x5d9a9b;}function iA(_0x953168,_0x134c9e){return _0x134c9e['_sortKeyDy'+'namic']-_0x953168['_sortKeyDy'+'namic'];}function rA(_0x35149c,_0x327d92){return _0x35149c['_sortKeyDy'+'namic']-_0x327d92['_sortKeyDy'+'namic'];}const aA=[null,tA,sA,iA,rA];class nA{constructor(){h(this,'opaque',[]),h(this,'transparen'+'t',[]);}}class Ot{constructor(_0x7d0c08={}){h(this,'meshInstan'+'ces',[]),h(this,'meshInstan'+'cesSet',new Set()),h(this,'shadowCast'+'ers',[]),h(this,'shadowCast'+'ersSet',new Set()),h(this,'_visibleIn'+'stances',new WeakMap()),h(this,'_lights',[]),h(this,'_lightsSet',new Set()),h(this,'_clustered'+'LightsSet',new Set()),h(this,'_splitLigh'+'ts',[[],[],[]]),h(this,'_splitLigh'+'tsDirty',!(0x469+0x181a+-0x1c83)),h(this,'requiresLi'+'ghtCube',!(-0x140e*-0x1+0x260+-0x166d)),h(this,'cameras',[]),h(this,'camerasSet',new Set()),h(this,'_dirtyComp'+'osition',!(0x137*0x1d+0x23f7+-0x2d9*0x19)),(_0x7d0c08['id']!==void(0x26*-0x80+0x1*0x146+0x11ba)?(this['id']=_0x7d0c08['id'],uf=Math['max'](this['id']+(-0x164d*0x1+0x9ba+0xc94),uf)):this['id']=uf++,this['name']=_0x7d0c08['name'],this['_enabled']=_0x7d0c08['enabled']??!(-0x5*0x51a+0x4ca*0x1+0x6*0x374),this['_refCounte'+'r']=this['_enabled']?0x8aa*-0x2+-0x17f*-0x17+-0x1114:-0x323+-0x1462*-0x1+-0x373*0x5,this['opaqueSort'+'Mode']=_0x7d0c08['opaqueSort'+'Mode']??Yw,this['transparen'+'tSortMode']=_0x7d0c08['transparen'+'tSortMode']??m_,_0x7d0c08['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x7d0c08['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x7d0c08['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x7d0c08['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x7d0c08['clearStenc'+'ilBuffer'],this['onEnable']=_0x7d0c08['onEnable'],this['onDisable']=_0x7d0c08['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=0x2137+-0x11b1+-0xf86,this['_lightHash'+'Dirty']=!(-0x11*-0x1d3+0x236c+-0x426e),this['_lightIdHa'+'sh']=0x28*-0x2b+-0x5*-0x41a+-0x2*0x6e5,this['_lightIdHa'+'shDirty']=!(0x23f0+0x8*0x59+-0x26b7),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=0x1ed2+-0x197+-0x1d3b,this['_renderTim'+'e']=0x1*0x5f3+0x123*-0x17+-0xa*-0x205,this['_forwardDr'+'awCalls']=-0x7eb+0x1ea5+-0x16ba,this['_shadowDra'+'wCalls']=-0x1b*0xbf+-0x9f1+0x1e16,this['_shaderVer'+'sion']=-(-0xc3d+-0x22*0xfa+0x2d72));}set['enabled'](_0x245c7a){_0x245c7a!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(-0x13*-0x65+0xf80+0x349*-0x7),this['_enabled']=_0x245c7a,_0x245c7a?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x1ee105){this['_clearColo'+'rBuffer']=_0x1ee105,this['_dirtyComp'+'osition']=!(-0x37d*0x5+0x1*-0x2443+0x35b4);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x2b4d06){this['_clearDept'+'hBuffer']=_0x2b4d06,this['_dirtyComp'+'osition']=!(-0x1b3e+0x2*-0x102e+0x3b9a);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x23632b){this['_clearSten'+'cilBuffer']=_0x23632b,this['_dirtyComp'+'osition']=!(0x4bd*0x7+0x167+-0x2292);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>0x3*-0x2e6+0x16d2+-0xe20;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===0x1*-0x17b3+0x1e25+0xa5*-0xa&&(this['_enabled']=!(-0x1982+-0x1*-0x19b8+0x6*-0x9),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===0x2056+0x22a7+0x10bf*-0x4)this['_enabled']=!(0x236*0x2+0x57f+-0x3*0x34e),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===0x2d*0xa9+-0x4*0x6b6+-0x2dd*0x1){w['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x3f7f1f,_0x47a4d3){const _0x370be0=this['meshInstan'+'ces'],_0x19f9ff=this['meshInstan'+'cesSet'];for(let _0xf987d2=-0x227d+0x1964+0x919;_0xf987d2<_0x3f7f1f['length'];_0xf987d2++){const _0x126d26=_0x3f7f1f[_0xf987d2];_0x19f9ff['has'](_0x126d26)||(_0x370be0['push'](_0x126d26),_0x19f9ff['add'](_0x126d26),hc['add'](_0x126d26['material']));}if(_0x47a4d3||this['addShadowC'+'asters'](_0x3f7f1f),hc['size']>0x13eb+-0xfa6+0x445*-0x1){const _0x3f8394=this['_shaderVer'+'sion'];hc['forEach'](_0x285db2=>{_0x3f8394>=0x1*-0xde4+0x1018+-0x234*0x1&&_0x285db2['_shaderVer'+'sion']!==_0x3f8394&&(_0x285db2['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant']&&_0x285db2['clearVaria'+'nts'](),_0x285db2['_shaderVer'+'sion']=_0x3f8394);}),hc['clear']();}}['removeMesh'+'Instances'](_0x39ffe5,_0x56d423){const _0x31da3f=this['meshInstan'+'ces'],_0x8fe528=this['meshInstan'+'cesSet'];for(let _0x34b0b8=-0x309+-0x515*-0x7+0x77*-0x46;_0x34b0b8<_0x39ffe5['length'];_0x34b0b8++){const _0x322c31=_0x39ffe5[_0x34b0b8];if(_0x8fe528['has'](_0x322c31)){_0x8fe528['delete'](_0x322c31);const _0x517aae=_0x31da3f['indexOf'](_0x322c31);_0x517aae>=0x12d6*0x1+-0x1d71+0xa9b&&_0x31da3f['splice'](_0x517aae,0x160f*0x1+0x8f*-0x5+-0x1*0x1343);}}_0x56d423||this['removeShad'+'owCasters'](_0x39ffe5);}['addShadowC'+'asters'](_0x32a3d2){const _0x19d9cd=this['shadowCast'+'ers'],_0x4f5e59=this['shadowCast'+'ersSet'];for(let _0x4ba78e=0xa59+0x3*-0x86+-0x8c7;_0x4ba78e<_0x32a3d2['length'];_0x4ba78e++){const _0x10f376=_0x32a3d2[_0x4ba78e];_0x10f376['castShadow']&&!_0x4f5e59['has'](_0x10f376)&&(_0x4f5e59['add'](_0x10f376),_0x19d9cd['push'](_0x10f376));}}['removeShad'+'owCasters'](_0x4f33f3){const _0xb3439f=this['shadowCast'+'ers'],_0x9c3ac0=this['shadowCast'+'ersSet'];for(let _0x3316d7=-0x13a3+0x236*-0xd+-0x1*-0x3061;_0x3316d7<_0x4f33f3['length'];_0x3316d7++){const _0x14401a=_0x4f33f3[_0x3316d7];if(_0x9c3ac0['has'](_0x14401a)){_0x9c3ac0['delete'](_0x14401a);const _0x4c4e9b=_0xb3439f['indexOf'](_0x14401a);_0x4c4e9b>=-0xda*0x12+0x3e5*-0x3+0x3*0x901&&_0xb3439f['splice'](_0x4c4e9b,-0xec*-0x14+0x21fe+-0x346d);}}}['clearMeshI'+'nstances'](_0x29f2fc=!(0x4f*0x13+-0x1e69+-0x4e9*-0x5)){this['meshInstan'+'ces']['length']=0xafb*0x1+0x3*-0xcaa+0x1b03,this['meshInstan'+'cesSet']['clear'](),_0x29f2fc||(this['shadowCast'+'ers']['length']=0x1ac2+0x1*-0x1416+0x3d*-0x1c,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(-0x270e+0x1*0x1d45+-0x9c9*-0x1),this['_lightIdHa'+'shDirty']=!(0x223*-0x6+0xa49+-0x289*-0x1),this['_splitLigh'+'tsDirty']=!(0x1*0x2554+0x6ef+0x4eb*-0x9);}['hasLight'](_0x6293c4){return this['_lightsSet']['has'](_0x6293c4);}['addLight'](_0x26acf4){const _0x1c682b=_0x26acf4['light'];this['_lightsSet']['has'](_0x1c682b)||(this['_lightsSet']['add'](_0x1c682b),this['_lights']['push'](_0x1c682b),this['markLights'+'Dirty']()),_0x1c682b['type']!==ve&&this['_clustered'+'LightsSet']['add'](_0x1c682b);}['removeLigh'+'t'](_0x3c020c){const _0x2af40d=_0x3c020c['light'];this['_lightsSet']['has'](_0x2af40d)&&(this['_lightsSet']['delete'](_0x2af40d),this['_lights']['splice'](this['_lights']['indexOf'](_0x2af40d),0x1*0x26a4+0x2bf+-0x2962),this['markLights'+'Dirty']()),_0x2af40d['type']!==ve&&this['_clustered'+'LightsSet']['delete'](_0x2af40d);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0xae9448=>_0xae9448['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=-0x1*0x1b34+-0x7*0xbc+-0x14*-0x19e,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(0x183+-0x1990+-0x180e*-0x1);const _0x4ef8e1=this['_splitLigh'+'ts'];for(let _0x186390=0x103e+-0x408*0x3+-0x1*0x426;_0x186390<_0x4ef8e1['length'];_0x186390++)_0x4ef8e1[_0x186390]['length']=-0x6*-0x54b+-0x4c7+-0x1afb;const _0x115273=this['_lights'];for(let _0x1a047a=0x40f+-0x3*-0x83+-0x1*0x598;_0x1a047a<_0x115273['length'];_0x1a047a++){const _0x532b57=_0x115273[_0x1a047a];_0x532b57['enabled']&&_0x4ef8e1[_0x532b57['_type']]['push'](_0x532b57);}for(let _0x200b51=0x1ee1+-0xe7d*0x1+-0x1064;_0x200b51<_0x4ef8e1['length'];_0x200b51++)_0x4ef8e1[_0x200b51]['sort']((_0x2f6994,_0x237bc9)=>_0x2f6994['key']-_0x237bc9['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x169e32,_0x177ab0,_0x46ab7d){let _0x215fb1=-0x1c25+-0x105c+0x1*0x2c81;const _0x1036e6=this['_lights'];for(let _0x30d83e=-0xc74*-0x1+0x267*-0x3+-0x53f;_0x30d83e<_0x1036e6['length'];_0x30d83e++){const _0x58ad1a=_0x1036e6[_0x30d83e]['type']!==ve;(_0x169e32&&_0x58ad1a||_0x177ab0&&!_0x58ad1a)&&co['push'](_0x46ab7d?_0x1036e6[_0x30d83e]['id']:_0x1036e6[_0x30d83e]['key']);}return co['length']>0x1f3*0x3+-0x23*0x60+0x747&&(co['sort'](),_0x215fb1=By(co),co['length']=-0xd2b+0x122*0xd+-0x18f*0x1),_0x215fb1;}['getLightHa'+'sh'](_0x5f044e){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(0x47c+-0x1b0d*-0x1+0x7e2*-0x4),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x5f044e,!(0xd*-0x59+0x64e+-0x1*0x1c9),!(0x1*-0xe4a+0x172+-0xd*-0xfd))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(-0x8a+-0x2061+0x20ec),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(0x2b*0xf+-0x1dde+0x1b59),!(-0x23b7+0x1727+0xc91),!(-0x4*-0x74f+0x1*-0xfe0+-0xd5c))),this['_lightIdHa'+'sh'];}['addCamera'](_0x323f9c){this['camerasSet']['has'](_0x323f9c['camera'])||(this['camerasSet']['add'](_0x323f9c['camera']),this['cameras']['push'](_0x323f9c),this['_dirtyComp'+'osition']=!(0xd3e+0x571*-0x7+0x1*0x18d9));}['removeCame'+'ra'](_0x3e2de0){if(this['camerasSet']['has'](_0x3e2de0['camera'])){this['camerasSet']['delete'](_0x3e2de0['camera']);const _0x13af14=this['cameras']['indexOf'](_0x3e2de0);this['cameras']['splice'](_0x13af14,0x22e4+0x2311+-0x2*0x22fa),this['_dirtyComp'+'osition']=!(-0x14d5*0x1+0x616+0xebf*0x1);}}['clearCamer'+'as'](){this['cameras']['length']=0x131*-0x14+-0x89d+0x2071,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(0x7f*0x29+-0xb96+0x2eb*-0x3);}['_calculate'+'SortDistan'+'ces'](_0x50fdb8,_0xb51cc3,_0x321091){const _0x4b2b5f=_0x50fdb8['length'],{x:_0x5a6153,y:_0x3958ac,z:_0x171cd2}=_0xb51cc3,{x:_0x8f7972,y:_0xcf1934,z:_0x539c46}=_0x321091;for(let _0x34c597=0x145b+-0x12f*-0x6+0x47*-0x63;_0x34c597<_0x4b2b5f;_0x34c597++){const _0x14e444=_0x50fdb8[_0x34c597];let _0x8ef982;if(_0x14e444['calculateS'+'ortDistanc'+'e'])_0x8ef982=_0x14e444['calculateS'+'ortDistanc'+'e'](_0x14e444,_0xb51cc3,_0x321091);else{const _0xbaa965=_0x14e444['aabb']['center'];_0x8ef982=(_0xbaa965['x']-_0x5a6153)*_0x8f7972+(_0xbaa965['y']-_0x3958ac)*_0xcf1934+(_0xbaa965['z']-_0x171cd2)*_0x539c46;}const _0x5abce9=_0x14e444['_drawBucke'+'t']*(-0x2*-0x1bb82bc6+0x64e50d2+-0x223de5e);_0x14e444['_sortKeyDy'+'namic']=_0x5abce9+_0x8ef982;}}['getCulledI'+'nstances'](_0x52e6c3){let _0x53d67a=this['_visibleIn'+'stances']['get'](_0x52e6c3);return _0x53d67a||(_0x53d67a=new nA(),this['_visibleIn'+'stances']['set'](_0x52e6c3,_0x53d67a)),_0x53d67a;}['sortVisibl'+'e'](_0x196f07,_0x14b1a7){const _0x135750=_0x14b1a7?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x135750===Yc)return;const _0x4a68c6=this['getCulledI'+'nstances'](_0x196f07),_0x310052=_0x14b1a7?_0x4a68c6['transparen'+'t']:_0x4a68c6['opaque'],_0x5a1251=_0x196f07['node'];if(_0x135750===Zw){const _0xbb95da=_0x5a1251['getPositio'+'n'](),_0x1264c7=_0x5a1251['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x310052,_0x310052['length'],_0xbb95da,_0x1264c7),this['customSort'+'Callback']&&_0x310052['sort'](this['customSort'+'Callback']);}else{if(_0x135750===m_||_0x135750===Kw){const _0x2bd3ed=_0x5a1251['getPositio'+'n'](),_0x400144=_0x5a1251['forward'];this['_calculate'+'SortDistan'+'ces'](_0x310052,_0x2bd3ed,_0x400144);}_0x310052['sort'](aA[_0x135750]);}}}const oA=(_0x56ccbb,_0x413f69)=>_0x56ccbb['priority']-_0x413f69['priority'],ul=_0x58d4a9=>_0x58d4a9['sort'](oA);class du extends me{constructor(_0x4b4062='Untitled'){super(),h(this,'layerList',[]),h(this,'layerIdMap',new Map()),h(this,'layerNameM'+'ap',new Map()),h(this,'layerOpaqu'+'eIndexMap',new Map()),h(this,'layerTrans'+'parentInde'+'xMap',new Map()),h(this,'subLayerLi'+'st',[]),h(this,'subLayerEn'+'abled',[]),h(this,'cameras',[]),h(this,'_renderAct'+'ions',[]),h(this,'_dirty',!(0x9*-0x295+0x1c6*0x1+0x1578)),(this['name']=_0x4b4062,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0x531447=>_0x531447['destroy']()),this['_renderAct'+'ions']['length']=0x175*-0xb+0x73*-0x50+0x1*0x33f7;}['markDirty'](){this['_dirty']=!(-0xa3b+0x20e0+-0x155*0x11);}['_update'](){const _0x4fcc31=this['layerList']['length'];if(!this['_dirty']){for(let _0xa9ef6e=-0x26df+-0x2232+0x4911;_0xa9ef6e<_0x4fcc31;_0xa9ef6e++)if(this['layerList'][_0xa9ef6e]['_dirtyComp'+'osition']){this['_dirty']=!(0x14e+-0x1*0x9d9+0x88b);break;}}if(this['_dirty']){this['_dirty']=!(0x1417+-0x73*-0x31+-0x2a19*0x1),this['cameras']['length']=-0x9b*-0x4+0x37a+0x2*-0x2f3;for(let _0x263cc8=0x17*0x193+0x10a5+-0x1c3*0x1e;_0x263cc8<_0x4fcc31;_0x263cc8++){const _0x83b716=this['layerList'][_0x263cc8];_0x83b716['_dirtyComp'+'osition']=!(0x1*-0x1021+0x260f+-0x74f*0x3);for(let _0xe34b7c=-0x10c9*-0x1+-0x1e98+0xdcf;_0xe34b7c<_0x83b716['cameras']['length'];_0xe34b7c++){const _0x24e5ed=_0x83b716['cameras'][_0xe34b7c];this['cameras']['indexOf'](_0x24e5ed)<0x57+0x1693+0x1a3*-0xe&&this['cameras']['push'](_0x24e5ed);}}this['cameras']['length']>-0xb6*-0x2b+-0x1*0x11ba+-0xcd7&&ul(this['cameras']);let _0x48cedd=-0x1b68+0x27b+0x18ed;this['destroyRen'+'derActions']();for(let _0x356304=0x1*-0x9ec+-0x125*-0x14+-0xcf8;_0x356304<this['cameras']['length'];_0x356304++){const _0x40c3b1=this['cameras'][_0x356304];if(_0x40c3b1['camera']['renderPass'+'es']['length']>-0x112*0xd+0x16*0xca+-0x372){this['addDummyRe'+'nderAction'](_0x48cedd,_0x40c3b1),_0x48cedd++;continue;}let _0xd1d50f=!(-0xb0a+0x3d8+0x732);const _0x5b7ff5=_0x48cedd;let _0x4c73f8=null,_0x50705c=!(-0x23b1+0xa*-0x8d+0x2934);for(let _0x3c77f9=0x32*-0x6a+-0xf60+-0x120a*-0x2;_0x3c77f9<_0x4fcc31;_0x3c77f9++){const _0x27b181=this['layerList'][_0x3c77f9];if(_0x27b181['enabled']&&this['subLayerEn'+'abled'][_0x3c77f9]&&_0x27b181['cameras']['length']>0x509+0xbdc+-0xad*0x19&&_0x40c3b1['layers']['indexOf'](_0x27b181['id'])>=0x1f4e+0x3fd*-0x6+-0x20*0x3b){!_0x50705c&&_0x27b181['id']===_0x40c3b1['disablePos'+'tEffectsLa'+'yer']&&(_0x50705c=!(-0x1*0x263c+-0xa43+0x1*0x307f),_0x4c73f8&&(_0x4c73f8['triggerPos'+'tprocess']=!(0x1*-0x4f3+0x2*0x1038+-0x1*0x1b7d)));const _0x3d94ae=this['subLayerLi'+'st'][_0x3c77f9];_0x4c73f8=this['addRenderA'+'ction'](_0x48cedd,_0x27b181,_0x3d94ae,_0x40c3b1,_0xd1d50f,_0x50705c),_0x48cedd++,_0xd1d50f=!(0x1*0x18a3+0x8*-0x439+0x926);}}_0x5b7ff5<_0x48cedd&&(_0x4c73f8['lastCamera'+'Use']=!(0xa15+-0x4*-0x1c9+-0x1*0x1139)),!_0x50705c&&_0x4c73f8&&(_0x4c73f8['triggerPos'+'tprocess']=!(0x1*-0xfed+0x1*-0x266c+-0x1*-0x3659)),_0x40c3b1['renderTarg'+'et']&&_0x40c3b1['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x5b7ff5-(0xc02+0x1cc9+0x28ca*-0x1),_0x40c3b1);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0xd4870c){w['assert'](this['_renderAct'+'ions']['length']===_0xd4870c);const _0x2e7306=new Pv();return this['_renderAct'+'ions']['push'](_0x2e7306),_0x2e7306;}['addDummyRe'+'nderAction'](_0x3ad555,_0x531b98){const _0xc55e0f=this['getNextRen'+'derAction'](_0x3ad555);_0xc55e0f['camera']=_0x531b98,_0xc55e0f['useCameraP'+'asses']=!(0x1e5*0x12+-0x1b3a+0x37*-0x20);}['addRenderA'+'ction'](_0x77af78,_0x404a59,_0x22cab6,_0x552dc5,_0x2e898e,_0x15adbe){let _0x1d4e42=_0x404a59['id']!==ps?_0x552dc5['renderTarg'+'et']:null,_0x489cd2=!(0x39c+-0x4a*-0x54+0x1*-0x1be3);const _0x201386=this['_renderAct'+'ions'];for(let _0xde1de8=_0x77af78-(-0x7*0x41b+-0x1*0xa21+0x26df);_0xde1de8>=0x20bb+0x1cf*0x2+0x745*-0x5;_0xde1de8--)if(_0x201386[_0xde1de8]['camera']===_0x552dc5&&_0x201386[_0xde1de8]['renderTarg'+'et']===_0x1d4e42){_0x489cd2=!(0x5d*0x17+0x262d+-0x2e88);break;}_0x15adbe&&_0x552dc5['postEffect'+'sEnabled']&&(_0x1d4e42=null);const _0x1a0449=this['getNextRen'+'derAction'](_0x77af78);_0x1a0449['triggerPos'+'tprocess']=!(0x6dc*0x1+0x16eb+-0xee3*0x2),_0x1a0449['layer']=_0x404a59,_0x1a0449['transparen'+'t']=_0x22cab6,_0x1a0449['camera']=_0x552dc5,_0x1a0449['renderTarg'+'et']=_0x1d4e42,_0x1a0449['firstCamer'+'aUse']=_0x2e898e,_0x1a0449['lastCamera'+'Use']=!(0xed2+-0x1*-0x1465+0x2*-0x119b);const _0x38107b=_0x2e898e||!_0x489cd2,_0x161a14=_0x404a59['clearColor'+'Buffer']||_0x404a59['clearDepth'+'Buffer']||_0x404a59['clearStenc'+'ilBuffer'];return(_0x38107b||_0x161a14)&&_0x1a0449['setupClear'+'s'](_0x38107b?_0x552dc5:void(0xc*0x1eb+-0xca4*-0x2+-0x304c),_0x404a59),_0x1a0449;}['propagateR'+'enderTarge'+'t'](_0x2be2fe,_0x5dfec5){for(let _0x4cff64=_0x2be2fe;_0x4cff64>=-0x15ff+-0x9a*0x2c+0x13*0x28d;_0x4cff64--){const _0x546679=this['_renderAct'+'ions'][_0x4cff64],_0x369b23=_0x546679['layer'];if(_0x546679['renderTarg'+'et']&&_0x369b23['id']!==ps)break;if(_0x369b23['id']===ps)continue;if(_0x546679['useCameraP'+'asses'])break;const _0x53a0e3=_0x546679==null?void(-0x3*0x47e+-0x2531+0x73d*0x7):_0x546679['camera']['camera'];if(_0x53a0e3&&(!_0x5dfec5['camera']['rect']['equals'](_0x53a0e3['rect'])||!_0x5dfec5['camera']['scissorRec'+'t']['equals'](_0x53a0e3['scissorRec'+'t'])))break;_0x546679['renderTarg'+'et']=_0x5dfec5['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(mi['get'](Vl)){w['trace'](Vl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0xdc2409=-0x14cb+0x1f16+-0xa4b;_0xdc2409<this['_renderAct'+'ions']['length'];_0xdc2409++){const _0x354cdb=this['_renderAct'+'ions'][_0xdc2409],_0x2e690f=_0x354cdb['camera'];if(_0x354cdb['useCameraP'+'asses'])w['trace'](Vl,_0xdc2409+('CustomPass'+'es\x20Cam:\x20')+(_0x2e690f?_0x2e690f['entity']['name']:'-'));else{const _0x2556b4=_0x354cdb['layer'],_0x3ce084=_0x2556b4['enabled']&&this['isEnabled'](_0x2556b4,_0x354cdb['transparen'+'t']),_0x65be14=(_0x354cdb['clearColor']?'Color\x20':'.....\x20')+(_0x354cdb['clearDepth']?'Depth\x20':'.....\x20')+(_0x354cdb['clearStenc'+'il']?'Stencil':'.......');w['trace'](Vl,_0xdc2409+('\x20Cam:\x20'+(_0x2e690f?_0x2e690f['entity']['name']:'-'))['padEnd'](0x1b5b+0x4*0x722+-0x37cd,'\x20')+('\x20Lay:\x20'+_0x2556b4['name'])['padEnd'](0x1f40+0xac6+-0x29f0,'\x20')+(_0x354cdb['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x3ce084?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x354cdb['renderTarg'+'et']?_0x354cdb['renderTarg'+'et']['name']:'-'))['padEnd'](-0x1f3b+-0x2228+0x4181,'\x20')+'\x20Clear:\x20'+_0x65be14+(_0x354cdb['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x354cdb['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x354cdb['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x2534ae){const _0x39ff7a=this['layerIdMap']['get'](_0x2534ae['id'])===_0x2534ae;return w['assert'](!_0x39ff7a,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x2534ae['name']),_0x39ff7a;}['_isSublaye'+'rAdded'](_0x3e29ee,_0x58b42d){return(_0x58b42d?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x3e29ee)!==void(0x29*-0x7+0x23*0xc7+-0x1a16)?(w['error']('Sublayer\x20'+_0x3e29ee['name']+(',\x20transpar'+'ent:\x20')+_0x58b42d+('\x20is\x20alread'+'y\x20added.')),!(-0x5a7*0x4+-0x26c+0x1908)):!(0x2301+0x14*-0x31+0x31e*-0xa);}['push'](_0x2d244b){this['_isLayerAd'+'ded'](_0x2d244b)||(this['layerList']['push'](_0x2d244b),this['layerList']['push'](_0x2d244b),this['_opaqueOrd'+'er'][_0x2d244b['id']]=this['subLayerLi'+'st']['push'](!(-0x1b1*-0x7+-0x112f+0x25*0x25))-(-0x2440+0x10e9+0x1358),this['_transpare'+'ntOrder'][_0x2d244b['id']]=this['subLayerLi'+'st']['push'](!(-0x105*-0x4+-0x1a*0x92+-0x2b*-0x40))-(-0x6*0x461+0xb*0x146+0xc45),this['subLayerEn'+'abled']['push'](!(0x230e+-0x1f12+-0x3fc)),this['subLayerEn'+'abled']['push'](!(0x1*-0x23e3+-0x244d+-0x483*-0x10)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x11c1+0x1*-0xcd+0x43d*-0x4),this['fire']('add',_0x2d244b));}['insert'](_0x51faa1,_0x3b7d15){if(this['_isLayerAd'+'ded'](_0x51faa1))return;this['layerList']['splice'](_0x3b7d15,0x1*-0x1bf4+-0x23c3+0x3fb7,_0x51faa1,_0x51faa1),this['subLayerLi'+'st']['splice'](_0x3b7d15,0x5*-0x29c+-0x622+0xa*0x1eb,!(-0x1060+-0x5ad*0x4+0x2715),!(0x2*0x55d+0x1241+0x1*-0x1cfb));const _0x456744=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x3b7d15,_0x456744-(0x25c5*0x1+-0x287+-0xbbf*0x3)),this['_updateTra'+'nsparentOr'+'der'](_0x3b7d15,_0x456744-(0x11*-0x19b+0x2fc+0x614*0x4)),this['subLayerEn'+'abled']['splice'](_0x3b7d15,0x1d97+0xd80+0x1*-0x2b17,!(-0x1d6*0x11+-0x3*0x425+0x2ba5),!(0x21c1*0x1+-0x86b+-0x2f*0x8a)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0xb*-0x17b+0xf0a+-0xb*-0x1d),this['fire']('add',_0x51faa1);}['remove'](_0x24701d){let _0x2770b3=this['layerList']['indexOf'](_0x24701d);for(delete this['_opaqueOrd'+'er'][_0x2770b3],delete this['_transpare'+'ntOrder'][_0x2770b3];_0x2770b3>=0x40a+0x5*-0x44f+0x1181;)this['layerList']['splice'](_0x2770b3,-0x5bf*0x3+0x3a9+-0x13*-0xb7),this['subLayerLi'+'st']['splice'](_0x2770b3,-0x67b+-0x1*0x1417+-0x1a93*-0x1),this['subLayerEn'+'abled']['splice'](_0x2770b3,-0x1735*-0x1+-0x1af0+0x1de*0x2),_0x2770b3=this['layerList']['indexOf'](_0x24701d),this['_dirty']=!(-0x1*-0x237d+-0x3*0xa76+0x1*-0x41b),this['fire']('remove',_0x24701d);const _0x497ce3=this['layerList']['length'];this['_updateOpa'+'queOrder'](0x1*0x4d4+-0x7c7+0x2f3,_0x497ce3-(-0x1cdd+0x3*-0x689+0x1*0x3079)),this['_updateTra'+'nsparentOr'+'der'](0x20b+-0x1a0+-0x6b,_0x497ce3-(0x1*0x79f+-0x1*-0x11+0x7af*-0x1)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x572876){this['_isSublaye'+'rAdded'](_0x572876,!(0x1c13+0x1058+-0x767*0x6))||(this['layerList']['push'](_0x572876),this['_opaqueOrd'+'er'][_0x572876['id']]=this['subLayerLi'+'st']['push'](!(0x18a8+0x17*0x179+-0x3a86))-(-0x1096+-0x1*-0xd05+0x392),this['subLayerEn'+'abled']['push'](!(-0x2*0x883+0x662*0x1+0xaa4)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x11c6+-0x4*-0x801+-0xe3e),this['fire']('add',_0x572876));}['insertOpaq'+'ue'](_0x236e7f,_0x2d2997){if(this['_isSublaye'+'rAdded'](_0x236e7f,!(0xe3f+-0x354+-0xaea)))return;this['layerList']['splice'](_0x2d2997,-0x761+-0x1*-0x2d4+0x48d*0x1,_0x236e7f),this['subLayerLi'+'st']['splice'](_0x2d2997,0x2191+0x1c86+-0x3e17,!(0x1*0xb1b+-0x188d*0x1+0xd73));const _0x5ed905=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x2d2997,_0x5ed905-(0x1d5e+0x1dbf+0x9c*-0x61)),this['subLayerEn'+'abled']['splice'](_0x2d2997,0x2*-0x37+-0xe50+0xebe,!(-0x11b3+-0x1522*0x1+0x26d5)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x35b*0xb+-0x1487+0x2*0x1cb8),this['fire']('add',_0x236e7f);}['removeOpaq'+'ue'](_0x587ebd){for(let _0x3c76e8=0x47f*-0x3+0x228a+-0x150d,_0x1e44f6=this['layerList']['length'];_0x3c76e8<_0x1e44f6;_0x3c76e8++)if(this['layerList'][_0x3c76e8]===_0x587ebd&&!this['subLayerLi'+'st'][_0x3c76e8]){this['layerList']['splice'](_0x3c76e8,0x12ce*-0x1+-0x38f*0x2+-0x1*-0x19ed),this['subLayerLi'+'st']['splice'](_0x3c76e8,-0x86*0x5+0xf0f+0x4*-0x31c),_0x1e44f6--,this['_updateOpa'+'queOrder'](_0x3c76e8,_0x1e44f6-(-0xa94+-0x255d+-0x2d2*-0x11)),this['subLayerEn'+'abled']['splice'](_0x3c76e8,0x26b4+-0x1*-0xcdc+-0x338f),this['_dirty']=!(0x1c0f*0x1+-0x472+-0x179d),this['layerList']['indexOf'](_0x587ebd)<-0xb7*-0x2+0x2516+-0x91*0x44&&this['fire']('remove',_0x587ebd);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x2bbf01){this['_isSublaye'+'rAdded'](_0x2bbf01,!(0x1635+0x890+0x1ec5*-0x1))||(this['layerList']['push'](_0x2bbf01),this['_transpare'+'ntOrder'][_0x2bbf01['id']]=this['subLayerLi'+'st']['push'](!(0x23e9+-0xb60+-0x1889))-(0x2133+0x13c5+-0x95*0x5b),this['subLayerEn'+'abled']['push'](!(0x1835*0x1+-0x23c3+0x5c7*0x2)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x655*0x1+-0x27a+-0x3db),this['fire']('add',_0x2bbf01));}['insertTran'+'sparent'](_0x4f9753,_0x15487a){if(this['_isSublaye'+'rAdded'](_0x4f9753,!(-0x1*-0x79+0x1dbd+-0x1e36)))return;this['layerList']['splice'](_0x15487a,-0x1c3*0x1+-0x2096+0x2259,_0x4f9753),this['subLayerLi'+'st']['splice'](_0x15487a,0x2706+-0x1b1f+-0x1*0xbe7,!(0x1fbd+0x10b*0x23+-0x6d3*0xa));const _0x2e7c6f=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x15487a,_0x2e7c6f-(0x15b*-0x6+-0x1010+-0x375*-0x7)),this['subLayerEn'+'abled']['splice'](_0x15487a,-0x13c6+-0x269e+0x94*0x65,!(0x5c7+-0x18bd+0x12f6)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x387+-0x1db9+-0x2140*-0x1),this['fire']('add',_0x4f9753);}['removeTran'+'sparent'](_0x175ce3){for(let _0x36dee7=-0x241*-0x7+-0xf96+-0x31,_0x3b6d7c=this['layerList']['length'];_0x36dee7<_0x3b6d7c;_0x36dee7++)if(this['layerList'][_0x36dee7]===_0x175ce3&&this['subLayerLi'+'st'][_0x36dee7]){this['layerList']['splice'](_0x36dee7,-0x3a*-0x8+0x7f*-0x16+0x91b),this['subLayerLi'+'st']['splice'](_0x36dee7,-0x2040+-0x23b5+-0x43f6*-0x1),_0x3b6d7c--,this['_updateTra'+'nsparentOr'+'der'](_0x36dee7,_0x3b6d7c-(0x7cf*-0x5+-0x8e*-0x35+0x9a6)),this['subLayerEn'+'abled']['splice'](_0x36dee7,-0x2*-0xcd+-0x37*0xa9+0x2*0x115b),this['_dirty']=!(-0x3*-0x61+-0x1d6*0x5+0x80b),this['layerList']['indexOf'](_0x175ce3)<-0x6b*0x2f+0x4*-0x1a9+0x1a49&&this['fire']('remove',_0x175ce3);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x3cf75c){return this['layerOpaqu'+'eIndexMap']['get'](_0x3cf75c)??-(-0x98e*0x1+0x2590+-0x6b*0x43);}['getTranspa'+'rentIndex'](_0x14d664){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x14d664)??-(0x949*-0x2+0x3f2*0x4+0x5*0x8f);}['isEnabled'](_0x57e0d1,_0x413e5d){if(_0x57e0d1['enabled']){const _0x3a581b=_0x413e5d?this['getTranspa'+'rentIndex'](_0x57e0d1):this['getOpaqueI'+'ndex'](_0x57e0d1);if(_0x3a581b>=-0xd8a+0xc*0x2a8+0x92b*-0x2)return this['subLayerEn'+'abled'][_0x3a581b];}return!(0x210b+0x8be+-0xa72*0x4);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0x1951c6=0x7b6+0x7f6+-0x3b*0x44;_0x1951c6<this['layerList']['length'];_0x1951c6++){const _0x2802cb=this['layerList'][_0x1951c6];this['layerIdMap']['set'](_0x2802cb['id'],_0x2802cb),this['layerNameM'+'ap']['set'](_0x2802cb['name'],_0x2802cb),(this['subLayerLi'+'st'][_0x1951c6]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x2802cb,_0x1951c6);}}['getLayerBy'+'Id'](_0x4924e8){return this['layerIdMap']['get'](_0x4924e8)??null;}['getLayerBy'+'Name'](_0x15a73b){return this['layerNameM'+'ap']['get'](_0x15a73b)??null;}['_updateOpa'+'queOrder'](_0x4ebc5b,_0x267951){for(let _0x5429a7=_0x4ebc5b;_0x5429a7<=_0x267951;_0x5429a7++)this['subLayerLi'+'st'][_0x5429a7]===!(0xa94*0x2+-0x1692+0x16b)&&(this['_opaqueOrd'+'er'][this['layerList'][_0x5429a7]['id']]=_0x5429a7);}['_updateTra'+'nsparentOr'+'der'](_0x36242a,_0x386a32){for(let _0x57bcad=_0x36242a;_0x57bcad<=_0x386a32;_0x57bcad++)this['subLayerLi'+'st'][_0x57bcad]===!(0x5*-0x2d4+-0xa73+0x1897*0x1)&&(this['_transpare'+'ntOrder'][this['layerList'][_0x57bcad]['id']]=_0x57bcad);}['_sortLayer'+'sDescendin'+'g'](_0x16bfcf,_0x3e053f,_0x1669b2){let _0x59c5b6=-(-0x4*-0x5e+0x1717+-0x188e),_0x1879fb=-(0x11f0*0x1+0x5*-0x581+-0x6*-0x199);for(let _0x459867=0xd*0x2d5+0x7a*0x4a+-0x4815*0x1,_0x9ea7b0=_0x16bfcf['length'];_0x459867<_0x9ea7b0;_0x459867++){const _0xa9726e=_0x16bfcf[_0x459867];_0x1669b2['hasOwnProp'+'erty'](_0xa9726e)&&(_0x59c5b6=Math['max'](_0x59c5b6,_0x1669b2[_0xa9726e]));}for(let _0xccd9e9=0xdab*0x1+0x8*0x76+0x1*-0x115b,_0x4008b4=_0x3e053f['length'];_0xccd9e9<_0x4008b4;_0xccd9e9++){const _0xba87fa=_0x3e053f[_0xccd9e9];_0x1669b2['hasOwnProp'+'erty'](_0xba87fa)&&(_0x1879fb=Math['max'](_0x1879fb,_0x1669b2[_0xba87fa]));}return _0x59c5b6===-(0x1db3+-0x7d0+-0x15e2)&&_0x1879fb!==-(0x163b+-0x31b+-0x131f)?0x127e+0x1eda+-0x3157:_0x1879fb===-(-0x18ff+-0x1f17+0x3817)&&_0x59c5b6!==-(-0x10c+0xad3+-0x9c6)?-(-0x124+-0x6*-0x39a+-0x1477):_0x1879fb-_0x59c5b6;}['sortTransp'+'arentLayer'+'s'](_0x599558,_0xe72879){return this['_sortLayer'+'sDescendin'+'g'](_0x599558,_0xe72879,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x16b069,_0x192ed4){return this['_sortLayer'+'sDescendin'+'g'](_0x16b069,_0x192ed4,this['_opaqueOrd'+'er']);}}const dc=new D(),wi={'bias':0x0,'normalBias':0x0},ho=new ie(),pf={'r':0x0,'g':0x1,'b':0x2,'a':0x3},fu={'directional':ve,'omni':Ke,'point':Ke,'spot':Ze},lA=[[new re(0x3*0x49+-0x181*0x15+0x1eba,0x3*-0xcbb+-0x23d2+-0x1*-0x4a03,-0x1*-0x6b9+-0x993+-0x11*-0x2b,-0x1043*0x2+-0x39*-0x95+0x53*-0x2)],[new re(0xb*0x1cd+-0x62*-0xa+-0x17a3,-0x9e*-0x29+-0x1*-0x1aa8+-0x33f6,-0x2049+-0x1540+0xab5*0x5+0.5,-0xac8+0xe9*0x1d+-0x23b*0x7+0.5),new re(0xc20+-0x16e*0x3+0x1*-0x7d6,-0x249a+-0x2239+-0x1*-0x46d3+0.5,0x1*-0x2011+0x446*0x7+0x227+0.5,-0x8d0+0x2*0x7ba+0x14*-0x55+0.5)],[new re(-0x439+0x6b*-0x2f+0x17de,-0x375+0x1bb6+-0x1841*0x1,0x188a+0x1287+-0x2b11+0.5,0x3b4*-0x5+-0x1*-0x10a3+0x1e1+0.5),new re(-0x8b*0xe+-0x2396+0x2b3*0x10,-0xd69*0x1+0x1b7a+-0xe11+0.5,0x9*-0x43f+-0x1ce8+0x431f+0.5,-0x19b9*0x1+0x2a*-0x83+0x4f*0x99+0.5),new re(0x19fd*-0x1+-0x32*-0x3d+0xe13+0.5,-0x608+-0x3c8+0x9d0,-0x23b4+0xd6*0x16+-0x2*-0x8a8+0.5,0x711+-0x2027+0x1916+0.5)],[new re(-0x21f0+-0xf*0x286+0x47ca,-0x2*0x258+0x234a*0x1+0xf4d*-0x2,0x1*-0xe73+0x1*0x2007+-0x9*0x1f4+0.5,-0x14f5+-0x1556+0x2a4b+0.5),new re(-0x19dd*-0x1+0xfa+-0x1ad7,0x1dc2+0x151c+-0x32de+0.5,-0x325+0x2af+-0x3b*-0x2+0.5,-0x15f+0x1ae5+-0x1986+0.5),new re(-0x262*0x5+0x842+0x3a8+0.5,-0xc44*0x1+-0x1159+-0x1*-0x1d9d,-0x228c+0x25b8+0x1d*-0x1c+0.5,-0x23dd+0x8a*-0x3b+0x43ab+0.5),new re(-0x3f*0x7a+0x106*0xd+-0x42e*-0x4+0.5,-0x103a+-0x2710+0x374a+0.5,-0x11f7+-0x1*-0x1b3d+0x2*-0x4a3+0.5,-0xa06+0x1b28+-0x1122+0.5)]],cA={'rrr':0x1,'ggg':0x2,'bbb':0x4,'aaa':0x8,'rgb':0x7};let hA=0x1bf8+-0x9af+-0x1*0x1249;class dA{constructor(_0x45e85a,_0x5885a2,_0x667b49){this['light']=_0x667b49,this['camera']=_0x45e85a,this['shadowCame'+'ra']=Cv['createShad'+'owCamera'](_0x667b49['_shadowTyp'+'e'],_0x667b49['_type'],_0x5885a2),this['shadowMatr'+'ix']=new te(),this['shadowView'+'port']=new re(0x481*-0x4+-0x27b+0x147f,0x1784+-0xb67+-0x1bb*0x7,-0x21*0x1e+-0x9*0x207+0x161e,0x13*0x1df+-0x1*-0x1b55+-0x3ee1),this['shadowScis'+'sor']=new re(0x23c9+0x1*-0xba7+-0x1822,0x2548+-0x17dc+-0x35b*0x4,-0x234a+-0x2179+0x44c4,-0x71c+0x4cf*-0x1+0xbec),this['projection'+'Compensati'+'on']=-0x1*0x113d+-0x12f6+0x2433,this['face']=_0x5885a2,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0xa12f95=>{_0xa12f95['defaultUni'+'formBuffer']['destroy'](),_0xa12f95['destroy']();}),this['viewBindGr'+'oups']['length']=-0x5a7*-0x1+0x496*0x1+-0xa3d;}get['shadowBuff'+'er'](){const _0x5dbdf3=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x5dbdf3?this['light']['_isPcf']?_0x5dbdf3['depthBuffe'+'r']:_0x5dbdf3['colorBuffe'+'r']:null;}}class pl{constructor(_0x25ff2f,_0x564d72){h(this,'layers',new Set()),h(this,'clusteredL'+'ighting'),h(this,'shadowDept'+'hState',Yt['DEFAULT']['clone']()),h(this,'clusteredF'+'lags',-0xbdc+-0x11d7*0x1+0x1db3),h(this,'clusteredD'+'ata',new Uint32Array(0x237*0x9+-0xd5e+-0x68e)),h(this,'clusteredD'+'ata16',new Uint16Array(this['clusteredD'+'ata']['buffer'])),h(this,'_evtDevice'+'Restored',null),(this['device']=_0x25ff2f,this['clusteredL'+'ighting']=_0x564d72,this['id']=hA++,this['_evtDevice'+'Restored']=_0x25ff2f['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this),this['_type']=ve,this['_color']=new ie(0x10f9+-0x1527+0x6b*0xa+0.8,-0x1*-0x6ad+0x9e9*-0x1+0x114*0x3+0.8,0x8*-0x1e8+-0x4*-0x332+-0x2*-0x13c+0.8),this['_intensity']=-0x116*0x6+0x1a64+-0x13df,this['_affectSpe'+'cularity']=!(0x2*-0xeb7+0x9cd+0x4b*0x43),this['_luminance']=-0x79c*-0x4+0x1003+-0x2e73,this['_castShado'+'ws']=!(0x1982+-0x59*0x6d+0x3d*0x34),this['_enabled']=!(0x739+-0xcd*0x1f+-0x1*-0x119b),this['_mask']=Ss,this['isStatic']=!(-0x10c2+0x67*-0x29+-0x42*-0x81),this['key']=0xe3*0x1+-0x18a7+0x1a*0xea,this['bakeDir']=!(0xd1d+0x25dc+-0x32f9),this['bakeNumSam'+'ples']=-0x109c+-0x2*-0xf4+0xeb5,this['bakeArea']=0x189f+0x1*0xead+-0x274c,this['attenuatio'+'nStart']=-0x1*-0x1994+-0x161+0x4d5*-0x5,this['attenuatio'+'nEnd']=0x14e6+0x464+-0x328*0x8,this['_falloffMo'+'de']=Qp,this['_shadowTyp'+'e']=$s,this['_vsmBlurSi'+'ze']=0x20f7+-0x3*-0x3e6+-0x2c9e,this['vsmBlurMod'+'e']=em,this['vsmBias']=(0x1e9f+-0x1*-0x72e+-0x25cd+0.01)*(0x1208+-0x10ef+-0x119+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=0x164*-0x5+-0x6*0x147+0x1*0xe9f,this['_cookieFal'+'loff']=!(0xd*0x24f+0x2e*0x36+0x1*-0x27b7),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(0x67c+0x12a+-0x2*0x3d1),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(0x6f*-0x1f+-0x653*-0x5+-0x122c),this['_cookieTra'+'nsformSet']=!(0xdbc*-0x2+-0x171*-0x3+0x2*0xb93),this['_cookieOff'+'setSet']=!(-0xba7*0x1+-0x1*0x6d9+0x1281),this['_innerCone'+'Angle']=-0x1b7*0x1+-0x23d9+-0x4b7*-0x8,this['_outerCone'+'Angle']=-0x1573*0x1+0x80f*-0x2+0x25be,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=-0x63d+-0x4f6*-0x1+0x148,this['_cascadeBl'+'end']=-0x2070+-0x1fd4+-0x1*-0x4044,this['cascadeDis'+'tribution']=0x112f*0x1+0x1bd5*-0x1+0xaa6*0x1+0.5,this['_shape']=Ys,this['_colorLine'+'ar']=new Float32Array(-0xa21+0x1c40+-0x4c*0x3d),this['_updateLin'+'earColor'](),this['_position']=new D(-0x751+0x20fb*-0x1+0x1*0x284c,0x1536+0xafc+-0x2032*0x1,0x15a*0xb+-0xd90+-0x14e),this['_direction']=new D(0x1044+0x53*0x3b+0x215*-0x11,0x18b3*-0x1+-0x1f17+0x37ca,0x2557+0x24a*0x4+-0x2e7f),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(-0x20d+-0x10c6+0x1387)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(-0xe0c+-0x2*0xda6+-0xdc8*-0x3),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=0x7*0x3f3+0x1ba5+-0x3722,this['_shadowRes'+'olution']=-0xe*-0x14b+0x1*-0xe69+0x4f,this['_shadowBia'+'s']=-(0x1989+0x1e07*0x1+-0x3790+0.0005),this['_shadowInt'+'ensity']=0x2376+0x2113*-0x1+0x5*-0x7a,this['_normalOff'+'setBias']=-0x12df+0x12d6+-0x1*-0x9,this['shadowUpda'+'teMode']=lm,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(-0xcea+0x3*-0x5+0xcfa),this['_isPcf']=!(0x1dab+0xb60+0x290b*-0x1),this['_softShado'+'wParams']=new Float32Array(0x46d+0xaab+0x304*-0x5),this['shadowSamp'+'les']=0x6db*-0x5+-0x228a+0x44e1,this['shadowBloc'+'kerSamples']=-0x1bc7+-0x2515+0x5*0xcfc,this['penumbraSi'+'ze']=-0x16a*0x1+0x1d*-0x66+0xcf9,this['penumbraFa'+'lloff']=0xdba*-0x2+-0x65e+0x21d3*0x1,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(-0x1e47+0x3*-0x505+0x2d57),this['atlasVersi'+'on']=-0xa5*0x3b+0x176c+0xe9b,this['atlasSlotI'+'ndex']=-0xcb0+0xe*0x4f+0x2ca*0x3,this['atlasSlotU'+'pdated']=!(-0x21a*0xe+-0x1df+0x7d3*0x4),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(0x1350+0x5cb+0xc8d*-0x2),this['maxScreenS'+'ize']=0x3*0x263+-0x133f+-0x60b*-0x2,this['_updateSha'+'dowBias']());}['destroy'](){var _0x453ab4;(_0x453ab4=this['_evtDevice'+'Restored'])==null||_0x453ab4['off'](),this['_evtDevice'+'Restored']=null,this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['onDeviceRe'+'stored'](){this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr);}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x62ed33=-0x1f*-0x23+-0xf*-0x16b+-0x1982*0x1;_0x62ed33<this['_renderDat'+'a']['length'];_0x62ed33++)this['_renderDat'+'a'][_0x62ed33]['destroy']();this['_renderDat'+'a']['length']=-0xeb6*0x2+0x1c6*0x1+0x1ba6;}}['addLayer'](_0xf172be){this['layers']['add'](_0xf172be);}['removeLaye'+'r'](_0x37a58b){this['layers']['delete'](_0x37a58b);}set['shadowSamp'+'les'](_0x1fc057){this['_softShado'+'wParams'][-0x12a8+-0x17c5*-0x1+-0x1*0x51d]=_0x1fc057;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][-0x2017+-0x2468+0x447f];}set['shadowBloc'+'kerSamples'](_0x12cc54){this['_softShado'+'wParams'][0x1*0x2195+0xcf2*0x1+-0x2e86]=_0x12cc54;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][0x153a+0x5f1*-0x1+0xc*-0x146];}set['shadowBias'](_0x21a176){this['_shadowBia'+'s']!==_0x21a176&&(this['_shadowBia'+'s']=_0x21a176,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x360274){(!this['cascades']||this['numCascade'+'s']!==_0x360274)&&(this['cascades']=lA[_0x360274-(0x12ff+-0x1231+-0xcd)],this['_shadowMat'+'rixPalette']=new Float32Array(0x23*-0x31+0x70*0x54+-0x9ef*0x3),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(0x1*-0x5d0+-0xc04+0x11d8),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x505dec){this['_cascadeBl'+'end']!==_0x505dec&&(this['_cascadeBl'+'end']=_0x505dec,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0xc6ccb3){this['_shadowMap']!==_0xc6ccb3&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0xc6ccb3);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x507271){this['_mask']!==_0x507271&&(this['_mask']=_0x507271,this['updateKey'](),this['updateClus'+'teredFlags']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x3207b0=this['_type'];return _0x3207b0===ve?this['numCascade'+'s']:_0x3207b0===Ke?-0x1bc7+-0x883+0x53*0x70:-0x11a3+-0x1*0x1d1d+-0x2ec1*-0x1;}set['type'](_0x32f5b5){if(this['_type']===_0x32f5b5)return;this['_type']=_0x32f5b5,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0x925c74=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0x925c74;}get['type'](){return this['_type'];}set['shape'](_0x24403f){if(this['_shape']===_0x24403f)return;this['_shape']=_0x24403f,this['_destroySh'+'adowMap'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0x3df695=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x3df695;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x2b86d3){this['_usePhysic'+'alUnits']!==_0x2b86d3&&(this['_usePhysic'+'alUnits']=_0x2b86d3,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x7773f){if(this['_shadowTyp'+'e']===_0x7773f)return;let _0x1946b1=qi['get'](_0x7773f);_0x1946b1||(_0x7773f=$s);const _0x4538b8=this['device'];_0x7773f===al&&!_0x4538b8['textureFlo'+'atRenderab'+'le']&&!_0x4538b8['textureHal'+'fFloatRend'+'erable']&&(_0x7773f=$s),this['_type']===Ke&&_0x7773f!==tv&&_0x7773f!==$s&&_0x7773f!==sv&&_0x7773f!==iv&&_0x7773f!==al&&(_0x7773f=$s),_0x7773f===Jp&&(!_0x4538b8['textureFlo'+'atRenderab'+'le']||!_0x4538b8['textureFlo'+'atFilterab'+'le'])&&(_0x7773f=au),_0x7773f===au&&!_0x4538b8['textureHal'+'fFloatRend'+'erable']&&(_0x7773f=$s),_0x1946b1=qi['get'](_0x7773f),this['_isVsm']=(_0x1946b1==null?void(0x1daf+-0x15a0+-0x80f):_0x1946b1['vsm'])??!(0x125*0x1+0x18e8*-0x1+0x17c4),this['_isPcf']=(_0x1946b1==null?void(-0xc3f+0x966+0x2d9):_0x1946b1['pcf'])??!(0x1*-0xcbf+-0x1b9b+-0x1*-0x285b),this['_shadowTyp'+'e']=_0x7773f,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x28f7bb){this['_enabled']!==_0x28f7bb&&(this['_enabled']=_0x28f7bb,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x1edf3e){this['_castShado'+'ws']!==_0x1edf3e&&(this['_castShado'+'ws']=_0x1edf3e,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==fi&&this['_mask']!==0x1d29+0x863+-0x258c;}set['shadowInte'+'nsity'](_0x57dcf6){this['_shadowInt'+'ensity']!==_0x57dcf6&&(this['_shadowInt'+'ensity']=_0x57dcf6,this['updateKey']());}get['shadowInte'+'nsity'](){return this['_shadowInt'+'ensity'];}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===fi;}set['shadowReso'+'lution'](_0x25a0be){this['_shadowRes'+'olution']!==_0x25a0be&&(this['_type']===Ke?_0x25a0be=Math['min'](_0x25a0be,this['device']['maxCubeMap'+'Size']):_0x25a0be=Math['min'](_0x25a0be,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x25a0be,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0x311c57){this['_vsmBlurSi'+'ze']!==_0x311c57&&(_0x311c57%(0x5e*-0x32+-0x191*-0x2+0xf3c)===0x1528+0x1edd*-0x1+-0x23*-0x47&&_0x311c57++,this['_vsmBlurSi'+'ze']=_0x311c57);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x2950fd){if(this['_normalOff'+'setBias']!==_0x2950fd){const _0x2450d7=!this['_normalOff'+'setBias']&&_0x2950fd||this['_normalOff'+'setBias']&&!_0x2950fd;this['_normalOff'+'setBias']=_0x2950fd,_0x2450d7&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x18e17b){this['_falloffMo'+'de']!==_0x18e17b&&(this['_falloffMo'+'de']=_0x18e17b,this['updateKey'](),this['updateClus'+'teredFlags']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0x1264bd){this['_innerCone'+'Angle']!==_0x1264bd&&(this['_innerCone'+'Angle']=_0x1264bd,this['_innerCone'+'AngleCos']=Math['cos'](_0x1264bd*Math['PI']/(-0x10*-0xef+-0x2e*0x9a+0xd70)),this['updateClus'+'terData'](!(0x1*-0x1d14+0x23*0x3b+-0xa82*-0x2),!(0x2357*-0x1+-0x32f*-0xc+0x1*-0x2dd)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0x786da5){this['_outerCone'+'Angle']!==_0x786da5&&(this['_outerCone'+'Angle']=_0x786da5,this['_updateOut'+'erAngle'](_0x786da5),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x5ebd06){this['_penumbraS'+'ize']=_0x5ebd06,this['_softShado'+'wParams'][0x1a1*-0x2+-0x934+-0x1*-0xc78]=_0x5ebd06;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0x5479b5){this['_softShado'+'wParams'][-0x1a90+0x1*-0x26cd+0x4160]=_0x5479b5;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][0xb15*0x3+-0x19e9+-0x753];}['_updateOut'+'erAngle'](_0x54fadd){const _0x205c7e=_0x54fadd*Math['PI']/(0x263c+0x1112+-0x1d*0x1e2);this['_outerCone'+'AngleCos']=Math['cos'](_0x205c7e),this['_outerCone'+'AngleSin']=Math['sin'](_0x205c7e),this['updateClus'+'terData'](!(-0x2ec*0xd+0x2d6+-0x2327*-0x1),!(-0x5*0x391+0xa13+0x7c2));}set['intensity'](_0x493354){this['_intensity']!==_0x493354&&(this['_intensity']=_0x493354,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0x20f744){this['_type']===ve&&(this['_affectSpe'+'cularity']=_0x20f744,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x4b348f){this['_luminance']!==_0x4b348f&&(this['_luminance']=_0x4b348f,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new te()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new re(0x1a5*-0xd+0x44c*-0x5+0x2add,0x1e93+-0xa9*0x2b+0x70*-0x5,0x1*-0x1b6+0x2350+-0xb33*0x3,-0x214b+0x189c+0x22c*0x4)),this['_atlasView'+'port'];}set['cookie'](_0x35c8a4){this['_cookie']!==_0x35c8a4&&(this['_cookie']=_0x35c8a4,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x3a5163){this['_cookieFal'+'loff']!==_0x3a5163&&(this['_cookieFal'+'loff']=_0x3a5163,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x3a6613){if(this['_cookieCha'+'nnel']!==_0x3a6613){if(_0x3a6613['length']<0x798+0x4*-0x4fd+0xc5f){const _0x1783c9=_0x3a6613['charAt'](_0x3a6613['length']-(-0x26e5+0x2646+0xa0)),_0x52acb0=0x177*-0x2+0x1217+-0xf26-_0x3a6613['length'];for(let _0x5463de=-0x7+0x5*0x7be+-0xce5*0x3;_0x5463de<_0x52acb0;_0x5463de++)_0x3a6613+=_0x1783c9;}this['_cookieCha'+'nnel']=_0x3a6613,this['updateKey'](),this['updateClus'+'teredFlags']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x2e8c03){this['_cookieTra'+'nsform']!==_0x2e8c03&&(this['_cookieTra'+'nsform']=_0x2e8c03,this['_cookieTra'+'nsformSet']=!!_0x2e8c03,_0x2e8c03&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new J(),this['_cookieOff'+'setSet']=!(0x22b3+0x1*0x1583+0x3835*-0x1)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0x56f11f){if(this['_cookieOff'+'set']===_0x56f11f)return;!!(this['_cookieTra'+'nsformSet']||_0x56f11f)&&!_0x56f11f&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](-0xe59+0x4*0x47+0xd3d,0x218b+0x1716+0x2fb*-0x13):this['_cookieOff'+'set']=_0x56f11f,this['_cookieOff'+'setSet']=!!_0x56f11f,_0x56f11f&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new re(0x23b7+0xf1b+0x32d1*-0x1,0x3*0x74b+-0x1*-0xc5+-0x16a5,-0xc6d*0x1+0x1*0xace+0x53*0x5,0x13f*-0x19+0x664+-0x1*-0x18c3),this['_cookieTra'+'nsformSet']=!(-0x9a7+0xcba+-0x312)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===ve&&this['_enabled'],this['maxScreenS'+'ize']=-0x1420+-0x2272+0xfe*0x37,this['atlasViewp'+'ortAllocat'+'ed']=!(-0x21ad*0x1+0x823+0x198b),this['atlasSlotU'+'pdated']=!(-0x11d8+-0xa21*0x1+-0x1*-0x1bfa);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr),this['shadowUpda'+'teOverride'+'s']){for(let _0x86f16a=-0x1*-0x739+0x84e+-0x19*0x9f;_0x86f16a<this['shadowUpda'+'teOverride'+'s']['length'];_0x86f16a++)this['shadowUpda'+'teOverride'+'s'][_0x86f16a]===Ps&&(this['shadowUpda'+'teOverride'+'s'][_0x86f16a]=xr);}}['getRenderD'+'ata'](_0x54a496,_0x5c1347){for(let _0xd02ef7=0x1f98+-0x1a5c+-0x2*0x29e;_0xd02ef7<this['_renderDat'+'a']['length'];_0xd02ef7++){const _0x4e06da=this['_renderDat'+'a'][_0xd02ef7];if(_0x4e06da['camera']===_0x54a496&&_0x4e06da['face']===_0x5c1347)return _0x4e06da;}const _0xad68cb=new dA(_0x54a496,_0x5c1347,this);return this['_renderDat'+'a']['push'](_0xad68cb),_0xad68cb;}['clone'](){const _0x48d444=new pl(this['device'],this['clusteredL'+'ighting']);return _0x48d444['type']=this['_type'],_0x48d444['setColor'](this['_color']),_0x48d444['intensity']=this['_intensity'],_0x48d444['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x48d444['luminance']=this['_luminance'],_0x48d444['castShadow'+'s']=this['castShadow'+'s'],_0x48d444['_enabled']=this['_enabled'],_0x48d444['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x48d444['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x48d444['falloffMod'+'e']=this['_falloffMo'+'de'],_0x48d444['shadowType']=this['_shadowTyp'+'e'],_0x48d444['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x48d444['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x48d444['vsmBias']=this['vsmBias'],_0x48d444['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x48d444['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x48d444['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x48d444['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x48d444['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x48d444['numCascade'+'s']=this['numCascade'+'s'],_0x48d444['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x48d444['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x48d444['shape']=this['_shape'],_0x48d444['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x48d444['shadowBias']=this['shadowBias'],_0x48d444['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x48d444['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x48d444['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x48d444['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x48d444['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x48d444['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x48d444['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x48d444['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x48d444;}static['getLightUn'+'itConversi'+'on'](_0x29e29e,_0x4ef23d=Math['PI']/(0x1c17+0x1*-0x20ef+0x26e*0x2),_0x2034b9=-0x85b*0x1+0x5b5+0x2a6){switch(_0x29e29e){case Ze:{const _0x27c771=Math['cos'](_0x4ef23d),_0x2f21c8=Math['cos'](_0x2034b9);return(-0x21d7*0x1+0x1d62+0x1*0x477)*Math['PI']*(0x2*0x102b+0x3ec+-0x2441-_0x2f21c8+(_0x2f21c8-_0x27c771)/(-0xb5*0x31+0x3*-0x405+0x175b*0x2));}case Ke:return(0x1*-0x14f6+0x1853+-0x1*0x359)*Math['PI'];case ve:return 0x13*0x17+0x6*0x449+-0x13f*0x16;}}['_getUnifor'+'mBiasValue'+'s'](_0x17beae){const _0x488151=_0x17beae['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Ke:wi['bias']=this['shadowBias'],wi['normalBias']=this['_normalOff'+'setBias'];break;case Ze:this['_isVsm']?wi['bias']=-(0x853+0x7bd+-0x1010+0.00001)*(-0x1934+-0x1*-0x1b95+0x1f*-0x13):wi['bias']=this['shadowBias']*(-0x29*0xd+-0x141+0x36a),wi['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(-0x8c6+-0x2*-0x103f+-0x17b1)):this['_normalOff'+'setBias'];break;case ve:this['_isVsm']?wi['bias']=-(-0xc5c+-0x2659*0x1+-0x10e7*-0x3+0.00001)*(-0x11b3+0x23ff*-0x1+0x35c6):wi['bias']=this['shadowBias']/_0x488151*(-0x25d7+-0xf2a+0x3565),wi['normalBias']=this['_isVsm']?this['vsmBias']/(_0x488151/(-0xe*-0x24+-0x121a+0x15*0xc5)):this['_normalOff'+'setBias'];break;}return wi;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x50f11c){if(this['_type']===Ze){const _0x585c96=this['attenuatio'+'nEnd'],_0x3f1ef0=this['_outerCone'+'Angle'],_0x343a46=this['_outerCone'+'AngleCos'],_0x4d0fdd=this['_node'];dc['copy'](_0x4d0fdd['up']),_0x3f1ef0>0x1d7*-0x8+-0x15e3+0x24c8?(_0x50f11c['radius']=_0x585c96*this['_outerCone'+'AngleSin'],dc['mulScalar'](-_0x585c96*_0x343a46)):(_0x50f11c['radius']=_0x585c96/((-0xc7a+-0x129d*0x2+0x31b6)*_0x343a46),dc['mulScalar'](-_0x50f11c['radius'])),_0x50f11c['center']['add2'](_0x4d0fdd['getPositio'+'n'](),dc);}else this['_type']===Ke&&(_0x50f11c['center']=this['_node']['getPositio'+'n'](),_0x50f11c['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x30ac72){if(this['_type']===Ze){const _0x3d147b=this['attenuatio'+'nEnd'],_0x21aaee=this['_outerCone'+'Angle'],_0x10c0ac=this['_node'],_0x2bce28=Math['abs'](Math['sin'](_0x21aaee*Y['DEG_TO_RAD'])*_0x3d147b);_0x30ac72['center']['set'](0x8a+-0x7*-0x4d9+-0x2279,-_0x3d147b*(-0x2f5+-0x1*-0x1c09+0x6*-0x42e+0.5),0x4c*-0x6c+-0x2*-0xde2+0x44c),_0x30ac72['halfExtent'+'s']['set'](_0x2bce28,_0x3d147b*(-0x35b+-0x2*-0x100f+0x1cc3*-0x1+0.5),_0x2bce28),_0x30ac72['setFromTra'+'nsformedAa'+'bb'](_0x30ac72,_0x10c0ac['getWorldTr'+'ansform'](),!(0x76*-0x2b+-0xe63+-0x3*-0xb67));}else this['_type']===Ke&&(_0x30ac72['center']['copy'](this['_node']['getPositio'+'n']()),_0x30ac72['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Ke&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=-0x1835+-0x1a9d+0x32d2,this['shadowDept'+'hState']['depthBiasS'+'lope']=0x166b*-0x1+-0x975+0x1fe0;else{const _0x30677a=this['shadowBias']*-(-0xd*-0x193+-0x1b10+-0x1*-0xa81);this['shadowDept'+'hState']['depthBias']=_0x30677a,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0x30677a;}}['_updateLin'+'earColor'](){let _0x5d504f=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x5d504f=this['_luminance']/pl['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*Y['DEG_TO_RAD'],this['_innerCone'+'Angle']*Y['DEG_TO_RAD']));const _0x2b3200=this['_color'],_0x44a53b=this['_colorLine'+'ar'];_0x5d504f>=0x24e*-0xf+0x6*-0x2ad+0xd*0x3e5?ho['linear'](_0x2b3200)['mulScalar'](_0x5d504f):ho['copy'](_0x2b3200)['mulScalar'](_0x5d504f)['linear'](),_0x44a53b[-0x1c26+0x216a+-0x544]=ho['r'],_0x44a53b[0x1a2e+-0xb7*-0x34+-0x3f59]=ho['g'],_0x44a53b[0xc7c+0x1940+0x1*-0x25ba]=ho['b'],this['updateClus'+'terData'](!(-0x1142+-0xf64*0x2+-0xb*-0x45e));}['setColor'](){arguments['length']===-0x175*-0x9+-0x17*-0xad+-0xf*0x1e9?this['_color']['set'](arguments[-0x1fe2+0x17b+-0x1e67*-0x1]['r'],arguments[0x1d84+-0x653+-0x7bb*0x3]['g'],arguments[-0x6*-0x42d+-0x23*0x97+-0x469]['b']):arguments['length']===0x8ba+0x5e8+-0xe9f&&this['_color']['set'](arguments[-0x119a+-0x15*-0xed+-0x1d7],arguments[-0x3*-0x7a6+-0x87e+-0xe73*0x1],arguments[-0x1529+0x1da5+-0x87a]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0x8eb13f=>{_0x8eb13f['hasLight'](this)&&_0x8eb13f['markLights'+'Dirty']();});}['updateKey'](){let _0x35c256=this['_type']<<0x7*0x43+0x2687*0x1+-0x283f|this['_shadowTyp'+'e']<<-0x3*0x8e1+0x1*0x332+-0x1*-0x178a|this['_falloffMo'+'de']<<-0x15*-0x34+-0x1*0x17c9+0xa*0x1f6|(this['_normalOff'+'setBias']!==0x1e8c+-0x1a*0x169+0x61e?-0xdc7+0x2242+-0x147a*0x1:0xccb+0xce5+-0x448*0x6)<<-0x1df2*0x1+-0x1543*0x1+-0x334b*-0x1|(this['_cookie']?0x18ee+0x1ae*0x2+-0x1c49:0xa4c+0x1*0x12b3+-0x1cff)<<0x80+0x89+0x3d*-0x4|(this['_cookieFal'+'loff']?0x99*0x24+-0x210a+-0x1*-0xb87:0x4*0x6c3+-0xd51*0x2+-0x6a)<<0x5*0x5fb+-0x47*0x18+0x1*-0x172b|pf[this['_cookieCha'+'nnel']['charAt'](0x199b+0x4*0x80+0xbf*-0x25)]<<0x1be*0xd+0x177b+-0x2e0f|(this['_cookieTra'+'nsform']?0x1eab+-0x2699+0x7ef*0x1:0xda7+0x1243+0x5*-0x662)<<-0x34e+-0x523*0x4+0x17e6|this['_shape']<<-0x1*-0x102d+-0xb46*-0x3+0x7*-0x723|(this['numCascade'+'s']>0x1*-0x1a93+0xaa*-0x1b+-0x1*-0x2c81?0xb*-0x1ef+0xfbc*0x1+-0x2*-0x2c5:-0x1922+0x971*0x1+0xfb1)<<-0x209*-0x3+-0x182d*0x1+-0x609*-0x3|(this['_cascadeBl'+'end']>-0x183a+-0x1e56+0x3690?0x1*-0xfa1+-0x1*0x2605+0xcd*0x43:-0x905*0x2+0x46*0x89+0xb*-0x1c4)<<0x1*-0x1ba4+0x1174+0x51c*0x2|(this['affectSpec'+'ularity']?0x17b1+0xb*0x37f+-0x3*0x14b7:-0x10b5+-0x29c*0x1+0x1351)<<0x2cd*0x9+0x25a6+-0x3ed4*0x1|this['mask']<<-0x226d*-0x1+0x10e9+-0x3350|(this['_castShado'+'ws']?-0x2313+0x372+-0x1*-0x1fa2:0x28c*-0x2+-0x7f6+0x687*0x2)<<0xb33+0x11*-0x19b+0x101b;this['_cookieCha'+'nnel']['length']===0x5e1+0x24ad+-0x2a8b&&(_0x35c256|=pf[this['_cookieCha'+'nnel']['charAt'](0x1f7*0x11+0x2395+0x1*-0x44fb)]<<-0x2*0xc9b+-0x2314+0x3c5a,_0x35c256|=pf[this['_cookieCha'+'nnel']['charAt'](-0x1*-0x405+0x4af+-0x8b2)]<<0xe9*0x13+-0x2f*-0x81+-0x123*0x24),_0x35c256!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x35c256;}['updateClus'+'teredFlags'](){const _0x5e40cb=!!(this['mask']&Ss),_0x51e15d=!!(this['mask']&di);this['clusteredF'+'lags']=(this['type']===Ze?0x5*0x38b+0x26d*-0x3+-0x1*0xa6f:-0x1981*-0x1+0x1e7*-0x2+0x65*-0x37)<<0x1f2+-0x2f*0x4a+0xbc2|(this['_shape']&-0x1ef2+-0x3fb*0x1+0x22f0)<<-0x131c+0x2545+-0x1*0x120d|(this['_falloffMo'+'de']&0x16ed*-0x1+-0x2*0x793+-0x130a*-0x2)<<-0xb5*-0x11+0x2265+-0x1*0x2e4f|(cA[this['_cookieCha'+'nnel']]??0x223d+-0x121*-0x1+0x11af*-0x2)<<-0x7*-0x105+0x11*0x89+0x1025*-0x1|(_0x5e40cb?-0x19f4+0x1*0x1091+0x964:-0xb*-0x17e+-0x73*0x4f+0x101*0x13)<<-0x64f+-0x182c+0x19*0x139|(_0x51e15d?0x1c*-0xd+0x1eef*-0x1+-0x26*-0xda:0xe68+0x1d02+0x2*-0x15b5)<<-0x7*0x2cd+-0x1*-0x225d+-0x121*0xd;}['getCluster'+'edFlags'](_0x5757bf,_0x6d95ed){return this['clusteredF'+'lags']|((_0x5757bf?Math['floor'](this['shadowInte'+'nsity']*(-0x180f+0x8*-0x3be+0x1b7f*0x2)):-0x1*0x1c33+-0xc80+0x28b3)&-0x2a*0x6+0x2034+0x1*-0x1e39)<<0xdb*0x1b+0x7c1+-0x1eda|((_0x6d95ed?Math['floor'](this['cookieInte'+'nsity']*(-0x1fc1+-0x1bfb+0x3cbb)):-0x1a40+-0x12aa*-0x2+0x4*-0x2c5)&0x1c90+-0xdcc+0x4b*-0x2f)<<0x25a5*-0x1+0x4da*-0x1+-0xe2d*-0x3;}['updateClus'+'terData'](_0x5c51d1,_0x198a30){const {clusteredData16:_0x5a7a11}=this,_0x59c53a=Mn['float2Half'];_0x5c51d1&&(_0x5a7a11[-0x1*0x1101+-0x1753+0x2854]=_0x59c53a(Y['clamp'](this['_colorLine'+'ar'][-0x1162+-0x279+-0x187*-0xd]/$c,-0x1678+-0x3*-0x645+0x3a9,-0x2*-0x92f0+-0x1ab6d+0x1856d)),_0x5a7a11[0x4*0x32b+0x1360+-0x200b]=_0x59c53a(Y['clamp'](this['_colorLine'+'ar'][-0x70*-0x2f+0x101c+-0x413*0x9]/$c,-0x210f+-0x67*-0x11+0x1a38,0x1*-0x11ac9+0x1c94c+-0x83*-0x9f)),_0x5a7a11[-0x383*-0x5+-0x1d4*-0x15+-0x37f1]=_0x59c53a(Y['clamp'](this['_colorLine'+'ar'][0x21*0xef+0x33*0x9b+-0x3dae]/$c,0x8*0x2+-0xa8c+-0x53e*-0x2,0x1614b+0x1079*-0x17+0x11974))),_0x198a30&&(_0x5a7a11[-0x4*0x81d+0x2*0x733+-0x12*-0x101]=_0x59c53a(this['_innerCone'+'AngleCos']),_0x5a7a11[0x1fe5+-0x4*-0x503+-0x33ec]=_0x59c53a(this['_outerCone'+'AngleCos']));}}class Mv{constructor(_0x482561,_0x2dcddb,_0x23af93){h(this,'_areaLight'+'sEnabled',!(0x1679+0x10f1+-0x2769)),h(this,'_cells',new D(0xc5a+0x1008+-0xe2c*0x2,0x25f3+-0x4b9+-0x2137,0x877*0x1+0x1d0f+-0x257c)),h(this,'_maxLights'+'PerCell',-0x47*-0x61+-0x791*0x1+-0x1257),h(this,'_shadowsEn'+'abled',!(-0x147a+0xa07*-0x2+0x2*0x1444)),h(this,'_shadowTyp'+'e',$s),h(this,'_shadowAtl'+'asResoluti'+'on',-0xb3*-0xe+0x209d+-0x1*0x2267),h(this,'_cookiesEn'+'abled',!(0x21e*0xb+-0x1e39+0x128*0x6)),h(this,'_cookieAtl'+'asResoluti'+'on',-0x2441+-0x12f0+-0x1*-0x3f31),h(this,'debugLayer'),h(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x482561,this['_maxTextur'+'eSize']=_0x2dcddb,this['_dirtyLigh'+'tsFnc']=_0x23af93);}['applySetti'+'ngs'](_0x5015a9){this['shadowsEna'+'bled']=_0x5015a9['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0x5015a9['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0x5015a9['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0x5015a9['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x5015a9['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0x5015a9['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0x5015a9['lightingSh'+'adowType']??this['shadowType'],_0x5015a9['lightingCe'+'lls']&&(this['cells']=new D(_0x5015a9['lightingCe'+'lls']));}set['cells'](_0xc59906){this['_cells']['copy'](_0xc59906);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x19ee3c){this['_maxLights'+'PerCell']=Y['clamp'](_0x19ee3c,0xf4d+-0x1*-0x24c+0x2*-0x8cc,-0x1f7e+-0x10d*-0x21+-0x230);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x496574){this['_cookieAtl'+'asResoluti'+'on']=Y['clamp'](_0x496574,-0x832+-0x2*0xc4d+0x20ec,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x170043){this['_shadowAtl'+'asResoluti'+'on']=Y['clamp'](_0x170043,0x45d*0x3+-0x24f5+-0x17fe*-0x1,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x441dd3){this['_shadowTyp'+'e']!==_0x441dd3&&(this['_shadowTyp'+'e']=_0x441dd3,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x310b75){this['_cookiesEn'+'abled']!==_0x310b75&&(this['_cookiesEn'+'abled']=_0x310b75,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x26d145){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x26d145&&(this['_areaLight'+'sEnabled']=_0x26d145,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x22a3c9){this['_shadowsEn'+'abled']!==_0x22a3c9&&(this['_shadowsEn'+'abled']=_0x22a3c9,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}class xa{constructor(_0x2f1afe){this['morph']=_0x2f1afe,_0x2f1afe['incRefCoun'+'t'](),this['device']=_0x2f1afe['device'];const _0x189649=_0x2f1afe['_targets']['length'];this['shader']=this['_createSha'+'der'](_0x189649),this['_weights']=[],this['_weightMap']=new Map();for(let _0x33cbd3=0x12f*0x4+0x1*0x2635+-0x1*0x2af1;_0x33cbd3<_0x2f1afe['_targets']['length'];_0x33cbd3++){const _0x430e6a=_0x2f1afe['_targets'][_0x33cbd3];_0x430e6a['name']&&this['_weightMap']['set'](_0x430e6a['name'],_0x33cbd3),this['setWeight'](_0x33cbd3,_0x430e6a['defaultWei'+'ght']);}this['_shaderMor'+'phWeights']=new Float32Array(_0x189649),this['_shaderMor'+'phIndex']=new Uint32Array(_0x189649);const _0x3d6245=(_0x1d1345,_0x5ba8a8)=>(this[_0x5ba8a8]=_0x2f1afe['_createTex'+'ture'](_0x1d1345,_0x2f1afe['_renderTex'+'tureFormat']),new gt({'colorBuffer':this[_0x5ba8a8],'depth':!(0x6e*0xd+0xf9c+0x7*-0x307)}));_0x2f1afe['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0x3d6245('MorphRTPos','texturePos'+'itions')),_0x2f1afe['morphNorma'+'ls']&&(this['rtNormals']=_0x3d6245('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x2f1afe['morphTextu'+'reWidth'],_0x2f1afe['morphTextu'+'reHeight']]);const _0x47e1f6=_0x2f1afe['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x47e1f6['x']*(-0x114a*-0x1+0xc*0x201+-0x2952*0x1),_0x47e1f6['y']*(-0x135+0x1*0x1a32+-0x1*0x18f9),_0x47e1f6['z']*(-0x1*0x13f+-0x1cfe+0x1e41*0x1)]);const _0x99c8f8=_0x2f1afe['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x99c8f8['x']*(0x9e+-0x2*-0xedd+-0x1e56),_0x99c8f8['y']*(-0x2b+0x16aa+0x77f*-0x3),_0x99c8f8['z']*(-0x26d3+-0xb*-0x263+0xc94)]),this['_aabbNrmSi'+'ze']=new Float32Array([0x154c+-0x1d73+-0x1*-0x829,0x23a6+0x22c9+0x79*-0x95,0x1ae2+-0x1e73+0x393]),this['_aabbNrmMi'+'n']=new Float32Array([-(0x9da+0xd87+0x11*-0x160),-(0x1d8e+0x5*0x745+-0x41e6),-(-0x1e6e+-0xe81+0x2cf0)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin'),this['morphTextu'+'reId']=this['device']['scope']['resolve']('morphTextu'+'re'),this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['morphIndex']=this['device']['scope']['resolve']('morphIndex'+'[0]'),this['countId']=this['device']['scope']['resolve']('count'),this['zeroTextur'+'es']=!(-0x961*-0x1+0x3*-0xa98+0x1668);}['destroy'](){var _0x3f7981,_0xe404c3,_0x4d24fe,_0x1dafb0;this['shader']=null;const _0x211bb9=this['morph'];_0x211bb9&&(this['morph']=null,_0x211bb9['decRefCoun'+'t'](),_0x211bb9['refCount']<-0x141f+-0x96b*0x4+0x39cc&&_0x211bb9['destroy']()),(_0x3f7981=this['rtPosition'+'s'])==null||_0x3f7981['destroy'](),this['rtPosition'+'s']=null,(_0xe404c3=this['texturePos'+'itions'])==null||_0xe404c3['destroy'](),this['texturePos'+'itions']=null,(_0x4d24fe=this['rtNormals'])==null||_0x4d24fe['destroy'](),this['rtNormals']=null,(_0x1dafb0=this['textureNor'+'mals'])==null||_0x1dafb0['destroy'](),this['textureNor'+'mals']=null;}['clone'](){return new xa(this['morph']);}['_getWeight'+'Index'](_0x3816d5){if(typeof _0x3816d5=='string'){const _0x5064c3=this['_weightMap']['get'](_0x3816d5);return _0x5064c3===void(0x39*-0x66+-0x19b3*-0x1+-0x1*0x2fd)&&w['errorOnce']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x3816d5+'.'),_0x5064c3;}return _0x3816d5;}['getWeight'](_0x4108ef){const _0x222f0a=this['_getWeight'+'Index'](_0x4108ef);return this['_weights'][_0x222f0a];}['setWeight'](_0x84833d,_0x194b25){const _0x110811=this['_getWeight'+'Index'](_0x84833d);w['assert'](_0x110811>=-0xd4d+-0xa99*0x2+0x227f&&_0x110811<this['morph']['_targets']['length']),this['_weights'][_0x110811]=_0x194b25,this['_dirty']=!(0x25a5+-0x9e*0x29+-0xc57);}['_createSha'+'der'](_0x4142f3){const _0x539e6c=new Map();_0x539e6c['set']('{MORPH_TEX'+'TURE_MAX_C'+'OUNT}',_0x4142f3),this['morph']['intRenderF'+'ormat']&&_0x539e6c['set']('MORPH_INT','');const _0x7b0fd0=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';return $t['createShad'+'er'](this['device'],{'uniqueName':'TextureMor'+'phShader_'+_0x4142f3+'-'+(this['morph']['intRenderF'+'ormat']?'int':'float'),'attributes':{'vertex_position':Me},'vertexChunk':'morphVS','fragmentChunk':'morphPS','fragmentDefines':_0x539e6c,'fragmentOutputTypes':[_0x7b0fd0]});}['_updateTex'+'tureRender'+'Target'](_0x2f23b9,_0x110585,_0x10e100){const {morph:_0x57db71,device:_0x3f6cb5}=this;this['setAabbUni'+'forms'](_0x10e100),this['morphTextu'+'reId']['setValue'](_0x10e100?_0x57db71['targetsTex'+'turePositi'+'ons']:_0x57db71['targetsTex'+'tureNormal'+'s']),_0x3f6cb5['setBlendSt'+'ate'](pt['NOBLEND']),this['countId']['setValue'](_0x110585),this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),this['morphIndex']['setValue'](this['_shaderMor'+'phIndex']),Ar(_0x3f6cb5,_0x2f23b9,this['shader']);}['_updateTex'+'tureMorph'](_0x124108){const _0x2f78bc=this['device'];Q['pushGpuMar'+'ker'](_0x2f78bc,'MorphUpdat'+'e'),(_0x124108>0x14f2+0xba3+-0x2095||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],_0x124108,!(-0x6*-0xd2+-0x193e+0x132*0x11)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],_0x124108,!(0x1*0xdab+-0x3*-0x9b1+-0xe3f*0x3)),this['zeroTextur'+'es']=_0x124108===-0x22a5*-0x1+-0x1316+-0x7*0x239),Q['popGpuMark'+'er'](_0x2f78bc);}['setAabbUni'+'forms'](_0x2dc5b2=!(-0x18e2+-0x1903*0x1+0x31e5)){this['aabbSizeId']['setValue'](_0x2dc5b2?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x2dc5b2?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0x43ea02){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(0x1*0x12dd+0x1*-0x2399+0x10bd);const _0x16108f=this['morph']['_targets'],_0x250916=-0x2467+0x24a4+-0x3d+0.00001,_0x9c98e8=this['_shaderMor'+'phWeights'],_0x165dd2=this['_shaderMor'+'phIndex'];let _0x132103=0x1e+0x90c*0x1+-0x92a;for(let _0x415585=-0x150*0x7+0xf5e*-0x2+0x27ec;_0x415585<_0x16108f['length'];_0x415585++)Math['abs'](this['getWeight'](_0x415585))>_0x250916&&(_0x9c98e8[_0x132103]=this['getWeight'](_0x415585),_0x165dd2[_0x132103]=_0x415585,_0x132103++);this['_updateTex'+'tureMorph'](_0x132103);}}class sr{constructor(){h(this,'graph',null),h(this,'meshInstan'+'ces',[]),h(this,'skinInstan'+'ces',[]),h(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=0x4*-0x801+0x2438+0x4*-0x10d,this['_immutable']=!(-0x1*-0x748+-0x1a35*-0x1+-0x217c));}['getGraph'](){return this['graph'];}['setGraph'](_0x3ba1c1){this['graph']=_0x3ba1c1;}['getCameras'](){return this['cameras'];}['setCameras'](_0x342713){this['cameras']=_0x342713;}['getLights'](){return this['lights'];}['setLights'](_0x4986cd){this['lights']=_0x4986cd;}['getMateria'+'ls'](){const _0x514be1=[];for(let _0x4de325=-0x1da9+0x2f*-0x5e+0x2eeb;_0x4de325<this['meshInstan'+'ces']['length'];_0x4de325++){const _0x380191=this['meshInstan'+'ces'][_0x4de325];_0x514be1['indexOf'](_0x380191['material'])===-(-0x1139+0x8ff*0x2+-0xc4)&&_0x514be1['push'](_0x380191['material']);}return _0x514be1;}['clone'](){const _0x4ccbf3=[],_0x5c27c7=[],_0x47261d=function(_0x4e0083){const _0xe6773c=_0x4e0083['clone']();_0x4ccbf3['push'](_0x4e0083),_0x5c27c7['push'](_0xe6773c);for(let _0x152d57=-0x2086+0x1313+0xd73;_0x152d57<_0x4e0083['_children']['length'];_0x152d57++)_0xe6773c['addChild'](_0x47261d(_0x4e0083['_children'][_0x152d57]));return _0xe6773c;},_0x48bda3=_0x47261d(this['graph']),_0x1fdaa9=[],_0x297ba1=[],_0x1626e5=[];for(let _0x61be71=-0x1e89+-0x175a+0x35e3;_0x61be71<this['skinInstan'+'ces']['length'];_0x61be71++){const _0x50d387=this['skinInstan'+'ces'][_0x61be71]['skin'],_0x22ea5e=new Ol(_0x50d387),_0x1b5e78=[];for(let _0x528597=0x2ab*-0x7+-0xb8d+0x1e3a;_0x528597<_0x50d387['boneNames']['length'];_0x528597++){const _0x2b2d2d=_0x50d387['boneNames'][_0x528597],_0x2bad0f=_0x48bda3['findByName'](_0x2b2d2d);_0x1b5e78['push'](_0x2bad0f);}_0x22ea5e['bones']=_0x1b5e78,_0x297ba1['push'](_0x22ea5e);}for(let _0x1695b5=0x183b+-0x1c2*0x10+0x1*0x3e5;_0x1695b5<this['morphInsta'+'nces']['length'];_0x1695b5++){const _0x25d95c=this['morphInsta'+'nces'][_0x1695b5]['morph'],_0x1c4e95=new xa(_0x25d95c);_0x1626e5['push'](_0x1c4e95);}for(let _0x30cd4d=0xb75+-0x1ef3+0x137e;_0x30cd4d<this['meshInstan'+'ces']['length'];_0x30cd4d++){const _0x45db56=this['meshInstan'+'ces'][_0x30cd4d],_0x331991=_0x4ccbf3['indexOf'](_0x45db56['node']),_0x2350aa=new He(_0x45db56['mesh'],_0x45db56['material'],_0x5c27c7[_0x331991]);if(_0x45db56['skinInstan'+'ce']){const _0x314b7e=this['skinInstan'+'ces']['indexOf'](_0x45db56['skinInstan'+'ce']);_0x2350aa['skinInstan'+'ce']=_0x297ba1[_0x314b7e];}if(_0x45db56['morphInsta'+'nce']){const _0x1ce5a2=this['morphInsta'+'nces']['indexOf'](_0x45db56['morphInsta'+'nce']);_0x2350aa['morphInsta'+'nce']=_0x1626e5[_0x1ce5a2];}_0x1fdaa9['push'](_0x2350aa);}const _0x4c9e8f=new sr();return _0x4c9e8f['graph']=_0x48bda3,_0x4c9e8f['meshInstan'+'ces']=_0x1fdaa9,_0x4c9e8f['skinInstan'+'ces']=_0x297ba1,_0x4c9e8f['morphInsta'+'nces']=_0x1626e5,_0x4c9e8f['getGraph']()['syncHierar'+'chy'](),_0x4c9e8f;}['destroy'](){const _0x16eaeb=this['meshInstan'+'ces'];for(let _0x30067e=-0x42*-0x66+-0x1ae3+0x1*0x97;_0x30067e<_0x16eaeb['length'];_0x30067e++)_0x16eaeb[_0x30067e]['destroy']();this['meshInstan'+'ces']['length']=0x167c+0x974+0xff8*-0x2;}['generateWi'+'reframe'](){He['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],$r);}}class mm extends wd{constructor(_0x4428cd,_0x37c9d2,{preferHighPrecision:_0x27c39e=!(0x1ead+-0x637+0x3*-0x827)}={}){super(),h(this,'_aabb'),h(this,'preferHigh'+'Precision'),(w['assert'](_0x37c9d2,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x37c9d2);const _0x421a62=_0x37c9d2;this['preferHigh'+'Precision']=_0x27c39e,w['assert'](_0x4428cd['every'](_0x3a0d42=>!_0x3a0d42['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x4428cd['slice']();const _0x4def3a=_0x421a62['textureHal'+'fFloatRend'+'erable']?nt:void(-0x1133+-0x194*0x11+0x2c07),_0x460fa4=_0x421a62['textureFlo'+'atRenderab'+'le']?Xt:void(0x1909*0x1+0x1a4d+-0x2*0x19ab);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x460fa4??_0x4def3a:_0x4def3a??_0x460fa4,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??nd,this['intRenderF'+'ormat']=dn(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Xt:nt,this['_init'](),this['_updateMor'+'phFlags']();}['destroy'](){var _0x59b894,_0x112111,_0x27328d;(_0x59b894=this['vertexBuff'+'erIds'])==null||_0x59b894['destroy'](),this['vertexBuff'+'erIds']=null,(_0x112111=this['targetsTex'+'turePositi'+'ons'])==null||_0x112111['destroy'](),this['targetsTex'+'turePositi'+'ons']=null,(_0x27328d=this['targetsTex'+'tureNormal'+'s'])==null||_0x27328d['destroy'](),this['targetsTex'+'tureNormal'+'s']=null;}get['aabb'](){if(!this['_aabb']){const _0x5bdc6a=new D(),_0x3d3d94=new D();for(let _0x548f39=0x1c8f+-0xec4+-0xdcb;_0x548f39<this['_targets']['length'];_0x548f39++){const _0x41335c=this['_targets'][_0x548f39]['aabb'];_0x5bdc6a['min'](_0x41335c['getMin']()),_0x3d3d94['max'](_0x41335c['getMax']());}this['_aabb']=new De(),this['_aabb']['setMinMax'](_0x5bdc6a,_0x3d3d94);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x2be407=-0x276+-0x214a+0x23c0;_0x2be407<this['_targets']['length'];_0x2be407++)this['_targets'][_0x2be407]['_postInit']();}['_findSpars'+'eSet'](_0x4b7978,_0x2133f1,_0x3e55f3){let _0x331f4a=-0x5*0x27+0x1bb0+-0x1aec;const _0x1983e2=_0x4b7978[-0x1224+-0x1092+-0x3*-0xb92]['length'];for(let _0x59f1e0=0x23e5+0x1dd9+0xaf5*-0x6;_0x59f1e0<_0x1983e2;_0x59f1e0+=0x243*-0xc+0x1474+-0x7*-0xf5){let _0x50b6e9=!(0x121*-0x11+0x1*-0x1957+0x2c89);for(let _0x4e86c0=-0x1*0x136f+0x1*-0x462+0x17d1;_0x4e86c0<_0x4b7978['length'];_0x4e86c0++){const _0x5bd503=_0x4b7978[_0x4e86c0];if(_0x5bd503[_0x59f1e0]!==-0x1154+0x93e+0x816||_0x5bd503[_0x59f1e0+(0x2b*-0xb7+0x1247*0x2+-0x5d0)]!==0x8ba+0x869+-0x1123||_0x5bd503[_0x59f1e0+(0xc91*0x1+0x1*0xedb+-0xf2*0x1d)]!==-0x1438+-0x1bb7*0x1+0x2fef){_0x50b6e9=!(0xdb7*-0x1+0xf67+-0x1b0);break;}}_0x50b6e9?(_0x2133f1['push'](_0x331f4a),_0x3e55f3['push'](_0x59f1e0/(-0x251+-0x25b0+0x34*0xc5)),_0x331f4a++):_0x2133f1['push'](0x43*0x3a+-0x1*-0xe87+-0x1db5);}return _0x331f4a;}['_initTextu'+'reBased'](){const _0x167e14=[],_0x75c22e=[],_0x2d615d=this['_targets'];for(let _0xfd2e2a=0x1*0xaf7+0x13c*0x1+-0xc33;_0xfd2e2a<_0x2d615d['length'];_0xfd2e2a++){const _0x10e8af=_0x2d615d[_0xfd2e2a];_0x10e8af['options']['deltaPosit'+'ions']&&(_0x167e14['push'](_0x10e8af['options']['deltaPosit'+'ions']),_0x75c22e['push'](!(-0x1*-0x1738+0xcaa*-0x1+-0xa8e))),_0x10e8af['options']['deltaNorma'+'ls']&&(_0x167e14['push'](_0x10e8af['options']['deltaNorma'+'ls']),_0x75c22e['push'](!(-0x17e9*-0x1+0xdd*0xb+-0x11*0x1f7)));}const _0x76dd20=[],_0x383e0f=[],_0x429339=this['_findSpars'+'eSet'](_0x167e14,_0x76dd20,_0x383e0f),_0x3d7e61=this['device']['maxTexture'+'Size'];let _0x5d5032=Math['ceil'](Math['sqrt'](_0x429339));_0x5d5032=Math['min'](_0x5d5032,_0x3d7e61);const _0x5547c4=Math['ceil'](_0x429339/_0x5d5032);if(_0x5547c4>_0x3d7e61){w['warnOnce']('Morph\x20targ'+'et\x20data\x20is'+'\x20too\x20large'+'\x20to\x20fit\x20in'+'to\x20a\x20textu'+'re\x20array.\x20'+'Required\x20t'+'exture\x20siz'+'e:\x20'+_0x5d5032+'x'+_0x5547c4+(',\x20max\x20text'+'ure\x20size:\x20')+_0x3d7e61+'x'+_0x3d7e61+'.');return;}this['morphTextu'+'reWidth']=_0x5d5032,this['morphTextu'+'reHeight']=_0x5547c4;let _0x3f2ec7=!(0x9ec+0x30*0xb6+-0x2c0b);const _0x8ec014=Mn['float2Half'];this['_textureFo'+'rmat']===nt&&(_0x3f2ec7=!(-0x2af*-0x6+-0x1abe+0xaa4*0x1));const _0x202b3b=[],_0x303575=[],_0x4075bd=_0x5d5032*_0x5547c4*(0x33e*-0x5+0x11*-0x9c+0x1*0x1a96);for(let _0x21821d=-0x34b+0x145f+-0x1114;_0x21821d<_0x167e14['length'];_0x21821d++){const _0x225d88=_0x167e14[_0x21821d],_0x4f42a5=this['_textureFo'+'rmat']===nt?new Uint16Array(_0x4075bd):new Float32Array(_0x4075bd);if((_0x75c22e[_0x21821d]?_0x202b3b:_0x303575)['push'](_0x4f42a5),_0x3f2ec7)for(let _0x12c4db=-0x2*0x6bb+-0x802+0x55e*0x4;_0x12c4db<_0x383e0f['length'];_0x12c4db++){const _0x3e8905=_0x383e0f[_0x12c4db]*(-0x17*-0xbf+0x1bc*-0x1+-0xf6a*0x1),_0x3f9082=_0x12c4db*(-0x4*0x761+0x1591+0x7f7)+(-0x1*-0x12df+-0x1b32+-0x23*-0x3d);_0x4f42a5[_0x3f9082]=_0x8ec014(_0x225d88[_0x3e8905]),_0x4f42a5[_0x3f9082+(-0x5*0x2cb+0x245f+0x47b*-0x5)]=_0x8ec014(_0x225d88[_0x3e8905+(0xe*0x107+-0x152*-0x4+0x13a9*-0x1)]),_0x4f42a5[_0x3f9082+(0x14e6+0x259*0x6+-0x22fa)]=_0x8ec014(_0x225d88[_0x3e8905+(-0xd*0x22d+0x1b13+-0x2*-0x9c)]);}else for(let _0x40e29e=0x7ed*-0x1+-0x1*-0x19e2+-0x11f5;_0x40e29e<_0x383e0f['length'];_0x40e29e++){const _0x40aa5f=_0x383e0f[_0x40e29e]*(-0xf0f*0x2+0x217a+0x359*-0x1),_0x24f063=_0x40e29e*(-0x1*0xf29+-0x1bd0*-0x1+0xca3*-0x1)+(-0x118b+0x1c46+0xd3*-0xd);_0x4f42a5[_0x24f063]=_0x225d88[_0x40aa5f],_0x4f42a5[_0x24f063+(-0xf52+0x2303*0x1+-0x13b0)]=_0x225d88[_0x40aa5f+(0x1f75+0x737+-0x26ab)],_0x4f42a5[_0x24f063+(-0x36a+0x1*0xc6d+-0x5*0x1cd)]=_0x225d88[_0x40aa5f+(0x7*-0x3c2+0x4*-0x5cb+0x2*0x18be)];}}_0x202b3b['length']>-0x254f*0x1+-0x131*0x14+-0x25*-0x1a7&&(this['targetsTex'+'turePositi'+'ons']=this['_createTex'+'ture']('MorphPosit'+'ionsTextur'+'e',this['_textureFo'+'rmat'],_0x2d615d['length'],[_0x202b3b]),this['targetsTex'+'turePositi'+'ons']['upload']()),_0x303575['length']>-0x26c2+0x32d*0x8+0xd5a&&(this['targetsTex'+'tureNormal'+'s']=this['_createTex'+'ture']('MorphNorma'+'lsTexture',this['_textureFo'+'rmat'],_0x2d615d['length'],[_0x303575]),this['targetsTex'+'tureNormal'+'s']['upload']());const _0x466fd2=[{'semantic':Ln,'components':0x1,'type':el,'asInt':!(-0x1*0x820+0x124e+-0xa2e)}];return this['vertexBuff'+'erIds']=new Is(this['device'],new kt(this['device'],_0x466fd2,_0x76dd20['length']),_0x76dd20['length'],{'data':new Uint32Array(_0x76dd20)}),!(0x770+0x182f+-0x5*0x653);}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(0x1989+-0x516*0x1+-0x1472),this['_morphNorm'+'als']=!(-0x1*-0xc95+0x1c05+-0x2899);for(let _0x575e42=0x1*-0x143c+-0x161*-0x11+-0x1*0x335;_0x575e42<this['_targets']['length'];_0x575e42++){const _0xd4c9d4=this['_targets'][_0x575e42];_0xd4c9d4['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(0x1c25+0x2643+-0x4268)),_0xd4c9d4['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(0x13*0x5f+0x1*0x10b1+-0x17be));}}['_createTex'+'ture'](_0x5db0c4,_0x225e0e,_0x1db4f5,_0x45117c){return new _e(this['device'],{'levels':_0x45117c,'arrayLength':_0x1db4f5,'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x225e0e,'cubemap':!(-0x90f+-0x86f*0x2+0x19ee),'mipmaps':!(-0x5*-0x4f8+-0x109f+-0x838),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0x5db0c4});}}class Md{constructor(_0x203a3d){h(this,'used',!(-0x1*-0x19b9+-0x574+0x511*-0x4)),(w['assert'](arguments['length']===0x9b7*-0x3+-0x26e3+0x4409),this['options']=_0x203a3d,this['_name']=_0x203a3d['name'],this['_defaultWe'+'ight']=_0x203a3d['defaultWei'+'ght']||-0x1dd5*-0x1+0x7*-0x2cf+-0xa2c,this['_aabb']=_0x203a3d['aabb'],this['deltaPosit'+'ions']=_0x203a3d['deltaPosit'+'ions'],this['morphPosit'+'ions']=!!_0x203a3d['deltaPosit'+'ions'],this['morphNorma'+'ls']=!!_0x203a3d['deltaNorma'+'ls']);}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new De(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}['clone'](){return w['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Md(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(-0x1228+0x1608+-0x3e0);}}let Ei,Z_=0x175*0x19+-0x11b1+-0x3bf*0x5;const ce=-0x24c1+-0x1b1e+-0x5*-0xcc7,mf=new te(),_f=new te(),ti=new D(),tt=new D(),Ns=new D(),Na=new D(),ns=new D(),_t=new D(),ka=new D(),Ua=new D(),fo=new D(),Q_=new D(),zt=new D(),fc=new D(),kr=new D();function pn(_0x38cf8a){return _0x38cf8a-Math['floor'](_0x38cf8a);}function fA(_0x42b440){return Math['max'](Math['min'](_0x42b440,0x3*-0x549+-0x74+0xae*0x18),-0x24f*-0xc+-0xa5*0x1+-0x1b0f);}function gf(_0x5682be,_0x485aa9){return _0x5682be-_0x485aa9*Math['floor'](_0x5682be/_0x485aa9);}function uA(_0x4dd431){let _0x5c6e35=pn(_0x4dd431),_0x2da265=pn((0x1a1c+0xea7+-0x27c4)*_0x4dd431),_0x2e4718=pn((0xd1a4+-0x51*0x41d+-0x19*-0xf1a)*_0x4dd431),_0x59c039=pn((0x1952*-0x6079+-0xe51ec0c*0x1+0x26fb5*0xdb9)*_0x4dd431);return _0x5c6e35-=_0x2da265/(0xce3*-0x2+-0x1754+-0x3*-0x10b3),_0x2da265-=_0x2e4718/(0x671*-0x3+-0x750+-0x106*-0x1b),_0x2e4718-=_0x59c039/(-0x9f5+0x181c+-0xd28),_0x59c039-=_0x59c039/(0x857*-0x2+0x1*-0x1256+0x2403),[_0x5c6e35,_0x2da265,_0x2e4718,_0x59c039];}function uc(_0x4f3791){let _0xd77f87=pn(_0x4f3791),_0x1e8722=pn((-0x1e30+-0x1*0x2623+0x4552)*_0x4f3791);return _0xd77f87-=_0x1e8722/(-0x7f7*-0x1+0x647*0x1+-0xd3f),_0x1e8722-=_0x1e8722/(-0x2c*-0x2c+-0x20cd+0x1a3c),[_0xd77f87,_0x1e8722];}class pA{constructor(_0x4c2208){this['_emitter']=_0x4c2208;}['calcSpawnP'+'osition'](_0x272b92,_0x120fc6,_0x1ea881,_0x25da68,_0x1e759f){const _0x304799=this['_emitter'],_0x4bdd4c=Math['random'](),_0x3d5367=Math['random'](),_0x279601=Math['random'](),_0x57d5cc=Math['random']();if(_0x304799['useCpu']&&(_0x272b92[_0x1e759f*ce+(-0x1f84+-0x1f1+0x2175)+_0x304799['numParticl'+'esPot']*(0x1bcb+0x24d2+-0x409b)*ce]=_0x4bdd4c,_0x272b92[_0x1e759f*ce+(0x3*0x1cb+0x22d8+-0x8f*0x48)+_0x304799['numParticl'+'esPot']*(-0x686+-0x9a0+0x1028)*ce]=_0x3d5367,_0x272b92[_0x1e759f*ce+(0x1*0x1b9f+0x184*0x5+-0x2331)+_0x304799['numParticl'+'esPot']*(-0xacf*-0x1+0x20a9+-0x1*0x2b76)*ce]=_0x279601),tt['x']=_0x4bdd4c-(0x1ae0+-0xf*0x11+-0x7d*0x35+0.5),tt['y']=_0x3d5367-(0x1e6a+0x66+-0x3a*0x88+0.5),tt['z']=_0x279601-(-0x790+0x8c6*-0x4+-0x38*-0xc3+0.5),_0x304799['emitterSha'+'pe']===ai){const _0x53937a=Math['max'](Math['abs'](tt['x']),Math['max'](Math['abs'](tt['y']),Math['abs'](tt['z']))),_0x511707=_0x53937a+(-0x93a*-0x1+-0x3da+-0x1*0x560+0.5-_0x53937a)*_0x1ea881[-0x4*-0x6bb+-0x113*0x1f+0x661*0x1],_0x319cdc=_0x53937a+(0x2df*-0x2+0x4cc*-0x7+0x7*0x59e+0.5-_0x53937a)*_0x1ea881[-0x2b1*0xe+0x24a9+0x106],_0x10a35b=_0x53937a+(-0x15e1+0xe65+-0x2*-0x3be+0.5-_0x53937a)*_0x1ea881[0xd41*-0x1+-0xe1*0x29+0x314c];tt['x']=_0x511707*(_0x53937a===Math['abs'](tt['x'])?Math['sign'](tt['x']):(-0x2cc+0x44a*-0x4+0x13f6)*tt['x']),tt['y']=_0x319cdc*(_0x53937a===Math['abs'](tt['y'])?Math['sign'](tt['y']):(-0x1b4d+-0x1a99+0x35e8)*tt['y']),tt['z']=_0x10a35b*(_0x53937a===Math['abs'](tt['z'])?Math['sign'](tt['z']):(0x92*0x37+-0x1834+-0x728)*tt['z']),_0x304799['localSpace']?ti['copy'](_0x120fc6['transformP'+'oint'](tt)):ti['copy'](_0x25da68)['add'](_0x120fc6['transformP'+'oint'](tt));}else{tt['normalize']();const _0x3e46bf=_0x304799['emitterRad'+'ius']===-0x40*-0x53+0x1cb+-0x168b?-0x3*-0xae7+0x1206*-0x1+0x4e5*-0x3:_0x304799['emitterRad'+'iusInner']/_0x304799['emitterRad'+'ius'],_0x9e697b=_0x57d5cc*(-0x839+0x1*-0xa75+0x12af-_0x3e46bf)+_0x3e46bf;_0x304799['localSpace']?ti['copy'](tt['mulScalar'](_0x9e697b*_0x304799['emitterRad'+'ius'])):ti['copy'](_0x25da68)['add'](tt['mulScalar'](_0x9e697b*_0x304799['emitterRad'+'ius']));}let _0x2b70f1=-Y['lerp'](_0x304799['rate'],_0x304799['rate2'],_0x4bdd4c)*_0x1e759f;if(_0x304799['pack8']){const _0x22fd97=(ti['x']-_0x304799['worldBound'+'s']['center']['x'])/_0x304799['worldBound'+'sSize']['x']+(-0x92e*0x1+0x241d+0x1*-0x1aef+0.5),_0x35e410=(ti['y']-_0x304799['worldBound'+'s']['center']['y'])/_0x304799['worldBound'+'sSize']['y']+(-0x2d4*-0xb+-0x21c3+0x2a7+0.5),_0x59ab4c=(ti['z']-_0x304799['worldBound'+'s']['center']['z'])/_0x304799['worldBound'+'sSize']['z']+(-0x2*-0xdc9+0x1d37+-0x38c9*0x1+0.5);let _0x3190f5=Y['lerp'](_0x304799['startAngle']*Y['DEG_TO_RAD'],_0x304799['startAngle'+'2']*Y['DEG_TO_RAD'],_0x4bdd4c);_0x3190f5=_0x3190f5%(Math['PI']*(0x2256+-0x1*-0xd01+-0x2f55))/(Math['PI']*(-0x2161+0x363*0x3+0x173a));const _0x4712b0=uc(_0x22fd97);_0x272b92[_0x1e759f*ce]=_0x4712b0[-0x9ed+0x1*-0xbc3+0x4*0x56c],_0x272b92[_0x1e759f*ce+(-0x2543+0x4*-0x10b+-0x1ba*-0x18)]=_0x4712b0[0x1*0xf44+-0x1*-0xbdb+0x90a*-0x3];const _0x3d2273=uc(_0x35e410);_0x272b92[_0x1e759f*ce+(-0x113f+0x15ed+-0x4ac)]=_0x3d2273[0x229*0xf+0x1*-0x1523+-0xb44],_0x272b92[_0x1e759f*ce+(-0x348*-0x3+0x680+-0x1055)]=_0x3d2273[-0x1c12+-0x1*-0x4fd+-0x1*-0x1716];const _0x23986e=uc(_0x59ab4c);_0x272b92[_0x1e759f*ce+(0x6b7*0x1+0xc26+-0x12dd)+_0x304799['numParticl'+'esPot']*ce]=_0x23986e[-0x1e92+0x1193*-0x1+-0x1ed*-0x19],_0x272b92[_0x1e759f*ce+(-0x1c4b+-0x1*0x1d1b+-0xb7b*-0x5)+_0x304799['numParticl'+'esPot']*ce]=_0x23986e[0x1aa6*-0x1+-0x232+0x1cd9];const _0x177c40=uc(_0x3190f5);_0x272b92[_0x1e759f*ce+(0x1bb8+0x554+-0x1085*0x2)+_0x304799['numParticl'+'esPot']*ce]=_0x177c40[0x3*0x8e9+-0x25c*-0x8+-0x2d9b],_0x272b92[_0x1e759f*ce+(-0x10da+0x1bd9+-0xafc)+_0x304799['numParticl'+'esPot']*ce]=_0x177c40[0x1*0x1c19+-0x69a+-0x157e];const _0xbc02a5=0xb*0x61+-0xac*-0x18+0x144a*-0x1;_0x272b92[_0x1e759f*ce+(0x250b+0x7*-0x301+-0x1001)+_0x304799['numParticl'+'esPot']*ce*(-0x179*0x6+-0x2326+0x755*0x6)]=_0xbc02a5;const _0x4c8100=Math['max'](_0x304799['lifetime'],(_0x304799['numParticl'+'es']-(0x1169+0x1c6b+-0x2dd3))*Math['max'](_0x304799['rate'],_0x304799['rate2'])),_0x20b6ff=_0x304799['lifetime']+(0x1589+-0x1ca3+0x71b);_0x2b70f1=(_0x2b70f1+_0x4c8100)/(_0x4c8100+_0x20b6ff);const _0x1b23a0=uA(_0x2b70f1);_0x272b92[_0x1e759f*ce+(-0xe17+0x1307+0x2*-0x278)+_0x304799['numParticl'+'esPot']*ce*(0x509*-0x1+-0x49*0x7d+0x28b1)]=_0x1b23a0[0x1d*-0x4d+-0x1c1*0x15+-0x62*-0x77],_0x272b92[_0x1e759f*ce+(-0x1b35+-0x2f9*-0x3+0x29d*0x7)+_0x304799['numParticl'+'esPot']*ce*(-0x59d*-0x1+0x560+0x2*-0x57d)]=_0x1b23a0[0x65c*0x2+-0x14d5+0x40f*0x2],_0x272b92[_0x1e759f*ce+(-0xcb*0x7+0x11*0x1eb+0x1*-0x1b0c)+_0x304799['numParticl'+'esPot']*ce*(0x1349+0x18a4+-0x2bea)]=_0x1b23a0[-0xc5d*0x1+-0x1655*-0x1+0x4fb*-0x2],_0x272b92[_0x1e759f*ce+(-0xc7f*-0x1+-0x1*-0x667+-0x12e3)+_0x304799['numParticl'+'esPot']*ce*(0x2d0*0xc+-0x19b9+0x2*-0x402)]=_0x1b23a0[-0x18f6+0x6fd+0x2*0x8fe];}else _0x272b92[_0x1e759f*ce]=ti['x'],_0x272b92[_0x1e759f*ce+(0x1709+-0x144f+0x2b9*-0x1)]=ti['y'],_0x272b92[_0x1e759f*ce+(0x3d0+0xe9*-0xb+0x635)]=ti['z'],_0x272b92[_0x1e759f*ce+(-0x1570+-0xb*0x35e+0x3a7d)]=Y['lerp'](_0x304799['startAngle']*Y['DEG_TO_RAD'],_0x304799['startAngle'+'2']*Y['DEG_TO_RAD'],_0x4bdd4c),_0x272b92[_0x1e759f*ce+(-0x2466*0x1+-0x74b+0x2bb4)+_0x304799['numParticl'+'esPot']*ce]=_0x2b70f1;}['update'](_0x20c545,_0x1172af,_0x22d7da,_0x2648d0,_0x3abb0b,_0x43cedf,_0x133466,_0x1768bb){let _0x16bb61,_0x4817b0,_0x2f6e0a;const _0x47d0d7=this['_emitter'];if(_0x47d0d7['meshInstan'+'ce']['node']){const _0x4094d7=_0x47d0d7['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x45d6c0=0x9c5*0x2+0x1*-0x1bad+0x823;_0x45d6c0<-0x258d+0x2165+0x2*0x21a;_0x45d6c0++)mf['data'][_0x45d6c0]=_0x4094d7['data'][_0x45d6c0];_f['copy'](mf),_f['invert'](),Ei=_0x47d0d7['meshInstan'+'ce']['node']['localScale'],Z_=Math['max'](Math['max'](Ei['x'],Ei['y']),Ei['z']);}_0x43cedf=_0x47d0d7['meshInstan'+'ce']['node']===null||_0x47d0d7['localSpace']?D['ZERO']:_0x47d0d7['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x4c13ee=_0x47d0d7['camera']?_0x47d0d7['camera']['_node']['getPositio'+'n']():D['ZERO'],_0xf3c1b4=_0x47d0d7['useMesh']?-0x1a8d+0xe9c+0x601*0x2:0x769+-0x37*0x91+-0x9*-0x2a5;let _0x587fe3,_0xc00ed5,_0xc8adc6,_0xcc5f53,_0xcc5b9,_0x485bc5,_0x38a87b,_0x575f2a,_0xa24a84;const _0x38d697=_0x47d0d7['precision']-(0x13*0xbb+-0x380*-0xb+0x8*-0x68c);for(let _0x279c48=-0x799+-0x9*0x7f+0xc10;_0x279c48<_0x47d0d7['numParticl'+'es'];_0x279c48++){const _0x541825=Math['floor'](_0x47d0d7['vbCPU'][_0x279c48*_0x47d0d7['numParticl'+'eVerts']*(_0x47d0d7['useMesh']?-0x599*-0x4+-0xe*-0x21e+-0x3402*0x1:0xcb9+-0x24cd+-0x6*-0x404)+(0x808*0x3+0x6f*-0x32+-0x267)]),_0x4d46ee=_0x22d7da[_0x541825*ce+(-0x4d4+0x1c74+0x24*-0xa8)+_0x47d0d7['numParticl'+'esPot']*(0x281*-0x6+0x4a9*-0x5+0x2655)*ce];Ns['x']=_0x4d46ee,Ns['y']=_0x22d7da[_0x541825*ce+(-0x1f76+-0xb5*-0x7+0x1a84)+_0x47d0d7['numParticl'+'esPot']*(0x1a35+-0x2b*0x9e+0x57)*ce],Ns['z']=_0x22d7da[_0x541825*ce+(0x9fc+0x2586+-0x2f80)+_0x47d0d7['numParticl'+'esPot']*(0x1*0xb0c+-0x1a4a+0xf40)*ce];const _0x683f9=_0x47d0d7['rate']+(_0x47d0d7['rate2']-_0x47d0d7['rate'])*_0x4d46ee,_0x549842=_0x47d0d7['lifetime'];let _0x3baf80=_0x22d7da[_0x541825*ce+(0x251*0x8+0x3d7*-0x9+0x100a)+_0x47d0d7['numParticl'+'esPot']*ce]+_0x133466;const _0x34e52b=fA(_0x3baf80/_0x549842);let _0x431f6a=-0x7bb*-0x3+-0x691*-0x2+-0x11*0x223,_0x570bfa=0x130*0x1+-0x17c+-0x13*-0x4;const _0x12d049=-0x1ded+-0xbd7+0x29c4;(_0x3baf80-_0x133466<=-0x2c8*0x6+-0x1321+0x23d1||_0x3baf80>=_0x549842)&&this['calcSpawnP'+'osition'](_0x22d7da,_0x2648d0,_0x3abb0b,_0x43cedf,_0x541825);let _0x4da7ee=_0x3baf80>0x67*0x43+-0x1df5*0x1+0x4*0xc0&&_0x3baf80<_0x549842;_0x4da7ee&&(_0x2f6e0a=_0x34e52b*_0x38d697,_0x587fe3=Math['floor'](_0x2f6e0a),_0xc00ed5=Math['ceil'](_0x2f6e0a),_0x2f6e0a%=0x696*0x5+0x1071+-0x315e,_0x16bb61=_0x47d0d7['qRotSpeed'][_0x587fe3],_0x4817b0=_0x47d0d7['qRotSpeed'][_0xc00ed5],_0xc8adc6=_0x16bb61+(_0x4817b0-_0x16bb61)*_0x2f6e0a,_0x16bb61=_0x47d0d7['qRotSpeed2'][_0x587fe3],_0x4817b0=_0x47d0d7['qRotSpeed2'][_0xc00ed5],_0xcc5f53=_0x16bb61+(_0x4817b0-_0x16bb61)*_0x2f6e0a,_0x16bb61=_0x47d0d7['qScale'][_0x587fe3],_0x4817b0=_0x47d0d7['qScale'][_0xc00ed5],_0x431f6a=_0x16bb61+(_0x4817b0-_0x16bb61)*_0x2f6e0a,_0x16bb61=_0x47d0d7['qScale2'][_0x587fe3],_0x4817b0=_0x47d0d7['qScale2'][_0xc00ed5],_0xcc5b9=_0x16bb61+(_0x4817b0-_0x16bb61)*_0x2f6e0a,_0x16bb61=_0x47d0d7['qAlpha'][_0x587fe3],_0x4817b0=_0x47d0d7['qAlpha'][_0xc00ed5],_0x485bc5=_0x16bb61+(_0x4817b0-_0x16bb61)*_0x2f6e0a,_0x16bb61=_0x47d0d7['qAlpha2'][_0x587fe3],_0x4817b0=_0x47d0d7['qAlpha2'][_0xc00ed5],_0x38a87b=_0x16bb61+(_0x4817b0-_0x16bb61)*_0x2f6e0a,_0x16bb61=_0x47d0d7['qRadialSpe'+'ed'][_0x587fe3],_0x4817b0=_0x47d0d7['qRadialSpe'+'ed'][_0xc00ed5],_0x575f2a=_0x16bb61+(_0x4817b0-_0x16bb61)*_0x2f6e0a,_0x16bb61=_0x47d0d7['qRadialSpe'+'ed2'][_0x587fe3],_0x4817b0=_0x47d0d7['qRadialSpe'+'ed2'][_0xc00ed5],_0xa24a84=_0x16bb61+(_0x4817b0-_0x16bb61)*_0x2f6e0a,_0x575f2a+=(_0xa24a84-_0x575f2a)*(_0x4d46ee*(-0x184+-0x1*0x35b+0x543)%(0x1*-0x2447+-0x1455+0x389d)),Na['x']=_0x22d7da[_0x541825*ce],Na['y']=_0x22d7da[_0x541825*ce+(0xf25*-0x1+0x8*0xf1+-0x3cf*-0x2)],Na['z']=_0x22d7da[_0x541825*ce+(0x1cf7+-0x5d3*-0x3+-0x2e6e)],_0x47d0d7['localSpace']?fo['copy'](Na):fo['copy'](Na)['sub'](_0x43cedf),fo['normalize']()['mulScalar'](_0x575f2a),_0x587fe3*=-0xc*-0x1db+0x923+0x52*-0x62,_0xc00ed5*=-0xa00*-0x1+-0xa*0x2bb+0x8f*0x1f,_0x16bb61=_0x47d0d7['qLocalVelo'+'city'][_0x587fe3],_0x4817b0=_0x47d0d7['qLocalVelo'+'city'][_0xc00ed5],_t['x']=_0x16bb61+(_0x4817b0-_0x16bb61)*_0x2f6e0a,_0x16bb61=_0x47d0d7['qLocalVelo'+'city'][_0x587fe3+(-0x137f*0x1+0x1*0x1318+0x68)],_0x4817b0=_0x47d0d7['qLocalVelo'+'city'][_0xc00ed5+(-0x1ad*0xf+0x2*0x4bd+-0x7d5*-0x2)],_t['y']=_0x16bb61+(_0x4817b0-_0x16bb61)*_0x2f6e0a,_0x16bb61=_0x47d0d7['qLocalVelo'+'city'][_0x587fe3+(0x251f+-0x2*0xdcd+-0x1*0x983)],_0x4817b0=_0x47d0d7['qLocalVelo'+'city'][_0xc00ed5+(-0x23*0xd+-0x1a2f*-0x1+-0x1866)],_t['z']=_0x16bb61+(_0x4817b0-_0x16bb61)*_0x2f6e0a,_0x16bb61=_0x47d0d7['qLocalVelo'+'city2'][_0x587fe3],_0x4817b0=_0x47d0d7['qLocalVelo'+'city2'][_0xc00ed5],Ua['x']=_0x16bb61+(_0x4817b0-_0x16bb61)*_0x2f6e0a,_0x16bb61=_0x47d0d7['qLocalVelo'+'city2'][_0x587fe3+(0x1df*0x1+-0x283*0xd+-0x1*-0x1ec9)],_0x4817b0=_0x47d0d7['qLocalVelo'+'city2'][_0xc00ed5+(0x59b+0x1c*-0x39+0xa2)],Ua['y']=_0x16bb61+(_0x4817b0-_0x16bb61)*_0x2f6e0a,_0x16bb61=_0x47d0d7['qLocalVelo'+'city2'][_0x587fe3+(0x2*-0x6b0+-0x7*0x17d+0x7ef*0x3)],_0x4817b0=_0x47d0d7['qLocalVelo'+'city2'][_0xc00ed5+(-0x2b*0x6e+0x24a7+-0x122b)],Ua['z']=_0x16bb61+(_0x4817b0-_0x16bb61)*_0x2f6e0a,_0x16bb61=_0x47d0d7['qVelocity'][_0x587fe3],_0x4817b0=_0x47d0d7['qVelocity'][_0xc00ed5],ns['x']=_0x16bb61+(_0x4817b0-_0x16bb61)*_0x2f6e0a,_0x16bb61=_0x47d0d7['qVelocity'][_0x587fe3+(0x18c1+0x4*0x481+0x1dc*-0x17)],_0x4817b0=_0x47d0d7['qVelocity'][_0xc00ed5+(0x1376+0x25e6+-0x395b)],ns['y']=_0x16bb61+(_0x4817b0-_0x16bb61)*_0x2f6e0a,_0x16bb61=_0x47d0d7['qVelocity'][_0x587fe3+(0xea*-0x1b+-0x1f2a*-0x1+0x2*-0x33d)],_0x4817b0=_0x47d0d7['qVelocity'][_0xc00ed5+(0x24f2+0x1781+0x1*-0x3c71)],ns['z']=_0x16bb61+(_0x4817b0-_0x16bb61)*_0x2f6e0a,_0x16bb61=_0x47d0d7['qVelocity2'][_0x587fe3],_0x4817b0=_0x47d0d7['qVelocity2'][_0xc00ed5],ka['x']=_0x16bb61+(_0x4817b0-_0x16bb61)*_0x2f6e0a,_0x16bb61=_0x47d0d7['qVelocity2'][_0x587fe3+(-0x1dea+-0x1065+-0x9c*-0x4c)],_0x4817b0=_0x47d0d7['qVelocity2'][_0xc00ed5+(0x129c*0x1+0x1f4e+-0x10a3*0x3)],ka['y']=_0x16bb61+(_0x4817b0-_0x16bb61)*_0x2f6e0a,_0x16bb61=_0x47d0d7['qVelocity2'][_0x587fe3+(0x11f8*-0x2+0x1aad+0x945)],_0x4817b0=_0x47d0d7['qVelocity2'][_0xc00ed5+(-0xa73+-0x20d*-0xb+-0xc1a)],ka['z']=_0x16bb61+(_0x4817b0-_0x16bb61)*_0x2f6e0a,_t['x']+=(Ua['x']-_t['x'])*Ns['x'],_t['y']+=(Ua['y']-_t['y'])*Ns['y'],_t['z']+=(Ua['z']-_t['z'])*Ns['z'],_0x47d0d7['initialVel'+'ocity']>0x2*0x118+-0x145e+0x122e&&(_0x47d0d7['emitterSha'+'pe']===zw?(tt['copy'](Ns)['mulScalar'](0x133b+-0x191f+0x12e*0x5)['sub'](D['ONE'])['normalize'](),_t['add'](tt['mulScalar'](_0x47d0d7['initialVel'+'ocity']))):_t['add'](D['FORWARD']['mulScalar'](_0x47d0d7['initialVel'+'ocity']))),ns['x']+=(ka['x']-ns['x'])*Ns['x'],ns['y']+=(ka['y']-ns['y'])*Ns['y'],ns['z']+=(ka['z']-ns['z'])*Ns['z'],_0xc8adc6+=(_0xcc5f53-_0xc8adc6)*Ns['y'],_0x431f6a=(_0x431f6a+(_0xcc5b9-_0x431f6a)*(_0x4d46ee*(0x125b+-0x232*0x23+0x1*0x618b)%(0x15db+-0x10b1*-0x1+-0x268b)))*Z_,_0x570bfa=(_0x38a87b-_0x485bc5)*(_0x4d46ee*(0x1*0x2c5+0x75a+-0x25*0x2b)%(0x1*-0x20c6+-0x36*0x92+-0x915*-0x7)),_0x47d0d7['meshInstan'+'ce']['node']&&(_0x47d0d7['localSpace']?(_t['x']/=Ei['x'],_t['y']/=Ei['y'],_t['z']/=Ei['z']):mf['transformP'+'oint'](_t,_t)),_0x47d0d7['localSpace']?(_f['transformP'+'oint'](ns,ns),_t['add'](ns)['add'](fo)):(_t['add'](ns['mul'](Ei)),_t['add'](fo['mul'](Ei))),fc['copy'](_t),Q_['copy'](Na)['add'](_t['mulScalar'](_0x133466)),zt['copy'](Q_),_0x22d7da[_0x541825*ce]=zt['x'],_0x22d7da[_0x541825*ce+(-0x2218+-0x9ec+0x2c05)]=zt['y'],_0x22d7da[_0x541825*ce+(-0x435+0x1f2f+-0x1af8)]=zt['z'],_0x22d7da[_0x541825*ce+(-0x21f1+0x2c2*-0xa+-0x2*-0x1ec4)]+=_0xc8adc6*_0x133466,_0x47d0d7['wrap']&&_0x47d0d7['wrapBounds']&&(_0x47d0d7['localSpace']||zt['sub'](_0x43cedf),zt['x']=gf(zt['x'],_0x47d0d7['wrapBounds']['x'])-_0x47d0d7['wrapBounds']['x']*(0x2*0xb3e+-0x1*-0x85+-0x1701+0.5),zt['y']=gf(zt['y'],_0x47d0d7['wrapBounds']['y'])-_0x47d0d7['wrapBounds']['y']*(0x24d4+0x388*0x7+-0x3d8c+0.5),zt['z']=gf(zt['z'],_0x47d0d7['wrapBounds']['z'])-_0x47d0d7['wrapBounds']['z']*(0x1273+0xaa3*-0x2+0x2d3+0.5),_0x47d0d7['localSpace']||zt['add'](_0x43cedf)),_0x47d0d7['sort']>-0x266e+0x13*-0x16b+-0x5*-0xd13&&(_0x47d0d7['sort']===0x1903*-0x1+-0x1b14+-0x2*-0x1a0c?(kr['copy'](zt)['sub'](_0x4c13ee),_0x47d0d7['particleDi'+'stance'][_0x541825]=-(kr['x']*kr['x']+kr['y']*kr['y']+kr['z']*kr['z'])):_0x47d0d7['sort']===-0x4*-0x37f+-0x5fb*-0x3+-0x1*0x1feb?_0x47d0d7['particleDi'+'stance'][_0x541825]=_0x3baf80:_0x47d0d7['sort']===-0x31*0x35+-0x1001*-0x2+-0x15da&&(_0x47d0d7['particleDi'+'stance'][_0x541825]=-_0x3baf80))),_0x1768bb?_0x3baf80<-0x1*-0x258d+-0x1*-0x2165+-0x46f2&&(_0x22d7da[_0x541825*ce+(-0xbef+-0x21*-0x3a+0x8*0x8f)+_0x47d0d7['numParticl'+'esPot']*(0x1049*0x2+0x41*0x83+0x3*-0x15f1)*ce]=-(-0x9*0x1e0+-0x1486+0x2567)):(_0x3baf80>=_0x549842&&(_0x3baf80-=Math['max'](_0x549842,(_0x47d0d7['numParticl'+'es']-(-0x2506+-0xd5b+0x3262))*_0x683f9),_0x22d7da[_0x541825*ce+(-0x3*0x6c5+-0x1092+-0x626*-0x6)+_0x47d0d7['numParticl'+'esPot']*(0x35f*-0xb+-0x5*-0x211+0x1ac2*0x1)*ce]=_0x47d0d7['loop']?0x74e+-0xedd*-0x1+-0x162a:-(0x9*0x2f9+-0x301*-0xb+-0x1*0x3bcb)),_0x3baf80<0x230a+0x1bca+-0x1f6a*0x2&&_0x47d0d7['loop']&&(_0x22d7da[_0x541825*ce+(-0x25cd*0x1+-0xb0f*-0x3+0x4a3)+_0x47d0d7['numParticl'+'esPot']*(0x14f4+0x73a+0x1*-0x1c2c)*ce]=0x152a+0x77f+0x72a*-0x4)),_0x22d7da[_0x541825*ce+(-0x152f+0x9b8+0xb7a)+_0x47d0d7['numParticl'+'esPot']*(0x1*0x116c+-0x1*0x113e+0x1*-0x2c)*ce]<0x12c8*-0x2+-0xd*-0x2c1+-0x1*-0x1c3&&(_0x4da7ee=!(0x185*0xb+-0xacd+-0x11*0x59)),_0x22d7da[_0x541825*ce+(-0x1cab+0x132f*-0x1+-0x2fdd*-0x1)+_0x47d0d7['numParticl'+'esPot']*ce]=_0x3baf80;for(let _0x2b2121=-0x1413+-0x3*0xa81+-0x5d*-0x8e;_0x2b2121<_0x47d0d7['numParticl'+'eVerts'];_0x2b2121++){const _0x3fe58e=(_0x279c48*_0x47d0d7['numParticl'+'eVerts']+_0x2b2121)*(_0x47d0d7['useMesh']?-0x1ba8+0x4a6+0x1708:0x9cf*0x2+-0x142a+0x90);let _0x2fc776=_0x47d0d7['vbCPU'][_0x3fe58e],_0x408967=_0x47d0d7['vbCPU'][_0x3fe58e+(-0x1*-0xb0d+0x9c6*0x1+-0x14d2)],_0x22be48=_0x47d0d7['vbCPU'][_0x3fe58e+(-0x7*-0x20+0x1*-0x1d9e+0x1cc0)];_0x4da7ee||(_0x2fc776=_0x408967=_0x22be48=-0x1*0x2429+0x21eb+0x23e);const _0x3eed79=_0x279c48*_0x47d0d7['numParticl'+'eVerts']*_0xf3c1b4+_0x2b2121*_0xf3c1b4;_0x20c545[_0x3eed79]=zt['x'],_0x20c545[_0x3eed79+(-0x35*-0x7a+-0x1a69*0x1+-0x128*-0x1)]=zt['y'],_0x20c545[_0x3eed79+(-0x12bf+0x21a8+-0xee7)]=zt['z'],_0x20c545[_0x3eed79+(0x2*0x12bf+0x12*0xc5+0x1*-0x3355)]=_0x34e52b,_0x20c545[_0x3eed79+(-0xa21*-0x3+-0x1*-0x26cb+-0x1c6*0x27)]=_0x47d0d7['alignToMot'+'ion']?_0x12d049:_0x22d7da[_0x541825*ce+(0x1d53+0x1*-0x194d+-0x403)],_0x20c545[_0x3eed79+(0x1b83+-0x1*0x2c9+-0xb*0x23f)]=_0x431f6a,_0x20c545[_0x3eed79+(-0x6bb+0x1169+-0x8*0x155)]=_0x570bfa,_0x20c545[_0x3eed79+(-0x249+-0x1*0x79f+0x9ef)]=fc['x'],_0x20c545[_0x3eed79+(-0x314*-0x4+0x12*0x86+-0x15b4)]=_0x2fc776,_0x20c545[_0x3eed79+(-0xa*-0x52+-0x1*0x1ef+0x4f*-0x4)]=_0x408967,_0x20c545[_0x3eed79+(-0xaa2+-0x120b+0x1cb7*0x1)]=_0x22be48,_0x20c545[_0x3eed79+(0x10d2+0x43*-0x67+-0x1*-0xa2e)]=fc['y'],_0x20c545[_0x3eed79+(0xda*0x2+-0x1c62+0x1aba)]=_0x541825,_0x20c545[_0x3eed79+(0x7*-0x34f+-0xac*-0xa+0x107e)]=fc['z'],_0x20c545[_0x3eed79+(-0x10e6+-0x268d+0x3781)]=_0x47d0d7['vbCPU'][_0x3fe58e+(-0x518*-0x2+-0x4ef+-0x53e)],_0x47d0d7['useMesh']&&(_0x20c545[_0x3eed79+(-0x2f*0x2b+0x1*-0x913+-0x1*-0x1107)]=_0x47d0d7['vbCPU'][_0x3fe58e+(0x117+0x1*-0x9fa+-0x1*-0x8e7)],_0x20c545[_0x3eed79+(0x147c+-0x33*-0x1+-0x149f*0x1)]=_0x47d0d7['vbCPU'][_0x3fe58e+(0x15*0x185+-0x24e*0x10+0x16*0x3a)]);}}if(_0x47d0d7['sort']>nu&&_0x47d0d7['camera']){const _0x1e733d=_0x47d0d7['useMesh']?-0x455*0x1+0x2eb*-0x4+-0x1*-0x1007:0x5*0x157+-0x2a5*-0x6+0x168d*-0x1,_0x314834=_0x47d0d7['particleDi'+'stance'];for(let _0x3f7abe=0x3*0x3+0xf1*0x11+-0x1*0x100a;_0x3f7abe<_0x47d0d7['numParticl'+'es'];_0x3f7abe++)_0x1172af[_0x3f7abe][-0x22b7+0x20f4+0x1c3]=_0x3f7abe,_0x1172af[_0x3f7abe][-0x67d*0x3+0x2330+0x1*-0xfb8]=_0x314834[Math['floor'](_0x47d0d7['vbCPU'][_0x3f7abe*_0x47d0d7['numParticl'+'eVerts']*_0x1e733d+(-0x3*0x95+-0x2529+-0x1*-0x26eb)])];_0x47d0d7['vbOld']['set'](_0x47d0d7['vbCPU']),_0x1172af['sort']((_0x5d50ca,_0x15ce8c)=>_0x5d50ca[-0x208c+-0x371*0xa+0x42f7]-_0x15ce8c[0x17de+-0xae6+-0xcf7*0x1]);for(let _0x1304f3=-0x2385+0x2*0xe2d+0x5*0x16f;_0x1304f3<_0x47d0d7['numParticl'+'es'];_0x1304f3++){const _0x2aa723=_0x1172af[_0x1304f3][0xbc0+0xc*0x231+-0x260c]*_0x47d0d7['numParticl'+'eVerts']*_0x1e733d,_0x3b6dea=_0x1304f3*_0x47d0d7['numParticl'+'eVerts']*_0x1e733d;for(let _0x4dd027=-0x1595+-0x1d*-0x152+-0x10b5;_0x4dd027<_0x47d0d7['numParticl'+'eVerts']*_0x1e733d;_0x4dd027++)_0x47d0d7['vbCPU'][_0x3b6dea+_0x4dd027]=_0x47d0d7['vbOld'][_0x2aa723+_0x4dd027];}}}}const J_=new _i(),eg=new _i(),tg=new _i();class mA{constructor(_0x5bc407,_0x5e9cc5){this['_emitter']=_0x5bc407,this['frameRando'+'mUniform']=new Float32Array(0x19cb+0x1185+-0x2b4d*0x1),this['emitterPos'+'Uniform']=new Float32Array(0x4f*0x6b+0xeb4+0x1*-0x2fb6),this['emitterSca'+'leUniform']=new Float32Array([-0x263+-0x26e2+0x2946,-0x1dbd+0xd*0x264+-0x156,0x204e+-0x1c65+0x2*-0x1f4]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(0x9c7*-0x1+0xd6b+-0x3a1),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(0x1*-0x1300+0x1c19+-0x2*0x48b),this['inBoundsSi'+'zeUniform']=new Float32Array(-0x5fa+0xaa6+-0x4a9),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(-0x92*-0x19+-0xe97+0x58*0x1),this['constantPa'+'rticleTexI'+'N']=_0x5e9cc5['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x5e9cc5['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x5e9cc5['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x5e9cc5['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x5e9cc5['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x5e9cc5['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x5e9cc5['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x5e9cc5['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x5e9cc5['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x5e9cc5['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x5e9cc5['scope']['resolve']('delta'),this['constantRa'+'te']=_0x5e9cc5['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x5e9cc5['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x5e9cc5['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x5e9cc5['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x5e9cc5['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x5e9cc5['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x5e9cc5['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x5e9cc5['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x5e9cc5['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x5e9cc5['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x5e9cc5['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x5e9cc5['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x5e9cc5['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x5e9cc5['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x5e9cc5['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x5e9cc5['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x5e9cc5['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x5e9cc5['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x5e9cc5['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x5e9cc5['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x5e9cc5['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x5e9cc5['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x5e9cc5['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x5e9cc5['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x5e9cc5['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x5e9cc5['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][-0x2665+-0x2141+0x17e2*0x3]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][0xcbe+-0x49*-0x4d+-0x22b2]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][-0x2615+0x1*-0x91d+0x2f34]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][-0x561+0x1*-0x1136+-0x1697*-0x1]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][-0xe49+-0x1*0x256a+0x33b4]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][-0xc47*0x3+-0xd*-0x20e+0xa21*0x1]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][-0x133*0x11+-0x4ae*-0x3+0x659]=Math['random'](),this['frameRando'+'mUniform'][0x23a5*-0x1+0xf2e+0x1478]=Math['random'](),this['frameRando'+'mUniform'][-0xd78*0x2+0x22fb*-0x1+0x3ded]=Math['random']();}['update'](_0x3b313b,_0x4cf98e,_0x67ae8f,_0x3c0e83,_0x59975b){Q['pushGpuMar'+'ker'](_0x3b313b,'ParticleGP'+'U');const _0x458685=this['_emitter'];_0x3b313b['setBlendSt'+'ate'](pt['NOBLEND']),_0x3b313b['setDepthSt'+'ate'](Yt['NODEPTH']),_0x3b313b['setCullMod'+'e'](bt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((-0x17bb+-0x23cf+0x3b8b)/_0x458685['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x458685['precision']),this['constantNu'+'mParticles']['setValue'](_0x458685['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x458685['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x458685['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x458685['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x458685['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x458685['internalTe'+'x3']);const _0x3da8c1=_0x458685['meshInstan'+'ce']['node'],_0x1cab84=_0x3da8c1===null?D['ONE']:_0x3da8c1['localScale'];if(_0x458685['pack8']){this['worldBound'+'sMulUnifor'+'m'][0x32+-0x1cd1*0x1+0x1*0x1c9f]=_0x458685['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][-0x1*0x1a6c+-0x1987*0x1+0x33f4]=_0x458685['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][-0x1e9*-0x1+-0x1195+-0x29d*-0x6]=_0x458685['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][0x1413+-0x1eb8+-0x5*-0x221]=_0x458685['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][-0x985+0x2294*0x1+-0x190e]=_0x458685['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][-0x9*0x431+-0xc42*-0x2+0xd37]=_0x458685['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0x1007c2=_0x458685['maxVel']*Math['max'](Math['max'](_0x1cab84['x'],_0x1cab84['y']),_0x1cab84['z']);_0x1007c2=Math['max'](_0x1007c2,0x64*-0x25+0x3dc*-0x2+0x162d),this['constantMa'+'xVel']['setValue'](_0x1007c2);}const _0x533a83=_0x3da8c1===null||_0x458685['localSpace']?D['ZERO']:_0x3da8c1['getPositio'+'n'](),_0x24a71c=_0x3da8c1===null?te['IDENTITY']:_0x3da8c1['getWorldTr'+'ansform']();_0x458685['emitterSha'+'pe']===ai?(J_['setFromMat'+'4'](_0x4cf98e),this['constantSp'+'awnBounds']['setValue'](J_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x67ae8f)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x458685['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x458685['emitterRad'+'ius']===0x262f+0xce+-0x26fd?0x715+-0x1f8a+0x1875:_0x458685['emitterRad'+'iusInner']/_0x458685['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x458685['initialVel'+'ocity']),eg['setFromMat'+'4'](_0x24a71c),tg['invertMat4'](_0x24a71c),this['emitterPos'+'Uniform'][0x14b+0x1*0x26f1+-0x283c]=_0x533a83['x'],this['emitterPos'+'Uniform'][-0x4*0x766+0x13*0x9a+0x122b*0x1]=_0x533a83['y'],this['emitterPos'+'Uniform'][-0x25*0x3b+0x1541+-0x94*0x16]=_0x533a83['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x3c0e83),this['constantRa'+'te']['setValue'](_0x458685['rate']),this['constantRa'+'teDiv']['setValue'](_0x458685['rate2']-_0x458685['rate']),this['constantSt'+'artAngle']['setValue'](_0x458685['startAngle']*Y['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x458685['startAngle'+'2']*Y['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x458685['seed']),this['constantLi'+'fetime']['setValue'](_0x458685['lifetime']),this['emitterSca'+'leUniform'][0x12c2+-0x1f*-0x95+-0x24cd]=_0x1cab84['x'],this['emitterSca'+'leUniform'][-0x16*-0xe6+0x28d*-0x9+0x199*0x2]=_0x1cab84['y'],this['emitterSca'+'leUniform'][-0x12*0xfd+-0x1e8d+-0x3059*-0x1]=_0x1cab84['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](eg['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](tg['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x458685['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x458685['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x458685['rotSpeedUM'+'ax'][0x243a+-0x1d2*-0x13+-0x46d0]);let _0xc0206a=_0x458685['swapTex']?_0x458685['particleTe'+'xOUT']:_0x458685['particleTe'+'xIN'];_0xc0206a=_0x458685['beenReset']?_0x458685['particleTe'+'xStart']:_0xc0206a;const _0x284386=_0x458685['swapTex']?_0x458685['particleTe'+'xIN']:_0x458685['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0xc0206a),Ar(_0x3b313b,_0x458685['swapTex']?_0x458685['rtParticle'+'TexIN']:_0x458685['rtParticle'+'TexOUT'],_0x59975b?_0x458685['shaderPart'+'icleUpdate'+'OnStop']:_0x458685['loop']?_0x458685['shaderPart'+'icleUpdate'+'Respawn']:_0x458685['shaderPart'+'icleUpdate'+'NoRespawn']),_0x458685['material']['setParamet'+'er']('particleTe'+'xOUT',_0xc0206a),_0x458685['material']['setParamet'+'er']('particleTe'+'xIN',_0x284386),_0x458685['beenReset']=!(-0x6*0x3b5+-0x119d+0x27dc),_0x458685['swapTex']=!_0x458685['swapTex'],_0x458685['prevWorldB'+'oundsSize']['copy'](_0x458685['worldBound'+'sSize']),_0x458685['prevWorldB'+'oundsCente'+'r']['copy'](_0x458685['worldBound'+'s']['center']),_0x458685['pack8']&&this['_setInputB'+'ounds'](),Q['popGpuMark'+'er'](_0x3b313b);}}const sg=['NONE','VERTEX','MAP'];class _A extends ya{['generateKe'+'y'](_0xe2ee5c){let _0x3a0843='particle_'+ya['definesHas'+'h'](_0xe2ee5c['defines'])+'_';for(const _0x26448d in _0xe2ee5c)_0xe2ee5c['hasOwnProp'+'erty'](_0x26448d)&&(_0x3a0843+=_0xe2ee5c[_0x26448d]);return _0x3a0843;}['createVert'+'exDefines'](_0x468317,_0x92ddd2){const _0x4f59da=new Map(_0x468317['defines']);return _0x468317['mesh']&&_0x4f59da['set']('USE_MESH',''),_0x468317['meshUv']&&_0x4f59da['set']('USE_MESH_U'+'V',''),_0x468317['localSpace']&&_0x4f59da['set']('LOCAL_SPAC'+'E',''),_0x468317['screenSpac'+'e']&&_0x4f59da['set']('SCREEN_SPA'+'CE',''),_0x468317['animTex']&&_0x4f59da['set']('ANIMTEX',''),_0x468317['soft']>-0x1*0xf94+-0xb12+-0x8e2*-0x3&&_0x4f59da['set']('SOFT',''),_0x468317['stretch']>0x1ca5+0x11c*-0x14+-0x675&&_0x4f59da['set']('STRETCH',''),_0x468317['customFace']&&_0x4f59da['set']('CUSTOM_FAC'+'E',''),_0x468317['pack8']&&_0x4f59da['set']('PACK8',''),_0x468317['localSpace']&&_0x4f59da['set']('LOCAL_SPAC'+'E',''),_0x468317['animTexLoo'+'p']&&_0x4f59da['set']('ANIMTEX_LO'+'OP',''),_0x468317['wrap']&&_0x4f59da['set']('WRAP',''),_0x468317['alignToMot'+'ion']&&_0x4f59da['set']('ALIGN_TO_M'+'OTION',''),_0x4f59da['set']('NORMAL',sg[_0x468317['normal']]),_0x92ddd2['particle_v'+'ertexData']=Me,_0x468317['mesh']&&_0x468317['meshUv']&&(_0x92ddd2['particle_u'+'v']=is),_0x468317['useCpu']&&(_0x92ddd2['particle_v'+'ertexData2']=uh,_0x92ddd2['particle_v'+'ertexData3']=Ap,_0x92ddd2['particle_v'+'ertexData4']=Cp,_0x92ddd2['particle_v'+'ertexData5']=Pp),_0x4f59da;}['createFrag'+'mentDefine'+'s'](_0x210b1b){const _0xb09aac=new Map(_0x210b1b['defines']);return _0x210b1b['soft']>0x1817+-0xb3*0x32+-0xfd*-0xb&&_0xb09aac['set']('SOFT',''),_0x210b1b['halflamber'+'t']&&_0xb09aac['set']('HALF_LAMBE'+'RT',''),_0xb09aac['set']('NORMAL',sg[_0x210b1b['normal']]),_0xb09aac['set']('BLEND',Yy[_0x210b1b['blend']]),_0xb09aac;}['createShad'+'erDefiniti'+'on'](_0x4b26b5,_0x3273b4){const _0x2ea317=_0x4b26b5['isWebGPU']?it:Fe,_0x2fbf80=Pe['get'](_0x4b26b5,_0x2ea317),_0x49fd03={},_0x3e8fba=this['createVert'+'exDefines'](_0x3273b4,_0x49fd03),_0x50b4dc=this['createFrag'+'mentDefine'+'s'](_0x3273b4),_0x91fe06='PARTICLE_'+(_0x3273b4['useCpu']?'CPU':'GPU')+'\x0a';_0x3e8fba['set'](_0x91fe06,''),_0x50b4dc['set'](_0x91fe06,'');const _0x3ab6c8=new Map(_0x2fbf80);return Jt['createDefi'+'nition'](_0x4b26b5,{'name':'ParticleSh'+'ader','shaderLanguage':_0x2ea317,'attributes':_0x49fd03,'vertexCode':_0x2fbf80['get']('particle_s'+'haderVS'),'fragmentCode':_0x2fbf80['get']('particle_s'+'haderPS'),'fragmentDefines':_0x50b4dc,'fragmentIncludes':_0x3ab6c8,'vertexIncludes':_0x3ab6c8,'vertexDefines':_0x3e8fba});}}const gA=new _A();class SA extends tr{constructor(_0x3300f9){super(),h(this,'emitter',null),(this['emitter']=_0x3300f9,w['assert'](_0x3300f9));}['getShaderV'+'ariant'](_0x2f36fb){const {device:_0x3fded1,scene:_0x54edff,cameraShaderParams:_0x2fcd19,objDefs:_0x5d7061}=_0x2f36fb,{emitter:_0x2a2567}=this,_0x30186f={'defines':$t['getCoreDef'+'ines'](this,_0x2f36fb),'pass':Aa,'useCpu':this['emitter']['useCpu'],'normal':_0x2a2567['lighting']?_0x2a2567['normalMap']!==null?-0x693+0xc46*-0x2+0x1*0x1f21:0x88*0x44+-0x2543+-0x1*-0x124:-0xad6+0x3*-0xf1+0xda9,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'meshUv':_0x5d7061&nm,'gamma':(_0x2fcd19==null?void(-0x9a3+0x28d+-0x2*-0x38b):_0x2fcd19['shaderOutp'+'utGamma'])??Ll,'toneMap':(_0x2fcd19==null?void(-0x1929+0x222*0x1+0x3*0x7ad):_0x2fcd19['toneMappin'+'g'])??sm,'fog':_0x54edff&&!this['emitter']['noFog']?_0x54edff['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x2a2567['inTools']?!(-0xb1a+0x1ed5+0x13ba*-0x1):this['emitter']['screenSpac'+'e'],'blend':this['emitter']['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==yh},_0x27c051=new Ad(_0x2f36fb['viewUnifor'+'mFormat'],_0x2f36fb['viewBindGr'+'oupFormat'],_0x2f36fb['vertexForm'+'at']),_0x1a2bbb=Hn(_0x3fded1);return _0x1a2bbb['register']('particle',gA),_0x1a2bbb['getProgram']('particle',_0x30186f,_0x27c051,this['userId']);}}const ig=[[-(0x1222*-0x2+0x1*-0x1223+-0x1*-0x3668),-(0x424+-0xb*-0xc4+-0xc8f)],[0x1edd*0x1+0x4*0x2c0+0xbc*-0x39,-(-0x8bd+0x137e*0x1+-0xac0)],[-0x111e+-0x1995+-0x2ab4*-0x1,0x1ca3*0x1+0x1*-0x751+-0x1551],[-(-0x44d+0xced*0x2+-0x158c),-0x29b*0x6+0x15a1*-0x1+-0x31b*-0xc]];function xs(_0x1b5db3,_0x77dc01,_0x49d6b6,_0x244344,_0x447077=Xt,_0x5a9dc7,_0x4c07c0){let _0x31440f=Te;_0x4c07c0&&(_0x447077===Ne||_0x447077===_s)&&(_0x31440f=vt);const _0xb42d53=new _e(_0x1b5db3,{'width':_0x77dc01,'height':_0x49d6b6,'format':_0x447077,'cubemap':!(0xa06+-0xf3f+-0x1*-0x53a),'mipmaps':!(0x1*0x170b+-0x7*-0x335+-0x2d7d),'minFilter':_0x31440f,'magFilter':_0x31440f,'addressU':ue,'addressV':ue,'name':'ParticleSy'+'stemTextur'+'e'}),_0x5bcebb=_0xb42d53['lock']();if(_0x447077===Ne||_0x447077===_s){const _0x20dbd4=new Uint8Array(_0x244344['length']);for(let _0x164a5b=0x115*-0x2+-0x1203*0x2+0x2630;_0x164a5b<_0x244344['length'];_0x164a5b++)_0x20dbd4[_0x164a5b]=_0x244344[_0x164a5b]*_0x5a9dc7*(-0x1*0x1bd3+-0x92b+0x185*0x19);_0x244344=_0x20dbd4;}return _0x5bcebb['set'](_0x244344),_0xb42d53['unlock'](),_0xb42d53;}function rg(_0x1717ea){return Math['max'](Math['min'](_0x1717ea,0x286*0x4+-0x1*-0x14b1+-0x1ec8),-0x6ac+-0x10*-0x202+-0x12*0x16a);}const ag=new qs([-0xddb*-0x2+0xb5e+0x4*-0x9c5,0x3*0x4cb+0x66*0x3d+-0xce5*0x3,0x40e*0x6+0x1*0x226d+0x178*-0x28,0x26bf*0x1+0x14*0x83+-0x30fb]),ng=new qs([-0x9b3*-0x1+0x11*-0xca+0x3b7,0x1fc6*0x1+0x2455+-0x441a,0x6ed+0xe98+-0x1584,0x450*0x1+0x10*0x1d8+0x6c3*-0x5]),og=new na([-0xc31+0x22e0+0x16af*-0x1,0xe9*-0x15+-0x6f*0x17+-0x49*-0x66,-0x6*0x95+0x11d2*0x1+0x1*-0xe53,0x722+-0x1a86+0x1364],[0x2*-0x916+-0x1e2d+-0x1*-0x3059,0x1d1d+0xf3*-0x12+-0xc07,-0x149f+-0x21+0x1e3*0xb,-0x233e+0xd2d*-0x1+0x306b],[-0x16d1+0x1a*0x112+-0x1*0x503,-0x7ea+-0xeaf+0x1699,-0x3f*-0x22+-0xda3+-0xf*-0x5a,-0x1335+0x249e+-0x1*0x1169]),yA=new na([0x18b9+-0x40b+-0x14ae,0x4*0x2ef+0x1a3e+0x25f9*-0x1,-0xdb5+0xe4b+-0x95,0x1*-0xfa3+0x35*0xc+0xd28],[-0x1678+0x45*0x17+-0x5*-0x341,0x46*0x31+-0x1*0xa41+-0x324,-0x67*-0x45+0x1*-0x21df+-0x5*-0x139,-0x647*0x5+0xc7f+0x12e5*0x1],[-0x14a9+0x1829+0x10*-0x38,0x8*-0x1f8+-0x21a6+0x3167,0x24ba+-0x1abd+-0x9fc,0x136f+-0x22f2+0xf84]);let bi=0x20ea+0x1e32+-0x3f1a;const pc=-0x3c8+-0x11a8+-0x55d*-0x4,Ai=new Float32Array(0x1*0x2137+0x3ba+-0x1277*0x2),Ur=new te(),lg=new D(),mc=new D(),_c=new D();let uu,Zc;function he(_0x3ce68c,_0x1acde3){Zc[_0x3ce68c]!==void(0x1ffa+-0x2220+0x226)&&Zc[_0x3ce68c]!==null?uu[_0x3ce68c]=Zc[_0x3ce68c]:uu[_0x3ce68c]=_0x1acde3;}function Dv(_0x5c1117,_0x212bee,_0x1e3cf0){return(_0x5c1117*(-0x1edd+0xe1+0x1efb)<<-0x1970+0x1bc9*0x1+-0x249|_0x212bee*(-0x7*-0xb3+0x242e+-0x2814)<<-0x4d6*-0x1+0x25c7+-0xb*0x3df|_0x1e3cf0*(0x323*0x1+-0x31a*-0x8+-0x1af4))/(-0x960+0x26ab+-0x1d4a<<-0x15cd*0x1+0x15b4+0x31);}function cg(_0x2f4c16,_0x5443f8){const _0x357b56=_0x2f4c16['length']/(0x1*-0x199a+-0x1238+-0x1*-0x2bd5),_0x206841=new Array(_0x357b56*(-0x43*-0x1b+0xb*-0xd9+0x61*0x6));for(let _0x3d2826=0x6*0x443+0x2548+-0x3eda;_0x3d2826<_0x357b56;_0x3d2826++)_0x206841[_0x3d2826*(0x1f29+0x1*0x2cd+-0x21f2)]=_0x2f4c16[_0x3d2826*(-0x8*-0x435+-0x1e8b+-0x2*0x18d)],_0x206841[_0x3d2826*(0xa45*-0x1+0x21*-0xca+0x2453*0x1)+(-0x34b+0x215e+-0x1e12)]=_0x2f4c16[_0x3d2826*(0x1167+0x194a+-0x2aae)+(0x25*-0x22+0x3*-0x8f3+0x7f1*0x4)],_0x206841[_0x3d2826*(0x128+-0x82*-0xf+-0x8c2)+(-0xa1b*0x3+-0x2424+-0x1*-0x4277)]=_0x2f4c16[_0x3d2826*(0x1326+-0x1*0x2052+0x177*0x9)+(-0xad8+-0x15b6+0x2090)],_0x206841[_0x3d2826*(-0x1*-0x8d7+-0x3e7+-0x4ec)+(-0x1633+0x1dfc+-0x7c6)]=Dv(_0x5443f8[_0x3d2826*(0x77e+0x1afa+-0x1*0x2275)],_0x5443f8[_0x3d2826*(0x1*0x4fd+-0x25b*-0xf+-0x284f)+(-0x515*0x1+0x1c7+0x1*0x34f)],_0x5443f8[_0x3d2826*(-0x17*-0x3d+0x3*0x61f+0x17d5*-0x1)+(0x65d+-0xc6*-0x2+-0x1*0x7e7)]);return _0x206841;}function vA(_0xcb32b2,_0x27733c){const _0x25bffd=new Array(_0x27733c['length']*(0x859*-0x1+-0x1332+0x19f*0x11));for(let _0x2b87f4=0x130*0xb+-0x1*-0x343+-0x1053;_0x2b87f4<_0x27733c['length'];_0x2b87f4++)_0x25bffd[_0x2b87f4*(0x16df+0xfdc+-0x26b7)]=_0xcb32b2[_0x2b87f4*(-0x51b*0x1+-0x16a+0x4c*0x16)],_0x25bffd[_0x2b87f4*(-0x9e3*-0x2+-0x45a+-0x1d*0x88)+(-0x17f5+-0x557*-0x5+-0x2bd*0x1)]=_0xcb32b2[_0x2b87f4*(-0xa83+0x1e78+-0x13f2)+(-0x1*-0xace+-0x74a*0x3+0x1*0xb11)],_0x25bffd[_0x2b87f4*(-0x16*-0x10a+0x20f8+-0x2*0x1be8)+(0x9ef+0xce8+-0x16d5)]=_0xcb32b2[_0x2b87f4*(-0x55a*-0x2+-0x1b*-0x151+-0x2e3c)+(0xb42+0x2*-0x9a4+0x404*0x2)],_0x25bffd[_0x2b87f4*(0x58*-0x63+0x2329*0x1+0x13*-0xf)+(-0xb*0x2f3+0x21d*-0xb+-0x7*-0x7f5)]=_0x27733c[_0x2b87f4];return _0x25bffd;}function xA(_0xbd880a,_0x39d54d,_0x38062e,_0x4f8107,_0x30a345){const _0x16b868=new Array(_0xbd880a['length']*(-0x14e+-0x24b*0x5+0xcc9));for(let _0x120644=0x26ed+-0x80c+0x1f*-0xff;_0x120644<_0xbd880a['length'];_0x120644++)_0x16b868[_0x120644*(-0x1c05+0x1*-0x248f+0x4098)]=_0xbd880a[_0x120644],_0x16b868[_0x120644*(-0x734+-0x13f+0x877)+(0x1a44+-0x1741*0x1+-0x23*0x16)]=_0x39d54d[_0x120644],_0x16b868[_0x120644*(0x1b1a+0xcc8+0x6a5*-0x6)+(-0x1dbc+-0x105b+0x2e19*0x1)]=-0x1339*0x1+0x129b+0x2*0x4f,_0x16b868[_0x120644*(-0xd6e+0x877*-0x2+0x1e60)+(-0x1430+0xbe0+0x853)]=Dv(_0x38062e[_0x120644],_0x4f8107[_0x120644],_0x30a345[_0x120644]);return _0x16b868;}function TA(_0x239a2b,_0x29f24d){const _0x3c3618=new Array(_0x239a2b['length']*(-0x607*-0x2+0xaeb+-0x16f5));for(let _0xc6dc04=0x782+-0x3*0x8ed+0x1345;_0xc6dc04<_0x239a2b['length'];_0xc6dc04++)_0x3c3618[_0xc6dc04*(-0x1b5e+0x14f9+0x669)]=_0x239a2b[_0xc6dc04],_0x3c3618[_0xc6dc04*(-0x10d*0x1f+0x132e+0xd69)+(-0x1c2c+0x1517+0x716)]=_0x29f24d[_0xc6dc04],_0x3c3618[_0xc6dc04*(0x22a7+0x11dc+-0x347f)+(-0xc4+0x139e+-0x12d8)]=0x14b1*0x1+-0x108+-0x13a9,_0x3c3618[_0xc6dc04*(0xc6*-0x19+0x1*0x1c3d+-0x8e3)+(0x140c+0x241*-0xb+0x4c2)]=0x5bd*-0x4+0x5*-0x1ce+0x1ffa;return _0x3c3618;}function wA(_0x4a0aa6){const _0x1290f5=Math['max'](_0x4a0aa6['rate'],_0x4a0aa6['rate2'])*_0x4a0aa6['numParticl'+'es']+_0x4a0aa6['lifetime'];return Date['now']()+_0x1290f5*(-0x509*0x5+-0x2010+0x3d25);}function EA(_0xc3ee9b,_0x25158f){const _0x1ffb0a=new Float32Array(_0xc3ee9b['length']);for(let _0x50f5c0=-0x2*-0x3c5+0xe59+0x15e3*-0x1;_0x50f5c0<_0xc3ee9b['length'];_0x50f5c0++)_0x1ffb0a[_0x50f5c0]=_0xc3ee9b[_0x50f5c0]-_0x25158f[_0x50f5c0];return _0x1ffb0a;}function Xr(_0x525ff4,_0x5ca390){const _0x43bef6=_0x5ca390['length'],_0x1edc6c=_0x525ff4['length']/_0x43bef6;for(let _0x573f70=0x1dc0+-0x2*0xf41+0xc2;_0x573f70<_0x1edc6c;_0x573f70++)for(let _0x4b93fb=0x1*-0x1dfb+0xe46+0xfb5;_0x4b93fb<_0x43bef6;_0x4b93fb++){const _0x43b5b5=Math['abs'](_0x525ff4[_0x573f70*_0x43bef6+_0x4b93fb]);_0x5ca390[_0x4b93fb]=Math['max'](_0x5ca390[_0x4b93fb],_0x43b5b5);}}function bA(_0xf305cb,_0x133610){const _0x151557=_0x133610['length'],_0x32792a=_0xf305cb['length']/_0x151557;for(let _0x494656=0x7c5+-0x245c+0xd*0x233;_0x494656<_0x32792a;_0x494656++)for(let _0x142313=-0xc1a+-0x1162+0x1d7c;_0x142313<_0x151557;_0x142313++)_0xf305cb[_0x494656*_0x151557+_0x142313]/=_0x133610[_0x142313]===-0x8e*-0x1+-0x3*-0x17e+-0x508?0x4a7*0x3+-0x1*0x13f5+0x601:_0x133610[_0x142313],_0xf305cb[_0x494656*_0x151557+_0x142313]*=-0x7d6+-0x21dc+0x29b2+0.5,_0xf305cb[_0x494656*_0x151557+_0x142313]+=-0xab3+0x2fb+0x1ee*0x4+0.5;}function Br(_0x3bb5cc,_0x120c8d,_0x9c17da){const _0x5048cf=EA(_0x120c8d,_0x3bb5cc);return Xr(_0x5048cf,_0x9c17da),bA(_0x5048cf,_0x9c17da),_0x5048cf;}const AA=new Kt();class CA{constructor(_0x3d1fde,_0x5635c3){h(this,'material',null),h(this,'internalTe'+'x0',null),h(this,'internalTe'+'x1',null),h(this,'internalTe'+'x2',null),h(this,'colorParam',null),this['graphicsDe'+'vice']=_0x3d1fde;const _0x31ab07=_0x3d1fde,_0x5c543c=-0x1*-0x215e+-0x1f*0x90+-0xfce;this['precision']=_0x5c543c,this['_addTimeTi'+'me']=0x1bf+-0x185*-0x7+-0xa*0x13d,uu=this,Zc=_0x5635c3,he('numParticl'+'es',0x458+-0xb*-0x239+-0x1cca),this['numParticl'+'es']>_0x3d1fde['maxTexture'+'Size']&&(w['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x3d1fde['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x3d1fde['maxTexture'+'Size']),he('rate',0x1282+0x3d2+-0x9*0x27b),he('rate2',this['rate']),he('lifetime',0x2078+-0x2341+0x7*0x6d),he('emitterExt'+'ents',new D(0xd78+-0x1d15+0x1*0xf9d,0xa9*-0x7+0x9f7*0x1+-0x558,0x1*-0xd3b+-0x1f8e+-0x2cc9*-0x1)),he('emitterExt'+'entsInner',new D(-0x20ac+-0x1422*0x1+0x34ce,-0x1925*-0x1+0x103+-0x1a28,0x1114*-0x2+-0x1*-0x21b3+-0x9*-0xd)),he('emitterRad'+'ius',0x643*-0x4+-0x14a1+0x2dad),he('emitterRad'+'iusInner',0x150c+-0x1*0x12a0+-0x26c),he('emitterSha'+'pe',ai),he('initialVel'+'ocity',0x1e22+-0x202d+0x20c*0x1),he('wrap',!(-0x175*-0x13+-0xd22+-0x1c*0x85)),he('localSpace',!(-0x21c8+-0xa7e+-0x5*-0x8db)),he('screenSpac'+'e',!(0x125a+0x1925*-0x1+-0x15c*-0x5)),he('wrapBounds',null),he('colorMap',this['defaultPar'+'amTexture']),he('normalMap',null),he('loop',!(0xb*-0x2ad+0x2*0xfa3+0x1d7*-0x1)),he('preWarm',!(-0xfd5+0x179*0xb+-0x1f*0x3)),he('sort',nu),he('mode',rv),he('scene',null),he('lighting',!(0x17*-0xc4+-0x458*0x5+0x1*0x2755)),he('halfLamber'+'t',!(0x1e47*-0x1+0xb*0x2f5+-0x23f)),he('intensity',0x2e4*-0x2+-0x29*0x69+-0x107*-0x16),he('stretch',-0x157f+0x1*-0x409+0x1988),he('alignToMot'+'ion',!(-0x14af*-0x1+-0x3*-0x4b3+-0x22c7)),he('depthSofte'+'ning',-0x3*0xd01+-0xc9+0x2*0x13e6),he('mesh',null),he('particleNo'+'rmal',new D(0x10e+-0x2199+0x208b,0x9*-0x423+-0x1aea+0x4026,-0x1*0xcb+0xeea*0x1+-0xe1f)),he('orientatio'+'n',yh),he('depthWrite',!(-0x10d5*-0x2+0xd69+-0x1e2*0x19)),he('noFog',!(0x1c03+-0xff5*0x2+-0x4*-0xfa)),he('blendType',Zs),he('node',null),he('startAngle',0x3df*0xa+-0x13b0+0x2*-0x983),he('startAngle'+'2',this['startAngle']),he('animTilesX',0x5ae*-0x4+-0x1*0x2e6+0x199f*0x1),he('animTilesY',0x46b+-0x195b+0x6fb*0x3),he('animStartF'+'rame',0x19f3+-0xd*0x2ba+-0xbb*-0xd),he('animNumFra'+'mes',-0x149b+0x1a42+0xf1*-0x6),he('animNumAni'+'mations',-0x62e+0x1aa1+-0x1472),he('animIndex',0xd0e+0x1f5a+0x58d*-0x8),he('randomizeA'+'nimIndex',!(0x85f*-0x1+-0x131f+0x1b7f)),he('animSpeed',-0x111*0x22+0x41b*-0x9+0x4936),he('animLoop',!(-0x1*-0x205d+0x2109+-0x2f9*0x16)),this['_gpuUpdate'+'r']=new mA(this,_0x31ab07),this['_cpuUpdate'+'r']=new pA(this),this['emitterPos'+'Uniform']=new Float32Array(-0x8ab*0x1+-0x18db+0x2189),this['wrapBounds'+'Uniform']=new Float32Array(-0x1*-0x1d11+0x9*-0x199+-0xead),this['emitterSca'+'leUniform']=new Float32Array([0x651+-0x1a51+0x9*0x239,0x2e1+-0x1b8b*-0x1+-0x1e6b*0x1,0x1bb+-0xd06+0xb4c]),he('colorGraph',yA),he('colorGraph'+'2',this['colorGraph']),he('scaleGraph',ng),he('scaleGraph'+'2',this['scaleGraph']),he('alphaGraph',ng),he('alphaGraph'+'2',this['alphaGraph']),he('localVeloc'+'ityGraph',og),he('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),he('velocityGr'+'aph',og),he('velocityGr'+'aph2',this['velocityGr'+'aph']),he('rotationSp'+'eedGraph',ag),he('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),he('radialSpee'+'dGraph',ag),he('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(-0xf28+-0x1f9b+0x2ec5),this['animParams']=new Float32Array(-0x3ce*0x1+0x1155+-0xd83),this['animIndexP'+'arams']=new Float32Array(0x14d*0xd+-0x13c2+-0x2db*-0x1),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(-0xe51*-0x1+0x37f*-0x7+0xa29),this['useMesh']=!(0x1586+0x2*0xcf1+-0xa4*0x4a),this['useCpu']=!_0x3d1fde['supportsGp'+'uParticles'],this['pack8']=!(-0xd*0x11b+0x236a+-0x150b),this['localBound'+'s']=new De(),this['worldBound'+'sNoTrail']=new De(),this['worldBound'+'sTrail']=[new De(),new De()],this['worldBound'+'s']=new De(),this['worldBound'+'sSize']=new D(),this['prevWorldB'+'oundsSize']=new D(),this['prevWorldB'+'oundsCente'+'r']=new D(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new D(),this['worldBound'+'sAdd']=new D(),this['timeToSwit'+'chBounds']=-0x1e17*-0x1+0x135a+-0x3171,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=0x6da+0xb7e+-0x1258,this['numParticl'+'eIndices']=-0x11*0x1d+-0x8*0x255+-0xb*-0x1df,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=-0x1113*0x1+0x7*-0x44f+0x2*0x179e,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(-0x177b+-0x1361+0x2add)/(-0x45*-0x39+-0x734+0x7ed*-0x1),this['maxSubStep'+'s']=-0x15*0x19f+-0x675+0x288a,this['simTime']=-0x2082+0x1362+-0x1e*-0x70,this['simTimeTot'+'al']=0x91a+0x1487+0x1da1*-0x1,this['beenReset']=!(0x1*-0x1dcc+0xc3c+0x1191),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return w['assert'](this['graphicsDe'+'vice']),AA['get'](this['graphicsDe'+'vice'],()=>{const _0x1cd249=new Float32Array(-0x5c1*-0x5+-0x119*-0x7+-0x2074);for(let _0x42cd22=0xdd9+0x22*-0xa3+-0x7cd*-0x1;_0x42cd22<0x78d+0x9*-0x391+-0x32*-0x7e;_0x42cd22++)for(let _0x4c2840=-0x6*-0x441+0xe40+-0x27c6;_0x4c2840<-0xcfb*-0x1+0x1a7f+-0x276a;_0x4c2840++){const _0x5aa352=_0x4c2840+(0x4a4+0x4c9*0x1+-0x96c)-(0x14d8+-0x26b4*-0x1+-0x3b84+0.5),_0x4825c6=_0x42cd22+(-0x9f1*-0x3+0x1*-0x26b3+0x8e1)-(0x1bbe+0xe*0x49+-0x1fb4+0.5),_0x20c3a8=rg(-0x188a+0x1a89+-0x55*0x6-rg(Math['sqrt'](_0x5aa352*_0x5aa352+_0x4825c6*_0x4825c6)/(0x1c75+-0x72*0x2+-0x1b81))-(-0x733*0x2+-0x1*0xdbd+0x405*0x7+0.5)),_0x3d1f10=_0x42cd22*(-0x1da1+-0x1*-0x281+-0x14*-0x15c)+_0x4c2840;_0x1cd249[_0x3d1f10*(0xba*0x10+0x4be+-0x105a)]=0x166*0x11+0x19ac+0x3171*-0x1,_0x1cd249[_0x3d1f10*(-0x352+0x1ba8+-0x1852)+(-0x3f7+-0x177c+0x1b74)]=0x206b+0x1b2a+-0x3b94,_0x1cd249[_0x3d1f10*(-0x7b*-0xe+-0x2322*-0x1+-0x29d8)+(0x2*0x766+0x1*0x1743+0x3*-0xcaf)]=0x15e2*0x1+-0x15de+-0x3,_0x1cd249[_0x3d1f10*(0x14*0x90+0x5a4+-0x10e0)+(0x1*0xf9+0x3f9+-0x4ef*0x1)]=_0x20c3a8;}const _0x252571=xs(this['graphicsDe'+'vice'],0x9bf*-0x3+-0x7ce+-0x7*-0x54d,-0x1ceb*-0x1+-0x11f+-0x32*0x8e,_0x1cd249,_s,0xc9*-0x16+0x5b5*0x3+0x28,!(-0x16ce+-0xce5+0xd*0x2bf));return _0x252571['minFilter']=vt,_0x252571['magFilter']=vt,_0x252571;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(-0x1c50+-0x20d1+0x3d22)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(0x20c1+0x29*-0xe1+-0x1d*-0x1d)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(-0x2*-0x3b+-0x1082+0x1*0x100d)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(0xe0f*0x1+-0x2e7+-0x1*0xb27)),this['worldBound'+'sAdd']['x']+=0x2611+0x1386+0x281*-0x17+0.5,this['worldBound'+'sAdd']['y']+=0x95*-0x42+0x688+0x48e*0x7+0.5,this['worldBound'+'sAdd']['z']+=0x19ec+-0x1*0x21c1+-0x191*-0x5+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0xe1e89f=!(-0xac6+-0x14f3+0x1f*0x106);this['emitterSha'+'pe']===ai?_0xe1e89f=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0xe1e89f=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0xe1e89f&&this['calculateL'+'ocalBounds']();}const _0x44252a=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x44252a),this['worldBound'+'sTrail'][0x1435+-0x2b7+-0x117e]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0x239c+0x4d*-0x7c+-0x1*-0x1b1]['add'](this['worldBound'+'sNoTrail']);const _0xa7e49e=this['simTimeTot'+'al'];_0xa7e49e>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][-0x2*0xa03+0x3d1*0x7+-0x6b1]['copy'](this['worldBound'+'sTrail'][-0x19d3+-0x587+0x1f5b]),this['worldBound'+'sTrail'][0xa3b+-0x1bb7+0xb*0x197]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0xa7e49e+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x1*-0x1078+-0x1897+0x81f]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x9*-0xdf+0x17*0x121+-0x21cc),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x44252a),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x44252a)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=-0x8a1+0xb+0x897-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0x1*0x203f+0xf*-0x241+0x190]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0x1b79*-0x1+-0x110e+-0x2*0x535]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][0x2505+0x17c6+-0x4f*0xc5]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x151*-0x8+-0x4f*0x51+0x2389*0x1),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=-0x1803+0xca9+0xb5a,this['timeToSwit'+'chBounds']=0xd*0x7c+-0x1c55*0x1+-0x1*-0x1609);}['calculateL'+'ocalBounds'](){let _0x33f617=Number['MAX_VALUE'],_0x320624=Number['MAX_VALUE'],_0x91f855=Number['MAX_VALUE'],_0x3470f5=-Number['MAX_VALUE'],_0x29a998=-Number['MAX_VALUE'],_0x33fe36=-Number['MAX_VALUE'],_0x2dde78=0x129*0x3+0x1c4*-0x1+-0x1b7*0x1,_0x131df2=-0x1468+-0x1e99*-0x1+0xa31*-0x1;const _0xf26ae4=this['lifetime']/this['precision'],_0x2ce439=[this['qVelocity'],this['qVelocity2']],_0x14c52b=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x3975b5=[-0x1bbb+0x10b2+0xb09,0x19*-0xc7+-0x1dd*0x12+0x34f9],_0x17a1aa=[0x1e0d+0x1*-0x2228+0x41b,0x268*-0x2+-0x1521+0x19f1*0x1],_0x58bea8=[-0x5f*0x25+0x503+0x8b8,0x28f+-0x1*-0x24b+-0x4da],_0xe31fb2=[0xba1*-0x3+0x2100+-0x7*-0x45,-0x3*0x451+-0x1f9c+-0xb*-0x40d],_0x30440e=[0x15c3+-0xc2*0x3+-0x137d,-0x76d+-0x193*-0x15+0x11*-0x182];let _0x1e0d20,_0xdce6f9,_0x48e638;for(let _0x1c7c03=-0x218*-0x7+-0x23aa+-0x1*-0x1502;_0x1c7c03<this['precision']+(0x3de+0x1aad+-0x1e8a);_0x1c7c03++){const _0x569e79=Math['min'](_0x1c7c03,this['precision']-(-0x23db+-0x2c*0xb+-0x97*-0x40));for(let _0x2c6088=0x1f4c+-0xf8c+0x30*-0x54;_0x2c6088<0x1*0x1c1+-0xfd5+0xe16;_0x2c6088++)_0x1e0d20=_0x14c52b[_0x2c6088][_0x569e79*(-0x110d+0x3d*-0x7d+-0x2ed9*-0x1)+(0x792+-0xa6e*0x1+0x2dc)]*_0xf26ae4+_0x3975b5[_0x2c6088],_0xdce6f9=_0x14c52b[_0x2c6088][_0x569e79*(0x1582*-0x1+-0x1*-0x7b+0x150a)+(-0x215d+0x926*-0x1+0x4*0xaa1)]*_0xf26ae4+_0x17a1aa[_0x2c6088],_0x48e638=_0x14c52b[_0x2c6088][_0x569e79*(-0x1605*0x1+-0x1fff+0x1*0x3607)+(0x2*0xf7d+-0x1d49+0x1af*-0x1)]*_0xf26ae4+_0x58bea8[_0x2c6088],_0x33f617=Math['min'](_0x1e0d20,_0x33f617),_0x320624=Math['min'](_0xdce6f9,_0x320624),_0x91f855=Math['min'](_0x48e638,_0x91f855),_0x3470f5=Math['max'](_0x1e0d20,_0x3470f5),_0x29a998=Math['max'](_0xdce6f9,_0x29a998),_0x33fe36=Math['max'](_0x48e638,_0x33fe36),_0x3975b5[_0x2c6088]=_0x1e0d20,_0x17a1aa[_0x2c6088]=_0xdce6f9,_0x58bea8[_0x2c6088]=_0x48e638;for(let _0xa42888=0x144d+-0x24f+-0x11fe;_0xa42888<-0x128d+0x1719+-0x48a;_0xa42888++)_0x30440e[_0xa42888]+=_0xf26ae4*Math['sqrt'](_0x2ce439[_0xa42888][_0x569e79*(0x2e*-0xa1+-0x2d*-0xf+0x1a4e)+(-0x1f14+0x1*-0x1228+-0x2e*-0x112)]*_0x2ce439[_0xa42888][_0x569e79*(0xc6c+0x773+-0x13dc)+(-0x1ae1+-0x4d1*-0x3+0xc6e)]+_0x2ce439[_0xa42888][_0x569e79*(-0x1968+-0x2f*-0x1b+0xc2*0x1b)+(-0x1a60+0x755*0x2+0xbb7)]*_0x2ce439[_0xa42888][_0x569e79*(-0x817+-0x193a+0x2154)+(-0x1*0xda9+-0x2*0x455+0x1654)]+_0x2ce439[_0xa42888][_0x569e79*(0xf98+0x49d*-0x5+-0x1df*-0x4)+(-0x3e7+0x1f25*-0x1+0x281*0xe)]*_0x2ce439[_0xa42888][_0x569e79*(-0x1f50+0x521*0x6+0x8d)+(0x1832+0x1073+-0x28a3)]);_0xe31fb2[0x63+0x3*0xa6f+-0x1fb0]+=this['qRadialSpe'+'ed'][_0x569e79]*_0xf26ae4,_0xe31fb2[-0xb38+-0x2306+0x2e3f]+=this['qRadialSpe'+'ed2'][_0x569e79]*_0xf26ae4,_0x2dde78=Math['max'](_0x2dde78,Math['max'](Math['abs'](_0xe31fb2[-0x242b+0x248b+0xc*-0x8]),Math['abs'](_0xe31fb2[-0x1*-0x1de3+0x1635+-0x3417]))),_0x131df2=Math['max'](_0x131df2,this['qScale'][_0x569e79]);}this['emitterSha'+'pe']===ai?(_0x1e0d20=this['emitterExt'+'ents']['x']*(0xa84+-0x2*0x2d4+-0x4dc+0.5),_0xdce6f9=this['emitterExt'+'ents']['y']*(-0xa1f+0x147*0x5+0x3bc+0.5),_0x48e638=this['emitterExt'+'ents']['z']*(0x1b3a+0x1*0x135e+-0x2e98+0.5)):(_0x1e0d20=this['emitterRad'+'ius'],_0xdce6f9=this['emitterRad'+'ius'],_0x48e638=this['emitterRad'+'ius']);const _0x230f46=Math['max'](_0x30440e[0x47b*-0x5+-0xec7+0x1297*0x2],_0x30440e[-0xed9*0x1+-0x10f3*-0x1+-0x219]);mc['x']=_0x33f617-_0x131df2-_0x1e0d20-_0x2dde78-_0x230f46,mc['y']=_0x320624-_0x131df2-_0xdce6f9-_0x2dde78-_0x230f46,mc['z']=_0x91f855-_0x131df2-_0x48e638-_0x2dde78-_0x230f46,_c['x']=_0x3470f5+_0x131df2+_0x1e0d20+_0x2dde78+_0x230f46,_c['y']=_0x29a998+_0x131df2+_0xdce6f9+_0x2dde78+_0x230f46,_c['z']=_0x33fe36+_0x131df2+_0x48e638+_0x2dde78+_0x230f46,this['localBound'+'s']['setMinMax'](mc,_c);}['rebuild'](){const _0x1e0b01=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===ai?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>nu||_0x1e0b01['maxVertexT'+'extures']<=0xfb5+0x17f*-0x5+-0x839||_0x1e0b01['fragmentUn'+'iformsCoun'+'t']<-0x5*0x1ec+-0x206c+-0x1c3*-0x18||_0x1e0b01['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x1e0b01['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],bi=this['useCpu']||this['pack8']?0x281*0x1+0x161*-0xc+-0x3b*-0x3d:0xb92+0x613*-0x1+-0x57d,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=Y['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0x1f66+0x19f4+-0x395a]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][0xe*0x2c5+0x2701+0x2*-0x26e3]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x1*-0xa11+0x14e3+-0xad0),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x36ed7c=0x5e7*0x1+-0x50d*0x6+0x1867;_0x36ed7c<this['numParticl'+'es'];_0x36ed7c++)this['vbToSort'][_0x36ed7c]=[-0x718*-0x1+-0x5*-0x4f7+0x1feb*-0x1,0x12a5+-0x2*0x10c9+0xeed*0x1];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*bi*pc);const _0x28dd77=this['node']===null||this['localSpace']?D['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===ai&&(this['node']===null||this['localSpace']?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['spawnBound'+'s']):Ur['setTRS'](D['ZERO'],this['node']['getRotatio'+'n'](),lg['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),Ai[-0x1*-0x1e42+0x5ea*-0x4+-0x69a]=this['emitterExt'+'ents']['x']!==0xae5*-0x1+-0x1*-0x229a+0x77*-0x33?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0xd18+-0x18+0x1a*-0x80,Ai[-0x1*0x19d7+-0x2*-0x3af+0x127a]=this['emitterExt'+'ents']['y']!==0xa2e+-0x2*0x6b8+0x342?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x16ce*0x1+-0x2561*-0x1+-0xe93,Ai[-0x1*0x706+-0x1*-0x241+0x4c7]=this['emitterExt'+'ents']['z']!==0x115*0x21+0x1732*0x1+-0x3ae7?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0x1*-0xb03+-0x65*-0x3b+-0x9d*0x14);for(let _0x19ec43=0x6b*-0x2c+-0x25f7+0x385b;_0x19ec43<this['numParticl'+'es'];_0x19ec43++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Ur,Ai,_0x28dd77,_0x19ec43),this['useCpu']&&(this['particleTe'+'x'][_0x19ec43*pc+(0x5a+0x26cf+-0x2726)+this['numParticl'+'esPot']*(0x7*-0x32d+0x207*0x13+-0x1048)*pc]=0x4*-0x55d+0x1*-0xd0a+-0x1*-0x227f);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*bi*pc);for(let _0x236a8b=0xba3+0x1*0x184+0x103*-0xd;_0x236a8b<this['particleTe'+'xStart']['length'];_0x236a8b++)this['particleTe'+'xStart'][_0x236a8b]=this['particleTe'+'x'][_0x236a8b];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=xs(_0x1e0b01,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,0x24e8+0xaa*0xa+-0x2b8b,!(-0xa76+-0x1bac+0x2623)),this['particleTe'+'xOUT']=xs(_0x1e0b01,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,0x1*-0xc7a+-0x1008+0x1c83,!(-0x267b+-0xb90+0x320c)),this['particleTe'+'xStart']=xs(_0x1e0b01,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'],Ne,0x2545+-0x242a+-0x11a,!(0x30b+0x9*0x301+-0x1e13))):(this['particleTe'+'xIN']=xs(_0x1e0b01,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xOUT']=xs(_0x1e0b01,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xStart']=xs(_0x1e0b01,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new gt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(0xba9+-0x43f*-0x5+-0x20e3)}),this['rtParticle'+'TexOUT']=new gt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(-0x1861*-0x1+0xee0+-0x2740)}),this['swapTex']=!(-0x1bd7+-0x1b3a+0x3712));const _0x302966=new Map();this['localSpace']&&_0x302966['set']('LOCAL_SPAC'+'E',''),this['pack8']&&_0x302966['set']('PACK8',''),this['emitterSha'+'pe']===ai&&_0x302966['set']('EMITTERSHA'+'PE_BOX','');const _0x207cd6='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'],_0x41a220=Pe['get'](_0x1e0b01,_0x1e0b01['isWebGPU']?it:Fe),_0x54ec31=new Map(_0x41a220),_0x100f9a={'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'particle_s'+'imulationP'+'S','fragmentDefines':_0x302966,'fragmentIncludes':_0x54ec31};_0x100f9a['uniqueName']='ParticleUp'+'dateRespaw'+'n-'+_0x207cd6,_0x302966['set']('RESPAWN',''),this['shaderPart'+'icleUpdate'+'Respawn']=$t['createShad'+'er'](_0x1e0b01,_0x100f9a),_0x302966['delete']('RESPAWN'),_0x100f9a['uniqueName']='ParticleUp'+'dateNoResp'+'awn-'+_0x207cd6,_0x302966['set']('NO_RESPAWN',''),this['shaderPart'+'icleUpdate'+'NoRespawn']=$t['createShad'+'er'](_0x1e0b01,_0x100f9a),_0x302966['delete']('NO_RESPAWN'),_0x100f9a['uniqueName']='ParticleUp'+'dateStop-'+_0x207cd6,_0x302966['set']('ON_STOP',''),this['shaderPart'+'icleUpdate'+'OnStop']=$t['createShad'+'er'](_0x1e0b01,_0x100f9a),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:0x20fc+-0xbe1+-0x1517,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][-0x1a0+0x1e5d+-0x41b*0x7]['numIndices']:0x3*-0x8d5+0x15c5+0x4c0,this['_allocate'](this['numParticl'+'es']);const _0x345933=new Ge(_0x1e0b01);_0x345933['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x345933['indexBuffe'+'r'][0x1*0xce+0x2b5*-0x8+0x14da]=this['indexBuffe'+'r'],_0x345933['primitive'][0xb0b+-0x1de4+0x12d9]['type']=js,_0x345933['primitive'][-0xd2c+-0x30e*-0x2+0x388*0x2]['base']=0x1*0x115b+0x1c5e+-0x2db9,_0x345933['primitive'][-0x5bc+-0x2b3*0x2+0xb22]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x345933['primitive'][0xf9c+0x737*0x1+-0x16d3]['indexed']=!(0x11b6+0x1540+0x26f6*-0x1),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x2494c9=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(0x2412+-0x1f*-0x65+-0x304d);this['meshInstan'+'ce']=new He(_0x345933,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(0x1fe0+0x270a+-0x46e9),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(-0x1*0x1675+0x1c81+-0x204*0x3),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(0xc47+-0x2684+0x1a3e),this['meshInstan'+'ce']['visible']=_0x2494c9,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](0x1680+-0x20a3+0xa23,!(0x56b+0x3*-0x49+-0x48f)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=0x166b+-0xddb*-0x1+-0x2445&&(this['animTilesX']>-0x2*-0x1225+0x24d7*-0x1+0x8e||this['animTilesY']>0x195f*0x1+0x22e1+-0x3c3f)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0xfd83f1=this['precision'],_0x39dc2b=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0xfd83f1),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0xfd83f1),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0xfd83f1,0x2654+-0x5ad*0x1+-0x20a7,0xa4*0x2+-0x123c*0x1+0x3*0x5a7),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0xfd83f1),this['qScale']=this['scaleGraph']['quantize'](_0xfd83f1),this['qAlpha']=this['alphaGraph']['quantize'](_0xfd83f1),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0xfd83f1),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0xfd83f1),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0xfd83f1),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0xfd83f1,0x5*0x233+-0x16e*-0x6+-0x1*0x1393,-0x13a3+0xa06+-0x4cf*-0x2),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0xfd83f1),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0xfd83f1),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0xfd83f1),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0xfd83f1);for(let _0x4006d0=-0x1*-0x264b+0x1ae3+-0x412e;_0x4006d0<_0xfd83f1;_0x4006d0++)this['qRotSpeed'][_0x4006d0]*=Y['DEG_TO_RAD'],this['qRotSpeed2'][_0x4006d0]*=Y['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(0x417+0x1936+-0x1d4a),this['velocityUM'+'ax']=new Float32Array(-0xd3*0xe+-0x6*0x2e5+0x1ceb),this['colorUMax']=new Float32Array(0xb7d*0x3+0x1*0x227e+0xa*-0x6e5),this['rotSpeedUM'+'ax']=[-0x1f*0x91+-0x1*-0x53b+0x1*0xc54],this['scaleUMax']=[-0x1022+-0x7a*-0x2b+-0x45c],this['alphaUMax']=[-0x1*0x655+0x2636+0x1fe1*-0x1],this['radialSpee'+'dUMax']=[-0x7*0xb7+-0x17ca+-0xd*-0x237],this['qLocalVelo'+'cityDiv']=Br(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Br(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Br(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Br(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Br(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Br(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Br(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x263ee7=[-0x2f*-0x18+0x1a1c+-0x1e84,0x1*-0x6a7+0x1*-0x1dfa+0x24a1,0x592+-0x6*-0x5d5+-0x2890];Xr(this['qVelocity'],_0x263ee7);const _0x201833=[0x1695+-0x1fc0+0x92b,-0x709*0x1+0xe21+-0x1*0x718,-0x1f63+0x1a79+0x4ea];Xr(this['qVelocity2'],_0x201833);const _0x1b08aa=[0xaf9+0x184a+-0x2343,0x3*0xbf9+0x6*0x389+0x5*-0xb6d,0x1282*-0x2+-0x136d+-0x3871*-0x1];Xr(this['qLocalVelo'+'city'],_0x1b08aa);const _0x521a7c=[0xd6*0xa+-0x3*0x697+0xb69,-0x1d*0x42+-0x228e+0x2a08,0x26f+-0x1*0x1119+0xeaa];Xr(this['qLocalVelo'+'city2'],_0x521a7c);const _0x5bf8e3=[0x1*0x1f51+0x11e5*-0x1+-0xd6c];Xr(this['qRadialSpe'+'ed'],_0x5bf8e3);const _0x506616=[-0x49*0x49+-0x497+-0x43c*-0x6];Xr(this['qRadialSpe'+'ed2'],_0x506616);let _0x1c005c=Math['max'](_0x263ee7[-0x130d+-0xc09+0x1f16],_0x201833[-0x176c+-0x48b*-0x5+0xb5]);_0x1c005c=Math['max'](_0x1c005c,_0x263ee7[0x6d6+-0x1029+0x954]),_0x1c005c=Math['max'](_0x1c005c,_0x201833[0x944+-0x1b31+0x11ee]),_0x1c005c=Math['max'](_0x1c005c,_0x263ee7[-0x9f2*-0x3+0x1517+-0xa2f*0x5]),_0x1c005c=Math['max'](_0x1c005c,_0x201833[0x2298+-0xbf+0x1*-0x21d7]);let _0x3ae5c7=Math['max'](_0x1b08aa[0x1d3a*0x1+0x4*-0x1a+-0x1cd2],_0x521a7c[-0x1390+-0x26f3+0x1381*0x3]);_0x3ae5c7=Math['max'](_0x3ae5c7,_0x1b08aa[-0x1*-0xc95+0x1b87+0x281b*-0x1]),_0x3ae5c7=Math['max'](_0x3ae5c7,_0x521a7c[0x5*-0x69c+-0xe8d+-0x3*-0xfde]),_0x3ae5c7=Math['max'](_0x3ae5c7,_0x1b08aa[-0x2641+0xb9b+0x1aa8]),_0x3ae5c7=Math['max'](_0x3ae5c7,_0x521a7c[-0x1e40+0xb*0x1df+-0x1*-0x9ad]);const _0x4f1ed7=Math['max'](_0x5bf8e3[0x6ab+-0x1462+-0x1*-0xdb7],_0x506616[-0x263f+0x1598+0x10a7]);this['maxVel']=_0x1c005c+_0x3ae5c7+_0x4f1ed7;}this['useCpu']||(this['internalTe'+'x0']=xs(_0x39dc2b,_0xfd83f1,-0x2*0x9eb+0x10de+0x2f9,cg(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=xs(_0x39dc2b,_0xfd83f1,0x1036+-0x1b9d+0x2*0x5b4,cg(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=xs(_0x39dc2b,_0xfd83f1,0x5*0x4df+-0xff8+-0x862,xA(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=xs(_0x39dc2b,_0xfd83f1,-0x60c+-0x1de6+-0x23f3*-0x1,TA(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=xs(_0x39dc2b,_0xfd83f1,-0xe9*-0x18+0x3*-0xcc7+0x107e,vA(this['qColor'],this['qAlpha']),_s,0x25b9+-0x48b*0x3+-0x1*0x1817,!(0x53+-0x3db+0x388));}['_setMateri'+'alTextures'](){this['colorMap']&&(w['call'](()=>{py(this['colorMap']['format'])&&w['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x15f982=new SA(this);return _0x15f982['name']='EmitterMat'+'erial:'+this['node']['name'],_0x15f982['cull']=bt,_0x15f982['alphaWrite']=!(-0x88a*0x4+0x159a+0xc8f),_0x15f982['blendType']=this['blendType'],_0x15f982['depthWrite']=this['depthWrite'],_0x15f982;}['resetMater'+'ial'](){const _0x25b99e=this['material'];_0x25b99e['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x25b99e['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x25b99e['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x25b99e['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x25b99e['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x25b99e['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x25b99e['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x25b99e['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x25b99e['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x25b99e['setParamet'+'er']('colorParam',this['colorParam']),_0x25b99e['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x25b99e['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x25b99e['setParamet'+'er']('lifetime',this['lifetime']),_0x25b99e['setParamet'+'er']('rate',this['rate']),_0x25b99e['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x25b99e['setParamet'+'er']('seed',this['seed']),_0x25b99e['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][-0xa91+-0x2*0x1231+0x2ef3]),_0x25b99e['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][-0x7c2*0x3+-0x6*-0x55b+0x54*-0x1b]),_0x25b99e['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][0xbe7+0x23ff+0x2*-0x17f3]),_0x25b99e['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x25b99e['setParamet'+'er']('graphSampl'+'eSize',(-0xf28+-0x57f+0x8*0x295)/this['precision']),_0x25b99e['setParamet'+'er']('emitterSca'+'le',new Float32Array([0x101*-0x1b+-0x1*-0xc0a+0xf12,0x97*-0x3f+-0x695*-0x1+0x1e95,-0x202+0x2419+0x2216*-0x1])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x25b99e['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x25b99e['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x25b99e['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][-0x181f+0x1931+-0x112]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][-0x83*0x1+0x32*0x27+0x1*-0x71a]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][0x1003+-0x2*0x13e+-0xd85]=this['wrapBounds']['z'],_0x25b99e['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>-0x1*-0x2662+-0xcf*0x1+-0x2593&&_0x25b99e['setParamet'+'er']('softening',(-0x250+-0x1*0x7+0x18*0x19)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(0x1bf1+-0x38b*-0x1+0x638*-0x5))),this['stretch']>-0x17e1+-0x1*0x159b+0x47*0xa4&&(_0x25b99e['cull']=bt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x132455,_0x3db388;if(this['orientatio'+'n']===yh)_0x132455=new Float32Array([0x2081+-0x16b5+0x9cb*-0x1,-0x1f*-0xe3+0x4d2+-0x204f,0x1dd8+0xaa8+-0x2880]),_0x3db388=new Float32Array([0x14e2+0xd*-0xc1+0xb15*-0x1,-0xc*0x1db+-0x1169+-0x1*-0x27ad,0x841*-0x1+-0x157b*0x1+0x1*0x1dbd]);else{let _0x1aeb77;this['orientatio'+'n']===Vw?_0x1aeb77=this['particleNo'+'rmal']['normalize']():_0x1aeb77=(this['node']===null?te['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x20e6ac=new D(0x4b*-0x59+0x9cb+0x1049,-0x19fe+-0x1*-0x1a07+0x1*-0x9,-0x1*0x1163+0x134a+-0x1e7*0x1);Math['abs'](_0x20e6ac['dot'](_0x1aeb77))===-0x1*0x689+-0x6f*-0x13+-0x3*0x91&&_0x20e6ac['set'](0x329*-0xc+-0x2*-0x135c+-0xcc,-0x23db+0xfe2+0x13f9*0x1,0xbc6+-0x8*-0x327+-0x24fd);const _0x106d42=new D()['cross'](_0x1aeb77,_0x20e6ac)['normalize']();_0x20e6ac['cross'](_0x106d42,_0x1aeb77)['normalize'](),_0x132455=new Float32Array([_0x20e6ac['x'],_0x20e6ac['y'],_0x20e6ac['z']]),_0x3db388=new Float32Array([_0x106d42['x'],_0x106d42['y'],_0x106d42['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x132455),this['material']['setParamet'+'er']('faceBinorm',_0x3db388);}['getVertexI'+'nfo'](){const _0x35ae16=[];return this['useCpu']?_0x35ae16['push']({'semantic':Jf,'components':0x4,'type':Ve},{'semantic':uh,'components':0x4,'type':Ve},{'semantic':Ap,'components':0x4,'type':Ve},{'semantic':Cp,'components':0x1,'type':Ve},{'semantic':Pp,'components':this['useMesh']?-0x44*-0x22+0x337*-0x1+0x3*-0x1ef:-0x1c*0x11+0x7ef+0x611*-0x1,'type':Ve}):(_0x35ae16['push']({'semantic':Jf,'components':0x4,'type':Ve}),this['useMesh']&&_0x35ae16['push']({'semantic':uh,'components':0x2,'type':Ve})),_0x35ae16;}['_allocate'](_0x2c0332){const _0xd56a6b=_0x2c0332*this['numParticl'+'eVerts'],_0xb4e9e1=_0x2c0332*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(-0xcb*0x25+0x1211+-0x27*-0x4a)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0xd56a6b){const _0x5f43b4=this['getVertexI'+'nfo'](),_0x4dc54f=new kt(this['graphicsDe'+'vice'],_0x5f43b4);this['vertexBuff'+'er']=new Is(this['graphicsDe'+'vice'],_0x4dc54f,_0xd56a6b,{'usage':lh}),this['indexBuffe'+'r']=new br(this['graphicsDe'+'vice'],wr,_0xb4e9e1);const _0x370190=new Float32Array(this['vertexBuff'+'er']['lock']());let _0x4162df,_0x4b0791,_0x58e58f;if(this['useMesh']){_0x4162df=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0x4b0791=_0x4162df['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x36305c=-0xb85*0x2+0x1ab0+-0x3a6;_0x36305c<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x36305c++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x36305c]['name']===is){_0x58e58f=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x36305c]['offset']/(0x1ab4+-0x3*0xb33+0x1d*0x3d);break;}}for(let _0x114bc8=0xd8b+-0xeae+0x3*0x61;_0x114bc8<_0xd56a6b;_0x114bc8++){const _0x327371=Math['floor'](_0x114bc8/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x5d2264=_0x114bc8%this['numParticl'+'eVerts'];_0x370190[_0x114bc8*(0x6b*-0x6+0x3*0x2b3+-0x4b*0x13)]=_0x4162df[_0x5d2264*_0x4b0791],_0x370190[_0x114bc8*(-0x1b44+-0x4*-0x200+0x134a)+(0x1658+0x16e+-0x17c5*0x1)]=_0x4162df[_0x5d2264*_0x4b0791+(0x1a37+-0x1f8a*0x1+0x554)],_0x370190[_0x114bc8*(0xd8d*0x1+-0xfca*-0x1+-0x1d51)+(-0x1382+-0x1032+-0x11db*-0x2)]=_0x4162df[_0x5d2264*_0x4b0791+(0x4*-0x61f+0x2f3*0x5+0x1*0x9bf)],_0x370190[_0x114bc8*(0x3ee+-0xc2f+0x1*0x847)+(-0xe4*0x11+-0xa5*0x3+-0x88b*-0x2)]=_0x327371,_0x370190[_0x114bc8*(-0x2c2*0x7+-0x2*-0x130d+-0x3*0x642)+(-0x4*-0x837+-0x21a+-0x1*0x1ebe)]=_0x4162df[_0x5d2264*_0x4b0791+_0x58e58f+(0xeb+-0x9*-0x1b2+-0x102d)],_0x370190[_0x114bc8*(-0x267e*-0x1+0x20*-0x7a+-0x1738)+(-0x179f+0x2202*0x1+0x52f*-0x2)]=0x2*-0x2d2+0x19f5+-0x104*0x14-_0x4162df[_0x5d2264*_0x4b0791+_0x58e58f+(-0x20f+-0x89*0x5+0x4bd)];}else{const _0x2aa553=_0x114bc8%(0x8f8+0x10aa+-0x199e*0x1);_0x370190[_0x114bc8*(0x3be+-0x170*-0xd+-0x166a)]=ig[_0x2aa553][-0x1*0x9a4+0xe17+-0x473*0x1],_0x370190[_0x114bc8*(-0x190d+-0x743*-0x1+0x8e7*0x2)+(0x1c8e+0x3a*0x92+-0x3da1)]=ig[_0x2aa553][0xaf7*-0x2+0x1cbf+-0x6d0],_0x370190[_0x114bc8*(0x202*-0x3+-0x8bd*-0x1+0x2b3*-0x1)+(-0x1888+0x1c29+-0x135*0x3)]=-0x19*0x14f+-0x777+0x2*0x1417,_0x370190[_0x114bc8*(0xe8+-0x3*-0x959+-0x9*0x337)+(-0x1ceb+0x1677+0x677)]=_0x327371;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0x370190),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x5a56be=-0x61a+0xd6e+-0x2*0x3aa;const _0x37e3e3=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x52a433=this['mesh']['indexBuffe'+'r'][-0x17b2+0x126a+0x548];_0x4162df=new Sh[_0x52a433['format']](_0x52a433['lock']());}for(let _0x3d6265=0x671+0x2507+-0x2b78;_0x3d6265<_0x2c0332;_0x3d6265++)if(this['useMesh']){for(let _0x24cfc4=-0x9fb+-0xcc8+0x16c3;_0x24cfc4<this['numParticl'+'eIndices'];_0x24cfc4++)_0x37e3e3[_0x3d6265*this['numParticl'+'eIndices']+_0x24cfc4]=_0x4162df[_0x24cfc4]+_0x3d6265*this['numParticl'+'eVerts'];}else{const _0x5724c3=_0x3d6265*(-0x41b*0x1+-0x5*0x1e8+0xda7);_0x37e3e3[_0x5a56be++]=_0x5724c3,_0x37e3e3[_0x5a56be++]=_0x5724c3+(-0x54*-0x7+0x1142+-0x138d),_0x37e3e3[_0x5a56be++]=_0x5724c3+(0x1f08+-0x1e*-0xa7+-0x3298),_0x37e3e3[_0x5a56be++]=_0x5724c3,_0x37e3e3[_0x5a56be++]=_0x5724c3+(0x18a0+0x8e*0x38+-0x37ae),_0x37e3e3[_0x5a56be++]=_0x5724c3+(0x20*0x8d+0x902+-0x553*0x5);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][-0x517*0x7+-0x1*-0xa82+0x191f*0x1]['unlock']();}}['reset'](){if(this['beenReset']=!(-0x3*-0xd05+0x1*-0x2173+-0x59c),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0x4613a3=-0xb*-0x3+-0x1990*-0x1+-0x1*0x19b1;_0x4613a3<this['particleTe'+'xStart']['length'];_0x4613a3++)this['particleTe'+'x'][_0x4613a3]=this['particleTe'+'xStart'][_0x4613a3];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x264be6=this['loop'];this['loop']=!(0x2298+0xa6*0x4+-0x2530),this['addTime'](-0xd1c+-0x5*0x72+0xf56,!(0xe1b+0x401*-0x2+-0x618)),this['loop']=_0x264be6,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x300a0b){const _0x2338d8=_0x300a0b/this['lifetime'],_0x16102d=Math['min'](Math['floor'](_0x2338d8*this['precision']),this['precision']),_0x1da6d9=_0x300a0b/_0x16102d;for(let _0xbdd633=0x1e67+-0xa6*-0x18+-0x2df7;_0xbdd633<_0x16102d;_0xbdd633++)this['addTime'](_0x1da6d9,!(0x63a+-0xd2f+0xc6*0x9));}['resetTime'](){this['endTime']=wA(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x2ddf97,_0x579df8){const _0x43cbc7=this['graphicsDe'+'vice'],_0x4e2f8d=de();if(this['simTimeTot'+'al']+=_0x2ddf97,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x1e0c02=this['animTilesP'+'arams'];_0x1e0c02[0x1d47+-0x21*-0x105+-0x3eec]=(-0x1685+0x2*0x837+0x14*0x4e)/this['animTilesX'],_0x1e0c02[-0x1dff+0x4*0x6a8+0x360]=(-0x1805+-0x11*-0x232+-0xd4c)/this['animTilesY'];const _0x44f286=this['animParams'];_0x44f286[-0x2*0x582+0x1*-0x172b+-0x222f*-0x1]=this['animStartF'+'rame'],_0x44f286[-0x1*0x448+-0x223b+0x2684]=this['animNumFra'+'mes']*this['animSpeed'],_0x44f286[-0x1*-0xbb6+-0x1*0x1d9f+0x11eb]=this['animNumFra'+'mes']-(-0x1205+-0x1145+0x234b),_0x44f286[0x10*0x79+-0x102c+0x89f]=this['animNumAni'+'mations']-(-0x281*0x5+-0x137*0xb+0x19e3);const _0x463a45=this['animIndexP'+'arams'];_0x463a45[-0x67*-0x59+-0xb07*0x1+0x68*-0x3d]=this['animIndex'],_0x463a45[-0x8b*0x3b+0x2091+-0x87]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===ai&&(Ai[-0x1*-0x20f8+0x10ee+-0x31e6]=this['emitterExt'+'ents']['x']!==0x35b+-0x3e*0x6f+0x1787?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x1*0x1ecc+-0x64c*0x5+0x3e48,Ai[-0x353*0xb+0x1a*-0x77+-0x2*-0x1854]=this['emitterExt'+'ents']['y']!==0x5bf*-0x3+0x92b*0x1+0x812?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x2b*-0x5b+-0xbde*0x1+0xaf*-0x5,Ai[-0xcb0+-0x125c+-0x4b*-0x6a]=this['emitterExt'+'ents']['z']!==0x99a*0x2+-0x1*0x335+-0xfff?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x23*0x57+-0x262e+0x3213,this['meshInstan'+'ce']['node']===null?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['emitterExt'+'ents']):Ur['setTRS'](D['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),lg['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x444199;const _0x4f7dc2=this['meshInstan'+'ce']['node']===null?D['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][0xcb4+0x659+-0x130d]=_0x4f7dc2['x'],this['emitterSca'+'leUniform'][-0x1*0x156d+0x38*-0x17+0x8d2*0x3]=_0x4f7dc2['y'],this['emitterSca'+'leUniform'][0x20b8+0x8*-0x407+-0x7e]=_0x4f7dc2['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x444199=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][0xf13+-0x44*0x6d+0xde1]=_0x444199['x'],this['emitterPos'+'Uniform'][-0x5*0x5fb+-0xde0+0x2bc8]=_0x444199['y'],this['emitterPos'+'Uniform'][-0x4dd*-0x5+-0xc8b+-0xbc4*0x1]=_0x444199['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x43cbc7,Ur,Ai,_0x2ddf97,_0x579df8);else{const _0x1d07f8=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x1d07f8,this['vbToSort'],this['particleTe'+'x'],Ur,Ai,_0x444199,_0x2ddf97,_0x579df8);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(-0x332*-0xc+0x3f*-0x1b+-0x1fb2)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=de()-_0x4e2f8d;}['_destroyRe'+'sources'](){var _0x57872f,_0x2be910,_0x4981cf,_0x50fb49,_0xc105f6,_0x12337e,_0x9b0927,_0x2e38c2,_0x53ec53,_0x1b199c,_0x5608a8,_0x58d715;(_0x57872f=this['particleTe'+'xIN'])==null||_0x57872f['destroy'](),this['particleTe'+'xIN']=null,(_0x2be910=this['particleTe'+'xOUT'])==null||_0x2be910['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x4981cf=this['rtParticle'+'TexIN'])==null||_0x4981cf['destroy'](),this['rtParticle'+'TexIN']=null,(_0x50fb49=this['rtParticle'+'TexOUT'])==null||_0x50fb49['destroy'](),this['rtParticle'+'TexOUT']=null,(_0xc105f6=this['internalTe'+'x0'])==null||_0xc105f6['destroy'](),this['internalTe'+'x0']=null,(_0x12337e=this['internalTe'+'x1'])==null||_0x12337e['destroy'](),this['internalTe'+'x1']=null,(_0x9b0927=this['internalTe'+'x2'])==null||_0x9b0927['destroy'](),this['internalTe'+'x2']=null,(_0x2e38c2=this['internalTe'+'x3'])==null||_0x2e38c2['destroy'](),this['internalTe'+'x3']=null,(_0x53ec53=this['colorParam'])==null||_0x53ec53['destroy'](),this['colorParam']=null,(_0x1b199c=this['vertexBuff'+'er'])==null||_0x1b199c['destroy'](),this['vertexBuff'+'er']=void(-0x2*0xb+0xb*0x5b+-0x3d3),(_0x5608a8=this['indexBuffe'+'r'])==null||_0x5608a8['destroy'](),this['indexBuffe'+'r']=void(-0x1466+-0xacb+0x1f31),(_0x58d715=this['material'])==null||_0x58d715['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class PA extends ya{['generateKe'+'y'](_0x50011e){var _0xa9c3d4;const _0x25ce3c=_0x50011e['shaderDesc'],_0x4a8f1e=_0x25ce3c['vertexGLSL']?hi(_0x25ce3c['vertexGLSL']):-0x21ba+0x4c0+0x1cfa,_0x5a2a0e=_0x25ce3c['fragmentGL'+'SL']?hi(_0x25ce3c['fragmentGL'+'SL']):0x408*-0x1+-0xfcd+0x13d5,_0xc4f53c=_0x25ce3c['vertexWGSL']?hi(_0x25ce3c['vertexWGSL']):0x1d66+-0xf14+-0xe52,_0x23e2d9=_0x25ce3c['fragmentWG'+'SL']?hi(_0x25ce3c['fragmentWG'+'SL']):0x3a*-0x2e+-0xd84+0x17f0,_0x45fa29=ya['definesHas'+'h'](_0x50011e['defines']),_0x195ed6=((_0xa9c3d4=_0x50011e['shaderChun'+'ks'])==null?void(0x15dd+-0x10ee*-0x1+-0x26cb*0x1):_0xa9c3d4['key'])??'';let _0x129f4a=_0x25ce3c['uniqueName']+'_'+_0x45fa29+'_'+_0x4a8f1e+'_'+_0x5a2a0e+'_'+_0xc4f53c+'_'+_0x23e2d9+'_'+_0x195ed6;return _0x50011e['skin']&&(_0x129f4a+='_skin'),_0x50011e['useInstanc'+'ing']&&(_0x129f4a+='_inst'),_0x50011e['useMorphPo'+'sition']&&(_0x129f4a+='_morphp'),_0x50011e['useMorphNo'+'rmal']&&(_0x129f4a+='_morphn'),_0x50011e['useMorphTe'+'xtureBased'+'Int']&&(_0x129f4a+='_morphi'),_0x129f4a;}['createAttr'+'ibutesDefi'+'nition'](_0x119a4d,_0x31bad2){const _0x9d6b5e=_0x31bad2['shaderDesc']['attributes'],_0x35cef1=_0x9d6b5e?{..._0x9d6b5e}:void(-0x24*-0x6b+-0x559+-0xbf*0xd);_0x31bad2['skin']&&(_0x35cef1['vertex_bon'+'eWeights']=gi,_0x35cef1['vertex_bon'+'eIndices']=us),(_0x31bad2['useMorphPo'+'sition']||_0x31bad2['useMorphNo'+'rmal'])&&(_0x35cef1['morph_vert'+'ex_id']=Ln),_0x119a4d['attributes']=_0x35cef1;}['createVert'+'exDefiniti'+'on'](_0x4c884f,_0x3208de,_0x14276d,_0x4a6094){const _0x37357a=_0x3208de['shaderDesc'],_0x2f5e65=new Map(_0x14276d);_0x2f5e65['set']('transformI'+'nstancingV'+'S','');const _0x565181=new Map(_0x3208de['defines']);_0x3208de['skin']&&_0x565181['set']('SKIN',!(0x20e6+0x11*-0x9f+0x1*-0x1657)),_0x3208de['useInstanc'+'ing']&&_0x565181['set']('INSTANCING',!(0x92c+-0x1607+0xcdb)),(_0x3208de['useMorphPo'+'sition']||_0x3208de['useMorphNo'+'rmal'])&&(_0x565181['set']('MORPHING',!(-0x1ecb+-0x195d+0x3828)),_0x3208de['useMorphTe'+'xtureBased'+'Int']&&_0x565181['set']('MORPHING_I'+'NT',!(0x88f+0x353+-0x75*0x1a)),_0x3208de['useMorphPo'+'sition']&&_0x565181['set']('MORPHING_P'+'OSITION',!(-0x7ea+-0xb*-0x277+-0x5*0x3d7)),_0x3208de['useMorphNo'+'rmal']&&_0x565181['set']('MORPHING_N'+'ORMAL',!(-0xa0f*0x1+-0x1*0x15b6+-0x3*-0xa97))),_0x4c884f['vertexCode']=_0x4a6094?_0x37357a['vertexWGSL']:_0x37357a['vertexGLSL'],_0x4c884f['vertexIncl'+'udes']=_0x2f5e65,_0x4c884f['vertexDefi'+'nes']=_0x565181;}['createFrag'+'mentDefini'+'tion'](_0xa00ba8,_0x1b8d17,_0x5a6060,_0x3824d6){const _0x3a8828=_0x1b8d17['shaderDesc'],_0xd125bb=new Map(_0x5a6060),_0x3d019e=new Map(_0x1b8d17['defines']);_0xa00ba8['fragmentCo'+'de']=_0x3824d6?_0x3a8828['fragmentWG'+'SL']:_0x3a8828['fragmentGL'+'SL'],_0xa00ba8['fragmentIn'+'cludes']=_0xd125bb,_0xa00ba8['fragmentDe'+'fines']=_0x3d019e;}['createShad'+'erDefiniti'+'on'](_0x324a15,_0x4aa115){var _0x3c28f4;const _0x1e7972=_0x4aa115['shaderDesc'],_0x210687=_0x324a15['isWebGPU']&&!!_0x1e7972['vertexWGSL']&&!!_0x1e7972['fragmentWG'+'SL']&&(((_0x3c28f4=_0x4aa115['shaderChun'+'ks'])==null?void(0x1*0x2a0+0x8*0x24+-0x3c0):_0x3c28f4['useWGSL'])??!(0x13d*0xd+0x624+0x163d*-0x1)),_0x1e06e0={'name':'ShaderMate'+'rial-'+_0x1e7972['uniqueName'],'shaderLanguage':_0x210687?it:Fe,'fragmentOutputTypes':_0x1e7972['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0x1e7972['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x1e7972['meshBindGr'+'oupFormat']},_0x1e9b3d=_0x210687?it:Fe,_0x43baff=bh['merge'](Pe['get'](_0x324a15,_0x1e9b3d),_0x4aa115['shaderChun'+'ks'][_0x1e9b3d]);return this['createAttr'+'ibutesDefi'+'nition'](_0x1e06e0,_0x4aa115),this['createVert'+'exDefiniti'+'on'](_0x1e06e0,_0x4aa115,_0x43baff,_0x210687),this['createFrag'+'mentDefini'+'tion'](_0x1e06e0,_0x4aa115,_0x43baff,_0x210687),Jt['createDefi'+'nition'](_0x324a15,_0x1e06e0);}}const MA=new PA();class Xn extends tr{constructor(_0xbe6194){super(),h(this,'_shaderDes'+'c'),this['shaderDesc']=_0xbe6194;}set['shaderDesc'](_0x4700d5){if(this['_shaderDes'+'c']=void(-0x12a*0x1+-0xeef+-0x13d*-0xd),_0x4700d5&&(this['_shaderDes'+'c']={'uniqueName':_0x4700d5['uniqueName'],'attributes':_0x4700d5['attributes'],'fragmentOutputTypes':_0x4700d5['fragmentOu'+'tputTypes'],'vertexGLSL':_0x4700d5['vertexGLSL'],'fragmentGLSL':_0x4700d5['fragmentGL'+'SL'],'vertexWGSL':_0x4700d5['vertexWGSL'],'fragmentWGSL':_0x4700d5['fragmentWG'+'SL']},_0x4700d5['vertexCode']||_0x4700d5['fragmentCo'+'de']||_0x4700d5['shaderLang'+'uage'])){w['deprecated']('ShaderMate'+'rial\x20['+_0x4700d5['uniqueName']+(']:\x20vertexC'+'ode,\x20fragm'+'entCode\x20an'+'d\x20shaderLa'+'nguage\x20pro'+'perties\x20of'+'\x20ShaderDes'+'c\x20is\x20depre'+'cated.\x20Use'+'\x20vertexGLS'+'L,\x20fragmen'+'tGLSL,\x20ver'+'texWGSL\x20or'+'\x20fragmentW'+'GSL\x20instea'+'d.'));const _0x326d3d=_0x4700d5['shaderLang'+'uage']??Fe;_0x326d3d===Fe?(this['_shaderDes'+'c']['vertexGLSL']=_0x4700d5['vertexCode'],this['_shaderDes'+'c']['fragmentGL'+'SL']=_0x4700d5['fragmentCo'+'de']):_0x326d3d===it&&(this['_shaderDes'+'c']['vertexWGSL']=_0x4700d5['vertexCode'],this['_shaderDes'+'c']['fragmentWG'+'SL']=_0x4700d5['fragmentCo'+'de']);}this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0x3a603c){return super['copy'](_0x3a603c),this['shaderDesc']=_0x3a603c['shaderDesc'],this;}['getShaderV'+'ariant'](_0x27c76c){const {objDefs:_0x124901}=_0x27c76c,_0x1b0b51={'defines':$t['getCoreDef'+'ines'](this,_0x27c76c),'skin':(_0x124901&nl)!==0x21*-0x9b+0x2d8*-0xb+0x3343,'useInstancing':(_0x124901&ol)!==-0x57*0x59+-0xe95*0x2+0x43*0xe3,'useMorphPosition':(_0x124901&ll)!==-0x37*0x88+-0xfdd+0x1*0x2d15,'useMorphNormal':(_0x124901&cl)!==0x7a6+0x812+-0x4*0x3ee,'useMorphTextureBasedInt':(_0x124901&hl)!==0x182a+-0x143a+0x6*-0xa8,'pass':_0x27c76c['pass'],'gamma':_0x27c76c['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0x27c76c['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0x27c76c['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'shaderChunks':this['shaderChun'+'ks']},_0x4561f9=new Ad(_0x27c76c['viewUnifor'+'mFormat'],_0x27c76c['viewBindGr'+'oupFormat'],_0x27c76c['vertexForm'+'at']),_0x255083=Hn(_0x27c76c['device']);return _0x255083['register']('shader-mat'+'erial',MA),_0x255083['getProgram']('shader-mat'+'erial',_0x1b0b51,_0x4561f9,this['userId']);}}const Iv=(_0x13bb90,_0x14d2f6)=>{const _0x352144=_0x14d2f6['length']/(-0x3d8+0x416*0x1+-0x3b),_0x275e53=_0x13bb90['length']/(-0x161b*-0x1+-0x22*0xca+0x4bc),_0x557d33=new D(),_0xafc365=new D(),_0x5c39ab=new D(),_0x2c7e2d=new D(),_0x17b1c8=new D(),_0x26ca1a=new D(),_0x6855e3=[];for(let _0x16ebfd=0x119b+-0x17d4+0x639;_0x16ebfd<_0x13bb90['length'];_0x16ebfd++)_0x6855e3[_0x16ebfd]=-0x1a6c+0x8b8+-0xce*-0x16;for(let _0x298764=-0x1*-0x161f+0x1af4+-0x1*0x3113;_0x298764<_0x352144;_0x298764++){const _0x7a3dc=_0x14d2f6[_0x298764*(0x873*-0x1+0x2499+-0x93*0x31)],_0x3c4875=_0x14d2f6[_0x298764*(-0x4ff*-0x1+-0x1*-0x13a5+0x18a1*-0x1)+(-0x1*-0x253+0x1*-0x103d+-0xdeb*-0x1)],_0x57bf94=_0x14d2f6[_0x298764*(0x24*0x6a+0x190b+-0x27f0)+(0xb7f*0x2+0x17f6+-0x2ef2)];_0x557d33['set'](_0x13bb90[_0x7a3dc*(-0x1bce+0x1964+0x9*0x45)],_0x13bb90[_0x7a3dc*(0xbee+-0xab0+-0x23*0x9)+(-0xc1*0x25+0x1733*-0x1+-0x3319*-0x1)],_0x13bb90[_0x7a3dc*(-0x140d+-0x15d*-0x5+0xd3f)+(-0x107b+0x601+0xa7c)]),_0xafc365['set'](_0x13bb90[_0x3c4875*(0x829+-0xbd*0x16+0x4*0x206)],_0x13bb90[_0x3c4875*(0x14b5*0x1+-0x3df+-0x1*0x10d3)+(-0x61*-0x4+0x146e+-0x89*0x29)],_0x13bb90[_0x3c4875*(0x2fa+0x1*0x139a+-0x1691)+(0x8b6+0x1835+-0x20e9)]),_0x5c39ab['set'](_0x13bb90[_0x57bf94*(-0x24*-0x6f+0x10bb+-0x2054)],_0x13bb90[_0x57bf94*(0x77b+-0x1256+0x1a*0x6b)+(-0x23bf*0x1+0x20a0+0x320)],_0x13bb90[_0x57bf94*(0x26c1+0x1*-0x157f+-0x113f)+(0x1673+0x1144+-0x27b5)]),_0x2c7e2d['sub2'](_0xafc365,_0x557d33),_0x17b1c8['sub2'](_0x5c39ab,_0x557d33),_0x26ca1a['cross'](_0x2c7e2d,_0x17b1c8)['normalize'](),_0x6855e3[_0x7a3dc*(-0x74*0x1b+-0x2661+0x32a0)]+=_0x26ca1a['x'],_0x6855e3[_0x7a3dc*(0xc95*0x1+0x1*-0xa4e+-0x244)+(-0xff*-0xd+-0x1edd+0x1*0x11eb)]+=_0x26ca1a['y'],_0x6855e3[_0x7a3dc*(0x1ea+0x5b*0x2+0xdf*-0x3)+(0xb2*0x2f+0xab1+-0x2b5d)]+=_0x26ca1a['z'],_0x6855e3[_0x3c4875*(-0x322*0x3+-0x1*0x1ada+-0x1*-0x2443)]+=_0x26ca1a['x'],_0x6855e3[_0x3c4875*(-0xdec+0xa6b+0x384)+(0xe4*-0x11+0x8*0x1ec+-0x1*0x3b)]+=_0x26ca1a['y'],_0x6855e3[_0x3c4875*(0x24c0+-0x1*-0x191+0x264e*-0x1)+(-0x2a6+0x103a*0x2+0x2*-0xee6)]+=_0x26ca1a['z'],_0x6855e3[_0x57bf94*(-0xb15+-0x62*-0x5b+-0x7ea*0x3)]+=_0x26ca1a['x'],_0x6855e3[_0x57bf94*(0x19*0xb5+0x58f*-0x1+0x409*-0x3)+(-0x71c*0x4+-0x698*-0x4+0x211)]+=_0x26ca1a['y'],_0x6855e3[_0x57bf94*(0x63*-0x65+0xc3d*-0x1+0xa43*0x5)+(-0xa8a+-0x21b2*0x1+0x2c3e)]+=_0x26ca1a['z'];}for(let _0x553c78=-0x1884+0x25e9+-0xd65;_0x553c78<_0x275e53;_0x553c78++){const _0xd0bb91=_0x6855e3[_0x553c78*(-0x1*-0xb42+-0x9aa+0x87*-0x3)],_0x4f337b=_0x6855e3[_0x553c78*(0xc63+0x9a8+-0x1608)+(0x210d+-0x1*0x3c1+0x1*-0x1d4b)],_0x1bb128=_0x6855e3[_0x553c78*(0x2*-0xf59+0x173f*-0x1+0x3*0x11fc)+(0xf5b+0x19c*-0x1+0x1*-0xdbd)],_0x36c1cc=(0x1e8e+0x1e25+-0x3cb2)/Math['sqrt'](_0xd0bb91*_0xd0bb91+_0x4f337b*_0x4f337b+_0x1bb128*_0x1bb128);_0x6855e3[_0x553c78*(-0x99+-0x5*-0x2ec+0x700*-0x2)]*=_0x36c1cc,_0x6855e3[_0x553c78*(0x7*-0x45d+-0x8ee+0x4*0x9df)+(-0x1351+0x1*0x60a+0xd48)]*=_0x36c1cc,_0x6855e3[_0x553c78*(-0x6*-0x4d5+0xdc+-0x1dd7*0x1)+(0x4*-0x133+-0x31*-0x84+0xa3b*-0x2)]*=_0x36c1cc;}return _0x6855e3;},Mr=(_0x37b96d,_0x29ae72,_0x19e5cd,_0x4b1059)=>{const _0x39307f=_0x4b1059['length']/(0x24a+-0x7*-0x269+-0x3*0x662),_0x15b73f=_0x37b96d['length']/(-0x1f7*0xb+-0x9*-0x16a+0x86*0x11),_0x1519ff=new D(),_0x1210f2=new D(),_0x5a8d1e=new D(),_0x2168ff=new J(),_0x13ebe3=new J(),_0x5dc3cd=new J(),_0x56c733=new D(),_0x29cefc=new D(),_0x441714=new Float32Array(_0x15b73f*(-0x1264+-0x21a+0x1481)),_0x49325f=new Float32Array(_0x15b73f*(-0xb10+0x71*0x1e+-0x22b*0x1)),_0x43a3b8=[];for(let _0x5013bf=0x1009+-0x8*0x1ee+-0x1*0x99;_0x5013bf<_0x39307f;_0x5013bf++){const _0xf9bae8=_0x4b1059[_0x5013bf*(-0x1107*0x1+-0xceb*0x2+0x2ae0)],_0x5e113a=_0x4b1059[_0x5013bf*(0x4b1*-0x2+-0x1f70*-0x1+-0x160b)+(0x979+0x23b8*0x1+0x1*-0x2d30)],_0x25a307=_0x4b1059[_0x5013bf*(0x25e2+-0x26a3+-0x4*-0x31)+(-0x41c*-0x7+-0x1bf6+-0xcc)];_0x1519ff['set'](_0x37b96d[_0xf9bae8*(0x202f+-0xc0e+-0x141e)],_0x37b96d[_0xf9bae8*(0x6*0x245+-0x1591+0x7f6)+(-0xa7*0xd+0x20ef*-0x1+0x296b)],_0x37b96d[_0xf9bae8*(-0xf1f+-0x2249+0x316b)+(-0x2*-0x363+-0x5ea+-0xda)]),_0x1210f2['set'](_0x37b96d[_0x5e113a*(-0x971+0x24a9+-0x1b35)],_0x37b96d[_0x5e113a*(0x148*0x17+0x18ef+0x76*-0x76)+(-0x172f+0x1f5f+-0x82f)],_0x37b96d[_0x5e113a*(-0x92*-0x29+0x22*0x4f+-0x21dd*0x1)+(0x2e0*-0x6+-0x3*0x767+0x2777)]),_0x5a8d1e['set'](_0x37b96d[_0x25a307*(0xdb6+-0x489+0x8a*-0x11)],_0x37b96d[_0x25a307*(0x16e8+-0x692*-0x2+-0x2409)+(0x370+-0x1f*0x101+0x1bb0)],_0x37b96d[_0x25a307*(0x269e*-0x1+-0xdb6+0x3457)+(0xa*-0x24a+-0x6ad+0x1d93)]),_0x2168ff['set'](_0x19e5cd[_0xf9bae8*(-0x1b6f+0x8ae*0x4+-0x747)],_0x19e5cd[_0xf9bae8*(0x10a4+0x871+-0x1*0x1913)+(-0x842*-0x1+-0x1*0x241+-0x18*0x40)]),_0x13ebe3['set'](_0x19e5cd[_0x5e113a*(-0xc01*0x1+0x11f0+-0x5ed)],_0x19e5cd[_0x5e113a*(-0x3fe+-0xafd*0x2+0x19fa)+(0xa67*-0x3+0xc*0xb2+0x16de)]),_0x5dc3cd['set'](_0x19e5cd[_0x25a307*(0x73*0xa+0x2347*-0x1+0x1ecb)],_0x19e5cd[_0x25a307*(0x1*-0x1843+-0x924+0x2169)+(-0x52*0x28+-0x1*-0x178f+-0x113*0xa)]);const _0x3cf2b1=_0x1210f2['x']-_0x1519ff['x'],_0x579f11=_0x5a8d1e['x']-_0x1519ff['x'],_0x1e9486=_0x1210f2['y']-_0x1519ff['y'],_0x2b6523=_0x5a8d1e['y']-_0x1519ff['y'],_0x55af98=_0x1210f2['z']-_0x1519ff['z'],_0xf5df36=_0x5a8d1e['z']-_0x1519ff['z'],_0x2391c9=_0x13ebe3['x']-_0x2168ff['x'],_0x4becf0=_0x5dc3cd['x']-_0x2168ff['x'],_0x57c682=_0x13ebe3['y']-_0x2168ff['y'],_0x5a61b6=_0x5dc3cd['y']-_0x2168ff['y'],_0x4740af=_0x2391c9*_0x5a61b6-_0x4becf0*_0x57c682;if(_0x4740af===-0x665*-0x3+0x2*-0x7cc+-0x397*0x1)_0x56c733['set'](0x430+-0x1726+0x12f6,0x2294+-0x224+-0x206f,-0x21*-0x103+0x560+0x1*-0x26c3),_0x29cefc['set'](0x1*0x1c66+0x1e56+-0x3abb,-0x7*-0x38b+0x1*0x851+-0x211e*0x1,-0x1*-0x6d4+-0x10e3+0xa0f);else{const _0x50c19c=(0x425*0x5+0x2*-0x1d5+-0x76*0x25)/_0x4740af;_0x56c733['set']((_0x5a61b6*_0x3cf2b1-_0x57c682*_0x579f11)*_0x50c19c,(_0x5a61b6*_0x1e9486-_0x57c682*_0x2b6523)*_0x50c19c,(_0x5a61b6*_0x55af98-_0x57c682*_0xf5df36)*_0x50c19c),_0x29cefc['set']((_0x2391c9*_0x579f11-_0x4becf0*_0x3cf2b1)*_0x50c19c,(_0x2391c9*_0x2b6523-_0x4becf0*_0x1e9486)*_0x50c19c,(_0x2391c9*_0xf5df36-_0x4becf0*_0x55af98)*_0x50c19c);}_0x441714[_0xf9bae8*(0x1fc7+0x1aa+-0x216e)+(0x101f*-0x2+-0x194*0x1+0x21d2)]+=_0x56c733['x'],_0x441714[_0xf9bae8*(0x2*0x281+0xab7*-0x3+0x1b26)+(0x13a*-0xf+-0x118a*-0x2+-0x10ad)]+=_0x56c733['y'],_0x441714[_0xf9bae8*(0xbd4*-0x1+-0x8*-0x373+0x25*-0x6d)+(0x21*-0x11b+0x1b1f+-0x1*-0x95e)]+=_0x56c733['z'],_0x441714[_0x5e113a*(0xcd7+-0x671*-0x4+-0x2698)+(0x2*0xd98+-0x17ad+-0x383)]+=_0x56c733['x'],_0x441714[_0x5e113a*(-0x53*0x2c+0x2d3+0xb74)+(-0x1*0x599+0x1119+-0xb7f)]+=_0x56c733['y'],_0x441714[_0x5e113a*(-0xb*-0xcd+-0x2665+0x1d99)+(-0x67*-0x27+-0x1*0x1f3c+0xf8d)]+=_0x56c733['z'],_0x441714[_0x25a307*(-0x11a8+-0x293*0xb+-0x3*-0xf54)+(0x17*0x116+-0x180d+-0x3*0x4f)]+=_0x56c733['x'],_0x441714[_0x25a307*(0x1*0x123e+-0x3a*-0xa7+-0x1f*0x1cf)+(0x589+-0x1d07+0x177f)]+=_0x56c733['y'],_0x441714[_0x25a307*(0x21e5*0x1+-0x1*-0x332+0x54*-0x71)+(-0x1f*0xdf+0x695+-0x416*-0x5)]+=_0x56c733['z'],_0x49325f[_0xf9bae8*(-0x3*0x14b+-0x71d+-0x139*-0x9)+(0x1*-0x25f9+0x233e+0x2bb*0x1)]+=_0x29cefc['x'],_0x49325f[_0xf9bae8*(0x145*0xf+0x61*-0x43+0x65b*0x1)+(0x1a23+-0x2176+0x754)]+=_0x29cefc['y'],_0x49325f[_0xf9bae8*(-0x9*0x3ad+-0x16d+0x2285)+(-0x73d+-0x70f+-0x1*-0xe4e)]+=_0x29cefc['z'],_0x49325f[_0x5e113a*(-0xf27+-0x13f1+-0x331*-0xb)+(-0x9b3+0x78c+-0x1*-0x227)]+=_0x29cefc['x'],_0x49325f[_0x5e113a*(-0x1811+-0x562+-0x1a3*-0x12)+(-0x1e01+-0xc81+0x1*0x2a83)]+=_0x29cefc['y'],_0x49325f[_0x5e113a*(0x179*0x14+-0x1e93+0x1*0x122)+(-0xc01+0x1c74+-0x1071)]+=_0x29cefc['z'],_0x49325f[_0x25a307*(0xfed+-0x17d7+0x1*0x7ed)+(-0x225e+-0x2507*-0x1+-0x2a9)]+=_0x29cefc['x'],_0x49325f[_0x25a307*(0x23f*0x2+0x1*0x192+-0x1*0x60d)+(-0x16a6+0x40+0x1667)]+=_0x29cefc['y'],_0x49325f[_0x25a307*(-0x2c0+0x1*0x1447+-0x1184)+(-0x16d*-0x5+-0x1c5*-0x5+0x124*-0xe)]+=_0x29cefc['z'];}const _0x3689fe=new D(),_0x2ec7e0=new D(),_0x410a38=new D(),_0x50c9e0=new D();for(let _0x2f5f57=-0x13d7+-0xe*-0x277+0x1*-0xeab;_0x2f5f57<_0x15b73f;_0x2f5f57++){_0x410a38['set'](_0x29ae72[_0x2f5f57*(-0x6f5+-0x97*-0x21+-0xc7f*0x1)],_0x29ae72[_0x2f5f57*(-0x246*0x5+0x2039+-0xa6c*0x2)+(-0xa34+0x8*0x41b+-0x16a3)],_0x29ae72[_0x2f5f57*(0x3f*0x1d+0xc53+0xd*-0x17f)+(0x667+-0x4f*0x3a+0xb81)]),_0x3689fe['set'](_0x441714[_0x2f5f57*(0x1*-0x25ce+-0x20d0+-0x31*-0x171)],_0x441714[_0x2f5f57*(0x2342+-0xa5f+-0x18e0)+(-0xda3+-0x173*0x11+0x29*0xef)],_0x441714[_0x2f5f57*(-0x2002+0xb*0x194+0xea9)+(-0x9b*-0x3d+-0x863+-0x1c8a)]),_0x2ec7e0['set'](_0x49325f[_0x2f5f57*(-0x3*0x9f7+0x1*-0x1813+-0x35fb*-0x1)],_0x49325f[_0x2f5f57*(0x1bc9+-0x49e+0x8*-0x2e5)+(-0x1*-0x2173+0x1b2d+0x1*-0x3c9f)],_0x49325f[_0x2f5f57*(0x28d+-0x200d+-0x5*-0x5e7)+(-0x211f+-0x1*0x1466+0x3587)]);const _0x2b5d40=_0x410a38['dot'](_0x3689fe);_0x50c9e0['copy'](_0x410a38)['mulScalar'](_0x2b5d40),_0x50c9e0['sub2'](_0x3689fe,_0x50c9e0)['normalize'](),_0x43a3b8[_0x2f5f57*(0x583+-0x255*0xb+0x1428)]=_0x50c9e0['x'],_0x43a3b8[_0x2f5f57*(0x1e0*-0x3+0x100*0x1d+-0x5*0x4ac)+(-0x25c7*-0x1+0x878+-0x3*0xf6a)]=_0x50c9e0['y'],_0x43a3b8[_0x2f5f57*(0x1*0x5eb+0x1a0f+-0x1*0x1ff6)+(0x3d8+0x14b0+-0x1886)]=_0x50c9e0['z'],_0x50c9e0['cross'](_0x410a38,_0x3689fe),_0x43a3b8[_0x2f5f57*(0x9*0x157+-0x1*0x1345+0x73a)+(0x3d*0x88+0x15*-0x53+-0x28f*0xa)]=_0x50c9e0['dot'](_0x2ec7e0)<0x1*-0x1bb9+0xf*-0x277+0x4fa*0xd?-(-0x1e76+-0x23fb+0x4272):-0x1*-0x539+0x112c*0x2+0x2*-0x13c8;}return _0x43a3b8;};class Ta{constructor(){h(this,'positions'),h(this,'normals'),h(this,'colors'),h(this,'uvs'),h(this,'uvs1'),h(this,'blendIndic'+'es'),h(this,'blendWeigh'+'ts'),h(this,'tangents'),h(this,'indices');}['calculateN'+'ormals'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=Iv(this['positions'],this['indices']);}['calculateT'+'angents'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),w['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const pu=(-0xf8b+0x466*0x4+-0x209)/(0x1b14+-0x1*0x24b3+0x9df),hg=0x95+0x1268+0x6c*-0x2d-pu*(-0xb5d+0x1ebc+0x135d*-0x1);class mu extends Ta{constructor(_0x2b5f9={}){super();const _0x1999d4=_0x2b5f9['halfExtent'+'s']??new D(0xf47+0xe76+-0x1dbd+0.5,-0x8*0x380+0x12b1+-0x1*-0x94f+0.5,0x65*0x1+-0x448*0x5+-0x3*-0x701+0.5),_0x3c6b46=_0x2b5f9['widthSegme'+'nts']??0x1*0x13+-0x1b99+0x1b87,_0x4b9b84=_0x2b5f9['lengthSegm'+'ents']??-0xbc7+-0xb63+-0x293*-0x9,_0x1eb268=_0x2b5f9['heightSegm'+'ents']??-0x2*0x16f+-0x156*-0x1d+-0x23df*0x1,_0x25af4b=_0x2b5f9['yOffset']??-0xa0c*-0x3+-0x111+-0x1d13,_0x59ab83=-_0x1999d4['y']+_0x25af4b,_0x1685c8=_0x1999d4['y']+_0x25af4b,_0x3d7d66=[new D(-_0x1999d4['x'],_0x59ab83,_0x1999d4['z']),new D(_0x1999d4['x'],_0x59ab83,_0x1999d4['z']),new D(_0x1999d4['x'],_0x1685c8,_0x1999d4['z']),new D(-_0x1999d4['x'],_0x1685c8,_0x1999d4['z']),new D(_0x1999d4['x'],_0x59ab83,-_0x1999d4['z']),new D(-_0x1999d4['x'],_0x59ab83,-_0x1999d4['z']),new D(-_0x1999d4['x'],_0x1685c8,-_0x1999d4['z']),new D(_0x1999d4['x'],_0x1685c8,-_0x1999d4['z'])],_0x116136=[[-0x16f*-0x1b+0xde9+-0x382*0xf,-0x1174+-0x19a9+0x2b1e,-0x982+-0x15c6+0x1f4b*0x1],[0xa*-0xf1+-0x2e5+0xc53,0x1*-0x412+0x1*0x427+-0x10,-0x14a7*0x1+0x373*0xb+-0x3*0x5c1],[0x1b88+0x4a*0x7+-0x1d8b,-0x1b*-0x35+0x1d84+-0xbb3*0x3,-0x15c7+-0x2*-0x130d+0x1*-0x104d],[0x2651+0x717+-0x2d67,0xed+0x1ccf+-0x1dbc,-0x1dc7+-0x1538+0x3303],[0xefd+-0xda1+0x1*-0x15b,-0x1c27+0x1c*-0x14b+0x405f,-0x1de4+0xd*0x2e2+-0x1e5*0x4],[-0x32e*0x3+0xa6b+0x14*-0xb,0x1*0x1a03+-0x1f*-0x2b+-0x1f38,0xac1*-0x3+-0x142c+0xd*0x409]],_0x557ba9=[[-0x2*0x65+-0x212a+0x29*0xd4,-0x13*0x1e3+-0x133*0x2+0x263f,0x5*-0x13f+0xfd0+-0x2*0x4ca],[0x2280+0x1e66+0x3*-0x15a2,0x1*0xdab+0x9aa*-0x2+0xcf*0x7,-(0x1954+-0x2194+0x1*0x841)],[0x17*0xf+-0x4af+0x356,-0x6*-0x647+-0x111*-0x5+-0x2afe,-0x1538+-0x1400+0x2938],[0x1*0x163d+-0x1*0x1f4d+-0x91*-0x10,-(0x1456+0x1663+-0x2ab8),-0x850+0x517+0x4b*0xb],[0xabb+0xce9+-0x17a3*0x1,0xfab+0x1*0xf9e+0x1f49*-0x1,-0x10f5+-0x42d+0x1522],[-(-0xbae*0x3+0x243a+-0x12f),0x2f7*0x7+-0x2*0x2a6+0x527*-0x3,0xbf3+-0xb*0x2d9+0xf8*0x14]],_0x4d0dbf={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0x290250=[],_0x414025=[],_0x44db39=[],_0x53aff9=[];let _0x4959f2=-0x1ef0+0x256a+-0x1*0x67a;const _0xc99ced=(_0xbcca4a,_0x159435,_0x306fc3)=>{const _0x4ca131=new D(),_0x44d6b9=new D(),_0x875bc=new D(),_0x161c20=new D();for(let _0x4ed47=-0x14cb*0x1+-0x1300*-0x1+0x33*0x9;_0x4ed47<=_0x159435;_0x4ed47++)for(let _0x59ec73=-0x1039*-0x1+-0x46f+-0x3ee*0x3;_0x59ec73<=_0x306fc3;_0x59ec73++){_0x4ca131['lerp'](_0x3d7d66[_0x116136[_0xbcca4a][-0xe*-0x2+-0x36b*0x7+-0x1*-0x17d1]],_0x3d7d66[_0x116136[_0xbcca4a][0x1*0xbad+-0x106f+-0x17*-0x35]],_0x4ed47/_0x159435),_0x44d6b9['lerp'](_0x3d7d66[_0x116136[_0xbcca4a][-0x25a9+0x167+0x2442]],_0x3d7d66[_0x116136[_0xbcca4a][0x7db*0x1+-0x2532+0xb*0x2ab]],_0x59ec73/_0x306fc3),_0x875bc['sub2'](_0x44d6b9,_0x3d7d66[_0x116136[_0xbcca4a][-0x3*0x71d+0x199a+-0x443*0x1]]),_0x161c20['add2'](_0x4ca131,_0x875bc);let _0x2573bd=_0x4ed47/_0x159435,_0x20538f=_0x59ec73/_0x306fc3;_0x290250['push'](_0x161c20['x'],_0x161c20['y'],_0x161c20['z']),_0x414025['push'](_0x557ba9[_0xbcca4a][0x1*0x1c31+0xbf7+-0x2828],_0x557ba9[_0xbcca4a][0xb21*-0x1+0x97*-0x1+-0xbb9*-0x1],_0x557ba9[_0xbcca4a][0x11c9*-0x1+0x452+0x1*0xd79]),_0x44db39['push'](_0x2573bd,-0x17fe+0x1*0x829+-0x2*-0x7eb-_0x20538f),_0x2573bd=_0x2573bd*hg+pu,_0x20538f=_0x20538f*hg+pu,_0x2573bd/=-0x79d*-0x1+0x13*0x8b+-0x11eb,_0x20538f/=-0x223e+-0x13a5+0x35e6,_0x2573bd+=_0xbcca4a%(0x1611+0x6f9*0x5+-0x12f9*0x3)/(0x1262+-0x100b+-0x254),_0x20538f+=Math['floor'](_0xbcca4a/(0x11*-0x24+0x254a+-0x22e3))/(-0x442+0x19c6+-0x1581),_0x4ed47<_0x159435&&_0x59ec73<_0x306fc3&&(_0x53aff9['push'](_0x4959f2+_0x306fc3+(-0xd28+-0x2*0xc05+0x2533),_0x4959f2+(-0x8*0x26f+0xcbb*0x1+-0x6be*-0x1),_0x4959f2),_0x53aff9['push'](_0x4959f2+_0x306fc3+(-0x1*-0x581+0x269e+-0x2*0x160f),_0x4959f2+_0x306fc3+(-0x186a+0x3e*0x6d+-0x1fa),_0x4959f2+(-0x2028*-0x1+0x32b+-0x1*0x2352))),_0x4959f2++;}};_0xc99ced(_0x4d0dbf['FRONT'],_0x3c6b46,_0x1eb268),_0xc99ced(_0x4d0dbf['BACK'],_0x3c6b46,_0x1eb268),_0xc99ced(_0x4d0dbf['TOP'],_0x3c6b46,_0x4b9b84),_0xc99ced(_0x4d0dbf['BOTTOM'],_0x3c6b46,_0x4b9b84),_0xc99ced(_0x4d0dbf['RIGHT'],_0x4b9b84,_0x1eb268),_0xc99ced(_0x4d0dbf['LEFT'],_0x4b9b84,_0x1eb268),this['positions']=_0x290250,this['normals']=_0x414025,this['uvs']=_0x44db39,this['uvs1']=_0x44db39,this['indices']=_0x53aff9,_0x2b5f9['calculateT'+'angents']&&(this['tangents']=Mr(_0x290250,_0x414025,_0x44db39,_0x53aff9));}}class _m extends Ta{constructor(_0x27e595={}){super();const _0x48c164=_0x27e595['radius']??0x29*-0x1d+-0xc67+-0x4*-0x443+0.5,_0x7042a4=_0x27e595['latitudeBa'+'nds']??0x1d0*-0x8+-0x2*-0x6b+0xfb*0xe,_0x123c9c=_0x27e595['longitudeB'+'ands']??0x809*0x3+0x6*0x116+-0x1e8f*0x1,_0x131f2b=[],_0x2e58c5=[],_0xeacb4c=[],_0x3fa75b=[];for(let _0xcd2c06=-0xf8d+0x2*-0xf29+-0x2ddf*-0x1;_0xcd2c06<=_0x7042a4;_0xcd2c06++){const _0x5527f3=_0xcd2c06*Math['PI']/_0x7042a4,_0x1b7ade=Math['sin'](_0x5527f3),_0x47b098=Math['cos'](_0x5527f3);for(let _0x1e1c9f=-0xe26*-0x1+-0x2c*0xd4+0x3*0x76e;_0x1e1c9f<=_0x123c9c;_0x1e1c9f++){const _0x42307e=_0x1e1c9f*(-0x1cb8*0x1+-0x4e8+0x21a2)*Math['PI']/_0x123c9c-Math['PI']/(-0x10ab+-0x2*0x53f+0x1b2b*0x1),_0x55099d=Math['sin'](_0x42307e),_0xc42f6c=Math['cos'](_0x42307e)*_0x1b7ade,_0x1fd274=_0x47b098,_0x34a50a=_0x55099d*_0x1b7ade,_0x40c829=-0x15*-0xe3+0x1*0x15ba+0x2858*-0x1-_0x1e1c9f/_0x123c9c,_0x583c7a=0x88d+0x3*-0x511+0x6a7-_0xcd2c06/_0x7042a4;_0x131f2b['push'](_0xc42f6c*_0x48c164,_0x1fd274*_0x48c164,_0x34a50a*_0x48c164),_0x2e58c5['push'](_0xc42f6c,_0x1fd274,_0x34a50a),_0xeacb4c['push'](_0x40c829,-0x2d4+-0x2*0xf97+0x2203-_0x583c7a);}}for(let _0x23074e=0x2*0x136d+0x7a2*-0x1+-0x1f38;_0x23074e<_0x7042a4;++_0x23074e)for(let _0x46818c=-0x7c*0x23+0x1cf2+-0xbfe;_0x46818c<_0x123c9c;++_0x46818c){const _0x56abcd=_0x23074e*(_0x123c9c+(-0x2526+0xfd7+0x3e*0x58))+_0x46818c,_0x204481=_0x56abcd+_0x123c9c+(0x22ee*-0x1+-0x78e*-0x5+0x2d7*-0x1);_0x3fa75b['push'](_0x56abcd+(-0x2157*0x1+0x22ff+-0x1a7),_0x204481,_0x56abcd),_0x3fa75b['push'](_0x56abcd+(0x1*-0x1fa+-0x2*-0xe67+-0x1*0x1ad3),_0x204481+(0xe97+0x1*-0x1e0e+0xc*0x14a),_0x204481);}this['positions']=_0x131f2b,this['normals']=_0x2e58c5,this['uvs']=_0xeacb4c,this['uvs1']=_0xeacb4c,this['indices']=_0x3fa75b,_0x27e595['calculateT'+'angents']&&(this['tangents']=Mr(_0x131f2b,_0x2e58c5,_0xeacb4c,_0x3fa75b));}}class DA extends _m{constructor(_0x394485={}){const _0x861420=_0x394485['latitudeBa'+'nds']??-0x1292*-0x2+-0x200c+-0x508,_0x4d2866=_0x394485['longitudeB'+'ands']??0xa86+0x102*-0x1c+0x2*0x8e1;super({'radius':0.5,'latitudeBands':_0x861420,'longitudeBands':_0x4d2866});const _0x3873a9=0xc7*-0x2f+0x2*-0x1bb+0x27ff+0.1,_0x12eb02=0x1*-0x191+0x1d4b+-0x1bba+0.95,_0x218df4=_0x12eb02*_0x12eb02,_0x530f3b=this['positions'];for(let _0x2315b2=-0xd46+-0x2386+0x30cc*0x1;_0x2315b2<_0x530f3b['length'];_0x2315b2+=0xbb9+-0x1*-0x2645+-0x1*0x31fb){const _0x38a9b7=_0x530f3b[_0x2315b2]/(-0x334+-0x1b74+0x1ea8+0.5);let _0x4ba177=_0x530f3b[_0x2315b2+(-0x3f1*-0x6+0x206+-0x19ab*0x1)]/(-0x23*0x119+0x1*0x1654+0x1017+0.5);const _0x6d50b7=_0x530f3b[_0x2315b2+(-0x34*-0x6f+-0x27*-0x47+-0x215b)]/(-0x2449+0xfd3+0x1476+0.5);_0x4ba177<-0x1*-0x6f3+-0x15a*0x6+0x129&&(_0x4ba177*=-0x1*-0x1e7d+0x7*-0x16a+-0x1497+0.3,_0x38a9b7*_0x38a9b7+_0x6d50b7*_0x6d50b7<_0x218df4&&(_0x4ba177=-_0x3873a9)),_0x4ba177+=_0x3873a9,_0x4ba177*=-0x22c9+-0x92*-0x2c+0x3*0x33b+0.5,_0x530f3b[_0x2315b2+(0x784+0x1*0x1dd+-0x960)]=_0x4ba177;}}}class zo{static['create'](_0x554eb4,_0x391859){switch(_0x391859){case Qw:return zo['box'](_0x554eb4);case Jw:return zo['dome'](_0x554eb4);}return w['assert'](_0x391859===Bo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x391859),zo['infinite'](_0x554eb4);}static['infinite'](_0x2c2149){return Ge['fromGeomet'+'ry'](_0x2c2149,new mu(_0x2c2149));}static['box'](_0x556d13){return Ge['fromGeomet'+'ry'](_0x556d13,new mu({'yOffset':0.5}));}static['dome'](_0x3b1e11){const _0x3aaad9=new DA({'latitudeBands':0x32,'longitudeBands':0x32});return _0x3aaad9['normals']=void(0x20c5+-0x896+-0x182f),_0x3aaad9['uvs']=void(0x9c0+-0x1432+0xa72),Ge['fromGeomet'+'ry'](_0x3b1e11,_0x3aaad9);}}class IA{constructor(_0x5d3310,_0x1edb37,_0x1dc045,_0x177c57,_0x16dbec){h(this,'meshInstan'+'ce',null),h(this,'_depthWrit'+'e',!(0x197b+0x6d*-0x1f+-0xc47));const _0x223522=new Xn({'uniqueName':'SkyMateria'+'l','vertexGLSL':Pe['get'](_0x5d3310,Fe)['get']('skyboxVS'),'fragmentGLSL':Pe['get'](_0x5d3310,Fe)['get']('skyboxPS'),'vertexWGSL':Pe['get'](_0x5d3310,it)['get']('skyboxVS'),'fragmentWGSL':Pe['get'](_0x5d3310,it)['get']('skyboxPS'),'attributes':{'aPosition':Me}});_0x223522['setDefine']('{SKYBOX_DE'+'CODE_FNC}',Tr['decodeFunc'](_0x177c57['encoding'])),_0x16dbec!==Bo&&_0x223522['setDefine']('SKYMESH',''),_0x177c57['cubemap']&&_0x223522['setDefine']('SKY_CUBEMA'+'P',''),_0x223522['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x1edb37['skyboxHigh'+'lightMulti'+'plier']),_0x177c57['cubemap']?_0x223522['setParamet'+'er']('texture_cu'+'beMap',_0x177c57):(_0x223522['setParamet'+'er']('texture_en'+'vAtlas',_0x177c57),_0x223522['setParamet'+'er']('mipLevel',_0x1edb37['skyboxMip'])),_0x223522['cull']=Fo,_0x223522['depthWrite']=this['_depthWrit'+'e'];const _0x5ee5b2=_0x1edb37['layers']['getLayerBy'+'Id'](Kp);if(_0x5ee5b2){const _0x18cfae=zo['create'](_0x5d3310,_0x16dbec),_0x38e9cf=new He(_0x18cfae,_0x223522,_0x1dc045);this['meshInstan'+'ce']=_0x38e9cf,_0x38e9cf['cull']=!(0x1ab1+0xa*0x27b+-0xd*0x3f6),_0x38e9cf['pick']=!(-0x1362+-0x73d+0x30*0x8e),_0x5ee5b2['addMeshIns'+'tances']([_0x38e9cf]),this['skyLayer']=_0x5ee5b2;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}set['depthWrite'](_0x511090){this['_depthWrit'+'e']=_0x511090,this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']['depthWrite']=_0x511090);}get['depthWrite'](){return this['_depthWrit'+'e'];}}class LA{constructor(_0x5d280f){h(this,'_type',Bo),h(this,'_center',new D(-0x26b1+-0xd39+0x376*0xf,0x2*-0x65b+0x1b5+0xb02,-0x571*0x7+-0x67*0x3f+0x1d0*0x23)),h(this,'skyMesh',null),h(this,'_depthWrit'+'e',!(-0x121f+-0x1a25+0x1*0x2c45)),h(this,'node',new Ie('SkyMeshNod'+'e')),(this['device']=_0x5d280f['device'],this['scene']=_0x5d280f,this['center']=new D(-0x2*-0x5+-0x2344+0x233a*0x1,0x78c+-0xace*0x2+0x1*0xe11,-0x1*0x1613+-0x6a0*-0x1+-0x235*-0x7),this['centerArra'+'y']=new Float32Array(-0x6d*-0x1e+0x84b+-0x1*0x150e),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0x202691){this['type']=_0x202691['skyType']??Bo,this['node']['setLocalPo'+'sition'](new D(_0x202691['skyMeshPos'+'ition']??[-0x1*-0x335+0x2*0xf92+0x1*-0x2259,0x1*0x188a+0x71*-0x27+-0x753,-0xe9*-0x13+0x121f+-0x236a])),this['node']['setLocalEu'+'lerAngles'](new D(_0x202691['skyMeshRot'+'ation']??[0x1bf+0x1*0x1a03+-0x1bc2,-0x1*0x93a+0x1*-0xe3f+0x1779,-0x1*-0x19d9+0x1805+-0xd*0x3d6])),this['node']['setLocalSc'+'ale'](new D(_0x202691['skyMeshSca'+'le']??[-0xc33+0x1*-0x1559+0x218d,-0x14b1*-0x1+-0x616*0x1+-0xe9a,0x97*-0xf+-0x3*0x2f9+-0x1*-0x11c5])),_0x202691['skyCenter']&&(this['_center']=new D(_0x202691['skyCenter']));}set['type'](_0x5ddf9b){this['_type']!==_0x5ddf9b&&(this['_type']=_0x5ddf9b,this['scene']['updateShad'+'ers']=!(-0x65*-0x33+-0x1125+-0x2fa),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x159967){this['_center']['copy'](_0x159967);}get['center'](){return this['_center'];}set['depthWrite'](_0x3267d6){this['_depthWrit'+'e']!==_0x3267d6&&(this['_depthWrit'+'e']=_0x3267d6,this['skyMesh']&&(this['skyMesh']['depthWrite']=_0x3267d6));}get['depthWrite'](){return this['_depthWrit'+'e'];}['updateSkyM'+'esh'](){const _0x2b75a3=this['scene']['_getSkybox'+'Tex']();_0x2b75a3&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new IA(this['device'],this['scene'],this['node'],_0x2b75a3,this['type']),this['skyMesh']['depthWrite']=this['_depthWrit'+'e'],this['scene']['fire']('set:skybox',_0x2b75a3));}['resetSkyMe'+'sh'](){var _0x5c8e29;(_0x5c8e29=this['skyMesh'])==null||_0x5c8e29['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==Bo){const {center:_0x414799,centerArray:_0x378371}=this,_0x50cc7e=new D();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x414799,_0x50cc7e),_0x378371[-0x1936+-0x191*0x7+-0x31*-0xbd]=_0x50cc7e['x'],_0x378371[-0x238b+0x726*-0x2+0x31d8]=_0x50cc7e['y'],_0x378371[-0xc88*-0x3+0x19ef*0x1+0x3f85*-0x1]=_0x50cc7e['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x378371);}}}const Ch=new Ie();Ch['worldTrans'+'form']=te['IDENTITY'],Ch['_dirtyWorl'+'d']=Ch['_dirtyNorm'+'al']=!(-0x5*0x425+-0xe62*-0x2+-0x80a);class RA{constructor(_0x2f287c,_0x4d1f82,_0x387f7b){this['material']=_0x4d1f82,this['layer']=_0x387f7b,this['positions']=[],this['colors']=[],this['mesh']=new Ge(_0x2f287c),this['meshInstan'+'ce']=null;}['addLines'](_0x28a510,_0x15643c){const _0x91e70=this['positions'],_0x219d08=_0x28a510['length'];for(let _0xfa2b74=-0x232+0x119b+-0x523*0x3;_0xfa2b74<_0x219d08;_0xfa2b74++){const _0x8d2c20=_0x28a510[_0xfa2b74];_0x91e70['push'](_0x8d2c20['x'],_0x8d2c20['y'],_0x8d2c20['z']);}const _0x49e8ba=this['colors'];if(_0x15643c['length'])for(let _0x40d8e0=0x2d*-0x1d+0x5cd*0x1+0x3c*-0x3;_0x40d8e0<_0x219d08;_0x40d8e0++){const _0x2a3249=_0x15643c[_0x40d8e0];_0x49e8ba['push'](_0x2a3249['r'],_0x2a3249['g'],_0x2a3249['b'],_0x2a3249['a']);}else{for(let _0x5b9eca=0x9*-0x14d+0xbea+0x35*-0x1;_0x5b9eca<_0x219d08;_0x5b9eca++)_0x49e8ba['push'](_0x15643c['r'],_0x15643c['g'],_0x15643c['b'],_0x15643c['a']);}}['addLinesAr'+'rays'](_0x54ae44,_0xfdf1f8){const _0x18a96a=this['positions'];for(let _0x19469b=-0x12a0+-0x1003*-0x2+-0x31*0x46;_0x19469b<_0x54ae44['length'];_0x19469b+=0x2f*-0x41+-0x190c+0x24fe)_0x18a96a['push'](_0x54ae44[_0x19469b],_0x54ae44[_0x19469b+(0x1*-0x2673+-0x17a7+0x3e1b)],_0x54ae44[_0x19469b+(-0xb09*-0x1+0x11*0xf7+-0x1b6e)]);const _0x56bc3c=this['colors'];if(_0xfdf1f8['length']){for(let _0x1356b2=0x2582+0x1*-0xdf9+-0x5*0x4b5;_0x1356b2<_0xfdf1f8['length'];_0x1356b2+=-0x1ed*0x11+-0x6dc*-0x5+-0x18b)_0x56bc3c['push'](_0xfdf1f8[_0x1356b2],_0xfdf1f8[_0x1356b2+(-0x137*-0xd+-0x1f6+-0x6ea*0x2)],_0xfdf1f8[_0x1356b2+(-0x1f2a+0x2ef*0xa+0x1d6)],_0xfdf1f8[_0x1356b2+(-0x1b1c+0xa3*0x31+-0x3a*0x12)]);}else{const _0x581ea7=_0x54ae44['length']/(0xa85*-0x1+-0x1fe1*-0x1+-0x1559);for(let _0x3cba1d=-0xd*0x13f+0x143b*0x1+0x158*-0x3;_0x3cba1d<_0x581ea7;_0x3cba1d++)_0x56bc3c['push'](_0xfdf1f8['r'],_0xfdf1f8['g'],_0xfdf1f8['b'],_0xfdf1f8['a']);}}['onPreRende'+'r'](_0x545572,_0x1f9021){this['positions']['length']>-0x1*0x113e+-0x1c22*-0x1+-0xae4&&this['material']['transparen'+'t']===_0x1f9021&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](hd,!(-0x1*0x323+0x1ba5+-0x9*0x2b9)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new He(this['mesh'],this['material'],Ch)),_0x545572['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=-0x23e7+0x505+-0x86*-0x3b,this['colors']['length']=-0x7*-0x4ab+-0x49*0x87+-0x2e9*-0x2;}}class OA{constructor(_0x50190d){this['device']=_0x50190d,this['map']=new Map();}['getBatch'](_0xb61139,_0x1fdf54){let _0x48656f=this['map']['get'](_0xb61139);return _0x48656f||(_0x48656f=new RA(this['device'],_0xb61139,_0x1fdf54),this['map']['set'](_0xb61139,_0x48656f)),_0x48656f;}['onPreRende'+'r'](_0x3054f8,_0x33123a){this['map']['forEach'](_0x2e8c77=>{_0x2e8c77['onPreRende'+'r'](_0x3054f8,_0x33123a);});}['clear'](){this['map']['forEach'](_0x49a7f9=>_0x49a7f9['clear']());}}const Ts=[],Ba=new D();class FA{constructor(_0x14ce8e){h(this,'shaderDesc'+'s',new Map()),(this['device']=_0x14ce8e,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x1b7960){const _0x2ebe00=new Xn({'uniqueName':'ImmediateL'+'ine','vertexGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'ineVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'inePS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'ineVS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'inePS'),'attributes':{'vertex_position':Me,'vertex_color':Wt}});return _0x2ebe00['blendType']=Zs,_0x2ebe00['depthTest']=_0x1b7960,_0x2ebe00['update'](),_0x2ebe00;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(-0x248a+-0x294*0x5+0x316e))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(0x99e+-0x5c7+-0x3d6))),this['_materialN'+'oDepth'];}['getBatch'](_0x3889ba,_0x562e46){let _0x295b16=this['batchesMap']['get'](_0x3889ba);_0x295b16||(_0x295b16=new OA(this['device']),this['batchesMap']['set'](_0x3889ba,_0x295b16)),this['allBatches']['add'](_0x295b16);const _0xa272ff=_0x562e46?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x295b16['getBatch'](_0xa272ff,_0x3889ba);}['getShaderD'+'esc'](_0x392818,_0x2a98b6,_0x2f372a){return this['shaderDesc'+'s']['has'](_0x392818)||this['shaderDesc'+'s']['set'](_0x392818,{'uniqueName':'DebugShade'+'r:'+_0x392818,'vertexGLSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ve'+'c2\x20uv0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uv0\x20=\x20ve'+'rtex_posit'+'ion.xy\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20','vertexWGSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20@ver'+'tex\x20fn\x20ver'+'texMain(in'+'put:\x20Verte'+'xInput)\x20->'+'\x20VertexOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20un'+'iform.matr'+'ix_model\x20*'+'\x20vec4f(inp'+'ut.vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.uv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20+\x20vec2f'+'(0.5);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20','fragmentGLSL':_0x2a98b6,'fragmentWGSL':_0x2f372a,'attributes':{'vertex_position':Me}}),this['shaderDesc'+'s']['get'](_0x392818);}['getTexture'+'ShaderDesc'](_0x2c94d6){const _0x20c692=Tr['decodeFunc'](_0x2c94d6);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x2c94d6,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x20c692+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20colorMa'+'pSampler:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20@fragment'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output:\x20Fr'+'agmentOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20sample'+'dTex\x20=\x20tex'+'tureSample'+'(colorMap,'+'\x20colorMapS'+'ampler,\x20in'+'put.uv0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'linearColo'+'r:\x20vec3f\x20='+'\x20'+_0x20c692+('(sampledTe'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(gammaCorr'+'ectOutput('+'linearColo'+'r),\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<uff>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20@'+'fragment\x20f'+'n\x20fragment'+'Main(input'+'\x20:\x20Fragmen'+'tInput)\x20->'+'\x20FragmentO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'nput.uv0\x20*'+'\x20vec2f(tex'+'tureDimens'+'ions(color'+'Map,\x200)));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20fetchedCo'+'lor\x20:\x20vec4'+'f\x20=\x20textur'+'eLoad(colo'+'rMap,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(fetchedCo'+'lor.xyz,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20void\x20main'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x20getLi'+'nearScreen'+'Depth(getI'+'mageEffect'+'UV(uv0))\x20*'+'\x20camera_pa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(vec3(de'+'pth)),\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20u'+'v0:\x20vec2f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20@fragme'+'nt\x20fn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20depth'+':\x20f32\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(inpu'+'t.uv0))\x20*\x20'+'uniform.ca'+'mera_param'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(vec3f(dep'+'th)),\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ge(this['device']),this['quadMesh']['setPositio'+'ns']([-(0x35*0x36+-0x9c9+-0x165+0.5),-(0x18b1+-0x3*-0x2f7+-0x2196+0.5),-0x39a*-0x2+-0xcf4+0x2*0x2e0,-0x24a9+0xaf8*-0x1+0x2fa1+0.5,-(-0x196d*-0x1+0x3*-0xb85+0x922+0.5),0x6b2+-0x1c32+-0xac0*-0x2,-(-0x25d+0xb77*-0x3+0x24c2+0.5),0x729+-0x1519+0xdf0+0.5,-0x366*-0x9+0x223d+-0x40d3,-0x22*0x4b+-0xf1*-0x29+0x1ca3*-0x1+0.5,-0x263a*0x1+-0x371*0xb+0x4c15+0.5,0x6*0xec+0x52a+-0x4a*0x25]),this['quadMesh']['update'](Er)),this['quadMesh'];}['drawMesh'](_0x10c476,_0x2a4b37,_0x709ee3,_0x91211e,_0x5b961e){if(!_0x91211e){const _0x56d67c=this['getGraphNo'+'de'](_0x2a4b37);_0x91211e=new He(_0x709ee3,_0x10c476,_0x56d67c);}let _0x59c3b7=this['layerMeshI'+'nstances']['get'](_0x5b961e);_0x59c3b7||(_0x59c3b7=[],this['layerMeshI'+'nstances']['set'](_0x5b961e,_0x59c3b7)),_0x59c3b7['push'](_0x91211e);}['drawWireAl'+'ignedBox'](_0x44a10e,_0x282d2d,_0x155087,_0x337ae7,_0x63cc43,_0xfcbefb){if(_0xfcbefb){const _0x46603a=(_0x2508f1,_0x5f11e1,_0x14a893)=>{Ba['set'](_0x2508f1,_0x5f11e1,_0x14a893),_0xfcbefb['transformP'+'oint'](Ba,Ba),Ts['push'](Ba['x'],Ba['y'],Ba['z']);};_0x46603a(_0x44a10e['x'],_0x44a10e['y'],_0x44a10e['z']),_0x46603a(_0x44a10e['x'],_0x282d2d['y'],_0x44a10e['z']),_0x46603a(_0x44a10e['x'],_0x282d2d['y'],_0x44a10e['z']),_0x46603a(_0x282d2d['x'],_0x282d2d['y'],_0x44a10e['z']),_0x46603a(_0x282d2d['x'],_0x282d2d['y'],_0x44a10e['z']),_0x46603a(_0x282d2d['x'],_0x44a10e['y'],_0x44a10e['z']),_0x46603a(_0x282d2d['x'],_0x44a10e['y'],_0x44a10e['z']),_0x46603a(_0x44a10e['x'],_0x44a10e['y'],_0x44a10e['z']),_0x46603a(_0x44a10e['x'],_0x44a10e['y'],_0x282d2d['z']),_0x46603a(_0x44a10e['x'],_0x282d2d['y'],_0x282d2d['z']),_0x46603a(_0x44a10e['x'],_0x282d2d['y'],_0x282d2d['z']),_0x46603a(_0x282d2d['x'],_0x282d2d['y'],_0x282d2d['z']),_0x46603a(_0x282d2d['x'],_0x282d2d['y'],_0x282d2d['z']),_0x46603a(_0x282d2d['x'],_0x44a10e['y'],_0x282d2d['z']),_0x46603a(_0x282d2d['x'],_0x44a10e['y'],_0x282d2d['z']),_0x46603a(_0x44a10e['x'],_0x44a10e['y'],_0x282d2d['z']),_0x46603a(_0x44a10e['x'],_0x44a10e['y'],_0x44a10e['z']),_0x46603a(_0x44a10e['x'],_0x44a10e['y'],_0x282d2d['z']),_0x46603a(_0x44a10e['x'],_0x282d2d['y'],_0x44a10e['z']),_0x46603a(_0x44a10e['x'],_0x282d2d['y'],_0x282d2d['z']),_0x46603a(_0x282d2d['x'],_0x282d2d['y'],_0x44a10e['z']),_0x46603a(_0x282d2d['x'],_0x282d2d['y'],_0x282d2d['z']),_0x46603a(_0x282d2d['x'],_0x44a10e['y'],_0x44a10e['z']),_0x46603a(_0x282d2d['x'],_0x44a10e['y'],_0x282d2d['z']);}else Ts['push'](_0x44a10e['x'],_0x44a10e['y'],_0x44a10e['z'],_0x44a10e['x'],_0x282d2d['y'],_0x44a10e['z'],_0x44a10e['x'],_0x282d2d['y'],_0x44a10e['z'],_0x282d2d['x'],_0x282d2d['y'],_0x44a10e['z'],_0x282d2d['x'],_0x282d2d['y'],_0x44a10e['z'],_0x282d2d['x'],_0x44a10e['y'],_0x44a10e['z'],_0x282d2d['x'],_0x44a10e['y'],_0x44a10e['z'],_0x44a10e['x'],_0x44a10e['y'],_0x44a10e['z'],_0x44a10e['x'],_0x44a10e['y'],_0x282d2d['z'],_0x44a10e['x'],_0x282d2d['y'],_0x282d2d['z'],_0x44a10e['x'],_0x282d2d['y'],_0x282d2d['z'],_0x282d2d['x'],_0x282d2d['y'],_0x282d2d['z'],_0x282d2d['x'],_0x282d2d['y'],_0x282d2d['z'],_0x282d2d['x'],_0x44a10e['y'],_0x282d2d['z'],_0x282d2d['x'],_0x44a10e['y'],_0x282d2d['z'],_0x44a10e['x'],_0x44a10e['y'],_0x282d2d['z'],_0x44a10e['x'],_0x44a10e['y'],_0x44a10e['z'],_0x44a10e['x'],_0x44a10e['y'],_0x282d2d['z'],_0x44a10e['x'],_0x282d2d['y'],_0x44a10e['z'],_0x44a10e['x'],_0x282d2d['y'],_0x282d2d['z'],_0x282d2d['x'],_0x282d2d['y'],_0x44a10e['z'],_0x282d2d['x'],_0x282d2d['y'],_0x282d2d['z'],_0x282d2d['x'],_0x44a10e['y'],_0x44a10e['z'],_0x282d2d['x'],_0x44a10e['y'],_0x282d2d['z']);this['getBatch'](_0x63cc43,_0x337ae7)['addLinesAr'+'rays'](Ts,_0x155087),Ts['length']=-0x18f2+-0x25e9+0x3edb;}['drawWireSp'+'here'](_0x5e034f,_0x203284,_0x4f2ff8,_0x3006eb,_0x5c3692,_0x3f40c5){const _0x1e7a82=(-0x22f4+-0x64d+-0xdc1*-0x3)*Math['PI']/_0x3006eb;let _0xafa964=0x1*0x1536+-0x1*0x98+-0x2f2*0x7;for(let _0x79f9dd=-0x674+-0x59c+0xc10;_0x79f9dd<_0x3006eb;_0x79f9dd++){const _0x5a033d=Math['sin'](_0xafa964),_0x522a23=Math['cos'](_0xafa964);_0xafa964+=_0x1e7a82;const _0x3e066f=Math['sin'](_0xafa964),_0x532d69=Math['cos'](_0xafa964);Ts['push'](_0x5e034f['x']+_0x203284*_0x5a033d,_0x5e034f['y'],_0x5e034f['z']+_0x203284*_0x522a23),Ts['push'](_0x5e034f['x']+_0x203284*_0x3e066f,_0x5e034f['y'],_0x5e034f['z']+_0x203284*_0x532d69),Ts['push'](_0x5e034f['x']+_0x203284*_0x5a033d,_0x5e034f['y']+_0x203284*_0x522a23,_0x5e034f['z']),Ts['push'](_0x5e034f['x']+_0x203284*_0x3e066f,_0x5e034f['y']+_0x203284*_0x532d69,_0x5e034f['z']),Ts['push'](_0x5e034f['x'],_0x5e034f['y']+_0x203284*_0x5a033d,_0x5e034f['z']+_0x203284*_0x522a23),Ts['push'](_0x5e034f['x'],_0x5e034f['y']+_0x203284*_0x3e066f,_0x5e034f['z']+_0x203284*_0x532d69);}this['getBatch'](_0x3f40c5,_0x5c3692)['addLinesAr'+'rays'](Ts,_0x4f2ff8),Ts['length']=-0xf1e+-0xf08+0x2*0xf13;}['getGraphNo'+'de'](_0x59de25){const _0x2e697d=new Ie('ImmediateD'+'ebug');return _0x2e697d['worldTrans'+'form']=_0x59de25,_0x2e697d['_dirtyWorl'+'d']=_0x2e697d['_dirtyNorm'+'al']=!(0x5b1*0x5+0xc*0x42+0x6*-0x542),_0x2e697d;}['onPreRende'+'rLayer'](_0x582f46,_0x2c6819,_0x5bb6c7){if(this['batchesMap']['forEach']((_0x58ebe1,_0x49232e)=>{_0x49232e===_0x582f46&&_0x58ebe1['onPreRende'+'r'](_0x2c6819,_0x5bb6c7);}),!this['updatedLay'+'ers']['has'](_0x582f46)){this['updatedLay'+'ers']['add'](_0x582f46);const _0x36fdca=this['layerMeshI'+'nstances']['get'](_0x582f46);if(_0x36fdca){for(let _0x228296=-0x24b*-0x11+0xe9c+-0x3*0x11dd;_0x228296<_0x36fdca['length'];_0x228296++)_0x2c6819['push'](_0x36fdca[_0x228296]);_0x36fdca['length']=0x631*-0x4+-0x907+0x21cb;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x154687=>_0x154687['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class NA{constructor(){h(this,'type',Kn),h(this,'color',new ie(-0x2502+-0x1d02+0x4204,-0x38f*0x6+0xbca+0x4*0x264,0x259c+-0x621*-0x3+-0x37ff)),h(this,'density',-0x16cf*-0x1+-0x1894+0x1c5),h(this,'start',0xb*-0x355+-0x211*0xb+0x3b63),h(this,'end',0x1*0x2479+-0x23fb+0x36a);}}class Et extends me{constructor(_0x4df622){super(),h(this,'ambientBak'+'e',!(-0x1*0x1552+-0x123d+0x34c*0xc)),h(this,'ambientBak'+'eOcclusion'+'Brightness',-0x18bc+-0x1be*0x15+0x2f*0x14e),h(this,'ambientBak'+'eOcclusion'+'Contrast',-0x80*0x35+-0x2e5*-0x2+0x14b6),h(this,'ambientLig'+'ht',new ie(-0x1925+0x4ad*-0x7+0x39e0*0x1,-0x12ed*0x2+-0x2576+0x4b50,-0x313*0x1+0xd4c+-0xa39)),h(this,'ambientLum'+'inance',-0x6a*0x49+-0xa33*0x3+0x17*0x2a5),h(this,'exposure',-0x68c*-0x3+-0x15cd+0x22a),h(this,'lightmapSi'+'zeMultipli'+'er',-0xd68+0x95*0x9+0x82c),h(this,'lightmapMa'+'xResolutio'+'n',-0x1*0x2623+-0x982+0x5*0xb21),h(this,'lightmapMo'+'de',jc),h(this,'lightmapFi'+'lterEnable'+'d',!(0x10e2+-0x1a84+0x9a3)),h(this,'lightmapHD'+'R',!(0x1d0c+0x7ff*0x1+-0xb*0x35e)),h(this,'root',null),h(this,'physicalUn'+'its',!(0xf1*0x28+-0x7*0x589+-0x23*-0x8)),h(this,'_envAtlas',null),h(this,'_skyboxCub'+'eMap',null),h(this,'_fogParams',new NA()),h(this,'forcePassT'+'hroughSpec'+'ular',!(-0x11*0x23b+-0x1f4b+0x179*0x2f)),(w['assert'](_0x4df622,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x4df622,this['_gravity']=new D(0x5c9*-0x3+-0xa04+0xb*0x27d,-(-0x1d3b+0xd16+0x102e+0.8000000000000007),0x1*-0x502+-0x1*0x1063+-0x1565*-0x1),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=0x204e+0x1861+-0x38ae,this['_skyboxLum'+'inance']=0xc69+0x34c+-0xfb5,this['_skyboxMip']=0xa9c*0x2+-0xb82+-0x9b6,this['_skyboxHig'+'hlightMult'+'iplier']=-0xd5d+-0x14e*-0xd+-0x398,this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x42*-0x40+-0x7ab+-0x8d4),this['_skyboxRot'+'ation']=new le(),this['_skyboxRot'+'ationMat3']=new _i(),this['_skyboxRot'+'ationMat4']=new te(),this['_ambientBa'+'keNumSampl'+'es']=-0x2180+-0x186e+0x39ef*0x1,this['_ambientBa'+'keSpherePa'+'rt']=-0xc17+-0x85d*-0x1+0x3ba+0.4,this['_lightmapF'+'ilterRange']=0x2*-0x3df+-0xf26+0x16ee,this['_lightmapF'+'ilterSmoot'+'hness']=-0x5df+0xd*0x1eb+-0x10*0x131+0.2,this['_clustered'+'LightingEn'+'abled']=!(-0x2d*-0x57+0x2483+-0x33ce),this['_lightingP'+'arams']=new Mv(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(-0x200b*-0x1+-0x81*-0x1b+-0x1*0x2da6);}),this['_sky']=new LA(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(0x5e9+-0x1*-0x1ecb+0x3*-0xc3c),this['_shaderVer'+'sion']=-0x136f+0x135d*0x1+0x12,this['immediate']=new FA(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](Zp);}set['ambientBak'+'eNumSample'+'s'](_0x374cac){this['_ambientBa'+'keNumSampl'+'es']=Y['clamp'](Math['floor'](_0x374cac),-0x1*-0x1cae+-0x1e4f+0x1a2,-0x12c6+0x38*-0x95+-0xa79*-0x5);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x366703){this['_ambientBa'+'keSpherePa'+'rt']=Y['clamp'](_0x366703,-0x9d6+0x1*0x389+0x64d+0.001,0x1*-0x885+0x614+0x272);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x9ce48a){if(this['device']['isWebGPU']&&!_0x9ce48a){w['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x9ce48a){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x9ce48a;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x36c2c4){_0x36c2c4!==this['_envAtlas']&&(this['_envAtlas']=_0x36c2c4,_0x36c2c4&&(_0x36c2c4['addressU']=ue,_0x36c2c4['addressV']=ue,_0x36c2c4['minFilter']=vt,_0x36c2c4['magFilter']=vt,_0x36c2c4['mipmaps']=!(0xba*-0x27+-0xf1a*-0x2+-0x1dd)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x245e8c){const _0x576137=this['_layers'];this['_layers']=_0x245e8c,this['fire']('set:layers',_0x576137,_0x245e8c);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x5d5255){this['_lightmapF'+'ilterRange']=Math['max'](_0x5d5255,0x1fd4+-0x26b9+0x6e5*0x1+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x85eda8){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x85eda8,0x8ea+0x2e3*-0x7+0xb4b+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0x125f0d){_0x125f0d=_0x125f0d||[];const _0x36c2ae=this['_prefilter'+'edCubemaps'];(_0x36c2ae['length']!==_0x125f0d['length']||_0x36c2ae['some']((_0x2203e7,_0x44d78e)=>_0x2203e7!==_0x125f0d[_0x44d78e]))&&(_0x125f0d['length']===0x2*0x653+-0x2625+0x2f*0x8b&&_0x125f0d['every'](_0x4c99c8=>!!_0x4c99c8)?(this['_internalE'+'nvAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0x125f0d,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0x125f0d['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x5a81dc){_0x5a81dc!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x5a81dc,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x2a8f16){_0x2a8f16!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x2a8f16,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0xe5005f){_0xe5005f!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0xe5005f,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x4a431a){_0x4a431a!==this['_skyboxMip']&&(this['_skyboxMip']=_0x4a431a,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x5524f4){_0x5524f4!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x5524f4,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x40453a){if(!this['_skyboxRot'+'ation']['equals'](_0x40453a)){const _0x2e24e1=_0x40453a['equals'](le['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x40453a),_0x2e24e1?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](D['ZERO'],_0x40453a,D['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x2e24e1&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(0x372*-0x1+-0x1419+0x15*0x11f),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x22c20a,_0x162f0b,_0x51ee72=ie['WHITE'],_0x3d7c81=!(0x177c+-0x1024+0x2f*-0x28),_0x5640e9=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x5640e9,_0x3d7c81)['addLines']([_0x22c20a,_0x162f0b],[_0x51ee72,_0x51ee72]);}['drawLines'](_0x491ee4,_0x290ffe,_0x236e1e=!(0x2*0x46a+-0x2*0x1041+-0xbd7*-0x2),_0x430afc=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x430afc,_0x236e1e)['addLines'](_0x491ee4,_0x290ffe);}['drawLineAr'+'rays'](_0x2fc869,_0x210186,_0x25fa03=!(0x2f*-0x3+0x1*0x2269+-0x21dc),_0x2fa359=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x2fa359,_0x25fa03)['addLinesAr'+'rays'](_0x2fc869,_0x210186);}['applySetti'+'ngs'](_0x5188fa){const _0x1c737f=_0x5188fa['physics'],_0x5a3cb1=_0x5188fa['render'];this['_gravity']['set'](_0x1c737f['gravity'][0x1*0xac2+0xf2c+0xcf7*-0x2],_0x1c737f['gravity'][-0x9a*0x3b+-0x5ed*-0x2+0x17a5],_0x1c737f['gravity'][-0x2119+0x13*-0xe5+-0x2*-0x190d]),this['ambientLig'+'ht']['set'](_0x5a3cb1['global_amb'+'ient'][0x11*-0x1a3+-0xfab+0x26*0x125],_0x5a3cb1['global_amb'+'ient'][-0x5*0x28+0x11*-0x191+-0xb*-0x27e],_0x5a3cb1['global_amb'+'ient'][-0x5a*0x65+-0xaeb*0x2+-0x395a*-0x1]),this['ambientLum'+'inance']=_0x5a3cb1['ambientLum'+'inance'],this['fog']['type']=_0x5a3cb1['fog'],this['fog']['color']['set'](_0x5a3cb1['fog_color'][0x94d*-0x1+-0xa4d*-0x3+-0x452*0x5],_0x5a3cb1['fog_color'][0x211b+0x1*0x1f97+-0x40b1],_0x5a3cb1['fog_color'][-0x4fc+-0xdc2*0x2+0xad6*0x3]),this['fog']['start']=_0x5a3cb1['fog_start'],this['fog']['end']=_0x5a3cb1['fog_end'],this['fog']['density']=_0x5a3cb1['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x5a3cb1['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x5a3cb1['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x5a3cb1['lightmapMo'+'de'],this['exposure']=_0x5a3cb1['exposure'],this['_skyboxInt'+'ensity']=_0x5a3cb1['skyboxInte'+'nsity']??-0x153*0x12+0x100d*-0x1+0x17*0x1bc,this['_skyboxLum'+'inance']=_0x5a3cb1['skyboxLumi'+'nance']??0x6f9d+-0x3d*-0x173+-0x21a*0x3a,this['_skyboxMip']=_0x5a3cb1['skyboxMip']??0xa2*0x33+0x30+-0x2076,_0x5a3cb1['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new le()['setFromEul'+'erAngles'](_0x5a3cb1['skyboxRota'+'tion'][0xd*0x2cf+0x1bd2+0x2b*-0x17f],_0x5a3cb1['skyboxRota'+'tion'][-0x1a4b+-0x3b6+0x1e02],_0x5a3cb1['skyboxRota'+'tion'][0x5e8*0x6+0x458*-0x1+-0x1f16])),this['sky']['applySetti'+'ngs'](_0x5a3cb1),this['clusteredL'+'ightingEna'+'bled']=_0x5a3cb1['clusteredL'+'ightingEna'+'bled']??!(0x2*0x727+-0x724*-0x2+-0x1c95),this['lighting']['applySetti'+'ngs'](_0x5a3cb1),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0x13c7ed=>{_0x5a3cb1['hasOwnProp'+'erty'](_0x13c7ed)&&(this[_0x13c7ed]=_0x5a3cb1[_0x13c7ed]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x306683=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x306683[[-0x11*0x193+-0x25bb+0x407e,-0x39e*0x7+-0x28*-0xb2+-0x27d,-0xccc+-0x110e+0x1ddd,-0x1*0x2635+-0x18d2+-0x3f0b*-0x1,-0x208e+0x1*0x1ad5+0x5be,-0x1562+0x1039*0x1+0x52f][this['_skyboxMip']]]||this['_envAtlas']||_0x306683[0x1141+0x58f*0x5+-0x2d0c]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x306683[0x122f+-0x1407+0x1d8]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(0x9a1*-0x4+0x421+0x2263);}['setSkybox'](_0x4511a3){_0x4511a3?(this['skybox']=_0x4511a3[-0x2598+-0x1*0x131e+0x40d*0xe]||null,_0x4511a3[-0x1*-0x617+0xa80+-0x1096]&&!_0x4511a3[0x8ad+0x16*0x1c0+-0x2*0x1796]['cubemap']?this['envAtlas']=_0x4511a3[-0x1663+-0xd*-0x12b+0x735]:this['prefiltere'+'dCubemaps']=_0x4511a3['slice'](0x5*-0xff+-0x1dde*-0x1+-0xa*0x27d)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Ne;}}h(Et,'EVENT_SETL'+'AYERS','set:layers'),h(Et,'EVENT_SETS'+'KYBOX','set:skybox'),h(Et,'EVENT_PRER'+'ENDER','prerender'),h(Et,'EVENT_POST'+'RENDER','postrender'),h(Et,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),h(Et,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),h(Et,'EVENT_PREC'+'ULL','precull'),h(Et,'EVENT_POST'+'CULL','postcull');class Lv{constructor(_0x3aab28,_0x205f05,_0x3709f7){this['device']=_0x3aab28,this['inverseBin'+'dPose']=_0x205f05,this['boneNames']=_0x3709f7;}}const kA=[-0xd5*-0x7+0x31*0x97+-0x27b*0xe,0x10e2*-0x2+-0x1*0x75+0x2239,0xa89+-0x4c0+-0x5c8,0x16c5+-0xfa1*-0x1+0x1*-0x2666,0x24b9+0x1*0x2611+-0x4aca,-0x83*-0x2a+-0x2*0x972+0x1*-0x299,0xae4+-0x9*-0x2ba+-0x236e,-0x4*0x4c1+0x1*-0x249b+-0x1d*-0x1eb,-0x254c+-0x1*-0x2104+0x449,0x13e1+-0x1*0x1d2f+0x94e,-0x761*0x5+0x2*0xe02+0x8e1,-0x3*-0xaf3+-0xf49*-0x1+-0x3021],UA=[-0xdc5*0x1+-0x90e+0x16d3,-0x1d3d+0x1*0x18c8+0x476,-0x7*0xfd+-0x2ce*-0xb+-0x17ec,0x1678+0x2*-0x971+0x2*-0x1ca,-0x202b+0x175a+-0x71*-0x14,-0x6f+-0x2548+0x47*0x88];class BA extends me{constructor(_0x4e372e,_0xfc5893){super(),this['_device']=_0x4e372e,this['_pixelsPer'+'Unit']=_0xfc5893&&_0xfc5893['pixelsPerU'+'nit']!==void(-0x15d4+0x227f+-0xcab)?_0xfc5893['pixelsPerU'+'nit']:0x1*0xc97+0x133*-0x5+-0x697,this['_renderMod'+'e']=_0xfc5893&&_0xfc5893['renderMode']!==void(0x5b*-0x2c+-0x93d+0x18e1)?_0xfc5893['renderMode']:ci,this['_atlas']=_0xfc5893&&_0xfc5893['atlas']!==void(0xba*-0x33+-0x131e*-0x1+0x4*0x47c)?_0xfc5893['atlas']:null,this['_frameKeys']=_0xfc5893&&_0xfc5893['frameKeys']!==void(0x48a+-0x1ee9*0x1+-0x1a5f*-0x1)?_0xfc5893['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(0x2c3*0x3+0x1*0x37b+0x1*-0xbc3),this['_meshesDir'+'ty']=!(0x3a7+0x20*-0x10+-0x1a6),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0xccfea){this['_frameKeys']=_0xccfea,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0xcae+-0x22c2+0xb0*0x45):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0xccfea);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x197565){_0x197565!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x197565,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x15b8+0x9*-0x13f+-0x20ef*-0x1):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x197565));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x525ee0){this['_pixelsPer'+'Unit']!==_0x525ee0&&(this['_pixelsPer'+'Unit']=_0x525ee0,this['fire']('set:pixels'+'PerUnit',_0x525ee0),this['_atlas']&&this['_frameKeys']&&this['renderMode']===ci&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x1bfb+0x1dca+-0x1cf):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x13ff2e){if(this['_renderMod'+'e']===_0x13ff2e)return;const _0x4f2aac=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x13ff2e,this['fire']('set:render'+'Mode',_0x13ff2e),(_0x4f2aac===ci||_0x13ff2e===ci)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x9e3+-0x5e*0x3d+0xc83*0x1):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x520c87=this['_meshes']['length'];for(let _0x5cdef4=-0x1*0x1ad+-0x4*0x2c0+0xcad;_0x5cdef4<_0x520c87;_0x5cdef4++){const _0x347d38=this['_meshes'][_0x5cdef4];_0x347d38&&_0x347d38['destroy']();}const _0x35726c=this['_frameKeys']['length'];this['_meshes']=new Array(_0x35726c);const _0x290967=this['renderMode']===Pt||this['_renderMod'+'e']===Mt?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x3a64d5=0x8f4+-0xdc+-0x818;_0x3a64d5<_0x35726c;_0x3a64d5++){const _0x428e17=this['_atlas']['frames'][this['_frameKeys'][_0x3a64d5]];this['_meshes'][_0x3a64d5]=_0x428e17?_0x290967['call'](this,_0x428e17):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0xc9de92){const _0x45f79b=_0xc9de92['rect'],_0x493061=this['_atlas']['texture']['width'],_0x2bd29b=this['_atlas']['texture']['height'],_0x342fb=_0x45f79b['z']/this['_pixelsPer'+'Unit'],_0x395ba4=_0x45f79b['w']/this['_pixelsPer'+'Unit'],_0x34614d=_0xc9de92['pivot']['x'],_0x5cf737=_0xc9de92['pivot']['y'],_0x1787ea=[-_0x34614d*_0x342fb,-_0x5cf737*_0x395ba4,-0x20ed*0x1+0x2632*0x1+-0x545,(-0x1669+-0x1*-0x19b4+0x1a5*-0x2-_0x34614d)*_0x342fb,-_0x5cf737*_0x395ba4,-0x19*0x142+-0x1c66+-0xbf8*-0x5,(-0x102a+-0xa09+-0x34*-0x81-_0x34614d)*_0x342fb,(0x1c2b+0x337+0x1f61*-0x1-_0x5cf737)*_0x395ba4,0x22ea+0xd05+-0x2fef,-_0x34614d*_0x342fb,(0x10f1*0x1+-0x22df+0x11ef-_0x5cf737)*_0x395ba4,-0x157+-0x1813*0x1+-0x1*-0x196a],_0x277f71=_0x45f79b['x']/_0x493061,_0x291a3e=-0x541+-0x96+-0x88*-0xb-_0x45f79b['y']/_0x2bd29b,_0x5df08a=(_0x45f79b['x']+_0x45f79b['z'])/_0x493061,_0xa4f5e5=0xd5c*0x2+0x29*-0xbb+0x2*0x19e-(_0x45f79b['y']+_0x45f79b['w'])/_0x2bd29b,_0x66128a=[_0x277f71,_0x291a3e,_0x5df08a,_0x291a3e,_0x5df08a,_0xa4f5e5,_0x277f71,_0xa4f5e5],_0x48e06d=new Ta();return _0x48e06d['positions']=_0x1787ea,_0x48e06d['normals']=kA,_0x48e06d['uvs']=_0x66128a,_0x48e06d['indices']=UA,Ge['fromGeomet'+'ry'](this['_device'],_0x48e06d);}['_create9Sl'+'iceMesh'](){const _0x5c75ee=J['ONE'],_0x429f27=0x2b7*-0x6+0x26c*0x4+0x69d*0x1,_0x3b5eaa=-0x2038+0x15c8+0xa73,_0x3e81df=[],_0x4e50be=[],_0x41ca42=[],_0x55f1ae=[];let _0x46659=0x588+-0x1*0x1ade+0x1556;for(let _0x1d1990=0x1b9b*-0x1+0x91d+0x3*0x62a;_0x1d1990<=_0x429f27;_0x1d1990++){const _0x5362b4=_0x1d1990===-0x25f9*-0x1+-0xdfd*0x1+-0x17fc||_0x1d1990===_0x429f27?0x10b7+-0x1*0x137+0xf80*-0x1:-0x10fb*0x1+0x53*0x1e+-0x2*-0x3a1;for(let _0x370248=-0x4c6+0x83*-0x1e+0x508*0x4;_0x370248<=_0x3b5eaa;_0x370248++){const _0x3113fe=-_0x5c75ee['x']+(-0x1d*0x91+-0xd55+0x1dc4)*_0x5c75ee['x']*(_0x1d1990<=-0x91a+0xa75*-0x1+-0x8*-0x272?0x2b*-0x1c+-0x1286+-0x6*-0x3df:0xa73+0xd82+-0x17f2*0x1)/_0x429f27,_0x222e2c=0x5bd+-0x1dcb+0x180e,_0x477604=-(-_0x5c75ee['y']+(-0x7a8+0x94a+-0x20*0xd)*_0x5c75ee['y']*(_0x370248<=-0x95*-0x28+-0x311+-0x1436?-0x1f4d+-0x21f*0x3+0x25aa:-0x1cdd+0x4*0x7f+0x1ae4)/_0x3b5eaa),_0x217273=_0x370248===-0x1d59+-0xbe7*0x3+0x410e||_0x370248===_0x3b5eaa?-0xa33*0x1+0xb6d+-0x13a:0x204d*0x1+-0x1f64+0x1d*-0x8;_0x3e81df['push'](-_0x3113fe,_0x222e2c,_0x477604),_0x4e50be['push'](0x163*0x18+0x366*0x5+-0x14a*0x27,0x1f6*0xd+-0x14c2+-0x1*0x4bb,0x16a3+-0x3*0xa3c+0x811),_0x41ca42['push'](_0x5362b4,_0x217273),_0x1d1990<_0x429f27&&_0x370248<_0x3b5eaa&&(_0x55f1ae['push'](_0x46659+_0x3b5eaa+(-0x12e9*-0x1+0x49*-0x18+-0x1*0xc10),_0x46659+(-0x123*-0x3+-0x1d23+0x19bb),_0x46659),_0x55f1ae['push'](_0x46659+_0x3b5eaa+(0x1cd9+-0x2375+0x69d),_0x46659+_0x3b5eaa+(0x6e*-0x4c+-0x19bc+-0xd*-0x47e),_0x46659+(0x26*0x45+-0x10db+0x16*0x4d))),_0x46659++;}}const _0x449b42=new Ta();return _0x449b42['positions']=_0x3e81df,_0x449b42['normals']=_0x4e50be,_0x449b42['uvs']=_0x41ca42,_0x449b42['indices']=_0x55f1ae,Ge['fromGeomet'+'ry'](this['_device'],_0x449b42);}['_onSetFram'+'es'](_0x424e95){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x1*-0x2175+-0x26d5+0x560):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0x53ad77,_0x5896f4){const _0x10dc90=this['_frameKeys']['indexOf'](_0x53ad77);_0x10dc90<0x7c5+0xa1f+-0x11e4||(_0x5896f4?this['renderMode']===ci&&(this['_meshes'][_0x10dc90]=this['_createSim'+'pleMesh'](_0x5896f4)):this['_meshes'][_0x10dc90]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x25e80e){const _0x1cc96b=this['_frameKeys']['indexOf'](_0x25e80e);_0x1cc96b<0x574+-0xbe*0x26+0x16c0||(this['_meshes'][_0x1cc96b]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(-0x1*0x23f2+0x24b9+-0xc7*0x1),this['_meshesDir'+'ty']=!(-0x14ed+0x3*0xc13+-0xf4b);}['endUpdate'](){this['_updatingP'+'roperties']=!(-0x1*0x20b8+-0xd29+0x2de2),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(0x23*-0x9e+-0x1c5+-0x16*-0x110);}['destroy'](){for(const _0x1a93f9 of this['_meshes'])_0x1a93f9&&_0x1a93f9['destroy']();this['_meshes']['length']=0x139f+0x10f9+0x124c*-0x2;}}class zA extends me{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x1cd32e){this['_texture']=_0x1cd32e,this['fire']('set:textur'+'e',_0x1cd32e);}get['texture'](){return this['_texture'];}set['frames'](_0x140bfb){this['_frames']=_0x140bfb,this['fire']('set:frames',_0x140bfb);}get['frames'](){return this['_frames'];}['setFrame'](_0x59febe,_0x1db90a){let _0x2b54b7=this['_frames'][_0x59febe];_0x2b54b7?(_0x2b54b7['rect']['copy'](_0x1db90a['rect']),_0x2b54b7['pivot']['copy'](_0x1db90a['pivot']),_0x2b54b7['border']['copy'](_0x1db90a['border'])):(_0x2b54b7={'rect':_0x1db90a['rect']['clone'](),'pivot':_0x1db90a['pivot']['clone'](),'border':_0x1db90a['border']['clone']()},this['_frames'][_0x59febe]=_0x2b54b7),this['fire']('set:frame',_0x59febe['toString'](),_0x2b54b7);}['removeFram'+'e'](_0x539c43){const _0x2b2fa5=this['_frames'][_0x539c43];_0x2b2fa5&&(delete this['_frames'][_0x539c43],this['fire']('remove:fra'+'me',_0x539c43['toString'](),_0x2b2fa5));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class dg{constructor(_0x4061c8,_0x21360e,_0x1a1cf0,_0x4a7623){this['time']=_0x4061c8,this['position']=_0x21360e,this['rotation']=_0x1a1cf0,this['scale']=_0x4a7623;}}class fg{constructor(){this['_name']='',this['_keys']=[];}}class ug{constructor(){h(this,'name',''),h(this,'duration',-0x3c+0x3bb*0x7+0x1*-0x19e1),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x4a1e2f){return this['_nodeDict'][_0x4a1e2f];}['addNode'](_0x2816f2){this['_nodes']['push'](_0x2816f2),this['_nodeDict'][_0x2816f2['_name']]=_0x2816f2;}get['nodes'](){return this['_nodes'];}}class VA{constructor(){this['_written']=!(-0x2*-0x125b+-0x62f+0x1e86*-0x1),this['_name']='',this['_keyFrames']=[],this['_quat']=new le(),this['_pos']=new D(),this['_scale']=new D(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x1f7ac5){this['_targetNod'+'e']=_0x1f7ac5;}}class Sf{constructor(_0x503b05){h(this,'looping',!(-0x1*0x5a5+-0xab5*-0x1+-0x510)),(this['_animation']=null,this['_time']=0x65e+0x6*-0x106+0x2*-0x1d,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x4c191c=_0x158a74=>{const _0x224a35=new VA();_0x224a35['_name']=_0x158a74['name'],this['_interpola'+'tedKeys']['push'](_0x224a35),this['_interpola'+'tedKeyDict'][_0x158a74['name']]=_0x224a35,this['_currKeyIn'+'dices'][_0x158a74['name']]=0x1*0x1387+-0xbb9*0x2+0x11*0x3b;for(let _0x3e5319=-0x223a+-0xad8+0x2d12;_0x3e5319<_0x158a74['_children']['length'];_0x3e5319++)_0x4c191c(_0x158a74['_children'][_0x3e5319]);};_0x4c191c(_0x503b05);}set['animation'](_0x2e6dc6){this['_animation']=_0x2e6dc6,this['currentTim'+'e']=0x38a*-0xb+-0x264b+0x4d39;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x10c4ad){this['_time']=_0x10c4ad;const _0x46f271=this['_interpola'+'tedKeys']['length'];for(let _0x3e9265=0x435+0xc25*0x1+-0x105a;_0x3e9265<_0x46f271;_0x3e9265++){const _0xa2acc=this['_interpola'+'tedKeys'][_0x3e9265]['_name'];this['_currKeyIn'+'dices'][_0xa2acc]=0x1135+0x17d1+-0x2906;}this['addTime'](-0x1*0x210d+0x6cf+-0x1a3e*-0x1),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0x111ba9){if(this['_animation']!==null){const _0x36a01b=this['_animation']['_nodes'],_0x275aaf=this['_animation']['duration'];if(this['_time']===_0x275aaf&&!this['looping'])return;if(this['_time']+=_0x111ba9,this['_time']>_0x275aaf){this['_time']=this['looping']?0x23a*-0x2+0xae7+0xd*-0x7f:_0x275aaf;for(let _0x399f6b=-0x5ce*-0x3+0x2*0xfe5+0x4*-0xc4d;_0x399f6b<_0x36a01b['length'];_0x399f6b++){const _0x3bf5cf=_0x36a01b[_0x399f6b]['_name'];this['_currKeyIn'+'dices'][_0x3bf5cf]=0xcf7*0x2+-0x34a*0x6+-0x1a*0x3d;}}else{if(this['_time']<0xfae+-0x225*0x9+0x135*0x3){this['_time']=this['looping']?_0x275aaf:-0x12fd+-0x1*-0x129a+0x63;for(let _0xf08878=0x478+-0xaa4+0x62c;_0xf08878<_0x36a01b['length'];_0xf08878++){const _0x2a55be=_0x36a01b[_0xf08878],_0x5563f5=_0x2a55be['_name'];this['_currKeyIn'+'dices'][_0x5563f5]=_0x2a55be['_keys']['length']-(0x1b53+-0x587+-0x15ca);}}}const _0x48f3bd=_0x111ba9>=-0x1*0x17b2+-0x4d*-0x46+-0x1a*-0x1a?-0x107*-0x9+0x2b*-0x80+0xc42:-(-0xbf1*-0x1+-0xe*0x1c6+0x32*0x42);for(let _0x560075=0x1d0d+-0xeed+-0xe2*0x10;_0x560075<_0x36a01b['length'];_0x560075++){const _0x16f9ef=_0x36a01b[_0x560075],_0x163650=_0x16f9ef['_name'],_0xe7274a=_0x16f9ef['_keys'],_0x42cfcb=this['_interpola'+'tedKeyDict'][_0x163650];if(_0x42cfcb===void(0x115f+0x1473+0x2f*-0xce)){w['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x163650);continue;}let _0x4d15ac=!(0x919+-0x1b77+0x125f*0x1);if(_0xe7274a['length']!==0x1789+0x12b8*-0x2+0xde8)for(let _0xb38f13=this['_currKeyIn'+'dices'][_0x163650];_0xb38f13<_0xe7274a['length']-(-0x58c+0x2*-0xdf+-0x74b*-0x1)&&_0xb38f13>=0xe0a+-0x1b1*0x5+0x1*-0x595;_0xb38f13+=_0x48f3bd){const _0x5112fc=_0xe7274a[_0xb38f13],_0x1b9dba=_0xe7274a[_0xb38f13+(0x840+0x50c*-0x7+0x907*0x3)];if(_0x5112fc['time']<=this['_time']&&_0x1b9dba['time']>=this['_time']){const _0x45141a=(this['_time']-_0x5112fc['time'])/(_0x1b9dba['time']-_0x5112fc['time']);_0x42cfcb['_pos']['lerp'](_0x5112fc['position'],_0x1b9dba['position'],_0x45141a),_0x42cfcb['_quat']['slerp'](_0x5112fc['rotation'],_0x1b9dba['rotation'],_0x45141a),_0x42cfcb['_scale']['lerp'](_0x5112fc['scale'],_0x1b9dba['scale'],_0x45141a),_0x42cfcb['_written']=!(0x10e6+-0xd82+-0x1b2*0x2),this['_currKeyIn'+'dices'][_0x163650]=_0xb38f13,_0x4d15ac=!(-0x1630+-0x170e*-0x1+-0xde);break;}}(_0xe7274a['length']===-0xd8*0x1+-0x292+0x36b||!_0x4d15ac&&this['_time']===-0x1ab9*-0x1+0x1fd6+-0x3a8f&&this['looping'])&&(_0x42cfcb['_pos']['copy'](_0xe7274a[0x1*-0x21b2+-0xcd2+0x2e84]['position']),_0x42cfcb['_quat']['copy'](_0xe7274a[-0x1c4b+0x109*-0x22+0x3f7d]['rotation']),_0x42cfcb['_scale']['copy'](_0xe7274a[-0x1*0x14eb+0x2087+-0x2*0x5ce]['scale']),_0x42cfcb['_written']=!(-0xebc+0x2003*0x1+0x1*-0x1147));}}}['blend'](_0x2b6c82,_0x326736,_0x540fd7){const _0x491703=this['_interpola'+'tedKeys']['length'];for(let _0x3aeb94=-0x13d1+0x8a9+0xb28;_0x3aeb94<_0x491703;_0x3aeb94++){const _0xfabde5=_0x2b6c82['_interpola'+'tedKeys'][_0x3aeb94],_0x36955e=_0x326736['_interpola'+'tedKeys'][_0x3aeb94],_0x4b85d1=this['_interpola'+'tedKeys'][_0x3aeb94];_0xfabde5['_written']&&_0x36955e['_written']?(_0x4b85d1['_quat']['slerp'](_0xfabde5['_quat'],_0x326736['_interpola'+'tedKeys'][_0x3aeb94]['_quat'],_0x540fd7),_0x4b85d1['_pos']['lerp'](_0xfabde5['_pos'],_0x326736['_interpola'+'tedKeys'][_0x3aeb94]['_pos'],_0x540fd7),_0x4b85d1['_scale']['lerp'](_0xfabde5['_scale'],_0x36955e['_scale'],_0x540fd7),_0x4b85d1['_written']=!(0x15cf*-0x1+0x1f1b*-0x1+-0x209*-0x1a)):_0xfabde5['_written']?(_0x4b85d1['_quat']['copy'](_0xfabde5['_quat']),_0x4b85d1['_pos']['copy'](_0xfabde5['_pos']),_0x4b85d1['_scale']['copy'](_0xfabde5['_scale']),_0x4b85d1['_written']=!(-0x2631+-0x26df+0xc*0x66c)):_0x36955e['_written']&&(_0x4b85d1['_quat']['copy'](_0x36955e['_quat']),_0x4b85d1['_pos']['copy'](_0x36955e['_pos']),_0x4b85d1['_scale']['copy'](_0x36955e['_scale']),_0x4b85d1['_written']=!(0x9d+0x26*0x80+0x139d*-0x1));}}['setGraph'](_0x596225){if(this['graph']=_0x596225,_0x596225)for(let _0x524469=0x26*0xaa+0x11f*-0x1+-0x181d;_0x524469<this['_interpola'+'tedKeys']['length'];_0x524469++){const _0x2acd27=this['_interpola'+'tedKeys'][_0x524469],_0x2681b9=_0x596225['findByName'](_0x2acd27['_name']);this['_interpola'+'tedKeys'][_0x524469]['setTarget'](_0x2681b9);}else{for(let _0x4d414e=0x1c48+-0x1*-0x2615+-0x425d;_0x4d414e<this['_interpola'+'tedKeys']['length'];_0x4d414e++)this['_interpola'+'tedKeys'][_0x4d414e]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x38cab3=0xeb2+0x721*-0x3+-0x3*-0x23b;_0x38cab3<this['_interpola'+'tedKeys']['length'];_0x38cab3++){const _0x53024a=this['_interpola'+'tedKeys'][_0x38cab3];if(_0x53024a['_written']){const _0x518e5c=_0x53024a['getTarget']();_0x518e5c['localPosit'+'ion']['copy'](_0x53024a['_pos']),_0x518e5c['localRotat'+'ion']['copy'](_0x53024a['_quat']),_0x518e5c['localScale']['copy'](_0x53024a['_scale']),_0x518e5c['_dirtyLoca'+'l']||_0x518e5c['_dirtifyLo'+'cal'](),_0x53024a['_written']=!(-0x137*-0x10+-0x1e38+0x1*0xac9);}}}}const zs=(0x1*0xefd+-0xa6+-0xe53)/(0x3cd*0x7+-0x1*-0x1582+0x2fdd*-0x1),si=0x10ab+0x1d5a+-0x49a*0xa-zs*(-0x1002+-0x5*0x23+0x10b3);class gm extends Ta{constructor(_0x4a8f7e,_0x2e7222,_0x1c1aa7,_0x2d6c17,_0x50c5d8,_0x22e19f){super();const _0x36501a=new D(),_0x146f8c=new D(),_0x41b2d0=new D(),_0x2f29a8=new D(),_0x58c894=new D(),_0x1157e=new D(),_0x436c88=[],_0x295b6b=[],_0x502c46=[],_0x2b2349=[],_0x4ee2e3=[];let _0x407a53;if(_0x1c1aa7>0x26c5+-0x294*-0x3+-0x1*0x2e81){for(let _0x22dc38=0xd*0x57+-0x1aee+0x1683;_0x22dc38<=_0x2d6c17;_0x22dc38++)for(let _0x112f51=-0x1*-0x799+-0x151d+0xd84;_0x112f51<=_0x50c5d8;_0x112f51++){const _0x3df5ab=_0x112f51/_0x50c5d8*(-0x1896+-0x2e*-0x6b+0x1ca*0x3)*Math['PI']-Math['PI'],_0x224a08=Math['sin'](_0x3df5ab),_0x54cf27=Math['cos'](_0x3df5ab);_0x58c894['set'](_0x224a08*_0x4a8f7e,-_0x1c1aa7/(-0x4d6+0x46f+0x69),_0x54cf27*_0x4a8f7e),_0x2f29a8['set'](_0x224a08*_0x2e7222,_0x1c1aa7/(-0x55e+-0xf89+0x14e9),_0x54cf27*_0x2e7222),_0x36501a['lerp'](_0x58c894,_0x2f29a8,_0x22dc38/_0x2d6c17),_0x146f8c['sub2'](_0x2f29a8,_0x58c894)['normalize'](),_0x1157e['set'](_0x54cf27,-0x2*0x904+-0x1faa+-0x1*-0x31b2,-_0x224a08),_0x41b2d0['cross'](_0x1157e,_0x146f8c)['normalize'](),_0x436c88['push'](_0x36501a['x'],_0x36501a['y'],_0x36501a['z']),_0x295b6b['push'](_0x41b2d0['x'],_0x41b2d0['y'],_0x41b2d0['z']);let _0x58ae8f=_0x112f51/_0x50c5d8,_0x2fb275=_0x22dc38/_0x2d6c17;_0x502c46['push'](_0x58ae8f,0x26d9+0x114b+0x1*-0x3823-_0x2fb275);const _0x29e8f5=_0x2fb275;if(_0x2fb275=_0x58ae8f,_0x58ae8f=_0x29e8f5,_0x58ae8f=_0x58ae8f*si+zs,_0x2fb275=_0x2fb275*si+zs,_0x58ae8f/=-0x11a5+-0x8ef*0x1+0x8dd*0x3,_0x2b2349['push'](_0x58ae8f,-0x1a5*-0x13+-0xa29+-0x1515-_0x2fb275),_0x22dc38<_0x2d6c17&&_0x112f51<_0x50c5d8){const _0x178cb6=_0x22dc38*(_0x50c5d8+(-0xd04+-0x10a+0x3d*0x3b))+_0x112f51,_0x4ac783=_0x22dc38*(_0x50c5d8+(-0x1631+-0xddb+0x240d))+(_0x112f51+(0x1718*0x1+0x2319+0x3a30*-0x1)),_0x29f576=(_0x22dc38+(0x3*-0x98d+0xf*-0xe9+0x2a4f*0x1))*(_0x50c5d8+(-0x515*-0x1+0x21f2+-0x2706))+_0x112f51,_0x167674=(_0x22dc38+(-0x846+0xd65*-0x2+0x2311))*(_0x50c5d8+(0x4*0x412+0x1*-0x3ea+-0xc5d))+(_0x112f51+(-0x672+-0x8*-0x376+-0x153d));_0x4ee2e3['push'](_0x178cb6,_0x4ac783,_0x29f576),_0x4ee2e3['push'](_0x4ac783,_0x167674,_0x29f576);}}}if(_0x22e19f){const _0x3d4cad=Math['floor'](_0x50c5d8/(0xad0+-0x3de*0x4+0x4aa*0x1)),_0x145d7b=_0x50c5d8,_0x54c731=_0x1c1aa7/(-0x26b3+-0x2*0x987+-0x1341*-0x3);for(let _0x32351a=-0xd3e+-0x21f7+-0x5*-0x971;_0x32351a<=_0x3d4cad;_0x32351a++){const _0x3ed18e=_0x32351a*Math['PI']*(-0x27f+-0x6fb+0x2*0x4bd+0.5)/_0x3d4cad,_0x471358=Math['sin'](_0x3ed18e),_0x4b2273=Math['cos'](_0x3ed18e);for(let _0x8b18b9=0x961*-0x2+0x692+0x1a*0x78;_0x8b18b9<=_0x145d7b;_0x8b18b9++){const _0x511cf0=_0x8b18b9*(-0x1458+-0x2*0xd0e+-0x26*-0x139)*Math['PI']/_0x145d7b-Math['PI']/(0xc18+-0x1*0x1da2+0x4*0x463),_0x2c25e4=Math['sin'](_0x511cf0),_0x384a06=Math['cos'](_0x511cf0)*_0x471358,_0x14213d=_0x4b2273,_0x28153f=_0x2c25e4*_0x471358;let _0x34b2aa=-0xc2d+0x1c8c+-0x105e-_0x8b18b9/_0x145d7b,_0x17bf9c=0x24c6+0x101b+-0xbc*0x48-_0x32351a/_0x3d4cad;_0x436c88['push'](_0x384a06*_0x2e7222,_0x14213d*_0x2e7222+_0x54c731,_0x28153f*_0x2e7222),_0x295b6b['push'](_0x384a06,_0x14213d,_0x28153f),_0x502c46['push'](_0x34b2aa,0x466*-0x6+-0x1e1b+-0x8*-0x710-_0x17bf9c),_0x34b2aa=_0x34b2aa*si+zs,_0x17bf9c=_0x17bf9c*si+zs,_0x34b2aa/=0x23cd+0x893*0x3+-0x57*0xb5,_0x17bf9c/=-0x827*-0x4+0xa9*-0x1f+-0xc22,_0x34b2aa+=(-0x1241+-0xd91+0x1fd3)/(0x14d3*0x1+0x1a5b+0x73*-0x69),_0x2b2349['push'](_0x34b2aa,-0x1d45+0x3*-0xda+-0xc2*-0x2a-_0x17bf9c);}}_0x407a53=(_0x2d6c17+(-0x980+-0x2216*0x1+-0x1*-0x2b97))*(_0x50c5d8+(0x621+-0x62a+0xa));for(let _0x447319=0x4a8*0x3+-0x1*0x1a51+0xc59;_0x447319<_0x3d4cad;++_0x447319)for(let _0x27e533=0x1b6a+-0x417+-0x1753;_0x27e533<_0x145d7b;++_0x27e533){const _0x260ed0=_0x447319*(_0x145d7b+(0x2*-0x117a+0xd*-0x1f9+0x3c9a))+_0x27e533,_0x507f33=_0x260ed0+_0x145d7b+(-0x1539*0x1+-0x4a3*-0x1+0x1097);_0x4ee2e3['push'](_0x407a53+_0x260ed0+(-0x1fbe+0x2316+0x3*-0x11d),_0x407a53+_0x507f33,_0x407a53+_0x260ed0),_0x4ee2e3['push'](_0x407a53+_0x260ed0+(-0x3d6*0xa+0x2645*-0x1+0x4ca2),_0x407a53+_0x507f33+(-0x2*0xe4d+0x8a0+-0x3ff*-0x5),_0x407a53+_0x507f33);}for(let _0xb9ca3a=0x2*-0x9dc+-0x1*-0x15b+0x125d;_0xb9ca3a<=_0x3d4cad;_0xb9ca3a++){const _0x1593fe=Math['PI']*(0x21c4*0x1+0xdb*-0x1f+-0x73f+0.5)+_0xb9ca3a*Math['PI']*(-0xc42*-0x1+-0x2a5*-0x7+-0x1ec5+0.5)/_0x3d4cad,_0x53cd8b=Math['sin'](_0x1593fe),_0x4f7a10=Math['cos'](_0x1593fe);for(let _0x4e9a07=-0x24f2*-0x1+0x4*-0x2a2+0x2e*-0x93;_0x4e9a07<=_0x145d7b;_0x4e9a07++){const _0x264dbf=_0x4e9a07*(0x1c3e+0xe70+-0x1*0x2aac)*Math['PI']/_0x145d7b-Math['PI']/(-0x11e2+-0x13*0x119+0x26bf),_0x4e5c54=Math['sin'](_0x264dbf),_0xce2ff=Math['cos'](_0x264dbf)*_0x53cd8b,_0x57d5bc=_0x4f7a10,_0x3fa939=_0x4e5c54*_0x53cd8b;let _0x26edc1=0x553+0x1*-0x2301+0x1daf-_0x4e9a07/_0x145d7b,_0x3cabb9=0x2ef*0x2+0x15a7+-0x3*0x92c-_0xb9ca3a/_0x3d4cad;_0x436c88['push'](_0xce2ff*_0x2e7222,_0x57d5bc*_0x2e7222-_0x54c731,_0x3fa939*_0x2e7222),_0x295b6b['push'](_0xce2ff,_0x57d5bc,_0x3fa939),_0x502c46['push'](_0x26edc1,0x1a7d+-0x10c4+-0x9b8-_0x3cabb9),_0x26edc1=_0x26edc1*si+zs,_0x3cabb9=_0x3cabb9*si+zs,_0x26edc1/=0xcaa+-0x1f22*-0x1+-0xb*0x3fb,_0x3cabb9/=0x1e0a+-0x298+-0x1b6f,_0x26edc1+=(0x35*0x3e+0x21c6+-0x2e9a*0x1)/(-0x1*0x2286+-0x28c+-0x1*-0x2515),_0x2b2349['push'](_0x26edc1,0x21b1+-0x2096+0x1*-0x11a-_0x3cabb9);}}_0x407a53=(_0x2d6c17+(-0x22*0xf2+-0x2e*0x94+0x3abd))*(_0x50c5d8+(0xd9e+0x8*-0x388+0xea3))+(_0x145d7b+(0x1*-0x70d+-0x871*-0x3+-0x1*0x1245))*(_0x3d4cad+(0x204b+-0xf92*0x1+-0x10b8));for(let _0x181768=-0x2624+-0x265b+-0x4c7f*-0x1;_0x181768<_0x3d4cad;++_0x181768)for(let _0x595e3c=0x44*-0x2b+0x15b4+-0xa48;_0x595e3c<_0x145d7b;++_0x595e3c){const _0x3ceb29=_0x181768*(_0x145d7b+(0x391+0x3a6*-0x2+0x3bc))+_0x595e3c,_0x2f4782=_0x3ceb29+_0x145d7b+(-0xb*0x38a+0x1*-0x126b+-0x1cad*-0x2);_0x4ee2e3['push'](_0x407a53+_0x3ceb29+(-0x1962+-0x890*0x2+-0x2a83*-0x1),_0x407a53+_0x2f4782,_0x407a53+_0x3ceb29),_0x4ee2e3['push'](_0x407a53+_0x3ceb29+(-0x18f1+-0xbf*-0x7+0x13b9),_0x407a53+_0x2f4782+(0x2*0xfef+-0x9*-0x206+0x1*-0x3213),_0x407a53+_0x2f4782);}}else{if(_0x407a53=(_0x2d6c17+(-0x132*0x1b+0x10d0+0x1*0xf77))*(_0x50c5d8+(-0x1eb8+-0x13*-0x92+0x13e3)),_0x4a8f7e>0x11b5+0x1de*-0x7+-0x4a3*0x1)for(let _0x13c740=-0x1e*0x3b+-0x149f*0x1+0x1b89;_0x13c740<_0x50c5d8;_0x13c740++){const _0x1d8810=_0x13c740/_0x50c5d8*(0x1fdf+0xf3+-0x20d0)*Math['PI'],_0x3801af=Math['sin'](_0x1d8810),_0x3f1701=-_0x1c1aa7/(-0x2573*-0x1+-0x14d5*-0x1+0x2*-0x1d23),_0x442c26=Math['cos'](_0x1d8810);let _0x22cd79=-0x2220+-0x7*0x355+-0xe5d*-0x4-(_0x3801af+(0xe83+-0x2c6+-0xbbc))/(-0x1*0xdf6+-0x1d0+0xfc8),_0x266904=(_0x442c26+(-0x977+-0x2227+0x2b9f))/(-0x78b+0x169f+-0x1*0xf12);_0x436c88['push'](_0x3801af*_0x4a8f7e,_0x3f1701,_0x442c26*_0x4a8f7e),_0x295b6b['push'](0xaf0+0x6*0x13c+0x2*-0x92c,-(-0x1*0xf9d+0x2*-0xa53+-0x1a6*-0x16),0x10a*-0x11+0x225a+0x10b0*-0x1),_0x502c46['push'](_0x22cd79,-0x8*-0x167+0x12f*0xb+0x84*-0x2f-_0x266904),_0x22cd79=_0x22cd79*si+zs,_0x266904=_0x266904*si+zs,_0x22cd79/=-0xc4*0x1d+0x1fa2+0x1*-0x96b,_0x266904/=0x2527*0x1+0x4c6*-0x8+0x10c,_0x22cd79+=(-0xc5*0x17+0x52*0x40+-0x2cc*0x1)/(0x10cb+-0x1f9f+-0x1d*-0x83),_0x2b2349['push'](_0x22cd79,-0x141e+0x10e2+0x33d*0x1-_0x266904),_0x13c740>0x541*-0x3+0x1df*0x13+-0x13c9&&_0x4ee2e3['push'](_0x407a53,_0x407a53+_0x13c740,_0x407a53+_0x13c740-(0x166*0xc+0x3*0xad9+-0x3152));}if(_0x407a53+=_0x50c5d8,_0x2e7222>0x1965+-0x1*-0xc31+-0x2596)for(let _0x53f8f6=-0x3*0x5e8+0xa7c+-0x4*-0x1cf;_0x53f8f6<_0x50c5d8;_0x53f8f6++){const _0x37ce39=_0x53f8f6/_0x50c5d8*(0x332+-0x1a80+0x1750)*Math['PI'],_0x51eab3=Math['sin'](_0x37ce39),_0x4098b7=_0x1c1aa7/(0x18fb*0x1+-0x44d*-0x3+0x194*-0x18),_0x1d9ab7=Math['cos'](_0x37ce39);let _0x8bd35a=0xc26+-0x1d9+-0xa4c-(_0x51eab3+(-0x8d*0x24+-0x798+-0x77*-0x3b))/(-0x3*-0x48d+-0x90d+-0x498),_0x5ec6ef=(_0x1d9ab7+(0x1f10+0x1729+-0x3638))/(0x1a6*0xf+0x926+-0x21de);_0x436c88['push'](_0x51eab3*_0x2e7222,_0x4098b7,_0x1d9ab7*_0x2e7222),_0x295b6b['push'](0x1*0x1843+0x11bc+0x33b*-0xd,0x17a2+0x49*0x59+0x3102*-0x1,-0x1309+0x170c*0x1+-0x403),_0x502c46['push'](_0x8bd35a,-0x1347+-0x4*-0x7b8+0x38*-0x35-_0x5ec6ef),_0x8bd35a=_0x8bd35a*si+zs,_0x5ec6ef=_0x5ec6ef*si+zs,_0x8bd35a/=0x3*0x42+0x1a1a+-0x1add,_0x5ec6ef/=0x22*-0xc5+0x4b2*-0x7+0x3b0b,_0x8bd35a+=(-0x52*-0x47+-0x438*0x3+-0x50a*0x2)/(0x7ff+0x1*-0x1aae+-0x959*-0x2),_0x2b2349['push'](_0x8bd35a,-0xb3*0x5+0xe29+-0xaa9*0x1-_0x5ec6ef),_0x53f8f6>0x79*0x2e+-0x1cf9+-0x39e*-0x2&&_0x4ee2e3['push'](_0x407a53,_0x407a53+_0x53f8f6-(0x225b+-0x1ca*0x5+-0x1968),_0x407a53+_0x53f8f6);}}this['positions']=_0x436c88,this['normals']=_0x295b6b,this['uvs']=_0x502c46,this['uvs1']=_0x2b2349,this['indices']=_0x4ee2e3;}}class GA extends gm{constructor(_0xcb1053={}){const _0xc68a72=_0xcb1053['radius']??0x21b8+0x1*-0x187f+-0x3*0x313+0.3,_0x3b2834=_0xcb1053['height']??0x2253+0x219b+-0x43ed,_0x2347d6=_0xcb1053['heightSegm'+'ents']??0x95*0x25+-0x398+-0x11f0,_0x128518=_0xcb1053['sides']??0x3*0x475+-0x1*0xdc1+-0x2*-0x3b;super(_0xc68a72,_0xc68a72,_0x3b2834-(0x19a+0x82b+-0x1*0x9c3)*_0xc68a72,_0x2347d6,_0x128518,!(0xc20+0x430+0xae*-0x18)),_0xcb1053['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class HA extends gm{constructor(_0x4e4061={}){const _0x565419=_0x4e4061['baseRadius']??-0x8*-0x2+-0x32*0xa3+0xfe3*0x2+0.5,_0x1e4e33=_0x4e4061['peakRadius']??-0x2635+0x1*-0xd5a+0x338f,_0x19a535=_0x4e4061['height']??0x11*-0x135+0x6*0xef+0xeec,_0x59939a=_0x4e4061['heightSegm'+'ents']??0x1b6+0x23a0+-0xe9*0x29,_0x517bca=_0x4e4061['capSegment'+'s']??-0x1fde+0x1*-0x833+0x2823;super(_0x565419,_0x1e4e33,_0x19a535,_0x59939a,_0x517bca,!(-0x2265+0x1ead+0x3b9*0x1)),_0x4e4061['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class WA extends gm{constructor(_0x4e5d2a={}){const _0x4010f1=_0x4e5d2a['radius']??0x26c9+-0x9*0x2cb+-0x6d3*0x2+0.5,_0x4b7c92=_0x4e5d2a['height']??0xff*-0x27+-0x30e+0x29e8,_0x52daff=_0x4e5d2a['heightSegm'+'ents']??-0x5*-0x52f+0x8ab+-0x1*0x2291,_0x197ba3=_0x4e5d2a['capSegment'+'s']??0x33*0x43+0x60b*0x1+0xce*-0x18;super(_0x4010f1,_0x4010f1,_0x4b7c92,_0x52daff,_0x197ba3,!(0xf1c+0x2*0x118b+0x1*-0x3231)),_0x4e5d2a['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class $A extends Ta{constructor(_0x18dae9={}){super();const _0x25518c=_0x18dae9['halfExtent'+'s']??new J(-0x3*-0x3b9+0x23c9*-0x1+0x89*0x2e+0.5,-0x1*0xf6b+-0x1342+0xb*0x327+0.5),_0xeac500=_0x18dae9['widthSegme'+'nts']??0x7*-0x15b+-0x15af+0x1f31,_0x1bc431=_0x18dae9['lengthSegm'+'ents']??-0x593+-0x18bf+0x1e57,_0x3e5342=[],_0x5246c0=[],_0xc7ed58=[],_0x1f1f59=[];let _0x225094=-0x1*0x1593+-0x1f3a+-0x78b*-0x7;for(let _0x43735d=-0x15c2+0x7bf+0x1*0xe03;_0x43735d<=_0xeac500;_0x43735d++)for(let _0x25e3db=0x1*-0x7e3+0x53a*0x6+-0x1779;_0x25e3db<=_0x1bc431;_0x25e3db++){const _0x15f8fe=-_0x25518c['x']+(0x70b+0x770+-0xe79)*_0x25518c['x']*_0x43735d/_0xeac500,_0x33855a=-0x1*-0x18c7+-0x1605+-0x2c2,_0x5dadc8=-(-_0x25518c['y']+(-0x1*0x6f7+-0x3e*-0x79+-0x1655)*_0x25518c['y']*_0x25e3db/_0x1bc431),_0x53b5db=_0x43735d/_0xeac500,_0x1651b5=_0x25e3db/_0x1bc431;_0x3e5342['push'](_0x15f8fe,_0x33855a,_0x5dadc8),_0x5246c0['push'](0x50e*0x3+-0x1d5a+0x10*0xe3,0x6f6+0x1a3a*0x1+-0x212f,-0xa25+-0x2456+0xa3*0x49),_0xc7ed58['push'](_0x53b5db,-0xc8b+-0x140c*0x1+0x2098-_0x1651b5),_0x43735d<_0xeac500&&_0x25e3db<_0x1bc431&&(_0x1f1f59['push'](_0x225094+_0x1bc431+(-0x314*0x2+-0x44f+0x218*0x5),_0x225094+(-0x4c*-0x3+0x5*-0x32f+-0x3c2*-0x4),_0x225094),_0x1f1f59['push'](_0x225094+_0x1bc431+(0x19cb+-0xda6+0x15*-0x94),_0x225094+_0x1bc431+(0xe03+0x1*0x2615+-0x1*0x3416),_0x225094+(-0x4c*0x76+-0x181b*0x1+0x14*0x2f5))),_0x225094++;}this['positions']=_0x3e5342,this['normals']=_0x5246c0,this['uvs']=_0xc7ed58,this['uvs1']=_0xc7ed58,this['indices']=_0x1f1f59,_0x18dae9['calculateT'+'angents']&&(this['tangents']=Mr(_0x3e5342,_0x5246c0,_0xc7ed58,_0x1f1f59));}}class XA extends Ta{constructor(_0x547e22={}){super();const _0x410ce4=_0x547e22['tubeRadius']??0x1324+0x1349*-0x1+0x25+0.2,_0x5cbcdc=_0x547e22['ringRadius']??0x472*0x1+0x40a+-0x87c+0.3,_0x41375f=(_0x547e22['sectorAngl'+'e']??-0x9d*-0x2c+-0x5c*-0x8+0x97c*-0x3)*Y['DEG_TO_RAD'],_0x1aaa97=_0x547e22['segments']??-0x2*0x855+0xd*0x9+0x7*0x255,_0x13ff36=_0x547e22['sides']??-0xee+-0x1eca*-0x1+0x772*-0x4,_0x470e74=[],_0x27d690=[],_0x4214ee=[],_0x34e4ad=[];for(let _0x7b31d7=-0x3b8+0x26*0x52+-0x874;_0x7b31d7<=_0x13ff36;_0x7b31d7++)for(let _0x49d4dc=-0x6f3*0x1+-0x167b+0x1d6e;_0x49d4dc<=_0x1aaa97;_0x49d4dc++){const _0x51989b=Math['cos'](_0x41375f*_0x49d4dc/_0x1aaa97)*(_0x5cbcdc+_0x410ce4*Math['cos']((0x17a3+0xfbd+0x275e*-0x1)*Math['PI']*_0x7b31d7/_0x13ff36)),_0x364d85=Math['sin']((0x16e6+-0x135*-0xa+-0x22f6*0x1)*Math['PI']*_0x7b31d7/_0x13ff36)*_0x410ce4,_0x178f2a=Math['sin'](_0x41375f*_0x49d4dc/_0x1aaa97)*(_0x5cbcdc+_0x410ce4*Math['cos']((-0x2648+0x164a+0x1000)*Math['PI']*_0x7b31d7/_0x13ff36)),_0x44a793=Math['cos'](_0x41375f*_0x49d4dc/_0x1aaa97)*Math['cos']((0x16a4+0x11ee+0xb*-0x3b0)*Math['PI']*_0x7b31d7/_0x13ff36),_0x595cf7=Math['sin']((-0x1*0x1459+0x1*-0x2287+-0x2*-0x1b71)*Math['PI']*_0x7b31d7/_0x13ff36),_0x11dea2=Math['sin'](_0x41375f*_0x49d4dc/_0x1aaa97)*Math['cos']((0x2375+-0x10*-0x55+0x5*-0x827)*Math['PI']*_0x7b31d7/_0x13ff36),_0x234c44=_0x7b31d7/_0x13ff36,_0xee2abb=-0x107a+0x2*0xbfb+-0x77b-_0x49d4dc/_0x1aaa97;if(_0x470e74['push'](_0x51989b,_0x364d85,_0x178f2a),_0x27d690['push'](_0x44a793,_0x595cf7,_0x11dea2),_0x4214ee['push'](_0x234c44,0x1*-0x22b+0x1166+-0xf3a-_0xee2abb),_0x7b31d7<_0x13ff36&&_0x49d4dc<_0x1aaa97){const _0x1bfacd=_0x7b31d7*(_0x1aaa97+(0x22bf+0x1*0x99b+0x2c59*-0x1))+_0x49d4dc,_0x13f58f=(_0x7b31d7+(0x21f0+-0x196a+-0x885))*(_0x1aaa97+(-0xab6+-0x1*-0x26dd+0x3*-0x962))+_0x49d4dc,_0x2b0057=_0x7b31d7*(_0x1aaa97+(-0x8*-0x11f+-0x12c0+0x9c9))+(_0x49d4dc+(-0x23f6+-0x2*0xceb+0x3dcd)),_0x6dbf4a=(_0x7b31d7+(0x3*0x7b5+0x4d6+-0x1bf4))*(_0x1aaa97+(-0x1c67+0x29*-0x47+0x27c7))+(_0x49d4dc+(-0x219f+0x14b9+0xce7));_0x34e4ad['push'](_0x1bfacd,_0x13f58f,_0x2b0057),_0x34e4ad['push'](_0x13f58f,_0x6dbf4a,_0x2b0057);}}this['positions']=_0x470e74,this['normals']=_0x27d690,this['uvs']=_0x4214ee,this['uvs1']=_0x4214ee,this['indices']=_0x34e4ad,_0x547e22['calculateT'+'angents']&&(this['tangents']=Mr(_0x470e74,_0x27d690,_0x4214ee,_0x34e4ad));}}class qA{constructor(_0x20c795,_0x778e9a){h(this,'processedC'+'ache',new Map()),h(this,'definition'+'sCache',new Map()),h(this,'_generator'+'s',new Map()),(this['_device']=_0x20c795,this['_isClearin'+'gCache']=!(0x9a7+0x7b7*0x5+-0x3*0x1013),this['_precached']=!(0x2029+-0x96b*0x1+0x1*-0x16bd),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new dl(),this['_defaultSt'+'dMatOption'+'Min']=new dl());const _0x459616=new vv();_0x778e9a['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x459616,_0x778e9a,null,[],Aa,null),_0x778e9a['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x778e9a,null,cm,null),_0x20c795['on']('destroy:sh'+'ader',_0x53f542=>{this['removeFrom'+'Cache'](_0x53f542);});}['destroy'](){this['clearCache']();}['register'](_0x206edd,_0xa7f07f){this['_generator'+'s']['has'](_0x206edd)||this['_generator'+'s']['set'](_0x206edd,_0xa7f07f);}['unregister'](_0x4e8cc0){this['_generator'+'s']['has'](_0x4e8cc0)&&this['_generator'+'s']['delete'](_0x4e8cc0);}['isRegister'+'ed'](_0x1490d0){return this['_generator'+'s']['has'](_0x1490d0);}['generateSh'+'aderDefini'+'tion'](_0x6a4ae,_0x3daaec,_0x7ac8dc,_0x2ffae3){var _0x209ebe,_0x3f4f0e;let _0x15bfab=this['definition'+'sCache']['get'](_0x7ac8dc);if(!_0x15bfab){let _0x36fa9a;(_0x209ebe=_0x2ffae3['litOptions'])!=null&&_0x209ebe['lights']&&(_0x36fa9a=_0x2ffae3['litOptions']['lights'],_0x2ffae3['litOptions']['lights']=_0x36fa9a['map'](_0x377dd1=>{const _0x19d05b=_0x377dd1['clone']?_0x377dd1['clone']():_0x377dd1;return _0x19d05b['key']=_0x377dd1['key'],_0x19d05b;})),this['storeNewPr'+'ogram'](_0x3daaec,_0x2ffae3),(_0x3f4f0e=_0x2ffae3['litOptions'])!=null&&_0x3f4f0e['lights']&&(_0x2ffae3['litOptions']['lights']=_0x36fa9a),this['_precached']&&w['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0x3daaec+'\x20key\x20'+_0x7ac8dc+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x555b81=this['_device'];_0x15bfab=_0x6a4ae['createShad'+'erDefiniti'+'on'](_0x555b81,_0x2ffae3),_0x15bfab['name']=_0x15bfab['name']??(_0x2ffae3['pass']?_0x3daaec+'-pass:'+_0x2ffae3['pass']:_0x3daaec),this['definition'+'sCache']['set'](_0x7ac8dc,_0x15bfab);}return _0x15bfab;}['getCachedS'+'hader'](_0x583579){return this['processedC'+'ache']['get'](_0x583579);}['setCachedS'+'hader'](_0x1512ee,_0x13eea6){this['processedC'+'ache']['set'](_0x1512ee,_0x13eea6);}['getProgram'](_0x2dedd9,_0x1cd559,_0x31e70f,_0x34ef20){const _0x2836c4=this['_generator'+'s']['get'](_0x2dedd9);if(!_0x2836c4)return w['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x2dedd9),null;const _0x55ac21=_0x2836c4['generateKe'+'y'](_0x1cd559),_0x28786b=hi(_0x55ac21),_0x322c3f=_0x31e70f['generateKe'+'y'](this['_device']),_0x2ab529=hi(_0x322c3f),_0xc71735=_0x28786b+'#'+_0x2ab529;let _0xc9eb17=this['getCachedS'+'hader'](_0xc71735);if(!_0xc9eb17){const _0x301f02=this['generateSh'+'aderDefini'+'tion'](_0x2836c4,_0x2dedd9,_0x28786b,_0x1cd559);w['assert'](_0x301f02);let _0x567fba='',_0x2554d6;_0x1cd559['pass']!==void(0x541+0x1681+-0x11*0x1a2)&&(_0x2554d6=Si['get'](this['_device'])['getByIndex'](_0x1cd559['pass']),_0x567fba='-'+_0x2554d6['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x34ef20,'shaderPassInfo':_0x2554d6,'definition':_0x301f02});const _0x491686={'name':''+_0x301f02['name']+_0x567fba+'-proc','attributes':_0x301f02['attributes'],'vshader':_0x301f02['vshader'],'vincludes':_0x301f02['vincludes'],'fincludes':_0x301f02['fincludes'],'fshader':_0x301f02['fshader'],'processingOptions':_0x31e70f,'shaderLanguage':_0x301f02['shaderLang'+'uage'],'meshUniformBufferFormat':_0x301f02['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x301f02['meshBindGr'+'oupFormat']};_0xc9eb17=new qy(this['_device'],_0x491686),w['call'](()=>{_0xc9eb17['_generatio'+'nKey']=_0x55ac21,_0xc9eb17['_processin'+'gKey']=_0x322c3f;}),this['setCachedS'+'hader'](_0xc71735,_0xc9eb17);}return _0xc9eb17;}['storeNewPr'+'ogram'](_0x595384,_0x5749bc){let _0x3e1baf={};if(_0x595384==='standard'){const _0x26b519=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x5749bc['pass']);for(const _0x389991 in _0x5749bc)(_0x5749bc['hasOwnProp'+'erty'](_0x389991)&&_0x26b519[_0x389991]!==_0x5749bc[_0x389991]||_0x389991==='pass')&&(_0x3e1baf[_0x389991]=_0x5749bc[_0x389991]);for(const _0x380d27 in _0x5749bc['litOptions'])_0x3e1baf[_0x380d27]=_0x5749bc['litOptions'][_0x380d27];}else _0x3e1baf=_0x5749bc;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x595384,'options':_0x3e1baf}));}['dumpProgra'+'ms'](){let _0x1db6a3='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x1db6a3+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][0x3*0xef+0x1*0x23ba+-0x1*0x2687]&&(_0x1db6a3+='\x0a\x09'+this['_programsC'+'ollection'][0x4a+-0x1*0x1bf5+0x1bab]);for(let _0x100dd4=-0x199f*-0x1+0xd*0xd7+0xc7*-0x2f;_0x100dd4<this['_programsC'+'ollection']['length'];++_0x100dd4)_0x1db6a3+=',\x0a\x09'+this['_programsC'+'ollection'][_0x100dd4];_0x1db6a3+='\x0a];\x0a',_0x1db6a3+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x1db6a3+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+hn+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+$S+'\x22)\x0a',_0x1db6a3+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0x59468f=document['createElem'+'ent']('a');_0x59468f['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x1db6a3)),_0x59468f['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0x59468f['style']['display']='none',document['body']['appendChil'+'d'](_0x59468f),_0x59468f['click'](),document['body']['removeChil'+'d'](_0x59468f);}['clearCache'](){this['_isClearin'+'gCache']=!(0x2*0xbb7+0x65b*0x6+-0x3d90),this['processedC'+'ache']['forEach'](_0x43ec28=>{_0x43ec28['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(-0x141d+-0x1704+-0x2b22*-0x1);}['removeFrom'+'Cache'](_0x1c4525){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x3659e2,_0x3a5c82)=>{_0x1c4525===_0x3659e2&&this['processedC'+'ache']['delete'](_0x3a5c82);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0x460beb){const _0x1e74e1=Si['get'](this['_device'])['getByIndex'](_0x460beb);return _0x460beb===Zn||_0x460beb===Rl||_0x1e74e1['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x2d4a96){if(_0x2d4a96){const _0x150e50=new Array(_0x2d4a96['length']);for(let _0x422830=0x1*0x14bf+0x1ac8+-0x2f87*0x1;_0x422830<_0x2d4a96['length'];_0x422830++){if(_0x2d4a96[_0x422830]['name']==='standard'){const _0x16c0d4=_0x2d4a96[_0x422830]['options'],_0x5cb8c6=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x16c0d4['pass']);for(const _0x11edb8 in _0x5cb8c6)_0x5cb8c6['hasOwnProp'+'erty'](_0x11edb8)&&_0x16c0d4[_0x11edb8]===void(-0x2b*0x47+-0x4*-0x426+-0x1*0x4ab)&&(_0x16c0d4[_0x11edb8]=_0x5cb8c6[_0x11edb8]);}_0x150e50[_0x422830]=this['getProgram'](_0x2d4a96[_0x422830]['name'],_0x2d4a96[_0x422830]['options']);}}this['_precached']=!(0x1d2*0x4+0x187a+-0x1fc2);}}async function jA(){const _0x448c20=new Float32Array(-0x2307+0x102b+-0x1b7*-0xb),_0x355503=new Int32Array(_0x448c20['buffer']);let _0x503cf2=0x141b*0x1+0x25e8+-0x1*0x3a03,_0x47be60={};self['onmessage']=async _0xcf6ec=>{const {data:_0xe65348}=_0xcf6ec;switch(_0xe65348['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x1f8700(_0xe65348['properties'],_0xe65348['timeIndex'],_0xe65348['timeOption']);break;case'releaseSeq'+'Data':_0x55baaf(_0xe65348['index']);break;case'releaseAll'+'SeqData':_0x52413c();break;case'destroyWor'+'ker':_0x476a54();break;}};class _0xbeb7ab{constructor(_0x3154fa=0xae4+0xba9+0x168d*-0x1,_0x13ed3f=0x8bb+-0xeb2+0x5f7,_0x416fcb=-0xa0f+-0x16c0+0xe3*0x25,_0xf71263=0xae7+-0x171c+-0x1*-0xc36){this['x']=_0x3154fa,this['y']=_0x13ed3f,this['z']=_0x416fcb,this['w']=_0xf71263;}['set'](_0x51cf0c,_0x4d2794,_0x652e89,_0x1084dd){return this['x']=_0x51cf0c,this['y']=_0x4d2794,this['z']=_0x652e89,this['w']=_0x1084dd,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x80ee2f=this){let _0x3d229e=_0x80ee2f['length']();return _0x3d229e===-0x182*0x6+0xd92*0x1+-0x486?(this['x']=this['y']=this['z']=0xf4+-0x9cf+-0x8db*-0x1,this['w']=0x2b6*-0xd+-0x74b*-0x1+0x1bf4*0x1):(_0x3d229e=(0x192f+-0x1b*0x60+-0xf0e)/_0x3d229e,this['x']=_0x80ee2f['x']*_0x3d229e,this['y']=_0x80ee2f['y']*_0x3d229e,this['z']=_0x80ee2f['z']*_0x3d229e,this['w']=_0x80ee2f['w']*_0x3d229e),this;}['mulScalar'](_0x3a4316,_0x152230=this){return this['x']=_0x152230['x']*_0x3a4316,this['y']=_0x152230['y']*_0x3a4316,this['z']=_0x152230['z']*_0x3a4316,this['w']=_0x152230['w']*_0x3a4316,this;}}const _0x2791af=_0x37d4b0=>{_0x448c20[-0x1*0x1aa2+0xcf5*-0x1+0x1*0x2797]=_0x37d4b0;const _0x5bb772=_0x355503[0xf1b+-0x20df+0x471*0x4];let _0x2e2c96=_0x5bb772>>-0x11*-0x18+0x1*-0x4f7+0x36f&-0xe219+-0xd3*0x71+-0x6fcf*-0x4,_0x4e50d4=_0x5bb772>>-0x1f8a+-0x19f7*0x1+0x398d*0x1&-0x1*-0xa5d+0x8f2+-0xb50;const _0x2177f2=_0x5bb772>>-0x8dc+0x1ee8+-0x7*0x323&0x1a97+-0x91*0x32+0x2ba;return _0x2177f2<-0x13f*-0x1d+-0x218+-0x21a4?_0x2e2c96:_0x2177f2>-0x2532+0x583*0x7+0x47*-0x3?(_0x2e2c96|=0xcbc+0x861a*-0x1+0xf55e,_0x2e2c96|=(_0x2177f2===-0x593*-0x7+-0xa76+-0x1b90?-0x8*-0x389+-0x124b+-0x9fd:0x2412+0x355*0x4+-0x3165)&&_0x5bb772&-0x3c7*-0x3e59+-0xd072c4+0x64f094,_0x2e2c96):_0x2177f2<0x156d+-0x617*-0x4+0x5ab*-0x8?(_0x4e50d4|=-0x305+-0x60d+0x1112,_0x2e2c96|=(_0x4e50d4>>-0xa7b*0x1+-0x26b*-0x1+-0x21*-0x42-_0x2177f2)+(_0x4e50d4>>-0x2*0x959+-0x733+-0xd2b*-0x2-_0x2177f2&-0x15df+-0x25dc+0x3bbc),_0x2e2c96):(_0x2e2c96|=_0x2177f2-(-0x1*0x1dcb+0x201d+-0x1e2)<<0x1*-0x64d+-0x20b*0x2+0xa6d|_0x4e50d4>>-0x2e3+-0x21a1*0x1+0x2485,_0x2e2c96+=_0x4e50d4&0x19cc+-0x148d+-0x53e,_0x2e2c96);},_0x1c9b47=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x49be09=-0x7c2+-0x437+0xbf9;_0x49be09<-0x128*0x3+-0x268e+0x33f*0xd;++_0x49be09)if(!_0x47be60['f_rest_'+_0x49be09])return _0x49be09;return 0x11f3*-0x1+0xf*-0x32+0x150e;})())]??-0x18b9*0x1+0x16e*-0x1+0x1a27),_0x1f8700=(_0x4a561e,_0x3efa9d,_0x240241)=>{const _0x247738=!!_0x4a561e['time_index'];_0x247738||(_0x4a561e['time_index']=new Float32Array(0x1dec+-0x18a9+0x543*-0x1)),_0x503cf2+=_0x4a561e['x']['length']??0x54*-0x4+-0x43*0x16+-0xb5*-0xa;const _0x3be724=Object['keys'](_0x4a561e);for(let _0x209ebd=0x984+0x1*0x309+-0xc8d;_0x209ebd<_0x3be724['length'];_0x209ebd++){const _0x1f594b=_0x3be724[_0x209ebd],_0x511cb0=_0x4a561e[_0x1f594b],_0x262f3a=_0x47be60[_0x1f594b]??new Float32Array(0xcd4+-0x2b9+-0xd*0xc7);if(!_0x247738&&_0x1f594b==='time_index'){const _0x2acd1f=new Float32Array(_0x503cf2);_0x2acd1f['fill'](_0x3efa9d),_0x2acd1f['set'](_0x262f3a,0x1d54+-0x11fe+-0xb56),_0x47be60[_0x1f594b]=_0x2acd1f;}else{if(!_0x247738&&_0x511cb0&&_0x1f594b==='t'){const _0x12686f=new Float32Array(_0x503cf2);if(_0x12686f['set'](_0x262f3a,-0x1319+-0xaa6+0x1dbf),_0x240241){for(let _0x17d4e6=_0x262f3a['length'];_0x17d4e6<_0x503cf2;_0x17d4e6++)_0x511cb0[_0x17d4e6-_0x262f3a['length']]>-(0x1679+-0x2*-0x39d+-0x1dae)?_0x12686f[_0x17d4e6]=_0x511cb0[_0x17d4e6-_0x262f3a['length']]+_0x240241[(0x1*-0x6d+0x449+0x3a*-0x11)*_0x3efa9d]:_0x12686f[_0x17d4e6]=_0x511cb0[_0x17d4e6-_0x262f3a['length']];}_0x47be60[_0x1f594b]=_0x12686f;}else{if(_0x511cb0){const _0x52959b=new Float32Array(_0x503cf2);_0x52959b['set'](_0x262f3a,0x196*-0x5+-0x87*0xa+-0x41*-0x34),_0x52959b['set'](_0x511cb0,_0x262f3a['length']),_0x47be60[_0x1f594b]=_0x52959b;}}}}const _0x33051a={};Object['keys'](_0x47be60)['forEach'](_0x43205a=>{_0x33051a[_0x43205a]=new Float32Array(_0x47be60[_0x43205a]['buffer']['slice']());});const _0x103b2e=Object['keys'](_0x33051a)['map'](_0x23f983=>_0x33051a[_0x23f983]['buffer']),_0x58ef42=_0x11dc29(),_0x7c586c=Object['keys'](_0x58ef42)['map'](_0x4065b6=>_0x58ef42[_0x4065b6]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x33051a,'transformData':_0x58ef42},_0x103b2e['concat'](_0x7c586c));},_0x11dc29=()=>{const _0x42d790=_0x47be60['x']['length'],_0x24b44b=_0x47be60['x'],_0x2d3a7b=_0x47be60['y'],_0x3780a4=_0x47be60['z'],_0x55d1d0=_0x47be60['scale_0'],_0x4af80e=_0x47be60['scale_1'],_0x2d49be=_0x47be60['scale_2'],_0x568532=_0x47be60['rot_1'],_0x60ca98=_0x47be60['rot_2'],_0x4ccb1c=_0x47be60['rot_3'],_0x1c1e9b=_0x47be60['rot_0'],_0x2453ea=_0x47be60['motion_0'],_0xd350a7=_0x47be60['motion_1'],_0x487344=_0x47be60['motion_2'],_0x448fe2=_0x47be60['t'],_0x20e6a6=_0x47be60['t_scale'],_0x3eb3b4=_0x47be60['time_index'],_0x167ce9=_0x47be60['f_dc_0'],_0x1b73b0=_0x47be60['f_dc_1'],_0x421a34=_0x47be60['f_dc_2'],_0x147093=_0x47be60['opacity'],_0x14038f=(_0x448fe2==null?void(-0xd56+0x1adb+0x1*-0xd85):_0x448fe2['length'])>0x13bf+0x8a+0x9*-0x241,_0xcf3d2f=new Float32Array(_0x42d790*(-0xf9a*-0x1+0x1*0xed7+-0xf37*0x2)),_0x337c93=new Float32Array(_0x42d790*(0x1b6d+-0xc*-0x133+-0x29ce)),_0x3f8939=new Uint16Array(_0x42d790*(-0xb7a+0x83e+0x33f)),_0x3eb6c1=new Float32Array(_0x42d790*(-0x1d42+-0xa01*-0x3+-0xbe));let _0x516877=null,_0x5bc018=null,_0x389b62=null,_0x44ad7d=null;_0x14038f&&(_0x516877=new Float32Array(_0x42d790*(0x2668*-0x1+-0x1cc*0x2+0x2a03)),_0x5bc018=new Float32Array(_0x42d790*(0x142a+0xad4+-0x1efb)),_0x389b62=new Float32Array(_0x42d790*(-0x1b21+-0x1258+0x2d7c)),_0x44ad7d=new Float32Array(_0x42d790));const _0x39b262=new _0xbeb7ab(-0x7*0x20f+-0xfc8+-0x3b*-0x83,0x795+0x1814+-0x1fa9,0x15a5+0x86a*0x2+0x7*-0x57f,0x321+0x6*0x5c9+0x3*-0xc9d);let _0x482243=0xce1+-0x1*-0x10a5+0x2*-0xec3,_0x1832ae=0x19*-0x119+-0x85*0xc+0x21ad,_0x15b018=-0x4a3*-0x4+0xbe*0xd+0x6*-0x4b3,_0x41b4e3=0x22d7+0x304*-0xa+0x6d*-0xb,_0x5d77ea=-0x2416+-0x1*0x1a74+0x3e8a,_0x4bccea=0x10af+-0x16*-0x4a+0x1*-0x170b,_0x5687b7=!(0x1238+0x1b7c*0x1+-0x2db4);const _0xa016ca=new Float32Array(0x9*0x87+0x2*0x1203+-0x28c2),_0x162b96=new Float32Array(0x1*-0x1f+-0x234+-0x2*-0x12b),_0x3a97b1=new Uint16Array(_0x42d790*(0x22ab*-0x1+-0x10d+0x23bc)),_0x4a7e72=-0x6*0x33f+-0xea7*0x1+0x2221+0.28209479177387814;for(let _0x177415=-0x2655+-0x1bb7+0x420c;_0x177415<_0x42d790;++_0x177415){const _0x40cb27=_0x167ce9[_0x177415]*_0x4a7e72+(-0xa*0x1de+0x199e+-0x7f*0xe+0.5),_0x358b32=_0x1b73b0[_0x177415]*_0x4a7e72+(0x5*0x33b+-0x1*0x24a+-0xddd+0.5),_0x597fbc=_0x421a34[_0x177415]*_0x4a7e72+(-0x204b+-0x1*0x1039+-0x2e*-0x10e+0.5),_0x165dac=_0x147093[_0x177415];_0x3a97b1[_0x177415*(-0x66f+-0xf9b+0x160e)+(0x2ba+-0x1*-0x10f0+-0x13aa)]=_0x2791af(_0x40cb27),_0x3a97b1[_0x177415*(-0x17e5+0x10f3+-0x129*-0x6)+(0x14a+-0x1d06+0x315*0x9)]=_0x2791af(_0x358b32),_0x3a97b1[_0x177415*(-0x1471+0x16c6+-0x251)+(-0x14c7+0x205*0x4+0xcb5*0x1)]=_0x2791af(_0x597fbc),_0x3a97b1[_0x177415*(0x55b*0x1+-0x20a5+-0x48d*-0x6)+(0x1*-0x2546+-0xf64*0x1+0x34ad)]=_0x2791af(_0x165dac);const _0x530a18=_0x24b44b[_0x177415],_0x121980=_0x2d3a7b[_0x177415],_0x1bc3c0=_0x3780a4[_0x177415],_0x4f759b=Math['max'](_0x55d1d0[_0x177415],_0x4af80e[_0x177415],_0x2d49be[_0x177415]);if(isFinite(_0x530a18)&&isFinite(_0x121980)&&isFinite(_0x1bc3c0)&&isFinite(_0x4f759b)){const _0x566f93=(-0x3*0x2d2+-0x1db+0xa53)*Math['exp'](_0x4f759b);_0x5687b7?(_0x5687b7=!(-0x13e5+-0xa6+0x148c),_0x482243=_0x530a18-_0x566f93,_0x1832ae=_0x121980-_0x566f93,_0x15b018=_0x1bc3c0-_0x566f93,_0x41b4e3=_0x530a18+_0x566f93,_0x5d77ea=_0x121980+_0x566f93,_0x4bccea=_0x1bc3c0+_0x566f93):(_0x482243=Math['min'](_0x482243,_0x530a18-_0x566f93),_0x1832ae=Math['min'](_0x1832ae,_0x121980-_0x566f93),_0x15b018=Math['min'](_0x15b018,_0x1bc3c0-_0x566f93),_0x41b4e3=Math['max'](_0x41b4e3,_0x530a18+_0x566f93),_0x5d77ea=Math['max'](_0x5d77ea,_0x121980+_0x566f93),_0x4bccea=Math['max'](_0x4bccea,_0x1bc3c0+_0x566f93));}_0x39b262['set'](_0x568532[_0x177415],_0x60ca98[_0x177415],_0x4ccb1c[_0x177415],_0x1c1e9b[_0x177415]),_0x39b262['normalize'](),_0x39b262['w']<-0x20ce+-0x6a8+0x2776&&_0x39b262['mulScalar'](-(0xb0b+0x1*-0x11cf+0x1*0x6c5)),_0x337c93[_0x177415*(0xacf+0x2175+-0x2c41)+(-0x3*-0xc8c+-0x2428+-0x17c)]=_0x24b44b[_0x177415],_0x337c93[_0x177415*(0x115*0x6+0xb6*0x34+-0x2b73)+(-0x15d7+0x1a79+-0x4a1)]=_0x2d3a7b[_0x177415],_0x337c93[_0x177415*(-0x1083*-0x2+0x1*0x2427+-0x452a)+(0x10a*-0x2+0x1e43+0x1c2d*-0x1)]=_0x3780a4[_0x177415],_0xcf3d2f[_0x177415*(0xaa2*0x1+0x30*0x14+-0xe5f)+(-0x2361*0x1+0x9*0x349+0x5d0)]=_0x24b44b[_0x177415],_0xcf3d2f[_0x177415*(0x1744*-0x1+-0xcef+0xce*0x2d)+(-0x154e+-0xdc*-0xd+0x5*0x207)]=_0x2d3a7b[_0x177415],_0xcf3d2f[_0x177415*(-0x1ddf+-0x11fb+0x2fdd)+(-0xf44+0x9cd+-0x1*-0x579)]=_0x3780a4[_0x177415],_0x3f8939[_0x177415*(-0x1bcc+0x239f+-0x19*0x50)+(-0x1a51+0x226a+-0x819)]=_0x2791af(Math['exp'](_0x55d1d0[_0x177415])),_0x3f8939[_0x177415*(-0x1804+0xc7*0x11+0xad0)+(0x11*0xd+-0x258d+0x24b1)]=_0x2791af(Math['exp'](_0x4af80e[_0x177415])),_0x3f8939[_0x177415*(0x2*-0x10b8+-0x38b*-0x5+0x3ef*0x4)+(0x2*0x746+0xa1*0x2b+0x1*-0x2995)]=_0x2791af(Math['exp'](_0x2d49be[_0x177415])),_0x3eb6c1[_0x177415*(-0x1fe*-0xd+-0x1*0x87d+0x2*-0x8b3)+(-0x1*0x10c0+-0xd7f+0x1*0x1e3f)]=_0x39b262['x'],_0x3eb6c1[_0x177415*(0x8*0x97+0x3e3*-0x1+-0xd2)+(-0x17a0+0x2*0x4c0+-0xe21*-0x1)]=_0x39b262['y'],_0x3eb6c1[_0x177415*(-0x2152+-0xab7+0x2*0x1606)+(0x1a89*-0x1+0x9ea+0x58b*0x3)]=_0x39b262['z'],_0x14038f&&_0x516877&&_0x5bc018&&_0x389b62&&_0x44ad7d&&(_0x516877[_0x177415*(-0x180f+0x2e*-0x4+0x18ca)+(-0xd*-0xb3+-0x2219+0x1902)]=_0x2453ea[_0x177415],_0x516877[_0x177415*(-0x25d*0x10+-0x1*0x170e+-0x5*-0xc2d)+(0x3b3+-0xf25*0x1+-0x3d1*-0x3)]=_0xd350a7[_0x177415],_0x516877[_0x177415*(-0x2a9*-0x3+0x8c6+0x10be*-0x1)+(-0x1589+-0x2487*0x1+0x3a12)]=_0x487344[_0x177415],_0x389b62[_0x177415*(0x183e*-0x1+-0x9*-0x31+0x1688)+(0x1f75+0x1712*0x1+-0x3687)]=_0x2453ea[_0x177415],_0x389b62[_0x177415*(0x1622+-0x35f*0x1+-0x8*0x258)+(-0x571*-0x2+0x1ddb+-0x13c*0x21)]=_0xd350a7[_0x177415],_0x389b62[_0x177415*(-0x21b3+-0x1801+0x39b7*0x1)+(0x47c*-0x6+-0x1e90+0x397a)]=_0x487344[_0x177415],_0x44ad7d[_0x177415]=_0x20e6a6?Math['exp'](_0x20e6a6[_0x177415]):-0x18da+0x16c3*0x1+-0x6b*-0x5,_0x5bc018[_0x177415*(0x124a+0x78*0x3e+-0x2f57)+(-0x1*-0x2063+-0x1*-0xa4b+-0x2aae)]=_0x448fe2?_0x448fe2[_0x177415]:0x57e*0x4+-0x16e3+0x2f*0x5,_0x5bc018[_0x177415*(0x77*-0x7+-0x26*0x8b+0x85*0x2e)+(0x760*-0x4+0x1f50+-0x1cf)]=_0x44ad7d[_0x177415]);}_0x5687b7||(_0xa016ca[0x21*0x9+0x3a0+-0xf5*0x5]=(_0x482243+_0x41b4e3)*(0x121*-0xa+-0x11b5+0x1*0x1cff+0.5),_0xa016ca[-0x8cd*0x4+0x4*0x188+0x1*0x1d15]=(_0x1832ae+_0x5d77ea)*(-0x3*0xfb+-0x24b4+-0x255*-0x11+0.5),_0xa016ca[-0xf31+0x1*-0xc9+0xb*0x174]=(_0x15b018+_0x4bccea)*(0xa74+-0x1*-0x1393+-0x1e07+0.5),_0x162b96[0x71*-0x2+0x765+-0x1*0x683]=(_0x41b4e3-_0x482243)*(0x58a+-0x1df1+0x1867+0.5),_0x162b96[0x25*0xe9+-0x1801+-0x9ab]=(_0x5d77ea-_0x1832ae)*(-0x1a*0xea+0x89e+0xf26+0.5),_0x162b96[0x3db+-0x5*-0x399+-0x15d6]=(_0x4bccea-_0x15b018)*(0x97d*0x2+-0x11*0x17f+0x227*0x3+0.5));const _0x1d022c=_0x144eeb();let _0x4d314e={'dataColor':_0x3a97b1,'center':_0xa016ca,'halfExtents':_0x162b96,'dataCenters':_0xcf3d2f,'dataPosition':_0x337c93,'dataScale':_0x3f8939,'dataRotation':_0x3eb6c1,..._0x1d022c};return _0x14038f&&(_0x4d314e={..._0x4d314e,'dataMotion':_0x516877,'dataTime':_0x5bc018,'motion':_0x389b62,'tScaleArray':_0x44ad7d,'muT':new Float32Array(_0x448fe2),'timeIndex':new Float32Array(_0x3eb3b4)}),_0x4d314e;},_0x364693=_0x319541=>{const _0x5cc835=[];for(let _0x1e395f=-0xda3+0x614*-0x3+-0x1*-0x1fdf;_0x1e395f<_0x319541;++_0x1e395f)_0x5cc835['push'](_0x47be60['f_rest_'+_0x1e395f]);return _0x5cc835;},_0x144eeb=()=>{const _0x1c6dd4=_0x1c9b47();if(_0x1c6dd4<=-0xcb6+-0x1552*-0x1+-0x89c)return{};const _0x413f24=_0x47be60['x']['length'],_0x5d235b=new Uint32Array(_0x413f24*(0x4*0x329+-0x814*-0x4+-0x2cf0)),_0x43b2fe=new Uint32Array(_0x413f24*(-0xb5b+0x1e58+-0x653*0x3)),_0x5f2327=new Uint32Array(_0x413f24*(-0x5bf+-0x1004+0x15c7)),_0x2beebf=new Uint32Array(_0x413f24*(0x7*-0x3a9+0x109f+0x904)),_0x5a88bd={0x1:0x3,0x2:0x8,0x3:0xf}[_0x1c6dd4],_0x182b6c=_0x364693(_0x5a88bd*(-0x1*0x227+-0x1*-0xaa2+0x1*-0x878)),_0x54cd77=-0x1c71+0x1ec*-0x1+0x997*0x4,_0x56154a=0x241e+0x3e4*-0x8+-0xff,_0x45be32=new Float32Array(-0x3de*0x5+0x228d+-0xf36),_0x2df12c=new Uint32Array(_0x45be32['buffer']),_0x248d57=new Array(_0x5a88bd*(-0xc34+0x2*-0x233+0x109d))['fill'](-0x12ff+0x1be*-0x6+0x1d73);for(let _0x5a2ca9=-0x1de3+-0x1b*0x7+0x1ea0;_0x5a2ca9<_0x413f24;++_0x5a2ca9){for(let _0x3a1d49=0x1128+0x1b72+-0x1*0x2c9a;_0x3a1d49<_0x5a88bd;++_0x3a1d49)_0x248d57[_0x3a1d49*(0x1*0x16ca+-0x23a7+0xce0)]=_0x182b6c[_0x3a1d49][_0x5a2ca9],_0x248d57[_0x3a1d49*(-0x363*0x9+-0x29*0x12+0x2160)+(0x607*0x5+-0x7*-0x523+-0x4217*0x1)]=_0x182b6c[_0x3a1d49+_0x5a88bd][_0x5a2ca9],_0x248d57[_0x3a1d49*(0x2d*0x9e+0x16a6+0x5*-0xa15)+(0x1*-0x1726+0x6*0x667+-0xf42)]=_0x182b6c[_0x3a1d49+_0x5a88bd*(-0x213e+-0x107f+-0x5*-0x9f3)][_0x5a2ca9];let _0x489b1d=_0x248d57[-0x2293*0x1+0x1*0x1253+-0x1040*-0x1];for(let _0x237ce9=-0x1*0xb51+0x21f8+-0x1be*0xd;_0x237ce9<_0x5a88bd*(0xaa7+-0x24ec+-0x1d*-0xe8);++_0x237ce9)_0x489b1d=Math['max'](_0x489b1d,Math['abs'](_0x248d57[_0x237ce9]));if(_0x489b1d!==0x1*-0xd85+-0x26aa+0x3d*0xdb){for(let _0x43d870=-0x765+-0x4fd*0x1+-0x631*-0x2;_0x43d870<_0x5a88bd;++_0x43d870)_0x248d57[_0x43d870*(0xa3*-0x2b+-0x232*0xc+0x35bc)+(0xdfa+0x142*-0x12+-0x2*-0x455)]=Math['max'](0xe21*-0x1+-0x12be*-0x1+-0x49d*0x1,Math['min'](_0x54cd77,Math['floor']((_0x248d57[_0x43d870*(0x16d*-0x9+0x1b1*0x13+-0x134b)+(0x1054+-0x233e+0x9*0x21a)]/_0x489b1d*(-0x68*0x12+0x223d+-0x1aed+0.5)+(-0x59b+0x12*-0xe6+0x15c7+0.5))*_0x54cd77+(0x1*-0x2594+0x15b+0xb*0x34b+0.5)))),_0x248d57[_0x43d870*(0x683*0x3+0x1222+0x96a*-0x4)+(-0x40f*0x8+-0x231f+0xe*0x4d4)]=Math['max'](-0x10b0+-0x2*-0x11a4+-0x1dc*0xa,Math['min'](_0x56154a,Math['floor']((_0x248d57[_0x43d870*(0x105e+0x2*0x111b+-0x10db*0x3)+(-0x2391*-0x1+0xa03*0x1+-0x3*0xf31)]/_0x489b1d*(0x2060+-0x5*-0x5ba+-0x3d02+0.5)+(0x269b*0x1+-0x3*0x1+0x5f*-0x68+0.5))*_0x56154a+(0x8f6+-0x1e8e*-0x1+0x2784*-0x1+0.5)))),_0x248d57[_0x43d870*(-0x633*0x4+-0x1f5e+0x382d*0x1)+(0x1f49+-0x255b+0x614)]=Math['max'](0x26b*-0xd+-0x1*-0x174e+0x821,Math['min'](_0x54cd77,Math['floor']((_0x248d57[_0x43d870*(-0x2*-0x5bf+-0xa77*-0x1+-0x15f2)+(-0x3f7*0x2+0x1*-0x47+0x1*0x837)]/_0x489b1d*(0x5*0x36+-0x166d*-0x1+-0x177b+0.5)+(0x11*-0x1c4+0xb94+0x1270+0.5))*_0x54cd77+(0x1dce+-0x1989+-0x445+0.5))));_0x45be32[0x22fa+0x25f7*0x1+-0x107*0x47]=_0x489b1d,_0x5d235b[_0x5a2ca9*(0x2176+-0x1a00+-0x772)+(0x5d9+-0x1d35+0x175c)]=_0x2df12c[0x46c*0x3+0x1ded+-0x1*0x2b31],_0x5d235b[_0x5a2ca9*(0x3*0x72e+0x16a1+-0x2c27)+(0x2*0xb21+-0xccf+-0x972)]=_0x248d57[0xb2*0x16+-0xe8b*-0x1+-0x1dd7]<<-0x137c*0x1+0x1259+0x34*0x6|_0x248d57[0x13ed*0x1+0x1946+-0x2d32]<<0x120e+-0x8d+0x3*-0x5d2|_0x248d57[-0x1f77+0x2029*0x1+-0xb0],_0x5d235b[_0x5a2ca9*(-0x2516*-0x1+-0x17ac+-0xd66)+(0xb63+0x2*0x6a3+0x18a7*-0x1)]=_0x248d57[0x1d2a+-0x12c0+0xa67*-0x1]<<0x688+-0x10dc+-0x29*-0x41|_0x248d57[0x7*-0x266+-0x13*0x19e+0x48*0xa9]<<0x8*0x4cc+0x19ed*0x1+-0x4042|_0x248d57[0x5*-0x581+0x517*-0x6+0x1c*0x213],_0x5d235b[_0x5a2ca9*(-0x1ecc+0x2*0x650+0x3*0x610)+(0x172a+0x1*0x25ee+-0x13*0x337)]=_0x248d57[-0xd78*0x1+-0x12*-0x212+-0x17c6]<<-0xf*0x161+-0x1e62+0x3326*0x1|_0x248d57[0x1aba*-0x1+0x4f1+0x15d0]<<-0x107e+0x7*-0x9+0x18*0xb3|_0x248d57[0x1*0x15a3+0x8e1*0x1+0x4*-0x79f],_0x1c6dd4>0x3*-0x178+0x1*-0x1a8a+0x39*0x8b&&(_0x43b2fe[_0x5a2ca9*(-0x1665+0x37*-0x3b+0xbb2*0x3)+(0x23e9+-0x17c4+-0xc25)]=_0x248d57[0x2133+0x15c*-0x2+0x6*-0x513]<<-0x2469+-0x14dd+0x395b|_0x248d57[0x9*-0x71+-0x254+0x657*0x1]<<0xcc9+0x1*0xbcb+-0x1889|_0x248d57[-0x3c+-0xbb2*0x2+0x17ab],_0x43b2fe[_0x5a2ca9*(0x21ed+0x34*0x94+-0x3ff9)+(0x287*0xa+0x139d+-0x77b*0x6)]=_0x248d57[0x1*-0x17cb+-0x2*0xeae+0x3533]<<0x1*-0xfd+-0x1825*-0x1+-0x1713*0x1|_0x248d57[-0x1d+-0x1*0x26c9+0x26f3]<<0x1*0x1f5+-0x5*0x60d+0x1c57|_0x248d57[0x127+0x1276+-0x138f],_0x43b2fe[_0x5a2ca9*(-0x4c*0x67+0x2*0x831+0x71b*0x2)+(0xffe+0x8f*0x1f+0x37*-0x9b)]=_0x248d57[-0x6*0x2b2+0x281*-0x4+-0x1*-0x1a3f]<<-0x4*-0x821+-0x2708+-0x699*-0x1|_0x248d57[0xe43*0x1+-0xd*0x5c+-0x987]<<0x1c1*0x13+-0x1f75*-0x1+0x40bd*-0x1|_0x248d57[0x1d15*0x1+0x1*0x2a5+-0x1*0x1fa9],_0x43b2fe[_0x5a2ca9*(-0x1*-0x1475+-0x5cb*-0x1+-0x1a3c)+(-0x1c82+-0x1b*-0x120+0x13*-0x19)]=_0x248d57[0x1c11+-0x1653+-0x16*0x42]<<0x1*-0x21c1+0xb73+0x1*0x1663|_0x248d57[0x1851+-0x1760+-0x1*0xde]<<0x2067+-0x3fb+-0x1c61*0x1|_0x248d57[-0x4e+0x1*0x1223+-0x11c1],_0x1c6dd4>-0xc9c+0x3*-0x4e9+0x1b59?(_0x5f2327[_0x5a2ca9*(-0xe57+-0x14af*0x1+0x230a)+(0xda0*-0x2+0x1f17+-0x3d7)]=_0x248d57[-0x45b+-0x9d*-0x2a+-0x1552*0x1]<<-0x13*-0x1a6+-0xae7+-0xa2b*0x2|_0x248d57[0x34*-0x88+0x9c5*-0x3+0x3905]<<0x1cfd+0x2f*-0x7+-0x1ba9|_0x248d57[0x1ca5*-0x1+0x174e+-0x8b*-0xa],_0x5f2327[_0x5a2ca9*(0xc*-0x2b7+-0x4*-0x127+-0xdfe*-0x2)+(0x17e9*0x1+0x118d*-0x2+0xb32)]=_0x248d57[0x52f+-0xc9d+-0x12*-0x6b]<<-0x44c+-0xfa8+0xdf*0x17|_0x248d57[-0x6b*0x45+0x47*-0x6+0x1e9a]<<-0x13fc*-0x1+-0x1193+-0x25e|_0x248d57[0x161*0xf+-0x121f+-0x276],_0x5f2327[_0x5a2ca9*(0x3*0x542+-0x2619*0x1+0x1657*0x1)+(-0x20d+0xcbe+0x223*-0x5)]=_0x248d57[0x1545+-0x6f7+-0xe33]<<-0x1ca4+-0x12*-0x22+0x1a55|_0x248d57[0x1fa7+0x1f09+0x14*-0x321]<<-0xbc*0xa+-0x2*-0xc5f+0x5c9*-0x3|_0x248d57[-0x96*0x28+-0x1472+-0x649*-0x7],_0x5f2327[_0x5a2ca9*(0x1a9c+-0x30*0xc4+0xa28)+(0x7b8+-0x5d1+-0x1e4)]=_0x248d57[0x15*0xa3+-0x16e3+0x19b*0x6]<<-0x11af+-0x228b+0x7*0x779|_0x248d57[0x1*-0x1715+0x1b51+-0x75*0x9]<<0x2*0x7b3+0x11*-0x92+0xa1*-0x9|_0x248d57[-0x1469+-0x1acb+-0xbd5*-0x4],_0x2beebf[_0x5a2ca9*(0xdfe+0x19f3+-0x27ed)+(-0x13df+-0x2066+-0x3445*-0x1)]=_0x248d57[0x57*0x1a+-0x9ad+0xf8]<<-0x14e*-0x12+0x1*0x2ff+-0x1a66|_0x248d57[-0xf*-0xdf+-0xbcf+-0x120*0x1]<<0x1e1b+-0x2*-0x1ac+0x4*-0x85a|_0x248d57[-0x1ac3+0x16c3+0x423],_0x2beebf[_0x5a2ca9*(-0x854+-0x557*-0x2+-0x256)+(-0x36d*0xa+-0x2531+-0x2*-0x23ba)]=_0x248d57[0x1c3d+0x1*-0xb65+-0x10b4]<<0xab6+0x194c*-0x1+0x5*0x2ef|_0x248d57[0x1cf9+0xe33+-0x2b07]<<0x1b56+-0x2337+-0xd*-0x9c|_0x248d57[0x1a32+-0xcfa+-0xd12],_0x2beebf[_0x5a2ca9*(0x82c+-0x21c7*-0x1+0x5f*-0x71)+(-0x2*0x76d+-0x1796*0x1+-0x25*-0x10a)]=_0x248d57[-0x1*-0xe71+-0xa4c*0x2+0x64e]<<-0xb*-0x65+0x2a1*0x7+-0x16a9|_0x248d57[0x645+0x16*-0x16a+-0x1b*-0xed]<<0xeae+0x10b7+0xfad*-0x2|_0x248d57[0x2351+0x41b*-0x5+-0xea1],_0x2beebf[_0x5a2ca9*(0x263*0xa+-0xc5f+-0xb7b*0x1)+(-0x1858*0x1+-0x23a2*0x1+-0x1*-0x3bfd)]=_0x248d57[-0xe6*-0x5+-0x3*0x2+-0x44e*0x1]<<-0x12ce*-0x2+0x13b9+0x40*-0xe5|_0x248d57[-0x1a0b+-0x3e*-0x5+-0x8*-0x320]<<-0x6c7+-0x183b+-0x1*-0x1f0d|_0x248d57[-0x2a6*-0x9+0x1*-0x2267+-0x1*-0xabd]):_0x5f2327[_0x5a2ca9]=_0x248d57[0x1f6*0xf+-0x29a+-0x1abb]<<0x152+0x1*0xb17+0xc*-0x107|_0x248d57[0x3d1*0x9+0x3*-0x90f+-0x38b*0x2]<<-0x1e01+0x464+0x19a8|_0x248d57[-0x4f5*-0x7+0xe7*0x22+-0x3d*0x112]);}}return{'sh1to3Data':_0x5d235b,'sh4to7Data':_0x43b2fe,'sh8to11Data':_0x5f2327,'sh12to15Data':_0x2beebf};},_0x55baaf=_0x1d77e6=>{if(!_0x47be60['time_index'])return;const _0xd2ae87=_0x47be60['time_index']['findIndex'](_0x4c36aa=>_0x4c36aa===_0x1d77e6);let _0xe99931=_0x47be60['time_index']['findIndex']((_0x61d348,_0x1bcd47)=>_0x61d348!==_0x1d77e6&&_0x1bcd47>_0xd2ae87);if(_0xe99931===-(0x1a*0x7+0x1397+-0x1*0x144c)&&_0xd2ae87===-(0x130a*-0x2+-0x1307*0x1+-0x2*-0x1c8e))return;_0xe99931===-(0x1*-0xe93+-0x22f1*-0x1+-0x145d)&&_0xd2ae87!==-(-0x17b1*-0x1+-0xb9b*-0x2+-0x2ee6)&&(_0xe99931=_0x47be60['time_index']['length']),_0x503cf2-=_0xe99931-_0xd2ae87;const _0x41b3fd=Object['keys'](_0x47be60);for(let _0xac940b=-0x3*-0xa48+-0xc5*-0x1c+-0x1*0x3464;_0xac940b<_0x41b3fd['length'];_0xac940b++){const _0x54eb22=_0x41b3fd[_0xac940b],_0x15069d=_0x47be60[_0x54eb22];if(_0x15069d){const _0xce8e74=new Float32Array(_0x503cf2);_0xd2ae87>0x19e6+-0xc26+-0x28*0x58?(_0xce8e74['set'](_0x15069d['subarray'](0xafa+0xc5*-0x1f+-0x1d7*-0x7,_0xd2ae87),-0x913+-0xd9a*0x1+0xf*0x183),_0xce8e74['set'](_0x15069d['subarray'](_0xe99931),_0xd2ae87)):_0xce8e74['set'](_0x15069d['subarray'](_0xe99931),0x68e+0x356*0x5+-0xb9e*0x2),_0x47be60[_0x54eb22]=_0xce8e74;}}},_0x52413c=()=>{const _0x520cba=Object['keys'](_0x47be60);for(let _0x2fc87f=0xf78+-0x510+-0xa68;_0x2fc87f<_0x520cba['length'];_0x2fc87f++){const _0x14fbbc=_0x520cba[_0x2fc87f];_0x47be60[_0x14fbbc]&&(_0x47be60[_0x14fbbc]=[]);}},_0x476a54=()=>{_0x47be60={},_0x503cf2=-0x2*0x30+0x28*-0x93+0x1758;};}class YA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+jA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0x5092f9,_0x5e46e1,_0x398f9a,_0x34d1c2=!(0xde+0x1dcf+-0xd*0x25c)){var _0xa89350,_0x24bab3;const _0x39e11b={};return _0x5092f9['elements'][0x14e7+-0x2f0+-0x11f7]['properties']['forEach'](_0x3a143c=>{_0x39e11b[_0x3a143c['name']]=_0x3a143c['storage'];}),_0x34d1c2?(_0xa89350=this['worker'])==null||_0xa89350['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x39e11b,'timeIndex':_0x5e46e1,'timeOption':_0x398f9a},_0x5092f9['elements'][0x7*0x359+0x20a4+-0x12b1*0x3]['properties']['map'](_0x56bc8c=>_0x56bc8c['storage']['buffer'])):(_0x24bab3=this['worker'])==null||_0x24bab3['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x39e11b,'timeIndex':_0x5e46e1,'timeOption':_0x398f9a}),new Promise(_0x182e7c=>{this['worker']['onmessage']=_0x423317=>{if(!this['worker'])return;const {data:_0x53489b}=_0x423317;_0x53489b['type']==='newAppendD'+'ata'&&_0x182e7c(_0x53489b);};});}async['releaseSeq'+'Data'](_0x47d11c){var _0x4d28f1;(_0x4d28f1=this['worker'])==null||_0x4d28f1['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x47d11c});}async['releaseAll'+'SeqData'](){var _0x127355;(_0x127355=this['worker'])==null||_0x127355['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x36fb6b;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x36fb6b=this['worker'])==null||_0x36fb6b['terminate'](),this['worker']=null);}}const za=new te(),pg=new le(),yf=new De(),mg=new De(),KA=new ie(-0xc50*-0x1+-0x503+-0x74c,0x1e8d+0x3*0xb9c+0x1*-0x4160,0x20cc+0xc0+0x4c*-0x71,0x1*-0x1169+0x22c5+-0x115c+0.4),vf=0x129d+0x1*0xfa4+-0x2241+0.28209479177387814,xf=-0x426cf+0x5*-0x12b41+0x4*0x34315;let ZA=class{constructor(_0x404b21,_0x5bfb67,_0x3b395b,_0x514c56,_0xd349c8,_0x296d8c){const _0x3fe5b0=_0x404b21['getProp']('x'),_0x325454=_0x404b21['getProp']('y'),_0x138dd8=_0x404b21['getProp']('z'),_0x2e1363=_0x404b21['getProp']('rot_1'),_0x40db8a=_0x404b21['getProp']('rot_2'),_0x3d0beb=_0x404b21['getProp']('rot_3'),_0xd1360d=_0x404b21['getProp']('rot_0'),_0x12b065=_0x404b21['getProp']('motion_0'),_0x32225d=_0x404b21['getProp']('motion_1'),_0x4cc2de=_0x404b21['getProp']('motion_2'),_0x5b114c=_0x404b21['getProp']('scale_0'),_0x462e59=_0x404b21['getProp']('scale_1'),_0x30d57b=_0x404b21['getProp']('scale_2'),_0x1afb7e=_0x404b21['getProp']('f_dc_0'),_0x2ddbca=_0x404b21['getProp']('f_dc_1'),_0xe43263=_0x404b21['getProp']('f_dc_2'),_0x3b57e4=_0x404b21['getProp']('opacity');this['read']=_0x49eed2=>{_0x5bfb67&&(_0x5bfb67['x']=_0x3fe5b0[_0x49eed2],_0x5bfb67['y']=_0x325454[_0x49eed2],_0x5bfb67['z']=_0x138dd8[_0x49eed2]),_0x3b395b&&_0x3b395b['set'](_0x2e1363[_0x49eed2],_0x40db8a[_0x49eed2],_0x3d0beb[_0x49eed2],_0xd1360d[_0x49eed2]),_0x514c56&&_0x514c56['set'](Math['exp'](_0x5b114c[_0x49eed2]),Math['exp'](_0x462e59[_0x49eed2]),Math['exp'](_0x30d57b[_0x49eed2])),_0x296d8c&&_0x12b065&&_0x296d8c['set'](_0x12b065[_0x49eed2],_0x32225d[_0x49eed2],_0x4cc2de[_0x49eed2]),_0xd349c8&&_0xd349c8['set'](0x3e1+0x20aa*0x1+-0x248b+0.5+_0x1afb7e[_0x49eed2]*vf,0x1*0xb35+0x16c9+0xe5*-0x26+0.5+_0x2ddbca[_0x49eed2]*vf,0x1f28+0x1*0x6c+0x56*-0x5e+0.5+_0xe43263[_0x49eed2]*vf,_0x3b57e4[_0x49eed2]);};}};const _g=(_0x532f7b,_0x5ecfd6,_0xf9f28f)=>{pg['set'](_0xf9f28f['x'],_0xf9f28f['y'],_0xf9f28f['z'],_0xf9f28f['w'])['normalize'](),_0x532f7b['setTRS'](_0x5ecfd6,pg,D['ONE']);};class qn{constructor(_0x1c24e8,_0x5d5f18=[]){h(this,'elements'),h(this,'numSplats',0x1*0x820+-0x681+-0x19f),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0x1f7869;(_0x1f7869=this['dataWorker'])==null||_0x1f7869['destroy'](),this['dataWorker']=null;});var _0x123f71,_0x5521db,_0x3569ab;this['elements']=_0x1c24e8,this['numSplats']=((_0x123f71=this['getElement']('vertex'))==null?void(0x15a8+0x1f5+-0x179d):_0x123f71['count'])??-0x12c*-0x18+-0x188c+0xe5*-0x4,this['comments']=_0x5d5f18,this['is4D']=!!((_0x3569ab=(_0x5521db=this['getElement']('vertex'))==null?void(0xbf1*-0x2+-0x182a+0x1e*0x19a):_0x5521db['properties']['find'](_0x529204=>_0x529204['name']==='t'))!=null&&_0x3569ab['storage']);}async['appendGSpl'+'atData'](_0x3b3523,_0x1935ed,_0x115681){var _0xf38812;let _0x29cb0f=0x3f7*0x7+0x8ec+-0x24ad*0x1;for(let _0x3dcb63=0x17c*0xc+-0xb44*-0x1+-0x1d14;_0x3dcb63<_0x115681['length']&&_0x1935ed>_0x115681[_0x3dcb63];_0x3dcb63+=0x149*0x7+-0x1f7b+0x167e)_0x29cb0f=_0x3dcb63/(-0xf*0x187+-0x173f+0x26*0x137);console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData',_0x29cb0f),this['dataWorker']||(this['dataWorker']=new YA(),await this['dataWorker']['appendGSpl'+'atData'](this,-0x1723*0x1+0x1c1*0x6+-0xc9d*-0x1,_0x115681));const _0x357849=this['getElement']('vertex');_0x357849&&(_0x357849['count']=this['numSplats']);const _0xf979df=await this['dataWorker']['appendGSpl'+'atData'](_0x3b3523,_0x29cb0f,_0x115681,!(0x1*-0x22f7+-0x56c*0x1+0x2863)),_0x338ce2=_0xf979df['properties'],_0x1af6cf=((_0xf38812=this['getElement']('vertex'))==null?void(0x12f3*0x1+0xc*-0x1d8+-0x3*-0x10f):_0xf38812['properties'])??[];for(const _0x1d6221 in _0x338ce2){const _0x17b087=_0x1af6cf['find'](_0x97d13e=>_0x97d13e['name']===_0x1d6221);_0x17b087?_0x17b087['storage']=_0x338ce2[_0x1d6221]:_0x1af6cf['push']({'type':'float','name':_0x1d6221,'storage':_0x338ce2[_0x1d6221],'byteSize':0x4});}this['transformD'+'ata']=_0xf979df['transformD'+'ata'],this['numSplats']=_0x338ce2['x']['length'],console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData\x20nu'+'mSplats',this['numSplats']);}async['releaseSeq'+'Data'](_0x30c37c){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20releaseSe'+'qData',_0x30c37c),this['dataWorker']['releaseSeq'+'Data'](_0x30c37c),this;}async['releaseAll'+'SeqData'](){var _0x2fedcb;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20release\x20a'+'ll\x20SeqData'),(_0x2fedcb=this['dataWorker'])==null||_0x2fedcb['releaseAll'+'SeqData'](),this;}static['calcSplatA'+'abb'](_0xbf1540,_0x3a6736,_0x17749c,_0x48fb1d){_g(za,_0x3a6736,_0x17749c),yf['center']['set'](-0x38b*0x3+-0x234a+0x5*0x92f,-0x76*-0x29+-0x1d05+0xa1f*0x1,0x228c+-0x294*-0x1+-0x2520),yf['halfExtent'+'s']['set'](_0x48fb1d['x']*(0x1*-0x1b69+-0x1531+0x309c),_0x48fb1d['y']*(-0x1*0x1118+0xefc+0x21e),_0x48fb1d['z']*(0x1b95+-0x2399+0x806)),_0xbf1540['setFromTra'+'nsformedAa'+'bb'](yf,za);}['getProp'](_0x808546,_0x5e0a05='vertex'){var _0x434c15,_0x3019ff;return(_0x3019ff=(_0x434c15=this['getElement'](_0x5e0a05))==null?void(-0x4d*0x6d+-0x49*-0x72+0x1*0x47):_0x434c15['properties']['find'](_0x183f08=>_0x183f08['name']===_0x808546))==null?void(0x1847+0x45*-0x1+-0x1802):_0x3019ff['storage'];}['getElement'](_0x25b8fd){return this['elements']['find'](_0x408808=>_0x408808['name']===_0x25b8fd);}['addProp'](_0x19ace1,_0x55bd9c){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x19ace1,'storage':_0x55bd9c,'byteSize':0x4});}['createIter'](_0x6705a8,_0xbb828d,_0x4768dc,_0x19615b,_0x2f1b9e){return new ZA(this,_0x6705a8,_0xbb828d,_0x4768dc,_0x19615b,_0x2f1b9e);}async['calcAabbAs'+'ync'](_0x1ed9b5,_0x15d797){var _0x54c663,_0x25c04a;if((_0x54c663=this['transformD'+'ata'])!=null&&_0x54c663['center']&&((_0x25c04a=this['transformD'+'ata'])!=null&&_0x25c04a['halfExtent'+'s'])){_0x1ed9b5['center']['set'](this['transformD'+'ata']['center'][-0x5f5+0xd8e+-0x799*0x1],this['transformD'+'ata']['center'][-0x186a+-0x1*0x264f+0x3eba],this['transformD'+'ata']['center'][-0x186e*0x1+0x482+0x13ee]),_0x1ed9b5['halfExtent'+'s']['set'](this['transformD'+'ata']['halfExtent'+'s'][0xe5c*-0x1+0x5*0x3ef+0x9*-0x97],this['transformD'+'ata']['halfExtent'+'s'][-0x163d*0x1+0x1759+-0x11b],this['transformD'+'ata']['halfExtent'+'s'][0x7ef*0x4+0x9b6+-0x2970]);return;}const _0x3e96ac=this['getProp']('x'),_0x4caa1d=this['getProp']('y'),_0x28edb8=this['getProp']('z'),_0x407524=this['getProp']('scale_0'),_0x1362a8=this['getProp']('scale_1'),_0x4178c6=this['getProp']('scale_2'),_0x1c3825=await(_0x15d797==null?void(0xb7e+-0x231a+-0x5e7*-0x4):_0x15d797['calcAabb'](this['numSplats'],_0x3e96ac,_0x4caa1d,_0x28edb8,_0x407524,_0x1362a8,_0x4178c6));_0x1ed9b5['center']['set'](_0x1c3825['center'][-0x80a+-0x1225+0x1a2f],_0x1c3825['center'][-0x1ca*0xf+0x13d3+0x2*0x382],_0x1c3825['center'][0x1*-0x22db+0xf43*0x2+0x457]),_0x1ed9b5['halfExtent'+'s']['set'](_0x1c3825['halfExtent'+'s'][0x13*-0x17b+0xae0+0x1141],_0x1c3825['halfExtent'+'s'][0xc*0x19f+0x59*-0x59+0xb7e],_0x1c3825['halfExtent'+'s'][-0x21cd+-0x2272+0x4441*0x1]);}['calcAabb'](_0x3d1a5f,_0x209cf0){let _0xf0563e,_0x235019,_0x5b01a7,_0x327346,_0x2ec8d8,_0x438a3d,_0xadb83b=!(-0x186c+-0x201f+0x388b);const _0x2c57cc=this['getProp']('x'),_0x4398ed=this['getProp']('y'),_0x5ccc01=this['getProp']('z'),_0x352ba5=this['getProp']('scale_0'),_0x1b1f6a=this['getProp']('scale_1'),_0x5473a5=this['getProp']('scale_2');for(let _0x452236=-0x1*0xf4d+0x14*0x35+0xb29;_0x452236<this['numSplats'];++_0x452236){if(_0x209cf0&&!_0x209cf0(_0x452236))continue;const _0x3452b4=_0x2c57cc[_0x452236],_0x86dd30=_0x4398ed[_0x452236],_0x275b5b=_0x5ccc01[_0x452236],_0x2fe3ca=Math['max'](_0x352ba5[_0x452236],_0x1b1f6a[_0x452236],_0x5473a5[_0x452236]);if(!isFinite(_0x3452b4)||!isFinite(_0x86dd30)||!isFinite(_0x275b5b)||!isFinite(_0x2fe3ca))continue;const _0x50d3c0=(-0x17c2*0x1+-0xeb5+-0x57f*-0x7)*Math['exp'](_0x2fe3ca);_0xadb83b?(_0xadb83b=!(0x19f7+0x171*0x18+-0x3c8e),_0xf0563e=_0x3452b4-_0x50d3c0,_0x235019=_0x86dd30-_0x50d3c0,_0x5b01a7=_0x275b5b-_0x50d3c0,_0x327346=_0x3452b4+_0x50d3c0,_0x2ec8d8=_0x86dd30+_0x50d3c0,_0x438a3d=_0x275b5b+_0x50d3c0):(_0xf0563e=Math['min'](_0xf0563e,_0x3452b4-_0x50d3c0),_0x235019=Math['min'](_0x235019,_0x86dd30-_0x50d3c0),_0x5b01a7=Math['min'](_0x5b01a7,_0x275b5b-_0x50d3c0),_0x327346=Math['max'](_0x327346,_0x3452b4+_0x50d3c0),_0x2ec8d8=Math['max'](_0x2ec8d8,_0x86dd30+_0x50d3c0),_0x438a3d=Math['max'](_0x438a3d,_0x275b5b+_0x50d3c0));}return _0xadb83b||(_0x3d1a5f['center']['set']((_0xf0563e+_0x327346)*(0x2*-0x54e+0x5a7+0x1b*0x2f+0.5),(_0x235019+_0x2ec8d8)*(0x272+0x99*-0x1+0x2b*-0xb+0.5),(_0x5b01a7+_0x438a3d)*(0x7f7+0x695+-0x3a3*0x4+0.5)),_0x3d1a5f['halfExtent'+'s']['set']((_0x327346-_0xf0563e)*(0xd51*-0x1+0xedb+-0x2*0xc5+0.5),(_0x2ec8d8-_0x235019)*(-0x1f1*-0xf+0xd*-0x1e7+-0x464+0.5),(_0x438a3d-_0x5b01a7)*(0x2348*-0x1+0x112+0x2236+0.5))),!_0xadb83b;}['yieldToMai'+'n'](){var _0x204410;return(_0x204410=globalThis['scheduler'])!=null&&_0x204410['yield']?globalThis['scheduler']['yield']():new Promise(_0x42f2d1=>{setTimeout(_0x42f2d1,0x3f*-0x1e+0x4*0x68e+-0x12d6);});}['calcAabbEx'+'act'](_0xec73a2,_0x500c92){const _0x2912f1=new D(),_0x56f730=new le(),_0x317424=new D(),_0x47aaf7=this['createIter'](_0x2912f1,_0x56f730,_0x317424);let _0x3fa0f4=!(-0x7f*-0x5+0xb*0x28c+0x1*-0x1e7f);for(let _0x37fc8a=-0x53*-0x29+-0x43*-0x80+0x63*-0x79;_0x37fc8a<this['numSplats'];++_0x37fc8a)_0x500c92&&!_0x500c92(_0x37fc8a)||(_0x47aaf7['read'](_0x37fc8a),_0x3fa0f4?(_0x3fa0f4=!(0x1*0x219d+-0xd25*0x1+0x1477*-0x1),qn['calcSplatA'+'abb'](_0xec73a2,_0x2912f1,_0x56f730,_0x317424)):(qn['calcSplatA'+'abb'](mg,_0x2912f1,_0x56f730,_0x317424),_0xec73a2['add'](mg)));return!_0x3fa0f4;}async['getCenters'](_0x5bc943){const _0x226567=this['getProp']('x'),_0x13bf7a=this['getProp']('y'),_0x39c9b6=this['getProp']('z');for(let _0xb046d3=0x360+-0x2*-0xa03+-0x2*0xbb3;_0xb046d3<this['numSplats'];++_0xb046d3)_0x5bc943[_0xb046d3*(0x1145+0x242d+-0x1*0x356f)+(-0xfd7+-0xb*-0x13a+0x259)]=_0x226567[_0xb046d3],_0x5bc943[_0xb046d3*(0x1a3c+0x1cfa+-0x3733*0x1)+(-0x154a+0x2453+-0xd*0x128)]=_0x13bf7a[_0xb046d3],_0x5bc943[_0xb046d3*(-0x5*0x2f9+-0x1c93+0x635*0x7)+(0x1*0x1359+0x1d*-0x10f+-0x4*-0x2d7)]=_0x39c9b6[_0xb046d3],_0xb046d3%xf===0x4*-0x853+0x1*-0x611+0x275d&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x44ebd6;if((_0x44ebd6=this['transformD'+'ata'])!=null&&_0x44ebd6['muT'])return this['transformD'+'ata']['muT'];const _0x2ec5cb=this['getProp']('t');return _0x2ec5cb?new Float32Array(_0x2ec5cb):void(0x1*0x14e0+-0x1baa*0x1+0x6ca);}async['getTScale'](){const _0x5b5414=this['getProp']('t_scale');if(!_0x5b5414)return;const _0x5093a2=new Float32Array(this['numSplats']);for(let _0x590bca=-0x43f*0x8+0x1e2b+0x8b*0x7;_0x590bca<this['numSplats'];++_0x590bca)_0x5093a2[_0x590bca]=Math['exp'](_0x5b5414[_0x590bca]),_0x590bca%xf===0x222b*-0x1+-0x3*-0x837+0x986&&await this['yieldToMai'+'n']();return _0x5093a2;}async['getMotion'](_0x3e8a34){const _0x308c67=this['getProp']('motion_0'),_0x273a11=this['getProp']('motion_1'),_0x3bf4ee=this['getProp']('motion_2');if(!(!_0x308c67||!_0x273a11||!_0x3bf4ee)){for(let _0x43fae4=-0x232+0x84e+0x1*-0x61c;_0x43fae4<this['numSplats'];++_0x43fae4)_0x3e8a34[_0x43fae4*(-0x1*0x1d81+0x12de+0xaa6)+(-0x9*-0x259+-0x185e+0x33d)]=_0x308c67[_0x43fae4],_0x3e8a34[_0x43fae4*(0x984+-0x8b*-0x19+0xd3*-0x1c)+(0x1d29+0x2*0x7d3+-0x2cce)]=_0x273a11[_0x43fae4],_0x3e8a34[_0x43fae4*(-0x2339+0x77*0x32+0xbfe)+(-0xc31+-0xbc2*0x3+0x2f79)]=_0x3bf4ee[_0x43fae4],_0x43fae4%xf===-0xb5*-0x17+0x1e9e+-0x443*0xb&&await this['yieldToMai'+'n']();}}['getTimeInd'+'ex'](){var _0x175e86;if((_0x175e86=this['transformD'+'ata'])!=null&&_0x175e86['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0x116a0e=this['getProp']('time_index');if(_0x116a0e)return new Float32Array(_0x116a0e);}['calcFocalP'+'oint'](_0x25498f,_0x15eda6){const _0x45b3da=this['getProp']('x'),_0x4d983f=this['getProp']('y'),_0x46e1cf=this['getProp']('z'),_0x47fef8=this['getProp']('scale_0'),_0x13baab=this['getProp']('scale_1'),_0x5db622=this['getProp']('scale_2');_0x25498f['x']=0x1cff+0x9f+0x1d9e*-0x1,_0x25498f['y']=0x6d6+0x181b+-0x1ef1,_0x25498f['z']=-0x58e+0x1313+-0xd85*0x1;let _0x1b6d06=-0x1a*0x1a+-0x1*-0x68b+-0x3e7*0x1;for(let _0x43b549=0x23db+0x71*0x2c+0x59*-0x9f;_0x43b549<this['numSplats'];++_0x43b549){if(_0x15eda6&&!_0x15eda6(_0x43b549))continue;const _0x2e0632=_0x45b3da[_0x43b549],_0x93930=_0x4d983f[_0x43b549],_0x2b7bad=_0x46e1cf[_0x43b549];if(!isFinite(_0x2e0632)||!isFinite(_0x93930)||!isFinite(_0x2b7bad))continue;const _0x3b4676=(-0x883+-0x3*-0x9a3+-0x1465)/(-0x24a9+-0x182d+-0x1*-0x3cd7+Math['exp'](Math['max'](_0x47fef8[_0x43b549],_0x13baab[_0x43b549],_0x5db622[_0x43b549])));_0x25498f['x']+=_0x2e0632*_0x3b4676,_0x25498f['y']+=_0x93930*_0x3b4676,_0x25498f['z']+=_0x2b7bad*_0x3b4676,_0x1b6d06+=_0x3b4676;}_0x25498f['mulScalar']((-0x622+0x21a+0x409*0x1)/_0x1b6d06);}['renderWire'+'frameBound'+'s'](_0x70ffed,_0x44e3c6){const _0x5a7e9b=new D(),_0x515961=new le(),_0x4c7fbe=new D(),_0x1e1ced=new D(),_0x3be1c2=new D(),_0x5945f6=this['createIter'](_0x5a7e9b,_0x515961,_0x4c7fbe);for(let _0x39731a=0x1*-0x11d5+-0x15*-0x52+-0xb1b*-0x1;_0x39731a<this['numSplats'];++_0x39731a)_0x5945f6['read'](_0x39731a),_g(za,_0x5a7e9b,_0x515961),za['mul2'](_0x44e3c6,za),_0x1e1ced['set'](_0x4c7fbe['x']*-(-0x5f1+0x814+-0x5*0x6d),_0x4c7fbe['y']*-(-0x1*0x25c3+-0xf4*0x1f+-0x1*-0x4351),_0x4c7fbe['z']*-(0x51d+0x18b6*-0x1+0xef*0x15)),_0x3be1c2['set'](_0x4c7fbe['x']*(-0x1a23+-0x235*-0x5+0xf1c),_0x4c7fbe['y']*(-0x2006+-0x31b+-0x101*-0x23),_0x4c7fbe['z']*(0x941+-0x4f*0x44+0xbbd)),_0x70ffed['immediate']['drawWireAl'+'ignedBox'](_0x1e1ced,_0x3be1c2,KA,!(0x2f7+-0x2319*0x1+0x2022),_0x70ffed['defaultDra'+'wLayer'],za);}get['isCompress'+'ed'](){return!(-0x24c+0x929+-0x6dc);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x34a443=0x1031+0x13*-0x1cd+0x1206;_0x34a443<-0x1*-0x236f+0x1*0xa0d+-0x2d4f;++_0x34a443)if(!this['getProp']('f_rest_'+_0x34a443))return _0x34a443;return 0x11dd+0x19b*-0x3+0x5*-0x293;})())]??-0x516+-0x72d+-0x1*-0xc43;}['calcMorton'+'Order'](){const _0x1dfba8=_0xa85412=>{let _0x3e7986=_0xa85412[0x9ef+-0xb27+0x68*0x3],_0x236b78=_0xa85412[-0x262f+-0x1573+0x3ba2];for(let _0x14febb=-0x137e+0x20d*0x1+0x13f*0xe;_0x14febb<_0xa85412['length'];_0x14febb++)_0xa85412[_0x14febb]<_0x3e7986&&(_0x3e7986=_0xa85412[_0x14febb]),_0xa85412[_0x14febb]>_0x236b78&&(_0x236b78=_0xa85412[_0x14febb]);return{'min':_0x3e7986,'max':_0x236b78};},_0x37f222=(_0x3296c2,_0x2294ab,_0x534181)=>{const _0xd6f77f=_0x129da3=>(_0x129da3&=0x9*-0x125+-0x2*-0xb92+0x4*-0x236,_0x129da3=(_0x129da3^_0x129da3<<-0x122c+-0x178e+0x29ca)&-0x7*-0x2b75d0b9+0xb4*-0x2aadaf8+-0x86*-0x3373bb8,_0x129da3=(_0x129da3^_0x129da3<<-0x1191+-0x168a+0x2823)&0x3b*-0x14e80d+-0xbfa1*-0xc1+0x2f*0x2787e3,_0x129da3=(_0x129da3^_0x129da3<<0x1*-0x1352+-0x7*-0x2e+0x1214)&0x2b6ca99*0x1+-0x3dabdc2+0x43023ec,_0x129da3=(_0x129da3^_0x129da3<<0x213b+-0xe87+-0x12b2)&-0xd1ba25a+-0x114df3ce+0x278e2871,_0x129da3);return(_0xd6f77f(_0x534181)<<-0x1caa+-0x82*0x18+0x28dc)+(_0xd6f77f(_0x2294ab)<<0x1391+-0x2315*0x1+0xf85)+_0xd6f77f(_0x3296c2);},_0x5ce17c=this['getProp']('x'),_0x13fbf7=this['getProp']('y'),_0x48fb00=this['getProp']('z'),{min:_0xc6f648,max:_0x1f156a}=_0x1dfba8(_0x5ce17c),{min:_0x523a5a,max:_0x25cf70}=_0x1dfba8(_0x13fbf7),{min:_0x3c352e,max:_0x214806}=_0x1dfba8(_0x48fb00),_0x5db9bc=_0xc6f648===_0x1f156a?-0xd*-0x1fb+0x2e*-0x42+-0xde3:(0x1036+-0x20d4+0x149e)/(_0x1f156a-_0xc6f648),_0x13548b=_0x523a5a===_0x25cf70?-0x105a+-0x1*0x2471+0x34cb:(0x1*0x248d+-0x13e*0x8+-0x169d)/(_0x25cf70-_0x523a5a),_0x4a0e0e=_0x3c352e===_0x214806?0x2632+-0xabd+0x927*-0x3:(-0x1e9+0x20d4+0x1aeb*-0x1)/(_0x214806-_0x3c352e),_0x3d4945=new Map();for(let _0x489903=-0x331+0x12c1+-0xf90;_0x489903<this['numSplats'];_0x489903++){const _0x56d196=Math['min'](0x2066+0x2474+-0x40db*0x1,Math['floor']((_0x5ce17c[_0x489903]-_0xc6f648)*_0x5db9bc)),_0x29b2d4=Math['min'](-0x511*0x1+0x34a+-0x1*-0x5c6,Math['floor']((_0x13fbf7[_0x489903]-_0x523a5a)*_0x13548b)),_0x4ad68c=Math['min'](0x1464+0x83b+0xc5*-0x20,Math['floor']((_0x48fb00[_0x489903]-_0x3c352e)*_0x4a0e0e)),_0x363cfb=_0x37f222(_0x56d196,_0x29b2d4,_0x4ad68c),_0x605b4b=_0x3d4945['get'](_0x363cfb);_0x605b4b?_0x605b4b['push'](_0x489903):_0x3d4945['set'](_0x363cfb,[_0x489903]);}const _0x15d697=Array['from'](_0x3d4945['keys']())['sort']((_0x545356,_0x1477b9)=>_0x545356-_0x1477b9),_0x1e6ab9=new Uint32Array(this['numSplats']);let _0x57c487=-0xf*-0x10f+0x1203*0x1+-0x21e4;for(let _0x529d9b=-0x1fc+-0x34d+0x549;_0x529d9b<_0x15d697['length'];++_0x529d9b){const _0x4f5e41=_0x3d4945['get'](_0x15d697[_0x529d9b]);for(let _0x3044e0=0x534*-0x4+0xbab*0x3+-0x3*0x4bb;_0x3044e0<_0x4f5e41['length'];++_0x3044e0)_0x1e6ab9[_0x57c487++]=_0x4f5e41[_0x3044e0];}return _0x1e6ab9;}['reorder'](_0x2751f1){const _0x5192e2=new Map(),_0x4a40a6=_0x16eb26=>{if(_0x5192e2['has'](_0x16eb26)){const _0x38c477=_0x5192e2['get'](_0x16eb26);return _0x5192e2['delete'](_0x16eb26),_0x38c477;}return new ArrayBuffer(_0x16eb26);},_0x2249d7=_0x22ff91=>{_0x5192e2['set'](_0x22ff91['byteLength'],_0x22ff91);},_0x5a3cdf=_0x5c7d77=>{const _0x58db96=new _0x5c7d77['constructo'+'r'](_0x4a40a6(_0x5c7d77['byteLength']));for(let _0x6f5081=0x1519+0x5*-0x467+0xea;_0x6f5081<_0x2751f1['length'];_0x6f5081++)_0x58db96[_0x6f5081]=_0x5c7d77[_0x2751f1[_0x6f5081]];return _0x2249d7(_0x5c7d77['buffer']),_0x58db96;};this['elements']['forEach'](_0x397d18=>{_0x397d18['properties']['forEach'](_0xb942dc=>{_0xb942dc['storage']&&(_0xb942dc['storage']=_0x5a3cdf(_0xb942dc['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}async function QA(){const _0x223baf=new Float32Array(0x18ea+-0x1284+-0x665);new Int32Array(_0x223baf['buffer']);let _0x55cec1=0x1aef+-0xaab*0x2+-0x599,_0x1d1c31={};self['onmessage']=async _0xad6b98=>{const {data:_0x49b5c8}=_0xad6b98;switch(_0x49b5c8['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x543efc(_0x49b5c8['properties'],_0x49b5c8['timeIndex'],_0x49b5c8['timeOption']);break;case'releaseSeq'+'Data':_0x37f5ab(_0x49b5c8['index']);break;case'releaseAll'+'SeqData':_0x3a20c9();break;case'destroyWor'+'ker':_0x19d1ee();break;}};const _0x3bc004=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x393a4d=-0x171*0xc+0x115*0x1+-0x1037*-0x1;_0x393a4d<0xda7+0x400+-0x117a;++_0x393a4d)if(!_0x1d1c31['f_rest_'+_0x393a4d])return _0x393a4d;return-0x332*-0x1+-0x260c+-0x31*-0xb7;})())]??-0x227+0x2544+-0x59*0x65),_0x543efc=(_0x14cd6b,_0x4c7dc6,_0x4181d8)=>{var _0x4971cc,_0x32ec1c;_0x55cec1+=(((_0x4971cc=_0x14cd6b['position'])==null?void(0x11*0xbf+-0xc83*-0x2+-0x7*0x563):_0x4971cc['length'])??-0x2449+0x1e66+0x5e3)/(0x1*0x22d9+0x4*0x2aa+-0x2d7e),console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20append'+'GSplatData'+'\x20numSplats',_0x55cec1,(((_0x32ec1c=_0x14cd6b['position'])==null?void(-0x295+0x1*-0x2050+0x22e5):_0x32ec1c['length'])??0x3*-0xbcb+-0x37*0x11+0x2708)/(-0x22ee+0x1a*-0x113+0x3edf));const _0x379d04=Object['keys'](_0x14cd6b);for(let _0x4c61f8=-0x88b+0x1*0x58+-0x833*-0x1;_0x4c61f8<_0x379d04['length'];_0x4c61f8++){const _0x1c607f=_0x379d04[_0x4c61f8],_0x57b885=_0x14cd6b[_0x1c607f],_0x59f65e=_0x1d1c31[_0x1c607f]??new Float32Array(-0x1*-0x194+0x1aa0+0x4c*-0x5f);if(_0x57b885){let _0x436c36=null;switch(_0x1c607f){case'position':_0x436c36=new Float32Array(_0x55cec1*(-0x15*-0xc7+-0x4*-0x1d0+-0x1790));break;case'color_opac'+'ity':_0x436c36=new Uint16Array(_0x55cec1*(-0x222a+0x1*-0xd84+0x3*0xfe6));break;case'scale':_0x436c36=new Uint16Array(_0x55cec1*(-0x2ce+0x934+-0x663*0x1));break;case'motion':_0x436c36=new Float32Array(_0x55cec1*(0x86*0x25+-0xc1c+-0x73f));break;case'rotation':_0x436c36=new Float32Array(_0x55cec1*(0xca6+0xf7d+-0x1c20));break;default:_0x436c36=new Float32Array(_0x55cec1);break;}_0x436c36['set'](_0x59f65e,0x1*0x1d25+0xe26*0x1+0x1*-0x2b4b),_0x436c36['set'](_0x57b885,_0x59f65e['length']),_0x1d1c31[_0x1c607f]=_0x436c36;}}const _0x318927={};Object['keys'](_0x1d1c31)['forEach'](_0x5861a2=>{_0x5861a2==='scale'||_0x5861a2==='color_opac'+'ity'?_0x318927[_0x5861a2]=new Uint16Array(_0x1d1c31[_0x5861a2]['buffer']['slice']()):_0x318927[_0x5861a2]=new Float32Array(_0x1d1c31[_0x5861a2]['buffer']['slice']());});const _0x56e341=Object['keys'](_0x318927)['map'](_0x2f9a5f=>_0x318927[_0x2f9a5f]['buffer']),_0x20f0b7=_0xb09c5f(),_0xbaab39=Object['keys'](_0x20f0b7)['map'](_0x317fcd=>_0x20f0b7[_0x317fcd]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x318927,'transformData':_0x20f0b7},_0x56e341['concat'](_0xbaab39));},_0xb09c5f=()=>{const _0x28b81f=_0x1d1c31['position']['length']/(0x2526+-0x1a99+-0xa8a*0x1),_0x16e47a=_0x1d1c31['position'],_0xe49787=_0x1d1c31['scale'],_0x486225=_0x1d1c31['rotation'],_0x3dbf14=_0x1d1c31['motion'],_0x2dccdc=_0x1d1c31['t'],_0x237d26=_0x1d1c31['t_scale'],_0x1ca887=_0x1d1c31['time_index'],_0x5c921a=_0x1d1c31['color_opac'+'ity'],_0xed70ce=(_0x2dccdc==null?void(0x4a*0x62+0x23e+-0x1e92):_0x2dccdc['length'])>0x15bb*-0x1+-0x1d27*-0x1+-0x76c;let _0x2793c9=null,_0x13625f=null,_0x25d480=null,_0x44705b=null;_0xed70ce&&(_0x13625f=new Float32Array(_0x28b81f*(0x21ca+0x4d4+0x1*-0x269b)),_0x44705b=new Float32Array(_0x28b81f),_0x2793c9=new Float32Array(_0x3dbf14['buffer']['slice']()),_0x25d480=new Float32Array(_0x3dbf14['buffer']['slice']()));const _0x203647=new Float32Array(_0x16e47a['buffer']['slice']()),_0x1597bc=new Float32Array(_0x16e47a['buffer']['slice']()),_0xf48ee7=new Uint16Array(_0x5c921a['buffer']['slice']()),_0x1626bc=new Uint16Array(_0xe49787['buffer']['slice']()),_0x9781b3=new Float32Array(_0x486225['buffer']['slice']());for(let _0x4715a8=-0x3*0x689+0x93d+0xa5e;_0x4715a8<_0x28b81f;++_0x4715a8)_0xed70ce&&_0x13625f&&_0x44705b&&(_0x44705b[_0x4715a8]=_0x237d26?Math['exp'](_0x237d26[_0x4715a8]):0x12cf*0x1+-0x1d02+-0x7*-0x175,_0x13625f[_0x4715a8*(0x13f0+-0x2*-0x9c+-0x1525)+(0xe96+-0x123*0x15+0x1*0x949)]=_0x2dccdc?_0x2dccdc[_0x4715a8]:-0x1c9a+-0xd59+0x29f3,_0x13625f[_0x4715a8*(-0x141+-0x648+0x78c)+(0x435+0x22a9*0x1+-0x26dd)]=_0x44705b[_0x4715a8]);const _0x8bee1d=_0x412cb1();let _0x237492={'dataColor':_0xf48ee7,'dataCenters':_0x1597bc,'dataPosition':_0x203647,'dataScale':_0x1626bc,'dataRotation':_0x9781b3,..._0x8bee1d};return _0xed70ce&&(_0x237492={..._0x237492,'dataMotion':_0x2793c9,'dataTime':_0x13625f,'motion':_0x25d480,'tScaleArray':_0x44705b,'muT':new Float32Array(_0x2dccdc),'timeIndex':new Float32Array(_0x1ca887)}),_0x237492;},_0x55cca8=_0x2683ce=>{const _0x5f16c7=[];for(let _0xd8ac5f=0x5d6+0x2649+-0x2c1f;_0xd8ac5f<_0x2683ce;++_0xd8ac5f)_0x5f16c7['push'](_0x1d1c31['f_rest_'+_0xd8ac5f]);return _0x5f16c7;},_0x412cb1=()=>{const _0x1f8e3a=_0x3bc004();if(_0x1f8e3a<=0x1*0x91d+-0x3*0x64d+0x9ca)return{};const _0x2a6058=_0x1d1c31['x']['length'],_0x7dfadd=new Uint32Array(_0x2a6058*(0x139b+-0x2*0x22a+-0xf43)),_0x51e57=new Uint32Array(_0x2a6058*(-0x1eb*0x2+0x1*0xb3+0x327)),_0x389a24=new Uint32Array(_0x2a6058*(-0x3*-0x445+-0x473+-0x858)),_0x1a00d7=new Uint32Array(_0x2a6058*(0x1*-0xd01+-0x17ef+0xa*0x3b2)),_0x20fe40={0x1:0x3,0x2:0x8,0x3:0xf}[_0x1f8e3a],_0x2e4675=_0x55cca8(_0x20fe40*(0x1c0c+-0x1dd3+-0x1*-0x1ca)),_0x5a79c6=0x1*-0xdb+-0x35*-0x62+-0x2dc*0x4,_0x40f0f0=0x20d2+-0x57*-0x34+-0x2e7f,_0x557461=new Float32Array(0x8ec+0x20a2+-0xb*0x3c7),_0xd6a93f=new Uint32Array(_0x557461['buffer']),_0x452534=new Array(_0x20fe40*(0x1*0x15a0+0x6e4+-0x1c81))['fill'](-0x1c88+0x2*0x5dd+0xef*0x12);for(let _0x251985=0x1*-0x157f+0x26b7+-0x74*0x26;_0x251985<_0x2a6058;++_0x251985){for(let _0x48618d=0x1ae5+0x124d+-0x2d32;_0x48618d<_0x20fe40;++_0x48618d)_0x452534[_0x48618d*(-0x2360+0x1957+-0x4*-0x283)]=_0x2e4675[_0x48618d][_0x251985],_0x452534[_0x48618d*(0x2*-0xfb+-0x1cd*0xb+0x15c8)+(0x6*0x16e+0x23b6+0x1*-0x2c49)]=_0x2e4675[_0x48618d+_0x20fe40][_0x251985],_0x452534[_0x48618d*(0x2*0x17+0x1934*-0x1+-0xdd*-0x1d)+(-0x10a4+0xccc+-0x22*-0x1d)]=_0x2e4675[_0x48618d+_0x20fe40*(-0x16cd+-0xb89+-0x1*-0x2258)][_0x251985];let _0xec5b86=_0x452534[-0x4b0+0x224e*-0x1+-0x2c9*-0xe];for(let _0x4edf72=0xde1+0xc4c+-0x1a2c;_0x4edf72<_0x20fe40*(0x199a+-0x1*-0x943+-0x22da);++_0x4edf72)_0xec5b86=Math['max'](_0xec5b86,Math['abs'](_0x452534[_0x4edf72]));if(_0xec5b86!==0x1*0x1c4f+-0x1323+0x1*-0x92c){for(let _0x5b9b2a=0xa29*-0x1+-0x705+0x2dd*0x6;_0x5b9b2a<_0x20fe40;++_0x5b9b2a)_0x452534[_0x5b9b2a*(-0x1ca1+0x4f*0x5+0x1b19)+(0x1*-0x11a1+0x2*-0x11b6+0x350d)]=Math['max'](-0x5c0+-0x8a*-0x1a+-0x422*0x2,Math['min'](_0x5a79c6,Math['floor']((_0x452534[_0x5b9b2a*(-0x54*-0x67+-0x7f*0x11+-0x195a)+(0x1969+-0x1567+-0x402)]/_0xec5b86*(-0xa2c+0x7*-0xcb+-0xfb9*-0x1+0.5)+(0x14d9*-0x1+0xe23+-0x2*-0x35b+0.5))*_0x5a79c6+(-0x14*0x131+0x1*0xaa3+0xd31+0.5)))),_0x452534[_0x5b9b2a*(0x2b*0x73+0x1*-0x365+-0xfe9*0x1)+(0x256a+-0x2b*0x6b+-0x26e*0x8)]=Math['max'](0x1*0x125+-0x18c9+0x17a4,Math['min'](_0x40f0f0,Math['floor']((_0x452534[_0x5b9b2a*(-0x21*0x12e+-0x1e*0x3+0x274b)+(-0x696*0x3+-0x20be+0x3481)]/_0xec5b86*(-0x4*0x1bb+-0xcb9+-0x13a5*-0x1+0.5)+(-0x810*0x2+0x22d*0x1+0x1*0xdf3+0.5))*_0x40f0f0+(-0x2*0xda8+0x1ad6*0x1+0x7a+0.5)))),_0x452534[_0x5b9b2a*(0x1*0x205f+0x5*0x791+0x421*-0x11)+(0x3d+-0x1070+0x1035)]=Math['max'](-0x1d47+-0x2*0x9ad+0x30a1,Math['min'](_0x5a79c6,Math['floor']((_0x452534[_0x5b9b2a*(0x168f+-0x38*0xad+0x59*0x2c)+(-0x161+0x18*-0x17c+0x2503)]/_0xec5b86*(-0x210d+0x151+-0x7ef*-0x4+0.5)+(0xb2b*0x2+-0x140*0x8+-0xc56+0.5))*_0x5a79c6+(-0x1f*0x142+-0x2334+0x4a32+0.5))));_0x557461[0x2530+0xd1+0xcf*-0x2f]=_0xec5b86,_0x7dfadd[_0x251985*(0xa7d+-0x23b*-0x11+-0x3064)+(-0x1c92+0x1de5+-0x71*0x3)]=_0xd6a93f[0x3d*-0x92+-0x3*0x8d+0x2471],_0x7dfadd[_0x251985*(0x13*0x145+-0x1955+0x13a)+(-0x2267*-0x1+0x253+-0x24b9)]=_0x452534[-0x25*-0x14+0x2ec*0xc+-0x15b*0x1c]<<-0x6d0+0x29+0x6bc|_0x452534[-0x1fc1+-0x2*-0xe8f+-0xa9*-0x4]<<-0x399*-0x3+0x1*-0xd5c+0xa7*0x4|_0x452534[0xaab*-0x1+-0x19e2+0x7*0x539],_0x7dfadd[_0x251985*(-0xbb*0x15+0x2*-0x6a1+0x1c9d)+(-0x1c25+-0x1ea5+0x3acc)]=_0x452534[0x243*0x1+-0x1efa+0x1cba]<<-0x269*-0x7+-0x97*0x1c+-0x46|_0x452534[-0xc70+-0x3d0+0x1044]<<0xa58+-0xc24+0x1d7|_0x452534[-0x1b1*0x2+-0x21a3+0x250a],_0x7dfadd[_0x251985*(0x2086+-0x1*-0x1343+-0x33c5)+(0x18f*-0x16+-0x1ac+-0x1*-0x23f9)]=_0x452534[-0x18dd+0x10b4*0x1+0x5*0x1a3]<<-0xb*0x241+-0x3b*0x19+0x1ea3|_0x452534[0x1060+-0x2d*-0x9f+0x1626*-0x2]<<-0x2*-0xddf+0x925*-0x2+-0x969|_0x452534[-0x112d+-0x69a+0x17*0x109],_0x1f8e3a>-0xea*-0xe+-0xcca+-0x1*0x1&&(_0x51e57[_0x251985*(-0x4*-0x342+-0x1eff+0x11fb)+(0x1c27*0x1+0x3*0xa4c+0xbcf*-0x5)]=_0x452534[0xfe3+0x209+0xf1*-0x13]<<-0xfb*0xb+-0xb5c+0x163a|_0x452534[0xdac+0x7a5*-0x2+0x6a*0x4]<<0x3*-0xb0f+0x1141+0x1*0xff7|_0x452534[0x2*0x114+0xb37+0x4*-0x355],_0x51e57[_0x251985*(-0x2519*-0x1+0xa*0x202+-0x1*0x3929)+(-0x26c0+-0x1895*-0x1+-0x38b*-0x4)]=_0x452534[-0x1960+0x254f*0x1+0x1*-0xbe3]<<-0xa*-0x164+-0x1352+0x57f|_0x452534[-0xcc4+-0x1318+0xaa3*0x3]<<-0x2ea*-0x3+-0xd7a+0x1*0x4c7|_0x452534[0x1d49+-0x13e8+-0x4d*0x1f],_0x51e57[_0x251985*(0x753*-0x1+0x1b*0xf9+-0x12ec)+(-0x1287+-0x2030*0x1+0x32b9)]=_0x452534[0x1*0x191c+-0x5*0x281+-0xc88]<<0x1*0x4f4+-0x1c87*-0x1+0x5f*-0x5a|_0x452534[-0x264a+0x9d*-0x31+0x4467*0x1]<<0x17e*-0x12+-0x597*-0x2+0xfb9|_0x452534[0x159a+0x26cb+-0x3c54],_0x51e57[_0x251985*(0x2420*0x1+-0x20*-0x46+-0x2cdc)+(0x1425+0x22f*0x2+-0x1880)]=_0x452534[-0xa09+-0x1b26+0x2541]<<0x6fd+-0x1*-0x1f7d+-0x2665*0x1|_0x452534[0x13a9+0x10ab+-0x2441]<<-0x4c4+0x1e5e+-0x198f|_0x452534[0x1986+-0x434*-0x5+-0x2e76],_0x1f8e3a>-0x11f5+-0x9ad*0x4+-0x38ab*-0x1?(_0x389a24[_0x251985*(0x1*0x1e03+-0x1*0xd73+-0x4*0x423)+(-0x123+0x537+0x1*-0x414)]=_0x452534[0x43b+-0xefd+0xb9*0xf]<<0x6*0x1d+0x404+-0x49d|_0x452534[0x4d*-0x3e+-0x1e4d+-0x1*-0x3109]<<-0x19fe*0x1+-0xb*-0x40+-0x7c3*-0x3|_0x452534[0x118+0xa52+-0xb53],_0x389a24[_0x251985*(0x1aec+0x1*-0x16d9+-0x40f)+(-0x1a*-0x171+0x2646+-0x4bbf)]=_0x452534[-0xcd2+-0x1f1*0x10+0x2bfa]<<0x1402+0x1fd2+-0x33bf|_0x452534[0x382*-0x7+-0x1b7a+0x311*0x11]<<0x1b7c+0x9*-0x21f+-0x85a|_0x452534[-0x411*-0x1+0x2*0xac6+-0x3a5*0x7],_0x389a24[_0x251985*(0xf*-0xde+0x2554+-0x184e)+(0x4*0x11b+-0x652*-0x4+0x2*-0xed9)]=_0x452534[0xfce+0xbc3*0x3+-0x32fc]<<-0x2172+0x151e+0xc69|_0x452534[0x1*0x1361+-0x229a+0xf55]<<-0x8fa*0x2+-0x2679+-0x116*-0x34|_0x452534[-0x1edc+-0xf36+0x2e2f],_0x389a24[_0x251985*(-0x10ce+0x1027+-0x1*-0xab)+(-0x13d*0x10+0x5e3+0xdf0)]=_0x452534[-0x824+-0x151e*0x1+0x1d60]<<-0xcfd+0xd*-0x2c+-0x2*-0x7a7|_0x452534[0x9*-0x25a+0x18a*-0x11+0x2f73]<<0x2*0xf7b+-0x104d+-0xe9e|_0x452534[-0x1fbf+-0x3a*0x29+0x1*0x2929],_0x1a00d7[_0x251985*(-0xa9*-0xf+0xdd8+-0x17bb)+(0x1db9*-0x1+0x19d+-0x404*-0x7)]=_0x452534[0xe5f*0x2+-0x212c+0x48f]<<-0x13d+0x2*0xf5b+0xb*-0x2ac|_0x452534[0x12*-0x117+-0x359*0x2+0x1a72]<<0x1055+0x22f0+0x9e*-0x53|_0x452534[0xe5*0x3+0x1605+-0x1891],_0x1a00d7[_0x251985*(0x18c2+-0x10*-0x16b+0x17b7*-0x2)+(-0x5a6+-0xb8c+-0x7*-0x275)]=_0x452534[-0x129b*-0x1+-0x2440+0x11c9]<<0x71*-0x17+-0x1259+0x1c95|_0x452534[-0x2077+-0x26a0+-0x1*-0x473c]<<0x26e*-0xe+0x17b7+0x296*0x4|_0x452534[0x2363+-0x1*0x455+-0x158*0x17],_0x1a00d7[_0x251985*(-0x1*-0x994+0x1ac+0x2cf*-0x4)+(-0x22d2*0x1+-0xc46+0x2f1a)]=_0x452534[0x1*0x26b3+0x1*0xe26+0x545*-0xa]<<0x5*0xd7+-0x1a92+0x1674|_0x452534[-0x205e+-0x1b50+0x3bd6]<<0x1*0x23d+-0x2504+-0x1169*-0x2|_0x452534[-0xd9+0xd5+-0x5*-0x9],_0x1a00d7[_0x251985*(0x15d*0x12+0x10bd+-0x2943)+(-0x13f+-0x1a9e+-0x6f8*-0x4)]=_0x452534[0x134+0x72e+-0x838]<<-0xc2a+0xc7*0x7+0x43*0x1a|_0x452534[0x2e*0x10+0x1*0x2605+0x2*-0x145d]<<-0x25c7+0x5ad*-0x4+0x3c86|_0x452534[-0x21bf+0x4b3*-0x5+0x396a]):_0x389a24[_0x251985]=_0x452534[-0x1634+-0x163*0x2+-0x5*-0x503]<<0x3*-0xef+0x1b3a+-0x1858|_0x452534[0x203b+0x1*-0x2629+0x604*0x1]<<-0x6c9+0x1c0d+-0x1539|_0x452534[0x1a2c+0x26c8+-0x40dd]);}}return{'sh1to3Data':_0x7dfadd,'sh4to7Data':_0x51e57,'sh8to11Data':_0x389a24,'sh12to15Data':_0x1a00d7};},_0x37f5ab=_0x56ef42=>{if(!_0x1d1c31['time_index'])return;const _0x268caf=_0x1d1c31['time_index']['findIndex'](_0x2fd690=>_0x2fd690===_0x56ef42);let _0x2e29e4=_0x1d1c31['time_index']['findIndex']((_0x2a0c06,_0x45b169)=>_0x2a0c06!==_0x56ef42&&_0x45b169>_0x268caf);if(_0x2e29e4===-(-0x3*0x7e+-0x3*-0xce3+-0x252e)&&_0x268caf===-(0x1*0x1c2+0x2156+-0x2317))return;_0x2e29e4===-(0x1e2*0x13+-0x101*0x25+0x160)&&_0x268caf!==-(-0x1a40+0xf8*0x7+0x1379)&&(_0x2e29e4=_0x1d1c31['time_index']['length']),_0x55cec1-=_0x2e29e4-_0x268caf,console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20releas'+'eSeqData\x20n'+'umSplats',_0x55cec1,_0x2e29e4-_0x268caf);const _0x187e7f=Object['keys'](_0x1d1c31);for(let _0x43ac24=0xb0d+-0x249a+-0x1f*-0xd3;_0x43ac24<_0x187e7f['length'];_0x43ac24++){const _0x651e51=_0x187e7f[_0x43ac24],_0xda289c=_0x1d1c31[_0x651e51];if(_0xda289c){let _0x3d0060=-0x916+-0x6f3+0x100a*0x1;switch(_0x651e51){case'position':_0x3d0060=-0x1*-0x1d1a+-0x97d*0x3+-0xa0;break;case'color_opac'+'ity':_0x3d0060=0x1ece+0x1815+-0x36df;break;case'scale':_0x3d0060=0x11c5*-0x2+-0xe28+0x31b5;break;case'motion':_0x3d0060=-0x1*0x1bb9+0x3*0x38f+0x110f;break;case'rotation':_0x3d0060=0x1f08+0x11d3+-0x30d8;break;default:_0x3d0060=0x1*0x17b+0x3d*0x45+-0x11eb;break;}const _0x358f6f=new Float32Array(_0x55cec1*_0x3d0060);_0x268caf>-0xe5f+0x21c+0xc43?(_0x358f6f['set'](_0xda289c['subarray'](-0x4a*-0x53+0x190d*-0x1+0x10f*0x1,_0x268caf*_0x3d0060),-0x9fa*-0x1+0x3*0x2b0+0x905*-0x2),_0x358f6f['set'](_0xda289c['subarray'](_0x2e29e4*_0x3d0060),_0x268caf*_0x3d0060)):_0x358f6f['set'](_0xda289c['subarray'](_0x2e29e4*_0x3d0060),0x3e*0x64+-0x13*0x13c+0x7*-0x1c),_0x1d1c31[_0x651e51]=_0x358f6f;}}},_0x3a20c9=()=>{const _0x3dce8=Object['keys'](_0x1d1c31);for(let _0x18b81e=-0x1*0x4a8+0x106c*-0x2+0x2580;_0x18b81e<_0x3dce8['length'];_0x18b81e++){const _0x52fbe1=_0x3dce8[_0x18b81e];_0x1d1c31[_0x52fbe1]&&(_0x1d1c31[_0x52fbe1]=[]);}},_0x19d1ee=()=>{_0x1d1c31={},_0x55cec1=-0x1220+0x1*-0xd22+-0xfa1*-0x2;};}class JA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+QA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0xafa860,_0x4f94e3,_0x483b12,_0x4c570b=!(0x1037+0x1*-0xb50+0xd1*-0x6)){var _0x1b771d,_0x557e3d;const _0x538f6e={};return _0xafa860['elements'][-0x21f9+0x3*0x897+0x834]['properties']['forEach'](_0x3e8bed=>{_0x538f6e[_0x3e8bed['name']]=_0x3e8bed['storage'];}),_0x4c570b?(_0x1b771d=this['worker'])==null||_0x1b771d['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x538f6e,'timeIndex':_0x4f94e3,'timeOption':_0x483b12},_0xafa860['elements'][-0x17*0xac+0xe*-0xdf+0x1ba6*0x1]['properties']['map'](_0x4a8e7e=>_0x4a8e7e['storage']['buffer'])):(_0x557e3d=this['worker'])==null||_0x557e3d['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x538f6e,'timeIndex':_0x4f94e3,'timeOption':_0x483b12}),new Promise(_0x376041=>{this['worker']['onmessage']=_0x1dfb6a=>{if(!this['worker'])return;const {data:_0x450a71}=_0x1dfb6a;_0x450a71['type']==='newAppendD'+'ata'&&_0x376041(_0x450a71);};});}async['releaseSeq'+'Data'](_0x5d5091){var _0x12c09e;(_0x12c09e=this['worker'])==null||_0x12c09e['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x5d5091});}async['releaseAll'+'SeqData'](){var _0xc013f2;(_0xc013f2=this['worker'])==null||_0xc013f2['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x259597;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x259597=this['worker'])==null||_0x259597['terminate'](),this['worker']=null);}}const gc=new te(),gg=new le(),eC=new ie(-0xabf*-0x1+-0x1*-0x187a+-0x2338,0x1*0x2656+0x122c+-0xb*0x523,-0x20cb+0x259e+-0x4d3,-0x1269+0x249a+-0x1231+0.4),Sg=-0x104f3*-0x2+0x833e+0x801c;class tC{constructor(_0x6519fd,_0x33a15e,_0xfb0764,_0xad0745,_0xf8c7a9,_0x55f87f){const _0xaf2d79=_0x6519fd['getProp']('position'),_0x1c9ac8=_0x6519fd['getProp']('color_opac'+'ity'),_0x2adf02=_0x6519fd['getProp']('scale'),_0x3dbf6b=_0x6519fd['getProp']('motion'),_0x3ab8aa=_0x6519fd['getProp']('rotation');this['read']=_0x1b180d=>{_0x33a15e&&_0x33a15e['set'](_0xaf2d79[_0x1b180d*(0x7*-0x49d+0xf1*-0x1f+0x3d7d)+(-0x5f5+0x1ebb*-0x1+0x24b0)],_0xaf2d79[_0x1b180d*(-0x4*0xf1+0x20c2+-0x1cfb)+(0x13d9+-0xf7*0x1+0xb3*-0x1b)],_0xaf2d79[_0x1b180d*(-0x1c43+0xa4d+0x2b*0x6b)+(-0x114f+0x14e8+0x397*-0x1)]),_0xfb0764&&_0xfb0764['set'](_0x3ab8aa[_0x1b180d*(-0x7cc+0x8aa*-0x3+0x21cd*0x1)+(-0x18ef+-0x1*0x2251+0x3b40)],_0x3ab8aa[_0x1b180d*(-0x237e+0xd80+0x1601)+(0x239+0x2392+0x2*-0x12e5)],_0x3ab8aa[_0x1b180d*(0x10d6+-0x122d+-0x15a*-0x1)+(-0x3*0x37d+0x836*0x4+0xf9*-0x17)]),_0xad0745&&_0xad0745['set'](_0x2adf02[_0x1b180d*(0xe96+-0x129*-0x5+-0x1460)+(0x1*0x9a4+0x21bb+-0x2b5f)],_0x2adf02[_0x1b180d*(-0x3e5*-0x7+-0x473*0x5+-0x501*0x1)+(-0x578+0x1041+-0xac8)],_0x2adf02[_0x1b180d*(-0x35*-0x3b+0x19e9+-0x377*0xb)+(0x182*-0x3+0xa*0x13a+-0x7bc)]),_0x55f87f&&_0x3dbf6b&&_0x55f87f['set'](_0x3dbf6b[_0x1b180d*(-0x11*0x249+0x51e*0x2+0x10*0x1ca)+(0x938+0x7*-0xce+-0x396*0x1)],_0x3dbf6b[_0x1b180d*(-0xc1d+-0x78d*0x5+0x31e1)+(-0x197*0x2+0x8*-0x5c+0x1*0x60f)],_0x3dbf6b[_0x1b180d*(-0x22d*0x2+-0xc71+0x10ce*0x1)+(0x5db*0x5+-0x99+0xe56*-0x2)]),_0xf8c7a9&&_0xf8c7a9['set'](_0x1c9ac8[_0x1b180d*(0x318+0x5ad+-0x3*0x2eb)+(0x147*0x17+0x8c8+0x2629*-0x1)],_0x1c9ac8[_0x1b180d*(-0x4b*0x55+-0x443*-0x2+0x1065)+(0x547+0xde0+-0x1326)],_0x1c9ac8[_0x1b180d*(0x1*-0x39e+-0x7ea*0x1+0x1*0xb8c)+(0x608+-0x4f3*-0x5+-0x1ec5*0x1)],_0x1c9ac8[_0x1b180d*(-0x1d71+-0x1d*-0xbd+-0x203*-0x4)+(0x18a6+-0x5e*0x4c+0x345)]);};}}const sC=(_0x5c7628,_0x5ac3df,_0x2b14bf)=>{gg['set'](_0x2b14bf['x'],_0x2b14bf['y'],_0x2b14bf['z'],_0x2b14bf['w'])['normalize'](),_0x5c7628['setTRS'](_0x5ac3df,gg,D['ONE']);};class iC{constructor(_0x52f700,_0x3aea7c=[],_0x590cb7=[]){h(this,'elements'),h(this,'properties'),h(this,'numSplats',-0x2661+-0x3dc+0x3d7*0xb),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0x10a10d;(_0x10a10d=this['dataWorker'])==null||_0x10a10d['destroy'](),this['dataWorker']=null;});var _0x2c2571,_0xc5cb35,_0x560429;this['elements']=_0x52f700,this['properties']=_0x590cb7,this['numSplats']=((_0x2c2571=this['getElement']('vertex'))==null?void(0x1ae5+-0x17b3+-0x332):_0x2c2571['count'])??-0x4*0x1e8+-0x40b+0xbab,this['comments']=_0x3aea7c,this['is4D']=!!((_0x560429=(_0xc5cb35=this['getElement']('vertex'))==null?void(0x10f3*0x1+-0x19a*0x15+-0x1*-0x10af):_0xc5cb35['properties']['find'](_0x20eb90=>_0x20eb90['name']==='t'))!=null&&_0x560429['storage']);}async['appendGSpl'+'atData'](_0x1af280,_0x45b0b1,_0x247efd){var _0x3b324f;let _0x9ec0ab=-0x282+-0x9b7+0xc39;for(let _0xa6db38=-0x1519+-0x1*-0xb8d+-0x4*-0x263;_0xa6db38<_0x247efd['length']&&_0x45b0b1>_0x247efd[_0xa6db38];_0xa6db38+=0x1eb3+-0x1863+-0x64e*0x1)_0x9ec0ab=_0xa6db38/(-0x1905+0x1*0x20c3+0x63*-0x14);this['dataWorker']||(this['dataWorker']=new JA(),await this['dataWorker']['appendGSpl'+'atData'](this,0x2c6*-0x4+0x4f1*-0x3+-0x5*-0x52f,_0x247efd));const _0x5a8d7f=this['getElement']('vertex');_0x5a8d7f&&(_0x5a8d7f['count']=this['numSplats']);const _0x3278d8=await this['dataWorker']['appendGSpl'+'atData'](_0x1af280,_0x9ec0ab,_0x247efd,!(-0x9*0x9f+-0x251b*-0x1+-0xfc2*0x2)),_0x43501c=_0x3278d8['properties'],_0x202b0c=((_0x3b324f=this['getElement']('vertex'))==null?void(-0x2ab+-0x4*-0x94f+-0x2291):_0x3b324f['properties'])??[];for(const _0x1f2d81 in _0x43501c){const _0x4734b6=_0x202b0c['find'](_0x15c5c5=>_0x15c5c5['name']===_0x1f2d81);_0x4734b6?_0x4734b6['storage']=_0x43501c[_0x1f2d81]:_0x202b0c['push']({'type':'float','name':_0x1f2d81,'storage':_0x43501c[_0x1f2d81],'byteSize':0x4});}this['transformD'+'ata']=_0x3278d8['transformD'+'ata'],this['numSplats']=_0x43501c['position']['length']/(-0x18*0xad+-0x16f*-0xc+0x1*-0xf9);}async['releaseSeq'+'Data'](_0x5878ae){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'leaseSeqDa'+'ta',_0x5878ae),this['dataWorker']['releaseSeq'+'Data'](_0x5878ae),this;}async['releaseAll'+'SeqData'](){var _0x10272d;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'lease\x20all\x20'+'SeqData'),(_0x10272d=this['dataWorker'])==null||_0x10272d['releaseAll'+'SeqData'](),this;}['getProp'](_0x38f67d,_0x3f6d70='vertex'){var _0x55c495,_0x5461bd;return(_0x5461bd=(_0x55c495=this['getElement'](_0x3f6d70))==null?void(0x2*0x12f5+0x3*-0x985+-0x1df*0x5):_0x55c495['properties']['find'](_0x1d7c3c=>_0x1d7c3c['name']===_0x38f67d))==null?void(-0x1*-0x67f+0xe*-0xe+-0x5bb):_0x5461bd['storage'];}['getElement'](_0x580424){return this['elements']['find'](_0x5cf6ca=>_0x5cf6ca['name']===_0x580424);}['createIter'](_0x4feb68,_0xce27f,_0x317e16,_0x1e4a6a,_0x57115e){return new tC(this,_0x4feb68,_0xce27f,_0x317e16,_0x1e4a6a,_0x57115e);}['calcAabb'](_0x3c4c43,_0x425be){let _0x3dddf7=-0x1aef+0x6*-0x38a+0x302b,_0xa51a4b=-0x259f*0x1+-0x24c3+0x4a62,_0x297af6=0x1e88+0x303*-0x7+-0x973,_0x2cdb96=-0xd94+0x1387*-0x2+0x34a2,_0x1be3f0=0x1bbf+-0x12ab+0x53*-0x1c,_0xc3853d=-0x1d94+0x1844+0x550,_0x11bb8a=!(-0x9fa*-0x1+0x4*0x744+-0x270a);const _0x1fb368=this['getProp']('position'),_0x44fb50=this['getProp']('scale');for(let _0x265b5c=0x1*0x118d+0x14e8+-0x2675;_0x265b5c<this['numSplats'];++_0x265b5c){if(_0x425be&&!_0x425be(_0x265b5c))continue;const _0x5b9196=_0x1fb368[_0x265b5c*(-0x1*-0x1115+0x347*-0x5+0x1*-0xaf)+(0xe84+-0x1703+0x87f)],_0x593307=_0x1fb368[_0x265b5c*(0x26*-0x6b+0x1b*0x4e+0x7ab)+(0x8*0x256+-0x6ab+-0xc04)],_0x52b8b8=_0x1fb368[_0x265b5c*(-0x1d1e+-0x1b67+0x86*0x6c)+(-0x19ec+0x1*-0x169d+0x2b*0x121)],_0x342fdd=Math['max'](_0x44fb50[_0x265b5c*(-0x17eb+-0x1a66*0x1+0x2*0x192a)+(-0x2*-0x6d2+0x5c9*-0x3+0x1*0x3b7)],_0x44fb50[_0x265b5c*(0xc7a*0x2+-0xeff*0x1+-0x9f2)+(0x8c5*0x2+-0x156b+0x3e2)],_0x44fb50[_0x265b5c*(-0x23d8+0x1*-0xe57+0x3232)+(0x9d0+0x1837+-0x1*0x2205)]);if(!isFinite(_0x5b9196)||!isFinite(_0x593307)||!isFinite(_0x52b8b8)||!isFinite(_0x342fdd))continue;const _0x1c0cba=(-0x26cf*0x1+0x5cf+0x2102)*Math['exp'](_0x342fdd);_0x11bb8a?(_0x11bb8a=!(0x1*0x8e+-0xa84+0x9f7*0x1),_0x3dddf7=_0x5b9196-_0x1c0cba,_0xa51a4b=_0x593307-_0x1c0cba,_0x297af6=_0x52b8b8-_0x1c0cba,_0x2cdb96=_0x5b9196+_0x1c0cba,_0x1be3f0=_0x593307+_0x1c0cba,_0xc3853d=_0x52b8b8+_0x1c0cba):(_0x3dddf7=Math['min'](_0x3dddf7,_0x5b9196-_0x1c0cba),_0xa51a4b=Math['min'](_0xa51a4b,_0x593307-_0x1c0cba),_0x297af6=Math['min'](_0x297af6,_0x52b8b8-_0x1c0cba),_0x2cdb96=Math['max'](_0x2cdb96,_0x5b9196+_0x1c0cba),_0x1be3f0=Math['max'](_0x1be3f0,_0x593307+_0x1c0cba),_0xc3853d=Math['max'](_0xc3853d,_0x52b8b8+_0x1c0cba));}return _0x11bb8a||(_0x3c4c43['center']['set']((_0x3dddf7+_0x2cdb96)*(0x2401*0x1+-0x945*0x4+-0x37*-0x5+0.5),(_0xa51a4b+_0x1be3f0)*(-0x1d53+-0x4b4+0x2207+0.5),(_0x297af6+_0xc3853d)*(0x727*0x2+0x1e14+0x1b5*-0x1a+0.5)),_0x3c4c43['halfExtent'+'s']['set']((_0x2cdb96-_0x3dddf7)*(0x444*0x1+-0xc2*0x5+-0x2*0x3d+0.5),(_0x1be3f0-_0xa51a4b)*(-0x1054+-0x11a1+0x21f5*0x1+0.5),(_0xc3853d-_0x297af6)*(-0x19b6+-0x2*0x679+0x26a8+0.5))),!_0x11bb8a;}['yieldToMai'+'n'](){var _0x1547f1;return(_0x1547f1=globalThis['scheduler'])!=null&&_0x1547f1['yield']?globalThis['scheduler']['yield']():new Promise(_0x3a5064=>{setTimeout(_0x3a5064,-0x2*-0x10eb+-0xe3c+-0x139a);});}async['getCenters'](_0xfc8650){const _0x14817a=this['getProp']('x'),_0xf85e98=this['getProp']('y'),_0x329717=this['getProp']('z');for(let _0x546ebd=-0x3f*0x5b+0x12*0x1be+0x3*-0x2fd;_0x546ebd<this['numSplats'];++_0x546ebd)_0xfc8650[_0x546ebd*(0x4*-0x28d+0x1*-0x25dc+0x3013)+(-0x6dc+-0x1179+0x1855*0x1)]=_0x14817a[_0x546ebd],_0xfc8650[_0x546ebd*(0x1*0x179f+-0x13fe+-0x39e)+(-0x1eb+0x5*0x55d+0x18e5*-0x1)]=_0xf85e98[_0x546ebd],_0xfc8650[_0x546ebd*(0x1*-0x985+0xa8e+-0x106)+(-0x2663*0x1+0xe3*-0x11+-0x1abc*-0x2)]=_0x329717[_0x546ebd],_0x546ebd%Sg===-0x2d2+0x10d4+0x16*-0xa3&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x3b1c89;if((_0x3b1c89=this['transformD'+'ata'])!=null&&_0x3b1c89['muT'])return this['transformD'+'ata']['muT'];const _0x1b797a=this['getProp']('t');return _0x1b797a?new Float32Array(_0x1b797a):void(-0x159b*0x1+0x233c+-0xda1);}async['getTScale'](){const _0x3c248c=this['getProp']('t_scale');if(!_0x3c248c)return;const _0x5aaf35=new Float32Array(this['numSplats']);for(let _0x78c0c4=0x63b+-0x2293+0x1c58;_0x78c0c4<this['numSplats'];++_0x78c0c4)_0x5aaf35[_0x78c0c4]=Math['exp'](_0x3c248c[_0x78c0c4]),_0x78c0c4%Sg===-0xed1+-0x790+0x1661&&await this['yieldToMai'+'n']();return _0x5aaf35;}['getMotion'](_0x123882){const _0x376d83=this['getProp']('motion');_0x376d83&&new Float32Array(_0x376d83['buffer']['slice']());}['getTimeInd'+'ex'](){var _0x174eb6;if((_0x174eb6=this['transformD'+'ata'])!=null&&_0x174eb6['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0x59b959=this['getProp']('time_index');if(_0x59b959)return new Float32Array(_0x59b959);}['calcFocalP'+'oint'](_0xe5975f,_0x28a273){const _0xf3c64a=this['getProp']('position'),_0x20e10d=this['getProp']('scale');_0xe5975f['x']=0x1*0x18c1+-0xeb4+-0xa0d,_0xe5975f['y']=0x20ef+-0xc21+-0x14ce,_0xe5975f['z']=-0x119*0xb+-0x2fe*-0x8+-0xbdd;let _0x577b13=0x1*-0x1939+-0x22ff+0x3c38;for(let _0x5dc1d7=-0x837+-0x1ddb+0x2612;_0x5dc1d7<this['numSplats'];++_0x5dc1d7){if(_0x28a273&&!_0x28a273(_0x5dc1d7))continue;const _0x30773c=_0xf3c64a[_0x5dc1d7*(0xff9+0x2441+-0x3437)+(0x2485+-0x2527*0x1+0xa2)],_0x379990=_0xf3c64a[_0x5dc1d7*(-0x4*-0x843+0x1183+-0x328c)+(0x1*-0xaaf+-0x1a98+0x2548)],_0x572423=_0xf3c64a[_0x5dc1d7*(0x6d1*0x3+0x16*-0xf1+0xa*0x7)+(-0x1965+-0x1517*-0x1+0x450)];if(!isFinite(_0x30773c)||!isFinite(_0x379990)||!isFinite(_0x572423))continue;const _0x59bf45=(-0x1*-0x11ea+0x1a8c+-0x1*0x2c75)/(0x4d7+-0x2567+0x7*0x4a7+Math['max'](_0x20e10d[_0x5dc1d7*(0x210*0x6+0x8e*-0x1d+0x3b9*0x1)+(-0x16ec+-0x191*-0x13+-0x1*0x6d7)],_0x20e10d[_0x5dc1d7*(0x3d8+-0x81+0x4*-0xd5)+(-0xb5*-0x34+0x3*0xae+-0x26cd)],_0x20e10d[_0x5dc1d7*(-0x1ad2*-0x1+-0x1366*0x2+0xbfd)+(0x1722+-0x69+-0x16b7)]));_0xe5975f['x']+=_0x30773c*_0x59bf45,_0xe5975f['y']+=_0x379990*_0x59bf45,_0xe5975f['z']+=_0x572423*_0x59bf45,_0x577b13+=_0x59bf45;}_0xe5975f['mulScalar']((0x995+-0x449*0x3+-0x347*-0x1)/_0x577b13);}['renderWire'+'frameBound'+'s'](_0xd3623e,_0x4aa138){const _0x16492a=new D(),_0x5210ad=new le(),_0x2341b9=new D(),_0x1f11ff=new D(),_0x4cc7ba=new D(),_0xbe1d5f=this['createIter'](_0x16492a,_0x5210ad,_0x2341b9);for(let _0x3f83a7=-0x122f+0x1072+0x1bd;_0x3f83a7<this['numSplats'];++_0x3f83a7)_0xbe1d5f['read'](_0x3f83a7),sC(gc,_0x16492a,_0x5210ad),gc['mul2'](_0x4aa138,gc),_0x1f11ff['set'](_0x2341b9['x']*-(0x2643+0x11e2+-0x3823),_0x2341b9['y']*-(-0x26*0x3+0x2080+-0x200c),_0x2341b9['z']*-(-0xa9*-0xd+-0x16e1+0x727*0x2)),_0x4cc7ba['set'](_0x2341b9['x']*(-0x23d+-0x1581+-0xbe0*-0x2),_0x2341b9['y']*(0x17*0x64+0x1409+-0x1d03),_0x2341b9['z']*(-0x1e59+-0x15*0x6f+0x2776)),_0xd3623e['immediate']['drawWireAl'+'ignedBox'](_0x1f11ff,_0x4cc7ba,eC,!(-0x1655+0xfd4+0x681),_0xd3623e['defaultDra'+'wLayer'],gc);}get['isCompress'+'ed'](){return!(0x1676+0x1668+-0x2cdd);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x19b0d6=0x1242+0x1b29+-0x97*0x4d;_0x19b0d6<-0x22bb+-0x35*-0x67+0xd95;++_0x19b0d6)if(!this['getProp']('f_rest_'+_0x19b0d6))return _0x19b0d6;return 0x2393+0x223d+-0x45a3;})())]??0x1832+-0x30*-0x57+-0x2*0x1441;}['calcMorton'+'Order'](){const _0x5a316b=_0x308d89=>{let _0x478e18=_0x308d89[-0x161a+0x192f*-0x1+0x2f49],_0x4c6c4b=_0x308d89[-0xe3a+-0x12dd+0x2117];for(let _0x3ad950=0x15ab+0x49*0x69+-0x339b;_0x3ad950<_0x308d89['length'];_0x3ad950++)_0x308d89[_0x3ad950]<_0x478e18&&(_0x478e18=_0x308d89[_0x3ad950]),_0x308d89[_0x3ad950]>_0x4c6c4b&&(_0x4c6c4b=_0x308d89[_0x3ad950]);return{'min':_0x478e18,'max':_0x4c6c4b};},_0x6daf63=(_0x530432,_0x4d7ab2,_0x40e73f)=>{const _0x13f3aa=_0x22f3b6=>(_0x22f3b6&=-0xc8d+-0x1a8d+0x2b19,_0x22f3b6=(_0x22f3b6^_0x22f3b6<<-0xaf1+0x27a*-0xa+0x23c5)&-0x179531184+0x5755aa3c+0x220fd6847,_0x22f3b6=(_0x22f3b6^_0x22f3b6<<-0x1*0x102b+0x16c8+-0x695)&-0x51906f0+-0x5*-0x7815a4+0x5c18acb,_0x22f3b6=(_0x22f3b6^_0x22f3b6<<-0x1b98+-0x91c*-0x1+-0x20*-0x94)&0x5b*0xedfbf+0x2*0x114071c+-0x465665a,_0x22f3b6=(_0x22f3b6^_0x22f3b6<<0x1*-0x4a3+-0x197f+0x3*0xa0c)&-0x9c0258+-0x3693d81*0x1+0x1*0xd29d222,_0x22f3b6);return(_0x13f3aa(_0x40e73f)<<-0x1*0xf9d+0x20da+-0x113b)+(_0x13f3aa(_0x4d7ab2)<<-0x2684+0x25*0x7+-0x12c1*-0x2)+_0x13f3aa(_0x530432);},_0x4daa01=this['getProp']('x'),_0x50197e=this['getProp']('y'),_0x30f3ec=this['getProp']('z'),{min:_0x4890da,max:_0x29bb7b}=_0x5a316b(_0x4daa01),{min:_0x5b2cb3,max:_0x3f1537}=_0x5a316b(_0x50197e),{min:_0xba5bf6,max:_0x260dd2}=_0x5a316b(_0x30f3ec),_0x28123c=_0x4890da===_0x29bb7b?-0xe*-0x31+0x1feb+-0x2299:(-0x1bc9+-0x1d95+0x3d5e)/(_0x29bb7b-_0x4890da),_0x5bc935=_0x5b2cb3===_0x3f1537?0x210c+0x16b3+-0x1295*0x3:(0x1ea8+-0x2581+-0x1*-0xad9)/(_0x3f1537-_0x5b2cb3),_0x1b5ac4=_0xba5bf6===_0x260dd2?0x1*0x96+-0x475*0x3+0xcc9*0x1:(-0x239c*-0x1+0x2683+-0x461f)/(_0x260dd2-_0xba5bf6),_0x5087f5=new Map();for(let _0x39fbc8=-0xb37+0x1b28+-0x35*0x4d;_0x39fbc8<this['numSplats'];_0x39fbc8++){const _0x46fabd=Math['min'](0x162e+-0x228c*0x1+0x105d,Math['floor']((_0x4daa01[_0x39fbc8]-_0x4890da)*_0x28123c)),_0x389d26=Math['min'](0x26d4+-0x422+0x1eb3*-0x1,Math['floor']((_0x50197e[_0x39fbc8]-_0x5b2cb3)*_0x5bc935)),_0x34cb74=Math['min'](-0x1*-0x1ed9+-0x232c+0x8e*0xf,Math['floor']((_0x30f3ec[_0x39fbc8]-_0xba5bf6)*_0x1b5ac4)),_0x5b4aef=_0x6daf63(_0x46fabd,_0x389d26,_0x34cb74),_0x449d07=_0x5087f5['get'](_0x5b4aef);_0x449d07?_0x449d07['push'](_0x39fbc8):_0x5087f5['set'](_0x5b4aef,[_0x39fbc8]);}const _0x4737eb=Array['from'](_0x5087f5['keys']())['sort']((_0x27b147,_0x2ff0c7)=>_0x27b147-_0x2ff0c7),_0x3949cf=new Uint32Array(this['numSplats']);let _0x4cf66d=-0x15dc+-0x236b+-0x1d9*-0x1f;for(let _0x124ca6=0x2423+0x57*0x63+-0x45c8;_0x124ca6<_0x4737eb['length'];++_0x124ca6){const _0x1c8e84=_0x5087f5['get'](_0x4737eb[_0x124ca6]);for(let _0x3af82c=0x1723+-0xc86+-0xd1*0xd;_0x3af82c<_0x1c8e84['length'];++_0x3af82c)_0x3949cf[_0x4cf66d++]=_0x1c8e84[_0x3af82c];}return _0x3949cf;}['reorder'](_0x4807d6){const _0x2cf031=new Map(),_0x13c732=_0x486269=>{if(_0x2cf031['has'](_0x486269)){const _0xde2208=_0x2cf031['get'](_0x486269);return _0x2cf031['delete'](_0x486269),_0xde2208;}return new ArrayBuffer(_0x486269);},_0x4bf646=_0xfb3846=>{_0x2cf031['set'](_0xfb3846['byteLength'],_0xfb3846);},_0x3b0acc=_0x4420bf=>{const _0x16c84a=new _0x4420bf['constructo'+'r'](_0x13c732(_0x4420bf['byteLength']));for(let _0x1a9d79=-0x1*0x1653+-0x2*-0x167+0x1385;_0x1a9d79<_0x4807d6['length'];_0x1a9d79++)_0x16c84a[_0x1a9d79]=_0x4420bf[_0x4807d6[_0x1a9d79]];return _0x4bf646(_0x4420bf['buffer']),_0x16c84a;};this['elements']['forEach'](_0x2eac73=>{_0x2eac73['properties']['forEach'](_0x4dbd1b=>{_0x4dbd1b['storage']&&(_0x4dbd1b['storage']=_0x3b0acc(_0x4dbd1b['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const rC='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20void\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.0,\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a',aC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'vec4\x20packR'+'gb(vec3\x20v)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uvec3\x20vb\x20'+'=\x20uvec3(cl'+'amp(v,\x20vec'+'3(0.0),\x20ve'+'c3(1.0))\x20*'+'\x20vec3(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uint\x20bits\x20'+'=\x20(vb.x\x20<<'+'\x2021)\x20|\x20(vb'+'.y\x20<<\x2010)\x20'+'|\x20vb.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4((u'+'vec4(bits)'+'\x20>>\x20uvec4('+'24,\x2016,\x208,'+'\x200))\x20&\x20uve'+'c4(0xff))\x20'+'/\x20vec4(255'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20vec3\x20dir'+';\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20sampler2'+'D\x20centroid'+'s;\x0a\x20\x20\x20\x20uni'+'form\x20mediu'+'mp\x20float\x20s'+'hN_mins;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20f'+'loat\x20shN_m'+'axs;\x0a\x0a\x20\x20\x20\x20'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ivec'+'2\x20uv\x20=\x20ive'+'c2(gl_Frag'+'Coord.xy)\x20'+'*\x20ivec2(SH'+'_COEFFS,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20mediump\x20v'+'ec3\x20coeffi'+'cients[SH_'+'COEFFS];\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(int\x20i\x20=\x20'+'0;\x20i\x20<\x20SH_'+'COEFFS;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20s\x20=\x20texe'+'lFetch(cen'+'troids,\x20iv'+'ec2(uv.x\x20+'+'\x20i,\x20uv.y),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20coefficie'+'nts[i]\x20=\x20m'+'ix(vec3(sh'+'N_mins),\x20v'+'ec3(shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20packRgb'+'(evalSH(co'+'efficients'+',\x20dir)\x20*\x200'+('.25\x20+\x200.5)'+';\x0a\x20\x20\x20\x20}\x0a'),nC='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput:\x20Vert'+'exInput)\x20-'+'>\x20VertexOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Ver'+'texOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a',oC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'fn\x20packRgb'+'(v:\x20vec3f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vb\x20=\x20v'+'ec3u(clamp'+'(v,\x20vec3f('+'0.0),\x20vec3'+'f(1.0))\x20*\x20'+'vec3f(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20bits\x20='+'\x20dot(vb,\x20v'+'ec3u(1\x20<<\x20'+'21,\x201\x20<<\x201'+'0,\x201));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(('+'vec4u(bits'+')\x20>>\x20vec4u'+'(24,\x2016,\x208'+',\x200))\x20&\x20ve'+'c4u(0xff))'+'\x20/\x20vec4f(2'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20un'+'iform\x20dir:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'shN_mins:\x20'+'f32;\x0a\x20\x20\x20\x20u'+'niform\x20shN'+'_maxs:\x20f32'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20centroids'+':\x20texture_'+'2d<f32>;\x0a\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input:'+'\x20FragmentI'+'nput)\x20->\x20F'+'ragmentOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20uv\x20=\x20'+'vec2i(inpu'+'t.position'+'.xy)\x20*\x20vec'+'2i(SH_COEF'+'FS,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'coefficien'+'ts:\x20array<'+'vec3f,\x20SH_'+'COEFFS>;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x200;\x20i\x20'+'<\x20SH_COEFF'+'S;\x20i++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s:\x20v'+'ec3f\x20=\x20tex'+'tureLoad(c'+'entroids,\x20'+'vec2i(uv.x'+'\x20+\x20i,\x20uv.y'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20coeffic'+'ients[i]\x20='+'\x20mix(vec3f'+'(uniform.s'+'hN_mins),\x20'+'vec3f(unif'+('orm.shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20packRgb'+'(evalSH(&c'+'oefficient'+'s,\x20uniform'+'.dir)\x20*\x200.'+'25\x20+\x200.5);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20}'+'\x0a'),lC='\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20sampler2D'+'\x20sh0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x20\x20\x20\x20u'+'niform\x20med'+'iump\x20sampl'+'er2D\x20sh_re'+'sult;\x0a\x0a\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20sh0_mi'+'ns;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20sh0_maxs;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20SH_C0\x20=\x20'+'0.28209479'+'177387814;'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'npack\x2011,\x20'+'11,\x2010\x20nor'+'malized\x20va'+'lue\x20from\x20r'+'gba8\x20textu'+'re\x20sample\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackRgb(v'+'ec4\x20v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uve'+'c4\x20uv\x20=\x20uv'+'ec4(v\x20*\x2025'+'5.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uint\x20b'+'its\x20=\x20(uv.'+'x\x20<<\x2024)\x20|'+'\x20(uv.y\x20<<\x20'+'16)\x20|\x20(uv.'+'z\x20<<\x208)\x20|\x20'+'uv.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uvec3\x20'+'vb\x20=\x20(uvec'+'3(bits)\x20>>'+'\x20uvec3(21,'+'\x2010,\x200))\x20&'+'\x20uvec3(0x7'+'ffu,\x200x7ff'+'u,\x200x3ffu)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3(vb)\x20/\x20ve'+'c3(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20baseSampl'+'e\x20=\x20mix(sh'+'0_mins,\x20sh'+'0_maxs,\x20te'+'xelFetch(s'+'h0,\x20source'+'.uv,\x200));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20resolve\x20'+'base\x20color'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4\x20base\x20='+'\x20vec4(vec3'+'(0.5)\x20+\x20ba'+'seSample.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'baseSample'+'.w)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'xtract\x20sph'+'erical\x20har'+'monics\x20pal'+'ette\x20index'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20label'+'Sample\x20=\x20i'+'vec2(texel'+'Fetch(sh_l'+'abels,\x20sou'+'rce.uv,\x200)'+'.xy\x20*\x20255.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20int\x20n\x20=\x20'+('labelSampl'+'e.x\x20+\x20labe'+'lSample.y\x20'+'*\x20256;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shSample\x20'+'=\x20texelFet'+'ch(sh_resu'+'lt,\x20ivec2('+'n\x20%\x2064,\x20n\x20'+'/\x2064),\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20sh\x20=\x20('+'unpackRgb('+'shSample)\x20'+'-\x20vec3(0.5'+'))\x20*\x204.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'(base.xyz\x20'+'+\x20sh,\x20base'+'.w);\x0a\x20\x20\x20\x20}'+'\x0a'),cC='\x0a\x20\x20\x20\x20var\x20s'+'h0:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'h_labels:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20sh_re'+'sult:\x20text'+'ure_2d<f32'+'>;\x0a\x0a\x20\x20\x20\x20un'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20sh0_m'+'axs:\x20vec4f'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20SH_C0:\x20'+'f32\x20=\x200.28'+'2094791773'+'87814;\x0a\x0a\x20\x20'+'\x20\x20//\x20unpac'+'k\x2011,\x2011,\x20'+'10\x20normali'+'zed\x20value\x20'+'from\x20rgba8'+'\x20texture\x20s'+'ample\x0a\x20\x20\x20\x20'+'fn\x20unpackR'+'gb(v:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20bits'+'\x20=\x20dot(vec'+'4u(v\x20*\x20255'+'.0),\x20vec4u'+'(1u\x20<<\x2024,'+'\x201u\x20<<\x2016,'+'\x201u\x20<<\x208,\x20'+'1u));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20vb'+'\x20=\x20(vec3u('+'bits)\x20>>\x20v'+'ec3u(21,\x201'+'0,\x200))\x20&\x20v'+'ec3u(0x7ff'+'u,\x200x7ffu,'+'\x200x3ffu);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec3f'+'(vb)\x20/\x20vec'+'3f(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20f'+'n\x20readColo'+'r(source:\x20'+'ptr<functi'+'on,\x20SplatS'+'ource>)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'baseSample'+':\x20vec4f\x20=\x20'+'mix(unifor'+'m.sh0_mins'+',\x20uniform.'+'sh0_maxs,\x20'+'textureLoa'+'d(sh0,\x20sou'+'rce.uv,\x200)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20base\x20'+'=\x20vec4f(ve'+'c3f(0.5)\x20+'+'\x20baseSampl'+'e.xyz\x20*\x20SH'+'_C0,\x201.0\x20/'+'\x20(1.0\x20+\x20ex'+'p(-baseSam'+'ple.w)));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20extract\x20'+'spherical\x20'+'harmonics\x20'+'palette\x20in'+'dex\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20labe'+'lSample:\x20v'+'ec2i\x20=\x20vec'+'2i(texture'+'Load(sh_la'+'bels,\x20sour'+'ce.uv,\x200).'+'xy\x20*\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20n\x20=\x20l'+('abelSample'+'.x\x20+\x20label'+'Sample.y\x20*'+'\x20256;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hSample:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(s'+'h_result,\x20'+'vec2i(n\x20%\x20'+'64,\x20n\x20/\x2064'+'),\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'h:\x20vec3f\x20='+'\x20(unpackRg'+'b(shSample'+')\x20-\x20vec3f('+'0.5))\x20*\x204.'+'0;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(base.'+'xyz\x20+\x20sh,\x20'+'base.w);\x0a\x20'+'\x20\x20\x20}\x0a'),hC=(_0x146411,_0x193d82)=>{for(const _0x59ed88 in _0x193d82)_0x146411['resolve'](_0x59ed88)['setValue'](_0x193d82[_0x59ed88]);};class dC extends ys{constructor(){super(...arguments),h(this,'executeCal'+'lback',null);}['execute'](){var _0x3af088;(_0x3af088=this['executeCal'+'lback'])==null||_0x3af088['call'](this);}}const yg=new te(),uo=new D();class fC{constructor(_0x2979f3,_0x5342ed){h(this,'prevDir',new D()),h(this,'updateMode','enable'),(this['device']=_0x2979f3,this['gsplatInst'+'ance']=_0x5342ed);const {resource:_0x1010d3}=_0x5342ed,_0x3f7591=new Map(Pe['get'](_0x2979f3,_0x2979f3['isWebGPU']?'wgsl':'glsl'));this['shader']=$t['createShad'+'er'](_0x2979f3,{'uniqueName':'gsplatReso'+'lveSH','vertexGLSL':rC,'fragmentGLSL':aC,'vertexWGSL':nC,'fragmentWGSL':oC,'vertexIncludes':_0x3f7591,'fragmentIncludes':_0x3f7591,'fragmentDefines':new Map([['SH_BANDS',_0x1010d3['gsplatData']['shBands']['toString']()]]),'attributes':{'vertex_position':Me}}),this['texture']=_0x1010d3['createText'+'ure']('centroids',Ne,new J(-0x8ee+0x188d+0x313*-0x5,-0x25bb+0x33*0x3b+-0x9fe*-0x3)),this['renderTarg'+'et']=new gt({'colorBuffer':this['texture'],'depth':!(0x14ba+0x192a*-0x1+0x1*0x471)}),this['renderPass']=new dC(_0x2979f3),this['renderPass']['init'](this['renderTarg'+'et'],{}),this['renderPass']['colorOps']['clear']=!(-0x73a*-0x2+0x5*0x741+-0x173*0x23),this['quadRender']=new Ah(this['shader']);const {material:_0x553c8c}=_0x5342ed;_0x553c8c['setDefine']('SH_BANDS','0');const {shaderChunks:_0x17c9d1}=_0x553c8c;_0x17c9d1['glsl']['set']('gsplatSogs'+'ColorVS',lC),_0x17c9d1['wgsl']['set']('gsplatSogs'+'ColorVS',cC),_0x553c8c['update'](),_0x2979f3['scope']['resolve']('sh_result')['setValue'](this['texture']);}['destroy'](){const {gsplatInstance:_0x4c3a32}=this,{material:_0x4693e1}=_0x4c3a32;_0x4693e1['setDefine']('SH_BANDS',_0x4c3a32['resource']['gsplatData']['shBands']['toString']());const {shaderChunks:_0x2eab8d}=_0x4693e1;_0x2eab8d['glsl']['delete']('gsplatSogs'+'ColorVS'),_0x2eab8d['wgsl']['delete']('gsplatSogs'+'ColorVS'),_0x4693e1['update'](),this['quadRender']['destroy'](),this['renderPass']['destroy'](),this['renderTarg'+'et']['destroy'](),this['texture']['destroy'](),this['shader']['destroy']();}['render'](_0x186e1a,_0x2ebf73){const {prevDir:_0xc70034,updateMode:_0x285877}=this;if(_0x285877==='disable'||(yg['invert'](_0x2ebf73),yg['transformV'+'ector'](_0x186e1a['forward'],uo),uo['normalize'](),_0x285877==='enable'&&uo['equalsAppr'+'ox'](_0xc70034,-0x344+-0xd63+-0x10a7*-0x1+0.001)))return;_0xc70034['copy'](uo);const _0x1853d1=()=>{const {device:_0x47cdbb}=this,{sh_centroids:_0xa669ac,meta:_0x11b1e1}=this['gsplatInst'+'ance']['resource']['gsplatData'];hC(_0x47cdbb['scope'],{'dir':uo['toArray'](),'centroids':_0xa669ac,'shN_mins':_0x11b1e1['shN']['mins'],'shN_maxs':_0x11b1e1['shN']['maxs']}),_0x47cdbb['setCullMod'+'e'](bt),_0x47cdbb['setDepthSt'+'ate'](Yt['NODEPTH']),_0x47cdbb['setStencil'+'State'](null,null),_0x47cdbb['setBlendSt'+'ate'](pt['NOBLEND']),this['quadRender']['render']();};this['renderPass']['executeCal'+'lback']=_0x1853d1,this['renderPass']['render']();}}const uC='\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20means_l'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20means_'+'u;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20quats'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20scales'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20uint\x20n'+'umSplats;\x0a'+'\x0a\x20\x20\x20\x20uint\x20'+'packU32(ve'+'c4\x20v)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20uint(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u\x20|\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20uint('+'v.y\x20*\x20255.'+'0)\x20<<\x2016u\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uin'+'t(v.z\x20*\x2025'+'5.0)\x20<<\x208u'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(v.w\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20uv'+'ec4\x20packU3'+'2(vec4\x20a,\x20'+'vec4\x20b,\x20ve'+'c4\x20c,\x20vec4'+'\x20d)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uvec4(pac'+'kU32(a),\x20p'+'ackU32(b),'+'\x20packU32(c'+'),\x20packU32'+'(d));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20w\x20='+'\x20int(textu'+'reSize(mea'+'ns_l,\x200).x'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ivec2\x20uv\x20'+'=\x20ivec2(gl'+'_FragCoord'+'.xy);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(ui'+'nt(uv.x\x20+\x20'+'uv.y\x20*\x20w)\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansLSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_l,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansUSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_u,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20quatsSamp'+'le\x20=\x20texel'+'Fetch(quat'+'s,\x20uv,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20scales'+'Sample\x20=\x20t'+'exelFetch('+'scales,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shLabel'+'sSample\x20=\x20'+'texelFetch'+'(sh_labels'+',\x20uv,\x200).x'+('y;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20pcFragCo'+'lor0\x20=\x20pac'+'kU32(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansLS'+'ample,\x20shL'+'abelsSampl'+'e.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansUS'+'ample,\x20shL'+'abelsSampl'+'e.y),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(quatsSa'+'mple),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4(scales'+'Sample,\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20}\x0a'),pC='\x0a\x20\x20\x20\x20var\x20m'+'eans_l:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20means_u'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20qua'+'ts:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'cales:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sh_label'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20numSpla'+'ts:\x20u32;\x0a\x0a'+'\x20\x20\x20\x20fn\x20pac'+'kU32(v:\x20ve'+'c4<f32>)\x20-'+'>\x20u32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(u32(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(u3'+'2(v.y\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20\x20|\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(u32(v.z\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20u32(v.w'+'\x20*\x20255.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20packU'+'Vec32(a:\x20v'+'ec4<f32>,\x20'+'b:\x20vec4<f3'+'2>,\x20c:\x20vec'+'4<f32>,\x20d:'+'\x20vec4<f32>'+')\x20->\x20vec4<'+'u32>\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4<u32'+'>(packU32('+'a),\x20packU3'+'2(b),\x20pack'+'U32(c),\x20pa'+'ckU32(d));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20@fragmen'+'t\x0a\x20\x20\x20\x20fn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20w:\x20u32\x20'+'=\x20textureD'+'imensions('+'means_l,\x200'+').x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2<u32>'+'\x20=\x20vec2<u3'+'2>(pcPosit'+'ion.xy);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv.x\x20+\x20uv'+'.y\x20*\x20w\x20>=\x20'+'uniform.nu'+'mSplats)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20fetch\x20the'+'\x20source\x20in'+'dex\x20and\x20ca'+'lculate\x20so'+'urce\x20uv\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'meansLSamp'+'le:\x20vec3<f'+('32>\x20=\x20text'+'ureLoad(me'+'ans_l,\x20uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20meansUSam'+'ple:\x20vec3<'+'f32>\x20=\x20tex'+'tureLoad(m'+'eans_u,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20quatsSam'+'ple:\x20vec4<'+'f32>\x20=\x20tex'+'tureLoad(q'+'uats,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20scal'+'esSample:\x20'+'vec3<f32>\x20'+'=\x20textureL'+'oad(scales'+',\x20uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shLa'+'belsSample'+':\x20vec2<f32'+'>\x20=\x20textur'+'eLoad(sh_l'+'abels,\x20uv,'+'\x200).xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20packUVec'+'32(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansLSam'+'ple,\x20shLab'+'elsSample.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansUSam'+'ple,\x20shLab'+'elsSample.'+'y),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(quatsSamp'+'le),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4(scalesSa'+'mple,\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a'),An=0x13*-0x8d+-0x5*0x259+-0x74*-0x31+0.28209479177387814,Ci=_0x22427f=>_0x22427f['read'](0x1cd8*-0x1+-0x1f5+0x1ecd,-0x9e3*0x2+0xa8e+0x938,_0x22427f['width'],_0x22427f['height'],{'mipLevel':0x0,'face':0x0,'immediate':!(-0x1*0x57f+-0x1ee5+-0x44*-0x89)}),mC=(_0x117bb8,_0xae56fd)=>{for(const _0xd7d66d in _0xae56fd)_0x117bb8['resolve'](_0xd7d66d)['setValue'](_0xae56fd[_0xd7d66d]);};class _C{constructor(_0x38f5d3,_0x4eaf93,_0x5d6fc1,_0x1654d1,_0x4e0b2c,_0x3ae6be){const _0x2d003b=(_0xa20110,_0x86cc54,_0x4c8101)=>_0xa20110*(0x14b5+-0xa6*0x17+-0x5ca-_0x4c8101)+_0x86cc54*_0x4c8101,{meta:_0xcf348b}=_0x38f5d3,{means:_0x56b16a,scales:_0x2dd360,sh0:_0x4bd366,shN:_0xb174e8}=_0xcf348b,_0x3b42c1=_0x4eaf93&&_0x38f5d3['means_l']['_levels'][-0x1ec3+-0x125a+0x311d],_0x5beba5=_0x4eaf93&&_0x38f5d3['means_u']['_levels'][0x1*0xa97+-0x7f7*-0x1+-0x128e],_0x7546ae=_0x5d6fc1&&_0x38f5d3['quats']['_levels'][0x1e89+0x1*0xb06+-0x298f],_0x41a59b=_0x1654d1&&_0x38f5d3['scales']['_levels'][-0x23d3*0x1+-0x235d+-0x218*-0x22],_0x27966c=_0x4e0b2c&&_0x38f5d3['sh0']['_levels'][0x2f6+-0x1*-0x1859+-0x1b4f],_0x5a8ff4=_0x3ae6be&&_0x38f5d3['sh_labels']['_levels'][-0xd*-0x27a+0x175f*-0x1+-0x8d3],_0xee76f8=_0x3ae6be&&_0x38f5d3['sh_centroi'+'ds']['_levels'][-0x1*0x24d4+-0xa70*-0x3+0x584],_0x111f22=(0x4c*0x60+-0x56*0x26+-0x7a*0x21)/Math['sqrt'](0xc2*-0x2b+-0xb*0x363+0x45d9);this['read']=_0xe399d7=>{if(_0x4eaf93){const _0x4aa218=_0x2d003b(_0x56b16a['mins'][-0x1ae7+-0x22ec+0x3dd3],_0x56b16a['maxs'][0x1856*-0x1+0x1214+0x642],((_0x5beba5[_0xe399d7*(-0x1877*0x1+-0x1*-0x1c57+-0x3dc)+(-0x7*-0xca+0x2039+-0x25bf)]<<-0x10c3+0x20f1+-0x1026)+_0x3b42c1[_0xe399d7*(-0x5*-0x1bd+-0x2be+-0x5ef)+(0x122c+0x1fee+-0x321a)])/(-0x37a*-0x7a+0x4*-0x6265+0xe16f)),_0x5b54bd=_0x2d003b(_0x56b16a['mins'][0xec0+0x1*-0x24b9+0x15fa],_0x56b16a['maxs'][0x5*-0x41c+-0x7*0x42c+0x31c1],((_0x5beba5[_0xe399d7*(-0x85*-0x47+0x1*-0xd81+-0x1*0x175e)+(-0xe44+-0x1c29+0x2a6e)]<<-0xd0f+0x29*0x9+0xe*0xd5)+_0x3b42c1[_0xe399d7*(0x1f7e+0x12*0x12f+-0x8cc*0x6)+(0x189c+0xbac+-0x2447)])/(-0x5b52+0x10339*-0x1+0x25e8a)),_0x29d1c1=_0x2d003b(_0x56b16a['mins'][-0x1*0xf29+0x6e6+0x845],_0x56b16a['maxs'][0x237c+-0x36a+-0x2010],((_0x5beba5[_0xe399d7*(-0x41*0x67+-0x8*-0x209+0x9e3)+(-0x2337+0xcf1*0x1+-0x8*-0x2c9)]<<0x12f0+0x78e*-0x4+-0x2*-0x5a8)+_0x3b42c1[_0xe399d7*(0x2359*-0x1+0x2cd+-0x412*-0x8)+(-0x1277+-0xee6+0x215f)])/(-0x1*0x144fd+0x11671+0x12e8b));_0x4eaf93['x']=Math['sign'](_0x4aa218)*(Math['exp'](Math['abs'](_0x4aa218))-(0x35*-0x2+-0x2*-0x647+-0xc23)),_0x4eaf93['y']=Math['sign'](_0x5b54bd)*(Math['exp'](Math['abs'](_0x5b54bd))-(-0x1*0xdb2+0x8*0xe3+-0x59*-0x13)),_0x4eaf93['z']=Math['sign'](_0x29d1c1)*(Math['exp'](Math['abs'](_0x29d1c1))-(0x28*0xca+-0x1eb7*0x1+-0x1b*0x8));}if(_0x5d6fc1){const _0x27733a=(_0x7546ae[_0xe399d7*(0xf0c+0x2181+-0x3089)+(-0xa2*-0x15+-0x14f1*0x1+-0x1*-0x7a7)]/(-0x24ec+0x15dd+0x100e)-(0x710+-0x1c*0x11b+0x17e4+0.5))*_0x111f22,_0x17be81=(_0x7546ae[_0xe399d7*(0xfe6+0x11a1*0x1+-0x2183)+(-0x2*0xcd8+0x227e+-0x3*0x2ef)]/(-0x1*0x1326+0x1016*-0x1+0x243b)-(0xdc7+-0x5*-0x1b9+-0x599*0x4+0.5))*_0x111f22,_0x518a18=(_0x7546ae[_0xe399d7*(0x242c+0x1f3a+-0x4362)+(0x23d+-0xabb+0x880)]/(0xb*0x13f+-0x8f6+-0x3c0)-(0x745+0x126e+-0x19b3+0.5))*_0x111f22,_0x285ae4=Math['sqrt'](Math['max'](-0x26e1+-0x3*-0x338+-0x1*-0x1d39,0x15ce+-0xa19*-0x1+0x551*-0x6-(_0x27733a*_0x27733a+_0x17be81*_0x17be81+_0x518a18*_0x518a18)));switch(_0x7546ae[_0xe399d7*(0x681+-0x9b+-0x2*0x2f1)+(-0x1a1b+-0x10c0*0x1+0x2ade)]-(-0x1bb8+0xcef+-0xb*-0x16f)){case 0x11cf*0x1+-0x1dc0+-0x3*-0x3fb:_0x5d6fc1['set'](_0x27733a,_0x17be81,_0x518a18,_0x285ae4);break;case-0xb4*0x14+0x507+0xd*0xb2:_0x5d6fc1['set'](_0x285ae4,_0x17be81,_0x518a18,_0x27733a);break;case-0xe72+0x166d+-0x9d*0xd:_0x5d6fc1['set'](_0x17be81,_0x285ae4,_0x518a18,_0x27733a);break;case 0x1052+-0x1*-0x1609+0x199*-0x18:_0x5d6fc1['set'](_0x17be81,_0x518a18,_0x285ae4,_0x27733a);break;}}if(_0x1654d1){const _0xef6cd5=_0x2d003b(_0x2dd360['mins'][-0x1014+0x1bc7+-0x1*0xbb3],_0x2dd360['maxs'][-0x15e0+0x98f*-0x4+0x3c1c],_0x41a59b[_0xe399d7*(0x50*-0x10+0x12f6+-0xdf2)+(0xe*-0x9f+-0xa*0x21d+-0xeea*-0x2)]/(-0xb*-0x1af+0x179a+-0x2920)),_0x1f623a=_0x2d003b(_0x2dd360['mins'][0x139e+0x2631+0x2*-0x1ce7],_0x2dd360['maxs'][-0x7*-0x40d+-0x19c0+0x1*-0x29a],_0x41a59b[_0xe399d7*(0xc1*-0x1+-0x1497+-0xaae*-0x2)+(0x6e2*0x1+0x22b2+-0x16f*0x1d)]/(0xceb+-0x1*-0x9f7+0x1*-0x15e3)),_0x411486=_0x2d003b(_0x2dd360['mins'][0x830+0x936+-0x1164],_0x2dd360['maxs'][-0x537+0x12f4+-0xdbb],_0x41a59b[_0xe399d7*(-0x142c+0x1855*0x1+-0x425)+(0x219d+-0x967+0x4*-0x60d)]/(0x1aae+-0x7*0x3f5+0x204));_0x1654d1['set'](_0xef6cd5,_0x1f623a,_0x411486);}if(_0x4e0b2c){const _0xf4d7b=_0x2d003b(_0x4bd366['mins'][0x1fae+-0x180a*0x1+-0x7a4],_0x4bd366['maxs'][-0x1ab6+0x6f7*0x3+-0x5d1*-0x1],_0x27966c[_0xe399d7*(-0x1927+0x1*-0x1391+0x2cbc)+(-0x1eb3+0x56+0x1e5d)]/(0xe61+-0x6dd+-0x685)),_0x3b03ba=_0x2d003b(_0x4bd366['mins'][0x22e5+0x1578+-0x385c],_0x4bd366['maxs'][-0x11*0xb5+-0xc5f*0x1+0x1865],_0x27966c[_0xe399d7*(-0x1d05+0x1fb8+-0x2af)+(-0x2577*-0x1+-0x4*-0x58f+-0x6*0x9f3)]/(-0x13e5+0x119f+0x1*0x345)),_0x10c84b=_0x2d003b(_0x4bd366['mins'][0x2186+0x16a9*-0x1+-0xadb],_0x4bd366['maxs'][-0x221f+-0x1575+0x3796],_0x27966c[_0xe399d7*(-0x1*0x5f3+-0x1*0x1069+0x8*0x2cc)+(-0x124+-0x48b*0x8+-0x257e*-0x1)]/(0x10dc*-0x2+-0x48*-0x4e+0x1*0xcc7)),_0x370cf1=_0x2d003b(_0x4bd366['mins'][-0x1541*-0x1+0x1*0xee9+0x2427*-0x1],_0x4bd366['maxs'][-0xeb*0x2+0x323+-0x14a],_0x27966c[_0xe399d7*(0x37*-0x49+-0x3a8+0x135b)+(0x2263*-0x1+-0x2267*-0x1+-0x1*0x1)]/(0xcea+0x26a7+0x1949*-0x2));_0x4e0b2c['set'](-0x1da1*-0x1+-0x44f*-0x5+-0x332c+0.5+_0xf4d7b*An,0x1db1*-0x1+0x2*-0x189+0x20c3+0.5+_0x3b03ba*An,0x1*-0x7db+0x1ce6+-0x150b+0.5+_0x10c84b*An,(-0xe31+0x17b5*0x1+-0x983)/(-0x5e3+-0x1*0xf43+0x1*0x1527+Math['exp'](-_0x370cf1)));}if(_0x3ae6be){const _0x22a118=_0x5a8ff4[_0xe399d7*(-0x69e+-0xdee+0x1490)+(-0x13aa+0x232c+-0xf82)]+(_0x5a8ff4[_0xe399d7*(0x1*0x1ddb+-0x1*-0x2051+0x48*-0xdd)+(-0xeb3*-0x2+0x22e+0x89*-0x3b)]<<0x126c+-0x3*-0x23b+-0x1915),_0x5f17f9=_0x22a118%(0x68*0x44+-0x6c9+0x3*-0x6dd)*(-0x565*-0x7+0x15a8+-0x3b5c),_0x25e41c=Math['floor'](_0x22a118/(0x1*-0x157f+0x29*0x2f+0xe38));for(let _0x1524e3=0x1742+0xad9+-0x221b*0x1;_0x1524e3<0x897+0x6fb+0xf8f*-0x1;++_0x1524e3)for(let _0x450553=0x3*-0x733+-0xb*0x347+0x39a6;_0x450553<-0x1c49+-0x23*0x5d+-0x1*-0x290f;++_0x450553)_0x3ae6be[_0x1524e3*(-0x1012*-0x1+0x1*0x11f9+0xa*-0x366)+_0x450553]=_0x2d003b(_0xb174e8['mins'],_0xb174e8['maxs'],_0xee76f8[(_0x5f17f9+_0x450553)*(0x1*-0x164e+-0x19ef+0x3041*0x1)+_0x1524e3+_0x25e41c*_0x38f5d3['sh_centroi'+'ds']['width']*(0xe27+0x1*-0x166d+0x84a)]/(0x3dd+0xb05*-0x2+0x6*0x332));}};}}class gC{constructor(){h(this,'meta'),h(this,'numSplats'),h(this,'means_l'),h(this,'means_u'),h(this,'quats'),h(this,'scales'),h(this,'sh0'),h(this,'sh_centroi'+'ds'),h(this,'sh_labels'),h(this,'packedText'+'ure');}['destroy'](){var _0x22e297,_0x357bcd,_0x288e05,_0x1e318b,_0x3960a9,_0x5a1d4f,_0x5e62e5,_0xbe6223;(_0x22e297=this['means_l'])==null||_0x22e297['destroy'](),(_0x357bcd=this['means_u'])==null||_0x357bcd['destroy'](),(_0x288e05=this['quats'])==null||_0x288e05['destroy'](),(_0x1e318b=this['scales'])==null||_0x1e318b['destroy'](),(_0x3960a9=this['sh0'])==null||_0x3960a9['destroy'](),(_0x5a1d4f=this['sh_centroi'+'ds'])==null||_0x5a1d4f['destroy'](),(_0x5e62e5=this['sh_labels'])==null||_0x5e62e5['destroy'](),(_0xbe6223=this['packedText'+'ure'])==null||_0xbe6223['destroy']();}['createIter'](_0x1e1734,_0x2fa807,_0x42a05f,_0x3579e3,_0x101628){return new _C(this,_0x1e1734,_0x2fa807,_0x42a05f,_0x3579e3,_0x101628);}['calcAabb'](_0x23cf42){const {mins:_0x579d96,maxs:_0x3f9d83}=this['meta']['means'],_0x1841cb=_0x582e12=>Math['sign'](_0x582e12)*(Math['exp'](Math['abs'](_0x582e12))-(0x1*0x1625+-0x1*-0xd31+-0x9*0x3ed));_0x23cf42['center']['set']((_0x1841cb(_0x579d96[0x5d8+0x2259*-0x1+0x1c81])+_0x1841cb(_0x3f9d83[0x176e+0x20b2+0x20*-0x1c1]))*(0x3b9*-0x7+0x7*0x4bb+-0x70e+0.5),(_0x1841cb(_0x579d96[-0x44*0x1b+-0x16e*-0x19+-0x67*0x47])+_0x1841cb(_0x3f9d83[0x1d*-0x48+0x918+-0xef*0x1]))*(-0x1488+0x22a*-0x11+0x1*0x3952+0.5),(_0x1841cb(_0x579d96[-0x1fa5+-0x1ac3*-0x1+0x139*0x4])+_0x1841cb(_0x3f9d83[0x24f*-0x1+0x849+0x8*-0xbf]))*(0x2621*0x1+-0x22*0xe9+-0x72f+0.5)),_0x23cf42['halfExtent'+'s']['set']((_0x1841cb(_0x3f9d83[0x206d+-0x1795+-0x8d8])-_0x1841cb(_0x579d96[0x33*-0x64+0x2b7*0x1+0x5*0x371]))*(-0xb*-0x11c+-0xbe8+-0x4c+0.5),(_0x1841cb(_0x3f9d83[0xe92+0x67*0x17+-0x17d2])-_0x1841cb(_0x579d96[-0x2e1+-0x1881+0x1b63]))*(-0x2358+0xa57+-0xad*-0x25+0.5),(_0x1841cb(_0x3f9d83[0x51+0x11*0xe2+-0xf51])-_0x1841cb(_0x579d96[-0x7*0x4f+-0x1bf*-0xd+0x24*-0x92]))*(0x6*0x38c+0x1*0xc3f+-0x2187+0.5));}['getCenters'](_0x48e903){const {meta:_0xb96615,means_l:_0x24ba1e,means_u:_0x5f04c6,numSplats:_0x655c0d}=this,{means:_0x2975e1}=_0xb96615,_0x5c0961=new Uint32Array(_0x5f04c6['_levels'][0x1ecb*0x1+-0x4f3*0x7+0x3da]['buffer']),_0xe11ae2=new Uint32Array(_0x24ba1e['_levels'][-0x3*0x205+0x3*-0xcc7+0x2c64]['buffer']),_0x53eb09=_0x2975e1['mins'][0xe7b+0xb2f*0x1+-0x1*0x19aa]/(-0x21*-0x6d+0x13d0a+0x18*-0x321),_0x15bea4=_0x2975e1['mins'][0x2*0xfc7+0x12b2*0x2+-0x44f1]/(0x952*0x11+0x3e05*-0x6+0x1d5ab),_0x70a3ad=_0x2975e1['mins'][0x6a*-0xd+-0x1*0x1f0f+0x2473]/(-0x1a4f0+-0x238a+0x2c879),_0x311d7f=_0x2975e1['maxs'][0x25a3+-0x5*0x3d7+-0x10*0x127]/(0x1*-0x385d+0x71*0xc7+-0x31*-0x495),_0x557c8c=_0x2975e1['maxs'][-0x5*-0x74c+0x143f*-0x1+-0x1*0x103c]/(-0x6bb*-0x3d+-0xbc03*-0x2+-0xf9b*0x22),_0x11441c=_0x2975e1['maxs'][0x1*-0x7a9+0x1a79+0x53*-0x3a]/(0xb*0x2aa4+0x9623*0x2+-0x20153);for(let _0x23c4bf=-0x2116+-0x1159+-0x326f*-0x1;_0x23c4bf<_0x655c0d;_0x23c4bf++){const _0x1ca979=_0x23c4bf,_0x551642=_0x5c0961[_0x1ca979],_0x4848fc=_0xe11ae2[_0x1ca979],_0x558c3d=_0x551642<<0x356*0x3+0x116b+-0x1b65&-0x53*-0x187+0x1*-0x35+0x8070|_0x4848fc&0x20e2+-0x18c7*0x1+0x2*-0x38e,_0x75ab6d=_0x551642&-0xf718+-0x5c8b*-0x4+0x83ec|_0x4848fc>>>-0x57d+-0x1*0x1b69+0x20ee&0x25*0x97+0x266+0x7be*-0x3,_0x292e03=_0x551642>>>-0x1ed1*-0x1+0x398+-0x2261&-0x1b7*0x53+0xc5d9*0x1+0xc77c|_0x4848fc>>>0x1b6*-0xb+0x27e*0x8+-0x10e&0x935+0x19f1+-0x2227,_0x3ca157=_0x53eb09*(0xaa87+-0x14755*-0x1+-0x3*0x509f-_0x558c3d)+_0x311d7f*_0x558c3d,_0x3609cb=_0x15bea4*(-0x252a*0x6+0xac*-0xe3+0x2777f*0x1-_0x75ab6d)+_0x557c8c*_0x75ab6d,_0x364404=_0x70a3ad*(0x28*-0x713+-0xa438*0x2+0x36367-_0x292e03)+_0x11441c*_0x292e03,_0x4ae69d=_0x3ca157<0x43*-0x64+0x10cc+-0x64*-0x18?-_0x3ca157:_0x3ca157,_0x333817=_0x3609cb<-0xd*0x35+-0xe83+0x3*0x5bc?-_0x3609cb:_0x3609cb,_0x5b45df=_0x364404<0xa7*-0x2f+-0xd*-0x24f+-0x53*-0x2?-_0x364404:_0x364404;_0x48e903[_0x23c4bf*(-0x16ca+0x15e2+0xeb*0x1)]=(_0x3ca157<0x1*-0x3d9+0x20bb+-0xe71*0x2?-(-0x12ad+-0x2b*-0x83+-0x353):0x50*-0x71+0x2300+0x51)*(Math['exp'](_0x4ae69d)-(0x95c+-0x18d2+0x25*0x6b)),_0x48e903[_0x23c4bf*(0x35b*-0x1+-0x1*0x13fa+-0x2*-0xbac)+(0x174a*-0x1+-0x61*0x29+0x1f1*0x14)]=(_0x3609cb<-0x3*0x7b3+-0xb8+-0x5b*-0x43?-(-0x3d7*0x4+0x11e2+-0x285):0x4c+-0x20ee+0x20a3)*(Math['exp'](_0x333817)-(-0x14a+0x23d+0xf2*-0x1)),_0x48e903[_0x23c4bf*(-0x1d1d+-0x23b9+-0x4fd*-0xd)+(0xa62+-0x4*-0x7af+-0x3*0xdb4)]=(_0x364404<-0x53*0x1d+-0x1ec7+-0x8b*-0x4a?-(-0x82*0x22+-0x3a*0x26+0x19e1):0x863+-0x5db+-0x287)*(Math['exp'](_0x5b45df)-(-0xc24*0x3+0xc8d+-0x2fc*-0x8));}}['calcFocalP'+'oint'](_0xcfcdd7,_0x24e9f7){_0xcfcdd7['set'](-0x1424+-0x2cf*0x1+0x7d*0x2f,-0x2139+0x6ab*-0x3+0x353a,-0x1fe+-0x1aba+0x1cb8);}get['isSogs'](){return!(0x1*-0x2149+-0xbd*0x14+-0x300d*-0x1);}get['shBands'](){var _0x264030;return{0xc0:0x1,0x200:0x2,0x3c0:0x3}[(_0x264030=this['sh_centroi'+'ds'])==null?void(-0x1b26+-0x67f*-0x4+0x12a):_0x264030['width']]??0x1*0xe+0x1dd+-0x1eb;}async['decompress'](){const _0x25a606=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3'],{shBands:_0x361e4d}=this,{means_l:_0x42286a,means_u:_0x444748,quats:_0x2bcd92,scales:_0x20895b,sh0:_0xb73734,sh_labels:_0x9a2bb1,sh_centroids:_0x5396a7}=this;if(_0x42286a['_levels'][0x1411+-0x173+-0x129e]=await Ci(_0x42286a),_0x444748['_levels'][0xa35*-0x2+-0x18c+0x2*0xafb]=await Ci(_0x444748),_0x2bcd92['_levels'][-0x1*0xf3d+0x52a+0xa13]=await Ci(_0x2bcd92),_0x20895b['_levels'][0x10ae+0xd72*0x1+-0x4*0x788]=await Ci(_0x20895b),_0xb73734['_levels'][-0x151*-0x1d+-0x15*-0x107+0x40*-0xef]=await Ci(_0xb73734),_0x361e4d>0x2*0xdc4+-0xbc9*0x1+-0xfbf){_0x9a2bb1['_levels'][0x1*0xd3a+-0x8fe*-0x3+0x7c*-0x53]=await Ci(_0x9a2bb1),_0x5396a7['_levels'][0x4f2+-0xf6b*0x2+0x19e4]=await Ci(_0x5396a7);const _0x223dce=[];for(let _0x121091=0x18e3+-0x602+0x1*-0x12e1;_0x121091<-0x9e*-0x2e+0x12e6+0x6bb*-0x7;++_0x121091)_0x223dce['push']('f_rest_'+_0x121091);_0x25a606['splice'](_0x25a606['indexOf']('f_dc_0')+(-0x133b+-0xec3*0x1+0x21ff),0x96d*-0x2+-0x864+0x1b3e,..._0x223dce);}const _0x3a8db4={};_0x25a606['forEach'](_0x5694bf=>{_0x3a8db4[_0x5694bf]=new Float32Array(this['numSplats']);});const _0x2c6498=new D(),_0x3f18d7=new le(),_0x5baf31=new D(),_0x2fe906=new re(),_0x3ffc1a=_0x361e4d>-0xa33+0x659+0x3da?new Float32Array(0x53*-0x5f+0x220f+0x3*-0x107):null,_0x12cd3f=this['createIter'](_0x2c6498,_0x3f18d7,_0x5baf31,_0x2fe906,_0x3ffc1a);for(let _0x4d1bb6=0xb28+0x11a*-0x1b+0x1296;_0x4d1bb6<this['numSplats'];++_0x4d1bb6)if(_0x12cd3f['read'](_0x4d1bb6),_0x3a8db4['x'][_0x4d1bb6]=_0x2c6498['x'],_0x3a8db4['y'][_0x4d1bb6]=_0x2c6498['y'],_0x3a8db4['z'][_0x4d1bb6]=_0x2c6498['z'],_0x3a8db4['rot_1'][_0x4d1bb6]=_0x3f18d7['x'],_0x3a8db4['rot_2'][_0x4d1bb6]=_0x3f18d7['y'],_0x3a8db4['rot_3'][_0x4d1bb6]=_0x3f18d7['z'],_0x3a8db4['rot_0'][_0x4d1bb6]=_0x3f18d7['w'],_0x3a8db4['scale_0'][_0x4d1bb6]=_0x5baf31['x'],_0x3a8db4['scale_1'][_0x4d1bb6]=_0x5baf31['y'],_0x3a8db4['scale_2'][_0x4d1bb6]=_0x5baf31['z'],_0x3a8db4['f_dc_0'][_0x4d1bb6]=(_0x2fe906['x']-(-0x1767+-0xa2d+0x2194+0.5))/An,_0x3a8db4['f_dc_1'][_0x4d1bb6]=(_0x2fe906['y']-(-0x871+-0xe5e+-0x1*-0x16cf+0.5))/An,_0x3a8db4['f_dc_2'][_0x4d1bb6]=(_0x2fe906['z']-(-0x1bba+0x259e+-0x9e4+0.5))/An,_0x3a8db4['opacity'][_0x4d1bb6]=_0x2fe906['w']<=0x304+-0x691+-0x9*-0x65?-(0x1d21*0x1+0x2261+-0x3*0x151e):_0x2fe906['w']>=-0x17*0x14a+-0x14f*-0x1c+0x6fd*-0x1?0xab1+-0x7*0x3b+-0x476*0x2:-Math['log']((-0x1*0x17db+0x1caf+-0x4d3)/_0x2fe906['w']-(0x256c+0x1f33+-0x224f*0x2)),_0x3ffc1a){for(let _0x29bb1f=0x4f*0x25+0xab6*0x3+0x2b8d*-0x1;_0x29bb1f<0x1b0c+0xf42+0x86d*-0x5;++_0x29bb1f)_0x3a8db4['f_rest_'+_0x29bb1f][_0x4d1bb6]=_0x3ffc1a[_0x29bb1f];}return new qn([{'name':'vertex','count':this['numSplats'],'properties':_0x25a606['map'](_0x12476f=>({'name':_0x12476f,'type':'float','byteSize':0x4,'storage':_0x3a8db4[_0x12476f]}))}]);}['packGpuMem'+'ory'](){const {means_l:_0x25bbb9,means_u:_0x3c69de,quats:_0xa68432,scales:_0x4ceb9b,sh_labels:_0x1ec1ef,numSplats:_0x1ab968}=this,{device:_0x47dc67}=_0x25bbb9,{scope:_0x4cb4fe}=_0x47dc67,_0x1afff5=$t['createShad'+'er'](_0x47dc67,{'uniqueName':'GsplatSogs'+'ReorderSha'+'der','attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentGLSL':uC,'fragmentWGSL':pC,'fragmentOutputTypes':['uvec4']}),_0x31b55e=new gt({'colorBuffer':this['packedText'+'ure'],'depth':!(-0x1*-0x19a8+0x98e*-0x2+0x43*-0x19),'mipLevel':0x0});_0x47dc67['setCullMod'+'e'](bt),_0x47dc67['setBlendSt'+'ate'](pt['NOBLEND']),_0x47dc67['setDepthSt'+'ate'](Yt['NODEPTH']),mC(_0x4cb4fe,{'means_l':_0x25bbb9,'means_u':_0x3c69de,'quats':_0xa68432,'scales':_0x4ceb9b,'sh_labels':_0x1ec1ef??_0x25bbb9,'numSplats':_0x1ab968}),Ar(_0x47dc67,_0x31b55e,_0x1afff5),_0x31b55e['destroy'](),_0x1afff5['destroy']();}async['prepareGpu'+'Data'](){const {device:_0x406b79,height:_0x4db3ff,width:_0x3437da}=this['means_l'];this['means_l']['_levels'][-0x19a3+-0x26d4+-0x157d*-0x3]=await Ci(this['means_l']),this['means_u']['_levels'][-0x1bb9+0x2*-0xb45+-0x3*-0x10c1]=await Ci(this['means_u']),this['packedText'+'ure']=new _e(_0x406b79,{'name':'sogsPacked'+'Texture','width':_0x3437da,'height':_0x4db3ff,'format':Ue,'mipmaps':!(-0x2591+0x89*0x24+0x47*0x42)}),_0x406b79['on']('devicerest'+'ored',()=>{this['packGpuMem'+'ory']();}),this['packGpuMem'+'ory']();}['reorderDat'+'a'](){return this['prepareGpu'+'Data']();}}async function SC(){let _0x14867a=null,_0x424c40=null,_0x228f8a=null,_0x2a1653=null,_0x37c6e0=null,_0x45b1a6=null,_0x2656ac=null,_0x4eefd2=null,_0x378889=null,_0x32705c=null,_0x335537=null,_0x1ada13=null,_0x2ffc6b=null,_0x2c126b=null,_0x5447b1=null,_0xcf4492=null,_0x3c3b41=null,_0x5cda0e=null,_0x4e582d=null,_0xee4dcd=null,_0x30f4a9=null,_0x2d1bba=null,_0x2e1043=null,_0x428592=null,_0x370439=Float32Array['BYTES_PER_'+'ELEMENT'],_0x34324a=Uint32Array['BYTES_PER_'+'ELEMENT'],_0x1bb8f0=0x274*-0xd+0x1a1+0x7f*0x3d,_0x162f74=!(0x1*0x1e47+0x1315+-0x315c),_0x41428b,_0x20bd23,_0x9b356={'x':0x0,'y':0x0,'z':0x0},_0x1187f1={'x':0x0,'y':0x0,'z':0x0},_0x5039fd=!(0x1*-0x967+0x7d9+0x18e),_0x22dad8=!(-0x13*-0xac+-0x517+-0x7ad),_0x55cc79=!(-0x26f1+0x1c*-0x139+0x492e),_0x59a7be=!(-0xe71*0x2+0x2524+-0x841*0x1),_0x53bfe1=0x1254+-0x26c6+-0x1472*-0x1,_0x220a1e=-0x9c5+0x31*0x21+0x374,_0x114588=!(0x1890+-0x3*-0x4d6+-0x2711*0x1),_0x1b8463=null,_0x356038=!(-0x49*0x1+0x2328+-0x2*0x116f),_0x450ccb=0x1*0x94+0x1565+-0x15f9,_0x6262bf=0x1*0x1e8f+-0x167*-0x12+-0x37cd*0x1,_0x5c5e04={'x':0x0,'y':0x0,'z':0x0},_0x29cbbd={'x':0x0,'y':0x0,'z':0x0},_0x4bb7a7,_0x5f2097;self['onmessage']=async _0xc82f7b=>{const {data:_0x5ea9a8}=_0xc82f7b;switch(_0x5ea9a8['type']){case'initWorker':await _0x4502c4(_0x5ea9a8['sortWasmUr'+'l']),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x1bb8f0=_0x5ea9a8['centers']['length']/(-0x73b+0x8ff*0x1+-0x1c1),_0x1bb8f0<=0xd8f+0x3b*-0x67+-0xa2e*-0x1||!_0x424c40)return;_0x54b2c3(),_0x162f74=_0x5ea9a8['is4d'],_0x4bb7a7=_0x5ea9a8['id'];const _0xf275e9=_0x2f39b4(_0x1bb8f0);if(_0x41ea03(_0xf275e9),_0x228f8a[0x59b+0x39*0x5+-0x4*0x1ae]=_0x5c5e04['x'],_0x228f8a[-0x21e1+0x1b8+0x202a]=_0x5c5e04['y'],_0x228f8a[-0x1810+0x258a+-0xd78]=_0x5c5e04['z'],_0x2a1653[-0xfbb+0x16d6*0x1+0x6b*-0x11]=_0x29cbbd['x'],_0x2a1653[0x1*-0x335+-0x2*0x3e+0x3b2]=_0x29cbbd['y'],_0x2a1653[0x5*-0x59+0xe86+-0xcc7]=_0x29cbbd['z'],_0x45b1a6&&_0x5ea9a8['centers']&&_0x45b1a6['length']===_0x5ea9a8['centers']['length']){const _0xcab114=new Float32Array(_0x5ea9a8['centers']);_0x45b1a6['set'](_0xcab114);}if(_0x4eefd2&&_0x5ea9a8['timeIndex']&&_0x4eefd2['length']===_0x5ea9a8['timeIndex']['length']){const _0x11a410=new Uint32Array(_0x5ea9a8['timeIndex']);_0x4eefd2['set'](_0x11a410);}if(_0x335537&&_0x5ea9a8['motion']&&_0x335537['length']===_0x5ea9a8['motion']['length']){const _0x509a49=new Float32Array(_0x5ea9a8['motion']);_0x335537['set'](_0x509a49);}if(_0x162f74&&_0x378889&&_0x32705c&&_0x5ea9a8['muT']&&_0x5ea9a8['tScale']&&_0x378889['length']===_0x5ea9a8['muT']['length']&&_0x32705c['length']===_0x5ea9a8['tScale']['length']&&(_0x378889['set'](_0x5ea9a8['muT']),_0x32705c['set'](_0x5ea9a8['tScale'])),_0x2656ac){for(let _0x264a3=0x3*0xbb6+0x1*-0x142f+0x2b*-0x59;_0x264a3<_0x2656ac['length'];++_0x264a3)_0x2656ac[_0x264a3]=_0x264a3;}_0x37c6e0&&_0x5ea9a8['timeOption']&&_0x37c6e0['set'](_0x5ea9a8['timeOption']),_0x5084b7(),_0x356038=!(0x1a2f+0x3ba*-0x1+0x1675*-0x1),_0x55cc79=!(0x26*0x1b+0xad*0x2d+-0x226b),_0x139e8b();break;case'setTime':_0x41428b=_0x5ea9a8['time'],_0x139e8b();break;case'setUseTemp'+'oralSort':_0x5039fd=_0x5ea9a8['useTempora'+'lSort'];break;case'setUseDyna'+'micSort':_0x22dad8=_0x5ea9a8['useDynamic'+'Sort'];break;case'sort':if(!_0x228f8a)return;_0x228f8a[0x2*-0x574+-0x3*0x3d7+0x1*0x166d]=_0x5ea9a8['cameraPosi'+'tion']['x'],_0x228f8a[0xe*-0x3a+0x6*-0x515+-0x1fb*-0x11]=_0x5ea9a8['cameraPosi'+'tion']['y'],_0x228f8a[0xf13+0x1d9+0xa*-0x1b1]=_0x5ea9a8['cameraPosi'+'tion']['z'],_0x2a1653[-0x61*-0x3+0x26a0+-0x27c3]=_0x5ea9a8['cameraDire'+'ction']['x'],_0x2a1653[-0x6f5*0x5+0xea2+0x1428]=_0x5ea9a8['cameraDire'+'ction']['y'],_0x2a1653[0x11*-0x151+0xe34*-0x1+0x1d*0x143]=_0x5ea9a8['cameraDire'+'ction']['z'],_0x5c5e04['x']=_0x5ea9a8['cameraPosi'+'tion']['x'],_0x5c5e04['y']=_0x5ea9a8['cameraPosi'+'tion']['y'],_0x5c5e04['z']=_0x5ea9a8['cameraPosi'+'tion']['z'],_0x29cbbd['x']=_0x5ea9a8['cameraDire'+'ction']['x'],_0x29cbbd['y']=_0x5ea9a8['cameraDire'+'ction']['y'],_0x29cbbd['z']=_0x5ea9a8['cameraDire'+'ction']['z'],_0x139e8b();break;}};const _0x54b2c3=()=>{_0x220a1e=Math['max'](0x9*0x337+0x1b15+-0x37fa*0x1,Math['min'](0x1c*-0x94+-0x7*0xe3+-0x20b*-0xb,Math['round'](Math['log2'](_0x1bb8f0/(-0x4*0x699+0x1a61+0x7*0x1))))),_0x53bfe1=(0x1867+0x1*0xd55+-0x25ba)**_0x220a1e+(0x5da+0x3f+-0x618);},_0x41ea03=_0x26a8d3=>{_0x1ada13=-0xf*-0xe+0xe57*-0x1+0xd85,_0x2ffc6b=_0x1ada13+_0x1bb8f0*_0x370439*(0x25a9+0x427*0x8+-0x46de),_0x5cda0e=_0x2ffc6b+(-0x319*-0x4+-0x104+-0x2bf*0x4)*_0x370439*(0x1abe+-0x4ef*-0x3+-0x2989),_0x4e582d=_0x5cda0e+_0x1bb8f0*_0x34324a,_0xee4dcd=_0x4e582d+(-0x43c+-0xa*-0x263+-0x139f*0x1)*_0x370439,_0x30f4a9=_0xee4dcd+(-0x17*0xf7+0xd77*-0x1+0x23ab)*_0x370439,_0x2d1bba=_0x30f4a9+(0x228d+-0x18d1+-0x9b9)*_0x370439,_0x2e1043=_0x2d1bba+(-0x1*0x8aa+0x2058+-0x17ab)*_0x370439,_0x428592=_0x2e1043+_0x1bb8f0*_0x34324a,_0x45b1a6=new Float32Array(_0x26a8d3,_0x1ada13,_0x1bb8f0*(0x240c+-0x4a7+-0x1f62)),_0x37c6e0=new Float32Array(_0x26a8d3,_0x2ffc6b,-0x1*-0x1a16+0x66+-0x19b4),_0x2656ac=new Uint32Array(_0x26a8d3,_0x5cda0e,_0x1bb8f0),_0x228f8a=new Float32Array(_0x26a8d3,_0x4e582d,-0x2507+0xa8d*0x3+-0x563*-0x1),_0x2a1653=new Float32Array(_0x26a8d3,_0xee4dcd,0x1b+0x130c+-0x1c*0xaf),_0x162f74&&(_0xcf4492=_0x428592+_0x53bfe1*_0x34324a,_0x3c3b41=_0xcf4492+_0x1bb8f0*_0x370439,_0x5447b1=_0x3c3b41+_0x1bb8f0*_0x370439,_0x2c126b=_0x5447b1+_0x1bb8f0*(0x35*-0xd+-0x2017+0x22cb)*_0x370439,_0x378889=new Float32Array(_0x26a8d3,_0xcf4492,_0x1bb8f0),_0x32705c=new Float32Array(_0x26a8d3,_0x3c3b41,_0x1bb8f0),_0x335537=new Float32Array(_0x26a8d3,_0x5447b1,_0x1bb8f0*(-0xac*-0x1+-0x21b*-0x3+-0x6fa)),_0x4eefd2=new Uint32Array(_0x26a8d3,_0x2c126b,_0x1bb8f0));},_0x4502c4=async _0x42ae98=>{_0x450ccb=-0x2281+-0x1b9+0x243b;const _0x1078fb={'env':{'memory':new WebAssembly['Memory']({'initial':_0x450ccb}),'pthread_self':function(){return 0x1d97+0x12d6+-0x306d;},'emscripten_builtin_memalign':function(){return-0x559+0x2*-0x2ce+0xaf5;},'loggerVec3':(_0x1b3063,_0x3eb3bf,_0x3f7b12,_0x244016)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x1b3063+']\x200:'+_0x3eb3bf+'\x201:'+_0x3f7b12+'\x202:'+_0x244016);},'loggerFloat':(_0x2dd3b7,_0x3a73bf)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0x2dd3b7+']\x20a:'+_0x3a73bf);},'loggerValue':(_0x398c88,_0x14946c,_0x582cc7,_0x2b4320,_0x420e1e)=>{console['log']('C++\x20logger'+'Value\x20['+_0x398c88+']\x20minDist:'+_0x14946c+'\x20maxDist:'+_0x582cc7+'\x20range:'+_0x2b4320+'\x20divider:'+_0x420e1e);},'loggerCamera':(_0x211eee,_0x21680b,_0x2a01a2,_0x906720,_0x72c70e,_0x40549b,_0x332b7f)=>{console['log']('C++\x20logger'+'Camera\x20['+_0x211eee+']\x20x:'+_0x21680b+'\x20y:'+_0x2a01a2+'\x20z:'+_0x906720+'\x20dx:'+_0x72c70e+'\x20dy:'+_0x40549b+'\x20dz:'+_0x332b7f);},'loggerBound':(_0x3ff7b1,_0x5f5758,_0x5174db,_0x297a4d,_0x29ca68,_0x1a17ae)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x3ff7b1+'\x20minY:'+_0x5f5758+'\x20minZ:'+_0x5174db+'\x20maxX:'+_0x297a4d+'\x20maxY:'+_0x29ca68+'\x20maxZ:'+_0x1a17ae);},'loggerDebug':_0x5ddf6f=>{console['log']('C++\x20logger'+'Debug\x20['+_0x5ddf6f+']');}}};try{const _0x48db89=await(await fetch(_0x42ae98))['arrayBuffe'+'r']();return _0x14867a=(await WebAssembly['instantiat'+'e'](_0x48db89,_0x1078fb))['instance'],_0x424c40=_0x1078fb['env']['memory'],_0x14867a;}catch(_0x2a8cf8){throw console['error']('WASM'+':',_0x2a8cf8),_0x2a8cf8;}},_0x135204=_0xc43035=>{if(_0xc43035<=-0x25cf+-0x56+-0x1f*-0x13b)return-0xd2+-0xdc+0x1af;let _0x475f58=_0xc43035*_0x370439*(0x14b+-0xb*-0x2f+-0x34d);_0x475f58+=_0xc43035*_0x34324a,_0x475f58+=(-0x3*0xa65+0x3bb*-0x3+0x2a63)*_0x370439,_0x475f58+=(-0x56a+-0x12b5+0x1822*0x1)*_0x370439,_0x475f58+=(-0x1f9d+0x1a32+0x56e*0x1)*_0x370439,_0x475f58+=(0x289+0x1d2b+-0x1fb1)*_0x370439,_0x475f58+=_0xc43035*_0x370439,_0x475f58+=_0x53bfe1*_0x34324a,_0x475f58+=(-0x31*0x5+0x6*0x5bd+-0x2115)*_0x370439*(0x2*-0x471+-0x1*0x5ff+0xee3*0x1),_0x475f58+=_0xc43035*_0x34324a,_0x162f74&&(_0x475f58+=_0xc43035*_0x370439,_0x475f58+=_0xc43035*_0x370439,_0x475f58+=_0xc43035*_0x370439*(-0x15c8+0x1*0x1f7b+0x7c*-0x14));const _0x36e832=(-0x1e50+0x4*0x6a2+0x408)*(0x8b*0x3a+-0x1*-0x10ef+0xecf*-0x3);return Math['ceil'](_0x475f58/_0x36e832);},_0x2f39b4=_0x300832=>{const _0x160b66=_0x135204(_0x300832);return _0x160b66>_0x450ccb?(_0x424c40['grow'](_0x160b66-_0x450ccb),_0x450ccb=_0x160b66):_0x424c40['grow'](0x1faf+-0x593*0x1+-0x4*0x687),_0x424c40['buffer'];},_0x5084b7=()=>{if(!_0x14867a)return;const {calcAABB:_0x4d11ca}=_0x14867a['exports'];_0x4d11ca(_0x1ada13,_0x30f4a9,_0x2d1bba,_0x1bb8f0);},_0x139e8b=()=>{_0x1b8463&&clearTimeout(_0x1b8463),_0x1b8463=setTimeout(()=>{_0x1b8463=null,_0x20f993();},0x199+0xca*0x26+-0x1f95);},_0x20f993=()=>{if(!_0x14867a||!_0x356038||_0x2656ac['length']!==_0x1bb8f0||_0x5cda0e===null||_0x1ada13===null||_0x4e582d===null||_0xee4dcd===null||_0x30f4a9===null||_0x2d1bba===null)return;const _0x2d6dc5=_0x228f8a[0x21fa+-0x1*0x18e7+0x1*-0x913],_0x5bcb2e=_0x228f8a[-0xb49+-0x2*0xce3+0x2510],_0x4cf5c4=_0x228f8a[0x163e+0x1*-0x10e7+-0x555],_0x510ce5=_0x2a1653[0x1ea3+-0x1*-0x2567+0x3*-0x16ae],_0x42152e=_0x2a1653[-0x1964+-0x249c+0x3e01*0x1],_0x37a15b=_0x2a1653[-0xdd3+-0x7bf*-0x1+0x616],_0x56cf22=0x15cf*0x1+0x2365+-0x3934+0.001;if(!_0x55cc79&&Math['abs'](_0x2d6dc5-_0x9b356['x'])<_0x56cf22&&Math['abs'](_0x5bcb2e-_0x9b356['y'])<_0x56cf22&&Math['abs'](_0x4cf5c4-_0x9b356['z'])<_0x56cf22&&Math['abs'](_0x510ce5-_0x1187f1['x'])<_0x56cf22&&Math['abs'](_0x42152e-_0x1187f1['y'])<_0x56cf22&&Math['abs'](_0x37a15b-_0x1187f1['z'])<_0x56cf22&&Math['abs'](_0x41428b-_0x20bd23)<0x11d2+0x1*-0x21e5+0x1013+0.01)return;if(_0x59a7be){_0x114588=!(-0x21d7*-0x1+0x1a7*0xf+-0x86*0x70);return;}_0x59a7be=!(-0x91d+-0xba2*0x1+-0x14bf*-0x1),_0x55cc79=!(0x1da1+-0x968*-0x2+-0x3070),_0x20bd23=_0x41428b,_0x9b356['x']=_0x2d6dc5,_0x9b356['y']=_0x5bcb2e,_0x9b356['z']=_0x4cf5c4,_0x1187f1['x']=_0x510ce5,_0x1187f1['y']=_0x42152e,_0x1187f1['z']=_0x37a15b,_0x114588=!(-0xb*-0x17e+-0x1*0x2443+-0x16*-0xe7);const {sortIndexes:_0x2fa53f}=_0x14867a['exports'];try{const _0x5c3493=_0x2fa53f(_0x5cda0e,_0x1ada13,_0x5447b1,_0xcf4492,_0x3c3b41,_0x4e582d,_0xee4dcd,_0x30f4a9,_0x2d1bba,_0x2e1043,_0x428592,_0x41428b||0x171d+-0x1a5*0xd+-0xde*0x2,_0x5039fd,_0x22dad8,_0x162f74,_0x1bb8f0,_0x53bfe1,_0x220a1e,_0x2ffc6b,_0x2c126b),_0x5ad5d0=new Uint32Array(_0x2656ac);if(_0x5c3493===0x241d+-0x19d5*-0x1+-0x1*0x3df2){debugger;console['log']('____\x20ENGIN'+'E','Indexes\x20co'+'unt\x20===\x20',_0x5c3493);}const _0x384041=_0x1bb8f0!==_0x6262bf||_0x5f2097!==_0x4bb7a7;self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x5c3493,'order':_0x5ad5d0,'isNewOrder':_0x384041},[_0x5ad5d0['buffer']]),_0x6262bf=_0x1bb8f0,_0x5f2097=_0x4bb7a7;}catch(_0xfabac9){console['error'](':',_0xfabac9),self['postMessag'+'e']({'type':'error','error':_0xfabac9['message']});}_0x59a7be=!(0x10e2+0xe72+-0x1f53),_0x114588&&_0x139e8b();};}class yC extends me{constructor(){super(),h(this,'worker',null),h(this,'numSplats',-0x47*-0x1e+-0x950+0xfe),h(this,'is4d',!(0x1beb+0x2a*-0x2c+0x14b3*-0x1)),h(this,'sortStartT'+'ime',0x1*-0x102f+0x2b7*0x3+0x7*0x126),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'data',{}),(this['orderTextu'+'re']=null,this['backOrderT'+'exture']=null,this['worker']=null,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+SC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x230518=>{var _0x11b2ec;if(!this['worker'])return;const {data:_0xe1c473}=_0x230518;switch(_0xe1c473['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':_0xe1c473['order']&&(_0xe1c473['isNewOrder']&&(this['orderTextu'+'re']=this['backOrderT'+'exture']),(_0x11b2ec=this['orderTextu'+'re'])==null||_0x11b2ec['write'](-0xf52+0x2d7*-0x5+0x1d85,-0x73c*-0x4+0x1ebf+0x3*-0x13e5,this['orderTextu'+'re']['width'],this['orderTextu'+'re']['height']-(0x2*0x472+0x18fc+-0x21df),_0xe1c473['order']));let _0x4acf02=-0x369+0xf00+-0xb97;this['sortStartT'+'ime']!==-0x1e15+-0x1ed7*-0x1+-0xc2&&(_0x4acf02=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x230518['data']['count'],_0x4acf02,_0xe1c473['isNewOrder']),this['sortStartT'+'ime']=-0x100e+-0x2564+0x1*0x3572;break;case'error':console['error']('Worker:',_0xe1c473['error']),this['fire']('error',_0xe1c473['error']);break;}},this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/sorter-t'+'railing.wa'+'sm'});}['initData'](_0x37b792,_0x51c50a,_0x316a77,_0x29c52d,_0x84f3f1,_0x4d1a47,_0xf97114,_0x348b8b){var _0x50d398;this['is4d']=_0x348b8b,this['numSplats']=_0x51c50a['length']/(-0x1baa+-0x71b*0x3+0x30fe),(!_0xf97114||_0xf97114['length']===-0x240+0xd9*0x17+-0x113f)&&(_0xf97114=[-0xcd3+-0xcae+-0x1*-0x1981,0x36b+-0x2152+-0x5*-0x607]),this['orderTextu'+'re']||(this['orderTextu'+'re']=_0x37b792),this['backOrderT'+'exture']=_0x37b792;const _0x17a4bc=new Date()['getTime']();(_0x50d398=this['worker'])==null||_0x50d398['postMessag'+'e']({'type':'initData','centers':_0x51c50a,'muT':_0x316a77,'tScale':_0x29c52d,'motion':_0x84f3f1,'timeIndex':_0x4d1a47,'timeOption':_0xf97114,'is4d':_0x348b8b,'id':_0x17a4bc});}['setCamera'](_0x25779f,_0x47ca49){this['worker']&&(!_0x25779f||!_0x47ca49||(this['data']['cameraPosi'+'tion']={'x':_0x25779f['x'],'y':_0x25779f['y'],'z':_0x25779f['z']},this['data']['cameraDire'+'ction']={'x':_0x47ca49['x'],'y':_0x47ca49['y'],'z':_0x47ca49['z']},this['sortStartT'+'ime']===0x6f*0x23+0x12d8+-0x2205&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x25779f['x'],'y':_0x25779f['y'],'z':_0x25779f['z']},'cameraDirection':{'x':_0x47ca49['x'],'y':_0x47ca49['y'],'z':_0x47ca49['z']}})));}['setCurrent'+'Time'](_0x28f8eb){this['worker']&&(this['data']['time']=_0x28f8eb,this['sortStartT'+'ime']===-0x23b4+0x1358+0x105c&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x28f8eb}));}['setUseTemp'+'oralSort'](_0xcff800){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0xcff800});}['setUseDyna'+'micSort'](_0x4205af){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseDyna'+'micSort','useDynamicSort':_0x4205af});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const vC=new te(),Va=new D(),Ga=new D(),Sc=[-0x1b6e+-0x187+-0x161*-0x15,-0x32a+-0xe4a+0x8ba*0x2];class xC{constructor(_0x47fb61,_0xd372cb={}){h(this,'resource'),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'_material'),h(this,'meshInstan'+'ce'),h(this,'options',{}),h(this,'sorter',null),h(this,'time',0x1*0x1f8d+0x1a0f+-0x399c),h(this,'lastCamera'+'Position',new D()),h(this,'lastCamera'+'Direction',new D()),h(this,'resolveSH',null),h(this,'cameras',[]),h(this,'forceUpDat'+'eSorterTim'+'e',(_0x2465f1,_0xde064b=void(-0x1b*-0x6a+0x1*0x121+-0xc4f))=>{(_0xde064b||_0xde064b===0xb*-0x179+0x1*-0x26f5+0x3728)&&(this['material']['setParamet'+'er']('uTime',_0xde064b),this['updateTime'](_0xde064b)),this['sort'](_0x2465f1);}),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x47fb61['numSplats']),this['resource']=_0x47fb61,this['orderTextu'+'re']=this['resource']['createText'+'ure']('splatOrder',Ki,this['resource']['evalTextur'+'eSize'](this['resource']['numSplats'])),this['backOrderT'+'exture']=null,_0xd372cb['material']?(this['_material']=_0xd372cb['material'],this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])):(this['_material']=new Xn({'uniqueName':'SplatMater'+'ial','vertexGLSL':'#include\x20\x22'+'gsplatVS\x22','fragmentGLSL':'#include\x20\x22'+'gsplatPS\x22','vertexWGSL':'#include\x20\x22'+'gsplatVS\x22','fragmentWGSL':'#include\x20\x22'+'gsplatPS\x22','attributes':{'vertex_position':Me,'vertex_id_attrib':ph}}),this['configureM'+'aterial'](this['_material']),this['_material']['update']()),this['meshInstan'+'ce']=new He(this['resource']['mesh'],this['_material']),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(-0x857+-0x20e2+0x2939)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=0x1dbb+0x2*-0x5ec+-0x11e3,this['sorter']=new yC(),this['sorter']['on']('initialize'+'d',()=>{var _0x21ba92,_0x318a2f,_0x27e38c,_0xb91853,_0x38c69e,_0x164f16,_0x418921,_0xb347e7,_0x501c0a,_0x529aab,_0x20ac68;const _0x4efdb8=new Float32Array(this['resource']['centers']['buffer']['slice']()),_0xa26421=new Float32Array(((_0x318a2f=(_0x21ba92=this['resource']['muT'])==null?void(-0x25d8+0xb76+0x2*0xd31):_0x21ba92['buffer'])==null?void(0x11b3*-0x2+0xfc0+0x13a6):_0x318a2f['slice']())??new Float32Array()),_0x4beeb9=new Float32Array(((_0xb91853=(_0x27e38c=this['resource']['tScale'])==null?void(-0x37a+0x1e5b+-0x1ae1):_0x27e38c['buffer'])==null?void(0x18ee+-0xfd9+0x3*-0x307):_0xb91853['slice']())??new Float32Array()),_0x436f40=new Float32Array(((_0x164f16=(_0x38c69e=this['resource']['motion'])==null?void(0x2635*0x1+0x4*0x94+0x2885*-0x1):_0x38c69e['buffer'])==null?void(-0x8+0x1*-0x2411+-0x1*-0x2419):_0x164f16['slice']())??new Float32Array()),_0x70911f=new Float32Array(((_0xb347e7=(_0x418921=this['resource']['timeIndex'])==null?void(0x1422+-0x2303+-0x1*-0xee1):_0x418921['buffer'])==null?void(-0xd4*0x2e+-0xb*-0x1b6+0x1346*0x1):_0xb347e7['slice']())??new Float32Array(-0x13d*-0x1+-0xdf*0x7+0x4dc*0x1)),_0x55c52e=new Float32Array(((_0x529aab=(_0x501c0a=this['resource']['timeOption'])==null?void(-0x2373+0x1489+-0xeea*-0x1):_0x501c0a['buffer'])==null?void(-0x495+0x18*0x4d+-0x5*0x87):_0x529aab['slice']())??new Float32Array());(_0x20ac68=this['sorter'])==null||_0x20ac68['initData'](this['orderTextu'+'re'],_0x4efdb8,_0xa26421,_0x4beeb9,_0x436f40,_0x70911f,_0x55c52e,this['resource']['is4D']);}),this['sorter']['on']('updated',async(_0x340c4e,_0x3a582c,_0x3319e7)=>{var _0x395fe8;this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x340c4e/this['resource']['instanceSi'+'ze']),_0x3319e7&&this['backOrderT'+'exture']&&(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatInst'+'ance\x20updat'+'ed'),[this['orderTextu'+'re'],this['backOrderT'+'exture']]=[this['backOrderT'+'exture'],this['orderTextu'+'re']],await this['resource']['updateText'+'ure'](),this['resource']['configureM'+'aterial'](this['_material']),this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])),_0x3319e7&&((_0x395fe8=this['resource'])==null||_0x395fe8['fireAssets'+'ManagerTim'+'eIndex']()),this['material']['setParamet'+'er']('numSplats',_0x340c4e);}),this['setHighQua'+'litySH'](_0xd372cb['highQualit'+'ySH']??!(-0x25ef+-0x1*-0x199+0x2457)));}async['updateInst'+'anceData'](_0x2cf6fd){var _0x2bb869,_0x582364;console['log']('____\x20ENGIN'+'E\x20IVAN','updateInst'+'anceData\x20A'+'SSETS\x20GSpl'+'atInstance',_0x2cf6fd['numSplats']),this['resource']=_0x2cf6fd;const _0x518c84=this['resource']['evalTextur'+'eSize'](_0x2cf6fd['centers']['length']/(-0xd42+-0x2*-0xa7d+-0x7b5));return(_0x2bb869=this['backOrderT'+'exture'])==null||_0x2bb869['destroy'](),this['backOrderT'+'exture']=this['resource']['createText'+'ure']('splatOrder'+'2',Ki,_0x518c84),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(-0x1a*0xe0+0x1*0x22b2+-0xbf2)),(_0x582364=this['sorter'])==null||_0x582364['initData'](this['backOrderT'+'exture'],_0x2cf6fd['centers'],_0x2cf6fd['muT'],_0x2cf6fd['tScale'],_0x2cf6fd['motion'],_0x2cf6fd['timeIndex'],_0x2cf6fd['timeOption'],_0x2cf6fd['is4D']),new Promise(_0x11c61f=>{var _0x592d55;const _0xc708cd=(_0xe75d5,_0x47dbe6,_0x18f593)=>{var _0xa0ac7;_0x18f593&&((_0xa0ac7=this['sorter'])==null||_0xa0ac7['off']('updated',_0xc708cd),_0x11c61f(!(0x10c*-0x17+-0xd*-0x167+0x5d9)));};(_0x592d55=this['sorter'])==null||_0x592d55['on']('updated',_0xc708cd);});}['destroy'](){var _0x2639d0,_0x37a21b,_0x3f5c17,_0xb99280,_0x586861,_0x82035f;(_0x2639d0=this['resolveSH'])==null||_0x2639d0['destroy'](),(_0x37a21b=this['material'])==null||_0x37a21b['destroy'](),(_0x3f5c17=this['meshInstan'+'ce'])==null||_0x3f5c17['destroy'](),(_0xb99280=this['sorter'])==null||_0xb99280['destroy'](),(_0x586861=this['orderTextu'+'re'])==null||_0x586861['destroy'](),(_0x82035f=this['backOrderT'+'exture'])==null||_0x82035f['destroy']();}set['material'](_0x21babd){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.set\x20'+'material'),this['_material']!==_0x21babd&&(this['_material']=_0x21babd,this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x21babd));}get['material'](){return this['_material'];}['configureM'+'aterial'](_0x3d4364,_0x80719={}){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.conf'+'igureMater'+'ial'),this['resource']['configureM'+'aterial'](_0x3d4364),_0x3d4364['setParamet'+'er']('numSplats',0x1*0x1f01+0xea2+0x2da3*-0x1),_0x3d4364['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),_0x3d4364['setParamet'+'er']('alphaClip',-0x120e+-0xe11+0x201f+0.3),_0x3d4364['setDefine']('DITHER_'+(_0x80719['dither']?'BLUENOISE':'NONE'),''),_0x3d4364['cull']=bt,_0x3d4364['blendType']=_0x80719['dither']?Cs:Zs,_0x3d4364['depthWrite']=!!_0x80719['dither'];}['updateView'+'port'](_0x4e4554){var _0x44ed5f;const _0x1f6c43=_0x4e4554==null?void(-0x2623+0xb5*0x9+0x1fc6):_0x4e4554['camera'],_0x25cc46=_0x1f6c43==null?void(0x1*-0x17d5+-0x57b*-0x5+-0x392):_0x1f6c43['renderTarg'+'et'],{width:_0x2a7dda,height:_0x3a1a95}=_0x25cc46??this['resource']['device'];Sc[-0x2*-0x978+-0x25f*-0x2+-0x17ae]=_0x2a7dda,Sc[0x1*0xdd2+-0x89+0x55*-0x28]=_0x3a1a95;const _0x4def24=(_0x44ed5f=_0x1f6c43==null?void(-0x5ad*0x5+-0x1*-0x1ad7+0x18a):_0x1f6c43['camera'])==null?void(0x174+0x3*0x263+-0x89d):_0x44ed5f['xr'];_0x4def24!=null&&_0x4def24['active']&&_0x4def24['views']['list']['length']===0x1137+-0x16b4+0x57f&&(Sc[0x24c3+0x1*-0xddb+-0x8*0x2dd]*=0x1a37+0x2f*-0x9b+0xe*0x29+0.5),this['material']['setParamet'+'er']('viewport',Sc);}['sort'](_0x25c530){if(this['sorter']){const _0x51e2fa=_0x25c530['getWorldTr'+'ansform']();_0x51e2fa['getTransla'+'tion'](Va),_0x51e2fa['getZ'](Ga);const _0x4cae3e=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x42e81a=vC['invert'](_0x4cae3e);_0x42e81a['transformP'+'oint'](Va,Va),_0x42e81a['transformV'+'ector'](Ga,Ga),(!Va['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!Ga['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](Va),this['lastCamera'+'Direction']['copy'](Ga),this['sorter']['setCamera'](Va,Ga)),this['sorter']['setCurrent'+'Time'](this['time']);}this['updateView'+'port'](_0x25c530);}['update'](){var _0x100b6b;if(this['cameras']['length']>0x1887+0x6c1+-0x1f48){const _0x601d60=this['cameras'][-0xdd6+-0x3*0x68c+0x10bd*0x2];this['sort'](_0x601d60['_node']),(_0x100b6b=this['resolveSH'])==null||_0x100b6b['render'](_0x601d60['_node'],this['meshInstan'+'ce']['node']['getWorldTr'+'ansform']()),this['cameras']['length']=-0x25e3+-0x2444+-0x1cf*-0x29;}}['setHighQua'+'litySH'](_0x1fe50e){const {resource:_0x317d4a}=this,{gsplatData:_0x1d3e16}=_0x317d4a;_0x1d3e16 instanceof gC&&_0x1d3e16['shBands']>-0x1*-0x2456+-0x59*-0x31+-0x355f&&_0x1fe50e===!!this['resolveSH']&&(this['resolveSH']?(this['resolveSH']['destroy'](),this['resolveSH']=null):this['resolveSH']=new fC(_0x317d4a['device'],this));}['updateTime'](_0x45ffd0){this['time']=_0x45ffd0;}}class Rv{constructor(_0x24202e,_0x170ae7){h(this,'sceneInfo',{}),h(this,'isDestroye'+'d',!(0x12c7+-0xb*0x197+0x2*-0xa5)),h(this,'device'),h(this,'gsplatData'),h(this,'centers'),h(this,'aabb'),h(this,'mesh'),h(this,'instanceIn'+'dices'),h(this,'gsplatInst'+'ance'),(this['device']=_0x24202e,this['gsplatData']=_0x170ae7,this['isDestroye'+'d']=!(0x6*-0x67e+0x195f+0x2*0x6cb));const _0x3c6e63=-0x1970+-0x19*-0x183+-0xbdb,_0x4e530e=Math['ceil'](_0x170ae7['numSplats']/_0x3c6e63)*_0x3c6e63/_0x3c6e63,_0x5e3129=new Uint32Array(_0x4e530e);for(let _0x2d3ac6=-0xd5+0x565+-0x490;_0x2d3ac6<_0x4e530e;++_0x2d3ac6)_0x5e3129[_0x2d3ac6]=_0x2d3ac6*_0x3c6e63;const _0x4e22d1=new kt(_0x24202e,[{'semantic':ph,'components':0x1,'type':el,'asInt':!(0x57+-0x2*-0x731+-0xeb9)}]),_0x557502=new Float32Array((0x1b*-0x127+0x280+-0x17*-0x13f)*_0x3c6e63),_0x3a2f22=new Uint32Array((0x3f8+0x2658+-0x2a4a*0x1)*_0x3c6e63);for(let _0x5899f5=-0xb9+0x32d*0x3+0x2e*-0x31;_0x5899f5<_0x3c6e63;++_0x5899f5){_0x557502['set']([-(-0xa9*-0x3b+-0x24b*0x4+0xee3*-0x2),-(-0x9*-0xf+-0x1*0x192a+0x18a4),_0x5899f5,0x199+-0x1*-0x1e12+-0x1faa,-(0xb0*0x2d+0x961+-0xf0*0x2b),_0x5899f5,-0x8a9+0x61a+-0x148*-0x2,-0x1102+-0x8e*-0x16+0x1*0x4cf,_0x5899f5,-(0x1f4d+-0x1*0x22e5+0x399),0x144f+0x1*0xb11+-0xa75*0x3,_0x5899f5],_0x5899f5*(-0x1*-0x106f+-0x189b*0x1+0x838));const _0x3b296f=_0x5899f5*(-0x1559+-0x207*-0x2+0x5c5*0x3);_0x3a2f22['set']([-0x1*0x1abc+0x22b*0x8+0x964+_0x3b296f,0x1db1*0x1+0xc51*-0x1+0x1*-0x115f+_0x3b296f,-0x1e35+0xc5f*0x1+0x11d8+_0x3b296f,0x1*-0x18a5+0x2f5*0xd+-0xdcc+_0x3b296f,0x1f66+-0x1864+-0x700+_0x3b296f,-0x1253*0x2+0x2ed+0x86f*0x4+_0x3b296f],_0x5899f5*(0x2*-0xc01+0x10e8+0x30*0x26));}this['mesh']=new Ge(_0x24202e),this['mesh']['setPositio'+'ns'](_0x557502,0x18b9+-0x1d7c+-0x263*-0x2),this['mesh']['setIndices'](_0x3a2f22),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),this['instanceIn'+'dices']=new Is(_0x24202e,_0x4e22d1,_0x4e530e,{'usage':ms,'data':_0x5e3129['buffer']});}['updateData'](){var _0x57544e;const _0x23f145=this['gsplatData'];if(!_0x23f145)return;const _0x356d9b=0xcf2*-0x1+0x6bb+0x6b7,_0x2e06f8=Math['ceil'](_0x23f145['numSplats']/_0x356d9b)*_0x356d9b/_0x356d9b,_0x56fc72=new Uint32Array(_0x2e06f8);for(let _0x129ac8=-0x16c8+0x2c4+0x1404;_0x129ac8<_0x2e06f8;++_0x129ac8)_0x56fc72[_0x129ac8]=_0x129ac8*_0x356d9b;const _0x5708c=new kt(this['device'],[{'semantic':ph,'components':0x1,'type':el,'asInt':!(0xac*-0x12+0x95e+0x2*0x15d)}]),_0x203733=new Float32Array((0x8e1+-0xb93*0x1+0x2be)*_0x356d9b),_0x3751cd=new Uint32Array((0x817*-0x4+0x2522+-0x1*0x4c0)*_0x356d9b);for(let _0x5906bb=0x507+0x1f08+-0xb5*0x33;_0x5906bb<_0x356d9b;++_0x5906bb){_0x203733['set']([-(0xea2+-0x5e*0x5b+0xe5*0x15),-(0x21e8+-0xeb+-0x20fc),_0x5906bb,-0x1f0d+0x1*-0x1301+0xe9*0x37,-(0x2273+-0xa3*0x3a+-0xc*-0x35),_0x5906bb,0x8b*0x6+-0x20d5+-0x4ee*-0x6,-0xcb7+-0xebc+0x1b74,_0x5906bb,-(0x494*-0x2+-0x1e7*0x9+0x1a48*0x1),-0x2bb*0x9+-0x8*0x19e+0x2584,_0x5906bb],_0x5906bb*(-0x1170+0x20de+-0xf62));const _0x48a1e0=_0x5906bb*(0x19*0x145+0x1ca4*0x1+-0x3c5d);_0x3751cd['set']([0x1ce3+0x1311+-0x2ff4+_0x48a1e0,0x112b+-0x1f0e+-0x1*-0xde4+_0x48a1e0,-0x3ae*0x1+0xec*-0x29+0x297c+_0x48a1e0,-0x2210+0x1ff9+-0x217*-0x1+_0x48a1e0,-0x10*0x223+-0x13b+0x236d*0x1+_0x48a1e0,0x1*-0x6cb+-0xdf8+-0x14c6*-0x1+_0x48a1e0],_0x5906bb*(-0x184c+0xb2d+-0xd25*-0x1));}this['mesh']['setPositio'+'ns'](_0x203733,0xded+-0x75+0x5*-0x2b1),this['mesh']['setIndices'](_0x3751cd),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),(_0x57544e=this['instanceIn'+'dices'])==null||_0x57544e['destroy'](),this['instanceIn'+'dices']=new Is(this['device'],_0x5708c,_0x2e06f8,{'usage':ms,'data':_0x56fc72['buffer']});}['updateText'+'ure'](){}['destroy'](){var _0x463d82,_0x22de5a,_0x435fdf,_0x3c3b43;(_0x463d82=this['mesh'])==null||_0x463d82['destroy'](),(_0x22de5a=this['instanceIn'+'dices'])==null||_0x22de5a['destroy'](),(_0x435fdf=this['gsplatData'])==null||_0x435fdf['destroy'](),this['gsplatData']=null,(_0x3c3b43=this['gsplatInst'+'ance'])==null||_0x3c3b43['destroy'](),this['gsplatInst'+'ance']=void(-0x7e2*0x3+0x13a5+0x5*0xcd),this['isDestroye'+'d']=!(-0xbad*0x2+-0xbe3*0x1+-0x61*-0x5d),this['mesh']=null;}get['instanceSi'+'ze'](){return 0xe2f*-0x1+0x68e*-0x3+0x2259;}get['numSplats'](){var _0x3b3556;return(_0x3b3556=this['gsplatData'])==null?void(-0x1c26+0x12*0x7+-0x1ba8*-0x1):_0x3b3556['numSplats'];}['setSceneIn'+'fo'](_0x26db2f){}['configureM'+'aterial'](_0x4195cf){}['evalTextur'+'eSize'](_0x50bb33){return J['ZERO'];}['appendGSpl'+'atResource'](_0x22eda0,_0x4a9f82,_0x185a2a,_0x3a6a5c,_0x3f8024){}['fireAssets'+'ManagerTim'+'eIndex'](){}['createText'+'ure'](_0x2eb329,_0x1d1228,_0x4c09f2,_0x22e03b){return new _e(this['device'],{'name':_0x2eb329,'width':_0x4c09f2['x'],'height':_0x4c09f2['y'],'format':_0x1d1228,'cubemap':!(-0x25c5+-0x2340+0x4906),'mipmaps':!(0x22fe+0x2497+-0x4794),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,..._0x22e03b?{'levels':[_0x22e03b]}:{}});}['instantiat'+'e'](){w['removed']('GSplatReso'+'urce.insta'+'ntiate\x20is\x20'+'removed.\x20U'+'se\x20gsplat\x20'+'component\x20'+'instead');}['createInst'+'ance'](_0x60b065,_0xccbe3b){return this['gsplatInst'+'ance']=new xC(_0x60b065,_0xccbe3b),this['gsplatInst'+'ance'];}}async function TC(){const _0x4940ec=new Float32Array(0xb89+-0x1b03*-0x1+-0x12b*0x21),_0x1f9d0d=new Int32Array(_0x4940ec['buffer']);let _0x2c3137=null,_0x12a54d=null,_0x215e1d=null,_0x15ae4b=null,_0x28d288=null,_0x3ef60a=null,_0x124976=null,_0x8ba1b6=null;self['onmessage']=async _0x3e5928=>{const {data:_0x24d4f1}=_0x3e5928;switch(_0x24d4f1['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0x209be9(_0x24d4f1['numSplats'],_0x24d4f1['shBands'],_0x24d4f1['SHData']);break;case'updateColo'+'rData':_0x3963c8(_0x24d4f1['numSplats'],_0x24d4f1['cr'],_0x24d4f1['cg'],_0x24d4f1['cb'],_0x24d4f1['ca']);break;case'updateTran'+'sformData':_0x28e4de(_0x24d4f1['numSplats'],_0x24d4f1['is4D'],_0x24d4f1['x'],_0x24d4f1['y'],_0x24d4f1['z'],_0x24d4f1['rx'],_0x24d4f1['ry'],_0x24d4f1['rz'],_0x24d4f1['rw'],_0x24d4f1['mx'],_0x24d4f1['my'],_0x24d4f1['mz'],_0x24d4f1['sx'],_0x24d4f1['sy'],_0x24d4f1['sz'],_0x24d4f1['muT'],_0x24d4f1['tScale']);break;case'calcAabb':_0x2c72da(_0x24d4f1['numSplats'],_0x24d4f1['x'],_0x24d4f1['y'],_0x24d4f1['z'],_0x24d4f1['sx'],_0x24d4f1['sy'],_0x24d4f1['sz']);break;case'destroyWor'+'ker':_0x5615b4();break;}};class _0x51a671{constructor(_0x392b8f=0xa*0x48+0x19a+-0x46a,_0x1d3870=-0x1*0x1e7a+-0x27f*-0x2+0x197c,_0x3c2141=-0x11f*0x14+-0xa7*0x25+-0x3*-0xf85,_0x4103e1=-0x19d4+0x1d0d+-0x8*0x67){this['x']=_0x392b8f,this['y']=_0x1d3870,this['z']=_0x3c2141,this['w']=_0x4103e1;}['set'](_0x58864c,_0x8caac0,_0x5738cf,_0x540706){return this['x']=_0x58864c,this['y']=_0x8caac0,this['z']=_0x5738cf,this['w']=_0x540706,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x3d340e=this){let _0x1f94bd=_0x3d340e['length']();return _0x1f94bd===0x1*0x1b37+-0x2c2*0x1+-0x1875?(this['x']=this['y']=this['z']=0x1*0x1485+0x1*0xa19+-0x1e9e,this['w']=0x389+0x6d0+-0x296*0x4):(_0x1f94bd=(0x11fe+0x4*0x377+-0x1fd9)/_0x1f94bd,this['x']=_0x3d340e['x']*_0x1f94bd,this['y']=_0x3d340e['y']*_0x1f94bd,this['z']=_0x3d340e['z']*_0x1f94bd,this['w']=_0x3d340e['w']*_0x1f94bd),this;}['mulScalar'](_0xdeb632,_0x400a8d=this){return this['x']=_0x400a8d['x']*_0xdeb632,this['y']=_0x400a8d['y']*_0xdeb632,this['z']=_0x400a8d['z']*_0xdeb632,this['w']=_0x400a8d['w']*_0xdeb632,this;}}const _0x478cb3=_0x4e9def=>{_0x4940ec[-0xdd3+-0x45d*0x7+-0x12*-0x277]=_0x4e9def;const _0x3b1612=_0x1f9d0d[0x118f*0x1+0x151f*0x1+0x1357*-0x2];let _0x2889e5=_0x3b1612>>0x23d1+-0x14a3+-0xf1e&-0x2*0x7e42+0xe1ce+0x45*0x23e,_0x5b5b7c=_0x3b1612>>-0x3f7+0x1bc6+-0x365*0x7&0x72d+-0x12e1*0x2+0x2694;const _0x1ff7f0=_0x3b1612>>0x35d*-0x3+0x2*-0x962+0x1cf2&0x2*0x3aa+0x5*-0x665+0x19a4;return _0x1ff7f0<-0x182a+-0x2618+0x3ea9?_0x2889e5:_0x1ff7f0>-0x6*-0x91+0x5bb*-0x4+0x4*0x505?(_0x2889e5|=-0xb*-0x871+0x25*-0x2f+-0x8*-0x4be,_0x2889e5|=(_0x1ff7f0===-0x588+0x23eb+-0x1d64?-0x969*-0x4+-0x612+-0x543*0x6:-0xc*-0x104+-0x1073+0x444)&&_0x3b1612&-0x1f*0x52231+-0xcf*-0x126c3+0x30cc41,_0x2889e5):_0x1ff7f0<-0x1*0xc2+0x20ee+-0x1fbb?(_0x5b5b7c|=0x12b7*-0x1+-0xf61+0x2a18,_0x2889e5|=(_0x5b5b7c>>0x21a3+0x124*-0x13+-0xb85-_0x1ff7f0)+(_0x5b5b7c>>-0x210+0x121b+-0x2*0x7cd-_0x1ff7f0&-0x2458+-0x11b8+-0x1*-0x3611),_0x2889e5):(_0x2889e5|=_0x1ff7f0-(-0x32*-0x3d+-0x244e+0x18d4)<<-0x253e+0x1b*-0x67+0x3025|_0x5b5b7c>>-0x14cf+-0x34b+-0x809*-0x3,_0x2889e5+=_0x5b5b7c&0x1*-0x11a7+-0x39e*0x1+-0x1546*-0x1,_0x2889e5);},_0x2c72da=(_0x1d16ad,_0x35615a,_0x39eb3f,_0x1ac2e0,_0x3ecdb1,_0x37a4b0,_0x5a41e4)=>{let _0x1d02d7=0x6e9+-0xcf7*0x3+0x1ffc,_0x252856=-0xd*0xe2+0xa0e+0x1a*0xe,_0x267326=-0x1ace+0x329*0x2+0x147c,_0x38ec81=0x2*-0x8b4+0x14df+0x377*-0x1,_0x55b5ca=0x7d9+0x1216+-0x3*0x8a5,_0x5c26da=0x1d9*-0x1+0xf59*-0x2+-0x3*-0xad9,_0x25f636=!(0xcff+-0x1c+-0xce3);const _0x49d326=new Float32Array(-0x1d9d+-0x191*-0x1+0x1c0f),_0x194936=new Float32Array(0x1*-0x1d75+0x1aad*-0x1+-0x9*-0x63d);for(let _0x2c09bc=0x2*0x61c+0x5*0x1f3+-0x15f7;_0x2c09bc<_0x1d16ad;++_0x2c09bc){const _0x262779=_0x35615a[_0x2c09bc],_0x19904b=_0x39eb3f[_0x2c09bc],_0x4771bf=_0x1ac2e0[_0x2c09bc],_0x591c95=Math['max'](_0x3ecdb1[_0x2c09bc],_0x37a4b0[_0x2c09bc],_0x5a41e4[_0x2c09bc]);if(!isFinite(_0x262779)||!isFinite(_0x19904b)||!isFinite(_0x4771bf)||!isFinite(_0x591c95))continue;const _0x3f3919=(0xa6d+0x1a*-0x7+0x7*-0x163)*Math['exp'](_0x591c95);_0x25f636?(_0x25f636=!(0xcd2+0x26e9*-0x1+0x1a18),_0x1d02d7=_0x262779-_0x3f3919,_0x252856=_0x19904b-_0x3f3919,_0x267326=_0x4771bf-_0x3f3919,_0x38ec81=_0x262779+_0x3f3919,_0x55b5ca=_0x19904b+_0x3f3919,_0x5c26da=_0x4771bf+_0x3f3919):(_0x1d02d7=Math['min'](_0x1d02d7,_0x262779-_0x3f3919),_0x252856=Math['min'](_0x252856,_0x19904b-_0x3f3919),_0x267326=Math['min'](_0x267326,_0x4771bf-_0x3f3919),_0x38ec81=Math['max'](_0x38ec81,_0x262779+_0x3f3919),_0x55b5ca=Math['max'](_0x55b5ca,_0x19904b+_0x3f3919),_0x5c26da=Math['max'](_0x5c26da,_0x4771bf+_0x3f3919));}_0x25f636||(_0x49d326[0x1*-0x9a3+-0x105f+-0x1*-0x1a02]=(_0x1d02d7+_0x38ec81)*(0xab7+0x1895*-0x1+0xdde+0.5),_0x49d326[-0x4*-0x563+0xdc1+-0xc*0x2f1]=(_0x252856+_0x55b5ca)*(-0xa4a+0x9db+-0x1*-0x6f+0.5),_0x49d326[0xa*0x2f5+0x96c*0x1+-0x5*0x7cc]=(_0x267326+_0x5c26da)*(-0x26c8+-0x26*-0x71+-0x3*-0x756+0.5),_0x194936[-0x4b0+0x2072*0x1+-0x1bc2]=(_0x38ec81-_0x1d02d7)*(0x38f*0x1+0x1*0x7ab+-0x59d*0x2+0.5),_0x194936[0x13ac+0x7c1+-0x1b6c]=(_0x55b5ca-_0x252856)*(-0x718+0xd4f+-0x637+0.5),_0x194936[-0xffa*0x1+-0x53*0x29+0x1d47*0x1]=(_0x5c26da-_0x267326)*(-0x57*-0x5+-0x2701+0x17e*0x19+0.5)),self['postMessag'+'e']({'type':'updatedAab'+'bData','center':_0x49d326,'halfExtents':_0x194936});},_0x28e4de=(_0x41e498,_0x359658,_0x375fd2,_0x251e62,_0xd213e8,_0xfcb982,_0x11e06e,_0x246a14,_0x176cb6,_0x345e3a,_0xc9ca88,_0x2cf0b2,_0x5aca8b,_0x3b9b6b,_0x3b2c27,_0x236272,_0x1f47ae)=>{_0x5615b4(),_0x2c3137=new Float32Array(_0x41e498*(0x1f20+0x1*-0x185b+-0x6c2*0x1)),_0x15ae4b=new Float32Array(_0x41e498*(0x1e*-0xc9+-0x1fd4+0x3765)),_0x3ef60a=new Uint16Array(_0x41e498*(-0x1fcb+0x5*-0x2dd+-0x1*-0x2e1f)),_0x215e1d=new Float32Array(_0x41e498*(0x24c7+-0x6e4+-0x2*0xef0)),_0x359658&&(_0x28d288=new Float32Array(_0x41e498*(0xd7d+0x1417+0x1*-0x2191)),_0x12a54d=new Float32Array(_0x41e498*(-0x84a*-0x3+0xd*0x8f+-0x201e)),_0x124976=new Float32Array(_0x41e498*(0xa23+-0x2*0x95+-0x25*0x3e)),_0x8ba1b6=new Float32Array(_0x41e498));const _0x50459f=new _0x51a671(-0xa33*-0x2+0x43*-0x65+0x609,0x20e*-0x7+-0x34d+0x11af,0x13a0+0x1*-0x1302+-0x9e,-0xfff+0x1*-0xb9b+-0xdcd*-0x2);for(let _0x5cc3bf=-0x165e+0x8b8+0x1*0xda6;_0x5cc3bf<_0x41e498;_0x5cc3bf++)_0x50459f['set'](_0xfcb982[_0x5cc3bf],_0x11e06e[_0x5cc3bf],_0x246a14[_0x5cc3bf],_0x176cb6[_0x5cc3bf]),_0x50459f['normalize'](),_0x50459f['w']<-0x17*-0x19b+-0xb3*0x31+0x1f*-0x16&&_0x50459f['mulScalar'](-(-0xf7f*0x2+0x19ea+0x515*0x1)),_0x15ae4b[_0x5cc3bf*(0x5*-0x3b3+-0xa83+0x1d05)+(-0x1886+-0x6ee+0x1f74)]=_0x375fd2[_0x5cc3bf],_0x15ae4b[_0x5cc3bf*(-0x1*-0x1d5f+-0x1700+-0x65c)+(0xd19+0x35*0x30+-0x1708)]=_0x251e62[_0x5cc3bf],_0x15ae4b[_0x5cc3bf*(0x180*-0x4+0x2*0xafd+-0xff7)+(0x8*-0xd8+0x1fea+-0x1928)]=_0xd213e8[_0x5cc3bf],_0x2c3137[_0x5cc3bf*(-0x1d3c*0x1+0xf43*0x1+0xdfc)+(-0xde5*-0x1+0x21dc+-0xfeb*0x3)]=_0x375fd2[_0x5cc3bf],_0x2c3137[_0x5cc3bf*(-0x11*-0x1+0x1e8d+-0x1e9b)+(-0x13bf*0x1+0x12*-0x8b+0x2*0xec3)]=_0x251e62[_0x5cc3bf],_0x2c3137[_0x5cc3bf*(0xfb3+-0x169f*0x1+-0x163*-0x5)+(0x211e+-0x15ca*-0x1+-0x2*0x1b73)]=_0xd213e8[_0x5cc3bf],_0x3ef60a[_0x5cc3bf*(0x1*-0x1a03+-0xfb5*-0x1+0x8b*0x13)+(0x21fa+0x6d*0x11+-0x2937*0x1)]=_0x478cb3(Math['exp'](_0x5aca8b[_0x5cc3bf])),_0x3ef60a[_0x5cc3bf*(0x257+0x93d+0x8d*-0x15)+(0x1bed*-0x1+0x9fe+0x11f0)]=_0x478cb3(Math['exp'](_0x3b9b6b[_0x5cc3bf])),_0x3ef60a[_0x5cc3bf*(-0x1e4d+-0x1*0x899+0x26e9)+(0x6e2+0x192a+-0x200a)]=_0x478cb3(Math['exp'](_0x3b2c27[_0x5cc3bf])),_0x215e1d[_0x5cc3bf*(0xf79+0x1*0x28c+0x1cd*-0xa)+(0x17*-0x14a+0x37b*0x2+0x16b0)]=_0x50459f['x'],_0x215e1d[_0x5cc3bf*(-0x1f6f+-0x1*0x1e0e+0x3d80)+(-0x199*-0x7+0x7*0x583+-0x1*0x31c3)]=_0x50459f['y'],_0x215e1d[_0x5cc3bf*(0x2609+0x1710+-0x3d16)+(-0x945+-0xe70+0x17b7)]=_0x50459f['z'],_0x359658&&_0x28d288&&_0x12a54d&&(_0x28d288[_0x5cc3bf*(0x1061+0x1af8*-0x1+0xa9a)+(-0x1cb3+0xe08+0xeab)]=_0x345e3a[_0x5cc3bf],_0x28d288[_0x5cc3bf*(0x79e+0x11d*0x11+0xd44*-0x2)+(-0x4*-0x3f3+0x1*-0x11c9+0xff*0x2)]=_0xc9ca88[_0x5cc3bf],_0x28d288[_0x5cc3bf*(0x2209+0x11*0x95+-0x1*0x2beb)+(0x4b2*0x6+-0x13*0x18d+0x14d*0x1)]=_0x2cf0b2[_0x5cc3bf],_0x124976[_0x5cc3bf*(-0x3*0xa75+-0xf78+-0x1*-0x2eda)+(0xd51+-0x1725+-0x4ea*-0x2)]=_0x345e3a[_0x5cc3bf],_0x124976[_0x5cc3bf*(0x5*-0x77+0x3*-0x919+-0xb9*-0x29)+(0x11b7+-0x12d6*-0x1+-0x248c)]=_0xc9ca88[_0x5cc3bf],_0x124976[_0x5cc3bf*(0xcae*-0x1+0x112b*-0x1+0x7*0x444)+(0x1*0x156b+-0x35*-0xb+-0x17b0)]=_0x2cf0b2[_0x5cc3bf],_0x8ba1b6[_0x5cc3bf]=_0x1f47ae?Math['exp'](_0x1f47ae[_0x5cc3bf]):-0xe3*0x4+0x311+-0x29*-0x3,_0x12a54d[_0x5cc3bf*(-0xa9a+0x173+0x92a)+(-0x1aa+-0x9*0x237+-0x123*-0x13)]=_0x236272?_0x236272[_0x5cc3bf]:0x4*-0x4bd+0xcb0+-0x2*-0x322,_0x12a54d[_0x5cc3bf*(-0x31+-0x1*-0x16dc+-0x16a8)+(-0x32*-0x5b+-0x1*-0x4ff+-0x16c4)]=_0x8ba1b6[_0x5cc3bf]);const _0x35efeb=[_0x2c3137['buffer'],_0x15ae4b['buffer'],_0x3ef60a['buffer'],_0x215e1d['buffer']];_0x359658&&_0x35efeb['push'](_0x28d288['buffer'],_0x12a54d['buffer'],_0x124976['buffer'],_0x8ba1b6['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0x2c3137,'dataPosition':_0x15ae4b,'dataScale':_0x3ef60a,'dataRotation':_0x215e1d,'dataMotion':_0x28d288,'dataTime':_0x12a54d,'motion':_0x124976,'tScaleArray':_0x8ba1b6},_0x35efeb);},_0x3963c8=(_0x2d48e6,_0x1de5ee,_0x366ac9,_0x3706fa,_0x2952ce)=>{const _0x199c1a=new Uint16Array(_0x2d48e6*(-0x1c2a+0x9cd+-0x1*-0x1261)),_0x764526=0x38a+0xb11*0x1+-0xe9b*0x1+0.28209479177387814;for(let _0x22e3c5=0x2635*0x1+0x1fc8+-0x45fd*0x1;_0x22e3c5<_0x2d48e6;++_0x22e3c5){const _0x2230e2=_0x1de5ee[_0x22e3c5]*_0x764526+(0x10c*-0x1+0x6*0x341+0x2*-0x93d+0.5),_0x29110c=_0x366ac9[_0x22e3c5]*_0x764526+(0x3*0xca0+0xef9+-0x34d9+0.5),_0x1144e4=_0x3706fa[_0x22e3c5]*_0x764526+(-0x1ebd+0x24ec+-0x62f+0.5),_0x336342=_0x2952ce[_0x22e3c5];_0x199c1a[_0x22e3c5*(0x1*-0x3fd+-0x1b*-0x156+0x2011*-0x1)+(-0x8*0x2ba+0x3cb*-0x2+0x47*0x6a)]=_0x478cb3(_0x2230e2),_0x199c1a[_0x22e3c5*(-0x324+0x1d*-0x5+0x3b9*0x1)+(-0x103*0x25+-0x11*0x76+-0x5f*-0x7a)]=_0x478cb3(_0x29110c),_0x199c1a[_0x22e3c5*(-0xfc+-0x1afc+0x1bfc)+(-0x3*-0x199+0x2*-0x128e+0x2053)]=_0x478cb3(_0x1144e4),_0x199c1a[_0x22e3c5*(0x588+0x9*-0x281+0x1105*0x1)+(0xb3e*-0x3+0x1116+0x10a7)]=_0x478cb3(_0x336342);}self['postMessag'+'e']({'type':'updatedCol'+'orData','data':_0x199c1a});},_0x209be9=(_0x247545,_0x766184,_0x2073f4)=>{const _0x448a43=new Uint32Array(_0x247545*(-0x1*-0x261a+0x25f0+-0x4c06)),_0x5c3944=new Uint32Array(_0x247545*(-0x1*-0x1736+0x45f+-0x1*0x1b91)),_0x2d2c71=new Uint32Array(_0x247545*(0x22dc+0x107b*-0x1+-0x125d)),_0x4eee9c=new Uint32Array(_0x247545*(-0x180d+0x1829+0x3*-0x8)),_0x4b9b94={0x1:0x3,0x2:0x8,0x3:0xf}[_0x766184],_0x26b21b=_0x2073f4,_0x5b49c0=0x20d2+-0x1*-0x2306+-0x1*0x3bd9,_0x1ce484=-0xf69+-0x1d2+0x153a,_0x50c3a2=new Float32Array(0x109d*-0x1+0x308+0x2*0x6cb),_0x1346bd=new Uint32Array(_0x50c3a2['buffer']),_0x2a78b3=new Array(_0x4b9b94*(-0x62*-0x17+0x1146+-0x1a11))['fill'](-0x26be+-0xbae+0x39a*0xe);for(let _0x49f864=0x295+-0x9*0x307+0x18aa;_0x49f864<_0x247545;++_0x49f864){for(let _0x33f941=-0x455+-0x2a+0x47f*0x1;_0x33f941<_0x4b9b94;++_0x33f941)_0x2a78b3[_0x33f941*(-0x1f7e+-0x50d*0x5+0x38c2)]=_0x26b21b[_0x33f941][_0x49f864],_0x2a78b3[_0x33f941*(-0x78a+-0xb*-0x2c5+-0x16ea)+(-0xf1*0x19+0x2*0xa39+0x318)]=_0x26b21b[_0x33f941+_0x4b9b94][_0x49f864],_0x2a78b3[_0x33f941*(0x24bb+0x1*0xda5+-0x325d)+(0x1334+-0xa06+0x2*-0x496)]=_0x26b21b[_0x33f941+_0x4b9b94*(-0xcc3+0xb5*-0x25+0x26ee*0x1)][_0x49f864];let _0x4724e0=_0x2a78b3[-0xc9*0x15+-0xe8c+0x1f09];for(let _0x3803bd=-0x1bdb+-0x1722+0x32fe;_0x3803bd<_0x4b9b94*(0x1f*-0x25+0x6f5+0x277*-0x1);++_0x3803bd)_0x4724e0=Math['max'](_0x4724e0,Math['abs'](_0x2a78b3[_0x3803bd]));if(_0x4724e0!==0x1*-0xb03+-0xa*0x151+0x182d){for(let _0x1f96bc=0xfd6+-0x9*-0x21d+-0x22db*0x1;_0x1f96bc<_0x4b9b94;++_0x1f96bc)_0x2a78b3[_0x1f96bc*(0x2562+-0x1727+-0xe38)+(0x1*0xbb3+-0x357+-0xa*0xd6)]=Math['max'](-0x1f*-0xe+-0x7*0x2e1+-0x2d*-0x69,Math['min'](_0x5b49c0,Math['floor']((_0x2a78b3[_0x1f96bc*(-0x13*-0x65+0xc53+-0x13cf)+(-0x3*-0x217+-0x2455+0x1e10)]/_0x4724e0*(-0x1*-0x1154+-0x1ba3+0xa4f+0.5)+(0xe63+0x2439+-0x329c+0.5))*_0x5b49c0+(-0xa*-0x2d8+0xb*0x185+-0x2d27+0.5)))),_0x2a78b3[_0x1f96bc*(0x1181+-0x6c4*0x1+-0xaba)+(0x20fa+0x101e+0x3*-0x105d)]=Math['max'](0x3*0x61+-0x1fbe+0x1*0x1e9b,Math['min'](_0x1ce484,Math['floor']((_0x2a78b3[_0x1f96bc*(-0x1*0xa0b+-0x189b+0x22a9)+(0x2d8+-0x15a*0x15+0x198b)]/_0x4724e0*(0xbe5+0x2246+0xdf*-0x35+0.5)+(0x1*-0x1343+0x21e4+-0xea1+0.5))*_0x1ce484+(0xfed+0x511*-0x5+0x2*0x4b4+0.5)))),_0x2a78b3[_0x1f96bc*(0xad+-0x2*-0xe03+-0x1cb0)+(-0x3*-0x2dd+-0x12e8+-0x1*-0xa53)]=Math['max'](-0xfdb+0x2407+-0x50b*0x4,Math['min'](_0x5b49c0,Math['floor']((_0x2a78b3[_0x1f96bc*(-0xe6d+0x12ad*0x1+-0x9b*0x7)+(0x1d*-0x32+0x7d8+0x22c*-0x1)]/_0x4724e0*(0x105d+-0x1b17+0x55d*0x2+0.5)+(-0xb05+-0xabc*-0x1+0x49*0x1+0.5))*_0x5b49c0+(-0x7a2+-0x627*-0x6+-0x1d48+0.5))));_0x50c3a2[-0xd4a+-0x107*0x3+0x105f]=_0x4724e0,_0x448a43[_0x49f864*(0xa19+-0x6b*-0x13+-0x1206)+(-0x119*-0x1+0xb0*0x1f+-0x1669)]=_0x1346bd[-0x1*0x159d+0x62f+0x2*0x7b7],_0x448a43[_0x49f864*(0xf9*0xd+-0x31*0x2f+-0x3a2)+(-0xa03+-0xc88+0x4a*0x4e)]=_0x2a78b3[-0x431*0x4+0x20d3+-0x100f]<<-0x335*-0xb+-0x27+0x230b*-0x1|_0x2a78b3[-0x6f4+0x27*0x6d+-0xf7*0xa]<<-0x151b*-0x1+0x189d+-0x2dad|_0x2a78b3[0x2d*-0xa6+0x1*0xa8f+0x12a1],_0x448a43[_0x49f864*(-0x27*-0x6+0x4*0x458+0x923*-0x2)+(-0xf9+-0x2*0xdc7+0x1e7*0xf)]=_0x2a78b3[0xb*0x2cd+0x61*0xd+0x725*-0x5]<<-0x250*0x1+-0x1c5f+0x1ec4|_0x2a78b3[-0xc50+-0x105d+0x5*0x5bd]<<-0xd13+0x187+0xb97|_0x2a78b3[0x1702+-0xa01*0x3+-0x706*-0x1],_0x448a43[_0x49f864*(-0x1*-0xc32+0x1d86+-0x29b4)+(-0x60b*0x2+-0x19*-0x139+-0x628*0x3)]=_0x2a78b3[-0x966*-0x3+0x57*-0x36+-0x9d2]<<0x1*0x11de+-0x6c8*-0x2+0x6b*-0x4b|_0x2a78b3[0x4be+-0x1*-0x5e1+-0xa98]<<-0x1*-0x1087+0x1539*-0x1+0x4bd|_0x2a78b3[0x188e+-0xfd+-0x4b5*0x5],_0x766184>0x1*-0x2518+0xed*0x21+0x2*0x346&&(_0x5c3944[_0x49f864*(-0x45b+0x2*-0x12df+0x2a1d*0x1)+(-0x39f*0x8+-0x126d*0x1+-0x44f*-0xb)]=_0x2a78b3[-0x137d+-0x36e+0x16f4]<<0xf5a+0x749+-0x168e*0x1|_0x2a78b3[-0x1833+0x43a*-0x1+0x97d*0x3]<<-0x829+0x1aab+-0x1277|_0x2a78b3[0x6ad*0x1+0xf1e+0x40*-0x57],_0x5c3944[_0x49f864*(0x2447+0x5*-0x77+-0x6*0x5a8)+(0x15dd+-0x1e4*-0x7+-0x8*0x463)]=_0x2a78b3[-0x1789+-0x1cd*0x7+0x6*0x608]<<-0x682+-0x3f1*-0x2+-0x14b*0x1|_0x2a78b3[-0x2*-0xf01+0x32d*0x2+0x244f*-0x1]<<0xdf9+-0x32+-0xdbc|_0x2a78b3[0x50*-0x16+-0x1928+-0x559*-0x6],_0x5c3944[_0x49f864*(-0x2*0x33b+-0x10c0+0x173a)+(-0x1659+0x1c72+0x617*-0x1)]=_0x2a78b3[-0x1505+-0x5*-0x65f+-0x1*0xac7]<<0x113d+0x10f3*0x1+-0x221b|_0x2a78b3[0x40b+0x16d5+-0x1ad0]<<-0xf10*0x1+-0x1003+0x1f1e|_0x2a78b3[0x252b+-0x1*0x18eb+-0xc2f*0x1],_0x5c3944[_0x49f864*(0x3*0x649+-0xfa*0x27+0x133f)+(-0x1*-0x2148+0x1820+-0x1*0x3965)]=_0x2a78b3[0x17f7+-0x49*-0x1f+-0x20bc]<<-0x1*0x2413+-0x17*-0x161+-0x3*-0x17b|_0x2a78b3[0x73*-0xf+-0x1b09+-0x5*-0x6c5]<<0x454+-0x137*-0x11+-0x18f0|_0x2a78b3[0x9*0x2ef+-0xfec+-0xa67*0x1],_0x766184>0x1b86+0x5*-0x4c5+-0x3ab?(_0x2d2c71[_0x49f864*(0x1*0x1591+-0x151*0x13+0x376*0x1)+(-0x1a6f+0x924+0x114b)]=_0x2a78b3[-0x3*-0x387+0x51*0x56+-0x25b6]<<-0x2*-0xaa2+-0x169b+0x1c*0xd|_0x2a78b3[0x1870+0xd2a+-0x157*0x1c]<<0x5*0x1a6+0x12ed+-0x1b20|_0x2a78b3[-0x8c*-0x34+0x5b*0x5d+-0x20c*0x1e],_0x2d2c71[_0x49f864*(0x1*0x1c6f+-0x2f*0x47+-0x16*0xb3)+(0x1849+0x1f*0x91+-0x29d7)]=_0x2a78b3[-0x2*-0xaf1+-0x1a20+0x456]<<0x238d+0x99+-0x2411|_0x2a78b3[0xcbd+0x3d*0x62+0x1*-0x23fe]<<0xf1c+0x31*0x42+-0x1bb3|_0x2a78b3[-0x1a8b+0xc17*-0x2+0x32d3],_0x2d2c71[_0x49f864*(-0x15a6*-0x1+0xa*0x169+-0x23bc)+(-0x1587+-0xf71*0x1+0x127d*0x2)]=_0x2a78b3[0x1926+-0x2510+0xc05]<<-0xe24*0x1+0x4cc*-0x1+0x1305|_0x2a78b3[0xd98+0x2*-0xd25+0xcce]<<-0x26c3+0xa*-0xe2+-0x43*-0xb6|_0x2a78b3[-0x16a*-0x17+-0x592+0x1ad7*-0x1],_0x2d2c71[_0x49f864*(0x18cd+-0x7d5+-0x26c*0x7)+(0x593+-0x1*0x18c1+0x1331)]=_0x2a78b3[-0x4fd+-0x2205*0x1+0x2720]<<0x252+0xa87+0x2*-0x662|_0x2a78b3[0x240f+-0xa*-0x109+-0x2e4a]<<0x4e9*0x5+-0x305*-0x1+-0x1b87|_0x2a78b3[0x17d2+0x1754*0x1+-0x2f06],_0x4eee9c[_0x49f864*(0x1a93+-0x10a3+-0x9ec)+(0x838+-0x2*0xb2a+0xe1c)]=_0x2a78b3[-0xb7e+0x5cc+0x5d3]<<-0x45f+-0xebc+0x266*0x8|_0x2a78b3[-0x17*-0x58+0x19*0x15b+0x4f*-0x87]<<0xb21+-0x942*-0x2+-0x6*0x4ef|_0x2a78b3[0x2463+0x449*-0x8+-0x1f8],_0x4eee9c[_0x49f864*(-0x11d7+-0x1446+-0x2b*-0xe3)+(0x21ca+0x2456+0x1*-0x461f)]=_0x2a78b3[-0x172*0xb+0x1*-0x1a1+0x11ab]<<-0xfc4+0x1624+-0x64b|_0x2a78b3[-0x446+-0xbcf*0x1+0x2*0x81d]<<-0x587*-0x1+-0x2*-0x1179+-0x19e*0x19|_0x2a78b3[-0xaeb*0x2+0x1*0x1aff+-0x503],_0x4eee9c[_0x49f864*(0x1346+0x24e*-0x7+-0x320)+(-0x1001+-0x1edc+0x2edf)]=_0x2a78b3[0x8d6+-0x13*0x192+0x1527]<<0xe9*-0x1+0x1b44+0x3*-0x8c2|_0x2a78b3[-0x3*0x4bd+0x1*-0xa5e+0x18bd]<<0x1b3f+0x22b7*-0x1+0x3*0x281|_0x2a78b3[0x815*0x4+-0xd8b+0x12a0*-0x1],_0x4eee9c[_0x49f864*(0xc3*0x23+0x1*-0x15d1+-0x4d4)+(-0x1*0x2171+0x2*0x8a7+0x1026)]=_0x2a78b3[0xc61+-0x9*0x1eb+0x50c]<<0x1a6a+0x20f2+-0x3b47|_0x2a78b3[-0x20d4*0x1+-0xff6+0x97*0x53]<<0x1d30+-0x2198+-0x473*-0x1|_0x2a78b3[-0x1*0x1849+0x1*-0xdfb+0x2670]):_0x2d2c71[_0x49f864]=_0x2a78b3[-0x78e*0x2+-0x2a6+-0x1*-0x11d7]<<-0x13b9+0x1*-0x12ef+0x26bd|_0x2a78b3[0x6*0x458+-0x5*0x365+-0x901*0x1]<<0x346*0x6+0x10*0x23+-0x15c9|_0x2a78b3[0x1097*0x2+-0x56*0x67+-0x1*-0x183]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x448a43,'sh4to7Data':_0x5c3944,'sh8to11Data':_0x2d2c71,'sh12to15Data':_0x4eee9c}},[_0x448a43['buffer'],_0x5c3944['buffer'],_0x2d2c71['buffer'],_0x4eee9c['buffer']]);},_0x5615b4=()=>{_0x2c3137=null,_0x12a54d=null,_0x215e1d=null,_0x15ae4b=null,_0x28d288=null,_0x3ef60a=null,_0x124976=null,_0x8ba1b6=null;};}let wC=class extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+TC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x4a20a3,_0x44f0e5,_0x285b71){_0x4a20a3['onmessage']=_0x26cb26=>{if(!this['worker'])return;const {data:_0x5dbb90}=_0x26cb26;if(_0x5dbb90['type']===_0x44f0e5)switch(_0x44f0e5){case'updatedSHD'+'ata1':_0x285b71(_0x5dbb90['data']);break;case'updatedCol'+'orData':_0x285b71(_0x5dbb90['data']);break;case'updatedTra'+'nsformData':_0x285b71(_0x5dbb90);break;case'updatedAab'+'bData':_0x285b71(_0x5dbb90);break;}};}['updateSHDa'+'ta1'](_0x5c1c48,_0x177d1e,_0xa5349){var _0x378baa;return(_0x378baa=this['worker'])==null||_0x378baa['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0x5c1c48,'shBands':_0x177d1e,'SHData':_0xa5349}),new Promise(_0x26e394=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x32c1c1=>{_0x26e394(_0x32c1c1);});});}async['updateColo'+'rData'](_0x217f77,_0x4b9301,_0x78d1e0,_0x459ffc,_0x4f3bba){var _0x4d12f2;return(_0x4d12f2=this['worker'])==null||_0x4d12f2['postMessag'+'e']({'type':'updateColo'+'rData','numSplats':_0x217f77,'cr':_0x4b9301,'cg':_0x78d1e0,'cb':_0x459ffc,'ca':_0x4f3bba}),new Promise(_0x15a304=>{this['workerMess'+'ageFn'](this['worker'],'updatedCol'+'orData',_0x43281f=>{_0x15a304(_0x43281f);});});}async['calcAabb'](_0x123f97,_0x5b748d,_0x131fca,_0x20f1bc,_0x81b3f8,_0x362eee,_0x140b03){var _0x44cd70;const _0x556072=new Float32Array(_0x5b748d),_0x1e84fc=new Float32Array(_0x131fca),_0x38561=new Float32Array(_0x20f1bc),_0x1818f7=new Float32Array(_0x81b3f8),_0x275b19=new Float32Array(_0x362eee),_0x362d53=new Float32Array(_0x140b03);return(_0x44cd70=this['worker'])==null||_0x44cd70['postMessag'+'e']({'type':'calcAabb','numSplats':_0x123f97,'x':_0x556072,'y':_0x1e84fc,'z':_0x38561,'sx':_0x1818f7,'sy':_0x275b19,'sz':_0x362d53},[_0x556072['buffer'],_0x1e84fc['buffer'],_0x38561['buffer'],_0x1818f7['buffer'],_0x275b19['buffer'],_0x362d53['buffer']]),new Promise(_0x43197f=>{this['workerMess'+'ageFn'](this['worker'],'updatedAab'+'bData',_0x464f8c=>{_0x43197f(_0x464f8c);});});}async['updateTran'+'sData'](_0x196465,_0x142439,_0x6fc13d,_0x46f987,_0x589ac3,_0x32de90,_0x3f209c,_0x5e376e,_0x13f133,_0x4fc896,_0x97313b,_0xe85198,_0xd3acde,_0x1b6f44,_0x270f2c,_0x56c5ed,_0x1026bc){var _0x212fe1;return(_0x212fe1=this['worker'])==null||_0x212fe1['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0x196465,'is4D':_0x142439,'x':_0x6fc13d,'y':_0x46f987,'z':_0x589ac3,'rx':_0x32de90,'ry':_0x3f209c,'rz':_0x5e376e,'rw':_0x13f133,'mx':_0x4fc896,'my':_0x97313b,'mz':_0xe85198,'sx':_0xd3acde,'sy':_0x1b6f44,'sz':_0x270f2c,'muT':_0x56c5ed,'tScale':_0x1026bc}),new Promise(_0x37fede=>{const _0x233eb4=_0x33e74d=>{_0x37fede(_0x33e74d);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x233eb4);});}['destroy'](){var _0x51d6f4;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x51d6f4=this['worker'])==null||_0x51d6f4['terminate'](),this['worker']=null);}};const vg=(_0x2b7860,_0x5319e9)=>{const _0x37790a=[];for(let _0x281486=0xd17*-0x1+-0x2438+0x1*0x314f;_0x281486<_0x5319e9;++_0x281486)_0x37790a['push'](_0x2b7860['getProp']('f_rest_'+_0x281486));return _0x37790a;};class EC extends Rv{constructor(_0x2e90cb,_0x4eaf57){console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),super(_0x2e90cb,_0x4eaf57),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(0x895+0x3*-0xa56+0x166e)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new wC(),this['assetsMana'+'gerLoadedT'+'ime']=-0xd*0x2d+0xbb3+-0x965);}async['updateData'](){var _0xd9b123,_0x21b692,_0x885b75,_0x5f3d73,_0xd05c4f,_0x55a4e4,_0x4ff52b,_0x55c65e,_0x53a13c,_0x49776f,_0x8a7244;console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Data'),await super['updateData']();const _0x14a062=this['gsplatData'];if(!_0x14a062)return;this['is4D']=_0x14a062['is4D'];const _0x29e1b9=await this['getTransfo'+'rmDataByWo'+'rker'](_0x14a062);this['aabb']=new De(),await _0x14a062['calcAabbAs'+'ync'](this['aabb'],this['updateData'+'Worker']),this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0x29e1b9['centers'],this['motion']=_0x29e1b9['motion'],this['tScale']=_0x29e1b9['tScaleArra'+'y'],this['muT']=await _0x14a062['getMuT'](),this['timeIndex']=await _0x14a062['getTimeInd'+'ex']();const _0x4b40aa=this['evalTextur'+'eSize'](_0x14a062['numSplats']);this['colorTextu'+'re']?((_0xd9b123=this['colorTextu'+'re2'])==null||_0xd9b123['destroy'](),(_0x21b692=this['transformA'+'Texture2'])==null||_0x21b692['destroy'](),(_0x885b75=this['transformB'+'Texture2'])==null||_0x885b75['destroy'](),(_0x5f3d73=this['transformR'+'Texture2'])==null||_0x5f3d73['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x4b40aa),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x4b40aa),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x4b40aa),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x4b40aa),this['is4D']&&((_0xd05c4f=this['transformM'+'otionTextu'+'re2'])==null||_0xd05c4f['destroy'](),(_0x55a4e4=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x55a4e4['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x4b40aa),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x4b40aa))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0x4b40aa),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x4b40aa),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0x4b40aa),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x4b40aa),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0x4b40aa),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x4b40aa),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x4b40aa),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x4b40aa),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0x4b40aa),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x4b40aa),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0x4b40aa),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x4b40aa))),await this['updateColo'+'rData'](_0x14a062),await this['updateTran'+'sformFromD'+'ata'](_0x29e1b9),this['shBands']=_0x14a062['shBands'],this['shBands']>0x1*0x1356+0x82f+0x5*-0x581&&(this['sh1to3Text'+'ure']?((_0x4ff52b=this['sh1to3Text'+'ure2'])==null||_0x4ff52b['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x4b40aa),this['shBands']>0x3*0x9d6+-0x60b+-0xb6*0x21&&((_0x55c65e=this['sh4to7Text'+'ure2'])==null||_0x55c65e['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x4b40aa),this['shBands']>0x1c68+-0x28*-0xd4+0xc4e*-0x5?((_0x53a13c=this['sh8to11Tex'+'ture2'])==null||_0x53a13c['destroy'](),(_0x49776f=this['sh12to15Te'+'xture2'])==null||_0x49776f['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x4b40aa),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x4b40aa)):((_0x8a7244=this['sh8to11Tex'+'ture2'])==null||_0x8a7244['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x4b40aa)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x4b40aa),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0x4b40aa),this['shBands']>-0x2093+-0x275*-0x3+0x1935&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0x4b40aa),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x4b40aa),this['shBands']>0x11*-0x1bf+-0x144f+-0x5*-0xa00?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0x4b40aa),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x4b40aa),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0x4b40aa),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x4b40aa)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0x4b40aa),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0x4b40aa)))),await this['updateSHDa'+'taByWorker'](_0x14a062));}['updateText'+'ure'](){console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Texture'),!this['isDestroye'+'d']&&(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x593c3f){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x593c3f}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20releas'+'eSeqGSplat'+'\x20all'),this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x40c750,_0x8b51f7,_0x23b70a,_0x48449a,_0x4a17e1){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x40c750,'timeOption':_0x8b51f7,'loadedTime':_0x23b70a,'asset':_0x48449a,'events':_0x4a17e1}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(0x1c4d+-0x103d+-0x182*0x8);try{for(;this['appendQueu'+'e']['length']>-0x427*-0x1+0x1341*0x1+-0x1768;){const _0x4a7ae4=this['appendQueu'+'e']['shift']();_0x4a7ae4['type']==='append'?await this['processApp'+'endTask'](_0x4a7ae4['data']):_0x4a7ae4['type']==='release'&&await this['processRel'+'easeTask'](_0x4a7ae4['data']);}}finally{this['isProcessi'+'ngQueue']=!(0x1*0xa7b+0x17c8+0x1121*-0x2);}}}async['processRel'+'easeTask'](_0x42bb07){const {index:_0x114ff9}=_0x42bb07;console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.relea'+'seGSplatRe'+'source',_0x114ff9),!this['isDestroye'+'d']&&await this['gsplatData']['releaseSeq'+'Data'](_0x114ff9);}async['processApp'+'endTask'](_0x2ce198){var _0x28b465;const {gsplatData:_0x17038f,timeOption:_0x46c086,loadedTime:_0x4048da,asset:_0x30bc0c,events:_0x36e8ec}=_0x2ce198;!this['gsplatData']||this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatRes'+'ource'),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0x46c086,await this['gsplatData']['appendGSpl'+'atData'](_0x17038f,_0x4048da,_0x46c086),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20gspla'+'tData.appe'+'ndGSplatDa'+'ta',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x9d*0x2e+-0x690+0x569*-0x4),_0x17038f['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0x17038f['numSplats'])['toFixed'](0x2*0xddf+-0x8bf*0x2+0x1*-0xa3d)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20this.'+'updateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x1*-0x10af+-0x6*-0x27b+-0x1*0x1f8f),_0x17038f['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),(_0x28b465=this['gsplatInst'+'ance'])==null||_0x28b465['updateInst'+'anceData'](this),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20updat'+'eInstanceD'+'ata',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x15a9+-0x1dd9+0x3384),_0x17038f['numSplats']),this['asset']=_0x30bc0c,this['assetsMana'+'gerLoadedT'+'ime']=_0x4048da,this['events']=_0x36e8ec);}['fireAssets'+'ManagerTim'+'eIndex'](){var _0x19b39e;const _0x4907d0=this['assetsMana'+'gerLoadedT'+'ime'];console['log']('____\x20ENGIN'+'E\x20IVAN','fireAssets'+'ManagerTim'+'eIndex',_0x4907d0),(_0x19b39e=this['asset'])==null||_0x19b39e['fire']('setAssetsL'+'oaded',_0x4907d0);}['destroy'](){var _0x28a3c0,_0x2dc667,_0x171fcd,_0x4d0154,_0x1b6d84,_0x2f88d5,_0x549c3b,_0xe2123f,_0x4bd216,_0x47ba4a,_0x53e119,_0x18592f,_0x4821c3,_0x233d7d,_0x2f1823,_0x15eb42,_0x1de0fe,_0x470a9a,_0x29de5a,_0x4692d2,_0x51c64c;(_0x28a3c0=this['updateData'+'Worker'])==null||_0x28a3c0['destroy'](),this['updateData'+'Worker']=void(0x766*0x5+0xc5e*-0x3+0x4*0x7),(_0x2dc667=this['colorTextu'+'re'])==null||_0x2dc667['destroy'](),(_0x171fcd=this['transformA'+'Texture'])==null||_0x171fcd['destroy'](),(_0x4d0154=this['transformB'+'Texture'])==null||_0x4d0154['destroy'](),(_0x1b6d84=this['transformR'+'Texture'])==null||_0x1b6d84['destroy'](),(_0x2f88d5=this['transformM'+'otionTextu'+'re'])==null||_0x2f88d5['destroy'](),(_0x549c3b=this['transformL'+'ifecycleTe'+'xture'])==null||_0x549c3b['destroy'](),(_0xe2123f=this['sh1to3Text'+'ure'])==null||_0xe2123f['destroy'](),(_0x4bd216=this['sh4to7Text'+'ure'])==null||_0x4bd216['destroy'](),(_0x47ba4a=this['sh8to11Tex'+'ture'])==null||_0x47ba4a['destroy'](),(_0x53e119=this['sh12to15Te'+'xture'])==null||_0x53e119['destroy'](),(_0x18592f=this['colorTextu'+'re2'])==null||_0x18592f['destroy'](),(_0x4821c3=this['transformA'+'Texture2'])==null||_0x4821c3['destroy'](),(_0x233d7d=this['transformB'+'Texture2'])==null||_0x233d7d['destroy'](),(_0x2f1823=this['transformR'+'Texture2'])==null||_0x2f1823['destroy'](),(_0x15eb42=this['transformM'+'otionTextu'+'re2'])==null||_0x15eb42['destroy'](),(_0x1de0fe=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x1de0fe['destroy'](),(_0x470a9a=this['sh1to3Text'+'ure2'])==null||_0x470a9a['destroy'](),(_0x29de5a=this['sh4to7Text'+'ure2'])==null||_0x29de5a['destroy'](),(_0x4692d2=this['sh8to11Tex'+'ture2'])==null||_0x4692d2['destroy'](),(_0x51c64c=this['sh12to15Te'+'xture2'])==null||_0x51c64c['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x100b94){var _0x24e90a,_0x1a8705,_0x1403ff,_0xc6202f,_0x168dad,_0x47b043,_0x517291,_0x404d4d,_0x491918,_0x5af44f,_0x397f04,_0x49e268,_0xd96138;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0x42e4b5=((_0x24e90a=_0x100b94['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(-0x1f2e+-0x1f19+0x3e47*0x1):_0x24e90a['data'])??-0xfb0+0x7*-0x461+0x2e57,_0x26246a=((_0x1a8705=_0x100b94['getParamet'+'er']('uSplatScal'+'e'))==null?void(-0x1c1*-0xd+0xe3*0x27+-0x3962):_0x1a8705['data'])??0x54f+-0x81*0x25+0xd57,_0x162943=((_0x1403ff=_0x100b94['getParamet'+'er']('uSaturatio'+'n'))==null?void(0x1*-0x66+0x2d0+-0x135*0x2):_0x1403ff['data'])??0x75d+0x2452+-0x2bae,_0x5d9ad1=((_0xc6202f=_0x100b94['getParamet'+'er']('uHueOffset'))==null?void(-0x2367+0x20c9+0x29e):_0xc6202f['data'])??0xbe1*0x3+-0x12f2+-0x10b1,_0x17c9a4=((_0x168dad=_0x100b94['getParamet'+'er']('uInvertOpa'+'city'))==null?void(-0x1202*-0x1+0x1b*0x39+-0x1805):_0x168dad['data'])??-0x1e6*0x1+-0x91f*-0x3+-0x1977,_0x2562e4=((_0x47b043=_0x100b94['getParamet'+'er']('uOpacity'))==null?void(0x1*-0x2662+-0x1b9a+0x41fc):_0x47b043['data'])??0x1e9d+-0x1705+-0x797,_0x56ca8d=((_0x517291=_0x100b94['getParamet'+'er']('clrOffset'))==null?void(-0x1607+-0x1*-0x1485+-0x182*-0x1):_0x517291['data'])??[-0x1*0x1f4f+0x1b68+0x3e7,-0x742*0x2+-0x1*-0x917+0x56d,-0x72e*0x1+-0x1ea9+-0x1*-0x25d7,0x1*-0x1e7+-0x1738+0x1920],_0x3cc90c=((_0x404d4d=_0x100b94['getParamet'+'er']('clrScale'))==null?void(-0x1aed+0x5*0x3d7+-0x7ba*-0x1):_0x404d4d['data'])??[0x12e9*-0x2+0x8e3+0x1cf0,0x2285+-0x1a99+-0x7eb*0x1,0xe2f*-0x1+0x1079*0x2+-0x961*0x2,0x28*0x4+-0x1*0xfd7+0xf38],_0x208c3e=((_0x491918=_0x100b94['getParamet'+'er']('uShapeN'))==null?void(-0x1804+0x1285+-0x1*-0x57f):_0x491918['data'])??-0x10f3*0x2+0x2a6+-0x1f4*-0x10,_0x20cec6=((_0x5af44f=_0x100b94['getParamet'+'er']('mode'))==null?void(-0x927+0x2*0x1129+-0x192b):_0x5af44f['data'])??0x14c9+-0x1d5*-0x2+-0x1873,_0x26c11e=((_0x397f04=_0x100b94['getParamet'+'er']('ringSize'))==null?void(0x89*-0x22+0x4*0x50e+-0x206):_0x397f04['data'])??0x7*0x3bf+0x1e04+-0x383d,_0x2beea0=((_0x49e268=_0x100b94['defines'])==null?void(-0x264*0xd+0x23aa+-0x496):_0x49e268['get']('uOpenAnim'))??'0',_0x5eea9f=((_0xd96138=_0x100b94['defines'])==null?void(0x1f*0x9f+-0x3d*0x68+0x587):_0xd96138['get']('uControlCo'+'lorMode'))??'0';_0x100b94['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x100b94['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x100b94['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x100b94['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x100b94['setParamet'+'er']('uSplatScal'+'e',_0x26246a),_0x100b94['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0x42e4b5),_0x100b94['setParamet'+'er']('uSaturatio'+'n',_0x162943),_0x100b94['setParamet'+'er']('uHueOffset',_0x5d9ad1),_0x100b94['setParamet'+'er']('uInvertOpa'+'city',_0x17c9a4),_0x100b94['setParamet'+'er']('uOpacity',_0x2562e4),_0x100b94['setParamet'+'er']('clrOffset',_0x56ca8d),_0x100b94['setParamet'+'er']('clrScale',_0x3cc90c),_0x100b94['setParamet'+'er']('uShapeN',_0x208c3e),_0x100b94['setParamet'+'er']('mode',_0x20cec6),_0x100b94['setParamet'+'er']('ringSize',_0x26c11e),_0x100b94['setParamet'+'er']('prerenderC'+'Time',0x13f+0x14e7*0x1+0x36*-0x69),_0x100b94['setParamet'+'er']('renderSpac'+'e',-0x9bc+-0x52*-0x3c+-0x972),_0x100b94['setParamet'+'er']('endSpace',-0x6a*-0x4+-0x12c3+0x1125),_0x100b94['setDefine']('uOpenAnim',_0x2beea0),_0x100b94['setDefine']('uControlCo'+'lorMode',_0x5eea9f),this['transformM'+'otionTextu'+'re']&&_0x100b94['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x100b94['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x100b94['setDefine']('SH_BANDS',this['shBands']),_0x100b94['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x100b94['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x100b94['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x100b94['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x100b94['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0x3fad08){const _0x367372=Math['ceil'](Math['sqrt'](_0x3fad08)),_0x493bf9=Math['ceil'](_0x3fad08/_0x367372);return new J(_0x367372,_0x493bf9);}async['updateColo'+'rData'](_0x4f1f6e){var _0x4817e6;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x3ee00f=this['colorTextu'+'re2'];if(!_0x3ee00f||this['isDestroye'+'d'])return;const _0x1d82ce=_0x4f1f6e['getProp']('f_dc_0'),_0x50c3ca=_0x4f1f6e['getProp']('f_dc_1'),_0x263851=_0x4f1f6e['getProp']('f_dc_2'),_0x4e9f5a=_0x4f1f6e['getProp']('opacity');let _0x1d7354=(_0x4817e6=_0x4f1f6e['transformD'+'ata'])==null?void(0x3*0x815+0x4d6*0x3+-0x1*0x26c1):_0x4817e6['dataColor'];_0x1d7354||(_0x1d7354=await this['updateData'+'Worker']['updateColo'+'rData'](_0x4f1f6e['numSplats'],_0x1d82ce,_0x50c3ca,_0x263851,_0x4e9f5a)),await this['idleUpdate'+'TexturePro'+'mise'](_0x3ee00f,_0x1d7354);}async['getTransfo'+'rmDataByWo'+'rker'](_0xa472e8){var _0x36cddf;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x36cddf=_0xa472e8['transformD'+'ata'])!=null&&_0x36cddf['dataCenter'+'s'])return{'centers':_0xa472e8['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0xa472e8['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0xa472e8['transformD'+'ata']['dataScale'],'dataRotation':_0xa472e8['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0xa472e8['transformD'+'ata']['dataMotion'],'dataTime':_0xa472e8['transformD'+'ata']['dataTime'],'motion':_0xa472e8['transformD'+'ata']['motion'],'tScaleArray':_0xa472e8['transformD'+'ata']['tScaleArra'+'y']};const _0x485635=_0xa472e8['getProp']('x'),_0x4ba729=_0xa472e8['getProp']('y'),_0x4e22cd=_0xa472e8['getProp']('z'),_0x4e1a0f=_0xa472e8['getProp']('rot_1'),_0x5000ad=_0xa472e8['getProp']('rot_2'),_0x16cf22=_0xa472e8['getProp']('rot_3'),_0x285908=_0xa472e8['getProp']('rot_0'),_0x126744=_0xa472e8['getProp']('motion_0'),_0x27d249=_0xa472e8['getProp']('motion_1'),_0x16790d=_0xa472e8['getProp']('motion_2'),_0x5a680f=_0xa472e8['getProp']('scale_0'),_0x6cfd61=_0xa472e8['getProp']('scale_1'),_0xaf2084=_0xa472e8['getProp']('scale_2'),_0x50dbb1=_0xa472e8['getProp']('t'),_0x4f89dc=_0xa472e8['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0xa472e8['numSplats'],this['is4D'],_0x485635,_0x4ba729,_0x4e22cd,_0x4e1a0f,_0x5000ad,_0x16cf22,_0x285908,_0x126744,_0x27d249,_0x16790d,_0x5a680f,_0x6cfd61,_0xaf2084,_0x50dbb1,_0x4f89dc);}async['updateTran'+'sformFromD'+'ata'](_0x4b2f0f){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0x4b2f0f['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0x4b2f0f['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0x4b2f0f['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0x4b2f0f['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0x4b2f0f['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x4643ed,_0x3a15cf){if(!this['isDestroye'+'d'])return new Promise(_0x202c37=>{requestIdleCallback(()=>{const _0x58022b=_0x4643ed['lock']();_0x58022b==null||_0x58022b['set'](_0x3a15cf),_0x4643ed['unlock'](),_0x202c37(!(0xd50+-0x14e2+0x22*0x39));},{'timeout':0x12c});});}async['updateTran'+'sformData'](_0x4d14b5){var _0xeb10e1,_0x2c7d2a,_0x1a93af,_0x1ae8cf;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData'),this['isDestroye'+'d'])return;const _0x1572f0=Mn['float2Half'];if(!this['transformA'+'Texture'])return;const _0x3881a9=this['transformA'+'Texture']['lock'](),_0xa3b2d=this['transformR'+'Texture']['lock'](),_0x2c999a=this['transformB'+'Texture']['lock'](),_0x2e8c55=(_0xeb10e1=this['transformM'+'otionTextu'+'re'])==null?void(0x209*0xb+-0x13f6+-0x26d):_0xeb10e1['lock'](),_0x384a12=(_0x2c7d2a=this['transformL'+'ifecycleTe'+'xture'])==null?void(0x1*0x1fb2+0x20b5+0x1*-0x4067):_0x2c7d2a['lock'](),_0x1628a1=new D(),_0x585930=new le(),_0x5bb5a5=new D(),_0x33e140=new D(),_0x38e7b5=_0x4d14b5['createIter'](_0x1628a1,_0x585930,_0x5bb5a5,null,_0x33e140),_0x3b73f5=_0x4d14b5['getProp']('t'),_0x4d5ba9=_0x4d14b5['getProp']('t_scale');for(let _0x119a33=-0x1a*-0x173+0x264e+0x6*-0xcaa;_0x119a33<_0x4d14b5['numSplats'];_0x119a33++)_0x38e7b5['read'](_0x119a33),_0x585930['normalize'](),_0x585930['w']<-0x15a8+0xf7f+-0x53*-0x13&&_0x585930['mulScalar'](-(0x813+-0x293*-0x9+-0x1f3d)),_0x3881a9[_0x119a33*(-0x71a+-0x1f39+0x132b*0x2)+(0x101c+-0x1e72+0x1*0xe56)]=_0x1628a1['x'],_0x3881a9[_0x119a33*(0xdc5+0x12ab+-0x1*0x206d)+(0x26db+0x13d*-0x8+-0x1cf2)]=_0x1628a1['y'],_0x3881a9[_0x119a33*(0x293*-0xe+-0x200f+0x1107*0x4)+(-0x183e+-0x1766+0x2fa6*0x1)]=_0x1628a1['z'],_0x2c999a[_0x119a33*(0x1bb4+-0x3c7*-0x7+-0x3622)+(0x3*-0x15a+0x1a55*0x1+0x1*-0x1647)]=_0x1572f0(_0x5bb5a5['x']),_0x2c999a[_0x119a33*(-0x1*-0xc95+-0x7*0x50b+0x16bb)+(-0x4*-0x699+0x131*0xb+-0x3*0xd2a)]=_0x1572f0(_0x5bb5a5['y']),_0x2c999a[_0x119a33*(-0x1*-0x759+0x2c3*0x1+-0x5*0x205)+(-0x182f+0x353*-0x7+0x2f76)]=_0x1572f0(_0x5bb5a5['z']),_0xa3b2d[_0x119a33*(-0x387+-0xd0*0x5+-0x79a*-0x1)+(-0x1f*-0x67+-0x1fb1+0x1338)]=_0x585930['x'],_0xa3b2d[_0x119a33*(-0xf70+0x49*-0x53+0x271e)+(0x590*0x5+-0x77f*-0x1+-0x234e)]=_0x585930['y'],_0xa3b2d[_0x119a33*(-0x1*0x222e+0xf1*-0x1d+0x3d7e)+(0x253f+-0x2*0xcd5+-0xb93)]=_0x585930['z'],this['is4D']&&_0x2e8c55&&_0x384a12&&(_0x2e8c55[_0x119a33*(0x2*0x23e+-0x3*-0x7b8+-0x1ba1*0x1)+(0x47*0x62+0x9*0x1cd+-0x2b63)]=_0x33e140['x'],_0x2e8c55[_0x119a33*(0x148f+-0xb*0x16f+-0x4c7)+(0xf34+0x22cc+-0x31ff*0x1)]=_0x33e140['y'],_0x2e8c55[_0x119a33*(0x2e4+0x1fcb*0x1+-0x22ac)+(0x1057*0x2+-0x167*-0x1+-0x2213)]=_0x33e140['z'],_0x384a12[_0x119a33*(0x6*-0x50b+-0x1f*0xcd+0x3718)+(-0xad*-0x4+0x211e+-0x23d2)]=_0x3b73f5?_0x3b73f5[_0x119a33]:-0x346+-0x1*0x17dc+-0x2e*-0x97,_0x384a12[_0x119a33*(-0x85*0x10+0x1*-0x979+0x11cc)+(0x23b0*-0x1+0x1*-0x47d+0x282e)]=_0x4d5ba9?Math['exp'](_0x4d5ba9[_0x119a33]):-0x170*0x13+-0x1b45+0x3695);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0x1a93af=this['transformM'+'otionTextu'+'re'])==null||_0x1a93af['unlock'](),(_0x1ae8cf=this['transformL'+'ifecycleTe'+'xture'])==null||_0x1ae8cf['unlock']();}async['updateSHDa'+'ta'](_0x3c2d3e){var _0x1f8a4e,_0x3759dd,_0x3be339,_0x5cea4a,_0x45bf93,_0x135506,_0x385cf9,_0x4c8c01;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0x3c8ef0=(_0x1f8a4e=this['sh1to3Text'+'ure2'])==null?void(-0x2196+0x19d3+0x7c3*0x1):_0x1f8a4e['lock'](),_0x4f7414=(_0x3759dd=this['sh4to7Text'+'ure2'])==null?void(-0xede+-0x242d+0xb3*0x49):_0x3759dd['lock'](),_0x5e3813=(_0x3be339=this['sh8to11Tex'+'ture2'])==null?void(-0x5ac*0x5+0x1*0xe1+0x15*0x14f):_0x3be339['lock'](),_0x2b89ed=(_0x5cea4a=this['sh12to15Te'+'xture2'])==null?void(-0x18fa+0xa4c+0xeae):_0x5cea4a['lock'](),_0x2a5160={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x4a7f1e=vg(_0x3c2d3e,_0x2a5160*(-0x19f*0x15+0x6ae+-0x1b6*-0x10)),_0x2a24d4=0x10*-0x15f+-0x65f+0x1227*0x2,_0x36d4d4=0x163b+-0x3*-0xa5+-0x142b*0x1,_0x460165=new Float32Array(-0x1471*-0x1+-0x175*-0x17+-0x35f3),_0x1a9a8a=new Uint32Array(_0x460165['buffer']),_0x49da64=new Array(_0x2a5160*(-0xc7*-0x1a+0x2*-0x741+-0x5b1))['fill'](-0x8*0x3fa+-0x18ae+0x387e);for(let _0xd4d138=0x601+-0x1e*0x3b+0xe9;_0xd4d138<_0x3c2d3e['numSplats'];++_0xd4d138){for(let _0x53dab3=-0x180d+0x1d02+-0x4f5;_0x53dab3<_0x2a5160;++_0x53dab3)_0x49da64[_0x53dab3*(-0x1*-0x2426+0x848+-0x2c6b*0x1)]=_0x4a7f1e[_0x53dab3][_0xd4d138],_0x49da64[_0x53dab3*(0x170f+-0x1*-0x1d27+-0x3433)+(0x1ccf+-0x50*0xb+-0x195e)]=_0x4a7f1e[_0x53dab3+_0x2a5160][_0xd4d138],_0x49da64[_0x53dab3*(-0x2*-0x188+-0x1205+0x77c*0x2)+(-0x179c+0xe6*-0x19+-0x6*-0x7ae)]=_0x4a7f1e[_0x53dab3+_0x2a5160*(-0x2d+0x1*0x55a+-0x52b)][_0xd4d138];let _0x4e83cc=_0x49da64[-0x11*-0x103+0x1*-0xaef+0x2*-0x322];for(let _0x38d54d=0xd*-0x2de+0x2524+0x7*0x5;_0x38d54d<_0x2a5160*(0x77f+0xdf6*0x2+0x67*-0x58);++_0x38d54d)_0x4e83cc=Math['max'](_0x4e83cc,Math['abs'](_0x49da64[_0x38d54d]));if(_0x4e83cc!==-0x1*0x1526+0xe4c+-0x36d*-0x2){for(let _0x28d27c=0x29*-0xb+-0x1*-0x1249+-0x12*0xeb;_0x28d27c<_0x2a5160;++_0x28d27c)_0x49da64[_0x28d27c*(-0x13b6+-0xd31+0x20ea)+(-0x1b66+0x1d72+-0x20c)]=Math['max'](0x1f1a+-0xc59+-0x12c1,Math['min'](_0x2a24d4,Math['floor']((_0x49da64[_0x28d27c*(0x2539+-0x12d+-0x267*0xf)+(-0x13f*-0xd+-0x19f4+0x9c1)]/_0x4e83cc*(0xcc7+0x3b*0x40+-0x1b87+0.5)+(0x1846+0x29*-0x47+-0xce7*0x1+0.5))*_0x2a24d4+(0xee2+0x1610+-0x24f2+0.5)))),_0x49da64[_0x28d27c*(-0xb*0x239+0x7b*0x26+0x634)+(-0x24b*-0xb+-0x51*0x12+-0x1386)]=Math['max'](0x8*0x232+-0x16e3+-0x1*-0x553,Math['min'](_0x36d4d4,Math['floor']((_0x49da64[_0x28d27c*(-0xf1*-0x11+0x253d+-0x353b*0x1)+(-0xb7d*-0x1+0xdf3+0x11*-0x17f)]/_0x4e83cc*(-0x825+0x1990+0x116b*-0x1+0.5)+(-0x2333+-0x2511+-0x4*-0x1211+0.5))*_0x36d4d4+(0x18d*0x7+0x47f*0x4+-0x1cd7+0.5)))),_0x49da64[_0x28d27c*(-0xc4a+-0x13*0xa4+0x1879)+(0x3*0x4d1+-0xb*-0x314+-0x9a9*0x5)]=Math['max'](0x1033*0x1+0x1a2f+-0xe*0x307,Math['min'](_0x2a24d4,Math['floor']((_0x49da64[_0x28d27c*(0x2208+-0x9c2*0x4+0x503)+(0x1*-0x1d95+0xf50+0x11*0xd7)]/_0x4e83cc*(-0x4*-0x439+0x2*-0x3c7+-0x956+0.5)+(-0x2*-0x7e3+0x334*0xa+0xd3*-0x3a+0.5))*_0x2a24d4+(-0xe19*-0x1+-0x3*0xc2b+0x1668+0.5))));_0x460165[0x1f*-0x12a+-0x21*0x76+0x334c]=_0x4e83cc,_0x3c8ef0[_0xd4d138*(-0x1fc0+-0x58c*-0x3+0xf20)+(-0x520*0x5+-0x3*-0x35f+0xf83)]=_0x1a9a8a[0xef*-0x22+-0x1*-0x228e+-0x2d0],_0x3c8ef0[_0xd4d138*(-0x8a0+-0x1943+-0x315*-0xb)+(-0x20a*-0x2+-0x564+0x151)]=_0x49da64[0x2*-0xd5f+-0x1281*-0x1+0x13*0x6f]<<-0x207a+-0x5c2*0x1+-0x11*-0x241|_0x49da64[0x1c0f+0x1cef*-0x1+-0x1*-0xe1]<<-0x2*-0x377+0x3*-0x2d4+0x199|_0x49da64[0x7d*-0x13+-0xff+0xa48],_0x3c8ef0[_0xd4d138*(0x1363+-0x382+0x83*-0x1f)+(-0x1*0x1691+-0x172c+0x2dbf)]=_0x49da64[-0x21b9+0x2539+-0x37d*0x1]<<0x22ac+-0x12a*0x1d+-0x3*0x47|_0x49da64[0x1d73+-0xb70+-0x11ff]<<0x3bd*0x3+-0x2f*-0x85+-0xbdd*0x3|_0x49da64[0x5db*0x3+0x1fdf+-0x3*0x1079],_0x3c8ef0[_0xd4d138*(0x1f7d+-0x1*-0xef5+-0x2e6e)+(0x1f3c+0x254b+-0x4484)]=_0x49da64[0x2*-0xd82+0x1bfa+-0xf0]<<0x7*0x43f+0xde0+-0x2b84|_0x49da64[-0x106b*0x2+-0x1133+0x3210]<<-0xb52+0x1948+-0xdeb|_0x49da64[0x247c+0x2fe+-0x2772],this['shBands']>-0x1*0x185c+-0xad5*-0x1+-0x1b1*-0x8&&(_0x4f7414[_0xd4d138*(0x1b65+-0xbd4+-0xf8d)+(0xa68+0x6b2+-0xb*0x18e)]=_0x49da64[0x1976+-0x62f+-0x335*0x6]<<-0x51*0x4f+0x1*0x22c9+0x1*-0x9b5|_0x49da64[-0x1ea2+-0x21ad*0x1+0x4059]<<-0x11ec+-0x1*0x11ae+0x1*0x23a5|_0x49da64[-0xf8+0x17e8+0x1*-0x16e5],_0x4f7414[_0xd4d138*(-0x1*0x58+-0x240d*0x1+0x2469)+(0x18b*-0x10+-0x69c+0x1f4d)]=_0x49da64[0x1*-0x1f6d+-0x293*-0x7+0xe*0xf6]<<-0x226b+0x1696+0x2*0x5f5|_0x49da64[-0x10b4+-0x20c+0x12cd]<<0x834+0x24b1+-0x2cda|_0x49da64[0xb5*0x25+0x19cf*0x1+-0x33ea],_0x4f7414[_0xd4d138*(-0x1a00+0x4a0*0x3+0x4a*0x2a)+(-0x126a*0x1+0xdb2+0x25d*0x2)]=_0x49da64[0x2547+0x1*0x1b4f+-0x4087]<<0x2*-0x397+0xa0*-0x8+0xc43|_0x49da64[-0x574+0x1460+-0xedc]<<0x7f9+-0x132f+0x1*0xb41|_0x49da64[-0x10d*-0x9+0x12a0+-0x4*0x701],_0x4f7414[_0xd4d138*(0x1596+-0x1*-0x20af+-0x3641)+(-0x3*0x9b2+0x1*0xc31+0x10e8)]=_0x49da64[-0x8*0x377+-0xdea+0x29b4*0x1]<<0x1ef4+-0xe48+-0x1*0x1097|_0x49da64[-0x2e+-0xe0a+0xe4b]<<0x10de+0x2be+0x1391*-0x1|_0x49da64[0xd1*0x9+0x4*0x2e3+0x12d1*-0x1],this['shBands']>-0x1001*0x1+-0x2*0x65+-0x11*-0xfd?(_0x5e3813[_0xd4d138*(0xb8a+-0x2*0x52f+-0x128)+(-0x4*0x857+0x7ab+-0x19b1*-0x1)]=_0x49da64[-0x17b*-0x11+0x4*0x502+-0x2d1e]<<-0x2001+0x1798+0x87e*0x1|_0x49da64[0xe1e+0x187+0x7*-0x239]<<0x833+0x19b4+0xb*-0x314|_0x49da64[-0x1975+0x22ef+0x963*-0x1],_0x5e3813[_0xd4d138*(0x535+-0x3c*0x70+0x150f)+(0x2b*0xc2+-0xe6f+0x65*-0x2e)]=_0x49da64[0x12a*-0x2+-0xfc+0x368]<<0x1*-0x1467+0x2643+-0x11c7|_0x49da64[0x6d9*-0x3+0x1dcd+-0x929]<<-0x24fc+-0xbe1+0x30e8|_0x49da64[-0xe*0x16f+0x2af+0x117d],_0x5e3813[_0xd4d138*(0x2345+-0x18d2+0x1*-0xa6f)+(-0x270+-0x5e3*-0x2+-0xc*0xc7)]=_0x49da64[-0x7e3+-0x1*0xa85+-0x1283*-0x1]<<-0x1be+-0x9*-0x183+-0xbc8|_0x49da64[-0x1ba7+-0x19*0x97+0x2a82]<<0x2278+0x1*0x1789+-0x3*0x1352|_0x49da64[-0xe41+0x4*-0x4fc+0x224e],_0x5e3813[_0xd4d138*(0x1*0x1def+0x3b5+-0x21a0)+(0x9*-0x15e+-0xf31+0x1b82)]=_0x49da64[-0x2407+0x45e*0x5+0x63*0x25]<<0x58f+0x436*-0x2+0x2f2|_0x49da64[-0x1a9c+-0x93*-0x18+-0x5*-0x297]<<-0x1066*0x1+0x550+0xb21|_0x49da64[-0x25*-0xe+0x1264+-0x31*0x6a],_0x2b89ed[_0xd4d138*(-0x1b*-0x5f+0x1c0*0x4+-0x1101)+(0x475*-0x5+-0x566*-0x2+-0x1*-0xb7d)]=_0x49da64[-0x1bf5+0x19e1+0x235]<<-0x1be*0x15+-0x1350+0x37fb|_0x49da64[-0xdcd*-0x2+0x2384+0x1f7e*-0x2]<<0x1fb2+-0x19db*-0x1+0x22*-0x1b1|_0x49da64[-0x78c+-0x91+0x84*0x10],_0x2b89ed[_0xd4d138*(-0x118d+0x1330+-0x53*0x5)+(-0x218*0xf+0x1*0x1d85+0x1e4)]=_0x49da64[-0x37*0xb5+-0xe89+0x10*0x359]<<-0x2*0xce5+-0xa6f*0x3+0x392c|_0x49da64[-0xde1+-0x39*0x30+0x18b6]<<0xaba+-0x447+-0x668|_0x49da64[0x1c37+0x34*0x4f+0x17*-0x1eb],_0x2b89ed[_0xd4d138*(0x1*-0x1d40+-0x113+0x1e57*0x1)+(-0x10a1+-0xb2*0x15+0x2d7*0xb)]=_0x49da64[0x2255+-0x817+-0x1*0x1a17]<<-0x13*-0x1b1+0x1c19+0x57*-0xb1|_0x49da64[-0xebc+0x359*0x1+0x1*0xb8b]<<0x344+0x23*0x1+-0xa*0x56|_0x49da64[0xf1*-0x1+-0x173*0xf+0x16d7],_0x2b89ed[_0xd4d138*(0x1c80+0x1555+-0x31d1)+(0x25fd+0x1881+-0x3e7b)]=_0x49da64[0x1c*0x22+-0x875*-0x4+-0x2562]<<0x8*-0x120+0xd*-0x2ad+0x2bde|_0x49da64[-0x235a+-0xe14+0x3199*0x1]<<-0x35b*-0x2+-0x2220+-0x21*-0xd5|_0x49da64[-0x24*0xbe+-0x3*0xb31+-0x17*-0x2a1]):_0x5e3813[_0xd4d138]=_0x49da64[-0x246+0x170*0x5+-0x4d5]<<-0xc*-0x19e+0x1934+0x2c87*-0x1|_0x49da64[-0x1*-0x198d+0x68c+-0x2003]<<0x1*0x1267+-0x5*-0x6bb+-0x3403|_0x49da64[0x2113*-0x1+-0x869*-0x4+-0x7a]);}}(_0x45bf93=this['sh1to3Text'+'ure2'])==null||_0x45bf93['unlock'](),(_0x135506=this['sh4to7Text'+'ure2'])==null||_0x135506['unlock'](),(_0x385cf9=this['sh8to11Tex'+'ture2'])==null||_0x385cf9['unlock'](),(_0x4c8c01=this['sh12to15Te'+'xture2'])==null||_0x4c8c01['unlock']();}async['updateSHDa'+'taByWorker'](_0x3c36c1){var _0x8527c2,_0x1d914b,_0x1bbbca,_0x2ef2ae,_0x2ea2ce;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x4efa97={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0x33646d,_0x16a0cf,_0x2bbffb,_0x4ed25a;if((_0x8527c2=_0x3c36c1['transformD'+'ata'])!=null&&_0x8527c2['sh1to3Data'])_0x33646d=(_0x1d914b=_0x3c36c1['transformD'+'ata'])==null?void(0x1b7*0x1+-0x1c2e+0x19*0x10f):_0x1d914b['sh1to3Data'],_0x16a0cf=(_0x1bbbca=_0x3c36c1['transformD'+'ata'])==null?void(-0x106e+0xa04+0x66a):_0x1bbbca['sh4to7Data'],_0x2bbffb=(_0x2ef2ae=_0x3c36c1['transformD'+'ata'])==null?void(-0x1*0xf9+0xfea+-0xef1):_0x2ef2ae['sh8to11Dat'+'a'],_0x4ed25a=(_0x2ea2ce=_0x3c36c1['transformD'+'ata'])==null?void(0x2180+0x707*-0x1+-0x8d3*0x3):_0x2ea2ce['sh12to15Da'+'ta'];else{const _0x54e326=vg(_0x3c36c1,_0x4efa97*(0x1dc8+0xaf7*-0x1+-0x3a*0x53)),_0x2171d8=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0x3c36c1['numSplats'],this['shBands'],_0x54e326);_0x33646d=_0x2171d8['sh1to3Data'],_0x16a0cf=_0x2171d8['sh4to7Data'],_0x2bbffb=_0x2171d8['sh8to11Dat'+'a'],_0x4ed25a=_0x2171d8['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0x33646d),this['shBands']>-0x1d59+-0x1d*-0xc2+0x760&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0x16a0cf),this['shBands']>-0x1*-0x225a+-0x2*0xc41+0x9d6*-0x1?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x2bbffb),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0x4ed25a)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x2bbffb));}}async function bC(){const _0x550b9e=new Float32Array(0x1e66+0xb7e*-0x3+0x415);new Int32Array(_0x550b9e['buffer']);let _0xe8a155=null,_0x5b28c7=null,_0x5efc9f=null,_0x588612=null,_0x303c5e=null,_0x573fcb=null,_0x2595ed=null,_0x562587=null;self['onmessage']=async _0x4174fd=>{const {data:_0x2bbfe6}=_0x4174fd;switch(_0x2bbfe6['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0x135cf3(_0x2bbfe6['numSplats'],_0x2bbfe6['shBands'],_0x2bbfe6['SHData']);break;case'updateTran'+'sformData':_0x9a089f(_0x2bbfe6['numSplats'],_0x2bbfe6['is4D'],_0x2bbfe6['position'],_0x2bbfe6['rotation'],_0x2bbfe6['motion'],_0x2bbfe6['scale'],_0x2bbfe6['muT'],_0x2bbfe6['tScale']);break;case'destroyWor'+'ker':_0x451bbb();break;}};const _0x9a089f=(_0x1f1355,_0x20f628,_0xa9eedd,_0x52eba4,_0x70cf6d,_0x6de015,_0x4c29fb,_0x48a112)=>{_0x451bbb(),_0x20f628&&(_0x5b28c7=new Float32Array(_0x1f1355*(-0x2b*0xa7+0x5b3+0x165d)),_0x562587=new Float32Array(_0x1f1355),_0x303c5e=new Float32Array(_0x70cf6d['buffer']['slice']()),_0x2595ed=new Float32Array(_0x70cf6d['buffer']['slice']())),_0x588612=new Float32Array(_0xa9eedd['buffer']['slice']()),_0xe8a155=new Float32Array(_0xa9eedd['buffer']['slice']()),_0x573fcb=new Uint16Array(_0x6de015['buffer']['slice']()),_0x5efc9f=new Float32Array(_0x52eba4['buffer']['slice']());for(let _0x2cdade=0x1bb8+0x1*0x654+-0x220c;_0x2cdade<_0x1f1355;_0x2cdade++)_0x20f628&&_0x5b28c7&&(_0x562587[_0x2cdade]=_0x48a112?Math['exp'](_0x48a112[_0x2cdade]):-0xe7c+0x3bb+-0xac1*-0x1,_0x5b28c7[_0x2cdade*(0x1000+0x19c7+-0x29c4)+(-0xb*-0x1da+-0xb76+-0x8e8)]=_0x4c29fb?_0x4c29fb[_0x2cdade]:0x7f9*-0x2+0x223e+0x124c*-0x1,_0x5b28c7[_0x2cdade*(0x3*0xc91+-0x9df+-0x1*0x1bd1)+(0x1fb+0x1*0x1319+-0x1513)]=_0x562587[_0x2cdade]);const _0x2cd955=[_0xe8a155['buffer'],_0x588612['buffer'],_0x573fcb['buffer'],_0x5efc9f['buffer']];_0x20f628&&_0x2cd955['push'](_0x303c5e['buffer'],_0x5b28c7['buffer'],_0x2595ed['buffer'],_0x562587['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0xe8a155,'dataPosition':_0x588612,'dataScale':_0x573fcb,'dataRotation':_0x5efc9f,'dataMotion':_0x303c5e,'dataTime':_0x5b28c7,'motion':_0x2595ed,'tScaleArray':_0x562587},_0x2cd955);},_0x135cf3=(_0x558891,_0x49bbb1,_0x2bbffd)=>{const _0x3af468=new Uint32Array(_0x558891*(-0x3*0x865+-0x1*0x1b83+0x1*0x34b6)),_0x33aead=new Uint32Array(_0x558891*(-0x1930+-0xf*-0x8b+-0xb*-0x18d)),_0x366e34=new Uint32Array(_0x558891*(-0x153*-0x2+-0x162e+0x138c)),_0x19b587=new Uint32Array(_0x558891*(-0x23d6+0x123a+0x11a0)),_0x4933f2={0x1:0x3,0x2:0x8,0x3:0xf}[_0x49bbb1],_0x296f15=_0x2bbffd,_0x595266=0x5*-0x40d+0x70a+0x1536,_0x5634eb=0x2018+0x16*0x2+0x1c45*-0x1,_0x4ce6ba=new Float32Array(0x89*-0x43+0x38*-0x8f+0x4324),_0x3a5995=new Uint32Array(_0x4ce6ba['buffer']),_0x111826=new Array(_0x4933f2*(0x26b9+-0x2*-0x3ea+-0x2e8a))['fill'](-0xd7a+0x1*-0x2187+0x23d*0x15);for(let _0x161998=-0x242f+0x1f73+-0x12f*-0x4;_0x161998<_0x558891;++_0x161998){for(let _0x2b7a03=-0x17e*0x15+-0x263a+0x4590;_0x2b7a03<_0x4933f2;++_0x2b7a03)_0x111826[_0x2b7a03*(-0x37*0x3+0x1813+-0x176b)]=_0x296f15[_0x2b7a03][_0x161998],_0x111826[_0x2b7a03*(-0xbae+-0x4*0x627+-0x244d*-0x1)+(0x4*-0x11c+-0x1e85+-0x37f*-0xa)]=_0x296f15[_0x2b7a03+_0x4933f2][_0x161998],_0x111826[_0x2b7a03*(-0x1*0xa47+0x41*0xd+0x6fd)+(0xe1a+0x8*0x277+-0x21d0)]=_0x296f15[_0x2b7a03+_0x4933f2*(-0x1951+0x2576+-0xc23)][_0x161998];let _0x34befc=_0x111826[-0xd*0xb0+0xd9a+-0x2*0x255];for(let _0x334d65=-0x26df+-0x3f2+0x2ad2;_0x334d65<_0x4933f2*(0xe45+0x274*0xa+0x14b*-0x1e);++_0x334d65)_0x34befc=Math['max'](_0x34befc,Math['abs'](_0x111826[_0x334d65]));if(_0x34befc!==-0x97a+-0x3*-0x3eb+-0x247){for(let _0x4d1392=-0x255e+-0x16bb*-0x1+-0x4e1*-0x3;_0x4d1392<_0x4933f2;++_0x4d1392)_0x111826[_0x4d1392*(-0x1*0x1ecb+0x1036+0xe98)+(-0x220b+0x1f09+0xe*0x37)]=Math['max'](0xe12*-0x1+0xf72+0xb0*-0x2,Math['min'](_0x595266,Math['floor']((_0x111826[_0x4d1392*(0x1d15+0x14c4+-0x31d6)+(-0xca*-0x21+-0xe33+-0x7*0x1b1)]/_0x34befc*(0x1*-0xe+-0x4a6+0x4b4+0.5)+(-0xb2c+-0x66c+-0x466*-0x4+0.5))*_0x595266+(-0x325*0x8+0xa70*0x1+0xeb8+0.5)))),_0x111826[_0x4d1392*(0x25d*-0x7+0x70*-0x3d+0x2b3e)+(0x1c45+0x3*-0xab+0x9*-0x2eb)]=Math['max'](0xc79+0x21dd+-0x2e56,Math['min'](_0x5634eb,Math['floor']((_0x111826[_0x4d1392*(0x10be+-0x1*-0x887+-0x2*0xca1)+(-0x24c1+-0x1090+0x79e*0x7)]/_0x34befc*(0x1*0x2573+-0x9*0x1c8+0x156b*-0x1+0.5)+(-0xc0a+0x1b6c+0x1*-0xf62+0.5))*_0x5634eb+(0x1a4e+-0x670+-0x13de+0.5)))),_0x111826[_0x4d1392*(0x2555+0x1fe5+-0x179*0x2f)+(0x3a3+0x1b5e+0x17*-0x159)]=Math['max'](0x1*0x6d3+-0x270a+-0x3*-0xabd,Math['min'](_0x595266,Math['floor']((_0x111826[_0x4d1392*(-0xdf*-0x1+0x14d4+0x56c*-0x4)+(0xaa6+-0x159a+0xaf6)]/_0x34befc*(-0x1ee7+-0x5*-0xe5+0x1a6e+0.5)+(-0xc7b+-0x195e+0x25d9+0.5))*_0x595266+(0x22ba+-0x1ea6+-0x414+0.5))));_0x4ce6ba[0x19c0+0x1bec+-0x1*0x35ac]=_0x34befc,_0x3af468[_0x161998*(0x1875+-0x1bfe+-0x12f*-0x3)+(-0xf37+-0x1*0x42a+-0x1*-0x1361)]=_0x3a5995[0x207f+-0xc56+0x1*-0x1429],_0x3af468[_0x161998*(-0x994+0x2e*-0xc1+0x2c46)+(-0xeda*-0x1+-0x72f+0x7aa*-0x1)]=_0x111826[0x1f6b+0x2027+-0x3f92]<<0x5*-0x4be+-0x16af+0x2e7a|_0x111826[0x1*-0x11c+0x959*-0x1+0xa76*0x1]<<0x16b+0x2*0xa6+0xab*-0x4|_0x111826[0x24f*-0xb+-0xb*0x33+-0x2*-0xdcc],_0x3af468[_0x161998*(-0x7d8+0x3*-0x64b+0x559*0x5)+(-0x18b6+-0x133*-0x4+0x13ec)]=_0x111826[-0x3*0x135+0xe90+0xaee*-0x1]<<0xc4e+0x74a*0x3+-0xb5d*0x3|_0x111826[0xec7+-0x17b5*-0x1+-0x2678]<<0x1*-0x2239+-0xa33+0x2c77|_0x111826[0x1f6b+0x2112+-0x4*0x101e],_0x3af468[_0x161998*(-0x4*0x41b+-0x1883+0x28f3)+(-0x17*0x165+-0x1861+-0x31*-0x127)]=_0x111826[0x23d9+-0xe6*-0x1b+-0x3c15]<<0x22d1+-0x8ea+-0x19d2|_0x111826[0x85a*-0x1+0x351*0x3+-0x192]<<0x123*0x7+-0x16b4+0x6*0x277|_0x111826[0x2*0xfb3+-0x23b*0x3+-0x18ad],_0x49bbb1>-0x6*0x57f+-0xda8+-0x1*-0x2ea3&&(_0x33aead[_0x161998*(-0x23b6+0x207f*0x1+0x33b*0x1)+(-0x198c+0x2314+0x988*-0x1)]=_0x111826[0x1613*-0x1+-0x1c49+0x3265]<<-0x1fb+0x20d6+0x27*-0xca|_0x111826[0x1805+-0x1457+-0x3a4]<<0x2cc*-0xc+-0x19*-0x49+0x2*0xd3d|_0x111826[-0x641*0x1+0x201*-0x3+0xc4f],_0x33aead[_0x161998*(-0x703+-0x1b54+0x225b)+(0x1b1+0x17d9+-0x1989)]=_0x111826[-0x1229+-0x1541+0x1*0x2776]<<0x22*0x33+-0x538+-0x1d*0xd|_0x111826[-0x8a*-0x35+-0x1de0+-0x1*-0x15b]<<-0x844+-0x259*0x9+0x1d70|_0x111826[-0xde4+-0x3b*0x67+0x25af],_0x33aead[_0x161998*(0xcf*0x21+-0x143f*0x1+0x19b*-0x4)+(0xb27+-0x18b7+0xd92)]=_0x111826[0x2*0x43c+-0xd*0x296+0x1935]<<0xd7*-0x19+-0x1*0xcc5+0x21d9|_0x111826[0xb51*-0x1+-0x254*-0x2+-0x6b9*-0x1]<<-0xad2+0x7*-0x2ff+0x32f*0xa|_0x111826[-0x4*0x553+-0x1a40+0x2f9d*0x1],_0x33aead[_0x161998*(-0x5*-0x21f+0x33d*0x1+-0xdd4)+(0x2143*-0x1+-0x1376+0xf*0x384)]=_0x111826[0xd3e+0xaaa+0x1b*-0xe2]<<0x1b1*-0xb+-0x2ce*-0x3+0x1*0xa46|_0x111826[0x546+0x1c7a+-0x21ad]<<0xb4a+-0x1708+0xbc9*0x1|_0x111826[0x1*-0xfd3+0x986+0x661],_0x49bbb1>-0xff*-0x3+-0x11e9+-0x111*-0xe?(_0x366e34[_0x161998*(0x75f+-0x3b*-0x65+-0x1ea2)+(-0x197e+0x22cb+-0x94d*0x1)]=_0x111826[0x36*-0x4f+0xba2+0x51d*0x1]<<0x7ab+-0x15d8+0xe42|_0x111826[0xbba+-0x192b+0xd87]<<-0x652*0x4+0x576+0x13dd|_0x111826[0x15ab+-0x535*-0x5+0x33*-0xef],_0x366e34[_0x161998*(-0x22ed+0x1*-0x165d+0x394e)+(-0xadd+0x135a+-0x87c)]=_0x111826[-0x1b1e+0x61*-0x4d+0x3863]<<-0x7*0x3bc+0xf8a+0xaaf|_0x111826[-0x18f+0xae1+-0x939]<<-0x2*0xa07+0xaa6+0x1*0x973|_0x111826[-0x177e+-0x5a+0x17f2],_0x366e34[_0x161998*(-0x4*0x412+0xd9b+0x2b1)+(-0x795+-0x1da6+-0x253d*-0x1)]=_0x111826[-0x1*0x3b5+-0x1fcb+0x239b*0x1]<<0x7*-0x529+0x48c+-0x4*-0x7ea|_0x111826[0x19*-0x46+-0x1*-0x151+0x5a1]<<0x24ca+0x1ff3+-0x44b2|_0x111826[-0x26a7*0x1+-0x47a+-0x159f*-0x2],_0x366e34[_0x161998*(-0x13c1+0x265*0xb+0x1d*-0x3a)+(0x4*-0x83f+0x1199+0xf66)]=_0x111826[0x1a*-0xbe+-0xb5d*0x1+0x1ec7]<<0x1fd*0x5+0x22d+-0x3*0x403|_0x111826[-0x19cf*-0x1+-0x1477+-0x1*0x539]<<0x2351*-0x1+0x546+-0x2*-0xf0b|_0x111826[0x2*-0x10b9+0x1*-0x9a7+0x2b39],_0x19b587[_0x161998*(-0xe*-0x47+-0x8*-0x3c+0x23*-0x2a)+(-0xb1b*0x1+-0x1950+0x246b)]=_0x111826[-0x1c44+-0x2de*-0x1+0x1987]<<-0xea9+-0x185*-0x4+0x8aa*0x1|_0x111826[0x10*0x1d8+0x29*0x3+-0x1dd9]<<-0x14ff+-0x1d4b+0x3255|_0x111826[0x9a3+0x29*0xa5+-0x23ed],_0x19b587[_0x161998*(0xcac+0x1c5f+-0x2907)+(-0x1966+0xb*-0x365+0x3ebe)]=_0x111826[0x2466+-0x18ce*0x1+-0x5ba*0x2]<<-0xd3*0x1d+-0x194e+0x314a|_0x111826[0x1af*0x9+0x97d+-0x1*0x187f]<<0x5*0x283+0xdb9+-0x1a3d|_0x111826[0x1*0x8b3+-0x1*-0x20ed+-0x297a],_0x19b587[_0x161998*(-0x1101+0x2507+-0x1a*0xc5)+(-0x1*0x22f8+-0x1*0x16ac+0x5e*0x9d)]=_0x111826[0x8+0x1694+-0x1675]<<-0xa60+-0x154d*0x1+0x1fc2|_0x111826[-0x1*0x1311+-0x227a+-0x35b3*-0x1]<<-0x1*0x109f+0x1305+-0x25b|_0x111826[-0x8db*-0x1+0x1*-0x2ff+-0x5b3],_0x19b587[_0x161998*(-0x17b7+0x1*-0xa1c+0x1*0x21d7)+(0x44*0x20+-0x462+-0x41b)]=_0x111826[0x11ef*0x1+-0x131f+0x15a]<<0x3*0x2fa+-0x1923+-0x1e*-0x8b|_0x111826[-0x10c*0x22+0x1*-0x1f99+0x6*0xb3a]<<-0x537+0xb25*-0x3+-0x11b*-0x23|_0x111826[0x1*0x461+0x932+-0x2f*0x49]):_0x366e34[_0x161998]=_0x111826[0xfb2+0x1f*0x73+-0x26*0xc7]<<0x2*-0x64+0x1221+-0x1144|_0x111826[-0xd*-0x151+0x105*-0x21+0x109e*0x1]<<0x2615+0xa3+0x1*-0x26ad|_0x111826[0x1f82+-0x209b*-0x1+0x5d2*-0xb]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x3af468,'sh4to7Data':_0x33aead,'sh8to11Data':_0x366e34,'sh12to15Data':_0x19b587}},[_0x3af468['buffer'],_0x33aead['buffer'],_0x366e34['buffer'],_0x19b587['buffer']]);},_0x451bbb=()=>{_0xe8a155=null,_0x5b28c7=null,_0x5efc9f=null,_0x588612=null,_0x303c5e=null,_0x573fcb=null,_0x2595ed=null,_0x562587=null;};}class AC extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+bC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x1fe348,_0x15bad8,_0x28a0f2){_0x1fe348['onmessage']=_0x1f4915=>{if(!this['worker'])return;const {data:_0xfedd5b}=_0x1f4915;if(_0xfedd5b['type']===_0x15bad8)switch(_0x15bad8){case'updatedSHD'+'ata1':_0x28a0f2(_0xfedd5b['data']);break;case'updatedCol'+'orData':_0x28a0f2(_0xfedd5b['data']);break;case'updatedTra'+'nsformData':_0x28a0f2(_0xfedd5b);break;}};}['updateSHDa'+'ta1'](_0x47a9e2,_0x4c43e1,_0x4f81f9){var _0x3673a1;return(_0x3673a1=this['worker'])==null||_0x3673a1['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0x47a9e2,'shBands':_0x4c43e1,'SHData':_0x4f81f9}),new Promise(_0x19fb4b=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x3f237b=>{_0x19fb4b(_0x3f237b);});});}async['updateTran'+'sData'](_0x4afee1,_0x171f25,_0x5c4a30,_0x599a15,_0x4e9edd,_0x8e388a,_0x2bf30c,_0x952146){var _0x573b63;return(_0x573b63=this['worker'])==null||_0x573b63['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0x4afee1,'is4D':_0x171f25,'position':_0x5c4a30,'rotation':_0x599a15,'motion':_0x4e9edd,'scale':_0x8e388a,'muT':_0x2bf30c,'tScale':_0x952146}),new Promise(_0x801e80=>{const _0x11391e=_0x183d25=>{_0x801e80(_0x183d25);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x11391e);});}['destroy'](){var _0x3e3603;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x3e3603=this['worker'])==null||_0x3e3603['terminate'](),this['worker']=null);}}const xg=(_0x5c6c98,_0x2d0557)=>{const _0x168e2e=[];for(let _0x3ba1dc=-0x1*-0x1bb4+-0x1e2+-0x295*0xa;_0x3ba1dc<_0x2d0557;++_0x3ba1dc)_0x168e2e['push'](_0x5c6c98['getProp']('f_rest_'+_0x3ba1dc));return _0x168e2e;};class CC extends Rv{constructor(_0x905e57,_0x43322b){super(_0x905e57,_0x43322b),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(0x41*-0x20+0x1d26+-0x1*0x1505)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new AC(),this['assetsMana'+'gerLoadedT'+'ime']=0x1de0+-0xf*-0xd4+0x1*-0x2a47);}['setSceneIn'+'fo'](_0xb83494){this['sceneInfo']['duration']=_0xb83494['duration'],this['sceneInfo']['fps']=_0xb83494['fps'],this['sceneInfo']['totalGauss'+'ians']=_0xb83494['totalGauss'+'ians'],this['sceneInfo']['globalBoun'+'dingBoxMin']=new D(_0xb83494['globalBoun'+'dingBox']['min'][-0x1fc*-0x7+-0x132a*0x1+0x546],_0xb83494['globalBoun'+'dingBox']['min'][0x17e*0xb+-0x1aa5+-0xa*-0x106],_0xb83494['globalBoun'+'dingBox']['min'][0x95a+0x5*-0xe0+0x1a8*-0x3]),this['sceneInfo']['globalBoun'+'dingBoxMax']=new D(_0xb83494['globalBoun'+'dingBox']['max'][-0x20f8+0x1*-0x1281+0x1*0x3379],_0xb83494['globalBoun'+'dingBox']['max'][0x26dd+-0x233*-0x2+-0x2b42],_0xb83494['globalBoun'+'dingBox']['max'][0x1*0xa2e+-0xeb2+0x486]);const _0x5de23e=_0xb83494['globalBoun'+'dingBox']['min'][-0x1a89*-0x1+0x103+-0x1b8c],_0x573b4c=_0xb83494['globalBoun'+'dingBox']['min'][-0x53a*0x5+-0x19b9+0x33dc],_0x382813=_0xb83494['globalBoun'+'dingBox']['min'][0x114e*0x2+-0x187f+-0xa1b],_0x2078aa=_0xb83494['globalBoun'+'dingBox']['max'][0x2*0x192+0x392*-0x1+0x6e],_0x15d8f6=_0xb83494['globalBoun'+'dingBox']['max'][-0x113+0x7*-0x163+0xac9],_0x5b81ea=_0xb83494['globalBoun'+'dingBox']['max'][0x1b12*0x1+0xa7a+-0x258a],_0x36db63=new D((_0x5de23e+_0x2078aa)*(0x3c*-0x1f+0xcee+-0x91*0xa+0.5),(_0x573b4c+_0x15d8f6)*(0x10e0+0x1616+0x1*-0x26f6+0.5),(_0x382813+_0x5b81ea)*(0x8*0xd3+-0x11ff+0xb67+0.5)),_0xc56a5a=new D((_0x2078aa-_0x5de23e)*(0x3*-0x9fa+0x14e0+0x90e+0.5),(_0x15d8f6-_0x573b4c)*(-0x25cf+0xf7*-0x7+0x2c90+0.5),(_0x5b81ea-_0x382813)*(-0x127+0x14*-0x4d+-0x72b*-0x1+0.5)),_0x4a87bc=new De(_0x36db63,_0xc56a5a);this['sceneInfo']['globalBoun'+'dingBox']=_0x4a87bc,this['aabb']=_0x4a87bc;}async['updateData'](){var _0x61a168,_0x38a0bb,_0x40b6c6,_0x4d57f6,_0xee6422,_0x4ec125,_0xa4aa8d,_0x1d2edc,_0x1307df,_0x388795,_0xce29fa;await super['updateData']();const _0x21fcee=this['gsplatData'];if(!_0x21fcee)return;this['is4D']=_0x21fcee['is4D'];const _0x592077=await this['getTransfo'+'rmDataByWo'+'rker'](_0x21fcee);this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0x592077['centers'],this['motion']=_0x592077['motion'],this['tScale']=_0x592077['tScaleArra'+'y'],this['muT']=await _0x21fcee['getMuT'](),this['timeIndex']=await _0x21fcee['getTimeInd'+'ex']();const _0x51bc38=this['evalTextur'+'eSize'](_0x21fcee['numSplats']);this['colorTextu'+'re']?((_0x61a168=this['colorTextu'+'re2'])==null||_0x61a168['destroy'](),(_0x38a0bb=this['transformA'+'Texture2'])==null||_0x38a0bb['destroy'](),(_0x40b6c6=this['transformB'+'Texture2'])==null||_0x40b6c6['destroy'](),(_0x4d57f6=this['transformR'+'Texture2'])==null||_0x4d57f6['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x51bc38),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x51bc38),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x51bc38),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x51bc38),this['is4D']&&((_0xee6422=this['transformM'+'otionTextu'+'re2'])==null||_0xee6422['destroy'](),(_0x4ec125=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x4ec125['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x51bc38),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x51bc38))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0x51bc38),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x51bc38),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0x51bc38),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x51bc38),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0x51bc38),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x51bc38),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x51bc38),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x51bc38),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0x51bc38),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x51bc38),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0x51bc38),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x51bc38))),await this['updateColo'+'rData'](_0x21fcee),await this['updateTran'+'sformFromD'+'ata'](_0x592077),this['shBands']=_0x21fcee['shBands'],this['shBands']>0xd2d+0x37d*-0x2+-0x3*0x211&&(this['sh1to3Text'+'ure']?((_0xa4aa8d=this['sh1to3Text'+'ure2'])==null||_0xa4aa8d['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x51bc38),this['shBands']>0x23*-0xe8+-0x98+0x2051&&((_0x1d2edc=this['sh4to7Text'+'ure2'])==null||_0x1d2edc['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x51bc38),this['shBands']>0x1da2+-0x2a2+0x5*-0x566?((_0x1307df=this['sh8to11Tex'+'ture2'])==null||_0x1307df['destroy'](),(_0x388795=this['sh12to15Te'+'xture2'])==null||_0x388795['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x51bc38),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x51bc38)):((_0xce29fa=this['sh8to11Tex'+'ture2'])==null||_0xce29fa['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x51bc38)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x51bc38),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0x51bc38),this['shBands']>-0x1256*-0x2+-0x3e8+-0x20c3&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0x51bc38),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x51bc38),this['shBands']>0x4*0xf+-0xb3a+0x80*0x16?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0x51bc38),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x51bc38),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0x51bc38),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x51bc38)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0x51bc38),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0x51bc38)))),await this['updateSHDa'+'taByWorker'](_0x21fcee));}['updateText'+'ure'](){this['isDestroye'+'d']||(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x2d6448){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x2d6448}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x1eddaa,_0x4c0fe2,_0x68a417,_0x576324,_0x2d947a,_0x389dfa){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x1eddaa,'timeOption':_0x4c0fe2,'loadedTime':_0x68a417,'asset':_0x576324,'events':_0x2d947a,'seekCB':_0x389dfa}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(-0x4*0x988+-0x627+0x2c47);try{for(;this['appendQueu'+'e']['length']>-0x1e75+0x471+0x1a04;){const _0x2b5fb7=this['appendQueu'+'e']['shift']();_0x2b5fb7['type']==='append'?await this['processApp'+'endTask'](_0x2b5fb7['data']):_0x2b5fb7['type']==='release'&&await this['processRel'+'easeTask'](_0x2b5fb7['data']);}}finally{this['isProcessi'+'ngQueue']=!(-0x15f1*0x1+0x1*0x697+0x1*0xf5b);}}}async['processRel'+'easeTask'](_0xa6c901){const {index:_0x4d18a3}=_0xa6c901;this['isDestroye'+'d']||await this['gsplatData']['releaseSeq'+'Data'](_0x4d18a3);}async['processApp'+'endTask'](_0x364ab0){var _0x4707a3;const {gsplatData:_0x541db9,timeOption:_0xae7a81,loadedTime:_0x41bf27,asset:_0x292b43,events:_0x3c7798,seekCB:_0x13b7a2}=_0x364ab0;!this['gsplatData']||this['isDestroye'+'d']||(globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0xae7a81,this['asset']=_0x292b43,this['assetsMana'+'gerLoadedT'+'ime']=_0x41bf27,this['events']=_0x3c7798,await this['gsplatData']['appendGSpl'+'atData'](_0x541db9,_0x41bf27,_0xae7a81),console['log']('loadTime__'+'__','gsplatDeco'+'dedResourc'+'e\x20gsplatDa'+'ta.appendG'+'SplatData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x1d42+0x1c7d+0xd*-0x471),_0x541db9['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0x541db9['numSplats'])['toFixed'](0x54*0x6+0x1*0x823+-0xa18)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20this.upd'+'ateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x4*0x1ad+0x5*-0x1c4+-0x2a*-0xd),_0x541db9['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await((_0x4707a3=this['gsplatInst'+'ance'])==null?void(0x1*-0x1e4f+-0x12ec+0x313b):_0x4707a3['updateInst'+'anceData'](this,_0x41bf27,_0x13b7a2)),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20updateIn'+'stanceData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x20e3*-0x1+-0xb27*-0x2+-0x372f),_0x541db9['numSplats']));}['fireAssets'+'ManagerTim'+'eIndex'](_0x1d5eb1,_0x5cba53){var _0x4981b7;const _0x4129bd=_0x1d5eb1||this['assetsMana'+'gerLoadedT'+'ime'];(_0x4981b7=this['asset'])==null||_0x4981b7['fire']('setAssetsL'+'oaded',_0x4129bd,_0x5cba53);}['destroy'](){var _0x7aea6a,_0x15e1ab,_0x1b454f,_0x28da23,_0x278186,_0xa28c01,_0x44548a,_0x1a373f,_0x4e43f8,_0x5907cd,_0x28b04f,_0x13f32e,_0x3bd0de,_0x45a833,_0x1d46e1,_0x1d7b7b,_0x42300e,_0x10e958,_0x266089,_0x40f41b,_0x4e6683;(_0x7aea6a=this['updateData'+'Worker'])==null||_0x7aea6a['destroy'](),this['updateData'+'Worker']=void(-0xe2f*0x2+0x18db+0x383),(_0x15e1ab=this['colorTextu'+'re'])==null||_0x15e1ab['destroy'](),(_0x1b454f=this['transformA'+'Texture'])==null||_0x1b454f['destroy'](),(_0x28da23=this['transformB'+'Texture'])==null||_0x28da23['destroy'](),(_0x278186=this['transformR'+'Texture'])==null||_0x278186['destroy'](),(_0xa28c01=this['transformM'+'otionTextu'+'re'])==null||_0xa28c01['destroy'](),(_0x44548a=this['transformL'+'ifecycleTe'+'xture'])==null||_0x44548a['destroy'](),(_0x1a373f=this['sh1to3Text'+'ure'])==null||_0x1a373f['destroy'](),(_0x4e43f8=this['sh4to7Text'+'ure'])==null||_0x4e43f8['destroy'](),(_0x5907cd=this['sh8to11Tex'+'ture'])==null||_0x5907cd['destroy'](),(_0x28b04f=this['sh12to15Te'+'xture'])==null||_0x28b04f['destroy'](),(_0x13f32e=this['colorTextu'+'re2'])==null||_0x13f32e['destroy'](),(_0x3bd0de=this['transformA'+'Texture2'])==null||_0x3bd0de['destroy'](),(_0x45a833=this['transformB'+'Texture2'])==null||_0x45a833['destroy'](),(_0x1d46e1=this['transformR'+'Texture2'])==null||_0x1d46e1['destroy'](),(_0x1d7b7b=this['transformM'+'otionTextu'+'re2'])==null||_0x1d7b7b['destroy'](),(_0x42300e=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x42300e['destroy'](),(_0x10e958=this['sh1to3Text'+'ure2'])==null||_0x10e958['destroy'](),(_0x266089=this['sh4to7Text'+'ure2'])==null||_0x266089['destroy'](),(_0x40f41b=this['sh8to11Tex'+'ture2'])==null||_0x40f41b['destroy'](),(_0x4e6683=this['sh12to15Te'+'xture2'])==null||_0x4e6683['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x3a29b7){var _0x56be20,_0x275228,_0x394b0a,_0x2ca403,_0x3ac4cf,_0x3b6be7,_0x5ea7d2,_0x86b1e4,_0x4ae382,_0x20702d,_0x4f5b00,_0x54e0d8,_0x4fc455;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0x32094e=((_0x56be20=_0x3a29b7['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(-0x1175+0x18+0x379*0x5):_0x56be20['data'])??0x1*0x1bc5+0x1b58+-0x371d,_0x1f35e7=((_0x275228=_0x3a29b7['getParamet'+'er']('uSplatScal'+'e'))==null?void(-0x37*0x3d+0xafb*0x3+-0x2*0x9eb):_0x275228['data'])??0x72e*0x2+0x155e+-0x5*0x725,_0x4f3201=((_0x394b0a=_0x3a29b7['getParamet'+'er']('uSaturatio'+'n'))==null?void(-0x15*-0x1cb+-0xe2*-0x11+-0x34a9):_0x394b0a['data'])??-0x1ec3+0x11df+-0xce5*-0x1,_0x416255=((_0x2ca403=_0x3a29b7['getParamet'+'er']('uHueOffset'))==null?void(-0x23bd+-0x26c9+-0x2*-0x2543):_0x2ca403['data'])??0x86*0x29+-0x183+0x1*-0x13f3,_0x2825c7=((_0x3ac4cf=_0x3a29b7['getParamet'+'er']('uInvertOpa'+'city'))==null?void(0x1611+-0x26f6*-0x1+-0x3d07):_0x3ac4cf['data'])??-0xf*0x1a7+-0x1f5d+0x3826,_0xfe994=((_0x3b6be7=_0x3a29b7['getParamet'+'er']('uOpacity'))==null?void(-0x1*-0x1165+-0x1ad9+-0x25d*-0x4):_0x3b6be7['data'])??-0x22b2+0xe6b*-0x1+0x311e,_0x3e16a6=((_0x5ea7d2=_0x3a29b7['getParamet'+'er']('clrOffset'))==null?void(-0x1cf*0x9+-0x255f+-0x7e*-0x6d):_0x5ea7d2['data'])??[0x32e*-0x5+-0x2487+0x346d,-0x1e4f+-0x16d3+-0x11b6*-0x3,-0x2*-0x995+0x1ec5+-0x1*0x31ef,0x21d8+0x10*0x1ac+0x3c97*-0x1],_0x52c9a9=((_0x86b1e4=_0x3a29b7['getParamet'+'er']('clrScale'))==null?void(0xc+-0x2*-0xaa2+-0x1550):_0x86b1e4['data'])??[-0x11c*0x3+-0xab4+0xe09,-0x1*-0x1c1+-0x13d7+0x1217,-0x23*0x10d+-0x167f*0x1+0x3b47,0x8c6*-0x1+0x1*-0x15c9+0x1e90],_0x16b476=((_0x4ae382=_0x3a29b7['getParamet'+'er']('uShapeN'))==null?void(-0x2*-0x66b+0x2*-0xef9+-0x88e*-0x2):_0x4ae382['data'])??0x4*0x1ce+-0xf07+0x7cf,_0x1d9090=((_0x20702d=_0x3a29b7['getParamet'+'er']('mode'))==null?void(0xd*-0xa9+-0x1*0x685+-0xf1a*-0x1):_0x20702d['data'])??-0x1e60+0x125d+0xc03,_0x630367=((_0x4f5b00=_0x3a29b7['getParamet'+'er']('ringSize'))==null?void(0xb61+0x9a6+-0x1507):_0x4f5b00['data'])??0xd*-0x80+0xe25+-0x7a5,_0x57fbed=((_0x54e0d8=_0x3a29b7['defines'])==null?void(-0x874+-0x13d0+-0x711*-0x4):_0x54e0d8['get']('uOpenAnim'))??'0',_0x4b5f36=((_0x4fc455=_0x3a29b7['defines'])==null?void(-0x4d6+-0x2373+0x2849):_0x4fc455['get']('uControlCo'+'lorMode'))??'0';_0x3a29b7['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x3a29b7['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x3a29b7['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x3a29b7['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x3a29b7['setParamet'+'er']('uSplatScal'+'e',_0x1f35e7),_0x3a29b7['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0x32094e),_0x3a29b7['setParamet'+'er']('uSaturatio'+'n',_0x4f3201),_0x3a29b7['setParamet'+'er']('uHueOffset',_0x416255),_0x3a29b7['setParamet'+'er']('uInvertOpa'+'city',_0x2825c7),_0x3a29b7['setParamet'+'er']('uOpacity',_0xfe994),_0x3a29b7['setParamet'+'er']('clrOffset',_0x3e16a6),_0x3a29b7['setParamet'+'er']('clrScale',_0x52c9a9),_0x3a29b7['setParamet'+'er']('uShapeN',_0x16b476),_0x3a29b7['setParamet'+'er']('mode',_0x1d9090),_0x3a29b7['setParamet'+'er']('ringSize',_0x630367),_0x3a29b7['setParamet'+'er']('prerenderC'+'Time',0x1*0x1b21+0x78d*0x1+0x1*-0x22ae),_0x3a29b7['setParamet'+'er']('renderSpac'+'e',-0x1010+-0x5*0x71b+0x33a1),_0x3a29b7['setParamet'+'er']('endSpace',0x1b9e+0x31*0xc2+-0x40b6),_0x3a29b7['setDefine']('uOpenAnim',_0x57fbed),_0x3a29b7['setDefine']('uControlCo'+'lorMode',_0x4b5f36),this['transformM'+'otionTextu'+'re']&&_0x3a29b7['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x3a29b7['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x3a29b7['setDefine']('SH_BANDS',this['shBands']),_0x3a29b7['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x3a29b7['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x3a29b7['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x3a29b7['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x3a29b7['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0xbf689){const _0x13ffc1=Math['ceil'](Math['sqrt'](_0xbf689)),_0x24dab0=Math['ceil'](_0xbf689/_0x13ffc1);return new J(_0x13ffc1,_0x24dab0);}async['updateColo'+'rData'](_0xaf0cb9){var _0x541e7e;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x5be1e7=this['colorTextu'+'re2'];if(!_0x5be1e7||this['isDestroye'+'d'])return;let _0x216d80=(_0x541e7e=_0xaf0cb9['transformD'+'ata'])==null?void(-0x1443+-0x1*0x8fe+0x1d41):_0x541e7e['dataColor'];if(!_0x216d80){const _0x493a15=_0xaf0cb9['getProp']('color_opac'+'ity');_0x216d80=new Uint16Array(_0x493a15['buffer']['slice']());}await this['idleUpdate'+'TexturePro'+'mise'](_0x5be1e7,_0x216d80);}async['getTransfo'+'rmDataByWo'+'rker'](_0x24e5d3){var _0x4ee4fa;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x4ee4fa=_0x24e5d3['transformD'+'ata'])!=null&&_0x4ee4fa['dataCenter'+'s'])return{'centers':_0x24e5d3['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0x24e5d3['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0x24e5d3['transformD'+'ata']['dataScale'],'dataRotation':_0x24e5d3['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0x24e5d3['transformD'+'ata']['dataMotion'],'dataTime':_0x24e5d3['transformD'+'ata']['dataTime'],'motion':_0x24e5d3['transformD'+'ata']['motion'],'tScaleArray':_0x24e5d3['transformD'+'ata']['tScaleArra'+'y']};const _0x1f1f8b=_0x24e5d3['getProp']('position'),_0x3dd3b4=_0x24e5d3['getProp']('motion'),_0x4f0bf4=_0x24e5d3['getProp']('rotation'),_0x386874=_0x24e5d3['getProp']('scale'),_0xd4dd09=_0x24e5d3['getProp']('t'),_0x1a51e9=_0x24e5d3['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0x24e5d3['numSplats'],this['is4D'],_0x1f1f8b,_0x4f0bf4,_0x3dd3b4,_0x386874,_0xd4dd09,_0x1a51e9);}async['updateTran'+'sformFromD'+'ata'](_0x258ff0){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0x258ff0['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0x258ff0['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0x258ff0['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0x258ff0['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0x258ff0['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x35d7c6,_0x2c2e67){if(!this['isDestroye'+'d'])return new Promise(_0x26d437=>{requestIdleCallback(()=>{const _0x587900=_0x35d7c6['lock']();_0x587900==null||_0x587900['set'](_0x2c2e67),_0x35d7c6['unlock'](),_0x26d437(!(-0x190f+0x159a+-0xf*-0x3b));},{'timeout':0x12c});});}async['updateSHDa'+'ta'](_0x14cb30){var _0xbd571a,_0x462ea2,_0x3c38ba,_0x480e26,_0x3aecae,_0x18009b,_0x31caf2,_0x3b4b14;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0x33aa7d=(_0xbd571a=this['sh1to3Text'+'ure2'])==null?void(0x1*0x1b8d+-0x8d7+0x3be*-0x5):_0xbd571a['lock'](),_0x40cb78=(_0x462ea2=this['sh4to7Text'+'ure2'])==null?void(0xa5*0x1f+0xbc7+-0x1fc2):_0x462ea2['lock'](),_0x3542dd=(_0x3c38ba=this['sh8to11Tex'+'ture2'])==null?void(-0x307*-0x2+0x1e12+0x484*-0x8):_0x3c38ba['lock'](),_0x3276ad=(_0x480e26=this['sh12to15Te'+'xture2'])==null?void(-0x97*0x7+0xf*0xa2+-0x55d*0x1):_0x480e26['lock'](),_0x259a92={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x3c706a=xg(_0x14cb30,_0x259a92*(0x9c2*-0x2+-0x647+0x2*0xce7)),_0x51b038=-0x1b8+0x6+0x9b1,_0x771321=-0x25bf*0x1+-0xbc7+0x3585,_0x2cbc9e=new Float32Array(-0x1*0x11f9+0x1ed1*-0x1+0x1*0x30cb),_0x118888=new Uint32Array(_0x2cbc9e['buffer']),_0x5c748a=new Array(_0x259a92*(-0x2465+-0x17f0+0x78b*0x8))['fill'](0x1*-0xd5b+-0x1948+0x26a3);for(let _0x158d41=-0x1320+-0x149a+0x2a6*0xf;_0x158d41<_0x14cb30['numSplats'];++_0x158d41){for(let _0x162ccb=0x11c1+-0xf4b+0x7e*-0x5;_0x162ccb<_0x259a92;++_0x162ccb)_0x5c748a[_0x162ccb*(-0xd*-0x207+0x2077+-0x3acf)]=_0x3c706a[_0x162ccb][_0x158d41],_0x5c748a[_0x162ccb*(0x5af+0x4*0x336+-0x1284)+(0x1a6a+0x191e+-0x3387)]=_0x3c706a[_0x162ccb+_0x259a92][_0x158d41],_0x5c748a[_0x162ccb*(-0x5*-0x7b7+-0x1bc3+-0xacd)+(-0x16ea*0x1+-0x1c5*-0x10+0xf*-0x5c)]=_0x3c706a[_0x162ccb+_0x259a92*(0x5*-0x97+-0x38c+-0x681*-0x1)][_0x158d41];let _0xacc76c=_0x5c748a[0x1ca+-0x21*0x13+0xa9];for(let _0x492647=-0x1cd9+0x1a04+-0x3*-0xf2;_0x492647<_0x259a92*(0xb*-0x14b+0x11a0+-0x364);++_0x492647)_0xacc76c=Math['max'](_0xacc76c,Math['abs'](_0x5c748a[_0x492647]));if(_0xacc76c!==-0x1d36+0x1f1*-0x7+-0x2acd*-0x1){for(let _0x349c6b=0x239+-0x1383+0x2*0x8a5;_0x349c6b<_0x259a92;++_0x349c6b)_0x5c748a[_0x349c6b*(0x1*-0x1765+0x12bf+0x4a9*0x1)+(-0x1*-0x1b51+0x6*-0x11a+-0x14b5)]=Math['max'](0x2*-0x8e9+-0x31d*0x1+0x14ef,Math['min'](_0x51b038,Math['floor']((_0x5c748a[_0x349c6b*(0x7*0x105+-0x9*0x1a+0x636*-0x1)+(-0x1f94*0x1+0x38e+-0xe03*-0x2)]/_0xacc76c*(-0x1c4b+0x1c7f+-0xd*0x4+0.5)+(-0xcf8*0x2+-0x2070+0x20*0x1d3+0.5))*_0x51b038+(-0x1a68+-0x9*-0x17b+0xd15+0.5)))),_0x5c748a[_0x349c6b*(-0xddc+-0x334+-0x3*-0x5b1)+(-0x1baa*-0x1+0xe0f+-0x29b8)]=Math['max'](0x83f+-0x2682+-0x7f*-0x3d,Math['min'](_0x771321,Math['floor']((_0x5c748a[_0x349c6b*(0x9*-0xff+-0x24e7+0x1b3*0x1b)+(-0x1be9*-0x1+-0x4d8+0x3d8*-0x6)]/_0xacc76c*(-0x25c5+-0x1*-0x1beb+-0x61*-0x1a+0.5)+(-0x2323+0x4*-0x8f5+-0x1eb*-0x25+0.5))*_0x771321+(-0x1*-0x1079+-0x126a+0x1f1+0.5)))),_0x5c748a[_0x349c6b*(0x3*-0x913+0xcaa*-0x1+0x27e6)+(-0x163a+0xe06+0x836)]=Math['max'](-0x1527+0xfa2+-0x3*-0x1d7,Math['min'](_0x51b038,Math['floor']((_0x5c748a[_0x349c6b*(-0xed*0x29+-0xb7*0x13+0xf9*0x35)+(-0x1c24+-0x23d8+0x3ffe)]/_0xacc76c*(-0x84a+0xb96+0xd3*-0x4+0.5)+(-0x11*-0x1eb+-0x53d+-0xe2*0x1f+0.5))*_0x51b038+(-0x1fa1+-0x1f3f+-0x2*-0x1f70+0.5))));_0x2cbc9e[0x1*0x1951+0x21*-0x65+-0xc4c]=_0xacc76c,_0x33aa7d[_0x158d41*(0x1ee6+-0x1*0x15b6+0x496*-0x2)+(-0x39*0x6f+-0x5*-0x454+0x313)]=_0x118888[0xa7*0x16+0xc98+-0xd79*0x2],_0x33aa7d[_0x158d41*(0x989+-0x8db*0x2+0x1*0x831)+(0x87c+-0x127b+0xa00)]=_0x5c748a[-0xf64+0x1924+-0x270*0x4]<<-0x784+-0x1c53*0x1+0x23ec|_0x5c748a[-0x11bd+0xaa9+0x7*0x103]<<-0x1*-0x4bf+0x2175+0x2629*-0x1|_0x5c748a[0x174c+0x1*-0x1733+0x17*-0x1],_0x33aa7d[_0x158d41*(-0x1a4+-0x45*-0x8d+-0x5*0x745)+(-0xa6*-0x23+0x1*0x2285+0xb71*-0x5)]=_0x5c748a[0x21e3+-0x3*-0x7b3+-0x38f9]<<0x23bc*0x1+-0x1*-0x24fd+-0x2*0x2452|_0x5c748a[0x1207+-0x263f+-0xa*-0x206]<<0x246d+-0xb14+-0x194e|_0x5c748a[0xbb3+-0x24e6+0xc9c*0x2],_0x33aa7d[_0x158d41*(-0x1*0x1633+-0x28a*-0x2+0x29*0x6b)+(-0x1d26+-0x5a*0x1c+0x2701)]=_0x5c748a[-0x2f*0x2f+-0x2cb*-0x2+0x311]<<0x2*-0x99b+0x1b6b*-0x1+0x2eb6|_0x5c748a[0xf1c+-0xef3*-0x1+0x1f*-0xf8]<<0x3e8+0x1101+-0x2*0xa6f|_0x5c748a[-0x5*-0x153+0x1*-0x25f0+0x5*0x645],this['shBands']>0x2063+0x237a+-0x43dc&&(_0x40cb78[_0x158d41*(0x1*-0x959+-0x1*0xca5+0x1602)+(-0x2e*0x1+-0x1aa5*-0x1+0x19*-0x10f)]=_0x5c748a[0x20a5+-0x1d3b+-0x5*0xad]<<0x4f*0x7+-0x609*0x4+-0x4*-0x584|_0x5c748a[-0x543+-0x12*-0x4e+-0x2f]<<0x13d*-0x13+-0x15a*0x5+0x6*0x50e|_0x5c748a[-0x19+0x164d+-0x5d*0x3d],_0x40cb78[_0x158d41*(0x123d+0x1d0f+-0x2f48)+(-0x648+0x1*-0x2bd+0x906)]=_0x5c748a[-0x14e6+0x25be+-0x10cc]<<-0x24d3+-0x19a3+-0x1*-0x3e8b|_0x5c748a[0x26f1+0xa*0x18d+-0xd3*0x42]<<0x178*0x13+0x1e6a+0x3*-0x136d|_0x5c748a[-0x1*0xe16+-0x50*0x17+0x1554],_0x40cb78[_0x158d41*(0xe*0x212+-0x1236+-0xac2)+(-0xd53*-0x2+0x6fb+-0x219f)]=_0x5c748a[0x242c+0x9ec+-0x2e09*0x1]<<-0xb7*-0x36+-0x30*0xbc+-0x345|_0x5c748a[-0x21f7+0x1d*0x41+0x1aaa*0x1]<<-0x1*-0x5b6+-0x1314+0xd69|_0x5c748a[-0x1*0x1900+0x8*-0x415+-0x39b9*-0x1],_0x40cb78[_0x158d41*(-0x1b8a+0x1c40+-0x2*0x59)+(-0x104b+0x1f84+-0xf36)]=_0x5c748a[0xba5+-0x16b1*-0x1+0x56*-0x66]<<0xac5+-0x1d95+-0x12e5*-0x1|_0x5c748a[0x15*-0x185+0x7de*-0x3+0x3796]<<0x2db+-0x554*-0x5+-0x1d74|_0x5c748a[-0x1b2e+0x1*0x1a1+0x88b*0x3],this['shBands']>0x1d5b+0x1759+-0x34b2?(_0x3542dd[_0x158d41*(0x1918+-0x45*-0x4b+-0x2d4b)+(-0x20f*-0xb+0x16df+-0x2d84)]=_0x5c748a[0x204c+-0x1*0x47b+0xdde*-0x2]<<0x2*-0xa97+-0x293*-0x1+-0x12b*-0x10|_0x5c748a[0x40f*0x2+-0x3b2+-0x172*0x3]<<-0x1dbb+-0x7*0x34a+0x34cc|_0x5c748a[-0x2ae+-0x22c7+0x42c*0x9],_0x3542dd[_0x158d41*(0xb2d*-0x2+-0x10aa+0x2*0x1384)+(0x1f4c*0x1+-0x1783+-0xc*0xa6)]=_0x5c748a[0x122*0x2+-0xed6+-0x655*-0x2]<<-0x13e8+-0x243*-0x9+-0x1*0x5e|_0x5c748a[-0x494+-0x1018+0x14c5]<<0x1b*-0x15d+0x95*0x1a+-0x22c*-0xa|_0x5c748a[-0x3fb*-0x8+-0xdc7+-0x11f7],_0x3542dd[_0x158d41*(-0x19*0xd7+-0x1b92+0x3095)+(0x92e+-0x7f*-0x13+-0x1299)]=_0x5c748a[0x1d0d+-0x1422+-0x8d0]<<-0x12b2+0x1*0x325+0xfa2|_0x5c748a[-0x8*0x21b+-0x22f5+0x89*0x61]<<-0x7ee*0x1+-0x24a3+0x2c9c|_0x5c748a[-0x8b*-0x2c+0x2168*0x1+-0x392f],_0x3542dd[_0x158d41*(-0x55c+0x494*-0x3+-0x4*-0x4c7)+(0x1cd7+0x17b1+-0x3485)]=_0x5c748a[0x180c+0x1417*0x1+-0x1*0x2c05]<<-0x9e3+0xb*-0x59+0xdcb|_0x5c748a[0x1744+0x1253*0x1+-0x14bc*0x2]<<-0x2*0xb7+0x8d6+0x41*-0x1d|_0x5c748a[-0xf*-0x166+-0x1*0x287+0x1253*-0x1],_0x3276ad[_0x158d41*(0x1*0x1fe1+-0x1*0xdb1+0x1*-0x122c)+(0xc2d*-0x1+-0x146b+0x2098)]=_0x5c748a[0x1fb*0x5+-0x22*0x33+0x8*-0x60]<<0x198c+-0xbfb*0x1+-0x2*0x6be|_0x5c748a[0xa0d+0xdd8+-0x17c3]<<-0x5*-0x733+-0xee4+0x1*-0x1510|_0x5c748a[0x13f3+-0x649*-0x1+0x83*-0x33],_0x3276ad[_0x158d41*(0xc15+-0x19*-0xc1+-0x1eea)+(-0x60a+0x8c2+-0x2b7)]=_0x5c748a[0x1084+-0x1*-0x621+-0x7*0x337]<<0x1d3c+0x1223+-0x2f4a|_0x5c748a[-0x1fe9*0x1+-0x10e2+0x10*0x30f]<<0x1a4b+-0x5*0x77+-0x17ed|_0x5c748a[-0x1eb*0x1+-0x4a*-0x4f+-0x14c5],_0x3276ad[_0x158d41*(0x5*-0x28+0x1*-0xa8a+0xb56)+(0x197a+-0x355+0x1623*-0x1)]=_0x5c748a[0x5*-0x722+-0x223d+-0x7a*-0x93]<<0x1*0x1fad+-0x16a2*0x1+-0x1f*0x4a|_0x5c748a[0x2400+0x252c+-0x4904]<<0xa90+0xfdd+0xb*-0x266|_0x5c748a[0xb02+0x1549+0x2022*-0x1],_0x3276ad[_0x158d41*(-0x1a35+0x1*-0x137a+0x2db3*0x1)+(-0x16e0+-0x553*0x1+-0x1*-0x1c36)]=_0x5c748a[-0x57a+0x8c+0x518]<<-0x1385+-0x3*-0x655+-0x9b*-0x1|_0x5c748a[0x6*-0x47+0x1173+-0xf9e]<<-0x20e9+-0x11c1+0x32b5|_0x5c748a[-0x1423*-0x1+0x1676+-0x2a6d]):_0x3542dd[_0x158d41]=_0x5c748a[0x20eb+0x115c+-0x3232]<<0x1b22+-0xf2*0x2+-0x1929|_0x5c748a[0x6*-0x3bc+-0x151*-0x2+0x13dc]<<-0x1e33+0xb*0x10f+0x1299|_0x5c748a[-0x1d92+-0xac*0x2+0x1f01]);}}(_0x3aecae=this['sh1to3Text'+'ure2'])==null||_0x3aecae['unlock'](),(_0x18009b=this['sh4to7Text'+'ure2'])==null||_0x18009b['unlock'](),(_0x31caf2=this['sh8to11Tex'+'ture2'])==null||_0x31caf2['unlock'](),(_0x3b4b14=this['sh12to15Te'+'xture2'])==null||_0x3b4b14['unlock']();}async['updateSHDa'+'taByWorker'](_0x396c4e){var _0x1a512e,_0x27d49e,_0x4e1d21,_0xa70f75,_0x11b41;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x4dcd11={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0x1e2c8a,_0x27dd3e,_0x4ec6fe,_0x51d16d;if((_0x1a512e=_0x396c4e['transformD'+'ata'])!=null&&_0x1a512e['sh1to3Data'])_0x1e2c8a=(_0x27d49e=_0x396c4e['transformD'+'ata'])==null?void(0x1*0x1aed+-0x1683+-0x46a):_0x27d49e['sh1to3Data'],_0x27dd3e=(_0x4e1d21=_0x396c4e['transformD'+'ata'])==null?void(0x11*-0x1be+0x4*0x1d2+-0x772*-0x3):_0x4e1d21['sh4to7Data'],_0x4ec6fe=(_0xa70f75=_0x396c4e['transformD'+'ata'])==null?void(-0x21af+-0x8*-0x18d+-0x1a3*-0xd):_0xa70f75['sh8to11Dat'+'a'],_0x51d16d=(_0x11b41=_0x396c4e['transformD'+'ata'])==null?void(0xad9*0x1+-0x4a9*0x7+-0x1*-0x15c6):_0x11b41['sh12to15Da'+'ta'];else{const _0x5aa9ad=xg(_0x396c4e,_0x4dcd11*(-0x2ad+0x1fc0+0x7c*-0x3c)),_0x5eca93=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0x396c4e['numSplats'],this['shBands'],_0x5aa9ad);_0x1e2c8a=_0x5eca93['sh1to3Data'],_0x27dd3e=_0x5eca93['sh4to7Data'],_0x4ec6fe=_0x5eca93['sh8to11Dat'+'a'],_0x51d16d=_0x5eca93['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0x1e2c8a),this['shBands']>-0x227e+0x172d*0x1+0xb52&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0x27dd3e),this['shBands']>0x27a+0x1e73+-0x20eb?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x4ec6fe),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0x51d16d)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x4ec6fe));}}const PC='FILL_WINDO'+'W',Tg='KEEP_ASPEC'+'T',wg='AUTO',MC='FIXED';let Ov;function Ms(){return Ov;}function _u(_0x1f38c0){Ov=_0x1f38c0;}class DC{constructor(){h(this,'renderPass'+'es',[]),h(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x39331f){w['assert'](_0x39331f),_0x39331f['frameUpdat'+'e']();const _0x1fba4b=_0x39331f['beforePass'+'es'];for(let _0x342edc=-0x18a3+0x1*0xbfb+0x5*0x288;_0x342edc<_0x1fba4b['length'];_0x342edc++){const _0x3372fd=_0x1fba4b[_0x342edc];_0x3372fd['enabled']&&this['addRenderP'+'ass'](_0x3372fd);}_0x39331f['enabled']&&this['renderPass'+'es']['push'](_0x39331f);const _0x2baa0e=_0x39331f['afterPasse'+'s'];for(let _0x6d9aa6=0x23f1+0x1bf0+0x3fe1*-0x1;_0x6d9aa6<_0x2baa0e['length'];_0x6d9aa6++){const _0x2d6532=_0x2baa0e[_0x6d9aa6];_0x2d6532['enabled']&&this['addRenderP'+'ass'](_0x2d6532);}}['reset'](){this['renderPass'+'es']['length']=0x2e9*0xa+0x13b8+0x30d2*-0x1;}['compile'](){const _0x24cb78=this['renderTarg'+'etMap'],_0x54a1e0=this['renderPass'+'es'];for(let _0x517def=0x1d9c+-0x207c+0x2e0;_0x517def<_0x54a1e0['length'];_0x517def++){const _0x4cd21f=_0x54a1e0[_0x517def],_0x281f2c=_0x4cd21f['renderTarg'+'et'];if(_0x281f2c!==void(-0x9*0x189+0x155f*0x1+-0x78e)){const _0x2a0a54=_0x24cb78['get'](_0x281f2c);if(_0x2a0a54){const _0x2a05f5=_0x4cd21f['colorArray'+'Ops']['length'];for(let _0x3dfe65=0x3*0xcfc+0x1*0x7ae+-0x2ea2;_0x3dfe65<_0x2a05f5;_0x3dfe65++)_0x4cd21f['colorArray'+'Ops'][_0x3dfe65]['clear']||(_0x2a0a54['colorArray'+'Ops'][_0x3dfe65]['store']=!(-0x20e4+0x832*0x4+0x1c));_0x4cd21f['depthStenc'+'ilOps']['clearDepth']||(_0x2a0a54['depthStenc'+'ilOps']['storeDepth']=!(0xd8c+0x1*0x184d+0x25d9*-0x1)),_0x4cd21f['depthStenc'+'ilOps']['clearStenc'+'il']||(_0x2a0a54['depthStenc'+'ilOps']['storeStenc'+'il']=!(0x1edd+0x748*-0x3+-0x905*0x1));}_0x24cb78['set'](_0x281f2c,_0x4cd21f);}}for(let _0x1ef817=0x26b9+0x1024+0x36dd*-0x1;_0x1ef817<_0x54a1e0['length']-(-0x163f+0x1c07+-0x57*0x11);_0x1ef817++){const _0xbfd635=_0x54a1e0[_0x1ef817],_0x118284=_0xbfd635['renderTarg'+'et'],_0xbbcf63=_0x54a1e0[_0x1ef817+(-0xc5*0x9+-0x18bf+-0x9f*-0x33)],_0x3a3df3=_0xbbcf63['renderTarg'+'et'];_0x118284!==_0x3a3df3||_0x118284===void(-0x1bae+0x1aa5+0x109)||_0xbbcf63['depthStenc'+'ilOps']['clearDepth']||_0xbbcf63['depthStenc'+'ilOps']['clearStenc'+'il']||_0xbbcf63['colorArray'+'Ops']['some'](_0x170937=>_0x170937['clear'])||_0xbfd635['afterPasse'+'s']['length']>0x827+0x2*0x3a9+-0xf79||_0xbbcf63['beforePass'+'es']['length']>-0x21*-0x67+0x89*-0x2b+0x9bc||(_0xbfd635['_skipEnd']=!(0x1262+0x58*0x50+-0x2de2),_0xbbcf63['_skipStart']=!(-0x299+0x6d*-0x11+0x9d6));}let _0x386915=null,_0x2dc48f=null;for(let _0x284b5d=0xf58*0x2+-0x14d5+-0x57*0x1d;_0x284b5d<_0x54a1e0['length'];_0x284b5d++){const _0x3a4f7b=_0x54a1e0[_0x284b5d],_0x3ce2d0=_0x3a4f7b['renderTarg'+'et'],_0xbb8788=_0x3ce2d0==null?void(0x1700+0xa69+-0x2169):_0x3ce2d0['colorBuffe'+'r'];if(_0xbb8788!=null&&_0xbb8788['cubemap']){if(_0x386915===_0xbb8788){const _0x3ee1e4=_0x2dc48f['colorArray'+'Ops']['length'];for(let _0x29c5f9=-0x1*0x14e3+-0x19cb+0x5*0x956;_0x29c5f9<_0x3ee1e4;_0x29c5f9++)_0x2dc48f['colorArray'+'Ops'][_0x29c5f9]['mipmaps']=!(0x9*0x88+-0x20f*0xe+0x4cf*0x5);}_0x386915=_0x3ce2d0['colorBuffe'+'r'],_0x2dc48f=_0x3a4f7b;}else _0x3a4f7b['requiresCu'+'bemaps']&&(_0x386915=null,_0x2dc48f=null);}_0x24cb78['clear']();}['render'](_0x4d1e25){this['compile']();const _0x39a3f8=this['renderPass'+'es'];for(let _0x3fadcb=0x509+0x1a*-0x4c+0x2af;_0x3fadcb<_0x39a3f8['length'];_0x3fadcb++)_0x39a3f8[_0x3fadcb]['render']();}}class IC{constructor(_0x552853,_0x561bae){this['texture0']=_0x552853,this['texture1']=_0x561bae;}['destroy'](){var _0x3809f8,_0x9815be;(_0x3809f8=this['texture0'])==null||_0x3809f8['destroy'](),(_0x9815be=this['texture1'])==null||_0x9815be['destroy']();}}const Eg=new Kt();class ia{static['createText'+'ure'](_0x7835c1,_0xca7879,_0x4f8ed3,_0x512ceb=''){return new _e(_0x7835c1,{'name':'AreaLightL'+'UT'+_0x512ceb,'width':_0x4f8ed3,'height':_0x4f8ed3,'format':_0xca7879,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':vt,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(0x1264+0x2574+0xb2b*-0x5)});}static['applyTextu'+'res'](_0x4a3c14,_0x2046cf,_0x560e0a){Eg['remove'](_0x4a3c14),Eg['get'](_0x4a3c14,()=>new IC(_0x2046cf,_0x2046cf===_0x560e0a?null:_0x560e0a)),_0x4a3c14['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x2046cf),_0x4a3c14['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x560e0a);}static['createPlac'+'eholder'](_0x567ab8){const _0x311316=ia['createText'+'ure'](_0x567ab8,nt,0xb7*0x10+0x79d*0x4+-0xdf6*0x3,'placeholde'+'r');_0x311316['lock']()['fill'](0x49*0xd+0x50*0xc+-0x775),_0x311316['unlock'](),ia['applyTextu'+'res'](_0x567ab8,_0x311316,_0x311316);}static['set'](_0x3835ee,_0x4cb8f3,_0x31966f){function _0x48b280(_0x1c4340,_0x486239,_0x37f12a){const _0x4cd67=ia['createText'+'ure'](_0x1c4340,_0x37f12a,-0x11c*-0x19+-0x6cf+-0x43*0x4f);return _0x4cd67['lock']()['set'](_0x486239),_0x4cd67['unlock'](),_0x4cd67;}function _0x46b2bf(_0x45c929){const _0x363096=_0x45c929['length'],_0x82574a=new Uint16Array(_0x363096),_0x33488e=Mn['float2Half'];for(let _0x393dbd=-0x2*-0x836+0x1b4d+-0x2bb9;_0x393dbd<_0x363096;_0x393dbd++)_0x82574a[_0x393dbd]=_0x33488e(_0x45c929[_0x393dbd]);return _0x82574a;}const _0x3c60c2=_0x4cb8f3,_0x39a585=_0x31966f,_0x4756ff=_0x46b2bf(_0x3c60c2),_0x1b0af4=_0x46b2bf(_0x39a585),_0x44276e=_0x48b280(_0x3835ee,_0x4756ff,nt),_0x2661a7=_0x48b280(_0x3835ee,_0x1b0af4,nt);ia['applyTextu'+'res'](_0x3835ee,_0x44276e,_0x2661a7);}}const Ph='en-US',Mh={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},Sm={};function Dr(_0x50b9aa,_0x276cb5){for(let _0x6c676b=-0x1129+0xdb1+0x378,_0x4ec6a3=_0x50b9aa['length'];_0x6c676b<_0x4ec6a3;_0x6c676b++)Sm[_0x50b9aa[_0x6c676b]]=_0x276cb5;}function Oi(_0x4888a4){const _0x9a81be=_0x4888a4['indexOf']('-');return _0x9a81be!==-(-0x267*-0x4+-0x1a4d+0x859*0x2)?_0x4888a4['substring'](0x101+-0x16*-0x1ab+-0x3*0xc91,_0x9a81be):_0x4888a4;}function LC(_0x5b6602,_0x457da6){const _0x1c9fa1=_0x5b6602['indexOf']('-');return _0x1c9fa1!==-(0x11*-0x193+-0x1e81+0x1*0x3945)?_0x457da6+_0x5b6602['substring'](_0x1c9fa1):_0x457da6;}function Fv(_0x3098c3,_0x264d78){if(_0x264d78[_0x3098c3])return _0x3098c3;let _0x2e9487=Mh[_0x3098c3];if(_0x2e9487&&_0x264d78[_0x2e9487])return _0x2e9487;const _0x265a7a=Oi(_0x3098c3);return _0x2e9487=Mh[_0x265a7a],_0x264d78[_0x2e9487]?_0x2e9487:_0x264d78[_0x265a7a]?_0x265a7a:Ph;}Dr(['ja','ko','th','vi','zh','id'],_0x267ac0=>0x19af+0x1*0x2573+-0x3f22),Dr(['fa','hi'],_0x4e2d50=>_0x4e2d50>=-0xb*0x93+-0x2275+0x28c6&&_0x4e2d50<=0x7d7+-0x17*-0x17+-0x9e7?-0x6*-0x1d7+-0x23f1*-0x1+-0x2efb:-0x1*0x1749+-0xc22*-0x1+-0x198*-0x7),Dr(['fr','pt'],_0x3dd4e4=>_0x3dd4e4>=-0x1f5d+0xa4c+0x1511&&_0x3dd4e4<0x6e*-0x38+0x4f*0x4b+0x3*0x4f?0x5b8+0x1bc9+-0x2181:0x1199+-0x24fb+0x1363),Dr(['da'],_0x4ea824=>_0x4ea824===-0x6b*-0x51+0x1281+-0x345b||!Number['isInteger'](_0x4ea824)&&_0x4ea824>=-0x1*-0xda5+0x2f*0xb5+0xc*-0x3e8&&_0x4ea824<=-0x9a6+0x247e*0x1+-0x1ad7?0x1*0x8fe+-0x3*-0x565+-0x192d:0x1*-0xb7b+0x1ecb*-0x1+0x89*0x4f),Dr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x21fea6=>_0x21fea6===0x110c+-0xffa*-0x1+-0x6b*0x4f?0x2*-0x733+-0x1ccf+-0x2b35*-0x1:0x3b3*-0x3+0x118f+-0x675),Dr(['ru','uk'],_0x3640b0=>{if(Number['isInteger'](_0x3640b0)){const _0x232295=_0x3640b0%(-0x1960+0x2*-0x892+-0x346*-0xd),_0x3f4723=_0x3640b0%(0x2*-0x770+0xbe8*0x2+-0x88c);if(_0x232295===-0xb07*0x1+-0xd9*-0x8+0x440&&_0x3f4723!==0x2531*0x1+0xe*0x9e+-0x2dca)return 0x1*0x1e74+0x1a9f+-0x3913;if(_0x232295>=0x17a5+0x2*-0x2c7+-0x1215&&_0x232295<=-0x7*-0x1c3+-0x1e*0x1b+-0x927&&(_0x3f4723<-0x21d*0xd+-0xc5f+0x27e4||_0x3f4723>0x146*-0xd+-0x20b3+-0x3cb*-0xd))return 0xab5+-0x5*0x251+0x5*0x2d;if(_0x232295===0xf00+0x240e+-0x5*0xa36||_0x232295>=-0x50e+-0x1*0x483+0x3*0x332&&_0x232295<=-0x1104+-0x25*-0x9+0xfc0||_0x3f4723>=-0x1c39+0x1*0x1+0x1c43&&_0x3f4723<=0xa49*0x2+-0x7e5+-0xc9f)return 0xe*-0x1d3+0x1*-0x1d14+-0x5c*-0x98;}return-0x3a7*-0x1+-0xf47*0x1+-0x14b*-0x9;}),Dr(['pl'],_0xf6d901=>{if(Number['isInteger'](_0xf6d901)){if(_0xf6d901===0x26*-0x29+0x217b+0x4*-0x6d9)return-0x11f+-0x267b+0x279a;const _0x3544b5=_0xf6d901%(-0x1*-0xae8+-0xe85+0xbb*0x5),_0x4f92fd=_0xf6d901%(-0xf49+0xb6b+-0x1*-0x442);if(_0x3544b5>=0x1e14+0x9*-0x2e8+-0x3ea&&_0x3544b5<=-0x25*-0x6e+-0x16bd+-0x75*-0xf&&(_0x4f92fd<-0x1*-0x23de+0x2*-0x4e3+-0x1a0c||_0x4f92fd>-0x42d+0x8c5+0xa6*-0x7))return-0x4*-0x43a+0x1*-0x204d+0x12*0xdb;if(_0x3544b5>=0x1471+-0xc*0xb+0x13ed*-0x1&&_0x3544b5<=-0x1a3+0x53d+0x3*-0x133||_0x3544b5>=-0x17a6+0x37c+0x142f&&_0x3544b5<=-0x304+-0x7*-0x3+0x2f8||_0x4f92fd>=0x1bdb+-0x1*0xaca+-0x1*0x1105&&_0x4f92fd<=-0x25a2+-0x1373+0x3923)return 0x3*0x29b+0x169c+0x257*-0xd;}return 0x1*-0x1bfe+-0x236c+0x4e1*0xd;}),Dr(['ar'],_0x1e964b=>{if(_0x1e964b===-0x49*-0x7e+0x60f*0x1+-0x29fd*0x1)return 0xf4d*-0x1+-0x1e9e+-0x5*-0x92f;if(_0x1e964b===0x1dd3+0x459+-0x222b*0x1)return 0x6*-0x55f+0x1*-0x952+-0x3c7*-0xb;if(_0x1e964b===-0x378+0x1aea+-0x1770)return-0x57e*-0x1+-0x19b5+-0xa7*-0x1f;if(Number['isInteger'](_0x1e964b)){const _0x54e95f=_0x1e964b%(0x1332+-0x13f2*0x1+0x124);if(_0x54e95f>=0xd9f*0x1+0x1fc*-0x1+-0xba0&&_0x54e95f<=-0xa7*-0x1f+0xe*0x1d9+-0x1*0x2e0d)return 0x53*-0xc+-0x11a7+0x158e*0x1;if(_0x54e95f>=-0xf01*0x1+-0x17e9+0x26f5&&_0x54e95f<=0xa2c+-0xdb7*0x1+0x3ee)return-0x150b+-0x243d+0x394c;}return 0x1127+-0x1feb+0xec9;});const RC=Sm[Oi(Ph)];function Tf(_0x18bbe9){return Sm[_0x18bbe9]||RC;}const jn=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class OC{constructor(_0x36bd0a='',_0xdbbf9='',_0x4d2a8c=null,_0x57ff13=null,_0x48d9e2=null,_0x3d2438=null){this['url']=_0x36bd0a,this['filename']=_0xdbbf9,this['hash']=_0x4d2a8c,this['size']=_0x57ff13,this['opt']=_0x48d9e2,this['contents']=_0x3d2438;}['equals'](_0x1dbc58){return this['url']===_0x1dbc58['url']&&this['filename']===_0x1dbc58['filename']&&this['hash']===_0x1dbc58['hash']&&this['size']===_0x1dbc58['size']&&this['opt']===_0x1dbc58['opt']&&this['contents']===_0x1dbc58['contents'];}}let FC=-(-0x7e4+0x1111+-0x92c*0x1);const NC={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},bg=['pvr','dxt','etc2','etc1','basis'];class pe extends me{constructor(_0x1522d0,_0xd39485,_0x30fd87,_0x24e651={},_0x467746={}){super(),h(this,'_file',null),h(this,'_i18n',{}),h(this,'_preload',!(0x173c+-0x1f78+0x83d)),h(this,'_resources',[]),h(this,'id',FC--),h(this,'loaded',!(0x118e+0xfb4+-0x2141)),h(this,'loading',!(0x3*0x1a+-0x1*0x1571+0x1524)),h(this,'options',{}),h(this,'registry',null),h(this,'tags',new Oo(this)),h(this,'type'),h(this,'urlObject',null),(this['_name']=_0x1522d0||'',this['type']=_0xd39485,this['_data']=_0x24e651||{},this['options']=_0x467746||{},_0x30fd87&&(this['file']=_0x30fd87));}set['name'](_0xa1fd1a){if(this['_name']===_0xa1fd1a)return;const _0x54f44b=this['_name'];this['_name']=_0xa1fd1a,this['fire']('name',this,this['_name'],_0x54f44b);}get['name'](){return this['_name'];}set['file'](_0xc2f7a3){var _0x23bd6d,_0x2b8f87;if(_0xc2f7a3&&_0xc2f7a3['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(-0x92e+0x519*0x5+0x827*-0x2)){const _0xae042f=((_0x2b8f87=(_0x23bd6d=this['registry'])==null?void(-0x2183+0x2*-0x606+0x2d8f):_0x23bd6d['_loader'])==null?void(0x1e1c+0x1eef+-0x3d0b):_0x2b8f87['_app'])||Ms(),_0x363a21=_0xae042f==null?void(0x2274+-0x1f4d+-0x327):_0xae042f['graphicsDe'+'vice'];if(_0x363a21)for(let _0x11cb42=0x2c3*-0x1+-0x14f0+0x17b3*0x1,_0x418539=bg['length'];_0x11cb42<_0x418539;_0x11cb42++){const _0x588009=bg[_0x11cb42];if(_0xc2f7a3['variants'][_0x588009]&&_0x363a21[NC[_0x588009]]){_0xc2f7a3=_0xc2f7a3['variants'][_0x588009];break;}if(_0xae042f['enableBund'+'les']){const _0x4921f9=_0xae042f['bundles']['listBundle'+'sForAsset'](this);if(_0x4921f9&&_0x4921f9['find'](_0x49e301=>{var _0x2efa4a;return(_0x2efa4a=_0x49e301==null?void(-0x493*0x5+0x6f1+-0x7f7*-0x2):_0x49e301['file'])==null?void(-0x1*0x935+0x26a2+-0x1d6d):_0x2efa4a['variants'][_0x588009];}))break;}}}const _0x11b287=this['_file'],_0xb24495=_0xc2f7a3?new OC(_0xc2f7a3['url'],_0xc2f7a3['filename'],_0xc2f7a3['hash'],_0xc2f7a3['size'],_0xc2f7a3['opt'],_0xc2f7a3['contents']):null;(!!_0xb24495!=!!_0x11b287||_0xb24495&&!_0xb24495['equals'](_0x11b287))&&(this['_file']=_0xb24495,this['fire']('change',this,'file',_0xb24495,_0x11b287),this['reload']());}get['file'](){return this['_file'];}set['data'](_0xb371a2){const _0xaadfc0=this['_data'];this['_data']=_0xb371a2,_0xb371a2!==_0xaadfc0&&(this['fire']('change',this,'data',_0xb371a2,_0xaadfc0),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x1f02ef){const _0x32d678=this['_resources'][-0x3b*0x28+0x2*-0x91f+-0xb9*-0x26];this['_resources'][-0x13b9+-0xb5f*0x3+-0x6*-0x8f9]=_0x1f02ef,this['fire']('change',this,'resource',_0x1f02ef,_0x32d678);}get['resource'](){return this['_resources'][0x27*0xbf+0x2029+0x2*-0x1ea1];}set['resources'](_0x248a95){const _0x50aebc=this['_resources'];this['_resources']=_0x248a95,this['fire']('change',this,'resources',_0x248a95,_0x50aebc);}get['resources'](){return this['_resources'];}set['preload'](_0x4d3819){_0x4d3819=!!_0x4d3819,this['_preload']!==_0x4d3819&&(this['_preload']=_0x4d3819,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0x4a1277){_0x4a1277=!!_0x4a1277,(!this['hasOwnProp'+'erty']('_loadFaces')||_0x4a1277!==this['_loadFaces'])&&(this['_loadFaces']=_0x4a1277,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x40c69e=this['file'];if(!_0x40c69e||!_0x40c69e['url'])return null;let _0x20b8ba=_0x40c69e['url'];if(this['registry']&&this['registry']['prefix']&&!jn['test'](_0x20b8ba)&&(_0x20b8ba=this['registry']['prefix']+_0x20b8ba),this['type']!=='script'&&_0x40c69e['hash']){const _0x3565cc=_0x20b8ba['indexOf']('?')!==-(-0x383+0xb30+-0x7ac)?'&':'?';_0x20b8ba+=_0x3565cc+'t='+_0x40c69e['hash'];}return _0x20b8ba;}['getAbsolut'+'eUrl'](_0x52ccdb){if(_0x52ccdb['startsWith']('blob:')||_0x52ccdb['startsWith']('data:'))return _0x52ccdb;const _0x33ab38=xe['getDirecto'+'ry'](this['file']['url']);return xe['join'](_0x33ab38,_0x52ccdb);}['getLocaliz'+'edAssetId'](_0x519c66){return _0x519c66=Fv(_0x519c66,this['_i18n']),this['_i18n'][_0x519c66]||null;}['addLocaliz'+'edAssetId'](_0x1baff1,_0x19648a){this['_i18n'][_0x1baff1]=_0x19648a,this['fire']('add:locali'+'zed',_0x1baff1,_0x19648a);}['removeLoca'+'lizedAsset'+'Id'](_0x12466f){const _0x20437d=this['_i18n'][_0x12466f];_0x20437d&&(delete this['_i18n'][_0x12466f],this['fire']('remove:loc'+'alized',_0x12466f,_0x20437d));}['ready'](_0x2585c1,_0x504a2a){_0x504a2a=_0x504a2a||this,this['loaded']?_0x2585c1['call'](_0x504a2a,this):this['once']('load',_0x2c0d38=>{_0x2585c1['call'](_0x504a2a,_0x2c0d38);});}['reload'](){this['loaded']&&(this['loaded']=!(-0x3a*0x12+0xc84*-0x2+0x1d1d),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===0x14a5+-0x1a91+0x4*0x17b)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x2c6d28=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(0x1*0x1bf5+-0x1885*-0x1+0x77f*-0x7),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0xb6f977=-0x22*-0x40+0x7a0+0x408*-0x4;_0xb6f977<_0x2c6d28['length'];++_0xb6f977){const _0x54f297=_0x2c6d28[_0xb6f977];_0x54f297&&_0x54f297['destroy']&&_0x54f297['destroy']();}}static['fetchArray'+'Buffer'](_0x33abc5,_0x328001,_0x1d5f7d,_0x5e64e8=-0x1db2+0x2*-0x1ef+-0x8*-0x432){var _0x37d24d;(_0x37d24d=_0x1d5f7d==null?void(-0x3d*0x2+0x5d*0x47+-0x1951):_0x1d5f7d['file'])!=null&&_0x37d24d['contents']?setTimeout(()=>{_0x328001(null,_0x1d5f7d['file']['contents']);}):ot['get'](_0x33abc5,{'cache':!(0x218+0x25cc+-0x27e4),'responseType':'arraybuffe'+'r','retry':_0x5e64e8>-0x18de+-0x1*0x24d9+0x3db7,'maxRetries':_0x5e64e8},_0x328001);}}h(pe,'EVENT_LOAD','load'),h(pe,'EVENT_UNLO'+'AD','unload'),h(pe,'EVENT_REMO'+'VE','remove'),h(pe,'EVENT_ERRO'+'R','error'),h(pe,'EVENT_CHAN'+'GE','change'),h(pe,'EVENT_PROG'+'RESS','progress'),h(pe,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),h(pe,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class kC{constructor(_0x1f8dc7=null){h(this,'_index',{}),h(this,'_key'),this['_key']=_0x1f8dc7;}['addItem'](_0x4f9197){const _0x561bfb=_0x4f9197['tags']['_list'];for(const _0x51bf64 of _0x561bfb)this['add'](_0x51bf64,_0x4f9197);}['removeItem'](_0x480ccf){const _0x27d0fb=_0x480ccf['tags']['_list'];for(const _0x4bb502 of _0x27d0fb)this['remove'](_0x4bb502,_0x480ccf);}['add'](_0x4e7ba7,_0x2acd60){this['_index'][_0x4e7ba7]&&this['_index'][_0x4e7ba7]['list']['indexOf'](_0x2acd60)!==-(-0x1*0x3f1+0x160e+0x1*-0x121c)||(this['_index'][_0x4e7ba7]||(this['_index'][_0x4e7ba7]={'list':[]},this['_key']&&(this['_index'][_0x4e7ba7]['keys']={})),this['_index'][_0x4e7ba7]['list']['push'](_0x2acd60),this['_key']&&(this['_index'][_0x4e7ba7]['keys'][_0x2acd60[this['_key']]]=_0x2acd60));}['remove'](_0x1a3a29,_0x1f3208){if(!this['_index'][_0x1a3a29]||this['_key']&&!this['_index'][_0x1a3a29]['keys'][_0x1f3208[this['_key']]])return;const _0x15464c=this['_index'][_0x1a3a29]['list']['indexOf'](_0x1f3208);_0x15464c!==-(-0x215b+-0x13fc+0x3558)&&(this['_index'][_0x1a3a29]['list']['splice'](_0x15464c,0x1f13+0x2*0xeb9+0x3*-0x142c),this['_key']&&delete this['_index'][_0x1a3a29]['keys'][_0x1f3208[this['_key']]],this['_index'][_0x1a3a29]['list']['length']===0xd54*-0x2+-0x1172+-0xa*-0x469&&delete this['_index'][_0x1a3a29]);}['find'](_0x3cecca){const _0x187aac={},_0x29a846=[];let _0x4070c6,_0x4f678e,_0x11e6c6,_0x2b1316,_0x29216e;const _0x1294d4=(_0x20eb37,_0x1ba5b7)=>this['_index'][_0x20eb37]['list']['length']-this['_index'][_0x1ba5b7]['list']['length'];for(let _0x2e8dc7=-0xd*-0x96+-0x3*0x230+-0x9*0x1e;_0x2e8dc7<_0x3cecca['length'];_0x2e8dc7++){if(_0x4f678e=_0x3cecca[_0x2e8dc7],_0x4f678e instanceof Array){if(_0x4f678e['length']===0x16*-0xa2+-0x257d+-0x3*-0x1123)continue;if(_0x4f678e['length']===0x1057+0xe16+0x79b*-0x4)_0x4f678e=_0x4f678e[-0x5*0x1b3+0xb86+-0x307];else{_0x29216e=!(0x4f*-0x1d+-0x1*0x1013+0x1907);for(let _0xbb5cf=-0x4*-0x521+0x215+-0x1699;_0xbb5cf<_0x4f678e['length'];_0xbb5cf++)if(!this['_index'][_0x4f678e[_0xbb5cf]]){_0x29216e=!(-0x2683+0xeb7*-0x1+-0x6*-0x8df);break;}if(_0x29216e)continue;_0x11e6c6=_0x4f678e['slice'](0x1*0x258a+-0x5*-0x2b3+-0x3309)['sort'](_0x1294d4),_0x2b1316=_0x11e6c6['slice'](0xc*0x4+0xef2*0x1+-0xf21),_0x2b1316['length']===-0xbca+-0x1716+0x22e1&&(_0x2b1316=_0x2b1316[-0x1df0+0x235f+-0x56f]);for(let _0x21d810=0x13d9+-0x1812+0x2f*0x17;_0x21d810<this['_index'][_0x11e6c6[-0x6f*0x25+0x1aa+-0x1*-0xe61]]['list']['length'];_0x21d810++)_0x4070c6=this['_index'][_0x11e6c6[-0x1*-0x1c3f+-0x1476*0x1+-0x7c9]]['list'][_0x21d810],(this['_key']?!_0x187aac[_0x4070c6[this['_key']]]:_0x29a846['indexOf'](_0x4070c6)===-(0x1703+0x2c3+-0x19c5))&&_0x4070c6['tags']['has'](_0x2b1316)&&(this['_key']&&(_0x187aac[_0x4070c6[this['_key']]]=!(-0x1*0x844+0x8b9+-0x27*0x3)),_0x29a846['push'](_0x4070c6));continue;}}if(_0x4f678e&&typeof _0x4f678e=='string'&&this['_index'][_0x4f678e]){for(let _0x4f600e=-0x11c*-0x3+0x1aa9+0x1dfd*-0x1;_0x4f600e<this['_index'][_0x4f678e]['list']['length'];_0x4f600e++)_0x4070c6=this['_index'][_0x4f678e]['list'][_0x4f600e],this['_key']?_0x187aac[_0x4070c6[this['_key']]]||(_0x187aac[_0x4070c6[this['_key']]]=!(0x2b*0x6a+-0xacb*-0x1+-0x1c99),_0x29a846['push'](_0x4070c6)):_0x29a846['indexOf'](_0x4070c6)===-(-0x2387+0xf03+0x1485)&&_0x29a846['push'](_0x4070c6);}}return _0x29a846;}}class mn extends me{constructor(_0x280ec2){super(),h(this,'_assets',new Set()),h(this,'_loader'),h(this,'_idToAsset',new Map()),h(this,'_urlToAsse'+'t',new Map()),h(this,'_nameToAss'+'et',new Map()),h(this,'_tags',new kC('id')),h(this,'prefix',null),h(this,'bundles',null),this['_loader']=_0x280ec2;}['list'](_0x16d0a4={}){const _0x18337d=Array['from'](this['_assets']);return _0x16d0a4['preload']!==void(-0x1*0x1db+-0x7f7*0x3+0x19c0)?_0x18337d['filter'](_0x41e78f=>_0x41e78f['preload']===_0x16d0a4['preload']):_0x18337d;}['add'](_0x16346d){var _0x42072d,_0x30a622;this['_assets']['has'](_0x16346d)||(this['_assets']['add'](_0x16346d),this['_idToAsset']['set'](_0x16346d['id'],_0x16346d),(_0x42072d=_0x16346d['file'])!=null&&_0x42072d['url']&&this['_urlToAsse'+'t']['set'](_0x16346d['file']['url'],_0x16346d),this['_nameToAss'+'et']['has'](_0x16346d['name'])||this['_nameToAss'+'et']['set'](_0x16346d['name'],new Set()),this['_nameToAss'+'et']['get'](_0x16346d['name'])['add'](_0x16346d),_0x16346d['on']('name',this['_onNameCha'+'nge'],this),_0x16346d['registry']=this,this['_tags']['addItem'](_0x16346d),_0x16346d['tags']['on']('add',this['_onTagAdd'],this),_0x16346d['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x16346d),this['fire']('add:'+_0x16346d['id'],_0x16346d),(_0x30a622=_0x16346d['file'])!=null&&_0x30a622['url']&&this['fire']('add:url:'+_0x16346d['file']['url'],_0x16346d),_0x16346d['preload']&&this['load'](_0x16346d));}['remove'](_0x5946d9){var _0x50bcd2,_0x432ac9;if(!this['_assets']['has'](_0x5946d9))return!(-0x1536+0x6*-0x3db+0x1*0x2c59);if(this['_assets']['delete'](_0x5946d9),this['_idToAsset']['delete'](_0x5946d9['id']),(_0x50bcd2=_0x5946d9['file'])!=null&&_0x50bcd2['url']&&this['_urlToAsse'+'t']['delete'](_0x5946d9['file']['url']),_0x5946d9['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x5946d9['name'])){const _0x38e93b=this['_nameToAss'+'et']['get'](_0x5946d9['name']);_0x38e93b['delete'](_0x5946d9),_0x38e93b['size']===-0xe7d*-0x1+-0x87d*-0x2+-0x1f77&&this['_nameToAss'+'et']['delete'](_0x5946d9['name']);}return this['_tags']['removeItem'](_0x5946d9),_0x5946d9['tags']['off']('add',this['_onTagAdd'],this),_0x5946d9['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x5946d9['fire']('remove',_0x5946d9),this['fire']('remove',_0x5946d9),this['fire']('remove:'+_0x5946d9['id'],_0x5946d9),(_0x432ac9=_0x5946d9['file'])!=null&&_0x432ac9['url']&&this['fire']('remove:url'+':'+_0x5946d9['file']['url'],_0x5946d9),!(-0x1*-0x190a+-0xb*0x20f+0x1*-0x265);}['get'](_0x11343f){return this['_idToAsset']['get'](Number(_0x11343f));}['getByUrl'](_0x530c08){return this['_urlToAsse'+'t']['get'](_0x530c08);}['load'](_0x3c6f2d,_0xd70dbd){if((_0x3c6f2d['loading']||_0x3c6f2d['loaded'])&&!(_0xd70dbd!=null&&_0xd70dbd['force']))return;const _0x59faa6=_0x3c6f2d['file'],_0x2e8e37=()=>{this['fire']('load',_0x3c6f2d),this['fire']('load:'+_0x3c6f2d['id'],_0x3c6f2d),_0x59faa6&&_0x59faa6['url']&&this['fire']('load:url:'+_0x59faa6['url'],_0x3c6f2d),_0x3c6f2d['fire']('load',_0x3c6f2d);},_0x3a08de=_0x16a439=>{if(_0x16a439 instanceof Array?_0x3c6f2d['resources']=_0x16a439:_0x3c6f2d['resource']=_0x16a439,this['_loader']['patch'](_0x3c6f2d,this),_0x3c6f2d['type']==='bundle'){const _0x30f8d1=_0x3c6f2d['data']['assets'];for(let _0x48303d=0x1*-0x1441+-0x135*-0x16+-0x64d;_0x48303d<_0x30f8d1['length'];_0x48303d++){const _0x5ab28b=this['_idToAsset']['get'](_0x30f8d1[_0x48303d]);_0x5ab28b&&!_0x5ab28b['loaded']&&this['load'](_0x5ab28b,{'force':!(0x18c8+0x1d8*0xb+0x19c*-0x1c)});}_0x3c6f2d['resource']['loaded']?_0x2e8e37():(this['fire']('load:start',_0x3c6f2d),this['fire']('load:start'+':'+_0x3c6f2d['id'],_0x3c6f2d),_0x59faa6&&_0x59faa6['url']&&this['fire']('load:start'+':url:'+_0x59faa6['url'],_0x3c6f2d),_0x3c6f2d['fire']('load:start',_0x3c6f2d),_0x3c6f2d['resource']['on']('load',_0x2e8e37));}else _0x2e8e37();},_0x3b357f=(_0x5d20d9,_0x2de1f5,_0x493695)=>{if(_0x3c6f2d['loaded']=!(-0x63f+-0x394+-0x9d3*-0x1),_0x3c6f2d['loading']=!(0x1b4+-0x7*-0x167+0x16*-0x86),_0x5d20d9)this['fire']('error',_0x5d20d9,_0x3c6f2d),this['fire']('error:'+_0x3c6f2d['id'],_0x5d20d9,_0x3c6f2d),_0x3c6f2d['fire']('error',_0x5d20d9,_0x3c6f2d);else{if(_0x3c6f2d['type']==='script'){const _0x223bcd=this['_loader']['getHandler']('script');_0x223bcd['_cache'][_0x3c6f2d['id']]&&_0x223bcd['_cache'][_0x3c6f2d['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x223bcd['_cache'][_0x3c6f2d['id']]),_0x223bcd['_cache'][_0x3c6f2d['id']]=_0x493695;}_0x3a08de(_0x2de1f5);}};if(_0x59faa6||_0x3c6f2d['type']==='cubemap'){this['fire']('load:start',_0x3c6f2d),this['fire']('load:'+_0x3c6f2d['id']+':start',_0x3c6f2d),_0x3c6f2d['loading']=!(-0xd*0x21e+-0x748+-0x36*-0xa5);const _0x549072=_0x3c6f2d['getFileUrl']();if(_0x3c6f2d['type']==='bundle'){const _0xbf3013=_0x3c6f2d['data']['assets'];for(let _0x33f54c=-0xc43*0x1+0x2ca+0x5*0x1e5;_0x33f54c<_0xbf3013['length'];_0x33f54c++){const _0xab48f4=this['_idToAsset']['get'](_0xbf3013[_0x33f54c]);_0xab48f4&&(_0xab48f4['loaded']||_0xab48f4['resource']||_0xab48f4['loading']||(_0xab48f4['loading']=!(0x53*0x6b+0x52d+-0x27de)));}}this['_loader']['load'](_0x549072,_0x3c6f2d['type'],_0x3b357f,_0x3c6f2d,_0xd70dbd);}else{const _0x401d76=this['_loader']['open'](_0x3c6f2d['type'],_0x3c6f2d['data']);_0x3c6f2d['loaded']=!(-0xa3*-0x4+0x165a+-0x1*0x18e6),_0x3a08de(_0x401d76);}}['reloadInde'+'x'](_0x384172,_0x350c1f,_0x4f70aa){const _0xdd7e93=(_0x25bf92,_0x563efc,_0x45763a)=>{_0x350c1f['loaded']=!(0x23a4+-0x7db*-0x3+-0x3b35),_0x350c1f['loading']=!(-0xd6*0xb+-0x13eb+0x1d1e);};return this['_loader']['load'](_0x384172,_0x350c1f['type'],_0xdd7e93,_0x350c1f,_0x4f70aa),_0x350c1f;}['loadFromUr'+'l'](_0x3b9242,_0x159732,_0x455e7b){this['loadFromUr'+'lAndFilena'+'me'](_0x3b9242,null,_0x159732,_0x455e7b);}['loadFromUr'+'lAndFilena'+'me'](_0x40757d,_0x43d791,_0x55f8fd,_0x2f993c){const _0x2aa665=xe['getBasenam'+'e'](_0x43d791||_0x40757d),_0x3882ae={'filename':_0x43d791||_0x2aa665,'url':_0x40757d};let _0x3142b5=this['getByUrl'](_0x40757d);if(!_0x3142b5)_0x3142b5=new pe(_0x2aa665,_0x55f8fd,_0x3882ae),this['add'](_0x3142b5);else{if(_0x3142b5['loaded']){_0x2f993c(_0x3142b5['loadFromUr'+'lError']||null,_0x3142b5);return;}}const _0x365e48=_0x884634=>{_0x884634['once']('load',_0x31f0aa=>{_0x55f8fd==='material'?this['_loadTextu'+'res'](_0x31f0aa,(_0x211eff,_0x1ce364)=>{_0x2f993c(_0x211eff,_0x31f0aa);}):_0x2f993c(null,_0x31f0aa);}),_0x884634['once']('error',_0x4e779d=>{_0x4e779d&&(this['loadFromUr'+'lError']=_0x4e779d),_0x2f993c(_0x4e779d,_0x884634);}),this['load'](_0x884634);};_0x3142b5['resource']?_0x2f993c(null,_0x3142b5):_0x55f8fd==='model'?this['_loadModel'](_0x3142b5,_0x365e48):_0x365e48(_0x3142b5);}['_loadModel'](_0x1ada65,_0x54ffb3){const _0x474e56=_0x1ada65['getFileUrl'](),_0x40f909=xe['getExtensi'+'on'](_0x474e56);if(_0x40f909==='.json'||_0x40f909==='.glb'){const _0x5c36f0=xe['getDirecto'+'ry'](_0x474e56),_0x290a8b=xe['getBasenam'+'e'](_0x474e56),_0x439cc3=xe['join'](_0x5c36f0,_0x290a8b['replace'](_0x40f909,'.mapping.j'+'son'));this['_loader']['load'](_0x439cc3,'json',(_0x1c8a28,_0x34544c)=>{_0x1c8a28?(_0x1ada65['data']={'mapping':[]},_0x54ffb3(_0x1ada65)):this['_loadMater'+'ials'](_0x1ada65,_0x34544c,(_0x5ec0c2,_0x24d3eb)=>{_0x1ada65['data']=_0x34544c,_0x54ffb3(_0x1ada65);});});}else _0x54ffb3(_0x1ada65);}['_loadMater'+'ials'](_0x3ac432,_0x5d64a9,_0x1adc4a){const _0x5ea925=[];let _0x5f42ed=-0x1*0x6e3+0x2*0xd42+-0x13a1;const _0x510d7b=(_0x1ba60e,_0x316f5e)=>{this['_loadTextu'+'res'](_0x316f5e,(_0x153e1f,_0x1e9b43)=>{_0x5ea925['push'](_0x316f5e),_0x5ea925['length']===_0x5f42ed&&_0x1adc4a(null,_0x5ea925);});};for(let _0x362348=-0x949*-0x1+-0x9b5*0x1+0x6c;_0x362348<_0x5d64a9['mapping']['length'];_0x362348++){const _0x86a881=_0x5d64a9['mapping'][_0x362348]['path'];if(_0x86a881){_0x5f42ed++;const _0xf2422f=_0x3ac432['getAbsolut'+'eUrl'](_0x86a881);this['loadFromUr'+'l'](_0xf2422f,'material',_0x510d7b);}}_0x5f42ed===0x1cf7*0x1+0x1*0x1ff5+0x3cec*-0x1&&_0x1adc4a(null,_0x5ea925);}['_loadTextu'+'res'](_0xd17865,_0x3cbf8c){const _0x2d60cc=[];let _0x267cd9=-0x55*0x29+0xad+0xcf0;const _0x1a0f53=_0xd17865['data'];if(_0x1a0f53['mappingFor'+'mat']!=='path'){w['warn']('Skipping:\x20'+_0xd17865['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0x3cbf8c(null,_0x2d60cc);return;}const _0x1d0368=(_0x54c381,_0x1cd579)=>{_0x54c381&&console['error'](_0x54c381),_0x2d60cc['push'](_0x1cd579),_0x2d60cc['length']===_0x267cd9&&_0x3cbf8c(null,_0x2d60cc);},_0x43b042=Cd;for(let _0x58ada1=0x43*-0x68+0xaa8+0x1090;_0x58ada1<_0x43b042['length'];_0x58ada1++){const _0x524ba9=_0x1a0f53[_0x43b042[_0x58ada1]];if(_0x524ba9&&typeof _0x524ba9=='string'){_0x267cd9++;const _0x2d969d=_0xd17865['getAbsolut'+'eUrl'](_0x524ba9);this['loadFromUr'+'l'](_0x2d969d,'texture',_0x1d0368);}}_0x267cd9===0x3*-0x344+-0xca6+0x1672&&_0x3cbf8c(null,_0x2d60cc);}['_onTagAdd'](_0x3724d2,_0x3aed4e){this['_tags']['add'](_0x3724d2,_0x3aed4e);}['_onTagRemo'+'ve'](_0x1c27a6,_0x5d6134){this['_tags']['remove'](_0x1c27a6,_0x5d6134);}['_onNameCha'+'nge'](_0x37af9f,_0x32cc7d,_0x42ff16){if(this['_nameToAss'+'et']['has'](_0x42ff16)){const _0x48b984=this['_nameToAss'+'et']['get'](_0x42ff16);_0x48b984['delete'](_0x37af9f),_0x48b984['size']===-0x15c2+-0x19a3+-0x44f*-0xb&&this['_nameToAss'+'et']['delete'](_0x42ff16);}this['_nameToAss'+'et']['has'](_0x37af9f['name'])||this['_nameToAss'+'et']['set'](_0x37af9f['name'],new Set()),this['_nameToAss'+'et']['get'](_0x37af9f['name'])['add'](_0x37af9f);}['findByTag'](..._0x552357){return this['_tags']['find'](_0x552357);}['filter'](_0x42087b){return Array['from'](this['_assets'])['filter'](_0x3581ad=>_0x42087b(_0x3581ad));}['find'](_0x2764c5,_0x21b675){const _0x16e50d=this['_nameToAss'+'et']['get'](_0x2764c5);if(!_0x16e50d)return null;for(const _0x341b2e of _0x16e50d)if(!_0x21b675||_0x341b2e['type']===_0x21b675)return _0x341b2e;return null;}['findAll'](_0x5f302f,_0x32b169){const _0x85c731=this['_nameToAss'+'et']['get'](_0x5f302f);if(!_0x85c731)return[];const _0x9c62b1=Array['from'](_0x85c731);return _0x32b169?_0x9c62b1['filter'](_0x4f72f9=>_0x4f72f9['type']===_0x32b169):_0x9c62b1;}}h(mn,'EVENT_LOAD','load'),h(mn,'EVENT_ADD','add'),h(mn,'EVENT_REMO'+'VE','remove'),h(mn,'EVENT_ERRO'+'R','error');class UC{constructor(_0x43784f){h(this,'_idToBundl'+'e',new Map()),h(this,'_assetToBu'+'ndles',new Map()),h(this,'_urlsToBun'+'dles',new Map()),h(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0x43784f,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x79f3e3){if(_0x79f3e3['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x79f3e3['id'],_0x79f3e3),this['_assets']['on']('load:start'+':'+_0x79f3e3['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x79f3e3['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x79f3e3['id'],this['_onBundleE'+'rror'],this);const _0x586f3e=_0x79f3e3['data']['assets'];for(let _0x780a72=-0x24c9+-0x1*-0x650+0x1e79;_0x780a72<_0x586f3e['length'];_0x780a72++)this['_indexAsse'+'tInBundle'](_0x586f3e[_0x780a72],_0x79f3e3);}else this['_assetToBu'+'ndles']['has'](_0x79f3e3['id'])&&this['_indexAsse'+'tFileUrls'](_0x79f3e3);}['_unbindAss'+'etEvents'](_0x4c7387){this['_assets']['off']('load:start'+':'+_0x4c7387,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x4c7387,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x4c7387,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x2d2962,_0x178c27){let _0x2f18d6=this['_assetToBu'+'ndles']['get'](_0x2d2962);_0x2f18d6||(_0x2f18d6=new Set(),this['_assetToBu'+'ndles']['set'](_0x2d2962,_0x2f18d6)),_0x2f18d6['add'](_0x178c27);const _0x30e16d=this['_assets']['get'](_0x2d2962);_0x30e16d&&this['_indexAsse'+'tFileUrls'](_0x30e16d);}['_indexAsse'+'tFileUrls'](_0x2c174f){const _0x2478a2=this['_getAssetF'+'ileUrls'](_0x2c174f);if(_0x2478a2)for(let _0x131d8d=0xc2*-0xb+-0x1bb6*-0x1+-0x1360;_0x131d8d<_0x2478a2['length'];_0x131d8d++){const _0x5e9280=this['_assetToBu'+'ndles']['get'](_0x2c174f['id']);_0x5e9280&&this['_urlsToBun'+'dles']['set'](_0x2478a2[_0x131d8d],_0x5e9280);}}['_getAssetF'+'ileUrls'](_0x1b338a){let _0x6afe23=_0x1b338a['getFileUrl']();if(!_0x6afe23)return null;_0x6afe23=_0x6afe23['split']('?')[-0x151b+0xf04+-0x1*-0x617];const _0x597351=[_0x6afe23];if(_0x1b338a['type']==='font'){const _0x55f2f1=_0x1b338a['data']['info']['maps']['length'];for(let _0x2ba457=0x164f+-0xcb3+-0x99b*0x1;_0x2ba457<_0x55f2f1;_0x2ba457++)_0x597351['push'](_0x6afe23['replace']('.png',_0x2ba457+'.png'));}return _0x597351;}['_onAssetRe'+'move'](_0x61539d){if(_0x61539d['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x61539d['id']),this['_unbindAss'+'etEvents'](_0x61539d['id']);const _0x1637f0=_0x61539d['data']['assets'];for(let _0x25ed14=0x1*0xfd9+0x664*0x1+-0x163d;_0x25ed14<_0x1637f0['length'];_0x25ed14++){const _0x5ed7ff=this['_assetToBu'+'ndles']['get'](_0x1637f0[_0x25ed14]);if(_0x5ed7ff&&(_0x5ed7ff['delete'](_0x61539d),_0x5ed7ff['size']===0x70b+-0x425*0x1+-0x173*0x2)){this['_assetToBu'+'ndles']['delete'](_0x1637f0[_0x25ed14]);for(const [_0x48c321,_0x4e3de8]of this['_urlsToBun'+'dles'])_0x4e3de8===_0x5ed7ff&&this['_urlsToBun'+'dles']['delete'](_0x48c321);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x61539d['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x61539d['id']))return;this['_assetToBu'+'ndles']['delete'](_0x61539d['id']);const _0x2de87d=this['_getAssetF'+'ileUrls'](_0x61539d);if(!_0x2de87d)return;for(let _0x49fde0=0x14c7+-0x1c35+0x3*0x27a;_0x49fde0<_0x2de87d['length'];_0x49fde0++)this['_urlsToBun'+'dles']['delete'](_0x2de87d[_0x49fde0]);}}['_onBundleL'+'oadStart'](_0x2c50b6){_0x2c50b6['resource']['on']('add',(_0x1f84e4,_0x58e1eb)=>{const _0x899f46=this['_fileReque'+'sts']['get'](_0x1f84e4);if(_0x899f46){for(let _0x1e1ece=-0x1311+-0xc26+-0x1f37*-0x1;_0x1e1ece<_0x899f46['length'];_0x1e1ece++)_0x899f46[_0x1e1ece](null,_0x58e1eb);this['_fileReque'+'sts']['delete'](_0x1f84e4);}});}['_onBundleL'+'oad'](_0x117cbe){if(!_0x117cbe['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x117cbe['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0x2c0f40,_0x13ef18]of this['_fileReque'+'sts']){const _0xa2673e=this['_urlsToBun'+'dles']['get'](_0x2c0f40);if(!_0xa2673e||!_0xa2673e['has'](_0x117cbe))continue;const _0x33e403=decodeURIComponent(_0x2c0f40);let _0x5ab051,_0x4ae988;if(_0x117cbe['resource']['has'](_0x33e403))_0x4ae988=_0x117cbe['resource']['get'](_0x33e403);else{if(_0x117cbe['resource']['loaded'])_0x5ab051='Bundle\x20'+_0x117cbe['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x2c0f40;else continue;}for(let _0x3b09b6=-0xf0a*-0x1+0x1*-0xc27+-0x2e3;_0x3b09b6<_0x13ef18['length'];_0x3b09b6++)_0x13ef18[_0x3b09b6](_0x5ab051,_0x5ab051||_0x4ae988);this['_fileReque'+'sts']['delete'](_0x2c0f40);}}['_onBundleE'+'rror'](_0x277e10){for(const [_0x227fae,_0xfc863c]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x227fae)){for(let _0x4dd784=0x7f1+0x25db+-0x2dcc;_0x4dd784<_0xfc863c['length'];_0x4dd784++)_0xfc863c[_0x4dd784](_0x277e10);this['_fileReque'+'sts']['delete'](_0x227fae);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x4405f5){const _0x2117be=this['_urlsToBun'+'dles']['get'](_0x4405f5);if(!_0x2117be)return null;let _0x465361=null;for(const _0x1bf187 of _0x2117be){if(_0x1bf187['loaded']&&_0x1bf187['resource'])return _0x1bf187;_0x1bf187['loading']&&(_0x465361=_0x1bf187);}return _0x465361;}['listBundle'+'sForAsset'](_0x87ca25){const _0x34756e=this['_assetToBu'+'ndles']['get'](_0x87ca25['id']);return _0x34756e?Array['from'](_0x34756e):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x36116c){return this['_urlsToBun'+'dles']['has'](_0x36116c);}['urlIsLoade'+'dOrLoading'](_0x36d871){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x36d871);}['loadUrl'](_0x3ed08d,_0x5a9455){const _0x2ff702=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x3ed08d);if(!_0x2ff702){_0x5a9455('URL\x20'+_0x3ed08d+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x2ff702['loaded']){const _0x197bde=decodeURIComponent(_0x3ed08d);if(_0x2ff702['resource']['has'](_0x197bde)){_0x5a9455(null,_0x2ff702['resource']['get'](_0x197bde));return;}else{if(_0x2ff702['resource']['loaded']){_0x5a9455('Bundle\x20'+_0x2ff702['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x3ed08d);return;}}}let _0x2f8a74=this['_fileReque'+'sts']['get'](_0x3ed08d);_0x2f8a74||(_0x2f8a74=[],this['_fileReque'+'sts']['set'](_0x3ed08d,_0x2f8a74)),_0x2f8a74['push'](_0x5a9455);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x3e6425 of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x3e6425);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class BC extends me{constructor(){super(),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'joint'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'zone'),this['list']=[];}['add'](_0x45997e){const _0x931073=_0x45997e['id'];if(this[_0x931073])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x931073+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x931073]=_0x45997e,this['list']['push'](_0x45997e);}['remove'](_0xa9cf5e){const _0x9f1b2f=_0xa9cf5e['id'];if(!this[_0x9f1b2f])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0x9f1b2f+('\x27\x20register'+'ed'));delete this[_0x9f1b2f];const _0x409b75=this['list']['indexOf'](this[_0x9f1b2f]);_0x409b75!==-(-0x1*-0x679+0x2*-0xdbd+0x1502)&&this['list']['splice'](_0x409b75,-0x25*-0xf3+0x984*-0x1+-0x199a);}['destroy'](){this['off']();for(let _0x47e5b1=0x1bca*0x1+0x1e95*0x1+0x125*-0x33;_0x47e5b1<this['list']['length'];_0x47e5b1++)this['list'][_0x47e5b1]['destroy']();}}class gu extends me{constructor(){super(...arguments),h(this,'_index',new Map()),h(this,'_loaded',!(0x2d7*-0xd+-0x9ba+0xe*0x355));}['addFile'](_0x4f5fdf,_0x3fe9dd){this['_index']['has'](_0x4f5fdf)||(this['_index']['set'](_0x4f5fdf,_0x3fe9dd),this['fire']('add',_0x4f5fdf,_0x3fe9dd));}['has'](_0x24e96b){return this['_index']['has'](_0x24e96b);}['get'](_0xec9db2){return this['_index']['get'](_0xec9db2)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x2e190a){!_0x2e190a||this['_loaded']||(this['_loaded']=!(0x21cc+-0xd*0x2e7+-0x35*-0x13),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}h(gu,'EVENT_ADD','add'),h(gu,'EVENT_LOAD','load');class zC extends me{constructor(_0x1e8470,_0x1c167d=''){super(),h(this,'headerSize',0xd*0x5f+0x84*-0x35+-0x2b9*-0x9),h(this,'paddingSiz'+'e',-0x13ac+-0xd2a+0x22d6),h(this,'bytesRead',0x1bcb+-0x11f*-0xd+-0x11*0x27e),h(this,'bytesRecei'+'ved',0x1b62*-0x1+-0x5*-0x2f9+0xc85),h(this,'headerRead',!(-0x91a+0x1d4a+-0x142f)),h(this,'reader',null),h(this,'data',new Uint8Array(0x4d5*0x1+-0x192b*0x1+-0x1*-0x1456)),h(this,'decoder',null),h(this,'prefix',''),h(this,'fileName',''),h(this,'fileSize',-0x1fb+0x1101+-0xf06),h(this,'fileType',''),h(this,'ustarForma'+'t',''),(this['prefix']=_0x1c167d||'',this['reader']=_0x1e8470['body']['getReader'](),this['reader']['read']()['then'](_0x567164=>{this['pump'](_0x567164['done'],_0x567164['value']);})['catch'](_0x499c9e=>{this['fire']('error',_0x499c9e);}));}['pump'](_0x1da144,_0x100109){if(_0x1da144)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x100109['byteLength'];const _0x445275=new Uint8Array(this['data']['length']+_0x100109['length']);for(_0x445275['set'](this['data']),_0x445275['set'](_0x100109,this['data']['length']),this['data']=_0x445275;this['readFile'](););return this['reader']['read']()['then'](_0x45b257=>{this['pump'](_0x45b257['done'],_0x45b257['value']);})['catch'](_0x41f5e5=>{this['fire']('error',_0x41f5e5);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(-0x1*0x962+0x1a32+0x10*-0x10d);const _0x1f64b0=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x4e70fa=this['decoder']['decode'](_0x1f64b0);if(this['fileName']=_0x4e70fa['substring'](-0x7f3*-0x2+0x1*-0x7c0+-0x826,0x1f6b+-0x208a+0x3*0x81)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x4e70fa['substring'](-0x1a3a+0x12b7+-0x59*-0x17,0x1691+0x1a8f+0x28*-0x137),-0x66b*-0x1+-0x6*-0x349+-0x189*0x11),this['fileType']=_0x4e70fa['substring'](-0x1288+-0x1159*0x1+0x247d,0x845*-0x3+-0xe91+0x27fd*0x1),this['ustarForma'+'t']=_0x4e70fa['substring'](0x2071+-0x1052+-0xf1e,-0x1*0xb57+-0x8a8+0x1506),this['ustarForma'+'t']['indexOf']('ustar')!==-(-0x754+0x3a4*-0x1+0xaf9)){const _0x44744f=_0x4e70fa['substring'](-0xa*0x383+-0x133*0x11+0x38da,-0x7a+0x39*-0x6f+-0x1b25*-0x1)['replace'](/\0/g,'');_0x44744f['length']>0x1*0x16da+-0x21a*-0x2+-0x1b0e&&(this['fileName']=_0x44744f['trim']()+this['fileName']['trim']());}this['bytesRead']+=-0x1*0x2555+-0xcb*-0x1d+-0x66*-0x29;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(0xfa2+0x1*0x211e+-0x30bf);if(this['fileType']===''||this['fileType']==='0'){const _0x1a73df=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0xf52b6c={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x1a73df};this['fire']('file',_0xf52b6c);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(0x1*0xbcb+0x15*-0x173+0x12a5);const _0x981ef8=this['bytesRead']%this['paddingSiz'+'e'];return _0x981ef8!==-0x1*-0x1f3c+-0x1*-0x3fd+-0x2339&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x981ef8),!(-0x1719+-0x2369+-0x3a82*-0x1);}return!(0x268*-0x4+0x3*-0xa47+0x2876);}}class Qe{constructor(_0x50b27d,_0x57565a){h(this,'handlerTyp'+'e',''),h(this,'_app'),h(this,'_maxRetrie'+'s',0x77+0x20c7+-0x213e),(this['_app']=_0x50b27d,this['handlerTyp'+'e']=_0x57565a);}set['maxRetries'](_0x10463f){this['_maxRetrie'+'s']=_0x10463f;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x4dce94,_0xb2afa6,_0x53e147){}['open'](_0x2971fb,_0x563c24,_0x570047){return _0x563c24;}['patch'](_0x390d58,_0x4dfa4d){}}class VC extends Qe{constructor(_0x569a9c){super(_0x569a9c,'bundle'),this['_assets']=_0x569a9c['assets'];}['_fetchRetr'+'ies'](_0x10df9e,_0x44ab05,_0x40e866=0x23ae*0x1+0x610+0x14df*-0x2){return new Promise((_0x21f5b7,_0x58f2e9)=>{const _0x43df7e=()=>{fetch(_0x10df9e,_0x44ab05)['then'](_0x21f5b7)['catch'](_0x5a3c16=>{_0x40e866++,_0x40e866<this['maxRetries']?(w['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x40e866),_0x43df7e()):_0x58f2e9(_0x5a3c16);});};_0x43df7e();});}['load'](_0x1dcd98,_0x332936){typeof _0x1dcd98=='string'&&(_0x1dcd98={'load':_0x1dcd98,'original':_0x1dcd98}),this['_fetchRetr'+'ies'](_0x1dcd98['load'],{'mode':'cors'},this['maxRetries'])['then'](_0x3de243=>{const _0x3070cc=new gu();_0x332936(null,_0x3070cc);const _0x184466=new zC(_0x3de243,this['_assets']['prefix']);_0x184466['on']('file',_0x375128=>{_0x3070cc['addFile'](_0x375128['name'],_0x375128['data']);}),_0x184466['on']('done',()=>{_0x3070cc['loaded']=!(-0x1*0xf07+-0x1c79+0x2b80);}),_0x184466['on']('error',_0x97480a=>{w['error'](_0x97480a),_0x332936(_0x97480a);});})['catch'](_0x447b85=>{w['error'](_0x447b85),_0x332936(_0x447b85);});}['open'](_0x307f76,_0x1daf1a){return _0x1daf1a;}}class Cn{constructor(_0x4eb296){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x4eb296;}['addHandler'](_0x5be52b,_0x40f1eb){this['_handlers'][_0x5be52b]=_0x40f1eb,_0x40f1eb['_loader']=this;}['removeHand'+'ler'](_0x438759){delete this['_handlers'][_0x438759];}['getHandler'](_0x3867a4){return this['_handlers'][_0x3867a4];}static['makeKey'](_0x186e4f,_0x102436){return _0x186e4f+'-'+_0x102436;}['load'](_0x10b94a,_0x409475,_0x324a6a,_0x4dce2b,_0x5e654a){var _0x25a655;const _0x1b3ab4=this['_handlers'][_0x409475];if(!_0x1b3ab4){const _0x30585f='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x409475+('\x27\x20when\x20loa'+'ding\x20[')+_0x10b94a+']';w['errorOnce'](_0x30585f),_0x324a6a(_0x30585f);return;}if(!_0x10b94a){this['_loadNull'](_0x1b3ab4,_0x324a6a,_0x4dce2b);return;}const _0x1f53ed=Cn['makeKey'](_0x10b94a,_0x409475);if(this['_requests'][_0x1f53ed])this['_requests'][_0x1f53ed]['push'](_0x324a6a);else{this['_requests'][_0x1f53ed]=[_0x324a6a];const _0x5f37c5=this,_0x3f6df0=function(_0xd3fe0d,_0x13f140){if(_0xd3fe0d){_0x5f37c5['_onFailure'](_0x1f53ed,_0xd3fe0d);return;}if(_0x13f140['load']instanceof DataView){if(_0x1b3ab4['openBinary']){if(!_0x5f37c5['_requests'][_0x1f53ed])return;try{const _0x1b68de=_0x1b3ab4['openBinary'](_0x13f140['load']);_0x5f37c5['_onSuccess'](_0x1f53ed,_0x1b68de);}catch(_0x1a2c5b){_0x5f37c5['_onFailure'](_0x1f53ed,_0x1a2c5b);}return;}_0x13f140['load']=URL['createObje'+'ctURL'](new Blob([_0x13f140['load']])),_0x4dce2b&&(_0x4dce2b['urlObject']&&URL['revokeObje'+'ctURL'](_0x4dce2b['urlObject']),_0x4dce2b['urlObject']=_0x13f140['load']);}_0x1b3ab4['load'](_0x13f140,(_0x7b7ce6,_0x2f591e,_0x2f2992)=>{if(_0x5f37c5['_requests'][_0x1f53ed]){if(_0x7b7ce6){_0x5f37c5['_onFailure'](_0x1f53ed,_0x7b7ce6);return;}try{_0x5f37c5['_onSuccess'](_0x1f53ed,_0x1b3ab4['open'](_0x13f140['original'],_0x2f591e,_0x4dce2b),_0x2f2992);}catch(_0x27fbbd){_0x5f37c5['_onFailure'](_0x1f53ed,_0x27fbbd);}}},_0x4dce2b);},_0x1e4262=_0x10b94a['split']('?')[0x6a5*0x1+0x2681+-0x2d26];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x1e4262)&&!(_0x5e654a&&_0x5e654a['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x1e4262)){const _0x17a6ab=this['_app']['bundles']['listBundle'+'sForAsset'](_0x4dce2b);let _0x587d86;_0x5e654a&&_0x5e654a['bundlesFil'+'ter']&&(_0x587d86=_0x5e654a['bundlesFil'+'ter'](_0x17a6ab)),_0x587d86||(_0x17a6ab==null||_0x17a6ab['sort']((_0xa6f56,_0xd3482f)=>_0xa6f56['file']['size']-_0xd3482f['file']['size']),_0x587d86=_0x17a6ab==null?void(0x5*0x59f+-0x1a47+-0x75*0x4):_0x17a6ab[0x81e+-0xa*-0x2c8+-0x23ee]),_0x587d86&&((_0x25a655=this['_app']['assets'])==null||_0x25a655['load'](_0x587d86));}this['_app']['bundles']['loadUrl'](_0x1e4262,(_0x90ab9e,_0x2c1875)=>{_0x3f6df0(_0x90ab9e,{'load':_0x2c1875,'original':_0x1e4262});});}else _0x3f6df0(null,{'load':_0x10b94a,'original':_0x4dce2b&&_0x4dce2b['file']['filename']||_0x10b94a});}}['_loadNull'](_0x4bed0a,_0x5a8745,_0x5b2ff5){const _0x36a02=function(_0x521a6e,_0x333ad7,_0x4b8597){if(_0x521a6e)_0x5a8745(_0x521a6e);else try{_0x5a8745(null,_0x4bed0a['open'](null,_0x333ad7,_0x5b2ff5),_0x4b8597);}catch(_0x49e635){_0x5a8745(_0x49e635);}};_0x4bed0a['load'](null,_0x36a02,_0x5b2ff5);}['_onSuccess'](_0x2852d7,_0x183b7a,_0x215688){for(let _0x4bc731=-0x96b*-0x3+0x229*-0x1+0x5*-0x538;_0x4bc731<this['_requests'][_0x2852d7]['length'];_0x4bc731++)this['_requests'][_0x2852d7][_0x4bc731](null,_0x183b7a,_0x215688);delete this['_requests'][_0x2852d7];}['_onFailure'](_0x34e7b3,_0x834bb2){if(console['error'](_0x834bb2),this['_requests'][_0x34e7b3]){for(let _0x2c1821=0xd42+0xf2*0x11+-0x1d54;_0x2c1821<this['_requests'][_0x34e7b3]['length'];_0x2c1821++)this['_requests'][_0x34e7b3][_0x2c1821](_0x834bb2);delete this['_requests'][_0x34e7b3];}}['open'](_0x2d0a93,_0x26bdda){const _0x3105d4=this['_handlers'][_0x2d0a93];return _0x3105d4?_0x3105d4['open'](null,_0x26bdda):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x2d0a93),_0x26bdda);}['patch'](_0x261a31,_0x4cf7a2){const _0x442585=this['_handlers'][_0x261a31['type']];if(!_0x442585){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x261a31['type']);return;}_0x442585['patch']&&_0x442585['patch'](_0x261a31,_0x4cf7a2);}['clearCache'](_0x4f029a,_0x66fd4e){const _0x3b7cd2=Cn['makeKey'](_0x4f029a,_0x66fd4e);delete this['_cache'][_0x3b7cd2];}['getFromCac'+'he'](_0x2728ef,_0x3aa735){const _0x130f8a=Cn['makeKey'](_0x2728ef,_0x3aa735);if(this['_cache'][_0x130f8a])return this['_cache'][_0x130f8a];}['enableRetr'+'y'](_0x541742=-0x1*-0x1fe9+0x1ffc+0x1c*-0x248){_0x541742=Math['max'](0x507+-0x2*0xe1+-0x1*0x345,_0x541742)||0x15*-0x3b+0x156f*0x1+0x48*-0x3b;for(const _0x1ca8de in this['_handlers'])this['_handlers'][_0x1ca8de]['maxRetries']=_0x541742;}['disableRet'+'ry'](){for(const _0x170990 in this['_handlers'])this['_handlers'][_0x170990]['maxRetries']=0x2d2*-0x6+-0x23f9+0x34e5;}['destroyReq'+'uests'](){this['_requests']={};}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class GC{['_validate'](_0x4edb4d){if(!_0x4edb4d['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0x4edb4d['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0x4edb4d['header']['version']!==0x15a5+-0x17f+0x1b*-0xbf)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0x4edb4d['data']){if(!Array['isArray'](_0x4edb4d['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x39cdec=0x145*-0x11+0x18d7+0x2*-0x1a1,_0x39d387=_0x4edb4d['data']['length'];_0x39cdec<_0x39d387;_0x39cdec++){const _0x21eb80=_0x4edb4d['data'][_0x39cdec];if(!_0x21eb80['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x39cdec+('].info\x22\x20fi'+'eld'));if(!_0x21eb80['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x39cdec+('].info.loc'+'ale\x22\x20field'));if(typeof _0x21eb80['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x39cdec+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x21eb80['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x39cdec+('].messages'+'\x22\x20field'));}}['parse'](_0x4a2fe3){return this['_validate'](_0x4a2fe3),_0x4a2fe3['data'];}}const Gh=class Gh extends me{constructor(_0x46d1db){super(),this['locale']=Ph,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x46d1db,this['_assets']=[],this['_parser']=new GC();}set['assets'](_0x27335c){const _0x33408a={};for(let _0x589587=0x334*0x1+-0x232e*0x1+0x1ffa,_0x300e65=_0x27335c['length'];_0x589587<_0x300e65;_0x589587++){const _0x546469=_0x27335c[_0x589587]instanceof pe?_0x27335c[_0x589587]['id']:_0x27335c[_0x589587];_0x33408a[_0x546469]=!(-0x5df+0x923*-0x3+0x2148);}let _0xb30ff9=this['_assets']['length'];for(;_0xb30ff9--;){const _0x17be57=this['_assets'][_0xb30ff9];if(!_0x33408a[_0x17be57]){this['_app']['assets']['off']('add:'+_0x17be57,this['_onAssetAd'+'d'],this);const _0x1d7430=this['_app']['assets']['get'](_0x17be57);_0x1d7430&&this['_onAssetRe'+'move'](_0x1d7430),this['_assets']['splice'](_0xb30ff9,0x2022+0x6e6+-0x2707*0x1);}}for(const _0x41cadd in _0x33408a){const _0x3f2607=parseInt(_0x41cadd,0xb3e*0x2+-0x1705+-0x15*-0x7);if(this['_assets']['indexOf'](_0x3f2607)!==-(0x1e1*0x2+0x57*0x8+-0x679))continue;this['_assets']['push'](_0x3f2607);const _0x2b9e90=this['_app']['assets']['get'](_0x3f2607);_0x2b9e90?this['_onAssetAd'+'d'](_0x2b9e90):this['_app']['assets']['once']('add:'+_0x3f2607,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0x3a0b8a){if(this['_locale']===_0x3a0b8a)return;let _0x9a2fbc=Oi(_0x3a0b8a);if(_0x9a2fbc==='in'&&(_0x9a2fbc='id',_0x3a0b8a=LC(_0x3a0b8a,_0x9a2fbc),this['_locale']===_0x3a0b8a))return;const _0x4cd676=this['_locale'];this['_locale']=_0x3a0b8a,this['_lang']=_0x9a2fbc,this['_pluralFn']=Tf(this['_lang']),this['fire'](Gh['EVENT_CHAN'+'GE'],_0x3a0b8a,_0x4cd676);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x932a84,_0x1e107b){return Fv(_0x932a84,_0x1e107b);}['findAvaila'+'bleLocale'](_0x5d9a97){if(this['_translati'+'ons'][_0x5d9a97])return _0x5d9a97;const _0x3bd8b2=Oi(_0x5d9a97);return this['_findFallb'+'ackLocale'](_0x5d9a97,_0x3bd8b2);}['getText'](_0x4217d1,_0x4b2034){let _0x1d651c=_0x4217d1,_0x257b94;_0x4b2034||(_0x4b2034=this['_locale'],_0x257b94=this['_lang']);let _0x2d4f67=this['_translati'+'ons'][_0x4b2034];return _0x2d4f67||(_0x257b94||(_0x257b94=Oi(_0x4b2034)),_0x4b2034=this['_findFallb'+'ackLocale'](_0x4b2034,_0x257b94),_0x2d4f67=this['_translati'+'ons'][_0x4b2034]),_0x2d4f67&&_0x2d4f67['hasOwnProp'+'erty'](_0x4217d1)&&(_0x1d651c=_0x2d4f67[_0x4217d1],Array['isArray'](_0x1d651c)&&(_0x1d651c=_0x1d651c[0x104e+0xf79+-0x1*0x1fc7]),_0x1d651c==null&&(_0x1d651c=_0x4217d1)),_0x1d651c;}['getPluralT'+'ext'](_0x1788e3,_0x12d4cb,_0x59ea7e){let _0x19de36=_0x1788e3,_0x13646b,_0xb8dc96;_0x59ea7e?(_0x13646b=Oi(_0x59ea7e),_0xb8dc96=Tf(_0x13646b)):(_0x59ea7e=this['_locale'],_0x13646b=this['_lang'],_0xb8dc96=this['_pluralFn']);let _0x23f61f=this['_translati'+'ons'][_0x59ea7e];if(_0x23f61f||(_0x59ea7e=this['_findFallb'+'ackLocale'](_0x59ea7e,_0x13646b),_0x13646b=Oi(_0x59ea7e),_0xb8dc96=Tf(_0x13646b),_0x23f61f=this['_translati'+'ons'][_0x59ea7e]),_0x23f61f&&_0x23f61f[_0x1788e3]&&_0xb8dc96){const _0x54f0fc=_0xb8dc96(_0x12d4cb);_0x19de36=_0x23f61f[_0x1788e3][_0x54f0fc],_0x19de36==null&&(_0x19de36=_0x1788e3);}return _0x19de36;}['addData'](_0x25ef5e){let _0x350a4b;try{_0x350a4b=this['_parser']['parse'](_0x25ef5e);}catch(_0x330450){console['error'](_0x330450);return;}for(let _0x17613c=-0x14d5+0xeb+0x13ea,_0x1fbb94=_0x350a4b['length'];_0x17613c<_0x1fbb94;_0x17613c++){const _0x2cacd7=_0x350a4b[_0x17613c],_0x48d68c=_0x2cacd7['info']['locale'],_0x1a0614=_0x2cacd7['messages'];if(!this['_translati'+'ons'][_0x48d68c]){this['_translati'+'ons'][_0x48d68c]={};const _0x9bcfd7=Oi(_0x48d68c);this['_available'+'Langs'][_0x9bcfd7]||(this['_available'+'Langs'][_0x9bcfd7]=_0x48d68c);}Object['assign'](this['_translati'+'ons'][_0x48d68c],_0x1a0614),this['fire']('data:add',_0x48d68c,_0x1a0614);}}['removeData'](_0x16f87a){let _0x414d63;try{_0x414d63=this['_parser']['parse'](_0x16f87a);}catch(_0x10a636){console['error'](_0x10a636);return;}for(let _0xbc16f5=0x17*-0x1a+-0x1926+0x1b7c,_0x4ac150=_0x414d63['length'];_0xbc16f5<_0x4ac150;_0xbc16f5++){const _0x499d7f=_0x414d63[_0xbc16f5],_0x223e32=_0x499d7f['info']['locale'],_0xccf9f6=this['_translati'+'ons'][_0x223e32];if(!_0xccf9f6)continue;const _0x450b08=_0x499d7f['messages'];for(const _0x76d159 in _0x450b08)delete _0xccf9f6[_0x76d159];Object['keys'](_0xccf9f6)['length']===0xa79*0x1+0x150f+-0x1f88&&(delete this['_translati'+'ons'][_0x223e32],delete this['_available'+'Langs'][Oi(_0x223e32)]),this['fire']('data:remov'+'e',_0x223e32,_0x450b08);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x3dee6d,_0x575102){let _0x40cfe6=Mh[_0x3dee6d];return _0x40cfe6&&this['_translati'+'ons'][_0x40cfe6]||(_0x40cfe6=Mh[_0x575102],_0x40cfe6&&this['_translati'+'ons'][_0x40cfe6])||(_0x40cfe6=this['_available'+'Langs'][_0x575102],_0x40cfe6&&this['_translati'+'ons'][_0x40cfe6])?_0x40cfe6:Ph;}['_onAssetAd'+'d'](_0x1ad931){_0x1ad931['on']('load',this['_onAssetLo'+'ad'],this),_0x1ad931['on']('change',this['_onAssetCh'+'ange'],this),_0x1ad931['on']('remove',this['_onAssetRe'+'move'],this),_0x1ad931['on']('unload',this['_onAssetUn'+'load'],this),_0x1ad931['resource']&&this['_onAssetLo'+'ad'](_0x1ad931);}['_onAssetLo'+'ad'](_0x21ee30){this['addData'](_0x21ee30['resource']);}['_onAssetCh'+'ange'](_0x66c58b){_0x66c58b['resource']&&this['addData'](_0x66c58b['resource']);}['_onAssetRe'+'move'](_0x1698d3){_0x1698d3['off']('load',this['_onAssetLo'+'ad'],this),_0x1698d3['off']('change',this['_onAssetCh'+'ange'],this),_0x1698d3['off']('remove',this['_onAssetRe'+'move'],this),_0x1698d3['off']('unload',this['_onAssetUn'+'load'],this),_0x1698d3['resource']&&this['removeData'](_0x1698d3['resource']),this['_app']['assets']['once']('add:'+_0x1698d3['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x1af685){_0x1af685['resource']&&this['removeData'](_0x1af685['resource']);}};h(Gh,'EVENT_CHAN'+'GE','change');let wa=Gh;class HC extends me{constructor(_0x5e1715){super(),h(this,'_scripts',{}),h(this,'_list',[]),h(this,'_scriptSch'+'emas',new Map()),this['app']=_0x5e1715;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x5c7aed,_0x184c2e){_0x184c2e&&this['_scriptSch'+'emas']['set'](_0x5c7aed,_0x184c2e);}['getSchema'](_0x5bdf18){return this['_scriptSch'+'emas']['get'](_0x5bdf18);}['add'](_0x40cfdf){const _0x232cdf=_0x40cfdf['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x232cdf)?(setTimeout(()=>{if(_0x40cfdf['prototype']['swap']){const _0x36ad65=this['_scripts'][_0x232cdf],_0x54fb48=this['_list']['indexOf'](_0x36ad65);this['_list'][_0x54fb48]=_0x40cfdf,this['_scripts'][_0x232cdf]=_0x40cfdf,this['fire']('swap',_0x232cdf,_0x40cfdf),this['fire']('swap:'+_0x232cdf,_0x40cfdf);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x232cdf+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(0x24b0+-0x162a+0xb1*-0x15)):(this['_scripts'][_0x232cdf]=_0x40cfdf,this['_list']['push'](_0x40cfdf),this['fire']('add',_0x232cdf,_0x40cfdf),this['fire']('add:'+_0x232cdf,_0x40cfdf),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x232cdf)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x4db141=this['app']['systems']['script']['_component'+'s'];let _0x234e96;const _0x52ea41=[],_0x32b439=[];for(_0x4db141['loopIndex']=-0x1409*-0x1+0x3e+-0x1447;_0x4db141['loopIndex']<_0x4db141['length'];_0x4db141['loopIndex']++){const _0xdf20cd=_0x4db141['items'][_0x4db141['loopIndex']];if(_0xdf20cd['_scriptsIn'+'dex'][_0x232cdf]&&_0xdf20cd['_scriptsIn'+'dex'][_0x232cdf]['awaiting']){_0xdf20cd['_scriptsDa'+'ta']&&_0xdf20cd['_scriptsDa'+'ta'][_0x232cdf]&&(_0x234e96=_0xdf20cd['_scriptsDa'+'ta'][_0x232cdf]['attributes']);const _0x1316c4=_0xdf20cd['create'](_0x232cdf,{'preloading':!(-0xc31*-0x3+-0x2147+-0x34c),'ind':_0xdf20cd['_scriptsIn'+'dex'][_0x232cdf]['ind'],'attributes':_0x234e96});_0x1316c4&&_0x52ea41['push'](_0x1316c4);for(const _0x23f724 of _0xdf20cd['scripts'])_0xdf20cd['initialize'+'Attributes'](_0x23f724);}}for(let _0x16bd41=-0x35f*-0x6+-0xd83+-0x9*0xbf;_0x16bd41<_0x52ea41['length'];_0x16bd41++)_0x52ea41[_0x16bd41]['enabled']&&(_0x52ea41[_0x16bd41]['_initializ'+'ed']=!(-0x1*0x1334+0x25d8+-0x1*0x12a4),_0x32b439['push'](_0x52ea41[_0x16bd41]),_0x52ea41[_0x16bd41]['initialize']&&_0x52ea41[_0x16bd41]['initialize']());for(let _0x15defe=-0x21af*0x1+-0x5*0x1ff+-0x26d*-0x12;_0x15defe<_0x32b439['length'];_0x15defe++)!_0x32b439[_0x15defe]['enabled']||_0x32b439[_0x15defe]['_postIniti'+'alized']||(_0x32b439[_0x15defe]['_postIniti'+'alized']=!(0x26dd+0x1*0x1672+-0x1*0x3d4f),_0x32b439[_0x15defe]['postInitia'+'lize']&&_0x32b439[_0x15defe]['postInitia'+'lize']());}),!(-0x1184+-0x2*-0x1349+-0xf5*0x16));}['remove'](_0x560a19){let _0x4e7050=_0x560a19,_0x382d28=_0x560a19;if(typeof _0x382d28!='string'?_0x382d28=_0x4e7050['__name']:_0x4e7050=this['get'](_0x382d28),this['get'](_0x382d28)!==_0x4e7050)return!(-0xfe*0x16+-0xe5c*-0x1+0x779);delete this['_scripts'][_0x382d28];const _0x58063a=this['_list']['indexOf'](_0x4e7050);return this['_list']['splice'](_0x58063a,-0x1*-0x16b5+0x181e+-0x2ed2),this['fire']('remove',_0x382d28,_0x4e7050),this['fire']('remove:'+_0x382d28,_0x4e7050),!(0xc4f+0x15e5+-0x2234*0x1);}['get'](_0x22ee0c){return this['_scripts'][_0x22ee0c]||null;}['has'](_0x497de7){if(typeof _0x497de7=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x497de7);if(!_0x497de7)return!(0x2605*-0x1+0x1*-0x1e5e+0x4464);const _0x210b42=_0x497de7['__name'];return this['_scripts'][_0x210b42]===_0x497de7;}['list'](){return this['_list'];}}const WC=(_0xf263b9,_0x40054b)=>_0xf263b9['constructo'+'r']['order']-_0x40054b['constructo'+'r']['order'],$C=_0x3e6338=>_0x3e6338['sort'](WC),po=[],Nv=[],XC=()=>Nv['pop']()??[],Ag=_0x4d22bf=>{_0x4d22bf['length']=-0x121e+0xce3*-0x1+0x1f01,Nv['push'](_0x4d22bf);},Hh=class Hh extends Ie{constructor(_0x2df9dd,_0x23407a=Ms()){super(_0x2df9dd),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'gsplat'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'c',{}),h(this,'_app'),h(this,'_destroyin'+'g',!(-0xf16+-0xb3c*-0x1+0x3db)),h(this,'_guid',null),h(this,'_template',!(-0x6cb+-0x722*-0x1+0x2b*-0x2)),(w['assert'](_0x23407a,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0x23407a);}['addCompone'+'nt'](_0x438d4f,_0x4e13b9){const _0xcd76be=this['_app']['systems'][_0x438d4f];return _0xcd76be?this['c'][_0x438d4f]?(w['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0x438d4f+('\x27\x20componen'+'t')),null):_0xcd76be['addCompone'+'nt'](this,_0x4e13b9):(w['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0x438d4f+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x508e0a){const _0x32ba10=this['_app']['systems'][_0x508e0a];if(!_0x32ba10){w['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x508e0a+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x508e0a]){w['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x508e0a+('\x27\x20componen'+'t'));return;}_0x32ba10['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x42bd0e){const _0x138597=this['findOne'](_0x22a3b3=>{var _0x5bb129;return(_0x5bb129=_0x22a3b3['c'])==null?void(-0x17*-0x2e+0x17*0xa4+-0xd2*0x17):_0x5bb129[_0x42bd0e];});return _0x138597&&_0x138597['c'][_0x42bd0e];}['findCompon'+'ents'](_0x595281){return this['find'](_0x1172a1=>{var _0x1d202a;return(_0x1d202a=_0x1172a1['c'])==null?void(0x1*-0x253f+0x1*-0x255+0x2794):_0x1d202a[_0x595281];})['map'](_0x55100d=>_0x55100d['c'][_0x595281]);}['findScript'](_0x5da144){const _0x41cac7=this['findOne'](_0x908bf=>{var _0x4dc559,_0x2968b5;return(_0x2968b5=(_0x4dc559=_0x908bf['c'])==null?void(-0x131d+0x1*-0x1426+0x1b5*0x17):_0x4dc559['script'])==null?void(-0x1d1a+-0x4d+0x1d67):_0x2968b5['has'](_0x5da144);});return _0x41cac7==null?void(0x62*-0xb+0xd28+0x8f2*-0x1):_0x41cac7['c']['script']['get'](_0x5da144);}['findScript'+'s'](_0x89f047){return this['find'](_0x529762=>{var _0x1eb6fe,_0x435b7e;return(_0x435b7e=(_0x1eb6fe=_0x529762['c'])==null?void(-0x19a5+-0x1ffd+0x39a2):_0x1eb6fe['script'])==null?void(0x2*0xfd1+0x3*0x995+0x1d*-0x215):_0x435b7e['has'](_0x89f047);})['map'](_0x28ddea=>_0x28ddea['c']['script']['get'](_0x89f047));}['getGuid'](){return this['_guid']||this['setGuid'](Q0['create']()),this['_guid'];}['setGuid'](_0x52b6e9){const _0x1624d7=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0x1624d7[this['_guid']],this['_guid']=_0x52b6e9,_0x1624d7[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x405c7a,_0x548c2b){let _0x3c8d8c=!(-0x1*-0x1f0+-0x3b*-0x89+-0x2182*0x1);_0x405c7a===this&&po['length']===0x7b*-0xb+0x1fd8+-0x1*0x1a8f&&(_0x3c8d8c=!(0x42d+0xe44+0x1*-0x1271)),_0x405c7a['_beingEnab'+'led']=!(0x819*-0x1+-0x1f51+0x276a),_0x405c7a['_onHierarc'+'hyStateCha'+'nged'](_0x548c2b),_0x405c7a['_onHierarc'+'hyStatePos'+'tChanged']&&po['push'](_0x405c7a);const _0x2faa50=_0x405c7a['_children'];for(let _0x1cc137=-0x175*-0x3+0x259*0x4+-0xdc3,_0x1f2356=_0x2faa50['length'];_0x1cc137<_0x1f2356;_0x1cc137++)_0x2faa50[_0x1cc137]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x2faa50[_0x1cc137],_0x548c2b);if(_0x405c7a['_beingEnab'+'led']=!(0x1*-0x1406+0x26*0x39+0xb91),_0x3c8d8c){for(let _0x5a7c06=0x1755+-0x1*0x1aa1+0x1*0x34c;_0x5a7c06<po['length'];_0x5a7c06++)po[_0x5a7c06]['_onHierarc'+'hyStatePos'+'tChanged']();po['length']=-0x268a+0x200b+0x1*0x67f;}}['_onHierarc'+'hyStateCha'+'nged'](_0x31e5a){super['_onHierarc'+'hyStateCha'+'nged'](_0x31e5a);const _0x5612d4=this['_getSorted'+'Components']();for(let _0x1544bc=-0x135*0x7+-0x253f+0x2db2;_0x1544bc<_0x5612d4['length'];_0x1544bc++){const _0x35eff0=_0x5612d4[_0x1544bc];_0x35eff0['enabled']&&(_0x31e5a?_0x35eff0['onEnable']():_0x35eff0['onDisable']());}Ag(_0x5612d4);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x2fe67d=this['_getSorted'+'Components']();for(let _0x66b7b1=0x2*-0x111d+-0xc3d+-0x41*-0xb7;_0x66b7b1<_0x2fe67d['length'];_0x66b7b1++)_0x2fe67d[_0x66b7b1]['onPostStat'+'eChange']();Ag(_0x2fe67d);}['findByGuid'](_0xbb8ca){if(this['_guid']===_0xbb8ca)return this;const _0x1ccbf3=this['_app']['_entityInd'+'ex'][_0xbb8ca];return _0x1ccbf3&&(_0x1ccbf3===this||_0x1ccbf3['isDescenda'+'ntOf'](this))?_0x1ccbf3:null;}['destroy'](){this['_destroyin'+'g']=!(-0x1*-0x14c7+0x2f*-0x28+-0xb5*0x13);for(const _0x499b91 in this['c'])this['c'][_0x499b91]['enabled']=!(-0x5ce+0x174b+-0x6*0x2ea);for(const _0x2545ae in this['c'])this['c'][_0x2545ae]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(-0xa*-0x10b+0x2375*-0x1+0x1908);}['clone'](){const _0x3555a8={},_0x1ef5bf=this['_cloneRecu'+'rsively'](_0x3555a8);return _0x3555a8[this['getGuid']()]=_0x1ef5bf,kv(this,this,_0x1ef5bf,_0x3555a8),_0x1ef5bf;}['_getSorted'+'Components'](){const _0x14f937=this['c'],_0x1704b7=XC();let _0x398e05=0x125*-0x19+-0x232*0xe+0x3b59;for(const _0x247667 in _0x14f937)if(_0x14f937['hasOwnProp'+'erty'](_0x247667)){const _0xf43304=_0x14f937[_0x247667];_0x398e05|=_0xf43304['constructo'+'r']['order']!==-0x74*0x22+-0x1be0+0x2b48,_0x1704b7['push'](_0xf43304);}return _0x398e05&&_0x1704b7['length']>-0x536+-0x1f3c*0x1+0x2473&&$C(_0x1704b7),_0x1704b7;}['_cloneRecu'+'rsively'](_0x239e36){const _0x58eaf1=new this['constructo'+'r'](void(-0x1bd2+-0x4ac*0x5+0x332e),this['_app']);super['_cloneInte'+'rnal'](_0x58eaf1);for(const _0x32bf8 in this['c'])this['c'][_0x32bf8]['system']['cloneCompo'+'nent'](this,_0x58eaf1);for(let _0xa5f7c8=-0x106*0xd+-0x1ead+0x2bfb;_0xa5f7c8<this['_children']['length'];_0xa5f7c8++){const _0x5288cc=this['_children'][_0xa5f7c8];if(_0x5288cc instanceof Hh){const _0x4e70ba=_0x5288cc['_cloneRecu'+'rsively'](_0x239e36);_0x58eaf1['addChild'](_0x4e70ba),_0x239e36[_0x5288cc['getGuid']()]=_0x4e70ba;}}return _0x58eaf1;}};h(Hh,'EVENT_DEST'+'ROY','destroy');let lt=Hh;function kv(_0x3824e3,_0x549d65,_0x27921f,_0x2f8af8){if(_0x549d65 instanceof lt){const _0x22aec3=_0x549d65['c'];for(const _0x17e74d in _0x22aec3){const _0x5067e2=_0x22aec3[_0x17e74d],_0x29ae34=_0x5067e2['system']['getPropert'+'iesOfType']('entity');for(let _0x21b7f3=0x11*-0x1ca+0x22e6+-0x47c,_0x159a0a=_0x29ae34['length'];_0x21b7f3<_0x159a0a;_0x21b7f3++){const _0x24d571=_0x29ae34[_0x21b7f3]['name'],_0x26ebcb=_0x5067e2[_0x24d571];if(!!_0x3824e3['findByGuid'](_0x26ebcb)){const _0x352d17=_0x2f8af8[_0x26ebcb]['getGuid']();_0x352d17?_0x27921f['c'][_0x17e74d][_0x24d571]=_0x352d17:w['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x22aec3['script']&&_0x27921f['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x22aec3['script'],_0x2f8af8),_0x22aec3['render']&&_0x27921f['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x22aec3['render'],_0x2f8af8),_0x22aec3['button']&&_0x27921f['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x22aec3['button'],_0x2f8af8),_0x22aec3['scrollview']&&_0x27921f['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x22aec3['scrollview'],_0x2f8af8),_0x22aec3['scrollbar']&&_0x27921f['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x22aec3['scrollbar'],_0x2f8af8),_0x22aec3['anim']&&_0x27921f['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x22aec3['anim'],_0x2f8af8);const _0x165abb=_0x549d65['children']['filter'](_0xb131b7=>_0xb131b7 instanceof lt),_0x287c0f=_0x27921f['children']['filter'](_0x377d6e=>_0x377d6e instanceof lt);for(let _0x47da1e=-0x1cf0+-0xdab+0xd*0x347,_0x27f50e=_0x165abb['length'];_0x47da1e<_0x27f50e;_0x47da1e++)kv(_0x3824e3,_0x165abb[_0x47da1e],_0x287c0f[_0x47da1e],_0x2f8af8);}}class Cg{constructor(_0x59acc9,_0xdcff58){h(this,'name'),h(this,'url'),h(this,'data',null),h(this,'_loading',!(0x37f+-0xc1+-0x1*0x2bd)),h(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x59acc9,this['url']=_0xdcff58);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class qC{constructor(_0x5586dd){h(this,'_app'),h(this,'_list',[]),h(this,'_index',{}),h(this,'_urlIndex',{}),this['_app']=_0x5586dd;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0x2f7fb7,_0x3b5554){if(this['_index']['hasOwnProp'+'erty'](_0x2f7fb7))return w['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0x2f7fb7),!(0x67*0x2f+-0xb*-0x2d0+-0x31d8);const _0x3d91d3=new Cg(_0x2f7fb7,_0x3b5554),_0x3dcfeb=this['_list']['push'](_0x3d91d3);return this['_index'][_0x3d91d3['name']]=_0x3dcfeb-(-0x4d3*-0x6+-0xef*-0x19+-0x3448),this['_urlIndex'][_0x3d91d3['url']]=_0x3dcfeb-(-0x1a17+0x171*-0x13+0x1*0x357b),!(-0xe41+-0x245d+0x329e);}['find'](_0x29f9dc){return this['_index']['hasOwnProp'+'erty'](_0x29f9dc)?this['_list'][this['_index'][_0x29f9dc]]:null;}['findByUrl'](_0x46c713){return this['_urlIndex']['hasOwnProp'+'erty'](_0x46c713)?this['_list'][this['_urlIndex'][_0x46c713]]:null;}['remove'](_0x523d10){if(this['_index']['hasOwnProp'+'erty'](_0x523d10)){const _0x11583c=this['_index'][_0x523d10];let _0x4e0057=this['_list'][_0x11583c];delete this['_urlIndex'][_0x4e0057['url']],delete this['_index'][_0x523d10],this['_list']['splice'](_0x11583c,-0xb66+-0x1*0x4b9+0x1020);for(let _0x13f1cf=-0x1075+0x269d+-0x1628;_0x13f1cf<this['_list']['length'];_0x13f1cf++)_0x4e0057=this['_list'][_0x13f1cf],this['_index'][_0x4e0057['name']]=_0x13f1cf,this['_urlIndex'][_0x4e0057['url']]=_0x13f1cf;}}['_loadScene'+'Data'](_0x22545a,_0x398af6,_0x1d55a2){const _0x43459e=this['_app'];let _0xc29ac1=_0x22545a;if(typeof _0x22545a=='string'&&(_0x22545a=this['findByUrl'](_0xc29ac1)||this['find'](_0xc29ac1)||new Cg('Untitled',_0xc29ac1)),_0xc29ac1=_0x22545a['url'],!_0xc29ac1){_0x1d55a2('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x22545a['loaded']){_0x1d55a2(null,_0x22545a);return;}_0x43459e['assets']&&_0x43459e['assets']['prefix']&&!jn['test'](_0xc29ac1)&&(_0xc29ac1=xe['join'](_0x43459e['assets']['prefix'],_0xc29ac1)),_0x22545a['_onLoadedC'+'allbacks']['push'](_0x1d55a2),_0x22545a['_loading']||_0x43459e['loader']['getHandler']('hierarchy')['load'](_0xc29ac1,(_0x559eea,_0x8f516b)=>{_0x22545a['data']=_0x8f516b,_0x22545a['_loading']=!(-0x5d*0x3e+0xb98+-0xaef*-0x1);for(let _0x2e097e=0x3*0x655+-0x250f+0x1210;_0x2e097e<_0x22545a['_onLoadedC'+'allbacks']['length'];_0x2e097e++)_0x22545a['_onLoadedC'+'allbacks'][_0x2e097e](_0x559eea,_0x22545a);_0x398af6||(_0x22545a['data']=null),_0x22545a['_onLoadedC'+'allbacks']['length']=-0x13*-0x7c+-0x255c+0x22*0xd4;}),_0x22545a['_loading']=!(0xa85+-0x1193+0x2a*0x2b);}['loadSceneD'+'ata'](_0x1f9204,_0x17e040){this['_loadScene'+'Data'](_0x1f9204,!(0x1f4c+0x2181+-0x139*0x35),_0x17e040);}['unloadScen'+'eData'](_0x2d668e){typeof _0x2d668e=='string'&&(_0x2d668e=this['findByUrl'](_0x2d668e)),_0x2d668e&&(_0x2d668e['data']=null);}['_loadScene'+'Hierarchy'](_0x5cbddd,_0x2fe65c,_0x140e74){this['_loadScene'+'Data'](_0x5cbddd,!(0x19f8+-0x1*0x1fc5+-0x2*-0x2e7),(_0x1e3cca,_0x22edf3)=>{if(_0x1e3cca){_0x140e74&&_0x140e74(_0x1e3cca);return;}_0x2fe65c&&_0x2fe65c(_0x22edf3);const _0x15bc9a=this['_app'],_0x358698=()=>{const _0x111506=_0x15bc9a['loader']['getHandler']('hierarchy');_0x15bc9a['systems']['script']['preloading']=!(0x14f4*-0x1+-0x618+0x1*0x1b0c);const _0x869933=_0x111506['open'](_0x22edf3['url'],_0x22edf3['data']);_0x15bc9a['systems']['script']['preloading']=!(-0xea2+0x1a*0x152+-0x47*0x47),_0x15bc9a['loader']['clearCache'](_0x22edf3['url'],'hierarchy'),_0x15bc9a['root']['addChild'](_0x869933),_0x15bc9a['systems']['fire']('initialize',_0x869933),_0x15bc9a['systems']['fire']('postInitia'+'lize',_0x869933),_0x15bc9a['systems']['fire']('postPostIn'+'itialize',_0x869933),_0x140e74&&_0x140e74(null,_0x869933);};_0x15bc9a['_preloadSc'+'ripts'](_0x22edf3['data'],_0x358698);});}['loadSceneH'+'ierarchy'](_0x48920d,_0x364a93){this['_loadScene'+'Hierarchy'](_0x48920d,null,_0x364a93);}['loadSceneS'+'ettings'](_0xfa74d8,_0x211a5c){this['_loadScene'+'Data'](_0xfa74d8,!(0x2*-0x80a+0x899*0x1+0x77c),(_0x2faea5,_0x38442f)=>{_0x2faea5?_0x211a5c&&_0x211a5c(_0x2faea5):(this['_app']['applyScene'+'Settings'](_0x38442f['data']['settings']),_0x211a5c&&_0x211a5c(null));});}['changeScen'+'e'](_0x13a0f5,_0x2788d9){const _0x5e55a6=this['_app'],_0x1f99fc=_0x5bdd7c=>{const {children:_0x31c2e1}=_0x5e55a6['root'];for(;_0x31c2e1['length'];)_0x31c2e1[0x1fb7+-0x18b9+-0x6fe*0x1]['destroy']();_0x5e55a6['applyScene'+'Settings'](_0x5bdd7c['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x13a0f5,_0x1f99fc,_0x2788d9);}['loadScene'](_0x2a327b,_0x3c9cb7){const _0x546506=this['_app'],_0x58d68f=_0x546506['loader']['getHandler']('scene');_0x546506['assets']&&_0x546506['assets']['prefix']&&!jn['test'](_0x2a327b)&&(_0x2a327b=xe['join'](_0x546506['assets']['prefix'],_0x2a327b)),_0x58d68f['load'](_0x2a327b,(_0x3557fe,_0x53211f)=>{if(_0x3557fe)_0x3c9cb7&&_0x3c9cb7(_0x3557fe);else{const _0x4d4506=()=>{_0x546506['systems']['script']['preloading']=!(-0x19df+0xe58+0xb87*0x1);const _0x287444=_0x58d68f['open'](_0x2a327b,_0x53211f),_0x152b6d=this['findByUrl'](_0x2a327b);_0x152b6d&&!_0x152b6d['loaded']&&(_0x152b6d['data']=_0x53211f),_0x546506['systems']['script']['preloading']=!(-0x5e*0x3a+-0x4*0x892+0x1f*0x1cb),_0x546506['loader']['clearCache'](_0x2a327b,'scene'),_0x546506['loader']['patch']({'resource':_0x287444,'type':'scene'},_0x546506['assets']),_0x546506['root']['addChild'](_0x287444['root']),_0x546506['systems']['rigidbody']&&typeof Ammo<'u'&&_0x546506['systems']['rigidbody']['gravity']['set'](_0x287444['_gravity']['x'],_0x287444['_gravity']['y'],_0x287444['_gravity']['z']),_0x3c9cb7&&_0x3c9cb7(null,_0x287444);};_0x546506['_preloadSc'+'ripts'](_0x53211f,_0x4d4506);}});}}class jC{constructor(_0xb8338e){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0xb8338e['_shaderSta'+'ts'],this['vram']=_0xb8338e['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return Ms()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x3dff1c;return(_0x3dff1c=Ms()['lightmappe'+'r'])==null?void(-0x11*-0x212+0x279*-0x3+-0x1*0x1bc7):_0x3dff1c['stats'];}get['batcher'](){const _0x698cfd=Ms()['_batcher'];return _0x698cfd?_0x698cfd['_stats']:null;}}const YC='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',KC='\x0a\x0a#ifdef\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+'\x20AMBIENTSH'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20am'+'bientSH[9]'+';\x0a#endif\x0a\x0a'+'#if\x20LIT_AM'+'BIENT_SOUR'+'CE\x20==\x20ENVA'+'LATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fndef\x20ENV_'+'ATLAS\x0a\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_envAtlas'+';\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'AMBIENTSH\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20c'+'olor\x20=\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[0'+']\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[1]\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[2'+']\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[3]\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[4]\x20*\x20'+'n.x\x20*\x20n.z\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[5]\x20*\x20n'+'.z\x20*\x20n.y\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[6]\x20*\x20n.'+'y\x20*\x20n.x\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[7]\x20*\x20(3.'+'0\x20*\x20n.z\x20*\x20'+'n.z\x20-\x201.0)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[8]\x20*\x20'+'(n.x\x20*\x20n.x'+'\x20-\x20n.y\x20*\x20n'+'.y);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20processEn'+'vironment('+'max(color,'+'\x20vec3(0.0)'+'));\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_A'+'MBIENT_SOU'+'RCE\x20==\x20ENV'+'ALATLAS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dir\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+('28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw\x20=\x20tex'+'ture2D(tex'+'ture_envAt'+'las,\x20uv);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20linear\x20'+'=\x20{ambient'+'Decode}(ra'+'w);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'CONSTANT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20light'+'_globalAmb'+'ient;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),ZC='\x0a\x0a#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opyIntensi'+'ty;\x0a\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20material_'+'anisotropy'+'Rotation;\x0a'+'#endif\x0a\x0avo'+'id\x20getAnis'+'otropy()\x20{'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x200'+'.0;\x0a\x20\x20\x20\x20dA'+'nisotropyR'+'otation\x20=\x20'+'vec2(1.0,\x20'+'0.0);\x0a\x0a#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20m'+'aterial_an'+'isotropyIn'+'tensity;\x0a\x20'+'\x20\x20\x20dAnisot'+'ropyRotati'+'on\x20=\x20mater'+'ial_anisot'+'ropyRotati'+'on;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_ANI'+'SOTROPY_TE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropyTex\x20='+'\x20texture2D'+'Bias({STD_'+'ANISOTROPY'+'_TEXTURE_N'+'AME},\x20{STD'+'_ANISOTROP'+'Y_TEXTURE_'+'UV},\x20textu'+'reBias).rg'+'b;\x0a\x20\x20\x20\x20dAn'+'isotropy\x20*'+'=\x20anisotro'+'pyTex.b;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20a'+'nisotropyR'+'otationFro'+'mTex\x20=\x20ani'+'sotropyTex'+'.rg\x20*\x202.0\x20'+'-\x20vec2(1.0'+');\x0a\x20\x20\x20\x20mat'+'2\x20rotation'+'Matrix\x20=\x20m'+'at2(dAniso'+'tropyRotat'+'ion.x,\x20dAn'+'isotropyRo'+'tation.y,\x20'+'-dAnisotro'+'pyRotation'+'.y,\x20dAniso'+'tropyRotat'+'ion.x);\x0a\x20\x20'+'\x20\x20dAnisotr'+'opyRotatio'+'n\x20=\x20rotati'+'onMatrix\x20*'+'\x20anisotrop'+'yRotationF'+'romTex;\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20dA'+'nisotropy\x20'+'=\x20clamp(dA'+'nisotropy,'+'\x200.0,\x201.0)'+';\x0a}\x0a',QC='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_aoInten'+'sity;\x0a#end'+'if\x0a\x0a#ifdef'+'\x20STD_AODET'+'AIL_TEXTUR'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22deta'+'ilModesPS\x22'+'\x0a#endif\x0a\x0av'+'oid\x20getAO('+')\x20{\x0a\x20\x20\x20\x20dA'+'o\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'aoBase\x20=\x20t'+'exture2DBi'+'as({STD_AO'+'_TEXTURE_N'+'AME},\x20{STD'+'_AO_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_AO_TE'+'XTURE_CHAN'+'NEL};\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20aoDetail\x20'+'=\x20texture2'+'DBias({STD'+'_AODETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'AODETAIL_T'+'EXTURE_UV}'+',\x20textureB'+'ias).{STD_'+'AODETAIL_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'oBase\x20=\x20de'+'tailMode_{'+'STD_AODETA'+'IL_DETAILM'+'ODE}(vec3('+'aoBase),\x20v'+'ec3(aoDeta'+'il)).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_AO_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(STD_A'+'O_TEXTURE)'+'\x20||\x20define'+'d(STD_AO_V'+'ERTEX)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAo\x20='+'\x20mix(1.0,\x20'+'dAo,\x20mater'+'ial_aoInte'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',JC='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',e1='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0av'+'oid\x20occlud'+'eSpecular('+'float\x20glos'+'s,\x20float\x20a'+'o,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir)\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'AO\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_OCCLUDE_'+'SPECULAR_F'+'LOAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20specOcc'+'\x20=\x20mix(1.0'+',\x20ao,\x20mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20specOc'+'c\x20=\x20ao;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_OCC'+'LUDE_SPECU'+'LAR\x20==\x20GLO'+'SSDEPENDEN'+'T\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20approx'+'imated\x20spe'+'cular\x20occl'+'usion\x20from'+'\x20AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20http:'+'//research'+'.tri-ace.c'+'om/Data/ce'+'dec2011_Re'+'altimePBR_'+'Implementa'+'tion_e.ppt'+'x\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01\x20'+'*\x20specPow)'+'\x20-\x201.0\x20+\x20a'+'o);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20sp'+'ecOcc,\x20mat'+'erial_occl'+'udeSpecula'+'rIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20*=\x20specO'+'cc;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sReflecti'+'on\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a'),t1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001\x20'+'?\x20(1.0/255'+'.0)\x20:\x200.0)'+';\x0a\x20\x20\x20\x20}\x0a',s1='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'ambientBak'+'eOcclusion'+'Contrast\x20+'+'\x201.0,\x200.0)'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'vec3(ambie'+'ntBakeOccl'+'usionBrigh'+'tness);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20sa'+'turate(dDi'+'ffuseLight'+');\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20dAmbie'+'ntLight;\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHTM'+'AP_RGBM\x0a\x20\x20'+'\x20\x20//\x20encod'+'e\x20to\x20RGBM\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20dDiffus'+'eLight;\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor.rgb\x20='+'\x20pow(gl_Fr'+'agColor.rg'+'b,\x20vec3(0.'+'5));\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20/=\x208'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.a\x20=\x20clamp'+'(\x20max(\x20max'+'(\x20gl_FragC'+'olor.r,\x20gl'+'_FragColor'+'.g\x20),\x20max('+'\x20gl_FragCo'+'lor.b,\x201.0'+'\x20/\x20255.0\x20)'+'\x20),\x200.0,1.'+'0\x20);\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.a\x20=\x20ceil'+'(gl_FragCo'+'lor.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20/=\x20gl'+'_FragColor'+'.a;\x0a#else\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(dDiffu'+'seLight,\x201'+'.0);\x0a#endi'+'f\x0a',i1='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',r1='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',a1='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',n1='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',o1='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20weigh'+'t[{SAMPLES'+'}];\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20m'+'oments\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vUv0\x20-'+'\x20pixelOffs'+'et\x20*\x20(floa'+'t({SAMPLES'+'})\x20*\x200.5);'+'\x0a\x20\x20\x20\x20for\x20('+'int\x20i\x20=\x200;'+'\x20i\x20<\x20{SAMP'+'LES};\x20i++)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20c\x20=\x20'+'texture2D('+'source,\x20uv'+'\x20+\x20pixelOf'+'fset\x20*\x20flo'+'at(i));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20GAUSS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20moments\x20'+'+=\x20c.xyz\x20*'+'\x20weight[i]'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'ments\x20+=\x20c'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20*=\x201.0\x20/'+'\x20float({SA'+'MPLES});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(momen'+'ts.x,\x20mome'+'nts.y,\x20mom'+'ents.z,\x201.'+'0);\x0a}\x0a',l1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oat;\x0a\x0avoid'+'\x20getClearC'+'oat()\x20{\x0a\x20\x20'+'\x20\x20ccSpecul'+'arity\x20=\x20ma'+'terial_cle'+'arCoat;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_CLEARC'+'OAT_TEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias({ST'+'D_CLEARCOA'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_CL'+'EARCOAT_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20*=\x20satu'+'rate(vVert'+'exColor.{S'+'TD_CLEARCO'+'AT_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',c1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oatGloss;\x0a'+'\x0avoid\x20getC'+'learCoatGl'+'ossiness()'+'\x20{\x0a\x20\x20\x20\x20ccG'+'lossiness\x20'+'=\x20material'+'_clearCoat'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_CLEAR'+'COATGLOSS_'+'TEXTURE_NA'+'ME},\x20{STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_CLEAR'+'COATGLOSS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_CLEAR'+'COATGLOSS_'+'INVERT\x0a\x20\x20\x20'+'\x20ccGlossin'+'ess\x20=\x201.0\x20'+'-\x20ccGlossi'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',h1='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0aunif'+'orm\x20float\x20'+'material_c'+'learCoatBu'+'mpiness;\x0a#'+'endif\x0a\x0avoi'+'d\x20getClear'+'CoatNormal'+'()\x20{\x0a#ifde'+'f\x20STD_CLEA'+'RCOATNORMA'+'L_TEXTURE\x0a'+'\x20\x20\x20\x20vec3\x20n'+'ormalMap\x20='+'\x20{STD_CLEA'+'RCOATNORMA'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_UV}'+',\x20textureB'+'ias));\x0a\x20\x20\x20'+'\x20normalMap'+'\x20=\x20mix(vec'+'3(0.0,\x200.0'+',\x201.0),\x20no'+'rmalMap,\x20m'+'aterial_cl'+'earCoatBum'+'piness);\x0a\x20'+'\x20\x20\x20ccNorma'+'lW\x20=\x20norma'+'lize(dTBN\x20'+'*\x20normalMa'+'p);\x0a#else\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20dVer'+'texNormalW'+';\x0a#endif\x0a}'+'\x0a',d1='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.x\x20=\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20t'+'ileOffset.'+'y\x20=\x20dir.z\x20'+'<\x200.0\x20?\x201.'+'0\x20:\x200.0;\x0a\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if(vAbs.y'+'\x20>=\x20vAbs.x'+')\x20{\x20\x20//\x20to'+'p\x20index\x202,'+'\x20bottom\x20in'+'dex\x203\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.y\x20<\x200.0\x20?'+'\x203.0\x20:\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x,\x20dir.y\x20'+'<\x200.0\x20?\x20-d'+'ir.z\x20:\x20dir'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.x\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.y\x20=\x20dir.'+'y\x20<\x200.0\x20?\x20'+'1.0\x20:\x200.0;'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'\x20=\x200.5\x20/\x20v'+'Abs.x;\x0a\x20\x20\x20'+('\x20\x20\x20\x20\x20uv\x20=\x20'+'vec2(dir.x'+'\x20<\x200.0\x20?\x20d'+'ir.z\x20:\x20-di'+'r.z,\x20-dir.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20uv'+'\x20*\x20ma\x20+\x200.'+'5;\x0a}\x0a\x0a//\x20c'+'onverts\x20un'+'normalized'+'\x20direction'+'\x20vector\x20to'+'\x20a\x20texture'+'\x20coordinat'+'e\x20for\x20a\x20cu'+'bemap\x20face'+'\x20stored\x20wi'+'thin\x20textu'+'re\x20atlas\x20d'+'escribed\x20b'+'y\x20the\x20view'+'port\x0avec2\x20'+'getCubemap'+'AtlasCoord'+'inates(con'+'st\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+'dgePixels,'+'\x20float\x20sha'+'dowTexture'+'Resolution'+',\x20const\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20faceIndex'+';\x0a\x20\x20\x20\x20vec2'+'\x20tileOffse'+'t;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapFac'+'eCoordinat'+'es(dir,\x20fa'+'ceIndex,\x20t'+'ileOffset)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'move\x20uv\x20co'+'ordinates\x20'+'inwards\x20in'+'side\x20to\x20co'+'mpensate\x20f'+'or\x20larger\x20'+'fov\x20when\x20r'+'endering\x20s'+'hadow\x20into'+'\x20atlas\x0a\x20\x20\x20'+'\x20float\x20atl'+'asFaceSize'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20tileSi'+'ze\x20=\x20shado'+'wTextureRe'+'solution\x20*'+'\x20atlasFace'+'Size;\x0a\x20\x20\x20\x20'+'float\x20offs'+'et\x20=\x20shado'+'wEdgePixel'+'s\x20/\x20tileSi'+'ze;\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv\x20*\x20ve'+'c2(1.0\x20-\x20o'+'ffset\x20*\x202.'+'0)\x20+\x20vec2('+'offset\x20*\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20*'+'=\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20fac'+'e\x20of\x20the\x20a')+('tlas\x20(3x3\x20'+'grid)\x0a\x20\x20\x20\x20'+'uv\x20+=\x20tile'+'Offset\x20*\x20a'+'tlasFaceSi'+'ze;\x0a\x0a\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nto\x20the\x20at'+'las\x20viewpo'+'rt\x0a\x20\x20\x20\x20uv\x20'+'+=\x20omniAtl'+'asViewport'+'.xy;\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a'),f1='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20vec4\x20co'+'okieChanne'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20mix(vec4'+'(1.0),\x20tex'+'ture2DLod('+'tex,\x20uv,\x200'+'.0),\x20inten'+'sity);\x0a\x20\x20\x20'+'\x20bool\x20isRg'+'b\x20=\x20dot(co'+'okieChanne'+'l.rgb,\x20vec'+'3(1.0))\x20=='+'\x203.0;\x0a\x20\x20\x20\x20'+'return\x20isR'+'gb\x20?\x20pixel'+'.rgb\x20:\x20vec'+'3(dot(pixe'+'l,\x20cookieC'+'hannel));\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0ave'+'c3\x20getCook'+'ie2DCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20mat4\x20'+'transform,'+'\x20vec3\x20worl'+'dPosition,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieC'+'hannel)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20p'+'rojPos\x20=\x20t'+'ransform\x20*'+'\x20vec4(worl'+'dPosition,'+'\x201.0);\x0a\x20\x20\x20'+'\x20return\x20_g'+'etCookieCl'+'ustered(TE'+'XTURE_PASS'+'(tex),\x20pro'+'jPos.xy\x20/\x20'+'projPos.w,'+'\x20intensity'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20vec4\x20coo'+'kieChannel'+',\x20float\x20sh'+'adowTextur'+'eResolutio'+'n,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20omniAtla'+'sViewport)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+('tureResolu'+'tion,\x20dir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getCoo'+'kieCluster'+'ed(TEXTURE'+'_PASS(tex)'+',\x20uv,\x20inte'+'nsity,\x20coo'+'kieChannel'+');\x0a}\x0a'),u1='\x0a\x0avec3\x20_ge'+'tShadowCoo'+'rdPerspZbu'+'ffer(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20wP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20shado'+'wMatrix\x20*\x20'+'vec4(wPos,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'yz\x20/=\x20proj'+'Pos.w;\x0a\x20\x20\x20'+'\x20return\x20pr'+'ojPos.xyz;'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20bias\x20i'+'s\x20already\x20'+'applied\x20on'+'\x20render\x0a}\x0a'+'\x0avec3\x20getS'+'hadowCoord'+'PerspZbuff'+'erNormalOf'+'fset(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20wPo'+'s\x20=\x20vPosit'+'ionW\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm,\x20vec3'+'\x20normal)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20distScale'+'\x20=\x20length('+'lightDir);'+'\x0a\x20\x20\x20\x20vec3\x20'+'wPos\x20=\x20vPo'+'sitionW\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x20/'+'/0.02\x0a\x20\x20\x20\x20'+'vec3\x20dir\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0afloa'+'t\x20getShado'+'wOmniClust'+'eredPCF1(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20omniAtla'+'sViewport,'+'\x20float\x20sha'+'dowEdgePix'+'els,\x20vec3\x20'+'lightDir)\x20'+'{\x0a\x0a\x20\x20\x20\x20flo'+'at\x20shadowT'+('extureReso'+'lution\x20=\x20s'+'hadowParam'+'s.x;\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+'lution,\x20li'+'ghtDir);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'shadowZ\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(uv,\x20sha'+'dowZ));\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF3'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF3'+'x3(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF5'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s')+('hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF5'+'x5(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a/'+'/\x20Clustere'+'d\x20Spot\x20Sam'+'pling\x20usin'+'g\x20atlas\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF1)\x0a\x0afl'+'oat\x20getSha'+'dowSpotClu'+'steredPCF1'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSha'+'dow(shadow'+'Map,\x20shado'+'wCoord);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x0af'+'loat\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF3x3'+'(SHADOWMAP'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a}\x0a\x0a#'+'endif\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x0afloa'+'t\x20getShado'+'wSpotClust'+'eredPCF5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC')+('oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a}'+'\x0a#endif\x0a'),p1='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20clu'+'sterWorldT'+'exture;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20lightsTe'+'xture;\x0a\x0a#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x20\x20\x20\x20//\x20TO'+'DO:\x20when\x20V'+'SM\x20shadow\x20'+'is\x20support'+'ed,\x20it\x20nee'+'ds\x20to\x20use\x20'+'sampler2D\x20'+'in\x20webgl2\x0a'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'DShadow\x20sh'+'adowAtlasT'+'exture;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20CLUSTER'+'_COOKIES\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20cookieAtl'+'asTexture;'+'\x0a#endif\x0a\x0au'+'niform\x20int'+'\x20clusterMa'+'xCells;\x0a\x0a/'+'/\x201.0\x20if\x20c'+'lustered\x20l'+'ighting\x20ca'+'n\x20be\x20skipp'+'ed\x20(0\x20ligh'+'ts\x20in\x20the\x20'+'clusters)\x0a'+'uniform\x20fl'+'oat\x20cluste'+'rSkip;\x0a\x0aun'+'iform\x20vec3'+'\x20clusterCe'+'llsCountBy'+'BoundsSize'+';\x0auniform\x20'+'vec3\x20clust'+'erTextureS'+'ize;\x0aunifo'+'rm\x20vec3\x20cl'+'usterBound'+'sMin;\x0aunif'+'orm\x20vec3\x20c'+'lusterBoun'+'dsDelta;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsDot;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsMax;\x0au'+'niform\x20vec'+'2\x20shadowAt'+'lasParams;'+'\x0a\x0a//\x20struc'+'ture\x20stori'+'ng\x20light\x20p'+'roperties\x20'+'of\x20a\x20clust'+'ered\x20light'+'\x0a//\x20it\x27s\x20s'+('orted\x20to\x20h'+'ave\x20all\x20ve'+'ctors\x20alig'+'ned\x20to\x204\x20f'+'loats\x20to\x20l'+'imit\x20paddi'+'ng\x0astruct\x20'+'ClusterLig'+'htData\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x2032b'+'it\x20of\x20flag'+'s\x0a\x20\x20\x20\x20uint'+'\x20flags;\x0a\x0a\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20siz'+'es\x20/\x20orien'+'tation\x0a\x20\x20\x20'+'\x20vec3\x20half'+'Width;\x0a\x0a\x20\x20'+'\x20\x20bool\x20isS'+'pot;\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20sizes\x20'+'/\x20orientat'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20halfHei'+'ght;\x0a\x0a\x20\x20\x20\x20'+'//\x20light\x20i'+'ndex\x0a\x20\x20\x20\x20i'+'nt\x20lightIn'+'dex;\x0a\x0a\x20\x20\x20\x20'+'//\x20world\x20s'+'pace\x20posit'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20positio'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20uint\x20sha'+'pe;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20direct'+'ion\x20(spot\x20'+'light\x20only'+')\x0a\x20\x20\x20\x20vec3'+'\x20direction'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20foll'+'ow\x20mode\x0a\x20\x20'+'\x20\x20bool\x20fal'+'loffModeLi'+'near;\x0a\x0a\x20\x20\x20'+'\x20//\x20color\x0a'+'\x20\x20\x20\x20vec3\x20c'+'olor;\x0a\x0a\x20\x20\x20'+'\x20//\x200.0\x20if'+'\x20the\x20light'+'\x20doesn\x27t\x20c'+'ast\x20shadow'+'s\x0a\x20\x20\x20\x20floa'+'t\x20shadowIn'+'tensity;\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20vec3\x20om'+'niAtlasVie'+'wport;\x0a\x0a\x20\x20'+'\x20\x20//\x20range'+'\x20of\x20the\x20li'+'ght\x0a\x20\x20\x20\x20fl'+'oat\x20range;'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'hannel\x20mas'+'k\x20-\x20one\x20of'+'\x20the\x20chann'+'els\x20has\x201,'+'\x20the\x20other'+'s\x20are\x200\x0a\x20\x20'+'\x20\x20vec4\x20coo'+'kieChannel'+'Mask;\x0a\x0a\x20\x20\x20'+'\x20//\x20compre'+'ssed\x20biase'+'s,\x20two\x20haf'+'-floats\x20st'+'ored\x20in\x20a\x20'+'float\x0a\x20\x20\x20\x20'+'float\x20bias'+'esData;\x0a\x0a\x20')+('\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20f'+'loat\x20angle'+'sData;\x0a\x0a\x20\x20'+'\x20\x20//\x20spot\x20'+'light\x20inne'+'r\x20and\x20oute'+'r\x20angle\x20co'+'sine\x0a\x20\x20\x20\x20f'+'loat\x20inner'+'ConeAngleC'+'os;\x0a\x20\x20\x20\x20fl'+'oat\x20outerC'+'oneAngleCo'+'s;\x0a\x0a\x20\x20\x20\x20//'+'\x20intensity'+'\x20of\x20the\x20co'+'okie\x0a\x20\x20\x20\x20f'+'loat\x20cooki'+'eIntensity'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20//flo'+'at\x20mask;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Dynamic;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Lightmappe'+'d;\x0a};\x0a\x0a//\x20'+'Note:\x20on\x20s'+'ome\x20device'+'s\x20(tested\x20'+'on\x20Pixel\x203'+'A\x20XL),\x20thi'+'s\x20matrix\x20w'+'hen\x20stored'+'\x20inside\x20th'+'e\x20light\x20st'+'ruct\x20has\x20l'+'ower\x20preci'+'sion\x20compa'+'red\x20to\x0a//\x20'+'when\x20store'+'d\x20outside,'+'\x20so\x20we\x20sto'+'re\x20it\x20outs'+'ide\x20to\x20avo'+'id\x20spot\x20sh'+'adow\x20flick'+'ering.\x20Thi'+'s\x20might\x20ne'+'ed\x20to\x20be\x20d'+'one\x20to\x20oth'+'er\x20/\x20all\x20m'+'embers\x0a//\x20'+'of\x20the\x20str'+'ucture\x20if\x20'+'further\x20si'+'milar\x20issu'+'es\x20are\x20obs'+'erved.\x0a\x0a//'+'\x20shadow\x20(s'+'pot\x20light\x20'+'only)\x20/\x20co'+'okie\x20proje'+'ction\x20matr'+'ix\x0amat4\x20li'+'ghtProject'+'ionMatrix;'+'\x0a\x0avec4\x20sam'+'pleLightTe'+'xtureF(con'+'st\x20Cluster'+'LightData\x20'+'clusterLig'+'htData,\x20in'+'t\x20index)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(lightsT'+'exture,\x20iv'+'ec2(index,'+'\x20clusterLi'+'ghtData.li'+'ghtIndex),'+'\x200);\x0a}\x0a\x0avo'+'id\x20decodeC'+'lusterLigh')+('tCore(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20flo'+'at\x20lightIn'+'dex)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20index\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.li'+'ghtIndex\x20='+'\x20int(light'+'Index);\x0a\x0a\x20'+'\x20\x20\x20//\x20samp'+'le\x20data\x20en'+'coding\x20hal'+'f-float\x20va'+'lues\x20into\x20'+'32bit\x20uint'+'s\x0a\x20\x20\x20\x20vec4'+'\x20halfData\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_COL'+'OR_ANGLES_'+'BIAS});\x0a\x0a\x20'+'\x20\x20\x20//\x20stor'+'e\x20floats\x20w'+'e\x20decode\x20l'+'ater\x20as\x20ne'+'eded\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.angl'+'esData\x20=\x20h'+'alfData.z;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.biasesDa'+'ta\x20=\x20halfD'+'ata.w;\x0a\x0a\x20\x20'+'\x20\x20//\x20decom'+'press\x20colo'+'r\x20half-flo'+'ats\x0a\x20\x20\x20\x20ve'+'c2\x20colorRG'+'\x20=\x20unpackH'+'alf2x16(fl'+'oatBitsToU'+'int(halfDa'+'ta.x));\x0a\x20\x20'+'\x20\x20vec2\x20col'+'orB_\x20=\x20unp'+'ackHalf2x1'+'6(floatBit'+'sToUint(ha'+'lfData.y))'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.color\x20='+'\x20vec3(colo'+'rRG,\x20color'+'B_.x)\x20*\x20{L'+'IGHT_COLOR'+'_DIVIDER};'+'\x0a\x0a\x20\x20\x20\x20//\x20p'+'osition\x20an'+'d\x20range,\x20f'+'ull\x20floats'+'\x0a\x20\x20\x20\x20vec4\x20'+'lightPosRa'+'nge\x20=\x20samp'+'leLightTex'+'tureF(clus'+'terLightDa'+'ta,\x20{CLUST'+'ER_TEXTURE'+'_POSITION_'+'RANGE});\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'position\x20='+'\x20lightPosR'+'ange.xyz;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.range\x20=\x20l'+'ightPosRan'+'ge.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20d'+'irection\x20&'+'\x20flags\x20dat'+'a\x0a\x20\x20\x20\x20vec4'+'\x20lightDir_'+'Flags\x20=\x20sa'+'mpleLightT'+'extureF(cl')+('usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_DIRECTI'+'ON_FLAGS})'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20direction'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.directio'+'n\x20=\x20lightD'+'ir_Flags.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x2032bit\x20fl'+'ags\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20floatBi'+'tsToUint(l'+'ightDir_Fl'+'ags.w);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sSpot\x20=\x20(c'+'lusterLigh'+'tData.flag'+'s\x20&\x20(1u\x20<<'+'\x2030u))\x20!=\x20'+'0u;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.shape'+'\x20=\x20(cluste'+'rLightData'+'.flags\x20>>\x20'+'28u)\x20&\x200x3'+'u;\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.fallof'+'fModeLinea'+'r\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2027u'+'))\x20==\x200u;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.shadowInt'+'ensity\x20=\x20f'+'loat((clus'+'terLightDa'+'ta.flags\x20>'+'>\x200u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eIntensity'+'\x20=\x20float(('+'clusterLig'+'htData.fla'+'gs\x20>>\x208u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sDynamic\x20='+'\x20(clusterL'+'ightData.f'+'lags\x20&\x20(1u'+'\x20<<\x2022u))\x20'+'!=\x200u;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.is'+'Lightmappe'+'d\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2021u'+'))\x20!=\x200u;\x0a'+'}\x0a\x0avoid\x20de'+'codeCluste'+'rLightSpot'+'(inout\x20Clu'+'sterLightD'+'ata\x20cluste'+'rLightData'+')\x20{\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20cos\x20ang'+'les\x0a\x20\x20\x20\x20ve'+'c2\x20angles\x20'+'=\x20unpackHa'+'lf2x16(flo'+'atBitsToUi'+'nt(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight')+('Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20{CLUSTER'+'_TEXTURE_P'+'ROJ_MAT_0}'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_AREA_DA'+'TA_WIDTH})'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20{C'+'LUSTER_TEX'+'TURE_AREA_'+'DATA_HEIGH'+'T}).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20{CL'+'USTER_TEXT'+'URE_PROJ_M'+'AT_0});\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_PRO'+'J_MAT_1});'+'\x0a\x20\x20\x20\x20vec4\x20'+'m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20{CLUSTE'+'R_TEXTURE_'+'PROJ_MAT_2'+'});\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight')+('Data,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'2\x20biases\x20='+'\x20unpackHal'+'f2x16(floa'+'tBitsToUin'+'t(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20extra'+'ct\x20channel'+'\x20mask\x20from'+'\x20flags\x0a\x20\x20\x20'+'\x20uint\x20cook'+'ieFlags\x20=\x20'+'(clusterLi'+'ghtData.fl'+'ags\x20>>\x2023u'+')\x20&\x200x0Fu;'+'\x20\x20//\x204bits'+',\x20each\x20bit'+'\x20enables\x20a'+'\x20channel\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'cookieChan'+'nelMask\x20=\x20'+'vec4(uvec4'+'(cookieFla'+'gs)\x20&\x20uvec'+'4(1u,\x202u,\x20'+'4u,\x208u));\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.cookieCha'+'nnelMask\x20='+'\x20step(1.0,'+'\x20clusterLi'+'ghtData.co'+'okieChanne'+'lMask);\x20\x20/'+'/\x20Normaliz'+'e\x20to\x200.0\x20o'+'r\x201.0\x0a}\x0a\x0av'+'oid\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20Cluster'+'LightData\x20'+'light,\x20\x0a\x20\x20'+'\x20\x20vec3\x20wor'+'ldNormal,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'viewDir,\x20\x0a'+'\x20\x20\x20\x20vec3\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20')+('\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20vec'+'3(1.0);\x0a\x20\x20'+'\x20\x20float\x20di'+'ffuseAtten'+'uation\x20=\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20fallof'+'fAttenuati'+'on\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20omn'+'i\x20part\x20of\x20'+'the\x20light\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ightDirW\x20='+'\x20evalOmniL'+'ight(light'+'.position)'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'ormW\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20')+('else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20=\x20get'+'FalloffLin'+'ear(light.'+'range,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20getFa'+'lloffInvSq'+'uared(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_AREALIGH'+'TS\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shape\x20!='+'\x20{LIGHTSHA'+'PE_PUNCTUA'+'L})\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20hand'+'le\x20light\x20s'+'hape\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getRec'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirW,\x20lig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'DISK})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getD'+'iskLightDi'+'ffuse(worl'+'dNormal,\x20v'+'iewDir,\x20li'+'ghtDirW,\x20l'+'ightDirNor'+'mW)\x20*\x2016.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20g'+'etLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+');\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spot'+'\x20light\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20lightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_COOK'+'IES)\x20||\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x20/\x20cookie\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shadowIn'+'tensity\x20>\x20'+'0.0\x20||\x20lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'ared\x20shado'+'w\x20/\x20cookie'+'\x20data\x20depe'+'nds\x20on\x20lig'+'ht\x20type\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightOmniAt'+'lasViewpor'+'t(light);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowAtlasPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowEdge'+'Pixels\x20=\x20s'+'hadowAtlas'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_COOKIES\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'cookie\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightCook'+'ieData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.isSp'+'ot)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookie2'+'DClustered'+'(TEXTURE_P'+'ASS(cookie'+'AtlasTextu'+'re),\x20light'+'Projection'+'Matrix,\x20vP'+'ositionW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20cookieAt'+'tenuation\x20'+'=\x20getCooki'+'eCubeClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightDirW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask,\x20sh'+'adowTextur'+'eResolutio'+'n,\x20shadowE'+'dgePixels,'+'\x20light.omn'+'iAtlasView'+'port);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20shadow\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shadow'+'Intensity\x20'+'>\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d')+('ecodeClust'+'erLightSha'+'dowData(li'+'ght);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20shadowPa'+'rams\x20=\x20vec'+'4(shadowTe'+'xtureResol'+'ution,\x20lig'+'ht.shadowN'+'ormalBias,'+'\x20light.sha'+'dowBias,\x201'+'.0\x20/\x20light'+'.range);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'isSpot)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ot\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat'+'rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F1)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CF1(SHADOW'+'MAP_PASS(s'+'hadowAtlas'+'Texture),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20de'+'fined(CLUS'+'TER_SHADOW'+'_TYPE_PCF3'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_PASS(sha'+'dowAtlasTe'+'xture),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#elif\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF5('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owCoord,\x20s'+'hadowParam')+('s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCSS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCSS(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20m'+'ix(1.0,\x20sh'+'adow,\x20ligh'+'t.shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20om'+'ni\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20d'+'ir\x20=\x20norma'+'lOffsetPoi'+'ntShadow(s'+'hadowParam'+'s,\x20light.p'+'osition,\x20l'+'ightDirW,\x20'+'lightDirNo'+'rmW,\x20geome'+'tricNormal'+');\x20\x20//\x20nor'+'malBias\x20ad'+'justed\x20for'+'\x20distance\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F1(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF3)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF3(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,')+('\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wOmniClust'+'eredPCF5(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20*=\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20areaDi'+'ffuse\x20=\x20(d'+'iffuseAtte'+'nuation\x20*\x20'+'falloffAtt'+'enuation)\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaDiffuse\x20'+'=\x20mix(area'+'Diffuse,\x20v'+'ec3(0),\x20dL'+'TCSpecFres'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20dif'+'fuse\x20-\x20it\x20'+'does\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20')+('into\x20specu'+'lar\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20a'+'reaDiffuse'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20specular'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20areaLig'+'htSpecular'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'RECT})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecular\x20=\x20g'+'etRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20area'+'LightSpecu'+'lar\x20=\x20getD'+'iskLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x20//\x20sp'+'here\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getSp'+'hereLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp'+'ecFres\x20*\x20a'+'reaLightSp'+'ecular\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x20clear'+'\x20coat\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20areaLigh'+'tSpecularC')+('C;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shape\x20'+'==\x20{LIGHTS'+'HAPE_RECT}'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getRectLig'+'htSpecular'+'(clearcoat'+'_worldNorm'+'al,\x20viewDi'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(light'+'.shape\x20==\x20'+'{LIGHTSHAP'+'E_DISK})\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'arCC\x20=\x20get'+'DiskLightS'+'pecular(cl'+'earcoat_wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x20'+'//\x20sphere\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'rCC\x20=\x20getS'+'phereLight'+'Specular(c'+'learcoat_w'+'orldNormal'+',\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20ccLTCS'+'pecFres\x20*\x20'+'areaLightS'+'pecularCC\x20'+'*\x20falloffA'+'ttenuation'+'\x20*\x20light.c'+'olor\x20\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20{\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'unctualDif'+'fuse\x20=\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'CLUSTER_AR'+'EALIGHTS)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20punctual')+('Diffuse\x20=\x20'+'mix(punctu'+'alDiffuse,'+'\x20vec3(0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20punctu'+'alDiffuse;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20and\x20cle'+'ar\x20coat\x20ar'+'e\x20material'+'\x20settings\x20'+'and\x20get\x20in'+'cluded\x20by\x20'+'a\x20define\x20b'+'ased\x20on\x20th'+'e\x20material'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20halfD'+'ir\x20=\x20norma'+'lize(-ligh'+'tDirNormW\x20'+'+\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htSpecular'+'(halfDir,\x20'+'reflection'+'Dir,\x20world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'halfDir,\x20c'+'learcoatRe'+'flectionDi'+'r,\x20clearco'+'at_worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'clearcoat_'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20g'+'etFresnelC'+'C(dot(view'+'Dir,\x20halfD'+'ir));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20getLi'+'ghtSpecula'+'r(halfDir,'+'\x20clearcoat'+'Reflection'+'Dir,\x20clear'+'coat_world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec')+('ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNormW,'+'\x20sheen_glo'+'ss)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20Wri'+'te\x20to\x20glob'+'al\x20attenua'+'tion\x20value'+'s\x20(for\x20lig'+'htmapper)\x0a'+'\x20\x20\x20\x20dAtten'+'\x20=\x20falloff'+'Attenuatio'+'n;\x0a\x20\x20\x20\x20dLi'+'ghtDirNorm'+'W\x20=\x20lightD'+'irNormW;\x0a}'+'\x0a\x0avoid\x20eva'+'luateClust'+'erLight(\x0a\x20'+'\x20\x20\x20float\x20l'+'ightIndex,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20worldNorm'+'al,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20viewDi'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20reflect'+'ionDir,\x20\x0a#'+'if\x20defined'+'(LIT_CLEAR'+'COAT)\x0a\x20\x20\x20\x20'+'vec3\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'float\x20glos'+'s,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20vec3\x20geom'+'etricNorma'+'l,\x20\x0a\x20\x20\x20\x20ma'+'t3\x20tbn,\x20\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20ve'+'c3\x20clearco'+'at_worldNo'+'rmal,\x0a\x20\x20\x20\x20'+'float\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20flo'+'at\x20sheen_g'+'loss,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escence_in'+'tensity\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'decode\x20cor'+'e\x20light\x20da'+'ta\x20from\x20te'+'xtures\x0a\x20\x20\x20'+'\x20ClusterLi'+'ghtData\x20cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(cluster'+'LightData,'+'\x20lightInde'+'x);\x0a\x0a\x20\x20\x20\x20/'+'/\x20evaluate'+'\x20light\x20if\x20'+'it\x20uses\x20ac'+'cepted\x20lig'+'ht\x20mask\x0a\x20\x20'+'\x20\x20#ifdef\x20C')+('LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20bool\x20'+'acceptLigh'+'tMask\x20=\x20cl'+'usterLight'+'Data.isDyn'+'amic;\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bool\x20a'+'cceptLight'+'Mask\x20=\x20clu'+'sterLightD'+'ata.isLigh'+'tmapped;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20if\x20(a'+'cceptLight'+'Mask)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a#end')+('if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l'+'ightCellIn')+('dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20r'+'ed\x20channel'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20l'+'ightIndex\x20'+'=\x20texelFet'+'ch(cluster'+'WorldTextu'+'re,\x20ivec2('+'int(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20clusterV'+'),\x200).x;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'tIndex\x20<=\x20'+'0.0)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20break;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20evaluateC'+'lusterLigh'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightIndex\x20'+'*\x20255.0,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel,\x0a#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cl'+'earcoat_gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sheen_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),m1='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion)\x20*\x20cl'+'earcoatSpe'+'cularity;\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20r'+'et;\x0a}\x0a',_1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}\x0a',g1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}\x0a',S1='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}\x0a',y1='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),v1='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20envBoxM'+'in;\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20envBoxMax'+';\x0a#endif\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_CUB'+'EMAP_PROJE'+'CTION\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20c'+'ubeMapRota'+'te(nrdir);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20LIT_CUBEM'+'AP_PROJECT'+'ION\x20==\x20BOX'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'nrdir\x20=\x20cu'+'beMapRotat'+'e(nrdir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20rbmax\x20'+'=\x20(envBoxM'+'ax\x20-\x20vPosi'+'tionW)\x20/\x20n'+'rdir;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20rbmin'+'max\x20=\x20mix('+'rbmin,\x20rbm'+'ax,\x20vec3(g'+'reaterThan'+'(nrdir,\x20ve'+'c3(0.0))))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20fa\x20='+'\x20min(min(r'+'bminmax.x,'+'\x20rbminmax.'+'y),\x20rbminm'+'ax.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20posonbox\x20'+'=\x20vPositio'+'nW\x20+\x20nrdir'+'\x20*\x20fa;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envBoxPos\x20'+'=\x20(envBoxM'+'in\x20+\x20envBo'+'xMax)\x20*\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20no'+'rmalize(po'+'sonbox\x20-\x20e'+'nvBoxPos);'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',x1='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',T1='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',w1='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',E1='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'Z(vec4\x20nma'+'p)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20nmap'+'.xyz\x20*\x202.0'+'\x20-\x201.0;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'(vec4\x20nmap'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20normal;'+'\x0a\x20\x20\x20\x20norma'+'l.xy\x20=\x20nma'+'p.wy\x20*\x202.0'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20normal.z'+'\x20=\x20sqrt(1.'+'0\x20-\x20clamp('+'dot(normal'+'.xy,\x20norma'+'l.xy),\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20return\x20'+'normal;\x0a}\x0a'+'\x0a#endif\x0a',b1='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0avec3\x20'+'detailMode'+'_mul(vec3\x20'+'c1,\x20vec3\x20c'+'2)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20c1\x20*'+'\x20c2;\x0a}\x0a\x0ave'+'c3\x20detailM'+'ode_add(ve'+'c3\x20c1,\x20vec'+'3\x20c2)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'1\x20+\x20c2;\x0a}\x0a'+'\x0a//\x20https:'+'//en.wikip'+'edia.org/w'+'iki/Blend_'+'modes#Scre'+'en\x0avec3\x20de'+'tailMode_s'+'creen(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x201.0'+'\x20-\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2);\x0a}\x0a\x0a/'+'/\x20https://'+'en.wikiped'+'ia.org/wik'+'i/Blend_mo'+'des#Overla'+'y\x0avec3\x20det'+'ailMode_ov'+'erlay(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(1.0\x20-\x202.0'+'\x20*\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2),\x202.0\x20'+'*\x20c1\x20*\x20c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a\x0a'+'#endif\x0a',A1='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0a#ifdef\x20'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'detailMode'+'sPS\x22\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_DIFFUS'+'E_TEXTURE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20albedoT'+'exture\x20=\x20{'+'STD_DIFFUS'+'E_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_DIF'+'FUSE_TEXTU'+'RE_NAME},\x20'+'{STD_DIFFU'+'SE_TEXTURE'+'_UV},\x20text'+'ureBias)).'+'{STD_DIFFU'+'SE_TEXTURE'+'_CHANNEL};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSEDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'albedoDeta'+'il\x20=\x20{STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_DECODE}('+'texture2DB'+'ias({STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'DETAIL_TEX'+'TURE_UV},\x20'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20*=\x20albe'+'doTexture;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSE_VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAlbedo\x20*'+'=\x20gammaCor'+'rectInput('+'saturate(v'+'VertexColo'+'r.{STD_DIF'+'FUSE_VERTE'+'X_CHANNEL}'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',C1='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_TEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20{STD_EMIS'+'SIVE_TEXTU'+'RE_DECODE}'+'(texture2D'+'Bias({STD_'+'EMISSIVE_T'+'EXTURE_NAM'+'E},\x20{STD_E'+'MISSIVE_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'EMISSIVE_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_EMISSI'+'VE_VERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.{ST'+'D_EMISSIVE'+'_VERTEX_CH'+'ANNEL}));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',P1='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),M1='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',D1='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20floa'+'t\x20atlasSiz'+'e\x20=\x20512.0;'+'\x0aconst\x20flo'+'at\x20seamSiz'+'e\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0avec2\x20ma'+'pUv(vec2\x20u'+'v,\x20vec4\x20re'+'ct)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(mix(rect'+'.x\x20+\x20seamS'+'ize,\x20rect.'+'x\x20+\x20rect.z'+'\x20-\x20seamSiz'+'e,\x20uv.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mix('+'rect.y\x20+\x20s'+'eamSize,\x20r'+'ect.y\x20+\x20re'+'ct.w\x20-\x20sea'+'mSize,\x20uv.'+'y));\x0a}\x0a\x0a//'+'\x20map\x20a\x20nor'+'malized\x20eq'+'uirect\x20UV\x20'+'and\x20roughn'+'ess\x20level\x20'+'to\x20the\x20cor'+'rect\x20atlas'+'\x20rect.\x0avec'+'2\x20mapRough'+'nessUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'0,\x201.0\x20-\x20t'+',\x20t,\x20t\x20*\x200'+'.5));\x0a}\x0a\x0a/'+'/\x20map\x20shin'+'y\x20level\x20UV'+'\x0avec2\x20mapS'+'hinyUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'1.0\x20-\x20t,\x201'+'.0\x20-\x20t,\x20t,'+'\x20t\x20*\x200.5))'+';\x0a}\x0a\x0a#endi'+'f\x0a',I1='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20float\x20sky'+'boxIntensi'+'ty;\x0a#endif'+'\x0a\x0avec3\x20pro'+'cessEnviro'+'nment(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20skybo'+'xIntensity'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',L1='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(satura'+'te(1.0\x20-\x20s'+'quare(sqrD'+'ist\x20*\x20squa'+'re(invRadi'+'us))));\x0a}\x0a'+'\x0afloat\x20get'+'FalloffInv'+'Squared(fl'+'oat\x20lightR'+'adius,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20sqrDis'+'t\x20=\x20dot(li'+'ghtDir,\x20li'+'ghtDir);\x0a\x20'+'\x20\x20\x20float\x20f'+'alloff\x20=\x201'+'.0\x20/\x20(sqrD'+'ist\x20+\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20invRadiu'+'s\x20=\x201.0\x20/\x20'+'lightRadiu'+'s;\x0a\x0a\x20\x20\x20\x20fa'+'lloff\x20*=\x201'+'6.0;\x0a\x20\x20\x20\x20f'+'alloff\x20*=\x20'+'square(sat'+'urate(1.0\x20'+'-\x20square(s'+'qrDist\x20*\x20s'+'quare(invR'+'adius))));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20falloff'+';\x0a}\x0a',R1='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',O1='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0av'+'ec4\x20float2'+'vec4(float'+'\x20value)\x20{\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(CAPS'+'_TEXTURE_F'+'LOAT_RENDE'+'RABLE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4(val'+'ue,\x201.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20float'+'2uint(valu'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0a#e'+'ndif\x20//\x20FL'+'OAT_AS_UIN'+'T\x0a',F1='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',N1='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20saturate'+'(cosTheta)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20satu'+'rate(cosTh'+'eta),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',k1='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x200.5;\x0a}\x0a',U1='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',B1='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_GLO'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_GLOSS_'+'TEXTURE\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20*=\x20tex'+'ture2DBias'+'({STD_GLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_GLOSS_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_G'+'LOSS_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_INVE'+'RT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x201.0\x20-\x20dGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20+='+'\x200.0000001'+';\x0a}\x0a',z1='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20#'+'if\x20WEBGPU\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ce'+'nterProj.z'+'\x20=\x20clamp(c'+'enterProj.'+'z,\x200,\x20abs('+'centerProj'+'.w));\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20center'+'Proj.z\x20=\x20c'+'lamp(cente'+'rProj.z,\x20-'+'abs(center'+'Proj.w),\x20a'+'bs(centerP'+'roj.w));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20cente'+'r.view\x20=\x20c'+'enterView.'+'xyz\x20/\x20cent'+'erView.w;\x0a'+'\x20\x20\x20\x20center'+'.proj\x20=\x20ce'+'nterProj;\x0a'+'\x20\x20\x20\x20center'+'.projMat00'+'\x20=\x20matrix_'+'projection'+'[0][0];\x0a\x20\x20'+'\x20\x20center.m'+'odelView\x20='+'\x20modelView'+';\x0a\x20\x20\x20\x20retu'+'rn\x20true;\x0a}'+'\x0a',V1='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0a//\x20:\x200'+'.0\x20~\x201.0\x20'+'\x0afl'+'oat\x20comput'+'eAlpha(flo'+'at\x20muT,\x20fl'+'oat\x20uTime,'+'\x20float\x20uFa'+'deSpeed,\x20f'+'loat\x20life)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20age\x20=\x20('+'uTime\x20-\x20mu'+'T)\x20*\x202.0;\x20'+'//\x20'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'muT\x20>\x20uTim'+'e)\x20return\x20'+'0.0;\x0a\x0a\x20\x20\x20\x20'+'//\x20---\x20'+'\x20life\x20'+'---\x0a\x20\x20\x20\x20fl'+'oat\x20linear'+'Fade\x20=\x201.0'+'\x20-\x20age\x20/\x20l'+'ife;\x0a\x20\x20\x20\x20/'+'/\x20---\x20'+'\x20uFadeS'+'peed\x20---\x0a\x20'+'\x20\x20\x20float\x20e'+'xpFade\x20=\x20e'+'xp(-age\x20*\x20'+'uFadeSpeed'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20cl'+'amp(linear'+'Fade,\x200.0,'+'\x201.0);\x20\x0a\x20\x20'+'\x20\x20return\x20c'+'lamp(expFa'+'de,\x200.0,\x201'+'.0);\x0a}\x0a\x0a\x0av'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20uTime,\x20'+'bool\x20plusA'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'color\x20=\x20te'+'xelFetch(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a\x20\x20\x20\x20'+'#ifdef\x20IS_'+'4D\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20tDat'+'a\x20=\x20texelF'+'etch(trans'+'formLifecy'+'cle,\x20sourc'+'e.uv,\x200).x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20muT'+'\x20=\x20tData.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20saveA'+'\x20=\x20pointCl'+'oudModeEna'+'bled\x20==\x201\x20'+'?\x201.0\x20:\x20co'+'lor.a;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20alpha\x20=\x20s'+'aveA;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(uOp'+'enAnim\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20alp'+'ha\x20=\x20alpha'+'\x20*\x20(muT\x20-\x20'+'uTime\x20+\x200.'+'05);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20age\x20=\x20u'+'Time\x20-\x20muT'+';\x20\x20\x20\x20//\x20'+'\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20uFad'+'eSpeed\x20=\x202'+('.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20life\x20=\x200'+'.1;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20alph'+'a\x20=\x20comput'+'eAlpha(muT'+',\x20uTime,\x20u'+'FadeSpeed,'+'\x20life);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'alpha\x20*=\x20a'+'lpha;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor.a\x20=\x20p'+'lusA\x20?\x20alp'+'ha\x20:\x20saveA'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20ret'+'urn\x20color;'+'\x0a}\x0a\x0a'),G1='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ement\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20aaF'+'actor;\x20//\x20'+'for\x20scenes'+'\x20generated'+'\x20with\x20anti'+'aliasing\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20vec2\x20'+'v;\x0a\x20\x20\x20\x20flo'+'at\x20dlen;\x0a\x20'+'\x20\x20\x20vec2\x20cS'+'ize;\x0a\x20\x20\x20\x20v'+'ec2\x20cUV;\x0a}'+';\x0a\x0a#includ'+'e\x20\x22gsplatE'+'valSHVS\x22\x0a#'+'include\x20\x22g'+'splatQuatT'+'oMat3VS\x22\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+('D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_COEFFS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x20='+'=\x20true\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22gsplatSog'+'sDataVS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSo'+'gsSHVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0avoi'+'d\x20clipCorn'+'er(inout\x20S'+'platCorner'+'\x20corner,\x20f'+'loat\x20alpha'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20clip\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20255.'+'0\x20/\x20alpha)'+')\x20/\x202.0);\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20*='+'\x20clip;\x0a\x20\x20\x20'+'\x20corner.uv'+'\x20*=\x20clip;\x0a'+'}\x0a'),H1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{')+('\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec'+'3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat')+('a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex'+'ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu')+('nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),W1='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),$1='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20S'+'H_COEFFS\x203'+'\x0a\x20\x20\x20\x20#elif'+'\x20SH_BANDS\x20'+'==\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20SH_COEFFS'+'\x208\x0a\x20\x20\x20\x20#el'+'if\x20SH_BAND'+'S\x20==\x203\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20SH_COEF'+'FS\x2015\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20SH_COEFF'+'S\x200\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x200\x0a\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20SH_C1\x20'+'=\x200.488602'+'5119029199'+'f;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x201\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20f'+'loat\x20SH_C2'+'_0\x20=\x201.092'+'5484305920'+'792f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'2_1\x20=\x20-1.0'+'9254843059'+'20792f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C2_2\x20=\x200.'+'3153915652'+'5252005f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C2_3\x20=\x20'+'-1.0925484'+'305920792f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'const\x20floa'+'t\x20SH_C2_4\x20'+'=\x200.546274'+'2152960396'+'f;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x202\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'3_0\x20=\x20-0.5'+'9004358992'+'66435f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_1\x20=\x202.'+'8906114426'+'40554f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_2\x20=\x20-0'+'.457045799'+'4644658f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C3_3\x20=\x20'+'0.37317633'+'25901154f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20float'+'\x20SH_C3_4\x20='+'\x20-0.457045'+'7994644658'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_5'+'\x20=\x201.44530'+'5721320277'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_6'+'\x20=\x20-0.5900'+'4358992664'+'35f;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+('ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'\x20\x20\x20\x20vec3\x20e'+'valSH(in\x20v'+'ec3\x20sh[SH_'+'COEFFS],\x20i'+'n\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20dir.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20y\x20=\x20dir'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201st\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20resul'+'t\x20=\x20SH_C1\x20'+'*\x20(-sh[0]\x20'+'*\x20y\x20+\x20sh[1'+']\x20*\x20z\x20-\x20sh'+'[2]\x20*\x20x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x201\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x202nd\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xx\x20=\x20x\x20*\x20x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'zz\x20=\x20z\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yz\x20=\x20y\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xz\x20=\x20x\x20*\x20z'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[3]\x20*\x20('+'SH_C2_0\x20*\x20'+'xy)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[4]\x20*\x20'+'(SH_C2_1\x20*'+'\x20yz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[5]\x20*'+'\x20(SH_C2_2\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x20xx\x20-\x20y'+'y))\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[6]\x20*\x20'+'(SH_C2_3\x20*'+'\x20xz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20*'+'\x20(SH_C2_4\x20'+'*\x20(xx\x20-\x20yy'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'+=\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20')+('xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20#endif\x0a'),X1='\x0amat3\x20quat'+'ToMat3(vec'+'4\x20R)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20R2\x20='+'\x20R\x20+\x20R;\x0a\x20\x20'+'\x20\x20float\x20X\x20'+'=\x20R2.x\x20*\x20R'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20Y\x20\x20=\x20R2'+'.y\x20*\x20R;\x0a\x20\x20'+'\x20\x20vec4\x20Z\x20\x20'+'=\x20R2.z\x20*\x20R'+';\x0a\x20\x20\x20\x20floa'+'t\x20W\x20=\x20R2.w'+'\x20*\x20R.w;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x201.0\x20-\x20'+'Z.z\x20-\x20W,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20Y.z\x20+\x20X'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20Y.z\x20-\x20X,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x201.'+'0\x20-\x20Y.y\x20-\x20'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20+\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20Y.w\x20+\x20Z.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20-\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',q1='\x0auniform\x20m'+'ediump\x20sam'+'pler2D\x20sh0'+';\x0a\x0auniform'+'\x20vec4\x20sh0_'+'mins;\x0aunif'+'orm\x20vec4\x20s'+'h0_maxs;\x0a\x0a'+'float\x20SH_C'+'0\x20=\x200.2820'+'9479177387'+'814;\x0a\x0avec4'+'\x20readColor'+'(in\x20SplatS'+'ource\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20clr\x20='+'\x20mix(sh0_m'+'ins,\x20sh0_m'+'axs,\x20texel'+'Fetch(sh0,'+'\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(vec3(0.'+'5)\x20+\x20clr.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'clr.w)));\x0a'+'}\x0a',j1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0a\x0auniform\x20'+'vec3\x20means'+'_mins;\x0auni'+'form\x20vec3\x20'+'means_maxs'+';\x0a\x0auniform'+'\x20vec3\x20scal'+'es_mins;\x0au'+'niform\x20vec'+'3\x20scales_m'+'axs;\x0a\x0avec4'+'\x20unpackU32'+'(uint\x20v)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((v\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((v\x20>>'+'\x2016u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float((v'+'\x20>>\x208u)\x20&\x20'+'0xFFu)\x20/\x202'+'55.0,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float('+'v\x20&\x200xFFu)'+'\x20/\x20255.0\x0a\x20'+'\x20\x20\x20);\x0a}\x0a\x0au'+'vec4\x20packe'+'dSample;\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20th'+'e\x20packed\x20t'+'exture\x20sam'+'ple\x0a\x20\x20\x20\x20pa'+'ckedSample'+'\x20=\x20texelFe'+'tch(packed'+'Texture,\x20s'+'ource.uv,\x20'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20l\x20=\x20un'+'packU32(pa'+'ckedSample'+'.x).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20u\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20n\x20=\x20(l\x20*'+'\x20255.0\x20+\x20u'+'\x20*\x20255.0\x20*'+'\x20256.0)\x20/\x20'+'65535.0;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20mix(mean'+'s_mins,\x20me'+'ans_maxs,\x20'+'n);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20sign'+'(v)\x20*\x20(exp'+'(abs(v))\x20-'+'\x201.0);\x0a}\x0a\x0a'+'const\x20floa'+'t\x20norm\x20=\x202'+'.0\x20/\x20sqrt('+'2.0);\x0a\x0a//\x20'+'sample\x20cov'+'ariance\x20ve'+'ctors\x0avoid'+'\x20readCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'qdata\x20=\x20un'+'packU32(pa'+'ckedSample'+'.z);\x0a\x20\x20\x20\x20v'+'ec3\x20sdata\x20'+('=\x20unpackU3'+'2(packedSa'+'mple.w).xy'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20abc\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20f'+'loat\x20d\x20=\x20s'+'qrt(max(0.'+'0,\x201.0\x20-\x20d'+'ot(abc,\x20ab'+'c)));\x0a\x0a\x20\x20\x20'+'\x20uint\x20mode'+'\x20=\x20uint(qd'+'ata.w\x20*\x2025'+'5.0\x20+\x200.5)'+'\x20-\x20252u;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20q'+'uat\x20=\x20(mod'+'e\x20==\x200u)\x20?'+'\x20vec4(d,\x20a'+'bc)\x20:\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20((mode\x20='+'=\x201u)\x20?\x20ve'+'c4(abc.x,\x20'+'d,\x20abc.yz)'+'\x20:\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'(mode\x20==\x202'+'u)\x20?\x20vec4('+'abc.xy,\x20d,'+'\x20abc.z)\x20:\x20'+'vec4(abc,\x20'+'d)));\x0a\x0a\x20\x20\x20'+'\x20mat3\x20rot\x20'+'=\x20quatToMa'+'t3(quat);\x0a'+'\x20\x20\x20\x20vec3\x20s'+'cale\x20=\x20exp'+'(mix(scale'+'s_mins,\x20sc'+'ales_maxs,'+'\x20sdata));\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a'),Y1='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20sh_ce'+'ntroids;\x0a\x0a'+'uniform\x20fl'+'oat\x20shN_mi'+'ns;\x0aunifor'+'m\x20float\x20sh'+'N_maxs;\x0a\x0a/'+'/\x20To\x20suppo'+'rt\x20each\x20SH'+'\x20degree,\x20r'+'eadSHData\x20'+'is\x20overloa'+'ded\x20based\x20'+'on\x20the\x20SH\x20'+'vector\x20dep'+'th\x20\x0a\x0avoid\x20'+'readSHData'+'(in\x20SplatS'+'ource\x20sour'+'ce,\x20out\x20ve'+'c3\x20sh[SH_C'+'OEFFS],\x20ou'+'t\x20float\x20sc'+'ale)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'ivec2\x20t\x20=\x20'+'ivec2(pack'+'edSample.x'+'\x20&\x20255u,\x20p'+'ackedSampl'+'e.y\x20&\x20255u'+');\x0a\x20\x20\x20\x20int'+'\x20n\x20=\x20t.x\x20+'+'\x20t.y\x20*\x20256'+';\x0a\x20\x20\x20\x20int\x20'+'u\x20=\x20(n\x20%\x206'+'4)\x20*\x20SH_CO'+'EFFS;\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20n\x20'+'/\x2064;\x0a\x0a\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20offset'+'\x20into\x20the\x20'+'centroids\x20'+'texture\x20an'+'d\x20read\x20con'+'secutive\x20t'+'exels\x0a\x20\x20\x20\x20'+'for\x20(int\x20i'+'\x20=\x200;\x20i\x20<\x20'+'SH_COEFFS;'+'\x20i++)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[i'+']\x20=\x20mix(ve'+'c3(shN_min'+'s),\x20vec3(s'+'hN_maxs),\x20'+'texelFetch'+'(sh_centro'+'ids,\x20ivec2'+'(u\x20+\x20i,\x20v)'+',\x200).xyz);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20scale\x20=\x20'+'1.0;\x0a}\x0a',K1='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0auniform\x20'+'float\x20rend'+'erSpace;\x0au'+'niform\x20flo'+'at\x20endSpac'+'e;\x0auniform'+'\x20int\x20uShap'+'eN;\x0a\x0a//\x20ca'+'lculate\x20th'+'e\x20clip-spa'+'ce\x20offset\x20'+'from\x20the\x20c'+'enter\x20for\x20'+'this\x20gauss'+'ian\x0abool\x20i'+'nitCorner('+'SplatSourc'+'e\x20source,\x20'+'SplatCente'+'r\x20center,\x20'+'out\x20SplatC'+'orner\x20corn'+'er,\x20int\x20po'+'intCloudMo'+'deEnabled)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'get\x20covari'+'ance\x0a\x20\x20\x20\x20v'+'ec3\x20covA,\x20'+'covB;\x0a\x20\x20\x20\x20'+'readCovari'+'ance(sourc'+'e,\x20covA,\x20c'+'ovB);\x0a\x0a\x20\x20\x20'+'\x20mat3\x20Vrk\x20'+'=\x20mat3(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.x,\x20covA.y'+',\x20covA.z,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.y,\x20covB'+'.x,\x20covB.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'covA.z,\x20co'+'vB.y,\x20covB'+'.z\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20focal\x20=\x20v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'v\x20=\x20camera'+'_params.w\x20'+'==\x201.0\x20?\x20v'+'ec3(0.0,\x200'+'.0,\x201.0)\x20:'+'\x20center.vi'+'ew.xyz;\x0a\x20\x20'+'\x20\x20float\x20J1'+'\x20=\x20focal\x20/'+'\x20v.z;\x0a\x20\x20\x20\x20'+'vec2\x20J2\x20=\x20'+'-J1\x20/\x20v.z\x20'+'*\x20v.xy;\x0a\x20\x20'+'\x20\x20mat3\x20J\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20J1,\x200'+'.0,\x20J2.x,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x200.'+'0,\x20J1,\x20J2.'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.0,\x200.0,'+'\x200.0\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20mat'+'3\x20W\x20=\x20tran'+'spose(mat3'+'(center.mo'+'delView));'+'\x0a\x20\x20\x20\x20mat3\x20'+'T\x20=\x20W\x20*\x20J;'+'\x0a\x20\x20\x20\x20mat3\x20'+'cov\x20=\x20tran'+'spose(T)\x20*'+('\x20Vrk\x20*\x20T;\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'calculate\x20'+'AA\x20factor\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20detOri'+'g\x20=\x20cov[0]'+'[0]\x20*\x20cov['+'1][1]\x20-\x20co'+'v[0][1]\x20*\x20'+'cov[0][1];'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20detBl'+'ur\x20=\x20(cov['+'0][0]\x20+\x200.'+'3)\x20*\x20(cov['+'1][1]\x20+\x200.'+'3)\x20-\x20cov[0'+'][1]\x20*\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20corn'+'er.aaFacto'+'r\x20=\x20sqrt(m'+'ax(detOrig'+'\x20/\x20detBlur'+',\x200.0));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20diagonal1'+'\x20=\x20cov[0]['+'0]\x20+\x200.3;\x0a'+'\x20\x20\x20\x20float\x20'+'offDiagona'+'l\x20=\x20cov[0]'+'[1];\x0a\x20\x20\x20\x20f'+'loat\x20diago'+'nal2\x20=\x20cov'+'[1][1]\x20+\x200'+'.3;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mid\x20='+'\x200.5\x20*\x20(di'+'agonal1\x20+\x20'+'diagonal2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20radius\x20='+'\x20length(ve'+'c2((diagon'+'al1\x20-\x20diag'+'onal2)\x20/\x202'+'.0,\x20offDia'+'gonal));\x0a\x20'+'\x20\x20\x20float\x20l'+'ambda1\x20=\x20m'+'id\x20+\x20radiu'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20lambda2'+'\x20=\x20max(mid'+'\x20-\x20radius,'+'\x200.1);\x0a\x20\x20\x20'+'\x20if\x20(point'+'CloudModeE'+'nabled\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20l'+'ambda1\x20=\x20l'+'ambda2\x20=\x202'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Us'+'e\x20the\x20smal'+'ler\x20viewpo'+'rt\x20dimensi'+'on\x20to\x20limi'+'t\x20the\x20kern'+'el\x20size\x20re'+'lative\x20to\x20'+'the\x20screen'+'\x20resolutio'+'n.\x0a\x20\x20\x20\x20flo'+'at\x20vmin\x20=\x20'+'min(1024.0'+',\x20min(view'+'port.x,\x20vi'+'ewport.y))'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20l1\x20=\x202.'+'0\x20*\x20min(sq'+'rt(2.0\x20*\x20l'+'ambda1),\x20v'+'min);\x0a\x20\x20\x20\x20'+'float\x20l2\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda2)'+',\x20vmin);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20')+('\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec2\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'viewport;\x0a'+'\x0a\x20\x20\x20\x20//\x20cu'+'ll\x20against'+'\x20frustum\x20x'+'/y\x20axes\x0a\x20\x20'+'\x20\x20if\x20(any('+'greaterTha'+'n(abs(cent'+'er.proj.xy'+')\x20-\x20vec2(m'+'ax(l1,\x20l2)'+')\x20*\x20c,\x20cen'+'ter.proj.w'+'w)))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20false;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec2\x20diago'+'nalVector\x20'+'=\x20normaliz'+'e(vec2(off'+'Diagonal,\x20'+'lambda1\x20-\x20'+'diagonal1)'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20bool\x20inRe'+'nderSpace\x20'+'=\x20(center.'+'view.x\x20>=\x20'+'-renderSpa'+'ce\x20&&\x20cent'+'er.view.x\x20'+'<=\x20renderS'+'pace)\x20&&\x20('+'center.vie'+'w.y\x20>=\x20-re'+'nderSpace\x20'+'&&\x20center.'+'view.y\x20<=\x20'+'renderSpac'+'e);\x0a\x20\x20\x20\x20bo'+'ol\x20openRen'+'derAnim\x20=\x20'+'renderSpac'+'e\x20<\x20endSpa'+'ce;\x0a\x20\x20\x20\x20bo'+'ol\x20inRende'+'r\x20=\x20render'+'Space\x20>=\x20e'+'ndSpace\x20||'+'\x20inRenderS'+'pace\x20||\x20po'+'intCloudMo'+'deEnabled\x20'+'==\x201;\x0a\x20\x20\x20\x20'+'if(!openRe'+'nderAnim\x20&'+'&\x20uSplatSc'+'ale\x20>\x200.0\x20'+'&&\x20uSplatS'+'cale\x20<=\x205.'+'0){\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale\x20=\x20'+'uSplatScal'+'e;\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(in'+'Render){\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(openR'+'enderAnim)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'scale\x20=\x20in'+'RenderSpac'+'e\x20?\x20uSplat'+'Scale\x20:\x200.'+'1;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20vec2\x20v1'+'\x20=\x20scale\x20*'+'\x20l1\x20*\x20diag'+'onalVector'+';\x0a\x20\x20\x20\x20vec2'+'\x20v2\x20=\x20scal'+'e\x20*\x20l2\x20*\x20v'+'ec2(diagon'+'alVector.y'+',\x20-diagona'+'lVector.x)')+(';\x0a\x0a\x20\x20\x20\x20cor'+'ner.offset'+'\x20=\x20(source'+'.cornerUV.'+'x\x20*\x20v1\x20+\x20s'+'ource.corn'+'erUV.y\x20*\x20v'+'2)\x20*\x20c;\x0a\x20\x20'+'\x20\x20//\x20corne'+'r.uv\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20if\x20(uSh'+'apeN\x20<\x203)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'corner.uv\x20'+'=\x20source.c'+'ornerUV;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'corner.cSi'+'ze\x20=\x20(v1\x20+'+'\x20v2)\x20*\x20c;\x0a'+'\x20\x20\x20\x20corner'+'.cUV\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),Z1='\x0a\x0auniform\x20'+'highp\x20samp'+'ler2D\x20tran'+'sformA;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20transfor'+'mB;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformR;\x0a'+'\x0a#ifdef\x20IS'+'_4D\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformMot'+'ion;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformLi'+'fecycle;\x0a#'+'endif\x0a\x0a//\x20'+'work\x20value'+'s\x0a//\x20uint\x20'+'tAw;\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20retu'+'rn\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a}\x0a\x0ama'+'t3\x20quatToM'+'at3v2(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.w;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(vec3\x20pack'+'ed)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(packed.x'+'yz,\x20sqrt(m'+'ax(0.0,\x201.'+'0\x20-\x20dot(pa'+'cked,\x20pack'+'ed))));\x0a}\x0a'+'\x0a//\x20sample'+'\x20covarianc'+'e\x20vectors\x0a'+'void\x20readC'+'ovariance('+'in\x20SplatSo'+'urce\x20sourc'+'e,\x20out\x20vec'+'3\x20covA,\x20ou'+'t\x20vec3\x20cov'+'B)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3v'+'2(unpackRo'+'tation(tR)'+');\x0a\x20\x20\x20\x20vec'+'3\x20scale\x20=\x20'+'tB.xyz;\x0a\x0a\x20'+'\x20\x20\x20//\x20M\x20=\x20'+'S\x20*\x20R\x0a\x20\x20\x20\x20'+'mat3\x20M\x20=\x20t'+'ranspose(m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.x'+'\x20*\x20rot[0],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.y\x20*\x20r'+'ot[1],\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.z\x20*\x20rot[2'+']\x0a\x20\x20\x20\x20));\x0a'+'\x0a\x20\x20\x20\x20covA\x20'+'=\x20vec3(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20covB\x20=\x20'+'vec3(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a\x0a'+'//\x20sample\x20'+'4D\x20covaria'+'nce\x20vector'+'s\x0avoid\x20rea'+'dFTGSCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB,ou'+'t\x20vec4\x20cov'+'ariance4D)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tB\x20=\x20tex'+'elFetch(tr'+'ansformB,\x20'+'source.uv,')+('\x200);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20tR\x20=\x20'+'texelFetch'+'(transform'+'R,\x20source.'+'uv,\x200).xyz'+';\x0a\x20\x20\x20\x20mat3'+'\x20rot\x20=\x20qua'+'tToMat3v2('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormLifecyc'+'le,\x20source'+'.uv,\x200).xy'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'muT\x20=\x20tDat'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20t'+'Scale\x20=\x20tD'+'ata.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20margi'+'nal\x20=\x20comp'+'uteMargina'+'lT(time,\x20m'+'uT,\x20tScale'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20re'+'turn\x20margi'+'nal;\x0a}\x0a\x0ave'+'c3\x20readCen'+'ter4D(Spla'+'tSource\x20so'+'urce,\x20floa'+'t\x20time)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20if(m'+'uT\x20>\x20-5.0)'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20movin'+'gSpeed\x20=\x20t')+('exelFetch('+'transformM'+'otion,\x20sou'+'rce.uv,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'platOffset'+'\x20=\x20movingS'+'peed\x20*\x20(ti'+'me\x20-\x20muT);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'platCenter'+'\x20+=\x20splatO'+'ffset;\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20spla'+'tCenter;\x0a}'+'\x0a'),Q1='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',J1='\x0auniform\x20i'+'nt\x20mode;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x200:\x20c'+'enters,\x201:'+'\x20rings\x0auni'+'form\x20float'+'\x20ringSize;'+'\x0auniform\x20i'+'nt\x20uShapeN'+';\x0a\x0a#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bay'+'erPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'opacityDit'+'herPS\x22\x0a\x20\x20\x20'+'\x20varying\x20f'+'loat\x20id;\x0a#'+'endif\x0a\x0a#if'+'def\x20PICK_P'+'ASS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pi'+'ckPS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20alphaC'+'lip;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20vLinearDe'+'pth;\x0a\x20\x20\x20\x20#'+'include\x20\x22f'+'loatAsUint'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20Fast\x20'+'approximat'+'e\x20e^x\x20base'+'d\x20on\x20https'+'://nic.sch'+'raudolph.o'+'rg/pubs/Sc'+'hraudolph9'+'9.pdf\x0acons'+'t\x20float\x20\x20E'+'XP_A\x20\x20\x20\x20\x20\x20'+'=\x2012102203'+'.0;\x20\x20\x20//\x20'+'\x202^23\x20/\x20ln'+'(2)\x0aconst\x20'+'int\x20\x20\x20\x20EXP'+'_BC_RMS\x20=\x20'+'1064866808'+';\x20\x20\x20//\x20(12'+'7\x20<<\x2023)\x20-'+'\x2060801\x20*\x208'+'\x0afloat\x20fas'+'tExp(float'+'\x20x)\x20{\x0a\x20\x20\x20\x20'+'int\x20i\x20=\x20in'+'t(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20in'+'tBitsToFlo'+'at(i);\x0a}\x0a\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianU'+'V;\x0avarying'+'\x20mediump\x20v'+'ec4\x20gaussi'+'anColor;\x0av'+'arying\x20med'+'iump\x20vec2\x20'+'gaussianSi'+'ze;\x0avaryin'+'g\x20mediump\x20'+'vec2\x20gauss'+'ianCUV;\x0ava'+'rying\x20medi'+'ump\x20float\x20'+'saveMargin'+'al;\x0a\x0a//\x20'+'\x20p\x20\x20N'+'\x20\x0a//\x20p:'+'\x20\x20(UV\x20'+')\x0a//'+'\x20N:\x20\x0a//\x20'+'r:\x20'+('1\x0a/'+'/\x20center:\x20'+'\x0abool\x20'+'insideRegu'+'larPolygon'+'(vec2\x20p,\x20i'+'nt\x20N,\x20floa'+'t\x20r,\x20vec2\x20'+'center)\x20{\x0a'+'\x20\x20\x20\x20//\x20'+'\x0a\x20'+'\x20\x20\x20vec2\x20d\x20'+'=\x20p\x20-\x20cent'+'er;\x0a\x20\x20\x20\x20fl'+'oat\x20theta\x20'+'=\x20atan(d.y'+',\x20d.x);\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20flo'+'at\x20len\x20=\x20l'+'ength(d);\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20float'+'\x20anglePerS'+'ide\x20=\x202.0\x20'+'*\x203.141592'+'65\x20/\x20float'+'(N);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x200\x20~'+'\x20anglePerS'+'ide\x20\x0a\x20\x20\x20'+'\x20float\x20loc'+'alAngle\x20=\x20'+'mod(theta,'+'\x20anglePerS'+'ide);\x0a\x0a\x20\x20\x20'+'\x20//\x20'+'\x20'+'N\x20\x0a\x20\x20'+'\x20\x20float\x20ma'+'xR\x20=\x20r\x20*\x20c'+'os(anglePe'+'rSide\x20/\x202.'+'0)\x20/\x20cos(l'+'ocalAngle\x20'+'-\x20anglePer'+'Side\x20/\x202.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20len\x20<'+'=\x20maxR;\x0a}\x0a'+'\x0a//\x20'+'N\x20soft\x20'+'mask\x0afloat'+'\x20polygonSo'+'ftMask(vec'+'2\x20p,\x20int\x20N'+',\x20float\x20ra'+'dius,\x20floa'+'t\x20edgeSoft'+'ness)\x20{\x0a\x20\x20'+'\x20\x20float\x20an'+'gle\x20=\x20atan'+'(p.y,\x20p.x)'+';\x0a\x20\x20\x20\x20floa'+'t\x20sector\x20='+'\x206.2831853'+'\x20/\x20float(N'+');\x20\x20//\x20'+'\x0a\x20\x20\x20\x20//'+'\x20\x20['+'-sector/2,'+'\x20sector/2]'+'\x0a\x20\x20\x20\x20float'+'\x20halfSecto'+'r\x20=\x20sector'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20float\x20lo'+'calAngle\x20='+'\x20mod(angle'+'\x20+\x20halfSec'+'tor,\x20secto'+'r)\x20-\x20halfS'+'ector;\x0a\x0a\x20\x20'+'\x20\x20//\x20'+'\x0a'+'\x20\x20\x20\x20float\x20'+'boundary\x20='+'\x20radius\x20*\x20'+'cos(halfSe'+'ctor)\x20/\x20co'+'s(localAng'+'le);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20=\x20'+'\x0a\x20\x20\x20\x20'+'float\x20dist'+'\x20=\x20boundar'+'y\x20-\x20length'+'(p);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20smoot')+('hstep\x20'+'\x20(edgeSof'+'tness\x20'+')\x0a\x20\x20\x20\x20'+'float\x20alph'+'a\x20=\x20smooth'+'step(0.0,\x20'+'edgeSoftne'+'ss,\x20dist);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20alpha;\x20'+'//\x200~1\x0a}\x0a\x0a'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20mediump\x20'+'float\x20A\x20=\x20'+'dot(gaussi'+'anUV,\x20gaus'+'sianUV);\x0a\x20'+'\x20\x20\x20if\x20(A\x20>'+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'valuate\x20al'+'pha\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20alpha\x20=\x20'+'fastExp(-A'+'\x20*\x204.0)\x20*\x20'+'gaussianCo'+'lor.a;\x0a\x20\x20\x20'+'\x20//\x20TODO\x20u'+'ShapeN\x20alp'+'ha\x0a\x20\x20\x20\x20//\x20'+'float\x20dx\x20='+'\x20abs(gauss'+'ianCUV.x)\x20'+'/\x20gaussian'+'Size.x;\x0a\x20\x20'+'\x20\x20//\x20float'+'\x20dy\x20=\x20abs('+'gaussianCU'+'V.y)\x20/\x20gau'+'ssianSize.'+'y;\x0a\x20\x20\x20\x20//\x20'+'float\x20B\x20=\x20'+'max(dx,\x20dy'+');\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20'+'\x0a\x20\x20\x20\x20//\x20'+'mediump\x20fl'+'oat\x20alpha\x20'+'=\x20exp(-pow'+'(B,\x202.0)\x20*'+'\x204.0)\x20*\x20ga'+'ussianColo'+'r.a;\x0a\x0a\x20\x20\x20\x20'+'bool\x20openR'+'ingMode\x20=\x20'+'ringSize\x20>'+'\x200.0\x20&&\x20mo'+'de\x20==\x201;\x20/'+'/\x20&&\x20uCont'+'rolMode\x20=='+'\x201;\x20\x0a\x20\x20\x20\x20i'+'f\x20(openRin'+'gMode\x20&&\x20s'+'aveMargina'+'l\x20>=\x200.05)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(A\x20<\x201'+'.0\x20-\x20ringS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'lpha\x20=\x20max'+'(0.05,\x20alp'+'ha);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alpha\x20'+'=\x200.6;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20bool\x20ope'+'nShapeMode'+'\x20=\x20uShapeN'+'\x20>\x202;\x20//\x20&'+'&\x20uControl'+'Mode\x20==\x201;'+'\x0a\x20\x20\x20\x20if\x20(o'+'penShapeMo'+'de)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20gaussi'+'anCUV\x20*\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20rad'+'ius\x20=\x201.0;')+('\x20//\x201.0\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20edgeSoft'+'ness\x20=\x200.0'+'5;\x20//\x200.05'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v\x20*=\x201.0;/'+'/0.9;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20c'+'enter\x20=\x20ve'+'c2(0.0,\x200.'+'0);\x20\x20\x20//\x20'+''+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20alpha\x20'+'=\x20polygonS'+'oftMask(uv'+',\x20uShapeN,'+'\x20radius,\x20e'+'dgeSoftnes'+'s);\x20//\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(!insideR'+'egularPoly'+'gon(uv,\x20uS'+'hapeN,\x20rad'+'ius,\x20cente'+'r))\x20{\x20//'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20defined(S'+'HADOW_PASS'+')\x20||\x20defin'+'ed(PICK_PA'+'SS)\x20||\x20def'+'ined(PREPA'+'SS_PASS)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20a'+'lphaClip)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'getPickOut'+'put();\x0a\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'ADOW_PASS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(0'+'.0,\x200.0,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#elif'+'\x20PREPASS_P'+'ASS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2vec4(v'+'LinearDept'+'h);\x0a\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x201.0\x20/'+'\x20255.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20DI'+'THER_NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(alph'+'a,\x20id\x20*\x200.'+'013);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'gaussianCo'+'lor.xyz,\x20a'+'lpha);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),eP='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),tP='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',sP='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0aunifor'+'m\x20float\x20pr'+'erenderCTi'+'me;\x0aunifor'+'m\x20float\x20uS'+'aturation;'+'\x20//\x200.0-2.'+'01.0\x20'+'\x0auniform'+'\x20float\x20uHu'+'eOffset;\x20\x20'+'//\x20'+'360'+'\x0auniform\x20v'+'ec3\x20clrOff'+'set;\x0aunifo'+'rm\x20vec4\x20cl'+'rScale;\x0aun'+'iform\x20floa'+'t\x20uOpacity'+';\x0auniform\x20'+'int\x20uInver'+'tOpacity;\x0a'+'\x0avarying\x20m'+'ediump\x20vec'+'2\x20gaussian'+'UV;\x0avaryin'+'g\x20mediump\x20'+'vec4\x20gauss'+'ianColor;\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianS'+'ize;\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianCUV;\x0av'+'arying\x20med'+'iump\x20float'+'\x20saveMargi'+'nal;\x0a\x0a//\x20='+'====\x20\x20H'+'SV/RGB\x20\x20'+'=====\x0ahigh'+'p\x20vec3\x20rgb'+'2hsv(highp'+'\x20vec3\x20c)\x20{'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20cMa'+'x\x20=\x20max(ma'+'x(c.r,\x20c.g'+'),\x20c.b);\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20cMin\x20'+'=\x20min(min('+'c.r,\x20c.g),'+'\x20c.b);\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20delta\x20='+'\x20cMax\x20-\x20cM'+'in\x20+\x201e-10'+';\x20//\x200\x0a'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20h\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'if\x20(delta\x20'+'>\x201e-6)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(cMax\x20==\x20'+'c.r)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20=\x20mod((c.'+'g\x20-\x20c.b)\x20/'+'\x20delta,\x206.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(cMax\x20=='+'\x20c.g)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.b\x20-'+'\x20c.r)\x20/\x20de'+'lta\x20+\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.r\x20-'+'\x20c.g)\x20/\x20de'+'lta\x20+\x204.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20/=\x206.0;\x20/'+'/\x20\x20[0,1]'+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(h\x20<\x200.0'+')\x20h\x20+=\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20s\x20=\x20('+'cMax\x20<\x201e-'+'6)\x20?\x200.0\x20:'+'\x20delta\x20/\x20c'+'Max;\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20v\x20=\x20cMax;'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec3(h,\x20'+'s,\x20v);\x0a}\x0a\x0a'+'highp\x20vec3'+'\x20hsv2rgb(h'+'ighp\x20vec3\x20'+'c)\x20{\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20h\x20=\x20c.x\x20*'+'\x206.0;\x20//\x200'+'-6\x0a\x20\x20\x20\x20hig'+'hp\x20float\x20s'+'\x20=\x20c.y;\x0a\x20\x20'+'\x20\x20highp\x20fl'+'oat\x20v\x20=\x20c.'+'z;\x0a\x0a\x20\x20\x20\x20hi'+'ghp\x20int\x20i\x20'+'=\x20int(floo'+'r(h));\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20f\x20=\x20h\x20-'+'\x20float(i);'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20p\x20='+'\x20v\x20*\x20(1.0\x20'+'-\x20s);\x0a\x20\x20\x20\x20'+'highp\x20floa'+'t\x20q\x20=\x20v\x20*\x20'+'(1.0\x20-\x20s\x20*'+'\x20f);\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20t\x20=\x20v\x20*\x20('+'1.0\x20-\x20s\x20*\x20'+'(1.0\x20-\x20f))'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(i\x20==\x200)\x20r'+'eturn\x20vec3'+'(v,\x20t,\x20p);'+'\x0a\x20\x20\x20\x20else\x20'+'if\x20(i\x20==\x201'+')\x20return\x20v'+'ec3(q,\x20v,\x20'+'p);\x0a\x20\x20\x20\x20el'+'se\x20if\x20(i\x20='+'=\x202)\x20retur'+'n\x20vec3(p,\x20'+'v,\x20t);\x0a\x20\x20\x20'+'\x20else\x20if\x20('+'i\x20==\x203)\x20re'+'turn\x20vec3('+'p,\x20q,\x20v);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(i\x20==\x204)'+'\x20return\x20ve'+'c3(t,\x20p,\x20v'+');\x0a\x20\x20\x20\x20els'+'e\x20return\x20v'+'ec3(v,\x20p,\x20'+'q);\x20//\x20i=='+'5\x0a}\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0a#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20varying\x20'+'float\x20vLin'+'earDepth;\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20')+('=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20saveMargi'+'nal\x20=\x20getM'+'arginalT(s'+'ource,\x20uTi'+'me);\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'marginal\x20='+'\x20uOpenAnim'+'\x20==\x201\x20?\x201.'+'0\x20:\x20saveMa'+'rginal;\x0a\x20\x20'+'\x20\x20if\x20(marg'+'inal\x20<\x200.0'+'5)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20dis'+'cardVec;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20modelCent'+'er;\x0a\x20\x20\x20\x20bo'+'ol\x20isCente'+'r4D\x20=\x20save'+'Marginal\x20>'+'=\x200.05;\x0a\x20\x20'+'\x20\x20if\x20(isCe'+'nter4D)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'delCenter\x20'+'=\x20readCent'+'er4D(sourc'+'e,\x20uTime);'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20modelCen'+'ter\x20=\x20read'+'Center(sou'+'rce);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20Spl'+'atCenter\x20c'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'center))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return;'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20int\x20'+'showCloud\x20'+'=\x20pointClo'+'udModeEnab'+'led;\x0a\x20\x20\x20\x20i'+'f\x20(prerend'+'erCTime\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(prer'+'enderCTime'+'\x20>=\x201.0\x20&&'+'\x20prerender'+'CTime\x20<\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20showClo'+'ud\x20=\x201;\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(prerend'+'erCTime\x20>='+'\x202.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20proje'+'ct\x20center\x20'+'to\x20screen\x20'+'space\x0a\x20\x20\x20\x20'+'SplatCorne'+'r\x20corner;\x0a'+'\x20\x20\x20\x20if\x20(!i'+'nitCorner('+'source,\x20ce'+'nter,\x20corn'+'er,\x20showCl'+'oud))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20')+('discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20vec'+'4\x20clr\x20=\x20re'+'adColor(so'+'urce,\x20uTim'+'e,\x20!isCent'+'er4D,\x20poin'+'tCloudMode'+'Enabled);\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'apply\x20AA\x20c'+'ompensatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.a\x20*=\x20c'+'orner.aaFa'+'ctor;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20if(margi'+'nal\x20>\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.w\x20*=\x20'+'marginal;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20\x0a\x20'+'\x20\x20\x20if\x20(uCo'+'ntrolColor'+'Mode\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'tint/brigh'+'tness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr\x20=\x20'+'clr\x20*\x20clrS'+'cale\x20+\x20vec'+'4(clrOffse'+'t,\x200.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(uInvertO'+'pacity\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20clr'+'.a\x20=\x201.0\x20-'+'\x20clr.a;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20don\x27t\x20'+'allow\x20out-'+'of-range\x20a'+'lpha\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20clr\x20=\x20c'+'lamp(clr,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20spheri'+'cal\x20harmon'+'ics\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20the\x20'+'model-spac'+'e\x20view\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20norm'+'alize(cent'+'er.view\x20*\x20'+'mat3(cente'+'r.modelVie'+'w));\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20rea'+'d\x20sh\x20coeff'+'icients\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sh[SH_COE'+'FFS];\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20readS'+'HData(sour'+'ce,\x20sh,\x20sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.x'+'yz\x20+=\x20eval'+'SH(sh,\x20dir'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(co'+'rner,\x20clr.'+'w);\x0a\x0a\x20\x20\x20\x20/')+('/\x20pointClo'+'udMode\x0a\x20\x20\x20'+'\x20//\x20if\x20(po'+'intCloudMo'+'deEnabled\x20'+'==\x201)\x20{\x0a\x20\x20'+'\x20\x20//\x20\x20\x20\x20\x20c'+'lr.a\x20=\x201.0'+';\x0a\x20\x20\x20\x20//\x20}'+'\x0a\x20\x20\x20\x20highp'+'\x20vec3\x20colo'+'r\x20=\x20max(cl'+'r.xyz,\x200.0'+');\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20\x0a'+'\x20\x20\x20\x20if\x20(uC'+'ontrolColo'+'rMode\x20==\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20\x20HSV'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'ighp\x20vec3\x20'+'hsv\x20=\x20rgb2'+'hsv(color)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20hsv.'+'y\x20*=\x20uSatu'+'ration;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20hsv.x\x20=\x20f'+'ract(hsv.x'+'\x20+\x20uHueOff'+'set\x20/\x20360.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20\x20RGB'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor\x20=\x20hsv'+'2rgb(hsv);'+'\x20\x20\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wri'+'te\x20output\x0a'+'\x20\x20\x20\x20gl_Pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4(cor'+'ner.offset'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20gaussia'+'nUV\x20=\x20corn'+'er.uv;\x0a\x20\x20\x20'+'\x20gaussianC'+'UV\x20=\x20corne'+'r.cUV;\x0a\x20\x20\x20'+'\x20gaussianS'+'ize\x20=\x20corn'+'er.cSize;\x0a'+'\x20\x20\x20\x20gaussi'+'anColor\x20=\x20'+'vec4(prepa'+'reOutputFr'+'omGamma(co'+'lor),\x20clr.'+'w);\x0a\x20\x20\x20\x20ga'+'ussianColo'+'r\x20=\x20clamp('+'gaussianCo'+'lor,\x200.0,\x20'+'1.0);\x0a\x0a\x20\x20\x20'+'\x20#ifndef\x20D'+'ITHER_NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'d\x20=\x20float('+'source.id)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vLin'+'earDepth\x20='+'\x20-center.v'+'iew.z;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),iP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'aPosition;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x0a\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(aPos'+'ition,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20getImage'+'EffectUV(('+'aPosition.'+'xy\x20+\x201.0)\x20'+'*\x200.5);\x0a\x20\x20'+'\x20\x20}\x0a',rP='\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a',aP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec4\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec4\x20vert'+'ex_color;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20v'+'oid\x20main(v'+'oid)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20=\x20vertex_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20matrix_'+'model\x20*\x20ve'+'rtex_posit'+'ion;\x0a\x20\x20\x20\x20}'+'\x0a',nP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0afloat\x20i'+'ridescence'+'_iorToFres'+'nel(float\x20'+'transmitte'+'dIor,\x20floa'+'t\x20incident'+'Ior)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'incidentIo'+'r)\x20/\x20(tran'+'smittedIor'+'\x20+\x20inciden'+'tIor),\x202.0'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_iorToFr'+'esnel(vec3'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20vec3(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3(incid'+'entIor)),\x20'+'vec3(2.0))'+';\x0a}\x0a\x0avec3\x20'+'iridescenc'+'e_fresnelT'+'oIor(vec3\x20'+'f0)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20sqrtF'+'0\x20=\x20sqrt(f'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20(vec3'+'(1.0)\x20+\x20sq'+'rtF0)\x20/\x20(v'+'ec3(1.0)\x20-'+'\x20sqrtF0);\x0a'+'}\x0a\x0avec3\x20ir'+'idescence_'+'sensitivit'+'y(float\x20op'+'d,\x20vec3\x20sh'+'ift)\x20{\x0a\x20\x20\x20'+'\x20float\x20PI\x20'+'=\x203.141592'+'653589793;'+'\x0a\x20\x20\x20\x20float'+'\x20phase\x20=\x202'+'.0\x20*\x20PI\x20*\x20'+'opd\x20*\x201.0e'+'-9;\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20v'+'al\x20=\x20vec3('+'5.4856e-13'+',\x204.4201e-'+'13,\x205.2481'+'e-13);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20pos\x20=\x20ve'+'c3(1.6810e'+'+06,\x201.795'+'3e+06,\x202.2'+'084e+06);\x0a'+'\x20\x20\x20\x20const\x20'+'vec3\x20var\x20='+'\x20vec3(4.32'+'78e+09,\x209.'+'3046e+09,\x20'+'6.6121e+09'+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20xyz\x20=\x20v'+'al\x20*\x20sqrt('+'2.0\x20*\x20PI\x20*'+'\x20var)\x20*\x20co'+'s(pos\x20*\x20ph'+'ase\x20+\x20shif'+'t)\x20*\x20exp(-'+'pow(phase,'+'\x202.0)\x20*\x20va'+'r);\x0a\x20\x20\x20\x20xy'+'z.x\x20+=\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+('cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20/=\x20vec3(1'+'.0685e-07)'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20mat3\x20XY'+'Z_TO_REC70'+'9\x20=\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x203.'+'2404542,\x20-'+'0.9692660,'+'\x20\x200.055643'+'4,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-1.5371385'+',\x20\x201.87601'+'08,\x20-0.204'+'0259,\x0a\x20\x20\x20\x20'+'\x20\x20\x20-0.4985'+'314,\x20\x200.04'+'15560,\x20\x201.'+'0572252\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'return\x20XYZ'+'_TO_REC709'+'\x20*\x20xyz;\x0a}\x0a'+'\x0afloat\x20iri'+'descence_f'+'resnel(flo'+'at\x20cosThet'+'a,\x20float\x20f'+'0)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20x\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x2\x20=\x20x\x20*'+'\x20x;\x0a\x20\x20\x20\x20fl'+'oat\x20x5\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x20\x0a\x0av'+'ec3\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'vec3\x20f0)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20clamp'+'(1.0\x20-\x20cos'+'Theta,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20float\x20x2'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'x5\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x20\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(vec3'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0avec3\x20calc'+'Iridescenc'+'e(float\x20ou'+'tsideIor,\x20'+'float\x20cosT'+'heta,\x20vec3'+'\x20base_f0,\x20'+'float\x20irid'+'escenceThi'+'ckness)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceIor\x20'+'=\x20mix(outs'+'ideIor,\x20ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20float'+'\x20sinTheta2'+'Sq\x20=\x20pow(o'+'utsideIor\x20'+'/\x20iridesce')+('nceIor,\x202.'+'0)\x20*\x20(1.0\x20'+'-\x20pow(cosT'+'heta,\x202.0)'+');\x0a\x20\x20\x20\x20flo'+'at\x20cosThet'+'a2Sq\x20=\x201.0'+'\x20-\x20sinThet'+'a2Sq;\x0a\x0a\x20\x20\x20'+'\x20if\x20(cosTh'+'eta2Sq\x20<\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec3(1.0)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20c'+'osTheta2\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20r0\x20=\x20irid'+'escence_io'+'rToFresnel'+'(iridescen'+'ceIor,\x20out'+'sideIor);\x0a'+'\x20\x20\x20\x20float\x20'+'r12\x20=\x20irid'+'escence_fr'+'esnel(cosT'+'heta,\x20r0);'+'\x0a\x20\x20\x20\x20float'+'\x20r21\x20=\x20r12'+';\x0a\x20\x20\x20\x20floa'+'t\x20t121\x20=\x201'+'.0\x20-\x20r12;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20phi12\x20=\x20i'+'ridescence'+'Ior\x20<\x20outs'+'ideIor\x20?\x20P'+'I\x20:\x200.0;\x0a\x20'+'\x20\x20\x20float\x20p'+'hi21\x20=\x20PI\x20'+'-\x20phi12;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20b'+'aseIor\x20=\x20i'+'ridescence'+'_fresnelTo'+'Ior(base_f'+'0\x20+\x20vec3(0'+'.0001));\x0a\x20'+'\x20\x20\x20vec3\x20r1'+'\x20=\x20iridesc'+'ence_iorTo'+'Fresnel(ba'+'seIor,\x20iri'+'descenceIo'+'r);\x0a\x20\x20\x20\x20ve'+'c3\x20r23\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta2,\x20'+'r1);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20phi23'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20if'+'\x20(baseIor['+'0]\x20<\x20iride'+'scenceIor)'+'\x20phi23[0]\x20'+'=\x20PI;\x0a\x20\x20\x20\x20'+'if\x20(baseIo'+'r[1]\x20<\x20iri'+'descenceIo'+'r)\x20phi23[1'+']\x20=\x20PI;\x0a\x20\x20'+'\x20\x20if\x20(base'+'Ior[2]\x20<\x20i'+'ridescence'+'Ior)\x20phi23'+'[2]\x20=\x20PI;\x0a'+'\x20\x20\x20\x20float\x20'+'opd\x20=\x202.0\x20'+'*\x20iridesce'+'nceIor\x20*\x20i'+'ridescence'+'Thickness\x20'+'*\x20cosTheta'+'2;\x0a\x20\x20\x20\x20vec'+'3\x20phi\x20=\x20ve'+'c3(phi21)\x20'+'+\x20phi23;\x20\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123Sq\x20=\x20c'+'lamp(r12\x20*'+'\x20r23,\x201e-5'+',\x200.9999);'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123\x20=\x20sqr')+('t(r123Sq);'+'\x0a\x20\x20\x20\x20vec3\x20'+'rs\x20=\x20pow(t'+'121,\x202.0)\x20'+'*\x20r23\x20/\x20(1'+'.0\x20-\x20r123S'+'q);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20c0\x20=\x20r'+'12\x20+\x20rs;\x0a\x20'+'\x20\x20\x20vec3\x20i\x20'+'=\x20c0;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cm\x20='+'\x20rs\x20-\x20t121'+';\x0a\x20\x20\x20\x20for\x20'+'(int\x20m\x20=\x201'+';\x20m\x20<=\x202;\x20'+'m++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20cm\x20*='+'\x20r123;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'sm\x20=\x202.0\x20*'+'\x20iridescen'+'ce_sensiti'+'vity(float'+'(m)\x20*\x20opd,'+'\x20float(m)\x20'+'*\x20phi);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20i\x20+='+'\x20cm\x20*\x20sm;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20max'+'(i,\x20vec3(0'+'.0));\x0a}\x0a\x0av'+'ec3\x20getIri'+'descence(f'+'loat\x20cosTh'+'eta,\x20vec3\x20'+'specularit'+'y,\x20float\x20i'+'ridescence'+'Thickness)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),oP='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_irid'+'escence;\x0a#'+'endif\x0a\x0avoi'+'d\x20getIride'+'scence()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_IRID'+'ESCENCE_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20iridescen'+'ce\x20*=\x20mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20textur'+'e2DBias({S'+'TD_IRIDESC'+'ENCE_TEXTU'+'RE_NAME},\x20'+'{STD_IRIDE'+'SCENCE_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCE_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scence\x20=\x20i'+'ridescence'+';\x20\x0a}\x0a',lP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_iridesc'+'enceThickn'+'essMin;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'end\x20=\x20text'+'ure2DBias('+'{STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE_NAME},'+'\x20{STD_IRID'+'ESCENCETHI'+'CKNESS_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCET'+'HICKNESS_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20iridescen'+'ceThicknes'+'s\x20=\x20mix(ma'+'terial_iri'+'descenceTh'+'icknessMin'+',\x20material'+'_iridescen'+'ceThicknes'+'sMax,\x20blen'+'d);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',cP='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'fractionIn'+'dex;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tIor()\x20{\x0a#'+'ifdef\x20STD_'+'IOR_CONSTA'+'NT\x0a\x20\x20\x20\x20dIo'+'r\x20=\x20materi'+'al_refract'+'ionIndex;\x0a'+'#else\x0a\x20\x20\x20\x20'+'dIor\x20=\x201.0'+'\x20/\x201.5;\x0a#e'+'ndif\x0a}\x0a',hP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20light{i}_'+'color;\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec3\x20light'+'{i}_direct'+'ion;\x0a\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20LIT_CODE'+'_LIGHTS_PO'+'INT\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20point\x20l'+'ights\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_pos'+'ition;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_ra'+'dius;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20SPOT\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20spot\x20ligh'+'ts\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20l'+'ight{i}_di'+'rection;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20light'+'{i}_innerC'+'oneAngle;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_outer'+'ConeAngle;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'3\x20light{i}'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20vec3\x20lig'+'ht{i}_half'+'Width;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_hal'+'fHeight;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'FALLOFF\x20=='+'\x20LINEAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+('T_CODE_FAL'+'LOFF_LINEA'+'R\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20linear\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}FALLOFF\x20'+'==\x20INVERSE'+'SQUARED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ca'+'sting\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'CASTSHADOW'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20light{'+'i}_shadowM'+'atrix;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_sh'+'adowIntens'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec4\x20ligh'+'t{i}_shado'+'wParams;\x20/'+'/\x20width,\x20h'+'eight,\x20bia'+'s,\x20radius\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_s'+'hadowSearc'+'hArea;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20light{i}'+'_cameraPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_sof'+'tShadowPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20direction'+'al\x20(cascad'+'ed)\x20shadow'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrixPa'+'lette[4];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec4\x20light'+'{i}_shadow'+'CascadeDis'+'tances;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20in'+'t\x20light{i}'+'_shadowCas')+('cadeCount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_shad'+'owCascadeB'+'lend;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'SHADOW_PCF'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2DShado'+'w\x20light{i}'+'_shadowMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_shadowM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'okie\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIGHT{i}C'+'OOKIE)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_COOKIE\x20'+'//\x20include'+'\x20functiona'+'lity\x20for\x20c'+'ookies\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20light{i'+'}_cookie;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_cooki'+'eIntensity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d'+'efined(LIG'+'HT{i}CASTS'+'HADOW)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20ligh'+'t{i}_shado'+'wMatrix;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20SPOT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20lig')+('ht{i}_cook'+'ie;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_c'+'ookieInten'+'sity;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIGHT{i}C'+'ASTSHADOW)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'light{i}_s'+'hadowMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIGH'+'T{i}COOKIE'+'_TRANSFORM'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20light{i}_'+'cookieMatr'+'ix;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c2\x20light{i'+'}_cookieOf'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),dP='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',fP='\x0avec3\x20eval'+'OmniLight('+'vec3\x20light'+'PosW)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'PositionW\x20'+'-\x20lightPos'+'W;\x0a}\x0a',uP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',pP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0avoid\x20e'+'valuateLig'+'ht{i}(\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20iridesc'+'enceFresne'+'l\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20color\x0a\x20\x20\x20'+'\x20vec3\x20ligh'+'tColor\x20=\x20l'+'ight{i}_co'+'lor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x20&&\x20!defi'+'ned(LIT_SH'+'ADOW_CATCH'+'ER)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20return\x20if'+'\x20the\x20light'+'\x20color\x20is\x20'+'black\x20(use'+'d\x20by\x20shado'+'w\x20catcher\x20'+'-\x20this\x20way'+'\x20this\x20ligh'+'t\x20is\x20very\x20'+'cheap)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(a'+'ll(equal(l'+'ightColor,'+'\x20vec3(0.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20dir'+'ectional\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light{i}_'+'direction;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20omn'+'i\x20or\x20spot\x20'+'light\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtDirW\x20=\x20'+'evalOmniLi'+'ght(light{'+'i}_positio'+'n);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightDi'+'rNormW\x20=\x20n'+'ormalize(l'+'ightDirW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20cookie\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'COOKIE)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_FALLOF'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_TRANSF'+'ORM\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2DXform('+('light{i}_c'+'ookie,\x20lig'+'ht{i}_shad'+'owMatrix,\x20'+'light{i}_c'+'ookieInten'+'sity,\x20ligh'+'t{i}_cooki'+'eMatrix,\x20l'+'ight{i}_co'+'okieOffset'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2D(light'+'{i}_cookie'+',\x20light{i}'+'_shadowMat'+'rix,\x20light'+'{i}_cookie'+'Intensity)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}COOKIE_TR'+'ANSFORM\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'Cookie2DCl'+'ipXform(li'+'ght{i}_coo'+'kie,\x20light'+'{i}_shadow'+'Matrix,\x20li'+'ght{i}_coo'+'kieIntensi'+'ty,\x20light{'+'i}_cookieM'+'atrix,\x20lig'+'ht{i}_cook'+'ieOffset).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20cookieAtt'+'enuation\x20='+'\x20getCookie'+'2DClip(lig'+'ht{i}_cook'+'ie,\x20light{'+'i}_shadowM'+'atrix,\x20lig'+'ht{i}_cook'+'ieIntensit'+'y).{LIGHT{'+'i}COOKIE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20OMNI\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'CookieCube'+'(light{i}_'+'cookie,\x20li'+'ght{i}_sha')+('dowMatrix,'+'\x20light{i}_'+'cookieInte'+'nsity).{LI'+'GHT{i}COOK'+'IE_CHANNEL'+'};\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'ltiply\x20lig'+'ht\x20color\x20b'+'y\x20the\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lig'+'htColor\x20*='+'\x20cookieAtt'+'enuation;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20di'+'stance\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20==\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}FAL'+'LOFF\x20==\x20LI'+'NEAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Linear(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20=\x20g'+'etFalloffI'+'nvSquared('+'light{i}_r'+'adius,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20non'+'\x20punctual\x20'+'lights\x20onl'+'y\x20gets\x20the'+'\x20range\x20win'+'dow\x20here\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Window(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20angle\x20'+'falloff\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20SPOT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20!de'+'fined(LIGH'+'T{i}COOKIE'+')\x20||\x20defin'+'ed(LIGHT{i'+'}COOKIE_FA'+'LLOFF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dAtten\x20'+'*=\x20getSpot'+'Effect(lig'+'ht{i}_dire'+'ction,\x20lig'+'ht{i}_inne'+'rConeAngle'+',\x20light{i}'+'_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20if\x20(dA'+'tten\x20<\x200.0')+('0001)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20are'+'a\x20light\x20va'+'lues\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcR'+'ectLightVa'+'lues(light'+'{i}_positi'+'on,\x20light{'+'i}_halfWid'+'th,\x20light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20calcDi'+'skLightVal'+'ues(light{'+'i}_positio'+'n,\x20light{i'+'}_halfWidt'+'h,\x20light{i'+'}_halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcS'+'phereLight'+'Values(lig'+'ht{i}_posi'+'tion,\x20ligh'+'t{i}_halfW'+'idth,\x20ligh'+'t{i}_halfH'+'eight);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'lighting\x20-'+'\x20LTC\x20light'+'s\x20do\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20'+'into\x20atten'+'uation\x20tha'+'t\x20affects\x20'+'specular\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20atten'+'Diffuse\x20-\x20'+'separate\x20d'+'iffuse\x20att'+'enuation\x20f'+'or\x20non-pun'+'ctual\x20ligh'+'t\x20sources\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20NB:\x20'+'A\x20better\x20a'+'pproximati'+'on\x20perhaps'+'\x20using\x20wra'+'p\x20lighting'+'\x20could\x20be\x20'+'implemente'+'d\x20here\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20atten'+'Diffuse\x20=\x20'+'getLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dL'+'ightDirNor'+'mW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x2016.0\x20i'+'s\x20a\x20consta'+'nt\x20that\x20is'+'\x20in\x20getFal'+'loffInvSqu'+'ared()\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20==\x20'+'RECT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getRectL'+'ightDiffus'+'e(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20lightD'+'irW,\x20dLigh'+'tDirNormW)'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20attenDiff'+'use\x20=\x20getD'+'iskLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20li'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getSpher'+'eLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20ligh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20one\x20'+'parameter\x20'+'is\x20unused\x20'+'for\x20punctu'+'al\x20lights\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20*=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20vec3('+'0.0),\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20apply\x20th'+'e\x20shadow\x20a'+'ttenuation'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'CASTSHADOW'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadow{i'+'}(vec3(0.0'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adow{i}(li'+'ghtDirW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20App')+('ly\x20shadow\x20'+'intensity\x20'+'to\x20the\x20sha'+'dow\x20value\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20=\x20mix'+'(1.0,\x20shad'+'ow,\x20light{'+'i}_shadowI'+'ntensity);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20*=\x20'+'shadow;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_SHADOW_'+'CATCHER)\x20&'+'&\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20accum'+'ulate\x20shad'+'ows\x20for\x20di'+'rectional\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ShadowCatc'+'her\x20*=\x20sha'+'dow;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20-\x20they\x20do'+'\x20not\x20mix\x20d'+'iffuse\x20lig'+'hting\x20into'+'\x20specular\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20('+'(attenDiff'+'use\x20*\x20dAtt'+'en)\x20*\x20ligh'+'tColor)\x20*\x20'+'(1.0\x20-\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(atte'+'nDiffuse\x20*'+'\x20dAtten)\x20*'+'\x20lightColo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20punctua'+'l\x20light\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(AR'+'EA_LIGHTS)'+'\x20&&\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(dAtt'+'en\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20litA'+'rgs_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20spec'+'ular\x20light'+'ing\x0a\x20\x20\x20\x20#i'+'fdef\x20LIGHT')+('{i}AFFECT_'+'SPECULARIT'+'Y\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x20//\x20area\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccSpecula'+'rLight\x20+=\x20'+'ccLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_clear'+'coat_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20ccLTC'+'SpecFres\x20*'+'\x20getDiskLi'+'ghtSpecula'+'r(litArgs_'+'clearcoat_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ge'+'tSphereLig'+'htSpecular'+'(litArgs_c'+'learcoat_w'+'orldNormal'+',\x20dViewDir'+'W)\x20*\x20dAtte'+'n\x20*\x20lightC'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20dLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp')+('ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20SPHERE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20d'+'LTCSpecFre'+'s\x20*\x20getSph'+'ereLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20punctual'+'\x20light\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20is\x20fres'+'nel\x20needed'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20LI'+'T_FRESNEL_'+'MODEL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'GHT{i}FRES'+'NEL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20hal'+'fDirW\x20=\x20no'+'rmalize(-d'+'LightDirNo'+'rmW\x20+\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20if\x20LTC\x20'+'lights\x20are'+'\x20present,\x20'+'specular\x20m'+'ust\x20be\x20acc'+'umulated\x20w'+'ith\x20specul'+'arity\x20(spe'+'cularity\x20i'+'s\x20pre\x20mult'+'iplied\x20by\x20'+'punctual\x20l'+'ight\x20fresn'+'el)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtspecula'+'rCC\x20=\x20getL'+'ightSpecul'+'ar(halfDir'+'W,\x20ccReflD'+'irW,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_clearcoat'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tspecularC'+'C\x20*=\x20getFr'+'esnelCC(do'+'t(dViewDir'+'W,\x20halfDir'+'W));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20lightsp'+'ecularCC;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20lightSpec'+'ular\x20=\x20get'+'LightSpecu'+'lar(halfDi'+'rW,\x20dReflD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightSpecu'+'lar\x20*=\x20get'+'Fresnel(do'+'t(dViewDir'+'W,\x20halfDir'+'W),\x20litArg'+'s_gloss,\x20l'+'itArgs_spe'+'cularity,\x20'+'iridescenc'+'eFresnel,\x20'+'litArgs_ir'+'idescence_'+'intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20*=\x20g'+'etFresnel('+'dot(dViewD'+'irW,\x20halfD'+'irW),\x20litA'+'rgs_gloss,'+'\x20litArgs_s')+('pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20lightSp'+'ecular\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20+=\x20light'+'Specular;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a#en'+'dif\x0a'),mP='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20vec3\x20'+'getShadowS'+'ampleCoord'+'{i}(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'urfacePosi'+'tion\x20=\x20wor'+'ldPosition'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT{i}_SHA'+'DOW_SAMPLE'+'_POINT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20len'+'gth(lightD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightDir'+'\x20=\x20surface'+'Position\x20-'+'\x20lightPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_S'+'OURCE_ZBUF'+'FER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+('NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20distScal'+'e\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20abs'+'(dot(vPosi'+'tionW\x20-\x20li'+'ghtPos,\x20li'+'ghtDirNorm'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20posi'+'tionInShad'+'owSpace\x20=\x20'+'shadowTran'+'sform\x20*\x20ve'+'c4(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM'+'PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.')+('w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20posit'+'ionInShado'+'wSpace.xy\x20'+'/=\x20positio'+'nInShadowS'+'pace.w;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20po'+'sitionInSh'+'adowSpace.'+'z\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20thi'+'s\x20is\x20curre'+'ntly\x20unuse'+'d\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SHADOW_SA'+'MPLE_Z_BIA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20positionI'+'nShadowSpa'+'ce.z\x20+=\x20ge'+'tShadowBia'+'s(shadowPa'+'rams.x,\x20sh'+'adowParams'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20positi'+'onInShadow'+'Space.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20surfaceP'+'osition;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'evaluation'+'\x20function\x0a'+'\x20\x20\x20\x20float\x20'+'getShadow{'+'i}(vec3\x20li'+'ghtDirW)\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20shado'+'w\x20cascades'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_CASCADES'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20sel'+'ect\x20shadow'+'\x20cascade\x20m'+'atrix\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'t\x20cascadeI'+'ndex\x20=\x20get'+'ShadowCasc'+'adeIndex(l'+'ight{i}_sh'+'adowCascad'+'eDistances'+',\x20light{i}'+'_shadowCas'+'cadeCount)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'_SHADOW_CA'+'SCADE_BLEN'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'scadeIndex'+'\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex'+',\x20light{i}'+'_shadowCas'+'cadeDistan'+'ces,\x20light')+('{i}_shadow'+'CascadeCou'+'nt,\x20light{'+'i}_shadowC'+'ascadeBlen'+'d);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mat4'+'\x20shadowMat'+'rix\x20=\x20ligh'+'t{i}_shado'+'wMatrixPal'+'ette[casca'+'deIndex];\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t4\x20shadowM'+'atrix\x20=\x20li'+'ght{i}_sha'+'dowMatrix;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20DIRE'+'CTIONAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20light'+'\x20does\x20not\x20'+'have\x20a\x20pos'+'ition\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20light'+'{i}_shadow'+'Params,\x20vP'+'ositionW,\x20'+'vec3(0.0),'+'\x20lightDirW'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20shad'+'owCoord\x20=\x20'+'getShadowS'+'ampleCoord'+'{i}(shadow'+'Matrix,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20vPosition'+'W,\x20light{i'+'}_position'+',\x20lightDir'+'W,\x20dLightD'+'irNormW,\x20d'+'VertexNorm'+'alW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Fade\x20di'+'rectional\x20'+'shadow\x20at\x20'+'the\x20far\x20di'+'stance\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadowCoord'+'\x20=\x20fadeSha'+'dow(shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owCascadeD'+'istances);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20--'+'---\x20sample'+'\x20the\x20shado'+'w\x20-----\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x20/'+'/\x20-----\x20di'+'rectional\x20'+'light\x20----')+('-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wVSM16(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x205'+'.54);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20VSM_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowVSM32('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x2015.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCS'+'S_32F\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sh'+'adowSearch'+'Area\x20=\x20vec'+'2(length(l'+'ight{i}_ha'+'lfWidth),\x20'+'length(lig'+'ht{i}_half'+'Height))\x20*'+'\x20light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCSS(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20light{i}_'+'cameraPara'+'ms,\x20shadow'+'SearchArea'+',\x20lightDir'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20light{i}'+'_softShado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF1_16'+'F\x20||\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'1_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF3'+'_16F\x20||\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCF3x3(SH'+'ADOWMAP_PA'+'SS(light{i'+'}_shadowMa'+'p),\x20shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF5_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF5_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(SHADOWMAP'+'_PASS(ligh'+'t{i}_shado'+'wMap),\x20sha'+'dowCoord,\x20'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20S'+'POT\x20//\x20---'+'--\x20spot\x20li'+'ght\x20-----\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20V'+'SM_16F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potVSM16(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x205.54,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowSpo')+('tVSM32(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x201'+'5.0,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20shad'+'owSearchAr'+'ea\x20=\x20vec2('+'length(lig'+'ht{i}_half'+'Width),\x20le'+'ngth(light'+'{i}_halfHe'+'ight))\x20*\x20l'+'ight{i}_sh'+'adowSearch'+'Area;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(lig'+'ht{i}_shad'+'owSearchAr'+'ea);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotPCSS('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x20light{i}'+'_cameraPar'+'ams,\x20shado'+'wSearchAre'+'a,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF1_1'+'6F\x20||\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA')+('DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F5_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_PASS(l'+'ight{i}_sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20light{i'+'}_shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x20//\x20'+'-----\x20omni'+'\x20light\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCSS_32F'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P'+'UNCTUAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(len'+'gth(light{'+'i}_halfWid'+'th),\x20lengt'+'h(light{i}'+'_halfHeigh'+'t))\x20*\x20ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2(light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20shadowSe'+'archArea,\x20'+'lightDirW)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_')+('32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF3_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF3_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowOmniPC'+'F3x3(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),_P='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20areaLight'+'sLutTex2;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCSSPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22shadow'+'SoftPS\x22\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(SH'+'ADOW_KIND_'+'VSM)\x0a\x20\x20\x20\x20#'+'include\x20\x22s'+('hadowEVSMP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_LINEA'+'R\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fall'+'offLinearP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22fal'+'loffInvSqu'+'aredPS\x22\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20LIT_COD'+'E_LIGHTS_P'+'OINT\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'ightDirPoi'+'ntPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22spot'+'PS\x22\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_CODE_CO'+'OKIE\x0a\x20\x20\x20\x20#'+'include\x20\x22c'+'ookiePS\x22\x0a#'+'endif\x0a\x0a//\x20'+'clustered\x20'+'lighting\x0a#'+'ifdef\x20LIT_'+'CLUSTERED_'+'LIGHTS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22clustered'+'LightPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHT_'+'COUNT\x20>\x200\x0a'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20genera'+'te\x20shadow\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionSha'+'dowPS,\x20LIG'+'HT_COUNT\x22\x0a'+'\x0a\x20\x20\x20\x20//\x20LO'+'OP\x20-\x20gener'+'ate\x20light\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionLig'+'htPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a'),gP='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'rectional\x20'+'lightmap\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x20&'+'&\x20defined('+'LIT_DIR_LI'+'GHTMAP)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dot(dir,\x20'+'dir)\x20<\x200.0'+'001)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'lightmap;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20vligh'+'t\x20=\x20satura'+'te(dot(dir'+',\x20-vertexN'+'ormal));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fli'+'ght\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20nl'+'ight\x20=\x20(fl'+'ight\x20/\x20max'+'(vlight,\x200'+'.01))\x20*\x200.'+'5;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p\x20*\x20nlight'+'\x20*\x202.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20half'+'Dir\x20=\x20norm'+'alize(-dir'+'\x20+\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'specularLi'+'ght\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20getFre'+'snel(dot(v'+'iewDir,\x20ha'+'lfDir),\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceInt'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20non-dire'+'ctional\x20li'+'ghtmap\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),SP='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'vec3\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_d'+'irLightMap'+';\x0a#endif\x0a\x0a'+'void\x20getLi'+'ghtMap()\x20{'+'\x0a\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_LIGHT'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dLi'+'ghtmap\x20*=\x20'+'{STD_LIGHT'+'_TEXTURE_D'+'ECODE}(tex'+'ture2DBias'+'({STD_LIGH'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'LIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_LIGHTM'+'AP_DIR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dir\x20=\x20'+'texture2DB'+'ias(textur'+'e_dirLight'+'Map,\x20{STD_'+'LIGHT_TEXT'+'URE_UV},\x20t'+'extureBias'+').xyz\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dir'+'Dot\x20=\x20dot('+'dir,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightm'+'apDir\x20=\x20(d'+'irDot\x20>\x200.'+'001)\x20?\x20dir'+'\x20/\x20sqrt(di'+'rDot)\x20:\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_LIGHT_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_LIGHT_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a',yP='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20alp'+'haRoughnes'+'s\x20=\x20roughn'+'ess\x20*\x20roug'+'hness;\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'dAnisotrop'+'y;\x0a\x20\x20\x20\x20vec'+'2\x20directio'+'n\x20=\x20dAniso'+'tropyRotat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'float\x20at\x20='+'\x20mix(alpha'+'Roughness,'+'\x201.0,\x20anis'+'otropy\x20*\x20a'+'nisotropy)'+';\x0a\x20\x20\x20\x20floa'+'t\x20ab\x20=\x20cla'+'mp(alphaRo'+'ughness,\x200'+'.001,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20anisotro'+'picT\x20=\x20nor'+'malize(tbn'+'\x20*\x20vec3(di'+'rection,\x200'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicB\x20=\x20'+'normalize('+'cross(tbn['+'2],\x20anisot'+'ropicT));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20NoH\x20=\x20dot'+'(worldNorm'+'al,\x20h);\x0a\x20\x20'+'\x20\x20float\x20To'+'H\x20=\x20dot(an'+'isotropicT'+',\x20h);\x0a\x20\x20\x20\x20'+'float\x20BoH\x20'+'=\x20dot(anis'+'otropicB,\x20'+'h);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20a2\x20=\x20'+'at\x20*\x20ab;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20vec3(ab\x20'+'*\x20ToH,\x20at\x20'+'*\x20BoH,\x20a2\x20'+'*\x20NoH);\x0a\x20\x20'+'\x20\x20float\x20v2'+'\x20=\x20dot(v,\x20'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20w2\x20=\x20a'+'2\x20/\x20v2;\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'ToV\x20=\x20dot('+'anisotropi'+'cT,\x20viewDi'+'r);\x0a\x20\x20\x20\x20fl'+'oat\x20BoV\x20=\x20'+'dot(anisot'+'ropicB,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20float\x20To'+'L\x20=\x20dot(an'+'isotropicT'+(',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20Bo'+'L\x20=\x20dot(an'+'isotropicB'+',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20No'+'V\x20=\x20dot(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20float'+'\x20NoL\x20=\x20dot'+'(worldNorm'+'al,\x20-light'+'DirNorm);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20lambdaV\x20='+'\x20NoL\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToV,\x20a'+'b\x20*\x20BoV,\x20N'+'oV));\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daL\x20=\x20NoV\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oL,\x20ab\x20*\x20B'+'oL,\x20NoL));'+'\x0a\x20\x20\x20\x20float'+'\x20G\x20=\x200.5\x20/'+'\x20(lambdaV\x20'+'+\x20lambdaL)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20D\x20*\x20G;'+'\x0a}\x0a\x0afloat\x20'+'getLightSp'+'ecular(vec'+'3\x20h,\x20vec3\x20'+'reflDir,\x20v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'float\x20glos'+'s,\x20mat3\x20tb'+'n)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'LightSpecu'+'lar(gloss,'+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20h,\x20ligh'+'tDirNorm,\x20'+'tbn);\x0a}\x0a'),vP='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',xP='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20PI\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',TP='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'hWithParam'+'s(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec4\x20ca'+'mera_param'+'s;\x20//\x20x:\x201'+'\x20/\x20camera_'+'far,\x20\x20\x20\x20\x20\x20'+'y:\x20camera_'+'far,\x20\x20\x20\x20\x20z'+':\x20camera_n'+'ear,\x20\x20\x20\x20\x20\x20'+'\x20\x20w:\x20is_or'+'tho\x0a#endif'+'\x0a\x0afloat\x20li'+'nearizeDep'+'th(float\x20z'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20linea'+'rizeDepthW'+'ithParams('+'z,\x20camera_'+'params);\x0a}'+'\x0a#endif\x0a',wP='\x0avoid\x20eval'+'uateBacken'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'SSAO\x20durin'+'g\x20lighting'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_SSAO'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ao\x20'+'*=\x20texture'+'2DLod(ssao'+'Texture,\x20g'+'l_FragCoor'+'d.xy\x20*\x20ssa'+'oTextureSi'+'zeInv,\x200.0'+').r;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20transf'+'orm\x20tangen'+'t\x20space\x20no'+'rmals\x20to\x20w'+'orld\x20space'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_NEED'+'S_NORMAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etReflDir('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20litArgs_'+'gloss,\x20dTB'+'N);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W\x20=\x20normal'+'ize(-refle'+'ct(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR_OR'+'_REFLECTIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20f'+'0\x20=\x201.0\x20/\x20'+'litArgs_io'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20f0\x20=\x20'+'(f0\x20-\x201.0)'+'\x20/\x20(f0\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20f0\x20'+'*=\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+('ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'mbient\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20addAmbie'+'nt(litArgs'+'_worldNorm'+'al);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20dDiffuse'+'Light\x20*\x20(1'+'.0\x20-\x20litAr'+'gs_specula'+'rity);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20move\x20a'+'mbient\x20col'+'or\x20out\x20of\x20'+'diffuse\x20(u'+'sed\x20by\x20Lig'+'htmapper,\x20'+'to\x20multipl'+'y\x20ambient\x20'+'color\x20by\x20a'+'ccumulated'+'\x20AO)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SEPARA'+'TE_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dA'+'mbientLigh'+'t\x20=\x20dDiffu'+'seLight;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_O'+'LD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20*=\x20mate'+'rial_ambie'+'nt;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OCCLUD'+'E_DIRECT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20occludeDi'+'ffuse(litA'+'rgs_ao);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTMAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'dLightMap('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_lightmap'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dViewDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dRef'+'lDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dTBN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTING\x20'+'||\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tionCC(ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_glo'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_FRESNE'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccFresne'+'l\x20=\x20getFre'+'snelCC(dot'+'(dViewDirW'+',\x20litArgs_'+'clearcoat_'+'worldNorma'+'l));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccRef'+'lection\x20*='+'\x20ccFresnel'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20*=\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'addReflect'+'ionSheen(l'+'itArgs_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20litArgs_s'+'heen_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Fr')+('esnel\x20has\x20'+'to\x20be\x20appl'+'ied\x20to\x20ref'+'lections\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tion(dRefl'+'DirW,\x20litA'+'rgs_gloss)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_FRES'+'NEL_MODEL\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dRe'+'flection.r'+'gb\x20*=\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.rgb\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n.rgb\x20*=\x20l'+'itArgs_spe'+'cularityFa'+'ctor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20ARE'+'A_LIGHTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20has\x20to\x20'+'be\x20accumul'+'ated\x20diffe'+'rently\x20if\x20'+'we\x20want\x20ar'+'ea\x20lights\x20'+'to\x20look\x20co'+'rrect\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dS'+'pecularLig'+'ht\x20*=\x20litA'+'rgs_specul'+'arity;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'valuate\x20ma'+'terial\x20bas'+'ed\x20area\x20li'+'ghts\x20data,')+('\x20shared\x20by'+'\x20all\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcLTC'+'LightValue'+'s(litArgs_'+'gloss,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_gl'+'oss,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20LOOP\x20-\x20e'+'valuate\x20al'+'l\x20non-clus'+'tered\x20ligh'+'ts\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT_COUNT\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tEvaluatio'+'nPS,\x20LIGHT'+'_COUNT\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clust'+'ered\x20light'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addClust'+'eredLights'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dReflDi'+'rW,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_CLEA'+'RCOAT)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20litAr'+'gs_specula'+'rity,\x20dVer'+'texNormalW'+',\x20dTBN,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_gloss,'+'\x20litArgs_s'+'heen_gloss'+',\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20AR'+'EA_LIGHTS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x20=\x20ve'+'c3(1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'thickness,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_albe'+'do,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_t'+'ransmissio'+'n,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_disp'+'ersion\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_iridesc'+'ence_inten'+'sity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20ambient'+'\x20occlusion'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_OC')+('CLUDE_DIRE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20occlu'+'deDiffuse('+'litArgs_ao'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIT_OCCLU'+'DE_SPECULA'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeS'+'pecular(li'+'tArgs_glos'+'s,\x20litArgs'+'_ao,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULARIT'+'Y_FACTOR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20litAr'+'gs_specula'+'rityFactor'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIT_OPACI'+'TY_FADES_S'+'PECULAR)\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIT_BLEN'+'D_TYPE\x20==\x20'+'NORMAL\x20||\x20'+'LIT_BLEND_'+'TYPE\x20==\x20PR'+'EMULTIPLIE'+'D\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20specLum\x20='+'\x20dot((dSpe'+'cularLight'+'\x20+\x20dReflec'+'tion.rgb\x20*'+'\x20dReflecti'+'on.a),\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecLum\x20+=\x20'+'dot(ccSpec'+'ularLight\x20'+'*\x20litArgs_'+'clearcoat_'+'specularit'+'y\x20+\x20ccRefl'+'ection\x20*\x20l'+'itArgs_cle'+'arcoat_spe'+'cularity,\x20'+'vec3(\x200.21'+'26,\x200.7152'+',\x200.0722\x20)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_opacity\x20'+'=\x20clamp(li'+'tArgs_opac'+'ity\x20+\x20gamm'+'aCorrectIn'+'put(specLu'+'m),\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;\x0a\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nd\x20chunks\x20'+'-\x20when\x20bak'+'ing\x20lightm'+'ap\x0a\x20\x20\x20\x20#if'+'def\x20LIT_LI')+('GHTMAP_BAK'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22bak'+'eLmEndPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_LIGHTM'+'AP_BAKING_'+'DIR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22bake'+'DirLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20en'+'d\x20chunks\x20-'+'\x20in\x20all\x20ot'+'her\x20cases\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22en'+'dPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22outputA'+'lphaPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_MSDF\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20applyMs'+'df(gl_Frag'+'Color);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22output'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22de'+'bugOutputP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HADOW_CATC'+'HER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20when\x20the'+'\x20shadow\x20ca'+'tcher\x20is\x20e'+'nabled\x20-\x20a'+'ccumulated'+'\x20shadows\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20=\x20vec3'+'(dShadowCa'+'tcher);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a'),EP='\x0a\x0a//\x20globa'+'ls\x0avec3\x20sR'+'eflection;'+'\x0avec3\x20dVer'+'texNormalW'+';\x0avec3\x20dTa'+'ngentW;\x0ave'+'c3\x20dBinorm'+'alW;\x0avec3\x20'+'dViewDirW;'+'\x0avec3\x20dRef'+'lDirW;\x0avec'+'3\x20ccReflDi'+'rW;\x0a\x0a//\x20Pe'+'r-light\x20te'+'mporaries\x0a'+'vec3\x20dLigh'+'tDirNormW;'+'\x0afloat\x20dAt'+'ten;\x0a\x0a//\x20O'+'utputs\x0amat'+'3\x20dTBN;\x0ave'+'c4\x20dReflec'+'tion;\x0avec3'+'\x20dDiffuseL'+'ight;\x0avec3'+'\x20dSpecular'+'Light;\x0aflo'+'at\x20ccFresn'+'el;\x0avec3\x20c'+'cReflectio'+'n;\x0avec3\x20cc'+'SpecularLi'+'ght;\x0afloat'+'\x20ccSpecula'+'rityNoFres'+';\x0avec3\x20sSp'+'ecularLigh'+'t;\x0a\x0a//\x20FRA'+'GMENT\x20SHAD'+'ER\x20INPUTS:'+'\x20UNIFORMS\x0a'+'\x0a#ifdef\x20LI'+'T_DISPERSI'+'ON\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'dispersion'+';\x0a#endif\x0a\x0a'+'#ifndef\x20LI'+'T_OPACITY_'+'FADES_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_alphaFad'+'e;\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_SSAO\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20unif'+'orm\x20vec2\x20s'+'saoTexture'+'SizeInv;\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20a'+'nd\x20shadowi'+'ng\x20declara'+'tions\x0a\x0a#if'+'def\x20LIT_SH'+'ADOW_CATCH'+'ER\x0a\x20\x20\x20\x20//\x20'+'a\x20variable'+'\x20to\x20accumu'+'late\x20shado'+'ws\x20for\x20sha'+'dow\x20catche'+'r\x20material'+'s\x0a\x20\x20\x20\x20floa'+'t\x20dShadowC'+'atcher\x20=\x201'+'.0;\x0a#endif'+'\x0a\x0a//\x20LOOP\x20'+'-\x20uniform\x20'+'declaratio'+'ns\x20for\x20all'+'\x20non-clust'+'ered\x20light'+'s\x0a#if\x20LIGH'+'T_COUNT\x20>\x20'+'0\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDeclarati'+'onPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+('\x20#if\x20LIT_F'+'RESNEL_MOD'+'EL\x20==\x20NONE'+'\x20&&\x20!defin'+'ed(LIT_REF'+'LECTIONS)\x20'+'&&\x20!define'+'d(LIT_DIFF'+'USE_MAP)\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a//\x20lightm'+'ap\x20baking\x0a'+'#ifdef\x20STD'+'_LIGHTMAP_'+'DIR\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20bakeDir;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_L'+'IGHTMAP_BA'+'KING_ADD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20ambie'+'ntBakeOccl'+'usionContr'+'ast;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20ambient'+'BakeOcclus'+'ionBrightn'+'ess;\x0a#endi'+'f\x0a'),bP='\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4(0'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ccS'+'pecularLig'+'ht\x20=\x20vec3('+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'NONE_SLICE'+'_MODE\x20==\x20S'+'LICED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22startN'+'ineSlicedP'+'S\x22\x0a\x20\x20\x20\x20#el'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20TILE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'startNineS'+'licedTiled'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_NEEDS_NOR'+'MAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW\x20=\x20n'+'ormalize(v'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'TANGENTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_HEI'+'GHTS)\x20||\x20d'+'efined(LIT'+'_USE_NORMA'+'LS)\x20||\x20def'+'ined(LIT_U'+'SE_CLEARCO'+'AT_NORMALS'+')\x20||\x20defin'+'ed(LIT_GGX'+'_SPECULAR)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dTa'+'ngentW\x20=\x20v'+'TangentW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dBin'+'ormalW\x20=\x20v'+'BinormalW;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20getVie'+'wDir();\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_TB'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_TWO_S'+'IDED_LIGHT'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'handleTwoS'+'idedLighti'+'ng();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20i'+'nvoke\x20fron'+'tend\x20funct'+'ions\x0a\x20\x20\x20\x20e'+'valuateFro'+'ntend();\x0a\x0a'+('\x20\x20\x20\x20#inclu'+'de\x20\x22debugP'+'rocessFron'+'tendPS\x22\x0a\x0a\x20'+'\x20\x20\x20evaluat'+'eBackend()'+';\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a'),AP='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20vec3\x20mate'+'rial_ambie'+'nt;\x0a\x0a#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTING\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightSp'+'ecularAnis'+'oGGXPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightS'+'pecularBli'+'nnPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'combinePS\x22'+'\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tmapAddPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'ADD_AMBIEN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ambi'+'entPS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIT_MSDF'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22msdfP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'include\x20\x22v'+'iewDirPS\x22\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flDirAniso'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a//\x20li'+'ghting\x20fun'+'ctionality')+('\x0a#include\x20'+'\x22lightingP'+'S\x22\x0a\x0a'),CP='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',PP='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',MP='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec4\x20ve'+'rtex_color'+';\x0a#endif\x0a\x0a'+'#ifdef\x20NIN'+'ESLICED\x0a\x0a\x20'+'\x20\x20\x20varying'+'\x20vec2\x20vMas'+'k;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'vTiledUv;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20v'+'ec2\x20outerS'+'cale;\x0a\x20\x20\x20\x20'+'uniform\x20me'+'diump\x20vec4'+'\x20atlasRect'+';\x0a\x0a#endif\x0a'+'\x0avec3\x20dPos'+'itionW;\x0ama'+'t4\x20dModelM'+'atrix;\x0a\x0a#i'+'nclude\x20\x22tr'+'ansformCor'+'eVS\x22\x0a\x0a#ifd'+'ef\x20UV0\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'c2\x20vertex_'+'texCoord1;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22uv1VS'+'\x22\x0a#endif\x0a\x0a'+'\x0a#ifdef\x20LI'+'NEAR_DEPTH'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20#d'+'efine\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'transformV'+'S\x22\x0a\x0a#ifdef'+'\x20NORMALS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22normalC'+'oreVS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22normalVS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20TANG'+'ENTS\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_tangent;\x0a'+'#endif\x0a\x0a//'+'\x20expand\x20un'+'iforms\x20for'+'\x20uv\x20transf'+'orms\x0a#incl'+'ude\x20\x22uvTra'+'nsformUnif'+'ormsPS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'#ifdef\x20MSD'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22msdf'+'VS\x22\x0a#endif'+'\x0a\x0a#include'+'\x20\x20\x22litUser'+'CodeVS\x22\x0a\x0av'+'oid\x20main(v'+'oid)\x20{\x0a\x0a\x20\x20'+'\x20\x20#include'+('\x20\x22litUserM'+'ainStartVS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'default\x20po'+'int\x20size\x20t'+'o\x201\x20in\x20cas'+'e\x20the\x20shad'+'er\x20is\x20used'+'\x20with\x20poin'+'ts\x0a\x20\x20\x20\x20gl_'+'PointSize\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20getP'+'osition();'+'\x0a\x20\x20\x20\x20vPosi'+'tionW\x20=\x20ge'+'tWorldPosi'+'tion();\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'NORMALS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vNor'+'malW\x20=\x20get'+'Normal();\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20TANGENT'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vTangentW\x20'+'=\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vBi'+'normalW\x20=\x20'+'cross(vNor'+'malW,\x20vTan'+'gentW)\x20*\x20v'+'ertex_tang'+'ent.w;\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(GGX_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3(0,\x201'+',\x200));\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV0\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv0'+'\x20=\x20getUv0('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20UV'+'0_UNMODIFI'+'ED\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv1\x20=\x20ge'+'tUv1();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20UV1_UNM'+'ODIFIED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vUv1\x20=\x20uv1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20expa'+'nd\x20code\x20fo'+'r\x20uv\x20trans'+'forms\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'uvTransfor'+'mVS,\x20UV_TR'+'ANSFORMS_C'+'OUNT\x22\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20VE'+'RTEX_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition')+(',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vPosi'+'tionW,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'SDF\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20unpackMs'+'dfParams()'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tUserMainE'+'ndVS\x22\x0a}\x0a'),DP='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20g'+'etPickOutp'+'ut();\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'REPASS_PAS'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20float'+'2vec4(vLin'+'earDepth);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a',IP='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LP='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20te'+'xtureBias\x20'+'=\x20-1000.0;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20texture'+'Bias;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litShade'+'rArgsPS\x22\x0a',RP='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20vec3\x20v'+'iew_positi'+'on;\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20light_ra'+'dius;\x0a#end'+'if\x0a\x0a#if\x20SH'+'ADOW_TYPE\x20'+'==\x20PCSS_32'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22line'+'arizeDepth'+'PS\x22\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'evaluateFr'+'ontend();\x0a'+'\x0a\x20\x20\x20\x20//\x20us'+'ing\x20non-st'+'andard\x20dep'+'th,\x20i.e\x20gl'+'_FragCoord'+'.z\x0a\x20\x20\x20\x20#if'+'def\x20PERSPE'+'CTIVE_DEPT'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20gl_Fra'+'gCoord.z;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SHADOW_'+'TYPE\x20==\x20PC'+'SS_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot/omn'+'i\x20shadows\x20'+'currently\x20'+'use\x20linear'+'\x20depth.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20TODO:\x20u'+'se\x20perspec'+'tive\x20depth'+'\x20for\x20spot/'+'omni\x20the\x20s'+'ame\x20way\x20as'+'\x20direction'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT_TYPE\x20'+'!=\x20DIRECTI'+'ONAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20depth\x20=\x20l'+'inearizeDe'+'pthWithPar'+'ams(depth,'+'\x20camera_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20min(di'+'stance(vie'+'w_position'+',\x20vPositio'+'nW)\x20/\x20ligh'+'t_radius,\x20'+'0.99999);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20MODI'+'FIED_DEPTH'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20VSM_'+'16F\x20||\x20SHA'+'DOW_TYPE\x20='+'=\x20VSM_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20exponen'+'t\x20=\x2015.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+('t\x20exponent'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20depth\x20=\x20'+'2.0\x20*\x20dept'+'h\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dep'+'th\x20=\x20\x20exp('+'exponent\x20*'+'\x20depth);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(dep'+'th,\x20depth*'+'depth,\x201.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'SHADOW_TYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'tore\x20depth'+'\x20into\x20R32\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.r\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ODIFIED_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20If\x20we\x20e'+'nd\x20up\x20usin'+'g\x20modified'+'\x20depth,\x20it'+'\x20needs\x20to\x20'+'be\x20explici'+'tly\x20writte'+'n\x20to\x20gl_Fr'+'agDepth\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20just\x20the\x20'+'simplest\x20c'+'ode,\x20color'+'\x20is\x20not\x20wr'+'itten\x20anyw'+'ay\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'}\x0a'),OP='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20vec2'+'\x20ccLTCUV;\x0a'+'#endif\x0a\x0ave'+'c2\x20getLTCL'+'ightUV(flo'+'at\x20gloss,\x20'+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x0a{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20max('+'(1.0\x20-\x20glo'+'ss)\x20*\x20(1.0'+'\x20-\x20gloss),'+'\x200.001);\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Uv(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'roughness\x20'+');\x0a}\x0a\x0a//\x20u'+'sed\x20for\x20en'+'ergy\x20conse'+'rvation\x20an'+'d\x20to\x20modul'+'ate\x20specul'+'ar\x0avec3\x20dL'+'TCSpecFres'+';\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20vec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0a\x0avec3\x20'+'getLTCLigh')+('tSpecFres('+'vec2\x20uv,\x20v'+'ec3\x20specul'+'arity)\x0a{\x0a\x20'+'\x20\x20\x20vec4\x20t2'+'\x20=\x20texture'+'2DLod(area'+'LightsLutT'+'ex2,\x20uv,\x200'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20spec'+'ularity\x20*\x20'+'t2.x\x20+\x20(\x20v'+'ec3(\x201.0\x20)'+'\x20-\x20specula'+'rity)\x20*\x20t2'+'.y;\x0a}\x0a\x0avoi'+'d\x20calcLTCL'+'ightValues'+'(float\x20glo'+'ss,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20speculari'+'ty,\x20float\x20'+'clearcoatG'+'loss,\x20vec3'+'\x20clearcoat'+'WorldNorma'+'l,\x20float\x20c'+'learcoatSp'+'ecularity)'+'\x0a{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x20\x0a\x0a#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20cc'+'LTCUV\x20=\x20ge'+'tLTCLightU'+'V(clearcoa'+'tGloss,\x20cl'+'earcoatWor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20ccLTCS'+'pecFres\x20=\x20'+'getLTCLigh'+'tSpecFres('+'ccLTCUV,\x20v'+'ec3(clearc'+'oatSpecula'+'rity));\x0a#e'+'ndif\x0a}\x0a\x0avo'+'id\x20calcRec'+'tLightValu'+'es(vec3\x20li'+'ghtPos,\x20ve'+'c3\x20halfWid'+'th,\x20vec3\x20h'+'alfHeight)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0avoid\x20c'+'alcDiskLig'+'htValues(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight)\x20{\x0a\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0av'+'oid\x20calcSp'+'hereLightV'+'alues(vec3'+'\x20lightPos,'+'\x20vec3\x20half'+'Width,\x20vec'+'3\x20halfHeig'+'ht)\x20{\x0a\x20\x20\x20\x20')+('dLTCCoords'+'\x20=\x20getSphe'+'reLightCoo'+'rds(lightP'+'os,\x20halfWi'+'dth,\x20halfH'+'eight);\x0a}\x0a'+'\x0a//\x20An\x20ext'+'ended\x20vers'+'ion\x20of\x20the'+'\x20implement'+'ation\x20from'+'\x20\x22How\x20to\x20s'+'olve\x20a\x20cub'+'ic\x20equatio'+'n,\x20revisit'+'ed\x22\x0a//\x20htt'+'p://moment'+'singraphic'+'s.de/?p=10'+'5\x0avec3\x20Sol'+'veCubic(ve'+'c4\x20Coeffic'+'ient)\x0a{\x0a\x20\x20'+'\x20\x20float\x20pi'+'\x20=\x203.14159'+';\x0a\x20\x20\x20\x20//\x20N'+'ormalize\x20t'+'he\x20polynom'+'ial\x0a\x20\x20\x20\x20Co'+'efficient.'+'xyz\x20/=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20//\x20D'+'ivide\x20midd'+'le\x20coeffic'+'ients\x20by\x20t'+'hree\x0a\x20\x20\x20\x20C'+'oefficient'+'.yz\x20/=\x203.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20A\x20=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20floa'+'t\x20B\x20=\x20Coef'+'ficient.z;'+'\x0a\x20\x20\x20\x20float'+'\x20C\x20=\x20Coeff'+'icient.y;\x0a'+'\x20\x20\x20\x20float\x20'+'D\x20=\x20Coeffi'+'cient.x;\x0a\x0a'+'\x20\x20\x20\x20//\x20Com'+'pute\x20the\x20H'+'essian\x20and'+'\x20the\x20discr'+'iminant\x0a\x20\x20'+'\x20\x20vec3\x20Del'+'ta\x20=\x20vec3('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20-'+'Coefficien'+'t.z\x20*\x20Coef'+'ficient.z\x20'+'+\x20Coeffici'+'ent.y,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20-Coef'+'ficient.y\x20'+'*\x20Coeffici'+'ent.z\x20+\x20Co'+'efficient.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dot(vec2('+'Coefficien'+'t.z,\x20-Coef'+'ficient.y)'+',\x20Coeffici'+'ent.xy)\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'float\x20Disc'+'riminant\x20='+'\x20dot(vec2('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xlc'+',\x20xsc;\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20A\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20C_a\x20=\x20De'+'lta.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20D_a\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(sqr'+'t(Discrimi'+'nant),\x20-D_'+'a)\x20/\x203.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_1a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20x_3'+'a\x20=\x202.0\x20*\x20'+'sqrt(-C_a)'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20((x_1a'+'\x20+\x20x_3a)\x20>'+'\x202.0\x20*\x20B)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xl\x20=\x20x_1'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'\x20=\x20x_3a;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'c\x20=\x20vec2(x'+'l\x20-\x20B,\x20A);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20D\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_d'+'\x20=\x20D;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_d\x20=\x20Delt'+'a.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_d\x20=\x20-D\x20*\x20'+'Delta.y\x20+\x20'+'2.0\x20*\x20C\x20*\x20'+'Delta.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20Take\x20the\x20'+'cubic\x20root'+'\x20of\x20a\x20norm'+'alized\x20com'+'plex\x20numbe'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20Thet'+'a\x20=\x20atan(D'+'\x20*\x20sqrt(Di'+'scriminant'+'),\x20-D_d)\x20/'+'\x203.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_1d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_3d\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_d)\x20*\x20c'+'os(Theta\x20+'+'\x20(2.0\x20/\x203.'+'0)\x20*\x20pi);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20xs;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(x_1d\x20+\x20x_'+'3d\x20<\x202.0\x20*'+'\x20C)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xs\x20='+'\x20x_1d;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xs\x20=\x20x_3'+'d;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20xsc\x20=\x20ve'+'c2(-D,\x20xs\x20'+'+\x20C);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20flo'+'at\x20E\x20=\x20\x20xl'+'c.y\x20*\x20xsc.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20F\x20=\x20-xl'+'c.x\x20*\x20xsc.'+'y\x20-\x20xlc.y\x20')+('*\x20xsc.x;\x0a\x20'+'\x20\x20\x20float\x20G'+'\x20=\x20\x20xlc.x\x20'+'*\x20xsc.x;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20x'+'mc\x20=\x20vec2('+'C\x20*\x20F\x20-\x20B\x20'+'*\x20G,\x20-B\x20*\x20'+'F\x20+\x20C\x20*\x20E)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20Root\x20=\x20v'+'ec3(xsc.x\x20'+'/\x20xsc.y,\x20x'+'mc.x\x20/\x20xmc'+'.y,\x20xlc.x\x20'+'/\x20xlc.y);\x0a'+'\x0a\x20\x20\x20\x20if\x20(R'+'oot.x\x20<\x20Ro'+'ot.y\x20&&\x20Ro'+'ot.x\x20<\x20Roo'+'t.z)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root.xy'+'z\x20=\x20Root.y'+'xz;\x0a\x20\x20\x20\x20el'+'se\x20if\x20(Roo'+'t.z\x20<\x20Root'+'.x\x20&&\x20Root'+'.z\x20<\x20Root.'+'y)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.xzy'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20Root;\x0a'+'}\x0a\x0afloat\x20L'+'TC_Evaluat'+'eDisk(vec3'+'\x20N,\x20vec3\x20V'+',\x20vec3\x20P,\x20'+'mat3\x20Minv,'+'\x20Coords\x20po'+'ints)\x0a{\x0a\x20\x20'+'\x20\x20//\x20const'+'ruct\x20ortho'+'normal\x20bas'+'is\x20around\x20'+'N\x0a\x20\x20\x20\x20vec3'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'vec3\x20T2\x20=\x20'+'cross(N,\x20T'+'1);\x0a\x0a\x20\x20\x20\x20/'+'/\x20rotate\x20a'+'rea\x20light\x20'+'in\x20(T1,\x20T2'+',\x20N)\x20basis'+'\x0a\x20\x20\x20\x20//mat'+'3\x20R\x20=\x20tran'+'spose(mat3'+'(T1,\x20T2,\x20N'+'));\x0a\x20\x20\x20\x20ma'+'t3\x20R\x20=\x20tra'+'nsposeMat3'+'(\x20mat3(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'polygon\x20(a'+'llocate\x205\x20'+'vertices\x20f'+'or\x20clippin'+'g)\x0a\x20\x20\x20\x20vec'+'3\x20L_[\x203\x20];'+'\x0a\x20\x20\x20\x20L_[\x200'+'\x20]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[\x20'+'1\x20]\x20=\x20R\x20*\x20'+'(\x20points.c'+'oord1\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20L_['+'\x202\x20]\x20=\x20R\x20*'+'\x20(\x20points.'+'coord2\x20-\x20P'+'\x20);\x0a\x0a\x20\x20\x20\x20/'+'/\x20init\x20ell'+'ipse\x0a\x20\x20\x20\x20v'+'ec3\x20C\x20\x20=\x200'+'.5\x20*\x20(L_[0'+']\x20+\x20L_[2])'+';\x0a\x20\x20\x20\x20vec3'+'\x20V1\x20=\x200.5\x20'+'*\x20(L_[1]\x20-'+'\x20L_[2]);\x0a\x20'+'\x20\x20\x20vec3\x20V2'+'\x20=\x200.5\x20*\x20('+'L_[1]\x20-\x20L_'+'[0]);\x0a\x0a\x20\x20\x20'+'\x20C\x20\x20=\x20Minv')+('\x20*\x20C;\x0a\x20\x20\x20\x20'+'V1\x20=\x20Minv\x20'+'*\x20V1;\x0a\x20\x20\x20\x20'+'V2\x20=\x20Minv\x20'+'*\x20V2;\x0a\x0a\x20\x20\x20'+'\x20//if(dot('+'cross(V1,\x20'+'V2),\x20C)\x20>\x20'+'0.0)\x0a\x20\x20\x20\x20/'+'/\x20\x20\x20\x20retur'+'n\x200.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20compu'+'te\x20eigenve'+'ctors\x20of\x20e'+'llipse\x0a\x20\x20\x20'+'\x20float\x20a,\x20'+'b;\x0a\x20\x20\x20\x20flo'+'at\x20d11\x20=\x20d'+'ot(V1,\x20V1)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d22\x20=\x20do'+'t(V2,\x20V2);'+'\x0a\x20\x20\x20\x20float'+'\x20d12\x20=\x20dot'+'(V1,\x20V2);\x0a'+'\x20\x20\x20\x20if\x20(ab'+'s(d12)\x20/\x20s'+'qrt(d11\x20*\x20'+'d22)\x20>\x200.0'+'001)\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20tr\x20=\x20'+'d11\x20+\x20d22;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20det\x20='+'\x20-d12\x20*\x20d1'+'2\x20+\x20d11\x20*\x20'+'d22;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20use'+'\x20sqrt\x20matr'+'ix\x20to\x20solv'+'e\x20for\x20eige'+'nvalues\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20det\x20'+'=\x20sqrt(det'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20u\x20='+'\x200.5\x20*\x20sqr'+'t(tr\x20-\x202.0'+'\x20*\x20det);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20v\x20=\x200.5'+'\x20*\x20sqrt(tr'+'\x20+\x202.0\x20*\x20d'+'et);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20e'+'_max\x20=\x20(u\x20'+'+\x20v)\x20*\x20(u\x20'+'+\x20v);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_min\x20=\x20(u'+'\x20-\x20v)\x20*\x20(u'+'\x20-\x20v);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20V1_,\x20V2_;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(d11\x20>\x20'+'d22)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20V2_\x20'+'=\x20d12\x20*\x20V1'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12*V2'+'\x20+\x20(e_max\x20'+'-\x20d22)*V1;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20V2_\x20=\x20d'+'12*V2\x20+\x20(e'+'_min\x20-\x20d22'+')*V1;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20e_max'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'b\x20=\x201.0\x20/\x20'+'e_min;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V1\x20=\x20'+'normalize('+'V1_);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20V2\x20=\x20n'+'ormalize(V'+'2_);\x0a\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20dot(V1'+',\x20V1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20b\x20=\x201'+'.0\x20/\x20dot(V'+'2,\x20V2);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20*'+'=\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20*=\x20sqrt('+'b);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'V3\x20=\x20norma'+'lize(cross'+'(V1,\x20V2));'+'\x0a\x20\x20\x20\x20if\x20(d'+'ot(C,\x20V3)\x20'+'<\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V3\x20*='+'\x20-1.0;\x0a\x0a\x20\x20'+'\x20\x20float\x20L\x20'+'\x20=\x20dot(V3,'+'\x20C);\x0a\x20\x20\x20\x20f'+'loat\x20x0\x20=\x20'+'dot(V1,\x20C)'+'\x20/\x20L;\x0a\x20\x20\x20\x20'+'float\x20y0\x20='+'\x20dot(V2,\x20C'+')\x20/\x20L;\x0a\x0a\x20\x20'+'\x20\x20float\x20E1'+'\x20=\x20inverse'+'sqrt(a);\x0a\x20'+'\x20\x20\x20float\x20E'+'2\x20=\x20invers'+'esqrt(b);\x0a'+'\x0a\x20\x20\x20\x20a\x20*=\x20'+'L\x20*\x20L;\x0a\x20\x20\x20'+'\x20b\x20*=\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20c0\x20=\x20a'+'\x20*\x20b;\x0a\x20\x20\x20\x20'+'float\x20c1\x20='+'\x20a\x20*\x20b\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0\x20+\x20y0\x20*'+'\x20y0)\x20-\x20a\x20-'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20c2\x20=\x201'+'.0\x20-\x20a\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0)\x20-\x20b\x20*'+'\x20(1.0\x20+\x20y0'+'\x20*\x20y0);\x0a\x20\x20'+'\x20\x20float\x20c3'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ro'+'ots\x20=\x20Solv'+'eCubic(vec'+'4(c0,\x20c1,\x20'+'c2,\x20c3));\x0a'+'\x20\x20\x20\x20float\x20'+'e1\x20=\x20roots'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20e2\x20=\x20r'+'oots.y;\x0a\x20\x20'+'\x20\x20float\x20e3'+'\x20=\x20roots.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20avgDir\x20='+'\x20vec3(a\x20*\x20'+'x0\x20/\x20(a\x20-\x20'+'e2),\x20b\x20*\x20y'+'0\x20/\x20(b\x20-\x20e'+'2),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'rotate\x20=\x20m'+'at3(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20L1\x20=\x20sqrt'+'(-e2\x20/\x20e3)'+';\x0a\x20\x20\x20\x20floa'+'t\x20L2\x20=\x20sqr'+'t(-e2\x20/\x20e1'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20formFa'+'ctor\x20=\x20max'+'(0.0,\x20L1\x20*'+'\x20L2\x20*\x20inve')+('rsesqrt((1'+'.0\x20+\x20L1\x20*\x20'+'L1)\x20*\x20(1.0'+'\x20+\x20L2\x20*\x20L2'+')));\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20const\x20'+'float\x20LUT_'+'SIZE\x20=\x2064.'+'0;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_SCALE\x20='+'\x20(\x20LUT_SIZ'+'E\x20-\x201.0\x20)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20float\x20LU'+'T_BIAS\x20=\x200'+'.5\x20/\x20LUT_S'+'IZE;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20tab'+'ulated\x20hor'+'izon-clipp'+'ed\x20sphere\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vec2(a'+'vgDir.z\x20*\x20'+'0.5\x20+\x200.5,'+'\x20formFacto'+'r);\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv*LUT_'+'SCALE\x20+\x20LU'+'T_BIAS;\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'cale\x20=\x20tex'+'ture2DLod('+'areaLights'+'LutTex2,\x20u'+'v,\x200.0).w;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20formFac'+'tor*scale;'+'\x0a}\x0a\x0a//\x20LTC'+'_EvaluateD'+'isk\x20in\x20som'+'e\x20rare\x20cas'+'es\x20generea'+'tes\x20NaN\x20va'+'lues\x20in\x20a\x20'+'or\x20b,\x20just'+'\x20before\x20\x27f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x27\x0a//'+'\x20Get\x20rid\x20o'+'f\x20those\x20Na'+'n\x20values\x20b'+'efore\x20they'+'\x20propagate'+'\x20further,\x20'+'as\x20in\x20case'+'\x20of\x20bloom\x20'+'/\x20DOF\x20blur'+'s\x20they\x0a//\x20'+'propagate\x20'+'to\x20large\x20a'+'reas.\x20I\x20di'+'dn\x27t\x20find\x20'+'the\x20actual'+'\x20reason\x20wh'+'ere\x20those\x20'+'come\x20from,'+'\x20so\x20that\x20i'+'s\x20still\x20TO'+'DO.\x0a//\x20Not'+'e\x20that\x20onl'+'y\x20disk/sph'+'ere\x20lights'+'\x20are\x20causi'+'ng\x20it,\x20so\x20'+'only\x20handl'+'e\x20those.\x0af'+'loat\x20FixNa'+'n(float\x20va'+'lue)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'value\x20!=\x20v'+'alue\x20?\x200.0'+'\x20:\x20value;\x20'+'\x20//\x20isnan\x20'+'does\x20not\x20t'+'ranspile\x20c'+'orrectly,\x20'+'use\x20a\x20work'+'around\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20isnan(va'+'lue)\x20?\x200.0'+'\x20:\x20value;\x0a')+('\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afloat\x20'+'getRectLig'+'htDiffuse('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm)\x20{\x0a\x20\x20'+'\x20\x20return\x20L'+'TC_Evaluat'+'eRect(\x20wor'+'ldNormal,\x20'+'viewDir,\x20v'+'PositionW,'+'\x20mat3(\x201.0'+'\x20),\x20dLTCCo'+'ords\x20);\x0a}\x0a'+'\x0afloat\x20get'+'DiskLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20FixN'+'an(LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mat3('+'\x201.0\x20),\x20dL'+'TCCoords\x20)'+');\x0a}\x0a\x0afloa'+'t\x20getSpher'+'eLightDiff'+'use(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm)\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20float\x20fa'+'lloff\x20=\x20dS'+'phereRadiu'+'s\x20/\x20(dot(l'+'ightDir,\x20l'+'ightDir)\x20+'+'\x20dSphereRa'+'dius);\x0a\x20\x20\x20'+'\x20return\x20Fi'+'xNan(getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNorm)\x20*\x20f'+'alloff);\x0a}'+'\x0a\x0amat3\x20get'+'LTCLightIn'+'vMat(vec2\x20'+'uv)\x0a{\x0a\x20\x20\x20\x20'+'vec4\x20t1\x20=\x20'+'texture2DL'+'od(areaLig'+'htsLutTex1'+',\x20uv,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3(\x20t1.x,\x20'+'0,\x20t1.y\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3(\x20\x20\x20\x200,'+'\x201,\x20\x20\x20\x200\x20)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3(\x20t1.z'+',\x200,\x20t1.w\x20'+')\x0a\x20\x20\x20\x20);\x0a}'+'\x0a\x0afloat\x20ca'+'lcRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir')+(',\x20vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20mat'+'3\x20mInv\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afl'+'oat\x20getRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'calcRectLi'+'ghtSpecula'+'r(worldNor'+'mal,\x20viewD'+'ir,\x20dLTCUV'+');\x0a}\x0a\x0afloa'+'t\x20calcDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20mInv'+'\x20=\x20getLTCL'+'ightInvMat'+'(uv);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'Inv,\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a\x0a'+'float\x20getS'+'phereLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a'),FP='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_metaln'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tMetalness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20metal'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20materi'+'al_metalne'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_METAL'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_METAL'+'NESS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_META'+'LNESS_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_VERTEX\x0a\x20\x20'+'\x20\x20metalnes'+'s\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_METALNES'+'S_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dMet'+'alness\x20=\x20m'+'etalness;\x0a'+'}\x0a',NP='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifndef'+'\x20LIT_MSDF_'+'TEXT_ATTRI'+'BUTE\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20shadow_co'+'lor;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20shadow_o'+'ffset;\x0a#el'+'se\x0a\x20\x20\x20\x20var'+'ying\x20vec4\x20'+'outline_co'+'lor;\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20outline'+'_thickness'+';\x0a\x20\x20\x20\x20vary'+'ing\x20vec4\x20s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'shadow_off'+'set;\x0a#endi'+'f\x0a\x0avec4\x20ap'+'plyMsdf(ve'+'c4\x20color)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Convert\x20to'+'\x20linear\x20sp'+'ace\x20before'+'\x20processin'+'g\x0a\x20\x20\x20\x20//\x20T'+'ODO:\x20ideal'+'ly\x20this\x20wo'+'uld\x20receiv'+'e\x20the\x20colo'+'r\x20in\x20linea'+'r\x20space,\x20b'+'ut\x20that\x20wo'+'uld\x20requir'+'e\x20larger\x20c'+'hanges\x0a\x20\x20\x20'+('\x20//\x20on\x20the'+'\x20engine\x20si'+'de,\x20with\x20t'+'he\x20way\x20pre'+'multiplied'+'\x20alpha\x20is\x20'+'handled\x20as'+'\x20well.\x0a\x20\x20\x20'+'\x20color.rgb'+'\x20=\x20gammaCo'+'rrectInput'+'(color.rgb'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20sample\x20th'+'e\x20field\x0a\x20\x20'+'\x20\x20vec3\x20tsa'+'mple\x20=\x20tex'+'ture2D(tex'+'ture_msdfM'+'ap,\x20vUv0).'+'rgb;\x0a\x20\x20\x20\x20v'+'ec2\x20uvShdw'+'\x20=\x20vUv0\x20-\x20'+'shadow_off'+'set;\x0a\x20\x20\x20\x20v'+'ec3\x20ssampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20uvShdw).r'+'gb;\x0a\x0a\x20\x20\x20\x20/'+'/\x20get\x20the\x20'+'signed\x20dis'+'tance\x20valu'+'e\x0a\x20\x20\x20\x20floa'+'t\x20sigDist\x20'+'=\x20median(t'+'sample.r,\x20'+'tsample.g,'+'\x20tsample.b'+');\x0a\x20\x20\x20\x20flo'+'at\x20sigDist'+'Shdw\x20=\x20med'+'ian(ssampl'+'e.r,\x20ssamp'+'le.g,\x20ssam'+'ple.b);\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20limi'+'t\x20-\x20smalle'+'r\x20value\x20ma'+'kes\x20for\x20sh'+'arper\x20but\x20'+'more\x20alias'+'ed\x20text,\x20e'+'specially\x20'+'on\x20angles\x0a'+'\x20\x20\x20\x20//\x20too'+'\x20large\x20val'+'ue\x20(0.5)\x20c'+'reates\x20a\x20d'+'ark\x20glow\x20a'+'round\x20the\x20'+'letters\x0a\x20\x20'+'\x20\x20float\x20sm'+'oothingMax'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20vec'+'2\x20w\x20=\x20fwid'+'th(vUv0);\x0a'+'\x20\x20\x20\x20float\x20'+'smoothing\x20'+'=\x20clamp(w.'+'x\x20*\x20font_t'+'extureWidt'+'h\x20/\x20font_p'+'xrange,\x200.'+'0,\x20smoothi'+'ngMax);\x0a\x0a\x20'+'\x20\x20\x20float\x20m'+'apMin\x20=\x200.'+'05;\x0a\x20\x20\x20\x20fl'+'oat\x20mapMax'+'\x20=\x20clamp(1'+'.0\x20-\x20font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20float\x20')+('sigDistInn'+'er\x20=\x20map(m'+'apMin,\x20map'+'Max,\x20sigDi'+'st);\x0a\x20\x20\x20\x20f'+'loat\x20sigDi'+'stOutline\x20'+'=\x20map(mapM'+'in,\x20mapMax'+',\x20sigDist\x20'+'+\x20outline_'+'thickness)'+';\x0a\x20\x20\x20\x20sigD'+'istShdw\x20=\x20'+'map(mapMin'+',\x20mapMax,\x20'+'sigDistShd'+'w\x20+\x20outlin'+'e_thicknes'+'s);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20cente'+'r\x20=\x200.5;\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20smoo'+'thing\x20and\x20'+'use\x20to\x20gen'+'erate\x20opac'+'ity\x0a\x20\x20\x20\x20fl'+'oat\x20inside'+'\x20=\x20smooths'+'tep(center'+'-smoothing'+',\x20center+s'+'moothing,\x20'+'sigDistInn'+'er);\x0a\x20\x20\x20\x20f'+'loat\x20outli'+'ne\x20=\x20smoot'+'hstep(cent'+'er-smoothi'+'ng,\x20center'+'+smoothing'+',\x20sigDistO'+'utline);\x0a\x20'+'\x20\x20\x20float\x20s'+'hadow\x20=\x20sm'+'oothstep(c'+'enter-smoo'+'thing,\x20cen'+'ter+smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20vec4\x20t'+'color\x20=\x20(o'+'utline\x20>\x20i'+'nside)\x20?\x20o'+'utline\x20*\x20v'+'ec4(outlin'+'e_color.a\x20'+'*\x20outline_'+'color.rgb,'+'\x20outline_c'+'olor.a)\x20:\x20'+'vec4(0.0);'+'\x0a\x20\x20\x20\x20tcolo'+'r\x20=\x20mix(tc'+'olor,\x20colo'+'r,\x20inside)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20scolor\x20='+'\x20(shadow\x20>'+'\x20outline)\x20'+'?\x20shadow\x20*'+'\x20vec4(shad'+'ow_color.a'+'\x20*\x20shadow_'+'color.rgb,'+'\x20shadow_co'+'lor.a)\x20:\x20t'+'color;\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(scolor'+',\x20tcolor,\x20'+'outline);\x0a'+'\x0a\x20\x20\x20\x20//\x20Co'+'nvert\x20back'+'\x20to\x20gamma\x20'+'space\x20befo'+'re\x20returni'+'ng\x0a\x20\x20\x20\x20tco'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctOutput(t'+'color.rgb)'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20return\x20tc'+'olor;\x0a}\x0a'),kP='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',UP='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20vec2\x20u'+'v0;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2DArra'+'y\x20morphTex'+'ture;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r[{MORPH_T'+'EXTURE_MAX'+'_COUNT}];\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20ui'+'nt\x20morphIn'+'dex[{MORPH'+'_TEXTURE_M'+'AX_COUNT}]'+';\x0a\x20\x20\x20\x20unif'+'orm\x20int\x20co'+'unt;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PH_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20aa'+'bbSize;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20highp\x20vec'+'3\x20color\x20=\x20'+'vec3(0,\x200,'+'\x200);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'pixelCoord'+'s\x20=\x20ivec2('+'uv0\x20*\x20vec2'+'(textureSi'+'ze(morphTe'+'xture,\x200).'+'xy));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20count;\x20'+'i++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20textur'+'eIndex\x20=\x20m'+'orphIndex['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20delta\x20=\x20t'+'exelFetch('+'morphTextu'+'re,\x20ivec3('+'pixelCoord'+'s,\x20int(tex'+'tureIndex)'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20+'+'=\x20morphFac'+'tor[i]\x20*\x20d'+'elta;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20MORPH_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20color\x20'+'=\x20(color\x20-'+'\x20aabbMin)\x20'+'/\x20aabbSize'+'\x20*\x2065535.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20u'+'vec4(color'+',\x201u);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(color,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a',BP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a',zP='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',VP='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',GP='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0a\x0a#ifdef\x20M'+'ORPHING_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20morphNor'+'malTex;\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'morphNorma'+'lTex;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0avec3\x20'+'getLocalNo'+'rmal(vec3\x20'+'vertexNorm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lNormal\x20=\x20'+'vertex_nor'+'mal;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_NORM'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphNormal'+'\x20=\x20vec3(te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz)\x20/'+'\x2065535.0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphNo'+'rmal\x20=\x20tex'+'elFetch(mo'+'rphNormalT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20localNor'+'mal\x20+=\x20mor'+'phNormal;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20localN'+'ormal;\x0a}\x0a\x0a'+'#if\x20define'+'d(SKIN)\x20||'+'\x20defined(B'+'ATCH)\x0a\x20\x20\x20\x20'+'mat3\x20getNo'+'rmalMatrix'+'(mat4\x20mode'+'lMatrix)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mat3'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20ma'+'t3\x20getNorm'+'alMatrix(m'+'at4\x20modelM'+'atrix)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20mat3(m'+'odelMatrix'+'[0].xyz,\x20m'+('odelMatrix'+'[1].xyz,\x20m'+'odelMatrix'+'[2].xyz);\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20mat3'+'\x20getNormal'+'Matrix(mat'+'4\x20modelMat'+'rix)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_n'+'ormal;\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'),HP='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_bumpin'+'ess;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_NORMAL'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20bl'+'endNormals'+'(vec3\x20n1,\x20'+'vec3\x20n2)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20https://'+'blog.selfs'+'hadow.com/'+'publicatio'+'ns/blendin'+'g-in-detai'+'l/#detail-'+'oriented\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20n1\x20'+'+=\x20vec3(0,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20n2\x20*'+'=\x20vec3(-1,'+'\x20-1,\x201);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20getNorm'+'al()\x20{\x0a#if'+'def\x20STD_NO'+'RMAL_TEXTU'+'RE\x0a\x20\x20\x20\x20vec'+'3\x20normalMa'+'p\x20=\x20{STD_N'+'ORMAL_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_NORMAL_TE'+'XTURE_NAME'+'},\x20{STD_NO'+'RMAL_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+');\x0a\x20\x20\x20\x20nor'+'malMap\x20=\x20m'+'ix(vec3(0.'+'0,\x200.0,\x201.'+'0),\x20normal'+'Map,\x20mater'+'ial_bumpin'+'ess);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMALDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20norm'+'alDetailMa'+'p\x20=\x20{STD_N'+'ORMALDETAI'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_NOR'+'MALDETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'NORMALDETA'+'IL_TEXTURE'+'_UV},\x20text'+'ureBias));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20blend'+'Normals(no'+'rmalMap,\x20n'+('ormalDetai'+'lMap);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20normalMap'+');\x0a#else\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20dVerte'+'xNormalW;\x0a'+'#endif\x0a}\x0a'),WP='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_OPACITY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20dAlpha\x20*='+'\x20texture2D'+'Bias({STD_'+'OPACITY_TE'+'XTURE_NAME'+'},\x20{STD_OP'+'ACITY_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20*=\x20c'+'lamp(vVert'+'exColor.{S'+'TD_OPACITY'+'_VERTEX_CH'+'ANNEL},\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',$P='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20vec4\x20b'+'lueNoiseJi'+'tter;\x0a\x0a#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BLUENOI'+'SE\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blueN'+'oiseTex32;'+'\x0a#endif\x0a\x0av'+'oid\x20opacit'+'yDither(fl'+'oat\x20alpha,'+'\x20float\x20id)'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BAYER8\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20bayer8('+'floor(mod('+'gl_FragCoo'+'rd.xy\x20+\x20bl'+'ueNoiseJit'+'ter.xy\x20+\x20i'+'d,\x208.0)))\x20'+'/\x2064.0;\x0a\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20==\x20'+'IGNNOISE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20based\x20'+'on\x20https:/'+'/www.iryok'+'u.com/next'+'-generatio'+'n-post-pro'+'cessing-in'+'-call-of-d'+'uty-advanc'+'ed-warfare'+'/\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'agic\x20=\x20vec'+'3(0.067110'+'56,\x200.0058'+'3715,\x2052.9'+'829189);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20fract'+'(magic.z\x20*'+'\x20fract(dot'+'(gl_FragCo'+'ord.xy\x20+\x20b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id,\x20magic.'+'xy)));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20convert\x20'+'the\x20noise\x20'+'to\x20linear\x20'+'space,\x20as\x20'+'that\x20is\x20sp'+'ecified\x20in'+('\x20sRGB\x20spac'+'e\x20(stores\x20'+'perceptual'+'\x20values)\x0a\x20'+'\x20\x20\x20noise\x20='+'\x20pow(noise'+',\x202.2);\x0a\x0a\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x20noise'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a}'+'\x0a'),XP='\x0a',qP='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20litArgs_'+'opacity;\x0a\x0a'+'#elif\x20LIT_'+'BLEND_TYPE'+'\x20==\x20PREMUL'+'TIPLIED\x0a\x0a\x20'+'\x20\x20\x20gl_Frag'+'Color.rgb\x20'+'*=\x20litArgs'+'_opacity;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.a\x20='+'\x20litArgs_o'+'pacity;\x0a\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x201.0'+';\x0a\x0a#endif\x0a',jP='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',YP='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEEN_'+'TEXTURE\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20{STD'+'_SHEEN_TEX'+'TURE_DECOD'+'E}(texture'+'2DBias({ST'+'D_SHEEN_TE'+'XTURE_NAME'+'},\x20{STD_SH'+'EEN_TEXTUR'+'E_UV},\x20tex'+'tureBias))'+'.{STD_SHEE'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_VERTEX\x0a'+'\x20\x20\x20\x20sheenC'+'olor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sSpec'+'ularity\x20=\x20'+'sheenColor'+';\x0a}\x0a',KP='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20*'+'=\x20texture2'+'DBias({STD'+'_SHEENGLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_SHEENGLO'+'SS_TEXTURE'+'_UV},\x20text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20*='+'\x20saturate('+'vVertexCol'+'or.{STD_SH'+'EENGLOSS_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_INVER'+'T\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x201.0\x20-\x20'+'sheenGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20sGlossi'+'ness\x20=\x20she'+'enGlossine'+'ss\x20+\x200.000'+'0001;\x0a}\x0a',ZP='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_H'+'EIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20he'+'ight\x20=\x20hei'+'ght\x20*\x20para'+'llaxScale\x20'+'-\x20parallax'+'Scale\x20*\x200.'+'5;\x0a\x20\x20\x20\x20vec'+'3\x20viewDirT'+'\x20=\x20dViewDi'+'rW\x20*\x20dTBN;'+'\x0a\x0a\x20\x20\x20\x20view'+'DirT.z\x20+=\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',QP='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20co'+'nst\x20uvec4\x20'+'shifts\x20=\x20u'+'vec4(16,\x208'+',\x200,\x2024);\x0a'+'\x20\x20\x20\x20uvec4\x20'+'col\x20=\x20(uve'+'c4(meshIns'+'tanceId)\x20>'+'>\x20shifts)\x20'+'&\x20uvec4(0x'+'ff);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'(col)\x20*\x20in'+'v;\x0a}\x0a',JP='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',e2='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x0a\x20\x20\x20\x20'+'vec2\x20direc'+'tion\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicT\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3(directi'+'on,\x200.0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cB\x20=\x20norma'+'lize(cross'+'(tbn[2],\x20a'+'nisotropic'+'T));\x0a\x0a\x20\x20\x20\x20'+'float\x20anis'+'otropy\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20vec3'+'\x20anisotrop'+'icDirectio'+'n\x20=\x20anisot'+'ropicB;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicTa'+'ngent\x20=\x20cr'+'oss(anisot'+'ropicDirec'+'tion,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicNorm'+'al\x20=\x20cross'+'(anisotrop'+'icTangent,'+'\x20anisotrop'+'icDirectio'+'n);\x0a\x20\x20\x20\x20fl'+'oat\x20bendFa'+'ctor\x20=\x201.0'+'\x20-\x20anisotr'+'opy\x20*\x20(1.0'+'\x20-\x20roughne'+'ss);\x0a\x20\x20\x20\x20f'+'loat\x20bendF'+'actor4\x20=\x20b'+'endFactor\x20'+'*\x20bendFact'+'or\x20*\x20bendF'+'actor\x20*\x20be'+'ndFactor;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'entNormal\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}\x0a',t2='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',s2='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20{re'+'flectionDe'+'code}(text'+'ureCube(te'+'xture_cube'+'Map,\x20looku'+'pVec));\x0a}\x0a'+'\x0avoid\x20addR'+'eflection('+'vec3\x20reflD'+'ir,\x20float\x20'+'gloss)\x20{\x20\x20'+'\x20\x0a\x20\x20\x20\x20dRef'+'lection\x20+='+'\x20vec4(calc'+'Reflection'+'(reflDir,\x20'+'gloss),\x20ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',i2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_envAtlas;'+'\x0a#endif\x0aun'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'flectivity'+';\x0a\x0avec3\x20ca'+'lcReflecti'+'on(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20cub'+'eMapProjec'+'t(reflDir)'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'Uv(dir);\x0a\x0a'+'\x20\x20\x20\x20//\x20cal'+'culate\x20rou'+'ghness\x20lev'+'el\x0a\x20\x20\x20\x20flo'+'at\x20level\x20='+'\x20saturate('+'1.0\x20-\x20glos'+'s)\x20*\x205.0;\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel\x20=\x20f'+'loor(level'+');\x0a\x20\x20\x20\x20flo'+'at\x20flevel\x20'+'=\x20level\x20-\x20'+'ilevel;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'arp\x20=\x20{ref'+'lectionCub'+'emapDecode'+'}(textureC'+'ube(textur'+'e_cubeMap,'+'\x20dir));\x0a\x20\x20'+'\x20\x20vec3\x20rou'+'ghA\x20=\x20{ref'+'lectionDec'+'ode}(textu'+'re2D(textu'+'re_envAtla'+'s,\x20mapRoug'+'hnessUv(uv'+',\x20ilevel))'+');\x0a\x20\x20\x20\x20vec'+'3\x20roughB\x20='+'\x20{reflecti'+'onDecode}('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',r2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_env'+'Atlas;\x0a#en'+'dif\x0aunifor'+'m\x20float\x20ma'+'terial_ref'+'lectivity;'+'\x0a\x0a//\x20calcu'+'late\x20mip\x20l'+'evel\x20for\x20s'+'hiny\x20refle'+'ction\x20give'+'n\x20equirect'+'\x20coords\x20uv'+'.\x0afloat\x20sh'+'inyMipLeve'+'l(vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20dx\x20=\x20dFd'+'x(uv);\x0a\x20\x20\x20'+'\x20vec2\x20dy\x20='+'\x20dFdy(uv);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20s'+'econd\x20dF\x20a'+'t\x20180\x20degr'+'ees\x0a\x20\x20\x20\x20ve'+'c2\x20uv2\x20=\x20v'+'ec2(fract('+'uv.x\x20+\x200.5'+'),\x20uv.y);\x0a'+'\x20\x20\x20\x20vec2\x20d'+'x2\x20=\x20dFdx('+'uv2);\x0a\x20\x20\x20\x20'+'vec2\x20dy2\x20='+'\x20dFdy(uv2)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'min\x20of\x20bot'+'h\x20sets\x20of\x20'+'dF\x20to\x20hand'+'le\x20discont'+'inuity\x20at\x20'+'the\x20azim\x20e'+'dge\x0a\x20\x20\x20\x20fl'+'oat\x20maxd\x20='+'\x20min(max(d'+'ot(dx,\x20dx)'+',\x20dot(dy,\x20'+'dy)),\x20max('+'dot(dx2,\x20d'+'x2),\x20dot(d'+'y2,\x20dy2)))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'0.5\x20*\x20log2'+'(maxd)\x20-\x201'+'.0\x20+\x20textu'+'reBias,\x200.'+'0,\x205.0);\x0a}'+'\x0a\x0avec3\x20cal'+'cReflectio'+'n(vec3\x20ref'+'lDir,\x20floa'+'t\x20gloss)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3(-1.'+'0,\x201.0,\x201.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20to'+'SphericalU'+'v(dir);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20roug'+'hness\x20leve'+'l\x0a\x20\x20\x20\x20floa'+'t\x20level\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20float\x20i'+'level\x20=\x20fl'+'oor(level)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'accessing\x20'+'the\x20shiny\x20'+'(top\x20level'+')\x20reflecti'+'on\x20-\x20perfo'+'rm\x20manual\x20'+'mipmap\x20loo'+'kup\x0a\x20\x20\x20\x20fl'+('oat\x20level2'+'\x20=\x20shinyMi'+'pLevel(uv\x20'+'*\x20atlasSiz'+'e);\x0a\x20\x20\x20\x20fl'+'oat\x20ilevel'+'2\x20=\x20floor('+'level2);\x0a\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v0,\x20uv1;\x0a\x20'+'\x20\x20\x20float\x20w'+'eight;\x0a\x20\x20\x20'+'\x20if\x20(ileve'+'l\x20==\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20mapS'+'hinyUv(uv,'+'\x20ilevel2);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v1\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x20level2\x20'+'-\x20ilevel2;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20acces'+'sing\x20rough'+'\x20reflectio'+'n\x20-\x20just\x20s'+'ample\x20the\x20'+'same\x20part\x20'+'twice\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'uv1\x20=\x20mapR'+'oughnessUv'+'(uv,\x20ileve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20weight\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'3\x20linearA\x20'+'=\x20{reflect'+'ionDecode}'+'(texture2D'+'(texture_e'+'nvAtlas,\x20u'+'v0));\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'rB\x20=\x20{refl'+'ectionDeco'+'de}(textur'+'e2D(textur'+'e_envAtlas'+',\x20uv1));\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near0\x20=\x20mi'+'x(linearA,'+'\x20linearB,\x20'+'weight);\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near1\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(line'+'ar0,\x20linea'+'r1,\x20level\x20'+'-\x20ilevel))'+';\x0a}\x0a\x0avoid\x20'+'addReflect'+'ion(vec3\x20r'+'eflDir,\x20fl'+'oat\x20gloss)'+'\x20{\x20\x20\x20\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20+=\x20vec4('+'calcReflec'+'tion(reflD'+'ir,\x20gloss)'+',\x20material'+'_reflectiv'+'ity);\x0a}\x0a'),a2='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'uniform\x20sa'+'mpler2D\x20te'+'xture_sphe'+'reMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20reflDir'+'V\x20=\x20(mat3('+'matrix_vie'+'w)\x20*\x20reflD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20m\x20=\x20'+'2.0\x20*\x20sqrt'+'(dot(reflD'+'irV.xy,\x20re'+'flDirV.xy)'+'\x20+\x20(reflDi'+'rV.z\x20+\x201.0'+')\x20*\x20(reflD'+'irV.z\x20+\x201.'+'0));\x0a\x20\x20\x20\x20v'+'ec2\x20sphere'+'MapUv\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(texture2'+'D(texture_'+'sphereMap,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0av'+'oid\x20addRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x20\x20\x20\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20+=\x20v'+'ec4(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20mate'+'rial_refle'+'ctivity);\x0a'+'}\x0a',n2='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',o2='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',l2='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bas'+'ed\x20on\x20the\x20'+'dispersion'+'\x20material\x20'+'property,\x20'+'calculate\x20'+'modified\x20r'+'efraction\x20'+'index\x20valu'+'es\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20for\x20R\x20'+'and\x20B\x20chan'+'nels\x20and\x20e'+'valuate\x20th'+'e\x20refracti'+'on\x20color\x20f'+'or\x20them.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20halfSpr'+'ead\x20=\x20(1.0'+'\x20/\x20refract'+'ionIndex\x20-')+('\x201.0)\x20*\x200.'+'025\x20*\x20disp'+'ersion;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20refract'+'ionIndexR\x20'+'=\x20refracti'+'onIndex\x20-\x20'+'halfSpread'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'refraction'+'Vector\x20=\x20n'+'ormalize(r'+'efract(-vi'+'ewDir,\x20wor'+'ldNormal,\x20'+'refraction'+'IndexR))\x20*'+'\x20scale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'action.r\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'xR).r;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20refracti'+'onIndexB\x20='+'\x20refractio'+'nIndex\x20+\x20h'+'alfSpread;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efractionV'+'ector\x20=\x20no'+'rmalize(re'+'fract(-vie'+'wDir,\x20worl'+'dNormal,\x20r'+'efractionI'+'ndexB))\x20*\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ction.b\x20=\x20'+'evalRefrac'+'tionColor('+'refraction'+'Vector,\x20gl'+'oss,\x20refra'+'ctionIndex'+'B).b;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Trans'+'mittance\x20i'+'s\x20our\x20fina'+'l\x20refracti'+'on\x20color\x0a\x20'+'\x20\x20\x20vec3\x20tr'+'ansmittanc'+'e;\x0a\x20\x20\x20\x20if\x20'+'(material_'+'invAttenua'+'tionDistan'+'ce\x20!=\x200.0)'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'attenuatio'+'n\x20=\x20-log(m'+'aterial_at'+'tenuation)'+'\x20*\x20materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans'+'mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20vec3'+'\x20fresnel\x20='+'\x20vec3(1.0)'+'\x20-\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot(')+('viewDir,\x20w'+'orldNormal'+'),\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20ref'+'raction\x20*\x20'+'transmitta'+'nce\x20*\x20fres'+'nel,\x20trans'+'mission);\x0a'+'}\x0a'),c2='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0a//\x20sourc'+'e\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20so'+'urceCube;\x0a'+'#else\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20so'+'urceTex;\x0a#'+'endif\x0a\x0a#if'+'def\x20USE_SA'+'MPLES_TEX\x0a'+'\x20\x20\x20\x20//\x20sam'+'ples\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20sam'+'plesTex;\x0a\x20'+'\x20\x20\x20uniform'+'\x20vec2\x20samp'+'lesTexInve'+'rseSize;\x0a#'+'endif\x0a\x0a//\x20'+'params:\x0a//'+'\x20x\x20-\x20targe'+'t\x20cubemap\x20'+'face\x200..6\x0a'+'//\x20y\x20-\x20tar'+'get\x20image\x20'+'total\x20pixe'+'ls\x0a//\x20z\x20-\x20'+'source\x20cub'+'emap\x20size\x0a'+'uniform\x20ve'+'c3\x20params;'+'\x0a\x0afloat\x20ta'+'rgetFace()'+'\x20{\x20return\x20'+'params.x;\x20'+'}\x0afloat\x20ta'+'rgetTotalP'+'ixels()\x20{\x20'+'return\x20par'+'ams.y;\x20}\x0af'+'loat\x20sourc'+'eTotalPixe'+'ls()\x20{\x20ret'+'urn\x20params'+'.z;\x20}\x0a\x0aflo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0a#i'+'nclude\x20\x22de'+'codePS\x22\x0a#i'+'nclude\x20\x22en'+'codePS\x22\x0a\x0a/'+'/--\x20suppor'+'ted\x20projec'+'tions\x0a\x0avec'+'3\x20modifySe'+'ams(vec3\x20d'+'ir,\x20float\x20'+'scale)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20ad'+'ir\x20=\x20abs(d'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20M\x20=\x20m'+'ax(max(adi'+'r.x,\x20adir.'+'y),\x20adir.z'+');\x0a\x20\x20\x20\x20ret'+'urn\x20dir\x20/\x20'+'M\x20*\x20vec3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.x\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20adir.y\x20'+'==\x20M\x20?\x201.0'+'\x20:\x20scale,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.z\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+('\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec3\x20f'+'romSpheric'+'al(vec2\x20uv'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec3('+'cos(uv.y)\x20'+'*\x20sin(uv.x'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'in(uv.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cos('+'uv.y)\x20*\x20co'+'s(uv.x));\x0a'+'}\x0a\x0avec3\x20ge'+'tDirection'+'Equirect()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20fromSp'+'herical((v'+'ec2(vUv0.x'+',\x201.0\x20-\x20vU'+'v0.y)\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20vec2(PI,\x20'+'PI\x20*\x200.5))'+';\x0a}\x0a\x0a//\x20oc'+'tahedral\x20c'+'ode,\x20based'+'\x20on\x20https:'+'//jcgt.org'+'/published'+'/0003/02/0'+'1/\x0a//\x20\x22Sur'+'vey\x20of\x20Eff'+'icient\x20Rep'+'resentatio'+'ns\x20for\x20Ind'+'ependent\x20U'+'nit\x20Vector'+'s\x22\x20by\x20Cigo'+'lle,\x20Donow'+',\x20Evangela'+'kos,\x20Mara,'+'\x20McGuire,\x20'+'Meyer\x0a\x0aflo'+'at\x20signNot'+'Zero(float'+'\x20k){\x0a\x20\x20\x20\x20r'+'eturn(k\x20>='+'\x200.0)\x20?\x201.'+'0\x20:\x20-1.0;\x0a'+'}\x0a\x0avec2\x20si'+'gnNotZero('+'vec2\x20v)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec2(sign'+'NotZero(v.'+'x),\x20signNo'+'tZero(v.y)'+');\x0a}\x0a\x0a//\x20R'+'eturns\x20a\x20u'+'nit\x20vector'+'.\x20Argument'+'\x20o\x20is\x20an\x20o'+'ctahedral\x20'+'vector\x20pac'+'ked\x20via\x20oc'+'tEncode,\x20o'+'n\x20the\x20[-1,'+'\x20+1]\x20squar'+'e\x0avec3\x20oct'+'Decode(vec'+'2\x20o)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20v\x20=\x20'+'vec3(o.x,\x20'+'1.0\x20-\x20abs('+'o.x)\x20-\x20abs'+'(o.y),\x20o.y'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20v.xz\x20=\x20('+'1.0\x20-\x20abs('+'v.zx))\x20*\x20s'+'ignNotZero'+'(v.xz);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lize(v);\x0a}'+'\x0a\x0avec3\x20get'+'DirectionO'+'ctahedral('+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20octDe'+'code(vec2(')+('vUv0.x,\x201.'+'0\x20-\x20vUv0.y'+')\x20*\x202.0\x20-\x20'+'1.0);\x0a}\x0a\x0a/'+'/\x20Assumes\x20'+'that\x20v\x20is\x20'+'a\x20unit\x20vec'+'tor.\x20The\x20r'+'esult\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'on\x20the\x20[-1'+',\x20+1]\x20squa'+'re\x0avec2\x20oc'+'tEncode(in'+'\x20vec3\x20v)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20vec2'+'\x20result\x20=\x20'+'v.xz\x20*\x20(1.'+'0\x20/\x20l1norm'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20result\x20='+'\x20(1.0\x20-\x20ab'+'s(result.y'+'x))\x20*\x20sign'+'NotZero(re'+'sult.xy);\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20res'+'ult;\x0a}\x0a\x0a//'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'///////\x0a\x0a#'+'ifdef\x20CUBE'+'MAP_SOURCE'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleCube'+'map(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureCu'+'be(sourceC'+'ube,\x20modif'+'ySeams(dir'+',\x201.0));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eCubemap(v'+'ec2\x20sph)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leCubemap('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleCubemap'+'(vec3\x20dir,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCubeLod(s'+'ourceCube,'+'\x20modifySea'+'ms(dir,\x201.'+'0),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleCub'+'emap(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleCubema'+'p(fromSphe'+'rical(sph)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eEquirect('+'vec2\x20sph)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'sph\x20/\x20vec2'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleEqu'+'irect(toSp'+'herical(di'+'r));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleEqu'+'irect(vec2'+'\x20sph,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20sph\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2DLo'+'d(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20sampleEq'+'uirect(toS'+'pherical(d'+'ir),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20o'+'ctEncode(d'+'ir)\x20*\x200.5\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Octahedral'+'(vec2\x20sph)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20octEn'+'code(dir)\x20'+'*\x200.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20te'+'xture2DLod'+'(sourceTex'+',\x20vec2(uv.'+'x,\x201.0\x20-\x20u'+'v.y),\x20mipL'+'evel);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20sampleO'+'ctahedral('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph),\x20')+('mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0avec3'+'\x20getDirect'+'ionCubemap'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20st\x20=\x20v'+'Uv0\x20*\x202.0\x20'+'-\x201.0;\x0a\x20\x20\x20'+'\x20float\x20fac'+'e\x20=\x20target'+'Face();\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ve'+'c;\x0a\x20\x20\x20\x20if\x20'+'(face\x20==\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(1,\x20-s'+'t.y,\x20-st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3(-1,\x20-st.'+'y,\x20st.x);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x202.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x201,\x20st'+'.y);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x203.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'-1,\x20-st.y)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(fac'+'e\x20==\x204.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec\x20=\x20vec3'+'(st.x,\x20-st'+'.y,\x201);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'-st.x,\x20-st'+'.y,\x20-1);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(mod'+'ifySeams(v'+'ec,\x201.0));'+'\x0a}\x0a\x0amat3\x20m'+'atrixFromV'+'ector(vec3'+'\x20n)\x20{\x20//\x20f'+'risvad\x0a\x20\x20\x20'+'\x20float\x20a\x20='+'\x201.0\x20/\x20(1.'+'0\x20+\x20n.z);\x0a'+'\x20\x20\x20\x20float\x20'+'b\x20=\x20-n.x\x20*'+'\x20n.y\x20*\x20a;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'1\x20=\x20vec3(1'+'.0\x20-\x20n.x\x20*'+'\x20n.x\x20*\x20a,\x20'+'b,\x20-n.x);\x0a'+'\x20\x20\x20\x20vec3\x20b'+'2\x20=\x20vec3(b'+',\x201.0\x20-\x20n.'+'y\x20*\x20n.y\x20*\x20'+'a,\x20-n.y);\x0a'+'\x20\x20\x20\x20return'+'\x20mat3(b1,\x20'+'b2,\x20n);\x0a}\x0a'+'\x0amat3\x20matr'+'ixFromVect'+'orSlow(vec'+'3\x20n)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20up\x20='+'\x20(1.0\x20-\x20ab'+'s(n.y)\x20<=\x20'+'0.0000001)'+'\x20?\x20vec3(0.'+'0,\x200.0,\x20n.'+'y\x20>\x200.0\x20?\x20'+'1.0\x20:\x20-1.0'+')\x20:\x20vec3(0'+'.0,\x201.0,\x200'+'.0);\x0a\x20\x20\x20\x20v'+'ec3\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20vec'+'3\x20y\x20=\x20cros')+('s(n,\x20x);\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(x,\x20y,'+'\x20n);\x0a}\x0a\x0ave'+'c4\x20reproje'+'ct()\x20{\x0a\x20\x20\x20'+'\x20if\x20({NUM_'+'SAMPLES}\x20<'+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20si'+'ngle\x20sampl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20{EN'+'CODE_FUNC}'+'({DECODE_F'+'UNC}({SOUR'+'CE_FUNC}({'+'TARGET_FUN'+'C}())));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multi\x20s'+'ample\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20t'+'\x20=\x20{TARGET'+'_FUNC}();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tu\x20=\x20dF'+'dx(t);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'tv\x20=\x20dFdy('+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(float\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'++u)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'v\x20=\x200.0;\x20v'+'\x20<\x20{NUM_SA'+'MPLES_SQRT'+'};\x20++v)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20{DEC'+'ODE_FUNC}('+'{SOURCE_FU'+'NC}(normal'+'ize(t\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20tu'+'\x20*\x20(u\x20/\x20{N'+'UM_SAMPLES'+'_SQRT}\x20-\x200'+'.5)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20tv\x20*'+'\x20(v\x20/\x20{NUM'+'_SAMPLES_S'+'QRT}\x20-\x200.5'+'))));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20({'+'NUM_SAMPLE'+'S_SQRT}\x20*\x20'+'{NUM_SAMPL'+'ES_SQRT}))'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0avec4\x20unpa'+'ckFloat\x20=\x20'+'vec4(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20void\x20'+'unpackSamp'+'le(int\x20i,\x20'+'out\x20vec3\x20L'+',\x20out\x20floa')+('t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x20(float(i'+'\x20*\x204)\x20+\x200.'+'5)\x20*\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x20(f'+'loor(u)\x20+\x20'+'0.5)\x20*\x20sam'+'plesTexInv'+'erseSize.y'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20raw;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.x\x20=\x20dot'+'(texture2D'+'(samplesTe'+'x,\x20vec2(u,'+'\x20v)),\x20unpa'+'ckFloat);\x20'+'u\x20+=\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'texture2D('+'samplesTex'+',\x20vec2(u,\x20'+'v)),\x20unpac'+'kFloat);\x20u'+'\x20+=\x20sample'+'sTexInvers'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.z\x20=\x20dot(t'+'exture2D(s'+'amplesTex,'+'\x20vec2(u,\x20v'+')),\x20unpack'+'Float);\x20u\x20'+'+=\x20samples'+'TexInverse'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20raw.'+'w\x20=\x20dot(te'+'xture2D(sa'+'mplesTex,\x20'+'vec2(u,\x20v)'+'),\x20unpackF'+'loat);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20L.xy'+'z\x20=\x20raw.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mipLeve'+'l\x20=\x20raw.w\x20'+'*\x208.0;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20convolve\x20'+'an\x20environ'+'ment\x20given'+'\x20pre-gener'+'ated\x20sampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamples()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L')+(',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level))\x20*\x20'+'L.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tot'+'alWeight\x20+'+'=\x20L.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20{ENCODE'+'_FUNC}(res'+'ult\x20/\x20tota'+'lWeight);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20unweig'+'hted\x20versi'+'on\x20of\x20pref'+'ilterSampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamplesUn'+'weighted()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20fl'+'oat({NUM_S'+'AMPLES}));'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20{PROCESS'+'_FUNC}();\x0a'+'}\x0a'),h2='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0auniform'+'\x20vec4\x20uvMo'+'d;\x0avarying'+'\x20vec2\x20vUv0'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(vertex_po'+'sition.xy\x20'+'*\x200.5\x20+\x200.'+'5)\x20*\x20uvMod'+'.xy\x20+\x20uvMo'+'d.zw);\x0a}\x0a',d2='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SCREENS'+'IZE\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#ifndef'+'\x20CAMERAPLA'+'NES\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20camera'+'_params;\x20/'+'/\x20x:\x201\x20/\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20\x20y:\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20z:\x20ca'+'mera_near,'+'\x20\x20\x20\x20\x20\x20\x20\x20w:'+'\x20is_ortho\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20lineariz'+'eDepth(flo'+'at\x20z)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'camera_par'+'ams.w\x20==\x200'+'.0)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(camera'+'_params.z\x20'+'*\x20camera_p'+'arams.y)\x20/'+'\x20(camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(camer'+'a_params.z'+'\x20-\x20camera_'+'params.y))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20camera'+'_params.z\x20'+'+\x20z\x20*\x20(cam'+'era_params'+'.y\x20-\x20camer'+'a_params.z'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0aflo'+'at\x20delinea'+'rizeDepth('+'float\x20line'+'arDepth)\x20{'+'\x0a\x20\x20\x20\x20if\x20(c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'(camera_pa'+'rams.y\x20*\x20('+'camera_par'+'ams.z\x20-\x20li'+'nearDepth)'+')\x20/\x20(linea'+'rDepth\x20*\x20('+'camera_par'+'ams.z\x20-\x20ca'+'mera_param'+'s.y));\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(line'+'arDepth\x20-\x20'+'camera_par'+'ams.z)\x20/\x20('+('camera_par'+'ams.y\x20-\x20ca'+'mera_param'+'s.z);\x0a\x20\x20\x20\x20'+'}\x0a}\x0a\x0a//\x20Re'+'trieves\x20re'+'ndered\x20lin'+'ear\x20camera'+'\x20depth\x20by\x20'+'UV\x0afloat\x20g'+'etLinearSc'+'reenDepth('+'vec2\x20uv)\x20{'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SCENE_DE'+'PTHMAP_LIN'+'EAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_FLOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2D(u'+'SceneDepth'+'Map,\x20uv).r'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20textu'+'reSize\x20=\x20t'+'extureSize'+'(uSceneDep'+'thMap,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20t'+'exel\x20=\x20ive'+'c2(uv\x20*\x20ve'+'c2(texture'+'Size));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20data\x20'+'=\x20texelFet'+'ch(uSceneD'+'epthMap,\x20t'+'exel,\x200);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(data.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(uint(d'+'ata.g\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20|\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.b\x20*\x20255.'+'0)\x20<<\x208u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(data.a\x20'+'*\x20255.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uintBitsTo'+'Float(intB'+'its);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20line'+'arizeDepth'+'(texture2D'+'(uSceneDep'+'thMap,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20float\x20'+'getLinearS'+'creenDepth'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20uv'+'\x20=\x20gl_Frag'+'Coord.xy\x20*'+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afloat\x20'+'getLinearD'+'epth(vec3\x20'+'pos)\x20{\x0a\x20\x20\x20'+'\x20return\x20-('+'matrix_vie'+'w\x20*\x20vec4(p'+'os,\x201.0)).'+'z;\x0a}\x0a'),f2='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avec3\x20'+'fadeShadow'+'(vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'CascadeDis'+'tances)\x20{\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20if\x20th'+'e\x20pixel\x20is'+'\x20past\x20the\x20'+'shadow\x20dis'+'tance,\x20rem'+'ove\x20shadow'+'\x0a\x20\x20\x20\x20//\x20th'+'is\x20enforce'+'s\x20straight'+'\x20line\x20inst'+'ead\x20of\x20cor'+'ner\x20of\x20sha'+'dow\x20which\x20'+'moves\x20when'+'\x20camera\x20ro'+'tates\x20\x20\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x20\x20'+'\x20\x20if\x20(dept'+'h\x20>\x20shadow'+'CascadeDis'+'tances.w)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'shadowCoor'+'d.z\x20=\x20-999'+'9999.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20shad'+'owCoord;\x0a}'+'\x0a'),u2='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+('\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a\x0a//\x20'+'------\x20VSM'+'\x2016\x20------'+'\x0a\x0afloat\x20VS'+'M16(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec2\x20'+'texCoords,'+'\x20float\x20res'+'olution,\x20f'+'loat\x20Z,\x20fl'+'oat\x20vsmBia'+'s,\x20float\x20e'+'xponent)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'moments\x20=\x20'+'texture2DL'+'od(tex,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM16('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM16(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM16(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20VSM16('+'TEXTURE_PA'+'SS(shadowM'+'ap),\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----')+('--\x0a\x0afloat\x20'+'VSM32(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20texCoord'+'s,\x20float\x20r'+'esolution,'+'\x20float\x20Z,\x20'+'float\x20vsmB'+'ias,\x20float'+'\x20exponent)'+'\x20{\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20CAPS_'+'TEXTURE_FL'+'OAT_FILTER'+'ABLE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2DLod'+'(tex,\x20texC'+'oords,\x200.0'+').xyz;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ma'+'nual\x20bilin'+'ear\x20filter'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pi'+'xelSize\x20=\x20'+'1.0\x20/\x20reso'+'lution;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20texC'+'oords\x20-=\x20v'+'ec2(pixelS'+'ize);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'00\x20=\x20textu'+'re2DLod(te'+'x,\x20texCoor'+'ds,\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20s10'+'\x20=\x20texture'+'2DLod(tex,'+'\x20texCoords'+'\x20+\x20vec2(pi'+'xelSize,\x200'+'),\x200.0).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20s01\x20'+'=\x20texture2'+'DLod(tex,\x20'+'texCoords\x20'+'+\x20vec2(0,\x20'+'pixelSize)'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20s11\x20='+'\x20texture2D'+'Lod(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20fr\x20=\x20frac'+'t(texCoord'+'s\x20*\x20resolu'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'h0\x20=\x20mix(s'+'00,\x20s10,\x20f'+'r.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20h'+'1\x20=\x20mix(s0'+'1,\x20s11,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20mi'+'x(h0,\x20h1,\x20'+'fr.y);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM32('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM32(T')+('EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM32(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20Z\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd.xy,\x20sha'+'dowParams.'+'x,\x20Z,\x20shad'+'owParams.y'+',\x20exponent'+');\x0a}\x0a'),p2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20textur'+'eShadow(sh'+'adowMap,\x20s'+'hadowCoord'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wSpotPCF1x'+'1(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSh'+'adow(shado'+'wMap,\x20shad'+'owCoord);\x0a'+'}\x0a\x0a//\x20----'+'-\x20Omni\x20Sam'+'pling\x20----'+'-\x0a\x0a#ifndef'+'\x20WEBGPU\x0a\x0af'+'loat\x20getSh'+'adowOmniPC'+'F1x1(sampl'+'erCubeShad'+'ow\x20shadowM'+'ap,\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20return'+'\x20texture(s'+'hadowMap,\x20'+'vec4(light'+'Dir,\x20shado'+'wZ));\x0a}\x0a\x0a#'+'endif\x0a',m2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x20\x0a\x20\x20'+'\x20\x20base_uv\x20'+'-=\x20vec2(0.'+'5);\x0a\x20\x20\x20\x20ba'+'se_uv\x20*=\x20s'+'hadowMapSi'+'zeInv;\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'uw0\x20=\x20(3.0'+'\x20-\x202.0\x20*\x20s'+');\x0a\x20\x20\x20\x20flo'+'at\x20uw1\x20=\x20('+'1.0\x20+\x202.0\x20'+'*\x20s);\x0a\x0a\x20\x20\x20'+'\x20float\x20u0\x20'+'=\x20(2.0\x20-\x20s'+')\x20/\x20uw0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20f'+'loat\x20u1\x20=\x20'+'s\x20/\x20uw1\x20+\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(3.0\x20-\x202'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20t)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20v0\x20=\x20(2'+'.0\x20-\x20t)\x20/\x20'+'vw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20v1\x20=\x20t\x20/\x20'+'vw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20u0\x20='+'\x20u0\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v0\x20=\x20v0\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u1\x20=\x20'+'u1\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'1\x20=\x20v1\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+('sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw0\x20*\x20v'+'w1\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u0,\x20v'+'1,\x20z));\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w1\x20*\x20vw1\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u1,\x20v1,\x20z'+'));\x0a\x0a\x20\x20\x20\x20s'+'um\x20*=\x201.0f'+'\x20/\x2016.0;\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF3x3('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'3x3(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0a//\x20-----'+'\x20Omni\x20Samp'+'ling\x20-----'+'\x0a\x0a#ifndef\x20'+'WEBGPU\x0a\x0afl'+'oat\x20getSha'+'dowOmniPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict')+('\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wOmniPCF3x'+'3(samplerC'+'ubeShadow\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowOmniP'+'CF3x3(shad'+'owMap,\x20sha'+'dowParams,'+'\x20lightDir)'+';\x0a}\x0a\x0a#endi'+'f\x0a'),_2='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20saturate'+'(sum);\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF5x5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F5x5(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado')+('wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF5'+'x5(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'),g2='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epthWithPa'+'rams(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20const\x20f'+'loat\x20PI\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa')+('dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam'+'pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec')+('4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow'+'Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowOm'+'niPCSS(sam'+'plerCube\x20s'+'hadowMap,\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'4\x20cameraPa'+'rams,\x20vec2'+'\x20shadowSea'+'rchArea,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SCube(shad'+'owMap,\x20sha'+'dowParams,'+'\x20shadowCoo'+'rd,\x20camera'+'Params,\x20sh'+'adowSearch'+'Area.x,\x20li'+'ghtDir);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'float\x20getS'+'hadowSpotP'+'CSS(TEXTUR'+'E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SS(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20cameraPar'+'ams,\x20shado'+'wSearchAre'+'a);\x0a}\x0a\x0a'),S2='\x0a\x0ahighp\x20fl'+'oat\x20fractS'+'inRand(con'+'st\x20in\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x20\x20\x20'+'\x20const\x20hig'+'hp\x20float\x20a'+'\x20=\x2012.9898'+',\x20b\x20=\x2078.2'+'33,\x20c\x20=\x2043'+'758.5453;\x0a'+'\x20\x20\x20\x20highp\x20'+'float\x20dt\x20='+'\x20dot(uv.xy'+',\x20vec2(a,\x20'+'b)),\x20sn\x20=\x20'+'mod(dt,\x20PI'+');\x0a\x20\x20\x20\x20ret'+'urn\x20fract('+'sin(sn)\x20*\x20'+'c);\x0a}\x0a\x0a//\x20'+'struct\x20to\x20'+'hold\x20preco'+'mputed\x20con'+'stants\x20and'+'\x20current\x20s'+'tate\x0astruc'+'t\x20VogelDis'+'kData\x20{\x0a\x20\x20'+'\x20\x20float\x20in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20initial'+'Angle;\x0a\x20\x20\x20'+'\x20float\x20cur'+'rentPointI'+'d;\x0a};\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'void\x20prepa'+'reDiskCons'+'tants(out\x20'+'VogelDiskD'+'ata\x20data,\x20'+'int\x20sample'+'Count,\x20flo'+'at\x20randomS'+'eed)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20pi2\x20=\x206'+'.283185307'+'18;\x0a\x20\x20\x20\x20da'+'ta.invNumS'+'amples\x20=\x201'+'.0\x20/\x20float'+'(sampleCou'+'nt);\x0a\x20\x20\x20\x20d'+'ata.initia'+'lAngle\x20=\x20r'+'andomSeed\x20'+'*\x20pi2;\x0a\x20\x20\x20'+'\x20data.curr'+'entPointId'+'\x20=\x200.0;\x0a}\x0a'+'\x0a\x0avec2\x20gen'+'erateDiskS'+'ample(inou'+'t\x20VogelDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'GOLDEN_ANG'+'LE\x20=\x202.399'+'963;\x0a\x20\x20\x20\x20f'+'loat\x20r\x20=\x20s'+'qrt((data.'+'currentPoi'+'ntId\x20+\x200.5'+')\x20*\x20data.i'+'nvNumSampl'+'es);\x0a\x20\x20\x20\x20f'+'loat\x20theta'+'\x20=\x20data.cu'+'rrentPoint'+'Id\x20*\x20GOLDE'+'N_ANGLE\x20+\x20'+'data.initi'+'alAngle;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20o'+'ffset\x20=\x20ve'+('c2(cos(the'+'ta),\x20sin(t'+'heta))\x20*\x20p'+'ow(r,\x201.33'+');\x0a\x0a\x20\x20\x20\x20da'+'ta.current'+'PointId\x20+='+'\x201.0;\x0a\x20\x20\x20\x20'+'return\x20off'+'set;\x0a}\x0a\x0avo'+'id\x20PCSSFin'+'dBlocker(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20out\x20'+'float\x20avgB'+'lockerDept'+'h,\x20out\x20int'+'\x20numBlocke'+'rs,\x0a\x20\x20\x20\x20ve'+'c2\x20shadowC'+'oords,\x20flo'+'at\x20z,\x20int\x20'+'shadowBloc'+'kerSamples'+',\x20float\x20pe'+'numbraSize'+',\x20float\x20in'+'vShadowMap'+'Size,\x20floa'+'t\x20randomSe'+'ed)\x20{\x0a\x0a\x20\x20\x20'+'\x20VogelDisk'+'Data\x20diskD'+'ata;\x0a\x20\x20\x20\x20p'+'repareDisk'+'Constants('+'diskData,\x20'+'shadowBloc'+'kerSamples'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'float\x20sear'+'chWidth\x20=\x20'+'penumbraSi'+'ze\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x20\x20\x20\x20flo'+'at\x20blocker'+'Sum\x20=\x200.0;'+'\x0a\x20\x20\x20\x20numBl'+'ockers\x20=\x200'+';\x0a\x0a\x20\x20\x20\x20for'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowBlocker'+'Samples;\x20+'+'+i\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'diskUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20sampleUV'+'\x20=\x20shadowC'+'oords\x20+\x20di'+'skUV\x20*\x20sea'+'rchWidth;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'MapDepth\x20='+'\x20texture2D'+'Lod(shadow'+'Map,\x20sampl'+'eUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(\x20shad'+'owMapDepth'+'\x20<\x20z\x20)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20blockerSu'+'m\x20+=\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers++;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20av'+'gBlockerDe'+'pth\x20=\x20bloc'+'kerSum\x20/\x20f'+'loat(numBl'+'ockers);\x0a}'+'\x0a\x0afloat\x20PC'+'SSFilter(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20uv,\x20float')+('\x20receiverD'+'epth,\x20int\x20'+'shadowSamp'+'les,\x20float'+'\x20filterRad'+'ius,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'VogelDiskD'+'ata\x20diskDa'+'ta;\x0a\x20\x20\x20\x20pr'+'epareDiskC'+'onstants(d'+'iskData,\x20s'+'hadowSampl'+'es,\x20random'+'Seed);\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20shadowS'+'amples;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20of'+'fsetUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x20text'+'ure2DLod(s'+'hadowMap,\x20'+'uv\x20+\x20offse'+'tUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sum\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20retu'+'rn\x20sum\x20/\x20f'+'loat(shado'+'wSamples);'+'\x0a}\x0a\x0afloat\x20'+'getPenumbr'+'a(float\x20db'+'locker,\x20fl'+'oat\x20drecei'+'ver,\x20float'+'\x20penumbraS'+'ize,\x20float'+'\x20penumbraF'+'alloff)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'dist\x20=\x20dre'+'ceiver\x20-\x20d'+'blocker;\x0a\x20'+'\x20\x20\x20float\x20p'+'enumbra\x20=\x20'+'1.0\x20-\x20pow('+'1.0\x20-\x20dist'+',\x20penumbra'+'Falloff);\x0a'+'\x20\x20\x20\x20return'+'\x20penumbra\x20'+'*\x20penumbra'+'Size;\x0a}\x0a\x0af'+'loat\x20PCSSD'+'irectional'+'(TEXTURE_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20vec4'+'\x20softShado'+'wParams)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20receiver'+'Depth\x20=\x20sh'+'adowCoords'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20random'+'Seed\x20=\x20fra'+'ctSinRand('+'gl_FragCoo'+'rd.xy);\x0a\x20\x20'+'\x20\x20int\x20shad'+'owSamples\x20'+'=\x20int(soft'+'ShadowPara'+'ms.x);\x0a\x20\x20\x20'+'\x20int\x20shado'+'wBlockerSa'+'mples\x20=\x20in'+'t(softShad')+('owParams.y'+');\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'aSize\x20=\x20so'+'ftShadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20float\x20pe'+'numbraFall'+'off\x20=\x20soft'+'ShadowPara'+'ms.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20normal'+'ized\x20inver'+'se\x20shadow\x20'+'map\x20size\x20t'+'o\x20preserve'+'\x20the\x20shado'+'w\x20softness'+'\x20regardles'+'s\x20of\x20the\x20s'+'hadow\x20reso'+'lution\x0a\x20\x20\x20'+'\x20int\x20shado'+'wMapSize\x20='+'\x20textureSi'+'ze(shadowM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20float\x20'+'invShadowM'+'apSize\x20=\x201'+'.0\x20/\x20float'+'(shadowMap'+'Size);\x0a\x20\x20\x20'+'\x20invShadow'+'MapSize\x20*='+'\x20float(sha'+'dowMapSize'+')\x20/\x202048.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'a;\x0a\x0a\x20\x20\x20\x20//'+'\x20contact\x20h'+'ardening\x20p'+'ath\x0a\x20\x20\x20\x20if'+'\x20(shadowBl'+'ockerSampl'+'es\x20>\x200)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20find\x20ave'+'rage\x20block'+'er\x20depth\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20avgBloc'+'kerDepth\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20nu'+'mBlockers\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20avgBlo'+'ckerDepth,'+'\x20numBlocke'+'rs,\x20shadow'+'Coords.xy,'+'\x20receiverD'+'epth,\x20shad'+'owBlockerS'+'amples,\x20pe'+'numbraSize'+',\x20invShado'+'wMapSize,\x20'+'randomSeed'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20out\x20when\x20'+'no\x20blocker'+'s\x20are\x20pres'+'ent\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(numB'+'lockers\x20<\x20'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x201.0f;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'penumbra\x20s'+'ize\x20is\x20bas'+'ed\x20on\x20the\x20'+'blocker\x20de'+'pth\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20penumbra'+'\x20=\x20getPenu'+'mbra(avgBl'+'ockerDepth'+',\x20shadowCo'+'ords.z,\x20pe'+'numbraSize'+',\x20penumbra')+('Falloff);\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'tant\x20filte'+'r\x20size,\x20no'+'\x20contact\x20h'+'ardening\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pen'+'umbra\x20=\x20pe'+'numbraSize'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ilterRadiu'+'s\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoords'+'.xy,\x20recei'+'verDepth,\x20'+'shadowSamp'+'les,\x20filte'+'rRadius,\x20r'+'andomSeed)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSSDirecti'+'onal(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20cameraP'+'arams,\x20sof'+'tShadowPar'+'ams);\x0a}\x0a\x0a'),y2='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0a\x0a'+'mat4\x20getBo'+'neMatrix(c'+'onst\x20in\x20fl'+'oat\x20indexF'+'loat)\x20{\x0a\x0a\x20'+'\x20\x20\x20int\x20wid'+'th\x20=\x20textu'+'reSize(tex'+'ture_poseM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20int\x20in'+'dex\x20=\x20int('+'indexFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x20\x20\x20\x20int'+'\x20iy\x20=\x20inde'+'x\x20/\x20width;'+'\x0a\x20\x20\x20\x20int\x20i'+'x\x20=\x20index\x20'+'%\x20width;\x0a\x0a'+'\x20\x20\x20\x20//\x20rea'+'d\x20elements'+'\x20of\x204x3\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20v1\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x200,'+'\x20iy),\x200);\x0a'+'\x20\x20\x20\x20vec4\x20v'+'2\x20=\x20texelF'+'etch(textu'+'re_poseMap'+',\x20ivec2(ix'+'\x20+\x201,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20v'+'ec4\x20v3\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x202,'+'\x20iy),\x200);\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',v2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0a\x0avoid\x20'+'getBoneMat'+'rix(const\x20'+'in\x20int\x20wid'+'th,\x20const\x20'+'in\x20int\x20ind'+'ex,\x20out\x20ve'+'c4\x20v1,\x20out'+'\x20vec4\x20v2,\x20'+'out\x20vec4\x20v'+'3)\x20{\x0a\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20in'+'dex\x20/\x20widt'+'h;\x0a\x20\x20\x20\x20int'+'\x20u\x20=\x20index'+'\x20%\x20width;\x0a'+'\x0a\x20\x20\x20\x20v1\x20=\x20'+'texelFetch'+'(texture_p'+'oseMap,\x20iv'+'ec2(u\x20+\x200,'+'\x20v),\x200);\x0a\x20'+'\x20\x20\x20v2\x20=\x20te'+'xelFetch(t'+'exture_pos'+'eMap,\x20ivec'+'2(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20v3\x20=\x20texe'+'lFetch(tex'+'ture_poseM'+'ap,\x20ivec2('+'u\x20+\x202,\x20v),'+'\x200);\x0a}\x0a\x0ama'+'t4\x20getSkin'+'Matrix(con'+'st\x20in\x20vec4'+'\x20indicesFl'+'oat,\x20const'+'\x20in\x20vec4\x20w'+'eights)\x20{\x0a'+'\x0a\x20\x20\x20\x20int\x20w'+'idth\x20=\x20tex'+'tureSize(t'+'exture_pos'+'eMap,\x200).x'+';\x0a\x20\x20\x20\x20ivec'+'4\x20indices\x20'+'=\x20ivec4(in'+'dicesFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20get\x204\x20bon'+'e\x20matrices'+'\x0a\x20\x20\x20\x20vec4\x20'+'a1,\x20a2,\x20a3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.x,\x20a1'+',\x20a2,\x20a3);'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20b1,\x20b2,\x20b'+'3;\x0a\x20\x20\x20\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y,\x20b'+'1,\x20b2,\x20b3)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20c1,\x20c2,\x20'+'c3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.z,\x20'+'c1,\x20c2,\x20c3'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20d1,\x20d2,'+'\x20d3;\x0a\x20\x20\x20\x20g'+'etBoneMatr'+'ix(width,\x20'+'indices.w,'+'\x20d1,\x20d2,\x20d'+'3);\x0a\x0a\x20\x20\x20\x20/'+'/\x20multiply'+'\x20them\x20by\x20w'+'eights\x20and'+'\x20add\x20up\x20to'+'\x20get\x20final'+'\x204x3\x20matri'+('x\x0a\x20\x20\x20\x20vec4'+'\x20v1\x20=\x20a1\x20*'+'\x20weights.x'+'\x20+\x20b1\x20*\x20we'+'ights.y\x20+\x20'+'c1\x20*\x20weigh'+'ts.z\x20+\x20d1\x20'+'*\x20weights.'+'w;\x0a\x20\x20\x20\x20vec'+'4\x20v2\x20=\x20a2\x20'+'*\x20weights.'+'x\x20+\x20b2\x20*\x20w'+'eights.y\x20+'+'\x20c2\x20*\x20weig'+'hts.z\x20+\x20d2'+'\x20*\x20weights'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20v3\x20=\x20a3'+'\x20*\x20weights'+'.x\x20+\x20b3\x20*\x20'+'weights.y\x20'+'+\x20c3\x20*\x20wei'+'ghts.z\x20+\x20d'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20add\x20up\x20'+'weights\x0a\x20\x20'+'\x20\x20float\x20on'+'e\x20=\x20dot(we'+'ights,\x20vec'+'4(1.0));\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.x'+',\x20v2.x,\x20v3'+'.x,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.y,'+'\x20v2.y,\x20v3.'+'y,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.z,\x20'+'v2.z,\x20v3.z'+',\x200,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20v1.w,\x20v'+'2.w,\x20v3.w,'+'\x20one\x0a\x20\x20\x20\x20)'+';\x0a}\x0a'),x2='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20float\x20v'+'LinearDept'+'h;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22floatAsUi'+'ntPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec3\x20vView'+'Dir;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20skyboxH'+'ighlightMu'+'ltiplier;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SKY_CUBE'+'MAP\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20texture'+'_cubeMap;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec3\x20v'+'WorldPos;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20project'+'edSkydomeC'+'enter;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#el'+'se\x20//\x20env-'+'atlas\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22spher'+'icalPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22envA'+'tlasPS\x22\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mipLe'+'vel;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20linear\x20d'+'epth\x20durin'+'g\x20prepass\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20flo'+'at2vec4(vL'+'inearDepth'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SK'+'Y_CUBEMAP\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SKYMES'+'H\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+('\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envDir\x20=\x20n'+'ormalize(v'+'WorldPos\x20-'+'\x20projected'+'SkydomeCen'+'ter);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20env'+'Dir\x20*\x20cube'+'MapRotatio'+'nMatrix;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20vViewD'+'ir;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir.x'+'\x20*=\x20-1.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20linear\x20=\x20'+'{SKYBOX_DE'+'CODE_FNC}('+'textureCub'+'e(texture_'+'cubeMap,\x20d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20vVie'+'wDir\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20toSph'+'ericalUv(n'+'ormalize(d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20mipLev'+'el)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20our\x20HDR'+'\x20encodes\x20v'+'alues\x20up\x20t'+'o\x2064,\x20so\x20a'+'llow\x20extra'+'\x20brightnes'+'s\x20for\x20the\x20'+'clipped\x20va'+'lues\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(any(great'+'erThanEqua'+'l(linear,\x20'+'vec3(64.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20skyboxHi'+'ghlightMul'+'tiplier;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(toneM'+'ap(process'+'Environmen'+'t(linear))'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20}'+'\x0a'),T2='\x0aattribute'+'\x20vec4\x20aPos'+'ition;\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tionSkybox'+';\x0auniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x0av'+'arying\x20vec'+'3\x20vViewDir'+';\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20//\x20'+'when\x20skydo'+'me\x20renders'+'\x20depth\x20dur'+'ing\x20prepas'+'s,\x20generat'+'e\x20linear\x20d'+'epth\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20vLinear'+'Depth;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20SKYMESH\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec3\x20vW'+'orldPos;\x0a#'+'endif\x0a\x0avoi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'mat4\x20view\x20'+'=\x20matrix_v'+'iew;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'MESH\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec4\x20w'+'orldPos\x20=\x20'+'matrix_mod'+'el\x20*\x20aPosi'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vWorld'+'Pos\x20=\x20worl'+'dPos.xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20PREPASS'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20linear\x20de'+'pth\x20from\x20t'+'he\x20worldPo'+'sition,\x20se'+'e\x20getLinea'+'rDepth\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vWorl'+'dPos,\x201.0)'+').z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20(view\x20*\x20'+'aPosition)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vViewDir\x20='+'\x20aPosition'+'.xyz\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20//\x20for\x20in'+'finite\x20sky'+'box,\x20use\x20n'+'egative\x20gl'+'_Position.'+'w\x20to\x20get\x20p'+'ositive\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vLinear'+'Depth\x20=\x20-g'+'l_Position'+'.w;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20Fo'+'rce\x20skybox'+'\x20to\x20far\x20Z,'+'\x20regardles'+'s\x20of\x20the\x20c'+'lip\x20planes'+'\x20on\x20the\x20ca'+'mera\x0a\x20\x20\x20\x20/'+'/\x20Subtract'+'\x20a\x20tiny\x20fu'+'dge\x20factor'+'\x20to\x20ensure'+'\x20floating\x20'+'point\x20erro'+'rs\x20don\x27t\x0a\x20'+'\x20\x20\x20//\x20stil'+'l\x20push\x20pix'+'els\x20beyond'+'\x20far\x20Z.\x20Se'+'e:\x0a\x20\x20\x20\x20//\x20'+'https://co'+'mmunity.kh'+'ronos.org/'+'t/skybox-p'+'roblem/618'+'57\x0a\x0a\x20\x20\x20\x20gl'+'_Position.'+'z\x20=\x20gl_Pos'+'ition.w\x20-\x20'+'1.0e-7;\x0a}\x0a'),w2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0auniform\x20v'+'ec3\x20materi'+'al_specula'+'r;\x0a#endif\x0a'+'\x0avoid\x20getS'+'pecularity'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20specul'+'arColor\x20=\x20'+'vec3(1,1,1'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20specularC'+'olor\x20*=\x20ma'+'terial_spe'+'cular;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'AR_TEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_SPECULAR_'+'TEXTURE_NA'+'ME},\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20textureB'+'ias)).{STD'+'_SPECULAR_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SPECU'+'LAR_VERTEX'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_S'+'PECULAR_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20spe'+'cularColor'+';\x0a}\x0a',E2='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'2\x20toSpheri'+'calUv(vec3'+'\x20dir)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PI\x20=\x203'+'.141592653'+'589793;\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20toSpheri'+'cal(dir)\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+';\x0a}\x0a',b2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_specula'+'rityFactor'+';\x0a#endif\x0a\x0a'+'void\x20getSp'+'ecularityF'+'actor()\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'specularit'+'yFactor\x20=\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULARI'+'TYFACTOR_C'+'ONSTANT\x0a\x20\x20'+'\x20\x20specular'+'ityFactor\x20'+'*=\x20materia'+'l_specular'+'ityFactor;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20t'+'exture2DBi'+'as({STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE_NAME},'+'\x20{STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_VERT'+'EX\x0a\x20\x20\x20\x20spe'+'cularityFa'+'ctor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SPECU'+'LARITYFACT'+'OR_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dSp'+'ecularityF'+'actor\x20=\x20sp'+'ecularityF'+'actor;\x0a}\x0a',A2='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',C2='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2(vUv0.'+'x,\x201.0\x20-\x20v'+'Uv0.y);\x0a',P2='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',M2='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20float\x20dAl'+'pha\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_o'+'pacityMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20global'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dAlbe'+'do;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dSpeculari'+'ty\x20=\x20vec3('+'0.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dGlossines'+'s\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20dT'+'ransmissio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dThicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SC'+'ENE_COLOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'uSceneColo'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SCREEN_SI'+'ZE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20uS'+'creenSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_TRAN'+'SFORMS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20matrix_v'+'iewProject'+'ion;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_mod'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20parallax\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20dUv'+'Offset;\x0a\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_he'+'ightMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20diffu'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20tex'+'ture_diffu'+'seMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_diffuseDe'+'tailMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_normal'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'NORMALDETA'+'IL_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_no'+'rmalDetail'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20refracti'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_THICKNES'+'S_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_thi'+'cknessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_REFRA'+'CTION_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_refractio'+'nMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20iridesc'+'ence\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_IRIDES'+'CENCE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20dIride'+'scence;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dIri'+'descenceTh')+('ickness;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_irides'+'cenceThick'+'nessMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_iridesce'+'nceMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20ccNorm'+'alW;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dAnisotro'+'py;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20&\x20glossin'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_OR_REFLE'+'CTION\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20sheen\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20sGloss'+'iness;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SHEEN'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_sheenM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_sh'+'eenGlossMa')+('p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20metalness'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dMet'+'alness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dIor;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_met'+'alnessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20dSpecula'+'rityFactor'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_speculari'+'tyFactorMa'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20specular\x20'+'color\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_specula'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20gloss\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_gl'+'ossMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dAo'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_aoM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_aoDeta'+'ilMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dEmis'+'sion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_EMISS'+'IVE_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_e'+'missiveMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'learcoat\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'EARCOAT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatG'+'lossMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'NORMAL_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_clea'+'rCoatNorma'+'lMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'anisotropy'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde')+('f\x20STD_ANIS'+'OTROPY_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_anis'+'otropyMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dLightma'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_LIGH'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_lightMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20front\x20'+'end\x20output'+'s\x20to\x20lit\x20s'+'hader\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'litShaderC'+'orePS\x22\x0a'),D2='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20voi'+'d\x20getSpecu'+'larity()\x20{'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20vec'+'3(1);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20g'+'loss\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22glo'+'ssPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20ao\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'aoPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'emissivePS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO')+('AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22clear'+'CoatPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatG'+'lossPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatN'+'ormalPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20anis'+'otropy\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ani'+'sotropyPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(STD'+'_LIGHTMAP)'+'\x20||\x20define'+'d(STD_LIGH'+'T_VERTEX_C'+'OLOR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20void\x20eval'+'uateFronte'+'nd()\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIT'+'_BLEND_TYP'+'E\x20!=\x20NONE\x20'+'||\x20defined'+'(LIT_ALPHA'+'_TEST)\x20||\x20'+'defined(LI'+'T_ALPHA_TO'+'_COVERAGE)'+'\x20||\x20STD_OP'+'ACITY_DITH'+'ER\x20!=\x20NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getOpac'+'ity();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_ALPH'+'A_TEST)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alphaT'+'est(dAlpha'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(dAlp'+'ha,\x200.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'opacity\x20=\x20'+'dAlpha;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20pa'+'rallax\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'HEIGHT_MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Parallax()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Albedo();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20d'+'Albedo;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20normal'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getNorm'+'al();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'worldNorma'+'l\x20=\x20dNorma'+'lW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_REFRACT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getRefract'+'ion();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_transmiss'+'ion\x20=\x20dTra'+'nsmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tThickness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_th'+'ickness\x20=\x20'+'dThickness'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_d'+'ispersion\x20'+'=\x20material'+'_dispersio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20iridescen'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_IRID'+'ESCENCE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getIri'+'descence()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tIridescen'+'ceThicknes'+'s();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_i'+'ridescence'+'_intensity'+'\x20=\x20dIrides'+'cence;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_iridescen'+'ce_thickne'+'ss\x20=\x20dIrid'+'escenceThi'+'ckness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('//\x20specula'+'rity\x20&\x20glo'+'ssiness\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR_'+'OR_REFLECT'+'ION\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getShee'+'n();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_sheen_s'+'pecularity'+'\x20=\x20sSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'SheenGloss'+'iness();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_she'+'en_gloss\x20='+'\x20sGlossine'+'ss;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20met'+'alness\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getMet'+'alness();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_me'+'talness\x20=\x20'+'dMetalness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getIor()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior\x20=\x20dIor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20specu'+'larity\x20fac'+'tor\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rityFactor'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ityFactor\x20'+'=\x20dSpecula'+'rityFactor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20gloss'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rity();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20dSpe'+'cularity;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss\x20'+'=\x20dGlossin')+('ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getAO'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ao'+'\x20=\x20dAo;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getEmi'+'ssion();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_e'+'mission\x20=\x20'+'dEmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cle'+'arcoat\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getC'+'learCoat()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tClearCoat'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getClearCo'+'atNormal()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20=\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_g'+'loss\x20=\x20ccG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_clear'+'coat_world'+'Normal\x20=\x20c'+'cNormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20aniso'+'tropy\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x20&&\x20def'+'ined(LIT_L'+'IGHTING)\x20&'+'&\x20defined('+'LIT_GGX_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getAni'+'sotropy();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20ligh'+'tmap\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(S'+'TD_LIGHTMA'+'P)\x20||\x20defi'+'ned(STD_LI'+'GHT_VERTEX'+'_COLOR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htMap();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_lightma'+'p\x20=\x20dLight'+'map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_lightm'+'apDir\x20=\x20dL'+'ightmapDir'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a'),I2='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20tbnBasis'+';\x0a#endif\x0a\x0a'+'void\x20getTB'+'N(vec3\x20tan'+'gent,\x20vec3'+'\x20binormal,'+'\x20vec3\x20norm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TB'+'N_TANGENTS'+'\x20//\x20tangen'+'ts\x20/\x20binor'+'mals\x20based'+'\x20TBN\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(tang'+'ent),\x20norm'+'alize(bino'+'rmal),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(TBN_'+'DERIVATIVE'+'S)\x20//\x20deri'+'vatives\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20{li'+'ghtingUv};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20get\x20edg'+'e\x20vectors\x20'+'of\x20the\x20pix'+'el\x20triangl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dp1\x20='+'\x20dFdx(\x20vPo'+'sitionW\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dp2\x20=\x20'+'dFdy(\x20vPos'+'itionW\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20duv2\x20'+'=\x20dFdy(\x20uv'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20solv'+'e\x20the\x20line'+'ar\x20system\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20dp2perp'+'\x20=\x20cross(\x20'+'dp2,\x20norma'+'l\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dp'+'1perp\x20=\x20cr'+'oss(\x20norma'+'l,\x20dp1\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+'dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+('ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'nom\x20=\x20max('+'\x20dot(T,T),'+'\x20dot(B,B)\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20inv'+'max\x20=\x20(den'+'om\x20==\x200.0)'+'\x20?\x200.0\x20:\x20t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20object'+'\x20space\x20TBN'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20B\x20=\x20c'+'ross(norma'+'l,\x20vObject'+'SpaceUpW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20T\x20=\x20cr'+'oss(normal'+',\x20B);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(d'+'ot(B,B)==0'+'.0)\x20//\x20dea'+'l\x20with\x20cas'+'e\x20when\x20vOb'+'jectSpaceU'+'pW\x20normal\x20'+'are\x20parall'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20major=max'+'(max(norma'+'l.x,\x20norma'+'l.y),\x20norm'+'al.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(normal'+'.x\x20==\x20majo'+'r)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20B\x20=\x20cro'+'ss(normal,'+'\x20vec3(0,1,'+'0));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20T\x20=\x20cross'+'(normal,\x20B'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x20if\x20(no'+'rmal.y\x20==\x20'+'major)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B\x20='+'\x20cross(nor'+'mal,\x20vec3('+'0,0,1));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20if'+'\x20(normal.z'+'\x20==\x20major)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20B\x20=\x20cross'+'(normal,\x20v'+'ec3(1,0,0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(T),\x20'+'normalize('+'B),\x20normal'+'ize(normal'+'));\x0a\x0a\x20\x20\x20\x20#')+'endif\x0a}\x0a',L2='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_thickn'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tThickness'+'()\x20{\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_THICKNE'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dThi'+'ckness\x20*=\x20'+'material_t'+'hickness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_THI'+'CKNESS_TEX'+'TURE\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20texture'+'2DBias({ST'+'D_THICKNES'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_THICKNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_TH'+'ICKNESS_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',R2='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',O2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',F2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',N2='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',k2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',U2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',B2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',z2='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',V2='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sc'+'reenPos\x20=\x20'+'vec4(verte'+'x_texCoord'+'1.xy\x20*\x202.0'+'\x20-\x201.0,\x200.'+'5,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20WEBGPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20SCREENSP'+'ACE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.y\x20*='+'\x20projectio'+'nFlipY;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PIX'+'ELSNAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20snap\x20ver'+'tex\x20to\x20a\x20p'+'ixel\x20bound'+'ary\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x200.5'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.xy\x20*=\x20uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'ScreenSize'+'.zw;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x202.'+'0)\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}')+('\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),G2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifdef\x20MORP'+'HING\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20morph_te'+'x_params;\x0a'+'\x20\x20\x20\x20attrib'+'ute\x20uint\x20m'+'orph_verte'+'x_id;\x0a\x0a\x20\x20\x20'+'\x20ivec2\x20get'+'TextureMor'+'phCoords()'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20turn\x20'+'morph_vert'+'ex_id\x20into'+'\x20int\x20grid\x20'+'coordinate'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ivec2\x20text'+'ureSize\x20=\x20'+'ivec2(morp'+'h_tex_para'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20mor'+'phGridV\x20=\x20'+'int(morph_'+'vertex_id)'+'\x20/\x20texture'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'morphGridU'+'\x20=\x20int(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20flipY\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20morphGrid'+'V\x20=\x20textur'+'eSize.y\x20-\x20'+'morphGridV'+'\x20-\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ivec'+'2(morphGri'+'dU,\x20morphG'+'ridV);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec3\x20aabb'+'Size;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'usampler2D'+'\x20morphPosi'+'tionTex;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20highp\x20s'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a#ifdef\x20de'+'fined(BATC'+'H)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ski'+'nBatchVS\x22\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getBon'+'eMatrix(ve'+'rtex_boneI'+'ndices);\x0a\x20'+'\x20\x20\x20}\x0a\x0a#eli'+'f\x20defined('+'SKIN)\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20get'+'SkinMatrix'+'(vertex_bo'+'neIndices,'+'\x20vertex_bo'+'neWeights)'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'elif\x20defin'+'ed(INSTANC'+'ING)\x0a\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'transformI'+'nstancingV'+'S\x22\x0a\x0a#else\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20matrix'+'_model;\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tLocalPosi'+'tion(vec3\x20'+'vertexPosi'+'tion)\x20{\x0a\x0a\x20'+'\x20\x20\x20vec3\x20lo'+'calPos\x20=\x20v'+'ertexPosit'+'ion;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'morphUV\x20=\x20'+'getTexture'+'MorphCoord'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPHING_'+'INT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20vec3(tex'+'elFetch(mo'+'rphPositio'+'nTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x20aabbSize'+'\x20+\x20aabbMin'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphPo'+'s\x20=\x20texelF'+'etch(morph'+'PositionTe'+'x,\x20ivec2(m'+'orphUV),\x200'+').xyz;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20localPos\x20'+'+=\x20morphPo'+'s;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20loc'+'alPos;\x0a}\x0a\x0a'),H2='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',W2='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_refr'+'action;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getRefrac'+'tion()\x20{\x0a\x20'+'\x20\x20\x20float\x20r'+'efraction\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_RE'+'FRACTION_T'+'EXTURE\x0a\x20\x20\x20'+'\x20refractio'+'n\x20*=\x20textu'+'re2DBias({'+'STD_REFRAC'+'TION_TEXTU'+'RE_NAME},\x20'+'{STD_REFRA'+'CTION_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_REF'+'RACTION_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_VERTEX'+'\x0a\x20\x20\x20\x20refra'+'ction\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_REFR'+'ACTION_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dTransmis'+'sion\x20=\x20ref'+'raction;\x0a}'+'\x0a',$2='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',X2='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20vec2\x20ge'+'tUv0()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20ver'+'tex_positi'+'on.xz;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20o'+'ffset\x20inne'+'r\x20vertices'+'\x20inside\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20('+'original\x20v'+'ertices\x20mu'+'st\x20be\x20in\x20['+'-1;1]\x20rang'+'e)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20n'+'egativeUni'+'tOffset\x20=\x20'+'clamp(-ver'+'tex_positi'+'on.xz,\x20vec'+'2(0.0),\x20ve'+'c2(1.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20-0.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20atlasRe'+'ct.zw\x20+\x20at'+'lasRect.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uv;\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20vec2'+'\x20getUv0()\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a',q2='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',j2='\x0avUV{TRANS'+'FORM_UV_{i'+'}}_{TRANSF'+'ORM_ID_{i}'+'}\x20=\x20vec2(\x0a'+'\x20\x20\x20\x20dot(ve'+'c3(uv{TRAN'+'SFORM_UV_{'+'i}},\x201),\x20{'+'TRANSFORM_'+'NAME_{i}}0'+'),\x0a\x20\x20\x20\x20dot'+'(vec3(uv{T'+'RANSFORM_U'+'V_{i}},\x201)'+',\x20{TRANSFO'+'RM_NAME_{i'+'}}1)\x0a);\x0a',Y2='\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}0;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}1;'+'\x0a',K2='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',Z2={'alphaTestPS':YC,'ambientPS':KC,'anisotropyPS':ZC,'aoPS':QC,'aoDiffuseOccPS':JC,'aoSpecOccPS':e1,'bakeDirLmEndPS':t1,'bakeLmEndPS':s1,'basePS':i1,'baseNineSlicedPS':r1,'baseNineSlicedTiledPS':a1,'bayerPS':n1,'blurVSMPS':o1,'clearCoatPS':l1,'clearCoatGlossPS':c1,'clearCoatNormalPS':h1,'clusteredLightCookiesPS':f1,'clusteredLightShadowsPS':u1,'clusteredLightUtilsPS':d1,'clusteredLightPS':p1,'combinePS':m1,'cookieBlit2DPS':_1,'cookieBlitCubePS':g1,'cookieBlitVS':S1,'cookiePS':y1,'cubeMapProjectPS':v1,'cubeMapRotatePS':x1,'debugOutputPS':T1,'debugProcessFrontendPS':w1,'detailModesPS':b1,'diffusePS':A1,'decodePS':E1,'emissivePS':C1,'encodePS':P1,'endPS':M1,'envAtlasPS':D1,'envProcPS':I1,'falloffInvSquaredPS':L1,'falloffLinearPS':R1,'floatAsUintPS':O1,'fogPS':F1,'fresnelSchlickPS':N1,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':k1,'gammaPS':U1,'gles3PS':Vy,'gles3VS':Gy,'glossPS':B1,'gsplatCenterVS':z1,'gsplatCornerVS':K1,'gsplatColorVS':V1,'gsplatCommonVS':G1,'gsplatCompressedDataVS':H1,'gsplatCompressedSHVS':W1,'gsplatEvalSHVS':$1,'gsplatQuatToMat3VS':X1,'gsplatSogsColorVS':q1,'gsplatSogsDataVS':j1,'gsplatSogsSHVS':Y1,'gsplatDataVS':Z1,'gsplatOutputVS':Q1,'gsplatPS':J1,'gsplatSHVS':eP,'gsplatSourceVS':tP,'gsplatVS':sP,'quadVS':iP,'immediateLinePS':rP,'immediateLineVS':aP,'iridescenceDiffractionPS':nP,'iridescencePS':oP,'iridescenceThicknessPS':lP,'iorPS':cP,'lightDeclarationPS':hP,'lightDiffuseLambertPS':dP,'lightDirPointPS':fP,'lightEvaluationPS':uP,'lightFunctionLightPS':pP,'lightFunctionShadowPS':mP,'lightingPS':_P,'lightmapAddPS':gP,'lightmapPS':SP,'lightSpecularAnisoGGXPS':yP,'lightSpecularBlinnPS':vP,'lightSheenPS':xP,'linearizeDepthPS':TP,'litForwardBackendPS':wP,'litForwardDeclarationPS':EP,'litForwardMainPS':bP,'litForwardPostCodePS':AP,'litForwardPreCodePS':CP,'litMainPS':PP,'litMainVS':MP,'litOtherMainPS':DP,'litShaderArgsPS':IP,'litShaderCorePS':LP,'litShadowMainPS':RP,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':OP,'metalnessPS':FP,'metalnessModulatePS':kP,'morphPS':UP,'morphVS':BP,'msdfPS':NP,'msdfVS':zP,'normalVS':VP,'normalCoreVS':GP,'normalMapPS':HP,'opacityPS':WP,'opacityDitherPS':$P,'outputPS':XP,'outputAlphaPS':qP,'outputTex2DPS':jP,'sheenPS':YP,'sheenGlossPS':KP,'parallaxPS':ZP,'pickPS':QP,'reflDirPS':JP,'reflDirAnisoPS':e2,'reflectionCCPS':t2,'reflectionCubePS':s2,'reflectionEnvHQPS':i2,'reflectionEnvPS':r2,'reflectionSpherePS':a2,'reflectionSheenPS':n2,'refractionCubePS':o2,'refractionDynamicPS':l2,'reprojectPS':c2,'reprojectVS':h2,'screenDepthPS':d2,'shadowCascadesPS':f2,'shadowEVSMPS':u2,'shadowPCF1PS':p2,'shadowPCF3PS':m2,'shadowPCF5PS':_2,'shadowPCSSPS':g2,'shadowSoftPS':S2,'skinBatchVS':y2,'skinVS':v2,'skyboxPS':x2,'skyboxVS':T2,'specularPS':w2,'sphericalPS':E2,'specularityFactorPS':b2,'spotPS':A2,'startNineSlicedPS':C2,'startNineSlicedTiledPS':P2,'stdDeclarationPS':M2,'stdFrontEndPS':D2,'TBNPS':I2,'thicknessPS':L2,'tonemappingPS':R2,'tonemappingAcesPS':O2,'tonemappingAces2PS':F2,'tonemappingFilmicPS':N2,'tonemappingHejlPS':k2,'tonemappingLinearPS':U2,'tonemappingNeutralPS':B2,'tonemappingNonePS':z2,'transformVS':V2,'transformCoreVS':G2,'transformInstancingVS':H2,'transmissionPS':W2,'twoSidedLightingPS':$2,'uv0VS':X2,'uv1VS':q2,'uvTransformVS':j2,'uvTransformUniformsPS':Y2,'viewDirPS':K2,'webgpuPS':Hy,'webgpuVS':Wy},Q2='\x0auniform\x20a'+'lpha_ref:\x20'+'f32;\x0a\x0afn\x20a'+'lphaTest(a'+':\x20f32)\x20{\x0a\x20'+'\x20\x20\x20if\x20(a\x20<'+'\x20uniform.a'+'lpha_ref)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',J2='\x0a\x0a#if\x20LIT_'+'AMBIENT_SO'+'URCE\x20==\x20AM'+'BIENTSH\x0a\x20\x20'+'\x20\x20uniform\x20'+'ambientSH:'+'\x20array<vec'+'3f,\x209>;\x0a#e'+'ndif\x0a\x0a#if\x20'+'LIT_AMBIEN'+'T_SOURCE\x20='+'=\x20ENVALATL'+'AS\x0a\x20\x20\x20\x20#in'+'clude\x20\x22env'+'AtlasPS\x22\x0a\x0a'+'\x20\x20\x20\x20#ifnde'+'f\x20ENV_ATLA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_en'+'vAtlas:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_envAt'+'lasSampler'+':\x20sampler;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'fn\x20addAmbi'+'ent(worldN'+'ormal:\x20vec'+'3f)\x20{\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20A'+'MBIENTSH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20n:\x20vec3f'+'\x20=\x20cubeMap'+'Rotate(wor'+'ldNormal);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20color:\x20'+'vec3f\x20=\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[0]'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[1]\x20*\x20n.'+'x\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm.ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form.ambie'+'ntSH[3]\x20*\x20'+'n.z\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform.ambi'+'entSH[4]\x20*'+'\x20n.x\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[5]\x20*\x20n.'+'z\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform.'+'ambientSH['+'6]\x20*\x20n.y\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform.amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[8]'+'\x20*\x20(n.x\x20*\x20'+'n.x\x20-\x20n.y\x20'+'*\x20n.y);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20proces'+'sEnvironme'+'nt(max(col'+'or,\x20vec3f('+'0.0)));\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+('\x20ENVALATLA'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3f(-1.0,\x201'+'.0,\x201.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20mapUv'+'(toSpheric'+'alUv(dir),'+'\x20vec4f(128'+'.0,\x20256.0\x20'+'+\x20128.0,\x206'+'4.0,\x2032.0)'+'\x20/\x20atlasSi'+'ze);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20ra'+'w:\x20vec4f\x20='+'\x20textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20uv'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20linea'+'r:\x20vec3f\x20='+'\x20{ambientD'+'ecode}(raw'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(lin'+'ear);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20C'+'ONSTANT\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20unifor'+'m.light_gl'+'obalAmbien'+'t;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),eM='\x0a#ifdef\x20LI'+'T_GGX_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_anis'+'otropyInte'+'nsity:\x20f32'+';\x0a\x20\x20\x20\x20unif'+'orm\x20materi'+'al_anisotr'+'opyRotatio'+'n:\x20vec2f;\x0a'+'#endif\x0a\x0afn'+'\x20getAnisot'+'ropy()\x20{\x0a\x20'+'\x20\x20\x20dAnisot'+'ropy\x20=\x200.0'+';\x0a\x20\x20\x20\x20dAni'+'sotropyRot'+'ation\x20=\x20ve'+'c2f(1.0,\x200'+'.0);\x0a\x0a#ifd'+'ef\x20LIT_GGX'+'_SPECULAR\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20=\x20un'+'iform.mate'+'rial_aniso'+'tropyInten'+'sity;\x0a\x20\x20\x20\x20'+'dAnisotrop'+'yRotation\x20'+'=\x20uniform.'+'material_a'+'nisotropyR'+'otation;\x0a#'+'endif\x0a\x0a#if'+'def\x20STD_AN'+'ISOTROPY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyTex:\x20'+'vec3f\x20=\x20te'+'xtureSampl'+'eBias({STD'+'_ANISOTROP'+'Y_TEXTURE_'+'NAME},\x20{ST'+'D_ANISOTRO'+'PY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'ANISOTROPY'+'_TEXTURE_U'+'V},\x20unifor'+'m.textureB'+'ias).rgb;\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20*=\x20a'+'nisotropyT'+'ex.b;\x0a\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyRotat'+'ionFromTex'+':\x20vec2f\x20=\x20'+'anisotropy'+'Tex.rg\x20*\x202'+'.0\x20-\x20vec2f'+'(1.0);\x0a\x20\x20\x20'+'\x20let\x20rotat'+'ionMatrix:'+'\x20mat2x2f\x20='+'\x20mat2x2f(d'+'Anisotropy'+'Rotation.x'+',\x20dAnisotr'+'opyRotatio'+'n.y,\x20-dAni'+'sotropyRot'+'ation.y,\x20d'+'Anisotropy'+'Rotation.x'+');\x0a\x20\x20\x20\x20dAn'+'isotropyRo'+'tation\x20=\x20r'+'otationMat'+'rix\x20*\x20anis'+'otropyRota'+'tionFromTe'+'x;\x0a#endif\x0a'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20c'+'lamp(dAnis'+'otropy,\x200.'+'0,\x201.0);\x0a}'+'\x0a',tM='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_aoI'+'ntensity:\x20'+'f32;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_AODETA'+'IL_TEXTURE'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22detai'+'lModesPS\x22\x0a'+'#endif\x0a\x0afn'+'\x20getAO()\x20{'+'\x0a\x20\x20\x20\x20dAo\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20aoBas'+'e:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_AO_TEXTU'+'RE_NAME},\x20'+'{STD_AO_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AO_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_AO_'+'TEXTURE_CH'+'ANNEL};\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_AO'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20aoDetail:'+'\x20f32\x20=\x20tex'+'tureSample'+'Bias({STD_'+'AODETAIL_T'+'EXTURE_NAM'+'E},\x20{STD_A'+'ODETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AODET'+'AIL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_AODETAI'+'L_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20aoBase\x20='+'\x20detailMod'+'e_{STD_AOD'+'ETAIL_DETA'+'ILMODE}(ve'+'c3f(aoBase'+'),\x20vec3f(a'+'oDetail)).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dAo'+'\x20=\x20dAo\x20*\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20=\x20dA'+'o\x20*\x20satura'+'te(vVertex'+'Color.{STD'+'_AO_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'STD_AO_TEX'+'TURE)\x20||\x20d'+'efined(STD'+'_AO_VERTEX'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'uniform.ma'+'terial_aoI'+'ntensity);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',sM='\x0afn\x20occlud'+'eDiffuse(a'+'o:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20ao;\x0a'+'}\x0a',iM='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'aterial_oc'+'cludeSpecu'+'larIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0afn'+'\x20occludeSp'+'ecular(glo'+'ss:\x20f32,\x20a'+'o:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f)\x20{\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20==\x20A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_OCCLUDE_S'+'PECULAR_FL'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'specOcc:\x20f'+'32\x20=\x20mix(1'+'.0,\x20ao,\x20un'+'iform.mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specOcc:'+'\x20f32\x20=\x20ao;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'GLOSSDEPEN'+'DENT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'roximated\x20'+'specular\x20o'+'cclusion\x20f'+'rom\x20AO\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ht'+'tp://resea'+'rch.tri-ac'+'e.com/Data'+'/cedec2011'+'_RealtimeP'+'BR_Impleme'+'ntation_e.'+'pptx\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20spe'+'cPow:\x20f32\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20specOc'+'c:\x20f32\x20=\x20s'+'aturate(po'+'w(dot(worl'+'dNormal,\x20v'+'iewDir)\x20+\x20'+'ao,\x200.01\x20*'+'\x20specPow)\x20'+'-\x201.0\x20+\x20ao'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_OCCLUDE'+'_SPECULAR_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecOcc\x20=\x20mi'+'x(1.0,\x20spe'+'cOcc,\x20unif'+'orm.materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20*\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20dRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'*\x20specOcc;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sReflec'+'tion\x20=\x20sRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a'),rM='\x0a\x20\x20\x20\x20let\x20d'+'irLm\x20=\x20tex'+'tureSample'+'(texture_d'+'irLightMap'+',\x20texture_'+'dirLightMa'+'pSampler,\x20'+'vUv1);\x0a\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.bakeDi'+'r\x20>\x200.5)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(dAtten\x20'+'>\x200.00001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'npacked_di'+'r\x20=\x20dirLm.'+'xyz\x20*\x202.0\x20'+'-\x20vec3f(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x20clamp'+'(dAtten,\x200'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20comb'+'ined_dir\x20='+'\x20dLightDir'+'NormW.xyz\x20'+'*\x20dAtten\x20+'+'\x20unpacked_'+'dir\x20*\x20dirL'+'m.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20finalRgb\x20'+'=\x20normaliz'+'e(combined'+'_dir)\x20*\x200.'+'5\x20+\x20vec3f('+'0.5);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20finalA\x20='+'\x20max(dirLm'+'.w\x20+\x20dAtte'+'n,\x201.0\x20/\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalRgb,\x20'+'finalA);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20dirLm;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20alpha'+'_min\x20=\x20sel'+'ect(0.0,\x201'+'.0\x20/\x20255.0'+',\x20dAtten\x20>'+'\x200.00001);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20finalA\x20'+'=\x20max(dirL'+'m.w,\x20alpha'+'_min);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(dirL'+'m.rgb,\x20fin'+'alA);\x0a\x20\x20\x20\x20'+'}\x0a',aM='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'uniform.am'+'bientBakeO'+'cclusionCo'+'ntrast\x20+\x201'+'.0,\x200.0))\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20vec3f(u'+'niform.amb'+'ientBakeOc'+'clusionBri'+'ghtness);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'saturate3('+'dDiffuseLi'+'ght);\x0a\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20=\x20dDif'+'fuseLight\x20'+'*\x20dAmbient'+'Light;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIGHTMAP'+'_RGBM\x0a\x20\x20\x20\x20'+'//\x20encode\x20'+'to\x20RGBM\x0a\x20\x20'+'\x20\x20var\x20temp'+'_color_rgb'+'m\x20=\x20vec4f('+'dDiffuseLi'+'ght,\x201.0);'+'\x0a\x20\x20\x20\x20temp_'+'color_rgbm'+'\x20=\x20vec4f(p'+'ow(temp_co'+'lor_rgbm.r'+'gb,\x20vec3f('+'0.5)),\x20tem'+'p_color_rg'+'bm.a);\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+'color_rgbm'+'.rgb\x20/\x208.0'+',\x20temp_col'+'or_rgbm.a)'+';\x0a\x20\x20\x20\x20let\x20'+'max_g_b\x20=\x20'+'max(temp_c'+'olor_rgbm.'+'g,\x20max(tem'+'p_color_rg'+'bm.b,\x201.0\x20'+'/\x20255.0));'+'\x0a\x20\x20\x20\x20let\x20m'+'ax_rgb\x20=\x20m'+'ax(temp_co'+'lor_rgbm.r'+',\x20max_g_b)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20ceil'+'(temp_colo'+'r_rgbm.a\x20*'+'\x20255.0)\x20/\x20'+'255.0;\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+('color_rgbm'+'.rgb\x20/\x20tem'+'p_color_rg'+'bm.a,\x20temp'+'_color_rgb'+'m.a);\x0a\x20\x20\x20\x20'+'output.col'+'or\x20=\x20temp_'+'color_rgbm'+';\x0a#else\x0a\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20vec'+'4f(dDiffus'+'eLight,\x201.'+'0);\x0a#endif'+'\x0a'),nM='\x0auniform\x20v'+'iew_positi'+'on:\x20vec3f;'+'\x0a\x0auniform\x20'+'light_glob'+'alAmbient:'+'\x20vec3f;\x0a\x0af'+'n\x20square(x'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20x*x'+';\x0a}\x0a\x0afn\x20sa'+'turate(x:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0afn'+'\x20saturate3'+'(x:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3f(0.'+'0),\x20vec3f('+'1.0));\x0a}\x0a',oM='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'Mask:\x20vec2'+'f;\x0avarying'+'\x20vTiledUv:'+'\x20vec2f;\x0a\x0au'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0auni'+'form\x20outer'+'Scale:\x20vec'+'2f;\x0aunifor'+'m\x20atlasRec'+'t:\x20vec4f;\x0a'+'\x0avar<priva'+'te>\x20nineSl'+'icedUv:\x20ve'+'c2f;\x0a',lM='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vMask:\x20v'+'ec2f;\x0avary'+'ing\x20vTiled'+'Uv:\x20vec2f;'+'\x0a\x0auniform\x20'+'innerOffse'+'t:\x20vec4f;\x0a'+'uniform\x20ou'+'terScale:\x20'+'vec2f;\x0auni'+'form\x20atlas'+'Rect:\x20vec4'+'f;\x0a\x0avar<pr'+'ivate>\x20nin'+'eSlicedUv:'+'\x20vec2f;\x0a',cM='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afn\x20bay'+'er2(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(2.0\x20*'+'\x20p.y\x20+\x20p.x'+'\x20+\x201.0)\x20%\x20'+'4.0;\x0a}\x0a\x0a//'+'\x204x4\x20matri'+'x,\x20p\x20-\x20pix'+'el\x20coordin'+'ate\x0afn\x20bay'+'er4(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20p1:\x20vec2f'+'\x20=\x20p\x20%\x20vec'+'2f(2.0);\x0a\x20'+'\x20\x20\x20let\x20p2:'+'\x20vec2f\x20=\x20f'+'loor(0.5\x20*'+'\x20(p\x20%\x20vec2'+'f(4.0)));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afn\x20bayer8'+'(p:\x20vec2f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20p1'+':\x20vec2f\x20=\x20'+'p\x20%\x20vec2f('+'2.0);\x0a\x20\x20\x20\x20'+'let\x20p2:\x20ve'+'c2f\x20=\x20floo'+'r(0.5\x20*\x20(p'+'\x20%\x20vec2f(4'+'.0)));\x0a\x20\x20\x20'+'\x20let\x20p4:\x20v'+'ec2f\x20=\x20flo'+'or(0.25\x20*\x20'+'(p\x20%\x20vec2f'+'(8.0)));\x0a\x20'+'\x20\x20\x20return\x20'+'4.0\x20*\x20(4.0'+'\x20*\x20bayer2('+'p1)\x20+\x20baye'+'r2(p2))\x20+\x20'+'bayer2(p4)'+';\x0a}\x0a',hM='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20sou'+'rce:\x20textu'+'re_2d<f32>'+';\x0avar\x20sour'+'ceSampler:'+'\x20sampler;\x0a'+'\x0a#ifdef\x20GA'+'USS\x0a\x20\x20\x20\x20un'+'iform\x20weig'+'ht:\x20array<'+'f32,\x20{SAMP'+'LES}>;\x0a#en'+'dif\x0aunifor'+'m\x20pixelOff'+'set:\x20vec2f'+';\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20var'+'\x20moments:\x20'+'vec3f\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20let\x20uv'+':\x20vec2f\x20=\x20'+'input.vUv0'+'\x20-\x20uniform'+'.pixelOffs'+'et\x20*\x20(f32('+'{SAMPLES})'+'\x20*\x200.5);\x0a\x0a'+'\x20\x20\x20\x20for\x20(v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20{'+'SAMPLES};\x20'+'i\x20=\x20i\x20+\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20c:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'source,\x20so'+'urceSample'+'r,\x20uv\x20+\x20un'+'iform.pixe'+'lOffset\x20*\x20'+'f32(i));\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20moments'+'\x20=\x20moments'+'\x20+\x20c.xyz\x20*'+'\x20uniform.w'+'eight[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20=\x20moment'+'s\x20+\x20c.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'oments\x20=\x20m'+'oments\x20*\x20('+'1.0\x20/\x20f32('+'{SAMPLES})'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'moments,\x201'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a',dM='\x0auniform\x20m'+'aterial_cl'+'earCoat:\x20f'+'32;\x0a\x0afn\x20ge'+'tClearCoat'+'()\x20{\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20=\x20unifo'+'rm.materia'+'l_clearCoa'+'t;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_C'+'LEARCOAT_T'+'EXTURE\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20=\x20ccS'+'pecularity'+'\x20*\x20texture'+'SampleBias'+'({STD_CLEA'+'RCOAT_TEXT'+'URE_NAME},'+'\x20{STD_CLEA'+'RCOAT_TEXT'+'URE_NAME}S'+'ampler,\x20{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_CLE'+'ARCOAT_VER'+'TEX\x0a\x20\x20\x20\x20cc'+'Specularit'+'y\x20=\x20ccSpec'+'ularity\x20*\x20'+'saturate(v'+'VertexColo'+'r.{STD_CLE'+'ARCOAT_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a',fM='\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_clearCoa'+'tGloss:\x20f3'+'2;\x0a\x0afn\x20get'+'ClearCoatG'+'lossiness('+')\x20{\x0a\x20\x20\x20\x20cc'+'Glossiness'+'\x20=\x20uniform'+'.material_'+'clearCoatG'+'loss;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE_NAME}'+',\x20{STD_CLE'+'ARCOATGLOS'+'S_TEXTURE_'+'NAME}Sampl'+'er,\x20{STD_C'+'LEARCOATGL'+'OSS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_CLEA'+'RCOATGLOSS'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_INVERT\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20=\x201.0'+'\x20-\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20ccGloss'+'iness\x20+=\x200'+'.0000001;\x0a'+'}\x0a',uM='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_cle'+'arCoatBump'+'iness:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getClea'+'rCoatNorma'+'l()\x20{\x0a#ifd'+'ef\x20STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'\x0a\x20\x20\x20\x20var\x20n'+'ormalMap:\x20'+'vec3f\x20=\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_DEC'+'ODE}(textu'+'reSampleBi'+'as({STD_CL'+'EARCOATNOR'+'MAL_TEXTUR'+'E_NAME},\x20{'+'STD_CLEARC'+'OATNORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias));\x0a\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20mix(v'+'ec3f(0.0,\x20'+'0.0,\x201.0),'+'\x20normalMap'+',\x20uniform.'+'material_c'+'learCoatBu'+'mpiness);\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20norm'+'alize(dTBN'+'\x20*\x20normalM'+'ap);\x0a#else'+'\x0a\x20\x20\x20\x20ccNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a',pM='\x0astruct\x20Fa'+'ceCoords\x20{'+'\x0a\x20\x20\x20\x20uv:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Or'+'iginal\x20ret'+'urn\x20value\x0a'+'\x20\x20\x20\x20faceIn'+'dex:\x20f32,\x20'+'\x20\x20\x20//\x20Was\x20'+'out\x20parame'+'ter\x0a\x20\x20\x20\x20ti'+'leOffset:\x20'+'vec2f,\x20//\x20'+'Was\x20out\x20pa'+'rameter\x0a}\x0a'+'\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0afn\x20getC'+'ubemapFace'+'Coordinate'+'s(dir:\x20vec'+'3f)\x20->\x20Fac'+'eCoords\x20{\x0a'+'\x20\x20\x20\x20var\x20fa'+'ceIndex:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20tileOffs'+'et:\x20vec2f;'+'\x0a\x20\x20\x20\x20var\x20u'+'v:\x20vec2f;\x20'+'//\x20This\x20is'+'\x20the\x20face\x20'+'UV\x20[0..1]\x0a'+'\x20\x20\x20\x20let\x20vA'+'bs:\x20vec3f\x20'+'=\x20abs(dir)'+';\x0a\x20\x20\x20\x20var\x20'+'ma:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20if\x20(vA'+'bs.z\x20>=\x20vA'+'bs.x\x20&&\x20vA'+'bs.z\x20>=\x20vA'+'bs.y)\x20{\x20\x20\x20'+'//\x20front\x20/'+'\x20back\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20i'+'s_neg_z\x20=\x20'+'dir.z\x20<\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20faceIndex'+'\x20=\x20select('+'4.0,\x205.0,\x20'+'is_neg_z);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'a\x20=\x200.5\x20/\x20'+'vAbs.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv\x20='+'\x20vec2f(sel'+'ect(dir.x,'+'\x20-dir.x,\x20i'+'s_neg_z),\x20'+'-dir.y);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20til'+'eOffset\x20=\x20'+'vec2f(2.0,'+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_z));\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(vAbs'+'.y\x20>=\x20vAbs'+'.x)\x20{\x20\x20//\x20'+'top\x20index\x20'+'2,\x20bottom\x20'+'index\x203\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20is_neg_y\x20'+'=\x20dir.y\x20<\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20selec'+('t(2.0,\x203.0'+',\x20is_neg_y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2f(d'+'ir.x,\x20sele'+'ct(dir.z,\x20'+'-dir.z,\x20is'+'_neg_y));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ti'+'leOffset\x20='+'\x20vec2f(1.0'+',\x20select(0'+'.0,\x201.0,\x20i'+'s_neg_y));'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20is_'+'neg_x\x20=\x20di'+'r.x\x20<\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'aceIndex\x20='+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_x);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2f(selec'+'t(-dir.z,\x20'+'dir.z,\x20is_'+'neg_x),\x20-d'+'ir.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset\x20=\x20ve'+'c2f(0.0,\x20s'+'elect(0.0,'+'\x201.0,\x20is_n'+'eg_x));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv\x20*\x20m'+'a\x20+\x200.5;\x0a\x20'+'\x20\x20\x20return\x20'+'FaceCoords'+'(uv,\x20faceI'+'ndex,\x20tile'+'Offset);\x0a}'+'\x0a\x0a//\x20conve'+'rts\x20unnorm'+'alized\x20dir'+'ection\x20vec'+'tor\x20to\x20a\x20t'+'exture\x20coo'+'rdinate\x20fo'+'r\x20a\x20cubema'+'p\x20face\x20sto'+'red\x20within'+'\x20texture\x20a'+'tlas\x20descr'+'ibed\x20by\x20th'+'e\x20viewport'+'\x0afn\x20getCub'+'emapAtlasC'+'oordinates'+'(omniAtlas'+'Viewport:\x20'+'vec3f,\x20sha'+'dowEdgePix'+'els:\x20f32,\x20'+'shadowText'+'ureResolut'+'ion:\x20f32,\x20'+'dir:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20faceData'+':\x20FaceCoor'+'ds\x20=\x20getCu'+'bemapFaceC'+'oordinates'+'(dir);\x0a\x20\x20\x20'+'\x20var\x20uv:\x20v'+'ec2f\x20=\x20fac'+'eData.uv;\x0a'+'\x20\x20\x20\x20let\x20ti'+'leOffset:\x20'+'vec2f\x20=\x20fa'+'ceData.til'+'eOffset;\x0a\x0a'+'\x20\x20\x20\x20//\x20mov'+'e\x20uv\x20coord'+'inates\x20inw'+'ards\x20insid'+'e\x20to\x20compe'+'nsate\x20for\x20')+('larger\x20fov'+'\x20when\x20rend'+'ering\x20shad'+'ow\x20into\x20at'+'las\x0a\x20\x20\x20\x20le'+'t\x20atlasFac'+'eSize:\x20f32'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20le'+'t\x20tileSize'+':\x20f32\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20var\x20off'+'set:\x20f32\x20='+'\x20shadowEdg'+'ePixels\x20/\x20'+'tileSize;\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20*\x20(1.0\x20-'+'\x20offset\x20*\x20'+'2.0)\x20+\x20off'+'set;\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20='+'\x20uv\x20*\x20atla'+'sFaceSize;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x20into'+'\x20face\x20of\x20t'+'he\x20atlas\x20('+'3x3\x20grid)\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20+\x20tileOf'+'fset\x20*\x20atl'+'asFaceSize'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'offset\x20int'+'o\x20the\x20atla'+'s\x20viewport'+'\x0a\x20\x20\x20\x20uv\x20=\x20'+'uv\x20+\x20omniA'+'tlasViewpo'+'rt.xy;\x0a\x0a\x20\x20'+'\x20\x20return\x20u'+'v;\x0a}\x0a'),mM='\x0afn\x20_getCo'+'okieCluste'+'red(tex:\x20t'+'exture_2d<'+'f32>,\x20texS'+'ampler:\x20sa'+'mpler,\x20uv:'+'\x20vec2f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20pixel'+':\x20vec4f\x20=\x20'+'mix(vec4f('+'1.0),\x20text'+'ureSampleL'+'evel(tex,\x20'+'texSampler'+',\x20uv,\x200.0)'+',\x20intensit'+'y);\x0a\x20\x20\x20\x20le'+'t\x20isRgb:\x20b'+'ool\x20=\x20dot('+'cookieChan'+'nel.rgb,\x20v'+'ec3f(1.0))'+'\x20==\x203.0;\x0a\x20'+'\x20\x20\x20return\x20'+'select(vec'+'3f(dot(pix'+'el,\x20cookie'+'Channel)),'+'\x20pixel.rgb'+',\x20isRgb);\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0afn'+'\x20getCookie'+'2DClustere'+'d(tex:\x20tex'+'ture_2d<f3'+'2>,\x20texSam'+'pler:\x20samp'+'ler,\x20trans'+'form:\x20mat4'+'x4f,\x20world'+'Position:\x20'+'vec3f,\x20int'+'ensity:\x20f3'+'2,\x20cookieC'+'hannel:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20projPo'+'s:\x20vec4f\x20='+'\x20transform'+'\x20*\x20vec4f(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(tex,\x20texS'+'ampler,\x20pr'+'ojPos.xy\x20/'+'\x20projPos.w'+',\x20intensit'+'y,\x20cookieC'+'hannel);\x0a}'+'\x0a\x0a//\x20getCo'+'okie\x20for\x20c'+'lustered\x20o'+'mni\x20light\x20'+'with\x20the\x20c'+'ookie\x20text'+'ure\x20being\x20'+'stored\x20in\x20'+'the\x20cookie'+'\x20atlas\x0afn\x20'+'getCookieC'+'ubeCluster'+'ed(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20dir:'+'\x20vec3f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f,\x20shad'+'owTextureR'+'esolution:'+'\x20f32,\x20shad'+('owEdgePixe'+'ls:\x20f32,\x20o'+'mniAtlasVi'+'ewport:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20dir);'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getCook'+'ieClustere'+'d(tex,\x20tex'+'Sampler,\x20u'+'v,\x20intensi'+'ty,\x20cookie'+'Channel);\x0a'+'}\x0a'),_M='\x0a\x0afn\x20_getS'+'hadowCoord'+'PerspZbuff'+'er(shadowM'+'atrix:\x20mat'+'4x4f,\x20shad'+'owParams:\x20'+'vec4f,\x20wPo'+'s:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20p'+'rojPos\x20=\x20s'+'hadowMatri'+'x\x20*\x20vec4f('+'wPos,\x201.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20projPos'+'.xyz\x20/\x20pro'+'jPos.w;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0afn'+'\x20getShadow'+'CoordPersp'+'ZbufferNor'+'malOffset('+'shadowMatr'+'ix:\x20mat4x4'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20normal'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20wP'+'os:\x20vec3f\x20'+'=\x20vPositio'+'nW\x20+\x20norma'+'l\x20*\x20shadow'+'Params.y;\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wCoordPers'+'pZbuffer(s'+'hadowMatri'+'x,\x20shadowP'+'arams,\x20wPo'+'s);\x0a}\x0a\x0afn\x20'+'normalOffs'+'etPointSha'+'dow(shadow'+'Params:\x20ve'+'c4f,\x20light'+'Pos:\x20vec3f'+',\x20lightDir'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'normal:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20let\x20wPo'+'s:\x20vec3f\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y\x20*\x20'+'clamp(1.0\x20'+'-\x20dot(norm'+'al,\x20-light'+'DirNorm),\x20'+'0.0,\x201.0)\x20'+'*\x20distScal'+'e;\x20//0.02\x0a'+'\x20\x20\x20\x20let\x20di'+'r:\x20vec3f\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0a\x20\x20\x20\x20'+'fn\x20getShad'+'owOmniClus'+'teredPCF1('+'shadowMap:'+'\x20texture_d'+'epth_2d,\x20s'+'hadowMapSa'+'mpler:\x20sam'+'pler_compa'+'rison,\x20sha'+'dowParams:'+('\x20vec4f,\x20om'+'niAtlasVie'+'wport:\x20vec'+'3f,\x20shadow'+'EdgePixels'+':\x20f32,\x20lig'+'htDir:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shad'+'owTextureR'+'esolution:'+'\x20f32\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowZ:\x20f'+'32\x20=\x20lengt'+'h(lightDir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv,'+'\x20shadowZ);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'wOmniClust'+'eredPCF3(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owParams:\x20'+'vec4f,\x20omn'+'iAtlasView'+'port:\x20vec3'+'f,\x20shadowE'+'dgePixels:'+'\x20f32,\x20ligh'+'tDir:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wTextureRe'+'solution:\x20'+'f32\x20=\x20shad'+'owParams.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20light'+'Dir);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadowZ:\x20f3'+'2\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w\x20+\x20'+'shadowPara'+'ms.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowCoord:'+'\x20vec3f\x20=\x20v'+'ec3f(uv,\x20s'+'hadowZ);\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF3x3('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowOmn'+'iClustered'+'PCF5(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20omniAtl'+'asViewport'+':\x20vec3f,\x20s'+'hadowEdgeP'+'ixels:\x20f32'+',\x20lightDir'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadowTex'+'tureResolu'+'tion:\x20f32\x20'+'=\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'uv:\x20vec2f\x20'+'=\x20getCubem'+'apAtlasCoo'+'rdinates(o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20shad'+'owTextureR'+'esolution,'+'\x20lightDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20vec3f'+'(uv,\x20shado'+'wZ);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CF5x5(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'#endif\x0a\x0a//'+'\x20Clustered'+'\x20Spot\x20Samp'+'ling\x20using'+'\x20atlas\x0a\x0a#i'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF1)\x0a\x0a\x20\x20\x20'+'\x20fn\x20getSha'+'dowSpotClu'+'steredPCF1'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu')+('rn\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Coord.z);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0a\x20\x20'+'\x20\x20fn\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'3x3(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF5)\x0a\x0a\x20'+'\x20\x20\x20fn\x20getS'+'hadowSpotC'+'lusteredPC'+'F5(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),gM='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0avar\x20clu'+'sterWorldT'+'exture:\x20te'+'xture_2d<f'+'32>;\x0avar\x20l'+'ightsTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x0a#ifdef\x20C'+'LUSTER_SHA'+'DOWS\x0a\x20\x20\x20\x20/'+'/\x20TODO:\x20wh'+'en\x20VSM\x20sha'+'dow\x20is\x20sup'+'ported,\x20it'+'\x20needs\x20to\x20'+'use\x20sample'+'r2D\x20in\x20web'+'gl2\x0a\x20\x20\x20\x20va'+'r\x20shadowAt'+'lasTexture'+':\x20texture_'+'depth_2d;\x0a'+'\x20\x20\x20\x20var\x20sh'+'adowAtlasT'+'extureSamp'+'ler:\x20sampl'+'er_compari'+'son;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'var\x20cookie'+'AtlasTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20c'+'ookieAtlas'+'TextureSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0auniform'+'\x20clusterMa'+'xCells:\x20i3'+'2;\x0a\x0a//\x201.0'+'\x20if\x20cluste'+'red\x20lighti'+'ng\x20can\x20be\x20'+'skipped\x20(0'+'\x20lights\x20in'+'\x20the\x20clust'+'ers)\x0aunifo'+'rm\x20cluster'+'Skip:\x20f32;'+'\x0a\x0auniform\x20'+'clusterCel'+'lsCountByB'+'oundsSize:'+'\x20vec3f;\x0aun'+'iform\x20clus'+'terTexture'+'Size:\x20vec3'+'f;\x0auniform'+'\x20clusterBo'+'undsMin:\x20v'+'ec3f;\x0aunif'+'orm\x20cluste'+'rBoundsDel'+'ta:\x20vec3f;'+'\x0auniform\x20c'+'lusterCell'+'sDot:\x20vec3'+'f;\x0auniform'+'\x20clusterCe'+'llsMax:\x20ve'+('c3f;\x0aunifo'+'rm\x20shadowA'+'tlasParams'+':\x20vec2f;\x0a\x0a'+'//\x20structu'+'re\x20storing'+'\x20light\x20pro'+'perties\x20of'+'\x20a\x20cluster'+'ed\x20light\x0a/'+'/\x20it\x27s\x20sor'+'ted\x20to\x20hav'+'e\x20all\x20vect'+'ors\x20aligne'+'d\x20to\x204\x20flo'+'ats\x20to\x20lim'+'it\x20padding'+'\x0astruct\x20Cl'+'usterLight'+'Data\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x2032bit'+'\x20of\x20flags\x0a'+'\x20\x20\x20\x20flags:'+'\x20u32,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfWidth:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20isSpot:\x20'+'bool,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfHeight:'+'\x20vec3f,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20index\x0a\x20\x20'+'\x20\x20lightInd'+'ex:\x20i32,\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x0a\x20\x20'+'\x20\x20position'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20sh'+'ape:\x20u32,\x0a'+'\x0a\x20\x20\x20\x20//\x20wo'+'rld\x20space\x20'+'direction\x20'+'(spot\x20ligh'+'t\x20only)\x0a\x20\x20'+'\x20\x20directio'+'n:\x20vec3f,\x0a'+'\x0a\x20\x20\x20\x20//\x20li'+'ght\x20follow'+'\x20mode\x0a\x20\x20\x20\x20'+'falloffMod'+'eLinear:\x20b'+'ool,\x0a\x0a\x20\x20\x20\x20'+'//\x20color\x0a\x20'+'\x20\x20\x20color:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20//\x200.0\x20i'+'f\x20the\x20ligh'+'t\x20doesn\x27t\x20'+'cast\x20shado'+'ws\x0a\x20\x20\x20\x20sha'+'dowIntensi'+'ty:\x20f32,\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20omniAtl'+'asViewport'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'range:\x20f32'+',\x0a\x0a\x20\x20\x20\x20//\x20'+'channel\x20ma'+'sk\x20-\x20one\x20o'+'f\x20the\x20chan'+'nels\x20has\x201'+',\x20the\x20othe')+('rs\x20are\x200\x0a\x20'+'\x20\x20\x20cookieC'+'hannelMask'+':\x20vec4f,\x0a\x0a'+'\x20\x20\x20\x20//\x20com'+'pressed\x20bi'+'ases,\x20two\x20'+'haf-floats'+'\x20stored\x20in'+'\x20a\x20float\x0a\x20'+'\x20\x20\x20biasesD'+'ata:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20bias\x20'+'values\x0a\x20\x20\x20'+'\x20shadowBia'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20shadowNo'+'rmalBias:\x20'+'f32,\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20a'+'nglesData:'+'\x20f32,\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20inner'+'\x20and\x20outer'+'\x20angle\x20cos'+'ine\x0a\x20\x20\x20\x20in'+'nerConeAng'+'leCos:\x20f32'+',\x0a\x20\x20\x20\x20oute'+'rConeAngle'+'Cos:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'tensity\x20of'+'\x20the\x20cooki'+'e\x0a\x20\x20\x20\x20cook'+'ieIntensit'+'y:\x20f32,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20mask\x0a\x20\x20\x20'+'\x20//float\x20m'+'ask;\x0a\x20\x20\x20\x20i'+'sDynamic:\x20'+'bool,\x0a\x20\x20\x20\x20'+'isLightmap'+'ped:\x20bool\x0a'+'}\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0av'+'ar<private'+'>\x20lightPro'+'jectionMat'+'rix:\x20mat4x'+'4f;\x0a\x0afn\x20sa'+'mpleLightT'+'extureF(li'+'ghtIndex:\x20'+'i32,\x20index'+':\x20i32)\x20->\x20')+('vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureLoad'+'(lightsTex'+'ture,\x20vec2'+'<i32>(inde'+'x,\x20lightIn'+'dex),\x200);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightCore(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>,\x20'+'lightIndex'+':\x20f32)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20index\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'lightIndex'+'\x20=\x20i32(lig'+'htIndex);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20data\x20'+'encoding\x20h'+'alf-float\x20'+'values\x20int'+'o\x2032bit\x20ui'+'nts\x0a\x20\x20\x20\x20le'+'t\x20halfData'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_COLO'+'R_ANGLES_B'+'IAS});\x0a\x0a\x20\x20'+'\x20\x20//\x20store'+'\x20floats\x20we'+'\x20decode\x20la'+'ter\x20as\x20nee'+'ded\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.angle'+'sData\x20=\x20ha'+'lfData.z;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.biasesDat'+'a\x20=\x20halfDa'+'ta.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20decomp'+'ress\x20color'+'\x20half-floa'+'ts\x0a\x20\x20\x20\x20let'+'\x20colorRG:\x20'+'vec2f\x20=\x20un'+'pack2x16fl'+'oat(bitcas'+'t<u32>(hal'+'fData.x));'+'\x0a\x20\x20\x20\x20let\x20c'+'olorB_:\x20ve'+'c2f\x20=\x20unpa'+'ck2x16floa'+'t(bitcast<'+'u32>(halfD'+'ata.y));\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'color\x20=\x20ve'+'c3f(colorR'+'G,\x20colorB_'+'.x)\x20*\x20{LIG'+'HT_COLOR_D'+'IVIDER};\x0a\x0a'+'\x20\x20\x20\x20//\x20pos'+'ition\x20and\x20'+'range,\x20ful'+'l\x20floats\x0a\x20'+'\x20\x20\x20let\x20lig'+'htPosRange'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_POSI'+'TION_RANGE'+'});\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.posit')+('ion\x20=\x20ligh'+'tPosRange.'+'xyz;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.rang'+'e\x20=\x20lightP'+'osRange.w;'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'pot\x20direct'+'ion\x20&\x20flag'+'s\x20data\x0a\x20\x20\x20'+'\x20let\x20light'+'Dir_Flags:'+'\x20vec4f\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData.ligh'+'tIndex,\x20{C'+'LUSTER_TEX'+'TURE_DIREC'+'TION_FLAGS'+'});\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20directi'+'on\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.direct'+'ion\x20=\x20ligh'+'tDir_Flags'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x2032bit\x20'+'flags\x0a\x20\x20\x20\x20'+'let\x20flags_'+'uint:\x20u32\x20'+'=\x20bitcast<'+'u32>(light'+'Dir_Flags.'+'w);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20flags_u'+'int;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.isSp'+'ot\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2030u)'+')\x20!=\x200u;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'shape\x20=\x20(f'+'lags_uint\x20'+'>>\x2028u)\x20&\x20'+'0x3u;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.fal'+'loffModeLi'+'near\x20=\x20(fl'+'ags_uint\x20&'+'\x20(1u\x20<<\x2027'+'u))\x20==\x200u;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.shadowIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x200'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x208'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.isDynami'+'c\x20=\x20(flags'+'_uint\x20&\x20(1'+'u\x20<<\x2022u))'+'\x20!=\x200u;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sLightmapp'+'ed\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2021u)'+')\x20!=\x200u;\x0a}'+'\x0a\x0afn\x20decod'+'eClusterLi'+'ghtSpot(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{')+('\x0a\x20\x20\x20\x20//\x20sp'+'ot\x20light\x20c'+'os\x20angles\x0a'+'\x20\x20\x20\x20let\x20an'+'gles:\x20vec2'+'f\x20=\x20unpack'+'2x16float('+'bitcast<u3'+'2>(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'OmniAtlasV'+'iewport(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.omniAtla'+'sViewport\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData.l'+'ightIndex,'+'\x20{CLUSTER_'+'TEXTURE_PR'+'OJ_MAT_0})'+'.xyz;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'AreaData(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>)\x20'+'{\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.halfWid'+'th\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a.lightInd'+'ex,\x20{CLUST'+'ER_TEXTURE'+'_AREA_DATA'+'_WIDTH}).x'+'yz;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.halfH'+'eight\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data.light'+'Index,\x20{CL'+'USTER_TEXT'+'URE_AREA_D'+'ATA_HEIGHT'+'}).xyz;\x0a}\x0a'+'\x0afn\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(cluster'+'LightData:'+'\x20ptr<funct'+'ion,\x20Clust'+'erLightDat'+'a>)\x20{\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'matrix\x0a\x20\x20\x20'+'\x20let\x20m0:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_0});\x0a\x20\x20\x20'+'\x20let\x20m1:\x20v')+('ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_1});\x0a\x20\x20\x20'+'\x20let\x20m2:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_2});\x0a\x20\x20\x20'+'\x20let\x20m3:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4x'+'4f(m0,\x20m1,'+'\x20m2,\x20m3);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightShadow'+'Data(clust'+'erLightDat'+'a:\x20ptr<fun'+'ction,\x20Clu'+'sterLightD'+'ata>)\x20{\x0a\x20\x20'+'\x20\x20//\x20shado'+'w\x20biases\x0a\x20'+'\x20\x20\x20let\x20bia'+'ses:\x20vec2f'+'\x20=\x20unpack2'+'x16float(b'+'itcast<u32'+'>(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'fn\x20decodeC'+'lusterLigh'+'tCookieDat'+'a(clusterL'+'ightData:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20extract'+'\x20channel\x20m'+'ask\x20from\x20f'+'lags\x0a\x20\x20\x20\x20l'+'et\x20cookieF'+'lags:\x20u32\x20'+'=\x20(cluster'+'LightData.'+'flags\x20>>\x202'+'3u)\x20&\x200x0F'+'u;\x20\x20//\x204bi'+'ts,\x20each\x20b'+'it\x20enables'+'\x20a\x20channel'+'\x0a\x20\x20\x20\x20let\x20m'+'ask_uvec:\x20'+'vec4<u32>\x20'+'=\x20vec4<u32'+'>(cookieFl'+'ags)\x20&\x20vec'+'4<u32>(1u,'+'\x202u,\x204u,\x208'+'u);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eChannelMa'+'sk\x20=\x20step('+'vec4f(1.0)')+(',\x20vec4f(ma'+'sk_uvec));'+'\x20//\x20Normal'+'ize\x20to\x200.0'+'\x20or\x201.0\x0a}\x0a'+'\x0afn\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20light:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>,\x0a\x20\x20\x20\x20wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20reflectio'+'nDir:\x20vec3'+'f,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20clearc'+'oatReflect'+'ionDir:\x20ve'+'c3f,\x0a#endi'+'f\x0a\x20\x20\x20\x20glos'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20specular'+'ity:\x20vec3f'+',\x0a\x20\x20\x20\x20geom'+'etricNorma'+'l:\x20vec3f,\x0a'+'\x20\x20\x20\x20tbn:\x20m'+'at3x3f,\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a#e'+'ndif\x0a\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20clearco'+'at_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20s'+'heen_gloss'+':\x20f32,\x0a\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty:\x20f32\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ve'+'c3f(1.0);\x0a'+'\x20\x20\x20\x20var\x20di'+'ffuseAtten'+'uation:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20var\x20fal'+'loffAttenu'+'ation:\x20f32'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20omni\x20'+'part\x20of\x20th'+'e\x20light\x0a\x20\x20'+'\x20\x20let\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(l'+'ight.posit'+'ion);\x0a\x20\x20\x20\x20'+'let\x20lightD'+'irNormW:\x20v'+'ec3f\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20')+('handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffL'+'inear(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20='+'\x20getFallof'+'fInvSquare'+'d(light.ra'+'nge,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20if'+'\x20(falloffA'+'ttenuation'+'\x20>\x200.00001'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_AR'+'EALIGHTS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20!=\x20{LI'+'GHTSHAPE_P'+'UNCTUAL})\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20='+'=\x20{LIGHTSH'+'APE_RECT})'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getRectLig'+'htDiffuse('+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'W,\x20lightDi'+'rNormW)\x20*\x20'+'16.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20diffuseAt'+'tenuation\x20'+'=\x20getDiskL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x20/'+'/\x20sphere\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getS'+'phereLight'+'Diffuse(wo'+'rldNormal,'+'\x20viewDir,\x20'+'lightDirW,'+'\x20lightDirN'+'ormW)\x20*\x2016'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNormW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.is'+'Spot)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'decodeClus'+'terLightSp'+'ot(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getSp'+'otEffect(l'+'ight.direc'+'tion,\x20ligh'+'t.innerCon'+'eAngleCos,'+'\x20light.out'+'erConeAngl'+'eCos,\x20ligh'+'tDirNormW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_COOKIES)\x20'+'||\x20defined'+'(CLUSTER_S'+'HADOWS)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'hadow\x20/\x20co')+('okie\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'dowIntensi'+'ty\x20>\x200.0\x20|'+'|\x20light.co'+'okieIntens'+'ity\x20>\x200.0)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20shared\x20'+'shadow\x20/\x20c'+'ookie\x20data'+'\x20depends\x20o'+'n\x20light\x20ty'+'pe\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.i'+'sSpot)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ecodeClust'+'erLightPro'+'jectionMat'+'rixData(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightO'+'mniAtlasVi'+'ewport(lig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'TextureRes'+'olution:\x20f'+'32\x20=\x20unifo'+'rm.shadowA'+'tlasParams'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'EdgePixels'+':\x20f32\x20=\x20un'+'iform.shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'cookieInte'+'nsity\x20>\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(light)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'!!!!!!!!!!'+'!\x20TEXTURE_'+'PASS\x20likel'+'y\x20needs\x20sa'+'mpler.\x20Ass'+'uming\x20cook'+'ieAtlasTex'+'tureSample'+'r\x20exists.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(cooki'+'eAtlasText'+'ure,\x20cooki'+'eAtlasText'+'ureSampler'+',\x20lightPro'+'jectionMat'+'rix,\x20vPosi'+'tionW,\x20lig')+('ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20!!!!!!!!'+'!!!\x20TEXTUR'+'E_PASS\x20lik'+'ely\x20needs\x20'+'sampler.\x20A'+'ssuming\x20co'+'okieAtlasT'+'extureSamp'+'ler\x20exists'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cook'+'ieAttenuat'+'ion\x20=\x20getC'+'ookieCubeC'+'lustered(c'+'ookieAtlas'+'Texture,\x20c'+'ookieAtlas'+'TextureSam'+'pler,\x20ligh'+'tDirW,\x20lig'+'ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask,\x20shado'+'wTextureRe'+'solution,\x20'+'shadowEdge'+'Pixels,\x20li'+'ght.omniAt'+'lasViewpor'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20CLUSTER_'+'SHADOWS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(light'+'.shadowInt'+'ensity\x20>\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightShadow'+'Data(light'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowParams'+':\x20vec4f\x20=\x20'+'vec4f(shad'+'owTextureR'+'esolution,'+'\x20light.sha'+'dowNormalB'+'ias,\x20light'+'.shadowBia'+'s,\x201.0\x20/\x20l'+'ight.range'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20shadowCo'+'ord:\x20vec3f'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat')+('rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20!!!!!'+'!!!!!!\x20SHA'+'DOWMAP_PAS'+'S\x20needs\x20te'+'xture\x20and\x20'+'sampler_co'+'mparison.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20!!!'+'!!!!!!!!\x20S'+'hadow\x20func'+'tions\x20need'+'\x20update\x20fo'+'r\x20WGSL\x20tex'+'tureSample'+'Compare\x20et'+'c.\x20Assumin'+'g\x20these\x20ar'+'e\x20handled\x20'+'in\x20include'+'s.\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'SpotCluste'+'redPCF1(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadow:\x20f32'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF3('+'shadowAtla'+'sTexture,\x20'+'shadowAtla'+'sTextureSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadow:\x20f'+'32\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'5(shadowAt'+'lasTexture'+',\x20shadowAt'+'lasTexture'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCSS)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l')+('et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CSS(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20mix('+'1.0,\x20shado'+'w,\x20light.s'+'hadowInten'+'sity);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20omni\x20'+'shadow\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalOffset'+'PointShado'+'w(shadowPa'+'rams,\x20ligh'+'t.position'+',\x20lightDir'+'W,\x20lightDi'+'rNormW,\x20ge'+'ometricNor'+'mal);\x20\x20//\x20'+'normalBias'+'\x20adjusted\x20'+'for\x20distan'+'ce\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20!!!!!!!!!'+'!!\x20SHADOWM'+'AP_PASS\x20ne'+'eds\x20textur'+'e\x20and\x20samp'+'ler_compar'+'ison.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20!!!!!!!'+'!!!!\x20Shado'+'w\x20function'+'s\x20need\x20upd'+'ate\x20for\x20WG'+'SL\x20texture'+'SampleComp'+'are\x20etc.\x20A'+'ssuming\x20th'+'ese\x20are\x20ha'+'ndled\x20in\x20i'+'ncludes.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowOmni'+'ClusteredP'+'CF1(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowPar'+'ams,\x20light'+'.omniAtlas'+'Viewport,\x20'+'shadowEdge'+'Pixels,\x20di'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20getSha'+'dowOmniClu'+'steredPCF3'+'(shadowAtl'+'asTexture,'+'\x20shadowAtl'+'asTextureS'+'ampler,\x20sh'+'adowParams'+',\x20light.om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'OmniCluste'+'redPCF5(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20areaDif'+'fuse:\x20vec3'+'f\x20=\x20(diffu'+'seAttenuat'+'ion\x20*\x20fall'+'offAttenua'+'tion)\x20*\x20li')+('ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaDi'+'ffuse\x20=\x20mi'+'x(areaDiff'+'use,\x20vec3f'+'(0.0),\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20diff'+'use\x20-\x20it\x20d'+'oes\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20areaDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20areaL'+'ightSpecul'+'ar:\x20f32;\x20/'+'/\x20Use\x20var\x20'+'because\x20as'+'signed\x20in\x20'+'if/else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_RECT'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getRe'+'ctLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(ligh'+'t.shape\x20=='+'\x20{LIGHTSHA'+'PE_DISK})\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getDiskL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x20//\x20sphere'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'Specular\x20='+'\x20getSphere'+'LightSpecu')+('lar(worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20dLTC'+'SpecFres\x20*'+'\x20areaLight'+'Specular\x20*'+'\x20falloffAt'+'tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sp'+'ecular\x20cle'+'ar\x20coat\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20areaLigh'+'tSpecularC'+'C:\x20f32;\x20//'+'\x20Use\x20var\x20b'+'ecause\x20ass'+'igned\x20in\x20i'+'f/else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20==\x20{LI'+'GHTSHAPE_R'+'ECT})\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getRec'+'tLightSpec'+'ular(clear'+'coat_world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecularCC\x20='+'\x20getDiskLi'+'ghtSpecula'+'r(clearcoa'+'t_worldNor'+'mal,\x20viewD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20{\x20//\x20sph'+'ere\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getSphereL'+'ightSpecul'+'ar(clearco'+'at_worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'cSpecularL'+'ight\x20=\x20ccS'+'pecularLig'+'ht\x20+\x20ccLTC'+'SpecFres\x20*'+'\x20areaLight'+'SpecularCC'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20\x20*\x20c'+'ookieAtten')+('uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20punctual'+'\x20light\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20p'+'unctualDif'+'fuse:\x20vec3'+'f\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_AREAL'+'IGHTS)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'unctualDif'+'fuse\x20=\x20mix'+'(punctualD'+'iffuse,\x20ve'+'c3f(0.0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20dDiffus'+'eLight\x20+\x20p'+'unctualDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Dir:\x20vec3f'+'\x20=\x20normali'+'ze(-lightD'+'irNormW\x20+\x20'+'viewDir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR_FRESN'+'EL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20=\x20'+'dSpecularL'+'ight\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD')+('ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20halfD'+'ir),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'=\x20ccSpecul'+'arLight\x20+\x20'+'getLightSp'+'ecular(hal'+'fDir,\x20clea'+'rcoatRefle'+'ctionDir,\x20'+'clearcoat_'+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'NormW,\x20cle'+'arcoat_glo'+'ss,\x20tbn)\x20*'+'\x20falloffAt')+('tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion\x20*\x20getF'+'resnelCC(d'+'ot(viewDir'+',\x20halfDir)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20='+'\x20ccSpecula'+'rLight\x20+\x20g'+'etLightSpe'+'cular(half'+'Dir,\x20clear'+'coatReflec'+'tionDir,\x20c'+'learcoat_w'+'orldNormal'+',\x20viewDir,'+'\x20lightDirN'+'ormW,\x20clea'+'rcoat_glos'+'s,\x20tbn)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'+\x20getLight'+'SpecularSh'+'een(halfDi'+'r,\x20worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'sheen_glos'+'s)\x20*\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20'+'cookieAtte'+'nuation;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20Writ'+'e\x20to\x20globa'+'l\x20attenuat'+'ion\x20values'+'\x20(for\x20ligh'+'tmapper)\x0a\x20'+'\x20\x20\x20dAtten\x20'+'=\x20falloffA'+'ttenuation'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20lightDi'+'rNormW;\x0a}\x0a'+'\x0a\x0afn\x20evalu'+'ateCluster'+'Light(\x0a\x20\x20\x20'+'\x20lightInde'+'x:\x20f32,\x0a\x20\x20'+'\x20\x20worldNor'+'mal:\x20vec3f'+',\x0a\x20\x20\x20\x20view'+'Dir:\x20vec3f'+',\x0a\x20\x20\x20\x20refl'+'ectionDir:'+'\x20vec3f,\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20c'+'learcoatRe'+'flectionDi'+'r:\x20vec3f,\x0a'+'#endif\x0a\x20\x20\x20')+('\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20geometric'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20t'+'bn:\x20mat3x3'+'f,\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20clearc'+'oat_worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20cl'+'earcoat_gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20sheen_'+'gloss:\x20f32'+',\x0a\x20\x20\x20\x20irid'+'escence_in'+'tensity:\x20f'+'32\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr'+'om\x20texture'+'s\x0a\x20\x20\x20\x20var\x20'+'clusterLig'+'htData:\x20Cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(&cluste'+'rLightData'+',\x20lightInd'+'ex);\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20light\x20if'+'\x20it\x20uses\x20a'+'ccepted\x20li'+'ght\x20mask\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'acceptLigh'+'tMask:\x20boo'+'l\x20=\x20cluste'+'rLightData'+'.isDynamic'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20accept'+'LightMask:'+'\x20bool\x20=\x20cl'+'usterLight'+'Data.isLig'+'htmapped;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'acceptLigh'+'tMask)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20eva'+'luateLight'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20&clust'+'erLightDat'+'a,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'viewDir,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20reflectio'+'nDir,\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20geometri'+'cNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20tbn,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE')+('NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'sheen_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a\x0a\x0afn'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20world'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20v'+'iewDir:\x20ve'+'c3f,\x0a\x20\x20\x20\x20r'+'eflectionD'+'ir:\x20vec3f,'+'\x0a#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20clearcoa'+'tReflectio'+'nDir:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'specularit'+'y:\x20vec3f,\x0a'+'\x20\x20\x20\x20geomet'+'ricNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20tbn:\x20mat'+'3x3f,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a#end'+'if\x0a\x20\x20\x20\x20cle'+'arcoat_wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20clearcoat'+'_gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20she'+'en_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20i'+'ridescence'+'_intensity'+':\x20f32\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20sk'+'ip\x20lights\x20'+'if\x20no\x20ligh'+'ts\x20at\x20all\x0a'+'\x20\x20\x20\x20if\x20(un'+'iform.clus'+'terSkip\x20>\x20'+'0.5)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x20to'+'\x203d\x20intege'+'r\x20cell\x20cor'+'dinates\x20in'+'\x20the\x20clust'+'er\x20structu'+'re\x0a\x20\x20\x20\x20let'+'\x20cellCoord'+'s:\x20vec3f\x20='+'\x20floor((vP'+'ositionW\x20-'+'\x20uniform.c'+'lusterBoun'+'dsMin)\x20*\x20u'+'niform.clu'+'sterCellsC'+'ountByBoun'+'dsSize);\x0a\x0a'+'\x20\x20\x20\x20//\x20no\x20'+'lighting\x20w'+'hen\x20cell\x20c'+'oordinate\x20'+'is\x20out\x20of\x20'+'range\x0a\x20\x20\x20\x20'+'if\x20(!(any('+'cellCoords')+('\x20<\x20vec3f(0'+'.0))\x20||\x20an'+'y(cellCoor'+'ds\x20>=\x20unif'+'orm.cluste'+'rCellsMax)'+'))\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cel'+'l\x20index\x20(m'+'apping\x20fro'+'m\x203d\x20cell\x20'+'coordinate'+'s\x20to\x20linea'+'r\x20memory)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20cellInde'+'x:\x20f32\x20=\x20d'+'ot(uniform'+'.clusterCe'+'llsDot,\x20ce'+'llCoords);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20convert'+'\x20cell\x20inde'+'x\x20to\x20uv\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20clusterV'+':\x20f32\x20=\x20fl'+'oor(cellIn'+'dex\x20*\x20unif'+'orm.cluste'+'rTextureSi'+'ze.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20c'+'lusterU:\x20f'+'32\x20=\x20cellI'+'ndex\x20-\x20(cl'+'usterV\x20*\x20u'+'niform.clu'+'sterTextur'+'eSize.x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20loop\x20ove'+'r\x20maximum\x20'+'number\x20of\x20'+'light\x20cell'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(var\x20l'+'ightCellIn'+'dex:\x20i32\x20='+'\x200;\x20lightC'+'ellIndex\x20<'+'\x20uniform.c'+'lusterMaxC'+'ells;\x20ligh'+'tCellIndex'+'\x20=\x20lightCe'+'llIndex\x20+\x20'+'1)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20using\x20a\x20s'+'ingle\x20chan'+'nel\x20textur'+'e\x20with\x20dat'+'a\x20in\x20red\x20c'+'hannel\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20lightIn'+'dexPacked:'+'\x20f32\x20=\x20tex'+'tureLoad(c'+'lusterWorl'+'dTexture,\x20'+'vec2<i32>('+'i32(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20i32(clus'+'terV)),\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(lightInde'+'xPacked\x20<='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20break;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndexPack'+'ed\x20*\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20vie'+'wDir,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'eometricNo'+'rmal,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20clearc'+'oat_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a}'),SM='\x0afn\x20combin'+'eColor(alb'+'edo:\x20vec3f'+',\x20sheenSpe'+'cularity:\x20'+'vec3f,\x20cle'+'arcoatSpec'+'ularity:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20ret:\x20ve'+'c3f\x20=\x20vec3'+'f(0.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ret\x20=\x20'+'ret\x20+\x20((dD'+'iffuseLigh'+'t\x20-\x20unifor'+'m.light_gl'+'obalAmbien'+'t)\x20*\x20albed'+'o\x20+\x20unifor'+'m.material'+'_ambient\x20*'+'\x20uniform.l'+'ight_globa'+'lAmbient);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(albedo\x20*'+'\x20dDiffuseL'+'ight);\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_OLD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20dSpecular'+'Light;\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(dReflect'+'ion.rgb\x20*\x20'+'dReflectio'+'n.a);\x0a\x20\x20\x20\x20'+'#endif\x20//\x20'+'LIT_REFLEC'+'TIONS\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'sheenScali'+'ng:\x20f32\x20=\x20'+'1.0\x20-\x20max('+'max(sheenS'+'pecularity'+'.r,\x20sheenS'+'pecularity'+'.g),\x20sheen'+'Specularit'+'y.b)\x20*\x200.1'+'57;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20sheenS'+'caling\x20+\x20('+'sSpecularL'+'ight\x20+\x20sRe'+'flection.r'+'gb)\x20*\x20shee'+'nSpeculari'+'ty;\x0a\x20\x20\x20\x20#e'+'ndif\x20//\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20clear'+'CoatScalin'+'g:\x20f32\x20=\x201'+'.0\x20-\x20ccFre'+'snel\x20*\x20cle'+'arcoatSpec'+'ularity;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'\x20=\x20ret\x20*\x20c'+'learCoatSc'+'aling\x20+\x20(c'+'cSpecularL'+'ight\x20+\x20ccR'+'eflection)'+('\x20*\x20clearco'+'atSpecular'+'ity;\x0a\x20\x20\x20\x20#'+'endif\x20//\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20re'+'turn\x20ret;\x0a'+'}\x0a'),yM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x0a\x20\x20\x20\x20'+'var\x20blitTe'+'xture:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20blitText'+'ureSampler'+'\x20:\x20sampler'+';\x0a\x0a\x20\x20\x20\x20@fr'+'agment\x0a\x20\x20\x20'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20t'+'extureSamp'+'le(blitTex'+'ture,\x20blit'+'TextureSam'+'pler,\x20inpu'+'t.uv0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20}\x0a',vM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20u'+'niform\x20inv'+'ViewProj:\x20'+'mat4x4<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'re:\x20textur'+'e_cube<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'reSampler\x20'+':\x20sampler;'+'\x0a\x0a\x20\x20\x20\x20@fra'+'gment\x0a\x20\x20\x20\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20pro'+'jPos\x20=\x20vec'+'4f(input.u'+'v0\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20w'+'orldPos\x20=\x20'+'uniform.in'+'vViewProj\x20'+'*\x20projPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20textur'+'eSample(bl'+'itTexture,'+'\x20blitTextu'+'reSampler,'+'\x20worldPos.'+'xyz);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20}\x0a',xM='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.uv0.y'+'\x20=\x201.0\x20-\x20o'+'utput.uv0.'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',TM='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMin:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMax:\x20v'+'ec3f;\x0a#end'+'if\x0a\x0afn\x20cub'+'eMapProjec'+'t(nrdir:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20cubeMapR'+'otate(nrdi'+'r);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIT_CU'+'BEMAP_PROJ'+'ECTION\x20==\x20'+'BOX\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20nrd'+'ir_rotated'+':\x20vec3f\x20=\x20'+'cubeMapRot'+'ate(nrdir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20rbmax'+':\x20vec3f\x20=\x20'+'(uniform.e'+'nvBoxMax\x20-'+'\x20vPosition'+'W)\x20/\x20nrdir'+'_rotated;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20rbmin:\x20v'+'ec3f\x20=\x20(un'+'iform.envB'+'oxMin\x20-\x20vP'+'ositionW)\x20'+'/\x20nrdir_ro'+'tated;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'rbminmax:\x20'+'vec3f\x20=\x20se'+'lect(rbmin'+',\x20rbmax,\x20n'+'rdir_rotat'+'ed\x20>\x20vec3f'+'(0.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'fa:\x20f32\x20=\x20'+'min(min(rb'+'minmax.x,\x20'+'rbminmax.y'+'),\x20rbminma'+'x.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20p'+'osonbox:\x20v'+'ec3f\x20=\x20vPo'+'sitionW\x20+\x20'+'nrdir_rota'+'ted\x20*\x20fa;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20envBoxPo'+'s:\x20vec3f\x20='+'\x20(uniform.'+'envBoxMin\x20'+'+\x20uniform.'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20normali'+'ze(posonbo'+'x\x20-\x20envBox'+'Pos);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',wM='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20cubeMap'+'RotationMa'+'trix:\x20mat3'+'x3f;\x0a#endi'+'f\x0a\x0afn\x20cube'+'MapRotate('+'refDir:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a#ifd'+'ef\x20CUBEMAP'+'_ROTATION\x0a'+'\x20\x20\x20\x20return'+'\x20refDir\x20*\x20'+'uniform.cu'+'beMapRotat'+'ionMatrix;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir;\x0a#end'+'if\x0a}\x0a',EM='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0aoutp'+'ut.color\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0aoutput.co'+'lor\x20=\x20vec4'+'f(litArgs_'+'albedo\x20,\x201'+'.0);\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'DEBUG_WORL'+'D_NORMAL_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(litAr'+'gs_worldNo'+'rmal\x20*\x200.5'+'\x20+\x200.5,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_OPACI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_opacity'+')\x20,\x201.0);\x0a'+'#endif\x0a\x0a#i'+'fdef\x20DEBUG'+'_SPECULARI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(l'+'itArgs_spe'+'cularity,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_GLO'+'SS_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_gloss)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_M'+'ETALNESS_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(vec3f'+'(litArgs_m'+'etalness)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_A'+'O_PASS\x0aout'+'put.color\x20'+'=\x20vec4f(ve'+'c3f(litArg'+'s_ao)\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_EMISS'+'ION_PASS\x0ao'+'utput.colo'+'r\x20=\x20vec4f('+'gammaCorre'+'ctOutput(l'+'itArgs_emi'+'ssion),\x201.'+'0);\x0a#endif'+'\x0a',bM='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0a\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20v'+'ec3f(0.5);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0a#ifdef\x20VA'+'RYING_VUV0'+'\x0a\x20\x20\x20\x20litAr'+'gs_albedo\x20'+'=\x20vec3f(vU'+'v0,\x200.0);\x0a'+'#else\x0a\x20\x20\x20\x20'+'litArgs_al'+'bedo\x20=\x20vec'+'3f(0.0);\x0a#'+'endif\x0a#end'+'if\x0a',AM='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0afn\x20de'+'codeLinear'+'(raw:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20raw.r'+'gb;\x0a}\x0a\x0afn\x20'+'decodeGamm'+'aFloat(raw'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20pow'+'(raw,\x202.2)'+';\x0a}\x0a\x0afn\x20de'+'codeGamma3'+'(raw:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(r'+'aw,\x20vec3f('+'2.2));\x0a}\x0a\x0a'+'fn\x20decodeG'+'amma(raw:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow(raw.xyz'+',\x20vec3f(2.'+'2));\x0a}\x0a\x0afn'+'\x20decodeRGB'+'M(raw:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20color\x20='+'\x20(8.0\x20*\x20ra'+'w.a)\x20*\x20raw'+'.rgb;\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0afn\x20de'+'codeRGBP(r'+'aw:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20ra'+'w.rgb\x20*\x20(-'+'raw.a\x20*\x207.'+'0\x20+\x208.0);\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0af'+'n\x20decodeRG'+'BE(raw:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(vec3f('+'0.0),\x20raw.'+'xyz\x20*\x20pow('+'2.0,\x20raw.w'+'\x20*\x20255.0\x20-'+'\x20128.0),\x20r'+'aw.a\x20!=\x200.'+'0);\x0a}\x0a\x0afn\x20'+'passThroug'+'h(raw:\x20vec'+'4f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw;'+'\x0a}\x0a\x0afn\x20unp'+'ackNormalX'+'YZ(nmap:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20nm'+'ap.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'}\x0a\x0afn\x20unpa'+'ckNormalXY'+'(nmap:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20xy\x20=\x20nm'+'ap.wy\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'vec3f(xy,\x20'+'sqrt(1.0\x20-'+'\x20clamp(dot'+'(xy,\x20xy),\x20'+'0.0,\x201.0))'+');\x0a}\x0a\x0a#end'+'if\x0a',CM='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0afn\x20de'+'tailMode_m'+'ul(c1:\x20vec'+'3f,\x20c2:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20c1\x20'+'*\x20c2;\x0a}\x0a\x0af'+'n\x20detailMo'+'de_add(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20c1\x20+\x20c2;\x0a'+'}\x0a\x0a//\x20http'+'s://en.wik'+'ipedia.org'+'/wiki/Blen'+'d_modes#Sc'+'reen\x0afn\x20de'+'tailMode_s'+'creen(c1:\x20'+'vec3f,\x20c2:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'1.0\x20-\x20(1.0'+'\x20-\x20c1)*(1.'+'0\x20-\x20c2);\x0a}'+'\x0a\x0a//\x20https'+'://en.wiki'+'pedia.org/'+'wiki/Blend'+'_modes#Ove'+'rlay\x0afn\x20de'+'tailMode_o'+'verlay(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20mix(1.0\x20-'+'\x202.0\x20*\x20(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0\x20*\x20c1\x20*'+'\x20c2,\x20step('+'c1,\x20vec3f('+'0.5)));\x0a}\x0a'+'\x0afn\x20detail'+'Mode_min(c'+'1:\x20vec3f,\x20'+'c2:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20min(c1,'+'\x20c2);\x0a}\x0a\x0af'+'n\x20detailMo'+'de_max(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(c1,\x20c'+'2);\x0a}\x0a\x0a#en'+'dif\x0a',PM='\x0auniform\x20m'+'aterial_di'+'ffuse:\x20vec'+'3f;\x0a\x0a#ifde'+'f\x20STD_DIFF'+'USEDETAIL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22detailMo'+'desPS\x22\x0a#en'+'dif\x0a\x0afn\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20unif'+'orm.materi'+'al_diffuse'+'.rgb;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoText'+'ure:\x20vec3f'+'\x20=\x20{STD_DI'+'FFUSE_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_DIFFU'+'SE_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'_TEXTURE_N'+'AME}Sample'+'r,\x20{STD_DI'+'FFUSE_TEXT'+'URE_UV},\x20u'+'niform.tex'+'tureBias))'+'.{STD_DIFF'+'USE_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoDeta'+'il:\x20vec3f\x20'+'=\x20{STD_DIF'+'FUSEDETAIL'+'_TEXTURE_D'+'ECODE}(tex'+'tureSample'+'Bias({STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_NAME},\x20{'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_DIFFU'+'SEDETAIL_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20=\x20dAlbe'+'do\x20*\x20albed'+'oTexture;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_DIF'+'FUSE_VERTE'+'X\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAlbedo\x20=\x20'+'dAlbedo\x20*\x20'+'gammaCorre'+'ctInputVec'+'3(saturate'+'3(vVertexC'+'olor.{STD_'+('DIFFUSE_VE'+'RTEX_CHANN'+'EL}));\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),MM='\x0auniform\x20m'+'aterial_em'+'issive:\x20ve'+'c3f;\x0aunifo'+'rm\x20materia'+'l_emissive'+'Intensity:'+'\x20f32;\x0a\x0afn\x20'+'getEmissio'+'n()\x20{\x0a\x20\x20\x20\x20'+'dEmission\x20'+'=\x20uniform.'+'material_e'+'missive\x20*\x20'+'uniform.ma'+'terial_emi'+'ssiveInten'+'sity;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_EMISSIVE'+'_TEXTURE\x0a\x20'+'\x20\x20\x20dEmissi'+'on\x20*=\x20{STD'+'_EMISSIVE_'+'TEXTURE_DE'+'CODE}(text'+'ureSampleB'+'ias({STD_E'+'MISSIVE_TE'+'XTURE_NAME'+'},\x20{STD_EM'+'ISSIVE_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_EMISSI'+'VE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias)).{S'+'TD_EMISSIV'+'E_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_VERT'+'EX\x0a\x20\x20\x20\x20dEm'+'ission\x20=\x20d'+'Emission\x20*'+'\x20gammaCorr'+'ectInputVe'+'c3(saturat'+'e3(vVertex'+'Color.{STD'+'_EMISSIVE_'+'VERTEX_CHA'+'NNEL}));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',DM='\x0afn\x20encode'+'Linear(sou'+'rce:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'source,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeGamm'+'a(source:\x20'+'vec3f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4f(pow(s'+'ource\x20+\x20ve'+'c3f(0.0000'+'001),\x20vec3'+'f(1.0\x20/\x202.'+'2)),\x201.0);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBM(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+'r\x20color:\x20v'+'ec3f\x20=\x20pow'+'(source,\x20v'+'ec3f(0.5))'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x201.0\x20/'+'\x208.0;\x0a\x0a\x20\x20\x20'+'\x20var\x20a:\x20f3'+'2\x20=\x20satura'+'te(max(max'+'(color.r,\x20'+'color.g),\x20'+'max(color.'+'b,\x201.0\x20/\x202'+'55.0)));\x0a\x20'+'\x20\x20\x20a\x20=\x20cei'+'l(a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20col'+'or\x20/=\x20a;\x0a\x20'+'\x20\x20\x20return\x20'+'vec4f(colo'+'r,\x20a);\x0a}\x0a\x0a'+'fn\x20encodeR'+'GBP(source'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20//\x20con'+'vert\x20incom'+'ing\x20linear'+'\x20to\x20gamma('+'ish)\x0a\x20\x20\x20\x20v'+'ar\x20gamma:\x20'+'vec3f\x20=\x20po'+'w(source,\x20'+'vec3f(0.5)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20the\x20maxim'+'um\x20compone'+'nt\x20clamped'+'\x20to\x201..8\x0a\x20'+'\x20\x20\x20var\x20max'+'Val:\x20f32\x20='+'\x20min(8.0,\x20'+'max(1.0,\x20m'+'ax(gamma.x'+',\x20max(gamm'+'a.y,\x20gamma'+'.z))));\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20stor'+'age\x20factor'+'\x0a\x20\x20\x20\x20var\x20v'+':\x20f32\x20=\x201.'+'0\x20-\x20((maxV'+'al\x20-\x201.0)\x20'+'/\x207.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20roun'+'d\x20the\x20valu'+'e\x20for\x20stor'+'age\x20in\x208bi'+'t\x20channel\x0a'+'\x20\x20\x20\x20v\x20=\x20ce'+'il(v\x20*\x20255'+'.0)\x20/\x20255.'+'0;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(gamma\x20/\x20('+'-v\x20*\x207.0\x20+'+'\x208.0),\x20v);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBE(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+('r\x20maxVal:\x20'+'f32\x20=\x20max('+'source.x,\x20'+'max(source'+'.y,\x20source'+'.z));\x0a\x20\x20\x20\x20'+'if\x20(maxVal'+'\x20<\x201e-32)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+':\x20f32\x20=\x20ce'+'il(log2(ma'+'xVal));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(s'+'ource\x20/\x20po'+'w(2.0,\x20e),'+'\x20(e\x20+\x20128.'+'0)\x20/\x20255.0'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a'),IM='\x0a\x20\x20\x20\x20var\x20f'+'inalRgb:\x20v'+'ec3f\x20=\x20com'+'bineColor('+'litArgs_al'+'bedo,\x20litA'+'rgs_sheen_'+'specularit'+'y,\x20litArgs'+'_clearcoat'+'_speculari'+'ty);\x0a\x0a\x20\x20\x20\x20'+'finalRgb\x20='+'\x20finalRgb\x20'+'+\x20litArgs_'+'emission;\x0a'+'\x20\x20\x20\x20finalR'+'gb\x20=\x20addFo'+'g(finalRgb'+');\x0a\x20\x20\x20\x20fin'+'alRgb\x20=\x20to'+'neMap(fina'+'lRgb);\x0a\x20\x20\x20'+'\x20finalRgb\x20'+'=\x20gammaCor'+'rectOutput'+'(finalRgb)'+';\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(fin'+'alRgb,\x20out'+'put.color.'+'a);\x0a',LM='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20atla'+'sSize\x20:\x20f3'+'2\x20=\x20512.0;'+'\x0aconst\x20sea'+'mSize\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0afn\x20mapU'+'v(uv\x20:\x20vec'+'2f,\x20rect\x20:'+'\x20vec4f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec2f(mix('+'rect.x\x20+\x20s'+'eamSize,\x20r'+'ect.x\x20+\x20re'+'ct.z\x20-\x20sea'+'mSize,\x20uv.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20mix(rect.'+'y\x20+\x20seamSi'+'ze,\x20rect.y'+'\x20+\x20rect.w\x20'+'-\x20seamSize'+',\x20uv.y));\x0a'+'}\x0a\x0a//\x20map\x20'+'a\x20normaliz'+'ed\x20equirec'+'t\x20UV\x20and\x20r'+'oughness\x20l'+'evel\x20to\x20th'+'e\x20correct\x20'+'atlas\x20rect'+'.\x0afn\x20mapRo'+'ughnessUv('+'uv\x20:\x20vec2f'+',\x20level\x20:\x20'+'f32)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20t\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'exp2(level'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mapUv('+'uv,\x20vec4f('+'0.0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0afn\x20mapS'+'hinyUv(uv\x20'+':\x20vec2f,\x20l'+'evel\x20:\x20f32'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20t\x20:\x20f32\x20='+'\x201.0\x20/\x20exp'+'2(level);\x0a'+'\x20\x20\x20\x20return'+'\x20mapUv(uv,'+'\x20vec4f(1.0'+'\x20-\x20t,\x201.0\x20'+'-\x20t,\x20t,\x20t\x20'+'*\x200.5));\x0a}'+'\x0a\x0a#endif\x0a',RM='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20skyboxInt'+'ensity\x20:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20proce'+'ssEnvironm'+'ent(color\x20'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20unifo'+'rm.skyboxI'+'ntensity;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',OM='\x0afn\x20getFal'+'loffWindow'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20sqrDist'+':\x20f32\x20=\x20do'+'t(lightDir'+',\x20lightDir'+');\x0a\x20\x20\x20\x20let'+'\x20invRadius'+':\x20f32\x20=\x201.'+'0\x20/\x20lightR'+'adius;\x0a\x20\x20\x20'+'\x20return\x20sq'+'uare(satur'+'ate(1.0\x20-\x20'+'square(sqr'+'Dist\x20*\x20squ'+'are(invRad'+'ius))));\x0a}'+'\x0a\x0afn\x20getFa'+'lloffInvSq'+'uared(ligh'+'tRadius:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20sq'+'rDist:\x20f32'+'\x20=\x20dot(lig'+'htDir,\x20lig'+'htDir);\x0a\x20\x20'+'\x20\x20var\x20fall'+'off:\x20f32\x20='+'\x201.0\x20/\x20(sq'+'rDist\x20+\x201.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20invRadiu'+'s:\x20f32\x20=\x201'+'.0\x20/\x20light'+'Radius;\x0a\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x20square('+'saturate(1'+'.0\x20-\x20squar'+'e(sqrDist\x20'+'*\x20square(i'+'nvRadius))'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20fall'+'off;\x0a}\x0a',FM='\x0afn\x20getFal'+'loffLinear'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20length(l'+'ightDir);\x0a'+'\x20\x20\x20\x20return'+'\x20max(((lig'+'htRadius\x20-'+'\x20d)\x20/\x20ligh'+'tRadius),\x20'+'0.0);\x0a}\x0a',NM='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x20re'+'presentati'+'on\x20(0.0-1.'+'0\x20range)\x0af'+'n\x20float2ui'+'nt(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20intBit'+'s\x20=\x20bitcas'+'t<u32>(val'+'ue);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20f32((intB'+'its\x20>>\x2024u'+')\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((intBi'+'ts\x20>>\x2016u)'+'\x20&\x200xffu),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((intBit'+'s\x20>>\x208u)\x20&'+'\x200xffu),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20f32'+'(intBits\x20&'+'\x200xffu)\x0a\x20\x20'+'\x20\x20)\x20/\x20255.'+'0;\x0a}\x0a\x0a//\x20d'+'ecode\x20RGBA'+'8\x20value\x20to'+'\x20float\x0afn\x20'+'uint2float'+'(value:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20rgba_u32'+'\x20=\x20vec4<u3'+'2>(value\x20*'+'\x20255.0);\x0a\x20'+'\x20\x20\x20let\x20int'+'Bits:\x20u32\x20'+'=\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'r\x20<<\x2024u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'g\x20<<\x2016u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'b\x20<<\x208u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20rgba_u32.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20bitcas'+'t<f32>(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0af'+'n\x20float2ve'+'c4(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CAPS_TEX'+'TURE_FLOAT'+'_RENDERABL'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(value,'+'\x201.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20float2ui'+'nt(value);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#endi'+'f\x20//\x20FLOAT'+'_AS_UINT\x0a',kM='\x0a\x0avar<priv'+'ate>\x20dBlen'+'dModeFogFa'+'ctor\x20:\x20f32'+'\x20=\x201.0;\x0a\x0a#'+'if\x20(FOG\x20!='+'\x20NONE)\x0a\x20\x20\x20'+'\x20uniform\x20f'+'og_color\x20:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20fog_sta'+'rt\x20:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20fog_'+'end\x20:\x20f32;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20fog'+'_density\x20:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afn\x20ge'+'tFogFactor'+'()\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20depth\x20=\x20p'+'cPosition.'+'z\x20/\x20pcPosi'+'tion.w;\x0a\x0a\x20'+'\x20\x20\x20var\x20fog'+'Factor\x20:\x20f'+'32\x20=\x200.0;\x0a'+'\x0a\x20\x20\x20\x20#if\x20('+'FOG\x20==\x20LIN'+'EAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20(unif'+'orm.fog_en'+'d\x20-\x20depth)'+'\x20/\x20(unifor'+'m.fog_end\x20'+'-\x20uniform.'+'fog_start)'+';\x0a\x20\x20\x20\x20#eli'+'f\x20(FOG\x20==\x20'+'EXP)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20exp(-'+'depth\x20*\x20un'+'iform.fog_'+'density);\x0a'+'\x20\x20\x20\x20#elif\x20'+'(FOG\x20==\x20EX'+'P2)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fogFacto'+'r\x20=\x20exp(-d'+'epth\x20*\x20dep'+'th\x20*\x20unifo'+'rm.fog_den'+'sity\x20*\x20uni'+'form.fog_d'+'ensity);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(fo'+'gFactor,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0afn\x20addF'+'og(color\x20:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'uniform.fo'+'g_color\x20*\x20'+'dBlendMode'+'FogFactor,'+'\x20color,\x20ge'+'tFogFactor'+'());\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'color;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',UM='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0afn'+'\x20getFresne'+'l(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20cosTheta:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y:\x20f32\x0a\x20\x20\x20'+'\x20#endif\x0a)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20f'+'resnel:\x20f3'+'2\x20=\x20pow(1.'+'0\x20-\x20satura'+'te(cosThet'+'a),\x205.0);\x0a'+'\x20\x20\x20\x20let\x20gl'+'ossSq:\x20f32'+'\x20=\x20gloss\x20*'+'\x20gloss;\x0a\x20\x20'+'\x20\x20let\x20ret:'+'\x20vec3f\x20=\x20s'+'pecularity'+'\x20+\x20(max(ve'+'c3f(glossS'+'q),\x20specul'+'arity)\x20-\x20s'+'pecularity'+')\x20*\x20fresne'+'l;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20mix(ret,'+'\x20iridescen'+'ceFresnel,'+'\x20iridescen'+'ceIntensit'+'y);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20r'+'et;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0afn'+'\x20getFresne'+'lCC(cosThe'+'ta:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20fres'+'nel:\x20f32\x20='+'\x20pow(1.0\x20-'+'\x20saturate('+'cosTheta),'+'\x205.0);\x0a\x20\x20\x20'+'\x20return\x200.'+'04\x20+\x20(1.0\x20'+'-\x200.04)\x20*\x20'+'fresnel;\x0a}',BM='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x0avary'+'ing\x20vUv0:\x20'+'vec2f;\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4f(inpu'+'t.vertex_p'+'osition,\x200'+'.5,\x201.0);\x0a'+'\x20\x20\x20\x20output'+'.vUv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x20vec2f(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',zM='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInput(c'+'olor:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGammaFloa'+'t(color);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20fn\x20gammaC'+'orrectInpu'+'tVec3(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20deco'+'deGamma3(c'+'olor);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInputVe'+'c4(color:\x20'+'vec4f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(d'+'ecodeGamma'+'3(color.xy'+'z),\x20color.'+'w);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Output(col'+'or:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20pow'+'(color\x20+\x200'+'.0000001,\x20'+'vec3f(1.0\x20'+'/\x202.2));\x0a\x20'+'\x20\x20\x20}\x0a\x0a#els'+'e\x20//\x20NONE\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Input(colo'+'r:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20gammaCo'+'rrectInput'+'Vec3(color'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20gamm'+'aCorrectIn'+'putVec4(co'+'lor:\x20vec4f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20g'+'ammaCorrec'+'tOutput(co'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a',VM='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_gl'+'oss:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getGlossi'+'ness()\x20{\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_GL'+'OSS_CONSTA'+'NT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20unifo'+'rm.materia'+'l_gloss;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_GLOS'+'S_TEXTURE\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x20dG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_GLOSS'+'_TEXTURE_N'+'AME},\x20{STD'+'_GLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_GLOSS_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_GLOSS_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_I'+'NVERT\x0a\x20\x20\x20\x20'+'dGlossines'+'s\x20=\x201.0\x20-\x20'+'dGlossines'+'s;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20d'+'Glossiness'+'\x20=\x20dGlossi'+'ness\x20+\x200.0'+'000001;\x0a}\x0a',GM='\x0auniform\x20m'+'atrix_mode'+'l:\x20mat4x4f'+';\x0auniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0auniform\x20'+'matrix_pro'+'jection:\x20m'+'at4x4f;\x0a\x0a/'+'/\x20project\x20'+'the\x20model\x20'+'space\x20gaus'+'sian\x20cente'+'r\x20to\x20view\x20'+'and\x20clip\x20s'+'pace\x0afn\x20in'+'itCenter(m'+'odelCenter'+':\x20vec3f,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>)\x20->\x20bo'+'ol\x20{\x0a\x20\x20\x20\x20l'+'et\x20modelVi'+'ew:\x20mat4x4'+'f\x20=\x20unifor'+'m.matrix_v'+'iew\x20*\x20unif'+'orm.matrix'+'_model;\x0a\x20\x20'+'\x20\x20let\x20cent'+'erView:\x20ve'+'c4f\x20=\x20mode'+'lView\x20*\x20ve'+'c4f(modelC'+'enter,\x201.0'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20if\x20splat\x20'+'is\x20behind\x20'+'the\x20camera'+'\x0a\x20\x20\x20\x20if\x20(c'+'enterView.'+'z\x20>\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20ce'+'nterProj:\x20'+'vec4f\x20=\x20un'+'iform.matr'+'ix_project'+'ion\x20*\x20cent'+'erView;\x0a\x0a\x20'+'\x20\x20\x20//\x20ensu'+'re\x20gaussia'+'ns\x20are\x20not'+'\x20clipped\x20b'+'y\x20camera\x20n'+'ear\x20and\x20fa'+'r\x0a\x20\x20\x20\x20cent'+'erProj.z\x20='+'\x20clamp(cen'+'terProj.z,'+'\x200.0,\x20abs('+'centerProj'+'.w));\x0a\x0a\x20\x20\x20'+'\x20center.vi'+'ew\x20=\x20cente'+'rView.xyz\x20'+'/\x20centerVi'+'ew.w;\x0a\x20\x20\x20\x20'+'center.pro'+'j\x20=\x20center'+'Proj;\x0a\x20\x20\x20\x20'+'center.pro'+'jMat00\x20=\x20u'+'niform.mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',HM='\x0a\x0avar\x20spla'+'tColor:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20r'+'eadColor(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20tex'+'tureLoad(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a}\x0a',WM='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20order:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20id:\x20u3'+'2,\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'uv:\x20vec2<i'+'32>,\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20corn'+'erUV:\x20vec2'+'f,\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a}\x0a\x0a'+'//\x20stores\x20'+'the\x20camera'+'\x20and\x20clip\x20'+'space\x20posi'+'tion\x20of\x20th'+'e\x20gaussian'+'\x20center\x0ast'+'ruct\x20Splat'+'Center\x20{\x0a\x20'+'\x20\x20\x20view:\x20v'+'ec3f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20vi'+'ew\x20space\x0a\x20'+'\x20\x20\x20proj:\x20v'+'ec4f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20cl'+'ip\x20space\x0a\x20'+'\x20\x20\x20modelVi'+'ew:\x20mat4x4'+'f,\x20\x20\x20//\x20mo'+'del-view\x20m'+'atrix\x0a\x20\x20\x20\x20'+'projMat00:'+'\x20f32,\x20\x20\x20\x20\x20'+'\x20\x20//\x20eleme'+'mt\x20[0][0]\x20'+'of\x20the\x20pro'+'jection\x20ma'+'trix\x0a}\x0a\x0a//'+'\x20stores\x20th'+'e\x20offset\x20f'+'rom\x20center'+'\x20for\x20the\x20c'+'urrent\x20gau'+'ssian\x0astru'+'ct\x20SplatCo'+'rner\x20{\x0a\x20\x20\x20'+'\x20offset:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20corn'+'er\x20offset\x20'+'from\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'uv:\x20vec2f,'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20aaFactor:'+'\x20f32,\x20//\x20f'+'or\x20scenes\x20'+'generated\x20'+'with\x20antia'+'liasing\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0a#include'+'\x20\x22gsplatEv'+'alSHVS\x22\x0a#i'+'nclude\x20\x22gs'+'platQuatTo'+'Mat3VS\x22\x0a\x0a#'+'if\x20GSPLAT_'+'COMPRESSED'+'_DATA\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatComp'+'ressedData'+'VS\x22\x0a\x20\x20\x20\x20#i'+('f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsDataVS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tSogsColor'+'VS\x22\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsSHVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#else\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatData'+'VS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22gs'+'platColorV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0afn\x20'+'clipCorner'+'(corner:\x20p'+'tr<functio'+'n,\x20SplatCo'+'rner>,\x20alp'+'ha:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'lip:\x20f32\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20(255'+'.0\x20*\x20alpha'+')))\x20/\x202.0)'+';\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20corner.o'+'ffset\x20*\x20cl'+'ip;\x0a\x20\x20\x20\x20co'+'rner.uv\x20=\x20'+'corner.uv\x20'+'*\x20clip;\x0a}\x0a'+'\x0a'),$M='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0avar'+'\x20chunkText'+'ure:\x20textu'+'re_2d<f32>'+';\x0a\x0a//\x20work'+'\x20values\x0ava'+'r<private>'+'\x20chunkData'+'A:\x20vec4f;\x20'+'\x20\x20\x20//\x20x:\x20m'+'in_x,\x20y:\x20m'+'in_y,\x20z:\x20m'+'in_z,\x20w:\x20m'+'ax_x\x0avar<p'+'rivate>\x20ch'+'unkDataB:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20max_'+'y,\x20y:\x20max_'+'z,\x20z:\x20scal'+'e_min_x,\x20w'+':\x20scale_mi'+'n_y\x0avar<pr'+'ivate>\x20chu'+'nkDataC:\x20v'+'ec4f;\x20\x20\x20\x20/'+'/\x20x:\x20scale'+'_min_z,\x20y:'+'\x20scale_max'+'_x,\x20z:\x20sca'+'le_max_y,\x20'+'w:\x20scale_m'+'ax_z\x0avar<p'+'rivate>\x20ch'+'unkDataD:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20min_'+'r,\x20y:\x20min_'+'g,\x20z:\x20min_'+'b,\x20w:\x20max_'+'r\x0avar<priv'+'ate>\x20chunk'+'DataE:\x20vec'+'4f;\x20\x20\x20\x20//\x20'+'x:\x20max_g,\x20'+'y:\x20max_b,\x20'+'z:\x20unused,'+'\x20w:\x20unused'+'\x0avar<priva'+'te>\x20packed'+'Data:\x20vec4'+'u;\x20\x20\x20\x20//\x20x'+':\x20position'+'\x20bits,\x20y:\x20'+'rotation\x20b'+'its,\x20z:\x20sc'+'ale\x20bits,\x20'+'w:\x20color\x20b'+'its\x0a\x0afn\x20un'+'pack111011'+'(bits:\x20u32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(vec3f'+'((vec3<u32'+'>(bits)\x20>>'+'\x20vec3<u32>'+'(21u,\x2011u,'+'\x200u))\x20&\x20ve'+'c3<u32>(0x'+'7ffu,\x200x3f'+'fu,\x200x7ffu'+')))\x20/\x20vec3'+'f(2047.0,\x20'+'1023.0,\x2020'+'47.0);\x0a}\x0a\x0a'+'fn\x20unpack8'+'888(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20f32((bit'+'s\x20>>\x2024u)\x20'+'&\x200xffu),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((bits\x20>>'+'\x2016u)\x20&\x200x'+'ffu),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20f32((b'+'its\x20>>\x208u)'+'\x20\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(bits\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20&\x200'+'xffu)\x0a\x20\x20\x20\x20'+')\x20/\x20255.0;'+('\x0a}\x0a\x0aconst\x20'+'norm_const'+':\x20f32\x20=\x201.'+'0\x20/\x20(sqrt('+'2.0)\x20*\x200.5'+');\x0a\x0afn\x20unp'+'ackRotatio'+'n(bits:\x20u3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x20(f32'+'((bits\x20>>\x20'+'20u)\x20&\x200x3'+'ffu)\x20/\x20102'+'3.0\x20-\x200.5)'+'\x20*\x20norm_co'+'nst;\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20(f3'+'2((bits\x20>>'+'\x2010u)\x20&\x200x'+'3ffu)\x20/\x2010'+'23.0\x20-\x200.5'+')\x20*\x20norm_c'+'onst;\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20(f'+'32(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+'_const;\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'sqrt(1.0\x20-'+'\x20(a\x20*\x20a\x20+\x20'+'b\x20*\x20b\x20+\x20c\x20'+'*\x20c));\x0a\x0a\x20\x20'+'\x20\x20let\x20mode'+'\x20=\x20bits\x20>>'+'\x2030u;\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x200u)\x20{\x20re'+'turn\x20vec4f'+'(m,\x20a,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20m,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x202u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20b,\x20m,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(a,\x20b,\x20c'+',\x20m);\x0a}\x0a\x0a/'+'/\x20read\x20cen'+'ter\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex_siz'+'e_u\x20=\x20text'+'ureDimensi'+'ons(chunkT'+'exture,\x200)'+';\x0a\x20\x20\x20\x20let\x20'+'w:\x20u32\x20=\x20t'+'ex_size_u.'+'x\x20/\x205u;\x0a\x20\x20'+'\x20\x20let\x20chun'+'kId:\x20u32\x20='+'\x20source.id'+'\x20/\x20256u;\x0a\x20'+'\x20\x20\x20let\x20chu'+'nkUV:\x20vec2'+'<i32>\x20=\x20ve'+'c2<i32>(i3'+'2((chunkId'+'\x20%\x20w)\x20*\x205u'+'),\x20i32(chu'+'nkId\x20/\x20w))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'read\x20chunk'+'\x20and\x20packe'+'d\x20compress'+'ed\x20data\x0a\x20\x20'+'\x20\x20chunkDat'+'aA\x20=\x20textu'+'reLoad(chu'+'nkTexture,'+'\x20chunkUV\x20+'+'\x20vec2<i32>'+'(0,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataB\x20=\x20t'+'extureLoad')+('(chunkText'+'ure,\x20chunk'+'UV\x20+\x20vec2<'+'i32>(1,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataC'+'\x20=\x20texture'+'Load(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20v'+'ec2<i32>(2'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataD\x20=\x20tex'+'tureLoad(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20vec2<i3'+'2>(3,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataE\x20='+'\x20textureLo'+'ad(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20vec'+'2<i32>(4,\x20'+'0),\x200);\x0a\x20\x20'+'\x20\x20packedDa'+'ta\x20=\x20textu'+'reLoad(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(chunkDa'+'taA.xyz,\x20v'+'ec3f(chunk'+'DataA.w,\x20c'+'hunkDataB.'+'xy),\x20unpac'+'k111011(pa'+'ckedData.x'+'));\x0a}\x0a\x0afn\x20'+'readColor('+'source:\x20pt'+'r<function'+',\x20SplatSou'+'rce>)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20let\x20r\x20=\x20u'+'npack8888('+'packedData'+'.w);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(mix(chun'+'kDataD.xyz'+',\x20vec3f(ch'+'unkDataD.w'+',\x20chunkDat'+'aE.xy),\x20r.'+'rgb),\x20r.w)'+';\x0a}\x0a\x0afn\x20ge'+'tRotation('+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20unpack'+'Rotation(p'+'ackedData.'+'y);\x0a}\x0a\x0afn\x20'+'getScale()'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20exp(mix'+'(vec3f(chu'+'nkDataB.zw'+',\x20chunkDat'+'aC.x),\x20chu'+'nkDataC.yz'+'w,\x20unpack1'+'11011(pack'+'edData.z))'+');\x0a}\x0a\x0a//\x20g'+'iven\x20a\x20rot'+'ation\x20matr'+'ix\x20and\x20sca'+'le\x20vector,'+'\x20compute\x203'+'d\x20covarian'+'ce\x20A\x20and\x20B'+'\x0afn\x20readCo'+'variance(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>,\x20covA_'+'ptr:\x20ptr<f'+'unction,\x20v'+'ec3f>,\x20cov'+'B_ptr:\x20ptr'+'<function,')+('\x20vec3f>)\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'ot\x20=\x20quatT'+'oMat3(getR'+'otation())'+';\x0a\x20\x20\x20\x20let\x20'+'scale\x20=\x20ge'+'tScale();\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20let\x20M\x20=\x20'+'transpose('+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.x\x20*\x20rot'+'[0],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.y'+'\x20*\x20rot[1],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.z\x20*\x20r'+'ot[2]\x0a\x20\x20\x20\x20'+'));\x0a\x0a\x20\x20\x20\x20*'+'covA_ptr\x20='+'\x20vec3f(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20*covB_p'+'tr\x20=\x20vec3f'+'(dot(M[1],'+'\x20M[1]),\x20do'+'t(M[1],\x20M['+'2]),\x20dot(M'+'[2],\x20M[2])'+');\x0a}\x0a'),XM='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0av'+'ar\x20shTextu'+'re0:\x20textu'+'re_2d<u32>'+';\x0avar\x20shTe'+'xture1:\x20te'+'xture_2d<u'+'32>;\x0avar\x20s'+'hTexture2:'+'\x20texture_2'+'d<u32>;\x0a\x0af'+'n\x20unpack88'+'88s(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20unpack'+'ed_u\x20=\x20(ve'+'c4<u32>(bi'+'ts)\x20>>\x20vec'+'4<u32>(0u,'+'\x208u,\x2016u,\x20'+'24u))\x20&\x20ve'+'c4<u32>(0x'+'ffu);\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(unpacke'+'d_u)\x20*\x20(8.'+'0\x20/\x20255.0)'+'\x20-\x204.0;\x0a}\x0a'+'\x0afn\x20readSH'+'Data(sourc'+'e:\x20ptr<fun'+'ction,\x20Spl'+'atSource>,'+'\x20sh:\x20ptr<f'+'unction,\x20a'+'rray<vec3f'+',\x2015>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20read\x20t'+'he\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20let\x20shD'+'ata0:\x20vec4'+'<u32>\x20=\x20te'+'xtureLoad('+'shTexture0'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20let\x20shDat'+'a1:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(sh'+'Texture1,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20shData2'+':\x20vec4<u32'+'>\x20=\x20textur'+'eLoad(shTe'+'xture2,\x20so'+'urce.uv,\x200'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20r0\x20=\x20unp'+'ack8888s(s'+'hData0.x);'+'\x0a\x20\x20\x20\x20let\x20r'+'1\x20=\x20unpack'+'8888s(shDa'+'ta0.y);\x0a\x20\x20'+'\x20\x20let\x20r2\x20='+'\x20unpack888'+'8s(shData0'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20r3\x20=\x20un'+'pack8888s('+'shData0.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20g0\x20=\x20unpa'+'ck8888s(sh'+'Data1.x);\x0a'+'\x20\x20\x20\x20let\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20let\x20g2\x20=\x20'+'unpack8888'+'s(shData1.'+'z);\x0a\x20\x20\x20\x20le'+'t\x20g3\x20=\x20unp'+'ack8888s(s'+'hData1.w);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'b0\x20=\x20unpac'+'k8888s(shD'+'ata2.x);\x0a\x20'+'\x20\x20\x20let\x20b1\x20'+('=\x20unpack88'+'88s(shData'+'2.y);\x0a\x20\x20\x20\x20'+'let\x20b2\x20=\x20u'+'npack8888s'+'(shData2.z'+');\x0a\x20\x20\x20\x20let'+'\x20b3\x20=\x20unpa'+'ck8888s(sh'+'Data2.w);\x0a'+'\x0a\x20\x20\x20\x20sh[0]'+'\x20=\x20\x20vec3f('+'r0.x,\x20g0.x'+',\x20b0.x);\x0a\x20'+'\x20\x20\x20sh[1]\x20='+'\x20\x20vec3f(r0'+'.y,\x20g0.y,\x20'+'b0.y);\x0a\x20\x20\x20'+'\x20sh[2]\x20=\x20\x20'+'vec3f(r0.z'+',\x20g0.z,\x20b0'+'.z);\x0a\x20\x20\x20\x20s'+'h[3]\x20=\x20\x20ve'+'c3f(r0.w,\x20'+'g0.w,\x20b0.w'+');\x0a\x20\x20\x20\x20sh['+'4]\x20=\x20\x20vec3'+'f(r1.x,\x20g1'+'.x,\x20b1.x);'+'\x0a\x20\x20\x20\x20sh[5]'+'\x20=\x20\x20vec3f('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3f(r1'+'.z,\x20g1.z,\x20'+'b1.z);\x0a\x20\x20\x20'+'\x20sh[7]\x20=\x20\x20'+'vec3f(r1.w'+',\x20g1.w,\x20b1'+'.w);\x0a\x20\x20\x20\x20s'+'h[8]\x20=\x20\x20ve'+'c3f(r2.x,\x20'+'g2.x,\x20b2.x'+');\x0a\x20\x20\x20\x20sh['+'9]\x20=\x20\x20vec3'+'f(r2.y,\x20g2'+'.y,\x20b2.y);'+'\x0a\x20\x20\x20\x20sh[10'+']\x20=\x20vec3f('+'r2.z,\x20g2.z'+',\x20b2.z);\x0a\x20'+'\x20\x20\x20sh[11]\x20'+'=\x20vec3f(r2'+'.w,\x20g2.w,\x20'+'b2.w);\x0a\x20\x20\x20'+'\x20sh[12]\x20=\x20'+'vec3f(r3.x'+',\x20g3.x,\x20b3'+'.x);\x0a\x20\x20\x20\x20s'+'h[13]\x20=\x20ve'+'c3f(r3.y,\x20'+'g3.y,\x20b3.y'+');\x0a\x20\x20\x20\x20sh['+'14]\x20=\x20vec3'+'f(r3.z,\x20g3'+'.z,\x20b3.z);'+'\x0a\x0a\x20\x20\x20\x20*sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),qM='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'COEFFS:\x20i3'+'2\x20=\x203;\x0a\x20\x20\x20'+'\x20#elif\x20SH_'+'BANDS\x20==\x202'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20SH_CO'+'EFFS:\x20i32\x20'+'=\x208;\x0a\x20\x20\x20\x20#'+'elif\x20SH_BA'+'NDS\x20==\x203\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20con'+'st\x20SH_COEF'+'FS:\x20i32\x20=\x20'+'15;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20const\x20SH'+'_COEFFS:\x20i'+'32\x20=\x200;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20SH'+'_BANDS\x20>\x200'+'\x0a\x0a\x20\x20\x20\x20cons'+'t\x20SH_C1:\x20f'+'32\x20=\x200.488'+'6025119029'+'199;\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x201\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20const'+'\x20SH_C2_0:\x20'+'f32\x20=\x201.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_1:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_2:\x20f'+'32\x20=\x200.315'+'3915652525'+'2005;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_3:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_4:\x20f'+'32\x20=\x200.546'+'2742152960'+'396;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SH_BA'+'NDS\x20>\x202\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_0:'+'\x20f32\x20=\x20-0.'+'5900435899'+'266435;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_1:'+'\x20f32\x20=\x202.8'+'9061144264'+'0554;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_2:\x20f'+'32\x20=\x20-0.45'+'7045799464'+'4658;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_3:\x20f'+'32\x20=\x200.373'+'1763325901'+'154;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_4:\x20f3'+'2\x20=\x20-0.457'+'0457994644'+'658;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_5:\x20f3'+'2\x20=\x201.4453'+'0572132027'+'7;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'C3_6:\x20f32\x20'+'=\x20-0.59004'+'3589926643'+'5;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20see\x20http'+'s://github'+'.com/graph'+'deco-inria'+('/gaussian-'+'splatting/'+'blob/main/'+'utils/sh_u'+'tils.py\x0a\x20\x20'+'\x20\x20fn\x20evalS'+'H(sh:\x20ptr<'+'function,\x20'+'array<vec3'+'f,\x20SH_COEF'+'FS>>,\x20dir:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x\x20=\x20dir.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20y\x20=\x20di'+'r.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20z\x20='+'\x20dir.z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'1st\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20result\x20'+'=\x20SH_C1\x20*\x20'+'(-sh[0]\x20*\x20'+'y\x20+\x20sh[1]\x20'+'*\x20z\x20-\x20sh[2'+']\x20*\x20x);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x201\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x202'+'nd\x20degree\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xx\x20='+'\x20x\x20*\x20x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20yy\x20=\x20y'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20yz'+'\x20=\x20y\x20*\x20z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xz\x20='+'\x20x\x20*\x20z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'result\x20+\x20('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'3]\x20*\x20(SH_C'+'2_0\x20*\x20xy)\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[4]\x20*\x20(SH_'+'C2_1\x20*\x20yz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[5]\x20*\x20(SH'+'_C2_2\x20*\x20(2'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[6]\x20*\x20(SH_'+'C2_3\x20*\x20xz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[7]\x20*\x20(SH'+'_C2_4\x20*\x20(x'+'x\x20-\x20yy))\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'=\x20result\x20+'+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20re'+'sult;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20#end'+'if\x0a'),jM='\x0afn\x20quatTo'+'Mat3(R:\x20ve'+'c4<f32>)\x20-'+'>\x20mat3x3<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'let\x20R2:\x20ve'+'c4<f32>\x20=\x20'+'R\x20+\x20R;\x0a\x20\x20\x20'+'\x20let\x20X:\x20f3'+'2\x20\x20\x20\x20\x20\x20\x20=\x20'+'R2.x\x20*\x20R.w'+';\x0a\x20\x20\x20\x20let\x20'+'Y:\x20vec4<f3'+'2>\x20=\x20R2.y\x20'+'*\x20R;\x0a\x20\x20\x20\x20l'+'et\x20Z:\x20vec4'+'<f32>\x20=\x20R2'+'.z\x20*\x20R;\x0a\x20\x20'+'\x20\x20let\x20W:\x20f'+'32\x20\x20\x20\x20\x20\x20\x20='+'\x20R2.w\x20*\x20R.'+'w;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20mat3x'+'3<f32>(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Z.z\x20-\x20W,'+'\x20\x20Y.z\x20+\x20X,'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.z\x20-'+'\x20X,\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x20Y.y'+'\x20-\x20W,\x20Z.w\x20'+'+\x20Y.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.w\x20+'+'\x20Z.x,\x20\x20\x20\x20\x20'+'\x20Z.w\x20-\x20Y.x'+',\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',YM='\x0avar\x20sh0:\x20'+'texture_2d'+'<f32>;\x0a\x0aun'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0auniform'+'\x20sh0_maxs:'+'\x20vec4f;\x0a\x0ac'+'onst\x20SH_C0'+':\x20f32\x20=\x200.'+'2820947917'+'7387814;\x0a\x0a'+'fn\x20readCol'+'or(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20let\x20cl'+'r:\x20vec4f\x20='+'\x20mix(unifo'+'rm.sh0_min'+'s,\x20uniform'+'.sh0_maxs,'+'\x20textureLo'+'ad(sh0,\x20so'+'urce.uv,\x200'+'));\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(vec3f(0.5'+')\x20+\x20clr.xy'+'z\x20*\x20SH_C0,'+'\x201.0\x20/\x20(1.'+'0\x20+\x20exp(-c'+'lr.w)));\x0a}'+'\x0a',KM='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0a\x0aun'+'iform\x20mean'+'s_mins:\x20ve'+'c3f;\x0aunifo'+'rm\x20means_m'+'axs:\x20vec3f'+';\x0a\x0auniform'+'\x20scales_mi'+'ns:\x20vec3f;'+'\x0auniform\x20s'+'cales_maxs'+':\x20vec3f;\x0a\x0a'+'fn\x20unpackU'+'32(u:\x20u32)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20vec4f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((u\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((u\x20>>\x201'+'6u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((u\x20>>\x20'+'8u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(u\x20&\x200x'+'FFu)\x20/\x20255'+'.0\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avar<pri'+'vate>\x20pack'+'edSample:\x20'+'vec4<u32>;'+'\x0a\x0a//\x20read\x20'+'the\x20model-'+'space\x20cent'+'er\x20of\x20the\x20'+'gaussian\x0af'+'n\x20readCent'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec3f\x20{\x0a'+'\x0a\x20\x20\x20\x20packe'+'dSample\x20=\x20'+'textureLoa'+'d(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20l:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.x).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20u:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20n:\x20vec3f\x20'+'=\x20(l\x20*\x20255'+'.0\x20+\x20u\x20*\x202'+'55.0\x20*\x20256'+'.0)\x20/\x206553'+'5.0;\x0a\x20\x20\x20\x20l'+'et\x20v:\x20vec3'+'f\x20=\x20mix(un'+'iform.mean'+'s_mins,\x20un'+'iform.mean'+'s_maxs,\x20n)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20sign(v'+')\x20*\x20(exp(a'+'bs(v))\x20-\x201'+'.0);\x0a}\x0a\x0aco'+'nst\x20norm:\x20'+'f32\x20=\x202.0\x20'+'/\x20sqrt(2.0'+');\x0a\x0a//\x20sam'+'ple\x20covari'+'ance\x20vecto'+'rs\x0afn\x20read'+'Covariance'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>,\x20cov'+'A_ptr:\x20ptr'+'<function,'+'\x20vec3f>,\x20c'+('ovB_ptr:\x20p'+'tr<functio'+'n,\x20vec3f>)'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20qdata:\x20ve'+'c4f\x20=\x20unpa'+'ckU32(pack'+'edSample.z'+');\x0a\x20\x20\x20\x20let'+'\x20sdata:\x20ve'+'c3f\x20=\x20unpa'+'ckU32(pack'+'edSample.w'+').xyz;\x0a\x0a\x20\x20'+'\x20\x20let\x20abc:'+'\x20vec3f\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(abc,'+'\x20abc)));\x0a\x0a'+'\x20\x20\x20\x20let\x20mo'+'de:\x20u32\x20=\x20'+'u32(qdata.'+'w\x20*\x20255.0\x20'+'+\x200.5)\x20-\x202'+'52u;\x0a\x0a\x20\x20\x20\x20'+'var\x20quat:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20if\x20(mode\x20'+'==\x200u)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20qua'+'t\x20=\x20vec4f('+'d,\x20abc);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20quat'+'\x20=\x20vec4f(a'+'bc.x,\x20d,\x20a'+'bc.y,\x20abc.'+'z);\x0a\x20\x20\x20\x20}\x20'+'else\x20if\x20(m'+'ode\x20==\x202u)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20quat\x20=\x20ve'+'c4f(abc.x,'+'\x20abc.y,\x20d,'+'\x20abc.z);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'quat\x20=\x20vec'+'4f(abc.x,\x20'+'abc.y,\x20abc'+'.z,\x20d);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x0a\x20\x20\x20\x20'+'let\x20rot:\x20m'+'at3x3f\x20=\x20q'+'uatToMat3('+'quat);\x0a\x20\x20\x20'+'\x20let\x20scale'+':\x20vec3f\x20=\x20'+'exp(mix(un'+'iform.scal'+'es_mins,\x20u'+'niform.sca'+'les_maxs,\x20'+'sdata));\x0a\x0a'+'\x20\x20\x20\x20//\x20M\x20='+'\x20S\x20*\x20R\x0a\x20\x20\x20'+'\x20let\x20M:\x20ma'+'t3x3f\x20=\x20tr'+'anspose(ma'+'t3x3f(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20*co'+'vA_ptr\x20=\x20v'+'ec3f(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20*covB_ptr'+'\x20=\x20vec3f(d'+'ot(M[1],\x20M'+'[1]),\x20dot('+'M[1],\x20M[2]'+'),\x20dot(M[2'+'],\x20M[2]));')+'\x0a}\x0a',ZM='\x0avar\x20sh_ce'+'ntroids:\x20t'+'exture_2d<'+'f32>;\x0a\x0auni'+'form\x20shN_m'+'ins:\x20f32;\x0a'+'uniform\x20sh'+'N_maxs:\x20f3'+'2;\x0a\x0afn\x20rea'+'dSHData(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>,\x20sh:\x20pt'+'r<function'+',\x20array<ve'+'c3f,\x20SH_CO'+'EFFS>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'let\x20t:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'32(packedS'+'ample.x\x20&\x20'+'255u),\x20i32'+'(packedSam'+'ple.y\x20&\x2025'+'5u));\x0a\x20\x20\x20\x20'+'let\x20n:\x20i32'+'\x20=\x20t.x\x20+\x20t'+'.y\x20*\x20256;\x0a'+'\x20\x20\x20\x20let\x20u:'+'\x20i32\x20=\x20(n\x20'+'%\x2064)\x20*\x20SH'+'_COEFFS;\x0a\x20'+'\x20\x20\x20let\x20v:\x20'+'i32\x20=\x20n\x20/\x20'+'64;\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20offset\x20i'+'nto\x20the\x20ce'+'ntroids\x20te'+'xture\x20and\x20'+'read\x20conse'+'cutive\x20tex'+'els\x0a\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'i32\x20=\x200;\x20i'+'\x20<\x20SH_COEF'+'FS;\x20i\x20=\x20i\x20'+'+\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[i]'+'\x20=\x20mix(vec'+'3f(uniform'+'.shN_mins)'+',\x20vec3f(un'+'iform.shN_'+'maxs),\x20tex'+'tureLoad(s'+'h_centroid'+'s,\x20vec2<i3'+'2>(u\x20+\x20i,\x20'+'v),\x200).xyz'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20*scale'+'\x20=\x201.0;\x0a}\x0a',QM='\x0auniform\x20v'+'iewport:\x20v'+'ec2f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20view'+'port\x20dimen'+'sions\x0aunif'+'orm\x20camera'+'_params:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201\x20/\x20far,\x20'+'far,\x20near,'+'\x20isOrtho\x0a\x0a'+'//\x20calcula'+'te\x20the\x20cli'+'p-space\x20of'+'fset\x20from\x20'+'the\x20center'+'\x20for\x20this\x20'+'gaussian\x0af'+'n\x20initCorn'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>,\x20corne'+'r:\x20ptr<fun'+'ction,\x20Spl'+'atCorner>)'+'\x20->\x20bool\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20var'+'\x20covA:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20covB:\x20ve'+'c3f;\x0a\x20\x20\x20\x20r'+'eadCovaria'+'nce(source'+',\x20&covA,\x20&'+'covB);\x0a\x0a\x20\x20'+'\x20\x20let\x20Vrk\x20'+'=\x20mat3x3f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(covA.'+'x,\x20covA.y,'+'\x20covA.z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(covA.y'+',\x20covB.x,\x20'+'covB.y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(covA.z,'+'\x20covB.y,\x20c'+'ovB.z)\x0a\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20l'+'et\x20focal\x20='+'\x20uniform.v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20let\x20v'+'\x20=\x20select('+'center.vie'+'w.xyz,\x20vec'+'3f(0.0,\x200.'+'0,\x201.0),\x20u'+'niform.cam'+'era_params'+'.w\x20==\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'J1\x20=\x20focal'+'\x20/\x20v.z;\x0a\x20\x20'+'\x20\x20let\x20J2\x20='+'\x20-J1\x20/\x20v.z'+'\x20*\x20v.xy;\x0a\x20'+'\x20\x20\x20let\x20J\x20='+'\x20mat3x3f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(J1,\x200.'+'0,\x20J2.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x20J'+'1,\x20J2.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x200'+'.0,\x200.0)\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20W\x20=\x20t'+'ranspose(m'+'at3x3f(cen'+'ter.modelV'+'iew[0].xyz'+',\x20center.m'+'odelView[1'+'].xyz,\x20cen'+('ter.modelV'+'iew[2].xyz'+'));\x0a\x20\x20\x20\x20le'+'t\x20T\x20=\x20W\x20*\x20'+'J;\x0a\x20\x20\x20\x20let'+'\x20cov\x20=\x20tra'+'nspose(T)\x20'+'*\x20Vrk\x20*\x20T;'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'GSPLAT_AA\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20calculate'+'\x20AA\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20detOrig'+'\x20=\x20cov[0]['+'0]\x20*\x20cov[1'+'][1]\x20-\x20cov'+'[0][1]\x20*\x20c'+'ov[1][0];\x20'+'//\x20Using\x20['+'0][1]\x20*\x20[1'+'][0]\x20as\x20ma'+'trix\x20might'+'\x20not\x20be\x20pe'+'rfectly\x20sy'+'mmetric\x20nu'+'merically\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20detBlur\x20'+'=\x20(cov[0]['+'0]\x20+\x200.3)\x20'+'*\x20(cov[1]['+'1]\x20+\x200.3)\x20'+'-\x20cov[0][1'+']\x20*\x20cov[1]'+'[0];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20corner.'+'aaFactor\x20='+'\x20sqrt(detO'+'rig\x20/\x20detB'+'lur);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal1\x20=\x20co'+'v[0][0]\x20+\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20offDiag'+'onal\x20=\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal2\x20=\x20co'+'v[1][1]\x20+\x20'+'0.3;\x0a\x0a\x20\x20\x20\x20'+'let\x20mid\x20=\x20'+'0.5\x20*\x20(dia'+'gonal1\x20+\x20d'+'iagonal2);'+'\x0a\x20\x20\x20\x20let\x20r'+'adius\x20=\x20le'+'ngth(vec2f'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20let\x20lambd'+'a1\x20=\x20mid\x20+'+'\x20radius;\x0a\x20'+'\x20\x20\x20let\x20lam'+'bda2\x20=\x20max'+'(mid\x20-\x20rad'+'ius,\x200.1);'+'\x0a\x0a\x20\x20\x20\x20//\x20U'+'se\x20the\x20sma'+'ller\x20viewp'+'ort\x20dimens'+'ion\x20to\x20lim'+'it\x20the\x20ker'+'nel\x20size\x20r'+'elative\x20to'+'\x20the\x20scree'+'n\x20resoluti'+'on.\x0a\x20\x20\x20\x20le'+'t\x20vmin\x20=\x20m'+'in(1024.0,'+'\x20min(unifo'+'rm.viewpor'+'t.x,\x20unifo'+'rm.viewpor'+'t.y));\x0a\x0a\x20\x20'+'\x20\x20let\x20l1\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda1)'+',\x20vmin);\x0a\x20'+'\x20\x20\x20let\x20l2\x20'+'=\x202.0\x20*\x20mi'+'n(sqrt(2.0'+'\x20*\x20lambda2')+('),\x20vmin);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly-out\x20ga'+'ussians\x20sm'+'aller\x20than'+'\x202\x20pixels\x0a'+'\x20\x20\x20\x20if\x20(l1'+'\x20<\x202.0\x20&&\x20'+'l2\x20<\x202.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20fal'+'se;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'uniform.vi'+'ewport;\x0a\x0a\x20'+'\x20\x20\x20//\x20cull'+'\x20against\x20f'+'rustum\x20x/y'+'\x20axes\x0a\x20\x20\x20\x20'+'if\x20(any((a'+'bs(center.'+'proj.xy)\x20-'+'\x20vec2f(max'+'(l1,\x20l2))\x20'+'*\x20c)\x20>\x20cen'+'ter.proj.w'+'w))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20diagona'+'lVector\x20=\x20'+'normalize('+'vec2f(offD'+'iagonal,\x20l'+'ambda1\x20-\x20d'+'iagonal1))'+';\x0a\x20\x20\x20\x20let\x20'+'v1\x20=\x20l1\x20*\x20'+'diagonalVe'+'ctor;\x0a\x20\x20\x20\x20'+'let\x20v2\x20=\x20l'+'2\x20*\x20vec2f('+'diagonalVe'+'ctor.y,\x20-d'+'iagonalVec'+'tor.x);\x20//'+'\x20Swizzle\x0a\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20=\x20'+'(source.co'+'rnerUV.x\x20*'+'\x20v1\x20+\x20sour'+'ce.cornerU'+'V.y\x20*\x20v2)\x20'+'*\x20c;\x0a\x20\x20\x20\x20c'+'orner.uv\x20='+'\x20source.co'+'rnerUV;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),JM='\x0avar\x20trans'+'formA:\x20tex'+'ture_2d<u3'+'2>;\x0avar\x20tr'+'ansformB:\x20'+'texture_2d'+'<f32>;\x0a\x0a//'+'\x20work\x20valu'+'es\x0avar<pri'+'vate>\x20tAw:'+'\x20u32;\x0a\x0a//\x20'+'read\x20the\x20m'+'odel-space'+'\x20center\x20of'+'\x20the\x20gauss'+'ian\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20let\x20'+'tA:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20t'+'Aw\x20=\x20tA.w;'+'\x0a\x20\x20\x20\x20retur'+'n\x20bitcast<'+'vec3f>(tA.'+'xyz);\x0a}\x0a\x0af'+'n\x20unpackRo'+'tation(pac'+'ked:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'packed.xyz'+',\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(pack'+'ed,\x20packed'+'))));\x0a}\x0a\x0a/'+'/\x20sample\x20c'+'ovariance\x20'+'vectors\x0afn'+'\x20readCovar'+'iance(sour'+'ce:\x20ptr<fu'+'nction,\x20Sp'+'latSource>'+',\x20covA_ptr'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20covB_p'+'tr:\x20ptr<fu'+'nction,\x20ve'+'c3f>)\x20{\x0a\x20\x20'+'\x20\x20let\x20tB:\x20'+'vec4f\x20=\x20te'+'xtureLoad('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20let\x20rot:'+'\x20mat3x3f\x20='+'\x20quatToMat'+'3(unpackRo'+'tation(vec'+'3f(unpack2'+'x16float(b'+'itcast<u32'+'>(tAw)),\x20t'+'B.w)).wxyz'+');\x0a\x20\x20\x20\x20let'+'\x20scale:\x20ve'+'c3f\x20=\x20tB.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x20M\x20=\x20S\x20*\x20'+'R\x0a\x20\x20\x20\x20let\x20'+'M\x20=\x20transp'+'ose(mat3x3'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20*covA_p'+'tr\x20=\x20vec3f'+'(dot(M[0],'+'\x20M[0]),\x20do'+('t(M[0],\x20M['+'1]),\x20dot(M'+'[0],\x20M[2])'+');\x0a\x20\x20\x20\x20*co'+'vB_ptr\x20=\x20v'+'ec3f(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a'),eD='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0afn\x20'+'prepareOut'+'putFromGam'+'ma(gammaCo'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20TONEMAP\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20G'+'AMMA\x20==\x20NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nvert\x20to\x20l'+'inear\x20spac'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20decodeGam'+'ma3(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20gamma\x20'+'space\x20colo'+'r\x20directly'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'gammaColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ap'+'ply\x20tonema'+'pping\x20in\x20l'+'inear\x20spac'+'e\x20and\x20outp'+'ut\x20to\x20line'+'ar\x20or\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20gam'+'ma\x20(which\x20'+'is\x20handled'+'\x20by\x20gammaC'+'orrectOutp'+'ut)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaCorrec'+'tOutput(to'+'neMap(deco'+'deGamma3(g'+'ammaColor)'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',tD='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20PICK_PAS'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22pick'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_PASS)\x20||\x20'+'defined(PI'+'CK_PASS)\x20|'+'|\x20defined('+'PREPASS_PA'+'SS)\x0a\x20\x20\x20\x20un'+'iform\x20alph'+'aClip:\x20f32'+';\x0a#endif\x0a\x0a'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vLinearD'+'epth:\x20f32;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22float'+'AsUintPS\x22\x0a'+'#endif\x0a\x0a//'+'\x20Fast\x20appr'+'oximate\x20e^'+'x\x20based\x20on'+'\x20https://n'+'ic.schraud'+'olph.org/p'+'ubs/Schrau'+'dolph99.pd'+'f\x0aconst\x20EX'+'P_A:\x20f32\x20\x20'+'\x20\x20\x20\x20=\x201210'+'2203.0;\x20\x20\x20'+'//\x20\x202^23\x20'+'/\x20ln(2)\x0aco'+'nst\x20EXP_BC'+'_RMS:\x20i32\x20'+'=\x2010648668'+'08;\x20\x20\x20//\x20('+'127\x20<<\x2023)'+'\x20-\x2060801\x20*'+'\x208\x0afn\x20fast'+'Exp(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20var\x20i'+':\x20i32\x20=\x20i3'+'2(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20bi'+'tcast<f32>'+'(i);\x0a}\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x0a\x20\x20\x20'+'\x20let\x20A:\x20f3'+'2\x20=\x20dot(ga'+'ussianUV,\x20'+'gaussianUV'+');\x0a\x20\x20\x20\x20if\x20'+'(A\x20>\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20alpha'+'\x0a\x20\x20\x20\x20var\x20a'+'lpha:\x20f32\x20'+'=\x20fastExp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+('Color.a;\x0a\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(al'+'pha\x20<\x20unif'+'orm.alphaC'+'lip)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20PI'+'CK_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20getPickO'+'utput();\x0a\x0a'+'\x20\x20\x20\x20#elif\x20'+'SHADOW_PAS'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(0.0,\x200.0'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20PREPAS'+'S_PASS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20float2vec'+'4(vLinearD'+'epth);\x0a\x0a\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20('+'1.0\x20/\x20255.'+'0))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20opaci'+'tyDither(&'+'alpha,\x20id\x20'+'*\x200.013);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(input'+'.gaussianC'+'olor.xyz,\x20'+'alpha);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'),sD='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0afn\x20unpack'+'111011s(bi'+'ts:\x20u32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20(vec3f((v'+'ec3<u32>(b'+'its)\x20>>\x20ve'+'c3<u32>(21'+'u,\x2011u,\x200u'+'))\x20&\x20vec3<'+'u32>(0x7ff'+'u,\x200x3ffu,'+'\x200x7ffu))\x20'+'/\x20vec3f(20'+'47.0,\x201023'+'.0,\x202047.0'+'))\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0as'+'truct\x20Scal'+'eAndSH\x20{\x0a\x20'+'\x20\x20\x20scale:\x20'+'f32,\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f\x0a};\x0a\x0a'+'//\x20fetch\x20q'+'uantized\x20s'+'pherical\x20h'+'armonic\x20co'+'efficients'+'\x0afn\x20fetchS'+'cale(t_in:'+'\x20vec4<u32>'+')\x20->\x20Scale'+'AndSH\x20{\x0a\x20\x20'+'\x20\x20var\x20resu'+'lt:\x20ScaleA'+'ndSH;\x0a\x20\x20\x20\x20'+'result.sca'+'le\x20=\x20bitca'+'st<f32>(t_'+'in.x);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20unpack11'+'1011s(t_in'+'.y);\x0a\x20\x20\x20\x20r'+'esult.b\x20=\x20'+'unpack1110'+'11s(t_in.z'+');\x0a\x20\x20\x20\x20res'+'ult.c\x20=\x20un'+'pack111011'+'s(t_in.w);'+'\x0a\x20\x20\x20\x20retur'+'n\x20result;\x0a'+'}\x0a\x0astruct\x20'+'SH\x20{\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20d:\x20vec3f\x0a'+'};\x0a\x0a//\x20fet'+'ch\x20quantiz'+'ed\x20spheric'+'al\x20harmoni'+'c\x20coeffici'+'ents\x0afn\x20fe'+'tch4(t_in:'+'\x20vec4<u32>'+')\x20->\x20SH\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'sult:\x20SH;\x0a'+'\x20\x20\x20\x20result'+'.a\x20=\x20unpac'+'k111011s(t'+'_in.x);\x0a\x20\x20'+'\x20\x20result.b'+'\x20=\x20unpack1'+'11011s(t_i'+'n.y);\x0a\x20\x20\x20\x20'+'result.c\x20='+'\x20unpack111'+'011s(t_in.'+'z);\x0a\x20\x20\x20\x20re'+'sult.d\x20=\x20u'+'npack11101'+'1s(t_in.w)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20result;'+'\x0a}\x0a\x0afn\x20fet'+'ch1(t_in:\x20'+'u32)\x20->\x20ve'+('c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20unp'+'ack111011s'+'(t_in);\x0a}\x0a'+'\x0a#if\x20SH_BA'+'NDS\x20==\x201\x0a\x20'+'\x20\x20\x20var\x20spl'+'atSH_1to3:'+'\x20texture_2'+'d<u32>;\x0a\x0a\x20'+'\x20\x20\x20fn\x20read'+'SHData(sou'+'rce:\x20ptr<f'+'unction,\x20S'+'platSource'+'>,\x20sh:\x20ptr'+'<function,'+'\x20array<vec'+'3f,\x203>>,\x20s'+'cale:\x20ptr<'+'function,\x20'+'f32>)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'result\x20=\x20f'+'etchScale('+'textureLoa'+'d(splatSH_'+'1to3,\x20sour'+'ce.uv,\x200))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'*scale\x20=\x20r'+'esult.scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[0]\x20=\x20r'+'esult.a;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'1]\x20=\x20resul'+'t.b;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[2]\x20='+'\x20result.c;'+'\x0a\x20\x20\x20\x20}\x0a#el'+'if\x20SH_BAND'+'S\x20==\x202\x0a\x20\x20\x20'+'\x20var\x20splat'+'SH_1to3:\x20t'+'exture_2d<'+'u32>;\x0a\x20\x20\x20\x20'+'var\x20splatS'+'H_4to7:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_8to11:\x20te'+'xture_2d<u'+'32>;\x0a\x0a\x20\x20\x20\x20'+'fn\x20readSHD'+'ata(source'+':\x20ptr<func'+'tion,\x20Spla'+'tSource>,\x20'+'sh:\x20ptr<fu'+'nction,\x20ar'+'ray<vec3f,'+'\x208>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se')+('cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20='+'\x20fetch1(te'+'xtureLoad('+'splatSH_8t'+'o11,\x20sourc'+'e.uv,\x200).x'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_1to3:\x20tex'+'ture_2d<u3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20splatSH_'+'4to7:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_8'+'to11:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_1'+'2to15:\x20tex'+'ture_2d<u3'+'2>;\x0a\x0a\x20\x20\x20\x20f'+'n\x20readSHDa'+'ta(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20s'+'h:\x20ptr<fun'+'ction,\x20arr'+'ay<vec3f,\x20'+'15>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se'+'cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20thi'+'rd:\x20SH\x20=\x20f'+'etch4(text'+'ureLoad(sp'+'latSH_8to1'+'1,\x20source.'+'uv,\x200));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'7]\x20=\x20third'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20=\x20'+'third.b;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'9]\x20=\x20third'+'.c;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[10]\x20='+'\x20third.d;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20fourth:'+'\x20SH\x20=\x20fetc'+'h4(texture'+'Load(splat'+'SH_12to15,')+('\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[11'+']\x20=\x20fourth'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[12]\x20='+'\x20fourth.b;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[13]\x20=\x20fo'+'urth.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20=\x20fourt'+'h.d;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a\x0a#'+'endif\x0a'),iD='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c3f;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20xy:\x20'+'cornerUV,\x20'+'z:\x20render\x20'+'order\x20offs'+'et\x0aattribu'+'te\x20vertex_'+'id_attrib:'+'\x20u32;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'nder\x20order'+'\x20base\x0a\x0auni'+'form\x20numSp'+'lats:\x20u32;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20total\x20nu'+'mber\x20of\x20sp'+'lats\x0avar\x20s'+'platOrder:'+'\x20texture_2'+'d<u32>;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'per-splat\x20'+'index\x20to\x20s'+'ource\x20gaus'+'sian\x0a\x0a//\x20i'+'nitialize\x20'+'the\x20splat\x20'+'source\x20str'+'ucture\x0afn\x20'+'initSource'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20let\x20w:\x20u3'+'2\x20=\x20textur'+'eDimension'+'s(splatOrd'+'er,\x200).x;\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20u3'+'2(vertex_p'+'osition.z)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'return\x20if\x20'+'out\x20of\x20ran'+'ge\x20(since\x20'+'the\x20last\x20b'+'lock\x20of\x20sp'+'lats\x20may\x20b'+'e\x20partiall'+'y\x20full)\x0a\x20\x20'+'\x20\x20if\x20(sour'+'ce.order\x20>'+'=\x20uniform.'+'numSplats)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20fa'+'lse;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'orderUV\x20=\x20'+'vec2i(vec2'+'u(source.o'+'rder\x20%\x20w,\x20'+'source.ord'+'er\x20/\x20w));\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20splat\x20i'+'d\x0a\x20\x20\x20\x20sour'+'ce.id\x20=\x20te'+'xtureLoad('+'splatOrder'+',\x20orderUV,'+'\x200).r;\x0a\x0a\x20\x20'+'\x20\x20//\x20map\x20i'+'d\x20to\x20uv\x0a\x20\x20'+'\x20\x20source.u'+'v\x20=\x20vec2i('+'vec2u(sour'+'ce.id\x20%\x20w,'+'\x20source.id'+'\x20/\x20w));\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+('turn\x20true;'+'\x0a}\x0a'),rD='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a#ifn'+'def\x20DITHER'+'_NONE\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0aconst'+'\x20discardVe'+'c:\x20vec4f\x20='+'\x20vec4f(0.0'+',\x200.0,\x202.0'+',\x201.0);\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20varying'+'\x20vLinearDe'+'pth:\x20f32;\x0a'+'#endif\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20gaussian\x20'+'details\x0a\x20\x20'+'\x20\x20var\x20sour'+'ce:\x20SplatS'+'ource;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Source(&so'+'urce))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.positi'+'on\x20=\x20disca'+'rdVec;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20let\x20model'+'Center:\x20ve'+'c3f\x20=\x20read'+'Center(&so'+'urce);\x0a\x0a\x20\x20'+'\x20\x20var\x20cent'+'er:\x20SplatC'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'&center))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20di'+'scardVec;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20pro'+'ject\x20cente'+'r\x20to\x20scree'+'n\x20space\x0a\x20\x20'+'\x20\x20var\x20corn'+'er:\x20SplatC'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(&so'+'urce,\x20&cen'+'ter,\x20&corn'+'er))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20clr:\x20vec4'+'f\x20=\x20readCo'+'lor(&sourc'+'e);\x0a\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'AA\x20compens'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr.a\x20'+('=\x20clr.a\x20*\x20'+'corner.aaF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20spher'+'ical\x20harmo'+'nics\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cal'+'culate\x20the'+'\x20model-spa'+'ce\x20view\x20di'+'rection\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'modelView3'+'x3\x20=\x20mat3x'+'3f(center.'+'modelView['+'0].xyz,\x20ce'+'nter.model'+'View[1].xy'+'z,\x20center.'+'modelView['+'2].xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dir\x20=\x20nor'+'malize(mod'+'elView3x3\x20'+'*\x20center.v'+'iew);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20sh:\x20array'+'<vec3f,\x20SH'+'_COEFFS>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20scale:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20readSHDa'+'ta(&source'+',\x20&sh,\x20&sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr\x20='+'\x20vec4f(clr'+'.xyz\x20+\x20eva'+'lSH(&sh,\x20d'+'ir)\x20*\x20scal'+'e,\x20clr.a);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(&c'+'orner,\x20clr'+'.w);\x0a\x0a\x20\x20\x20\x20'+'//\x20write\x20o'+'utput\x0a\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4f(co'+'rner.offse'+'t,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20ou'+'tput.gauss'+'ianUV\x20=\x20co'+'rner.uv;\x0a\x20'+'\x20\x20\x20output.'+'gaussianCo'+'lor\x20=\x20vec4'+'f(prepareO'+'utputFromG'+'amma(max(c'+'lr.xyz,\x20ve'+'c3f(0.0)))'+',\x20clr.w);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'id\x20=\x20f32(s'+'ource.id);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vLinearD'+'epth\x20=\x20-ce'+'nter.view.'+'z;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),aD='\x0a\x20\x20\x20\x20attri'+'bute\x20aPosi'+'tion:\x20vec2'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20uv0:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20@vertex\x20f'+'n\x20vertexMa'+'in(input:\x20'+'VertexInpu'+'t)\x20->\x20Vert'+'exOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20vec4f(inp'+'ut.aPositi'+'on,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'uv0\x20=\x20getI'+'mageEffect'+'UV((input.'+'aPosition\x20'+'+\x201.0)\x20*\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a',nD='\x0a//\x20Indire'+'ct\x20indexed'+'\x20draw\x20call'+'\x20parameter'+'s\x0astruct\x20D'+'rawIndexed'+'IndirectAr'+'gs\x20{\x0a\x20\x20\x20\x20i'+'ndexCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Numb'+'er\x20of\x20indi'+'ces\x20to\x20dra'+'w\x0a\x20\x20\x20\x20inst'+'anceCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20instanc'+'es\x20to\x20draw'+'\x0a\x20\x20\x20\x20first'+'Index:\x20u32'+',\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Index\x20of'+'\x20the\x20first'+'\x20index\x20in\x20'+'the\x20index\x20'+'buffer\x0a\x20\x20\x20'+'\x20baseVerte'+'x:\x20i32,\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Of'+'fset\x20added'+'\x20to\x20each\x20i'+'ndex\x20befor'+'e\x20fetching'+'\x20vertex\x0a\x20\x20'+'\x20\x20firstIns'+'tance:\x20u32'+'\x20\x20\x20\x20\x20\x20//\x20F'+'irst\x20insta'+'nce\x20ID\x0a};\x0a'+'\x0a//\x20Indire'+'ct\x20non-ind'+'exed\x20draw\x20'+'call\x20param'+'eters\x0astru'+'ct\x20DrawInd'+'irectArgs\x20'+'{\x0a\x20\x20\x20\x20vert'+'exCount:\x20u'+'32,\x20\x20\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20vertice'+'s\x20to\x20draw\x0a'+'\x20\x20\x20\x20instan'+'ceCount:\x20u'+'32,\x20\x20\x20\x20\x20//'+'\x20Number\x20of'+'\x20instances'+'\x20to\x20draw\x0a\x20'+'\x20\x20\x20firstVe'+'rtex:\x20u32,'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Index\x20of\x20t'+'he\x20first\x20v'+'ertex\x0a\x20\x20\x20\x20'+'firstInsta'+'nce:\x20u32,\x20'+'\x20\x20\x20\x20//\x20Fir'+'st\x20instanc'+'e\x20ID\x0a\x20\x20\x20\x20_'+'pad:\x20u32\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Padd'+'ing\x20to\x20mat'+'ch\x20indexed'+'\x20size\x20(unu'+'sed)\x0a};\x0a',oD='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gamma'+'PS\x22\x0a\x20\x20\x20\x20va'+'rying\x20colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(decodeGam'+'ma3(input.'+'color.rgb)'+'),\x20input.c'+'olor.a);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a',lD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20matr'+'ix_model:\x20'+'mat4x4f;\x0a\x20'+'\x20\x20\x20uniform'+'\x20matrix_vi'+'ewProjecti'+'on:\x20mat4x4'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output\x20:\x20V'+'ertexOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20inpu'+'t.vertex_c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20unifor'+'m.matrix_m'+'odel\x20*\x20inp'+'ut.vertex_'+'position;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',cD='\x0auniform\x20m'+'aterial_ir'+'idescenceR'+'efractionI'+'ndex:\x20f32;'+'\x0a\x0afn\x20iride'+'scence_ior'+'ToFresnelS'+'calar(tran'+'smittedIor'+':\x20f32,\x20inc'+'identIor:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(('+'transmitte'+'dIor\x20-\x20inc'+'identIor)\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'incidentIo'+'r),\x202.0);\x0a'+'}\x0a\x0afn\x20irid'+'escence_io'+'rToFresnel'+'Vec3(trans'+'mittedIor:'+'\x20vec3f,\x20in'+'cidentIor:'+'\x20f32)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'vec3f(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3f(inci'+'dentIor)),'+'\x20vec3f(2.0'+'));\x0a}\x0a\x0afn\x20'+'iridescenc'+'e_fresnelT'+'oIor(f0:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20sqrtF'+'0:\x20vec3f\x20='+'\x20sqrt(f0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20(vec3f(1'+'.0)\x20+\x20sqrt'+'F0)\x20/\x20(vec'+'3f(1.0)\x20-\x20'+'sqrtF0);\x0a}'+'\x0a\x0aconst\x20XY'+'Z_TO_REC70'+'9:\x20mat3x3f'+'\x20=\x20mat3x3f'+'(\x0a\x20\x20\x20\x20vec3'+'f(3.240454'+'2,\x20-1.5371'+'385,\x20-0.49'+'85314),\x0a\x20\x20'+'\x20\x20vec3f(-0'+'.9692660,\x20'+'\x201.8760108'+',\x20\x200.04155'+'60),\x0a\x20\x20\x20\x20v'+'ec3f(0.055'+'6434,\x20-0.2'+'040259,\x20\x201'+'.0572252)\x0a'+');\x0a\x0afn\x20iri'+'descence_s'+'ensitivity'+'(opd:\x20f32,'+'\x20shift:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x20\x20\x20\x20let'+'\x20phase:\x20f3'+'2\x20=\x202.0\x20*\x20'+'PI\x20*\x20opd\x20*'+'\x201.0e-9;\x0a\x20'+'\x20\x20\x20const\x20v'+'al:\x20vec3f\x20'+'=\x20vec3f(5.'+'4856e-13,\x20'+'4.4201e-13'+',\x205.2481e-'+'13);\x0a\x20\x20\x20\x20c'+'onst\x20pos:\x20'+'vec3f\x20=\x20ve'+'c3f(1.6810'+'e+06,\x201.79'+('53e+06,\x202.'+'2084e+06);'+'\x0a\x20\x20\x20\x20const'+'\x20var_:\x20vec'+'3f\x20=\x20vec3f'+'(4.3278e+0'+'9,\x209.3046e'+'+09,\x206.612'+'1e+09);\x0a\x0a\x20'+'\x20\x20\x20var\x20xyz'+':\x20vec3f\x20=\x20'+'val\x20*\x20sqrt'+'(2.0\x20*\x20PI\x20'+'*\x20var_)\x20*\x20'+'cos(pos\x20*\x20'+'phase\x20+\x20sh'+'ift)\x20*\x20exp'+'(-pow(phas'+'e,\x202.0)\x20*\x20'+'var_);\x0a\x20\x20\x20'+'\x20xyz.x\x20=\x20x'+'yz.x\x20+\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+'cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20=\x20xyz\x20/\x20v'+'ec3f(1.068'+'5e-07);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'XYZ_TO_REC'+'709\x20*\x20xyz;'+'\x0a}\x0a\x0afn\x20iri'+'descence_f'+'resnelScal'+'ar(cosThet'+'a:\x20f32,\x20f0'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20x:\x20f32'+'\x20=\x20clamp(1'+'.0\x20-\x20cosTh'+'eta,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'let\x20x2:\x20f3'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20let\x20x'+'5:\x20f32\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0afn'+'\x20iridescen'+'ce_fresnel'+'Vec3(cosTh'+'eta:\x20f32,\x20'+'f0:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'x:\x20f32\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'x2:\x20f32\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20let\x20x5:\x20f'+'32\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x0a\x20\x20'+'\x20\x20return\x20f'+'0\x20+\x20(vec3f'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0afn\x20calcIr'+'idescence('+'outsideIor'+':\x20f32,\x20cos'+'Theta:\x20f32'+',\x20base_f0:'+'\x20vec3f,\x20ir'+'idescenceT'+'hickness:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0a\x20\x20\x20\x20le'+'t\x20iridesce'+'nceIor:\x20f3'+'2\x20=\x20mix(ou')+('tsideIor,\x20'+'uniform.ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20let\x20s'+'inTheta2Sq'+':\x20f32\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c'+'osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2Sq:\x20f32'+'\x20=\x201.0\x20-\x20s'+'inTheta2Sq'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(cosTheta2'+'Sq\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3f(1.0);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2:\x20f32\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20let\x20r'+'0:\x20f32\x20=\x20i'+'ridescence'+'_iorToFres'+'nelScalar('+'iridescenc'+'eIor,\x20outs'+'ideIor);\x0a\x20'+'\x20\x20\x20let\x20r12'+':\x20f32\x20=\x20ir'+'idescence_'+'fresnelSca'+'lar(cosThe'+'ta,\x20r0);\x0a\x20'+'\x20\x20\x20let\x20r21'+':\x20f32\x20=\x20r1'+'2;\x0a\x20\x20\x20\x20let'+'\x20t121:\x20f32'+'\x20=\x201.0\x20-\x20r'+'12;\x0a\x0a\x20\x20\x20\x20l'+'et\x20phi12:\x20'+'f32\x20=\x20sele'+'ct(0.0,\x20PI'+',\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor)'+';\x0a\x20\x20\x20\x20let\x20'+'phi21:\x20f32'+'\x20=\x20PI\x20-\x20ph'+'i12;\x0a\x0a\x20\x20\x20\x20'+'let\x20baseIo'+'r:\x20vec3f\x20='+'\x20iridescen'+'ce_fresnel'+'ToIor(base'+'_f0\x20+\x20vec3'+'f(0.0001))'+';\x0a\x20\x20\x20\x20let\x20'+'r1:\x20vec3f\x20'+'=\x20iridesce'+'nce_iorToF'+'resnelVec3'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20let\x20r23:\x20'+'vec3f\x20=\x20ir'+'idescence_'+'fresnelVec'+'3(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20let\x20phi'+'23:\x20vec3f\x20'+'=\x20select(v'+'ec3f(0.0),'+'\x20vec3f(PI)'+',\x20baseIor\x20'+'<\x20vec3f(ir'+'idescenceI'+'or));\x0a\x20\x20\x20\x20'+'let\x20opd:\x20f'+'32\x20=\x202.0\x20*'+'\x20iridescen'+'ceIor\x20*\x20ir'+'idescenceT')+('hickness\x20*'+'\x20cosTheta2'+';\x0a\x20\x20\x20\x20let\x20'+'phi:\x20vec3f'+'\x20=\x20vec3f(p'+'hi21)\x20+\x20ph'+'i23;\x20//\x20Pr'+'omote\x20scal'+'ar\x20phi21\x20t'+'o\x20vec3f\x0a\x0a\x20'+'\x20\x20\x20let\x20r12'+'3Sq:\x20vec3f'+'\x20=\x20clamp(v'+'ec3f(r12)\x20'+'*\x20r23,\x20vec'+'3f(1e-5),\x20'+'vec3f(0.99'+'99));\x0a\x20\x20\x20\x20'+'let\x20r123:\x20'+'vec3f\x20=\x20sq'+'rt(r123Sq)'+';\x0a\x20\x20\x20\x20let\x20'+'rs:\x20vec3f\x20'+'=\x20pow(vec3'+'f(t121),\x20v'+'ec3f(2.0))'+'\x20*\x20r23\x20/\x20('+'vec3f(1.0)'+'\x20-\x20r123Sq)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20c0:\x20vec3f'+'\x20=\x20vec3f(r'+'12)\x20+\x20rs;\x0a'+'\x20\x20\x20\x20var\x20i_'+'irid:\x20vec3'+'f\x20=\x20c0;\x0a\x0a\x20'+'\x20\x20\x20var\x20cm:'+'\x20vec3f\x20=\x20r'+'s\x20-\x20vec3f('+'t121);\x0a\x0a\x20\x20'+'\x20\x20cm\x20=\x20cm\x20'+'*\x20r123;\x0a\x20\x20'+'\x20\x20let\x20sm1:'+'\x20vec3f\x20=\x202'+'.0\x20*\x20iride'+'scence_sen'+'sitivity(1'+'.0\x20*\x20opd,\x20'+'1.0\x20*\x20phi)'+';\x0a\x20\x20\x20\x20i_ir'+'id\x20=\x20i_iri'+'d\x20+\x20cm\x20*\x20s'+'m1;\x0a\x0a\x20\x20\x20\x20c'+'m\x20=\x20cm\x20*\x20r'+'123;\x0a\x20\x20\x20\x20l'+'et\x20sm2:\x20ve'+'c3f\x20=\x202.0\x20'+'*\x20iridesce'+'nce_sensit'+'ivity(2.0\x20'+'*\x20opd,\x202.0'+'\x20*\x20phi);\x0a\x20'+'\x20\x20\x20i_irid\x20'+'=\x20i_irid\x20+'+'\x20cm\x20*\x20sm2;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20max(i_i'+'rid,\x20vec3f'+'(0.0));\x0a}\x0a'+'\x0afn\x20getIri'+'descenceDi'+'ffraction('+'cosTheta:\x20'+'f32,\x20specu'+'larity:\x20ve'+'c3f,\x20iride'+'scenceThic'+'kness:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),hD='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_irides'+'cence:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getIrid'+'escence()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'iridescenc'+'e\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_CON'+'STANT\x0a\x20\x20\x20\x20'+'iridescenc'+'e\x20=\x20irides'+'cence\x20*\x20un'+'iform.mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20=\x20iridesc'+'ence\x20*\x20tex'+'tureSample'+'Bias({STD_'+'IRIDESCENC'+'E_TEXTURE_'+'NAME},\x20{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_CHANNEL}'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dI'+'ridescence'+'\x20=\x20iridesc'+'ence;\x20\x0a}\x0a',dD='\x0auniform\x20m'+'aterial_ir'+'idescenceT'+'hicknessMa'+'x:\x20f32;\x0a\x0a#'+'ifdef\x20STD_'+'IRIDESCENC'+'ETHICKNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20uniform'+'\x20material_'+'iridescenc'+'eThickness'+'Min:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20blen'+'d:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_IRIDESCE'+'NCETHICKNE'+'SS_TEXTURE'+'_NAME},\x20{S'+'TD_IRIDESC'+'ENCETHICKN'+'ESS_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20iridesce'+'nceThickne'+'ss:\x20f32\x20=\x20'+'mix(unifor'+'m.material'+'_iridescen'+'ceThicknes'+'sMin,\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax,\x20bl'+'end);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceT'+'hickness:\x20'+'f32\x20=\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scenceThic'+'kness\x20=\x20ir'+'idescenceT'+'hickness;\x20'+'\x0a}\x0a',fD='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_refr'+'actionInde'+'x:\x20f32;\x0a#e'+'ndif\x0a\x0afn\x20g'+'etIor()\x20{\x0a'+'#ifdef\x20STD'+'_IOR_CONST'+'ANT\x0a\x20\x20\x20\x20dI'+'or\x20=\x20unifo'+'rm.materia'+'l_refracti'+'onIndex;\x0a#'+'else\x0a\x20\x20\x20\x20d'+'Ior\x20=\x201.0\x20'+'/\x201.5;\x0a#en'+'dif\x0a}\x0a',uD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_color'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_direction'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_POINT\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20poi'+'nt\x20lights\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20lig'+'ht{i}_posi'+'tion:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ra'+'dius:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'SPOT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_SPOT\x20//\x20'+'include\x20fu'+'nctionalit'+'y\x20for\x20spot'+'\x20lights\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_di'+'rection:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_inner'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_outer'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_FALLOFF_'+'SQUARED\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20inv'+'erse\x20squar'+'ed\x20falloff'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_position:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ha'+'lfWidth:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_halfHeigh'+'t:\x20vec3f;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}FALLOFF\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_LINE'+'AR\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20linear\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}FALLOFF'+'\x20==\x20INVERS'+'ESQUARED\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_SQUA'+'RED\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20inverse'+'\x20squared\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20shadow\x20c'+'asting\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowMatri'+'x:\x20mat4x4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20li'+'ght{i}_sha'+'dowIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'{i}_shadow'+'Params:\x20ve'+'c4f;\x20//\x20wi'+'dth,\x20heigh'+'t,\x20bias,\x20r'+'adius\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowSearc'+'hArea:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_cameraPar'+'ams:\x20vec4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'oftShadowP'+'arams:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'directiona'+'l\x20(cascade'+'d)\x20shadows'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20light{i}_'+'shadowMatr'+'ixPalette:'+'\x20array<mat'+'4x4f,\x204>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deDistance'+'s:\x20vec4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deCount:\x20i'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20light{'+'i}_shadowC'+'ascadeBlen'+'d:\x20f32;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20N'+'OT\x20SUPPORT'+'ED\x0a/*\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIG'+'HT{i}SHADO'+'W_PCF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMap:\x20tex'+'ture_depth'+'_2d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'{i}_shadow'+'MapSampler'+':\x20sampler_'+'comparison'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'light{i}_s'+'hadowMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMapSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIGHT{i}CO'+'OKIE)\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_COOKIE\x20/'+'/\x20include\x20'+'functional'+'ity\x20for\x20co'+'okies\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20OMNI\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20NOT\x20SUPP'+'ORTED\x0a/*\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'plerCube\x20l'+'ight{i}_co'+'okie;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un')+('iform\x20floa'+'t\x20light{i}'+'_cookieInt'+'ensity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20!defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20light{i}'+'_shadowMat'+'rix;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20NO'+'T\x20SUPPORTE'+'D\x0a/*\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_cookie;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_cook'+'ieIntensit'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20!'+'defined(LI'+'GHT{i}CAST'+'SHADOW)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrix;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}COOKIE_TR'+'ANSFORM)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_coo'+'kieMatrix;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'light{i}_c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a*/\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),pD='\x0afn\x20getLig'+'htDiffuse('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',mD='\x0afn\x20evalOm'+'niLight(li'+'ghtPosW:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a}\x0a',_D='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',gD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0afn\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x20\x20\x20'+'\x20//\x20light\x20'+'color\x0a\x20\x20\x20\x20'+'var\x20lightC'+'olor:\x20vec3'+'f\x20=\x20unifor'+'m.light{i}'+'_color;\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20!d'+'efined(LIT'+'_SHADOW_CA'+'TCHER)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ea'+'rly\x20return'+'\x20if\x20the\x20li'+'ght\x20color\x20'+'is\x20black\x20('+'used\x20by\x20sh'+'adow\x20catch'+'er\x20-\x20this\x20'+'way\x20this\x20l'+'ight\x20is\x20ve'+'ry\x20cheap)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(all(ligh'+'tColor\x20==\x20'+'vec3f(0.0,'+'\x200.0,\x200.0)'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20DIRECTION'+'AL\x20//\x20dire'+'ctional\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightD'+'irNormW\x20=\x20'+'uniform.li'+'ght{i}_dir'+'ection;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20omni\x20o'+'r\x20spot\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(u'+'niform.lig'+'ht{i}_posi'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tDirNormW\x20'+'=\x20normaliz'+'e(lightDir'+'W);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIGHT'+'{i}COOKIE)'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20SPOT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_FAL'+'LOFF\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+('eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DXform(u'+'niform.lig'+'ht{i}_cook'+'ie,\x20unifor'+'m.light{i}'+'_shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_cookieIn'+'tensity,\x20u'+'niform.lig'+'ht{i}_cook'+'ieMatrix,\x20'+'uniform.li'+'ght{i}_coo'+'kieOffset)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookie2D('+'uniform.li'+'ght{i}_coo'+'kie,\x20unifo'+'rm.light{i'+'}_shadowMa'+'trix,\x20unif'+'orm.light{'+'i}_cookieI'+'ntensity).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClipXfo'+'rm(uniform'+'.light{i}_'+'cookie,\x20un'+'iform.ligh'+'t{i}_shado'+'wMatrix,\x20u'+'niform.lig'+'ht{i}_cook'+'ieIntensit'+'y,\x20uniform'+'.light{i}_'+'cookieMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieOff'+'set).{LIGH'+'T{i}COOKIE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClip(un'+'iform.ligh'+'t{i}_cooki'+'e,\x20uniform'+'.light{i}_'+'shadowMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieInt'+'ensity).{L'+'IGHT{i}COO'+'KIE_CHANNE'+'L};\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookieCub'+'e(uniform.'+'light{i}_c'+'ookie,\x20uni'+'form.light'+'{i}_shadow'+'Matrix,\x20un'+'iform.ligh'+'t{i}_cooki'+'eIntensity'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multipl'+'y\x20light\x20co'+'lor\x20by\x20the'+'\x20cookie\x20at'+'tenuation\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightCol'+'or\x20=\x20light'+'Color\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dista'+'nce\x20fallof'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20PUNCTUAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}FALLOF'+'F\x20==\x20LINEA'+'R\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20=\x20get'+'FalloffLin'+'ear(unifor'+'m.light{i}'+'_radius,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20getFal'+'loffInvSqu'+'ared(unifo'+'rm.light{i'+'}_radius,\x20'+'lightDirW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'non\x20punctu'+'al\x20lights\x20'+'only\x20gets\x20'+'the\x20range\x20'+'window\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'uniform.li'+'ght{i}_rad'+'ius,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20angle'+'\x20falloff\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20SPO'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d')+('efined(LIG'+'HT{i}COOKI'+'E)\x20||\x20defi'+'ned(LIGHT{'+'i}COOKIE_F'+'ALLOFF)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20dAtten\x20'+'*\x20getSpotE'+'ffect(unif'+'orm.light{'+'i}_directi'+'on,\x20unifor'+'m.light{i}'+'_innerCone'+'Angle,\x20uni'+'form.light'+'{i}_outerC'+'oneAngle,\x20'+'dLightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20if\x20'+'(dAtten\x20<\x20'+'0.00001)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20evaluate\x20'+'area\x20light'+'\x20values\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20RECT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcRectLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20calcDiskL'+'ightValues'+'(uniform.l'+'ight{i}_po'+'sition,\x20un'+'iform.ligh'+'t{i}_halfW'+'idth,\x20unif'+'orm.light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20SPH'+'ERE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20calc'+'SphereLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20dif'+'fuse\x20light'+'ing\x20-\x20LTC\x20'+'lights\x20do\x20'+'not\x20mix\x20di'+'ffuse\x20ligh'+'ting\x20into\x20'+'attenuatio'+'n\x20that\x20aff'+'ects\x20specu'+'lar\x0a\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P')+('UNCTUAL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'attenDiffu'+'se\x20-\x20separ'+'ate\x20diffus'+'e\x20attenuat'+'ion\x20for\x20no'+'n-punctual'+'\x20light\x20sou'+'rces\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20NB:\x20A\x20bet'+'ter\x20approx'+'imation\x20pe'+'rhaps\x20usin'+'g\x20wrap\x20lig'+'hting\x20coul'+'d\x20be\x20imple'+'mented\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20at'+'tenDiffuse'+':\x20f32\x20=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x2016.0\x20is\x20'+'a\x20constant'+'\x20that\x20is\x20i'+'n\x20getFallo'+'ffInvSquar'+'ed()\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20attenDi'+'ffuse:\x20f32'+'\x20=\x20getRect'+'LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20light'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20DISK\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'attenDiffu'+'se:\x20f32\x20=\x20'+'getDiskLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20lightDir'+'W,\x20dLightD'+'irNormW)\x20*'+'\x2016.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20LIGHT'+'{i}SHAPE\x20='+'=\x20SPHERE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20a'+'ttenDiffus'+'e:\x20f32\x20=\x20g'+'etSphereLi'+'ghtDiffuse'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20lightDi'+'rW,\x20dLight'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20one\x20par'+'ameter\x20is\x20'+'unused\x20for')+('\x20punctual\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20dAtten'+'\x20*\x20getLigh'+'tDiffuse(l'+'itArgs_wor'+'ldNormal,\x20'+'vec3(0.0),'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20the\x20sha'+'dow\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}CASTS'+'HADOW\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20shadow:'+'\x20f32\x20=\x20get'+'Shadow{i}('+'vec3(0.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20shadow:\x20'+'f32\x20=\x20getS'+'hadow{i}(l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Ap'+'ply\x20shadow'+'\x20intensity'+'\x20to\x20the\x20sh'+'adow\x20value'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadow\x20=\x20mi'+'x(1.0,\x20sha'+'dow,\x20unifo'+'rm.light{i'+'}_shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20dA'+'tten\x20*\x20sha'+'dow;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SHADOW_CAT'+'CHER)\x20&&\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20accumula'+'te\x20shadows'+'\x20for\x20direc'+'tional\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSha'+'dowCatcher'+'\x20=\x20dShadow'+'Catcher\x20*\x20'+'shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20-\x20they'+'\x20do\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((('+'attenDiffu'+'se\x20*\x20dAtte'+'n)\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20dLTC'+'SpecFres))')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'((attenDif'+'fuse\x20*\x20dAt'+'ten)\x20*\x20lig'+'htColor);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(AREA_'+'LIGHTS)\x20&&'+'\x20defined(L'+'IT_SPECULA'+'R)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((d'+'Atten\x20*\x20li'+'ghtColor)\x20'+'*\x20(1.0\x20-\x20l'+'itArgs_spe'+'cularity))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'(dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20spe'+'cular\x20ligh'+'ting\x0a\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}AFFECT'+'_SPECULARI'+'TY\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20==\x20REC'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getRe'+'ctLightSpe'+'cular(litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20dVi'+'ewDirW)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20ccSpec'+'ularLight\x20'+'+\x20(ccLTCSp'+'ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20SPHER'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_clea'+'rcoat_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20=\x20dS'+'pecularLig'+'ht\x20+\x20(dLTC'+'SpecFres\x20*'+'\x20getRectLi'+'ghtSpecula'+'r(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20(dLT'+'CSpecFres\x20'+'*\x20getDiskL'+'ightSpecul'+'ar(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW)\x20*\x20dAt'+'ten\x20*\x20ligh'+'tColor);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'=\x20dSpecula'+'rLight\x20+\x20('+'dLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20//\x20punctu'+'al\x20light\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20is\x20fr'+'esnel\x20need'+'ed\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC')+('TIONAL\x20&&\x20'+'LIT_FRESNE'+'L_MODEL\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ha'+'lfDirW:\x20ve'+'c3f\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20if\x20LTC\x20li'+'ghts\x20are\x20p'+'resent,\x20sp'+'ecular\x20mus'+'t\x20be\x20accum'+'ulated\x20wit'+'h\x20specular'+'ity\x20(specu'+'larity\x20is\x20'+'pre\x20multip'+'lied\x20by\x20pu'+'nctual\x20lig'+'ht\x20fresnel'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'specularCC'+':\x20vec3f\x20=\x20'+'getLightSp'+'ecular(hal'+'fDirW,\x20ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20dLightDir'+'NormW,\x20lit'+'Args_clear'+'coat_gloss'+',\x20dTBN)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightspecu'+'larCC\x20=\x20li'+'ghtspecula'+'rCC\x20*\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20halfDi'+'rW));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20=\x20ccSpecu'+'larLight\x20+'+'\x20lightspec'+'ularCC;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sSpecul'+'arLight\x20=\x20'+'sSpecularL'+'ight\x20+\x20(ge'+'tLightSpec'+'ularSheen('+'halfDirW,\x20'+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi')+('rNormW,\x20li'+'tArgs_shee'+'n_gloss)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tSpecular:'+'\x20vec3f\x20=\x20g'+'etLightSpe'+'cular(half'+'DirW,\x20dRef'+'lDirW,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20d'+'LightDirNo'+'rmW,\x20litAr'+'gs_gloss,\x20'+'dTBN)\x20*\x20dA'+'tten\x20*\x20lig'+'htColor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'FRESNEL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20=\x20li'+'ghtSpecula'+'r\x20*\x20getFre'+'snel(dot(d'+'ViewDirW,\x20'+'halfDirW),'+'\x20litArgs_g'+'loss,\x20litA'+'rgs_specul'+'arity,\x20iri'+'descenceFr'+'esnel,\x20lit'+'Args_iride'+'scence_int'+'ensity);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightSpecul'+'ar\x20=\x20light'+'Specular\x20*'+'\x20getFresne'+'l(dot(dVie'+'wDirW,\x20hal'+'fDirW),\x20li'+'tArgs_glos'+'s,\x20litArgs'+'_speculari'+'ty);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20light'+'Specular\x20='+'\x20lightSpec'+'ular\x20*\x20lit'+'Args_specu'+'larity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20+\x20li'+'ghtSpecula'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'#endif\x0a'),SD='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowSam'+'pleCoord{i'+'}(shadowTr'+'ansform:\x20m'+'at4x4f,\x20sh'+'adowParams'+':\x20vec4f,\x20w'+'orldPositi'+'on:\x20vec3f,'+'\x20lightPos:'+'\x20vec3f,\x20li'+'ghtDir:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'lightDirNo'+'rm:\x20vec3f,'+'\x20normal:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'surfacePos'+'ition\x20=\x20wo'+'rldPositio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_POINT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(*l'+'ightDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y\x20*\x20cl'+'amp(1.0\x20-\x20'+'dot(normal'+',\x20-lightDi'+'rNorm),\x200.'+'0,\x201.0)\x20*\x20'+'distScale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20*li'+'ghtDir\x20=\x20s'+'urfacePosi'+'tion\x20-\x20lig'+'htPos;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'*lightDir;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}_SHADOW_'+'SAMPLE_NOR'+'MAL_OFFSET'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_SAMP'+'LE_ORTHO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dis'+'tScale:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20distSca'+'le:\x20f32\x20=\x20'+'abs(dot(vP'+'ositionW\x20-'+'\x20lightPos,'+'\x20lightDirN'+'orm));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Use'+'\x20var\x20for\x20m'+'odificatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20po'+'sitionInSh'+'adowSpace:'+'\x20vec4f\x20=\x20s'+'hadowTrans'+'form\x20*\x20vec'+'4f(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM')+('PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20=\x20pos'+'itionInSha'+'dowSpace.x'+'yz\x20/\x20posit'+'ionInShado'+'wSpace.w;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.xy\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/\x20posi'+'tionInShad'+'owSpace.w;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20positionI'+'nShadowSpa'+'ce.z\x20=\x20len'+'gth(*light'+'Dir)\x20*\x20sha'+'dowParams.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20this\x20is\x20c'+'urrently\x20u'+'nused\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_Z'+'_BIAS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20posit'+'ionInShado'+'wSpace.z\x20+'+'=\x20getShado'+'wBias(shad'+'owParams.x'+',\x20shadowPa'+'rams.z);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sur'+'facePositi'+'on;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20evalu'+'ation\x20func'+'tion\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'w{i}(light'+'DirW_in:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20s'+'hadow\x20casc'+'ades\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_CASC'+'ADES\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20select\x20sh'+'adow\x20casca'+'de\x20matrix\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20casc'+'adeIndex:\x20'+'i32\x20=\x20getS'+'hadowCasca'+'deIndex(un'+'iform.ligh'+'t{i}_shado'+'wCascadeDi'+'stances,\x20u'+'niform.lig'+'ht{i}_shad')+('owCascadeC'+'ount);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_CASCADE'+'_BLEND\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20cascade'+'Index\x20=\x20di'+'therShadow'+'CascadeInd'+'ex(cascade'+'Index,\x20uni'+'form.light'+'{i}_shadow'+'CascadeDis'+'tances,\x20un'+'iform.ligh'+'t{i}_shado'+'wCascadeCo'+'unt,\x20unifo'+'rm.light{i'+'}_shadowCa'+'scadeBlend'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowMatri'+'x:\x20mat4x4f'+'\x20=\x20uniform'+'.light{i}_'+'shadowMatr'+'ixPalette['+'cascadeInd'+'ex];\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20sha'+'dowMatrix:'+'\x20mat4x4f\x20='+'\x20uniform.l'+'ight{i}_sh'+'adowMatrix'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20lightDirA'+'rg\x20=\x20light'+'DirW_in;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20direc'+'tional\x20lig'+'ht\x20does\x20no'+'t\x20have\x20a\x20p'+'osition\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20getSh'+'adowSample'+'Coord{i}(s'+'hadowMatri'+'x,\x20uniform'+'.light{i}_'+'shadowPara'+'ms,\x20vPosit'+'ionW,\x20vec3'+'f(0.0),\x20&l'+'ightDirArg'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owCoord:\x20v'+'ec3f\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_shadowPa'+'rams,\x20vPos'+'itionW,\x20un'+'iform.ligh'+'t{i}_posit'+'ion,\x20&ligh'+'tDirArg,\x20d'+'LightDirNo'+'rmW,\x20dVert'+'exNormalW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('#endif\x0a\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Fade\x20direc'+'tional\x20sha'+'dow\x20at\x20the'+'\x20far\x20dista'+'nce\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'owCoord\x20=\x20'+'fadeShadow'+'(shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowCas'+'cadeDistan'+'ces);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20-----\x20s'+'ample\x20the\x20'+'shadow\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20---'+'--\x20directi'+'onal\x20light'+'\x20-----\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20VSM_'+'16F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowVSM1'+'6(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s,\x205.54);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20VS'+'M_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowVS'+'M32(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x2015.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2f(lengt'+'h(uniform.'+'light{i}_h'+'alfWidth),'+'\x20length(un'+'iform.ligh'+'t{i}_halfH'+'eight))\x20*\x20'+'uniform.li'+'ght{i}_sha'+'dowSearchA'+'rea;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCSS(ligh'+'t{i}_shado'+'wMap,\x20ligh'+'t{i}_shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20unif'+'orm.light{'+'i}_shadowP'+'arams,\x20uni'+'form.light'+'{i}_camera'+'Params,\x20sh'+'adowSearch'+'Area,\x20ligh'+'tDirW_in);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CSS(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x20unifo'+'rm.light{i'+'}_cameraPa'+'rams,\x20unif'+'orm.light{'+'i}_softSha'+'dowParams,'+'\x20lightDirW'+'_in);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF1_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF1x1('+'light{i}_s'+'hadowMap,\x20'+'light{i}_s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'uniform.li'+'ght{i}_sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_16F\x20|'+'|\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF3_3'+'2F\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowPCF3x'+'3(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_16F'+'\x20||\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF5')+('_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x20//\x20-'+'----\x20spot\x20'+'light\x20----'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM16'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x205.54,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM32'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x2015.0,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20!=\x20PU'+'NCTUAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f\x20=\x20vec'+'2f(length('+'uniform.li'+'ght{i}_hal'+'fWidth),\x20l'+'ength(unif'+'orm.light{'+'i}_halfHei'+'ght))\x20*\x20un'+'iform.ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowSearc'+'hArea:\x20vec')+('2f\x20=\x20vec2f'+'(uniform.l'+'ight{i}_sh'+'adowSearch'+'Area);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCSS'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x20uniform.'+'light{i}_c'+'ameraParam'+'s,\x20shadowS'+'earchArea,'+'\x20lightDirW'+'_in);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'16F\x20||\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF1_32F\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF1x1'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'5_16F\x20||\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF5_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCF5'+'x5(light{i'+'}_shadowMa'+'p,\x20light{i'+'}_shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20uniform'+'.light{i}_'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20')+('\x20\x20\x20#endif\x0a'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x20//\x20--'+'---\x20omni\x20l'+'ight\x20-----'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f;\x20//\x20U'+'se\x20var\x20bec'+'ause\x20assig'+'ned\x20in\x20if/'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owSearchAr'+'ea:\x20vec2f\x20'+'=\x20vec2f(le'+'ngth(unifo'+'rm.light{i'+'}_halfWidt'+'h),\x20length'+'(uniform.l'+'ight{i}_ha'+'lfHeight))'+'\x20*\x20uniform'+'.light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'SearchArea'+':\x20vec2f\x20=\x20'+'vec2f(unif'+'orm.light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20un'+'iform.ligh'+'t{i}_camer'+'aParams,\x20s'+'hadowSearc'+'hArea,\x20lig'+'htDirW_in)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in')+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),yD='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'var\x20areaLi'+'ghtsLutTex'+'1:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20areaLight'+'sLutTex2:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20areaL'+'ightsLutTe'+'x2Sampler:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'omni\x20/\x20spo'+'t\x20PCSS\x20is\x20'+('not\x20suppor'+'ted\x20on\x20Web'+'GPU\x20curren'+'tly,\x20as\x20th'+'is\x20is\x20only'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0a\x20\x20\x20\x20'+'//\x20#includ'+'e\x20\x22shadowP'+'CSSPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22shadowSof'+'tPS\x22\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(SHADO'+'W_KIND_VSM'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owEVSMPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22falloff'+'LinearPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_SQUARED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fallof'+'fInvSquare'+'dPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_CODE_L'+'IGHTS_POIN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDirPointP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22spotPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'CODE_COOKI'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22cook'+'iePS\x22\x0a#end'+'if\x0a\x0a//\x20clu'+'stered\x20lig'+'hting\x0a#ifd'+'ef\x20LIT_CLU'+'STERED_LIG'+'HTS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22cl'+'usteredLig'+'htPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIGHT_COU'+'NT\x20>\x200\x0a\x20\x20\x20'+'\x20//\x20LOOP\x20-'+'\x20generate\x20'+'shadow\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionShadow'+'PS,\x20LIGHT_'+'COUNT\x22\x0a\x0a\x20\x20'+'\x20\x20//\x20LOOP\x20'+'-\x20generate'+'\x20light\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionLightP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a'),vD='\x0afn\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20lightmap:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20dir:\x20vec'+'3f,\x0a\x20\x20\x20\x20wo'+'rldNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20viewDir:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20reflecti'+'onDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20ve'+'rtexNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20tbn:\x20ma'+'t3x3f\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20iridesce'+'nceIntensi'+'ty:\x20f32\x0a#e'+'ndif\x0a)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x20&&'+'\x20defined(L'+'IT_DIR_LIG'+'HTMAP)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'dot(dir,\x20d'+'ir)\x20<\x200.00'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20dD'+'iffuseLigh'+'t\x20+\x20lightm'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20vli'+'ght:\x20f32\x20='+'\x20saturate('+'dot(dir,\x20-'+'vertexNorm'+'al));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20flight:\x20'+'f32\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20nlig'+'ht:\x20f32\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20=\x20dDiff'+'useLight\x20+'+'\x20lightmap\x20'+'*\x20nlight\x20*'+'\x202.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20halfDir'+':\x20vec3f\x20=\x20'+'normalize('+'-dir\x20+\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20specula'+'rLight:\x20ve'+'c3f\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+('_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'=\x20specular'+'Light\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(d'+'ot(viewDir'+',\x20halfDir)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20,\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20specularL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'non-direct'+'ional\x20ligh'+'tmap\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20+\x20ligh'+'tmap;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),xD='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'var<privat'+'e>\x20dLightm'+'apDir:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'dirLightMa'+'p:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_dirL'+'ightMapSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0afn\x20getL'+'ightMap()\x20'+'{\x0a\x0a\x20\x20\x20\x20dLi'+'ghtmap\x20=\x20v'+'ec3f(1.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_TEXTURE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Lightmap\x20='+'\x20dLightmap'+'\x20*\x20{STD_LI'+'GHT_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_LIGHT_T'+'EXTURE_NAM'+'E},\x20{STD_L'+'IGHT_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+')).{STD_LI'+'GHT_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_LIGHTMAP'+'_DIR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20dir:\x20vec3'+'f\x20=\x20textur'+'eSampleBia'+'s(texture_'+'dirLightMa'+'p,\x20texture'+'_dirLightM'+'apSampler,'+'\x20{STD_LIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).xyz\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20d'+'irDot\x20=\x20do'+'t(dir,\x20dir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tmapDir\x20=\x20'+'select(vec'+'3(0.0),\x20di'+'r\x20/\x20sqrt(d'+'irDot),\x20di'+'rDot\x20>\x200.0'+'01);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dL'+'ightmap\x20=\x20'+'dLightmap\x20'+'*\x20saturate'+'(vVertexCo'+'lor.{STD_L'+'IGHT_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',TD='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'fn\x20calcLig'+'htSpecular'+'(gloss:\x20f3'+'2,\x20worldNo'+'rmal:\x20vec3'+'f,\x20viewDir'+':\x20vec3f,\x20h'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'tbn:\x20mat3x'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20PI:\x20f32\x20='+'\x203.1415926'+'53589793;\x0a'+'\x20\x20\x20\x20let\x20ro'+'ughness:\x20f'+'32\x20=\x20max(('+'1.0\x20-\x20glos'+'s)\x20*\x20(1.0\x20'+'-\x20gloss),\x20'+'0.001);\x0a\x20\x20'+'\x20\x20let\x20alph'+'aRoughness'+':\x20f32\x20=\x20ro'+'ughness\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20let\x20a'+'nisotropy:'+'\x20f32\x20=\x20dAn'+'isotropy;\x0a'+'\x20\x20\x20\x20let\x20di'+'rection:\x20v'+'ec2f\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x0a\x20'+'\x20\x20\x20let\x20at:'+'\x20f32\x20=\x20mix'+'(alphaRoug'+'hness,\x201.0'+',\x20anisotro'+'py\x20*\x20aniso'+'tropy);\x0a\x20\x20'+'\x20\x20let\x20ab:\x20'+'f32\x20=\x20clam'+'p(alphaRou'+'ghness,\x200.'+'001,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20NoH:\x20f32\x20'+'=\x20dot(worl'+'dNormal,\x20h'+');\x0a\x20\x20\x20\x20let'+'\x20ToH:\x20f32\x20'+'=\x20dot(anis'+'otropicT,\x20'+'h);\x0a\x20\x20\x20\x20le'+'t\x20BoH:\x20f32'+'\x20=\x20dot(ani'+'sotropicB,'+'\x20h);\x0a\x0a\x20\x20\x20\x20'+'let\x20a2:\x20f3'+'2\x20=\x20at\x20*\x20a'+'b;\x0a\x20\x20\x20\x20let'+'\x20v:\x20vec3f\x20'+'=\x20vec3f(ab'+'\x20*\x20ToH,\x20at'+'\x20*\x20BoH,\x20a2'+'\x20*\x20NoH);\x0a\x20'+'\x20\x20\x20let\x20v2:'+'\x20f32\x20=\x20dot'+'(v,\x20v);\x0a\x20\x20'+'\x20\x20let\x20w2:\x20'+'f32\x20=\x20a2\x20/'+'\x20v2;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20let\x20To'+'V:\x20f32\x20=\x20d'+'ot(anisotr'+'opicT,\x20vie'+('wDir);\x0a\x20\x20\x20'+'\x20let\x20BoV:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20viewDi'+'r);\x0a\x20\x20\x20\x20le'+'t\x20ToL:\x20f32'+'\x20=\x20dot(ani'+'sotropicT,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20let\x20BoL:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20let\x20No'+'V:\x20f32\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'let\x20NoL:\x20f'+'32\x20=\x20dot(w'+'orldNormal'+',\x20-lightDi'+'rNorm);\x0a\x0a\x20'+'\x20\x20\x20let\x20lam'+'bdaV:\x20f32\x20'+'=\x20NoL\x20*\x20le'+'ngth(vec3f'+'(at\x20*\x20ToV,'+'\x20ab\x20*\x20BoV,'+'\x20NoV));\x0a\x20\x20'+'\x20\x20let\x20lamb'+'daL:\x20f32\x20='+'\x20NoV\x20*\x20len'+'gth(vec3f('+'at\x20*\x20ToL,\x20'+'ab\x20*\x20BoL,\x20'+'NoL));\x0a\x20\x20\x20'+'\x20let\x20G:\x20f3'+'2\x20=\x200.5\x20/\x20'+'(lambdaV\x20+'+'\x20lambdaL);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20D\x20*\x20G;\x0a'+'}\x0a\x0afn\x20getL'+'ightSpecul'+'ar(h:\x20vec3'+'f,\x20reflDir'+':\x20vec3f,\x20w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'DirNorm:\x20v'+'ec3f,\x20glos'+'s:\x20f32,\x20tb'+'n:\x20mat3x3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20calcLigh'+'tSpecular('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir,\x20h'+',\x20lightDir'+'Norm,\x20tbn)'+';\x0a}\x0a'),wD='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afn\x20c'+'alcLightSp'+'ecular(glo'+'ss:\x20f32,\x20w'+'orldNormal'+':\x20vec3f,\x20h'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20nh:\x20'+'f32\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'specPow:\x20f'+'32\x20=\x20exp2('+'gloss\x20*\x2011'+'.0);\x20//\x20gl'+'ossiness\x20i'+'s\x20linear,\x20'+'power\x20is\x20n'+'ot;\x200\x20-\x2020'+'48\x0a\x0a\x20\x20\x20\x20//'+'\x20Hack:\x20On\x20'+'Mac\x20OS\x20X,\x20'+'calling\x20po'+'w\x20with\x20zer'+'o\x20for\x20the\x20'+'exponent\x20g'+'enerates\x20h'+'ideous\x20art'+'ifacts\x20so\x20'+'bias\x20up\x20a\x20'+'little\x0a\x20\x20\x20'+'\x20specPow\x20='+'\x20max(specP'+'ow,\x200.0001'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20pow(n'+'h,\x20specPow'+')\x20*\x20(specP'+'ow\x20+\x202.0)\x20'+'/\x208.0;\x0a}\x0a\x0a'+'fn\x20getLigh'+'tSpecular('+'h:\x20vec3f,\x20'+'reflDir:\x20v'+'ec3f,\x20worl'+'dNormal:\x20v'+'ec3f,\x20view'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20tbn:\x20'+'mat3x3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',ED='\x0a\x0afn\x20sheen'+'D(normal:\x20'+'vec3f,\x20h:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'PI:\x20f32\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20let\x20inv'+'R:\x20f32\x20=\x201'+'.0\x20/\x20(roug'+'hness\x20*\x20ro'+'ughness);\x0a'+'\x20\x20\x20\x20var\x20co'+'s2h:\x20f32\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20=\x20c'+'os2h\x20*\x20cos'+'2h;\x0a\x20\x20\x20\x20le'+'t\x20sin2h:\x20f'+'32\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'fn\x20sheenV('+'normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20light:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20max(dot'+'(normal,\x20v'+'iewDir),\x200'+'.000001);\x0a'+'\x20\x20\x20\x20let\x20No'+'L:\x20f32\x20=\x20m'+'ax(dot(nor'+'mal,\x20light'+'),\x200.00000'+'1);\x0a\x20\x20\x20\x20re'+'turn\x201.0\x20/'+'\x20(4.0\x20*\x20(N'+'oL\x20+\x20NoV\x20-'+'\x20NoL\x20*\x20NoV'+'));\x0a}\x0a\x0afn\x20'+'getLightSp'+'ecularShee'+'n(h:\x20vec3f'+',\x20worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f,\x20li'+'ghtDirNorm'+':\x20vec3f,\x20s'+'heenGloss:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20let\x20V:\x20f'+'32\x20=\x20sheen'+'V(worldNor'+'mal,\x20viewD'+'ir,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20return'+'\x20D\x20*\x20V;\x0a}',bD='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afn\x20linear'+'izeDepthWi'+'thParams(z'+':\x20f32,\x20cam'+'eraParams:'+'\x20vec4f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'aParams.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(came'+'raParams.z'+'\x20*\x20cameraP'+'arams.y)\x20/'+'\x20(cameraPa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'Params.z\x20-'+'\x20cameraPar'+'ams.y));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20cam'+'eraParams.'+'z\x20+\x20z\x20*\x20(c'+'ameraParam'+'s.y\x20-\x20came'+'raParams.z'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0a#ifndef\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20#de'+'fine\x20CAMER'+'APLANES\x0a\x20\x20'+'\x20\x20uniform\x20'+'camera_par'+'ams:\x20vec4f'+';\x20\x20\x20//\x20x:\x20'+'1\x20/\x20camera'+'_far,\x20\x20\x20\x20\x20'+'\x20y:\x20camera'+'_far,\x20\x20\x20\x20\x20'+'z:\x20camera_'+'near,\x20\x20\x20\x20\x20'+'\x20\x20\x20w:\x20is_o'+'rtho\x0a#endi'+'f\x0a\x0afn\x20line'+'arizeDepth'+'(z:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pthWithPar'+'ams(z,\x20uni'+'form.camer'+'a_params);'+'\x0a}\x0a#endif\x20'+'//\x20LINEARI'+'ZE_DEPTH\x0a',AD='\x0afn\x20evalua'+'teBackend('+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'//\x20apply\x20S'+'SAO\x20during'+'\x20lighting\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SSAO\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ao\x20='+'\x20litArgs_a'+'o\x20*\x20textur'+'eSampleLev'+'el(ssaoTex'+'ture,\x20ssao'+'TextureSam'+'pler,\x20pcPo'+'sition.xy\x20'+'*\x20uniform.'+'ssaoTextur'+'eSizeInv,\x20'+'0.0).r;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nsform\x20tan'+'gent\x20space'+'\x20normals\x20t'+'o\x20world\x20sp'+'ace\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_N'+'EEDS_NORMA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getReflD'+'ir(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_gloss,\x20'+'dTBN);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'f0:\x20f32\x20=\x20'+'1.0\x20/\x20litA'+'rgs_ior;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20f0\x20=\x20(f0\x20'+'-\x201.0)\x20/\x20('+'f0\x20+\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20f0\x20=\x20f0'+'\x20*\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+('ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceF'+'resnel:\x20ve'+'c3f\x20=\x20getI'+'ridescence'+'Diffractio'+'n(saturate'+'(dot(dView'+'DirW,\x20litA'+'rgs_worldN'+'ormal)),\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_ir'+'idescence_'+'thickness)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20ambi'+'ent\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddAmbient('+'litArgs_wo'+'rldNormal)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20move\x20ambi'+'ent\x20color\x20'+'out\x20of\x20dif'+'fuse\x20(used'+'\x20by\x20Lightm'+'apper,\x20to\x20'+'multiply\x20a'+'mbient\x20col'+'or\x20by\x20accu'+'mulated\x20AO'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SEPARATE_'+'AMBIENT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20dAmbie'+'ntLight:\x20v'+'ec3f\x20=\x20dDi'+'ffuseLight'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20unif'+'orm.materi'+'al_ambient'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20LI'+'T_OCCLUDE_'+'DIRECT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeDiff'+'use(litArg'+'s_ao);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTMAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20litArgs_l'+'ightmap,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmapDi'+'r,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dViewDirW,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dReflD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'BN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_irides'+'cence_inte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTING\x20||'+'\x20LIT_REFLE'+'CTIONS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddReflecti'+'onCC(ccRef'+'lDirW,\x20lit'+'Args_clear'+'coat_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'ccFresnel\x20'+'=\x20getFresn'+'elCC(dot(d'+'ViewDirW,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccRefle'+'ction\x20=\x20cc'+'Reflection'+'\x20*\x20ccFresn'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccFr'+'esnel\x20=\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'ection\x20=\x20c'+'cReflectio'+'n\x20*\x20litArg'+'s_specular'+'ityFactor;')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20addR'+'eflectionS'+'heen(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_sheen'+'_gloss);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20Fresne'+'l\x20has\x20to\x20b'+'e\x20applied\x20'+'to\x20reflect'+'ions\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'Reflection'+'(dReflDirW'+',\x20litArgs_'+'gloss);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_FRESNEL_'+'MODEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'dReflectio'+'n.rgb\x20*\x20li'+'tArgs_spec'+'ularity,\x20d'+'Reflection'+'.a);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve')+('c4f(dRefle'+'ction.rgb\x20'+'*\x20litArgs_'+'specularit'+'yFactor,\x20d'+'Reflection'+'.a);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20AREA'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20*'+'\x20litArgs_s'+'pecularity'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20evalua'+'te\x20materia'+'l\x20based\x20ar'+'ea\x20lights\x20'+'data,\x20shar'+'ed\x20by\x20all\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcLTCLight'+'Values(lit'+'Args_gloss'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20litArg'+'s_specular'+'ity,\x20litAr'+'gs_clearco'+'at_gloss,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20evalua'+'te\x20all\x20non'+'-clustered'+'\x20lights\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22lightEval'+'uationPS,\x20'+'LIGHT_COUN'+'T\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'USTERED_LI'+'GHTS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'ClusteredL'+'ights(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_CLEARCOAT'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20ccRe'+'flDirW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'litArgs_sp'+'ecularity,'+'\x20dVertexNo'+'rmalW,\x20dTB'+'N,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_sheen_'+'gloss,\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20AREA_LI'+'GHTS\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x20has'+'\x20to\x20be\x20acc'+'umulated\x20d'+'ifferently'+'\x20if\x20we\x20wan'+'t\x20area\x20lig'+'hts\x20to\x20loo'+'k\x20correct\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_clearc'+'oat_specul'+'arity\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20vec3(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addRefra'+'ction(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dViewDirW'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_specu'+'larity,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr')+('gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_tran'+'smission,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_ior,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_dispers'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'ambient\x20oc'+'clusion\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_OCCLU'+'DE_DIRECT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeD'+'iffuse(lit'+'Args_ao);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeSpec'+'ular(litAr'+'gs_gloss,\x20'+'litArgs_ao'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20*\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20!defi'+'ned(LIT_OP'+'ACITY_FADE'+'S_SPECULAR'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'==\x20NORMAL\x20'+'||\x20LIT_BLE'+'ND_TYPE\x20=='+'\x20PREMULTIP'+'LIED\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specLum:'+'\x20f32\x20=\x20dot'+'((dSpecula'+'rLight\x20+\x20d'+'Reflection'+'.rgb\x20*\x20dRe'+'flection.a'+'),\x20vec3f(\x20'+'0.2126,\x200.'+'7152,\x200.07'+'22\x20));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'Lum\x20=\x20spec'+'Lum\x20+\x20dot('+'ccSpecular'+'Light\x20*\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20+\x20'+'ccReflecti'+'on\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity,\x20vec3'+'f(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20c'+'lamp(litAr'+'gs_opacity'+'\x20+\x20gammaCo'+'rrectInput'+'(specLum),'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_opaci'+'ty\x20=\x20litAr'+'gs_opacity'+'\x20*\x20uniform'+'.material_'+'alphaFade;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20end\x20chunk'+'s\x20-\x20when\x20b'+'aking\x20ligh'+'tmap\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTMAP_B'+'AKING\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_COLOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22b'+'akeLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_LIGH'+'TMAP_BAKIN'+'G_DIR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22ba'+'keDirLmEnd'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'end\x20chunks'+'\x20-\x20in\x20all\x20'+'other\x20case'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'endPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22outpu'+'tAlphaPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_MSD'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20apply'+'Msdf(outpu'+'t.color);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22outp'+'utPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'debugOutpu'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHADOW_CA'+'TCHER\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20when\x20t'+'he\x20shadow\x20'+'catcher\x20is'+'\x20enabled\x20-'+'\x20accumulat'+'ed\x20shadows')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'vec3f(dSha'+'dowCatcher'+'),\x20output.'+'color.a);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),CD='\x0a\x0a//\x20globa'+'ls\x0avar<pri'+'vate>\x20sRef'+'lection:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'VertexNorm'+'alW:\x20vec3f'+';\x0avar<priv'+'ate>\x20dTang'+'entW:\x20vec3'+'f;\x0avar<pri'+'vate>\x20dBin'+'ormalW:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dV'+'iewDirW:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'ReflDirW:\x20'+'vec3f;\x0avar'+'<private>\x20'+'ccReflDirW'+':\x20vec3f;\x0a\x0a'+'//\x20Per-lig'+'ht\x20tempora'+'ries\x0avar<p'+'rivate>\x20dL'+'ightDirNor'+'mW:\x20vec3f;'+'\x0avar<priva'+'te>\x20dAtten'+':\x20f32;\x0a\x0a//'+'\x20Outputs\x0av'+'ar<private'+'>\x20dTBN:\x20ma'+'t3x3f;\x0avar'+'<private>\x20'+'dReflectio'+'n:\x20vec4f;\x0a'+'var<privat'+'e>\x20dDiffus'+'eLight:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccFres'+'nel:\x20f32;\x0a'+'var<privat'+'e>\x20ccRefle'+'ction:\x20vec'+'3f;\x0avar<pr'+'ivate>\x20ccS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccSpec'+'ularityNoF'+'res:\x20f32;\x0a'+'var<privat'+'e>\x20sSpecul'+'arLight:\x20v'+'ec3f;\x0a\x0a//\x20'+'FRAGMENT\x20S'+'HADER\x20INPU'+'TS:\x20UNIFOR'+'MS\x0a\x0a#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_dis'+'persion:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_al'+'phaFade:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_SSAO\x0a\x20\x20'+'\x20\x20var\x20ssao'+'Texture\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20ssaoT'+'extureSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20u'+'niform\x20ssa'+'oTextureSi'+'zeInv:\x20vec'+'2f;\x0a#endif'+'\x0a\x0a//\x20light'+'ing\x20and\x20sh'+'adowing\x20de'+('clarations'+'\x0a\x0a#ifdef\x20L'+'IT_SHADOW_'+'CATCHER\x0a\x20\x20'+'\x20\x20//\x20a\x20var'+'iable\x20to\x20a'+'ccumulate\x20'+'shadows\x20fo'+'r\x20shadow\x20c'+'atcher\x20mat'+'erials\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dShado'+'wCatcher:\x20'+'f32\x20=\x201.0;'+'\x0a#endif\x0a\x0a/'+'/\x20LOOP\x20-\x20u'+'niform\x20dec'+'larations\x20'+'for\x20all\x20no'+'n-clustere'+'d\x20lights\x0a#'+'if\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightDe'+'clarationP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'f\x20LIT_FRES'+'NEL_MODEL\x20'+'==\x20NONE\x20&&'+'\x20!defined('+'LIT_REFLEC'+'TIONS)\x20&&\x20'+'!defined(L'+'IT_DIFFUSE'+'_MAP)\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_OLD'+'_AMBIENT\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0a//'+'\x20lightmap\x20'+'baking\x0a#if'+'def\x20STD_LI'+'GHTMAP_DIR'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20bakeDir'+':\x20f32;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_ADD_AMBIE'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20ambie'+'ntBakeOccl'+'usionContr'+'ast:\x20f32;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20ambientB'+'akeOcclusi'+'onBrightne'+'ss:\x20f32;\x0a#'+'endif\x0a'),PD='\x0a\x0a@fragmen'+'t\x0afn\x20fragm'+'entMain(in'+'put:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ccSpecular'+'Light\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'Reflection'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_N'+'ONE_SLICE_'+'MODE\x20==\x20SL'+'ICED\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22startNi'+'neSlicedPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20LIT_NONE'+'_SLICE_MOD'+'E\x20==\x20TILED'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'tartNineSl'+'icedTiledP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'NEEDS_NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dVertexNo'+'rmalW\x20=\x20no'+'rmalize(vN'+'ormalW);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_T'+'ANGENTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_HEIG'+'HTS)\x20||\x20de'+'fined(LIT_'+'USE_NORMAL'+'S)\x20||\x20defi'+'ned(LIT_US'+'E_CLEARCOA'+'T_NORMALS)'+'\x20||\x20define'+'d(LIT_GGX_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dTan'+'gentW\x20=\x20vT'+'angentW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dBino'+'rmalW\x20=\x20vB'+'inormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20getView'+'Dir();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_TBN'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getTBN('+'dTangentW,'+'\x20dBinormal'+'W,\x20dVertex'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'andleTwoSi'+'dedLightin'+'g();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+('\x0a\x20\x20\x20\x20//\x20in'+'voke\x20front'+'end\x20functi'+'ons\x0a\x20\x20\x20\x20ev'+'aluateFron'+'tend();\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22debugPr'+'ocessFront'+'endPS\x22\x0a\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput\x20='+'\x20evaluateB'+'ackend();\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainEndP'+'S\x22\x0a\x0a\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a}\x0a'),MD='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20material_'+'ambient:\x20v'+'ec3f;\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_LIGHTING'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22light'+'SpecularAn'+'isoGGXPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tSpecularB'+'linnPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0a#include'+'\x20\x22combineP'+'S\x22\x0a\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapAddP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22am'+'bientPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_MS'+'DF\x0a\x20\x20\x20\x20#in'+'clude\x20\x22msd'+'fPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22viewDirPS'+'\x22\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_GGX_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirAni'+'soPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22reflDirP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20f'+'unctionali')+('ty\x0a#includ'+'e\x20\x22lightin'+'gPS\x22\x0a\x0a'),DD='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',ID='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',LD='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a#endif'+'\x0a\x0a#ifdef\x20N'+'INESLICED\x0a'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vMask:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20varying\x20v'+'TiledUv:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dMaskG'+'lobal:\x20vec'+'2f;\x0a\x20\x20\x20\x20va'+'r<private>'+'\x20dTiledUvG'+'lobal:\x20vec'+'2f;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'uterScale:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'atlasRect:'+'\x20vec4f;\x0a\x0a#'+'endif\x0a\x0avar'+'<private>\x20'+'dPositionW'+':\x20vec3f;\x0av'+'ar<private'+'>\x20dModelMa'+'trix:\x20mat4'+'x4f;\x0a\x0a#inc'+'lude\x20\x22tran'+'sformCoreV'+'S\x22\x0a\x0a#ifdef'+'\x20UV0\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ertex_texC'+'oord0:\x20vec'+'2f;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'rtex_texCo'+'ord1:\x20vec2'+'f;\x0a\x20\x20\x20\x20#in'+'clude\x20\x22uv1'+'VS\x22\x0a#endif'+'\x0a\x0a\x0a#ifdef\x20'+'LINEAR_DEP'+'TH\x0a\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'#define\x20VI'+'EWMATRIX\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22tran'+'sformVS\x22\x0a\x0a'+'#ifdef\x20NOR'+'MALS\x0a\x20\x20\x20\x20#'+'include\x20\x22n'+'ormalCoreV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malVS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20TANGENTS'+'\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_tangent:'+'\x20vec4f;\x0a#e'+'ndif\x0a\x0a//\x20e'+'xpand\x20unif'+'orms\x20for\x20u'+'v\x20transfor'+'ms\x0a#includ'+'e\x20\x22uvTrans'+'formUnifor'+'msPS,\x20UV_T'+'RANSFORMS_'+('COUNT\x22\x0a\x0a#i'+'fdef\x20MSDF\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22msdfVS'+'\x22\x0a#endif\x0a\x0a'+'#include\x20\x20'+'\x22litUserCo'+'deVS\x22\x0a\x0a@ve'+'rtex\x0afn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'MainStartV'+'S\x22\x0a\x0a\x20\x20\x20\x20va'+'r\x20output\x20:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20get'+'Position()'+';\x0a\x20\x20\x20\x20outp'+'ut.vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20NO'+'RMALS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vNormalW\x20'+'=\x20getNorma'+'l();\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TA'+'NGENTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vTangent'+'W\x20=\x20normal'+'ize(dNorma'+'lMatrix\x20*\x20'+'vertex_tan'+'gent.xyz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vBin'+'ormalW\x20=\x20c'+'ross(outpu'+'t.vNormalW'+',\x20output.v'+'TangentW)\x20'+'*\x20vertex_t'+'angent.w;\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(GG'+'X_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20UV0'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f\x20=\x20getU'+'v0();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20UV0_UNMOD'+'IFIED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20uv1:\x20vec2'+'f\x20=\x20getUv1'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20U'+'V1_UNMODIF'+'IED\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.vUv1\x20=\x20'+'uv1;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'xpand\x20code'+'\x20for\x20uv\x20tr'+'ansforms\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22uvTrans')+('formVS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20VERTEX_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition'+',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-(uniform'+'.matrix_vi'+'ew\x20*\x20vec4f'+'(output.vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MSDF\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unpac'+'kMsdfParam'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.outline_c'+'olor\x20=\x20dOu'+'tlineColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.out'+'line_thick'+'ness\x20=\x20dOu'+'tlineThick'+'ness;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.shadow_co'+'lor\x20=\x20dSha'+'dowColor;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.shado'+'w_offset\x20='+'\x20dShadowOf'+'fset;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vMask'+'\x20=\x20dMaskGl'+'obal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vTiledUv\x20'+'=\x20dTiledUv'+'Global;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndVS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),RD='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20evaluateF'+'rontend();'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20getP'+'ickOutput('+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20float2ve'+'c4(vLinear'+'Depth);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndPS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',OD='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avar<priva'+'te>\x20litArg'+'s_albedo:\x20'+'vec3f;\x0a\x0a//'+'\x20Transpare'+'ncy\x0avar<pr'+'ivate>\x20lit'+'Args_opaci'+'ty:\x20f32;\x0a\x0a'+'//\x20Emissio'+'n\x20color\x0ava'+'r<private>'+'\x20litArgs_e'+'mission:\x20v'+'ec3f;\x0a\x0a//\x20'+'Normal\x20dir'+'ection\x20in\x20'+'world\x20spac'+'e\x0avar<priv'+'ate>\x20litAr'+'gs_worldNo'+'rmal:\x20vec3'+'f;\x0a\x0a//\x20Amb'+'ient\x20occlu'+'sion\x20amoun'+'t,\x20range\x20['+'0..1]\x0avar<'+'private>\x20l'+'itArgs_ao:'+'\x20f32;\x0a\x0a//\x20'+'Light\x20map\x20'+'color\x0avar<'+'private>\x20l'+'itArgs_lig'+'htmap:\x20vec'+'3f;\x0a\x0a//\x20Li'+'ght\x20map\x20di'+'rection\x0ava'+'r<private>'+'\x20litArgs_l'+'ightmapDir'+':\x20vec3f;\x0a\x0a'+'//\x20Surface'+'\x20metalness'+'\x20factor,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_metalne'+'ss:\x20f32;\x0a\x0a'+'//\x20The\x20f0\x20'+'specularit'+'y\x20factor\x0av'+'ar<private'+'>\x20litArgs_'+'specularit'+'y:\x20vec3f;\x0a'+'\x0a//\x20Specul'+'arity\x20inte'+'nsity\x20fact'+'or,\x20range\x20'+'[0..1]\x0avar'+'<private>\x20'+'litArgs_sp'+'ecularityF'+'actor:\x20f32'+';\x0a\x0a//\x20The\x20'+'microfacet'+'\x20glossines'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0avar<pri'+'vate>\x20litA'+'rgs_gloss:'+'\x20f32;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_sheen'+'_gloss:\x20f3'+'2;\x0a\x0a//\x20The'+'\x20color\x20of\x20'+'the\x20f0\x20spe'+'cularity\x20f'+'actor\x20for\x20'+'the\x20sheen\x20'+'layer\x0avar<'+'private>\x20l'+'itArgs_she'+'en_specula'+'rity:\x20vec3'+'f;\x0a\x0a//\x20Tra'+'nsmission\x20'+'factor\x20(re'+('fraction),'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_trans'+'mission:\x20f'+'32;\x0a\x0a//\x20Un'+'iform\x20thic'+'kness\x20of\x20m'+'edium,\x20use'+'d\x20by\x20trans'+'mission,\x20r'+'ange\x20[0..i'+'nf]\x0avar<pr'+'ivate>\x20lit'+'Args_thick'+'ness:\x20f32;'+'\x0a\x0a//\x20Index'+'\x20of\x20refrac'+'tion\x0avar<p'+'rivate>\x20li'+'tArgs_ior:'+'\x20f32;\x0a\x0a//\x20'+'Dispersion'+',\x20range\x20[0'+'..1]\x20typic'+'ally,\x20but\x20'+'can\x20be\x20hig'+'her\x0avar<pr'+'ivate>\x20lit'+'Args_dispe'+'rsion:\x20f32'+';\x0a\x0a//\x20Irid'+'escence\x20ef'+'fect\x20inten'+'sity,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'iridescenc'+'e_intensit'+'y:\x20f32;\x0a\x0a/'+'/\x20Thicknes'+'s\x20of\x20the\x20i'+'ridescent\x20'+'microfilm\x20'+'layer,\x20val'+'ue\x20is\x20in\x20n'+'anometers,'+'\x20range\x20[0.'+'.1000]\x0avar'+'<private>\x20'+'litArgs_ir'+'idescence_'+'thickness:'+'\x20f32;\x0a\x0a//\x20'+'The\x20normal'+'\x20used\x20for\x20'+'the\x20clearc'+'oat\x20layer\x0a'+'var<privat'+'e>\x20litArgs'+'_clearcoat'+'_worldNorm'+'al:\x20vec3f;'+'\x0a\x0a//\x20Inten'+'sity\x20of\x20th'+'e\x20clearcoa'+'t\x20layer,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_clearco'+'at_specula'+'rity:\x20f32;'+'\x0a\x0a//\x20Gloss'+'iness\x20of\x20c'+'learcoat\x20l'+'ayer,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'clearcoat_'+'gloss:\x20f32'+';\x0a\x0a'),FD='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20t'+'extureBias'+':\x20f32\x20=\x20-1'+'000.0;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20texture'+'Bias:\x20f32;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ShaderArgs'+'PS\x22\x0a',ND='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20view_p'+'osition:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20li'+'ght_radius'+':\x20f32;\x0a#en'+'dif\x0a\x0a#if\x20S'+'HADOW_TYPE'+'\x20==\x20PCSS_3'+'2F\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lin'+'earizeDept'+'hPS\x22\x0a#endi'+'f\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serMainSta'+'rtPS\x22\x0a\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20/'+'/\x20using\x20no'+'n-standard'+'\x20depth,\x20i.'+'e\x20gl_FragC'+'oord.z\x0a\x20\x20\x20'+'\x20#ifdef\x20PE'+'RSPECTIVE_'+'DEPTH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20de'+'pth:\x20f32\x20='+'\x20input.pos'+'ition.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20PCS'+'S_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot/omni'+'\x20shadows\x20c'+'urrently\x20u'+'se\x20linear\x20'+'depth.\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20TODO:\x20us'+'e\x20perspect'+'ive\x20depth\x20'+'for\x20spot/o'+'mni\x20the\x20sa'+'me\x20way\x20as\x20'+'directiona'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT_TYPE\x20!'+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'depth\x20=\x20li'+'nearizeDep'+'thWithPara'+'ms(depth,\x20'+'camera_par'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20depth:\x20'+'f32\x20=\x20min('+'distance(u'+'niform.vie'+'w_position'+',\x20input.vP'+'ositionW)\x20'+'/\x20uniform.'+'light_radi'+'us,\x200.9999'+'9);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'MODIFIED_D'+'EPTH\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SHADO'+'W_TYPE\x20==\x20'+'VSM_16F\x20||'+'\x20SHADOW_TY'+('PE\x20==\x20VSM_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20SHAD'+'OW_TYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20expon'+'ent:\x20f32\x20='+'\x2015.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20exp'+'onent:\x20f32'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dep'+'th_vsm\x20=\x202'+'.0\x20*\x20depth'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dept'+'h_vsm\x20=\x20ex'+'p(exponent'+'\x20*\x20depth_v'+'sm);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(depth_'+'vsm,\x20depth'+'_vsm\x20*\x20dep'+'th_vsm,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20PCSS'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(de'+'pth,\x200.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MODIFI'+'ED_DEPTH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20If'+'\x20we\x20end\x20up'+'\x20using\x20mod'+'ified\x20dept'+'h,\x20it\x20need'+'s\x20to\x20be\x20ex'+'plicitly\x20w'+'ritten\x20to\x20'+'gl_FragDep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.frag'+'Depth\x20=\x20de'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'just\x20the\x20s'+'implest\x20co'+'de,\x20color\x20'+'is\x20not\x20wri'+'tten\x20anywa'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),kD='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0afn\x20'+'LTC_Uv(N:\x20'+'vec3f,\x20V:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20co'+'nst\x20LUT_SI'+'ZE:\x20f32\x20=\x20'+'64.0;\x0a\x20\x20\x20\x20'+'const\x20LUT_'+'SCALE:\x20f32'+'\x20=\x20(LUT_SI'+'ZE\x20-\x201.0)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_BIAS'+':\x20f32\x20=\x200.'+'5\x20/\x20LUT_SI'+'ZE;\x0a\x20\x20\x20\x20le'+'t\x20dotNV:\x20f'+'32\x20=\x20satur'+'ate(dot(\x20N'+',\x20V\x20));\x0a\x20\x20'+'\x20\x20//\x20textu'+'re\x20paramet'+'erized\x20by\x20'+'sqrt(\x20GGX\x20'+'alpha\x20)\x20an'+'d\x20sqrt(\x201\x20'+'-\x20cos(\x20the'+'ta\x20)\x20)\x0a\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20vec'+'2f(\x20roughn'+'ess,\x20sqrt('+'\x201.0\x20-\x20dot'+'NV\x20)\x20);\x0a\x20\x20'+'\x20\x20return\x20u'+'v\x20*\x20LUT_SC'+'ALE\x20+\x20LUT_'+'BIAS;\x0a}\x0a\x0af'+'n\x20LTC_Clip'+'pedSphereF'+'ormFactor('+'\x20f:\x20vec3f\x20'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20//\x20Re'+'al-Time\x20Ar'+'ea\x20Lightin'+'g:\x20a\x20Journ'+'ey\x20from\x20Re'+'search\x20to\x20'+'Production'+'\x20(p.102)\x0a\x20'+'\x20\x20\x20//\x20An\x20a'+'pproximati'+'on\x20of\x20the\x20'+'form\x20facto'+'r\x20of\x20a\x20hor'+'izon-clipp'+'ed\x20rectang'+'le.\x0a\x20\x20\x20\x20le'+'t\x20l:\x20f32\x20='+'\x20length(\x20f'+'\x20);\x0a\x20\x20\x20\x20re'+'turn\x20max(\x20'+'(\x20l\x20*\x20l\x20+\x20'+'f.z\x20)\x20/\x20(\x20'+'l\x20+\x201.0\x20),'+'\x200.0\x20);\x0a}\x0a'+'\x0afn\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'v1:\x20vec3f,'+'\x20v2:\x20vec3f'+'\x20)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20x:\x20f32\x20='+'\x20dot(\x20v1,\x20'+'v2\x20);\x0a\x20\x20\x20\x20'+'let\x20y:\x20f32'+('\x20=\x20abs(\x20x\x20'+');\x0a\x20\x20\x20\x20//\x20'+'rational\x20p'+'olynomial\x20'+'approximat'+'ion\x20to\x20the'+'ta\x20/\x20sin(\x20'+'theta\x20)\x20/\x20'+'2PI\x0a\x20\x20\x20\x20le'+'t\x20a:\x20f32\x20='+'\x200.8543985'+'\x20+\x20(\x200.496'+'5155\x20+\x200.0'+'145206\x20*\x20y'+'\x20)\x20*\x20y;\x0a\x20\x20'+'\x20\x20let\x20b:\x20f'+'32\x20=\x203.417'+'5940\x20+\x20(\x204'+'.1616724\x20+'+'\x20y\x20)\x20*\x20y;\x0a'+'\x20\x20\x20\x20let\x20v:'+'\x20f32\x20=\x20a\x20/'+'\x20b;\x0a\x20\x20\x20\x20le'+'t\x20inv_sqrt'+'_term\x20=\x20in'+'verseSqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7f\x20)\x20);\x0a'+'\x20\x20\x20\x20let\x20th'+'eta_sinthe'+'ta:\x20f32\x20=\x20'+'select(\x20(0'+'.5\x20*\x20inv_s'+'qrt_term\x20-'+'\x20v),\x20v,\x20x\x20'+'>\x200.0\x20);\x0a\x20'+'\x20\x20\x20return\x20'+'cross(\x20v1,'+'\x20v2\x20)\x20*\x20th'+'eta_sinthe'+'ta;\x0a}\x0a\x0astr'+'uct\x20Coords'+'\x20{\x0a\x20\x20\x20\x20coo'+'rd0:\x20vec3f'+',\x0a\x20\x20\x20\x20coor'+'d1:\x20vec3f,'+'\x0a\x20\x20\x20\x20coord'+'2:\x20vec3f,\x0a'+'\x20\x20\x20\x20coord3'+':\x20vec3f,\x0a}'+'\x0a\x0afn\x20LTC_E'+'valuateRec'+'t(\x20N:\x20vec3'+'f,\x20V:\x20vec3'+'f,\x20P:\x20vec3'+'f,\x20mInv:\x20m'+'at3x3f,\x20re'+'ctCoords:\x20'+'Coords)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20//\x20bail\x20i'+'f\x20point\x20is'+'\x20on\x20back\x20s'+'ide\x20of\x20pla'+'ne\x20of\x20ligh'+'t\x0a\x20\x20\x20\x20//\x20a'+'ssumes\x20ccw'+'\x20winding\x20o'+'rder\x20of\x20li'+'ght\x20vertic'+'es\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec3f'+'\x20=\x20rectCoo'+'rds.coord1'+'\x20-\x20rectCoo'+'rds.coord0'+';\x0a\x20\x20\x20\x20let\x20'+'v2:\x20vec3f\x20'+'=\x20rectCoor'+'ds.coord3\x20'+'-\x20rectCoor'+'ds.coord0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'lightNorma'+'l:\x20vec3f\x20='+'\x20cross(\x20v1'+',\x20v2\x20);\x0a\x20\x20'+'\x20\x20let\x20fact'+'or:\x20f32\x20=\x20'+'sign(-dot('+'\x20lightNorm'+'al,\x20P\x20-\x20re'+'ctCoords.c'+'oord0\x20));\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'nstruct\x20or'+'thonormal\x20'+'basis\x20arou'+'nd\x20N\x0a\x20\x20\x20\x20l')+('et\x20T1:\x20vec'+'3f\x20=\x20norma'+'lize(\x20V\x20-\x20'+'N\x20*\x20dot(\x20V'+',\x20N\x20)\x20);\x0a\x20'+'\x20\x20\x20let\x20T2:'+'\x20vec3f\x20=\x20f'+'actor\x20*\x20cr'+'oss(\x20N,\x20T1'+'\x20);\x20//\x20neg'+'ated\x20from\x20'+'paper;\x20pos'+'sibly\x20due\x20'+'to\x20a\x20diffe'+'rent\x20hande'+'dness\x20of\x20w'+'orld\x20coord'+'inate\x20syst'+'em\x0a\x20\x20\x20\x20//\x20'+'compute\x20tr'+'ansform\x0a\x20\x20'+'\x20\x20let\x20mat:'+'\x20mat3x3f\x20='+'\x20mInv\x20*\x20tr'+'anspose(\x20m'+'at3x3f(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'transform\x20'+'rect\x0a\x20\x20\x20\x20v'+'ar\x20coords:'+'\x20array<vec'+'3f,\x204>;\x0a\x20\x20'+'\x20\x20coords[0'+']\x20=\x20mat\x20*\x20'+'(\x20rectCoor'+'ds.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20coords[1]'+'\x20=\x20mat\x20*\x20('+'\x20rectCoord'+'s.coord1\x20-'+'\x20P\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20mat\x20*\x20(\x20'+'rectCoords'+'.coord2\x20-\x20'+'P\x20);\x0a\x20\x20\x20\x20c'+'oords[3]\x20='+'\x20mat\x20*\x20(\x20r'+'ectCoords.'+'coord3\x20-\x20P'+'\x20);\x0a\x20\x20\x20\x20//'+'\x20project\x20r'+'ect\x20onto\x20s'+'phere\x0a\x20\x20\x20\x20'+'coords[0]\x20'+'=\x20normaliz'+'e(\x20coords['+'0]\x20);\x0a\x20\x20\x20\x20'+'coords[1]\x20'+'=\x20normaliz'+'e(\x20coords['+'1]\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20normaliz'+'e(\x20coords['+'2]\x20);\x0a\x20\x20\x20\x20'+'coords[3]\x20'+'=\x20normaliz'+'e(\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20vector\x20'+'form\x20facto'+'r\x0a\x20\x20\x20\x20var\x20'+'vectorForm'+'Factor:\x20ve'+'c3f\x20=\x20vec3'+'f(\x200.0\x20);\x0a'+'\x20\x20\x20\x20vector'+'FormFactor'+'\x20=\x20vectorF'+'ormFactor\x20'+'+\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[0],\x20c'+'oords[1]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20=\x20vecto'+'rFormFacto'+'r\x20+\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'coords[1],'+'\x20coords[2]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa')+('ctor\x20=\x20vec'+'torFormFac'+'tor\x20+\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[2'+'],\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20=\x20v'+'ectorFormF'+'actor\x20+\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[3],\x20coord'+'s[0]\x20);\x0a\x20\x20'+'\x20\x20//\x20adjus'+'t\x20for\x20hori'+'zon\x20clippi'+'ng\x0a\x20\x20\x20\x20let'+'\x20result:\x20f'+'32\x20=\x20LTC_C'+'lippedSphe'+'reFormFact'+'or(\x20vector'+'FormFactor'+'\x20);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20resu'+'lt;\x0a}\x0a\x0avar'+'<private>\x20'+'dLTCCoords'+':\x20Coords;\x0a'+'fn\x20getLTCL'+'ightCoords'+'(lightPos:'+'\x20vec3f,\x20ha'+'lfWidth:\x20v'+'ec3f,\x20half'+'Height:\x20ve'+'c3f)\x20->\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20var\x20coord'+'s:\x20Coords;'+'\x0a\x20\x20\x20\x20coord'+'s.coord0\x20='+'\x20lightPos\x20'+'+\x20halfWidt'+'h\x20-\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd1\x20=\x20ligh'+'tPos\x20-\x20hal'+'fWidth\x20-\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20coord'+'s.coord2\x20='+'\x20lightPos\x20'+'-\x20halfWidt'+'h\x20+\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd3\x20=\x20ligh'+'tPos\x20+\x20hal'+'fWidth\x20+\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20retur'+'n\x20coords;\x0a'+'}\x0a\x0avar<pri'+'vate>\x20dSph'+'ereRadius:'+'\x20f32;\x0afn\x20g'+'etSphereLi'+'ghtCoords('+'lightPos:\x20'+'vec3f,\x20hal'+'fWidth:\x20ve'+'c3f,\x20halfH'+'eight:\x20vec'+'3f)\x20->\x20Coo'+'rds\x20{\x0a\x20\x20\x20\x20'+'//\x20used\x20fo'+'r\x20simple\x20s'+'phere\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20//\x20als'+'o,\x20the\x20cod'+'e\x20only\x20han'+'dles\x20a\x20sph'+'erical\x20lig'+'ht,\x20it\x20can'+'not\x20be\x20non'+'-uniformly'+'\x20scaled\x20in'+'\x20world\x20spa'+'ce,\x20and\x20so'+'\x20we\x20enforc'+'e\x20it\x20here\x0a'+'\x20\x20\x20\x20dSpher'+'eRadius\x20=\x20')+('max(length'+'(halfWidth'+'),\x20length('+'halfHeight'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20Billboar'+'d\x20the\x202d\x20l'+'ight\x20quad\x20'+'to\x20reflect'+'ion\x20vector'+',\x20as\x20it\x27s\x20'+'used\x20for\x20s'+'pecular.\x20T'+'his\x20allows'+'\x20us\x20to\x20use'+'\x20disk\x20math'+'\x20for\x20the\x20s'+'phere.\x0a\x20\x20\x20'+'\x20let\x20f:\x20ve'+'c3f\x20=\x20refl'+'ect(normal'+'ize(lightP'+'os\x20-\x20unifo'+'rm.view_po'+'sition),\x20v'+'NormalW);\x0a'+'\x20\x20\x20\x20let\x20w:'+'\x20vec3f\x20=\x20n'+'ormalize(c'+'ross(f,\x20ha'+'lfHeight))'+';\x0a\x20\x20\x20\x20let\x20'+'h:\x20vec3f\x20='+'\x20normalize'+'(cross(f,\x20'+'w));\x0a\x0a\x20\x20\x20\x20'+'return\x20get'+'LTCLightCo'+'ords(light'+'Pos,\x20w\x20*\x20d'+'SphereRadi'+'us,\x20h\x20*\x20dS'+'phereRadiu'+'s);\x0a}\x0a\x0a//\x20'+'used\x20for\x20L'+'TC\x20LUT\x20tex'+'ture\x20looku'+'p\x0avar<priv'+'ate>\x20dLTCU'+'V:\x20vec2f;\x0a'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20var<p'+'rivate>\x20cc'+'LTCUV:\x20vec'+'2f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightUV(g'+'loss:\x20f32,'+'\x20worldNorm'+'al:\x20vec3f,'+'\x20viewDir:\x20'+'vec3f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20roug'+'hness:\x20f32'+'\x20=\x20max((1.'+'0\x20-\x20gloss)'+'\x20*\x20(1.0\x20-\x20'+'gloss),\x200.'+'001);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_Uv(\x20world'+'Normal,\x20vi'+'ewDir,\x20rou'+'ghness\x20);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20energ'+'y\x20conserva'+'tion\x20and\x20t'+'o\x20modulate'+'\x20specular\x0a'+'var<privat'+'e>\x20dLTCSpe'+'cFres:\x20vec'+'3f;\x0a#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20v'+'ar<private'+'>\x20ccLTCSpe'+'cFres:\x20vec'+'3f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightSpec'+'Fres(uv:\x20v'+'ec2f,\x20spec'+'ularity:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20t2:\x20v')+('ec4f\x20=\x20tex'+'tureSample'+'Level(area'+'LightsLutT'+'ex2,\x20areaL'+'ightsLutTe'+'x2Sampler,'+'\x20uv,\x200.0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20specular'+'ity\x20*\x20t2.x'+'\x20+\x20(\x20vec3f'+'(\x201.0\x20)\x20-\x20'+'specularit'+'y)\x20*\x20t2.y;'+'\x0a}\x0a\x0afn\x20cal'+'cLTCLightV'+'alues(glos'+'s:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f,\x20specul'+'arity:\x20vec'+'3f,\x20clearc'+'oatGloss:\x20'+'f32,\x20clear'+'coatWorldN'+'ormal:\x20vec'+'3f,\x20clearc'+'oatSpecula'+'rity:\x20f32)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'UV\x20=\x20getLT'+'CLightUV(c'+'learcoatGl'+'oss,\x20clear'+'coatWorldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'SpecFres\x20='+'\x20getLTCLig'+'htSpecFres'+'(ccLTCUV,\x20'+'vec3f(clea'+'rcoatSpecu'+'larity));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0afn\x20cal'+'cDiskLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20cal'+'cRectLight'+'Values(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0afn\x20calc'+'SphereLigh'+'tValues(li'+'ghtPos:\x20ve'+'c3f,\x20halfW'+'idth:\x20vec3'+'f,\x20halfHei')+('ght:\x20vec3f'+')\x20{\x0a\x20\x20\x20\x20dL'+'TCCoords\x20='+'\x20getSphere'+'LightCoord'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0a\x0a/'+'/\x20An\x20exten'+'ded\x20versio'+'n\x20of\x20the\x20i'+'mplementat'+'ion\x20from\x20\x22'+'How\x20to\x20sol'+'ve\x20a\x20cubic'+'\x20equation,'+'\x20revisited'+'\x22\x0a//\x20http:'+'//momentsi'+'ngraphics.'+'de/?p=105\x0a'+'fn\x20SolveCu'+'bic(Coeffi'+'cient_in:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20pi:\x20'+'f32\x20=\x203.14'+'159;\x0a\x20\x20\x20\x20v'+'ar\x20Coeffic'+'ient\x20=\x20Coe'+'fficient_i'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t\x20=\x20vec4f('+'Coefficien'+'t.xyz\x20/\x20Co'+'efficient.'+'w,\x20Coeffic'+'ient.w);\x0a\x0a'+'\x20\x20\x20\x20//\x20Div'+'ide\x20middle'+'\x20coefficie'+'nts\x20by\x20thr'+'ee\x0a\x20\x20\x20\x20let'+'\x20new_yz:\x20v'+'ec2f\x20=\x20Coe'+'fficient.y'+'z\x20/\x203.0;\x0a\x20'+'\x20\x20\x20Coeffic'+'ient\x20=\x20vec'+'4f(Coeffic'+'ient.x,\x20ne'+'w_yz.x,\x20ne'+'w_yz.y,\x20Co'+'efficient.'+'w);\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20let\x20A:\x20'+'f32\x20=\x20Coef'+'ficient.w;'+'\x0a\x20\x20\x20\x20let\x20B'+':\x20f32\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20let'+'\x20C:\x20f32\x20=\x20'+'Coefficien'+'t.y;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20Coeffici'+'ent.x;\x0a\x0a\x20\x20'+'\x20\x20//\x20Compu'+'te\x20the\x20Hes'+'sian\x20and\x20t'+'he\x20discrim'+'inant\x0a\x20\x20\x20\x20'+'let\x20Delta:'+'\x20vec3f\x20=\x20v'+'ec3f(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20-Coeff'+'icient.z\x20*'+'\x20Coefficie'+'nt.z\x20+\x20Coe'+'fficient.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'-Coefficie'+'nt.y\x20*\x20Coe'+'fficient.z'+'\x20+\x20Coeffic'+'ient.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'vec2f(Coef'+'ficient.z,'+'\x20-Coeffici'+'ent.y),\x20Co'+'efficient.'+'xy)\x0a\x20\x20\x20\x20);')+('\x0a\x0a\x20\x20\x20\x20let\x20'+'Discrimina'+'nt:\x20f32\x20=\x20'+'dot(vec2f('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20var\x20xlc:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20var\x20xsc:'+'\x20vec2f;\x0a\x0a\x20'+'\x20\x20\x20//\x20Algo'+'rithm\x20A\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20A_a:'+'\x20f32\x20=\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_a:\x20f'+'32\x20=\x20Delta'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_a:'+'\x20f32\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20Theta:\x20f'+'32\x20=\x20atan2'+'(sqrt(Disc'+'riminant),'+'\x20-D_a)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sqr'+'t_neg_Ca\x20='+'\x20sqrt(-C_a'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20x_1a:'+'\x20f32\x20=\x202.0'+'\x20*\x20sqrt_ne'+'g_Ca\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x_3a:\x20f32'+'\x20=\x202.0\x20*\x20s'+'qrt_neg_Ca'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20xl:'+'\x20f32\x20=\x20sel'+'ect(x_3a,\x20'+'x_1a,\x20(x_1'+'a\x20+\x20x_3a)\x20'+'>\x202.0\x20*\x20B)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xlc\x20=\x20vec2'+'f(xl\x20-\x20B,\x20'+'A);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Al'+'gorithm\x20D\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20A_'+'d:\x20f32\x20=\x20D'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_d:\x20f'+'32\x20=\x20Delta'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_d:'+'\x20f32\x20=\x20-D\x20'+'*\x20Delta.y\x20'+'+\x202.0\x20*\x20C\x20'+'*\x20Delta.z;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Take\x20th'+'e\x20cubic\x20ro'+'ot\x20of\x20a\x20no'+'rmalized\x20c'+'omplex\x20num'+'ber\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20Thet'+'a:\x20f32\x20=\x20a'+'tan2(D\x20*\x20s'+'qrt(Discri'+'minant),\x20-'+'D_d)\x20/\x203.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20sqrt_'+'neg_Cd\x20=\x20s'+'qrt(-C_d);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20x_1d:\x20f'+'32\x20=\x202.0\x20*')+('\x20sqrt_neg_'+'Cd\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20x'+'_3d:\x20f32\x20='+'\x202.0\x20*\x20sqr'+'t_neg_Cd\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20xs:\x20f'+'32\x20=\x20selec'+'t(x_3d,\x20x_'+'1d,\x20x_1d\x20+'+'\x20x_3d\x20<\x202.'+'0\x20*\x20C);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xsc\x20'+'=\x20vec2f(-D'+',\x20xs\x20+\x20C);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20let\x20E:\x20f'+'32\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20let\x20F'+':\x20f32\x20=\x20-x'+'lc.x\x20*\x20xsc'+'.y\x20-\x20xlc.y'+'\x20*\x20xsc.x;\x0a'+'\x20\x20\x20\x20let\x20G:'+'\x20f32\x20=\x20\x20xl'+'c.x\x20*\x20xsc.'+'x;\x0a\x0a\x20\x20\x20\x20le'+'t\x20xmc:\x20vec'+'2f\x20=\x20vec2f'+'(C\x20*\x20F\x20-\x20B'+'\x20*\x20G,\x20-B\x20*'+'\x20F\x20+\x20C\x20*\x20E'+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20Root:\x20ve'+'c3f\x20=\x20vec3'+'f(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root\x20=\x20'+'Root.yxz;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root\x20=\x20Ro'+'ot.xzy;\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20Root;'+'\x0a}\x0a\x0afn\x20LTC'+'_EvaluateD'+'isk(N:\x20vec'+'3f,\x20V:\x20vec'+'3f,\x20P:\x20vec'+'3f,\x20Minv:\x20'+'mat3x3f,\x20p'+'oints:\x20Coo'+'rds)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20let\x20T1:\x20'+'vec3f\x20=\x20no'+'rmalize(V\x20'+'-\x20N\x20*\x20dot('+'V,\x20N));\x0a\x20\x20'+'\x20\x20let\x20T2:\x20'+'vec3f\x20=\x20cr'+'oss(N,\x20T1)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'rotate\x20are'+'a\x20light\x20in'+'\x20(T1,\x20T2,\x20'+'N)\x20basis\x0a\x20'+'\x20\x20\x20let\x20R:\x20'+'mat3x3f\x20=\x20'+'transpose('+'\x20mat3x3f(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20polygon\x20'+'(allocate\x20'+'5\x20vertices'+'\x20for\x20clipp')+('ing\x0a\x20\x20\x20\x20va'+'r\x20L_:\x20arra'+'y<vec3f,\x203'+'>;\x0a\x20\x20\x20\x20L_['+'0]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[1'+']\x20=\x20R\x20*\x20(\x20'+'points.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20L_[2]'+'\x20=\x20R\x20*\x20(\x20p'+'oints.coor'+'d2\x20-\x20P\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'it\x20ellipse'+'\x0a\x20\x20\x20\x20let\x20C'+':\x20vec3f\x20\x20='+'\x200.5\x20*\x20(L_'+'[0]\x20+\x20L_[2'+']);\x0a\x20\x20\x20\x20va'+'r\x20V1:\x20vec3'+'f\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[2]);\x0a\x20\x20\x20'+'\x20var\x20V2:\x20v'+'ec3f\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[0]);\x0a'+'\x0a\x20\x20\x20\x20let\x20C'+'_Minv:\x20vec'+'3f\x20\x20=\x20Minv'+'\x20*\x20C;\x0a\x20\x20\x20\x20'+'let\x20V1_Min'+'v:\x20vec3f\x20='+'\x20Minv\x20*\x20V1'+';\x0a\x20\x20\x20\x20let\x20'+'V2_Minv:\x20v'+'ec3f\x20=\x20Min'+'v\x20*\x20V2;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20var\x20a:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20b:\x20f32;\x0a'+'\x20\x20\x20\x20let\x20d1'+'1:\x20f32\x20=\x20d'+'ot(V1_Minv'+',\x20V1_Minv)'+';\x0a\x20\x20\x20\x20let\x20'+'d22:\x20f32\x20='+'\x20dot(V2_Mi'+'nv,\x20V2_Min'+'v);\x0a\x20\x20\x20\x20le'+'t\x20d12:\x20f32'+'\x20=\x20dot(V1_'+'Minv,\x20V2_M'+'inv);\x0a\x20\x20\x20\x20'+'if\x20(abs(d1'+'2)\x20/\x20sqrt('+'d11\x20*\x20d22)'+'\x20>\x200.0001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20tr:\x20f'+'32\x20=\x20d11\x20+'+'\x20d22;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'t_inner:\x20f'+'32\x20=\x20-d12\x20'+'*\x20d12\x20+\x20d1'+'1\x20*\x20d22;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20det:\x20f32\x20'+'=\x20sqrt(det'+'_inner);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20u:\x20f32\x20=\x20'+'0.5\x20*\x20sqrt'+'(tr\x20-\x202.0\x20'+'*\x20det);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'v:\x20f32\x20=\x200'+'.5\x20*\x20sqrt('+'tr\x20+\x202.0\x20*'+'\x20det);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20e'+'_max:\x20f32\x20'+'=\x20(u\x20+\x20v)\x20'+'*\x20(u\x20+\x20v);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20e_min:\x20'+'f32\x20=\x20(u\x20-'+'\x20v)\x20*\x20(u\x20-'+'\x20v);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20V1'+'_:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va')+('r\x20V2_:\x20vec'+'3f;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(d11'+'\x20>\x20d22)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V1_\x20=\x20d1'+'2\x20*\x20V1_Min'+'v\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2_Minv;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20V2_\x20=\x20d12'+'\x20*\x20V1_Minv'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2_Minv;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12*V2_'+'Minv\x20+\x20(e_'+'max\x20-\x20d22)'+'*V1_Minv;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V2_\x20=\x20d1'+'2*V2_Minv\x20'+'+\x20(e_min\x20-'+'\x20d22)*V1_M'+'inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20e_max;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20b'+'\x20=\x201.0\x20/\x20e'+'_min;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20V1\x20=\x20n'+'ormalize(V'+'1_);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20V2\x20=\x20no'+'rmalize(V2'+'_);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1_Minv,\x20V1'+'_Minv);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2_Minv,\x20V'+'2_Minv);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'=\x20V1_Minv\x20'+'*\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20=\x20V2_Min'+'v\x20*\x20sqrt(b'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20V3'+':\x20vec3f\x20=\x20'+'normalize('+'cross(V1,\x20'+'V2));\x0a\x20\x20\x20\x20'+'if\x20(dot(C_'+'Minv,\x20V3)\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V3\x20'+'=\x20V3\x20*\x20-1.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20let\x20L:'+'\x20f32\x20\x20=\x20do'+'t(V3,\x20C_Mi'+'nv);\x0a\x20\x20\x20\x20l'+'et\x20x0:\x20f32'+'\x20=\x20dot(V1,'+'\x20C_Minv)\x20/'+'\x20L;\x0a\x20\x20\x20\x20le'+'t\x20y0:\x20f32\x20'+'=\x20dot(V2,\x20'+'C_Minv)\x20/\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20E1:\x20f32\x20'+'=\x20inverseS'+'qrt(a);\x0a\x20\x20'+'\x20\x20let\x20E2:\x20'+'f32\x20=\x20inve'+'rseSqrt(b)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20a_scaled\x20'+'=\x20a\x20*\x20L\x20*\x20'+'L;\x0a\x20\x20\x20\x20let'+'\x20b_scaled\x20'+'=\x20b\x20*\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20c0:\x20f32\x20'+'=\x20a_scaled'+'\x20*\x20b_scale'+'d;\x0a\x20\x20\x20\x20let'+'\x20c1:\x20f32\x20='+'\x20a_scaled\x20'+'*\x20b_scaled')+('\x20*\x20(1.0\x20+\x20'+'x0\x20*\x20x0\x20+\x20'+'y0\x20*\x20y0)\x20-'+'\x20a_scaled\x20'+'-\x20b_scaled'+';\x0a\x20\x20\x20\x20let\x20'+'c2:\x20f32\x20=\x20'+'1.0\x20-\x20a_sc'+'aled\x20*\x20(1.'+'0\x20+\x20x0\x20*\x20x'+'0)\x20-\x20b_sca'+'led\x20*\x20(1.0'+'\x20+\x20y0\x20*\x20y0'+');\x0a\x20\x20\x20\x20let'+'\x20c3:\x20f32\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20let\x20roots'+':\x20vec3f\x20=\x20'+'SolveCubic'+'(vec4f(c0,'+'\x20c1,\x20c2,\x20c'+'3));\x0a\x20\x20\x20\x20l'+'et\x20e1:\x20f32'+'\x20=\x20roots.x'+';\x0a\x20\x20\x20\x20let\x20'+'e2:\x20f32\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20let\x20e3:'+'\x20f32\x20=\x20roo'+'ts.z;\x0a\x0a\x20\x20\x20'+'\x20var\x20avgDi'+'r:\x20vec3f\x20='+'\x20vec3f(a_s'+'caled\x20*\x20x0'+'\x20/\x20(a_scal'+'ed\x20-\x20e2),\x20'+'b_scaled\x20*'+'\x20y0\x20/\x20(b_s'+'caled\x20-\x20e2'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20let\x20ro'+'tate:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20let\x20L'+'1:\x20f32\x20=\x20s'+'qrt(-e2\x20/\x20'+'e3);\x0a\x20\x20\x20\x20l'+'et\x20L2:\x20f32'+'\x20=\x20sqrt(-e'+'2\x20/\x20e1);\x0a\x0a'+'\x20\x20\x20\x20let\x20fo'+'rmFactor:\x20'+'f32\x20=\x20max('+'0.0,\x20L1\x20*\x20'+'L2\x20*\x20inver'+'seSqrt((1.'+'0\x20+\x20L1\x20*\x20L'+'1)\x20*\x20(1.0\x20'+'+\x20L2\x20*\x20L2)'+'));\x0a\x0a\x20\x20\x20\x20c'+'onst\x20LUT_S'+'IZE_disk:\x20'+'f32\x20=\x2064.0'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_SCAL'+'E_disk:\x20f3'+'2\x20=\x20(\x20LUT_'+'SIZE_disk\x20'+'-\x201.0\x20)\x20/\x20'+'LUT_SIZE_d'+'isk;\x0a\x20\x20\x20\x20c'+'onst\x20LUT_B'+'IAS_disk:\x20'+'f32\x20=\x200.5\x20'+'/\x20LUT_SIZE'+'_disk;\x0a\x0a\x20\x20'+'\x20\x20//\x20use\x20t'+'abulated\x20h'+'orizon-cli'+'pped\x20spher'+'e\x0a\x20\x20\x20\x20var\x20'+'uv:\x20vec2f\x20'+'=\x20vec2f(av'+'gDir.z\x20*\x200'+'.5\x20+\x200.5,\x20'+'formFactor'+');\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20LUT'+'_SCALE_dis'+'k\x20+\x20LUT_BI'+'AS_disk;\x0a\x0a'+'\x20\x20\x20\x20let\x20sc')+('ale:\x20f32\x20='+'\x20textureSa'+'mpleLevel('+'areaLights'+'LutTex2,\x20a'+'reaLightsL'+'utTex2Samp'+'ler,\x20uv,\x200'+'.0).w;\x0a\x0a\x20\x20'+'\x20\x20return\x20f'+'ormFactor\x20'+'*\x20scale;\x0a}'+'\x0a\x0a//\x20LTC_E'+'valuateDis'+'k\x20in\x20some\x20'+'rare\x20cases'+'\x20genereate'+'s\x20NaN\x20valu'+'es\x20in\x20a\x20or'+'\x20b,\x20just\x20b'+'efore\x20\x27flo'+'at\x20c0\x20=\x20a\x20'+'*\x20b;\x27\x0a//\x20G'+'et\x20rid\x20of\x20'+'those\x20Nan\x20'+'values\x20bef'+'ore\x20they\x20p'+'ropagate\x20f'+'urther,\x20as'+'\x20in\x20case\x20o'+'f\x20bloom\x20/\x20'+'DOF\x20blurs\x20'+'they\x0a//\x20pr'+'opagate\x20to'+'\x20large\x20are'+'as.\x20I\x20didn'+'\x27t\x20find\x20th'+'e\x20actual\x20r'+'eason\x20wher'+'e\x20those\x20co'+'me\x20from,\x20s'+'o\x20that\x20is\x20'+'still\x20TODO'+'.\x0a//\x20Note\x20'+'that\x20only\x20'+'disk/spher'+'e\x20lights\x20a'+'re\x20causing'+'\x20it,\x20so\x20on'+'ly\x20handle\x20'+'those.\x0afn\x20'+'FixNan(val'+'ue:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20v'+'alue\x20!=\x20va'+'lue\x20check\x20'+'for\x20NaN\x20as'+'\x20isnan()\x20i'+'s\x20not\x20avai'+'lable\x20in\x20W'+'GSL\x0a\x20\x20\x20\x20re'+'turn\x20selec'+'t(value,\x200'+'.0,\x20value\x20'+'!=\x20value);'+'\x0a}\x0a\x0afn\x20get'+'RectLightD'+'iffuse(wor'+'ldNormal:\x20'+'vec3f,\x20vie'+'wDir:\x20vec3'+'f,\x20lightDi'+'r:\x20vec3f,\x20'+'lightDirNo'+'rm:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20id'+'entityMat\x20'+'=\x20mat3x3f('+'vec3f(1.0,'+'\x200.0,\x200.0)'+',\x20vec3f(0.'+'0,\x201.0,\x200.'+'0),\x20vec3f('+'0.0,\x200.0,\x20'+'1.0));\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'identityMa'+'t,\x20dLTCCoo'+'rds\x20);\x0a}\x0a\x0a'+'fn\x20getDisk'+'LightDiffu'+'se(worldNo'+'rmal:\x20vec3')+('f,\x20viewDir'+':\x20vec3f,\x20l'+'ightDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20identi'+'tyMat\x20=\x20ma'+'t3x3f(vec3'+'f(1.0,\x200.0'+',\x200.0),\x20ve'+'c3f(0.0,\x201'+'.0,\x200.0),\x20'+'vec3f(0.0,'+'\x200.0,\x201.0)'+');\x0a\x20\x20\x20\x20ret'+'urn\x20FixNan'+'(LTC_Evalu'+'ateDisk(\x20w'+'orldNormal'+',\x20viewDir,'+'\x20vPosition'+'W,\x20identit'+'yMat,\x20dLTC'+'Coords\x20));'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tDiffuse(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20let\x20fall'+'off:\x20f32\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20FixNan(ge'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNorm)\x20'+'*\x20falloff)'+';\x0a}\x0a\x0afn\x20ge'+'tLTCLightI'+'nvMat(uv:\x20'+'vec2f)\x20->\x20'+'mat3x3f\x20{\x0a'+'\x20\x20\x20\x20let\x20t1'+':\x20vec4f\x20=\x20'+'textureSam'+'pleLevel(a'+'reaLightsL'+'utTex1,\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er,\x20uv,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(\x20'+'t1.x,\x200.0,'+'\x20t1.y\x20),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(\x200.0,\x201'+'.0,\x200.0\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(\x20t1.z'+',\x200.0,\x20t1.'+'w\x20)\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight')+('InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getRectLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20cal'+'cDiskLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getDiskLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcDiskLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tSpecular('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'DiskLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir,\x20'+'dLTCUV);\x0a}'+'\x0a'),UD='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_me'+'talness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getMe'+'talness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'metalness:'+'\x20f32\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20metal'+'ness\x20=\x20met'+'alness\x20*\x20u'+'niform.mat'+'erial_meta'+'lness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'metalness\x20'+'=\x20metalnes'+'s\x20*\x20textur'+'eSampleBia'+'s({STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+',\x20{STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_METALN'+'ESS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_METALNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_VE'+'RTEX\x0a\x20\x20\x20\x20m'+'etalness\x20='+'\x20metalness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'METALNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dMetal'+'ness\x20=\x20met'+'alness;\x0a}\x0a',BD='\x0avar\x20textu'+'re_msdfMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20texture'+'_msdfMapSa'+'mpler:\x20sam'+'pler;\x0a\x0afn\x20'+'median(r:\x20'+'f32,\x20g:\x20f3'+'2,\x20b:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(min(r'+',\x20g),\x20min('+'max(r,\x20g),'+'\x20b));\x0a}\x0a\x0af'+'n\x20map(min:'+'\x20f32,\x20max:'+'\x20f32,\x20v:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(v\x20-\x20m'+'in)\x20/\x20(max'+'\x20-\x20min);\x0a}'+'\x0a\x0auniform\x20'+'font_sdfIn'+'tensity:\x20f'+'32;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20font_px'+'range:\x20f32'+';\x20\x20\x20\x20\x20\x20//\x20'+'the\x20number'+'\x20of\x20pixels'+'\x20between\x20i'+'nside\x20and\x20'+'outside\x20th'+'e\x20font\x20in\x20'+'SDF\x0aunifor'+'m\x20font_tex'+'tureWidth:'+'\x20f32;\x20//\x20t'+'he\x20width\x20o'+'f\x20the\x20text'+'ure\x20atlas\x0a'+'\x0a#ifndef\x20L'+'IT_MSDF_TE'+'XT_ATTRIBU'+'TE\x0a\x20\x20\x20\x20uni'+'form\x20outli'+'ne_color:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'utline_thi'+'ckness:\x20f3'+'2;\x0a\x20\x20\x20\x20uni'+'form\x20shado'+'w_color:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'uniform\x20sh'+'adow_offse'+'t:\x20vec2f;\x0a'+'#else\x0a\x20\x20\x20\x20'+'varying\x20ou'+'tline_colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20outline_'+'thickness:'+'\x20f32;\x0a\x20\x20\x20\x20'+'varying\x20sh'+'adow_color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20varying'+'\x20shadow_of'+'fset:\x20vec2'+'f;\x0a#endif\x0a'+'\x0afn\x20applyM'+'sdf(color_'+'in:\x20vec4f)'+'\x20->\x20vec4f\x20'+'{\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_M'+'SDF_TEXT_A'+'TTRIBUTE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20uniform.'+'outline_co'+'lor;\x0a\x20\x20\x20\x20\x20'+('\x20\x20\x20var\x20out'+'line_thick'+'nessValue\x20'+'=\x20uniform.'+'outline_th'+'ickness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_co'+'lorValue\x20='+'\x20uniform.s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_offsetVa'+'lue\x20=\x20unif'+'orm.shadow'+'_offset;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utline_thi'+'cknessValu'+'e\x20=\x20outlin'+'e_thicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_colorVal'+'ue\x20=\x20shado'+'w_color;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_of'+'fsetValue\x20'+'=\x20shadow_o'+'ffset;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20Conv'+'ert\x20to\x20lin'+'ear\x20space\x20'+'before\x20pro'+'cessing\x0a\x20\x20'+'\x20\x20//\x20TODO:'+'\x20ideally\x20t'+'his\x20would\x20'+'receive\x20th'+'e\x20color\x20in'+'\x20linear\x20sp'+'ace,\x20but\x20t'+'hat\x20would\x20'+'require\x20la'+'rger\x20chang'+'es\x0a\x20\x20\x20\x20//\x20'+'on\x20the\x20eng'+'ine\x20side,\x20'+'with\x20the\x20w'+'ay\x20premult'+'iplied\x20alp'+'ha\x20is\x20hand'+'led\x20as\x20wel'+'l.\x0a\x20\x20\x20\x20var'+'\x20color\x20=\x20v'+'ec4f(gamma'+'CorrectInp'+'utVec3(col'+'or_in.rgb)'+',\x20color_in'+'.a);\x0a\x0a\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20field\x0a'+'\x20\x20\x20\x20let\x20ts'+'ample:\x20vec'+'3f\x20=\x20textu'+'reSample(t'+'exture_msd'+'fMap,\x20text'+'ure_msdfMa'+'pSampler,\x20'+'vUv0).rgb;'+'\x0a\x20\x20\x20\x20let\x20u'+'vShdw:\x20vec'+'2f\x20=\x20vUv0\x20'+'-\x20shadow_o'+'ffsetValue'+';\x0a\x20\x20\x20\x20let\x20'+'ssample:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'(texture_m'+'sdfMap,\x20te'+'xture_msdf'+'MapSampler'+',\x20uvShdw).'+'rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20get\x20the'+'\x20signed\x20di'+'stance\x20val'+'ue\x0a\x20\x20\x20\x20let')+('\x20sigDist:\x20'+'f32\x20=\x20medi'+'an(tsample'+'.r,\x20tsampl'+'e.g,\x20tsamp'+'le.b);\x0a\x20\x20\x20'+'\x20var\x20sigDi'+'stShdw:\x20f3'+'2\x20=\x20median'+'(ssample.r'+',\x20ssample.'+'g,\x20ssample'+'.b);\x0a\x0a\x20\x20\x20\x20'+'//\x20smoothi'+'ng\x20limit\x20-'+'\x20smaller\x20v'+'alue\x20makes'+'\x20for\x20sharp'+'er\x20but\x20mor'+'e\x20aliased\x20'+'text,\x20espe'+'cially\x20on\x20'+'angles\x0a\x20\x20\x20'+'\x20//\x20too\x20la'+'rge\x20value\x20'+'(0.5)\x20crea'+'tes\x20a\x20dark'+'\x20glow\x20arou'+'nd\x20the\x20let'+'ters\x0a\x20\x20\x20\x20l'+'et\x20smoothi'+'ngMax:\x20f32'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20let'+'\x20w:\x20vec2f\x20'+'=\x20abs(dpdx'+'(vUv0))\x20+\x20'+'abs(dpdy(v'+'Uv0));\x0a\x20\x20\x20'+'\x20let\x20smoot'+'hing:\x20f32\x20'+'=\x20clamp(w.'+'x\x20*\x20unifor'+'m.font_tex'+'tureWidth\x20'+'/\x20uniform.'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20l'+'et\x20mapMin:'+'\x20f32\x20=\x200.0'+'5;\x0a\x20\x20\x20\x20let'+'\x20mapMax:\x20f'+'32\x20=\x20clamp'+'(1.0\x20-\x20uni'+'form.font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20let\x20si'+'gDistInner'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist);\x0a\x20\x20'+'\x20\x20let\x20sigD'+'istOutline'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'knessValue'+');\x0a\x20\x20\x20\x20sig'+'DistShdw\x20='+'\x20map(mapMi'+'n,\x20mapMax,'+'\x20sigDistSh'+'dw\x20+\x20outli'+'ne_thickne'+'ssValue);\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'enter:\x20f32'+'\x20=\x200.5;\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20smoot'+'hing\x20and\x20u'+'se\x20to\x20gene')+('rate\x20opaci'+'ty\x0a\x20\x20\x20\x20let'+'\x20inside:\x20f'+'32\x20=\x20smoot'+'hstep(cent'+'er\x20-\x20smoot'+'hing,\x20cent'+'er\x20+\x20smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20let\x20o'+'utline:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stOutline)'+';\x0a\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20let\x20tc'+'olor_outli'+'ne:\x20vec4f\x20'+'=\x20outline\x20'+'*\x20vec4f(ou'+'tline_colo'+'rValue.a\x20*'+'\x20outline_c'+'olorValue.'+'rgb,\x20outli'+'ne_colorVa'+'lue.a);\x0a\x20\x20'+'\x20\x20var\x20tcol'+'or:\x20vec4f\x20'+'=\x20select(v'+'ec4f(0.0),'+'\x20tcolor_ou'+'tline,\x20out'+'line\x20>\x20ins'+'ide);\x0a\x20\x20\x20\x20'+'tcolor\x20=\x20m'+'ix(tcolor,'+'\x20color,\x20in'+'side);\x0a\x0a\x20\x20'+'\x20\x20let\x20scol'+'or_shadow:'+'\x20vec4f\x20=\x20s'+'hadow\x20*\x20ve'+'c4f(shadow'+'_colorValu'+'e.a\x20*\x20shad'+'ow_colorVa'+'lue.rgb,\x20s'+'hadow_colo'+'rValue.a);'+'\x0a\x20\x20\x20\x20let\x20s'+'color:\x20vec'+'4f\x20=\x20selec'+'t(tcolor,\x20'+'scolor_sha'+'dow,\x20shado'+'w\x20>\x20outlin'+'e);\x0a\x20\x20\x20\x20tc'+'olor\x20=\x20mix'+'(scolor,\x20t'+'color,\x20out'+'line);\x0a\x0a\x20\x20'+'\x20\x20//\x20Conve'+'rt\x20back\x20to'+'\x20gamma\x20spa'+'ce\x20before\x20'+'returning\x0a'+'\x20\x20\x20\x20tcolor'+'\x20=\x20vec4f(g'+'ammaCorrec'+'tOutput(tc'+'olor.rgb),'+'\x20tcolor.a)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),zD='\x0a\x0afn\x20getSp'+'ecularModu'+'late(specu'+'larity:\x20ve'+'c3f,\x20albed'+'o:\x20vec3f,\x20'+'metalness:'+'\x20f32,\x20f0:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20dielec'+'tricF0:\x20ve'+'c3f\x20=\x20f0\x20*'+'\x20speculari'+'ty;\x0a\x20\x20\x20\x20re'+'turn\x20mix(d'+'ielectricF'+'0,\x20albedo,'+'\x20metalness'+');\x0a}\x0a\x0afn\x20g'+'etAlbedoMo'+'dulate(alb'+'edo:\x20vec3f'+',\x20metalnes'+'s:\x20f32)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'albedo\x20*\x20('+'1.0\x20-\x20meta'+'lness);\x0a}\x0a',VD='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var\x20morph'+'Texture:\x20t'+'exture_2d_'+'array<f32>'+';\x0a\x20\x20\x20\x20unif'+'orm\x20morphF'+'actor:\x20arr'+'ay<f32,\x20{M'+'ORPH_TEXTU'+'RE_MAX_COU'+'NT}>;\x0a\x20\x20\x20\x20'+'uniform\x20mo'+'rphIndex:\x20'+'array<u32,'+'\x20{MORPH_TE'+'XTURE_MAX_'+'COUNT}>;\x0a\x20'+'\x20\x20\x20uniform'+'\x20count:\x20u3'+'2;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x0a\x20\x20'+'\x20\x20fn\x20fragm'+'entMain(in'+'put\x20:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20color\x20='+'\x20vec3f(0,\x20'+'0,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20t'+'extureDims'+'\x20=\x20texture'+'Dimensions'+'(morphText'+'ure);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20pi'+'xelCoords\x20'+'=\x20vec2i(in'+'put.uv0\x20*\x20'+'vec2f(text'+'ureDims));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'u32\x20=\x200;\x20i'+'\x20<\x20uniform'+'.count;\x20i\x20'+'=\x20i\x20+\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'tureIndex:'+'\x20u32\x20=\x20uni'+'form.morph'+'Index[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20delta\x20'+'=\x20textureL'+'oad(morphT'+'exture,\x20pi'+'xelCoords,'+'\x20textureIn'+'dex,\x200).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20+=\x20unifor'+'m.morphFac'+'tor[i].ele'+'ment\x20*\x20del'+'ta;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'color,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',GD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',HD='\x0aattribute'+'\x20vertex_ou'+'tlineParam'+'eters:\x20vec'+'3f;\x0aattrib'+'ute\x20vertex'+'_shadowPar'+'ameters:\x20v'+'ec3f;\x0a\x0avar'+'ying\x20outli'+'ne_color:\x20'+'vec4f;\x0avar'+'ying\x20outli'+'ne_thickne'+'ss:\x20f32;\x0av'+'arying\x20sha'+'dow_color:'+'\x20vec4f;\x0ava'+'rying\x20shad'+'ow_offset:'+'\x20vec2f;\x0a\x0av'+'ar<private'+'>\x20dOutline'+'Color:\x20vec'+'4f;\x0avar<pr'+'ivate>\x20dOu'+'tlineThick'+'ness:\x20f32;'+'\x0avar<priva'+'te>\x20dShado'+'wColor:\x20ve'+'c4f;\x0avar<p'+'rivate>\x20dS'+'hadowOffse'+'t:\x20vec2f;\x0a'+'\x0afn\x20unpack'+'MsdfParams'+'()\x20{\x0a\x20\x20\x20\x20l'+'et\x20little:'+'\x20vec3f\x20=\x20v'+'ertex_outl'+'ineParamet'+'ers\x20%\x20vec3'+'f(256.0);\x0a'+'\x20\x20\x20\x20let\x20bi'+'g:\x20vec3f\x20='+'\x20(vertex_o'+'utlinePara'+'meters\x20-\x20l'+'ittle)\x20/\x202'+'56.0;\x0a\x0a\x20\x20\x20'+'\x20dOutlineC'+'olor\x20=\x20vec'+'4f(little.'+'x,\x20big.x,\x20'+'little.y,\x20'+'big.y)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20//\x20_outli'+'neThicknes'+'sScale\x20==='+'\x200.2\x0a\x20\x20\x20\x20d'+'OutlineThi'+'ckness\x20=\x20l'+'ittle.z\x20/\x20'+'255.0\x20*\x200.'+'2;\x0a\x0a\x20\x20\x20\x20le'+'t\x20little_s'+'hadow\x20=\x20ve'+'rtex_shado'+'wParameter'+'s\x20%\x20vec3f('+'256.0);\x0a\x20\x20'+'\x20\x20let\x20big_'+'shadow\x20=\x20('+'vertex_sha'+'dowParamet'+'ers\x20-\x20litt'+'le_shadow)'+'\x20/\x20256.0;\x0a'+'\x0a\x20\x20\x20\x20dShad'+'owColor\x20=\x20'+'vec4f(litt'+'le_shadow.'+'x,\x20big_sha'+'dow.x,\x20lit'+'tle_shadow'+'.y,\x20big_sh'+'adow.y)\x20/\x20'+'255.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+('ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20dShad'+'owOffset\x20='+'\x20(vec2f(li'+'ttle_shado'+'w.z,\x20big_s'+'hadow.z)\x20/'+'\x20127.0\x20-\x201'+'.0)\x20*\x200.00'+'5;\x0a}\x0a'),WD='\x0avar<priva'+'te>\x20dNorma'+'lMatrix:\x20m'+'at3x3f;\x0a\x0af'+'n\x20getNorma'+'l()\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20d'+'NormalMatr'+'ix\x20=\x20getNo'+'rmalMatrix'+'(dModelMat'+'rix);\x0a\x20\x20\x20\x20'+'let\x20localN'+'ormal:\x20vec'+'3f\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}',$D='\x0a\x0aattribut'+'e\x20vertex_n'+'ormal:\x20vec'+'3f;\x0a\x0aunifo'+'rm\x20matrix_'+'normal:\x20ma'+'t3x3f;\x0a\x0a#i'+'fdef\x20MORPH'+'ING_NORMAL'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MORPHING'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20mor'+'phNormalTe'+'x:\x20texture'+'_2d<u32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphNor'+'malTexSamp'+'ler:\x20sampl'+'er;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hNormalTex'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20morphNorm'+'alTexSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0afn\x20getLo'+'calNormal('+'vertexNorm'+'al:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20localNorm'+'al:\x20vec3f\x20'+'=\x20vertexNo'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20mor'+'phUV:\x20vec2'+'i\x20=\x20getTex'+'tureMorphC'+'oords();\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_INT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20morphN'+'ormalInt:\x20'+'vec4u\x20=\x20te'+'xtureLoad('+'morphNorma'+'lTex,\x20morp'+'hUV,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20morph'+'NormalF:\x20v'+'ec3f\x20=\x20vec'+'3f(morphNo'+'rmalInt.xy'+'z)\x20/\x2065535'+'.0\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormalF;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'morphNorma'+'l:\x20vec3f\x20='+'\x20textureLo'+'ad(morphNo'+'rmalTex,\x20m'+'orphUV,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormal;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20lo'+'calNormal;'+'\x0a}\x0a\x0a#if\x20de'+'fined(SKIN'+')\x20||\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20fn\x20get'+('NormalMatr'+'ix(modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ma'+'t3x3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3x3f'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20fn'+'\x20getNormal'+'Matrix(mod'+'elMatrix:\x20'+'mat4x4f)\x20-'+'>\x20mat3x3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20mat'+'3x3f(model'+'Matrix[0].'+'xyz,\x20model'+'Matrix[1].'+'xyz,\x20model'+'Matrix[2].'+'xyz);\x0a\x20\x20\x20\x20'+'}\x0a#else\x0a\x20\x20'+'\x20\x20fn\x20getNo'+'rmalMatrix'+'(modelMatr'+'ix:\x20mat4x4'+'f)\x20->\x20mat3'+'x3f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),XD='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_bu'+'mpiness:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20un'+'iform\x20mate'+'rial_norma'+'lDetailMap'+'Bumpiness:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20fn\x20bl'+'endNormals'+'(inN1:\x20vec'+'3f,\x20inN2:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'n1:\x20vec3f\x20'+'=\x20inN1\x20+\x20v'+'ec3f(0.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20n2:\x20vec'+'3f\x20=\x20inN2\x20'+'*\x20vec3f(-1'+'.0,\x20-1.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20n1\x20*\x20dot('+'n1,\x20n2)\x20/\x20'+'n1.z\x20-\x20n2;'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0afn\x20ge'+'tNormal()\x20'+'{\x0a#ifdef\x20S'+'TD_NORMAL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20var\x20norm'+'alMap:\x20vec'+'3f\x20=\x20{STD_'+'NORMAL_TEX'+'TURE_DECOD'+'E}(texture'+'SampleBias'+'({STD_NORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_NORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_NOR'+'MAL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias));\x0a'+'\x20\x20\x20\x20normal'+'Map\x20=\x20mix('+'vec3f(0.0,'+'\x200.0,\x201.0)'+',\x20normalMa'+'p,\x20uniform'+'.material_'+'bumpiness)'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_NO'+'RMALDETAIL'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20normalDet'+'ailMap:\x20ve'+'c3f\x20=\x20{STD'+'_NORMALDET'+'AIL_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE_NAME},'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_NAM'+'E}Sampler,'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_UV}'+(',\x20uniform.'+'textureBia'+'s));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalD'+'etailMap\x20='+'\x20mix(vec3f'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malDetailM'+'ap,\x20unifor'+'m.material'+'_normalDet'+'ailMapBump'+'iness);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20norm'+'alMap\x20=\x20bl'+'endNormals'+'(normalMap'+',\x20normalDe'+'tailMap);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20nor'+'malize(dTB'+'N\x20*\x20normal'+'Map);\x0a#els'+'e\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a'),qD='\x0auniform\x20m'+'aterial_op'+'acity:\x20f32'+';\x0a\x0afn\x20getO'+'pacity()\x20{'+'\x0a\x20\x20\x20\x20dAlph'+'a\x20=\x20unifor'+'m.material'+'_opacity;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E\x0a\x20\x20\x20\x20dAlp'+'ha\x20=\x20dAlph'+'a\x20*\x20textur'+'eSampleBia'+'s({STD_OPA'+'CITY_TEXTU'+'RE_NAME},\x20'+'{STD_OPACI'+'TY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'OPACITY_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20=\x20dA'+'lpha\x20*\x20cla'+'mp(vVertex'+'Color.{STD'+'_OPACITY_V'+'ERTEX_CHAN'+'NEL},\x200.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',jD='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20blueNo'+'iseJitter:'+'\x20vec4f;\x0a\x0a#'+'if\x20STD_OPA'+'CITY_DITHE'+'R\x20==\x20BLUEN'+'OISE\x0a\x20\x20\x20\x20v'+'ar\x20blueNoi'+'seTex32\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20blueN'+'oiseTex32S'+'ampler\x20:\x20s'+'ampler;\x0a#e'+'ndif\x0a\x0afn\x20o'+'pacityDith'+'er(alpha:\x20'+'f32,\x20id:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'#if\x20STD_OP'+'ACITY_DITH'+'ER\x20==\x20BAYE'+'R8\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20nois'+'e:\x20f32\x20=\x20b'+'ayer8(floo'+'r((pcPosit'+'ion.xy\x20+\x20u'+'niform.blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+')\x20%\x20vec2f('+'8.0)))\x20/\x206'+'4.0;\x0a\x0a\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20=='+'\x20BLUENOISE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uv\x20'+'=\x20fract(pc'+'Position.x'+'y\x20/\x2032.0\x20+'+'\x20uniform.b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20noise:\x20f3'+'2\x20=\x20textur'+'eSampleLev'+'el(blueNoi'+'seTex32,\x20b'+'lueNoiseTe'+'x32Sampler'+',\x20uv,\x200.0)'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20IGNNOI'+'SE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ba'+'sed\x20on\x20htt'+'ps://www.i'+'ryoku.com/'+'next-gener'+'ation-post'+'-processin'+'g-in-call-'+'of-duty-ad'+'vanced-war'+'fare/\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20magic\x20=\x20'+'vec3f(0.06'+'711056,\x200.'+'00583715,\x20'+'52.9829189'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'oise:\x20f32\x20'+'=\x20fract(ma'+'gic.z\x20*\x20fr'+'act(dot(pc'+'Position.x'+'y\x20+\x20unifor'+'m.blueNois'+'eJitter.xy'+'\x20+\x20id,\x20mag'+('ic.xy)));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20conve'+'rt\x20the\x20noi'+'se\x20to\x20line'+'ar\x20space,\x20'+'as\x20that\x20is'+'\x20specified'+'\x20in\x20sRGB\x20s'+'pace\x20(stor'+'es\x20percept'+'ual\x20values'+')\x0a\x20\x20\x20\x20nois'+'e\x20=\x20pow(no'+'ise,\x202.2);'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'alpha\x20<\x20no'+'ise)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),YD='\x0a',KD='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(outp'+'ut.color.r'+'gb,\x20litArg'+'s_opacity)'+';\x0a\x0a#elif\x20L'+'IT_BLEND_T'+'YPE\x20==\x20PRE'+'MULTIPLIED'+'\x0a\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(out'+'put.color.'+'rgb\x20*\x20litA'+'rgs_opacit'+'y,\x20litArgs'+'_opacity);'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(output'+'.color.rgb'+',\x201.0);\x0a\x0a#'+'endif\x0a',ZD='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0avar\x20sour'+'ce:\x20textur'+'e_2d<f32>;'+'\x0avar\x20sourc'+'eSampler:\x20'+'sampler;\x0a\x0a'+'@fragment\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'textureSam'+'ple(source'+',\x20sourceSa'+'mpler,\x20inp'+'ut.vUv0);\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'+'\x0a',QD='\x0a\x0auniform\x20'+'material_s'+'heen:\x20vec3'+'f;\x0a\x0afn\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20var\x20sh'+'eenColor\x20='+'\x20uniform.m'+'aterial_sh'+'een;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_TEX'+'TURE\x0a\x20\x20\x20\x20s'+'heenColor\x20'+'=\x20sheenCol'+'or\x20*\x20{STD_'+'SHEEN_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SHEEN'+'_TEXTURE_N'+'AME},\x20{STD'+'_SHEEN_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEEN_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as)).{STD_'+'SHEEN_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_VER'+'TEX\x0a\x20\x20\x20\x20sh'+'eenColor\x20='+'\x20sheenColo'+'r\x20*\x20satura'+'te3(vVerte'+'xColor.{ST'+'D_SHEEN_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20sSpecula'+'rity\x20=\x20she'+'enColor;\x0a}'+'\x0a',JD='\x0auniform\x20m'+'aterial_sh'+'eenGloss:\x20'+'f32;\x0a\x0afn\x20g'+'etSheenGlo'+'ssiness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'sheenGloss'+'iness\x20=\x20un'+'iform.mate'+'rial_sheen'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SHEENGL'+'OSS_TEXTUR'+'E\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_SHEEN'+'GLOSS_TEXT'+'URE_NAME},'+'\x20{STD_SHEE'+'NGLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_UV},\x20un'+'iform.text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20=\x20'+'sheenGloss'+'iness\x20*\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'GLOSS_VERT'+'EX_CHANNEL'+'});\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEENGLOS'+'S_INVERT\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20='+'\x201.0\x20-\x20she'+'enGlossine'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'+\x200.000000'+'1;\x0a}\x0a',eI='\x0auniform\x20m'+'aterial_he'+'ightMapFac'+'tor:\x20f32;\x0a'+'\x0afn\x20getPar'+'allax()\x20{\x0a'+'\x20\x20\x20\x20var\x20pa'+'rallaxScal'+'e\x20=\x20unifor'+'m.material'+'_heightMap'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20var\x20hei'+'ght:\x20f32\x20='+'\x20textureSa'+'mpleBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_HEIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_HEIGHT_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'height\x20=\x20h'+'eight\x20*\x20pa'+'rallaxScal'+'e\x20-\x20parall'+'axScale\x20*\x20'+'0.5;\x0a\x20\x20\x20\x20v'+'ar\x20viewDir'+'T:\x20vec3f\x20='+'\x20dViewDirW'+'\x20*\x20dTBN;\x0a\x0a'+'\x20\x20\x20\x20viewDi'+'rT.z\x20=\x20vie'+'wDirT.z\x20+\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',tI='\x0auniform\x20m'+'eshInstanc'+'eId:\x20u32;\x0a'+'\x0afn\x20getPic'+'kOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20let\x20i'+'nv:\x20vec4f\x20'+'=\x20vec4f(1.'+'0\x20/\x20255.0)'+';\x0a\x20\x20\x20\x20let\x20'+'shifts:\x20ve'+'c4u\x20=\x20vec4'+'u(16u,\x208u,'+'\x200u,\x2024u);'+'\x0a\x20\x20\x20\x20let\x20c'+'ol:\x20vec4u\x20'+'=\x20(vec4u(u'+'niform.mes'+'hInstanceI'+'d)\x20>>\x20shif'+'ts)\x20&\x20vec4'+'u(0xffu);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4f(col'+')\x20*\x20inv;\x0a}',sI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20dReflDi'+'rW\x20=\x20norma'+'lize(-refl'+'ect(viewDi'+'r,\x20worldNo'+'rmal));\x0a}\x0a',iI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20rou'+'ghness:\x20f3'+'2\x20=\x20sqrt(1'+'.0\x20-\x20min(g'+'loss,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20directio'+'n:\x20vec2f\x20='+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20anisotrop'+'y:\x20f32\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cDirection'+':\x20vec3f\x20=\x20'+'anisotropi'+'cB;\x0a\x20\x20\x20\x20le'+'t\x20anisotro'+'picTangent'+':\x20vec3f\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20let\x20anis'+'otropicNor'+'mal:\x20vec3f'+'\x20=\x20cross(a'+'nisotropic'+'Tangent,\x20a'+'nisotropic'+'Direction)'+';\x0a\x20\x20\x20\x20let\x20'+'bendFactor'+':\x20f32\x20=\x201.'+'0\x20-\x20anisot'+'ropy\x20*\x20(1.'+'0\x20-\x20roughn'+'ess);\x0a\x20\x20\x20\x20'+'let\x20bendFa'+'ctor4:\x20f32'+'\x20=\x20bendFac'+'tor\x20*\x20bend'+'Factor\x20*\x20b'+'endFactor\x20'+'*\x20bendFact'+'or;\x0a\x20\x20\x20\x20le'+'t\x20bentNorm'+'al:\x20vec3f\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}',rI='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0afn\x20addRe'+'flectionCC'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20ccRef'+'lection\x20=\x20'+'ccReflecti'+'on\x20+\x20calcR'+'eflection('+'reflDir,\x20g'+'loss);\x0a}\x0a#'+'endif\x0a',aI='\x0avar\x20textu'+'re_cubeMap'+':\x20texture_'+'cube<f32>;'+'\x0avar\x20textu'+'re_cubeMap'+'Sampler:\x20s'+'ampler;\x0aun'+'iform\x20mate'+'rial_refle'+'ctivity:\x20f'+'32;\x0a\x0afn\x20ca'+'lcReflecti'+'on(reflDir'+':\x20vec3f,\x20g'+'loss:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'lookupVec:'+'\x20vec3f\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r);\x0a\x20\x20\x20\x20lo'+'okupVec.x\x20'+'=\x20lookupVe'+'c.x\x20*\x20-1.0'+';\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_cubeMa'+'p,\x20texture'+'_cubeMapSa'+'mpler,\x20loo'+'kupVec));\x0a'+'}\x0a\x0afn\x20addR'+'eflection('+'reflDir:\x20v'+'ec3f,\x20glos'+'s:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20dR'+'eflection\x20'+'+\x20vec4f(ca'+'lcReflecti'+'on(reflDir'+',\x20gloss),\x20'+'uniform.ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',nI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20var\x20t'+'exture_env'+'Atlas:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'envAtlasSa'+'mpler:\x20sam'+'pler;\x0a#end'+'if\x0a\x0avar\x20te'+'xture_cube'+'Map:\x20textu'+'re_cube<f3'+'2>;\x0avar\x20te'+'xture_cube'+'MapSampler'+':\x20sampler;'+'\x0auniform\x20m'+'aterial_re'+'flectivity'+':\x20f32;\x0a\x0afn'+'\x20calcRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20dir:\x20ve'+'c3f\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20toSph'+'ericalUv(d'+'ir);\x0a\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20roughne'+'ss\x20level\x0a\x20'+'\x20\x20\x20let\x20lev'+'el:\x20f32\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20let\x20ile'+'vel:\x20f32\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20l'+'et\x20flevel:'+'\x20f32\x20=\x20lev'+'el\x20-\x20ileve'+'l;\x0a\x0a\x20\x20\x20\x20le'+'t\x20sharp:\x20v'+'ec3f\x20=\x20{re'+'flectionCu'+'bemapDecod'+'e}(texture'+'Sample(tex'+'ture_cubeM'+'ap,\x20textur'+'e_cubeMapS'+'ampler,\x20di'+'r));\x0a\x20\x20\x20\x20l'+'et\x20roughA:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+')));\x0a\x20\x20\x20\x20l'+'et\x20roughB:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(shar'+'p,\x20mix(rou'+('ghA,\x20rough'+'B,\x20flevel)'+',\x20min(leve'+'l,\x201.0)));'+'\x0a}\x0a\x0afn\x20add'+'Reflection'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20=\x20d'+'Reflection'+'\x20+\x20vec4f(c'+'alcReflect'+'ion(reflDi'+'r,\x20gloss),'+'\x20uniform.m'+'aterial_re'+'flectivity'+');\x0a}\x0a'),oI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_envA'+'tlasSample'+'r:\x20sampler'+';\x0a#endif\x0au'+'niform\x20mat'+'erial_refl'+'ectivity:\x20'+'f32;\x0a\x0a//\x20c'+'alculate\x20m'+'ip\x20level\x20f'+'or\x20shiny\x20r'+'eflection\x20'+'given\x20equi'+'rect\x20coord'+'s\x20uv.\x0afn\x20s'+'hinyMipLev'+'el(uv:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20dx:\x20vec2f'+'\x20=\x20dpdx(uv'+');\x0a\x20\x20\x20\x20let'+'\x20dy:\x20vec2f'+'\x20=\x20dpdy(uv'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20second\x20dF'+'\x20at\x20180\x20de'+'grees\x0a\x20\x20\x20\x20'+'let\x20uv2:\x20v'+'ec2f\x20=\x20vec'+'2f(fract(u'+'v.x\x20+\x200.5)'+',\x20uv.y);\x0a\x20'+'\x20\x20\x20let\x20dx2'+':\x20vec2f\x20=\x20'+'dpdx(uv2);'+'\x0a\x20\x20\x20\x20let\x20d'+'y2:\x20vec2f\x20'+'=\x20dpdy(uv2'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20min\x20of\x20bo'+'th\x20sets\x20of'+'\x20dF\x20to\x20han'+'dle\x20discon'+'tinuity\x20at'+'\x20the\x20azim\x20'+'edge\x0a\x20\x20\x20\x20l'+'et\x20maxd:\x20f'+'32\x20=\x20min(m'+'ax(dot(dx,'+'\x20dx),\x20dot('+'dy,\x20dy)),\x20'+'max(dot(dx'+'2,\x20dx2),\x20d'+'ot(dy2,\x20dy'+'2)));\x0a\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(0.5\x20*\x20'+'log2(maxd)'+'\x20-\x201.0\x20+\x20u'+'niform.tex'+'tureBias,\x20'+'0.0,\x205.0);'+'\x0a}\x0a\x0afn\x20cal'+'cReflectio'+'n(reflDir:'+'\x20vec3f,\x20gl'+'oss:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20d'+'ir:\x20vec3f\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3f(-1.0,\x20'+'1.0,\x201.0);'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20l'+'et\x20level:\x20'+'f32\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20l'+('et\x20ilevel:'+'\x20f32\x20=\x20flo'+'or(level);'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ccessing\x20t'+'he\x20shiny\x20('+'top\x20level)'+'\x20reflectio'+'n\x20-\x20perfor'+'m\x20manual\x20m'+'ipmap\x20look'+'up\x0a\x20\x20\x20\x20let'+'\x20level2:\x20f'+'32\x20=\x20shiny'+'MipLevel(u'+'v\x20*\x20atlasS'+'ize);\x0a\x20\x20\x20\x20'+'let\x20ilevel'+'2:\x20f32\x20=\x20f'+'loor(level'+'2);\x0a\x0a\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20uv1:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20weight:'+'\x20f32;\x0a\x20\x20\x20\x20'+'if\x20(ilevel'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'1\x20=\x20mapShi'+'nyUv(uv,\x20i'+'level2\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20weight\x20'+'=\x20level2\x20-'+'\x20ilevel2;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20access'+'ing\x20rough\x20'+'reflection'+'\x20-\x20just\x20sa'+'mple\x20the\x20s'+'ame\x20part\x20t'+'wice\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv0\x20=\x20m'+'apRoughnes'+'sUv(uv,\x20il'+'evel);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20linearA'+':\x20vec3f\x20=\x20'+'{reflectio'+'nDecode}(t'+'extureSamp'+'le(texture'+'_envAtlas,'+'\x20texture_e'+'nvAtlasSam'+'pler,\x20uv0)'+');\x0a\x20\x20\x20\x20let'+'\x20linearB:\x20'+'vec3f\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'tureSample'+'(texture_e'+'nvAtlas,\x20t'+'exture_env'+'AtlasSampl'+'er,\x20uv1));'+'\x0a\x20\x20\x20\x20let\x20l'+'inear0:\x20ve'+'c3f\x20=\x20mix('+'linearA,\x20l'+'inearB,\x20we'+'ight);\x0a\x20\x20\x20'+'\x20let\x20linea'+'r1:\x20vec3f\x20'+'=\x20{reflect'+'ionDecode}'+'(textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r')+('eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0afn'+'\x20addReflec'+'tion(reflD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20=\x20dReflec'+'tion\x20+\x20vec'+'4f(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20unifo'+'rm.materia'+'l_reflecti'+'vity);\x0a}\x0a'),lI='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a#en'+'dif\x0a\x0avar\x20t'+'exture_sph'+'ereMap:\x20te'+'xture_2d<f'+'32>;\x0avar\x20t'+'exture_sph'+'ereMapSamp'+'ler:\x20sampl'+'er;\x0aunifor'+'m\x20material'+'_reflectiv'+'ity:\x20f32;\x0a'+'\x0afn\x20calcRe'+'flection(r'+'eflDir:\x20ve'+'c3f,\x20gloss'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20view'+'RotationMa'+'trix\x20=\x20mat'+'3x3f(unifo'+'rm.matrix_'+'view[0].xy'+'z,\x20uniform'+'.matrix_vi'+'ew[1].xyz,'+'\x20uniform.m'+'atrix_view'+'[2].xyz);\x0a'+'\x20\x20\x20\x20let\x20re'+'flDirV:\x20ve'+'c3f\x20=\x20view'+'RotationMa'+'trix\x20*\x20ref'+'lDir;\x0a\x0a\x20\x20\x20'+'\x20let\x20m:\x20f3'+'2\x20=\x202.0\x20*\x20'+'sqrt(dot(r'+'eflDirV.xy'+',\x20reflDirV'+'.xy)\x20+\x20(re'+'flDirV.z\x20+'+'\x201.0)\x20*\x20(r'+'eflDirV.z\x20'+'+\x201.0));\x0a\x20'+'\x20\x20\x20let\x20sph'+'ereMapUv:\x20'+'vec2f\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_sphere'+'Map,\x20textu'+'re_sphereM'+'apSampler,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0af'+'n\x20addRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20dRefle'+'ction\x20+\x20ve'+'c4f(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20unif'+'orm.materi'+'al_reflect'+'ivity);\x0a}\x0a',cI='\x0a\x0afn\x20addRe'+'flectionSh'+'een(worldN'+'ormal:\x20vec'+'3f,\x20viewDi'+'r:\x20vec3f,\x20'+'gloss:\x20f32'+')\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20dot(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20let\x20al'+'phaG:\x20f32\x20'+'=\x20gloss\x20*\x20'+'gloss;\x0a\x0a\x20\x20'+'\x20\x20//\x20Avoid'+'\x20using\x20a\x20L'+'UT\x20and\x20app'+'roximate\x20t'+'he\x20values\x20'+'analytical'+'ly\x0a\x20\x20\x20\x20let'+'\x20a:\x20f32\x20=\x20'+'select(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20-339.2\x20*'+'\x20alphaG\x20+\x20'+'161.4\x20*\x20gl'+'oss\x20-\x2025.9'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gloss\x20<\x200.'+'25\x0a\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20let\x20b:'+'\x20f32\x20=\x20sel'+'ect(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.97\x20*\x20'+'alphaG\x20-\x203'+'.27\x20*\x20glos'+'s\x20+\x200.72,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x2044'+'.0\x20*\x20alpha'+'G\x20-\x2023.7\x20*'+'\x20gloss\x20+\x203'+'.26,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss\x20<'+'\x200.25\x0a\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20let'+'\x20dg_add:\x20f'+'32\x20=\x20selec'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.1\x20*\x20(\x20g'+'loss\x20-\x200.2'+'5\x20),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x200.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s\x20<\x200.25\x0a\x20'+'\x20\x20\x20);\x0a\x20\x20\x20\x20'+'let\x20dg:\x20f3'+'2\x20=\x20exp(\x20a'+'\x20*\x20NoV\x20+\x20b'+'\x20)\x20+\x20dg_ad'+'d;\x0a\x20\x20\x20\x20sRe'+'flection\x20='+'\x20sReflecti'+'on\x20+\x20(calc'+'Reflection'+'(worldNorm'+'al,\x200.0)\x20*'+'\x20saturate('+'dg));\x0a}',hI='\x0afn\x20refrac'+'t2(viewVec'+':\x20vec3f,\x20n'+'ormal:\x20vec'+'3f,\x20IOR:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20vn:\x20f32'+'\x20=\x20dot(vie'+'wVec,\x20norm'+'al);\x0a\x20\x20\x20\x20l'+'et\x20k:\x20f32\x20'+'=\x201.0\x20-\x20IO'+'R\x20*\x20IOR\x20*\x20'+'(1.0\x20-\x20vn\x20'+'*\x20vn);\x0a\x20\x20\x20'+'\x20let\x20refrV'+'ec:\x20vec3f\x20'+'=\x20IOR\x20*\x20vi'+'ewVec\x20-\x20(I'+'OR\x20*\x20vn\x20+\x20'+'sqrt(k))\x20*'+'\x20normal;\x0a\x20'+'\x20\x20\x20return\x20'+'refrVec;\x0a}'+'\x0a\x0afn\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20vi'+'ewDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20th'+'ickness:\x20f'+'32,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20al'+'bedo:\x20vec3'+'f,\x0a\x20\x20\x20\x20tra'+'nsmission:'+'\x20f32,\x0a\x20\x20\x20\x20'+'refraction'+'Index:\x20f32'+',\x0a\x20\x20\x20\x20disp'+'ersion:\x20f3'+'2\x0a#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20,\x20iri'+'descenceFr'+'esnel:\x20vec'+'3f,\x0a\x20\x20\x20\x20ir'+'idescenceI'+'ntensity:\x20'+'f32\x0a#endif'+'\x0a)\x20{\x0a\x20\x20\x20\x20/'+'/\x20use\x20same'+'\x20reflectio'+'n\x20code\x20wit'+'h\x20refracti'+'on\x20vector\x0a'+'\x20\x20\x20\x20let\x20tm'+'pRefl:\x20vec'+'4f\x20=\x20dRefl'+'ection;\x0a\x20\x20'+'\x20\x20let\x20refl'+'ectionDir:'+'\x20vec3f\x20=\x20r'+'efract2(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndex);\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(0.0);\x0a\x20'+'\x20\x20\x20addRefl'+'ection(ref'+'lectionDir'+',\x20gloss);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'mix(dDiffu'+'seLight,\x20d'+'Reflection'+'.rgb\x20*\x20alb'+'edo,\x20trans'+'mission);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20tm'+'pRefl;\x0a}\x0a',dI='\x0auniform\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+':\x20f32;\x0auni'+'form\x20mater'+'ial_attenu'+'ation:\x20vec'+'3f;\x0a\x0afn\x20ev'+'alRefracti'+'onColor(re'+'fractionVe'+'ctor:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20refra'+'ctionIndex'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20The\x20'+'refraction'+'\x20point\x20is\x20'+'the\x20entry\x20'+'point\x20+\x20ve'+'ctor\x20to\x20ex'+'it\x20point\x0a\x20'+'\x20\x20\x20let\x20poi'+'ntOfRefrac'+'tion:\x20vec4'+'f\x20=\x20vec4f('+'vPositionW'+'\x20+\x20refract'+'ionVector,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20//\x20Proje'+'ct\x20to\x20text'+'ure\x20space\x20'+'so\x20we\x20can\x20'+'sample\x20it\x0a'+'\x20\x20\x20\x20let\x20pr'+'ojectionPo'+'int:\x20vec4f'+'\x20=\x20uniform'+'.matrix_vi'+'ewProjecti'+'on\x20*\x20point'+'OfRefracti'+'on;\x0a\x0a\x20\x20\x20\x20/'+'/\x20use\x20buil'+'t-in\x20getGr'+'abScreenPo'+'s\x20function'+'\x20to\x20conver'+'t\x20screen\x20p'+'osition\x20to'+'\x20grab\x20text'+'ure\x20uv\x20coo'+'rds\x0a\x20\x20\x20\x20le'+'t\x20uv:\x20vec2'+'f\x20=\x20getGra'+'bScreenPos'+'(projectio'+'nPoint);\x0a\x0a'+'\x20\x20\x20\x20//\x20Use'+'\x20IOR\x20and\x20r'+'oughness\x20t'+'o\x20select\x20m'+'ip\x0a\x20\x20\x20\x20let'+'\x20iorToRoug'+'hness:\x20f32'+'\x20=\x20(1.0\x20-\x20'+'gloss)\x20*\x20c'+'lamp((1.0\x20'+'/\x20refracti'+'onIndex)\x20*'+'\x202.0\x20-\x202.0'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20let'+'\x20refractio'+'nLod:\x20f32\x20'+'=\x20log2(uni'+'form.uScre'+'enSize.x)\x20'+'*\x20iorToRou'+'ghness;\x0a\x20\x20'+'\x20\x20let\x20refr'+'action:\x20ve'+'c3f\x20=\x20text'+'ureSampleL'+'evel(uScen'+'eColorMap,'+'\x20uSceneCol'+'orMapSampl'+'er,\x20uv,\x20re'+'fractionLo'+'d).rgb;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'refraction'+';\x0a}\x0a\x0afn\x20ad'+'dRefractio'+'n(\x0a\x20\x20\x20\x20wor'+('ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20thickness'+':\x20f32,\x0a\x20\x20\x20'+'\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20albedo:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'transmissi'+'on:\x20f32,\x0a\x20'+'\x20\x20\x20refract'+'ionIndex:\x20'+'f32,\x0a\x20\x20\x20\x20d'+'ispersion:'+'\x20f32,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'iridescenc'+'eIntensity'+':\x20f32\x0a#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20Extra'+'ct\x20scale\x20f'+'rom\x20the\x20mo'+'del\x20transf'+'orm\x0a\x20\x20\x20\x20va'+'r\x20modelSca'+'le:\x20vec3f;'+'\x0a\x20\x20\x20\x20model'+'Scale.x\x20=\x20'+'length(uni'+'form.matri'+'x_model[0]'+'.xyz);\x0a\x20\x20\x20'+'\x20modelScal'+'e.y\x20=\x20leng'+'th(uniform'+'.matrix_mo'+'del[1].xyz'+');\x0a\x20\x20\x20\x20mod'+'elScale.z\x20'+'=\x20length(u'+'niform.mat'+'rix_model['+'2].xyz);\x0a\x0a'+'\x20\x20\x20\x20//\x20Cal'+'culate\x20the'+'\x20refractio'+'n\x20vector,\x20'+'scaled\x20by\x20'+'the\x20thickn'+'ess\x20and\x20sc'+'ale\x20of\x20the'+'\x20object\x0a\x20\x20'+'\x20\x20let\x20scal'+'e:\x20vec3f\x20='+'\x20thickness'+'\x20*\x20modelSc'+'ale;\x0a\x20\x20\x20\x20v'+'ar\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndex))'+'\x20*\x20scale;\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'x);\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20the\x20dispe'+'rsion\x20mate'+'rial\x20prope'+'rty,\x20calcu'+'late\x20modif'+'ied\x20refrac'+'tion\x20index'+'\x20values\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20f'+'or\x20R\x20and\x20B'+'\x20channels\x20')+('and\x20evalua'+'te\x20the\x20ref'+'raction\x20co'+'lor\x20for\x20th'+'em.\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Spread:\x20f3'+'2\x20=\x20(1.0\x20/'+'\x20refractio'+'nIndex\x20-\x201'+'.0)\x20*\x200.02'+'5\x20*\x20disper'+'sion;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20r'+'efractionI'+'ndexR:\x20f32'+'\x20=\x20refract'+'ionIndex\x20-'+'\x20halfSprea'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'nVector\x20=\x20'+'normalize('+'refract(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndexR))\x20'+'*\x20scale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ref'+'raction.r\x20'+'=\x20evalRefr'+'actionColo'+'r(refracti'+'onVector,\x20'+'gloss,\x20ref'+'ractionInd'+'exR).r;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20refractio'+'nIndexB:\x20f'+'32\x20=\x20refra'+'ctionIndex'+'\x20+\x20halfSpr'+'ead;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndexB)'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efraction.'+'b\x20=\x20evalRe'+'fractionCo'+'lor(refrac'+'tionVector'+',\x20gloss,\x20r'+'efractionI'+'ndexB).b;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20T'+'ransmittan'+'ce\x20is\x20our\x20'+'final\x20refr'+'action\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20transmitt'+'ance:\x20vec3'+'f;\x0a\x20\x20\x20\x20if\x20'+'(uniform.m'+'aterial_in'+'vAttenuati'+'onDistance'+'\x20!=\x200.0)\x0a\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20att'+'enuation:\x20'+'vec3f\x20=\x20-l'+'og(uniform'+'.material_'+'attenuatio'+'n)\x20*\x20unifo'+'rm.materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans')+('mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20let\x20'+'fresnel:\x20v'+'ec3f\x20=\x20vec'+'3f(1.0)\x20-\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20world'+'Normal),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scenceInte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20mix(dDif'+'fuseLight,'+'\x20refractio'+'n\x20*\x20transm'+'ittance\x20*\x20'+'fresnel,\x20t'+'ransmissio'+'n);\x0a}\x0a'),fI='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0a#ifdef'+'\x20CUBEMAP_S'+'OURCE\x0a\x20\x20\x20\x20'+'var\x20source'+'Cube:\x20text'+'ure_cube<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20sourceC'+'ubeSampler'+'\x20:\x20sampler'+';\x0a#else\x0a\x20\x20'+'\x20\x20var\x20sour'+'ceTex:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sourceTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20//\x20sa'+'mples\x0a\x20\x20\x20\x20'+'var\x20sample'+'sTex:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20samplesTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplesT'+'exInverseS'+'ize:\x20vec2f'+';\x0a#endif\x0a\x0a'+'//\x20params:'+'\x0a//\x20x\x20-\x20ta'+'rget\x20cubem'+'ap\x20face\x200.'+'.6\x0a//\x20y\x20-\x20'+'target\x20ima'+'ge\x20total\x20p'+'ixels\x0a//\x20z'+'\x20-\x20source\x20'+'cubemap\x20si'+'ze\x0auniform'+'\x20params:\x20v'+'ec3f;\x0a\x0afn\x20'+'targetFace'+'()\x20->\x20f32\x20'+'{\x20return\x20u'+'niform.par'+'ams.x;\x20}\x0af'+'n\x20targetTo'+'talPixels('+')\x20->\x20f32\x20{'+'\x20return\x20un'+'iform.para'+'ms.y;\x20}\x0afn'+'\x20sourceTot'+'alPixels()'+'\x20->\x20f32\x20{\x20'+'return\x20uni'+'form.param'+'s.z;\x20}\x0a\x0aco'+'nst\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22enc'+'odePS\x22\x0a\x0a//'+'--\x20support'+'ed\x20project'+'ions\x0a\x0afn\x20m'+'odifySeams'+'(dir:\x20vec3'+'f,\x20scale:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20adir\x20='+'\x20abs(dir);'+'\x0a\x20\x20\x20\x20let\x20M'+'\x20=\x20max(max'+'(adir.x,\x20a'+'dir.y),\x20ad'+'ir.z);\x0a\x20\x20\x20'+'\x20return\x20di'+'r\x20/\x20M\x20*\x20ve'+'c3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20select('+('scale,\x201.0'+',\x20adir.x\x20='+'=\x20M),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20select'+'(scale,\x201.'+'0,\x20adir.y\x20'+'==\x20M),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20selec'+'t(scale,\x201'+'.0,\x20adir.z'+'\x20==\x20M)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0afn\x20'+'toSpherica'+'l(dir:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20l'+'et\x20nonZero'+'XZ\x20=\x20any(d'+'ir.xz\x20!=\x20v'+'ec2f(0.0,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2f(select'+'(0.0,\x20atan'+'2(dir.x,\x20d'+'ir.z),\x20non'+'ZeroXZ),\x20a'+'sin(dir.y)'+');\x0a}\x0a\x0afn\x20f'+'romSpheric'+'al(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20vec3'+'f(cos(uv.y'+')\x20*\x20sin(uv'+'.x),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sin(uv.y)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'s(uv.y)\x20*\x20'+'cos(uv.x))'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Equirect(u'+'v:\x20vec2f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20fromSphe'+'rical((vec'+'2f(uv.x,\x201'+'.0\x20-\x20uv.y)'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20vec2'+'f(PI,\x20PI\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20octahe'+'dral\x20code,'+'\x20based\x20on\x20'+'https://jc'+'gt.org/pub'+'lished/000'+'3/02/01/\x0a/'+'/\x20\x22Survey\x20'+'of\x20Efficie'+'nt\x20Represe'+'ntations\x20f'+'or\x20Indepen'+'dent\x20Unit\x20'+'Vectors\x22\x20b'+'y\x20Cigolle,'+'\x20Donow,\x20Ev'+'angelakos,'+'\x20Mara,\x20McG'+'uire,\x20Meye'+'r\x0a\x0afn\x20sign'+'NotZero(k:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20sele'+'ct(-1.0,\x201'+'.0,\x20k\x20>=\x200'+'.0);\x0a}\x0a\x0afn'+'\x20signNotZe'+'roVec2(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2f(signN'+'otZero(v.x'+'),\x20signNot'+'Zero(v.y))'+';\x0a}\x0a\x0a//\x20Re'+'turns\x20a\x20un'+'it\x20vector.'+'\x20Argument\x20'+'o\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20pack')+('ed\x20via\x20oct'+'Encode,\x20on'+'\x20the\x20[-1,\x20'+'+1]\x20square'+'\x0afn\x20octDec'+'ode(o:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20v\x20=\x20vec'+'3f(o.x,\x201.'+'0\x20-\x20abs(o.'+'x)\x20-\x20abs(o'+'.y),\x20o.y);'+'\x0a\x20\x20\x20\x20if\x20(v'+'.y\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20temp:\x20'+'vec2f\x20=\x20(1'+'.0\x20-\x20abs(v'+'.zx))\x20*\x20si'+'gnNotZeroV'+'ec2(v.xz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'\x20=\x20vec3f(t'+'emp.x,\x20v.y'+',\x20temp.y);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Octahedral'+'(uv:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20octDec'+'ode(vec2f('+'uv.x,\x201.0\x20'+'-\x20uv.y)\x20*\x20'+'2.0\x20-\x201.0)'+';\x0a}\x0a\x0a//\x20As'+'sumes\x20that'+'\x20v\x20is\x20a\x20un'+'it\x20vector.'+'\x20The\x20resul'+'t\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20on\x20t'+'he\x20[-1,\x20+1'+']\x20square\x0af'+'n\x20octEncod'+'e(v:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20var\x20'+'result\x20=\x20v'+'.xz\x20*\x20(1.0'+'\x20/\x20l1norm)'+';\x0a\x20\x20\x20\x20if\x20('+'v.y\x20<\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'(1.0\x20-\x20abs'+'(result.yx'+'))\x20*\x20signN'+'otZeroVec2'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20fn'+'\x20sampleCub'+'emapDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'sourceCube'+',\x20sourceCu'+'beSampler,'+'\x20modifySea'+'ms(dir,\x201.'+'0));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleCubem'+'apSph(sph:')+('\x20vec2f)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20sample'+'CubemapDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leCubemapD'+'irLod(dir:'+'\x20vec3f,\x20mi'+'pLevel:\x20f3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leLevel(so'+'urceCube,\x20'+'sourceCube'+'Sampler,\x20m'+'odifySeams'+'(dir,\x201.0)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleCubemap'+'SphLod(sph'+':\x20vec2f,\x20m'+'ipLevel:\x20f'+'32)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'sampleCube'+'mapDirLod('+'fromSpheri'+'cal(sph),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a#el'+'se\x0a\x0a\x20\x20\x20\x20fn'+'\x20sampleEqu'+'irectSph(s'+'ph:\x20vec2f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv\x20=\x20s'+'ph\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'(sourceTex'+',\x20sourceTe'+'xSampler,\x20'+'vec2f(uv.x'+',\x201.0\x20-\x20uv'+'.y));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20fn\x20'+'sampleEqui'+'rectDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'Sph(toSphe'+'rical(dir)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleEquirec'+'tSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20uv'+'\x20=\x20sph\x20/\x20v'+'ec2f(PI\x20*\x20'+'2.0,\x20PI)\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleLevel('+'sourceTex,'+'\x20sourceTex'+'Sampler,\x20v'+'ec2f(uv.x,'+'\x201.0\x20-\x20uv.'+'y),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleEquir'+'ectDirLod('+'dir:\x20vec3f'+',\x20mipLevel'+':\x20f32)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleE')+('quirectSph'+'Lod(toSphe'+'rical(dir)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleOctahed'+'ralDir(dir'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20=\x20oct'+'Encode(dir'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'textureSam'+'ple(source'+'Tex,\x20sourc'+'eTexSample'+'r,\x20vec2f(u'+'v.x,\x201.0\x20-'+'\x20uv.y));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20sampleO'+'ctahedralS'+'ph(sph:\x20ve'+'c2f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leOctahedr'+'alDirLod(d'+'ir:\x20vec3f,'+'\x20mipLevel:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'Level(sour'+'ceTex,\x20sou'+'rceTexSamp'+'ler,\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20sampl'+'eOctahedra'+'lSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'Lod(fromSp'+'herical(sp'+'h),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a\x0a'+'fn\x20getDire'+'ctionCubem'+'ap(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20st\x20=\x20uv'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20le'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20vec:\x20vec'+'3f;\x0a\x20\x20\x20\x20if'+'\x20(face\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(1,\x20'+'-st.y,\x20-st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3f(-1,\x20-'+'st.y,\x20st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x202.0)')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3f(st.x,\x201'+',\x20st.y);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(face\x20='+'=\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'\x20=\x20vec3f(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(st.'+'x,\x20-st.y,\x20'+'1);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(-st'+'.x,\x20-st.y,'+'\x20-1);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20normal'+'ize(modify'+'Seams(vec,'+'\x201.0));\x0a}\x0a'+'\x0afn\x20matrix'+'FromVector'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20-n.'+'x\x20*\x20n.y\x20*\x20'+'a;\x0a\x20\x20\x20\x20let'+'\x20b1\x20=\x20vec3'+'f(1.0\x20-\x20n.'+'x\x20*\x20n.x\x20*\x20'+'a,\x20b,\x20-n.x'+');\x0a\x20\x20\x20\x20let'+'\x20b2\x20=\x20vec3'+'f(b,\x201.0\x20-'+'\x20n.y\x20*\x20n.y'+'\x20*\x20a,\x20-n.y'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mat3x3'+'f(b1,\x20b2,\x20'+'n);\x0a}\x0a\x0afn\x20'+'matrixFrom'+'VectorSlow'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20up\x20=\x20sel'+'ect(vec3f('+'0.0,\x200.0,\x20'+'select(-1.'+'0,\x201.0,\x20n.'+'y\x20>\x200.0)),'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'),\x20abs(n.y'+')\x20>\x200.0000'+'001);\x0a\x20\x20\x20\x20'+'let\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20let'+'\x20y\x20=\x20cross'+'(n,\x20x);\x0a\x20\x20'+'\x20\x20return\x20m'+'at3x3f(x,\x20'+'y,\x20n);\x0a}\x0a\x0a'+'fn\x20reproje'+'ct(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20i'+'f\x20({NUM_SA'+'MPLES}\x20<=\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20sing'+'le\x20sample\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}({'+'DECODE_FUN'+'C}({SOURCE'+'_FUNC}Dir('+'{TARGET_FU'+'NC}(uv))))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mult'+'i\x20sample\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20t\x20=\x20{TARG')+('ET_FUNC}(u'+'v);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20tu\x20='+'\x20dpdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20tv\x20=\x20dpd'+'y(t);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'u\x20+=\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20for\x20(v'+'ar\x20v\x20=\x200.0'+';\x20v\x20<\x20{NUM'+'_SAMPLES_S'+'QRT};\x20v\x20+='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}Dir(norma'+'lize(t\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'u\x20*\x20(u\x20/\x20{'+'NUM_SAMPLE'+'S_SQRT}\x20-\x20'+'0.5)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tv\x20'+'*\x20(v\x20/\x20{NU'+'M_SAMPLES_'+'SQRT}\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20{ENC'+'ODE_FUNC}('+'result\x20/\x20('+'{NUM_SAMPL'+'ES_SQRT}\x20*'+'\x20{NUM_SAMP'+'LES_SQRT})'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0aconst\x20un'+'packFloat:'+'\x20vec4f\x20=\x20v'+'ec4f(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20fn\x20un'+'packSample'+'(i:\x20i32,\x20L'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20mipLev'+'el:\x20ptr<fu'+'nction,\x20f3'+'2>)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20u\x20'+'=\x20(f32(i\x20*'+'\x204)\x20+\x200.5)'+'\x20*\x20uniform'+'.samplesTe'+'xInverseSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20v\x20'+'=\x20(floor(u'+')\x20+\x200.5)\x20*'+'\x20uniform.s'+'amplesTexI'+'nverseSize'+'.y;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20raw'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.x\x20=\x20dot(t'+'extureSamp')+('le(samples'+'Tex,\x20sampl'+'esTexSampl'+'er,\x20vec2f('+'u,\x20v)),\x20un'+'packFloat)'+';\x20u\x20+=\x20uni'+'form.sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'textureSam'+'ple(sample'+'sTex,\x20samp'+'lesTexSamp'+'ler,\x20vec2f'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20un'+'iform.samp'+'lesTexInve'+'rseSize.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.z\x20=\x20dot'+'(textureSa'+'mple(sampl'+'esTex,\x20sam'+'plesTexSam'+'pler,\x20vec2'+'f(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20u'+'niform.sam'+'plesTexInv'+'erseSize.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'raw.w\x20=\x20do'+'t(textureS'+'ample(samp'+'lesTex,\x20sa'+'mplesTexSa'+'mpler,\x20vec'+'2f(u,\x20v)),'+'\x20unpackFlo'+'at);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20*L\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*m'+'ipLevel\x20=\x20'+'raw.w\x20*\x208.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20con'+'volve\x20an\x20e'+'nvironment'+'\x20given\x20pre'+'-generated'+'\x20samples\x0a\x20'+'\x20\x20\x20fn\x20pref'+'ilterSampl'+'es(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'truct\x20vect'+'or\x20space\x20g'+'iven\x20targe'+'t\x20directio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vecSpa'+'ce\x20=\x20matri'+'xFromVecto'+'rSlow({TAR'+'GET_FUNC}('+'uv));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20L'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20mipLevel:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(var\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20i\x20+=\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unpa'+'ckSample(i'+',\x20&L,\x20&mip'+'Level);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'result\x20+=\x20'+'{DECODE_FU')+('NC}({SOURC'+'E_FUNC}Dir'+'Lod(vecSpa'+'ce\x20*\x20L,\x20mi'+'pLevel))\x20*'+'\x20L.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20to'+'talWeight\x20'+'+=\x20L.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20{ENCOD'+'E_FUNC}(re'+'sult\x20/\x20tot'+'alWeight);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20unwei'+'ghted\x20vers'+'ion\x20of\x20pre'+'filterSamp'+'les\x0a\x20\x20\x20\x20fn'+'\x20prefilter'+'SamplesUnw'+'eighted(uv'+':\x20vec2f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20construct'+'\x20vector\x20sp'+'ace\x20given\x20'+'target\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20v'+'ecSpace\x20=\x20'+'matrixFrom'+'VectorSlow'+'({TARGET_F'+'UNC}(uv));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20L:\x20vec'+'3f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20mipL'+'evel:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20result'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(va'+'r\x20i\x20=\x200;\x20i'+'\x20<\x20{NUM_SA'+'MPLES};\x20i\x20'+'+=\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'unpackSamp'+'le(i,\x20&L,\x20'+'&mipLevel)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}DirLod(ve'+'cSpace\x20*\x20L'+',\x20mipLevel'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'{ENCODE_FU'+'NC}(result'+'\x20/\x20f32({NU'+'M_SAMPLES}'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20{P'+'ROCESS_FUN'+'C}(input.v'+'Uv0);\x0a\x20\x20\x20\x20'+'return\x20out'+'put;\x0a}\x0a'),uI='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0aunifo'+'rm\x20uvMod:\x20'+'vec4f;\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0a\x0a@'+'vertex\x0afn\x20'+'vertexMain'+'(input:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20var\x20outpu'+'t:\x20VertexO'+'utput;\x0a\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(input.v'+'ertex_posi'+'tion,\x200.5,'+'\x201.0);\x0a\x20\x20o'+'utput.vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(input.ver'+'tex_positi'+'on\x20*\x200.5\x20+'+'\x20vec2f(0.5'+',\x200.5))\x20*\x20'+'uniform.uv'+'Mod.xy\x20+\x20u'+'niform.uvM'+'od.zw);\x0a\x20\x20'+'return\x20out'+'put;\x0a}\x0a',pI='\x0a\x0avar\x20uSce'+'neDepthMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20uSceneD'+'epthMapSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifn'+'def\x20SCREEN'+'SIZE\x0a\x20\x20\x20\x20#'+'define\x20SCR'+'EENSIZE\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20#define\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20unifor'+'m\x20matrix_v'+'iew:\x20mat4x'+'4f;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20CAM'+'ERAPLANES\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20CAME'+'RAPLANES\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20camer'+'a_params:\x20'+'vec4f;\x20//\x20'+'x:\x201\x20/\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20\x20y:\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20z:\x20came'+'ra_near,\x20\x20'+'\x20\x20\x20\x20\x20\x20w:\x20i'+'s_ortho\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20fn\x20lin'+'earizeDept'+'h(z:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uniform.c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x20//\x20Pe'+'rspective\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20('+'uniform.ca'+'mera_param'+'s.z\x20*\x20unif'+'orm.camera'+'_params.y)'+'\x20/\x20(unifor'+'m.camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.z\x20-'+'\x20uniform.c'+'amera_para'+'ms.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20unifor'+'m.camera_p'+'arams.z\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'+'\x0afn\x20deline'+'arizeDepth'+'(linearDep'+'th:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.camera'+'_params.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(unif'+'orm.camera'+('_params.y\x20'+'*\x20(uniform'+'.camera_pa'+'rams.z\x20-\x20l'+'inearDepth'+'))\x20/\x20(line'+'arDepth\x20*\x20'+'(uniform.c'+'amera_para'+'ms.z\x20-\x20uni'+'form.camer'+'a_params.y'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(linearD'+'epth\x20-\x20uni'+'form.camer'+'a_params.z'+')\x20/\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20by'+'\x20UV\x0afn\x20get'+'LinearScre'+'enDepth(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_LINEAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SCEN'+'E_DEPTHMAP'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'uSceneDept'+'hMap,\x20uSce'+'neDepthMap'+'Sampler,\x20u'+'v).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20tex'+'tureSize\x20='+'\x20textureDi'+'mensions(u'+'SceneDepth'+'Map,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20texel'+':\x20vec2i\x20=\x20'+'vec2i(uv\x20*'+'\x20vec2f(tex'+'tureSize))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta:\x20vec4f\x20'+'=\x20textureL'+'oad(uScene'+'DepthMap,\x20'+'texel,\x200);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta_u32:\x20ve'+'c4u\x20=\x20vec4'+'u(data\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20intBits'+':\x20u32\x20=\x20(d'+'ata_u32.r\x20'+'<<\x2024u)\x20|\x20'+'(data_u32.'+'g\x20<<\x2016u)\x20'+'|\x20(data_u3'+'2.b\x20<<\x208u)'+'\x20|\x20data_u3'+'2.a;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20bitca'+'st<f32>(in'+'tBits);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pth(textur'+'eSample(uS'+'ceneDepthM')+('ap,\x20uScene'+'DepthMapSa'+'mpler,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20fn\x20get'+'LinearScre'+'enDepthFra'+'g()\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20pcP'+'osition.xy'+'\x20*\x20uniform'+'.uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afn\x20get'+'LinearDept'+'h(pos:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(unif'+'orm.matrix'+'_view\x20*\x20ve'+'c4f(pos,\x201'+'.0)).z;\x0a}\x0a'),mI='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x0afn'+'\x20getShadow'+'CascadeInd'+'ex(shadowC'+'ascadeDist'+'ances:\x20vec'+'4f,\x20shadow'+'CascadeCou'+'nt:\x20i32)\x20-'+'>\x20i32\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20dept'+'h\x20in\x200\x20..\x20'+'far\x20plane\x20'+'range\x0a\x20\x20\x20\x20'+'let\x20depth:'+'\x20f32\x20=\x201.0'+'\x20/\x20pcPosit'+'ion.w;\x0a\x0a\x20\x20'+'\x20\x20//\x201.0\x20i'+'f\x20depth\x20>='+'\x20distance,'+'\x200.0\x20other'+'wise\x0a\x20\x20\x20\x20l'+'et\x20compari'+'sons:\x20vec4'+'f\x20=\x20step(s'+'hadowCasca'+'deDistance'+'s,\x20vec4f(d'+'epth));\x0a\x0a\x20'+'\x20\x20\x20//\x20sum\x20'+'is\x20the\x20ind'+'ex\x0a\x20\x20\x20\x20let'+'\x20cascadeIn'+'dex:\x20i32\x20='+'\x20i32(dot(c'+'omparisons'+',\x20vec4f(1.'+'0)));\x0a\x0a\x20\x20\x20'+'\x20//\x20limit\x20'+'to\x20actual\x20'+'number\x20of\x20'+'used\x20casca'+'des\x0a\x20\x20\x20\x20re'+'turn\x20min(c'+'ascadeInde'+'x,\x20shadowC'+'ascadeCoun'+'t\x20-\x201);\x0a}\x0a'+'\x0a//\x20functi'+'on\x20which\x20m'+'odifies\x20ca'+'scade\x20inde'+'x\x20to\x20dithe'+'r\x20between\x20'+'cascades\x0af'+'n\x20ditherSh'+'adowCascad'+'eIndex(cas'+'cadeIndex_'+'in:\x20i32,\x20s'+'hadowCasca'+'deDistance'+'s:\x20vec4f,\x20'+'shadowCasc'+'adeCount:\x20'+'i32,\x20blend'+'Factor:\x20f3'+'2)\x20->\x20i32\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Use\x20var\x20as'+'\x20cascadeIn'+'dex\x20might\x20'+'be\x20modifie'+'d\x0a\x20\x20\x20\x20var\x20'+'cascadeInd'+'ex:\x20i32\x20=\x20'+'cascadeInd'+'ex_in;\x0a\x20\x20\x20'+'\x20if\x20(casca'+'deIndex\x20<\x20'+'shadowCasc'+'adeCount\x20-'+'\x201)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20cu'+'rrentRange'+'End:\x20f32\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+('\x20transitio'+'nStart:\x20f3'+'2\x20=\x20blendF'+'actor\x20*\x20cu'+'rrentRange'+'End;\x20//\x20St'+'art\x20overla'+'p\x20factor\x20a'+'way\x20from\x20t'+'he\x20end\x20dis'+'tance\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(depth\x20'+'>\x20transiti'+'onStart)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20a\x20tr'+'ansition\x20f'+'actor\x20(0.0'+'\x20to\x201.0)\x20w'+'ithin\x20the\x20'+'overlap\x20ra'+'nge\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'transition'+'Factor:\x20f3'+'2\x20=\x20smooth'+'step(trans'+'itionStart'+',\x20currentR'+'angeEnd,\x20d'+'epth);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Add\x20pse'+'udo-random'+'\x20dithering'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20TODO'+':\x20replace\x20'+'by\x20user\x20se'+'lectable\x20d'+'ithering\x20m'+'ethod\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20dither:\x20'+'f32\x20=\x20frac'+'t(sin(dot('+'pcPosition'+'.xy,\x20vec2f'+'(12.9898,\x20'+'78.233)))\x20'+'*\x2043758.54'+'53);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dither\x20<\x20'+'transition'+'Factor)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20casc'+'adeIndex\x20='+'\x20cascadeIn'+'dex\x20+\x201;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20cascadeIn'+'dex;\x0a}\x0a\x0afn'+'\x20fadeShado'+'w(shadowCo'+'ord_in:\x20ve'+'c3f,\x20shado'+'wCascadeDi'+'stances:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20//\x20if\x20the'+'\x20pixel\x20is\x20'+'past\x20the\x20s'+'hadow\x20dist'+'ance,\x20remo'+'ve\x20shadow\x0a'+'\x20\x20\x20\x20//\x20thi'+'s\x20enforces'+'\x20straight\x20'+'line\x20inste'+'ad\x20of\x20corn'+'er\x20of\x20shad'+'ow\x20which\x20m'+'oves\x20when\x20'+'camera\x20rot'+'ates\x0a\x20\x20\x20\x20v'+'ar\x20shadowC'+'oord:\x20vec3'+'f\x20=\x20shadow')+('Coord_in;\x0a'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x20\x20\x20\x20if\x20(d'+'epth\x20>\x20sha'+'dowCascade'+'Distances.'+'w)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20shadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'hadowCoord'+';\x0a}\x0a'),_I='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afn\x20linste'+'p(a:\x20f32,\x20'+'b:\x20f32,\x20v:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20/'+'/\x20WGSL\x20sat'+'urate\x20->\x20c'+'lamp\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p((v\x20-\x20a)\x20'+'/\x20(b\x20-\x20a),'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0afn\x20re'+'duceLightB'+'leeding(pM'+'ax:\x20f32,\x20a'+'mount:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'fn\x20chebysh'+'evUpperBou'+'nd(moments'+':\x20vec2f,\x20m'+'ean:\x20f32,\x20'+'minVarianc'+'e:\x20f32,\x20li'+'ghtBleedin'+'gReduction'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'//\x20Compute'+'\x20variance\x0a'+'\x20\x20\x20\x20var\x20va'+'riance:\x20f3'+'2\x20=\x20moment'+'s.y\x20-\x20(mom'+'ents.x\x20*\x20m'+'oments.x);'+'\x0a\x20\x20\x20\x20varia'+'nce\x20=\x20max('+'variance,\x20'+'minVarianc'+'e);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'probabilis'+'tic\x20upper\x20'+'bound\x0a\x20\x20\x20\x20'+'let\x20d:\x20f32'+'\x20=\x20mean\x20-\x20'+'moments.x;'+'\x0a\x20\x20\x20\x20var\x20p'+'Max:\x20f32\x20='+'\x20variance\x20'+'/\x20(varianc'+'e\x20+\x20(d\x20*\x20d'+'));\x0a\x0a\x20\x20\x20\x20p'+'Max\x20=\x20redu'+'ceLightBle'+'eding(pMax'+',\x20lightBle'+'edingReduc'+'tion);\x0a\x0a\x20\x20'+'\x20\x20//\x20One-t'+'ailed\x20Cheb'+'yshev\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(pMax,\x20'+'1.0,\x20mean\x20'+'<=\x20moments'+'.x);\x0a}\x0a\x0afn'+'\x20calculate'+'EVSM(momen'+'ts_in:\x20vec'+'3f,\x20Z_in:\x20'+'f32,\x20vsmBi'+'as:\x20f32,\x20e'+'xponent:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20Z:\x20f32\x20=\x20'+'2.0\x20*\x20Z_in'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20let\x20warp'+'edDepth:\x20f'+'32\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20l'+('et\x20moments'+':\x20vec2f\x20=\x20'+'moments_in'+'.xy\x20+\x20vec2'+'f(warpedDe'+'pth,\x20warpe'+'dDepth*war'+'pedDepth)\x20'+'*\x20(1.0\x20-\x20m'+'oments_in.'+'z);\x0a\x0a\x20\x20\x20\x20l'+'et\x20VSMBias'+':\x20f32\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20let\x20d'+'epthScale:'+'\x20f32\x20=\x20VSM'+'Bias\x20*\x20exp'+'onent\x20*\x20wa'+'rpedDepth;'+'\x0a\x20\x20\x20\x20let\x20m'+'inVariance'+'1:\x20f32\x20=\x20d'+'epthScale\x20'+'*\x20depthSca'+'le;\x0a\x20\x20\x20\x20re'+'turn\x20cheby'+'shevUpperB'+'ound(momen'+'ts,\x20warped'+'Depth,\x20min'+'Variance1,'+'\x200.1);\x0a}\x0a/'+'/\x20------\x20V'+'SM\x2016\x20----'+'--\x0a\x0afn\x20VSM'+'16(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords:\x20vec'+'2f,\x20resolu'+'tion:\x20f32,'+'\x20Z:\x20f32,\x20v'+'smBias:\x20f3'+'2,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20let\x20momen'+'ts:\x20vec3f\x20'+'=\x20textureS'+'ampleLevel'+'(tex,\x20texS'+'ampler,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'n\x20getShado'+'wVSM16(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M16(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord.xy,\x20s'+'hadowParam'+'s.x,\x20shado'+'wCoord.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotVSM1'+'6(shadowMa'+'p:\x20texture'+'_2d<f32>,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler,\x20sha'+'dowCoord:\x20'+'vec3f,\x20sha')+('dowParams:'+'\x20vec4f,\x20ex'+'ponent:\x20f3'+'2,\x20lightDi'+'r:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20Z:\x20'+'f32\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20V'+'SM16(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20Z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----'+'--\x0a\x0afn\x20VSM'+'32(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords_in:\x20'+'vec2f,\x20res'+'olution:\x20f'+'32,\x20Z:\x20f32'+',\x20vsmBias:'+'\x20f32,\x20expo'+'nent:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20CAPS_TEX'+'TURE_FLOAT'+'_FILTERABL'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20moment'+'s:\x20vec3f\x20='+'\x20textureSa'+'mpleLevel('+'tex,\x20texSa'+'mpler,\x20tex'+'Coords_in,'+'\x200.0).xyz;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20manual\x20b'+'ilinear\x20fi'+'ltering\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'pixelSize\x20'+':\x20f32\x20=\x201.'+'0\x20/\x20resolu'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20te'+'xCoords:\x20v'+'ec2f\x20=\x20tex'+'Coords_in\x20'+'-\x20vec2f(pi'+'xelSize);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20s00:\x20vec'+'3f\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20texCoords'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20s10:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20texCoor'+'ds\x20+\x20vec2f'+'(pixelSize'+',\x200.0),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'s01:\x20vec3f'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'exCoords\x20+'+'\x20vec2f(0.0'+',\x20pixelSiz'+'e),\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s11:')+('\x20vec3f\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20texCo'+'ords\x20+\x20vec'+'2f(pixelSi'+'ze),\x200.0).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fr:'+'\x20vec2f\x20=\x20f'+'ract(texCo'+'ords\x20*\x20res'+'olution);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20h0:\x20vec3'+'f\x20=\x20mix(s0'+'0,\x20s10,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20h1:'+'\x20vec3f\x20=\x20m'+'ix(s01,\x20s1'+'1,\x20fr.x);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20moments:'+'\x20vec3f\x20=\x20m'+'ix(h0,\x20h1,'+'\x20fr.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owVSM32(sh'+'adowMap:\x20t'+'exture_2d<'+'f32>,\x20shad'+'owMapSampl'+'er:\x20sample'+'r,\x20shadowC'+'oord:\x20vec3'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20expone'+'nt:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20V'+'SM32(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afn\x20getSha'+'dowSpotVSM'+'32(shadowM'+'ap:\x20textur'+'e_2d<f32>,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20e'+'xponent:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20Z:'+'\x20f32\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20Z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a'),gI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afn\x20getS'+'hadowPCF1x'+'1(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowCoo'+'rd.z);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotPCF1'+'x1(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20shad'+'owCoord.xy'+',\x20shadowCo'+'ord.z);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a//\x20Not\x20su'+'pported\x20on'+'\x20WebGPU\x20de'+'vice\x0a//\x20fn'+'\x20getShadow'+'OmniPCF1x1'+'(shadowMap'+':\x20texture_'+'depth_cube'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f,'+'\x20lightDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a//\x20'+'\x20\x20\x20\x20let\x20sh'+'adowZ:\x20f32'+'\x20=\x20length('+'lightDir)\x20'+'*\x20shadowPa'+'rams.w\x20+\x20s'+'hadowParam'+'s.z;\x0a//\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20lightD'+'ir,\x20shadow'+'Z);\x0a//\x20}\x0a',SI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0afn\x20_getS'+'hadowPCF3x'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20sum:\x20f3'+'2\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20let\x20uw'+'0:\x20f32\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20s);\x0a\x20\x20\x20\x20'+'let\x20uw1:\x20f'+'32\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20s)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20u0_offset'+':\x20f32\x20=\x20(2'+'.0\x20-\x20s)\x20/\x20'+'uw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20let\x20u'+'1_offset:\x20'+'f32\x20=\x20s\x20/\x20'+'uw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'vw0:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20let\x20vw1:'+'\x20f32\x20=\x20(1.'+'0\x20+\x202.0\x20*\x20'+'t);\x0a\x0a\x20\x20\x20\x20l'+'et\x20v0_offs'+'et:\x20f32\x20=\x20'+'(2.0\x20-\x20t)\x20'+'/\x20vw0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20let'+'\x20v1_offset'+':\x20f32\x20=\x20t\x20'+'/\x20vw1\x20+\x201.'+'0;\x0a\x0a\x20\x20\x20\x20le'+'t\x20u0:\x20f32\x20'+'=\x20u0_offse'+'t\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20v0:\x20f32\x20'+'=\x20v0_offse'+'t\x20*\x20shadow'+('MapSizeInv'+'\x20+\x20base_uv'+'.y;\x0a\x0a\x20\x20\x20\x20l'+'et\x20u1:\x20f32'+'\x20=\x20u1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20l'+'et\x20v1:\x20f32'+'\x20=\x20v1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'sum\x20=\x20sum\x20'+'+\x20uw0\x20*\x20vw'+'0\x20*\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20v'+'ec2f(u0,\x20v'+'0),\x20z);\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw1\x20*\x20'+'vw0\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u1,'+'\x20v0),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw0\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'0,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u1,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20*'+'\x20(1.0\x20/\x2016'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20sum;'+'\x0a}\x0a\x0afn\x20get'+'ShadowPCF3'+'x3(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wPCF3x3(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0afn\x20getSh'+'adowSpotPC'+'F3x3(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3(')+('shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams.xyz);'+'\x0a}\x0a\x0a//\x20---'+'--\x20Omni\x20Sa'+'mpling\x20---'+'--\x0a\x0a//\x20Not'+'\x20currently'+'\x20supported'+'\x20on\x20WebGPU'+'\x20device\x0a//'+'\x20fn\x20getSha'+'dowOmniPCF'+'3x3(shadow'+'Map:\x20textu'+'re_depth_c'+'ube,\x20shado'+'wMapSample'+'r:\x20sampler'+'_compariso'+'n,\x20shadowP'+'arams:\x20vec'+'4f,\x20dir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a//\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a//\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(dir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x0a//'+'\x20\x20\x20\x20\x20//\x20of'+'fset\x0a//\x20\x20\x20'+'\x20\x20let\x20texS'+'ize_i\x20=\x20te'+'xtureDimen'+'sions(shad'+'owMap,\x200);'+'\x0a//\x20\x20\x20\x20\x20le'+'t\x20z:\x20f32\x20='+'\x201.0\x20/\x20f32'+'(texSize_i'+'.x);\x0a//\x20\x20\x20'+'\x20\x20let\x20tc:\x20'+'vec3f\x20=\x20no'+'rmalize(di'+'r);\x0a\x0a//\x20\x20\x20'+'\x20\x20//\x20avera'+'ge\x204\x20sampl'+'es\x20-\x20not\x20a'+'\x20strict\x203x'+'3\x20PCF\x20but\x20'+'that\x27s\x20tri'+'cky\x20with\x20c'+'ubemaps\x0a//'+'\x20\x20\x20\x20\x20var\x20s'+'hadows:\x20ve'+'c4f;\x0a//\x20\x20\x20'+'\x20\x20shadows.'+'x\x20=\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20t'+'c\x20+\x20vec3f('+'\x20z,\x20\x20z,\x20\x20z'+'),\x20shadowZ'+');\x0a//\x20\x20\x20\x20\x20'+'shadows.y\x20'+'=\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20tc\x20'+'+\x20vec3f(-z'+',\x20-z,\x20\x20z),'+'\x20shadowZ);'+'\x0a//\x20\x20\x20\x20\x20sh'+'adows.z\x20=\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20tc\x20+\x20'+'vec3f(-z,\x20'+'\x20z,\x20-z),\x20s'+'hadowZ);\x0a/')+('/\x20\x20\x20\x20\x20shad'+'ows.w\x20=\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20tc\x20+\x20ve'+'c3f(\x20z,\x20-z'+',\x20-z),\x20sha'+'dowZ);\x0a\x0a//'+'\x20\x20\x20\x20\x20retur'+'n\x20dot(shad'+'ows,\x20vec4f'+'(0.25));\x0a/'+'/\x20}\x0a\x0a//\x20fn'+'\x20getShadow'+'OmniPCF3x3'+'_Wrapper(s'+'hadowMap:\x20'+'texture_de'+'pth_cube,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a//\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCF3x3(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowParams'+',\x20lightDir'+');\x0a//\x20}\x0a'),yI='\x0a//\x20http:/'+'/the-witne'+'ss.net/new'+'s/2013/09/'+'shadow-map'+'ping-summa'+'ry-part-1/'+'\x0afn\x20_getSh'+'adowPCF5x5'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20l'+'et\x20uw0:\x20f3'+'2\x20=\x20(4.0\x20-'+'\x203.0\x20*\x20s);'+'\x0a\x20\x20\x20\x20let\x20u'+'w1:\x20f32\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20l'+'et\x20uw2:\x20f3'+'2\x20=\x20(1.0\x20+'+'\x203.0\x20*\x20s);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'u0_offset:'+'\x20f32\x20=\x20(3.'+'0\x20-\x202.0\x20*\x20'+'s)\x20/\x20uw0\x20-'+'\x202.0;\x0a\x20\x20\x20\x20'+'let\x20u1_off'+'set:\x20f32\x20='+'\x20(3.0\x20+\x20s)'+'\x20/\x20uw1;\x0a\x20\x20'+'\x20\x20let\x20u2_o'+'ffset:\x20f32'+'\x20=\x20s\x20/\x20uw2'+'\x20+\x202.0;\x0a\x0a\x20'+'\x20\x20\x20let\x20vw0'+':\x20f32\x20=\x20(4'+'.0\x20-\x203.0\x20*'+'\x20t);\x0a\x20\x20\x20\x20l'+'et\x20vw1:\x20f3'+'2\x20=\x207.0;\x0a\x20'+'\x20\x20\x20let\x20vw2'+':\x20f32\x20=\x20(1'+'.0\x20+\x203.0\x20*'+'\x20t);\x0a\x0a\x20\x20\x20\x20'+'let\x20v0_off'+'set:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t)\x20/\x20v'+'w0\x20-\x202.0;\x0a'+'\x20\x20\x20\x20let\x20v1'+'_offset:\x20f'+'32\x20=\x20(3.0\x20'+('+\x20t)\x20/\x20vw1'+';\x0a\x20\x20\x20\x20let\x20'+'v2_offset:'+'\x20f32\x20=\x20t\x20/'+'\x20vw2\x20+\x202.0'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20sum:\x20f32\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20let\x20u0:\x20'+'f32\x20=\x20u0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.x;\x0a\x20\x20'+'\x20\x20let\x20v0:\x20'+'f32\x20=\x20v0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20u1:'+'\x20f32\x20=\x20u1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.x;\x0a\x20'+'\x20\x20\x20let\x20v1:'+'\x20f32\x20=\x20v1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20let\x20u2'+':\x20f32\x20=\x20u2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.x;\x0a'+'\x20\x20\x20\x20let\x20v2'+':\x20f32\x20=\x20v2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20sum\x20='+'\x20sum\x20+\x20uw0'+'\x20*\x20vw0\x20*\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20vec2f('+'u0,\x20v0),\x20z'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20sum\x20+\x20u'+'w1\x20*\x20vw0\x20*'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20vec2'+'f(u1,\x20v0),'+'\x20z);\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw2\x20*\x20vw0'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u2,\x20v0'+'),\x20z);\x0a\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw0\x20*\x20'+'vw1\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u0,'+'\x20v1),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'1,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'2\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare')+('Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u2,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw0\x20*\x20vw2'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u0,\x20v2'+'),\x20z);\x0a\x20\x20\x20'+'\x20sum\x20=\x20sum'+'\x20+\x20uw1\x20*\x20v'+'w2\x20*\x20textu'+'reSampleCo'+'mpareLevel'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'vec2f(u1,\x20'+'v2),\x20z);\x0a\x20'+'\x20\x20\x20sum\x20=\x20s'+'um\x20+\x20uw2\x20*'+'\x20vw2\x20*\x20tex'+'tureSample'+'CompareLev'+'el(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20vec2f(u2'+',\x20v2),\x20z);'+'\x0a\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20*\x20(1'+'.0\x20/\x20144.0'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afn'+'\x20getShadow'+'PCF5x5(sha'+'dowMap:\x20te'+'xture_dept'+'h_2d,\x20shad'+'owMapSampl'+'er:\x20sample'+'r_comparis'+'on,\x20shadow'+'Coord:\x20vec'+'3f,\x20shadow'+'Params:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20_getS'+'hadowPCF5x'+'5(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params.xyz'+');\x0a}\x0a\x0afn\x20g'+'etShadowSp'+'otPCF5x5(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owCoord:\x20v'+'ec3f,\x20shad'+'owParams:\x20'+'vec4f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20_ge'+'tShadowPCF'+'5x5(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a'),vI='\x0a\x0afn\x20fract'+'SinRand(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20PI:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20a:\x20f32\x20'+'=\x2012.9898;'+'\x20let\x20b:\x20f3'+'2\x20=\x2078.233'+';\x20let\x20c:\x20f'+'32\x20=\x2043758'+'.5453;\x0a\x20\x20\x20'+'\x20let\x20dt:\x20f'+'32\x20=\x20dot(u'+'v.xy,\x20vec2'+'f(a,\x20b));\x0a'+'\x20\x20\x20\x20let\x20sn'+':\x20f32\x20=\x20dt'+'\x20%\x20PI;\x0a\x20\x20\x20'+'\x20return\x20fr'+'act(sin(sn'+')\x20*\x20c);\x0a}\x0a'+'\x0a//\x20struct'+'\x20to\x20hold\x20p'+'recomputed'+'\x20constants'+'\x20and\x20curre'+'nt\x20state\x0as'+'truct\x20Voge'+'lDiskData\x20'+'{\x0a\x20\x20\x20\x20invN'+'umSamples:'+'\x20f32,\x0a\x20\x20\x20\x20'+'initialAng'+'le:\x20f32,\x0a\x20'+'\x20\x20\x20current'+'PointId:\x20f'+'32,\x0a}\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'fn\x20prepare'+'DiskConsta'+'nts(data:\x20'+'ptr<functi'+'on,\x20VogelD'+'iskData>,\x20'+'sampleCoun'+'t:\x20i32,\x20ra'+'ndomSeed:\x20'+'f32)\x20{\x0a\x20\x20\x20'+'\x20let\x20pi2:\x20'+'f32\x20=\x206.28'+'318530718;'+'\x0a\x20\x20\x20\x20data.'+'invNumSamp'+'les\x20=\x201.0\x20'+'/\x20f32(samp'+'leCount);\x0a'+'\x20\x20\x20\x20data.i'+'nitialAngl'+'e\x20=\x20random'+'Seed\x20*\x20pi2'+';\x0a\x20\x20\x20\x20data'+'.currentPo'+'intId\x20=\x200.'+'0;\x0a}\x0a\x0a\x0afn\x20'+'generateDi'+'skSample(d'+'ata:\x20ptr<f'+'unction,\x20V'+'ogelDiskDa'+'ta>)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20GOLDEN'+'_ANGLE:\x20f3'+'2\x20=\x202.3999'+'63;\x0a\x20\x20\x20\x20le'+'t\x20r:\x20f32\x20='+'\x20sqrt((dat'+'a.currentP'+'ointId\x20+\x200'+'.5)\x20*\x20data'+'.invNumSam'+'ples);\x0a\x20\x20\x20'+'\x20let\x20theta'+':\x20f32\x20=\x20da'+'ta.current'+'PointId\x20*\x20'+'GOLDEN_ANG'+'LE\x20+\x20data.'+'initialAng'+('le;\x0a\x0a\x20\x20\x20\x20l'+'et\x20offset:'+'\x20vec2f\x20=\x20v'+'ec2f(cos(t'+'heta),\x20sin'+'(theta))\x20*'+'\x20pow(r,\x201.'+'33);\x0a\x0a\x20\x20\x20\x20'+'data.curre'+'ntPointId\x20'+'=\x20data.cur'+'rentPointI'+'d\x20+\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'offset;\x0a}\x0a'+'\x0afn\x20PCSSFi'+'ndBlocker('+'shadowMap:'+'\x20texture_2'+'d<f32>,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler,\x20avgBl'+'ockerDepth'+':\x20ptr<func'+'tion,\x20f32>'+',\x20numBlock'+'ers:\x20ptr<f'+'unction,\x20i'+'32>,\x0a\x20\x20\x20\x20s'+'hadowCoord'+'s:\x20vec2f,\x20'+'z:\x20f32,\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32,\x20penum'+'braSize:\x20f'+'32,\x20invSha'+'dowMapSize'+':\x20f32,\x20ran'+'domSeed:\x20f'+'32)\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20diskD'+'ata:\x20Vogel'+'DiskData;\x0a'+'\x20\x20\x20\x20prepar'+'eDiskConst'+'ants(&disk'+'Data,\x20shad'+'owBlockerS'+'amples,\x20ra'+'ndomSeed);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'searchWidt'+'h:\x20f32\x20=\x20p'+'enumbraSiz'+'e\x20*\x20invSha'+'dowMapSize'+';\x0a\x20\x20\x20\x20var\x20'+'blockerSum'+':\x20f32\x20=\x200.'+'0;\x0a\x20\x20\x20\x20var'+'\x20numBlocke'+'rs_local:\x20'+'i32\x20=\x200;\x0a\x0a'+'\x20\x20\x20\x20for(\x20v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20s'+'hadowBlock'+'erSamples;'+'\x20i\x20=\x20i\x20+\x201'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20dis'+'kUV:\x20vec2f'+'\x20=\x20generat'+'eDiskSampl'+'e(&diskDat'+'a);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20samp'+'leUV:\x20vec2'+'f\x20=\x20shadow'+'Coords\x20+\x20d'+'iskUV\x20*\x20se'+'archWidth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadowM'+'apDepth:\x20f'+'32\x20=\x20textu'+'reSampleLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20sampleU'+'V,\x200.0).r;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(\x20shadow'+'MapDepth\x20<'+'\x20z\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20b'+'lockerSum\x20')+('=\x20blockerS'+'um\x20+\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers_local'+'\x20=\x20numBloc'+'kers_local'+'\x20+\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20*avg'+'BlockerDep'+'th\x20=\x20block'+'erSum\x20/\x20f3'+'2(numBlock'+'ers_local)'+';\x0a\x20\x20\x20\x20*num'+'Blockers\x20='+'\x20numBlocke'+'rs_local;\x0a'+'}\x0a\x0afn\x20PCSS'+'Filter(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20uv:\x20vec2'+'f,\x20receive'+'rDepth:\x20f3'+'2,\x20shadowS'+'amples:\x20i3'+'2,\x20filterR'+'adius:\x20f32'+',\x20randomSe'+'ed:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20var\x20dis'+'kData:\x20Vog'+'elDiskData'+';\x0a\x20\x20\x20\x20prep'+'areDiskCon'+'stants(&di'+'skData,\x20sh'+'adowSample'+'s,\x20randomS'+'eed);\x0a\x0a\x20\x20\x20'+'\x20var\x20sum:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20for\x20('+'var\x20i:\x20i32'+'\x20=\x200;\x20i\x20<\x20'+'shadowSamp'+'les;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'offsetUV:\x20'+'vec2f\x20=\x20ge'+'nerateDisk'+'Sample(&di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dept'+'h:\x20f32\x20=\x20t'+'extureSamp'+'leLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv\x20'+'+\x20offsetUV'+',\x200.0).r;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20su'+'m\x20=\x20sum\x20+\x20'+'step(recei'+'verDepth,\x20'+'depth);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20sum\x20/'+'\x20f32(shado'+'wSamples);'+'\x0a}\x0a\x0afn\x20get'+'Penumbra(d'+'blocker:\x20f'+'32,\x20drecei'+'ver:\x20f32,\x20'+'penumbraSi'+'ze:\x20f32,\x20p'+'enumbraFal'+'loff:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20di'+'st:\x20f32\x20=\x20'+'dreceiver\x20'+'-\x20dblocker'+';\x0a\x20\x20\x20\x20let\x20'+'penumbra:\x20'+'f32\x20=\x201.0\x20'+'-\x20pow(1.0\x20'+'-\x20dist,\x20pe')+('numbraFall'+'off);\x0a\x20\x20\x20\x20'+'return\x20pen'+'umbra\x20*\x20pe'+'numbraSize'+';\x0a}\x0a\x0afn\x20PC'+'SSDirectio'+'nal(shadow'+'Map:\x20textu'+'re_2d<f32>'+',\x20shadowMa'+'pSampler:\x20'+'sampler,\x20s'+'hadowCoord'+'s:\x20vec3f,\x20'+'cameraPara'+'ms:\x20vec4f,'+'\x20softShado'+'wParams:\x20v'+'ec4f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'let\x20receiv'+'erDepth:\x20f'+'32\x20=\x20shado'+'wCoords.z;'+'\x0a\x20\x20\x20\x20let\x20r'+'andomSeed:'+'\x20f32\x20=\x20fra'+'ctSinRand('+'pcPosition'+'.xy);\x0a\x20\x20\x20\x20'+'let\x20shadow'+'Samples:\x20i'+'32\x20=\x20i32(s'+'oftShadowP'+'arams.x);\x0a'+'\x20\x20\x20\x20let\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32\x20=\x20i32('+'softShadow'+'Params.y);'+'\x0a\x20\x20\x20\x20let\x20p'+'enumbraSiz'+'e:\x20f32\x20=\x20s'+'oftShadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20let\x20pen'+'umbraFallo'+'ff:\x20f32\x20=\x20'+'softShadow'+'Params.w;\x0a'+'\x0a\x20\x20\x20\x20let\x20s'+'hadowMapSi'+'ze:\x20i32\x20=\x20'+'i32(textur'+'eDimension'+'s(shadowMa'+'p,\x200).x);\x0a'+'\x20\x20\x20\x20var\x20in'+'vShadowMap'+'Size:\x20f32\x20'+'=\x201.0\x20/\x20f3'+'2(shadowMa'+'pSize);\x0a\x20\x20'+'\x20\x20invShado'+'wMapSize\x20='+'\x20invShadow'+'MapSize\x20*\x20'+'(f32(shado'+'wMapSize)\x20'+'/\x202048.0);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'penumbra:\x20'+'f32;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20avgBloc'+'kerDepth:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20numBloc'+'kers:\x20i32\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20&a'+'vgBlockerD'+'epth,\x20&num')+('Blockers,\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowBl'+'ockerSampl'+'es,\x20penumb'+'raSize,\x20in'+'vShadowMap'+'Size,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20when\x20no\x20b'+'lockers\x20ar'+'e\x20present\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(numBlock'+'ers\x20<\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20pen'+'umbra\x20size'+'\x20is\x20based\x20'+'on\x20the\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'getPenumbr'+'a(avgBlock'+'erDepth,\x20s'+'hadowCoord'+'s.z,\x20penum'+'braSize,\x20p'+'enumbraFal'+'loff);\x0a\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20constan'+'t\x20filter\x20s'+'ize,\x20no\x20co'+'ntact\x20hard'+'ening\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20penum'+'braSize;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20filter'+'Radius:\x20f3'+'2\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ords.xy,\x20r'+'eceiverDep'+'th,\x20shadow'+'Samples,\x20f'+'ilterRadiu'+'s,\x20randomS'+'eed);\x0a}\x0a\x0af'+'n\x20getShado'+'wPCSS(shad'+'owMap:\x20tex'+'ture_2d<f3'+'2>,\x20shadow'+'MapSampler'+':\x20sampler,'+'\x20shadowCoo'+'rd:\x20vec3f,'+'\x20shadowPar'+'ams:\x20vec4f'+',\x20cameraPa'+'rams:\x20vec4'+'f,\x20softSha'+'dowParams:'+'\x20vec4f,\x20li'+'ghtDir:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x20//\x20lig'+'htDir\x20unus'+'ed?\x20Kept\x20p'+'aram.\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SDirection'+'al(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP')+'arams);\x0a}\x0a',xI='\x0aattribute'+'\x20vertex_bo'+'neIndices:'+'\x20f32;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20g'+'etBoneMatr'+'ix(indexFl'+'oat:\x20f32)\x20'+'->\x20mat4x4f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20width\x20=\x20'+'i32(textur'+'eDimension'+'s(texture_'+'poseMap).x'+');\x0a\x20\x20\x20\x20let'+'\x20index:\x20i3'+'2\x20=\x20i32(in'+'dexFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x20\x20\x20\x20let\x20i'+'y:\x20i32\x20=\x20i'+'ndex\x20/\x20wid'+'th;\x0a\x20\x20\x20\x20le'+'t\x20ix:\x20i32\x20'+'=\x20index\x20%\x20'+'width;\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'elements\x20o'+'f\x204x3\x20matr'+'ix\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec4f'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(ix'+'\x20+\x200,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20v2:\x20vec'+'4f\x20=\x20textu'+'reLoad(tex'+'ture_poseM'+'ap,\x20vec2i('+'ix\x20+\x201,\x20iy'+'),\x200);\x0a\x20\x20\x20'+'\x20let\x20v3:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(ix\x20+\x202,\x20'+'iy),\x200);\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4x4f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.x,\x20v2.x,'+'\x20v3.x,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.y,\x20v2.y,\x20'+'v3.y,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'z,\x20v2.z,\x20v'+'3.z,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.w'+',\x20v2.w,\x20v3'+'.w,\x201.0\x0a\x20\x20'+'\x20\x20);\x0a}\x0a',TI='\x0a\x0aattribut'+'e\x20vertex_b'+'oneWeights'+':\x20vec4f;\x0aa'+'ttribute\x20v'+'ertex_bone'+'Indices:\x20v'+'ec4f;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0astru'+'ct\x20BoneMat'+'rix\x20{\x0a\x20\x20\x20\x20'+'v1:\x20vec4f,'+'\x0a\x20\x20\x20\x20v2:\x20v'+'ec4f,\x0a\x20\x20\x20\x20'+'v3:\x20vec4f,'+'\x0a}\x0a\x0afn\x20get'+'BoneMatrix'+'(width:\x20i3'+'2,\x20index:\x20'+'i32)\x20->\x20Bo'+'neMatrix\x20{'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'v\x20=\x20index\x20'+'/\x20width;\x0a\x20'+'\x20\x20\x20let\x20u\x20='+'\x20index\x20%\x20w'+'idth;\x0a\x0a\x20\x20\x20'+'\x20var\x20resul'+'t:\x20BoneMat'+'rix;\x0a\x20\x20\x20\x20r'+'esult.v1\x20='+'\x20textureLo'+'ad(texture'+'_poseMap,\x20'+'vec2i(u\x20+\x20'+'0,\x20v),\x200);'+'\x0a\x20\x20\x20\x20resul'+'t.v2\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20result.v3'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(u\x20'+'+\x202,\x20v),\x200'+');\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0afn\x20ge'+'tSkinMatri'+'x(indicesF'+'loat:\x20vec4'+'f,\x20weights'+':\x20vec4f)\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20width\x20=\x20i'+'32(texture'+'Dimensions'+'(texture_p'+'oseMap).x)'+';\x0a\x20\x20\x20\x20var\x20'+'indices\x20=\x20'+'vec4i(indi'+'cesFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'boneA\x20=\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.x);'+'\x0a\x20\x20\x20\x20let\x20b'+'oneB\x20=\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y);\x0a'+'\x20\x20\x20\x20let\x20bo'+'neC\x20=\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.z);\x0a\x20'+'\x20\x20\x20let\x20bon'+'eD\x20=\x20getBo'+'neMatrix(w'+'idth,\x20indi'+'ces.w);\x0a\x0a\x20'+'\x20\x20\x20//\x20...\x20'+'rest\x20of\x20ge'+'tSkinMatri'+'x\x20remains\x20'+'the\x20same\x20.'+'..\x0a\x20\x20\x20\x20let'+'\x20v1\x20=\x20bone'+'A.v1\x20*\x20wei'+('ghts.x\x20+\x20b'+'oneB.v1\x20*\x20'+'weights.y\x20'+'+\x20boneC.v1'+'\x20*\x20weights'+'.z\x20+\x20boneD'+'.v1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20let\x20v2\x20=\x20'+'boneA.v2\x20*'+'\x20weights.x'+'\x20+\x20boneB.v'+'2\x20*\x20weight'+'s.y\x20+\x20bone'+'C.v2\x20*\x20wei'+'ghts.z\x20+\x20b'+'oneD.v2\x20*\x20'+'weights.w;'+'\x0a\x20\x20\x20\x20let\x20v'+'3\x20=\x20boneA.'+'v3\x20*\x20weigh'+'ts.x\x20+\x20bon'+'eB.v3\x20*\x20we'+'ights.y\x20+\x20'+'boneC.v3\x20*'+'\x20weights.z'+'\x20+\x20boneD.v'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'let\x20one\x20=\x20'+'dot(weight'+'s,\x20vec4f(1'+'.0,\x201.0,\x201'+'.0,\x201.0));'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'ranspose\x20t'+'o\x204x4\x20matr'+'ix\x0a\x20\x20\x20\x20ret'+'urn\x20mat4x4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20v1.x,\x20v2.'+'x,\x20v3.x,\x200'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.y,\x20v2.y'+',\x20v3.y,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.z,\x20v2.z,'+'\x20v3.z,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.w,\x20v2.w,\x20'+'v3.w,\x20one\x0a'+'\x20\x20\x20\x20);\x0a}\x0a'),wI='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vLinear'+'Depth:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'floatAsUin'+'tPS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20Varyin'+'g\x20and\x20unif'+'orm\x20declar'+'ations\x0a\x20\x20\x20'+'\x20varying\x20v'+'ViewDir\x20:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20uniform\x20s'+'kyboxHighl'+'ightMultip'+'lier\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20SKY_CU'+'BEMAP\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cub'+'eMap\x20:\x20tex'+'ture_cube<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_cube'+'Map_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vWo'+'rldPos\x20:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20p'+'rojectedSk'+'ydomeCente'+'r\x20:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'env-atlas\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'phericalPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'envAtlasPS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_envAtlas_'+'sampler\x20:\x20'+'sampler;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20mipL'+'evel\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20@'+'fragment\x0a\x20'+'\x20\x20\x20fn\x20frag'+'mentMain(i'+'nput\x20:\x20Fra'+'gmentInput'+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20PREPA'+('SS_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20output'+'\x20linear\x20de'+'pth\x20during'+'\x20prepass\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20floa'+'t2vec4(vLi'+'nearDepth)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20linear'+'\x20:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20dir\x20'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KY_CUBEMAP'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+'\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+'nvDir\x20:\x20ve'+'c3f\x20=\x20norm'+'alize(inpu'+'t.vWorldPo'+'s\x20-\x20unifor'+'m.projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'\x20=\x20envDir\x20'+'*\x20uniform.'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir\x20='+'\x20input.vVi'+'ewDir;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'.x\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'tureSample'+'(texture_c'+'ubeMap,\x20te'+'xture_cube'+'Map_sample'+'r,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20env-atla'+'s\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ir\x20=\x20input'+'.vViewDir\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv\x20:\x20'+'vec2f\x20=\x20to'+'SphericalU'+'v(normaliz'+'e(dir));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20linea'+'r\x20=\x20{SKYBO'+'X_DECODE_F'+'NC}(textur'+'eSample(te'+'xture_envA'+'tlas,\x20text'+'ure_envAtl'+'as_sampler'+',\x20mapRough'+'nessUv(uv,')+('\x20uniform.m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ou'+'r\x20HDR\x20enco'+'des\x20values'+'\x20up\x20to\x2064,'+'\x20so\x20allow\x20'+'extra\x20brig'+'htness\x20for'+'\x20the\x20clipp'+'ed\x20values\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(any('+'linear\x20>=\x20'+'vec3f(64.0'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20uniform.'+'skyboxHigh'+'lightMulti'+'plier;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),EI='\x0a\x20\x20\x20\x20//\x20At'+'tribute\x0a\x20\x20'+'\x20\x20attribut'+'e\x20aPositio'+'n\x20:\x20vec4f;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20matrix'+'_view\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20uniform\x20m'+'atrix_proj'+'ectionSkyb'+'ox\x20:\x20mat4x'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vViewDir'+'\x20:\x20vec3f;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PREPASS_'+'PASS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20when'+'\x20skydome\x20r'+'enders\x20dep'+'th\x20during\x20'+'prepass,\x20g'+'enerate\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vLi'+'nearDepth:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vWorldP'+'os\x20:\x20vec3f'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input\x20'+':\x20VertexIn'+'put)\x20->\x20Ve'+'rtexOutput'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut\x20:\x20Verte'+'xOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20view\x20:\x20ma'+'t4x4f\x20=\x20un'+'iform.matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'worldPos\x20:'+'\x20vec4f\x20=\x20u'+'niform.mat'+'rix_model\x20'+'*\x20input.aP'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vW'+'orldPos\x20=\x20'+'worldPos.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'inear\x20dept'+'h\x20from\x20the'+'\x20worldPosi'+'tion,\x20see\x20'+'getLinearD'+'epth\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vL'+'inearDepth'+'\x20=\x20-(unifo'+('rm.matrix_'+'view\x20*\x20vec'+'4f(worldPo'+'s.xyz,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[0]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[1]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[2]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20uniform.m'+'atrix_proj'+'ectionSkyb'+'ox\x20*\x20(view'+'\x20*\x20input.a'+'Position);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'vViewDir\x20='+'\x20input.aPo'+'sition.xyz'+'\x20*\x20uniform'+'.cubeMapRo'+'tationMatr'+'ix;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20for\x20'+'infinite\x20s'+'kybox,\x20use'+'\x20negative\x20'+'gl_Positio'+'n.w\x20to\x20get'+'\x20positive\x20'+'linear\x20dep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-pcPositi'+'on.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Force\x20sk'+'ybox\x20to\x20fa'+'r\x20Z,\x20regar'+'dless\x20of\x20t'+'he\x20clip\x20pl'+'anes\x20on\x20th'+'e\x20camera\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Subtract\x20a'+'\x20tiny\x20fudg'+'e\x20factor\x20t'+'o\x20ensure\x20f'+'loating\x20po'+'int\x20errors'+'\x20don\x27t\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20st'+'ill\x20push\x20p'+'ixels\x20beyo'+'nd\x20far\x20Z.\x20'+'See:\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20http'+'s://commun'+'ity.khrono'+'s.org/t/sk'+'ybox-probl'+'em/61857\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.posit'+'ion.z\x20=\x20ou'+'tput.posit'+'ion.w\x20-\x201.'+'0e-7;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),bI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_specular'+':\x20vec3f;\x0a#'+'endif\x0a\x0afn\x20'+'getSpecula'+'rity()\x20{\x0a\x20'+'\x20\x20\x20var\x20spe'+'cularColor'+'\x20=\x20vec3f(1'+'.0,\x201.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'CONSTANT\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20unifo'+'rm.materia'+'l_specular'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_TE'+'XTURE\x0a\x20\x20\x20\x20'+'specularCo'+'lor\x20=\x20spec'+'ularColor\x20'+'*\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SPECU'+'LAR_TEXTUR'+'E_NAME},\x20{'+'STD_SPECUL'+'AR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_S'+'PECULAR_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SPECULA'+'R_VERTEX\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20satur'+'ate3(vVert'+'exColor.{S'+'TD_SPECULA'+'R_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dSpe'+'cularity\x20='+'\x20specularC'+'olor;\x0a}\x0a',AI='\x0a\x0afn\x20toSph'+'erical(dir'+':\x20vec3f)\x20-'+'>\x20vec2f\x20{\x0a'+'\x20\x20\x20\x20let\x20an'+'gle_xz\x20=\x20s'+'elect(0.0,'+'\x20atan2(dir'+'.x,\x20dir.z)'+',\x20any(dir.'+'xz\x20!=\x20vec2'+'f(0.0)));\x0a'+'\x20\x20\x20\x20return'+'\x20vec2f(ang'+'le_xz,\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0afn\x20toS'+'phericalUv'+'(dir\x20:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20c'+'onst\x20PI\x20:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20uv\x20:\x20ve'+'c2f\x20=\x20toSp'+'herical(di'+'r)\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x20vec'+'2f(0.5,\x200.'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y);\x0a'+'}\x0a',CI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'\x20\x20\x20\x20unifor'+'m\x20material'+'_speculari'+'tyFactor:\x20'+'f32;\x0a#endi'+'f\x0a\x0afn\x20getS'+'pecularity'+'Factor()\x20{'+'\x0a\x20\x20\x20\x20var\x20s'+'pecularity'+'Factor\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20speculari'+'tyFactor\x20='+'\x20speculari'+'tyFactor\x20*'+'\x20uniform.m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'ARITYFACTO'+'R_TEXTURE\x0a'+'\x20\x20\x20\x20specul'+'arityFacto'+'r\x20=\x20specul'+'arityFacto'+'r\x20*\x20textur'+'eSampleBia'+'s({STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_NAME},\x20'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_VE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_SPEC'+'ULARITYFAC'+'TOR_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dS'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor;\x0a}\x0a',PI='\x0afn\x20getSpo'+'tEffect(li'+'ghtSpotDir'+':\x20vec3f,\x20l'+'ightInnerC'+'oneAngle:\x20'+'f32,\x20light'+'OuterConeA'+'ngle:\x20f32,'+'\x20lightDirN'+'orm:\x20vec3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'osAngle:\x20f'+'32\x20=\x20dot(l'+'ightDirNor'+'m,\x20lightSp'+'otDir);\x0a\x20\x20'+'\x20\x20return\x20s'+'moothstep('+'lightOuter'+'ConeAngle,'+'\x20lightInne'+'rConeAngle'+',\x20cosAngle'+');\x0a}',MI='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2f(vUv0'+'.x,\x201.0\x20-\x20'+'vUv0.y);\x0a',DI='\x0a\x20\x20\x20\x20let\x20t'+'ileMask:\x20v'+'ec2f\x20=\x20ste'+'p(vMask,\x20v'+'ec2f(0.999'+'99));\x0a\x20\x20\x20\x20'+'let\x20tileSi'+'ze:\x20vec2f\x20'+'=\x200.5\x20*\x20(i'+'nnerOffset'+'.xy\x20+\x20inne'+'rOffset.zw'+');\x0a\x20\x20\x20\x20let'+'\x20tileScale'+':\x20vec2f\x20=\x20'+'vec2f(1.0)'+'\x20/\x20(vec2f('+'1.0)\x20-\x20til'+'eSize);\x0a\x20\x20'+'\x20\x20var\x20clam'+'pedUv:\x20vec'+'2f\x20=\x20mix(i'+'nnerOffset'+'.xy\x20*\x200.5,'+'\x20vec2f(1.0'+')\x20-\x20innerO'+'ffset.zw\x20*'+'\x200.5,\x20frac'+'t((vTiledU'+'v\x20-\x20tileSi'+'ze)\x20*\x20tile'+'Scale));\x0a\x20'+'\x20\x20\x20clamped'+'Uv\x20=\x20clamp'+'edUv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x20\x20\x20\x20'+'var\x20nineSl'+'icedUv:\x20ve'+'c2f\x20=\x20vUv0'+'\x20*\x20tileMas'+'k\x20+\x20clampe'+'dUv\x20*\x20(vec'+'2f(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x0a',II='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dAlpha'+':\x20f32\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20//'+'\x20all\x20passe'+'s\x20handle\x20o'+'pacity\x0a\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'!=\x20NONE\x20||'+'\x20defined(L'+'IT_ALPHA_T'+'EST)\x20||\x20de'+'fined(LIT_'+'ALPHA_TO_C'+'OVERAGE)\x20|'+'|\x20STD_OPAC'+'ITY_DITHER'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_OP'+'ACITY_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_opa'+'cityMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_opacityMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20globals'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dAlbedo:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'NormalW:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dSp'+'ecularity:'+'\x20vec3f\x20=\x20v'+'ec3f(0.0,\x20'+'0.0,\x200.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dGlossin'+'ess:\x20f32\x20='+'\x200.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_REFR'+'ACTION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dTransmi'+'ssion:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dTh'+'ickness:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'CENE_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SCREE'+'N_SIZE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20uSc'+'reenSize:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+('f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_TRANSFOR'+'MS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20ma'+'trix_viewP'+'rojection:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20matri'+'x_model:\x20m'+'at4x4f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20paral'+'lax\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_HEIGHT_'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'UvOffset:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'DIFFUSE_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_heightM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'heightMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'diffuseMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_diffus'+'eMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSEDETAI'+'L_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20norma'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_NORMAL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_normalMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20#ifdef'+'\x20STD_NORMA'+'LDETAIL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalDetai'+'lMap\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_no'+'rmalDetail'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_T'+'HICKNESS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'thicknessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_thic'+'knessMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_REFRACTIO'+'N_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_refract'+'ionMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'refraction'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20i'+'ridescence'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dIr'+'idescence:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20dIridesce'+'nceThickne'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'iridescenc'+'eThickness'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_iridescen'+'ceThicknes'+'sMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur')+('e_iridesce'+'nceMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_irides'+'cenceMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20ccSp'+'ecularity:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20ccGlossin'+'ess:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20ccNor'+'malW:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dAni'+'sotropy:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'Anisotropy'+'Rotation:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'arity\x20&\x20gl'+'ossiness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20she'+'en\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sSpecular'+'ity:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sGlossine'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'HEENGLOSS_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_s'+'heenGlossM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_sheenG'+'lossMapSam'+'pler\x20:\x20sam'+'pler;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_MET'+'ALNESS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dMet'+'alness:\x20f3'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dIor:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'metalnessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_metaln'+'essMapSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'rity\x20facto'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var<privat'+'e>\x20dSpecul'+'arityFacto'+'r:\x20f32;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rityFactor'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_specu'+'larityFact'+'orMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_SPECULAR'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_')+('specularMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20gloss\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_glossMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_glo'+'ssMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dAo:\x20f32;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_aoMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_AODETAIL_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoDet'+'ailMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_aoDeta'+'ilMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dEmission'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_EM'+'ISSIVE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_em'+'issiveMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_emissiv'+'eMapSample'+'r\x20:\x20sample')+('r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatG'+'lossMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_clear'+'CoatGlossM'+'apSampler\x20'+':\x20sampler;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_clearC'+'oatNormalM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatN'+'ormalMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20anisotr'+'opy\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_A'+'NISOTROPY_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aniso'+'tropyMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_anis'+'otropyMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20lightm'+'ap\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(STD_LIG'+'HTMAP)\x20||\x20')+('defined(ST'+'D_LIGHT_VE'+'RTEX_COLOR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dLi'+'ghtmap:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_LI'+'GHT_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_l'+'ightMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_light'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20front'+'\x20end\x20outpu'+'ts\x20to\x20lit\x20'+'shader\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22litShader'+'CorePS\x22\x0a'),LI='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fn\x20'+'getSpecula'+'rity()\x20{\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20vec3f'+'(1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'gloss\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22gl'+'ossPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22aoPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20emissi'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22emissiveP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clear'+'coat\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20')+('LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22clea'+'rCoatPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'GlossPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'NormalPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ani'+'sotropy\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x20&&\x20defin'+'ed(LIT_LIG'+'HTING)\x20&&\x20'+'defined(LI'+'T_GGX_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22an'+'isotropyPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(ST'+'D_LIGHTMAP'+')\x20||\x20defin'+'ed(STD_LIG'+'HT_VERTEX_'+'COLOR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22l'+'ightmapPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20fn\x20evalu'+'ateFronten'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20al'+'l\x20passes\x20h'+'andle\x20opac'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIT_'+'BLEND_TYPE'+'\x20!=\x20NONE\x20|'+'|\x20defined('+'LIT_ALPHA_'+'TEST)\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x20'+'||\x20STD_OPA'+'CITY_DITHE'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getOpaci'+'ty();\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_ALPHA'+'_TEST)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20alphaTe'+'st(dAlpha)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20opacityDi'+'ther(dAlph'+'a,\x200.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20d'+'Alpha;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20par')+('allax\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getP'+'arallax();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getA'+'lbedo();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_a'+'lbedo\x20=\x20dA'+'lbedo;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20normal\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getNorma'+'l();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_w'+'orldNormal'+'\x20=\x20dNormal'+'W;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'fraction\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etRefracti'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'transmissi'+'on\x20=\x20dTran'+'smission;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Thickness('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness\x20=\x20d'+'Thickness;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_D'+'ISPERSION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_di'+'spersion\x20='+'\x20uniform.m'+'aterial_di'+'spersion;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_IRIDESC'+'ENCE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getIrides'+'cence();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getIr'+'idescenceT'+'hickness()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x20=\x20'+'dIridescen'+'ce;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specularit'+'y\x20&\x20glossi'+'ness\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20sheen\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSheen()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'sheen_spec'+'ularity\x20=\x20'+'sSpeculari'+'ty;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getShe'+'enGlossine'+'ss();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_sheen_'+'gloss\x20=\x20sG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getMetaln'+'ess();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_metal'+'ness\x20=\x20dMe'+'talness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etIor();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+'\x20=\x20dIor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'ity\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULARITY_'+'FACTOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'yFactor();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'Factor\x20=\x20d'+'Specularit'+'yFactor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20gloss\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'y();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20dSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs')+('_gloss\x20=\x20d'+'Glossiness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ao\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getAO();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_ao\x20=\x20'+'dAo;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getEmissi'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_emis'+'sion\x20=\x20dEm'+'ission;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getClea'+'rCoat();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getCl'+'earCoatGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'ClearCoatN'+'ormal();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20=\x20ccS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_glos'+'s\x20=\x20ccGlos'+'siness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal\x20=\x20ccNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20anisotro'+'py\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getAnisot'+'ropy();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightM'+'ap();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmap\x20='+'\x20dLightmap'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_')+('LIGHTMAP_D'+'IR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmapD'+'ir\x20=\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a'),RI='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20tbnB'+'asis:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getTBN(t'+'angent:\x20ve'+'c3f,\x20binor'+'mal:\x20vec3f'+',\x20normal:\x20'+'vec3f)\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20TBN_TANGE'+'NTS\x20//\x20tan'+'gents\x20/\x20bi'+'normals\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dTB'+'N\x20=\x20mat3x3'+'f(normaliz'+'e(tangent)'+',\x20normaliz'+'e(binormal'+'),\x20normali'+'ze(normal)'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20define'+'d(TBN_DERI'+'VATIVES)\x20/'+'/\x20derivati'+'ves\x20based\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2f\x20=\x20{'+'lightingUv'+'};\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dp1:'+'\x20vec3f\x20=\x20d'+'pdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dp2:\x20vec3'+'f\x20=\x20dpdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20duv1'+':\x20vec2f\x20=\x20'+'dpdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20duv2:\x20'+'vec2f\x20=\x20dp'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20solve\x20th'+'e\x20linear\x20s'+'ystem\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20dp'+'2perp:\x20vec'+'3f\x20=\x20cross'+'(\x20dp2,\x20nor'+'mal\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20d'+'p1perp:\x20ve'+'c3f\x20=\x20cros'+'s(\x20normal,'+'\x20dp1\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'T:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.x\x20+\x20'+'dp1perp\x20*\x20'+'duv2.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'B:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+('dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+'ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20deno'+'m:\x20f32\x20=\x20m'+'ax(\x20dot(T,'+'\x20T),\x20dot(B'+',\x20B)\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'invmax:\x20f3'+'2\x20=\x20select'+'(uniform.t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20),\x200.0,\x20'+'denom\x20==\x200'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3x3f(T\x20'+'*\x20invmax,\x20'+'-B\x20*\x20invma'+'x,\x20normal\x20'+');\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20obj'+'ect\x20space\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20B:\x20'+'vec3f\x20=\x20cr'+'oss(normal'+',\x20vObjectS'+'paceUpW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20T:\x20vec3f'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dot(B,'+'B)\x20==\x200.0)'+'\x20//\x20deal\x20w'+'ith\x20case\x20w'+'hen\x20vObjec'+'tSpaceUpW\x20'+'normal\x20are'+'\x20parallel\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20majo'+'r:\x20f32\x20=\x20m'+'ax(max(nor'+'mal.x,\x20nor'+'mal.y),\x20no'+'rmal.z);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20B\x20=\x20c'+'ross(norma'+'l,\x20vec3f(0'+'.0,\x201.0,\x200'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x20if\x20(n'+'ormal.y\x20=='+'\x20major)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20B\x20'+'=\x20cross(no'+'rmal,\x20vec3'+'f(0.0,\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20//'+'\x20removed\x20\x22'+'if\x20(normal'+'.z\x20==\x20majo'+'r)\x22\x20assumi'+'ng\x20it\x27s\x20th'+'e\x20only\x20rem'+'aining\x20cas'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20B\x20=\x20cros'+'s(normal,\x20'+'vec3f(1.0,'+'\x200.0,\x200.0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3x3f(n'+'ormalize(T'+'),\x20normali'+'ze(B),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a}'),OI='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_th'+'ickness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getTh'+'ickness()\x20'+'{\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'THICKNESS_'+'CONSTANT\x0a\x20'+'\x20\x20\x20dThickn'+'ess\x20=\x20dThi'+'ckness\x20*\x20u'+'niform.mat'+'erial_thic'+'kness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_THICKN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x20d'+'Thickness\x20'+'*\x20textureS'+'ampleBias('+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_THICKNESS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_THIC'+'KNESS_VERT'+'EX\x0a\x20\x20\x20\x20dTh'+'ickness\x20=\x20'+'dThickness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',FI='\x0a#if\x20(TONE'+'MAP\x20==\x20NON'+'E)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingNo'+'nePS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20FILMIC\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingFilmi'+'cPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22tonemap'+'pingLinear'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20HEJL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gHejlPS\x22\x0a#'+'elif\x20TONEM'+'AP\x20==\x20ACES'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingAces'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20ACES2\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngAces2PS\x22'+'\x0a#elif\x20TON'+'EMAP\x20==\x20NE'+'UTRAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gNeutralPS'+'\x22\x0a#endif\x0a',NI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20t'+'A:\x20f32\x20=\x202'+'.51;\x0a\x20\x20\x20\x20l'+'et\x20tB:\x20f32'+'\x20=\x200.03;\x0a\x20'+'\x20\x20\x20let\x20tC:'+'\x20f32\x20=\x202.4'+'3;\x0a\x20\x20\x20\x20let'+'\x20tD:\x20f32\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20let\x20tE:\x20f'+'32\x20=\x200.14;'+'\x0a\x20\x20\x20\x20let\x20x'+':\x20vec3f\x20=\x20'+'color\x20*\x20un'+'iform.expo'+'sure;\x0a\x20\x20\x20\x20'+'return\x20(x\x20'+'*\x20(tA\x20*\x20x\x20'+'+\x20tB))\x20/\x20('+'x\x20*\x20(tC\x20*\x20'+'x\x20+\x20tD)\x20+\x20'+'tE);\x0a}\x0a',kI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0a//\x20AC'+'ES\x20approxi'+'mation\x20by\x20'+'Stephen\x20Hi'+'ll\x0a\x0a//\x20sRG'+'B\x20=>\x20XYZ\x20='+'>\x20D65_2_D6'+'0\x20=>\x20AP1\x20='+'>\x20RRT_SAT\x0a'+'const\x20ACES'+'InputMat:\x20'+'mat3x3f\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20vec3f(0'+'.59719,\x200.'+'35458,\x200.0'+'4823),\x0a\x20\x20\x20'+'\x20vec3f(0.0'+'7600,\x200.90'+'834,\x200.015'+'66),\x0a\x20\x20\x20\x20v'+'ec3f(0.028'+'40,\x200.1338'+'3,\x200.83777'+')\x0a);\x0a\x0a//\x20O'+'DT_SAT\x20=>\x20'+'XYZ\x20=>\x20D60'+'_2_D65\x20=>\x20'+'sRGB\x0aconst'+'\x20ACESOutpu'+'tMat:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20v'+'ec3f(\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367),\x0a\x20\x20\x20\x20'+'vec3f(-0.1'+'0208,\x20\x201.1'+'0813,\x20-0.0'+'0605),\x0a\x20\x20\x20'+'\x20vec3f(-0.'+'00327,\x20-0.'+'07276,\x20\x201.'+'07602)\x0a);\x0a'+'\x0afn\x20RRTAnd'+'ODTFit(v:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20a:\x20v'+'ec3f\x20=\x20v\x20*'+'\x20(v\x20+\x20vec3'+'f(0.024578'+'6))\x20-\x20vec3'+'f(0.000090'+'537);\x0a\x20\x20\x20\x20'+'let\x20b:\x20vec'+'3f\x20=\x20v\x20*\x20('+'vec3f(0.98'+'3729)\x20*\x20v\x20'+'+\x20vec3f(0.'+'4329510))\x20'+'+\x20vec3f(0.'+'238081);\x0a\x20'+'\x20\x20\x20return\x20'+'a\x20/\x20b;\x0a}\x0a\x0a'+'fn\x20toneMap'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'var\x20c:\x20vec'+'3f\x20=\x20color'+'\x20*\x20(unifor'+'m.exposure'+'\x20/\x200.6);\x0a\x20'+'\x20\x20\x20c\x20=\x20c\x20*'+'\x20ACESInput'+'Mat;\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20R'+'RT\x20and\x20ODT'+'\x0a\x20\x20\x20\x20c\x20=\x20R'+'RTAndODTFi'+'t(c);\x0a\x20\x20\x20\x20'+'c\x20=\x20c\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(c,\x20vec'+'3f(0.0),\x20v'+'ec3f(1.0))'+';\x0a}\x0a',UI='\x0aconst\x20A:\x20'+'f32\x20=\x200.15'+';\x0aconst\x20B:'+'\x20f32\x20=\x200.5'+'0;\x0aconst\x20C'+':\x20f32\x20=\x200.'+'10;\x0aconst\x20'+'D:\x20f32\x20=\x200'+'.20;\x0aconst'+'\x20E:\x20f32\x20=\x20'+'0.02;\x0acons'+'t\x20F:\x20f32\x20='+'\x200.30;\x0acon'+'st\x20W:\x20f32\x20'+'=\x2011.2;\x0a\x0au'+'niform\x20exp'+'osure:\x20f32'+';\x0a\x0afn\x20unch'+'arted2Tone'+'map(x:\x20vec'+'3f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20((x\x20'+'*\x20(A\x20*\x20x\x20+'+'\x20C\x20*\x20B)\x20+\x20'+'D\x20*\x20E)\x20/\x20('+'x\x20*\x20(A\x20*\x20x'+'\x20+\x20B)\x20+\x20D\x20'+'*\x20F))\x20-\x20ve'+'c3f(E\x20/\x20F)'+';\x0a}\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20c'+':\x20vec3f\x20=\x20'+'uncharted2'+'Tonemap(co'+'lor\x20*\x20unif'+'orm.exposu'+'re);\x0a\x20\x20\x20\x20l'+'et\x20whiteSc'+'ale:\x20vec3f'+'\x20=\x20vec3f(1'+'.0)\x20/\x20unch'+'arted2Tone'+'map(vec3f('+'W,\x20W,\x20W));'+'\x0a\x20\x20\x20\x20c\x20*=\x20'+'whiteScale'+';\x0a\x20\x20\x20\x20retu'+'rn\x20c;\x0a}\x0a',BI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20A'+':\x20f32\x20=\x200.'+'22;\x0a\x20\x20\x20\x20le'+'t\x20B:\x20f32\x20='+'\x200.3;\x0a\x20\x20\x20\x20'+'let\x20C:\x20f32'+'\x20=\x200.1;\x0a\x20\x20'+'\x20\x20let\x20D:\x20f'+'32\x20=\x200.2;\x0a'+'\x20\x20\x20\x20let\x20E:'+'\x20f32\x20=\x200.0'+'1;\x0a\x20\x20\x20\x20let'+'\x20F:\x20f32\x20=\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20Scl:\x20f3'+'2\x20=\x201.25;\x0a'+'\x0a\x20\x20\x20\x20let\x20a'+'djusted_co'+'lor\x20=\x20colo'+'r\x20*\x20unifor'+'m.exposure'+';\x0a\x20\x20\x20\x20let\x20'+'h\x20=\x20max(ve'+'c3f(0.0),\x20'+'adjusted_c'+'olor\x20-\x20vec'+'3f(0.004))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20(h\x20*\x20('+'(Scl\x20*\x20A)\x20'+'*\x20h\x20+\x20Scl\x20'+'*\x20vec3f(C\x20'+'*\x20B))\x20+\x20Sc'+'l\x20*\x20vec3f('+'D\x20*\x20E))\x20/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(h\x20*\x20(A\x20*'+'\x20h\x20+\x20vec3f'+'(B))\x20+\x20vec'+'3f(D\x20*\x20F))'+'\x20-\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20Scl\x20*\x20'+'vec3f(E\x20/\x20'+'F);\x0a}\x0a',zI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'uniform.ex'+'posure;\x0a}\x0a',VI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(col:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20var\x20col'+'or\x20=\x20col\x20*'+'\x20uniform.e'+'xposure;\x0a\x0a'+'\x20\x20\x20\x20let\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20let\x20des'+'aturation\x20'+'=\x200.15;\x0a\x0a\x20'+'\x20\x20\x20let\x20x\x20='+'\x20min(color'+'.r,\x20min(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20let\x20offs'+'et\x20=\x20selec'+'t(0.04,\x20x\x20'+'-\x206.25\x20*\x20x'+'\x20*\x20x,\x20x\x20<\x20'+'0.08);\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'vec3f(offs'+'et);\x0a\x0a\x20\x20\x20\x20'+'let\x20peak\x20='+'\x20max(color'+'.r,\x20max(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20if\x20(peak'+'\x20<\x20startCo'+'mpression)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'d\x20=\x201.0\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20let\x20newP'+'eak\x20=\x201.0\x20'+'-\x20d\x20*\x20d\x20/\x20'+'(peak\x20+\x20d\x20'+'-\x20startCom'+'pression);'+'\x0a\x20\x20\x20\x20color'+'\x20*=\x20newPea'+'k\x20/\x20peak;\x0a'+'\x0a\x20\x20\x20\x20let\x20g'+'\x20=\x201.0\x20-\x201'+'.0\x20/\x20(desa'+'turation\x20*'+'\x20(peak\x20-\x20n'+'ewPeak)\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ve'+'c3f(newPea'+'k),\x20vec3f('+'g));\x0a}\x0a',GI='\x0afn\x20toneMa'+'p(color:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a}\x0a',HI='\x0a#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20SCREE'+'NSPACE\x0a\x20\x20\x20'+'\x20uniform\x20p'+'rojectionF'+'lipY:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20evalWorl'+'dPosition('+'vertexPosi'+'tion:\x20vec3'+'f,\x20modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ve'+'c4f\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20local'+'Pos:\x20vec3f'+'\x20=\x20getLoca'+'lPosition('+'vertexPosi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20outer\x20and'+'\x20inner\x20ver'+'tices\x20are\x20'+'at\x20the\x20sam'+'e\x20position'+',\x20scale\x20bo'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20local'+'PosXZ:\x20vec'+'2f\x20=\x20local'+'Pos.xz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20loca'+'lPosXZ\x20=\x20l'+'ocalPosXZ\x20'+'*\x20uniform.'+'outerScale'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20offset'+'\x20inner\x20ver'+'tices\x20insi'+'de\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20(origi'+'nal\x20vertic'+'es\x20must\x20be'+'\x20in\x20[-1;1]'+'\x20range)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'positiveUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(vertex'+'Position.x'+'z,\x20vec2f(0'+'.0),\x20vec2f'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(-verte'+'xPosition.'+'xz,\x20vec2f('+'0.0),\x20vec2'+'f(1.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20loc'+'alPosXZ\x20=\x20'+'localPosXZ'+'\x20+\x20(-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy\x20+'+'\x20negativeU'+'nitOffset\x20'+'*\x20uniform.'+'innerOffse'+'t.zw)\x20*\x20ve'+'rtex_texCo'+'ord0.xy;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'iledUvGlob'+'al\x20=\x20(loca'+'lPosXZ\x20-\x20u'+'niform.out'+'erScale\x20+\x20'+'uniform.in'+'nerOffset.'+'xy)\x20*\x20-0.5'+'\x20+\x201.0;\x20//'+'\x20uv\x20=\x20loca'+'l\x20pos\x20-\x20in'+('ner\x20corner'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPosXZ'+'\x20=\x20localPo'+'sXZ\x20*\x20-0.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20='+'\x20vec3f(loc'+'alPosXZ.x,'+'\x20localPosX'+'Z.y,\x20local'+'Pos.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20var\x20po'+'sW:\x20vec4f\x20'+'=\x20modelMat'+'rix\x20*\x20vec4'+'f(localPos'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'posW\x20=\x20vec'+'4f(posW.xy'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20posW'+';\x0a}\x0a\x0afn\x20ge'+'tPosition('+')\x20->\x20vec4f'+'\x20{\x0a\x0a\x20\x20\x20\x20dM'+'odelMatrix'+'\x20=\x20getMode'+'lMatrix();'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'posW:\x20vec4'+'f\x20=\x20evalWo'+'rldPositio'+'n(vertex_p'+'osition.xy'+'z,\x20dModelM'+'atrix);\x0a\x20\x20'+'\x20\x20dPositio'+'nW\x20=\x20posW.'+'xyz;\x0a\x0a\x20\x20\x20\x20'+'var\x20screen'+'Pos:\x20vec4f'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20UV1LAYO'+'UT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20vec4f(v'+'ertex_texC'+'oord1.xy\x20*'+'\x202.0\x20-\x201.0'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SCR'+'EENSPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20posW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20unif'+'orm.projec'+'tionFlipY;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos\x20=\x20u'+'niform.mat'+'rix_viewPr'+'ojection\x20*'+'\x20posW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20snap\x20ve'+'rtex\x20to\x20a\x20'+'pixel\x20boun'+'dary\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x200.'+'5)\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20screenPo'+'s.xy\x20*=\x20un'+'iforms.uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'niforms.uS'+'creenSize.'+'zw;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x202.0'+')\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20scr'+'eenPos;\x0a}\x0a'+'\x0afn\x20getWor'+'ldPosition'+'()\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20dPosi'+'tionW;\x0a}\x0a'),WI='\x0a\x0a\x20\x20\x20\x20attr'+'ibute\x20vert'+'ex_positio'+'n:\x20vec4f;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'rix_model:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20morph_te'+'x_params:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20attri'+'bute\x20morph'+'_vertex_id'+':\x20u32;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etTextureM'+'orphCoords'+'()\x20->\x20vec2'+'i\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'turn\x20morph'+'_vertex_id'+'\x20into\x20int\x20'+'grid\x20coord'+'inates\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'Size:\x20vec2'+'i\x20=\x20vec2i('+'uniform.mo'+'rph_tex_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphGr'+'idV:\x20i32\x20='+'\x20i32(morph'+'_vertex_id'+')\x20/\x20textur'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20morph'+'GridU:\x20i32'+'\x20=\x20i32(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'rphGridV\x20='+'\x20textureSi'+'ze.y\x20-\x20mor'+'phGridV\x20-\x20'+'1;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec2i(mo'+'rphGridU,\x20'+'morphGridV'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_PO'+'SITION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20aabbSiz'+'e:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20aabbMi'+'n:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'morphPosit'+'ionTex:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'sitionTex:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+('if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inBatchVS\x22'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fn\x20getMode'+'lMatrix()\x20'+'->\x20mat4x4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(SKIN'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etModelMat'+'rix()\x20->\x20m'+'at4x4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20un'+'iform.matr'+'ix_model\x20*'+'\x20getSkinMa'+'trix(verte'+'x_boneIndi'+'ces,\x20verte'+'x_boneWeig'+'hts);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(INSTA'+'NCING)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22tran'+'sformInsta'+'ncingVS\x22\x0a\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'n\x20getModel'+'Matrix()\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'fn\x20getLoca'+'lPosition('+'vertexPosi'+'tion:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20loc'+'alPos:\x20vec'+'3f\x20=\x20verte'+'xPosition;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphUV:'+'\x20vec2i\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MORPHI'+'NG_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Use\x20'+'textureLoa'+'d\x20instead\x20'+'of\x20texelFe'+'tch.\x20Coord'+'inates\x20mus'+'t\x20be\x20integ'+'er\x20type\x20(v'+'ec2i).\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20WGSL'+'\x20requires\x20'+'explicit\x20t'+'ype\x20conver'+'sion\x20for\x20v'+'ectors.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Div'+'ision\x20by\x20f'+'loat\x20liter')+('al\x20ensures'+'\x20floating\x20'+'point\x20divi'+'sion.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hPos:\x20vec3'+'f\x20=\x20vec3f('+'textureLoa'+'d(morphPos'+'itionTex,\x20'+'morphUV,\x200'+').xyz)\x20/\x206'+'5535.0\x20*\x20u'+'niform.aab'+'bSize\x20+\x20un'+'iform.aabb'+'Min;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Use\x20text'+'ureLoad\x20in'+'stead\x20of\x20t'+'exelFetch.'+'\x20Coordinat'+'es\x20must\x20be'+'\x20integer\x20t'+'ype\x20(vec2i'+').\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'s:\x20vec3f\x20='+'\x20textureLo'+'ad(morphPo'+'sitionTex,'+'\x20morphUV,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20+'+'=\x20morphPos'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20localP'+'os;\x0a\x20\x20\x20\x20}\x0a'),$I='\x0a\x0aattribut'+'e\x20instance'+'_line1:\x20ve'+'c4f;\x0aattri'+'bute\x20insta'+'nce_line2:'+'\x20vec4f;\x0aat'+'tribute\x20in'+'stance_lin'+'e3:\x20vec4f;'+'\x0aattribute'+'\x20instance_'+'line4:\x20vec'+'4f;\x0a\x0afn\x20ge'+'tModelMatr'+'ix()\x20->\x20ma'+'t4x4f\x20{\x0a\x20\x20'+'\x20\x20return\x20u'+'niform.mat'+'rix_model\x20'+'*\x20mat4x4f('+'instance_l'+'ine1,\x20inst'+'ance_line2'+',\x20instance'+'_line3,\x20in'+'stance_lin'+'e4);\x0a}\x0a',XI='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_refrac'+'tion:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getRefra'+'ction()\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction:\x20'+'f32\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20refractio'+'n\x20=\x20unifor'+'m.material'+'_refractio'+'n;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'REFRACTION'+'_TEXTURE\x0a\x20'+'\x20\x20\x20refract'+'ion\x20=\x20refr'+'action\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_REFRACTI'+'ON_TEXTURE'+'_NAME},\x20{S'+'TD_REFRACT'+'ION_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_REFRACTIO'+'N_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_REFRACTIO'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_VE'+'RTEX\x0a\x20\x20\x20\x20r'+'efraction\x20'+'=\x20refracti'+'on\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_REFRACTI'+'ON_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dTr'+'ansmission'+'\x20=\x20refract'+'ion;\x0a}\x0a',qI='\x0auniform\x20t'+'woSidedLig'+'htingNegSc'+'aleFactor:'+'\x20f32;\x0a\x0afn\x20'+'handleTwoS'+'idedLighti'+'ng()\x20{\x0a\x20\x20\x20'+'\x20dTBN[2]\x20='+'\x20dTBN[2]\x20*'+'\x20select(-u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20p'+'cFrontFaci'+'ng);\x0a}\x0a',jI='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20fn\x20getU'+'v0()\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20uv'+'\x20=\x20vertex_'+'position.x'+'z;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20offse'+'t\x20inner\x20ve'+'rtices\x20ins'+'ide\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2f(0'+'.0,\x200.0),\x20'+'vec2f(1.0,'+'\x201.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset\x20='+'\x20clamp(-ve'+'rtex_posit'+'ion.xz,\x20ve'+'c2f(0.0,\x200'+'.0),\x20vec2f'+'(1.0,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uv\x20=\x20uv\x20'+'+\x20((-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy)\x20'+'+\x20(negativ'+'eUnitOffse'+'t\x20*\x20unifor'+'m.innerOff'+'set.zw))\x20*'+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x20ve'+'c2f(0.5,\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20uniform'+'.atlasRect'+'.zw\x20+\x20unif'+'orm.atlasR'+'ect.xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dMa'+'skGlobal\x20='+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20uv'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20fn'+'\x20getUv0()\x20'+'->\x20vec2f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a',YI='\x0afn\x20getUv1'+'()\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20verte'+'x_texCoord'+'1;\x0a}\x0a',KI='\x0aoutput.vU'+'V{TRANSFOR'+'M_UV_{i}}_'+'{TRANSFORM'+'_ID_{i}}\x20='+'\x20vec2f(\x0a\x20\x20'+'\x20\x20dot(vec3'+'f(uv{TRANS'+'FORM_UV_{i'+'}},\x201),\x20un'+'iform.{TRA'+'NSFORM_NAM'+'E_{i}}0),\x0a'+'\x20\x20\x20\x20dot(ve'+'c3f(uv{TRA'+'NSFORM_UV_'+'{i}},\x201),\x20'+'uniform.{T'+'RANSFORM_N'+'AME_{i}}1)'+'\x0a);\x0a',ZI='\x0a\x20\x20\x20\x20unifo'+'rm\x20{TRANSF'+'ORM_NAME_{'+'i}}0:\x20vec3'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20{TRAN'+'SFORM_NAME'+'_{i}}1:\x20ve'+'c3f;\x0a',QI='\x0afn\x20getVie'+'wDir()\x20{\x0a\x20'+'\x20\x20\x20dViewDi'+'rW\x20=\x20norma'+'lize(unifo'+'rm.view_po'+'sition\x20-\x20v'+'PositionW)'+';\x0a}\x0a',JI={'alphaTestPS':Q2,'ambientPS':J2,'anisotropyPS':eM,'aoPS':tM,'aoDiffuseOccPS':sM,'aoSpecOccPS':iM,'bakeDirLmEndPS':rM,'bakeLmEndPS':aM,'basePS':nM,'baseNineSlicedPS':oM,'baseNineSlicedTiledPS':lM,'bayerPS':cM,'blurVSMPS':hM,'clearCoatPS':dM,'clearCoatGlossPS':fM,'clearCoatNormalPS':uM,'clusteredLightCookiesPS':mM,'clusteredLightShadowsPS':_M,'clusteredLightUtilsPS':pM,'clusteredLightPS':gM,'combinePS':SM,'cookieBlit2DPS':yM,'cookieBlitCubePS':vM,'cookieBlitVS':xM,'cubeMapProjectPS':TM,'cubeMapRotatePS':wM,'debugOutputPS':EM,'debugProcessFrontendPS':bM,'detailModesPS':CM,'diffusePS':PM,'decodePS':AM,'emissivePS':MM,'encodePS':DM,'endPS':IM,'envAtlasPS':LM,'envProcPS':RM,'falloffInvSquaredPS':OM,'falloffLinearPS':FM,'floatAsUintPS':NM,'fogPS':kM,'fresnelSchlickPS':UM,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':BM,'gammaPS':zM,'glossPS':VM,'gsplatCenterVS':GM,'gsplatCornerVS':QM,'gsplatColorVS':HM,'gsplatCommonVS':WM,'gsplatCompressedDataVS':$M,'gsplatCompressedSHVS':XM,'gsplatEvalSHVS':qM,'gsplatQuatToMat3VS':jM,'gsplatSogsColorVS':YM,'gsplatSogsDataVS':KM,'gsplatSogsSHVS':ZM,'gsplatDataVS':JM,'gsplatOutputVS':eD,'gsplatPS':tD,'gsplatSHVS':sD,'gsplatSourceVS':iD,'gsplatVS':rD,'quadVS':aD,'indirectCoreCS':nD,'immediateLinePS':oD,'immediateLineVS':lD,'iridescenceDiffractionPS':cD,'iridescencePS':hD,'iridescenceThicknessPS':dD,'iorPS':fD,'lightDeclarationPS':uD,'lightDiffuseLambertPS':pD,'lightDirPointPS':mD,'lightEvaluationPS':_D,'lightFunctionLightPS':gD,'lightFunctionShadowPS':SD,'lightingPS':yD,'lightmapAddPS':vD,'lightmapPS':xD,'lightSpecularAnisoGGXPS':TD,'lightSpecularBlinnPS':wD,'lightSheenPS':ED,'linearizeDepthPS':bD,'litForwardBackendPS':AD,'litForwardDeclarationPS':CD,'litForwardMainPS':PD,'litForwardPostCodePS':MD,'litForwardPreCodePS':DD,'litMainPS':ID,'litMainVS':LD,'litOtherMainPS':RD,'litShaderArgsPS':OD,'litShaderCorePS':FD,'litShadowMainPS':ND,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':kD,'metalnessPS':UD,'metalnessModulatePS':zD,'morphPS':VD,'morphVS':GD,'msdfPS':BD,'msdfVS':HD,'normalVS':WD,'normalCoreVS':$D,'normalMapPS':XD,'opacityPS':qD,'opacityDitherPS':jD,'outputPS':YD,'outputAlphaPS':KD,'outputTex2DPS':ZD,'sheenPS':QD,'sheenGlossPS':JD,'parallaxPS':eI,'pickPS':tI,'reflDirPS':sI,'reflDirAnisoPS':iI,'reflectionCCPS':rI,'reflectionCubePS':aI,'reflectionEnvHQPS':nI,'reflectionEnvPS':oI,'reflectionSpherePS':lI,'reflectionSheenPS':cI,'refractionCubePS':hI,'refractionDynamicPS':dI,'reprojectPS':fI,'reprojectVS':uI,'screenDepthPS':pI,'shadowCascadesPS':mI,'shadowEVSMPS':_I,'shadowPCF1PS':gI,'shadowPCF3PS':SI,'shadowPCF5PS':yI,'shadowSoftPS':vI,'skinBatchVS':xI,'skinVS':TI,'skyboxPS':wI,'skyboxVS':EI,'specularPS':bI,'sphericalPS':AI,'specularityFactorPS':CI,'spotPS':PI,'startNineSlicedPS':MI,'startNineSlicedTiledPS':DI,'stdDeclarationPS':II,'stdFrontEndPS':LI,'TBNPS':RI,'thicknessPS':OI,'tonemappingPS':FI,'tonemappingAcesPS':NI,'tonemappingAces2PS':kI,'tonemappingFilmicPS':UI,'tonemappingHejlPS':BI,'tonemappingLinearPS':zI,'tonemappingNeutralPS':VI,'tonemappingNonePS':GI,'transformVS':HI,'transformCoreVS':WI,'transformInstancingVS':$I,'transmissionPS':XI,'twoSidedLightingPS':qI,'uv0VS':jI,'uv1VS':YI,'uvTransformVS':KI,'uvTransformUniformsPS':ZI,'viewDirPS':QI,'webgpuPS':$y,'webgpuVS':Xy},ea=class ea extends me{constructor(_0x1219cd){super(),h(this,'_batcher',null),h(this,'_destroyRe'+'quested',!(-0xc09+0x41*0x2+0x2*0x5c4)),h(this,'_inFrameUp'+'date',!(-0x43*-0x1b+-0x475+-0x29b)),h(this,'_libraries'+'Loaded',!(-0x214b+0x1fa5*0x1+-0x9*-0x2f)),h(this,'_fillMode',Tg),h(this,'_resolutio'+'nMode',MC),h(this,'_allowResi'+'ze',!(0x2010+0x7b*0x11+-0x283b)),h(this,'_skyboxAss'+'et',null),h(this,'_soundMana'+'ger'),h(this,'_visibilit'+'yChangeHan'+'dler'),h(this,'_entityInd'+'ex',{}),h(this,'_inTools',!(0x1d79*-0x1+0x18a+0x1bf0)),h(this,'_scriptPre'+'fix',''),h(this,'_time',-0x6b*-0xe+-0x1967*0x1+0x138d),h(this,'enableBund'+'les',typeof TextDecoder<'u'),h(this,'frameReque'+'stId'),h(this,'timeScale',0xe2c+-0xd47+-0xe4),h(this,'maxDeltaTi'+'me',0x142+-0x1073*0x1+-0x1*-0xf31+0.1),h(this,'frame',0x916*0x4+-0x966*-0x1+-0x2dbe),h(this,'frameGraph',new DC()),h(this,'renderer'),h(this,'scriptsOrd'+'er',[]),h(this,'stats'),h(this,'autoRender',!(-0x58f+0x23*-0x67+0x1*0x13a4)),h(this,'renderNext'+'Frame',!(-0x445+-0x1*-0x19c7+-0x1581)),h(this,'graphicsDe'+'vice'),h(this,'root'),h(this,'scene'),h(this,'lightmappe'+'r',null),h(this,'loader',new Cn(this)),h(this,'assets'),h(this,'bundles'),h(this,'scenes',new qC(this)),h(this,'scripts',new HC(this)),h(this,'systems',new BC()),h(this,'i18n',new wa(this)),h(this,'keyboard',null),h(this,'mouse',null),h(this,'touch',null),h(this,'gamepads',null),h(this,'elementInp'+'ut',null),h(this,'xr',null),((hn==null?void(0x1f1+0x7de+-0x9cf):hn['indexOf']('$'))<-0x33c+0x1ef+0x14d&&w['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+hn+'\x20'+$S),ea['_applicati'+'ons'][_0x1219cd['id']]=this,_u(this),this['root']=new lt(),this['root']['_enabledIn'+'Hierarchy']=!(-0xb*-0xa9+-0x35*-0x8f+-0x3*0xc4a));}['init'](_0x45eec9){const {assetPrefix:_0x4fbb9b,batchManager:_0x4e0ae4,componentSystems:_0x769827,elementInput:_0x1afd57,gamepads:_0x1c4b1f,graphicsDevice:_0x6c10b9,keyboard:_0x3ba76c,lightmapper:_0x57654d,mouse:_0x5aca7c,resourceHandlers:_0x2c5387,scriptsOrder:_0x1b93d6,scriptPrefix:_0x1efa3c,soundManager:_0x20d825,touch:_0x1af1d4,xr:_0x33a3c9}=_0x45eec9;w['assert'](_0x6c10b9,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x6c10b9,Pe['get'](_0x6c10b9,Fe)['add'](Z2),Pe['get'](_0x6c10b9,it)['add'](JI),this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new jC(_0x6c10b9),this['_soundMana'+'ger']=_0x20d825,this['scene']=new Et(_0x6c10b9),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new mn(this['loader']),_0x4fbb9b&&(this['assets']['prefix']=_0x4fbb9b),this['bundles']=new UC(this['assets']),this['scriptsOrd'+'er']=_0x1b93d6||[],this['defaultLay'+'erWorld']=new Ot({'name':'World','id':er}),this['defaultLay'+'erDepth']=new Ot({'name':'Depth','id':ps,'enabled':!(0x1*-0x14b1+-0x2346+0x255*0x18),'opaqueSortMode':Yc}),this['defaultLay'+'erSkybox']=new Ot({'name':'Skybox','id':Kp,'opaqueSortMode':Yc}),this['defaultLay'+'erUi']=new Ot({'name':'UI','id':Il,'transparentSortMode':jw}),this['defaultLay'+'erImmediat'+'e']=new Ot({'name':'Immediate','id':Zp,'opaqueSortMode':Yc});const _0xe846f5=new du('default');_0xe846f5['pushOpaque'](this['defaultLay'+'erWorld']),_0xe846f5['pushOpaque'](this['defaultLay'+'erDepth']),_0xe846f5['pushOpaque'](this['defaultLay'+'erSkybox']),_0xe846f5['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0xe846f5['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0xe846f5['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0xe846f5['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0xe846f5,ia['createPlac'+'eholder'](_0x6c10b9),this['renderer']=new fl(_0x6c10b9),this['renderer']['scene']=this['scene'],_0x57654d&&(this['lightmappe'+'r']=new _0x57654d(_0x6c10b9,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0x4e0ae4&&(this['_batcher']=new _0x4e0ae4(_0x6c10b9,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x3ba76c||null,this['mouse']=_0x5aca7c||null,this['touch']=_0x1af1d4||null,this['gamepads']=_0x1c4b1f||null,_0x1afd57&&(this['elementInp'+'ut']=_0x1afd57,this['elementInp'+'ut']['app']=this),this['xr']=_0x33a3c9?new _0x33a3c9(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x1efa3c||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new VC(this)),_0x2c5387['forEach'](_0x551db5=>{const _0x17751f=new _0x551db5(this);this['loader']['addHandler'](_0x17751f['handlerTyp'+'e'],_0x17751f);}),_0x769827['forEach'](_0x59c28e=>{this['systems']['add'](new _0x59c28e(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(0xd7e+0x7c*-0x2a+0x6da)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1ced*-0x1+-0x4e9+0x9*-0x2ab))):document['mozHidden']!==void(-0xf00+-0x1*-0x16b8+-0x7b8)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x153d*0x1+0x250*0x5+0x20cc*-0x1))):document['msHidden']!==void(0x647*-0x2+0x1*0x15df+0x2d*-0x35)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x14c*0x6+0x78a+-0x3*-0x15))):document['webkitHidd'+'en']!==void(0x12f9+-0xdb7+0x2*-0x2a1)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1*-0x8f4+0x4*-0x508+0xb2d)))),this['tick']=eL(this);}static['getApplica'+'tion'](_0x4dbb33){return _0x4dbb33?ea['_applicati'+'ons'][_0x4dbb33]:Ms();}['_initDefau'+'ltMaterial'](){const _0xfc1280=new Ut();_0xfc1280['name']='Default\x20Ma'+'terial',xE(this['graphicsDe'+'vice'],_0xfc1280);}['_initProgr'+'amLibrary'](){const _0x5d3279=new qA(this['graphicsDe'+'vice'],new Ut());cE(this['graphicsDe'+'vice'],_0x5d3279);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return w['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x4407f9,_0x71a62a){ot['get'](_0x4407f9,(_0x17522a,_0x3d6155)=>{if(_0x17522a){_0x71a62a(_0x17522a);return;}const _0x6847df=_0x3d6155['applicatio'+'n_properti'+'es'],_0x2f3ad0=_0x3d6155['scenes'],_0x586920=_0x3d6155['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x6847df,_0x447792=>{this['_parseScen'+'es'](_0x2f3ad0),this['_parseAsse'+'ts'](_0x586920),_0x71a62a(_0x447792||null);});});}['preload'](_0xb3f859){this['fire']('preload:st'+'art');const _0x23b0a1=this['assets']['list']({'preload':!(0x638*-0x2+-0x4*0x3de+-0xbc*-0x26)});if(_0x23b0a1['length']===-0x10dc+-0x295*0xe+0x3502){this['fire']('preload:en'+'d'),_0xb3f859();return;}let _0x163907=-0x5*-0xc5+-0x1490+0x10b7;const _0x3d3816=()=>{_0x163907++,this['fire']('preload:pr'+'ogress',_0x163907/_0x23b0a1['length']),_0x163907===_0x23b0a1['length']&&(this['fire']('preload:en'+'d'),_0xb3f859());};_0x23b0a1['forEach'](_0xdceed8=>{_0xdceed8['loaded']?_0x3d3816():(_0xdceed8['once']('load',_0x3d3816),_0xdceed8['once']('error',_0x3d3816),this['assets']['load'](_0xdceed8));});}['_preloadSc'+'ripts'](_0xa043ad,_0x3d42d6){_0x3d42d6();}['_parseAppl'+'icationPro'+'perties'](_0x483df3,_0x1c62bb){if(typeof _0x483df3['maxAssetRe'+'tries']=='number'&&_0x483df3['maxAssetRe'+'tries']>0x26aa+-0x2610+-0x9a&&this['loader']['enableRetr'+'y'](_0x483df3['maxAssetRe'+'tries']),_0x483df3['useDeviceP'+'ixelRatio']||(_0x483df3['useDeviceP'+'ixelRatio']=_0x483df3['use_device'+'_pixel_rat'+'io']),_0x483df3['resolution'+'Mode']||(_0x483df3['resolution'+'Mode']=_0x483df3['resolution'+'_mode']),_0x483df3['fillMode']||(_0x483df3['fillMode']=_0x483df3['fill_mode']),this['_width']=_0x483df3['width'],this['_height']=_0x483df3['height'],_0x483df3['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x483df3['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x483df3['fillMode'],this['_width'],this['_height']),_0x483df3['layers']&&_0x483df3['layerOrder']){const _0xff5141=new du('applicatio'+'n'),_0x1492e8={};for(const _0x5dfaee in _0x483df3['layers']){const _0x471eac=_0x483df3['layers'][_0x5dfaee];_0x471eac['id']=parseInt(_0x5dfaee,0x2*-0x29f+0x61+0x5*0xfb),_0x471eac['enabled']=_0x471eac['id']!==ps,_0x1492e8[_0x5dfaee]=new Ot(_0x471eac);}for(let _0x33459d=0x1*-0x38b+0x6*-0x585+0x1*0x24a9,_0x4c0ff7=_0x483df3['layerOrder']['length'];_0x33459d<_0x4c0ff7;_0x33459d++){const _0x92328c=_0x483df3['layerOrder'][_0x33459d],_0x453279=_0x1492e8[_0x92328c['layer']];_0x453279&&(_0x92328c['transparen'+'t']?_0xff5141['pushTransp'+'arent'](_0x453279):_0xff5141['pushOpaque'](_0x453279),_0xff5141['subLayerEn'+'abled'][_0x33459d]=_0x92328c['enabled']);}this['scene']['layers']=_0xff5141;}if(_0x483df3['batchGroup'+'s']){const _0x547f1e=this['batcher'];if(_0x547f1e)for(let _0x70635b=-0x156d*0x1+0x2*-0x76b+0x2443,_0x3c85f2=_0x483df3['batchGroup'+'s']['length'];_0x70635b<_0x3c85f2;_0x70635b++){const _0x2c760e=_0x483df3['batchGroup'+'s'][_0x70635b];_0x547f1e['addGroup'](_0x2c760e['name'],_0x2c760e['dynamic'],_0x2c760e['maxAabbSiz'+'e'],_0x2c760e['id'],_0x2c760e['layers']);}}_0x483df3['i18nAssets']&&(this['i18n']['assets']=_0x483df3['i18nAssets']),this['_loadLibra'+'ries'](_0x483df3['libraries'],_0x1c62bb);}['_loadLibra'+'ries'](_0x1a10ab,_0x1a9d1e){const _0x40466d=_0x1a10ab['length'];let _0x284118=_0x40466d;const _0x1420ae=/^https?:\/\//;if(_0x40466d){const _0x449e1b=(_0xe0e9d7,_0x179609)=>{_0x284118--,_0xe0e9d7?_0x1a9d1e(_0xe0e9d7):_0x284118===0x9ef*-0x1+-0x1419+-0x4*-0x782&&(this['onLibrarie'+'sLoaded'](),_0x1a9d1e(null));};for(let _0x1502fd=-0x2423*0x1+-0x202c*0x1+0x25b*0x1d;_0x1502fd<_0x40466d;++_0x1502fd){let _0x47a637=_0x1a10ab[_0x1502fd];!_0x1420ae['test'](_0x47a637['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x47a637=xe['join'](this['_scriptPre'+'fix'],_0x47a637)),this['loader']['load'](_0x47a637,'script',_0x449e1b);}}else this['onLibrarie'+'sLoaded'](),_0x1a9d1e(null);}['_parseScen'+'es'](_0x38a2b2){if(_0x38a2b2){for(let _0x1fe836=-0x23cc+0x873+-0x1b59*-0x1;_0x1fe836<_0x38a2b2['length'];_0x1fe836++)this['scenes']['add'](_0x38a2b2[_0x1fe836]['name'],_0x38a2b2[_0x1fe836]['url']);}}['_parseAsse'+'ts'](_0x31c220){const _0x2dcd16=[],_0x1c3c77={},_0x5356e3={};for(let _0x348dbd=0xf3a+-0x40*-0x45+-0x207a;_0x348dbd<this['scriptsOrd'+'er']['length'];_0x348dbd++){const _0x53f468=this['scriptsOrd'+'er'][_0x348dbd];_0x31c220[_0x53f468]&&(_0x1c3c77[_0x53f468]=!(0x1048+0x1dbd*-0x1+-0x1*-0xd75),_0x2dcd16['push'](_0x31c220[_0x53f468]));}if(this['enableBund'+'les']){for(const _0x520244 in _0x31c220)_0x31c220[_0x520244]['type']==='bundle'&&(_0x5356e3[_0x520244]=!(-0xded+-0x1bbe*0x1+-0x1*-0x29ab),_0x2dcd16['push'](_0x31c220[_0x520244]));}for(const _0x345fbb in _0x31c220)_0x1c3c77[_0x345fbb]||_0x5356e3[_0x345fbb]||_0x2dcd16['push'](_0x31c220[_0x345fbb]);for(let _0x177635=0x23f5+0x1a*-0x11e+-0x6e9;_0x177635<_0x2dcd16['length'];_0x177635++){const _0x4d24f0=_0x2dcd16[_0x177635],_0x53b125=new pe(_0x4d24f0['name'],_0x4d24f0['type'],_0x4d24f0['file'],_0x4d24f0['data']);if(_0x53b125['id']=parseInt(_0x4d24f0['id'],0x15c5+0x6*-0x4cf+0x71f*0x1),_0x53b125['preload']=_0x4d24f0['preload']?_0x4d24f0['preload']:!(-0x1670+-0x2*0x45d+0x4f*0x65),_0x53b125['loaded']=_0x4d24f0['type']==='script'&&_0x4d24f0['data']&&_0x4d24f0['data']['loadingTyp'+'e']>0x808+0x1*-0x1281+0xa79,_0x53b125['tags']['add'](_0x4d24f0['tags']),_0x4d24f0['i18n']){for(const _0x35b42c in _0x4d24f0['i18n'])_0x53b125['addLocaliz'+'edAssetId'](_0x35b42c,_0x4d24f0['i18n'][_0x35b42c]);}this['assets']['add'](_0x53b125);}}['start'](){w['call'](()=>{w['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(0x105d+0x43*0x79+-0x3008);}),this['frame']=0x602+0x1c92+-0x2294,this['fire']('start',{'timestamp':de(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x3d47d4){this['controller']&&this['controller']['update'](_0x3d47d4),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x23867a){this['frame']++,this['graphicsDe'+'vice']['update'](),this['stats']['frame']['updateStar'+'t']=de(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x23867a),this['systems']['fire']('animationU'+'pdate',_0x23867a),this['systems']['fire']('postUpdate',_0x23867a),this['fire']('update',_0x23867a),this['inputUpdat'+'e'](_0x23867a),this['stats']['frame']['updateTime']=de()-this['stats']['frame']['updateStar'+'t'];}['render'](){this['updateCanv'+'asSize'](),this['graphicsDe'+'vice']['frameStart'](),this['stats']['frame']['renderStar'+'t']=de(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),fl['_skipRende'+'rCounter']=-0xa34+-0x5c5*0x6+0x2cd2,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=de()-this['stats']['frame']['renderStar'+'t'],this['graphicsDe'+'vice']['frameEnd']();}['renderComp'+'osition'](_0x1bf8f0){Q['clearGpuMa'+'rkers'](),this['renderer']['update'](_0x1bf8f0),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0x1bf8f0),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0x19eeba,_0x181031,_0x42a326){const _0x973eb9=this['stats']['frame'];_0x973eb9['dt']=_0x181031,_0x973eb9['ms']=_0x42a326,_0x19eeba>_0x973eb9['_timeToCou'+'ntFrames']?(_0x973eb9['fps']=_0x973eb9['_fpsAccum'],_0x973eb9['_fpsAccum']=0x2ed+-0x15f*0xe+0x1045,_0x973eb9['_timeToCou'+'ntFrames']=_0x19eeba+(-0x1*-0x1703+0x3b7*0x9+-0x2*0x1a45)):_0x973eb9['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=-0x1*-0x125f+0x1216+0x33*-0xb7;}['_fillFrame'+'Stats'](){let _0x25624d=this['stats']['frame'];_0x25624d['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x25624d['materials']=this['renderer']['_materialS'+'witches'],_0x25624d['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x25624d['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x25624d['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x25624d['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x25624d['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x4b51b0=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x25624d['triangles']=_0x4b51b0[js]/(0x1634+-0x19bb+0x38a)+Math['max'](_0x4b51b0[Er]-(-0x913+-0x5*0x7cf+-0x6e*-0x70),0x1ef*-0x3+0xcd3+-0x706*0x1)+Math['max'](_0x4b51b0[oa]-(-0x49d+0x25b5+0x6e*-0x4d),-0x2b*-0x1a+-0x542+0x1*0xe4),_0x25624d['cullTime']=this['renderer']['_cullTime'],_0x25624d['sortTime']=this['renderer']['_sortTime'],_0x25624d['skinTime']=this['renderer']['_skinTime'],_0x25624d['morphTime']=this['renderer']['_morphTime'],_0x25624d['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x25624d['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x25624d['otherPrimi'+'tives']=-0x1346*-0x1+0x11*0xa+-0x13f0;for(let _0xba3838=-0x2525*-0x1+-0xc58+-0x1*0x18cd;_0xba3838<_0x4b51b0['length'];_0xba3838++)_0xba3838<js&&(_0x25624d['otherPrimi'+'tives']+=_0x4b51b0[_0xba3838]),_0x4b51b0[_0xba3838]=0xa*0x1c1+0x2*0xa0f+-0x28*0xf1;this['renderer']['_camerasRe'+'ndered']=-0x597*0x1+-0xfd7+0x1*0x156e,this['renderer']['_materialS'+'witches']=-0x1738+-0xcee+0x2426,this['renderer']['_shadowMap'+'Updates']=0x46*0x12+-0x7*-0xe5+-0xb2f,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=0x12ef+0xa3*-0x28+-0x7*-0xef,this['renderer']['_cullTime']=0x10*0xb3+-0x3e1*0x1+-0x1*0x74f,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=-0x7*0xd+-0x2156+0x21b1,this['renderer']['_lightClus'+'tersTime']=-0x243d+0x253*0x8+0x11a5,this['renderer']['_sortTime']=0x2bc*0xa+0x52b+-0x2083,this['renderer']['_skinTime']=0x312+-0x7d1*-0x1+-0xae3,this['renderer']['_morphTime']=0x128d+0x3*0x9c3+-0x2fd6,this['renderer']['_shadowMap'+'Time']=-0x110c+0xa8a+0x682,this['renderer']['_depthMapT'+'ime']=0xa9b+-0x1*0x21e3+-0x4a8*-0x5,this['renderer']['_forwardTi'+'me']=-0x1*0x2701+-0x3e*-0x1d+0x1ffb,_0x25624d=this['stats']['drawCalls'],_0x25624d['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x25624d['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x25624d['depth']=-0xce*-0x23+-0x2bf*0xe+-0x178*-0x7,_0x25624d['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x25624d['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x25624d['immediate']=0x2*0x7b5+0x1819+-0x2783,_0x25624d['instanced']=-0x95e*0x2+-0x83*0x1b+0x208d,_0x25624d['removedByI'+'nstancing']=0x9*-0x106+0x8e9+-0x1*-0x4d,_0x25624d['misc']=_0x25624d['total']-(_0x25624d['forward']+_0x25624d['shadow']),this['renderer']['_depthDraw'+'Calls']=0x3*-0xa84+0x58*0x1a+0x169c,this['renderer']['_shadowDra'+'wCalls']=0x1bcb*0x1+0x17ae+-0x3379,this['renderer']['_forwardDr'+'awCalls']=0x69+-0x1e68+0x449*0x7,this['renderer']['_numDrawCa'+'llsCulled']=0x178d+0x5*-0x10d+-0x4*0x493,this['renderer']['_skinDrawC'+'alls']=0x1e1c+-0x1b04+-0x318,this['renderer']['_immediate'+'Rendered']=-0x152*-0x1d+-0x239f+-0x2ab,this['renderer']['_instanced'+'DrawCalls']=0xce*0x19+0x5*-0x1c5+-0xb45*0x1,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x25624d=this['stats']['particles'],_0x25624d['updatesPer'+'Frame']=_0x25624d['_updatesPe'+'rFrame'],_0x25624d['frameTime']=_0x25624d['_frameTime'],_0x25624d['_updatesPe'+'rFrame']=0x478+-0x23d1+0x141*0x19,_0x25624d['_frameTime']=-0x1*-0x11d5+0x2cc+-0x14a1;}['setCanvasF'+'illMode'](_0x2a1eb0,_0x2b9ee1,_0x1c3c35){this['_fillMode']=_0x2a1eb0,this['resizeCanv'+'as'](_0x2b9ee1,_0x1c3c35);}['setCanvasR'+'esolution'](_0x3140dd,_0x17af5c,_0x30161b){this['_resolutio'+'nMode']=_0x3140dd,_0x3140dd===wg&&_0x17af5c===void(-0x1*-0x2e7+-0xf19+-0xe*-0xdf)&&(_0x17af5c=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x30161b=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x17af5c,_0x30161b);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x12ac61,_0x57c830){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0x3de647=window['innerWidth'],_0xa2e572=window['innerHeigh'+'t'];if(this['_fillMode']===Tg){const _0x242159=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x5d5976=_0x3de647/_0xa2e572;_0x242159>_0x5d5976?(_0x12ac61=_0x3de647,_0x57c830=_0x12ac61/_0x242159):(_0x57c830=_0xa2e572,_0x12ac61=_0x57c830*_0x242159);}else this['_fillMode']===PC&&(_0x12ac61=_0x3de647,_0x57c830=_0xa2e572);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x12ac61+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x57c830+'px',this['updateCanv'+'asSize'](),{'width':_0x12ac61,'height':_0x57c830};}['updateCanv'+'asSize'](){var _0x159963;if(!(!this['_allowResi'+'ze']||(_0x159963=this['xr'])!=null&&_0x159963['active'])&&this['_resolutio'+'nMode']===wg){const _0x86d620=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x86d620['clientWidt'+'h'],_0x86d620['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(-0x18dd+0x2500+-0xc23),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x3b00e7){let _0x4ebf43;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x5cfff6,_0x464ecc,_0xf1ea2f]=_0x3b00e7['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x5cfff6,_0x464ecc,_0xf1ea2f);}this['scene']['applySetti'+'ngs'](_0x3b00e7),_0x3b00e7['render']['hasOwnProp'+'erty']('skybox')&&(_0x3b00e7['render']['skybox']?(_0x4ebf43=this['assets']['get'](_0x3b00e7['render']['skybox']),_0x4ebf43?this['setSkybox'](_0x4ebf43):this['assets']['once']('add:'+_0x3b00e7['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x36e801,_0x814a7e){_0x36e801&&_0x814a7e?ia['set'](this['graphicsDe'+'vice'],_0x36e801,_0x814a7e):w['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x2062ee){if(_0x2062ee!==this['_skyboxAss'+'et']){const _0x49b091=()=>{this['setSkybox'](null);},_0x5b388f=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x5b388f,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x49b091,this),this['_skyboxAss'+'et']['off']('change',_0x5b388f,this)),this['_skyboxAss'+'et']=_0x2062ee,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x5b388f,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x49b091,this),this['_skyboxAss'+'et']['on']('change',_0x5b388f,this),this['scene']['skyboxMip']===-0x231a+0x2b9+-0x133*-0x1b&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(-0x950+0x2642+-0x1ee*0xf)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x5b388f();}}['_firstBake'](){var _0xae3f63;(_0xae3f63=this['lightmappe'+'r'])==null||_0xae3f63['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x3fae08;(_0x3fae08=this['batcher'])==null||_0x3fae08['generate']();}['_processTi'+'mestamp'](_0x3605fb){return _0x3605fb;}['drawLine'](_0x372b39,_0x12aa68,_0x20366c,_0x44c4f0,_0x1295e6){this['scene']['drawLine'](_0x372b39,_0x12aa68,_0x20366c,_0x44c4f0,_0x1295e6);}['drawLines'](_0x16cf74,_0x5b8492,_0x6bc5af=!(0x1dad*-0x1+-0x87*0x16+0x1*0x2947),_0x483c45=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x16cf74,_0x5b8492,_0x6bc5af,_0x483c45);}['drawLineAr'+'rays'](_0x19c9c0,_0x9f5b9,_0xa9f19c=!(0x1bcd+0x1a93*-0x1+0x1*-0x13a),_0xeeb7ee=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x19c9c0,_0x9f5b9,_0xa9f19c,_0xeeb7ee);}['drawWireSp'+'here'](_0x403fa2,_0x1fac7a,_0x311698=ie['WHITE'],_0x4d899e=0x5*-0x6eb+0x1481+0xe2a,_0x1e41a0=!(0x6*-0x37e+0x152a+-0x36),_0x13e27a=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x403fa2,_0x1fac7a,_0x311698,_0x4d899e,_0x1e41a0,_0x13e27a);}['drawWireAl'+'ignedBox'](_0x3ebce6,_0x213a11,_0x146f04=ie['WHITE'],_0x4dcd1d=!(0x21e7+-0x1*0x24c+-0x1f9b),_0x48bb2e=this['scene']['defaultDra'+'wLayer'],_0x43bb1f){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x3ebce6,_0x213a11,_0x146f04,_0x4dcd1d,_0x48bb2e,_0x43bb1f);}['drawMeshIn'+'stance'](_0x29102a,_0x4e3530=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x29102a,_0x4e3530);}['drawMesh'](_0x49bfa6,_0x1b4592,_0x3e215c,_0x225131=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x1b4592,_0x3e215c,_0x49bfa6,null,_0x225131);}['drawQuad'](_0x270b3b,_0x3468a5,_0x264c96=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x3468a5,_0x270b3b,this['scene']['immediate']['getQuadMes'+'h'](),null,_0x264c96);}['drawTextur'+'e'](_0x317da7,_0x418107,_0x1b5ed6,_0x1f7f7b,_0x150e4b,_0x56dc2c,_0x329bcc=this['scene']['defaultDra'+'wLayer'],_0x131fe9=!(0xd26+0x174a+-0x247*0x10)){if(_0x131fe9===!(-0x1*0x1455+0x16f*-0x3+0x18a3)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x1666b3=new te();_0x1666b3['setTRS'](new D(_0x317da7,_0x418107,-0x1f34+-0x33*-0x98+0xec),le['IDENTITY'],new D(_0x1b5ed6,-_0x1f7f7b,0x198f+0xac8+-0x2457)),_0x56dc2c||(_0x56dc2c=new Xn(),_0x56dc2c['cull']=bt,_0x56dc2c['setParamet'+'er']('colorMap',_0x150e4b),_0x56dc2c['shaderDesc']=_0x131fe9?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0x150e4b['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x56dc2c['update']()),this['drawQuad'](_0x1666b3,_0x56dc2c,_0x329bcc);}['drawDepthT'+'exture'](_0x1f45d1,_0x195757,_0x427c88,_0x4f4da5,_0x2356f7=this['scene']['defaultDra'+'wLayer']){const _0x10e3a7=new Xn();_0x10e3a7['cull']=bt,_0x10e3a7['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x10e3a7['update'](),this['drawTextur'+'e'](_0x1f45d1,_0x195757,_0x427c88,_0x4f4da5,null,_0x10e3a7,_0x2356f7);}['destroy'](){var _0x5d6245,_0x447df9,_0x4b0cfa,_0xb35dd8;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(0x21c+-0xb53+-0x151*-0x7);return;}const _0x52146d=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x163*-0x11+-0xd85*0x1+0x1*-0xa0d)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x1fe3+-0xb35*-0x3+-0x4181)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x15c7+-0x72*-0x39+-0x2f28)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1850+-0x2474+0x3cc5))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0x28cf88=this['assets']['list']();for(let _0xdacde9=-0x69f*-0x5+0x22*0xc1+0x1*-0x3abd;_0xdacde9<_0x28cf88['length'];_0xdacde9++)_0x28cf88[_0xdacde9]['unload'](),_0x28cf88[_0xdacde9]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x1e2c24=this['loader']['getHandler']('script');_0x1e2c24==null||_0x1e2c24['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x5d6245=this['lightmappe'+'r'])==null||_0x5d6245['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x447df9=this['xr'])==null||_0x447df9['end'](),(_0x4b0cfa=this['xr'])==null||_0x4b0cfa['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0xb35dd8=this['_soundMana'+'ger'])==null||_0xb35dd8['destroy'](),this['_soundMana'+'ger']=null,ea['_applicati'+'ons'][_0x52146d]=null,Ms()===this&&_u(null),ea['cancelTick'](this);}static['cancelTick'](_0x43a130){_0x43a130['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x43a130['frameReque'+'stId']),_0x43a130['frameReque'+'stId']=void(0x3d7*0x5+0x41*-0x3e+-0x375));}['getEntityF'+'romIndex'](_0x19f846){return this['_entityInd'+'ex'][_0x19f846];}['_registerS'+'ceneImmedi'+'ate'](_0x523b14){this['on']('postrender',_0x523b14['immediate']['onPostRend'+'er'],_0x523b14['immediate']);}};h(ea,'_applicati'+'ons',{});let Ks=ea;const eL=function(_0x34fa91){const _0x1fffc7=_0x34fa91;return function(_0xf3470c,_0xf1e8a4){var _0x1a0ba8,_0x1ad7d7,_0x53323c,_0x32baac;if(!_0x1fffc7['graphicsDe'+'vice'])return;_0x1fffc7['frameReque'+'stId']&&((_0x1ad7d7=(_0x1a0ba8=_0x1fffc7['xr'])==null?void(-0x28*-0xd3+-0x1f8*0xc+-0x958):_0x1a0ba8['session'])==null||_0x1ad7d7['cancelAnim'+'ationFrame'](_0x1fffc7['frameReque'+'stId']),cancelAnimationFrame(_0x1fffc7['frameReque'+'stId']),_0x1fffc7['frameReque'+'stId']=null),_0x1fffc7['_inFrameUp'+'date']=!(0x13c2+-0xd*0x177+-0xb7),_u(_0x1fffc7);const _0x2fd56b=_0x1fffc7['_processTi'+'mestamp'](_0xf3470c)||de(),_0x2d2c1b=_0x2fd56b-(_0x1fffc7['_time']||_0x2fd56b);let _0x96f2c6=_0x2d2c1b/(-0x569*0x1+0x83*0x31+-0x1*0xfc2);if(_0x96f2c6=Y['clamp'](_0x96f2c6,0x25d1+0x1524+-0x3af5,_0x1fffc7['maxDeltaTi'+'me']),_0x96f2c6*=_0x1fffc7['timeScale'],_0x1fffc7['_time']=_0x2fd56b,(_0x53323c=_0x1fffc7['xr'])!=null&&_0x53323c['session']?_0x1fffc7['frameReque'+'stId']=_0x1fffc7['xr']['session']['requestAni'+'mationFram'+'e'](_0x1fffc7['tick']):_0x1fffc7['frameReque'+'stId']=Ae['browser']||Ae['worker']?requestAnimationFrame(_0x1fffc7['tick']):null,_0x1fffc7['graphicsDe'+'vice']['contextLos'+'t'])return;_0x1fffc7['_fillFrame'+'StatsBasic'](_0x2fd56b,_0x96f2c6,_0x2d2c1b),_0x1fffc7['_fillFrame'+'Stats'](),_0x1fffc7['fire']('frameupdat'+'e',_0x2d2c1b);let _0x4fa826=!(0xdff+-0x1*0x3a2+-0xa5c);_0xf1e8a4?(_0x4fa826=!((_0x32baac=_0x1fffc7['xr'])!=null&&_0x32baac['update'](_0xf1e8a4)),_0x1fffc7['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0xf1e8a4['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x1fffc7['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,!_0x4fa826&&!_0x1fffc7['stopSort']&&(w['trace'](W0,'----\x20Frame'+'\x20'+_0x1fffc7['frame']),w['trace'](Ld,'--\x20UpdateS'+'tart\x20'+de()['toFixed'](0x4b5+-0x6*-0x3f+-0x3*0x20f)+'ms'),_0x1fffc7['update'](_0x96f2c6),_0x1fffc7['fire']('framerende'+'r'),(_0x1fffc7['autoRender']||_0x1fffc7['renderNext'+'Frame'])&&(w['trace'](Ld,'--\x20RenderS'+'tart\x20'+de()['toFixed'](0x445+-0x1885+0x1442)+'ms'),_0x1fffc7['render'](),_0x1fffc7['renderNext'+'Frame']=!(-0x2442+0x2*-0x596+0x2f6f),w['trace'](Ld,'--\x20RenderE'+'nd\x20'+de()['toFixed'](0x88f+0x1b1b+0x28c*-0xe)+'ms')),_0x1fffc7['fire']('frameend')),_0x1fffc7['_inFrameUp'+'date']=!(0x1649+-0x1924+0x2dc),_0x1fffc7['_destroyRe'+'quested']&&_0x1fffc7['destroy']();};};class tL{constructor(){h(this,'elementInp'+'ut'),h(this,'keyboard'),h(this,'mouse'),h(this,'touch'),h(this,'gamepads'),h(this,'scriptPref'+'ix'),h(this,'assetPrefi'+'x'),h(this,'scriptsOrd'+'er'),h(this,'soundManag'+'er'),h(this,'graphicsDe'+'vice'),h(this,'lightmappe'+'r'),h(this,'batchManag'+'er'),h(this,'xr'),h(this,'componentS'+'ystems',[]),h(this,'resourceHa'+'ndlers',[]);}}const mo=new sp();class Uv{constructor(_0x1854ff,_0x5801cd,_0x17bb0a){this['scene']=_0x1854ff,this['light']=_0x5801cd,this['store'](),_0x5801cd['numCascade'+'s']=-0x19f9+0x13b7+0x643,this['scene']['clusteredL'+'ightingEna'+'bled']&&!_0x17bb0a['shadowsEna'+'bled']&&(_0x5801cd['castShadow'+'s']=!(-0xaf9*-0x1+-0x338+-0x3e0*0x2)),_0x5801cd['type']!==ve&&(_0x5801cd['_node']['getWorldTr'+'ansform'](),_0x5801cd['getBoundin'+'gSphere'](mo),this['lightBound'+'s']=new De(),this['lightBound'+'s']['center']['copy'](mo['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](mo['radius'],mo['radius'],mo['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x501970=this['light'];_0x501970['mask']=this['mask'],_0x501970['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x501970['enabled']=this['enabled'],_0x501970['intensity']=this['intensity'],_0x501970['_node']['setLocalRo'+'tation'](this['rotation']),_0x501970['numCascade'+'s']=this['numCascade'+'s'],_0x501970['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(-0x160d+-0x1325*-0x1+0x2e8),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x3a83a2){const _0x31a54c=this['light'];_0x31a54c['enabled']=!(-0x3*0x80f+0xdb4*-0x2+0x899*0x6),_0x31a54c['shadowMap']&&(_0x31a54c['shadowMap']['cached']&&_0x3a83a2['add'](_0x31a54c,_0x31a54c['shadowMap']),_0x31a54c['shadowMap']=null);}}const yc=new J();class sL extends Uv{constructor(_0x5e0819,_0x3017db){super(_0x5e0819['scene'],_0x3017db,_0x5e0819['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===ve?this['light']['bakeNumSam'+'ples']:0xcf1*-0x1+-0x2306+0x2ff8;}['prepareVir'+'tualLight'](_0x38672c,_0x432224){const _0x376141=this['light'];if(_0x376141['_node']['setLocalRo'+'tation'](this['rotation']),_0x38672c>-0x58*0x2+0x4b0+-0x2*0x200){const _0x518214=_0x376141['bakeArea'];Nl['circlePoin'+'tDetermini'+'stic'](yc,_0x38672c,_0x432224),yc['mulScalar'](_0x518214*(-0xb85*-0x2+-0x440+-0x12ca+0.5)),_0x376141['_node']['rotateLoca'+'l'](yc['x'],0x8a*-0x17+-0x179b+0x2401,yc['y']);}_0x376141['_node']['getWorldTr'+'ansform']();const _0x2e44c6=-0x19ab*0x1+-0x3*-0x6b+-0x824*-0x3+0.20000000000000018,_0x3e8cb9=Math['pow'](this['intensity'],_0x2e44c6);_0x376141['intensity']=Math['pow'](_0x3e8cb9/_0x432224,(-0x19c2+0xd5*-0x7+-0x2*-0xfcb)/_0x2e44c6);}}const Pg=new D();class Mg extends Uv{constructor(_0x26929c){const _0xdcf8c8=_0x26929c['scene'],_0x440258=new lt('AmbientLig'+'ht');_0x440258['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(-0x1*0x257+0xad3+-0x87c*0x1),'affectLightmapped':!(-0x2*0x20c+0x75a*-0x4+0x2181),'bake':!(0x1*-0x43b+0xaca+-0x49*0x17),'bakeNumSamples':_0xdcf8c8['ambientBak'+'eNumSample'+'s'],'castShadows':!(-0x25ba+0x1eee+0x6cc),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':$s,'color':ie['WHITE'],'intensity':0x1,'bakeDir':!(-0xe6*-0x27+-0x88*-0x13+-0x2d21)}),super(_0xdcf8c8,_0x440258['light']['light'],_0x26929c['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x353c64,_0x142014){Nl['spherePoin'+'tDetermini'+'stic'](Pg,_0x353c64,_0x142014,-0x923*0x2+0x2186+-0xf40,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](Pg['mulScalar'](-(-0x371*-0x7+0x832+-0x2048))),this['light']['_node']['rotateLoca'+'l'](0x1de7+0xdd*0x7+-0x2398,0xd29*-0x1+0x3*0x77e+-0x951,0x1d99+-0x153b+-0x85e);const _0x53e881=-0x3*-0x55+-0x3f*0x1d+0x626+0.20000000000000018,_0x3c0f0c=(0x38*0x90+-0x2f8*-0x9+0x3a36*-0x1)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x22d8a7=Math['pow'](_0x3c0f0c,_0x53e881);this['light']['intensity']=Math['pow'](_0x22d8a7/_0x142014,(0x660*0x6+-0x15d4+0x579*-0x3)/_0x53e881);}}class vc{constructor(_0x554722,_0x592095=null){this['node']=_0x554722,this['component']=_0x554722['render']||_0x554722['model'],_0x592095=_0x592095||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x592095,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const iL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0aunifor'+'m\x20sampler2'+'D\x20source;\x0a'+'uniform\x20ve'+'c2\x20pixelOf'+'fset;\x0aunif'+'orm\x20vec2\x20s'+'igmas;\x0auni'+'form\x20float'+'\x20bZnorm;\x0au'+'niform\x20flo'+'at\x20kernel['+'{MSIZE}];\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20ve'+'c4\x20pixel\x20='+'\x20texture2D'+'Lod(source'+',\x20vUv0,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20lightmap'+'\x20specific\x20'+'optimizati'+'on\x20-\x20skip\x20'+'pixels\x20tha'+'t\x20were\x20not'+'\x20baked\x0a\x20\x20\x20'+'\x20//\x20this\x20a'+'lso\x20allows'+'\x20dilate\x20fi'+'lter\x20that\x20'+'work\x20on\x20th'+'e\x20output\x20o'+'f\x20this\x20to\x20'+'work\x20corre'+'ctly,\x20as\x20i'+'t\x20depends\x20'+'on\x20.a\x20bein'+'g\x20zero\x0a\x20\x20\x20'+'\x20//\x20to\x20dil'+'ate,\x20which'+'\x20the\x20follo'+'wing\x20blur\x20'+'filter\x20wou'+'ld\x20otherwi'+'se\x20modify\x0a')+('\x20\x20\x20\x20if\x20(!i'+'sUsed(pixe'+'l))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20p'+'ixel;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20sigma\x20-'+'\x20controls\x20'+'blurriness'+'\x20based\x20on\x20'+'a\x20pixel\x20di'+'stance\x0a\x20\x20\x20'+'\x20float\x20sig'+'ma\x20=\x20sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'float\x20bSig'+'ma\x20=\x20sigma'+'s.y;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20pixel'+'Hdr\x20=\x20deco'+'de(pixel);'+'\x0a\x20\x20\x20\x20vec3\x20'+'accumulate'+'dHdr\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20float\x20ac'+'cumulatedF'+'actor\x20=\x200.'+'000001;\x20\x20/'+'/\x20avoid\x20di'+'vision\x20by\x20'+'zero\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20ou'+'t\x20the\x20texe'+'ls\x0a\x20\x20\x20\x20con'+'st\x20int\x20kSi'+'ze\x20=\x20({MSI'+'ZE}\x20-\x201)\x20/'+'\x202;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x20-kSize;\x20i'+'\x20<=\x20kSize;'+'\x20++i)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20j\x20=\x20-'+'kSize;\x20j\x20<'+'=\x20kSize;\x20+'+'+j)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sample'+'\x20the\x20pixel'+'\x20with\x20offs'+'et\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'coord\x20=\x20vU'+'v0\x20+\x20vec2('+'float(i),\x20'+'float(j))\x20'+'*\x20pixelOff'+'set;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20pix\x20=\x20te'+'xture2DLod'+'(source,\x20c'+'oord,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x20-\x20o'+'nly\x20use\x20ba'+'ked\x20pixels'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isU'+'sed(pix))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20hdr\x20=\x20d'+'ecode(pix)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20bilatera'+'l\x20factors\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20factor\x20='+'\x20kernel[kS'+'ize\x20+\x20j]\x20*'+'\x20kernel[kS')+('ize\x20+\x20i];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fact'+'or\x20*=\x20norm'+'pdf3(hdr\x20-'+'\x20pixelHdr,'+'\x20bSigma)\x20*'+'\x20bZnorm;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ccumulate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20accu'+'mulatedHdr'+'\x20+=\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20+=\x20facto'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20finalHD'+'R\x20=\x20accumu'+'latedHdr\x20/'+'\x20accumulat'+'edFactor;\x0a'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(finalHDR,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'encodeRGBM'+'(finalHDR)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a'),rL='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',aL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afn'+'\x20normpdf3('+'v:\x20vec3f,\x20'+'sigma:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x200.39894\x20'+'*\x20exp(-0.5'+'\x20*\x20dot(v,\x20'+'v)\x20/\x20(sigm'+'a\x20*\x20sigma)'+')\x20/\x20sigma;'+'\x0a}\x0a\x0afn\x20dec'+'odeRGBM(rg'+'bm:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20(8'+'.0\x20*\x20rgbm.'+'a)\x20*\x20rgbm.'+'rgb;\x0a\x20\x20\x20\x20r'+'eturn\x20colo'+'r\x20*\x20color;'+'\x0a}\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeRGBM'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'var\x20encode'+'d:\x20vec4f;\x0a'+'\x20\x20\x20\x20let\x20rg'+'b_processe'+('d\x20=\x20pow(co'+'lor.rgb,\x20v'+'ec3f(0.5))'+'\x20*\x20(1.0\x20/\x20'+'8.0);\x0a\x20\x20\x20\x20'+'encoded\x20=\x20'+'vec4f(rgb_'+'processed,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20let\x20max_'+'g_b\x20=\x20max('+'\x20encoded.g'+',\x20max(\x20enc'+'oded.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20);\x0a\x20\x20\x20\x20l'+'et\x20max_rgb'+'\x20=\x20max(\x20en'+'coded.r,\x20m'+'ax_g_b\x20);\x0a'+'\x20\x20\x20\x20encode'+'d.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20enco'+'ded.a\x20=\x20ce'+'il(encoded'+'.a\x20*\x20255.0'+')\x20/\x20255.0;'+'\x0a\x0a\x20\x20\x20\x20enco'+'ded\x20=\x20vec4'+'f(encoded.'+'rgb\x20/\x20enco'+'ded.a,\x20enc'+'oded.a);\x0a\x20'+'\x20\x20\x20return\x20'+'encoded;\x0a}'+'\x0a\x0afn\x20decod'+'e(pixel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20pixel.'+'rgb;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'decodeRGBM'+'(pixel);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a\x0afn\x20isUs'+'ed(pixel:\x20'+'vec4f)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0ava'+'r\x20source:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20sourceSam'+'pler:\x20samp'+'ler;\x0aunifo'+'rm\x20kernel:'+'\x20array<f32'+',\x20{MSIZE}>'+';\x0auniform\x20'+'pixelOffse'+'t:\x20vec2f;\x0a'+'uniform\x20si'+'gmas:\x20vec2'+'f;\x0auniform'+'\x20bZnorm:\x20f'+'32;\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20pixel\x20'+'=\x20textureS'+'ampleLevel'+'(source,\x20s'+'ourceSampl'+'er,\x20input.')+('vUv0,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'lightmap\x20s'+'pecific\x20op'+'timization'+'\x20-\x20skip\x20pi'+'xels\x20that\x20'+'were\x20not\x20b'+'aked\x0a\x20\x20\x20\x20/'+'/\x20this\x20als'+'o\x20allows\x20d'+'ilate\x20filt'+'er\x20that\x20wo'+'rk\x20on\x20the\x20'+'output\x20of\x20'+'this\x20to\x20wo'+'rk\x20correct'+'ly,\x20as\x20it\x20'+'depends\x20on'+'\x20.a\x20being\x20'+'zero\x0a\x20\x20\x20\x20/'+'/\x20to\x20dilat'+'e,\x20which\x20t'+'he\x20followi'+'ng\x20blur\x20fi'+'lter\x20would'+'\x20otherwise'+'\x20modify\x0a\x20\x20'+'\x20\x20if\x20(!isU'+'sed(pixel)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20pix'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20range\x20sig'+'ma\x20-\x20contr'+'ols\x20blurri'+'ness\x20based'+'\x20on\x20a\x20pixe'+'l\x20distance'+'\x0a\x20\x20\x20\x20let\x20s'+'igma\x20=\x20uni'+'form.sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'let\x20bSigma'+'\x20=\x20uniform'+'.sigmas.y;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'pixelHdr\x20='+'\x20decode(pi'+'xel);\x0a\x20\x20\x20\x20'+'var\x20accumu'+'latedHdr\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20var'+'\x20accumulat'+'edFactor\x20='+'\x200.000001;'+'\x20\x20//\x20avoid'+'\x20division\x20'+'by\x20zero\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20out\x20the\x20t'+'exels\x0a\x20\x20\x20\x20'+'const\x20kSiz'+'e\x20=\x20({MSIZ'+'E}\x20-\x201)\x20/\x20'+'2;\x0a\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x20-kSiz'+'e;\x20i\x20<=\x20kS'+'ize;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(var\x20j:\x20i3'+'2\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20j\x20=\x20j\x20'+'+\x201)\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20pixel\x20'+'with\x20offse'+'t\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20co'+'ord\x20=\x20inpu'+'t.vUv0\x20+\x20v'+'ec2f(f32(i')+('),\x20f32(j))'+'\x20*\x20uniform'+'.pixelOffs'+'et;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'pix\x20=\x20text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20co'+'ord,\x200.0);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x20-\x20on'+'ly\x20use\x20bak'+'ed\x20pixels\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isUs'+'ed(pix))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20hdr\x20=\x20dec'+'ode(pix);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'bilateral\x20'+'factors\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20fa'+'ctor\x20=\x20uni'+'form.kerne'+'l[u32(kSiz'+'e\x20+\x20j)].el'+'ement\x20*\x20un'+'iform.kern'+'el[u32(kSi'+'ze\x20+\x20i)].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20factor'+'\x20=\x20factor\x20'+'*\x20normpdf3'+'(hdr\x20-\x20pix'+'elHdr,\x20bSi'+'gma)\x20*\x20uni'+'form.bZnor'+'m;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20accumul'+'ate\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'accumulate'+'dHdr\x20=\x20acc'+'umulatedHd'+'r\x20+\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20=\x20accumu'+'latedFacto'+'r\x20+\x20factor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20let'+'\x20finalHDR\x20'+'=\x20accumula'+'tedHdr\x20/\x20a'+'ccumulated'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20#if\x20HDR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalHDR,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20e'+'ncodeRGBM('+'finalHDR);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),nL='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0avar\x20so'+'urce:\x20text'+'ure_2d<f32'+'>;\x0avar\x20sou'+'rceSampler'+':\x20sampler;'+'\x0auniform\x20p'+'ixelOffset'+':\x20vec2f;\x0a\x0a'+'fn\x20isUsed('+'pixel:\x20vec'+'4f)\x20->\x20boo'+'l\x20{\x0a\x20\x20\x20\x20#i'+'fdef\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0a@fr'+'agment\x0afn\x20'+'fragmentMa'+'in(input:\x20'+'FragmentIn'+'put)\x20->\x20Fr'+'agmentOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20c:\x20vec4'+'f\x20=\x20textur'+'eSampleLev'+'el(source,'+'\x20sourceSam'+'pler,\x20inpu'+'t.vUv0,\x200.'+'0);\x0a\x20\x20\x20\x20c\x20'+'=\x20select(t'+'extureSamp'+'leLevel(so'+'urce,\x20sour'+'ceSampler,'+'\x20input.vUv'+'0\x20-\x20unifor'+'m.pixelOff'+'set,\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20-un'+'iform.pixe'+'lOffset.y)'+',\x200.0),\x20c,'+'\x20isUsed(c)'+');\x0a\x20\x20\x20\x20c\x20='+'\x20select(te'+'xtureSampl'+'eLevel(sou'+'rce,\x20sourc'+'eSampler,\x20'+'input.vUv0'+'\x20+\x20vec2f(u'+'niform.pix'+'elOffset.x'+',\x20-uniform'+'.pixelOffs'+'et.y),\x200.0'+'),\x20c,\x20isUs'+'ed(c));\x0a\x20\x20'+'\x20\x20c\x20=\x20sele'+'ct(texture'+'SampleLeve'+'l(source,\x20'+'sourceSamp'+'ler,\x20input'+'.vUv0\x20+\x20ve'+'c2f(-unifo'+'rm.pixelOf'+'fset.x,\x200.'+'0),\x200.0),\x20'+'c,\x20isUsed('+'c));\x0a\x20\x20\x20\x20c'+'\x20=\x20select('+'textureSam'+'pleLevel(s'+'ource,\x20sou'+'rceSampler'+',\x20input.vU'+'v0\x20+\x20vec2f'+'(uniform.p'+('ixelOffset'+'.x,\x200.0),\x20'+'0.0),\x20c,\x20i'+'sUsed(c));'+'\x0a\x20\x20\x20\x20c\x20=\x20s'+'elect(text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20in'+'put.vUv0\x20+'+'\x20vec2f(-un'+'iform.pixe'+'lOffset.x,'+'\x20uniform.p'+'ixelOffset'+'.y),\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20uni'+'form.pixel'+'Offset.y),'+'\x200.0),\x20c,\x20'+'isUsed(c))'+';\x0a\x20\x20\x20\x20c\x20=\x20'+'select(tex'+'tureSample'+'Level(sour'+'ce,\x20source'+'Sampler,\x20i'+'nput.vUv0\x20'+'+\x20uniform.'+'pixelOffse'+'t,\x200.0),\x20c'+',\x20isUsed(c'+'));\x0a\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20FragmentO'+'utput;\x0a\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20c;\x0a\x20'+'\x20\x20\x20return\x20'+'output;\x0a}\x0a'),Dg=-0x59a*-0x4+-0x368+0x175*-0xd,oL={'glslBilateralDeNoisePS':iL,'glslDilatePS':rL},lL={'wgslBilateralDeNoisePS':aL,'wgslDilatePS':nL};class cL{constructor(_0x2d2aed){h(this,'shaderDila'+'te',[]),h(this,'shaderDeno'+'ise',[]),(this['device']=_0x2d2aed,Pe['get'](this['device'],Fe)['add'](oL),Pe['get'](this['device'],it)['add'](lL),this['constantTe'+'xSource']=_0x2d2aed['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0x2d2aed['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(0x6cf*-0x4+-0x34a*-0x4+0x2*0x70b),this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null);}['setSourceT'+'exture'](_0x50c4d1){this['constantTe'+'xSource']['setValue'](_0x50c4d1);}['prepare'](_0x4ca6c9,_0x388aa4){this['pixelOffse'+'t'][-0x97b+0x2041+-0x48e*0x5]=(-0x8*0x205+0x314*-0x5+0x1f8d)/_0x4ca6c9,this['pixelOffse'+'t'][-0x1d6f+-0x1bd+0x1f2d]=(0x1473+0x17*0xc1+-0x25c9*0x1)/_0x388aa4,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x3cbe1d,_0x3e1ec8,_0x462738){const _0x2fe6a0=_0x462738?0x1*0xacd+-0x2e+-0xa9f:-0x31f+0x1017+-0xcf7;if(!this['shaderDeno'+'ise'][_0x2fe6a0]){const _0x654ab8=new Map();_0x654ab8['set']('{MSIZE}',-0x21b4+-0x1*-0x18a7+0x91c),_0x462738&&_0x654ab8['set']('HDR',''),this['shaderDeno'+'ise'][_0x2fe6a0]=$t['createShad'+'er'](this['device'],{'uniqueName':'lmBilatera'+'lDeNoise-'+(_0x462738?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('glslBilate'+'ralDeNoise'+'PS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('wgslBilate'+'ralDeNoise'+'PS'),'fragmentDefines':_0x654ab8}),this['sigmas']=new Float32Array(-0x1315+-0x13a7+0x26be),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][0xa7*-0x6+0x2*0x1b2+0x86]=_0x3cbe1d,this['sigmas'][0x1*-0x1e7f+0x1*-0x87+0x1f07]=_0x3e1ec8,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x3cbe1d,_0x3e1ec8);}['getDenoise'](_0xcac6d4){const _0x540da1=_0xcac6d4?0xeed*-0x2+0xe90+-0x13*-0xce:0x2190+-0x279+-0x1f16;return this['shaderDeno'+'ise'][_0x540da1];}['getDilate'](_0x34d259,_0x16ea68){const _0x1ab664=_0x16ea68?0x1*0x60e+0x13e*-0x2+0x1c9*-0x2:-0x1*-0x9f1+-0x770*0x2+0x4f0;if(!this['shaderDila'+'te'][_0x1ab664]){const _0x34bb61=_0x16ea68?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x1ab664]=$t['createShad'+'er'](_0x34d259,{'uniqueName':'lmDilate-'+(_0x16ea68?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':_0x34bb61+Pe['get'](this['device'],Fe)['get']('glslDilate'+'PS'),'fragmentWGSL':_0x34bb61+Pe['get'](this['device'],it)['get']('wgslDilate'+'PS')});}return this['shaderDila'+'te'][_0x1ab664];}['evaluateDe'+'noiseUnifo'+'rms'](_0x367824,_0x3b1f2a){function _0x557a3b(_0x5c78d5,_0x50b58c){return(-0x77f*0x1+-0x3b*0x51+0x1a2a+0.39894)*Math['exp'](-(-0x4*0x6e+0xe72*0x1+-0x6*0x21f+0.5)*_0x5c78d5*_0x5c78d5/(_0x50b58c*_0x50b58c))/_0x50b58c;}this['kernel']=this['kernel']||new Float32Array(Dg);const _0xed72ac=this['kernel'],_0x5ad163=Math['floor']((Dg-(0x1d56+0x1a66+-0x37bb))/(0x1a0b+0x10a6+-0x31*0xdf));for(let _0x41bc0e=0x1*0x44a+-0x2*-0xfee+0x52a*-0x7;_0x41bc0e<=_0x5ad163;++_0x41bc0e){const _0x10e9e9=_0x557a3b(_0x41bc0e,_0x367824);_0xed72ac[_0x5ad163+_0x41bc0e]=_0x10e9e9,_0xed72ac[_0x5ad163-_0x41bc0e]=_0x10e9e9;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x36e512=(0x71d+-0x1f4d+0x1831)/_0x557a3b(0xfd9+-0xe6b+0x6*-0x3d,_0x3b1f2a);this['bZnorm']['setValue'](_0x36e512);}}class hL extends ys{constructor(_0x1731a7,_0x32563f,_0x2b9c31,_0x16e8d4,_0x2f6c8f,_0x1ee790){super(_0x1731a7),h(this,'viewBindGr'+'oups',[]),(this['renderer']=_0x32563f,this['camera']=_0x2b9c31,this['worldClust'+'ers']=_0x16e8d4,this['receivers']=_0x2f6c8f,this['lightArray']=_0x1ee790);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x7a43d1=>{_0x7a43d1['defaultUni'+'formBuffer']['destroy'](),_0x7a43d1['destroy']();}),this['viewBindGr'+'oups']['length']=0x232a+-0x1ac8+-0x862;}['execute'](){const _0x2742ef=this['device'];Q['pushGpuMar'+'ker'](_0x2742ef,'Lightmappe'+'r');const {renderer:_0x56db1b,camera:_0x15103b,receivers:_0x223ace,renderTarget:_0x3b9d60,worldClusters:_0x4fa10d,lightArray:_0x1564af}=this;_0x56db1b['renderForw'+'ardLayer'](_0x15103b,_0x3b9d60,null,void(-0x1707+-0x12bb+0x29c2*0x1),Aa,this['viewBindGr'+'oups'],{'meshInstances':_0x223ace,'splitLights':_0x1564af,'lightClusters':_0x4fa10d}),Q['popGpuMark'+'er'](_0x2742ef);}}const dL=-0x1e68+-0x1a70+0x40d8,fL=-0x2*0x101d+0x5*-0x9e+0x2350,uL=0x1*-0xfc3+0x3b*-0x88+0x10c*0x2d,xc=new D();class pL{constructor(_0x406ebc,_0x1c472e,_0x5061f4,_0xe21b86,_0x5e1c75){this['device']=_0x406ebc,this['root']=_0x1c472e,this['scene']=_0x5061f4,this['renderer']=_0xe21b86,this['assets']=_0x5e1c75,this['shadowMapC'+'ache']=_0xe21b86['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(0x14c9+-0x1ef+-0x12d9),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new ie(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x3022fd;zi['decRef'](this['blackTex']),this['blackTex']=null,zi['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x3022fd=this['camera'])==null||_0x3022fd['destroy'](),this['camera']=null;}['initBake'](_0xd3ca45){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Ne,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(0x12a*0x7+0x14*-0xe3+0x996*0x1),this['lightmapFi'+'lters']=new cL(_0xd3ca45),this['constantBa'+'keDir']=_0xd3ca45['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new _e(this['device'],{'width':0x4,'height':0x4,'format':Ne,'type':Zi,'name':'lightmapBl'+'ack'}),zi['incRef'](this['blackTex']);const _0x3813aa=new Fl();_0x3813aa['clearColor']['set'](0x2ad+-0x569*-0x1+-0x816,0x17*0x16f+-0x1db0*-0x1+-0x3ea9,-0x1ed7+-0x1e2c+0x1*0x3d03,-0xf17*0x1+0x1*0x20ab+-0x1194),_0x3813aa['clearColor'+'Buffer']=!(0x107f+0x1*-0x191b+-0x2*-0x44e),_0x3813aa['clearDepth'+'Buffer']=!(-0x1bbf+0x868+0x1358),_0x3813aa['clearStenc'+'ilBuffer']=!(0x1911+0xe09+-0x2719),_0x3813aa['frustumCul'+'ling']=!(0xb6d*0x1+0x64c+-0x2*0x8dc),_0x3813aa['projection']=En,_0x3813aa['aspectRati'+'o']=-0x1fed+0x6f4+0x18fa,_0x3813aa['node']=new Ie(),this['camera']=_0x3813aa,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=Ll,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=sm;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x4ea0f7=new Mv(_0xd3ca45['supportsAr'+'eaLights'],_0xd3ca45['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x4ea0f7;const _0x1a5058=this['scene']['lighting'];_0x4ea0f7['shadowsEna'+'bled']=_0x1a5058['shadowsEna'+'bled'],_0x4ea0f7['shadowAtla'+'sResolutio'+'n']=_0x1a5058['shadowAtla'+'sResolutio'+'n'],_0x4ea0f7['cookiesEna'+'bled']=_0x1a5058['cookiesEna'+'bled'],_0x4ea0f7['cookieAtla'+'sResolutio'+'n']=_0x1a5058['cookieAtla'+'sResolutio'+'n'],_0x4ea0f7['areaLights'+'Enabled']=_0x1a5058['areaLights'+'Enabled'],_0x4ea0f7['cells']=new D(0x2420+-0xcca+0x355*-0x7,0xc55+-0x3d*0xa3+-0x1*-0x1a85,0xddc+-0x17a9*0x1+-0x13a*-0x8),_0x4ea0f7['maxLightsP'+'erCell']=-0x376*0x6+0x12b9+-0x1f*-0x11,this['worldClust'+'ers']=new cu(_0xd3ca45),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x207c63){this['materials']=[];function _0x46e3f8(_0x8ca173){zi['decRef'](_0x8ca173['colorBuffe'+'r']),_0x8ca173['destroy']();}this['renderTarg'+'ets']['forEach'](_0x44d052=>{_0x46e3f8(_0x44d052);}),this['renderTarg'+'ets']['clear'](),_0x207c63['forEach'](_0x5a39ee=>{_0x5a39ee['renderTarg'+'ets']['forEach'](_0x2f3733=>{_0x46e3f8(_0x2f3733);}),_0x5a39ee['renderTarg'+'ets']['length']=-0x248d+0x9be+0x1acf;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0x303adb,_0x3bc18c,_0x38a459){const _0x407cde=new Ut();return _0x407cde['name']='lmMaterial'+'-pass:'+_0x3bc18c+'-ambient:'+_0x38a459,_0x407cde['setDefine']('UV1LAYOUT',''),_0x407cde['setDefine']('LIT_LIGHTM'+'AP_BAKING',''),_0x3bc18c===fL?(_0x407cde['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'COLOR',''),_0x38a459?_0x407cde['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'ADD_AMBIEN'+'T',''):_0x407cde['ambient']=new ie(0xe1*-0xf+0x1b2e*0x1+0x1*-0xdff,-0x1*-0x23ad+0x2552+-0x48ff,0x1b*0x7b+-0x83*-0x30+-0x1*0x2589),this['bakeHDR']||_0x407cde['setDefine']('LIGHTMAP_R'+'GBM',''),_0x407cde['lightMap']=this['blackTex']):(_0x407cde['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'DIR',''),_0x407cde['setDefine']('STD_LIGHTM'+'AP_DIR','')),_0x407cde['cull']=bt,_0x407cde['forceUv1']=!(0x141*-0xf+-0x5ab+0x187a),_0x407cde['update'](),_0x407cde;}['createMate'+'rials'](_0x3d1f7b,_0x34d781,_0x32e5b8){for(let _0x368d5c=0xb*-0x125+-0x1*0x22db+0x17b9*0x2;_0x368d5c<_0x32e5b8;_0x368d5c++)this['passMateri'+'als'][_0x368d5c]||(this['passMateri'+'als'][_0x368d5c]=this['createMate'+'rialForPas'+'s'](_0x34d781,_0x368d5c,!(0x5*0x5b5+0x4ff*-0x2+-0x128a)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x34d781,-0xd46+0x8a5*0x1+-0x3*-0x18b,!(-0x35e+-0x23e+0x59c)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x4989e2){return _0x4989e2['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x804+-0x10b1*0x1+-0x4f1*-0x5),_0x4989e2['litOptions']['separateAm'+'bient']=!(0x1ff1+-0xfc*-0x5+-0x24dd),_0x4989e2;});}['createText'+'ure'](_0x139ae6,_0x442689){return new _e(this['device'],{'profilerHint':vy,'width':_0x139ae6,'height':_0x139ae6,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(0x109d*-0x2+0x49e*-0x5+0x455*0xd),'type':this['bakeHDR']?Ds:Zi,'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0x442689});}['collectMod'+'els'](_0x539494,_0xe3d687,_0x2ca18d){var _0x545b9,_0x16d6be,_0x299321;if(!_0x539494['enabled'])return;let _0x2bbf29;if((_0x545b9=_0x539494['model'])!=null&&_0x545b9['model']&&((_0x16d6be=_0x539494['model'])!=null&&_0x16d6be['enabled'])&&(_0x2ca18d&&_0x2ca18d['push'](new vc(_0x539494)),_0x539494['model']['lightmappe'+'d']&&_0xe3d687&&(_0x2bbf29=_0x539494['model']['model']['meshInstan'+'ces'])),(_0x299321=_0x539494['render'])!=null&&_0x299321['enabled']&&(_0x2ca18d&&_0x2ca18d['push'](new vc(_0x539494)),_0x539494['render']['lightmappe'+'d']&&_0xe3d687&&(_0x2bbf29=_0x539494['render']['meshInstan'+'ces'])),_0x2bbf29){let _0x170a7a=!(0x1dff+-0x1*-0x20bd+-0x3ebc);for(let _0xe081ac=0xbae+0x25a1+-0x314f;_0xe081ac<_0x2bbf29['length'];_0xe081ac++)if(!_0x2bbf29[_0xe081ac]['mesh']['vertexBuff'+'er']['format']['hasUv1']){w['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x539494['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x170a7a=!(-0x13ae+0xb3+0x12*0x10e);break;}if(_0x170a7a){const _0x9884a4=[];for(let _0x3e6429=0xc0+0x1*0x1b2f+-0x1bef;_0x3e6429<_0x2bbf29['length'];_0x3e6429++){const _0x263043=_0x2bbf29[_0x3e6429]['mesh'];this['_tempSet']['has'](_0x263043)?_0xe3d687['push'](new vc(_0x539494,[_0x2bbf29[_0x3e6429]])):_0x9884a4['push'](_0x2bbf29[_0x3e6429]),this['_tempSet']['add'](_0x263043);}this['_tempSet']['clear'](),_0x9884a4['length']>-0x206b*0x1+0x3*0x228+-0x5b*-0x49&&_0xe3d687['push'](new vc(_0x539494,_0x9884a4));}}for(let _0x5a5b71=0x2f*0x3b+0x1*0x1ca+-0xc9f;_0x5a5b71<_0x539494['_children']['length'];_0x5a5b71++)this['collectMod'+'els'](_0x539494['_children'][_0x5a5b71],_0xe3d687,_0x2ca18d);}['prepareSha'+'dowCasters'](_0x3f0df7){const _0x59cf18=[];for(let _0x457cc4=-0x1c37+0x1f1d+0x35*-0xe;_0x457cc4<_0x3f0df7['length'];_0x457cc4++){const _0x381b80=_0x3f0df7[_0x457cc4]['component'];if(_0x381b80['castShadow'+'s']=_0x381b80['castShadow'+'sLightmap'],_0x381b80['castShadow'+'sLightmap']){const _0x3c1583=_0x3f0df7[_0x457cc4]['meshInstan'+'ces'];for(let _0x5b207f=-0xa4*-0x2c+-0x2115+0x1*0x4e5;_0x5b207f<_0x3c1583['length'];_0x5b207f++)_0x3c1583[_0x5b207f]['visibleThi'+'sFrame']=!(-0x15*-0x161+-0x10*0x1ea+0x1ab),_0x59cf18['push'](_0x3c1583[_0x5b207f]);}}return _0x59cf18;}['updateTran'+'sforms'](_0x261afe){for(let _0x3e0531=-0x6e0+0x142c+-0xd4c;_0x3e0531<_0x261afe['length'];_0x3e0531++){const _0xd54e81=_0x261afe[_0x3e0531]['meshInstan'+'ces'];for(let _0xfac956=-0xeb5+0x125*-0x21+0x347a;_0xfac956<_0xd54e81['length'];_0xfac956++)_0xd54e81[_0xfac956]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0xb0fc39){let _0x2e5d43;const _0x5e9201=this['scene']['lightmapSi'+'zeMultipli'+'er']||0x1d24+0x672+-0x2386*0x1,_0x37d70c=xc;let _0x2d993e,_0x768d63;_0xb0fc39['model']?(_0x768d63=_0xb0fc39['model']['lightmapSi'+'zeMultipli'+'er'],_0xb0fc39['model']['asset']?(_0x2e5d43=this['assets']['get'](_0xb0fc39['model']['asset'])['data'],_0x2e5d43['area']&&(_0x2d993e=_0x2e5d43['area'])):_0xb0fc39['model']['_area']&&(_0x2e5d43=_0xb0fc39['model'],_0x2e5d43['_area']&&(_0x2d993e=_0x2e5d43['_area']))):_0xb0fc39['render']&&(_0x768d63=_0xb0fc39['render']['lightmapSi'+'zeMultipli'+'er'],_0xb0fc39['render']['type']!=='asset'&&_0xb0fc39['render']['_area']&&(_0x2e5d43=_0xb0fc39['render'],_0x2e5d43['_area']&&(_0x2d993e=_0x2e5d43['_area'])));const _0xdfbe98={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x2d993e&&(_0xdfbe98['x']=_0x2d993e['x'],_0xdfbe98['y']=_0x2d993e['y'],_0xdfbe98['z']=_0x2d993e['z'],_0xdfbe98['uv']=_0x2d993e['uv']);const _0x18ee8b=_0x768d63||-0x1961+0xa7*0x7+0x1*0x14d1;_0xdfbe98['x']*=_0x18ee8b,_0xdfbe98['y']*=_0x18ee8b,_0xdfbe98['z']*=_0x18ee8b;const _0x53f733=_0xb0fc39['render']||_0xb0fc39['model'],_0x112d2d=this['computeNod'+'eBounds'](_0x53f733['meshInstan'+'ces']);_0x37d70c['copy'](_0x112d2d['halfExtent'+'s']);let _0x5afdd1=_0xdfbe98['x']*_0x37d70c['y']*_0x37d70c['z']+_0xdfbe98['y']*_0x37d70c['x']*_0x37d70c['z']+_0xdfbe98['z']*_0x37d70c['x']*_0x37d70c['y'];return _0x5afdd1/=_0xdfbe98['uv'],_0x5afdd1=Math['sqrt'](_0x5afdd1),Math['min'](Y['nextPowerO'+'fTwo'](_0x5afdd1*_0x5e9201),this['scene']['lightmapMa'+'xResolutio'+'n']||dL);}['setLightma'+'pping'](_0x35ca21,_0x348215,_0x17f717,_0x382c10){for(let _0xfabe3f=0x1a9*-0x7+-0xc5*0x14+0x1b03;_0xfabe3f<_0x35ca21['length'];_0xfabe3f++){const _0x3d51f4=_0x35ca21[_0xfabe3f],_0x152dee=_0x3d51f4['meshInstan'+'ces'];for(let _0x5ee97f=-0x152d+-0x3*0x7c3+0x65a*0x7;_0x5ee97f<_0x152dee['length'];_0x5ee97f++){const _0x3870ba=_0x152dee[_0x5ee97f];if(_0x3870ba['setLightma'+'pped'](_0x348215),_0x348215){_0x382c10&&(_0x3870ba['_shaderDef'+'s']|=_0x382c10),_0x3870ba['mask']=di;for(let _0x302420=-0x5*-0x1a8+0x1*-0xc7a+0x166*0x3;_0x302420<_0x17f717;_0x302420++){const _0x30e188=_0x3d51f4['renderTarg'+'ets'][_0x302420]['colorBuffe'+'r'];_0x30e188['minFilter']=vt,_0x30e188['magFilter']=vt,_0x3870ba['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0x302420],_0x30e188);}}}}}['bake'](_0xe701a4,_0x5d34f0=jc){const _0x11f97d=this['device'],_0x512cfa=de();this['scene']['_updateSky'+'Mesh'](),_0x11f97d['fire']('lightmappe'+'r:start',{'timestamp':_0x512cfa,'target':this}),this['stats']['renderPass'+'es']=0x12af+-0x1*0x23a7+0x87c*0x2,this['stats']['shadowMapT'+'ime']=-0xa2f+0xa76+-0x47,this['stats']['forwardTim'+'e']=0xa93+0x8*0x404+-0x2ab3;const _0x2ebb2f=_0x11f97d['_shaderSta'+'ts']['linked'],_0x4c5d80=_0x11f97d['_renderTar'+'getCreatio'+'nTime'],_0x49a0db=_0x11f97d['_shaderSta'+'ts']['compileTim'+'e'],_0x5b43cd=[],_0x3c185b=[];if(_0xe701a4){for(let _0x578ab9=0x2e*0x51+-0x1c*0x158+0x1*0x1712;_0x578ab9<_0xe701a4['length'];_0x578ab9++)this['collectMod'+'els'](_0xe701a4[_0x578ab9],_0x5b43cd,null);this['collectMod'+'els'](this['root'],null,_0x3c185b);}else this['collectMod'+'els'](this['root'],_0x5b43cd,_0x3c185b);if(Q['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x5b43cd['length']>0x60c*0x3+-0x87*-0x47+-0x3795){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0x573aac=_0x5d34f0===jc?-0xdfb+-0x1d*-0x89+0x31*-0x8:-0x2eb+-0x1*-0x18fd+-0x1611;this['setLightma'+'pping'](_0x5b43cd,!(0x1ca1+-0x257c*-0x1+-0x421c*0x1),_0x573aac),this['initBake'](_0x11f97d),this['bakeIntern'+'al'](_0x573aac,_0x5b43cd,_0x3c185b);let _0x38224e=ou;_0x5d34f0===jc&&(_0x38224e|=uv),this['scene']['ambientBak'+'e']&&(_0x38224e|=pv),this['setLightma'+'pping'](_0x5b43cd,!(0x790+0x2*0xf5b+0x2e*-0xd5),_0x573aac,_0x38224e),this['finishBake'](_0x5b43cd);}Q['popGpuMark'+'er'](this['device']);const _0x4b209e=de();this['stats']['totalRende'+'rTime']=_0x4b209e-_0x512cfa,this['stats']['shadersLin'+'ked']=_0x11f97d['_shaderSta'+'ts']['linked']-_0x2ebb2f,this['stats']['compileTim'+'e']=_0x11f97d['_shaderSta'+'ts']['compileTim'+'e']-_0x49a0db,this['stats']['fboTime']=_0x11f97d['_renderTar'+'getCreatio'+'nTime']-_0x4c5d80,this['stats']['lightmapCo'+'unt']=_0x5b43cd['length'],_0x11f97d['fire']('lightmappe'+'r:end',{'timestamp':_0x4b209e,'target':this});}['allocateTe'+'xtures'](_0x4cbe05,_0x45494d){for(let _0x3b9d76=0x22a1+0x342*0x7+-0xd*0x46b;_0x3b9d76<_0x4cbe05['length'];_0x3b9d76++){const _0x59b41a=_0x4cbe05[_0x3b9d76],_0x1e520c=this['calculateL'+'ightmapSiz'+'e'](_0x59b41a['node']);for(let _0x206a95=0x9e+-0x1605+-0x1567*-0x1;_0x206a95<_0x45494d;_0x206a95++){const _0x42811e=this['createText'+'ure'](_0x1e520c,'lightmappe'+'r_lightmap'+'_'+_0x3b9d76);zi['incRef'](_0x42811e),_0x59b41a['renderTarg'+'ets'][_0x206a95]=new gt({'colorBuffer':_0x42811e,'depth':!(0x1345+-0x204a+0x1*0xd06)});}if(!this['renderTarg'+'ets']['has'](_0x1e520c)){const _0x536793=this['createText'+'ure'](_0x1e520c,'lightmappe'+'r_temp_lig'+'htmap_'+_0x1e520c);zi['incRef'](_0x536793),this['renderTarg'+'ets']['set'](_0x1e520c,new gt({'colorBuffer':_0x536793,'depth':!(0x2268+-0x6fd+-0x1b6a)}));}}}['prepareLig'+'htsToBake'](_0x3f3be4,_0x56d675){if(this['scene']['ambientBak'+'e']){const _0x38ad65=new Mg(this);_0x56d675['push'](_0x38ad65);}const _0x4d9c70=this['renderer']['lights'];for(let _0x31a14f=0x2e*-0x86+-0x1d*0x8f+0x2847;_0x31a14f<_0x4d9c70['length'];_0x31a14f++){const _0x7df85f=_0x4d9c70[_0x31a14f],_0x26cf3d=new sL(this,_0x7df85f);_0x3f3be4['push'](_0x26cf3d),_0x7df85f['enabled']&&(_0x7df85f['mask']&fi)!==-0x2570+-0x21f1+0x4761&&(_0x7df85f['mask']=fi|di|Ss,_0x7df85f['shadowUpda'+'teMode']=_0x7df85f['type']===ve?lm:xr,_0x56d675['push'](_0x26cf3d));}_0x56d675['sort']();}['restoreLig'+'hts'](_0x59c9df){for(let _0x40b572=-0x1a3*-0x2+0x29*-0xf1+-0x2353*-0x1;_0x40b572<_0x59c9df['length'];_0x40b572++)_0x59c9df[_0x40b572]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](0xdb4*0x2+-0x3b*-0x93+0x3d49*-0x1,0x6ed+0x15c0+-0x1cad,0x1c2+0x175f+-0x1921),this['renderer']['setSceneCo'+'nstants'](),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Contrast')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Contrast']),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Brightness')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Brightness']);}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0x205c81){const _0x170c02=new De();if(_0x205c81['length']>0x1*-0x10bf+0xa35+0x68a){_0x170c02['copy'](_0x205c81[-0x2232+-0x2*0xa60+0xd*0x43a]['aabb']);for(let _0x1498bb=0xfbd+0xde7+0x1da3*-0x1;_0x1498bb<_0x205c81['length'];_0x1498bb++)_0x170c02['add'](_0x205c81[_0x1498bb]['aabb']);}return _0x170c02;}['computeNod'+'esBounds'](_0x266256){for(let _0x4d327d=0x9ad+-0xc0+-0x8ed*0x1;_0x4d327d<_0x266256['length'];_0x4d327d++){const _0x4d6948=_0x266256[_0x4d327d]['meshInstan'+'ces'];_0x266256[_0x4d327d]['bounds']=this['computeNod'+'eBounds'](_0x4d6948);}}['computeBou'+'nds'](_0x176081){const _0x34ea08=new De();for(let _0x1db1a1=0x215b+-0x279*-0xf+-0x8e*0x7f;_0x1db1a1<_0x176081['length'];_0x1db1a1++){_0x34ea08['copy'](_0x176081[0x5*-0x25f+-0x1d5f+0x3*0xdbe]['aabb']);for(let _0x5b43c1=0x1*-0x24d7+0x82b*0x1+0x1cad*0x1;_0x5b43c1<_0x176081['length'];_0x5b43c1++)_0x34ea08['add'](_0x176081[_0x5b43c1]['aabb']);}return _0x34ea08;}['backupMate'+'rials'](_0x5b68c1){for(let _0x5f5885=-0x1*-0x1807+-0xae*-0x1f+-0x2d19;_0x5f5885<_0x5b68c1['length'];_0x5f5885++)this['materials'][_0x5f5885]=_0x5b68c1[_0x5f5885]['material'];}['restoreMat'+'erials'](_0x3ec2d9){for(let _0x2aa13e=-0x3*-0x33+-0x1c*0x13c+0xeb*0x25;_0x2aa13e<_0x3ec2d9['length'];_0x2aa13e++)_0x3ec2d9[_0x2aa13e]['material']=this['materials'][_0x2aa13e];}['lightCamer'+'aPrepare'](_0x13724d,_0x528697){const _0x3609af=_0x528697['light'];let _0x290cba;return _0x3609af['type']===Ze&&(_0x290cba=_0x3609af['getRenderD'+'ata'](null,0x1726+-0x1398+-0x38e)['shadowCame'+'ra'],_0x290cba['_node']['setPositio'+'n'](_0x3609af['_node']['getPositio'+'n']()),_0x290cba['_node']['setRotatio'+'n'](_0x3609af['_node']['getRotatio'+'n']()),_0x290cba['_node']['rotateLoca'+'l'](-(0x1*0x260a+0x5*0x3ab+0x3807*-0x1),0x93c+0x20a1+-0x29dd,-0x10f3*-0x1+-0x49*-0x67+-0x2e52*0x1),_0x290cba['projection']=ni,_0x290cba['nearClip']=_0x3609af['attenuatio'+'nEnd']/(-0xea3*-0x1+-0x6*-0xa1+-0xe81),_0x290cba['farClip']=_0x3609af['attenuatio'+'nEnd'],_0x290cba['aspectRati'+'o']=-0xbb7*-0x2+-0x1e96+0x729,_0x290cba['fov']=_0x3609af['_outerCone'+'Angle']*(0x1a17*0x1+-0x946+-0x10cf),this['renderer']['updateCame'+'raFrustum'](_0x290cba)),_0x290cba;}['lightCamer'+'aPrepareAn'+'dCull'](_0x3e7152,_0xa11fae,_0x4fd1c5,_0x46c968){const _0x164120=_0x3e7152['light'];let _0x29e12c=!(-0x3*0x21e+0xcff+0x6a5*-0x1);if(_0x164120['type']===ve){xc['copy'](_0x46c968['center']),xc['y']+=_0x46c968['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n'](xc),this['camera']['node']['setEulerAn'+'gles'](-(0x1a46+0xaa9*0x1+0x751*-0x5),-0x1285+-0xb*0x251+0x2c00,-0x913+-0x1a86+0xd*0x2bd),this['camera']['nearClip']=0x15f1+-0x2*-0x11d7+-0x399f,this['camera']['farClip']=_0x46c968['halfExtent'+'s']['y']*(0x111d+-0x66*0x1a+-0x6bf);const _0x24650c=Math['max'](_0x46c968['halfExtent'+'s']['x'],_0x46c968['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0x24650c;}else _0x3e7152['lightBound'+'s']['intersects'](_0xa11fae['bounds'])||(_0x29e12c=!(0x393+-0xa*0xc6+0x2*0x215));if(_0x164120['type']===Ze){let _0xda6fe6=!(0x2509+0x132f+0x3*-0x12bd);const _0x2ecc44=_0xa11fae['meshInstan'+'ces'];for(let _0x25ecc7=-0x2*0x4f+0xd21+-0x1*0xc83;_0x25ecc7<_0x2ecc44['length'];_0x25ecc7++)if(_0x2ecc44[_0x25ecc7]['_isVisible'](_0x4fd1c5)){_0xda6fe6=!(-0x159*0xb+0x1b86+0xcb3*-0x1);break;}_0xda6fe6||(_0x29e12c=!(0x2*-0x887+0x2*0x12aa+-0x1445));}return _0x29e12c;}['setupLight'+'Array'](_0x1d3caa,_0x1823ff){_0x1d3caa[ve]['length']=-0xaf4+-0x9b4*0x4+0x31c4,_0x1d3caa[Ke]['length']=0x18d9*0x1+-0xba1*-0x3+-0x3bbc,_0x1d3caa[Ze]['length']=-0x261e+0x22b8+0x1e*0x1d,_0x1d3caa[_0x1823ff['type']][0x149c+-0x14c2+0x26]=_0x1823ff,_0x1823ff['visibleThi'+'sFrame']=!(-0x1*-0x75e+-0x1*0x1ab5+-0x1357*-0x1);}['renderShad'+'owMap'](_0xe44b41,_0x31992c,_0x3f3994,_0x1f2982){const _0x29e090=_0x1f2982['light'],_0x239837=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x436c2b=_0x29e090['castShadow'+'s']&&(!_0x239837||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x31992c&&_0x436c2b){if(!_0x29e090['shadowMap']&&!_0x239837&&(_0x29e090['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x29e090)),_0x29e090['type']===ve){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x29e090,_0xe44b41,this['camera'],_0x3f3994);const _0x2a7b7e=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x29e090,this['camera']);_0x2a7b7e==null||_0x2a7b7e['render']();}else{if(this['device']['isWebGPU'])return w['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(-0xce5*0x3+0x1efc+-0x7b3*-0x1);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x29e090,_0xe44b41,_0x3f3994),this['renderer']['shadowRend'+'erer']['render'](_0x29e090,this['camera'],!(-0x553*0x7+0x6ed+0x1e59));}}return!(0x36d+0x1df2+-0x215f);}['postproces'+'sTextures'](_0x27e9d7,_0x448c25,_0x1d5f29){const _0x163220=this['lightmapFi'+'lters']['getDilate'](_0x27e9d7,this['bakeHDR']);let _0x17728e;const _0x5ad3ae=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x5ad3ae&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x17728e=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x27e9d7['setBlendSt'+'ate'](pt['NOBLEND']),_0x27e9d7['setDepthSt'+'ate'](Yt['NODEPTH']),_0x27e9d7['setStencil'+'State'](null,null);for(let _0x14b36d=0x699+-0x209+-0x490;_0x14b36d<_0x448c25['length'];_0x14b36d++){const _0x2bc8e1=_0x448c25[_0x14b36d];Q['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x14b36d);for(let _0x4bf567=0x1*-0xab2+-0x1051*-0x1+-0x59f;_0x4bf567<_0x1d5f29;_0x4bf567++){const _0x21b539=_0x2bc8e1['renderTarg'+'ets'][_0x4bf567],_0x50b4ec=_0x21b539['colorBuffe'+'r'],_0x267410=this['renderTarg'+'ets']['get'](_0x50b4ec['width']),_0x1467d9=_0x267410['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x50b4ec['width'],_0x50b4ec['height']);for(let _0x24d1a4=-0x26*0x20+0x9*-0x193+0x12eb*0x1;_0x24d1a4<-0x7*0x163+0x13fc+-0xa46*0x1;_0x24d1a4++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x50b4ec),Ar(_0x27e9d7,_0x267410,_0x5ad3ae&&_0x4bf567===-0x996*0x2+0x17*0x16f+-0xdcd&&_0x24d1a4===0x1898+-0x1*-0x19f6+0x3*-0x10da?_0x17728e:_0x163220),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x1467d9),Ar(_0x27e9d7,_0x21b539,_0x163220);}Q['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x21845d,_0xdeab78,_0x2e6e4e){const _0x366473=this['scene'],_0x2bcc17=_0x366473['layers'],_0x5906ae=this['device'],_0x265d42=_0x366473['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x5906ae,_0x366473,_0x21845d),this['setupScene'](),_0x2bcc17['_update'](),this['computeNod'+'esBounds'](_0xdeab78),this['allocateTe'+'xtures'](_0xdeab78,_0x21845d),this['renderer']['collectLig'+'hts'](_0x2bcc17);const _0x3026c8=[],_0x448bee=[];this['prepareLig'+'htsToBake'](_0x3026c8,_0x448bee),this['updateTran'+'sforms'](_0x2e6e4e);const _0x273b82=this['prepareSha'+'dowCasters'](_0x2e6e4e);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x273b82),this['renderer']['gpuUpdate'](_0x273b82);const _0x61c640=this['computeBou'+'nds'](_0x273b82);let _0x217fab,_0x148f08,_0xe526dc,_0x4a2033;for(_0x217fab=0x1*-0x1a63+0xc0*-0x1d+0x3023;_0x217fab<_0xdeab78['length'];_0x217fab++)for(_0xe526dc=_0xdeab78[_0x217fab]['meshInstan'+'ces'],_0x148f08=-0x1*-0x2539+-0x2d*-0xa7+-0x4294;_0x148f08<_0xe526dc['length'];_0x148f08++)_0x4a2033=_0xe526dc[_0x148f08],_0x4a2033['setLightma'+'pped'](!(0xe*-0x20a+-0xca*-0x1a+0x809)),_0x4a2033['mask']=fi,_0x4a2033['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][-0x26f6+-0x1d19+0x440f],this['blackTex']),_0x4a2033['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][0x31*-0x32+0x1f*-0x4f+0x1324],this['blackTex']);for(_0x148f08=-0x5*0x55d+0x1081+0x21*0x50;_0x148f08<_0x448bee['length'];_0x148f08++)_0x448bee[_0x148f08]['light']['enabled']=!(0x1*0x161a+-0x1655+0x3c);const _0x40efe3=[[],[],[]];let _0x53f7c6,_0x3de724,_0x449a54=!(0xd3f*-0x1+0xb*-0x127+0x19ed);for(_0x217fab=-0x1e04+0x51*-0x2f+0x1*0x2ce3;_0x217fab<_0x448bee['length'];_0x217fab++){const _0x539cb1=_0x448bee[_0x217fab],_0x4821d5=_0x539cb1 instanceof Mg,_0x5a32fa=_0x539cb1['light']['type']===ve;let _0x32038e=_0x539cb1['numVirtual'+'Lights'];_0x21845d>-0x4c*-0x3c+0x7b7+-0x1986&&_0x32038e>0x37*-0x6d+-0x3ad+0x7*0x3df&&_0x539cb1['light']['bakeDir']&&(_0x32038e=0x251b+-0x559*-0x3+-0x3525,w['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0x2df8d9=-0xf12+0xbae*-0x3+-0x190e*-0x2;_0x2df8d9<_0x32038e;_0x2df8d9++){Q['pushGpuMar'+'ker'](_0x5906ae,'Light:'+_0x539cb1['light']['_node']['name']+':'+_0x2df8d9),_0x32038e>0x212*0x7+0x199e+-0x1*0x281b&&_0x539cb1['prepareVir'+'tualLight'](_0x2df8d9,_0x32038e),_0x539cb1['startBake']();let _0x47105b=!(-0x26b0+-0x18cf+0x3f80);const _0x11fbff=this['lightCamer'+'aPrepare'](_0x5906ae,_0x539cb1);for(_0x3de724=-0x20cb+-0x2dc*0x7+-0x1*-0x34cf;_0x3de724<_0xdeab78['length'];_0x3de724++){const _0x500f95=_0xdeab78[_0x3de724];if(_0xe526dc=_0x500f95['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x539cb1,_0x500f95,_0x11fbff,_0x61c640))continue;this['setupLight'+'Array'](_0x40efe3,_0x539cb1['light']);const _0x32500c=_0x5a32fa?[]:[_0x539cb1['light']];for(_0x265d42&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x32500c,this['lightingPa'+'rams']),_0x47105b=this['renderShad'+'owMap'](_0x2bcc17,_0x47105b,_0x273b82,_0x539cb1),_0x265d42&&this['worldClust'+'ers']['update'](_0x32500c,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0xe526dc),_0x53f7c6=-0x1dc7+0xe9*0x6+0x1851;_0x53f7c6<_0x21845d&&!(_0x53f7c6>0x1f66*-0x1+-0x105*-0xe+0x1120&&_0x2df8d9>-0xddc+0x7e*-0xa+0x12c8||_0x4821d5&&_0x53f7c6>0x1*0x26b+-0x12eb+0x1080);_0x53f7c6++){Q['pushGpuMar'+'ker'](_0x5906ae,'LMPass:'+_0x53f7c6);const _0x8f50e6=_0x500f95['renderTarg'+'ets'][_0x53f7c6],_0x3fc49e=_0x500f95['renderTarg'+'ets'][_0x53f7c6]['colorBuffe'+'r']['width'],_0x5f14af=this['renderTarg'+'ets']['get'](_0x3fc49e),_0x1cc9f8=_0x5f14af['colorBuffe'+'r'];_0x53f7c6===0x1701+0x345+-0x13*0x162?_0x449a54=_0x366473['updateShad'+'ers']:_0x449a54&&(_0x366473['updateShad'+'ers']=!(0x44f*-0x3+-0x2117+0x2e04));let _0x43cddd=this['passMateri'+'als'][_0x53f7c6];for(_0x4821d5&&_0x2df8d9+(-0x1a6d+0x346*-0x5+-0xab3*-0x4)===_0x32038e&&_0x53f7c6===0xf*0x1bd+-0xb*0x1ab+-0x7ba*0x1&&(_0x43cddd=this['ambientAOM'+'aterial']),_0x148f08=-0x2233+0x320*-0x1+0x69*0x5b;_0x148f08<_0xe526dc['length'];_0x148f08++)_0xe526dc[_0x148f08]['material']=_0x43cddd;if(this['renderer']['updateShad'+'ers'](_0xe526dc),_0x53f7c6===uL&&this['constantBa'+'keDir']['setValue'](_0x539cb1['light']['bakeDir']?-0xb10+-0xb*-0x56+0x75f:-0x589+-0x265d+0x2be6),_0x5906ae['isWebGPU']){const _0x3d031b=new hL(_0x5906ae,this['renderer'],this['camera'],_0x265d42?this['worldClust'+'ers']:null,_0xe526dc,_0x40efe3);_0x3d031b['init'](_0x5f14af),_0x3d031b['render'](),_0x3d031b['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x5f14af,!(0xc03*0x2+0x4e7*-0x1+0x5*-0x3d3)),_0x265d42&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=0x203*0x13+-0x2*0x60e+0x539*-0x5,this['renderer']['_shadowMap'+'Time']=0x8*-0x449+-0x16b1+0x5*0xb65,this['renderer']['renderForw'+'ard'](this['camera'],_0x5f14af,_0xe526dc,_0x40efe3,Aa),_0x5906ae['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x500f95['renderTarg'+'ets'][_0x53f7c6]=_0x5f14af,this['renderTarg'+'ets']['set'](_0x3fc49e,_0x8f50e6),_0x148f08=0x1cda+-0x1888+-0x452;_0x148f08<_0xe526dc['length'];_0x148f08++)_0x4a2033=_0xe526dc[_0x148f08],_0x4a2033['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0x53f7c6],_0x1cc9f8),_0x4a2033['_shaderDef'+'s']|=ou;Q['popGpuMark'+'er'](_0x5906ae);}this['restoreMat'+'erials'](_0xe526dc);}_0x539cb1['endBake'](this['shadowMapC'+'ache']),Q['popGpuMark'+'er'](_0x5906ae);}}for(this['postproces'+'sTextures'](_0x5906ae,_0xdeab78,_0x21845d),_0x3de724=-0x15ed+-0x1*-0x96a+0xc83;_0x3de724<_0x2e6e4e['length'];_0x3de724++)_0x2e6e4e[_0x3de724]['restore']();this['restoreLig'+'hts'](_0x3026c8),this['restoreSce'+'ne'](),_0x265d42||this['shadowMapC'+'ache']['clear']();}}const Wh=class Wh extends me{constructor(_0x24fc4d,_0x22bd27){super(),h(this,'system'),h(this,'entity'),(this['system']=_0x24fc4d,this['entity']=_0x22bd27,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x83801f,_0x3d0025,_0x29a619){this['fire']('set_'+_0x83801f,_0x83801f,_0x3d0025,_0x29a619);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0xebdddb,_0x439825){_0x439825['forEach'](_0xb04431=>{const _0x2261a7=typeof _0xb04431=='object'?_0xb04431['name']:_0xb04431;Object['defineProp'+'erty'](_0xebdddb,_0x2261a7,{'get':function(){return this['data'][_0x2261a7];},'set':function(_0x301871){const _0x29de32=this['data'],_0x2dbe18=_0x29de32[_0x2261a7];_0x29de32[_0x2261a7]=_0x301871,this['fire']('set',_0x2261a7,_0x2dbe18,_0x301871);},'configurable':!(0x15*0x1c3+0x990+0x1d*-0x19b)});}),_0xebdddb['_accessors'+'Built']=!(0x1e71+-0x1e*-0xa3+0xb*-0x481);}['buildAcces'+'sors'](_0xd00ff){Wh['_buildAcce'+'ssors'](this,_0xd00ff);}['onSetEnabl'+'ed'](_0x202467,_0x3cec46,_0x3b4798){_0x3cec46!==_0x3b4798&&this['entity']['enabled']&&(_0x3b4798?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x1fc84f=this['system']['store'][this['entity']['getGuid']()];return _0x1fc84f?_0x1fc84f['data']:null;}set['enabled'](_0x21453e){}get['enabled'](){return!(-0x1ee+0xed6+-0xce8);}};h(Wh,'order',-0xb3e+0x1795*0x1+-0xd*0xf3);let we=Wh;class ct extends me{constructor(_0x35f6df){super(),this['app']=_0x35f6df,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x32169c,_0x20ac54={}){const _0x1d31b2=new this['ComponentT'+'ype'](this,_0x32169c),_0x3cf798=new this['DataType']();return this['store'][_0x32169c['getGuid']()]={'entity':_0x32169c,'data':_0x3cf798},_0x32169c[this['id']]=_0x1d31b2,_0x32169c['c'][this['id']]=_0x1d31b2,this['initialize'+'ComponentD'+'ata'](_0x1d31b2,_0x20ac54,[]),this['fire']('add',_0x32169c,_0x1d31b2),_0x1d31b2;}['removeComp'+'onent'](_0x57ac06){const _0xdb38f0=this['id'],_0x3106f6=this['store'][_0x57ac06['getGuid']()],_0x509e06=_0x57ac06['c'][_0xdb38f0];_0x509e06['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x57ac06,_0x509e06),delete this['store'][_0x57ac06['getGuid']()],_0x57ac06[_0xdb38f0]=void(0xb17*-0x3+0x1d07+0x43e),delete _0x57ac06['c'][_0xdb38f0],this['fire']('remove',_0x57ac06,_0x3106f6['data']);}['cloneCompo'+'nent'](_0x3bb31a,_0xc204fe){const _0x3a3756=this['store'][_0x3bb31a['getGuid']()];return this['addCompone'+'nt'](_0xc204fe,_0x3a3756['data']);}['initialize'+'ComponentD'+'ata'](_0x4c0b3c,_0x3443cb={},_0x5713e9){for(let _0x53aa0=0x8ca+0x1*-0x1835+0xf6b,_0x17b48f=_0x5713e9['length'];_0x53aa0<_0x17b48f;_0x53aa0++){const _0x351c49=_0x5713e9[_0x53aa0];let _0x57d821,_0x1ea4df;typeof _0x351c49=='object'?(_0x57d821=_0x351c49['name'],_0x1ea4df=_0x351c49['type']):(_0x57d821=_0x351c49,_0x1ea4df=void(0x1546+-0x95*0x29+0x297));let _0x36fe76=_0x3443cb[_0x57d821];_0x36fe76!==void(-0x1f3a*-0x1+0x107*-0x1b+0x2f*-0x13)?(_0x1ea4df!==void(-0x965*0x1+-0x3*-0x5a8+-0x793)&&(_0x36fe76=mL(_0x36fe76,_0x1ea4df)),_0x4c0b3c[_0x57d821]=_0x36fe76):_0x4c0b3c[_0x57d821]=_0x4c0b3c['data'][_0x57d821];}_0x4c0b3c['enabled']&&_0x4c0b3c['entity']['enabled']&&_0x4c0b3c['onEnable']();}['getPropert'+'iesOfType'](_0x262bd9){const _0x19ac48=[];return(this['schema']||[])['forEach'](_0x46c339=>{_0x46c339&&typeof _0x46c339=='object'&&_0x46c339['type']===_0x262bd9&&_0x19ac48['push'](_0x46c339);}),_0x19ac48;}['destroy'](){this['off']();}}function mL(_0x1c9cd6,_0x1a5321){if(!_0x1c9cd6)return _0x1c9cd6;switch(_0x1a5321){case'rgb':return _0x1c9cd6 instanceof ie?_0x1c9cd6['clone']():new ie(_0x1c9cd6[0xbe3*0x1+0x207a+-0x2c5d],_0x1c9cd6[-0x1*-0x1dd3+0xe33+-0x2c05*0x1],_0x1c9cd6[0x236c+-0x13f3+-0xf77]);case'rgba':return _0x1c9cd6 instanceof ie?_0x1c9cd6['clone']():new ie(_0x1c9cd6[-0x1ebe*0x1+-0x7f*0x13+-0x5b*-0x71],_0x1c9cd6[0x4*-0x346+-0x26f2+-0x1*-0x340b],_0x1c9cd6[0x19*-0x19+-0x113+0x386],_0x1c9cd6[0x1*0x4b3+-0x24d6+0x2026]);case'vec2':return _0x1c9cd6 instanceof J?_0x1c9cd6['clone']():new J(_0x1c9cd6[-0x23f3*0x1+-0x1397+0x1bc5*0x2],_0x1c9cd6[0x1d26+0x1*0x2705+-0x442a]);case'vec3':return _0x1c9cd6 instanceof D?_0x1c9cd6['clone']():new D(_0x1c9cd6[-0x1ef7+-0x2d*-0xa3+0x8*0x4a],_0x1c9cd6[0x8b3*0x4+0x35a+-0x9b*0x3f],_0x1c9cd6[-0x629*-0x1+-0x2a*0x9c+0x1371]);case'vec4':return _0x1c9cd6 instanceof re?_0x1c9cd6['clone']():new re(_0x1c9cd6[-0x23ee+0xc29*0x1+0x17c5*0x1],_0x1c9cd6[-0x58*-0x17+0x4*-0x769+-0x9f*-0x23],_0x1c9cd6[0x2599+0x3*0x3d+-0x1*0x264e],_0x1c9cd6[-0x1f51+-0x1*0x24a2+0x1*0x43f6]);case'boolean':case'number':case'string':return _0x1c9cd6;case'entity':return _0x1c9cd6;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x1a5321);}}const Bv=0x4f9*0x6+-0x267a+-0x452*-0x2,Su=-0x2212+-0x1389+0x359c,yu=-0x12f7+-0xd1f*0x2+0x2d37;class _L{constructor(){this['_left']=(0x51*-0x71+0x12ff+0x10c3)/(0x1*-0xddb+-0x1f3*-0xd+-0xb7c),this['_right']=-(-0x7a*-0x18+0x23ec+-0x2f5b)/(-0x47*0x76+0xf4f*0x2+0x21c),this['_len']=-0xbf+-0x5a5+0x664,this['_recip']=-0xa0b+-0x79*0x9+0x4*0x393,this['_p0']=0x5*0x434+0xece*0x2+0x6c*-0x78,this['_p1']=0x4b6+0x2001*-0x1+0x1b4b,this['_t']=-0x23b*-0x2+-0x1d2*-0x2+0x1*-0x81a,this['_hermite']={'valid':!(-0xb*-0x1d+0x2353+0x2491*-0x1),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x205101,_0x9e8925){if(_0x205101<this['_left']||_0x205101>=this['_right']){const _0x584942=_0x9e8925['length'];if(!_0x584942)this['_left']=-(-0x1c*-0x53+-0x1d60+-0x144d*-0x1)/(0x20*0x67+-0x6b6*0x3+0x742),this['_right']=(0x18b4+0x869*0x1+-0x211c)/(0xd66+-0x12db+-0x575*-0x1),this['_len']=0x52*-0x17+-0x15f1+0x1d4f,this['_recip']=-0x1*-0x45d+-0x19*-0x6+0x4f3*-0x1,this['_p0']=this['_p1']=0x4ca*0x2+0x6d7+-0x106b;else{if(_0x205101<_0x9e8925[0x7*0x10a+0x12d8+-0x1a1e*0x1])this['_left']=-(0x96a+0x1b94+-0x24fd)/(-0x1200+0x1*0x12f0+0x1e*-0x8),this['_right']=_0x9e8925[-0x39d+0x1f*0xb7+0x4*-0x4a3],this['_len']=-0x1*0x1215+0x13*0x164+-0x857,this['_recip']=0x15*-0x1c1+-0x2558+0x4a2d,this['_p0']=this['_p1']=0x1a*0xa4+0x3*-0x9bd+0x283*0x5;else{if(_0x205101>=_0x9e8925[_0x584942-(-0x2*-0x15+-0x3*0x72f+0x1564)])this['_left']=_0x9e8925[_0x584942-(0x2*-0x6d+-0x40f+-0x11*-0x4a)],this['_right']=(0x5a4+0x1014+-0x15b7)/(-0x19e0+0x1f*-0x113+0x3b2d),this['_len']=-0x10*-0x190+-0x905*-0x4+-0x3d14,this['_recip']=-0x1*0x23e5+-0x507+0x28ec,this['_p0']=this['_p1']=_0x584942-(-0x1*-0x25b1+-0x6*-0x5e3+-0x4902);else{const _0x145bf0=this['_findKey'](_0x205101,_0x9e8925);this['_left']=_0x9e8925[_0x145bf0],this['_right']=_0x9e8925[_0x145bf0+(-0x2d9+0xbd5+-0x8fb)],this['_len']=this['_right']-this['_left'];const _0xf28873=(-0xfc7+0x214c+-0x1184)/this['_len'];this['_recip']=isFinite(_0xf28873)?_0xf28873:-0x20c3*-0x1+-0x1*-0x743+-0x2f*0xda,this['_p0']=_0x145bf0,this['_p1']=_0x145bf0+(-0x1f39+-0x286*0x1+0x21c0);}}}}this['_t']=this['_recip']===-0x24b*-0x6+0x197*-0x16+0x1538?-0x877+0x15d*0x2+0x71*0xd:(_0x205101-this['_left'])*this['_recip'],this['_hermite']['valid']=!(-0xc*-0x199+0x104*-0x1a+-0x6d*-0x11);}['_findKey'](_0x340923,_0x326788){let _0x4755ce=-0x72a+-0xf*-0x12d+0x1*-0xa79;for(;_0x340923>=_0x326788[_0x4755ce+(-0x1f62+-0x1a*-0x10b+0x445)];)_0x4755ce++;return _0x4755ce;}['eval'](_0x17ff40,_0x3b8528,_0x3c8378){const _0x4c5f00=_0x3c8378['_data'],_0x2a173b=_0x3c8378['_component'+'s'],_0x23b451=this['_p0']*_0x2a173b;if(_0x3b8528===Bv){for(let _0x574918=0x1931*-0x1+0x1412+-0x1b5*-0x3;_0x574918<_0x2a173b;++_0x574918)_0x17ff40[_0x574918]=_0x4c5f00[_0x23b451+_0x574918];}else{const _0x34b017=this['_t'],_0x53aaa0=this['_p1']*_0x2a173b;switch(_0x3b8528){case Su:for(let _0x2f01d2=0x1*-0xb12+-0x79*0xd+-0x153*-0xd;_0x2f01d2<_0x2a173b;++_0x2f01d2)_0x17ff40[_0x2f01d2]=Y['lerp'](_0x4c5f00[_0x23b451+_0x2f01d2],_0x4c5f00[_0x53aaa0+_0x2f01d2],_0x34b017);break;case yu:{const _0x1d1a69=this['_hermite'];if(!_0x1d1a69['valid']){const _0x17146e=_0x34b017*_0x34b017,_0x89f54=_0x34b017+_0x34b017,_0x51be1=0xdb*-0x23+-0x97a+-0x4*-0x9db-_0x34b017,_0x23f586=_0x51be1*_0x51be1;_0x1d1a69['valid']=!(0x1335*-0x1+0x1470+-0x13b),_0x1d1a69['p0']=(-0xb*0x23b+0x17cd+0x7*0x1b+_0x89f54)*_0x23f586,_0x1d1a69['m0']=_0x34b017*_0x23f586,_0x1d1a69['p1']=_0x17146e*(-0x11e9+-0x1639+0x2b*0xef-_0x89f54),_0x1d1a69['m1']=_0x17146e*(_0x34b017-(0x1c64+0x173f+-0x89b*0x6));}const _0x5a18b2=(this['_p0']*(-0x1634+0xc3+-0x55d*-0x4)+(-0x10*-0x2+-0x1*-0x2bd+0xf4*-0x3))*_0x2a173b,_0x1f2469=(this['_p0']*(0x26a7+-0x91a*0x1+-0x1d8a)+(-0x1e69+-0x10e*-0x1e+-0x1*0x139))*_0x2a173b,_0x5d809c=(this['_p1']*(-0x58d+0x1*-0x52c+-0x6*-0x1ca)+(-0x22ac+-0xa*0x24d+0x39af))*_0x2a173b,_0x371e4f=(this['_p1']*(-0xed1+-0xc23+-0x1af7*-0x1)+(-0x23e3+0x127b+0x1168))*_0x2a173b;for(let _0x5877ec=0x2*0x133+-0x133*-0x1c+0x5ff*-0x6;_0x5877ec<_0x2a173b;++_0x5877ec)_0x17ff40[_0x5877ec]=_0x1d1a69['p0']*_0x4c5f00[_0x5a18b2+_0x5877ec]+_0x1d1a69['m0']*_0x4c5f00[_0x1f2469+_0x5877ec]*this['_len']+_0x1d1a69['p1']*_0x4c5f00[_0x5d809c+_0x5877ec]+_0x1d1a69['m1']*_0x4c5f00[_0x371e4f+_0x5877ec]*this['_len'];break;}}}}}class Ig{constructor(_0x5d9ba7){this['_name']=_0x5d9ba7['name']+'Snapshot',this['_time']=-(-0x7b0*-0x1+0xcef+-0xd*0x196),this['_cache']=[],this['_results']=[];for(let _0x17c71a=-0x1*-0xc05+-0x2*-0xea5+-0x3*0xdc5;_0x17c71a<_0x5d9ba7['_inputs']['length'];++_0x17c71a)this['_cache'][_0x17c71a]=new _L();const _0x4b4e00=_0x5d9ba7['_curves'],_0x478cfe=_0x5d9ba7['_outputs'];for(let _0x11b72e=-0x1df2*0x1+0x79*-0x49+0x4073;_0x11b72e<_0x4b4e00['length'];++_0x11b72e){const _0x395f99=_0x4b4e00[_0x11b72e],_0x1b7607=_0x478cfe[_0x395f99['_output']],_0x43cf9d=[];for(let _0x2749e5=-0x25c4+-0x7*-0x399+-0x1*-0xc95;_0x2749e5<_0x1b7607['_component'+'s'];++_0x2749e5)_0x43cf9d[_0x2749e5]=-0x58d+0x259d+-0x2010;this['_results'][_0x11b72e]=_0x43cf9d;}}}const qo=class qo{constructor(_0xbd8d7b,_0x32ab37,_0x6f35f9,_0x7a4e7e,_0x56f66b,_0x5d007b){this['_name']=_0xbd8d7b['name'],this['_track']=_0xbd8d7b,this['_snapshot']=new Ig(_0xbd8d7b),this['_playing']=_0x7a4e7e,this['_time']=_0x32ab37,this['_speed']=_0x6f35f9,this['_loop']=_0x56f66b,this['_blendWeig'+'ht']=-0x1*0xd31+0x21e5+-0x14b3,this['_blendOrde'+'r']=-0x108e+-0x245b+0x34e9,this['_eventHand'+'ler']=_0x5d007b,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0x3d14d6){this['_name']=_0x3d14d6;}get['name'](){return this['_name'];}set['track'](_0x225eb0){this['_track']=_0x225eb0,this['_snapshot']=new Ig(_0x225eb0);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x1366e2){this['_time']=_0x1366e2,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0x3da862){const _0x35542d=Math['sign'](_0x3da862)!==Math['sign'](this['_speed']);this['_speed']=_0x3da862,_0x35542d&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x56ca31){this['_loop']=_0x56ca31;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x1978bc){this['_blendWeig'+'ht']=_0x1978bc;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x451e83){this['_blendOrde'+'r']=_0x451e83;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x52f547){this['_eventCurs'+'or']=_0x52f547;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?0x8c7+-0x1*-0x209c+0x41*-0xa3:this['_track']['events']['length']-(-0x8*0x24f+0xaef+0x3c5*0x2);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<0x5*0x33f+-0xf5b*-0x2+0xc5*-0x3d;}['nextEventA'+'headOfTime'](_0x1e65c1){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x1e65c1:this['nextEvent']['time']>=_0x1e65c1:!(-0x27f*-0xd+0x737*0x5+-0x4485);}['nextEventB'+'ehindTime'](_0x33fce1){return this['nextEvent']?_0x33fce1===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x33fce1:this['nextEvent']['time']<=_0x33fce1:this['isReverse']?this['nextEvent']['time']>_0x33fce1:this['nextEvent']['time']<_0x33fce1:!(-0x5e7*-0x1+0x426+0x1*-0xa0c);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(0x1c64+-0x21c1*0x1+0x55e):0x1f79*-0x1+-0x2665+-0x42*-0x10f;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(0x6*-0x4e3+-0x10*-0x26c+0x7f*-0x13):0x8*0x356+-0x1546*-0x1+-0x2ff5*0x1,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=0xc46+0x5*0x5b3+-0x28c5:this['_eventCurs'+'or']<0x1516*0x1+-0xfb*0x1a+0x468&&(this['_eventCurs'+'or']=this['track']['events']['length']-(0x3eb+-0x1*0x2205+-0x7*-0x44d));}['clipFrameT'+'ime'](_0x4f8248){const _0x17bb32=qo['eventFrame'];_0x17bb32['start']=0x3e3+0x869*-0x4+0x3*0x9eb,_0x17bb32['end']=_0x4f8248,_0x17bb32['residual']=-0x248d+-0x2ba+0x5*0x7db,this['isReverse']?_0x4f8248<-0x84a+0x8*0x308+-0xff6&&(_0x17bb32['start']=this['track']['duration'],_0x17bb32['end']=0x26df+-0x3a*-0x1+0x1*-0x2719,_0x17bb32['residual']=_0x4f8248+this['track']['duration']):_0x4f8248>this['track']['duration']&&(_0x17bb32['start']=0x7*-0xce+-0xb*0xdd+0x1*0xf21,_0x17bb32['end']=this['track']['duration'],_0x17bb32['residual']=_0x4f8248-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x48d388,_0x5eb3d5){return this['nextEventA'+'headOfTime'](_0x48d388)&&this['nextEventB'+'ehindTime'](_0x5eb3d5)?(this['fireNextEv'+'ent'](),!(-0x82a+0xd0+0x75a)):!(-0x1c3a*0x1+0xdf*-0x16+0x2f65);}['activeEven'+'tsForFrame'](_0x500126,_0x57e47e){const _0x51f93a=qo['eventFrame'];this['clipFrameT'+'ime'](_0x57e47e);const _0x17433a=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x500126,_0x51f93a['end'])&&_0x17433a!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x51f93a['residual'])>-0x2a*-0x43+0x1bcc+-0xf*0x296&&this['activeEven'+'tsForFrame'](_0x51f93a['start'],_0x51f93a['residual']);}['progressFo'+'rTime'](_0x46e280){return _0x46e280*this['_speed']/this['_track']['duration'];}['_update'](_0x5781d5){if(this['_playing']){let _0x11dfcc=this['_time'];const _0x32e7aa=this['_track']['duration'],_0x1635ca=this['_speed'],_0x46c73f=this['_loop'];this['_track']['events']['length']>0x596+0x1b17+0x7*-0x4ab&&_0x32e7aa>-0x5be+0x2*0xabf+-0x4*0x3f0&&this['activeEven'+'tsForFrame'](_0x11dfcc,_0x11dfcc+_0x1635ca*_0x5781d5),_0x11dfcc+=_0x1635ca*_0x5781d5,_0x1635ca>=-0x25bd*-0x1+0x1039+0x2*-0x1afb?_0x11dfcc>_0x32e7aa&&(_0x46c73f?_0x11dfcc=_0x11dfcc%_0x32e7aa||-0x2b*0x61+-0x201d*-0x1+-0xfd2:(_0x11dfcc=this['_track']['duration'],this['pause']())):_0x11dfcc<-0x794+-0x45*-0x53+-0xecb&&(_0x46c73f?_0x11dfcc=_0x32e7aa+(_0x11dfcc%_0x32e7aa||-0x2*-0xb36+0xd6f*0x2+-0x12*0x2bd):(_0x11dfcc=0x1*0x2069+0x251*-0xe+0x5,this['pause']())),this['_time']=_0x11dfcc;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(0xb7e+-0x2*0xf4+-0x996),this['_time']=0x1f2a*0x1+0x2652+0x457c*-0x1;}['stop'](){this['_playing']=!(-0xa9c*0x1+-0x259d*0x1+0x181d*0x2),this['_time']=-0x1241+0x14cf+-0x28e*0x1;}['pause'](){this['_playing']=!(-0xdf5*-0x1+-0x2*-0x82b+-0x1e4a);}['resume'](){this['_playing']=!(0x468*-0x5+-0x1a7a*0x1+0x7*0x6ee);}['reset'](){this['_time']=-0x1048+-0x20d7+0x311f;}};h(qo,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Dh=qo;const zv='NONE',gL='PREV_STATE',SL='NEXT_STATE',yL='PREV_STATE'+'_NEXT_STAT'+'E',vL='NEXT_STATE'+'_PREV_STAT'+'E',xL='GREATER_TH'+'AN',TL='LESS_THAN',wL='GREATER_TH'+'AN_EQUAL_T'+'O',EL='LESS_THAN_'+'EQUAL_TO',bL='EQUAL_TO',AL='NOT_EQUAL_'+'TO',Lg='INTEGER',Rg='FLOAT',Og='BOOLEAN',Qc='TRIGGER',CL='1D',PL='2D_DIRECTI'+'ONAL',ML='2D_CARTESI'+'AN',DL='DIRECT',Co='START',vu='END',qr='ANY',Ih=[Co,vu,qr],Vv='OVERWRITE',IL='ADDITIVE';class Ht{static['dot'](_0x2223c1,_0xcb3815){const _0xa4d3c7=_0x2223c1['length'];let _0x5876f5=0x17bc+0xd*-0x10d+0x1*-0xa13;for(let _0x1b5b80=-0x1738+0x1a3d+-0x305;_0x1b5b80<_0xa4d3c7;++_0x1b5b80)_0x5876f5+=_0x2223c1[_0x1b5b80]*_0xcb3815[_0x1b5b80];return _0x5876f5;}static['normalize'](_0x3ad042){let _0x2ff29f=Ht['dot'](_0x3ad042,_0x3ad042);if(_0x2ff29f>-0xf4f+0x86f*0x3+0x2*-0x4ff){_0x2ff29f=(-0x561+0xad*-0xd+0xe2b)/Math['sqrt'](_0x2ff29f);const _0x280480=_0x3ad042['length'];for(let _0x33c814=0x212d+-0x3*-0x302+-0x2a33;_0x33c814<_0x280480;++_0x33c814)_0x3ad042[_0x33c814]*=_0x2ff29f;}}static['set'](_0x2a2a07,_0x2a8f4d,_0x12fb6b){const _0x558ecd=_0x2a2a07['length'];if(_0x12fb6b==='quaternion'){let _0x4ba876=Ht['dot'](_0x2a8f4d,_0x2a8f4d);_0x4ba876>-0x76f+-0xd23+0x1492&&(_0x4ba876=(0x2029*0x1+-0x1e*-0x115+-0x409e*0x1)/Math['sqrt'](_0x4ba876));for(let _0x1e769d=0x1ffd+0x2*-0xd3a+-0x6d*0xd;_0x1e769d<_0x558ecd;++_0x1e769d)_0x2a2a07[_0x1e769d]=_0x2a8f4d[_0x1e769d]*_0x4ba876;}else{for(let _0x4fac12=0x6a4+-0x30b+-0x399;_0x4fac12<_0x558ecd;++_0x4fac12)_0x2a2a07[_0x4fac12]=_0x2a8f4d[_0x4fac12];}}static['blendVec'](_0x191d48,_0x379162,_0x5b1c73,_0x1f01eb){const _0xa46022=_0x1f01eb?-0x1*0xc07+0x236c*0x1+-0xbb2*0x2:0x1*-0x593+-0x1f05+0x9*0x411-_0x5b1c73,_0x4b293d=_0x191d48['length'];for(let _0x1a9b26=0x3*0x641+0x24b4+-0x3777;_0x1a9b26<_0x4b293d;++_0x1a9b26)_0x191d48[_0x1a9b26]=_0x191d48[_0x1a9b26]*_0xa46022+_0x379162[_0x1a9b26]*_0x5b1c73;}static['blendQuat'](_0x3114b4,_0x5591b6,_0x59cb73,_0x29e7a9){const _0x28ff58=_0x3114b4['length'],_0x446016=_0x29e7a9?-0x4*0x3ae+0x94b*0x3+0x1*-0xd28:-0x5d4+-0x2555*-0x1+-0x1f80-_0x59cb73;Ht['dot'](_0x3114b4,_0x5591b6)<-0x183a+0x1f56+0x4*-0x1c7&&(_0x59cb73=-_0x59cb73);for(let _0xdf3735=0x15e5+-0x1*0x24f7+0x283*0x6;_0xdf3735<_0x28ff58;++_0xdf3735)_0x3114b4[_0xdf3735]=_0x3114b4[_0xdf3735]*_0x446016+_0x5591b6[_0xdf3735]*_0x59cb73;_0x29e7a9||Ht['normalize'](_0x3114b4);}static['blend'](_0x35be46,_0x5a25d1,_0x5df77a,_0x4ef862,_0x2be2bd){_0x4ef862==='quaternion'?Ht['blendQuat'](_0x35be46,_0x5a25d1,_0x5df77a,_0x2be2bd):Ht['blendVec'](_0x35be46,_0x5a25d1,_0x5df77a,_0x2be2bd);}static['stableSort'](_0x46a05b,_0x1ab63a){const _0xb1977e=_0x46a05b['length'];for(let _0x44d2e0=0x2053+-0xd4f*-0x2+0xbf*-0x4f;_0x44d2e0<_0xb1977e-(0x11a*0x9+0x3*-0x989+0x12b2*0x1);++_0x44d2e0)for(let _0x4c4f75=_0x44d2e0+(-0x1168+-0x1*0x2287+0x33f0);_0x4c4f75<_0xb1977e;++_0x4c4f75)if(_0x1ab63a(_0x46a05b[_0x4c4f75],_0x46a05b[_0x44d2e0])){const _0x48da62=_0x46a05b[_0x44d2e0];_0x46a05b[_0x44d2e0]=_0x46a05b[_0x4c4f75],_0x46a05b[_0x4c4f75]=_0x48da62;}}}const st=class st{constructor(_0x146c73,_0x49360f){this['_component']=_0x146c73,this['mask']=new Int8Array(_0x146c73['layers']['length']),this['weights']=new Float32Array(_0x146c73['layers']['length']),this['totalWeigh'+'t']=0x1e8e+0x6e5*-0x4+0xfe*-0x3,this['counter']=-0xec6+-0x1f79+-0x1*-0x2e3f,this['layerCount'+'er']=-0x2c5*0xd+-0xa93*0x1+0x2e94,this['valueType']=_0x49360f,this['dirty']=!(0x167c+-0x1595+-0x7*0x21),this['value']=_0x49360f===st['TYPE_QUAT']?[0x6f7+-0x17*0x154+0x1795,-0x12c7+0xcba+0x60d,-0x177d+-0x1e82+0x259*0x17,-0x60e+0x18c3+-0x12b4]:[0xc51*-0x1+-0x119e+-0x1def*-0x1,-0xbda+0xe95+-0x2bb*0x1,0x1115+-0x1f0f+0x2*0x6fd],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x3ffbe7){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===0x1e72+0x19e+0x4*-0x804||!this['mask'][_0x3ffbe7]?-0x1*0x2472+0x1c1b+0x131*0x7:this['_normalize'+'Weights']?this['weights'][_0x3ffbe7]/this['totalWeigh'+'t']:Y['clamp'](this['weights'][_0x3ffbe7],0x120d*-0x1+0xd*-0x275+-0x855*-0x6,-0x29*-0xc+0x169b+-0x1886);}['_layerBlen'+'dType'](_0x239bad){return this['_component']['layers'][_0x239bad]['blendType'];}['setMask'](_0x25ae29,_0x446118){this['mask'][_0x25ae29]=_0x446118,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x25ae29]['blendType']===Vv&&(this['mask']=this['mask']['fill'](-0x3c7+0x1ac5+-0x16fe,-0x261b+0x1eac+0x76f,_0x25ae29)),this['dirty']=!(-0x1786+0x23*0xe5+-0x7c9*0x1));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=-0x1bb0+-0xb21+0x26d1;for(let _0x3f5e13=-0xb2a+0x2123*0x1+-0x15f9;_0x3f5e13<this['weights']['length'];_0x3f5e13++)this['weights'][_0x3f5e13]=this['_component']['layers'][_0x3f5e13]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x3f5e13]*this['weights'][_0x3f5e13];this['dirty']=!(-0xe59+0x14e8+-0x68e);}['updateValu'+'e'](_0x42d86a,_0x46dece){if(this['counter']===0x1355+0x3a4+-0x16f9&&(Ht['set'](this['value'],st['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Ht['blend'](this['value'],this['baseValue'],0x556+-0x2e*-0xe+-0x7d9,this['valueType'])),!(!this['mask'][_0x42d86a]||this['getWeight'](_0x42d86a)===0x1877+-0x2*0xf17+0x5b7)){if(this['_layerBlen'+'dType'](_0x42d86a)===IL&&!this['_normalize'+'Weights']){if(this['valueType']===st['TYPE_QUAT']){const _0x12d2e5=st['q1']['set'](this['value'][-0x2*0x97e+0x14a4+0x4*-0x6a],this['value'][0x1e68+0x1668+0x4cd*-0xb],this['value'][0xd89+0x28*0x55+-0x1acf*0x1],this['value'][0x1f86+-0x1e82+-0x101]),_0x10dc03=st['q2']['set'](this['baseValue'][-0xc8c+-0xb76+0x1802],this['baseValue'][0x505*0x4+0xaf1+-0x1f04],this['baseValue'][0x14*-0x1f+-0xb1a+0xd88],this['baseValue'][-0x1*0x24b+0x1b1a+-0x18cc]),_0x1ff2ba=st['q3']['set'](_0x46dece[0x1bde+-0x170b+0x5f*-0xd],_0x46dece[-0x2127+0x1381+0x3*0x48d],_0x46dece[0x3*0x483+0x163*-0x1+-0xc24],_0x46dece[-0x4*-0x54f+-0x660+-0xed9]),_0x405919=_0x10dc03['invert']()['mul'](_0x1ff2ba);_0x405919['slerp'](le['IDENTITY'],_0x405919,this['getWeight'](_0x42d86a)),_0x12d2e5['mul'](_0x405919),st['quatArr'][-0x1df*-0x11+0xd6f+-0x2d3e]=_0x12d2e5['x'],st['quatArr'][-0x1b2*0x10+-0xe75*-0x1+0xcac]=_0x12d2e5['y'],st['quatArr'][-0x1da+-0xd*-0xf8+-0x394*0x3]=_0x12d2e5['z'],st['quatArr'][0x7*0x2f0+-0x1fd*0x4+-0x285*0x5]=_0x12d2e5['w'],Ht['set'](this['value'],st['quatArr'],this['valueType']);}else st['vecArr'][0x788+0x1c9d+-0x2425]=_0x46dece[0x13ba+0xfa*0x5+-0x4b*0x54]-this['baseValue'][0x1494+0xd87+-0x221b],st['vecArr'][-0x1675+0x2e*0x43+-0x2*-0x536]=_0x46dece[0xfde+-0x1*0x24bf+0x14e2]-this['baseValue'][-0x1baf+0x1cdf+-0x12f],st['vecArr'][0x4c*0x49+-0x1e7f+0x8d5]=_0x46dece[-0x24d0+0x1*0xe09+0x16c9]-this['baseValue'][-0x1b7*0x13+0x22*0x31+-0x1*-0x1a15],Ht['blend'](this['value'],st['vecArr'],this['getWeight'](_0x42d86a),this['valueType'],!(0x15e7+-0x1*-0x13df+-0x29c6));}else Ht['blend'](this['value'],_0x46dece,this['getWeight'](_0x42d86a),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};h(st,'TYPE_QUAT','quaternion'),h(st,'TYPE_VEC3','vector3'),h(st,'q1',new le()),h(st,'q2',new le()),h(st,'q3',new le()),h(st,'quatArr',[0x7ac+-0x1323+0x24b*0x5,0x255e+0xc78+-0x1*0x31d6,-0x24f7+0x122b*0x2+-0x7*-0x17,0x17e9+0x55*-0x72+0xdf2]),h(st,'vecArr',[0x894+-0x7+-0x88d,0x830+-0x4*-0x106+-0x6*0x20c,0x12a*-0x3+0x1da2+0xd12*-0x2]),h(st,'IDENTITY_Q'+'UAT_ARR',[0xd6e+0x1196+0x14*-0x18d,-0x61*0x3d+-0x11eb+0xca*0x34,-0x25fe+-0x208c+-0x2345*-0x2,0x7d3*-0x3+-0x1*0x13f3+0x2b6d]);let Vo=st;class Gv{constructor(_0x1bc99f){this['_binder']=_0x1bc99f,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0x2266c5){const _0x39270e=this['_targets'],_0x2280cb=this['_binder'],_0x46adcd=_0x2266c5['track']['curves'],_0x2fff17=_0x2266c5['snapshot'],_0x424b30=[],_0x3881be=[];for(let _0x166ad6=-0x1*0x22b5+-0xde3+0x3098;_0x166ad6<_0x46adcd['length'];++_0x166ad6){const _0x5a3c30=_0x46adcd[_0x166ad6]['paths'];for(let _0x2397be=0xdf8+-0x244c+-0x1654*-0x1;_0x2397be<_0x5a3c30['length'];++_0x2397be){const _0xde8613=_0x5a3c30[_0x2397be],_0x3bfcb5=_0x2280cb['resolve'](_0xde8613);let _0x59c671=_0x39270e[_0x3bfcb5&&_0x3bfcb5['targetPath']||null];if(!_0x59c671&&_0x3bfcb5){_0x59c671={'target':_0x3bfcb5,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0xbb961f=0xf*0x6f+-0x74*0x3e+0x1597;_0xbb961f<_0x59c671['target']['components'];++_0xbb961f)_0x59c671['value']['push'](-0x124*0x1e+0x1*-0x1468+0x36a0);if(_0x39270e[_0x3bfcb5['targetPath']]=_0x59c671,_0x2280cb['animCompon'+'ent']){if(!_0x2280cb['animCompon'+'ent']['targets'][_0x3bfcb5['targetPath']]){let _0x3160a1;_0x3bfcb5['targetPath']['substring'](_0x3bfcb5['targetPath']['length']-(0x2518+0x1f22+-0x442d))==='localRotat'+'ion'?_0x3160a1=Vo['TYPE_QUAT']:_0x3160a1=Vo['TYPE_VEC3'],_0x2280cb['animCompon'+'ent']['targets'][_0x3bfcb5['targetPath']]=new Vo(_0x2280cb['animCompon'+'ent'],_0x3160a1);}_0x2280cb['animCompon'+'ent']['targets'][_0x3bfcb5['targetPath']]['layerCount'+'er']++,_0x2280cb['animCompon'+'ent']['targets'][_0x3bfcb5['targetPath']]['setMask'](_0x2280cb['layerIndex'],-0x8b6+-0xc6*-0x25+-0x13e7*0x1);}}_0x59c671&&(_0x59c671['curves']++,_0x424b30['push'](_0x2fff17['_results'][_0x166ad6]),_0x3881be['push'](_0x59c671));}}this['_clips']['push'](_0x2266c5),this['_inputs']['push'](_0x424b30),this['_outputs']['push'](_0x3881be);}['removeClip'](_0x20bf4d){const _0x20aa3d=this['_targets'],_0x15d922=this['_binder'],_0xb62d3b=this['_clips'],_0x2a6f85=_0xb62d3b[_0x20bf4d]['track']['curves'];for(let _0x19eb38=0x1e30+-0x6*-0x1bf+-0x28aa;_0x19eb38<_0x2a6f85['length'];++_0x19eb38){const _0x3c8f59=_0x2a6f85[_0x19eb38]['paths'];for(let _0x4757bd=-0x1*0x1f1b+0x3*0x6fd+0x4*0x289;_0x4757bd<_0x3c8f59['length'];++_0x4757bd){const _0x50dff0=_0x3c8f59[_0x4757bd],_0x9e38e9=this['_binder']['resolve'](_0x50dff0);_0x9e38e9&&(_0x9e38e9['curves']--,_0x9e38e9['curves']===0xf53+0x3*0x269+0xb47*-0x2&&(_0x15d922['unresolve'](_0x50dff0),delete _0x20aa3d[_0x9e38e9['targetPath']],_0x15d922['animCompon'+'ent']&&_0x15d922['animCompon'+'ent']['targets'][_0x9e38e9['targetPath']]['layerCount'+'er']--));}}_0xb62d3b['splice'](_0x20bf4d,-0x1e34+-0x91*-0xd+0x16d8),this['_inputs']['splice'](_0x20bf4d,-0x70*0x24+-0x3*-0xb08+-0x1*0x1157),this['_outputs']['splice'](_0x20bf4d,-0x15de+-0x25d9+-0x888*-0x7);}['removeClip'+'s'](){for(;this['_clips']['length']>-0x11e5+0x1d9b+-0xbb6;)this['removeClip'](-0x6*-0x5d3+0xc13*0x3+-0x472b*0x1);}['updateClip'+'Track'](_0x110e0c,_0x361907){this['_clips']['forEach'](_0x3976c2=>{_0x3976c2['name']['includes'](_0x110e0c)&&(_0x3976c2['track']=_0x361907);}),this['rebind']();}['findClip'](_0x5be8ce){const _0x43ab37=this['_clips'];for(let _0xd2e88d=0x21e2+0x70*0x1d+-0x1*0x2e92;_0xd2e88d<_0x43ab37['length'];++_0xd2e88d){const _0x75e48d=_0x43ab37[_0xd2e88d];if(_0x75e48d['name']===_0x5be8ce)return _0x75e48d;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0x5f2bb1=[...this['clips']];this['removeClip'+'s'](),_0x5f2bb1['forEach'](_0x34bb24=>{this['addClip'](_0x34bb24);});}['assignMask'](_0x507537){return this['_binder']['assignMask'](_0x507537);}['update'](_0x29250d,_0x210e48=!(0x73a+0x14ee+-0x1c28)){const _0x33f8b1=this['_clips'],_0x2cc99b=_0x33f8b1['map']((_0x23b398,_0x5e7517)=>_0x5e7517);Ht['stableSort'](_0x2cc99b,(_0x4b6e8a,_0x351e02)=>_0x33f8b1[_0x4b6e8a]['blendOrder']<_0x33f8b1[_0x351e02]['blendOrder']);for(let _0x33a748=-0xe5*-0x16+-0x12c7+-0xe7;_0x33a748<_0x2cc99b['length'];++_0x33a748){const _0x280847=_0x2cc99b[_0x33a748],_0x28faf1=_0x33f8b1[_0x280847],_0x28be74=this['_inputs'][_0x280847],_0x480fb4=this['_outputs'][_0x280847],_0x379b41=_0x28faf1['blendWeigh'+'t'];if(_0x379b41>-0x57c*-0x3+-0x12f*0x8+-0x6fc&&_0x28faf1['_update'](_0x29250d),!_0x210e48)break;let _0x5dce52,_0x2a7c18,_0x2d12a9;if(_0x379b41>=0x2f3+-0xd42+0xa50){for(let _0x22604a=-0x1d7a+0x7*-0x466+0x227*0x1c;_0x22604a<_0x28be74['length'];++_0x22604a)_0x5dce52=_0x28be74[_0x22604a],_0x2a7c18=_0x480fb4[_0x22604a],_0x2d12a9=_0x2a7c18['value'],Ht['set'](_0x2d12a9,_0x5dce52,_0x2a7c18['target']['type']),_0x2a7c18['blendCount'+'er']++;}else{if(_0x379b41>-0x7da+-0x1103+-0x14f*-0x13){for(let _0x2b6f66=0x19e6+-0x141*0x5+-0x19*0xc9;_0x2b6f66<_0x28be74['length'];++_0x2b6f66)_0x5dce52=_0x28be74[_0x2b6f66],_0x2a7c18=_0x480fb4[_0x2b6f66],_0x2d12a9=_0x2a7c18['value'],_0x2a7c18['blendCount'+'er']===0x1b43+-0x1cfe+0x1*0x1bb?Ht['set'](_0x2d12a9,_0x5dce52,_0x2a7c18['target']['type']):Ht['blend'](_0x2d12a9,_0x5dce52,_0x379b41,_0x2a7c18['target']['type']),_0x2a7c18['blendCount'+'er']++;}}}const _0x6da658=this['_targets'],_0x4fbcff=this['_binder'];for(const _0x358aae in _0x6da658)if(_0x6da658['hasOwnProp'+'erty'](_0x358aae)){const _0xfd1535=_0x6da658[_0x358aae];if(_0x4fbcff['animCompon'+'ent']&&_0xfd1535['target']['isTransfor'+'m']){const _0x426a5e=_0x4fbcff['animCompon'+'ent']['targets'][_0x358aae];_0x426a5e['counter']===_0x426a5e['layerCount'+'er']&&(_0x426a5e['counter']=0x22c7+0x1ffb+0x2161*-0x2),_0x426a5e['path']||(_0x426a5e['path']=_0x358aae,_0x426a5e['baseValue']=_0xfd1535['target']['get'](),_0x426a5e['setter']=_0xfd1535['target']['set']),_0x426a5e['updateValu'+'e'](_0x4fbcff['layerIndex'],_0xfd1535['value']),_0x426a5e['counter']++;}else _0xfd1535['target']['set'](_0xfd1535['value']);_0xfd1535['blendCount'+'er']=-0x12d6*-0x2+-0x1e79+-0x733;}this['_binder']['update'](_0x29250d);}}class Hv{constructor(_0x29dd4e){this['_events']=[..._0x29dd4e],this['_events']['sort']((_0x446702,_0x5117fb)=>_0x446702['time']-_0x5117fb['time']);}get['events'](){return this['_events'];}}const $h=class $h{constructor(_0x2d9e0c,_0x1d714e,_0x4da435,_0x5f3dcb,_0x9cd58,_0x5ebd82=new Hv([])){this['_name']=_0x2d9e0c,this['_duration']=_0x1d714e,this['_inputs']=_0x4da435,this['_outputs']=_0x5f3dcb,this['_curves']=_0x9cd58,this['_animEvent'+'s']=_0x5ebd82;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x5add9d){this['_animEvent'+'s']=_0x5add9d;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0x35aacd,_0x830ea){_0x830ea['_time']=_0x35aacd;const _0x72aece=this['_inputs'],_0x4115da=this['_outputs'],_0x21ffea=this['_curves'],_0x2a9e5c=_0x830ea['_cache'],_0x447df2=_0x830ea['_results'];for(let _0x390876=-0x517*-0x7+-0x1*0x2445+0x29*0x4;_0x390876<_0x72aece['length'];++_0x390876)_0x2a9e5c[_0x390876]['update'](_0x35aacd,_0x72aece[_0x390876]['_data']);for(let _0x3e5685=0x4fb+0x3*0xe+-0x1*0x525;_0x3e5685<_0x21ffea['length'];++_0x3e5685){const _0x1f686e=_0x21ffea[_0x3e5685],_0x5a28ce=_0x4115da[_0x1f686e['_output']],_0x61619e=_0x447df2[_0x3e5685];_0x2a9e5c[_0x1f686e['_input']]['eval'](_0x61619e,_0x1f686e['_interpola'+'tion'],_0x5a28ce);}}};h($h,'EMPTY',Object['freeze'](new $h('empty',Number['MAX_VALUE'],[],[],[])));let Qi=$h;class ra{static['joinPath'](_0x3b695f,_0x106cfb){_0x106cfb=_0x106cfb||'.';const _0x481ef8=function(_0x3a7f5e){return _0x3a7f5e['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0x106cfb,'g'),'\x5c'+_0x106cfb);};return _0x3b695f['map'](_0x481ef8)['join'](_0x106cfb);}static['splitPath'](_0x21f1cf,_0x88372c){_0x88372c=_0x88372c||'.';const _0x3e8ddb=[];let _0xa3eb13='',_0x55f5d9=0x11*-0x1c9+0x3*0x3cd+0x12f2;for(;_0x55f5d9<_0x21f1cf['length'];){let _0x4dc658=_0x21f1cf[_0x55f5d9++];_0x4dc658==='\x5c'&&_0x55f5d9<_0x21f1cf['length']?(_0x4dc658=_0x21f1cf[_0x55f5d9++],_0x4dc658==='\x5c'||_0x4dc658===_0x88372c?_0xa3eb13+=_0x4dc658:_0xa3eb13+='\x5c'+_0x4dc658):_0x4dc658===_0x88372c?(_0x3e8ddb['push'](_0xa3eb13),_0xa3eb13=''):_0xa3eb13+=_0x4dc658;}return _0xa3eb13['length']>-0xc05+-0x11e6*-0x1+-0x7*0xd7&&_0x3e8ddb['push'](_0xa3eb13),_0x3e8ddb;}static['encode'](_0x11b44e,_0x3cbe8f,_0x56de4f){return(Array['isArray'](_0x11b44e)?_0x11b44e['join']('/'):_0x11b44e)+'/'+_0x3cbe8f+'/'+(Array['isArray'](_0x56de4f)?_0x56de4f['join']('/'):_0x56de4f);}['resolve'](_0x5b8c75){return null;}['unresolve'](_0x4e5a53){}['update'](_0x10b776){}}class xu{constructor(_0x59a974,_0x54b153,_0x2c6454,_0x2c8184){_0x59a974['set']?(this['_set']=_0x59a974['set'],this['_get']=_0x59a974['get']):this['_set']=_0x59a974,this['_type']=_0x54b153,this['_component'+'s']=_0x2c6454,this['_targetPat'+'h']=_0x2c8184,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x72b*-0x2+-0xd8*-0x1a+-0x2439))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x19dc+-0x678+0x1357*-0x1))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x1390+0x5*-0x1d2+-0xb*-0x29c))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class Sr{constructor(_0x1c19d0){h(this,'_isPathInM'+'ask',(_0x4ba530,_0x3cc9dd)=>{const _0x50e604=this['_mask'][_0x4ba530];if(_0x50e604){if(_0x50e604['children']||_0x3cc9dd&&_0x50e604['value']!==!(0xd3b+0x369+-0x10a3))return!(-0x258f+0x1fc1+0x5ce);}else return!(-0x623*0x1+-0x397*-0x9+0xcb*-0x21);return!(-0x16eb+-0x1*-0x335+0x31*0x67);});if(this['graph']=_0x1c19d0,!_0x1c19d0)return;this['_mask']=null;const _0x397f49={},_0x25db36=function(_0x92c82d){_0x397f49[_0x92c82d['name']]=_0x92c82d;for(let _0x4d3fa8=0x2539+-0x10e2+0x1*-0x1457;_0x4d3fa8<_0x92c82d['children']['length'];++_0x4d3fa8)_0x25db36(_0x92c82d['children'][_0x4d3fa8]);};_0x25db36(_0x1c19d0),this['nodes']=_0x397f49,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x372a3f=function(_0x4791c7){let _0x1514dc=_0x4791c7;for(;_0x1514dc&&!(_0x1514dc instanceof lt);)_0x1514dc=_0x1514dc['parent'];let _0x1938b6;return _0x1514dc&&(_0x1514dc['render']?_0x1938b6=_0x1514dc['render']['meshInstan'+'ces']:_0x1514dc['model']&&(_0x1938b6=_0x1514dc['model']['meshInstan'+'ces'])),_0x1938b6;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0xe199d9){const _0x242f6b=_0xe199d9['localPosit'+'ion'],_0x20790b=function(_0x185323){_0x242f6b['set'](..._0x185323);};return Sr['createAnim'+'Target'](_0x20790b,'vector',0x167*0xb+0x72*-0x3d+0xbc0,_0xe199d9,'localPosit'+'ion');},'localRotation':function(_0x22f942){const _0x34a456=_0x22f942['localRotat'+'ion'],_0x46ec6d=function(_0x41d840){_0x34a456['set'](..._0x41d840);};return Sr['createAnim'+'Target'](_0x46ec6d,'quaternion',0x24bc+0x1ff8+-0x44b0,_0x22f942,'localRotat'+'ion');},'localScale':function(_0x3efb8b){const _0x1f02e0=_0x3efb8b['localScale'],_0x16e41b=function(_0x117fb8){_0x1f02e0['set'](..._0x117fb8);};return Sr['createAnim'+'Target'](_0x16e41b,'vector',0xf8e+0x205f+-0x2fea,_0x3efb8b,'localScale');},'weight':function(_0x8376fb,_0x1150c6){_0x1150c6['indexOf']('name.')===-0x951+-0x1b20+-0x1*-0x2471?_0x1150c6=_0x1150c6['replace']('name.',''):_0x1150c6=Number(_0x1150c6);const _0x551bee=_0x372a3f(_0x8376fb);let _0x2cef1e;if(_0x551bee){for(let _0x28e55b=-0x1ce5+0x1*-0x1141+0x2e26;_0x28e55b<_0x551bee['length'];++_0x28e55b)if(_0x551bee[_0x28e55b]['node']['name']===_0x8376fb['name']&&_0x551bee[_0x28e55b]['morphInsta'+'nce']){const _0x484856=_0x551bee[_0x28e55b]['morphInsta'+'nce'],_0x3cc4b7=_0x3f1e01=>{_0x484856['setWeight'](_0x1150c6,_0x3f1e01[-0x186d+-0xa8+-0x1915*-0x1]);};_0x2cef1e||(_0x2cef1e=[]),_0x2cef1e['push'](_0x3cc4b7);}}if(_0x2cef1e){const _0x1a43d7=_0x3cac69=>{for(let _0x3281df=0x1b8b+0x314*0x1+-0xd*0x25b;_0x3281df<_0x2cef1e['length'];++_0x3281df)_0x2cef1e[_0x3281df](_0x3cac69);};return Sr['createAnim'+'Target'](_0x1a43d7,'number',-0x22b9+-0x1*-0x22dc+-0x22,_0x8376fb,'weight.'+_0x1150c6);}return null;},'materialTexture':(_0x25198b,_0x46fe6c)=>{const _0x5bb35b=_0x372a3f(_0x25198b);if(_0x5bb35b){let _0x44252d;for(let _0x5df96c=-0x672+-0xef0+0x1562;_0x5df96c<_0x5bb35b['length'];++_0x5df96c)if(_0x5bb35b[_0x5df96c]['node']['name']===_0x25198b['name']){_0x44252d=_0x5bb35b[_0x5df96c];break;}if(_0x44252d){const _0x118b0a=_0x3b5fbd=>{const _0x30361a=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x3b5fbd[0x661+-0x527+-0x13a*0x1]);_0x30361a&&_0x30361a['resource']&&_0x30361a['type']==='texture'&&(_0x44252d['material'][_0x46fe6c]=_0x30361a['resource'],_0x44252d['material']['update']());};return Sr['createAnim'+'Target'](_0x118b0a,'vector',-0x1cba*0x1+-0x19dd+0x8*0x6d3,_0x25198b,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x4f99f3){if(!this['_mask'])return!(-0x10d*0x9+0x5*0xce+0x56f);const _0x2be769=[_0x4f99f3['entityPath'][-0x1141*0x2+0x4*-0x251+-0x1af*-0x1a],this['graph']['name']];for(let _0x426a79=-0xd3*-0x2b+-0x2*0x935+-0x1107;_0x426a79<_0x2be769['length'];++_0x426a79){let _0x5bd5bf=_0x2be769[_0x426a79];if(this['_isPathInM'+'ask'](_0x5bd5bf,_0x4f99f3['entityPath']['length']===0x1b6+-0xd34+0xb7f))return!(-0x9*-0x345+-0x235f+0x5f2);for(let _0x2e7431=0x218f+-0x93d*-0x2+-0x3408;_0x2e7431<_0x4f99f3['entityPath']['length'];_0x2e7431++)if(_0x5bd5bf+='/'+_0x4f99f3['entityPath'][_0x2e7431],this['_isPathInM'+'ask'](_0x5bd5bf,_0x2e7431===_0x4f99f3['entityPath']['length']-(-0x18bf+-0xa*0xc1+0x1025*0x2)))return!(-0x1345*0x2+-0x15ef+0x3c79);}return!(-0x2398+0xc5*0x2+0x220f);}['findNode'](_0x37ceb3){if(!this['_isPathAct'+'ive'](_0x37ceb3))return null;let _0x5d2b0d;if(this['graph']&&(_0x5d2b0d=this['graph']['findByPath'](_0x37ceb3['entityPath']),_0x5d2b0d||(_0x5d2b0d=this['graph']['findByPath'](_0x37ceb3['entityPath']['slice'](-0x639+-0x4f0+0xb2a)))),!_0x5d2b0d){_0x5d2b0d=this['nodes'][_0x37ceb3['entityPath'][_0x37ceb3['entityPath']['length']-(0x5a5+-0xf20+0x4be*0x2)]||''];const _0x356722=ra['encode'](_0x37ceb3['entityPath'][_0x37ceb3['entityPath']['length']-(0x9*-0x1fe+-0xf0f+0x20fe)]||'','graph',_0x37ceb3['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x356722]===-0xccf+-0x1*0x1067+-0x1b*-0x115&&w['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x356722+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x356722])?this['visitedFal'+'lbackGraph'+'Paths'][_0x356722]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x356722]=0x1d88+-0x1058+-0x34c*0x4;}return _0x5d2b0d;}static['createAnim'+'Target'](_0x4d9ca8,_0x428bee,_0xc89852,_0x2e8e0a,_0x1c39be,_0x269c53){const _0x4f2599=ra['encode'](_0x2e8e0a['path'],_0x269c53||'entity',_0x1c39be);return new xu(_0x4d9ca8,_0x428bee,_0xc89852,_0x4f2599);}['resolve'](_0x49f305){const _0x40667a=ra['encode'](_0x49f305['entityPath'],_0x49f305['component'],_0x49f305['propertyPa'+'th']);let _0xbf8f0b=this['targetCach'+'e'][_0x40667a];if(_0xbf8f0b)return _0xbf8f0b;const _0xf4353e=this['findNode'](_0x49f305);if(!_0xf4353e)return null;const _0x465c15=this['handlers'][_0x49f305['propertyPa'+'th']];return!_0x465c15||(_0xbf8f0b=_0x465c15(_0xf4353e),!_0xbf8f0b)?null:(this['targetCach'+'e'][_0x40667a]=_0xbf8f0b,this['nodeCounts'][_0xf4353e['path']]?this['nodeCounts'][_0xf4353e['path']]++:(this['activeNode'+'s']['push'](_0xf4353e),this['nodeCounts'][_0xf4353e['path']]=-0x2191*-0x1+-0xd*0x21f+-0x7*0xdb),_0xbf8f0b);}['unresolve'](_0x63d9be){if(_0x63d9be['component']!=='graph')return;const _0x48032d=this['nodes'][_0x63d9be['entityPath'][_0x63d9be['entityPath']['length']-(-0x7*0xc1+-0x1880+-0x3b9*-0x8)]||''];if(this['nodeCounts'][_0x48032d['path']]--,this['nodeCounts'][_0x48032d['path']]===-0x1625*-0x1+0x2e1+-0x1906){const _0x4bf076=this['activeNode'+'s'],_0x5a4452=_0x4bf076['indexOf'](_0x48032d['node']),_0x2c3ce3=_0x4bf076['length'];_0x5a4452<_0x2c3ce3-(-0x2*-0xde5+0x9*-0x3e4+0x73b)&&(_0x4bf076[_0x5a4452]=_0x4bf076[_0x2c3ce3-(0x139*0x1+0x13c4+-0x14fc)]),_0x4bf076['pop']();}}['update'](_0x289f27){const _0x30c34c=this['activeNode'+'s'];for(let _0x57a13d=-0x587*0x6+-0x101e+0xc52*0x4;_0x57a13d<_0x30c34c['length'];++_0x57a13d)_0x30c34c[_0x57a13d]['_dirtifyLo'+'cal']();}['assignMask'](_0x32b74a){return _0x32b74a!==this['_mask']?(this['_mask']=_0x32b74a,!(0x258e+-0xbf8*0x1+-0xccb*0x2)):!(-0x11a3*-0x1+0xd35+-0x1ed7);}}class Wv extends we{constructor(){super(...arguments),h(this,'_animation'+'s',{}),h(this,'_assets',[]),h(this,'_loop',!(0x1a7f+-0x41*-0x77+-0x38b6)),h(this,'animEvalua'+'tor',null),h(this,'model',null),h(this,'skeleton',null),h(this,'fromSkel',null),h(this,'toSkel',null),h(this,'animations'+'Index',{}),h(this,'prevAnim',null),h(this,'currAnim',null),h(this,'blend',0x67*-0x61+-0xad7*-0x1+0xa4*0x2c),h(this,'blending',!(0xed5+0xf71+-0x1e45)),h(this,'blendSpeed',0x148c+-0x2c1+-0x11cb),h(this,'activate',!(-0x11b0+-0x142f*0x1+0x25df)),h(this,'speed',-0xb*-0xfd+-0x1b57+-0x1*-0x1079);}set['animations'](_0x3937dc){this['_animation'+'s']=_0x3937dc,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x1b2815){const _0x385d61=this['_assets'];if(_0x385d61&&_0x385d61['length']){for(let _0x22f906=-0x373*0x1+0xcfe*0x1+-0x98b*0x1;_0x22f906<_0x385d61['length'];_0x22f906++)if(_0x385d61[_0x22f906]){const _0x3a533a=this['system']['app']['assets']['get'](_0x385d61[_0x22f906]);if(_0x3a533a){_0x3a533a['off']('change',this['onAssetCha'+'nged'],this),_0x3a533a['off']('remove',this['onAssetRem'+'oved'],this);const _0x5c44a1=this['animations'+'Index'][_0x3a533a['id']];this['currAnim']===_0x5c44a1&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x5c44a1],delete this['animations'+'Index'][_0x3a533a['id']];}}}this['_assets']=_0x1b2815;const _0x1d6432=_0x1b2815['map'](_0x59231f=>_0x59231f instanceof pe?_0x59231f['id']:_0x59231f);this['loadAnimat'+'ionAssets'](_0x1d6432);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0x1ceb61){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0x1ceb61,this['skeleton']['addTime'](0x2213+0x7b7+-0x29ca),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0x477e2f=this['animEvalua'+'tor']['clips'];for(let _0x3507e1=-0x18ef*0x1+-0x1*0x21ff+-0x31a*-0x13;_0x3507e1<_0x477e2f['length'];++_0x3507e1)_0x477e2f[_0x3507e1]['time']=_0x1ceb61;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x1754b2=this['animEvalua'+'tor']['clips'];if(_0x1754b2['length']>0x132+0x127b*-0x1+0x1149)return _0x1754b2[_0x1754b2['length']-(0x4c1*-0x2+0x1274+-0x8f1)]['time'];}return 0x1*-0x5a5+-0x1904+0x1ea9;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(w['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),-0x2356+0x12df*-0x2+0x4914);}set['loop'](_0x21ee7d){if(this['_loop']=_0x21ee7d,this['skeleton']&&(this['skeleton']['looping']=_0x21ee7d),this['animEvalua'+'tor']){for(let _0x135455=0x1dac+0xd*-0x177+-0xaa1;_0x135455<this['animEvalua'+'tor']['clips']['length'];++_0x135455)this['animEvalua'+'tor']['clips'][_0x135455]['loop']=_0x21ee7d;}}get['loop'](){return this['_loop'];}['play'](_0xd8e112,_0x17a947=0x1993*0x1+-0x35f*-0x1+0x1ee*-0xf){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0xd8e112]){w['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0xd8e112+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0xd8e112,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0x3110fc=this['animations'][this['prevAnim']],_0x4cc3aa=this['animations'][this['currAnim']];if(this['blending']=_0x17a947>-0x1*0x1190+0x2282+-0x10f2&&!!this['prevAnim'],this['blending']&&(this['blend']=-0x1*-0x2b3+0x1c84+-0x1f37,this['blendSpeed']=(-0xd3d*0x1+-0x450+0x118e)/_0x17a947),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0x3110fc,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x4cc3aa):this['skeleton']['animation']=_0x4cc3aa),this['animEvalua'+'tor']){const _0x248423=this['animEvalua'+'tor'];if(this['blending']){for(;_0x248423['clips']['length']>0x7*-0x43f+0x256f+-0x7b5;)_0x248423['removeClip'](-0x1c45+-0x1*0x1a9d+-0xa*-0x57d);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x1071b0=new Dh(this['animations'][this['currAnim']],-0x18d9+-0x178f+-0x8*-0x60d,0x2163+-0x2652+0x2*0x278,!(-0x1a30*0x1+0x7f*0xd+0x13bd),this['loop']);_0x1071b0['name']=this['currAnim'],_0x1071b0['blendWeigh'+'t']=this['blending']?-0x1*-0x1357+0x889+-0x1be0:0x2ac+0x1*0x5d6+-0x881,_0x1071b0['reset'](),this['animEvalua'+'tor']['addClip'](_0x1071b0);}}this['playing']=!(-0x703*0x4+-0xb56*0x1+0x2762);}}['getAnimati'+'on'](_0xf02a0a){return this['animations'][_0xf02a0a];}['setModel'](_0x43698b){_0x43698b!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x43698b,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x485e31=this['entity']['model'];if(_0x485e31){const _0x12cd67=_0x485e31['model'];_0x12cd67&&_0x12cd67!==this['model']&&this['setModel'](_0x12cd67);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x4365e7=Object['keys'](this['_animation'+'s']);_0x4365e7['length']>0xb8*-0x27+0x745*0x2+0xd7e&&this['play'](_0x4365e7[-0x2*0xa93+0x608+0x2d*0x56]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x4cee5b=this['model'],_0xa3a6e5=this['animations'];let _0xaa0cca=!(-0x1*0x1c4e+-0x6fa+0x2349*0x1),_0xfff330=!(0xda9+0x498+-0x1240);for(const _0x395e5f in _0xa3a6e5)_0xa3a6e5['hasOwnProp'+'erty'](_0x395e5f)&&(_0xa3a6e5[_0x395e5f]['constructo'+'r']===Qi?_0xfff330=!(-0x869+-0x18*0x6+0x8f9*0x1):_0xaa0cca=!(-0x897+0x1b0+-0x39*-0x1f));const _0x2c37cc=_0x4cee5b['getGraph']();_0xaa0cca?(this['fromSkel']=new Sf(_0x2c37cc),this['toSkel']=new Sf(_0x2c37cc),this['skeleton']=new Sf(_0x2c37cc),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x2c37cc)):_0xfff330&&(this['animEvalua'+'tor']=new Gv(new Sr(this['entity'])));}['loadAnimat'+'ionAssets'](_0x4fa054){if(!_0x4fa054||!_0x4fa054['length'])return;const _0x1719f7=this['system']['app']['assets'],_0x5db192=_0x5103dd=>{if(_0x5103dd['resources']['length']>-0x1973+-0x436*0x3+0x2616){for(let _0x2949d3=0x1*-0x63e+0x1225+-0xb*0x115;_0x2949d3<_0x5103dd['resources']['length'];_0x2949d3++)this['animations'][_0x5103dd['resources'][_0x2949d3]['name']]=_0x5103dd['resources'][_0x2949d3],this['animations'+'Index'][_0x5103dd['id']]=_0x5103dd['resources'][_0x2949d3]['name'];}else this['animations'][_0x5103dd['name']]=_0x5103dd['resource'],this['animations'+'Index'][_0x5103dd['id']]=_0x5103dd['name'];this['animations']=this['animations'];},_0x14d7ad=_0x54ae3c=>{_0x54ae3c['off']('change',this['onAssetCha'+'nged'],this),_0x54ae3c['on']('change',this['onAssetCha'+'nged'],this),_0x54ae3c['off']('remove',this['onAssetRem'+'oved'],this),_0x54ae3c['on']('remove',this['onAssetRem'+'oved'],this),_0x54ae3c['resource']?_0x5db192(_0x54ae3c):(_0x54ae3c['once']('load',_0x5db192,this),this['enabled']&&this['entity']['enabled']&&_0x1719f7['load'](_0x54ae3c));};for(let _0x92d9d3=-0x659*0x2+0x186b+0xbb9*-0x1,_0x16b306=_0x4fa054['length'];_0x92d9d3<_0x16b306;_0x92d9d3++){const _0x5d8c37=_0x1719f7['get'](_0x4fa054[_0x92d9d3]);_0x5d8c37?_0x14d7ad(_0x5d8c37):_0x1719f7['on']('add:'+_0x4fa054[_0x92d9d3],_0x14d7ad);}}['onAssetCha'+'nged'](_0x160fa4,_0x26265a,_0x4bb27d,_0x3fd83a){if(_0x26265a==='resource'||_0x26265a==='resources'){if(_0x26265a==='resources'&&_0x4bb27d&&_0x4bb27d['length']===0x1ffe+-0x2*0x7f+-0x1f00&&(_0x4bb27d=null),_0x4bb27d){let _0x17243e=!(0xdd2+0x12cd+-0x209e);if(_0x4bb27d['length']>0x1*-0xbed+0xecb+0x2dd*-0x1){if(_0x3fd83a&&_0x3fd83a['length']>0x2*0x615+0xa*0x3bf+-0x319f){for(let _0x1fb4e3=-0xa7e+0xb*0x1d2+-0x988;_0x1fb4e3<_0x3fd83a['length'];_0x1fb4e3++)delete this['animations'][_0x3fd83a[_0x1fb4e3]['name']];}else delete this['animations'][_0x160fa4['name']];_0x17243e=!(0x635+0x1c2c+-0x6e*0x50);for(let _0x4358bc=0x2379+0x13*-0xe6+-0x1267;_0x4358bc<_0x4bb27d['length'];_0x4358bc++)this['animations'][_0x4bb27d[_0x4358bc]['name']]=_0x4bb27d[_0x4358bc],!_0x17243e&&this['currAnim']===_0x4bb27d[_0x4358bc]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x17243e=!(0x1ec5+0x1fdb+-0x29c*0x18),this['play'](_0x4bb27d[_0x4358bc]['name']));_0x17243e||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x3fd83a&&_0x3fd83a['length']>0x6ad*-0x5+0x7ed+0x1975){for(let _0x8086cf=0x2329+-0xb80+-0x17a9;_0x8086cf<_0x3fd83a['length'];_0x8086cf++)delete this['animations'][_0x3fd83a[_0x8086cf]['name']];}this['animations'][_0x160fa4['name']]=_0x4bb27d[0x1c41+-0x28*0x8e+-0x611]||_0x4bb27d,_0x17243e=!(0x93c*-0x3+-0x1773+-0x2*-0x1994),this['currAnim']===_0x160fa4['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x17243e=!(-0x1c4f+0x1eb4+-0x1*0x265),this['play'](_0x160fa4['name'])),_0x17243e||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x160fa4['id']]=_0x160fa4['name'];}else{if(_0x3fd83a['length']>0x987+0xc26+-0x4c*0x49){for(let _0x129d87=0x30*-0x70+0x1*-0x1dd3+0x32d3;_0x129d87<_0x3fd83a['length'];_0x129d87++)delete this['animations'][_0x3fd83a[_0x129d87]['name']],this['currAnim']===_0x3fd83a[_0x129d87]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x160fa4['name']],this['currAnim']===_0x160fa4['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x160fa4['id']];}}}['onAssetRem'+'oved'](_0xb20fef){if(_0xb20fef['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0xb20fef['resources']['length']>-0x1037+0x25*0xf7+-0x137b){for(let _0x482ba5=-0xc00+-0x96a+-0x156a*-0x1;_0x482ba5<_0xb20fef['resources']['length'];_0x482ba5++)delete this['animations'][_0xb20fef['resources'][_0x482ba5]['name']],this['currAnim']===_0xb20fef['resources'][_0x482ba5]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0xb20fef['name']],this['currAnim']===_0xb20fef['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0xb20fef['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(-0x1905+-0x10*0x28+-0x1b86*-0x1),this['skeleton']&&(this['skeleton']['currentTim'+'e']=0x1*0x263b+-0x1*0x1297+-0x13a4,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0xcd5c0d=-0x1*-0x84b+-0x295*0x1+-0x5b6;_0xcd5c0d<this['animEvalua'+'tor']['clips']['length'];++_0xcd5c0d)this['animEvalua'+'tor']['clips'][_0xcd5c0d]['stop']();this['animEvalua'+'tor']['update'](-0x2522+-0xb94+0x30b6),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x44466b=this['assets'],_0x2a68e4=this['system']['app']['assets'];if(_0x44466b)for(let _0x37abfa=0x15dc+-0x435+-0x11a7,_0x40d2de=_0x44466b['length'];_0x37abfa<_0x40d2de;_0x37abfa++){let _0x40510e=_0x44466b[_0x37abfa];_0x40510e instanceof pe||(_0x40510e=_0x2a68e4['get'](_0x40510e)),_0x40510e&&!_0x40510e['resource']&&_0x2a68e4['load'](_0x40510e);}if(this['activate']&&!this['currAnim']){const _0x4581fe=Object['keys'](this['animations']);_0x4581fe['length']>0x7*0x287+-0x213*0x1+-0xf9e&&this['play'](_0x4581fe[0xb65+0x51b*-0x3+0x4*0xfb]);}}['onBeforeRe'+'move'](){for(let _0x414616=0xbc0+-0x2bd*-0x2+-0x113a;_0x414616<this['assets']['length'];_0x414616++){let _0x3afe15=this['assets'][_0x414616];typeof _0x3afe15=='number'&&(_0x3afe15=this['system']['app']['assets']['get'](_0x3afe15)),_0x3afe15&&(_0x3afe15['off']('change',this['onAssetCha'+'nged'],this),_0x3afe15['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x1d7dd0){if(this['blending']&&(this['blend']+=_0x1d7dd0*this['blendSpeed'],this['blend']>=0x20a8+0x8*-0x440+-0x5*-0x45&&(this['blend']=0x1975+-0x3*-0x3a1+0x2457*-0x1)),this['playing']){const _0x2d89dc=this['skeleton'];if(_0x2d89dc!==null&&this['model']!==null){if(this['blending'])_0x2d89dc['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x192718=_0x1d7dd0*this['speed'];_0x2d89dc['addTime'](_0x192718),this['speed']>-0x1*-0x8a+-0x79f+0x31*0x25&&_0x2d89dc['_time']===_0x2d89dc['animation']['duration']&&!this['loop']?this['playing']=!(0x192+0x2520+0x11b*-0x23):this['speed']<0x2*-0xcc2+-0x3a*-0x41+0xaca&&_0x2d89dc['_time']===-0x3d*0x1c+-0x53*0x33+-0x1735*-0x1&&!this['loop']&&(this['playing']=!(-0x4*-0x7e3+-0x550+-0x1a3b));}this['blending']&&this['blend']===0x1e44+-0xc8c+-0x11b7&&(_0x2d89dc['animation']=this['toSkel']['animation']),_0x2d89dc['updateGrap'+'h']();}}const _0x15ee3b=this['animEvalua'+'tor'];if(_0x15ee3b){for(let _0xb679ad=0xf8a+-0x1128+0x8a*0x3;_0xb679ad<_0x15ee3b['clips']['length'];++_0xb679ad){const _0x44eef9=_0x15ee3b['clips'][_0xb679ad];_0x44eef9['speed']=this['speed'],this['playing']?_0x44eef9['resume']():_0x44eef9['pause']();}this['blending']&&_0x15ee3b['clips']['length']>0x3d6*0x9+-0x1d*0x129+-0xe0&&(_0x15ee3b['clips'][-0x18d9*-0x1+0x1cfd+0x1*-0x35d5]['blendWeigh'+'t']=this['blend']),_0x15ee3b['update'](_0x1d7dd0);}this['blending']&&this['blend']===0x3*0xae5+0x212c+-0x41da&&(this['blending']=!(0x2668+0x154d+0x1*-0x3bb4));}}class LL{constructor(){this['enabled']=!(-0x3*0x346+0x204d*-0x1+0x2a1f);}}const Tu=['enabled'];class RL extends ct{constructor(_0x51829f){super(_0x51829f),this['id']='animation',this['ComponentT'+'ype']=Wv,this['DataType']=LL,this['schema']=Tu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x1c824a,_0x48c0d4,_0xaf2c0b){_0xaf2c0b=['activate','enabled','loop','speed','assets'];for(const _0x22e9a5 of _0xaf2c0b)_0x48c0d4['hasOwnProp'+'erty'](_0x22e9a5)&&(_0x1c824a[_0x22e9a5]=_0x48c0d4[_0x22e9a5]);super['initialize'+'ComponentD'+'ata'](_0x1c824a,_0x48c0d4,Tu);}['cloneCompo'+'nent'](_0x206342,_0x4047bb){this['addCompone'+'nt'](_0x4047bb,{}),_0x4047bb['animation']['assets']=_0x206342['animation']['assets']['slice'](),_0x4047bb['animation']['speed']=_0x206342['animation']['speed'],_0x4047bb['animation']['loop']=_0x206342['animation']['loop'],_0x4047bb['animation']['activate']=_0x206342['animation']['activate'],_0x4047bb['animation']['enabled']=_0x206342['animation']['enabled'];const _0x340195={},_0x45f50b=_0x206342['animation']['animations'];for(const _0x37136f in _0x45f50b)_0x45f50b['hasOwnProp'+'erty'](_0x37136f)&&(_0x340195[_0x37136f]=_0x45f50b[_0x37136f]);_0x4047bb['animation']['animations']=_0x340195;const _0x37bb18={},_0x1c2b3d=_0x206342['animation']['animations'+'Index'];for(const _0x2a3fbc in _0x1c2b3d)_0x1c2b3d['hasOwnProp'+'erty'](_0x2a3fbc)&&(_0x37bb18[_0x2a3fbc]=_0x1c2b3d[_0x2a3fbc]);return _0x4047bb['animation']['animations'+'Index']=_0x37bb18,_0x4047bb['animation'];}['onBeforeRe'+'move'](_0x12d050,_0x303e6a){_0x303e6a['onBeforeRe'+'move']();}['onUpdate'](_0x106051){const _0x2c6b8a=this['store'];for(const _0x5c9718 in _0x2c6b8a)if(_0x2c6b8a['hasOwnProp'+'erty'](_0x5c9718)){const _0x54ee56=_0x2c6b8a[_0x5c9718];_0x54ee56['data']['enabled']&&_0x54ee56['entity']['enabled']&&_0x54ee56['entity']['animation']['update'](_0x106051);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Wv['prototype'],Tu);class ml{constructor(_0xa86ebf,_0x35ff10,_0x1fa27f,_0x2d947f,_0x17008e=0x41+0x12eb+-0x132b){this['_state']=_0xa86ebf,this['_parent']=_0x35ff10,this['_name']=_0x1fa27f,Array['isArray'](_0x2d947f)?(this['_point']=new J(_0x2d947f[-0x1bc9+-0x2*-0xb11+0x5a7],_0x2d947f[-0x24ca+-0x429+0x28f4]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x2d947f,this['_pointLeng'+'th']=_0x2d947f),this['_speed']=_0x17008e,this['_weightedS'+'peed']=0x2183+0x1671+-0x37f3,this['_weight']=0xab7*-0x3+0x1753+0x8d3,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x33bdc5){this['_weight']=_0x33bdc5;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x408e50=this['_state']['totalWeigh'+'t'];return _0x408e50===0x1*-0x95c+0xd12+-0x3b6?0x9bd+-0x17*-0x7c+-0x14e1:this['weight']/_0x408e50;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x7c279a){this['_weightedS'+'peed']=_0x7c279a;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x58092d){this['_animTrack']=_0x58092d;}get['animTrack'](){return this['_animTrack'];}}class Jn extends ml{constructor(_0xd7f40,_0x4d59ad,_0x3c8063,_0x435cac,_0x397545,_0x37b290,_0x371514,_0x37f8bf,_0x283d7d){super(_0xd7f40,_0x4d59ad,_0x3c8063,_0x435cac),this['_parameter'+'s']=_0x397545,this['_parameter'+'Values']=new Array(_0x397545['length']),this['_children']=[],this['_findParam'+'eter']=_0x283d7d,this['_syncAnima'+'tions']=_0x371514!==!(0x1357*0x1+-0x2592+-0x614*-0x3),this['_pointCach'+'e']={};for(let _0xdd9b67=0x52a+0x1d*-0x5a+-0x2*-0x284;_0xdd9b67<_0x37b290['length'];_0xdd9b67++){const _0x352ba8=_0x37b290[_0xdd9b67];_0x352ba8['children']?this['_children']['push'](_0x37f8bf(_0x352ba8['type'],_0xd7f40,this,_0x352ba8['name'],-0x1*0x15bb+-0x193f+0x2efb,_0x352ba8['parameter']?[_0x352ba8['parameter']]:_0x352ba8['parameters'],_0x352ba8['children'],_0x352ba8['syncAnimat'+'ions'],_0x37f8bf,_0x283d7d)):this['_children']['push'](new ml(_0xd7f40,this,_0x352ba8['name'],_0x352ba8['point'],_0x352ba8['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0xe60f5e){for(let _0x2d9b61=-0x57*-0x2f+-0x626*-0x5+0x2eb7*-0x1;_0x2d9b61<this['_children']['length'];_0x2d9b61++)if(this['_children'][_0x2d9b61]['name']===_0xe60f5e)return this['_children'][_0x2d9b61];return null;}['updatePara'+'meterValue'+'s'](){let _0x7f05cb=!(-0xaf9+0x1*0x1b09+0x1*-0x1010);for(let _0x3e9fe5=0x1943+0x1d33+-0x1b3b*0x2;_0x3e9fe5<this['_parameter'+'Values']['length'];_0x3e9fe5++){const _0x2c9dae=this['_findParam'+'eter'](this['_parameter'+'s'][_0x3e9fe5])['value'];this['_parameter'+'Values'][_0x3e9fe5]!==_0x2c9dae&&(this['_parameter'+'Values'][_0x3e9fe5]=_0x2c9dae,_0x7f05cb=!(0x1394+-0x7*-0x44f+-0x31bc));}return _0x7f05cb;}['getNodeWei'+'ghtedDurat'+'ion'](_0x29f8c6){return this['_children'][_0x29f8c6]['animTrack']['duration']/this['_children'][_0x29f8c6]['speedMulti'+'plier']*this['_children'][_0x29f8c6]['weight'];}['getNodeCou'+'nt'](){let _0x5533a2=0x1ea1+-0xb10+0x1*-0x1391;for(let _0x2eed51=-0x43*0x3d+-0xd*0x4+0x102b;_0x2eed51<this['_children']['length'];_0x2eed51++)this['_children'][_0x2eed51]['constructo'+'r']===Jn?_0x5533a2+=this['_children'][_0x2eed51]['getNodeCou'+'nt']():_0x5533a2++;return _0x5533a2;}}class OL extends Jn{constructor(_0x24fe3f,_0x1451dd,_0x42f417,_0x5b96ab,_0x354a2e,_0x176cec,_0x146371,_0xd34e6a,_0x40bc77){_0x176cec['sort']((_0x67e6d9,_0x262789)=>_0x67e6d9['point']-_0x262789['point']),super(_0x24fe3f,_0x1451dd,_0x42f417,_0x5b96ab,_0x354a2e,_0x176cec,_0x146371,_0xd34e6a,_0x40bc77);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x253965=-0x10fb+0x9fc+0x6ff;this['_children'][0x5b1+-0x1b*-0x16a+-0x2bdf]['weight']=0x3cb+0x9*-0x351+0x3a*0x73;for(let _0x4299c3=-0x1*-0x141a+-0x17cf+0x1*0x3b5;_0x4299c3<this['_children']['length'];_0x4299c3++){const _0x425ed8=this['_children'][_0x4299c3];if(_0x4299c3!==this['_children']['length']-(-0xffb+-0x1*0x18a7+-0x65*-0x67)){const _0x3a6262=this['_children'][_0x4299c3+(-0xd05*-0x1+0xcf5+0x1*-0x19f9)];if(_0x425ed8['point']===_0x3a6262['point'])_0x425ed8['weight']=0x1*-0x2468+-0x17*-0x31+0x2001*0x1+0.5,_0x3a6262['weight']=0x1*0x577+-0x7f*-0x2f+0x1*-0x1cc8+0.5;else{if(Y['between'](this['_parameter'+'Values'][-0x231d+0xef1+0x142c],_0x425ed8['point'],_0x3a6262['point'],!(0x1c6b+-0x399*-0x1+0xc*-0x2ab))){const _0x41d12f=Math['abs'](_0x425ed8['point']-_0x3a6262['point']),_0x2c6e7d=Math['abs'](_0x425ed8['point']-this['_parameter'+'Values'][0x4c2+-0x1*-0x7cd+-0xc8f]),_0x1ccd5f=(_0x41d12f-_0x2c6e7d)/_0x41d12f;_0x425ed8['weight']=_0x1ccd5f,_0x3a6262['weight']=-0x325+-0x1225*0x2+0x2770-_0x1ccd5f;}else _0x3a6262['weight']=-0x1a6*-0x11+0x98a+0x2590*-0x1;}}this['_syncAnima'+'tions']&&(_0x253965+=_0x425ed8['animTrack']['duration']/_0x425ed8['absoluteSp'+'eed']*_0x425ed8['weight']);}if(this['_syncAnima'+'tions'])for(let _0x3a1865=0xb86*0x2+0xc*0x1b4+0x1*-0x2b7c;_0x3a1865<this['_children']['length'];_0x3a1865++){const _0x3d4b4d=this['_children'][_0x3a1865];_0x3d4b4d['weightedSp'+'eed']=_0x3d4b4d['animTrack']['duration']/_0x3d4b4d['absoluteSp'+'eed']/_0x253965;}}}const ki=class ki extends Jn{['pointDista'+'nceCache'](_0x2db070,_0x192a3d){const _0x14d3af=''+_0x2db070+_0x192a3d;return this['_pointCach'+'e'][_0x14d3af]||(this['_pointCach'+'e'][_0x14d3af]=this['_children'][_0x192a3d]['point']['clone']()['sub'](this['_children'][_0x2db070]['point'])),this['_pointCach'+'e'][_0x14d3af];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x2350c6,_0x55aa50;ki['_p']['set'](...this['_parameter'+'Values']),_0x2350c6=-0x186b+0xc96+0xbd5,_0x55aa50=-0x1*-0x5fd+0x1efd*0x1+-0x24fa;for(let _0x48e9b6=-0x21+-0x167+0x7*0x38;_0x48e9b6<this['_children']['length'];_0x48e9b6++){const _0x14610b=this['_children'][_0x48e9b6],_0x6eff69=_0x14610b['point'];ki['_pip']['set'](ki['_p']['x'],ki['_p']['y'])['sub'](_0x6eff69);let _0x6baf4a=Number['MAX_VALUE'];for(let _0xf4b8f7=0x12bb+-0x1f2a+0xc6f*0x1;_0xf4b8f7<this['_children']['length'];_0xf4b8f7++){if(_0x48e9b6===_0xf4b8f7)continue;const _0x42424=this['pointDista'+'nceCache'](_0x48e9b6,_0xf4b8f7),_0x4dbd8e=Y['clamp'](-0x3*-0x496+0x8*0x331+0x71*-0x59-ki['_pip']['dot'](_0x42424)/_0x42424['lengthSq'](),0x94*-0x3b+0x3*-0xcdf+0x48b9,-0x13cd+-0x1748+0x2b16);_0x4dbd8e<_0x6baf4a&&(_0x6baf4a=_0x4dbd8e);}_0x14610b['weight']=_0x6baf4a,_0x2350c6+=_0x6baf4a,this['_syncAnima'+'tions']&&(_0x55aa50+=_0x14610b['animTrack']['duration']/_0x14610b['absoluteSp'+'eed']*_0x14610b['weight']);}for(let _0x35397d=-0xf1+-0x7*0x1c9+-0x28*-0x56;_0x35397d<this['_children']['length'];_0x35397d++){const _0x14a347=this['_children'][_0x35397d];_0x14a347['weight']=_0x14a347['_weight']/_0x2350c6,this['_syncAnima'+'tions']&&(_0x14a347['weightedSp'+'eed']=_0x14a347['animTrack']['duration']/_0x14a347['absoluteSp'+'eed']/_0x55aa50);}}};h(ki,'_p',new J()),h(ki,'_pip',new J());let wu=ki;const Ui=class Ui extends Jn{['pointCache'](_0x5e500b,_0x5ce464){const _0x932c5b=''+_0x5e500b+_0x5ce464;return this['_pointCach'+'e'][_0x932c5b]||(this['_pointCach'+'e'][_0x932c5b]=new J((this['_children'][_0x5ce464]['pointLengt'+'h']-this['_children'][_0x5e500b]['pointLengt'+'h'])/((this['_children'][_0x5ce464]['pointLengt'+'h']+this['_children'][_0x5e500b]['pointLengt'+'h'])/(0x285*-0x5+-0x1a3*-0xd+-0x8ac)),J['angleRad'](this['_children'][_0x5e500b]['point'],this['_children'][_0x5ce464]['point'])*(-0x1dd1+-0x1680+0x3453))),this['_pointCach'+'e'][_0x932c5b];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x2ac1a8,_0x5b848b;Ui['_p']['set'](...this['_parameter'+'Values']);const _0x42faa0=Ui['_p']['length']();_0x2ac1a8=-0x158f+-0x24c5+-0x2*-0x1d2a,_0x5b848b=0x1*-0x1b3d+0x8*-0x3be+-0x7b*-0x77;for(let _0x13a294=0x7cc+0x3e*0x39+-0x159a;_0x13a294<this['_children']['length'];_0x13a294++){const _0x21dda4=this['_children'][_0x13a294],_0x7e99ad=_0x21dda4['point'],_0x502468=_0x21dda4['pointLengt'+'h'];let _0xe249ee=Number['MAX_VALUE'];for(let _0x4bf187=-0x1291+0x241b+-0x118a;_0x4bf187<this['_children']['length'];_0x4bf187++){if(_0x13a294===_0x4bf187)continue;const _0x503c48=this['pointCache'](_0x13a294,_0x4bf187),_0x57f4a2=this['_children'][_0x4bf187]['pointLengt'+'h'];Ui['_pip']['set']((_0x42faa0-_0x502468)/((_0x57f4a2+_0x502468)/(-0x8*-0xa+0xcd2*0x1+-0xd20)),J['angleRad'](_0x7e99ad,Ui['_p'])*(0x2*0xc27+-0x7*0x32+0xa*-0x24b));const _0x568d58=Y['clamp'](-0x2*0x6da+0x1f79+-0x3*0x5ec-Math['abs'](Ui['_pip']['dot'](_0x503c48)/_0x503c48['lengthSq']()),-0x1*0x2343+0xd1f*-0x1+0x3062,-0x17d9+-0x1*0x6d0+0x1eaa);_0x568d58<_0xe249ee&&(_0xe249ee=_0x568d58);}_0x21dda4['weight']=_0xe249ee,_0x2ac1a8+=_0xe249ee,this['_syncAnima'+'tions']&&(_0x5b848b+=_0x21dda4['animTrack']['duration']/_0x21dda4['absoluteSp'+'eed']*_0x21dda4['weight']);}for(let _0x2bbf11=0x17*0x1ae+0x1*0x9cb+0x21b*-0x17;_0x2bbf11<this['_children']['length'];_0x2bbf11++){const _0x2f239b=this['_children'][_0x2bbf11];if(_0x2f239b['weight']=_0x2f239b['_weight']/_0x2ac1a8,this['_syncAnima'+'tions']){const _0x27a848=_0x2f239b['animTrack']['duration']/_0x5b848b*_0x2ac1a8;_0x2f239b['weightedSp'+'eed']=_0x2f239b['absoluteSp'+'eed']*_0x27a848;}}}};h(Ui,'_p',new J()),h(Ui,'_pip',new J());let Eu=Ui;class FL extends Jn{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0xf08962=0x538+-0x3*-0x8e7+-0xb*0x2e7,_0x139b7a=-0x121*-0x2+-0x3*-0xa6d+-0x2189;for(let _0x1ecc9c=-0x1505+0xeb3*-0x1+0x12*0x1fc;_0x1ecc9c<this['_children']['length'];_0x1ecc9c++)if(_0xf08962+=Math['max'](this['_parameter'+'Values'][_0x1ecc9c],0x5*0x6cf+-0x1d*-0xf+0x7a*-0x4b),this['_syncAnima'+'tions']){const _0x368686=this['_children'][_0x1ecc9c];_0x139b7a+=_0x368686['animTrack']['duration']/_0x368686['absoluteSp'+'eed']*_0x368686['weight'];}for(let _0x503590=-0x11*-0x59+-0x20a3*-0x1+-0x1346*0x2;_0x503590<this['_children']['length'];_0x503590++){const _0x4971d1=this['_children'][_0x503590],_0xc60ad0=Math['max'](this['_parameter'+'Values'][_0x503590],-0x21*0x20+-0x31d*-0x6+-0x2e*0x51);_0xf08962?(_0x4971d1['weight']=_0xc60ad0/_0xf08962,this['_syncAnima'+'tions']&&(_0x4971d1['weightedSp'+'eed']=_0x4971d1['animTrack']['duration']/_0x4971d1['absoluteSp'+'eed']/_0x139b7a)):(_0x4971d1['weight']=0x1*-0xd13+-0xf4c+0x1c5f,this['_syncAnima'+'tions']&&(_0x4971d1['weightedSp'+'eed']=0x34c*-0x2+0x7af*0x1+-0x1f*0x9));}}}class Fg{constructor(_0x18ae9e,_0x33c787,_0x3a9e97=0x43+-0x3c0+0x37e,_0xbecc4d=!(0x1*-0x1034+-0x10f7*0x1+0x212b),_0x44fd7f){h(this,'_animation'+'s',{}),h(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x18ae9e,this['_name']=_0x33c787,this['_speed']=_0x3a9e97,this['_loop']=_0xbecc4d,this['_hasAnimat'+'ions']=!(0xf*-0x1f5+0x1*-0x18b6+0x3612),_0x44fd7f?this['_blendTree']=this['_createTre'+'e'](_0x44fd7f['type'],this,null,_0x33c787,-0x249c+-0x1*0x1e4f+-0x1*-0x42ec,_0x44fd7f['parameter']?[_0x44fd7f['parameter']]:_0x44fd7f['parameters'],_0x44fd7f['children'],_0x44fd7f['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new ml(this,null,_0x33c787,-0x1*-0x1946+0x6ff*-0x2+-0xb47,_0x3a9e97));}['_createTre'+'e'](_0x34e3e0,_0x281dc8,_0x2fd409,_0x13b1c7,_0x1970ef,_0x4468e7,_0x196eb7,_0x2afda9,_0x335f49,_0x25a11e){switch(_0x34e3e0){case CL:return new OL(_0x281dc8,_0x2fd409,_0x13b1c7,_0x1970ef,_0x4468e7,_0x196eb7,_0x2afda9,_0x335f49,_0x25a11e);case ML:return new wu(_0x281dc8,_0x2fd409,_0x13b1c7,_0x1970ef,_0x4468e7,_0x196eb7,_0x2afda9,_0x335f49,_0x25a11e);case PL:return new Eu(_0x281dc8,_0x2fd409,_0x13b1c7,_0x1970ef,_0x4468e7,_0x196eb7,_0x2afda9,_0x335f49,_0x25a11e);case DL:return new FL(_0x281dc8,_0x2fd409,_0x13b1c7,_0x1970ef,_0x4468e7,_0x196eb7,_0x2afda9,_0x335f49,_0x25a11e);}w['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x34e3e0);}['_getNodeFr'+'omPath'](_0x156a40){let _0x3ed750=this['_blendTree'];for(let _0x4effd6=0x185a+-0x1508+-0x351;_0x4effd6<_0x156a40['length'];_0x4effd6++)_0x3ed750=_0x3ed750['getChild'](_0x156a40[_0x4effd6]);return _0x3ed750;}['addAnimati'+'on'](_0x230ffc,_0x12bc72){const _0x12cdfa=_0x230ffc['join']('.'),_0x45b889=this['_animation'+'List']['findIndex'](_0x13d911=>_0x13d911['path']===_0x12cdfa);if(_0x45b889>=-0x135+-0x7*-0x34d+0x1*-0x15e6)this['_animation'+'List'][_0x45b889]['animTrack']=_0x12bc72;else{const _0x803c11=this['_getNodeFr'+'omPath'](_0x230ffc);_0x803c11['animTrack']=_0x12bc72,this['_animation'+'List']['push'](_0x803c11);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>0xb92+0x713*-0x3+-0x1*-0x9a7&&this['_animation'+'List']['every'](_0x37dcaa=>_0x37dcaa['animTrack']&&_0x37dcaa['animTrack']!==Qi['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x1a3d2f){this['_animation'+'List']=_0x1a3d2f,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x5b8f0f){this['_speed']=_0x5b8f0f;}get['speed'](){return this['_speed'];}set['loop'](_0x2fdc6f){this['_loop']=_0x2fdc6f;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===ml?-0x636*-0x1+0x43f+-0xa74:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return Ih['indexOf'](this['name'])!==-(0x16e4+-0x943*0x3+0x4e6)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>-0x32*-0x23+-0x20be+-0x67a*-0x4){const _0x5607f2=this['name']+'.'+this['animations'][0x1e19+-0x1b13+-0x306]['animTrack']['name'],_0x3d878d=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x5607f2);if(_0x3d878d)return _0x3d878d['loop'];}return!(0x3*-0x33e+-0x1*-0xc2f+-0x274);}get['totalWeigh'+'t'](){let _0x2ead3d=0x431+0xbf*-0x22+-0x1a1*-0xd;for(let _0x23b62d=0x1d52+0xaa*0x2+-0x1ea6;_0x23b62d<this['animations']['length'];_0x23b62d++)_0x2ead3d+=this['animations'][_0x23b62d]['weight'];return _0x2ead3d;}get['timelineDu'+'ration'](){let _0x2068fa=0x1783+0x2704+-0x3e87;for(let _0x3d9d43=-0x13ad+-0xf9b*0x1+0x11a4*0x2;_0x3d9d43<this['animations']['length'];_0x3d9d43++){const _0x4d4251=this['animations'][_0x3d9d43];_0x4d4251['animTrack']['duration']>_0x2068fa&&(_0x2068fa=_0x4d4251['animTrack']['duration']);}return _0x2068fa;}}class Lh{constructor({from:_0x3744e5,to:_0x4c7114,time:_0x47f98b=0x4*-0xc3+0x6d*-0x13+-0xb23*-0x1,priority:_0x25ef46=0x3*-0x6d9+-0x19bb+0x2e46,conditions:_0x5a984c=[],exitTime:_0x5efb35=null,transitionOffset:_0x28b697=null,interruptionSource:_0x2303a3=zv}){this['_from']=_0x3744e5,this['_to']=_0x4c7114,this['_time']=_0x47f98b,this['_priority']=_0x25ef46,this['_condition'+'s']=_0x5a984c,this['_exitTime']=_0x5efb35,this['_transitio'+'nOffset']=_0x28b697,this['_interrupt'+'ionSource']=_0x2303a3;}get['from'](){return this['_from'];}set['to'](_0x5d0ac3){this['_to']=_0x5d0ac3;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class NL{constructor(_0x59f41e,_0x21f58d,_0x36a80c,_0x318fe3,_0x4cc7ad,_0x10f61e,_0x401680){h(this,'_states',{}),h(this,'_stateName'+'s',[]),h(this,'_findTrans'+'itionsFrom'+'StateCache',{}),h(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),h(this,'_previousS'+'tateName',null),h(this,'_activeSta'+'teName',Co),h(this,'_activeSta'+'teDuration',0x82b+0x423*0x1+-0xc4e),h(this,'_activeSta'+'teDuration'+'Dirty',!(-0x12a4+0x168f+-0x3eb)),h(this,'_playing',!(0x29*-0x2b+-0x4d+0x731)),h(this,'_activate'),h(this,'_transitio'+'ns'),h(this,'_currTrans'+'itionTime',0x140d+0x270d+-0x3b19),h(this,'_totalTran'+'sitionTime',-0x103+-0x4*0xd0+0xb6*0x6),h(this,'_isTransit'+'ioning',!(0x174*0x9+0x1667+-0x1de*0x13)),h(this,'_transitio'+'nInterrupt'+'ionSource',zv),h(this,'_transitio'+'nPreviousS'+'tates',[]),h(this,'_timeInSta'+'te',0xbab+-0xf45+-0x1cd*-0x2),h(this,'_timeInSta'+'teBefore',-0x7*-0x506+0x232*0x5+-0x2e24),h(this,'findParame'+'ter',_0x4f66fe=>this['_findParam'+'eter'](_0x4f66fe)),(this['_animEvalu'+'ator']=_0x59f41e,this['_eventHand'+'ler']=_0x4cc7ad,this['_findParam'+'eter']=_0x10f61e,this['_consumeTr'+'igger']=_0x401680);for(let _0x69350=-0xf14+-0x301*-0x5+0x5*0x3;_0x69350<_0x21f58d['length'];_0x69350++)this['_states'][_0x21f58d[_0x69350]['name']]=new Fg(this,_0x21f58d[_0x69350]['name'],_0x21f58d[_0x69350]['speed'],_0x21f58d[_0x69350]['loop'],_0x21f58d[_0x69350]['blendTree']),this['_stateName'+'s']['push'](_0x21f58d[_0x69350]['name']);this['_transitio'+'ns']=_0x36a80c['map'](_0x281627=>new Lh({..._0x281627})),this['_activate']=_0x318fe3;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0x2f2cf6){this['_activeSta'+'teName']=_0x2f2cf6;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x2eb992){this['_previousS'+'tateName']=_0x2eb992;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x27763b=!(-0x1*-0x96e+0x4e3+-0x5*0x2dd);for(let _0xcc8a2=0xfb3+-0x1e06+0xe53;_0xcc8a2<this['_stateName'+'s']['length'];_0xcc8a2++)this['_states'][this['_stateName'+'s'][_0xcc8a2]]['playable']||(_0x27763b=!(0x96e+0x1079*0x1+-0x8a2*0x3));return _0x27763b;}set['playing'](_0x2f7920){this['_playing']=_0x2f7920;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x66733f=-0x447+0x4b*0x81+-0x2184;for(let _0x486326=0x6df+0x4*-0x122+-0x1*0x257;_0x486326<this['activeStat'+'eAnimation'+'s']['length'];_0x486326++){const _0x4cde2d=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x486326]['name']);_0x4cde2d&&(_0x66733f=Math['max'](_0x66733f,_0x4cde2d['track']['duration']));}this['_activeSta'+'teDuration']=_0x66733f,this['_activeSta'+'teDuration'+'Dirty']=!(0xffd+0x1ae+0x26*-0x77);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x512c81){this['_timeInSta'+'teBefore']=_0x512c81,this['_timeInSta'+'te']=_0x512c81;for(let _0xbf4e13=-0x2456*0x1+-0x525+0x29*0x103;_0xbf4e13<this['activeStat'+'eAnimation'+'s']['length'];_0xbf4e13++){const _0x55199a=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0xbf4e13]['name']);_0x55199a&&(_0x55199a['time']=_0x512c81);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x2fb8a0){return this['_animEvalu'+'ator']['assignMask'](_0x2fb8a0);}['_findState'](_0x2960f4){return this['_states'][_0x2960f4];}['_getActive'+'StateProgr'+'essForTime'](_0x1ecf0a){if(this['activeStat'+'eName']===Co||this['activeStat'+'eName']===vu||this['activeStat'+'eName']===qr)return 0xe*-0x23b+0x1dcb+0x17*0x10;const _0x178aff=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][0x57e+-0x1f*-0x11b+-0x27c3]['name']);return _0x178aff?_0x178aff['progressFo'+'rTime'](_0x1ecf0a):null;}['_findTrans'+'itionsFrom'+'State'](_0x5e000f){let _0x6836ca=this['_findTrans'+'itionsFrom'+'StateCache'][_0x5e000f];return _0x6836ca||(_0x6836ca=this['_transitio'+'ns']['filter'](_0x4c02ad=>_0x4c02ad['from']===_0x5e000f),ul(_0x6836ca),this['_findTrans'+'itionsFrom'+'StateCache'][_0x5e000f]=_0x6836ca),_0x6836ca;}['_findTrans'+'itionsBetw'+'eenStates'](_0x530a10,_0x520524){let _0x4c8602=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x530a10+'->'+_0x520524];return _0x4c8602||(_0x4c8602=this['_transitio'+'ns']['filter'](_0x136e0f=>_0x136e0f['from']===_0x530a10&&_0x136e0f['to']===_0x520524),ul(_0x4c8602),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x530a10+'->'+_0x520524]=_0x4c8602),_0x4c8602;}['_transitio'+'nHasCondit'+'ionsMet'](_0x37381e){const _0x4c22af=_0x37381e['conditions'];for(let _0x2c67a0=-0x1*-0x1667+0x2*0x314+-0x1c8f*0x1;_0x2c67a0<_0x4c22af['length'];_0x2c67a0++){const _0x2fe9cb=_0x4c22af[_0x2c67a0],_0x1bc3e3=this['_findParam'+'eter'](_0x2fe9cb['parameterN'+'ame']);switch(_0x2fe9cb['predicate']){case xL:if(!(_0x1bc3e3['value']>_0x2fe9cb['value']))return!(0x1c33+-0x1*0xb1d+-0x1115);break;case TL:if(!(_0x1bc3e3['value']<_0x2fe9cb['value']))return!(0x19d6*-0x1+-0x1836+0x320d);break;case wL:if(!(_0x1bc3e3['value']>=_0x2fe9cb['value']))return!(-0x20d9+-0x2*-0x39f+0x2*0xcce);break;case EL:if(!(_0x1bc3e3['value']<=_0x2fe9cb['value']))return!(0x1*-0x4+-0x27*0xcb+-0x22*-0xe9);break;case bL:if(_0x1bc3e3['value']!==_0x2fe9cb['value'])return!(0x361*0x1+-0x375+0x15);break;case AL:if(_0x1bc3e3['value']===_0x2fe9cb['value'])return!(-0x5c7+-0x4*0xb2+0x890);break;}}return!(-0x76d+0x12be+-0x1*0xb51);}['_findTrans'+'ition'](_0x210a2b,_0x4c36d2){let _0x6dd2f9=[];if(_0x210a2b&&_0x4c36d2)_0x6dd2f9=_0x6dd2f9['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0x210a2b,_0x4c36d2));else{if(!this['_isTransit'+'ioning'])_0x6dd2f9=_0x6dd2f9['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x6dd2f9=_0x6dd2f9['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case gL:_0x6dd2f9=_0x6dd2f9['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x6dd2f9=_0x6dd2f9['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case SL:_0x6dd2f9=_0x6dd2f9['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x6dd2f9=_0x6dd2f9['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case yL:_0x6dd2f9=_0x6dd2f9['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x6dd2f9=_0x6dd2f9['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x6dd2f9=_0x6dd2f9['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case vL:_0x6dd2f9=_0x6dd2f9['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x6dd2f9=_0x6dd2f9['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x6dd2f9=_0x6dd2f9['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;}}if(_0x6dd2f9=_0x6dd2f9['filter'](_0x506ad8=>{if(_0x506ad8['to']===this['activeStat'+'eName'])return!(-0x3*-0x377+-0x1*-0x671+-0x10d5);if(_0x506ad8['hasExitTim'+'e']){let _0x59a77a=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x4b8630=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0x506ad8['exitTime']<0x73e+-0x4c*-0x37+0x1791*-0x1&&this['activeStat'+'e']['loop']&&(_0x59a77a-=Math['floor'](_0x59a77a),_0x4b8630-=Math['floor'](_0x4b8630)),_0x4b8630===_0x59a77a){if(_0x4b8630!==_0x506ad8['exitTime'])return null;}else{if(!(_0x506ad8['exitTime']>_0x59a77a&&_0x506ad8['exitTime']<=_0x4b8630))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0x506ad8);}),_0x6dd2f9['length']>0x5a7+0x4e*0xe+-0x1*0x9eb){const _0x565899=_0x6dd2f9[0x141e+0x197*-0x13+0x35d*0x3];if(_0x565899['to']===vu){const _0x3cbf27=this['_findTrans'+'itionsFrom'+'State'](Co)[-0x17+0x25f8*-0x1+0x260f];_0x565899['to']=_0x3cbf27['to'];}return _0x565899;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x514645){let _0x1ac677,_0xb93f4d,_0x1f779e;this['previousSt'+'ate']=_0x514645['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x514645['to'],this['_activeSta'+'teDuration'+'Dirty']=!(0x1*-0x231c+0x2055*-0x1+-0x167b*-0x3);for(let _0x382822=0x7*-0x3af+-0x253c+0x3f05;_0x382822<_0x514645['conditions']['length'];_0x382822++){const _0x3aeae7=_0x514645['conditions'][_0x382822];this['_findParam'+'eter'](_0x3aeae7['parameterN'+'ame'])['type']===Qc&&this['_consumeTr'+'igger'](_0x3aeae7['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0xd1487c=Math['min'](this['_totalTran'+'sitionTime']!==-0x1763*-0x1+0xd*-0x1df+0xf0?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x38*0x1+-0x14b1+0x147a,0x107b+0x1f*0x41+-0x1859);for(let _0x8a7d72=0x809*-0x1+0x83*-0x5+0xa98;_0x8a7d72<this['_transitio'+'nPreviousS'+'tates']['length'];_0x8a7d72++){this['_isTransit'+'ioning']?_0x8a7d72!==this['_transitio'+'nPreviousS'+'tates']['length']-(0x1*0x4c7+0x1873+0x1*-0x1d39)?this['_transitio'+'nPreviousS'+'tates'][_0x8a7d72]['weight']*=-0x6*-0x42+-0xe9e+0xd13-_0xd1487c:this['_transitio'+'nPreviousS'+'tates'][_0x8a7d72]['weight']=_0xd1487c:this['_transitio'+'nPreviousS'+'tates'][_0x8a7d72]['weight']=0x1*-0x1e9e+-0x2686+0x4525,_0x1ac677=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x8a7d72]['name']);for(let _0x19e943=-0x1*-0x2401+0x2*0xeb0+0x7*-0x957;_0x19e943<_0x1ac677['animations']['length'];_0x19e943++)_0xb93f4d=_0x1ac677['animations'][_0x19e943],_0x1f779e=this['_animEvalu'+'ator']['findClip'](_0xb93f4d['name']+'.previous.'+_0x8a7d72),_0x1f779e||(_0x1f779e=this['_animEvalu'+'ator']['findClip'](_0xb93f4d['name']),_0x1f779e['name']=_0xb93f4d['name']+'.previous.'+_0x8a7d72),_0x8a7d72!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x15c+0x2*0x192+-0x1*0x1c7)&&_0x1f779e['pause']();}}this['_isTransit'+'ioning']=!(0x1*-0x214f+0x1bde+0x571),this['_totalTran'+'sitionTime']=_0x514645['time'],this['_currTrans'+'itionTime']=-0x15e3+-0xec*0x2+-0x2a3*-0x9,this['_transitio'+'nInterrupt'+'ionSource']=_0x514645['interrupti'+'onSource'];const _0x16fb66=this['activeStat'+'e'],_0x7b1dee=_0x514645['transition'+'Offset']&&_0x514645['transition'+'Offset']>-0x11a7*-0x2+-0x1033+-0x131b*0x1&&_0x514645['transition'+'Offset']<-0x1841+-0x1bfe+0x10*0x344;let _0x462ac1=-0x39b*-0x3+-0x6b*0x2+-0x23*0x49,_0x5800d5=-0x2629+-0x749+-0x3*-0xf26;if(_0x7b1dee){const _0x5a0b11=_0x16fb66['timelineDu'+'ration']*_0x514645['transition'+'Offset'];_0x462ac1=_0x5a0b11,_0x5800d5=_0x5a0b11;}this['_timeInSta'+'te']=_0x462ac1,this['_timeInSta'+'teBefore']=_0x5800d5;for(let _0x41ae50=0xa20*0x3+-0x160f+-0x851;_0x41ae50<_0x16fb66['animations']['length'];_0x41ae50++){if(_0x1f779e=this['_animEvalu'+'ator']['findClip'](_0x16fb66['animations'][_0x41ae50]['name']),_0x1f779e)_0x1f779e['reset']();else{const _0x382399=Number['isFinite'](_0x16fb66['animations'][_0x41ae50]['speed'])?_0x16fb66['animations'][_0x41ae50]['speed']:_0x16fb66['speed'];_0x1f779e=new Dh(_0x16fb66['animations'][_0x41ae50]['animTrack'],this['_timeInSta'+'te'],_0x382399,!(0x30d+-0x36*-0x72+-0x1b19),_0x16fb66['loop'],this['_eventHand'+'ler']),_0x1f779e['name']=_0x16fb66['animations'][_0x41ae50]['name'],this['_animEvalu'+'ator']['addClip'](_0x1f779e);}if(_0x514645['time']>0x1*0x215c+0x22f3+-0x444f?_0x1f779e['blendWeigh'+'t']=-0x9bb*0x1+-0x1223*-0x2+-0x1a8b:_0x1f779e['blendWeigh'+'t']=_0x16fb66['animations'][_0x41ae50]['normalized'+'Weight'],_0x1f779e['play'](),_0x7b1dee)_0x1f779e['time']=_0x16fb66['timelineDu'+'ration']*_0x514645['transition'+'Offset'];else{const _0xeed71d=_0x16fb66['speed']>=0x3d*-0x1+0x26*-0x101+0x2663?-0x822*0x4+-0x21*0x3d+-0x1*-0x2865:this['activeStat'+'eDuration'];_0x1f779e['time']=_0xeed71d;}}}['_transitio'+'nToState'](_0x4c33b2){if(!this['_findState'](_0x4c33b2))return;let _0x4cf61f=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x4c33b2);_0x4cf61f||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x4cf61f=new Lh({'from':null,'to':_0x4c33b2})),this['updateStat'+'eFromTrans'+'ition'](_0x4cf61f);}['assignAnim'+'ation'](_0x3a2cea,_0x676c1d,_0x5d9fb1,_0x508b02){const _0x2c5dfb=_0x3a2cea['split']('.');let _0x889424=this['_findState'](_0x2c5dfb[-0x93c+-0x1678+0x1fb4]);_0x889424||(_0x889424=new Fg(this,_0x2c5dfb[0x1a6a+-0x15ff+-0x1*0x46b],_0x5d9fb1),this['_states'][_0x2c5dfb[-0x6*-0x2ce+-0x1c01*-0x1+-0x1*0x2cd5]]=_0x889424,this['_stateName'+'s']['push'](_0x2c5dfb[0x1*0xc4c+-0x1c15+0xfc9])),_0x889424['addAnimati'+'on'](_0x2c5dfb,_0x676c1d),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x889424['name'],_0x676c1d),_0x5d9fb1!==void(0x9*0x387+0x10d5*0x2+-0xc5*0x55)&&(_0x889424['speed']=_0x5d9fb1),_0x508b02!==void(-0x8*0x387+0x1dc6+-0x2*0xc7)&&(_0x889424['loop']=_0x508b02),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(0x25*0x1b+-0x1*-0x53f+-0x493*0x2);}['removeNode'+'Animations'](_0x47f8d0){if(Ih['indexOf'](_0x47f8d0)!==-(0x15c2*0x1+0x392*0x7+-0x2ebf))return!(-0x2199+-0x13d3*0x1+0x356d);const _0x596c3a=this['_findState'](_0x47f8d0);return _0x596c3a?(_0x596c3a['animations']=[],!(-0xfa6+-0x92*0x1a+0x1e7a)):(w['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x47f8d0),!(0x2380+-0x23c7+0x3*0x18));}['play'](_0xb50a03){_0xb50a03&&this['_transitio'+'nToState'](_0xb50a03),this['_playing']=!(0x23d7+0x48*0xa+-0x26a7);}['pause'](){this['_playing']=!(0x1a88+0x1455+-0x176e*0x2);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=Co,this['_playing']=!(-0x2d2+0x1b38+-0x1865),this['_currTrans'+'itionTime']=-0x1c57+0x5*0x81+-0xb*-0x259,this['_totalTran'+'sitionTime']=-0x408*0x8+0x88*0x7+0x1c89,this['_isTransit'+'ioning']=!(0x4*-0x4df+0x1*0x12a3+0xda),this['_timeInSta'+'te']=-0x1*0x1960+-0x74c*-0x5+0x12*-0x9e,this['_timeInSta'+'teBefore']=0x2*-0x913+0x24df+-0x12b9,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x4d0966){if(!this['_playing'])return;let _0x28ea44,_0x4f0c7e,_0x541bf0;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x4d0966*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x4d0966=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0x21478c=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0x21478c&&this['updateStat'+'eFromTrans'+'ition'](_0x21478c),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x4d0966,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x5cdcb8=this['_totalTran'+'sitionTime']!==0x25ef+-0x38*0x41+0xd*-0x1d3?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x1*-0x21b3+-0x269e+-0x4852*-0x1;for(let _0x2ef331=0xfa2+0x132d+-0x13*0x1d5;_0x2ef331<this['_transitio'+'nPreviousS'+'tates']['length'];_0x2ef331++){_0x28ea44=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x2ef331]['name']);const _0x20c612=this['_transitio'+'nPreviousS'+'tates'][_0x2ef331]['weight'];for(let _0x7f26d9=0x834+0x298*-0xa+-0x4*-0x46f;_0x7f26d9<_0x28ea44['animations']['length'];_0x7f26d9++)_0x4f0c7e=_0x28ea44['animations'][_0x7f26d9],_0x541bf0=this['_animEvalu'+'ator']['findClip'](_0x4f0c7e['name']+'.previous.'+_0x2ef331),_0x541bf0&&(_0x541bf0['blendWeigh'+'t']=(-0x1*-0xa0c+0xce0+0x16eb*-0x1-_0x5cdcb8)*_0x4f0c7e['normalized'+'Weight']*_0x20c612);}_0x28ea44=this['activeStat'+'e'];for(let _0x1c5b12=-0x21*-0x3d+-0x9a4*0x4+-0x1*-0x1eb3;_0x1c5b12<_0x28ea44['animations']['length'];_0x1c5b12++)_0x4f0c7e=_0x28ea44['animations'][_0x1c5b12],this['_animEvalu'+'ator']['findClip'](_0x4f0c7e['name'])['blendWeigh'+'t']=_0x5cdcb8*_0x4f0c7e['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(-0x25f1+-0xf9d+0x358f);const _0x251918=this['activeStat'+'eAnimation'+'s']['length'],_0x273347=this['_animEvalu'+'ator']['clips']['length'];for(let _0x1dc83f=0x4*0x1c+0x206e+0x4b2*-0x7;_0x1dc83f<_0x273347-_0x251918;_0x1dc83f++)this['_animEvalu'+'ator']['removeClip'](0x1800+0xdc6+-0x25c6);this['_transitio'+'nPreviousS'+'tates']=[],_0x28ea44=this['activeStat'+'e'];for(let _0x5554d7=0x3*0x8de+0x6+-0x60*0x47;_0x5554d7<_0x28ea44['animations']['length'];_0x5554d7++)_0x4f0c7e=_0x28ea44['animations'][_0x5554d7],_0x541bf0=this['_animEvalu'+'ator']['findClip'](_0x4f0c7e['name']),_0x541bf0&&(_0x541bf0['blendWeigh'+'t']=_0x4f0c7e['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==ml){_0x28ea44=this['activeStat'+'e'];for(let _0x48e4b2=-0x3*0x361+0x2*0x779+-0x4cf;_0x48e4b2<_0x28ea44['animations']['length'];_0x48e4b2++)_0x4f0c7e=_0x28ea44['animations'][_0x48e4b2],_0x541bf0=this['_animEvalu'+'ator']['findClip'](_0x4f0c7e['name']),_0x541bf0&&(_0x541bf0['blendWeigh'+'t']=_0x4f0c7e['normalized'+'Weight'],_0x4f0c7e['parent']['syncAnimat'+'ions']&&(_0x541bf0['speed']=_0x4f0c7e['speed']));}}this['_animEvalu'+'ator']['update'](_0x4d0966,this['activeStat'+'e']['hasAnimati'+'ons']);}}const wf=new J(),Tc=new D(),_o=new re(),go=new ie(),So=new le();class Fi extends Sr{constructor(_0x2f9208,_0xda9cbd,_0x316ab7,_0x4bd49b,_0x172ea3){super(_0xda9cbd),this['animCompon'+'ent']=_0x2f9208,this['_mask']=_0x4bd49b,this['layerName']=_0x316ab7,this['layerIndex']=_0x172ea3;}static['_packFloat'](_0xf12c41){return _0xf12c41[0x2251+0x1c4*-0xd+0x1*-0xb5d];}static['_packBoole'+'an'](_0x183c51){return!!_0x183c51[-0x34b+0x5e*0x3e+-0x1379];}static['_packVec2'](_0x1688a9){return wf['x']=_0x1688a9[0x115*0xa+-0x1f9a+-0xe*-0x17c],wf['y']=_0x1688a9[0x1574+-0xb*0xf+-0x14ce],wf;}static['_packVec3'](_0x395e4b){return Tc['x']=_0x395e4b[-0x25ea+-0x114d+-0x505*-0xb],Tc['y']=_0x395e4b[0x24c3*-0x1+0x134e*-0x2+-0x1*-0x4b60],Tc['z']=_0x395e4b[0x308*-0xb+-0x25a9+-0xa25*-0x7],Tc;}static['_packVec4'](_0x6b6d71){return _o['x']=_0x6b6d71[0x2411+-0x1e79*-0x1+-0x428a],_o['y']=_0x6b6d71[0x1*-0x1a7d+-0x1586+0x1c*0x1b7],_o['z']=_0x6b6d71[0x1018+-0x7b5*-0x4+-0x2eea],_o['w']=_0x6b6d71[-0xe5*-0xb+-0x7*-0x405+-0x25f7],_o;}static['_packColor'](_0x261ff5){return go['r']=_0x261ff5[0xad9*0x1+0x2161+-0x2c3a],go['g']=_0x261ff5[-0x159+0x7*-0x444+0x1d6*0x11],go['b']=_0x261ff5[0x2*-0x94d+0x24e1+-0x1245],go['a']=_0x261ff5[0x1e37+-0x1*-0x208b+0x1*-0x3ebf],go;}static['_packQuat'](_0x452b5e){return So['x']=_0x452b5e[0x10*-0x14e+-0x2*-0xcd2+-0x131*0x4],So['y']=_0x452b5e[0x39c+-0xee4+-0x3*-0x3c3],So['z']=_0x452b5e[-0x2b+0xa*-0x3e7+0x2733],So['w']=_0x452b5e[-0x6c*-0x2c+0xaf2+-0x1d7f],So;}['resolve'](_0x2b60a5){const _0x2a83d9=ra['encode'](_0x2b60a5['entityPath'],_0x2b60a5['component'],_0x2b60a5['propertyPa'+'th']);let _0x2e0a1e=this['targetCach'+'e'][_0x2a83d9];if(_0x2e0a1e)return _0x2e0a1e;let _0x40a72f,_0x29fe26,_0x2e7617;switch(_0x2b60a5['component']){case'entity':_0x40a72f=this['_getEntity'+'FromHierar'+'chy'](_0x2b60a5['entityPath']),_0x2e7617=ra['encode'](_0x40a72f['path'],'entity',_0x2b60a5['propertyPa'+'th']),_0x29fe26=_0x40a72f;break;case'graph':if(_0x29fe26=this['findNode'](_0x2b60a5),!_0x29fe26)return null;_0x2e7617=ra['encode'](_0x29fe26['path'],'graph',_0x2b60a5['propertyPa'+'th']);break;default:if(_0x40a72f=this['_getEntity'+'FromHierar'+'chy'](_0x2b60a5['entityPath']),_0x29fe26=_0x40a72f['findCompon'+'ent'](_0x2b60a5['component']),!_0x29fe26)return null;_0x2e7617=ra['encode'](_0x40a72f['path'],_0x2b60a5['component'],_0x2b60a5['propertyPa'+'th']);break;}return _0x2e0a1e=this['_createAni'+'mTargetFor'+'Property'](_0x29fe26,_0x2b60a5['propertyPa'+'th'],_0x2e7617),this['targetCach'+'e'][_0x2a83d9]=_0x2e0a1e,_0x2e0a1e;}['update'](_0x147935){const _0x1ae3d=this['activeNode'+'s'];if(_0x1ae3d){for(let _0x595288=-0x1063+0x1*0x1cab+0x8*-0x189;_0x595288<_0x1ae3d['length'];_0x595288++)_0x1ae3d[_0x595288]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0x37363c){if(!this['animCompon'+'ent']['entity']['name']===_0x37363c[0x1*-0x98f+0x1c6d+-0x12de])return null;const _0x8ec3b1=this['animCompon'+'ent']['entity'];return _0x37363c['length']===-0x20f*-0x9+-0x1038+0x1*-0x24e?_0x8ec3b1:_0x8ec3b1['_parent']['findByPath'](_0x37363c);}['_resolvePa'+'th'](_0x3c9996,_0x27c5af,_0x26e804){const _0x483dec=_0x27c5af['length']-(_0x26e804?-0x6f0+0x267+0x1*0x489:-0x1ce4+0x7e9+0x14fc);for(let _0xf577a0=0x149a+0xb99*-0x3+0xe31;_0xf577a0<_0x483dec;_0xf577a0++)_0x3c9996=_0x3c9996[_0x27c5af[_0xf577a0]];return _0x3c9996;}['_setter'](_0x383a53,_0x3d975d,_0x6248b0){const _0x579108=this['_resolvePa'+'th'](_0x383a53,_0x3d975d),_0x3e76d2=_0x3d975d[_0x3d975d['length']-(0x25ec+-0xab*-0x24+-0x3df7)],_0x239548='set'+_0x3e76d2['substring'](0x1a87+0x69*0x1b+-0x259a,0x827+0x170e+0x4*-0x7cd)['toUpperCas'+'e']()+_0x3e76d2['substring'](0x14c4+0x299*-0xc+0x29*0x41);if(_0x579108[_0x239548]){let _0x281007=_0x579108['get'+_0x3e76d2['substring'](-0x155d+0x1c70+0x713*-0x1,-0x48d+0x31c+0x172)['toUpperCas'+'e']()+_0x3e76d2['substring'](-0x13bb+-0x12f8*-0x1+-0x62*-0x2)]['bind'](_0x579108)();_0x281007=[_0x281007['x'],_0x281007['y'],_0x281007['z'],_0x281007['w']];const _0x5e8ea6=_0x579108[_0x239548]['bind'](_0x579108);return{'set':_0x40a524=>{_0x5e8ea6(_0x6248b0(_0x40a524));},'get':()=>_0x281007};}const _0x447b27=_0x579108[_0x3e76d2];if(typeof _0x447b27=='object'&&_0x447b27['hasOwnProp'+'erty']('copy'))return function(_0x496b52){_0x447b27['copy'](_0x6248b0(_0x496b52));};if([J,D,re,ie,le]['indexOf'](_0x579108['constructo'+'r'])!==-(0x2*0x846+0xa82+-0x1b0d)&&_0x3d975d['length']>0x572*0x3+-0x1*-0xc6e+-0x1cc3){const _0xc2651e=_0x3d975d['length']>0xaa2+-0x20*0xa1+0x980?this['_resolvePa'+'th'](_0x383a53,_0x3d975d['slice'](0x183+0x13*0x3d+-0x60a,-(-0xe7f+0xf19+-0x99))):_0x383a53,_0x9aca51=_0x3d975d[_0x3d975d['length']-(-0x1*-0x526+0x108c+-0x8*0x2b6)];return function(_0x106459){_0x579108[_0x3e76d2]=_0x6248b0(_0x106459),_0xc2651e[_0x9aca51]=_0x579108;};}return function(_0x403ecd){_0x579108[_0x3e76d2]=_0x6248b0(_0x403ecd);};}['_createAni'+'mTargetFor'+'Property'](_0x1c529d,_0x1888ad,_0x297769){if(this['handlers']&&_0x1888ad[-0x138f+0xef1+0x49e]['startsWith']('weight.'))return this['handlers']['weight'](_0x1c529d,_0x1888ad[-0x2072*0x1+-0xe3*-0x25+-0x5d]['replace']('weight.',''));if(this['handlers']&&_0x1888ad[0x2*-0x2e1+-0x12ec+0x18ae]==='material'&&_0x1888ad['length']===-0x25*0xe+0x2454+-0x1*0x224c){const _0x6bdafe=_0x1888ad[-0x1b68+0x1e8c+-0x323];if(_0x6bdafe['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x1c529d,_0x6bdafe);}const _0x5f00e9=this['_resolvePa'+'th'](_0x1c529d,_0x1888ad,!(-0x39*0x9+0x2595+-0x2394));if(typeof _0x5f00e9>'u')return null;let _0x3cb300,_0x4fe5dd,_0x21f21f;if(typeof _0x5f00e9=='number')_0x3cb300=this['_setter'](_0x1c529d,_0x1888ad,Fi['_packFloat']),_0x4fe5dd='vector',_0x21f21f=-0x3f9+-0x1b*0xae+0x1654;else{if(typeof _0x5f00e9=='boolean')_0x3cb300=this['_setter'](_0x1c529d,_0x1888ad,Fi['_packBoole'+'an']),_0x4fe5dd='vector',_0x21f21f=-0xbd4+-0x3d+-0x1e*-0x67;else{if(typeof _0x5f00e9=='object')switch(_0x5f00e9['constructo'+'r']){case J:_0x3cb300=this['_setter'](_0x1c529d,_0x1888ad,Fi['_packVec2']),_0x4fe5dd='vector',_0x21f21f=0x5f9*0x1+0x8*0x1a7+0x132f*-0x1;break;case D:_0x3cb300=this['_setter'](_0x1c529d,_0x1888ad,Fi['_packVec3']),_0x4fe5dd='vector',_0x21f21f=-0xab0+-0x5*-0x151+0x41e*0x1;break;case re:_0x3cb300=this['_setter'](_0x1c529d,_0x1888ad,Fi['_packVec4']),_0x4fe5dd='vector',_0x21f21f=-0x681+-0x292*-0x8+-0xe0b;break;case ie:_0x3cb300=this['_setter'](_0x1c529d,_0x1888ad,Fi['_packColor']),_0x4fe5dd='vector',_0x21f21f=-0x3*0x15f+-0x260b+0x1*0x2a2c;break;case le:_0x3cb300=this['_setter'](_0x1c529d,_0x1888ad,Fi['_packQuat']),_0x4fe5dd='quaternion',_0x21f21f=-0x1*-0x62+-0x36*-0x7+-0x4*0x76;break;default:return null;}}}return _0x1888ad['indexOf']('material')!==-(0x65e+-0x13ef*-0x1+-0x1a4c)?new xu(_0x2cd8a5=>{_0x3cb300(_0x2cd8a5),_0x1c529d['material']['update']();},_0x4fe5dd,_0x21f21f,_0x297769):new xu(_0x3cb300,_0x4fe5dd,_0x21f21f,_0x297769);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0xc51c4e={},_0x3765df=function(_0x131e52){_0xc51c4e[_0x131e52['name']]=_0x131e52;for(let _0x1c9662=0x244d*-0x1+-0x16*-0xad+0x725*0x3;_0x1c9662<_0x131e52['children']['length'];++_0x1c9662)_0x3765df(_0x131e52['children'][_0x1c9662]);};_0x3765df(this['graph']),this['nodes']=_0xc51c4e;}}class kL{constructor(_0x10f566,_0x3d51a7,_0x4c43ed,_0x52d6f9=-0x2*-0x878+0x1*0x157d+-0x266c,_0x33ff14=Vv){h(this,'_name'),h(this,'_controlle'+'r'),h(this,'_component'),h(this,'_weight'),h(this,'_blendType'),h(this,'_mask',null),h(this,'_blendTime',-0x20d1+-0x1889+0x395a),h(this,'_blendTime'+'Elapsed',0x312+-0x19b*0x4+0x1ad*0x2),h(this,'_startingW'+'eight',0x1*-0x29+-0x98d*0x3+0x1cd0),h(this,'_targetWei'+'ght',0x2660+0x2*0x1017+-0x468e),(this['_name']=_0x10f566,this['_controlle'+'r']=_0x3d51a7,this['_component']=_0x4c43ed,this['_weight']=_0x52d6f9,this['_blendType']=_0x33ff14);}get['name'](){return this['_name'];}set['playing'](_0x322614){this['_controlle'+'r']['playing']=_0x322614;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x8ee2e6){const _0x3cea33=this['_controlle'+'r'],_0x4e11e0=_0x3cea33['playing'];_0x3cea33['playing']=!(0x15d*-0x13+0x19e1+-0x3*-0x2),_0x3cea33['activeStat'+'eCurrentTi'+'me']=_0x8ee2e6,_0x4e11e0||_0x3cea33['update'](0x100d+0xf38+-0x1*0x1f45),_0x3cea33['playing']=_0x4e11e0;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x5c8b44){this['_weight']=_0x5c8b44,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x3adf21){_0x3adf21!==this['_blendType']&&(this['_blendType']=_0x3adf21,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x3fd84a){this['_controlle'+'r']['assignMask'](_0x3fd84a)&&this['_component']['rebind'](),this['_mask']=_0x3fd84a;}get['mask'](){return this['_mask'];}['play'](_0x19e4dc){this['_controlle'+'r']['play'](_0x19e4dc);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x186589){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=Y['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x186589):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=0x1b08+0x1*-0x3eb+-0x171d,this['_blendTime'+'Elapsed']=-0x21d3+0x9c1*0x1+-0xd*-0x1da,this['_startingW'+'eight']=-0x2250+-0x308*0x9+0x3d98,this['_targetWei'+'ght']=-0x5*0x4+-0x1*0x150a+0x151e)),this['_controlle'+'r']['update'](_0x186589);}['blendToWei'+'ght'](_0x3a23ea,_0x4718bf){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0x3a23ea,this['_blendTime']=Math['max'](0xfd4+-0x18*0x17+-0x14*0xaf,_0x4718bf),this['_blendTime'+'Elapsed']=-0x1*-0x1907+0xa75*0x1+-0xbd4*0x3;}['assignAnim'+'ation'](_0x4954b0,_0x2e6682,_0x5e4aa4,_0x370345){if(!(_0x2e6682 instanceof Qi)){w['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x4954b0,_0x2e6682,_0x5e4aa4,_0x370345),this['_controlle'+'r']['_transitio'+'ns']['length']===-0x7f5+0x146d+-0xc78*0x1&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Lh({'from':'START','to':_0x4954b0})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(-0xa09+-0x67b+-0x7*-0x25c));}['removeNode'+'Animations'](_0x3b2551){this['_controlle'+'r']['removeNode'+'Animations'](_0x3b2551)&&(this['_component']['playing']=!(0x860*0x1+-0x1a33+-0x4*-0x475));}['getAnimati'+'onAsset'](_0x3c8ce7){return this['_component']['animationA'+'ssets'][this['name']+':'+_0x3c8ce7];}['transition'](_0x1b7973,_0x14007c=-0xd*-0x2d9+0xef*0x13+-0xa3*0x56,_0x27c9cd=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Lh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x1b7973,'time':_0x14007c,'transitionOffset':_0x27c9cd}));}}class Jc{constructor(_0x392854){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x392854['layers']))this['_layers']=_0x392854['layers'];else for(const _0x204e79 in _0x392854['layers']){const _0x3c7fa3=_0x392854['layers'][_0x204e79],_0xc7d28b={'name':_0x3c7fa3['name'],'blendType':_0x3c7fa3['blendType'],'weight':_0x3c7fa3['weight'],'states':[],'transitions':[]};for(let _0x5d1804=0x122d+0x3*-0x7c9+0x52e;_0x5d1804<_0x3c7fa3['states']['length'];_0x5d1804++)_0xc7d28b['states']['push'](_0x392854['states'][_0x3c7fa3['states'][_0x5d1804]]);for(let _0xe0aa04=0x13*-0xdb+-0x966*-0x1+-0xf*-0x75;_0xe0aa04<_0x3c7fa3['transition'+'s']['length'];_0xe0aa04++){const _0x1febb9=_0x392854['transition'+'s'][_0x3c7fa3['transition'+'s'][_0xe0aa04]];if(_0x1febb9['conditions']&&!Array['isArray'](_0x1febb9['conditions'])){const _0x4476b6=Object['keys'](_0x1febb9['conditions']),_0x534cc3=[];for(let _0x4ae006=-0x1735+0x6f*0x18+0xccd*0x1;_0x4ae006<_0x4476b6['length'];_0x4ae006++){const _0x4158b4=_0x1febb9['conditions'][_0x4476b6[_0x4ae006]];_0x4158b4['parameterN'+'ame']&&_0x534cc3['push'](_0x4158b4);}_0x1febb9['conditions']=_0x534cc3;}Number['isInteger'](_0x1febb9['from'])&&(_0x1febb9['from']=_0x392854['states'][_0x1febb9['from']]['name']),Number['isInteger'](_0x1febb9['to'])&&(_0x1febb9['to']=_0x392854['states'][_0x1febb9['to']]['name']),_0xc7d28b['transition'+'s']['push'](_0x1febb9);}this['_layers']['push'](_0xc7d28b);}for(const _0x54d66b in _0x392854['parameters']){const _0x5c6366=_0x392854['parameters'][_0x54d66b];this['_parameter'+'s'][_0x5c6366['name']]={'type':_0x5c6366['type'],'value':_0x5c6366['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class $v extends we{constructor(){super(...arguments),h(this,'_stateGrap'+'hAsset',null),h(this,'_animation'+'Assets',{}),h(this,'_speed',0x2041+-0x831*0x4+0x84),h(this,'_activate',!(0x187f*0x1+-0x1*-0x17ae+-0x302d)),h(this,'_playing',!(0x8*-0x1d3+0xac0*0x3+-0x11a7*0x1)),h(this,'_rootBone',null),h(this,'_stateGrap'+'h',null),h(this,'_layers',[]),h(this,'_layerIndi'+'ces',{}),h(this,'_parameter'+'s',{}),h(this,'_targets',{}),h(this,'_consumedT'+'riggers',new Set()),h(this,'_normalize'+'Weights',!(-0x881+0x50e+0x374)),h(this,'findParame'+'ter',_0x5b1f6a=>this['_parameter'+'s'][_0x5b1f6a]),h(this,'consumeTri'+'gger',_0x477651=>{this['_consumedT'+'riggers']['add'](_0x477651);});}set['stateGraph'+'Asset'](_0x2c68df){if(_0x2c68df===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x4c2eac,_0xa34be6;_0x2c68df instanceof pe?(_0x4c2eac=_0x2c68df['id'],_0xa34be6=this['system']['app']['assets']['get'](_0x4c2eac),_0xa34be6||(this['system']['app']['assets']['add'](_0x2c68df),_0xa34be6=this['system']['app']['assets']['get'](_0x4c2eac))):(_0x4c2eac=_0x2c68df,_0xa34be6=this['system']['app']['assets']['get'](_0x4c2eac)),!(!_0xa34be6||this['_stateGrap'+'hAsset']===_0x4c2eac)&&(_0xa34be6['resource']?(this['_stateGrap'+'h']=_0xa34be6['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0xa34be6['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0xa34be6['once']('load',_0x2b11ff=>{this['_stateGrap'+'h']=_0x2b11ff['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0xa34be6['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0xa34be6)),this['_stateGrap'+'hAsset']=_0x4c2eac);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x227614){this['_normalize'+'Weights']=_0x227614,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0xe7564){this['_animation'+'Assets']=_0xe7564,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x1a38fc){this['_speed']=_0x1a38fc;}get['speed'](){return this['_speed'];}set['activate'](_0xea9b8){this['_activate']=_0xea9b8;}get['activate'](){return this['_activate'];}set['playing'](_0x155267){this['_playing']=_0x155267;}get['playing'](){return this['_playing'];}set['rootBone'](_0x16982b){if(typeof _0x16982b=='string'){const _0x1fb825=this['entity']['root']['findByGuid'](_0x16982b);w['assert'](_0x1fb825,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x16982b+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x1fb825;}else _0x16982b instanceof lt?this['_rootBone']=_0x16982b:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x399880){this['_stateGrap'+'h']=_0x399880;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x14a5cf){this['_layerIndi'+'ces']=_0x14a5cf;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x4d9124){this['_parameter'+'s']=_0x4d9124;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0xd6c21a){this['_targets']=_0xd6c21a;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x5f5166=0x2116+-0x375+-0x1da1;_0x5f5166<this['_layers']['length'];_0x5f5166++)if(!this['_layers'][_0x5f5166]['playable'])return!(0x3ef+-0x3*0x827+0x1487);return!(0x1*-0x3c4+0x257b+-0x21b7);}get['baseLayer'](){return this['_layers']['length']>-0xee8+0x9*0x20b+-0x37b?this['_layers'][0x5f3*0x5+0xe2c*0x2+-0x135d*0x3]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0xabcaab){const _0x306e66=this['animationA'+'ssets'],_0x32cc4b=this['layers']['map'](_0x5ebf60=>_0x5ebf60['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new Jc(_0xabcaab['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x306e66,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x2e6273,_0x3a8ad5)=>{_0x2e6273['mask']=_0x32cc4b[_0x3a8ad5];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x998d3f=Object['values'](this['_targets']);for(let _0x4c96fa=0xb*-0x5b+-0x26a9+0x2a92;_0x4c96fa<_0x998d3f['length'];_0x4c96fa++)_0x998d3f[_0x4c96fa]['dirty']=!(-0x194+0xf*0x20f+0x241*-0xd);}['_addLayer']({name:_0x1d0928,states:_0x4fab36,transitions:_0x53b69e,weight:_0x19355b,mask:_0xe6740c,blendType:_0x1212fa}){let _0x61e425;this['rootBone']?_0x61e425=this['rootBone']:_0x61e425=this['entity'];const _0x55e8c5=this['_layers']['length'],_0x385686=new Fi(this,_0x61e425,_0x1d0928,_0xe6740c,_0x55e8c5),_0x46facc=new Gv(_0x385686),_0x32efdb=new NL(_0x46facc,_0x4fab36,_0x53b69e,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new kL(_0x1d0928,_0x32efdb,this,_0x19355b,_0x1212fa)),this['_layerIndi'+'ces'][_0x1d0928]=_0x55e8c5,this['_layers'][_0x55e8c5];}['addLayer'](_0x5c8c3a,_0x161332,_0x38f67e,_0x405089){const _0x3be39b=this['findAnimat'+'ionLayer'](_0x5c8c3a);if(_0x3be39b)return _0x3be39b;const _0x2514c6=[{'name':'START','speed':0x1}],_0x4af3e7=[];return this['_addLayer']({'name':_0x5c8c3a,'states':_0x2514c6,'transitions':_0x4af3e7,'weight':_0x161332,'mask':_0x38f67e,'blendType':_0x405089});}['_assignPar'+'ameters'](_0x1c7b60){this['_parameter'+'s']={};const _0x477c26=Object['keys'](_0x1c7b60['parameters']);for(let _0x59d075=-0x1c*0x10c+0x1d45+-0xb*-0x1;_0x59d075<_0x477c26['length'];_0x59d075++){const _0xf81695=_0x477c26[_0x59d075];this['_parameter'+'s'][_0xf81695]={'type':_0x1c7b60['parameters'][_0xf81695]['type'],'value':_0x1c7b60['parameters'][_0xf81695]['value']};}}['loadStateG'+'raph'](_0x4cb3b2){this['_stateGrap'+'h']=_0x4cb3b2,this['_assignPar'+'ameters'](_0x4cb3b2),this['_layers']=[];let _0x537fc6=!(0x4*0x5b4+0x17a+-0x1849);for(let _0x150cee=-0x21f1*0x1+0xb*0x2fe+0x107;_0x150cee<_0x4cb3b2['layers']['length'];_0x150cee++){const _0x25255f=_0x4cb3b2['layers'][_0x150cee];this['_addLayer']({..._0x25255f}),_0x25255f['states']['some'](_0x5540db=>_0x5540db['blendTree'])&&(_0x537fc6=!(-0x43d+-0x1344+-0x223*-0xb));}_0x537fc6||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x251cd1=0xf0a*-0x2+-0x6d*0xb+-0x1*-0x22c3;_0x251cd1<this['_layers']['length'];_0x251cd1++){const _0x22486e=this['_layers'][_0x251cd1],_0x28db59=_0x22486e['name'];for(let _0x37d4b3=-0xdd*-0x10+-0x97b*0x3+0xea1;_0x37d4b3<_0x22486e['states']['length'];_0x37d4b3++){const _0x288fdc=_0x22486e['states'][_0x37d4b3];if(Ih['indexOf'](_0x288fdc)===-(0x1022+0x1*0x1ae7+-0x1584*0x2)){const _0x34a236=_0x28db59+':'+_0x288fdc;this['_animation'+'Assets'][_0x34a236]||(this['_animation'+'Assets'][_0x34a236]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0x538424=0x4fd*-0x1+0xdb0+0x8b3*-0x1;_0x538424<this['_layers']['length'];_0x538424++){const _0x5849f9=this['_layers'][_0x538424];for(let _0x487bc6=-0xbb1+0x148b*-0x1+0x203c;_0x487bc6<_0x5849f9['states']['length'];_0x487bc6++){const _0x18322d=_0x5849f9['states'][_0x487bc6];if(Ih['indexOf'](_0x18322d)!==-(0x2630+0x21dc+-0x1*0x480b))continue;const _0x54db6d=this['_animation'+'Assets'][_0x5849f9['name']+':'+_0x18322d];if(!_0x54db6d||!_0x54db6d['asset']){this['findAnimat'+'ionLayer'](_0x5849f9['name'])['assignAnim'+'ation'](_0x18322d,Qi['EMPTY']);continue;}const _0x3cb263=_0x54db6d['asset'],_0x10a989=this['system']['app']['assets']['get'](_0x3cb263);_0x10a989&&(_0x10a989['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x5849f9['name'],_0x18322d,_0x10a989):(_0x10a989['once']('load',function(_0x543b6b,_0x4d669b){return function(_0x416058){this['onAnimatio'+'nAssetLoad'+'ed'](_0x543b6b,_0x4d669b,_0x416058);}['bind'](this);}['bind'](this)(_0x5849f9['name'],_0x18322d)),this['system']['app']['assets']['load'](_0x10a989)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x3d697e,_0x3c7c0f,_0x104786){this['findAnimat'+'ionLayer'](_0x3d697e)['assignAnim'+'ation'](_0x3c7c0f,_0x104786['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(-0x252b+0x67*-0x53+0x4691),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x3f808d=-0x23*0x41+-0x1*-0x229f+-0x19bc;_0x3f808d<this['_layers']['length'];_0x3f808d++){const _0x525b68=this['_layers'][_0x3f808d]['playing'];this['_layers'][_0x3f808d]['reset'](),this['_layers'][_0x3f808d]['playing']=_0x525b68;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x208b06=>{this['_targets'][_0x208b06]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x3a7ee5=0x1112+-0x9a*0x2b+0x8cc;_0x3a7ee5<this['_layers']['length'];_0x3a7ee5++)this['_layers'][_0x3a7ee5]['rebind']();}['findAnimat'+'ionLayer'](_0x1f4a9d){const _0x5c104e=this['_layerIndi'+'ces'][_0x1f4a9d];return this['_layers'][_0x5c104e]||null;}['addAnimati'+'onState'](_0x174cca,_0x5d8966,_0x3cf4ef=-0x67*-0x1a+-0x5a5+0xe*-0x58,_0x1ad3e8=!(0x25b4+0xb*-0x1d9+-0x1*0x1161),_0x26ce33='Base'){var _0x17ff86;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new Jc({'layers':[{'name':_0x26ce33,'states':[{'name':'START','speed':0x1},{'name':_0x174cca,'speed':_0x3cf4ef,'loop':_0x1ad3e8,'defaultState':!(0x65b+0x3a1*0x5+-0x1880)}],'transitions':[{'from':'START','to':_0x174cca}]}],'parameters':{}}));const _0x379f51=this['findAnimat'+'ionLayer'](_0x26ce33);_0x379f51?_0x379f51['assignAnim'+'ation'](_0x174cca,_0x5d8966,_0x3cf4ef,_0x1ad3e8):(_0x17ff86=this['addLayer'](_0x26ce33))==null||_0x17ff86['assignAnim'+'ation'](_0x174cca,_0x5d8966,_0x3cf4ef,_0x1ad3e8);}['assignAnim'+'ation'](_0x410d0d,_0x528eaa,_0x470bc6,_0x1a7089=-0xc30+-0x462+0x1093,_0x55902b=!(0xb*-0xf9+-0x2b9+0xd6c)){if(!this['_stateGrap'+'h']&&_0x410d0d['indexOf']('.')===-(-0x1ec5*0x1+-0x16f*-0x1b+-0x7ef)){this['loadStateG'+'raph'](new Jc({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x410d0d,'speed':_0x1a7089,'loop':_0x55902b,'defaultState':!(0x2*0x32c+0x1*-0x1c81+0x1629)}],'transitions':[{'from':'START','to':_0x410d0d}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x410d0d,_0x528eaa);return;}const _0x15d0a2=_0x470bc6?this['findAnimat'+'ionLayer'](_0x470bc6):this['baseLayer'];if(!_0x15d0a2){w['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x15d0a2['assignAnim'+'ation'](_0x410d0d,_0x528eaa,_0x1a7089,_0x55902b);}['removeNode'+'Animations'](_0x8ccbd7,_0x26b263){const _0x4098c9=_0x26b263?this['findAnimat'+'ionLayer'](_0x26b263):this['baseLayer'];if(!_0x4098c9){w['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0x4098c9['removeNode'+'Animations'](_0x8ccbd7);}['getParamet'+'erValue'](_0x5f146e,_0x31c7c2){const _0x538d04=this['_parameter'+'s'][_0x5f146e];if(_0x538d04&&_0x538d04['type']===_0x31c7c2)return _0x538d04['value'];w['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x5f146e+('\x22\x20of\x20type\x20'+'\x22')+_0x31c7c2+'\x22');}['setParamet'+'erValue'](_0x563a8e,_0x16ec74,_0x5094f2){const _0x555b37=this['_parameter'+'s'][_0x563a8e];if(_0x555b37&&_0x555b37['type']===_0x16ec74){_0x555b37['value']=_0x5094f2;return;}w['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x563a8e+('\x22\x20of\x20type\x20'+'\x22')+_0x16ec74+'\x22');}['getFloat'](_0x4042a9){return this['getParamet'+'erValue'](_0x4042a9,Rg);}['setFloat'](_0x20fd1d,_0x27db22){this['setParamet'+'erValue'](_0x20fd1d,Rg,_0x27db22);}['getInteger'](_0x591b21){return this['getParamet'+'erValue'](_0x591b21,Lg);}['setInteger'](_0x27601c,_0x2d5489){typeof _0x2d5489=='number'&&_0x2d5489%(0x2542+-0x17c6+0xd7b*-0x1)===0x90d+-0x17ee+0xee1?this['setParamet'+'erValue'](_0x27601c,Lg,_0x2d5489):w['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x27601c,_0x2d5489);}['getBoolean'](_0x153c70){return this['getParamet'+'erValue'](_0x153c70,Og);}['setBoolean'](_0x1d2bfd,_0x3cc54f){this['setParamet'+'erValue'](_0x1d2bfd,Og,!!_0x3cc54f);}['getTrigger'](_0x2d8796){return this['getParamet'+'erValue'](_0x2d8796,Qc);}['setTrigger'](_0x3b4460,_0x132f79=!(0x1*0x346+0x2159+-0x249e)){this['setParamet'+'erValue'](_0x3b4460,Qc,!(0x6c3+-0x188e+0x5*0x38f)),_0x132f79&&this['_consumedT'+'riggers']['add'](_0x3b4460);}['resetTrigg'+'er'](_0x651565){this['setParamet'+'erValue'](_0x651565,Qc,!(0x1*0x49c+0x183*-0x9+-0x24*-0x40));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x4f4503){for(let _0x590eb5=-0x145c+0x20f+0x124d;_0x590eb5<this['layers']['length'];_0x590eb5++)this['layers'][_0x590eb5]['update'](_0x4f4503*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x4b3860=>{this['parameters'][_0x4b3860]['value']=!(0x13fb+0x218a+-0x3584);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2906cc,_0xb57127){_0x2906cc['rootBone']&&_0xb57127[_0x2906cc['rootBone']['getGuid']()]?this['rootBone']=_0xb57127[_0x2906cc['rootBone']['getGuid']()]:this['rebind']();}}class UL{constructor(){this['enabled']=!(-0x413*0x3+-0x1*0xe9f+0x8*0x35b);}}const bu=['enabled'];class BL extends ct{constructor(_0x4c5261){super(_0x4c5261),this['id']='anim',this['ComponentT'+'ype']=$v,this['DataType']=UL,this['schema']=bu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x30eaf5,_0xc6d995,_0x99bf99){super['initialize'+'ComponentD'+'ata'](_0x30eaf5,_0xc6d995,bu);const _0x58c5d9=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0xc6d995)['forEach'](_0x4a1f29=>{_0x58c5d9['includes'](_0x4a1f29)||(_0x30eaf5[_0x4a1f29]=_0xc6d995[_0x4a1f29]);}),_0xc6d995['stateGraph']&&(_0x30eaf5['stateGraph']=_0xc6d995['stateGraph'],_0x30eaf5['loadStateG'+'raph'](_0x30eaf5['stateGraph'])),_0xc6d995['layers']&&_0xc6d995['layers']['forEach']((_0x31ac55,_0x104f74)=>{_0x31ac55['_controlle'+'r']['states']['forEach'](_0x5b8454=>{_0x31ac55['_controlle'+'r']['_states'][_0x5b8454]['_animation'+'List']['forEach'](_0x37f0f7=>{if(!_0x37f0f7['animTrack']||_0x37f0f7['animTrack']===Qi['EMPTY']){const _0x55be8a=this['app']['assets']['get'](_0x31ac55['_component']['_animation'+'Assets'][_0x31ac55['name']+':'+_0x37f0f7['name']]['asset']);_0x55be8a&&!_0x55be8a['loaded']&&_0x55be8a['once']('load',()=>{_0x30eaf5['layers'][_0x104f74]['assignAnim'+'ation'](_0x37f0f7['name'],_0x55be8a['resource']);});}else _0x30eaf5['layers'][_0x104f74]['assignAnim'+'ation'](_0x37f0f7['name'],_0x37f0f7['animTrack']);});});}),_0xc6d995['animationA'+'ssets']&&(_0x30eaf5['animationA'+'ssets']=Object['assign'](_0x30eaf5['animationA'+'ssets'],_0xc6d995['animationA'+'ssets'])),_0xc6d995['masks']&&Object['keys'](_0xc6d995['masks'])['forEach'](_0x21931f=>{if(_0x30eaf5['layers'][_0x21931f]){const _0x16de03=_0xc6d995['masks'][_0x21931f]['mask'],_0x535fea={};Object['keys'](_0x16de03)['forEach'](_0x450253=>{_0x535fea[decodeURI(_0x450253)]=_0x16de03[_0x450253];}),_0x30eaf5['layers'][_0x21931f]['mask']=_0x535fea;}});}['onAnimatio'+'nUpdate'](_0x37d0a2){const _0x50dc80=this['store'];for(const _0x35d83d in _0x50dc80)if(_0x50dc80['hasOwnProp'+'erty'](_0x35d83d)){const _0x106f82=_0x50dc80[_0x35d83d]['entity']['anim'];_0x106f82['data']['enabled']&&_0x106f82['entity']['enabled']&&_0x106f82['playing']&&_0x106f82['update'](_0x37d0a2);}}['cloneCompo'+'nent'](_0x35d6cc,_0x3ab02d){let _0x16f6a0;(!_0x35d6cc['anim']['rootBone']||_0x35d6cc['anim']['rootBone']===_0x35d6cc)&&(_0x16f6a0={},_0x35d6cc['anim']['layers']['forEach']((_0x2d7e82,_0x3e87a9)=>{if(_0x2d7e82['mask']){const _0x2e170a={};Object['keys'](_0x2d7e82['mask'])['forEach'](_0x415203=>{const _0x2fdc13=_0x415203['split']('/');_0x2fdc13['shift']();const _0x2aadc9=[_0x3ab02d['name'],..._0x2fdc13]['join']('/');_0x2e170a[_0x2aadc9]=_0x2d7e82['mask'][_0x415203];}),_0x16f6a0[_0x3e87a9]={'mask':_0x2e170a};}}));const _0x4acdbe={'enabled':_0x35d6cc['anim']['enabled'],'stateGraphAsset':_0x35d6cc['anim']['stateGraph'+'Asset'],'animationAssets':_0x35d6cc['anim']['animationA'+'ssets'],'speed':_0x35d6cc['anim']['speed'],'activate':_0x35d6cc['anim']['activate'],'playing':_0x35d6cc['anim']['playing'],'rootBone':_0x35d6cc['anim']['rootBone'],'stateGraph':_0x35d6cc['anim']['stateGraph'],'layers':_0x35d6cc['anim']['layers'],'layerIndices':_0x35d6cc['anim']['layerIndic'+'es'],'parameters':_0x35d6cc['anim']['parameters'],'normalizeWeights':_0x35d6cc['anim']['normalizeW'+'eights'],'masks':_0x16f6a0};return this['addCompone'+'nt'](_0x3ab02d,_0x4acdbe);}['onBeforeRe'+'move'](_0x311871,_0x532d54){_0x532d54['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}we['_buildAcce'+'ssors']($v['prototype'],bu);class Xv extends we{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x20f816=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x20f816);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class zL{constructor(){this['enabled']=!(-0x19de+0x197d+0x61);}}const qv=['enabled'];class VL extends ct{constructor(_0x26aa29){super(_0x26aa29),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Xv,this['DataType']=zL,this['schema']=qv,this['manager']=_0x26aa29['soundManag'+'er'],w['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x49a561,_0x2e50f1,_0x2d4e1a){_0x2d4e1a=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x49a561,_0x2e50f1,_0x2d4e1a);}['onUpdate'](_0x2dd2c1){if(this['current']){const _0x3ca2c3=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x3ca2c3);const _0x49187e=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x49187e);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Xv['prototype'],qv);const Au=0x9*-0x156+-0xd9f*-0x1+-0x199,Ng=0x78f+-0x9*-0xc1+-0xe57,eh='group',Cu='image',jv='text',th='stretch',GL='contain',HL='cover',ft={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},kl={};kl[ft['DEFAULT']]='_defaultTi'+'nt',kl[ft['HOVER']]='hoverTint',kl[ft['PRESSED']]='pressedTin'+'t',kl[ft['INACTIVE']]='inactiveTi'+'nt';const Ul={};Ul[ft['DEFAULT']]='_defaultSp'+'riteAsset',Ul[ft['HOVER']]='hoverSprit'+'eAsset',Ul[ft['PRESSED']]='pressedSpr'+'iteAsset',Ul[ft['INACTIVE']]='inactiveSp'+'riteAsset';const Bl={};Bl[ft['DEFAULT']]='_defaultSp'+'riteFrame',Bl[ft['HOVER']]='hoverSprit'+'eFrame',Bl[ft['PRESSED']]='pressedSpr'+'iteFrame',Bl[ft['INACTIVE']]='inactiveSp'+'riteFrame';class It extends we{constructor(_0x3ea109,_0x79696d){super(_0x3ea109,_0x79696d),h(this,'_visualSta'+'te',ft['DEFAULT']),h(this,'_isHoverin'+'g',!(-0x336+0x1*0xee6+-0xbaf)),h(this,'_hoveringC'+'ounter',0x1a3b+-0x801+-0x123a),h(this,'_isPressed',!(0x257+-0x3*0xa0f+0x1bd7)),h(this,'_defaultTi'+'nt',new ie(-0x9b*-0x1+-0x1d82*-0x1+-0x1e1c,-0xaad+0xbd8+0x12a*-0x1,0xccf+0x1d29+0xdfd*-0x3,0x1485*-0x1+-0x14d3+0x49*0x91)),h(this,'_defaultSp'+'riteAsset',null),h(this,'_defaultSp'+'riteFrame',-0x73*0xe+-0xe6*0x19+0x1cc0),h(this,'_imageEnti'+'ty',null),h(this,'_evtElemen'+'tAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),h(this,'_evtImageE'+'ntityEleme'+'ntColor',null),h(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=ft['DEFAULT'],this['_isHoverin'+'g']=!(0x26a5+0x18b+-0x1b*0x17d),this['_hoveringC'+'ounter']=-0xd0d+0x1*-0x21b5+0x5f*0x7e,this['_isPressed']=!(-0x1b*-0x33+-0x1de0+-0x2*-0xc40),this['_defaultTi'+'nt']=new ie(0xc5f+-0x6*0x26a+0x21e,-0x9*0x93+0x2f*0xd3+-0x295*0xd,0x2506+0x887+-0x2d8c,-0x16ca+0x1*-0x32e+-0x19f9*-0x1),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=-0x22aa+0x5*0x343+0x125b,this['_toggleLif'+'ecycleList'+'eners']('on',_0x3ea109));}get['data'](){const _0x2bb261=this['system']['store'][this['entity']['getGuid']()];return _0x2bb261?_0x2bb261['data']:null;}set['enabled'](_0x5cfd37){this['_setValue']('enabled',_0x5cfd37);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x428c60){this['_setValue']('active',_0x428c60);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x1771dd){if(this['_imageEnti'+'ty']!==_0x1771dd){const _0x1abd8d=typeof _0x1771dd=='string';if(this['_imageEnti'+'ty']&&_0x1abd8d&&this['_imageEnti'+'ty']['getGuid']()===_0x1771dd)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x1771dd instanceof Ie?this['_imageEnti'+'ty']=_0x1771dd:_0x1abd8d?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x1771dd)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x1abd8d&&_0x1771dd&&(this['data']['imageEntit'+'y']=_0x1771dd);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x3b88f5){this['_setValue']('hitPadding',_0x3b88f5);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x160a89){this['_setValue']('transition'+'Mode',_0x160a89);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0x37a746){this['_setValue']('hoverTint',_0x37a746);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x31c299){this['_setValue']('pressedTin'+'t',_0x31c299);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0x4b8311){this['_setValue']('inactiveTi'+'nt',_0x4b8311);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x2b54e6){this['_setValue']('fadeDurati'+'on',_0x2b54e6);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x12fae2){this['_setValue']('hoverSprit'+'eAsset',_0x12fae2);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x22394f){this['_setValue']('hoverSprit'+'eFrame',_0x22394f);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x5830b8){this['_setValue']('pressedSpr'+'iteAsset',_0x5830b8);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x5b6e76){this['_setValue']('pressedSpr'+'iteFrame',_0x5b6e76);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x592355){this['_setValue']('inactiveSp'+'riteAsset',_0x592355);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x3de967){this['_setValue']('inactiveSp'+'riteFrame',_0x3de967);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0x31d146,_0x4ed4eb){const _0x583e4f=this['data'],_0x132d35=_0x583e4f[_0x31d146];_0x583e4f[_0x31d146]=_0x4ed4eb,this['fire']('set',_0x31d146,_0x132d35,_0x4ed4eb);}['_toggleLif'+'ecycleList'+'eners'](_0x63feb6,_0x5efd38){var _0x86a272;this[_0x63feb6]('set_active',this['_onSetActi'+'ve'],this),this[_0x63feb6]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x63feb6]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x63feb6]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x63feb6]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x63feb6]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x63feb6]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x63feb6]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x63feb6]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x63feb6]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x63feb6]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x63feb6==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x86a272=this['_evtElemen'+'tAdd'])==null||_0x86a272['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x371c78,_0x19d7d8,_0x4b86eb){_0x19d7d8!==_0x4b86eb&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x6f2385,_0x1ab877,_0x34f7e5){_0x1ab877!==_0x34f7e5&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0x1ab877),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x42be3a,_0x382111,_0x194860){_0x382111!==_0x194860&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x136bbe,_0x36e108;(_0x136bbe=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x136bbe['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x36e108=this['_imageEnti'+'ty'])!=null&&_0x36e108['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x5cd030=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x5cd030['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x5cd030['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x5cd030['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x5cd030['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x5cd030['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x142d0b,_0x59910b,_0x2eaaa3,_0x1798f4,_0x113ed8;(_0x142d0b=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x142d0b['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x59910b=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x59910b['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x2eaaa3=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x2eaaa3['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x1798f4=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x1798f4['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x113ed8=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x113ed8['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x1d13a5){if(this['entity']['element']){const _0x8def2c=_0x1d13a5==='on';if(_0x8def2c&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x1d13a5]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x1d13a5]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x1d13a5]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x1d13a5]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x1d13a5]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x1d13a5]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x1d13a5]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x1d13a5]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x1d13a5]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x1d13a5]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x1d13a5]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x1d13a5]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x1d13a5]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x1d13a5]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x8def2c;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x42a968;const _0x34cb2a=(_0x42a968=this['_imageEnti'+'ty'])==null?void(-0x1b90+-0x1b23*0x1+0x36b3):_0x42a968['element'];!_0x34cb2a||_0x34cb2a['type']===eh||(this['_storeDefa'+'ultColor'](_0x34cb2a['color']),this['_storeDefa'+'ultOpacity'](_0x34cb2a['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x34cb2a['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x34cb2a['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x1495cd){this['_defaultTi'+'nt']['r']=_0x1495cd['r'],this['_defaultTi'+'nt']['g']=_0x1495cd['g'],this['_defaultTi'+'nt']['b']=_0x1495cd['b'];}['_storeDefa'+'ultOpacity'](_0x5244f3){this['_defaultTi'+'nt']['a']=_0x5244f3;}['_storeDefa'+'ultSpriteA'+'sset'](_0x50139c){this['_defaultSp'+'riteAsset']=_0x50139c;}['_storeDefa'+'ultSpriteF'+'rame'](_0x209f59){this['_defaultSp'+'riteFrame']=_0x209f59;}['_onSetColo'+'r'](_0x233be3){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x233be3),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x5e388c){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x5e388c),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0xc2bd1d){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0xc2bd1d),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0x2f945f){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0x2f945f),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x35ded6){this['_isHoverin'+'g']=!(-0x1043+-0x21*-0xb1+-0x2*0x347),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x35ded6);}['_onMouseLe'+'ave'](_0x2f7ffd){this['_isHoverin'+'g']=!(-0x742*-0x4+-0x8*0x172+-0x1177),this['_isPressed']=!(0x586*0x2+0x6de*0x3+-0x1fa5),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0x2f7ffd);}['_onMouseDo'+'wn'](_0x3d16a8){this['_isPressed']=!(0xd4f+0x2*0x155+-0x1*0xff9),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x3d16a8);}['_onMouseUp'](_0x7169ef){this['_isPressed']=!(0x1*-0x1c31+0xd*-0x139+0x2c17),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0x7169ef);}['_onTouchSt'+'art'](_0x2974b2){this['_isPressed']=!(0x1cc5+0x20f*0xd+-0x3788),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x2974b2);}['_onTouchEn'+'d'](_0x319e78){_0x319e78['event']['preventDef'+'ault'](),this['_isPressed']=!(0x1c1d+-0x2004+0x32*0x14),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0x319e78);}['_onTouchLe'+'ave'](_0x45cff9){this['_isPressed']=!(-0x17*0xfd+0x8ee+0x2*0x6e7),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x45cff9);}['_onTouchCa'+'ncel'](_0x53d3be){this['_isPressed']=!(-0x2481+-0x72*-0x21+0x15d0),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x53d3be);}['_onSelectS'+'tart'](_0xce800a){this['_isPressed']=!(0x1f13+0x295*-0x3+-0x1754),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0xce800a);}['_onSelectE'+'nd'](_0x11ad39){this['_isPressed']=!(-0x10a1+0x22b7+0x3*-0x607),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x11ad39);}['_onSelectE'+'nter'](_0x72a514){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===0xf2+0x35b+0xdc*-0x5&&(this['_isHoverin'+'g']=!(-0x53*0x4f+-0x11b+0x23a*0xc),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x72a514);}['_onSelectL'+'eave'](_0x2e53b1){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===0x24*-0x67+-0x16b*-0x13+-0xc75&&(this['_isHoverin'+'g']=!(0x101*-0x19+0x1042+0x8d8),this['_isPressed']=!(-0xeb2*0x2+0xada+-0x1*-0x128b),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x2e53b1);}['_onClick'](_0x16287c){this['_fireIfAct'+'ive']('click',_0x16287c);}['_fireIfAct'+'ive'](_0x36a139,_0xa30a74){this['data']['active']&&this['fire'](_0x36a139,_0xa30a74);}['_updateVis'+'ualState'](_0x298c7d){const _0x5886f1=this['_visualSta'+'te'],_0x5b1563=this['_determine'+'VisualStat'+'e']();if((_0x5886f1!==_0x5b1563||_0x298c7d)&&this['enabled'])switch(this['_visualSta'+'te']=_0x5b1563,_0x5886f1===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x5886f1===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x5b1563===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x5b1563===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case Au:{const _0x1037ea=kl[this['_visualSta'+'te']],_0xc140de=this[_0x1037ea];this['_applyTint'](_0xc140de);break;}case Ng:{const _0x12782a=Ul[this['_visualSta'+'te']],_0x45689d=Bl[this['_visualSta'+'te']],_0x6c2d34=this[_0x12782a],_0x1243e6=this[_0x45689d];this['_applySpri'+'te'](_0x6c2d34,_0x1243e6);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(-0x102*-0x1a+0x9*-0x267+-0x495*0x1));}['_resetToDe'+'faultVisua'+'lState'](_0x3b5b72){var _0x43b7ca;if((_0x43b7ca=this['_imageEnti'+'ty'])!=null&&_0x43b7ca['element'])switch(_0x3b5b72){case Au:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case Ng:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return ft['PRESSED'];if(this['_isHoverin'+'g'])return ft['HOVER'];}else return ft['INACTIVE'];return ft['DEFAULT'];}['_applySpri'+'te'](_0x45dcc8,_0x2261cd){var _0x1dabf5;const _0x3a465e=(_0x1dabf5=this['_imageEnti'+'ty'])==null?void(-0x10e0+0x2b1*0x2+0x5bf*0x2):_0x1dabf5['element'];_0x3a465e&&(_0x2261cd=_0x2261cd||-0x5*-0x3ce+0x3*-0xc2b+0x117b,this['_isApplyin'+'gSprite']=!(-0x2288+-0x6*0x42e+-0x1*-0x3b9c),_0x3a465e['spriteAsse'+'t']!==_0x45dcc8&&(_0x3a465e['spriteAsse'+'t']=_0x45dcc8),_0x3a465e['spriteFram'+'e']!==_0x2261cd&&(_0x3a465e['spriteFram'+'e']=_0x2261cd),this['_isApplyin'+'gSprite']=!(0x3*-0x2c+0x907*0x1+-0x882));}['_applyTint'](_0x12937e){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===0x2062+-0x17ef+-0x873?this['_applyTint'+'Immediatel'+'y'](_0x12937e):this['_applyTint'+'WithTween'](_0x12937e);}['_applyTint'+'Immediatel'+'y'](_0x429322){var _0xcffbb7;const _0x714c24=(_0xcffbb7=this['_imageEnti'+'ty'])==null?void(0x2*-0x323+0x1*0x215b+-0x907*0x3):_0xcffbb7['element'];if(!_0x429322||!_0x714c24||_0x714c24['type']===eh)return;const _0x277abd=kg(_0x429322);this['_isApplyin'+'gTint']=!(-0x1406+0xbab+0x85b),_0x277abd['equals'](_0x714c24['color'])||(_0x714c24['color']=_0x277abd),_0x714c24['opacity']!==_0x429322['a']&&(_0x714c24['opacity']=_0x429322['a']),this['_isApplyin'+'gTint']=!(-0x706+0x2544+-0x1e3d*0x1);}['_applyTint'+'WithTween'](_0xdeac2c){var _0x22dc21;const _0x39b070=(_0x22dc21=this['_imageEnti'+'ty'])==null?void(-0xdd5+0x1*0x16fc+-0x927):_0x22dc21['element'];if(!_0xdeac2c||!_0x39b070||_0x39b070['type']===eh)return;const _0xf030d0=kg(_0xdeac2c),_0x371b01=_0x39b070['color'],_0x51d90a=_0x39b070['opacity'];_0xf030d0['equals'](_0x371b01)&&_0xdeac2c['a']===_0x51d90a||(this['_tweenInfo']={'startTime':de(),'from':new ie(_0x371b01['r'],_0x371b01['g'],_0x371b01['b'],_0x51d90a),'to':_0xdeac2c['clone'](),'lerpColor':new ie()});}['_updateTin'+'tTween'](){const _0x47c72d=de()-this['_tweenInfo']['startTime'];let _0x53a06f=this['fadeDurati'+'on']===-0x1*0xbdd+0x937*-0x1+0x13*0x11c?-0xe3*-0x9+-0x7*0xd3+-0x235:_0x47c72d/this['fadeDurati'+'on'];if(_0x53a06f=Y['clamp'](_0x53a06f,-0x6*-0x76+-0x19dc+0x1718,-0x4e5+0x16*-0x18e+0x302*0xd),Math['abs'](_0x53a06f-(-0x1*0xa2e+-0x1210+0x1c3f))>-0x2d5+0x5*0xb6+-0x5*0x25+0.00001){const _0x34f4aa=this['_tweenInfo']['lerpColor'];_0x34f4aa['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x53a06f),this['_applyTint'+'Immediatel'+'y'](new ie(_0x34f4aa['r'],_0x34f4aa['g'],_0x34f4aa['b'],_0x34f4aa['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(0x4*-0x84c+-0x77b*0x2+0x3027),this['_hoveringC'+'ounter']=-0x44b*-0x1+-0xb28+0x6dd,this['_isPressed']=!(0x7f5*-0x3+0x1235*0x1+0x5ab*0x1),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x206bb0,_0x356bbf){_0x206bb0['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x356bbf[_0x206bb0['imageEntit'+'y']['getGuid']()]);}}h(It,'EVENT_MOUS'+'EDOWN','mousedown'),h(It,'EVENT_MOUS'+'EUP','mouseup'),h(It,'EVENT_MOUS'+'EENTER','mouseenter'),h(It,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(It,'EVENT_CLIC'+'K','click'),h(It,'EVENT_TOUC'+'HSTART','touchstart'),h(It,'EVENT_TOUC'+'HEND','touchend'),h(It,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),h(It,'EVENT_TOUC'+'HLEAVE','touchleave'),h(It,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(It,'EVENT_SELE'+'CTEND','selectend'),h(It,'EVENT_SELE'+'CTENTER','selectente'+'r'),h(It,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),h(It,'EVENT_HOVE'+'RSTART','hoverstart'),h(It,'EVENT_HOVE'+'REND','hoverend'),h(It,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),h(It,'EVENT_PRES'+'SEDEND','pressedend');function kg(_0x39d104){return new ie(_0x39d104['r'],_0x39d104['g'],_0x39d104['b']);}class WL{constructor(){this['enabled']=!(0x3*0xabd+0x1a17+0x1b7*-0x22),this['active']=!(0x255a+-0x1*-0x5e7+-0xe6b*0x3),this['imageEntit'+'y']=null,this['hitPadding']=new re(),this['transition'+'Mode']=Au,this['hoverTint']=new ie(0x56*-0x32+0xf4f*-0x2+0x2f6a+0.75,-0x447*0x7+0xed7+0xf1a+0.75,-0x443*-0x3+0x727+-0x13f0+0.75),this['pressedTin'+'t']=new ie(0x191+-0x1*0x1565+0x13d4+0.5,0xdc2+0x27d*0x1+-0x1*0x103f+0.5,0x1*0x23ea+0x2155+0x1715*-0x3+0.5),this['inactiveTi'+'nt']=new ie(0x8b*0x3d+0x1d03+0x21*-0x1e2+0.25,-0x167c+-0x161*0xd+0x2869+0.25,0x13*-0x141+-0x1856+-0x3029*-0x1+0.25),this['fadeDurati'+'on']=-0x13*-0xbc+-0x3db+0x2f*-0x37,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=0x1cfd+0xe85+0x2b82*-0x1,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=-0x569+-0xa84*-0x1+-0x51b,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=-0x1bff+0x8f0+0x130f;}}const Ug=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class $L extends ct{constructor(_0x2d513c){super(_0x2d513c),this['id']='button',this['ComponentT'+'ype']=It,this['DataType']=WL,this['schema']=Ug,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x4ebf7b,_0x793d7b,_0x69bfa4){_0x4ebf7b['imageEntit'+'y']=_0x793d7b['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x4ebf7b,_0x793d7b,Ug);}['onUpdate'](_0x57d035){const _0x527ae1=this['store'];for(const _0x2b914c in _0x527ae1){const _0x1061d2=_0x527ae1[_0x2b914c]['entity'],_0x4a8d3c=_0x1061d2['button'];_0x4a8d3c['enabled']&&_0x1061d2['enabled']&&_0x4a8d3c['onUpdate']();}}['_onRemoveC'+'omponent'](_0x5dd0a7,_0x3ac9d9){_0x3ac9d9['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const Bg=new D(),zg=new le();class rn extends we{constructor(_0x1fa1a1,_0x47abdc){super(_0x1fa1a1,_0x47abdc),h(this,'_compoundP'+'arent',null),h(this,'_hasOffset',!(0x1*0x1435+-0x7c*-0x1+0x10*-0x14b)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0x2b6c63=this['system']['store'][this['entity']['getGuid']()];return _0x2b6c63?_0x2b6c63['data']:null;}set['enabled'](_0x35a7e4){this['_setValue']('enabled',_0x35a7e4);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x1c5ea2){this['_setValue']('type',_0x1c5ea2);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0xe80a0f){this['_setValue']('halfExtent'+'s',_0xe80a0f);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x36f51f){this['_setValue']('linearOffs'+'et',_0x36f51f);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x45c918){this['_setValue']('angularOff'+'set',_0x45c918);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0x46e48b){this['_setValue']('radius',_0x46e48b);}get['radius'](){return this['data']['radius'];}set['axis'](_0x4956c9){this['_setValue']('axis',_0x4956c9);}get['axis'](){return this['data']['axis'];}set['height'](_0x18b383){this['_setValue']('height',_0x18b383);}get['height'](){return this['data']['height'];}set['asset'](_0x58bc55){this['_setValue']('asset',_0x58bc55);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x1fe045){this['_setValue']('renderAsse'+'t',_0x1fe045);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0x2c06f1){this['_setValue']('convexHull',_0x2c06f1);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0x1abece){this['_setValue']('shape',_0x1abece);}get['shape'](){return this['data']['shape'];}set['model'](_0x3fd19e){this['_setValue']('model',_0x3fd19e);}get['model'](){return this['data']['model'];}set['render'](_0x2d8900){this['_setValue']('render',_0x2d8900);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0xc7719d){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0xc7719d);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x25a8c5,_0x41887c){const _0x55a0ab=this['data'],_0x1a8d43=_0x55a0ab[_0x25a8c5];_0x55a0ab[_0x25a8c5]=_0x41887c,this['fire']('set',_0x25a8c5,_0x1a8d43,_0x41887c);}['onSetType'](_0x4a5205,_0x451173,_0xf2bb83){_0x451173!==_0xf2bb83&&this['system']['changeType'](this,_0x451173,_0xf2bb83);}['onSetHalfE'+'xtents'](_0x403fea,_0x4bc71a,_0x15467d){const _0x32b936=this['data']['type'];this['data']['initialize'+'d']&&_0x32b936==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x534c6b,_0x5a5fa0,_0x1f5aca){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](D['ZERO'])||!this['data']['angularOff'+'set']['equals'](le['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x345b70,_0x21d66d,_0x30140e){const _0x57796c=this['data']['type'];this['data']['initialize'+'d']&&(_0x57796c==='sphere'||_0x57796c==='capsule'||_0x57796c==='cylinder'||_0x57796c==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0x2eca41,_0x1a615e,_0x305358){const _0x45020d=this['data']['type'];this['data']['initialize'+'d']&&(_0x45020d==='capsule'||_0x45020d==='cylinder'||_0x45020d==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x4f1cac,_0x355b05,_0x4a5ba0){const _0x4d1d3d=this['data']['type'];this['data']['initialize'+'d']&&(_0x4d1d3d==='capsule'||_0x4d1d3d==='cylinder'||_0x4d1d3d==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x3cabe1,_0x310b6e,_0x413d6a){const _0x4e298a=this['system']['app']['assets'];if(_0x310b6e){const _0x1b05e5=_0x4e298a['get'](_0x310b6e);_0x1b05e5&&_0x1b05e5['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x413d6a){_0x413d6a instanceof pe&&(this['data']['asset']=_0x413d6a['id']);const _0xc4937a=_0x4e298a['get'](this['data']['asset']);_0xc4937a&&(_0xc4937a['off']('remove',this['onAssetRem'+'oved'],this),_0xc4937a['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x413d6a||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x5e62b1,_0x3a5a42,_0x38b62a){const _0x1cd842=this['system']['app']['assets'];if(_0x3a5a42){const _0xc0edc1=_0x1cd842['get'](_0x3a5a42);_0xc0edc1&&_0xc0edc1['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x38b62a){_0x38b62a instanceof pe&&(this['data']['renderAsse'+'t']=_0x38b62a['id']);const _0x4dee57=_0x1cd842['get'](this['data']['renderAsse'+'t']);_0x4dee57&&(_0x4dee57['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x4dee57['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x38b62a||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x362821,_0x24477d,_0x2e08e0){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x77f93e,_0x2e64d4,_0x802c73){this['onSetModel'](_0x77f93e,_0x2e64d4,_0x802c73);}['onAssetRem'+'oved'](_0x42f9f5){_0x42f9f5['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x42f9f5['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x486410){_0x486410['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x486410['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x30cd83){const _0x45205d=this['data']['shape'],_0x153bbf=_0x45205d['getNumChil'+'dShapes']();for(let _0x3e4189=0x1*-0x104e+-0x254c+-0x359a*-0x1;_0x3e4189<_0x153bbf;_0x3e4189++){const _0x486d5c=_0x45205d['getChildSh'+'ape'](_0x3e4189);if(Ammo['getPointer'](_0x486d5c)===Ammo['getPointer'](_0x30cd83))return _0x3e4189;}return null;}['_onInsert'](_0x57978d){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x184565=this['entity']['parent'];for(;_0x184565;){if(_0x184565['collision']&&_0x184565['collision']['type']==='compound'){_0x184565['collision']['shape']['getNumChil'+'dShapes']()===0x23*-0x119+0x18af*-0x1+0x3f1a?this['system']['recreatePh'+'ysicalShap'+'es'](_0x184565['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x184565=_0x184565['parent'];}}}}}['_updateCom'+'pound'](){const _0x52fb9c=this['entity'];if(_0x52fb9c['_dirtyWorl'+'d']){let _0x28a916=_0x52fb9c['_dirtyLoca'+'l'],_0x3346a3=_0x52fb9c;for(;_0x3346a3&&!_0x28a916&&!(_0x3346a3['collision']&&_0x3346a3['collision']===this['_compoundP'+'arent']);)_0x3346a3['_dirtyLoca'+'l']&&(_0x28a916=!(-0x26a3+-0xa7a+0x9*0x575)),_0x3346a3=_0x3346a3['parent'];if(_0x28a916){_0x52fb9c['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x52fb9c);const _0xd702b9=this['_compoundP'+'arent']['entity']['rigidbody'];_0xd702b9&&_0xd702b9['activate']();}}}['getShapePo'+'sition'](){const _0x377467=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x461e4e=this['entity']['getRotatio'+'n'](),_0x4cea65=this['data']['linearOffs'+'et'];return zg['copy'](_0x461e4e)['transformV'+'ector'](_0x4cea65,Bg),Bg['add'](_0x377467);}return _0x377467;}['getShapeRo'+'tation'](){const _0x25574a=this['entity']['getRotatio'+'n']();return this['_hasOffset']?zg['copy'](_0x25574a)['mul'](this['data']['angularOff'+'set']):_0x25574a;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x542a7e=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x542a7e&&(!_0x542a7e['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0xf83+0xb61+-0x1*0x1ae4)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x4d094c=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x4d094c,this['data']['shape']),Ammo['destroy'](_0x4d094c),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}h(rn,'EVENT_CONT'+'ACT','contact'),h(rn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(rn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(rn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(rn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class XL{constructor(){this['enabled']=!(-0xe3e+0x2*0x1343+0x94*-0x2a),this['type']='box',this['halfExtent'+'s']=new D(0x3*-0x23+0x2*0x1051+0x1*-0x2039+0.5,-0x16aa+-0x119a+0x3*0xd6c+0.5,-0x3d1+0x350+0x3*0x2b+0.5),this['linearOffs'+'et']=new D(),this['angularOff'+'set']=new le(),this['radius']=-0x897+0x6b2+0x1e5+0.5,this['axis']=-0x2243+-0x2053+0x4297*0x1,this['height']=-0x1969+-0xd3d+0x26a8,this['convexHull']=!(-0x1*0x132e+0x4d*-0x64+0x3143),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(0x1*-0x58f+-0x12b0*-0x1+0x1*-0xd21),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(0x14f3*0x1+0x5*0x407+-0x2915);}}const yo='static',ks='dynamic',Ha='kinematic',qL=-0x115*0xb+-0x591+0x8bd*0x2,Po=-0x1910*-0x1+-0x1f1d+0x611*0x1,Pu=0x5*0x379+0x101*-0x1a+0x175*0x6,Vg=0x22ec+-0x27e*0xd+-0x282,Yv=0x13b8*0x1+0x397*-0x1+-0x101c,jL=-0x83f*0x2+-0x1*0x1154+0x21d3,Gg=-0x602*0x2+-0x2152+0x2d58,YL=0x1*0x67d+0x600+-0x1*0xc79,Hg=-0x185e*0x1+0xd*0x94+0x10ea,Wg=-0x1*-0xf333+-0x43e2*0x7+0x7*0x45b6,Mu=0x6b20+-0x17353+0x20830;let Us,zr,Wa;class Kv{constructor(_0xdf2642,_0x1f1095,_0x4c818e){this['entity']=_0x1f1095['entity'],this['component']=_0x1f1095,this['app']=_0xdf2642,typeof Ammo<'u'&&!Us&&(Us=new Ammo['btVector3'](),zr=new Ammo['btQuaterni'+'on'](),Wa=new Ammo['btTransfor'+'m']()),this['initialize'](_0x4c818e);}['initialize'](_0x317629){const _0x17e22f=this['entity'],_0x57ae75=_0x317629['shape'];if(_0x57ae75&&typeof Ammo<'u'){_0x17e22f['trigger']&&_0x17e22f['trigger']['destroy']();const _0x26a319=-0x1*-0xf4c+-0x3e*-0x85+-0x2f81,_0x414fcc=this['component'];if(_0x414fcc){const _0x38444d=_0x414fcc['getShapePo'+'sition'](),_0x10fc65=_0x414fcc['getShapeRo'+'tation']();Us['setValue'](_0x38444d['x'],_0x38444d['y'],_0x38444d['z']),zr['setValue'](_0x10fc65['x'],_0x10fc65['y'],_0x10fc65['z'],_0x10fc65['w']);}else{const _0x17a3f8=_0x17e22f['getPositio'+'n'](),_0x5c37e1=_0x17e22f['getRotatio'+'n']();Us['setValue'](_0x17a3f8['x'],_0x17a3f8['y'],_0x17a3f8['z']),zr['setValue'](_0x5c37e1['x'],_0x5c37e1['y'],_0x5c37e1['z'],_0x5c37e1['w']);}Wa['setOrigin'](Us),Wa['setRotatio'+'n'](zr);const _0xc1e438=this['app']['systems']['rigidbody']['createBody'](_0x26a319,_0x57ae75,Wa);_0xc1e438['setRestitu'+'tion'](0x8bb+0x2*-0xa34+0xbad),_0xc1e438['setFrictio'+'n'](-0x264d+-0x2*-0x10e2+0x183*0x3),_0xc1e438['setDamping'](0x13*0x191+-0x1869*0x1+0x2*-0x2ad,-0x42*0x41+-0xe*0x66+0x1*0x1656),Us['setValue'](0x73b+0x1147*0x1+-0x1882*0x1,-0x4f5*-0x1+0x2352+0xd6d*-0x3,0x200f*-0x1+0x14ec+-0xb23*-0x1),_0xc1e438['setLinearF'+'actor'](Us),_0xc1e438['setAngular'+'Factor'](Us),_0xc1e438['setCollisi'+'onFlags'](_0xc1e438['getCollisi'+'onFlags']()|Po),_0xc1e438['entity']=_0x17e22f,this['body']=_0xc1e438,this['component']['enabled']&&_0x17e22f['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0x248dba){const _0x49f2a5=this['component'];if(_0x49f2a5){const _0x622d4e=_0x49f2a5['getShapePo'+'sition'](),_0x2a372a=_0x49f2a5['getShapeRo'+'tation']();Us['setValue'](_0x622d4e['x'],_0x622d4e['y'],_0x622d4e['z']),zr['setValue'](_0x2a372a['x'],_0x2a372a['y'],_0x2a372a['z'],_0x2a372a['w']);}else{const _0x1adccf=this['entity']['getPositio'+'n'](),_0x2cfa84=this['entity']['getRotatio'+'n']();Us['setValue'](_0x1adccf['x'],_0x1adccf['y'],_0x1adccf['z']),zr['setValue'](_0x2cfa84['x'],_0x2cfa84['y'],_0x2cfa84['z'],_0x2cfa84['w']);}_0x248dba['setOrigin'](Us),_0x248dba['setRotatio'+'n'](zr);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Wa);const _0x3fe387=this['body'];_0x3fe387['setWorldTr'+'ansform'](Wa),_0x3fe387['activate']();}['enable'](){const _0x4b75f7=this['body'];if(!_0x4b75f7)return;const _0xb175ba=this['app']['systems']['rigidbody'];_0xb175ba['_triggers']['indexOf'](this)<0x18d*-0xa+0x16*0xdd+0x1*-0x37c&&(_0xb175ba['addBody'](_0x4b75f7,Hg,Mu^Hg),_0xb175ba['_triggers']['push'](this)),_0x4b75f7['forceActiv'+'ationState'](Pu),this['updateTran'+'sform']();}['disable'](){const _0x50d9a5=this['body'];if(!_0x50d9a5)return;const _0x34a3be=this['app']['systems']['rigidbody'],_0x4bcbd0=_0x34a3be['_triggers']['indexOf'](this);_0x4bcbd0>-(0x16b6+0x5dc+0x47*-0x67)&&(_0x34a3be['removeBody'](_0x50d9a5),_0x34a3be['_triggers']['splice'](_0x4bcbd0,-0xcc4+0x2590+0x1*-0x18cb)),_0x50d9a5['forceActiv'+'ationState'](Yv);}}const wc=new te(),KL=new D(),ZL=new D(),Vr=new le(),$g=new Ie(),QL=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class Ca{constructor(_0x5e39d3){this['system']=_0x5e39d3;}['beforeInit'+'ialize'](_0x55bc63,_0xa82839){_0xa82839['shape']=null,_0xa82839['model']=new sr(),_0xa82839['model']['graph']=new Ie();}['afterIniti'+'alize'](_0x330af0,_0x2a3075){this['recreatePh'+'ysicalShap'+'es'](_0x330af0),_0x330af0['data']['initialize'+'d']=!(-0x11*0x47+0xe*-0x1ec+0x1f9f);}['reset'](_0x508bcd,_0x34dcfc){this['beforeInit'+'ialize'](_0x508bcd,_0x34dcfc),this['afterIniti'+'alize'](_0x508bcd,_0x34dcfc);}['recreatePh'+'ysicalShap'+'es'](_0x366f60){const _0xff8e6b=_0x366f60['entity'],_0x244f77=_0x366f60['data'];if(typeof Ammo<'u'){_0xff8e6b['trigger']&&(_0xff8e6b['trigger']['destroy'](),delete _0xff8e6b['trigger']),_0x244f77['shape']&&(_0x366f60['_compoundP'+'arent']&&(_0x366f60!==_0x366f60['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x366f60['_compoundP'+'arent'],_0x244f77['shape']),_0x366f60['_compoundP'+'arent']['entity']['rigidbody']&&_0x366f60['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x244f77)),_0x244f77['shape']=this['createPhys'+'icalShape'](_0x366f60['entity'],_0x244f77);const _0x1d2de9=!_0x366f60['_compoundP'+'arent'];if(_0x244f77['type']==='compound'&&(!_0x366f60['_compoundP'+'arent']||_0x366f60===_0x366f60['_compoundP'+'arent']))_0x366f60['_compoundP'+'arent']=_0x366f60,_0xff8e6b['forEach'](this['_addEachDe'+'scendant'],_0x366f60);else{if(_0x244f77['type']!=='compound'&&!_0x366f60['rigidbody']){_0x366f60['_compoundP'+'arent']=null;let _0x1d08c1=_0xff8e6b['parent'];for(;_0x1d08c1;){if(_0x1d08c1['collision']&&_0x1d08c1['collision']['type']==='compound'){_0x366f60['_compoundP'+'arent']=_0x1d08c1['collision'];break;}_0x1d08c1=_0x1d08c1['parent'];}}}_0x366f60['_compoundP'+'arent']&&_0x366f60!==_0x366f60['_compoundP'+'arent']&&(_0x1d2de9&&_0x366f60['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x197c+0x122d+-0x2ba9?this['system']['recreatePh'+'ysicalShap'+'es'](_0x366f60['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0xff8e6b,!(0x24af*0x1+0x197b+-0x6d*0x92)),_0x366f60['_compoundP'+'arent']['entity']['rigidbody']&&_0x366f60['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0xff8e6b['rigidbody']?(_0xff8e6b['rigidbody']['disableSim'+'ulation'](),_0xff8e6b['rigidbody']['createBody'](),_0xff8e6b['enabled']&&_0xff8e6b['rigidbody']['enabled']&&_0xff8e6b['rigidbody']['enableSimu'+'lation']()):_0x366f60['_compoundP'+'arent']||(_0xff8e6b['trigger']?_0xff8e6b['trigger']['initialize'](_0x244f77):_0xff8e6b['trigger']=new Kv(this['system']['app'],_0x366f60,_0x244f77));}}['createPhys'+'icalShape'](_0x2f6ebf,_0x511040){}['updateTran'+'sform'](_0x1bfe36,_0x33b617,_0x8ed038,_0x3f0eac){_0x1bfe36['entity']['trigger']&&_0x1bfe36['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x358d38){_0x358d38['shape']&&(Ammo['destroy'](_0x358d38['shape']),_0x358d38['shape']=null);}['beforeRemo'+'ve'](_0x42c023,_0x156d71){_0x156d71['data']['shape']&&(_0x156d71['_compoundP'+'arent']&&!_0x156d71['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x156d71['_compoundP'+'arent'],_0x156d71['data']['shape']),_0x156d71['_compoundP'+'arent']['entity']['rigidbody']&&_0x156d71['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x156d71['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x156d71['data']));}['remove'](_0x111a4d,_0x49d7e6){_0x111a4d['rigidbody']&&_0x111a4d['rigidbody']['body']&&_0x111a4d['rigidbody']['disableSim'+'ulation'](),_0x111a4d['trigger']&&(_0x111a4d['trigger']['destroy'](),delete _0x111a4d['trigger']);}['clone'](_0x521080,_0x1fb72c){const _0x37ae4b=this['system']['store'][_0x521080['getGuid']()],_0x1b8dc2={'enabled':_0x37ae4b['data']['enabled'],'type':_0x37ae4b['data']['type'],'halfExtents':[_0x37ae4b['data']['halfExtent'+'s']['x'],_0x37ae4b['data']['halfExtent'+'s']['y'],_0x37ae4b['data']['halfExtent'+'s']['z']],'linearOffset':[_0x37ae4b['data']['linearOffs'+'et']['x'],_0x37ae4b['data']['linearOffs'+'et']['y'],_0x37ae4b['data']['linearOffs'+'et']['z']],'angularOffset':[_0x37ae4b['data']['angularOff'+'set']['x'],_0x37ae4b['data']['angularOff'+'set']['y'],_0x37ae4b['data']['angularOff'+'set']['z'],_0x37ae4b['data']['angularOff'+'set']['w']],'radius':_0x37ae4b['data']['radius'],'axis':_0x37ae4b['data']['axis'],'height':_0x37ae4b['data']['height'],'convexHull':_0x37ae4b['data']['convexHull'],'asset':_0x37ae4b['data']['asset'],'renderAsset':_0x37ae4b['data']['renderAsse'+'t'],'model':_0x37ae4b['data']['model'],'render':_0x37ae4b['data']['render'],'checkVertexDuplicates':_0x37ae4b['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x1fb72c,_0x1b8dc2);}}class JL extends Ca{['createPhys'+'icalShape'](_0x3c15ea,_0x4c7e0e){if(typeof Ammo<'u'){const _0x57376d=_0x4c7e0e['halfExtent'+'s'],_0x1db791=new Ammo['btVector3'](_0x57376d?_0x57376d['x']:0xb2+0x3*0x623+-0x131b+0.5,_0x57376d?_0x57376d['y']:0x376*-0x2+0x3c7*0x7+-0x1*0x1385+0.5,_0x57376d?_0x57376d['z']:-0x25*0xfb+-0x1b76+0x3f*0x103+0.5),_0x4c8f8d=new Ammo['btBoxShape'](_0x1db791);return Ammo['destroy'](_0x1db791),_0x4c8f8d;}}}class eR extends Ca{['createPhys'+'icalShape'](_0x35aee3,_0x32aa9d){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x32aa9d['radius']);}}class tR extends Ca{['createPhys'+'icalShape'](_0x3ab3f7,_0x50f2af){const _0x1ea5c7=_0x50f2af['axis']??-0x1d2a+0x852+0x14d9*0x1,_0x343221=_0x50f2af['radius']??-0x1015*-0x1+0xcb*-0x1d+-0x6*-0x127+0.5,_0x487c79=Math['max']((_0x50f2af['height']??-0xa*0xbf+0xfb*0xf+-0x73d)-(0x1e11+0x13*-0x11+-0x1ccc)*_0x343221,0x8d0+-0x1b06+0x1236);let _0x4e09d=null;if(typeof Ammo<'u')switch(_0x1ea5c7){case 0x2*0x3b8+-0x1*-0x231c+-0x185*0x1c:_0x4e09d=new Ammo['btCapsuleS'+'hapeX'](_0x343221,_0x487c79);break;case 0x23ed+0x185+-0x2571:_0x4e09d=new Ammo['btCapsuleS'+'hape'](_0x343221,_0x487c79);break;case-0x199*0x4+0x141+0x1*0x525:_0x4e09d=new Ammo['btCapsuleS'+'hapeZ'](_0x343221,_0x487c79);break;}return _0x4e09d;}}class sR extends Ca{['createPhys'+'icalShape'](_0x55a9d1,_0x3d7832){const _0x337bed=_0x3d7832['axis']??-0x1703+0x1*-0xa67+-0x6af*-0x5,_0x1b4681=_0x3d7832['radius']??-0x285+0x12e4+0xb*-0x17d+0.5,_0x1629a3=_0x3d7832['height']??-0x7ab+-0xa63+0x120f;let _0x7c8403=null,_0x2d7ac3=null;if(typeof Ammo<'u')switch(_0x337bed){case-0x176d*-0x1+-0x1bd8+0x46b:_0x7c8403=new Ammo['btVector3'](_0x1629a3*(-0x4*-0x880+0x911+-0x2b11+0.5),_0x1b4681,_0x1b4681),_0x2d7ac3=new Ammo['btCylinder'+'ShapeX'](_0x7c8403);break;case 0x1*-0x1feb+-0x699+-0x39*-0xad:_0x7c8403=new Ammo['btVector3'](_0x1b4681,_0x1629a3*(0x2b*-0x9a+0xbfd+0x1*0xde1+0.5),_0x1b4681),_0x2d7ac3=new Ammo['btCylinder'+'Shape'](_0x7c8403);break;case 0x5fd+0xb*-0x329+-0x732*-0x4:_0x7c8403=new Ammo['btVector3'](_0x1b4681,_0x1b4681,_0x1629a3*(0x1*-0x12b9+0x152f+-0x276+0.5)),_0x2d7ac3=new Ammo['btCylinder'+'ShapeZ'](_0x7c8403);break;}return _0x7c8403&&Ammo['destroy'](_0x7c8403),_0x2d7ac3;}}class iR extends Ca{['createPhys'+'icalShape'](_0x1b9863,_0x4636fe){const _0x1a3e39=_0x4636fe['axis']??-0x723+-0x10db+0x17ff,_0x5f3257=_0x4636fe['radius']??-0x2a*0x81+-0x1*-0x49+0x42d*0x5+0.5,_0x324341=_0x4636fe['height']??0x1fd*0xb+-0x1f15+0x937;let _0x232510=null;if(typeof Ammo<'u')switch(_0x1a3e39){case-0x595*-0x3+0x1e9*-0x9+-0x13*-0x6:_0x232510=new Ammo['btConeShap'+'eX'](_0x5f3257,_0x324341);break;case-0x11b*0x7+-0x11e9+-0x255*-0xb:_0x232510=new Ammo['btConeShap'+'e'](_0x5f3257,_0x324341);break;case-0x128f*0x2+-0x5f2*-0x2+0x193c:_0x232510=new Ammo['btConeShap'+'eZ'](_0x5f3257,_0x324341);break;}return _0x232510;}}class rR extends Ca{['beforeInit'+'ialize'](_0x320685,_0x34cf64){}['createAmmo'+'Hull'](_0xfdf63c,_0x203676,_0x396a98,_0x6923d6){const _0x52fc17=new Ammo['btConvexHu'+'llShape'](),_0x3e6ffd=new Ammo['btVector3'](),_0x155d0b=[];_0xfdf63c['getPositio'+'ns'](_0x155d0b);for(let _0xbc4b70=0x203a+-0x1*0x7a+-0x1fc0;_0xbc4b70<_0x155d0b['length'];_0xbc4b70+=-0x2643+-0x1d9d+0x43e3)_0x3e6ffd['setValue'](_0x155d0b[_0xbc4b70]*_0x6923d6['x'],_0x155d0b[_0xbc4b70+(-0x182*0x2+0x198d+-0x1688)]*_0x6923d6['y'],_0x155d0b[_0xbc4b70+(0x359*-0x5+0x15e3*-0x1+0x26a2)]*_0x6923d6['z']),_0x52fc17['addPoint'](_0x3e6ffd,!(-0x24f+0x2535+-0x22e5));Ammo['destroy'](_0x3e6ffd),_0x52fc17['recalcLoca'+'lAabb'](),_0x52fc17['setMargin'](-0xefa+-0x67f*0x1+0x1579+0.01);const _0xc4cdda=this['system']['_getNodeTr'+'ansform'](_0x203676);_0x396a98['addChildSh'+'ape'](_0xc4cdda,_0x52fc17),Ammo['destroy'](_0xc4cdda);}['createAmmo'+'Mesh'](_0x5ad1ec,_0x3cab4d,_0xef5eb6,_0x762e4e,_0x336fae=!(0x516+0x1287+-0x1*0x179d)){const _0x5c6c5e=this['system'];let _0x27b808;if(_0x5c6c5e['_triMeshCa'+'che'][_0x5ad1ec['id']])_0x27b808=_0x5c6c5e['_triMeshCa'+'che'][_0x5ad1ec['id']];else{const _0x301779=_0x5ad1ec['vertexBuff'+'er'],_0x1d7a64=_0x301779['getFormat']();let _0xe6c392,_0xe36c21;for(let _0x4bd6bd=-0x2*-0xc65+-0xa59*0x1+-0xe71;_0x4bd6bd<_0x1d7a64['elements']['length'];_0x4bd6bd++){const _0x465d22=_0x1d7a64['elements'][_0x4bd6bd];if(_0x465d22['name']===Me){_0xe36c21=new Float32Array(_0x301779['lock'](),_0x465d22['offset']),_0xe6c392=_0x465d22['stride']/(-0xb4+-0x19db+0x1a93);break;}}const _0x591b46=[];_0x5ad1ec['getIndices'](_0x591b46);const _0x2cf0ee=_0x5ad1ec['primitive'][-0x476+-0x95+0x50b]['count']/(0x8cb+-0x1d64+0x149c),_0x1dc20f=new Ammo['btVector3']();let _0x1d9776,_0x17d3a4,_0x373482;const _0xe6ffe4=_0x5ad1ec['primitive'][0x7d0*-0x3+0x4*0x89e+0x2c2*-0x4]['base'];_0x27b808=new Ammo['btTriangle'+'Mesh'](),_0x5c6c5e['_triMeshCa'+'che'][_0x5ad1ec['id']]=_0x27b808;const _0xd4c257=new Map();w['assert'](typeof _0x27b808['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x11b9a0=_0x27b808['getIndexed'+'MeshArray']();_0x11b9a0['at'](-0x1467+0x1ea7+-0x52*0x20)['m_numTrian'+'gles']=_0x2cf0ee;const _0x4a4201=_0x762e4e?_0x762e4e['x']:0x248c+0x253b*-0x1+0xb0,_0x41686e=_0x762e4e?_0x762e4e['y']:0x59*-0x8+0xf8d+-0xcc4,_0x47db11=_0x762e4e?_0x762e4e['z']:-0x2615+0x3*-0x247+-0x2ceb*-0x1,_0x3d3146=_0x50cd68=>{const _0x3f4a58=_0xe36c21[_0x50cd68*_0xe6c392]*_0x4a4201,_0x3bc9b2=_0xe36c21[_0x50cd68*_0xe6c392+(0x1fd4*0x1+0x6*-0x5b6+0x5*0x7d)]*_0x41686e,_0x349a13=_0xe36c21[_0x50cd68*_0xe6c392+(0x7af*-0x2+-0x843+0x17a3)]*_0x47db11;let _0x7361e1;if(_0x336fae){const _0xbfa7c6=_0x3f4a58+':'+_0x3bc9b2+':'+_0x349a13;if(_0x7361e1=_0xd4c257['get'](_0xbfa7c6),_0x7361e1!==void(-0xd3*-0x14+0x5f3*0x2+0x207*-0xe))return _0x7361e1;_0x1dc20f['setValue'](_0x3f4a58,_0x3bc9b2,_0x349a13),_0x7361e1=_0x27b808['findOrAddV'+'ertex'](_0x1dc20f,!(0x1de6+-0x2b0+-0x1b35)),_0xd4c257['set'](_0xbfa7c6,_0x7361e1);}else _0x1dc20f['setValue'](_0x3f4a58,_0x3bc9b2,_0x349a13),_0x7361e1=_0x27b808['findOrAddV'+'ertex'](_0x1dc20f,!(-0xe*0x1eb+-0x42c+0x1f07*0x1));return _0x7361e1;};for(let _0x1d71bc=-0x16b6+0x1d71*-0x1+-0x403*-0xd;_0x1d71bc<_0x2cf0ee;_0x1d71bc++)_0x1d9776=_0x3d3146(_0x591b46[_0xe6ffe4+_0x1d71bc*(0xe22+0x1b41+-0x10*0x296)]),_0x17d3a4=_0x3d3146(_0x591b46[_0xe6ffe4+_0x1d71bc*(0x1*0xfe1+-0x95*0x33+0x83*0x1b)+(-0x1bb3+-0x4e*0xe+-0x5d*-0x58)]),_0x373482=_0x3d3146(_0x591b46[_0xe6ffe4+_0x1d71bc*(0x1be4+0x3b*-0x5a+0x9*-0xcb)+(0x7*0x4e+0x2245*0x1+-0x2465)]),_0x27b808['addIndex'](_0x1d9776),_0x27b808['addIndex'](_0x17d3a4),_0x27b808['addIndex'](_0x373482);Ammo['destroy'](_0x1dc20f);}const _0x38bed3=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x27b808,!(0x609+0x3a*-0x50+0xc17));if(!_0x762e4e){const _0x1a7a08=_0x5c6c5e['_getNodeSc'+'aling'](_0x3cab4d);_0x38bed3['setLocalSc'+'aling'](_0x1a7a08),Ammo['destroy'](_0x1a7a08);}const _0x2fd214=_0x5c6c5e['_getNodeTr'+'ansform'](_0x3cab4d);_0xef5eb6['addChildSh'+'ape'](_0x2fd214,_0x38bed3),Ammo['destroy'](_0x2fd214);}['createPhys'+'icalShape'](_0x147471,_0x5bcb69){if(!(typeof Ammo>'u')&&(_0x5bcb69['model']||_0x5bcb69['render'])){const _0x1ab119=new Ammo['btCompound'+'Shape'](),_0x5c7600=_0x147471['getWorldTr'+'ansform']()['getScale']();if(_0x5bcb69['render']){const _0x1a0663=_0x5bcb69['render']['meshes'];for(let _0x3646ba=0x2043+-0x1*0xf2b+-0x1118;_0x3646ba<_0x1a0663['length'];_0x3646ba++)_0x5bcb69['convexHull']?this['createAmmo'+'Hull'](_0x1a0663[_0x3646ba],$g,_0x1ab119,_0x5c7600):this['createAmmo'+'Mesh'](_0x1a0663[_0x3646ba],$g,_0x1ab119,_0x5c7600,_0x5bcb69['checkVerte'+'xDuplicate'+'s']);}else{if(_0x5bcb69['model']){const _0x183791=_0x5bcb69['model']['meshInstan'+'ces'];for(let _0x5770fc=0x47*-0x59+-0x1eb0*0x1+0x375f;_0x5770fc<_0x183791['length'];_0x5770fc++)this['createAmmo'+'Mesh'](_0x183791[_0x5770fc]['mesh'],_0x183791[_0x5770fc]['node'],_0x1ab119,null,_0x5bcb69['checkVerte'+'xDuplicate'+'s']);const _0x5da140=new Ammo['btVector3'](_0x5c7600['x'],_0x5c7600['y'],_0x5c7600['z']);_0x1ab119['setLocalSc'+'aling'](_0x5da140),Ammo['destroy'](_0x5da140);}}return _0x1ab119;}}['recreatePh'+'ysicalShap'+'es'](_0x24eff0){const _0x532804=_0x24eff0['data'];if((_0x532804['renderAsse'+'t']||_0x532804['asset'])&&_0x24eff0['enabled']&&_0x24eff0['entity']['enabled']){this['loadAsset'](_0x24eff0,_0x532804['renderAsse'+'t']||_0x532804['asset'],_0x532804['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x24eff0);}['loadAsset'](_0x6bbbcd,_0x22627f,_0xe89c9e){const _0x45f9e4=_0x6bbbcd['data'],_0xc68457=this['system']['app']['assets'],_0x1ef378=_0x45f9e4[_0xe89c9e],_0x50dc83=_0x50bc45=>{_0x45f9e4[_0xe89c9e]===_0x1ef378&&(_0x45f9e4[_0xe89c9e]=_0x50bc45['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0x6bbbcd));},_0x4e93aa=_0x1fc219=>{_0x1fc219['ready'](_0x86fe6f=>{if(_0x86fe6f['data']['containerA'+'sset']){const _0x23b16d=_0xc68457['get'](_0x86fe6f['data']['containerA'+'sset']);_0x23b16d['loaded']?_0x50dc83(_0x86fe6f):(_0x23b16d['ready'](()=>{_0x50dc83(_0x86fe6f);}),_0xc68457['load'](_0x23b16d));}else _0x50dc83(_0x86fe6f);}),_0xc68457['load'](_0x1fc219);},_0x8a7162=_0xc68457['get'](_0x22627f);_0x8a7162?_0x4e93aa(_0x8a7162):_0xc68457['once']('add:'+_0x22627f,_0x4e93aa);}['doRecreate'+'PhysicalSh'+'ape'](_0x5861b1){const _0x16dacf=_0x5861b1['entity'],_0x2eabbb=_0x5861b1['data'];_0x2eabbb['model']||_0x2eabbb['render']?(this['destroySha'+'pe'](_0x2eabbb),_0x2eabbb['shape']=this['createPhys'+'icalShape'](_0x16dacf,_0x2eabbb),_0x16dacf['rigidbody']?(_0x16dacf['rigidbody']['disableSim'+'ulation'](),_0x16dacf['rigidbody']['createBody'](),_0x16dacf['enabled']&&_0x16dacf['rigidbody']['enabled']&&_0x16dacf['rigidbody']['enableSimu'+'lation']()):_0x16dacf['trigger']?_0x16dacf['trigger']['initialize'](_0x2eabbb):_0x16dacf['trigger']=new Kv(this['system']['app'],_0x5861b1,_0x2eabbb)):(this['beforeRemo'+'ve'](_0x16dacf,_0x5861b1),this['remove'](_0x16dacf,_0x2eabbb));}['updateTran'+'sform'](_0x1b6af8,_0x1b22ec,_0x359e10,_0x6ee789){if(_0x1b6af8['shape']){const _0x36af64=_0x1b6af8['entity']['getWorldTr'+'ansform']()['getScale'](),_0x38b565=_0x1b6af8['shape']['getLocalSc'+'aling']();(_0x36af64['x']!==_0x38b565['x']()||_0x36af64['y']!==_0x38b565['y']()||_0x36af64['z']!==_0x38b565['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x1b6af8);}super['updateTran'+'sform'](_0x1b6af8,_0x1b22ec,_0x359e10,_0x6ee789);}['destroySha'+'pe'](_0xd2184d){if(!_0xd2184d['shape'])return;const _0xd620f6=_0xd2184d['shape']['getNumChil'+'dShapes']();for(let _0x5c7aba=-0xf97+0x906+0x691*0x1;_0x5c7aba<_0xd620f6;_0x5c7aba++){const _0x23de01=_0xd2184d['shape']['getChildSh'+'ape'](_0x5c7aba);Ammo['destroy'](_0x23de01);}Ammo['destroy'](_0xd2184d['shape']),_0xd2184d['shape']=null;}}class aR extends Ca{['createPhys'+'icalShape'](_0x38efef,_0x249bdc){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x5da521){!_0x5da521['collision']||_0x5da521['rigidbody']||(_0x5da521['collision']['_compoundP'+'arent']=this,_0x5da521!==this['entity']&&_0x5da521['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x5da521['collision']));}['_updateEac'+'hDescendan'+'t'](_0x1b4937){_0x1b4937['collision']&&_0x1b4937['collision']['_compoundP'+'arent']===this&&(_0x1b4937['collision']['_compoundP'+'arent']=null,_0x1b4937!==this['entity']&&!_0x1b4937['rigidbody']&&_0x1b4937['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x1b4937['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x2e9df6){!_0x2e9df6['collision']||_0x2e9df6['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x2e9df6,!(0x1ca9+0x8*-0x58+-0x2*0xcf4));}}class nR extends ct{constructor(_0x1078d7){super(_0x1078d7),this['id']='collision',this['ComponentT'+'ype']=rn,this['DataType']=XL,this['schema']=QL,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x4b42ad,_0x3952fb,_0x285503){_0x285503=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x242093={};for(let _0x52caee=0x1607+0x21de+-0x1*0x37e5,_0x27cd40=_0x285503['length'];_0x52caee<_0x27cd40;_0x52caee++){const _0x2370bf=_0x285503[_0x52caee];_0x242093[_0x2370bf]=_0x3952fb[_0x2370bf];}let _0x13c716;if(_0x3952fb['hasOwnProp'+'erty']('asset')?(_0x13c716=_0x285503['indexOf']('model'),_0x13c716!==-(0xeb4+0xf49*0x1+-0x1dfc)&&_0x285503['splice'](_0x13c716,-0x22*-0x8b+0x6d*0x3d+-0x2c6e),_0x13c716=_0x285503['indexOf']('render'),_0x13c716!==-(0x1be9+0xbf*0x2+0x1*-0x1d66)&&_0x285503['splice'](_0x13c716,0x2608+0xf3d+-0x3544)):_0x3952fb['hasOwnProp'+'erty']('model')&&(_0x13c716=_0x285503['indexOf']('asset'),_0x13c716!==-(-0x2*0xacd+-0x2*0x50e+0x1fb7)&&_0x285503['splice'](_0x13c716,-0xf5a+0x861+-0x5e*-0x13)),_0x242093['type']||(_0x242093['type']=_0x4b42ad['data']['type']),_0x4b42ad['data']['type']=_0x242093['type'],Array['isArray'](_0x242093['halfExtent'+'s'])&&(_0x242093['halfExtent'+'s']=new D(_0x242093['halfExtent'+'s'])),Array['isArray'](_0x242093['linearOffs'+'et'])&&(_0x242093['linearOffs'+'et']=new D(_0x242093['linearOffs'+'et'])),Array['isArray'](_0x242093['angularOff'+'set'])){const _0x134baa=_0x242093['angularOff'+'set'];_0x134baa['length']===-0x1448+0x1b*-0x47+0x1bc8?_0x242093['angularOff'+'set']=new le()['setFromEul'+'erAngles'](_0x134baa[-0x1ae9*-0x1+0x1ecf+-0x39b8],_0x134baa[-0x29b*0xd+-0x1*0x831+0x2a11],_0x134baa[0x748*-0x1+-0x2a7*-0x1+0x4a3]):_0x242093['angularOff'+'set']=new le(_0x242093['angularOff'+'set']);}const _0x216c7e=this['_createImp'+'lementatio'+'n'](_0x242093['type']);_0x216c7e['beforeInit'+'ialize'](_0x4b42ad,_0x242093),super['initialize'+'ComponentD'+'ata'](_0x4b42ad,_0x242093,_0x285503),_0x216c7e['afterIniti'+'alize'](_0x4b42ad,_0x242093);}['_createImp'+'lementatio'+'n'](_0x2281c6){if(this['implementa'+'tions'][_0x2281c6]===void(0x1*0x250e+-0x6df+-0x1e2f)){let _0x27500b;switch(_0x2281c6){case'box':_0x27500b=new JL(this);break;case'sphere':_0x27500b=new eR(this);break;case'capsule':_0x27500b=new tR(this);break;case'cylinder':_0x27500b=new sR(this);break;case'cone':_0x27500b=new iR(this);break;case'mesh':_0x27500b=new rR(this);break;case'compound':_0x27500b=new aR(this);break;default:w['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x2281c6);}this['implementa'+'tions'][_0x2281c6]=_0x27500b;}return this['implementa'+'tions'][_0x2281c6];}['_getImplem'+'entation'](_0x3ba266){return this['implementa'+'tions'][_0x3ba266['collision']['data']['type']];}['cloneCompo'+'nent'](_0x52b32b,_0x17d118){return this['_getImplem'+'entation'](_0x52b32b)['clone'](_0x52b32b,_0x17d118);}['onBeforeRe'+'move'](_0x11b6d3,_0x2426c0){this['implementa'+'tions'][_0x2426c0['data']['type']]['beforeRemo'+'ve'](_0x11b6d3,_0x2426c0),_0x2426c0['onBeforeRe'+'move']();}['onRemove'](_0x40be3e,_0x203178){this['implementa'+'tions'][_0x203178['type']]['remove'](_0x40be3e,_0x203178);}['updateComp'+'oundChildT'+'ransform'](_0x38f9ed,_0x2ed757){const _0x29bd42=_0x38f9ed['collision']['_compoundP'+'arent'];if(_0x29bd42!==_0x38f9ed['collision']&&_0x38f9ed['enabled']&&_0x38f9ed['collision']['enabled']&&(_0x38f9ed['_dirtyLoca'+'l']||_0x2ed757)){const _0x2bcb9e=this['_getNodeTr'+'ansform'](_0x38f9ed,_0x29bd42['entity']),_0x29841c=_0x29bd42['getCompoun'+'dChildShap'+'eIndex'](_0x38f9ed['collision']['shape']);_0x29841c===null?_0x29bd42['shape']['addChildSh'+'ape'](_0x2bcb9e,_0x38f9ed['collision']['data']['shape']):_0x29bd42['shape']['updateChil'+'dTransform'](_0x29841c,_0x2bcb9e,!(-0x1ef1+0x1f84+-0x93)),Ammo['destroy'](_0x2bcb9e);}}['_removeCom'+'poundChild'](_0x33ef4b,_0x3bb135){if(_0x33ef4b['shape']['getNumChil'+'dShapes']()!==0x1cb8*-0x1+0x250d+-0x1b*0x4f){if(_0x33ef4b['shape']['removeChil'+'dShape'])_0x33ef4b['shape']['removeChil'+'dShape'](_0x3bb135);else{const _0x1b615e=_0x33ef4b['getCompoun'+'dChildShap'+'eIndex'](_0x3bb135);_0x1b615e!==null&&_0x33ef4b['shape']['removeChil'+'dShapeByIn'+'dex'](_0x1b615e);}}}['onTransfor'+'mChanged'](_0x4b81fd,_0x3e5726,_0x4574f6,_0x123ee0){this['implementa'+'tions'][_0x4b81fd['data']['type']]['updateTran'+'sform'](_0x4b81fd,_0x3e5726,_0x4574f6,_0x123ee0);}['changeType'](_0x4582dc,_0x232793,_0x11bfcf){this['implementa'+'tions'][_0x232793]['beforeRemo'+'ve'](_0x4582dc['entity'],_0x4582dc),this['implementa'+'tions'][_0x232793]['remove'](_0x4582dc['entity'],_0x4582dc['data']),this['_createImp'+'lementatio'+'n'](_0x11bfcf)['reset'](_0x4582dc,_0x4582dc['data']);}['recreatePh'+'ysicalShap'+'es'](_0x313ead){this['implementa'+'tions'][_0x313ead['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x313ead);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0xca8411,_0x268f94){if(_0xca8411===_0x268f94){const _0x2f2e45=_0xca8411['getWorldTr'+'ansform']()['getScale']();wc['setScale'](_0x2f2e45['x'],_0x2f2e45['y'],_0x2f2e45['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0xca8411['parent'],_0x268f94),wc['mul'](_0xca8411['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x2cb43e){const _0x3c5054=_0x2cb43e['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x3c5054['x'],_0x3c5054['y'],_0x3c5054['z']);}['_getNodeTr'+'ansform'](_0x210b54,_0x4d8de9){let _0x2d3bff,_0x220d6f;_0x4d8de9?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x210b54,_0x4d8de9),_0x2d3bff=KL,_0x220d6f=Vr,wc['getTransla'+'tion'](_0x2d3bff),_0x220d6f['setFromMat'+'4'](wc)):(_0x2d3bff=_0x210b54['getPositio'+'n'](),_0x220d6f=_0x210b54['getRotatio'+'n']());const _0x82b924=new Ammo['btQuaterni'+'on'](),_0xae1d7b=new Ammo['btTransfor'+'m']();_0xae1d7b['setIdentit'+'y']();const _0x171e8a=_0xae1d7b['getOrigin'](),_0x3917c0=_0x210b54['collision'];if(_0x3917c0&&_0x3917c0['_hasOffset']){const _0x252d4c=_0x3917c0['data']['linearOffs'+'et'],_0x29ca02=_0x3917c0['data']['angularOff'+'set'],_0x205e07=ZL;Vr['copy'](_0x220d6f)['transformV'+'ector'](_0x252d4c,_0x205e07),_0x205e07['add'](_0x2d3bff),Vr['copy'](_0x220d6f)['mul'](_0x29ca02),_0x171e8a['setValue'](_0x205e07['x'],_0x205e07['y'],_0x205e07['z']),_0x82b924['setValue'](Vr['x'],Vr['y'],Vr['z'],Vr['w']);}else _0x171e8a['setValue'](_0x2d3bff['x'],_0x2d3bff['y'],_0x2d3bff['z']),_0x82b924['setValue'](_0x220d6f['x'],_0x220d6f['y'],_0x220d6f['z'],_0x220d6f['w']);return _0xae1d7b['setRotatio'+'n'](_0x82b924),Ammo['destroy'](_0x82b924),_0xae1d7b;}['destroy'](){for(const _0x4f859b in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x4f859b]);this['_triMeshCa'+'che']=null,super['destroy']();}}const Ec=new ie(),oR=new Kt();class lR{constructor(_0x308014,_0x18e077,_0x217cc9){this['_entity']=_0x308014,this['_element']=_0x308014['element'],this['model']=new sr(),this['node']=new Ie(),this['model']['graph']=this['node'],this['mesh']=_0x18e077,this['meshInstan'+'ce']=new He(this['mesh'],_0x217cc9,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x308014['name'],this['meshInstan'+'ce']['castShadow']=!(0xa3*-0x1e+-0x8*0x2b7+-0x7*-0x5d5),this['meshInstan'+'ce']['receiveSha'+'dow']=!(0x2*0x28b+-0x18bc+0x13a7),this['_meshDirty']=!(-0x16b*0x1b+-0x1b5e+0x41a8),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x26c62b,_0x5c2054;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x26c62b=this['meshInstan'+'ce'])==null||_0x26c62b['destroy'](),this['meshInstan'+'ce']=null,(_0x5c2054=this['unmaskMesh'+'Instance'])==null||_0x5c2054['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x20a9a5){this['meshInstan'+'ce']&&(this['mesh']=_0x20a9a5,this['meshInstan'+'ce']['mesh']=_0x20a9a5,this['meshInstan'+'ce']['visible']=!!_0x20a9a5,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x20a9a5),this['forceUpdat'+'eAabb']());}['setMask'](_0x1ee84d){var _0x1843bd;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0x1ee84d){this['unmaskMesh'+'Instance']=new He(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(0x2d9*0x3+0xe1e+-0x16a8),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(0xd*-0x10d+-0x5*-0x48f+-0x921),this['unmaskMesh'+'Instance']['pick']=!(-0x1ce9+0x1ecc+-0x1e2),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x3fab87 in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x3fab87,this['meshInstan'+'ce']['parameters'][_0x3fab87]['data']);}else{const _0x4a70f6=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x4a70f6>=-0xb86+0x4cf+0x6b7&&this['model']['meshInstan'+'ces']['splice'](_0x4a70f6,0xe*-0x22f+-0x3*-0x3b3+0x137a);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0x1ee84d||((_0x1843bd=this['unmaskMesh'+'Instance'])==null||_0x1843bd['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x4c6a2b){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x4c6a2b,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x4c6a2b));}['setParamet'+'er'](_0x36c13c,_0x210917){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0x36c13c,_0x210917),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x36c13c,_0x210917));}['deletePara'+'meter'](_0xb10673){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0xb10673),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0xb10673));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x556b6e=function(_0x2e7bb3){let _0x2ab389;const _0x3fde89=_0x2e7bb3['children'],_0xfe7deb=_0x3fde89['length'];if(_0xfe7deb){for(let _0x261043=-0x147*-0x2+-0x1*-0x2407+-0x2695;_0x261043<_0xfe7deb;_0x261043++)_0x3fde89[_0x261043]['element']&&(_0x2ab389=_0x3fde89[_0x261043]);if(!_0x2ab389)return null;const _0x23472b=_0x556b6e(_0x2ab389);return _0x23472b||_0x2ab389;}return null;};if(this['unmaskMesh'+'Instance']){const _0x4a3104=_0x556b6e(this['_entity']);_0x4a3104&&_0x4a3104['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x4a3104['element']['drawOrder']+_0x4a3104['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),w['trace'](Vs,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x4bfb3f){this['meshInstan'+'ce']&&(w['trace'](Vs,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x4bfb3f),this['meshInstan'+'ce']['drawOrder']=_0x4bfb3f);}['setCull'](_0x4a4606){if(!this['meshInstan'+'ce'])return;const _0x1466db=this['_element'];let _0x41b0cf=null;_0x4a4606&&_0x1466db['_isScreenS'+'pace']()&&(_0x41b0cf=function(_0x575db){return _0x1466db['isVisibleF'+'orCamera'](_0x575db);}),this['meshInstan'+'ce']['cull']=_0x4a4606,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x41b0cf,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x4a4606,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x41b0cf);}['setScreenS'+'pace'](_0x3237c1){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x3237c1,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x3237c1));}['setLayer'](_0x246280){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x246280,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x246280));}['forceUpdat'+'eAabb'](_0x2a33b8){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(-0x136*0x10+-0x1b4+0x1515),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(-0x2383*0x1+-0xfa0+-0xcc9*-0x4)));}['setAabbFun'+'c'](_0x2aef8d){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x2aef8d,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x2aef8d));}}class cR{constructor(_0x136447){h(this,'_evtSetMes'+'hes',null),(this['_element']=_0x136447,this['_entity']=_0x136447['entity'],this['_system']=_0x136447['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=0x1d64+0x217c+-0x3ee0,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(0x2186+0x139*-0x7+-0x18f6),this['_rect']=new re(0x18*0x103+-0x13*-0x1f7+-0x3d9d*0x1,-0x1*-0xa44+0x4*0x91f+-0x440*0xb,-0x157*0x16+-0x1*-0x21c1+-0x446,0x134f+0x3b*-0x2+0x12*-0x10c),this['_mask']=!(0xf1*-0x23+0x2*0x1374+-0x2*0x2fa),this['_maskRef']=0x45*-0x89+-0x28d*-0xb+0x8de,this['_outerScal'+'e']=new J(),this['_outerScal'+'eUniform']=new Float32Array(0x166f*-0x1+-0xf21+-0x3*-0xc86),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(0x296*0xb+0x5ff*0x6+-0x4068),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(-0xda8+0xbe+0x14b*0xa),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new lR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new ie(0x15da+-0x4b3*0x5+0x1a6,0xb57*0x2+0x3e*-0x47+-0x1*0x57b,-0x155+0x1*-0x20af+0x2205,-0x1979+-0x59*0x57+-0xb25*-0x5),this['_colorUnif'+'orm']=new Float32Array([-0x1a0+0x10e6+-0xf45,-0x140e+-0x1*0x1aa0+-0x2eaf*-0x1,0x2*-0x699+0x359+-0x1a*-0x61]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',-0x2208+-0x1ca+0x23d3),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x15c273){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x2b755b){this['_updateMat'+'erial'](_0x2b755b);}['_onScreenC'+'hange'](_0x2944ea,_0x118f74){_0x2944ea?this['_updateMat'+'erial'](_0x2944ea['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0x263f*0x1+0xc07*0x1+-0x1*0x3245));}['_onDrawOrd'+'erChange'](_0x1e8b10){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x1e8b10),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(0x1*0xa2b+0x1f*0x8f+0x1*-0x1b7b);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt);}['_updateMat'+'erial'](_0x3ce5c8){const _0x39171e=!!this['_mask'],_0x298d0b=!!(this['sprite']&&this['sprite']['renderMode']===Pt),_0x39149b=!!(this['sprite']&&this['sprite']['renderMode']===Mt);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x3ce5c8,_0x39171e,_0x298d0b,_0x39149b)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x3ce5c8),this['_renderabl'+'e']['setLayer'](_0x3ce5c8?Ow:Ky));}['_createMes'+'h'](){const _0x2f077d=this['_element'],_0x11501c=_0x2f077d['calculated'+'Width'],_0x2e596d=_0x2f077d['calculated'+'Height'],_0x5eee36=this['_rect'],_0x4f3a65=this['_system']['app']['graphicsDe'+'vice'],_0x3defb6=new Float32Array([_0x11501c,-0x1704+0x1fc8+-0x8c4,-0x410+0xde*-0x21+0x20ae,0xa66+-0x12a4*0x2+-0x3e*-0x6f,0x197+-0x1e46+0x1caf,0x255*-0x1+-0xb5*0x16+-0x14*-0xe5,_0x5eee36['x']+_0x5eee36['z'],-0x14a8+0x79a+-0x1*-0xd0f-_0x5eee36['y'],_0x11501c,_0x2e596d,-0x1315+-0x3e*0x95+0x1d*0x1e7,-0x3e8+0x1936+-0x6*0x38d,0x1*-0x112d+-0x16dc+0x2809*0x1,0xef4+-0x2*0x9af+0x46b,_0x5eee36['x']+_0x5eee36['z'],-0x301*-0xd+-0x97d+-0x149*0x17-(_0x5eee36['y']+_0x5eee36['w']),-0x1183+-0x2*-0xf96+0xda9*-0x1,-0x1275+-0xcb*-0x12+0x42f,0x13a9+-0x1d09+0x4b*0x20,-0x19f8+0x22fb+-0x903,0x8e1+0xc2d+-0x150e,-0x251a+-0x2617+0x23*0x226,_0x5eee36['x'],0x13*-0x16f+-0x138c+0x1765*0x2-_0x5eee36['y'],-0xc70+0x9af*0x3+-0x109d,_0x2e596d,0xc*-0x7e+0x23c7+0x3*-0x9f5,0x180d+-0x487+-0x1386,0x1a9a+0x2*0x1189+-0x3dac,0x19d1+0x1baf+-0x357f,_0x5eee36['x'],0x284+0x1114+-0x1397-(_0x5eee36['y']+_0x5eee36['w'])]),_0x3164f7=oR['get'](_0x4f3a65,()=>new kt(_0x4f3a65,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':gs,'components':0x3,'type':Ve},{'semantic':is,'components':0x2,'type':Ve}])),_0x2ca5d7=new Is(_0x4f3a65,_0x3164f7,0x1c*0xef+-0x1cff*0x1+0x2df,{'data':_0x3defb6['buffer']}),_0x482726=new Ge(_0x4f3a65);return _0x482726['vertexBuff'+'er']=_0x2ca5d7,_0x482726['primitive'][-0x38e+0x1*0x1f07+-0x1b79]['type']=Er,_0x482726['primitive'][-0x16f*-0x12+-0x2157+0x3*0x283]['base']=-0x20df+0x16da+-0x3*-0x357,_0x482726['primitive'][0x2d6+-0x1*-0x269e+-0x2974]['count']=0x9f*-0x2f+-0x111e+0x3b*0xc9,_0x482726['primitive'][-0x1d3*-0xd+0x1*0x442+0x1*-0x1bf9]['indexed']=!(0x2b7*-0x1+-0x2265+0x251d),_0x482726['aabb']['setMinMax'](D['ZERO'],new D(_0x11501c,_0x2e596d,-0x4*-0x829+-0x1*0x74+0x8*-0x406)),this['_updateMes'+'h'](_0x482726),_0x482726;}['_updateMes'+'h'](_0x28379c){const _0xaa853=this['_element'];let _0x8bda3b=_0xaa853['calculated'+'Width'],_0x391eb6=_0xaa853['calculated'+'Height'];if(_0xaa853['fitMode']!==th&&this['_targetAsp'+'ectRatio']>-0x11a2+-0x11*-0x9b+0x757){const _0x11052d=_0xaa853['calculated'+'Width']/_0xaa853['calculated'+'Height'];_0xaa853['fitMode']===GL&&_0x11052d>this['_targetAsp'+'ectRatio']||_0xaa853['fitMode']===HL&&_0x11052d<this['_targetAsp'+'ectRatio']?_0x8bda3b=_0xaa853['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x391eb6=_0xaa853['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x1ab84f=_0xaa853['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x1ab84f),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){const _0x8381e6=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0x3017ef=(0x23c6+0x814+-0x2bd8)/_0x8381e6['rect']['z'],_0x4ff470=(-0x1*0x137b+0x57*-0x7+-0x137*-0x12)/_0x8381e6['rect']['w'];this['_innerOffs'+'et']['set'](_0x8381e6['border']['x']*_0x3017ef,_0x8381e6['border']['y']*_0x4ff470,_0x8381e6['border']['z']*_0x3017ef,_0x8381e6['border']['w']*_0x4ff470);const _0xe34dfc=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x8381e6['rect']['x']/_0xe34dfc['width'],_0x8381e6['rect']['y']/_0xe34dfc['height'],_0x8381e6['rect']['z']/_0xe34dfc['width'],_0x8381e6['rect']['w']/_0xe34dfc['height']);const _0x2f7f54=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0x1652bf=_0x8381e6['rect']['z']/_0x2f7f54,_0x2d2804=_0x8381e6['rect']['w']/_0x2f7f54;this['_outerScal'+'e']['set'](Math['max'](_0x8bda3b,this['_innerOffs'+'et']['x']*_0x1652bf),Math['max'](_0x391eb6,this['_innerOffs'+'et']['y']*_0x2d2804));let _0x57b85b=_0x1652bf,_0x28f27c=_0x2d2804;this['_outerScal'+'e']['x']/=_0x1652bf,this['_outerScal'+'e']['y']/=_0x2d2804,_0x57b85b*=Y['clamp'](_0x8bda3b/(this['_innerOffs'+'et']['x']*_0x1652bf),0x1c5*-0x9+0xa3f+-0x5ae*-0x1+0.0001,-0x8*0x49b+0x1*-0x165b+-0x1*-0x3b34),_0x28f27c*=Y['clamp'](_0x391eb6/(this['_innerOffs'+'et']['y']*_0x2d2804),0x1*0x84e+0x1d55+-0x25a3*0x1+0.0001,0x10b9+0x235*0xa+-0x26ca),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][0x9b*-0x25+0x19d0+-0x1*0x369]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x3bc*0x1+0x215f*-0x1+0x251c]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0x1b85+0x6*0x73+0x18d5]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0x1ce2+-0xc0f+0x28f4]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0x2341+-0x1283*-0x1+-0x85f*-0x2]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x50d*-0x1+0xa5d*0x1+-0xf69]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0x4d5*0x2+-0x24c+0xbf8]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x2407+-0x1436+0x9*0x640]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][-0x49f+0x2366+-0x1*0x1ec7]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][-0x7f5*-0x1+0x2*0x6ad+-0x154e]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x57b85b,_0x28f27c,0x29*0x4d+0x2590+-0x31e4),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((-0x1ad*0x5+-0x1*-0x2501+-0x394*0x8+0.5-_0xaa853['pivot']['x'])*_0x8bda3b,(0xd48+0x12a7+-0x1fef+0.5-_0xaa853['pivot']['y'])*_0x391eb6,0x16d4+-0x11c3+0x1*-0x511));}else{const _0x5d4d58=_0x28379c['vertexBuff'+'er'],_0xe2652a=new Float32Array(_0x5d4d58['lock']()),_0x3aaa46=_0xaa853['pivot']['x'],_0x4a7e27=_0xaa853['pivot']['y'];_0xe2652a[0x28d+-0x1612+0x107*0x13]=_0x8bda3b-_0x3aaa46*_0x8bda3b,_0xe2652a[-0x6df+-0x3*0x6e3+-0x7*-0x3ef]=0x3fa+-0x3*0x28f+0x3b3-_0x4a7e27*_0x391eb6,_0xe2652a[-0x57b*-0x1+0x2224+-0x2797]=_0x8bda3b-_0x3aaa46*_0x8bda3b,_0xe2652a[0x18b8+-0x313*-0x5+-0x280e]=_0x391eb6-_0x4a7e27*_0x391eb6,_0xe2652a[-0x1fea+0x147*0xc+0x10a6]=0x598+0x106*-0xc+0x4*0x1ac-_0x3aaa46*_0x8bda3b,_0xe2652a[0x1ce7+-0xd2e*-0x1+-0x2a04]=-0xc1*-0x23+0x2*-0x793+-0x3*0x3bf-_0x4a7e27*_0x391eb6,_0xe2652a[-0x101c+-0x24ef+-0x3523*-0x1]=-0x11*0x16d+-0x6a*0x3a+0x1*0x3041-_0x3aaa46*_0x8bda3b,_0xe2652a[-0x3*-0x8ad+-0x1*-0xcd1+0x2fb*-0xd]=_0x391eb6-_0x4a7e27*_0x391eb6;let _0xbebb0d=0x24b9+0xd85*-0x2+-0x15*0x76,_0x428ca5=0xaf8+-0x1d65+0xe*0x151,_0x4cfe59=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x2e621f=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x2e621f&&(_0x4cfe59=_0x2e621f['rect'],_0xbebb0d=this['_sprite']['atlas']['texture']['width'],_0x428ca5=this['_sprite']['atlas']['texture']['height']);}_0xe2652a[-0x2530+0x4*-0x2+-0x1*-0x253e]=(_0x4cfe59['x']+_0x4cfe59['z'])/_0xbebb0d,_0xe2652a[0x1374*0x1+0x1455+0x13e1*-0x2]=-0x53*0x51+0x1*0x1952+0x79*0x2-_0x4cfe59['y']/_0x428ca5,_0xe2652a[-0x268c+-0x2*-0x3f6+-0x2*-0xf57]=(_0x4cfe59['x']+_0x4cfe59['z'])/_0xbebb0d,_0xe2652a[0x7d1*0x2+0xb1c+-0x17*0x129]=-0x1836+0xf6*0x26+0x1*-0xc4d-(_0x4cfe59['y']+_0x4cfe59['w'])/_0x428ca5,_0xe2652a[-0x129d+0x199*-0x17+0x3772]=_0x4cfe59['x']/_0xbebb0d,_0xe2652a[0x13f7+-0x117e+0x131*-0x2]=-0x19f8+-0xa9*0x1+-0xe*-0x1e7-_0x4cfe59['y']/_0x428ca5,_0xe2652a[-0x37*-0x97+-0x4f1+-0x1b62]=_0x4cfe59['x']/_0xbebb0d,_0xe2652a[-0x21f*0x1+-0x18a5+0x1*0x1ae3]=0x270f+0xaf6+-0x3204-(_0x4cfe59['y']+_0x4cfe59['w'])/_0x428ca5,_0x5d4d58['unlock']();const _0x50a024=new D(-0x11c9+0x4f0+0xcd9-_0x3aaa46*_0x8bda3b,0x16a*0x9+0x1*0x336+-0x1fe*0x8-_0x4a7e27*_0x391eb6,-0x1b1+0x139*-0x5+0x7ce),_0x4c8d25=new D(_0x8bda3b-_0x3aaa46*_0x8bda3b,_0x391eb6-_0x4a7e27*_0x391eb6,-0x10d2+-0x1799+0x286b*0x1);_0x28379c['aabb']['setMinMax'](_0x50a024,_0x4c8d25),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](0x1c64+0xd52*0x2+-0x3707,-0x1*0x341+-0x1a32+0x1d74,0x15*-0x7f+0x667*-0x5+0x2a6f),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](0x1*-0x4f+0x1a97*0x1+-0x1a48,-0x207+-0xd1*-0x8+0x1*-0x481,-0x2458*-0x1+0xfc7+-0x341f),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(-0xe56+-0x178*-0x1a+-0x17d9);}['_updateSpr'+'ite'](){let _0x5ee5c6=!(0xdb8+0x7c8+-0x157f),_0xca534c=null;if(this['_targetAsp'+'ectRatio']=-(-0x3*-0xc77+-0x223b+-0x329),this['_sprite']&&this['_sprite']['atlas']){_0xca534c=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x5ee5c6=this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt;const _0x398a2c=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x398a2c==null?void(0x2d0+0xd*-0x95+0x4c1*0x1):_0x398a2c['rect']['w'])>0x7c0+0xfa9+-0x1769&&(this['_targetAsp'+'ectRatio']=_0x398a2c['rect']['z']/_0x398a2c['rect']['w']);}this['mesh']=_0x5ee5c6?_0xca534c:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0x25da+0xfbf+-0x1*-0x161b):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x285d41){return _0x285d41['center']['set'](0x450*-0x9+0xdc4+0x190c,0x1115+-0x3*-0xcda+0x1*-0x37a3,0x8a4+-0x1e1b+-0x5*-0x44b),_0x285d41['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0xa8*0x17+-0xb3c+0x1a54+0.5),this['_outerScal'+'e']['y']*(-0x7b5+-0xc79+0x142e+0.5),-0x198a+-0xecb*-0x1+-0x83*-0x15+0.001),_0x285d41['setFromTra'+'nsformedAa'+'bb'](_0x285d41,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x285d41;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0x2a711f=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x2a711f),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x5262a3){this['material']=_0x5262a3['resource'];}['_onMateria'+'lAdded'](_0x366391){this['_system']['app']['assets']['off']('add:'+_0x366391['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x366391['id']&&this['_bindMater'+'ialAsset'](_0x366391);}['_bindMater'+'ialAsset'](_0x708431){this['_entity']['enabled']&&(_0x708431['on']('load',this['_onMateria'+'lLoad'],this),_0x708431['on']('change',this['_onMateria'+'lChange'],this),_0x708431['on']('remove',this['_onMateria'+'lRemove'],this),_0x708431['resource']?this['_onMateria'+'lLoad'](_0x708431):this['_system']['app']['assets']['load'](_0x708431));}['_unbindMat'+'erialAsset'](_0x69862f){_0x69862f['off']('load',this['_onMateria'+'lLoad'],this),_0x69862f['off']('change',this['_onMateria'+'lChange'],this),_0x69862f['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x3dc082){this['_system']['app']['assets']['off']('add:'+_0x3dc082['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x3dc082['id']&&this['_bindTextu'+'reAsset'](_0x3dc082);}['_bindTextu'+'reAsset'](_0xf5185f){this['_entity']['enabled']&&(_0xf5185f['on']('load',this['_onTexture'+'Load'],this),_0xf5185f['on']('change',this['_onTexture'+'Change'],this),_0xf5185f['on']('remove',this['_onTexture'+'Remove'],this),_0xf5185f['resource']?this['_onTexture'+'Load'](_0xf5185f):this['_system']['app']['assets']['load'](_0xf5185f));}['_unbindTex'+'tureAsset'](_0x415e2e){_0x415e2e['off']('load',this['_onTexture'+'Load'],this),_0x415e2e['off']('change',this['_onTexture'+'Change'],this),_0x415e2e['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x1304d3){this['texture']=_0x1304d3['resource'];}['_onTexture'+'Change'](_0x2c6e79){}['_onTexture'+'Remove'](_0x36c969){}['_onSpriteA'+'ssetAdded'](_0x1fcab6){this['_system']['app']['assets']['off']('add:'+_0x1fcab6['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x1fcab6['id']&&this['_bindSprit'+'eAsset'](_0x1fcab6);}['_bindSprit'+'eAsset'](_0x253009){this['_entity']['enabled']&&(_0x253009['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x253009['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x253009['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x253009['resource']?this['_onSpriteA'+'ssetLoad'](_0x253009):this['_system']['app']['assets']['load'](_0x253009));}['_unbindSpr'+'iteAsset'](_0x120693){_0x120693['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x120693['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x120693['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x120693['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x120693['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x61a4a1){if(!_0x61a4a1||!_0x61a4a1['resource'])this['sprite']=null;else{if(_0x61a4a1['resource']['atlas'])this['sprite']=_0x61a4a1['resource'];else{const _0x598ec5=_0x61a4a1['data']['textureAtl'+'asAsset'];if(_0x598ec5){const _0x49c9ee=this['_system']['app']['assets'];_0x49c9ee['off']('load:'+_0x598ec5,this['_onTexture'+'AtlasLoad'],this),_0x49c9ee['once']('load:'+_0x598ec5,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0xb1e93e){this['_onSpriteA'+'ssetLoad'](_0xb1e93e);}['_onSpriteA'+'ssetRemove'](_0x18a69c){}['_bindSprit'+'e'](_0x406498){this['_evtSetMes'+'hes']=_0x406498['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x406498['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x406498['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x406498['atlas']&&_0x406498['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x3b437f){var _0x54b3f2;(_0x54b3f2=this['_evtSetMes'+'hes'])==null||_0x54b3f2['off'](),this['_evtSetMes'+'hes']=null,_0x3b437f['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x3b437f['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x3b437f['atlas']&&_0x3b437f['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],0xfc2+-0x900*-0x1+0x2*-0xc61,this['_sprite']['frameKeys']['length']-(0xbbb+-0x13bd+0x803))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==ci&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x24172a){const _0x5782e7=this['_spriteAss'+'et'];_0x5782e7 instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x5782e7):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x5782e7));}['onEnable'](){if(this['_materialA'+'sset']){const _0x5296f2=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x5296f2&&_0x5296f2['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x5296f2);}if(this['_textureAs'+'set']){const _0x852b39=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x852b39&&_0x852b39['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x852b39);}if(this['_spriteAss'+'et']){const _0x132e61=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x132e61&&_0x132e61['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x132e61);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x460f46){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x460f46,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x460f46;let _0x7ea6c1=0x1df2+-0x1*-0xa8b+0xd7f*-0x3;if(this['_element']['maskedBy']&&(_0x7ea6c1=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x4e68c0=new pi({'ref':_0x7ea6c1+(0x1f01+0x1c11+0x3b11*-0x1),'func':dh,'zpass':Bx});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x4e68c0,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x4e68c0;}}['_updateRen'+'derableEmi'+'ssive'](){Ec['linear'](this['_color']),this['_colorUnif'+'orm'][0x16db+-0x2135+-0xa5a*-0x1]=Ec['r'],this['_colorUnif'+'orm'][0x2c*-0x86+-0x38b+0x1a94]=Ec['g'],this['_colorUnif'+'orm'][0xbcf*-0x2+-0x4a8*-0x5+-0x1*-0x58]=Ec['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x249947){this['_color']===_0x249947&&w['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x38b453,g:_0x996d4c,b:_0x1f68f6}=_0x249947;(this['_color']['r']!==_0x38b453||this['_color']['g']!==_0x996d4c||this['_color']['b']!==_0x1f68f6)&&(this['_color']['r']=_0x38b453,this['_color']['g']=_0x996d4c,this['_color']['b']=_0x1f68f6,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x44b8d7){_0x44b8d7!==this['_color']['a']&&(this['_color']['a']=_0x44b8d7,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x44b8d7)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x44b8d7);}get['opacity'](){return this['_color']['a'];}set['rect'](_0x191b75){this['_rect']===_0x191b75&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x186644,_0x59f829,_0x2b2b7e,_0x2f8a6f;_0x191b75 instanceof re?(_0x186644=_0x191b75['x'],_0x59f829=_0x191b75['y'],_0x2b2b7e=_0x191b75['z'],_0x2f8a6f=_0x191b75['w']):(_0x186644=_0x191b75[-0xa43+-0x954*-0x4+0x569*-0x5],_0x59f829=_0x191b75[0x2*-0xd03+-0x190*0x14+0x3947*0x1],_0x2b2b7e=_0x191b75[0x1c0c+0x15fb+-0x3205],_0x2f8a6f=_0x191b75[-0x15e0+0x1abf+-0x26e*0x2]),!(_0x186644===this['_rect']['x']&&_0x59f829===this['_rect']['y']&&_0x2b2b7e===this['_rect']['z']&&_0x2f8a6f===this['_rect']['w'])&&(this['_rect']['set'](_0x186644,_0x59f829,_0x2b2b7e,_0x2f8a6f),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0x6b6*0x4+-0x966*0x2+-0x80c):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x4964cb=this['_system']['app']['assets'];_0x4964cb['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x6d5edf=_0x4964cb['get'](this['_materialA'+'sset']);_0x6d5edf&&(_0x6d5edf['off']('load',this['_onMateria'+'lLoad'],this),_0x6d5edf['off']('change',this['_onMateria'+'lChange'],this),_0x6d5edf['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x4181d4){if(this['_material']!==_0x4181d4){if(!_0x4181d4){const _0xbb902d=this['_element']['_isScreenS'+'pace']();this['mask']?_0x4181d4=_0xbb902d?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x4181d4=_0xbb902d?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x4181d4,this['_materialA'+'sset']){const _0x5e1ea9=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x5e1ea9||_0x5e1ea9['resource']!==_0x4181d4)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x4181d4&&(this['_renderabl'+'e']['setMateria'+'l'](_0x4181d4),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x1b05c5){const _0x16d9ad=this['_system']['app']['assets'];let _0x2c3b27=_0x1b05c5;if(_0x1b05c5 instanceof pe&&(_0x2c3b27=_0x1b05c5['id']),this['_materialA'+'sset']!==_0x2c3b27){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x2c3b27,this['_materialA'+'sset']){const _0x28553b=_0x16d9ad['get'](this['_materialA'+'sset']);_0x28553b?this['_bindMater'+'ialAsset'](_0x28553b):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x2c3b27,_0x16d9ad['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x2c3b27;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x91d4ee){if(this['_texture']!==_0x91d4ee){if(this['_textureAs'+'set']){const _0x14213e=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x14213e&&_0x14213e['resource']!==_0x91d4ee&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x91d4ee,_0x91d4ee){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x4248a8=this['_texture']['width']/this['_texture']['height'];_0x4248a8!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x4248a8,this['_element']['fitMode']!==th&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(0x1a00+-0x5*0x4dc+-0x1d*0xf),this['_element']['fitMode']!==th&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0x2601cb){const _0x143d17=this['_system']['app']['assets'];let _0x437fd8=_0x2601cb;if(_0x2601cb instanceof pe&&(_0x437fd8=_0x2601cb['id']),this['_textureAs'+'set']!==_0x437fd8){if(this['_textureAs'+'set']){_0x143d17['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x3fd7e5=_0x143d17['get'](this['_textureAs'+'set']);_0x3fd7e5&&(_0x3fd7e5['off']('load',this['_onTexture'+'Load'],this),_0x3fd7e5['off']('change',this['_onTexture'+'Change'],this),_0x3fd7e5['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x437fd8,this['_textureAs'+'set']){const _0x4e69f1=_0x143d17['get'](this['_textureAs'+'set']);_0x4e69f1?this['_bindTextu'+'reAsset'](_0x4e69f1):(this['texture']=null,_0x143d17['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x48a278){const _0x1a6ff6=this['_system']['app']['assets'];let _0x36e712=_0x48a278;if(_0x48a278 instanceof pe&&(_0x36e712=_0x48a278['id']),this['_spriteAss'+'et']!==_0x36e712){if(this['_spriteAss'+'et']){_0x1a6ff6['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x5d27db=_0x1a6ff6['get'](this['_spriteAss'+'et']);_0x5d27db&&this['_unbindSpr'+'iteAsset'](_0x5d27db);}if(this['_spriteAss'+'et']=_0x36e712,this['_spriteAss'+'et']){const _0x246146=_0x1a6ff6['get'](this['_spriteAss'+'et']);_0x246146?this['_bindSprit'+'eAsset'](_0x246146):(this['sprite']=null,_0x1a6ff6['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x36e712);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x39a887){if(this['_sprite']!==_0x39a887){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x22ba07=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x22ba07&&_0x22ba07['resource']!==_0x39a887&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x39a887,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],-0x219+0x1*-0x67+-0x80*-0x5,this['_sprite']['frameKeys']['length']-(-0x443*-0x7+-0xfd*0x27+0x8b7*0x1))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x6f0a34){const _0x16b397=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=Y['clamp'](_0x6f0a34,0xad*-0x6+0x3b3*0x9+-0x9bf*0x3,this['_sprite']['frameKeys']['length']-(-0x18f7+0x1c6a+-0x2*0x1b9)):this['_spriteFra'+'me']=_0x6f0a34,this['_spriteFra'+'me']!==_0x16b397&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x6f0a34);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x1ec1ca){this['_renderabl'+'e']['setMesh'](_0x1ec1ca),this['_defaultMe'+'sh']===_0x1ec1ca?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x29f019){this['_mask']!==_0x29f019&&(this['_mask']=_0x29f019,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0x2406b5){this['_pixelsPer'+'Unit']!==_0x2406b5&&(this['_pixelsPer'+'Unit']=_0x2406b5,this['_sprite']&&(this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class hR extends me{constructor(_0x37ddce){super(),this['_app']=_0x37ddce,_0x37ddce['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['_autoLoad']=!(0xdf+0x270d+-0x27eb),this['_disableLo'+'calization']=!(0x35*0x4c+0x176+-0x1e9*0x9),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x19048d){const _0x889796=_0x19048d instanceof pe?_0x19048d['id']:_0x19048d;this['_defaultAs'+'set']!==_0x889796&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x889796,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x3fb112){const _0xffd516=_0x3fb112 instanceof pe?_0x3fb112['id']:_0x3fb112;this['_localized'+'Asset']!==_0xffd516&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0xffd516,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x4afe5){this['_autoLoad']!==_0x4afe5&&(this['_autoLoad']=_0x4afe5,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x2fb58d){this['_disableLo'+'calization']!==_0x2fb58d&&(this['_disableLo'+'calization']=_0x2fb58d,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x26bb70=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x26bb70?this['_onDefault'+'AssetAdd'](_0x26bb70):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x3a2344=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x3a2344&&(_0x3a2344['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x3a2344['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x3a2344['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x4e8e0d){this['_defaultAs'+'set']===_0x4e8e0d['id']&&(_0x4e8e0d['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x4e8e0d['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x4e8e0d['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x174b57){this['_defaultAs'+'set']===_0x174b57['id']&&(_0x174b57['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x174b57['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x14326b=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x14326b&&(_0x14326b['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x14326b['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x14326b['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x14326b['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x14326b):this['_app']['assets']['load'](_0x14326b));}['_unbindLoc'+'alizedAsse'+'t'](){const _0xbeb008=this['_app']['assets']['get'](this['_localized'+'Asset']);_0xbeb008&&(_0xbeb008['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0xbeb008['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0xbeb008['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x24c6c1){this['_localized'+'Asset']===_0x24c6c1['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x32234c){this['fire']('load',_0x32234c);}['_onLocaliz'+'edAssetCha'+'nge'](_0x3424b0,_0xa18f86,_0x32ac55,_0x941627){this['fire']('change',_0x3424b0,_0xa18f86,_0x32ac55,_0x941627);}['_onLocaliz'+'edAssetRem'+'ove'](_0x81cf28){this['_localized'+'Asset']===_0x81cf28['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x81cf28);}['_onLocaleA'+'dd'](_0x20bd77,_0x330e1d){this['_app']['i18n']['locale']===_0x20bd77&&this['_onSetLoca'+'le'](_0x20bd77);}['_onLocaleR'+'emove'](_0x3c25c4,_0x499c84){this['_app']['i18n']['locale']===_0x3c25c4&&this['_onSetLoca'+'le'](_0x3c25c4);}['_onSetLoca'+'le'](_0x487015){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x351630=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x351630||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0x2bb442=_0x351630['getLocaliz'+'edAssetId'](_0x487015);if(!_0x2bb442){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0x2bb442;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['off']();}}const Rh='msdf',dR='bitmap',Mo=-0xe9d+0x2598+-0x16fb,an=-0x1263+-0x1033+-0xa1*-0x37,Du=0x2*-0x837+0x164a+0x7*-0xd6,Zv=0x589*0x2+0x149c+-0x1fab,Iu=0xe*-0x5b+-0x23b*-0x6+-0x864,Lu=-0xd*-0xb6+0x1727+-0x818*0x4,Ru=-0x2538+-0x5ae*-0x5+0x8d8,Ou=-0x45f+0xd*-0x1de+0x1cac,Xg=-0x1a71+0x84a+0x122f,fR='\x20\x09\x0a\x0d\x0b\x0c',uR=/[\w|/]/;class pR{constructor(_0x1d99a5){this['_symbols']=_0x1d99a5,this['_index']=0x8*-0x132+-0x1c65*-0x1+-0x12d5,this['_last']=-0xe6f*-0x1+-0x2531+-0x2*-0xb61,this['_cur']=this['_symbols']['length']>0x827*-0x2+-0x1*0x17b3+0x7*0x5b7?this['_symbols'][-0x2a1*-0x3+-0x1dc7+0xc*0x1d3]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x130480=this['_read']();for(;_0x130480===Xg;)_0x130480=this['_read']();return _0x130480!==Mo&&_0x130480!==an&&(this['_last']=this['_index']),_0x130480;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0x10f189=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x4b68e0=this['read'](),_0x26ff38='';for(;_0x26ff38+=(_0x26ff38['length']>0x13c*0xd+-0x1b14+0xb08?'\x0a':'')+_0x10f189[_0x4b68e0]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x4b68e0===Mo||_0x4b68e0===an);)_0x4b68e0=this['read']();return _0x26ff38;}['_read'](){return this['_buf']=[],this['_eof']()?Mo:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>-0x23a5+-0x463*0x5+0x3994?Du:Mo;case'[':return this['_mode']='tag',this['_buf']['length']>-0x1789+0x1f6d*0x1+-0x7e4?Du:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',an;case'[':return this['_store'](),Zv;case']':return this['_store'](),this['_mode']='text',Iu;case'=':return this['_store'](),Lu;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',an);}}['_whitespac'+'e'](){for(this['_store']();fR['indexOf'](this['_cur'])!==-(0x1ae0+-0x24d9+0x9fa);)this['_store']();return Xg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',an;case'\x22':return this['_next'](),Ru;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return Ou;}['_isIdentif'+'ierSymbol'](_0x50e485){return _0x50e485['length']===0x25cf+-0xd66+-0x1868&&_0x50e485['match'](uR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0x13048d){this['_buf']['push'](_0x13048d);}}class mR{constructor(_0x16af30){this['_scanner']=new pR(_0x16af30),this['_error']=null;}['parse'](_0x412528,_0x530860){for(;;)switch(this['_scanner']['read']()){case Mo:return!(-0x1*0x151b+0x775+0xda6);case an:return!(-0x30*0x8+0x12ce+-0x114d);case Du:Array['prototype']['push']['apply'](_0x412528,this['_scanner']['buf']());break;case Zv:if(!this['_parseTag'](_0x412528,_0x530860))return!(-0x3*0x90e+0x5d*-0x25+0x144e*0x2);break;default:return!(-0x1318+-0x242e+-0x1*-0x3747);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0xa55d7a,_0x12b2a2){let _0x3c2b18=this['_scanner']['read']();if(_0x3c2b18!==Ou)return this['_error']='expected\x20i'+'dentifier',!(-0x1fd*0xc+0x1720+0x9*0x15);const _0x43202d=this['_scanner']['buf']()['join']('');if(_0x43202d[-0x693*0x2+-0x4c2*-0x8+-0x18ea]==='/'){for(let _0x6d749f=_0x12b2a2['length']-(0x5*-0x727+-0x38d+0x2751);_0x6d749f>=0xa91+0x5e*-0x3a+0xabb;--_0x6d749f)if(_0x43202d==='/'+_0x12b2a2[_0x6d749f]['name']&&_0x12b2a2[_0x6d749f]['end']===null)return _0x12b2a2[_0x6d749f]['end']=_0xa55d7a['length'],_0x3c2b18=this['_scanner']['read'](),_0x3c2b18!==Iu?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(-0xa74+0xc26+-0x1*0x1b1)):!(0x85*-0x47+0x71*-0x21+-0x3374*-0x1);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(0xd8d+-0x8*-0x1a6+0x2*-0xd5e);}const _0x2233c2={'name':_0x43202d,'value':null,'attributes':{},'start':_0xa55d7a['length'],'end':null};if(_0x3c2b18=this['_scanner']['read'](),_0x3c2b18===Lu){if(_0x3c2b18=this['_scanner']['read'](),_0x3c2b18!==Ru)return this['_error']='expected\x20s'+'tring',!(0x6*-0x4e1+-0x6c6+-0x240d*-0x1);_0x2233c2['value']=this['_scanner']['buf']()['join'](''),_0x3c2b18=this['_scanner']['read']();}for(;;){switch(_0x3c2b18){case Iu:return _0x12b2a2['push'](_0x2233c2),!(-0x21*0x21+0x170d+-0x12cc);case Ou:{const _0x3cc10b=this['_scanner']['buf']()['join']('');if(_0x3c2b18=this['_scanner']['read'](),_0x3c2b18!==Lu)return this['_error']='expected\x20e'+'quals',!(0x1ba8+-0x1ae5+0xc2*-0x1);if(_0x3c2b18=this['_scanner']['read'](),_0x3c2b18!==Ru)return this['_error']='expected\x20s'+'tring',!(0x68+0xd56+0xdbd*-0x1);const _0x464c11=this['_scanner']['buf']()['join']('');_0x2233c2['attributes'][_0x3cc10b]=_0x464c11;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(0x1e73+-0x1*0x161+-0x7*0x427);}_0x3c2b18=this['_scanner']['read']();}}}function Qv(_0x40c053,_0x2a31f2){for(const _0x1deb6a in _0x2a31f2){if(!_0x2a31f2['hasOwnProp'+'erty'](_0x1deb6a))continue;const _0x4280fd=_0x2a31f2[_0x1deb6a];_0x4280fd instanceof Object?(_0x40c053['hasOwnProp'+'erty'](_0x1deb6a)||(_0x40c053[_0x1deb6a]={}),Qv(_0x40c053[_0x1deb6a],_0x2a31f2[_0x1deb6a])):_0x40c053[_0x1deb6a]=_0x4280fd;}}function _R(_0x8eedb4){if(_0x8eedb4['length']===-0xb7a+-0x303*0xb+0x2c9b)return null;const _0x2c390d={};for(let _0x4cd82c=-0x4*-0x115+0x110f+-0x1563;_0x4cd82c<_0x8eedb4['length'];++_0x4cd82c){const _0x41c306=_0x8eedb4[_0x4cd82c],_0x3f886c={};_0x3f886c[_0x41c306['name']]={'value':_0x41c306['value'],'attributes':_0x41c306['attributes']},Qv(_0x2c390d,_0x3f886c);}return _0x2c390d;}function gR(_0x18019e,_0x355db5){if(_0x18019e['length']===-0x50*0x7+0x30d+0xd*-0x11)return null;const _0x3e5189={};for(let _0x4bafd1=-0x1*-0xca6+0x1b5c+-0x2802;_0x4bafd1<_0x18019e['length'];++_0x4bafd1){const _0x14980d=_0x18019e[_0x4bafd1];_0x3e5189['hasOwnProp'+'erty'](_0x14980d['start'])?_0x3e5189[_0x14980d['start']]['open']===null?_0x3e5189[_0x14980d['start']]['open']=[_0x14980d]:_0x3e5189[_0x14980d['start']]['open']['push'](_0x14980d):_0x3e5189[_0x14980d['start']]={'open':[_0x14980d],'close':null},_0x3e5189['hasOwnProp'+'erty'](_0x14980d['end'])?_0x3e5189[_0x14980d['end']]['close']===null?_0x3e5189[_0x14980d['end']]['close']=[_0x14980d]:_0x3e5189[_0x14980d['end']]['close']['push'](_0x14980d):_0x3e5189[_0x14980d['end']]={'open':null,'close':[_0x14980d]};}let _0x30e1a7=[];function _0x221727(_0x99f40d){_0x30e1a7=_0x30e1a7['filter'](_0x1675bd=>_0x99f40d['find'](_0x3864b7=>_0x3864b7===_0x1675bd)===void(-0x2*-0xe81+-0x1835+-0x4cd*0x1));}function _0x4630f6(_0x3ef7ee){for(let _0x17de12=0x995+-0x1*-0xa29+0x10a*-0x13;_0x17de12<_0x3ef7ee['length'];++_0x17de12)_0x30e1a7['push'](_0x3ef7ee[_0x17de12]);}const _0x160170=Object['keys'](_0x3e5189)['sort']((_0xf47d21,_0x3cd7c8)=>_0xf47d21-_0x3cd7c8),_0xdd2c56=[];for(let _0x4c8954=-0x1b84+0x19b5+0x1*0x1cf;_0x4c8954<_0x160170['length'];++_0x4c8954){const _0x10d88f=_0x3e5189[_0x160170[_0x4c8954]];_0x10d88f['close']!==null&&_0x221727(_0x10d88f['close']),_0x10d88f['open']!==null&&_0x4630f6(_0x10d88f['open']),_0xdd2c56['push']({'start':_0x160170[_0x4c8954],'tags':_R(_0x30e1a7)});}const _0xed937c=[];let _0x427952=null;for(let _0x5bef99=0x4f*-0x45+-0x14ab+0x29f6;_0x5bef99<_0xdd2c56['length'];++_0x5bef99){const _0x2e365c=_0xdd2c56[_0x5bef99];for(;_0xed937c['length']<_0x2e365c['start'];)_0xed937c['push'](_0x427952?_0x427952['tags']:null);_0x427952=_0x2e365c;}for(;_0xed937c['length']<_0x355db5;)_0xed937c['push'](null);return _0xed937c;}function SR(_0x52f05f){const _0x2856a9=new mR(_0x52f05f),_0x3782e7=[],_0x5abc3d=[];if(!_0x2856a9['parse'](_0x3782e7,_0x5abc3d))return console['warn'](_0x2856a9['error']()),{'symbols':_0x52f05f,'tags':null};const _0x212a49=_0x5abc3d['find'](_0x3eb63a=>_0x3eb63a['end']===null);if(_0x212a49)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x212a49['name']+'\x27'),{'symbols':_0x52f05f,'tags':null};const _0xe06b1=gR(_0x5abc3d,_0x3782e7['length']);return{'symbols':_0x3782e7,'tags':_0xe06b1};}class yR{static['evaluate'](_0x291c35){return SR(_0x291c35);}}class vR{constructor(){this['count']=-0x1281+-0x1935+0x2bb6,this['quad']=-0xcdf+0xe54+-0x175,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function xR(_0x2ca0d2,_0x21d3d0){const _0xbd2c62=new Ge(_0x2ca0d2);return _0xbd2c62['setPositio'+'ns'](_0x21d3d0['positions']),_0xbd2c62['setNormals'](_0x21d3d0['normals']),_0xbd2c62['setColors3'+'2'](_0x21d3d0['colors']),_0xbd2c62['setUvs'](-0x565*-0x1+0x23bf*0x1+0x1*-0x2924,_0x21d3d0['uvs']),_0xbd2c62['setIndices'](_0x21d3d0['indices']),_0xbd2c62['setVertexS'+'tream'](Ko,_0x21d3d0['outlines'],0x1a21+-0x1c07+0x1e9,void(-0x43b+0x591+-0x156),Ve,!(-0x153e+-0x3b*-0xa1+-0xfdc)),_0xbd2c62['setVertexS'+'tream'](Zo,_0x21d3d0['shadows'],0x1f*0x10e+-0x1*-0xdbd+0x2*-0x1736,void(-0x2544+0x1ea9+0x69b),Ve,!(-0x10eb+0x1f46*0x1+-0xe5a)),_0xbd2c62['update'](),_0xbd2c62;}const qg=/^[\r\n]$/,TR=/^[ \t]$/,jg=/^[ \t\-]|\u200b$/,wR=/^[a-z0-9]$/i,Yg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,ER=/^[]$/,bR=['','','','','','','','','','','','',''],AR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},Kg=new ie(),CR=new J(),We=new ie();class PR{constructor(_0x16f035){this['_element']=_0x16f035,this['_system']=_0x16f035['system'],this['_entity']=_0x16f035['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new hR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(-0x3a*-0x1+0xfdc+0x47*-0x3a),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new ie(0x2*0xeb+0x7e1*0x4+0x1*-0x2159,-0x1a43+0x1612+-0x166*-0x3,-0x7*-0x25d+-0x211c+0x1092,-0x3*-0x9c2+0x518*0x4+-0x1*0x31a5),this['_colorUnif'+'orm']=new Float32Array(0x4*0x676+0x13e6+0x1fd*-0x17),this['_spacing']=0x181c+0x64d*0x2+-0x24b5,this['_fontSize']=0x19bd+0x1fbf+-0x1*0x395c,this['_fontMinY']=-0x1068+0x450+-0x4*-0x306,this['_fontMaxY']=0x623+0x1*0x259d+-0x2bc0,this['_originalF'+'ontSize']=-0x1d89*-0x1+0x99+-0x1e02,this['_maxFontSi'+'ze']=0xa7b*0x2+0x1*-0x1+-0x14d5,this['_minFontSi'+'ze']=0x1d6c+0x9af*0x2+-0x2*0x1861,this['_autoFitWi'+'dth']=!(-0x1a72+-0x9ed+0x2460),this['_autoFitHe'+'ight']=!(0x1*-0x1f79+-0x11*0xd0+-0x2aa*-0x11),this['_maxLines']=-(0x5*-0x2b3+-0xc18+0x1998),this['_lineHeigh'+'t']=0x23e9+-0x13*0x17f+0x1*-0x75c,this['_scaledLin'+'eHeight']=0x3*-0x35f+0xed0+-0x1*0x493,this['_wrapLines']=!(-0x1f*-0xa9+0x4*-0x788+0x9aa),this['_drawOrder']=-0x32b*0x5+-0x15fd+-0x12ea*-0x2,this['_alignment']=new J(0x13df+-0x1*0x1bff+-0x68*-0x14+0.5,-0x1ed9*-0x1+0x704+0xc9f*-0x3+0.5),this['_autoWidth']=!(-0xfff+0x1*-0x19f3+-0x1*-0x29f2),this['_autoHeigh'+'t']=!(0x17d8+-0x1f03+0x72b),this['width']=0x2032+0x555+-0x2587,this['height']=-0x1caa+-0x133f+0x2fe9*0x1,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(-0x44*-0x2a+-0x3dd*0x7+0xfe3),this['_aabb']=new De(),this['_noResize']=!(-0x4ee+0xc5*-0x2c+0x26cb),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(-0x1*-0x15a6+0x1e5a+0x1ed*-0x1b),this['_unicodeCo'+'nverter']=!(-0x1718+0x97b+0xd9e),this['_rtl']=!(0x47*0x4f+0x1f*0x10f+-0x36b9*0x1),this['_outlineCo'+'lor']=new ie(-0x26f0+0x1*0x235+0x24bb,-0xccc+0x22f9+-0x162d,-0x503*-0x3+-0x16e0+0x7d7,0x1ca1*-0x1+-0x2121+0x1*0x3dc3),this['_outlineCo'+'lorUniform']=new Float32Array(0x2*-0x1137+-0x361+-0x17*-0x1a5),this['_outlineTh'+'icknessSca'+'le']=0xfb0+0x8ba*0x2+0x4bc*-0x7+0.2,this['_outlineTh'+'ickness']=-0x1610+0x1658+-0x48,this['_shadowCol'+'or']=new ie(-0x203*-0x8+0x235a+-0xf*0x36e,0x1*-0x16b7+0x7b3+0xf04,-0xc77*0x1+0x91b+0x14*0x2b,0x18a*0xf+0xd20+0x1*-0x2435),this['_shadowCol'+'orUniform']=new Float32Array(0x1ca*0x8+-0x1*-0x1607+-0x2453),this['_shadowOff'+'setScale']=-0x178f+-0x35f+0x1aee+0.005,this['_shadowOff'+'set']=new J(0x1*-0x504+-0x13cb+0x49*0x57,0x181b+0x359*0x5+0xa36*-0x4),this['_shadowOff'+'setUniform']=new Float32Array(-0xb97*0x1+-0x1*-0xe90+-0x2f7),this['_enableMar'+'kup']=!(0x1*-0x227+0x17*-0x92+0xf46),this['_onScreenC'+'hange'](this['_element']['screen']),_0x16f035['on']('resize',this['_onParentR'+'esize'],this),_0x16f035['on']('set:screen',this['_onScreenC'+'hange'],this),_0x16f035['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x16f035['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x16f035['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=0x1358+0xbc1+-0x1f19,this['_rangeEnd']=-0x2141+-0x287*-0x8+0x47*0x2f;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x2e23bf,_0x1c2520){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x31edac){_0x31edac?this['_updateMat'+'erial'](_0x31edac['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0x10fc*0x1+-0xed5*0x1+-0x226));}['_onScreenS'+'paceChange'](_0x27ad0b){this['_updateMat'+'erial'](_0x27ad0b);}['_onDrawOrd'+'erChange'](_0x428725){if(this['_drawOrder']=_0x428725,this['_model']){for(let _0x42e3fd=0xd7e+0x13*-0xe5+0x381,_0x491ec1=this['_model']['meshInstan'+'ces']['length'];_0x42e3fd<_0x491ec1;_0x42e3fd++)this['_model']['meshInstan'+'ces'][_0x42e3fd]['drawOrder']=_0x428725;}}['_onPivotCh'+'ange'](_0x3689be){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x400548){if(this['_i18nKey']){if(this['fontAsset']){const _0x5e5418=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0x5e5418||!_0x5e5418['resource']||_0x5e5418['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0xaee92c,_0x1bb273){this['_i18nKey']&&_0x1bb273[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x1078cc){if(this['unicodeCon'+'verter']){const _0x3e7913=this['_system']['getUnicode'+'Converter']();_0x3e7913?_0x1078cc=_0x3e7913(_0x1078cc):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x1078cc&&(this['_font']&&this['_updateTex'+'t'](_0x1078cc),this['_text']=_0x1078cc);}['_updateTex'+'t'](_0x372854){let _0x6b0787;if(_0x372854===void(-0x34c+0x3aa*0x3+-0x7b2)&&(_0x372854=this['_text']),this['_symbols']=Hc['getSymbols'](_0x372854['normalize']?_0x372854['normalize']('NFC'):_0x372854),this['_symbols']['length']===0x1008+0x18d*-0x19+-0x16bd*-0x1&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x5956c1=yR['evaluate'](this['_symbols']);this['_symbols']=_0x5956c1['symbols'],_0x6b0787=_0x5956c1['tags']||[];}if(this['_rtlReorde'+'r']){const _0x194b11=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x194b11){const _0x43480b=_0x194b11(this['_symbols']);this['_rtl']=_0x43480b['rtl'],this['_symbols']=_0x43480b['mapping']['map'](function(_0x3024a6){return this['_symbols'][_0x3024a6];},this),_0x6b0787&&(_0x6b0787=_0x43480b['mapping']['map'](_0x4103fd=>_0x6b0787[_0x4103fd]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(0x794+-0x5*-0x6dd+-0x4*0xa79);const _0x2cc118=(_0x3d19a0,_0x4df6c8)=>_0x3d19a0['toString'](!(0x1a*-0x133+0xb3b+0x13f3))['toLowerCas'+'e']()+':'+_0x4df6c8['toFixed'](0x2416+-0x10f0+0xaf*-0x1c),_0x1d99db=(_0x22bfd2,_0x2bb52b)=>_0x22bfd2['toString'](!(-0x99e*0x3+-0x171*-0x12+0x2e8))['toLowerCas'+'e']()+':'+_0x2bb52b['x']['toFixed'](-0x4e0+0x1066+-0x2c*0x43)+':'+_0x2bb52b['y']['toFixed'](-0x10*-0x22+0xed+0x29*-0x13);if(_0x6b0787){const _0xbb562f={},_0x4e96c9={},_0x1fa2b1={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(-0x38f*-0x5+-0x1a35+-0x3*-0x323)),Math['round'](this['_color']['g']*(-0x13e9*-0x1+0x18af*-0x1+0x5c5)),Math['round'](this['_color']['b']*(0x1962+0x3ed*-0x1+-0x1476))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(0x1*0x523+-0x3a*0x94+0x1d64)),Math['round'](this['_outlineCo'+'lor']['g']*(-0x43*-0x3e+-0x6d*-0xd+-0x14c4)),Math['round'](this['_outlineCo'+'lor']['b']*(0x263+0x1*0x25b1+0x159*-0x1d)),Math['round'](this['_outlineCo'+'lor']['a']*(0x1410+0x1f*-0x141+0x13ce)),Math['round'](this['_outlineTh'+'ickness']*(0x3*-0x3e8+-0x17f6*-0x1+-0x1*0xb3f))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(-0x11ca+0xabd+-0x5*-0x19c)),Math['round'](this['_shadowCol'+'or']['g']*(0x5*-0x55+-0xec3*-0x1+-0xc1b)),Math['round'](this['_shadowCol'+'or']['b']*(-0xdfd*-0x1+-0x1*0xeba+0x1bc)),Math['round'](this['_shadowCol'+'or']['a']*(-0x435*-0x1+0x18db+-0x1c11)),Math['round'](this['_shadowOff'+'set']['x']*(-0x13*-0x86+0x106f*0x2+0x45*-0x9d)),Math['round'](this['_shadowOff'+'set']['y']*(0x14fc+0x5*0x2f9+-0x712*0x5))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0xbb562f[this['_color']['toString'](!(0x1d20+-0x1*0x941+-0x1*0x13de))['toLowerCas'+'e']()]=-0x5*-0x152+0x1de2+-0x247c,_0x4e96c9[_0x2cc118(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=0x1d99*-0x1+-0x14d5*0x1+0xa*0x50b,_0x1fa2b1[_0x1d99db(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=-0x15d7+-0x16e+-0xa1*-0x25;for(let _0x51d5c6=0x1183+0x2351*-0x1+0x11ce,_0x10130c=this['_symbols']['length'];_0x51d5c6<_0x10130c;++_0x51d5c6){const _0x5530e4=_0x6b0787[_0x51d5c6];let _0x2c44f0=-0x35a+-0x1fda+0x2*0x119a;if(_0x5530e4&&_0x5530e4['color']&&_0x5530e4['color']['value']){const _0x479705=_0x5530e4['color']['value'];if(_0x479705['length']===0xfbf+-0x15e3+0x62b&&_0x479705[-0x1176+-0x19f4+0x2b6a]==='#'){const _0x3ec1ad=_0x479705['substring'](-0x23d4+0x1b2+0x2223)['toLowerCas'+'e']();_0xbb562f['hasOwnProp'+'erty'](_0x3ec1ad)?_0x2c44f0=_0xbb562f[_0x3ec1ad]:/^[0-9a-f]{6}$/['test'](_0x3ec1ad)&&(_0x2c44f0=this['_colorPale'+'tte']['length']/(-0x1*-0x2291+-0x9af*-0x1+0x19*-0x1c5),_0xbb562f[_0x3ec1ad]=_0x2c44f0,this['_colorPale'+'tte']['push'](parseInt(_0x3ec1ad['substring'](-0x133*0x9+-0x19de+0x755*0x5,0x32f*0x3+-0xb*-0x148+-0x1*0x17a3),0xae*0xd+0xaf9*-0x2+-0xd2c*-0x1)),this['_colorPale'+'tte']['push'](parseInt(_0x3ec1ad['substring'](0x1ea9+0x13*-0x65+-0x1728,-0x240*-0x2+-0x1cc2+0x1846),-0x1*0x15b2+-0xd33+0x22f5*0x1)),this['_colorPale'+'tte']['push'](parseInt(_0x3ec1ad['substring'](0x1*-0xd30+0x121*0x7+-0x1*-0x54d,-0x828+-0x1641+-0x1*-0x1e6f),-0x1544+0x6a4*0x1+0xeb0)));}}this['_symbolCol'+'ors']['push'](_0x2c44f0);let _0x4e84f1=0x1953+0xd20+-0x2673;if(_0x5530e4&&_0x5530e4['outline']&&(_0x5530e4['outline']['attributes']['color']||_0x5530e4['outline']['attributes']['thickness'])){let _0x3dc876=_0x5530e4['outline']['attributes']['color']?Kg['fromString'](_0x5530e4['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x18c7c5=Number(_0x5530e4['outline']['attributes']['thickness']);(Number['isNaN'](_0x3dc876['r'])||Number['isNaN'](_0x3dc876['g'])||Number['isNaN'](_0x3dc876['b'])||Number['isNaN'](_0x3dc876['a']))&&(_0x3dc876=this['_outlineCo'+'lor']),Number['isNaN'](_0x18c7c5)&&(_0x18c7c5=this['_outlineTh'+'ickness']);const _0x5d59fc=_0x2cc118(_0x3dc876,_0x18c7c5);_0x4e96c9['hasOwnProp'+'erty'](_0x5d59fc)?_0x4e84f1=_0x4e96c9[_0x5d59fc]:(_0x4e84f1=this['_outlinePa'+'lette']['length']/(0x56*0x34+-0x14a7+0x14*0x29),_0x4e96c9[_0x5d59fc]=_0x4e84f1,this['_outlinePa'+'lette']['push'](Math['round'](_0x3dc876['r']*(-0xc7*0x12+-0x5c4*0x5+0xe9b*0x3)),Math['round'](_0x3dc876['g']*(0x1*0x449+-0x2f1*-0xa+0x34*-0xa1)),Math['round'](_0x3dc876['b']*(0xed0+-0x1*0xf51+0x3*0x80)),Math['round'](_0x3dc876['a']*(-0x4c1*0x7+0x8c9+0x2d*0x91)),Math['round'](_0x18c7c5*(-0x19d2+0x1d3a+-0x269*0x1))));}this['_symbolOut'+'lineParams']['push'](_0x4e84f1);let _0x1b9bfe=0x1677+-0xf2a+-0x74d;if(_0x5530e4&&_0x5530e4['shadow']&&(_0x5530e4['shadow']['attributes']['color']||_0x5530e4['shadow']['attributes']['offset']||_0x5530e4['shadow']['attributes']['offsetX']||_0x5530e4['shadow']['attributes']['offsetY'])){let _0x525ce1=_0x5530e4['shadow']['attributes']['color']?Kg['fromString'](_0x5530e4['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x100449=Number(_0x5530e4['shadow']['attributes']['offset']),_0x341e18=Number(_0x5530e4['shadow']['attributes']['offsetX']),_0x2864fb=Number(_0x5530e4['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x525ce1['r'])||Number['isNaN'](_0x525ce1['g'])||Number['isNaN'](_0x525ce1['b'])||Number['isNaN'](_0x525ce1['a']))&&(_0x525ce1=this['_shadowCol'+'or']);const _0x4aff1b=CR['set'](Number['isNaN'](_0x341e18)?Number['isNaN'](_0x100449)?this['_shadowOff'+'set']['x']:_0x100449:_0x341e18,Number['isNaN'](_0x2864fb)?Number['isNaN'](_0x100449)?this['_shadowOff'+'set']['y']:_0x100449:_0x2864fb),_0x5a7824=_0x1d99db(_0x525ce1,_0x4aff1b);_0x1fa2b1['hasOwnProp'+'erty'](_0x5a7824)?_0x1b9bfe=_0x1fa2b1[_0x5a7824]:(_0x1b9bfe=this['_shadowPal'+'ette']['length']/(-0x1ae7*-0x1+-0x1*0x49f+0x2*-0xb21),_0x1fa2b1[_0x5a7824]=_0x1b9bfe,this['_shadowPal'+'ette']['push'](Math['round'](_0x525ce1['r']*(0xce3*0x3+0x1*0x221f+-0x47c9)),Math['round'](_0x525ce1['g']*(0x3ce+0x21e+-0x4ed)),Math['round'](_0x525ce1['b']*(-0x7*0x32a+0x85d*-0x2+0xad*0x3b)),Math['round'](_0x525ce1['a']*(0x22d8+0x3*0x1+-0x21dc)),Math['round'](_0x4aff1b['x']*(0x2056+-0x1*-0x128c+-0x3263*0x1)),Math['round'](_0x4aff1b['y']*(-0x121b+-0x656+0x18f0))));}this['_symbolSha'+'dowParams']['push'](_0x1b9bfe);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x416199=this['_calculate'+'CharsPerTe'+'xture']();let _0x4de69d=!(-0x3*-0x47f+-0x2*0x23d+-0x902);const _0x11abb7=this['_element'],_0x1a4e37=_0x11abb7['_isScreenS'+'pace'](),_0x1b49fb=_0x11abb7['_isScreenC'+'ulled'](),_0x368fa6=function(_0x26fe5f){return _0x11abb7['isVisibleF'+'orCamera'](_0x26fe5f);};for(let _0xe09401=0x1*-0x976+-0x10e4+-0xd2d*-0x2,_0x520800=this['_meshInfo']['length'];_0xe09401<_0x520800;_0xe09401++){const _0x44fccb=_0x416199[_0xe09401]||0x5*-0x16e+0x83f*-0x2+-0x1*-0x17a4,_0x3d11d1=this['_meshInfo'][_0xe09401];if(_0x3d11d1['count']!==_0x44fccb){if(_0x4de69d||(_0x11abb7['removeMode'+'lFromLayer'+'s'](this['_model']),_0x4de69d=!(-0x1*0x20cb+0x359*0x2+0x1a19)),_0x3d11d1['count']=_0x44fccb,_0x3d11d1['positions']['length']=_0x3d11d1['normals']['length']=_0x44fccb*(-0xa6b+0xd*0x170+0x421*-0x2)*(-0x26f6+-0x244f+-0x4b49*-0x1),_0x3d11d1['indices']['length']=_0x44fccb*(-0x1*0x4d7+0x1*-0x1251+0x172b)*(0x1070+0xa13+-0x1a81),_0x3d11d1['uvs']['length']=_0x44fccb*(0x1*0xc11+0x1198*-0x1+0x6d*0xd)*(0x19*0x60+-0x11a3*-0x1+-0x1aff),_0x3d11d1['colors']['length']=_0x44fccb*(0x1*0xc41+0x1*-0x32d+0x488*-0x2)*(0x221c+-0x516*0x1+0xe81*-0x2),_0x3d11d1['outlines']['length']=_0x44fccb*(0x1f80+0x263a+-0x45b6)*(0x20c+-0x1*-0x76d+-0x976),_0x3d11d1['shadows']['length']=_0x44fccb*(-0x2249+-0xa6f*-0x1+0x17de)*(0xf7f+-0x174f+0x7d3),_0x3d11d1['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x3d11d1['meshInstan'+'ce']),_0x44fccb===-0xa08+-0x1516+0x1f1e){_0x3d11d1['meshInstan'+'ce']=null;continue;}for(let _0x13e57b=0x120d*-0x1+-0x134e+0x1*0x255b;_0x13e57b<_0x44fccb;_0x13e57b++)_0x3d11d1['indices'][_0x13e57b*(-0x22ef+0x5*0x1ff+0x18f7)*(-0x2267+0xb*-0x30e+0x4403)+(0x2507+0x1c82+-0x4189)]=_0x13e57b*(-0xa54+0x1*0x24f7+-0x1a9f),_0x3d11d1['indices'][_0x13e57b*(0x1630+-0x1a2f+0x402)*(0x567+-0x167*0x6+0x1*0x305)+(-0x18d0+0x376*-0x3+0x2333)]=_0x13e57b*(0x2*0x131+-0x3*0xe+-0x234)+(0x5*0x66d+-0xf44+-0x10dc),_0x3d11d1['indices'][_0x13e57b*(0x59*-0x41+-0x557*0x4+0x2bf8)*(-0x67d*-0x4+-0x21cd+-0x1*-0x7db)+(0x24bd+-0x1*0x13af+-0x110c)]=_0x13e57b*(0x77*-0x9+0xfdb+-0x4*0x2ea)+(0x25ec*0x1+0x101*-0x25+0xc4*-0x1),_0x3d11d1['indices'][_0x13e57b*(-0x3*0x6bc+0x1*0xc59+0x26*0x35)*(-0xd*0x151+0x2*0x2a5+-0xbd5*-0x1)+(-0x3a*-0x12+0x9be*-0x2+0x1*0xf6b)]=_0x13e57b*(0x9*-0x275+0x20d6+-0x1*0xab5)+(0x249b+-0x9ee*0x1+-0x1aab),_0x3d11d1['indices'][_0x13e57b*(0x8a3+-0x1346*0x1+-0x2f*-0x3a)*(0x1876+0x7a*-0x48+-0x1*-0x9dc)+(-0x12e8+0x2709+-0x141d)]=_0x13e57b*(0x14ba+0x24da+-0x998*0x6)+(0x2367+0x3*-0x45a+-0x1*0x1656),_0x3d11d1['indices'][_0x13e57b*(-0x6*0x14f+-0x1*0xfa1+0x177e)*(-0x379*-0x2+0x14e0+-0x1bd0)+(-0x1195+-0x3b*-0x10+0xdea)]=_0x13e57b*(0x4*0x6e+0x61f+0x1*-0x7d3)+(0x5ae+-0x2b*0xb2+0x813*0x3),_0x3d11d1['normals'][_0x13e57b*(0x2*0xbd5+-0xac0+0x2*-0x673)*(-0x2c*0x8+0x41*-0x65+-0x1b08*-0x1)+(-0x1b99+-0x19f2+0x1*0x358b)]=0x10*0xb0+-0x63*-0x25+-0x194f,_0x3d11d1['normals'][_0x13e57b*(-0x4*-0xe9+0x1*0x7a7+-0xb47)*(0x297*0x8+0x23a2+-0x1*0x3857)+(-0x1*0x705+-0xb76+0x127c)]=-0x11*-0x17b+-0xa75*0x1+-0xeb6,_0x3d11d1['normals'][_0x13e57b*(0x205*-0x10+-0x1baa+0xe*0x449)*(-0x1*-0x1b0c+0x1d4b+-0x2d1*0x14)+(-0x657*-0x6+-0x1*-0x19c7+-0x3fcf)]=-(0x4*-0x880+-0x2369+0x456a),_0x3d11d1['normals'][_0x13e57b*(0x21ba+0xe6e+-0x9e*0x4e)*(0xe*0xa6+-0x1eac+0x159b)+(0x3*0xbc5+-0x1*0x3e3+-0x1f69)]=0x10f*0x1+-0x12f3+-0xa*-0x1ca,_0x3d11d1['normals'][_0x13e57b*(-0x4*-0x5ed+0x5e7+0x65*-0x4b)*(0x13d3+-0x15ef+0x3*0xb5)+(0x2*0x10a3+-0x451+0xef*-0x1f)]=-0x1419+0x19f*-0x3+-0x18f6*-0x1,_0x3d11d1['normals'][_0x13e57b*(-0x75*0x19+0x1310+0x1*-0x79f)*(0x1*0x1763+0xdf*0xd+-0x22b3)+(-0x1948+0x222f+-0x3*0x2f6)]=-(0x59+0x9e*-0x3b+0xab*0x36),_0x3d11d1['normals'][_0x13e57b*(0x7*0x92+0x711+-0xb0b)*(0x17d3+0x154a+-0x2d1a)+(-0x26a9+-0x8*0x125+0x14b*0x25)]=-0xd*-0x153+0x454*0x5+-0x26db,_0x3d11d1['normals'][_0x13e57b*(0x66*-0x40+-0x1d58+0x4*0xdb7)*(0xd*0x3b+-0x1a56+-0x3d*-0x62)+(0x117e*0x1+0x23a0+-0x3517)]=0x180e+0xbd8+-0x23e6,_0x3d11d1['normals'][_0x13e57b*(0xd62+-0x3*-0xa9f+-0x1*0x2d3b)*(-0x1*-0x61a+-0x1672+0x105b)+(0x14ed+-0x6ff+-0xde6)]=-(0x2*-0x53+-0x10a2+0x1149),_0x3d11d1['normals'][_0x13e57b*(0x1ae3+0x1523+-0x5*0x99a)*(0x1*0xd43+0x17fa+-0x253a)+(-0x11cc+0x1492+-0x2bd)]=-0x31b+-0x1*0xcec+-0xb*-0x175,_0x3d11d1['normals'][_0x13e57b*(-0x14b*0x3+0x1c0a*-0x1+0x1fef)*(0x210d+0x14db+-0x35e5)+(-0x1*0x1138+-0xd90+0x1ed2)]=-0x87f+-0x1d88+0xf*0x289,_0x3d11d1['normals'][_0x13e57b*(-0x9d+0x15a+-0x25*0x5)*(-0x1208+0x882+-0x1*-0x989)+(-0x1*0x1571+0x1011+0x49*0x13)]=-(0x7*0x107+0x379+-0xaa9);const _0x167270=xR(this['_system']['app']['graphicsDe'+'vice'],_0x3d11d1),_0x2b7b8a=new He(_0x167270,this['_material'],this['_node']);if(_0x2b7b8a['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x2b7b8a['castShadow']=!(0x1426+-0x1*-0x1377+-0x279c),_0x2b7b8a['receiveSha'+'dow']=!(-0x317+0x3d*-0x92+0x25e2),_0x2b7b8a['cull']=!_0x1a4e37,_0x2b7b8a['screenSpac'+'e']=_0x1a4e37,_0x2b7b8a['drawOrder']=this['_drawOrder'],_0x1b49fb&&(_0x2b7b8a['cull']=!(0x8e7+0x761+-0x1048),_0x2b7b8a['isVisibleF'+'unc']=_0x368fa6),this['_setTextur'+'eParams'](_0x2b7b8a,this['_font']['textures'][_0xe09401]),_0x2b7b8a['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x2b7b8a['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x2b7b8a['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x2b7b8a['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x2b7b8a['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0xe09401]['width']),_0x2b7b8a['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x2b7b8a['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x2b7b8a['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][-0x3a2+0x1cf8+0x11a*-0x17]=0x523*0x1+0x1760+-0x1c83,this['_shadowOff'+'setUniform'][0x1*0x2397+-0x22f6+0x10*-0xa]=0xb04+0x62b*-0x2+0x152;else{const _0x585e33=-this['_font']['data']['info']['maps'][_0xe09401]['width']/this['_font']['data']['info']['maps'][_0xe09401]['height'];this['_shadowOff'+'setUniform'][-0x8*-0x39a+0x1*0x173c+-0x340c]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x11*-0xd1+0xa1*-0x4+0x1066]=_0x585e33*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x2b7b8a['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x3d11d1['meshInstan'+'ce']=_0x2b7b8a,this['_model']['meshInstan'+'ces']['push'](_0x2b7b8a);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x4de69d&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=-0x156e+0xb4f*0x3+0x1*-0xc7f,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x4fc4cc){_0x4fc4cc['destroy']();const _0x3f1b60=this['_model']['meshInstan'+'ces']['indexOf'](_0x4fc4cc);_0x3f1b60!==-(-0x58*0x1d+-0x11fe*0x2+0x2df5)&&this['_model']['meshInstan'+'ces']['splice'](_0x3f1b60,-0x1748*-0x1+0x466+-0x1bad);}['_setMateri'+'al'](_0x37a238){if(this['_material']=_0x37a238,this['_model'])for(let _0x5754fa=-0x4*0x94d+-0x83c+0x10*0x2d7,_0x49c890=this['_model']['meshInstan'+'ces']['length'];_0x5754fa<_0x49c890;_0x5754fa++){const _0x21222b=this['_model']['meshInstan'+'ces'][_0x5754fa];_0x21222b['material']=_0x37a238;}}['_updateMat'+'erial'](_0xf85c74){const _0x4b253c=this['_element'],_0x2217ca=_0x4b253c['_isScreenC'+'ulled'](),_0x18d648=function(_0x2510e5){return _0x4b253c['isVisibleF'+'orCamera'](_0x2510e5);},_0x50e968=this['_font']&&this['_font']['type']===Rh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0xf85c74,_0x50e968,this['_enableMar'+'kup']),this['_model'])for(let _0x3f8b7d=0x21a7+0x14e6+0xae9*-0x5,_0x2f77f8=this['_model']['meshInstan'+'ces']['length'];_0x3f8b7d<_0x2f77f8;_0x3f8b7d++){const _0x37c537=this['_model']['meshInstan'+'ces'][_0x3f8b7d];_0x37c537['cull']=!_0xf85c74,_0x37c537['material']=this['_material'],_0x37c537['screenSpac'+'e']=_0xf85c74,_0x2217ca?(_0x37c537['cull']=!(-0x1c9d*-0x1+0x5c4+-0x2261),_0x37c537['isVisibleF'+'unc']=_0x18d648):_0x37c537['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][0x379*0x7+-0x3ec+-0x1463]=-0x26a*-0x1+0x14b2+0xa9*-0x23,this['_colorUnif'+'orm'][-0x2703*-0x1+-0x169+-0x2599]=-0x1f30+0x1f*-0x9b+0x31f6,this['_colorUnif'+'orm'][-0x1*-0x1b7+0x8*0x3e1+-0x20bd]=0xe*-0x139+0x208c+-0xf6d):(We['linear'](this['_color']),this['_colorUnif'+'orm'][0x16db+-0x155f*0x1+-0x17c]=We['r'],this['_colorUnif'+'orm'][0x1db9+0x149e+0x2*-0x192b]=We['g'],this['_colorUnif'+'orm'][-0xbab+0xe0d+-0x260]=We['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][-0x243c+-0x7b6+-0xa*-0x465]=-0x1*0xf25+-0x2185*0x1+0x30aa,this['_outlineCo'+'lorUniform'][0xe00+-0x1973+0xb74]=-0x2*-0x1a6+0xc*0x18e+-0x15f4,this['_outlineCo'+'lorUniform'][0x1*0x153d+0x1e3c+-0x5*0xa4b]=-0x1fdf*0x1+-0x2a1*0xb+0xfb*0x3e,this['_outlineCo'+'lorUniform'][0x1de1*-0x1+0x42a*-0x6+0x36e0]=-0x1eb3+0x374+0x1b40):(We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x8b2+-0x12a*-0x11+-0xb18]=We['r'],this['_outlineCo'+'lorUniform'][-0x29*0x6a+0x3*0x59d+0x2*0x12]=We['g'],this['_outlineCo'+'lorUniform'][-0x624+-0xb42+-0x45a*-0x4]=We['b'],this['_outlineCo'+'lorUniform'][-0x845+0x7*0x2a9+-0xa57]=We['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][-0x11e*-0x18+-0x17*-0xb2+-0x2ace]=-0x167a+-0x2*0x49+-0x3b*-0x64,this['_shadowCol'+'orUniform'][-0x26c9+0x1*0xaca+0x38*0x80]=-0x204e+0x14a*-0x13+0x4*0xe33,this['_shadowCol'+'orUniform'][-0xc2*-0x13+-0xc41+-0x223]=0x4*-0x9d+-0x8e3+0xb57,this['_shadowCol'+'orUniform'][0x19f6+0x29*0x43+0x2*-0x1257]=0x33d*0x2+0x1*-0xb89+0x50f*0x1):(We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x26d2+0x4*0x97d+-0x13d*0x3e]=We['r'],this['_shadowCol'+'orUniform'][-0xe2*0x1d+0x7*0x2fe+0x4a9*0x1]=We['g'],this['_shadowCol'+'orUniform'][-0x27*-0xe0+-0x1*-0x1b92+-0x178*0x2a]=We['b'],this['_shadowCol'+'orUniform'][0x29*0x99+0x19d3+-0x3251]=We['a']);}['_isWordBou'+'ndary'](_0xc0be3e){return jg['test'](_0xc0be3e);}['_isValidNe'+'xtChar'](_0x55de50){return _0x55de50!==null&&!ER['test'](_0x55de50);}['_isNextCJK'+'Boundary'](_0x39bb2a,_0xbb8651){return Yg['test'](_0x39bb2a)&&(jg['test'](_0xbb8651)||wR['test'](_0xbb8651));}['_isNextCJK'+'WholeWord'](_0x33d1d3){return Yg['test'](_0x33d1d3);}['_updateMes'+'hes'](){const _0x415619=this['_font']['data'],_0x4ee216=this,_0x9ca03=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x741d04=this['_maxFontSi'+'ze'],_0x3bbfc8=this['_shouldAut'+'oFit']();_0x3bbfc8&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x55dcbc=-0x7*0x1c1+0xbb+0xbac,_0x39ebb0=this['_symbols']['length'];let _0x300390=-0x2265+-0x1a7b+0x3ce0,_0x37057a=-0x1*-0xd2e+-0x1729+-0x23*-0x49,_0x5215ee=-0x1cab+0x2f5+0x2*0xcdb,_0x4f7844=-0x6*0xb3+0x7a1+-0x125*0x3,_0x240790=-0x2d6+-0x114a+0x1421,_0x42bbef=0x1*-0x3a7+-0x2*0x11a7+0x26f5*0x1,_0x1f723d=0x775+0x1*0x1ee9+-0x265e,_0x4aa49e=-0x2015+-0x2*-0x122b+-0x441,_0x3f65a4=0x15c5+-0x1*0xbb7+0x11e*-0x9,_0x2e9223=-0x1*0x4bb+0x4f9*0x2+-0x537,_0x5527c0=-0x1f*-0xec+0x6c*0x49+-0x3b60;const _0x2a7e43=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=-0x111b*0x2+0x2007+0x22f+0.0001;let _0x273b4d=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x2a7e43||!this['_wrapLines'])&&(_0x273b4d=Number['POSITIVE_I'+'NFINITY']);let _0x2387ed=0x10e7*0x2+-0xe1*0xc+-0x1a*0xe5,_0x53de62=0x7*0x188+0x22eb+0x2da3*-0x1,_0x450ca7,_0x2ed945,_0x1448e3,_0x3f88e6;function _0x38d16c(_0x21893f,_0x197fcd,_0x490da9){_0x4ee216['_lineWidth'+'s']['push'](Math['abs'](_0x490da9));const _0xfe97fd=_0x4aa49e>_0x197fcd?_0x197fcd+(0x19f6*0x1+0x3*-0x595+-0x3*0x312):_0x4aa49e,_0x3bb6db=_0x4aa49e>_0x197fcd?_0x4aa49e+(-0x6d*-0x3c+-0x8*-0x63+-0x1ca3):_0x197fcd,_0x314b79=_0x21893f['slice'](_0xfe97fd,_0x3bb6db);if(_0x5527c0){let _0x196500=_0x314b79['length'];for(;_0x196500--&&_0x5527c0>-0xf86+-0x23de+-0x19b2*-0x2;)qg['test'](_0x314b79[_0x196500])&&(_0x314b79['splice'](_0x196500,0x2*-0x2a5+0x892*0x1+-0x347),_0x5527c0--);}_0x4ee216['_lineConte'+'nts']['push'](_0x314b79['join']('')),_0x300390=-0x24ec+-0x163b*0x1+-0x31d*-0x13,_0x37057a-=_0x4ee216['_scaledLin'+'eHeight'],_0x240790++,_0x3f65a4=-0xb*-0x233+-0x1*0x1223+-0x307*0x2,_0x2e9223=-0x5b*0x63+-0x1d0d*-0x1+0x624,_0x5527c0=-0x8f5+0x1*-0x1ab9+0x23ae,_0x42bbef=-0x19*-0x8b+-0x2*-0xd5+-0x1*0xf3d,_0x4aa49e=_0x197fcd;}let _0xbcd2bb=!(-0x89*-0x29+-0x10cd+-0x524);for(;_0xbcd2bb;){_0xbcd2bb=!(0x39d+-0x102f+-0x57*-0x25),_0x3bbfc8?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||0x1351*0x1+-0x97*-0x4+-0x15ad+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=0x4a*0x6b+-0x21bf*-0x1+-0x40ad,this['height']=0xb30+0x1*-0x19a8+0x8*0x1cf,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x300390=0x132b+0x1*0xed7+-0x1101*0x2,_0x37057a=0xfbb+-0x25*-0xfb+-0x3402,_0x5215ee=-0x881+0x164f*-0x1+0x1ed0,_0x4f7844=0xc6d+-0xb*0x79+-0x39d*0x2,_0x240790=-0x1967+-0x12f9*-0x2+-0x1e*0x6b,_0x42bbef=-0x3*0x371+0x1abd+-0x106a,_0x1f723d=0x23a+-0x17e0+-0x15a6*-0x1,_0x4aa49e=0x4f*0x6f+-0x2221*0x1+-0x20,_0x3f65a4=0x7*-0x10f+-0x1d4c+-0x1*-0x24b5,_0x2e9223=-0x24b8+-0x2*0x5f5+0x30a2,_0x5527c0=0x139*-0x19+0x1c9e+0x1f3*0x1;const _0x61b14=this['_fontSize']/_0x55dcbc;_0x2387ed=this['_fontMinY']*_0x61b14,_0x53de62=this['_fontMaxY']*_0x61b14;for(let _0x531aa8=0x3d*0x5b+-0x113+-0x527*0x4;_0x531aa8<this['_meshInfo']['length'];_0x531aa8++)this['_meshInfo'][_0x531aa8]['quad']=-0xd62+-0x172*-0x9+0x60,this['_meshInfo'][_0x531aa8]['lines']={};let _0x20549a=0x611+0x8d3*0x4+-0x1*0x285e,_0x326843=-0x38*0x65+-0xea5*0x2+0x247*0x17,_0x4cbb30=-0xc54+0x4e*-0x1c+0x15db,_0x432613=-0x43a+-0x1c3e+0x293*0xd+(-0x1*-0x12b9+-0x1d*-0x5f+-0x3*0x97f)*(-0x10d0+-0x211e+0x3*0x10fa),_0x282eac=-0x283+-0x2007+0x2389+(-0x2521+-0xaaf*0x1+0x30cf)*(0x1bfb+-0x1*-0x1c21+-0x371c),_0x42ccb0=-0x5*-0x35b+0x791+-0x1858,_0x15768b=0x44a*0x3+-0x228d+0x16ae+(-0x145f+0x3e7+0x1177)*(-0x1636+-0x9d1+-0x5*-0x69b),_0x422661=-0x47a+0x1*0x1a3f+-0x14c6+(0x1*0x1063+-0x1*-0x270b+-0x366f)*(-0x379*0x2+0x18c5+-0x10d3*0x1),_0x287911=0x8f*-0x16+-0x1d9*0x14+-0x11*-0x2ed+(0x9ef+0x4eb+-0xe5b)*(-0x1*-0x23a3+-0x7*0x5b+0x2026*-0x1);for(let _0x19a3b6=0x5d8+0xe09*0x1+0x1*-0x13e1;_0x19a3b6<_0x39ebb0;_0x19a3b6++){if(_0x450ca7=this['_symbols'][_0x19a3b6],_0x3f88e6=_0x19a3b6+(0x1*0x2651+0x1e36+-0x4486)>=_0x39ebb0?null:this['_symbols'][_0x19a3b6+(-0x1290+-0x22e2+0x3573)],qg['test'](_0x450ca7)){_0x5527c0++,(!this['_wrapLines']||this['_maxLines']<0x15d1+-0x2b*-0x6+-0x16d3||_0x240790<this['_maxLines'])&&(_0x38d16c(this['_symbols'],_0x19a3b6,_0x4f7844),_0x1f723d=_0x19a3b6+(-0x36e*-0x4+-0x4*0xd3+-0xa6b),_0x4aa49e=_0x19a3b6+(0x283+0x74a+-0xc*0xd1));continue;}let _0x5a8241=-0x2505+0xb5b+-0x92*-0x2d,_0x276eca=-0x1b5a+0xa10+-0x114a*-0x1,_0x3d7b78=0x62a+0x1f3f+0x1*-0x2569,_0x3e54a2=-0x871*-0x1+-0xf4*-0xd+-0x14d4,_0x124f54,_0x505c40;if(_0x2ed945=_0x415619['chars'][_0x450ca7],!_0x2ed945){if(bR['indexOf'](_0x450ca7)!==-(-0xdd3+-0x3*0x16d+0x1*0x121b))_0x2ed945=AR;else{if(_0x415619['chars']['\x20'])_0x2ed945=_0x415619['chars']['\x20'];else for(const _0x5a5cf9 in _0x415619['chars']){_0x2ed945=_0x415619['chars'][_0x5a5cf9];break;}_0x415619['missingCha'+'rs']||(_0x415619['missingCha'+'rs']=new Set()),_0x415619['missingCha'+'rs']['has'](_0x450ca7)||(console['warn']('Character\x20'+'\x27'+_0x450ca7+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x415619['info']['face']),_0x415619['missingCha'+'rs']['add'](_0x450ca7));}}if(_0x2ed945){let _0x22e140=-0x792+-0x92+0x412*0x2;if(_0x2e9223>0xc*-0x1f+0x1aa5*-0x1+0x1c19){const _0x4d28b7=this['_font']['data']['kerning'];if(_0x4d28b7){const _0x38edae=_0x4d28b7[Hc['getCodePoi'+'nt'](this['_symbols'][_0x19a3b6-(-0xa9e*-0x1+0xe0b+0x4*-0x62a)])||-0x2527+0x142+-0x1*-0x23e5];_0x38edae&&(_0x22e140=_0x38edae[Hc['getCodePoi'+'nt'](this['_symbols'][_0x19a3b6])||0xa*0x65+-0x38*0x61+0x1146]||0x1c96+0x195+-0x1e2b);}}_0x124f54=_0x2ed945['scale']||-0x1b82+-0x841*0x1+0x23c4,_0x505c40=(_0x2ed945['width']+_0x2ed945['height'])/(-0x1c09+-0x5f7*-0x3+0xa26),_0x3e54a2=_0x61b14*_0x505c40/_0x124f54,_0x3d7b78=(_0x2ed945['xadvance']+_0x22e140)*_0x61b14,_0x5a8241=(_0x2ed945['xoffset']-_0x22e140)*_0x61b14,_0x276eca=_0x2ed945['yoffset']*_0x61b14;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x450ca7+'\x27');const _0x178099=TR['test'](_0x450ca7),_0x51b521=_0x2ed945&&_0x2ed945['map']||0xbe0*0x1+-0x7*0x231+0x377,_0x857f5c=-this['_font']['data']['info']['maps'][_0x51b521]['width']/this['_font']['data']['info']['maps'][_0x51b521]['height'],_0x35d832=this['_meshInfo'][_0x51b521],_0x5bee56=_0x300390+this['_spacing']*_0x3d7b78;if(_0x5bee56>_0x273b4d&&_0x2e9223>-0x79a+0x1dfd+-0x1663&&!_0x178099&&(this['_maxLines']<-0xbba+0x1*0x17e9+-0xc2f*0x1||_0x240790<this['_maxLines'])){if(_0x3f65a4===-0xaf7*-0x3+-0xfb4+-0x1131)_0x1f723d=_0x19a3b6,_0x38d16c(this['_symbols'],_0x19a3b6,_0x4f7844);else{const _0x50cdb4=Math['max'](_0x19a3b6-_0x1f723d,0x13f*0xd+0xf83*0x1+0x63*-0x52);if(this['_meshInfo']['length']<=0xfe*-0xb+-0x1c73+-0x275e*-0x1)_0x35d832['lines'][_0x240790-(0xe34+0xef6+-0x1d29*0x1)]-=_0x50cdb4,_0x35d832['quad']-=_0x50cdb4;else{const _0xba68c2=_0x1f723d,_0x29a861=_0x19a3b6;for(let _0x1ec5bc=_0xba68c2;_0x1ec5bc<_0x29a861;_0x1ec5bc++){const _0x150ec1=this['_symbols'][_0x1ec5bc],_0x48cc17=_0x415619['chars'][_0x150ec1],_0x424450=this['_meshInfo'][_0x48cc17&&_0x48cc17['map']||-0xb*-0x63+-0x8d9+0x2a*0x1c];_0x424450['lines'][_0x240790-(0x97*-0x23+-0x1e1d+0x235*0x17)]-=0x47*0x29+-0x1e02+0x12a4,_0x424450['quad']-=-0x26ae+-0x1ca*-0x6+0x1bf3;}}_0x19a3b6-=_0x50cdb4+(-0x91d*0x1+-0x5a*0x13+-0x3*-0x544),_0x38d16c(this['_symbols'],_0x1f723d,_0x42bbef);continue;}}_0x1448e3=_0x35d832['quad'],_0x35d832['lines'][_0x240790-(0x1*-0x132d+0x3*-0x79+0x1*0x1499)]=_0x1448e3;let _0x1ecf96=_0x300390-_0x5a8241,_0x12f4a8=_0x1ecf96+_0x3e54a2;const _0x387cc3=_0x37057a-_0x276eca,_0x2f853a=_0x387cc3+_0x3e54a2;if(this['_rtl']){const _0x323470=_0x3e54a2-_0x5a8241-this['_spacing']*_0x3d7b78-_0x5a8241;_0x1ecf96-=_0x323470,_0x12f4a8-=_0x323470;}_0x35d832['positions'][_0x1448e3*(0x7f*-0x3d+0x38f*0x2+0x1729)*(-0x932+0x19*-0xe9+-0x2*-0xffb)+(0x745*-0x3+-0x25b1+0x7*0x880)]=_0x1ecf96,_0x35d832['positions'][_0x1448e3*(-0x4*0x1de+0x1*0x1652+-0x1*0xed6)*(-0x1fe1*-0x1+-0x1*-0xc3d+0x2c1b*-0x1)+(-0x2*0x9f+0x11a6+-0x1067)]=_0x387cc3,_0x35d832['positions'][_0x1448e3*(0x139*0x1+0x2335+-0x246a)*(0x407*-0x3+-0x394*0x2+0x1340)+(-0x7ac+-0x2*-0x45a+0x106*-0x1)]=_0x5215ee,_0x35d832['positions'][_0x1448e3*(0x14d1+-0x60d*-0x5+-0x2*0x1987)*(0xe0d+-0x2a9*-0x7+0x3*-0xae3)+(0x208a+0x98*0x40+0x9d*-0x73)]=_0x12f4a8,_0x35d832['positions'][_0x1448e3*(0xa*-0x25+-0x3*-0x211+-0x4bd)*(-0x165c+-0x2158+0x37b7)+(-0x21cd+0x12*0x7b+0x192b)]=_0x387cc3,_0x35d832['positions'][_0x1448e3*(0xf*0x28d+-0x66f*0x1+-0x10*0x1fd)*(0x8*-0x6d+-0x132f+0x169a)+(-0xf25+-0x32e+0x1258)]=_0x5215ee,_0x35d832['positions'][_0x1448e3*(-0x115b+-0xd55+0x1eb4)*(0x902+0x84f+0x8a7*-0x2)+(-0x5*-0x21f+0x9a6+0x1*-0x143b)]=_0x12f4a8,_0x35d832['positions'][_0x1448e3*(-0x1db5+0x1930+-0x1b*-0x2b)*(0x301*-0x7+-0x20f2+-0x4*-0xd7f)+(-0x1df*-0x7+0x130d+-0x201f)]=_0x2f853a,_0x35d832['positions'][_0x1448e3*(-0x1*0x1c55+-0x1bcf*0x1+-0x18*-0x257)*(0x1*0x4eb+0x1*0x1d95+0x6d*-0x51)+(0xe1*0xd+0x21e3+0x2a*-0x114)]=_0x5215ee,_0x35d832['positions'][_0x1448e3*(-0x1*-0xe2+-0xd*-0x182+-0x106*0x14)*(-0xf12+0x2398+-0x1*0x1483)+(0x13b*0x1a+-0x1e89+0x1a*-0xe)]=_0x1ecf96,_0x35d832['positions'][_0x1448e3*(-0x25e9+-0x35*0x1a+0x2b4f)*(0x109+-0x1*-0x1372+-0x51e*0x4)+(0x76c+0x414+-0xb76)]=_0x2f853a,_0x35d832['positions'][_0x1448e3*(0x15*0x198+0x1849*0x1+-0x39bd)*(0x7d6+0x5d8+-0xdab)+(-0x1b17+0x199a+0x31*0x8)]=_0x5215ee,this['width']=Math['max'](this['width'],_0x5bee56);let _0x32efcd;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x32efcd=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||0x2368+0x984+0x5c*-0x7d+0.0001)),_0x32efcd=Y['clamp'](_0x32efcd,_0x9ca03,_0x741d04),_0x32efcd!==this['_element']['fontSize'])){this['_fontSize']=_0x32efcd,_0xbcd2bb=!(0xa9c+-0x5*-0x6a1+-0x1*0x2bc1);break;}if(this['height']=Math['max'](this['height'],_0x53de62-(_0x37057a+_0x2387ed)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x32efcd=Y['clamp'](this['_fontSize']-(-0x15df+0x9*-0xa2+0x1b92*0x1),_0x9ca03,_0x741d04),_0x32efcd!==this['_element']['fontSize'])){this['_fontSize']=_0x32efcd,_0xbcd2bb=!(-0x16+0x2269+-0x2253);break;}_0x300390+=this['_spacing']*_0x3d7b78,_0x178099||(_0x4f7844=_0x300390),(this['_isWordBou'+'ndary'](_0x450ca7)||this['_isValidNe'+'xtChar'](_0x3f88e6)&&(this['_isNextCJK'+'Boundary'](_0x450ca7,_0x3f88e6)||this['_isNextCJK'+'WholeWord'](_0x3f88e6)))&&(_0x3f65a4++,_0x42bbef=_0x4f7844,_0x1f723d=_0x19a3b6+(0x30d*0x9+0x4aa*-0x4+0x8cc*-0x1)),_0x2e9223++;const _0x2e8a55=this['_getUv'](_0x450ca7);if(_0x35d832['uvs'][_0x1448e3*(0x18be+-0x1d6e+-0x2*-0x25a)*(-0x24c5*-0x1+0x2*-0xfa5+-0x579)+(0x41*0x57+-0x1*-0x1f4f+0x1ab3*-0x2)]=_0x2e8a55[-0x199a+0x1e6b+0x4d1*-0x1],_0x35d832['uvs'][_0x1448e3*(0x22f1+0x246*0x9+-0x1*0x3763)*(-0xc02+0x10ab*-0x1+0x1caf)+(-0x3*-0x85d+0xa59*-0x2+-0x1*0x464)]=0x230d+-0x3f7*0x8+-0x354-_0x2e8a55[0x535*-0x1+-0x1829+-0x67*-0x49],_0x35d832['uvs'][_0x1448e3*(-0x366*-0x5+0x1031+-0x212b)*(0x23bc+-0xdb*-0x7+-0x29b7)+(-0x1*-0x1817+0x16a6*0x1+0x6ad*-0x7)]=_0x2e8a55[0x105d+0x23c6+-0x55*0x9d],_0x35d832['uvs'][_0x1448e3*(0xf59*0x1+-0x1546+-0x1fb*-0x3)*(0x2*0x9c7+-0xf*-0x175+-0x1*0x2967)+(-0x7ee+0x6*-0x171+0x89*0x1f)]=-0xc7*0x19+0xb78+-0xff*-0x8-_0x2e8a55[0x2*0x101d+0xbfb+-0x2c34],_0x35d832['uvs'][_0x1448e3*(0x2*-0xb2+0x218+-0xb0)*(0xc94+-0x10d4+0x5*0xda)+(-0x1*-0x18b3+0x3*-0x26+-0x183d)]=_0x2e8a55[-0x14*-0x170+0x38d*0x4+-0x2af2],_0x35d832['uvs'][_0x1448e3*(-0xeeb+0x1*-0x1709+-0xf*-0x288)*(-0x3*0x513+-0x10+0xf4b)+(0x1*0x26ad+0x4eb+0x5*-0x8b7)]=0x253a+0x18b1+-0x3dea-_0x2e8a55[0x576+-0x2045+0x1ad2],_0x35d832['uvs'][_0x1448e3*(-0xa2e*0x1+0xf23+-0x4f1)*(-0x417*0x3+-0x6*-0x15f+0x1*0x40d)+(0x1d19+0xbdd+-0x28*0x106)]=_0x2e8a55[0x574*0x1+0x34*-0x8a+0x1694],_0x35d832['uvs'][_0x1448e3*(0xc30+-0x626+0x3*-0x202)*(0x7d6*0x2+-0xb20+0x7*-0xa6)+(0x1dc2+0x51d+0x37c*-0xa)]=0xeb*-0x25+0x1*0xdd7+0x1*0x1421-_0x2e8a55[-0x1*0x24bf+0x1d96*0x1+0x72c],this['_symbolCol'+'ors']){const _0x1ce630=this['_symbolCol'+'ors'][_0x19a3b6]*(-0x2180+-0x2615+0x4798);_0x20549a=this['_colorPale'+'tte'][_0x1ce630],_0x326843=this['_colorPale'+'tte'][_0x1ce630+(-0x1cfe+-0x2681*-0x1+-0x4c1*0x2)],_0x4cbb30=this['_colorPale'+'tte'][_0x1ce630+(-0x41+-0xf88+0xfcb)];}if(_0x35d832['colors'][_0x1448e3*(0x29*0x4e+0x5*0x665+-0x1*0x2c73)*(-0x2*-0xd12+0x1a52+-0x3472)+(-0xce*0x3+-0x5*-0x26b+-0x9ad)]=_0x20549a,_0x35d832['colors'][_0x1448e3*(-0x9e4+0x7c1*0x5+-0x1cdd)*(0x800+-0x1*0x1b46+-0x3*-0x66e)+(0x4b4+-0x14b*0x7+0x1*0x45a)]=_0x326843,_0x35d832['colors'][_0x1448e3*(0x6df*-0x5+-0xd0b+0x2f6a)*(0x2c3*-0x9+-0x10f8+0x29d7)+(-0x1c32+0x143d+-0x1*-0x7f7)]=_0x4cbb30,_0x35d832['colors'][_0x1448e3*(0xcb2+-0x24b7+-0x7*-0x36f)*(-0x157b+-0x1a14*-0x1+0x11*-0x45)+(0x13*-0x175+-0x22cd*-0x1+0x11*-0x6b)]=0x112+-0x1cf7*-0x1+-0x9ae*0x3,_0x35d832['colors'][_0x1448e3*(-0x1ef8+0x9e4+-0x12*-0x12c)*(-0x22e+-0x172f+0x1961)+(0x1cd6+-0x1dbb*-0x1+-0x3a8d*0x1)]=_0x20549a,_0x35d832['colors'][_0x1448e3*(-0x1*-0xda1+-0x4fc*-0x1+-0x1299)*(-0x4*0x631+0x2030+0x1*-0x768)+(0x2bb+0xd7b+0x5*-0x33d)]=_0x326843,_0x35d832['colors'][_0x1448e3*(0x2*0x47+-0x39d*0x6+0x21*0xa4)*(0xb05+0x572+-0x1073)+(-0x185d+0x2191+0x1d6*-0x5)]=_0x4cbb30,_0x35d832['colors'][_0x1448e3*(-0x199f*-0x1+-0x1030+-0x96b)*(0x26de+0x224+0x6d5*-0x6)+(-0x3*-0x912+0x67b+-0x21aa)]=-0xf*0x28e+0x2261+0x4f0,_0x35d832['colors'][_0x1448e3*(-0x1dcf+0x854+0x157f*0x1)*(-0x1d3*-0x1+0x1*-0x4ba+-0x1*-0x2eb)+(-0x1*-0x539+-0x1a16+0x14e5)]=_0x20549a,_0x35d832['colors'][_0x1448e3*(-0x7c9*0x5+0xc3a+0x1ab7)*(0xb*-0x303+-0x2113*0x1+0x4238)+(0x1bdf+0x4bc+-0x2*0x1049)]=_0x326843,_0x35d832['colors'][_0x1448e3*(0x1d1b+-0x1ec5*0x1+0x1ae)*(-0x26f6+0x3*0x5b+0x795*0x5)+(0x728+-0x1f8c+-0xc37*-0x2)]=_0x4cbb30,_0x35d832['colors'][_0x1448e3*(-0x125e+-0x1*-0x4b1+-0x1*-0xdb1)*(0x1984+0x977*0x3+-0x35e5)+(-0x19a+0x1*0xa9f+-0x8fa)]=0x20*0x6c+-0x672+-0x1*0x60f,_0x35d832['colors'][_0x1448e3*(0x412+0x1406+-0x4*0x605)*(0x22f8+0x10c7+0x11*-0x30b)+(-0x16fc+0x8f0+-0x16*-0xa4)]=_0x20549a,_0x35d832['colors'][_0x1448e3*(-0xa*-0x38a+0x283*-0x7+-0x11cb)*(-0x1*0x1cd+0x1c0+0x1*0x11)+(-0x1*0x35+-0x21*0x3a+-0x9*-0xdc)]=_0x326843,_0x35d832['colors'][_0x1448e3*(-0x1146+-0xa81+-0x58f*-0x5)*(0x12d+0x2c2*0x1+0x11*-0x3b)+(-0x38f+-0xc8*0xa+0xb6d)]=_0x4cbb30,_0x35d832['colors'][_0x1448e3*(-0xdeb+0x24b7+-0xb64*0x2)*(-0xfb*0x27+0xf40+-0x3*-0x7ab)+(0x51d+-0xdf3*-0x1+-0x1301)]=-0x1*-0x16a+0x685*0x1+-0x6f0,this['_symbolOut'+'lineParams']){const _0x17e415=this['_symbolOut'+'lineParams'][_0x19a3b6]*(0x756+-0x61*-0x3d+-0x5f*0x52);_0x432613=this['_outlinePa'+'lette'][_0x17e415]+this['_outlinePa'+'lette'][_0x17e415+(0xf8*-0x10+0xf0b*-0x1+0x154*0x17)]*(-0x13d2+-0x7*-0x406+-0x3ac*0x2),_0x282eac=this['_outlinePa'+'lette'][_0x17e415+(-0x274*0xd+0x161e+0x4e4*0x2)]+this['_outlinePa'+'lette'][_0x17e415+(0x263a+0x17b5+-0x3dec)]*(0x7aa+-0x262f+-0x1f85*-0x1),_0x42ccb0=this['_outlinePa'+'lette'][_0x17e415+(0x289+0x3*0x6b+-0x1e3*0x2)];}if(_0x35d832['outlines'][_0x1448e3*(0x6cf*-0x1+0x20fe+0xb*-0x261)*(-0xf*-0x10f+0xcb*0x10+-0x1c8e)+(-0x195a+-0x25d7*-0x1+-0x1*0xc7d)]=_0x432613,_0x35d832['outlines'][_0x1448e3*(-0x3*-0x23+-0x1*0x26a8+0x2643)*(-0x1fd*-0x9+0xaa1+0x1c83*-0x1)+(-0x179f*0x1+0x232a+-0xb8a)]=_0x282eac,_0x35d832['outlines'][_0x1448e3*(0x5c5*-0x3+-0x3d6+-0x1*-0x1529)*(0x2ef*0x2+-0x2dc+-0xd*0x3b)+(0x8b6+-0x559*0x1+0x1*-0x35b)]=_0x42ccb0,_0x35d832['outlines'][_0x1448e3*(-0x2094+0x2*-0xc9c+0x39d0)*(-0x1*-0x853+-0x1*-0x789+-0xfd9*0x1)+(-0x2650+-0x3*-0x411+-0x13*-0x160)]=_0x432613,_0x35d832['outlines'][_0x1448e3*(0x1fbd+0x3*0x3be+-0x2af3)*(0xed*0x1f+-0xdf3+0x1*-0xebd)+(-0xb*0x147+-0xd54+-0x1*-0x1b65)]=_0x282eac,_0x35d832['outlines'][_0x1448e3*(-0x973*0x1+-0x1*-0x2599+-0x1c22)*(-0x3*-0xa81+-0x22cc+0x34c)+(-0x204c+-0x792*0x1+0x27e3)]=_0x42ccb0,_0x35d832['outlines'][_0x1448e3*(-0x6fe+0xc5a+-0x558)*(0x1*0x3+-0x679+-0x679*-0x1)+(-0x11a*-0xe+0x434+-0xc1*0x1a)]=_0x432613,_0x35d832['outlines'][_0x1448e3*(-0x169+-0xdbb+0xf28)*(-0x1b91+-0x304*-0x4+-0xc*-0x14b)+(-0x560+0xcf*0xf+-0x2a*0x29)]=_0x282eac,_0x35d832['outlines'][_0x1448e3*(-0x1*0x1c42+0x1339+-0x1*-0x90d)*(-0x1*0x1d4b+0x4*0x5fc+0x2af*0x2)+(0x1b*0x141+0x4e9+-0x26bc)]=_0x42ccb0,_0x35d832['outlines'][_0x1448e3*(-0x273+-0x13f4+0x166b)*(-0x533+0x1cd*0x15+-0x209b)+(0x96*0x4+0x128+-0x377)]=_0x432613,_0x35d832['outlines'][_0x1448e3*(-0xce3*-0x1+0x2*0x10d4+0x2b*-0x115)*(0xbeb*0x1+-0x123f+-0x1*-0x657)+(0x6ad*0x2+-0x107*0x2+0x83*-0x16)]=_0x282eac,_0x35d832['outlines'][_0x1448e3*(-0x95*-0x40+-0x656+-0x1ee6*0x1)*(0x18bd*-0x1+-0x4*-0x896+0x8*-0x133)+(0x131*0x4+0x425+-0x8de)]=_0x42ccb0,this['_symbolSha'+'dowParams']){const _0x54aef0=this['_symbolSha'+'dowParams'][_0x19a3b6]*(-0x5*0x4b8+0x12b6+-0x9d*-0x8);_0x15768b=this['_shadowPal'+'ette'][_0x54aef0]+this['_shadowPal'+'ette'][_0x54aef0+(-0x6*0x57a+-0x1*-0x5f4+-0x1*-0x1ae9)]*(-0x7*-0x11d+0xc*0x1d6+-0x1cd3),_0x422661=this['_shadowPal'+'ette'][_0x54aef0+(-0xcd4+-0x24a1+-0x43*-0xbd)]+this['_shadowPal'+'ette'][_0x54aef0+(-0x285+-0x1*-0x223d+-0x1*0x1fb5)]*(0x258d+0x172f+-0x3bbc),_0x287911=this['_shadowPal'+'ette'][_0x54aef0+(0x26a6+-0xd*0x29f+-0x185*0x3)]+(-0x1*-0x1979+-0x13de+-0x51c)+Math['round'](_0x857f5c*this['_shadowPal'+'ette'][_0x54aef0+(0x1*-0x185+0x8*-0x175+-0x1*-0xd32)]+(-0x3ca*-0xa+0x44f*-0x1+-0x2116))*(-0x1ca*-0xd+0x7a*-0x26+0x12*-0x3b);}_0x35d832['shadows'][_0x1448e3*(-0x374+0x1edf+-0x1b67)*(0x7*-0x335+-0x1*0x15+0x168b)+(0x1d7b*-0x1+-0x1038+-0x1*-0x2db3)]=_0x15768b,_0x35d832['shadows'][_0x1448e3*(-0x5*0x592+-0x2208+0x26*0x1a1)*(0x48c+0x1df9+0x2282*-0x1)+(-0x843+-0x2*-0x974+-0xaa4)]=_0x422661,_0x35d832['shadows'][_0x1448e3*(0x1706+0xf83+-0x13*0x207)*(0x89f+-0x2329+0x1a8d)+(-0x1f70*0x1+0x1707+0x86b)]=_0x287911,_0x35d832['shadows'][_0x1448e3*(0x2309+0x56e+-0x2873*0x1)*(0x14e7+-0x1aa7+0x5c3)+(0xad9+-0x2698+-0x26*-0xbb)]=_0x15768b,_0x35d832['shadows'][_0x1448e3*(0xc0d*-0x1+0x8c3*0x3+-0xe38)*(-0xd7d+-0x1*-0xea3+-0x123)+(0x2*0xc82+0x1*-0x5de+0x1322*-0x1)]=_0x422661,_0x35d832['shadows'][_0x1448e3*(-0x3a*-0x2b+-0xa8a+0x1a*0x8)*(0x1*0x3a8+-0x1*0xcae+0x909)+(0x10*-0x17b+-0x2*-0x11b7+-0xbb9)]=_0x287911,_0x35d832['shadows'][_0x1448e3*(-0xe9e+0x1*-0x18c2+0x1*0x2764)*(-0x7*0x307+0x1425+0x10f*0x1)+(0x3a*0x56+-0x4d*0x25+-0x855)]=_0x15768b,_0x35d832['shadows'][_0x1448e3*(-0x494+-0x43f+0x1*0x8d7)*(0x67c+0x183f+-0x1eb8)+(-0xab*-0x35+-0x1b77*-0x1+-0x3ed7)]=_0x422661,_0x35d832['shadows'][_0x1448e3*(-0x5b5+-0x1*0x4dd+-0xa*-0x10f)*(0x1c1b*-0x1+-0x12d+0x1d4b)+(0xf1e+0x1b29+0x69*-0x67)]=_0x287911,_0x35d832['shadows'][_0x1448e3*(0x72d*-0x3+0x1e13+-0x888)*(0x81c+0xbe*-0x13+0x601)+(-0x1e6c+0xb26+0x134f)]=_0x15768b,_0x35d832['shadows'][_0x1448e3*(-0x1933+0x3b*-0x65+0x307e)*(-0x184a+-0x14d+0x199a)+(-0x1319*0x2+0x1915+0xd27)]=_0x422661,_0x35d832['shadows'][_0x1448e3*(-0xfd7*-0x1+-0x123a+-0x5*-0x7b)*(-0xd4+0x3a+-0x9d*-0x1)+(0x6bd*-0x5+-0x5*0x1e9+0x2b49)]=_0x287911,_0x35d832['quad']++;}_0xbcd2bb||_0x4aa49e<_0x39ebb0&&_0x38d16c(this['_symbols'],_0x39ebb0,_0x300390);}this['_noResize']=!(-0x1ada+0x738+0x13a2),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(0x6*0x492+-0x4a*0x37+-0xb85);const _0x142247=this['_element']['pivot']['x'],_0x4285fa=this['_element']['pivot']['y'],_0x4ac8f6=this['_alignment']['x'],_0x59e29c=this['_alignment']['y'];for(let _0x4d837f=0x93*0x33+0x26ed+-0x4436;_0x4d837f<this['_meshInfo']['length'];_0x4d837f++){if(this['_meshInfo'][_0x4d837f]['count']===-0xb3*-0x11+-0x1459*0x1+0x876)continue;let _0x4237eb=-0x56f*-0x1+-0xea6+-0x151*-0x7;for(const _0x5acde9 in this['_meshInfo'][_0x4d837f]['lines']){const _0x499afa=this['_meshInfo'][_0x4d837f]['lines'][_0x5acde9],_0x3fcc0b=this['_lineWidth'+'s'][parseInt(_0x5acde9,0x1c01*0x1+-0x15e6*0x1+-0x611)],_0x45dab1=-_0x142247*this['_element']['calculated'+'Width']+_0x4ac8f6*(this['_element']['calculated'+'Width']-_0x3fcc0b)*(this['_rtl']?-(0x6b*-0x2+0x17e9+-0xb89*0x2):-0x566*-0x2+0x2*-0x22+-0x181*0x7),_0x87f435=(-0x80f*-0x2+0x2*0x913+-0x2243-_0x4285fa)*this['_element']['calculated'+'Height']-_0x53de62-(0x9c5+-0xc9+-0x8fb-_0x59e29c)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x2c3c11=_0x4237eb;_0x2c3c11<=_0x499afa;_0x2c3c11++)this['_meshInfo'][_0x4d837f]['positions'][_0x2c3c11*(-0x12fa+-0x394*0x5+0x1*0x24e2)*(0x1ef5*-0x1+0x3ee*0x7+-0x2*-0x1bb)]+=_0x45dab1,this['_meshInfo'][_0x4d837f]['positions'][_0x2c3c11*(-0x181c+-0x1*0xb1d+0x233d)*(-0xaec+-0x6a8+0x1197)+(-0x77*0x20+-0xc63*-0x2+-0x9e3)]+=_0x45dab1,this['_meshInfo'][_0x4d837f]['positions'][_0x2c3c11*(0x7*0x2d1+-0x1*0x1b14+-0x1*-0x761)*(-0x1ff6+-0x55f+0x2558)+(0x209*-0x9+-0x1f22*0x1+0x3179)]+=_0x45dab1,this['_meshInfo'][_0x4d837f]['positions'][_0x2c3c11*(-0x1875+0x1*0x6d3+0x11a6)*(0x1aed+0x2de*-0x3+-0x1250)+(-0xde7*0x1+-0x21f0+-0x2fe0*-0x1)]+=_0x45dab1,this['_meshInfo'][_0x4d837f]['positions'][_0x2c3c11*(0x66*-0x4e+-0x939*-0x2+-0x653*-0x2)*(-0x13cf+0xd2d*-0x2+0x2e2c)+(0x10cd+-0x788*-0x4+-0x9c*0x4d)]+=_0x87f435,this['_meshInfo'][_0x4d837f]['positions'][_0x2c3c11*(-0x1a6+-0x1da0+0x1f4a)*(0xa7+-0xd6*0x26+0x1f20)+(0x3a8*-0x3+0x7da+0x322)]+=_0x87f435,this['_meshInfo'][_0x4d837f]['positions'][_0x2c3c11*(0x1*-0x1ecb+-0x254f+0x441e)*(0x1*0x1721+0x1685+-0x2da3)+(-0x6*0x52+0x2*0x43+-0x16d*-0x1)]+=_0x87f435,this['_meshInfo'][_0x4d837f]['positions'][_0x2c3c11*(0xc56+0xf2d+-0x1*0x1b7f)*(0xef4+-0x2627*0x1+-0x2*-0xb9b)+(-0x1*0x25db+0x1826+0x9*0x187)]+=_0x87f435;if(this['_rtl'])for(let _0x41b4da=_0x4237eb;_0x41b4da<=_0x499afa;_0x41b4da++){const _0x5de8c7=_0x41b4da*(-0x2228+0x679*0x3+0xec1*0x1)*(0x11*-0x165+-0xc7e+0x2436);for(let _0xebb465=-0x2*-0x121a+-0x2267+-0x1cd;_0xebb465<-0x1c3a+-0x1*-0x1855+0x3e9;++_0xebb465)this['_meshInfo'][_0x4d837f]['positions'][_0x5de8c7+_0xebb465*(-0x11c9+-0x2*0xce3+0xb*0x3f6)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x4d837f]['positions'][_0x5de8c7+_0xebb465*(0x5*-0x27b+0x7b1+-0x1*-0x4b9)]+_0x45dab1*(0x1b20+0x1*0x499+-0x1fb7);const _0x47279e=this['_meshInfo'][_0x4d837f]['positions'][_0x5de8c7+(-0x6*-0x481+0x3*0x8d6+-0x1*0x3585)],_0x57e127=this['_meshInfo'][_0x4d837f]['positions'][_0x5de8c7+(-0x127*-0xd+0x5*-0x483+0x79a)];this['_meshInfo'][_0x4d837f]['positions'][_0x5de8c7+(-0x24c9+0x3*0x4cb+-0x779*-0x3)]=this['_meshInfo'][_0x4d837f]['positions'][_0x5de8c7+(0x2*0xc11+0x24f9+-0x3d1b)],this['_meshInfo'][_0x4d837f]['positions'][_0x5de8c7+(0x1c8b+0xd72+0xdfd*-0x3)]=this['_meshInfo'][_0x4d837f]['positions'][_0x5de8c7+(-0x1b85+-0x6de*0x3+-0x8*-0x605)],this['_meshInfo'][_0x4d837f]['positions'][_0x5de8c7+(-0x2*0x32c+-0x1740+0x1d98)]=_0x47279e,this['_meshInfo'][_0x4d837f]['positions'][_0x5de8c7+(0x4a*-0xf+0x2498+-0x2039)]=_0x57e127;}_0x4237eb=_0x499afa+(0x1*-0x15b+-0x1*-0x677+0x51b*-0x1);}const _0x39a15f=this['_meshInfo'][_0x4d837f]['count']*(0x1*-0x24b1+0x13d9+0x34*0x53),_0x4dfa71=this['_meshInfo'][_0x4d837f]['quad']*(0x379+0x25e5+0x9e*-0x43),_0x86ec52=new Uo(this['_meshInfo'][_0x4d837f]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0x3068c4=0x5b*-0x6b+-0x13aa+-0x39b3*-0x1;_0x3068c4<_0x39a15f;_0x3068c4++)_0x3068c4>=_0x4dfa71?(_0x86ec52['element'][Me]['set'](0x780+0x6*-0x543+-0xd*-0x1da,0x2*-0x59e+0x206f+-0x9*0x25b,0x1*-0x78e+0x1d4c+0x79*-0x2e),_0x86ec52['element'][is]['set'](0x4bc+0x4f3*0x3+0x22d*-0x9,-0x8e9+0x885+0x64*0x1),_0x86ec52['element'][Wt]['set'](-0x231a+0x121*0x1d+0x37*0xb,-0xb80+-0xf5a+-0x3d6*-0x7,0x76*0x36+-0x1bcf+0x1*0x2eb,-0xbee+-0x1f0a+0xfa*0x2c),_0x86ec52['element'][Ko]['set'](-0x6*-0x5ff+0x22c6+-0x46c0,-0x11*0x1f+-0x1*-0x2609+-0x23fa,0xde+-0x23d0+-0xba6*-0x3,-0x1b6+0x1a1*-0x9+0x105f),_0x86ec52['element'][Zo]['set'](-0xe6+-0x1b*0x55+0x9dd,-0x1*-0x2501+0x1abf+0xa0*-0x66,0x3*-0x8aa+0x2*-0x1173+-0x1*-0x3ce4,0x2665*-0x1+-0xbbb+0x1*0x3220)):(_0x86ec52['element'][Me]['set'](this['_meshInfo'][_0x4d837f]['positions'][_0x3068c4*(0xa8b*-0x1+-0x2236+0x2cc4)+(-0x401+-0xedc+-0xb*-0x1b7)],this['_meshInfo'][_0x4d837f]['positions'][_0x3068c4*(-0x1*-0x1703+0x23*-0x101+0xc23)+(0x4*-0x6e3+0xeaf+0xcde)],this['_meshInfo'][_0x4d837f]['positions'][_0x3068c4*(-0x4d8+0x2365+0x1*-0x1e8a)+(-0x2664+-0x12d8+0x2*0x1c9f)]),_0x86ec52['element'][is]['set'](this['_meshInfo'][_0x4d837f]['uvs'][_0x3068c4*(-0x1b*0x9f+-0x2*-0x25c+0x93*0x15)+(0x1f8a+-0xca7+-0x12e3*0x1)],this['_meshInfo'][_0x4d837f]['uvs'][_0x3068c4*(0x1675*0x1+-0x58b*0x1+-0x10e8)+(-0x11fd+0x126f+0x1*-0x71)]),_0x86ec52['element'][Wt]['set'](this['_meshInfo'][_0x4d837f]['colors'][_0x3068c4*(0xfe1+0xe0d*0x1+0x1dea*-0x1)+(0x1*-0x1813+-0x1*-0x48d+0x1386)],this['_meshInfo'][_0x4d837f]['colors'][_0x3068c4*(-0x24da+0x1*0x215b+0x383)+(0x145+0x24dd+-0x2621*0x1)],this['_meshInfo'][_0x4d837f]['colors'][_0x3068c4*(0xce*0x8+-0x2352+0x1ce6)+(0x115e+0x1eef+0x27*-0x13d)],this['_meshInfo'][_0x4d837f]['colors'][_0x3068c4*(0x1bb*-0xd+0x21bd+-0xb3a)+(0x1*-0x2279+-0x1696+0x3912)]),_0x86ec52['element'][Ko]['set'](this['_meshInfo'][_0x4d837f]['outlines'][_0x3068c4*(-0x1*-0x99a+-0x1364+0x9cd)+(-0x1146+-0x198a+0x2ad0)],this['_meshInfo'][_0x4d837f]['outlines'][_0x3068c4*(0x1e38+-0x715+-0x1720)+(0xa5*-0x4+0xc4e+-0x9b9*0x1)],this['_meshInfo'][_0x4d837f]['outlines'][_0x3068c4*(0x22*-0xfb+0x10ae+0x10ab)+(-0x4f0+0xb29+-0x637*0x1)]),_0x86ec52['element'][Zo]['set'](this['_meshInfo'][_0x4d837f]['shadows'][_0x3068c4*(-0x70b*-0x3+-0xe2f+-0x6ef)+(-0x10*0x89+0xf62+-0x6d2*0x1)],this['_meshInfo'][_0x4d837f]['shadows'][_0x3068c4*(-0x1793+-0x3f4+0x1b8a)+(0x1436+0x13*-0x139+0x306)],this['_meshInfo'][_0x4d837f]['shadows'][_0x3068c4*(0x1f9a+0x1*-0xb33+-0x1464)+(0x1574+-0x127*0x5+-0xfaf)])),_0x86ec52['next']();_0x86ec52['end'](),this['_meshInfo'][_0x4d837f]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x4d837f]['positions']),this['_meshInfo'][_0x4d837f]['meshInstan'+'ce']['_aabbVer']=-(-0x1*0x1af0+-0x1*0x2011+0x3b02);}this['_aabbDirty']=!(-0x24c3+0x1bb1+0x2*0x489);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x37d2ec){this['font']!==_0x37d2ec['resource']&&(this['font']=_0x37d2ec['resource']);}['_onFontCha'+'nge'](_0x4eb564,_0x806234,_0x38783f,_0x523532){if(_0x806234==='data'){this['_font']['data']=_0x38783f;const _0x2c4e75=this['_font']['data']['info']['maps']['length'];for(let _0xf45ac2=0x5*-0x19c+-0x1*0x2561+0x2d6d;_0xf45ac2<_0x2c4e75;_0xf45ac2++){if(!this['_meshInfo'][_0xf45ac2])continue;const _0x20d9d9=this['_meshInfo'][_0xf45ac2]['meshInstan'+'ce'];_0x20d9d9&&(_0x20d9d9['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x20d9d9['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x20d9d9['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0xf45ac2]['width']));}}}['_onFontRem'+'ove'](_0x137dba){}['_setTextur'+'eParams'](_0x18647d,_0x3b10c0){this['_font']&&(this['_font']['type']===Rh?(_0x18647d['deletePara'+'meter']('texture_em'+'issiveMap'),_0x18647d['deletePara'+'meter']('texture_op'+'acityMap'),_0x18647d['setParamet'+'er']('texture_ms'+'dfMap',_0x3b10c0)):this['_font']['type']===dR&&(_0x18647d['deletePara'+'meter']('texture_ms'+'dfMap'),_0x18647d['setParamet'+'er']('texture_em'+'issiveMap',_0x3b10c0),_0x18647d['setParamet'+'er']('texture_op'+'acityMap',_0x3b10c0)));}['_getPxRang'+'e'](_0x1d2a5a){const _0x10b6db=Object['keys'](this['_font']['data']['chars']);for(let _0x2f733c=-0xc*-0x70+0x11*-0xa3+0x593;_0x2f733c<_0x10b6db['length'];_0x2f733c++){const _0x35437c=this['_font']['data']['chars'][_0x10b6db[_0x2f733c]];if(_0x35437c['range'])return(_0x35437c['scale']||-0x431+-0x1482+-0x20f*-0xc)*_0x35437c['range'];}return-0x4e7+0xc+0x4dd;}['_getUv'](_0x5d1cea){const _0x1858f5=this['_font']['data'];if(!_0x1858f5['chars'][_0x5d1cea])return _0x1858f5['chars']['\x20']?this['_getUv']('\x20'):[-0x17f*0x19+0x3*0xc95+0xb*-0x8,-0x1*-0x9aa+-0x5*-0x78d+0x3d*-0xc7,-0x24*-0x97+0x1*-0x611+-0xf2b,0x14c1+0x321+-0x1*0x17e2];const _0x5c0dfe=_0x1858f5['chars'][_0x5d1cea]['map'],_0x1e4aba=_0x1858f5['info']['maps'][_0x5c0dfe]['width'],_0xb16488=_0x1858f5['info']['maps'][_0x5c0dfe]['height'],_0x418b1c=_0x1858f5['chars'][_0x5d1cea]['x'],_0x48f182=_0x1858f5['chars'][_0x5d1cea]['y'],_0xb1b7d6=_0x418b1c,_0x102a7d=_0x48f182,_0x2c9f8d=_0x418b1c+_0x1858f5['chars'][_0x5d1cea]['width'],_0x32c6a1=_0x48f182-_0x1858f5['chars'][_0x5d1cea]['height'],_0x3654b8=-0x3*0xb6f+-0x68c+0x245*0x12-_0x1858f5['chars'][_0x5d1cea]['height']/_0xb16488;return[_0xb1b7d6/_0x1e4aba,_0x3654b8-_0x102a7d/_0xb16488,_0x2c9f8d/_0x1e4aba,_0x3654b8-_0x32c6a1/_0xb16488];}['onEnable'](){this['_fontAsset']['autoLoad']=!(0x1*0x47+0x601+-0x2*0x324),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(-0x509*0x5+0x225f+-0x931),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x433b88){if(this['_model']){const _0x1f6635=this['_model']['meshInstan'+'ces'];for(let _0x51c83a=0x215f*-0x1+0x7c2+0x199d*0x1;_0x51c83a<_0x1f6635['length'];_0x51c83a++)_0x1f6635[_0x51c83a]['stencilFro'+'nt']=_0x433b88,_0x1f6635[_0x51c83a]['stencilBac'+'k']=_0x433b88;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x299150){const _0x46ff1d={};_0x299150===void(-0x2638+-0x909+0x2f41)&&(_0x299150=this['_symbols']['length']);for(let _0x56c79d=-0x3e3+-0x12a3+0x1686,_0x411cbf=_0x299150;_0x56c79d<_0x411cbf;_0x56c79d++){const _0xea982=this['_symbols'][_0x56c79d];let _0x1a9a7f=this['_font']['data']['chars'][_0xea982];_0x1a9a7f||(_0x1a9a7f=this['_font']['data']['chars']['\x20'],_0x1a9a7f||(_0x1a9a7f=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[-0xe5f+0x1*-0x209a+-0x965*-0x5]]));const _0x2fb922=_0x1a9a7f['map'];_0x46ff1d[_0x2fb922]?_0x46ff1d[_0x2fb922]++:_0x46ff1d[_0x2fb922]=0x166f+-0x5b5+-0x593*0x3;}return _0x46ff1d;}['_updateRen'+'derRange'](){const _0x3f1f64=this['_rangeStar'+'t']===0x14d2+-0x672+-0xa0*0x17?-0xe8*0xf+0x38f*0x8+-0x11*0xe0:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0x4f88b1=this['_rangeEnd']===-0x20fd+-0xf3*-0x2+0x1f17?0xda3+0xa3d+0x10*-0x17e:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x1c7de6=0x2*0x1323+0x8*-0x3e6+-0x716,_0x19f6d1=this['_meshInfo']['length'];_0x1c7de6<_0x19f6d1;_0x1c7de6++){const _0x3f1e9e=_0x3f1f64[_0x1c7de6]||0x1bcc+0x43b+0x9*-0x38f,_0x225298=_0x4f88b1[_0x1c7de6]||0x327*-0x3+-0x6*0x192+0xb3*0x1b,_0x3231da=this['_meshInfo'][_0x1c7de6]['meshInstan'+'ce'];if(_0x3231da){const _0xea5b42=_0x3231da['mesh'];_0xea5b42&&(_0xea5b42['primitive'][-0x1*-0x129e+0xa9*0x27+-0x2c5d]['base']=_0x3f1e9e*(-0x1*-0x15c9+0x1*0x18e6+-0x2eac)*(-0x96*0x36+0x2042*-0x1+0x3fe8),_0xea5b42['primitive'][0x2262+0x2f4+-0x2556]['count']=(_0x225298-_0x3f1e9e)*(-0x16ab+-0xe51+0x1c3*0x15)*(-0x2199+0x1713+0x151*0x8));}}}set['text'](_0x4dd082){this['_i18nKey']=null;const _0xeaa5c5=_0x4dd082!=null&&_0x4dd082['toString']()||'';this['_setText'](_0xeaa5c5);}get['text'](){return this['_text'];}set['key'](_0x3cf985){const _0x5eca03=_0x3cf985!==null?_0x3cf985['toString']():null;this['_i18nKey']!==_0x5eca03&&(this['_i18nKey']=_0x5eca03,_0x5eca03?(this['_fontAsset']['disableLoc'+'alization']=!(-0x1*-0x1b6b+0x17db+-0x3345*0x1),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(0x17bb+0x8fd+-0x20b8));}get['key'](){return this['_i18nKey'];}set['color'](_0x559666){const _0x1c942f=_0x559666['r'],_0x2473c2=_0x559666['g'],_0x234d75=_0x559666['b'];if(this['_color']===_0x559666&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x1c942f&&this['_color']['g']===_0x2473c2&&this['_color']['b']===_0x234d75)&&(this['_color']['r']=_0x1c942f,this['_color']['g']=_0x2473c2,this['_color']['b']=_0x234d75,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_color']),this['_colorUnif'+'orm'][-0x26e7*-0x1+-0xec8+-0x181f]=We['r'],this['_colorUnif'+'orm'][-0x6b2+-0x501+-0x6b*-0x1c]=We['g'],this['_colorUnif'+'orm'][-0x109c+0x1*0x11d1+-0x1*0x133]=We['b'];for(let _0x50f4cc=-0x1901+-0x1*0x23b6+0xb*0x585,_0x39ef36=this['_model']['meshInstan'+'ces']['length'];_0x50f4cc<_0x39ef36;_0x50f4cc++)this['_model']['meshInstan'+'ces'][_0x50f4cc]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x5c33e3){if(this['_color']['a']!==_0x5c33e3&&(this['_color']['a']=_0x5c33e3,this['_model'])){for(let _0x174429=0x19c3+0x1d3c*-0x1+-0x1*-0x379,_0x4763a1=this['_model']['meshInstan'+'ces']['length'];_0x174429<_0x4763a1;_0x174429++)this['_model']['meshInstan'+'ces'][_0x174429]['setParamet'+'er']('material_o'+'pacity',_0x5c33e3);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x5c33e3);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x4a54b1){const _0x432f5e=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x4a54b1,this['_scaledLin'+'eHeight']=_0x4a54b1,_0x432f5e!==_0x4a54b1&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0x485c28){const _0xcb5380=this['_wrapLines'];this['_wrapLines']=_0x485c28,_0xcb5380!==_0x485c28&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x49a538){const _0x23607e=this['_spacing'];this['_spacing']=_0x49a538,_0x23607e!==_0x49a538&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x153ca0){const _0x3d80ab=this['_fontSize'];this['_fontSize']=_0x153ca0,this['_originalF'+'ontSize']=_0x153ca0,_0x3d80ab!==_0x153ca0&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x5ad55f){this['_fontAsset']['defaultAss'+'et']=_0x5ad55f;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0x4748a1){let _0x3df6f6;if(this['_font']&&(_0x3df6f6=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0x4748a1,this['_fontMinY']=0xe76+0xb69*0x2+-0x2548,this['_fontMaxY']=-0xeab+-0x1*0x132d+0x21d8,!_0x4748a1)return;const _0x405917=this['_font']['data'];for(const _0x2d8b1d in _0x405917['chars']){const _0x34b963=_0x405917['chars'][_0x2d8b1d];_0x34b963['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x34b963['bounds'][0x3b2+-0x15c7+0x1216]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x34b963['bounds'][-0xb1+-0x6cc+-0x8*-0xf0]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0x4748a1['type']!==_0x3df6f6){const _0x525e6b=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x525e6b);}for(let _0x2c0967=0x265+-0x1*0x14bd+0x1258,_0x272621=this['_font']['textures']['length'];_0x2c0967<_0x272621;_0x2c0967++)if(!this['_meshInfo'][_0x2c0967])this['_meshInfo'][_0x2c0967]=new vR();else{const _0x24ec55=this['_meshInfo'][_0x2c0967]['meshInstan'+'ce'];_0x24ec55&&(_0x24ec55['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x24ec55['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x24ec55['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x2c0967]['width']),this['_setTextur'+'eParams'](_0x24ec55,this['_font']['textures'][_0x2c0967]));}let _0x5697d5=!(-0x1*-0x2377+0x1b05*0x1+-0x3e7b);for(let _0x4efa26=this['_font']['textures']['length'];_0x4efa26<this['_meshInfo']['length'];_0x4efa26++)this['_meshInfo'][_0x4efa26]['meshInstan'+'ce']&&(_0x5697d5||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x5697d5=!(-0x2547+0x23c8+-0x17f*-0x1)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x4efa26]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x27d2cd){_0x27d2cd instanceof J?this['_alignment']['set'](_0x27d2cd['x'],_0x27d2cd['y']):this['_alignment']['set'](_0x27d2cd[-0x1780+-0x3*0x373+0x21d9*0x1],_0x27d2cd[0x1bf7*0x1+-0xd*0xb+-0x1b67]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x3a3d1c){const _0x4ca4fb=this['_autoWidth'];if(this['_autoWidth']=_0x3a3d1c,_0x3a3d1c&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<-0x37*-0x25+-0x1ab1+0x2*0x95f+0.0001&&(this['_element']['width']=this['width']),_0x4ca4fb!==_0x3a3d1c){const _0x3f941e=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x3f941e!==this['_fontSize']&&(this['_fontSize']=_0x3f941e,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x51e64f){const _0x58a43d=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x51e64f,_0x51e64f&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<0x28*0x98+-0xcae+0xda*-0xd+0.0001&&(this['_element']['height']=this['height']),_0x58a43d!==_0x51e64f){const _0x572fa3=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x572fa3!==this['_fontSize']&&(this['_fontSize']=_0x572fa3,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x326505){this['_rtlReorde'+'r']!==_0x326505&&(this['_rtlReorde'+'r']=_0x326505,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x521a19){this['_unicodeCo'+'nverter']!==_0x521a19&&(this['_unicodeCo'+'nverter']=_0x521a19,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x20cf3a=!(0x2052+0x110+-0x2161);for(let _0x78f2ab=-0x1*0x2663+-0x5*-0x69d+0x552;_0x78f2ab<this['_meshInfo']['length'];_0x78f2ab++)this['_meshInfo'][_0x78f2ab]['meshInstan'+'ce']&&(_0x20cf3a?this['_aabb']['add'](this['_meshInfo'][_0x78f2ab]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x78f2ab]['meshInstan'+'ce']['aabb']),_0x20cf3a=!(-0xbd9+-0xb8a*-0x1+0x4f)));this['_aabbDirty']=!(-0x104d+-0x105d*0x1+0x20ab*0x1);}return this['_aabb'];}set['outlineCol'+'or'](_0x14701b){const _0xd8ce35=_0x14701b instanceof ie?_0x14701b['r']:_0x14701b[0x4*-0x60a+-0xf67+0x278f],_0x3cb878=_0x14701b instanceof ie?_0x14701b['g']:_0x14701b[-0x1fbe+0xdc6+0x11f9],_0x16667a=_0x14701b instanceof ie?_0x14701b['b']:_0x14701b[-0x1cd5+0x219*0x8+0x9*0x157],_0x19cbd9=_0x14701b instanceof ie?_0x14701b['a']:_0x14701b[-0x987+0x1*0x1532+-0xba8];if(this['_outlineCo'+'lor']===_0x14701b&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0xd8ce35&&this['_outlineCo'+'lor']['g']===_0x3cb878&&this['_outlineCo'+'lor']['b']===_0x16667a&&this['_outlineCo'+'lor']['a']===_0x19cbd9)&&(this['_outlineCo'+'lor']['r']=_0xd8ce35,this['_outlineCo'+'lor']['g']=_0x3cb878,this['_outlineCo'+'lor']['b']=_0x16667a,this['_outlineCo'+'lor']['a']=_0x19cbd9,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0x1*-0x1273+-0x1*0x25b3+0x3826]=We['r'],this['_outlineCo'+'lorUniform'][0x46c*0x1+0x2f3+-0x75e]=We['g'],this['_outlineCo'+'lorUniform'][0x19df*0x1+0x4c6+-0x1ea3*0x1]=We['b'],this['_outlineCo'+'lorUniform'][-0x1*-0x1454+-0xcd2+-0x77f]=We['a'];for(let _0x49679a=-0x1*0x4a0+-0x1*-0x19ae+-0x62*0x37,_0x5dbb85=this['_model']['meshInstan'+'ces']['length'];_0x49679a<_0x5dbb85;_0x49679a++)this['_model']['meshInstan'+'ces'][_0x49679a]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x5e1788){const _0x349943=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x5e1788,_0x349943!==_0x5e1788&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x2b73f0=-0x3*0xb2d+-0x19*0xc9+-0x8dc*-0x6,_0x21ec80=this['_model']['meshInstan'+'ces']['length'];_0x2b73f0<_0x21ec80;_0x2b73f0++)this['_model']['meshInstan'+'ces'][_0x2b73f0]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0x11cab6){const _0x5bb98e=_0x11cab6 instanceof ie?_0x11cab6['r']:_0x11cab6[0x1c62+-0xa*-0x107+-0x26a8],_0x47788d=_0x11cab6 instanceof ie?_0x11cab6['g']:_0x11cab6[0x1248+0x425*0x2+0x8db*-0x3],_0x25c7b7=_0x11cab6 instanceof ie?_0x11cab6['b']:_0x11cab6[0x268f+0xc7f*-0x1+-0x2*0xd07],_0xde535f=_0x11cab6 instanceof ie?_0x11cab6['a']:_0x11cab6[-0x1*0x21ad+0x103c+0x1174];if(this['_shadowCol'+'or']===_0x11cab6&&w['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x5bb98e&&this['_shadowCol'+'or']['g']===_0x47788d&&this['_shadowCol'+'or']['b']===_0x25c7b7&&this['_shadowCol'+'or']['a']===_0xde535f)&&(this['_shadowCol'+'or']['r']=_0x5bb98e,this['_shadowCol'+'or']['g']=_0x47788d,this['_shadowCol'+'or']['b']=_0x25c7b7,this['_shadowCol'+'or']['a']=_0xde535f,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0x20e*-0x4+0x3a7*-0x3+0x2bd]=We['r'],this['_shadowCol'+'orUniform'][-0x85b*0x2+-0x6*-0x76+0x1*0xdf3]=We['g'],this['_shadowCol'+'orUniform'][0x168b*0x1+-0x1ec8+0x83f]=We['b'],this['_shadowCol'+'orUniform'][-0x2033*0x1+-0x67c*-0x6+-0x1*0x6b2]=We['a'];for(let _0xac2d46=-0x2*0x1134+0x621*-0x1+0xd83*0x3,_0x41762f=this['_model']['meshInstan'+'ces']['length'];_0xac2d46<_0x41762f;_0xac2d46++)this['_model']['meshInstan'+'ces'][_0xac2d46]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0x43911b){const _0x3d36d1=_0x43911b instanceof J?_0x43911b['x']:_0x43911b[0x39d*-0x2+-0x1fd4+0x270e],_0x56affb=_0x43911b instanceof J?_0x43911b['y']:_0x43911b[-0x1*0x8db+-0x243*0x6+0x166e];if(!(this['_shadowOff'+'set']['x']===_0x3d36d1&&this['_shadowOff'+'set']['y']===_0x56affb)&&(this['_shadowOff'+'set']['set'](_0x3d36d1,_0x56affb),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0x527ad0=0x2*0xc41+-0x2667+0x1*0xde5,_0x2c06da=this['_model']['meshInstan'+'ces']['length'];_0x527ad0<_0x2c06da;_0x527ad0++){const _0x489e99=-this['_font']['data']['info']['maps'][_0x527ad0]['width']/this['_font']['data']['info']['maps'][_0x527ad0]['height'];this['_shadowOff'+'setUniform'][-0x1d6+-0x1357+0x152d]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x25b8+-0x15d2+0x139*-0xd]=_0x489e99*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0x527ad0]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x15ba3a){this['_minFontSi'+'ze']!==_0x15ba3a&&(this['_minFontSi'+'ze']=_0x15ba3a,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x2245df){this['_maxFontSi'+'ze']!==_0x2245df&&(this['_maxFontSi'+'ze']=_0x2245df,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x164b30){this['_autoFitWi'+'dth']!==_0x164b30&&(this['_autoFitWi'+'dth']=_0x164b30,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x25a246){this['_autoFitHe'+'ight']!==_0x25a246&&(this['_autoFitHe'+'ight']=_0x25a246,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x3d98a1){this['_maxLines']!==_0x3d98a1&&(_0x3d98a1===null&&this['_maxLines']===-(0x96+-0x2046+0x7*0x487)||(this['_maxLines']=_0x3d98a1===null?-(-0x58+0x269*0x3+-0x1*0x6e2):_0x3d98a1,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x4e377d){if(_0x4e377d=!!_0x4e377d,this['_enableMar'+'kup']===_0x4e377d)return;this['_enableMar'+'kup']=_0x4e377d,this['font']&&this['_updateTex'+'t']();const _0x534d83=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x534d83);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x528d01){return this['_colorPale'+'tte']['slice'](_0x528d01*(-0x1*-0x296+0x114c+0x1*-0x13df),_0x528d01*(0xae6+0x541+-0x1024)+(-0x34*-0xb0+0x10d8+-0x3495));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x55fe87){return this['_outlinePa'+'lette']['slice'](_0x55fe87*(-0x1f4*0x3+0x977*-0x3+0x2246),_0x55fe87*(-0x5fb*-0x1+-0x254a+-0x5*-0x644)+(0xbf4+0x23f+-0xe2e));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x44db56){return this['_shadowPal'+'ette']['slice'](_0x44db56*(0x13*0x86+-0xd*0x2db+0x1b33),_0x44db56*(0x1*-0x22+0x71*0x5+-0x20d)+(-0x4cd*-0x4+-0x1*-0x501+-0x182f));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x66f54e){_0x66f54e=Math['max'](0x7f4+-0x1*-0x1348+-0x1b3c,Math['min'](_0x66f54e,this['_symbols']['length'])),_0x66f54e!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x66f54e,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x3df4d8){_0x3df4d8=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x3df4d8,this['_symbols']['length'])),_0x3df4d8!==this['_rangeEnd']&&(this['_rangeEnd']=_0x3df4d8,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Ef=new D(),Zg=new te(),Pi=new D(),MR=new D(),ws=new te(),bc=new te(),Ac=new te(),$a=new te();class hs extends we{constructor(_0x3e03a8,_0xb8994b){super(_0x3e03a8,_0xb8994b),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(0x16e*-0xe+0xd*-0x1a+-0x1*-0x1557),this['_anchor']=new re(),this['_localAnch'+'or']=new re(),this['_pivot']=new J(),this['_width']=this['_calculate'+'dWidth']=-0x4cd+0x139*-0x13+-0x8*-0x385,this['_height']=this['_calculate'+'dHeight']=-0x4c*-0x6a+-0x1239+-0xd1f*0x1,this['_margin']=new re(0xb4+0x110c+-0x11c0,0x1ed5+-0x1c35+-0x2a0,-(-0x25d8+0x16bc+0xf3c),-(-0x18b1+-0x2ea+0x1bbb)),this['_modelTran'+'sform']=new te(),this['_screenToW'+'orld']=new te(),this['_anchorTra'+'nsform']=new te(),this['_anchorDir'+'ty']=!(-0x133b+-0x1dbd+0x30f8),this['_parentWor'+'ldTransfor'+'m']=new te(),this['_screenTra'+'nsform']=new te(),this['_screenCor'+'ners']=[new D(),new D(),new D(),new D()],this['_canvasCor'+'ners']=[new J(),new J(),new J(),new J()],this['_worldCorn'+'ers']=[new D(),new D(),new D(),new D()],this['_cornersDi'+'rty']=!(-0x1fe7+-0x377+0x235e),this['_canvasCor'+'nersDirty']=!(0x12*-0xf2+0xdd5+-0x5*-0xa3),this['_worldCorn'+'ersDirty']=!(-0x127a+0x1920+-0x353*0x2),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=eh,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=-0x15*0x17f+0x30*-0x79+0x361b,this['_fitMode']=th,this['_useInput']=!(0x221d+0x5*-0x567+-0x4f*0x17),this['_layers']=[Il],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(-0x1284+-0x563+0x88*0x2d),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=0x1*-0x1077+-0xff9+0x2070,this['_maskOffse'+'t']=-0x1c3d*-0x1+-0x4*0x751+0x107+0.5,this['_maskedBy']=null);}get['data'](){const _0x1d9f17=this['system']['store'][this['entity']['getGuid']()];return _0x1d9f17?_0x1d9f17['data']:null;}set['enabled'](_0x690486){const _0xfc95f9=this['data'],_0x3c8c95=_0xfc95f9['enabled'];_0xfc95f9['enabled']=_0x690486,this['fire']('set','enabled',_0x3c8c95,_0x690486);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>0x1*-0x252e+-0x2c4*0xd+-0x17*-0x32e+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>-0x1063+0x20c3+-0x1060+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0x154e14){_0x154e14 instanceof re?this['_anchor']['copy'](_0x154e14):this['_anchor']['set'](..._0x154e14),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(-0x7*-0x241+0x26c4*-0x1+0x16fd),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x355b1d){var _0x350fef,_0x1215f3;this['_batchGrou'+'pId']!==_0x355b1d&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0xe*0x29+0x1*0x204b+-0x2289&&((_0x350fef=this['system']['app']['batcher'])==null||_0x350fef['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x355b1d>=0xea1+-0x1*-0x1b7+-0x1058&&((_0x1215f3=this['system']['app']['batcher'])==null||_0x1215f3['insert'](St['ELEMENT'],_0x355b1d,this['entity'])),_0x355b1d<-0x21ed*-0x1+-0x1471+0xd7c*-0x1&&this['_batchGrou'+'pId']>=0x24+-0x1*-0x55b+-0xc9*0x7&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x355b1d);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x1ab789){this['_margin']['y']=_0x1ab789;const _0x405c7b=this['entity']['getLocalPo'+'sition'](),_0x2b7f4b=this['_absTop'],_0x4b6876=this['_localAnch'+'or']['y']+_0x1ab789;this['_setHeight'](_0x2b7f4b-_0x4b6876),_0x405c7b['y']=_0x1ab789+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x405c7b);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0x1292d9){this['_setCalcul'+'atedWidth'](_0x1292d9,!(-0x24a*-0x9+-0x13*0x167+0x60b));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x315f0d){this['_setCalcul'+'atedHeight'](_0x315f0d,!(0x58*0x4e+0x2*-0xd1c+-0x26*0x4));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x38c135=this['system']['app']['graphicsDe'+'vice'],_0x3ad4e7=this['screenCorn'+'ers'],_0x1ef94c=_0x38c135['canvas']['clientWidt'+'h']/_0x38c135['width'],_0x286eee=_0x38c135['canvas']['clientHeig'+'ht']/_0x38c135['height'];for(let _0x518491=-0x3*0xa24+0xcd8*0x1+0x1194;_0x518491<-0x1*0x1f1e+0x2305+-0x3e3;_0x518491++)this['_canvasCor'+'ners'][_0x518491]['set'](_0x3ad4e7[_0x518491]['x']*_0x1ef94c,(_0x38c135['height']-_0x3ad4e7[_0x518491]['y'])*_0x286eee);return this['_canvasCor'+'nersDirty']=!(0x2ba*0x1+0x25f5*-0x1+0x233c),this['_canvasCor'+'ners'];}set['drawOrder'](_0x39f118){let _0x593326=-0xc4f+0x1eb9+-0x126a;this['screen']&&(_0x593326=this['screen']['screen']['priority']),_0x39f118>0x10dd6e6+0x1*0x1f0db19+-0x20*0xff590&&(w['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x39f118=0x844d51+-0x1c7e3f9+-0x229*-0x10c4f),this['_drawOrder']=(_0x593326<<0x7ee+-0x6d3+-0x103)+_0x39f118,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x28f0a9){this['_height']=_0x28f0a9,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x28f0a9,!(-0x1748*-0x1+0x4a+-0x1af*0xe)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x394227){if(this['_addedMode'+'ls']['length'])for(let _0x54fd55=-0x49d+-0x19*-0x83+-0x82e;_0x54fd55<this['_layers']['length'];_0x54fd55++){const _0x101fc3=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x54fd55]);if(_0x101fc3){for(let _0x410404=0x1905+-0x76+-0x188f;_0x410404<this['_addedMode'+'ls']['length'];_0x410404++)_0x101fc3['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x410404]['meshInstan'+'ces']);}}if(this['_layers']=_0x394227,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x1a1638=-0x55*0x1+-0xd5*0x6+0x553;_0x1a1638<this['_layers']['length'];_0x1a1638++){const _0x1ed810=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x1a1638]);if(_0x1ed810){for(let _0x3bfd0c=0x691+-0x11b9+0xb28;_0x3bfd0c<this['_addedMode'+'ls']['length'];_0x3bfd0c++)_0x1ed810['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x3bfd0c]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x5e7533){this['_margin']['x']=_0x5e7533;const _0x81cb88=this['entity']['getLocalPo'+'sition'](),_0x5e773a=this['_absRight'],_0x18b72f=this['_localAnch'+'or']['x']+_0x5e7533;this['_setWidth'](_0x5e773a-_0x18b72f),_0x81cb88['x']=_0x5e7533+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x81cb88);}get['left'](){return this['_margin']['x'];}set['margin'](_0x1b38ef){this['_margin']['copy'](_0x1b38ef),this['_calculate'+'Size'](!(0x1d14+0x16a8+-0x2c*0x12d),!(0x1*0x1d73+0x258b*-0x1+0x818)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x1070c7){const {pivot:_0x2be9c4,margin:_0x3cbb68}=this,_0x52d454=_0x2be9c4['x'],_0x56af72=_0x2be9c4['y'];_0x1070c7 instanceof J?_0x2be9c4['copy'](_0x1070c7):_0x2be9c4['set'](..._0x1070c7);const _0x5aaaf0=_0x3cbb68['x']+_0x3cbb68['z'],_0xa97bca=_0x2be9c4['x']-_0x52d454;_0x3cbb68['x']+=_0x5aaaf0*_0xa97bca,_0x3cbb68['z']-=_0x5aaaf0*_0xa97bca;const _0x1c9a3a=_0x3cbb68['y']+_0x3cbb68['w'],_0x3dcfc2=_0x2be9c4['y']-_0x56af72;_0x3cbb68['y']+=_0x1c9a3a*_0x3dcfc2,_0x3cbb68['w']-=_0x1c9a3a*_0x3dcfc2,this['_anchorDir'+'ty']=!(0x2542+0x1*-0x2cb+0xad*-0x33),this['_cornersDi'+'rty']=!(0x24af+-0x20bf+-0x3f0),this['_worldCorn'+'ersDirty']=!(-0x1468+-0xc2f+0xadd*0x3),this['_calculate'+'Size'](!(0xc*0x92+-0xe18+0x741),!(-0xaf3+0x5fd*0x3+-0x703*0x1)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x2be9c4);}get['pivot'](){return this['_pivot'];}set['right'](_0x2afcac){this['_margin']['z']=_0x2afcac;const _0xf61bef=this['entity']['getLocalPo'+'sition'](),_0x164d00=this['_absLeft'],_0x27343e=this['_localAnch'+'or']['z']-_0x2afcac;this['_setWidth'](_0x27343e-_0x164d00),_0xf61bef['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x2afcac-this['_calculate'+'dWidth']*(0x1454+0x22fe+0x77*-0x77-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0xf61bef);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x2d0ff9=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][0x3*0x166+-0x1adf+0x16ad];this['_screenCor'+'ners'][-0x1e29+-0x646+0x246f]['set'](this['_absLeft'],this['_absBottom'],-0x1582+0x85a+0xd28),this['_screenCor'+'ners'][-0x7*0x2cf+0x1447+0x1*-0x9d]['set'](this['_absRight'],this['_absBottom'],0x10d*0x13+-0x15b2+-0x1bb*-0x1),this['_screenCor'+'ners'][-0x1e6a+-0x1d07+0x10b*0x39]['set'](this['_absRight'],this['_absTop'],-0x1*-0x265+-0x106f+0x4ae*0x3),this['_screenCor'+'ners'][-0x419*0x1+-0x974+-0x1b2*-0x8]['set'](this['_absLeft'],this['_absTop'],-0x12e2+0x203*-0x1+0x14e5*0x1);const _0x72928e=this['screen']['screen']['screenSpac'+'e'];for(let _0x101c55=0x229a+-0x4*-0x671+-0x3c5e;_0x101c55<-0x5e9*-0x1+0x1*-0x2518+0x31*0xa3;_0x101c55++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x101c55],this['_screenCor'+'ners'][_0x101c55]),_0x72928e&&this['_screenCor'+'ners'][_0x101c55]['mulScalar'](this['screen']['screen']['scale']),_0x2d0ff9&&this['_screenCor'+'ners'][_0x101c55]['add'](_0x2d0ff9);return this['_cornersDi'+'rty']=!(-0x1*0x3e5+-0x1a9b+-0x13*-0x19b),this['_canvasCor'+'nersDirty']=!(0x1d51+-0x7b*-0x33+-0x35d2*0x1),this['_worldCorn'+'ersDirty']=!(-0x2006*-0x1+0x17f*0xe+-0x388*0xf),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:-0x89f*0x4+0x3b9*-0x2+0x29ee;}get['textHeight'](){return this['_text']?this['_text']['height']:-0x1453+0x7*0x3c8+-0xb*0x8f;}set['top'](_0x1e3933){this['_margin']['w']=_0x1e3933;const _0x5bc218=this['entity']['getLocalPo'+'sition'](),_0x12cd16=this['_absBottom'],_0x37442e=this['_localAnch'+'or']['w']-_0x1e3933;this['_setHeight'](_0x37442e-_0x12cd16),_0x5bc218['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x1e3933-this['_calculate'+'dHeight']*(0x1b31*-0x1+0x1cde+-0x1ac-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x5bc218);}get['top'](){return this['_margin']['w'];}set['type'](_0x342378){_0x342378!==this['_type']&&(this['_type']=_0x342378,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0x342378===Cu?this['_image']=new cR(this):_0x342378===jv&&(this['_text']=new PR(this)));}get['type'](){return this['_type'];}set['useInput'](_0xd43c90){this['_useInput']!==_0xd43c90&&(this['_useInput']=_0xd43c90,this['system']['app']['elementInp'+'ut']?_0xd43c90?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(0x1a*0xeb+0xf13+-0x26f1)&&w['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0xd43c90));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0xba3eb7){this['_fitMode']=_0xba3eb7,this['_calculate'+'Size'](!(0x12*0x21d+-0x21b9*-0x1+-0x47c3),!(-0x1874+0x25d3+-0xd5f)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x1674e4){this['_width']=_0x1674e4,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x1674e4,!(-0x15a2+-0x2*0x10d2+0x3746)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x214e75=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){ws['copy'](this['screen']['screen']['_screenMat'+'rix']),ws['data'][0x2c4+-0x51*-0x14+0x90b*-0x1]=-ws['data'][0xf21+0xc02+-0x1b16],ws['mul2'](this['screen']['getWorldTr'+'ansform'](),ws);for(let _0x53eb4f=-0x72b+0xd7*-0x4+-0x21b*-0x5;_0x53eb4f<0x887+0xca3+-0x1526;_0x53eb4f++)ws['transformP'+'oint'](_0x214e75[_0x53eb4f],this['_worldCorn'+'ers'][_0x53eb4f]);}}else{const _0x527602=this['entity']['getLocalPo'+'sition']();ws['setTransla'+'te'](-_0x527602['x'],-_0x527602['y'],-_0x527602['z']),bc['setTRS'](D['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0x527602['x'],_0x527602['y'],_0x527602['z']);const _0x400296=this['entity']['parent']?this['entity']['parent']:this['entity'];$a['copy'](_0x400296['getWorldTr'+'ansform']()),$a['mul'](Ac)['mul'](bc)['mul'](ws),Pi['set'](_0x527602['x']-this['pivot']['x']*this['calculated'+'Width'],_0x527602['y']-this['pivot']['y']*this['calculated'+'Height'],_0x527602['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0x12ee*0x1+-0x3e9+0x3*0x79d]),Pi['set'](_0x527602['x']+(-0xd02+0x1da2+-0x1*0x109f-this['pivot']['x'])*this['calculated'+'Width'],_0x527602['y']-this['pivot']['y']*this['calculated'+'Height'],_0x527602['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0x944*-0x3+-0x1b0f+-0xbc]),Pi['set'](_0x527602['x']+(0x2*0xf39+0xef2+-0xf21*0x3-this['pivot']['x'])*this['calculated'+'Width'],_0x527602['y']+(0xafc+-0xb1c+0x21-this['pivot']['y'])*this['calculated'+'Height'],_0x527602['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0x131d+-0x2360+0x1045]),Pi['set'](_0x527602['x']-this['pivot']['x']*this['calculated'+'Width'],_0x527602['y']+(0x68b*-0x4+-0x832+0x225f-this['pivot']['y'])*this['calculated'+'Height'],_0x527602['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0x225c+-0xdbe+-0x149b]);}return this['_worldCorn'+'ersDirty']=!(0x738+0x1307*0x2+-0x2d45),this['_worldCorn'+'ers'];}set['fontSize'](_0x3b80a){this['_setValue']('fontSize',_0x3b80a);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x576b5b){this['_setValue']('minFontSiz'+'e',_0x576b5b);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x269fe4){this['_setValue']('maxFontSiz'+'e',_0x269fe4);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x2c2006){this['_setValue']('maxLines',_0x2c2006);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x276ad6){this['_setValue']('autoFitWid'+'th',_0x276ad6);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x560321){this['_setValue']('autoFitHei'+'ght',_0x560321);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0xdb10cf){this['_setValue']('color',_0xdb10cf);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x34cf09){this['_setValue']('font',_0x34cf09);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x5b9d84){this['_setValue']('fontAsset',_0x5b9d84);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x50bd3d){this['_setValue']('spacing',_0x50bd3d);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x3f9f76){this['_setValue']('lineHeight',_0x3f9f76);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0xf4aa04){this['_setValue']('wrapLines',_0xf4aa04);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x383422){this['_setValue']('lines',_0x383422);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x22da20){this['_setValue']('alignment',_0x22da20);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x4e9a23){this['_setValue']('autoWidth',_0x4e9a23);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x21a16c){this['_setValue']('autoHeight',_0x21a16c);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0x46eb90){this['_setValue']('rtlReorder',_0x46eb90);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x388edd){this['_setValue']('unicodeCon'+'verter',_0x388edd);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x11996f){this['_setValue']('text',_0x11996f);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x33a077){this['_setValue']('key',_0x33a077);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0x44c299){this['_setValue']('texture',_0x44c299);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x5d1108){this['_setValue']('textureAss'+'et',_0x5d1108);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x57f814){this['_setValue']('material',_0x57f814);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x1f1a9f){this['_setValue']('materialAs'+'set',_0x1f1a9f);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x589316){this['_setValue']('sprite',_0x589316);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x273221){this['_setValue']('spriteAsse'+'t',_0x273221);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x2e7b65){this['_setValue']('spriteFram'+'e',_0x2e7b65);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0x147067){this['_setValue']('pixelsPerU'+'nit',_0x147067);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0x48d045){this['_setValue']('opacity',_0x48d045);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x5e6a6c){this['_setValue']('rect',_0x5e6a6c);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x57b057){this['_setValue']('mask',_0x57b057);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x1a5f55){this['_setValue']('outlineCol'+'or',_0x1a5f55);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x38142b){this['_setValue']('outlineThi'+'ckness',_0x38142b);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x3e7510){this['_setValue']('shadowColo'+'r',_0x3e7510);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x53e7d7){this['_setValue']('shadowOffs'+'et',_0x53e7d7);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x30a51d){this['_setValue']('enableMark'+'up',_0x30a51d);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x122fe5){this['_setValue']('rangeStart',_0x122fe5);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x53e04f){this['_setValue']('rangeEnd',_0x53e04f);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x36158d,_0x21a323){this['_text']?(this['_text'][_0x36158d]!==_0x21a323&&this['_dirtyBatc'+'h'](),this['_text'][_0x36158d]=_0x21a323):this['_image']&&(this['_image'][_0x36158d]!==_0x21a323&&this['_dirtyBatc'+'h'](),this['_image'][_0x36158d]=_0x21a323);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=lt['prototype']['_sync'],this['entity']['setPositio'+'n']=lt['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=lt['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0x44d389,_0x27f1aa,_0x1aae5f){if(!this['element']['screen']){lt['prototype']['setPositio'+'n']['call'](this,_0x44d389,_0x27f1aa,_0x1aae5f);return;}_0x44d389 instanceof D?Ef['copy'](_0x44d389):Ef['set'](_0x44d389,_0x27f1aa,_0x1aae5f),this['getWorldTr'+'ansform'](),Zg['copy'](this['element']['_screenToW'+'orld'])['invert'](),Zg['transformP'+'oint'](Ef,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x24990b,_0x178dad,_0x45568e){_0x24990b instanceof D?this['localPosit'+'ion']['copy'](_0x24990b):this['localPosit'+'ion']['set'](_0x24990b,_0x178dad,_0x45568e);const _0x41931c=this['element'],_0x1106e5=this['localPosit'+'ion'],_0x420f10=_0x41931c['_pivot'];_0x41931c['_margin']['x']=_0x1106e5['x']-_0x41931c['_calculate'+'dWidth']*_0x420f10['x'],_0x41931c['_margin']['z']=_0x41931c['_localAnch'+'or']['z']-_0x41931c['_localAnch'+'or']['x']-_0x41931c['_calculate'+'dWidth']-_0x41931c['_margin']['x'],_0x41931c['_margin']['y']=_0x1106e5['y']-_0x41931c['_calculate'+'dHeight']*_0x420f10['y'],_0x41931c['_margin']['w']=_0x41931c['_localAnch'+'or']['w']-_0x41931c['_localAnch'+'or']['y']-_0x41931c['_calculate'+'dHeight']-_0x41931c['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x96488f=this['element'],_0x4a672c=_0x96488f['screen'];if(_0x4a672c){if(_0x96488f['_anchorDir'+'ty']){let _0x1a9d67=0x1*-0x15a6+-0x1d58+-0x6b*-0x7a,_0x4bc0b0=0x1d84+-0x2439+0x6b5,_0x2439e1=0x1*-0x1169+-0x2d5+0x143e,_0x21b41b=0x749*0x1+-0x792+-0x25*-0x2;if(this['_parent']&&this['_parent']['element'])_0x1a9d67=this['_parent']['element']['calculated'+'Width'],_0x4bc0b0=this['_parent']['element']['calculated'+'Height'],_0x2439e1=this['_parent']['element']['pivot']['x'],_0x21b41b=this['_parent']['element']['pivot']['y'];else{const _0x48315d=_0x4a672c['screen']['resolution'];_0x1a9d67=_0x48315d['x']/_0x4a672c['screen']['scale'],_0x4bc0b0=_0x48315d['y']/_0x4a672c['screen']['scale'];}_0x96488f['_anchorTra'+'nsform']['setTransla'+'te'](_0x1a9d67*(_0x96488f['anchor']['x']-_0x2439e1),-(_0x4bc0b0*(_0x21b41b-_0x96488f['anchor']['y'])),-0x846+-0x1*0xaa+-0xd*-0xb0),_0x96488f['_anchorDir'+'ty']=!(-0x107b*0x1+-0x20a1+-0x477*-0xb),_0x96488f['_calculate'+'LocalAncho'+'rs']();}_0x96488f['_sizeDirty']&&_0x96488f['_calculate'+'Size'](!(0x10*0xce+0x2*-0x326+-0x693),!(-0xd13*-0x1+0xff*0x5+-0x120d));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x12e1cc=this['localPosit'+'ion'],_0x235c42=_0x96488f['_pivot'];_0x96488f['_margin']['x']=_0x12e1cc['x']-_0x96488f['_calculate'+'dWidth']*_0x235c42['x'],_0x96488f['_margin']['z']=_0x96488f['_localAnch'+'or']['z']-_0x96488f['_localAnch'+'or']['x']-_0x96488f['_calculate'+'dWidth']-_0x96488f['_margin']['x'],_0x96488f['_margin']['y']=_0x12e1cc['y']-_0x96488f['_calculate'+'dHeight']*_0x235c42['y'],_0x96488f['_margin']['w']=_0x96488f['_localAnch'+'or']['w']-_0x96488f['_localAnch'+'or']['y']-_0x96488f['_calculate'+'dHeight']-_0x96488f['_margin']['y'],this['_dirtyLoca'+'l']=!(-0x1*0x16bf+0x151c+0x1a4);}if(!_0x4a672c){this['_dirtyWorl'+'d']&&(_0x96488f['_cornersDi'+'rty']=!(0x7ea+-0xa24+0x23a),_0x96488f['_canvasCor'+'nersDirty']=!(-0x2613+-0xb30+0x3143*0x1),_0x96488f['_worldCorn'+'ersDirty']=!(0x2a*0x1b+0x13*-0xa7+0x1*0x7f7)),lt['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x96488f['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x96488f['_anchorTra'+'nsform']):_0x96488f['_screenToW'+'orld']['copy'](_0x96488f['_anchorTra'+'nsform']),_0x96488f['_modelTran'+'sform']['mul2'](_0x96488f['_screenToW'+'orld'],this['localTrans'+'form']),_0x4a672c){_0x96488f['_screenToW'+'orld']['mul2'](_0x4a672c['screen']['_screenMat'+'rix'],_0x96488f['_screenToW'+'orld']),_0x4a672c['screen']['screenSpac'+'e']||_0x96488f['_screenToW'+'orld']['mul2'](_0x4a672c['worldTrans'+'form'],_0x96488f['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x96488f['_screenToW'+'orld'],this['localTrans'+'form']);const _0x2421f9=_0x96488f['_parentWor'+'ldTransfor'+'m'];_0x2421f9['setIdentit'+'y']();const _0x496383=this['_parent'];_0x496383&&_0x496383['element']&&_0x496383!==_0x4a672c&&(ws['setTRS'](D['ZERO'],_0x496383['getLocalRo'+'tation'](),_0x496383['getLocalSc'+'ale']()),_0x2421f9['mul2'](_0x496383['element']['_parentWor'+'ldTransfor'+'m'],ws));const _0x5ee985=Pi;_0x5ee985['set'](0x26cf+-0x1*0x21a+-0x24b5,-0x13c8+-0x3e*0xa0+-0x751*-0x8,this['localPosit'+'ion']['z']);const _0x29833a=MR;_0x29833a['set'](_0x96488f['_absLeft']+_0x96488f['_pivot']['x']*_0x96488f['calculated'+'Width'],_0x96488f['_absBottom']+_0x96488f['_pivot']['y']*_0x96488f['calculated'+'Height'],-0x31*0x9f+-0x11e*-0x1f+-0x19*0x2b),ws['setTransla'+'te'](-_0x29833a['x'],-_0x29833a['y'],-_0x29833a['z']),bc['setTRS'](_0x5ee985,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0x29833a['x'],_0x29833a['y'],_0x29833a['z']),_0x96488f['_screenTra'+'nsform']['mul2'](_0x96488f['_parentWor'+'ldTransfor'+'m'],Ac)['mul'](bc)['mul'](ws),_0x96488f['_cornersDi'+'rty']=!(0x1bc*-0x6+-0x14ef+0x1f57),_0x96488f['_canvasCor'+'nersDirty']=!(0x17ff*0x1+-0x1b5c+0x35d),_0x96488f['_worldCorn'+'ersDirty']=!(0x13af*0x1+-0x1473+0xc4);}else this['worldTrans'+'form']['copy'](_0x96488f['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(0x960+-0x1f58+0x15f9);}}['_onInsert'](_0x257270){const _0x4b49f2=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x4b49f2['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x164787=this['entity'];for(;_0x164787;){const _0x420ff0=_0x164787['parent'];if((_0x420ff0===null||_0x420ff0['screen'])&&_0x164787['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),w['trace'](Vs,'register\x20p'+'rerender'));const _0x1e4c0d=this['system']['_prerender']['indexOf'](this['entity']);_0x1e4c0d>=0x1585*-0x1+0x1d*0x67+0x9da&&this['system']['_prerender']['splice'](_0x1e4c0d,0x14b5+-0x1e2a+-0x4bb*-0x2),this['system']['_prerender']['indexOf'](_0x164787)<0x1157+-0x1*0xbba+-0x1*0x59d&&this['system']['_prerender']['push'](_0x164787),w['trace'](Vs,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x164787['name']);}_0x164787=_0x420ff0;}}['_onPrerend'+'er'](){for(let _0x126e59=-0x1*0x19af+-0xfb3*0x1+-0x2962*-0x1;_0x126e59<this['system']['_prerender']['length'];_0x126e59++){const _0x207c13=this['system']['_prerender'][_0x126e59];w['trace'](Vs,'prerender\x20'+'from:\x20'+_0x207c13['name']),_0x207c13['element']&&_0x207c13['element']['syncMask'](-0x52*-0xd+0x2*-0x10da+0x1d8b);}this['system']['_prerender']['length']=0x82*-0xa+-0xc5*0x1a+0x1916;}['_bindScree'+'n'](_0x2f95b4){_0x2f95b4['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x422f45){_0x422f45['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x515d04){this['screen']&&this['screen']!==_0x515d04&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x556efe=this['screen'];this['screen']=_0x515d04,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x556efe),this['_anchorDir'+'ty']=!(0x1143*-0x1+0x10f2+0x51);const _0x1f683e=this['entity']['children'];for(let _0x159305=-0x6aa*-0x2+-0x4b9+-0x89b,_0x45baaf=_0x1f683e['length'];_0x159305<_0x45baaf;_0x159305++)_0x1f683e[_0x159305]['element']&&_0x1f683e[_0x159305]['element']['_updateScr'+'een'](_0x515d04);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x4521d0){const _0x1f05d9=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x1f05d9['mask'],_0x4521d0);}['_setMasked'+'By'](_0x438740){const _0x64a748=this['_image']||this['_text'];if(_0x438740){const _0x32f5db=_0x438740['element']['_image']['_maskRef'];w['trace'](Vs,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x32f5db),_0x64a748==null||_0x64a748['_setStenci'+'l'](new pi({'ref':_0x32f5db,'func':dh})),this['_maskedBy']=_0x438740;}else w['trace'](Vs,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x64a748==null||_0x64a748['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x2201b1,_0x3ab278){var _0x107895,_0x494a15;if(_0x2201b1){if(this['_setMasked'+'By'](_0x2201b1),this['mask']){const _0x326eb4=_0x2201b1['element']['_image']['_maskRef'],_0x8d404b=new pi({'ref':_0x326eb4,'func':dh,'zpass':Ux});this['_image']['_setStenci'+'l'](_0x8d404b),this['_image']['_maskRef']=_0x3ab278,_0x3ab278++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x8d404b['ref']+(0xb68+-0xa7d+-0x27*0x6))),w['trace'](Vs,'depth++\x20to'+':\x20',_0x3ab278),_0x2201b1=this['entity'];}const _0x30429e=this['entity']['children'];for(let _0x4f2c65=0x260c+0x23ff+-0x45b*0x11,_0x139e8e=_0x30429e['length'];_0x4f2c65<_0x139e8e;_0x4f2c65++)(_0x107895=_0x30429e[_0x4f2c65]['element'])==null||_0x107895['_updateMas'+'k'](_0x2201b1,_0x3ab278);this['mask']&&_0x3ab278--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x3be682=new pi({'ref':_0x3ab278,'func':Wi,'zpass':kx});this['_image']['_setStenci'+'l'](_0x3be682),this['_image']['_maskRef']=_0x3ab278,_0x3ab278++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x3be682['ref']),w['trace'](Vs,'depth++\x20to'+':\x20',_0x3ab278),_0x2201b1=this['entity'];}const _0x553aac=this['entity']['children'];for(let _0x33ab7f=0x15ae+-0x35*-0x67+-0x2b01,_0x569ae7=_0x553aac['length'];_0x33ab7f<_0x569ae7;_0x33ab7f++)(_0x494a15=_0x553aac[_0x33ab7f]['element'])==null||_0x494a15['_updateMas'+'k'](_0x2201b1,_0x3ab278);this['mask']&&_0x3ab278--;}}['_parseUpTo'+'Screen'](){const _0x273275={'screen':null,'mask':null};let _0x181c63=this['entity']['_parent'];for(;_0x181c63&&!_0x181c63['screen'];)_0x181c63['element']&&_0x181c63['element']['mask']&&(_0x273275['mask']||(_0x273275['mask']=_0x181c63)),_0x181c63=_0x181c63['parent'];return _0x181c63&&_0x181c63['screen']&&(_0x273275['screen']=_0x181c63),_0x273275;}['_onScreenR'+'esize'](_0x12ed2e){this['_anchorDir'+'ty']=!(-0x22f5+-0x46b+-0x13b0*-0x2),this['_cornersDi'+'rty']=!(-0xdef+-0xb*-0x1be+0x53b*-0x1),this['_worldCorn'+'ersDirty']=!(-0xab2+0x176a+-0xcb8),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x12ed2e);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x41cf10=-0x53*-0x5b+-0x1*-0xc0b+0x124*-0x21,_0x50798c=0x1787+0x3bb*0x5+-0x2646;const _0x2b901e=this['entity']['_parent'];if(_0x2b901e&&_0x2b901e['element'])_0x41cf10=_0x2b901e['element']['calculated'+'Width'],_0x50798c=_0x2b901e['element']['calculated'+'Height'];else{if(this['screen']){const _0x4d4e56=this['screen']['screen']['resolution'],_0x5e5407=this['screen']['screen']['scale'];_0x41cf10=_0x4d4e56['x']/_0x5e5407,_0x50798c=_0x4d4e56['y']/_0x5e5407;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x41cf10,this['_anchor']['y']*_0x50798c,this['_anchor']['z']*_0x41cf10,this['_anchor']['w']*_0x50798c);}['getOffsetP'+'osition'](_0x45cec1,_0x12a53b){const _0x583794=this['entity']['getLocalPo'+'sition']()['clone']();return _0x583794['x']+=_0x45cec1,_0x583794['y']+=_0x12a53b,this['_screenToW'+'orld']['transformP'+'oint'](_0x583794,_0x583794),_0x583794;}['onLayersCh'+'anged'](_0x59e772,_0x1798b2){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0x59e772['off']('add',this['onLayerAdd'+'ed'],this),_0x59e772['off']('remove',this['onLayerRem'+'oved'],this),_0x1798b2['on']('add',this['onLayerAdd'+'ed'],this),_0x1798b2['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0xfcbfbd){this['layers']['indexOf'](_0xfcbfbd['id'])<-0x14b3+-0xa6f+0x31d*0xa||(this['_image']?_0xfcbfbd['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0xfcbfbd['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x51a074){this['layers']['indexOf'](_0x51a074['id'])<-0x1ef2+0x1660+0x892||(this['_image']?_0x51a074['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x51a074['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x3c59b6;const _0x792316=this['system']['app']['scene'],_0x201c00=_0x792316['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x792316['on']('set:layers',this['onLayersCh'+'anged'],this),_0x201c00&&(this['_evtLayerA'+'dded']=_0x201c00['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x201c00['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=0x270c+0x2eb*0x8+0x6*-0xa66&&((_0x3c59b6=this['system']['app']['batcher'])==null||_0x3c59b6['insert'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x13dfbb,_0x44b8ab,_0x574bc2,_0x434faa;const _0x36bac0=this['system']['app']['scene']['layers'];(_0x13dfbb=this['_evtLayers'+'Changed'])==null||_0x13dfbb['off'](),this['_evtLayers'+'Changed']=null,_0x36bac0&&((_0x44b8ab=this['_evtLayerA'+'dded'])==null||_0x44b8ab['off'](),this['_evtLayerA'+'dded']=null,(_0x574bc2=this['_evtLayerR'+'emoved'])==null||_0x574bc2['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=0xf21+0x4d*-0x6a+-0x10c1*-0x1&&((_0x434faa=this['system']['app']['batcher'])==null||_0x434faa['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x24dbcd,_0x298bb6){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x5c0b0e=this['_absRight']-this['_absLeft'],_0x2f73f6=this['_absTop']-this['_absBottom'];_0x24dbcd?this['_setWidth'](_0x5c0b0e):this['_setCalcul'+'atedWidth'](_0x5c0b0e,!(-0x1975*0x1+0x1*-0xe83+0x1*0x27f9)),_0x298bb6?this['_setHeight'](_0x2f73f6):this['_setCalcul'+'atedHeight'](_0x2f73f6,!(0xb7b*0x1+-0x3*0x94c+0x106a*0x1));const _0x14a35a=this['entity']['getLocalPo'+'sition']();_0x14a35a['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x14a35a['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x14a35a),this['_sizeDirty']=!(-0x1*-0xc4c+0xb93+-0x1*0x17de);}['_setWidth'](_0x1749f2){this['_width']=_0x1749f2,this['_setCalcul'+'atedWidth'](_0x1749f2,!(-0x2*-0xdce+0x4fb+0x2b*-0xc2)),this['fire']('set:width',this['_width']);}['_setHeight'](_0x26b47c){this['_height']=_0x26b47c,this['_setCalcul'+'atedHeight'](_0x26b47c,!(-0x1*-0x631+-0x39e+-0xe*0x2f)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x57158b,_0x4574a8){if(!(Math['abs'](_0x57158b-this['_calculate'+'dWidth'])<=-0xc*0x28d+-0x98*-0x30+0x1b*0x14+0.0001)){if(this['_calculate'+'dWidth']=_0x57158b,this['entity']['_dirtifyLo'+'cal'](),_0x4574a8){const _0x3caf35=this['entity']['getLocalPo'+'sition'](),_0x208c7b=this['_pivot'];this['_margin']['x']=_0x3caf35['x']-this['_calculate'+'dWidth']*_0x208c7b['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x448fc6,_0x48bcfe){if(!(Math['abs'](_0x448fc6-this['_calculate'+'dHeight'])<=-0x1*-0xa6+-0x130d+0x1267+0.0001)){if(this['_calculate'+'dHeight']=_0x448fc6,this['entity']['_dirtifyLo'+'cal'](),_0x48bcfe){const _0x16a8ea=this['entity']['getLocalPo'+'sition'](),_0xe83c88=this['_pivot'];this['_margin']['y']=_0x16a8ea['y']-this['_calculate'+'dHeight']*_0xe83c88['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x2aa6e0=this['entity']['_children'];for(let _0x422380=0x1*0x1021+0x1037+-0x168*0x17,_0x491558=_0x2aa6e0['length'];_0x422380<_0x491558;_0x422380++)_0x2aa6e0[_0x422380]['element']&&(_0x2aa6e0[_0x422380]['element']['_anchorDir'+'ty']=!(-0x455*0x3+0x1d*-0xd7+0xe*0x2ab),_0x2aa6e0[_0x422380]['element']['_sizeDirty']=!(-0x24e*0xf+-0x7*-0x125+0x1a8f));}['addModelTo'+'Layers'](_0x46db4d){this['_addedMode'+'ls']['push'](_0x46db4d);for(let _0x5903ca=-0x60d*0x1+0x2635+-0x2028;_0x5903ca<this['layers']['length'];_0x5903ca++){const _0x4baefe=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x5903ca]);_0x4baefe&&_0x4baefe['addMeshIns'+'tances'](_0x46db4d['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x456f67){const _0x2718a6=this['_addedMode'+'ls']['indexOf'](_0x456f67);_0x2718a6>=0x1ec4+0x22fb+0x41bf*-0x1&&this['_addedMode'+'ls']['splice'](_0x2718a6,0x17*-0x56+0x240+0x57b);for(let _0x3ca682=-0x1f49+0x9*0x262+0x9d7;_0x3ca682<this['layers']['length'];_0x3ca682++){const _0x18c109=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x3ca682]);_0x18c109&&_0x18c109['removeMesh'+'Instances'](_0x456f67['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x13d912=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x13d912&&(this['_maskOffse'+'t']=0x558+0x502+-0xa5a+0.5,this['_offsetRea'+'dAt']=_0x13d912);const _0x7f62be=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=0x2af*-0xb+-0x1*-0x1c45+0x140+0.001,_0x7f62be;}['isVisibleF'+'orCamera'](_0x3c58d2){let _0x3a6dda,_0x21073c,_0x4fbc40,_0x177cac;if(this['maskedBy']){const _0x4a9c4f=this['maskedBy']['element']['screenCorn'+'ers'];_0x3a6dda=Math['min'](Math['min'](_0x4a9c4f[-0xaaf+-0x1d08+0xd3d*0x3]['x'],_0x4a9c4f[0x734+0x8*0x2ce+-0x1da3]['x']),Math['min'](_0x4a9c4f[0x1*0xd8a+0x125a*-0x1+0x1*0x4d2]['x'],_0x4a9c4f[-0xe59+0x1*0x2171+-0x1315]['x'])),_0x21073c=Math['max'](Math['max'](_0x4a9c4f[0x5f4+-0x15cd+-0xfd9*-0x1]['x'],_0x4a9c4f[0x1803+-0x22f5+0x1*0xaf3]['x']),Math['max'](_0x4a9c4f[0x1*-0x33e+-0x2498+0x27d8]['x'],_0x4a9c4f[-0x1159+-0x448*0x2+-0x229*-0xc]['x'])),_0x177cac=Math['min'](Math['min'](_0x4a9c4f[-0x6*0x199+0xb*-0xb3+0x1147]['y'],_0x4a9c4f[0x6*-0x3dd+0x52*0x6d+-0xbbb]['y']),Math['min'](_0x4a9c4f[0x1*-0xbcf+0x5*-0x38+0x295*0x5]['y'],_0x4a9c4f[-0x268e+0x1f7a+0x717]['y'])),_0x4fbc40=Math['max'](Math['max'](_0x4a9c4f[0x1440+-0x2111+-0x11*-0xc1]['y'],_0x4a9c4f[-0x1af1+0x182a+0x2c8]['y']),Math['max'](_0x4a9c4f[0x119f+-0x715+-0xa88]['y'],_0x4a9c4f[-0x34b+0xe0b+-0xabd]['y']));}else{const _0x74fb62=this['system']['app']['graphicsDe'+'vice']['width'],_0x2ae0d1=this['system']['app']['graphicsDe'+'vice']['height'],_0x2d89bd=_0x3c58d2['_rect']['z']*_0x74fb62,_0x4231e2=_0x3c58d2['_rect']['w']*_0x2ae0d1;_0x3a6dda=_0x3c58d2['_rect']['x']*_0x74fb62,_0x21073c=_0x3a6dda+_0x2d89bd,_0x4fbc40=(0x11cc+-0x805+0x2*-0x4e3-_0x3c58d2['_rect']['y'])*_0x2ae0d1,_0x177cac=_0x4fbc40-_0x4231e2;}const _0x5649fb=this['screenCorn'+'ers'],_0x430832=Math['min'](Math['min'](_0x5649fb[0x173b+-0x24a3*-0x1+-0x3bde]['x'],_0x5649fb[-0x347*0x9+0x18c3+0x4bd]['x']),Math['min'](_0x5649fb[0x1b31+0xb11+-0x2640]['x'],_0x5649fb[0xd54+-0x1*0x20c3+0x1372]['x'])),_0x38562f=Math['max'](Math['max'](_0x5649fb[0x1a40+0x25c8+-0x801*0x8]['x'],_0x5649fb[-0x17f7+0x23e*0x1+0x15ba]['x']),Math['max'](_0x5649fb[0x26a9+-0x71f*0x5+-0x30c]['x'],_0x5649fb[-0x2267+0x16fa+0xb70]['x'])),_0x37a0cd=Math['min'](Math['min'](_0x5649fb[-0x1*-0x1060+-0x150f*-0x1+-0x256f]['y'],_0x5649fb[0x1*0x1303+-0x19*0xa4+-0x17f*0x2]['y']),Math['min'](_0x5649fb[0x105*-0x1f+-0x435*0x9+0x457a]['y'],_0x5649fb[-0x10f9+-0x1*0x2b5+0x13b1]['y'])),_0xfab65d=Math['max'](Math['max'](_0x5649fb[0x1aeb+-0x22e1+0x1*0x7f6]['y'],_0x5649fb[0x1*0x25a8+0x1384+-0x392b]['y']),Math['max'](_0x5649fb[-0x1526*0x1+0x1d0e+-0x7e6]['y'],_0x5649fb[-0x11*-0x18e+-0x277+-0x17f4]['y']));return!(_0x38562f<_0x3a6dda||_0x430832>_0x21073c||_0x37a0cd>_0x4fbc40||_0xfab65d<_0x177cac);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(-0x1c4*-0x15+-0x1*0x1f47+-0x5cc);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(-0xa57*0x3+-0x1b3+0x20b9);}['_dirtyBatc'+'h'](){var _0x561925;this['batchGroup'+'Id']!==-(-0xf45+0x1997+-0x8b*0x13)&&((_0x561925=this['system']['app']['batcher'])==null||_0x561925['markGroupD'+'irty'](this['batchGroup'+'Id']));}}h(hs,'EVENT_MOUS'+'EDOWN','mousedown'),h(hs,'EVENT_MOUS'+'EUP','mouseup'),h(hs,'EVENT_MOUS'+'EENTER','mouseenter'),h(hs,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(hs,'EVENT_MOUS'+'EMOVE','mousemove'),h(hs,'EVENT_MOUS'+'EWHEEL','mousewheel'),h(hs,'EVENT_CLIC'+'K','click'),h(hs,'EVENT_TOUC'+'HSTART','touchstart'),h(hs,'EVENT_TOUC'+'HEND','touchend'),h(hs,'EVENT_TOUC'+'HMOVE','touchmove'),h(hs,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class DR{constructor(){this['enabled']=!(-0xad*0xc+0x2aa+0x11*0x52);}}const IR=['enabled'];class LR extends ct{constructor(_0x15aa79){super(_0x15aa79),this['id']='element',this['ComponentT'+'ype']=hs,this['DataType']=DR,this['schema']=IR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new _e(_0x15aa79['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'element-sy'+'stem'});const _0x153139=this['_defaultTe'+'xture']['lock'](),_0x447086=new Uint8Array(0x1b2f+-0x1cab*0x1+0x18*0x10);_0x447086[-0x155b+0xda2+0x7b9*0x1]=0xd*0xd+0x54d+-0x4f7,_0x447086[-0x1a*0xb3+0xb28+0x707]=-0x1b20*0x1+0x2cf+0x1950,_0x447086[0x3*0x707+0x2*0xb05+0x2b1d*-0x1]=-0x1d21+-0xa58+-0x5*-0x818,_0x447086[0x7ad+0x1*0xac+-0x16*0x61]=-0x147d*-0x1+0x1*0x11ed+-0x256b,_0x153139['set'](_0x447086),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x572bff,_0x1dcd50,_0x43df20){_0x572bff['_beingInit'+'ialized']=!(0x182b+-0x17f9+-0x32*0x1),_0x1dcd50['anchor']!==void(-0xb98+-0x1eed+-0x5*-0x881)&&(_0x1dcd50['anchor']instanceof re?_0x572bff['anchor']['copy'](_0x1dcd50['anchor']):_0x572bff['anchor']['set'](_0x1dcd50['anchor'][-0x3d1*-0x1+0xa2e+0xdff*-0x1],_0x1dcd50['anchor'][-0x1ba7+-0x5aa+0x2152],_0x1dcd50['anchor'][-0x255b+0x263a+0x1*-0xdd],_0x1dcd50['anchor'][0x1*-0xfa7+0xd6*-0x16+-0xb5a*-0x3])),_0x1dcd50['pivot']!==void(0x14*-0xf+0x1c88+-0x1b5c)&&(_0x1dcd50['pivot']instanceof J?_0x572bff['pivot']['copy'](_0x1dcd50['pivot']):_0x572bff['pivot']['set'](_0x1dcd50['pivot'][0x195c+-0xab8+0xea4*-0x1],_0x1dcd50['pivot'][-0x2204+0x9e*-0x8+-0x1*-0x26f5]));const _0x19c7bf=Math['abs'](_0x572bff['anchor']['x']-_0x572bff['anchor']['z'])>0x72c+-0x33*0x49+0x75f+0.001,_0xe7a363=Math['abs'](_0x572bff['anchor']['y']-_0x572bff['anchor']['w'])>0x16f*0x8+-0x137+-0xa41+0.001;let _0x4e7026=!(-0x11a7*0x2+-0x1022+-0x3f5*-0xd),_0x3965b0;_0x1dcd50['margin']!==void(0x2*0x53+0xb77+-0xc1d)&&(_0x1dcd50['margin']instanceof re?_0x572bff['margin']['copy'](_0x1dcd50['margin']):_0x572bff['_margin']['set'](_0x1dcd50['margin'][0x1deb+-0x111b+-0x334*0x4],_0x1dcd50['margin'][-0xd68+0x20+0x13*0xb3],_0x1dcd50['margin'][0x12e3+0x1ea8+-0x3189],_0x1dcd50['margin'][-0x5*-0x7c3+0x7ff+-0xf99*0x3]),_0x4e7026=!(-0x82e*-0x3+0x3*0x1c+-0x2*0xc6f)),_0x1dcd50['left']!==void(0x158d*-0x1+0x1f6d+-0x9e0)&&(_0x572bff['_margin']['x']=_0x1dcd50['left'],_0x4e7026=!(0x7db+-0x12a4+-0x1*-0xac9)),_0x1dcd50['bottom']!==void(0x1df3+-0x4*-0x535+-0x10ed*0x3)&&(_0x572bff['_margin']['y']=_0x1dcd50['bottom'],_0x4e7026=!(0xc7*0x1d+-0x1*0xa82+0xd*-0xed)),_0x1dcd50['right']!==void(0x1*0x1d3b+0xaef*0x3+-0x3e08)&&(_0x572bff['_margin']['z']=_0x1dcd50['right'],_0x4e7026=!(-0x19*0x82+0x1934+-0xc82)),_0x1dcd50['top']!==void(-0xc5*-0x1c+-0x1c1+0x1*-0x13cb)&&(_0x572bff['_margin']['w']=_0x1dcd50['top'],_0x4e7026=!(-0x1f*0x2f+-0xcfa+0x12ab)),_0x4e7026&&(_0x572bff['margin']=_0x572bff['_margin']);let _0x574c88=!(0x1*-0x261f+-0x46*0x4f+0x3bba);_0x1dcd50['width']!==void(0x1de+-0x469*0x2+0xb2*0xa)&&!_0x19c7bf?_0x572bff['width']=_0x1dcd50['width']:_0x19c7bf&&(_0x574c88=!(0x1fb5*-0x1+-0x1*-0x1663+0x4a9*0x2)),_0x1dcd50['height']!==void(0x21da+-0x1f11+-0x2c9)&&!_0xe7a363?_0x572bff['height']=_0x1dcd50['height']:_0xe7a363&&(_0x574c88=!(-0xc6+-0x1018+0x10de)),_0x574c88&&(_0x572bff['anchor']=_0x572bff['anchor']),_0x1dcd50['enabled']!==void(0x2a8+0xc30+-0x14*0xbe)&&(_0x572bff['enabled']=_0x1dcd50['enabled']),_0x1dcd50['useInput']!==void(0xd*-0x167+0x252+0xfe9*0x1)&&(_0x572bff['useInput']=_0x1dcd50['useInput']),_0x1dcd50['fitMode']!==void(0x1*-0x2306+0x1382+0xf84)&&(_0x572bff['fitMode']=_0x1dcd50['fitMode']),_0x572bff['batchGroup'+'Id']=_0x1dcd50['batchGroup'+'Id']===void(-0x845+-0x56*-0x2b+-0x62d)||_0x1dcd50['batchGroup'+'Id']===null?-(-0x8b1+-0x1dc9+0x267b):_0x1dcd50['batchGroup'+'Id'],_0x1dcd50['layers']&&Array['isArray'](_0x1dcd50['layers'])&&(_0x572bff['layers']=_0x1dcd50['layers']['slice'](-0x1f01*-0x1+-0x126e+0x431*-0x3)),_0x1dcd50['type']!==void(0x2*-0x574+0x16a8+0x4*-0x2f0)&&(_0x572bff['type']=_0x1dcd50['type']),_0x572bff['type']===Cu?(_0x1dcd50['rect']!==void(-0x26*-0x9d+0x52c+-0x1c7a)&&(_0x572bff['rect']=_0x1dcd50['rect']),_0x1dcd50['color']!==void(0xe6+-0x47*0x67+0x1bab)&&(_0x3965b0=_0x1dcd50['color'],_0x3965b0 instanceof ie||(_0x3965b0=new ie(_0x1dcd50['color'][0x13f9*-0x1+0x19*-0xa2+0xb*0x341],_0x1dcd50['color'][-0x2369+-0x1*-0x1ee0+0x48a],_0x1dcd50['color'][-0x21f1+-0xaa3+-0x1b7*-0x1a])),_0x572bff['color']=_0x3965b0),_0x1dcd50['opacity']!==void(0x1c43+-0x1693+-0x5b0)&&(_0x572bff['opacity']=_0x1dcd50['opacity']),_0x1dcd50['textureAss'+'et']!==void(-0x5*-0x5c2+-0xbf+-0x1c0b*0x1)&&(_0x572bff['textureAss'+'et']=_0x1dcd50['textureAss'+'et']),_0x1dcd50['texture']&&(_0x572bff['texture']=_0x1dcd50['texture']),_0x1dcd50['spriteAsse'+'t']!==void(-0x4c9+0x1*0x5e+0x179*0x3)&&(_0x572bff['spriteAsse'+'t']=_0x1dcd50['spriteAsse'+'t']),_0x1dcd50['sprite']&&(_0x572bff['sprite']=_0x1dcd50['sprite']),_0x1dcd50['spriteFram'+'e']!==void(0x6e*-0x35+0x5*-0x169+-0x5f7*-0x5)&&(_0x572bff['spriteFram'+'e']=_0x1dcd50['spriteFram'+'e']),_0x1dcd50['pixelsPerU'+'nit']!==void(0x7*-0x46f+0x21a*0x9+0xc1f)&&_0x1dcd50['pixelsPerU'+'nit']!==null&&(_0x572bff['pixelsPerU'+'nit']=_0x1dcd50['pixelsPerU'+'nit']),_0x1dcd50['materialAs'+'set']!==void(0xd*0x205+-0x1f*-0x4+-0x1abd)&&(_0x572bff['materialAs'+'set']=_0x1dcd50['materialAs'+'set']),_0x1dcd50['material']&&(_0x572bff['material']=_0x1dcd50['material']),_0x1dcd50['mask']!==void(0x12c1*0x1+-0x4e1+-0xde0)&&(_0x572bff['mask']=_0x1dcd50['mask'])):_0x572bff['type']===jv&&(_0x1dcd50['autoWidth']!==void(0x2ea*-0x5+-0x87f+0x1711)&&(_0x572bff['autoWidth']=_0x1dcd50['autoWidth']),_0x1dcd50['autoHeight']!==void(0x1*-0xc91+0x2093+-0xa01*0x2)&&(_0x572bff['autoHeight']=_0x1dcd50['autoHeight']),_0x1dcd50['rtlReorder']!==void(-0x132d*-0x1+-0x1965+0x18e*0x4)&&(_0x572bff['rtlReorder']=_0x1dcd50['rtlReorder']),_0x1dcd50['unicodeCon'+'verter']!==void(-0x20fd+0x1a61+0x69c)&&(_0x572bff['unicodeCon'+'verter']=_0x1dcd50['unicodeCon'+'verter']),_0x1dcd50['text']!==null&&_0x1dcd50['text']!==void(0x443*-0x5+-0xf2f+0x1*0x247e)?_0x572bff['text']=_0x1dcd50['text']:_0x1dcd50['key']!==null&&_0x1dcd50['key']!==void(0x30f*-0x2+0x178d+-0x116f)&&(_0x572bff['key']=_0x1dcd50['key']),_0x1dcd50['color']!==void(-0x138+0x176f+-0x1*0x1637)&&(_0x3965b0=_0x1dcd50['color'],_0x3965b0 instanceof ie||(_0x3965b0=new ie(_0x3965b0[-0x1*-0x1d99+-0x8*0xce+-0x34f*0x7],_0x3965b0[0xc1e+0x21f2+-0x1*0x2e0f],_0x3965b0[0x1ab1+-0x27a*0xa+-0x1eb])),_0x572bff['color']=_0x3965b0),_0x1dcd50['opacity']!==void(0x1*0xdab+-0x14b7+-0x1*-0x70c)&&(_0x572bff['opacity']=_0x1dcd50['opacity']),_0x1dcd50['spacing']!==void(0x151*-0x11+0xbe*0x4+-0x1*-0x1369)&&(_0x572bff['spacing']=_0x1dcd50['spacing']),_0x1dcd50['fontSize']!==void(-0x8*-0x24a+0xa*0x2e5+0x20e*-0x17)&&(_0x572bff['fontSize']=_0x1dcd50['fontSize'],_0x1dcd50['lineHeight']||(_0x572bff['lineHeight']=_0x1dcd50['fontSize'])),_0x1dcd50['lineHeight']!==void(0x14*0x6d+-0x4*-0x772+-0x264c)&&(_0x572bff['lineHeight']=_0x1dcd50['lineHeight']),_0x1dcd50['maxLines']!==void(0x105f+-0x151*-0xd+-0x217c)&&(_0x572bff['maxLines']=_0x1dcd50['maxLines']),_0x1dcd50['wrapLines']!==void(-0x2ba*0x1+-0x7b2+-0x3a*-0x2e)&&(_0x572bff['wrapLines']=_0x1dcd50['wrapLines']),_0x1dcd50['minFontSiz'+'e']!==void(-0x2186*-0x1+-0x405*-0x6+0x20f*-0x1c)&&(_0x572bff['minFontSiz'+'e']=_0x1dcd50['minFontSiz'+'e']),_0x1dcd50['maxFontSiz'+'e']!==void(0x6b*-0x29+-0x1*0xe28+-0x1f4b*-0x1)&&(_0x572bff['maxFontSiz'+'e']=_0x1dcd50['maxFontSiz'+'e']),_0x1dcd50['autoFitWid'+'th']&&(_0x572bff['autoFitWid'+'th']=_0x1dcd50['autoFitWid'+'th']),_0x1dcd50['autoFitHei'+'ght']&&(_0x572bff['autoFitHei'+'ght']=_0x1dcd50['autoFitHei'+'ght']),_0x1dcd50['fontAsset']!==void(-0xe71*0x1+-0x269f+0xd44*0x4)&&(_0x572bff['fontAsset']=_0x1dcd50['fontAsset']),_0x1dcd50['font']!==void(-0x31f*-0x1+-0x1f00+-0x3d*-0x75)&&(_0x572bff['font']=_0x1dcd50['font']),_0x1dcd50['alignment']!==void(-0x25a3*-0x1+-0x625+-0x1*0x1f7e)&&(_0x572bff['alignment']=_0x1dcd50['alignment']),_0x1dcd50['outlineCol'+'or']!==void(0xe69+-0xbf+-0xdaa)&&(_0x572bff['outlineCol'+'or']=_0x1dcd50['outlineCol'+'or']),_0x1dcd50['outlineThi'+'ckness']!==void(0x1*0x10e7+0x1*-0x1a35+0x94e)&&(_0x572bff['outlineThi'+'ckness']=_0x1dcd50['outlineThi'+'ckness']),_0x1dcd50['shadowColo'+'r']!==void(-0x1c41+0x109*-0x25+-0x2147*-0x2)&&(_0x572bff['shadowColo'+'r']=_0x1dcd50['shadowColo'+'r']),_0x1dcd50['shadowOffs'+'et']!==void(-0x1*-0x45d+-0x3*0xc07+0x1fb8)&&(_0x572bff['shadowOffs'+'et']=_0x1dcd50['shadowOffs'+'et']),_0x1dcd50['enableMark'+'up']!==void(-0x746*-0x3+0x1*0x1d03+-0x32d5)&&(_0x572bff['enableMark'+'up']=_0x1dcd50['enableMark'+'up']));const _0x226d35=_0x572bff['_parseUpTo'+'Screen']();_0x226d35['screen']&&_0x572bff['_updateScr'+'een'](_0x226d35['screen']),super['initialize'+'ComponentD'+'ata'](_0x572bff,_0x1dcd50,_0x43df20),_0x572bff['_beingInit'+'ialized']=!(0x1da3+-0x84c+-0x1556),_0x572bff['type']===Cu&&_0x572bff['_image']['_meshDirty']&&_0x572bff['_image']['_updateMes'+'h'](_0x572bff['_image']['mesh']);}['onAddCompo'+'nent'](_0x5cc907,_0x112ae3){_0x5cc907['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x44ca85,_0x1fb994){_0x1fb994['onRemove']();}['cloneCompo'+'nent'](_0x50ccb9,_0xa36349){const _0x4855b2=_0x50ccb9['element'],_0x2ac312={'enabled':_0x4855b2['enabled'],'width':_0x4855b2['width'],'height':_0x4855b2['height'],'anchor':_0x4855b2['anchor']['clone'](),'pivot':_0x4855b2['pivot']['clone'](),'margin':_0x4855b2['margin']['clone'](),'alignment':_0x4855b2['alignment']&&_0x4855b2['alignment']['clone']()||_0x4855b2['alignment'],'autoWidth':_0x4855b2['autoWidth'],'autoHeight':_0x4855b2['autoHeight'],'type':_0x4855b2['type'],'rect':_0x4855b2['rect']&&_0x4855b2['rect']['clone']()||_0x4855b2['rect'],'rtlReorder':_0x4855b2['rtlReorder'],'unicodeConverter':_0x4855b2['unicodeCon'+'verter'],'materialAsset':_0x4855b2['materialAs'+'set'],'material':_0x4855b2['material'],'color':_0x4855b2['color']&&_0x4855b2['color']['clone']()||_0x4855b2['color'],'opacity':_0x4855b2['opacity'],'textureAsset':_0x4855b2['textureAss'+'et'],'texture':_0x4855b2['texture'],'spriteAsset':_0x4855b2['spriteAsse'+'t'],'sprite':_0x4855b2['sprite'],'spriteFrame':_0x4855b2['spriteFram'+'e'],'pixelsPerUnit':_0x4855b2['pixelsPerU'+'nit'],'spacing':_0x4855b2['spacing'],'lineHeight':_0x4855b2['lineHeight'],'wrapLines':_0x4855b2['wrapLines'],'layers':_0x4855b2['layers'],'fontSize':_0x4855b2['fontSize'],'minFontSize':_0x4855b2['minFontSiz'+'e'],'maxFontSize':_0x4855b2['maxFontSiz'+'e'],'autoFitWidth':_0x4855b2['autoFitWid'+'th'],'autoFitHeight':_0x4855b2['autoFitHei'+'ght'],'maxLines':_0x4855b2['maxLines'],'fontAsset':_0x4855b2['fontAsset'],'font':_0x4855b2['font'],'useInput':_0x4855b2['useInput'],'fitMode':_0x4855b2['fitMode'],'batchGroupId':_0x4855b2['batchGroup'+'Id'],'mask':_0x4855b2['mask'],'outlineColor':_0x4855b2['outlineCol'+'or']&&_0x4855b2['outlineCol'+'or']['clone']()||_0x4855b2['outlineCol'+'or'],'outlineThickness':_0x4855b2['outlineThi'+'ckness'],'shadowColor':_0x4855b2['shadowColo'+'r']&&_0x4855b2['shadowColo'+'r']['clone']()||_0x4855b2['shadowColo'+'r'],'shadowOffset':_0x4855b2['shadowOffs'+'et']&&_0x4855b2['shadowOffs'+'et']['clone']()||_0x4855b2['shadowOffs'+'et'],'enableMarkup':_0x4855b2['enableMark'+'up']};return _0x4855b2['key']!==void(-0x143*0x6+0xb23+-0x391)&&_0x4855b2['key']!==null?_0x2ac312['key']=_0x4855b2['key']:_0x2ac312['text']=_0x4855b2['text'],this['addCompone'+'nt'](_0xa36349,_0x2ac312);}['getTextEle'+'mentMateri'+'al'](_0x4ffc91,_0x233331,_0x1a8424){const _0x56132c=(_0x4ffc91&&0x1f60+-0x1*0x2644+0x6e5)|(_0x233331&&0x1*-0x17e5+-0xf8e*-0x2+-0x735)|(_0x1a8424&&-0xdd0+-0x302+-0x2*-0x86b);let _0x3e86ce=this['_defaultTe'+'xtMaterial'+'s'][_0x56132c];if(_0x3e86ce)return _0x3e86ce;let _0x494f47='TextMateri'+'al';return _0x3e86ce=new Ut(),_0x233331?(_0x3e86ce['msdfMap']=this['_defaultTe'+'xture'],_0x3e86ce['msdfTextAt'+'tribute']=_0x1a8424,_0x3e86ce['emissive']['set'](-0x114d+-0x1*-0x1d15+-0xbc7,0x1*-0xb17+0x1*0xf40+-0x428,-0x48*-0x3e+-0x1916+0x7a7)):(_0x494f47='Bitmap'+_0x494f47,_0x3e86ce['emissive']['set'](0x1*-0x1473+-0x94e*0x3+0x12e*0x29,-0x1f*0x1+0x1c61+-0x1c41,-0x145+0x2306+-0x21c0),_0x3e86ce['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x3e86ce['opacityMap']=this['_defaultTe'+'xture'],_0x3e86ce['opacityMap'+'Channel']='a'),_0x4ffc91&&(_0x494f47='ScreenSpac'+'e'+_0x494f47,_0x3e86ce['depthTest']=!(0x73+-0x24d9*-0x1+-0x254b)),_0x3e86ce['name']='default'+_0x494f47,_0x3e86ce['useLightin'+'g']=!(-0x25cc+-0xb9e*-0x2+0xe91),_0x3e86ce['useTonemap']=!(0x2*-0x1019+-0xee+0x2121*0x1),_0x3e86ce['useFog']=!(-0x1a9d+0xfee+0xab0),_0x3e86ce['useSkybox']=!(-0x11fc+-0x1*-0x26fa+-0x1b*0xc7),_0x3e86ce['diffuse']['set'](0xf84*0x1+0x53b+-0x14bf,-0x8b9+0x4f4*-0x4+0x1c89,0x1*0x4ff+-0x22c*-0xc+-0x1f0f),_0x3e86ce['opacity']=-0xe57+-0x1b7*-0x1+0x1*0xca0+0.5,_0x3e86ce['blendType']=Gn,_0x3e86ce['depthWrite']=!(-0x1*0x1ecb+-0x6*-0x494+0x47*0xc),_0x3e86ce['emissiveVe'+'rtexColor']=!(-0x3*-0x59f+-0xfaf+-0x12e),_0x3e86ce['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x56132c]=_0x3e86ce,_0x3e86ce;}['_createBas'+'eImageMate'+'rial'](){const _0x52e925=new Ut();return _0x52e925['diffuse']['set'](0x16*-0x1b+-0x1*-0x79d+-0x54b,0x50e*-0x3+0x1*0x1837+-0x90d,-0x14*-0x19+0x3af+-0x5a3),_0x52e925['emissive']['set'](-0x22a9+0x21*0x6f+0x145b,-0x161f+-0x1a30+0x3050,0x1159+-0x1673+0x51b),_0x52e925['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x52e925['opacityMap']=this['_defaultTe'+'xture'],_0x52e925['opacityMap'+'Channel']='a',_0x52e925['useLightin'+'g']=!(0x1e91+0x2609+0x409*-0x11),_0x52e925['useTonemap']=!(-0x2501+0x9a3+-0x27d*-0xb),_0x52e925['useFog']=!(0x7*-0x43f+0x5de+0x17dc),_0x52e925['useSkybox']=!(0x1551+0x1*0x1f40+-0x74*0x74),_0x52e925['blendType']=Gn,_0x52e925['depthWrite']=!(-0x192f+0x16df+-0x1*-0x251),_0x52e925;}['getImageEl'+'ementMater'+'ial'](_0x3cd26b,_0x149f28,_0x313d3a,_0x4cf0a8){return _0x3cd26b?_0x149f28?_0x313d3a?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(-0x1357*0x1+-0x1ae1+0x1*0x2e39),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=0x173+-0x191d+0x17ab,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(0x1db3+0xfb7+-0x2d69),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(-0x1520+-0x219*0xf+-0x198*-0x21),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(0x5b5+0x19*0x19+-0x825),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(-0xa85*-0x3+-0x117a+-0xe14),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x4cf0a8?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(-0x1156+0x23*-0x108+0x356f),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=0x1*0x19c6+-0xd6a+-0xc5b,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(0x10*-0x128+-0x279+0x14fa),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(0x4c7*0x3+-0x8ae*0x4+0x1464),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(-0xf4*0x17+-0x5ba*0x3+0x1*0x271b),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(-0x7*-0x1bd+0x512+-0x113c),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(-0x6ab*-0x1+0x1*-0xcf1+0x1*0x647),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=0x1*-0x1d1d+-0x1f0f+-0x41*-0xed,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(-0xd4c*-0x1+-0x1f1b+0x50*0x39),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(0x491+0x698*0x4+-0xc6*0x28),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(0x1f68+-0x1818+-0x74f),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(0xb3a+0x21f9+0x1699*-0x2),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x313d3a?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(0x17*-0x89+0x198*-0x16+0x2f60),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x4cf0a8?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(0x31d*-0x5+-0x1dc0+0x1*0x2d52),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(0xb02+-0x26ed+0x1bec),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x149f28?_0x313d3a?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=0x822*0x3+-0x1*0x243a+0xbd5,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(0x1ddf+0x2f5*-0x2+-0x2a*0x92),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(0x23cd+-0xac4*0x1+0xc*-0x216),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(0x219b+0x2261+-0x43fb),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(0x4d*0x53+0x105c+-0x2b*0xf6),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x4cf0a8?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=0xef9*0x2+-0x26a7+0x8b6,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(0x1*0x2299+-0x19*0x9d+0x1343*-0x1),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(-0x105*-0x7+-0x2370+0x1*0x1c4e),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(0x65+-0x6a*0x29+0x1096),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(-0xbb7*-0x2+0xea8+0x2615*-0x1),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=-0x3*-0x85+-0x1*-0x1496+0xda*-0x1a,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(0x12d*0x10+-0x122c+-0x1*0xa3),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(-0x10c+0x1fbc+-0x1eaf),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(0x24ae+0x171f+0x1de6*-0x2),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(0x57e+-0x3*0x279+0x13*0x1a),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x313d3a?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x4cf0a8?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x254677){this['_unicodeCo'+'nverter']=_0x254677;}['registerRt'+'lReorder'](_0x44adb0){this['_rtlReorde'+'r']=_0x44adb0;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Xa='free',qa='limited',ja='locked',RR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class ym extends we{constructor(_0x15bc36,_0x4e9444){super(_0x15bc36,_0x4e9444),w['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(0x1040+0xced*0x2+0x2a1a*-0x1),this['_linearMot'+'ionX']=ja,this['_linearLim'+'itsX']=new J(-0xbb*0x2f+-0x28a*-0x5+0x15a3*0x1,0x26b*-0x7+0xe0*-0xd+0x1c4d),this['_linearSpr'+'ingX']=!(-0x66*0x1f+-0xeb9+0x1b14*0x1),this['_linearSti'+'ffnessX']=-0xdce+-0x2c7*0xd+0x31e9,this['_linearDam'+'pingX']=0x51c*-0x7+0x49*-0x56+0x3c4b,this['_linearEqu'+'ilibriumX']=0x153a+0x1f7a+-0x34b4,this['_linearMot'+'ionY']=ja,this['_linearLim'+'itsY']=new J(-0x3*-0x98d+0x1bff+-0x971*0x6,-0x2db*0x1+-0x1264+0x93*0x25),this['_linearSpr'+'ingY']=!(0x2*-0x74f+-0x1b*-0x61+0x464*0x1),this['_linearSti'+'ffnessY']=-0x1abb+-0x18c3+0x337e,this['_linearDam'+'pingY']=0x7e3*-0x1+0x797+-0xb*-0x7,this['_linearEqu'+'ilibriumY']=0x217f+-0x2e*0x35+-0x1*0x17f9,this['_linearMot'+'ionZ']=ja,this['_linearLim'+'itsZ']=new J(-0x15d5+-0x7*0x232+0x6b*0x59,0x20c0+0x1*0x22d8+-0x4398),this['_linearSpr'+'ingZ']=!(-0x20e*-0xa+-0x16aa+0xb5*0x3),this['_linearSti'+'ffnessZ']=-0x1e85+0x12*-0x195+0x3aff,this['_linearDam'+'pingZ']=0xff2+-0x1f85*0x1+-0x2*-0x7ca,this['_linearEqu'+'ilibriumZ']=0x53*-0x44+-0x21d9*-0x1+0x9f*-0x13,this['_angularMo'+'tionX']=ja,this['_angularLi'+'mitsX']=new J(0x1*0x12cd+-0x2418+0xe9*0x13,0xde0+-0x1161+0x381),this['_angularSp'+'ringX']=!(-0x2*0x5fd+0x18d2+-0x13*0xad),this['_angularSt'+'iffnessX']=-0x63*0x41+-0x3bc+0x1cdf,this['_angularDa'+'mpingX']=0x12*0x86+0x2*0x1131+-0x1*0x2bcd,this['_angularEq'+'uilibriumX']=-0x20c5*-0x1+-0x255a+-0x45*-0x11,this['_angularMo'+'tionY']=ja,this['_angularLi'+'mitsY']=new J(0x46a+-0x7e1+0x1*0x377,-0x176a+-0x8d0+0x339*0xa),this['_angularSp'+'ringY']=!(-0x1473+0x2*0x523+0xa2e),this['_angularSt'+'iffnessY']=-0x67b+0x2487+-0x1e0c,this['_angularDa'+'mpingY']=0x5ed*0x1+-0x3*-0xb82+-0x2872,this['_angularEq'+'uilibriumY']=-0x85b*-0x1+0x1*-0x1f91+-0x1*-0x1736,this['_angularMo'+'tionZ']=ja,this['_angularLi'+'mitsZ']=new J(-0x119*-0x13+0x15*0xe9+-0x27f8,0x2*0xd61+0x1*0x1fcb+0x1*-0x3a8d),this['_angularSp'+'ringZ']=!(0x2375+0x28d*-0xd+-0x24b*0x1),this['_angularEq'+'uilibriumZ']=0x1*0x15c1+-0xe1+-0x14e0,this['_angularDa'+'mpingZ']=-0x16db*-0x1+-0xf99+-0x741,this['_angularSt'+'iffnessZ']=0x23c3+-0x1ded*-0x1+-0x41b0,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x345649){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x345649,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0x360c29){this['_destroyCo'+'nstraint'](),this['_entityB']=_0x360c29,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x31ba6a){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x31ba6a&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x31ba6a),this['_breakForc'+'e']=_0x31ba6a);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x185aec){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x185aec,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0xc1cc88){this['_angularLi'+'mitsX']['equals'](_0xc1cc88)||(this['_angularLi'+'mitsX']['copy'](_0xc1cc88),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x176d24){this['_angularMo'+'tionX']!==_0x176d24&&(this['_angularMo'+'tionX']=_0x176d24,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x5d5022){this['_angularLi'+'mitsY']['equals'](_0x5d5022)||(this['_angularLi'+'mitsY']['copy'](_0x5d5022),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0xd8909){this['_angularMo'+'tionY']!==_0xd8909&&(this['_angularMo'+'tionY']=_0xd8909,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x8dfcfe){this['_angularLi'+'mitsZ']['equals'](_0x8dfcfe)||(this['_angularLi'+'mitsZ']['copy'](_0x8dfcfe),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x148a40){this['_angularMo'+'tionZ']!==_0x148a40&&(this['_angularMo'+'tionZ']=_0x148a40,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x1fa5f0){this['_linearLim'+'itsX']['equals'](_0x1fa5f0)||(this['_linearLim'+'itsX']['copy'](_0x1fa5f0),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x51d927){this['_linearMot'+'ionX']!==_0x51d927&&(this['_linearMot'+'ionX']=_0x51d927,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x47c953){this['_linearLim'+'itsY']['equals'](_0x47c953)||(this['_linearLim'+'itsY']['copy'](_0x47c953),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0xde2baa){this['_linearMot'+'ionY']!==_0xde2baa&&(this['_linearMot'+'ionY']=_0xde2baa,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x243ab2){this['_linearLim'+'itsZ']['equals'](_0x243ab2)||(this['_linearLim'+'itsZ']['copy'](_0x243ab2),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x5f4af4){this['_linearMot'+'ionZ']!==_0x5f4af4&&(this['_linearMot'+'ionZ']=_0x5f4af4,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x428d01,_0x4db435){const _0x43a5aa=_0x428d01['getTransla'+'tion'](),_0x17c03d=new le();_0x17c03d['setFromMat'+'4'](_0x428d01);const _0x643be2=new Ammo['btVector3'](_0x43a5aa['x'],_0x43a5aa['y'],_0x43a5aa['z']),_0x5274c5=new Ammo['btQuaterni'+'on'](_0x17c03d['x'],_0x17c03d['y'],_0x17c03d['z'],_0x17c03d['w']);_0x4db435['setOrigin'](_0x643be2),_0x4db435['setRotatio'+'n'](_0x5274c5),Ammo['destroy'](_0x643be2),Ammo['destroy'](_0x5274c5);}['_updateAng'+'ularLimits'](){const _0x1fd10c=this['_constrain'+'t'];if(_0x1fd10c){let _0x57f012,_0x3b4c34,_0x1ac3f6,_0x14d501,_0xd7c574,_0x18eef6;this['_angularMo'+'tionX']===qa?(_0x57f012=this['_angularLi'+'mitsX']['x']*Y['DEG_TO_RAD'],_0x14d501=this['_angularLi'+'mitsX']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionX']===Xa?(_0x57f012=-0xd25+-0x82b+0x1551,_0x14d501=0x7d0+-0x475*-0x7+0x1*-0x2703):_0x57f012=_0x14d501=-0x1abf+-0x1dc0+0x387f,this['_angularMo'+'tionY']===qa?(_0x3b4c34=this['_angularLi'+'mitsY']['x']*Y['DEG_TO_RAD'],_0xd7c574=this['_angularLi'+'mitsY']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionY']===Xa?(_0x3b4c34=-0x1edf+-0xb34+0x2a14,_0xd7c574=-0x19b*-0x14+0x127+-0x2143):_0x3b4c34=_0xd7c574=0xbe1+0x15b*0x1+-0xd3c,this['_angularMo'+'tionZ']===qa?(_0x1ac3f6=this['_angularLi'+'mitsZ']['x']*Y['DEG_TO_RAD'],_0x18eef6=this['_angularLi'+'mitsZ']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Xa?(_0x1ac3f6=0x189e+0x1*-0x18a3+-0x2*-0x3,_0x18eef6=-0x283+0xd66+-0xae3):_0x1ac3f6=_0x18eef6=0xede+-0x1bb8+0xcda;const _0x654c3d=new Ammo['btVector3'](_0x57f012,_0x3b4c34,_0x1ac3f6);_0x1fd10c['setAngular'+'LowerLimit'](_0x654c3d),_0x654c3d['setValue'](_0x14d501,_0xd7c574,_0x18eef6),_0x1fd10c['setAngular'+'UpperLimit'](_0x654c3d),Ammo['destroy'](_0x654c3d);}}['_updateLin'+'earLimits'](){const _0x167c8e=this['_constrain'+'t'];if(_0x167c8e){let _0x3dbaa2,_0x5d9a1d,_0x19df23,_0x25957c,_0x3e8615,_0x1def62;this['_linearMot'+'ionX']===qa?(_0x3dbaa2=this['_linearLim'+'itsX']['x'],_0x25957c=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Xa?(_0x3dbaa2=-0x874+0xee+0x787,_0x25957c=0x3c1*-0x4+0x93c+-0x4a*-0x14):_0x3dbaa2=_0x25957c=0x291+-0x651+0xa*0x60,this['_linearMot'+'ionY']===qa?(_0x5d9a1d=this['_linearLim'+'itsY']['x'],_0x3e8615=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Xa?(_0x5d9a1d=-0x1201+-0x1805+-0x35*-0xcb,_0x3e8615=0x287+0xb*0x2f5+-0x230e):_0x5d9a1d=_0x3e8615=-0x142c+0x3b1+0x107b,this['_linearMot'+'ionZ']===qa?(_0x19df23=this['_linearLim'+'itsZ']['x'],_0x1def62=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Xa?(_0x19df23=-0x2d*-0x95+-0x1147*0x1+0x8e9*-0x1,_0x1def62=0x17ca+0xf59+-0xe9*0x2b):_0x19df23=_0x1def62=0x2627+-0x1c43+0xd3*-0xc;const _0x290be7=new Ammo['btVector3'](_0x3dbaa2,_0x5d9a1d,_0x19df23);_0x167c8e['setLinearL'+'owerLimit'](_0x290be7),_0x290be7['setValue'](_0x25957c,_0x3e8615,_0x1def62),_0x167c8e['setLinearU'+'pperLimit'](_0x290be7),Ammo['destroy'](_0x290be7);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0xf3110b=new te(),_0x5bcaec=this['_entityA']['rigidbody']['body'];_0x5bcaec['activate']();const _0x5290db=this['entity']['getWorldTr'+'ansform'](),_0x5f5af5=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0xf3110b['mul2'](_0x5f5af5,_0x5290db);const _0x3c61e8=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0xf3110b,_0x3c61e8),this['_entityB']&&this['_entityB']['rigidbody']){const _0x2056b7=this['_entityB']['rigidbody']['body'];_0x2056b7['activate']();const _0x3ef4f8=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0xf3110b['mul2'](_0x3ef4f8,_0x5290db);const _0x226904=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0xf3110b,_0x226904),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x5bcaec,_0x2056b7,_0x3c61e8,_0x226904,!this['_enableCol'+'lision']),Ammo['destroy'](_0x226904);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x5bcaec,_0x3c61e8,!this['_enableCol'+'lision']);Ammo['destroy'](_0x3c61e8);const _0x56cbed=['X','Y','Z','X','Y','Z'];for(let _0x149919=-0x1971+-0x2*-0x4ad+-0x1017*-0x1;_0x149919<0x1c6e+0x26fd+-0x4365;_0x149919++){const _0x2b46d7=_0x149919<0x3*0x59f+-0x77a+-0x960?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0x149919,this[_0x2b46d7+'Spring'+_0x56cbed[_0x149919]]),this['_constrain'+'t']['setDamping'](_0x149919,this[_0x2b46d7+'Damping'+_0x56cbed[_0x149919]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0x149919,this[_0x2b46d7+('Equilibriu'+'m')+_0x56cbed[_0x149919]]),this['_constrain'+'t']['setStiffne'+'ss'](_0x149919,this[_0x2b46d7+'Stiffness'+_0x56cbed[_0x149919]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x4dd7fc){for(const _0x3dcd11 of RR)_0x4dd7fc['hasOwnProp'+'erty'](_0x3dcd11)&&(_0x4dd7fc[_0x3dcd11]instanceof J?this['_'+_0x3dcd11]['copy'](_0x4dd7fc[_0x3dcd11]):this['_'+_0x3dcd11]=_0x4dd7fc[_0x3dcd11]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0x427a2d,_0x1c9811,_0x12ae2b){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const OR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x2b346a=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x120bc9=>{['X','Y','Z']['forEach'](_0x359f2e=>{const _0x356d90=_0x2b346a+_0x120bc9+_0x359f2e,_0x3b25ba='_'+_0x356d90;let _0x12958f=_0x2b346a==='linear'?-0x8d2*-0x2+0x2*0x6f6+-0x1f90:0x1*-0x643+0x3b*0x2c+-0x3de;_0x359f2e==='Y'&&(_0x12958f+=0x21ce+-0x1ff6+-0x1d7),_0x359f2e==='Z'&&(_0x12958f+=-0x215a*0x1+0x6f9*0x3+0x7*0x1c7),Object['defineProp'+'erty'](ym['prototype'],_0x356d90,{'get':function(){return this[_0x3b25ba];},'set':function(_0x90de0){this[_0x3b25ba]!==_0x90de0&&(this[_0x3b25ba]=_0x90de0,this['_constrain'+'t'][OR[_0x120bc9]](_0x12958f,_0x90de0));}});});});});class FR{constructor(){this['enabled']=!(0x22*-0xc7+0x167d+0x3f1);}}const Fu=['enabled'];class NR extends ct{constructor(_0xb0e2ee){super(_0xb0e2ee),this['id']='joint',this['app']=_0xb0e2ee,this['ComponentT'+'ype']=ym,this['DataType']=FR,this['schema']=Fu;}['initialize'+'ComponentD'+'ata'](_0x12398e,_0x3b56,_0x5ad459){_0x12398e['initFromDa'+'ta'](_0x3b56),super['initialize'+'ComponentD'+'ata'](_0x12398e,_0x3b56,Fu);}}we['_buildAcce'+'ssors'](ym['prototype'],Fu);class Jv extends we{constructor(){super(...arguments),h(this,'_minWidth',0xe9*0x12+0x1*-0xe21+-0x241),h(this,'_minHeight',0x2154+0x9*0x101+-0x2a5d),h(this,'_maxWidth',null),h(this,'_maxHeight',null),h(this,'_fitWidthP'+'roportion',0x4c1*0x3+0x103d+-0x1e80),h(this,'_fitHeight'+'Proportion',-0x36*-0x9+0x56e+-0x754),h(this,'_excludeFr'+'omLayout',!(0x8*-0x414+-0x1e53+-0xc*-0x53f));}set['minWidth'](_0x587042){_0x587042!==this['_minWidth']&&(this['_minWidth']=_0x587042,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x33586d){_0x33586d!==this['_minHeight']&&(this['_minHeight']=_0x33586d,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x9eb311){_0x9eb311!==this['_maxWidth']&&(this['_maxWidth']=_0x9eb311,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x4e597b){_0x4e597b!==this['_maxHeight']&&(this['_maxHeight']=_0x4e597b,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x2b3400){_0x2b3400!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x2b3400,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x4d3ec8){_0x4d3ec8!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x4d3ec8,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x4998e0){_0x4998e0!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x4998e0,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class kR{constructor(){this['enabled']=!(0x137e+0x1f*0xa2+-0x9c7*0x4);}}const e0=['enabled'];class UR extends ct{constructor(_0x28ee0a){super(_0x28ee0a),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=Jv,this['DataType']=kR,this['schema']=e0;}['initialize'+'ComponentD'+'ata'](_0x665856,_0x4a29f9,_0x15fcf1){_0x4a29f9['enabled']!==void(-0x14b+0x12c5+0x8bd*-0x2)&&(_0x665856['enabled']=_0x4a29f9['enabled']),_0x4a29f9['minWidth']!==void(0x31*-0x98+-0x47*0x5+0x1e7b)&&(_0x665856['minWidth']=_0x4a29f9['minWidth']),_0x4a29f9['minHeight']!==void(0x8*0xe8+-0xb3c+-0xa*-0x66)&&(_0x665856['minHeight']=_0x4a29f9['minHeight']),_0x4a29f9['maxWidth']!==void(0x42*-0x4b+0x2ab*-0x7+-0x2603*-0x1)&&(_0x665856['maxWidth']=_0x4a29f9['maxWidth']),_0x4a29f9['maxHeight']!==void(0x1*-0x1633+0x1af3+-0x4c0)&&(_0x665856['maxHeight']=_0x4a29f9['maxHeight']),_0x4a29f9['fitWidthPr'+'oportion']!==void(0x266d+0x17c3*-0x1+-0xeaa)&&(_0x665856['fitWidthPr'+'oportion']=_0x4a29f9['fitWidthPr'+'oportion']),_0x4a29f9['fitHeightP'+'roportion']!==void(-0x2192+0x1124*0x1+0x106e)&&(_0x665856['fitHeightP'+'roportion']=_0x4a29f9['fitHeightP'+'roportion']),_0x4a29f9['excludeFro'+'mLayout']!==void(-0xe5d*0x1+0x2*-0xe29+-0x31*-0xdf)&&(_0x665856['excludeFro'+'mLayout']=_0x4a29f9['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x665856,_0x4a29f9,_0x15fcf1);}['cloneCompo'+'nent'](_0x32ecde,_0x15a1ed){const _0x26c648=_0x32ecde['layoutchil'+'d'];return this['addCompone'+'nt'](_0x15a1ed,{'enabled':_0x26c648['enabled'],'minWidth':_0x26c648['minWidth'],'minHeight':_0x26c648['minHeight'],'maxWidth':_0x26c648['maxWidth'],'maxHeight':_0x26c648['maxHeight'],'fitWidthProportion':_0x26c648['fitWidthPr'+'oportion'],'fitHeightProportion':_0x26c648['fitHeightP'+'roportion'],'excludeFromLayout':_0x26c648['excludeFro'+'mLayout']});}}we['_buildAcce'+'ssors'](Jv['prototype'],e0);const Nu=-0x1*-0x4+-0x881+0x1*0x87d,BR=-0x1*0x61+-0x146b+0x14cd,Qg=0x216d+0x7f*-0x15+-0x1700,zR=-0x1*0x18b2+0x1b72+-0x2bd,Oh={};Oh[Ce]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Oh[je]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const vm={};vm[Ce]=je,vm[je]=Ce;const VR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},os={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},ls=new J();function t0(_0xb49610){let _0x4e3fc2;const _0x2d3f4f=Oh[_0xb49610],_0x381c69=Oh[vm[_0xb49610]];function _0xf23874(_0x5ccd50,_0x3e4fa7){return-_0x3e4fa7[_0x2d3f4f['size']]*_0x5ccd50['pivot'][_0x2d3f4f['axis']];}function _0x38ed0f(_0x4f9ce7,_0x5409c6){return-_0x5409c6[_0x381c69['size']]*_0x4f9ce7['pivot'][_0x381c69['axis']];}function _0x3af953(_0x53da5e,_0x3647b3){return _0x3647b3[_0x2d3f4f['size']]*(0x1*0x1a17+0x2*0x7a2+0x2*-0x14ad-_0x53da5e['pivot'][_0x2d3f4f['axis']]);}function _0x258596(_0x356388,_0x519695){_0x356388=_0x356388['filter'](_0x24c470),_0x4e3fc2=_0x519695,ls['x']=_0x4e3fc2['containerS'+'ize']['x']-_0x4e3fc2['padding']['x']-_0x4e3fc2['padding']['z'],ls['y']=_0x4e3fc2['containerS'+'ize']['y']-_0x4e3fc2['padding']['y']-_0x4e3fc2['padding']['w'],_0x1a1a71(_0x356388);const _0x38417e=_0x3b085c(_0x272e67(_0x356388)),_0x203d66=_0x17a8d7(_0x38417e,_0x13d6d9(_0x38417e)),_0x3f69f3=_0x5925ec(_0x38417e,_0x203d66);return _0x211ca2(_0x38417e,_0x203d66,_0x3f69f3),_0x33d84c(_0x38417e,_0x203d66,_0x3f69f3),_0x52f37c(_0x38417e);}function _0x24c470(_0x2ba9c5){const _0x5db9f2=_0x2ba9c5['entity']['layoutchil'+'d'];return!_0x5db9f2||!_0x5db9f2['enabled']||!_0x5db9f2['excludeFro'+'mLayout'];}function _0x1a1a71(_0x123609){for(let _0x1ab7ec=-0x25b1*-0x1+0x1*0xb92+0x1*-0x3143;_0x1ab7ec<_0x123609['length'];++_0x1ab7ec){const _0xa454fe=_0x123609[_0x1ab7ec],_0xe37d30=_0xa454fe['anchor'];(_0xe37d30['x']!==-0xb7a+-0x2b7*-0x9+0xcf5*-0x1||_0xe37d30['y']!==0x11d*-0x1+0x1961*-0x1+0x1a7e||_0xe37d30['z']!==0x614*-0x5+-0x1bd9*0x1+0x3a3d||_0xe37d30['w']!==-0x137b+-0x1b5d+0x2ed8)&&(_0xa454fe['anchor']=re['ZERO']);}}function _0x272e67(_0x492619){if(!_0x4e3fc2['wrap'])return[_0x492619];const _0x1aa5fa=[[]],_0x3e03be=_0x4c4cd0(_0x492619);let _0x5984ce=0x3*0x6b6+-0x1*-0x1311+-0xd11*0x3;const _0x3f8bc5=_0x4e3fc2[_0x2d3f4f['fitting']]===Qg;for(let _0x4170c3=0xc58+-0x468+0x8*-0xfe;_0x4170c3<_0x492619['length'];++_0x4170c3){_0x1aa5fa[_0x1aa5fa['length']-(-0x4da+-0x2356+0x2831)]['length']>0x23e2+0xb14*-0x3+-0x1*0x2a6&&(_0x5984ce+=_0x4e3fc2['spacing'][_0x2d3f4f['axis']]);const _0x3b20e5=_0x3e03be[_0x4170c3][_0x2d3f4f['size']];_0x5984ce+=_0x3b20e5,!_0x3f8bc5&&_0x5984ce>ls[_0x2d3f4f['axis']]&&_0x1aa5fa[_0x1aa5fa['length']-(-0x121*0xd+0x47*0x6+0xd04)]['length']!==0x1719+0x1025+-0x139f*0x2&&(_0x5984ce=_0x3b20e5,_0x1aa5fa['push']([])),_0x1aa5fa[_0x1aa5fa['length']-(0x2e+-0x130c+-0x1*-0x12df)]['push'](_0x492619[_0x4170c3]),_0x3f8bc5&&_0x5984ce>ls[_0x2d3f4f['axis']]&&_0x4170c3!==_0x492619['length']-(0x2174+-0x1*-0x1d5d+-0x3ed0)&&(_0x5984ce=0x12c5+-0xd*-0xef+-0x2b*0xb8,_0x1aa5fa['push']([]));}return _0x1aa5fa;}function _0x3b085c(_0x184a91){const _0x184b3d=_0x4e3fc2['orientatio'+'n']===Ce&&_0x4e3fc2['reverseX']||_0x4e3fc2['orientatio'+'n']===je&&_0x4e3fc2['reverseY'],_0xf92cab=_0x4e3fc2['orientatio'+'n']===Ce&&_0x4e3fc2['reverseY']||_0x4e3fc2['orientatio'+'n']===je&&_0x4e3fc2['reverseX'];if(_0x184b3d){for(let _0x42e8ad=-0x26c5+0x2596+0x12f;_0x42e8ad<_0x184a91['length'];++_0x42e8ad)_0x184b3d&&_0x184a91[_0x42e8ad]['reverse']();}return _0xf92cab&&_0x184a91['reverse'](),_0x184a91;}function _0x13d6d9(_0x1dc03e){const _0x531a8a=[];for(let _0x2edd07=-0x82d+-0x2d+-0x42d*-0x2;_0x2edd07<_0x1dc03e['length'];++_0x2edd07){const _0xeff7ef=_0x1dc03e[_0x2edd07],_0x387c68=_0x4c4cd0(_0xeff7ef),_0x2936ba=_0x405c77(_0x387c68,_0x2d3f4f),_0x58ecab=_0x10e772(_0x4e3fc2[_0x2d3f4f['fitting']],_0x2936ba,ls[_0x2d3f4f['axis']]);_0x58ecab===os['APPLY_STRE'+'TCHING']?_0x494442(_0x387c68,_0x2936ba,_0x2d3f4f):_0x58ecab===os['APPLY_SHRI'+'NKING']&&_0x7ac480(_0x387c68,_0x2936ba,_0x2d3f4f),_0x531a8a['push'](_0x387c68);}return _0x531a8a;}function _0x17a8d7(_0x2b273b,_0x5e1b3e){const _0x35f850=[],_0x571d53=[];for(let _0x201b47=0x1fbf*0x1+-0x1b26+-0x499*0x1;_0x201b47<_0x2b273b['length'];++_0x201b47){const _0x2d8797=_0x2b273b[_0x201b47];_0x2d8797['largestEle'+'ment']=null,_0x2d8797['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x437ec8=0x1*-0xa96+0x1565+-0xacf;_0x437ec8<_0x2d8797['length'];++_0x437ec8){const _0x4a0f9f=_0x5e1b3e[_0x201b47][_0x437ec8];_0x4a0f9f[_0x381c69['size']]>_0x2d8797['largestSiz'+'e'][_0x381c69['size']]&&(_0x2d8797['largestEle'+'ment']=_0x2d8797[_0x437ec8],_0x2d8797['largestSiz'+'e']=_0x4a0f9f);}_0x35f850['push'](_0x2d8797['largestEle'+'ment']),_0x571d53['push'](_0x2d8797['largestSiz'+'e']);}const _0x1e6565=_0x405c77(_0x571d53,_0x381c69),_0x5a7500=_0x10e772(_0x4e3fc2[_0x381c69['fitting']],_0x1e6565,ls[_0x381c69['axis']]);_0x5a7500===os['APPLY_STRE'+'TCHING']?_0x494442(_0x571d53,_0x1e6565,_0x381c69):_0x5a7500===os['APPLY_SHRI'+'NKING']&&_0x7ac480(_0x571d53,_0x1e6565,_0x381c69);for(let _0x1168ef=0x22fa+0x1a33+0x1*-0x3d2d;_0x1168ef<_0x2b273b['length'];++_0x1168ef){const _0x216aa6=_0x2b273b[_0x1168ef];for(let _0x54c25a=-0x1*0x2065+0x1*0xafd+-0x55a*-0x4;_0x54c25a<_0x216aa6['length'];++_0x54c25a){const _0x2cec66=_0x5e1b3e[_0x1168ef][_0x54c25a],_0x1d503e=_0x2cec66[_0x381c69['size']],_0xf1f232=_0x2b273b['length']===-0x1*0xd4e+-0x17d3+0x2522?ls[_0x381c69['axis']]:_0x216aa6['largestSiz'+'e'][_0x381c69['size']],_0x2fda3c=_0x10e772(_0x4e3fc2[_0x381c69['fitting']],_0x1d503e,_0xf1f232);_0x2fda3c===os['APPLY_STRE'+'TCHING']?_0x2cec66[_0x381c69['size']]=Math['min'](_0xf1f232,_0x2cec66[_0x381c69['maxSize']]):_0x2fda3c===os['APPLY_SHRI'+'NKING']&&(_0x2cec66[_0x381c69['size']]=Math['max'](_0xf1f232,_0x2cec66[_0x381c69['minSize']]));}}return _0x5e1b3e;}function _0x10e772(_0xb8636b,_0x3b4da4,_0x66bcf3){switch(_0xb8636b){case Nu:return os['NONE'];case BR:return _0x3b4da4<_0x66bcf3?os['APPLY_STRE'+'TCHING']:os['NONE'];case Qg:return _0x3b4da4>=_0x66bcf3?os['APPLY_SHRI'+'NKING']:os['NONE'];case zR:return _0x3b4da4<_0x66bcf3?os['APPLY_STRE'+'TCHING']:os['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0xb8636b);}}function _0x405c77(_0x72bf34,_0x3bf420){const _0x33766f=_0x23df76(_0x72bf34,_0x3bf420['size']),_0x5bed38=(_0x72bf34['length']-(0x10e8*0x1+0x88*-0x40+0x1119*0x1))*_0x4e3fc2['spacing'][_0x3bf420['axis']];return _0x33766f+_0x5bed38;}function _0x494442(_0x11bcfb,_0x1ab42b,_0x24c4ef){const _0x57c500=_0x12d739(_0x11bcfb,_0x24c4ef['maxSize']),_0x2678ee=_0x5f59b7(_0x11bcfb,_0x24c4ef['fittingPro'+'portion']),_0x4d2c13=_0x32f426(_0x2678ee,_0x57c500);let _0x4bca22=ls[_0x24c4ef['axis']]-_0x1ab42b;for(let _0x378520=0x19*0x18c+-0xd*-0x135+-0x365d;_0x378520<_0x11bcfb['length'];++_0x378520){const _0x26fa56=_0x57c500[_0x378520],_0x383e91=_0x30626b(_0x26fa56,_0x4bca22,_0x2678ee,_0x4d2c13),_0x1903f8=_0x11bcfb[_0x26fa56][_0x24c4ef['size']]+_0x383e91,_0x3fc036=_0x11bcfb[_0x26fa56][_0x24c4ef['maxSize']],_0xe57533=Math['min'](_0x1903f8,_0x3fc036);_0x11bcfb[_0x26fa56][_0x24c4ef['size']]=_0xe57533;const _0x380b06=Math['max'](_0x1903f8-_0xe57533,0x208c+-0x167*0x2+-0x1dbe),_0x3323ec=_0x383e91-_0x380b06;_0x4bca22-=_0x3323ec;}}function _0x7ac480(_0x415edb,_0x288ae6,_0x377bde){const _0x3fb157=_0x12d739(_0x415edb,_0x377bde['minSize'],!(0x9*0x242+0x23a0+-0xe7*0x3e)),_0x3009dc=_0x5f59b7(_0x415edb,_0x377bde['fittingPro'+'portion']),_0x1cff9a=_0x5065fb(_0x3009dc),_0x1d3b99=_0x32f426(_0x1cff9a,_0x3fb157);let _0x300298=_0x288ae6-ls[_0x377bde['axis']];for(let _0x3d65fa=-0x1312+0x40a*0x5+-0x18*0xc;_0x3d65fa<_0x415edb['length'];++_0x3d65fa){const _0x829bbb=_0x3fb157[_0x3d65fa],_0x343ec4=_0x30626b(_0x829bbb,_0x300298,_0x1cff9a,_0x1d3b99),_0x3d4b26=_0x415edb[_0x829bbb][_0x377bde['size']]-_0x343ec4,_0x1bcda4=_0x415edb[_0x829bbb][_0x377bde['minSize']],_0x1cb102=Math['max'](_0x3d4b26,_0x1bcda4);_0x415edb[_0x829bbb][_0x377bde['size']]=_0x1cb102;const _0x16fe31=Math['max'](_0x1cb102-_0x3d4b26,-0x4*0x4ae+-0x31f*-0x2+-0x2*-0x63d),_0x5d35ff=_0x343ec4-_0x16fe31;_0x300298-=_0x5d35ff;}}function _0x30626b(_0x2ddab3,_0x494542,_0x164e57,_0x4d8773){const _0x11ba1c=_0x164e57[_0x2ddab3],_0x25aed0=_0x4d8773[_0x2ddab3];return Math['abs'](_0x11ba1c)<-0x2357*0x1+-0x2578+0x48cf+0.00001&&Math['abs'](_0x25aed0)<-0x2f4+0x37*0x6+0xd5*0x2+0.00001?_0x494542:_0x494542*_0x11ba1c/_0x25aed0;}function _0x5925ec(_0x9dda7e,_0x2bad2d){const _0x5beba6={};_0x5beba6[_0x2d3f4f['axis']]=0x34a+-0x21a8+0x1e5e,_0x5beba6[_0x381c69['axis']]=-0xef6*-0x1+0x1d0b+-0x2c01,_0x9dda7e[_0x2d3f4f['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0x5d7e2f=[];for(let _0x36a8d3=-0x1809+0x71*-0x31+0x2daa;_0x36a8d3<_0x9dda7e['length'];++_0x36a8d3){const _0x4717c9=_0x9dda7e[_0x36a8d3];if(_0x4717c9['length']===-0x1*-0x1112+-0x610+0xb02*-0x1){_0x5d7e2f['push']([]);continue;}const _0x3ef627=[],_0xbda58a=_0x2bad2d[_0x36a8d3];for(let _0x2f6ddf=0x3*0x12e+0x37*0x95+0x1df*-0x13;_0x2f6ddf<_0x4717c9['length'];++_0x2f6ddf){const _0x167887=_0x4717c9[_0x2f6ddf],_0x45c563=_0xbda58a[_0x2f6ddf];_0x5beba6[_0x381c69['axis']]-=_0x38ed0f(_0x167887,_0x45c563),_0x5beba6[_0x2d3f4f['axis']]-=_0xf23874(_0x167887,_0x45c563),_0x3ef627[_0x2f6ddf]={},_0x3ef627[_0x2f6ddf][_0x2d3f4f['axis']]=_0x5beba6[_0x2d3f4f['axis']],_0x3ef627[_0x2f6ddf][_0x381c69['axis']]=_0x5beba6[_0x381c69['axis']],_0x5beba6[_0x381c69['axis']]+=_0x38ed0f(_0x167887,_0x45c563),_0x5beba6[_0x2d3f4f['axis']]+=_0x3af953(_0x167887,_0x45c563)+_0x4e3fc2['spacing'][_0x2d3f4f['axis']];}_0x4717c9[_0x2d3f4f['size']]=_0x5beba6[_0x2d3f4f['axis']]-_0x4e3fc2['spacing'][_0x2d3f4f['axis']],_0x4717c9[_0x381c69['size']]=_0x4717c9['largestSiz'+'e'][_0x381c69['size']],_0x9dda7e[_0x2d3f4f['size']]=Math['max'](_0x9dda7e[_0x2d3f4f['size']],_0x4717c9[_0x2d3f4f['size']]),_0x5beba6[_0x2d3f4f['axis']]=-0x32*-0x2d+-0xce7*-0x1+-0x15b1,_0x5beba6[_0x381c69['axis']]+=_0x4717c9[_0x381c69['size']]+_0x4e3fc2['spacing'][_0x381c69['axis']],_0x5d7e2f['push'](_0x3ef627);}return _0x9dda7e[_0x381c69['size']]=_0x5beba6[_0x381c69['axis']]-_0x4e3fc2['spacing'][_0x381c69['axis']],_0x5d7e2f;}function _0x211ca2(_0x56861c,_0x32843b,_0x25703c){const _0x32e606=_0x4e3fc2['alignment'][_0x2d3f4f['axis']],_0x16c3ec=_0x4e3fc2['alignment'][_0x381c69['axis']],_0x16165e=_0x4e3fc2['padding'][_0x2d3f4f['axis']],_0x136ed7=_0x4e3fc2['padding'][_0x381c69['axis']];for(let _0x34f567=0x17b2+-0xaab+-0xd07;_0x34f567<_0x56861c['length'];++_0x34f567){const _0x2953e7=_0x56861c[_0x34f567],_0x1bf592=_0x32843b[_0x34f567],_0x1448b4=_0x25703c[_0x34f567],_0x109d0b=(ls[_0x2d3f4f['axis']]-_0x2953e7[_0x2d3f4f['size']])*_0x32e606+_0x16165e,_0xd1c7b0=(ls[_0x381c69['axis']]-_0x56861c[_0x381c69['size']])*_0x16c3ec+_0x136ed7;for(let _0x228ca7=-0x2213*0x1+0x41e*-0x6+0x3ac7;_0x228ca7<_0x2953e7['length'];++_0x228ca7){const _0x437df2=(_0x2953e7[_0x381c69['size']]-_0x1bf592[_0x228ca7][_0x381c69['size']])*_0x4e3fc2['alignment'][_0x381c69['axis']];_0x1448b4[_0x228ca7][_0x2d3f4f['axis']]+=_0x109d0b,_0x1448b4[_0x228ca7][_0x381c69['axis']]+=_0xd1c7b0+_0x437df2;}}}function _0x33d84c(_0x68572f,_0x22090c,_0x11b25d){for(let _0x1e9412=0x16c7+0x12c7*-0x2+0xd*0x123;_0x1e9412<_0x68572f['length'];++_0x1e9412){const _0x49cbcf=_0x68572f[_0x1e9412],_0xef152f=_0x22090c[_0x1e9412],_0x4c5483=_0x11b25d[_0x1e9412];for(let _0x48999d=-0x1d0*0x7+0xbc7+0xe9;_0x48999d<_0x49cbcf['length'];++_0x48999d){const _0x4e0df5=_0x49cbcf[_0x48999d];_0x4e0df5[_0x2d3f4f['calculated'+'Size']]=_0xef152f[_0x48999d][_0x2d3f4f['size']],_0x4e0df5[_0x381c69['calculated'+'Size']]=_0xef152f[_0x48999d][_0x381c69['size']],_0x4e3fc2['orientatio'+'n']===Ce?_0x4e0df5['entity']['setLocalPo'+'sition'](_0x4c5483[_0x48999d][_0x2d3f4f['axis']],_0x4c5483[_0x48999d][_0x381c69['axis']],_0x4e0df5['entity']['getLocalPo'+'sition']()['z']):_0x4e0df5['entity']['setLocalPo'+'sition'](_0x4c5483[_0x48999d][_0x381c69['axis']],_0x4c5483[_0x48999d][_0x2d3f4f['axis']],_0x4e0df5['entity']['getLocalPo'+'sition']()['z']);}}}function _0x52f37c(_0x35a7e1){const _0x3f24a8=_0x35a7e1['width'],_0x149337=_0x35a7e1['height'],_0x4ff756=(ls['x']-_0x3f24a8)*_0x4e3fc2['alignment']['x']+_0x4e3fc2['padding']['x'],_0x37d9ca=(ls['y']-_0x149337)*_0x4e3fc2['alignment']['y']+_0x4e3fc2['padding']['y'];return{'bounds':new re(_0x4ff756,_0x37d9ca,_0x3f24a8,_0x149337)};}function _0x4c4cd0(_0x1bdcba){const _0x49ed4c=[];for(let _0x373857=-0x40e+-0x677+0xa85;_0x373857<_0x1bdcba['length'];++_0x373857){const _0x2a4f1b=_0x1bdcba[_0x373857],_0x546001=Math['max'](_0x1d4bcb(_0x2a4f1b,'minWidth'),-0x15c*-0x1b+0x103*0x23+0x481d*-0x1),_0x366693=Math['max'](_0x1d4bcb(_0x2a4f1b,'minHeight'),0x23e2+0xc67+-0x3049*0x1),_0x4ea373=Math['max'](_0x1d4bcb(_0x2a4f1b,'maxWidth'),_0x546001),_0x307eed=Math['max'](_0x1d4bcb(_0x2a4f1b,'maxHeight'),_0x366693),_0x23d6f0=_0x50f02a(_0x1d4bcb(_0x2a4f1b,'width'),_0x546001,_0x4ea373),_0x434d41=_0x50f02a(_0x1d4bcb(_0x2a4f1b,'height'),_0x366693,_0x307eed),_0x253331=_0x1d4bcb(_0x2a4f1b,'fitWidthPr'+'oportion'),_0x5edc3a=_0x1d4bcb(_0x2a4f1b,'fitHeightP'+'roportion');_0x49ed4c['push']({'minWidth':_0x546001,'minHeight':_0x366693,'maxWidth':_0x4ea373,'maxHeight':_0x307eed,'width':_0x23d6f0,'height':_0x434d41,'fitWidthProportion':_0x253331,'fitHeightProportion':_0x5edc3a});}return _0x49ed4c;}function _0x1d4bcb(_0x14449e,_0x1546f5){const _0x1e313a=_0x14449e['entity']['layoutchil'+'d'];return _0x1e313a&&_0x1e313a['enabled']&&_0x1e313a[_0x1546f5]!==void(0x2*0x57b+0x1f7*-0x1+-0x1*0x8ff)&&_0x1e313a[_0x1546f5]!==null?_0x1e313a[_0x1546f5]:_0x14449e[_0x1546f5]!==void(-0x2057+-0x19e5+-0x1d1e*-0x2)?_0x14449e[_0x1546f5]:VR[_0x1546f5];}function _0x50f02a(_0x40ec9c,_0xb94b2d,_0x42b16){return Math['min'](Math['max'](_0x40ec9c,_0xb94b2d),_0x42b16);}function _0x23df76(_0x39ec61,_0x3da40a){return _0x39ec61['reduce']((_0x53edd0,_0x5b4778)=>_0x53edd0+_0x5b4778[_0x3da40a],0x6*-0x524+0x31*0xae+-0x7*0x5a);}function _0x5f59b7(_0x256301,_0x380033){const _0x93bfcb=_0x23df76(_0x256301,_0x380033),_0x535c41=[],_0x1916d1=_0x256301['length'];if(_0x93bfcb===-0x1e63*0x1+-0x103d*-0x2+0x5*-0x6b){for(let _0x466266=0x16d5+-0x3*-0xb8b+0x5*-0xb7e;_0x466266<_0x1916d1;++_0x466266)_0x535c41['push']((0x151c+-0x17*0xc8+-0xb*0x49)/_0x1916d1);}else{for(let _0x333823=-0x1*-0x5c9+0x25db+-0x2ba4;_0x333823<_0x1916d1;++_0x333823)_0x535c41['push'](_0x256301[_0x333823][_0x380033]/_0x93bfcb);}return _0x535c41;}function _0x5065fb(_0x303224){if(_0x303224['length']===0x1840+0x9a*-0x2+-0x170b)return[0x1*0x50b+0xfe3+0x1*-0x14ed];const _0x2c978b=[],_0x54b808=_0x303224['length'];for(let _0x57b279=-0x4d7+-0x11ef+0x109*0x16;_0x57b279<_0x54b808;++_0x57b279)_0x2c978b['push']((-0x1f79+0x1*-0x1faf+0x3f29-_0x303224[_0x57b279])/(_0x54b808-(-0x1d38+0x23c6+0x81*-0xd)));return _0x2c978b;}function _0x12d739(_0x44686b,_0x29aef9,_0x2e2b89){return _0x44686b['forEach'](_0x58b62f),_0x44686b['slice']()['sort']((_0x4f2330,_0x9cbf79)=>_0x2e2b89?_0x9cbf79[_0x29aef9]-_0x4f2330[_0x29aef9]:_0x4f2330[_0x29aef9]-_0x9cbf79[_0x29aef9])['map'](_0x51ee5e);}function _0x58b62f(_0x198202,_0x47ed36){_0x198202['index']=_0x47ed36;}function _0x51ee5e(_0x1f46b0){return _0x1f46b0['index'];}function _0x32f426(_0x5c8671,_0xff6b){const _0x2044c4=[];_0x2044c4[_0xff6b[_0x5c8671['length']-(-0x1287+0x1f85*-0x1+0x320d*0x1)]]=_0x5c8671[_0xff6b[_0x5c8671['length']-(-0xf3a+0x8*0x16e+0x3cb*0x1)]];for(let _0x4828e9=_0x5c8671['length']-(-0xd36+0x835*0x4+-0x139c);_0x4828e9>=0x7*0x86+-0xfcd+0xef*0xd;--_0x4828e9)_0x2044c4[_0xff6b[_0x4828e9]]=_0x2044c4[_0xff6b[_0x4828e9+(0x115a+0x1*0x1459+-0x25b2)]]+_0x5c8671[_0xff6b[_0x4828e9]];return _0x2044c4;}return _0x258596;}const xm={};xm[Ce]=t0(Ce),xm[je]=t0(je);class GR{['calculateL'+'ayout'](_0x375e4a,_0x2a8ada){const _0x12217c=xm[_0x2a8ada['orientatio'+'n']];if(_0x12217c)return _0x12217c(_0x375e4a,_0x2a8ada);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x2a8ada['orientatio'+'n']);}}function Jg(_0x3fb360){return _0x3fb360['element'];}function HR(_0x4f41b9){return _0x4f41b9['enabled']&&_0x4f41b9['element']&&_0x4f41b9['element']['enabled'];}class s0 extends we{constructor(_0x4c410c,_0x215415){super(_0x4c410c,_0x215415),h(this,'_orientati'+'on',Ce),h(this,'_reverseX',!(0x201f+-0x2427+0x409)),h(this,'_reverseY',!(0xd48+0x481*0x7+-0x1*0x2ccf)),h(this,'_alignment',new J(0xc21*-0x3+0x6ba+-0x1*-0x1da9,0x4*0x2fe+0x2*-0x12bf+-0x1*-0x1987)),h(this,'_padding',new re()),h(this,'_spacing',new J()),h(this,'_widthFitt'+'ing',Nu),h(this,'_heightFit'+'ting',Nu),h(this,'_wrap',!(0x7a2+-0x1*0x4+0x1*-0x79d)),h(this,'_layoutCal'+'culator',new GR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x47c68a=>{this['_listenFor'+'ReflowEven'+'ts'](_0x47c68a,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),w['assert'](_0x4c410c['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x4c410c['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x4c410c['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),w['assert'](_0x4c410c['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x4c410c['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x4c410c['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x3cc0e1){_0x3cc0e1!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x3cc0e1,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x1be836){_0x1be836!==this['_reverseX']&&(this['_reverseX']=_0x1be836,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x5d3cb){_0x5d3cb!==this['_reverseY']&&(this['_reverseY']=_0x5d3cb,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x3c7fa1){_0x3c7fa1['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x3c7fa1),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x9732ec){_0x9732ec['equals'](this['_padding'])||(this['_padding']['copy'](_0x9732ec),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x5e4e75){_0x5e4e75['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x5e4e75),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0x38ec0f){_0x38ec0f!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0x38ec0f,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x3d80f8){_0x3d80f8!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x3d80f8,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x5c1320){_0x5c1320!==this['_wrap']&&(this['_wrap']=_0x5c1320,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x10e17a){return _0x10e17a===this['entity']||this['entity']['children']['indexOf'](_0x10e17a)!==-(0x4f0*-0x1+-0x161*0x1+0x652);}['_listenFor'+'ReflowEven'+'ts'](_0x4e9cc3,_0x25be6c){_0x4e9cc3['element']&&(_0x4e9cc3['element'][_0x25be6c]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x4e9cc3['element'][_0x25be6c]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x4e9cc3['element'][_0x25be6c]('resize',this['_scheduleR'+'eflow'],this),_0x4e9cc3['element'][_0x25be6c]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x4e9cc3['layoutchil'+'d']&&(_0x4e9cc3['layoutchil'+'d'][_0x25be6c]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x4e9cc3['layoutchil'+'d'][_0x25be6c]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x46d075){this['_isSelfOrC'+'hild'](_0x46d075)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x46d075,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x4da00f){this['_isSelfOrC'+'hild'](_0x4da00f)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x4da00f,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0x137c68){this['_listenFor'+'ReflowEven'+'ts'](_0x137c68,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0x323219){this['_listenFor'+'ReflowEven'+'ts'](_0x323219,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x5a206c=Jg(this['entity']),_0x5bfa56=this['entity']['children']['filter'](HR)['map'](Jg);if(!_0x5a206c||_0x5bfa56['length']===-0x3c+0x10aa+-0x57a*0x3)return;const _0x254892=Math['max'](_0x5a206c['calculated'+'Width'],0x88*0x47+-0x19cd+0xbeb*-0x1),_0xd96ffa=Math['max'](_0x5a206c['calculated'+'Height'],-0x142f+0x125a*-0x2+0x38e3),_0x518454={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new J(_0x254892,_0xd96ffa)};this['_isPerform'+'ingReflow']=!(0x25dc+0x893+-0x1*0x2e6f);const _0x325be8=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x5bfa56,_0x518454);this['_isPerform'+'ingReflow']=!(0x1*0x8f2+-0x16bf+0xdce),this['fire']('reflow',_0x325be8);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x307a22=>{this['_listenFor'+'ReflowEven'+'ts'](_0x307a22,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class WR{constructor(){this['enabled']=!(0x2613+0x1a2*0x10+-0x4033);}}const i0=['enabled'],$R=-0x8ba+0x1*0x61d+0x301;class XR extends ct{constructor(_0x44f223){super(_0x44f223),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=s0,this['DataType']=WR,this['schema']=i0,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x3d67e2,_0x53beab,_0x43d32a){_0x53beab['enabled']!==void(0x4a9+0x2391+-0x13*0x21e)&&(_0x3d67e2['enabled']=_0x53beab['enabled']),_0x53beab['orientatio'+'n']!==void(0x5*-0x1f9+0x11a5+0x8*-0xf9)&&(_0x3d67e2['orientatio'+'n']=_0x53beab['orientatio'+'n']),_0x53beab['reverseX']!==void(-0x9*-0x112+0x20df+-0x5d*0x75)&&(_0x3d67e2['reverseX']=_0x53beab['reverseX']),_0x53beab['reverseY']!==void(-0x3*0xb61+-0x3f3*0x9+0x45ae)&&(_0x3d67e2['reverseY']=_0x53beab['reverseY']),_0x53beab['alignment']!==void(0x1b6*0x13+-0x1*-0x635+-0x26b7)&&(_0x3d67e2['alignment']=Array['isArray'](_0x53beab['alignment'])?new J(_0x53beab['alignment']):_0x53beab['alignment']),_0x53beab['padding']!==void(0x1*0x1079+0x2b*-0x7c+0x45b)&&(_0x3d67e2['padding']=Array['isArray'](_0x53beab['padding'])?new re(_0x53beab['padding']):_0x53beab['padding']),_0x53beab['spacing']!==void(0x61e+0xe*0x61+-0xb6c)&&(_0x3d67e2['spacing']=Array['isArray'](_0x53beab['spacing'])?new J(_0x53beab['spacing']):_0x53beab['spacing']),_0x53beab['widthFitti'+'ng']!==void(0x219*0x11+0x2b*-0xa3+0x6a*-0x14)&&(_0x3d67e2['widthFitti'+'ng']=_0x53beab['widthFitti'+'ng']),_0x53beab['heightFitt'+'ing']!==void(-0x3d*0x3+-0xe84*0x1+0xf3b)&&(_0x3d67e2['heightFitt'+'ing']=_0x53beab['heightFitt'+'ing']),_0x53beab['wrap']!==void(0xcbd+0x16e9+-0x23a6)&&(_0x3d67e2['wrap']=_0x53beab['wrap']),super['initialize'+'ComponentD'+'ata'](_0x3d67e2,_0x53beab,_0x43d32a);}['cloneCompo'+'nent'](_0x45e5db,_0xc1d2ff){const _0x1d5cf0=_0x45e5db['layoutgrou'+'p'];return this['addCompone'+'nt'](_0xc1d2ff,{'enabled':_0x1d5cf0['enabled'],'orientation':_0x1d5cf0['orientatio'+'n'],'reverseX':_0x1d5cf0['reverseX'],'reverseY':_0x1d5cf0['reverseY'],'alignment':_0x1d5cf0['alignment'],'padding':_0x1d5cf0['padding'],'spacing':_0x1d5cf0['spacing'],'widthFitting':_0x1d5cf0['widthFitti'+'ng'],'heightFitting':_0x1d5cf0['heightFitt'+'ing'],'wrap':_0x1d5cf0['wrap']});}['scheduleRe'+'flow'](_0x109169){this['_reflowQue'+'ue']['indexOf'](_0x109169)===-(0x1*0x886+0x2*0x5d4+0x409*-0x5)&&this['_reflowQue'+'ue']['push'](_0x109169);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===-0x1*0x11d2+-0xcec*-0x1+0x2*0x273)return;let _0x329d57=-0x1*-0x2239+0x22a2+-0x1*0x44db;for(;this['_reflowQue'+'ue']['length']>-0x28*0x63+-0x61*0x25+0x1d7d;){const _0x25dff2=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=0x377+0x27c+-0x5f3,_0x25dff2['sort']((_0x280f3e,_0xf6e92d)=>_0x280f3e['entity']['graphDepth']-_0xf6e92d['entity']['graphDepth']);for(let _0x599c44=0x791+-0x8*-0x3db+-0x2669;_0x599c44<_0x25dff2['length'];++_0x599c44)_0x25dff2[_0x599c44]['reflow']();if(++_0x329d57>=$R){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x2da910,_0x590868){_0x590868['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}we['_buildAcce'+'ssors'](s0['prototype'],i0);class qR{constructor(){h(this,'map',new Map());}['destroy'](_0x39422c){this['map']['forEach'](_0x41288b=>_0x41288b['mesh']['destroy']());}}const jR=new Kt(),r0=(_0x4222f1,_0x1b68ca)=>{const _0x37e161=jR['get'](_0x4222f1,()=>new qR());let _0xe7666c=_0x37e161['map']['get'](_0x1b68ca);if(!_0xe7666c){let _0x43d06f,_0xfc78ef;switch(_0x1b68ca){case'box':_0x43d06f=Ge['fromGeomet'+'ry'](_0x4222f1,new mu()),_0xfc78ef={'x':0x2,'y':0x2,'z':0x2,'uv':(0x59e*-0x2+0x3b6+0x3c4*0x2)/(-0x5bd+-0xb*-0x2a1+-0x7b9*0x3)};break;case'capsule':_0x43d06f=Ge['fromGeomet'+'ry'](_0x4222f1,new GA({'radius':0.5,'height':0x2})),_0xfc78ef={'x':Math['PI']*(-0x2*-0x1307+0xc2d*0x2+-0x3e66),'y':Math['PI'],'z':Math['PI']*(-0x14d+-0x18f*0x17+0xe8*0x29),'uv':(0xd4+0xf3c*-0x1+-0x20f*-0x7)/(0x28c+0xac4+-0xd4d)+(0x2*-0x174+-0x25*0xfb+0x2730)/(0x213*0xb+0x2194+0x1*-0x3862)/(-0xd*0x1be+0x15b*0x13+-0x318)*(-0x22d3+-0x4*0x9d+-0x5*-0x775)};break;case'cone':_0x43d06f=Ge['fromGeomet'+'ry'](_0x4222f1,new HA({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0xfc78ef={'x':2.54,'y':2.54,'z':2.54,'uv':(-0x5a9+-0x1*0x21eb+0x2795)/(0x8b*-0x5+-0x288+-0x542*-0x1)+(0x1feb+0x1*0xf59+0x2f43*-0x1)/(-0x1a55*0x1+-0x116f+0x2bc7*0x1)/(0x1587+0x26ed*-0x1+-0x1169*-0x1)};break;case'cylinder':_0x43d06f=Ge['fromGeomet'+'ry'](_0x4222f1,new WA({'radius':0.5,'height':0x1})),_0xfc78ef={'x':Math['PI'],'y':(-0x3*0x399+0x1*0x95f+0x16c+0.79)*(0x4*0x4a1+0x1924*0x1+-0x2ba6),'z':Math['PI'],'uv':(0x1*-0x1245+0xb5f+0x6e7)/(-0x4*-0x15d+0x18b1+-0x1e22)+(0x1*0xaf3+-0x116f+-0x67d*-0x1)/(-0xf03+-0x13*0x79+0x1801)/(0x2*0x252+-0x1afd+-0x1*-0x165c)*(-0x1704+0x23e9+-0xce3)};break;case'plane':_0x43d06f=Ge['fromGeomet'+'ry'](_0x4222f1,new $A({'halfExtents':new J(0x1*-0x7ee+-0x1bf3+0x23e1+0.5,0x5*-0x30+0x33b*-0x2+0x3b3*0x2+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0xfc78ef={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x43d06f=Ge['fromGeomet'+'ry'](_0x4222f1,new _m({'radius':0.5})),_0xfc78ef={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x43d06f=Ge['fromGeomet'+'ry'](_0x4222f1,new XA({'tubeRadius':0.2,'ringRadius':0.3})),_0xfc78ef={'x':Math['PI']*(-0xb93+0x20a4*-0x1+-0x31*-0xe7+0.5)*(0x47*0x3+-0x4e*0x6f+0x1*0x20fd+0.5)-Math['PI']*(-0x22e7+-0x25b5*-0x1+-0x2ce*0x1+0.1)*(0x3a7+-0x6*-0x648+-0x2957*0x1+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x1b68ca);}_0x43d06f['incRefCoun'+'t'](),_0xe7666c={'mesh':_0x43d06f,'area':_0xfc78ef},_0x37e161['map']['set'](_0x1b68ca,_0xe7666c);}return _0xe7666c;};class Tm extends we{constructor(_0x2b6b44,_0x1f8361){super(_0x2b6b44,_0x1f8361),h(this,'_type','asset'),h(this,'_asset',null),h(this,'_model',null),h(this,'_mapping',{}),h(this,'_castShado'+'ws',!(0x1*0x1957+-0xdff*0x1+-0x3*0x3c8)),h(this,'_receiveSh'+'adows',!(-0x14e*0x11+-0x24df+0x3b0d)),h(this,'_materialA'+'sset',null),h(this,'_material'),h(this,'_castShado'+'wsLightmap',!(-0x2637+-0x9d3+0x300a)),h(this,'_lightmapp'+'ed',!(0x8c+-0x53*0x59+0x1c50)),h(this,'_lightmapS'+'izeMultipl'+'ier',-0xbae+0x1*-0x270a+0x32b9),h(this,'isStatic',!(0x1*-0x9d7+-0xd98+0x1*0x1770)),h(this,'_layers',[er]),h(this,'_batchGrou'+'pId',-(-0x1110+-0x7*0x259+0x2180)),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_materialE'+'vents',null),h(this,'_clonedMod'+'el',!(0x2*0x17c+0x1068+-0x135f)),h(this,'_batchGrou'+'p',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x2b6b44['defaultMat'+'erial'],_0x1f8361['on']('remove',this['onRemoveCh'+'ild'],this),_0x1f8361['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x1f8361['on']('insert',this['onInsertCh'+'ild'],this),_0x1f8361['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x54c73e){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x54c73e);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x3be717){if(this['_customAab'+'b']=_0x3be717,this['_model']){const _0x5a2fc1=this['_model']['meshInstan'+'ces'];if(_0x5a2fc1){for(let _0x557df6=0x1f9+0x223f*-0x1+0x1*0x2046;_0x557df6<_0x5a2fc1['length'];_0x557df6++)_0x5a2fc1[_0x557df6]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x45edf7){if(this['_type']!==_0x45edf7){if(this['_area']=null,this['_type']=_0x45edf7,_0x45edf7==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x24766d=r0(this['system']['app']['graphicsDe'+'vice'],_0x45edf7);this['_area']=_0x24766d['area'];const _0x163c19=_0x24766d['mesh'],_0x56887b=new Ie(),_0x1b320e=new sr();_0x1b320e['graph']=_0x56887b,_0x1b320e['meshInstan'+'ces']=[new He(_0x163c19,this['_material'],_0x56887b)],this['model']=_0x1b320e,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x911b2e){const _0x3cd9bd=this['system']['app']['assets'];let _0x470d3b=_0x911b2e;if(_0x911b2e instanceof pe&&(_0x470d3b=_0x911b2e['id']),this['_asset']!==_0x470d3b){if(this['_asset']){_0x3cd9bd['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x36c509=_0x3cd9bd['get'](this['_asset']);_0x36c509&&this['_unbindMod'+'elAsset'](_0x36c509);}if(this['_asset']=_0x470d3b,this['_asset']){const _0x59933d=_0x3cd9bd['get'](this['_asset']);_0x59933d?this['_bindModel'+'Asset'](_0x59933d):(this['model']=null,_0x3cd9bd['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x53276a){if(this['_model']!==_0x53276a){if(_0x53276a&&_0x53276a['_immutable']){w['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(-0xc78+0x433*-0x7+0x1*0x29de),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(0x809+0x2557+-0x1*0x2d5f))),this['_model']=_0x53276a,this['_model']){this['_model']['_immutable']=!(0x14e5*0x1+0xb*-0x8d+-0xed6);const _0x5b0648=this['_model']['meshInstan'+'ces'];for(let _0x4a4b6d=0x1434+-0x933+-0x3ab*0x3;_0x4a4b6d<_0x5b0648['length'];_0x4a4b6d++)_0x5b0648[_0x4a4b6d]['castShadow']=this['_castShado'+'ws'],_0x5b0648[_0x4a4b6d]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x5b0648[_0x4a4b6d]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x2973d2){if(_0x2973d2!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x2973d2,this['_model'])){const _0x5f20b6=this['_model']['meshInstan'+'ces'];for(let _0x3e05aa=0x44a+0x1b97+-0x1fe1;_0x3e05aa<_0x5f20b6['length'];_0x3e05aa++)_0x5f20b6[_0x3e05aa]['setLightma'+'pped'](_0x2973d2);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x31f960){if(this['_castShado'+'ws']===_0x31f960)return;const _0x4aacb1=this['_model'];if(_0x4aacb1){const _0x5147a2=this['layers'],_0x8b7369=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x31f960)for(let _0x317173=-0x1*-0xc1c+-0x19e6+0xdca;_0x317173<_0x5147a2['length'];_0x317173++){const _0x1fc847=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x317173]);_0x1fc847&&_0x1fc847['removeShad'+'owCasters'](_0x4aacb1['meshInstan'+'ces']);}const _0x31cec8=_0x4aacb1['meshInstan'+'ces'];for(let _0x431eed=0x1*0x10bb+0x18f+-0x124a;_0x431eed<_0x31cec8['length'];_0x431eed++)_0x31cec8[_0x431eed]['castShadow']=_0x31f960;if(!this['_castShado'+'ws']&&_0x31f960)for(let _0x3db216=0xa80+0x1fa9+-0xfb*0x2b;_0x3db216<_0x5147a2['length'];_0x3db216++){const _0x320ded=_0x8b7369['layers']['getLayerBy'+'Id'](_0x5147a2[_0x3db216]);_0x320ded&&_0x320ded['addShadowC'+'asters'](_0x4aacb1['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x31f960;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x375f8e){if(this['_receiveSh'+'adows']!==_0x375f8e&&(this['_receiveSh'+'adows']=_0x375f8e,this['_model'])){const _0x26a955=this['_model']['meshInstan'+'ces'];for(let _0x4a5024=0xa16+0x735+0xe9*-0x13,_0x15ea1c=_0x26a955['length'];_0x4a5024<_0x15ea1c;_0x4a5024++)_0x26a955[_0x4a5024]['receiveSha'+'dow']=_0x375f8e;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x291a36){this['_castShado'+'wsLightmap']=_0x291a36;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x220737){this['_lightmapS'+'izeMultipl'+'ier']=_0x220737;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x2be07f){const _0x3a61db=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x4e78ea=-0x1*0x85f+0x15d*-0x6+0x108d;_0x4e78ea<this['_layers']['length'];_0x4e78ea++){const _0x5b297c=_0x3a61db['getLayerBy'+'Id'](this['_layers'][_0x4e78ea]);_0x5b297c&&_0x5b297c['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=-0xb*-0x49+0x539*-0x5+-0x11*-0x15a;for(let _0x24624e=0x1891+-0x248a+-0xbf9*-0x1;_0x24624e<_0x2be07f['length'];_0x24624e++)this['_layers'][_0x24624e]=_0x2be07f[_0x24624e];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0x1eb2a3=0x645+0x6*-0x4a+-0x489;_0x1eb2a3<this['_layers']['length'];_0x1eb2a3++){const _0x141b3a=_0x3a61db['getLayerBy'+'Id'](this['_layers'][_0x1eb2a3]);_0x141b3a&&_0x141b3a['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x402250){var _0x1a3470,_0x25da0f;this['_batchGrou'+'pId']!==_0x402250&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x1*0x1a0a+0x24*-0x69+0x3*0xd9a&&((_0x1a3470=this['system']['app']['batcher'])==null||_0x1a3470['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x402250>=-0xf17*0x2+0x1b1d+0x311&&((_0x25da0f=this['system']['app']['batcher'])==null||_0x25da0f['insert'](St['MODEL'],_0x402250,this['entity'])),_0x402250<-0xf33+0x3*-0x29f+-0x148*-0x12&&this['_batchGrou'+'pId']>=0x1f6d*-0x1+-0x1219+-0x1082*-0x3&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x402250);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x201639){let _0x2d0d4a=_0x201639;_0x201639 instanceof pe&&(_0x2d0d4a=_0x201639['id']);const _0x386969=this['system']['app']['assets'];if(_0x2d0d4a!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x386969['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x91344a=_0x386969['get'](this['_materialA'+'sset']);_0x91344a&&this['_unbindMat'+'erialAsset'](_0x91344a);}if(this['_materialA'+'sset']=_0x2d0d4a,this['_materialA'+'sset']){const _0x139ed8=_0x386969['get'](this['_materialA'+'sset']);_0x139ed8?this['_bindMater'+'ialAsset'](_0x139ed8):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x386969['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x502ff3){this['_material']!==_0x502ff3&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x502ff3));}get['material'](){return this['_material'];}set['mapping'](_0x1d2e5b){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x1d2e5b||(_0x1d2e5b={}),this['_mapping']=_0x1d2e5b,!this['_model']))return;const _0x440e70=this['_model']['meshInstan'+'ces'],_0x586bcb=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x14e527=_0x586bcb?_0x586bcb['data']['mapping']:null;let _0x354f95=null;for(let _0x14716f=0x189a+-0x88f*-0x3+-0x3247,_0x2f7f8f=_0x440e70['length'];_0x14716f<_0x2f7f8f;_0x14716f++)if(_0x1d2e5b[_0x14716f]!==void(-0x1c93+0xc97+-0x7c*-0x21))_0x1d2e5b[_0x14716f]?(_0x354f95=this['system']['app']['assets']['get'](_0x1d2e5b[_0x14716f]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x354f95,_0x440e70[_0x14716f],_0x14716f)):_0x440e70[_0x14716f]['material']=this['system']['defaultMat'+'erial'];else{if(_0x14e527){if(_0x14e527[_0x14716f]&&(_0x14e527[_0x14716f]['material']||_0x14e527[_0x14716f]['path'])){if(_0x14e527[_0x14716f]['material']!==void(0x1*0x1967+-0x4*0x7d8+-0xb*-0x8b))_0x354f95=this['system']['app']['assets']['get'](_0x14e527[_0x14716f]['material']);else{if(_0x14e527[_0x14716f]['path']!==void(-0xf7*-0x7+-0x1*-0x8ee+-0x16d*0xb)){const _0x3a9b54=this['_getMateri'+'alAssetUrl'](_0x14e527[_0x14716f]['path']);_0x3a9b54&&(_0x354f95=this['system']['app']['assets']['getByUrl'](_0x3a9b54));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x354f95,_0x440e70[_0x14716f],_0x14716f);}else _0x440e70[_0x14716f]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0xc69c8e=this['system']['app']['scene']['layers'];for(let _0x3da2b8=0x1cee+-0x99d*-0x1+-0x268b;_0x3da2b8<this['_layers']['length'];_0x3da2b8++){const _0x4b0b2f=_0xc69c8e['getLayerBy'+'Id'](this['_layers'][_0x3da2b8]);_0x4b0b2f&&_0x4b0b2f['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x29ef15=this['system']['app']['scene']['layers'];for(let _0x570448=0x10cd+-0x1*-0x22e1+-0x33ae;_0x570448<this['_layers']['length'];_0x570448++){const _0x698b2b=_0x29ef15['getLayerBy'+'Id'](this['_layers'][_0x570448]);_0x698b2b&&_0x698b2b['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0xc56e34,_0x2d4493){this['addModelTo'+'Layers'](),_0xc56e34['off']('add',this['onLayerAdd'+'ed'],this),_0xc56e34['off']('remove',this['onLayerRem'+'oved'],this),_0x2d4493['on']('add',this['onLayerAdd'+'ed'],this),_0x2d4493['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x29361b){this['layers']['indexOf'](_0x29361b['id'])<0x13ab+-0x58c+0x5*-0x2d3||_0x29361b['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x1a8b59){this['layers']['indexOf'](_0x1a8b59['id'])<-0x1f4e*0x1+0x107*-0x1+0x2055||_0x1a8b59['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x2c7c6f,_0x189753,_0x26f619,_0x4834f5){const _0x371a1e=_0x189753+':'+_0x26f619;this['system']['app']['assets']['on'](_0x371a1e,_0x4834f5,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x2c7c6f]||(this['_materialE'+'vents'][_0x2c7c6f]={}),this['_materialE'+'vents'][_0x2c7c6f][_0x371a1e]={'id':_0x26f619,'handler':_0x4834f5};}['_unsetMate'+'rialEvents'](){const _0xc629d5=this['system']['app']['assets'],_0x2b2dfc=this['_materialE'+'vents'];if(_0x2b2dfc){for(let _0x23059a=-0x9dc*0x2+-0x2*0x1072+-0x94*-0x5b,_0x2de0e7=_0x2b2dfc['length'];_0x23059a<_0x2de0e7;_0x23059a++){if(!_0x2b2dfc[_0x23059a])continue;const _0x427ede=_0x2b2dfc[_0x23059a];for(const _0x4de575 in _0x427ede)_0xc629d5['off'](_0x4de575,_0x427ede[_0x4de575]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x1e5247){let _0x27ace6=null;if(!isNaN(parseInt(_0x1e5247,-0x4*-0x788+-0xe3*-0x1+-0x1ef9)))_0x27ace6=this['system']['app']['assets']['get'](_0x1e5247);else{if(this['asset']){const _0x43c6e0=this['_getMateri'+'alAssetUrl'](_0x1e5247);_0x43c6e0&&(_0x27ace6=this['system']['app']['assets']['getByUrl'](_0x43c6e0));}}return _0x27ace6;}['_getMateri'+'alAssetUrl'](_0x3124d9){if(!this['asset'])return null;const _0x2815a5=this['system']['app']['assets']['get'](this['asset']);return _0x2815a5?_0x2815a5['getAbsolut'+'eUrl'](_0x3124d9):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x8835ee,_0x3619e4,_0x505cde){const _0x57dabc=this['system']['app']['assets'];_0x8835ee&&(_0x8835ee['resource']?(_0x3619e4['material']=_0x8835ee['resource'],this['_setMateri'+'alEvent'](_0x505cde,'remove',_0x8835ee['id'],function(){_0x3619e4['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x505cde,'load',_0x8835ee['id'],function(_0x454745){_0x3619e4['material']=_0x454745['resource'],this['_setMateri'+'alEvent'](_0x505cde,'remove',_0x8835ee['id'],function(){_0x3619e4['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x57dabc['load'](_0x8835ee)));}['onEnable'](){var _0x38b431;const _0x3bc434=this['system']['app'],_0x13e8ee=_0x3bc434['scene'],_0x2ad4d8=_0x13e8ee==null?void(-0x1*0x33d+-0xb96+0xed3):_0x13e8ee['layers'];this['_evtLayers'+'Changed']=_0x13e8ee['on']('set:layers',this['onLayersCh'+'anged'],this),_0x2ad4d8&&(this['_evtLayerA'+'dded']=_0x2ad4d8['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x2ad4d8['on']('remove',this['onLayerRem'+'oved'],this));const _0x3cd51b=this['_type']==='asset';let _0x2edabc;if(this['_model']?this['addModelTo'+'Layers']():_0x3cd51b&&this['_asset']&&(_0x2edabc=_0x3bc434['assets']['get'](this['_asset']),_0x2edabc&&_0x2edabc['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x2edabc)),this['_materialA'+'sset']&&(_0x2edabc=_0x3bc434['assets']['get'](this['_materialA'+'sset']),_0x2edabc&&_0x2edabc['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x2edabc)),_0x3cd51b&&this['_mapping']){for(const _0x24e063 in this['_mapping'])this['_mapping'][_0x24e063]&&(_0x2edabc=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x24e063]),_0x2edabc&&!_0x2edabc['resource']&&_0x3bc434['assets']['load'](_0x2edabc));}this['_batchGrou'+'pId']>=-0x7f1+0x1e8f*-0x1+-0x2c*-0xe0&&((_0x38b431=_0x3bc434['batcher'])==null||_0x38b431['insert'](St['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x27b05d,_0x41d9a7,_0x4b67b6,_0xb68c4f;const _0x25f7a6=this['system']['app'],_0x36d407=_0x25f7a6['scene']['layers'];(_0x27b05d=this['_evtLayers'+'Changed'])==null||_0x27b05d['off'](),this['_evtLayers'+'Changed']=null,_0x36d407&&((_0x41d9a7=this['_evtLayerA'+'dded'])==null||_0x41d9a7['off'](),this['_evtLayerA'+'dded']=null,(_0x4b67b6=this['_evtLayerR'+'emoved'])==null||_0x4b67b6['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0xf01*-0x1+-0xdda+-0x5*0x3b&&((_0xb68c4f=_0x25f7a6['batcher'])==null||_0xb68c4f['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x85fb0=this['_model']['meshInstan'+'ces'];for(let _0x4a8de3=-0x1e21+-0x10fe+0x2f1f,_0x58c68c=_0x85fb0['length'];_0x4a8de3<_0x58c68c;_0x4a8de3++)_0x85fb0[_0x4a8de3]['visible']=!(0x0+-0x9*0x2c7+-0x8*-0x320);}}['show'](){if(this['_model']){const _0x2c16e0=this['_model']['meshInstan'+'ces'];for(let _0x659f73=-0x8c5*-0x3+0xa6c+0x1*-0x24bb,_0x540fc4=_0x2c16e0['length'];_0x659f73<_0x540fc4;_0x659f73++)_0x2c16e0[_0x659f73]['visible']=!(-0x31*0xa+0x2312+-0x2128);}}['_bindMater'+'ialAsset'](_0xc4a828){if(_0xc4a828['on']('load',this['_onMateria'+'lAssetLoad'],this),_0xc4a828['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0xc4a828['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0xc4a828['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0xc4a828['resource'])this['_onMateria'+'lAssetLoad'](_0xc4a828);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0xc4a828);}}['_unbindMat'+'erialAsset'](_0x22908e){_0x22908e['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x22908e['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x22908e['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x22908e['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x55e42b){this['system']['app']['assets']['off']('add:'+_0x55e42b['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x55e42b['id']&&this['_bindMater'+'ialAsset'](_0x55e42b);}['_onMateria'+'lAssetLoad'](_0x5089b2){this['_setMateri'+'al'](_0x5089b2['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0xf63463){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x49750f){this['_onMateria'+'lAssetUnlo'+'ad'](_0x49750f);}['_onMateria'+'lAssetChan'+'ge'](_0x1f8281){}['_bindModel'+'Asset'](_0x4aeefe){if(this['_unbindMod'+'elAsset'](_0x4aeefe),_0x4aeefe['on']('load',this['_onModelAs'+'setLoad'],this),_0x4aeefe['on']('unload',this['_onModelAs'+'setUnload'],this),_0x4aeefe['on']('change',this['_onModelAs'+'setChange'],this),_0x4aeefe['on']('remove',this['_onModelAs'+'setRemove'],this),_0x4aeefe['resource'])this['_onModelAs'+'setLoad'](_0x4aeefe);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x4aeefe);}}['_unbindMod'+'elAsset'](_0x1113f5){_0x1113f5['off']('load',this['_onModelAs'+'setLoad'],this),_0x1113f5['off']('unload',this['_onModelAs'+'setUnload'],this),_0x1113f5['off']('change',this['_onModelAs'+'setChange'],this),_0x1113f5['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x5751a3){this['system']['app']['assets']['off']('add:'+_0x5751a3['id'],this['_onModelAs'+'setAdded'],this),_0x5751a3['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x5751a3);}['_onModelAs'+'setLoad'](_0x52d2cd){this['model']=_0x52d2cd['resource']['clone'](),this['_clonedMod'+'el']=!(-0x6b1*-0x4+-0x1c3*-0x16+-0x4186);}['_onModelAs'+'setUnload'](_0x44b6b4){this['model']=null;}['_onModelAs'+'setChange'](_0x3d2275,_0x55a267,_0x49526f,_0x2b3615){_0x55a267==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0x3c61cf){this['model']=null;}['_setMateri'+'al'](_0x31468e){if(this['_material']===_0x31468e)return;this['_material']=_0x31468e;const _0x41c629=this['_model'];if(_0x41c629&&this['_type']!=='asset'){const _0x553522=_0x41c629['meshInstan'+'ces'];for(let _0x297a62=-0x8ac+0xcc2+-0x416,_0x3e841b=_0x553522['length'];_0x297a62<_0x3e841b;_0x297a62++)_0x553522[_0x297a62]['material']=_0x31468e;}}}class YR{constructor(){this['enabled']=!(0xaaf+0xebc+0xf1*-0x1b);}}const a0=['enabled'];class KR extends ct{constructor(_0xd16449){super(_0xd16449),this['id']='model',this['ComponentT'+'ype']=Tm,this['DataType']=YR,this['schema']=a0,this['defaultMat'+'erial']=Qn(_0xd16449['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x1ede98,_0x46e7a4,_0x9ba570){_0x9ba570=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x46e7a4['batchGroup'+'Id']===null||_0x46e7a4['batchGroup'+'Id']===void(0x17*-0x8+-0x15db*0x1+-0x1693*-0x1))&&(_0x46e7a4['batchGroup'+'Id']=-(0x1d76+-0x13f*0x2+0x213*-0xd)),_0x46e7a4['layers']&&_0x46e7a4['layers']['length']&&(_0x46e7a4['layers']=_0x46e7a4['layers']['slice'](-0x22ca+-0x2*0x1295+-0xc*-0x5ff));for(let _0x5971b5=-0x154f+0x332+0x121d;_0x5971b5<_0x9ba570['length'];_0x5971b5++)_0x46e7a4['hasOwnProp'+'erty'](_0x9ba570[_0x5971b5])&&(_0x1ede98[_0x9ba570[_0x5971b5]]=_0x46e7a4[_0x9ba570[_0x5971b5]]);_0x46e7a4['aabbCenter']&&_0x46e7a4['aabbHalfEx'+'tents']&&(_0x1ede98['customAabb']=new De(new D(_0x46e7a4['aabbCenter']),new D(_0x46e7a4['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x1ede98,_0x46e7a4,['enabled']);}['cloneCompo'+'nent'](_0x489395,_0x2fa94f){const _0x3d01a7={'type':_0x489395['model']['type'],'asset':_0x489395['model']['asset'],'castShadows':_0x489395['model']['castShadow'+'s'],'receiveShadows':_0x489395['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x489395['model']['castShadow'+'sLightmap'],'lightmapped':_0x489395['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x489395['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x489395['model']['isStatic'],'enabled':_0x489395['model']['enabled'],'layers':_0x489395['model']['layers'],'batchGroupId':_0x489395['model']['batchGroup'+'Id'],'mapping':ah({},_0x489395['model']['mapping'])};let _0x18f2d3=_0x489395['model']['materialAs'+'set'];!(_0x18f2d3 instanceof pe)&&_0x18f2d3!=null&&(_0x18f2d3=this['app']['assets']['get'](_0x18f2d3));const _0x3616b3=_0x489395['model']['material'];(!_0x3616b3||_0x3616b3===this['defaultMat'+'erial']||!_0x18f2d3||_0x3616b3===_0x18f2d3['resource'])&&(_0x3d01a7['materialAs'+'set']=_0x18f2d3);const _0xda4607=this['addCompone'+'nt'](_0x2fa94f,_0x3d01a7);if(_0x489395['model']['model']&&_0x489395['model']['type']==='asset'&&!_0x489395['model']['asset']&&(_0xda4607['model']=_0x489395['model']['model']['clone'](),_0xda4607['_clonedMod'+'el']=!(-0x1*0x11ef+0x1258+-0x1*0x69)),_0x3d01a7['materialAs'+'set']||(_0xda4607['material']=_0x3616b3),_0x489395['model']['model']){const _0x133996=_0x489395['model']['model']['meshInstan'+'ces'],_0x34de92=_0xda4607['model']['meshInstan'+'ces'];for(let _0xa938ff=0xdf6+0x1361+0xf*-0x239;_0xa938ff<_0x133996['length'];_0xa938ff++)_0x34de92[_0xa938ff]['mask']=_0x133996[_0xa938ff]['mask'],_0x34de92[_0xa938ff]['material']=_0x133996[_0xa938ff]['material'],_0x34de92[_0xa938ff]['layer']=_0x133996[_0xa938ff]['layer'],_0x34de92[_0xa938ff]['receiveSha'+'dow']=_0x133996[_0xa938ff]['receiveSha'+'dow'];}return _0x489395['model']['customAabb']&&(_0xda4607['customAabb']=_0x489395['model']['customAabb']['clone']()),_0xda4607;}['onRemove'](_0x56459c,_0x48d755){_0x48d755['onRemove']();}}we['_buildAcce'+'ssors'](Tm['prototype'],a0);const ZR=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],QR=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],JR=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Cc=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Ya;class e3 extends we{constructor(_0x5918ac,_0x599d79){super(_0x5918ac,_0x599d79),h(this,'_requested'+'Depth',!(-0x3*-0x1aa+-0x2*0xd5b+0x43*0x53)),h(this,'_drawOrder',0x171*0x12+0x94d+-0x509*0x7),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),ZR['forEach'](_0x5a2c51=>{this['on']('set_'+_0x5a2c51,this['onSetSimpl'+'eProperty'],this);}),QR['forEach'](_0x4c0b35=>{this['on']('set_'+_0x4c0b35,this['onSetCompl'+'exProperty'],this);}),JR['forEach'](_0x10be10=>{this['on']('set_'+_0x10be10,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x4ba757=this['system']['store'][this['entity']['getGuid']()];return _0x4ba757?_0x4ba757['data']:null;}set['enabled'](_0x1c9ab4){this['_setValue']('enabled',_0x1c9ab4);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x3612e4){this['_setValue']('autoPlay',_0x3612e4);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x2efe97){this['_setValue']('numParticl'+'es',_0x2efe97);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x4fc8e5){this['_setValue']('lifetime',_0x4fc8e5);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x56bd2e){this['_setValue']('rate',_0x56bd2e);}get['rate'](){return this['data']['rate'];}set['rate2'](_0x45fe5b){this['_setValue']('rate2',_0x45fe5b);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x519e8a){this['_setValue']('startAngle',_0x519e8a);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x3752c3){this['_setValue']('startAngle'+'2',_0x3752c3);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0xce78b4){this['_setValue']('loop',_0xce78b4);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0x370c13){this['_setValue']('preWarm',_0x370c13);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0x227b84){this['_setValue']('lighting',_0x227b84);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x4f4151){this['_setValue']('halfLamber'+'t',_0x4f4151);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x2c5b6d){this['_setValue']('intensity',_0x2c5b6d);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x6c9d18){this['_setValue']('depthWrite',_0x6c9d18);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x2bf980){this['_setValue']('noFog',_0x2bf980);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x208da5){this['_setValue']('depthSofte'+'ning',_0x208da5);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x310163){this['_setValue']('sort',_0x310163);}get['sort'](){return this['data']['sort'];}set['blendType'](_0x571597){this['_setValue']('blendType',_0x571597);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0x128c07){this['_setValue']('stretch',_0x128c07);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x349fd8){this['_setValue']('alignToMot'+'ion',_0x349fd8);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x5dbaea){this['_setValue']('emitterSha'+'pe',_0x5dbaea);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x4941e3){this['_setValue']('emitterExt'+'ents',_0x4941e3);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x43941b){this['_setValue']('emitterExt'+'entsInner',_0x43941b);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0x455807){this['_setValue']('emitterRad'+'ius',_0x455807);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x2c7b91){this['_setValue']('emitterRad'+'iusInner',_0x2c7b91);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x503eee){this['_setValue']('initialVel'+'ocity',_0x503eee);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0xd82971){this['_setValue']('wrap',_0xd82971);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x541d45){this['_setValue']('wrapBounds',_0x541d45);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x3eba4a){this['_setValue']('localSpace',_0x3eba4a);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0x18058f){this['_setValue']('screenSpac'+'e',_0x18058f);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x1e4369){this['_setValue']('colorMapAs'+'set',_0x1e4369);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x174c88){this['_setValue']('normalMapA'+'sset',_0x174c88);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x3d395e){this['_setValue']('mesh',_0x3d395e);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x52cf55){this['_setValue']('meshAsset',_0x52cf55);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x276b20){this['_setValue']('renderAsse'+'t',_0x276b20);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x2e7ca1){this['_setValue']('orientatio'+'n',_0x2e7ca1);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0x22e6b3){this['_setValue']('particleNo'+'rmal',_0x22e6b3);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x28ce8f){this['_setValue']('localVeloc'+'ityGraph',_0x28ce8f);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0x225c45){this['_setValue']('localVeloc'+'ityGraph2',_0x225c45);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x27ac41){this['_setValue']('velocityGr'+'aph',_0x27ac41);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x410f7c){this['_setValue']('velocityGr'+'aph2',_0x410f7c);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x51e5dc){this['_setValue']('rotationSp'+'eedGraph',_0x51e5dc);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0x4e549d){this['_setValue']('rotationSp'+'eedGraph2',_0x4e549d);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x3dac60){this['_setValue']('radialSpee'+'dGraph',_0x3dac60);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x5d8840){this['_setValue']('radialSpee'+'dGraph2',_0x5d8840);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x4a3eb8){this['_setValue']('scaleGraph',_0x4a3eb8);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x52fd5b){this['_setValue']('scaleGraph'+'2',_0x52fd5b);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x1bbbfb){this['_setValue']('colorGraph',_0x1bbbfb);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0xac1988){this['_setValue']('colorGraph'+'2',_0xac1988);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0x5054cb){this['_setValue']('alphaGraph',_0x5054cb);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x136755){this['_setValue']('alphaGraph'+'2',_0x136755);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x39cb15){this['_setValue']('colorMap',_0x39cb15);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0x14608d){this['_setValue']('normalMap',_0x14608d);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0x44aff6){this['_setValue']('animTilesX',_0x44aff6);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x576b9b){this['_setValue']('animTilesY',_0x576b9b);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x3a2f67){this['_setValue']('animStartF'+'rame',_0x3a2f67);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0x49578e){this['_setValue']('animNumFra'+'mes',_0x49578e);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x4cf5b1){this['_setValue']('animNumAni'+'mations',_0x4cf5b1);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x231166){this['_setValue']('animIndex',_0x231166);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x25938a){this['_setValue']('randomizeA'+'nimIndex',_0x25938a);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x211d30){this['_setValue']('animSpeed',_0x211d30);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x3d547e){this['_setValue']('animLoop',_0x3d547e);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x107230){this['_setValue']('layers',_0x107230);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x53cb83){this['_drawOrder']=_0x53cb83,this['emitter']&&(this['emitter']['drawOrder']=_0x53cb83);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x583064,_0x306f34){const _0x3369d0=this['data'],_0x2f2657=_0x3369d0[_0x583064];_0x3369d0[_0x583064]=_0x306f34,this['fire']('set',_0x583064,_0x2f2657,_0x306f34);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x101934=0x2702*0x1+-0xca8+-0x1*0x1a5a;_0x101934<this['layers']['length'];_0x101934++){const _0x2566b0=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x101934]);_0x2566b0&&(_0x2566b0['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x2566b0);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x30c257=0x517*-0x7+0x766*-0x4+-0x11b*-0x3b;_0x30c257<this['layers']['length'];_0x30c257++){const _0x1f0cc6=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x30c257]);_0x1f0cc6&&_0x1f0cc6['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x3a8cf4,_0x4d8d50,_0x3ea125){if(this['emitter']){for(let _0x50fd4b=-0x789*-0x4+-0x1129+-0xcfb;_0x50fd4b<_0x4d8d50['length'];_0x50fd4b++){const _0x5447e6=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x4d8d50[_0x50fd4b]);_0x5447e6&&_0x5447e6['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x440870=-0xa08+0x243a+0x1*-0x1a32;_0x440870<_0x3ea125['length'];_0x440870++){const _0x138216=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x3ea125[_0x440870]);_0x138216&&_0x138216['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x5c427c,_0x500d7b){this['addMeshIns'+'tanceToLay'+'ers'](),_0x5c427c['off']('add',this['onLayerAdd'+'ed'],this),_0x5c427c['off']('remove',this['onLayerRem'+'oved'],this),_0x500d7b['on']('add',this['onLayerAdd'+'ed'],this),_0x500d7b['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x2013fa){!this['emitter']||this['layers']['indexOf'](_0x2013fa['id'])<0x267b+0xa0a*-0x3+-0x85d||_0x2013fa['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x13fea4){!this['emitter']||this['layers']['indexOf'](_0x13fea4['id'])<-0x24c7+0x101*0x1b+0x2*0x4d6||_0x13fea4['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x7c3ccc){if(_0x7c3ccc['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x7c3ccc['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x7c3ccc['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x7c3ccc['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x7c3ccc['resource'])this['_onColorMa'+'pAssetLoad'](_0x7c3ccc);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x7c3ccc);}}['_unbindCol'+'orMapAsset'](_0x1c0e88){_0x1c0e88['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0x1c0e88['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x1c0e88['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x1c0e88['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x3fed41){this['colorMap']=_0x3fed41['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x5f3bc9){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x442064){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x442064);}['_onColorMa'+'pAssetChan'+'ge'](_0x447d27){}['onSetColor'+'MapAsset'](_0x4db453,_0x47c995,_0x3b1bf3){const _0x1c25e0=this['system']['app']['assets'];if(_0x47c995){const _0x31a646=_0x1c25e0['get'](_0x47c995);_0x31a646&&this['_unbindCol'+'orMapAsset'](_0x31a646);}if(_0x3b1bf3){_0x3b1bf3 instanceof pe&&(this['data']['colorMapAs'+'set']=_0x3b1bf3['id'],_0x3b1bf3=_0x3b1bf3['id']);const _0x1672fb=_0x1c25e0['get'](_0x3b1bf3);_0x1672fb?this['_bindColor'+'MapAsset'](_0x1672fb):_0x1c25e0['once']('add:'+_0x3b1bf3,_0x405651=>{this['_bindColor'+'MapAsset'](_0x405651);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0x4c357a){if(_0x4c357a['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x4c357a['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x4c357a['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x4c357a['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0x4c357a['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0x4c357a);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x4c357a);}}['_unbindNor'+'malMapAsse'+'t'](_0x4abcb1){_0x4abcb1['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x4abcb1['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x4abcb1['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x4abcb1['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x1f6bf8){this['normalMap']=_0x1f6bf8['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x37752e){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x317d45){this['_onNormalM'+'apAssetUnl'+'oad'](_0x317d45);}['_onNormalM'+'apAssetCha'+'nge'](_0x5f5770){}['onSetNorma'+'lMapAsset'](_0x2ae3e0,_0x486cb4,_0x4ee47f){const _0x57aa8c=this['system']['app']['assets'];if(_0x486cb4){const _0x54d619=_0x57aa8c['get'](_0x486cb4);_0x54d619&&this['_unbindNor'+'malMapAsse'+'t'](_0x54d619);}if(_0x4ee47f){_0x4ee47f instanceof pe&&(this['data']['normalMapA'+'sset']=_0x4ee47f['id'],_0x4ee47f=_0x4ee47f['id']);const _0x4335db=_0x57aa8c['get'](_0x4ee47f);_0x4335db?this['_bindNorma'+'lMapAsset'](_0x4335db):_0x57aa8c['once']('add:'+_0x4ee47f,_0x2497dc=>{this['_bindNorma'+'lMapAsset'](_0x2497dc);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x526368){if(_0x526368['on']('load',this['_onMeshAss'+'etLoad'],this),_0x526368['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x526368['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x526368['on']('change',this['_onMeshAss'+'etChange'],this),_0x526368['resource'])this['_onMeshAss'+'etLoad'](_0x526368);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x526368);}}['_unbindMes'+'hAsset'](_0xfc947c){_0xfc947c['off']('load',this['_onMeshAss'+'etLoad'],this),_0xfc947c['off']('unload',this['_onMeshAss'+'etUnload'],this),_0xfc947c['off']('remove',this['_onMeshAss'+'etRemove'],this),_0xfc947c['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x3bbb8a){this['_onMeshCha'+'nged'](_0x3bbb8a['resource']);}['_onMeshAss'+'etUnload'](_0x45e0ed){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x32353e){this['_onMeshAss'+'etUnload'](_0x32353e);}['_onMeshAss'+'etChange'](_0x5e96c6){}['onSetMeshA'+'sset'](_0x5f5a16,_0x9a41ef,_0x2d2597){const _0x27fb38=this['system']['app']['assets'];if(_0x9a41ef){const _0x459523=_0x27fb38['get'](_0x9a41ef);_0x459523&&this['_unbindMes'+'hAsset'](_0x459523);}if(_0x2d2597){_0x2d2597 instanceof pe&&(this['data']['meshAsset']=_0x2d2597['id'],_0x2d2597=_0x2d2597['id']);const _0x88fc8a=_0x27fb38['get'](_0x2d2597);_0x88fc8a&&this['_bindMeshA'+'sset'](_0x88fc8a);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0x504e21,_0x2fda8a,_0x2985f0){!_0x2985f0||_0x2985f0 instanceof pe||typeof _0x2985f0=='number'?this['meshAsset']=_0x2985f0:this['_onMeshCha'+'nged'](_0x2985f0);}['_onMeshCha'+'nged'](_0x1caf21){_0x1caf21&&!(_0x1caf21 instanceof Ge)&&(_0x1caf21['meshInstan'+'ces'][0x244+-0x226b+-0x1*-0x2027]?_0x1caf21=_0x1caf21['meshInstan'+'ces'][0x1d*0x38+-0x2*-0xe33+-0x2*0x115f]['mesh']:_0x1caf21=null),this['data']['mesh']=_0x1caf21,this['emitter']&&(this['emitter']['mesh']=_0x1caf21,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0x1df90b,_0x513203,_0x135dac){const _0x1e3d79=this['system']['app']['assets'];if(_0x513203){const _0x12ee7b=_0x1e3d79['get'](_0x513203);_0x12ee7b&&this['_unbindRen'+'derAsset'](_0x12ee7b);}if(_0x135dac){_0x135dac instanceof pe&&(this['data']['renderAsse'+'t']=_0x135dac['id'],_0x135dac=_0x135dac['id']);const _0x3ed187=_0x1e3d79['get'](_0x135dac);_0x3ed187&&this['_bindRende'+'rAsset'](_0x3ed187);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x49612e){if(_0x49612e['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x49612e['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x49612e['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x49612e['resource'])this['_onRenderA'+'ssetLoad'](_0x49612e);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x49612e);}}['_unbindRen'+'derAsset'](_0x19e27a){var _0x307940;_0x19e27a['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x19e27a['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x19e27a['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x307940=this['_evtSetMes'+'hes'])==null||_0x307940['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0x4ae9c7){this['_onRenderC'+'hanged'](_0x4ae9c7['resource']);}['_onRenderA'+'ssetUnload'](_0x451891){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x572742){this['_onRenderA'+'ssetUnload'](_0x572742);}['_onRenderC'+'hanged'](_0x5b400a){var _0x3d2809;if(!_0x5b400a){this['_onMeshCha'+'nged'](null);return;}(_0x3d2809=this['_evtSetMes'+'hes'])==null||_0x3d2809['off'](),this['_evtSetMes'+'hes']=_0x5b400a['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x5b400a['meshes']&&this['_onRenderS'+'etMeshes'](_0x5b400a['meshes']);}['_onRenderS'+'etMeshes'](_0x4902c8){this['_onMeshCha'+'nged'](_0x4902c8&&_0x4902c8[-0x7ff+0x2*0x92+0x6db]);}['onSetLoop'](_0x3fbe54,_0x546530,_0x3ead83){this['emitter']&&(this['emitter'][_0x3fbe54]=_0x3ead83,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x499668,_0xffadad,_0x4b10d2){this['emitter']&&(this['emitter'][_0x499668]=_0x4b10d2,this['emitter']['material']['blendType']=_0x4b10d2,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Ya||(Ya=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps)),Ya&&(Ya['incrementC'+'ounter'](),this['_requested'+'Depth']=!(-0x908+-0x1b74*-0x1+-0x20c*0x9)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Ya&&(Ya['decrementC'+'ounter'](),this['_requested'+'Depth']=!(-0x17eb+0xf08+0x8e4));}['onSetDepth'+'Softening'](_0x378e18,_0x1fd887,_0x15e82c){_0x1fd887!==_0x15e82c&&(_0x15e82c?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x378e18]=_0x15e82c)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x378e18]=_0x15e82c)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x158beb,_0x7bc3b4,_0x2ea66a){this['emitter']&&(this['emitter'][_0x158beb]=_0x2ea66a,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x1287e7,_0x3bcd89,_0x2e35d2){this['emitter']&&(this['emitter'][_0x1287e7]=_0x2e35d2,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x58de0a,_0x2f6131,_0x11fca9){this['emitter']&&(this['emitter'][_0x58de0a]=_0x11fca9,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x3efafb=this['system']['app']['scene'],_0x4309ef=_0x3efafb['layers'],_0x25191c=this['data'];for(let _0x141693=0x488+-0x1a+0x12*-0x3f,_0x2b555e=Cc['length'];_0x141693<_0x2b555e;_0x141693++){let _0x37165d=_0x25191c[Cc[_0x141693]];if(_0x37165d){if(!(_0x37165d instanceof pe)){if(parseInt(_0x37165d,0x292*-0x8+-0x138f+-0x1*-0x2829)>=-0xe8a+0x1*-0xa48+-0x9*-0x2c2)_0x37165d=this['system']['app']['assets']['get'](_0x37165d);else continue;}_0x37165d&&!_0x37165d['resource']&&this['system']['app']['assets']['load'](_0x37165d);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x585ab0=_0x25191c['mesh'];_0x585ab0 instanceof Ge||(_0x585ab0=null),this['emitter']=new CA(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0x25191c['numParticl'+'es'],'emitterExtents':_0x25191c['emitterExt'+'ents'],'emitterExtentsInner':_0x25191c['emitterExt'+'entsInner'],'emitterRadius':_0x25191c['emitterRad'+'ius'],'emitterRadiusInner':_0x25191c['emitterRad'+'iusInner'],'emitterShape':_0x25191c['emitterSha'+'pe'],'initialVelocity':_0x25191c['initialVel'+'ocity'],'wrap':_0x25191c['wrap'],'localSpace':_0x25191c['localSpace'],'screenSpace':_0x25191c['screenSpac'+'e'],'wrapBounds':_0x25191c['wrapBounds'],'lifetime':_0x25191c['lifetime'],'rate':_0x25191c['rate'],'rate2':_0x25191c['rate2'],'orientation':_0x25191c['orientatio'+'n'],'particleNormal':_0x25191c['particleNo'+'rmal'],'animTilesX':_0x25191c['animTilesX'],'animTilesY':_0x25191c['animTilesY'],'animStartFrame':_0x25191c['animStartF'+'rame'],'animNumFrames':_0x25191c['animNumFra'+'mes'],'animNumAnimations':_0x25191c['animNumAni'+'mations'],'animIndex':_0x25191c['animIndex'],'randomizeAnimIndex':_0x25191c['randomizeA'+'nimIndex'],'animSpeed':_0x25191c['animSpeed'],'animLoop':_0x25191c['animLoop'],'startAngle':_0x25191c['startAngle'],'startAngle2':_0x25191c['startAngle'+'2'],'scaleGraph':_0x25191c['scaleGraph'],'scaleGraph2':_0x25191c['scaleGraph'+'2'],'colorGraph':_0x25191c['colorGraph'],'colorGraph2':_0x25191c['colorGraph'+'2'],'alphaGraph':_0x25191c['alphaGraph'],'alphaGraph2':_0x25191c['alphaGraph'+'2'],'localVelocityGraph':_0x25191c['localVeloc'+'ityGraph'],'localVelocityGraph2':_0x25191c['localVeloc'+'ityGraph2'],'velocityGraph':_0x25191c['velocityGr'+'aph'],'velocityGraph2':_0x25191c['velocityGr'+'aph2'],'rotationSpeedGraph':_0x25191c['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0x25191c['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0x25191c['radialSpee'+'dGraph'],'radialSpeedGraph2':_0x25191c['radialSpee'+'dGraph2'],'colorMap':_0x25191c['colorMap'],'normalMap':_0x25191c['normalMap'],'loop':_0x25191c['loop'],'preWarm':_0x25191c['preWarm'],'sort':_0x25191c['sort'],'stretch':_0x25191c['stretch'],'alignToMotion':_0x25191c['alignToMot'+'ion'],'lighting':_0x25191c['lighting'],'halfLambert':_0x25191c['halfLamber'+'t'],'intensity':_0x25191c['intensity'],'depthSoftening':_0x25191c['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x585ab0,'depthWrite':_0x25191c['depthWrite'],'noFog':_0x25191c['noFog'],'node':this['entity'],'blendType':_0x25191c['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0x25191c['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(0x559*0x1+0x13ad+-0x1ab*0xf));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x3efafb['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4309ef&&(this['_evtLayerA'+'dded']=_0x4309ef['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x4309ef['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0x25191c['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x13cd29,_0xd448a0,_0x5e3040;const _0x10ec01=this['system']['app']['scene']['layers'];(_0x13cd29=this['_evtLayers'+'Changed'])==null||_0x13cd29['off'](),this['_evtLayers'+'Changed']=null,_0x10ec01&&((_0xd448a0=this['_evtLayerA'+'dded'])==null||_0xd448a0['off'](),this['_evtLayerA'+'dded']=null,(_0x5e3040=this['_evtLayerR'+'emoved'])==null||_0x5e3040['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(0x36e+-0xb1e+0xb3*0xb)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x146209=0x114d+-0x6*-0x62c+0x7c3*-0x7;_0x146209<Cc['length'];_0x146209++){const _0x3cbc4d=Cc[_0x146209];this['data'][_0x3cbc4d]&&(this[_0x3cbc4d]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(-0xf90+-0x20e0*0x1+0x1*0x3071),this['emitter']['resetTime'](),this['emitter']['addTime'](0xf64+-0x1*-0x14bb+-0x529*0x7,!(-0x18c+-0x2485+0x1*0x2611)));}['pause'](){this['data']['paused']=!(0x2*-0x89d+-0x59*-0x55+-0x277*0x5);}['unpause'](){this['data']['paused']=!(0xee8+0xf87+-0x1e6e);}['play'](){this['data']['paused']=!(0x1cb6+0x2*0x1147+-0x3f43),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(0x169e+0x40e*0x7+0x18*-0x220),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(0x2444+-0x217c+-0x2c7):this['emitter']&&this['emitter']['loop']?!(-0x1*0x193+0x5a*-0x1d+-0x17*-0x83):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x463586}=this;_0x463586&&!_0x463586['inTools']&&(_0x463586['inTools']=!(-0x1*0x1a21+0x1*0xa91+0xf9*0x10),this['rebuild']());}['rebuild'](){const _0x55c0ae=this['enabled'];this['enabled']=!(0x1*0x1b1a+0xfdb+0xabd*-0x4),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0x55c0ae;}}class t3{constructor(){this['numParticl'+'es']=-0x1e6*-0x7+-0x98a+-0x3bf,this['rate']=0x90d+-0x1*0xa7b+0x16f,this['rate2']=null,this['startAngle']=0xb24+-0x2647*0x1+0x1*0x1b23,this['startAngle'+'2']=null,this['lifetime']=0x763*0x1+-0xeb0+0x77f,this['emitterExt'+'ents']=new D(),this['emitterExt'+'entsInner']=new D(),this['emitterRad'+'ius']=0x112f+0x1*-0xfdd+0x2*-0xa9,this['emitterRad'+'iusInner']=0xd21*-0x2+-0xa0e+-0x70*-0x53,this['emitterSha'+'pe']=ai,this['initialVel'+'ocity']=-0x11c9+0x9b7*-0x4+0x38a5,this['wrap']=!(0x8*0x4da+-0x1*0x1a13+-0x2*0x65e),this['wrapBounds']=new D(),this['localSpace']=!(-0x1459+-0x12b9*0x2+0x1ce6*0x2),this['screenSpac'+'e']=!(0xcb5*-0x1+-0x2e*-0xa6+-0x111e),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(-0x22ab+0xdfa+0x1*0x14b1),this['preWarm']=!(-0xcd6+0xf7e*0x1+-0x2a7),this['sort']=0x161*-0x16+0x93d+0x1519,this['mode']=rv,this['scene']=null,this['lighting']=!(0x23fb+0x123f+-0x1213*0x3),this['halfLamber'+'t']=!(-0x1*0xc7c+0x1eee*0x1+-0x1271),this['intensity']=-0xcaa+0xbba+0xf1,this['stretch']=0x19eb+-0x3*0x704+0x1*-0x4df,this['alignToMot'+'ion']=!(0x4dd+0x110e+-0x15ea),this['depthSofte'+'ning']=0xc05+-0x14df+0x8da,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(-0x83f+-0xb6c*0x1+0x4*0x4eb),this['noFog']=!(-0x5f*-0x11+-0xfb*-0xd+0x1*-0x130d),this['orientatio'+'n']=yh,this['particleNo'+'rmal']=new D(-0x58*-0x37+-0x2141+0xe59*0x1,-0x9bb+-0x758+0x1114,0x1fc5+0xf42+-0x2f07),this['animTilesX']=0xc10+0x72f*0x5+-0x2ffa,this['animTilesY']=0x6ff*0x1+0x3*0x753+-0x1cf7,this['animStartF'+'rame']=-0x1*-0x3f5+0x1*0x1759+-0x1b4e,this['animNumFra'+'mes']=-0x301*-0xd+0x1ed*-0x10+-0x83c,this['animNumAni'+'mations']=-0x743*-0x3+0x1f8*0x10+0x1f*-0x1b8,this['animIndex']=-0x2627+0x759+0x1ece,this['randomizeA'+'nimIndex']=!(0x5fe+0x1*0x1c76+-0x1*0x2273),this['animSpeed']=-0xd8d*0x1+-0x26d2+0x3460,this['animLoop']=!(0x10c8+-0x25ed+0x1525),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Zs,this['enabled']=!(0x26a2+-0xd19+0x3*-0x883),this['paused']=!(0x1*0x120b+0x1b9a*-0x1+0xc*0xcc),this['autoPlay']=!(0x1bf6+0x1f1*0x2+0x4*-0x7f6),this['layers']=[er];}}const s3='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0auniform\x20'+'float\x20soft'+'ening;\x0auni'+'form\x20float'+'\x20colorMult'+';\x0a\x0afloat\x20s'+'aturate(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex\x20\x20=\x20tex'+'ture2D(col'+'orMap,\x20vec'+'2(texCoord'+'sAlphaLife'+'.x,\x201.0\x20-\x20'+'texCoordsA'+'lphaLife.y'+'));\x0a\x20\x20\x20\x20ve'+'c4\x20ramp\x20=\x20'+'texture2D('+'colorParam'+',\x20vec2(tex'+'CoordsAlph'+'aLife.w,\x200'+'.0));\x0a\x20\x20\x20\x20'+'ramp.rgb\x20*'+'=\x20colorMul'+'t;\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20+=\x20te'+'xCoordsAlp'+'haLife.z;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'rgb\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'float\x20a\x20\x20='+'\x20tex.a\x20*\x20r'+'amp.a;\x0a',i3='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20meshLoca'+'lPos\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20vec2\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20nlife\x20='+'\x20clamp(inL'+'ife\x20/\x20part'+'icleLifeti'+'me,\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20param'+'Div;\x0a\x20\x20\x20\x20v'+'ec4\x20params'+'\x20=\x20tex1Dlo'+'d_lerp(TEX'+'TURE_PASS('+'internalTe'+'x2),\x20vec2('+'nlife,\x200),'+'\x20paramDiv)'+';\x0a\x20\x20\x20\x20floa'+'t\x20scale\x20=\x20'+'params.y;\x0a'+'\x20\x20\x20\x20float\x20'+'scaleDiv\x20='+'\x20paramDiv.'+'x;\x0a\x20\x20\x20\x20flo'+'at\x20alphaDi'+'v\x20=\x20paramD'+'iv.z;\x0a\x0a\x20\x20\x20'+'\x20scale\x20+=\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20scale'+'DivMult\x20*\x20'+'fract(rndF'+'actor*1000'+'0.0);\x0a\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(quadXY'+'\x20*\x20-0.5\x20+\x20'+'0.5,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'alphaDivMu'+'lt\x20*\x20fract'+'(rndFactor'+'*1000.0),\x20'+'nlife);\x0a#e'+'lse\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_uv,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePos\x20='+'\x20inPos;\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePosMo'+'ved\x20=\x20vec3'+'(0.0);\x0a\x0a\x20\x20'+'\x20\x20mat2\x20rot'+'Matrix;\x0a'),r3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',a3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',n3='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',o3='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',l3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y\x20*\x20('+'1.0\x20/\x20255.'+'0)\x20+\x20rg.x;'+'\x0a}\x0a\x0afloat\x20'+'decodeFloa'+'tRGBA(\x20vec'+'4\x20rgba\x20)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(rgba'+',\x20vec4(1.0'+',\x201.0\x20/\x2025'+'5.0,\x201.0\x20/'+'\x2065025.0,\x20'+'1.0\x20/\x201605'+'81375.0));'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+('rticles\x20-\x20'+'1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),c3='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',h3='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),d3='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',f3='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',u3='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',p3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',m3='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',_3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',g3='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',S3='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),y3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',v3='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',x3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',T3='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',w3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec2\x20pa'+'rticle_ver'+'texData5;\x0a'+'#else\x0a\x20\x20\x20\x20'+'attribute\x20'+'vec4\x20parti'+'cle_vertex'+'Data5;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifndef\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a#endif\x0a\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20lifetim'+'e;\x0auniform'+'\x20float\x20str'+'etch;\x0aunif'+'orm\x20float\x20'+'seed;\x0aunif'+'orm\x20vec3\x20w'+'rapBounds;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rScale;\x0aun'+('iform\x20vec3'+'\x20faceTange'+'nt;\x0aunifor'+'m\x20vec3\x20fac'+'eBinorm;\x0a\x0a'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex0'+';\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x1;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex2;\x0a#end'+'if\x0auniform'+'\x20vec3\x20emit'+'terPos;\x0a\x0av'+'arying\x20vec'+'4\x20texCoord'+'sAlphaLife'+';\x0a\x0avec2\x20ro'+'tate(vec2\x20'+'quadXY,\x20fl'+'oat\x20pRotat'+'ion,\x20out\x20m'+'at2\x20rotMat'+'rix)\x0a{\x0a\x20\x20\x20'+'\x20float\x20c\x20='+'\x20cos(pRota'+'tion);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20sin(pRota'+'tion);\x0a\x20\x20\x20'+'\x20//vec4\x20ro'+'tationMatr'+'ix\x20=\x20vec4('+'c,\x20-s,\x20s,\x20'+'c);\x0a\x0a\x20\x20\x20\x20m'+'at2\x20m\x20=\x20ma'+'t2(c,\x20-s,\x20'+'s,\x20c);\x0a\x20\x20\x20'+'\x20rotMatrix'+'\x20=\x20m;\x0a\x0a\x20\x20\x20'+'\x20return\x20m\x20'+'*\x20quadXY;\x0a'+'}\x0a\x0avec3\x20bi'+'llboard(ve'+'c3\x20Instanc'+'eCoords,\x20v'+'ec2\x20quadXY'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20return\x20p'+'os;\x0a}\x0a\x0avec'+'3\x20customFa'+'ce(vec3\x20In'+'stanceCoor'+'ds,\x20vec2\x20q'+'uadXY)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20po'+'s\x20=\x20faceTa'+'ngent\x20*\x20qu'+'adXY.x\x20+\x20f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avoid\x20main'+'(void)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20pa'+'rticlePos\x20'+'=\x20particle'+'_vertexDat'+'a.xyz;\x0a\x20\x20\x20'+'\x20vec3\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20vec3\x20vert'+'Pos\x20=\x20part'+'icle_verte'+'xData3.xyz'+';\x0a\x20\x20\x20\x20vec3'+'\x20inVel\x20=\x20v'+'ec3(partic'+'le_vertexD'+'ata2.w,\x20pa')+('rticle_ver'+'texData3.w'+',\x20particle'+'_vertexDat'+'a5.x);\x0a\x0a\x20\x20'+'\x20\x20float\x20id'+'\x20=\x20floor(p'+'article_ve'+'rtexData4)'+';\x0a\x20\x20\x20\x20floa'+'t\x20rndFacto'+'r\x20=\x20fract('+'sin(id\x20+\x201'+'.0\x20+\x20seed)'+');\x0a\x20\x20\x20\x20vec'+'3\x20rndFacto'+'r3\x20=\x20vec3('+'rndFactor,'+'\x20fract(rnd'+'Factor*10.'+'0),\x20fract('+'rndFactor*'+'100.0));\x0a\x0a'+'#ifdef\x20LOC'+'AL_SPACE\x0a\x20'+'\x20\x20\x20inVel\x20='+'\x20mat3(matr'+'ix_model)\x20'+'*\x20inVel;\x0a#'+'endif\x0a\x20\x20\x20\x20'+'vec2\x20veloc'+'ityV\x20=\x20nor'+'malize((ma'+'t3(matrix_'+'view)\x20*\x20in'+'Vel).xy);\x20'+'//\x20should\x20'+'be\x20removed'+'\x20by\x20compil'+'er\x20if\x20alig'+'n/stretch\x20'+'is\x20not\x20use'+'d\x0a\x0a\x20\x20\x20\x20vec'+'2\x20quadXY\x20='+'\x20vertPos.x'+'y;\x0a\x0a#ifdef'+'\x20USE_MESH\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe\x20=\x20vec4('+'particle_v'+'ertexData5'+'.zw,\x20parti'+'cle_vertex'+'Data2.z,\x20p'+'article_ve'+'rtexData.w'+');\x0a#else\x0a\x20'+'\x20\x20\x20texCoor'+'dsAlphaLif'+'e\x20=\x20vec4(q'+'uadXY\x20*\x20-0'+'.5\x20+\x200.5,\x20'+'particle_v'+'ertexData2'+'.z,\x20partic'+'le_vertexD'+'ata.w);\x0a#e'+'ndif\x0a\x20\x20\x20\x20m'+'at2\x20rotMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'float\x20inAn'+'gle\x20=\x20part'+'icle_verte'+'xData2.x;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20vec3\x20me'+'shLocalPos'+'\x20=\x20particl'+'e_vertexDa'+'ta3.xyz;\x0a'),E3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',b3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',A3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',C3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',P3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20vec3'+'\x20posNormal'+'\x20=\x20-normal'+'\x20*\x200.5\x20+\x200'+'.5;\x0a\x20\x20\x20\x20ne'+'gNormal\x20*='+'\x20negNormal'+';\x0a\x20\x20\x20\x20posN'+'ormal\x20*=\x20p'+'osNormal;\x0a',M3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a\x0a#i'+'f\x20defined('+'USE_MESH)\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(USE_'+'MESH_UV)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20particle'+'_uv;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mesh'+'\x20UV\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20par'+'ticle_uv\x20='+'\x20vec2(0.0,'+'\x200.0);\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+'Projection'+';\x0auniform\x20'+'mat4\x20matri'+'x_model;\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20numPart'+'iclesPot;\x0a'+'uniform\x20fl'+'oat\x20graphS'+'ampleSize;'+'\x0auniform\x20f'+'loat\x20graph'+'NumSamples'+';\x0auniform\x20'+'float\x20stre'+'tch;\x0aunifo'+'rm\x20vec3\x20wr'+'apBounds;\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Scale;\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0auniform\x20'+'vec3\x20faceT'+'angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0auniform'+'\x20float\x20rat'+'e;\x0auniform'+'\x20float\x20rat'+'eDiv;\x0aunif'+'orm\x20float\x20'+'lifetime;\x0a'+'uniform\x20fl'+'oat\x20deltaR'+'andomnessS'+'tatic;\x0auni'+'form\x20float'+'\x20scaleDivM'+'ult;\x0aunifo'+'rm\x20float\x20a'+'lphaDivMul'+'t;\x0auniform'+'\x20float\x20see'+'d;\x0auniform'+'\x20float\x20del'+'ta;\x0aunifor'+'m\x20sampler2'+'D\x20particle'+'TexOUT;\x0aun'+'iform\x20samp'+('ler2D\x20part'+'icleTexIN;'+'\x0a\x0a#ifdef\x20P'+'ARTICLE_GP'+'U\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x0;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex2;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0avarying\x20'+'vec4\x20texCo'+'ordsAlphaL'+'ife;\x0a\x0avec3'+'\x20inPos;\x0ave'+'c3\x20inVel;\x0a'+'float\x20inAn'+'gle;\x0abool\x20'+'inShow;\x0afl'+'oat\x20inLife'+';\x0a'),D3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',I3='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',L3='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',R3='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',O3='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',F3='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',N3='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan(veloci'+'tyV.x,\x20vel'+'ocityV.y);'+'\x0a\x0a',k3='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',U3='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec3\x20No'+'rmal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20lightCu'+'be[6];\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20float\x20vDe'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fogP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'f\x20NORMAL\x20='+'=\x20MAP\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20normalMa'+'p;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22p'+'articlePS\x22'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_softP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20normal\x20'+'=\x20Normal;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalMap'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20HALF_L'+'AMBERT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_ha'+'lflambertP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_la'+'mbertPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_lighting'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20BLEND\x20'+'==\x20NORMAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndNormalPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+('\x20ADDITIVE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndAddPS\x22\x0a\x20'+'\x20\x20\x20#elif\x20B'+'LEND\x20==\x20MU'+'LTIPLICATI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendMulti'+'plyPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endPS\x22\x0a'),B3='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20animTexTi'+'lesParams;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20animTexP'+'arams;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec2\x20an'+'imTexIndex'+'Params;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20NO'+'RMAL\x20==\x20MA'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20Normal'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20SOFT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20floa'+'t\x20vDepth;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_initVS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PA'+'CK8\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleInputR'+'gba8PS\x22\x20\x20\x20'+'\x20\x20//\x20why\x20a'+'re\x20these\x20P'+'S\x20and\x20not\x20'+'VS?\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x20'+'\x22particleI'+'nputFloatP'+'S\x22\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'OFT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22scre'+'enDepthPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleVS\x22\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20PARTICLE_'+'CPU\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22scr'+'eenDepthPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_cpuVS'+'\x22\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_local'+'ShiftVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20ANIMT'+'EX_LOOP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('#include\x20\x22'+'particleAn'+'imFrameLoo'+'pVS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particleA'+'nimFrameCl'+'ampVS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleAn'+'imTexVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20wr'+'ap\x20is\x20not\x20'+'used\x20on\x20CP'+'U,\x20it\x20was\x20'+'commented\x20'+'out.\x20TODO:'+'\x20investiga'+'te\x20why\x0a\x20\x20\x20'+'\x20#ifdef\x20PA'+'RTICLE_GPU'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20WRAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_wrapVS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20AL'+'IGN_TO_MOT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_pointAlon'+'gVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20US'+'E_MESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_meshVS'+'\x22\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20CUS'+'TOM_FACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'customFace'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_b'+'illboardVS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalVS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_TBNVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STRETCH\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_str'+'etchVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endVS\x22\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20PARTICLE'+'_CPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_cpu_endV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#')+('ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_so'+'ftVS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20}\x0a'),z3='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',V3='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',G3='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',H3='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',W3='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',$3={'particlePS':s3,'particleVS':i3,'particleAnimFrameClampVS':r3,'particleAnimFrameLoopVS':a3,'particleAnimTexVS':n3,'particleInputFloatPS':o3,'particleInputRgba8PS':l3,'particleOutputFloatPS':c3,'particleOutputRgba8PS':h3,'particleUpdaterAABBPS':d3,'particleUpdaterEndPS':f3,'particleUpdaterInitPS':u3,'particleUpdaterNoRespawnPS':p3,'particleUpdaterOnStopPS':m3,'particleUpdaterRespawnPS':_3,'particleUpdaterSpherePS':g3,'particleUpdaterStartPS':S3,'particle_billboardVS':y3,'particle_blendAddPS':v3,'particle_blendMultiplyPS':x3,'particle_blendNormalPS':T3,'particle_cpuVS':w3,'particle_cpu_endVS':E3,'particle_customFaceVS':b3,'particle_endPS':A3,'particle_endVS':C3,'particle_halflambertPS':P3,'particle_initVS':M3,'particle_lambertPS':D3,'particle_lightingPS':I3,'particle_localShiftVS':L3,'particle_meshVS':R3,'particle_normalVS':O3,'particle_normalMapPS':F3,'particle_pointAlongVS':N3,'particle_simulationPS':k3,'particle_shaderPS':U3,'particle_shaderVS':B3,'particle_softPS':z3,'particle_softVS':V3,'particle_stretchVS':G3,'particle_TBNVS':H3,'particle_wrapVS':W3},X3='\x0avarying\x20t'+'exCoordsAl'+'phaLife:\x20v'+'ec4f;\x0a\x0avar'+'\x20colorMap:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20colorMap'+'Sampler:\x20s'+'ampler;\x0ava'+'r\x20colorPar'+'am:\x20textur'+'e_2d<f32>;'+'\x0avar\x20color'+'ParamSampl'+'er:\x20sample'+'r;\x0a\x0aunifor'+'m\x20graphSam'+'pleSize:\x20f'+'32;\x0aunifor'+'m\x20graphNum'+'Samples:\x20f'+'32;\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0auniform'+'\x20softening'+':\x20f32;\x0auni'+'form\x20color'+'Mult:\x20f32;'+'\x0a\x0afn\x20satur'+'ate(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20tex:\x20v'+'ec4f\x20\x20=\x20te'+'xtureSampl'+'e(colorMap'+',\x20colorMap'+'Sampler,\x20v'+'ec2f(input'+'.texCoords'+'AlphaLife.'+'x,\x201.0\x20-\x20i'+'nput.texCo'+'ordsAlphaL'+'ife.y));\x0a\x20'+'\x20\x20\x20var\x20ram'+'p:\x20vec4f\x20='+'\x20textureSa'+'mple(color'+'Param,\x20col'+'orParamSam'+'pler,\x20vec2'+'f(input.te'+'xCoordsAlp'+'haLife.w,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20ramp\x20=\x20ve'+'c4f(ramp.r'+'gb\x20*\x20unifo'+'rm.colorMu'+'lt,\x20ramp.a'+');\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20=\x20ram'+'p.a\x20+\x20inpu'+'t.texCoord'+'sAlphaLife'+'.z;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20rgb:\x20ve'+'c3f\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'var\x20a:\x20f32'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',q3='\x0afn\x20unpack'+'3NFloats(s'+'rc:\x20f32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20r\x20'+'=\x20fract(sr'+'c);\x0a\x20\x20\x20\x20le'+'t\x20g\x20=\x20frac'+'t(src\x20*\x2025'+'6.0);\x0a\x20\x20\x20\x20'+'let\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3f(r,\x20'+'g,\x20b);\x0a}\x0a\x0a'+'fn\x20saturat'+'e(x:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0astruct\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20resu'+'lt:\x20vec4f,'+'\x0a\x20\x20\x20\x20unpac'+'ked:\x20vec3f'+'\x0a}\x0a\x0afn\x20tex'+'1Dlod_lerp'+'_simple(te'+'x:\x20texture'+'_2d<f32>,\x20'+'texSampler'+':\x20sampler,'+'\x20tc:\x20vec2f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20tc_next\x20='+'\x20tc\x20+\x20vec2'+'f(uniform.'+'graphSampl'+'eSize);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(\x20textur'+'eSample(te'+'x,\x20texSamp'+'ler,\x20tc),\x20'+'textureSam'+'ple(tex,\x20t'+'exSampler,'+'\x20tc_next),'+'\x20fract(tc.'+'x\x20*\x20unifor'+'m.graphNum'+'Samples)\x20)'+';\x0a}\x0a\x0afn\x20te'+'x1Dlod_ler'+'p_unpack(t'+'ex:\x20textur'+'e_2d<f32>,'+'\x20texSample'+'r:\x20sampler'+',\x20tc:\x20vec2'+'f)\x20->\x20TexL'+'erpUnpackR'+'esult\x20{\x0a\x20\x20'+'\x20\x20let\x20tc_n'+'ext\x20=\x20tc\x20+'+'\x20vec2f(uni'+'form.graph'+'SampleSize'+');\x0a\x20\x20\x20\x20let'+'\x20a\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20tc,\x200.0);'+'\x0a\x20\x20\x20\x20let\x20b'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'c_next,\x200.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20u'+'niform.gra'+'phNumSampl'+'es);\x0a\x20\x20\x20\x20l'+'et\x20unpacke'+'dA\x20=\x20unpac'+'k3NFloats('+'a.w);\x0a\x20\x20\x20\x20'+'let\x20unpack'+'edB\x20=\x20unpa'+'ck3NFloats'+'(b.w);\x0a\x20\x20\x20'+'\x20let\x20w_out'+('\x20=\x20mix(unp'+'ackedA,\x20un'+'packedB,\x20c'+');\x0a\x20\x20\x20\x20ret'+'urn\x20TexLer'+'pUnpackRes'+'ult(mix(a,'+'\x20b,\x20c),\x20w_'+'out);\x0a}\x0a\x0as'+'truct\x20Rota'+'teResult\x20{'+'\x0a\x20\x20\x20\x20rotat'+'edVec:\x20vec'+'2f,\x0a\x20\x20\x20\x20ma'+'trix:\x20mat2'+'x2f\x0a}\x0a\x0afn\x20'+'rotateWith'+'Matrix(qua'+'dXY:\x20vec2f'+',\x20pRotatio'+'n:\x20f32)\x20->'+'\x20RotateRes'+'ult\x20{\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20co'+'s(pRotatio'+'n);\x0a\x20\x20\x20\x20le'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x20\x20\x20\x20let\x20'+'m\x20=\x20mat2x2'+'f(vec2f(c,'+'\x20s),\x20vec2f'+'(-s,\x20c));\x0a'+'\x20\x20\x20\x20return'+'\x20RotateRes'+'ult(m\x20*\x20qu'+'adXY,\x20m);\x0a'+'}\x0a\x0afn\x20bill'+'board(Inst'+'anceCoords'+':\x20vec3f,\x20q'+'uadXY:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20pos:\x20ve'+'c3f;\x0a\x20\x20\x20\x20#'+'ifdef\x20SCRE'+'EN_SPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pos'+'\x20=\x20vec3f(-'+'1.0,\x200.0,\x20'+'0.0)\x20*\x20qua'+'dXY.x\x20+\x20ve'+'c3f(0.0,\x20-'+'1.0,\x200.0)\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20custom'+'Face(Insta'+'nceCoords:'+'\x20vec3f,\x20qu'+'adXY:\x20vec2'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20pos\x20=\x20un'+'iform.face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20uniform.f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20safeNo'+'rmalize(v:'+'\x20vec2f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20let\x20l\x20='+'\x20length(v)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20select('+'v,\x20v\x20/\x20l,\x20'+'l\x20>\x201e-06)'+';\x0a}\x0a\x0a@vert'+'ex\x0afn\x20vert'+'exMain(inp')+('ut:\x20Vertex'+'Input)\x20->\x20'+'VertexOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20meshLo'+'calPos_in\x20'+'=\x20input.pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20id\x20=\x20floo'+'r(input.pa'+'rticle_ver'+'texData.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20rndFactor'+'\x20=\x20fract(s'+'in(id\x20+\x201.'+'0\x20+\x20unifor'+'m.seed));\x0a'+'\x20\x20\x20\x20let\x20rn'+'dFactor3\x20='+'\x20vec3f(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20let\x20uv\x20=\x20'+'id\x20/\x20unifo'+'rm.numPart'+'iclesPot;\x0a'+'\x20\x20\x20\x20readIn'+'put(uv);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20model'+'Rotation\x20='+'\x20mat3x3f(u'+'niform.mat'+'rix_model['+'0].xyz,\x20un'+'iform.matr'+'ix_model[1'+'].xyz,\x20uni'+'form.matri'+'x_model[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20inVel'+'\x20=\x20modelRo'+'tation\x20*\x20i'+'nVel;\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20let\x20viewR'+'otation\x20=\x20'+'mat3x3f(un'+'iform.matr'+'ix_view[0]'+'.xyz,\x20unif'+'orm.matrix'+'_view[1].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[2].xyz'+');\x0a\x20\x20\x20\x20let'+'\x20velocityV'+'\x20=\x20safeNor'+'malize((vi'+'ewRotation'+'\x20*\x20inVel).'+'xy);\x0a\x0a\x20\x20\x20\x20'+'let\x20partic'+'leLifetime'+'\x20=\x20uniform'+'.lifetime;'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'meshLocalP'+'os\x20=\x20meshL'+'ocalPos_in'+';\x0a\x20\x20\x20\x20if\x20('+'inLife\x20<=\x20'+'0.0\x20||\x20inL'+'ife\x20>\x20part'+'icleLifeti'+'me\x20||\x20!inS'+'how)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mesh'+'LocalPos\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20let\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20let'+'\x20nlife\x20=\x20c')+('lamp(inLif'+'e\x20/\x20partic'+'leLifetime'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20lerp_res'+'ult\x20=\x20tex1'+'Dlod_lerp_'+'unpack(int'+'ernalTex2,'+'\x20internalT'+'ex2Sampler'+',\x20vec2f(nl'+'ife,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'params\x20=\x20l'+'erp_result'+'.result;\x0a\x20'+'\x20\x20\x20let\x20par'+'amDiv\x20=\x20le'+'rp_result.'+'unpacked;\x0a'+'\x0a\x20\x20\x20\x20var\x20s'+'cale\x20=\x20par'+'ams.y;\x0a\x20\x20\x20'+'\x20let\x20scale'+'Div\x20=\x20para'+'mDiv.x;\x0a\x20\x20'+'\x20\x20let\x20alph'+'aDiv\x20=\x20par'+'amDiv.z;\x0a\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20scale\x20+\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20unifo'+'rm.scaleDi'+'vMult\x20*\x20fr'+'act(rndFac'+'tor*10000.'+'0);\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.texCoords'+'AlphaLife\x20'+'=\x20vec4f(qu'+'adXY\x20*\x20-0.'+'5\x20+\x200.5,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20unifor'+'m.alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife\x20=\x20vec4'+'f(particle'+'_uv,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'uniform.al'+'phaDivMult'+'\x20*\x20fract(r'+'ndFactor*1'+'000.0),\x20nl'+'ife);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20var\x20part'+'iclePos\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20var\x20parti'+'clePosMove'+'d\x20=\x20vec3f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20var\x20rotMa'+'trix:\x20mat2'+'x2f;\x0a'),j3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20min('+'floor(inpu'+'t.texCoord'+'sAlphaLife'+'.w\x20*\x20unifo'+'rm.animTex'+'Params.y)\x20'+'+\x20uniform.'+'animTexPar'+'ams.x,\x20uni'+'form.animT'+'exParams.z'+');\x0a',Y3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20floo'+'r((output.'+'texCoordsA'+'lphaLife.w'+'\x20*\x20uniform'+'.animTexPa'+'rams.y\x20+\x20u'+'niform.ani'+'mTexParams'+'.x)\x20%\x20(uni'+'form.animT'+'exParams.z'+'\x20+\x201.0));\x20'+'\x20\x20\x20\x0a',K3='\x0a\x20\x20\x20\x20var\x20a'+'nimationIn'+'dex:\x20f32;\x0a'+'\x0a\x20\x20\x20\x20if\x20(u'+'niform.ani'+'mTexIndexP'+'arams.y\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20floor(('+'uniform.an'+'imTexParam'+'s.w\x20+\x201.0)'+'\x20*\x20rndFact'+'or3.z)\x20*\x20('+'uniform.an'+'imTexParam'+'s.z\x20+\x201.0)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20animati'+'onIndex\x20=\x20'+'uniform.an'+'imTexIndex'+'Params.x\x20*'+'\x20(uniform.'+'animTexPar'+'ams.z\x20+\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20var\x20a'+'tlasX:\x20f32'+'\x20=\x20(animat'+'ionIndex\x20+'+'\x20animFrame'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20atlasY:\x20'+'f32\x20=\x201.0\x20'+'-\x20floor(at'+'lasX\x20+\x201.0'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.y;\x0a\x20\x20\x20\x20at'+'lasX\x20=\x20fra'+'ct(atlasX)'+';\x20//\x20Reass'+'ign\x20atlasX'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'current_tc'+'al_xy\x20=\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.xy;\x0a\x20\x20'+'\x20\x20let\x20scal'+'ed_tcal_xy'+'\x20=\x20current'+'_tcal_xy\x20*'+'\x20uniform.a'+'nimTexTile'+'sParams.xy'+';\x0a\x20\x20\x20\x20let\x20'+'final_tcal'+'_xy\x20=\x20scal'+'ed_tcal_xy'+'\x20+\x20vec2f(a'+'tlasX,\x20atl'+'asY);\x0a\x20\x20\x20\x20'+'output.tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4f(final_'+'tcal_xy,\x20o'+'utput.texC'+'oordsAlpha'+'Life.z,\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.w);\x0a',Z3='\x0afn\x20readIn'+'put(uv:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex:\x20ve'+'c4f\x20=\x20text'+'ureSampleL'+'evel(parti'+'cleTexIN,\x20'+'particleTe'+'xINSampler'+',\x20vec2f(uv'+',\x200.25),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex2:\x20v'+'ec4f\x20=\x20tex'+'tureSample'+'Level(part'+'icleTexIN,'+'\x20particleT'+'exINSample'+'r,\x20vec2f(u'+'v,\x200.75),\x20'+'0.0);\x0a\x0a\x20\x20\x20'+'\x20inPos\x20=\x20t'+'ex.xyz;\x0a\x20\x20'+'\x20\x20inVel\x20=\x20'+'tex2.xyz;\x0a'+'\x20\x20\x20\x20inAngl'+'e\x20=\x20abs(te'+'x.w)\x20-\x20100'+'0.0;\x0a\x20\x20\x20\x20i'+'nShow\x20=\x20te'+'x.w\x20>=\x200.0'+';\x0a\x20\x20\x20\x20inLi'+'fe\x20=\x20tex2.'+'w;\x0a}\x0a',Q3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0ac'+'onst\x20PI2:\x20'+'f32\x20=\x206.28'+'3185307179'+'586;\x0a\x0aunif'+'orm\x20inBoun'+'dsSize:\x20ve'+'c3f;\x0aunifo'+'rm\x20inBound'+'sCenter:\x20v'+'ec3f;\x0a\x0auni'+'form\x20maxVe'+'l:\x20f32;\x0a\x0af'+'n\x20decodeFl'+'oatRG(rg:\x20'+'vec2f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20rg.'+'y\x20*\x20(1.0\x20/'+'\x20255.0)\x20+\x20'+'rg.x;\x0a}\x0a\x0af'+'n\x20decodeFl'+'oatRGBA(\x20r'+'gba:\x20vec4f'+'\x20)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(rgb'+'a,\x20vec4f(1'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x2065025.0'+',\x201.0\x20/\x2016'+'0581375.0)'+');\x0a}\x0a\x0afn\x20r'+'eadInput(u'+'v:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20let\x20te'+'x0\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.125),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex1\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.37'+'5),\x200.0);\x0a'+'\x20\x20\x20\x20let\x20te'+'x2\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.625),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex3\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.87'+'5),\x200.0);\x0a'+'\x0a\x20\x20\x20\x20inPos'+'\x20=\x20vec3f(d'+'ecodeFloat'+'RG(tex0.rg'+'),\x20decodeF'+'loatRG(tex'+'0.ba),\x20dec'+'odeFloatRG'+'(tex1.rg))'+';\x0a\x20\x20\x20\x20inPo'+'s\x20=\x20(inPos'+'\x20-\x20vec3f(0'+'.5))\x20*\x20uni'+'form.inBou'+'ndsSize\x20+\x20'+'uniform.in'+'BoundsCent'+'er;\x0a\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inVel\x20=\x20('+('inVel\x20-\x20ve'+'c3f(0.5))\x20'+'*\x20uniform.'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20let\x20l'+'ife_decode'+'d\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20let\x20maxNe'+'gLife\x20=\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20(uniform.'+'rate\x20+\x20uni'+'form.rateD'+'iv));\x0a\x20\x20\x20\x20'+'let\x20maxPos'+'Life\x20=\x20uni'+'form.lifet'+'ime\x20+\x201.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20life_d'+'ecoded\x20*\x20('+'maxNegLife'+'\x20+\x20maxPosL'+'ife)\x20-\x20max'+'NegLife;\x0a}'),J3='\x0afn\x20getOut'+'put()\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20if\x20(pcPos'+'ition.y\x20<\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4f(ou'+'tPos,\x20(out'+'Angle\x20+\x2010'+'00.0)\x20*\x20vi'+'sMode);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(outVel,\x20'+'outLife);\x0a'+'\x20\x20\x20\x20}\x0a}\x0a',eO='\x0auniform\x20o'+'utBoundsMu'+'l:\x20vec3f;\x0a'+'uniform\x20ou'+'tBoundsAdd'+':\x20vec3f;\x0a\x0a'+'fn\x20encodeF'+'loatRG(\x20v:'+'\x20f32\x20)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20var\x20enc:'+'\x20vec2f\x20=\x20v'+'ec2f(1.0,\x20'+'255.0)\x20*\x20v'+';\x0a\x20\x20\x20\x20enc\x20'+'=\x20fract(en'+'c);\x0a\x20\x20\x20\x20en'+'c\x20=\x20enc\x20-\x20'+'enc.yy\x20*\x20('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20enc;\x0a'+'}\x0a\x0afn\x20enco'+'deFloatRGB'+'A(\x20v:\x20f32\x20'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20factors\x20='+'\x20vec4f(1.0'+',\x20255.0,\x206'+'5025.0,\x2016'+'0581375.0)'+';\x0a\x20\x20\x20\x20var\x20'+'enc:\x20vec4f'+'\x20=\x20factors'+'\x20*\x20v;\x0a\x20\x20\x20\x20'+'enc\x20=\x20frac'+'t(enc);\x0a\x20\x20'+'\x20\x20enc\x20=\x20en'+'c\x20-\x20enc.yz'+'ww\x20*\x20vec4f'+'(1.0\x20/\x20255'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x20255.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'return\x20enc'+';\x0a}\x0a\x0afn\x20ge'+'tOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20outPo'+'s\x20=\x20outPos'+'\x20*\x20uniform'+'.outBounds'+'Mul\x20+\x20unif'+'orm.outBou'+'ndsAdd;\x0a\x20\x20'+'\x20\x20outAngle'+'\x20=\x20fract(o'+'utAngle\x20/\x20'+'PI2);\x0a\x0a\x20\x20\x20'+'\x20outVel\x20=\x20'+'(outVel\x20/\x20'+'uniform.ma'+'xVel)\x20+\x20ve'+'c3f(0.5);\x20'+'//\x20TODO:\x20m'+'ul\x0a\x0a\x20\x20\x20\x20le'+'t\x20maxNegLi'+'fe\x20=\x20max(u'+'niform.lif'+'etime,\x20(un'+'iform.numP'+'articles\x20-'+'\x201.0)\x20*\x20(u'+'niform.rat'+'e\x20+\x20unifor'+'m.rateDiv)'+');\x0a\x20\x20\x20\x20let'+'\x20maxPosLif'+'e\x20=\x20unifor'+'m.lifetime'+'\x20+\x201.0;\x0a\x20\x20'+'\x20\x20outLife\x20'+'=\x20(outLife'+'\x20+\x20maxNegL'+'ife)\x20/\x20(ma'+'xNegLife\x20+'+'\x20maxPosLif'+'e);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(pcPosit'+'ion.y\x20<\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'vec4f(enco'+'deFloatRG('+'outPos.x),'+'\x20encodeFlo'+'atRG(outPo'+'s.y));\x0a\x20\x20\x20'+('\x20}\x20else\x20if'+'\x20(pcPositi'+'on.y\x20<\x202.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(encod'+'eFloatRG(o'+'utPos.z),\x20'+'encodeFloa'+'tRG(outAng'+'le));\x0a\x20\x20\x20\x20'+'}\x20else\x20if\x20'+'(pcPositio'+'n.y\x20<\x203.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(outVel'+',\x20visMode\x20'+'*\x200.5\x20+\x200.'+'5);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20encodeFl'+'oatRGBA(ou'+'tLife);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),tO='\x0auniform\x20s'+'pawnBounds'+':\x20mat3x3f;'+'\x0auniform\x20s'+'pawnPosInn'+'erRatio:\x20v'+'ec3f;\x0a\x0afn\x20'+'calcSpawnP'+'osition(in'+'Bounds:\x20ve'+'c3f,\x20rndFa'+'ctor:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'pos\x20=\x20inBo'+'unds\x20-\x20vec'+'3f(0.5);\x0a\x0a'+'\x20\x20\x20\x20let\x20po'+'sAbs\x20=\x20abs'+'(pos);\x0a\x20\x20\x20'+'\x20let\x20maxCo'+'mp\x20=\x20max(p'+'osAbs.x,\x20m'+'ax(posAbs.'+'y,\x20posAbs.'+'z));\x0a\x20\x20\x20\x20l'+'et\x20maxPos\x20'+'=\x20vec3f(ma'+'xComp);\x0a\x0a\x20'+'\x20\x20\x20let\x20edg'+'e\x20=\x20maxPos'+'\x20+\x20(vec3f('+'0.5)\x20-\x20max'+'Pos)\x20*\x20uni'+'form.spawn'+'PosInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'pos.x\x20=\x20ed'+'ge.x\x20*\x20sel'+'ect(2.0\x20*\x20'+'pos.x,\x20sig'+'n(pos.x),\x20'+'maxPos.x\x20='+'=\x20posAbs.x'+');\x0a\x20\x20\x20\x20pos'+'.y\x20=\x20edge.'+'y\x20*\x20select'+'(2.0\x20*\x20pos'+'.y,\x20sign(p'+'os.y),\x20max'+'Pos.y\x20==\x20p'+'osAbs.y);\x0a'+'\x20\x20\x20\x20pos.z\x20'+'=\x20edge.z\x20*'+'\x20select(2.'+'0\x20*\x20pos.z,'+'\x20sign(pos.'+'z),\x20maxPos'+'.z\x20==\x20posA'+'bs.z);\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20uni'+'form.emitt'+'erPos\x20+\x20un'+'iform.spaw'+'nBounds\x20*\x20'+'pos;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uniform.sp'+'awnBounds\x20'+'*\x20pos;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20*localV'+'elocity\x20=\x20'+'*localVelo'+'city\x20-\x20vec'+'3f(0.0,\x200.'+'0,\x20uniform'+'.initialVe'+'locity);\x0a}'+'\x0a',sO='\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'getOutput('+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',iO='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20par'+'ticleTexIN'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20particl'+'eTexINSamp'+'ler:\x20sampl'+'er;\x0avar\x20in'+'ternalTex0'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0avar\x20int'+'ernalTex1:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20internal'+'Tex1Sample'+'r:\x20sampler'+';\x0avar\x20inte'+'rnalTex2:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20internalT'+'ex2Sampler'+':\x20sampler;'+'\x0avar\x20inter'+'nalTex3:\x20t'+'exture_2d<'+'f32>;\x0avar\x20'+'internalTe'+'x3Sampler:'+'\x20sampler;\x0a'+'\x0auniform\x20e'+'mitterMatr'+'ix:\x20mat3x3'+'f;\x0auniform'+'\x20emitterMa'+'trixInv:\x20m'+'at3x3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0a\x0aun'+'iform\x20emit'+'terPos:\x20ve'+'c3f;\x0aunifo'+'rm\x20frameRa'+'ndom:\x20vec3'+'f;\x0auniform'+'\x20localVelo'+'cityDivMul'+'t:\x20vec3f;\x0a'+'uniform\x20ve'+'locityDivM'+'ult:\x20vec3f'+';\x0auniform\x20'+'delta:\x20f32'+';\x0auniform\x20'+'rate:\x20f32;'+'\x0auniform\x20r'+'ateDiv:\x20f3'+'2;\x0auniform'+'\x20lifetime:'+'\x20f32;\x0aunif'+'orm\x20numPar'+'ticles:\x20f3'+'2;\x0auniform'+'\x20rotSpeedD'+'ivMult:\x20f3'+'2;\x0auniform'+'\x20radialSpe'+'edDivMult:'+'\x20f32;\x0aunif'+'orm\x20seed:\x20'+'f32;\x0aunifo'+'rm\x20startAn'+'gle:\x20f32;\x0a'+'uniform\x20st'+'artAngle2:'+'\x20f32;\x0aunif'+'orm\x20initia'+'lVelocity:'+'\x20f32;\x0a\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0a\x0ava'+'r<private>'+'\x20inPos:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20in'+'Vel:\x20vec3f'+';\x0avar<priv'+'ate>\x20inAng'+('le:\x20f32;\x0av'+'ar<private'+'>\x20inShow:\x20'+'bool;\x0avar<'+'private>\x20i'+'nLife:\x20f32'+';\x0avar<priv'+'ate>\x20visMo'+'de:\x20f32;\x0a\x0a'+'var<privat'+'e>\x20outPos:'+'\x20vec3f;\x0ava'+'r<private>'+'\x20outVel:\x20v'+'ec3f;\x0avar<'+'private>\x20o'+'utAngle:\x20f'+'32;\x0avar<pr'+'ivate>\x20out'+'Show:\x20bool'+';\x0avar<priv'+'ate>\x20outLi'+'fe:\x20f32;\x0a'),rO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tLife\x20=\x20ou'+'tLife\x20-\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20particleR'+'ate);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20visMod'+'e\x20=\x20-1.0;\x0a'+'\x20\x20\x20\x20}\x0a',aO='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20selec'+'t(visMode,'+'\x20-1.0,\x20out'+'Life\x20<\x200.0'+');\x0a',nO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20subtract'+'Amount\x20=\x20m'+'ax(uniform'+'.lifetime,'+'\x20(uniform.'+'numParticl'+'es\x20-\x201.0)\x20'+'*\x20particle'+'Rate);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outLi'+'fe\x20=\x20outLi'+'fe\x20-\x20subtr'+'actAmount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'isMode\x20=\x201'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20visMod'+'e\x20=\x20select'+'(visMode,\x20'+'1.0,\x20outLi'+'fe\x20<\x200.0);'+'\x0a',oO='\x0auniform\x20s'+'pawnBounds'+'Sphere:\x20f3'+'2;\x0auniform'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio:\x20'+'f32;\x0a\x0afn\x20c'+'alcSpawnPo'+'sition(inB'+'ounds:\x20vec'+'3f,\x20rndFac'+'tor:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'nd4:\x20f32\x20='+'\x20fract(rnd'+'Factor\x20*\x201'+'000.0);\x0a\x20\x20'+'\x20\x20let\x20norm'+':\x20vec3f\x20=\x20'+'normalize('+'inBounds.x'+'yz\x20-\x20vec3f'+'(0.5));\x0a\x20\x20'+'\x20\x20let\x20r:\x20f'+'32\x20=\x20rnd4\x20'+'*\x20(1.0\x20-\x20u'+'niform.spa'+'wnBoundsSp'+'hereInnerR'+'atio)\x20+\x20un'+'iform.spaw'+'nBoundsSph'+'ereInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20unifo'+'rm.emitter'+'Pos\x20+\x20norm'+'\x20*\x20r\x20*\x20uni'+'form.spawn'+'BoundsSphe'+'re;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20n'+'orm\x20*\x20r\x20*\x20'+'uniform.sp'+'awnBoundsS'+'phere;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20ini'+'tialVelOff'+'set:\x20vec3f'+'\x20=\x20normali'+'ze(inBound'+'s\x20-\x20vec3f('+'0.5))\x20*\x20un'+'iform.init'+'ialVelocit'+'y;\x0a\x20\x20\x20\x20*lo'+'calVelocit'+'y\x20=\x20*local'+'Velocity\x20+'+'\x20initialVe'+'lOffset;\x0a}'+'\x0a',lO='\x0afn\x20satura'+'te(x:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0afn\x20unp'+'ack3NFloat'+'s(src:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20r\x20=\x20fract'+'(src);\x0a\x20\x20\x20'+'\x20let\x20g\x20=\x20f'+'ract(src\x20*'+'\x20256.0);\x0a\x20'+'\x20\x20\x20let\x20b\x20='+'\x20fract(src'+'\x20*\x2065536.0'+');\x0a\x20\x20\x20\x20ret'+'urn\x20vec3f('+'r,\x20g,\x20b);\x0a'+'}\x0a\x0a//\x20Stru'+'ct\x20to\x20hand'+'le\x20multipl'+'e\x20return\x20v'+'alues\x20from'+'\x20tex1Dlod_'+'lerp\x0astruc'+'t\x20TexLerpU'+'npackResul'+'t\x20{\x0a\x20\x20\x20\x20re'+'sult:\x20vec3'+'f,\x0a\x20\x20\x20\x20unp'+'acked:\x20vec'+'3f\x0a}\x0a\x0afn\x20t'+'ex1Dlod_le'+'rp(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20tc:\x20'+'vec2f)\x20->\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'tc_next\x20=\x20'+'tc\x20+\x20vec2f'+'(uniform.g'+'raphSample'+'Size);\x0a\x20\x20\x20'+'\x20let\x20a\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20tc,\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20tc_next'+',\x200.0);\x0a\x20\x20'+'\x20\x20let\x20c\x20=\x20'+'fract(tc.x'+'\x20*\x20uniform'+'.graphNumS'+'amples);\x0a\x0a'+'\x20\x20\x20\x20let\x20un'+'packedA\x20=\x20'+'unpack3NFl'+'oats(a.w);'+'\x0a\x20\x20\x20\x20let\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20let\x20'+'w_out\x20=\x20mi'+'x(unpacked'+'A,\x20unpacke'+'dB,\x20c);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'TexLerpUnp'+'ackResult('+'mix(a.xyz,'+'\x20b.xyz,\x20c)'+',\x20w_out);\x0a'+'}\x0a\x0aconst\x20H'+'ASHSCALE4:'+'\x20vec4f\x20=\x20v'+'ec4f(1031.'+'0,\x200.1030,'+'\x200.0973,\x200'+'.1099);\x0afn'+'\x20hash41(p:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20var\x20p4\x20=\x20'+'fract(vec4'+'f(p)\x20*\x20HAS'+('HSCALE4);\x0a'+'\x20\x20\x20\x20p4\x20=\x20p'+'4\x20+\x20dot(p4'+',\x20p4.wzxy\x20'+'+\x2019.19);\x0a'+'\x20\x20\x20\x20return'+'\x20fract(vec'+'4f((p4.x\x20+'+'\x20p4.y)*p4.'+'z,\x20(p4.x\x20+'+'\x20p4.z)*p4.'+'y,\x20(p4.y\x20+'+'\x20p4.z)*p4.'+'w,\x20(p4.z\x20+'+'\x20p4.w)*p4.'+'x));\x0a}\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20if\x20(pc'+'Position.x'+'\x20>\x20uniform'+'.numPartic'+'les)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20re'+'adInput(in'+'put.vUv0.x'+');\x0a\x20\x20\x20\x20vis'+'Mode\x20=\x20sel'+'ect(-1.0,\x20'+'1.0,\x20inSho'+'w);\x0a\x0a\x20\x20\x20\x20l'+'et\x20rndFact'+'or\x20=\x20hash4'+'1(pcPositi'+'on.x\x20+\x20uni'+'form.seed)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20particleR'+'ate\x20=\x20unif'+'orm.rate\x20+'+'\x20uniform.r'+'ateDiv\x20*\x20r'+'ndFactor.x'+';\x0a\x0a\x20\x20\x20\x20out'+'Life\x20=\x20inL'+'ife\x20+\x20unif'+'orm.delta;'+'\x0a\x20\x20\x20\x20let\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20uniform'+'.lifetime,'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t0\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'0,\x20interna'+'lTex0Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20va'+'r\x20localVel'+'ocity\x20=\x20le'+'rpResult0.'+'result;\x0a\x20\x20'+'\x20\x20let\x20loca'+'lVelocityD'+'iv\x20=\x20lerpR'+'esult0.unp'+'acked;\x0a\x0a\x20\x20'+'\x20\x20let\x20lerp'+'Result1\x20=\x20'+'tex1Dlod_l'+'erp(intern'+'alTex1,\x20in'+'ternalTex1'+'Sampler,\x20v'+'ec2f(nlife'+',\x200.0));\x0a\x20'+'\x20\x20\x20var\x20vel'+'ocity\x20=\x20le'+'rpResult1.'+'result;\x0a\x20\x20'+'\x20\x20let\x20velo'+'cityDiv\x20=\x20'+'lerpResult')+('1.unpacked'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t2\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'2,\x20interna'+'lTex2Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20le'+'t\x20params\x20='+'\x20lerpResul'+'t2.result;'+'\x0a\x20\x20\x20\x20let\x20p'+'aramDiv\x20=\x20'+'lerpResult'+'2.unpacked'+';\x0a\x20\x20\x20\x20var\x20'+'rotSpeed\x20='+'\x20params.x;'+'\x0a\x20\x20\x20\x20let\x20r'+'otSpeedDiv'+'\x20=\x20paramDi'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'let\x20lerpRe'+'sult3\x20=\x20te'+'x1Dlod_ler'+'p(internal'+'Tex3,\x20inte'+'rnalTex3Sa'+'mpler,\x20vec'+'2f(nlife,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20let\x20radia'+'lParams\x20=\x20'+'lerpResult'+'3.result;\x0a'+'\x20\x20\x20\x20let\x20ra'+'dialParamD'+'iv\x20=\x20lerpR'+'esult3.unp'+'acked;\x0a\x20\x20\x20'+'\x20let\x20radia'+'lSpeed\x20=\x20r'+'adialParam'+'s.x;\x0a\x20\x20\x20\x20l'+'et\x20radialS'+'peedDiv\x20=\x20'+'radialPara'+'mDiv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20res'+'pawn\x20=\x20inL'+'ife\x20<=\x200.0'+'\x20||\x20outLif'+'e\x20>=\x20unifo'+'rm.lifetim'+'e;\x0a\x20\x20\x20\x20inP'+'os\x20=\x20selec'+'t(inPos,\x20c'+'alcSpawnPo'+'sition(rnd'+'Factor.xyz'+',\x20rndFacto'+'r.x),\x20resp'+'awn);\x0a\x20\x20\x20\x20'+'inAngle\x20=\x20'+'select(inA'+'ngle,\x20mix('+'uniform.st'+'artAngle,\x20'+'uniform.st'+'artAngle2,'+'\x20rndFactor'+'.x),\x20respa'+'wn);\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20radialVe'+'l:\x20vec3f\x20='+'\x20inPos\x20-\x20u'+'niform.emi'+'tterPos;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20radialVel'+':\x20vec3f\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20=\x20select'+'(vec3f(0.0'+'),\x20radialS'+'peed\x20*\x20nor'+'malize(rad'+'ialVel),\x20d'+'ot(radialV'+'el,\x20radial'+'Vel)\x20>\x201.0')+('E-8);\x0a\x20\x20\x20\x20'+'radialVel\x20'+'=\x20radialVe'+'l\x20+\x20(radia'+'lSpeedDiv\x20'+'*\x20vec3f(2.'+'0)\x20-\x20vec3f'+'(1.0))\x20*\x20u'+'niform.rad'+'ialSpeedDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20=\x20localV'+'elocity\x20+\x20'+'(localVelo'+'cityDiv\x20*\x20'+'vec3f(2.0)'+'\x20-\x20vec3f(1'+'.0))\x20*\x20uni'+'form.local'+'VelocityDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x20\x20\x20\x20vel'+'ocity\x20=\x20ve'+'locity\x20+\x20('+'velocityDi'+'v\x20*\x20vec3f('+'2.0)\x20-\x20vec'+'3f(1.0))\x20*'+'\x20uniform.v'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20rotS'+'peed\x20=\x20rot'+'Speed\x20+\x20(r'+'otSpeedDiv'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20unif'+'orm.rotSpe'+'edDivMult\x20'+'*\x20rndFacto'+'r.y;\x0a\x0a\x20\x20\x20\x20'+'addInitial'+'Velocity(&'+'localVeloc'+'ity,\x20rndFa'+'ctor.xyz);'+'\x0a\x0a\x20\x20\x20\x20#ifn'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20outVel'+'\x20=\x20uniform'+'.emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tVel\x20=\x20(lo'+'calVelocit'+'y\x20+\x20radial'+'Vel)\x20/\x20uni'+'form.emitt'+'erScale\x20+\x20'+'uniform.em'+'itterMatri'+'xInv\x20*\x20vel'+'ocity;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20outPos\x20'+'=\x20inPos\x20+\x20'+'outVel\x20*\x20u'+'niform.del'+'ta;\x0a\x20\x20\x20\x20ou'+'tAngle\x20=\x20i'+'nAngle\x20+\x20r'+'otSpeed\x20*\x20'+'uniform.de'+'lta;\x0a'),cO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20rotated'+'QuadXY);\x0a',hO='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20sa'+'turate(gam'+'maCorrectI'+'nput(max(a'+',\x200.0)));\x0a'+'\x20\x20\x20\x20if\x20((r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+')\x20<\x200.0000'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20}\x20\x20'+'\x20\x20\x0a',dO='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3f'+'(1.0),\x20rgb'+',\x20a);\x0a\x20\x20\x20\x20'+'if\x20((rgb.r'+'\x20+\x20rgb.g\x20+'+'\x20rgb.b)\x20>\x20'+'2.99)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a',fO='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20}\x0a',uO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20\x20'+'\x20//\x20XYZ\x20=\x20'+'world\x20pos,'+'\x20W\x20=\x20life\x0a'+'attribute\x20'+'particle_v'+'ertexData2'+':\x20vec4f;\x20\x20'+'//\x20X\x20=\x20ang'+'le,\x20Y\x20=\x20sc'+'ale,\x20Z\x20=\x20a'+'lpha,\x20W\x20=\x20'+'velocity.x'+'\x0aattribute'+'\x20particle_'+'vertexData'+'3:\x20vec4f;\x20'+'\x20//\x20XYZ\x20=\x20'+'particle\x20l'+'ocal\x20pos,\x20'+'W\x20=\x20veloci'+'ty.y\x0aattri'+'bute\x20parti'+'cle_vertex'+'Data4:\x20f32'+';\x20\x20\x20\x20//\x20pa'+'rticle\x20id\x0a'+'\x0a//\x20type\x20d'+'epends\x20on\x20'+'useMesh\x20pr'+'operty.\x20St'+'art\x20with\x20X'+'\x20=\x20velocit'+'y.z,\x20Y\x20=\x20p'+'article\x20ID'+'\x20and\x20for\x20m'+'esh\x20partic'+'les\x20procee'+'ds\x20with\x20Z\x20'+'=\x20mesh\x20UV.'+'x,\x20W\x20=\x20mes'+'h\x20UV.y\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_ver'+'texData5:\x20'+'vec2f;\x0a#el'+'se\x0a\x20\x20\x20\x20att'+'ribute\x20par'+'ticle_vert'+'exData5:\x20v'+'ec4f;\x0a#end'+'if\x0a\x0aunifor'+'m\x20matrix_v'+'iewProject'+'ion:\x20mat4x'+'4f;\x0aunifor'+'m\x20matrix_m'+'odel:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'trix_norma'+'l:\x20mat3x3f'+';\x0auniform\x20'+'matrix_vie'+'wInverse:\x20'+'mat4x4f;\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20lifet'+'ime:\x20f32;\x0a'+'uniform\x20st'+'retch:\x20f32'+';\x0auniform\x20'+'seed:\x20f32;'+'\x0auniform\x20w'+'rapBounds:'+'\x20vec3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0auni'+'form\x20faceT'+'angent:\x20ve'+'c3f;\x0aunifo'+'rm\x20faceBin'+'orm:\x20vec3f'+';\x0a\x0a#ifdef\x20'+('PARTICLE_G'+'PU\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex0:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x0Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex1'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex1S'+'ampler:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20var\x20inter'+'nalTex2:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex2Samp'+'ler:\x20sampl'+'er;\x0a#endif'+'\x0auniform\x20e'+'mitterPos:'+'\x20vec3f;\x0a\x0av'+'arying\x20tex'+'CoordsAlph'+'aLife:\x20vec'+'4f;\x0a\x0astruc'+'t\x20RotateRe'+'sult\x20{\x0a\x20\x20\x20'+'\x20rotatedVe'+'c:\x20vec2f,\x0a'+'\x20\x20\x20\x20matrix'+':\x20mat2x2f\x0a'+'}\x0a\x0afn\x20rota'+'teWithMatr'+'ix(quadXY:'+'\x20vec2f,\x20pR'+'otation:\x20f'+'32)\x20->\x20Rot'+'ateResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'c\x20=\x20cos(pR'+'otation);\x0a'+'\x20\x20\x20\x20let\x20s\x20'+'=\x20sin(pRot'+'ation);\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'mat2x2f(ve'+'c2f(c,\x20s),'+'\x20vec2f(-s,'+'\x20c));\x0a\x20\x20\x20\x20'+'return\x20Rot'+'ateResult('+'m\x20*\x20quadXY'+',\x20m);\x0a}\x0a\x0a\x0a'+'fn\x20billboa'+'rd(Instanc'+'eCoords:\x20v'+'ec3f,\x20quad'+'XY:\x20vec2f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20customF'+'ace(Instan'+'ceCoords:\x20'+'vec3f,\x20qua'+'dXY:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20pos\x20=\x20uni'+'form.faceT'+'angent\x20*\x20q'+'uadXY.x\x20+\x20'+'uniform.fa'+'ceBinorm\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20safeNor'+'malize(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20l\x20=\x20')+('length(v);'+'\x0a\x20\x20\x20\x20retur'+'n\x20select(v'+',\x20v\x20/\x20l,\x20l'+'\x20>\x201e-06);'+'\x0a}\x0a\x0a@verte'+'x\x0afn\x20verte'+'xMain(inpu'+'t:\x20VertexI'+'nput)\x20->\x20V'+'ertexOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'VertexOutp'+'ut;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20particl'+'ePos\x20=\x20inp'+'ut.particl'+'e_vertexDa'+'ta.xyz;\x0a\x20\x20'+'\x20\x20let\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20let\x20vertP'+'os\x20=\x20input'+'.particle_'+'vertexData'+'3.xyz;\x0a\x20\x20\x20'+'\x20var\x20inVel'+'\x20=\x20vec3f(i'+'nput.parti'+'cle_vertex'+'Data2.w,\x20i'+'nput.parti'+'cle_vertex'+'Data3.w,\x20i'+'nput.parti'+'cle_vertex'+'Data5.x);\x0a'+'\x0a\x20\x20\x20\x20let\x20i'+'d\x20=\x20floor('+'input.part'+'icle_verte'+'xData4);\x0a\x20'+'\x20\x20\x20let\x20rnd'+'Factor\x20=\x20f'+'ract(sin(i'+'d\x20+\x201.0\x20+\x20'+'uniform.se'+'ed));\x0a\x20\x20\x20\x20'+'let\x20rndFac'+'tor3\x20=\x20vec'+'3f(rndFact'+'or,\x20fract('+'rndFactor*'+'10.0),\x20fra'+'ct(rndFact'+'or*100.0))'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20mo'+'delRotatio'+'n\x20=\x20mat3x3'+'f(uniform.'+'matrix_mod'+'el[0].xyz,'+'\x20uniform.m'+'atrix_mode'+'l[1].xyz,\x20'+'uniform.ma'+'trix_model'+'[2].xyz);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'Vel\x20=\x20mode'+'lRotation\x20'+'*\x20inVel;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20let\x20ve'+'locityV\x20=\x20'+'safeNormal'+'ize((mat3x'+'3f(uniform'+'.matrix_vi'+'ew[0].xyz,'+'\x20uniform.m'+'atrix_view'+'[1].xyz,\x20u'+'niform.mat'+'rix_view[2'+'].xyz)\x20*\x20i'+'nVel).xy);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'quadXY\x20=\x20v'+'ertPos.xy;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20USE_MES'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.tex'+'CoordsAlph')+('aLife\x20=\x20ve'+'c4f(input.'+'particle_v'+'ertexData5'+'.zw,\x20input'+'.particle_'+'vertexData'+'2.z,\x20input'+'.particle_'+'vertexData'+'.w);\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'texCoordsA'+'lphaLife\x20='+'\x20vec4f(qua'+'dXY\x20*\x20-0.5'+'\x20+\x200.5,\x20in'+'put.partic'+'le_vertexD'+'ata2.z,\x20in'+'put.partic'+'le_vertexD'+'ata.w);\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20var\x20rot'+'Matrix:\x20ma'+'t2x2f;\x0a\x0a\x20\x20'+'\x20\x20var\x20inAn'+'gle\x20=\x20inpu'+'t.particle'+'_vertexDat'+'a2.x;\x0a\x20\x20\x20\x20'+'var\x20partic'+'lePosMoved'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20meshLoc'+'alPos\x20=\x20in'+'put.partic'+'le_vertexD'+'ata3.xyz;\x0a'),pO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20inp'+'ut.particl'+'e_vertexDa'+'ta2.y\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20localP'+'os\x20=\x20local'+'Pos\x20+\x20part'+'iclePos;\x0a\x0a'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20vec4f('+'localPos,\x20'+'1.0);\x0a',mO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20rotate'+'dQuadXY);\x0a',_O='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(rg'+'b,\x20a);\x0a\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a}\x0a',gO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20sca'+'le\x20*\x20unifo'+'rm.emitter'+'Scale;\x0a\x20\x20\x20'+'\x20localPos\x20'+'=\x20localPos'+'\x20+\x20particl'+'ePos;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'REEN_SPACE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(localPo'+'s.x,\x20local'+'Pos.y,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_v'+'iewProject'+'ion\x20*\x20vec4'+'f(localPos'+'.xyz,\x201.0)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a',SO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20no'+'rmal\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20var\x20posN'+'ormal:\x20vec'+'3f\x20=\x20-norm'+'al\x20*\x200.5\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'=\x20negNorma'+'l\x20*\x20negNor'+'mal;\x0a\x20\x20\x20\x20p'+'osNormal\x20='+'\x20posNormal'+'\x20*\x20posNorm'+'al;\x0a',yO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20/'+'/\x20XYZ\x20=\x20pa'+'rticle\x20pos'+'ition,\x20W\x20='+'\x20particle\x20'+'ID\x20+\x20rando'+'m\x20factor\x0a#'+'if\x20defined'+'(USE_MESH)'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(USE'+'_MESH_UV)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_uv:'+'\x20vec2f;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'esh\x20UV\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20pa'+'rticle_uv:'+'\x20vec2f\x20=\x20v'+'ec2f(0.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0aunifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0aunif'+'orm\x20matrix'+'_normal:\x20m'+'at3x3f;\x0aun'+'iform\x20matr'+'ix_viewInv'+'erse:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20numPa'+'rticlesPot'+':\x20f32;\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0auni'+'form\x20stret'+'ch:\x20f32;\x0au'+'niform\x20wra'+'pBounds:\x20v'+'ec3f;\x0aunif'+'orm\x20emitte'+'rScale:\x20ve'+'c3f;\x0aunifo'+'rm\x20emitter'+'Pos:\x20vec3f'+';\x0auniform\x20'+'faceTangen'+'t:\x20vec3f;\x0a'+'uniform\x20fa'+'ceBinorm:\x20'+'vec3f;\x0auni'+'form\x20rate:'+'\x20f32;\x0aunif'+'orm\x20rateDi'+'v:\x20f32;\x0aun'+'iform\x20life'+'time:\x20f32;'+'\x0auniform\x20d'+'eltaRandom'+'nessStatic'+':\x20f32;\x0auni'+'form\x20scale'+'DivMult:\x20f'+'32;\x0aunifor'+'m\x20alphaDiv'+'Mult:\x20f32;'+'\x0auniform\x20s'+'eed:\x20f32;\x0a'+'uniform\x20de'+'lta:\x20f32;\x0a'+'\x0avar\x20parti'+('cleTexOUT:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20particle'+'TexOUTSamp'+'ler:\x20sampl'+'er;\x0avar\x20pa'+'rticleTexI'+'N:\x20texture'+'_2d<f32>;\x0a'+'var\x20partic'+'leTexINSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex0:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex1:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x1Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex2'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex2S'+'ampler:\x20sa'+'mpler;\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0avarying'+'\x20texCoords'+'AlphaLife:'+'\x20vec4f;\x0a\x0av'+'ar<private'+'>\x20inPos:\x20v'+'ec3f;\x0avar<'+'private>\x20i'+'nVel:\x20vec3'+'f;\x0avar<pri'+'vate>\x20inAn'+'gle:\x20f32;\x0a'+'var<privat'+'e>\x20inShow:'+'\x20bool;\x0avar'+'<private>\x20'+'inLife:\x20f3'+'2;\x0a'),vO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20ma'+'x(normal,\x20'+'vec3(0.0))'+';\x0a\x20\x20\x20\x20var\x20'+'posNormal:'+'\x20vec3f\x20=\x20m'+'ax(-normal'+',\x20vec3(0.0'+'));\x0a',xO='\x0a\x20\x20\x20\x20let\x20l'+'ight:\x20vec3'+'f\x20=\x20negNor'+'mal.x\x20*\x20un'+'iform.ligh'+'tCube[0]\x20+'+'\x20posNormal'+'.x\x20*\x20unifo'+'rm.lightCu'+'be[1]\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20negNormal'+'.y\x20*\x20unifo'+'rm.lightCu'+'be[2]\x20+\x20po'+'sNormal.y\x20'+'*\x20uniform.'+'lightCube['+'3]\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ne'+'gNormal.z\x20'+'*\x20uniform.'+'lightCube['+'4]\x20+\x20posNo'+'rmal.z\x20*\x20u'+'niform.lig'+'htCube[5];'+'\x0a\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20li'+'ght;\x0a',TO='\x0aparticleP'+'os\x20=\x20(unif'+'orm.matrix'+'_model\x20*\x20v'+'ec4f(parti'+'clePos,\x201.'+'0)).xyz;\x0a',wO='\x0avar\x20local'+'Pos\x20=\x20mesh'+'LocalPos;\x0a'+'let\x20rotRes'+'ultXY\x20=\x20ro'+'tateWithMa'+'trix(local'+'Pos.xy,\x20in'+'Angle);\x0alo'+'calPos\x20=\x20v'+'ec3f(rotRe'+'sultXY.rot'+'atedVec,\x20l'+'ocalPos.z)'+';\x0arotMatri'+'x\x20=\x20rotRes'+'ultXY.matr'+'ix;\x0a\x0alet\x20r'+'otResultYZ'+'\x20=\x20rotateW'+'ithMatrix('+'localPos.y'+'z,\x20inAngle'+');\x0alocalPo'+'s\x20=\x20vec3f('+'localPos.x'+',\x20rotResul'+'tYZ.rotate'+'dVec);\x0arot'+'Matrix\x20=\x20r'+'otResultYZ'+'.matrix;\x0a\x0a'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',EO='\x0aoutput.No'+'rmal\x20=\x20nor'+'malize(loc'+'alPos\x20+\x20un'+'iform.matr'+'ix_viewInv'+'erse[2].xy'+'z);\x0a',bO='\x0a\x20\x20\x20\x20let\x20s'+'ampledNorm'+'al:\x20vec4f\x20'+'=\x20textureS'+'ample(norm'+'alMap,\x20nor'+'malMapSamp'+'ler,\x20vec2f'+'(input.tex'+'CoordsAlph'+'aLife.x,\x201'+'.0\x20-\x20input'+'.texCoords'+'AlphaLife.'+'y));\x0a\x20\x20\x20\x20l'+'et\x20normalM'+'ap:\x20vec3f\x20'+'=\x20normaliz'+'e(sampledN'+'ormal.xyz\x20'+'*\x202.0\x20-\x201.'+'0);\x0a\x0a\x20\x20\x20\x20l'+'et\x20Particl'+'eMat\x20=\x20mat'+'3x3<f32>(P'+'articleMat'+'0,\x20Particl'+'eMat1,\x20Par'+'ticleMat2)'+';\x0a\x20\x20\x20\x20let\x20'+'normal:\x20ve'+'c3f\x20=\x20Part'+'icleMat\x20*\x20'+'normalMap;'+'\x0a',AO='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan2(veloc'+'ityV.x,\x20ve'+'locityV.y)'+';\x0a',CO='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',PO='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20Normal:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20varying\x20'+'ParticleMa'+'t0:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Particle'+'Mat2:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'Cube:\x20arra'+'y<vec3f,\x206'+'>;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vDe'+'pth:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sc'+'reenDepthP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22fogPS\x22\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'ap:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'apSampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'iclePS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'VERTEX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'ormal:\x20vec'+'3f\x20=\x20Norma'+'l;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20MAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_normal'+'MapPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20!=\x20NON'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20HAL'+'F_LAMBERT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_halflambe'+'rtPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_lambertPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+('#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_light'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20BLE'+'ND\x20==\x20NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendNorma'+'lPS\x22\x0a\x20\x20\x20\x20#'+'elif\x20BLEND'+'\x20==\x20ADDITI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendAddPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+'\x20MULTIPLIC'+'ATIVE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_blendMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_endPS'+'\x22\x0a'),MO='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20anim'+'TexTilesPa'+'rams:\x20vec2'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20a'+'nimTexPara'+'ms:\x20vec4f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20ani'+'mTexIndexP'+'arams:\x20vec'+'2f;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20Partic'+'leMat0:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20Pa'+'rticleMat2'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20==\x20V'+'ERTEX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Normal:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vDepth:\x20f'+'32;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_in'+'itVS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20PACK8\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleIn'+'putRgba8PS'+'\x22\x20\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x20\x22parti'+'cleInputFl'+'oatPS\x22\x20\x20\x20\x20'+'//\x20why\x20are'+'\x20these\x20PS\x20'+'and\x20not\x20VS'+'?\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'screenDept'+'hPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'articleVS\x22'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x20//\x20PARTI'+'CLE_CPU\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SOFT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22screenDep'+'thPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_c'+'puVS\x22\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_l'+('ocalShiftV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20ANIM'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20A'+'NIMTEX_LOO'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimFram'+'eLoopVS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleAnimFra'+'meClampVS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimTexV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20wrap\x20is\x20'+'not\x20used\x20o'+'n\x20CPU,\x20it\x20'+'was\x20commen'+'ted\x20out.\x20T'+'ODO:\x20inves'+'tigate\x20why'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'WRAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_wrap'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ALIGN_TO'+'_MOTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_point'+'AlongVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20USE_MESH'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_me'+'shVS\x22\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CUSTOM_FA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_custom'+'FaceVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_billboa'+'rdVS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20VERTEX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_norma'+'lVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20NORMA'+'L\x20==\x20MAP\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_TBNV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STRE'+'TCH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_stretchVS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PART'+'ICLE_GPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_endV')+('S\x22\x0a\x20\x20\x20\x20#el'+'se\x20//\x20PART'+'ICLE_CPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_cpu_'+'endVS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softVS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),DO='\x0a\x20\x20\x20\x20var\x20d'+'epth:\x20f32\x20'+'=\x20getLinea'+'rScreenDep'+'thFrag();\x0a'+'\x20\x20\x20\x20var\x20pa'+'rticleDept'+'h:\x20f32\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20var\x20depth'+'Diff:\x20f32\x20'+'=\x20saturate'+'(abs(parti'+'cleDepth\x20-'+'\x20depth)\x20*\x20'+'uniform.so'+'ftening);\x0a'+'\x20\x20\x20\x20a\x20=\x20a\x20'+'*\x20depthDif'+'f;\x0a',IO='\x0a\x20\x20\x20\x20outpu'+'t.vDepth\x20='+'\x20getLinear'+'Depth(loca'+'lPos);\x0a',LO='\x0a\x20\x20\x20\x20let\x20m'+'oveDir:\x20ve'+'c3f\x20=\x20inVe'+'l\x20*\x20unifor'+'m.stretch;'+'\x0a\x20\x20\x20\x20var\x20p'+'osPrev:\x20ve'+'c3f\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20=\x20posPrev'+'\x20+\x20particl'+'ePosMoved;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'viewRotati'+'onTemp:\x20ma'+'t3x3f\x20=\x20ma'+'t3x3f(unif'+'orm.matrix'+'_view[0].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[1].xyz'+',\x20uniform.'+'matrix_vie'+'w[2].xyz);'+'\x0a\x20\x20\x20\x20let\x20c'+'enterToVer'+'texV:\x20vec2'+'f\x20=\x20normal'+'ize((viewR'+'otationTem'+'p\x20*\x20localP'+'os).xy);\x0a\x0a'+'\x20\x20\x20\x20let\x20in'+'terpolatio'+'n:\x20f32\x20=\x20d'+'ot(-veloci'+'tyV,\x20cente'+'rToVertexV'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x0a\x20\x20\x20\x20'+'particlePo'+'s\x20=\x20mix(pa'+'rticlePos,'+'\x20posPrev,\x20'+'interpolat'+'ion);\x0a',RO='\x0a\x20\x20\x20\x20let\x20r'+'ot3\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(r'+'otMatrix[0'+'][0],\x20rotM'+'atrix[1][0'+'],\x200.0),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(rotMatr'+'ix[0][1],\x20'+'rotMatrix['+'1][1],\x200.0'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3f(0.0'+',\x200.0,\x201.0'+')\x0a\x20\x20\x20\x20);\x0a\x0a'+'\x20\x20\x20\x20let\x20vi'+'ewBasis\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-un'+'iform.matr'+'ix_viewInv'+'erse[0].xy'+'z,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-uniform.'+'matrix_vie'+'wInverse[1'+'].xyz,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.matrix_'+'viewInvers'+'e[2].xyz\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20tempM'+'at\x20=\x20viewB'+'asis\x20*\x20rot'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20WGSL\x20does'+'\x20not\x20suppo'+'rt\x20matrix\x20'+'varyings,\x20'+'decompose\x20'+'it\x20to\x20vec3'+'s\x0a\x20\x20\x20\x20outp'+'ut.Particl'+'eMat0\x20=\x20te'+'mpMat[0];\x0a'+'\x20\x20\x20\x20output'+'.ParticleM'+'at1\x20=\x20temp'+'Mat[1];\x0a\x20\x20'+'\x20\x20output.P'+'articleMat'+'2\x20=\x20tempMa'+'t[2];\x0a',OO='\x0a\x20\x20\x20\x20let\x20o'+'rigParticl'+'ePos:\x20vec3'+'f\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20particleP'+'os\x20=\x20parti'+'clePos\x20-\x20u'+'niform.mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20=\x20(par'+'ticlePos\x20%'+'\x20uniform.w'+'rapBounds)'+'\x20-\x20uniform'+'.wrapBound'+'s\x20*\x200.5;\x0a\x20'+'\x20\x20\x20particl'+'ePos\x20=\x20par'+'ticlePos\x20+'+'\x20uniform.m'+'atrix_mode'+'l[3].xyz;\x0a'+'\x20\x20\x20\x20partic'+'lePosMoved'+'\x20=\x20particl'+'ePos\x20-\x20ori'+'gParticleP'+'os;\x0a',FO={'particlePS':X3,'particleVS':q3,'particleAnimFrameClampVS':j3,'particleAnimFrameLoopVS':Y3,'particleAnimTexVS':K3,'particleInputFloatPS':Z3,'particleInputRgba8PS':Q3,'particleOutputFloatPS':J3,'particleOutputRgba8PS':eO,'particleUpdaterAABBPS':tO,'particleUpdaterEndPS':sO,'particleUpdaterInitPS':iO,'particleUpdaterNoRespawnPS':rO,'particleUpdaterOnStopPS':aO,'particleUpdaterRespawnPS':nO,'particleUpdaterSpherePS':oO,'particleUpdaterStartPS':lO,'particle_billboardVS':cO,'particle_blendAddPS':hO,'particle_blendMultiplyPS':dO,'particle_blendNormalPS':fO,'particle_cpuVS':uO,'particle_cpu_endVS':pO,'particle_customFaceVS':mO,'particle_endPS':_O,'particle_endVS':gO,'particle_halflambertPS':SO,'particle_initVS':yO,'particle_lambertPS':vO,'particle_lightingPS':xO,'particle_localShiftVS':TO,'particle_meshVS':wO,'particle_normalVS':EO,'particle_normalMapPS':bO,'particle_pointAlongVS':AO,'particle_simulationPS':CO,'particle_shaderPS':PO,'particle_shaderVS':MO,'particle_softPS':DO,'particle_softVS':IO,'particle_stretchVS':LO,'particle_TBNVS':RO,'particle_wrapVS':OO},NO=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class kO extends ct{constructor(_0x54e45c){super(_0x54e45c),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=e3,this['DataType']=t3,this['schema']=NO,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this),Pe['get'](_0x54e45c['graphicsDe'+'vice'],Fe)['add']($3),Pe['get'](_0x54e45c['graphicsDe'+'vice'],it)['add'](FO);}['initialize'+'ComponentD'+'ata'](_0x5ecc8d,_0x371de2,_0x5178de){const _0x1a97d1={};_0x5178de=[];const _0x2f6b15=this['propertyTy'+'pes'];(_0x371de2['mesh']instanceof pe||typeof _0x371de2['mesh']=='number')&&(_0x371de2['meshAsset']=_0x371de2['mesh'],delete _0x371de2['mesh']);for(const _0x449e4 in _0x371de2){if(_0x371de2['hasOwnProp'+'erty'](_0x449e4)&&(_0x5178de['push'](_0x449e4),_0x1a97d1[_0x449e4]=_0x371de2[_0x449e4]),_0x2f6b15[_0x449e4]==='vec3')Array['isArray'](_0x1a97d1[_0x449e4])&&(_0x1a97d1[_0x449e4]=new D(_0x1a97d1[_0x449e4][0x1*0x2572+-0xed7+-0x169b],_0x1a97d1[_0x449e4][-0x827*0x2+0x61*0x5f+0x13b*-0x10],_0x1a97d1[_0x449e4][-0x992+0xf4d+0x1*-0x5b9]));else{if(_0x2f6b15[_0x449e4]==='curve'){if(!(_0x1a97d1[_0x449e4]instanceof qs)){const _0x25e3d9=_0x1a97d1[_0x449e4]['type'];_0x1a97d1[_0x449e4]=new qs(_0x1a97d1[_0x449e4]['keys']),_0x1a97d1[_0x449e4]['type']=_0x25e3d9;}}else{if(_0x2f6b15[_0x449e4]==='curveset'&&!(_0x1a97d1[_0x449e4]instanceof na)){const _0xedc264=_0x1a97d1[_0x449e4]['type'];_0x1a97d1[_0x449e4]=new na(_0x1a97d1[_0x449e4]['keys']),_0x1a97d1[_0x449e4]['type']=_0xedc264;}}}_0x1a97d1['layers']&&Array['isArray'](_0x1a97d1['layers'])&&(_0x1a97d1['layers']=_0x1a97d1['layers']['slice'](-0x808+0x1855+0xd*-0x141));}super['initialize'+'ComponentD'+'ata'](_0x5ecc8d,_0x1a97d1,_0x5178de);}['cloneCompo'+'nent'](_0x249ebd,_0x41c7ec){const _0x57f101=_0x249ebd['particlesy'+'stem']['data'],_0x88e7b6=this['schema'],_0x4a9f1f={};for(let _0x295c27=-0x26b4*-0x1+0x13fe+-0x3ab2,_0x302a52=_0x88e7b6['length'];_0x295c27<_0x302a52;_0x295c27++){const _0x455959=_0x88e7b6[_0x295c27];let _0xce668f=_0x57f101[_0x455959];_0xce668f instanceof D||_0xce668f instanceof qs||_0xce668f instanceof na?(_0xce668f=_0xce668f['clone'](),_0x4a9f1f[_0x455959]=_0xce668f):_0x455959==='layers'?_0x4a9f1f['layers']=_0x57f101['layers']['slice'](0x221*-0xd+-0x21ad+-0x3d5a*-0x1):_0xce668f!=null&&(_0x4a9f1f[_0x455959]=_0xce668f);}return this['addCompone'+'nt'](_0x41c7ec,_0x4a9f1f);}['onUpdate'](_0x307117){const _0x31feee=this['store'],_0x3368fe=this['app']['stats']['particles'],_0x3f5147=this['app']['scene']['layers'];for(let _0x524727=0x55*-0x2c+0x6e6*-0x3+-0x234e*-0x1;_0x524727<_0x3f5147['layerList']['length'];_0x524727++)_0x3f5147['layerList'][_0x524727]['requiresLi'+'ghtCube']=!(-0x22d3*-0x1+0x22d9+0x7b*-0x91);for(const _0x577638 in _0x31feee)if(_0x31feee['hasOwnProp'+'erty'](_0x577638)){const _0x5207ba=_0x31feee[_0x577638],_0x8b5184=_0x5207ba['entity'],_0xa084c4=_0x5207ba['data'];if(_0xa084c4['enabled']&&_0x8b5184['enabled']){const _0x4fa1f1=_0x8b5184['particlesy'+'stem']['emitter'];if(!(_0x4fa1f1!=null&&_0x4fa1f1['meshInstan'+'ce']['visible']))continue;if(_0x4fa1f1['lighting']){const _0x28cc68=_0xa084c4['layers'];for(let _0x1c896f=0x5cf*-0x1+-0x1ce3+0x22b2;_0x1c896f<_0x28cc68['length'];_0x1c896f++){const _0x281550=_0x3f5147['getLayerBy'+'Id'](_0x28cc68[_0x1c896f]);_0x281550&&(_0x281550['requiresLi'+'ghtCube']=!(-0x60d+0x1*0xac1+-0x4b4));}}if(!_0xa084c4['paused']){let _0x103e84=0x1bf7+0x1*-0x83+-0xe*0x1f6;if(_0x4fa1f1['simTime']+=_0x307117,_0x4fa1f1['simTime']>=_0x4fa1f1['fixedTimeS'+'tep']&&(_0x103e84=Math['floor'](_0x4fa1f1['simTime']/_0x4fa1f1['fixedTimeS'+'tep']),_0x4fa1f1['simTime']-=_0x103e84*_0x4fa1f1['fixedTimeS'+'tep']),_0x103e84){_0x103e84=Math['min'](_0x103e84,_0x4fa1f1['maxSubStep'+'s']);for(let _0x1947f4=0x1062+0x570+0x93*-0x26;_0x1947f4<_0x103e84;_0x1947f4++)_0x4fa1f1['addTime'](_0x4fa1f1['fixedTimeS'+'tep'],!(0x1fb*0x13+0x1*-0x198c+-0xc14));_0x3368fe['_updatesPe'+'rFrame']+=_0x103e84,_0x3368fe['_frameTime']+=_0x4fa1f1['_addTimeTi'+'me'],_0x4fa1f1['_addTimeTi'+'me']=0xc9c+-0x1e2b+0x118f;}_0x4fa1f1['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x2f62d7,_0x2d4b61){_0x2d4b61['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class UO extends wd{constructor(_0x273a97,_0x547bfa){super(),this['skin']=_0x273a97,this['skinInstan'+'ce']=_0x547bfa;}}const Gs=class Gs{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),Gs['_skinInsta'+'nceCache']['forEach']((_0x5ee560,_0x5bcb83)=>{console['log'](_0x5bcb83['name']+':\x20Array('+_0x5ee560['length']+')');for(let _0x12be20=0x1*-0xf65+-0x46*-0x36+0x7*0x17;_0x12be20<_0x5ee560['length'];_0x12be20++)console['log']('\x20\x20'+_0x12be20+(':\x20RefCount'+'\x20')+_0x5ee560[_0x12be20]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x360dfb,_0x3032a6,_0x5820f9){let _0x114d40=Gs['getCachedS'+'kinInstanc'+'e'](_0x360dfb,_0x3032a6);return _0x114d40||(_0x114d40=new Ol(_0x360dfb),_0x114d40['resolve'](_0x3032a6,_0x5820f9),Gs['addCachedS'+'kinInstanc'+'e'](_0x360dfb,_0x3032a6,_0x114d40)),_0x114d40;}static['getCachedS'+'kinInstanc'+'e'](_0x33ca9b,_0xfb6956){let _0x42b2d2=null;const _0x180451=Gs['_skinInsta'+'nceCache']['get'](_0xfb6956);if(_0x180451){const _0x122c27=_0x180451['find'](_0x5d8fc1=>_0x5d8fc1['skin']===_0x33ca9b);_0x122c27&&(_0x122c27['incRefCoun'+'t'](),_0x42b2d2=_0x122c27['skinInstan'+'ce']);}return _0x42b2d2;}static['addCachedS'+'kinInstanc'+'e'](_0x414929,_0x26cc85,_0x51c584){let _0x47ef91=Gs['_skinInsta'+'nceCache']['get'](_0x26cc85);_0x47ef91||(_0x47ef91=[],Gs['_skinInsta'+'nceCache']['set'](_0x26cc85,_0x47ef91));let _0x4fe619=_0x47ef91['find'](_0x4e2c48=>_0x4e2c48['skin']===_0x414929);_0x4fe619||(_0x4fe619=new UO(_0x414929,_0x51c584),_0x47ef91['push'](_0x4fe619)),_0x4fe619['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0x126d5b){if(_0x126d5b){const _0x187107=_0x126d5b['rootBone'];if(_0x187107){const _0x43ba36=Gs['_skinInsta'+'nceCache']['get'](_0x187107);if(_0x43ba36){const _0x4717b2=_0x43ba36['findIndex'](_0x306d5b=>_0x306d5b['skinInstan'+'ce']===_0x126d5b);if(_0x4717b2>=-0x1*0x25dd+-0x5*0xb2+0x2957){const _0x5839eb=_0x43ba36[_0x4717b2];_0x5839eb['decRefCoun'+'t'](),_0x5839eb['refCount']===0xb5*-0x1d+0xce7*-0x1+0x2168&&(_0x43ba36['splice'](_0x4717b2,-0x1893+-0x1f4f+-0x39*-0xfb),_0x43ba36['length']||Gs['_skinInsta'+'nceCache']['delete'](_0x187107),_0x126d5b&&(_0x126d5b['destroy'](),_0x5839eb['skinInstan'+'ce']=null));}}}}}};h(Gs,'_skinInsta'+'nceCache',new Map());let _l=Gs;class gl{constructor(_0x18f827,_0x12eda2,_0x21df64,_0x1d71cd,_0x2bf7fc){h(this,'_evtLoadBy'+'Id',null),h(this,'_evtUnload'+'ById',null),h(this,'_evtAddByI'+'d',null),h(this,'_evtRemove'+'ById',null),h(this,'_evtLoadBy'+'Url',null),h(this,'_evtAddByU'+'rl',null),h(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x18f827,this['parent']=_0x12eda2,this['_scope']=_0x2bf7fc,this['_registry']=_0x21df64,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x1d71cd['load'],this['_onAssetAd'+'d']=_0x1d71cd['add'],this['_onAssetRe'+'move']=_0x1d71cd['remove'],this['_onAssetUn'+'load']=_0x1d71cd['unload']);}set['id'](_0x281cc1){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x281cc1,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x14d255){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x14d255,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0xd1efbf,_0x59e59d,_0x5cd6b2,_0x39ebe9,_0x444fda,_0x1e7a81,_0x49c16b;this['id']&&((_0xd1efbf=this['_evtLoadBy'+'Id'])==null||_0xd1efbf['off'](),this['_evtLoadBy'+'Id']=null,(_0x59e59d=this['_evtAddByI'+'d'])==null||_0x59e59d['off'](),this['_evtAddByI'+'d']=null,(_0x5cd6b2=this['_evtRemove'+'ById'])==null||_0x5cd6b2['off'](),this['_evtRemove'+'ById']=null,(_0x39ebe9=this['_evtUnload'+'ById'])==null||_0x39ebe9['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x444fda=this['_evtLoadBy'+'Url'])==null||_0x444fda['off'](),this['_evtLoadBy'+'Url']=null,(_0x1e7a81=this['_evtAddByU'+'rl'])==null||_0x1e7a81['off'](),this['_evtAddByU'+'rl']=null,(_0x49c16b=this['_evtRemove'+'ByUrl'])==null||_0x49c16b['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x114b59){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x114b59);}['_onAdd'](_0x3130a0){this['asset']=_0x3130a0,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x3130a0);}['_onRemove'](_0x5d3f89){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x5d3f89),this['asset']=null;}['_onUnload'](_0x5c78bc){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x5c78bc);}}class n0 extends we{constructor(_0x12efe3,_0xaf9f60){super(_0x12efe3,_0xaf9f60),h(this,'_type','asset'),h(this,'_castShado'+'ws',!(0x9*-0x275+0x2473+0x1*-0xe56)),h(this,'_receiveSh'+'adows',!(0x1*0x4ab+0x1e6a+0x2315*-0x1)),h(this,'_castShado'+'wsLightmap',!(-0x1a43+0x1a7e*0x1+-0x3b*0x1)),h(this,'_lightmapp'+'ed',!(-0x1*-0x1273+0x768+-0x19da)),h(this,'_lightmapS'+'izeMultipl'+'ier',0xac*0x25+0x77*0x53+0x910*-0x7),h(this,'isStatic',!(-0x785+-0x7*-0x2d1+-0xc31)),h(this,'_batchGrou'+'pId',-(-0xc3a+-0x4d3+-0x110e*-0x1)),h(this,'_layers',[er]),h(this,'_renderSty'+'le',un),h(this,'_meshInsta'+'nces',[]),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_assetRefe'+'rence'),h(this,'_materialR'+'eferences',[]),h(this,'_material'),h(this,'_rootBone',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new gl('asset',this,_0x12efe3['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x12efe3['defaultMat'+'erial'],_0xaf9f60['on']('remove',this['onRemoveCh'+'ild'],this),_0xaf9f60['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0xaf9f60['on']('insert',this['onInsertCh'+'ild'],this),_0xaf9f60['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x1aba2a){this['_renderSty'+'le']!==_0x1aba2a&&(this['_renderSty'+'le']=_0x1aba2a,He['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x1aba2a));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0x6fa075){this['_customAab'+'b']=_0x6fa075;const _0x9b7b84=this['_meshInsta'+'nces'];if(_0x9b7b84){for(let _0x8e80fd=0x155*-0x7+-0x37*0x42+0x223*0xb;_0x8e80fd<_0x9b7b84['length'];_0x8e80fd++)_0x9b7b84[_0x8e80fd]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x179f56){if(this['_type']!==_0x179f56&&(this['_area']=null,this['_type']=_0x179f56,this['destroyMes'+'hInstances'](),_0x179f56!=='asset')){let _0x5cc16a=this['_material'];(!_0x5cc16a||_0x5cc16a===this['system']['defaultMat'+'erial'])&&(_0x5cc16a=this['_materialR'+'eferences'][-0x9*-0x162+0xc15+-0x1887]&&this['_materialR'+'eferences'][-0x15*0xe6+0x1ff8+0x6*-0x22f]['asset']&&this['_materialR'+'eferences'][0x1*-0x19a5+0x14d5+0x70*0xb]['asset']['resource']);const _0x53fe5e=r0(this['system']['app']['graphicsDe'+'vice'],_0x179f56);this['_area']=_0x53fe5e['area'],this['meshInstan'+'ces']=[new He(_0x53fe5e['mesh'],_0x5cc16a||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x214103){if(w['assert'](Array['isArray'](_0x214103),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x214103,this['_meshInsta'+'nces']){const _0x2144b0=this['_meshInsta'+'nces'];for(let _0x571fc8=-0x1*-0xeeb+0x1a9f+-0x1*0x298a;_0x571fc8<_0x2144b0['length'];_0x571fc8++)_0x2144b0[_0x571fc8]['node']||(_0x2144b0[_0x571fc8]['node']=this['entity']),_0x2144b0[_0x571fc8]['castShadow']=this['_castShado'+'ws'],_0x2144b0[_0x571fc8]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x2144b0[_0x571fc8]['renderStyl'+'e']=this['_renderSty'+'le'],_0x2144b0[_0x571fc8]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x2144b0[_0x571fc8]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x5e057d){if(_0x5e057d!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x5e057d;const _0x39b03b=this['_meshInsta'+'nces'];if(_0x39b03b){for(let _0x110ad7=0xb6c+0xfa7+0x1b13*-0x1;_0x110ad7<_0x39b03b['length'];_0x110ad7++)_0x39b03b[_0x110ad7]['setLightma'+'pped'](_0x5e057d);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x37348b){if(this['_castShado'+'ws']!==_0x37348b){const _0x20de23=this['_meshInsta'+'nces'];if(_0x20de23){const _0x1dd39f=this['layers'],_0x7b3496=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x37348b)for(let _0x7fef5d=-0x2429*0x1+-0x1*0x1104+-0x352d*-0x1;_0x7fef5d<_0x1dd39f['length'];_0x7fef5d++){const _0x18f24b=_0x7b3496['layers']['getLayerBy'+'Id'](this['layers'][_0x7fef5d]);_0x18f24b&&_0x18f24b['removeShad'+'owCasters'](_0x20de23);}for(let _0x342f01=-0x1c55+-0x5*0x4ca+0x3447;_0x342f01<_0x20de23['length'];_0x342f01++)_0x20de23[_0x342f01]['castShadow']=_0x37348b;if(!this['_castShado'+'ws']&&_0x37348b)for(let _0x1570b1=-0x2*0x647+0x773+0x51b;_0x1570b1<_0x1dd39f['length'];_0x1570b1++){const _0x444112=_0x7b3496['layers']['getLayerBy'+'Id'](_0x1dd39f[_0x1570b1]);_0x444112&&_0x444112['addShadowC'+'asters'](_0x20de23);}}this['_castShado'+'ws']=_0x37348b;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x56c092){if(this['_receiveSh'+'adows']!==_0x56c092){this['_receiveSh'+'adows']=_0x56c092;const _0x1e9ba0=this['_meshInsta'+'nces'];if(_0x1e9ba0){for(let _0xc21d78=0xbc*-0x1d+0x13db+0x171;_0xc21d78<_0x1e9ba0['length'];_0xc21d78++)_0x1e9ba0[_0xc21d78]['receiveSha'+'dow']=_0x56c092;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x3ec22e){this['_castShado'+'wsLightmap']=_0x3ec22e;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0xdf39d1){this['_lightmapS'+'izeMultipl'+'ier']=_0xdf39d1;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x28926f){const _0x9e1de9=this['system']['app']['scene']['layers'];let _0x5b7f12;if(this['_meshInsta'+'nces']){for(let _0x7058a3=0x566*0x1+-0x1*-0xead+-0x1413*0x1;_0x7058a3<this['_layers']['length'];_0x7058a3++)_0x5b7f12=_0x9e1de9['getLayerBy'+'Id'](this['_layers'][_0x7058a3]),_0x5b7f12&&_0x5b7f12['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=0x5b*-0x53+-0x3*-0x319+0x1436;for(let _0x156b38=-0x8*-0x6b+-0x1b4c+-0x54*-0x49;_0x156b38<_0x28926f['length'];_0x156b38++)this['_layers'][_0x156b38]=_0x28926f[_0x156b38];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x12857f=0x7*-0x1d+0xe98+0xdcd*-0x1;_0x12857f<this['_layers']['length'];_0x12857f++)_0x5b7f12=_0x9e1de9['getLayerBy'+'Id'](this['_layers'][_0x12857f]),_0x5b7f12&&_0x5b7f12['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x1fda7b){var _0x512b69,_0x10e8e3;this['_batchGrou'+'pId']!==_0x1fda7b&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0xf*-0x1d7+-0xea3+-0xcf6&&((_0x512b69=this['system']['app']['batcher'])==null||_0x512b69['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x1fda7b>=-0xdc0+0x177c+0x1c*-0x59&&((_0x10e8e3=this['system']['app']['batcher'])==null||_0x10e8e3['insert'](St['RENDER'],_0x1fda7b,this['entity'])),_0x1fda7b<0x1*0x135d+0x5*0x67+-0x390*0x6&&this['_batchGrou'+'pId']>=-0xd6*0x1+0x38*-0x84+0xedb*0x2&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x1fda7b);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x57d38b){if(this['_material']!==_0x57d38b&&(this['_material']=_0x57d38b,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x513655=0xce7+-0x29*-0x4+-0xd8b;_0x513655<this['_meshInsta'+'nces']['length'];_0x513655++)this['_meshInsta'+'nces'][_0x513655]['material']=_0x57d38b;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x3ccdf5=[]){if(this['_materialR'+'eferences']['length']>_0x3ccdf5['length']){for(let _0x24556a=_0x3ccdf5['length'];_0x24556a<this['_materialR'+'eferences']['length'];_0x24556a++)this['_materialR'+'eferences'][_0x24556a]['id']=null;this['_materialR'+'eferences']['length']=_0x3ccdf5['length'];}for(let _0x264280=0x1*-0x1317+-0x1*-0x17b8+-0xf*0x4f;_0x264280<_0x3ccdf5['length'];_0x264280++)if(this['_materialR'+'eferences'][_0x264280]||this['_materialR'+'eferences']['push'](new gl(_0x264280,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x3ccdf5[_0x264280]){const _0x1f1ea1=_0x3ccdf5[_0x264280]instanceof pe?_0x3ccdf5[_0x264280]['id']:_0x3ccdf5[_0x264280];this['_materialR'+'eferences'][_0x264280]['id']!==_0x1f1ea1&&(this['_materialR'+'eferences'][_0x264280]['id']=_0x1f1ea1),this['_materialR'+'eferences'][_0x264280]['asset']&&this['_onMateria'+'lAdded'](_0x264280,this,this['_materialR'+'eferences'][_0x264280]['asset']);}else this['_materialR'+'eferences'][_0x264280]['id']=null,this['_meshInsta'+'nces'][_0x264280]&&(this['_meshInsta'+'nces'][_0x264280]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x5eb8bf=>_0x5eb8bf['id']);}set['asset'](_0x5477a8){const _0x398bf6=_0x5477a8 instanceof pe?_0x5477a8['id']:_0x5477a8;this['_assetRefe'+'rence']['id']!==_0x398bf6&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x398bf6,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x41ae6a){const _0x22bbba=_0x41ae6a instanceof pe?_0x41ae6a['id']:_0x41ae6a;this['_assetRefe'+'rence']['id']=_0x22bbba;}set['rootBone'](_0x17ee3a){if(this['_rootBone']!==_0x17ee3a){const _0x5cfdaa=typeof _0x17ee3a=='string';if(this['_rootBone']&&_0x5cfdaa&&this['_rootBone']['getGuid']()===_0x17ee3a)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x17ee3a instanceof Ie?this['_rootBone']=_0x17ee3a:_0x5cfdaa?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0x17ee3a)||null,this['_rootBone']||w['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x450bba=this['_meshInsta'+'nces'];if(_0x450bba){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x46b8cd=0x640+0x25b3+0x2bf3*-0x1;_0x46b8cd<_0x450bba['length'];_0x46b8cd++)_0x450bba[_0x46b8cd]['destroy']();this['_meshInsta'+'nces']['length']=0x228f+0xb*-0x218+0x1*-0xb87;}}['addToLayer'+'s'](){const _0x48c229=this['system']['app']['scene']['layers'];for(let _0x3785f5=0x1ae*-0x3+0x1*-0x1e13+0x231d;_0x3785f5<this['_layers']['length'];_0x3785f5++){const _0x120c87=_0x48c229['getLayerBy'+'Id'](this['_layers'][_0x3785f5]);_0x120c87&&_0x120c87['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0x2ede4d=this['system']['app']['scene']['layers'];for(let _0x14b969=-0x1d05+-0x7a8+0x24ad;_0x14b969<this['_layers']['length'];_0x14b969++){const _0x35edc7=_0x2ede4d['getLayerBy'+'Id'](this['_layers'][_0x14b969]);_0x35edc7&&_0x35edc7['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x118908=-0x229a+0x3*-0xc4b+0x477b;_0x118908<this['_materialR'+'eferences']['length'];_0x118908++)this['_materialR'+'eferences'][_0x118908]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x59a013,_0x32b09e){this['addToLayer'+'s'](),_0x59a013['off']('add',this['onLayerAdd'+'ed'],this),_0x59a013['off']('remove',this['onLayerRem'+'oved'],this),_0x32b09e['on']('add',this['onLayerAdd'+'ed'],this),_0x32b09e['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x3277a0){this['layers']['indexOf'](_0x3277a0['id'])<0x202*0x2+-0x220b+0x1e07||_0x3277a0['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x4c8e47){this['layers']['indexOf'](_0x4c8e47['id'])<-0x3*0x823+0xdff*0x1+0x2b*0x3e||_0x4c8e47['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x237663;const _0x26ef6f=this['system']['app'],_0xe74146=_0x26ef6f['scene'],_0x24193f=_0xe74146['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0xe74146['on']('set:layers',this['onLayersCh'+'anged'],this),_0x24193f&&(this['_evtLayerA'+'dded']=_0x24193f['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x24193f['on']('remove',this['onLayerRem'+'oved'],this));const _0x41fba1=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x41fba1&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x2fff2a=-0xb5f+-0x86a*0x4+0x1*0x2d07;_0x2fff2a<this['_materialR'+'eferences']['length'];_0x2fff2a++)this['_materialR'+'eferences'][_0x2fff2a]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x2fff2a]['asset']);this['_batchGrou'+'pId']>=0x791+0x45b+-0xbec&&((_0x237663=_0x26ef6f['batcher'])==null||_0x237663['insert'](St['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x70637a,_0x34e8f9,_0x18b6df,_0x3557aa;const _0x10b23f=this['system']['app'],_0x2c4c33=_0x10b23f['scene']['layers'];(_0x70637a=this['_evtLayers'+'Changed'])==null||_0x70637a['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x2c4c33&&((_0x34e8f9=this['_evtLayerA'+'dded'])==null||_0x34e8f9['off'](),this['_evtLayerA'+'dded']=null,(_0x18b6df=this['_evtLayerR'+'emoved'])==null||_0x18b6df['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0x89*-0x5+0xbe9+-0xe96&&((_0x3557aa=_0x10b23f['batcher'])==null||_0x3557aa['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x27e917=0x1*0x23d3+0x129*0x1+0x4*-0x93f;_0x27e917<this['_meshInsta'+'nces']['length'];_0x27e917++)this['_meshInsta'+'nces'][_0x27e917]['visible']=!(-0x182e+-0x106f+0x289e);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x114b70=0x1a6a+-0xa0c*-0x3+-0x388e;_0x114b70<this['_meshInsta'+'nces']['length'];_0x114b70++)this['_meshInsta'+'nces'][_0x114b70]['visible']=!(-0x1*-0xcf5+0x25e0+0xa9*-0x4d);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x1ce847;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0x57fc38=this['_assetRefe'+'rence']['asset']['resource'];(_0x1ce847=this['_evtSetMes'+'hes'])==null||_0x1ce847['off'](),this['_evtSetMes'+'hes']=_0x57fc38['on']('set:meshes',this['_onSetMesh'+'es'],this),_0x57fc38['meshes']&&this['_onSetMesh'+'es'](_0x57fc38['meshes']);}}['_onSetMesh'+'es'](_0x55dd6a){this['_cloneMesh'+'es'](_0x55dd6a);}['_clearSkin'+'Instances'](){for(let _0x4b552a=-0x881+-0xb11*-0x1+0x52*-0x8;_0x4b552a<this['_meshInsta'+'nces']['length'];_0x4b552a++){const _0x6b5cc3=this['_meshInsta'+'nces'][_0x4b552a];_l['removeCach'+'edSkinInst'+'ance'](_0x6b5cc3['skinInstan'+'ce']),_0x6b5cc3['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof Ie)for(let _0x5463d6=-0x7*0xea+0x535*-0x1+0x1*0xb9b;_0x5463d6<this['_meshInsta'+'nces']['length'];_0x5463d6++){const _0x19b5de=this['_meshInsta'+'nces'][_0x5463d6],_0x24b492=_0x19b5de['mesh'];_0x24b492['skin']&&!_0x19b5de['skinInstan'+'ce']&&(_0x19b5de['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0x24b492['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x4850ae){if(_0x4850ae&&_0x4850ae['length']){const _0x3ff531=[];for(let _0x4e8b87=0x1*-0x2295+-0x17c9+0x3a5e;_0x4e8b87<_0x4850ae['length'];_0x4e8b87++){const _0x30d912=_0x4850ae[_0x4e8b87],_0x456798=this['_materialR'+'eferences'][_0x4e8b87]&&this['_materialR'+'eferences'][_0x4e8b87]['asset']&&this['_materialR'+'eferences'][_0x4e8b87]['asset']['resource'],_0x2715da=new He(_0x30d912,_0x456798||this['system']['defaultMat'+'erial'],this['entity']);_0x3ff531['push'](_0x2715da),_0x30d912['morph']&&(_0x2715da['morphInsta'+'nce']=new xa(_0x30d912['morph']));}this['meshInstan'+'ces']=_0x3ff531,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x15b2a1;(_0x15b2a1=this['_evtSetMes'+'hes'])==null||_0x15b2a1['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0x23ed32,_0x485d5f,_0xe1068){_0xe1068['resource']?this['_onMateria'+'lLoad'](_0x23ed32,_0x485d5f,_0xe1068):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0xe1068);}['_updateMai'+'nMaterial'](_0x21519b,_0x393ed9){_0x21519b===0x20b7+0x1a40*0x1+-0x3af7&&(this['material']=_0x393ed9);}['_onMateria'+'lLoad'](_0x358455,_0x128028,_0x1541dd){this['_meshInsta'+'nces'][_0x358455]&&(this['_meshInsta'+'nces'][_0x358455]['material']=_0x1541dd['resource']),this['_updateMai'+'nMaterial'](_0x358455,_0x1541dd['resource']);}['_onMateria'+'lRemove'](_0x1d3573,_0x63e40,_0x2a85a0){this['_meshInsta'+'nces'][_0x1d3573]&&(this['_meshInsta'+'nces'][_0x1d3573]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x1d3573,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x5ce7b0,_0x40daea,_0xa22d8a){this['_meshInsta'+'nces'][_0x5ce7b0]&&(this['_meshInsta'+'nces'][_0x5ce7b0]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x5ce7b0,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x3389d2,_0x491f21){_0x3389d2['rootBone']&&(this['rootBone']=_0x491f21[_0x3389d2['rootBone']['getGuid']()]);}}class BO{constructor(){this['enabled']=!(0x5*-0x1bc+-0x1e60+0x270c);}}const ku=['enabled'],Gr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class zO extends ct{constructor(_0x1fca73){super(_0x1fca73),this['id']='render',this['ComponentT'+'ype']=n0,this['DataType']=BO,this['schema']=ku,this['defaultMat'+'erial']=Qn(_0x1fca73['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x3f79fc,_0x3af9ac,_0x4980fe){(_0x3af9ac['batchGroup'+'Id']===null||_0x3af9ac['batchGroup'+'Id']===void(-0x1*-0x14bd+-0x4*-0x33e+-0x21b5))&&(_0x3af9ac['batchGroup'+'Id']=-(0xbb3*-0x3+-0x53*0xa+0x2658)),_0x3af9ac['layers']&&_0x3af9ac['layers']['length']&&(_0x3af9ac['layers']=_0x3af9ac['layers']['slice'](-0xeae+0x81*0x46+-0x1498));for(let _0x5b007f=0xca*-0x2d+0x2239*0x1+0x2f*0x7;_0x5b007f<Gr['length'];_0x5b007f++)_0x3af9ac['hasOwnProp'+'erty'](Gr[_0x5b007f])&&(_0x3f79fc[Gr[_0x5b007f]]=_0x3af9ac[Gr[_0x5b007f]]);_0x3af9ac['aabbCenter']&&_0x3af9ac['aabbHalfEx'+'tents']&&(_0x3f79fc['customAabb']=new De(new D(_0x3af9ac['aabbCenter']),new D(_0x3af9ac['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x3f79fc,_0x3af9ac,ku);}['cloneCompo'+'nent'](_0x2b0fc5,_0x436e72){const _0x149b68={};for(let _0x1c2536=-0xb3c+0x1*0x97+0x1*0xaa5;_0x1c2536<Gr['length'];_0x1c2536++)_0x149b68[Gr[_0x1c2536]]=_0x2b0fc5['render'][Gr[_0x1c2536]];_0x149b68['enabled']=_0x2b0fc5['render']['enabled'],delete _0x149b68['meshInstan'+'ces'];const _0x49fbac=this['addCompone'+'nt'](_0x436e72,_0x149b68),_0x279016=_0x2b0fc5['render']['meshInstan'+'ces'],_0x439034=_0x279016['map'](_0x16ef34=>_0x16ef34['mesh']);_0x49fbac['_onSetMesh'+'es'](_0x439034);for(let _0x44d0ce=-0x24*-0x24+0x75a*-0x3+0x10fe*0x1;_0x44d0ce<_0x279016['length'];_0x44d0ce++)_0x49fbac['meshInstan'+'ces'][_0x44d0ce]['material']=_0x279016[_0x44d0ce]['material'];return _0x2b0fc5['render']['customAabb']&&(_0x49fbac['customAabb']=_0x2b0fc5['render']['customAabb']['clone']()),_0x49fbac;}['onRemove'](_0x383bfc,_0x5cc6a8){_0x5cc6a8['onRemove']();}}we['_buildAcce'+'ssors'](n0['prototype'],ku);class bf{constructor(_0x3954f4,_0x4a8be5){h(this,'_construct'+'or'),h(this,'_pool',[]),h(this,'_count',0x1400+-0x3c*-0x1a+-0x8*0x343),(this['_construct'+'or']=_0x3954f4,this['_resize'](_0x4a8be5));}['_resize'](_0x5eaf41){if(_0x5eaf41>this['_pool']['length']){for(let _0x3ebb59=this['_pool']['length'];_0x3ebb59<_0x5eaf41;_0x3ebb59++)this['_pool'][_0x3ebb59]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(-0x1925+0xb06*-0x1+0x242d)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=0x4*0x94f+-0x7*-0x3d9+0x402b*-0x1;}}let cs,Re,Bs,Ka;const VO=new le(),GO=new le(),Pc=new D();class bs extends we{constructor(){super(...arguments),h(this,'_angularDa'+'mping',0x17*0x18f+-0x348+0x2091*-0x1),h(this,'_angularFa'+'ctor',new D(-0x321+-0x110c+0x142e,-0xf47+-0x2*-0xc7b+-0x9ae,0x139*-0x1+-0x162b+-0x1*-0x1765)),h(this,'_angularVe'+'locity',new D()),h(this,'_body',null),h(this,'_friction',-0x5*-0x332+0xf0d*-0x1+0xed*-0x1+0.5),h(this,'_group',Gg),h(this,'_linearDam'+'ping',0x3b*-0x97+-0x1*-0xca7+-0x6*-0x3b1),h(this,'_linearFac'+'tor',new D(0xdd4+0x40f*0x1+-0x11e2,0x146f+-0x23ec+-0x295*-0x6,0x2d*0x1+-0xe37*-0x2+0x1*-0x1c9a)),h(this,'_linearVel'+'ocity',new D()),h(this,'_mask',Mu),h(this,'_mass',-0x2521+0x23c9*0x1+0x159),h(this,'_restituti'+'on',-0x54f+0xd1+0x47e),h(this,'_rollingFr'+'iction',0x109*0x4+0x258f+0x1*-0x29b3),h(this,'_simulatio'+'nEnabled',!(0xfed+-0x1f9d+-0xfb1*-0x1)),h(this,'_type',yo);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(cs=new Ammo['btTransfor'+'m'](),Re=new Ammo['btVector3'](),Bs=new Ammo['btVector3'](),Ka=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](cs),Ammo['destroy'](Re),Ammo['destroy'](Bs),Ammo['destroy'](Ka),cs=null,Re=null,Bs=null,Ka=null;}set['angularDam'+'ping'](_0x52c82e){this['_angularDa'+'mping']!==_0x52c82e&&(this['_angularDa'+'mping']=_0x52c82e,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x52c82e));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x117ffe){this['_angularFa'+'ctor']['equals'](_0x117ffe)||(this['_angularFa'+'ctor']['copy'](_0x117ffe),this['_body']&&this['_type']===ks&&(Re['setValue'](_0x117ffe['x'],_0x117ffe['y'],_0x117ffe['z']),this['_body']['setAngular'+'Factor'](Re)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x2daba4){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0x2daba4['x'],_0x2daba4['y'],_0x2daba4['z']),this['_body']['setAngular'+'Velocity'](Re),this['_angularVe'+'locity']['copy'](_0x2daba4));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===ks){const _0x29a84f=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x29a84f['x'](),_0x29a84f['y'](),_0x29a84f['z']());}return this['_angularVe'+'locity'];}set['body'](_0x388819){this['_body']!==_0x388819&&(this['_body']=_0x388819,_0x388819&&this['_simulatio'+'nEnabled']&&_0x388819['activate']());}get['body'](){return this['_body'];}set['friction'](_0x20d9a3){this['_friction']!==_0x20d9a3&&(this['_friction']=_0x20d9a3,this['_body']&&this['_body']['setFrictio'+'n'](_0x20d9a3));}get['friction'](){return this['_friction'];}set['group'](_0xff286e){this['_group']!==_0xff286e&&(this['_group']=_0xff286e,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x4fc262){this['_linearDam'+'ping']!==_0x4fc262&&(this['_linearDam'+'ping']=_0x4fc262,this['_body']&&this['_body']['setDamping'](_0x4fc262,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x7a13b3){this['_linearFac'+'tor']['equals'](_0x7a13b3)||(this['_linearFac'+'tor']['copy'](_0x7a13b3),this['_body']&&this['_type']===ks&&(Re['setValue'](_0x7a13b3['x'],_0x7a13b3['y'],_0x7a13b3['z']),this['_body']['setLinearF'+'actor'](Re)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x27895f){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0x27895f['x'],_0x27895f['y'],_0x27895f['z']),this['_body']['setLinearV'+'elocity'](Re),this['_linearVel'+'ocity']['copy'](_0x27895f));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===ks){const _0x579bc7=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x579bc7['x'](),_0x579bc7['y'](),_0x579bc7['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x564c18){this['_mask']!==_0x564c18&&(this['_mask']=_0x564c18,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x16d084){if(this['_mass']!==_0x16d084&&(this['_mass']=_0x16d084,this['_body']&&this['_type']===ks)){const _0x1b5cd3=this['enabled']&&this['entity']['enabled'];_0x1b5cd3&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x16d084,Re),this['_body']['setMassPro'+'ps'](_0x16d084,Re),this['_body']['updateIner'+'tiaTensor'](),_0x1b5cd3&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x206532){this['_restituti'+'on']!==_0x206532&&(this['_restituti'+'on']=_0x206532,this['_body']&&this['_body']['setRestitu'+'tion'](_0x206532));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x1e24ee){this['_rollingFr'+'iction']!==_0x1e24ee&&(this['_rollingFr'+'iction']=_0x1e24ee,this['_body']&&this['_body']['setRolling'+'Friction'](_0x1e24ee));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x586b7a){if(this['_type']!==_0x586b7a){switch(this['_type']=_0x586b7a,this['disableSim'+'ulation'](),_0x586b7a){case ks:this['_group']=jL,this['_mask']=Wg;break;case Ha:this['_group']=YL,this['_mask']=Wg;break;case yo:default:this['_group']=Gg,this['_mask']=Mu;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x44ba19=this['entity'];let _0x5b6a58;if(_0x44ba19['collision']&&(_0x5b6a58=_0x44ba19['collision']['shape'],_0x44ba19['trigger']&&(_0x44ba19['trigger']['destroy'](),delete _0x44ba19['trigger'])),_0x5b6a58){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x5c1913=this['_type']===ks?this['_mass']:0x1211+0x2682+-0x3893;this['_getEntity'+'Transform'](cs);const _0x142f12=this['system']['createBody'](_0x5c1913,_0x5b6a58,cs);if(_0x142f12['setRestitu'+'tion'](this['_restituti'+'on']),_0x142f12['setFrictio'+'n'](this['_friction']),_0x142f12['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x142f12['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===ks){const _0xe926c7=this['_linearFac'+'tor'];Re['setValue'](_0xe926c7['x'],_0xe926c7['y'],_0xe926c7['z']),_0x142f12['setLinearF'+'actor'](Re);const _0xbad93a=this['_angularFa'+'ctor'];Re['setValue'](_0xbad93a['x'],_0xbad93a['y'],_0xbad93a['z']),_0x142f12['setAngular'+'Factor'](Re);}else this['_type']===Ha&&(_0x142f12['setCollisi'+'onFlags'](_0x142f12['getCollisi'+'onFlags']()|qL),_0x142f12['setActivat'+'ionState'](Vg));_0x142f12['entity']=_0x44ba19,this['body']=_0x142f12,this['enabled']&&_0x44ba19['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(-0xbcd+0x3e*0xf+0x82c);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0x3b234b=this['entity'];if(_0x3b234b['collision']&&_0x3b234b['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0x1c53d6=this['_body'];if(_0x1c53d6){switch(this['system']['addBody'](_0x1c53d6,this['_group'],this['_mask']),this['_type']){case ks:this['system']['_dynamic']['push'](this),_0x1c53d6['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;case Ha:this['system']['_kinematic']['push'](this),_0x1c53d6['forceActiv'+'ationState'](Vg);break;case yo:_0x1c53d6['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;}_0x3b234b['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0x3b234b['collision']),_0x1c53d6['activate'](),this['_simulatio'+'nEnabled']=!(0xd3a+0xccf*0x1+0xd7*-0x1f);}}}['disableSim'+'ulation'](){const _0x552fee=this['_body'];if(_0x552fee&&this['_simulatio'+'nEnabled']){const _0x53360d=this['system'];let _0x20af11=_0x53360d['_compounds']['indexOf'](this['entity']['collision']);_0x20af11>-(-0x14f1+-0x1d15+0x3207)&&_0x53360d['_compounds']['splice'](_0x20af11,-0x2fe*-0x4+0x9b6+-0x15ad),_0x20af11=_0x53360d['_dynamic']['indexOf'](this),_0x20af11>-(-0xa81*-0x3+-0xbee+-0x1394)&&_0x53360d['_dynamic']['splice'](_0x20af11,-0x23f3+0x10fe+0x12f6),_0x20af11=_0x53360d['_kinematic']['indexOf'](this),_0x20af11>-(-0x1*0x243e+0x1*0x175f+0xce0*0x1)&&_0x53360d['_kinematic']['splice'](_0x20af11,0x15a*-0x1c+-0xa91*0x2+0x13a9*0x3),_0x53360d['removeBody'](_0x552fee),_0x552fee['forceActiv'+'ationState'](Yv),this['_simulatio'+'nEnabled']=!(0x16b0+0x3*0x3d1+0x1*-0x2222);}}['applyForce'](_0x16fe2a,_0x2f8af6,_0x479180,_0x1c7b80,_0x301009,_0x545470){const _0x4731c9=this['_body'];_0x4731c9&&(_0x4731c9['activate'](),_0x16fe2a instanceof D?Re['setValue'](_0x16fe2a['x'],_0x16fe2a['y'],_0x16fe2a['z']):Re['setValue'](_0x16fe2a,_0x2f8af6,_0x479180),_0x2f8af6 instanceof D?Bs['setValue'](_0x2f8af6['x'],_0x2f8af6['y'],_0x2f8af6['z']):_0x1c7b80!==void(-0x1*0x60a+-0x490+0xa9a)?Bs['setValue'](_0x1c7b80,_0x301009,_0x545470):Bs['setValue'](0x1*-0x10c8+0x3e*0x33+0x46e,0x3ee*0x4+-0xa+-0xfae,0x20b1*-0x1+0xe24+0x128d),_0x4731c9['applyForce'](Re,Bs));}['applyTorqu'+'e'](_0x57db0f,_0x5f372d,_0x3659d){const _0x1e79b9=this['_body'];_0x1e79b9&&(_0x1e79b9['activate'](),_0x57db0f instanceof D?Re['setValue'](_0x57db0f['x'],_0x57db0f['y'],_0x57db0f['z']):Re['setValue'](_0x57db0f,_0x5f372d,_0x3659d),_0x1e79b9['applyTorqu'+'e'](Re));}['applyImpul'+'se'](_0x39e98f,_0x4e33a3,_0x34f391,_0x302124,_0x4bb3e8,_0x282971){const _0x8ef81f=this['_body'];_0x8ef81f&&(_0x8ef81f['activate'](),_0x39e98f instanceof D?Re['setValue'](_0x39e98f['x'],_0x39e98f['y'],_0x39e98f['z']):Re['setValue'](_0x39e98f,_0x4e33a3,_0x34f391),_0x4e33a3 instanceof D?Bs['setValue'](_0x4e33a3['x'],_0x4e33a3['y'],_0x4e33a3['z']):_0x302124!==void(-0x67b+0x249f+-0x1e24)?Bs['setValue'](_0x302124,_0x4bb3e8,_0x282971):Bs['setValue'](0x1*-0x1183+-0xb*-0x2bf+-0xcb2,-0x1b7c*0x1+-0x21aa+0x3d26,-0x1*0x1416+0x2669+-0x1253),_0x8ef81f['applyImpul'+'se'](Re,Bs));}['applyTorqu'+'eImpulse'](_0x15ccab,_0x219f87,_0x1d91f2){const _0x39b986=this['_body'];_0x39b986&&(_0x39b986['activate'](),_0x15ccab instanceof D?Re['setValue'](_0x15ccab['x'],_0x15ccab['y'],_0x15ccab['z']):Re['setValue'](_0x15ccab,_0x219f87,_0x1d91f2),_0x39b986['applyTorqu'+'eImpulse'](Re));}['isStatic'](){return this['_type']===yo;}['isStaticOr'+'Kinematic'](){return this['_type']===yo||this['_type']===Ha;}['isKinemati'+'c'](){return this['_type']===Ha;}['_getEntity'+'Transform'](_0x5a686d){const _0x3b4ad4=this['entity'],_0x341818=_0x3b4ad4['collision'];if(_0x341818){const _0x2e77b6=_0x341818['getShapePo'+'sition'](),_0x31abb9=_0x341818['getShapeRo'+'tation']();Re['setValue'](_0x2e77b6['x'],_0x2e77b6['y'],_0x2e77b6['z']),Ka['setValue'](_0x31abb9['x'],_0x31abb9['y'],_0x31abb9['z'],_0x31abb9['w']);}else{const _0x33b5d1=_0x3b4ad4['getPositio'+'n'](),_0x3212d7=_0x3b4ad4['getRotatio'+'n']();Re['setValue'](_0x33b5d1['x'],_0x33b5d1['y'],_0x33b5d1['z']),Ka['setValue'](_0x3212d7['x'],_0x3212d7['y'],_0x3212d7['z'],_0x3212d7['w']);}_0x5a686d['setOrigin'](Re),_0x5a686d['setRotatio'+'n'](Ka);}['syncEntity'+'ToBody'](){const _0x5892d0=this['_body'];if(_0x5892d0){if(this['_getEntity'+'Transform'](cs),_0x5892d0['setWorldTr'+'ansform'](cs),this['_type']===Ha){const _0x290099=_0x5892d0['getMotionS'+'tate']();_0x290099&&_0x290099['setWorldTr'+'ansform'](cs);}_0x5892d0['activate']();}}['_updateDyn'+'amic'](){const _0x3d9595=this['_body'];if(_0x3d9595['isActive']()){const _0x33cdf3=_0x3d9595['getMotionS'+'tate']();if(_0x33cdf3){const _0x4bf725=this['entity'];_0x33cdf3['getWorldTr'+'ansform'](cs);const _0x6f400e=cs['getOrigin'](),_0x4fbff7=cs['getRotatio'+'n'](),_0x20c500=_0x4bf725['collision'];if(_0x20c500&&_0x20c500['_hasOffset']){const _0x2d32d3=_0x20c500['data']['linearOffs'+'et'],_0x818201=_0x20c500['data']['angularOff'+'set'],_0x5d1b5a=GO['copy'](_0x818201)['invert'](),_0x125c76=VO['set'](_0x4fbff7['x'](),_0x4fbff7['y'](),_0x4fbff7['z'](),_0x4fbff7['w']())['mul'](_0x5d1b5a);_0x125c76['transformV'+'ector'](_0x2d32d3,Pc),_0x4bf725['setPositio'+'n'](_0x6f400e['x']()-Pc['x'],_0x6f400e['y']()-Pc['y'],_0x6f400e['z']()-Pc['z']),_0x4bf725['setRotatio'+'n'](_0x125c76);}else _0x4bf725['setPositio'+'n'](_0x6f400e['x'](),_0x6f400e['y'](),_0x6f400e['z']()),_0x4bf725['setRotatio'+'n'](_0x4fbff7['x'](),_0x4fbff7['y'](),_0x4fbff7['z'](),_0x4fbff7['w']());}}}['_updateKin'+'ematic'](){const _0x315831=this['_body']['getMotionS'+'tate']();_0x315831&&(this['_getEntity'+'Transform'](cs),_0x315831['setWorldTr'+'ansform'](cs));}['teleport'](_0x3870d7,_0x3adbf9,_0x44855a,_0x5bd879,_0x8bf7bb,_0x3b82e0){_0x3870d7 instanceof D?this['entity']['setPositio'+'n'](_0x3870d7):this['entity']['setPositio'+'n'](_0x3870d7,_0x3adbf9,_0x44855a),_0x3adbf9 instanceof le?this['entity']['setRotatio'+'n'](_0x3adbf9):_0x3adbf9 instanceof D?this['entity']['setEulerAn'+'gles'](_0x3adbf9):_0x5bd879!==void(0xb5c+0x29d*-0x3+-0x385)&&this['entity']['setEulerAn'+'gles'](_0x5bd879,_0x8bf7bb,_0x3b82e0),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}h(bs,'EVENT_CONT'+'ACT','contact'),h(bs,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(bs,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(bs,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(bs,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),h(bs,'order',-(0x1b5a+-0x11*-0x19b+-0x36a4));class HO{constructor(){this['enabled']=!(0x1*0x2db+-0x1*0x1d+0x2be*-0x1);}}let Mi,Di;class eS{constructor(_0x164920,_0x73ac07,_0x393b17,_0x2c06a){h(this,'entity'),h(this,'point'),h(this,'normal'),h(this,'hitFractio'+'n'),(this['entity']=_0x164920,this['point']=_0x73ac07,this['normal']=_0x393b17,this['hitFractio'+'n']=_0x2c06a);}}class WO{constructor(_0x4446f2,_0x54b929,_0x408b60){h(this,'a'),h(this,'b'),h(this,'impulse'),h(this,'localPoint'+'A'),h(this,'localPoint'+'B'),h(this,'pointA'),h(this,'pointB'),h(this,'normal'),arguments['length']!==0x66*0x5e+0x1d89+-0x42fd?(this['a']=_0x4446f2,this['b']=_0x54b929,this['impulse']=_0x408b60['impulse'],this['localPoint'+'A']=_0x408b60['localPoint'],this['localPoint'+'B']=_0x408b60['localPoint'+'Other'],this['pointA']=_0x408b60['point'],this['pointB']=_0x408b60['pointOther'],this['normal']=_0x408b60['normal']):(this['a']=null,this['b']=null,this['impulse']=0x2201+0xa*-0x2b7+0x27*-0x2d,this['localPoint'+'A']=new D(),this['localPoint'+'B']=new D(),this['pointA']=new D(),this['pointB']=new D(),this['normal']=new D());}}class $O{constructor(_0x5312e5=new D(),_0x116813=new D(),_0x39fb7a=new D(),_0x5ace97=new D(),_0x486a8f=new D(),_0x2e39f7=-0x1*0x3af+-0x19ab+0x1*0x1d5a){h(this,'localPoint'),h(this,'localPoint'+'Other'),h(this,'point'),h(this,'pointOther'),h(this,'normal'),h(this,'impulse'),(this['localPoint']=_0x5312e5,this['localPoint'+'Other']=_0x116813,this['point']=_0x39fb7a,this['pointOther']=_0x5ace97,this['normal']=_0x486a8f,this['impulse']=_0x2e39f7);}}class XO{constructor(_0x3aef65,_0x4f6391){h(this,'other'),h(this,'contacts'),(this['other']=_0x3aef65,this['contacts']=_0x4f6391);}}const o0=['enabled'];class wm extends ct{constructor(_0x162d26){super(_0x162d26),h(this,'maxSubStep'+'s',-0x4*0x3a6+0x219*0x3+0x857),h(this,'fixedTimeS'+'tep',(0x21c3+0x1749+-0x390b*0x1)/(-0x1ef*-0x1+-0x6*-0x5d3+-0x9f*0x3b)),h(this,'gravity',new D(0x230b+0x9*-0x243+0x10*-0xeb,-(0xed8+-0xbc+-0xe13+0.8100000000000005),-0x4b*-0x3d+0x124+-0x1*0x1303)),h(this,'_gravityFl'+'oat32',new Float32Array(0x1a83+0x11*0x16f+-0x32df)),h(this,'_dynamic',[]),h(this,'_kinematic',[]),h(this,'_triggers',[]),h(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x162d26['stats']['frame'],this['ComponentT'+'ype']=bs,this['DataType']=HO,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=o0,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x501ac7=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x501ac7);}else w['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');Mi=new Ammo['btVector3'](),Di=new Ammo['btVector3'](),bs['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new bf($O,0x167+-0x1c41+-0xb*-0x271),this['contactRes'+'ultPool']=new bf(XO,0x69c+0x2069+-0x2704),this['singleCont'+'actResultP'+'ool']=new bf(WO,-0x206d+0x15b0+0xabe),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x2e973e,_0x19d2b2,_0x1fa649){const _0x3f6764=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x17b506 of _0x3f6764)if(_0x19d2b2['hasOwnProp'+'erty'](_0x17b506)){const _0x38af1f=_0x19d2b2[_0x17b506];Array['isArray'](_0x38af1f)?_0x2e973e[_0x17b506]=new D(_0x38af1f[-0x1*0x2615+0x2*-0xc83+0x3f1b],_0x38af1f[-0x7ca+0xeb5+-0x6ea],_0x38af1f[-0x5c8+-0x1204+-0x22a*-0xb]):_0x2e973e[_0x17b506]=_0x38af1f;}super['initialize'+'ComponentD'+'ata'](_0x2e973e,_0x19d2b2,['enabled']);}['cloneCompo'+'nent'](_0x58d695,_0x3c256e){const _0x434932=_0x58d695['rigidbody'],_0x214656={'enabled':_0x434932['enabled'],'mass':_0x434932['mass'],'linearDamping':_0x434932['linearDamp'+'ing'],'angularDamping':_0x434932['angularDam'+'ping'],'linearFactor':[_0x434932['linearFact'+'or']['x'],_0x434932['linearFact'+'or']['y'],_0x434932['linearFact'+'or']['z']],'angularFactor':[_0x434932['angularFac'+'tor']['x'],_0x434932['angularFac'+'tor']['y'],_0x434932['angularFac'+'tor']['z']],'friction':_0x434932['friction'],'rollingFriction':_0x434932['rollingFri'+'ction'],'restitution':_0x434932['restitutio'+'n'],'type':_0x434932['type'],'group':_0x434932['group'],'mask':_0x434932['mask']};return this['addCompone'+'nt'](_0x3c256e,_0x214656);}['onBeforeRe'+'move'](_0x17b41d,_0x27fc26){_0x27fc26['enabled']&&(_0x27fc26['enabled']=!(-0x24a1+0x1446+-0x15d*-0xc)),_0x27fc26['body']&&(this['destroyBod'+'y'](_0x27fc26['body']),_0x27fc26['body']=null);}['addBody'](_0x258e9e,_0xb77d88,_0x43bcce){_0xb77d88!==void(-0x1e88+0x581+0x2b*0x95)&&_0x43bcce!==void(-0x2*0xf7+0x94*-0xd+0x972)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x258e9e,_0xb77d88,_0x43bcce):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x258e9e);}['removeBody'](_0x51968c){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x51968c);}['createBody'](_0x24c449,_0x54e9ba,_0x3798c6){const _0x3228c4=new Ammo['btVector3'](-0x11f7+-0x6*0x449+-0x1*-0x2bad,0xb*0x144+0x236*-0x11+0x17aa,-0x639+0x203c+-0x1a03);_0x24c449!==-0x2*0xdb5+0x66*0x18+0x11da&&_0x54e9ba['calculateL'+'ocalInerti'+'a'](_0x24c449,_0x3228c4);const _0x427e7a=new Ammo['btDefaultM'+'otionState'](_0x3798c6),_0x3f5f40=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x24c449,_0x427e7a,_0x54e9ba,_0x3228c4),_0x2e7942=new Ammo['btRigidBod'+'y'](_0x3f5f40);return Ammo['destroy'](_0x3f5f40),Ammo['destroy'](_0x3228c4),_0x2e7942;}['destroyBod'+'y'](_0x116409){const _0x2fe8c5=_0x116409['getMotionS'+'tate']();_0x2fe8c5&&Ammo['destroy'](_0x2fe8c5),Ammo['destroy'](_0x116409);}['raycastFir'+'st'](_0x2f24ff,_0x20336f,_0x3e10fb={}){if(_0x3e10fb['filterTags']||_0x3e10fb['filterCall'+'back'])return _0x3e10fb['sort']=!(-0x973*-0x2+-0x21e0+-0x8e*-0x1b),this['raycastAll'](_0x2f24ff,_0x20336f,_0x3e10fb)[0x1*0x1ef7+0x2203*-0x1+0x9c*0x5]||null;let _0x15ee42=null;Mi['setValue'](_0x2f24ff['x'],_0x2f24ff['y'],_0x2f24ff['z']),Di['setValue'](_0x20336f['x'],_0x20336f['y'],_0x20336f['z']);const _0x1d457e=new Ammo['ClosestRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0x3e10fb['filterColl'+'isionGroup']=='number'&&_0x1d457e['set_m_coll'+'isionFilte'+'rGroup'](_0x3e10fb['filterColl'+'isionGroup']),typeof _0x3e10fb['filterColl'+'isionMask']=='number'&&_0x1d457e['set_m_coll'+'isionFilte'+'rMask'](_0x3e10fb['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0x1d457e),_0x1d457e['hasHit']()){const _0x5c1100=_0x1d457e['get_m_coll'+'isionObjec'+'t'](),_0x38ced4=Ammo['castObject'](_0x5c1100,Ammo['btRigidBod'+'y']);if(_0x38ced4){const _0x35ca24=_0x1d457e['get_m_hitP'+'ointWorld'](),_0x379e02=_0x1d457e['get_m_hitN'+'ormalWorld']();_0x15ee42=new eS(_0x38ced4['entity'],new D(_0x35ca24['x'](),_0x35ca24['y'](),_0x35ca24['z']()),new D(_0x379e02['x'](),_0x379e02['y'](),_0x379e02['z']()),_0x1d457e['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0x1d457e),_0x15ee42;}['raycastAll'](_0x25136e,_0x4eeef6,_0x43bd2b={}){w['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x10759d=[];Mi['setValue'](_0x25136e['x'],_0x25136e['y'],_0x25136e['z']),Di['setValue'](_0x4eeef6['x'],_0x4eeef6['y'],_0x4eeef6['z']);const _0x50f038=new Ammo['AllHitsRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0x43bd2b['filterColl'+'isionGroup']=='number'&&_0x50f038['set_m_coll'+'isionFilte'+'rGroup'](_0x43bd2b['filterColl'+'isionGroup']),typeof _0x43bd2b['filterColl'+'isionMask']=='number'&&_0x50f038['set_m_coll'+'isionFilte'+'rMask'](_0x43bd2b['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0x50f038),_0x50f038['hasHit']()){const _0x1410a8=_0x50f038['get_m_coll'+'isionObjec'+'ts'](),_0x59e0c7=_0x50f038['get_m_hitP'+'ointWorld'](),_0x2da189=_0x50f038['get_m_hitN'+'ormalWorld'](),_0x577910=_0x50f038['get_m_hitF'+'ractions'](),_0x54d419=_0x1410a8['size']();for(let _0x238866=0x119d*-0x2+-0x1b07+-0x3e41*-0x1;_0x238866<_0x54d419;_0x238866++){const _0x190fdb=Ammo['castObject'](_0x1410a8['at'](_0x238866),Ammo['btRigidBod'+'y']);if(_0x190fdb&&_0x190fdb['entity']){if(_0x43bd2b['filterTags']&&!_0x190fdb['entity']['tags']['has'](..._0x43bd2b['filterTags'])||_0x43bd2b['filterCall'+'back']&&!_0x43bd2b['filterCall'+'back'](_0x190fdb['entity']))continue;const _0x20a9ae=_0x59e0c7['at'](_0x238866),_0x1fea40=_0x2da189['at'](_0x238866),_0x2a172c=new eS(_0x190fdb['entity'],new D(_0x20a9ae['x'](),_0x20a9ae['y'](),_0x20a9ae['z']()),new D(_0x1fea40['x'](),_0x1fea40['y'](),_0x1fea40['z']()),_0x577910['at'](_0x238866));_0x10759d['push'](_0x2a172c);}}_0x43bd2b['sort']&&_0x10759d['sort']((_0x30fd0d,_0x559e62)=>_0x30fd0d['hitFractio'+'n']-_0x559e62['hitFractio'+'n']);}return Ammo['destroy'](_0x50f038),_0x10759d;}['_storeColl'+'ision'](_0x4263ee,_0x53e20f){let _0x1ab2cd=!(-0x8bf+0x20b6+0x2*-0xbfb);const _0x5113b0=_0x4263ee['getGuid']();return this['collisions'][_0x5113b0]=this['collisions'][_0x5113b0]||{'others':[],'entity':_0x4263ee},this['collisions'][_0x5113b0]['others']['indexOf'](_0x53e20f)<0x2b*-0x1+0x122c+0x1*-0x1201&&(this['collisions'][_0x5113b0]['others']['push'](_0x53e20f),_0x1ab2cd=!(-0x7a0+0x4b*0x55+0x1*-0x1147)),this['frameColli'+'sions'][_0x5113b0]=this['frameColli'+'sions'][_0x5113b0]||{'others':[],'entity':_0x4263ee},this['frameColli'+'sions'][_0x5113b0]['others']['push'](_0x53e20f),_0x1ab2cd;}['_createCon'+'tactPointF'+'romAmmo'](_0xdef6db){const _0x55a1f6=_0xdef6db['get_m_loca'+'lPointA'](),_0x1c671f=_0xdef6db['get_m_loca'+'lPointB'](),_0x5510a6=_0xdef6db['getPositio'+'nWorldOnA'](),_0x4f3597=_0xdef6db['getPositio'+'nWorldOnB'](),_0x4e0ca0=_0xdef6db['get_m_norm'+'alWorldOnB'](),_0x43182f=this['contactPoi'+'ntPool']['allocate']();return _0x43182f['localPoint']['set'](_0x55a1f6['x'](),_0x55a1f6['y'](),_0x55a1f6['z']()),_0x43182f['localPoint'+'Other']['set'](_0x1c671f['x'](),_0x1c671f['y'](),_0x1c671f['z']()),_0x43182f['point']['set'](_0x5510a6['x'](),_0x5510a6['y'](),_0x5510a6['z']()),_0x43182f['pointOther']['set'](_0x4f3597['x'](),_0x4f3597['y'](),_0x4f3597['z']()),_0x43182f['normal']['set'](_0x4e0ca0['x'](),_0x4e0ca0['y'](),_0x4e0ca0['z']()),_0x43182f['impulse']=_0xdef6db['getApplied'+'Impulse'](),_0x43182f;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x4282c6){const _0x1cae02=_0x4282c6['get_m_loca'+'lPointA'](),_0x2ec12d=_0x4282c6['get_m_loca'+'lPointB'](),_0x14b7be=_0x4282c6['getPositio'+'nWorldOnA'](),_0x2f5024=_0x4282c6['getPositio'+'nWorldOnB'](),_0x28041f=_0x4282c6['get_m_norm'+'alWorldOnB'](),_0x837afd=this['contactPoi'+'ntPool']['allocate']();return _0x837afd['localPoint'+'Other']['set'](_0x1cae02['x'](),_0x1cae02['y'](),_0x1cae02['z']()),_0x837afd['localPoint']['set'](_0x2ec12d['x'](),_0x2ec12d['y'](),_0x2ec12d['z']()),_0x837afd['pointOther']['set'](_0x14b7be['x'](),_0x14b7be['y'](),_0x14b7be['z']()),_0x837afd['point']['set'](_0x2f5024['x'](),_0x2f5024['y'](),_0x2f5024['z']()),_0x837afd['normal']['set'](_0x28041f['x'](),_0x28041f['y'](),_0x28041f['z']()),_0x837afd['impulse']=_0x4282c6['getApplied'+'Impulse'](),_0x837afd;}['_createSin'+'gleContact'+'Result'](_0x4c4e7f,_0x439891,_0x5cd3aa){const _0x5c9a38=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x5c9a38['a']=_0x4c4e7f,_0x5c9a38['b']=_0x439891,_0x5c9a38['localPoint'+'A']=_0x5cd3aa['localPoint'],_0x5c9a38['localPoint'+'B']=_0x5cd3aa['localPoint'+'Other'],_0x5c9a38['pointA']=_0x5cd3aa['point'],_0x5c9a38['pointB']=_0x5cd3aa['pointOther'],_0x5c9a38['normal']=_0x5cd3aa['normal'],_0x5c9a38['impulse']=_0x5cd3aa['impulse'],_0x5c9a38;}['_createCon'+'tactResult'](_0x468636,_0x3aa82f){const _0x50e055=this['contactRes'+'ultPool']['allocate']();return _0x50e055['other']=_0x468636,_0x50e055['contacts']=_0x3aa82f,_0x50e055;}['_cleanOldC'+'ollisions'](){for(const _0xfcedb3 in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0xfcedb3)){const _0x38bb64=this['frameColli'+'sions'][_0xfcedb3],_0xb7024c=this['collisions'][_0xfcedb3],_0x491714=_0xb7024c['entity'],_0x5c0108=_0x491714['collision'],_0x3da068=_0x491714['rigidbody'],_0x5d1475=_0xb7024c['others'];let _0x36a59a=_0x5d1475['length'];for(;_0x36a59a--;){const _0x4cc19f=_0x5d1475[_0x36a59a];(!_0x38bb64||_0x38bb64['others']['indexOf'](_0x4cc19f)<-0xa1*-0x1+0x1*0x234d+-0x23ee)&&(_0x5d1475['splice'](_0x36a59a,-0x26*-0xb9+0xfad*0x1+-0x2b22),_0x491714['trigger']?(_0x5c0108&&_0x5c0108['fire']('triggerlea'+'ve',_0x4cc19f),_0x4cc19f['rigidbody']&&_0x4cc19f['rigidbody']['fire']('triggerlea'+'ve',_0x491714)):_0x4cc19f['trigger']||(_0x3da068&&_0x3da068['fire']('collisione'+'nd',_0x4cc19f),_0x5c0108&&_0x5c0108['fire']('collisione'+'nd',_0x4cc19f)));}_0x5d1475['length']===-0x23*-0x10b+-0x15ed+-0xe94&&delete this['collisions'][_0xfcedb3];}}['_hasContac'+'tEvent'](_0x2d9ffd){const _0x5a57ac=_0x2d9ffd['collision'];if(_0x5a57ac&&(_0x5a57ac['hasEvent']('collisions'+'tart')||_0x5a57ac['hasEvent']('collisione'+'nd')||_0x5a57ac['hasEvent']('contact')))return!(0x1*0x2a9+0x1ec7+-0x10*0x217);const _0x3a6d6e=_0x2d9ffd['rigidbody'];return _0x3a6d6e&&(_0x3a6d6e['hasEvent']('collisions'+'tart')||_0x3a6d6e['hasEvent']('collisione'+'nd')||_0x3a6d6e['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x1114ad,_0x21a5fe){const _0xd7a358=Ammo['wrapPointe'+'r'](_0x1114ad,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0x39efce=_0xd7a358['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x4d0be0=0x1dd0+-0x264b+0x87b;_0x4d0be0<_0x39efce;_0x4d0be0++){const _0x5a0905=_0xd7a358['getManifol'+'dByIndexIn'+'ternal'](_0x4d0be0),_0x487597=_0x5a0905['getBody0'](),_0x163e1f=_0x5a0905['getBody1'](),_0x22b9b9=Ammo['castObject'](_0x487597,Ammo['btRigidBod'+'y']),_0x2f85d2=Ammo['castObject'](_0x163e1f,Ammo['btRigidBod'+'y']),_0x553cd5=_0x22b9b9['entity'],_0x379093=_0x2f85d2['entity'];if(!_0x553cd5||!_0x379093)continue;const _0x3a9d3e=_0x22b9b9['getCollisi'+'onFlags'](),_0x23006a=_0x2f85d2['getCollisi'+'onFlags'](),_0x3855c6=_0x5a0905['getNumCont'+'acts'](),_0xe1ee44=[],_0x40c13d=[];let _0x5d0d53;if(_0x3855c6>0x1f70*0x1+-0xd*-0x257+-0x3ddb){if(_0x3a9d3e&Po||_0x23006a&Po){const _0x48914d=_0x553cd5['collision']&&(_0x553cd5['collision']['hasEvent']('triggerent'+'er')||_0x553cd5['collision']['hasEvent']('triggerlea'+'ve')),_0x58ace0=_0x379093['collision']&&(_0x379093['collision']['hasEvent']('triggerent'+'er')||_0x379093['collision']['hasEvent']('triggerlea'+'ve')),_0x54ecbc=_0x553cd5['rigidbody']&&(_0x553cd5['rigidbody']['hasEvent']('triggerent'+'er')||_0x553cd5['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x724653=_0x379093['rigidbody']&&(_0x379093['rigidbody']['hasEvent']('triggerent'+'er')||_0x379093['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x48914d&&(_0x5d0d53=this['_storeColl'+'ision'](_0x553cd5,_0x379093),_0x5d0d53&&!(_0x23006a&Po)&&_0x553cd5['collision']['fire']('triggerent'+'er',_0x379093)),_0x58ace0&&(_0x5d0d53=this['_storeColl'+'ision'](_0x379093,_0x553cd5),_0x5d0d53&&!(_0x3a9d3e&Po)&&_0x379093['collision']['fire']('triggerent'+'er',_0x553cd5)),_0x54ecbc&&(_0x5d0d53||(_0x5d0d53=this['_storeColl'+'ision'](_0x379093,_0x553cd5)),_0x5d0d53&&_0x553cd5['rigidbody']['fire']('triggerent'+'er',_0x379093)),_0x724653&&(_0x5d0d53||(_0x5d0d53=this['_storeColl'+'ision'](_0x553cd5,_0x379093)),_0x5d0d53&&_0x379093['rigidbody']['fire']('triggerent'+'er',_0x553cd5));}else{const _0x49a725=this['_hasContac'+'tEvent'](_0x553cd5),_0x22085f=this['_hasContac'+'tEvent'](_0x379093),_0x474e08=this['hasEvent']('contact');if(_0x474e08||_0x49a725||_0x22085f){for(let _0x3e16b2=0x1894+-0x1690+-0x204;_0x3e16b2<_0x3855c6;_0x3e16b2++){const _0x48c314=_0x5a0905['getContact'+'Point'](_0x3e16b2),_0x5f1302=this['_createCon'+'tactPointF'+'romAmmo'](_0x48c314);if(_0x49a725||_0x22085f){_0xe1ee44['push'](_0x5f1302);const _0x1eba01=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x48c314);_0x40c13d['push'](_0x1eba01);}if(_0x474e08){const _0xbf7df8=this['_createSin'+'gleContact'+'Result'](_0x553cd5,_0x379093,_0x5f1302);this['fire']('contact',_0xbf7df8);}}if(_0x49a725){const _0x368ca1=this['_createCon'+'tactResult'](_0x379093,_0xe1ee44);_0x5d0d53=this['_storeColl'+'ision'](_0x553cd5,_0x379093),_0x553cd5['collision']&&(_0x553cd5['collision']['fire']('contact',_0x368ca1),_0x5d0d53&&_0x553cd5['collision']['fire']('collisions'+'tart',_0x368ca1)),_0x553cd5['rigidbody']&&(_0x553cd5['rigidbody']['fire']('contact',_0x368ca1),_0x5d0d53&&_0x553cd5['rigidbody']['fire']('collisions'+'tart',_0x368ca1));}if(_0x22085f){const _0x7d6fd1=this['_createCon'+'tactResult'](_0x553cd5,_0x40c13d);_0x5d0d53=this['_storeColl'+'ision'](_0x379093,_0x553cd5),_0x379093['collision']&&(_0x379093['collision']['fire']('contact',_0x7d6fd1),_0x5d0d53&&_0x379093['collision']['fire']('collisions'+'tart',_0x7d6fd1)),_0x379093['rigidbody']&&(_0x379093['rigidbody']['fire']('contact',_0x7d6fd1),_0x5d0d53&&_0x379093['rigidbody']['fire']('collisions'+'tart',_0x7d6fd1));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0xf5f055){let _0x2547db,_0x53bbde;this['_stats']['physicsSta'+'rt']=de(),this['_gravityFl'+'oat32'][-0x15a6+0x22b8+0xe*-0xef]=this['gravity']['x'],this['_gravityFl'+'oat32'][0x1520+0x402+-0x1921*0x1]=this['gravity']['y'],this['_gravityFl'+'oat32'][-0x1*-0x463+-0xd8d+0x92c]=this['gravity']['z'];const _0x4e1f10=this['dynamicsWo'+'rld']['getGravity']();(_0x4e1f10['x']()!==this['_gravityFl'+'oat32'][0x1*-0x119d+0x1d*0x61+0x4*0x1a8]||_0x4e1f10['y']()!==this['_gravityFl'+'oat32'][-0x11*0x224+-0x1*0x343+0x27a8]||_0x4e1f10['z']()!==this['_gravityFl'+'oat32'][0x1714+0x18a4+-0x2fb6])&&(_0x4e1f10['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x4e1f10));const _0x45b285=this['_triggers'];for(_0x2547db=-0x13c*-0x2+0x22ad*0x1+0x1*-0x2525,_0x53bbde=_0x45b285['length'];_0x2547db<_0x53bbde;_0x2547db++)_0x45b285[_0x2547db]['updateTran'+'sform']();const _0x5058d8=this['_compounds'];for(_0x2547db=-0x1*0x24bc+-0x85f+0x2d1b,_0x53bbde=_0x5058d8['length'];_0x2547db<_0x53bbde;_0x2547db++)_0x5058d8[_0x2547db]['_updateCom'+'pound']();const _0x5c1a2c=this['_kinematic'];for(_0x2547db=0x988+0x223b+-0x1*0x2bc3,_0x53bbde=_0x5c1a2c['length'];_0x2547db<_0x53bbde;_0x2547db++)_0x5c1a2c[_0x2547db]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0xf5f055,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x576af2=this['_dynamic'];for(_0x2547db=-0x1ded+-0x1584+0xd*0x3f5,_0x53bbde=_0x576af2['length'];_0x2547db<_0x53bbde;_0x2547db++)_0x576af2[_0x2547db]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0xf5f055),this['_stats']['physicsTim'+'e']=de()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](Mi),Ammo['destroy'](Di),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,Mi=null,Di=null,bs['onAppDestr'+'oy']());}}h(wm,'EVENT_CONT'+'ACT','contact'),we['_buildAcce'+'ssors'](bs['prototype'],o0);const Za='none',qO='blend',tS=new te();class l0 extends we{constructor(_0x215940,_0x1b058c){super(_0x215940,_0x1b058c),this['_resolutio'+'n']=new J(0x2576+-0x29*0xc7+-0x1*0x317,-0xd9b+-0xa81+0x195c),this['_reference'+'Resolution']=new J(-0xc8c+0x55*0x43+-0x733,-0xee1+-0x2e7*-0x7+-0x430),this['_scaleMode']=Za,this['scale']=0x42*-0x15+0x3c5+0x1a6,this['_scaleBlen'+'d']=-0x1f*-0x35+0x1*0x1195+-0x1800+0.5,this['_priority']=0x915+-0x1c7*-0x14+-0x2ca1,this['_screenSpa'+'ce']=!(-0x199f+0x60*0x10+0x13a0),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new te(),this['_elements']=new Set(),_0x215940['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x57d065,_0x3ae44c){var _0x49efee;if(!(_0x57d065 instanceof lt))return _0x3ae44c;if(_0x57d065['element']){const _0x528f17=_0x57d065['element']['drawOrder'];_0x57d065['element']['drawOrder']=_0x3ae44c++,_0x57d065['element']['_batchGrou'+'pId']>=-0xa38+0x4*0x77b+-0x13b4*0x1&&_0x528f17!==_0x57d065['element']['drawOrder']&&((_0x49efee=this['system']['app']['batcher'])==null||_0x49efee['markGroupD'+'irty'](_0x57d065['element']['_batchGrou'+'pId']));}_0x57d065['particlesy'+'stem']&&(_0x57d065['particlesy'+'stem']['drawOrder']=_0x3ae44c++);const _0x4062ad=_0x57d065['children'];for(let _0x2ce14f=-0x1ab*-0x7+0xb2f+-0x4d*0x4c;_0x2ce14f<_0x4062ad['length'];_0x2ce14f++)_0x3ae44c=this['_recurseDr'+'awOrderSyn'+'c'](_0x4062ad[_0x2ce14f],_0x3ae44c);return _0x3ae44c;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],0x25cf+-0x14*0x1cd+0x2*-0xe5),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0x66f3a1=this['_resolutio'+'n']['x']/this['scale'],_0x46efea=this['_resolutio'+'n']['y']/this['scale'],_0x5dc97d=0x347*-0x2+0x5*0x7cd+-0x2073,_0x143de1=_0x66f3a1,_0x324489=-_0x46efea;this['_screenMat'+'rix']['setOrtho'](_0x5dc97d,_0x143de1,_0x324489,-0x395+0x68+-0x3*-0x10f,0x24c6+0x1*-0xfb+-0x23ca,-(-0x3f*0x18+0x14e*-0x13+-0x10f*-0x1d)),this['_screenSpa'+'ce']||(tS['setScale']((0x1a2*0x1+-0x15ef+0x144d+0.5)*_0x66f3a1,(-0x3*0x5cb+0x137b*-0x1+-0x24dc*-0x1+0.5)*_0x46efea,-0xb0b+-0x89*0x5+0xdb9),this['_screenMat'+'rix']['mul2'](tS,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x1f47c1,_0x8019aa){const _0x367e3d=Math['log2']((_0x1f47c1['x']||0x633+0x8a5*0x3+0x2f*-0xaf)/_0x8019aa['x']),_0x3f80d1=Math['log2']((_0x1f47c1['y']||-0x861+0x1*-0x116b+0x19cd)/_0x8019aa['y']);return Math['pow'](-0x50+0xcc*-0x1e+0x183a,_0x367e3d*(-0x1*-0x139d+0xa13*0x2+0xe*-0x2d7-this['_scaleBlen'+'d'])+_0x3f80d1*this['_scaleBlen'+'d']);}['_onResize'](_0x44f30d,_0x5b4f18){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x44f30d,_0x5b4f18),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0x22d862){this['_elements']['add'](_0x22d862);}['_unbindEle'+'ment'](_0x4065e0){this['_elements']['delete'](_0x4065e0);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x1be5a0=>_0x1be5a0['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x48990d){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x48990d['x'],_0x48990d['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x587b40=>_0x587b40['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x5ce925){this['_reference'+'Resolution']['set'](_0x5ce925['x'],_0x5ce925['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x17ce0c=>_0x17ce0c['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===Za?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x30022e){this['_screenSpa'+'ce']=_0x30022e,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x524188=>_0x524188['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x55ceed){_0x55ceed!==Za&&_0x55ceed!==qO&&(_0x55ceed=Za),!this['_screenSpa'+'ce']&&_0x55ceed!==Za&&(_0x55ceed=Za),this['_scaleMode']=_0x55ceed,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x4927d7){this['_scaleBlen'+'d']=_0x4927d7,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x437cc6=>_0x437cc6['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x38c6b0){_0x38c6b0>-0x52f*0x5+-0x8ee+0x23d8&&(w['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x38c6b0+'\x20to\x20255'),_0x38c6b0=-0x217d+-0x247*-0x1+-0x1*-0x2035),this['_priority']!==_0x38c6b0&&(this['_priority']=_0x38c6b0,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class jO{constructor(){this['enabled']=!(-0x4*0x139+0x540+-0x1*0x5c);}}const Uu=['enabled'];class YO extends ct{constructor(_0x3e6d2e){super(_0x3e6d2e),this['id']='screen',this['ComponentT'+'ype']=l0,this['DataType']=jO,this['schema']=Uu,this['windowReso'+'lution']=new J(),this['_drawOrder'+'SyncQueue']=new fx(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x118f70,_0x8ad5af,_0x393b9f){_0x8ad5af['priority']!==void(0x1432+-0x149*-0x5+0x1a9f*-0x1)&&(_0x118f70['priority']=_0x8ad5af['priority']),_0x8ad5af['screenSpac'+'e']!==void(0x353*0x1+-0x1e4b+0x1af8)&&(_0x118f70['screenSpac'+'e']=_0x8ad5af['screenSpac'+'e']),_0x118f70['cull']=_0x118f70['screenSpac'+'e'],_0x8ad5af['scaleMode']!==void(-0x7*-0x3a9+-0x1bbc*0x1+0x21d)&&(_0x118f70['scaleMode']=_0x8ad5af['scaleMode']),_0x8ad5af['scaleBlend']!==void(-0xce3+0x1*0x63a+0x6a9)&&(_0x118f70['scaleBlend']=_0x8ad5af['scaleBlend']),_0x8ad5af['resolution']!==void(0x17*-0xa6+-0x1537+0x2421)&&(_0x8ad5af['resolution']instanceof J?_0x118f70['_resolutio'+'n']['copy'](_0x8ad5af['resolution']):_0x118f70['_resolutio'+'n']['set'](_0x8ad5af['resolution'][-0x17a0+0xc1*-0x1f+0x2eff],_0x8ad5af['resolution'][-0x22e2+-0x5c*-0x17+0x1a9f]),_0x118f70['resolution']=_0x118f70['_resolutio'+'n']),_0x8ad5af['referenceR'+'esolution']!==void(-0x1*0x221b+-0x1825+0x10*0x3a4)&&(_0x8ad5af['referenceR'+'esolution']instanceof J?_0x118f70['_reference'+'Resolution']['copy'](_0x8ad5af['referenceR'+'esolution']):_0x118f70['_reference'+'Resolution']['set'](_0x8ad5af['referenceR'+'esolution'][-0x25e5+0x1777+0xe6e],_0x8ad5af['referenceR'+'esolution'][0x909+0x5db*0x1+0x1*-0xee3]),_0x118f70['referenceR'+'esolution']=_0x118f70['_reference'+'Resolution']),_0x118f70['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x118f70,_0x8ad5af,Uu);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x5c911d){const _0x53d3c6=this['store'];for(const _0x444738 in _0x53d3c6)_0x53d3c6[_0x444738]['entity']['screen']['update']&&_0x53d3c6[_0x444738]['entity']['screen']['update'](_0x5c911d);}['_onResize'](_0x241d07,_0x72efb6){this['windowReso'+'lution']['x']=_0x241d07,this['windowReso'+'lution']['y']=_0x72efb6;}['cloneCompo'+'nent'](_0x2d0e3d,_0x373ee6){const _0x1b173c=_0x2d0e3d['screen'];return this['addCompone'+'nt'](_0x373ee6,{'enabled':_0x1b173c['enabled'],'screenSpace':_0x1b173c['screenSpac'+'e'],'scaleMode':_0x1b173c['scaleMode'],'resolution':_0x1b173c['resolution']['clone'](),'referenceResolution':_0x1b173c['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x43fe27,_0x65b850){_0x65b850['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x1c2064=this['_drawOrder'+'SyncQueue']['list']();for(let _0x1e65d1=0x17f9+-0x13c9+0x86*-0x8;_0x1e65d1<_0x1c2064['length'];_0x1e65d1++){const _0x34c4c8=_0x1c2064[_0x1e65d1];_0x34c4c8['callback']['call'](_0x34c4c8['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0x564625,_0x505411,_0x3a0d58){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0x564625)||this['_drawOrder'+'SyncQueue']['push'](_0x564625,{'callback':_0x505411,'scope':_0x3a0d58});}}we['_buildAcce'+'ssors'](l0['prototype'],Uu);const lr=new J(),sS=new D(),Hr=new Dn(),iS=new QS(),rS=new D(),vo=new D(),KO=new le(),ZO={'x':'y','y':'x'};class Go extends me{constructor(_0x5e5ed2,_0x238546){if(super(),!_0x5e5ed2||!(_0x5e5ed2 instanceof hs))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x238546&&_0x238546!=='x'&&_0x238546!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x238546);this['_element']=_0x5e5ed2,this['_app']=_0x5e5ed2['system']['app'],this['_axis']=_0x238546||null,this['_enabled']=!(-0x1*-0x89e+0x99c+0x1*-0x123a),this['_dragScale']=new D(),this['_dragStart'+'MousePosit'+'ion']=new D(),this['_dragStart'+'HandlePosi'+'tion']=new D(),this['_deltaMous'+'ePosition']=new D(),this['_deltaHand'+'lePosition']=new D(),this['_isDraggin'+'g']=!(0x1fac+-0xeb2+-0x10f9),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x589e95){this['_element'][_0x589e95]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x589e95]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x589e95]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x3cd105){const _0x6c09ce=_0x3cd105==='on';this['_hasDragLi'+'steners']&&_0x6c09ce||(this['_app']['mouse']&&(this['_element'][_0x3cd105]('mousemove',this['_onMove'],this),this['_element'][_0x3cd105]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),Ae['touch']&&(this['_element'][_0x3cd105]('touchmove',this['_onMove'],this),this['_element'][_0x3cd105]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x3cd105]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x3cd105]('selectmove',this['_onMove'],this),this['_element'][_0x3cd105]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0x6c09ce);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x3e5992){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x3e5992['camera'],this['_calculate'+'DragScale']();const _0x375cfa=this['_screenToL'+'ocal'](_0x3e5992);_0x375cfa&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(-0x240c+-0xfe8+-0x1db*-0x1c),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x375cfa),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(0x22d7+0xabd+-0x2d93),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x5507cf){return _0x5507cf['inputSourc'+'e']?Hr['set'](_0x5507cf['inputSourc'+'e']['getOrigin'](),_0x5507cf['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x5507cf),this['_chooseRay'+'OriginAndD'+'irection']()),rS['copy'](this['_element']['entity']['forward'])['mulScalar'](-(-0x1*0xc5f+-0x891+0x14f1)),iS['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),rS),iS['intersects'+'Ray'](Hr,vo)?(KO['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](vo,vo),vo['mul'](this['_dragScale']),vo):null;}['_determine'+'InputPosit'+'ion'](_0x46e0cf){const _0x23e8ee=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x46e0cf['x']<'u'&&typeof _0x46e0cf['y']<'u'?(lr['x']=_0x46e0cf['x']*_0x23e8ee,lr['y']=_0x46e0cf['y']*_0x23e8ee):_0x46e0cf['changedTou'+'ches']?(lr['x']=_0x46e0cf['changedTou'+'ches'][0x1*-0xdf3+-0x44*0x68+-0x2993*-0x1]['x']*_0x23e8ee,lr['y']=_0x46e0cf['changedTou'+'ches'][-0x1633*0x1+0x20bd+0x2*-0x545]['y']*_0x23e8ee):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Hr['origin']['set'](lr['x'],-lr['y'],0x2403*0x1+0x1752+-0x3b55),Hr['direction']['copy'](D['FORWARD'])):(sS['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](lr['x'],lr['y'],-0x247f+-0x1d8*0xb+0x38c8)),Hr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Hr['direction']['copy'](sS)['sub'](Hr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x52cb7a=this['_element']['entity']['parent'];const _0x3b518=this['_element']['screen']&&this['_element']['screen']['screen'],_0x53ae4c=_0x3b518&&_0x3b518['screenSpac'+'e'],_0x65acec=_0x53ae4c?_0x3b518['scale']:-0x10cd+0x1c77+-0xba9,_0x375634=this['_dragScale'];for(_0x375634['set'](_0x65acec,_0x65acec,_0x65acec);_0x52cb7a&&(_0x375634['mul'](_0x52cb7a['getLocalSc'+'ale']()),_0x52cb7a=_0x52cb7a['parent'],!(_0x53ae4c&&_0x52cb7a['screen'])););_0x375634['x']=(0x4e*0x75+0x1aa3+-0x3e48)/_0x375634['x'],_0x375634['y']=(-0x2*0x414+-0x3a8+0xbd1)/_0x375634['y'],_0x375634['z']=0x4f*0x1+-0x191b*-0x1+-0x196a;}['_onMove'](_0x44cec5){const {_element:_0x534c3d,_deltaMousePosition:_0x13feb8,_deltaHandlePosition:_0xaaa2ea,_axis:_0x124937}=this;if(_0x534c3d&&this['_isDraggin'+'g']&&this['enabled']&&_0x534c3d['enabled']&&_0x534c3d['entity']['enabled']){const _0x10f120=this['_screenToL'+'ocal'](_0x44cec5);if(_0x10f120){if(_0x13feb8['sub2'](_0x10f120,this['_dragStart'+'MousePosit'+'ion']),_0xaaa2ea['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x13feb8),_0x124937){const _0x169739=_0x534c3d['entity']['getLocalPo'+'sition'](),_0x16183f=ZO[_0x124937];_0xaaa2ea[_0x16183f]=_0x169739[_0x16183f];}_0x534c3d['entity']['setLocalPo'+'sition'](_0xaaa2ea),this['fire']('drag:move',_0xaaa2ea);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x572621){this['_enabled']=_0x572621;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}h(Go,'EVENT_DRAG'+'START','drag:start'),h(Go,'EVENT_DRAG'+'END','drag:end'),h(Go,'EVENT_DRAG'+'MOVE','drag:move');const QO=0x20e8+-0x1a3e+-0x6aa,aS=0x122b+-0xd1d+-0x1af*0x3,JO=-0x1*0x29f+-0xe*0x22d+0x2b*0xc5,eF=0x863+-0x6c*0x1d+0xc5*0x5,tF=0x23f9+-0x1*-0xd76+-0x316e,xo=new J();class c0 extends we{constructor(_0x142c62,_0xddc917){super(_0x142c62,_0xddc917),h(this,'_viewportE'+'ntity',null),h(this,'_contentEn'+'tity',null),h(this,'_horizonta'+'lScrollbar'+'Entity',null),h(this,'_verticalS'+'crollbarEn'+'tity',null),h(this,'_evtElemen'+'tRemove',null),h(this,'_evtViewpo'+'rtElementR'+'emove',null),h(this,'_evtViewpo'+'rtResize',null),h(this,'_evtConten'+'tEntityEle'+'mentAdd',null),h(this,'_evtConten'+'tElementRe'+'move',null),h(this,'_evtConten'+'tResize',null),h(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),h(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),h(this,'_evtHorizo'+'ntalScroll'+'barValue',null),h(this,'_evtVertic'+'alScrollba'+'rAdd',null),h(this,'_evtVertic'+'alScrollba'+'rRemove',null),h(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_scroll']=new J(),this['_velocity']=new D(),this['_dragStart'+'Position']=new D(),this['_disabledC'+'ontentInpu'+'t']=!(0x1*0x191+-0x5*-0x4d3+-0x19af),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x441428=this['system']['store'][this['entity']['getGuid']()];return _0x441428?_0x441428['data']:null;}set['enabled'](_0x2c83e1){this['_setValue']('enabled',_0x2c83e1);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x41eef0){this['_setValue']('horizontal',_0x41eef0);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x5f18d4){this['_setValue']('vertical',_0x5f18d4);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x45daa1){this['_setValue']('scrollMode',_0x45daa1);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x41ff11){this['_setValue']('bounceAmou'+'nt',_0x41ff11);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0x3079ab){this['_setValue']('friction',_0x3079ab);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x53b875){this['_setValue']('dragThresh'+'old',_0x53b875);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x40e1a5){this['_setValue']('useMouseWh'+'eel',_0x40e1a5);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x55a4fe){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x55a4fe);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x36a28d){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x36a28d);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x814f9c){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x814f9c);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0xd6f8d0){if(this['_viewportE'+'ntity']===_0xd6f8d0)return;const _0x15ea82=typeof _0xd6f8d0=='string';this['_viewportE'+'ntity']&&_0x15ea82&&this['_viewportE'+'ntity']['getGuid']()===_0xd6f8d0||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0xd6f8d0 instanceof Ie?this['_viewportE'+'ntity']=_0xd6f8d0:_0x15ea82?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0xd6f8d0)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x15ea82&&_0xd6f8d0&&(this['data']['viewportEn'+'tity']=_0xd6f8d0));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x145c4c){if(this['_contentEn'+'tity']===_0x145c4c)return;const _0x2e5964=typeof _0x145c4c=='string';this['_contentEn'+'tity']&&_0x2e5964&&this['_contentEn'+'tity']['getGuid']()===_0x145c4c||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x145c4c instanceof Ie?this['_contentEn'+'tity']=_0x145c4c:_0x2e5964?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x145c4c)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0x2e5964&&_0x145c4c&&(this['data']['contentEnt'+'ity']=_0x145c4c));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x1651e8){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x1651e8)return;const _0x2f0798=typeof _0x1651e8=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x2f0798&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x1651e8||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x1651e8 instanceof Ie?this['_horizonta'+'lScrollbar'+'Entity']=_0x1651e8:_0x2f0798?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x1651e8)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][Ce]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x2f0798&&_0x1651e8&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x1651e8));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x1dbdae){if(this['_verticalS'+'crollbarEn'+'tity']===_0x1dbdae)return;const _0x2a7e5a=typeof _0x1dbdae=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x2a7e5a&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x1dbdae||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x1dbdae instanceof Ie?this['_verticalS'+'crollbarEn'+'tity']=_0x1dbdae:_0x2a7e5a?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x1dbdae)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][je]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x2a7e5a&&_0x1dbdae&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x1dbdae));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0x512ac0){this['_onSetScro'+'ll'](_0x512ac0['x'],_0x512ac0['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x1775bb,_0x3bed24){const _0xc68c93=this['data'],_0x5251ce=_0xc68c93[_0x1775bb];_0xc68c93[_0x1775bb]=_0x3bed24,this['fire']('set',_0x1775bb,_0x5251ce,_0x3bed24);}['_toggleLif'+'ecycleList'+'eners'](_0x333db3){this[_0x333db3]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0x333db3]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0x333db3]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x2b967a){if(this['entity']['element']){if(_0x2b967a==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x2b967a]('resize',this['_syncAll'],this),this['entity']['element'][_0x2b967a]('mousewheel',this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x2b967a==='on';}}['_onElement'+'ComponentA'+'dd'](_0x984fb0){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0x305c3b){var _0x278754;(_0x278754=this['_evtElemen'+'tRemove'])==null||_0x278754['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x11d6ff,_0x570cdb;(_0x11d6ff=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x11d6ff['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x570cdb=this['_viewportE'+'ntity'])!=null&&_0x570cdb['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x417e42=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x417e42['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x417e42['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x281cde,_0x3e86ea;(_0x281cde=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x281cde['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x3e86ea=this['_evtViewpo'+'rtResize'])==null||_0x3e86ea['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0xc75cd2,_0x4f1ccd;(_0xc75cd2=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0xc75cd2['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x4f1ccd=this['_contentEn'+'tity'])!=null&&_0x4f1ccd['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x24e5f0=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x24e5f0['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x24e5f0['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0x4eb2f3,_0x4d7ca8;(_0x4eb2f3=this['_evtConten'+'tElementRe'+'move'])==null||_0x4eb2f3['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x4d7ca8=this['_evtConten'+'tResize'])==null||_0x4d7ca8['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new Go(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0x285ede){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(0x25*0x34+-0x1045+0x8c1*0x1),this['_setScroll'+'FromConten'+'tPosition'](_0x285ede),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x285ede),!this['_disabledC'+'ontentInpu'+'t'])){const _0x4bd097=_0x285ede['x']-this['_dragStart'+'Position']['x'],_0x3c0624=_0x285ede['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x4bd097)>this['dragThresh'+'old']||Math['abs'](_0x3c0624)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0x40afb7;(_0x40afb7=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0x40afb7['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x3b95f6;(_0x3b95f6=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x3b95f6['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0xc8ae14){!this['_scrollbar'+'UpdateFlag'+'s'][Ce]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0xc8ae14,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x3e2f02){!this['_scrollbar'+'UpdateFlag'+'s'][je]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x3e2f02);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x2b8453;const _0x237087=(_0x2b8453=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(-0x403+-0x4b*-0x3b+-0xd46*0x1):_0x2b8453['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0x237087['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0x237087['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarPositi'+'on'](Ce);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x291875;const _0x17da3c=(_0x291875=this['_verticalS'+'crollbarEn'+'tity'])==null?void(-0x197e*-0x1+-0x21c6+-0x28*-0x35):_0x291875['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0x17da3c['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0x17da3c['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](je),this['_syncScrol'+'lbarPositi'+'on'](je);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x1632c6,_0x5c0e32;(_0x1632c6=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x1632c6['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x5c0e32=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x5c0e32['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x12cbf6,_0x577021;(_0x12cbf6=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x12cbf6['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x577021=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x577021['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](Ce);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](je);}['_onSetScro'+'ll'](_0x2aa244,_0x2c3f51,_0x11325d){_0x11325d!==!(0x800*0x4+-0xec8+-0x1137)&&this['_velocity']['set'](0xef*0x1f+0x80c+-0x24fd,0x5*-0x6d2+0x25*-0xb9+-0x26f*-0x19,0x1419+-0x618+-0xe01);const _0x2e70e9=this['_updateAxi'+'s'](_0x2aa244,'x',Ce),_0xf9884=this['_updateAxi'+'s'](_0x2c3f51,'y',je);(_0x2e70e9||_0xf9884)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x152404,_0x442f3e,_0x19e439){const _0x66656b=_0x152404!==null&&Math['abs'](_0x152404-this['_scroll'][_0x442f3e])>-0x1*0x131e+-0x64f*0x2+0x1fbc+0.00001;return(_0x66656b||this['_isDraggin'+'g']()||_0x152404===-0x7f6*-0x3+0x1a55+-0x3237)&&(this['_scroll'][_0x442f3e]=this['_determine'+'NewScrollV'+'alue'](_0x152404,_0x442f3e,_0x19e439),this['_syncConte'+'ntPosition'](_0x19e439),this['_syncScrol'+'lbarPositi'+'on'](_0x19e439)),_0x66656b;}['_determine'+'NewScrollV'+'alue'](_0x292631,_0x4761a8,_0x22fa6d){if(!this['_getScroll'+'ingEnabled'](_0x22fa6d))return this['_scroll'][_0x4761a8];switch(this['scrollMode']){case QO:return Y['clamp'](_0x292631,-0x1*0x6e9+-0x1*-0x13f3+0x685*-0x2,this['_getMaxScr'+'ollValue'](_0x22fa6d));case aS:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x292631,_0x4761a8,_0x22fa6d),_0x292631;case JO:return _0x292631;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x292631;}}['_syncAll'](){this['_syncConte'+'ntPosition'](Ce),this['_syncConte'+'ntPosition'](je),this['_syncScrol'+'lbarPositi'+'on'](Ce),this['_syncScrol'+'lbarPositi'+'on'](je),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je);}['_syncConte'+'ntPosition'](_0x12a8b3){if(!this['_contentEn'+'tity'])return;const _0x5201d4=this['_getAxis'](_0x12a8b3),_0x1b3f7b=this['_getSign'](_0x12a8b3),_0x111b55=this['_prevConte'+'ntSizes'][_0x12a8b3],_0x3c897e=this['_getConten'+'tSize'](_0x12a8b3);if(_0x111b55!==null&&Math['abs'](_0x111b55-_0x3c897e)>-0x268e+0x1fa+0x2494*0x1+0.0001){const _0x3bb721=this['_getMaxOff'+'set'](_0x12a8b3,_0x111b55),_0xb9022b=this['_getMaxOff'+'set'](_0x12a8b3,_0x3c897e);_0xb9022b===0x1223+0x88d*0x2+-0x1f*0x123?this['_scroll'][_0x5201d4]=0x5*0x69a+-0x18bf+-0x842:this['_scroll'][_0x5201d4]=Y['clamp'](this['_scroll'][_0x5201d4]*_0x3bb721/_0xb9022b,0x250+0x16ce+-0x191e*0x1,-0x4*-0x905+0xe66*-0x1+-0x15ad);}const _0x3a1927=this['_scroll'][_0x5201d4]*this['_getMaxOff'+'set'](_0x12a8b3),_0x2f3278=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x2f3278[_0x5201d4]=_0x3a1927*_0x1b3f7b,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x2f3278),this['_prevConte'+'ntSizes'][_0x12a8b3]=_0x3c897e;}['_syncScrol'+'lbarPositi'+'on'](_0xdf8063){const _0xb41cf1=this['_scrollbar'+'Entities'][_0xdf8063];if(!(_0xb41cf1!=null&&_0xb41cf1['scrollbar']))return;const _0x3c8bb7=this['_getAxis'](_0xdf8063);this['_scrollbar'+'UpdateFlag'+'s'][_0xdf8063]=!(0x152d*-0x1+0x1705+-0x1d8),_0xb41cf1['scrollbar']['value']=this['_scroll'][_0x3c8bb7],_0xb41cf1['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x3c8bb7,_0xdf8063),this['_scrollbar'+'UpdateFlag'+'s'][_0xdf8063]=!(0xc7a+-0x1465+0x2a4*0x3);}['_syncScrol'+'lbarEnable'+'dState'](_0x58a338){const _0x499416=this['_scrollbar'+'Entities'][_0x58a338];if(!_0x499416)return;const _0x547e81=this['_getScroll'+'ingEnabled'](_0x58a338),_0x387cf8=this['_getScroll'+'barVisibil'+'ity'](_0x58a338);switch(_0x387cf8){case eF:_0x499416['enabled']=_0x547e81;return;case tF:_0x499416['enabled']=_0x547e81&&this['_contentIs'+'LargerThan'+'Viewport'](_0x58a338);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x387cf8),_0x499416['enabled']=_0x547e81;}}['_contentIs'+'LargerThan'+'Viewport'](_0x443af4){return this['_getConten'+'tSize'](_0x443af4)>this['_getViewpo'+'rtSize'](_0x443af4);}['_contentPo'+'sitionToSc'+'rollValue'](_0x5efd7e){const _0x54ea48=this['_getMaxOff'+'set'](Ce),_0x438834=this['_getMaxOff'+'set'](je);return _0x54ea48===-0xbb*0x7+0x3b8+-0x77*-0x3?xo['x']=-0x46+0xfb5*-0x2+0x34*0x9c:xo['x']=_0x5efd7e['x']/_0x54ea48,_0x438834===-0x2d2*-0xa+0xf61*0x1+-0x2b95?xo['y']=-0x2fa+-0x17fb*-0x1+-0x1*0x1501:xo['y']=_0x5efd7e['y']/-_0x438834,xo;}['_getMaxOff'+'set'](_0x2d436d,_0x3db4e8){_0x3db4e8=_0x3db4e8===void(0x1eef+0x185+0x3e*-0x86)?this['_getConten'+'tSize'](_0x2d436d):_0x3db4e8;const _0x350c76=this['_getViewpo'+'rtSize'](_0x2d436d);return _0x3db4e8<_0x350c76?-this['_getViewpo'+'rtSize'](_0x2d436d):_0x350c76-_0x3db4e8;}['_getMaxScr'+'ollValue'](_0x4fe0d3){return this['_contentIs'+'LargerThan'+'Viewport'](_0x4fe0d3)?-0x124e+0x8e7+0x968:0x1*0x2187+0x1*-0x15bb+-0xbcc;}['_getScroll'+'barHandleS'+'ize'](_0x1de8e4,_0x3f2a2d){const _0x4ce3f1=this['_getViewpo'+'rtSize'](_0x3f2a2d),_0x7ca3bd=this['_getConten'+'tSize'](_0x3f2a2d);if(Math['abs'](_0x7ca3bd)<0x5e*0x5a+0x1*-0x2669+-0x55d*-0x1+0.001)return-0x150a+-0x12d1+-0x9f7*-0x4;const _0x1a81d9=Math['min'](_0x4ce3f1/_0x7ca3bd,-0x17*0xb5+-0x5d*0x43+0xf*0x2b5),_0x49b08d=this['_toOversho'+'ot'](this['_scroll'][_0x1de8e4],_0x3f2a2d);return _0x49b08d===-0x1caa+0x1205*0x1+0xaa5*0x1?_0x1a81d9:_0x1a81d9/(-0xf56+-0xe3b*-0x2+0x1*-0xd1f+Math['abs'](_0x49b08d));}['_getViewpo'+'rtSize'](_0x36789b){return this['_getSize'](_0x36789b,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x38ea6c){return this['_getSize'](_0x38ea6c,this['_contentEn'+'tity']);}['_getSize'](_0x3bae75,_0x4b18ab){return _0x4b18ab!=null&&_0x4b18ab['element']?_0x4b18ab['element'][this['_getCalcul'+'atedDimens'+'ion'](_0x3bae75)]:-0x86*-0x28+0x117a+0x12a*-0x21;}['_getScroll'+'ingEnabled'](_0x37ffb2){if(_0x37ffb2===Ce)return this['horizontal'];if(_0x37ffb2===je)return this['vertical'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x37ffb2);}['_getScroll'+'barVisibil'+'ity'](_0x275ce4){if(_0x275ce4===Ce)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x275ce4===je)return this['verticalSc'+'rollbarVis'+'ibility'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x275ce4);}['_getSign'](_0x1f3e80){return _0x1f3e80===Ce?0x122f+0x3d6+0x1*-0x1604:-(0x1*0x1dd5+0x1*-0xff1+-0xde3);}['_getAxis'](_0x52afce){return _0x52afce===Ce?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0xc72a41){return _0xc72a41===Ce?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===aS&&(this['_hasOversh'+'oot']('x',Ce)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',Ce),this['_hasOversh'+'oot']('y',je)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',je)),Math['abs'](this['_velocity']['x'])>0x1306+0x1dae+-0x30b4+0.0001||Math['abs'](this['_velocity']['y'])>0x3b*0x4f+-0x7*-0x20c+0x2089*-0x1+0.0001){const _0x3650c0=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x3650c0['x']+=this['_velocity']['x'],_0x3650c0['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x3650c0),this['_setScroll'+'FromConten'+'tPosition'](_0x3650c0);}this['_velocity']['x']*=0x18*-0x99+-0x1d22+0x2b7b-this['friction'],this['_velocity']['y']*=-0x22df*-0x1+-0x14ad+-0xe31-this['friction'];}}['_hasOversh'+'oot'](_0x1701b3,_0x17e4d8){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x1701b3],_0x17e4d8))>-0xc0f+0x1d32+-0x1123+0.001;}['_toOversho'+'ot'](_0x4e215b,_0x554aff){const _0x55055c=this['_getMaxScr'+'ollValue'](_0x554aff);return _0x4e215b<-0x10*-0x166+0x3*0xb1+0x1873*-0x1?_0x4e215b:_0x4e215b>_0x55055c?_0x4e215b-_0x55055c:-0x27*-0xc7+-0x1b4d*0x1+-0x304;}['_setVeloci'+'tyFromOver'+'shoot'](_0x9cf1e2,_0x5b35fa,_0x26e670){const _0x564f5b=this['_toOversho'+'ot'](_0x9cf1e2,_0x26e670)*this['_getMaxOff'+'set'](_0x26e670)*this['_getSign'](_0x26e670);Math['abs'](_0x564f5b)>-0x1120+-0xd*-0xfe+-0x21d*-0x2&&(this['_velocity'][_0x5b35fa]=-_0x564f5b/(this['bounceAmou'+'nt']*(0x1fdd+-0x3*0x657+-0x2*0x653)+(0x23e+-0xb14+0x8d7)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x1670c6){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x1670c6,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x1670c6)):(this['_velocity']['set'](0x2ca*0x7+-0x10d9+0x1*-0x2ad,0x55*-0x32+-0x614+0x16ae,0x676+-0x486*-0x2+-0xf82),this['_prevConte'+'ntDragPosi'+'tion']=_0x1670c6['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0xf18c45){let _0x18c272=this['_contentPo'+'sitionToSc'+'rollValue'](_0xf18c45);this['_isDraggin'+'g']()&&(_0x18c272=this['_applyScro'+'llValueTen'+'sion'](_0x18c272)),this['_onSetScro'+'ll'](_0x18c272['x'],_0x18c272['y'],!(0x1057+-0x157f+0x1*0x529));}['_applyScro'+'llValueTen'+'sion'](_0x558380){let _0x592154=this['_getMaxScr'+'ollValue'](Ce),_0x1207f9=this['_toOversho'+'ot'](_0x558380['x'],Ce);return _0x1207f9>0x3f3*0x6+0x3*-0x259+0x3*-0x58d?_0x558380['x']=_0x592154+(0x1737+0x1343*-0x2+-0x1ea*-0x8)*Math['log10'](0x1352*0x2+-0x1967+0x1e4*-0x7+_0x1207f9):_0x1207f9<0x1*-0x15d+0x43*0x1+-0x1*-0x11a&&(_0x558380['x']=-(-0x1ae8+-0x1597*-0x1+0x552)*Math['log10'](0x6ba+0x3c7*-0x1+0x2*-0x179-_0x1207f9)),_0x592154=this['_getMaxScr'+'ollValue'](je),_0x1207f9=this['_toOversho'+'ot'](_0x558380['y'],je),_0x1207f9>-0x23f5+-0x1cbb+0x40b0?_0x558380['y']=_0x592154+(0x96d+0xdfa+-0x1766)*Math['log10'](0x159d+0x5*0x78f+-0x3b67+_0x1207f9):_0x1207f9<0x894+0x257*0x7+-0x1*0x18f5&&(_0x558380['y']=-(0x5+-0x1964+0x1960)*Math['log10'](0x6*-0xc5+0x13d6+0x13*-0xcd-_0x1207f9)),_0x558380;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x4b00c0){var _0x2f2ed2,_0x409568;(_0x2f2ed2=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x2f2ed2['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x4b00c0),(_0x409568=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0x409568['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x4b00c0);}['_setConten'+'tDraggingE'+'nabled'](_0xae529e){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0xae529e);}['_onMouseWh'+'eel'](_0x59b939){var _0x52b8e5;if(!this['useMouseWh'+'eel']||!((_0x52b8e5=this['_contentEn'+'tity'])!=null&&_0x52b8e5['element']))return;const _0x110787=_0x59b939['event'],_0x3de680=_0x110787['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x1cffdd=_0x110787['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x249f64=Y['clamp'](this['_scroll']['x']+_0x3de680,-0x2520+0x41f+0x2101,this['_getMaxScr'+'ollValue'](Ce)),_0x17e8ea=Y['clamp'](this['_scroll']['y']+_0x1cffdd,-0x7eb*0x1+0x266+0x585,this['_getMaxScr'+'ollValue'](je));this['scroll']=new J(_0x249f64,_0x17e8ea);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x512f75=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x512f75['element']&&(_0x512f75['element']['useInput']=!(-0xb2d+-0x1d5*-0xe+-0x11d*0xd));}this['_disabledC'+'ontentInpu'+'t']=!(-0x22b4+0x1*0x76f+-0xda3*-0x2);}['_disableCo'+'ntentInput'](){const _0x44469d=_0x40765b=>{_0x40765b['element']&&_0x40765b['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x40765b),_0x40765b['element']['useInput']=!(-0x45*-0x6d+0xb*-0x256+-0x3ae));const _0x1db5eb=_0x40765b['children'];for(let _0x2a14c7=-0x3*0x4fd+0xe71*0x2+-0xdeb,_0x5c31b1=_0x1db5eb['length'];_0x2a14c7<_0x5c31b1;_0x2a14c7++)_0x44469d(_0x1db5eb[_0x2a14c7]);};if(this['_contentEn'+'tity']){const _0x3169c7=this['_contentEn'+'tity']['children'];for(let _0x234a42=0xa*0x297+-0x2a*-0x35+-0x453*0x8,_0x29f5be=_0x3169c7['length'];_0x234a42<_0x29f5be;_0x234a42++)_0x44469d(_0x3169c7[_0x234a42]);}this['_disabledC'+'ontentInpu'+'t']=!(-0x10fa+0x1*0x25c3+0x139*-0x11);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0x1c0e+-0x4*-0x1c4+0x14fe)),this['_setConten'+'tDraggingE'+'nabled'](!(0x3a5+0x16a3*0x1+0x2*-0xd24)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0x186e+-0x15ec+0x281*-0x1)),this['_setConten'+'tDraggingE'+'nabled'](!(0x75+0x415+-0x489));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x36fb8c,_0x2a5684){_0x36fb8c['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x2a5684[_0x36fb8c['viewportEn'+'tity']['getGuid']()]),_0x36fb8c['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x2a5684[_0x36fb8c['contentEnt'+'ity']['getGuid']()]),_0x36fb8c['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x2a5684[_0x36fb8c['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x36fb8c['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x2a5684[_0x36fb8c['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}h(c0,'EVENT_SETS'+'CROLL','set:scroll');const sF=-0xf56+-0x1212+0x2172;class iF{constructor(){h(this,'enabled',!(-0x641*-0x2+0x1*-0x2536+0x83c*0x3)),h(this,'horizontal'),h(this,'vertical'),h(this,'scrollMode'),h(this,'bounceAmou'+'nt'),h(this,'friction'),h(this,'dragThresh'+'old',sF),h(this,'useMouseWh'+'eel',!(-0xa5c+0x417*-0x4+0x1ab8)),h(this,'mouseWheel'+'Sensitivit'+'y',new J(-0x14a9*-0x1+0x13*0x15f+-0x2eb5,-0x2562+0x1*-0x1ecb+0x3*0x16ba)),h(this,'horizontal'+'ScrollbarV'+'isibility',-0x3ff+0x54b*-0x4+0x192b),h(this,'verticalSc'+'rollbarVis'+'ibility',-0x6b*-0x4f+-0x55*-0x52+-0x3c3f),h(this,'viewportEn'+'tity',null),h(this,'contentEnt'+'ity',null),h(this,'horizontal'+'ScrollbarE'+'ntity',null),h(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const nS=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],rF=-0x1ce2+0xbe5+0x1107*0x1;class aF extends ct{constructor(_0x576264){super(_0x576264),this['id']='scrollview',this['ComponentT'+'ype']=c0,this['DataType']=iF,this['schema']=nS,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x57dcfb,_0x3eb6ef,_0x462221){_0x3eb6ef['dragThresh'+'old']===void(-0x9d4+-0x4*0x8d2+-0x1*-0x2d1c)&&(_0x3eb6ef['dragThresh'+'old']=rF),_0x3eb6ef['useMouseWh'+'eel']===void(-0x20c8*0x1+0x59+0x206f)&&(_0x3eb6ef['useMouseWh'+'eel']=!(-0x1a24+0x5c0+0x1464)),_0x3eb6ef['mouseWheel'+'Sensitivit'+'y']===void(0x206*0x3+-0x1*0x1f55+-0x1943*-0x1)&&(_0x3eb6ef['mouseWheel'+'Sensitivit'+'y']=new J(-0x20a8+-0x1*0x8e1+0x298a,-0x1*-0x1e31+-0x17f2+-0x63e)),super['initialize'+'ComponentD'+'ata'](_0x57dcfb,_0x3eb6ef,nS),_0x57dcfb['viewportEn'+'tity']=_0x3eb6ef['viewportEn'+'tity'],_0x57dcfb['contentEnt'+'ity']=_0x3eb6ef['contentEnt'+'ity'],_0x57dcfb['horizontal'+'ScrollbarE'+'ntity']=_0x3eb6ef['horizontal'+'ScrollbarE'+'ntity'],_0x57dcfb['verticalSc'+'rollbarEnt'+'ity']=_0x3eb6ef['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x36f885){const _0x4ac287=this['store'];for(const _0x1f66fa in _0x4ac287){const _0x42be79=_0x4ac287[_0x1f66fa]['entity'],_0x115250=_0x42be79['scrollview'];_0x115250['enabled']&&_0x42be79['enabled']&&_0x115250['onUpdate']();}}['_onRemoveC'+'omponent'](_0x435018,_0x4bd42f){_0x4bd42f['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class h0 extends we{constructor(_0x36a4f9,_0x2b07fc){super(_0x36a4f9,_0x2b07fc),h(this,'_handleEnt'+'ity',null),h(this,'_evtHandle'+'EntityElem'+'entAdd',null),h(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x5b131a=this['system']['store'][this['entity']['getGuid']()];return _0x5b131a?_0x5b131a['data']:null;}set['enabled'](_0x80107a){this['_setValue']('enabled',_0x80107a);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x18b99c){this['_setValue']('orientatio'+'n',_0x18b99c);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x273af7){this['_setValue']('value',_0x273af7);}get['value'](){return this['data']['value'];}set['handleSize'](_0x2d9320){this['_setValue']('handleSize',_0x2d9320);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x10ff04){if(this['_handleEnt'+'ity']===_0x10ff04)return;const _0xd7dfd7=typeof _0x10ff04=='string';this['_handleEnt'+'ity']&&_0xd7dfd7&&this['_handleEnt'+'ity']['getGuid']()===_0x10ff04||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x10ff04 instanceof Ie?this['_handleEnt'+'ity']=_0x10ff04:_0xd7dfd7?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x10ff04)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0xd7dfd7&&_0x10ff04&&(this['data']['handleEnti'+'ty']=_0x10ff04));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0x294148,_0x5134e3){const _0x5efb19=this['data'],_0x5cc0d6=_0x5efb19[_0x294148];_0x5efb19[_0x294148]=_0x5134e3,this['fire']('set',_0x294148,_0x5cc0d6,_0x5134e3);}['_toggleLif'+'ecycleList'+'eners'](_0x2bca77){this[_0x2bca77]('set_value',this['_onSetValu'+'e'],this),this[_0x2bca77]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x2bca77]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x2b1d99,_0x3e8977;(_0x2b1d99=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x2b1d99['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x3e8977=this['_handleEnt'+'ity'])!=null&&_0x3e8977['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x28a026=this['_handleEnt'+'ity']['element'],_0x5b943a=this['_evtHandle'+'EntityChan'+'ges'];_0x5b943a['push'](_0x28a026['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x5b943a['push'](_0x28a026['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x5b943a['push'](_0x28a026['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x5b943a['push'](_0x28a026['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x1d9d02=-0x1*0xb93+0x1ac7+0x2*-0x79a;_0x1d9d02<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x1d9d02++)this['_evtHandle'+'EntityChan'+'ges'][_0x1d9d02]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=-0x26b*-0x7+0xa28+-0x1b15;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new Go(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x564ecb){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x564ecb[this['_getAxis']()]));}['_onSetValu'+'e'](_0xa6bcda,_0x472e85,_0x3d7bf3){Math['abs'](_0x3d7bf3-_0x472e85)>-0x5*0x4ef+0xfe*0x1d+-0x1*0x41b+0.00001&&(this['data']['value']=Y['clamp'](_0x3d7bf3,0x1a21*0x1+-0x556+0x1*-0x14cb,0x2*-0xd4e+-0x1*-0x26dd+-0xc40),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x486e00,_0xef3490,_0x42a385){Math['abs'](_0x42a385-_0xef3490)>-0x20*0x11a+-0x3*0xb2f+0x3*0x16ef+0.00001&&(this['data']['handleSize']=Y['clamp'](_0x42a385,0x1*-0x425+0x7df+-0x3ba,0x2531*0x1+0x214e+0x7*-0xa12),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x5d49ae,_0x11d58b,_0x134a78){var _0x87721f;_0x134a78!==_0x11d58b&&((_0x87721f=this['_handleEnt'+'ity'])!=null&&_0x87721f['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=0x1239+-0x1*-0x1658+-0x2891*0x1);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x1963f4=this['_handleEnt'+'ity'],_0x148164=_0x1963f4==null?void(-0x12*0x4+-0x5e3*0x2+0xc0e):_0x1963f4['element'];if(_0x1963f4){const _0x4853fd=_0x1963f4['getLocalPo'+'sition']();_0x4853fd[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x1963f4['setLocalPo'+'sition'](_0x4853fd);}_0x148164&&(_0x148164[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x42dc2a){return _0x42dc2a*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x5b95ef){return _0x5b95ef*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),-0x369+0x6*0x5ad+0x3*-0xa37+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===Ce?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:0x1895+0xcc5+0xe*-0x2ab;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===Ce?0x1253+-0x13*-0x56+0x83c*-0x3:-(-0x1b50+-0x1a7f+0x35d0);}['_getAxis'](){return this['orientatio'+'n']===Ce?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===Ce?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===Ce?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x3a09b2){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x3a09b2);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0xc*0xb2+0x1*0x129e+-0xa46));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(0x233*0x5+0x1e53+0x2951*-0x1));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x41df2d,_0x1cc714){_0x41df2d['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x1cc714[_0x41df2d['handleEnti'+'ty']['getGuid']()]);}}h(h0,'EVENT_SETV'+'ALUE','set:value');class nF{constructor(){h(this,'enabled',!(-0x2257+0xdd6+0x1481)),h(this,'orientatio'+'n',Ce),h(this,'value',-0x2cc+0x12f8+-0x102c),h(this,'handleSize',0x3*-0x21d+0x26d5+-0x1*0x207e),h(this,'handleEnti'+'ty',null);}}const oS=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class oF extends ct{constructor(_0x1430a2){super(_0x1430a2),this['id']='scrollbar',this['ComponentT'+'ype']=h0,this['DataType']=nF,this['schema']=oS,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x15f819,_0x5b94e3,_0x31e46a){super['initialize'+'ComponentD'+'ata'](_0x15f819,_0x5b94e3,oS),_0x15f819['handleEnti'+'ty']=_0x5b94e3['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x198e48){_0x198e48['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x5d7316,_0x1836dd){_0x1836dd['onRemove']();}}const lF={'volume':0x0,'pitch':0x0,'loop':!(-0x36*0x72+0x897+0x2*0x7bb),'startTime':0x0,'duration':0x0,'position':new D(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class Gi extends me{constructor(_0x5d61a2,_0x183e48='Untitled',_0x483867={}){super(),h(this,'name'),h(this,'instances',[]),(this['_component']=_0x5d61a2,this['_assets']=_0x5d61a2['system']['app']['assets'],this['_manager']=_0x5d61a2['system']['manager'],this['name']=_0x183e48,this['_volume']=_0x483867['volume']!==void(0x21de+0x15ca+-0x37a8)?Y['clamp'](Number(_0x483867['volume'])||0x1b97+0x16d*-0x19+-0x407*-0x2,-0x156a+-0x10b*-0xe+-0xda*-0x8,-0x493*0x6+-0x211*-0x11+-0x2*0x3d7):0x17ce+0x201b*-0x1+-0x2*-0x427,this['_pitch']=_0x483867['pitch']!==void(0x351+-0x1c9+-0x188)?Math['max'](0xf6+-0x23bf*0x1+0x41*0x89+0.01,Number(_0x483867['pitch'])||0x1c6d+-0x1fef+0x382):0xc3*0x5+0x12b4+-0x1682,this['_loop']=!!(_0x483867['loop']!==void(-0x1*-0x226d+0x598+-0x2805)&&_0x483867['loop']),this['_duration']=_0x483867['duration']>-0xf04+0x1d*-0x2+0xf3e?_0x483867['duration']:null,this['_startTime']=Math['max'](0x1*-0x137+-0x65e*-0x4+-0x1841,Number(_0x483867['startTime'])||0xb20+-0x2d1+0x1*-0x84f),this['_overlap']=!!_0x483867['overlap'],this['_autoPlay']=!!_0x483867['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x483867['asset'],this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x4f8ea4){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){w['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x3661bd=_0x4f8ea4;if(_0x3661bd||(_0x3661bd=this['_createIns'+'tance'](),this['instances']['push'](_0x3661bd)),this['isLoaded'])_0x3661bd['play']();else{const _0x46313e=function(_0x356c05){const _0x130e32=_0x3661bd['_playWhenL'+'oaded'];_0x3661bd['sound']=_0x356c05,_0x130e32&&_0x3661bd['play']();};this['off']('load',_0x46313e),this['once']('load',_0x46313e),this['load']();}return _0x3661bd;}['pause'](){let _0x2e01b4=!(-0x42d*0x3+0x1*-0xe1b+0x8e1*0x3);const _0xcf75a9=this['instances'];for(let _0x3aae7f=0x181f+-0xaed+-0xd32,_0x38f512=_0xcf75a9['length'];_0x3aae7f<_0x38f512;_0x3aae7f++)_0xcf75a9[_0x3aae7f]['pause']()&&(_0x2e01b4=!(-0x1e0a*-0x1+0x1a08+-0x2*0x1c09));return _0x2e01b4;}['resume'](){let _0x24a0d1=!(-0x39f*-0x5+-0x1fbd+0xda3);const _0x409a1e=this['instances'];for(let _0x3dbcfc=0x4*0x189+0xa01*0x3+0x5*-0x73b,_0x206705=_0x409a1e['length'];_0x3dbcfc<_0x206705;_0x3dbcfc++)_0x409a1e[_0x3dbcfc]['resume']()&&(_0x24a0d1=!(0x19b9+0x25d2+-0x3f8b));return _0x24a0d1;}['stop'](){let _0x5815fa=!(0x1*0x2579+-0x1*0x13fc+-0x117c);const _0x273732=this['instances'];let _0x46fc5a=_0x273732['length'];for(;_0x46fc5a--;)_0x273732[_0x46fc5a]['stop'](),_0x5815fa=!(0xad3*-0x1+0x1f1f+0xa26*-0x2);return _0x273732['length']=0x943*0x4+0xa*-0x183+0x1*-0x15ee,_0x5815fa;}['load'](){if(!this['_hasAsset']())return;const _0x5a6666=this['_assets']['get'](this['_asset']);if(!_0x5a6666){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x5a6666['off']('remove',this['_onAssetRe'+'moved'],this),_0x5a6666['on']('remove',this['_onAssetRe'+'moved'],this),!_0x5a6666['resource']){_0x5a6666['off']('load',this['_onAssetLo'+'ad'],this),_0x5a6666['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x5a6666);return;}this['fire']('load',_0x5a6666['resource']);}['setExterna'+'lNodes'](_0x5f58a8,_0x204494){if(!_0x5f58a8){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x204494||(_0x204494=_0x5f58a8),this['_firstNode']=_0x5f58a8,this['_lastNode']=_0x204494,!this['_overlap']){const _0x41a4e2=this['instances'];for(let _0xc37151=-0x33b*-0x8+-0x9d6+-0x1002,_0xdb84e6=_0x41a4e2['length'];_0xc37151<_0xdb84e6;_0xc37151++)_0x41a4e2[_0xc37151]['setExterna'+'lNodes'](_0x5f58a8,_0x204494);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x4d3a2d=this['instances'];for(let _0x460716=-0x1*-0x5bf+0x1cdc+-0x229b,_0x124f76=_0x4d3a2d['length'];_0x460716<_0x124f76;_0x460716++)_0x4d3a2d[_0x460716]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0xac6020=null;const _0x15e83d=this['_component'];let _0x5ded06=null;if(this['_hasAsset']()){const _0x59ea10=this['_assets']['get'](this['_asset']);_0x59ea10&&(_0x5ded06=_0x59ea10['resource']);}const _0x2f0c9e=lF;return _0x2f0c9e['volume']=this['_volume']*_0x15e83d['volume'],_0x2f0c9e['pitch']=this['_pitch']*_0x15e83d['pitch'],_0x2f0c9e['loop']=this['_loop'],_0x2f0c9e['startTime']=this['_startTime'],_0x2f0c9e['duration']=this['_duration'],_0x2f0c9e['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x2f0c9e['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x2f0c9e['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x2f0c9e['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x2f0c9e['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x15e83d['positional']?(_0x2f0c9e['position']['copy'](_0x15e83d['entity']['getPositio'+'n']()),_0x2f0c9e['maxDistanc'+'e']=_0x15e83d['maxDistanc'+'e'],_0x2f0c9e['refDistanc'+'e']=_0x15e83d['refDistanc'+'e'],_0x2f0c9e['rollOffFac'+'tor']=_0x15e83d['rollOffFac'+'tor'],_0x2f0c9e['distanceMo'+'del']=_0x15e83d['distanceMo'+'del'],_0xac6020=new sn(this['_manager'],_0x5ded06,_0x2f0c9e)):_0xac6020=new As(this['_manager'],_0x5ded06,_0x2f0c9e),this['_firstNode']&&_0xac6020['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0xac6020;}['_onInstanc'+'ePlay'](_0x40918a){this['fire']('play',_0x40918a),this['_component']['fire']('play',this,_0x40918a);}['_onInstanc'+'ePause'](_0x399997){this['fire']('pause',_0x399997),this['_component']['fire']('pause',this,_0x399997);}['_onInstanc'+'eResume'](_0x1c6c6a){this['fire']('resume',_0x1c6c6a),this['_component']['fire']('resume',this,_0x1c6c6a);}['_onInstanc'+'eStop'](_0x2982a7){const _0x5cefff=this['instances']['indexOf'](_0x2982a7);_0x5cefff!==-(-0x8bd*-0x1+0x1bb*-0x15+0x1b9b)&&this['instances']['splice'](_0x5cefff,-0x1607+0x16*0x19d+-0x1*0xd76),this['fire']('stop',_0x2982a7),this['_component']['fire']('stop',this,_0x2982a7);}['_onInstanc'+'eEnd'](_0x4c9d59){const _0x3d4725=this['instances']['indexOf'](_0x4c9d59);_0x3d4725!==-(0x302+-0x1aad+0x17ac)&&this['instances']['splice'](_0x3d4725,0x1ab0+-0xb61*0x3+0x774),this['fire']('end',_0x4c9d59),this['_component']['fire']('end',this,_0x4c9d59);}['_onAssetAd'+'d'](_0x11a1ad){this['load']();}['_onAssetLo'+'ad'](_0x5b4a83){this['load']();}['_onAssetRe'+'moved'](_0x4fde9e){_0x4fde9e['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x4fde9e['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0x31ed25){const _0x10fec2=this['instances'];for(let _0x9d4542=-0x1935+0x8c6+-0x7*-0x259,_0x29d630=_0x10fec2['length'];_0x9d4542<_0x29d630;_0x9d4542++)_0x10fec2[_0x9d4542]['position']=_0x31ed25;}set['asset'](_0x3bf28f){const _0x1dfcb4=this['_asset'];if(_0x1dfcb4){this['_assets']['off']('add:'+_0x1dfcb4,this['_onAssetAd'+'d'],this);const _0x1389eb=this['_assets']['get'](_0x1dfcb4);_0x1389eb&&_0x1389eb['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x3bf28f,this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x199921){this['_autoPlay']=!!_0x199921;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x4cac83){if(this['_duration']=Math['max'](0x1c62+-0xf40+-0xd22,Number(_0x4cac83)||-0x189a+0x2*-0xc11+-0x4*-0xc2f)||null,!this['_overlap']){const _0x375f6b=this['instances'];for(let _0x275f1c=0xc23*0x1+0x59a*0x2+-0x1757*0x1,_0x47853c=_0x375f6b['length'];_0x275f1c<_0x47853c;_0x275f1c++)_0x375f6b[_0x275f1c]['duration']=this['_duration'];}}get['duration'](){let _0x21f9d4=-0x2*-0x2d7+-0x243a+0x1e8c;if(this['_hasAsset']()){const _0x3e8c82=this['_assets']['get'](this['_asset']);_0x21f9d4=_0x3e8c82!=null&&_0x3e8c82['resource']?_0x3e8c82['resource']['duration']:-0x1741+0x2682+-0xf41;}return this['_duration']!=null?this['_duration']%(_0x21f9d4||-0x7db*0x2+0x3be*-0x1+0x1375):_0x21f9d4;}get['isLoaded'](){if(this['_hasAsset']()){const _0xdb116a=this['_assets']['get'](this['_asset']);if(_0xdb116a)return!!_0xdb116a['resource'];}return!(-0x12b7+-0x191*-0x7+0x7c1);}get['isPaused'](){const _0x42039d=this['instances'],_0x22f74f=_0x42039d['length'];if(_0x22f74f===-0x1a8+0x86*0x1+0x122)return!(-0xd*0x22c+-0x709*-0x3+0x2*0x391);for(let _0x5d2f40=-0x2588+-0x1*-0x76d+0x44d*0x7;_0x5d2f40<_0x22f74f;_0x5d2f40++)if(!_0x42039d[_0x5d2f40]['isPaused'])return!(0x229f*-0x1+0x13f6+0x755*0x2);return!(0x13d8+-0xc*-0x2ef+-0x370c);}get['isPlaying'](){const _0x49209f=this['instances'];for(let _0x23868c=-0x7e3*-0x1+0x1527+-0x1d0a,_0x47f871=_0x49209f['length'];_0x23868c<_0x47f871;_0x23868c++)if(_0x49209f[_0x23868c]['isPlaying'])return!(0xf*-0x1e2+0xd82+0xebc);return!(0x1d3*-0x3+-0xac1*-0x1+-0x547);}get['isStopped'](){const _0x4d04b8=this['instances'];for(let _0x5431d9=0xd*-0x241+-0x9*0x3b3+-0x2*-0x1f4c,_0x4004cd=_0x4d04b8['length'];_0x5431d9<_0x4004cd;_0x5431d9++)if(!_0x4d04b8[_0x5431d9]['isStopped'])return!(-0xa64+0x1628+-0x1*0xbc3);return!(0xd25+0x1*-0x233e+0x1619);}set['loop'](_0x3e3297){this['_loop']=!!_0x3e3297;const _0x4e1de8=this['instances'];for(let _0x3c71c9=0xc11+-0x17b3*-0x1+-0x23c4,_0x324198=_0x4e1de8['length'];_0x3c71c9<_0x324198;_0x3c71c9++)_0x4e1de8[_0x3c71c9]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x2873af){this['_overlap']=!!_0x2873af;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x566528){if(this['_pitch']=Math['max'](Number(_0x566528)||-0xc63+0x1132+-0x4cf,0x1383+0x1fab+-0x332e*0x1+0.01),!this['_overlap']){const _0x58d82b=this['instances'];for(let _0x50921e=0x1fdb+0x16ac+-0x3687,_0x50b025=_0x58d82b['length'];_0x50921e<_0x50b025;_0x50921e++)_0x58d82b[_0x50921e]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x19f8fd){if(this['_startTime']=Math['max'](-0x26d9+-0x73d+-0x2*-0x170b,Number(_0x19f8fd)||-0x9ae*0x4+-0x1722+0x3dda),!this['_overlap']){const _0x333983=this['instances'];for(let _0xd69999=-0xb05*-0x1+-0x2cf*-0x5+-0x644*0x4,_0x461cbd=_0x333983['length'];_0xd69999<_0x461cbd;_0xd69999++)_0x333983[_0xd69999]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x5bddbc){if(this['_volume']=Y['clamp'](Number(_0x5bddbc)||0x239+-0xf8e+-0xd55*-0x1,0x19bb+0x17cd+0x9e8*-0x5,0x20f*-0x7+0x53*0x3+0xd71),!this['_overlap']){const _0x1b85d9=this['instances'];for(let _0x2b4a54=0x1*0x1943+0x9e*-0x6+-0x158f,_0x11b40b=_0x1b85d9['length'];_0x2b4a54<_0x11b40b;_0x2b4a54++)_0x1b85d9[_0x2b4a54]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}h(Gi,'EVENT_PLAY','play'),h(Gi,'EVENT_PAUS'+'E','pause'),h(Gi,'EVENT_RESU'+'ME','resume'),h(Gi,'EVENT_STOP','stop'),h(Gi,'EVENT_END','end'),h(Gi,'EVENT_LOAD','load');class Kr extends we{constructor(){super(...arguments),h(this,'_volume',0x4c1*-0x2+0x317*0x7+-0x2*0x60f),h(this,'_pitch',0xde8+-0x1697+0x8b0),h(this,'_positiona'+'l',!(-0xe91+0xf37+0x53*-0x2)),h(this,'_refDistan'+'ce',0x4a5*-0x1+0x2*-0x295+0x9d0),h(this,'_maxDistan'+'ce',-0x6*-0x58a+-0x2762+0x2d36),h(this,'_rollOffFa'+'ctor',0x269+0x10b6+-0x2*0x98f),h(this,'_distanceM'+'odel',Vp),h(this,'_slots',{}),h(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0xe72170,_0x2ebae9,_0x449d05){const _0x47e1ad=this['_slots'];for(const _0x46587e in _0x47e1ad){const _0x5260e9=_0x47e1ad[_0x46587e];if(!_0x5260e9['overlap']){const _0x3cd374=_0x5260e9['instances'];for(let _0x37abcb=0x3*0x623+-0x33b*-0xb+0x1af9*-0x2,_0x16a646=_0x3cd374['length'];_0x37abcb<_0x16a646;_0x37abcb++)_0x3cd374[_0x37abcb][_0xe72170]=_0x449d05?_0x5260e9[_0xe72170]*_0x2ebae9:_0x2ebae9;}}}set['distanceMo'+'del'](_0x2dd80d){this['_distanceM'+'odel']=_0x2dd80d,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x2dd80d,!(0x1*0x235c+-0x1*-0x14c5+-0x3820));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x40e2e1){this['_maxDistan'+'ce']=_0x40e2e1,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x40e2e1,!(-0x3*-0x7db+0x18e6+-0x3076));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x127a71){this['_refDistan'+'ce']=_0x127a71,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x127a71,!(-0x2*-0xabd+-0x1f7d*-0x1+-0x2*0x1a7b));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0x532608){this['_rollOffFa'+'ctor']=_0x532608,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0x532608,!(0x129e+-0x1*0x1525+0x288));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x30f044){this['_pitch']=_0x30f044,this['_updateSou'+'ndInstance'+'s']('pitch',_0x30f044,!(0x16e0+-0x1868+0x188));}get['pitch'](){return this['_pitch'];}set['volume'](_0x258081){this['_volume']=_0x258081,this['_updateSou'+'ndInstance'+'s']('volume',_0x258081,!(0x7*-0x247+0x24c5*0x1+-0x14d4));}get['volume'](){return this['_volume'];}set['positional'](_0x5e48bd){this['_positiona'+'l']=_0x5e48bd;const _0x12cbfd=this['_slots'];for(const _0x576b44 in _0x12cbfd){const _0x467910=_0x12cbfd[_0x576b44];if(!_0x467910['overlap']){const _0x2e885f=_0x467910['instances'],_0x2f5104=_0x2e885f['length'];for(let _0x132442=_0x2f5104-(-0x11f0*0x1+-0x10bc+0x22ad);_0x132442>=0x1fd1+0x1*-0xfab+-0x813*0x2;_0x132442--){const _0x67b9d0=_0x2e885f[_0x132442]['isPlaying']||_0x2e885f[_0x132442]['isSuspende'+'d'],_0x2230a2=_0x2e885f[_0x132442]['currentTim'+'e'];_0x67b9d0&&_0x2e885f[_0x132442]['stop']();const _0x4fdccf=_0x467910['_createIns'+'tance']();_0x67b9d0&&(_0x4fdccf['play'](),_0x4fdccf['currentTim'+'e']=_0x2230a2),_0x2e885f['push'](_0x4fdccf);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x2738cf){const _0xed97c4=this['_slots'];if(_0xed97c4){for(const _0xb18f88 in _0xed97c4)_0xed97c4[_0xb18f88]['stop']();}const _0x380bd0={};for(const _0x854056 in _0x2738cf)_0x2738cf[_0x854056]instanceof Gi?_0x380bd0[_0x2738cf[_0x854056]['name']]=_0x2738cf[_0x854056]:_0x2738cf[_0x854056]['name']&&(_0x380bd0[_0x2738cf[_0x854056]['name']]=new Gi(this,_0x2738cf[_0x854056]['name'],_0x2738cf[_0x854056]));this['_slots']=_0x380bd0,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x40d0b4=this['_slots'],_0x2bc1dc=this['_playingBe'+'foreDisabl'+'e'];for(const _0x1f633f in _0x40d0b4){const _0x56fe6e=_0x40d0b4[_0x1f633f];_0x56fe6e['autoPlay']&&_0x56fe6e['isStopped']?_0x56fe6e['play']():_0x2bc1dc[_0x1f633f]?_0x56fe6e['resume']():_0x56fe6e['isLoaded']||_0x56fe6e['load']();}}['onDisable'](){const _0xf0a3e6=this['_slots'],_0x76ef3e={};for(const _0x51b770 in _0xf0a3e6)_0xf0a3e6[_0x51b770]['overlap']||_0xf0a3e6[_0x51b770]['isPlaying']&&(_0xf0a3e6[_0x51b770]['pause'](),_0x76ef3e[_0x51b770]=!(-0x1ba5+-0x14c*0x11+0x1*0x31b1));this['_playingBe'+'foreDisabl'+'e']=_0x76ef3e;}['onRemove'](){this['off']();}['addSlot'](_0x2a730e,_0x302674){const _0x2c343a=this['_slots'];if(_0x2c343a[_0x2a730e])return w['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x2a730e+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0x1a12d6=new Gi(this,_0x2a730e,_0x302674);return _0x2c343a[_0x2a730e]=_0x1a12d6,_0x1a12d6['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0x1a12d6['play'](),_0x1a12d6;}['removeSlot'](_0x497da3){const _0x2d5b57=this['_slots'];_0x2d5b57[_0x497da3]&&(_0x2d5b57[_0x497da3]['stop'](),delete _0x2d5b57[_0x497da3]);}['slot'](_0x15a37f){return this['_slots'][_0x15a37f];}['_getSlotPr'+'operty'](_0x2ae5aa,_0x62a628){if(!this['enabled']||!this['entity']['enabled'])return;const _0x25cff4=this['_slots'][_0x2ae5aa];if(!_0x25cff4){w['warn']('Trying\x20to\x20'+'get\x20'+_0x62a628+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x2ae5aa+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x25cff4[_0x62a628];}['isPlaying'](_0x263c04){return this['_getSlotPr'+'operty'](_0x263c04,'isPlaying')||!(-0x263f+-0x1c51+0x1*0x4291);}['isLoaded'](_0xfc7b7b){return this['_getSlotPr'+'operty'](_0xfc7b7b,'isLoaded')||!(0x2250+0x604+-0x2853);}['isPaused'](_0x500f3f){return this['_getSlotPr'+'operty'](_0x500f3f,'isPaused')||!(-0xdfb+-0x2259*0x1+0x3055);}['isStopped'](_0x456760){return this['_getSlotPr'+'operty'](_0x456760,'isStopped')||!(0x196+0x1f5d+-0x20f2);}['play'](_0x5370d8){if(!this['enabled']||!this['entity']['enabled'])return null;const _0xea6125=this['_slots'][_0x5370d8];return _0xea6125?_0xea6125['play']():(w['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x5370d8+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x40c1bf){const _0x18fe3b=this['_slots'];if(_0x40c1bf){const _0x539580=_0x18fe3b[_0x40c1bf];if(!_0x539580){w['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x40c1bf+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x539580['pause']();}else{for(const _0x53ca9c in _0x18fe3b)_0x18fe3b[_0x53ca9c]['pause']();}}['resume'](_0x18b41c){const _0x280984=this['_slots'];if(_0x18b41c){const _0x4b460d=_0x280984[_0x18b41c];if(!_0x4b460d){w['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x18b41c+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x4b460d['isPaused']&&_0x4b460d['resume']();}else{for(const _0x5b8451 in _0x280984)_0x280984[_0x5b8451]['resume']();}}['stop'](_0x482795){const _0x1b2e57=this['_slots'];if(_0x482795){const _0x4983c7=_0x1b2e57[_0x482795];if(!_0x4983c7){w['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x482795+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x4983c7['stop']();}else{for(const _0x2e476a in _0x1b2e57)_0x1b2e57[_0x2e476a]['stop']();}}}h(Kr,'EVENT_PLAY','play'),h(Kr,'EVENT_PAUS'+'E','pause'),h(Kr,'EVENT_RESU'+'ME','resume'),h(Kr,'EVENT_STOP','stop'),h(Kr,'EVENT_END','end');class cF{constructor(){this['enabled']=!(-0x19dd+0x14dc+0x7*0xb7);}}const d0=['enabled'];class hF extends ct{constructor(_0x25e14a){super(_0x25e14a),this['id']='sound',this['ComponentT'+'ype']=Kr,this['DataType']=cF,this['schema']=d0,this['manager']=_0x25e14a['soundManag'+'er'],w['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x24eb40){this['manager']['volume']=_0x24eb40;}get['volume'](){return this['manager']['volume'];}get['context'](){return Dl()?this['manager']['context']:(w['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x4d2b02,_0x30cddb,_0x281b26){_0x281b26=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x18aa8a=-0x1*-0x1539+0x57*0x48+0xf3b*-0x3;_0x18aa8a<_0x281b26['length'];_0x18aa8a++)_0x30cddb['hasOwnProp'+'erty'](_0x281b26[_0x18aa8a])&&(_0x4d2b02[_0x281b26[_0x18aa8a]]=_0x30cddb[_0x281b26[_0x18aa8a]]);super['initialize'+'ComponentD'+'ata'](_0x4d2b02,_0x30cddb,['enabled']);}['cloneCompo'+'nent'](_0xf689dd,_0x2c5d0c){const _0x2e414f=_0xf689dd['sound'],_0x83d7f8=_0x2e414f['slots'],_0x55a3b5={};for(const _0x26ee64 in _0x83d7f8){const _0x2d456e=_0x83d7f8[_0x26ee64];_0x55a3b5[_0x26ee64]={'name':_0x2d456e['name'],'volume':_0x2d456e['volume'],'pitch':_0x2d456e['pitch'],'loop':_0x2d456e['loop'],'duration':_0x2d456e['duration'],'startTime':_0x2d456e['startTime'],'overlap':_0x2d456e['overlap'],'autoPlay':_0x2d456e['autoPlay'],'asset':_0x2d456e['asset']};}const _0x19af21={'distanceModel':_0x2e414f['distanceMo'+'del'],'enabled':_0x2e414f['enabled'],'maxDistance':_0x2e414f['maxDistanc'+'e'],'pitch':_0x2e414f['pitch'],'positional':_0x2e414f['positional'],'refDistance':_0x2e414f['refDistanc'+'e'],'rollOffFactor':_0x2e414f['rollOffFac'+'tor'],'slots':_0x55a3b5,'volume':_0x2e414f['volume']};return this['addCompone'+'nt'](_0x2c5d0c,_0x19af21);}['onUpdate'](_0x459348){const _0x29a2d6=this['store'];for(const _0x436d35 in _0x29a2d6)if(_0x29a2d6['hasOwnProp'+'erty'](_0x436d35)){const _0x5ad589=_0x29a2d6[_0x436d35]['entity'];if(_0x5ad589['enabled']){const _0x3be45d=_0x5ad589['sound'];if(_0x3be45d['enabled']&&_0x3be45d['positional']){const _0xd4ded5=_0x5ad589['getPositio'+'n'](),_0x413961=_0x3be45d['slots'];for(const _0x3c55ce in _0x413961)_0x413961[_0x3c55ce]['updatePosi'+'tion'](_0xd4ded5);}}}}['onBeforeRe'+'move'](_0x4f3d8d,_0xc6db04){const _0x3425be=_0xc6db04['slots'];for(const _0x41cebc in _0x3425be)_0x3425be[_0x41cebc]['overlap']||_0x3425be[_0x41cebc]['stop']();_0xc6db04['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Kr['prototype'],d0);const lS='simple',cS='animated';class Hi extends me{constructor(_0x1efab9,_0x57e125){super(),h(this,'_evtSetMes'+'hes',null),(this['_component']=_0x1efab9,this['_frame']=-0x71*-0x16+0x98*-0x40+0x11*0x1aa,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x57e125['spriteAsse'+'t'],this['name']=_0x57e125['name'],this['fps']=_0x57e125['fps']||0xaf2*0x1+0x1*-0x25a9+-0x1ab7*-0x1,this['loop']=_0x57e125['loop']||!(0xf2*0x12+-0x16c9+0x5c6),this['_playing']=!(-0xcf7+0x16f4*-0x1+0x23ec),this['_paused']=!(0x1062+-0x14da+0x479),this['_time']=-0x938+0x248+0x6f0*0x1);}get['duration'](){if(this['_sprite']){const _0xb728a4=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0xb728a4);}return-0x5*0x1b2+-0x1fef+0x2869;}set['frame'](_0x162de2){this['_setFrame'](_0x162de2);const _0x31e87c=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x31e87c);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x4bebdb){var _0x393e9c;if(this['_sprite']&&((_0x393e9c=this['_evtSetMes'+'hes'])==null||_0x393e9c['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x4bebdb,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x38ad3d;!_0x4bebdb||!_0x4bebdb['atlas']?(_0x38ad3d=this['_component']['_meshInsta'+'nce'],_0x38ad3d&&(_0x38ad3d['deletePara'+'meter']('texture_em'+'issiveMap'),_0x38ad3d['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x4bebdb['atlas']['texture']&&(_0x38ad3d=this['_component']['_meshInsta'+'nce'],_0x38ad3d&&(_0x38ad3d['setParamet'+'er']('texture_em'+'issiveMap',_0x4bebdb['atlas']['texture']),_0x38ad3d['setParamet'+'er']('texture_op'+'acityMap',_0x4bebdb['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0xfc130d){const _0x36f762=this['_component']['system']['app']['assets'];let _0x4b5b14=_0xfc130d;if(_0xfc130d instanceof pe&&(_0x4b5b14=_0xfc130d['id']),this['_spriteAss'+'et']!==_0x4b5b14){if(this['_spriteAss'+'et']){const _0x3b88cf=_0x36f762['get'](this['_spriteAss'+'et']);_0x3b88cf&&this['_unbindSpr'+'iteAsset'](_0x3b88cf);}if(this['_spriteAss'+'et']=_0x4b5b14,this['_spriteAss'+'et']){const _0x24502b=_0x36f762['get'](this['_spriteAss'+'et']);_0x24502b?this['_bindSprit'+'eAsset'](_0x24502b):(this['sprite']=null,_0x36f762['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x14ac4c){this['_setTime'](_0x14ac4c),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(0x1*0x20de+-0xecd+-0x1210),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=0x1f84+-0x1c*0xfe+-0x3bc;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x44a342){this['_component']['system']['app']['assets']['off']('add:'+_0x44a342['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x44a342['id']&&this['_bindSprit'+'eAsset'](_0x44a342);}['_bindSprit'+'eAsset'](_0x140de8){_0x140de8['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x140de8['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x140de8['resource']?this['_onSpriteA'+'ssetLoad'](_0x140de8):this['_component']['system']['app']['assets']['load'](_0x140de8);}['_unbindSpr'+'iteAsset'](_0x527157){_0x527157&&(_0x527157['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x527157['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x527157['resource']&&!_0x527157['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x527157['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x4d3a65){if(!_0x4d3a65['resource'])this['sprite']=null;else{if(_0x4d3a65['resource']['atlas'])this['sprite']=_0x4d3a65['resource'];else{const _0x5c4495=_0x4d3a65['data']['textureAtl'+'asAsset'],_0x66358b=this['_component']['system']['app']['assets'];_0x66358b['off']('load:'+_0x5c4495,this['_onTexture'+'AtlasLoad'],this),_0x66358b['once']('load:'+_0x5c4495,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x596bfb){const _0x2f5934=this['_spriteAss'+'et'];_0x2f5934 instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x2f5934):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x2f5934));}['_onSpriteA'+'ssetRemove'](_0x321440){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==ci&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x12d996){if(this['fps']===-0x3a5+-0x3*0x84b+0x1c86||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0x1ce2ef=this['fps']<-0x1*0x16ab+0x2c*0x3a+0xcb3?-(0x25bb+0xea4+-0x345e):-0x8db+0xc27+0x3*-0x119,_0x5bf12d=this['_time']+_0x12d996*this['_component']['speed']*_0x1ce2ef,_0x2b788e=this['duration'],_0x53f8fb=_0x5bf12d>_0x2b788e||_0x5bf12d<0xf9*0x1f+0x17*-0x191+0x5e0;this['_setTime'](_0x5bf12d);let _0x8949eb=this['frame'];this['_sprite']?_0x8949eb=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0x2b788e):_0x8949eb=0x7e4*0x2+-0x1*-0x711+-0x16d9,_0x8949eb!==this['_frame']&&this['_setFrame'](_0x8949eb),_0x53f8fb&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(0x1be9+0xeb7*0x2+-0x3956),this['_paused']=!(0x2*-0x1ff+0x223b+-0x3*0xa14),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x3776a4){this['_time']=_0x3776a4;const _0x1d4ed7=this['duration'];this['_time']<-0x1e29*0x1+0xb63+0x12c6?this['loop']?this['_time']=this['_time']%_0x1d4ed7+_0x1d4ed7:this['_time']=-0x2c*0x6f+0x6c3*0x4+-0x22*0x3c:this['_time']>_0x1d4ed7&&(this['loop']?this['_time']%=_0x1d4ed7:this['_time']=_0x1d4ed7);}['_setFrame'](_0x8715e2){this['_sprite']?this['_frame']=Y['clamp'](_0x8715e2,0xa5+-0x224a+0x21*0x105,this['_sprite']['frameKeys']['length']-(0x1b3e*-0x1+-0x1*0xfc+0x1c3b)):this['_frame']=_0x8715e2,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x2427ce=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x2427ce['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(0x1e4c+0x87b+-0x26c7),this['_paused']=!(0x250b+-0x24e1+0x29*-0x1),this['frame']=0x1afb+-0x9d0+-0x112b,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(-0xc9c+-0x143*-0x1b+-0x1575),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(-0x4e0*-0x1+0xa4c*0x2+-0x1977),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(-0x1eec+0x23f1*0x1+-0x3*0x1ac),this['_paused']=!(-0x2372+-0x25*-0x10b+0x6*-0x86),this['_time']=-0x3*-0xcf2+-0x704+-0x1fd2,this['frame']=-0x1179+0x19bc+-0x1a7*0x5,this['fire']('stop'),this['_component']['fire']('stop',this));}}h(Hi,'EVENT_PLAY','play'),h(Hi,'EVENT_PAUS'+'E','pause'),h(Hi,'EVENT_RESU'+'ME','resume'),h(Hi,'EVENT_STOP','stop'),h(Hi,'EVENT_END','end'),h(Hi,'EVENT_LOOP','loop');const hS='texture_em'+'issiveMap',dS='texture_op'+'acityMap',fS='material_e'+'missive',uS='material_o'+'pacity',dF='innerOffse'+'t',fF='outerScale',uF='atlasRect';class ur extends we{constructor(_0x316623,_0x4a9aed){super(_0x316623,_0x4a9aed),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_type']=lS,this['_material']=_0x316623['defaultMat'+'erial'],this['_color']=new ie(-0x1*0x256e+0x1*-0xe8f+0x33fe,0x2f2*-0x5+-0x20f1+0x2fac,0x7ad*0x1+-0x15*-0x18f+-0x2867,0x36e+0x25c+-0x5c9),this['_colorUnif'+'orm']=new Float32Array(0x251a+-0x2e1*-0x8+-0x3c1f),this['_speed']=0x2456+0x1cf9+-0x414e,this['_flipX']=!(0x1fc9+-0x21e7+0x21f),this['_flipY']=!(-0xe1a+0x30d*0x1+0xb0e),this['_width']=0x28*0x6+-0x21a1+0x20b2,this['_height']=0x1*-0xed7+-0x67*-0x59+0x14f7*-0x1,this['_drawOrder']=-0x6c0+-0x1*0x1319+0x1*0x19d9,this['_layers']=[er],this['_outerScal'+'e']=new J(0x1*0x2312+-0xb*-0x1d7+0x1*-0x374e,-0x1af*-0x3+-0x9*-0x174+-0x1220),this['_outerScal'+'eUniform']=new Float32Array(-0x67f+-0xa*-0x301+-0x5*0x4b5),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(0x1ce1+0x4e2*0x8+0x1*-0x43ed),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(-0x1*0x1947+-0xbdb+0x2526),this['_batchGrou'+'pId']=-(0x3*0xbcb+0x19ec+-0x2*0x1ea6),this['_batchGrou'+'p']=null,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0x4a9aed['addChild'](this['_model']['graph']),this['_model']['_entity']=_0x4a9aed,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(-0xc1+-0xb7*0x1d+0x157d),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new Hi(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(-0x8c3*0x3+-0x1*-0x22f9+-0x8af),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0x112606){this['_type']!==_0x112606&&(this['_type']=_0x112606,this['_type']===lS?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===cS&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0x27d679){this['_currentCl'+'ip']['frame']=_0x27d679;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x153e3f){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x153e3f;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x1328ba){this['_currentCl'+'ip']['sprite']=_0x1328ba;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x45567a){this['_material']=_0x45567a,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x45567a);}get['material'](){return this['_material'];}set['color'](_0x4d7477){this['_color']['r']=_0x4d7477['r'],this['_color']['g']=_0x4d7477['g'],this['_color']['b']=_0x4d7477['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][-0x107c+-0x156d+-0x795*-0x5]=this['_color']['r'],this['_colorUnif'+'orm'][0x4c*0x23+-0x1b35*0x1+0x2*0x869]=this['_color']['g'],this['_colorUnif'+'orm'][-0x3*-0x131+0x1568+0x1*-0x18f9]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x362e83){this['_color']['a']=_0x362e83,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](uS,_0x362e83);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x2ac2e7){if(!_0x2ac2e7){for(const _0xf5710c in this['_clips'])this['removeClip'](_0xf5710c);return;}for(const _0x33e2c2 in this['_clips']){let _0x337963=!(-0x1*-0xfaa+-0x42c+-0xb7d*0x1);for(const _0xa005b6 in _0x2ac2e7)if(_0x2ac2e7[_0xa005b6]['name']===_0x33e2c2){_0x337963=!(-0x1d5*0xb+0x2*-0xf7f+0x3325),this['_clips'][_0x33e2c2]['fps']=_0x2ac2e7[_0xa005b6]['fps'],this['_clips'][_0x33e2c2]['loop']=_0x2ac2e7[_0xa005b6]['loop'],_0x2ac2e7[_0xa005b6]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0x33e2c2]['sprite']=_0x2ac2e7[_0xa005b6]['sprite']:_0x2ac2e7[_0xa005b6]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0x33e2c2]['spriteAsse'+'t']=_0x2ac2e7[_0xa005b6]['spriteAsse'+'t']);break;}_0x337963||this['removeClip'](_0x33e2c2);}for(const _0x2be09a in _0x2ac2e7)this['_clips'][_0x2ac2e7[_0x2be09a]['name']]||this['addClip'](_0x2ac2e7[_0x2be09a]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0x90ab53){this['_speed']=_0x90ab53;}get['speed'](){return this['_speed'];}set['flipX'](_0x4521c6){this['_flipX']!==_0x4521c6&&(this['_flipX']=_0x4521c6,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x2eefd8){this['_flipY']!==_0x2eefd8&&(this['_flipY']=_0x2eefd8,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x1e56ab){_0x1e56ab!==this['_width']&&(this['_width']=_0x1e56ab,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x2989fc){_0x2989fc!==this['_height']&&(this['_height']=_0x2989fc,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0x2d682f){var _0x37dca1,_0x3d79a9;if(this['_batchGrou'+'pId']===_0x2d682f)return;const _0x45ac39=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0x2d682f,this['entity']['enabled']&&_0x45ac39>=-0xa*0x46+-0x1*-0x778+-0x4bc&&((_0x37dca1=this['system']['app']['batcher'])==null||_0x37dca1['remove'](St['SPRITE'],_0x45ac39,this['entity'])),this['entity']['enabled']&&_0x2d682f>=-0x45*-0x85+0x1e2a+-0x4203?(_0x3d79a9=this['system']['app']['batcher'])==null||_0x3d79a9['insert'](St['SPRITE'],_0x2d682f,this['entity']):_0x45ac39>=0x1423+0x180a+0x2c2d*-0x1&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x4f5790){this['_autoPlayC'+'lip']=_0x4f5790 instanceof Hi?_0x4f5790['name']:_0x4f5790,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x16ffff){this['_drawOrder']=_0x16ffff,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x16ffff);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x3b2386){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x3b2386,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x2359e7;const _0x3281be=this['system']['app'],_0xcbd871=_0x3281be['scene'],_0x2cdfda=_0xcbd871['layers'];this['_evtLayers'+'Changed']=_0xcbd871['on']('set:layers',this['_onLayersC'+'hanged'],this),_0x2cdfda&&(this['_evtLayerA'+'dded']=_0x2cdfda['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0x2cdfda['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=0xb8f+0x25*0x3d+-0x1460&&((_0x2359e7=_0x3281be['batcher'])==null||_0x2359e7['insert'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x2bb9ea,_0xc5a736,_0x230639,_0x1ece6f;const _0x4e2519=this['system']['app'],_0x7ab967=_0x4e2519['scene']['layers'];(_0x2bb9ea=this['_evtLayers'+'Changed'])==null||_0x2bb9ea['off'](),this['_evtLayers'+'Changed']=null,_0x7ab967&&((_0xc5a736=this['_evtLayerA'+'dded'])==null||_0xc5a736['off'](),this['_evtLayerA'+'dded']=null,(_0x230639=this['_evtLayerR'+'emoved'])==null||_0x230639['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=-0x1c1f+-0x11b3+0x2dd2&&((_0x1ece6f=_0x4e2519['batcher'])==null||_0x1ece6f['remove'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x8f207c;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0x2c007e in this['_clips'])this['_clips'][_0x2c007e]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x8f207c=this['_node'])==null||_0x8f207c['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x3900b9=[this['_meshInsta'+'nce']];for(let _0x267b46=0x2494+0x240e+0x6*-0xc1b,_0x292338=this['_layers']['length'];_0x267b46<_0x292338;_0x267b46++){const _0x54026a=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x267b46]);_0x54026a&&_0x54026a['addMeshIns'+'tances'](_0x3900b9);}this['_addedMode'+'l']=!(-0x136+0x22d0+-0x219a);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x42608e=[this['_meshInsta'+'nce']];for(let _0x5b9d8=-0x1f37*0x1+0x1290+0xca7,_0x15c215=this['_layers']['length'];_0x5b9d8<_0x15c215;_0x5b9d8++){const _0x38e044=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x5b9d8]);_0x38e044&&_0x38e044['removeMesh'+'Instances'](_0x42608e);}this['_addedMode'+'l']=!(-0x2*0x9e3+-0x90a+-0x1*-0x1cd1);}['_showFrame'](_0x55f938){if(!this['sprite'])return;const _0x1770b7=this['sprite']['meshes'][_0x55f938];if(!_0x1770b7){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(0x9e3+-0x25df+-0x1*-0x1bfd));return;}let _0x347304;if(this['sprite']['renderMode']===Pt?_0x347304=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Mt?_0x347304=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x347304=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new He(_0x1770b7,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(-0x58*-0x2+-0x409*-0x9+-0x2500),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(0x6a1*0x1+-0x24c+0x1*-0x454),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][0xab2+-0x7*-0x42a+-0x27d8]=this['_color']['r'],this['_colorUnif'+'orm'][0x15e0+0x1c55+0x33*-0xfc]=this['_color']['g'],this['_colorUnif'+'orm'][-0x1d*-0x93+0x1323+-0x5*0x728]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](uS,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x347304&&(this['_meshInsta'+'nce']['material']=_0x347304),this['_meshInsta'+'nce']['mesh']!==_0x1770b7&&(this['_meshInsta'+'nce']['mesh']=_0x1770b7,this['_meshInsta'+'nce']['visible']=!(-0x2*0xaf1+0x182*0x8+0x9d2),this['_meshInsta'+'nce']['_aabbVer']=-(0x26a7+-0x2450+-0x12b*0x2)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](hS,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](dS,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](hS),this['_meshInsta'+'nce']['deletePara'+'meter'](dS)),this['sprite']['atlas']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x162497=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x55f938]];if(_0x162497){const _0x100ea9=(-0x1*0x10d+0x1bb3+-0x1aa4)/_0x162497['rect']['z'],_0xe08d0f=(-0x2*0xc5d+-0x1*0xe7d+0x2739)/_0x162497['rect']['w'];this['_innerOffs'+'et']['set'](_0x162497['border']['x']*_0x100ea9,_0x162497['border']['y']*_0xe08d0f,_0x162497['border']['z']*_0x100ea9,_0x162497['border']['w']*_0xe08d0f);const _0x5a6d63=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x162497['rect']['x']/_0x5a6d63['width'],_0x162497['rect']['y']/_0x5a6d63['height'],_0x162497['rect']['z']/_0x5a6d63['width'],_0x162497['rect']['w']/_0x5a6d63['height']);}else this['_innerOffs'+'et']['set'](-0x229b+-0x7e7*0x4+-0x43*-0xfd,-0x4a*-0x29+-0x698*0x1+0x1*-0x542,0x484*-0x1+0x2573*-0x1+0x29f7*0x1,-0x196d+-0x1a3*0xd+0xf4*0x31);this['_innerOffs'+'etUniform'][-0x5b7+0x2ec*0x2+-0x21]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x147+0x3*0x1dd+-0x44f]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0xe40+-0x3fb*-0x2+-0x326*-0x2]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0xc8*-0x20+-0x7*0x443+0x36d8]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](dF,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0x1b62+-0x62*0x3d+0x3*-0x158]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0xd72+0x26a4+-0x1*0x1931]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x2*-0x8c3+-0x56a+-0xb79*-0x2]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x2*-0xefd+0x3*-0x2f1+-0x1524]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](uF,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x1c7b29=this['flipX']?-(-0x3cb+0x2*-0xd75+0x1eb6):0x1*-0xf17+-0x1bd+0x8b*0x1f,_0x4cc2d9=this['flipY']?-(0x6*-0x1cd+0x105*-0x22+0x2d79):-0x1e38+0x583+0x1*0x18b6,_0xae4f1f=0x5e*-0x9+0x23e5+-0x9*0x39f,_0x56e633=0x178f+-0x16f7*-0x1+-0x2e86;if(this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){let _0x420d29=-0x1*0x1da5+-0x15ea+0x370*0xf,_0x34a6a0=0x33*-0x5e+0x810+-0x1*-0xaab;if(this['sprite']['atlas']){const _0x1f2c50=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x1f2c50&&(_0x420d29=_0x1f2c50['rect']['z'],_0x34a6a0=_0x1f2c50['rect']['w'],_0xae4f1f=(0x232b+0x181d+-0x10f*0x38+0.5-_0x1f2c50['pivot']['x'])*this['_width'],_0x56e633=(-0x15ef+0x58*-0x4+0x174f+0.5-_0x1f2c50['pivot']['y'])*this['_height']);}const _0x4e3122=_0x420d29/this['sprite']['pixelsPerU'+'nit'],_0xe65bdf=_0x34a6a0/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0x4e3122),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0xe65bdf)),_0x1c7b29*=_0x4e3122,_0x4cc2d9*=_0xe65bdf,this['_outerScal'+'e']['x']/=_0x4e3122,this['_outerScal'+'e']['y']/=_0xe65bdf,_0x1c7b29*=Y['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0x4e3122),-0x1996+-0xb51*-0x1+0x1*0xe45+0.0001,-0x11f0+0x3*0x841+-0x1*0x6d2),_0x4cc2d9*=Y['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0xe65bdf),-0x91f*0x2+0x25a7+0x1369*-0x1+0.0001,-0x14d5+-0x7ce+0x1a*0x11a),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][-0x86*-0x31+0xdbd*0x1+-0xd21*0x3]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x10fb+-0x26da+-0x14*-0x118]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](fF,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x1c7b29,_0x4cc2d9,-0xa93*-0x1+0x2244+0x779*-0x6),this['_node']['setLocalPo'+'sition'](_0xae4f1f,_0x56e633,0x1919+0x2*0xeef+-0x36f7*0x1);}['_updateAab'+'b'](_0x35bbb2){return _0x35bbb2['center']['set'](0x1ef3+-0x1577+-0x97c,0x1ab3+-0x2e*-0x40+-0x2633*0x1,0x163d+-0x6ff+0x2*-0x79f),_0x35bbb2['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0x1505+-0x24d9+0xfd4+0.5),this['_outerScal'+'e']['y']*(-0x1ae1+0xd8e*-0x1+-0x286f*-0x1+0.5),-0x2*-0xa54+-0x1402+-0xa6+0.001),_0x35bbb2['setFromTra'+'nsformedAa'+'bb'](_0x35bbb2,this['_node']['getWorldTr'+'ansform']()),_0x35bbb2;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==cS)return;const _0x1671a0=this['_clips'][this['_autoPlayC'+'lip']];_0x1671a0&&!_0x1671a0['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x1671a0['name']);}['_onLayersC'+'hanged'](_0x438a24,_0x48c9a3){_0x438a24['off']('add',this['onLayerAdd'+'ed'],this),_0x438a24['off']('remove',this['onLayerRem'+'oved'],this),_0x48c9a3['on']('add',this['onLayerAdd'+'ed'],this),_0x48c9a3['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x1501e9){this['layers']['indexOf'](_0x1501e9['id'])<-0x103a+-0x67*0x57+0x3d*0xd7||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x1501e9['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0x2d41ca){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0x2d41ca['id'])<-0x270f+-0x247+-0x1*-0x2956||_0x2d41ca['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0x4b2860=-0x2709+-0x715+0x2e1e*0x1;_0x4b2860<this['layers']['length'];_0x4b2860++){const _0x5bddff=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x4b2860]);_0x5bddff&&_0x5bddff['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x44917f){const _0x37877f=new Hi(this,{'name':_0x44917f['name'],'fps':_0x44917f['fps'],'loop':_0x44917f['loop'],'spriteAsset':_0x44917f['spriteAsse'+'t']});return this['_clips'][_0x44917f['name']]=_0x37877f,_0x37877f['name']&&_0x37877f['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0x37877f;}['removeClip'](_0x5c0b5d){delete this['_clips'][_0x5c0b5d];}['clip'](_0x4e8fe5){return this['_clips'][_0x4e8fe5];}['play'](_0x5b165d){const _0x2c0465=this['_clips'][_0x5b165d],_0x40fa91=this['_currentCl'+'ip'];return _0x40fa91&&_0x40fa91!==_0x2c0465&&(_0x40fa91['_playing']=!(-0x1394+0x24ea+-0x1155)),this['_currentCl'+'ip']=_0x2c0465,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x2c0465,this['_currentCl'+'ip']['play']()):w['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0x5b165d+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x2c0465;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}h(ur,'EVENT_PLAY','play'),h(ur,'EVENT_PAUS'+'E','pause'),h(ur,'EVENT_RESU'+'ME','resume'),h(ur,'EVENT_STOP','stop'),h(ur,'EVENT_END','end'),h(ur,'EVENT_LOOP','loop');class pF{constructor(){this['enabled']=!(-0x747+-0x1ad1+-0x4*-0x886);}}const f0=['enabled'];class mF extends ct{constructor(_0x34a28a){super(_0x34a28a),this['id']='sprite',this['ComponentT'+'ype']=ur,this['DataType']=pF,this['schema']=f0,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x38c162){this['_defaultMa'+'terial']=_0x38c162;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x26a47b=new _e(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'sprite'}),_0x18dcc0=new Uint8Array(_0x26a47b['lock']());_0x18dcc0[-0x1da9*0x1+0x61*0x61+-0x718]=_0x18dcc0[-0xd6f+-0x42e+0x1*0x119e]=_0x18dcc0[0xefb+0xfd7*-0x1+-0x4a*-0x3]=_0x18dcc0[0x18f0+0x1*-0x198c+0x3*0x35]=0x18e5+-0x18e*-0xa+-0x2772,_0x26a47b['unlock']();const _0x18885f=new Ut();_0x18885f['diffuse']['set'](-0x46e+0x10*0x157+-0x1102,0x625+-0x17*0x15d+0x1936,-0x1f2f+-0x2*0x3c5+0x1af*0x17),_0x18885f['emissive']['set'](-0x1aa3*-0x1+0x20b9+-0x3b5b,0x1ed1+0x59*-0x33+0x1*-0xd15,-0xd9*0x25+0x4*0x1da+0x17f6),_0x18885f['emissiveMa'+'p']=_0x26a47b,_0x18885f['opacityMap']=_0x26a47b,_0x18885f['opacityMap'+'Channel']='a',_0x18885f['useLightin'+'g']=!(-0x33e*0x9+-0x7b8+0x24e7),_0x18885f['useTonemap']=!(0x1654*0x1+-0xbbd*-0x1+-0x2210),_0x18885f['useFog']=!(0x25ab+0x1*-0x60d+-0x1f9d),_0x18885f['useSkybox']=!(-0xa3e+0x120a+-0x7cb),_0x18885f['blendType']=Gn,_0x18885f['depthWrite']=!(0x2*0xc14+-0x1fa2*-0x1+-0x37c9),_0x18885f['pixelSnap']=!(0x1669+-0x45*-0x3+-0x1737),_0x18885f['cull']=bt,_0x18885f['update'](),this['_defaultTe'+'xture']=_0x26a47b,this['_defaultMa'+'terial']=_0x18885f;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x4e2624){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x4e2624;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x20bffd=this['defaultMat'+'erial']['clone']();_0x20bffd['nineSliced'+'Mode']=Pt,_0x20bffd['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x20bffd;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x5ad15b){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x5ad15b;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x3e1589=this['defaultMat'+'erial']['clone']();_0x3e1589['nineSliced'+'Mode']=Mt,_0x3e1589['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x3e1589;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x5399e9,_0x3f85f4,_0x5c3f20){if(_0x3f85f4['enabled']!==void(0x59*-0x4a+0x2*0x217+0x158c)&&(_0x5399e9['enabled']=_0x3f85f4['enabled']),_0x5399e9['type']=_0x3f85f4['type'],_0x3f85f4['layers']&&Array['isArray'](_0x3f85f4['layers'])&&(_0x5399e9['layers']=_0x3f85f4['layers']['slice'](-0x3f*0x2d+-0x1d*-0x24+0x9*0xc7)),_0x3f85f4['drawOrder']!==void(0x765+-0x255a+0x1df5)&&(_0x5399e9['drawOrder']=_0x3f85f4['drawOrder']),_0x3f85f4['color']!==void(-0x1*0x18fd+0xc87*-0x1+-0x1c*-0x157)&&(_0x3f85f4['color']instanceof ie?_0x5399e9['color']['set'](_0x3f85f4['color']['r'],_0x3f85f4['color']['g'],_0x3f85f4['color']['b'],_0x3f85f4['opacity']??-0x106a*-0x2+0x1*-0x2637+0x564):_0x5399e9['color']['set'](_0x3f85f4['color'][0x3d*0x6b+0x1404+0x1*-0x2d83],_0x3f85f4['color'][0x33*0xb7+0x19bc+-0x3e30],_0x3f85f4['color'][-0x6*-0x347+-0x3*0xb99+-0x5*-0x307],_0x3f85f4['opacity']??0x4*0x773+-0x235e+0x593),_0x5399e9['color']=_0x5399e9['color']),_0x3f85f4['opacity']!==void(0x1*0x1832+-0xa66+0x4*-0x373)&&(_0x5399e9['opacity']=_0x3f85f4['opacity']),_0x3f85f4['flipX']!==void(0x2*-0x1273+-0x2233*0x1+0x3*0x17b3)&&(_0x5399e9['flipX']=_0x3f85f4['flipX']),_0x3f85f4['flipY']!==void(0xe*-0x15b+-0xade*0x1+0x1dd8)&&(_0x5399e9['flipY']=_0x3f85f4['flipY']),_0x3f85f4['width']!==void(0x181+0x2400+-0x2581)&&(_0x5399e9['width']=_0x3f85f4['width']),_0x3f85f4['height']!==void(-0x1*-0x190d+-0x11b5+-0x758)&&(_0x5399e9['height']=_0x3f85f4['height']),_0x3f85f4['spriteAsse'+'t']!==void(0x254b+-0x11c*-0x1a+0x1*-0x4223)&&(_0x5399e9['spriteAsse'+'t']=_0x3f85f4['spriteAsse'+'t']),_0x3f85f4['sprite']&&(_0x5399e9['sprite']=_0x3f85f4['sprite']),_0x3f85f4['frame']!==void(-0xdbb+0xdbb+0x0)&&(_0x5399e9['frame']=_0x3f85f4['frame']),_0x3f85f4['clips']){for(const _0x1630bc in _0x3f85f4['clips'])_0x5399e9['addClip'](_0x3f85f4['clips'][_0x1630bc]);}_0x3f85f4['speed']!==void(-0x1923+0x1b1a+-0x1*0x1f7)&&(_0x5399e9['speed']=_0x3f85f4['speed']),_0x3f85f4['autoPlayCl'+'ip']&&(_0x5399e9['autoPlayCl'+'ip']=_0x3f85f4['autoPlayCl'+'ip']),_0x5399e9['batchGroup'+'Id']=_0x3f85f4['batchGroup'+'Id']===void(0x1292*0x1+0x2f0+-0x1582)||_0x3f85f4['batchGroup'+'Id']===null?-(-0xad*0x2a+-0x94*-0x37+0x3*-0x123):_0x3f85f4['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x5399e9,_0x3f85f4,_0x5c3f20);}['cloneCompo'+'nent'](_0x4c606d,_0x272328){const _0x269aab=_0x4c606d['sprite'];return this['addCompone'+'nt'](_0x272328,{'enabled':_0x269aab['enabled'],'type':_0x269aab['type'],'spriteAsset':_0x269aab['spriteAsse'+'t'],'sprite':_0x269aab['sprite'],'width':_0x269aab['width'],'height':_0x269aab['height'],'frame':_0x269aab['frame'],'color':_0x269aab['color']['clone'](),'opacity':_0x269aab['opacity'],'flipX':_0x269aab['flipX'],'flipY':_0x269aab['flipY'],'speed':_0x269aab['speed'],'clips':_0x269aab['clips'],'autoPlayClip':_0x269aab['autoPlayCl'+'ip'],'batchGroupId':_0x269aab['batchGroup'+'Id'],'drawOrder':_0x269aab['drawOrder'],'layers':_0x269aab['layers']['slice'](-0xaac+-0x1*-0xe7a+-0x3ce*0x1)});}['onUpdate'](_0x1905d1){const _0x5b1597=this['store'];for(const _0x25f4a7 in _0x5b1597)if(_0x5b1597['hasOwnProp'+'erty'](_0x25f4a7)){const _0x2e4070=_0x5b1597[_0x25f4a7];if(_0x2e4070['data']['enabled']&&_0x2e4070['entity']['enabled']){const _0x4f5c9f=_0x2e4070['entity']['sprite'];_0x4f5c9f['_currentCl'+'ip']&&_0x4f5c9f['_currentCl'+'ip']['_update'](_0x1905d1);}}}['onBeforeRe'+'move'](_0x25df8e,_0x4ec265){_0x4ec265['onDestroy']();}}we['_buildAcce'+'ssors'](ur['prototype'],f0);class _n extends we{constructor(_0x5f1cc5,_0x274822){super(_0x5f1cc5,_0x274822),this['_oldState']=!(0x2411+0x1186*0x1+-0x1*0x3597),this['_size']=new D(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0x5c8f04){_0x5c8f04 instanceof D?this['_size']['copy'](_0x5c8f04):_0x5c8f04 instanceof Array&&_0x5c8f04['length']>=0x125b*-0x2+-0x1*-0x2356+-0x5*-0x47&&this['size']['set'](_0x5c8f04[-0x5*-0x6b6+-0x133*-0x3+-0x2527],_0x5c8f04[-0x25d1+-0x2412+-0x2*-0x24f2],_0x5c8f04[0x472*-0x1+0x573+-0x11*0xf]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x5e8a59,_0x490818,_0x37ddd8){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x179bba=this['enabled']&&this['entity']['enabled'];_0x179bba!==this['_oldState']&&(this['_oldState']=_0x179bba,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}h(_n,'EVENT_ENAB'+'LE','enable'),h(_n,'EVENT_DISA'+'BLE','disable'),h(_n,'EVENT_STAT'+'E','state'),h(_n,'EVENT_REMO'+'VE','remove');class _F{constructor(){this['enabled']=!(-0xce6*-0x1+0x22d6+-0x3ac*0xd);}}const u0=['enabled'];class gF extends ct{constructor(_0x2a7083){super(_0x2a7083),this['id']='zone',this['ComponentT'+'ype']=_n,this['DataType']=_F,this['schema']=u0,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x576221,_0x59dddc,_0x11ab85){_0x576221['enabled']=_0x59dddc['hasOwnProp'+'erty']('enabled')?!!_0x59dddc['enabled']:!(-0x4f*-0x7+-0x2*-0xe8f+-0x1f47),_0x59dddc['size']&&(_0x59dddc['size']instanceof D?_0x576221['size']['copy'](_0x59dddc['size']):_0x59dddc['size']instanceof Array&&_0x59dddc['size']['length']>=-0x7f1*0x1+0x15ad*0x1+-0x493*0x3&&_0x576221['size']['set'](_0x59dddc['size'][-0x3*-0xb5a+-0x14aa+-0xd64],_0x59dddc['size'][0xab1*-0x2+0x1b0a+-0x5a7],_0x59dddc['size'][0x114e+0x28+-0x8ba*0x2]));}['cloneCompo'+'nent'](_0x58f081,_0x168fdf){const _0x3f76e6={'enabled':_0x58f081['zone']['enabled'],'size':_0x58f081['zone']['size']};return this['addCompone'+'nt'](_0x168fdf,_0x3f76e6);}['_onBeforeR'+'emove'](_0x220450,_0x525ecb){_0x525ecb['_onBeforeR'+'emove']();}}we['_buildAcce'+'ssors'](_n['prototype'],u0);class SF{constructor(_0x103bbe,_0xf8fb75){this['effect']=_0x103bbe,this['inputTarge'+'t']=_0xf8fb75,this['outputTarg'+'et']=null,this['name']=_0x103bbe['constructo'+'r']['name'];}}class yF{constructor(_0x135238,_0xa0249){this['app']=_0x135238,this['camera']=_0xa0249,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(0x1a37+0xe36*0x1+-0x286c),this['depthTarge'+'t']=null,_0xa0249['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x50a215,_0x36dc43){const _0x32622d=this['camera']['rect'],_0x21daca=this['destinatio'+'nRenderTar'+'get'],_0x64dcf8=this['app']['graphicsDe'+'vice'],_0x85e76f=Math['floor'](_0x32622d['z']*((_0x21daca==null?void(0xac1*0x1+0xba3*0x2+-0x2207):_0x21daca['width'])??_0x64dcf8['width'])),_0x3da98e=Math['floor'](_0x32622d['w']*((_0x21daca==null?void(0x1*-0x657+-0x2184+0x27db*0x1):_0x21daca['height'])??_0x64dcf8['height']));return new _e(_0x64dcf8,{'name':_0x36dc43,'format':_0x50a215,'width':_0x85e76f,'height':_0x3da98e,'mipmaps':!(0xc57+-0x19e7+0xd91),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});}['_createOff'+'screenTarg'+'et'](_0x13c02d,_0x44800d){const _0xe7651b=this['app']['graphicsDe'+'vice'],_0x50d315=(this['destinatio'+'nRenderTar'+'get']??_0xe7651b['backBuffer'])['isColorBuf'+'ferSrgb'](0x1bf+-0x52*0x23+0x977),_0x2cbf92=(_0x44800d&&_0xe7651b['getRendera'+'bleHdrForm'+'at']([nt,Xt],!(0x2ed+-0xeb5*-0x1+-0x11a2)))??(_0x50d315?_s:Ne),_0x3641da=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x5b22a7=this['_allocateC'+'olorBuffer'](_0x2cbf92,_0x3641da);return new gt({'colorBuffer':_0x5b22a7,'depth':_0x13c02d,'stencil':_0x13c02d&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0x13c02d?_0xe7651b['samples']:-0xc12+-0x1564+0x1*0x2177});}['_resizeOff'+'screenTarg'+'et'](_0x1259ff){const _0x33bfb4=_0x1259ff['colorBuffe'+'r']['format'],_0x3ea845=_0x1259ff['colorBuffe'+'r']['name'];_0x1259ff['destroyFra'+'meBuffers'](),_0x1259ff['destroyTex'+'tureBuffer'+'s'](),_0x1259ff['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x33bfb4,_0x3ea845),_0x1259ff['_colorBuff'+'ers']=[_0x1259ff['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x294a86){_0x294a86['destroyTex'+'tureBuffer'+'s'](),_0x294a86['destroy']();}['addEffect'](_0x99bd17){const _0x36c73d=this['effects'],_0x156620=_0x36c73d['length']===0x1d19+-0x1988+0x391*-0x1,_0x4c27fc=this['_createOff'+'screenTarg'+'et'](_0x156620,_0x99bd17['hdr']),_0x107a67=new SF(_0x99bd17,_0x4c27fc);_0x36c73d['push'](_0x107a67),this['_sourceTar'+'get']=_0x107a67['inputTarge'+'t'],_0x36c73d['length']>-0x62+-0x1*-0xc41+-0x1f*0x62&&(_0x36c73d[_0x36c73d['length']-(-0x82e*0x1+-0x19c2+0x21f2)]['outputTarg'+'et']=_0x107a67['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x99bd17,_0x99bd17['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(-0x4e7*0x2+-0xedd+0x18ab);}['removeEffe'+'ct'](_0x267e10){let _0x178a32=-(-0x3f4+0x417*0x6+0xb*-0x1df);for(let _0x246f5c=0x96a+0x1*-0xadb+0x7b*0x3,_0x166208=this['effects']['length'];_0x246f5c<_0x166208;_0x246f5c++)if(this['effects'][_0x246f5c]['effect']===_0x267e10){_0x178a32=_0x246f5c;break;}_0x178a32>=-0x1*0x6b6+0x196b+-0x12b5&&(_0x178a32>-0x16e+-0x1ea9+0x2017?this['effects'][_0x178a32-(0x1708+0xcbe+-0x23c5*0x1)]['outputTarg'+'et']=_0x178a32+(-0x168c+-0x1*0xcb3+0x8d*0x40)<this['effects']['length']?this['effects'][_0x178a32+(-0x62b*0x1+-0x1206+-0x26*-0xa3)]['inputTarge'+'t']:null:this['effects']['length']>0xd21*0x2+-0x189f+-0x1a2&&(this['effects'][-0x1361+-0x1d20+0x3082]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][-0x2*0xd21+0xe15+-0x2*-0x617]['inputTarge'+'t']),this['effects'][-0x22*0x2c+-0x14c7+0x1aa0]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(0xb49+0x27b*-0x2+-0x653),this['effects'][0x25b2*-0x1+-0xbc1+0x3174]['hdr']),this['_sourceTar'+'get']=this['effects'][0x2*0x397+-0x1aa6+0x1379]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][-0xb*0x10d+-0x20*-0xad+0x170*-0x7]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x178a32]['inputTarge'+'t']),this['effects']['splice'](_0x178a32,0x1380+-0x8e1+0x54f*-0x2)),this['enabled']&&_0x267e10['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===-0xc21+0x17a5*-0x1+-0x2*-0x11e3&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x5a1060=-0x549+0x205b+0x906*-0x3,_0x2c60c3=this['effects']['length'];_0x5a1060<_0x2c60c3;_0x5a1060++){const _0x88be0d=this['effects'][_0x5a1060]['effect'];this['_newPostEf'+'fect']!==_0x88be0d&&_0x88be0d['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x15d771=0x39*-0x71+0x9*-0x209+0x2b7a,_0x3cb632=this['effects']['length'];_0x15d771<_0x3cb632;_0x15d771++)this['effects'][_0x15d771]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x4522c9=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x4522c9&&(_0x4522c9['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x20a4+-0x6*0x276+-0x11e0)));}['_releaseDe'+'pthMap'](){const _0x36f28a=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x36f28a&&(_0x36f28a['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(-0xc61+0x182e+0x1*-0xbcc)));}['destroy'](){for(let _0xf34694=-0x49*0x52+-0xc81+0x23e3*0x1,_0x4a4ac5=this['effects']['length'];_0xf34694<_0x4a4ac5;_0xf34694++)this['effects'][_0xf34694]['inputTarge'+'t']['destroy']();this['effects']['length']=0x34*-0x5e+0x3*-0x923+0x94d*0x5,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(-0x52+0x1d98+-0x9c2*0x3),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][-0x1*0xcb9+0x2658+-0x199f]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x594811=null;const _0x3c7d1e=this['effects']['length'];if(_0x3c7d1e)for(let _0x23b0ca=-0x866*0x2+-0x1741+-0x1*-0x280d;_0x23b0ca<_0x3c7d1e;_0x23b0ca++){const _0x40f19b=this['effects'][_0x23b0ca];let _0x3a70f4=_0x40f19b['outputTarg'+'et'];_0x23b0ca===_0x3c7d1e-(0x1708+0x1*0xa94+-0x219b)&&(_0x594811=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x3a70f4=this['destinatio'+'nRenderTar'+'get'])),Q['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0x40f19b['name']),_0x40f19b['effect']['render'](_0x40f19b['inputTarge'+'t'],_0x3a70f4,_0x594811),Q['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(0x26c*-0xf+0x2*-0x2af+0x1*0x29b3),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x4fff5d,_0x4b517e){const _0xa42cad=this['camera']['rect'],_0x4dfd4d=this['destinatio'+'nRenderTar'+'get'];_0x4fff5d=(_0x4dfd4d==null?void(-0x1*-0x190b+0xf7d+-0x2888):_0x4dfd4d['width'])??_0x4fff5d,_0x4b517e=(_0x4dfd4d==null?void(-0x13*-0x3+-0x19*-0x142+-0x1fab):_0x4dfd4d['height'])??_0x4b517e,this['camera']['camera']['aspectRati'+'o']=_0x4fff5d*_0xa42cad['z']/(_0x4b517e*_0xa42cad['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x2b3bd2=this['app']['graphicsDe'+'vice'],_0x5f0f47=this['destinatio'+'nRenderTar'+'get'],_0x142e4e=(_0x5f0f47==null?void(0x130+0xe5+0x29*-0xd):_0x5f0f47['width'])??_0x2b3bd2['width'],_0x2e7cf6=(_0x5f0f47==null?void(0x230e+-0x145*0x1+0x1*-0x21c9):_0x5f0f47['height'])??_0x2b3bd2['height'],_0x4d9d3a=this['camera']['rect'],_0xf1ed22=Math['floor'](_0x4d9d3a['z']*_0x142e4e),_0x71132=Math['floor'](_0x4d9d3a['w']*_0x2e7cf6),_0x7eb0bd=this['effects'];for(let _0xfe8b09=0x5a8*0x1+0x1*0xdc5+-0x136d,_0x14d970=_0x7eb0bd['length'];_0xfe8b09<_0x14d970;_0xfe8b09++){const _0x2e81b9=_0x7eb0bd[_0xfe8b09];(_0x2e81b9['inputTarge'+'t']['width']!==_0xf1ed22||_0x2e81b9['inputTarge'+'t']['height']!==_0x71132)&&this['_resizeOff'+'screenTarg'+'et'](_0x2e81b9['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x5dc837,_0x3fa1ce,_0x3ea36a){this['enabled']&&this['resizeRend'+'erTargets']();}}class Ir extends we{constructor(_0xf36e9e,_0x2e6434){super(_0xf36e9e,_0x2e6434),h(this,'onPostproc'+'essing',null),h(this,'_renderSce'+'neDepthMap',0x22f8+-0x110b*-0x1+-0x3403),h(this,'_renderSce'+'neColorMap',-0x12f*0x11+-0xa97*-0x2+-0x10f*0x1),h(this,'_sceneDept'+'hMapReques'+'ted',!(0x1a0b+0xdce+-0x27d8)),h(this,'_sceneColo'+'rMapReques'+'ted',!(0xdc7*0x2+0x1*0x25bf+-0x414c)),h(this,'_priority',0x23b0+0x59a*0x4+-0x3a18),h(this,'_disablePo'+'stEffectsL'+'ayer',Il),h(this,'_camera',new Fl()),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x2e6434,this['_postEffec'+'ts']=new yF(_0xf36e9e['app'],this));}['setShaderP'+'ass'](_0x11fcad){const _0x29ca6a=Si['get'](this['system']['app']['graphicsDe'+'vice']),_0xd05b4a=_0x11fcad?_0x29ca6a['allocate'](_0x11fcad,{'isForward':!(0x2631+-0xa0b+-0x3*0x962)}):null;return this['_camera']['shaderPass'+'Info']=_0xd05b4a,_0xd05b4a['index'];}['getShaderP'+'ass'](){var _0x29048a;return(_0x29048a=this['_camera']['shaderPass'+'Info'])==null?void(0x8fa+0x172c+-0xa*0x337):_0x29048a['name'];}set['renderPass'+'es'](_0x270dff){this['_camera']['renderPass'+'es']=_0x270dff||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(0x2166+-0x1d81+-0x3e5);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x14c005){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x14c005;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0x23e678){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0x23e678;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x40f5ed){this['_camera']['fogParams']=_0x40f5ed;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x14eb89){this['_camera']['aperture']=_0x14eb89;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x480ff9){this['_camera']['aspectRati'+'o']=_0x480ff9;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x115467){this['_camera']['aspectRati'+'oMode']=_0x115467;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x189638){this['_camera']['calculateP'+'rojection']=_0x189638;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x2cc286){this['_camera']['calculateT'+'ransform']=_0x2cc286;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x5c0f95){this['_camera']['clearColor']=_0x5c0f95;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x5d1ec6){this['_camera']['clearColor'+'Buffer']=_0x5d1ec6,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x21fc60){this['_camera']['clearDepth'+'Buffer']=_0x21fc60,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x5b1b35){this['_camera']['clearStenc'+'ilBuffer']=_0x5b1b35,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x1d331e){this['_camera']['cullFaces']=_0x1d331e;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x2f8d63){this['_disablePo'+'stEffectsL'+'ayer']=_0x2f8d63,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x448093){this['_camera']['farClip']=_0x448093;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0x124b70){this['_camera']['flipFaces']=_0x124b70;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x2679ce){this['_camera']['fov']=_0x2679ce;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0xc32d3){this['_camera']['frustumCul'+'ling']=_0xc32d3;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x35183c){this['_camera']['horizontal'+'Fov']=_0x35183c;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0xefefab){const _0x3546a2=this['_camera']['layers'],_0x570fef=this['system']['app']['scene'];_0x3546a2['forEach'](_0x9f5896=>{const _0x33befa=_0x570fef['layers']['getLayerBy'+'Id'](_0x9f5896);_0x33befa==null||_0x33befa['removeCame'+'ra'](this);}),this['_camera']['layers']=_0xefefab,this['enabled']&&this['entity']['enabled']&&_0xefefab['forEach'](_0x242709=>{const _0x4a7060=_0x570fef['layers']['getLayerBy'+'Id'](_0x242709);_0x4a7060==null||_0x4a7060['addCamera'](this);}),this['fire']('set:layers');}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0xf1129){this['_camera']['jitter']=_0xf1129;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x5aaee0){this['_camera']['nearClip']=_0x5aaee0;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x5968fc){this['_camera']['orthoHeigh'+'t']=_0x5968fc;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x3602e1){this['_priority']=_0x3602e1,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x1b5338){this['_camera']['projection']=_0x1b5338;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x36332b){this['_camera']['rect']=_0x36332b,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x2b0649){_0x2b0649&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(-0x1ef5+-0x585+0x247a)),this['_sceneColo'+'rMapReques'+'ted']=!(-0x1c3e+-0x1964+0x35a2)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(-0x143d+0x69*-0x13+0x1*0x1c09)),this['_sceneColo'+'rMapReques'+'ted']=!(0x2*-0x69b+-0x10d4+-0x1*-0x1e0b));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>0x2610+0x97+-0x5*0x7bb;}set['renderScen'+'eDepthMap'](_0x59d73c){_0x59d73c&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(-0x3ab*0x9+0x266a+0x567*-0x1)),this['_sceneDept'+'hMapReques'+'ted']=!(0x1*0x853+0x1cee+-0xb*0x363)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(0x53f*-0x1+-0x2*-0x85c+-0xb78)),this['_sceneDept'+'hMapReques'+'ted']=!(0x25b4+-0x88f*0x1+-0x1d24));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>0x25ed+-0x2374*-0x1+0x451*-0x11;}set['renderTarg'+'et'](_0x203d2d){w['call'](()=>{this['_camera']['renderPass'+'es']['length']>0xb33+-0x10a5*0x1+0x572&&w['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x203d2d,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x546e0b){this['_camera']['scissorRec'+'t']=_0x546e0b;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x27d00f){this['_camera']['sensitivit'+'y']=_0x27d00f;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x8da25e){this['_camera']['shutter']=_0x8da25e;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x191e67){if(this['layers']['find'](_0x55c9a1=>_0x55c9a1===ps)){const _0x930b69=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x191e67?_0x930b69==null||_0x930b69['incrementC'+'ounter']():_0x930b69==null||_0x930b69['decrementC'+'ounter']();}else{if(_0x191e67)return!(-0xd33*-0x1+0x1b48+-0x287a);}return!(-0x1d30+0x3*-0x6da+0x31be);}['requestSce'+'neColorMap'](_0x446bb9){this['_renderSce'+'neColorMap']+=_0x446bb9?-0xe9*-0x23+0x27c+-0x5*0x6de:-(-0x1*-0x1152+-0x139f+0x76*0x5),w['assert'](this['_renderSce'+'neColorMap']>=-0x2e*-0x2f+-0xc0d+0x39b),this['_enableDep'+'thLayer'](_0x446bb9)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']),this['system']['app']['scene']['layers']['markDirty']();}['requestSce'+'neDepthMap'](_0x31afda){this['_renderSce'+'neDepthMap']+=_0x31afda?-0x1932+0x5ef+-0x6*-0x336:-(0x12ac+0x3b*-0x5d+0x2c4),w['assert'](this['_renderSce'+'neDepthMap']>=0x188*0x9+0x1*0x67e+-0x40e*0x5),this['_enableDep'+'thLayer'](_0x31afda)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']),this['system']['app']['scene']['layers']['markDirty']();}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x3281ac=this['system']['app']['scene']['layers'];_0x3281ac['_dirty']=!(-0x259+0xba3+0x2*-0x4a5);}['screenToWo'+'rld'](_0x5983bd,_0x18c3b7,_0x37b686,_0x28ce15){const _0x3dffe4=this['system']['app']['graphicsDe'+'vice'],{width:_0x26c0c3,height:_0x4e908c}=_0x3dffe4['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x5983bd,_0x18c3b7,_0x37b686,_0x26c0c3,_0x4e908c,_0x28ce15);}['worldToScr'+'een'](_0x45b557,_0xa495f8){const _0x4017fd=this['system']['app']['graphicsDe'+'vice'],{width:_0x5ce15f,height:_0x2f1845}=_0x4017fd['clientRect'];return this['_camera']['worldToScr'+'een'](_0x45b557,_0x5ce15f,_0x2f1845,_0xa495f8);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(-0x8e*0x29+-0x2064*0x1+0x3722),this['_camera']['_viewProjM'+'atDirty']=!(-0x14e9*0x1+-0x2*0x273+0x19cf*0x1);}['addCameraT'+'oLayers'](){const _0x598795=this['layers'];for(let _0x23500b=0x24ff+0x2*0x119a+-0x4833;_0x23500b<_0x598795['length'];_0x23500b++){const _0x21caf0=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x598795[_0x23500b]);_0x21caf0&&_0x21caf0['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x519e5d=this['layers'];for(let _0x2042d1=-0x26c3+-0x161b*-0x1+0x42a*0x4;_0x2042d1<_0x519e5d['length'];_0x2042d1++){const _0x42c271=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x519e5d[_0x2042d1]);_0x42c271&&_0x42c271['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0x5c0da4,_0x5501de){this['addCameraT'+'oLayers'](),_0x5c0da4['off']('add',this['onLayerAdd'+'ed'],this),_0x5c0da4['off']('remove',this['onLayerRem'+'oved'],this),_0x5501de['on']('add',this['onLayerAdd'+'ed'],this),_0x5501de['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x41d6bc){this['layers']['indexOf'](_0x41d6bc['id'])<-0x21ec+-0x8e1+0x1*0x2acd||_0x41d6bc['addCamera'](this);}['onLayerRem'+'oved'](_0x44406a){this['layers']['indexOf'](_0x44406a['id'])<-0x667+-0x1c8*0x8+0x14a7||_0x44406a['removeCame'+'ra'](this);}['onEnable'](){var _0x49b682,_0x5db243,_0x1cd9de;const _0x1ee95e=this['system']['app']['scene'],_0x4cc72a=_0x1ee95e['layers'];this['system']['addCamera'](this),(_0x49b682=this['_evtLayers'+'Changed'])==null||_0x49b682['off'](),this['_evtLayers'+'Changed']=_0x1ee95e['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4cc72a&&((_0x5db243=this['_evtLayerA'+'dded'])==null||_0x5db243['off'](),this['_evtLayerA'+'dded']=_0x4cc72a['on']('add',this['onLayerAdd'+'ed'],this),(_0x1cd9de=this['_evtLayerR'+'emoved'])==null||_0x1cd9de['off'](),this['_evtLayerR'+'emoved']=_0x4cc72a['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x942c7e,_0x841b20,_0x14e48e;const _0x52b374=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x942c7e=this['_evtLayers'+'Changed'])==null||_0x942c7e['off'](),this['_evtLayers'+'Changed']=null,_0x52b374&&((_0x841b20=this['_evtLayerA'+'dded'])==null||_0x841b20['off'](),this['_evtLayerA'+'dded']=null,(_0x14e48e=this['_evtLayerR'+'emoved'])==null||_0x14e48e['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x5c67c9){const _0x1bb2c4=this['system']['app']['graphicsDe'+'vice'],_0x1180f3=_0x5c67c9?_0x5c67c9['width']:_0x1bb2c4['width'],_0x315e73=_0x5c67c9?_0x5c67c9['height']:_0x1bb2c4['height'];return _0x1180f3*this['rect']['z']/(_0x315e73*this['rect']['w']);}['frameUpdat'+'e'](_0x3b0912){this['aspectRati'+'oMode']===hm&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x3b0912));}['startXr'](_0x4a4d21,_0x543356,_0x345983){this['system']['app']['xr']['start'](this,_0x4a4d21,_0x543356,_0x345983);}['endXr'](_0x36bada){if(!this['_camera']['xr']){_0x36bada&&_0x36bada(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x36bada);}['copy'](_0xb31663){this['aperture']=_0xb31663['aperture'],this['aspectRati'+'o']=_0xb31663['aspectRati'+'o'],this['aspectRati'+'oMode']=_0xb31663['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0xb31663['calculateP'+'rojection'],this['calculateT'+'ransform']=_0xb31663['calculateT'+'ransform'],this['clearColor']=_0xb31663['clearColor'],this['clearColor'+'Buffer']=_0xb31663['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0xb31663['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0xb31663['clearStenc'+'ilBuffer'],this['cullFaces']=_0xb31663['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0xb31663['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0xb31663['farClip'],this['flipFaces']=_0xb31663['flipFaces'],this['fov']=_0xb31663['fov'],this['frustumCul'+'ling']=_0xb31663['frustumCul'+'ling'],this['horizontal'+'Fov']=_0xb31663['horizontal'+'Fov'],this['layers']=_0xb31663['layers'],this['nearClip']=_0xb31663['nearClip'],this['orthoHeigh'+'t']=_0xb31663['orthoHeigh'+'t'],this['priority']=_0xb31663['priority'],this['projection']=_0xb31663['projection'],this['rect']=_0xb31663['rect'],this['renderTarg'+'et']=_0xb31663['renderTarg'+'et'],this['scissorRec'+'t']=_0xb31663['scissorRec'+'t'],this['sensitivit'+'y']=_0xb31663['sensitivit'+'y'],this['shutter']=_0xb31663['shutter'];}}class vF{constructor(){this['enabled']=!(0x2*0x234+-0x217*0xa+0x2*0x83f);}}const p0=['enabled'];class xF extends ct{constructor(_0x1f60ef){super(_0x1f60ef),h(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=Ir,this['DataType']=vF,this['schema']=p0,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x2f7b34,_0x26a4da,_0x16e11a){_0x16e11a=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fog','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x43aafa=0x3*-0xc53+-0x9b6+0x2eaf;_0x43aafa<_0x16e11a['length'];_0x43aafa++){const _0x459785=_0x16e11a[_0x43aafa];if(_0x26a4da['hasOwnProp'+'erty'](_0x459785)){const _0x24b0df=_0x26a4da[_0x459785];switch(_0x459785){case'rect':case'scissorRec'+'t':Array['isArray'](_0x24b0df)?_0x2f7b34[_0x459785]=new re(_0x24b0df[-0x104d+0x4d6+0xb77],_0x24b0df[-0x15c2+-0x1d37+-0x5*-0xa32],_0x24b0df[0x233f+0x377*-0x1+-0x1fc6],_0x24b0df[-0x89f*-0x2+-0x1886+0x74b]):_0x2f7b34[_0x459785]=_0x24b0df;break;case'clearColor':Array['isArray'](_0x24b0df)?_0x2f7b34[_0x459785]=new ie(_0x24b0df[-0x1fa2+0x2430+-0x48e],_0x24b0df[0x10d6+0x247d+-0x3552],_0x24b0df[0x150d+-0x1*0xca5+-0x866],_0x24b0df[-0x1704+-0x13cd*-0x1+0x33a]):_0x2f7b34[_0x459785]=_0x24b0df;break;default:_0x2f7b34[_0x459785]=_0x24b0df;break;}}}super['initialize'+'ComponentD'+'ata'](_0x2f7b34,_0x26a4da,['enabled']);}['cloneCompo'+'nent'](_0x278486,_0x5920fa){const _0x4a41fc=_0x278486['camera'];return this['addCompone'+'nt'](_0x5920fa,{'aspectRatio':_0x4a41fc['aspectRati'+'o'],'aspectRatioMode':_0x4a41fc['aspectRati'+'oMode'],'calculateProjection':_0x4a41fc['calculateP'+'rojection'],'calculateTransform':_0x4a41fc['calculateT'+'ransform'],'clearColor':_0x4a41fc['clearColor'],'clearColorBuffer':_0x4a41fc['clearColor'+'Buffer'],'clearDepthBuffer':_0x4a41fc['clearDepth'+'Buffer'],'clearStencilBuffer':_0x4a41fc['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0x4a41fc['renderScen'+'eDepthMap'],'renderSceneColorMap':_0x4a41fc['renderScen'+'eColorMap'],'cullFaces':_0x4a41fc['cullFaces'],'enabled':_0x4a41fc['enabled'],'farClip':_0x4a41fc['farClip'],'flipFaces':_0x4a41fc['flipFaces'],'fov':_0x4a41fc['fov'],'frustumCulling':_0x4a41fc['frustumCul'+'ling'],'horizontalFov':_0x4a41fc['horizontal'+'Fov'],'layers':_0x4a41fc['layers'],'renderTarget':_0x4a41fc['renderTarg'+'et'],'nearClip':_0x4a41fc['nearClip'],'orthoHeight':_0x4a41fc['orthoHeigh'+'t'],'projection':_0x4a41fc['projection'],'priority':_0x4a41fc['priority'],'rect':_0x4a41fc['rect'],'scissorRect':_0x4a41fc['scissorRec'+'t'],'aperture':_0x4a41fc['aperture'],'sensitivity':_0x4a41fc['sensitivit'+'y'],'shutter':_0x4a41fc['shutter'],'gammaCorrection':_0x4a41fc['gammaCorre'+'ction'],'toneMapping':_0x4a41fc['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x36f37c,_0x21f674){this['removeCame'+'ra'](_0x21f674),_0x21f674['onRemove']();}['onAppPrere'+'nder'](){for(let _0x2acd4e=-0x26a5+0xd*0x5+-0x15f*-0x1c,_0x4b498e=this['cameras']['length'];_0x2acd4e<_0x4b498e;_0x2acd4e++)this['cameras'][_0x2acd4e]['onAppPrere'+'nder']();}['addCamera'](_0x5eecb4){this['cameras']['push'](_0x5eecb4),ul(this['cameras']);}['removeCame'+'ra'](_0x38b8ea){const _0x4ef9d5=this['cameras']['indexOf'](_0x38b8ea);_0x4ef9d5>=-0x1*-0x5a2+0x203*0xb+-0x1bc3&&(this['cameras']['splice'](_0x4ef9d5,-0x79a*0x3+0xac1+0x2*0x607),ul(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}we['_buildAcce'+'ssors'](Ir['prototype'],p0);class m0{constructor(){h(this,'enabled',!(-0xe+0x4d9*-0x6+0x175*0x14)),h(this,'light'),h(this,'type','directiona'+'l'),h(this,'color',new ie(-0x1*-0x1e69+-0x5*-0x283+0x2af7*-0x1,-0x1ac5+0x5c+-0x3*-0x8ce,0x185*0x18+-0x1900+-0xb77)),h(this,'intensity',-0x3*-0x19b+0x1bd7+0x20a7*-0x1),h(this,'luminance',-0x1*-0x238f+-0xcd0+0x3*-0x795),h(this,'shape',Ys),h(this,'affectSpec'+'ularity',!(0x4f4+-0x20cd*0x1+0x1bd9*0x1)),h(this,'castShadow'+'s',!(-0x26b*0xd+-0x3*0x66d+0x32b7)),h(this,'shadowDist'+'ance',0x1148*0x2+0x96e*-0x2+-0xf8c),h(this,'shadowInte'+'nsity',-0x22de+-0x8*-0x71+-0x1*-0x1f57),h(this,'shadowReso'+'lution',0x8db+-0x34*0x77+0x1351),h(this,'shadowBias',0xd55+0x70b+-0x1460+0.05),h(this,'numCascade'+'s',-0x106*0x9+-0x2*-0x4b4+-0x7*0x7),h(this,'cascadeBle'+'nd',0x366+0x7*0x1b5+-0xf59),h(this,'bakeNumSam'+'ples',0x223+-0x4c5+0x9*0x4b),h(this,'bakeArea',0x1*0x1469+-0x1023+-0x1*0x446),h(this,'cascadeDis'+'tribution',-0x1*0xa4e+0x12b5*0x1+-0x867+0.5),h(this,'normalOffs'+'etBias',-0x1573*0x1+-0x1*0xd5+-0x5c*-0x3e),h(this,'range',0x1*-0x1645+-0x61*-0x67+0x4*-0x42e),h(this,'innerConeA'+'ngle',-0x3*0x41f+-0x1*0x9a+0xd1f),h(this,'outerConeA'+'ngle',-0x1*0x619+-0xf*0x55+0xb41),h(this,'falloffMod'+'e',Qp),h(this,'shadowType',$s),h(this,'vsmBlurSiz'+'e',-0x2165*0x1+0x3*0x113+0x1e37),h(this,'vsmBlurMod'+'e',em),h(this,'vsmBias',(0xd62*-0x1+0x242f+-0xd*0x1c1+0.01)*(0x1026+-0xfa7+-0x7f+0.25)),h(this,'cookieAsse'+'t',null),h(this,'cookie',null),h(this,'cookieInte'+'nsity',-0xb84+-0x14b3+0x2038),h(this,'cookieFall'+'off',!(0x203+0x540+0xd*-0x8f)),h(this,'cookieChan'+'nel','rgb'),h(this,'cookieAngl'+'e',0x1*0x1449+-0x83*-0x31+-0xb57*0x4),h(this,'cookieScal'+'e',null),h(this,'cookieOffs'+'et',null),h(this,'shadowUpda'+'teMode',lm),h(this,'mask',0x1c81+-0x18fd+0x383*-0x1),h(this,'affectDyna'+'mic',!(0x6b*-0x7+0x351+-0x5*0x14)),h(this,'affectLigh'+'tmapped',!(-0xdbf+0x1*0x1e04+0x2*-0x822)),h(this,'bake',!(0x1*0xd5a+-0x8*-0x21+-0xe61)),h(this,'bakeDir',!(0xef6+0x1*0x2591+0x77*-0x71)),h(this,'isStatic',!(0x10c0+0x80e+0x1*-0x18cd)),h(this,'layers',[er]),h(this,'penumbraSi'+'ze',0xb5f+0x14*-0xc2+0x3ca),h(this,'penumbraFa'+'lloff',0x1169*0x1+-0x1*0x2586+0x141e),h(this,'shadowSamp'+'les',-0x1251+0x1917+-0x6b6),h(this,'shadowBloc'+'kerSamples',0x5ee+0x5f7+-0x1*0xbd5);}}const Ho=Object['keys'](new m0());class TF extends we{constructor(){super(...arguments),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_cookieAss'+'et',null),h(this,'_cookieAss'+'etId',null),h(this,'_cookieAss'+'etAdd',!(0x17ae+-0xb2*-0x25+-0x1*0x3167)),h(this,'_cookieMat'+'rix',null);}get['data'](){const _0x2ffb90=this['system']['store'][this['entity']['getGuid']()];return _0x2ffb90?_0x2ffb90['data']:null;}set['enabled'](_0x5e5be8){this['_setValue']('enabled',_0x5e5be8,function(_0xc2d51b,_0xa38a26){this['onSetEnabl'+'ed'](null,_0xa38a26,_0xc2d51b);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x11c93e){this['_setValue']('light',_0x11c93e);}get['light'](){return this['data']['light'];}set['type'](_0x2b5896){this['_setValue']('type',_0x2b5896,function(_0x46717d,_0x45ff74){this['system']['changeType'](this,_0x45ff74,_0x46717d),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x43ddc7){this['_setValue']('color',_0x43ddc7,function(_0x307f12,_0xf885a9){this['light']['setColor'](_0x307f12);},!(-0x16c*-0x1+0xeac+0x14*-0xce));}get['color'](){return this['data']['color'];}set['intensity'](_0x20e656){this['_setValue']('intensity',_0x20e656,function(_0x304201,_0x265e5a){this['light']['intensity']=_0x304201;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x30a434){this['_setValue']('luminance',_0x30a434,function(_0x39655b,_0x1f59c7){this['light']['luminance']=_0x39655b;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x4b7913){this['_setValue']('shape',_0x4b7913,function(_0x198e92,_0x31f73a){this['light']['shape']=_0x198e92;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x5bb0db){this['_setValue']('affectSpec'+'ularity',_0x5bb0db,function(_0x51d32c,_0x3eca5c){this['light']['affectSpec'+'ularity']=_0x51d32c;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x246c61){this['_setValue']('castShadow'+'s',_0x246c61,function(_0x3e222d,_0x5f3c58){this['light']['castShadow'+'s']=_0x3e222d;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0x2ed140){this['_setValue']('shadowDist'+'ance',_0x2ed140,function(_0x33d81e,_0x30df12){this['light']['shadowDist'+'ance']=_0x33d81e;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x25046e){this['_setValue']('shadowInte'+'nsity',_0x25046e,function(_0x47d3f7,_0x466d3c){this['light']['shadowInte'+'nsity']=_0x47d3f7;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x35808b){this['_setValue']('shadowReso'+'lution',_0x35808b,function(_0x4d0a3f,_0x3a1189){this['light']['shadowReso'+'lution']=_0x4d0a3f;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x411c33){this['_setValue']('shadowBias',_0x411c33,function(_0x47b240,_0x193b96){this['light']['shadowBias']=-(-0x1370+0x1c7d+-0x7*0x14b+0.01)*Y['clamp'](_0x47b240,0x1*0x3f9+0x9a+-0x493,-0x2a6+0xdcb+-0xb24);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x13493e){this['_setValue']('numCascade'+'s',_0x13493e,function(_0x44e73d,_0x3854ae){this['light']['numCascade'+'s']=Y['clamp'](Math['floor'](_0x44e73d),0xb55+-0x14a0+-0x154*-0x7,0xfff+0x8e3+-0x18de);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0x53c914){this['_setValue']('cascadeBle'+'nd',_0x53c914,function(_0x25015a,_0x48025b){this['light']['cascadeBle'+'nd']=Y['clamp'](_0x25015a,0x26b1+-0x240e+0x5*-0x87,0xee4+0x2*0xf39+-0xb*0x41f);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0x472a5e){this['_setValue']('bakeNumSam'+'ples',_0x472a5e,function(_0x3774c7,_0x31e639){this['light']['bakeNumSam'+'ples']=Y['clamp'](Math['floor'](_0x3774c7),-0x1765+0x541*-0x7+0x3c2d,-0x1a6d+-0xf97+0x2b03);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0xcc18b2){this['_setValue']('bakeArea',_0xcc18b2,function(_0x7e1874,_0x3a82ff){this['light']['bakeArea']=Y['clamp'](_0x7e1874,-0x1f03+0x161a+-0x1*-0x8e9,-0x1*-0x1e01+0xaf3*0x3+0x2b*-0x172);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x619e73){this['_setValue']('cascadeDis'+'tribution',_0x619e73,function(_0x385be1,_0x5bb53c){this['light']['cascadeDis'+'tribution']=Y['clamp'](_0x385be1,-0x504+0xadb+-0x5d7,-0x35*0x71+-0x246c+0x3bd2);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x4e05b0){this['_setValue']('normalOffs'+'etBias',_0x4e05b0,function(_0x11d4fb,_0x1f22c6){this['light']['normalOffs'+'etBias']=Y['clamp'](_0x11d4fb,0x1463*0x1+-0x1c8c+-0x1*-0x829,0x605*0x4+0x2e*-0x10+-0x1533);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0x22a878){this['_setValue']('range',_0x22a878,function(_0x7c020,_0x3fe5f2){this['light']['attenuatio'+'nEnd']=_0x7c020;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0xf58007){this['_setValue']('innerConeA'+'ngle',_0xf58007,function(_0x47d460,_0x240bbb){this['light']['innerConeA'+'ngle']=_0x47d460;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0xe3db5a){this['_setValue']('outerConeA'+'ngle',_0xe3db5a,function(_0x23e494,_0x53f93d){this['light']['outerConeA'+'ngle']=_0x23e494;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0x1f5694){this['_setValue']('falloffMod'+'e',_0x1f5694,function(_0x447d61,_0x368996){this['light']['falloffMod'+'e']=_0x447d61;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x5c61a3){this['_setValue']('shadowType',_0x5c61a3,function(_0x50d4c6,_0x5111a3){this['light']['shadowType']=_0x50d4c6;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x3a6912){this['_setValue']('vsmBlurSiz'+'e',_0x3a6912,function(_0x158f41,_0x1e3604){this['light']['vsmBlurSiz'+'e']=_0x158f41;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x5aebcf){this['_setValue']('vsmBlurMod'+'e',_0x5aebcf,function(_0x41fe9c,_0x3091f0){this['light']['vsmBlurMod'+'e']=_0x41fe9c;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x315443){this['_setValue']('vsmBias',_0x315443,function(_0x37e140,_0x3197d8){this['light']['vsmBias']=Y['clamp'](_0x37e140,0xfbf+0x1*0x2473+-0x3432,0xc*-0x159+0x228d+0x54*-0x38);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x45434f){this['_setValue']('cookieAsse'+'t',_0x45434f,function(_0x5a9188,_0x282dd0){if(!(this['_cookieAss'+'etId']&&(_0x5a9188 instanceof pe&&_0x5a9188['id']===this['_cookieAss'+'etId']||_0x5a9188===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x5a9188 instanceof pe)this['data']['cookieAsse'+'t']=_0x5a9188['id'],this['_cookieAss'+'etId']=_0x5a9188['id'],this['onCookieAs'+'setAdd'](_0x5a9188);else{if(typeof _0x5a9188=='number'){this['_cookieAss'+'etId']=_0x5a9188;const _0x2eda83=this['system']['app']['assets']['get'](_0x5a9188);_0x2eda83?this['onCookieAs'+'setAdd'](_0x2eda83):(this['_cookieAss'+'etAdd']=!(-0x1327*-0x1+0xb6f+-0xa32*0x3),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0x5b7cd6){this['_setValue']('cookie',_0x5b7cd6,function(_0x2d4326,_0x1e4b8a){this['light']['cookie']=_0x2d4326;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x558f71){this['_setValue']('cookieInte'+'nsity',_0x558f71,function(_0xc4322c,_0x30e291){this['light']['cookieInte'+'nsity']=Y['clamp'](_0xc4322c,0x8cc*-0x2+-0x125*-0x2+-0x7a7*-0x2,0xe3a+0x1*-0xfbd+0x2*0xc2);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x4c8b62){this['_setValue']('cookieFall'+'off',_0x4c8b62,function(_0x4f055e,_0x37276b){this['light']['cookieFall'+'off']=_0x4f055e;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x2df2c8){this['_setValue']('cookieChan'+'nel',_0x2df2c8,function(_0x2dc45d,_0x2928e0){this['light']['cookieChan'+'nel']=_0x2dc45d;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x41bfdf){this['_setValue']('cookieAngl'+'e',_0x41bfdf,function(_0x44ceb4,_0x1e3b55){if(_0x44ceb4!==-0x1a67+0x176f+0x2f8||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());let _0x1b49fc=0xa7*0x5+-0xb05*-0x1+0xe47*-0x1,_0x2ba678=-0x1b81*0x1+0x214b+0x5c9*-0x1;this['cookieScal'+'e']&&(_0x1b49fc=this['cookieScal'+'e']['x'],_0x2ba678=this['cookieScal'+'e']['y']);const _0x53b796=Math['cos'](_0x44ceb4*Y['DEG_TO_RAD']),_0x94da45=Math['sin'](_0x44ceb4*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x53b796/_0x1b49fc,-_0x94da45/_0x1b49fc,_0x94da45/_0x2ba678,_0x53b796/_0x2ba678),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x5e8d67){this['_setValue']('cookieScal'+'e',_0x5e8d67,function(_0x1ccc62,_0x558486){if(_0x1ccc62!==null||this['cookieAngl'+'e']!==-0x504+-0x250a+0x602*0x7){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());const _0x3a3288=_0x1ccc62['x'],_0x26166c=_0x1ccc62['y'],_0xfd653e=Math['cos'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']),_0x2fcc94=Math['sin'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0xfd653e/_0x3a3288,-_0x2fcc94/_0x3a3288,_0x2fcc94/_0x26166c,_0xfd653e/_0x26166c),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(0xeaa*-0x2+0xd81+0xfd3));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0x475338){this['_setValue']('cookieOffs'+'et',_0x475338,function(_0x36209d,_0x296c07){this['light']['cookieOffs'+'et']=_0x36209d;},!(-0x126a+-0x166+0x13d0));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x402bbe){this['_setValue']('shadowUpda'+'teMode',_0x402bbe,function(_0x29f313,_0x27d26d){this['light']['shadowUpda'+'teMode']=_0x29f313;},!(-0x12d+-0x18cc+0x19f9));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x581900){this['_setValue']('mask',_0x581900,function(_0xe84ebd,_0x23669b){this['light']['mask']=_0xe84ebd;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x360ec6){this['_setValue']('affectDyna'+'mic',_0x360ec6,function(_0x5b2114,_0x4eb772){_0x5b2114?this['light']['mask']|=Ss:this['light']['mask']&=~Ss,this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x5effe0){this['_setValue']('affectLigh'+'tmapped',_0x5effe0,function(_0x416bdd,_0xe4e02d){_0x416bdd?(this['light']['mask']|=di,this['bake']&&(this['light']['mask']&=~fi)):(this['light']['mask']&=~di,this['bake']&&(this['light']['mask']|=fi));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x226039){this['_setValue']('bake',_0x226039,function(_0x288c5c,_0x3e82d5){_0x288c5c?(this['light']['mask']|=fi,this['affectLigh'+'tmapped']&&(this['light']['mask']&=~di)):(this['light']['mask']&=~fi,this['affectLigh'+'tmapped']&&(this['light']['mask']|=di)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x492d1f){this['_setValue']('bakeDir',_0x492d1f,function(_0x12427f,_0x2d7240){this['light']['bakeDir']=_0x12427f;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0xc54f8c){this['_setValue']('isStatic',_0xc54f8c,function(_0x5b6285,_0x1926aa){this['light']['isStatic']=_0x5b6285;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0x477d62){this['_setValue']('layers',_0x477d62,function(_0x713180,_0x47b749){for(let _0x10067f=-0x1270+0x1240+0x30;_0x10067f<_0x47b749['length'];_0x10067f++){const _0x3ed0d1=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x47b749[_0x10067f]);_0x3ed0d1&&(_0x3ed0d1['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x3ed0d1));}for(let _0x4d1513=0x2*-0xc0f+-0x1f*-0x67+-0x10f*-0xb;_0x4d1513<_0x713180['length'];_0x4d1513++){const _0x1bb9de=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x713180[_0x4d1513]);_0x1bb9de&&this['enabled']&&this['entity']['enabled']&&(_0x1bb9de['addLight'](this),this['light']['addLayer'](_0x1bb9de));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x5f1f25){this['light']['shadowUpda'+'teOverride'+'s']=_0x5f1f25;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x67cf46){this['light']['shadowSamp'+'les']=_0x67cf46;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x81ec31){this['light']['shadowBloc'+'kerSamples']=_0x81ec31;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0x4b961a){this['light']['penumbraSi'+'ze']=_0x4b961a;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0x50f195){this['light']['penumbraFa'+'lloff']=_0x50f195;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x3ce655,_0x540921,_0x4237cd,_0x48cc54){const _0x14cb61=this['data'],_0x1c7e57=_0x14cb61[_0x3ce655];!_0x48cc54&&_0x1c7e57===_0x540921||(_0x14cb61[_0x3ce655]=_0x540921,_0x4237cd&&_0x4237cd['call'](this,_0x540921,_0x1c7e57));}['addLightTo'+'Layers'](){for(let _0x34b2d6=-0x13e*0x17+-0x4*-0x475+0xabe;_0x34b2d6<this['layers']['length'];_0x34b2d6++){const _0x36454e=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x34b2d6]);_0x36454e&&(_0x36454e['addLight'](this),this['light']['addLayer'](_0x36454e));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0x5afa1d=-0x6+0xbec+-0xbe6;_0x5afa1d<this['layers']['length'];_0x5afa1d++){const _0x58def7=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x5afa1d]);_0x58def7&&(_0x58def7['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x58def7));}}['onLayersCh'+'anged'](_0x5c3df7,_0x3f1cf6){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x5c3df7['off']('add',this['onLayerAdd'+'ed'],this),_0x5c3df7['off']('remove',this['onLayerRem'+'oved'],this),_0x3f1cf6['on']('add',this['onLayerAdd'+'ed'],this),_0x3f1cf6['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x26d5fa){this['layers']['indexOf'](_0x26d5fa['id'])>=0x783+-0x1267*0x1+-0x4*-0x2b9&&this['enabled']&&this['entity']['enabled']&&(_0x26d5fa['addLight'](this),this['light']['addLayer'](_0x26d5fa));}['onLayerRem'+'oved'](_0x54e25c){this['layers']['indexOf'](_0x54e25c['id'])>=0x2047*0x1+0x10ac+-0x30f3&&(_0x54e25c['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x54e25c));}['refreshPro'+'perties'](){for(let _0x12bd18=0x2*-0x2ef+-0xdff*0x1+0x9*0x235;_0x12bd18<Ho['length'];_0x12bd18++){const _0x1543f3=Ho[_0x12bd18];this[_0x1543f3]=this[_0x1543f3];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x488849=!(0x15d7+0x412+-0x2*0xcf4);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(-0x2377*0x1+-0x1*-0x2441+0xca*-0x1),_0x488849=!(0x1*0x159d+-0xc5+-0x14d8)),(!this['_cookieAss'+'et']['resource']||_0x488849)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x55067f){this['_cookieAss'+'etId']===_0x55067f['id']&&(this['_cookieAss'+'et']=_0x55067f,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(0x93a+0x1a01+0x233a*-0x1)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x108f99=this['system']['app']['scene'],_0x47f7c1=_0x108f99['layers'];this['light']['enabled']=!(0xff8+0x12*0x5e+-0x1694),this['_evtLayers'+'Changed']=_0x108f99['on']('set:layers',this['onLayersCh'+'anged'],this),_0x47f7c1&&(this['_evtLayerA'+'dded']=_0x47f7c1['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x47f7c1['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x37b5e3,_0x227493,_0x35a182;const _0x4ed05e=this['system']['app']['scene']['layers'];this['light']['enabled']=!(0x1*-0x1f9d+-0x1*-0x1f49+0x55),(_0x37b5e3=this['_evtLayers'+'Changed'])==null||_0x37b5e3['off'](),this['_evtLayers'+'Changed']=null,_0x4ed05e&&((_0x227493=this['_evtLayerA'+'dded'])==null||_0x227493['off'](),this['_evtLayerA'+'dded']=null,(_0x35a182=this['_evtLayerR'+'emoved'])==null||_0x35a182['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class wF extends ct{constructor(_0x35e74d){super(_0x35e74d),this['id']='light',this['ComponentT'+'ype']=TF,this['DataType']=m0,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x537bf3,_0x303a1f){const _0x1e2c1c={..._0x303a1f};_0x1e2c1c['type']||(_0x1e2c1c['type']=_0x537bf3['data']['type']),_0x537bf3['data']['type']=_0x1e2c1c['type'],_0x1e2c1c['layers']&&Array['isArray'](_0x1e2c1c['layers'])&&(_0x1e2c1c['layers']=_0x1e2c1c['layers']['slice'](0x35d+-0x4*-0x2e7+0x1*-0xef9)),_0x1e2c1c['color']&&Array['isArray'](_0x1e2c1c['color'])&&(_0x1e2c1c['color']=new ie(_0x1e2c1c['color'][0x1226*-0x1+-0x18e0+-0x1583*-0x2],_0x1e2c1c['color'][0x1bec+0x1789+-0x3374],_0x1e2c1c['color'][-0xa1*0x9+0x13f8+-0xe4d])),_0x1e2c1c['cookieOffs'+'et']&&_0x1e2c1c['cookieOffs'+'et']instanceof Array&&(_0x1e2c1c['cookieOffs'+'et']=new J(_0x1e2c1c['cookieOffs'+'et'][-0x1667+0x1*0x326+0x1341],_0x1e2c1c['cookieOffs'+'et'][0x1f6a+-0x1343*-0x1+-0x17*0x234])),_0x1e2c1c['cookieScal'+'e']&&_0x1e2c1c['cookieScal'+'e']instanceof Array&&(_0x1e2c1c['cookieScal'+'e']=new J(_0x1e2c1c['cookieScal'+'e'][0x1b06+-0x2056+0x550],_0x1e2c1c['cookieScal'+'e'][-0x72f+-0x52*-0x48+-0xfe0])),_0x1e2c1c['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x1e2c1c['enabled']=_0x1e2c1c['enable']),_0x1e2c1c['shape']||(_0x1e2c1c['shape']=Ys);const _0x447523=new pl(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x447523['type']=fu[_0x1e2c1c['type']],_0x447523['_node']=_0x537bf3['entity'],_0x537bf3['data']['light']=_0x447523,super['initialize'+'ComponentD'+'ata'](_0x537bf3,_0x1e2c1c,Ho);}['_onRemoveC'+'omponent'](_0x179200,_0x452ae8){_0x452ae8['onRemove']();}['cloneCompo'+'nent'](_0x450ad7,_0x19ae3c){const _0x2025bb=_0x450ad7['light'],_0x3378eb=[];let _0x58dc4d;for(let _0x2798a4=0x19b5*-0x1+0x112+-0x7*-0x385;_0x2798a4<Ho['length'];_0x2798a4++)_0x58dc4d=Ho[_0x2798a4],_0x58dc4d!=='light'&&(_0x2025bb[_0x58dc4d]&&_0x2025bb[_0x58dc4d]['clone']?_0x3378eb[_0x58dc4d]=_0x2025bb[_0x58dc4d]['clone']():_0x3378eb[_0x58dc4d]=_0x2025bb[_0x58dc4d]);return this['addCompone'+'nt'](_0x19ae3c,_0x3378eb);}['changeType'](_0x878736,_0x1f6c68,_0x565f8d){_0x1f6c68!==_0x565f8d&&(_0x878736['light']['type']=fu[_0x565f8d]);}}const EF=['x','y','z','w'],bF=[void(-0x29f*0xd+0xb2*-0x20+0x3853),void(0x641+0x1bd8+0x2b*-0xcb),J,D,re];function Yn(_0x3d21ea,_0x4c9dec,_0x46aadc,_0x1c501f){switch(_0x4c9dec['type']){case'boolean':return!!_0x46aadc;case'number':if(typeof _0x46aadc=='number')return _0x46aadc;if(typeof _0x46aadc=='string'){const _0x22b091=parseInt(_0x46aadc,0x25cb*0x1+0x1f5f+-0x4520);return isNaN(_0x22b091)?null:_0x22b091;}else{if(typeof _0x46aadc=='boolean')return-0x1d4a+-0x6*-0x5ef+-0x650+_0x46aadc;}return null;case'json':{const _0x1a3f28={};if(Array['isArray'](_0x4c9dec['schema'])){(!_0x46aadc||typeof _0x46aadc!='object')&&(_0x46aadc={});for(let _0x5b633d=0x2108+-0x278+0x6*-0x518;_0x5b633d<_0x4c9dec['schema']['length'];_0x5b633d++){const _0x32b4b7=_0x4c9dec['schema'][_0x5b633d];if(_0x32b4b7['name']){if(_0x32b4b7['array']){_0x1a3f28[_0x32b4b7['name']]=[];const _0x845e0=Array['isArray'](_0x46aadc[_0x32b4b7['name']])?_0x46aadc[_0x32b4b7['name']]:[];for(let _0x1e1441=-0xbc*-0x4+-0xcc8*0x1+0x9d8;_0x1e1441<_0x845e0['length'];_0x1e1441++)_0x1a3f28[_0x32b4b7['name']]['push'](Yn(_0x3d21ea,_0x32b4b7,_0x845e0[_0x1e1441]));}else{const _0x30fd23=_0x46aadc['hasOwnProp'+'erty'](_0x32b4b7['name'])?_0x46aadc[_0x32b4b7['name']]:_0x32b4b7['default'];_0x1a3f28[_0x32b4b7['name']]=Yn(_0x3d21ea,_0x32b4b7,_0x30fd23);}}}}return _0x1a3f28;}case'asset':return _0x46aadc instanceof pe?_0x46aadc:typeof _0x46aadc=='number'?_0x3d21ea['assets']['get'](_0x46aadc)||null:typeof _0x46aadc=='string'&&_0x3d21ea['assets']['get'](parseInt(_0x46aadc,0x207d+-0xdf4+0x127f*-0x1))||null;case'entity':return _0x46aadc instanceof Ie?_0x46aadc:typeof _0x46aadc=='string'?_0x3d21ea['getEntityF'+'romIndex'](_0x46aadc):null;case'rgb':case'rgba':if(_0x46aadc instanceof ie)return _0x1c501f instanceof ie?(_0x1c501f['copy'](_0x46aadc),_0x1c501f):_0x46aadc['clone']();if(_0x46aadc instanceof Array&&_0x46aadc['length']>=-0x2097+-0x1d28+-0x55*-0xba&&_0x46aadc['length']<=-0x172d+0xb42+-0x41*-0x2f){for(let _0x1c28fc=0x1e5c+0x24f2+-0x434e;_0x1c28fc<_0x46aadc['length'];_0x1c28fc++)if(typeof _0x46aadc[_0x1c28fc]!='number')return null;return _0x1c501f||(_0x1c501f=new ie()),_0x1c501f['r']=_0x46aadc[0x6f1+0x1f21+-0x1bb*0x16],_0x1c501f['g']=_0x46aadc[0x68a*0x3+0x1ec1+-0x325e],_0x1c501f['b']=_0x46aadc[-0x1fea+0x17*-0x5b+0x2819],_0x1c501f['a']=_0x46aadc['length']===0x1*0x351+-0x166b+0x131d?-0xce9+-0xcc1+0x19ab*0x1:_0x46aadc[0x4a7+-0x11*0x68+-0x122*-0x2],_0x1c501f;}else{if(typeof _0x46aadc=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x46aadc))return _0x1c501f||(_0x1c501f=new ie()),_0x1c501f['fromString'](_0x46aadc),_0x1c501f;}return null;case'vec2':case'vec3':case'vec4':{const _0x2005ef=parseInt(_0x4c9dec['type']['slice'](-0x248b+-0x24e0+-0x3*-0x187a),-0xb*-0x79+-0x1517+0xfee),_0x2f9d70=bF[_0x2005ef];if(_0x46aadc instanceof _0x2f9d70)return _0x1c501f instanceof _0x2f9d70?(_0x1c501f['copy'](_0x46aadc),_0x1c501f):_0x46aadc['clone']();if(_0x46aadc instanceof Array&&_0x46aadc['length']===_0x2005ef){for(let _0x1f985c=0x735*-0x1+0x1edd+-0x8*0x2f5;_0x1f985c<_0x46aadc['length'];_0x1f985c++)if(typeof _0x46aadc[_0x1f985c]!='number')return null;_0x1c501f||(_0x1c501f=new _0x2f9d70());for(let _0x16ec13=-0x405+0x5*0x6b9+-0x1d98;_0x16ec13<_0x2005ef;_0x16ec13++)_0x1c501f[EF[_0x16ec13]]=_0x46aadc[_0x16ec13];return _0x1c501f;}return null;}case'curve':if(_0x46aadc){let _0x17d7e4;if(_0x46aadc instanceof qs||_0x46aadc instanceof na)_0x17d7e4=_0x46aadc['clone']();else{const _0x39816b=_0x46aadc['keys'][0x1*0x1137+0x14*0x1e7+-0x3743]instanceof Array?na:qs;_0x17d7e4=new _0x39816b(_0x46aadc['keys']),_0x17d7e4['type']=_0x46aadc['type'];}return _0x17d7e4;}break;}return _0x46aadc;}function _0(_0x3e7038,_0x526f5f,_0x2e4b06,_0x3eca9b){return _0x526f5f['array']?_0x2e4b06['map']((_0x42c4ac,_0x1ca526)=>Yn(_0x3e7038,_0x526f5f,_0x42c4ac,_0x3eca9b?_0x3eca9b[_0x1ca526]:null)):Yn(_0x3e7038,_0x526f5f,_0x2e4b06,_0x3eca9b);}function g0(_0x404a83,_0x5dfd2c,_0x1ff0cc,_0x16a7cf){if(_0x1ff0cc)for(const _0x5a6616 in _0x5dfd2c){const _0x5cc63b=_0x5dfd2c[_0x5a6616],_0x29f23f=_0x1ff0cc[_0x5a6616];_0x29f23f!==void(-0xa19+-0x2378+0x2d91)&&(_0x16a7cf[_0x5a6616]=_0(_0x404a83,_0x5cc63b,_0x29f23f,_0x16a7cf[_0x5a6616]));}}const yn=class yn{constructor(_0x1c86a3){this['scriptType']=_0x1c86a3,this['index']={};}['add'](_0x42187e,_0x5ca3ea){if(this['index'][_0x42187e]){w['warn']('attribute\x20'+'\x27'+_0x42187e+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(yn['reservedNa'+'mes']['has'](_0x42187e)){w['warn']('attribute\x20'+'\x27'+_0x42187e+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x42187e]=_0x5ca3ea,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x42187e,{'get':function(){return this['__attribut'+'es'][_0x42187e];},'set':function(_0x3a91ac){const _0x5d4e2a='attr',_0x38a9ff='attr:'+_0x42187e,_0x305a74=this['__attribut'+'es'][_0x42187e];let _0x394e1f=_0x305a74;if(_0x305a74&&_0x5ca3ea['type']!=='json'&&_0x5ca3ea['type']!=='entity'&&_0x305a74['clone']&&(this['hasEvent'](_0x5d4e2a)||this['hasEvent'](_0x38a9ff))&&(_0x394e1f=_0x305a74['clone']()),_0x5ca3ea['array']){if(this['__attribut'+'es'][_0x42187e]=[],_0x3a91ac){for(let _0x5bdd24=-0x633+0x3e*-0x46+0x1727,_0x2697f3=_0x3a91ac['length'];_0x5bdd24<_0x2697f3;_0x5bdd24++)this['__attribut'+'es'][_0x42187e]['push'](Yn(this['app'],_0x5ca3ea,_0x3a91ac[_0x5bdd24],_0x305a74?_0x305a74[_0x5bdd24]:null));}}else this['__attribut'+'es'][_0x42187e]=Yn(this['app'],_0x5ca3ea,_0x3a91ac,_0x305a74);this['fire'](_0x5d4e2a,_0x42187e,this['__attribut'+'es'][_0x42187e],_0x394e1f),this['fire'](_0x38a9ff,this['__attribut'+'es'][_0x42187e],_0x394e1f);}});}['remove'](_0x382b16){return this['index'][_0x382b16]?(delete this['index'][_0x382b16],delete this['scriptType']['prototype'][_0x382b16],!(-0x1c*0xc2+0x1e5c+-0xd*0xb4)):!(-0x2371*-0x1+0x83*-0x19+-0x11*0x155);}['has'](_0xb47ef9){return!!this['index'][_0xb47ef9];}['get'](_0x6bf96b){return this['index'][_0x6bf96b]||null;}};h(yn,'assignAttr'+'ibutesToSc'+'ript',g0),h(yn,'attributeT'+'oValue',_0),h(yn,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Sl=yn;const Bu='initialize',zu='postInitia'+'lize',AF='update',CF='postUpdate',PF='swap';class ts extends me{constructor(_0x3e59fc){super(),h(this,'app'),h(this,'entity'),h(this,'_enabled'),h(this,'_enabledOl'+'d'),h(this,'_initializ'+'ed'),h(this,'_postIniti'+'alized'),h(this,'__destroye'+'d'),h(this,'__scriptTy'+'pe'),h(this,'__executio'+'nOrder'),this['initScript'](_0x3e59fc);}set['enabled'](_0x3983ec){this['_enabled']=!!_0x3983ec,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(-0x640+-0x189*0xb+0x1723*0x1),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,Bu)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(-0x93c+-0x52*0xd+0xd66),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,zu)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x1f89aa){const _0x4c6778=this['constructo'+'r'];w['assert'](_0x1f89aa&&_0x1f89aa['app']&&_0x1f89aa['entity'],'script\x20['+_0x4c6778['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x1f89aa['app'],this['entity']=_0x1f89aa['entity'],this['_enabled']=typeof _0x1f89aa['enabled']=='boolean'?_0x1f89aa['enabled']:!(-0x216d*0x1+-0x2219+0x43*0x102),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(0x121*0xe+-0x24c0+-0x1*-0x14f3),this['__scriptTy'+'pe']=_0x4c6778,this['__executio'+'nOrder']=-(0x1c7e+-0x2226+0x15*0x45);}static get['scriptName'](){return this['__name'];}}h(ts,'EVENT_ENAB'+'LE','enable'),h(ts,'EVENT_DISA'+'BLE','disable'),h(ts,'EVENT_STAT'+'E','state'),h(ts,'EVENT_DEST'+'ROY','destroy'),h(ts,'EVENT_ATTR','attr'),h(ts,'EVENT_ERRO'+'R','error'),h(ts,'__name',null),h(ts,'__getScrip'+'tName',S0);const MF=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function S0(_0x5bd974){if(typeof _0x5bd974!='function')return;if(_0x5bd974['scriptName'])return _0x5bd974['scriptName'];if('name'in Function['prototype'])return _0x5bd974['name'];if(_0x5bd974===Function||_0x5bd974===Function['prototype']['constructo'+'r'])return'Function';const _0x503e98=(''+_0x5bd974)['match'](MF);return _0x503e98?_0x503e98[-0x1*0x17e1+0x1c1*0xd+0x115]:void(-0x1*0xd54+-0x1*-0x9ef+0xb*0x4f);}class Wo extends ts{constructor(_0x5635f5){super(_0x5635f5),h(this,'__attribut'+'es'),h(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x5635f5);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Sl(this)),this['__attribut'+'es'];}['initScript'](_0x4b207d){ts['prototype']['initScript']['call'](this,_0x4b207d),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x4b207d['attributes']||{};}['initScript'+'Type'](_0x32c61e){this['initScript'](_0x32c61e);}['__initiali'+'zeAttribut'+'es'](_0x94bdf9){if(!(!_0x94bdf9&&!this['__attribut'+'esRaw'])){for(const _0x3aae47 in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x3aae47)?this[_0x3aae47]=this['__attribut'+'esRaw'][_0x3aae47]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x3aae47)||(this['__scriptTy'+'pe']['attributes']['index'][_0x3aae47]['hasOwnProp'+'erty']('default')?this[_0x3aae47]=this['__scriptTy'+'pe']['attributes']['index'][_0x3aae47]['default']:this[_0x3aae47]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0x2f0b56){for(const _0xd5bc in _0x2f0b56)_0x2f0b56['hasOwnProp'+'erty'](_0xd5bc)&&(this['prototype'][_0xd5bc]=_0x2f0b56[_0xd5bc]);}}const DF=_0x129a7a=>_0x129a7a[0x5c*-0x11+0x7*-0x514+0x2b*0xf8]['toLowerCas'+'e']()+_0x129a7a['substring'](0xfea+0x83*0x33+-0x2a02);class Ii extends we{constructor(_0x5a1667,_0x5f08b7){super(_0x5a1667,_0x5f08b7),h(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new oh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new oh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(-0x8d7*-0x4+0x2*0x5fb+-0x2f51),this['_scriptsDa'+'ta']=null,this['_oldState']=!(-0x11*-0x109+0x22dc+-0x3475),this['_enabled']=!(0xdd2*0x1+-0x1e4+-0xbee*0x1),this['_beingEnab'+'led']=!(-0x66c+-0xe*-0x14a+-0xb9f),this['_isLooping'+'ThroughScr'+'ipts']=!(-0xb26+-0x1ea3+0x6*0x6f7),this['_execution'+'Order']=-(0x17*0xeb+-0x16*0x64+-0xc84),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x482c08){this['_scriptsDa'+'ta']=_0x482c08;for(const _0x131561 in _0x482c08){if(!_0x482c08['hasOwnProp'+'erty'](_0x131561))continue;const _0x197298=this['_scriptsIn'+'dex'][_0x131561];if(_0x197298){if(typeof _0x482c08[_0x131561]['enabled']=='boolean'&&(_0x197298['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x197298);}),_0x197298['enabled']=!!_0x482c08[_0x131561]['enabled']),typeof _0x482c08[_0x131561]['attributes']=='object'){for(const _0x56b11f in _0x482c08[_0x131561]['attributes'])if(!Sl['reservedNa'+'mes']['has'](_0x56b11f)){if(!_0x197298['__attribut'+'es']['hasOwnProp'+'erty'](_0x56b11f)){const _0xb025f9=this['system']['app']['scripts']['get'](_0x131561);_0xb025f9&&_0xb025f9['attributes']['add'](_0x56b11f,{});}_0x197298[_0x56b11f]=_0x482c08[_0x131561]['attributes'][_0x56b11f];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x2f8514){const _0x51bb96=this['_enabled'];this['_enabled']=_0x2f8514,this['fire']('set','enabled',_0x51bb96,_0x2f8514);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(0x2214+-0x2208+0x4*-0x3),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(-0xdc*-0x29+-0x9b8+-0x1983);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x296369=this['_beginLoop'+'ing']();for(let _0x456021=-0x2384*-0x1+0x12b9+0x5*-0xad9,_0x403593=this['scripts']['length'];_0x456021<_0x403593;_0x456021++){const _0xb52143=this['scripts'][_0x456021];_0xb52143['_initializ'+'ed']&&!_0xb52143['_postIniti'+'alized']&&_0xb52143['enabled']&&(_0xb52143['_postIniti'+'alized']=!(0x1f8d+0x9f4*0x1+-0x19*0x1a9),_0xb52143['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0xb52143,zu));}this['_endLoopin'+'g'](_0x296369);}['_beginLoop'+'ing'](){const _0x569ad0=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(-0x20fe+0x1*0xcc5+0x1439),_0x569ad0;}['_endLoopin'+'g'](_0x1d2c63){this['_isLooping'+'ThroughScr'+'ipts']=_0x1d2c63,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0xa5b081,_0x1a3d17,_0x97ac57){this['_beingEnab'+'led']=!(-0xf83+0x1f6c+0x1*-0xfe9),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(0x1b3d+-0x1345+-0x7f7*0x1);}['_checkStat'+'e'](){const _0x6ec512=this['enabled']&&this['entity']['enabled'];if(_0x6ec512===this['_oldState'])return;this['_oldState']=_0x6ec512,this['fire'](_0x6ec512?'enable':'disable'),this['fire']('state',_0x6ec512),_0x6ec512?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x2d52de=this['_beginLoop'+'ing']();for(let _0x24b2a7=0xc*-0x25a+-0xc11+0x2849,_0x9e7686=this['scripts']['length'];_0x24b2a7<_0x9e7686;_0x24b2a7++){const _0x4657a1=this['scripts'][_0x24b2a7];_0x4657a1['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x4657a1);}),_0x4657a1['enabled']=_0x4657a1['_enabled'];}this['_endLoopin'+'g'](_0x2d52de);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0xcc8392=this['_beginLoop'+'ing']();for(let _0x53e055=0x1*-0x1f29+0x2576+-0x64d;_0x53e055<this['scripts']['length'];_0x53e055++){const _0x464c95=this['scripts'][_0x53e055];_0x464c95&&this['destroy'](_0x464c95['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0xcc8392);}['_removeDes'+'troyedScri'+'pts'](){const _0x4a60c6=this['_destroyed'+'Scripts']['length'];if(_0x4a60c6){for(let _0x1a81dc=-0x1b8d*-0x1+-0xb*0xc4+-0x1321;_0x1a81dc<_0x4a60c6;_0x1a81dc++){const _0x4ae6f2=this['_destroyed'+'Scripts'][_0x1a81dc];this['_removeScr'+'iptInstanc'+'e'](_0x4ae6f2);}this['_destroyed'+'Scripts']['length']=0x100*-0xd+-0x19d*-0x6+0x352,this['_resetExec'+'utionOrder'](0x1075+-0x25f8+0x1583,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x4efd00=0xdbe+0xf1a+-0x1cd8,_0x46ce2f=this['scripts']['length'];_0x4efd00<_0x46ce2f;_0x4efd00++){const _0x33b859=this['scripts'][_0x4efd00];this['initialize'+'Attributes'](_0x33b859);}}['initialize'+'Attributes'](_0x3d6c00){var _0x42f5b2;if(_0x3d6c00 instanceof Wo)_0x3d6c00['__initiali'+'zeAttribut'+'es']();else{const _0x379239=_0x3d6c00['__scriptTy'+'pe']['__name'],_0x1b9c4d=this['_attribute'+'DataMap']['get'](_0x379239);if(!_0x1b9c4d)return;const _0x29bafc=(_0x42f5b2=this['system']['app']['scripts'])==null?void(-0x215*-0x11+0xa3f*-0x1+-0x1926):_0x42f5b2['getSchema'](_0x379239);_0x29bafc||w['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x379239+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),g0(this['system']['app'],_0x29bafc['attributes'],_0x1b9c4d,_0x3d6c00);}}['_scriptMet'+'hod'](_0xa2dc2a,_0x581f7f,_0x5ae9c2){try{_0xa2dc2a[_0x581f7f](_0x5ae9c2);}catch(_0x493831){_0xa2dc2a['enabled']=!(0x161c+-0x3d*0x41+0x9a*-0xb),_0xa2dc2a['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x581f7f+'\x22\x20for\x20\x22'+_0xa2dc2a['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x493831),console['error'](_0x493831)),_0xa2dc2a['fire']('error',_0x493831,_0x581f7f),this['fire']('error',_0xa2dc2a,_0x493831,_0x581f7f);}}['_onInitial'+'ize'](){const _0x269214=this['_scripts'],_0x303d05=this['_beginLoop'+'ing']();for(let _0x546203=0x1d26+0x3*0x81b+0x3577*-0x1,_0x28e972=_0x269214['length'];_0x546203<_0x28e972;_0x546203++){const _0x4c0dad=_0x269214[_0x546203];!_0x4c0dad['_initializ'+'ed']&&_0x4c0dad['enabled']&&(_0x4c0dad['_initializ'+'ed']=!(0x305*-0xb+-0x198e+0x3ac5),_0x4c0dad['initialize']&&this['_scriptMet'+'hod'](_0x4c0dad,Bu));}this['_endLoopin'+'g'](_0x303d05);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x19a993){const _0x58ba84=this['_updateLis'+'t'];if(!_0x58ba84['length'])return;const _0x2ad5f7=this['_beginLoop'+'ing']();for(_0x58ba84['loopIndex']=-0x1127+-0x1a6b+0x1*0x2b92;_0x58ba84['loopIndex']<_0x58ba84['length'];_0x58ba84['loopIndex']++){const _0x3e9e94=_0x58ba84['items'][_0x58ba84['loopIndex']];_0x3e9e94['enabled']&&this['_scriptMet'+'hod'](_0x3e9e94,AF,_0x19a993);}this['_endLoopin'+'g'](_0x2ad5f7);}['_onPostUpd'+'ate'](_0x220094){const _0x495cb9=this['_postUpdat'+'eList'];if(!_0x495cb9['length'])return;const _0x5e546d=this['_beginLoop'+'ing']();for(_0x495cb9['loopIndex']=-0x1d71+-0x129*0x13+0x337c;_0x495cb9['loopIndex']<_0x495cb9['length'];_0x495cb9['loopIndex']++){const _0x129599=_0x495cb9['items'][_0x495cb9['loopIndex']];_0x129599['enabled']&&this['_scriptMet'+'hod'](_0x129599,CF,_0x220094);}this['_endLoopin'+'g'](_0x5e546d);}['_insertScr'+'iptInstanc'+'e'](_0x2be27d,_0x1ff272,_0x5872dd){_0x1ff272===-(-0x8a*-0x38+-0x1d44+-0xeb)?(this['_scripts']['push'](_0x2be27d),_0x2be27d['__executio'+'nOrder']=_0x5872dd,_0x2be27d['update']&&this['_updateLis'+'t']['append'](_0x2be27d),_0x2be27d['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x2be27d)):(this['_scripts']['splice'](_0x1ff272,0x1d84+0x15*-0x7e+-0x132e,_0x2be27d),_0x2be27d['__executio'+'nOrder']=_0x1ff272,this['_resetExec'+'utionOrder'](_0x1ff272+(0x2+-0xc36+0x7d*0x19),_0x5872dd+(-0x23d6+0x47*-0x19+0x2*0x1563)),_0x2be27d['update']&&this['_updateLis'+'t']['insert'](_0x2be27d),_0x2be27d['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x2be27d));}['_removeScr'+'iptInstanc'+'e'](_0x3539d4){const _0x47fd2b=this['_scripts']['indexOf'](_0x3539d4);return _0x47fd2b===-(0x1505+0x1501*0x1+-0x2a05)||(this['_scripts']['splice'](_0x47fd2b,0x8a6+-0x25da+0x1d35*0x1),_0x3539d4['update']&&this['_updateLis'+'t']['remove'](_0x3539d4),_0x3539d4['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x3539d4)),_0x47fd2b;}['_resetExec'+'utionOrder'](_0x3b534b,_0x4cfd78){for(let _0x321022=_0x3b534b;_0x321022<_0x4cfd78;_0x321022++)this['_scripts'][_0x321022]['__executio'+'nOrder']=_0x321022;}['_resolveEn'+'tityScript'+'Attribute'](_0x409ca1,_0x34ef7f,_0x33ebca,_0x52d423,_0xd0f8ec,_0x136a26){if(_0x409ca1['array']){const _0x1262d7=_0x33ebca['length'];if(!_0x1262d7)return;const _0xe19480=_0x33ebca['slice']();for(let _0x5e5668=0xe5*0x1+0x101f*-0x1+0x2*0x79d;_0x5e5668<_0x1262d7;_0x5e5668++){const _0x267d63=_0xe19480[_0x5e5668]instanceof lt?_0xe19480[_0x5e5668]['getGuid']():_0xe19480[_0x5e5668];_0x136a26[_0x267d63]&&(_0xe19480[_0x5e5668]=_0x52d423?_0x136a26[_0x267d63]['getGuid']():_0x136a26[_0x267d63]);}_0xd0f8ec[_0x34ef7f]=_0xe19480;}else{if(_0x33ebca instanceof lt)_0x33ebca=_0x33ebca['getGuid']();else{if(typeof _0x33ebca!='string')return;}_0x136a26[_0x33ebca]&&(_0xd0f8ec[_0x34ef7f]=_0x136a26[_0x33ebca]);}}['has'](_0x24ce38){if(typeof _0x24ce38=='string')return!!this['_scriptsIn'+'dex'][_0x24ce38];if(!_0x24ce38)return!(0x668*0x6+-0x2df+0x2390*-0x1);const _0x48d2e8=_0x24ce38,_0x560512=_0x48d2e8['__name'],_0x1788b1=this['_scriptsIn'+'dex'][_0x560512];return(_0x1788b1&&_0x1788b1['instance'])instanceof _0x48d2e8;}['get'](_0x5c414d){if(typeof _0x5c414d=='string'){const _0x3cbeaa=this['_scriptsIn'+'dex'][_0x5c414d];return _0x3cbeaa?_0x3cbeaa['instance']:null;}if(!_0x5c414d)return null;const _0x2efc5d=_0x5c414d,_0x24bd61=_0x2efc5d['__name'],_0x2777c6=this['_scriptsIn'+'dex'][_0x24bd61],_0x362af7=_0x2777c6&&_0x2777c6['instance'];return _0x362af7 instanceof _0x2efc5d?_0x362af7:null;}['create'](_0x58a6cc,_0x236f51={}){const _0x4a067d=this;let _0x2efa5d=_0x58a6cc,_0x5e90ce=_0x58a6cc;if(typeof _0x2efa5d=='string')_0x2efa5d=this['system']['app']['scripts']['get'](_0x2efa5d);else{if(_0x2efa5d){const _0x2d4d87=S0(_0x2efa5d),_0x5876bb=DF(_0x2d4d87);!(_0x2efa5d['prototype']instanceof Wo)&&!_0x2efa5d['scriptName']&&w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0x2d4d87+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0x2d4d87+('.scriptNam'+'e\x20=\x20\x22')+_0x5876bb+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.')),_0x2efa5d['__name']??(_0x2efa5d['__name']=_0x2efa5d['scriptName']??_0x5876bb),_0x5e90ce=_0x2efa5d['__name'];}}if(_0x2efa5d){if(!this['_scriptsIn'+'dex'][_0x5e90ce]||!this['_scriptsIn'+'dex'][_0x5e90ce]['instance']){const _0x1848a4=new _0x2efa5d({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x236f51['hasOwnProp'+'erty']('enabled')?_0x236f51['enabled']:!(0x1*-0x148d+0x515+-0xa5*-0x18),'attributes':_0x236f51['attributes']||{}});_0x236f51['properties']&&typeof _0x236f51['properties']=='object'&&Object['assign'](_0x1848a4,_0x236f51['properties']),_0x1848a4 instanceof Wo||this['_attribute'+'DataMap']['set'](_0x5e90ce,_0x236f51['attributes']);const _0x22c1e9=this['_scripts']['length'];let _0x148269=-(0x14*0xda+-0x1df*-0x11+0x186b*-0x2);return typeof _0x236f51['ind']=='number'&&_0x236f51['ind']!==-(-0x1ac0+-0x4c6+-0x1f87*-0x1)&&_0x22c1e9>_0x236f51['ind']&&(_0x148269=_0x236f51['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x1848a4,_0x148269,_0x22c1e9),this['_scriptsIn'+'dex'][_0x5e90ce]={'instance':_0x1848a4,'onSwap':function(){_0x4a067d['swap'](_0x5e90ce);}},this[_0x5e90ce]=_0x1848a4,_0x236f51['preloading']||this['initialize'+'Attributes'](_0x1848a4),this['fire']('create',_0x5e90ce,_0x1848a4),this['fire']('create:'+_0x5e90ce,_0x1848a4),this['system']['app']['scripts']['on']('swap:'+_0x5e90ce,this['_scriptsIn'+'dex'][_0x5e90ce]['onSwap']),_0x236f51['preloading']||(_0x1848a4['enabled']&&!_0x1848a4['_initializ'+'ed']&&(_0x1848a4['_initializ'+'ed']=!(0x2*-0x102f+-0x1599+0x35f7),_0x1848a4['initialize']&&this['_scriptMet'+'hod'](_0x1848a4,Bu)),_0x1848a4['enabled']&&!_0x1848a4['_postIniti'+'alized']&&(_0x1848a4['_postIniti'+'alized']=!(-0x2309+-0x2590+0x4899),_0x1848a4['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x1848a4,zu))),_0x1848a4;}w['warn']('script\x20\x27'+_0x5e90ce+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x5e90ce]={'awaiting':!(0x18a0+-0x22b3+-0x1*-0xa13),'ind':this['_scripts']['length']},w['warn']('script\x20\x27'+_0x5e90ce+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x174cd9){let _0x473915=_0x174cd9,_0x9f7340=_0x174cd9;typeof _0x9f7340=='string'?_0x9f7340=this['system']['app']['scripts']['get'](_0x9f7340):_0x9f7340&&(_0x473915=_0x9f7340['__name']);const _0x212dde=this['_scriptsIn'+'dex'][_0x473915];if(delete this['_scriptsIn'+'dex'][_0x473915],!_0x212dde)return!(0x17de+0x1a67+-0x3244);this['_attribute'+'DataMap']['delete'](_0x473915);const _0x3806e5=_0x212dde['instance'];if(_0x3806e5&&!_0x3806e5['_destroyed']){if(_0x3806e5['enabled']=!(0x7*-0x6a+-0x18d6+0x1*0x1bbd),_0x3806e5['_destroyed']=!(0x1*-0xf3d+0x1*0x216+0xd27),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x3806e5);else{const _0x471cb7=this['_removeScr'+'iptInstanc'+'e'](_0x3806e5);_0x471cb7>=-0x22*0x3d+-0x2608+0x1*0x2e22&&this['_resetExec'+'utionOrder'](_0x471cb7,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x473915,_0x212dde['onSwap']),delete this[_0x473915],this['fire']('destroy',_0x473915,_0x3806e5||null),this['fire']('destroy:'+_0x473915,_0x3806e5||null),_0x3806e5&&_0x3806e5['fire']('destroy'),!(-0x42b*-0x2+-0x229*0x1+-0x62d);}['swap'](_0x544ea7){let _0x180ad3=_0x544ea7,_0x24e916=_0x544ea7;typeof _0x24e916=='string'?_0x24e916=this['system']['app']['scripts']['get'](_0x24e916):_0x24e916&&(_0x180ad3=_0x24e916['__name']);const _0x687da3=this['_scriptsIn'+'dex'][_0x180ad3];if(!_0x687da3||!_0x687da3['instance'])return!(0x2*-0x1b1+0x2226+-0x4b*0x69);const _0x3628a7=_0x687da3['instance'],_0x1c338d=this['_scripts']['indexOf'](_0x3628a7),_0x29f541=new _0x24e916({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x3628a7['enabled'],'attributes':_0x3628a7['__attribut'+'es']});return _0x29f541['swap']?(this['initialize'+'Attributes'](_0x29f541),this['_scripts'][_0x1c338d]=_0x29f541,this['_scriptsIn'+'dex'][_0x180ad3]['instance']=_0x29f541,this[_0x180ad3]=_0x29f541,_0x29f541['__executio'+'nOrder']=_0x1c338d,_0x3628a7['update']&&this['_updateLis'+'t']['remove'](_0x3628a7),_0x3628a7['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x3628a7),_0x29f541['update']&&this['_updateLis'+'t']['insert'](_0x29f541),_0x29f541['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x29f541),this['_scriptMet'+'hod'](_0x29f541,PF,_0x3628a7),this['fire']('swap',_0x180ad3,_0x29f541),this['fire']('swap:'+_0x180ad3,_0x29f541),!(0x1e42+0x1636+0x4*-0xd1e)):!(-0xd*-0x20f+-0x139*-0xc+-0x2*0x14b7);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0xb86599,_0x2bd279){var _0x344763,_0xf5c61d,_0x761035;const _0x1838e0=this['entity']['script'];for(const _0x124df6 in _0xb86599['_scriptsIn'+'dex']){const _0x1928a2=this['system']['app']['scripts']['get'](_0x124df6);if(!_0x1928a2)continue;const _0x1e08a1=_0xb86599['_scriptsIn'+'dex'][_0x124df6];if(!_0x1e08a1||!_0x1e08a1['instance'])continue;const _0x8496ed=_0x1838e0[_0x124df6]['__attribut'+'esRaw']??_0x1838e0['_attribute'+'DataMap']['get'](_0x124df6),_0x2b9014=_0x1838e0[_0x124df6]['__attribut'+'es'];if(!_0x8496ed&&!_0x2b9014)continue;const _0x17aa07=!!_0x8496ed,_0x2d9125=_0x1e08a1['instance']['__attribut'+'es']??_0x1838e0['_attribute'+'DataMap']['get'](_0x124df6);for(const _0x54aa4b in _0x2d9125){if(!_0x2d9125[_0x54aa4b])continue;const _0x2ca53a=((_0x344763=_0x1928a2['attributes'])==null?void(0x3e6*-0x3+0x1814+-0xc62):_0x344763['get'](_0x54aa4b))??((_0x761035=(_0xf5c61d=this['system']['app']['scripts']['getSchema'](_0x124df6))==null?void(-0x1*-0x1b7d+-0xd3*-0x15+-0x1666*0x2):_0xf5c61d['attributes'])==null?void(-0x542+0x2*-0x125e+0x29fe):_0x761035[_0x54aa4b]);if(_0x2ca53a){if(_0x2ca53a['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x2ca53a,_0x54aa4b,_0x2d9125[_0x54aa4b],_0x17aa07,_0x8496ed||_0x2b9014,_0x2bd279);else{if(_0x2ca53a['type']==='json'&&Array['isArray'](_0x2ca53a['schema'])){const _0x2255d1=_0x2d9125[_0x54aa4b],_0x294fb0=_0x8496ed?_0x8496ed[_0x54aa4b]:_0x2b9014[_0x54aa4b];for(let _0x5a0809=0x24d7+0x4*0xd5+-0x282b;_0x5a0809<_0x2ca53a['schema']['length'];_0x5a0809++){const _0x543236=_0x2ca53a['schema'][_0x5a0809];if(_0x543236['type']==='entity'){if(_0x2ca53a['array']){for(let _0x5dc026=0xbc2+0x1c03+-0x27c5*0x1;_0x5dc026<_0x2255d1['length'];_0x5dc026++)this['_resolveEn'+'tityScript'+'Attribute'](_0x543236,_0x543236['name'],_0x2255d1[_0x5dc026][_0x543236['name']],_0x17aa07,_0x294fb0[_0x5dc026],_0x2bd279);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x543236,_0x543236['name'],_0x2255d1[_0x543236['name']],_0x17aa07,_0x294fb0,_0x2bd279);}}}}}}}}['move'](_0x367b92,_0x577e5b){const _0x29b39c=this['_scripts']['length'];if(_0x577e5b>=_0x29b39c||_0x577e5b<-0x1c74+-0x116*-0x10+0xb14)return!(-0x1f55+-0x1c91+0x3be7);let _0x509c55=_0x367b92,_0xdce3c0=_0x367b92;typeof _0xdce3c0!='string'?_0xdce3c0=_0x367b92['__name']:_0x509c55=null;const _0x33c967=this['_scriptsIn'+'dex'][_0xdce3c0];if(!_0x33c967||!_0x33c967['instance'])return!(0x7*0x2ef+0x1*0x1bc5+-0x304d);const _0x3efb86=_0x33c967['instance'];if(_0x509c55&&!(_0x3efb86 instanceof _0x509c55))return!(-0x5ef*0x3+-0x1c1*0x4+0x18d2);const _0x41ed7e=this['_scripts']['indexOf'](_0x3efb86);return _0x41ed7e===-(-0xeb6+-0x2029+0x4*0xbb8)||_0x41ed7e===_0x577e5b?!(0x126c+0x435*-0x3+-0x5cc):(this['_scripts']['splice'](_0x577e5b,0x3*-0x658+0x20c9+-0xdc1,this['_scripts']['splice'](_0x41ed7e,-0x181*0x11+-0x22c8+0x3c5a)[-0x31*-0x34+0xc*-0x12+-0x1*0x91c]),this['_resetExec'+'utionOrder'](0xd72*0x1+-0x20c6+0x1354,_0x29b39c),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0xdce3c0,_0x3efb86,_0x577e5b,_0x41ed7e),this['fire']('move:'+_0xdce3c0,_0x3efb86,_0x577e5b,_0x41ed7e),!(-0x872+0x119d+0x92b*-0x1));}}h(Ii,'EVENT_CREA'+'TE','create'),h(Ii,'EVENT_DEST'+'ROY','destroy'),h(Ii,'EVENT_ENAB'+'LE','enable'),h(Ii,'EVENT_DISA'+'BLE','disable'),h(Ii,'EVENT_REMO'+'VE','remove'),h(Ii,'EVENT_STAT'+'E','state'),h(Ii,'EVENT_MOVE','move'),h(Ii,'EVENT_ERRO'+'R','error');class IF{constructor(){this['enabled']=!(-0x311*0x1+-0x1e1f+0x2130);}}const LF='_onInitial'+'izeAttribu'+'tes',RF='_onInitial'+'ize',OF='_onPostIni'+'tialize',FF='_onUpdate',NF='_onPostUpd'+'ate';let Mc=0x9*0x123+0x47*0x5c+-0x1*0x23bf;class kF extends ct{constructor(_0x562e2e){super(_0x562e2e),this['id']='script',this['ComponentT'+'ype']=Ii,this['DataType']=IF,this['_component'+'s']=new oh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new oh({'sortBy':'_execution'+'Order'}),this['preloading']=!(-0x2527*-0x1+-0x4*0x151+0x3*-0xaa1),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x13600b,_0x47c011){if(_0x13600b['_execution'+'Order']=Mc++,this['_component'+'s']['append'](_0x13600b),Mc>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x13600b['enabled']=_0x47c011['hasOwnProp'+'erty']('enabled')?!!_0x47c011['enabled']:!(-0x1e55*0x1+0xbc*-0x1+-0x1*-0x1f11),_0x13600b['enabled']&&_0x13600b['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x13600b),_0x47c011['hasOwnProp'+'erty']('order')&&_0x47c011['hasOwnProp'+'erty']('scripts')){_0x13600b['_scriptsDa'+'ta']=_0x47c011['scripts'];for(let _0x15b6b6=0x244c+-0x6d7*-0x1+-0x4cb*0x9;_0x15b6b6<_0x47c011['order']['length'];_0x15b6b6++)_0x13600b['create'](_0x47c011['order'][_0x15b6b6],{'enabled':_0x47c011['scripts'][_0x47c011['order'][_0x15b6b6]]['enabled'],'attributes':_0x47c011['scripts'][_0x47c011['order'][_0x15b6b6]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x39b72f,_0x4f59a9){var _0x3ae940;const _0x42606e=[],_0x13f1b2={};for(let _0x1c00d=0x20ac+-0x128f*0x2+0x472;_0x1c00d<_0x39b72f['script']['_scripts']['length'];_0x1c00d++){const _0x1f28eb=_0x39b72f['script']['_scripts'][_0x1c00d],_0x2f22af=_0x1f28eb['__scriptTy'+'pe']['__name'];_0x42606e['push'](_0x2f22af);const _0x1da1a5=((_0x3ae940=_0x39b72f['script']['_attribute'+'DataMap'])==null?void(-0x1edf+0x18ae+0x631):_0x3ae940['get'](_0x2f22af))||{};for(const _0x1a36c2 in _0x1f28eb['__attribut'+'es'])_0x1da1a5[_0x1a36c2]=_0x1f28eb['__attribut'+'es'][_0x1a36c2];_0x13f1b2[_0x2f22af]={'enabled':_0x1f28eb['_enabled'],'attributes':_0x1da1a5};}for(const _0x390a30 in _0x39b72f['script']['_scriptsIn'+'dex'])_0x390a30['awaiting']&&_0x42606e['splice'](_0x390a30['ind'],-0x1f83+-0x1*0x1bef+-0x87e*-0x7,_0x390a30);const _0x5b03d1={'enabled':_0x39b72f['script']['enabled'],'order':_0x42606e,'scripts':_0x13f1b2};return this['addCompone'+'nt'](_0x4f59a9,_0x5b03d1);}['_resetExec'+'utionOrder'](){Mc=-0x1*-0x21a5+0x2dd*0xc+-0x4401*0x1;for(let _0x20f3e9=0x99+0xbd4+-0xc6d,_0x32af59=this['_component'+'s']['length'];_0x20f3e9<_0x32af59;_0x20f3e9++)this['_component'+'s']['items'][_0x20f3e9]['_execution'+'Order']=Mc++;}['_callCompo'+'nentMethod'](_0x4f82b1,_0x1355b6,_0x418c06){for(_0x4f82b1['loopIndex']=0x1e40+0xeb+-0x1f2b;_0x4f82b1['loopIndex']<_0x4f82b1['length'];_0x4f82b1['loopIndex']++)_0x4f82b1['items'][_0x4f82b1['loopIndex']][_0x1355b6](_0x418c06);}['_onInitial'+'ize'](){this['preloading']=!(-0x1*0xd54+0x80*0xe+-0x1*-0x655),this['_callCompo'+'nentMethod'](this['_component'+'s'],LF),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],RF);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],OF);}['_onUpdate'](_0x2d46ea){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],FF,_0x2d46ea);}['_onPostUpd'+'ate'](_0x5b857b){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],NF,_0x5b857b);}['_addCompon'+'entToEnabl'+'ed'](_0x341491){this['_enabledCo'+'mponents']['insert'](_0x341491);}['_removeCom'+'ponentFrom'+'Enabled'](_0x44ca15){this['_enabledCo'+'mponents']['remove'](_0x44ca15);}['_onBeforeR'+'emove'](_0x459d62,_0x281c41){this['_component'+'s']['items']['indexOf'](_0x281c41)>=-0x1101*-0x1+0xd38+-0x1e39&&_0x281c41['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0x281c41),this['_component'+'s']['remove'](_0x281c41);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class y0 extends we{constructor(_0xe7cac7,_0xfc7df1){super(_0xe7cac7,_0xfc7df1),h(this,'_layers',[er]),h(this,'_instance',null),h(this,'_materialT'+'mp',null),h(this,'_highQuali'+'tySH',!(-0x1215+0x26ca+-0x9*0x24d)),h(this,'_customAab'+'b',null),h(this,'_assetRefe'+'rence'),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_castShado'+'ws',!(-0x1*0x122e+0x1991+0x2d*-0x2a)),(this['_assetRefe'+'rence']=new gl('asset',this,_0xe7cac7['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0xfc7df1['on']('remove',this['onRemoveCh'+'ild'],this),_0xfc7df1['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0xfc7df1['on']('insert',this['onInsertCh'+'ild'],this),_0xfc7df1['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x3a5ee1){var _0x6f9471,_0xd8e8e6;this['_customAab'+'b']=_0x3a5ee1,(_0xd8e8e6=(_0x6f9471=this['_instance'])==null?void(0x11c1+0x2*-0x8e4+-0x7*-0x1):_0x6f9471['meshInstan'+'ce'])==null||_0xd8e8e6['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x5a3519){if(this['destroyIns'+'tance'](),this['_instance']=_0x5a3519,this['_instance']){const _0x15e7d2=this['_instance']['meshInstan'+'ce'];_0x15e7d2['node']||(_0x15e7d2['node']=this['entity']),_0x15e7d2['castShadow']=this['_castShado'+'ws'],_0x15e7d2['setCustomA'+'abb'](this['_customAab'+'b']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['material'](_0x3cdcdb){this['_instance']?this['_instance']['material']=_0x3cdcdb:this['_materialT'+'mp']=_0x3cdcdb;}get['material'](){var _0x1fbd3a;return((_0x1fbd3a=this['_instance'])==null?void(0x1b*-0xe3+-0xc0e+0x23ff):_0x1fbd3a['material'])??this['_materialT'+'mp']??null;}set['highQualit'+'ySH'](_0x82fed6){_0x82fed6!==this['_highQuali'+'tySH']&&(this['_highQuali'+'tySH']=_0x82fed6,this['_instance']&&this['_instance']['setHighQua'+'litySH'](_0x82fed6));}get['highQualit'+'ySH'](){return this['_highQuali'+'tySH'];}set['castShadow'+'s'](_0x581006){var _0x4fe5c8;if(this['_castShado'+'ws']!==_0x581006){const _0xc3150a=(_0x4fe5c8=this['instance'])==null?void(-0x25b0+0x1*-0x2372+0x4922):_0x4fe5c8['meshInstan'+'ce'];if(_0xc3150a){const _0x3e6d2b=this['layers'],_0x43b42b=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x581006)for(let _0x1077dc=-0x187d+-0xc38+-0x24b5*-0x1;_0x1077dc<_0x3e6d2b['length'];_0x1077dc++){const _0x202ba2=_0x43b42b['layers']['getLayerBy'+'Id'](this['layers'][_0x1077dc]);_0x202ba2&&_0x202ba2['removeShad'+'owCasters']([_0xc3150a]);}if(_0xc3150a['castShadow']=_0x581006,!this['_castShado'+'ws']&&_0x581006)for(let _0x583a8f=0x1c0f+0x76*-0x2+-0x1b23;_0x583a8f<_0x3e6d2b['length'];_0x583a8f++){const _0x3dfd74=_0x43b42b['layers']['getLayerBy'+'Id'](_0x3e6d2b[_0x583a8f]);_0x3dfd74&&_0x3dfd74['addShadowC'+'asters']([_0xc3150a]);}}this['_castShado'+'ws']=_0x581006;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['layers'](_0x3a7b60){this['removeFrom'+'Layers'](),this['_layers']['length']=-0x3d*-0x62+-0x1b45+-0x3b*-0x11;for(let _0x1f3ebd=0x1*0x11d1+-0x41*0x71+0xae0;_0x1f3ebd<_0x3a7b60['length'];_0x1f3ebd++)this['_layers'][_0x1f3ebd]=_0x3a7b60[_0x1f3ebd];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x3245e4){const _0x3b4409=_0x3245e4 instanceof pe?_0x3245e4['id']:_0x3245e4;this['_assetRefe'+'rence']['id']!==_0x3b4409&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x3b4409,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['destroyIns'+'tance'](){var _0x24cecd;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x24cecd=this['_instance'])==null||_0x24cecd['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x87480f,_0x2a5bdc;const _0x4b0bff=(_0x87480f=this['instance'])==null?void(0x1915+-0xdd*-0x1+-0x19f2):_0x87480f['meshInstan'+'ce'];if(_0x4b0bff){const _0x451a1a=this['system']['app']['scene']['layers'];for(let _0x352ac8=0x1b59+0x2*-0xc11+-0x337;_0x352ac8<this['_layers']['length'];_0x352ac8++)(_0x2a5bdc=_0x451a1a['getLayerBy'+'Id'](this['_layers'][_0x352ac8]))==null||_0x2a5bdc['addMeshIns'+'tances']([_0x4b0bff]);}}['removeFrom'+'Layers'](){var _0x2602ef,_0x16ff03;const _0x8a2a2b=(_0x2602ef=this['instance'])==null?void(0x1e2d+-0x479*-0x5+-0x348a):_0x2602ef['meshInstan'+'ce'];if(_0x8a2a2b){const _0x500f17=this['system']['app']['scene']['layers'];for(let _0x231da8=0x4*-0x75d+0x10*0x25e+-0x21b*0x4;_0x231da8<this['_layers']['length'];_0x231da8++)(_0x16ff03=_0x500f17['getLayerBy'+'Id'](this['_layers'][_0x231da8]))==null||_0x16ff03['removeMesh'+'Instances']([_0x8a2a2b]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x420aaa,_0x4e4237){this['addToLayer'+'s'](),_0x420aaa['off']('add',this['onLayerAdd'+'ed'],this),_0x420aaa['off']('remove',this['onLayerRem'+'oved'],this),_0x4e4237['on']('add',this['onLayerAdd'+'ed'],this),_0x4e4237['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x3bdeb){this['layers']['indexOf'](_0x3bdeb['id'])<-0x1960+0x293*0x3+-0x1*-0x11a7||this['_instance']&&_0x3bdeb['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x25bd0a){this['layers']['indexOf'](_0x25bd0a['id'])<-0x1a*0xfe+0x62b*0x1+0x19*0xc9||this['_instance']&&_0x25bd0a['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x29d812=this['system']['app']['scene'],_0xaca8cd=_0x29d812['layers'];this['_evtLayers'+'Changed']=_0x29d812['on']('set:layers',this['onLayersCh'+'anged'],this),_0xaca8cd&&(this['_evtLayerA'+'dded']=_0xaca8cd['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0xaca8cd['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x26c445,_0x1309c5,_0x3af756;const _0x2c87d8=this['system']['app']['scene']['layers'];(_0x26c445=this['_evtLayers'+'Changed'])==null||_0x26c445['off'](),this['_evtLayers'+'Changed']=null,_0x2c87d8&&((_0x1309c5=this['_evtLayerA'+'dded'])==null||_0x1309c5['off'](),this['_evtLayerA'+'dded']=null,(_0x3af756=this['_evtLayerR'+'emoved'])==null||_0x3af756['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0xe*-0x19b+-0x7fe*-0x2+0x67f));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x1bf7+0x45+-0x1c3c));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x2dcba2=this['_assetRefe'+'rence']['asset'];_0x2dcba2&&(this['instance']=_0x2dcba2['resource']['createInst'+'ance'](_0x2dcba2['resource'],{'material':this['_materialT'+'mp'],'highQualitySH':this['_highQuali'+'tySH']}),this['_materialT'+'mp']=null,this['customAabb']=this['instance']['resource']['aabb']['clone']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class UF{constructor(){this['enabled']=!(-0x1*0x8db+0x2063*-0x1+-0x149f*-0x2);}}const Vu=['enabled'],To=['castShadow'+'s','material','highQualit'+'ySH','asset','layers'];class BF extends ct{constructor(_0x534262){super(_0x534262),this['id']='gsplat',this['ComponentT'+'ype']=y0,this['DataType']=UF,this['schema']=Vu,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x21a8a9,_0x19d160,_0x3e6bec){_0x19d160['layers']&&_0x19d160['layers']['length']&&(_0x19d160['layers']=_0x19d160['layers']['slice'](-0x1*-0x11ba+0x61*0x61+-0x367b*0x1));for(let _0x219494=-0x1cce+-0x1*-0x205b+-0x12f*0x3;_0x219494<To['length'];_0x219494++)_0x19d160['hasOwnProp'+'erty'](To[_0x219494])&&(_0x21a8a9[To[_0x219494]]=_0x19d160[To[_0x219494]]);_0x19d160['aabbCenter']&&_0x19d160['aabbHalfEx'+'tents']&&(_0x21a8a9['customAabb']=new De(new D(_0x19d160['aabbCenter']),new D(_0x19d160['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x21a8a9,_0x19d160,Vu);}['cloneCompo'+'nent'](_0x54200a,_0x12925f){const _0x231405=_0x54200a['gsplat'],_0x1a7cfb={};To['forEach'](_0xab4f33=>{_0xab4f33==='material'?_0x1a7cfb[_0xab4f33]=_0x231405[_0xab4f33]['clone']():_0x1a7cfb[_0xab4f33]=_0x231405[_0xab4f33];}),_0x1a7cfb['enabled']=_0x231405['enabled'];const _0x1958b9=this['addCompone'+'nt'](_0x12925f,_0x1a7cfb);return _0x231405['customAabb']&&(_0x1958b9['customAabb']=_0x231405['customAabb']['clone']()),_0x1958b9;}['onRemove'](_0x1ef51d,_0x503351){_0x503351['onRemove']();}}we['_buildAcce'+'ssors'](y0['prototype'],Vu);class Em extends me{constructor(){super(...arguments),h(this,'_meshes',null);}set['meshes'](_0xfd582b){this['decRefMesh'+'es'](),this['_meshes']=_0xfd582b,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0xfd582b);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x4ef0f7;(_0x4ef0f7=this['_meshes'])==null||_0x4ef0f7['forEach']((_0x57beb6,_0x1d231a)=>{_0x57beb6&&(_0x57beb6['decRefCoun'+'t'](),_0x57beb6['refCount']<-0xef*-0x25+0xa6*-0x11+-0x1*0x1784&&(_0x57beb6['destroy'](),this['_meshes'][_0x1d231a]=null));});}['incRefMesh'+'es'](){var _0x5315f8;(_0x5315f8=this['_meshes'])==null||_0x5315f8['forEach'](_0x3da53b=>{_0x3da53b==null||_0x3da53b['incRefCoun'+'t']();});}}h(Em,'EVENT_SETM'+'ESHES','set:meshes');function sh(_0x5a2b92){const _0xceb4ad=this;if(!_0xceb4ad['resource'])return;const _0x56c597=_0x5a2b92['resource'],_0x534fb7=_0x56c597['renders']&&_0x56c597['renders'][_0xceb4ad['data']['renderInde'+'x']];_0x534fb7&&(_0xceb4ad['resource']['meshes']=_0x534fb7['resource']['meshes']);}function pS(_0x1b70bd){const _0x3fa3cb=this;_0x3fa3cb['registry']['off']('load:'+_0x1b70bd['id'],sh,_0x3fa3cb),_0x3fa3cb['registry']['on']('load:'+_0x1b70bd['id'],sh,_0x3fa3cb),_0x3fa3cb['registry']['off']('remove:'+_0x1b70bd['id'],mS,_0x3fa3cb),_0x3fa3cb['registry']['once']('remove:'+_0x1b70bd['id'],mS,_0x3fa3cb),_0x1b70bd['resource']?sh['call'](_0x3fa3cb,_0x1b70bd):_0x3fa3cb['registry']['load'](_0x1b70bd);}function mS(_0x1252c9){const _0xb42c91=this;_0xb42c91['registry']['off']('load:'+_0x1252c9['id'],sh,_0xb42c91),_0xb42c91['resource']&&_0xb42c91['resource']['destroy']();}class zF extends Qe{constructor(_0x59544d){super(_0x59544d,'render'),this['_registry']=_0x59544d['assets'];}['open'](_0x424e11,_0x1b5442){return new Em();}['patch'](_0x4b8652,_0x1bd1df){if(!_0x4b8652['data']['containerA'+'sset'])return;const _0x3cd1c=_0x1bd1df['get'](_0x4b8652['data']['containerA'+'sset']);if(!_0x3cd1c){_0x1bd1df['once']('add:'+_0x4b8652['data']['containerA'+'sset'],pS,_0x4b8652);return;}pS['call'](_0x4b8652,_0x3cd1c);}}class v0{constructor(_0x382d1a,_0x4fcd59,_0x1ae60f,_0x14179e){this['_paths']=_0x382d1a,this['_input']=_0x4fcd59,this['_output']=_0x1ae60f,this['_interpola'+'tion']=_0x14179e;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class Fh{constructor(_0x2fb900,_0x354b59){this['_component'+'s']=_0x2fb900,this['_data']=_0x354b59;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function VF(_0x1fe34a,_0x15b5d5){let _0x39ac47;const _0x248570=(_0x44ece6,_0x22f048)=>{switch(_0x22f048){case _0x39ac47['DT_INT8']:return new Int8Array(_0x44ece6['buffer'],_0x44ece6['byteOffset'],_0x44ece6['byteLength']);case _0x39ac47['DT_INT16']:return new Int16Array(_0x44ece6['buffer'],_0x44ece6['byteOffset'],_0x44ece6['byteLength']/(0x1b2a+0x3*-0x191+-0x1675*0x1));case _0x39ac47['DT_INT32']:return new Int32Array(_0x44ece6['buffer'],_0x44ece6['byteOffset'],_0x44ece6['byteLength']/(0x2*0x110c+-0x19e2+0x2*-0x419));case _0x39ac47['DT_UINT8']:return new Uint8Array(_0x44ece6['buffer'],_0x44ece6['byteOffset'],_0x44ece6['byteLength']);case _0x39ac47['DT_UINT16']:return new Uint16Array(_0x44ece6['buffer'],_0x44ece6['byteOffset'],_0x44ece6['byteLength']/(0x136b+0x4f6+-0x185f));case _0x39ac47['DT_UINT32']:return new Uint32Array(_0x44ece6['buffer'],_0x44ece6['byteOffset'],_0x44ece6['byteLength']/(0x3d*0x6a+-0x1*0x238b+-0x36f*-0x3));case _0x39ac47['DT_FLOAT32']:return new Float32Array(_0x44ece6['buffer'],_0x44ece6['byteOffset'],_0x44ece6['byteLength']/(-0x109e+-0xd17+0x1*0x1db9));}return null;},_0x4bea54=_0x5c5f74=>{switch(_0x5c5f74){case _0x39ac47['DT_INT8']:return 0x9*-0x2f1+-0x32*-0xc1+-0x1*0xb38;case _0x39ac47['DT_INT16']:return-0x208b+0xd35+0x1358;case _0x39ac47['DT_INT32']:return-0x17*0x1a9+-0x110b+0x126a*0x3;case _0x39ac47['DT_UINT8']:return 0x875+0x1721+-0x1f95;case _0x39ac47['DT_UINT16']:return 0xee6*0x1+-0x5e1+-0x903*0x1;case _0x39ac47['DT_UINT32']:return-0x2*-0x6df+0x1*0x11cb+-0x1*0x1f85;case _0x39ac47['DT_FLOAT32']:return 0x58*-0x2c+-0x2606+-0x1*-0x352a;}return 0x111d*-0x2+-0x10f*-0x3+0x1f0e;},_0x3e342d=_0x35aade=>_0x35aade['num_compon'+'ents']()*_0x4bea54(_0x35aade['data_type']()),_0x94afbc={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x540560=(_0x5a7890,_0x373440)=>{const _0x20b0e8=(_0x340c32,_0x13780a,_0x3034c8)=>{_0x340c32[-0x1607+0xf*-0x20b+0x34ac]=_0x13780a[-0xd6b+0x8a+-0x44b*-0x3]-_0x3034c8[0xac3+-0x215f+0x169c],_0x340c32[0x190a+0x47*0x19+-0x1ff8]=_0x13780a[-0x188*-0xf+-0x2f+-0x1*0x16c8]-_0x3034c8[-0xdb9+-0x7cc+0x1586],_0x340c32[0x1f8+0x10ef+-0x7*0x2b3]=_0x13780a[0x9e6+0x1063+-0x1f*0xd9]-_0x3034c8[0x4*0x7c0+0x1*0x9a9+-0x1*0x28a7];},_0x9cc722=(_0x4c7bf2,_0x539a81,_0x2196a4)=>{_0x4c7bf2[-0x1c73+0xd5b+0xf18]=_0x539a81[-0x9ca+0x6a*0x3b+-0x3*0x4e1]*_0x2196a4[0x111e+0xa*-0x33+0xa*-0x183]-_0x2196a4[-0x2407*-0x1+0xbdb+-0x2fe1]*_0x539a81[-0x29*-0x81+-0x1*-0x1834+-0x2cdb*0x1],_0x4c7bf2[0x427*0x9+0x2*0xf79+0x10*-0x445]=_0x539a81[0x17*0x199+-0x1*0x1965+0x84*-0x16]*_0x2196a4[0x1f2a+-0x6fe+0x2*-0xc16]-_0x2196a4[-0x1fca+0x1*-0x13c1+-0x112f*-0x3]*_0x539a81[0x18d*-0x2+-0x13d*-0xe+0x2*-0x71e],_0x4c7bf2[0x2395*-0x1+-0x320*0xa+0xf1*0x47]=_0x539a81[-0xb*0xef+-0x1*0x232d+0x2d72]*_0x2196a4[0x1*0x949+-0x1623+0x3*0x449]-_0x2196a4[-0x2388+0xd5a*0x1+0x162e]*_0x539a81[0x6*0x4f7+-0x962*0x2+-0xb05];},_0x376253=(_0xbb05e3,_0x3ee978)=>{const _0x1e9d92=_0xbb05e3[_0x3ee978+(0x7d1*0x1+0x15*-0xc8+0x897)],_0x44c5f5=_0xbb05e3[_0x3ee978+(0xc0*-0x21+-0x1*-0x163b+0x286)],_0x131aef=_0xbb05e3[_0x3ee978+(-0x5*-0x63d+0xad*0x2d+-0x3d98)],_0x1c1634=(-0x17c+-0x1d75+0x1ef2)/Math['sqrt'](_0x1e9d92*_0x1e9d92+_0x44c5f5*_0x44c5f5+_0x131aef*_0x131aef);_0xbb05e3[_0x3ee978+(0x1898+-0x142+0x67*-0x3a)]*=_0x1c1634,_0xbb05e3[_0x3ee978+(-0x256d*0x1+0x1*0x16af+-0x5*-0x2f3)]*=_0x1c1634,_0xbb05e3[_0x3ee978+(0x1*-0x137f+-0x1b62+0x2ee3)]*=_0x1c1634;},_0x3d4a4f=(_0x4ad1c2,_0x39b93a,_0x57b571)=>{for(let _0x4020ef=-0x11*0x53+-0x1183+0x1706;_0x4020ef<0x1f1c+0x287*0xb+-0x3ae6;++_0x4020ef)_0x4ad1c2[_0x4020ef]=_0x39b93a[_0x57b571+_0x4020ef];},_0x180675=_0x373440['length']/(0x13*-0x116+0x1e6a+-0x9c5*0x1),_0x5746fb=_0x5a7890['length']/(-0x2297+0x678+0x22a*0xd),_0x2e3d9d=new Float32Array(_0x5a7890['length']),_0x5d0273=[0x16*0xa6+-0x1d06+-0x2*-0x761,0x3a9*0x3+0x58a+-0x1085,0x13cd+-0x51*-0x4+-0x1511*0x1],_0x1163cf=[-0xd*-0x1b+-0x7*0x551+0x23d8,0x10a3*-0x1+0x1570+0x1*-0x4cd,-0x3*-0x13e+0x17b9*0x1+-0x1b73],_0x2cbb61=[0x2c0*-0x2+0xd4f+-0x7cf,0xd3f+-0x360+-0x9df,-0x1*0xe17+0x1f24+-0x3*0x5af],_0x4467fe=[0x27e*0xb+0x8af+-0x2419,-0x5*-0x50d+0xbeb+-0x252c,-0x125c+-0xb89*0x1+0x3*0x9f7],_0x2f8367=[-0x1b46+-0x2168+0x3cae,-0x58+0x94*0x2+-0xd0,-0x1*0x10ba+0x9*0x253+-0x431],_0x72f83f=[0xfd6+0x40*0x4+0x10d6*-0x1,0x13b1+0x6d3*0x1+-0x1a84,-0x1966+-0x275+0x1bdb];for(let _0x29c58f=-0x1*-0x29b+0xc37+-0x769*0x2;_0x29c58f<_0x180675;++_0x29c58f){const _0x3148b2=_0x373440[_0x29c58f*(0x7db+-0xd04+-0x2*-0x296)+(-0x220c+0x2d0+0x4*0x7cf)]*(0x2d*0x70+0x5*0x1+-0x13b2*0x1),_0x2f8855=_0x373440[_0x29c58f*(-0x116d*-0x1+0x1f66*0x1+-0x30d0)+(0x44*0x1e+-0x17*0x26+-0x48d*0x1)]*(-0x159b+0x11*0x20b+-0xd1d),_0x775be1=_0x373440[_0x29c58f*(-0x60d*-0x2+-0x198f*-0x1+-0x9e*0x3d)+(-0xef7*0x1+-0x20e7*-0x1+0x2*-0x8f7)]*(0x27*-0x37+0x2489*-0x1+0x2ced);_0x3d4a4f(_0x5d0273,_0x5a7890,_0x3148b2),_0x3d4a4f(_0x1163cf,_0x5a7890,_0x2f8855),_0x3d4a4f(_0x2cbb61,_0x5a7890,_0x775be1),_0x20b0e8(_0x4467fe,_0x1163cf,_0x5d0273),_0x20b0e8(_0x2f8367,_0x2cbb61,_0x5d0273),_0x9cc722(_0x72f83f,_0x4467fe,_0x2f8367),_0x376253(_0x72f83f,0x1d01*0x1+-0x117c+-0x3*0x3d7);for(let _0x5bdf23=0x2*-0xb0b+-0xe09*0x1+-0x529*-0x7;_0x5bdf23<0x13*-0x125+-0x317*-0x4+-0x6*-0x191;++_0x5bdf23)_0x2e3d9d[_0x3148b2+_0x5bdf23]+=_0x72f83f[_0x5bdf23],_0x2e3d9d[_0x2f8855+_0x5bdf23]+=_0x72f83f[_0x5bdf23],_0x2e3d9d[_0x775be1+_0x5bdf23]+=_0x72f83f[_0x5bdf23];}for(let _0x51a729=0x25cf+-0x874*-0x1+-0x2e43;_0x51a729<_0x5746fb;++_0x51a729)_0x376253(_0x2e3d9d,_0x51a729*(0x18*-0x15a+-0x68f+0x2702));return new Uint8Array(_0x2e3d9d['buffer']);},_0x70c8f5=_0x1b8b05=>{const _0x8a6e3e={},_0x543354=new _0x39ac47['DecoderBuf'+'fer']();_0x543354['Init'](_0x1b8b05,_0x1b8b05['length']);const _0xdbbc75=new _0x39ac47['Decoder']();if(_0xdbbc75['GetEncoded'+'GeometryTy'+'pe'](_0x543354)!==_0x39ac47['TRIANGULAR'+'_MESH'])return _0x8a6e3e['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x8a6e3e;const _0x2dae98=new _0x39ac47['Mesh'](),_0x335438=_0xdbbc75['DecodeBuff'+'erToMesh'](_0x543354,_0x2dae98);if(!_0x335438||!_0x335438['ok']()||_0x39ac47['getPointer'](_0x2dae98)===0xb61*-0x1+-0xb1*0x10+0x1671*0x1)return _0x8a6e3e['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x8a6e3e;const _0x1a7b05=_0x2dae98['num_faces']()*(-0xfd5+-0x21e8+-0xc7*-0x40),_0x2c9bc6=_0x2dae98['num_points']()<=0x1b0d9+0x3a8+-0xb482,_0x2e58a0=_0x1a7b05*(_0x2c9bc6?-0x2192+-0x2*0xe6b+0x3e6a:0x577+0x15f8+-0x1b6b),_0x285455=_0x39ac47['_malloc'](_0x2e58a0);_0x2c9bc6?(_0xdbbc75['GetTriangl'+'esUInt16Ar'+'ray'](_0x2dae98,_0x2e58a0,_0x285455),_0x8a6e3e['indices']=new Uint16Array(_0x39ac47['HEAPU16']['buffer'],_0x285455,_0x1a7b05)['slice']()['buffer']):(_0xdbbc75['GetTriangl'+'esUInt32Ar'+'ray'](_0x2dae98,_0x2e58a0,_0x285455),_0x8a6e3e['indices']=new Uint32Array(_0x39ac47['HEAPU32']['buffer'],_0x285455,_0x1a7b05)['slice']()['buffer']),_0x39ac47['_free'](_0x285455);const _0x4a44c1=[];for(let _0x2632d7=-0x15e4*-0x1+-0x16e1*0x1+0x17*0xb;_0x2632d7<_0x2dae98['num_attrib'+'utes']();++_0x2632d7)_0x4a44c1['push'](_0xdbbc75['GetAttribu'+'te'](_0x2dae98,_0x2632d7));_0x4a44c1['sort']((_0x10d018,_0x5c2e05)=>(_0x94afbc[_0x10d018['attribute_'+'type']()]??_0x94afbc['length'])-(_0x94afbc[_0x5c2e05['attribute_'+'type']()]??_0x94afbc['length'])),_0x8a6e3e['attributes']=_0x4a44c1['map'](_0x3502db=>_0x3502db['unique_id']());let _0xca4a0c=-0x4f*0x67+-0x1*0x1e5f+0x3e28;const _0x5151ee=_0x4a44c1['map'](_0x4517c6=>{const _0x27086b=_0xca4a0c;return _0xca4a0c+=Math['ceil'](_0x3e342d(_0x4517c6)/(-0x69a+-0x10a*-0x5+0x7*0x34))*(0xf1f+0xf*-0x145+0x6*0xa8),_0x27086b;}),_0x116658=_0x4a44c1['some'](_0x5f3705=>_0x5f3705['attribute_'+'type']()===-0x5*-0x190+0x978+-0x1147),_0xf46ce3=_0x5151ee[0x26bf+0x5a0+-0x277*0x12];if(!_0x116658){for(let _0x473ab5=-0x6e1+-0x1*0x1f01+0x3*0xca1;_0x473ab5<_0x5151ee['length'];++_0x473ab5)_0x5151ee[_0x473ab5]+=-0xfb0+0xbf*-0x5+-0x1*-0x1377;_0xca4a0c+=0x1093+-0xb91+-0xfe*0x5;}_0x8a6e3e['vertices']=new ArrayBuffer(_0x2dae98['num_points']()*_0xca4a0c);const _0x162692=new Uint8Array(_0x8a6e3e['vertices']);for(let _0xe402bb=-0xb67*-0x3+-0xa99+0x179c*-0x1;_0xe402bb<_0x2dae98['num_attrib'+'utes']();++_0xe402bb){const _0x54a486=_0x4a44c1[_0xe402bb],_0xcaee8=_0x3e342d(_0x54a486),_0x325b57=_0x2dae98['num_points']()*_0xcaee8,_0x2830cd=_0x39ac47['_malloc'](_0x325b57);_0xdbbc75['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x2dae98,_0x54a486,_0x54a486['data_type'](),_0x325b57,_0x2830cd);const _0x481654=new Uint8Array(_0x39ac47['HEAPU8']['buffer'],_0x2830cd,_0x325b57);for(let _0x10bdd7=-0x1*0x9b9+-0x1543*0x1+-0x6*-0x52a;_0x10bdd7<_0x2dae98['num_points']();++_0x10bdd7)for(let _0xe5f38b=-0xfda+-0x22*-0x1d+0x600*0x2;_0xe5f38b<_0xcaee8;++_0xe5f38b)_0x162692[_0x10bdd7*_0xca4a0c+_0x5151ee[_0xe402bb]+_0xe5f38b]=_0x481654[_0x10bdd7*_0xcaee8+_0xe5f38b];if(!_0x116658&&_0x54a486['attribute_'+'type']()===0x106f+-0x167*0xb+-0x102){const _0x28aa9e=_0x540560(_0x248570(_0x481654,_0x54a486['data_type']()),_0x2c9bc6?new Uint16Array(_0x8a6e3e['indices']):new Uint32Array(_0x8a6e3e['indices']));for(let _0x13a816=0xa*-0x10d+-0x263d+0x30bf*0x1;_0x13a816<_0x2dae98['num_points']();++_0x13a816)for(let _0x29379c=-0xf84+0x7*-0x278+0x20cc;_0x29379c<0x1b2*0x15+0x1cc5+-0x5d9*0xb;++_0x29379c)_0x162692[_0x13a816*_0xca4a0c+_0xf46ce3+_0x29379c]=_0x28aa9e[_0x13a816*(0x23e2+0x1572+-0x3948)+_0x29379c];}_0x39ac47['_free'](_0x2830cd);}return _0x39ac47['destroy'](_0x2dae98),_0x39ac47['destroy'](_0xdbbc75),_0x39ac47['destroy'](_0x543354),_0x8a6e3e;},_0x3a4cd5=_0x1c7ee6=>{const _0x1d7327=_0x70c8f5(new Uint8Array(_0x1c7ee6['buffer']));self['postMessag'+'e']({'jobId':_0x1c7ee6['jobId'],'error':_0x1d7327['error'],'indices':_0x1d7327['indices'],'vertices':_0x1d7327['vertices'],'attributes':_0x1d7327['attributes']},[_0x1d7327['indices'],_0x1d7327['vertices']]['filter'](_0x5c87b8=>_0x5c87b8!=null));},_0x36d19a=[];self['onmessage']=_0x4c8aff=>{const _0x486889=_0x4c8aff['data'];switch(_0x486889['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x5c2494,_0x37df31)=>(WebAssembly['instantiat'+'e'](_0x486889['module'],_0x5c2494)['then'](_0xdd9da5=>_0x37df31(_0xdd9da5))['catch'](_0x16adc6=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x16adc6)),{})})['then'](_0x46fbcc=>{_0x39ac47=_0x46fbcc,_0x36d19a['forEach'](_0x58af0d=>_0x3a4cd5(_0x58af0d));});break;case'decodeMesh':_0x39ac47?_0x3a4cd5(_0x486889):_0x36d19a['push'](_0x486889);break;}};}const _S=0x1199+0xefe+-0x1e*0x116;class GF{constructor(){this['workers']=[[],[],[]],this['jobId']=-0x1ffd+-0x19a1+-0x19*-0x24e,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x502c98,_0x519e73)=>{_0x502c98['postMessag'+'e']({'type':'decodeMesh','jobId':_0x519e73['jobId'],'buffer':_0x519e73['buffer']},[_0x519e73['buffer']]);};}['init'](_0x48871d){for(_0x48871d['forEach'](_0x12bffd=>{_0x12bffd['addEventLi'+'stener']('message',_0x2c2f0b=>{const _0x22ab5c=_0x2c2f0b['data'],_0x2178e9=this['jobCallbac'+'ks']['get'](_0x22ab5c['jobId']);if(_0x2178e9&&_0x2178e9(_0x22ab5c['error'],{'indices':_0x22ab5c['indices'],'vertices':_0x22ab5c['vertices'],'attributes':_0x22ab5c['attributes']}),this['jobCallbac'+'ks']['delete'](_0x22ab5c['jobId']),this['jobQueue']['length']>-0x1d2*-0x6+-0x635+-0x4b7){const _0x486473=this['jobQueue']['shift']();this['run'](_0x12bffd,_0x486473);}else{const _0x539e55=this['workers'][0x1*0x18ac+0xf3*-0x29+-0xe41*-0x1]['indexOf'](_0x12bffd);if(_0x539e55!==-(0x36*-0x26+-0x52+0x857))this['workers'][0x2644+0xffb+-0x363d]['splice'](_0x539e55,0x219c+-0x1757+-0x2*0x522),this['workers'][-0x1*0x12b+-0x2610+-0x22e*-0x12]['push'](_0x12bffd);else{const _0x1cf56c=this['workers'][0x1ba2+-0x154c+-0x655]['indexOf'](_0x12bffd);_0x1cf56c!==-(0x1d7d+0x17bf*0x1+-0x1*0x353b)?(this['workers'][-0xb6a*0x1+0x147b+-0x910]['splice'](_0x1cf56c,0x249c+-0x19*-0xfa+0x7f*-0x7b),this['workers'][0x197f+-0x13a0+-0x5df*0x1]['push'](_0x12bffd)):w['error']('logical\x20er'+'ror');}}});}),this['workers'][0x1271+-0x1bea+0x1*0x979]=_0x48871d;this['jobQueue']['length']&&(this['workers'][0x135b+0x5*0x157+0x5*-0x536]['length']||this['workers'][-0x2247+-0x1600+-0x709*-0x8]['length']);){const _0x58d475=this['jobQueue']['shift']();if(this['workers'][-0x5*0x311+-0x25e0*0x1+0x3535]['length']>-0x199e+-0x1*-0x1b56+-0x1b8){const _0x43a27d=this['workers'][0x31f+-0x11a1+0xe82]['shift']();this['workers'][-0x1b3b*-0x1+0x3*-0x39+-0x1a8f]['push'](_0x43a27d),this['run'](_0x43a27d,_0x58d475);}else{const _0x37e804=this['workers'][-0x5a4+-0x2*0x2c5+0xb2f]['shift']();this['workers'][0x250d+-0x1d27*0x1+0x7e4*-0x1]['push'](_0x37e804),this['run'](_0x37e804,_0x58d475);}}}['enqueueJob'](_0x408ef9,_0x434126){const _0x2b8290={'jobId':this['jobId']++,'buffer':_0x408ef9};if(this['jobCallbac'+'ks']['set'](_0x2b8290['jobId'],_0x434126),this['workers'][0x989+-0x1845*-0x1+0x21ce*-0x1]['length']>-0x7*-0x517+0x1*-0xce5+-0x16bc){const _0x5f552d=this['workers'][-0x1*-0x9b5+-0xb41+-0x1*-0x18c]['shift']();this['workers'][0xddb*0x1+0x1f72+-0x2d4c]['push'](_0x5f552d),this['run'](_0x5f552d,_0x2b8290);}else{if(this['workers'][0x1223*-0x2+0xe70+-0x1*-0x15d7]['length']>0x74d+-0x1*-0x1bbf+0x4*-0x8c3){const _0xe268a7=this['workers'][-0x1f84+0xbd+0x1ec8]['shift']();this['workers'][0x23*-0x10f+-0x24f0+0x49ff]['push'](_0xe268a7),this['run'](_0xe268a7,_0x2b8290);}else this['jobQueue']['push'](_0x2b8290);}}}const HF=_0x53836e=>new Promise((_0x3fb7b1,_0x111dbf)=>{const _0x207347={'cache':!(-0x5e+0x187c+-0x181e*0x1),'responseType':'text','retry':_S>0x2080+-0x1ecb+0x1*-0x1b5,'maxRetries':_S};ot['get'](_0x53836e,_0x207347,(_0x4ec510,_0x531adc)=>{_0x4ec510?_0x111dbf(_0x4ec510):_0x3fb7b1(_0x531adc);});}),WF=_0x48fb99=>{const _0x3c66e0=()=>fetch(_0x48fb99)['then'](_0x486f54=>_0x486f54['arrayBuffe'+'r']())['then'](_0x4fa276=>WebAssembly['compile'](_0x4fa276)),_0x217e5b=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x48fb99))['catch'](_0x53582e=>(w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x48fb99+'\x20('+_0x53582e+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x3c66e0()));return WebAssembly['compileStr'+'eaming']?_0x217e5b():_0x3c66e0();},gS=-0xcd*0x29+0xa*0x135+-0xa62*-0x2;let ih;const $F=_0x3906bb=>{if(ih)return!(0x9*0x242+0x23*0x22+-0x18f8);if(!_0x3906bb){const _0x62532a=YS['getConfig']('DracoDecod'+'erModule');_0x62532a?_0x3906bb={'jsUrl':_0x62532a['glueUrl'],'wasmUrl':_0x62532a['wasmUrl'],'numWorkers':_0x62532a['numWorkers']}:_0x3906bb={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':gS};}return!_0x3906bb['jsUrl']||!_0x3906bb['wasmUrl']?!(-0x449+0x2*-0x6c4+0x2*0x8e9):(ih=new GF(),Promise['all']([HF(_0x3906bb['jsUrl']),WF(_0x3906bb['wasmUrl'])])['then'](([_0x1c62bf,_0x1cd85b])=>{const _0x5877e1=['/*\x20draco\x20*'+'/',_0x1c62bf,'/*\x20worker\x20'+'*/','(\x0a'+VF['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x449147=new Blob([_0x5877e1],{'type':'applicatio'+'n/javascri'+'pt'}),_0x41a034=URL['createObje'+'ctURL'](_0x449147),_0x345bf6=Math['max'](0xc66+0xca*-0x2e+0x17e7,Math['min'](-0x26cb+0x2*-0x1186+0x1*0x49e7,_0x3906bb['numWorkers']||gS)),_0x5ca58d=[];for(let _0x54bdec=0x195*-0x11+0x1e29+-0x344;_0x54bdec<_0x345bf6;++_0x54bdec){const _0x42b020=new Worker(_0x41a034);_0x42b020['postMessag'+'e']({'type':'init','module':_0x1cd85b}),_0x5ca58d['push'](_0x42b020);}ih['init'](_0x5ca58d);}),!(0x1*-0x7+-0x1676+0x167d));},XF=(_0x11de5a,_0x1251c9)=>$F()?(ih['enqueueJob'](_0x11de5a,_0x1251c9),!(0x929*0x4+-0x1*-0x10ee+-0x1ac9*0x2)):!(0x1e3f+-0x1e15+-0x29*0x1);class qF{constructor(){h(this,'gltf'),h(this,'nodes'),h(this,'scenes'),h(this,'animations'),h(this,'textures'),h(this,'materials'),h(this,'variants'),h(this,'meshVarian'+'ts'),h(this,'meshDefaul'+'tMaterials'),h(this,'renders'),h(this,'skins'),h(this,'lights'),h(this,'cameras'),h(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x5c255c=>{_0x5c255c['meshes']=null;});}}const x0=_0x12cdb4=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x12cdb4),jF=_0x3e02fa=>_0x3e02fa['substring'](_0x3e02fa['indexOf'](':')+(-0x452+-0x1ad5*0x1+-0x3e5*-0x8),_0x3e02fa['indexOf'](';')),yl=_0x47cb43=>{switch(_0x47cb43){case'SCALAR':return-0x5a2*-0x6+0x37f*-0x7+0x2*-0x4a9;case'VEC2':return-0x4a*0x1d+-0x58*0x6+0x37c*0x3;case'VEC3':return 0x2277+0x1f*-0x11f+0xb*0x7;case'VEC4':return 0x6*-0x256+-0x8e*0x3b+0x2ec2;case'MAT2':return 0x25df*0x1+0x30*0xcd+-0x4c4b;case'MAT3':return 0x1cab+0x2*-0xf8d+0x278;case'MAT4':return 0x21af+0x1953+0x3ee*-0xf;default:return 0x2c*-0x52+0x58e*-0x2+0x1*0x1937;}},Dd=_0xf3a0ae=>{switch(_0xf3a0ae){case-0x13*-0x59+-0x1ff0+0x2d55:return dd;case-0xacb+-0xb*-0x2f5+-0x1bb:return la;case-0x7ca+-0x3*-0x4a2+0xde6:return fd;case-0x1105*-0x1+0x2*-0x120f+0x271c:return Ml;case-0x11ee+0x1*0xa12+0x1be0:return Ty;case-0x989+-0xf46+0x2cd4:return el;case-0xb*-0x5c+0x19d9+0x9c7*-0x1:return Ve;default:return-0x1039+0x1a7b*-0x1+0x2ab4;}},YF=_0x2c74f3=>{switch(_0x2c74f3){case-0x5ed+0xe*-0x281+-0x1*-0x3cfb:return 0x379+0x807+0x1*-0xb7f;case 0x20cc*-0x1+-0x1125+-0xe*-0x4ff:return-0x104d+-0xe15*0x1+0x1e63*0x1;case 0x1*-0xffe+-0x174f+0x3b4f:return-0x9*-0x199+0x15a*0x1b+-0x32dd*0x1;case-0x29*-0xab+-0x1*0x179b+0xf*0x115:return 0x7*0x41b+-0x24d+-0xc7*0x22;case 0x132*-0x21+-0x243a+0x2*0x2fd8:return-0x1*0xa7e+0x682*0x1+0x400;case 0x2505+0x27a2+-0x38a2:return-0x82*-0x34+0x2*-0xc95+-0x13a;case-0x5*0x40c+-0xb*-0x269+0xdbf*0x1:return 0x1*-0xc46+-0x1*-0x116b+-0x521;default:return-0x23c2+-0xdb4*-0x1+0x160e;}},KF=_0x1ebb1f=>{switch(_0x1ebb1f){case 0x91a+-0xfbe+0x1f*0xdc:return Int8Array;case-0xdf3*0x1+0x6*-0x523+0x40c6:return Uint8Array;case-0x10a*0x21+0x65c+0x2ff0:return Int16Array;case 0x2265+0x1*0x2711+-0x3573:return Uint16Array;case-0xaa*-0x5+0x1996+-0x4*0x239:return Int32Array;case 0xb*0x281+0x1741+-0x1ec7:return Uint32Array;case-0x954+-0xe5*0x28+0x4122:return Float32Array;default:return null;}},Nh={'POSITION':Me,'NORMAL':gs,'TANGENT':yi,'COLOR_0':Wt,'JOINTS_0':us,'WEIGHTS_0':gi,'TEXCOORD_0':is,'TEXCOORD_1':ba,'TEXCOORD_2':wl,'TEXCOORD_3':El,'TEXCOORD_4':bl,'TEXCOORD_5':Al,'TEXCOORD_6':Cl,'TEXCOORD_7':Pl},SS={[Me]:0x1*0xdda+0xcec+-0x1ac6,[gs]:0x2b*0x33+0x2578+-0x1eb*0x18,[yi]:-0xd1*-0x27+-0x86e*0x2+-0xef9,[Wt]:-0x63*0x65+-0x157e+-0x3c9*-0x10,[us]:-0x22ca+0x1c25+0x9b*0xb,[gi]:-0x1645+0x75*-0x2+0x6*0x3de,[is]:0x281*-0x1+-0x157*0xe+0x1*0x1549,[ba]:0x3*0x21f+0x18db+-0x1f31*0x1,[wl]:-0x2165+-0x1a1+0x230e,[El]:-0x3e5+0x1382+-0xf94*0x1,[bl]:-0x1*0x156d+0x1bb*-0x1+-0x1732*-0x1,[Al]:0x3*-0x42a+-0x2*0x301+-0x2f*-0x65,[Cl]:-0x1f9a+-0x59*-0x4f+0x42f,[Pl]:-0x1ebc+0x8bd*-0x3+0x3900},ZF=_0xac55fe=>{switch(_0xac55fe){case dd:return _0xf10cf6=>Math['max'](_0xf10cf6/(0x1cb2+0x1d09+-0x393c),-(-0x149d*0x1+0x635+0x11*0xd9));case la:return _0x538855=>_0x538855/(-0x1f63+0x1b73+0x4ef);case fd:return _0x32f43d=>Math['max'](_0x32f43d/(-0xf574+0x2b4*0x23+0x11*0x1067),-(0x1b23+0x2212+0x4*-0xf4d));case Ml:return _0x1bdf40=>_0x1bdf40/(0x1*-0x5deb+-0x1b9e6+0x8*0x62fa);default:return _0xb5b545=>_0xb5b545;}},Gu=(_0x42a575,_0x3778c3,_0x5a22ee)=>{const _0x2075d4=ZF(_0x5a22ee),_0xd64227=_0x3778c3['length'];for(let _0x331633=0x754+0x1*-0x525+-0x22f;_0x331633<_0xd64227;++_0x331633)_0x42a575[_0x331633]=_0x2075d4(_0x3778c3[_0x331633]);return _0x42a575;},ua=(_0x5afb38,_0x10070a,_0x4352e9=!(0x225f+0xb6+-0x2314))=>{const _0x43777e=yl(_0x5afb38['type']),_0x59fbad=KF(_0x5afb38['componentT'+'ype']);if(!_0x59fbad)return null;let _0x297c23;if(_0x5afb38['sparse']){const _0x1cb234=_0x5afb38['sparse'],_0x43ef74={'count':_0x1cb234['count'],'type':'SCALAR'},_0x374a9c=ua(Object['assign'](_0x43ef74,_0x1cb234['indices']),_0x10070a,!(-0xe05+0x11d7+-0x3d2)),_0x5a51f9={'count':_0x1cb234['count'],'type':_0x5afb38['type'],'componentType':_0x5afb38['componentT'+'ype']},_0x50a6ab=ua(Object['assign'](_0x5a51f9,_0x1cb234['values']),_0x10070a,!(0x4a3+0xdde+0x1281*-0x1));if(_0x5afb38['hasOwnProp'+'erty']('bufferView')){const _0x5d596b={'bufferView':_0x5afb38['bufferView'],'byteOffset':_0x5afb38['byteOffset'],'componentType':_0x5afb38['componentT'+'ype'],'count':_0x5afb38['count'],'type':_0x5afb38['type']};_0x297c23=ua(_0x5d596b,_0x10070a,!(0x103d+0x2225+-0x3262*0x1))['slice']();}else _0x297c23=new _0x59fbad(_0x5afb38['count']*_0x43777e);for(let _0x5879ef=0xa7e*-0x1+0x2e*-0x47+0x1740;_0x5879ef<_0x1cb234['count'];++_0x5879ef){const _0x5b9bd6=_0x374a9c[_0x5879ef];for(let _0x5c38a4=-0x1665+0x1168+-0x1*-0x4fd;_0x5c38a4<_0x43777e;++_0x5c38a4)_0x297c23[_0x5b9bd6*_0x43777e+_0x5c38a4]=_0x50a6ab[_0x5879ef*_0x43777e+_0x5c38a4];}}else{if(_0x5afb38['hasOwnProp'+'erty']('bufferView')){const _0x551456=_0x10070a[_0x5afb38['bufferView']];if(_0x4352e9&&_0x551456['hasOwnProp'+'erty']('byteStride')){const _0x418098=_0x43777e*_0x59fbad['BYTES_PER_'+'ELEMENT'],_0xa01340=new ArrayBuffer(_0x5afb38['count']*_0x418098),_0x1065e2=new Uint8Array(_0xa01340);let _0x14444c=0x1fb*-0xd+-0x1*0xaf7+-0x24b6*-0x1;for(let _0x49a29c=0x2b*0x3+0xe*-0x95+0x1*0x7a5;_0x49a29c<_0x5afb38['count'];++_0x49a29c){let _0x42440f=(_0x5afb38['byteOffset']||-0x1321+-0x6a*-0x3+-0xf1*-0x13)+_0x49a29c*_0x551456['byteStride'];for(let _0x5e7586=-0x1a8c+-0x15a0+0x1816*0x2;_0x5e7586<_0x418098;++_0x5e7586)_0x1065e2[_0x14444c++]=_0x551456[_0x42440f++];}_0x297c23=new _0x59fbad(_0xa01340);}else _0x297c23=new _0x59fbad(_0x551456['buffer'],_0x551456['byteOffset']+(_0x5afb38['byteOffset']||0x20c7+-0x4f8+-0x15*0x153),_0x5afb38['count']*_0x43777e);}else _0x297c23=new _0x59fbad(_0x5afb38['count']*_0x43777e);}return _0x297c23;},Pn=(_0x361c5d,_0x3399c6)=>{const _0x1e4419=ua(_0x361c5d,_0x3399c6,!(-0x25cd*-0x1+-0x35*0x5d+-0x128c));if(_0x1e4419 instanceof Float32Array||!_0x361c5d['normalized'])return _0x1e4419;const _0x5144ff=new Float32Array(_0x1e4419['length']);return Gu(_0x5144ff,_0x1e4419,Dd(_0x361c5d['componentT'+'ype'])),_0x5144ff;},Hu=_0x564047=>{let _0x19b12f=_0x564047['min'],_0x7e17e3=_0x564047['max'];if(!_0x19b12f||!_0x7e17e3)return null;if(_0x564047['normalized']){const _0x505ca7=Dd(_0x564047['componentT'+'ype']);_0x19b12f=Gu([],_0x19b12f,_0x505ca7),_0x7e17e3=Gu([],_0x7e17e3,_0x505ca7);}return new De(new D((_0x7e17e3[-0x848+0x1ea5+-0x165d]+_0x19b12f[0x8e2+0x3*-0xd1+0x1*-0x66f])*(0x6ee+0x196*-0xa+0x8ee+0.5),(_0x7e17e3[-0x3*0xcff+0x25*-0xb5+-0xd*-0x503]+_0x19b12f[-0x1a03*-0x1+-0x11e2+-0x820*0x1])*(0x67*0x11+0x3ea+-0xac1+0.5),(_0x7e17e3[-0x5b8*-0x6+0x18e8+-0x3b36]+_0x19b12f[0x36b+-0xe3*0x1+-0x286])*(-0x592+0xd*-0x283+0x2639+0.5)),new D((_0x7e17e3[0x23b1+-0x11*-0x172+0x3c43*-0x1]-_0x19b12f[0x347*-0x6+-0x1c79+0x1*0x3023])*(0x1*-0x1975+-0x6ec+0x2061+0.5),(_0x7e17e3[-0xdbb+0x1baa+0xdee*-0x1]-_0x19b12f[0x1369+0x23*0x7d+0x247f*-0x1])*(0x4*-0x425+-0x1a59*0x1+0x2aed+0.5),(_0x7e17e3[0x1*-0x19cd+0x4d2+0x14fd]-_0x19b12f[-0x266*-0x2+-0x77a+-0x2b0*-0x1])*(0x1241+0x78+0x12b9*-0x1+0.5)));},T0=_0x3feb64=>{if(!_0x3feb64['hasOwnProp'+'erty']('mode'))return js;switch(_0x3feb64['mode']){case 0xe58+0xa2*-0x1e+0x2*0x252:return cd;case-0x1ebd+0x695*0x4+0x5*0xe2:return hd;case 0x1058*0x1+0x1*0x8a9+-0x18ff:return _y;case 0x18bb+0x1555+-0x2e0d:return gy;case-0x1fd3+-0x126*-0x7+-0x9*-0x2a5:return js;case 0x1266+0x1873+0xab5*-0x4:return Er;case 0x1264+-0x9db+-0x883:return oa;default:return js;}},QF=_0x40ca2f=>{const _0x4f6f1e=new Uint16Array(_0x40ca2f);for(let _0x94235c=0x1a1c+0x3*0x135+-0x2b*0xb1;_0x94235c<_0x40ca2f;_0x94235c++)_0x4f6f1e[_0x94235c]=_0x94235c;return _0x4f6f1e;},JF=(_0x159ccf,_0x230bc8)=>{const _0x47ba96=_0x159ccf[Me];if(!_0x47ba96||_0x47ba96['components']!==0x5bd*-0x1+-0x1*-0x2027+-0x1a67)return;let _0x295c07;if(_0x47ba96['size']!==_0x47ba96['stride']){const _0x27d9fc=_0x47ba96['stride']/No[_0x47ba96['type']],_0x5a57e3=new wn[_0x47ba96['type']](_0x47ba96['buffer'],_0x47ba96['offset'],_0x47ba96['count']*_0x27d9fc);_0x295c07=new wn[_0x47ba96['type']](_0x47ba96['count']*(-0x1bae*0x1+0x85d+0x1354));for(let _0x5becaa=0x399*-0x1+-0x1331*0x2+0x29fb;_0x5becaa<_0x47ba96['count'];++_0x5becaa)_0x295c07[_0x5becaa*(0x3ab+0x82*0x28+-0x5fe*0x4)+(-0x2097+0x2e*-0x35+0x1*0x2a1d)]=_0x5a57e3[_0x5becaa*_0x27d9fc+(-0x493+-0x167*0x13+0x18*0x14d)],_0x295c07[_0x5becaa*(-0x1cb6*-0x1+0x6*0x509+-0x3ae9)+(0xfe7+-0x20*0x3+-0xf86)]=_0x5a57e3[_0x5becaa*_0x27d9fc+(0x163c+-0x1*0xfb+-0x1540)],_0x295c07[_0x5becaa*(0x2f*-0x1+0x4*-0x133+-0x2*-0x27f)+(-0xbd3+-0x1eea+0x2abf*0x1)]=_0x5a57e3[_0x5becaa*_0x27d9fc+(0x25f9*-0x1+-0x1*-0xdf1+-0x11*-0x16a)];}else _0x295c07=new wn[_0x47ba96['type']](_0x47ba96['buffer'],_0x47ba96['offset'],_0x47ba96['count']*(0x255d+0x1f56+-0x44b0));const _0x1b546a=_0x47ba96['count'];_0x230bc8||(_0x230bc8=QF(_0x1b546a));const _0x1d07a2=Iv(_0x295c07,_0x230bc8),_0x57ef99=new Float32Array(_0x1d07a2['length']);_0x57ef99['set'](_0x1d07a2),_0x159ccf[gs]={'buffer':_0x57ef99['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x1b546a,'components':0x3,'type':Ve};},eN=_0x38a4a7=>{const _0x40dfee=_0x45fff6=>{const _0x44e804=[];for(let _0x3cc4d9=-0x2a*0x2e+-0x3*-0xc2f+0x1b*-0x113;_0x3cc4d9<_0x45fff6['_levels']['length'];++_0x3cc4d9){let _0x1ac547=[];if(_0x45fff6['cubemap']){for(let _0x1835af=0x1*-0xcb7+0x898*-0x1+-0x443*-0x5;_0x1835af<0x48b*-0x1+0x4cb+-0x3a;++_0x1835af)_0x1ac547['push'](_0x45fff6['_levels'][_0x3cc4d9][_0x1835af]);}else _0x1ac547=_0x45fff6['_levels'][_0x3cc4d9];_0x44e804['push'](_0x1ac547);}return _0x44e804;},_0x27208a=new _e(_0x38a4a7['device'],_0x38a4a7);return _0x27208a['_levels']=_0x40dfee(_0x38a4a7),_0x27208a;},tN=_0x1948ad=>{const _0x5c0cda=new pe(_0x1948ad['name']+'_clone',_0x1948ad['type'],_0x1948ad['file'],_0x1948ad['data'],_0x1948ad['options']);return _0x5c0cda['loaded']=!(-0xb42+0x2645+-0x1b03),_0x5c0cda['resource']=eN(_0x1948ad['resource']),_0x1948ad['registry']['add'](_0x5c0cda),_0x5c0cda;},sN=(_0x2f0b9a,_0x71dfd8)=>{const _0x1d3ad8=_0x71dfd8[Me];if(!_0x1d3ad8)return null;const _0x3caa54=_0x1d3ad8['count'],_0x2e08d7=[];for(const _0x27fca4 in _0x71dfd8)if(_0x71dfd8['hasOwnProp'+'erty'](_0x27fca4)){const _0x255ae8={'semantic':_0x27fca4,'components':_0x71dfd8[_0x27fca4]['components'],'type':_0x71dfd8[_0x27fca4]['type'],'normalize':!!_0x71dfd8[_0x27fca4]['normalize']};kt['isElementV'+'alid'](_0x2f0b9a,_0x255ae8)||_0x255ae8['components']++,_0x2e08d7['push'](_0x255ae8);}_0x2e08d7['sort']((_0x4f8909,_0x130255)=>SS[_0x4f8909['semantic']]-SS[_0x130255['semantic']]);let _0x54efd3,_0x3d489d,_0x1f1fe5,_0x4a7824,_0x2fe4e4,_0x3cabfe;const _0x180140=new kt(_0x2f0b9a,_0x2e08d7);let _0x159e2e=!(-0x22*-0x4e+0x2198+0x2*-0x15fa);for(_0x54efd3=-0x5f5+0xae8+-0x4f3;_0x54efd3<_0x180140['elements']['length'];++_0x54efd3)if(_0x2fe4e4=_0x180140['elements'][_0x54efd3],_0x4a7824=_0x71dfd8[_0x2fe4e4['name']],_0x3cabfe=_0x4a7824['offset']-_0x1d3ad8['offset'],_0x4a7824['buffer']!==_0x1d3ad8['buffer']||_0x4a7824['stride']!==_0x2fe4e4['stride']||_0x4a7824['size']!==_0x2fe4e4['size']||_0x3cabfe!==_0x2fe4e4['offset']){_0x159e2e=!(-0x191c+-0xc13+-0x38*-0xaa);break;}const _0x70f0fc=new Is(_0x2f0b9a,_0x180140,_0x3caa54),_0x39ba09=_0x70f0fc['lock'](),_0x3c2040=new Uint32Array(_0x39ba09);let _0x4354fd;if(_0x159e2e)_0x4354fd=new Uint32Array(_0x1d3ad8['buffer'],_0x1d3ad8['offset'],_0x3caa54*_0x70f0fc['format']['size']/(0x1*0x239d+-0x2ea+-0x20af)),_0x3c2040['set'](_0x4354fd);else{let _0x1ebcdd,_0x476b0e;for(_0x54efd3=-0x89*-0x23+-0xc6f+0xd*-0x7c;_0x54efd3<_0x70f0fc['format']['elements']['length'];++_0x54efd3){_0x2fe4e4=_0x70f0fc['format']['elements'][_0x54efd3],_0x1ebcdd=_0x2fe4e4['stride']/(0x241d+0x1e52+0x15b*-0x31),_0x4a7824=_0x71dfd8[_0x2fe4e4['name']],_0x476b0e=_0x4a7824['stride']/(-0x1cb6+0x7*-0x6f+-0xad*-0x2f),_0x4354fd=new Uint32Array(_0x4a7824['buffer'],_0x4a7824['offset'],(_0x4a7824['count']-(-0x245*-0x10+-0x149*-0x1d+-0x4994))*_0x476b0e+(_0x4a7824['size']+(0x1*0x1241+-0x11d3+0x1*-0x6b))/(-0x455*0x5+0x235a+0x1*-0xdad));let _0x1e21e9=-0x7ba+0x1d15+0x30d*-0x7,_0x3b210c=_0x2fe4e4['offset']/(-0x16f8+0x2059+-0x95d);const _0x1771f0=Math['floor']((_0x4a7824['size']+(0x1d*0xb3+-0x1c5f+0x5*0x19f))/(-0x621*-0x1+0x12a*-0xe+-0xed*-0xb));for(_0x3d489d=0xf29+0x69c+-0x15c5;_0x3d489d<_0x3caa54;++_0x3d489d){for(_0x1f1fe5=0xc1d*-0x2+-0x1a7d+0x1*0x32b7;_0x1f1fe5<_0x1771f0;++_0x1f1fe5)_0x3c2040[_0x3b210c+_0x1f1fe5]=_0x4354fd[_0x1e21e9+_0x1f1fe5];_0x1e21e9+=_0x476b0e,_0x3b210c+=_0x1ebcdd;}}}return _0x70f0fc['unlock'](),_0x70f0fc;},iN=(_0x199bba,_0xde261d,_0x1b72bc,_0x156c6e,_0x2976c2,_0x38ef27)=>{const _0x34659f={},_0x278216=[];for(const _0x1c1092 in _0xde261d)_0xde261d['hasOwnProp'+'erty'](_0x1c1092)&&Nh['hasOwnProp'+'erty'](_0x1c1092)&&(_0x34659f[_0x1c1092]=_0xde261d[_0x1c1092],_0x278216['push'](_0x1c1092+':'+_0xde261d[_0x1c1092]));_0x278216['sort']();const _0x131c50=_0x278216['join']();let _0x15b80e=_0x38ef27[_0x131c50];if(!_0x15b80e){const _0x4859e0={};for(const _0x57c07f in _0x34659f){const _0x50fcc7=_0x156c6e[_0xde261d[_0x57c07f]],_0x396a93=ua(_0x50fcc7,_0x2976c2),_0xf1d724=_0x2976c2[_0x50fcc7['bufferView']],_0x3102c9=Nh[_0x57c07f],_0x3b3a31=yl(_0x50fcc7['type'])*YF(_0x50fcc7['componentT'+'ype']),_0x59958d=_0xf1d724&&_0xf1d724['hasOwnProp'+'erty']('byteStride')?_0xf1d724['byteStride']:_0x3b3a31;_0x4859e0[_0x3102c9]={'buffer':_0x396a93['buffer'],'size':_0x3b3a31,'offset':_0x396a93['byteOffset'],'stride':_0x59958d,'count':_0x50fcc7['count'],'components':yl(_0x50fcc7['type']),'type':Dd(_0x50fcc7['componentT'+'ype']),'normalize':_0x50fcc7['normalized']};}_0x4859e0['hasOwnProp'+'erty'](gs)||JF(_0x4859e0,_0x1b72bc),_0x15b80e=sN(_0x199bba,_0x4859e0),_0x38ef27[_0x131c50]=_0x15b80e;}return _0x15b80e;},rN=(_0x2fcb2f,_0x1a60a4,_0x13c09d,_0x5a71b2,_0x1daa95,_0x50f9b1)=>{let _0x11c0c2,_0x2c77e2,_0x159aae;const _0x5ac7cb=_0x1a60a4['joints'],_0x22b0b7=_0x5ac7cb['length'],_0x173be7=[];if(_0x1a60a4['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x3cfd50=_0x1a60a4['inverseBin'+'dMatrices'],_0x4a8c7c=ua(_0x13c09d[_0x3cfd50],_0x5a71b2,!(0x2*-0x8f4+0xac6+0x2*0x391)),_0x43dd5c=[];for(_0x11c0c2=0x6*0x385+-0x5*0x707+0xe05;_0x11c0c2<_0x22b0b7;_0x11c0c2++){for(_0x2c77e2=-0x1*0x1c81+-0x89c+-0x3*-0xc5f;_0x2c77e2<-0x83*-0x3a+0x898+-0x43*0x92;_0x2c77e2++)_0x43dd5c[_0x2c77e2]=_0x4a8c7c[_0x11c0c2*(-0xeac+-0xdf2+0x1*0x1cae)+_0x2c77e2];_0x159aae=new te(),_0x159aae['set'](_0x43dd5c),_0x173be7['push'](_0x159aae);}}else{for(_0x11c0c2=-0x61e+0x1*-0x1e8c+0x24aa;_0x11c0c2<_0x22b0b7;_0x11c0c2++)_0x159aae=new te(),_0x173be7['push'](_0x159aae);}const _0x5d2b12=[];for(_0x11c0c2=-0x67*-0x2+0x1aff+-0x1bcd;_0x11c0c2<_0x22b0b7;_0x11c0c2++)_0x5d2b12[_0x11c0c2]=_0x1daa95[_0x5ac7cb[_0x11c0c2]]['name'];const _0x326115=_0x5d2b12['join']('#');let _0x511593=_0x50f9b1['get'](_0x326115);return _0x511593||(_0x511593=new Lv(_0x2fcb2f,_0x173be7,_0x5d2b12),_0x50f9b1['set'](_0x326115,_0x511593)),_0x511593;},aN=(_0x2c08e9,_0x2a2439,_0x436b98,_0xfbf912,_0x2bb70f,_0x57bf26,_0x4f214f)=>{var _0x331119;const _0x22b619=new Ge(_0x2c08e9);_0x22b619['aabb']=Hu(_0x436b98[_0x2a2439['attributes']['POSITION']]);const _0x384470=[];for(const [_0x194de4,_0x5e4dfd]of Object['entries'](_0x2a2439['attributes'])){const _0x215039=_0x436b98[_0x5e4dfd],_0x1baa8e=Nh[_0x194de4],_0xedef80=Dd(_0x215039['componentT'+'ype']);_0x384470['push']({'semantic':_0x1baa8e,'components':yl(_0x215039['type']),'type':_0xedef80,'normalize':_0x215039['normalized']??(_0x1baa8e===Wt&&(_0xedef80===la||_0xedef80===Ml))});}if(_0x4f214f['push'](new Promise((_0x1d0e43,_0x113f92)=>{const _0x47ff4d=_0x2a2439['extensions']['KHR_draco_'+'mesh_compr'+'ession'];XF(_0xfbf912[_0x47ff4d['bufferView']]['slice']()['buffer'],(_0x340910,_0x1ea1fa)=>{var _0x4cb5d6;if(_0x340910)console['log'](_0x340910),_0x113f92(_0x340910);else{const _0x220589={};for(const [_0x4a33c3,_0x5574ab]of Object['entries'](_0x47ff4d['attributes']))_0x220589[Nh[_0x4a33c3]]=_0x1ea1fa['attributes']['indexOf'](_0x5574ab);_0x384470['sort']((_0x4b1be6,_0x31a24e)=>_0x220589[_0x4b1be6['semantic']]-_0x220589[_0x31a24e['semantic']]),(_0x4cb5d6=_0x2a2439['attributes'])!=null&&_0x4cb5d6['NORMAL']||_0x384470['splice'](0x72e*0x2+-0xa0d+0x26*-0x1d,0x133*0x1+-0x3*0x3eb+0xa8e,{'semantic':'NORMAL','components':0x3,'type':Ve});const _0x2f637b=new kt(_0x2c08e9,_0x384470),_0x287612=_0x1ea1fa['vertices']['byteLength']/_0x2f637b['size'],_0xcc3e0a=_0x287612<=0x1b224+0x1057*0x2+-0x1f*0x6cd?Yi:wr,_0x3b7038=_0x1ea1fa['indices']['byteLength']/(_0x287612<=-0x33a4*-0x8+0xd*0x134f+-0x19824?0x2206+-0x1368+-0xe9c:0xff4*0x1+0x11a3+0x23d*-0xf);w['call'](()=>{_0x287612!==_0x436b98[_0x2a2439['attributes']['POSITION']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0x3b7038!==_0x436b98[_0x2a2439['indices']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x2084b2=new Is(_0x2c08e9,_0x2f637b,_0x287612,{'data':_0x1ea1fa['vertices']}),_0x5a0767=new br(_0x2c08e9,_0xcc3e0a,_0x3b7038,ms,_0x1ea1fa['indices']);_0x22b619['vertexBuff'+'er']=_0x2084b2,_0x22b619['indexBuffe'+'r'][0xec0+-0x18ba+-0x1*-0x9fa]=_0x5a0767,_0x22b619['primitive'][0xce3*-0x1+0xbe9+0xfa]['type']=T0(_0x2a2439),_0x22b619['primitive'][0xe*0x22c+0xb3*-0x17+-0x1*0xe53]['base']=-0x209a+-0x5f5*-0x3+0xebb,_0x22b619['primitive'][0x6fd+0xa51+-0x114e]['count']=_0x5a0767?_0x3b7038:_0x287612,_0x22b619['primitive'][0x121e+0x252c+-0x374a]['indexed']=!!_0x5a0767,_0x1d0e43();}});})),(_0x331119=_0x2a2439==null?void(0x14d4+0x10+0x4*-0x539):_0x2a2439['extensions'])!=null&&_0x331119['KHR_materi'+'als_varian'+'ts']){const _0xb6cbae=_0x2a2439['extensions']['KHR_materi'+'als_varian'+'ts'],_0x1d4666={};_0xb6cbae['mappings']['forEach'](_0x2621ee=>{_0x2621ee['variants']['forEach'](_0x5aea62=>{_0x1d4666[_0x5aea62]=_0x2621ee['material'];});}),_0x2bb70f[_0x22b619['id']]=_0x1d4666;}return _0x57bf26[_0x22b619['id']]=_0x2a2439['material'],_0x22b619;},nN=(_0x3c0024,_0x2add7d,_0x428fd8,_0x4b99bf,_0xd3d4cf,_0xce0e57,_0x20e2e6,_0x39dfee,_0x1d0133)=>{const _0x54f23a=[];return _0x2add7d['primitives']['forEach'](_0x21a0bf=>{var _0x5420e3;if((_0x5420e3=_0x21a0bf['extensions'])!=null&&_0x5420e3['KHR_draco_'+'mesh_compr'+'ession'])_0x54f23a['push'](aN(_0x3c0024,_0x21a0bf,_0x428fd8,_0x4b99bf,_0xce0e57,_0x20e2e6,_0x1d0133));else{let _0x334269=_0x21a0bf['hasOwnProp'+'erty']('indices')?ua(_0x428fd8[_0x21a0bf['indices']],_0x4b99bf,!(-0x21fe+0x2de+0x1f20)):null;const _0x16e9d8=iN(_0x3c0024,_0x21a0bf['attributes'],_0x334269,_0x428fd8,_0x4b99bf,_0xd3d4cf),_0x53a354=T0(_0x21a0bf),_0x27b8d7=new Ge(_0x3c0024);if(_0x27b8d7['vertexBuff'+'er']=_0x16e9d8,_0x27b8d7['primitive'][-0x1667*0x1+0x124b+-0x107*-0x4]['type']=_0x53a354,_0x27b8d7['primitive'][0xe4d+-0x204b+0x11fe]['base']=-0x564+-0x1*-0x1729+0x11c5*-0x1,_0x27b8d7['primitive'][-0x3*-0x5ce+0x1*0xfe+0x1f*-0x98]['indexed']=_0x334269!==null,_0x334269!==null){let _0x158de2;_0x334269 instanceof Uint8Array?_0x158de2=$f:_0x334269 instanceof Uint16Array?_0x158de2=Yi:_0x158de2=wr,_0x158de2===$f&&_0x3c0024['isWebGPU']&&(_0x158de2=Yi,_0x334269=new Uint16Array(_0x334269));const _0x29d277=new br(_0x3c0024,_0x158de2,_0x334269['length'],ms,_0x334269);_0x27b8d7['indexBuffe'+'r'][-0x1176+-0x477*0x4+0x11a9*0x2]=_0x29d277,_0x27b8d7['primitive'][0x205e*-0x1+-0x2106+0x4164]['count']=_0x334269['length'];}else _0x27b8d7['primitive'][-0x1*0x12f7+-0x1d77+-0x306e*-0x1]['count']=_0x16e9d8['numVertice'+'s'];if(_0x21a0bf['hasOwnProp'+'erty']('extensions')&&_0x21a0bf['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x4320c0=_0x21a0bf['extensions']['KHR_materi'+'als_varian'+'ts'],_0x2fff44={};_0x4320c0['mappings']['forEach'](_0x376944=>{_0x376944['variants']['forEach'](_0x4b9757=>{_0x2fff44[_0x4b9757]=_0x376944['material'];});}),_0xce0e57[_0x27b8d7['id']]=_0x2fff44;}_0x20e2e6[_0x27b8d7['id']]=_0x21a0bf['material'];let _0x5c6d6e=_0x428fd8[_0x21a0bf['attributes']['POSITION']];if(_0x27b8d7['aabb']=Hu(_0x5c6d6e),_0x21a0bf['hasOwnProp'+'erty']('targets')){const _0xfcaab2=[];_0x21a0bf['targets']['forEach']((_0x437ba7,_0x3a8744)=>{const _0x2ab397={};_0x437ba7['hasOwnProp'+'erty']('POSITION')&&(_0x5c6d6e=_0x428fd8[_0x437ba7['POSITION']],_0x2ab397['deltaPosit'+'ions']=Pn(_0x5c6d6e,_0x4b99bf),_0x2ab397['aabb']=Hu(_0x5c6d6e)),_0x437ba7['hasOwnProp'+'erty']('NORMAL')&&(_0x5c6d6e=_0x428fd8[_0x437ba7['NORMAL']],_0x2ab397['deltaNorma'+'ls']=Pn(_0x5c6d6e,_0x4b99bf)),_0x2add7d['hasOwnProp'+'erty']('extras')&&_0x2add7d['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x2ab397['name']=_0x2add7d['extras']['targetName'+'s'][_0x3a8744]:_0x2ab397['name']=_0x3a8744['toString'](0x2234+0x1469+-0x3693),_0x2add7d['hasOwnProp'+'erty']('weights')&&(_0x2ab397['defaultWei'+'ght']=_0x2add7d['weights'][_0x3a8744]),_0x2ab397['preserveDa'+'ta']=_0x39dfee['morphPrese'+'rveData'],_0xfcaab2['push'](new Md(_0x2ab397));}),_0x27b8d7['morph']=new mm(_0xfcaab2,_0x3c0024,{'preferHighPrecision':_0x39dfee['morphPrefe'+'rHighPreci'+'sion']});}_0x54f23a['push'](_0x27b8d7);}}),_0x54f23a;},Dt=(_0x2d66ca,_0x4a1bff,_0x3cc631)=>{var _0x5b50b7;let _0x51b6;const _0x99dd30=_0x2d66ca['texCoord'];if(_0x99dd30){for(_0x51b6=0x860+-0x1*0x4f7+-0x3*0x123;_0x51b6<_0x3cc631['length'];++_0x51b6)_0x4a1bff[_0x3cc631[_0x51b6]+'MapUv']=_0x99dd30;}const _0x50246d=[0x1*0x253a+-0xb0+0x1245*-0x2,0x1d7*-0x13+0x2500+0x20b*-0x1],_0x9da8bd=[0x196f+0xe16+-0x2784,0x23b3+0x4f3*0x3+-0xe3*0x39],_0x4c80e3=(_0x5b50b7=_0x2d66ca['extensions'])==null?void(0x820+0x799+-0x23f*0x7):_0x5b50b7['KHR_textur'+'e_transfor'+'m'];if(_0x4c80e3){const _0x5c6180=_0x4c80e3['offset']||_0x50246d,_0x1dc0c1=_0x4c80e3['scale']||_0x9da8bd,_0x255446=_0x4c80e3['rotation']?-_0x4c80e3['rotation']*Y['RAD_TO_DEG']:0x24a6+-0x174a+0x12*-0xbe,_0x1bdc95=new J(_0x1dc0c1[-0x1*-0x15b6+-0x13*-0x19+-0x3*0x7db],_0x1dc0c1[-0x669+-0x59+0x6c3]),_0x16e3c2=new J(_0x5c6180[-0x2*0x294+0x2e*0x11+0x1*0x21a],-0x2642+-0x800*0x2+0x3643-_0x1dc0c1[0xaf*-0x1c+-0x1e85+0x31aa]-_0x5c6180[0x13*0xe9+-0x121d*0x2+-0x4*-0x4bc]);for(_0x51b6=-0x7f*0x45+0x164d+0x6*0x1fd;_0x51b6<_0x3cc631['length'];++_0x51b6)_0x4a1bff[_0x3cc631[_0x51b6]+'MapTiling']=_0x1bdc95,_0x4a1bff[_0x3cc631[_0x51b6]+'MapOffset']=_0x16e3c2,_0x4a1bff[_0x3cc631[_0x51b6]+('MapRotatio'+'n')]=_0x255446;}},oN=(_0x1e924d,_0x395ac4,_0x5d5d7b)=>{let _0x2c25ef,_0x3b091b;if(_0x1e924d['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x2c25ef=_0x1e924d['diffuseFac'+'tor'],_0x395ac4['diffuse']['set'](Math['pow'](_0x2c25ef[0x39f+0x692+-0xa31],(-0x1ee0+-0x882+0xd21*0x3)/(-0xe56+-0x195c+0x27b4+0.20000000000000018)),Math['pow'](_0x2c25ef[-0xe60+-0x23f4+0x10c7*0x3],(0x185*-0x13+-0x3b9*0x1+0x2099)/(-0x1*-0x1bd1+-0xe89+-0xd46+0.20000000000000018)),Math['pow'](_0x2c25ef[-0x1b*0x170+0x19b6+-0x347*-0x4],(0x1f19+-0x1*0x51f+0x19f9*-0x1)/(-0x19d9+-0x3*-0x3f5+-0xa*-0x166+0.20000000000000018))),_0x395ac4['opacity']=_0x2c25ef[0x1*-0x199e+-0x21a7+0x3b48]):(_0x395ac4['diffuse']['set'](-0x1*0x255d+0xd0a+0x1854,-0x17f*-0xc+0x2ff*0xa+-0x2fe9,-0x1a9+0x1*-0xa23+0xbcd),_0x395ac4['opacity']=-0x1a66+0x632*-0x1+0x2099),_0x1e924d['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x4b7fab=_0x1e924d['diffuseTex'+'ture'];_0x3b091b=_0x5d5d7b[_0x4b7fab['index']],_0x395ac4['diffuseMap']=_0x3b091b,_0x395ac4['diffuseMap'+'Channel']='rgb',_0x395ac4['opacityMap']=_0x3b091b,_0x395ac4['opacityMap'+'Channel']='a',Dt(_0x4b7fab,_0x395ac4,['diffuse','opacity']);}if(_0x395ac4['useMetalne'+'ss']=!(-0x5*0x58f+-0x1787+-0x3353*-0x1),_0x1e924d['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x2c25ef=_0x1e924d['specularFa'+'ctor'],_0x395ac4['specular']['set'](Math['pow'](_0x2c25ef[-0x8d8*0x2+0x12df+-0x12f],(-0x798+-0x678+-0xd*-0x115)/(0x211f*0x1+-0x1a54+-0x3*0x243+0.20000000000000018)),Math['pow'](_0x2c25ef[0x362*-0xb+-0x3*0x13f+0x28f4],(0x1*0x2015+0x26e7+-0x46fb)/(0x21f5*0x1+0x56b*-0x1+0xa6*-0x2c+0.20000000000000018)),Math['pow'](_0x2c25ef[0x1*-0x5c9+0x3f*0x1+0x58c],(-0x1*-0x11b+-0x60*-0x2e+0x51*-0x3a)/(-0x34*0x8d+-0x685+0x232b+0.20000000000000018)))):_0x395ac4['specular']['set'](0x38*0x6b+-0x1*-0xcb+0x1832*-0x1,0x4*0x5cf+-0x1b9c+-0x461*-0x1,0x2c1*0x3+0x1301+0x1*-0x1b43),_0x1e924d['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x395ac4['gloss']=_0x1e924d['glossiness'+'Factor']:_0x395ac4['gloss']=-0x2210+-0x1f22+0x4133,_0x1e924d['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x368381=_0x1e924d['specularGl'+'ossinessTe'+'xture'];_0x395ac4['specularMa'+'p']=_0x395ac4['glossMap']=_0x5d5d7b[_0x368381['index']],_0x395ac4['specularMa'+'pChannel']='rgb',_0x395ac4['glossMapCh'+'annel']='a',Dt(_0x368381,_0x395ac4,['gloss','metalness']);}},lN=(_0x224b27,_0x3c6f2c,_0x5c9e64)=>{if(_0x224b27['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x3c6f2c['clearCoat']=_0x224b27['clearcoatF'+'actor']*(-0x295*-0xd+-0x1bc8+-0x5c9+0.25):_0x3c6f2c['clearCoat']=-0x76e+0xfa9*-0x1+0x1717,_0x224b27['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0x3f6f15=_0x224b27['clearcoatT'+'exture'];_0x3c6f2c['clearCoatM'+'ap']=_0x5c9e64[_0x3f6f15['index']],_0x3c6f2c['clearCoatM'+'apChannel']='r',Dt(_0x3f6f15,_0x3c6f2c,['clearCoat']);}if(_0x224b27['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x3c6f2c['clearCoatG'+'loss']=_0x224b27['clearcoatR'+'oughnessFa'+'ctor']:_0x3c6f2c['clearCoatG'+'loss']=-0xfa1*-0x1+0x1deb+-0x2d8c,_0x224b27['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0x1f8032=_0x224b27['clearcoatR'+'oughnessTe'+'xture'];_0x3c6f2c['clearCoatG'+'lossMap']=_0x5c9e64[_0x1f8032['index']],_0x3c6f2c['clearCoatG'+'lossMapCha'+'nnel']='g',Dt(_0x1f8032,_0x3c6f2c,['clearCoatG'+'loss']);}if(_0x224b27['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x4e39bb=_0x224b27['clearcoatN'+'ormalTextu'+'re'];_0x3c6f2c['clearCoatN'+'ormalMap']=_0x5c9e64[_0x4e39bb['index']],Dt(_0x4e39bb,_0x3c6f2c,['clearCoatN'+'ormal']),_0x4e39bb['hasOwnProp'+'erty']('scale')?_0x3c6f2c['clearCoatB'+'umpiness']=_0x4e39bb['scale']:_0x3c6f2c['clearCoatB'+'umpiness']=0x11b3*-0x2+0x1718+0xc4f;}_0x3c6f2c['clearCoatG'+'lossInvert']=!(-0x1*0x977+-0xf5e+0x18d5);},cN=(_0x4d51fc,_0x35c4fa,_0x2664c4)=>{_0x35c4fa['useLightin'+'g']=!(0x7*0x19c+0x7f*-0x4e+0x1b6f),_0x35c4fa['emissive']['copy'](_0x35c4fa['diffuse']),_0x35c4fa['emissiveMa'+'p']=_0x35c4fa['diffuseMap'],_0x35c4fa['emissiveMa'+'pUv']=_0x35c4fa['diffuseMap'+'Uv'],_0x35c4fa['emissiveMa'+'pTiling']['copy'](_0x35c4fa['diffuseMap'+'Tiling']),_0x35c4fa['emissiveMa'+'pOffset']['copy'](_0x35c4fa['diffuseMap'+'Offset']),_0x35c4fa['emissiveMa'+'pRotation']=_0x35c4fa['diffuseMap'+'Rotation'],_0x35c4fa['emissiveMa'+'pChannel']=_0x35c4fa['diffuseMap'+'Channel'],_0x35c4fa['emissiveVe'+'rtexColor']=_0x35c4fa['diffuseVer'+'texColor'],_0x35c4fa['emissiveVe'+'rtexColorC'+'hannel']=_0x35c4fa['diffuseVer'+'texColorCh'+'annel'],_0x35c4fa['useLightin'+'g']=!(-0x1d*-0xa1+0x3*-0x194+0x80*-0x1b),_0x35c4fa['useSkybox']=!(-0x16a4+0x586+0x111f),_0x35c4fa['diffuse']['set'](-0x7e1+-0x728+0xf0a,0x2*0x3e+-0xdf5*0x1+0x73*0x1e,0x5*0x3fd+-0x203+-0x11ed),_0x35c4fa['diffuseMap']=null,_0x35c4fa['diffuseVer'+'texColor']=!(0x20*-0x110+0x152*-0x1a+0x31*0x165);},hN=(_0x8a1241,_0x261ea6,_0x77dfe2)=>{if(_0x261ea6['useMetalne'+'ssSpecular'+'Color']=!(-0x237e+-0x1*-0x1d83+0x1*0x5fb),_0x8a1241['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x261ea6['specularMa'+'p']=_0x77dfe2[_0x8a1241['specularCo'+'lorTexture']['index']],_0x261ea6['specularMa'+'pChannel']='rgb',Dt(_0x8a1241['specularCo'+'lorTexture'],_0x261ea6,['specular'])),_0x8a1241['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x175941=_0x8a1241['specularCo'+'lorFactor'];_0x261ea6['specular']['set'](Math['pow'](_0x175941[0xc3b*0x3+-0x56+0x1*-0x245b],(0x1d*-0x26+0x1*0x7f0+0x3a1*-0x1)/(-0x1245+0x1134+0xb*0x19+0.20000000000000018)),Math['pow'](_0x175941[0x194b+-0xb57*0x2+-0xa7*0x4],(0x59c*0x1+0x5*0x33e+0x1*-0x15d1)/(-0x1350+0x5*-0x4ca+0x2b44+0.20000000000000018)),Math['pow'](_0x175941[-0xfad*-0x2+-0xc8*-0x14+-0x3*0xfa8],(0x2*-0x1154+-0xfc+0x23a5)/(-0x1a6a+-0x6b*-0x5+0x1855*0x1+0.20000000000000018)));}else _0x261ea6['specular']['set'](0x74*0x1+0x20c2+0x1*-0x2135,-0x21ff+-0x1*-0x281+0x1*0x1f7f,0x1176+0x2133*0x1+-0xcaa*0x4);_0x8a1241['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x261ea6['specularit'+'yFactor']=_0x8a1241['specularFa'+'ctor']:_0x261ea6['specularit'+'yFactor']=-0x4c0+-0x11*-0x171+-0x13c0,_0x8a1241['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x261ea6['specularit'+'yFactorMap'+'Channel']='a',_0x261ea6['specularit'+'yFactorMap']=_0x77dfe2[_0x8a1241['specularTe'+'xture']['index']],Dt(_0x8a1241['specularTe'+'xture'],_0x261ea6,['specularit'+'yFactor']));},dN=(_0x4125eb,_0x242963,_0xa3ccb7)=>{_0x4125eb['hasOwnProp'+'erty']('ior')&&(_0x242963['refraction'+'Index']=(-0xee+-0x6ae+0x79d)/_0x4125eb['ior']);},fN=(_0xbcf3cb,_0x43360d,_0x5212e0)=>{_0xbcf3cb['hasOwnProp'+'erty']('dispersion')&&(_0x43360d['dispersion']=_0xbcf3cb['dispersion']);},uN=(_0x30bb8c,_0x5d3f20,_0x57d74d)=>{_0x5d3f20['blendType']=Zs,_0x5d3f20['useDynamic'+'Refraction']=!(0x3a3*0x1+0xce*0x1+-0x471),_0x30bb8c['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x5d3f20['refraction']=_0x30bb8c['transmissi'+'onFactor']),_0x30bb8c['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x5d3f20['refraction'+'MapChannel']='r',_0x5d3f20['refraction'+'Map']=_0x57d74d[_0x30bb8c['transmissi'+'onTexture']['index']],Dt(_0x30bb8c['transmissi'+'onTexture'],_0x5d3f20,['refraction']));},pN=(_0x289bbf,_0x51dbb4,_0x3aeca6)=>{if(_0x51dbb4['useSheen']=!(-0x26c6+-0x1d*0x30+0x2c36),_0x289bbf['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0x3e6c34=_0x289bbf['sheenColor'+'Factor'];_0x51dbb4['sheen']['set'](Math['pow'](_0x3e6c34[-0x2323+0x24c3+-0x1a0*0x1],(0x219*-0x5+0x2*0x584+0x6*-0x17)/(0x2467+0x21b6+-0x1*0x461b+0.20000000000000018)),Math['pow'](_0x3e6c34[0xfed+-0x105*0x1e+0x755*0x2],(-0x1d5f+0x7*-0x1a3+-0x28d5*-0x1)/(0xc5f+0x1dd7+-0x2a34+0.20000000000000018)),Math['pow'](_0x3e6c34[-0x1*0x1151+0x1d5*-0x11+0x2c*0x11a],(-0x473+-0x5c2+0xa36)/(0x11*0x13d+0xddd+0x2*-0x1174+0.20000000000000018)));}else _0x51dbb4['sheen']['set'](-0x5*0x31a+0x258*-0xb+0x155*0x1f,-0x5fb+-0x5*0x16d+-0x1*-0xd1d,0x9c8+-0x1664+0xc9d*0x1);_0x289bbf['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x51dbb4['sheenMap']=_0x3aeca6[_0x289bbf['sheenColor'+'Texture']['index']],Dt(_0x289bbf['sheenColor'+'Texture'],_0x51dbb4,['sheen'])),_0x51dbb4['sheenGloss']=_0x289bbf['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x289bbf['sheenRough'+'nessFactor']:-0x27*-0x3+-0x247+0xe9*0x2,_0x289bbf['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x51dbb4['sheenGloss'+'Map']=_0x3aeca6[_0x289bbf['sheenRough'+'nessTextur'+'e']['index']],_0x51dbb4['sheenGloss'+'MapChannel']='a',Dt(_0x289bbf['sheenRough'+'nessTextur'+'e'],_0x51dbb4,['sheenGloss'])),_0x51dbb4['sheenGloss'+'Invert']=!(0x1f3f+-0x111a*0x1+-0xe25);},mN=(_0x4c3b1f,_0x3a7a01,_0x749977)=>{if(_0x3a7a01['blendType']=Zs,_0x3a7a01['useDynamic'+'Refraction']=!(-0x15d9+-0x41b*0x7+0x3296),_0x4c3b1f['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0x3a7a01['thickness']=_0x4c3b1f['thicknessF'+'actor']),_0x4c3b1f['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0x3a7a01['thicknessM'+'ap']=_0x749977[_0x4c3b1f['thicknessT'+'exture']['index']],_0x3a7a01['thicknessM'+'apChannel']='g',Dt(_0x4c3b1f['thicknessT'+'exture'],_0x3a7a01,['thickness'])),_0x4c3b1f['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0x3a7a01['attenuatio'+'nDistance']=_0x4c3b1f['attenuatio'+'nDistance']),_0x4c3b1f['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x388bc7=_0x4c3b1f['attenuatio'+'nColor'];_0x3a7a01['attenuatio'+'n']['set'](Math['pow'](_0x388bc7[-0xb24+0x1002+-0x4de],(0x1952*-0x1+-0x1*0x18d7+0x322a)/(0xdf3*0x1+0x3*-0x482+-0x6b+0.20000000000000018)),Math['pow'](_0x388bc7[0x14c9+0x148d*0x1+0x3*-0xdc7],(-0x2538+-0x4*0x554+0x51*0xb9)/(-0x1*-0xe97+0x3*-0x105+-0xb86+0.20000000000000018)),Math['pow'](_0x388bc7[0xd45+0x2*0x10f3+-0x2f29],(0x1597+-0x20d0+0xb3a)/(0x2083+-0x1*0x1fad+-0xd4+0.20000000000000018)));}},_N=(_0x1a7db0,_0x4a5538,_0x5816f1)=>{_0x1a7db0['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x4a5538['emissiveIn'+'tensity']=_0x1a7db0['emissiveSt'+'rength']);},gN=(_0x317f85,_0x664537,_0x520f39)=>{_0x664537['useIridesc'+'ence']=!(0x23a7+0xbf8+-0x2f9f*0x1),_0x317f85['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x664537['iridescenc'+'e']=_0x317f85['iridescenc'+'eFactor']),_0x317f85['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x664537['iridescenc'+'eMapChanne'+'l']='r',_0x664537['iridescenc'+'eMap']=_0x520f39[_0x317f85['iridescenc'+'eTexture']['index']],Dt(_0x317f85['iridescenc'+'eTexture'],_0x664537,['iridescenc'+'e'])),_0x317f85['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x664537['iridescenc'+'eRefractio'+'nIndex']=_0x317f85['iridescenc'+'eIor']),_0x317f85['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x664537['iridescenc'+'eThickness'+'Min']=_0x317f85['iridescenc'+'eThickness'+'Minimum']),_0x317f85['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x664537['iridescenc'+'eThickness'+'Max']=_0x317f85['iridescenc'+'eThickness'+'Maximum']),_0x317f85['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x664537['iridescenc'+'eThickness'+'MapChannel']='g',_0x664537['iridescenc'+'eThickness'+'Map']=_0x520f39[_0x317f85['iridescenc'+'eThickness'+'Texture']['index']],Dt(_0x317f85['iridescenc'+'eThickness'+'Texture'],_0x664537,['iridescenc'+'eThickness']));},SN=(_0x20b486,_0xe5f686,_0x396eb8)=>{if(_0xe5f686['enableGGXS'+'pecular']=!(0x99+0x11ca+-0x1263),_0x20b486['hasOwnProp'+'erty']('anisotropy'+'Strength')?_0xe5f686['anisotropy'+'Intensity']=_0x20b486['anisotropy'+'Strength']:_0xe5f686['anisotropy'+'Intensity']=0x92d+-0x20*0x22+0xd*-0x61,_0x20b486['hasOwnProp'+'erty']('anisotropy'+'Texture')){const _0xd4af9d=_0x20b486['anisotropy'+'Texture'];_0xe5f686['anisotropy'+'Map']=_0x396eb8[_0xd4af9d['index']],Dt(_0xd4af9d,_0xe5f686,['anisotropy']);}_0x20b486['hasOwnProp'+'erty']('anisotropy'+'Rotation')?_0xe5f686['anisotropy'+'Rotation']=_0x20b486['anisotropy'+'Rotation']*Y['RAD_TO_DEG']:_0xe5f686['anisotropy'+'Rotation']=-0xed9+0x47*0x46+-0x491;},w0=(_0x179678,_0x5ed83f)=>{const _0x3cce2b=new Ut();_0x179678['hasOwnProp'+'erty']('name')&&(_0x3cce2b['name']=_0x179678['name']),_0x3cce2b['occludeSpe'+'cular']=bd,_0x3cce2b['diffuseVer'+'texColor']=!(-0x1416+0x16c3*-0x1+0x1*0x2ad9),_0x3cce2b['specularTi'+'nt']=!(0x41*0xb+0x42d+-0x6f8),_0x3cce2b['specularVe'+'rtexColor']=!(-0x2404+0x13*0xd+0x3e5*0x9),_0x3cce2b['specular']['set'](-0x41+-0x819+0x1*0x85b,-0x1*0x237+0x381+-0x2f*0x7,-0x23b7+-0x1*-0x25c+-0x14*-0x1ab),_0x3cce2b['gloss']=0x13ef+-0x735+-0xcb9,_0x3cce2b['glossInver'+'t']=!(0x70f*0x4+-0x1d7+-0x1a65),_0x3cce2b['useMetalne'+'ss']=!(0x1a0*0x12+-0x12*0x1f3+0x5d6);let _0x294fb5,_0x1c5c40;if(_0x179678['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0xbaaf0e=_0x179678['pbrMetalli'+'cRoughness'];if(_0xbaaf0e['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x294fb5=_0xbaaf0e['baseColorF'+'actor'],_0x3cce2b['diffuse']['set'](Math['pow'](_0x294fb5[0xb9b+-0x2301+0x257*0xa],(-0x22c5+0xf*-0x1f1+0xb*0x5cf)/(0x5*-0x5fb+0x884*-0x1+-0x445*-0x9+0.20000000000000018)),Math['pow'](_0x294fb5[-0x2406+-0x1223*0x1+0x362a],(0x15a4+-0x5*0x12f+-0xfb8)/(0x1*-0x4c+-0x1d*-0xb5+0x1433*-0x1+0.20000000000000018)),Math['pow'](_0x294fb5[0x1d47+0x3cc+-0x2111],(-0x2a1*-0x5+0x5*-0x74f+0x1767*0x1)/(0x1*-0x221f+0x47*-0x13+-0x691*-0x6+0.20000000000000018))),_0x3cce2b['opacity']=_0x294fb5[0x536+0x1aa7*-0x1+0x55d*0x4]),_0xbaaf0e['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x3ccd74=_0xbaaf0e['baseColorT'+'exture'];_0x1c5c40=_0x5ed83f[_0x3ccd74['index']],_0x3cce2b['diffuseMap']=_0x1c5c40,_0x3cce2b['diffuseMap'+'Channel']='rgb',_0x3cce2b['opacityMap']=_0x1c5c40,_0x3cce2b['opacityMap'+'Channel']='a',Dt(_0x3ccd74,_0x3cce2b,['diffuse','opacity']);}if(_0xbaaf0e['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0x3cce2b['metalness']=_0xbaaf0e['metallicFa'+'ctor']),_0xbaaf0e['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0x3cce2b['gloss']=_0xbaaf0e['roughnessF'+'actor']),_0xbaaf0e['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x3309fb=_0xbaaf0e['metallicRo'+'ughnessTex'+'ture'];_0x3cce2b['metalnessM'+'ap']=_0x3cce2b['glossMap']=_0x5ed83f[_0x3309fb['index']],_0x3cce2b['metalnessM'+'apChannel']='b',_0x3cce2b['glossMapCh'+'annel']='g',Dt(_0x3309fb,_0x3cce2b,['gloss','metalness']);}}if(_0x179678['hasOwnProp'+'erty']('normalText'+'ure')){const _0x56ec7c=_0x179678['normalText'+'ure'];_0x3cce2b['normalMap']=_0x5ed83f[_0x56ec7c['index']],Dt(_0x56ec7c,_0x3cce2b,['normal']),_0x56ec7c['hasOwnProp'+'erty']('scale')&&(_0x3cce2b['bumpiness']=_0x56ec7c['scale']);}if(_0x179678['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x23dd83=_0x179678['occlusionT'+'exture'];_0x3cce2b['aoMap']=_0x5ed83f[_0x23dd83['index']],_0x3cce2b['aoMapChann'+'el']='r',Dt(_0x23dd83,_0x3cce2b,['ao']);}if(_0x179678['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x294fb5=_0x179678['emissiveFa'+'ctor'],_0x3cce2b['emissive']['set'](Math['pow'](_0x294fb5[-0x146*-0xf+-0x882*0x1+-0x54c*0x2],(0x16*0xb1+-0x79*-0x7+-0x1e*0x9e)/(-0x19*-0x53+0x2148+-0x2961+0.20000000000000018)),Math['pow'](_0x294fb5[0x1bf0+0xd4f*0x1+-0x293e],(0xc8d+-0x4*-0x5e2+-0x4*0x905)/(0x76d+-0x125b+0xaf0+0.20000000000000018)),Math['pow'](_0x294fb5[-0xede+-0x1*0x1307+0x21e7],(0x1cfd+-0x1*0x1b1e+-0x1de)/(-0xe54+-0x13a0*-0x1+-0x54a+0.20000000000000018)))),_0x179678['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x47a27a=_0x179678['emissiveTe'+'xture'];_0x3cce2b['emissiveMa'+'p']=_0x5ed83f[_0x47a27a['index']],Dt(_0x47a27a,_0x3cce2b,['emissive']);}if(_0x179678['hasOwnProp'+'erty']('alphaMode'))switch(_0x179678['alphaMode']){case'MASK':_0x3cce2b['blendType']=Cs,_0x179678['hasOwnProp'+'erty']('alphaCutof'+'f')?_0x3cce2b['alphaTest']=_0x179678['alphaCutof'+'f']:_0x3cce2b['alphaTest']=0x1*0x1d5d+-0x11ac+-0xbb1+0.5;break;case'BLEND':_0x3cce2b['blendType']=Zs,_0x3cce2b['depthWrite']=!(0x1*-0x204e+0x1e0f+0x240);break;default:case'OPAQUE':_0x3cce2b['blendType']=Cs;break;}else _0x3cce2b['blendType']=Cs;_0x179678['hasOwnProp'+'erty']('doubleSide'+'d')?(_0x3cce2b['twoSidedLi'+'ghting']=_0x179678['doubleSide'+'d'],_0x3cce2b['cull']=_0x179678['doubleSide'+'d']?bt:pa):(_0x3cce2b['twoSidedLi'+'ghting']=!(0xf66+0x1*-0x6d7+-0x447*0x2),_0x3cce2b['cull']=pa);const _0x40e11e={'KHR_materials_clearcoat':lN,'KHR_materials_emissive_strength':_N,'KHR_materials_ior':dN,'KHR_materials_dispersion':fN,'KHR_materials_iridescence':gN,'KHR_materials_pbrSpecularGlossiness':oN,'KHR_materials_sheen':pN,'KHR_materials_specular':hN,'KHR_materials_transmission':uN,'KHR_materials_unlit':cN,'KHR_materials_volume':mN,'KHR_materials_anisotropy':SN};if(_0x179678['hasOwnProp'+'erty']('extensions'))for(const _0x11c596 in _0x179678['extensions']){const _0x20e62e=_0x40e11e[_0x11c596];_0x20e62e!==void(0xd79+-0x1f36+0x11bd*0x1)&&_0x20e62e(_0x179678['extensions'][_0x11c596],_0x3cce2b,_0x5ed83f);}return _0x3cce2b['update'](),_0x3cce2b;},yN=(_0x478a51,_0x46feb6,_0xf54c65,_0x836e35,_0x171573,_0x31b21f,_0x5d4338)=>{const _0x4f0d26=_0x485d90=>new Fh(yl(_0x485d90['type']),Pn(_0x485d90,_0x836e35)),_0x4488={'STEP':Bv,'LINEAR':Su,'CUBICSPLINE':yu},_0x415a67={},_0x5a00b4={},_0x2d69be={};let _0x592f7e=0x1a47+0x1a82+-0x699*0x8,_0x5dbd53;for(_0x5dbd53=0xc5*-0x20+-0x168+-0x62*-0x44;_0x5dbd53<_0x478a51['samplers']['length'];++_0x5dbd53){const _0x3a66d1=_0x478a51['samplers'][_0x5dbd53];_0x415a67['hasOwnProp'+'erty'](_0x3a66d1['input'])||(_0x415a67[_0x3a66d1['input']]=_0x4f0d26(_0xf54c65[_0x3a66d1['input']])),_0x5a00b4['hasOwnProp'+'erty'](_0x3a66d1['output'])||(_0x5a00b4[_0x3a66d1['output']]=_0x4f0d26(_0xf54c65[_0x3a66d1['output']]));const _0x32992b=_0x3a66d1['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x4488['hasOwnProp'+'erty'](_0x3a66d1['interpolat'+'ion'])?_0x4488[_0x3a66d1['interpolat'+'ion']]:Su,_0x55ed89={'paths':[],'input':_0x3a66d1['input'],'output':_0x3a66d1['output'],'interpolation':_0x32992b};_0x2d69be[_0x5dbd53]=_0x55ed89;}const _0x3f6e47=[],_0x1d855b={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x2e98e7=_0x436fbd=>{const _0x4c14ff=[];for(;_0x436fbd;)_0x4c14ff['unshift'](_0x436fbd['name']),_0x436fbd=_0x436fbd['parent'];return _0x4c14ff;},_0x367938=(_0xe62fb7,_0x2b3754,_0x2d0abf)=>{const _0x4c0b55=_0x5a00b4[_0xe62fb7['output']];if(!_0x4c0b55){w['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x2d0abf+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0x1e3ecb;if(_0x31b21f&&_0x31b21f[_0x2b3754['mesh']]){const _0x4af66f=_0x31b21f[_0x2b3754['mesh']];_0x4af66f['hasOwnProp'+'erty']('extras')&&_0x4af66f['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0x1e3ecb=_0x4af66f['extras']['targetName'+'s']);}const _0x25df31=_0x4c0b55['data'],_0x5a207a=_0x25df31['length']/_0x415a67[_0xe62fb7['input']]['data']['length'],_0x4aaec0=_0x25df31['length']/_0x5a207a,_0x2622bb=_0x4aaec0*(-0x6e1*-0x4+0x6d*-0x3d+-0x17*0x11),_0x2d9a45=new ArrayBuffer(_0x2622bb*_0x5a207a);for(let _0x2d2c84=-0x67*0x1+0x7c3+-0x75c;_0x2d2c84<_0x5a207a;_0x2d2c84++){const _0x252429=new Float32Array(_0x2d9a45,_0x2622bb*_0x2d2c84,_0x4aaec0);for(let _0x47f2f2=-0x477*0x4+-0x1b53*0x1+-0x2b*-0x10d;_0x47f2f2<_0x4aaec0;_0x47f2f2++)_0x252429[_0x47f2f2]=_0x25df31[_0x47f2f2*_0x5a207a+_0x2d2c84];const _0x5421bb=new Fh(-0x1f9a+-0x137*-0x5+0x1988,_0x252429),_0x2754ff=_0x1e3ecb!=null&&_0x1e3ecb[_0x2d2c84]?'name.'+_0x1e3ecb[_0x2d2c84]:_0x2d2c84;_0x5a00b4[-_0x592f7e]=_0x5421bb;const _0x4ba941={'paths':[{'entityPath':_0x2d0abf,'component':'graph','propertyPath':['weight.'+_0x2754ff]}],'input':_0xe62fb7['input'],'output':-_0x592f7e,'interpolation':_0xe62fb7['interpolat'+'ion']};_0x592f7e++,_0x2d69be['morphCurve'+'-'+_0x5dbd53+'-'+_0x2d2c84]=_0x4ba941;}};for(_0x5dbd53=0x3*0x5cb+0x1903+-0x2a64;_0x5dbd53<_0x478a51['channels']['length'];++_0x5dbd53){const _0x364b28=_0x478a51['channels'][_0x5dbd53],_0x267954=_0x364b28['target'],_0x63c799=_0x2d69be[_0x364b28['sampler']],_0x3b82bf=_0x171573[_0x267954['node']],_0x1fad09=_0x5d4338[_0x267954['node']],_0x551d9d=_0x2e98e7(_0x3b82bf);_0x267954['path']['startsWith']('weights')?(_0x367938(_0x63c799,_0x1fad09,_0x551d9d),_0x2d69be[_0x364b28['sampler']]['morphCurve']=!(0xfdb+0x68b+-0x1666)):_0x63c799['paths']['push']({'entityPath':_0x551d9d,'component':'graph','propertyPath':[_0x1d855b[_0x267954['path']]]});}const _0xb40fa8=[],_0xba3f11=[],_0xe839a1=[];for(const _0x4e04d1 in _0x415a67)_0xb40fa8['push'](_0x415a67[_0x4e04d1]),_0x415a67[_0x4e04d1]=_0xb40fa8['length']-(0x72b*-0x3+-0x24c6+0x3a48);for(const _0xdcc375 in _0x5a00b4)_0xba3f11['push'](_0x5a00b4[_0xdcc375]),_0x5a00b4[_0xdcc375]=_0xba3f11['length']-(-0x227b+0xaa*-0x7+-0x2*-0x1391);for(const _0x336047 in _0x2d69be){const _0x2f2a6e=_0x2d69be[_0x336047];_0x2f2a6e['morphCurve']||(_0xe839a1['push'](new v0(_0x2f2a6e['paths'],_0x415a67[_0x2f2a6e['input']],_0x5a00b4[_0x2f2a6e['output']],_0x2f2a6e['interpolat'+'ion'])),_0x2f2a6e['paths']['length']>0xb7f+0x19c6+0xcb*-0x2f&&_0x2f2a6e['paths'][-0x2*-0xca+-0x2*-0x3e3+-0x95a]['propertyPa'+'th'][0x11*-0x1a+0x3*-0xb93+0x2473]==='localRotat'+'ion'&&_0x2f2a6e['interpolat'+'ion']!==yu&&_0x3f6e47['push'](_0xe839a1[_0xe839a1['length']-(0x1184+-0x14e+0x1cd*-0x9)]['output']));}_0x3f6e47['sort']();let _0x28523a=null,_0x395dee;for(_0x5dbd53=0x17*-0x113+-0x1f77+-0x5*-0xb3c;_0x5dbd53<_0x3f6e47['length'];++_0x5dbd53){const _0x285ae3=_0x3f6e47[_0x5dbd53];if(_0x5dbd53===0x5fb+-0xf81+0x6a*0x17||_0x285ae3!==_0x28523a){if(_0x395dee=_0xba3f11[_0x285ae3],_0x395dee['components']===0x3df*-0xa+0x1c9*0x14+0x102*0x3){const _0x3e433d=_0x395dee['data'],_0x2549a2=_0x3e433d['length']-(-0x1a96+-0xa*-0x236+0x47e);for(let _0x257cef=-0x2*-0x256+0x1b1b*-0x1+0x166f;_0x257cef<_0x2549a2;_0x257cef+=0xdee+-0x3f*0x87+-0x134f*-0x1)_0x3e433d[_0x257cef+(0x15a+0x1*0x412+-0x1*0x56c)]*_0x3e433d[_0x257cef+(-0x2*-0xcb3+0x14f6+-0x8*0x5cb)]+_0x3e433d[_0x257cef+(-0x17e1+-0xbdd*-0x1+0xc05)]*_0x3e433d[_0x257cef+(-0xdcb*-0x1+-0xec*0x2+0x2*-0x5f7)]+_0x3e433d[_0x257cef+(-0x131*-0x1f+-0x1*-0x1b0a+-0x3ff7)]*_0x3e433d[_0x257cef+(-0x232f*0x1+-0x32*0x36+0xd*0x385)]+_0x3e433d[_0x257cef+(0x1c9*-0x12+-0x1*0x261f+0x4644)]*_0x3e433d[_0x257cef+(-0xaf*0x1+0x15d0+-0x2*0xa8d)]<-0x374*-0x7+-0x24ec+0xcc0&&(_0x3e433d[_0x257cef+(-0x1f61+0x170*0x10+0x865)]*=-(-0x1b61*-0x1+-0x31*-0x8c+-0x362c),_0x3e433d[_0x257cef+(0xb3*-0x13+0x471*0x3+-0x5)]*=-(-0x3*0x295+-0x2e0*-0x5+0x4*-0x1a8),_0x3e433d[_0x257cef+(-0x1*-0x2314+0x545*0x1+0x3*-0xd71)]*=-(-0x109c*-0x2+0x1b40+-0x1*0x3c77),_0x3e433d[_0x257cef+(-0x497+0x7*0x1a0+-0x6c2)]*=-(0x11f*0x8+-0x1807+0x10*0xf1));}_0x28523a=_0x285ae3;}}let _0x300551=0x11e5+0x1b*-0xdf+-0xb4*-0x8;for(_0x5dbd53=-0x8c3+-0xbe*0x1+-0x3*-0x32b;_0x5dbd53<_0xb40fa8['length'];_0x5dbd53++)_0x395dee=_0xb40fa8[_0x5dbd53]['_data'],_0x300551=Math['max'](_0x300551,_0x395dee['length']===-0xf42+0x3*0x55f+-0xdb*0x1?0x25c8+0x1ef1+-0x49*0xf1:_0x395dee[_0x395dee['length']-(0x1*0x188a+0x1*-0x1425+-0x464)]);return new Qi(_0x478a51['hasOwnProp'+'erty']('name')?_0x478a51['name']:'animation_'+_0x46feb6,_0x300551,_0xb40fa8,_0xba3f11,_0xe839a1);},Dc=new te(),Qa=new D(),vN=(_0x3861ce,_0x200e7d,_0x5642cb)=>{const _0x112706=new Ie();if(_0x3861ce['hasOwnProp'+'erty']('name')&&_0x3861ce['name']['length']>-0x20ab+-0x18af*0x1+0x395a*0x1?_0x112706['name']=_0x3861ce['name']:_0x112706['name']='node_'+_0x200e7d,_0x3861ce['hasOwnProp'+'erty']('matrix')&&(Dc['data']['set'](_0x3861ce['matrix']),Dc['getTransla'+'tion'](Qa),_0x112706['setLocalPo'+'sition'](Qa),Dc['getEulerAn'+'gles'](Qa),_0x112706['setLocalEu'+'lerAngles'](Qa),Dc['getScale'](Qa),_0x112706['setLocalSc'+'ale'](Qa)),_0x3861ce['hasOwnProp'+'erty']('rotation')){const _0x54001f=_0x3861ce['rotation'];_0x112706['setLocalRo'+'tation'](_0x54001f[0x899*-0x3+0x1c4e+-0x283],_0x54001f[0x1*-0xd69+0x19ae+0x5*-0x274],_0x54001f[-0x4a6+-0xf02*-0x2+-0x2*0xcae],_0x54001f[0x277*0x2+0x1de6+-0x22d1]);}if(_0x3861ce['hasOwnProp'+'erty']('translatio'+'n')){const _0x5d90ba=_0x3861ce['translatio'+'n'];_0x112706['setLocalPo'+'sition'](_0x5d90ba[-0x1736+0x1*0xd5f+0xe5*0xb],_0x5d90ba[-0x1591+0xda*0x15+-0xec*-0x4],_0x5d90ba[0xb6b*0x2+0xc67+0x1*-0x233b]);}if(_0x3861ce['hasOwnProp'+'erty']('scale')){const _0x5d56a0=_0x3861ce['scale'];_0x112706['setLocalSc'+'ale'](_0x5d56a0[0x1fed+-0xc59+-0x1394],_0x5d56a0[-0x8*0x101+0xa52+-0x249],_0x5d56a0[0x147+-0x876+-0x1*-0x731]);}return _0x3861ce['hasOwnProp'+'erty']('extensions')&&_0x3861ce['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x5642cb['set'](_0x3861ce,{'ext':_0x3861ce['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x112706;},xN=(_0x2d45bc,_0x3e9dbe)=>{const _0x12d7c5=_0x2d45bc['type']==='orthograph'+'ic'?En:ni,_0x42d0e3=_0x12d7c5===En?_0x2d45bc['orthograph'+'ic']:_0x2d45bc['perspectiv'+'e'],_0x48459a={'enabled':!(-0x1568+-0x4*-0x154+0x1019*0x1),'projection':_0x12d7c5,'nearClip':_0x42d0e3['znear'],'aspectRatioMode':hm};_0x42d0e3['zfar']&&(_0x48459a['farClip']=_0x42d0e3['zfar']),_0x12d7c5===En?(_0x48459a['orthoHeigh'+'t']=(-0x1*0x2bd+-0x1a8b+0x752*0x4+0.5)*_0x42d0e3['ymag'],_0x42d0e3['ymag']&&(_0x48459a['aspectRati'+'oMode']=lu,_0x48459a['aspectRati'+'o']=_0x42d0e3['xmag']/_0x42d0e3['ymag'])):(_0x48459a['fov']=_0x42d0e3['yfov']*Y['RAD_TO_DEG'],_0x42d0e3['aspectRati'+'o']&&(_0x48459a['aspectRati'+'oMode']=lu,_0x48459a['aspectRati'+'o']=_0x42d0e3['aspectRati'+'o']));const _0xf17604=new lt(_0x2d45bc['name']);return _0xf17604['addCompone'+'nt']('camera',_0x48459a),_0xf17604;},TN=(_0x3d2f47,_0xe23d19)=>{const _0x5c8d43={'enabled':!(0x32b*-0x1+-0xecd+-0x11f9*-0x1),'type':_0x3d2f47['type']==='point'?'omni':_0x3d2f47['type'],'color':_0x3d2f47['hasOwnProp'+'erty']('color')?new ie(_0x3d2f47['color']):ie['WHITE'],'range':_0x3d2f47['hasOwnProp'+'erty']('range')?_0x3d2f47['range']:0x10db*-0x2+-0x5c9*0x9+0x7cd6,'falloffMode':ev,'intensity':_0x3d2f47['hasOwnProp'+'erty']('intensity')?Y['clamp'](_0x3d2f47['intensity'],0x2027+0x1567+0x5*-0xab6,0x2147+0xc0*0x32+0x3*-0x1797):-0x1bdc+0x1*0x607+0x15d6};_0x3d2f47['hasOwnProp'+'erty']('spot')&&(_0x5c8d43['innerConeA'+'ngle']=_0x3d2f47['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x3d2f47['spot']['innerConeA'+'ngle']*Y['RAD_TO_DEG']:0x1d09+0x1e54+-0x3b5d,_0x5c8d43['outerConeA'+'ngle']=_0x3d2f47['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x3d2f47['spot']['outerConeA'+'ngle']*Y['RAD_TO_DEG']:Math['PI']/(-0x35*-0x71+-0x583+-0x2*0x8ef)),_0x3d2f47['hasOwnProp'+'erty']('intensity')&&(_0x5c8d43['luminance']=_0x3d2f47['intensity']*pl['getLightUn'+'itConversi'+'on'](fu[_0x5c8d43['type']],_0x5c8d43['outerConeA'+'ngle'],_0x5c8d43['innerConeA'+'ngle']));const _0xef128=new lt(_0xe23d19['name']);return _0xef128['rotateLoca'+'l'](0x1*-0x685+-0x233c+0x2a1b,-0xb2b+0x934+-0x1f7*-0x1,-0x198a+-0x25a+0x11*0x1a4),_0xef128['addCompone'+'nt']('light',_0x5c8d43),_0xef128;},wN=(_0x527c84,_0x32222c,_0x1ca8c7,_0x2a4e85)=>{if(!_0x32222c['hasOwnProp'+'erty']('skins')||_0x32222c['skins']['length']===-0x1e*0x146+0x39c*0x5+0xa14*0x2)return[];const _0x5eb6b=new Map();return _0x32222c['skins']['map'](_0xe2aa47=>rN(_0x527c84,_0xe2aa47,_0x32222c['accessors'],_0x2a4e85,_0x1ca8c7,_0x5eb6b));},EN=(_0x128d2f,_0x38cc20,_0x3f893a,_0x125062)=>{var _0x1fedee,_0x53cb2a,_0x16f541;const _0x5f24df={},_0x422317={},_0x3d41d3={},_0x3272dd=[];return{'meshes':!_0x125062['skipMeshes']&&((_0x1fedee=_0x38cc20==null?void(0x205d+0x1b6f+-0x164*0x2b):_0x38cc20['meshes'])==null?void(-0x16*-0x6d+-0x1796+-0xa*-0x16c):_0x1fedee['length'])&&((_0x53cb2a=_0x38cc20==null?void(-0x23*0xc7+-0x5cc+-0x7*-0x4b7):_0x38cc20['accessors'])==null?void(0x1b6e+-0xe50+0x17*-0x92):_0x53cb2a['length'])&&((_0x16f541=_0x38cc20==null?void(0x235f+-0xe04+-0x4d*0x47):_0x38cc20['bufferView'+'s'])==null?void(0x1f40+-0x1df9+-0x147):_0x16f541['length'])?_0x38cc20['meshes']['map'](_0x5e9f97=>nN(_0x128d2f,_0x5e9f97,_0x38cc20['accessors'],_0x3f893a,_0x5f24df,_0x422317,_0x3d41d3,_0x125062,_0x3272dd)):[],'meshVariants':_0x422317,'meshDefaultMaterials':_0x3d41d3,'promises':_0x3272dd};},bN=(_0x538e41,_0x493994,_0x271098)=>{var _0x33a236,_0x60e18e,_0x25f7fd;if(!_0x538e41['hasOwnProp'+'erty']('materials')||_0x538e41['materials']['length']===-0x3*0x237+-0x6*0x54+0x89d)return[];const _0x2b8dab=(_0x33a236=_0x271098==null?void(0x25d5*0x1+0x2e+-0x2603):_0x271098['material'])==null?void(0x1cd2+-0x4*0xae+0x1a*-0x101):_0x33a236['preprocess'],_0x3cbd5b=((_0x60e18e=_0x271098==null?void(0x109a+-0x2ac+-0xdee):_0x271098['material'])==null?void(0x5*-0x423+0x1*0x70e+0xda1):_0x60e18e['process'])??w0,_0x422fd6=(_0x25f7fd=_0x271098==null?void(0x17a+-0x6eb*0x2+0xc5c):_0x271098['material'])==null?void(0x1e13+-0xa18*0x1+-0x13fb):_0x25f7fd['postproces'+'s'];return _0x538e41['materials']['map'](_0x44bb4f=>{_0x2b8dab&&_0x2b8dab(_0x44bb4f);const _0x4ba54c=_0x3cbd5b(_0x44bb4f,_0x493994);return _0x422fd6&&_0x422fd6(_0x44bb4f,_0x4ba54c),_0x4ba54c;});},AN=_0x24269b=>{if(!_0x24269b['hasOwnProp'+'erty']('extensions')||!_0x24269b['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x879bfb=_0x24269b['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0xa7bb38={};for(let _0x371b55=0x1c4*0x8+-0x2b3*0x2+-0x8ba;_0x371b55<_0x879bfb['length'];_0x371b55++)_0xa7bb38[_0x879bfb[_0x371b55]['name']]=_0x371b55;return _0xa7bb38;},CN=(_0x565d66,_0x3de666,_0x30ff81,_0x52487f)=>{var _0x2dd466,_0x19cbe9;if(!_0x565d66['hasOwnProp'+'erty']('animations')||_0x565d66['animations']['length']===0x332+-0x1d2b+-0x6d*-0x3d)return[];const _0x11cc98=(_0x2dd466=_0x52487f==null?void(-0x120e+-0x1087+0x2295):_0x52487f['animation'])==null?void(-0x103c+-0x3*0x64e+0x1193*0x2):_0x2dd466['preprocess'],_0xc663aa=(_0x19cbe9=_0x52487f==null?void(-0x3e6+-0xa*-0x2f5+0x35*-0x7c):_0x52487f['animation'])==null?void(0x21e5*0x1+-0x5f7*0x1+0x1*-0x1bee):_0x19cbe9['postproces'+'s'];return _0x565d66['animations']['map']((_0x34cec3,_0x14d1c6)=>{_0x11cc98&&_0x11cc98(_0x34cec3);const _0x4127d7=yN(_0x34cec3,_0x14d1c6,_0x565d66['accessors'],_0x30ff81,_0x3de666,_0x565d66['meshes'],_0x565d66['nodes']);return _0xc663aa&&_0xc663aa(_0x34cec3,_0x4127d7),_0x4127d7;});},PN=(_0x5221ea,_0x33bebb,_0x30202f,_0x2a29d4)=>{const _0x2a0301=_0x33bebb['accessors'];_0x30202f['forEach']((_0x11c90f,_0x2dcb59)=>{const _0x301276=_0x11c90f['ext']['attributes'];let _0x5830bc;if(_0x301276['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x2d3358=_0x2a0301[_0x301276['TRANSLATIO'+'N']];_0x5830bc=Pn(_0x2d3358,_0x2a29d4);}let _0xb7824;if(_0x301276['hasOwnProp'+'erty']('ROTATION')){const _0x407c7d=_0x2a0301[_0x301276['ROTATION']];_0xb7824=Pn(_0x407c7d,_0x2a29d4);}let _0x3eada1;if(_0x301276['hasOwnProp'+'erty']('SCALE')){const _0xb193fc=_0x2a0301[_0x301276['SCALE']];_0x3eada1=Pn(_0xb193fc,_0x2a29d4);}const _0x4106e5=(_0x5830bc?_0x5830bc['length']/(0x1291+-0x1459*-0x1+-0x17*0x1b1):-0x135f+0x1557*-0x1+-0xc1*-0x36)||(_0xb7824?_0xb7824['length']/(0x6a3*-0x1+-0xc1d+0x12c4):-0x1663+-0x3*-0x1a6+-0xeb*-0x13)||(_0x3eada1?_0x3eada1['length']/(0x22ac+0x1626+-0x38cf):-0x29*0x7+0x2054+-0x1f35);if(_0x4106e5){const _0x5cdfa1=new Float32Array(_0x4106e5*(0x25dd+0x1*-0x1d59+-0x2*0x43a)),_0x4a2526=new D(),_0x5e1aff=new le(),_0x2e2a4d=new D(0x5*-0x16f+0x43b*-0x1+0x3cd*0x3,0x2407+-0x1*0x913+0x1*-0x1af3,-0xc16+0x2214+-0x15fd),_0x429e02=new te();let _0x4b5e9e=0x1cb5+0xa*0x2e7+0x1*-0x39bb;for(let _0x298d17=-0x1c59+-0x6f*0x56+0x41a3;_0x298d17<_0x4106e5;_0x298d17++){const _0x5f39b4=_0x298d17*(-0xc58+-0x33*0x75+0x1*0x23aa);if(_0x5830bc&&_0x4a2526['set'](_0x5830bc[_0x5f39b4],_0x5830bc[_0x5f39b4+(0x1383+0xf29+-0x22ab)],_0x5830bc[_0x5f39b4+(0x18fc+-0x1537*-0x1+-0x93d*0x5)]),_0xb7824){const _0x356709=_0x298d17*(-0x1c45*0x1+0x1f2c+-0x1*0x2e3);_0x5e1aff['set'](_0xb7824[_0x356709],_0xb7824[_0x356709+(-0x1df6+-0x14fd+0x32f4)],_0xb7824[_0x356709+(-0xc35*0x3+0x73*-0x13+-0x29*-0x11a)],_0xb7824[_0x356709+(0x4*-0xa4+0x1*0x624+0xb*-0x53)]);}_0x3eada1&&_0x2e2a4d['set'](_0x3eada1[_0x5f39b4],_0x3eada1[_0x5f39b4+(0x2*0x1169+-0x1b*-0x29+-0x7d4*0x5)],_0x3eada1[_0x5f39b4+(-0x1ad8+-0x1196*0x1+-0x3b4*-0xc)]),_0x429e02['setTRS'](_0x4a2526,_0x5e1aff,_0x2e2a4d);for(let _0x5e6133=-0x867*0x1+-0x233e+0x1*0x2ba5;_0x5e6133<-0x1165*-0x1+-0x1072+-0xe3;_0x5e6133++)_0x5cdfa1[_0x4b5e9e++]=_0x429e02['data'][_0x5e6133];}_0x11c90f['matrices']=_0x5cdfa1;}});},MN=(_0x5023d1,_0x57942d,_0xfcc6ba)=>{var _0x98b7df,_0x3c46a0,_0x58b3bd;if(!_0x5023d1['hasOwnProp'+'erty']('nodes')||_0x5023d1['nodes']['length']===-0x279*0x2+-0x985*-0x3+-0x179d*0x1)return[];const _0x16d633=(_0x98b7df=_0x57942d==null?void(0xa*-0x1bc+0x1af5+-0x99d):_0x57942d['node'])==null?void(-0x5*0xc5+0x332*-0x8+0x1d69):_0x98b7df['preprocess'],_0x583618=((_0x3c46a0=_0x57942d==null?void(-0x15d*0xa+-0x304*0x6+0x1fba*0x1):_0x57942d['node'])==null?void(0x1*0x1b23+0x2337*-0x1+0x814):_0x3c46a0['process'])??vN,_0xbe14d5=(_0x58b3bd=_0x57942d==null?void(-0x18b4+0xeb*0x13+0x743):_0x57942d['node'])==null?void(0x6*0x19d+0x4*0x7cc+0x2*-0x146f):_0x58b3bd['postproces'+'s'],_0x3478cb=_0x5023d1['nodes']['map']((_0x50dbcc,_0x1bfe95)=>{_0x16d633&&_0x16d633(_0x50dbcc);const _0xdf886b=_0x583618(_0x50dbcc,_0x1bfe95,_0xfcc6ba);return _0xbe14d5&&_0xbe14d5(_0x50dbcc,_0xdf886b),_0xdf886b;});for(let _0x5956b9=0x23f1+0x10a8*-0x2+0x2a1*-0x1;_0x5956b9<_0x5023d1['nodes']['length'];++_0x5956b9){const _0x3c408e=_0x5023d1['nodes'][_0x5956b9];if(_0x3c408e['hasOwnProp'+'erty']('children')){const _0xef9105=_0x3478cb[_0x5956b9],_0x4fd13b={};for(let _0xff9e50=0xf0a*0x1+0x103b+0x641*-0x5;_0xff9e50<_0x3c408e['children']['length'];++_0xff9e50){const _0x15162a=_0x3478cb[_0x3c408e['children'][_0xff9e50]];_0x15162a['parent']||(_0x4fd13b['hasOwnProp'+'erty'](_0x15162a['name'])?_0x15162a['name']+=_0x4fd13b[_0x15162a['name']]++:_0x4fd13b[_0x15162a['name']]=-0x2701*0x1+-0xc53+0x3355,_0xef9105['addChild'](_0x15162a));}}}return _0x3478cb;},DN=(_0x42e488,_0x201006)=>{var _0x486b35;const _0x740c17=[],_0x4f214a=_0x42e488['scenes']['length'];if(_0x4f214a===0x4*-0x766+0x2*-0xd4f+-0x215*-0x1b&&((_0x486b35=_0x42e488['scenes'][-0x15d*0x11+-0x2ab*-0x8+0x1d5*0x1]['nodes'])==null?void(0xe78+-0x26*-0x34+-0x1630):_0x486b35['length'])===0xa55+-0x728+-0x32c){const _0x163c3a=_0x42e488['scenes'][0x345*0x3+-0x26a7+0x68*0x47]['nodes'][-0x1464+-0x1639*0x1+0x2a9d];_0x740c17['push'](_0x201006[_0x163c3a]);}else for(let _0xd47e68=0x429+0x2324+-0x274d*0x1;_0xd47e68<_0x4f214a;_0xd47e68++){const _0x2ded51=_0x42e488['scenes'][_0xd47e68];if(_0x2ded51['nodes']){const _0x155461=new Ie(_0x2ded51['name']);for(let _0x123edb=0x169b*-0x1+0x16a*-0xd+0x28fd;_0x123edb<_0x2ded51['nodes']['length'];_0x123edb++){const _0xa521eb=_0x201006[_0x2ded51['nodes'][_0x123edb]];_0x155461['addChild'](_0xa521eb);}_0x740c17['push'](_0x155461);}}return _0x740c17;},IN=(_0x4026f9,_0x2d2b81,_0x28f4e9)=>{var _0x2f5c1f,_0x29cb17,_0x53f56b;let _0x5c589a=null;if(_0x4026f9['hasOwnProp'+'erty']('nodes')&&_0x4026f9['hasOwnProp'+'erty']('cameras')&&_0x4026f9['cameras']['length']>-0x1c8c+-0x1*0x17cc+-0x43*-0xc8){const _0x31a894=(_0x2f5c1f=_0x28f4e9==null?void(-0x1*-0x1aaa+0x2a8+-0x3*0x9c6):_0x28f4e9['camera'])==null?void(-0x1df8+0x1*0x3ec+0x1a0c*0x1):_0x2f5c1f['preprocess'],_0x5596be=((_0x29cb17=_0x28f4e9==null?void(0x5db+0x2*0x1183+-0x28e1):_0x28f4e9['camera'])==null?void(-0x2697+-0x1e56+0xdc9*0x5):_0x29cb17['process'])??xN,_0x44c28a=(_0x53f56b=_0x28f4e9==null?void(-0xe7*0xa+-0x6*0x5ec+-0x6*-0x76d):_0x28f4e9['camera'])==null?void(0x1db*0xa+0xb03*-0x2+-0x4*-0xde):_0x53f56b['postproces'+'s'];_0x4026f9['nodes']['forEach']((_0x24e708,_0x51d352)=>{if(_0x24e708['hasOwnProp'+'erty']('camera')){const _0x2f5a9a=_0x4026f9['cameras'][_0x24e708['camera']];if(_0x2f5a9a){_0x31a894&&_0x31a894(_0x2f5a9a);const _0x30d06b=_0x5596be(_0x2f5a9a,_0x2d2b81[_0x51d352]);_0x44c28a&&_0x44c28a(_0x2f5a9a,_0x30d06b),_0x30d06b&&(_0x5c589a||(_0x5c589a=new Map()),_0x5c589a['set'](_0x24e708,_0x30d06b));}}});}return _0x5c589a;},LN=(_0x394eb7,_0xa1f7a,_0x3bd81a)=>{var _0x36855c,_0x20ae0e,_0x3f8e08;let _0x21ac57=null;if(_0x394eb7['hasOwnProp'+'erty']('nodes')&&_0x394eb7['hasOwnProp'+'erty']('extensions')&&_0x394eb7['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x394eb7['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x142fd7=_0x394eb7['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x142fd7['length']){const _0x2d5e83=(_0x36855c=_0x3bd81a==null?void(-0x65a*-0x3+-0x24d*0x8+-0xa6):_0x3bd81a['light'])==null?void(0x80e+-0x1*0x1198+0x21*0x4a):_0x36855c['preprocess'],_0x5645a1=((_0x20ae0e=_0x3bd81a==null?void(0xb*-0x20f+-0xfff+0x26a4):_0x3bd81a['light'])==null?void(-0xd*0x89+-0xf2*0x27+0x2bd3):_0x20ae0e['process'])??TN,_0x50c056=(_0x3f8e08=_0x3bd81a==null?void(0x6cf+0x100e+-0x79f*0x3):_0x3bd81a['light'])==null?void(0xfcf*-0x1+-0x1de3+-0x1*-0x2db2):_0x3f8e08['postproces'+'s'];_0x394eb7['nodes']['forEach']((_0x37c00b,_0x4317bb)=>{if(_0x37c00b['hasOwnProp'+'erty']('extensions')&&_0x37c00b['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x37c00b['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0x46bf18=_0x37c00b['extensions']['KHR_lights'+'_punctual']['light'],_0x4b5008=_0x142fd7[_0x46bf18];if(_0x4b5008){_0x2d5e83&&_0x2d5e83(_0x4b5008);const _0x59c4ac=_0x5645a1(_0x4b5008,_0xa1f7a[_0x4317bb]);_0x50c056&&_0x50c056(_0x4b5008,_0x59c4ac),_0x59c4ac&&(_0x21ac57||(_0x21ac57=new Map()),_0x21ac57['set'](_0x37c00b,_0x59c4ac));}}});}}return _0x21ac57;},RN=(_0xd6b18a,_0x15ca4e,_0xd69779)=>{_0xd6b18a['nodes']['forEach'](_0x27d9b8=>{_0x27d9b8['hasOwnProp'+'erty']('mesh')&&_0x27d9b8['hasOwnProp'+'erty']('skin')&&_0x15ca4e[_0x27d9b8['mesh']]['meshes']['forEach'](_0x1d0abe=>{_0x1d0abe['skin']=_0xd69779[_0x27d9b8['skin']];});});},ON=async(_0x5f0744,_0x56bdce,_0x3c0056,_0xa20b3c,_0x59e932)=>{var _0x43645e,_0x2304c8;const _0x552920=(_0x43645e=_0x59e932==null?void(0x4e0+0x3*-0xbce+0x1e8a):_0x59e932['global'])==null?void(-0x1303*0x1+0x376*-0x4+0x20db*0x1):_0x43645e['preprocess'],_0x368db7=(_0x2304c8=_0x59e932==null?void(-0x6ba+0x1e3e*0x1+-0x1784):_0x59e932['global'])==null?void(-0xc1*-0x30+0x1aff+-0x3f2f):_0x2304c8['postproces'+'s'];_0x552920&&_0x552920(_0x56bdce),_0x56bdce['asset']&&_0x56bdce['asset']['generator']==='PlayCanvas'&&w['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x5b4e5a=new Map(),_0x3cdd1d=MN(_0x56bdce,_0x59e932,_0x5b4e5a),_0x515d8e=DN(_0x56bdce,_0x3cdd1d),_0x5f14e8=LN(_0x56bdce,_0x3cdd1d,_0x59e932),_0x4867a9=IN(_0x56bdce,_0x3cdd1d,_0x59e932),_0x417384=AN(_0x56bdce),_0x1fc1ac=await Promise['all'](_0x3c0056),{meshes:_0x5400eb,meshVariants:_0x1c14c3,meshDefaultMaterials:_0x1411b0,promises:_0x4834a5}=EN(_0x5f0744,_0x56bdce,_0x1fc1ac,_0x59e932),_0x25fd25=CN(_0x56bdce,_0x3cdd1d,_0x1fc1ac,_0x59e932);PN(_0x5f0744,_0x56bdce,_0x5b4e5a,_0x1fc1ac);const _0x5c7e53=await Promise['all'](_0xa20b3c),_0x5a927b=_0x5c7e53['map'](_0xabd319=>_0xabd319['resource']),_0x603b0e=bN(_0x56bdce,_0x5a927b,_0x59e932),_0x288130=wN(_0x5f0744,_0x56bdce,_0x3cdd1d,_0x1fc1ac),_0x50d875=[];for(let _0x2c1cd4=0x2eb+-0x106+-0x1e5;_0x2c1cd4<_0x5400eb['length'];_0x2c1cd4++)_0x50d875[_0x2c1cd4]=new Em(),_0x50d875[_0x2c1cd4]['meshes']=_0x5400eb[_0x2c1cd4];RN(_0x56bdce,_0x50d875,_0x288130);const _0x425035=new qF();return _0x425035['gltf']=_0x56bdce,_0x425035['nodes']=_0x3cdd1d,_0x425035['scenes']=_0x515d8e,_0x425035['animations']=_0x25fd25,_0x425035['textures']=_0x5c7e53,_0x425035['materials']=_0x603b0e,_0x425035['variants']=_0x417384,_0x425035['meshVarian'+'ts']=_0x1c14c3,_0x425035['meshDefaul'+'tMaterials']=_0x1411b0,_0x425035['renders']=_0x50d875,_0x425035['skins']=_0x288130,_0x425035['lights']=_0x5f14e8,_0x425035['cameras']=_0x4867a9,_0x425035['nodeInstan'+'cingMap']=_0x5b4e5a,_0x368db7&&_0x368db7(_0x56bdce,_0x425035),await Promise['all'](_0x4834a5),_0x425035;},FN=(_0x3aaafe,_0x11e9e6)=>{const _0x2a05cb=(_0x2ec202,_0x46a6c5)=>{switch(_0x2ec202){case 0x51a+0x3e*-0xe0+-0xa*-0x8b7:return Te;case 0x2aa1+0x1a9*-0x15+-0x1e3d*-0x1:return vt;case 0x22ed+0x3f76+-0x1*0x3b63:return Kh;case-0x7c6+-0x50e+0x33d5:return Qh;case-0x26c9+-0x133*0x12+-0xd*-0x7a5:return Zh;case 0x3919*-0x1+0x4b2*-0x3+0xfbe*0x7:return ma;default:return _0x46a6c5;}},_0x3ecece=(_0x36158b,_0x22d9ec)=>{switch(_0x36158b){case-0x9cd3+-0x6567+0x9ef*0x27:return ue;case 0xcc87+0xa61*0x7+-0x215*0x46:return ip;case 0x697+0x198+0x20d2:return yt;default:return _0x22d9ec;}};_0x3aaafe&&(_0x11e9e6=_0x11e9e6??{},_0x3aaafe['minFilter']=_0x2a05cb(_0x11e9e6['minFilter'],ma),_0x3aaafe['magFilter']=_0x2a05cb(_0x11e9e6['magFilter'],vt),_0x3aaafe['addressU']=_0x3ecece(_0x11e9e6['wrapS'],yt),_0x3aaafe['addressV']=_0x3ecece(_0x11e9e6['wrapT'],yt));};let NN=0x1759+-0xed9+-0x80*0x11;const nn=_0x50dd1b=>{var _0x120774,_0xf81c38,_0x2d5533,_0x9f3a18;return((_0xf81c38=(_0x120774=_0x50dd1b['extensions'])==null?void(0x1*0x14e1+0x77f*0x2+-0x3*0xbf5):_0x120774['KHR_textur'+'e_basisu'])==null?void(-0x3*-0x526+0x480+-0x3*0x6a6):_0xf81c38['source'])??((_0x9f3a18=(_0x2d5533=_0x50dd1b['extensions'])==null?void(-0x154a+-0x1d*0xd4+-0x2d4e*-0x1):_0x2d5533['EXT_textur'+'e_webp'])==null?void(-0x3e*-0x8e+-0xb03+-0x1761):_0x9f3a18['source'])??_0x50dd1b['source'];},kN=(_0x4e20d3,_0x2118ad,_0x27095d,_0x41de82,_0x9207b7)=>{var _0x1517d4,_0x390d79,_0x44c5c1;if(!_0x4e20d3['images']||_0x4e20d3['images']['length']===0x21c5+0x134d*0x2+-0xbf*0x61)return[];const _0x2330d5=(_0x1517d4=_0x9207b7==null?void(0x7*-0x95+0x104e+-0xc3b):_0x9207b7['image'])==null?void(0x15dd+0x35*0xbb+-0x3c94):_0x1517d4['preprocess'],_0x438ad9=(_0x390d79=_0x9207b7==null?void(-0x7*-0x35b+0x1*0x111e+-0x81f*0x5):_0x9207b7['image'])==null?void(-0x47*-0x85+0x2244+-0x1*0x4727):_0x390d79['processAsy'+'nc'],_0x477e8e=(_0x44c5c1=_0x9207b7==null?void(0x21dd+0x6a*-0xd+-0x1c7b):_0x9207b7['image'])==null?void(-0x1c68+0x228a+-0x622):_0x44c5c1['postproces'+'s'],_0x593bb9={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x5110ba=_0x740dc6=>{const _0x452072=new Set();return _0x740dc6['hasOwnProp'+'erty']('materials')&&_0x740dc6['materials']['forEach'](_0x118a30=>{if(_0x118a30['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0xf1e8bd=_0x118a30['pbrMetalli'+'cRoughness'];if(_0xf1e8bd['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x449e8d=_0x740dc6['textures'][_0xf1e8bd['baseColorT'+'exture']['index']];_0x452072['add'](nn(_0x449e8d));}}if(_0x118a30['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x32ec64=_0x740dc6['textures'][_0x118a30['emissiveTe'+'xture']['index']];_0x452072['add'](nn(_0x32ec64));}if(_0x118a30['hasOwnProp'+'erty']('extensions')){const _0x148803=_0x118a30['extensions']['KHR_materi'+'als_sheen'];if(_0x148803&&_0x148803['hasOwnProp'+'erty']('sheenColor'+'Texture')){const _0x22d70f=_0x740dc6['textures'][_0x148803['sheenColor'+'Texture']['index']];_0x452072['add'](nn(_0x22d70f));}const _0x44b092=_0x118a30['extensions']['KHR_materi'+'als_pbrSpe'+'cularGloss'+'iness'];if(_0x44b092&&_0x44b092['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x4c3434=_0x740dc6['textures'][_0x44b092['specularGl'+'ossinessTe'+'xture']['index']];_0x452072['add'](nn(_0x4c3434));}const _0x43033a=_0x118a30['extensions']['KHR_materi'+'als_specul'+'ar'];if(_0x43033a&&_0x43033a['hasOwnProp'+'erty']('specularCo'+'lorTexture')){const _0x2cd8e1=_0x740dc6['textures'][_0x43033a['specularCo'+'lorTexture']['index']];_0x452072['add'](nn(_0x2cd8e1));}}}),_0x452072;},_0x46e122=(_0x28ac49,_0x2c1380,_0x329dfa,_0x47e762,_0x1f502a,_0x171951)=>new Promise((_0x988878,_0x434e2a)=>{const _0x3d1460=_0x5b4776=>{const _0x4ccb17=(_0x28ac49['name']||'gltf-textu'+'re')+'-'+NN++,_0x31d5c1={'url':_0x2c1380||_0x4ccb17};if(_0x5b4776&&(_0x31d5c1['contents']=_0x5b4776['slice'](-0x213a+0x1*0x1273+0xec7)['buffer']),_0x47e762){const _0x4e9ac5=_0x593bb9[_0x47e762];_0x4e9ac5&&(_0x31d5c1['filename']=_0x31d5c1['url']+'.'+_0x4e9ac5);}const _0x256fce={'srgb':_0x171951},_0x1a9106=new pe(_0x4ccb17,'texture',_0x31d5c1,_0x256fce,_0x1f502a);_0x1a9106['on']('load',_0x4cbd69=>_0x988878(_0x4cbd69)),_0x1a9106['on']('error',_0x54f00b=>_0x434e2a(_0x54f00b)),_0x41de82['add'](_0x1a9106),_0x41de82['load'](_0x1a9106);};_0x329dfa?_0x329dfa['then'](_0x56c626=>_0x3d1460(_0x56c626)):_0x3d1460(null);}),_0x3c5900=_0x5110ba(_0x4e20d3);return _0x4e20d3['images']['map']((_0x59e992,_0x2fa7ec)=>{_0x2330d5&&_0x2330d5(_0x59e992);let _0x3bd5aa;return _0x438ad9?_0x3bd5aa=new Promise((_0x4e93ba,_0x199117)=>{_0x438ad9(_0x59e992,(_0x2baeb7,_0x37b405)=>{_0x2baeb7?_0x199117(_0x2baeb7):_0x4e93ba(_0x37b405);});}):_0x3bd5aa=new Promise(_0x10cc0b=>{_0x10cc0b(null);}),_0x3bd5aa=_0x3bd5aa['then'](_0x425242=>{const _0x4ee3b8=_0x3c5900['has'](_0x2fa7ec);return _0x425242||(_0x59e992['hasOwnProp'+'erty']('uri')?x0(_0x59e992['uri'])?_0x46e122(_0x59e992,_0x59e992['uri'],null,jF(_0x59e992['uri']),null,_0x4ee3b8):_0x46e122(_0x59e992,jn['test'](_0x59e992['uri'])?_0x59e992['uri']:xe['join'](_0x27095d,_0x59e992['uri']),null,null,{'crossOrigin':'anonymous'},_0x4ee3b8):_0x59e992['hasOwnProp'+'erty']('bufferView')&&_0x59e992['hasOwnProp'+'erty']('mimeType')?_0x46e122(_0x59e992,null,_0x2118ad[_0x59e992['bufferView']],_0x59e992['mimeType'],null,_0x4ee3b8):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x2fa7ec)));}),_0x477e8e&&(_0x3bd5aa=_0x3bd5aa['then'](_0x330037=>(_0x477e8e(_0x59e992,_0x330037),_0x330037))),_0x3bd5aa;});},UN=(_0x3c30b1,_0x317320,_0x149363)=>{var _0x1c942c,_0x1b916a,_0x19e0a8,_0xc62e3b,_0x2c46c0;if(!((_0x1c942c=_0x3c30b1==null?void(-0x12ff+-0x1*-0x16f1+-0x65*0xa):_0x3c30b1['images'])!=null&&_0x1c942c['length'])||!((_0x1b916a=_0x3c30b1==null?void(-0x1*0x1769+0xf5b+0x80e):_0x3c30b1['textures'])!=null&&_0x1b916a['length']))return[];const _0x1453b5=(_0x19e0a8=_0x149363==null?void(-0x1fbb+-0x38b*0x1+-0x2*-0x11a3):_0x149363['texture'])==null?void(0x13d*-0x1+-0xb21+0xc5e):_0x19e0a8['preprocess'],_0x132033=(_0xc62e3b=_0x149363==null?void(0x8a4+0x1*0x1488+0x4*-0x74b):_0x149363['texture'])==null?void(0x132+0x1fc3*0x1+0x20f5*-0x1):_0xc62e3b['processAsy'+'nc'],_0x500f7f=(_0x2c46c0=_0x149363==null?void(0x99b*-0x3+0x9fd*-0x1+0x26ce):_0x149363['texture'])==null?void(-0x10fc*-0x2+-0x125f+-0xf99):_0x2c46c0['postproces'+'s'],_0x225a61=new Set();return _0x3c30b1['textures']['map'](_0x23d09d=>{_0x1453b5&&_0x1453b5(_0x23d09d);let _0x35c54e;return _0x132033?_0x35c54e=new Promise((_0x29cd37,_0x37ce77)=>{_0x132033(_0x23d09d,_0x3c30b1['images'],(_0x1b77ee,_0xfab2eb)=>{_0x1b77ee?_0x37ce77(_0x1b77ee):_0x29cd37(_0xfab2eb);});}):_0x35c54e=new Promise(_0x2c99ac=>{_0x2c99ac(null);}),_0x35c54e=_0x35c54e['then'](_0x1d657c=>{_0x1d657c=_0x1d657c??nn(_0x23d09d);const _0x268745=_0x225a61['has'](_0x1d657c);return _0x225a61['add'](_0x1d657c),_0x317320[_0x1d657c]['then'](_0x5b5412=>{const _0x58cf35=_0x268745?tN(_0x5b5412):_0x5b5412;return FN(_0x58cf35['resource'],(_0x3c30b1['samplers']??[])[_0x23d09d['sampler']]),_0x58cf35;});}),_0x500f7f&&(_0x35c54e=_0x35c54e['then'](_0x24ee85=>(_0x500f7f(_0x23d09d,_0x24ee85),_0x24ee85))),_0x35c54e;});},BN=(_0x540578,_0x455081,_0x1cfdc3,_0x4ce871)=>{var _0x44b8a2,_0x59df5e,_0x565d36;if(!_0x540578['buffers']||_0x540578['buffers']['length']===-0x16d7*0x1+0x15b8+-0x7*-0x29)return[];const _0x416208=(_0x44b8a2=_0x4ce871==null?void(0x7e7+-0x43e*0x4+0x911):_0x4ce871['buffer'])==null?void(0x611*0x6+-0x1*-0x2111+-0x1*0x4577):_0x44b8a2['preprocess'],_0x104d2c=(_0x59df5e=_0x4ce871==null?void(-0xbf*0x1+0x1d2d+-0x1c6e):_0x4ce871['buffer'])==null?void(0x601*0x1+-0x40*-0x14+0x3ab*-0x3):_0x59df5e['processAsy'+'nc'],_0x36e35b=(_0x565d36=_0x4ce871==null?void(-0x1*-0x1bd2+0x1*0x16af+0x3281*-0x1):_0x4ce871['buffer'])==null?void(-0xd*-0x2af+-0x2eb+-0x1ff8):_0x565d36['postproces'+'s'];return _0x540578['buffers']['map']((_0x127e21,_0x1475a9)=>{_0x416208&&_0x416208(_0x127e21);let _0x28bbe7;return _0x104d2c?_0x28bbe7=new Promise((_0x4f278d,_0x181dd0)=>{_0x104d2c(_0x127e21,(_0x23a615,_0x2efa55)=>{_0x23a615?_0x181dd0(_0x23a615):_0x4f278d(_0x2efa55);});}):_0x28bbe7=new Promise(_0x272534=>{_0x272534(null);}),_0x28bbe7=_0x28bbe7['then'](_0x56f25a=>{if(_0x56f25a)return _0x56f25a;if(_0x127e21['hasOwnProp'+'erty']('uri')){if(x0(_0x127e21['uri'])){const _0x2968c0=atob(_0x127e21['uri']['split'](',')[-0x25a7+-0x923*0x3+0x4111]),_0x528dfc=new Uint8Array(_0x2968c0['length']);for(let _0x3a1d84=0xddd+-0x712+-0x6cb;_0x3a1d84<_0x2968c0['length'];_0x3a1d84++)_0x528dfc[_0x3a1d84]=_0x2968c0['charCodeAt'](_0x3a1d84);return _0x528dfc;}return new Promise((_0x29233d,_0x24e3f2)=>{ot['get'](jn['test'](_0x127e21['uri'])?_0x127e21['uri']:xe['join'](_0x1cfdc3,_0x127e21['uri']),{'cache':!(-0x17fc+0x1d*-0x71+0x24c9),'responseType':'arraybuffe'+'r','retry':!(0x4d+-0xe83*-0x1+-0xecf*0x1)},(_0x35159e,_0x3326e1)=>{_0x35159e?_0x24e3f2(_0x35159e):_0x29233d(new Uint8Array(_0x3326e1));});});}return _0x455081;}),_0x36e35b&&(_0x28bbe7=_0x28bbe7['then'](_0x251145=>(_0x36e35b(_0x540578['buffers'][_0x1475a9],_0x251145),_0x251145))),_0x28bbe7;});},zN=(_0x27e77c,_0x2f84b8)=>{const _0xd74234=JSON['parse']((_0x4d683c=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x4d683c);let _0x21f500='';for(let _0xae5744=-0xedf+0x12cb+-0x3ec;_0xae5744<_0x4d683c['length'];_0xae5744++)_0x21f500+=String['fromCharCo'+'de'](_0x4d683c[_0xae5744]);return decodeURIComponent(escape(_0x21f500));})(_0x27e77c));if(_0xd74234['asset']&&_0xd74234['asset']['version']&&parseFloat(_0xd74234['asset']['version'])<-0x283*0xb+-0x2bd+0x20*0xf3){_0x2f84b8('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0xd74234['asset']['version']+'\x27.');return;}_0x2f84b8(null,_0xd74234);},VN=(_0x1b6227,_0x14b8e2)=>{const _0x64b1de=_0x1b6227 instanceof ArrayBuffer?new DataView(_0x1b6227):new DataView(_0x1b6227['buffer'],_0x1b6227['byteOffset'],_0x1b6227['byteLength']),_0xbac5fd=_0x64b1de['getUint32'](-0x8*-0x2d2+0x1*0x1f97+-0x3627,!(-0x251*-0x5+0x7*-0x1a5+-0x12)),_0x178af1=_0x64b1de['getUint32'](-0x1413+-0x7a9+-0x1*-0x1bc0,!(-0xf43*-0x1+0x124e+-0x2191)),_0x49480c=_0x64b1de['getUint32'](-0x1318+0x2d*0x71+-0xbd,!(-0x9a3+-0x162f+0x2*0xfe9));if(_0xbac5fd!==-0x7c8229a7+0x5*-0xd0cc735+0x104167a17){_0x14b8e2('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0xbac5fd['toString'](0x81f+-0x49*0x6a+0x1*0x162b));return;}if(_0x178af1!==-0x3*0x72e+0xf*-0x11c+0x2630){_0x14b8e2('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x178af1);return;}if(_0x49480c<=-0x56*-0x2c+-0x5*0x71b+0x14bf||_0x49480c>_0x64b1de['byteLength']){_0x14b8e2('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x49480c);return;}const _0x385acb=[];let _0x2a7772=0x1a68+-0x1*0x8db+-0x1181;for(;_0x2a7772<_0x49480c;){const _0x5cf9c2=_0x64b1de['getUint32'](_0x2a7772,!(0x689*-0x3+-0x24d1+0x386c));_0x2a7772+_0x5cf9c2+(-0x1206+0x17e4*0x1+-0x5d6)>_0x64b1de['byteLength']&&_0x14b8e2('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x5cf9c2);const _0x51e651=_0x64b1de['getUint32'](_0x2a7772+(0xd9a+-0x25b3+-0x1*-0x181d),!(-0x198+-0x5a2*0x1+0x73a)),_0x534ff4=new Uint8Array(_0x64b1de['buffer'],_0x64b1de['byteOffset']+_0x2a7772+(-0x1ed9+0xd*0xb6+-0x1d*-0xbf),_0x5cf9c2);_0x385acb['push']({'length':_0x5cf9c2,'type':_0x51e651,'data':_0x534ff4}),_0x2a7772+=_0x5cf9c2+(-0xafe+-0x1fb1+0x2ab7);}if(_0x385acb['length']!==0x16e9+-0x3a5*0x5+-0x6d*0xb&&_0x385acb['length']!==-0x2091+0x1*0x12bf+-0x1e*-0x76){_0x14b8e2('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x385acb[0x1*-0x1d9+0x1c31+-0x8*0x34b]['type']!==0x45fe5ab+0x7d14bff8+-0x33255259){_0x14b8e2('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x385acb[-0x21da+0x102b*-0x1+0x3205]['type']['toString'](-0x266a+0x629*-0x1+-0xee1*-0x3));return;}if(_0x385acb['length']>0x1131+-0x449*0x1+0x16f*-0x9&&_0x385acb[0x7*-0x3db+-0x1*0x23d5+0x3ed3]['type']!==0x1facce+0x6baa9f+-0x3d0e2b){_0x14b8e2('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x385acb[0x1*-0x18f6+-0x1*-0x177b+0x17c]['type']['toString'](0x21d0+-0xc89+-0x1537*0x1));return;}_0x14b8e2(null,{'gltfChunk':_0x385acb[0xd55*-0x2+0xf75+0x13*0x97]['data'],'binaryChunk':_0x385acb['length']===-0x10c1+-0x3*0x8fa+0x2bb1*0x1?_0x385acb[-0xaf*0xa+-0xfb0+0x1687]['data']:null});},GN=(_0xd97a09,_0x39bac7,_0x12d881)=>{const _0x407487=()=>{const _0x4d2c78=new Uint8Array(_0x39bac7);return _0x4d2c78[0x3*0xc2e+-0x152e*-0x1+-0x39b8]===0x1bc4+-0x2*-0x1bb+-0x1ed3&&_0x4d2c78[-0xfa+0x1400+0x657*-0x3]===0x4*-0x337+-0x561+-0x11*-0x119&&_0x4d2c78[0x2385+-0x1d66+-0x61d*0x1]===-0xbd5+0x1618+-0x9ef*0x1&&_0x4d2c78[-0x1e98+-0x47f+0x231a]===0x77e+-0x1485+0xd4d*0x1;};_0xd97a09&&_0xd97a09['toLowerCas'+'e']()['endsWith']('.glb')||_0x407487()?VN(_0x39bac7,_0x12d881):_0x12d881(null,{'gltfChunk':_0x39bac7,'binaryChunk':null});},HN=(_0x30d885,_0x1f5756,_0x29e1dc)=>{var _0x22c579,_0x56993e,_0x1ceb88,_0x1f59d6;const _0x33520c=[],_0x46b57b=(_0x22c579=_0x29e1dc==null?void(0x1820+0x37c*-0x4+0x1*-0xa30):_0x29e1dc['bufferView'])==null?void(-0x1377+0xa13*0x1+0x964):_0x22c579['preprocess'],_0x3c40e9=(_0x56993e=_0x29e1dc==null?void(-0x10f4+-0x59b+0x168f):_0x29e1dc['bufferView'])==null?void(-0xa6b+-0xbee+0x1659):_0x56993e['processAsy'+'nc'],_0x40af9d=(_0x1ceb88=_0x29e1dc==null?void(0x1*0x2381+-0x57+-0x232a):_0x29e1dc['bufferView'])==null?void(0xe*-0x19d+-0x1894+0x2f2a):_0x1ceb88['postproces'+'s'];if(!((_0x1f59d6=_0x30d885['bufferView'+'s'])!=null&&_0x1f59d6['length']))return _0x33520c;for(let _0x5c0e43=-0x1*0x2296+0x74c*-0x2+-0x4eb*-0xa;_0x5c0e43<_0x30d885['bufferView'+'s']['length'];++_0x5c0e43){const _0x1efba1=_0x30d885['bufferView'+'s'][_0x5c0e43];_0x46b57b&&_0x46b57b(_0x1efba1);let _0x5c7c35;_0x3c40e9?_0x5c7c35=new Promise((_0x4d8cc7,_0x5cc166)=>{_0x3c40e9(_0x1efba1,_0x1f5756,(_0x55a0db,_0x474b9c)=>{_0x55a0db?_0x5cc166(_0x55a0db):_0x4d8cc7(_0x474b9c);});}):_0x5c7c35=new Promise(_0x453c48=>{_0x453c48(null);}),_0x5c7c35=_0x5c7c35['then'](_0x8e4faa=>_0x8e4faa||_0x1f5756[_0x1efba1['buffer']]['then'](_0x56575e=>new Uint8Array(_0x56575e['buffer'],_0x56575e['byteOffset']+(_0x1efba1['byteOffset']||-0x7*0x547+0x102*0x1d+0x7b7),_0x1efba1['byteLength']))),_0x1efba1['hasOwnProp'+'erty']('byteStride')&&(_0x5c7c35=_0x5c7c35['then'](_0x24eb24=>(_0x24eb24['byteStride']=_0x1efba1['byteStride'],_0x24eb24))),_0x40af9d&&(_0x5c7c35=_0x5c7c35['then'](_0x58a70d=>(_0x40af9d(_0x1efba1,_0x58a70d),_0x58a70d))),_0x33520c['push'](_0x5c7c35);}return _0x33520c;};class kh{static['parse'](_0x1acdee,_0xabd522,_0x3cbc17,_0x5b096a,_0x1ea2f5,_0x3a7652,_0x41bac4){GN(_0x1acdee,_0x3cbc17,(_0x336c86,_0x1444e5)=>{if(_0x336c86){_0x41bac4(_0x336c86);return;}zN(_0x1444e5['gltfChunk'],(_0x13cf35,_0x52b671)=>{if(_0x13cf35){_0x41bac4(_0x13cf35);return;}const _0x392db8=BN(_0x52b671,_0x1444e5['binaryChun'+'k'],_0xabd522,_0x3a7652),_0x3ff5c9=HN(_0x52b671,_0x392db8,_0x3a7652),_0x49e79d=kN(_0x52b671,_0x3ff5c9,_0xabd522,_0x1ea2f5,_0x3a7652),_0x108c9a=UN(_0x52b671,_0x49e79d,_0x3a7652);ON(_0x5b096a,_0x52b671,_0x3ff5c9,_0x108c9a,_0x3a7652)['then'](_0x246a0b=>_0x41bac4(null,_0x246a0b))['catch'](_0x283c9b=>_0x41bac4(_0x283c9b));});});}static['createDefa'+'ultMateria'+'l'](){return w0({'name':'defaultGlb'+'Material'},[]);}}class WN extends Qe{constructor(_0x447ce3){super(_0x447ce3,'animation'),this['device']=_0x447ce3['graphicsDe'+'vice'],this['assets']=_0x447ce3['assets'];}['load'](_0x3cc62c,_0x3af212,_0x466b88){typeof _0x3cc62c=='string'&&(_0x3cc62c={'load':_0x3cc62c,'original':_0x3cc62c});const _0x1d4f8f={'retry':this['maxRetries']>-0x10d*-0x9+-0x17b6+0xe41*0x1,'maxRetries':this['maxRetries']};(_0x3cc62c['load']['startsWith']('blob:')||_0x3cc62c['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x3cc62c['original'])['toLowerCas'+'e']()==='.glb'?_0x1d4f8f['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x1d4f8f['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x3cc62c['load'],_0x1d4f8f,(_0xfb4c15,_0x58cab3)=>{_0xfb4c15?_0x3af212('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x3cc62c['original']+'\x20['+_0xfb4c15+']'):xe['getExtensi'+'on'](_0x3cc62c['original'])['toLowerCas'+'e']()==='.glb'?kh['parse']('filename.g'+'lb','',_0x58cab3,this['device'],this['assets'],(_0x466b88==null?void(0x1797+-0x576+-0x5b*0x33):_0x466b88['options'])??{},(_0x4b34c2,_0x495587)=>{var _0x332634;if(_0x4b34c2)_0x3af212(_0x4b34c2);else{const _0x27e369=_0x495587['animations'];if((_0x332634=_0x466b88==null?void(-0x1ea6+0x171*-0x17+-0x3fcd*-0x1):_0x466b88['data'])!=null&&_0x332634['events']){for(let _0x543e62=-0x1f*0x25+-0xf77*-0x2+-0x6f*0x3d;_0x543e62<_0x27e369['length'];_0x543e62++)_0x27e369[_0x543e62]['events']=new Hv(Object['values'](_0x466b88['data']['events']));}_0x495587['destroy'](),_0x3af212(null,_0x27e369);}}):_0x3af212(null,this['_parseAnim'+'ationV'+_0x58cab3['animation']['version']](_0x58cab3));});}['open'](_0x308522,_0x441948,_0x2c4e37){return _0x441948;}['_parseAnim'+'ationV3'](_0x5edfe5){const _0x59ac66=_0x5edfe5['animation'],_0x2f66a0=new ug();_0x2f66a0['name']=_0x59ac66['name'],_0x2f66a0['duration']=_0x59ac66['duration'];for(let _0x433c9e=-0x8b3*0x1+-0x4*0x883+0x1f*0x161;_0x433c9e<_0x59ac66['nodes']['length'];_0x433c9e++){const _0x24ba91=new fg(),_0xc02d35=_0x59ac66['nodes'][_0x433c9e];_0x24ba91['_name']=_0xc02d35['name'];for(let _0x5c3e65=0x7*0x272+0xb7b*-0x1+-0x5a3;_0x5c3e65<_0xc02d35['keys']['length'];_0x5c3e65++){const _0xc70fe8=_0xc02d35['keys'][_0x5c3e65],_0x44e71d=_0xc70fe8['time'],_0x441f2b=_0xc70fe8['pos'],_0x2bef62=_0xc70fe8['rot'],_0x1c51d5=_0xc70fe8['scale'],_0x32d03c=new D(_0x441f2b[-0x281*0x3+0x1db9+0x2*-0xb1b],_0x441f2b[0x117*-0x17+0x1878+0x9a],_0x441f2b[0x43e+-0x61*-0x7+0x2b*-0x29]),_0x4ecdaf=new le()['setFromEul'+'erAngles'](_0x2bef62[-0x2160*-0x1+0x1ee3+-0x4043*0x1],_0x2bef62[0x1*0x1b15+0x2488+0x5c*-0xb1],_0x2bef62[0x16d3+-0x1526*0x1+-0x1ab]),_0x7bc891=new D(_0x1c51d5[0x70d*-0x1+0x17ba+-0x10ad],_0x1c51d5[0x2*0xd75+0x1578+-0x3061],_0x1c51d5[-0x13d*-0x2+-0x8f3+0x67b]),_0x18e133=new dg(_0x44e71d,_0x32d03c,_0x4ecdaf,_0x7bc891);_0x24ba91['_keys']['push'](_0x18e133);}_0x2f66a0['addNode'](_0x24ba91);}return _0x2f66a0;}['_parseAnim'+'ationV4'](_0x4fa176){const _0x1baef6=_0x4fa176['animation'],_0x3a522d=new ug();_0x3a522d['name']=_0x1baef6['name'],_0x3a522d['duration']=_0x1baef6['duration'];for(let _0x30594d=-0x16f1+0x1240+0x4b1;_0x30594d<_0x1baef6['nodes']['length'];_0x30594d++){const _0x22bd7e=new fg(),_0x48ea46=_0x1baef6['nodes'][_0x30594d];_0x22bd7e['_name']=_0x48ea46['name'];const _0x3b1237=_0x48ea46['defaults']['p'],_0x2715e3=_0x48ea46['defaults']['r'],_0x7d692=_0x48ea46['defaults']['s'];for(let _0x1f678b=-0x1d44+0xb6c+0x8*0x23b;_0x1f678b<_0x48ea46['keys']['length'];_0x1f678b++){const _0xf0c95d=_0x48ea46['keys'][_0x1f678b],_0x26c66c=_0xf0c95d['t'],_0x3bbfb5=_0x3b1237||_0xf0c95d['p'],_0x1673f7=_0x2715e3||_0xf0c95d['r'],_0x5e719f=_0x7d692||_0xf0c95d['s'],_0x3ad1f7=new D(_0x3bbfb5[0x9*-0x2ee+0x5*0x5c+0x1892],_0x3bbfb5[0x1*-0xc48+-0x2*0x12ab+0x319f],_0x3bbfb5[-0x1bfd+-0x67*0x26+-0x7*-0x62f]),_0x5e9ee3=new le()['setFromEul'+'erAngles'](_0x1673f7[-0xd8f*-0x2+0x1126+-0xb11*0x4],_0x1673f7[0x52*0x49+0x16b4*-0x1+-0xad],_0x1673f7[-0x103d+0x10b1+-0x6*0x13]),_0x346280=new D(_0x5e719f[-0x1*-0x2009+0x163*0x8+-0x3d*0xb5],_0x5e719f[0xe4*-0x13+-0x1*0x10ff+0xd*0x29c],_0x5e719f[0x13a*0x2+0x1557+-0x17c9]),_0x50bd7b=new dg(_0x26c66c,_0x3ad1f7,_0x5e9ee3,_0x346280);_0x22bd7e['_keys']['push'](_0x50bd7b);}_0x3a522d['addNode'](_0x22bd7e);}return _0x3a522d;}}class $N extends Qe{constructor(_0x6d1d40){super(_0x6d1d40,'animclip');}['load'](_0x1590d1,_0x516314){typeof _0x1590d1=='string'&&(_0x1590d1={'load':_0x1590d1,'original':_0x1590d1});const _0x53e3d5={'retry':this['maxRetries']>-0x1*0x1353+0xbf5+0x75e,'maxRetries':this['maxRetries']};_0x1590d1['load']['startsWith']('blob:')&&(_0x53e3d5['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x1590d1['load'],_0x53e3d5,(_0x1f7bed,_0x485b7e)=>{_0x1f7bed?_0x516314('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x1590d1['original']+'\x20['+_0x1f7bed+']'):_0x516314(null,_0x485b7e);});}['open'](_0x15d428,_0x5c96ce){const _0x3c096c=_0x5c96ce['name'],_0x5b9289=_0x5c96ce['duration'],_0x434771=_0x5c96ce['inputs']['map'](_0x156f9c=>new Fh(0x24a5+-0x1*0x84a+-0x1c5a,_0x156f9c)),_0xb829e1=_0x5c96ce['outputs']['map'](_0xe3559=>new Fh(_0xe3559['components'],_0xe3559['data'])),_0x49da2a=_0x5c96ce['curves']['map'](_0x338e54=>new v0([_0x338e54['path']],_0x338e54['inputIndex'],_0x338e54['outputInde'+'x'],_0x338e54['interpolat'+'ion']));return new Qi(_0x3c096c,_0x5b9289,_0x434771,_0xb829e1,_0x49da2a);}}class XN extends Qe{constructor(_0x226105){super(_0x226105,'animstateg'+'raph');}['load'](_0x203c28,_0x466a99){typeof _0x203c28=='string'&&(_0x203c28={'load':_0x203c28,'original':_0x203c28});const _0x5b7bd7={'retry':this['maxRetries']>0xe07*0x1+-0x57*0x65+-0x4*-0x513,'maxRetries':this['maxRetries']};_0x203c28['load']['startsWith']('blob:')&&(_0x5b7bd7['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x203c28['load'],_0x5b7bd7,(_0x351d0e,_0x1bd44e)=>{_0x351d0e?_0x466a99('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x203c28['original']+'\x20['+_0x351d0e+']'):_0x466a99(null,_0x1bd44e);});}['open'](_0x4ee9ec,_0x1d79d4){return new Jc(_0x1d79d4);}}const Af=(function(){if(typeof window>'u')return!(-0x32f+-0x2f4+-0x624*-0x1);const _0x3ec69d=window['navigator']['userAgent'],_0x570707=_0x3ec69d['indexOf']('MSIE\x20');if(_0x570707>-0x204b+-0x25a*0x1+-0x31*-0xb5)return parseInt(_0x3ec69d['substring'](_0x570707+(-0x20d8+0x36d*-0x2+0x1*0x27b7),_0x3ec69d['indexOf']('.',_0x570707)),0xec0+-0x1*-0x921+-0x1*0x17d7);if(_0x3ec69d['indexOf']('Trident/')>0x1*0x115f+-0x20f0+-0x31d*-0x5){const _0x38355b=_0x3ec69d['indexOf']('rv:');return parseInt(_0x3ec69d['substring'](_0x38355b+(0x1*0x4bf+0x241*0xe+-0x244a),_0x3ec69d['indexOf']('.',_0x38355b)),-0x1a5b+-0xb9+-0xd*-0x216);}return!(-0x1*0x1a72+0xd*-0xad+0x233c);}()),qN=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class jN extends Qe{constructor(_0x4049e1){super(_0x4049e1,'audio'),this['manager']=_0x4049e1['soundManag'+'er'],w['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x1b69c5){const _0x681061=xe['getExtensi'+'on'](_0x1b69c5);return qN['indexOf'](_0x681061)>-(0x1*0x1915+0xb6f+0x2cf*-0xd)||_0x1b69c5['startsWith']('blob:');}['load'](_0x217292,_0x203ec9){typeof _0x217292=='string'&&(_0x217292={'load':_0x217292,'original':_0x217292});const _0x2837a5=function(_0xb9587){_0x203ec9(null,new Mw(_0xb9587));},_0x78368f=function(_0x597e54){let _0x48cdf4='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0x217292['original'];_0x597e54&&(_0x48cdf4+=':\x20'+(_0x597e54['message']||_0x597e54)),console['warn'](_0x48cdf4),_0x203ec9(_0x48cdf4);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0x217292['original'])){_0x78368f('Audio\x20form'+'at\x20for\x20'+_0x217292['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0x217292['load'],_0x2837a5,_0x78368f);}else _0x78368f(null);}['_createSou'+'nd'](_0x125161,_0x3b37d0,_0x430d8c){if(Dl()){const _0x29ece4=this['manager'];if(!_0x29ece4['context']){_0x430d8c('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x440d47={'retry':this['maxRetries']>0x1e6e+0x1*0x126d+-0x30db,'maxRetries':this['maxRetries']};(_0x125161['startsWith']('blob:')||_0x125161['startsWith']('data:'))&&(_0x440d47['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),ot['get'](_0x125161,_0x440d47,(_0x2b3dd9,_0x9fb5)=>{if(_0x2b3dd9){_0x430d8c(_0x2b3dd9);return;}_0x29ece4['context']['decodeAudi'+'oData'](_0x9fb5,_0x3b37d0,_0x430d8c);});}else{let _0x437518=null;try{_0x437518=new Audio();}catch{_0x430d8c('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Af&&document['body']['appendChil'+'d'](_0x437518);const _0x4b0ab3=function(){_0x437518['removeEven'+'tListener']('canplaythr'+'ough',_0x4b0ab3),Af&&document['body']['removeChil'+'d'](_0x437518),_0x3b37d0(_0x437518);};_0x437518['onerror']=function(){_0x437518['onerror']=null,Af&&document['body']['removeChil'+'d'](_0x437518),_0x430d8c();},_0x437518['addEventLi'+'stener']('canplaythr'+'ough',_0x4b0ab3),_0x437518['src']=_0x125161;}}}class YN extends Qe{constructor(_0x127967){super(_0x127967,'binary');}['load'](_0x2bd6e3,_0x1fd103){typeof _0x2bd6e3=='string'&&(_0x2bd6e3={'load':_0x2bd6e3,'original':_0x2bd6e3}),ot['get'](_0x2bd6e3['load'],{'responseType':Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>-0x1*-0x15a9+0x1587+-0x2b30,'maxRetries':this['maxRetries']},(_0x3cfb24,_0x1b60f6)=>{_0x3cfb24?_0x1fd103('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x2bd6e3['original']+'\x20['+_0x3cfb24+']'):_0x1fd103(null,_0x1b60f6);});}['openBinary'](_0x23b526){return _0x23b526['buffer'];}}class yr{constructor(_0x521576,_0x32f292,_0x1749ec,_0x3cbdb9){const _0x5a9752=function(_0x227770,_0x5545bf,_0x2dcb63){const _0x9f654f=yr['createAsse'+'t'](_0x32f292['name'],_0x227770,_0x5545bf,_0x2dcb63);return _0x1749ec['add'](_0x9f654f),_0x9f654f;},_0x54992b=[];for(let _0x1725d4=0x2194+-0x1d41+-0x453;_0x1725d4<_0x521576['renders']['length'];++_0x1725d4)_0x54992b['push'](_0x5a9752('render',_0x521576['renders'][_0x1725d4],_0x1725d4));const _0x59b47e=[];for(let _0x3864d9=-0x24a8+0x1e2a+-0x6*-0x115;_0x3864d9<_0x521576['materials']['length'];++_0x3864d9)_0x59b47e['push'](_0x5a9752('material',_0x521576['materials'][_0x3864d9],_0x3864d9));const _0x19bcb1=[];for(let _0x58b5a6=-0x1*-0x1c76+0xe99*-0x1+-0xddd;_0x58b5a6<_0x521576['animations']['length'];++_0x58b5a6)_0x19bcb1['push'](_0x5a9752('animation',_0x521576['animations'][_0x58b5a6],_0x58b5a6));this['data']=_0x521576,this['_model']=null,this['_assetName']=_0x32f292['name'],this['_assets']=_0x1749ec,this['_defaultMa'+'terial']=_0x3cbdb9,this['renders']=_0x54992b,this['materials']=_0x59b47e,this['textures']=_0x521576['textures'],this['animations']=_0x19bcb1;}get['model'](){if(!this['_model']){const _0x599217=yr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x4727ae=yr['createAsse'+'t'](this['_assetName'],'model',_0x599217,-0x820*0x3+-0x596*0x1+0x5fe*0x5);this['_assets']['add'](_0x4727ae),this['_model']=_0x4727ae;}return this['_model'];}static['createAsse'+'t'](_0x510ea5,_0x3be9f0,_0x5bea65,_0x4d9f4d){const _0x2d98af=new pe(_0x510ea5+'/'+_0x3be9f0+'/'+_0x4d9f4d,_0x3be9f0,{'url':''});return _0x2d98af['resource']=_0x5bea65,_0x2d98af['loaded']=!(0x2f*-0x85+0x16c5+-0x1a6*-0x1),_0x2d98af;}['instantiat'+'eModelEnti'+'ty'](_0x59a3c1){const _0x10968d=new lt(void(-0xf0e+-0x197c+-0x2*-0x1445),this['_assets']['_loader']['_app']);return _0x10968d['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0x59a3c1)),_0x10968d;}['instantiat'+'eRenderEnt'+'ity'](_0xda55fb){const _0x39aa4c=this['_defaultMa'+'terial'],_0xdf3c0e=[],_0x2e7a8a=function(_0x547fa6,_0x403369,_0x378d10,_0x2edd1a,_0x4520be,_0x9788bd,_0x3a135b,_0x4b2eec){const _0x30a23e=_0x4520be[_0x378d10['id']],_0x179513=_0x30a23e===void(-0x3*-0x1e7+-0x14bc+0xf07)?_0x39aa4c:_0x2edd1a[_0x30a23e],_0x1756a6=new He(_0x378d10,_0x179513);_0x378d10['morph']&&(_0x1756a6['morphInsta'+'nce']=new xa(_0x378d10['morph'])),_0x3a135b['hasOwnProp'+'erty']('skin')&&_0xdf3c0e['push']({'meshInstance':_0x1756a6,'rootBone':_0x547fa6,'entity':_0x403369});const _0x3aa88e=_0x4b2eec['get'](_0x3a135b);if(_0x3aa88e){const _0x55686a=_0x3aa88e['matrices'],_0x16818c=kt['getDefault'+'Instancing'+'Format'](_0x378d10['device']),_0x3072ea=new Is(_0x378d10['device'],_0x16818c,_0x55686a['length']/(0xb87*0x3+-0x735*0x4+-0x5b1),{'data':_0x55686a});_0x1756a6['setInstanc'+'ing'](_0x3072ea),_0x1756a6['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(0x1*0x189f+-0x1aea+-0x24b*-0x1);}return _0x1756a6;},_0x305c84=(_0x4684a0,_0x38212a,_0x1482db)=>{const _0x4793a6=new lt(void(-0x1e54+0x503*-0x1+0x2357),this['_assets']['_loader']['_app']);_0x38212a['_cloneInte'+'rnal'](_0x4793a6),_0x4684a0||(_0x4684a0=_0x4793a6);let _0x3604f4=null,_0x454d1d=null;for(let _0x2b00a9=-0x91b+0x24*-0x6b+0x1827;_0x2b00a9<_0x1482db['nodes']['length'];_0x2b00a9++)if(_0x1482db['nodes'][_0x2b00a9]===_0x38212a){const _0x51f23d=_0x1482db['gltf']['nodes'][_0x2b00a9];if(_0x51f23d['hasOwnProp'+'erty']('mesh')){const _0x302cf5=_0x1482db['renders'][_0x51f23d['mesh']]['meshes'];_0x454d1d=this['renders'][_0x51f23d['mesh']];for(let _0x3cc099=-0x1eec+-0x1b4c+0x3a38;_0x3cc099<_0x302cf5['length'];_0x3cc099++){const _0x60410a=_0x302cf5[_0x3cc099];if(_0x60410a){const _0x1e3786=_0x2e7a8a(_0x4684a0,_0x4793a6,_0x60410a,_0x1482db['materials'],_0x1482db['meshDefaul'+'tMaterials'],_0x1482db['skins'],_0x51f23d,_0x1482db['nodeInstan'+'cingMap']);_0x3604f4||(_0x3604f4=[]),_0x3604f4['push'](_0x1e3786);}}}if(_0x1482db['lights']){const _0x181334=_0x1482db['lights']['get'](_0x51f23d);_0x181334&&_0x4793a6['addChild'](_0x181334['clone']());}if(_0x1482db['cameras']){const _0x3c849f=_0x1482db['cameras']['get'](_0x51f23d);_0x3c849f&&_0x3c849f['camera']['system']['cloneCompo'+'nent'](_0x3c849f,_0x4793a6);}}_0x3604f4&&(_0x4793a6['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x3604f4},_0xda55fb)),_0x4793a6['render']['assignAsse'+'t'](_0x454d1d));const _0xa59c0e=_0x38212a['children'];for(let _0x355cb2=-0x2*-0x36f+0x670+-0xd4e;_0x355cb2<_0xa59c0e['length'];_0x355cb2++){const _0x2926f8=_0x305c84(_0x4684a0,_0xa59c0e[_0x355cb2],_0x1482db);_0x4793a6['addChild'](_0x2926f8);}return _0x4793a6;},_0x76020=[];for(const _0x5110b4 of this['data']['scenes'])_0x76020['push'](_0x305c84(null,_0x5110b4,this['data']));return _0xdf3c0e['forEach'](_0xb53854=>{_0xb53854['meshInstan'+'ce']['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0xb53854['meshInstan'+'ce']['mesh']['skin'],_0xb53854['rootBone'],_0xb53854['entity']),_0xb53854['meshInstan'+'ce']['node']['render']['rootBone']=_0xb53854['rootBone'];}),yr['createScen'+'eHierarchy'](_0x76020,lt);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0x46d4ea,_0x41fa2c){const _0x55b456=_0x41fa2c?this['data']['variants'][_0x41fa2c]:null;if(_0x55b456===void(0x15c3+-0xca5+-0x91e)){w['warn']('No\x20variant'+'\x20named\x20'+_0x41fa2c+('\x20exists\x20in'+'\x20resource'));return;}const _0x58286a=_0x46d4ea['findCompon'+'ents']('render');for(let _0xcc830a=-0x15d2+-0x2636+0x3c08;_0xcc830a<_0x58286a['length'];_0xcc830a++){const _0x3bc31e=_0x58286a[_0xcc830a];this['_applyMate'+'rialVarian'+'t'](_0x55b456,_0x3bc31e['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0xf22a36,_0xa8f940){const _0x18ef9f=_0xa8f940?this['data']['variants'][_0xa8f940]:null;if(_0x18ef9f===void(-0x3*0x607+-0x1*0x2629+0x383e)){w['warn']('No\x20variant'+'\x20named\x20'+_0xa8f940+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x18ef9f,_0xf22a36);}['_applyMate'+'rialVarian'+'t'](_0x5682bd,_0x53931a){_0x53931a['forEach'](_0x2e9e0c=>{if(_0x5682bd===null)_0x2e9e0c['material']=this['_defaultMa'+'terial'];else{const _0x462e7f=this['data']['meshVarian'+'ts'][_0x2e9e0c['mesh']['id']];_0x462e7f&&(_0x2e9e0c['material']=this['data']['materials'][_0x462e7f[_0x5682bd]]);}w['assert'](_0x2e9e0c['material']);});}static['createScen'+'eHierarchy'](_0x5f466c,_0x2433b7){let _0x437f71=null;if(_0x5f466c['length']===-0xfea+0xd7e*-0x2+-0x7*-0x621)_0x437f71=_0x5f466c[-0x11ad+-0x6*-0x3cb+-0x515];else{_0x437f71=new _0x2433b7('SceneGroup');for(const _0x5c87e9 of _0x5f466c)_0x437f71['addChild'](_0x5c87e9);}return _0x437f71;}static['createMode'+'l'](_0x47bd21,_0x5d4e9f){const _0x541c4e=function(_0x3d9b2f,_0x9a3c9,_0x1f008a,_0x5b8284,_0x3669d5,_0x294358,_0x183593){const _0x39c6bb=_0x47bd21['meshDefaul'+'tMaterials'][_0x9a3c9['id']],_0x4868ee=_0x39c6bb===void(0x7*-0x3c3+-0x184b+0x32a0)?_0x5d4e9f:_0x3669d5[_0x39c6bb],_0x180d58=new He(_0x9a3c9,_0x4868ee,_0x294358);if(_0x9a3c9['morph']){const _0x534046=new xa(_0x9a3c9['morph']);_0x180d58['morphInsta'+'nce']=_0x534046,_0x3d9b2f['morphInsta'+'nces']['push'](_0x534046);}if(_0x183593['hasOwnProp'+'erty']('skin')){const _0x48b0f9=_0x183593['skin'],_0x1cc04a=_0x1f008a[_0x48b0f9];_0x9a3c9['skin']=_0x1cc04a;const _0x344f68=_0x5b8284[_0x48b0f9];_0x180d58['skinInstan'+'ce']=_0x344f68,_0x3d9b2f['skinInstan'+'ces']['push'](_0x344f68);}_0x3d9b2f['meshInstan'+'ces']['push'](_0x180d58);},_0x15fa22=new sr(),_0xfba72a=[];for(const _0x29cec0 of _0x47bd21['skins']){const _0x27d36f=new Ol(_0x29cec0);_0x27d36f['bones']=_0x29cec0['bones'],_0xfba72a['push'](_0x27d36f);}_0x15fa22['graph']=yr['createScen'+'eHierarchy'](_0x47bd21['scenes'],Ie);for(let _0x198479=0x491*0x4+0x2*0x86e+-0x232*0x10;_0x198479<_0x47bd21['nodes']['length'];_0x198479++){const _0x326885=_0x47bd21['nodes'][_0x198479];if(_0x326885['root']===_0x15fa22['graph']){const _0x1ad178=_0x47bd21['gltf']['nodes'][_0x198479];if(_0x1ad178['hasOwnProp'+'erty']('mesh')){const _0x2d7c10=_0x47bd21['renders'][_0x1ad178['mesh']]['meshes'];for(let _0x43d894=0x9*0xe8+-0x13e3+-0xb*-0x111;_0x43d894<_0x2d7c10['length'];_0x43d894++){const _0x37b188=_0x2d7c10[_0x43d894];_0x37b188&&_0x541c4e(_0x15fa22,_0x37b188,_0x47bd21['skins'],_0xfba72a,_0x47bd21['materials'],_0x326885,_0x1ad178);}}}}return _0x15fa22;}['destroy'](){const _0x2374d4=this['_assets'],_0x24e2fe=function(_0x26364c){_0x2374d4['remove'](_0x26364c),_0x26364c['unload']();},_0x34a3ef=function(_0x43a57e){_0x43a57e['forEach'](_0xe7f81d=>{_0x24e2fe(_0xe7f81d);});};this['animations']&&(_0x34a3ef(this['animations']),this['animations']=null),this['textures']&&(_0x34a3ef(this['textures']),this['textures']=null),this['materials']&&(_0x34a3ef(this['materials']),this['materials']=null),this['renders']&&(_0x34a3ef(this['renders']),this['renders']=null),this['_model']&&(_0x24e2fe(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class KN{constructor(_0x1aa8b4,_0x3f6c04,_0x4460c9){this['_device']=_0x1aa8b4,this['_assets']=_0x3f6c04,this['_defaultMa'+'terial']=kh['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x4460c9;}['_getUrlWit'+'houtParams'](_0x4f3314){return _0x4f3314['indexOf']('?')>=0x1bac+-0x89*-0x1b+-0x2a1f?_0x4f3314['split']('?')[-0x271*0x3+-0x4*-0x281+-0x2b1]:_0x4f3314;}['load'](_0x167b13,_0x4a58d4,_0xa71f6c){pe['fetchArray'+'Buffer'](_0x167b13['load'],(_0xb1640f,_0x2aae4e)=>{_0xb1640f?_0x4a58d4(_0xb1640f):kh['parse'](this['_getUrlWit'+'houtParams'](_0x167b13['original']),xe['extractPat'+'h'](_0x167b13['load']),_0x2aae4e,this['_device'],_0xa71f6c['registry'],_0xa71f6c['options'],(_0x3795f9,_0x5a4ade)=>{_0x3795f9?_0x4a58d4(_0x3795f9):_0x4a58d4(null,new yr(_0x5a4ade,_0xa71f6c,this['_assets'],this['_defaultMa'+'terial']));});},_0xa71f6c,this['maxRetries']);}['open'](_0x1d164d,_0x298c1e,_0x15de74){return _0x298c1e;}['patch'](_0x1f7ff1,_0x4e40bb){}}class ZN extends Qe{constructor(_0x1b9b79){super(_0x1b9b79,'container'),this['glbContain'+'erParser']=new KN(_0x1b9b79['graphicsDe'+'vice'],_0x1b9b79['assets'],-0x1073+-0x2*0xb8d+-0x7e9*-0x5),this['parsers']={};}set['maxRetries'](_0x1f36bb){this['glbContain'+'erParser']['maxRetries']=_0x1f36bb;for(const _0x47b72f in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x47b72f)&&(this['parsers'][_0x47b72f]['maxRetries']=_0x1f36bb);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0xfa7087){return _0xfa7087['indexOf']('?')>=0x5ad+-0x10ce+0xb21?_0xfa7087['split']('?')[0x2342+-0x134c*0x1+-0x6*0x2a9]:_0xfa7087;}['_getParser'](_0x147bf5){const _0x1fc5e0=_0x147bf5?xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x147bf5))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x1fc5e0]||this['glbContain'+'erParser'];}['load'](_0x73c1c4,_0x32ad10,_0x329d4a){typeof _0x73c1c4=='string'&&(_0x73c1c4={'load':_0x73c1c4,'original':_0x73c1c4}),this['_getParser'](_0x73c1c4['original'])['load'](_0x73c1c4,_0x32ad10,_0x329d4a);}['open'](_0x40543d,_0x3fac8f,_0x1f4dfe){return this['_getParser'](_0x40543d)['open'](_0x40543d,_0x3fac8f,_0x1f4dfe);}}class QN extends Qe{constructor(_0x7e2382){super(_0x7e2382,'css'),h(this,'decoder',null);}['load'](_0xbd92e0,_0x54f2f8){typeof _0xbd92e0=='string'&&(_0xbd92e0={'load':_0xbd92e0,'original':_0xbd92e0}),ot['get'](_0xbd92e0['load'],{'retry':this['maxRetries']>0x115f*0x1+0xeff+-0x205e,'maxRetries':this['maxRetries']},(_0x312f27,_0x14fafc)=>{_0x312f27?_0x54f2f8('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0xbd92e0['original']+'\x20['+_0x312f27+']'):_0x54f2f8(null,_0x14fafc);});}['openBinary'](_0x82a504){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x82a504);}}class JN extends Qe{constructor(_0x20687f){super(_0x20687f,'cubemap'),this['_device']=_0x20687f['graphicsDe'+'vice'],this['_registry']=_0x20687f['assets'],this['_loader']=_0x20687f['loader'];}['load'](_0x385b9f,_0x3f4fad,_0x25bb79){this['loadAssets'](_0x25bb79,_0x3f4fad);}['open'](_0x10bb38,_0x5cc146,_0x3c87b1){return _0x3c87b1?_0x3c87b1['resource']:null;}['patch'](_0x6ffcfa,_0x687d10){this['loadAssets'](_0x6ffcfa,(_0x2e40cc,_0x56c284)=>{_0x2e40cc&&(_0x687d10['fire']('error',_0x6ffcfa),_0x687d10['fire']('error:'+_0x6ffcfa['id'],_0x2e40cc,_0x6ffcfa),_0x6ffcfa['fire']('error',_0x6ffcfa));});}['getAssetId'+'s'](_0x2f0962){const _0x2f0e3e=[];if(_0x2f0e3e[0xf3c+-0x5*0x132+0x1da*-0x5]=_0x2f0962['file'],(_0x2f0962['loadFaces']||!_0x2f0962['file'])&&_0x2f0962['data']&&_0x2f0962['data']['textures']){for(let _0x3f2855=0x1f78+-0x25*0x79+-0xdfb;_0x3f2855<-0xe59+-0x4*0xb3+0x112b;++_0x3f2855)_0x2f0e3e[_0x3f2855+(-0x19a+0x82+-0x1*-0x119)]=_0x2f0962['data']['textures'][_0x3f2855];}else _0x2f0e3e[-0x623*0x5+-0x11dc+0x1846*0x2]=_0x2f0e3e[0x2*0x12a3+0x4*-0x15b+0xfec*-0x2]=_0x2f0e3e[0x32e*-0x4+-0x1a87+0x2742]=_0x2f0e3e[-0xe4b+0x1aa7+-0xc58]=_0x2f0e3e[0x1ae+0x2fa+-0x4a3*0x1]=_0x2f0e3e[-0xa8f+0x2a4+0x1*0x7f1]=null;return _0x2f0e3e;}['compareAss'+'etIds'](_0x52b690,_0x5ba5e0){return _0x52b690&&_0x5ba5e0?parseInt(_0x52b690,0xd*-0x7e+0x13*-0x1c2+-0x2*-0x13eb)===_0x52b690||typeof _0x52b690=='string'?_0x52b690===_0x5ba5e0:_0x52b690['url']===_0x5ba5e0['url']:_0x52b690!==null==(_0x5ba5e0!==null);}['update'](_0x90a531,_0x97100a,_0x1a8ccc){const _0x27b6e2=_0x90a531['data']||{},_0x32afc6=_0x90a531['_handlerSt'+'ate']['assets'],_0x515c1a=_0x90a531['_resources'];let _0xa103f8,_0x265d03,_0x3c668d;const _0x2ce7a9=[null,null,null,null,null,null,null],_0x2a7d9f=function(){return _0x27b6e2['hasOwnProp'+'erty']('type')?_0x27b6e2['type']:_0x27b6e2['hasOwnProp'+'erty']('rgbm')?_0x27b6e2['rgbm']?Zi:Ds:null;};if(!_0x90a531['loaded']||_0x1a8ccc[0x4*-0x765+0x1c7+0x1bcd]!==_0x32afc6[0x126+-0x3*0x72b+-0x9*-0x243]){if(_0x1a8ccc[0x1*-0x9d3+-0x52b*-0x7+-0x1a5a]){if(_0xa103f8=_0x1a8ccc[-0x499+-0x1*-0x1223+-0xd8a]['resource'],_0xa103f8['cubemap']){for(_0x3c668d=-0x2299+-0x1dac+0x4045;_0x3c668d<-0x251d+0x4*-0x621+-0x3*-0x148d;++_0x3c668d)_0x2ce7a9[_0x3c668d+(0x9*-0x13d+0x1abc+-0xf96)]=new _e(this['_device'],{'name':_0x90a531['name']+('_prelitCub'+'emap')+(_0xa103f8['width']>>_0x3c668d),'cubemap':!(0xac1*0x2+0x1*0x1879+-0x2dfb),'type':_0x2a7d9f()||_0xa103f8['type'],'width':_0xa103f8['width']>>_0x3c668d,'height':_0xa103f8['height']>>_0x3c668d,'format':_0xa103f8['format'],'levels':[_0xa103f8['_levels'][_0x3c668d]],'addressU':ue,'addressV':ue,'mipmaps':_0x3c668d===-0x15eb+-0x1*0xa0c+-0x1*-0x1ff7});}else _0x2ce7a9[0x1*-0x15f7+-0x3c4*-0x5+-0x10c*-0x3]=_0xa103f8;}}else _0x2ce7a9[-0x1d*0x11b+-0xaf1*0x1+0x2b01]=_0x515c1a[-0xcb3+0x13e4+-0x17*0x50]||null,_0x2ce7a9[-0x876+-0x26c5+-0xfbf*-0x3]=_0x515c1a[0x341+-0xa71+0x732]||null,_0x2ce7a9[0x3b*0x10+0x1*0x574+-0x921*0x1]=_0x515c1a[-0x1*-0x2199+0x1d*0x8+-0x227e]||null,_0x2ce7a9[-0x135f+0x1b1*-0xb+-0x2*-0x12ff]=_0x515c1a[0xfe1+0x136c+-0x2349]||null,_0x2ce7a9[-0x270+0x59b+0x326*-0x1]=_0x515c1a[-0x6*0x5ce+-0x2b9*-0x3+0x2*0xd57]||null,_0x2ce7a9[0x526+0x23*-0xa3+0x1129]=_0x515c1a[-0x10*-0x5+0x208f+0x1*-0x20d9]||null;const _0x4b4bc5=_0x1a8ccc['slice'](-0x1591*-0x1+0xefc+0x248c*-0x1);if(!_0x90a531['loaded']||!this['cmpArrays'](_0x4b4bc5,_0x32afc6['slice'](0xe75*-0x1+0xb83+0x2f3*0x1))){if(_0x4b4bc5['indexOf'](null)===-(-0x65f*0x1+0xbd5+-0x575)){const _0x5be6c1=_0x4b4bc5['map'](_0x47b65f=>_0x47b65f['resource']),_0x3e9c9d=[];for(_0x265d03=0x7*0x586+-0x967*0x2+-0x13dc;_0x265d03<_0x5be6c1[-0x3d*-0x53+-0x1*0xf0b+0x65*-0xc]['_levels']['length'];++_0x265d03)_0x3e9c9d['push'](_0x5be6c1['map'](_0x1905e5=>_0x1905e5['_levels'][_0x265d03]));const _0x969c82=_0x5be6c1[-0xeb1*0x2+0x2567+-0x805*0x1]['format'],_0x264755=new _e(this['_device'],{'name':_0x90a531['name']+'_faces','cubemap':!(0x1a41+-0x269+-0x1*0x17d8),'type':_0x2a7d9f()||_0x5be6c1[0x1cbf+-0x1dd*-0x1+-0x1e9c]['type'],'width':_0x5be6c1[-0x1b52+-0xcb*-0xd+0x1103]['width'],'height':_0x5be6c1[-0x19*-0x184+-0x1cce+-0x916]['height'],'format':_0x969c82===Cr?Ne:_0x969c82,'mipmaps':_0x27b6e2['mipmaps']??!(0x524*0x7+-0x3*0x510+-0x14cc),'levels':_0x3e9c9d,'minFilter':_0x27b6e2['hasOwnProp'+'erty']('minFilter')?_0x27b6e2['minFilter']:_0x5be6c1[-0x1*0x157+-0x25db*-0x1+-0x1242*0x2]['minFilter'],'magFilter':_0x27b6e2['hasOwnProp'+'erty']('magFilter')?_0x27b6e2['magFilter']:_0x5be6c1[0x1641+-0x2*0xdc9+-0x1*-0x551]['magFilter'],'anisotropy':_0x27b6e2['hasOwnProp'+'erty']('anisotropy')?_0x27b6e2['anisotropy']:0x15a*-0x1c+0x409+-0x21d0*-0x1,'addressU':ue,'addressV':ue});_0x2ce7a9[-0x29*-0xf1+0x1da9+-0x4442]=_0x264755;}}else _0x2ce7a9[-0x21b2+-0x1156+0x3308]=_0x515c1a[0x10a3+-0x1a49+0x9a6]||null;if(!this['cmpArrays'](_0x2ce7a9,_0x515c1a)){for(_0x90a531['resources']=_0x2ce7a9,_0x90a531['_handlerSt'+'ate']['assetIds']=_0x97100a,_0x90a531['_handlerSt'+'ate']['assets']=_0x1a8ccc,_0x3c668d=-0x1043+0x87*0x9+0xb84;_0x3c668d<_0x515c1a['length'];++_0x3c668d)_0x515c1a[_0x3c668d]!==null&&_0x2ce7a9['indexOf'](_0x515c1a[_0x3c668d])===-(-0x161*-0x8+0x2b*-0x7f+-0x527*-0x2)&&_0x515c1a[_0x3c668d]['destroy']();}for(_0x3c668d=0xf06+-0x1482+0x57c;_0x3c668d<_0x32afc6['length'];++_0x3c668d)_0x32afc6[_0x3c668d]!==null&&_0x1a8ccc['indexOf'](_0x32afc6[_0x3c668d])===-(0x1731+-0x123d+-0x4f3)&&_0x32afc6[_0x3c668d]['unload']();}['cmpArrays'](_0x10c65b,_0x277463){if(_0x10c65b['length']!==_0x277463['length'])return!(-0x71*-0x21+0x9df+-0x186f);for(let _0x470832=0x168a+-0x6*-0x219+-0x2320;_0x470832<_0x10c65b['length'];++_0x470832)if(_0x10c65b[_0x470832]!==_0x277463[_0x470832])return!(0x19d3+0x4dd+0x1eaf*-0x1);return!(-0x23d7+0x1db5+-0x13a*-0x5);}['resolveId'](_0x3df49d){const _0x480bd1=parseInt(_0x3df49d,-0x1*0x17b9+0x13c3+0x400*0x1);return _0x480bd1===_0x3df49d||_0x480bd1['toString']()===_0x3df49d?_0x480bd1:_0x3df49d;}['loadAssets'](_0x598ae4,_0x3d931d){_0x598ae4['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x598ae4['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x462c6d=this,_0x1a301e=_0x462c6d['getAssetId'+'s'](_0x598ae4),_0x35488a=[null,null,null,null,null,null,null],_0x27d2fd=_0x598ae4['_handlerSt'+'ate']['assetIds'],_0x5a2e10=_0x598ae4['_handlerSt'+'ate']['assets'],_0x3f91af=_0x462c6d['_registry'];let _0x486d0b=-0x239f*-0x1+-0x933+-0x1a65;const _0x1c6a9a=function(_0x4b60ab,_0x1306bc){_0x35488a[_0x4b60ab]=_0x1306bc,_0x486d0b--,_0x486d0b===0x3*0xc62+-0x4a+-0x24dc&&(_0x462c6d['update'](_0x598ae4,_0x1a301e,_0x35488a),_0x3d931d(null,_0x598ae4['resources']));},_0xb836d0=function(_0x45cafc,_0x44c35f,_0x2b273c){_0x3d931d(_0x44c35f);},_0x4ab017=function(_0x1bbddc,_0x1c0edd){_0x1c0edd['loaded']?_0x1c6a9a(_0x1bbddc,_0x1c0edd):(_0x3f91af['once']('load:'+_0x1c0edd['id'],_0x1c6a9a['bind'](_0x462c6d,_0x1bbddc)),_0x3f91af['once']('error:'+_0x1c0edd['id'],_0xb836d0['bind'](_0x462c6d,_0x1bbddc)),_0x1c0edd['loading']||_0x3f91af['load'](_0x1c0edd));};let _0x4f396b;for(let _0x36881c=-0x1*-0xaca+-0x1768+0xc9e;_0x36881c<-0x125d*0x1+0x94*-0x24+0x2734;++_0x36881c){const _0x91ed50=this['resolveId'](_0x1a301e[_0x36881c]);if(!_0x91ed50)_0x1c6a9a(_0x36881c,null);else{if(_0x462c6d['compareAss'+'etIds'](_0x91ed50,_0x27d2fd[_0x36881c]))_0x4ab017(_0x36881c,_0x5a2e10[_0x36881c]);else{if(parseInt(_0x91ed50,-0x649*-0x3+-0x16ad+0x1a*0x26)===_0x91ed50)_0x4f396b=_0x3f91af['get'](_0x91ed50),_0x4f396b?_0x4ab017(_0x36881c,_0x4f396b):setTimeout(((_0x1a239c,_0x57d820)=>{const _0x52a63d=_0x3f91af['get'](_0x57d820);_0x52a63d?_0x4ab017(_0x1a239c,_0x52a63d):_0xb836d0(_0x1a239c,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x57d820);})['bind'](null,_0x36881c,_0x91ed50));else{const _0x2b6f09=typeof _0x91ed50=='string'?{'url':_0x91ed50,'filename':_0x91ed50}:_0x91ed50,_0x8769bb=_0x2b6f09['url']['search']('.dds')===-(-0x52c+-0x218f+0x4a*0x86)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(0x1c14+-0x107c+-0xb97)}:null;_0x4f396b=new pe(_0x598ae4['name']+'_part_'+_0x36881c,'texture',_0x2b6f09,_0x8769bb),_0x3f91af['add'](_0x4f396b),_0x4ab017(_0x36881c,_0x4f396b);}}}}}}class ek extends Qe{constructor(_0x53f05){super(_0x53f05,'folder');}['load'](_0x29a66d,_0x436c04){_0x436c04(null,null);}}class yS{constructor(_0x50af2e,_0x1b4116){this['type']=_0x1b4116&&_0x1b4116['type']||Rh,this['em']=-0x1199+0xd13*-0x1+0x1ead,this['textures']=_0x50af2e,this['intensity']=-0xd*0xc5+0x1c01+-0x1200,this['_data']=null,this['data']=_0x1b4116;}set['data'](_0x4bd0ac){if(this['_data']=_0x4bd0ac,!!_0x4bd0ac&&(this['_data']['intensity']!==void(0x1f51+0x2e7+-0x2238)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<0x1b08+0x256+-0x2*0xeae)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x496418 in this['_data']['chars'])this['_data']['chars'][_0x496418]['map']=0xbc+-0x124+0x68;}}get['data'](){return this['_data'];}}function Cf(_0x7e2865){return _0x7e2865['version']<-0x3f+0xefe+-0x17*0xa4&&(_0x7e2865['version']<-0x1d*-0x123+0x2a8+0x3f5*-0x9&&(_0x7e2865['info']['maps']=_0x7e2865['info']['maps']||[{'width':_0x7e2865['info']['width'],'height':_0x7e2865['info']['height']}]),_0x7e2865['chars']=Object['keys'](_0x7e2865['chars']||{})['reduce']((_0x3c4463,_0x55d28a)=>{const _0x57d951=_0x7e2865['chars'][_0x55d28a],_0x224f09=_0x57d951['letter']!==void(-0xd1f*0x2+0x2264+0x2*-0x413)?_0x57d951['letter']:Hc['fromCodePo'+'int'](_0x55d28a);return _0x7e2865['version']<0x1428+-0x78*-0x6+-0x16f6&&(_0x57d951['map']=_0x57d951['map']||0x43*0x83+0xdb9*0x1+-0x2*0x1801),_0x3c4463[_0x224f09]=_0x57d951,_0x3c4463;},{}),_0x7e2865['version']=0x1da3+-0x25a0+0x800),_0x7e2865;}class tk extends Qe{constructor(_0x50e8e6){super(_0x50e8e6,'font'),this['_loader']=_0x50e8e6['loader'],this['maxRetries']=-0xe*0x29d+-0x2*0x282+0x299a;}['load'](_0x439f34,_0x1e8a6a,_0x286b21){typeof _0x439f34=='string'&&(_0x439f34={'load':_0x439f34,'original':_0x439f34});const _0x296955=this;xe['getExtensi'+'on'](_0x439f34['original'])==='.json'?ot['get'](_0x439f34['load'],{'retry':this['maxRetries']>-0x36d+-0x1631+-0xccf*-0x2,'maxRetries':this['maxRetries']},(_0x1e9388,_0x595b78)=>{if(_0x1e9388)_0x1e8a6a('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x439f34['original']+'\x20['+_0x1e9388+']');else{const _0x2a1334=Cf(_0x595b78);_0x296955['_loadTextu'+'res'](_0x439f34['load']['replace']('.json','.png'),_0x2a1334,(_0x5c0ae6,_0x1a7b23)=>{_0x5c0ae6?_0x1e8a6a(_0x5c0ae6):_0x1e8a6a(null,{'data':_0x2a1334,'textures':_0x1a7b23});});}}):(_0x286b21&&_0x286b21['data']&&(_0x286b21['data']=Cf(_0x286b21['data'])),this['_loadTextu'+'res'](_0x439f34['load'],_0x286b21&&_0x286b21['data'],_0x1e8a6a));}['_loadTextu'+'res'](_0x155ed8,_0x197974,_0x2cbbd1){const _0x3f11df=_0x197974['info']['maps']['length'];let _0x4624f0=-0x1*0x203b+0x401+0x1c3a,_0x2429f8=null;const _0x1565f7=new Array(_0x3f11df),_0x5d6d2c=this['_loader'],_0x16ab52=function(_0x43fa35){const _0x4142d7=function(_0x2c7f0b,_0xa1be8c){if(!_0x2429f8){if(_0x2c7f0b){_0x2429f8=_0x2c7f0b,_0x2cbbd1(_0x2c7f0b);return;}_0xa1be8c['upload'](),_0x1565f7[_0x43fa35]=_0xa1be8c,_0x4624f0++,_0x4624f0===_0x3f11df&&_0x2cbbd1(null,_0x1565f7);}};_0x43fa35===-0x160f+0x9*-0x2f+0x5*0x4be?_0x5d6d2c['load'](_0x155ed8,'texture',_0x4142d7):_0x5d6d2c['load'](_0x155ed8['replace']('.png',_0x43fa35+'.png'),'texture',_0x4142d7);};for(let _0x6591f0=0x143+-0x1c23+0x1ae0;_0x6591f0<_0x3f11df;_0x6591f0++)_0x16ab52(_0x6591f0);}['open'](_0x5a18a9,_0x38474b,_0x140306){let _0x37946b;return _0x38474b['textures']?_0x37946b=new yS(_0x38474b['textures'],_0x38474b['data']):_0x37946b=new yS(_0x38474b,null),_0x37946b;}['patch'](_0x31a1a3,_0x318ee8){const _0x35230e=_0x31a1a3['resource'];!_0x35230e['data']&&_0x31a1a3['data']?_0x35230e['data']=_0x31a1a3['data']:!_0x31a1a3['data']&&_0x35230e['data']&&(_0x31a1a3['data']=_0x35230e['data']),_0x31a1a3['data']&&(_0x31a1a3['data']=Cf(_0x31a1a3['data']));}}async function sk(){const _0x1febf5=0x55*-0x74+0xb3a+0x1b4a+0.28209479177387814;class _0x2ba200{constructor(_0x3a3b31,_0x184f6d,_0x17ee79){this['x']=_0x3a3b31,this['y']=_0x184f6d,this['z']=_0x17ee79;}}class _0xdda497{constructor(_0x5cfe38,_0x341864,_0x71dee,_0x3cdadd){this['x']=_0x5cfe38,this['y']=_0x341864,this['z']=_0x71dee,this['w']=_0x3cdadd;}}class _0x5df640{constructor(_0x375f1c,_0x23367d,_0x3796cd,_0x187779){this['x']=_0x375f1c,this['y']=_0x23367d,this['z']=_0x3796cd,this['w']=_0x187779;}['set'](_0x4cf9b3,_0x36b973,_0x421b34,_0x345301){this['x']=_0x4cf9b3,this['y']=_0x36b973,this['z']=_0x421b34,this['w']=_0x345301;}}class _0x33c6b3{constructor(_0x54e6e5,_0x41fe3b,_0x8bb46d,_0x325be5,_0x50cf43,_0x417e2f,_0x41cb83,_0x5ec9d8,_0x4be178,_0x19124a,_0x3b88fd,_0x4c3dda,_0x188d59,_0x22015b){const _0x269a6b=(_0x2f6968,_0x18df67)=>{const _0x2da3a8=(0x1d0a+0x8b7+-0x25c0<<_0x18df67)-(-0x1*0x1bc7+0xb*0x2e0+-0x3d8);return(_0x2f6968&_0x2da3a8)/_0x2da3a8;},_0x5b5c79=(_0x4daac7,_0x2583aa)=>{_0x4daac7['x']=_0x269a6b(_0x2583aa>>>0x1c7a+0x1*0x583+-0x21e8,0x57*0x5f+-0x26e*0x3+-0x18f4),_0x4daac7['y']=_0x269a6b(_0x2583aa>>>-0x3c2+0x1*0x941+-0x574,0x14d4+0x1*0x1885+-0x7*0x679),_0x4daac7['z']=_0x269a6b(_0x2583aa,0x2685*-0x1+-0x1c6*-0x4+0x1f78);},_0x7f22ee=(_0x407fc0,_0x27cabe)=>{_0x407fc0['x']=_0x269a6b(_0x27cabe>>>0x191*-0x1+0x16a6+-0x14fd,0x1*-0xa67+0x125b*-0x1+0xa*0x2e1),_0x407fc0['y']=_0x269a6b(_0x27cabe>>>0x1c39+-0x2*0xf9e+-0x313*-0x1,-0x1928+-0x8*-0x7f+0x1538),_0x407fc0['z']=_0x269a6b(_0x27cabe>>>-0x6f7+0x14*-0xe8+0x191f,0x1d0d+-0xc0e+-0x10f7),_0x407fc0['w']=_0x269a6b(_0x27cabe,-0x3a5*0x7+0xb13+-0x1cf*-0x8);},_0x309f78=(_0x4b1880,_0x40357f)=>{const _0x444b4f=(0x94a*0x3+0x21a5+-0x3d82)/(Math['sqrt'](-0x9bb+0x3*0x595+-0x702)*(-0x607*-0x1+0x9b*-0x19+-0x91c*-0x1+0.5)),_0x30b261=(_0x269a6b(_0x40357f>>>-0xf24+0x5f9+0x3*0x315,0x129f+-0x2*-0x518+-0x5c1*0x5)-(-0x8b6+-0x1051+0x1*0x1907+0.5))*_0x444b4f,_0x1b4e30=(_0x269a6b(_0x40357f>>>0x231b+0x965*-0x4+0x283,-0xb*0x281+0x1b*0x112+-0x1*0x151)-(-0x3*0x36e+-0x1779+0x21c3+0.5))*_0x444b4f,_0x1f85e5=(_0x269a6b(_0x40357f,0x1a3*-0xa+0x3*-0xabd+0x309f)-(0x19*0x9d+0x679*-0x6+0x223*0xb+0.5))*_0x444b4f,_0x388114=Math['sqrt'](-0x170e+0x21*-0x4c+-0x287*-0xd-(_0x30b261*_0x30b261+_0x1b4e30*_0x1b4e30+_0x1f85e5*_0x1f85e5));switch(_0x40357f>>>0x1*0x1e7f+0xc6e+-0xe45*0x3){case 0x197+0x1b51+0xc8*-0x25:_0x4b1880['set'](_0x30b261,_0x1b4e30,_0x1f85e5,_0x388114);break;case-0x13b4*0x1+-0x19b4+0x2d69:_0x4b1880['set'](_0x388114,_0x1b4e30,_0x1f85e5,_0x30b261);break;case-0x2*0xc14+-0x1d99+0x35c3*0x1:_0x4b1880['set'](_0x1b4e30,_0x388114,_0x1f85e5,_0x30b261);break;case 0xf7c+0x160c+-0x2585:_0x4b1880['set'](_0x1b4e30,_0x1f85e5,_0x388114,_0x30b261);break;}},_0x332835=(_0x258f41,_0xb4b796,_0x3717e3)=>_0x258f41*(-0x1b0b+-0x65*0x24+0x2940-_0x3717e3)+_0xb4b796*_0x3717e3,_0x141e4f=[0x14+0x7*-0x431+0x1d46*0x1,-0x879+-0x2577+-0x5bf*-0x8,0x11d2+-0x1d*-0x76+0x1f21*-0x1][_0x41cb83-(0xd64+-0x6f3+-0x19c*0x4)],_0x132c11=-0x353*0x5+-0x1347+0x23ec;this['read']=_0x194f2e=>{const _0x2ab6ba=Math['floor'](_0x194f2e/(0x1d5d*-0x1+0xc1*0x29+0x23*-0x4))*_0x41fe3b;if(_0x5ec9d8&&(_0x5b5c79(_0x5ec9d8,_0x8bb46d[_0x194f2e*_0x132c11+(-0x1*0x22fc+-0xa3e+0x2d3a*0x1)]),_0x5ec9d8['x']=_0x332835(_0x54e6e5[_0x2ab6ba+(0x16fb+0x3f3+-0x1aee)],_0x54e6e5[_0x2ab6ba+(0x1844+-0x25b1+0xd70)],_0x5ec9d8['x']),_0x5ec9d8['y']=_0x332835(_0x54e6e5[_0x2ab6ba+(-0x125*0x1f+0x1cb3+-0x3*-0x243)],_0x54e6e5[_0x2ab6ba+(-0x23a8+0x1e0d+0x1*0x59f)],_0x5ec9d8['y']),_0x5ec9d8['z']=_0x332835(_0x54e6e5[_0x2ab6ba+(-0x6*0x655+0xc*-0x14f+0x35b4)],_0x54e6e5[_0x2ab6ba+(-0x25f*0x2+-0x19f2+0x463*0x7)],_0x5ec9d8['z'])),_0x4be178&&_0x309f78(_0x4be178,_0x8bb46d[_0x194f2e*_0x132c11+(-0x4a9*0x7+-0x440*0x6+-0x6*-0x9b0)]),_0x19124a&&(_0x5b5c79(_0x19124a,_0x8bb46d[_0x194f2e*_0x132c11+(-0x3*0xae3+-0x1*0x5d5+0x580*0x7)]),_0x19124a['x']=_0x332835(_0x54e6e5[_0x2ab6ba+(-0x1*0x1d5d+-0x1f74+0x3cd7)],_0x54e6e5[_0x2ab6ba+(0x14*0xa0+-0x1*-0x1d0+-0xe47)],_0x19124a['x']),_0x19124a['y']=_0x332835(_0x54e6e5[_0x2ab6ba+(0x57a+0x21ab+-0x271e)],_0x54e6e5[_0x2ab6ba+(0x7f9+0xec5+-0x4*0x5ad)],_0x19124a['y']),_0x19124a['z']=_0x332835(_0x54e6e5[_0x2ab6ba+(-0x269e+0x2*-0xa75+0x3b9*0x10)],_0x54e6e5[_0x2ab6ba+(0x29d*-0xd+-0x12bb+-0x1195*-0x3)],_0x19124a['z'])),_0x3b88fd&&(_0x7f22ee(_0x3b88fd,_0x8bb46d[_0x194f2e*_0x132c11+(-0x4*0x91a+0x1c46+0x825)]),_0x41fe3b>0x6*-0x139+0x136b+-0x403*0x3&&(_0x3b88fd['x']=_0x332835(_0x54e6e5[_0x2ab6ba+(-0x8*0x2f2+-0x8ef*-0x1+0xead)],_0x54e6e5[_0x2ab6ba+(0xceb+-0x6b*-0x35+-0x2303)],_0x3b88fd['x']),_0x3b88fd['y']=_0x332835(_0x54e6e5[_0x2ab6ba+(-0x253e+0x5*0x326+0x158d)],_0x54e6e5[_0x2ab6ba+(0x26b4+0x1*-0x3ce+0x2ae*-0xd)],_0x3b88fd['y']),_0x3b88fd['z']=_0x332835(_0x54e6e5[_0x2ab6ba+(-0x22b4*-0x1+0x1*0xab8+0x2d5e*-0x1)],_0x54e6e5[_0x2ab6ba+(0x26ca+-0x20a*0x1+-0x24af)],_0x3b88fd['z']))),_0x4c3dda&&(_0x5b5c79(_0x4c3dda,_0x8bb46d[_0x194f2e*_0x132c11+(0x16*-0xd+0x7*-0x243+0x10f7)]),_0x4c3dda['x']=_0x332835(_0x54e6e5[_0x2ab6ba+(-0x222b+0x6f7+0xda3*0x2)],_0x54e6e5[_0x2ab6ba+(-0x221f+-0x138c+-0x8*-0x6b8)],_0x4c3dda['x']),_0x4c3dda['y']=_0x332835(_0x54e6e5[_0x2ab6ba+(0x3*0x526+-0x266b+0x170c)],_0x54e6e5[_0x2ab6ba+(0x79*-0x42+-0x4e0+-0x2*-0x1214)],_0x4c3dda['y']),_0x4c3dda['z']=_0x332835(_0x54e6e5[_0x2ab6ba+(0x3e9+-0x2039*0x1+0x1c64)],_0x54e6e5[_0x2ab6ba+(0x1c0f+-0x21*-0xf7+0xfb*-0x3d)],_0x4c3dda['z'])),_0x188d59&&(_0x5b5c79(_0x188d59,_0x8bb46d[_0x194f2e*_0x132c11+(0x9*-0x2b0+0x108d*0x1+-0x5*-0x188)]),_0x188d59['x']=_0x332835(_0x54e6e5[_0x2ab6ba+(0x437+0x1*-0x8d5+0xc9*0x6)],_0x54e6e5[_0x2ab6ba+(-0x7*-0x31a+-0x4e5+-0x10b8)],_0x188d59['x']),_0x188d59['y']=_0x332835(_0x54e6e5[_0x2ab6ba+(-0x148f+0x1609+-0x160)],_0x54e6e5[_0x2ab6ba+(-0x19*0x94+0xdea+0xa5)],_0x188d59['y'])),_0x22015b&&_0x41cb83>0x1c81+-0x251*0x9+-0x7a8){const _0x4ae4a8=[_0x325be5,_0x50cf43,_0x417e2f];for(let _0x1fe58e=-0x3fa*0x9+0xd*0x119+0x313*0x7;_0x1fe58e<-0x3*0x7ca+-0x39*0x93+0x72*0x7e;++_0x1fe58e)for(let _0x267ddf=-0x110b+-0xd3a+0x1e45;_0x267ddf<-0xeea+-0xb*-0x290+-0xd37;++_0x267ddf)_0x22015b[_0x1fe58e*(0x1*-0x2531+0x211c+0x424*0x1)+_0x267ddf]=_0x267ddf<_0x141e4f?_0x4ae4a8[_0x1fe58e][_0x194f2e*(0x23*0xd3+-0x2d7*-0xd+-0x41b4)+_0x267ddf]*((0x252b+0x7*0x5b+-0x27a0)/(-0x1780+0x2109+-0x1*0x88a))-(-0x1a7e+-0x772+0x35*0xa4):-0x1f*-0x66+0xbf3+-0x184d;}};}}self['onmessage']=async _0x285253=>{const {data:_0x3f561d}=_0x285253;switch(_0x3f561d['type']){case'initWorker':break;case'decompress':_0x1739d7(_0x3f561d['numSplats'],_0x3f561d['chunkData'],_0x3f561d['chunkSize'],_0x3f561d['vertexData'],_0x3f561d['shData0'],_0x3f561d['shData1'],_0x3f561d['shData2'],_0x3f561d['shBands']);break;}};const _0x1739d7=(_0x3bba52,_0x3c5fc4,_0x283361,_0x1f171a,_0x5581da,_0x325b9b,_0x369081,_0x15a0ba)=>{const _0x342632=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x15a0ba>0x1299+-0x1798+0x4ff){const _0x2a1000=[];for(let _0x44d607=-0x1*0x2139+-0xf4d*0x1+0x1843*0x2;_0x44d607<-0x1*0x229a+-0x162a+-0x2b*-0x153;++_0x44d607)_0x2a1000['push']('f_rest_'+_0x44d607);_0x342632['splice'](_0x342632['indexOf']('f_dc_0')+(0x146f+-0x35e+-0xa8*0x1a),0x1c7d+-0x26a+-0x1a13,..._0x2a1000);}const _0x56d710={};_0x342632['forEach'](_0x3f2685=>{_0x56d710[_0x3f2685]=new Float32Array(_0x3bba52);});const _0x55c95f=new _0x2ba200(),_0x4e9340=new _0x5df640(),_0x4e407d=new _0x2ba200(),_0x46dba1=new _0xdda497(),_0x82ab0=new _0x2ba200(),_0x2e9bc5=new _0x2ba200(),_0x14a262=_0x15a0ba>0x271*0x2+0x1126+0xb04*-0x2?new Float32Array(0x2*0x3c7+0x1e1a+0x257b*-0x1):null,_0x486d0a=new _0x33c6b3(_0x3c5fc4,_0x283361,_0x1f171a,_0x5581da,_0x325b9b,_0x369081,_0x15a0ba,_0x55c95f,_0x4e9340,_0x4e407d,_0x46dba1,_0x82ab0,_0x2e9bc5,_0x14a262);for(let _0x462567=0x1199+-0x1df9*-0x1+-0x2f92;_0x462567<_0x3bba52;++_0x462567)if(_0x486d0a['read'](_0x462567),_0x56d710['x'][_0x462567]=_0x55c95f['x'],_0x56d710['y'][_0x462567]=_0x55c95f['y'],_0x56d710['z'][_0x462567]=_0x55c95f['z'],_0x56d710['rot_1'][_0x462567]=_0x4e9340['x'],_0x56d710['rot_2'][_0x462567]=_0x4e9340['y'],_0x56d710['rot_3'][_0x462567]=_0x4e9340['z'],_0x56d710['rot_0'][_0x462567]=_0x4e9340['w'],_0x56d710['scale_0'][_0x462567]=_0x4e407d['x'],_0x56d710['scale_1'][_0x462567]=_0x4e407d['y'],_0x56d710['scale_2'][_0x462567]=_0x4e407d['z'],_0x56d710['motion_0'][_0x462567]=_0x82ab0['x'],_0x56d710['motion_1'][_0x462567]=_0x82ab0['y'],_0x56d710['motion_2'][_0x462567]=_0x82ab0['z'],_0x56d710['t_scale'][_0x462567]=_0x2e9bc5['x'],_0x56d710['t'][_0x462567]=_0x2e9bc5['y'],_0x56d710['f_dc_0'][_0x462567]=(_0x46dba1['x']-(-0x1815+-0x1a*-0xdc+0x5*0x59+0.5))/_0x1febf5,_0x56d710['f_dc_1'][_0x462567]=(_0x46dba1['y']-(0xd26+-0x1a7*0xd+0x2c7*0x3+0.5))/_0x1febf5,_0x56d710['f_dc_2'][_0x462567]=(_0x46dba1['z']-(-0x1*-0x250d+-0x1490+0x1*-0x107d+0.5))/_0x1febf5,_0x56d710['opacity'][_0x462567]=_0x46dba1['w']<=-0x35+-0x1685*0x1+0x16ba?-(0x1651+0x32d*-0x9+0x66c):_0x46dba1['w']>=-0x105f+0x3f*-0x93+0x348d*0x1?0xd*0x1fa+-0x6*0x39f+-0x3d0:-Math['log']((0x6bc+-0x3*0x511+0x878)/_0x46dba1['w']-(0x6b*-0x44+0x115+-0x46*-0x64)),_0x14a262){for(let _0x106865=-0x1*0xc42+-0x21cb+0x2e0d;_0x106865<0x22f6+0x15b*0x1b+-0x23b1*0x2;++_0x106865)_0x56d710['f_rest_'+_0x106865][_0x462567]=_0x14a262[_0x106865];}let _0x5ba6a5={'x':_0x56d710['x'],'y':_0x56d710['y'],'z':_0x56d710['z'],'rot_1':_0x56d710['rot_1'],'rot_2':_0x56d710['rot_2'],'rot_3':_0x56d710['rot_3'],'rot_0':_0x56d710['rot_0'],'scale_0':_0x56d710['scale_0'],'scale_1':_0x56d710['scale_1'],'scale_2':_0x56d710['scale_2'],'motion_0':_0x56d710['motion_0'],'motion_1':_0x56d710['motion_1'],'motion_2':_0x56d710['motion_2'],'t_scale':_0x56d710['t_scale'],'t':_0x56d710['t'],'f_dc_0':_0x56d710['f_dc_0'],'f_dc_1':_0x56d710['f_dc_1'],'f_dc_2':_0x56d710['f_dc_2'],'opacity':_0x56d710['opacity']};_0x14a262&&(_0x5ba6a5={..._0x5ba6a5,'f_rest_0':_0x56d710['f_rest_0'],'f_rest_1':_0x56d710['f_rest_1'],'f_rest_2':_0x56d710['f_rest_2'],'f_rest_3':_0x56d710['f_rest_3'],'f_rest_4':_0x56d710['f_rest_4'],'f_rest_5':_0x56d710['f_rest_5'],'f_rest_6':_0x56d710['f_rest_6'],'f_rest_7':_0x56d710['f_rest_7'],'f_rest_8':_0x56d710['f_rest_8'],'f_rest_9':_0x56d710['f_rest_9'],'f_rest_10':_0x56d710['f_rest_10'],'f_rest_11':_0x56d710['f_rest_11'],'f_rest_12':_0x56d710['f_rest_12'],'f_rest_13':_0x56d710['f_rest_13'],'f_rest_14':_0x56d710['f_rest_14'],'f_rest_15':_0x56d710['f_rest_15'],'f_rest_16':_0x56d710['f_rest_16'],'f_rest_17':_0x56d710['f_rest_17'],'f_rest_18':_0x56d710['f_rest_18'],'f_rest_19':_0x56d710['f_rest_19'],'f_rest_20':_0x56d710['f_rest_20'],'f_rest_21':_0x56d710['f_rest_21'],'f_rest_22':_0x56d710['f_rest_22'],'f_rest_23':_0x56d710['f_rest_23'],'f_rest_24':_0x56d710['f_rest_24'],'f_rest_25':_0x56d710['f_rest_25'],'f_rest_26':_0x56d710['f_rest_26'],'f_rest_27':_0x56d710['f_rest_27'],'f_rest_28':_0x56d710['f_rest_28'],'f_rest_29':_0x56d710['f_rest_29'],'f_rest_30':_0x56d710['f_rest_30'],'f_rest_31':_0x56d710['f_rest_31'],'f_rest_32':_0x56d710['f_rest_32'],'f_rest_33':_0x56d710['f_rest_33'],'f_rest_34':_0x56d710['f_rest_34'],'f_rest_35':_0x56d710['f_rest_35'],'f_rest_36':_0x56d710['f_rest_36'],'f_rest_37':_0x56d710['f_rest_37'],'f_rest_38':_0x56d710['f_rest_38'],'f_rest_39':_0x56d710['f_rest_39'],'f_rest_40':_0x56d710['f_rest_40'],'f_rest_41':_0x56d710['f_rest_41'],'f_rest_42':_0x56d710['f_rest_42'],'f_rest_43':_0x56d710['f_rest_43'],'f_rest_44':_0x56d710['f_rest_44']});const _0x5a7d67=Object['values'](_0x5ba6a5)['map'](_0x5eb88d=>_0x5eb88d['buffer']);self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x5ba6a5},_0x5a7d67);};}class ik extends me{constructor(){super(),h(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+sk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x36b0d1=>{if(!this['worker'])return;const {data:_0x1769f7}=_0x36b0d1;switch(_0x1769f7['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x1769f7['data']);break;}};}['decompress'](_0x2ff801,_0x494ca2,_0x11f345,_0x28fbd9,_0xfe7c53,_0x44f634,_0x48f2e0,_0xb9b29f){const _0x34982c=[_0x494ca2['buffer'],_0x28fbd9['buffer']];_0xfe7c53&&_0x34982c['push'](_0xfe7c53['buffer']),_0x44f634&&_0x34982c['push'](_0x44f634['buffer']),_0x48f2e0&&_0x34982c['push'](_0x48f2e0['buffer']),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x2ff801,'chunkData':_0x494ca2,'chunkSize':_0x11f345,'vertexData':_0x28fbd9,'shData0':_0xfe7c53,'shData1':_0x44f634,'shData2':_0x48f2e0,'shBands':_0xb9b29f},_0x34982c);}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class rk{constructor(_0x397af9,_0x182bdf,_0x342894,_0x49af61,_0x51e370,_0x444b69,_0x4ab777,_0x48f8ad){const _0x2cb359=(_0x4d9dc0,_0x3e29b3)=>{const _0x3cd5ff=(0x274*-0xf+-0x7*-0x50d+0x172<<_0x3e29b3)-(0x1*-0x8a5+0x1b81+-0x1*0x12db);return(_0x4d9dc0&_0x3cd5ff)/_0x3cd5ff;},_0x2589d7=(_0x2a53d1,_0x5f48e6)=>{_0x2a53d1['x']=_0x2cb359(_0x5f48e6>>>-0x1*-0x72+-0x1*0x120d+-0x4*-0x46c,-0xdab+-0x17d8+0x258e),_0x2a53d1['y']=_0x2cb359(_0x5f48e6>>>-0xd09+0xcd7+0x3d,0x19bb+-0x1*-0xd3d+-0x26ee),_0x2a53d1['z']=_0x2cb359(_0x5f48e6,-0xb45*-0x3+0xee0+0x46c*-0xb);},_0x5e7e85=(_0x5ebacf,_0x180b3a)=>{_0x5ebacf['x']=_0x2cb359(_0x180b3a>>>-0x22d9+-0x1d79+0x3ca*0x11,-0x1*-0x53f+0xae0+-0x1017*0x1),_0x5ebacf['y']=_0x2cb359(_0x180b3a>>>-0xb1e+0x397+0x43*0x1d,0xb08+0xa*0xcd+0x3*-0x656),_0x5ebacf['z']=_0x2cb359(_0x180b3a>>>-0x1f1f*-0x1+0x3*0xb77+-0x417c,-0x3c1+0x15*-0x167+0x2*0x109e),_0x5ebacf['w']=_0x2cb359(_0x180b3a,-0x1*0x1202+0x2*-0x8f6+-0x23f6*-0x1);},_0x1ecaa9=(_0x28fb75,_0x2b4fd9)=>{const _0x4cd880=(-0x1983+-0x147f+0x2e03)/(Math['sqrt'](-0x2303+-0x239a+0x1*0x469f)*(-0x1251+0x3*-0x569+0x228c+0.5)),_0x38b1c8=(_0x2cb359(_0x2b4fd9>>>-0x1*0xa5e+-0x514+-0xf86*-0x1,-0x1bc8+-0xae7*-0x1+-0x10eb*-0x1)-(-0x1b72+-0x22f0+0x1f31*0x2+0.5))*_0x4cd880,_0x726cc9=(_0x2cb359(_0x2b4fd9>>>-0x1bf7+-0x7*0xff+0x22fa,0xb*0x1f1+-0x1*-0x19a3+-0x14*0x259)-(0x261d+-0x1993+-0xc8a+0.5))*_0x4cd880,_0x5071e5=(_0x2cb359(_0x2b4fd9,-0x825*-0x2+0x1*-0x20a1+0x1061)-(0x5*-0x107+-0x26e3+0x2c06+0.5))*_0x4cd880,_0x30ed94=Math['sqrt'](-0x1b08+-0x66f*0x1+0x2178-(_0x38b1c8*_0x38b1c8+_0x726cc9*_0x726cc9+_0x5071e5*_0x5071e5));switch(_0x2b4fd9>>>-0x3ef+-0x1f1*0xa+0x1777){case-0x21a+-0x1ea1+0x20bb:_0x28fb75['set'](_0x38b1c8,_0x726cc9,_0x5071e5,_0x30ed94);break;case-0x1d*-0x29+0x248d+-0x3*0xdbb:_0x28fb75['set'](_0x30ed94,_0x726cc9,_0x5071e5,_0x38b1c8);break;case-0x873*-0x1+-0xc3d+0xc*0x51:_0x28fb75['set'](_0x726cc9,_0x30ed94,_0x5071e5,_0x38b1c8);break;case 0x1*0x9a7+0x194+-0xb38:_0x28fb75['set'](_0x726cc9,_0x5071e5,_0x30ed94,_0x38b1c8);break;}},_0x44c042=(_0x3dcc5a,_0xd346ee,_0x5d6c88)=>_0x3dcc5a*(-0x1*0x2677+0xbdd+0x1a9b-_0x5d6c88)+_0xd346ee*_0x5d6c88,{chunkData:_0x1afc84,chunkSize:_0x30c239,vertexData:_0x1d16c3,shData0:_0x1d5aea,shData1:_0x50ddf2,shData2:_0x8bc1fa,shBands:_0x169c1d}=_0x397af9,_0x54e2f4=[0x1b02+0xf3*-0x27+0x2*0x503,-0x4*-0x6b5+0xffb*-0x1+-0xad1,0xffb+0x26ef*0x1+0x97*-0x5d][_0x169c1d-(-0x222d+0x4bb*0x2+-0x62e*-0x4)],_0x32e690=-0x57*-0x15+0x1*-0x13cf+-0xa*-0x145;this['read']=_0x5b501a=>{const _0x5c9901=Math['floor'](_0x5b501a/(-0x35e+0xb59+-0x6fb))*_0x30c239;if(_0x182bdf&&(_0x2589d7(_0x182bdf,_0x1d16c3[_0x5b501a*_0x32e690+(-0x1*0x1eb+0x27*-0xfb+0x2828)]),_0x182bdf['x']=_0x44c042(_0x1afc84[_0x5c9901+(0x260e+0x1ab*0x5+-0x2e65)],_0x1afc84[_0x5c9901+(-0x15c+0x23f2*0x1+-0x2293)],_0x182bdf['x']),_0x182bdf['y']=_0x44c042(_0x1afc84[_0x5c9901+(-0x1712*0x1+-0x1105+0x2818*0x1)],_0x1afc84[_0x5c9901+(-0x4b2*-0x7+-0x1c03+-0xb1*0x7)],_0x182bdf['y']),_0x182bdf['z']=_0x44c042(_0x1afc84[_0x5c9901+(-0x1fcb+0x12b4+-0x7*-0x1df)],_0x1afc84[_0x5c9901+(-0x1444+-0x94f*0x1+0x8*0x3b3)],_0x182bdf['z'])),_0x342894&&_0x1ecaa9(_0x342894,_0x1d16c3[_0x5b501a*_0x32e690+(-0x1157+-0x1e74+0x2fcc)]),_0x49af61&&(_0x2589d7(_0x49af61,_0x1d16c3[_0x5b501a*_0x32e690+(0x1*0x1277+-0x91f*0x3+0x8e8*0x1)]),_0x49af61['x']=_0x44c042(_0x1afc84[_0x5c9901+(-0x477*0x7+0xa7b+-0x16*-0xf2)],_0x1afc84[_0x5c9901+(0x1*-0x124f+-0x1307*-0x2+-0x13b6)],_0x49af61['x']),_0x49af61['y']=_0x44c042(_0x1afc84[_0x5c9901+(0x1c1b+-0x22d2*0x1+-0x35f*-0x2)],_0x1afc84[_0x5c9901+(0x22*-0xdf+0x3e*0xb+0x1afe*0x1)],_0x49af61['y']),_0x49af61['z']=_0x44c042(_0x1afc84[_0x5c9901+(-0x16b*0xf+0xf1*-0x9+0x67*0x4a)],_0x1afc84[_0x5c9901+(-0xef9*0x2+-0xfa5+0x2da2)],_0x49af61['z'])),_0x51e370&&(_0x5e7e85(_0x51e370,_0x1d16c3[_0x5b501a*_0x32e690+(-0x4*0x2e3+-0xe*-0x4f+0x73d)]),_0x30c239>0x7cb+0x2*-0xa13+0xc67&&(_0x51e370['x']=_0x44c042(_0x1afc84[_0x5c9901+(-0x7d*0x1e+0x11b6+-0x304)],_0x1afc84[_0x5c9901+(-0x2550+-0x20cb*-0x1+0x494)],_0x51e370['x']),_0x51e370['y']=_0x44c042(_0x1afc84[_0x5c9901+(0x49e*-0x6+-0x121*0x15+0x3376)],_0x1afc84[_0x5c9901+(0x82*0x1+0x9*-0x3dd+0x2253)],_0x51e370['y']),_0x51e370['z']=_0x44c042(_0x1afc84[_0x5c9901+(0x14a4+0x1021+0xc3d*-0x3)],_0x1afc84[_0x5c9901+(0x1d*-0x17+0xc74+-0x9c8)],_0x51e370['z']))),_0x444b69&&(_0x2589d7(_0x444b69,_0x1d16c3[_0x5b501a*_0x32e690+(-0x4*0x30+0x7*-0x33a+-0x31*-0x7a)]),_0x444b69['x']=_0x44c042(_0x1afc84[_0x5c9901+(-0x3*0xb64+-0x136*0x10+0x359e)],_0x1afc84[_0x5c9901+(-0x1fbc+0xdc*-0x2d+0x467d)],_0x444b69['x']),_0x444b69['y']=_0x44c042(_0x1afc84[_0x5c9901+(-0x1842+-0x1e90+0x36e5)],_0x1afc84[_0x5c9901+(0x2544+0x607+-0x2b35)],_0x444b69['y']),_0x444b69['z']=_0x44c042(_0x1afc84[_0x5c9901+(-0x78*-0x18+-0x131a+0x7ee)],_0x1afc84[_0x5c9901+(0x218c+-0x9b8*-0x2+-0x34e5)],_0x444b69['z'])),_0x4ab777&&(_0x2589d7(_0x4ab777,_0x1d16c3[_0x5b501a*_0x32e690+(0x1*0xf26+-0x1*-0x1ec9+0x3*-0xf4e)]),_0x4ab777['x']=_0x44c042(_0x1afc84[_0x5c9901+(0x397*0x3+0x9e+0x3b*-0x31)],_0x1afc84[_0x5c9901+(-0x7*0x2ef+-0xe1c+0x22be)],_0x4ab777['x']),_0x4ab777['y']=_0x44c042(_0x1afc84[_0x5c9901+(0x8ef*0x3+-0x20cc+-0x7*-0xdf)],_0x1afc84[_0x5c9901+(0x488+0xc73+-0x2d*0x60)],_0x4ab777['y'])),_0x48f8ad&&_0x169c1d>0xa5f*0x1+0x81b+-0xa*0x1d9){const _0x30f2b9=[_0x1d5aea,_0x50ddf2,_0x8bc1fa];for(let _0x4a7869=0xf63+0x1*0x1df+-0x1*0x1142;_0x4a7869<0x1e76+0x3*-0x58f+-0xdc6;++_0x4a7869)for(let _0x34c31c=0x526*-0x2+0x1535+-0xae9;_0x34c31c<-0x1*-0x481+0x8d1+-0x23*0x61;++_0x34c31c)_0x48f8ad[_0x4a7869*(0xb51+-0xaf1*0x3+0x1591)+_0x34c31c]=_0x34c31c<_0x54e2f4?_0x30f2b9[_0x4a7869][_0x5b501a*(-0x20cd+0xbdd*0x1+-0xc*-0x1c0)+_0x34c31c]*((0x2b2*0x8+-0x9b*-0x25+0x45*-0xa3)/(-0x2*0x49a+0xb7*0x29+-0x2*0x98e))-(0xf92+-0x1*-0x2671+-0x259*0x17):-0x17*0xbb+-0x673*0x1+0x5d0*0x4;}};}}class ak{constructor(){h(this,'numSplats'),h(this,'comments'),h(this,'chunkData'),h(this,'vertexData'),h(this,'is4D'),h(this,'shData0'),h(this,'shData1'),h(this,'shData2'),h(this,'shBands');}['createIter'](_0x2549cc,_0x4d5179,_0x3348d2,_0x346cf9,_0x5cfb34,_0x5911d1,_0x54403f){return new rk(this,_0x2549cc,_0x4d5179,_0x3348d2,_0x346cf9,_0x5cfb34,_0x5911d1,_0x54403f);}['calcAabb'](_0x2ce24c){const {chunkData:_0x585b0e,numChunks:_0x4b8729,chunkSize:_0x4284ce}=this;let _0x17cce8=Math['exp'](Math['max'](_0x585b0e[-0x5f7+0x168c+-0x3*0x584],_0x585b0e[-0xd5b*0x1+-0x1099+0x1dfe],_0x585b0e[0x14f9+0xd83+-0x2271])),_0x110bdf=_0x585b0e[-0x5ea*0x3+0x1*-0x2249+-0x13*-0x2bd]-_0x17cce8,_0x4f6617=_0x585b0e[-0x137*0x1b+0xc3f+-0x13*-0x115]-_0x17cce8,_0x3ad34e=_0x585b0e[0x5*0x47b+-0x1df9+0x794]-_0x17cce8,_0x238de9=_0x585b0e[0x9b9+-0x1*0x66f+-0x347*0x1]+_0x17cce8,_0x1325b1=_0x585b0e[0x1f69+-0x1d*0x1+-0x1f48]+_0x17cce8,_0x4169aa=_0x585b0e[-0x3f1*0x7+-0x3d*0x61+0x32b9]+_0x17cce8;for(let _0x16e3cd=0x7*0x325+0x1*0xdb4+-0x23b6;_0x16e3cd<_0x4b8729;++_0x16e3cd){const _0x111e7a=_0x16e3cd*_0x4284ce;_0x17cce8=Math['exp'](Math['max'](_0x585b0e[_0x111e7a+(-0xf92+-0x1b*-0xb3+-0x346)],_0x585b0e[_0x111e7a+(0x1cd9+0x6d1+-0x23a0)],_0x585b0e[_0x111e7a+(-0x2*-0x481+0x1bea+-0x24e1)])),_0x110bdf=Math['min'](_0x110bdf,_0x585b0e[_0x111e7a+(0x1fd2+0x389*0x4+-0x35*0xde)]-_0x17cce8),_0x4f6617=Math['min'](_0x4f6617,_0x585b0e[_0x111e7a+(0x19*0xcd+-0x565+0x13*-0xc5)]-_0x17cce8),_0x3ad34e=Math['min'](_0x3ad34e,_0x585b0e[_0x111e7a+(0x11f8+0x157a+0x13b8*-0x2)]-_0x17cce8),_0x238de9=Math['max'](_0x238de9,_0x585b0e[_0x111e7a+(0x6dc*0x3+0x2*0xd0c+-0x2ea9)]+_0x17cce8),_0x1325b1=Math['max'](_0x1325b1,_0x585b0e[_0x111e7a+(-0x2*0x641+0x1231*0x1+-0x5ab)]+_0x17cce8),_0x4169aa=Math['max'](_0x4169aa,_0x585b0e[_0x111e7a+(-0xdf+-0x5*-0x7c7+-0x25ff)]+_0x17cce8);}return _0x2ce24c['center']['set']((_0x110bdf+_0x238de9)*(-0x16fc+-0x7*0x57a+0x3d52+0.5),(_0x4f6617+_0x1325b1)*(-0x2647*-0x1+0xb5f+-0x31a6+0.5),(_0x3ad34e+_0x4169aa)*(-0x2*0xd06+0xf9f*0x2+0x10a*-0x5+0.5)),_0x2ce24c['halfExtent'+'s']['set']((_0x238de9-_0x110bdf)*(0x1*-0x1163+-0x25d6+0x1*0x3739+0.5),(_0x1325b1-_0x4f6617)*(0x103f*0x1+0x1*-0x1855+0x816+0.5),(_0x4169aa-_0x3ad34e)*(-0x16c7+-0xc82*-0x3+-0x97*0x19+0.5)),!(-0x1*-0x127d+0x248e+-0x1*0x370b);}['getCenters'](_0x2d9f51){const {vertexData:_0x318202,chunkData:_0xe38263,numChunks:_0x4db590,chunkSize:_0x2a912d}=this;let _0x41f627,_0x4d57b8,_0x3b0237,_0x5ca72b,_0x3631a7,_0x2503da;for(let _0x3e9657=-0x1d3d+-0x2090+-0x4c1*-0xd;_0x3e9657<_0x4db590;++_0x3e9657){const _0x2126f7=_0x3e9657*_0x2a912d;_0x41f627=_0xe38263[_0x2126f7+(0xbdb+-0xe6a*0x2+0x18b*0xb)],_0x4d57b8=_0xe38263[_0x2126f7+(0x20b4+0x28c*-0xc+-0x223)],_0x3b0237=_0xe38263[_0x2126f7+(0x43a*-0x5+-0xe*0x149+-0x1*-0x2722)],_0x5ca72b=_0xe38263[_0x2126f7+(-0x25*0x57+0x1b1*-0x9+0x1bcf)],_0x3631a7=_0xe38263[_0x2126f7+(0x533*0x5+0x1*0x1743+-0x2*0x189f)],_0x2503da=_0xe38263[_0x2126f7+(-0x1*0xd83+-0x128*0x11+0x2130)];const _0x2824af=Math['min'](this['numSplats'],(_0x3e9657+(0x580+0x2*0x94f+-0x181d*0x1))*(0x12d6+0x136+-0x130c));for(let _0x14930c=_0x3e9657*(-0x5*0x6f+0x2660+-0x2335*0x1);_0x14930c<_0x2824af;++_0x14930c){const _0xd7484f=_0x318202[_0x14930c*(0x2b*-0x67+-0xdf8+-0x1f49*-0x1)],_0x592b73=(_0xd7484f>>>-0x3*-0x81e+0x1*-0xb2a+-0xd1b)/(-0x24b4+-0x1*-0x1d6f+0xf44),_0x58ade6=(_0xd7484f>>>0x6*-0x213+-0x22c7+-0x79*-0x64&0x1156+0x35*-0x3+-0xcb8)/(-0x137d+-0x2*0x595+0x22a6),_0x58414e=(_0xd7484f&-0x14c6+-0x6a5+0x6*0x5e7)/(-0xa7c+-0x3c4*-0x4+0x36b);_0x2d9f51[_0x14930c*(0x7*-0x31+0x265c+0x6*-0x62b)+(0xa4a+0x2f*-0x29+-0x2c3)]=(-0x1fff+0x2693+-0x693-_0x592b73)*_0x41f627+_0x592b73*_0x5ca72b,_0x2d9f51[_0x14930c*(0x1e93+0x1b04+0xb84*-0x5)+(0x255a+0x214b+0x19b*-0x2c)]=(-0x9d2+0x1*0x109d+0x9e*-0xb-_0x58ade6)*_0x4d57b8+_0x58ade6*_0x3631a7,_0x2d9f51[_0x14930c*(-0x10a9+0x239f+-0x31*0x63)+(0x1321+0xbe7+-0x1f06)]=(0xb79*-0x1+0x1*0x1967+-0xded-_0x58414e)*_0x3b0237+_0x58414e*_0x2503da;}}}['getChunks'](_0x227c2a){const {chunkData:_0x37db10,numChunks:_0x5ced09,chunkSize:_0x26ccf5}=this;let _0x6d35b1,_0x3802bc,_0x36ea52,_0x1cf77d,_0x49ea3e,_0x18f1a1;for(let _0x21e2b9=0xc*-0x13d+0x1eb*-0x6+-0x2d*-0x96;_0x21e2b9<_0x5ced09;++_0x21e2b9){const _0x3725c9=_0x21e2b9*_0x26ccf5;_0x6d35b1=_0x37db10[_0x3725c9+(0x540+-0x1554+0x24c*0x7)],_0x3802bc=_0x37db10[_0x3725c9+(0x935+-0x7*-0x189+-0x13f3)],_0x36ea52=_0x37db10[_0x3725c9+(0x1186+-0x2663+-0x6f5*-0x3)],_0x1cf77d=_0x37db10[_0x3725c9+(0x2*-0xeef+-0x454+0x2235)],_0x49ea3e=_0x37db10[_0x3725c9+(-0x15*0xba+-0x211a+-0x204*-0x18)],_0x18f1a1=_0x37db10[_0x3725c9+(0xc46+-0x251+-0x9f0)],_0x227c2a[_0x21e2b9*(-0xb47*0x3+0x6e6*0x4+0xe5*0x7)+(-0x1f04+-0x4b1*-0x6+-0x2de*-0x1)]=_0x6d35b1,_0x227c2a[_0x21e2b9*(0x1*0x977+0x6b4+-0x1025)+(0x1fb*0x3+0x292*0x8+-0x40*0x6a)]=_0x3802bc,_0x227c2a[_0x21e2b9*(-0x18c8+-0x8*0x77+-0x3*-0x982)+(-0x1bc9+0x719+0x2*0xa59)]=_0x36ea52,_0x227c2a[_0x21e2b9*(0x6e+0x2425+0x3*-0xc2f)+(-0xf*0x1d1+0x1*0x9c2+0x1180)]=_0x1cf77d,_0x227c2a[_0x21e2b9*(0x1ec9*0x1+0x1505*-0x1+-0x9be)+(-0x7eb*-0x4+-0x1c*0xf4+-0x4f8)]=_0x49ea3e,_0x227c2a[_0x21e2b9*(0xec4+0x4e4*-0x3+-0x12*0x1)+(0x26da+-0xd51+-0x1984)]=_0x18f1a1;}}['calcFocalP'+'oint'](_0x3e3c7b){const {chunkData:_0x77934,numChunks:_0x1fbbd3,chunkSize:_0x1ff6f0}=this;_0x3e3c7b['x']=-0x25ae+0x188e+0xd20,_0x3e3c7b['y']=-0xb33+-0x2b4*-0x7+-0x7b9,_0x3e3c7b['z']=0x1*-0x2af+-0x17ff+0x1aae;for(let _0x324dc5=-0x1b51+-0x200+0x1d51*0x1;_0x324dc5<_0x1fbbd3;++_0x324dc5){const _0x41c6ce=_0x324dc5*_0x1ff6f0;_0x3e3c7b['x']+=_0x77934[_0x41c6ce+(0x14fd+-0x72e+-0xdcf)]+_0x77934[_0x41c6ce+(-0x1b59+-0x949+0x24a5)],_0x3e3c7b['y']+=_0x77934[_0x41c6ce+(-0x1c11+-0x1878+0x348a)]+_0x77934[_0x41c6ce+(0x6*0x567+0x49*0xf+-0x24ad)],_0x3e3c7b['z']+=_0x77934[_0x41c6ce+(-0xdf*-0x15+-0xdfb+-0x44e)]+_0x77934[_0x41c6ce+(-0x475+0x1*0x1c3f+-0x17c5)];}_0x3e3c7b['mulScalar']((0x449*-0x8+0x2558+-0xe*0x38+0.5)/_0x1fbbd3);}get['isCompress'+'ed'](){return!(0x1453+-0x11a4+0x1*-0x2af);}get['numChunks'](){return Math['ceil'](this['numSplats']/(0x13b*-0x19+-0x8fc+0x28bf));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}async['decompress'](){const _0x286274=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x49827b}=this;if(_0x49827b>-0x1*-0x1453+0x14dd+-0x2930){const _0x193b6b=[];for(let _0x283f49=0x3*0x4+0x3*-0x317+0x939;_0x283f49<0xb9e+0xfd0+0x1b41*-0x1;++_0x283f49)_0x193b6b['push']('f_rest_'+_0x283f49);_0x286274['splice'](_0x286274['indexOf']('f_dc_0')+(-0xbe4*-0x1+-0x1*0x417+0x2*-0x3e6),-0x865*0x1+0x190b+-0x1*0x10a6,..._0x193b6b);}const _0xcf671a=new ik();return _0xcf671a['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData0'],this['shData1'],this['shData2'],this['shBands']),new Promise((_0x482640,_0x298bc2)=>{_0xcf671a['on']('decompress'+'ed',_0x99d850=>{_0xcf671a['destroy'](),_0x482640(new qn([{'name':'vertex','count':this['numSplats'],'properties':_0x286274['map'](_0x42e336=>({'type':'float','name':_0x42e336,'storage':_0x99d850[_0x42e336],'byteSize':0x4}))}],this['comments']));});});}}async function nk(){const _0x3f0d28='super4d-ca'+'che-v1',_0x45cfa6={'maxAge':0x9a7ec800,'maxSize':0x280000000},_0x4906b6=new Uint8Array([-0x142b+-0x1*0x1b77+0x3012,0x2402+-0xa1e*-0x1+-0x2db4,0xfe9*-0x1+0x49e*0x8+0x6da*-0x3,0x179c+0x919+-0x20ab]),_0x44b66f=new Uint8Array([-0x6e5+0xf*0x1c5+-0x139c,0x1215+0x1e9b*0x1+-0x304b,0x12*0x144+-0xf4d*-0x1+0x33*-0xbd,-0x841*-0x2+-0x3*-0xb89+-0x32b9,0xa*-0x54+-0x1*0xd2a+-0x7b*-0x23,0x81e+0x55*-0x33+0x313*0x3,0x27b*-0x3+-0x1d*-0x6b+-0x449*0x1,0x1*-0x568+-0x47*-0x4d+-0xf92,-0x1*-0x167+0x1aef+0x2*-0xdf9,0xfa2+0xa7c+-0x19b9,0x242f+0x11*-0x3b+-0x2*0xfe9,-0x2*-0x6d+-0x449+0x379]),_0x32948e=0x805+0x1*0x21f3+-0x29f8+0.28209479177387814,_0x11ba9a=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class _0x4be1cf{constructor(_0x4f2a2e={}){this['options']={..._0x45cfa6,..._0x4f2a2e},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=0x84e*-0x2+-0x17a+0x1216,this['initialize'+'d']=!(-0x5f3*-0x1+0xa6b+-0x1*0x105d);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x3f0d28);const _0x5e2c5e=await this['cache']['keys'](),_0x435290=[];for(const _0x36880d of _0x5e2c5e){const _0x3f75ac=_0x36880d['url'],_0x182736=await this['cache']['match'](_0x3f75ac);if(_0x182736){const _0xd9151=(await _0x182736['blob']())['size'],_0x5f3ef6=_0x182736['headers']['get']('x-cache-ti'+'me');_0x5f3ef6&&_0x435290['push']({'url':_0x3f75ac,'size':_0xd9151,'cacheTime':parseInt(_0x5f3ef6)});}}_0x435290['sort']((_0x46416f,_0xbaf79b)=>_0x46416f['cacheTime']-_0xbaf79b['cacheTime']);for(const _0x149d38 of _0x435290)this['cacheSizes']['set'](_0x149d38['url'],_0x149d38['size']),this['currentSiz'+'e']+=_0x149d38['size'],this['lruList']['push'](_0x149d38['url']);}catch(_0x3af5bc){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x3af5bc);}this['initialize'+'d']=!(0x1d72+0x1f86+-0xf3e*0x4);}}async['get'](_0x2c0840){if(await this['init'](),!this['cache'])return null;try{const _0x247c54=await this['cache']['match'](_0x2c0840);if(!_0x247c54)return null;const _0x2dbb07=_0x247c54['headers']['get']('x-cache-ti'+'me');return _0x2dbb07&&Date['now']()-parseInt(_0x2dbb07)>this['options']['maxAge']?(await this['delete'](_0x2c0840),null):(this['updateLRU'](_0x2c0840),_0x247c54);}catch{return null;}}async['set'](_0xa9be34,_0x458e4b){if(!(!this['cache']||_0xa9be34['startsWith']('blob:')))try{const _0x19f57d=_0x458e4b['clone'](),_0x4247c0=await _0x19f57d['blob'](),_0x1e1c71=_0x4247c0['size'];this['currentSiz'+'e']+_0x1e1c71>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x1e1c71);const _0x1cdcff=new Headers(_0x19f57d['headers']);_0x1cdcff['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x58964d=new Response(_0x4247c0,{'status':_0x19f57d['status'],'statusText':_0x19f57d['statusText'],'headers':_0x1cdcff});await this['cache']['put'](_0xa9be34,_0x58964d),this['cacheSizes']['set'](_0xa9be34,_0x1e1c71),this['currentSiz'+'e']+=_0x1e1c71,this['updateLRU'](_0xa9be34);}catch(_0x9211cf){console['error']('Cache\x20set\x20'+'error:',_0x9211cf);}}['updateLRU'](_0x1ee9e0){const _0x3294f2=this['lruList']['indexOf'](_0x1ee9e0);_0x3294f2>-(0x1a62+0x14b0+-0x2f11)&&this['lruList']['splice'](_0x3294f2,0xa04+-0x1295+0x892),this['lruList']['push'](_0x1ee9e0);}async['cleanupSpa'+'ce'](_0xbc8b6a){const _0x17e1a5=this['options']['maxSize']*(0x2c*0xcf+0x16b5+-0x1*0x3a49+0.9);if(!(this['currentSiz'+'e']<=_0x17e1a5))for(;this['lruList']['length']>0xea5+0x26c+-0x1111&&this['currentSiz'+'e']>_0x17e1a5;){const _0x57e07d=this['lruList']['shift']();_0x57e07d&&await this['delete'](_0x57e07d);}}async['delete'](_0x1032d2){if(this['cache'])try{await this['cache']['delete'](_0x1032d2);const _0x514a63=this['cacheSizes']['get'](_0x1032d2)||0x1fd4+0xd54*-0x1+-0x1280;this['currentSiz'+'e']-=_0x514a63,this['cacheSizes']['delete'](_0x1032d2);const _0x123a0d=this['lruList']['indexOf'](_0x1032d2);_0x123a0d>-(0x606+0x1*0x142+-0x747)&&this['lruList']['splice'](_0x123a0d,0xa3*-0x35+-0xdb*0x12+0x3126);}catch(_0x1f805a){console['error']('Cache\x20dele'+'te\x20error:',_0x1f805a);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0x14cc68=>Promise['all'](_0x14cc68['map'](_0xc42165=>{var _0x2058d5;return(_0x2058d5=this['cache'])==null?void(-0x615+-0x8*0xf1+-0x29*-0x55):_0x2058d5['delete'](_0xc42165);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0x181*0x5+-0x1c99+0x2*0x120f;}catch(_0x2519ba){console['error']('Cache\x20clea'+'r\x20error:',_0x2519ba);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0x1731+0x403+-0x1b34;}}class _0x5deb79{constructor(_0x582122=[],_0x129d43={}){this['cacheManag'+'er']=new _0x4be1cf(_0x129d43['cache']),this['retryCount']=_0x129d43['retryCount']||0xcfc*0x2+-0x17b*-0x11+-0x3320,this['retryDelay']=_0x129d43['retryDelay']||-0x8c3*0x1+-0x527+0x1*0xfde,this['maxConcurr'+'ency']=_0x129d43['maxConcurr'+'ency']||0x2b9+0x1be*-0xa+-0x4e7*-0x3,this['downloadQu'+'eue']=_0x582122,this['isProcessi'+'ngDownload'+'Queue']=!(-0x1924+-0x1*-0x301+0x34*0x6d),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(0x1*0xd92+0x2375+-0x3107);this['downloadQu'+'eue']['length']>0x682*0x1+-0x2c*0xb5+-0x5e*-0x43;)try{const _0x432a72=this['downloadQu'+'eue']['splice'](-0x209*0xb+0x1dd7+-0x774,this['maxConcurr'+'ency'])['map'](_0x2bbbb4=>{if(!this['pendingRes'+'ponses']['has'](_0x2bbbb4)){const _0x12e8ba=this['download'](_0x2bbbb4);return this['pendingRes'+'ponses']['set'](_0x2bbbb4,_0x12e8ba),_0x12e8ba['then'](()=>{this['pendingRes'+'ponses']['delete'](_0x2bbbb4);});}return Promise['resolve']();});await Promise['all'](_0x432a72);}catch(_0x19e778){console['error']('Download\x20e'+'rror:',_0x19e778);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(0x1*-0x156b+0x2408+-0xe9c);}}}async['fetch'](_0x5d0bdc,_0x29064f={}){if(this['pendingRes'+'ponses']['has'](_0x5d0bdc))return this['pendingRes'+'ponses']['get'](_0x5d0bdc);const {forceRefresh:_0x116ba2=!(-0x1182+0x2565+0x5*-0x3fa),..._0x40eed0}=_0x29064f;this['pendingRes'+'ponses']['set'](_0x5d0bdc,this['download'](_0x5d0bdc,_0x40eed0));const _0x2ea90c=await this['pendingRes'+'ponses']['get'](_0x5d0bdc);return this['pendingRes'+'ponses']['delete'](_0x5d0bdc),_0x2ea90c;}async['download'](_0x14ad06,_0x2c02a6={}){var _0x14f6e6;await((_0x14f6e6=this['cacheManag'+'er'])==null?void(-0x1762+-0x1774*-0x1+0x6*-0x3):_0x14f6e6['init']());const {forceRefresh:_0x3a7b97=!(0xdcc*0x1+0x174d+0x1*-0x2518),..._0x445049}=_0x2c02a6;_0x3a7b97&&await this['cacheManag'+'er']['delete'](_0x14ad06);const _0x6dc511=await this['cacheManag'+'er']['get'](_0x14ad06);if(_0x6dc511)return _0x6dc511;let _0x376f78;for(let _0x392d30=-0x1d4+-0xfd3+0x11a7;_0x392d30<this['retryCount'];_0x392d30++)try{const _0x2ad170=await fetch(_0x14ad06,_0x445049);if(!_0x2ad170['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x2ad170['status']);return await this['cacheManag'+'er']['set'](_0x14ad06,_0x2ad170),_0x2ad170;}catch(_0xd294ee){console['error']('Download\x20e'+'rror:',_0xd294ee),_0x376f78=_0xd294ee,_0x392d30<this['retryCount']-(-0x46*0x79+0x2603+-0x4ec)&&await new Promise(_0x537306=>setTimeout(_0x537306,this['retryDelay']*(_0x392d30+(-0x244*-0x11+-0x13bc+-0xb*0x1b5))));}throw _0x376f78;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){this['cacheManag'+'er']['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(0x1*-0x1ab7+0x1fb8+0x10*-0x50),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0x1cabe7{constructor(){this['numSplats']=0x29*0x41+0x1693+0x2*-0x107e,this['comments']=[],this['chunkData']=new Float32Array(0xce5*0x2+-0x24a5+0xadb),this['vertexData']=new Uint32Array(0x224e+-0x13f+-0x210f),this['is4D']=!(-0x3*0xc7a+0xaad+0x9*0x2f9),this['shBands']=-0x1029+-0x659+-0x2b*-0x86,this['shData0']=new Uint8Array(-0x791*-0x1+-0x1cac+0x151b),this['shData1']=new Uint8Array(0x1*0x10b5+0x2d9*-0x6+0x61),this['shData2']=new Uint8Array(-0x2064+-0x214f+0x41b3),this['elements']=[],this['isCompress'+'ed']=!(-0x19e5+0x1*-0x23fc+0x3de1);}get['numChunks'](){return Math['ceil'](this['numSplats']/(-0x1*0xd6e+0x264f+0x17e1*-0x1));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}}class _0x5761e4{constructor(_0x420301,_0x5f321d=[]){this['elements']=_0x420301,this['comments']=_0x5f321d,this['isCompress'+'ed']=!(-0x17c6+0xd5b+0x17*0x74);}}class _0x1a4edc{constructor(_0x5c93b2,_0x2e3e1f){this['reader']=_0x5c93b2,this['progressFu'+'nc']=_0x2e3e1f,this['head']=0x1d7e+-0xf1*-0x27+0x4235*-0x1,this['tail']=-0xd43+-0x63d*-0x6+-0x10d*0x17;}async['read'](){var _0x20cca3;const {value:_0x411ee1,done:_0x1d657e}=await this['reader']['read']();if(_0x1d657e)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x411ee1),(_0x20cca3=this['progressFu'+'nc'])==null||_0x20cca3['call'](this,_0x411ee1['byteLength']);}['push'](_0x524e0f){if(!this['data'])this['data']=_0x524e0f,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x524e0f['length'];else{const _0x2c3f50=this['tail']-this['head'],_0x8f9a53=_0x2c3f50+_0x524e0f['length'];if(this['data']['length']>=_0x8f9a53)this['head']>-0x225+0x2043+-0x1e1e?(this['data']['copyWithin'](0xb4c+-0x1b6d+-0x1*-0x1021,this['head'],this['tail']),this['data']['set'](_0x524e0f,_0x2c3f50),this['head']=0x26fb+0x105+-0x2800,this['tail']=_0x8f9a53):(this['data']['set'](_0x524e0f,this['tail']),this['tail']+=_0x524e0f['length']);else{const _0x1ad953=new Uint8Array(_0x8f9a53);this['head']>0x1d7f+0x1e71+-0x89*0x70||this['tail']<this['data']['length']?_0x1ad953['set'](this['data']['subarray'](this['head'],this['tail']),-0x8e8+0x2a5*-0x7+-0x1b6b*-0x1):_0x1ad953['set'](this['data'],-0x1*-0x1eb5+-0x84a*0x2+-0x1*0xe21),_0x1ad953['set'](_0x524e0f,_0x2c3f50),this['data']=_0x1ad953,this['view']=new DataView(this['data']['buffer']),this['head']=-0x2176+-0x1b*0x25+0x255d,this['tail']=_0x8f9a53;}}}['compact'](){this['head']>-0x1d1c+0x18e2+-0x1*-0x43a&&(this['data']['copyWithin'](-0x1*-0x12ec+0x18bb+-0x2ba7,this['head'],this['tail']),this['tail']-=this['head'],this['head']=-0x3*-0x8a9+0xeb5+-0x28b0);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x2a0a14=this['view']['getInt8'](this['head']);return this['head']++,_0x2a0a14;}['getUint8'](){const _0x25e04c=this['view']['getUint8'](this['head']);return this['head']++,_0x25e04c;}['getInt16'](){const _0x51716f=this['view']['getInt16'](this['head'],!(-0xf9*0x19+0x6d0*-0x2+0x1*0x25f1));return this['head']+=0x1ef*0x13+-0x9b+-0x2420,_0x51716f;}['getUint16'](){const _0xd6c337=this['view']['getUint16'](this['head'],!(-0x23be+0x3*0x2fe+0x1ac4));return this['head']+=-0x1e5f+-0x7*0x68+0x2139,_0xd6c337;}['getInt32'](){const _0x2346b3=this['view']['getInt32'](this['head'],!(0x7*0x29+-0x207b+0x1f5c));return this['head']+=0xca2+0x1381+-0x201f,_0x2346b3;}['getUint32'](){const _0xd15be3=this['view']['getUint32'](this['head'],!(-0x2694*0x1+0x1*0x1ce1+-0xbf*-0xd));return this['head']+=-0x1d4b*-0x1+-0x63d+0x1*-0x170a,_0xd15be3;}['getFloat32'](){const _0x3730b7=this['view']['getFloat32'](this['head'],!(-0x28a+0x1ce9+-0x9d*0x2b));return this['head']+=0x200f+-0x2335*0x1+0x32a,_0x3730b7;}['getFloat64'](){const _0x2b59e0=this['view']['getFloat64'](this['head'],!(-0x18ed+0x98e*-0x1+0x227b));return this['head']+=0x18df+0x7d1+-0x20a8,_0x2b59e0;}}class _0x43549f{constructor(_0x5c8c7c,_0x5aa152,_0x3d1748){this['x']=_0x5c8c7c,this['y']=_0x5aa152,this['z']=_0x3d1748;}}class _0x4c1e75{constructor(_0x36acc6,_0x5836ab,_0x493f82,_0x596eb6){this['x']=_0x36acc6,this['y']=_0x5836ab,this['z']=_0x493f82,this['w']=_0x596eb6;}}class _0x8f03e1{constructor(_0x36f1a7,_0x36f995,_0x21af8c,_0x37de13){this['x']=_0x36f1a7,this['y']=_0x36f995,this['z']=_0x21af8c,this['w']=_0x37de13;}['set'](_0xd12555,_0x478dc1,_0x3a0b7c,_0x20ed32){this['x']=_0xd12555,this['y']=_0x478dc1,this['z']=_0x3a0b7c,this['w']=_0x20ed32;}}class _0xce681c{constructor(_0x292b00,_0xda053e,_0x145d88,_0x10e136,_0x2c7e1f,_0x2264cf,_0x372225,_0x2577e0,_0x27f04c,_0x2c86d9,_0x9f86d6,_0x3d60bc,_0x333006,_0x3093b6){const _0x89ed67=(_0x3206f9,_0x10e112)=>{const _0x65de09=(-0x1b47+0x1e96+0x5e*-0x9<<_0x10e112)-(0x14*-0x6f+0x1dc3+-0x1516);return(_0x3206f9&_0x65de09)/_0x65de09;},_0x17445a=(_0x2e4037,_0x647e4e)=>{_0x2e4037['x']=_0x89ed67(_0x647e4e>>>0x4b5+0xf23+0x13c3*-0x1,-0x2677+-0x1736+-0x278*-0x19),_0x2e4037['y']=_0x89ed67(_0x647e4e>>>0x2*-0x2ba+0x6d9*0x1+-0x15a,-0x8*0x158+0x1c7b*0x1+-0x11b1),_0x2e4037['z']=_0x89ed67(_0x647e4e,-0x1186+0x54d*-0x1+0x16de);},_0x1e8c2d=(_0x484c2a,_0x3bad74)=>{_0x484c2a['x']=_0x89ed67(_0x3bad74>>>-0x361*0x3+-0x2075+-0x10*-0x2ab,-0x133b+0x400+0x1*0xf43),_0x484c2a['y']=_0x89ed67(_0x3bad74>>>0x1*-0x1fe9+-0x44*-0x1b+0x1*0x18cd,0x301+0x1357+0x22*-0xa8),_0x484c2a['z']=_0x89ed67(_0x3bad74>>>-0x1cb3+0x1*0x24b3+-0xcc*0xa,0x26*-0x4b+-0xdf5+-0x191f*-0x1),_0x484c2a['w']=_0x89ed67(_0x3bad74,-0x1327+0x99b+0x994);},_0x389ce1=(_0x2f482b,_0xe9d4b1)=>{const _0x6b4f08=(0x90a+0x106e+-0x87d*0x3)/(Math['sqrt'](0x2092+0x1*-0x1d10+-0x70*0x8)*(0x641*0x6+-0xf*0x1d3+-0xa29+0.5)),_0x26545e=(_0x89ed67(_0xe9d4b1>>>-0x19*-0x61+-0x1cfc+0x1397,0xdad*0x1+-0x1*0x853+0x4*-0x154)-(0x1639+-0x1*-0x14b3+0x4*-0xabb+0.5))*_0x6b4f08,_0x5bcab3=(_0x89ed67(_0xe9d4b1>>>0xd*-0x25+0x2225+-0x203a,-0xbde+0x2013+-0x142b)-(-0x25ba+-0x1ca7+0x4261+0.5))*_0x6b4f08,_0x1cd847=(_0x89ed67(_0xe9d4b1,0x22*-0xd6+0x4ff*0x5+0x37b)-(0x2f*0x41+0x5*0x550+-0x5*0x7b3+0.5))*_0x6b4f08,_0x4dc8a1=Math['sqrt'](0xaaf+0x228f+-0x2d3d-(_0x26545e*_0x26545e+_0x5bcab3*_0x5bcab3+_0x1cd847*_0x1cd847));switch(_0xe9d4b1>>>0xf09+-0x1dde+-0xef3*-0x1){case 0x679*-0x3+0x1c25+0x8ba*-0x1:_0x2f482b['set'](_0x26545e,_0x5bcab3,_0x1cd847,_0x4dc8a1);break;case 0x2087*-0x1+0x261*0x1+0x1e27:_0x2f482b['set'](_0x4dc8a1,_0x5bcab3,_0x1cd847,_0x26545e);break;case-0x14b*-0x17+-0x1e01*-0x1+-0x1*0x3bbc:_0x2f482b['set'](_0x5bcab3,_0x4dc8a1,_0x1cd847,_0x26545e);break;case-0x1307*-0x2+0x109*-0x22+-0x2d9:_0x2f482b['set'](_0x5bcab3,_0x1cd847,_0x4dc8a1,_0x26545e);break;}},_0x5dcc5=(_0x2fd307,_0x4e1c63,_0x5c7d65)=>_0x2fd307*(-0xbd3+-0x1*-0x26c1+-0x1aed*0x1-_0x5c7d65)+_0x4e1c63*_0x5c7d65,_0x3a0574=[0xf4f+-0x1a89+0xb3d,-0x16*0xfc+-0x13*-0x1da+-0x9d*0x16,0x6f7*-0x2+-0x1*0x163c+0x2439][_0x372225-(-0x18b*-0x13+0x264c+0x4*-0x10e7)],_0x7546d1=-0x2c6+-0x9c1+0xc8d;this['read']=_0x527e3f=>{const _0x44d885=Math['floor'](_0x527e3f/(0x1ea3+0xc27+-0x29ca))*_0xda053e;if(_0x2577e0&&(_0x17445a(_0x2577e0,_0x145d88[_0x527e3f*_0x7546d1+(0x23f5+0xaee+-0x2ee3)]),_0x2577e0['x']=_0x5dcc5(_0x292b00[_0x44d885+(-0x162+0x1b3e+-0x5*0x52c)],_0x292b00[_0x44d885+(0x1307+-0x1354+0xa*0x8)],_0x2577e0['x']),_0x2577e0['y']=_0x5dcc5(_0x292b00[_0x44d885+(-0xc4*-0x2c+0x10d9+-0x2*0x1944)],_0x292b00[_0x44d885+(0x258e+-0x541*0x6+-0xe*0x6e)],_0x2577e0['y']),_0x2577e0['z']=_0x5dcc5(_0x292b00[_0x44d885+(-0x84e+0x1*0x35f+0x4f1)],_0x292b00[_0x44d885+(-0x19f6+-0x72a*0x1+0x2125*0x1)],_0x2577e0['z'])),_0x27f04c&&_0x389ce1(_0x27f04c,_0x145d88[_0x527e3f*_0x7546d1+(-0x856+0x9f*-0x1+0x8f6*0x1)]),_0x2c86d9&&(_0x17445a(_0x2c86d9,_0x145d88[_0x527e3f*_0x7546d1+(-0x8c9*0x2+-0x2bd*0x8+0x277c)]),_0x2c86d9['x']=_0x5dcc5(_0x292b00[_0x44d885+(-0x1ebb+0x17de+0x6e3)],_0x292b00[_0x44d885+(-0x1949+-0x1e10+0x3762)],_0x2c86d9['x']),_0x2c86d9['y']=_0x5dcc5(_0x292b00[_0x44d885+(-0x2*0xf62+0x1a23*0x1+0x254*0x2)],_0x292b00[_0x44d885+(0x262d+-0xa9e*-0x1+0x1*-0x30c1)],_0x2c86d9['y']),_0x2c86d9['z']=_0x5dcc5(_0x292b00[_0x44d885+(-0x1*0x2434+0x3a*-0xaa+0x4ac0)],_0x292b00[_0x44d885+(-0x1354+-0x19ae+0x2d0d)],_0x2c86d9['z'])),_0x9f86d6&&(_0x1e8c2d(_0x9f86d6,_0x145d88[_0x527e3f*_0x7546d1+(-0x1432+-0xe*0x95+0x3d*0x77)]),_0xda053e>-0x1383+0x382*-0xa+0x36a3&&(_0x9f86d6['x']=_0x5dcc5(_0x292b00[_0x44d885+(-0x4bf+0x13d6+-0xf0b)],_0x292b00[_0x44d885+(-0x1b41+0xa*-0x32f+0x3b26)],_0x9f86d6['x']),_0x9f86d6['y']=_0x5dcc5(_0x292b00[_0x44d885+(0x511+0xca*0x29+-0x2*0x12af)],_0x292b00[_0x44d885+(0x2214+-0x124e+0xfb6*-0x1)],_0x9f86d6['y']),_0x9f86d6['z']=_0x5dcc5(_0x292b00[_0x44d885+(0x7*0x1a6+0x1212+-0x1d8e)],_0x292b00[_0x44d885+(0xa2d+0x133*0x9+-0x14e7)],_0x9f86d6['z']))),_0x3d60bc&&(_0x17445a(_0x3d60bc,_0x145d88[_0x527e3f*_0x7546d1+(0x1*-0xd49+0x1*0x26ae+-0x1961)]),_0x3d60bc['x']=_0x5dcc5(_0x292b00[_0x44d885+(-0x1821+-0xb5d*0x3+0x9*0x67a)],_0x292b00[_0x44d885+(-0x1c16+-0x1*-0x1cdf+-0xb4)],_0x3d60bc['x']),_0x3d60bc['y']=_0x5dcc5(_0x292b00[_0x44d885+(0x2248+-0x2605+0x2*0x1e8)],_0x292b00[_0x44d885+(0x268a+0x1*0x3e5+-0x2a59)],_0x3d60bc['y']),_0x3d60bc['z']=_0x5dcc5(_0x292b00[_0x44d885+(0x2461+0x1*-0x17dd+-0xc70)],_0x292b00[_0x44d885+(0x1ee9*-0x1+-0x1d62+-0x3c62*-0x1)],_0x3d60bc['z'])),_0x333006&&(_0x17445a(_0x333006,_0x145d88[_0x527e3f*_0x7546d1+(-0x180c+0x24be+-0xcad)]),_0x333006['x']=_0x5dcc5(_0x292b00[_0x44d885+(-0x71*-0x27+-0x64*0x55+0x1015)],_0x292b00[_0x44d885+(0x1ecb*0x1+0x1d16+0x4*-0xef2)],_0x333006['x']),_0x333006['y']=_0x5dcc5(_0x292b00[_0x44d885+(0x1*-0x5ed+-0x11c6+0x17cd)],_0x292b00[_0x44d885+(0x70b*-0x3+0x76b*-0x3+0x1*0x2b7d)],_0x333006['y'])),_0x3093b6&&_0x372225>-0x14d2+-0x7be+0x1c90*0x1){const _0x1d5a31=[_0x10e136,_0x2c7e1f,_0x2264cf];for(let _0x5cbd64=0x9*0xad+0x2*0x9c1+-0x1997*0x1;_0x5cbd64<-0xf43+-0x1cc9+0x2c0f;++_0x5cbd64)for(let _0x2f87c2=0xcca*0x2+0xd*-0x1b8+0x2*-0x19e;_0x2f87c2<0xd00+0x1d22+-0x2a13*0x1;++_0x2f87c2)_0x3093b6[_0x5cbd64*(0x9*0x3b3+-0x3*0xc15+0x101*0x3)+_0x2f87c2]=_0x2f87c2<_0x3a0574?_0x1d5a31[_0x5cbd64][_0x527e3f*(-0x320+-0x3ba+-0x127*-0x6)+_0x2f87c2]*((0x8a9*0x2+0x446*0x3+-0x29*0xbc)/(-0x10c9+0x2703+-0x43f*0x5))-(0x7*-0x157+-0x29*-0x7c+-0xa77):0x145d+-0x150b+-0x1*-0xae;}};}}self['onmessage']=async _0xaadfc7=>{var _0x15c6cd,_0x267854,_0x51ce37;const {data:_0xbd78d8}=_0xaadfc7;switch(_0xbd78d8['type']){case'initWorker':globalThis['loadUrlLis'+'t']=_0xbd78d8['loadUrlLis'+'t'],globalThis['fetchWorke'+'r']=new _0x5deb79(globalThis['loadUrlLis'+'t']);break;case'destroyWor'+'ker':(_0x15c6cd=globalThis['fetchWorke'+'r'])==null||_0x15c6cd['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['loadUrlLis'+'t']=[];break;case'loadPly':const {url:_0x51cdb2,decompress:_0x53946b}=_0xbd78d8;try{globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x5deb79(globalThis['loadUrlLis'+'t']));const _0xb62d77=await globalThis['fetchWorke'+'r']['fetch'](_0x51cdb2);if(!_0xb62d77||!_0xb62d77['body'])self['postMessag'+'e']({'type':'error','data':'Error\x20load'+'ing\x20resour'+'ce','url':_0x51cdb2});else{const _0x15392d=parseInt(_0xb62d77['headers']['get']('content-le'+'ngth')??'0',-0x559*0x7+-0x592+0x2b0b*0x1);self['postMessag'+'e']({'type':'totalLengt'+'h','totalLength':_0x15392d,'bytes':0x0,'url':_0x51cdb2});let _0xe0e62c=await _0x55bc1f(_0xb62d77['body']['getReader'](),_0x59f8c9=>{self['postMessag'+'e']({'type':'progress','bytes':_0x59f8c9,'totalLength':_0x15392d,'url':_0x51cdb2});});if(_0x53946b&&_0xe0e62c['isCompress'+'ed']){const _0x15f7db=_0x42f430(_0xe0e62c),_0x2d974d=(_0x267854=_0x15f7db==null?void(0x1474+-0x9*-0x133+0x1*-0x1f3f):_0x15f7db['elements'][0xbe1+0x16d8+-0x1*0x22b9])==null?void(-0x8*0x1e5+0x1*0x1+0x1*0xf27):_0x267854['properties']['map'](_0x4537ae=>_0x4537ae['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0x15f7db,'url':_0x51cdb2},_0x2d974d);}else{if(_0xe0e62c['isCompress'+'ed']){const _0x44279c=['chunkData','vertexData'];_0xe0e62c['shData0']&&_0x44279c['push']('shData0','shData1','shData2');const _0x552c38=_0x44279c['map'](_0x4476b3=>{var _0x1c2677;return(_0x1c2677=_0xe0e62c[_0x4476b3])==null?void(0x1309+0x31a+-0x1623):_0x1c2677['buffer'];});self['postMessag'+'e']({'type':'splatData','data':_0xe0e62c,'url':_0x51cdb2},_0x552c38);}else{_0xe0e62c=_0xeaa7d0(_0xe0e62c);const _0x2875c3=(_0x51ce37=_0xe0e62c==null?void(-0x90a*0x1+0x4c1*0x2+0x2*-0x3c):_0xe0e62c['elements'][0xff3+0x61*-0x13+-0x23*0x40])==null?void(-0x1d8b+0x491*0x1+0x18fa*0x1):_0x51ce37['properties']['map'](_0x2b2bcd=>_0x2b2bcd['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0xe0e62c,'url':_0x51cdb2},_0x2875c3);}}}}catch(_0x1ef31f){self['postMessag'+'e']({'type':'error','data':_0x1ef31f['message'],'url':_0x51cdb2});}break;}};const _0xeaa7d0=_0x4d702f=>{var _0x1577aa;const _0x219060=(_0x1577aa=_0x4d702f==null?void(-0x722+0x18a5*0x1+-0x1183):_0x4d702f['elements'][-0x42d*0x7+-0x1841+-0x1e9*-0x1c])==null?void(-0x1b5c+-0x1*-0x1c78+-0x11c):_0x1577aa['properties']['find'](_0x397864=>_0x397864['name']==='opacity');if(_0x219060){for(let _0x274179=0x20c5+0x9b4+-0x83*0x53;_0x274179<_0x219060['storage']['length'];_0x274179++)_0x219060['storage'][_0x274179]=(0x1759+0x1*0x407+-0x1b5f)/(0x13*0x1a2+0xb*0xef+-0x294a+Math['exp'](-_0x219060['storage'][_0x274179]));}return _0x4d702f;},_0xfccfda=_0x5dfbe4=>{const _0x569536=[],_0x347d2f=[];let _0xc49cba;for(let _0x2047c5=-0xb*-0x22c+-0x8f5*0x3+0x2fc;_0x2047c5<_0x5dfbe4['length'];++_0x2047c5){const _0xa4ff37=_0x5dfbe4[_0x2047c5]['split']('\x20');switch(_0xa4ff37[-0x11b5+0xb57*-0x2+-0x7*-0x5c5]){case'comment':_0x347d2f['push'](_0xa4ff37['slice'](-0x11*-0x1e9+-0xa*-0x2+-0x1046*0x2)['join']('\x20'));break;case'format':_0xc49cba=_0xa4ff37[-0x12eb+-0x223+0x150f];break;case'element':_0x569536['push']({'name':_0xa4ff37[0x2*-0x1225+-0xd*0x133+0x1*0x33e2],'count':parseInt(_0xa4ff37[0x4*0x475+-0x17cf+-0xdb*-0x7],-0x61b*-0x3+-0x1678+-0x1d*-0x25),'properties':[]});break;case'property':{if(!_0x11ba9a['has'](_0xa4ff37[-0x551+-0x19c9+0x1f1b]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0xa4ff37[0x10*0x8c+-0x10d4+0x815]+('\x27\x20in\x20ply\x20h'+'eader'));_0x569536[_0x569536['length']-(0x1*0x170e+-0xaf*0x3+-0x1500)]['properties']['push']({'type':_0xa4ff37[-0x396+0xb6d+-0x7d6],'name':_0xa4ff37[0x1d9*-0xa+-0x213e+0x33ba],'storage':null,'byteSize':_0x11ba9a['get'](_0xa4ff37[-0x10d4+-0x3*-0x6d+0xf8e])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0xa4ff37[-0x195d+0x4ca+0xe5*0x17]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x569536,'format':_0xc49cba,'comments':_0x347d2f};},_0x29b08c=_0x5958a2=>{const _0x3e6934=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x57f8b9=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x50b426=new Array(0x162+-0x9*0x89+0x39c)['fill']('')['map']((_0xa22214,_0x251db6)=>'f_rest_'+_0x251db6),_0x142db5=()=>_0x5958a2[0xcd8+0xe60+-0x43*0x68]['name']==='chunk'&&_0x5958a2[0x213*0x2+0x69d*-0x1+0x277*0x1]['properties']['every']((_0x5716c1,_0x237204)=>_0x5716c1['name']===_0x3e6934[_0x237204]&&_0x5716c1['type']==='float')&&_0x5958a2[-0x85d*0x1+0x2*-0x130+-0x6e*-0x19]['name']==='vertex'&&_0x5958a2[-0xdef+-0x7f7*-0x1+0x5f9]['properties']['every']((_0x2be076,_0x1b7c81)=>_0x2be076['name']===_0x57f8b9[_0x1b7c81]&&_0x2be076['type']==='uint'),_0x3865d4=()=>_0x5958a2[0x1a87+-0xffe+0x5*-0x21b]['name']==='sh'&&[-0xd*0x16d+0x4*0x2fc+0x6a2,-0xa6b+-0x1694+0x2117,-0x1b42+-0x1f7e+-0x86b*-0x7]['indexOf'](_0x5958a2[-0x853*0x3+-0x1*0x479+0x1d74]['properties']['length'])!==-(-0xe75+0x9cf+0x4a7*0x1)&&_0x5958a2[-0x1b68+0x121a+0x8*0x12a]['properties']['every']((_0x109b84,_0x4fc8d3)=>_0x109b84['name']===_0x50b426[_0x4fc8d3]&&_0x109b84['type']==='uchar');return _0x5958a2['length']===0xa0*-0xc+0x25*0x2f+-0x1*-0xb7&&_0x142db5()||_0x5958a2['length']===-0x55*-0x43+0x1b84+0x18e*-0x20&&_0x142db5()&&_0x3865d4();},_0x2f2ca8=_0x2680f2=>_0x2680f2['length']===0xccc+0x185e*-0x1+-0x1*-0xb93&&_0x2680f2[0xb8*-0x25+-0x1862+-0x197d*-0x2]['name']==='vertex'&&_0x2680f2[-0x178*-0x17+0x1fc3+-0x418b]['properties']['every'](_0x1acf0f=>_0x1acf0f['type']==='float'),_0x21eeb4=async(_0x5c30a9,_0x3ff68b,_0x1c3ac0)=>{const _0x1e8afd=new _0x1cabe7();_0x1e8afd['comments']=_0x1c3ac0;const _0x3b1a40=_0x3ff68b[0x15f*0x8+0x3*0x90b+0x2619*-0x1]['count'],_0xcdec88=_0x3ff68b[0x1*-0x199e+-0x6f4*-0x2+0xbb6]['properties']['length'],_0x325a47=_0x3ff68b[-0x1fab+-0x2a1*0x5+0x2cd1]['count'],_0x593ba4=_0x3ff68b[-0x86e+0x7e1*-0x1+0x1050]['properties']['some'](_0x196bda=>_0x196bda['name']==='packed_tim'+'e'),_0x535d2e=(_0x396769=>{const _0x3ec58f=Math['ceil'](Math['sqrt'](_0x396769)),_0xfbfa13=Math['ceil'](_0x396769/_0x3ec58f);return _0x3ec58f*_0xfbfa13;})(_0x325a47);_0x1e8afd['numSplats']=_0x325a47,_0x1e8afd['is4D']=_0x593ba4,_0x1e8afd['chunkData']=new Float32Array(_0x3b1a40*_0xcdec88),_0x1e8afd['vertexData']=new Uint32Array(_0x535d2e*(-0x1fd*-0x4+-0x1dfd+-0x160f*-0x1));const _0x5c9b34=async(_0x5f21aa,_0xf60924)=>{const _0x3b5531=new Uint8Array(_0x5f21aa);let _0x34e2b3=-0x2c3+-0x214e*-0x1+0x1e8b*-0x1;for(;_0x34e2b3<_0xf60924;){for(;_0x5c30a9['remaining']===0x4fc*0x5+0x2*0x197+-0x1c1a;)await _0x5c30a9['read']();const _0x358ee2=Math['min'](_0xf60924-_0x34e2b3,_0x5c30a9['remaining']),_0x24751b=_0x5c30a9['data'];for(let _0x344882=-0x12ef*0x1+0x13*0x37+0xeda;_0x344882<_0x358ee2;++_0x344882)_0x3b5531[_0x34e2b3++]=_0x24751b[_0x5c30a9['head']++];}};if(await _0x5c9b34(_0x1e8afd['chunkData']['buffer'],_0x3b1a40*_0xcdec88*(0x1d75+-0x1155+0x19*-0x7c)),await _0x5c9b34(_0x1e8afd['vertexData']['buffer'],_0x325a47*(-0x1*-0x1557+-0x1d*-0xc5+0x2*-0x15d1)*(0x7ae+-0x1bed+0x1443)),_0x3ff68b['length']===-0x1*0x1a84+-0xb92+-0xcb3*-0x3){const _0x42ac98=_0x535d2e*(-0x1d*0x4f+-0xc2d*-0x1+-0x32a),_0x490c42=new Uint8Array(_0x42ac98),_0x45658b=new Uint8Array(_0x42ac98),_0x221f18=new Uint8Array(_0x42ac98),_0x57d6c4=0x19d4+0x1b40+-0x3114,_0x53de8d=_0x3ff68b[-0x1f*0x99+0xb*-0x269+0x5d*0x7c]['properties']['length']/(-0xb6d+0x20a8+-0x1538),_0x248a21=new Uint8Array(_0x57d6c4*_0x53de8d*(0x2205*0x1+-0x24d6+-0x16a*-0x2));for(let _0x3cbc80=0x2*0x133a+-0x1*-0x26c3+-0x257*0x21;_0x3cbc80<_0x1e8afd['numSplats'];_0x3cbc80+=_0x57d6c4){const _0x26e740=Math['min'](_0x57d6c4,_0x1e8afd['numSplats']-_0x3cbc80);await _0x5c9b34(_0x248a21['buffer'],_0x26e740*_0x53de8d*(0x1823+0x1db1+0x257*-0x17));for(let _0x69929e=0x26c*-0x9+-0x1af6+-0x1861*-0x2;_0x69929e<_0x26e740;++_0x69929e)for(let _0x11944b=-0x1*-0x97+0x2*0xaa6+-0x15e3;_0x11944b<0x47*0x28+0x1da9*-0x1+0x12a0;++_0x11944b){const _0x3bc85b=(_0x3cbc80+_0x69929e)*(-0x2492+0x21ed+0x2b5)+_0x11944b;_0x11944b<_0x53de8d?(_0x490c42[_0x3bc85b]=_0x248a21[(_0x69929e*(-0x1*-0x1ccf+-0x20f*0x9+0xa45*-0x1)+(0x9*-0x28d+-0x179a*0x1+-0x3*-0xf85))*_0x53de8d+_0x11944b],_0x45658b[_0x3bc85b]=_0x248a21[(_0x69929e*(-0x71a+0x7c*-0xe+-0x1*-0xde5)+(0x3*0x45+-0x1*-0xf71+-0x103f))*_0x53de8d+_0x11944b],_0x221f18[_0x3bc85b]=_0x248a21[(_0x69929e*(0x1d8f*-0x1+0x2e*0x5c+0xd0a)+(0x1*0x2055+0x2185+-0xac*0x62))*_0x53de8d+_0x11944b]):(_0x490c42[_0x3bc85b]=-0x1*-0x254f+-0x1*-0x9fc+0xa*-0x4ae,_0x45658b[_0x3bc85b]=-0x247*0x11+-0xe73*-0x1+0x18c3,_0x221f18[_0x3bc85b]=0x236e+0x1bd0*-0x1+-0x71f);}}_0x1e8afd['shData0']=_0x490c42,_0x1e8afd['shData1']=_0x45658b,_0x1e8afd['shData2']=_0x221f18,_0x1e8afd['shBands']={0x3:0x1,0x8:0x2,0xf:0x3}[_0x53de8d];}else _0x1e8afd['shBands']=0x3c5*-0x3+0x1e45+-0x12f6;return _0x1e8afd;},_0x537764=async(_0x2ed08d,_0x41fb4e,_0x1e1df7)=>{const _0x13b45c=_0x41fb4e[0x2a*-0x4d+0x583*0x6+-0x1470],_0x859c2=_0x13b45c['properties'],_0x516f9=_0x859c2['length'],_0x442d5a=_0x859c2['map'](_0x4ace1d=>_0x4ace1d['storage']),_0x309981=_0x859c2['reduce']((_0x110660,_0x17c388)=>_0x110660+_0x17c388['byteSize'],-0x13d7+-0x1e2f+-0x2*-0x1903);let _0x31f2ce=-0xd9*-0xb+0x11ee+0x1*-0x1b41,_0x4a792c;const _0x1a3151=()=>{const _0x5747fc=_0x2ed08d['data']['buffer'];(_0x4a792c==null?void(-0xc8*0xf+0x75*-0x34+-0x3*-0xbd4):_0x4a792c['buffer'])!==_0x5747fc&&(_0x4a792c=new Float32Array(_0x5747fc,-0x7*0x1f6+0x5f4+0x7c6,_0x5747fc['byteLength']/(-0x22b+-0xd1*0x1a+0x1769)));};for(_0x1a3151();_0x31f2ce<_0x13b45c['count'];){for(;_0x2ed08d['remaining']<_0x309981;)await _0x2ed08d['read'](),_0x1a3151();const _0x4f607b=Math['min'](_0x13b45c['count']-_0x31f2ce,Math['floor'](_0x2ed08d['remaining']/_0x309981));for(let _0x389654=-0x1d01+0xb8b+-0x12a*-0xf;_0x389654<_0x516f9;++_0x389654){const _0x3f599c=_0x442d5a[_0x389654];for(let _0xcc324f=-0xb*0x197+-0x24f9+0x3676;_0xcc324f<_0x4f607b;++_0xcc324f)_0x3f599c[_0xcc324f+_0x31f2ce]=_0x4a792c[_0xcc324f*_0x516f9+_0x389654];}_0x31f2ce+=_0x4f607b,_0x2ed08d['head']+=_0x4f607b*_0x309981;}return new _0x5761e4(_0x41fb4e,_0x1e1df7);},_0x441419=async(_0x4f0b7d,_0x31f716,_0x3e03f7)=>{for(let _0x519b69=-0x243b+-0x2ab*0x4+0x2ee7*0x1;_0x519b69<_0x31f716['length'];++_0x519b69){const _0x23d265=_0x31f716[_0x519b69],_0xb3c90c=_0x23d265['properties']['reduce']((_0x2e5b9c,_0x2c3c05)=>_0x2e5b9c+_0x2c3c05['byteSize'],0x213+0x11f*-0xb+0xa42),_0x133fde=_0x23d265['properties']['map'](_0x1bf087=>{if(_0x1bf087['storage'])switch(_0x1bf087['type']){case'char':return(_0x441674,_0x566002)=>{_0x1bf087['storage'][_0x566002]=_0x441674['getInt8']();};case'uchar':return(_0x6c2be,_0x14e771)=>{_0x1bf087['storage'][_0x14e771]=_0x6c2be['getUint8']();};case'short':return(_0x5c1677,_0x26c8f0)=>{_0x1bf087['storage'][_0x26c8f0]=_0x5c1677['getInt16']();};case'ushort':return(_0x836c38,_0x128b01)=>{_0x1bf087['storage'][_0x128b01]=_0x836c38['getUint16']();};case'int':return(_0x2233cd,_0x8f85e5)=>{_0x1bf087['storage'][_0x8f85e5]=_0x2233cd['getInt32']();};case'uint':return(_0x87dcdb,_0x31f7ab)=>{_0x1bf087['storage'][_0x31f7ab]=_0x87dcdb['getUint32']();};case'float':return(_0xaf4908,_0xb53e1a)=>{_0x1bf087['storage'][_0xb53e1a]=_0xaf4908['getFloat32']();};case'double':return(_0x3411db,_0x26c336)=>{_0x1bf087['storage'][_0x26c336]=_0x3411db['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0x1bf087['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0x302da8=>{_0x302da8['head']+=_0x1bf087['byteSize'];};});let _0x4505e6=0xbe6+-0x1*0x1137+0x551;for(;_0x4505e6<_0x23d265['count'];){for(;_0x4f0b7d['remaining']<_0xb3c90c;)await _0x4f0b7d['read']();const _0xe3a942=Math['min'](_0x23d265['count']-_0x4505e6,Math['floor'](_0x4f0b7d['remaining']/_0xb3c90c));for(let _0x1db82a=-0xaa+-0x5aa+0x654;_0x1db82a<_0xe3a942;++_0x1db82a){for(let _0x107600=0x3*-0x8b1+-0x1*0x15c5+0x2fd8;_0x107600<_0x23d265['properties']['length'];++_0x107600)_0x133fde[_0x107600](_0x4f0b7d,_0x4505e6);_0x4505e6++;}}}return new _0x5761e4(_0x31f716,_0x3e03f7);},_0x55bc1f=async(_0x426f66,_0x11718d=null)=>{const _0x301108=(_0x51ef04,_0x25cbe2)=>{const _0x3f5441=_0x51ef04['length']-_0x25cbe2['length'];let _0x5b32b0,_0x2c8bce;for(_0x5b32b0=0x7b3+-0x3*0x90d+0x1374;_0x5b32b0<=_0x3f5441;++_0x5b32b0){for(_0x2c8bce=0x1290+0x2*-0x15d+-0xfd6;_0x2c8bce<_0x25cbe2['length']&&_0x51ef04[_0x5b32b0+_0x2c8bce]===_0x25cbe2[_0x2c8bce];++_0x2c8bce);if(_0x2c8bce===_0x25cbe2['length'])return _0x5b32b0;}return-(-0x29*0xf2+-0xd*0x112+-0xf*-0x383);},_0x1bdb52=(_0xfa70f2,_0x229820)=>{if(_0xfa70f2['length']<_0x229820['length'])return!(-0x1c*0x81+0x26cd+-0x18b0);for(let _0x2f9933=-0x443*-0x2+0xd96+-0x5*0x46c;_0x2f9933<_0x229820['length'];++_0x2f9933)if(_0xfa70f2[_0x2f9933]!==_0x229820[_0x2f9933])return!(0x7*-0x2ce+-0xb*-0x4e+0x1049);return!(-0x25a5+-0x1*-0x65f+0x1f46);},_0x1ebb8d=new _0x1a4edc(_0x426f66,_0x11718d);let _0x562739;for(;;){if(await _0x1ebb8d['read'](),_0x1ebb8d['tail']>=_0x4906b6['length']&&!_0x1bdb52(_0x1ebb8d['data'],_0x4906b6))throw new Error('Invalid\x20pl'+'y\x20header');if(_0x562739=_0x301108(_0x1ebb8d['data'],_0x44b66f),_0x562739!==-(-0x1*-0x26e6+-0x461+0x1*-0x2284))break;}const _0x107990=new TextDecoder('ascii')['decode'](_0x1ebb8d['data']['subarray'](-0x28e+0x4*-0x76d+0x2042*0x1,_0x562739))['split']('\x0a'),{elements:_0x5648d3,format:_0x5f0569,comments:_0x36b05d}=_0xfccfda(_0x107990);if(_0x5f0569!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x1ebb8d['head']=_0x562739+_0x44b66f['length'],_0x1ebb8d['compact'](),await((async()=>_0x29b08c(_0x5648d3)?await _0x21eeb4(_0x1ebb8d,_0x5648d3,_0x36b05d):(_0x5648d3['forEach'](_0x4337bc=>{_0x4337bc['properties']['forEach'](_0x6a7b7a=>{const _0x4a0b34=_0x11ba9a['get'](_0x6a7b7a['type']);if(_0x4a0b34){const _0x409740=new _0x4a0b34(_0x4337bc['count']);_0x6a7b7a['storage']=_0x409740;}});}),_0x2f2ca8(_0x5648d3)?await _0x537764(_0x1ebb8d,_0x5648d3,_0x36b05d):await _0x441419(_0x1ebb8d,_0x5648d3,_0x36b05d)))());},_0x42f430=_0x56fc1f=>{const {numSplats:_0x164f7a,chunkData:_0x58db06,chunkSize:_0x3a8e58,vertexData:_0x1756f5,shData0:_0x4fe79c,shData1:_0x1d2941,shData2:_0x5308fe,shBands:_0x102439,comments:_0x4c49e4,is4D:_0x227f51}=_0x56fc1f,_0x1a177f=['x','y','z','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','f_dc_0','f_dc_1','f_dc_2','opacity'];if(_0x227f51&&_0x1a177f['push']('t','t_scale','motion_0','motion_1','motion_2'),_0x102439>-0x11a2*-0x1+0x1*-0x2653+-0x14b1*-0x1){const _0x540bb1=[];for(let _0x31138a=-0x803+-0xeed+0x16f0;_0x31138a<0x1e74+0x3*0x20a+0x7*-0x533;++_0x31138a)_0x540bb1['push']('f_rest_'+_0x31138a);_0x1a177f['splice'](_0x1a177f['indexOf']('f_dc_0')+(-0xf63*0x1+-0x1*-0xd3f+0x3*0xb7),0x31*-0x64+-0x1a44+0x2d68,..._0x540bb1);}const _0x3f3ff3={};_0x1a177f['forEach'](_0x2e7bce=>{_0x3f3ff3[_0x2e7bce]=new Float32Array(_0x164f7a);});const _0x277ba4=new _0x43549f(),_0x135b11=new _0x8f03e1(),_0x2642ea=new _0x43549f(),_0x52cfac=new _0x4c1e75(),_0x2c3cad=new _0x43549f(),_0x26e39e=new _0x43549f(),_0x29269c=_0x102439>0x1*-0x24fb+0x1485+0x1076*0x1?new Float32Array(0x3*0x442+0x29*-0x75+0x312*0x2):null,_0x25116b=new _0xce681c(_0x58db06,_0x3a8e58,_0x1756f5,_0x4fe79c,_0x1d2941,_0x5308fe,_0x102439,_0x277ba4,_0x135b11,_0x2642ea,_0x52cfac,_0x2c3cad,_0x26e39e,_0x29269c);for(let _0xbfefd0=-0xca+0x1*-0x1367+0x6bb*0x3;_0xbfefd0<_0x164f7a;++_0xbfefd0){_0x25116b['read'](_0xbfefd0),_0x3f3ff3['x'][_0xbfefd0]=_0x277ba4['x'],_0x3f3ff3['y'][_0xbfefd0]=_0x277ba4['y'],_0x3f3ff3['z'][_0xbfefd0]=_0x277ba4['z'],_0x3f3ff3['rot_1'][_0xbfefd0]=_0x135b11['x'],_0x3f3ff3['rot_2'][_0xbfefd0]=_0x135b11['y'],_0x3f3ff3['rot_3'][_0xbfefd0]=_0x135b11['z'],_0x3f3ff3['rot_0'][_0xbfefd0]=_0x135b11['w'],_0x3f3ff3['scale_0'][_0xbfefd0]=_0x2642ea['x'],_0x3f3ff3['scale_1'][_0xbfefd0]=_0x2642ea['y'],_0x3f3ff3['scale_2'][_0xbfefd0]=_0x2642ea['z'],_0x3f3ff3['motion_0'][_0xbfefd0]=_0x2c3cad['x'],_0x3f3ff3['motion_1'][_0xbfefd0]=_0x2c3cad['y'],_0x3f3ff3['motion_2'][_0xbfefd0]=_0x2c3cad['z'],_0x3f3ff3['t_scale'][_0xbfefd0]=_0x26e39e['x'],_0x3f3ff3['t'][_0xbfefd0]=_0x26e39e['y'],_0x3f3ff3['f_dc_0'][_0xbfefd0]=(_0x52cfac['x']-(0x1*0x70e+-0x187+0x5*-0x11b+0.5))/_0x32948e,_0x3f3ff3['f_dc_1'][_0xbfefd0]=(_0x52cfac['y']-(0x2f*0x1+-0x185e+0x182f+0.5))/_0x32948e,_0x3f3ff3['f_dc_2'][_0xbfefd0]=(_0x52cfac['z']-(-0x20e1+-0xef9+-0x62*-0x7d+0.5))/_0x32948e;const _0x145119=_0x52cfac['w']<=-0x7*0x2f9+0x567*-0x2+-0x1f9d*-0x1?-(-0x152f+-0x1*-0x1a29+0x4d2*-0x1):_0x52cfac['w']>=0x1367+-0x469+-0xefd?0x8*0x4d6+-0x1497+-0x5fb*0x3:-Math['log']((-0x22d5+0x1f0b+0x1*0x3cb)/_0x52cfac['w']-(0xb69*0x2+-0x1bef+-0x28f*-0x2));if(_0x3f3ff3['opacity'][_0xbfefd0]=(0x65*-0x49+-0xb9+0x1d87*0x1)/(-0x6b*-0x29+-0x10*0x1e1+0xcee+Math['exp'](-_0x145119)),_0x29269c){for(let _0x5c890b=-0xd42+0x227*-0x10+0x2fb2;_0x5c890b<0x23ca+0x1*0x16c1+-0xf1*0x3e;++_0x5c890b)_0x3f3ff3['f_rest_'+_0x5c890b][_0xbfefd0]=_0x29269c[_0x5c890b];}}const _0x1d2fec=[{'count':_0x164f7a,'name':'vertex','properties':_0x1a177f['map'](_0x29fb41=>({'byteSize':0x4,'name':_0x29fb41,'type':'float','storage':_0x3f3ff3[_0x29fb41]}))}];return new _0x5761e4(_0x1d2fec,_0x4c49e4);};}class ok extends me{constructor(_0x17561b){super(),h(this,'worker'),h(this,'loadUrlLis'+'t'),(this['loadUrlLis'+'t']=_0x17561b,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+nk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','loadUrlList':this['loadUrlLis'+'t']});}['loadPly'](_0x160936,_0x2a32c1,_0xe50e8c=(_0x59a2fa,_0xc76683)=>{},_0x9b6145=(_0x567209,_0x3305d2,_0x4142ce)=>{},_0x181c2f=(_0x298ad1,_0x4b2fa6)=>{}){var _0x2269e7;return(_0x2269e7=this['worker'])==null||_0x2269e7['postMessag'+'e']({'type':'loadPly','url':_0x160936,'decompress':_0x2a32c1}),new Promise((_0x5591fd,_0x4c009a)=>{if(!this['worker']){_0x4c009a(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x4b754d=>{if(!this['worker'])return;const {data:_0x530603}=_0x4b754d;if(_0x160936===_0x530603['url'])switch(_0x530603['type']){case'totalLengt'+'h':_0xe50e8c==null||_0xe50e8c(_0x530603['totalLengt'+'h'],_0x530603['url']);break;case'progress':_0x9b6145==null||_0x9b6145(_0x530603['bytes'],_0x530603['totalLengt'+'h'],_0x530603['url']);break;case'splatData':_0x5591fd(_0x530603['data']);break;case'error':_0x181c2f==null||_0x181c2f(_0x530603['data'],_0x530603['url']);break;}};});}['destroy'](){this['loadUrl']='',this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(-0x9d*0x7+-0x10*0x201+-0x29*-0xe3));}}class lk{constructor(_0x40c839,_0x66af34){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'readWorker'),(console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','Register\x20P'+'lyParser.c'+'onstructor'),this['app']=_0x40c839,this['maxRetries']=_0x66af34,this['urlList']=[],this['gsplatReso'+'urce']=null,this['readWorker']=null,this['totalRecei'+'ved']=0x28f+-0xe4e+-0xbbf*-0x1);}async['load'](_0x2e498d,_0x42629a,_0x3a6ed1){var _0x10870f,_0x1e4199,_0x3c179f;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','PlyParser.'+'load'),this['urlList']=[],_0x2e498d['load']['includes'](',')?this['urlList']=_0x2e498d['load']['split'](','):this['urlList']['push'](_0x2e498d['load']);const _0x2e2cef=_0x3a6ed1['data']['createTime']!==((_0x1e4199=(_0x10870f=this['onlyOneAss'+'et'])==null?void(0xb4b*-0x1+0x2705+-0x1bba):_0x10870f['data'])==null?void(0x2b*-0x29+0x780+-0x9d):_0x1e4199['createTime']);(!this['readWorker']||_0x2e2cef)&&((_0x3c179f=this['readWorker'])==null||_0x3c179f['destroy'](),this['readWorker']=new ok(this['urlList']));const _0x369734=_0x3a6ed1['data']['loadIndex']>=-0x3a*-0x95+0x1306+0xc*-0x466?_0x3a6ed1['data']['loadIndex']:0x1df2+0x1257+-0x3049,_0x85da35=_0x3a6ed1['data']['loadMode']==='all'?this['urlList']['length']-_0x369734:_0x369734+(0x67a+-0x26a*0x10+0x2027),_0x1724bb=_0x3a6ed1['data']['timeOption'],_0x784f2e=_0x3a6ed1['data']['events'];for(let _0x40a7f6=_0x369734;_0x40a7f6<_0x85da35;_0x40a7f6++)await this['loadGsplat'+'Data'](this['urlList'],_0x42629a,_0x3a6ed1,_0x40a7f6,_0x1724bb,_0x784f2e,_0x85da35);_0x784f2e['fire']('loadAllAss'+'etsDone');}async['loadGsplat'+'Data'](_0x2d7512,_0x373be9,_0x3ce990,_0x581204,_0x179445,_0x2d290d,_0x1ae7b7){var _0x712b5b,_0x381ef5,_0x54a07b;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','loadGsplat'+'Data',_0x2d7512[_0x581204]['trim'](),_0x581204);const _0x343588=_0x179445[(-0x22a2+-0x140*-0xe+-0x4*-0x449)*_0x581204]+_0x179445[(-0x172e+0x33*0xa+-0x1*-0x1532)*_0x581204+(0x2b*-0xa3+0x2474+-0x1*0x912)],_0x1d6ac5=_0x2d7512[_0x581204]['trim']();globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('loadTime','=========='+'=========='+'=========='+'=========='+'=========='+'====='),console['log']('loadTime','start\x20load'+'\x20ply\x20data',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(0x2636+0x188b+-0x5*0x8a5))['toFixed'](-0x2032+-0xa8a+0x2abe));try{const _0x495d27=await((_0x712b5b=this['readWorker'])==null?void(-0x23dc+0x1*0x2605+-0x7*0x4f):_0x712b5b['loadPly'](_0x1d6ac5,_0x3ce990['data']['decompress'],()=>{this['totalRecei'+'ved']=-0x1*0xdc9+-0x4*-0x458+-0x397;},(_0x94fe54,_0x3747f6)=>{this['totalRecei'+'ved']+=_0x94fe54,_0x3ce990&&_0x2d290d['fire']('progress',_0x3747f6*_0x581204/_0x1ae7b7+this['totalRecei'+'ved']/_0x1ae7b7,_0x3747f6);},(_0x20b7fc,_0x5e68f7)=>{debugger;console['warn']('ERROE\x20Load'+'\x20Ply',_0x5e68f7,_0x20b7fc);}));let _0x12148f;console['log']('loadTime','load\x20ply\x20d'+'ata\x20done',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(0x46+-0x19c3+0x1*0x2d05))['toFixed'](0xece*0x1+0x55*-0x7+-0xc79)),_0x495d27['isCompress'+'ed']?(_0x12148f=new ak(),_0x12148f['comments']=_0x495d27['comments'],_0x12148f['numSplats']=_0x495d27['numSplats'],_0x12148f['is4D']=_0x495d27['is4D'],_0x12148f['chunkData']=_0x495d27['chunkData'],_0x12148f['vertexData']=_0x495d27['vertexData'],_0x12148f['shData0']=_0x495d27['shData0'],_0x12148f['shData1']=_0x495d27['shData1'],_0x12148f['shData2']=_0x495d27['shData2'],_0x12148f['shBands']=_0x495d27['shBands']):_0x12148f=new qn(_0x495d27['elements'],_0x495d27['comments']),_0x3ce990['fire']('load:data',_0x12148f),_0x12148f['isCompress'+'ed']||_0x3ce990['data']['reorder'];const _0x10da7d=_0x3ce990['data']['createTime']!==((_0x54a07b=(_0x381ef5=this['onlyOneAss'+'et'])==null?void(-0x47f+-0x1abe+-0x1f3d*-0x1):_0x381ef5['data'])==null?void(-0x1518+-0x39*0xae+0x3bd6):_0x54a07b['createTime']);this['gsplatReso'+'urce']&&!_0x10da7d?this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0x12148f['isCompress'+'ed']?await _0x12148f['decompress']():_0x12148f,_0x179445,_0x343588,_0x3ce990,_0x2d290d):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new EC(this['app']['graphicsDe'+'vice'],_0x12148f['isCompress'+'ed']?await _0x12148f['decompress']():_0x12148f),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x179445,this['onlyOneAss'+'et']=_0x3ce990),_0x373be9(null,this['gsplatReso'+'urce']);}catch(_0x531884){_0x373be9(_0x531884,null);}}['open'](_0x4daff4,_0x14df9e){return _0x14df9e;}}async function ck(){const _0x416844='super4d-ca'+'che-v1',_0x5b6869={'maxAge':0x202fbf000,'maxSize':0x280000000},_0x1930fa=0xd30+-0x45+0xceb*-0x1+0.28209479177387814;class _0x13565f{constructor(_0x236860={}){this['options']={..._0x5b6869,..._0x236860},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=0xd*-0x239+0x5e7*0x5+-0x9e,this['initialize'+'d']=!(-0x1012*-0x2+0x20b*0xc+0x1*-0x38a7);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x416844);const _0x46b032=await this['cache']['keys'](),_0x4447be=[];for(const _0x16c2cd of _0x46b032){const _0xd464ec=_0x16c2cd['url'],_0x32c064=await this['cache']['match'](_0xd464ec);if(_0x32c064){const _0x3bf676=(await _0x32c064['blob']())['size'],_0x1f9ee0=_0x32c064['headers']['get']('x-cache-ti'+'me');_0x1f9ee0&&_0x4447be['push']({'url':_0xd464ec,'size':_0x3bf676,'cacheTime':parseInt(_0x1f9ee0)});}}_0x4447be['sort']((_0x2416f2,_0xa54483)=>_0x2416f2['cacheTime']-_0xa54483['cacheTime']);for(const _0x5a0284 of _0x4447be)this['cacheSizes']['set'](_0x5a0284['url'],_0x5a0284['size']),this['currentSiz'+'e']+=_0x5a0284['size'],this['lruList']['push'](_0x5a0284['url']);}catch(_0x595b89){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x595b89);}this['initialize'+'d']=!(-0x1*0x2550+0x136c*0x1+-0x11e4*-0x1);}}async['get'](_0xa13795){if(await this['init'](),!this['cache'])return null;try{const _0x32bd10=await this['cache']['match'](_0xa13795);if(!_0x32bd10)return null;const _0x2da2ae=_0x32bd10['headers']['get']('x-cache-ti'+'me');return _0x2da2ae&&Date['now']()-parseInt(_0x2da2ae)>this['options']['maxAge']?(await this['delete'](_0xa13795),null):(this['updateLRU'](_0xa13795),_0x32bd10);}catch{return null;}}async['set'](_0x123758,_0x3921d1){if(!(!this['cache']||_0x123758['startsWith']('blob:')))try{const _0x252513=_0x3921d1['clone'](),_0x307d7c=await _0x252513['blob'](),_0x19b0dd=_0x307d7c['size'];this['currentSiz'+'e']+_0x19b0dd>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x19b0dd);const _0x2c3ec8=new Headers(_0x252513['headers']);_0x2c3ec8['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x548c5b=new Response(_0x307d7c,{'status':_0x252513['status'],'statusText':_0x252513['statusText'],'headers':_0x2c3ec8});await this['cache']['put'](_0x123758,_0x548c5b),this['cacheSizes']['set'](_0x123758,_0x19b0dd),this['currentSiz'+'e']+=_0x19b0dd,this['updateLRU'](_0x123758);}catch(_0x52d303){console['error']('Cache\x20set\x20'+'error:',_0x52d303);}}['updateLRU'](_0x2547a7){const _0x179222=this['lruList']['indexOf'](_0x2547a7);_0x179222>-(-0x158a+0x188f+-0x304)&&this['lruList']['splice'](_0x179222,0x1c05+0x14c5+-0x30c9),this['lruList']['push'](_0x2547a7);}async['cleanupSpa'+'ce'](_0x1cb4e9){const _0x120e47=this['options']['maxSize']*(-0x45*-0x68+0x1*-0x138f+-0x879+0.9);if(!(this['currentSiz'+'e']<=_0x120e47))for(;this['lruList']['length']>-0x1f08+0x5*0x679+-0x155&&this['currentSiz'+'e']>_0x120e47;){const _0x56e5a2=this['lruList']['shift']();_0x56e5a2&&await this['delete'](_0x56e5a2);}}async['delete'](_0x219d1a){if(this['cache'])try{await this['cache']['delete'](_0x219d1a);const _0x2cc304=this['cacheSizes']['get'](_0x219d1a)||-0x28*0x52+-0x26a4+0x94*0x59;this['currentSiz'+'e']-=_0x2cc304,this['cacheSizes']['delete'](_0x219d1a);const _0x4fb390=this['lruList']['indexOf'](_0x219d1a);_0x4fb390>-(0xe2d*0x2+0x18ac+-0x3505)&&this['lruList']['splice'](_0x4fb390,-0x782+-0x4e*-0x43+-0xce7);}catch(_0x283250){console['error']('Cache\x20dele'+'te\x20error:',_0x283250);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0x54fb12=>Promise['all'](_0x54fb12['map'](_0x3c80a3=>{var _0x47cc91;return(_0x47cc91=this['cache'])==null?void(-0x418+-0xfed*-0x1+-0xbd5*0x1):_0x47cc91['delete'](_0x3c80a3);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0x349*0x8+0x1feb+-0x3a33;}catch(_0x21d09b){console['error']('Cache\x20clea'+'r\x20error:',_0x21d09b);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0x183b+-0x6d6+-0x21*-0xf1;}}class _0x37515e{constructor(_0x25dd9d=[],_0x55dbd3={}){this['cacheManag'+'er']=new _0x13565f(_0x55dbd3['cache']),this['retryCount']=_0x55dbd3['retryCount']||-0x2*-0x949+-0x1*-0x214f+0x3*-0x114a,this['retryDelay']=_0x55dbd3['retryDelay']||-0x19b*-0x1+-0x473*0x4+0x1225,this['maxConcurr'+'ency']=_0x55dbd3['maxConcurr'+'ency']||0x73*0x39+0x396+-0x1d2b,this['downloadQu'+'eue']=_0x25dd9d,this['isProcessi'+'ngDownload'+'Queue']=!(0x243*0x1+-0x2405+0x21c3),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(-0x129e*0x1+-0x2069+0x3307);this['downloadQu'+'eue']['length']>-0x21c+-0x2202*0x1+0x241e;)try{const _0x10b8ec=this['downloadQu'+'eue']['splice'](0x1c22+0x15a*0x19+-0x3dec,this['maxConcurr'+'ency'])['map'](_0x3d121c=>{if(!this['pendingRes'+'ponses']['has'](_0x3d121c)){const _0x361f98=this['download'](_0x3d121c);return this['pendingRes'+'ponses']['set'](_0x3d121c,_0x361f98),_0x361f98['then'](()=>{this['pendingRes'+'ponses']['delete'](_0x3d121c);});}return Promise['resolve']();});await Promise['all'](_0x10b8ec);}catch(_0x22b5f2){console['error']('Download\x20e'+'rror:',_0x22b5f2);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(0xaed+-0x9*-0x199+-0x194d);}}}async['fetch'](_0x1b6b78,_0x23a055={}){if(this['pendingRes'+'ponses']['has'](_0x1b6b78))return this['pendingRes'+'ponses']['get'](_0x1b6b78);const {forceRefresh:_0x5f4553=!(-0x2432+-0x724*0x1+-0x13d*-0x23),..._0x2ea516}=_0x23a055;this['pendingRes'+'ponses']['set'](_0x1b6b78,this['download'](_0x1b6b78,_0x2ea516));const _0x5bbf5a=await this['pendingRes'+'ponses']['get'](_0x1b6b78);return this['pendingRes'+'ponses']['delete'](_0x1b6b78),_0x5bbf5a;}async['download'](_0x799cd0,_0x460b6b={}){var _0x3218cc;await((_0x3218cc=this['cacheManag'+'er'])==null?void(0x1d1c+-0xf4d*0x1+-0xdcf*0x1):_0x3218cc['init']());const {forceRefresh:_0x417c9b=!(0x6f7*0x5+-0x2033+-0x29f),..._0x422142}=_0x460b6b;_0x417c9b&&await this['cacheManag'+'er']['delete'](_0x799cd0);const _0xf076c3=await this['cacheManag'+'er']['get'](_0x799cd0);if(_0xf076c3)return _0xf076c3;let _0x3697b5;for(let _0x50043d=-0xfdc+-0x23d1+0x33ad;_0x50043d<this['retryCount'];_0x50043d++)try{const _0x322e3f=await fetch(_0x799cd0,_0x422142);if(!_0x322e3f['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x322e3f['status']);return await this['cacheManag'+'er']['set'](_0x799cd0,_0x322e3f),_0x322e3f;}catch(_0xe24b7e){console['error']('Download\x20e'+'rror:',_0xe24b7e),_0x3697b5=_0xe24b7e,_0x50043d<this['retryCount']-(-0x2151*-0x1+0x7e8+-0xa4e*0x4)&&await new Promise(_0x49c74c=>setTimeout(_0x49c74c,this['retryDelay']*(_0x50043d+(-0x92e+0x9cf*0x1+-0x1*0xa0))));}throw _0x3697b5;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){var _0x59d40a;(_0x59d40a=this['cacheManag'+'er'])==null||_0x59d40a['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(0x3d*-0x7c+0x6*-0x1c8+0x283d*0x1),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0x3b9ee2{constructor(_0x281af4,_0x283349=[]){this['elements']=_0x281af4,this['comments']=_0x283349,this['isCompress'+'ed']=!(-0x1099*-0x1+-0x1*-0xb1d+-0x1bb5*0x1);}}class _0x53e1e5{constructor(_0x314d93){this['url']=_0x314d93;}async['readFragme'+'nt'](){globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x37515e(globalThis['downloadQu'+'eueUrlList']));const _0x521e85=await globalThis['fetchWorke'+'r']['fetch'](this['url']);if(!_0x521e85['ok'])throw new Error('Failed\x20to\x20'+'fetch\x20'+this['url']+':\x20'+_0x521e85['statusText']);const _0x1c258c=await _0x521e85['arrayBuffe'+'r'](),_0x310255=new Uint8Array(_0x1c258c);let _0x49dd80=0xd41+0x1*0x220e+-0x2f4f,{size:_0x3c000f,type:_0x3718e2}=this['_readBoxHe'+'ader'](_0x310255,_0x49dd80);if(_0x3718e2!=='moof')throw new Error('Not\x20a\x20moof');_0x49dd80+=-0x1f48+-0x2a2*-0x2+0x1a0c;const _0x49372d=_0x49dd80+_0x3c000f-(0x25d9+-0x79b+-0x1e36);let _0x1822b7=null;for(;_0x49dd80<_0x49372d;){const {size:_0x30721b,type:_0x2ae8bc}=this['_readBoxHe'+'ader'](_0x310255,_0x49dd80);_0x49dd80+=0x2b6*-0xd+-0x1192+0x34d8;const _0x5d13e6=_0x310255['slice'](_0x49dd80,_0x49dd80+_0x30721b-(0x2613+0x12f*0x4+0xe9*-0x2f));_0x49dd80+=_0x30721b-(0x2*-0xce5+-0x7*0x18+-0x2*-0xd3d),_0x2ae8bc==='emsg'&&(_0x1822b7=this['_parseEmsg'](_0x5d13e6));}if(!_0x1822b7)throw new Error('Incomplete'+'\x20moof');const {size:_0x1c7fd0,type:_0xf520be}=this['_readBoxHe'+'ader'](_0x310255,_0x49dd80);if(_0xf520be!=='mdat')throw new Error('Expected\x20m'+'dat\x20box\x20af'+'ter\x20moof');_0x49dd80+=-0x93a*0x4+-0x2*-0x481+0x1bee;const _0x596fda=_0x310255['slice'](_0x49dd80,_0x49dd80+(_0x1c7fd0-(0x44*0x86+0x79*-0x7+-0x167*0x17)));return{'metadata':_0x1822b7,'segmentData':_0x596fda};}['_readBoxHe'+'ader'](_0xb50ac,_0x1fb7e1){if(_0x1fb7e1+(0x25b1+0x56*0x8+-0xd73*0x3)>_0xb50ac['length'])throw new Error('EOF');const _0xed5156=_0xb50ac[_0x1fb7e1]<<-0x1bb6+-0x7*0x331+0x3225|_0xb50ac[_0x1fb7e1+(0x2*0xa82+0x259*0x2+-0x19b5*0x1)]<<-0x2559+0x261+0x2308|_0xb50ac[_0x1fb7e1+(-0x1*-0x25e1+-0x995*0x2+-0x12b5)]<<-0x1b51+-0x1c79*0x1+-0x1*-0x37d2|_0xb50ac[_0x1fb7e1+(-0x614+-0x3*0x167+-0x2*-0x526)],_0x4fc5d2=String['fromCharCo'+'de'](_0xb50ac[_0x1fb7e1+(0xe7e+-0xb48+-0x332)],_0xb50ac[_0x1fb7e1+(0x8*0x9a+0x1e51+-0x1*0x231c)],_0xb50ac[_0x1fb7e1+(0x190+-0x1*0x26d5+0x254b)],_0xb50ac[_0x1fb7e1+(0x24a6*-0x1+0x92*0x3d+0x3*0xa1)]);return{'size':_0xed5156,'type':_0x4fc5d2};}['_parseEmsg'](_0x3441b){let _0x2facdb=0x1ab6+0x2*-0xc77+0x98*-0x3;_0x2facdb=_0x3441b['indexOf'](-0x22dc+0x353*-0x8+0x3d74,_0x2facdb)+(-0xca9*0x1+-0x15f9+-0x22a3*-0x1),_0x2facdb=_0x3441b['indexOf'](-0xd*0x63+0x1d7a+-0x1*0x1873,_0x2facdb)+(0x267f+-0x5bc+-0x7*0x4ae),_0x2facdb+=0xeb*-0x1d+0x2cd*-0x8+0x3117;const _0x3d3ffc=_0x3441b['slice'](_0x2facdb);return globalThis['CBOR']['decode'](_0x3d3ffc);}}class _0xbf7952{constructor(_0x5c3296=-0x1*-0x1943+-0xd2e+-0x407*0x3,_0x7f5b7c=0x1d*0x53+0x1*0x1da5+-0x270c,_0x223ba1=0x23e3+0xd8c+0x1*-0x316f,_0x2d2359=-0x1ea3+-0x150e+0x33b2){this['x']=_0x5c3296,this['y']=_0x7f5b7c,this['z']=_0x223ba1,this['w']=_0x2d2359;}['set'](_0x339c5b,_0x417fa3,_0x4510a5,_0x513b82){return this['x']=_0x339c5b,this['y']=_0x417fa3,this['z']=_0x4510a5,this['w']=_0x513b82,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x35939e=this){let _0x2ea255=_0x35939e['length']();return _0x2ea255===-0xaa*0xc+0x406+0x3f2?(this['x']=this['y']=this['z']=-0xd1b*0x1+0x859+0x4c2,this['w']=-0x15c7+0x2*0xc9d+-0x372):(_0x2ea255=(-0x5e4+0x49d*-0x1+0xa82)/_0x2ea255,this['x']=_0x35939e['x']*_0x2ea255,this['y']=_0x35939e['y']*_0x2ea255,this['z']=_0x35939e['z']*_0x2ea255,this['w']=_0x35939e['w']*_0x2ea255),this;}['mulScalar'](_0x40aee4,_0x43a506=this){return this['x']=_0x43a506['x']*_0x40aee4,this['y']=_0x43a506['y']*_0x40aee4,this['z']=_0x43a506['z']*_0x40aee4,this['w']=_0x43a506['w']*_0x40aee4,this;}}self['onmessage']=async _0x595315=>{var _0x58d64c,_0x5dc896;const {data:_0x553346}=_0x595315;switch(_0x553346['type']){case'initWorker':importScripts(_0x553346['cborXUrl']);break;case'destroyWor'+'ker':_0x13881b();break;case'loadGsdMan'+'ifest':const {manifestUrl:_0x320a79,loadRepresentation:_0x2dc6ed}=_0x553346,_0x209e32=await _0x2f3cf6(_0x320a79,_0x2dc6ed);globalThis['manifestUr'+'l']=_0x320a79,globalThis['manifest']=_0x209e32,globalThis['resentatio'+'n']=_0x209e32['representa'+'tion'],globalThis['downloadQu'+'eueUrlList']=_0x124bad(),globalThis['fetchWorke'+'r']=new _0x37515e(globalThis['downloadQu'+'eueUrlList']),self['postMessag'+'e']({'type':'onloadMani'+'fest','data':_0x209e32,'url':_0x320a79,'representation':_0x2dc6ed});break;case'loadGsdSeg'+'ments':try{const _0x141bd8=_0x4b9400(globalThis['manifest'],globalThis['resentatio'+'n']),_0x4c0c8a=await _0x17c462(globalThis['manifest'],_0x141bd8),_0x5b6b2d=(_0x58d64c=_0x4c0c8a==null?void(-0x1bac+0x24b4+0x908*-0x1):_0x4c0c8a['elements'][-0x2067+-0x888+0x1*0x28ef])==null?void(0x111b+0x27*-0xad+0x940):_0x58d64c['properties']['map'](_0x1ed981=>_0x1ed981['storage']['buffer']);self['postMessag'+'e']({'type':'loadGsdSeg'+'mentsDone','data':_0x4c0c8a,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x5b6b2d);}catch(_0x2f4720){console['error']('Error\x20load'+'ing\x20GSD:',_0x2f4720),self['postMessag'+'e']({'type':'error','data':_0x2f4720['message'],'url':globalThis['manifestUr'+'l']});}break;case'loadTimeli'+'neIndexSeg'+'ments':const {timelineIndexs:_0x1ff36c}=_0x553346;try{const _0x2c20a6=_0x4b9400(globalThis['manifest'],globalThis['resentatio'+'n']),_0x31d074=await _0x5dbb4f(globalThis['manifest'],_0x2c20a6,_0x1ff36c),_0x20bf85=(_0x5dc896=_0x31d074==null?void(-0x20e1+0x15e+0xa81*0x3):_0x31d074['elements'][0x4*0x105+-0x13ca+0xfb6])==null?void(-0x57*0x3b+-0x20a7+-0xd2d*-0x4):_0x5dc896['properties']['map'](_0xddf185=>_0xddf185['storage']['buffer']);self['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'mentsDone','data':_0x31d074,'timelineIndexs':_0x1ff36c,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x20bf85);}catch(_0x18f05e){console['error']('Error\x20load'+'ing\x20GSD:',_0x18f05e),self['postMessag'+'e']({'type':'error','data':_0x18f05e['message'],'url':globalThis['manifestUr'+'l']});}break;}};const _0x13881b=()=>{var _0x5a58d2;globalThis['manifestUr'+'l']=null,globalThis['manifest']=null,globalThis['resentatio'+'n']=null,(_0x5a58d2=globalThis['fetchWorke'+'r'])==null||_0x5a58d2['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['downloadQu'+'eueUrlList']=[],globalThis['loadedSegm'+'ents']=[],globalThis['currentLoa'+'dSg']=null;},_0x124bad=()=>{const _0xd25bd=new Set(),_0x36acf2=_0x4b9400(globalThis['manifest'],globalThis['resentatio'+'n']),_0x3e5e16=globalThis['manifest']['baseUrl'],_0x44c822=_0x36acf2['segmentTem'+'plate'][0x360+0x2*-0xeaa+0x19f4];for(const _0x2bcf2c of _0x44c822['segmentTim'+'eline'])for(const _0x214fb4 of _0x2bcf2c['nl']){const _0x48c496=''+_0x3e5e16+_0x44c822['media']['replace']('$SegGroupI'+'ndex$',String(_0x2bcf2c['sg']))['replace']('$NodeIndex'+'$',String(_0x214fb4));_0xd25bd['add'](_0x48c496);}return Array['from'](_0xd25bd);},_0x2f3cf6=async(_0x4d66db,_0xc10d39)=>{const _0x52f653=await(await fetch(_0x4d66db))['text'](),_0xb3bbd=JSON['parse'](_0x52f653);_0xb3bbd['baseUrl']=_0x4d66db['replace'](/\/[^\/]*$/,'/');const {schemas:_0x7a25a8,gsiUrl:_0x116c08,repId:_0xed338e}=await _0x5eceb7(_0xb3bbd,_0xc10d39);return _0xb3bbd['schemas']=_0x7a25a8,_0xb3bbd['gsiUrl']=_0x116c08,_0xb3bbd['representa'+'tion']=_0xed338e,_0xb3bbd;},_0x5eceb7=async(_0x287cfa,_0xaf318a)=>{let _0xb6f7fa=null,_0x3f08dc=null;for(const _0x25bc45 of _0x287cfa['adaptation'+'Sets'])if(_0x25bc45['contentTyp'+'e']==='4dgs'){_0x3f08dc=_0x25bc45;for(const _0x1f4d24 of _0x25bc45['representa'+'tions'])if(_0x1f4d24['id']===_0xaf318a){_0xb6f7fa=_0x1f4d24;break;}break;}_0xb6f7fa||(_0xb6f7fa=_0x3f08dc['representa'+'tions'][-0x1ccb+0xe3*0x16+-0x1*-0x949],console['warn']('Representa'+'tion\x20\x27'+_0xaf318a+('\x27\x20not\x20foun'+'d,\x20use\x20the'+'\x20first\x20rep'+'resentatio'+'n\x20instead')));const _0x10ebd1=_0xb6f7fa['id'],_0x31e91e=_0x287cfa['baseUrl']+_0x10ebd1+('/init.gsi.'+'json'),_0x54f4ee=await(await fetch(_0x31e91e))['text'](),_0x912d00=JSON['parse'](_0x54f4ee),_0x11a556={};return _0x11a556[_0x10ebd1]=_0x912d00,{'schemas':_0x11a556,'gsiUrl':_0x31e91e,'repId':_0x10ebd1};},_0x4b9400=(_0x5edd4b,_0x1731c0='high-quant'+'ized')=>{let _0x2dc737=null;for(const _0x495203 of _0x5edd4b['adaptation'+'Sets'])if(_0x495203['contentTyp'+'e']==='4dgs'){for(const _0x19ed6b of _0x495203['representa'+'tions'])if(_0x19ed6b['id']===_0x1731c0){_0x2dc737=_0x19ed6b;break;}break;}if(!_0x2dc737)throw new Error('Representa'+'tion\x20\x27'+_0x1731c0+('\x27\x20not\x20foun'+'d'));return _0x2dc737;},_0x17c462=async(_0x3ff975,_0x28e301)=>{const _0x1662db=_0x28e301['id'],_0x93f42d=_0x3ff975['schemas'][_0x1662db]['attributes'],_0x50da70=_0x28e301['segmentTem'+'plate'][0x249b*0x1+-0x22f2+-0x1a9];globalThis['loadedSegm'+'ents']=[];const _0x22848b=[],_0x2fb3b9=[];for(const _0x53866d of _0x50da70['segmentTim'+'eline'])for(const _0x5b6e2f of _0x53866d['nl']){if(globalThis['loadedSegm'+'ents']['includes'](_0x53866d['sg']+'_'+_0x5b6e2f))continue;globalThis['loadedSegm'+'ents']['push'](_0x53866d['sg']+'_'+_0x5b6e2f);const _0x5d353e=await _0x15139d(_0x3ff975,_0x28e301,_0x93f42d,_0x53866d['sg'],_0x5b6e2f);_0x2fb3b9['push'](_0x5d353e['decoded']),_0x22848b['push'](_0x5d353e['metadata']);}return _0x57a16f(_0x2fb3b9,_0x93f42d,_0x3ff975['comments']);},_0x5dbb4f=async(_0x97df2,_0x37bb09,_0x102252)=>{if(!_0x102252||_0x102252['length']===-0xaa1*-0x3+-0x183d+-0x7a6)return{'decoded':[],'metadata':[]};const _0x55f1ee=_0x37bb09['id'],_0x44897c=_0x97df2['schemas'][_0x55f1ee]['attributes'],_0x566d16=_0x37bb09['segmentTem'+'plate'][-0x25ed+0x120f*-0x1+-0x1bfe*-0x2];globalThis['loadedSegm'+'ents']||(globalThis['loadedSegm'+'ents']=[]);const _0x3ebfc3=_0x566d16['segmentTim'+'eline'][_0x102252[-0x5fc*-0x6+0x9e7+0x517*-0x9]];globalThis['currentLoa'+'dSg']!==_0x3ebfc3['sg']&&(globalThis['loadedSegm'+'ents']=globalThis['loadedSegm'+'ents']['filter'](_0x104ade=>!_0x104ade['startsWith'](globalThis['currentLoa'+'dSg'])),globalThis['currentLoa'+'dSg']=_0x3ebfc3['sg']);let _0x33364d;const _0x9d034a=[];for(const _0x4c27b8 of _0x102252){_0x33364d=_0x566d16['segmentTim'+'eline'][_0x4c27b8];for(const _0x2ea562 of _0x33364d['nl'])globalThis['loadedSegm'+'ents']['includes'](_0x33364d['sg']+'_'+_0x2ea562)||(globalThis['loadedSegm'+'ents']['push'](_0x33364d['sg']+'_'+_0x2ea562),_0x9d034a['push'](_0x2ea562));}const _0x1d6193=await _0x15139d(_0x97df2,_0x37bb09,_0x44897c,_0x33364d['sg'],_0x9d034a);_0x1d6193['metadata'];const _0x853eb0=_0x1d6193['decoded'];return _0x57a16f(_0x853eb0,_0x44897c,_0x97df2['comments']);},_0x15139d=async(_0x2f52b9,_0x204021,_0x35623a,_0x4e1558,_0x4cc880)=>{const _0x22f5a1=_0x2f52b9['baseUrl'],_0x3b1975=_0x204021['segmentTem'+'plate'][0x1c26+-0x1585+-0x6a1]['media'],_0x374f5d=_0x4cc880['map'](_0x3e1e05=>''+_0x22f5a1+_0x3b1975['replace']('$SegGroupI'+'ndex$',String(_0x4e1558))['replace']('$NodeIndex'+'$',String(_0x3e1e05))),_0x2f3baf=await Promise['all'](_0x374f5d['map'](async _0x4f587c=>{const _0x3634fc=await _0x2b3b29(_0x4f587c),_0x5d6dc6=_0x3634fc['metadata'],_0x4b4d13=_0x3634fc['segmentDat'+'a'],_0x3e2046=_0x5d6dc6['gaussianCo'+'unt'];console['log']('loadSegmen'+'t\x20'+_0x4f587c),console['log']('loadSegmen'+'t\x20timeStar'+'t:',_0x5d6dc6['timeStart'],'segment\x20ti'+'meEnd:',_0x5d6dc6['timeEnd'],'segment\x20ga'+'ussianCoun'+'t:',_0x3e2046);let _0x5adf81;if(_0x204021['id']['includes']('quantized')){const _0x404eed=_0x5d6dc6['chunk_boun'+'ds'];_0x5adf81=_0x8bf4d8(_0x4b4d13,_0x3e2046,_0x35623a,_0x4e1558,_0x404eed);}else _0x5adf81=_0x4ce6cd(_0x4b4d13,_0x3e2046,_0x35623a,_0x4e1558);return{'decoded':_0x5adf81,'metadata':_0x5d6dc6};})),_0x1d4b73=_0x2f3baf['map'](_0xabb7bb=>_0xabb7bb['decoded']),_0x87371c=_0x2f3baf['map'](_0x2ae938=>_0x2ae938['metadata']);return{'decoded':_0x1d4b73,'metadata':_0x87371c};},_0x57a16f=(_0x5d2059,_0x22650b,_0x6fc980)=>{if(_0x5d2059['length']===0x2*-0xd3f+-0x480+0x1efe)return new _0x3b9ee2([{'name':'vertex','count':0x0,'properties':[{'name':'position','type':'float','storage':new Float32Array(-0x257f+-0x1863+0x3de2),'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':new Uint16Array(0x4*0x85f+0xd*0x12b+-0x30ab),'byteSize':0x2},{'name':'t','type':'float','storage':new Float32Array(-0x14b1+0x14b3+-0x2),'byteSize':0x4},{'name':'t_scale','type':'float','storage':new Float32Array(0x690+-0x4*0x1a5+-0x1*-0x4),'byteSize':0x4},{'name':'cutoff','type':'float','storage':new Float32Array(0x23b6+-0x2225*0x1+0x191*-0x1),'byteSize':0x4},{'name':'motion','type':'float','storage':new Float32Array(0x1*0x11fc+0x3*0xb19+-0x3347),'byteSize':0x4},{'name':'rotation','type':'float','storage':new Float32Array(0x1367*0x1+0x602*0x1+0x515*-0x5),'byteSize':0x4},{'name':'scale','type':'uint16','storage':new Uint16Array(-0x17*0xac+0xb9*-0x2b+-0x2e87*-0x1),'byteSize':0x2},{'name':'time_index','type':'float','storage':new Float32Array(0xae5+-0xf3f+0x45a*0x1),'byteSize':0x4}]}],_0x6fc980);const _0x286567=_0x27e6f1(_0x5d2059),[_0x5cd57f,_0x1353f1,_0x53105e]=_0x2ff65c(_0x286567['lifecycle'],-0x786+0xacc+-0x343,Float32Array),_0x209309=_0x286567['time_index'],_0x1b5fa3=_0x22650b['find'](_0x350ac2=>_0x350ac2['name']==='feature_re'+'st'),_0x5d21af=[];if(_0x1b5fa3&&_0x286567['feature_re'+'st']){const _0x3cda43=_0x1b5fa3['dataType']['split'](',')[-0xa7*0x8+0x15ed+-0x10b4*0x1]['trim']()['replace']('>',''),_0x4accdf=_0x2ff65c(_0x286567['feature_re'+'st'],-0x1*-0x23e5+-0x2094+-0x6*0x8d,Float32Array);for(const _0x23e73d of _0x4accdf){const _0x4ac38d=_0x2ff65c(_0x23e73d,_0x3cda43/(0x160a+-0x2*0x974+-0x31f),Float32Array);for(let _0x590d13=-0x124c+0x148b+-0x73*0x5;_0x590d13<_0x4ac38d['length'];_0x590d13++)_0x5d21af['push']({'name':'f_rest_'+_0x590d13,'type':'float','storage':_0x4ac38d[_0x590d13],'byteSize':0x4});}}return new _0x3b9ee2([{'name':'vertex','count':_0x286567['position']['length']/(-0x4*0x721+0x3*0x64b+-0x9a6*-0x1),'properties':[{'name':'position','type':'float','storage':_0x286567['position'],'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':_0x286567['color_opac'+'ity'],'byteSize':0x2},{'name':'t','type':'float','storage':_0x1353f1,'byteSize':0x4},{'name':'t_scale','type':'float','storage':_0x5cd57f,'byteSize':0x4},{'name':'cutoff','type':'float','storage':_0x53105e,'byteSize':0x4},{'name':'motion','type':'float','storage':_0x286567['motion'],'byteSize':0x4},{'name':'rotation','type':'float','storage':_0x286567['rotation'],'byteSize':0x4},{'name':'scale','type':'uint16','storage':_0x286567['scale'],'byteSize':0x2},{'name':'time_index','type':'float','storage':_0x209309,'byteSize':0x4},..._0x5d21af]}],_0x6fc980);},_0x2ff65c=(_0x3ebf65,_0x342f1f,_0x5561eb)=>{const _0x419061=new Array(_0x342f1f),_0x31d065=Math['floor'](_0x3ebf65['length']/_0x342f1f),_0x5a358d=_0x3ebf65['length']%_0x342f1f;for(let _0xce69bd=-0x2*0x1250+-0x1*-0xbba+0x2*0xc73;_0xce69bd<_0x342f1f;_0xce69bd++){const _0x24c767=_0xce69bd<_0x5a358d?_0x31d065+(-0x2376+-0x13da+0x3751):_0x31d065;_0x419061[_0xce69bd]=new _0x5561eb(_0x24c767);}for(let _0x25dc87=-0x3*0xcf7+-0xfc*-0x14+0x1bf*0xb;_0x25dc87<_0x3ebf65['length'];_0x25dc87++){const _0x36f7d5=_0x25dc87%_0x342f1f,_0x1060ff=Math['floor'](_0x25dc87/_0x342f1f);_0x419061[_0x36f7d5][_0x1060ff]=_0x3ebf65[_0x25dc87];}return _0x419061;},_0x2b3b29=async _0x11f311=>{const _0x487ba6=new _0x53e1e5(_0x11f311),{metadata:_0x5e5519,segmentData:_0x37a3de}=await _0x487ba6['readFragme'+'nt']();return{'metadata':_0x5e5519,'segmentData':_0x37a3de};},_0x3f899d=(_0xc1fa51,_0x10c309)=>{let _0x487382,_0x3a314a,_0x190d66=-(0x1491+-0x1*-0x14d5+-0x2965);if(_0xc1fa51['encoding']){const _0x563dd3=_0xc1fa51['encoding']['storageTyp'+'e'];if(_0x563dd3==='uint32')_0x3a314a=Uint32Array,_0x487382=Uint32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x563dd3['startsWith']('array<ucha'+'r')){_0x3a314a=Uint8Array;const _0x407598=_0x563dd3['split'](',')[0xc71+0x16e0+-0x235*0x10]['trim']()['replace']('>','');_0x190d66=parseInt(_0x407598),_0x487382=_0x190d66*Uint8Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20storage\x20'+'type:\x20'+_0x563dd3);}}else{if(_0x3a314a=Float32Array,_0xc1fa51['dataType']==='vec3f')_0x487382=(0x1974+0xf4e+-0x28bf)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0xc1fa51['dataType']==='vec4f')_0x487382=(0x1e13+-0x262+0x6d*-0x41)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0xc1fa51['dataType']==='vec2f')_0x487382=(-0x5bb+0x11f*-0xb+0x12*0x101)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0xc1fa51['dataType']['startsWith']('array<floa'+'t')){const _0x1ce1d5=_0xc1fa51['dataType']['split'](',')[0x187+0x1e*-0x56+0x92*0xf]['trim']()['replace']('>','');_0x190d66=parseInt(_0x1ce1d5),_0x487382=_0x190d66*Float32Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0xc1fa51['dataType']);}}}}return{'dataSize':_0x10c309*_0x487382,'datatype':_0x3a314a,'arraySize':_0x190d66};},_0x5b3907=(_0x27be9d,_0x3e54b2)=>{const _0x4f6b2a=(0x15e+-0x68e+0x1bb*0x3<<_0x3e54b2)-(0x2a5+-0x1825+0x1581);return(_0x27be9d&_0x4f6b2a)/_0x4f6b2a;},_0xbdb7c9=_0x529b24=>{const _0x313cc4=new Float32Array(_0x529b24['length']*(0x183*0x6+-0x21bd+0x9*0x2be));for(let _0x23d9b7=-0x1*-0x989+0xe32+-0x17bb;_0x23d9b7<_0x529b24['length'];_0x23d9b7++)_0x313cc4[_0x23d9b7*(0x92+0x117b+-0x120a)]=_0x5b3907(_0x529b24[_0x23d9b7]>>>0x19ee*0x1+-0x24c0+0x1*0xae7,0x1e65+-0x42d*-0x5+-0x333b),_0x313cc4[_0x23d9b7*(0xfa5+-0x1569+0x5c7)+(-0xb*0x1f3+-0xaaf+0x2021)]=_0x5b3907(_0x529b24[_0x23d9b7]>>>-0xb47*0x2+-0x49e+-0x1*-0x1b37,-0x1684+-0x118c+0x281a),_0x313cc4[_0x23d9b7*(0x10eb+-0x7c*-0x38+0xb02*-0x4)+(0x4be*0x4+0xf7+-0x13ed)]=_0x5b3907(_0x529b24[_0x23d9b7],0x2543*0x1+0x5*0x185+-0x2cd1);return _0x313cc4;},_0x3a14c3=_0x427fef=>{const _0x55b60e=new Float32Array(_0x427fef['length']*(0xabd*-0x1+-0x1703+0x21c4*0x1));for(let _0x2ad6b9=0x50d+-0x3*0x517+-0x1b4*-0x6;_0x2ad6b9<_0x427fef['length'];_0x2ad6b9++)_0x55b60e[_0x2ad6b9*(0x1d9a+0x1*-0x1007+0xd8f*-0x1)]=_0x5b3907(_0x427fef[_0x2ad6b9]>>>0x2072+-0xeff+-0x115b,0x7a8+-0xae7+0x347),_0x55b60e[_0x2ad6b9*(-0x7b*-0x1b+-0x12*0x1b9+0x120d)+(-0x898+0xee*-0x1f+0x5d*0x67)]=_0x5b3907(_0x427fef[_0x2ad6b9]>>>0x1683+0xb57*-0x1+-0xb1c,0x17bf+-0x2689+0xed2*0x1),_0x55b60e[_0x2ad6b9*(0x2*-0xb+0x1c7+-0x3*0x8f)+(0x1*0x293+0xcaa+0x22d*-0x7)]=_0x5b3907(_0x427fef[_0x2ad6b9]>>>0x21dd+-0x3be*0x2+-0x1a59,0x1eb*0xe+0x22*-0xba+-0x21e*0x1),_0x55b60e[_0x2ad6b9*(-0xd07+-0x1*-0x2496+-0x178b)+(0x2356*0x1+-0x1cb9+-0x69a)]=_0x5b3907(_0x427fef[_0x2ad6b9],0x1*-0x2433+0xab*-0x32+0x45a1);return _0x55b60e;},_0x16c161=_0x596e1d=>{const _0x5e4f6e=new Float32Array(_0x596e1d['length']*(-0x1*-0xac+-0x244e+-0x7d*-0x49)),_0x1c43a4=(-0x110b+-0x1ee1+0x2fed)/(Math['sqrt'](-0x1888+-0x2056+0x38e0)*(-0x54d*-0x6+-0x8be+-0x1710+0.5));for(let _0x27f69c=-0x1*-0x2521+0x19*-0x9+0x244*-0x10;_0x27f69c<_0x596e1d['length'];_0x27f69c++){const _0x53e247=(_0x5b3907(_0x596e1d[_0x27f69c]>>>0x4*-0x8bd+-0x963+-0x2c6b*-0x1,0x9c5*0x2+0x1bc6+-0x2*0x17a3)-(-0x34a+0x1952+0x5*-0x468+0.5))*_0x1c43a4,_0x4d43d1=(_0x5b3907(_0x596e1d[_0x27f69c]>>>-0x4fd+0x1b4d+-0x2*0xb23,-0x704+-0x1*0x251e+-0x16*-0x202)-(0x1c4c+-0x995+-0x12b7+0.5))*_0x1c43a4,_0x1fb576=(_0x5b3907(_0x596e1d[_0x27f69c],0xa7b+-0xe89+-0x8*-0x83)-(0x20c+-0xb8f+-0x1*-0x983+0.5))*_0x1c43a4,_0x525768=Math['sqrt'](-0x244d+0x5e+0x23f0-(_0x53e247*_0x53e247+_0x4d43d1*_0x4d43d1+_0x1fb576*_0x1fb576));let _0x4ea9cd=0xa51*-0x2+0x1283+0xb5*0x3,_0x5639d9=0xb30+-0x11ba+0x117*0x6,_0x2ddc49=0x2de*0x6+-0x1253*-0x1+-0x2387*0x1,_0x2d2603=0x1ee9+-0x9*-0x2e3+-0x296*0x16;switch(_0x596e1d[_0x27f69c]>>>-0x241f+-0x1263+-0xb8*-0x4c){case-0x74d+-0x1569*0x1+-0xa*-0x2df:_0x4ea9cd=_0x525768,_0x5639d9=_0x53e247,_0x2ddc49=_0x4d43d1,_0x2d2603=_0x1fb576;break;case 0x1061*0x1+-0x106f*-0x1+0x20cf*-0x1:_0x4ea9cd=_0x525768,_0x5639d9=_0x4d43d1,_0x2ddc49=_0x1fb576,_0x2d2603=_0x53e247;break;case-0x93*-0x3e+0x761+-0x2af9:_0x4ea9cd=_0x4d43d1,_0x5639d9=_0x525768,_0x2ddc49=_0x1fb576,_0x2d2603=_0x53e247;break;case-0x1ef0+0x3*-0x626+0x34b*0xf:_0x4ea9cd=_0x4d43d1,_0x5639d9=_0x1fb576,_0x2ddc49=_0x525768,_0x2d2603=_0x53e247;break;}const _0x124f1d=_0x2f2c84(_0x4ea9cd,_0x5639d9,_0x2ddc49,_0x2d2603);_0x5e4f6e[_0x27f69c*(-0x4ba*-0x5+-0x1*0xfd1+-0x7ce)]=_0x124f1d['x'],_0x5e4f6e[_0x27f69c*(0x1*0x2590+-0x2ad*-0x5+0x29*-0x13e)+(-0x1*0x1c75+0x13c4+-0x6a*-0x15)]=_0x124f1d['y'],_0x5e4f6e[_0x27f69c*(0x2069*0x1+-0x1*0x1654+-0x509*0x2)+(0x116*-0x9+0x2ae+0x71a)]=_0x124f1d['z'];}return _0x5e4f6e;},_0x13be93=(_0x529e81,_0x219147,_0x52044a)=>{const _0x531980=_0x52044a-_0x219147,_0x298753=new Float32Array(_0x529e81['length']);for(let _0x1a63c5=-0xc70+-0x6*-0x105+0x329*0x2;_0x1a63c5<_0x529e81['length'];_0x1a63c5++)_0x298753[_0x1a63c5]=_0x529e81[_0x1a63c5]/(0x1*-0x9e9+0xe*-0x128+0x1b18)*_0x531980+_0x219147;return _0x298753;},_0x1bcc93=new Float32Array(-0x21d8+-0x1c0+0x2399),_0x18e26f=new Int32Array(_0x1bcc93['buffer']),_0x13730b=_0x38d947=>{_0x1bcc93[0x1d7c+0x2656*0x1+-0x43d2*0x1]=_0x38d947;const _0x5b4d53=_0x18e26f[-0x8e5+-0x1*0xe89+-0x2*-0xbb7];let _0x11d59e=_0x5b4d53>>-0x2ce*0x8+0x16ed*-0x1+0x2d6d&-0x95bc+-0x2b10+0x140cc,_0x356d66=_0x5b4d53>>-0xc7*-0x5+0x23fc+-0x27d3&0x12b4+-0x48a+-0x62b;const _0x4396b9=_0x5b4d53>>0xd23*0x1+0x1422*0x1+-0x212e&-0x20a5+0x559*-0x6+0x41ba;return _0x4396b9<0x8bf+0x9ae+-0x1206*0x1?_0x11d59e:_0x4396b9>-0x1*-0xa57+0x2032+0x29fb*-0x1?(_0x11d59e|=0xc909+0xe9f7+-0x1*0x13700,_0x11d59e|=(_0x4396b9===0x81e+-0x8d6+0x1b7?0x7*0x334+0x2176+0x1bf1*-0x2:-0x26f6+-0x30*-0x7f+0xf27)&&_0x5b4d53&-0x41*0x7913+-0xba5bf5*-0x1+0x7*-0x3f205,_0x11d59e):_0x4396b9<-0x1692+-0xe7e*-0x1+0x885?(_0x356d66|=-0x61*-0x1f+-0x2*0xa8d+0x115b,_0x11d59e|=(_0x356d66>>-0x195a+0xf*-0x6a+0x22*0xf1-_0x4396b9)+(_0x356d66>>0x14e0+-0xe5e+0x611*-0x1-_0x4396b9&-0x1*-0x4f3+-0x1b*-0x106+-0x2094),_0x11d59e):(_0x11d59e|=_0x4396b9-(-0x337+0x8ba+-0x1b1*0x3)<<0xf84+0xbf*-0x1c+0x56a|_0x356d66>>-0x2*0x553+-0xc79*-0x1+-0x1d2*0x1,_0x11d59e+=_0x356d66&0x174b+-0x1*-0x102f+0xd7*-0x2f,_0x11d59e);},_0x529813=_0x3b1a24=>{const _0x13b52a=new Uint16Array(_0x3b1a24['length']);for(let _0x31b5d9=-0x199d+-0x1*0x2428+0x3dc5;_0x31b5d9<_0x3b1a24['length']/(-0x11*-0x1f3+0xf31+0x1828*-0x2);++_0x31b5d9)_0x13b52a[_0x31b5d9*(-0x1*-0x4d4+-0x208c+0x4*0x6ef)]=_0x13730b(_0x3b1a24[_0x31b5d9*(0x15af*0x1+-0x4fd*0x5+0x346)]*_0x1930fa+(0x184d+-0x1c3c+0x35*0x13+0.5)),_0x13b52a[_0x31b5d9*(0x5*0x1de+-0x11e3+0x891)+(-0x207c+-0x46c*0x6+0x3b05)]=_0x13730b(_0x3b1a24[_0x31b5d9*(-0x24b*0x3+-0x1*-0x2254+-0x1b6f*0x1)+(0x17fd+-0x1ef2+0xa2*0xb)]*_0x1930fa+(-0x1c31+-0x1*-0x42d+0x1804+0.5)),_0x13b52a[_0x31b5d9*(-0x14*-0x17+-0x24c3+0x22fb)+(-0x773+0x2045+-0x18d0)]=_0x13730b(_0x3b1a24[_0x31b5d9*(-0x20b5*-0x1+0x56*-0x29+-0x12eb)+(-0x7*0x33b+-0x7f2+0x1e91)]*_0x1930fa+(0x489*0x3+-0x68e*0x5+0x1*0x132b+0.5)),_0x13b52a[_0x31b5d9*(0x10*-0x161+-0x801*-0x1+-0xe13*-0x1)+(-0x85b+-0x3*-0x5a1+0x885*-0x1)]=_0x13730b(_0x3b1a24[_0x31b5d9*(0x23eb+0x65c+0x2a43*-0x1)+(-0xd*-0x1c4+0x8dc+0x48b*-0x7)]);return _0x13b52a;},_0x1190ec=new _0xbf7952(0x1d*0x73+0x3a*0x6b+0x2545*-0x1,0x731+0xc88+0x21*-0x99,0x1*0x683+0x363*0x1+-0x9e6,-0xd78+0x6f1*-0x5+-0x100f*-0x3),_0x2f2c84=(_0x1d5a5e,_0x513d93,_0x37bf8f,_0x342e44)=>(_0x1190ec['set'](_0x513d93,_0x37bf8f,_0x342e44,_0x1d5a5e),_0x1190ec['normalize'](),_0x1190ec['w']<0x71b+0x73*-0x2e+0xd8f&&_0x1190ec['mulScalar'](-(-0x8d7+0x1c21*-0x1+0x24f9)),_0x1190ec);function _0x8bf4d8(_0x561984,_0x226d75,_0x378bf5,_0x53aeea,_0x3ee5c4){const _0x5d78cd=_0x3ee5c4[Object['keys'](_0x3ee5c4)[-0x645+-0x8*0xb4+0xbe5]]['length'],_0x43527d=0x87d*-0x1+0x3b*-0x47+0x6*0x44f;let _0x1a86cd=[],_0x8ca277=_0x226d75;for(let _0x25e046=0x22db*0x1+0x1f69+-0x4244;_0x25e046<_0x5d78cd;_0x25e046++){const _0x379d86=Math['min'](_0x43527d,_0x8ca277);_0x1a86cd['push'](_0x379d86),_0x8ca277-=_0x379d86;}let _0x35c822=-0x1*-0x1f01+0x1295+0x18cb*-0x2,_0x46da2c={};for(let _0x1f14a5 of _0x378bf5){const _0xf5987f=_0x1f14a5['name'],{dataSize:_0x740dd7,datatype:_0x4a73fc}=_0x3f899d(_0x1f14a5,_0x226d75);let _0x1b5a76=_0x561984['buffer']['slice'](_0x35c822,_0x35c822+_0x740dd7),_0x230786=new _0x4a73fc(_0x1b5a76);_0x46da2c[_0xf5987f]=_0x230786,_0x35c822+=_0x740dd7;}let _0xcc082b=[],_0x6e1458=0x5e5*-0x1+0xd*-0xe9+0x11ba;for(let _0x345d5c=0x1*-0x11a7+0x1d9+0x11*0xee;_0x345d5c<_0x5d78cd;_0x345d5c++){const _0x5527c6=_0x490b39(_0x46da2c,_0x3ee5c4,_0x345d5c,_0x1a86cd,_0x6e1458,_0x378bf5),_0x1708d2=_0x5527c6['chunkDecom'+'pressed'];_0xcc082b['push'](_0x1708d2),_0x6e1458=_0x5527c6['chunkStart'+'Idx'];}let _0x2cea40={};for(let _0x5327bc of Object['keys'](_0xcc082b[0x248f+0x91d*-0x3+-0x938])){let _0x375df9=0x1b8f+-0x18a3+-0x4*0xbb;for(let _0x1c720d=-0x943+-0x1*0x1779+0x346*0xa;_0x1c720d<_0xcc082b['length'];_0x1c720d++)_0x375df9+=_0xcc082b[_0x1c720d][_0x5327bc]['length'];_0x5327bc==='color_opac'+'ity'||_0x5327bc==='scale'?_0x2cea40[_0x5327bc]=new Uint16Array(_0x375df9):_0x2cea40[_0x5327bc]=new Float32Array(_0x375df9);let _0x4169b9=0x26e2+-0x18cb+-0xe17;for(let _0x41709b=-0x2*0x6b+-0x3f3*0x7+0x17*0x13d;_0x41709b<_0xcc082b['length'];_0x41709b++)_0x2cea40[_0x5327bc]['set'](_0xcc082b[_0x41709b][_0x5327bc],_0x4169b9),_0x4169b9+=_0xcc082b[_0x41709b][_0x5327bc]['length'];}return _0x378bf5['some'](_0x3200e5=>_0x3200e5['name']==='feature_re'+'st')&&(_0x2cea40['feature_re'+'st']=_0x4890c8(_0x46da2c,_0x378bf5)),_0x2cea40['time_index']=new Float32Array(_0x226d75),_0x2cea40['time_index']['fill'](_0x53aeea-(-0x504+0x1947+0xa21*-0x2)),_0x2cea40;}const _0x490b39=(_0x2b0620,_0x243299,_0x1b644d,_0x176184,_0x1e3391,_0xfb625)=>{const _0xaed1d3=_0x176184[_0x1b644d],_0x96191a=_0x1e3391+_0xaed1d3,_0x41e4ab=(_0x4e721f,_0x39abd2,_0x16544f)=>_0x4e721f*(-0x1*-0x2151+0x8f6+-0x2a46-_0x16544f)+_0x39abd2*_0x16544f;let _0x1df788={};for(let _0x4dc38f of _0xfb625){const _0x4d1853=_0x4dc38f['name'],_0x19becc=_0x4dc38f['encoding']['codec'],_0x36de76=_0x2b0620[_0x4d1853]['slice'](_0x1e3391,_0x96191a);if(_0x19becc==='pack_11_10'+'_11'){if(_0x4d1853==='scale'){const _0x2bb9c5=_0x243299['min_scales'][_0x1b644d],_0x3edea5=_0x243299['max_scales'][_0x1b644d],_0x28819b=_0xbdb7c9(_0x36de76),_0x378cc2=_0x28819b['length'],_0x2f1341=new Uint16Array(_0x378cc2);for(let _0x14fece=0x2408+0x2b3+-0x26bb;_0x14fece<_0x378cc2;_0x14fece++)_0x2f1341[_0x14fece]=_0x13730b(Math['exp'](_0x41e4ab(_0x2bb9c5[_0x14fece%(-0x6c8+0x7*-0x3b5+0x20be)],_0x3edea5[_0x14fece%(-0xa23+0x2215+-0x17ef)],_0x28819b[_0x14fece])));_0x1df788[_0x4d1853]=_0x2f1341;}else{const _0x2aebc5=_0xbdb7c9(_0x36de76);let _0xeed5c4,_0xbe8590;if(_0x4d1853==='position')_0xeed5c4=_0x243299['min_means'][_0x1b644d],_0xbe8590=_0x243299['max_means'][_0x1b644d];else{if(_0x4d1853==='motion')_0xeed5c4=_0x243299['min_motion'][_0x1b644d],_0xbe8590=_0x243299['max_motion'][_0x1b644d];else{if(_0x4d1853==='lifecycle'){const _0x21eb6a=_0x243299['min_t_scal'+'e'][_0x1b644d],_0x287bc8=_0x243299['max_t_scal'+'e'][_0x1b644d],_0x25ab7e=_0x243299['min_time'][_0x1b644d],_0x33e93f=_0x243299['max_time'][_0x1b644d],_0x5eefdb=_0x243299['min_cutoff'][_0x1b644d],_0x509dfc=_0x243299['max_cutoff'][_0x1b644d];_0xeed5c4=[_0x21eb6a[-0x1401+0x8*-0x203+0x2419],_0x25ab7e[0xad1+-0x1d94+0x641*0x3],_0x5eefdb[-0x7*0x557+0x1*0x1a23+0xb3e]],_0xbe8590=[_0x287bc8[-0xe05+0x187b+0xce*-0xd],_0x33e93f[-0x19d5*0x1+0x1*-0x1a17+0x33ec],_0x509dfc[-0x7*-0xc+0x1187+-0x11db]];}else throw new Error('Unknown\x20at'+'tribute\x20fo'+'r\x20pack_11_'+'10_11:\x20'+_0x4d1853);}}for(let _0x595ba7=0x1453*-0x1+-0x5*0x15b+0x1b1a;_0x595ba7<_0x2aebc5['length'];_0x595ba7++)_0x2aebc5[_0x595ba7]=_0x41e4ab(_0xeed5c4[_0x595ba7%(0x2f*0x1d+0x105+-0x655)],_0xbe8590[_0x595ba7%(-0x13df+0x1c3+0x121f)],_0x2aebc5[_0x595ba7]);_0x1df788[_0x4d1853]=_0x2aebc5;}}else{if(_0x19becc==='pack_8888'){let _0x333e6a=_0x3a14c3(_0x36de76);const _0x7ae030=_0x243299['min_colors'][_0x1b644d],_0x1044df=_0x243299['max_colors'][_0x1b644d],_0x326506=new Uint16Array(_0x333e6a['length']);for(let _0x1aaac7=0x205e+-0x9*-0xc6+-0x2754;_0x1aaac7<_0x333e6a['length'];_0x1aaac7++){const _0x418476=_0x1aaac7*(-0x119*-0x1d+0x159d+-0x356e);_0x326506[_0x418476]=_0x13730b(_0x41e4ab(_0x7ae030[0x984+-0x464+-0x520],_0x1044df[-0xeb7+0x21e9+-0x17a*0xd],_0x333e6a[_0x418476])),_0x326506[_0x418476+(-0x1*-0x1d6f+-0x1*0x467+-0x1907)]=_0x13730b(_0x41e4ab(_0x7ae030[-0x12d5+-0x1e24+0x30fa],_0x1044df[0x1*0x16b7+-0xe1*0x2+0x254*-0x9],_0x333e6a[_0x418476+(0x8fa+0x25dd+-0x2ed6)])),_0x326506[_0x418476+(-0x857*0x3+-0x17b3*-0x1+0x154)]=_0x13730b(_0x41e4ab(_0x7ae030[0x1bdc*-0x1+-0x692*0x4+0x3626],_0x1044df[-0x21b0+-0x23*0xc9+-0x3d2d*-0x1],_0x333e6a[_0x418476+(0xaf*-0x29+-0x7*-0x3ae+0x35*0xb)])),_0x326506[_0x418476+(0x43*-0x2b+0x18*0x59+-0x16*-0x22)]=_0x13730b(_0x333e6a[_0x418476+(-0x6d9+0x26df+0x667*-0x5)]);}_0x1df788[_0x4d1853]=_0x326506;}else{if(_0x19becc==='pack_rotat'+'ion_32'){const _0x5256a4=_0x16c161(_0x36de76);_0x1df788[_0x4d1853]=_0x5256a4;}else{if(_0x19becc==='range_quan'+'t_u8'){if(_0x4d1853==='feature_re'+'st')continue;throw new Error('Unknown\x20co'+'dec:\x20'+_0x19becc);}}}}}return{'chunkDecompressed':_0x1df788,'chunkStartIdx':_0x96191a};},_0x4890c8=(_0x3d954b,_0x320d8d)=>{const _0x439145='feature_re'+'st',_0x54bb63=_0x320d8d['find'](_0x3bb45a=>_0x3bb45a['name']===_0x439145);let _0x396d9d;const _0x6306b8=_0x54bb63['encoding']['codec'],_0x3be248=_0x3d954b[_0x439145];if(_0x6306b8==='range_quan'+'t_u8'){const [_0x122833,_0x11ef24]=_0x54bb63['encoding']['range'];_0x396d9d=_0x13be93(_0x3be248,_0x122833,_0x11ef24);}else throw new Error('Unknown\x20co'+'dec:\x20'+_0x6306b8);return _0x396d9d;},_0x4ce6cd=(_0x53e74d,_0x55632f,_0x42d59c,_0xad6d9c)=>{let _0x3ae06d=-0x293*-0xb+-0x7ae*-0x2+-0x2bad;const _0x4b2876={};for(const _0x5cf319 of _0x42d59c){const {dataSize:_0x294ea8}=_0x3f899d(_0x5cf319,_0x55632f);if(['vec3f','vec4f','vec2f']['includes'](_0x5cf319['dataType']))_0x4b2876[_0x5cf319['name']]=new Float32Array(_0x53e74d['buffer']['slice'](_0x3ae06d,_0x3ae06d+_0x294ea8));else{if(_0x5cf319['dataType']['startsWith']('array<floa'+'t'))_0x4b2876[_0x5cf319['name']]=new Float32Array(_0x53e74d['buffer']['slice'](_0x3ae06d,_0x3ae06d+_0x294ea8));else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0x5cf319['dataType']);}_0x3ae06d+=_0x294ea8;}const _0xe09f0c=new Uint16Array(_0x4b2876['scale']['length']);for(let _0x5f00c3=0x1*-0x13b3+-0x1d19+0x30cc;_0x5f00c3<_0x4b2876['scale']['length'];_0x5f00c3++)_0xe09f0c[_0x5f00c3]=_0x13730b(Math['exp'](_0x4b2876['scale'][_0x5f00c3]));_0x4b2876['scale']=_0xe09f0c;const _0x2a6e01=_0x4b2876['rotation']['length']/(0x18e4+0x112b+-0x2f*0xe5),_0xc596b3=new Float32Array(_0x2a6e01*(0xa06+0x1cac+-0x1*0x26af));for(let _0x3d0429=-0x67b+-0x2317+0x14c9*0x2;_0x3d0429<_0x2a6e01;_0x3d0429++){const _0x22dea2=_0x2f2c84(_0x4b2876['rotation'][_0x3d0429*(0x1500+-0x16c3*-0x1+-0x2bbf)],_0x4b2876['rotation'][_0x3d0429*(0xe2*0x20+-0x1ab3+-0x1*0x189)+(0x19*-0x31+-0x1f*-0x57+-0x5bf)],_0x4b2876['rotation'][_0x3d0429*(0x92*0x11+-0x2665+0x1cb7)+(0x241c*0x1+-0x200b*0x1+0x1*-0x40f)],_0x4b2876['rotation'][_0x3d0429*(-0x2*0x15d+0xb03*-0x3+0x47*0x81)+(-0xcda+-0x1*0xb05+-0x17e2*-0x1)]);_0xc596b3[_0x3d0429*(0x1*-0xe95+0x1*-0x1bb6+0x2a4e)]=_0x22dea2['x'],_0xc596b3[_0x3d0429*(-0x3*0x78+-0x801+0x96c)+(-0x1971+0xb57+0xe1b)]=_0x22dea2['y'],_0xc596b3[_0x3d0429*(-0x2008+-0x11*-0xe7+-0x85a*-0x2)+(-0x1564+0xd3e+0x2b8*0x3)]=_0x22dea2['z'];}return _0x4b2876['rotation']=_0xc596b3,_0x4b2876['color_opac'+'ity']=_0x529813(_0x4b2876['color_opac'+'ity']),_0x4b2876['time_index']=new Float32Array(_0x55632f),_0x4b2876['time_index']['fill'](_0xad6d9c-(0xe65+0x2691+-0x34f5)),_0x4b2876;},_0x27e6f1=(_0x56aef5,_0x2882a9)=>{const _0x3ccd9e={};if(_0x56aef5['length']===-0x1c9e+0x9a7+-0x8*-0x25f)return _0x56aef5[-0xf9a*-0x2+-0x11*0x6b+-0x1819];for(const _0xabd3f1 of Object['keys'](_0x56aef5[0x1d8+0x11ab+-0x1383]))if(_0x56aef5[0x10d*-0x11+0x142a+0x13*-0x1f][_0xabd3f1]instanceof Float32Array||_0x56aef5[-0x1b9d+0x1*0x7b9+0x13e4][_0xabd3f1]instanceof Uint16Array){const _0x24bdbe=_0x56aef5['reduce']((_0x108062,_0x4df90f)=>_0x108062+_0x4df90f[_0xabd3f1]['length'],0x7*-0x1b1+-0x1*0x1b4f+0x2726*0x1);let _0x753cac;_0x56aef5[0x91a+0x24e2*0x1+-0x2*0x16fe][_0xabd3f1]instanceof Uint16Array?_0x753cac=new Uint16Array(_0x24bdbe):_0x753cac=new Float32Array(_0x24bdbe);let _0x5e4590=0x382+0x83b+-0xbbd;for(const _0x373b5c of _0x56aef5)_0x753cac['set'](_0x373b5c[_0xabd3f1],_0x5e4590),_0x5e4590+=_0x373b5c[_0xabd3f1]['length'];_0x3ccd9e[_0xabd3f1]=_0x753cac;}else Array['isArray'](_0x56aef5[-0x2*-0xa93+0x1b*-0xc7+-0x29][_0xabd3f1])?_0x3ccd9e[_0xabd3f1]=_0x56aef5['flatMap'](_0x1570f1=>Array['from'](_0x1570f1[_0xabd3f1])):_0x3ccd9e[_0xabd3f1]=_0x56aef5['map'](_0x354aa7=>_0x354aa7[_0xabd3f1])['flat']();return _0x3ccd9e;};}class hk extends me{constructor(_0xe8c8ce){super(),h(this,'manifestUr'+'l'),h(this,'worker'),(this['manifestUr'+'l']=_0xe8c8ce,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+ck['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','cborXUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/cbor-x@1'+'.6.0.min.j'+'s'});}['loadGsdMan'+'ifest'](_0x471ca5){var _0x5a7c2d;return(_0x5a7c2d=this['worker'])==null||_0x5a7c2d['postMessag'+'e']({'type':'loadGsdMan'+'ifest','manifestUrl':this['manifestUr'+'l'],'loadRepresentation':_0x471ca5}),new Promise((_0x5505bb,_0x411a5c)=>{if(!this['worker']){_0x411a5c(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x5242e0=>{if(!this['worker'])return;const {data:_0xadb766}=_0x5242e0;if(this['manifestUr'+'l']===_0xadb766['url'])switch(_0xadb766['type']){case'onloadMani'+'fest':_0x5505bb({'manifest':_0xadb766['data'],'url':_0xadb766['url'],'representation':_0xadb766['representa'+'tion']});break;case'error':_0x411a5c(_0xadb766['data']);break;}};});}['loadGsdSeg'+'ments'](_0x5df5c5,_0x5ee397){var _0x37c0e5;return(_0x37c0e5=this['worker'])==null||_0x37c0e5['postMessag'+'e']({'type':'loadGsdSeg'+'ments'}),new Promise((_0x86eb6c,_0x106d2f)=>{if(!this['worker']){_0x106d2f(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x3764af=>{if(!this['worker'])return;const {data:_0x4425f2}=_0x3764af;if(this['manifestUr'+'l']===_0x4425f2['url'])switch(_0x4425f2['type']){case'progress':_0x5df5c5==null||_0x5df5c5(_0x4425f2['bytes'],_0x4425f2['totalLengt'+'h'],_0x4425f2['url']);break;case'loadGsdSeg'+'mentsDone':_0x86eb6c(_0x4425f2['data']);break;case'error':_0x5ee397==null||_0x5ee397(_0x4425f2['data'],_0x4425f2['url']);break;}};});}['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0xc60817,_0x29d7a,_0x4fd0ec){var _0x383592;return(_0x383592=this['worker'])==null||_0x383592['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'ments','timelineIndexs':_0xc60817}),new Promise((_0x1d5deb,_0x462161)=>{if(!this['worker']){_0x462161(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0xf1a802=>{if(!this['worker'])return;const {data:_0x5bd53d}=_0xf1a802;if(this['manifestUr'+'l']===_0x5bd53d['url'])switch(_0x5bd53d['type']){case'progress':_0x29d7a==null||_0x29d7a(_0x5bd53d['bytes'],_0x5bd53d['totalLengt'+'h'],_0x5bd53d['url']);break;case'loadTimeli'+'neIndexSeg'+'mentsDone':_0x1d5deb(_0x5bd53d);break;case'error':_0x4fd0ec==null||_0x4fd0ec(_0x5bd53d['data'],_0x5bd53d['url']);break;}};});}['destroy'](){this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(0x4db*-0x2+-0x1d31+-0x26e7*-0x1));}}const Xh=class Xh{constructor(_0x6ee143,_0x7f5019,_0x3de2bc){h(this,'lastLoadIn'+'dex',0x1*0x20e3+-0x1087+-0x105c),h(this,'gsdAssetPa'+'rser'),(this['manifest']=_0x6ee143,this['representa'+'tion']=_0x7f5019,this['gsdAssetPa'+'rser']=_0x3de2bc,this['segmentTim'+'elines']=this['getSegment'+'Timeline'](_0x6ee143,_0x7f5019));}['getSegment'+'Timeline'](_0x34e6cd,_0xa12fb1){let _0x21c654=null;for(const _0x1b7372 of _0x34e6cd['adaptation'+'Sets'])if(_0x1b7372['contentTyp'+'e']==='4dgs'){for(const _0x424a04 of _0x1b7372['representa'+'tions'])if(_0x424a04['id']===_0xa12fb1){_0x21c654=_0x424a04;break;}break;}if(!_0x21c654)throw new Error('Representa'+'tion\x20\x27'+_0xa12fb1+('\x27\x20not\x20foun'+'d'));return _0x21c654['segmentTem'+'plate'][0x1b54+-0x84d+0x1*-0x1307]['segmentTim'+'eline'];}['onTimeChan'+'ged'](_0x48d499){const _0x2dd4cb=this['findSegmen'+'tTimeline'](_0x48d499);if(!_0x2dd4cb)return;const _0x23ae88=_0x2dd4cb['timelineIn'+'dex']<this['segmentTim'+'elines']['length']-(0x1dd7+0x4cd*0x4+-0x310a)?_0x2dd4cb['timelineIn'+'dex']+(0xb*-0x1f6+0xfe2+0x5b1):-0x1*0x1c72+-0x1*0xeea+0xc*0x39d;this['lastLoadIn'+'dex']!==_0x23ae88&&(this['lastLoadIn'+'dex']=_0x23ae88,this['loadNextSe'+'gment'](_0x23ae88));}async['loadNextSe'+'gment'](_0x45ae5d){const _0x4078c5=[];for(let _0x4c6fef=-0x120a+-0x1427+0x2631;_0x4c6fef<Xh['CACHE_COUN'+'T'];_0x4c6fef++)_0x4078c5['push']((_0x45ae5d+_0x4c6fef)%this['segmentTim'+'elines']['length']);const _0x268f10=_0x4078c5[_0x4078c5['length']-(0x121a+-0x1319*0x1+0x100)],_0x20d92d=this['segmentTim'+'elines'][_0x268f10]['t']+this['segmentTim'+'elines'][_0x268f10]['d'];this['gsdAssetPa'+'rser']['appendload'+'DataTask'](_0x4078c5,_0x20d92d);}['findSegmen'+'tTimeline'](_0x1f95ec){let _0x26978e=-0x1df0+0xf*0x5d+0x187d,_0x543145=this['segmentTim'+'elines']['length']-(0x2520+0x2066+-0x4585);for(;_0x26978e<=_0x543145;){const _0x3feb79=_0x26978e+_0x543145>>0x243a+0x1fdf+0x883*-0x8,{t:_0x1f859e,d:_0x114bb8}=this['segmentTim'+'elines'][_0x3feb79];if(_0x1f95ec<_0x1f859e)_0x543145=_0x3feb79-(0x1e07+0x1*0x111d+0xb*-0x449);else{if(_0x1f95ec>=_0x1f859e+_0x114bb8)_0x26978e=_0x3feb79+(-0x125f*0x1+-0x1*-0x171d+-0x4bd);else return{'timeline':this['segmentTim'+'elines'][_0x3feb79],'timelineIndex':_0x3feb79};}}return null;}};h(Xh,'CACHE_COUN'+'T',0x1b03+0x1*0xb99+0x2*-0x134b);let Wu=Xh;class dk{constructor(_0x4c6600,_0x224d98){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'manifest'),h(this,'schedule'),h(this,'readWorker'),h(this,'loadDataTa'+'skQueue',[]),h(this,'isProcessi'+'ngLoadTask'+'Queue',!(-0x8db*0x1+0xea9+-0xa5*0x9)),(console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','Register\x20G'+'sdParser.c'+'onstructor'),this['app']=_0x4c6600,this['maxRetries']=_0x224d98,this['urlList']=[],this['gsplatReso'+'urce']=null,this['totalRecei'+'ved']=-0x1b1e*0x1+0x219+-0x1ab*-0xf,this['manifest']={});}async['load'](_0x10a38f,_0x43e633,_0x4cc45f){console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','GsdParser.'+'load',_0x10a38f['load']);const _0x5c00af=_0x4cc45f['data']['events'];this['events']=_0x5c00af,this['asset']=_0x4cc45f,this['callback']=_0x43e633,this['timeOption']=_0x4cc45f['data']['timeOption'];let _0x4aa212=_0x4cc45f['data']['representa'+'tion']||'high-raw';this['readWorker']=new hk(_0x10a38f['load']);const _0x3a5227=await this['readWorker']['loadGsdMan'+'ifest'](_0x4aa212);this['manifest']=_0x3a5227['manifest'],_0x4aa212=_0x3a5227['manifest']['representa'+'tion']||_0x4aa212,this['schedule']=new Wu(this['manifest'],_0x4aa212,this),this['totalRecei'+'vedCount']=0x17b2+-0x25aa+0xdf8;const _0x570296=this['getSegment'+'Timeline'](this['manifest'],_0x4aa212),_0x5831ad=_0x570296[-0x1526+-0x10ec+-0x1bb*-0x16]['t']+_0x570296[-0x4*0x7d0+-0xe27*0x1+0x2d67]['d'];this['appendload'+'DataTask']([0x12ae+0xcd*-0xf+-0x6ab,-0x1f57+-0x1aba+-0x3a12*-0x1],_0x5831ad),_0x5c00af['on']('timeChange'+'d',_0x501899=>{var _0x54606f;(_0x54606f=this['schedule'])==null||_0x54606f['onTimeChan'+'ged'](_0x501899);});}['getSegment'+'Timeline'](_0x2f7fd7,_0x2ca995){let _0x2804c6=null;for(const _0x20b343 of _0x2f7fd7['adaptation'+'Sets'])if(_0x20b343['contentTyp'+'e']==='4dgs'){for(const _0x20722c of _0x20b343['representa'+'tions'])if(_0x20722c['id']===_0x2ca995){_0x2804c6=_0x20722c;break;}break;}if(!_0x2804c6)throw new Error('Representa'+'tion\x20\x27'+_0x2ca995+('\x27\x20not\x20foun'+'d'));return _0x2804c6['segmentTem'+'plate'][0xba8+0x13*-0x112+0x8ae]['segmentTim'+'eline'];}['appendload'+'DataTask'](_0x4eceb1,_0x2f8cef){this['loadDataTa'+'skQueue']['push']({'segmentIndexs':_0x4eceb1,'loadedTime':_0x2f8cef}),this['isProcessi'+'ngLoadTask'+'Queue']||Promise['resolve']()['then'](()=>this['processLoa'+'dQueue']());}async['processLoa'+'dQueue'](){if(!this['isProcessi'+'ngLoadTask'+'Queue']){this['isProcessi'+'ngLoadTask'+'Queue']=!(0x2073+-0x25d8+0x565);try{for(;this['loadDataTa'+'skQueue']['length']>0x1*0x8e1+-0x1853*0x1+0xf72;){const _0xdd4f89=this['loadDataTa'+'skQueue']['shift']();await this['loadGsplat'+'Data'](_0xdd4f89);}}finally{this['isProcessi'+'ngLoadTask'+'Queue']=!(-0x493*-0x7+-0x179d+-0x1*0x867);}}}async['loadGsplat'+'Data'](_0x42c362){var _0x522348,_0x1cf7a6;const {segmentIndexs:_0x420c54,loadedTime:_0x3d0af9}=_0x42c362,_0x40cd2e=this['events'],_0x4bf444=this['asset'],_0x2017bd=this['callback'],_0x33ddde=this['timeOption'];globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('____loadTi'+'me','gsd\x20======'+'=========='+'=========='+'=========='+'=========='+'========='),console['log']('____loadTi'+'me','gsd\x20start\x20'+'loadGsplat'+'Data',_0x420c54,(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](-0x1e95+-0x1*-0x1363+0xb34));try{const _0x48972d=await this['readWorker']['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0x420c54,(_0x3c01c6,_0x57a827)=>{this['totalRecei'+'ved']+=_0x3c01c6,_0x4bf444&&_0x40cd2e['fire']('progress',this['totalRecei'+'ved'],_0x57a827);},(_0x4f39a6,_0x22049a)=>{debugger;console['warn']('ERROE\x20Load'+'\x20GSD',_0x22049a,_0x4f39a6);});console['log']('____loadTi'+'me','gsd\x20end\x20lo'+'adGsplatDa'+'ta',(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](-0x615+0x1811+0x76*-0x27),_0x48972d['data']['elements'][-0x28*0xad+-0x67d+0x2185]['count'],((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/_0x48972d['data']['elements'][-0x2*-0x11a7+-0x1b3d+-0x811]['count']*(-0x61*0x3+-0x2f55*-0x1+-0x722))['toFixed'](0x213a+0x11*0x7+-0x21af));const _0x2ae3b0=_0x48972d['data'];if(_0x2ae3b0['elements'][0x4d4+-0x74c*-0x2+-0x136c]['count']===-0x5*-0x1cc+-0x2*0x9d+-0x7c2)return;this['totalRecei'+'vedCount']+=_0x2ae3b0['elements'][-0xf9c+-0x1*-0x91b+0xf*0x6f]['count'];const _0x55057f=new iC(_0x2ae3b0['elements'],_0x2ae3b0['comments']);_0x4bf444['fire']('load:data',_0x55057f);const _0x31d302=_0x4bf444['data']['createTime']!==((_0x1cf7a6=(_0x522348=this['onlyOneAss'+'et'])==null?void(0xfb*0x1f+0xd76*0x2+-0x3951):_0x522348['data'])==null?void(0x8e*0xb+0x25f5+-0x2c0f):_0x1cf7a6['createTime']);this['gsplatReso'+'urce']&&!_0x31d302?(console['log']('____\x20ENGIN'+'E\x20IVAN','appendGSpl'+'atDecodedR'+'esource'),this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0x55057f,_0x33ddde,_0x3d0af9,_0x4bf444)):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'DecodedRes'+'ource'),this['gsplatReso'+'urce']=new CC(this['app']['graphicsDe'+'vice'],_0x55057f),this['gsplatReso'+'urce']['setSceneIn'+'fo'](this['manifest']['sceneInfo']),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x33ddde,this['onlyOneAss'+'et']=_0x4bf444,_0x2017bd&&_0x2017bd(null,this['gsplatReso'+'urce']),_0x40cd2e['fire']('loadAllAss'+'etsDone'));}catch(_0x98c3ff){console['error']('loadGsplat'+'Data','error',_0x98c3ff),_0x2017bd&&_0x2017bd(_0x98c3ff,null);}}['open'](_0x497544,_0x65bd8f){return _0x65bd8f;}}class fk extends Qe{constructor(_0x1bca10){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x1bca10,'gsplat'),this['parsers']={'ply':new lk(_0x1bca10,0x868+-0x54e*0x4+0xcd3),'json':new dk(_0x1bca10,0x59*-0x2b+-0x1*0x11eb+0x20e1)};}['_getUrlWit'+'houtParams'](_0x59344e){return _0x59344e['indexOf']('?')>=-0x2421*-0x1+0x8*-0x283+-0x1009?_0x59344e['split']('?')[0x6d*-0x4a+-0x20*0xfb+-0x3ee2*-0x1]:_0x59344e;}['_getParser'](_0x2e3550){const _0x4042f5=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x2e3550))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x4042f5]||this['parsers']['ply'];}['load'](_0x9b8c62,_0x236383,_0x4df9cd){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x9b8c62=='string'&&(_0x9b8c62={'load':_0x9b8c62,'original':_0x9b8c62}),this['_getParser'](_0x9b8c62['original'])['load'](_0x9b8c62,_0x236383,_0x4df9cd);}['open'](_0x401af9,_0x2a88f2,_0x5d7a5f){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),_0x2a88f2;}}class $u{static['setCompres'+'sedPRS'](_0x31f3f0,_0x2fe0f6,_0x54751d){const _0x3a935a=_0x54751d['singleVecs'];let _0x2fce89,_0x4b23de;const _0x533fcd=_0x2fe0f6['___1'];_0x533fcd||(_0x2fce89=_0x54751d['tripleVecs'],_0x4b23de=_0x2fe0f6['___2']);let _0x5a1380=_0x533fcd?_0x533fcd[0x1cc2+-0x1f15*-0x1+-0x3bd7]:_0x2fce89[_0x4b23de];_0x31f3f0['setLocalPo'+'sition'](_0x3a935a[_0x5a1380],_0x3a935a[_0x5a1380+(-0xaa3+-0xbf5*-0x2+-0xd46)],_0x3a935a[_0x5a1380+(0x6*-0x224+0x8ff+0x3db)]),_0x5a1380=_0x533fcd?_0x533fcd[0xf8f*-0x1+0x4c7+0xb*0xfb]:_0x2fce89[_0x4b23de+(-0x2*-0x614+0x556*-0x7+0x1933)],_0x31f3f0['setLocalEu'+'lerAngles'](_0x3a935a[_0x5a1380],_0x3a935a[_0x5a1380+(-0x1105+-0xce7+0x1ded)],_0x3a935a[_0x5a1380+(-0x1498+-0x132d*0x1+0x27c7*0x1)]),_0x5a1380=_0x533fcd?_0x533fcd[-0xb02*0x1+-0x40f+0xf13]:_0x2fce89[_0x4b23de+(0x1da6+-0x2*0xcc2+-0x60*0xb)],_0x31f3f0['setLocalSc'+'ale'](_0x3a935a[_0x5a1380],_0x3a935a[_0x5a1380+(0x10d*0x16+0x3d7*-0x5+0x3ea*-0x1)],_0x3a935a[_0x5a1380+(-0x116+0x2201+-0x20e9)]);}static['oneCharToK'+'ey'](_0x2c658f,_0x1d39c2){const _0x2c5f43=_0x2c658f['charCodeAt'](-0x20d9*-0x1+0xb*-0x186+-0x1017)-_0x1d39c2['fieldFirst'+'Code'];return _0x1d39c2['fieldArray'][_0x2c5f43];}static['multCharTo'+'Key'](_0x12aa6d,_0x424b7c){let _0x529bfd=-0x7*0x29d+0x73a*0x4+-0xa9d;for(let _0x52d854=-0x1a18+0x3*0x20f+0x13eb*0x1;_0x52d854<_0x12aa6d['length'];_0x52d854++)_0x529bfd=_0x529bfd*_0x424b7c['fieldCodeB'+'ase']+_0x12aa6d['charCodeAt'](_0x52d854)-_0x424b7c['fieldFirst'+'Code'];return _0x424b7c['fieldArray'][_0x529bfd];}}class Uh{constructor(_0x5115c2,_0x29cce7){this['_node']=_0x5115c2,this['_data']=_0x29cce7;}['run'](){const _0x4610b0=Object['prototype']['toString']['call'](this['_node']);return _0x4610b0==='[object\x20Ob'+'ject]'?this['_handleMap']():_0x4610b0==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x18c8f9){let _0x2eba5c=_0x18c8f9;const _0x5c5248=_0x18c8f9['length'];_0x5c5248===-0xef+-0x530+0x620?_0x2eba5c=$u['oneCharToK'+'ey'](_0x18c8f9,this['_data']):_0x5c5248===-0x2*0xb03+-0xf94+-0x967*-0x4&&(_0x2eba5c=$u['multCharTo'+'Key'](_0x18c8f9,this['_data'])),this['_result'][_0x2eba5c]=new Uh(this['_node'][_0x18c8f9],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x57abe5){const _0x1e720c=new Uh(_0x57abe5,this['_data'])['run']();this['_result']['push'](_0x1e720c);}}class bm{constructor(_0x49e417,_0x38f80d){this['_app']=_0x49e417,this['_isTemplat'+'e']=_0x38f80d;}['parse'](_0x5211d7){const _0x2c592a={};let _0x2f54c8=null;const _0x17e69e=_0x5211d7['compressed'+'Format'];_0x17e69e&&!_0x5211d7['entDecompr'+'essed']&&(_0x5211d7['entDecompr'+'essed']=!(-0x1435+0x10dc+0x359),_0x5211d7['entities']=new Uh(_0x5211d7['entities'],_0x17e69e)['run']());for(const _0x58156e in _0x5211d7['entities']){const _0x190c89=_0x5211d7['entities'][_0x58156e],_0xc90fc7=this['_createEnt'+'ity'](_0x190c89,_0x17e69e);_0x2c592a[_0x58156e]=_0xc90fc7,_0x190c89['parent']===null&&(_0x2f54c8=_0xc90fc7);}for(const _0x4143e5 in _0x5211d7['entities']){const _0x4f2b86=_0x2c592a[_0x4143e5],_0xfbe684=_0x5211d7['entities'][_0x4143e5]['children'],_0x2f6d73=_0xfbe684['length'];for(let _0x1b441b=0x1a32+-0x16d0+-0x1b1*0x2;_0x1b441b<_0x2f6d73;_0x1b441b++){const _0x1e767b=_0x2c592a[_0xfbe684[_0x1b441b]];_0x1e767b&&_0x4f2b86['addChild'](_0x1e767b);}}return this['_openCompo'+'nentData'](_0x2f54c8,_0x5211d7['entities']),_0x2f54c8;}['_createEnt'+'ity'](_0x24f41c,_0x1d1a5c){const _0x4c8ca9=new lt(_0x24f41c['name'],this['_app']);if(_0x4c8ca9['setGuid'](_0x24f41c['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x4c8ca9,_0x24f41c,_0x1d1a5c),_0x4c8ca9['_enabled']=_0x24f41c['enabled']??!(0x100b+0x1ce1+-0x2cec),this['_isTemplat'+'e']?_0x4c8ca9['_template']=!(0x2bd+0x184e+-0x1b0b):_0x4c8ca9['_enabledIn'+'Hierarchy']=_0x4c8ca9['_enabled'],_0x4c8ca9['template']=_0x24f41c['template'],_0x24f41c['tags']){for(let _0x3231c0=-0x7*-0xa3+0x146*0xb+-0x1277;_0x3231c0<_0x24f41c['tags']['length'];_0x3231c0++)_0x4c8ca9['tags']['add'](_0x24f41c['tags'][_0x3231c0]);}return _0x4c8ca9;}['_setPosRot'+'Scale'](_0x29d736,_0x164af0,_0x9bbff8){if(_0x9bbff8)$u['setCompres'+'sedPRS'](_0x29d736,_0x164af0,_0x9bbff8);else{const _0x375533=_0x164af0['position'],_0x58be41=_0x164af0['rotation'],_0x2212a8=_0x164af0['scale'];_0x29d736['setLocalPo'+'sition'](_0x375533[0x21e2+-0x8*0x494+0x4e*0x9],_0x375533[-0x1d*-0x4a+-0x1cb4+-0x1453*-0x1],_0x375533[0x58b*0x4+-0x784+-0xea6]),_0x29d736['setLocalEu'+'lerAngles'](_0x58be41[-0x7bf+0x2*-0x290+0xcdf],_0x58be41[0x28*-0x73+-0x1*0x20d2+0x32cb],_0x58be41[-0xef5+-0x1*0x952+0x1849*0x1]),_0x29d736['setLocalSc'+'ale'](_0x2212a8[0x1*-0x20fb+-0x325+0x2420],_0x2212a8[0x20b3+-0x1bc1+0x37*-0x17],_0x2212a8[-0x1b28+0x1*-0x1279+-0x2da3*-0x1]);}}['_openCompo'+'nentData'](_0x34c86d,_0x2cc5b4){const _0x28f5b9=this['_app']['systems']['list'];let _0x15d3a9=_0x28f5b9['length'];const _0x237201=_0x2cc5b4[_0x34c86d['getGuid']()];for(let _0x5f2bbf=-0xc*-0xdb+-0x3*0x4af+0x3c9;_0x5f2bbf<_0x15d3a9;_0x5f2bbf++){const _0x56d941=_0x28f5b9[_0x5f2bbf],_0x28dcd8=_0x237201['components'][_0x56d941['id']];_0x28dcd8&&_0x56d941['addCompone'+'nt'](_0x34c86d,_0x28dcd8);}_0x15d3a9=_0x237201['children']['length'];const _0x3578bb=_0x34c86d['_children'];for(let _0x1176cb=-0x5b+0x1ad9+-0x1a7e;_0x1176cb<_0x15d3a9;_0x1176cb++)_0x3578bb[_0x1176cb]?_0x3578bb[_0x1176cb]=this['_openCompo'+'nentData'](_0x3578bb[_0x1176cb],_0x2cc5b4):w['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x34c86d['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x34c86d;}}class E0{static['load'](_0x1bbc7e,_0x1c945a,_0x4fbf95){typeof _0x1bbc7e=='string'&&(_0x1bbc7e={'load':_0x1bbc7e,'original':_0x1bbc7e}),ot['get'](_0x1bbc7e['load'],{'retry':_0x1c945a>-0x1ee6+0x3*0xa0b+0xc5,'maxRetries':_0x1c945a},(_0xc5e70e,_0x575603)=>{if(!_0xc5e70e)_0x4fbf95(_0xc5e70e,_0x575603);else{let _0x2655f6='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x1bbc7e['original'];_0xc5e70e['message']?(_0x2655f6+=':\x20'+_0xc5e70e['message'],_0xc5e70e['stack']&&(_0x2655f6+='\x0a'+_0xc5e70e['stack'])):_0x2655f6+=':\x20'+_0xc5e70e,_0x4fbf95(_0x2655f6);}});}}class uk extends Qe{constructor(_0x27eb49){super(_0x27eb49,'hierarchy');}['load'](_0x3ab9a4,_0xc10d53){E0['load'](_0x3ab9a4,this['maxRetries'],_0xc10d53);}['open'](_0x2f7c49,_0x478e69){this['_app']['systems']['script']['preloading']=!(-0x2351+0x1cf+0x2182);const _0x49a8c8=new bm(this['_app'],!(0x1288+-0x332+0x311*-0x5))['parse'](_0x478e69);return this['_app']['systems']['script']['preloading']=!(0x225b+-0x864+0xcfb*-0x2),_0x49a8c8;}}class pk extends Qe{constructor(_0x548aed){super(_0x548aed,'html'),h(this,'decoder',null);}['load'](_0x1128f0,_0x2a2ff4){typeof _0x1128f0=='string'&&(_0x1128f0={'load':_0x1128f0,'original':_0x1128f0}),ot['get'](_0x1128f0['load'],{'retry':this['maxRetries']>-0xd*0x2b7+0x17f*-0x4+-0x2947*-0x1,'maxRetries':this['maxRetries']},(_0x2b31c9,_0x5335fb)=>{_0x2b31c9?_0x2a2ff4('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x1128f0['original']+'\x20['+_0x2b31c9+']'):_0x2a2ff4(null,_0x5335fb);});}['openBinary'](_0x574d3b){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x574d3b);}}class mk extends Qe{constructor(_0x13e617){super(_0x13e617,'json'),h(this,'decoder',null);}['load'](_0x32429f,_0x4802b9){typeof _0x32429f=='string'&&(_0x32429f={'load':_0x32429f,'original':_0x32429f});const _0x1c2543={'retry':this['maxRetries']>0xb1*-0xa+0x7*0xf4+0x3e,'maxRetries':this['maxRetries']};_0x32429f['load']['startsWith']('blob:')&&(_0x1c2543['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x32429f['load'],_0x1c2543,(_0x14852c,_0x4302ff)=>{_0x14852c?_0x4802b9('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x32429f['original']+'\x20['+_0x14852c+']'):_0x4802b9(null,_0x4302ff);});}['openBinary'](_0x4ee722){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x4ee722));}}class _k{constructor(){this['removeInva'+'lid']=!(-0x58d+-0x1a87+-0x100a*-0x2),this['valid']=!(-0x969+0x207e+-0x1715),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([lv,bd,cv]),'cull':this['_createEnu'+'mValidator']([bt,pa,Fo,Ax]),'blendType':this['_createEnu'+'mValidator']([Gp,Hp,Zs,Cs,Gn,Wp,Ed,$p,Xp,qp,jp]),'depthFunc':this['_createEnu'+'mValidator']([Cx,hh,dh,Wf,Px,Mx,Dx,Wi])};}['setInvalid'](_0x469986,_0x3f60d9){this['valid']=!(-0x1c5d+0x2f*-0x17+-0x39f*-0x9),w['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x469986,_0x3f60d9[_0x469986]),this['removeInva'+'lid']&&delete _0x3f60d9[_0x469986];}['validate'](_0xae4fb7){const _0x1dbbf4=$n,_0x524ecb=gb,_0x3c0e1f=_0xae4fb7['mappingFor'+'mat']==='path';for(const _0x18a985 in _0xae4fb7){const _0x21665e=_0x1dbbf4[_0x18a985];if(!_0x21665e){_0x524ecb[_0x18a985]?delete _0xae4fb7[_0x18a985]:(w['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x18a985),this['valid']=!(0x45*-0x89+0x1732+0x6*0x24a));continue;}if(_0x21665e['startsWith']('enum')){const _0x276e52=_0x21665e['split'](':')[0x848*-0x4+0x2c*-0x3+0x1b*0x13f];this['enumValida'+'tors'][_0x276e52]&&(this['enumValida'+'tors'][_0x276e52](_0xae4fb7[_0x18a985])||this['setInvalid'](_0x18a985,_0xae4fb7));}else{if(_0x21665e==='number')typeof _0xae4fb7[_0x18a985]!='number'&&this['setInvalid'](_0x18a985,_0xae4fb7);else{if(_0x21665e==='boolean')typeof _0xae4fb7[_0x18a985]!='boolean'&&this['setInvalid'](_0x18a985,_0xae4fb7);else{if(_0x21665e==='string')typeof _0xae4fb7[_0x18a985]!='string'&&this['setInvalid'](_0x18a985,_0xae4fb7);else{if(_0x21665e==='vec2')_0xae4fb7[_0x18a985]instanceof Array&&_0xae4fb7[_0x18a985]['length']===-0x97*-0x2e+-0x1a*0x1+0x2*-0xd83||this['setInvalid'](_0x18a985,_0xae4fb7);else{if(_0x21665e==='rgb')_0xae4fb7[_0x18a985]instanceof Array&&_0xae4fb7[_0x18a985]['length']===0x1335+-0x235e+0x102c||this['setInvalid'](_0x18a985,_0xae4fb7);else{if(_0x21665e==='texture')_0x3c0e1f?typeof _0xae4fb7[_0x18a985]=='string'||_0xae4fb7[_0x18a985]===null||_0xae4fb7[_0x18a985]instanceof _e||this['setInvalid'](_0x18a985,_0xae4fb7):typeof _0xae4fb7[_0x18a985]=='number'||_0xae4fb7[_0x18a985]===null||_0xae4fb7[_0x18a985]instanceof _e||this['setInvalid'](_0x18a985,_0xae4fb7);else{if(_0x21665e==='boundingbo'+'x')_0xae4fb7[_0x18a985]['center']&&_0xae4fb7[_0x18a985]['center']instanceof Array&&_0xae4fb7[_0x18a985]['center']['length']===-0x23*0x94+0x10f+0x1330||this['setInvalid'](_0x18a985,_0xae4fb7),_0xae4fb7[_0x18a985]['halfExtent'+'s']&&_0xae4fb7[_0x18a985]['halfExtent'+'s']instanceof Array&&_0xae4fb7[_0x18a985]['halfExtent'+'s']['length']===0x3b*0x74+-0xb*0x2cc+0x40b||this['setInvalid'](_0x18a985,_0xae4fb7);else{if(_0x21665e==='cubemap')typeof _0xae4fb7[_0x18a985]=='number'||_0xae4fb7[_0x18a985]===null||_0xae4fb7[_0x18a985]===void(-0xde5+-0x1816+-0x3*-0xca9)||_0xae4fb7[_0x18a985]instanceof _e&&_0xae4fb7[_0x18a985]['cubemap']||this['setInvalid'](_0x18a985,_0xae4fb7);else{if(_0x21665e==='chunks'){const _0x45eafb=Object['keys'](_0xae4fb7[_0x18a985]);for(let _0x19e8fd=-0x1dcf*-0x1+0x2*0xfcf+-0x3d6d;_0x19e8fd<_0x45eafb['length'];_0x19e8fd++)typeof _0xae4fb7[_0x18a985][_0x45eafb[_0x19e8fd]]!='string'&&this['setInvalid'](_0x45eafb[_0x19e8fd],_0xae4fb7[_0x18a985]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x21665e);}}}}}}}}}}return _0xae4fb7['validated']=!(0x484*-0x6+0x2a*-0x8d+0x10be*0x3),this['valid'];}['_createEnu'+'mValidator'](_0x380434){return function(_0x58b306){return _0x380434['indexOf'](_0x58b306)>=0xb*0x1a5+-0x3*0x49b+-0x223*0x2;};}}class gk{constructor(){this['_validator']=null;}['parse'](_0x566254){const _0x601030=this['migrate'](_0x566254),_0x218cc4=this['_validate'](_0x601030),_0x3bc2f8=new Ut();return this['initialize'](_0x3bc2f8,_0x218cc4),_0x3bc2f8;}['initialize'](_0x1c1ef1,_0x19ca30){if(_0x19ca30['validated']||(_0x19ca30=this['_validate'](_0x19ca30)),_0x19ca30['chunks']&&_0x19ca30['chunks']&&Object['keys'](_0x19ca30['chunks'])['length']>0x133f+-0x1*-0x2597+-0x38d6){const _0x206bf=_0x1c1ef1['shaderChun'+'ks']['glsl'];Object['entries'](_0x19ca30['chunks'])['forEach'](([_0x5ed63e,_0x43a198])=>_0x206bf['set'](_0x5ed63e,_0x43a198));}for(const _0x5b4c07 in _0x19ca30){const _0x276d35=$n[_0x5b4c07],_0x354546=_0x19ca30[_0x5b4c07];if(_0x276d35==='vec2')_0x1c1ef1[_0x5b4c07]=new J(_0x354546[-0x1fbe+0x228c+-0x2ce],_0x354546[-0x1edd*-0x1+-0xbff+0x12dd*-0x1]);else{if(_0x276d35==='rgb')_0x1c1ef1[_0x5b4c07]=new ie(_0x354546[0x1e54+-0x1*0x2673+0x81f],_0x354546[0x1d01+0x311+-0x2011],_0x354546[-0x3e*0x39+-0x1*-0x1479+-0x6a9]);else{if(_0x276d35==='texture')_0x354546 instanceof _e?_0x1c1ef1[_0x5b4c07]=_0x354546:_0x1c1ef1[_0x5b4c07]instanceof _e&&typeof _0x354546=='number'&&_0x354546>-0x161c+0x1b4e+0x2*-0x299||(_0x1c1ef1[_0x5b4c07]=null);else{if(_0x276d35==='cubemap')_0x354546 instanceof _e?_0x1c1ef1[_0x5b4c07]=_0x354546:_0x1c1ef1[_0x5b4c07]instanceof _e&&typeof _0x354546=='number'&&_0x354546>-0xb82+0x23d4+-0xc29*0x2||(_0x1c1ef1[_0x5b4c07]=null),_0x5b4c07==='cubeMap'&&!_0x354546&&(_0x1c1ef1['prefiltere'+'dCubemaps']=null);else{if(_0x276d35==='boundingbo'+'x'){const _0x7a2cde=new D(_0x354546['center'][0x15*0x164+0x58b+0x1*-0x22bf],_0x354546['center'][-0x183a+0x1*-0x2459+0x3c94],_0x354546['center'][0xddd+-0x80*0x1a+-0xdb]),_0x686466=new D(_0x354546['halfExtent'+'s'][-0x2*0x1+0x1*0x2125+-0x1f3*0x11],_0x354546['halfExtent'+'s'][-0x65*0x53+0x2107+-0x47*0x1],_0x354546['halfExtent'+'s'][0x4f7+-0x1892+-0x139d*-0x1]);_0x1c1ef1[_0x5b4c07]=new De(_0x7a2cde,_0x686466);}else _0x1c1ef1[_0x5b4c07]=_0x19ca30[_0x5b4c07];}}}}}_0x1c1ef1['update']();}['migrate'](_0x46b96a){_0x46b96a['shader']&&delete _0x46b96a['shader'],_0x46b96a['mapping_fo'+'rmat']&&(_0x46b96a['mappingFor'+'mat']=_0x46b96a['mapping_fo'+'rmat'],delete _0x46b96a['mapping_fo'+'rmat']);let _0x106556;const _0x1e6796=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x106556=0x2093*0x1+0x2521+-0x45b4;_0x106556<_0x1e6796['length'];_0x106556++){const _0x5c7f8a=_0x1e6796[_0x106556][0x21d0+0x7*-0x241+-0x1209*0x1],_0x5e2b46=_0x1e6796[_0x106556][-0x28*0x3f+-0x249c+0x2e75];_0x46b96a[_0x5c7f8a]!==void(-0x1*-0x1c4f+-0xb9e+0x10b1*-0x1)&&(_0x46b96a[_0x5e2b46]===void(-0xdb*-0x2+-0x1095*-0x2+-0x10*0x22e)&&(_0x46b96a[_0x5e2b46]=_0x46b96a[_0x5c7f8a]),delete _0x46b96a[_0x5c7f8a]);}const _0x544f00=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x106556=0xc6+0xc0d+0xcd3*-0x1;_0x106556<_0x544f00['length'];_0x106556++){const _0x2246e0=_0x544f00[_0x106556];_0x46b96a['hasOwnProp'+'erty'](_0x2246e0)&&delete _0x46b96a[_0x2246e0];}return _0x46b96a;}['_validate'](_0x36564f){return _0x36564f['validated']||(this['_validator']||(this['_validator']=new _k()),this['_validator']['validate'](_0x36564f)),_0x36564f;}}const Sk={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black','anisotropyMap':'black'};class yk extends Qe{constructor(_0x539ea4){super(_0x539ea4,'material'),this['_assets']=_0x539ea4['assets'],this['_device']=_0x539ea4['graphicsDe'+'vice'],this['_parser']=new gk();}['load'](_0x3e729b,_0x1be6c3){typeof _0x3e729b=='string'&&(_0x3e729b={'load':_0x3e729b,'original':_0x3e729b}),ot['get'](_0x3e729b['load'],{'retry':this['maxRetries']>0x5d5*-0x1+-0x72*0x22+0x14f9,'maxRetries':this['maxRetries']},(_0x4dae42,_0x38a8ca)=>{_0x4dae42?_0x1be6c3&&_0x1be6c3('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x3e729b['original']+'\x20['+_0x4dae42+']'):_0x1be6c3&&(_0x38a8ca['_engine']=!(0x644*0x4+0x144c+-0x2d5c),_0x1be6c3(null,_0x38a8ca));});}['open'](_0x1c9f34,_0x3e60a6){const _0xa7fd0=this['_parser']['parse'](_0x3e60a6);return _0x3e60a6['_engine']&&(_0xa7fd0['_data']=_0x3e60a6,delete _0x3e60a6['_engine']),_0xa7fd0;}['patch'](_0x574304,_0x2ccddb){_0x574304['resource']['_data']&&(_0x574304['_data']=_0x574304['resource']['_data'],delete _0x574304['resource']['_data']),_0x574304['data']['name']=_0x574304['name'],_0x574304['resource']['name']=_0x574304['name'],this['_bindAndAs'+'signAssets'](_0x574304,_0x2ccddb),_0x574304['off']('unload',this['_onAssetUn'+'load'],this),_0x574304['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x1ee408){delete _0x1ee408['data']['parameters'],delete _0x1ee408['data']['chunks'],delete _0x1ee408['data']['name'];}['_assignTex'+'ture'](_0x37b4ed,_0x20e0bf,_0x515a08){_0x20e0bf['resource'][_0x37b4ed]=_0x515a08;}['_getPlaceh'+'olderTextu'+'re'](_0x1cddaa){const _0x4cb90b=Sk[_0x1cddaa];return w['assert'](_0x4cb90b,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x1cddaa),fa(this['_device'],_0x4cb90b);}['_assignPla'+'ceholderTe'+'xture'](_0x508177,_0x3a02a3){_0x3a02a3['resource'][_0x508177]=this['_getPlaceh'+'olderTextu'+'re'](_0x508177);}['_onTexture'+'Load'](_0xaf2ba2,_0x293754,_0x110236){this['_assignTex'+'ture'](_0xaf2ba2,_0x293754,_0x110236['resource']),_0x293754['resource']['update']();}['_onTexture'+'Add'](_0x19074e,_0x5928b5,_0x2a9bef){this['_assets']['load'](_0x2a9bef);}['_onTexture'+'RemoveOrUn'+'load'](_0x3c66e6,_0x496343,_0x56d974){const _0x135a11=_0x496343['resource'];_0x135a11&&_0x496343['resource'][_0x3c66e6]===_0x56d974['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x3c66e6,_0x496343),_0x135a11['update']());}['_assignCub'+'emap'](_0x9bcc8b,_0x5a5080,_0x2230e5){if(_0x5a5080['resource'][_0x9bcc8b]=_0x2230e5[0x6f3+-0x245*-0x1+0x1d8*-0x5],_0x9bcc8b==='cubeMap'){const _0x3826ea=_0x2230e5['slice'](-0x398*-0x8+0x1179+-0x3da*0xc);_0x3826ea['every'](_0x2bb6fb=>_0x2bb6fb)?_0x5a5080['resource']['prefiltere'+'dCubemaps']=_0x3826ea:_0x3826ea[-0x109e+0x1327+0x289*-0x1]&&(_0x5a5080['resource']['envAtlas']=_0x3826ea[0x26eb+-0xb*0x161+0x5f0*-0x4]);}}['_onCubemap'+'Load'](_0x1d0980,_0x4e9b12,_0x46348b){this['_assignCub'+'emap'](_0x1d0980,_0x4e9b12,_0x46348b['resources']),this['_parser']['initialize'](_0x4e9b12['resource'],_0x4e9b12['data']);}['_onCubemap'+'Add'](_0x48b8e3,_0xea76bf,_0xcb388e){this['_assets']['load'](_0xcb388e);}['_onCubemap'+'RemoveOrUn'+'load'](_0x24828c,_0x28eb38,_0x139002){const _0xa29a44=_0x28eb38['resource'];_0x28eb38['data']['prefiltere'+'dCubeMap12'+'8']===_0x139002['resources'][-0x31c*-0x8+0x5*-0x1de+0x1*-0xf89]&&(this['_assignCub'+'emap'](_0x24828c,_0x28eb38,[null,null,null,null,null,null,null]),_0xa29a44['update']());}['_bindAndAs'+'signAssets'](_0x321e8c,_0x1f8bde){const _0x3def31=this['_parser']['migrate'](_0x321e8c['data']),_0x5dfd3e=_0x321e8c['resource'],_0x2c038a=_0x3def31['mappingFor'+'mat']==='path',_0x542b03=Cd;let _0x2848cb,_0x17ff88,_0x48fe01;for(_0x2848cb=-0x13*0x1e1+-0x542+0x28f5;_0x2848cb<_0x542b03['length'];_0x2848cb++){_0x17ff88=_0x542b03[_0x2848cb],_0x48fe01=_0x5dfd3e['_assetRefe'+'rences'][_0x17ff88];const _0x36d19e=_0x3def31[_0x17ff88],_0x35d282=_0x5dfd3e[_0x17ff88],_0x17d86d=_0x35d282===this['_getPlaceh'+'olderTextu'+'re'](_0x17ff88),_0x3b1e78=_0x3def31['validated'];_0x36d19e&&(!_0x35d282||!_0x3b1e78||_0x17d86d)?(_0x48fe01||(_0x48fe01=new gl(_0x17ff88,_0x321e8c,_0x1f8bde,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x5dfd3e['_assetRefe'+'rences'][_0x17ff88]=_0x48fe01),_0x2c038a?_0x48fe01['url']=_0x321e8c['getAbsolut'+'eUrl'](_0x36d19e):_0x48fe01['id']=_0x36d19e,_0x48fe01['asset']&&(_0x48fe01['asset']['resource']?this['_assignTex'+'ture'](_0x17ff88,_0x321e8c,_0x48fe01['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x17ff88,_0x321e8c),_0x1f8bde['load'](_0x48fe01['asset']))):_0x48fe01&&(_0x2c038a?_0x48fe01['url']=null:_0x48fe01['id']=null);}const _0x493072=fm;for(_0x2848cb=-0x78f*0x2+0x3*-0x15+-0x39*-0x45;_0x2848cb<_0x493072['length'];_0x2848cb++)_0x17ff88=_0x493072[_0x2848cb],_0x48fe01=_0x5dfd3e['_assetRefe'+'rences'][_0x17ff88],_0x3def31[_0x17ff88]&&!_0x321e8c['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x48fe01||(_0x48fe01=new gl(_0x17ff88,_0x321e8c,_0x1f8bde,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x5dfd3e['_assetRefe'+'rences'][_0x17ff88]=_0x48fe01),_0x2c038a?_0x48fe01['url']=_0x3def31[_0x17ff88]:_0x48fe01['id']=_0x3def31[_0x17ff88],_0x48fe01['asset']&&(_0x48fe01['asset']['loaded']&&this['_assignCub'+'emap'](_0x17ff88,_0x321e8c,_0x48fe01['asset']['resources']),_0x1f8bde['load'](_0x48fe01['asset'])));this['_parser']['initialize'](_0x5dfd3e,_0x3def31);}}class vk{constructor(_0x220a34){this['_device']=_0x220a34['device'],this['_defaultMa'+'terial']=_0x220a34['defaultMat'+'erial'],this['_assets']=_0x220a34['assets'];}['parse'](_0x3f1d13,_0x54c112,_0x3b0c31){kh['parse']('filename.g'+'lb','',_0x3f1d13,this['_device'],this['_assets'],(_0x3b0c31==null?void(-0xd*-0x139+0x1644+0x2629*-0x1):_0x3b0c31['options'])??{},(_0x5abc8e,_0x533b66)=>{if(_0x5abc8e)_0x54c112(_0x5abc8e);else{const _0x5ed847=yr['createMode'+'l'](_0x533b66,this['_defaultMa'+'terial']);_0x533b66['destroy'](),_0x54c112(null,_0x5ed847);}});}}const xk={'points':cd,'lines':hd,'lineloop':_y,'linestrip':gy,'triangles':js,'trianglestrip':Er,'trianglefan':oa},Tk={'int8':dd,'uint8':la,'int16':fd,'uint16':Ml,'int32':Ty,'uint32':el,'float32':Ve};class wk{constructor(_0x237baa){this['_device']=_0x237baa['device'],this['_defaultMa'+'terial']=_0x237baa['defaultMat'+'erial'];}['parse'](_0x590de4,_0x2b27d3){const _0x2bc975=_0x590de4['model'];if(!_0x2bc975){_0x2b27d3(null,null);return;}if(_0x2bc975['version']<=-0x1bb*-0xd+0x2*0xc42+-0x2f02){_0x2b27d3('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x3d0cdd=this['_parseNode'+'s'](_0x590de4),_0x2036ff=this['_parseSkin'+'s'](_0x590de4,_0x3d0cdd),_0x470417=this['_parseVert'+'exBuffers'](_0x590de4),_0x18b791=this['_parseInde'+'xBuffers'](_0x590de4,_0x470417),_0x41cb7d=this['_parseMorp'+'hs'](_0x590de4,_0x3d0cdd,_0x470417),_0x4245ee=this['_parseMesh'+'es'](_0x590de4,_0x2036ff['skins'],_0x41cb7d['morphs'],_0x470417,_0x18b791['buffer'],_0x18b791['data']),_0x2ef169=this['_parseMesh'+'Instances'](_0x590de4,_0x3d0cdd,_0x4245ee,_0x2036ff['skins'],_0x2036ff['instances'],_0x41cb7d['morphs'],_0x41cb7d['instances']),_0x545162=new sr();_0x545162['graph']=_0x3d0cdd[0x13b9+-0x1f*-0xbc+0x1*-0x2a7d],_0x545162['meshInstan'+'ces']=_0x2ef169,_0x545162['skinInstan'+'ces']=_0x2036ff['instances'],_0x545162['morphInsta'+'nces']=_0x41cb7d['instances'],_0x545162['getGraph']()['syncHierar'+'chy'](),_0x2b27d3(null,_0x545162);}['_parseNode'+'s'](_0x534ca6){const _0x208ff6=_0x534ca6['model'],_0x5c2b0f=[];let _0x5cdf0b;for(_0x5cdf0b=-0x93c+0x12b4+0x3*-0x328;_0x5cdf0b<_0x208ff6['nodes']['length'];_0x5cdf0b++){const _0x494226=_0x208ff6['nodes'][_0x5cdf0b],_0x3826ae=new Ie(_0x494226['name']);_0x3826ae['setLocalPo'+'sition'](_0x494226['position'][0xe3a+-0x1691+-0x1ab*-0x5],_0x494226['position'][-0x23d5*0x1+0x1*0x10a5+0x1331],_0x494226['position'][-0x1b92*-0x1+0x1bda+0x29*-0x15a]),_0x3826ae['setLocalEu'+'lerAngles'](_0x494226['rotation'][-0x4*-0x333+-0xd21+0x5*0x11],_0x494226['rotation'][-0xc7b+0x1*0x18a2+-0xc26],_0x494226['rotation'][0x24ef+0x1*-0x1445+-0x10a8]),_0x3826ae['setLocalSc'+'ale'](_0x494226['scale'][-0x124+-0x652+0x5*0x17e],_0x494226['scale'][-0x1*0xcc3+-0x234d+0x6b*0x73],_0x494226['scale'][-0x1937+-0x8*-0x1bf+0xb41]),_0x3826ae['scaleCompe'+'nsation']=!!_0x494226['scaleCompe'+'nsation'],_0x5c2b0f['push'](_0x3826ae);}for(_0x5cdf0b=0x1339+-0x1*-0x1+-0x1339;_0x5cdf0b<_0x208ff6['parents']['length'];_0x5cdf0b++)_0x5c2b0f[_0x208ff6['parents'][_0x5cdf0b]]['addChild'](_0x5c2b0f[_0x5cdf0b]);return _0x5c2b0f;}['_parseSkin'+'s'](_0x139907,_0x32de1d){const _0x23e028=_0x139907['model'],_0x503c6a=[],_0x45d2a5=[];let _0x1ea956,_0x258e79;for(_0x1ea956=-0x97a+0xef*-0x2+0xb58;_0x1ea956<_0x23e028['skins']['length'];_0x1ea956++){const _0x2376fb=_0x23e028['skins'][_0x1ea956],_0x34acda=[];for(_0x258e79=-0x1340*-0x2+-0x1*0x1c2a+-0xa56;_0x258e79<_0x2376fb['inverseBin'+'dMatrices']['length'];_0x258e79++){const _0x2dbb44=_0x2376fb['inverseBin'+'dMatrices'][_0x258e79];_0x34acda[_0x258e79]=new te()['set'](_0x2dbb44);}const _0x3d7eec=new Lv(this['_device'],_0x34acda,_0x2376fb['boneNames']);_0x503c6a['push'](_0x3d7eec);const _0x2e37dd=new Ol(_0x3d7eec),_0x4a25b9=[];for(_0x258e79=0x441+-0x1b20+0x1*0x16df;_0x258e79<_0x3d7eec['boneNames']['length'];_0x258e79++){const _0x116dde=_0x3d7eec['boneNames'][_0x258e79],_0x16e104=_0x32de1d[0x27f*0xd+-0x2433+-0x60*-0xa]['findByName'](_0x116dde);_0x4a25b9['push'](_0x16e104);}_0x2e37dd['bones']=_0x4a25b9,_0x45d2a5['push'](_0x2e37dd);}return{'skins':_0x503c6a,'instances':_0x45d2a5};}['_getMorphV'+'ertexCount'](_0xc1b43a,_0x41a154,_0x1b63e3){for(let _0x20ee96=-0x1*-0x487+0x1f2+0x679*-0x1;_0x20ee96<_0xc1b43a['meshes']['length'];_0x20ee96++){const _0x4a3a91=_0xc1b43a['meshes'][_0x20ee96];if(_0x4a3a91['morph']===_0x41a154)return _0x1b63e3[_0x4a3a91['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x2eabc4,_0xc615fb,_0xf1ab5e){const _0x493614=_0x2eabc4['model'],_0x2952fa=[],_0x38e29b=[];let _0x5ce471,_0x4e27c5,_0x399cc5,_0x49a76d,_0xbfd7f9,_0xa41260;if(_0x493614['morphs']){const _0x4d341a=function(_0x1617f6,_0x8fea8d,_0x1571a9){const _0x41b074=new Float32Array(_0x1571a9*(0x731*-0x5+0x233+0x21c5));for(let _0x53a0d2=0x2e4*-0x1+0x1ce1*-0x1+0x3*0xa97;_0x53a0d2<_0x8fea8d['length'];_0x53a0d2++){const _0x1e74b5=_0x8fea8d[_0x53a0d2]*(0x3d7+0xf66+0x2e*-0x6b);_0x41b074[_0x1e74b5]=_0x1617f6[_0x53a0d2*(-0x1b1c+-0x1*0x1459+0x2f78)],_0x41b074[_0x1e74b5+(-0xf69+0x1cb4+-0x15*0xa2)]=_0x1617f6[_0x53a0d2*(0x3*-0x129+-0xad8*-0x3+-0x1d0a)+(0x37*0x1+-0xa*-0x139+0x638*-0x2)],_0x41b074[_0x1e74b5+(0x18cc+0x1ba4+-0x346e)]=_0x1617f6[_0x53a0d2*(-0x11*0x5a+-0x5*0x409+-0x18a*-0x11)+(-0x2eb*-0x7+-0x137f+-0x2*0x76)];}return _0x41b074;};for(_0x5ce471=-0x18e2+0x9*0x1ce+0x8a4*0x1;_0x5ce471<_0x493614['morphs']['length'];_0x5ce471++){for(_0x49a76d=_0x493614['morphs'][_0x5ce471]['targets'],_0xa41260=[],_0x399cc5=this['_getMorphV'+'ertexCount'](_0x493614,_0x5ce471,_0xf1ab5e),_0x4e27c5=-0x1dd4+-0xe71+0x2c45;_0x4e27c5<_0x49a76d['length'];_0x4e27c5++){const _0x44c6ef=_0x49a76d[_0x4e27c5]['aabb'],_0x19334f=_0x44c6ef['min'],_0x3aa859=_0x44c6ef['max'],_0x431d09=new De(new D((_0x3aa859[-0x1*-0x1bc7+-0x238+-0x1*0x198f]+_0x19334f[-0x1*-0x26e7+-0xd6*-0x1+-0xd3f*0x3])*(-0xd*0x41+-0x1*0x1ecc+0x2219+0.5),(_0x3aa859[-0x17c8*-0x1+0xa27+-0x65*0x56]+_0x19334f[0xc46+0xbc1+-0x4ce*0x5])*(0x22bb*0x1+0x7*0x479+-0x420a+0.5),(_0x3aa859[-0x269+0x208b+-0x1e20]+_0x19334f[0x1a61+-0x308*0x6+-0x82f])*(-0x7*-0x453+0x1a*-0xf+-0x1cbf+0.5)),new D((_0x3aa859[0x1c12+0x7*-0x1eb+-0xea5]-_0x19334f[0xc7*0x23+0x11fb*0x1+0xf1*-0x30])*(0x1d*0xd6+-0x1eb4+0x676+0.5),(_0x3aa859[0x6*-0x54+-0x1*0x18bb+0x1ab4]-_0x19334f[-0xdd+-0x2*0x101+0x2e0])*(0x1*-0x1723+0x4*0x5f6+-0x1*0xb5+0.5),(_0x3aa859[-0x5*-0x86+-0xfe1+0xd45]-_0x19334f[0xa7*-0x2a+0x1*-0x229+-0x9db*-0x3])*(0x28*0x1+-0x1f5b+-0x1*-0x1f33+0.5))),_0x3a27dd=_0x49a76d[_0x4e27c5]['indices'];let _0x35be41=_0x49a76d[_0x4e27c5]['deltaPosit'+'ions'],_0x18fb29=_0x49a76d[_0x4e27c5]['deltaNorma'+'ls'];_0x3a27dd&&(_0x35be41=_0x4d341a(_0x35be41,_0x3a27dd,_0x399cc5),_0x18fb29=_0x4d341a(_0x18fb29,_0x3a27dd,_0x399cc5)),_0xbfd7f9=new Md({'deltaPositions':_0x35be41,'deltaNormals':_0x18fb29,'name':_0x49a76d[_0x4e27c5]['name'],'aabb':_0x431d09}),_0xa41260['push'](_0xbfd7f9);}const _0x1f39f1=new mm(_0xa41260,this['_device']);_0x2952fa['push'](_0x1f39f1);const _0x17190f=new xa(_0x1f39f1);_0x38e29b['push'](_0x17190f);}}return{'morphs':_0x2952fa,'instances':_0x38e29b};}['_parseVert'+'exBuffers'](_0x585178){const _0x1c40cd=_0x585178['model'],_0x32f30d=[],_0x48a96f={'position':Me,'normal':gs,'tangent':yi,'blendWeight':gi,'blendIndices':us,'color':Wt,'texCoord0':is,'texCoord1':ba,'texCoord2':wl,'texCoord3':El,'texCoord4':bl,'texCoord5':Al,'texCoord6':Cl,'texCoord7':Pl};for(let _0x328ad5=-0xa60+0x240b+-0x19ab;_0x328ad5<_0x1c40cd['vertices']['length'];_0x328ad5++){const _0x1c52a4=_0x1c40cd['vertices'][_0x328ad5],_0x4ca36e=[];for(const _0x27fe97 in _0x1c52a4){const _0x48131f=_0x1c52a4[_0x27fe97];_0x4ca36e['push']({'semantic':_0x48a96f[_0x27fe97],'components':_0x48131f['components'],'type':Tk[_0x48131f['type']],'normalize':_0x48a96f[_0x27fe97]===Wt});}const _0x4f49ba=new kt(this['_device'],_0x4ca36e),_0x5ba900=_0x1c52a4['position']['data']['length']/_0x1c52a4['position']['components'],_0x10752e=new Is(this['_device'],_0x4f49ba,_0x5ba900),_0x4f0b60=new Uo(_0x10752e);for(let _0x4def7f=-0x2*-0x258+-0xb6b+0x6bb;_0x4def7f<_0x5ba900;_0x4def7f++){for(const _0x45b1f3 in _0x1c52a4){const _0x47fbd8=_0x1c52a4[_0x45b1f3];switch(_0x47fbd8['components']){case 0x110b+-0x1*0x25b+-0xeaf:_0x4f0b60['element'][_0x48a96f[_0x45b1f3]]['set'](_0x47fbd8['data'][_0x4def7f]);break;case 0x9e*-0x1b+0x5*-0x3f8+-0xc2c*-0x3:_0x4f0b60['element'][_0x48a96f[_0x45b1f3]]['set'](_0x47fbd8['data'][_0x4def7f*(0x229e+-0x90+-0x1106*0x2)],0x8e5+0x155d+-0x1e41-_0x47fbd8['data'][_0x4def7f*(0x3b*-0x1d+0x153e*-0x1+0x1bef)+(-0xc7*0x8+-0x13b6+0x3*0x8a5)]);break;case-0x1863+0x1f03+-0x69d:_0x4f0b60['element'][_0x48a96f[_0x45b1f3]]['set'](_0x47fbd8['data'][_0x4def7f*(-0x2*-0x486+-0x5*-0xd7+-0xd3c)],_0x47fbd8['data'][_0x4def7f*(-0xda4+0x85f+0x548)+(0x8a7+0x5*0x2a1+-0x15cb)],_0x47fbd8['data'][_0x4def7f*(-0x1c08+-0x4*-0x586+0x1*0x5f3)+(0x86f+-0x1495+0x8*0x185)]);break;case-0x260a+-0x1d5f+-0x1*-0x436d:_0x4f0b60['element'][_0x48a96f[_0x45b1f3]]['set'](_0x47fbd8['data'][_0x4def7f*(-0x201*-0xe+-0x2*-0x1247+0x9c*-0x6a)],_0x47fbd8['data'][_0x4def7f*(0xab4+0x1*0x485+-0xf35)+(-0xa92+0x1*-0x2135+0x1d3*0x18)],_0x47fbd8['data'][_0x4def7f*(-0x1*-0xf3b+0x1a4b*-0x1+0xb14)+(-0x1fbb+-0xba7+0x2*0x15b2)],_0x47fbd8['data'][_0x4def7f*(0x2*-0xa34+-0x1f6a*0x1+0x33d6)+(-0x2394+0x1*-0x949+-0x8*-0x59c)]);break;}}_0x4f0b60['next']();}_0x4f0b60['end'](),_0x32f30d['push'](_0x10752e);}return _0x32f30d;}['_parseInde'+'xBuffers'](_0x539e1e,_0x1c2a2b){const _0x20d58c=_0x539e1e['model'];let _0xf16f19=null,_0x190864=null,_0x3581a6,_0x26557a=0x1*0x63b+-0xc88+-0x64d*-0x1;for(_0x3581a6=-0x1*0x553+0x1*-0x2647+-0x15cd*-0x2;_0x3581a6<_0x20d58c['meshes']['length'];_0x3581a6++){const _0x27f16b=_0x20d58c['meshes'][_0x3581a6];_0x27f16b['indices']!==void(-0x6d*0x4a+-0x1*-0x20fb+-0x179)&&(_0x26557a+=_0x27f16b['indices']['length']);}let _0x31d511=-0x11ab*0x1+0x86*-0x17+0x1db5;for(_0x3581a6=0xb6f*0x3+-0x3e7+-0x1e66;_0x3581a6<_0x1c2a2b['length'];_0x3581a6++)_0x31d511=Math['max'](_0x31d511,_0x1c2a2b[_0x3581a6]['numVertice'+'s']);return _0x26557a>0xead+-0x39a*0x3+-0x3df&&(_0x31d511>0x2d7*0x3c+0x52f5+0x71*0x6?(_0xf16f19=new br(this['_device'],wr,_0x26557a),_0x190864=new Uint32Array(_0xf16f19['lock']())):(_0xf16f19=new br(this['_device'],Yi,_0x26557a),_0x190864=new Uint16Array(_0xf16f19['lock']()))),{'buffer':_0xf16f19,'data':_0x190864};}['_parseMesh'+'es'](_0x1a4f11,_0x2029f2,_0x1b7ac1,_0x4fcdfa,_0x26db22,_0x406603){const _0x5c1e3d=_0x1a4f11['model'],_0x127535=[];let _0x56bbf4=-0x497*0x8+-0x97*-0xb+0x1e3b;for(let _0x2e0d17=-0x1b1c+0x7*0x545+0x9c7*-0x1;_0x2e0d17<_0x5c1e3d['meshes']['length'];_0x2e0d17++){const _0xd51559=_0x5c1e3d['meshes'][_0x2e0d17],_0x407c2b=_0xd51559['aabb'],_0x1df872=_0x407c2b['min'],_0x2f23ec=_0x407c2b['max'],_0x29d773=new De(new D((_0x2f23ec[-0x1*0xd5b+-0x197*0x2+-0xf9*-0x11]+_0x1df872[-0x10f6+0x39e*-0x1+0x1494])*(-0x8a5*0x1+0x5*0x723+-0x1b0a+0.5),(_0x2f23ec[-0x11*-0x1e3+0x2453+-0x4465]+_0x1df872[0xa7c+-0x6*0x1dd+0xb3])*(0x166a+0x1bbd+-0x1*0x3227+0.5),(_0x2f23ec[-0x1*-0x13c6+0x77d*-0x5+-0x19*-0xb5]+_0x1df872[-0x6*0x17b+0x2607+-0x1d23])*(-0x761*0x2+-0x2397*-0x1+-0x14d5*0x1+0.5)),new D((_0x2f23ec[-0x1*0xb50+0x3b9+-0x1*-0x797]-_0x1df872[0x34*-0x63+-0x1*-0xdc3+-0x1*-0x659])*(-0xb37+-0x3*0xa6d+0x2a7e+0.5),(_0x2f23ec[-0x8*-0x3b3+0x7d6*0x4+-0x3cef]-_0x1df872[-0x2*0xccd+0x24c4+-0x1*0xb29])*(-0x1*0x1ca5+-0x1ada+0x377f*0x1+0.5),(_0x2f23ec[-0x1862+0x7b3+0x10b1]-_0x1df872[0x1*0xc2f+0x557+-0x13*0xec])*(0x1d*0x1+0x1*0xec3+-0xee0+0.5))),_0x26586f=_0xd51559['indices']!==void(0x23ae+-0x36*-0x16+-0x2852),_0x2389f4=new Ge(this['_device']);_0x2389f4['vertexBuff'+'er']=_0x4fcdfa[_0xd51559['vertices']],_0x2389f4['indexBuffe'+'r'][-0xbd7*0x1+0x641*-0x5+-0x1*-0x2b1c]=_0x26586f?_0x26db22:null,_0x2389f4['primitive'][-0x9dd+0x7*-0x259+-0x2c*-0x99]['type']=xk[_0xd51559['type']],_0x2389f4['primitive'][0x1*-0x178d+-0x22fe+0x3a8b]['base']=_0x26586f?_0xd51559['base']+_0x56bbf4:_0xd51559['base'],_0x2389f4['primitive'][0xb9c+-0x121*-0x13+-0x210f]['count']=_0xd51559['count'],_0x2389f4['primitive'][-0x1*-0xada+-0x733*0x1+-0x3a7]['indexed']=_0x26586f,_0x2389f4['skin']=_0xd51559['skin']!==void(-0x102a+-0x23c2+0x33ec)?_0x2029f2[_0xd51559['skin']]:null,_0x2389f4['morph']=_0xd51559['morph']!==void(0x1df5*0x1+0x617+-0x240c)?_0x1b7ac1[_0xd51559['morph']]:null,_0x2389f4['aabb']=_0x29d773,_0x26586f&&(_0x406603['set'](_0xd51559['indices'],_0x56bbf4),_0x56bbf4+=_0xd51559['indices']['length']),_0x127535['push'](_0x2389f4);}return _0x26db22!==null&&_0x26db22['unlock'](),_0x127535;}['_parseMesh'+'Instances'](_0x4afee3,_0x57c406,_0x341028,_0x11f248,_0x2cad6e,_0x5f39bd,_0x2afaf4){const _0xe56691=_0x4afee3['model'],_0x139b0e=[];let _0x15cd1b;for(_0x15cd1b=-0xb23*-0x1+-0xd7*-0x1a+-0x20f9;_0x15cd1b<_0xe56691['meshInstan'+'ces']['length'];_0x15cd1b++){const _0x1aa83e=_0xe56691['meshInstan'+'ces'][_0x15cd1b],_0x4ad66c=_0x57c406[_0x1aa83e['node']],_0x551bb1=_0x341028[_0x1aa83e['mesh']],_0x84d6c3=new He(_0x551bb1,this['_defaultMa'+'terial'],_0x4ad66c);if(_0x551bb1['skin']){const _0x8ff5e5=_0x11f248['indexOf'](_0x551bb1['skin']);if(_0x8ff5e5===-(-0x71*-0x53+-0x1d7f+-0x723))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x84d6c3['skinInstan'+'ce']=_0x2cad6e[_0x8ff5e5];}if(_0x551bb1['morph']){const _0x2d7779=_0x5f39bd['indexOf'](_0x551bb1['morph']);if(_0x2d7779===-(-0x4*-0x97+0x22fa+-0x2555))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x84d6c3['morphInsta'+'nce']=_0x2afaf4[_0x2d7779];}_0x139b0e['push'](_0x84d6c3);}return _0x139b0e;}}class Ek extends Qe{constructor(_0x37d6e8){super(_0x37d6e8,'model'),this['_parsers']=[],this['device']=_0x37d6e8['graphicsDe'+'vice'],this['assets']=_0x37d6e8['assets'],this['defaultMat'+'erial']=Qn(this['device']),this['addParser'](new wk(this),(_0x5667b3,_0x497874)=>xe['getExtensi'+'on'](_0x5667b3)==='.json'),this['addParser'](new vk(this),(_0x258299,_0x5e017a)=>xe['getExtensi'+'on'](_0x258299)==='.glb');}['load'](_0x47152a,_0x423fca,_0x95e420){typeof _0x47152a=='string'&&(_0x47152a={'load':_0x47152a,'original':_0x47152a});const _0x1bc4bd={'retry':this['maxRetries']>-0x3*-0xb07+-0x110+-0x2005,'maxRetries':this['maxRetries']};(_0x47152a['load']['startsWith']('blob:')||_0x47152a['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x47152a['original'])['toLowerCas'+'e']()==='.glb'?_0x1bc4bd['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x1bc4bd['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x47152a['load'],_0x1bc4bd,(_0x18f6a5,_0x24d556)=>{if(_0x423fca){if(_0x18f6a5)_0x423fca('Error\x20load'+'ing\x20model:'+'\x20'+_0x47152a['original']+'\x20['+_0x18f6a5+']');else{for(let _0x470ad4=0x15cb+0xdea+-0x23b5;_0x470ad4<this['_parsers']['length'];_0x470ad4++){const _0x46fbd7=this['_parsers'][_0x470ad4];if(_0x46fbd7['decider'](_0x47152a['original'],_0x24d556)){_0x46fbd7['parser']['parse'](_0x24d556,(_0x25dcd9,_0x2479e7)=>{_0x25dcd9?_0x423fca(_0x25dcd9):_0x423fca(null,_0x2479e7);},_0x95e420);return;}}_0x423fca('No\x20parsers'+'\x20found');}}});}['open'](_0x31048d,_0x5deb8f){return _0x5deb8f;}['patch'](_0x2dd7a2,_0x1ed1da){if(!_0x2dd7a2['resource'])return;const _0x320220=_0x2dd7a2['data'],_0xd82730=this;_0x2dd7a2['resource']['meshInstan'+'ces']['forEach']((_0xf38ddf,_0x1a1b6c)=>{if(_0x320220['mapping']){const _0x13f336=function(_0x5e5226){_0x5e5226['resource']?_0xf38ddf['material']=_0x5e5226['resource']:(_0x5e5226['once']('load',_0x13f336),_0x1ed1da['load'](_0x5e5226)),_0x5e5226['once']('remove',_0x1a96ed=>{_0xf38ddf['material']===_0x1a96ed['resource']&&(_0xf38ddf['material']=_0xd82730['defaultMat'+'erial']);});};if(!_0x320220['mapping'][_0x1a1b6c]){_0xf38ddf['material']=_0xd82730['defaultMat'+'erial'];return;}const _0x1a4dd1=_0x320220['mapping'][_0x1a1b6c]['material'],_0x351c02=_0x320220['mapping'][_0x1a1b6c]['path'];let _0xd2589f;if(_0x1a4dd1!==void(-0xd86+0x18ec+0x1*-0xb66))_0x1a4dd1?(_0xd2589f=_0x1ed1da['get'](_0x1a4dd1),_0xd2589f?_0x13f336(_0xd2589f):_0x1ed1da['once']('add:'+_0x1a4dd1,_0x13f336)):_0xf38ddf['material']=_0xd82730['defaultMat'+'erial'];else{if(_0x351c02){const _0x2672a7=_0x2dd7a2['getAbsolut'+'eUrl'](_0x320220['mapping'][_0x1a1b6c]['path']);_0xd2589f=_0x1ed1da['getByUrl'](_0x2672a7),_0xd2589f?_0x13f336(_0xd2589f):_0x1ed1da['once']('add:url:'+_0x2672a7,_0x13f336);}}}});}['addParser'](_0x38c36c,_0x42efe5){this['_parsers']['push']({'parser':_0x38c36c,'decider':_0x42efe5});}}class bk extends Qe{constructor(_0x1629a5){super(_0x1629a5,'scene');}['load'](_0x2d9cf1,_0x3ef6fe){E0['load'](_0x2d9cf1,this['maxRetries'],_0x3ef6fe);}['open'](_0x24170c,_0x3bd629){this['_app']['systems']['script']['preloading']=!(0x1a8+0x251f+-0x26c7);const _0x7cd4e5=new bm(this['_app'],!(-0x1*-0xc77+0x1e82+-0x2af8))['parse'](_0x3bd629),_0x363ef3=this['_app']['scene'];return _0x363ef3['root']=_0x7cd4e5,this['_app']['applyScene'+'Settings'](_0x3bd629['settings']),this['_app']['systems']['script']['preloading']=!(-0x587+0x1cef+-0x1767),_0x363ef3;}}const qh=class qh{static['push'](_0x3430bb){qh['_types']['push'](_0x3430bb);}};h(qh,'_types',[]);let aa=qh;const Ak=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),Ck={};Sl['reservedNa'+'mes']['forEach']((_0x14c9e1,_0x349f2c,_0x13de0d)=>{Ck[_0x14c9e1]=0xc9e+-0x266f*0x1+0x19d2;});function Pk(_0x1b7312,_0x34baad,_0x2a6418){if(typeof _0x1b7312!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x1b7312+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x1b7312['prototype']instanceof ts))throw new Error('script\x20cla'+'ss:\x20\x27'+Wo['__getScrip'+'tName'](_0x1b7312)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x34baad=_0x34baad||_0x1b7312['__name']||Wo['__getScrip'+'tName'](_0x1b7312),Ak['has'](_0x34baad))throw new Error('script\x20nam'+'e:\x20\x27'+_0x34baad+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x1b7312['__name']=_0x34baad,Ks['getApplica'+'tion']()['scripts']['add'](_0x1b7312),aa['push'](_0x1b7312);}const Mk=_0x239bd8=>_0x239bd8[-0x1739+-0x46d*0x3+-0x490*-0x8]['toLowerCas'+'e']()+_0x239bd8['substring'](-0xc06+0x14a8+-0x2f*0x2f);class Dk extends Qe{constructor(_0x176ed6){super(_0x176ed6,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x387f87 in this['_cache']){const _0x55aecc=this['_cache'][_0x387f87],_0x284c7b=_0x55aecc['parentNode'];_0x284c7b&&_0x284c7b['removeChil'+'d'](_0x55aecc);}this['_cache']={};}['load'](_0x1181a0,_0x5eace6){typeof _0x1181a0=='string'&&(_0x1181a0={'load':_0x1181a0,'original':_0x1181a0});const _0x3cfb35=this;this['_app'];const _0x40e6f1=(_0x1181a0['load'],(_0x180fef,_0x4ad689,_0x53e659)=>{if(_0x180fef)_0x5eace6(_0x180fef);else{const _0x162edc={};for(let _0x114e83=0x1bc5+0x89*0x3+-0x1d60;_0x114e83<aa['_types']['length'];_0x114e83++)_0x162edc[aa['_types'][_0x114e83]['name']]=aa['_types'][_0x114e83];aa['_types']['length']=0x110d+-0x2*0xb3+-0xfa7,_0x5eace6(null,_0x162edc,_0x53e659);const _0x5b58bc=_0x4ad689['split']('&hash=')[-0x92c+0x1*0xc2b+-0x2ff];delete _0x3cfb35['_loader']['_cache'][Cn['makeKey'](_0x5b58bc,'script')];}}),[_0x15751e]=_0x1181a0['load']['split']('?');_0x15751e['endsWith']('.mjs')?this['_loadModul'+'e'](_0x15751e,_0x40e6f1):this['_loadScrip'+'t'](_0x1181a0['load'],_0x40e6f1);}['open'](_0x5b0222,_0x797da3){return _0x797da3;}['patch'](_0x4e5705,_0x4d048e){}['_loadScrip'+'t'](_0x2b3eb9,_0x5024ed){const _0x2e1f9b=document['head'],_0x23c35c=document['createElem'+'ent']('script');this['_cache'][_0x2b3eb9]=_0x23c35c,_0x23c35c['async']=!(0x957+0x350*-0xa+0x17ca),_0x23c35c['addEventLi'+'stener']('error',_0x1ec6e3=>{_0x5024ed('Script:\x20'+_0x1ec6e3['target']['src']+('\x20failed\x20to'+'\x20load'));},!(0x10f5+0x1b64+-0x2c58));let _0x263303=!(0x4b9*0x6+-0x31*0x17+-0x17ee);_0x23c35c['onload']=_0x23c35c['onreadysta'+'techange']=function(){!_0x263303&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x263303=!(0x1*0x1549+-0x563*-0x2+0x1*-0x200f),_0x5024ed(null,_0x2b3eb9,_0x23c35c));},_0x23c35c['src']=_0x2b3eb9,_0x2e1f9b['appendChil'+'d'](_0x23c35c);}['_loadModul'+'e'](_0x203568,_0x2f865d){const _0x329715=Ae['browser']&&window['location']['origin']!=='null'?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0xe72261=new URL(_0x203568,_0x329715);import(_0xe72261['toString']())['then'](_0x261348=>{var _0x35e0d6,_0x4ba478;const _0x511ca6=_0xe72261['pathname']['split']('/')['pop'](),_0x36844a=(_0x4ba478=(_0x35e0d6=this['_app']['assets']['find'](_0x511ca6,'script'))==null?void(0x40*0x44+0x567+-0x1667):_0x35e0d6['data'])==null?void(-0x3*0x3e1+0x20b5+0x5d*-0x3a):_0x4ba478['scripts'];for(const _0x49a498 in _0x261348){const _0x32200f=_0x261348[_0x49a498];if(_0x32200f['prototype']instanceof ts){const _0x4d373e=Mk(_0x32200f['name']);_0x32200f['scriptName']||w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0x32200f['name']+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0x32200f['name']+('.scriptNam'+'e\x20=\x20\x22')+_0x4d373e+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.'));const _0xc49f78=_0x32200f['scriptName']??_0x4d373e;Pk(_0x32200f,_0xc49f78),_0x36844a&&this['_app']['scripts']['addSchema'](_0xc49f78,_0x36844a[_0xc49f78]);}}_0x2f865d(null,_0x203568,null);})['catch'](_0x5ba3e6=>{_0x2f865d(_0x5ba3e6);});}}class Ik extends Qe{constructor(_0x37a677){super(_0x37a677,'shader'),h(this,'decoder',null);}['load'](_0x8d81f6,_0x131f1e){typeof _0x8d81f6=='string'&&(_0x8d81f6={'load':_0x8d81f6,'original':_0x8d81f6}),ot['get'](_0x8d81f6['load'],{'retry':this['maxRetries']>-0x1*-0x1607+-0x8*0x383+0x611,'maxRetries':this['maxRetries']},(_0x25ce1d,_0x51067b)=>{_0x25ce1d?_0x131f1e('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x8d81f6['original']+'\x20['+_0x25ce1d+']'):_0x131f1e(null,_0x51067b);});}['openBinary'](_0x2f1d54){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x2f1d54);}}function Pf(_0xb87a26){const _0x4f8479=this;_0x4f8479['resource']&&(_0x4f8479['resource']['atlas']=_0xb87a26['resource']);}function Mf(_0x4c41eb){this['registry']['load'](_0x4c41eb);}class Lk extends Qe{constructor(_0x475d30){super(_0x475d30,'sprite'),this['_assets']=_0x475d30['assets'],this['_device']=_0x475d30['graphicsDe'+'vice'];}['load'](_0xf62116,_0x7090d3){typeof _0xf62116=='string'&&(_0xf62116={'load':_0xf62116,'original':_0xf62116}),xe['getExtensi'+'on'](_0xf62116['original'])==='.json'&&ot['get'](_0xf62116['load'],{'retry':this['maxRetries']>0x2c*0xab+-0x2385+0x621,'maxRetries':this['maxRetries']},(_0x176d46,_0x41268e)=>{_0x176d46?_0x7090d3(_0x176d46):_0x7090d3(null,_0x41268e);});}['open'](_0x49e629,_0x3ee702){const _0x17a961=new BA(this['_device']);return _0x49e629&&(_0x17a961['__data']=_0x3ee702),_0x17a961;}['patch'](_0x267085,_0x52efad){const _0x1db933=_0x267085['resource'];if(_0x1db933['__data']&&(_0x267085['data']['pixelsPerU'+'nit']=_0x1db933['__data']['pixelsPerU'+'nit'],_0x267085['data']['renderMode']=_0x1db933['__data']['renderMode'],_0x267085['data']['frameKeys']=_0x1db933['__data']['frameKeys'],_0x1db933['__data']['textureAtl'+'asAsset'])){const _0x28aa97=_0x52efad['getByUrl'](_0x1db933['__data']['textureAtl'+'asAsset']);_0x28aa97?_0x267085['data']['textureAtl'+'asAsset']=_0x28aa97['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x1db933['__data']['textureAtl'+'asAsset']);}_0x1db933['startUpdat'+'e'](),_0x1db933['renderMode']=_0x267085['data']['renderMode'],_0x1db933['pixelsPerU'+'nit']=_0x267085['data']['pixelsPerU'+'nit'],_0x1db933['frameKeys']=_0x267085['data']['frameKeys'],this['_updateAtl'+'as'](_0x267085),_0x1db933['endUpdate'](),_0x267085['off']('change',this['_onAssetCh'+'ange'],this),_0x267085['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x17bfa8){const _0x20b0ec=_0x17bfa8['resource'];if(!_0x17bfa8['data']['textureAtl'+'asAsset']){_0x20b0ec['atlas']=null;return;}this['_assets']['off']('load:'+_0x17bfa8['data']['textureAtl'+'asAsset'],Pf,_0x17bfa8),this['_assets']['on']('load:'+_0x17bfa8['data']['textureAtl'+'asAsset'],Pf,_0x17bfa8);const _0x303e6e=this['_assets']['get'](_0x17bfa8['data']['textureAtl'+'asAsset']);_0x303e6e&&_0x303e6e['resource']?_0x20b0ec['atlas']=_0x303e6e['resource']:_0x303e6e?this['_assets']['load'](_0x303e6e):(this['_assets']['off']('add:'+_0x17bfa8['data']['textureAtl'+'asAsset'],Mf,_0x17bfa8),this['_assets']['on']('add:'+_0x17bfa8['data']['textureAtl'+'asAsset'],Mf,_0x17bfa8));}['_onAssetCh'+'ange'](_0x5323a7,_0x1dd3ae,_0x351213,_0x5899d8){_0x1dd3ae==='data'&&_0x351213&&_0x351213['textureAtl'+'asAsset']&&_0x5899d8&&_0x351213['textureAtl'+'asAsset']!==_0x5899d8['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x5899d8['textureAtl'+'asAsset'],Pf,_0x5323a7),this['_assets']['off']('add:'+_0x5899d8['textureAtl'+'asAsset'],Mf,_0x5323a7));}}class vS{constructor(_0x4e4dfd,_0x4b5a8c){h(this,'_app'),h(this,'_data'),h(this,'_templateR'+'oot',null),(this['_app']=_0x4e4dfd,this['_data']=_0x4b5a8c);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x213fdf=new bm(this['_app'],!(0x86*0x16+0x1c4a+0x27ce*-0x1));this['_templateR'+'oot']=_0x213fdf['parse'](this['_data']);}}class Rk extends Qe{constructor(_0x2d20a8){super(_0x2d20a8,'template'),h(this,'decoder',null);}['load'](_0xe41374,_0x33e467){typeof _0xe41374=='string'&&(_0xe41374={'load':_0xe41374,'original':_0xe41374});const _0x49d258={'retry':this['maxRetries']>-0x2d4*0x2+0x873*-0x2+0x168e,'maxRetries':this['maxRetries']};ot['get'](_0xe41374['load'],_0x49d258,(_0x2f0d7c,_0x4b4a93)=>{_0x2f0d7c?_0x33e467('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0xe41374['original']):_0x33e467(_0x2f0d7c,_0x4b4a93);});}['open'](_0x53039a,_0x143fb0){return new vS(this['_app'],_0x143fb0);}['openBinary'](_0x457dbc){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new vS(this['_app'],JSON['parse'](this['decoder']['decode'](_0x457dbc)));}}class Ok extends Qe{constructor(_0x4d6543){super(_0x4d6543,'text'),h(this,'decoder',null);}['load'](_0x20df82,_0x4c6b15){typeof _0x20df82=='string'&&(_0x20df82={'load':_0x20df82,'original':_0x20df82}),ot['get'](_0x20df82['load'],{'retry':this['maxRetries']>-0x30d*0x5+-0x360*-0xb+-0x15df*0x1,'maxRetries':this['maxRetries']},(_0x272b26,_0x306544)=>{_0x272b26?_0x4c6b15('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x20df82['original']+'\x20['+_0x272b26+']'):_0x4c6b15(null,_0x306544);});}['openBinary'](_0x54d31d){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x54d31d);}}const Ic={'repeat':yt,'clamp':ue,'mirror':ip},Lc={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},Fk=/^data\.frames\.(\d+)$/;class Nk extends Qe{constructor(_0x3b9067){super(_0x3b9067,'textureatl'+'as'),this['_loader']=_0x3b9067['loader'];}['load'](_0x3e9656,_0x28ad6e){typeof _0x3e9656=='string'&&(_0x3e9656={'load':_0x3e9656,'original':_0x3e9656});const _0x333ffb=this,_0x152466=this['_loader']['getHandler']('texture');xe['getExtensi'+'on'](_0x3e9656['original'])==='.json'?ot['get'](_0x3e9656['load'],{'retry':this['maxRetries']>-0x2546+0x233*0xa+-0xc*-0x146,'maxRetries':this['maxRetries']},(_0x5d6f3f,_0x9b9c79)=>{if(_0x5d6f3f)_0x28ad6e(_0x5d6f3f);else{const _0x441c53=_0x3e9656['original']['replace']('.json','.png');_0x333ffb['_loader']['load'](_0x441c53,'texture',(_0x3874a2,_0x4d5b32)=>{_0x3874a2?_0x28ad6e(_0x3874a2):_0x28ad6e(null,{'data':_0x9b9c79,'texture':_0x4d5b32});});}}):_0x152466['load'](_0x3e9656,_0x28ad6e);}['open'](_0x11c8c0,_0x3c4db1,_0xfb52c7){const _0x583f07=new zA();if(_0x3c4db1['texture']&&_0x3c4db1['data'])_0x583f07['texture']=_0x3c4db1['texture'],_0x583f07['__data']=_0x3c4db1['data'];else{const _0x438a79=this['_loader']['getHandler']('texture')['open'](_0x11c8c0,_0x3c4db1,_0xfb52c7);if(!_0x438a79)return null;_0x583f07['texture']=_0x438a79;}return _0x583f07;}['patch'](_0x32cf9d,_0x10dda4){if(!_0x32cf9d['resource'])return;_0x32cf9d['resource']['__data']&&(_0x32cf9d['resource']['__data']['minfilter']!==void(0x84+-0x1222+-0xa*-0x1c3)&&(_0x32cf9d['data']['minfilter']=_0x32cf9d['resource']['__data']['minfilter']),_0x32cf9d['resource']['__data']['magfilter']!==void(0x1ce5+-0x20e7+0x402)&&(_0x32cf9d['data']['magfilter']=_0x32cf9d['resource']['__data']['magfilter']),_0x32cf9d['resource']['__data']['addressu']!==void(0x1*0x41f+0x1d1d*-0x1+0x18fe)&&(_0x32cf9d['data']['addressu']=_0x32cf9d['resource']['__data']['addressu']),_0x32cf9d['resource']['__data']['addressv']!==void(0x3*0x7f7+-0x2*0xd3d+0x295)&&(_0x32cf9d['data']['addressv']=_0x32cf9d['resource']['__data']['addressv']),_0x32cf9d['resource']['__data']['mipmaps']!==void(-0x5c0+-0x25b5+0x2b75)&&(_0x32cf9d['data']['mipmaps']=_0x32cf9d['resource']['__data']['mipmaps']),_0x32cf9d['resource']['__data']['anisotropy']!==void(-0x1d83+0x2108+-0x385)&&(_0x32cf9d['data']['anisotropy']=_0x32cf9d['resource']['__data']['anisotropy']),_0x32cf9d['resource']['__data']['rgbm']!==void(-0x5d7+-0x2*0x377+0xcc5)&&(_0x32cf9d['data']['rgbm']=!!_0x32cf9d['resource']['__data']['rgbm']),_0x32cf9d['data']['frames']=_0x32cf9d['resource']['__data']['frames'],delete _0x32cf9d['resource']['__data']);const _0x526ca4=_0x32cf9d['resource']['texture'];if(_0x526ca4&&(_0x526ca4['name']=_0x32cf9d['name'],_0x32cf9d['data']['hasOwnProp'+'erty']('minfilter')&&_0x526ca4['minFilter']!==Lc[_0x32cf9d['data']['minfilter']]&&(_0x526ca4['minFilter']=Lc[_0x32cf9d['data']['minfilter']]),_0x32cf9d['data']['hasOwnProp'+'erty']('magfilter')&&_0x526ca4['magFilter']!==Lc[_0x32cf9d['data']['magfilter']]&&(_0x526ca4['magFilter']=Lc[_0x32cf9d['data']['magfilter']]),_0x32cf9d['data']['hasOwnProp'+'erty']('addressu')&&_0x526ca4['addressU']!==Ic[_0x32cf9d['data']['addressu']]&&(_0x526ca4['addressU']=Ic[_0x32cf9d['data']['addressu']]),_0x32cf9d['data']['hasOwnProp'+'erty']('addressv')&&_0x526ca4['addressV']!==Ic[_0x32cf9d['data']['addressv']]&&(_0x526ca4['addressV']=Ic[_0x32cf9d['data']['addressv']]),_0x32cf9d['data']['hasOwnProp'+'erty']('mipmaps')&&_0x526ca4['mipmaps']!==_0x32cf9d['data']['mipmaps']&&(_0x526ca4['mipmaps']=_0x32cf9d['data']['mipmaps']),_0x32cf9d['data']['hasOwnProp'+'erty']('anisotropy')&&_0x526ca4['anisotropy']!==_0x32cf9d['data']['anisotropy']&&(_0x526ca4['anisotropy']=_0x32cf9d['data']['anisotropy']),_0x32cf9d['data']['hasOwnProp'+'erty']('rgbm'))){const _0x2023a3=_0x32cf9d['data']['rgbm']?Zi:Ds;_0x526ca4['type']!==_0x2023a3&&(_0x526ca4['type']=_0x2023a3);}_0x32cf9d['resource']['texture']=_0x526ca4;const _0x3315ff={};for(const _0x3c1c8d in _0x32cf9d['data']['frames']){const _0x19f8f5=_0x32cf9d['data']['frames'][_0x3c1c8d];_0x3315ff[_0x3c1c8d]={'rect':new re(_0x19f8f5['rect']),'pivot':new J(_0x19f8f5['pivot']),'border':new re(_0x19f8f5['border'])};}_0x32cf9d['resource']['frames']=_0x3315ff,_0x32cf9d['off']('change',this['_onAssetCh'+'ange'],this),_0x32cf9d['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x252d00,_0x2a57cf,_0x365b31){let _0x2558b6;if(_0x2a57cf==='data'||_0x2a57cf==='data.frame'+'s'){const _0x325835={};for(const _0x446011 in _0x365b31['frames'])_0x2558b6=_0x365b31['frames'][_0x446011],_0x325835[_0x446011]={'rect':new re(_0x2558b6['rect']),'pivot':new J(_0x2558b6['pivot']),'border':new re(_0x2558b6['border'])};_0x252d00['resource']['frames']=_0x325835;}else{const _0x547ccc=_0x2a57cf['match'](Fk);if(_0x547ccc){const _0x2d7a87=_0x547ccc[-0x18c4+-0xe66+0x10f*0x25];_0x365b31?(_0x252d00['resource']['frames'][_0x2d7a87]?(_0x2558b6=_0x252d00['resource']['frames'][_0x2d7a87],_0x2558b6['rect']['set'](_0x365b31['rect'][0x229+-0x1*0x3f5+-0x17*-0x14],_0x365b31['rect'][-0x12e4+-0x1a*0x118+0x2f55*0x1],_0x365b31['rect'][0x259e+-0x365*-0x5+-0x3695*0x1],_0x365b31['rect'][-0x3*-0x35f+0xc8f*0x2+-0x2338]),_0x2558b6['pivot']['set'](_0x365b31['pivot'][0x1890+0x1ae3*-0x1+0x253],_0x365b31['pivot'][0x20e*0xa+-0x125a+-0x3*0xbb]),_0x2558b6['border']['set'](_0x365b31['border'][-0x266d+-0x247e+-0x1*-0x4aeb],_0x365b31['border'][0x1*-0x515+-0x3*-0x7a7+-0x11df],_0x365b31['border'][0x2657+0x3fe*0x3+0x51*-0x9f],_0x365b31['border'][0x398+-0x7*-0x3bf+-0x1dce])):_0x252d00['resource']['frames'][_0x2d7a87]={'rect':new re(_0x365b31['rect']),'pivot':new J(_0x365b31['pivot']),'border':new re(_0x365b31['border'])},_0x252d00['resource']['fire']('set:frame',_0x2d7a87,_0x252d00['resource']['frames'][_0x2d7a87])):_0x252d00['resource']['frames'][_0x2d7a87]&&(delete _0x252d00['resource']['frames'][_0x2d7a87],_0x252d00['resource']['fire']('remove:fra'+'me',_0x2d7a87));}}}}function kk(){const _0x11f460={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x1a9694={'astc':_0x11f460['cTFASTC_4x'+'4'],'dxt':_0x11f460['cTFBC1'],'etc1':_0x11f460['cTFETC1'],'etc2':_0x11f460['cTFETC1'],'pvr':_0x11f460['cTFPVRTC1_'+'4_RGB'],'atc':_0x11f460['cTFATC_RGB'],'none':_0x11f460['cTFRGB565']},_0x2be583={'astc':_0x11f460['cTFASTC_4x'+'4'],'dxt':_0x11f460['cTFBC3'],'etc1':_0x11f460['cTFRGBA444'+'4'],'etc2':_0x11f460['cTFETC2'],'pvr':_0x11f460['cTFPVRTC1_'+'4_RGBA'],'atc':_0x11f460['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x11f460['cTFRGBA444'+'4']},_0x7ae111={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x58d634=(_0x167a93,_0x5ab5c0)=>{switch(_0x167a93){case _0x11f460['cTFETC1']:return _0x5ab5c0['formats']['etc2']?_0x7ae111['ETC2_RGB']:_0x7ae111['ETC1'];case _0x11f460['cTFETC2']:return _0x7ae111['ETC2_RGBA'];case _0x11f460['cTFBC1']:return _0x7ae111['DXT1'];case _0x11f460['cTFBC3']:return _0x7ae111['DXT5'];case _0x11f460['cTFPVRTC1_'+'4_RGB']:return _0x7ae111['PVRTC_4BPP'+'_RGB_1'];case _0x11f460['cTFPVRTC1_'+'4_RGBA']:return _0x7ae111['PVRTC_4BPP'+'_RGBA_1'];case _0x11f460['cTFASTC_4x'+'4']:return _0x7ae111['ASTC_4x4'];case _0x11f460['cTFATC_RGB']:return _0x7ae111['ATC_RGB'];case _0x11f460['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x7ae111['ATC_RGBA'];case _0x11f460['cTFRGBA32']:return _0x7ae111['R8_G8_B8_A'+'8'];case _0x11f460['cTFRGB565']:return _0x7ae111['R5_G6_B5'];case _0x11f460['cTFRGBA444'+'4']:return _0x7ae111['R4_G4_B4_A'+'4'];}},_0x51c2dc=_0x3445ce=>{const _0x301b94=function(_0x178a79,_0x3daa8e){const _0x19ce29=_0x178a79*(0x1299+0x1b8a+-0x3*0xf61+0.00784313725490196)-(-0x246e+0x17*-0xa1+0x1*0x32e6),_0x1915e1=_0x3daa8e*((0x1*0x18ae+0x77e+-0x202a*0x1)/(-0x745*0x2+-0x4*0x95+0x11dd))-(0x1aee+0x253d+-0x402a),_0x1a2fd2=Math['sqrt'](0x2f*-0x35+-0x20b*-0x4+0x190-Math['min'](-0x21ca+0xb8a+0x3*0x76b,_0x19ce29*_0x19ce29+_0x1915e1*_0x1915e1));return Math['max'](0x1*0x139d+0x1cf1*0x1+-0x308e,Math['min'](0x9d5*-0x3+-0x1*0xf4d+0x13*0x269,Math['floor']((_0x1a2fd2+(-0x1219+0x13ba+-0x1*0x1a0))*(0x35b+-0x104*-0x23+0x1b1*-0x17+0.5)*(0x1f18+0xbee+-0x2a07))));};for(let _0x360070=0x84c+0x1*0xc5+0x1*-0x911;_0x360070<_0x3445ce['length'];_0x360070+=-0x110d+-0x5*-0x547+-0x952){const _0x5b8d86=_0x3445ce[_0x360070+(-0x1e7+0x2604+-0x120d*0x2)],_0x925bd=_0x3445ce[_0x360070+(-0x19c4+0x20e1+-0x71c*0x1)];_0x3445ce[_0x360070+(-0x163b+-0xc59*-0x1+0x9e2)]=_0x5b8d86,_0x3445ce[_0x360070+(-0x38*0x8+-0x29*-0x3d+-0x803)]=_0x301b94(_0x5b8d86,_0x925bd),_0x3445ce[_0x360070+(-0x535+-0x1e10+0x2348)]=-0x2041+-0x209a*0x1+-0x20ed*-0x2;}return _0x3445ce;},_0x3b6385=_0x401179=>{const _0x3b6d3f=new Uint16Array(_0x401179['length']/(-0x593+0x1c4b+-0x2*0xb5a));for(let _0x279895=-0x6b*0x2b+-0x11*0x16e+0x2a47;_0x279895<_0x401179['length'];_0x279895+=0x557+0x12bc+0x1*-0x180f){const _0x7bf2a4=_0x401179[_0x279895+(-0x461*0x8+-0x167+0x3*0xc25)],_0x44d96a=_0x401179[_0x279895+(-0x2ce*-0x1+0x2*-0xb03+0x103*0x13)],_0x23d57f=_0x401179[_0x279895+(-0x621+0xe51+-0x82e)];_0x3b6d3f[_0x279895/(-0x4c7+-0x1460+0x192b)]=(_0x7bf2a4&-0x33d*-0x3+0x153*0xf+-0xe4e*0x2)<<0xcd1+-0x3*-0xae5+0x48c*-0xa|(_0x44d96a&-0x7*0x261+-0x12f*-0x21+-0x6*0x392)<<-0x1b0e+0x1*-0x757+-0x3*-0xb78|_0x23d57f>>-0x3bb*-0x2+0x19c2+-0x2135;}return _0x3b6d3f;},_0x3f5558=(_0x25403a,_0x2ef15f)=>(_0x25403a&_0x25403a-(0xd03+0xe*-0x6d+-0x1*0x70c))===0x22f7+-0x1b52+-0x7a5&&(_0x2ef15f&_0x2ef15f-(0x35b*0x1+0x47*0x1a+-0x34*0x34))===0x1*0x1bf8+-0xeeb*0x1+0xd0d*-0x1,_0x16cc40=()=>typeof performance<'u'?performance['now']():0x898+0xb44*0x1+-0x13dc;let _0x5546c0,_0x150331,_0x2f2ce9;const _0x3d2b96=(_0x37a06b,_0x2d9f3b,_0x563d29)=>{if(_0x563d29){if(_0x37a06b['formats']['astc'])return'astc';}else{if(_0x2d9f3b){if(_0x37a06b['formats']['etc2'])return'etc2';}else{if(_0x37a06b['formats']['etc2'])return'etc2';if(_0x37a06b['formats']['etc1'])return'etc1';}}return(_0x391fed=>{for(let _0x154b55=-0x11d*0x15+-0x15*0x72+0x20bb;_0x154b55<_0x391fed['length'];++_0x154b55){const _0x5655d1=_0x391fed[_0x154b55];if(_0x37a06b['formats'][_0x5655d1])return _0x5655d1;}return'none';})(_0x2d9f3b?_0x2f2ce9:_0x150331);},_0x417030=(_0x57459f,_0x298004,_0x45eedf)=>{switch(_0x45eedf){case _0x11f460['cTFETC1']:case _0x11f460['cTFETC2']:return!(-0x4dc*-0x8+0x1*-0x2309+0x3d7*-0x1);case _0x11f460['cTFBC1']:case _0x11f460['cTFBC3']:return(_0x57459f&0x507+-0x4*0x779+0x638*0x4)===-0xc79+0x2*-0x775+0xab*0x29&&(_0x298004&0x2*-0x82e+-0xbd8+0x1c37)===-0x95f*0x2+-0x81d+-0x271*-0xb;case _0x11f460['cTFPVRTC1_'+'4_RGB']:case _0x11f460['cTFPVRTC1_'+'4_RGBA']:return _0x3f5558(_0x57459f,_0x298004);case _0x11f460['cTFASTC_4x'+'4']:return!(0x1f2c+-0x12c6+-0xc66);case _0x11f460['cTFATC_RGB']:case _0x11f460['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(0x257+-0x1e2a+0x1bd3);}return!(-0x74a+-0xa33+0x117e);},_0x455d25=(_0x3012f0,_0x488a53,_0x254fc7)=>{if(!_0x5546c0['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x1997f1=_0x16cc40(),_0x4cce36=new _0x5546c0['KTX2File'](new Uint8Array(_0x488a53)),_0x531764=_0x4cce36['getWidth'](),_0x1c56a1=_0x4cce36['getHeight'](),_0x3bfcf9=_0x4cce36['getLevels'](),_0x5d6fac=!!_0x4cce36['getHasAlph'+'a'](),_0x451e63=_0x4cce36['isUASTC']&&_0x4cce36['isUASTC']();if(!_0x531764||!_0x1c56a1||!_0x3bfcf9)throw _0x4cce36['close'](),_0x4cce36['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x3012f0+'\x20width='+_0x531764+'\x20height='+_0x1c56a1+'\x20levels='+_0x3bfcf9);const _0xb9f41a=_0x3d2b96(_0x254fc7['deviceDeta'+'ils'],_0x5d6fac,_0x451e63),_0x19b916=!!_0x254fc7['isGGGR']&&_0xb9f41a==='pvr';let _0x4c7567;if(_0x19b916?_0x4c7567=_0x11f460['cTFRGBA32']:(_0x4c7567=_0x5d6fac?_0x2be583[_0xb9f41a]:_0x1a9694[_0xb9f41a],_0x417030(_0x531764,_0x1c56a1,_0x4c7567)||(_0x4c7567=_0x5d6fac?_0x11f460['cTFRGBA32']:_0x11f460['cTFRGB565'])),!_0x4cce36['startTrans'+'coding']())throw _0x4cce36['close'](),_0x4cce36['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x3012f0);let _0x494184;const _0x16836a=[];for(let _0x2693f4=-0x1*-0xb47+0xfdb+-0x1b22;_0x2693f4<_0x3bfcf9;++_0x2693f4){const _0x11cf9b=_0x4cce36['getImageTr'+'anscodedSi'+'zeInBytes'](_0x2693f4,0x673*-0x1+0x732*0x5+-0x1d87*0x1,-0x17*-0x18b+0x1794+-0x3b11,_0x4c7567),_0x5b179f=new Uint8Array(_0x11cf9b);if(!_0x4cce36['transcodeI'+'mage'](_0x5b179f,_0x2693f4,0x1c5*-0x3+-0x329*-0x1+0x226*0x1,-0x1787+-0x7e7*-0x1+0xfa0,_0x4c7567,0x4ab*-0x8+-0x1d9c+0x42f4,-(-0x10ca+-0x5e0+-0x7*-0x33d),-(-0x1bb0+-0x2ed*0x1+0x1e9e)))throw _0x4cce36['close'](),_0x4cce36['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x3012f0);const _0x438257=_0x4c7567===_0x11f460['cTFRGB565']||_0x4c7567===_0x11f460['cTFRGBA444'+'4'];_0x16836a['push'](_0x438257?new Uint16Array(_0x5b179f['buffer']):_0x5b179f);}if(_0x4cce36['close'](),_0x4cce36['delete'](),_0x19b916){for(_0x4c7567=_0x11f460['cTFRGB565'],_0x494184=-0x636+-0x3*0x151+-0x11*-0x99;_0x494184<_0x16836a['length'];++_0x494184)_0x16836a[_0x494184]=_0x3b6385(_0x51c2dc(_0x16836a[_0x494184]));}return{'format':_0x58d634(_0x4c7567,_0x254fc7['deviceDeta'+'ils']),'width':_0x531764,'height':_0x1c56a1,'levels':_0x16836a,'cubemap':!(-0x7*0x97+-0x199*0x1+0x5bb),'transcodeTime':_0x16cc40()-_0x1997f1,'url':_0x3012f0,'unswizzledGGGR':_0x19b916};},_0x17714b=(_0xf10d9,_0x39edcb,_0x357231)=>{const _0x7437b8=_0x16cc40(),_0xf6c7c5=new _0x5546c0['BasisFile'](new Uint8Array(_0x39edcb)),_0x3cbe3c=_0xf6c7c5['getImageWi'+'dth'](0x8a*0x13+0x484+0xec2*-0x1,0x22d*0x11+-0x15*0xdb+0x1*-0x1306),_0x330e7=_0xf6c7c5['getImageHe'+'ight'](-0x184*0xd+0xa*0xcb+0xb*0x112,0x3*-0x859+0xc71+0xc9a),_0x22c951=_0xf6c7c5['getNumImag'+'es'](),_0x34c914=_0xf6c7c5['getNumLeve'+'ls'](-0x14d0+-0x2009+0x34d9),_0x5e8f80=!!_0xf6c7c5['getHasAlph'+'a'](),_0x61fa7c=_0xf6c7c5['isUASTC']&&_0xf6c7c5['isUASTC']();if(!_0x3cbe3c||!_0x330e7||!_0x22c951||!_0x34c914)throw _0xf6c7c5['close'](),_0xf6c7c5['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0xf10d9+'\x20width='+_0x3cbe3c+'\x20height='+_0x330e7+'\x20images='+_0x22c951+'\x20levels='+_0x34c914);const _0x186ebd=_0x3d2b96(_0x357231['deviceDeta'+'ils'],_0x5e8f80,_0x61fa7c),_0x417f21=!!_0x357231['isGGGR']&&_0x186ebd==='pvr';let _0x128044;if(_0x417f21?_0x128044=_0x11f460['cTFRGBA32']:(_0x128044=_0x5e8f80?_0x2be583[_0x186ebd]:_0x1a9694[_0x186ebd],_0x417030(_0x3cbe3c,_0x330e7,_0x128044)||(_0x128044=_0x5e8f80?_0x11f460['cTFRGBA32']:_0x11f460['cTFRGB565'])),!_0xf6c7c5['startTrans'+'coding']())throw _0xf6c7c5['close'](),_0xf6c7c5['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0xf10d9);let _0xa548c;const _0x222c93=[];for(let _0x1788e9=-0x30b*-0xb+0xd50+0x7*-0x6af;_0x1788e9<_0x34c914;++_0x1788e9){const _0x39104f=_0xf6c7c5['getImageTr'+'anscodedSi'+'zeInBytes'](0x1c77+-0x1*0x547+-0x1730,_0x1788e9,_0x128044),_0x55397=new Uint8Array(_0x39104f);if(!_0xf6c7c5['transcodeI'+'mage'](_0x55397,-0x198f+0x1ad6+-0x147,_0x1788e9,_0x128044,0x10d+0x1*-0xcf7+0xbea,-0x1*-0x18b7+0x1840+0x6d*-0x73)){if(_0x1788e9===_0x34c914-(-0x178c+0x5d*0x67+-0xdde)&&_0x39104f===_0x222c93[_0x1788e9-(-0x72*0x18+-0x1*-0x2201+-0x1750)]['buffer']['byteLength'])_0x55397['set'](new Uint8Array(_0x222c93[_0x1788e9-(0x7*-0x3df+0x2506+-0x9ec)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0xf10d9);else throw _0xf6c7c5['close'](),_0xf6c7c5['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0xf10d9);}const _0x35b6dc=_0x128044===_0x11f460['cTFRGB565']||_0x128044===_0x11f460['cTFRGBA444'+'4'];_0x222c93['push'](_0x35b6dc?new Uint16Array(_0x55397['buffer']):_0x55397);}if(_0xf6c7c5['close'](),_0xf6c7c5['delete'](),_0x417f21){for(_0x128044=_0x11f460['cTFRGB565'],_0xa548c=-0x4*0x4a7+-0x597*-0x4+0x18*-0x28;_0xa548c<_0x222c93['length'];++_0xa548c)_0x222c93[_0xa548c]=_0x3b6385(_0x51c2dc(_0x222c93[_0xa548c]));}return{'format':_0x58d634(_0x128044,_0x357231['deviceDeta'+'ils']),'width':_0x3cbe3c,'height':_0x330e7,'levels':_0x222c93,'cubemap':!(-0x65*0x21+-0x2*0x745+0x1b90),'transcodeTime':_0x16cc40()-_0x7437b8,'url':_0xf10d9,'unswizzledGGGR':_0x417f21};},_0x299f56=(_0x419653,_0x2147bc,_0x27a481)=>_0x27a481['isKTX2']?_0x455d25(_0x419653,_0x2147bc,_0x27a481):_0x17714b(_0x419653,_0x2147bc,_0x27a481),_0x37d133=(_0x42c670,_0xb344d1,_0x4b3692)=>{try{const _0x29a72e=_0x299f56(_0x42c670,_0xb344d1,_0x4b3692);_0x29a72e['levels']=_0x29a72e['levels']['map'](_0x283a0b=>_0x283a0b['buffer']),self['postMessag'+'e']({'url':_0x42c670,'data':_0x29a72e},_0x29a72e['levels']);}catch(_0x7c6dba){self['postMessag'+'e']({'url':_0x42c670,'err':_0x7c6dba},null);}},_0x3a058f=(_0x4a1234,_0x4c12d7)=>{const _0x3a6b03=(_0x17ae95,_0x6f00c7)=>(WebAssembly['instantiat'+'e'](_0x4a1234['module'],_0x17ae95)['then'](_0x464d38=>{_0x6f00c7(_0x464d38);})['catch'](_0x5ea541=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x5ea541);}),{});self['BASIS'](_0x4a1234['module']?{'instantiateWasm':_0x3a6b03}:null)['then'](_0x2e52f4=>{_0x2e52f4['initialize'+'Basis'](),_0x5546c0=_0x2e52f4,_0x150331=_0x4a1234['rgbPriorit'+'y'],_0x2f2ce9=_0x4a1234['rgbaPriori'+'ty'],_0x4c12d7(null);});},_0x3059ec=[];self['onmessage']=_0x432b6e=>{const _0x91b2e3=_0x432b6e['data'];switch(_0x91b2e3['type']){case'init':_0x3a058f(_0x91b2e3['config'],()=>{for(let _0x36bfba=-0xa63+-0x47d*-0x8+-0x1985;_0x36bfba<_0x3059ec['length'];++_0x36bfba)_0x37d133(_0x3059ec[_0x36bfba]['url'],_0x3059ec[_0x36bfba]['data'],_0x3059ec[_0x36bfba]['options']);_0x3059ec['length']=-0x36*0x4f+-0x1c93+0x2d3d;});break;case'transcode':_0x5546c0?_0x37d133(_0x91b2e3['url'],_0x91b2e3['data'],_0x91b2e3['options']):_0x3059ec['push'](_0x91b2e3);break;}};}const Uk=_0x5e753e=>({'astc':!!_0x5e753e['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x5e753e['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x5e753e['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x5e753e['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x5e753e['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x5e753e['extCompres'+'sedTexture'+'PVRTC']}),Bk=(_0x3df046,_0x495679)=>{const _0x466ec4=_0x2ed1e3=>{const _0x29a031=['/*\x20basis\x20*'+'/',_0x2ed1e3,'','('+kk['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0x29a031],{'type':'applicatio'+'n/javascri'+'pt'});},_0x1f2ed7=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x2aa341=new WebAssembly['Module'](Uint8Array['of'](0xd4b+-0x2f3*-0xb+0x2dbc*-0x1,-0xcd2+-0xee8+-0x59f*-0x5,0x351*-0x9+0x142f+0xa1d,0x678*0x2+0xf2+-0x41*0x35,0x10a9*-0x1+0x63d+-0x11*-0x9d,-0x2a*0x58+-0x25ac+0x341c,-0x141f+0xd73+-0x2*-0x356,0x1*0xf7+0x4c3+-0x5ba));if(_0x2aa341 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x2aa341)instanceof WebAssembly['Instance'];}}catch{}return!(-0x23*0x6b+-0x37d*0x4+0x1c96);},_0x499f33=(_0x3d277f,_0x2fb311)=>{_0x495679(null,{'workerUrl':URL['createObje'+'ctURL'](_0x466ec4(_0x3d277f)),'module':_0x2fb311,'rgbPriority':_0x3df046['rgbPriorit'+'y'],'rgbaPriority':_0x3df046['rgbaPriori'+'ty']});},_0x2798e3={'cache':!(-0x1*-0xa22+0x2*-0x1176+0x18ca),'responseType':'text','retry':_0x3df046['maxRetries']>-0x60*-0x33+0x4f*-0x6b+0xde5,'maxRetries':_0x3df046['maxRetries']};if(_0x3df046['glueUrl']&&_0x3df046['wasmUrl']&&_0x1f2ed7()){let _0x17171e=null,_0x12d2df=null;ot['get'](_0x3df046['glueUrl'],_0x2798e3,(_0x1181b9,_0x2159f8)=>{_0x1181b9?_0x495679(_0x1181b9):_0x12d2df?_0x499f33(_0x2159f8,_0x12d2df):_0x17171e=_0x2159f8;});const _0x22ccf=fetch(_0x3df046['wasmUrl']),_0x401fd8=()=>{_0x22ccf['then'](_0x9cbdeb=>_0x9cbdeb['arrayBuffe'+'r']())['then'](_0x4eb5c0=>WebAssembly['compile'](_0x4eb5c0))['then'](_0x2a305f=>{_0x17171e?_0x499f33(_0x17171e,_0x2a305f):_0x12d2df=_0x2a305f;})['catch'](_0x167b6f=>{_0x495679(_0x167b6f,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x22ccf)['then'](_0x55a41c=>{_0x17171e?_0x499f33(_0x17171e,_0x55a41c):_0x12d2df=_0x55a41c;})['catch'](_0x4b1f35=>{w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x3df046['wasmUrl']+'\x20('+_0x4b1f35+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x401fd8();}):_0x401fd8();}else ot['get'](_0x3df046['fallbackUr'+'l'],_0x2798e3,(_0x443aab,_0x56aabc)=>{_0x443aab?_0x495679(_0x443aab,null):_0x499f33(_0x56aabc,null);});};class zk{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x1617d1,_0xcd5117,_0x350558,_0x15a201){if(this['callbacks']['hasOwnProp'+'erty'](_0x1617d1))this['callbacks'][_0x1617d1]['push'](_0x350558);else{this['callbacks'][_0x1617d1]=[_0x350558];const _0x172a05={'url':_0x1617d1,'data':_0xcd5117,'options':_0x15a201};this['clients']['length']>0x1*0x1573+-0xce3+0x4*-0x224?this['clients']['shift']()['run'](_0x172a05):this['queue']['push'](_0x172a05);}}['enqueueCli'+'ent'](_0x13773b){this['queue']['length']>0xd1a+0x8b*0x33+0x28cb*-0x1?_0x13773b['run'](this['queue']['shift']()):this['clients']['push'](_0x13773b);}['handleResp'+'onse'](_0x2dc1ad,_0x35fba1,_0x15e704){const _0x3772ec=this['callbacks'][_0x2dc1ad];if(_0x35fba1){for(let _0x3d9470=-0x21e9*0x1+-0x2517+0x4700*0x1;_0x3d9470<_0x3772ec['length'];++_0x3d9470)_0x3772ec[_0x3d9470](_0x35fba1);}else{_0x15e704['format']===Jh||_0x15e704['format']===ed?_0x15e704['levels']=_0x15e704['levels']['map'](_0x149154=>new Uint16Array(_0x149154)):_0x15e704['levels']=_0x15e704['levels']['map'](_0x4a7a52=>new Uint8Array(_0x4a7a52));for(let _0x1d840b=0x1191*-0x2+0xa1*-0x7+0x2789;_0x1d840b<_0x3772ec['length'];++_0x1d840b)_0x3772ec[_0x1d840b](null,_0x15e704);}delete this['callbacks'][_0x2dc1ad];}}class Vk{constructor(_0x41930d,_0x48e890,_0xc11bf8){this['queue']=_0x41930d,this['worker']=new Worker(_0x48e890['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x1c5ef1=>{const _0x2ddbf6=_0x1c5ef1['data'];this['queue']['handleResp'+'onse'](_0x2ddbf6['url'],_0x2ddbf6['err'],_0x2ddbf6['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x48e890}),this['eager']=_0xc11bf8;}['run'](_0x316f15){const _0x3e85fb=[];_0x316f15['data']instanceof ArrayBuffer&&_0x3e85fb['push'](_0x316f15['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x316f15['url'],'format':_0x316f15['format'],'data':_0x316f15['data'],'options':_0x316f15['options']},_0x3e85fb),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const Gk=0x1f50+-0x1*0x1b48+-0x407,Hk=['etc2','etc1','astc','dxt','pvr','atc'],Wk=['astc','dxt','etc2','pvr','atc'],$k=-0xa4b+-0x145e+0x1eae,Xu=new zk();let xS=null,qu=!(-0x1e*-0x57+0x189c+0x22cd*-0x1);function Xk(_0x53118b){if(!qu){if(!_0x53118b)_0x53118b=xS||{};else{if(_0x53118b['lazyInit']){xS=_0x53118b;return;}}if(!_0x53118b['glueUrl']||!_0x53118b['wasmUrl']||!_0x53118b['fallbackUr'+'l']){const _0x2c2d47=YS['getConfig']('BASIS');_0x2c2d47&&(_0x53118b={'glueUrl':_0x2c2d47['glueUrl'],'wasmUrl':_0x2c2d47['wasmUrl'],'fallbackUrl':_0x2c2d47['fallbackUr'+'l'],'numWorkers':_0x2c2d47['numWorkers']});}if(_0x53118b['glueUrl']||_0x53118b['wasmUrl']||_0x53118b['fallbackUr'+'l']){qu=!(-0x9e+-0xf50+0xfee);const _0x29f691=Math['max'](-0x787+-0x1*0x7e5+0xf6d*0x1,Math['min'](0xe0*0x8+0x2*0x35f+-0xdae,_0x53118b['numWorkers']||Gk)),_0x2ab62e=_0x53118b['numWorkers']===0x584*0x4+-0xa5f+-0x58*0x22||(_0x53118b['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x53118b['eagerWorke'+'rs']:!(-0x1655*0x1+-0x1*-0x1b11+-0x4bc));_0x53118b['rgbPriorit'+'y']=_0x53118b['rgbPriorit'+'y']||Hk,_0x53118b['rgbaPriori'+'ty']=_0x53118b['rgbaPriori'+'ty']||Wk,_0x53118b['maxRetries']=_0x53118b['hasOwnProp'+'erty']('maxRetries')?_0x53118b['maxRetries']:$k,Bk(_0x53118b,(_0x5b6e43,_0x52508c)=>{if(_0x5b6e43)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x5b6e43);else{for(let _0x10f00f=0x1+-0x180b+0x180a;_0x10f00f<_0x29f691;++_0x10f00f)Xu['enqueueCli'+'ent'](new Vk(Xu,_0x52508c,_0x2ab62e));}});}}}let Df=null;function b0(_0x29e07c,_0x3878df,_0x1d444a,_0x4f031f,_0x483a1c){return Xk(),Df||(Df={'formats':Uk(_0x29e07c)}),Xu['enqueueJob'](_0x3878df,_0x1d444a,_0x4f031f,{'deviceDetails':Df,'isGGGR':!!(_0x483a1c!=null&&_0x483a1c['isGGGR']),'isKTX2':!!(_0x483a1c!=null&&_0x483a1c['isKTX2'])}),qu;}class eo{['load'](_0x2903c6,_0x560847,_0x3a3148){throw new Error('not\x20implem'+'ented');}['open'](_0x1c19b8,_0x64296c,_0x4b3174){throw new Error('not\x20implem'+'ented');}}class qk extends eo{constructor(_0x48c404,_0x59f30f){super(),this['device']=_0x59f30f,this['maxRetries']=0x1*-0x101f+0x8*-0xdf+-0x1*-0x1717;}['load'](_0x40aa77,_0x48a0ad,_0x14c207){const _0x4fbd51=this['device'],_0xeac2d7=_0x36d14f=>{var _0x1a4258,_0x52d799,_0x277d82;b0(_0x4fbd51,_0x40aa77['load'],_0x36d14f,_0x48a0ad,{'isGGGR':(((_0x277d82=(_0x52d799=(_0x1a4258=_0x14c207==null?void(-0x7a*-0x4f+0x1a47+-0x3fed):_0x14c207['file'])==null?void(-0x149d+-0x1184+0x2621):_0x1a4258['variants'])==null?void(0xc21+0x1b9+0xdda*-0x1):_0x52d799['basis'])==null?void(-0x2187+0x4cf+0x1cb8):_0x277d82['opt'])&0x2263+0x2*-0x89f+-0x111d)!==0x1813+-0x1795+-0x7e})||_0x48a0ad('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x14c207['name']+']('+_0x14c207['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};pe['fetchArray'+'Buffer'](_0x40aa77['load'],(_0x1cb67c,_0xf3687b)=>{_0x1cb67c?_0x48a0ad(_0x1cb67c):_0xeac2d7(_0xf3687b);},_0x14c207,this['maxRetries']);}['open'](_0x34f00c,_0x116c72,_0x2f389f,_0x3c6467={}){const _0x15940=_0x3c6467['srgb']?ld(_0x116c72['format']):_0x116c72['format'],_0x5d056f=new _e(_0x2f389f,{'name':_0x34f00c,'profilerHint':Pr,'addressU':_0x116c72['cubemap']?ue:yt,'addressV':_0x116c72['cubemap']?ue:yt,'width':_0x116c72['width'],'height':_0x116c72['height'],'format':_0x15940,'cubemap':_0x116c72['cubemap'],'levels':_0x116c72['levels'],..._0x3c6467});return _0x5d056f['upload'](),_0x5d056f;}}const A0=new Uint8Array([-0x7*-0x491+-0x214b+0x1dd,0x54*0x5+-0x21d0+0x207c,0xb62+-0x1*0xa6a+-0xaa,-0x2154+-0x4a*-0x1e+0x18ef,-0x1196*-0x2+0x1ad1+-0x2*0x1ef8,-0xe35*-0x2+0x8de+-0x253e,0x1783+0x1d1*0x5+-0x2*0x103f,-0x21f4+-0x1a68+0x2*0x1e33,0x25ff+0x1*-0x146b+-0x12c*0xf,0x31*-0x95+0xd72+-0xf13*-0x1,-0x2362+-0x3d1+-0x5*-0x7d7,-0x8d4+-0x4a*0x9+0xb7b,-0x5b6*0x5+-0x3*-0xbe9+-0x6e4,0x16d2+0x5c*-0x6a+0xf8e,0x7*-0x3a4+0x1*0x26ef+-0xd2f,0x1460*-0x1+0x46*0xd+-0x4*-0x449,-0x1985+-0x336+0x1*0x1cbb,0x4*0x5d8+-0xf3*-0x21+-0x36b3,-0x25f4+0x9e5*-0x1+0x2fd9*0x1,0x1ee0+-0x275*-0xa+-0x3771,-0xc2*0x3+-0xb*-0x269+-0x183d,0x60b+-0x1829+0x121e,-0x1155*-0x1+0x91*0x1d+-0x21c2,0x73c+-0x3*0x1c1+-0x7e*0x4,0x1e09+0x1*0x1ea9+0x2*-0x1e55,-0x5*0x115+-0x15e7+-0xdab*-0x2,-0x2292+-0x1c14+-0x129*-0x36,0x13ed*-0x1+-0x1aab+0x2e98,0x14db+0x1ba6+-0x3081,0xed0+0x5*0x523+-0x8*0x50c,-0x11f7+-0x39e*-0x2+0xad0,0x2522+0xe2a*0x1+-0x3288,-0x304*0x4+-0x3*0xbaf+-0x17d3*-0x2,-0x2c9*0xd+-0x1*-0xcd7+0x175e,0x14*0x9f+0x3*-0x626+0x606,-0x2531+0x1*0x1c58+0x8d9,-0x5*0x4d2+0x12de+0x549,0x13a*-0xb+0xa9*-0x37+0x10b2*0x3,-0x185c+0x3ff+0x14a1,-0x81c+0x8*-0x169+0x13a5*0x1,0x1a*-0x151+-0xa74+0x2d02,-0x1f8e+-0x4*-0x710+-0x2*-0x1e3,0x1*0xb1b+0x3f5+-0xd6*0x11,-0xd*-0x27+-0x1d5b+-0x941*-0x3,-0x6*0x623+-0xd*0x8b+0x2c45,0x1*-0x45f+0x23b*0x6+-0x89f,0x4*-0x1ec+-0x331*-0x8+0x5d2*-0x3,0x160e+-0x1*-0x1526+-0x62*0x6f,0x65c+-0x1*0x1f0f+0x18ba,-0x4b0*-0x2+0x76a+-0x1*0x10ca,-0xe*0x3a+0x41a+-0x2*0x77,-0x23*0x9e+0xabd+0xb36,-0x1706+0x8d7+0x1*0xe2f,0xcf1*0x1+0x24a+0xae*-0x16,-0x119*0x11+-0x2223+0x2f*0x121,0xec6+0x2487+-0x32c8,0x24d7+0x1dcc+-0x420f,0x1*-0x1917+-0x1*-0x129a+0x92*0xd,0x1af8+-0xb*0x7e+-0x3e*0x59,0x11bc+0x1*-0x20eb+-0xf2f*-0x1,-0x204c+-0x547+0x2593*0x1,-0x116*0x5+-0x128*0x2+0x7be,-0x1a3b+-0x211e+-0x3ba2*-0x1,0x1*0x1c38+0xb60+-0x2753,-0x65f+0x25f1+0x6*-0x536,-0x400*-0x1+-0x1883+0x14c7,-0x17d1+-0x1*-0x141f+0x460,-0x7*0x29+-0x6a3+0x36*0x26,0x101*0x12+-0x1ce+0x1*-0xfe4,-0x1141+-0x5ce*-0x6+0x1111*-0x1]),C0=(_0x1b2967,_0x5cd06a)=>{const _0x5a07f1=new _e(_0x1b2967,{'width':0x1,'height':0x1,'format':Ne,'mipmaps':!(0x1bb1+0x1c41+0x1*-0x37f1),'levels':[_0x5cd06a]}),_0x1c53d9=new gt({'colorBuffer':_0x5a07f1,'depth':!(-0x19c0+-0x4ff+0x1ec0)});_0x1b2967['setFramebu'+'ffer'](_0x1c53d9['impl']['_glFrameBu'+'ffer']),_0x1b2967['initRender'+'Target'](_0x1c53d9);const _0x29d73b=new Uint8ClampedArray(0x5fc+-0x1*-0xeef+-0x1*0x14e7);return _0x1b2967['gl']['readPixels'](0x1586+0x1711+-0x2c97,-0x1*0x16e7+0x5*0x79b+-0xf20,0xad*-0x8+0x10bd+0x14*-0x91,0xb*0x1ab+-0x2cf*0x7+-0x151*-0x1,_0x1b2967['gl']['RGBA'],_0x1b2967['gl']['UNSIGNED_B'+'YTE'],_0x29d73b),_0x1c53d9['destroy'](),_0x5a07f1['destroy'](),_0x29d73b[0x20b3*-0x1+-0x1ac6+0x3b79]===0x3*0x907+-0x16b*0x4+0x448*-0x5&&_0x29d73b[-0x1f84*0x1+0x1056+0xf2f]===0x661*0x2+0x17d1+-0x2491&&_0x29d73b[0xdf*-0x2b+0x169b+-0x4f4*-0x3]===0x1f01+-0x6f4+-0x22*0xb5&&_0x29d73b[0x1*0x1097+-0x1ee9+0xe55]===0x23*0x4+-0x1574+0x169*0xf;},jk=_0x31531e=>createImageBitmap(new Blob([A0],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x5e8da2=>C0(_0x31531e,_0x5e8da2))['catch'](_0x183082=>!(0x5d4+0x230b+-0x28de)),Yk=_0x1cf7be=>new Promise((_0x4c00b6,_0x41ee23)=>{const _0xede564=new Image();_0xede564['src']=URL['createObje'+'ctURL'](new Blob([A0])),_0xede564['onload']=()=>{_0x4c00b6(C0(_0x1cf7be,_0xede564));};});class Kk{static['run'](_0x369378){jk(_0x369378)['then'](_0x4250de=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x4250de);}),Yk(_0x369378)['then'](_0x45bce6=>{console['log']('imgElement'+'IsCorrect='+_0x45bce6);});}}class Zk extends eo{constructor(_0x538840,_0x4fb2be){super(),this['crossOrigi'+'n']=_0x538840['prefix']?'anonymous':null,this['maxRetries']=0x1af0+0xe05*-0x1+-0xceb*0x1,this['device']=_0x4fb2be,mi['get']('IMG_ALPHA_'+'TEST')&&Kk['run'](this['device']);}['load'](_0x587377,_0x5cd48e,_0x1c2bbc){var _0x2f866f;const _0x373d1b=!!((_0x2f866f=_0x1c2bbc==null?void(0x1473+-0x7fd+0x63b*-0x2):_0x1c2bbc['file'])!=null&&_0x2f866f['contents']);if(_0x373d1b){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0x1c2bbc['file']['contents']]),_0x5cd48e);return;}_0x587377={'load':URL['createObje'+'ctURL'](new Blob([_0x1c2bbc['file']['contents']])),'original':_0x587377['original']};}const _0x275816=(_0x32c6d1,_0x24b0de)=>{_0x373d1b&&URL['revokeObje'+'ctURL'](_0x587377['load']),_0x5cd48e(_0x32c6d1,_0x24b0de);};let _0x49fcb8;_0x1c2bbc&&_0x1c2bbc['options']&&_0x1c2bbc['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x49fcb8=_0x1c2bbc['options']['crossOrigi'+'n']:jn['test'](_0x587377['load'])&&(_0x49fcb8=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x587377['load'],_0x587377['original'],_0x49fcb8,_0x275816,_0x1c2bbc):this['_loadImage'](_0x587377['load'],_0x587377['original'],_0x49fcb8,_0x275816);}['open'](_0x27f07a,_0x3dcf60,_0x3f7ca3,_0x2462b8={}){const _0x4a98bf=new _e(_0x3f7ca3,{'name':_0x27f07a,'profilerHint':Pr,'width':_0x3dcf60['width'],'height':_0x3dcf60['height'],'format':_0x2462b8['srgb']?_s:Ne,..._0x2462b8});return _0x4a98bf['setSource'](_0x3dcf60),_0x4a98bf;}['_loadImage'](_0x197c49,_0x237f62,_0x442d40,_0x788676){const _0x3a8c59=new Image();_0x442d40&&(_0x3a8c59['crossOrigi'+'n']=_0x442d40);let _0x50ee6f=0x1ade+0x180f+0x1*-0x32ed;const _0x4d90ad=this['maxRetries'];let _0x4781b7;_0x3a8c59['onload']=function(){_0x788676(null,_0x3a8c59);},_0x3a8c59['onerror']=function(){if(!_0x4781b7){if(_0x4d90ad>-0xeda+0x2*0xaed+-0x2*0x380&&++_0x50ee6f<=_0x4d90ad){const _0x3a6f71=Math['pow'](-0x193*-0x9+-0x19ec+0xbc3,_0x50ee6f)*(0x5b*-0x4a+-0x1261+0xb*0x419);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x237f62+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x3a6f71+'ms...');const _0x2237ad=_0x197c49['indexOf']('?')>=-0xd33*0x1+0x535+0x7fe?'&':'?';_0x4781b7=setTimeout(()=>{_0x3a8c59['src']=_0x197c49+_0x2237ad+'retry='+Date['now'](),_0x4781b7=null;},_0x3a6f71);}else _0x788676('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x237f62+'\x27');}},_0x3a8c59['src']=_0x197c49;}['_loadImage'+'Bitmap'](_0x1f403c,_0x3f74d5,_0x2fbc8b,_0x58420b,_0x4d3086){const _0x34ee02={'cache':!(0x1fcd+-0x1304+-0xcc9*0x1),'responseType':'blob','retry':this['maxRetries']>0x1*0xb29+0x1*-0xc4f+0x126,'maxRetries':this['maxRetries'],'progress':_0x4d3086};ot['get'](_0x1f403c,_0x34ee02,(_0x4c81ce,_0x2dcfe8)=>{_0x4c81ce?_0x58420b(_0x4c81ce):this['_loadImage'+'BitmapFrom'+'Blob'](_0x2dcfe8,_0x58420b);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x4053c2,_0x3dd783){createImageBitmap(_0x4053c2,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x441a2c=>_0x3dd783(null,_0x441a2c))['catch'](_0x5539c5=>_0x3dd783(_0x5539c5));}}const If=[0x19*0x34f8586+-0x92*-0x53a09b+-0x4d5*0x8b80d,-0x9*0x17102ae5+0x84aa9a4e+0x1061818df,0x11668775+0x11a8a965*0x1+0x65*-0x3f4249],Qk={0x83f0:td,0x83f2:op,0x83f3:vl,0x8d64:id,0x9274:cp,0x9278:hp,0x8c00:rd,0x8c01:xl,0x8c02:ad,0x8c03:Tl,0x8051:Cr,0x8058:Ne,0x8c41:lp,0x8c43:_s,0x8c3a:In,0x881b:ui,0x881a:nt};function Jk(_0xc86c94,_0x3fc82a,_0x5a3bcf,_0x569e9c){return _0xc86c94===In?new Uint32Array(_0x3fc82a,_0x5a3bcf,_0x569e9c/(-0x7f*-0x18+-0x17*-0x47+-0x1245)):new Uint8Array(_0x3fc82a,_0x5a3bcf,_0x569e9c);}class eU extends eo{constructor(_0x2e4551){super(),this['maxRetries']=-0x7*-0x245+-0x1f5a+0xf77;}['load'](_0x14f3bc,_0x31f779,_0x430abb){pe['fetchArray'+'Buffer'](_0x14f3bc['load'],_0x31f779,_0x430abb,this['maxRetries']);}['open'](_0x54c15f,_0x47ac53,_0x35fcdd,_0x38f47e={}){const _0x4aa037=this['parse'](_0x47ac53);if(!_0x4aa037)return null;const _0x50f06d=_0x38f47e['srgb']?ld(_0x4aa037['format']):_0x4aa037['format'],_0x44ca34=new _e(_0x35fcdd,{'name':_0x54c15f,'profilerHint':Pr,'addressU':_0x4aa037['cubemap']?ue:yt,'addressV':_0x4aa037['cubemap']?ue:yt,'width':_0x4aa037['width'],'height':_0x4aa037['height'],'format':_0x50f06d,'cubemap':_0x4aa037['cubemap'],'levels':_0x4aa037['levels'],..._0x38f47e});return _0x44ca34['upload'](),_0x44ca34;}['parse'](_0x4b70c1){const _0x3ba0f9=new Uint32Array(_0x4b70c1);if(If[-0x117*0x17+-0x15*0xb1+0x466*0x9]!==_0x3ba0f9[0xca*0x22+0xe60+-0x2934]||If[0x5a5+0x1*0x3b2+-0x956]!==_0x3ba0f9[0x1945+-0x10d+0x1837*-0x1]||If[-0xa99*-0x1+-0x2161+0x16ca]!==_0x3ba0f9[0x7*-0x215+-0x3*-0x13a+0xae7])return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x3e1dda={'endianness':_0x3ba0f9[-0xcae+-0x1d*-0x143+-0x17e6],'glType':_0x3ba0f9[0x19a8*-0x1+-0x1bf5+0x35a1],'glTypeSize':_0x3ba0f9[0x1ba9+0xc83+0x1*-0x2827],'glFormat':_0x3ba0f9[-0x35*-0x18+-0x3ae*0x1+0x1*-0x144],'glInternalFormat':_0x3ba0f9[0x1ef*-0xc+-0x218e+0x38c9],'glBaseInternalFormat':_0x3ba0f9[-0x10cd*0x1+-0x3*0x301+0x8*0x33b],'pixelWidth':_0x3ba0f9[0x20f3+0x1371+-0x345b],'pixelHeight':_0x3ba0f9[0x15*0x77+0x1*0x1acd+-0x2486],'pixelDepth':_0x3ba0f9[-0x2087+0x1*0xf21+-0x2f*-0x5f],'numberOfArrayElements':_0x3ba0f9[0x14a9*0x1+0xa*0x1af+-0x2573],'numberOfFaces':_0x3ba0f9[-0x190d*0x1+-0x3f*0x1f+0x20bb],'numberOfMipmapLevels':_0x3ba0f9[0x22*-0x92+-0x1d2c*0x1+0x309e],'bytesOfKeyValueData':_0x3ba0f9[0x197f+0x7a4+-0x2114]};if(_0x3e1dda['pixelDepth']>0x1225+0x23c2+0x2*-0x1af3)return w['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x3e1dda['numberOfAr'+'rayElement'+'s']!==-0x3*-0x6c6+0x6e*-0x4+-0x129a)return w['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0xd7ae80=Qk[_0x3e1dda['glInternal'+'Format']];if(_0xd7ae80===void(-0xb4b+-0x141d+0xc*0x29e))return w['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x3e1dda['glInternal'+'Format']),null;let _0x32d8e4=-0x11a2+-0x551*-0x4+0x392*-0x1+_0x3e1dda['bytesOfKey'+'ValueData']/(0x4f5+-0x2010+0x83*0x35);const _0x37d8c3=_0x3e1dda['numberOfFa'+'ces']>0x1693+0x60d+-0x1c9f,_0x4b3d45=[];for(let _0x23f727=0x6*0x1b5+0x972+-0x13b0;_0x23f727<(_0x3e1dda['numberOfMi'+'pmapLevels']||-0x1*-0x243d+0xbd*-0x34+-0x114*-0x2);_0x23f727++){const _0x48a8e1=_0x3ba0f9[_0x32d8e4++];_0x37d8c3&&_0x4b3d45['push']([]);const _0x455b26=_0x37d8c3?_0x4b3d45[_0x23f727]:_0x4b3d45;for(let _0xe64d33=0x4c8+0x801+0x1*-0xcc9;_0xe64d33<(_0x37d8c3?-0x341+0x938+-0x5f1:0x17*-0x34+0xc19*-0x3+0x3*0xda8);++_0xe64d33)_0x455b26['push'](Jk(_0xd7ae80,_0x4b70c1,_0x32d8e4*(0x11b9+0x1de7+0x17ce*-0x2),_0x48a8e1)),_0x32d8e4+=_0x48a8e1+(0x2*0xb50+0x1*0xc62+-0x20f*0x11)>>-0x2*0x2ab+0x4ce+0x8a;}return{'format':_0xd7ae80,'width':_0x3e1dda['pixelWidth'],'height':_0x3e1dda['pixelHeigh'+'t'],'levels':_0x4b3d45,'cubemap':_0x37d8c3};}}const tU={'KHR_DF_MODEL_UASTC':0xa6};class sU extends eo{constructor(_0x4cffbc,_0x6ad07d){super(),this['maxRetries']=0x6*0x391+-0x17d2+0x136*0x2,this['device']=_0x6ad07d;}['load'](_0x1bf2f0,_0x114cad,_0x55ee4){pe['fetchArray'+'Buffer'](_0x1bf2f0['load'],(_0x238d81,_0x43fa81)=>{_0x238d81?_0x114cad(_0x238d81,_0x43fa81):this['parse'](_0x43fa81,_0x1bf2f0,_0x114cad,_0x55ee4);},_0x55ee4,this['maxRetries']);}['open'](_0x198658,_0x592652,_0x1bde8b,_0x4cb094={}){const _0x5a8655=_0x4cb094['srgb']?ld(_0x592652['format']):_0x592652['format'],_0x53ca4e=new _e(_0x1bde8b,{'name':_0x198658,'profilerHint':Pr,'addressU':_0x592652['cubemap']?ue:yt,'addressV':_0x592652['cubemap']?ue:yt,'width':_0x592652['width'],'height':_0x592652['height'],'format':_0x5a8655,'cubemap':_0x592652['cubemap'],'levels':_0x592652['levels'],..._0x4cb094});return _0x53ca4e['upload'](),_0x53ca4e;}['parse'](_0x53b3fc,_0x40907b,_0x114599,_0x3060ae){var _0xb01181,_0x5c91d9,_0x52a3cf;const _0x4f45cd=new KS(_0x53b3fc),_0x2218f8=[_0x4f45cd['readU32be'](),_0x4f45cd['readU32be'](),_0x4f45cd['readU32be']()];if(_0x2218f8[-0x269d*0x1+-0xe59+0x34f6*0x1]!==-0xdfb6b0f1*-0x1+-0xbf26b228+0x1*0x8abb558f||_0x2218f8[-0x602*0x1+0x244+-0x3bf*-0x1]!==-0x9ab005*-0x27+0x2fbc09e6+-0x271aa9ee||_0x2218f8[0x221*0xe+-0x1752+-0x67a]!==0x352e239+-0x6b*0x321717+-0x3*-0xa379f7a)return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0x10cf44={'vkFormat':_0x4f45cd['readU32'](),'typeSize':_0x4f45cd['readU32'](),'pixelWidth':_0x4f45cd['readU32'](),'pixelHeight':_0x4f45cd['readU32'](),'pixelDepth':_0x4f45cd['readU32'](),'layerCount':_0x4f45cd['readU32'](),'faceCount':_0x4f45cd['readU32'](),'levelCount':_0x4f45cd['readU32'](),'supercompressionScheme':_0x4f45cd['readU32']()},_0x11086a={'dfdByteOffset':_0x4f45cd['readU32'](),'dfdByteLength':_0x4f45cd['readU32'](),'kvdByteOffset':_0x4f45cd['readU32'](),'kvdByteLength':_0x4f45cd['readU32'](),'sgdByteOffset':_0x4f45cd['readU64'](),'sgdByteLength':_0x4f45cd['readU64']()},_0x5a6665=[];for(let _0x480f6d=-0x1c*-0x1c+0xb*0x115+0x3*-0x4fd;_0x480f6d<Math['max'](-0x9a*0x17+-0x1e58+0x2c2f,_0x10cf44['levelCount']);++_0x480f6d)_0x5a6665['push']({'byteOffset':_0x4f45cd['readU64'](),'byteLength':_0x4f45cd['readU64'](),'uncompressedByteLength':_0x4f45cd['readU64']()});if(_0x4f45cd['readU32']()!==_0x11086a['kvdByteOff'+'set']-_0x11086a['dfdByteOff'+'set'])return w['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x4f45cd['skip'](-0x71+-0x1dc7+0x1e40);const _0x46625e=_0x4f45cd['readU8']();_0x4f45cd['skip'](_0x11086a['dfdByteLen'+'gth']-(-0x2380+0x4*-0x40c+0x1*0x33b9)),_0x4f45cd['skip'](_0x11086a['kvdByteLen'+'gth']),_0x10cf44['supercompr'+'essionSche'+'me']===-0x17e*-0x19+0x999+0x7d1*-0x6||_0x46625e===tU['KHR_DF_MOD'+'EL_UASTC']?b0(this['device'],_0x40907b['load'],_0x53b3fc,_0x114599,{'isGGGR':(((_0x52a3cf=(_0x5c91d9=(_0xb01181=_0x3060ae==null?void(-0x3af+0x1*0x1bd3+-0x1824):_0x3060ae['file'])==null?void(0x43*0xe+0x77*-0xb+0x173*0x1):_0xb01181['variants'])==null?void(-0x281*-0x6+-0x15e1+0x6db):_0x5c91d9['basis'])==null?void(0x15a+-0x48f*0x1+0x335):_0x52a3cf['opt'])&0xedf+0x4*0x6d0+-0x1af*0x19)!==-0x19c1+-0x3*0xc73+0x3f1a,'isKTX2':!(0x623*0x1+0x204*0x5+-0x1037)})||_0x114599('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x3060ae['name']+']('+_0x3060ae['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x114599('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class iU extends eo{constructor(_0x22a46a){super(),this['maxRetries']=0x1cb0+-0x4d*0x1f+-0x135d;}['load'](_0x41d948,_0x559931,_0x45d222){pe['fetchArray'+'Buffer'](_0x41d948['load'],_0x559931,_0x45d222,this['maxRetries']);}['open'](_0x237a2f,_0x279a13,_0x3e7bec,_0x53738e={}){const _0xc3d756=new Uint32Array(_0x279a13,-0x23f3+-0x14c6*0x1+0x38b9,-0x9bb+0xbdd+0x101*-0x2),_0x515eec=_0xc3d756[0x6bc+-0xb1*0xf+0x3a7],_0x3a0d39=_0xc3d756[0x2530+-0xf3a+-0x1*0x15f3],_0x523290=Math['max'](_0xc3d756[0x17a*-0x5+-0x2*-0x1e7+0x47*0xd],-0x17*0x25+0x15fa+-0x12a6),_0x4d8582=_0xc3d756[0x1*-0x1537+0x14b7+-0x4a*-0x2]===-0x1fcb+-0x13fb+0x33ca,_0x240b56=_0xc3d756[-0x1*0x1f46+0xe85+-0x2*-0x86b],_0x47c998=_0xc3d756[-0xd2b*-0x2+0x24b*0x1+-0x1c8b],_0x154ed2=_0xc3d756[-0x1ab9+-0x19eb+0x1a6*0x20]===0x1b*-0x9c8+0x1d4cb+0x3*0x106f,_0x199ce1=-0x60f7eeb4+0x1e8baa75+0x4b66ab*0x189,_0xf861bd=0x17f3ad61*0x1+-0x3bf0f88b+-0x1*-0x5951a36e,_0x4d8c4e=-0x1*-0x23e4+-0x9d9+0x2*-0xccd,_0x5c3e4f=0x129+-0xf91+0x2*0x76e,_0x1f40f3=0x52aa0e38+-0x40caf5ff+0x1f643c0c,_0x3c96bf=-0x2*0x4f499a2+0x119*-0xa6cc1+0x468dc56d,_0x5ca683=-0x1ff3313*-0x5+-0x164*0x1631d5+0x1a9*0x2a371d,_0x46be43=0x1f38fcce+0xabc72c6+0x2*0x39ee25e,_0x18a838=0xb61b*0x7c17+0x4b067bc5+-0x7217b7e2;let _0x11b9e1=!(-0x44*-0x12+0x157*-0xe+0xdfb),_0x317ddc=!(-0x217*0x3+0xdf*-0x27+0x283f),_0x51faf2=!(0x49*-0x57+0x5a6+0x132a),_0x32d643=!(0x1829+0x1*0xd78+-0x8*0x4b4),_0x1992c7=null,_0x2631dc=-0x1*-0x1edf+-0xcec*-0x1+-0x5*0x8c2,_0x697945;if(_0x4d8582?_0x240b56===_0x199ce1?(_0x1992c7=td,_0x11b9e1=!(0xf30+0x5d3+0xb*-0x1e9)):_0x240b56===_0xf861bd?(_0x1992c7=vl,_0x11b9e1=!(0x157f+0x1752+0x7*-0x667)):_0x240b56===_0x4d8c4e?(_0x1992c7=nt,_0x2631dc=-0x1abd*0x1+-0x966+0x1e7*0x13):_0x240b56===_0x5c3e4f?(_0x1992c7=Xt,_0x2631dc=0x1*-0x1d03+0x2538+-0x831):_0x240b56===_0x1f40f3?(_0x1992c7=id,_0x11b9e1=!(-0x11d9+-0xb3c+0x1d15),_0x317ddc=!(-0x11d6*0x1+0x171d+-0x547)):_0x240b56===_0x3c96bf||_0x240b56===_0x5ca683?(_0x1992c7=_0x240b56===_0x3c96bf?xl:Tl,_0x11b9e1=!(0x5d1*-0x2+-0x1093+0x1c35),_0x51faf2=!(0xc6f+0x2*-0x1385+0x1a9b)):(_0x240b56===_0x46be43||_0x240b56===_0x18a838)&&(_0x1992c7=_0x240b56===_0x46be43?rd:ad,_0x11b9e1=!(0xd*0x24b+-0x229d+0x267*0x2),_0x32d643=!(0x20c+-0x111d+0xf11)):_0x47c998===-0x1086+0x1355+-0x2af&&(_0x1992c7=Ne),!_0x1992c7)return w['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x237a2f+'.'),_0x697945=new _e(_0x3e7bec,{'width':0x4,'height':0x4,'format':Cr,'name':'dds-legacy'+'-empty'}),_0x697945;_0x697945=new _e(_0x3e7bec,{'name':_0x237a2f,'profilerHint':Pr,'addressU':_0x154ed2?ue:yt,'addressV':_0x154ed2?ue:yt,'width':_0x515eec,'height':_0x3a0d39,'format':_0x1992c7,'cubemap':_0x154ed2,'mipmaps':_0x523290>0x2632+0x13a*-0x14+-0xda9,..._0x53738e});let _0x587b3b=0x265b+-0x3a*-0x65+0x3*-0x143f;const _0xc12243=_0x154ed2?0x64*0x2c+0x1994+0x1*-0x2abe:0x8*0xdb+0x74*0x16+-0x10cf;let _0x12ab0b;const _0x3e8764=0x16c5+-0x21e5+0xb24,_0x5d6124=-0x95+-0x1*0x1b88+-0x1*-0x1c21,_0x1986ab=_0x240b56===_0x199ce1?0x173d*0x1+-0xae5*0x2+-0x16b:-0x1a9c+-0x1157*-0x1+0x955;let _0x4db92d,_0x1ba2f4,_0x55492f;for(let _0x1eb065=0x1d*-0x32+-0xb24*0x3+0x2716;_0x1eb065<_0xc12243;_0x1eb065++){let _0x1a91fe=_0x515eec,_0x40fa15=_0x3a0d39;for(let _0x22d86f=0xd69*0x2+0x1449+-0x2f1b;_0x22d86f<_0x523290;_0x22d86f++){_0x11b9e1?_0x317ddc?_0x12ab0b=Math['floor']((_0x1a91fe+(-0x1*-0x98b+0x1*-0x148f+-0x3ad*-0x3))/(-0xe39+-0xd2d*0x2+0x2897))*Math['floor']((_0x40fa15+(0x1a2*-0x15+0xedc+0x1371))/(-0x17d1+0x3b*0x9e+-0x1*0xc95))*(-0x7*0x277+0x3*0x90c+0x1*-0x9db):_0x51faf2?_0x12ab0b=Math['max'](_0x1a91fe,0xaa9+-0x2619+-0x58*-0x50)*Math['max'](_0x40fa15,-0xb60+-0x9*-0x315+-0x1055)/(0x4*-0x18b+0x1360+-0xd30):_0x32d643?_0x12ab0b=Math['max'](_0x1a91fe,-0xbbd+0x7*-0x31f+0x1a*0x14b)*Math['max'](_0x40fa15,-0x2*0xf31+0x1c8d+0x1dd)/(-0x1648+-0x1*-0x71d+0xf2d):(_0x4db92d=Math['floor']((_0x1a91fe+_0x3e8764-(0x11*0x89+-0x12a4*-0x2+-0x2e60))/_0x3e8764),_0x1ba2f4=Math['floor']((_0x40fa15+_0x5d6124-(0x60e+-0xc6e*-0x2+-0x1ee9))/_0x5d6124),_0x55492f=_0x4db92d*_0x1ba2f4,_0x12ab0b=_0x55492f*_0x1986ab):_0x12ab0b=_0x1a91fe*_0x40fa15*(-0x3e*0x67+0x11*-0x22a+0xd*0x4c0);const _0x3641b2=_0x1992c7===Xt?new Float32Array(_0x279a13,_0x587b3b,_0x12ab0b):_0x1992c7===nt?new Uint16Array(_0x279a13,_0x587b3b,_0x12ab0b):new Uint8Array(_0x279a13,_0x587b3b,_0x12ab0b);_0x154ed2?(_0x697945['_levels'][_0x22d86f]||(_0x697945['_levels'][_0x22d86f]=[]),_0x697945['_levels'][_0x22d86f][_0x1eb065]=_0x3641b2):_0x697945['_levels'][_0x22d86f]=_0x3641b2,_0x587b3b+=_0x12ab0b*_0x2631dc,_0x1a91fe=Math['max'](_0x1a91fe*(-0x18fa+0x250d+-0xc13+0.5),-0x2fb*-0x3+-0x1d9c+0x14ac),_0x40fa15=Math['max'](_0x40fa15*(-0x82*0x28+-0x1849+-0x1*-0x2c99+0.5),-0x3a*-0x30+0x182+0x1*-0xc61);}}return _0x697945['upload'](),_0x697945;}}class rU extends eo{constructor(_0x39d0c9){super(),this['maxRetries']=0xe2d*0x1+0xce5*0x2+-0x27f7;}['load'](_0x824ef1,_0x494123,_0x14c42e){pe['fetchArray'+'Buffer'](_0x824ef1['load'],_0x494123,_0x14c42e,this['maxRetries']),_0x14c42e['data']&&!_0x14c42e['data']['type']&&(_0x14c42e['data']['type']=mh);}['open'](_0x1a3454,_0x18420f,_0x16beb2,_0x32c29c={}){const _0x46c110=this['parse'](_0x18420f);if(!_0x46c110)return null;const _0x443013=new _e(_0x16beb2,{'name':_0x1a3454,'profilerHint':Pr,'addressU':yt,'addressV':ue,'minFilter':Te,'magFilter':Te,'width':_0x46c110['width'],'height':_0x46c110['height'],'levels':_0x46c110['levels'],'format':Ne,'type':mh,'mipmaps':!(0x1667+0x1df0+0x2a*-0x13f),..._0x32c29c});return _0x443013['upload'](),_0x443013;}['parse'](_0x41c6ee){const _0x2c64d5=new KS(_0x41c6ee);if(!_0x2c64d5['readLine']()['startsWith']('#?RADIANCE'))return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0xac59c8={};for(;;){const _0x24919f=_0x2c64d5['readLine']();if(_0x24919f['length']===0xff5+0xa5d+-0x463*0x6)break;{const _0x325ca7=_0x24919f['split']('=');_0x325ca7['length']===-0x65*0x57+0x1a4a+0x80b&&(_0xac59c8[_0x325ca7[-0x1*0x521+-0xa59+-0xf7a*-0x1]]=_0x325ca7[-0x2126+0x6a3*0x3+-0xe2*-0xf]);}}if(!_0xac59c8['hasOwnProp'+'erty']('FORMAT'))return w['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x1cf802=_0x2c64d5['readLine']()['split']('\x20');if(_0x1cf802['length']!==-0xa*-0x88+0x6*-0x651+0x209a)return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x1a1bc5=parseInt(_0x1cf802[0x15f4*-0x1+-0xd8f+0x11c2*0x2],0x1*-0x1a89+-0x1ce6+0x50b*0xb),_0x4537a2=parseInt(_0x1cf802[0x4*0x88a+-0x1306+0x229*-0x7],0x11b6*0x1+0x430+-0x15dc*0x1),_0x59a3ad=this['_readPixel'+'s'](_0x2c64d5,_0x4537a2,_0x1a1bc5,_0x1cf802[0x18ae+0x1*0x1d99+0xadb*-0x5]==='-Y');return _0x59a3ad?{'width':_0x4537a2,'height':_0x1a1bc5,'levels':[_0x59a3ad]}:null;}['_readPixel'+'s'](_0x31c806,_0x35e4cc,_0x4e4248,_0x584ccc){if(_0x35e4cc<-0xfa9+-0x15c0+-0x3*-0xc7b||_0x35e4cc>0x2*-0x15d+-0xe0fa+-0x2cd*-0x7f)return this['_readPixel'+'sFlat'](_0x31c806,_0x35e4cc,_0x4e4248);const _0xaa0a66=[-0x1088*0x1+0x1f5+0xe93,-0x4*-0x87e+-0x165c+-0xb9c,0x233*0x1+0x1*-0x806+0x5d3,-0xb8+-0x13f*-0xd+-0x1*0xf7b];if(_0x31c806['readArray'](_0xaa0a66),_0xaa0a66[-0x160b+-0xea+0x28d*0x9]!==-0x71*-0x2b+-0x109b+-0x25e||_0xaa0a66[0x1ef*0x4+-0x691+-0x12a]!==0x6d1+-0x2d+-0x11b*0x6||(_0xaa0a66[-0x115*-0xc+-0x2549+0x184f]&0x8*0x92+-0xdb8+-0x26a*-0x4)!==-0x2224+-0xe9d+0x1*0x30c1)return _0x31c806['skip'](-(-0x1a93*0x1+0x1f2a+-0x493*0x1)),this['_readPixel'+'sFlat'](_0x31c806,_0x35e4cc,_0x4e4248);const _0xb050a3=new ArrayBuffer(_0x35e4cc*_0x4e4248*(0x45f+-0x2377*-0x1+-0x27d2)),_0x2d674e=new Uint8Array(_0xb050a3);let _0x44ac52=_0x584ccc?-0x1902+0x1a9+0x1759:_0x35e4cc*(0x2*0x89e+0x88c*-0x3+0x86c)*(_0x4e4248-(0x18d5+0x6d5*-0x1+-0x11ff)),_0x260938,_0x28f49e,_0x35c12e,_0x4f836f,_0x3bd86f,_0x144add;for(_0x28f49e=0x202b+0x2b7+-0x22e2;_0x28f49e<_0x4e4248;++_0x28f49e){if(_0x28f49e&&_0x31c806['readArray'](_0xaa0a66),(_0xaa0a66[-0x1*-0x227b+0x85e+0x2ad7*-0x1]<<0x1*0xa7f+0x1387+0x2*-0xeff)+_0xaa0a66[-0xa47*0x1+-0x5c*-0x1+-0x29*-0x3e]!==_0x35e4cc)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x4f836f=0x2701+-0x1011+-0x16f0;_0x4f836f<0x307+-0x179a+0x1497;++_0x4f836f)for(_0x260938=-0x2663+-0x1001+-0xec*-0x3b;_0x260938<_0x35e4cc;)if(_0x3bd86f=_0x31c806['readU8'](),_0x3bd86f>0x8a4*0x4+-0xc4f+-0x15c1){if(_0x3bd86f-=-0x120b+-0x1*-0x2205+-0xf7a*0x1,_0x260938+_0x3bd86f>_0x35e4cc)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x144add=_0x31c806['readU8'](),_0x35c12e=-0xb*-0x252+-0xcb*-0x1c+0x52*-0x95;_0x35c12e<_0x3bd86f;++_0x35c12e)_0x2d674e[_0x44ac52+_0x4f836f+(0x91b+-0x6fb*-0x3+-0x1f*0xf8)*_0x260938++]=_0x144add;}else{if(_0x3bd86f===-0x4a0*0x4+-0x46b*-0x5+-0x397*0x1||_0x260938+_0x3bd86f>_0x35e4cc)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x35c12e=0x1*0x14f+0x1*-0x33a+-0x1eb*-0x1;_0x35c12e<_0x3bd86f;++_0x35c12e)_0x2d674e[_0x44ac52+_0x4f836f+(-0x2570+0x53*0x34+0xa4c*0x2)*_0x260938++]=_0x31c806['readU8']();}_0x44ac52+=_0x35e4cc*(-0xd61+-0x16*0x7a+0x17e1)*(_0x584ccc?-0x142e+-0x5a1*0x5+0x3054:-(-0x376+0x27*-0x43+-0x19*-0x8c));}return _0x2d674e;}['_readPixel'+'sFlat'](_0x1a54dc,_0x509853,_0x43e034){return _0x1a54dc['remainingB'+'ytes']===_0x509853*_0x43e034*(0x51e+0x7*0x551+-0x2a51)?new Uint8Array(_0x1a54dc['arraybuffe'+'r'],_0x1a54dc['offset']):null;}}const TS={'repeat':yt,'clamp':ue,'mirror':ip},wS={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},aU={'default':Ds,'rgbm':Zi,'rgbe':mh,'rgbp':Qo,'swizzleGGGR':Jo},nU=function(_0x2a7b38){const _0x329a68=Xi['calcMipLev'+'elsCount'](_0x2a7b38['_width'],_0x2a7b38['_height']),_0x20debf=function(_0x3328b2){return _0x3328b2 instanceof HTMLCanvasElement||_0x3328b2 instanceof HTMLImageElement||_0x3328b2 instanceof HTMLVideoElement;};if(!(_0x2a7b38['_format']===Ne||_0x2a7b38['_format']===Xt)||_0x2a7b38['_volume']||_0x2a7b38['_compresse'+'d']||_0x2a7b38['_levels']['length']===0x12aa+-0x2035*0x1+-0x22*-0x66||_0x2a7b38['_levels']['length']===_0x329a68||_0x20debf(_0x2a7b38['_cubemap']?_0x2a7b38['_levels'][-0xfab+0x13*0xfe+-0x32f][0x1335*-0x1+0x22b+0x110a]:_0x2a7b38['_levels'][0x343+-0xee4+0xba1]))return;const _0x2c0087=function(_0x23dd4b,_0x515d79,_0x3995a1){const _0x568c72=Math['max'](-0x671*0x4+0x15c5*0x1+-0x4*-0x100,_0x23dd4b>>0x211*0xd+0x501+-0x1fdd),_0x116ddd=Math['max'](-0x1*0x13c6+-0x1c9e+-0x1*-0x3065,_0x515d79>>0x3*0xc03+0x989*-0x1+0x11*-0x18f),_0x43155a=new _0x3995a1['constructo'+'r'](_0x568c72*_0x116ddd*(0x24e3+-0x166a+-0xe75)),_0x438de7=Math['floor'](_0x23dd4b/_0x568c72),_0x19915d=Math['floor'](_0x515d79/_0x116ddd),_0x263cad=_0x438de7*_0x19915d;for(let _0x5389f0=0x1306+0x12f*-0x3+-0x11*0xe9;_0x5389f0<_0x116ddd;++_0x5389f0)for(let _0x180515=0x1482+0x1ab1*0x1+0x119*-0x2b;_0x180515<_0x568c72;++_0x180515)for(let _0x55dc20=0x1411+0x1*-0xb87+-0x88a;_0x55dc20<0x2359+0x22be+-0x4613;++_0x55dc20){let _0xdd6876=-0x1*0xa0c+-0x177a+0x2186;for(let _0x373a1c=-0x691*0x5+0xb3c*0x1+0x1599;_0x373a1c<_0x19915d;++_0x373a1c)for(let _0x36f838=0x12a8+-0x1d8c+0x52*0x22;_0x36f838<_0x438de7;++_0x36f838)_0xdd6876+=_0x3995a1[(_0x180515*_0x438de7+_0x36f838+(_0x5389f0*_0x19915d+_0x373a1c)*_0x23dd4b)*(-0xa0c+-0x3*-0x855+-0xeef*0x1)+_0x55dc20];_0x43155a[(_0x180515+_0x5389f0*_0x568c72)*(-0x34d+0x131*0x2+0xef)+_0x55dc20]=_0xdd6876/_0x263cad;}return _0x43155a;};for(let _0x33e70f=_0x2a7b38['_levels']['length'];_0x33e70f<_0x329a68;++_0x33e70f){const _0x21f9c6=Math['max'](-0x14*0x32+0x2458+-0x206f,_0x2a7b38['_width']>>_0x33e70f-(0x5*-0x67+-0xa6+0x2aa)),_0x16554b=Math['max'](-0x1*-0x1c7c+0x9d7+0x9*-0x442,_0x2a7b38['_height']>>_0x33e70f-(-0x231a*-0x1+-0xd*0x24+0xb17*-0x3));if(_0x2a7b38['_cubemap']){const _0x2f80cd=[];for(let _0x2d19d1=0xcf8+-0x2*0x308+-0x6e8;_0x2d19d1<-0x2312+-0x1360+0x38*0xf9;++_0x2d19d1)_0x2f80cd['push'](_0x2c0087(_0x21f9c6,_0x16554b,_0x2a7b38['_levels'][_0x33e70f-(-0x32*0x15+-0x313*0xc+0x28ff)][_0x2d19d1]));_0x2a7b38['_levels']['push'](_0x2f80cd);}else _0x2a7b38['_levels']['push'](_0x2c0087(_0x21f9c6,_0x16554b,_0x2a7b38['_levels'][_0x33e70f-(0xf28*-0x1+0x5f3+-0x936*-0x1)]));}_0x2a7b38['_levelsUpd'+'ated']=_0x2a7b38['_cubemap']?[[!(0x161f+-0x70c+-0xf13*0x1),!(-0x18f3+0x11*-0x1c8+0x373b),!(-0x706+-0x129e+0x19a4),!(0x49*-0x42+0x11*0x22d+-0x1*0x122b),!(0x17e*0xc+-0x8*0x17e+0x1*-0x5f8),!(-0xa22+-0x445*0x3+-0x7*-0x347)]]:[!(0x1*0x1a9d+-0x6*-0x1fd+-0xcd9*0x3)];};class oU extends Qe{constructor(_0x52a025){super(_0x52a025,'texture');const _0x3589de=_0x52a025['assets'],_0xae5dcd=_0x52a025['graphicsDe'+'vice'];this['_device']=_0xae5dcd,this['_assets']=_0x3589de,this['imgParser']=new Zk(_0x3589de,_0xae5dcd),this['parsers']={'dds':new iU(_0x3589de),'ktx':new eU(_0x3589de),'ktx2':new sU(_0x3589de,_0xae5dcd),'basis':new qk(_0x3589de,_0xae5dcd),'hdr':new rU(_0x3589de)};}set['crossOrigi'+'n'](_0x2e615f){this['imgParser']['crossOrigi'+'n']=_0x2e615f;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x2b750b){this['imgParser']['maxRetries']=_0x2b750b;for(const _0xb31d71 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0xb31d71)&&(this['parsers'][_0xb31d71]['maxRetries']=_0x2b750b);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x4f9d29){return _0x4f9d29['indexOf']('?')>=0x3*-0x42a+-0x1233+0x9*0x369?_0x4f9d29['split']('?')[-0x7*-0x47+-0xa*0xff+0x805]:_0x4f9d29;}['_getParser'](_0x393dbb){const _0x3188de=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x393dbb))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x3188de]||this['imgParser'];}['_getTextur'+'eOptions'](_0x13c96b){var _0x5843b5;const _0x399ebe={'profilerHint':Pr};if(_0x13c96b){((_0x5843b5=_0x13c96b['name'])==null?void(-0x1*-0x14ae+0x1dfc+0xa*-0x511):_0x5843b5['length'])>-0xa5e+-0xd92*0x1+0x4*0x5fc&&(_0x399ebe['name']=_0x13c96b['name']);const _0x21b7e5=_0x13c96b['data'];_0x21b7e5['hasOwnProp'+'erty']('minfilter')&&(_0x399ebe['minFilter']=wS[_0x21b7e5['minfilter']]),_0x21b7e5['hasOwnProp'+'erty']('magfilter')&&(_0x399ebe['magFilter']=wS[_0x21b7e5['magfilter']]),_0x21b7e5['hasOwnProp'+'erty']('addressu')&&(_0x399ebe['addressU']=TS[_0x21b7e5['addressu']]),_0x21b7e5['hasOwnProp'+'erty']('addressv')&&(_0x399ebe['addressV']=TS[_0x21b7e5['addressv']]),_0x21b7e5['hasOwnProp'+'erty']('mipmaps')&&(_0x399ebe['mipmaps']=_0x21b7e5['mipmaps']),_0x21b7e5['hasOwnProp'+'erty']('anisotropy')&&(_0x399ebe['anisotropy']=_0x21b7e5['anisotropy']),_0x21b7e5['hasOwnProp'+'erty']('flipY')&&(_0x399ebe['flipY']=!!_0x21b7e5['flipY']),_0x21b7e5['hasOwnProp'+'erty']('srgb')&&(_0x399ebe['srgb']=!!_0x21b7e5['srgb']),_0x399ebe['type']=Ds,_0x21b7e5['hasOwnProp'+'erty']('type')?_0x399ebe['type']=aU[_0x21b7e5['type']]:_0x21b7e5['hasOwnProp'+'erty']('rgbm')&&_0x21b7e5['rgbm']?_0x399ebe['type']=Zi:_0x13c96b['file']&&(_0x13c96b['file']['opt']&0x13f1*0x1+-0x4f2*0x1+-0xef7*0x1)!==-0x1*-0x5d1+0x1f66*-0x1+-0x3*-0x887&&(_0x399ebe['type']=Jo);}return _0x399ebe;}['load'](_0x3cbc13,_0x344734,_0x3da676){typeof _0x3cbc13=='string'&&(_0x3cbc13={'load':_0x3cbc13,'original':_0x3cbc13}),this['_getParser'](_0x3cbc13['original'])['load'](_0x3cbc13,_0x344734,_0x3da676);}['open'](_0x519113,_0x59bac3,_0x1ebe91){if(!_0x519113)return;const _0x33353b=this['_getTextur'+'eOptions'](_0x1ebe91);let _0x211476=this['_getParser'](_0x519113)['open'](_0x519113,_0x59bac3,this['_device'],_0x33353b);return _0x211476===null?_0x211476=new _e(this['_device'],{'width':0x4,'height':0x4,'format':Cr}):(nU(_0x211476),_0x59bac3['unswizzled'+'GGGR']&&(_0x1ebe91['file']['variants']['basis']['opt']&=-(0x5*0x727+-0x5e+-0x124*0x1f))),_0x211476;}['patch'](_0x58c44c,_0x3fff37){const _0x33d022=_0x58c44c['resource'];if(!_0x33d022)return;const _0x33df86=this['_getTextur'+'eOptions'](_0x58c44c);for(const _0x3f577e of Object['keys'](_0x33df86))_0x33d022[_0x3f577e]=_0x33df86[_0x3f577e];}}const lU='inline',cU='immersive-'+'vr',$o='immersive-'+'ar',ES='viewer',hU='left',dU='cpu-optimi'+'zed',P0='gpu-optimi'+'zed',M0='luminance-'+'alpha',D0='unsigned-s'+'hort',I0='float32';class fU{constructor(_0x1afa3f){h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRDOMOverl'+'ayState']),h(this,'_root',null),this['_manager']=_0x1afa3f;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x36f9c5){!this['_supported']||this['_manager']['active']||(this['_root']=_0x36f9c5);}get['root'](){return this['_root'];}}const Rc=[],bS=[];class ju extends me{constructor(_0x3b5e14,_0x15ea45,_0x58ad28,_0x182aba=null){super(),h(this,'manager'),h(this,'_xrHitTest'+'Source'),h(this,'_transient'),h(this,'_inputSour'+'ce'),(this['manager']=_0x3b5e14,this['_xrHitTest'+'Source']=_0x15ea45,this['_transient']=_0x58ad28,this['_inputSour'+'ce']=_0x182aba);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0x26ad53=this['manager']['hitTest']['sources'],_0x420692=_0x26ad53['indexOf'](this);_0x420692!==-(-0x883*-0x4+-0x1*-0x1ef6+-0x4101)&&_0x26ad53['splice'](_0x420692,0x1653+0x1*0x25d+-0x59*0x47),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x15b825){if(this['_transient']){const _0x3e389f=_0x15b825['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x1f56b1=-0x706+-0x9*-0x37f+-0x1871;_0x1f56b1<_0x3e389f['length'];_0x1f56b1++){const _0x5832bf=_0x3e389f[_0x1f56b1];if(!_0x5832bf['results']['length'])continue;let _0x83eb6c;_0x5832bf['inputSourc'+'e']&&(_0x83eb6c=this['manager']['input']['_getByInpu'+'tSource'](_0x5832bf['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x5832bf['results'],_0x83eb6c);}}else{const _0x559f4e=_0x15b825['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x559f4e['length'])return;this['updateHitR'+'esults'](_0x559f4e);}}['updateHitR'+'esults'](_0x39a241,_0x23fe45){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x23fe45)return;const _0x532459=Rc['pop']()??new D();_0x23fe45?_0x532459['copy'](_0x23fe45['getOrigin']()):_0x532459['copy'](this['manager']['camera']['getPositio'+'n']());let _0x2f4b55=(0x29f*-0x7+0x1ca*-0xd+0xa67*0x4)/(-0x2318+0x1e25+0x4f3*0x1),_0x114aeb=null;const _0x2af676=Rc['pop']()??new D(),_0x165ca4=bS['pop']()??new le();for(let _0x553d62=-0x2000+0x2582*-0x1+0x4582*0x1;_0x553d62<_0x39a241['length'];_0x553d62++){const _0x338ce1=_0x39a241[_0x553d62]['getPose'](this['manager']['_reference'+'Space']),_0x4970d8=_0x532459['distance'](_0x338ce1['transform']['position']);_0x4970d8>=_0x2f4b55||(_0x2f4b55=_0x4970d8,_0x114aeb=_0x39a241[_0x553d62],_0x2af676['copy'](_0x338ce1['transform']['position']),_0x165ca4['copy'](_0x338ce1['transform']['orientatio'+'n']));}this['fire']('result',_0x2af676,_0x165ca4,_0x23fe45||this['_inputSour'+'ce'],_0x114aeb),this['manager']['hitTest']['fire']('result',this,_0x2af676,_0x165ca4,_0x23fe45||this['_inputSour'+'ce'],_0x114aeb),Rc['push'](_0x532459),Rc['push'](_0x2af676),bS['push'](_0x165ca4);}}h(ju,'EVENT_REMO'+'VE','remove'),h(ju,'EVENT_RESU'+'LT','result');class jr extends me{constructor(_0x13d264){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),h(this,'_available',!(0x14ba+0x647+0x10*-0x1b0)),h(this,'_checkingA'+'vailabilit'+'y',!(0x1124+0x80*-0x26+0x1dd)),h(this,'sources',[]),(this['manager']=_0x13d264,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x43309d=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(0x8e1*0x3+-0x193*0x1+-0x5*0x503);if(!_0x43309d)return;this['_available']=_0x43309d,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(0x2*-0x301+0x1*0xbcd+-0x5cb),this['manager']['session']['requestRef'+'erenceSpac'+'e'](ES)['then'](_0x5d29b1=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x5d29b1})['then'](_0x19795c=>{_0x19795c['cancel'](),this['manager']['active']&&(this['_available']=!(0x1*-0xace+0x1*-0x1d21+-0x1*-0x27ef),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x1514+-0x43*-0x47+-0x27a8);for(let _0xde21f4=0x1c93+0x2d*0x2f+-0x24d6;_0xde21f4<this['sources']['length'];_0xde21f4++)this['sources'][_0xde21f4]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x4b5a35={}){var _0x235a18,_0x3e931d;if(!this['_supported']){(_0x235a18=_0x4b5a35['callback'])==null||_0x235a18['call'](_0x4b5a35,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x3e931d=_0x4b5a35['callback'])==null||_0x3e931d['call'](_0x4b5a35,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x4b5a35['profile']&&!_0x4b5a35['spaceType']&&(_0x4b5a35['spaceType']=ES);let _0x2ed0be;const _0x136f3d=_0x4b5a35['offsetRay'];if(_0x136f3d){const _0x3998e6=new DOMPoint(_0x136f3d['origin']['x'],_0x136f3d['origin']['y'],_0x136f3d['origin']['z'],0x244d*0x1+0xfdb+-0xa9*0x4f),_0x1a4f37=new DOMPoint(_0x136f3d['direction']['x'],_0x136f3d['direction']['y'],_0x136f3d['direction']['z'],-0x648+-0xe3f+0x1487*0x1);_0x2ed0be=new XRRay(_0x3998e6,_0x1a4f37);}const _0x382913=_0x4b5a35['callback'];_0x4b5a35['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x4b5a35['spaceType'])['then'](_0x1d9c8d=>{if(!this['manager']['session']){const _0x6c9522=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x382913&&_0x382913(_0x6c9522),this['fire']('error',_0x6c9522);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x1d9c8d,'entityTypes':_0x4b5a35['entityType'+'s']||void(0x2054+-0x2*-0x5ac+-0x35c*0xd),'offsetRay':_0x2ed0be})['then'](_0x33f781=>{this['_onHitTest'+'Source'](_0x33f781,!(-0x194b+-0x1*-0x1bcb+0x9*-0x47),_0x4b5a35['inputSourc'+'e'],_0x382913);})['catch'](_0x351611=>{_0x382913&&_0x382913(_0x351611),this['fire']('error',_0x351611);});})['catch'](_0x176d8e=>{_0x382913&&_0x382913(_0x176d8e),this['fire']('error',_0x176d8e);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x4b5a35['profile'],'entityTypes':_0x4b5a35['entityType'+'s']||void(-0x154e+-0x1*-0xde7+-0x767*-0x1),'offsetRay':_0x2ed0be})['then'](_0x2a2d13=>{this['_onHitTest'+'Source'](_0x2a2d13,!(0x1913+-0x3*0xb93+-0x9a6*-0x1),_0x4b5a35['inputSourc'+'e'],_0x382913);})['catch'](_0x5e3787=>{_0x382913&&_0x382913(_0x5e3787),this['fire']('error',_0x5e3787);});}['_onHitTest'+'Source'](_0x357b73,_0x30306f,_0x501103,_0x429fc4){if(!this['manager']['session']){_0x357b73['cancel']();const _0x37e803=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x429fc4&&_0x429fc4(_0x37e803),this['fire']('error',_0x37e803);return;}const _0x56df5f=new ju(this['manager'],_0x357b73,_0x30306f,_0x501103??null);this['sources']['push'](_0x56df5f),_0x429fc4&&_0x429fc4(null,_0x56df5f),this['fire']('add',_0x56df5f);}['update'](_0x10146e){if(this['_available']){for(let _0x2c8d84=-0x1c21*0x1+0x253+-0x89a*-0x3;_0x2c8d84<this['sources']['length'];_0x2c8d84++)this['sources'][_0x2c8d84]['update'](_0x10146e);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}h(jr,'EVENT_AVAI'+'LABLE','available'),h(jr,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(jr,'EVENT_ADD','add'),h(jr,'EVENT_REMO'+'VE','remove'),h(jr,'EVENT_RESU'+'LT','result'),h(jr,'EVENT_ERRO'+'R','error');class Yu extends me{constructor(_0x2878cf,_0x1d6065){super(),h(this,'_image'),h(this,'_width'),h(this,'_bitmap',null),h(this,'_measuredW'+'idth',-0x1*-0x1331+0x1c81*0x1+0x22b*-0x16),h(this,'_trackable',!(0x1db4+-0x51c+0x4eb*-0x5)),h(this,'_tracking',!(-0xaca+0x9c1+-0x1*-0x10a)),h(this,'_emulated',!(-0x1e50+-0xba3+-0x219*-0x14)),h(this,'_pose',null),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_image']=_0x2878cf,this['_width']=_0x1d6065);}get['image'](){return this['_image'];}set['width'](_0x35ddc1){this['_width']=_0x35ddc1;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x50619b=>(this['_bitmap']=_0x50619b,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}h(Yu,'EVENT_TRAC'+'KED','tracked'),h(Yu,'EVENT_UNTR'+'ACKED','untracked');class L0 extends me{constructor(_0x136979){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),h(this,'_available',!(-0xcbf+-0x18a4+0x2564)),h(this,'_images',[]),(this['_manager']=_0x136979,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x312374,_0x2bb28c){if(!this['_supported']||this['_manager']['active'])return null;const _0x327e82=new Yu(_0x312374,_0x2bb28c);return this['_images']['push'](_0x327e82),_0x327e82;}['remove'](_0x31423d){if(this['_manager']['active'])return;const _0x48922c=this['_images']['indexOf'](_0x31423d);_0x48922c!==-(-0x1332+0x35a+-0x1*-0xfd9)&&(_0x31423d['destroy'](),this['_images']['splice'](_0x48922c,-0x668+-0x1*0xb23+-0x1*-0x118c));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0x1935aa=>{this['_available']=!(-0x473+-0x1715+0x1b88);for(let _0x2c2d2b=0xfe*-0x23+-0x1040+-0xae*-0x4b;_0x2c2d2b<_0x1935aa['length'];_0x2c2d2b++)this['_images'][_0x2c2d2b]['_trackable']=_0x1935aa[_0x2c2d2b]==='trackable';})['catch'](_0xb30a41=>{this['_available']=!(-0x184b+0x1*0x2f5+-0x1557*-0x1),this['fire']('error',_0xb30a41);});}['_onSession'+'End'](){this['_available']=!(0x26f9+-0x1384+0x33e*-0x6);for(let _0x3415e7=-0x5*0x631+-0x1ff*-0xd+-0x281*-0x2;_0x3415e7<this['_images']['length'];_0x3415e7++){const _0x5bbdf6=this['_images'][_0x3415e7];_0x5bbdf6['_pose']=null,_0x5bbdf6['_measuredW'+'idth']=-0x1990+-0x5cc+-0x12*-0x1be,_0x5bbdf6['_tracking']&&(_0x5bbdf6['_tracking']=!(0x8d5+0x1d50+-0x2624),_0x5bbdf6['fire']('untracked'));}}['prepareIma'+'ges'](_0x313bc5){this['_images']['length']?Promise['all'](this['_images']['map'](_0x3bd3ac=>_0x3bd3ac['prepare']()))['then'](_0x2df3a2=>{_0x313bc5(null,_0x2df3a2);})['catch'](_0x1be903=>{_0x313bc5(_0x1be903,null);}):_0x313bc5(null,null);}['update'](_0x25380b){if(!this['_available'])return;const _0x1cdfdb=_0x25380b['getImageTr'+'ackingResu'+'lts'](),_0x56b4d6={};for(let _0x427759=0x1*-0x3bd+0x225f*0x1+-0x1ea2;_0x427759<_0x1cdfdb['length'];_0x427759++){_0x56b4d6[_0x1cdfdb[_0x427759]['index']]=_0x1cdfdb[_0x427759];const _0x54d35e=this['_images'][_0x1cdfdb[_0x427759]['index']];_0x54d35e['_emulated']=_0x1cdfdb[_0x427759]['trackingSt'+'ate']==='emulated',_0x54d35e['_measuredW'+'idth']=_0x1cdfdb[_0x427759]['measuredWi'+'dthInMeter'+'s'],_0x54d35e['_pose']=_0x25380b['getPose'](_0x1cdfdb[_0x427759]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x2d69fb=0x411+-0x897+0x486;_0x2d69fb<this['_images']['length'];_0x2d69fb++)this['_images'][_0x2d69fb]['_tracking']&&!_0x56b4d6[_0x2d69fb]?(this['_images'][_0x2d69fb]['_tracking']=!(-0x112b+-0x98d+0x1ab9),this['_images'][_0x2d69fb]['fire']('untracked')):!this['_images'][_0x2d69fb]['_tracking']&&_0x56b4d6[_0x2d69fb]&&(this['_images'][_0x2d69fb]['_tracking']=!(-0x355*-0x2+-0x1f20+0x1876),this['_images'][_0x2d69fb]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}h(L0,'EVENT_ERRO'+'R','error');class uU{constructor(_0x197cac,_0x3076f8){h(this,'_index'),h(this,'_hand'),h(this,'_joints',[]),h(this,'_tip',null),(this['_index']=_0x197cac,this['_hand']=_0x3076f8,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const AS=Ae['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],R0={};for(let l=0x9*0x112+-0x430+-0x2*0x2b9;l<AS['length'];l++)R0[AS[l]]=!(0x7f7*-0x1+0x499*-0x7+0x2826);class CS{constructor(_0x1a38a9,_0xad5cd2,_0x13af42,_0x25a199=null){h(this,'_index'),h(this,'_id'),h(this,'_hand'),h(this,'_finger'),h(this,'_wrist'),h(this,'_tip'),h(this,'_radius',null),h(this,'_localTran'+'sform',new te()),h(this,'_worldTran'+'sform',new te()),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_dirtyLoca'+'l',!(-0xa57*-0x3+-0x15fe+-0x907)),(this['_index']=_0x1a38a9,this['_id']=_0xad5cd2,this['_hand']=_0x13af42,this['_finger']=_0x25a199,this['_wrist']=_0xad5cd2==='wrist',this['_tip']=this['_finger']&&!!R0[_0xad5cd2]);}['update'](_0x35d280){this['_dirtyLoca'+'l']=!(0x20*0xe1+0x1*-0x1c31+-0x11*-0x1),this['_radius']=_0x35d280['radius'],this['_localPosi'+'tion']['copy'](_0x35d280['transform']['position']),this['_localRota'+'tion']['copy'](_0x35d280['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x2663+0x11d1+-0x1*-0x1493),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0x1224ad=this['_hand']['_manager']['camera']['parent'];_0x1224ad?this['_worldTran'+'sform']['mul2'](_0x1224ad['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||-0x40e+0x1e4f+0x2f*-0x8f+0.005;}}let rh=[];const Wr=new D(),Oc=new D(),PS=new D();Ae['browser']&&window['XRHand']&&(rh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Ku extends me{constructor(_0x33e15b){super(),h(this,'_manager'),h(this,'_inputSour'+'ce'),h(this,'_tracking',!(0x132d+0x82e+-0x1b5a)),h(this,'_fingers',[]),h(this,'_joints',[]),h(this,'_jointsByI'+'d',{}),h(this,'_tips',[]),h(this,'_wrist',null);const _0x2a7c79=_0x33e15b['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x33e15b['_manager'],this['_inputSour'+'ce']=_0x33e15b,_0x2a7c79['get']('wrist')){const _0x44c05d=new CS(0x2085+-0x4bf+-0x1e*0xed,'wrist',this,null);this['_wrist']=_0x44c05d,this['_joints']['push'](_0x44c05d),this['_jointsByI'+'d']['wrist']=_0x44c05d;}for(let _0x50d63c=-0x1d8d+-0xd22+0x2aaf;_0x50d63c<rh['length'];_0x50d63c++){const _0x275876=new uU(_0x50d63c,this);for(let _0x54ffe3=0xf*-0x1a5+0x8*0x40+0x16ab;_0x54ffe3<rh[_0x50d63c]['length'];_0x54ffe3++){const _0x2cdb4b=rh[_0x50d63c][_0x54ffe3];if(!_0x2a7c79['get'](_0x2cdb4b))continue;const _0x5af50a=new CS(_0x54ffe3,_0x2cdb4b,this,_0x275876);this['_joints']['push'](_0x5af50a),this['_jointsByI'+'d'][_0x2cdb4b]=_0x5af50a,_0x5af50a['tip']&&(this['_tips']['push'](_0x5af50a),_0x275876['_tip']=_0x5af50a),_0x275876['_joints']['push'](_0x5af50a);}}}['update'](_0x2bca8a){const _0x5aa5c9=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0x771b3c=-0x35*0x13+0x1*0x5bb+-0x1cc;_0x771b3c<this['_joints']['length'];_0x771b3c++){const _0x1fefc9=this['_joints'][_0x771b3c],_0x370eee=_0x5aa5c9['hand']['get'](_0x1fefc9['_id']);if(_0x370eee){let _0x5ac0c7;if(_0x2bca8a['session']['visibility'+'State']!=='hidden'&&(_0x5ac0c7=_0x2bca8a['getJointPo'+'se'](_0x370eee,this['_manager']['_reference'+'Space'])),_0x5ac0c7)_0x1fefc9['update'](_0x5ac0c7),_0x1fefc9['wrist']&&!this['_tracking']&&(this['_tracking']=!(0x1*-0x26e1+0x8d*0x1b+-0xe*-0x1b7),this['fire']('tracking'));else{if(_0x1fefc9['wrist']){this['_tracking']&&(this['_tracking']=!(0xa*-0xe+-0x1500+0x158d),this['fire']('trackinglo'+'st'));break;}}}}const _0x54348a=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x3f62f0=this['_jointsByI'+'d']['thumb-tip'],_0x2ffb68=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x43ddd5=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0x491a85=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0x251e51=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x54348a&&_0x3f62f0&&_0x2ffb68&&_0x43ddd5&&_0x491a85&&_0x251e51){this['_inputSour'+'ce']['_dirtyRay']=!(0x11*-0x101+0x4*-0x32d+0x1*0x1dc5),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x3f62f0['_localPosi'+'tion'],_0x43ddd5['_localPosi'+'tion'],-0x10ac+-0x381*-0x4+0x2a8+0.5);let _0x4428cb=_0x54348a,_0xa53c48=_0x251e51;if(this['_inputSour'+'ce']['handedness']===hU){const _0x2dd6ed=_0x4428cb;_0x4428cb=_0xa53c48,_0xa53c48=_0x2dd6ed;}Wr['sub2'](_0x4428cb['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Oc['sub2'](_0xa53c48['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),PS['cross'](Wr,Oc)['normalize'](),Wr['lerp'](_0x2ffb68['_localPosi'+'tion'],_0x491a85['_localPosi'+'tion'],0xea2*-0x1+0xdc7*-0x1+0x1c69*0x1+0.5),Wr['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](PS,Wr,-0x1d9b+-0xd69*0x1+0x2b04+0.5)['normalize']();}this['_fingerIsC'+'losed'](-0x11ed+-0x4e4+-0xb69*-0x2)&&this['_fingerIsC'+'losed'](0x2058+0x1899+-0x38ef*0x1)&&this['_fingerIsC'+'losed'](0x1*0x211a+0x523*0x6+0x3fe9*-0x1)&&this['_fingerIsC'+'losed'](0x406+-0x710*-0x5+-0x2752)?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(0x7*0x199+-0xb*0x377+0x1aee),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(0x3a*0x6b+-0x1*-0x24f7+0x1e9a*-0x2),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingerIsC'+'losed'](_0x1f2cfd){const _0x25207d=this['_fingers'][_0x1f2cfd];return Wr['sub2'](_0x25207d['joints'][-0x47+0x412*0x1+-0x3cb]['_localPosi'+'tion'],_0x25207d['joints'][-0x353+0x1eef+0xbf*-0x25]['_localPosi'+'tion'])['normalize'](),Oc['sub2'](_0x25207d['joints'][-0x23*0xca+-0x16c5+0x85*0x61]['_localPosi'+'tion'],_0x25207d['joints'][0xf52+0x14bf*0x1+-0x240e]['_localPosi'+'tion'])['normalize'](),Wr['dot'](Oc)<-(0xb*-0x277+-0x16*0x199+0x2f7*0x15+0.8);}['getJointBy'+'Id'](_0xc0d01){return this['_jointsByI'+'d'][_0xc0d01]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}h(Ku,'EVENT_TRAC'+'KING','tracking'),h(Ku,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const MS=new D(),DS=new le();let pU=-0x1a4f+0x26ce+0xc7f*-0x1;class Qt extends me{constructor(_0x1d73fe,_0x30fea3){super(),h(this,'_id'),h(this,'_manager'),h(this,'_xrInputSo'+'urce'),h(this,'_ray',new Dn()),h(this,'_rayLocal',new Dn()),h(this,'_grip',!(0x107*0x6+-0x1e74*-0x1+0x67*-0x5b)),h(this,'_hand',null),h(this,'_velocitie'+'sAvailable',!(0x2c*0x3+0x1d*-0x30+0x4ed)),h(this,'_velocitie'+'sTimestamp',de()),h(this,'_localTran'+'sform',null),h(this,'_worldTran'+'sform',null),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_localPosi'+'tion',null),h(this,'_localPosi'+'tionLast',null),h(this,'_localRota'+'tion',null),h(this,'_linearVel'+'ocity',null),h(this,'_dirtyLoca'+'l',!(-0x26d9+-0x1751+0x3e2a)),h(this,'_dirtyRay',!(0x1215*0x1+-0x4*0x2c3+0x24*-0x32)),h(this,'_selecting',!(0xb*-0x141+0xa1a+-0x1d9*-0x2)),h(this,'_squeezing',!(-0x11d8+-0x10a9+0x2282)),h(this,'_elementIn'+'put',!(-0x1*-0x12+-0x12e1+0x12cf)),h(this,'_elementEn'+'tity',null),h(this,'_hitTestSo'+'urces',[]),(this['_id']=++pU,this['_manager']=_0x1d73fe,this['_xrInputSo'+'urce']=_0x30fea3,_0x30fea3['hand']&&(this['_hand']=new Ku(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x1b2f49){this['_elementIn'+'put']!==_0x1b2f49&&(this['_elementIn'+'put']=_0x1b2f49,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0x8f28ff){if(this['_hand'])this['_hand']['update'](_0x8f28ff);else{const _0x479faf=this['_xrInputSo'+'urce']['gripSpace'];if(_0x479faf){const _0x47f491=_0x8f28ff['getPose'](_0x479faf,this['_manager']['_reference'+'Space']);if(_0x47f491){this['_grip']||(this['_grip']=!(0x1*0x1623+0x3*-0x88+-0x148b),this['_localTran'+'sform']=new te(),this['_worldTran'+'sform']=new te(),this['_localPosi'+'tionLast']=new D(),this['_localPosi'+'tion']=new D(),this['_localRota'+'tion']=new le(),this['_linearVel'+'ocity']=new D());const _0x229899=de(),_0x33fc5c=(_0x229899-this['_velocitie'+'sTimestamp'])/(-0xd38+0x1ab5+-0x995);this['_velocitie'+'sTimestamp']=_0x229899,this['_dirtyLoca'+'l']=!(0xe3*-0x3+0xfa7+0x67f*-0x2),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x47f491['transform']['position']),this['_localRota'+'tion']['copy'](_0x47f491['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(0x1e2*0x4+-0x11f*-0x5+0x1*-0xd23),this['_manager']['input']['velocities'+'Supported']&&_0x47f491['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x47f491['linearVelo'+'city']):_0x33fc5c>-0x2072+0x1c58+0x41a&&(MS['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x33fc5c),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],MS,0x122+0x1*-0xa+0x23*-0x8+0.15));}else this['_velocitie'+'sAvailable']=!(-0x22*-0xb5+-0x1*0x1f+-0xbf5*0x2);}const _0x4837c3=_0x8f28ff['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0x4837c3&&(this['_dirtyRay']=!(0x2*-0xe62+-0x648+0x4*0x8c3),this['_rayLocal']['origin']['copy'](_0x4837c3['transform']['position']),this['_rayLocal']['direction']['set'](0x14b*-0x7+0x1694+-0xd87*0x1,0x1658+-0xf*-0xef+-0x2459,-(-0x6b*-0x6+-0x3e*-0x6b+-0x1c6b)),DS['copy'](_0x4837c3['transform']['orientatio'+'n']),DS['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x2*-0x55+0x1631+-0x16da),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0x15b832=this['_manager']['camera']['parent'];_0x15b832?this['_worldTran'+'sform']['mul2'](_0x15b832['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x156596=this['_dirtyRay'];if(this['_dirtyRay']=!(0x17e2+0x1df0+-0x17*0x257),this['_manager']['camera']['parent']){const _0x28c138=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x28c138['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x28c138),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x156596&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x2486f3={}){_0x2486f3['inputSourc'+'e']=this,_0x2486f3['profile']=this['_xrInputSo'+'urce']['profiles'][0x13a3+-0x10d*-0xb+-0x1f32];const _0x7ccfdb=_0x2486f3['callback'];_0x2486f3['callback']=(_0x16ad76,_0x2fadbd)=>{_0x2fadbd&&this['onHitTestS'+'ourceAdd'](_0x2fadbd),_0x7ccfdb&&_0x7ccfdb(_0x16ad76,_0x2fadbd);},this['_manager']['hitTest']['start'](_0x2486f3);}['onHitTestS'+'ourceAdd'](_0x4a798d){this['_hitTestSo'+'urces']['push'](_0x4a798d),this['fire']('hittest:ad'+'d',_0x4a798d),_0x4a798d['on']('result',(_0x31a692,_0x4261c2,_0xe7d69d,_0x465570)=>{_0xe7d69d===this&&this['fire']('hittest:re'+'sult',_0x4a798d,_0x31a692,_0x4261c2,_0x465570);}),_0x4a798d['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x4a798d),this['fire']('hittest:re'+'move',_0x4a798d);});}['onHitTestS'+'ourceRemov'+'e'](_0x54c7da){const _0x3580d9=this['_hitTestSo'+'urces']['indexOf'](_0x54c7da);_0x3580d9!==-(-0x258a+-0x1e27+0x43b2)&&this['_hitTestSo'+'urces']['splice'](_0x3580d9,0x1cf9*0x1+-0x1*0x1f7d+-0xf*-0x2b);}}h(Qt,'EVENT_REMO'+'VE','remove'),h(Qt,'EVENT_SELE'+'CT','select'),h(Qt,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Qt,'EVENT_SELE'+'CTEND','selectend'),h(Qt,'EVENT_SQUE'+'EZE','squeeze'),h(Qt,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Qt,'EVENT_SQUE'+'EZEEND','squeezeend'),h(Qt,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),h(Qt,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),h(Qt,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class Li extends me{constructor(_0x3b4d6e){var _0x13fdf3,_0x31a03f;super(),h(this,'manager'),h(this,'_inputSour'+'ces',[]),h(this,'_onInputSo'+'urcesChang'+'eEvt'),h(this,'velocities'+'Supported',!(-0x217a+-0x7f0+0x296b)),(this['manager']=_0x3b4d6e,this['velocities'+'Supported']=!!(Ae['browser']&&((_0x31a03f=(_0x13fdf3=window['XRPose'])==null?void(-0x1*0x1ca+0x1aa7+-0x18dd):_0x13fdf3['prototype'])!=null&&_0x31a03f['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x3b75b3=>{this['_onInputSo'+'urcesChang'+'e'](_0x3b75b3);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x3fc866=this['manager']['session'];_0x3fc866['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x3fc866['addEventLi'+'stener']('select',_0x95651a=>{const _0x35c35a=this['_getByInpu'+'tSource'](_0x95651a['inputSourc'+'e']);_0x35c35a['update'](_0x95651a['frame']),_0x35c35a['fire']('select',_0x95651a),this['fire']('select',_0x35c35a,_0x95651a);}),_0x3fc866['addEventLi'+'stener']('selectstar'+'t',_0x3d2ac4=>{const _0x271718=this['_getByInpu'+'tSource'](_0x3d2ac4['inputSourc'+'e']);_0x271718['_selecting']||(_0x271718['update'](_0x3d2ac4['frame']),_0x271718['_selecting']=!(0x1837+-0xb7a+0x1*-0xcbd),_0x271718['fire']('selectstar'+'t',_0x3d2ac4),this['fire']('selectstar'+'t',_0x271718,_0x3d2ac4));}),_0x3fc866['addEventLi'+'stener']('selectend',_0x2b8f09=>{const _0x599f94=this['_getByInpu'+'tSource'](_0x2b8f09['inputSourc'+'e']);_0x599f94['update'](_0x2b8f09['frame']),_0x599f94['_selecting']=!(-0x1b83*-0x1+0x1da0+-0x3922),_0x599f94['fire']('selectend',_0x2b8f09),this['fire']('selectend',_0x599f94,_0x2b8f09);}),_0x3fc866['addEventLi'+'stener']('squeeze',_0x187de6=>{const _0x1125fd=this['_getByInpu'+'tSource'](_0x187de6['inputSourc'+'e']);_0x1125fd['update'](_0x187de6['frame']),_0x1125fd['fire']('squeeze',_0x187de6),this['fire']('squeeze',_0x1125fd,_0x187de6);}),_0x3fc866['addEventLi'+'stener']('squeezesta'+'rt',_0x5d96b2=>{const _0x76048e=this['_getByInpu'+'tSource'](_0x5d96b2['inputSourc'+'e']);_0x76048e['update'](_0x5d96b2['frame']),_0x76048e['_squeezing']=!(-0x264+0x263*0x7+-0xe51),_0x76048e['fire']('squeezesta'+'rt',_0x5d96b2),this['fire']('squeezesta'+'rt',_0x76048e,_0x5d96b2);}),_0x3fc866['addEventLi'+'stener']('squeezeend',_0x418c31=>{const _0x3bf444=this['_getByInpu'+'tSource'](_0x418c31['inputSourc'+'e']);_0x3bf444['update'](_0x418c31['frame']),_0x3bf444['_squeezing']=!(-0x2076+-0x702+0x2779),_0x3bf444['fire']('squeezeend',_0x418c31),this['fire']('squeezeend',_0x3bf444,_0x418c31);});const _0x260211=_0x3fc866['inputSourc'+'es'];for(let _0x34e300=-0xfa+-0xd27+0xe21;_0x34e300<_0x260211['length'];_0x34e300++)this['_addInputS'+'ource'](_0x260211[_0x34e300]);}['_onSession'+'End'](){let _0x53b848=this['_inputSour'+'ces']['length'];for(;_0x53b848--;){const _0x3965db=this['_inputSour'+'ces'][_0x53b848];this['_inputSour'+'ces']['splice'](_0x53b848,-0x3*-0x59a+-0x49c+0x1*-0xc31),_0x3965db['fire']('remove'),this['fire']('remove',_0x3965db);}this['fire']('removeall'),this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x46b71b){for(let _0x1a6e0b=0x23da+-0x2375+0x1*-0x65;_0x1a6e0b<_0x46b71b['removed']['length'];_0x1a6e0b++)this['_removeInp'+'utSource'](_0x46b71b['removed'][_0x1a6e0b]);for(let _0x146c15=0x6e8+-0x22*0x125+-0x1001*-0x2;_0x146c15<_0x46b71b['added']['length'];_0x146c15++)this['_addInputS'+'ource'](_0x46b71b['added'][_0x146c15]);}['_getByInpu'+'tSource'](_0x4e00aa){for(let _0xc46a3=0x19b8+-0x198a+-0x2*0x17;_0xc46a3<this['_inputSour'+'ces']['length'];_0xc46a3++)if(this['_inputSour'+'ces'][_0xc46a3]['inputSourc'+'e']===_0x4e00aa)return this['_inputSour'+'ces'][_0xc46a3];return null;}['_removeApp'+'Entity'](_0x7796d2){const _0x2f30fc=this['manager']['app']['root']['findByName']('Armature_'+_0x7796d2);_0x2f30fc&&this['manager']['app']['root']['removeChil'+'d'](_0x2f30fc);}['_addInputS'+'ource'](_0x150314){if(this['_removeApp'+'Entity'](_0x150314['handedness']),this['_getByInpu'+'tSource'](_0x150314))return;const _0x4f3a2e=new Qt(this['manager'],_0x150314);this['_inputSour'+'ces']['push'](_0x4f3a2e),this['fire']('add',_0x4f3a2e);}['_removeInp'+'utSource'](_0x385bbf){for(let _0x3d375e=-0x1c1e+0x3*0xb66+-0x614;_0x3d375e<this['_inputSour'+'ces']['length'];_0x3d375e++){if(this['_inputSour'+'ces'][_0x3d375e]['inputSourc'+'e']!==_0x385bbf)continue;const _0x4d8e64=this['_inputSour'+'ces'][_0x3d375e];this['_inputSour'+'ces']['splice'](_0x3d375e,-0x52d+0x120c+-0x36*0x3d);let _0x3e49c7=_0x4d8e64['hitTestSou'+'rces']['length'];for(;_0x3e49c7--;)_0x4d8e64['hitTestSou'+'rces'][_0x3e49c7]['remove']();this['_removeApp'+'Entity'](_0x4d8e64['handedness']),_0x4d8e64['fire']('remove'),this['fire']('remove',_0x4d8e64);return;}}['update'](_0x21c8d3){for(let _0x363898=0x392+-0x362*-0x1+-0x59*0x14;_0x363898<this['_inputSour'+'ces']['length'];_0x363898++)this['_inputSour'+'ces'][_0x363898]['update'](_0x21c8d3);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}h(Li,'EVENT_ADD','add'),h(Li,'EVENT_REMO'+'VE','remove'),h(Li,'EVENT_SELE'+'CT','select'),h(Li,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Li,'EVENT_SELE'+'CTEND','selectend'),h(Li,'EVENT_SQUE'+'EZE','squeeze'),h(Li,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Li,'EVENT_SQUE'+'EZEEND','squeezeend');const Ja=new D(),IS=new D(),Lf=new te(),LS=new te();class Zu extends me{constructor(_0x469c15){super(),h(this,'_manager'),h(this,'_supported',!(-0x24f8+-0xb18+0x3011)),h(this,'_available',!(-0x25b8+0xecf*0x2+0x19*0x53)),h(this,'_lightProb'+'eRequested',!(-0x190f+-0x2a*0x2f+0x20c6)),h(this,'_lightProb'+'e',null),h(this,'_intensity',-0xe*0x2ba+0x20b0+0x57c),h(this,'_rotation',new le()),h(this,'_color',new ie()),h(this,'_spherical'+'Harmonics',new Float32Array(-0x1*0x163b+0x11*0x1a3+-0x5*0x119)),(this['_manager']=_0x469c15,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(-0x25bc+-0x1e37+0x43f3));}['_onSession'+'End'](){this['_supported']=!(-0xa45*0x1+-0x1c3f+0x2685),this['_available']=!(-0xf83+0x1a84+0x4*-0x2c0),this['_lightProb'+'eRequested']=!(-0xd55+0xa79+0x2dd),this['_lightProb'+'e']=null;}['start'](){let _0x2477ef;if(this['_manager']['session']||(_0x2477ef=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0x2477ef&&this['_manager']['type']!==$o&&(_0x2477ef=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0x2477ef&&!this['_supported']&&(_0x2477ef=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0x2477ef&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0x2477ef=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0x2477ef){this['fire']('error',_0x2477ef);return;}this['_lightProb'+'eRequested']=!(-0x1c48+-0x26*-0x102+-0xa04),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x3ead13=>{const _0xf2db5d=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(-0x1b84+-0x9bb+0x2540),this['_manager']['active']?_0xf2db5d&&(this['_lightProb'+'e']=_0x3ead13):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x32cd63=>{this['_lightProb'+'eRequested']=!(0x3ce+0x24ff+-0x7*0x5d4),this['fire']('error',_0x32cd63);});}['end'](){this['_lightProb'+'eRequested']=!(0x1bb9+0xa34+-0x25ec),this['_lightProb'+'e']=null,this['_available']=!(0x1*-0x1cd3+0x81*-0xf+-0x40b*-0x9);}['update'](_0x99a5c){if(!this['_lightProb'+'e'])return;const _0x11f2bf=_0x99a5c['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x11f2bf)return;this['_available']||(this['_available']=!(0xaf8+0x51*0x21+0xbd*-0x1d),this['fire']('available'));const _0x408a8a=_0x11f2bf['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](0xf3b+-0x19fc+-0x1cb*-0x6,Math['max'](_0x408a8a['x'],Math['max'](_0x408a8a['y'],_0x408a8a['z']))),Ja['copy'](_0x408a8a)['mulScalar']((0xf55+-0x2*0x35+-0x53*0x2e)/this['_intensity']),this['_color']['set'](Ja['x'],Ja['y'],Ja['z']),Ja['set'](0x1832+-0x1d85+0x1d*0x2f,0x1cec+-0x1*0x5e7+0x53*-0x47,-0x2625+0xdf8+-0x182d*-0x1),IS['copy'](_0x11f2bf['primaryLig'+'htDirectio'+'n']),Lf['setLookAt'](IS,Ja,D['UP']),LS['setFromAxi'+'sAngle'](D['RIGHT'],0x1173+0x17*0x128+-0x2bb1),Lf['mul'](LS),this['_rotation']['setFromMat'+'4'](Lf),this['_spherical'+'Harmonics']['set'](_0x11f2bf['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}h(Zu,'EVENT_AVAI'+'LABLE','available'),h(Zu,'EVENT_ERRO'+'R','error');let mU=0x3b3+-0x1d*-0x22+-0x78d;class Qu extends me{constructor(_0x3161b1,_0xac4ab0){super(),h(this,'_id'),h(this,'_planeDete'+'ction'),h(this,'_xrPlane'),h(this,'_lastChang'+'edTime'),h(this,'_orientati'+'on'),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_id']=++mU,this['_planeDete'+'ction']=_0x3161b1,this['_xrPlane']=_0xac4ab0,this['_lastChang'+'edTime']=_0xac4ab0['lastChange'+'dTime'],this['_orientati'+'on']=_0xac4ab0['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0xf52ec6){const _0x5ac72c=this['_planeDete'+'ction']['_manager'],_0x30d802=_0xf52ec6['getPose'](this['_xrPlane']['planeSpace'],_0x5ac72c['_reference'+'Space']);_0x30d802&&(this['_position']['copy'](_0x30d802['transform']['position']),this['_rotation']['copy'](_0x30d802['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}h(Qu,'EVENT_REMO'+'VE','remove'),h(Qu,'EVENT_CHAN'+'GE','change');class Do extends me{constructor(_0x409f5e){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRPlane']),h(this,'_available',!(-0x1*-0x8a5+0x75e+0x1002*-0x1)),h(this,'_planesInd'+'ex',new Map()),h(this,'_planes',[]),(this['_manager']=_0x409f5e,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(-0x47*0x29+0x3*-0xfb+0xe51)&&(this['_available']=!(0x1*0x152+-0xb66+-0x285*-0x4),this['fire']('available'));}['_onSession'+'End'](){for(let _0x595b07=-0x1829+0x1*-0x155f+0x2d88;_0x595b07<this['_planes']['length'];_0x595b07++)this['_planes'][_0x595b07]['destroy'](),this['fire']('remove',this['_planes'][_0x595b07]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=-0x211e+-0x1465+0x85*0x67,this['_available']&&(this['_available']=!(0x1df5+0x13d1*0x1+-0x89*0x5d),this['fire']('unavailabl'+'e'));}['update'](_0x4aba9f){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x4aba9f['detectedPl'+'anes']['size'])this['_available']=!(0x1*-0x1153+0x96*0x1+0x10bd),this['fire']('available');else return;}const _0x50edde=_0x4aba9f['detectedPl'+'anes'];for(const [_0x4d56bc,_0xa73598]of this['_planesInd'+'ex'])_0x50edde['has'](_0x4d56bc)||(this['_planesInd'+'ex']['delete'](_0x4d56bc),this['_planes']['splice'](this['_planes']['indexOf'](_0xa73598),-0x5ac+-0x1ad7+-0x2*-0x1042),_0xa73598['destroy'](),this['fire']('remove',_0xa73598));for(const _0x2434dd of _0x50edde){let _0x3ba041=this['_planesInd'+'ex']['get'](_0x2434dd);_0x3ba041?_0x3ba041['update'](_0x4aba9f):(_0x3ba041=new Qu(this,_0x2434dd),this['_planesInd'+'ex']['set'](_0x2434dd,_0x3ba041),this['_planes']['push'](_0x3ba041),_0x3ba041['update'](_0x4aba9f),this['fire']('add',_0x3ba041));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}h(Do,'EVENT_AVAI'+'LABLE','available'),h(Do,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Do,'EVENT_ADD','add'),h(Do,'EVENT_REMO'+'VE','remove');class Io extends me{constructor(_0x4e0d98,_0x496b04,_0x583e12=null){super(),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_uuid',null),h(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x4e0d98,this['_xrAnchor']=_0x496b04,this['_uuid']=_0x583e12);}['destroy'](){if(!this['_xrAnchor'])return;const _0x4b04b1=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x4b04b1,this);}['update'](_0x1a72c5){if(!this['_xrAnchor'])return;const _0xc14088=_0x1a72c5['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0xc14088){if(this['_position']['equals'](_0xc14088['transform']['position'])&&this['_rotation']['equals'](_0xc14088['transform']['orientatio'+'n']))return;this['_position']['copy'](_0xc14088['transform']['position']),this['_rotation']['copy'](_0xc14088['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x446a71){if(!this['_anchors']['persistenc'+'e']){_0x446a71==null||_0x446a71(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x446a71==null||_0x446a71(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x446a71&&this['_uuidReque'+'sts']['push'](_0x446a71);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0x24071b=>{this['_uuid']=_0x24071b,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x446a71==null||_0x446a71(null,_0x24071b);for(const _0x44f0e1 of this['_uuidReque'+'sts'])_0x44f0e1(null,_0x24071b);this['_uuidReque'+'sts']=null,this['fire']('persist',_0x24071b);})['catch'](_0x4f4c3b=>{_0x446a71==null||_0x446a71(_0x4f4c3b,null);for(const _0x2dc7cd of this['_uuidReque'+'sts'])_0x2dc7cd(_0x4f4c3b,null);this['_uuidReque'+'sts']=null;});}['forget'](_0x4d6d58){if(!this['_uuid']){_0x4d6d58==null||_0x4d6d58(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x28782f=>{this['_uuid']=null,_0x4d6d58==null||_0x4d6d58(_0x28782f),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}h(Io,'EVENT_DEST'+'ROY','destroy'),h(Io,'EVENT_CHAN'+'GE','change'),h(Io,'EVENT_PERS'+'IST','persist'),h(Io,'EVENT_FORG'+'ET','forget');var VS;class on extends me{constructor(_0x29ac){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!window['XRAnchor']),h(this,'_available',!(-0x116+0x1c69*0x1+-0x1b52)),h(this,'_checkingA'+'vailabilit'+'y',!(0x12b1+-0x1*0x1e35+0x3d7*0x3)),h(this,'_persisten'+'ce',Ae['browser']&&!!((VS=window==null?void(0xb67+0x233*0x1+-0x1*0xd9a):window['XRSession'])!=null&&VS['prototype']['restorePer'+'sistentAnc'+'hor'])),h(this,'_creationQ'+'ueue',[]),h(this,'_index',new Map()),h(this,'_indexByUu'+'id',new Map()),h(this,'_list',[]),h(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x29ac,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){var _0x4c0a65;const _0x54d3cb=((_0x4c0a65=this['manager']['session']['enabledFea'+'tures'])==null?void(-0x3*-0x4cf+-0x2b3*-0x2+-0x13d3):_0x4c0a65['indexOf']('anchors'))>=-0xae6+0x1e7d+0x1*-0x1397;_0x54d3cb&&(this['_available']=_0x54d3cb,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(-0x58*0xd+-0x2*-0x12e2+-0x9*0x3b3);for(let _0x4f7fd9=-0x1186+0xf55+-0x231*-0x1;_0x4f7fd9<this['_creationQ'+'ueue']['length'];_0x4f7fd9++)this['_creationQ'+'ueue'][_0x4f7fd9]['callback']&&this['_creationQ'+'ueue'][_0x4f7fd9]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=0xfc7+-0x3*0x6d+-0xe80,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x366232=this['_list']['length'];for(;_0x366232--;)this['_list'][_0x366232]['destroy']();this['_list']['length']=0x1*0x47b+-0xe8c+0xa11,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x405f32,_0x157f5c=null){const _0x153883=new Io(this,_0x405f32,_0x157f5c);return this['_index']['set'](_0x405f32,_0x153883),_0x157f5c&&this['_indexByUu'+'id']['set'](_0x157f5c,_0x153883),this['_list']['push'](_0x153883),_0x153883['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x153883;}['_onAnchorD'+'estroy'](_0x43d8b4,_0x40be2e){this['_index']['delete'](_0x43d8b4),_0x40be2e['uuid']&&this['_indexByUu'+'id']['delete'](_0x40be2e['uuid']);const _0x156671=this['_list']['indexOf'](_0x40be2e);_0x156671!==-(0x24f0+0x1*-0x4e5+-0x200a)&&this['_list']['splice'](_0x156671,-0x685*-0x2+0x983*-0x1+0x29*-0x16),this['fire']('destroy',_0x40be2e);}['create'](_0x1cfe45,_0x42263c,_0x5527f2){if(!this['_available']){_0x5527f2==null||_0x5527f2(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x1cfe45 instanceof XRHitTestResult){const _0x56e9f5=_0x1cfe45;if(_0x5527f2=_0x42263c,!this['_supported']){_0x5527f2==null||_0x5527f2(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x56e9f5['createAnch'+'or']){_0x5527f2==null||_0x5527f2(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x56e9f5['createAnch'+'or']()['then'](_0x3280a0=>{const _0x857152=this['_createAnc'+'hor'](_0x3280a0);_0x5527f2==null||_0x5527f2(null,_0x857152),this['fire']('add',_0x857152);})['catch'](_0x56ffbe=>{_0x5527f2==null||_0x5527f2(_0x56ffbe,null),this['fire']('error',_0x56ffbe);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x1cfe45,_0x42263c),'callback':_0x5527f2});}['restore'](_0x524013,_0x5b2766){if(!this['_available']){_0x5b2766==null||_0x5b2766(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x5b2766==null||_0x5b2766(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x5b2766==null||_0x5b2766(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x524013)['then'](_0x1a3676=>{const _0x18d74f=this['_createAnc'+'hor'](_0x1a3676,_0x524013);_0x5b2766==null||_0x5b2766(null,_0x18d74f),this['fire']('add',_0x18d74f);})['catch'](_0x4044ac=>{_0x5b2766==null||_0x5b2766(_0x4044ac,null),this['fire']('error',_0x4044ac);});}['forget'](_0x59a17e,_0x3cf8e3){if(!this['_available']){_0x3cf8e3==null||_0x3cf8e3(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x3cf8e3==null||_0x3cf8e3(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x3cf8e3==null||_0x3cf8e3(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x59a17e)['then'](()=>{_0x3cf8e3==null||_0x3cf8e3(null);})['catch'](_0x47df82=>{_0x3cf8e3==null||_0x3cf8e3(_0x47df82),this['fire']('error',_0x47df82);});}['update'](_0x2d4130){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(-0x1*-0x2565+-0x1c1+-0x1*0x23a4),_0x2d4130['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x4c1d15=>{_0x4c1d15['delete'](),this['manager']['active']&&(this['_available']=!(0x3*-0xc41+0x7*0x29b+0x1286),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x580d58=-0x132a+-0x33*0xe+0x5*0x464;_0x580d58<this['_creationQ'+'ueue']['length'];_0x580d58++){const _0x75989a=this['_creationQ'+'ueue'][_0x580d58];_0x2d4130['createAnch'+'or'](_0x75989a['transform'],this['manager']['_reference'+'Space'])['then'](_0x1d7c54=>{_0x75989a['callback']&&this['_callbacks'+'Anchors']['set'](_0x1d7c54,_0x75989a['callback']);})['catch'](_0x122b74=>{_0x75989a['callback']&&_0x75989a['callback'](_0x122b74,null),this['fire']('error',_0x122b74);});}this['_creationQ'+'ueue']['length']=0x137*-0x16+0xbdd*-0x1+-0x25*-0x10b;}for(const [_0x5009ae,_0x2725b3]of this['_index'])_0x2d4130['trackedAnc'+'hors']['has'](_0x5009ae)||(this['_index']['delete'](_0x5009ae),_0x2725b3['destroy']());for(let _0x343fc0=0x1764+0x7*0x25c+0x4*-0x9fa;_0x343fc0<this['_list']['length'];_0x343fc0++)this['_list'][_0x343fc0]['update'](_0x2d4130);for(const _0x32d10c of _0x2d4130['trackedAnc'+'hors']){if(this['_index']['has'](_0x32d10c))continue;try{const _0x47c08=_0x32d10c['anchorSpac'+'e'];}catch{continue;}const _0xfeb074=this['_createAnc'+'hor'](_0x32d10c);_0xfeb074['update'](_0x2d4130);const _0x330595=this['_callbacks'+'Anchors']['get'](_0x32d10c);_0x330595&&(this['_callbacks'+'Anchors']['delete'](_0x32d10c),_0x330595(null,_0xfeb074)),this['fire']('add',_0xfeb074);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}h(on,'EVENT_AVAI'+'LABLE','available'),h(on,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(on,'EVENT_ERRO'+'R','error'),h(on,'EVENT_ADD','add'),h(on,'EVENT_DEST'+'ROY','destroy');class Ju extends me{constructor(_0x27d3c5,_0x559a4b){super(),h(this,'_meshDetec'+'tion'),h(this,'_xrMesh'),h(this,'_lastChang'+'ed',0xc*0x280+0x1d*0x46+-0x12f7*0x2),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_meshDetec'+'tion']=_0x27d3c5,this['_xrMesh']=_0x559a4b,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x49273b){const _0xdb35ed=this['_meshDetec'+'tion']['_manager'],_0xd09980=_0x49273b['getPose'](this['_xrMesh']['meshSpace'],_0xdb35ed['_reference'+'Space']);_0xd09980&&(this['_position']['copy'](_0xd09980['transform']['position']),this['_rotation']['copy'](_0xd09980['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}h(Ju,'EVENT_REMO'+'VE','remove'),h(Ju,'EVENT_CHAN'+'GE','change');class Lo extends me{constructor(_0x2b26e5){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRMesh']),h(this,'_available',!(0x123*0x2+-0xb81+0x93c)),h(this,'_index',new Map()),h(this,'_list',[]),(this['_manager']=_0x2b26e5,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x3e0281){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x3e0281['detectedMe'+'shes']['size'])this['_available']=!(0x9c9+0x14e1+0x311*-0xa),this['fire']('available');else return;}for(const _0x416986 of _0x3e0281['detectedMe'+'shes']){let _0x2e9007=this['_index']['get'](_0x416986);_0x2e9007?_0x2e9007['update'](_0x3e0281):(_0x2e9007=new Ju(this,_0x416986),this['_index']['set'](_0x416986,_0x2e9007),this['_list']['push'](_0x2e9007),_0x2e9007['update'](_0x3e0281),this['fire']('add',_0x2e9007));}for(const _0x2591c7 of this['_index']['values']())_0x3e0281['detectedMe'+'shes']['has'](_0x2591c7['xrMesh'])||this['_removeMes'+'h'](_0x2591c7);}['_removeMes'+'h'](_0x4fc14c){this['_index']['delete'](_0x4fc14c['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0x4fc14c),0x7fe+-0x23*0xcd+0x140a),_0x4fc14c['destroy'](),this['fire']('remove',_0x4fc14c);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0xf9d12a=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(-0x187f+-0x7*0x38f+0x3169);if(!_0xf9d12a)return;this['_available']=_0xf9d12a,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x313*-0x8+-0x1ad5*-0x1+-0x23c);for(const _0x2efc84 of this['_index']['values']())this['_removeMes'+'h'](_0x2efc84);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}h(Lo,'EVENT_AVAI'+'LABLE','available'),h(Lo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Lo,'EVENT_ADD','add'),h(Lo,'EVENT_REMO'+'VE','remove');class O0 extends me{constructor(_0x5688b7,_0x5bfef1,_0x34984b){super(),h(this,'_manager'),h(this,'_xrView'),h(this,'_positionD'+'ata',new Float32Array(-0x15ee*-0x1+-0x269e+0x2d*0x5f)),h(this,'_viewport',new re()),h(this,'_projMat',new te()),h(this,'_projViewO'+'ffMat',new te()),h(this,'_viewMat',new te()),h(this,'_viewOffMa'+'t',new te()),h(this,'_viewMat3',new _i()),h(this,'_viewInvMa'+'t',new te()),h(this,'_viewInvOf'+'fMat',new te()),h(this,'_xrCamera',null),h(this,'_textureCo'+'lor',null),h(this,'_textureDe'+'pth',null),h(this,'_depthInfo',null),h(this,'_emptyDept'+'hBuffer',new Uint8Array(0x29d+-0x1*0xb11+0x894)),h(this,'_depthMatr'+'ix',new te()),(this['_manager']=_0x5688b7,this['_xrView']=_0x5bfef1);const _0x3fb642=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new _e(_0x3fb642,{'format':Cr,'mipmaps':!(-0xb2*-0x1+0x26*-0x8+0x7f),'addressU':ue,'addressV':ue,'minFilter':vt,'magFilter':vt,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0x319ea1=this['_manager']['views']['depthGpuOp'+'timized']?Te:vt;this['_textureDe'+'pth']=new _e(_0x3fb642,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0x34984b===0x21*-0xa4+-0x2042+-0x11cd*-0x3?-0x4a*-0x45+0x163b+-0x2a2d:_0x34984b,'mipmaps':!(-0x18a5+-0x17ec+-0x2*-0x1849),'addressU':ue,'addressV':ue,'minFilter':_0x319ea1,'magFilter':_0x319ea1,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0x193ddd=0x1876+0x6*0x223+-0x2548;_0x193ddd<this['_textureDe'+'pth']['_levels']['length'];_0x193ddd++)this['_textureDe'+'pth']['_levels'][_0x193ddd]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x3fb642['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0x47839b;return((_0x47839b=this['_depthInfo'])==null?void(0x669+-0x1fc6+0x97*0x2b):_0x47839b['rawValueTo'+'Meters'])||0x1f*-0xfa+0x1f46+-0x8*0x20;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x1d993e,_0x13277d){this['_xrView']=_0x13277d,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x5c139e=_0x1d993e['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x5c139e['x'],this['_viewport']['y']=_0x5c139e['y'],this['_viewport']['z']=_0x5c139e['width'],this['_viewport']['w']=_0x5c139e['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x1d993e);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0x213092=this['_manager']['webglBindi'+'ng'];if(!_0x213092)return;const _0x3c7681=_0x213092['getCameraI'+'mage'](this['_xrCamera']);if(!_0x3c7681)return;const _0x2094be=this['_manager']['app']['graphicsDe'+'vice'],_0x450b7b=_0x2094be['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x450b7b['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x450b7b['createFram'+'ebuffer']();else{const _0x80a7ec=_0x450b7b['COLOR_ATTA'+'CHMENT0'],_0x1a77ea=this['_xrCamera']['width'],_0x5d44f7=this['_xrCamera']['height'];_0x2094be['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x450b7b['framebuffe'+'rTexture2D'](_0x450b7b['FRAMEBUFFE'+'R'],_0x80a7ec,_0x450b7b['TEXTURE_2D'],_0x3c7681,-0x232b*-0x1+0xfc3+-0x32ee),_0x2094be['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x450b7b['framebuffe'+'rTexture2D'](_0x450b7b['FRAMEBUFFE'+'R'],_0x80a7ec,_0x450b7b['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],-0x1c4f+0x2383+-0x1cd*0x4),_0x450b7b['bindFrameb'+'uffer'](_0x450b7b['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x450b7b['bindFrameb'+'uffer'](_0x450b7b['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x450b7b['blitFrameb'+'uffer'](0x15b7+0x2510+-0x29*0x16f,_0x5d44f7,_0x1a77ea,-0x1*-0xc95+0x2*-0x524+0x1*-0x24d,-0x4*0x163+-0x1b39+-0x1*-0x20c5,0x1270+0xcfd+0x1f6d*-0x1,_0x1a77ea,_0x5d44f7,_0x450b7b['COLOR_BUFF'+'ER_BIT'],_0x450b7b['NEAREST']);}}['_updateDep'+'th'](_0x5209d8){var _0x32d54c,_0x4114b4;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x35fd1e=this['_manager']['views']['depthGpuOp'+'timized'],_0x3d0e36=_0x35fd1e?this['_manager']['webglBindi'+'ng']:_0x5209d8;if(!_0x3d0e36){this['_depthInfo']=null;return;}const _0x58f979=_0x3d0e36['getDepthIn'+'formation'](this['_xrView']);if(!_0x58f979){this['_depthInfo']=null;return;}let _0x373ccc=!this['_depthInfo']!=!_0x58f979;this['_depthInfo']=_0x58f979;const _0x4de871=((_0x32d54c=this['_depthInfo'])==null?void(0x1*0x40a+0x2*-0xd7d+0x16f0):_0x32d54c['width'])||-0x2*0xfad+-0x4*-0x289+-0xf7*-0x16,_0x45856f=((_0x4114b4=this['_depthInfo'])==null?void(0x7f1*0x1+-0x1500+-0xd0f*-0x1):_0x4114b4['height'])||-0x234d+-0x1*0x21c1+-0x34a*-0x15;let _0x5c60aa=!(-0x2017+-0x424+-0x60a*-0x6);if((this['_textureDe'+'pth']['width']!==_0x4de871||this['_textureDe'+'pth']['height']!==_0x45856f)&&(this['_textureDe'+'pth']['_width']=_0x4de871,this['_textureDe'+'pth']['_height']=_0x45856f,_0x373ccc=!(0x10d9*0x2+-0x144f+-0xd63),_0x5c60aa=!(-0x1cd1+0x560+0x161*0x11)),_0x373ccc&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x35fd1e){if(this['_depthInfo']['texture']){const _0x50b17e=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0x50b17e['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0x50b17e['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Ji:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x50b17e['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x50b17e['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x50b17e['RED'];break;case $i:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x50b17e['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x50b17e['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x50b17e['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(0x2096+-0x23a4+0x30e);}}else this['_textureDe'+'pth']['_levels'][0x2*0x124c+0x2689+-0x4b21]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][0x2584+0xed0+-0x3454]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x5c60aa&&this['fire']('depth:resi'+'ze',_0x4de871,_0x45856f);}['updateTran'+'sforms'](_0x17fad4){_0x17fad4?(this['_viewInvOf'+'fMat']['mul2'](_0x17fad4,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][0x116+0x3*-0xcdb+0x257b]=this['_viewInvOf'+'fMat']['data'][0x25d3*-0x1+0x11bb+0x1424],this['_positionD'+'ata'][-0x3*0x394+0x186e+-0x5*0x2bd]=this['_viewInvOf'+'fMat']['data'][0xe5d+0x4da+0x2*-0x995],this['_positionD'+'ata'][0x23d8+0x1*0x270e+-0x4ae4*0x1]=this['_viewInvOf'+'fMat']['data'][-0x2cd*-0x4+0x1048+-0x1b6e];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x25d218,_0x2431bc){var _0x50a6e3;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x50a6e3=this['_depthInfo'])==null?void(0x1*-0x23dd+-0xbc1+0x2f9e):_0x50a6e3['getDepthIn'+'Meters'](_0x25d218,_0x2431bc))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0x346f6a=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0x346f6a['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0x346f6a['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}h(O0,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class Bh extends me{constructor(_0x43d799){super(),h(this,'_manager'),h(this,'_index',new Map()),h(this,'_indexTmp',new Map()),h(this,'_list',[]),h(this,'_supported'+'Color',Ae['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),h(this,'_supported'+'Depth',Ae['browser']&&!!window['XRDepthInf'+'ormation']),h(this,'_available'+'Color',!(-0x7*-0x4b1+-0x1*-0x10a3+-0x3179)),h(this,'_available'+'Depth',!(-0x79b+0x16de+0x516*-0x3)),h(this,'_depthUsag'+'e',''),h(this,'_depthForm'+'at',''),h(this,'_depthForm'+'ats',{[M0]:ap,[D0]:$i,[I0]:Ji}),(this['_manager']=_0x43d799,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===P0;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x256215,_0x13ee47){for(let _0x4272d0=0x1403+-0x2ed+-0x1116;_0x4272d0<_0x13ee47['length'];_0x4272d0++)this['_indexTmp']['set'](_0x13ee47[_0x4272d0]['eye'],_0x13ee47[_0x4272d0]);for(const [_0x5ed7bb,_0x6e8063]of this['_indexTmp']){let _0x5f2b26=this['_index']['get'](_0x5ed7bb);_0x5f2b26?_0x5f2b26['update'](_0x256215,_0x6e8063):(_0x5f2b26=new O0(this['_manager'],_0x6e8063,_0x13ee47['length']),this['_index']['set'](_0x5ed7bb,_0x5f2b26),this['_list']['push'](_0x5f2b26),_0x5f2b26['update'](_0x256215,_0x6e8063),this['fire']('add',_0x5f2b26));}for(const [_0x193570,_0x140a2a]of this['_index']){if(this['_indexTmp']['has'](_0x193570))continue;_0x140a2a['destroy'](),this['_index']['delete'](_0x193570);const _0x492da3=this['_list']['indexOf'](_0x140a2a);_0x492da3!==-(0x170e+-0xe03+-0xb2*0xd)&&this['_list']['splice'](_0x492da3,0x1d2d+-0xa*-0x41+-0x1fb6),this['fire']('remove',_0x140a2a);}this['_indexTmp']['clear']();}['get'](_0x370c14){return this['_index']['get'](_0x370c14)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===$o&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(0x1d81*-0x1+-0x1864+0x35e6),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(0xd*0x1f3+-0x2514+0x9*0x14e),this['_available'+'Depth'])){const _0x333096=this['_manager']['session'];this['_depthUsag'+'e']=_0x333096['depthUsage'],this['_depthForm'+'at']=_0x333096['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x1d0661 of this['_index']['values']())_0x1d0661['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(-0x237a+0x18e9*0x1+-0x1*-0xa92),this['_available'+'Depth']=!(-0x24dd+0x13*0x115+-0xa7*-0x19),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=0x851+-0x1ae1+-0x16*-0xd8;}}h(Bh,'EVENT_ADD','add'),h(Bh,'EVENT_REMO'+'VE','remove');class ln extends me{constructor(_0x2eb457){super(),h(this,'app'),h(this,'_supported',Ae['browser']&&!!navigator['xr']),h(this,'_available',{}),h(this,'_type',null),h(this,'_spaceType',null),h(this,'_session',null),h(this,'_baseLayer',null),h(this,'webglBindi'+'ng',null),h(this,'_reference'+'Space',null),h(this,'domOverlay'),h(this,'hitTest'),h(this,'imageTrack'+'ing'),h(this,'planeDetec'+'tion'),h(this,'meshDetect'+'ion'),h(this,'input'),h(this,'lightEstim'+'ation'),h(this,'views'),h(this,'anchors'),h(this,'_camera',null),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_depthNear',0x1157*0x1+-0x7*-0x29c+-0x239b+0.1),h(this,'_depthFar',0xf*0x9c+-0xd7*-0x2+-0x3b*0x1e),h(this,'_supported'+'FrameRates',null),h(this,'_width',0x25a0+-0x1*-0x1e9c+-0x2*0x221e),h(this,'_height',-0xec*0xa+-0x18bb+0x21f3),h(this,'_framebuff'+'erScaleFac'+'tor',0x7c1*-0x3+0x1963+-0x21f),(this['app']=_0x2eb457,this['_available'][lU]=!(0x1*-0xa09+0x1*-0x118f+0x1b99),this['_available'][cU]=!(0x5*0x683+-0x2380+0x2f2),this['_available'][$o]=!(-0x1dba+-0x1de3+-0x3b9e*-0x1),this['views']=new Bh(this),this['domOverlay']=new fU(this),this['hitTest']=new jr(this),this['imageTrack'+'ing']=new L0(this),this['planeDetec'+'tion']=new Do(this),this['meshDetect'+'ion']=new Lo(this),this['input']=new Li(this),this['lightEstim'+'ation']=new Zu(this),this['anchors']=new on(this),this['views']=new Bh(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)),this['isPC']=z0());}['destroy'](){}['start'](_0x212477,_0x33de92,_0xf2ad89,_0xa41584){let _0x34c45e=_0xa41584;if(typeof _0xa41584=='object'&&(_0x34c45e=_0xa41584['callback']),!this['_available'][_0x33de92]){_0x34c45e&&_0x34c45e(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x34c45e&&_0x34c45e(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x212477,this['_camera']['camera']['xr']=this,this['_type']=_0x33de92,this['_spaceType']=_0xf2ad89,this['_framebuff'+'erScaleFac'+'tor']=(_0xa41584==null?void(-0x123+0x25*0x17+-0x8*0x46):_0xa41584['framebuffe'+'rScaleFact'+'or'])??0x3*0x243+-0x16e0+-0x1*-0x1018,this['_setClipPl'+'anes'](_0x212477['nearClip'],_0x212477['farClip']);const _0x4607ad={'requiredFeatures':[_0xf2ad89],'optionalFeatures':[]},_0x292706=this['app']['graphicsDe'+'vice'];_0x292706!=null&&_0x292706['isWebGPU']&&_0x4607ad['requiredFe'+'atures']['push']('webgpu');const _0x32b7f3=_0x292706==null?void(-0x4*-0x377+-0x1509+0x72d):_0x292706['isWebGL2'];if(_0x33de92===$o){if(_0x4607ad['optionalFe'+'atures']['push']('light-esti'+'mation'),_0x4607ad['optionalFe'+'atures']['push']('hit-test'),_0xa41584&&(_0xa41584['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0x4607ad['optionalFe'+'atures']['push']('image-trac'+'king'),_0xa41584['planeDetec'+'tion']&&_0x4607ad['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0xa41584['meshDetect'+'ion']&&_0x4607ad['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0x4607ad['optionalFe'+'atures']['push']('dom-overla'+'y'),_0x4607ad['domOverlay']={'root':this['domOverlay']['root']}),_0xa41584&&_0xa41584['anchors']&&this['anchors']['supported']&&_0x4607ad['optionalFe'+'atures']['push']('anchors'),_0xa41584&&_0xa41584['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0x4607ad['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x13a64e=[],_0x4d925f=[];if(_0x13a64e['push'](P0,dU),_0x4d925f['push'](I0,M0,D0),_0xa41584['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x42e860=_0x13a64e['indexOf'](_0xa41584['depthSensi'+'ng']['usagePrefe'+'rence']);_0x42e860!==-(0x26e5+0x2*0xf95+-0x460e)&&_0x13a64e['splice'](_0x42e860,0xddf*0x1+-0x11*-0x1df+-0xb*0x427),_0x13a64e['unshift'](_0xa41584['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0xa41584['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x201412=_0x4d925f['indexOf'](_0xa41584['depthSensi'+'ng']['dataFormat'+'Preference']);_0x201412!==-(-0x92*-0x1a+0x261b+-0x34ee)&&_0x4d925f['splice'](_0x201412,0x1f31+-0x3*-0x28d+-0x26d7),_0x4d925f['unshift'](_0xa41584['depthSensi'+'ng']['dataFormat'+'Preference']);}_0x4607ad['depthSensi'+'ng']={'usagePreference':_0x13a64e,'dataFormatPreference':_0x4d925f};}_0x32b7f3&&_0xa41584&&_0xa41584['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0x4607ad['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0x4607ad['optionalFe'+'atures']['push']('hand-track'+'ing'),_0xa41584&&_0xa41584['optionalFe'+'atures']&&(_0x4607ad['optionalFe'+'atures']=_0x4607ad['optionalFe'+'atures']['concat'](_0xa41584['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x1bbaee,_0xb41388)=>{if(_0x1bbaee){_0x34c45e&&_0x34c45e(_0x1bbaee),this['fire']('error',_0x1bbaee);return;}_0xb41388!==null&&(_0x4607ad['trackedIma'+'ges']=_0xb41388),this['_onStartOp'+'tionsReady'](_0x33de92,_0xf2ad89,_0x4607ad,_0x34c45e);}):this['_onStartOp'+'tionsReady'](_0x33de92,_0xf2ad89,_0x4607ad,_0x34c45e);}['_onStartOp'+'tionsReady'](_0x5dbaa4,_0x438dad,_0x157927,_0x537856){const _0x4eb686=this['isPC']?{'requiredFeatures':['local-floo'+'r']}:_0x157927;navigator['xr']['requestSes'+'sion'](_0x5dbaa4,_0x4eb686)['then'](_0x590590=>{this['_onSession'+'Start'](_0x590590,_0x438dad,_0x537856);})['catch'](_0x1b56f3=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x537856&&_0x537856(_0x1b56f3),this['fire']('error',_0x1b56f3);});}['end'](_0x1901dd){if(!this['_session']){_0x1901dd&&_0x1901dd(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x1901dd&&this['once']('end',_0x1901dd),this['_session']['end']();}['isAvailabl'+'e'](_0x2624a7){return this['_available'][_0x2624a7];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x4bea51 in this['_available'])this['_sessionSu'+'pportCheck'](_0x4bea51);}['initiateRo'+'omCapture'](_0x5d28c6){if(!this['_session']){_0x5d28c6(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x5d28c6(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x5d28c6&&_0x5d28c6(null);})['catch'](_0x43b361=>{_0x5d28c6&&_0x5d28c6(_0x43b361);});}['updateTarg'+'etFrameRat'+'e'](_0x375b5e,_0x490469){var _0x836341;if(!((_0x836341=this['_session'])!=null&&_0x836341['updateTarg'+'etFrameRat'+'e'])){_0x490469==null||_0x490469(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x375b5e)['then'](()=>{_0x490469==null||_0x490469();})['catch'](_0x52592e=>{_0x490469==null||_0x490469(_0x52592e);});}['_sessionSu'+'pportCheck'](_0x48ee42){navigator['xr']['isSessionS'+'upported'](_0x48ee42)['then'](_0x126412=>{this['_available'][_0x48ee42]!==_0x126412&&(this['_available'][_0x48ee42]=_0x126412,this['fire']('available',_0x48ee42,_0x126412),this['fire']('available:'+_0x48ee42,_0x126412));})['catch'](_0x29ec53=>{this['fire']('error',_0x29ec53);});}['_onSession'+'Start'](_0x2a6e65,_0x16c79b,_0x371f05){let _0x46f53c=!(0x1322+-0x1*-0x10b7+-0x23d8);this['_session']=_0x2a6e65;const _0x27805b=()=>{this['fire']('visibility'+':change',_0x2a6e65['visibility'+'State']);},_0x25ff55=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x5c884f=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0x25ff55),this['_camera']['off']('set_farCli'+'p',_0x25ff55),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x2a6e65['removeEven'+'tListener']('end',_0x5c884f),_0x2a6e65['removeEven'+'tListener']('visibility'+'change',_0x27805b),_0x46f53c||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=0x1*0x10a5+0x5e5*0x5+0x2e1e*-0x1,this['_height']=-0x1f1b+0x55*-0x46+0x3659,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x2a6e65['addEventLi'+'stener']('end',_0x5c884f),_0x2a6e65['addEventLi'+'stener']('visibility'+'change',_0x27805b),this['_camera']['on']('set_nearCl'+'ip',_0x25ff55),this['_camera']['on']('set_farCli'+'p',_0x25ff55),w['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x286ce3;this['fire']('frameratec'+'hange',(_0x286ce3=this['_session'])==null?void(-0x6*-0x221+0x12a*-0x10+0x5da):_0x286ce3['frameRate']);}),_0x2a6e65['requestRef'+'erenceSpac'+'e'](_0x16c79b)['then'](_0x518e41=>{this['_reference'+'Space']=_0x518e41,this['app']['tick'](),_0x371f05&&_0x371f05(null),this['fire']('start');})['catch'](_0x52fac2=>{_0x46f53c=!(0x1*-0x112f+-0x13fd*0x1+0x252c),_0x2a6e65['end'](),_0x371f05&&_0x371f05(_0x52fac2),this['fire']('error',_0x52fac2);});}['_setClipPl'+'anes'](_0x1b03b4,_0x4764bf){this['_depthNear']===_0x1b03b4&&this['_depthFar']===_0x4764bf||(this['_depthNear']=_0x1b03b4,this['_depthFar']=_0x4764bf,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x1555b1=this['app']['graphicsDe'+'vice'],_0xa026a9=_0x1555b1['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x1555b1['gl'],{'alpha':!(0x2*-0x5e3+-0x569+0x112f),'depth':!(-0x4*-0x22f+-0x10*0xc9+0x3d4),'stencil':!(-0xfb9+0x187c+-0x8c3),'framebufferScaleFactor':_0xa026a9,'antialias':!(-0x206d+0xa7d+-0x1*-0x15f1)}),_0x1555b1!=null&&_0x1555b1['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x1555b1['gl']);}catch(_0x5702ae){this['fire']('error',_0x5702ae);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x47fb21=>{this['fire']('error',_0x47fb21);});},0x118f+-0xb5a+0x635*-0x1);}['update'](_0xd5eaa3){if(!this['_session'])return!(0xc4d*-0x3+0xd*0x26e+0x6*0xe3);const _0x402328=_0xd5eaa3['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x23fd51=_0xd5eaa3['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x402328||this['_height']!==_0x23fd51)&&(this['_width']=_0x402328,this['_height']=_0x23fd51,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x402328,_0x23fd51));const _0x3263c4=_0xd5eaa3['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x3263c4)return!(0x1*0x1c63+-0x4*-0x4d5+-0xc5*0x3e);const _0x17f602=this['views']['list']['length'];this['views']['update'](_0xd5eaa3,_0x3263c4['views']);const _0x3840ef=_0x3263c4['transform']['position'],_0x31840a=_0x3263c4['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x3840ef['x'],_0x3840ef['y'],_0x3840ef['z']),this['_localRota'+'tion']['set'](_0x31840a['x'],_0x31840a['y'],_0x31840a['z'],_0x31840a['w']),_0x17f602===-0x825+0x31*0xa1+-0x16ac&&this['views']['list']['length']>0x1f9d*0x1+0x8d*-0x1+-0x1f10){const _0x45a51a=new te(),_0x58b0da=this['views']['list'][0x1e38*0x1+0xe99+-0x2cd1];_0x45a51a['copy'](_0x58b0da['projMat']);const _0x50d093=_0x45a51a['data'],_0x170634=(-0x51f*-0x1+0x1*-0x45c+-0xc1)*Math['atan']((0x5cd+-0x144d+0xe81)/_0x50d093[0x2597+0xdcb+-0x3*0x111f])*(-0x1*-0x5d1+0xa1*0x2f+-0x22ac)/Math['PI'],_0x10a765=_0x50d093[0x6*-0x2b1+0x35f*-0x8+0x2b23]/_0x50d093[0x1*-0x2452+0x236e+0x26*0x6],_0xe0aff0=_0x50d093[0x25eb+0x2018+-0x45f5]/(_0x50d093[-0xf93+0x13*0x15b+-0xb*0xec]+(0x1*-0x1865+0x149*0x8+0xe1e)),_0x2f3514=_0x50d093[-0xbc*-0x2+-0x27*0x17+0x1*0x217]/(_0x50d093[-0x4ed+-0x199c+-0x3*-0xa31]-(0x8a4*0x1+-0x2*-0xf78+0x2793*-0x1));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x10a765,'farClip':_0xe0aff0,'fov':_0x170634,'horizontalFov':!(0x2b*0x1a+-0x1d78+0x191b),'nearClip':_0x2f3514});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0xd5eaa3),this['_type']===$o&&(this['hitTest']['supported']&&this['hitTest']['update'](_0xd5eaa3),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0xd5eaa3),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0xd5eaa3),this['anchors']['supported']&&this['anchors']['update'](_0xd5eaa3),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0xd5eaa3),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0xd5eaa3)),this['fire']('update',_0xd5eaa3),!(-0x73a+-0x145c+0x1b96);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x478638;return((_0x478638=this['_session'])==null?void(-0xab5*-0x3+-0x1350+-0xccf):_0x478638['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x918640){var _0x323050;(((_0x323050=this['_baseLayer'])==null?void(0xa93+0x20*0x40+-0x1293*0x1):_0x323050['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>0x7ef+-0x47+0x7a7*-0x1&&w['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x918640);}get['fixedFovea'+'tion'](){var _0x34be17;return((_0x34be17=this['_baseLayer'])==null?void(0x265*0x3+-0x1160+-0xa31*-0x1):_0x34be17['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}h(ln,'EVENT_AVAI'+'LABLE','available'),h(ln,'EVENT_STAR'+'T','start'),h(ln,'EVENT_END','end'),h(ln,'EVENT_UPDA'+'TE','update'),h(ln,'EVENT_ERRO'+'R','error');class $U extends Ks{constructor(_0x32694a,_0x260526={}){super(_0x32694a);const _0x1eada0=new tL();_0x1eada0['graphicsDe'+'vice']=_0x260526['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x32694a,_0x260526),this['addCompone'+'ntSystems'](_0x1eada0),this['addResourc'+'eHandles'](_0x1eada0),_0x1eada0['elementInp'+'ut']=_0x260526['elementInp'+'ut'],_0x1eada0['keyboard']=_0x260526['keyboard'],_0x1eada0['mouse']=_0x260526['mouse'],_0x1eada0['touch']=_0x260526['touch'],_0x1eada0['gamepads']=_0x260526['gamepads'],_0x1eada0['scriptPref'+'ix']=_0x260526['scriptPref'+'ix'],_0x1eada0['assetPrefi'+'x']=_0x260526['assetPrefi'+'x'],_0x1eada0['scriptsOrd'+'er']=_0x260526['scriptsOrd'+'er'],_0x1eada0['soundManag'+'er']=new Pw(),_0x1eada0['lightmappe'+'r']=pL,_0x1eada0['batchManag'+'er']=IE,_0x1eada0['xr']=ln,this['init'](_0x1eada0);}['createDevi'+'ce'](_0xec320c,_0x19f637){return _0x19f637['graphicsDe'+'viceOption'+'s']||(_0x19f637['graphicsDe'+'viceOption'+'s']={}),Ae['browser']&&navigator['xr']&&(_0x19f637['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(0x4*0x299+0x22b4+-0x2d18)),_0x19f637['graphicsDe'+'viceOption'+'s']['alpha']=_0x19f637['graphicsDe'+'viceOption'+'s']['alpha']||!(-0x4f*-0x2b+0x857+0x159b*-0x1),new aw(_0xec320c,_0x19f637['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x3a2964){_0x3a2964['componentS'+'ystems']=[wm,nR,NR,RL,BL,KR,zO,xF,wF,kF,hF,VL,kO,YO,LR,$L,aF,oF,mF,XR,UR,gF,BF];}['addResourc'+'eHandles'](_0x50155c){_0x50155c['resourceHa'+'ndlers']=[zF,WN,$N,XN,Ek,yk,oU,Ok,mk,jN,Dk,bk,JN,pk,QN,Ik,uk,ek,tk,YN,Nk,Lk,Rk,ZN,fk];}}class XU extends me{constructor(_0x4184a1,_0x3ac75e){super(),h(this,'_assets',new Set()),h(this,'_loadingAs'+'sets',new Set()),h(this,'_waitingAs'+'sets',new Set()),h(this,'_loading',!(-0x17*-0x1c+0x1af9+-0x11*0x1bc)),h(this,'_loaded',!(0x1bd+-0x1330+0x2*0x8ba)),h(this,'_failed',[]),(this['_registry']=_0x3ac75e,_0x4184a1['forEach'](_0x1dc9f0=>{if(_0x1dc9f0 instanceof pe)_0x1dc9f0['registry']||(_0x1dc9f0['registry']=_0x3ac75e),this['_assets']['add'](_0x1dc9f0);else{const _0x55b401=_0x3ac75e['get'](_0x1dc9f0);_0x55b401?this['_assets']['add'](_0x55b401):this['_waitForAs'+'set'](_0x1dc9f0);}}));}['destroy'](){this['_registry']['off']('load',this['_onLoad']),this['_registry']['off']('error',this['_onError']),this['_waitingAs'+'sets']['forEach'](_0xf0dbe6=>{this['_registry']['off']('add:'+_0xf0dbe6,this['_onAddAsse'+'t']);}),this['off']('progress'),this['off']('load');}['_assetHasD'+'ependencie'+'s'](_0x85ae3f){var _0x248a85;return _0x85ae3f['type']==='model'&&((_0x248a85=_0x85ae3f['file'])==null?void(-0xd*-0xc7+0x3*0x865+-0x234a):_0x248a85['url'])&&_0x85ae3f['file']['url']&&_0x85ae3f['file']['url']['match'](/.json$/g);}['load'](_0x3d2527,_0xc0bab5){if(this['_loading']){console['debug']('AssetListL'+'oader:\x20Loa'+'d\x20function'+'\x20called\x20mu'+'ltiple\x20tim'+'es.');return;}this['_loading']=!(0x1d22*0x1+-0x1*-0x7a7+-0x24c9),this['_callback']=_0x3d2527,this['_scope']=_0xc0bab5,this['_registry']['on']('load',this['_onLoad'],this),this['_registry']['on']('error',this['_onError'],this);let _0x18bc5e=!(-0x147e+-0x1381+0x2800);this['_assets']['forEach'](_0x15062e=>{_0x15062e['loaded']||(_0x18bc5e=!(0x1358*-0x1+-0x179b+0x2af3),this['_assetHasD'+'ependencie'+'s'](_0x15062e)&&this['_registry']['loadFromUr'+'l'](_0x15062e['file']['url'],_0x15062e['type'],(_0x32ab3b,_0x235b99)=>{if(_0x32ab3b){this['_onError'](_0x32ab3b,_0x15062e);return;}this['_onLoad'](_0x15062e);}),this['_loadingAs'+'sets']['add'](_0x15062e),this['_registry']['add'](_0x15062e));}),this['_loadingAs'+'sets']['forEach'](_0x38ef4f=>{this['_assetHasD'+'ependencie'+'s'](_0x38ef4f)||this['_registry']['load'](_0x38ef4f);}),!_0x18bc5e&&this['_waitingAs'+'sets']['size']===0x1907+-0x95*-0x7+0x12a*-0x19&&this['_loadingCo'+'mplete']();}['ready'](_0x5751f8,_0x27a767=this){this['_loaded']?_0x5751f8['call'](_0x27a767,Array['from'](this['_assets'])):this['once']('load',_0x14d08b=>{_0x5751f8['call'](_0x27a767,_0x14d08b);});}['_loadingCo'+'mplete'](){this['_loaded']||(this['_loaded']=!(-0x7b8+-0xc60+0x8*0x283),this['_registry']['off']('load',this['_onLoad'],this),this['_registry']['off']('error',this['_onError'],this),this['_failed']['length']?(this['_callback']&&this['_callback']['call'](this['_scope'],'Failed\x20to\x20'+'load\x20some\x20'+'assets',this['_failed']),this['fire']('error',this['_failed'])):(this['_callback']&&this['_callback']['call'](this['_scope']),this['fire']('load',Array['from'](this['_assets']))));}['_onLoad'](_0xf52630){this['_loadingAs'+'sets']['has'](_0xf52630)&&(this['fire']('progress',_0xf52630),this['_loadingAs'+'sets']['delete'](_0xf52630)),this['_loadingAs'+'sets']['size']===0x230*-0x4+0x1*-0x1d7d+-0xd*-0x2f1&&setTimeout(()=>{this['_loadingCo'+'mplete']();},-0x1ee7+0x2*-0x6e1+-0x6f*-0x67);}['_onError'](_0x571ae0,_0x12e02d){this['_loadingAs'+'sets']['has'](_0x12e02d)&&(this['_failed']['push'](_0x12e02d),this['_loadingAs'+'sets']['delete'](_0x12e02d)),this['_loadingAs'+'sets']['size']===-0x1048+0x61*0x2b+-0x3&&setTimeout(()=>{this['_loadingCo'+'mplete']();},0xd33+0x11db+0x35*-0x96);}['_onAddAsse'+'t'](_0x2db0d4){this['_waitingAs'+'sets']['delete'](_0x2db0d4),this['_assets']['add'](_0x2db0d4),_0x2db0d4['loaded']||(this['_loadingAs'+'sets']['add'](_0x2db0d4),this['_registry']['load'](_0x2db0d4));}['_waitForAs'+'set'](_0x57aa79){this['_waitingAs'+'sets']['add'](_0x57aa79),this['_registry']['once']('add:'+_0x57aa79,this['_onAddAsse'+'t'],this);}}const Fc=[],_U=[[],[],[]];class gU extends ys{constructor(_0x2c6270,_0x146fd5){super(_0x2c6270),h(this,'viewBindGr'+'oups',[]),this['renderer']=_0x146fd5;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x4e8ca3=>{_0x4e8ca3['defaultUni'+'formBuffer']['destroy'](),_0x4e8ca3['destroy']();}),this['viewBindGr'+'oups']['length']=0x77e+0x203*-0x9+0xa9d;}['update'](_0x139552,_0x51d0da,_0x82f449,_0xc3c51b){this['camera']=_0x139552,this['scene']=_0x51d0da,this['layers']=_0x82f449,this['mapping']=_0xc3c51b;}['execute'](){const _0x25317b=this['device'],{renderer:_0x24733c,camera:_0x325a9f,scene:_0x5a0afc,layers:_0x11129f,mapping:_0x224f05,renderTarget:_0xf7c610}=this,_0x427288=_0x5a0afc['layers']['layerList'],_0x19069a=_0x5a0afc['layers']['subLayerEn'+'abled'],_0x3e53bf=_0x5a0afc['layers']['subLayerLi'+'st'];for(let _0x4916b5=-0x2*-0xfb3+0x1890+0x2*-0x1bfb;_0x4916b5<_0x427288['length'];_0x4916b5++){const _0x273e38=_0x427288[_0x4916b5];if(!(_0x11129f&&_0x11129f['indexOf'](_0x273e38)<0x12b9+0x1689+0x14a1*-0x2)&&_0x273e38['enabled']&&_0x19069a[_0x4916b5]&&_0x273e38['camerasSet']['has'](_0x325a9f['camera'])){const _0x48b311=_0x3e53bf[_0x4916b5];Q['pushGpuMar'+'ker'](_0x25317b,_0x273e38['name']+'('+(_0x48b311?'TRANSP':'OPAQUE')+')'),_0x273e38['_clearDept'+'hBuffer']&&_0x24733c['clear'](_0x325a9f['camera'],!(-0x92b*0x1+0x1bd7+-0x213*0x9),!(0x1f27+0x14de+-0x3405),!(0x7*-0x16f+-0x6ad*-0x1+0x3*0x11f));const _0x439316=_0x273e38['meshInstan'+'ces'];for(let _0x50ab6a=-0x1*-0x243d+-0xe18*-0x2+-0x406d*0x1;_0x50ab6a<_0x439316['length'];_0x50ab6a++){const _0x4c8bda=_0x439316[_0x50ab6a];_0x4c8bda['pick']&&_0x4c8bda['transparen'+'t']===_0x48b311&&(Fc['push'](_0x4c8bda),_0x224f05['set'](_0x4c8bda['id'],_0x4c8bda));}Fc['length']>-0x1697+-0x8e7*-0x3+-0x41e&&(_0x5a0afc['clusteredL'+'ightingEna'+'bled']&&_0x24733c['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x24733c['setCameraU'+'niforms'](_0x325a9f['camera'],_0xf7c610),_0x25317b['supportsUn'+'iformBuffe'+'rs']&&_0x24733c['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x24733c['viewUnifor'+'mFormat'],_0x24733c['viewBindGr'+'oupFormat'],null),_0x24733c['renderForw'+'ard'](_0x325a9f['camera'],_0xf7c610,Fc,_U,Zn,_0x996b4b=>{_0x25317b['setBlendSt'+'ate'](pt['NOBLEND']);}),Fc['length']=-0x106*-0x16+0x521*0x1+-0x1ba5),Q['popGpuMark'+'er'](_0x25317b);}}}}const Rf=new Set(),SU=new re();let qU=class{constructor(_0x1abc1a,_0x1e0081,_0x450635){h(this,'renderTarg'+'et',null),h(this,'mapping',new Map()),h(this,'deviceVali'+'d',!(-0x2ab+-0xc*0x1fb+-0x43*-0x65)),(w['assert'](_0x1abc1a),this['renderer']=_0x1abc1a['renderer'],this['device']=_0x1abc1a['graphicsDe'+'vice'],this['renderPass']=new gU(this['device'],_0x1abc1a['renderer']),this['width']=0x31f*0x1+0x1323+-0x1642,this['height']=0x1622+0x1eb*-0xa+0x7*-0x6c,this['resize'](_0x1e0081,_0x450635),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(-0x1015+-0x1305*0x2+0x20*0x1b1);}));}['getSelecti'+'on'](_0x3efe04,_0x41e6e,_0x8952c8=0x4fb+0x1b55*0x1+-0x397*0x9,_0xe2a3f0=0x253f+0xb1*-0x10+-0x1a2e){const _0x367e35=this['device'];if(_0x367e35['isWebGPU'])return w['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];w['assert'](typeof _0x3efe04!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x41e6e=this['renderTarg'+'et']['height']-(_0x41e6e+_0xe2a3f0);const _0x54d75=this['sanitizeRe'+'ct'](_0x3efe04,_0x41e6e,_0x8952c8,_0xe2a3f0);_0x367e35['setRenderT'+'arget'](this['renderTarg'+'et']),_0x367e35['updateBegi'+'n']();const _0x58c630=new Uint8Array((0x1994+0x19*0x166+-0x3c86)*_0x54d75['z']*_0x54d75['w']);return _0x367e35['readPixels'](_0x54d75['x'],_0x54d75['y'],_0x54d75['z'],_0x54d75['w'],_0x58c630),_0x367e35['updateEnd'](),this['decodePixe'+'ls'](_0x58c630,this['mapping']);}['getSelecti'+'onAsync'](_0x407729,_0x189108,_0x3b2c55=-0x138*0x12+-0xf71*-0x1+0x680,_0x3b91d8=-0x9a9*0x2+-0x100d+0x2360){var _0x4fcc61;(_0x4fcc61=this['device'])!=null&&_0x4fcc61['isWebGL2']&&(_0x189108=this['renderTarg'+'et']['height']-(_0x189108+_0x3b91d8));const _0xdf2db0=this['sanitizeRe'+'ct'](_0x407729,_0x189108,_0x3b2c55,_0x3b91d8);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0xdf2db0['x'],_0xdf2db0['y'],_0xdf2db0['z'],_0xdf2db0['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(0x1aa1+-0x16e7+0x1dd*-0x2)})['then'](_0x2fc22f=>this['decodePixe'+'ls'](_0x2fc22f,this['mapping']));}['sanitizeRe'+'ct'](_0x4b6307,_0x5ded1d,_0x291293,_0x12251c){const _0x31cfb2=this['renderTarg'+'et']['width'],_0xcaee52=this['renderTarg'+'et']['height'];return _0x4b6307=Y['clamp'](Math['floor'](_0x4b6307),-0x254b*-0x1+0xa*-0x101+-0x1b41*0x1,_0x31cfb2-(-0x1141+0x43f*0x6+-0x838)),_0x5ded1d=Y['clamp'](Math['floor'](_0x5ded1d),0x1bf2+0x3*-0x581+-0xb6f,_0xcaee52-(-0x1a45+-0x1*0x11cf+0x2c15)),_0x291293=Math['floor'](Math['max'](_0x291293,-0xdee*-0x1+-0x739+-0x6b4)),_0x291293=Math['min'](_0x291293,_0x31cfb2-_0x4b6307),_0x12251c=Math['floor'](Math['max'](_0x12251c,0x234e*0x1+-0x4c6+-0x1e87)),_0x12251c=Math['min'](_0x12251c,_0xcaee52-_0x5ded1d),SU['set'](_0x4b6307,_0x5ded1d,_0x291293,_0x12251c);}['decodePixe'+'ls'](_0x5286ee,_0x42831c){const _0x568860=[];if(this['deviceVali'+'d']){const _0xfdb200=_0x5286ee['length'];for(let _0x2da1a7=0xc1*0xa+-0x94c+0x1c2;_0x2da1a7<_0xfdb200;_0x2da1a7+=0x1*0x17b9+0x2404+-0x3bb9){const _0x370e87=_0x5286ee[_0x2da1a7+(-0x11*-0x109+0x1683+-0x281c)],_0x20e88f=_0x5286ee[_0x2da1a7+(0x13bb+0x5cb+0x8b*-0x2f)],_0x4cc7c6=_0x5286ee[_0x2da1a7+(0x1824+-0x55*0x49+0x1b)],_0x179b36=(_0x5286ee[_0x2da1a7+(-0x593*0x2+0x1*0x5b5+0x574*0x1)]<<-0x383+0x7*-0x22e+0x1*0x12dd|_0x370e87<<0x1*0x1c8f+-0x218*0x12+0x931*0x1|_0x20e88f<<-0x2513*-0x1+0x232f*-0x1+-0x1c*0x11|_0x4cc7c6)>>>-0x43*-0x62+0x1322+-0x2*0x1664;_0x179b36!==-0x271*0x33a414+0x1*0xde832f0b+0x9f9065c8&&Rf['add'](_0x42831c['get'](_0x179b36));}Rf['forEach'](_0x11010c=>{_0x11010c&&_0x568860['push'](_0x11010c);}),Rf['clear']();}return _0x568860;}['allocateRe'+'nderTarget'](){const _0x4d1965=new _e(this['device'],{'format':Ne,'width':this['width'],'height':this['height'],'mipmaps':!(0x1b0c+0x1786+-0x5*0xa1d),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':'pick'});this['renderTarg'+'et']=new gt({'colorBuffer':_0x4d1965,'depth':!(-0x21*-0x41+0x573+-0xdd4)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x4df636,_0x478d96,_0x3dd297){_0x3dd297 instanceof Ot&&(_0x3dd297=[_0x3dd297]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x325f9c=this['renderPass'];_0x325f9c['init'](this['renderTarg'+'et']),_0x325f9c['colorOps']['clearValue']=ie['WHITE'],_0x325f9c['colorOps']['clear']=!(0x3c5*-0x5+-0x9b1+-0xd*-0x232),_0x325f9c['depthStenc'+'ilOps']['clearDepth']=!(-0x6f*0x39+-0x2094+0x394b),_0x325f9c['update'](_0x4df636,_0x478d96,_0x3dd297,this['mapping']),_0x325f9c['render']();}['resize'](_0x190e11,_0x3a5138){this['width']=Math['floor'](_0x190e11),this['height']=Math['floor'](_0x3a5138);}},cr,hr;const Of=new D(),RS=new D(),Ri=new Dn(),Ro=new Dn(),ep=new Dn();Ri['end']=new D(),Ro['end']=new D(),ep['end']=new D();const en=new D(),Nc=new D(),Ff=new D(),OS=new D(),Nf=new D(),kc=new D(),Uc=new D(),Bc=new D(),zc=new D(),kf=new D(),yU=new D(),tn=new D(),wo=new D(),Vc=new D(),Gc=new D(),Eo=new D(),FS=new D(),NS=new D(),kS=new D(),US=new D(),vU=new re();function BS(_0x38517f,_0x1188cc,_0x175a44){return yU['cross'](_0x38517f,_0x1188cc)['dot'](_0x175a44);}function xU(_0x1e0825,_0x4a47d8,_0x348fb4){en['sub2'](_0x4a47d8,_0x1e0825),Nc['sub2'](_0x348fb4[-0x4bd*0x2+-0x10d*0x1+0x37*0x31],_0x1e0825),Ff['sub2'](_0x348fb4[0x1df1+0x17*-0x11c+-0x46c*0x1],_0x1e0825),OS['sub2'](_0x348fb4[0x9dd+-0x1a80+0x10a5*0x1],_0x1e0825),kc['cross'](OS,en);let _0x1c9039=Nc['dot'](kc),_0x55d0de,_0x1802d6;if(_0x1c9039>=-0x16e4+-0x1591+0x2c75*0x1){if(_0x55d0de=-Ff['dot'](kc),_0x55d0de<-0x2153*-0x1+-0x1*0x1bf9+-0x55a||(_0x1802d6=BS(en,Ff,Nc),_0x1802d6<-0x13*0x8b+-0x1*-0x23a1+-0x1950))return-(-0xbce*-0x3+0x1adb+-0x3e44);const _0x25fccb=(-0x23f+-0x189f+-0x1*-0x1adf)/(_0x55d0de+_0x1c9039+_0x1802d6);Uc['copy'](_0x348fb4[-0x13*0x130+0x1839+-0x1a9])['mulScalar'](_0x55d0de*_0x25fccb),Bc['copy'](_0x348fb4[-0x2668+0x1b97+0xad2])['mulScalar'](_0x1c9039*_0x25fccb),zc['copy'](_0x348fb4[-0xac4+-0x1f*0x3f+0x1267])['mulScalar'](_0x1802d6*_0x25fccb),kf['copy'](Uc)['add'](Bc)['add'](zc);}else{if(Nf['sub2'](_0x348fb4[-0x13*-0x143+0x1*0x325+-0x1b1b],_0x1e0825),_0x55d0de=Nf['dot'](kc),_0x55d0de<0x20bc+-0x1f50+-0x16c||(_0x1802d6=BS(en,Nc,Nf),_0x1802d6<-0xb49+-0xf7c+0x59*0x4d))return-(-0x351*0x6+-0x53+0x6be*0x3);_0x1c9039=-_0x1c9039;const _0x39480b=(-0x652+-0x1eb*0xd+0xfa1*0x2)/(_0x55d0de+_0x1c9039+_0x1802d6);Uc['copy'](_0x348fb4[-0xd*-0x2f9+-0x160*0x17+0x257*-0x3])['mulScalar'](_0x55d0de*_0x39480b),Bc['copy'](_0x348fb4[0x23*-0x35+-0x24f5*0x1+-0xebd*-0x3])['mulScalar'](_0x1c9039*_0x39480b),zc['copy'](_0x348fb4[0x25*0x7f+-0x68*0x46+0xa17*0x1])['mulScalar'](_0x1802d6*_0x39480b),kf['copy'](Uc)['add'](Bc)['add'](zc);}return en['sub2'](_0x348fb4[0x1*0x1206+-0x19a6+0x7a*0x10],_0x348fb4[-0x2*-0x32d+0x5b1+-0xc09])['lengthSq']()<(-0x16*0x109+-0x18d4*0x1+0x7ef*0x6+0.0001)*(-0x114*0x22+-0x952+-0x1*-0x2dfa+0.0001)||en['sub2'](_0x348fb4[0x2a1*-0xb+-0xa*-0x18d+0x65*0x22],_0x348fb4[-0x1325+-0x1d1f+-0x2d7*-0x11])['lengthSq']()<(0x4*0x24f+-0x3*0xb9b+0x1995+0.0001)*(-0xe39+0xfab+-0x172+0.0001)?-(-0x1459*0x1+-0x69d+0x1af7):kf['sub'](_0x1e0825)['lengthSq']();}class Am{constructor(_0x4c2a7a,_0x369496,_0x5359ee){this['event']=_0x4c2a7a,this['element']=_0x369496,this['camera']=_0x5359ee,this['_stopPropa'+'gation']=!(0x4*-0x709+-0x1*-0x25d+-0x5*-0x528);}['stopPropag'+'ation'](){this['_stopPropa'+'gation']=!(-0x46*0x8e+0x2*0x430+-0x79d*-0x4),this['event']&&(this['event']['stopImmedi'+'atePropaga'+'tion'](),this['event']['stopPropag'+'ation']());}}class bo extends Am{constructor(_0x2e2a10,_0x5754e9,_0x5157d3,_0x1ce629,_0xa87086,_0x511037,_0x51d6d4){super(_0x2e2a10,_0x5754e9,_0x5157d3),this['x']=_0x1ce629,this['y']=_0xa87086,this['ctrlKey']=_0x2e2a10['ctrlKey']||!(-0x1db3+-0x2675+-0x4429*-0x1),this['altKey']=_0x2e2a10['altKey']||!(-0x6d7+-0x22ac+-0x2*-0x14c2),this['shiftKey']=_0x2e2a10['shiftKey']||!(0x24ae+-0x39*-0x95+-0x45da),this['metaKey']=_0x2e2a10['metaKey']||!(-0x25f4*-0x1+-0x26e8+0xf5),this['button']=_0x2e2a10['button'],sa['isPointerL'+'ocked']()?(this['dx']=_0x2e2a10['movementX']||_0x2e2a10['webkitMove'+'mentX']||_0x2e2a10['mozMovemen'+'tX']||0x29*-0xdc+-0x1*0x1915+-0x3c51*-0x1,this['dy']=_0x2e2a10['movementY']||_0x2e2a10['webkitMove'+'mentY']||_0x2e2a10['mozMovemen'+'tY']||-0x1*0x86b+-0xd*0xec+0x1467):(this['dx']=_0x1ce629-_0x511037,this['dy']=_0xa87086-_0x51d6d4),this['wheelDelta']=-0x216b+0xe60*0x2+0x4ab,_0x2e2a10['type']==='wheel'&&(_0x2e2a10['deltaY']>-0x174*-0x18+-0x18f2+0x1*-0x9ee?this['wheelDelta']=0xdcb+0x24d3+0x73b*-0x7:_0x2e2a10['deltaY']<-0x9d*-0x3b+-0xb*0x331+-0x114&&(this['wheelDelta']=-(0x13*-0x147+-0x50*-0x3e+0x6*0xd1)));}}class Ao extends Am{constructor(_0x362a8b,_0x1769c4,_0x3c6dfe,_0x36f088,_0x2ce773,_0x18847d){super(_0x362a8b,_0x1769c4,_0x3c6dfe),this['touches']=_0x362a8b['touches'],this['changedTou'+'ches']=_0x362a8b['changedTou'+'ches'],this['x']=_0x36f088,this['y']=_0x2ce773,this['touch']=_0x18847d;}}class dr extends Am{constructor(_0x572d0a,_0x3b07bc,_0x3a26f2,_0x1e939f){super(_0x572d0a,_0x3b07bc,_0x3a26f2),this['inputSourc'+'e']=_0x1e939f;}}class Xo{constructor(_0x7dd6ff,_0x5229e4){this['_app']=null,this['_attached']=!(0x96a+-0xd*-0x133+-0x1900),this['_target']=null,this['_enabled']=!(0x183c+-0x162b+-0x17*0x17),this['_lastX']=-0x5*-0x2cd+0x62*0x52+-0x2d65,this['_lastY']=-0x1*-0x111d+0x1364+-0x2481,this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_touchstar'+'tHandler']=this['_handleTou'+'chStart']['bind'](this),this['_touchendH'+'andler']=this['_handleTou'+'chEnd']['bind'](this),this['_touchcanc'+'elHandler']=this['_touchendH'+'andler'],this['_touchmove'+'Handler']=this['_handleTou'+'chMove']['bind'](this),this['_sortHandl'+'er']=this['_sortEleme'+'nts']['bind'](this),this['_elements']=[],this['_hoveredEl'+'ement']=null,this['_pressedEl'+'ement']=null,this['_touchedEl'+'ements']={},this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired']={},this['_selectedE'+'lements']={},this['_selectedP'+'ressedElem'+'ents']={},this['_useMouse']=!_0x5229e4||_0x5229e4['useMouse']!==!(0x3b4*0x9+-0xf76*-0x1+-0x1043*0x3),this['_useTouch']=!_0x5229e4||_0x5229e4['useTouch']!==!(-0x1e4a*0x1+-0x9b4+0x27ff),this['_useXr']=!_0x5229e4||_0x5229e4['useXr']!==!(0x2*-0x16c+0x117f+-0xea6),this['_selectEve'+'ntsAttache'+'d']=!(-0x9b7+-0x16b2+0x206a),Ae['touch']&&(this['_clickedEn'+'tities']={}),this['attach'](_0x7dd6ff);}set['enabled'](_0x4ccc8a){this['_enabled']=_0x4ccc8a;}get['enabled'](){return this['_enabled'];}set['app'](_0x5f14ec){this['_app']=_0x5f14ec;}get['app'](){return this['_app']||Ms();}['attach'](_0x48afd4){this['_attached']&&(this['_attached']=!(0x1bfc+-0x32*-0x17+-0x3*0xad3),this['detach']()),this['_target']=_0x48afd4,this['_attached']=!(-0x2384+-0xae1+0x6b*0x6f);const _0x12dc4e=Ae['passiveEve'+'nts']?{'passive':!(0x1b0+0xf75+-0x1125)}:!(-0x149*0x3+-0x13e7+0x17c3);this['_useMouse']&&(window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x12dc4e),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x12dc4e),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x12dc4e),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x12dc4e)),this['_useTouch']&&Ae['touch']&&(this['_target']['addEventLi'+'stener']('touchstart',this['_touchstar'+'tHandler'],_0x12dc4e),this['_target']['addEventLi'+'stener']('touchend',this['_touchendH'+'andler'],!(-0x22c6+-0x1fd9+0x42a0)),this['_target']['addEventLi'+'stener']('touchmove',this['_touchmove'+'Handler'],!(-0x219b+-0x3b1+0x254d)),this['_target']['addEventLi'+'stener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(-0xb7d+-0x44e+0x1*0xfcc))),this['attachSele'+'ctEvents']();}['attachSele'+'ctEvents'](){!this['_selectEve'+'ntsAttache'+'d']&&this['_useXr']&&this['app']&&this['app']['xr']&&this['app']['xr']['supported']&&(this['_clickedEn'+'tities']||(this['_clickedEn'+'tities']={}),this['_selectEve'+'ntsAttache'+'d']=!(-0x311+0x26bf+-0x23ae),this['app']['xr']['on']('start',this['_onXrStart'],this));}['detach'](){if(!this['_attached'])return;this['_attached']=!(0x70*-0x2+-0x2395+0x2476);const _0x431206=Ae['passiveEve'+'nts']?{'passive':!(-0x28b+-0x12b3+0x153e)}:!(0x87b+-0x1*-0x561+-0xddb);this['_useMouse']&&(window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x431206),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x431206),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x431206),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x431206)),this['_useTouch']&&(this['_target']['removeEven'+'tListener']('touchstart',this['_touchstar'+'tHandler'],_0x431206),this['_target']['removeEven'+'tListener']('touchend',this['_touchendH'+'andler'],!(0x206*0x3+-0x1a3d+0x142c)),this['_target']['removeEven'+'tListener']('touchmove',this['_touchmove'+'Handler'],!(-0x3d9*-0x8+0x1*0x7a+0x1*-0x1f41)),this['_target']['removeEven'+'tListener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(0x1332+-0x1ea5+-0x4*-0x2dd))),this['_selectEve'+'ntsAttache'+'d']&&(this['_selectEve'+'ntsAttache'+'d']=!(-0xa30+-0x188d+0x1*0x22be),this['app']['xr']['off']('start',this['_onXrStart'],this),this['app']['xr']['off']('end',this['_onXrEnd'],this),this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this)),this['_target']=null;}['addElement'](_0x463b15){this['_elements']['indexOf'](_0x463b15)===-(-0x506*-0x5+-0x1505+-0x418)&&this['_elements']['push'](_0x463b15);}['removeElem'+'ent'](_0xb6bf5b){const _0x2f7c64=this['_elements']['indexOf'](_0xb6bf5b);_0x2f7c64!==-(-0x1b0b+-0x4*-0x6c5+-0x4*0x2)&&this['_elements']['splice'](_0x2f7c64,-0x1b97+0x154e+0x64a);}['_handleUp'](_0x363b27){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x363b27),this['_onElement'+'MouseEvent']('mouseup',_0x363b27)));}['_handleDow'+'n'](_0x22d74c){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x22d74c),this['_onElement'+'MouseEvent']('mousedown',_0x22d74c)));}['_handleMov'+'e'](_0x4feaad){this['_enabled']&&(this['_calcMouse'+'Coords'](_0x4feaad),this['_onElement'+'MouseEvent']('mousemove',_0x4feaad),this['_lastX']=cr,this['_lastY']=hr);}['_handleWhe'+'el'](_0x396b05){this['_enabled']&&(this['_calcMouse'+'Coords'](_0x396b05),this['_onElement'+'MouseEvent']('mousewheel',_0x396b05));}['_determine'+'TouchedEle'+'ments'](_0x1aa204){const _0x4b8f2b={},_0x4af28c=this['app']['systems']['camera']['cameras'];for(let _0x3ad254=_0x4af28c['length']-(0x53*-0x3a+-0x47*-0x2+0x1241);_0x3ad254>=-0x1*-0x13b8+0x5d0+0x13*-0x158;_0x3ad254--){const _0x48e693=_0x4af28c[_0x3ad254];let _0x2b87b2=-0x1*-0x7e7+0xd*0x216+0x701*-0x5;const _0x4c14c2=_0x1aa204['changedTou'+'ches']['length'];for(let _0x1dce57=0x1*-0x1385+-0x1807*-0x1+0x1*-0x482;_0x1dce57<_0x4c14c2;_0x1dce57++){if(_0x4b8f2b[_0x1aa204['changedTou'+'ches'][_0x1dce57]['identifier']]){_0x2b87b2++;continue;}const _0x7a5264=Wc(_0x1aa204['changedTou'+'ches'][_0x1dce57]),_0x1480b6=this['_getTarget'+'ElementByC'+'oords'](_0x48e693,_0x7a5264['x'],_0x7a5264['y']);_0x1480b6&&(_0x2b87b2++,_0x4b8f2b[_0x1aa204['changedTou'+'ches'][_0x1dce57]['identifier']]={'element':_0x1480b6,'camera':_0x48e693,'x':_0x7a5264['x'],'y':_0x7a5264['y']});}if(_0x2b87b2===_0x4c14c2)break;}return _0x4b8f2b;}['_handleTou'+'chStart'](_0x6d1fa0){if(!this['_enabled'])return;const _0x44e7f5=this['_determine'+'TouchedEle'+'ments'](_0x6d1fa0);for(let _0x429d0f=0x10f8+-0x190e*-0x1+-0x2a06,_0x1d674d=_0x6d1fa0['changedTou'+'ches']['length'];_0x429d0f<_0x1d674d;_0x429d0f++){const _0x3cb63e=_0x6d1fa0['changedTou'+'ches'][_0x429d0f],_0x169793=_0x44e7f5[_0x3cb63e['identifier']],_0x195b7c=this['_touchedEl'+'ements'][_0x3cb63e['identifier']];_0x169793&&(!_0x195b7c||_0x169793['element']!==_0x195b7c['element'])&&(this['_fireEvent'](_0x6d1fa0['type'],new Ao(_0x6d1fa0,_0x169793['element'],_0x169793['camera'],_0x169793['x'],_0x169793['y'],_0x3cb63e)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x3cb63e['identifier']]=!(-0xe41+-0x4*-0x739+-0xea2));}for(const _0x21181d in _0x44e7f5)this['_touchedEl'+'ements'][_0x21181d]=_0x44e7f5[_0x21181d];}['_handleTou'+'chEnd'](_0x2d47fa){if(!this['_enabled'])return;const _0x522bc1=this['app']['systems']['camera']['cameras'];for(const _0x3dcfc8 in this['_clickedEn'+'tities'])delete this['_clickedEn'+'tities'][_0x3dcfc8];for(let _0x4ea8ac=-0xccf+0x1*-0x20dd+0x13c*0x25,_0x5ca02b=_0x2d47fa['changedTou'+'ches']['length'];_0x4ea8ac<_0x5ca02b;_0x4ea8ac++){const _0x3f0039=_0x2d47fa['changedTou'+'ches'][_0x4ea8ac],_0x574803=this['_touchedEl'+'ements'][_0x3f0039['identifier']];if(!_0x574803)continue;const _0x25aad0=_0x574803['element'],_0x2fe819=_0x574803['camera'],_0x5d173b=_0x574803['x'],_0x582d91=_0x574803['y'];delete this['_touchedEl'+'ements'][_0x3f0039['identifier']],delete this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x3f0039['identifier']];const _0x89c139=Wc(_0x3f0039);for(let _0x122492=_0x522bc1['length']-(-0x4fe+0x402+0xfd);_0x122492>=0x1678+-0x11c9+0x6d*-0xb;_0x122492--)this['_getTarget'+'ElementByC'+'oords'](_0x522bc1[_0x122492],_0x89c139['x'],_0x89c139['y'])===_0x25aad0&&(this['_clickedEn'+'tities'][_0x25aad0['entity']['getGuid']()]||(this['_fireEvent']('click',new Ao(_0x2d47fa,_0x25aad0,_0x2fe819,_0x5d173b,_0x582d91,_0x3f0039)),this['_clickedEn'+'tities'][_0x25aad0['entity']['getGuid']()]=Date['now']()));this['_fireEvent'](_0x2d47fa['type'],new Ao(_0x2d47fa,_0x25aad0,_0x2fe819,_0x5d173b,_0x582d91,_0x3f0039));}}['_handleTou'+'chMove'](_0x264e96){if(_0x264e96['preventDef'+'ault'](),!this['_enabled'])return;const _0xf28f9e=this['_determine'+'TouchedEle'+'ments'](_0x264e96);for(let _0x25c444=-0x9*0x1f7+0x11d+0x1092,_0x3aa1bb=_0x264e96['changedTou'+'ches']['length'];_0x25c444<_0x3aa1bb;_0x25c444++){const _0x43dc22=_0x264e96['changedTou'+'ches'][_0x25c444],_0x5da977=_0xf28f9e[_0x43dc22['identifier']],_0x222829=this['_touchedEl'+'ements'][_0x43dc22['identifier']];if(_0x222829){const _0x38da3e=Wc(_0x43dc22);(!_0x5da977||_0x5da977['element']!==_0x222829['element'])&&!this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x43dc22['identifier']]&&(this['_fireEvent']('touchleave',new Ao(_0x264e96,_0x222829['element'],_0x222829['camera'],_0x38da3e['x'],_0x38da3e['y'],_0x43dc22)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x43dc22['identifier']]=!(-0x268e+0x21c1*-0x1+0x484f)),this['_fireEvent']('touchmove',new Ao(_0x264e96,_0x222829['element'],_0x222829['camera'],_0x38da3e['x'],_0x38da3e['y'],_0x43dc22));}}}['_onElement'+'MouseEvent'](_0x2030f7,_0xd9eb94){let _0x3eda6c=null;const _0x17df0d=this['_hoveredEl'+'ement'];this['_hoveredEl'+'ement']=null;const _0x177000=this['app']['systems']['camera']['cameras'];let _0x2832dd;for(let _0x292ce4=_0x177000['length']-(-0x1460+-0x1520*0x1+0x2981);_0x292ce4>=-0x15a3+0xc*0x183+0xb3*0x5&&(_0x2832dd=_0x177000[_0x292ce4],_0x3eda6c=this['_getTarget'+'ElementByC'+'oords'](_0x2832dd,cr,hr),!_0x3eda6c);_0x292ce4--);if(this['_hoveredEl'+'ement']=_0x3eda6c,(_0x2030f7==='mousemove'||_0x2030f7==='mouseup')&&this['_pressedEl'+'ement']?this['_fireEvent'](_0x2030f7,new bo(_0xd9eb94,this['_pressedEl'+'ement'],_0x2832dd,cr,hr,this['_lastX'],this['_lastY'])):_0x3eda6c&&(this['_fireEvent'](_0x2030f7,new bo(_0xd9eb94,_0x3eda6c,_0x2832dd,cr,hr,this['_lastX'],this['_lastY'])),_0x2030f7==='mousedown'&&(this['_pressedEl'+'ement']=_0x3eda6c)),_0x17df0d!==this['_hoveredEl'+'ement']&&(_0x17df0d&&this['_fireEvent']('mouseleave',new bo(_0xd9eb94,_0x17df0d,_0x2832dd,cr,hr,this['_lastX'],this['_lastY'])),this['_hoveredEl'+'ement']&&this['_fireEvent']('mouseenter',new bo(_0xd9eb94,this['_hoveredEl'+'ement'],_0x2832dd,cr,hr,this['_lastX'],this['_lastY']))),_0x2030f7==='mouseup'&&this['_pressedEl'+'ement']){if(this['_pressedEl'+'ement']===this['_hoveredEl'+'ement']){const _0x16f2a0=this['_hoveredEl'+'ement']['entity']['getGuid']();let _0x430f0f=!this['_clickedEn'+'tities'];if(this['_clickedEn'+'tities']){const _0x638b6=this['_clickedEn'+'tities'][_0x16f2a0]||0x208d+0x10*0x17e+-0x386d;_0x430f0f=Date['now']()-_0x638b6>0x21e3*0x1+-0x239*-0x3+-0x2762,delete this['_clickedEn'+'tities'][_0x16f2a0];}_0x430f0f&&this['_fireEvent']('click',new bo(_0xd9eb94,this['_hoveredEl'+'ement'],_0x2832dd,cr,hr,this['_lastX'],this['_lastY']));}this['_pressedEl'+'ement']=null;}}['_onXrStart'](){this['app']['xr']['on']('end',this['_onXrEnd'],this),this['app']['xr']['on']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['on']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['on']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['on']('remove',this['_onXrInput'+'Remove'],this);}['_onXrEnd'](){this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this);}['_onXrUpdat'+'e'](){if(!this['_enabled'])return;const _0x1f1442=this['app']['xr']['input']['inputSourc'+'es'];for(let _0x43a25e=0x91c+-0x1d69*-0x1+-0xad*0x39;_0x43a25e<_0x1f1442['length'];_0x43a25e++)this['_onElement'+'SelectEven'+'t']('selectmove',_0x1f1442[_0x43a25e],null);}['_onXrInput'+'Remove'](_0x32dc6b){const _0x22982f=this['_selectedE'+'lements'][_0x32dc6b['id']];_0x22982f&&(_0x32dc6b['_elementEn'+'tity']=null,this['_fireEvent']('selectleav'+'e',new dr(null,_0x22982f,null,_0x32dc6b))),delete this['_selectedE'+'lements'][_0x32dc6b['id']],delete this['_selectedP'+'ressedElem'+'ents'][_0x32dc6b['id']];}['_onSelectS'+'tart'](_0x35b94e,_0x3a25ae){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectstar'+'t',_0x35b94e,_0x3a25ae);}['_onSelectE'+'nd'](_0x26534c,_0x44e304){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectend',_0x26534c,_0x44e304);}['_onElement'+'SelectEven'+'t'](_0x2fa584,_0x145679,_0x307e29){let _0x5c5977;const _0x24cc95=this['_selectedE'+'lements'][_0x145679['id']];let _0x4db5a8;const _0x1a4c8e=this['app']['systems']['camera']['cameras'];let _0x2066a2;if(_0x145679['elementInp'+'ut']){ep['set'](_0x145679['getOrigin'](),_0x145679['getDirecti'+'on']());for(let _0x58ae5e=_0x1a4c8e['length']-(0x1218+-0x12f4+-0xd*-0x11);_0x58ae5e>=-0x434+-0x1*-0xcee+-0x1*0x8ba&&(_0x2066a2=_0x1a4c8e[_0x58ae5e],_0x5c5977=this['_getTarget'+'ElementByR'+'ay'](ep,_0x2066a2),!_0x5c5977);_0x58ae5e--);}_0x145679['_elementEn'+'tity']=_0x5c5977||null,_0x5c5977?(this['_selectedE'+'lements'][_0x145679['id']]=_0x5c5977,_0x4db5a8=_0x5c5977):delete this['_selectedE'+'lements'][_0x145679['id']],_0x24cc95!==_0x4db5a8&&(_0x24cc95&&this['_fireEvent']('selectleav'+'e',new dr(_0x307e29,_0x24cc95,_0x2066a2,_0x145679)),_0x4db5a8&&this['_fireEvent']('selectente'+'r',new dr(_0x307e29,_0x4db5a8,_0x2066a2,_0x145679)));const _0x56699b=this['_selectedP'+'ressedElem'+'ents'][_0x145679['id']];_0x2fa584==='selectmove'&&_0x56699b&&this['_fireEvent']('selectmove',new dr(_0x307e29,_0x56699b,_0x2066a2,_0x145679)),_0x2fa584==='selectstar'+'t'&&(this['_selectedP'+'ressedElem'+'ents'][_0x145679['id']]=_0x4db5a8,_0x4db5a8&&this['_fireEvent']('selectstar'+'t',new dr(_0x307e29,_0x4db5a8,_0x2066a2,_0x145679))),!_0x145679['elementInp'+'ut']&&_0x56699b&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x145679['id']],_0x24cc95&&this['_fireEvent']('selectend',new dr(_0x307e29,_0x56699b,_0x2066a2,_0x145679))),_0x2fa584==='selectend'&&_0x145679['elementInp'+'ut']&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x145679['id']],_0x56699b&&this['_fireEvent']('selectend',new dr(_0x307e29,_0x56699b,_0x2066a2,_0x145679)),_0x56699b&&_0x56699b===_0x24cc95&&this['_fireEvent']('click',new dr(_0x307e29,_0x56699b,_0x2066a2,_0x145679)));}['_fireEvent'](_0x1e2676,_0x3d6d65){let _0x2c6200=_0x3d6d65['element'];for(;_0x2c6200['fire'](_0x1e2676,_0x3d6d65),!(_0x3d6d65['_stopPropa'+'gation']||!_0x2c6200['entity']['parent']||(_0x2c6200=_0x2c6200['entity']['parent']['element'],!_0x2c6200)););}['_calcMouse'+'Coords'](_0x3ea3a8){const _0x454d2f=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x31a12d=Math['floor'](_0x454d2f['left']),_0x54f935=Math['floor'](_0x454d2f['top']);cr=_0x3ea3a8['clientX']-_0x31a12d,hr=_0x3ea3a8['clientY']-_0x54f935;}['_sortEleme'+'nts'](_0x3faa39,_0x3110bb){const _0xadf25f=this['app']['scene']['layers']['sortTransp'+'arentLayer'+'s'](_0x3faa39['layers'],_0x3110bb['layers']);return _0xadf25f!==0x110e+-0x7ca+-0x251*0x4?_0xadf25f:_0x3faa39['screen']&&!_0x3110bb['screen']?-(-0xa78+-0x698+0x1111):!_0x3faa39['screen']&&_0x3110bb['screen']?-0x2b*-0x67+0x5*0x57d+0x371*-0xd:!_0x3faa39['screen']&&!_0x3110bb['screen']?-0x352+-0x1eb*-0x12+-0x1f34:_0x3faa39['screen']['screen']['screenSpac'+'e']&&!_0x3110bb['screen']['screen']['screenSpac'+'e']?-(-0x48d+-0x10c5+0x1553):_0x3110bb['screen']['screen']['screenSpac'+'e']&&!_0x3faa39['screen']['screen']['screenSpac'+'e']?0xb1e+-0x86*0x3c+0x144b:_0x3110bb['drawOrder']-_0x3faa39['drawOrder'];}['_getTarget'+'ElementByC'+'oords'](_0x118d84,_0x3d476d,_0x1f3f01){const _0x46b4c0=this['_calculate'+'RayScreen'](_0x3d476d,_0x1f3f01,_0x118d84,Ri)?Ri:null,_0x495b64=this['_calculate'+'Ray3d'](_0x3d476d,_0x1f3f01,_0x118d84,Ro)?Ro:null;return this['_getTarget'+'Element'](_0x118d84,_0x46b4c0,_0x495b64);}['_getTarget'+'ElementByR'+'ay'](_0x529b70,_0x40d7a7){Ri['origin']['copy'](_0x529b70['origin']),Ri['direction']['copy'](_0x529b70['direction']),Ri['end']['copy'](Ri['direction'])['mulScalar'](_0x40d7a7['farClip']*(-0xb5c*0x2+-0x2415+-0x3acf*-0x1))['add'](Ri['origin']);const _0x453ae4=Ri,_0x563fee=_0x40d7a7['worldToScr'+'een'](_0x453ae4['origin'],Of),_0x3b3b98=this['_calculate'+'RayScreen'](_0x563fee['x'],_0x563fee['y'],_0x40d7a7,Ro)?Ro:null;return this['_getTarget'+'Element'](_0x40d7a7,_0x3b3b98,_0x453ae4);}['_getTarget'+'Element'](_0x11c8de,_0x32a7b2,_0x308a87){let _0x3c0df4=null,_0x1baee2=(0x39c+0x1*0x57a+-0x915)/(0x14d+-0x29*-0x77+0x145c*-0x1);this['_elements']['sort'](this['_sortHandl'+'er']);for(let _0x5cabfe=0x2204+-0x3*-0x2f+-0x2291,_0x19fa72=this['_elements']['length'];_0x5cabfe<_0x19fa72;_0x5cabfe++){const _0xa84970=this['_elements'][_0x5cabfe];if(_0xa84970['layers']['some'](_0x1f7ceb=>_0x11c8de['layersSet']['has'](_0x1f7ceb))){if(_0xa84970['screen']&&_0xa84970['screen']['screen']['screenSpac'+'e']){if(!_0x32a7b2)continue;if(this['_checkElem'+'ent'](_0x32a7b2,_0xa84970,!(0x1*0x52c+0x2090+-0x25bc))>=0x2618+0x210e+-0x4726){_0x3c0df4=_0xa84970;break;}}else{if(!_0x308a87)continue;const _0x164948=this['_checkElem'+'ent'](_0x308a87,_0xa84970,!(0x118a+-0x14f7+0x2*0x1b7));if(_0x164948>=-0xbab*-0x1+-0x999+-0x212&&(_0x164948<_0x1baee2&&(_0x3c0df4=_0xa84970,_0x1baee2=_0x164948),_0xa84970['screen'])){_0x3c0df4=_0xa84970;break;}}}}return _0x3c0df4;}['_calculate'+'RayScreen'](_0x2ceb54,_0x49324c,_0x4321bc,_0x5d6437){const _0x20729c=this['app']['graphicsDe'+'vice']['width'],_0x21efb4=this['app']['graphicsDe'+'vice']['height'],_0x2e016b=_0x4321bc['rect']['z']*_0x20729c,_0x36864f=_0x4321bc['rect']['w']*_0x21efb4,_0x3bdb56=_0x4321bc['rect']['x']*_0x20729c,_0x43b03e=_0x3bdb56+_0x2e016b,_0x3836a0=(0x1355+0x13*0x121+-0x28c7-_0x4321bc['rect']['y'])*_0x21efb4,_0x1f9097=_0x3836a0-_0x36864f;let _0x2da473=_0x2ceb54*_0x20729c/this['_target']['clientWidt'+'h'],_0x3bd277=_0x49324c*_0x21efb4/this['_target']['clientHeig'+'ht'];return _0x2da473>=_0x3bdb56&&_0x2da473<=_0x43b03e&&_0x3bd277<=_0x3836a0&&_0x3bd277>=_0x1f9097?(_0x2da473=_0x20729c*(_0x2da473-_0x3bdb56)/_0x2e016b,_0x3bd277=_0x21efb4*(_0x3bd277-_0x1f9097)/_0x36864f,_0x3bd277=_0x21efb4-_0x3bd277,_0x5d6437['origin']['set'](_0x2da473,_0x3bd277,0x4d*0x22+0x3*-0x60a+0x7e5),_0x5d6437['direction']['set'](0x8bf+0x1*0xa1f+-0x12de,0x1451+0x944+-0x1d95,-(-0x2*-0xfc5+0x1610+-0x3599)),_0x5d6437['end']['copy'](_0x5d6437['direction'])['mulScalar'](-0x43*-0x3b+-0x720+-0x1*0x84f)['add'](_0x5d6437['origin']),!(-0x1808*-0x1+-0x1*-0x20ed+-0x823*0x7)):!(-0x4*-0x841+-0x96c+-0x1797);}['_calculate'+'Ray3d'](_0x391e60,_0x6cb701,_0x1766c1,_0xe4a8c6){const _0x25bea6=this['_target']['clientWidt'+'h'],_0x4c2764=this['_target']['clientHeig'+'ht'],_0x4bec48=_0x1766c1['rect']['z']*_0x25bea6,_0x3fb6b4=_0x1766c1['rect']['w']*_0x4c2764,_0x2f02e4=_0x1766c1['rect']['x']*_0x25bea6,_0xb29474=_0x2f02e4+_0x4bec48,_0x221b21=(0xd*-0x1fe+-0x9+0x19f0-_0x1766c1['rect']['y'])*_0x4c2764,_0x5ade68=_0x221b21-_0x3fb6b4;let _0x5d6d44=_0x391e60,_0x2771dd=_0x6cb701;return _0x391e60>=_0x2f02e4&&_0x391e60<=_0xb29474&&_0x6cb701<=_0x221b21&&_0x2771dd>=_0x5ade68?(_0x5d6d44=_0x25bea6*(_0x5d6d44-_0x2f02e4)/_0x4bec48,_0x2771dd=_0x4c2764*(_0x2771dd-_0x5ade68)/_0x3fb6b4,_0x1766c1['screenToWo'+'rld'](_0x5d6d44,_0x2771dd,_0x1766c1['nearClip'],Of),_0x1766c1['screenToWo'+'rld'](_0x5d6d44,_0x2771dd,_0x1766c1['farClip'],RS),_0xe4a8c6['origin']['copy'](Of),_0xe4a8c6['direction']['set'](0x10*0xd+0xa3*-0x6+-0x302*-0x1,0x1*-0x77d+0x62*-0x53+0x2743,-(-0x1*0x40e+-0x47b*0x8+-0xe3*-0x2d)),_0xe4a8c6['end']['copy'](RS),!(0x1*0x12f9+-0x22cb+-0x3*-0x546)):!(0x67a+0x2*0xcad+-0x1fd3);}['_checkElem'+'ent'](_0x36db5d,_0x325010,_0xec23da){if(_0x325010['maskedBy']&&this['_checkElem'+'ent'](_0x36db5d,_0x325010['maskedBy']['element'],_0xec23da)<-0x2*0xeb9+-0x261c+0x438e)return-(-0x12d5+-0x180c+0x2ae2);let _0x533607;_0xec23da?_0x533607=Xo['calculateS'+'caleToScre'+'en'](_0x325010):_0x533607=Xo['calculateS'+'caleToWorl'+'d'](_0x325010);const _0x41b95a=Xo['buildHitCo'+'rners'](_0x325010,_0xec23da?_0x325010['screenCorn'+'ers']:_0x325010['worldCorne'+'rs'],_0x533607);return xU(_0x36db5d['origin'],_0x36db5d['end'],_0x41b95a);}static['buildHitCo'+'rners'](_0x39f1a8,_0x318c7b,_0x393d33){let _0x1769ea=_0x318c7b;if(_0x39f1a8['entity']&&_0x39f1a8['entity']['button']){const _0x1e442c=_0x39f1a8['entity']['button']['hitPadding']||vU;wo['copy'](_0x39f1a8['entity']['up']),Vc['copy'](wo)['mulScalar'](-(-0x1e49+0x2*-0x557+0x98*0x45)),Eo['copy'](_0x39f1a8['entity']['right']),Gc['copy'](Eo)['mulScalar'](-(-0x1f0d+0x10f8+0xe16)),wo['mulScalar'](_0x1e442c['w']*_0x393d33['y']),Vc['mulScalar'](_0x1e442c['y']*_0x393d33['y']),Eo['mulScalar'](_0x1e442c['z']*_0x393d33['x']),Gc['mulScalar'](_0x1e442c['x']*_0x393d33['x']),FS['copy'](_0x1769ea[-0x125e*0x2+0x1f61+0x1c9*0x3])['add'](Vc)['add'](Gc),NS['copy'](_0x1769ea[0x584+0x244d+0x2*-0x14e8])['add'](Vc)['add'](Eo),kS['copy'](_0x1769ea[-0x1*-0xfe0+0x1*-0x2219+0x1*0x123b])['add'](wo)['add'](Eo),US['copy'](_0x1769ea[0x178b+-0x12b6*0x1+-0x4d2*0x1])['add'](wo)['add'](Gc),_0x1769ea=[FS,NS,kS,US];}if(_0x393d33['x']<-0x141c*-0x1+0x2f*0x34+-0x1da8){const _0x4a356b=_0x1769ea[0x1*0x17c9+-0x2469+0xca2]['x'],_0x4919bd=_0x1769ea[-0x3*-0x327+0x52f+-0xea4]['x'];_0x1769ea[-0x1d1f+0x2301+-0x5e2]['x']=_0x4a356b,_0x1769ea[0xa*0x17b+-0x63b*0x5+0x105a]['x']=_0x4919bd,_0x1769ea[-0x251b+-0x13*0x102+0x3843]['x']=_0x4919bd,_0x1769ea[0x1ad1+-0x757*-0x1+-0x1*0x2225]['x']=_0x4a356b;}if(_0x393d33['y']<-0x2215*-0x1+-0xed5*0x2+-0x46b){const _0x55f335=_0x1769ea[-0x179c+0x1e2+0x15bc]['y'],_0x218640=_0x1769ea[-0xb*-0x43+-0x845+0x159*0x4]['y'];_0x1769ea[-0xee0+0x2485+-0x15a5]['y']=_0x55f335,_0x1769ea[0x1c6f+-0x4f*-0x4f+-0x34cf]['y']=_0x55f335,_0x1769ea[-0x124+-0x170c+0x1832]['y']=_0x218640,_0x1769ea[0x3*-0x486+-0x13ce+0x7*0x4c5]['y']=_0x218640;}if(_0x393d33['z']<0x59*-0x47+0x2*-0x522+0x17*0x185){const _0x3025e2=_0x1769ea[-0x1*-0x1405+-0x9f8+-0x359*0x3]['x'],_0x29f5cf=_0x1769ea[0xe14+0x4d8*0x3+-0x1c9a]['y'],_0x3956c2=_0x1769ea[0x799*0x2+-0x1*-0x1d1d+-0x407*0xb]['z'];_0x1769ea[-0x1*-0x258d+-0x1*0x6d9+-0x1eb2*0x1]['x']=_0x1769ea[-0x178d*-0x1+0x31d*-0x1+-0x1470]['x'],_0x1769ea[-0x1*0x139f+0x483+0x5*0x306]['y']=_0x1769ea[0x7*0xe5+-0x1b5e+0x151b]['y'],_0x1769ea[0xb6a+0x21f5*0x1+-0x2d5d]['z']=_0x1769ea[-0x237+0x1*0x1088+0x1*-0xe51]['z'],_0x1769ea[0x3*0xa85+0x17*0x8d+-0x2c3a]['x']=_0x3025e2,_0x1769ea[0x7f4+0x1*0xa27+-0x203*0x9]['y']=_0x29f5cf,_0x1769ea[0x708+0xaab*-0x1+0x3a3]['z']=_0x3956c2;}return _0x1769ea;}static['calculateS'+'caleToScre'+'en'](_0x374592){let _0x4ab5b9=_0x374592['entity'];const _0x3b5348=_0x374592['screen']['screen']['scale'];for(tn['set'](_0x3b5348,_0x3b5348,_0x3b5348);_0x4ab5b9&&!_0x4ab5b9['screen'];)tn['mul'](_0x4ab5b9['getLocalSc'+'ale']()),_0x4ab5b9=_0x4ab5b9['parent'];return tn;}static['calculateS'+'caleToWorl'+'d'](_0x59b77a){let _0x3b973b=_0x59b77a['entity'];for(tn['set'](-0x2706+0xe2d+0x2*0xc6d,0x1b14+-0x1374+-0x79f,0x1d7d+-0x1ca1+-0x49*0x3);_0x3b973b;)tn['mul'](_0x3b973b['getLocalSc'+'ale']()),_0x3b973b=_0x3b973b['parent'];return tn;}}J['prototype']['scale']=J['prototype']['mulScalar'],D['prototype']['scale']=D['prototype']['mulScalar'],re['prototype']['scale']=re['prototype']['mulScalar'],new re();function YU(_0x286cf0,_0x2b12ea){return w['deprecated']('pc.createS'+'phere\x20is\x20d'+'eprecated.'+'\x20Use\x20\x27pc.M'+'esh.fromGe'+'ometry(dev'+'ice,\x20new\x20S'+'phereGeome'+'try(option'+'s);\x27\x20forma'+'t\x20instead.'),Ge['fromGeomet'+'ry'](_0x286cf0,new _m(_0x2b12ea));}Object['defineProp'+'erties'](gt['prototype'],{'_glFrameBuffer':{'get':function(){return w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.'),this['impl']['_glFrameBu'+'ffer'];},'set':function(_0x3c280a){w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.');}}}),Object['defineProp'+'erty'](kt,'defaultIns'+'tancingFor'+'mat',{'get':function(){return w['assert']('pc.VertexF'+'ormat.defa'+'ultInstanc'+'ingFormat\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.VertexFo'+'rmat.getDe'+'faultInsta'+'ncingForma'+'t(graphics'+'Device).'),null;}}),Object['defineProp'+'erties'](_e['prototype'],{'rgbm':{'get':function(){return w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']===Zi;},'set':function(_0x441aa2){w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']=_0x441aa2?Zi:Ds;}},'swizzleGGGR':{'get':function(){return w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']===Jo;},'set':function(_0x52ee3a){w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']=_0x52ee3a?Jo:Ds;}},'_glTexture':{'get':function(){return w['deprecated']('pc.Texture'+'#_glTextur'+'e\x20is\x20no\x20lo'+'nger\x20avail'+'able,\x20use\x20'+'Use\x20pc.Tex'+'ture.impl.'+'_glTexture'+'\x20instead.'),this['impl']['_glTexture'];}}}),Object['defineProp'+'erty']($e['prototype'],'boneLimit',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#bo'+'neLimit\x20is'+'\x20deprecate'+'d\x20and\x20the\x20'+'limit\x20has\x20'+'been\x20remov'+'ed.'),0x3*0xa26+-0x1a6f+0x3*-0x1;}}),Object['defineProp'+'erty']($e['prototype'],'webgl2',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#we'+'bgl2\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e#isWebGL2'+'\x20instead.'),this['isWebGL2'];}}),Object['defineProp'+'erty']($e['prototype'],'textureFlo'+'atHighPrec'+'ision',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureFloat'+'HighPrecis'+'ion\x20is\x20dep'+'recated\x20an'+'d\x20always\x20r'+'eturns\x20tru'+'e.'),!(-0x6f5+-0x4*0x5a1+-0x9d3*-0x3);}}),Object['defineProp'+'erty']($e['prototype'],'extBlendMi'+'nmax',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tBlendMinm'+'ax\x20is\x20depr'+'ecated\x20as\x20'+'it\x20is\x20alwa'+'ys\x20true.'),!(0x95*-0x5+-0x196a*0x1+0x3*0x971);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'HalfFloat',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureHa'+'lfFloat\x20is'+'\x20deprecate'+'d\x20as\x20it\x20is'+'\x20always\x20tr'+'ue.'),!(0x16ab+0xf0d*0x1+0x1*-0x25b8);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Lod',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureLo'+'d\x20is\x20depre'+'cated\x20as\x20i'+'t\x20is\x20alway'+'s\x20true.'),!(-0x16a*-0x10+-0x137f+0x10b*-0x3);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatFilt'+'erable',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatFilter'+'able\x20is\x20de'+'precated\x20a'+'s\x20it\x20is\x20al'+'ways\x20true.'),!(-0x353+0x131*0x12+-0x121f);}}),Object['defineProp'+'erty']($e['prototype'],'supportsMr'+'t',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsMrt\x20'+'is\x20depreca'+'ted\x20as\x20it\x20'+'is\x20always\x20'+'true.'),!(0x1a3e+0x6c+-0x2*0xd55);}}),Object['defineProp'+'erty']($e['prototype'],'supportsVo'+'lumeTextur'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsVolu'+'meTextures'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(0x1f2*0x12+0x340+-0x2644);}}),Object['defineProp'+'erty']($e['prototype'],'supportsIn'+'stancing',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsInst'+'ancing\x20is\x20'+'deprecated'+'\x20as\x20it\x20is\x20'+'always\x20tru'+'e.'),!(0x1501+0x14f3*-0x1+0x1*-0xe);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatUpda'+'table',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatUpdata'+'ble\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true.'),!(0x1*-0x6ce+0x60*0x1b+0x32*-0x11);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Float',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureFl'+'oat\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true'),!(-0xb*-0x101+-0x9*-0x3f+-0xd42);}}),Object['defineProp'+'erty']($e['prototype'],'extStandar'+'dDerivativ'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tStandardD'+'erivatives'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(-0x14d9+-0x28f+0x2*0xbb4);}}),pt['DEFAULT']=Object['freeze'](new pt());const ut=new pt(),ji=new Yt();$e['prototype']['setBlendFu'+'nction']=function(_0x31bbf7,_0x293b80){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x208524=this['blendState'];ut['copy'](_0x208524),ut['setColorBl'+'end'](_0x208524['colorOp'],_0x31bbf7,_0x293b80),ut['setAlphaBl'+'end'](_0x208524['alphaOp'],_0x31bbf7,_0x293b80),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendFu'+'nctionSepa'+'rate']=function(_0x38c3d4,_0x48c501,_0x2760f8,_0x4499c9){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0x40abb3=this['blendState'];ut['copy'](_0x40abb3),ut['setColorBl'+'end'](_0x40abb3['colorOp'],_0x38c3d4,_0x48c501),ut['setAlphaBl'+'end'](_0x40abb3['alphaOp'],_0x2760f8,_0x4499c9),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uation']=function(_0x510492){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x66889c=this['blendState'];ut['copy'](_0x66889c),ut['setColorBl'+'end'](_0x510492,_0x66889c['colorSrcFa'+'ctor'],_0x66889c['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0x510492,_0x66889c['alphaSrcFa'+'ctor'],_0x66889c['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uationSepa'+'rate']=function(_0x3d0d29,_0x284fcf){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0x235da0=this['blendState'];ut['copy'](_0x235da0),ut['setColorBl'+'end'](_0x3d0d29,_0x235da0['colorSrcFa'+'ctor'],_0x235da0['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0x284fcf,_0x235da0['alphaSrcFa'+'ctor'],_0x235da0['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setColorWr'+'ite']=function(_0x53218b,_0x4bbe0f,_0x29097c,_0x7e7151){w['deprecated']('pc.Graphic'+'sDevice#se'+'tColorWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etBlendSta'+'te\x20instead'+'.');const _0x24008e=this['blendState'];ut['copy'](_0x24008e),ut['setColorWr'+'ite'](_0x53218b,_0x4bbe0f,_0x29097c,_0x7e7151),this['setBlendSt'+'ate'](ut);},$e['prototype']['getBlendin'+'g']=function(){return this['blendState']['blend'];},$e['prototype']['setBlendin'+'g']=function(_0x2d0e32){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlending\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.Graphics'+'Device.set'+'BlendState'+'\x20instead.'),ut['copy'](this['blendState']),ut['blend']=_0x2d0e32,this['setBlendSt'+'ate'](ut);},$e['prototype']['setDepthWr'+'ite']=function(_0x109a4f){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etDepthSta'+'te\x20instead'+'.'),ji['copy'](this['depthState']),ji['write']=_0x109a4f,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthFu'+'nc']=function(_0x5acfef){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthFunc'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['func']=_0x5acfef,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthTe'+'st']=function(_0x4e57d9){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthTest'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['test']=_0x4e57d9,this['setDepthSt'+'ate'](ji);},$e['prototype']['getCullMod'+'e']=function(){return this['cullMode'];},new Proxy({},{'get'(_0x4f4b73,_0x2c2da8){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20acces'+'s\x20global\x20s'+'hader\x20chun'+'ks\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Shade'+'rChunks.ge'+'t\x20instead,'+'\x20for\x20examp'+'le:\x20pc.Sha'+'derChunks.'+'get(this.a'+'pp.graphic'+'sDevice,\x20p'+'c.SHADERLA'+'NGUAGE_GLS'+'L).get(\x27'+_0x2c2da8+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['get'](_0x2c2da8);},'set'(_0x2134b5,_0x45c641,_0x58bc53){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20overr'+'ide\x20global'+'\x20shader\x20ch'+'unks\x20is\x20de'+'precated.\x20'+'Use\x20pc.Sha'+'derChunks.'+'get\x20instea'+'d,\x20for\x20exa'+'mple:\x20pc.S'+'haderChunk'+'s.get(this'+'.app.graph'+'icsDevice,'+'\x20pc.SHADER'+'LANGUAGE_G'+'LSL).set(\x27'+_0x45c641+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['set'](_0x45c641,_0x58bc53),!(0x1*0x121f+-0x32*-0x83+0x43*-0xa7);}}),Object['defineProp'+'erty'](Et['prototype'],'defaultMat'+'erial',{'get':function(){return w['deprecated']('pc.Scene#d'+'efaultMate'+'rial\x20is\x20de'+'precated.'),Qn(Ms()['graphicsDe'+'vice']);}}),Object['defineProp'+'erty'](Et['prototype'],'fogColor',{'set':function(_0x29e8da){w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color']=_0x29e8da;},'get':function(){return w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogEnd',{'set':function(_0x315fa8){w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end']=_0x315fa8;},'get':function(){return w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogStart',{'set':function(_0x354da4){w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start']=_0x354da4;},'get':function(){return w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogDensity',{'set':function(_0x299141){w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density']=_0x299141;},'get':function(){return w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density'];}}),Object['defineProp'+'erty'](Et['prototype'],'toneMappin'+'g',{'set':function(_0x4c9f21){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');},'get':function(){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'gammaCorre'+'ction',{'set':function(_0x4ee920){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');},'get':function(){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'rendering',{'set':function(_0x57b3e2){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');},'get':function(){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');}}),Object['defineProp'+'erty'](du['prototype'],'_meshInsta'+'nces',{'get':function(){return w['deprecated']('pc.LayerCo'+'mposition#'+'_meshInsta'+'nces\x20is\x20de'+'precated.'),null;}}),Object['defineProp'+'erty'](Et['prototype'],'drawCalls',{'get':function(){return w['deprecated']('pc.Scene#d'+'rawCalls\x20i'+'s\x20deprecat'+'ed\x20and\x20no\x20'+'longer\x20pro'+'vides\x20mesh'+'\x20instances'+'.'),null;}}),['128','64','32','16','8','4']['forEach']((_0x181aaa,_0x2c616c)=>{Object['defineProp'+'erty'](Et['prototype'],'skyboxPref'+'iltered'+_0x181aaa,{'get':function(){return w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x181aaa+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x2c616c];},'set':function(_0x1905f2){w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x181aaa+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x2c616c]=_0x1905f2,this['updateShad'+'ers']=!(0x2*0x8cc+-0x16e1+0x549);}});}),Object['defineProp'+'erty'](Et['prototype'],'models',{'get':function(){return this['_models']||(this['_models']=[]),this['_models'];}});function Bt(_0x3f47d3,_0x20100f,_0x442fd7=''){Object['defineProp'+'erty'](_0x3f47d3['prototype'],_0x20100f,{'set':function(_0x2c62a8){w['errorOnce'](_0x3f47d3['name']+'#'+_0x20100f+('\x20has\x20been\x20'+'removed.\x20')+_0x442fd7);},'get':function(){w['errorOnce'](_0x3f47d3['name']+'#'+_0x20100f+('\x20has\x20been\x20'+'removed.\x20')+_0x442fd7);}});}Bt(Ot,'renderTarg'+'et'),Bt(Ot,'onPreCull'),Bt(Ot,'onPreRende'+'r'),Bt(Ot,'onPreRende'+'rOpaque'),Bt(Ot,'onPreRende'+'rTranspare'+'nt'),Bt(Ot,'onPostCull'),Bt(Ot,'onPostRend'+'er'),Bt(Ot,'onPostRend'+'erOpaque'),Bt(Ot,'onPostRend'+'erTranspar'+'ent'),Bt(Ot,'onDrawCall'),Bt(Ot,'layerRefer'+'ence'),Bt(Ir,'onPreCull','Use\x20Scene#'+'EVENT_PREC'+'ULL\x20event\x20'+'instead.'),Bt(Ir,'onPostCull','Use\x20Scene#'+'EVENT_POST'+'CULL\x20event'+'\x20instead.'),Bt(Ir,'onPreRende'+'r','Use\x20Scene#'+'EVENT_PRER'+'ENDER\x20even'+'t\x20instead.'),Bt(Ir,'onPostRend'+'er','Use\x20Scene#'+'EVENT_POST'+'RENDER\x20eve'+'nt\x20instead'+'.'),Bt(Ir,'onPreRende'+'rLayer','Use\x20Scene#'+'EVENT_PRER'+'ENDER_LAYE'+'R\x20event\x20in'+'stead.'),Bt(Ir,'onPostRend'+'erLayer','Use\x20Scene#'+'EVENT_POST'+'RENDER_LAY'+'ER\x20event\x20i'+'nstead.'),fl['prototype']['renderComp'+'osition']=function(_0x3ce117){w['deprecated']('pc.Forward'+'Renderer#r'+'enderCompo'+'sition\x20is\x20'+'deprecated'+'.\x20Use\x20pc.A'+'ppBase.ren'+'derComposi'+'tion\x20inste'+'ad.'),Ms()['renderComp'+'osition'](_0x3ce117);},He['prototype']['syncAabb']=function(){w['deprecated']('pc.MeshIns'+'tance#sync'+'Aabb\x20is\x20de'+'precated.');},mm['prototype']['getTarget']=function(_0x22e8b5){return w['deprecated']('pc.Morph#g'+'etTarget\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.Morph#tar'+'gets\x20inste'+'ad.'),this['targets'][_0x22e8b5];},Ie['prototype']['getChildre'+'n']=function(){return w['deprecated']('pc.GraphNo'+'de#getChil'+'dren\x20is\x20de'+'precated.\x20'+'Use\x20pc.Gra'+'phNode#chi'+'ldren\x20inst'+'ead.'),this['children'];},Ie['prototype']['getName']=function(){return w['deprecated']('pc.GraphNo'+'de#getName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name'];},Ie['prototype']['getPath']=function(){return w['deprecated']('pc.GraphNo'+'de#getPath'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#path\x20in'+'stead.'),this['path'];},Ie['prototype']['getRoot']=function(){return w['deprecated']('pc.GraphNo'+'de#getRoot'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#root\x20in'+'stead.'),this['root'];},Ie['prototype']['getParent']=function(){return w['deprecated']('pc.GraphNo'+'de#getPare'+'nt\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Graph'+'Node#paren'+'t\x20instead.'),this['parent'];},Ie['prototype']['setName']=function(_0x4bc42d){w['deprecated']('pc.GraphNo'+'de#setName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name']=_0x4bc42d;},Object['defineProp'+'erty'](tr['prototype'],'shader',{'set':function(_0xe59621){w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.');},'get':function(){return w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.'),null;}}),Object['defineProp'+'erty'](tr['prototype'],'blend',{'set':function(_0x47d324){w['deprecated']('pc.Materia'+'l#blend\x20is'+'\x20deprecate'+'d,\x20use\x20pc.'+'Material.b'+'lendState.'),this['blendState']['blend']=_0x47d324;},'get':function(){return this['blendState']['blend'];}}),Object['defineProp'+'erty'](Ut['prototype'],'shininess',{'get':function(){return this['gloss']*(-0x1f8d+-0x1fdd+-0x1fe7*-0x2);},'set':function(_0x44dbe9){this['gloss']=_0x44dbe9*(-0x15f6+-0x940*0x2+0x2876+0.01);}}),Object['defineProp'+'erty'](Ut['prototype'],'useGammaTo'+'nemap',{'get':function(){return this['useTonemap'];},'set':function(_0x34ecc1){this['useTonemap']=_0x34ecc1;}}),Object['defineProp'+'erty'](Ut['prototype'],'anisotropy',{'get':function(){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.');const _0x2f6673=Math['sign'](Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']*(0x180d+0x1fff+-0x2*0x1c05)));return this['anisotropy'+'Intensity']*_0x2f6673;},'set':function(_0x4f441b){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.'),this['anisotropy'+'Intensity']=Math['abs'](_0x4f441b),_0x4f441b>=0x1*0x875+-0x110a+0x895*0x1?this['anisotropy'+'Rotation']=0x2*0x50c+-0xfad+-0x595*-0x1:this['anisotropy'+'Rotation']=0x194+0x3*0x7bb+-0x2f*0x85;}});function Qs(_0x3b6dbd,_0x15bbba){Object['defineProp'+'erty'](Ut['prototype'],_0x15bbba,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x15bbba+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0x3b6dbd+'\x20instead.'),this[_0x3b6dbd];},'set':function(_0x4b8db4){w['deprecated']('pc.Standar'+'dMaterial#'+_0x15bbba+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0x3b6dbd+'\x20instead.'),this[_0x3b6dbd]=_0x4b8db4;}});}function Id(_0x54510c){Object['defineProp'+'erty'](Ut['prototype'],_0x54510c,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x54510c+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x54510c+('\x20was\x20alway'+'s\x20true')),!(-0x1a1f+0x25b0+-0xb91);},'set':function(_0x557969){w['deprecated']('pc.Standar'+'dMaterial#'+_0x54510c+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x54510c+('\x20was\x20alway'+'s\x20true'));}});}Id('sheenTint'),Id('diffuseTin'+'t'),Id('emissiveTi'+'nt'),Id('ambientTin'+'t'),Qs('specularTi'+'nt','specularMa'+'pTint'),Qs('aoVertexCo'+'lor','aoMapVerte'+'xColor'),Qs('diffuseVer'+'texColor','diffuseMap'+'VertexColo'+'r'),Qs('specularVe'+'rtexColor','specularMa'+'pVertexCol'+'or'),Qs('emissiveVe'+'rtexColor','emissiveMa'+'pVertexCol'+'or'),Qs('metalnessV'+'ertexColor','metalnessM'+'apVertexCo'+'lor'),Qs('glossVerte'+'xColor','glossMapVe'+'rtexColor'),Qs('opacityVer'+'texColor','opacityMap'+'VertexColo'+'r'),Qs('lightVerte'+'xColor','lightMapVe'+'rtexColor'),Qs('sheenGloss','sheenGloss'+'iess'),Qs('clearCoatG'+'loss','clearCostG'+'lossiness');function F0(_0x11d2a5,_0x372ccd){_0x11d2a5!=='pass'&&Object['defineProp'+'erty'](dl['prototype'],_0x11d2a5,{'get':function(){return w['deprecated']('Getting\x20pc'+'.Options#'+_0x11d2a5+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0x372ccd||_0x11d2a5)+'.'),this['litOptions'][_0x372ccd||_0x11d2a5];},'set':function(_0x5dfd52){w['deprecated']('Setting\x20pc'+'.Options#'+_0x11d2a5+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0x372ccd||_0x11d2a5)+'.'),this['litOptions'][_0x372ccd||_0x11d2a5]=_0x5dfd52;}});}F0('refraction','useRefract'+'ion');const TU=new wv(),zS=Object['getOwnProp'+'ertyNames'](TU);for(const l in zS)F0(zS[l]);mn['prototype']['getAssetBy'+'Id']=function(_0x9bde75){return w['deprecated']('pc.AssetRe'+'gistry#get'+'AssetById\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AssetReg'+'istry#get\x20'+'instead.'),this['get'](_0x9bde75);},Object['defineProp'+'erty'](Qt['prototype'],'ray',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#ray'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.XrInput'+'Source#get'+'Origin\x20and'+'\x20pc.XrInpu'+'tSource#ge'+'tDirection'+'\x20instead.'),this['_rayLocal'];}}),Object['defineProp'+'erty'](Qt['prototype'],'position',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#pos'+'ition\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Position\x20i'+'nstead.'),this['_localPosi'+'tion'];}}),Object['defineProp'+'erty'](Qt['prototype'],'rotation',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#rot'+'ation\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Rotation\x20i'+'nstead.'),this['_localRota'+'tion'];}}),Object['defineProp'+'erty'](Xo['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(0x15ca*0x1+0x1ac8+-0x4a*0xa8);}}),Object['defineProp'+'erty'](ta['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(0x1*-0x127b+0x89*0xe+-0x5*-0x233);}}),Ks['prototype']['isFullscre'+'en']=function(){return w['deprecated']('pc.AppBase'+'#isFullscr'+'een\x20is\x20dep'+'recated.\x20U'+'se\x20the\x20Ful'+'lscreen\x20AP'+'I\x20directly'+'.'),!!document['fullscreen'+'Element'];},Ks['prototype']['enableFull'+'screen']=function(_0x55342d,_0x5c1237,_0x2d06d8){w['deprecated']('pc.AppBase'+'#enableFul'+'lscreen\x20is'+'\x20deprecate'+'d.\x20Use\x20the'+'\x20Fullscree'+'n\x20API\x20dire'+'ctly.'),_0x55342d=_0x55342d||this['graphicsDe'+'vice']['canvas'];const _0x126f46=function(){_0x5c1237(),document['removeEven'+'tListener']('fullscreen'+'change',_0x126f46);},_0x5ddced=function(){_0x2d06d8(),document['removeEven'+'tListener']('fullscreen'+'error',_0x5ddced);};_0x5c1237&&document['addEventLi'+'stener']('fullscreen'+'change',_0x126f46,!(-0x45*0x59+0x8fb*-0x2+-0x37f*-0xc)),_0x2d06d8&&document['addEventLi'+'stener']('fullscreen'+'error',_0x5ddced,!(0x215*-0x7+-0xf0a+-0x2*-0xecf)),_0x55342d['requestFul'+'lscreen']?_0x55342d['requestFul'+'lscreen'](Element['ALLOW_KEYB'+'OARD_INPUT']):_0x2d06d8();},Ks['prototype']['disableFul'+'lscreen']=function(_0x52558d){w['deprecated']('pc.AppBase'+'#disableFu'+'llscreen\x20i'+'s\x20deprecat'+'ed.\x20Use\x20th'+'e\x20Fullscre'+'en\x20API\x20dir'+'ectly.');const _0x371b2b=function(){_0x52558d(),document['removeEven'+'tListener']('fullscreen'+'change',_0x371b2b);};_0x52558d&&document['addEventLi'+'stener']('fullscreen'+'change',_0x371b2b,!(-0x3f3+-0x1e4e+0x6da*0x5)),document['exitFullsc'+'reen']();},Ks['prototype']['getSceneUr'+'l']=function(_0xf1cf55){w['deprecated']('pc.AppBase'+'#getSceneU'+'rl\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.AppBa'+'se#scenes\x20'+'and\x20pc.Sce'+'neRegistry'+'#find\x20inst'+'ead.');const _0x320457=this['scenes']['find'](_0xf1cf55);return _0x320457?_0x320457['url']:null;},Ks['prototype']['loadScene']=function(_0x272167,_0x32eeaa){w['deprecated']('pc.AppBase'+'#loadScene'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.AppBase'+'#scenes\x20an'+'d\x20pc.Scene'+'Registry#l'+'oadScene\x20i'+'nstead.'),this['scenes']['loadScene'](_0x272167,_0x32eeaa);},Ks['prototype']['loadSceneH'+'ierarchy']=function(_0x3e6413,_0x39802b){w['deprecated']('pc.AppBase'+'#loadScene'+'Hierarchy\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AppBase#'+'scenes\x20and'+'\x20pc.SceneR'+'egistry#lo'+'adSceneHie'+'rarchy\x20ins'+'tead.'),this['scenes']['loadSceneH'+'ierarchy'](_0x3e6413,_0x39802b);},Ks['prototype']['loadSceneS'+'ettings']=function(_0x4f08fa,_0x3bc180){w['deprecated']('pc.AppBase'+'#loadScene'+'Settings\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.AppBase#s'+'cenes\x20and\x20'+'pc.SceneRe'+'gistry#loa'+'dSceneSett'+'ings\x20inste'+'ad.'),this['scenes']['loadSceneS'+'ettings'](_0x4f08fa,_0x3bc180);},Tm['prototype']['setVisible']=function(_0x1c43f2){w['deprecated']('pc.ModelCo'+'mponent#se'+'tVisible\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.ModelComp'+'onent#enab'+'led\x20instea'+'d.'),this['enabled']=_0x1c43f2;},Object['defineProp'+'erty'](bs['prototype'],'bodyType',{'get':function(){return w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type'];},'set':function(_0x3b8ba7){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type']=_0x3b8ba7;}}),bs['prototype']['syncBodyTo'+'Entity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#syncBody'+'ToEntity\x20i'+'s\x20not\x20publ'+'ic\x20API\x20and'+'\x20should\x20no'+'t\x20be\x20used.'),this['_updateDyn'+'amic']();},wm['prototype']['setGravity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'tSystem#se'+'tGravity\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.RigidBody'+'ComponentS'+'ystem#grav'+'ity\x20instea'+'d.'),arguments['length']===0x1c24*0x1+-0x2221+-0x2ff*-0x2?this['gravity']['copy'](arguments[-0x60b+-0x162+0x76d*0x1]):this['gravity']['set'](arguments[-0x1a00+0x1*-0x633+0x2033],arguments[-0x9ca+-0x14e+0xb19],arguments[0x33b*-0x1+0x2284+-0x1f47]);};class wU{constructor(_0x22f3cc){this['_frameInde'+'x']=-0x1919+-0x56b*-0x3+0x8*0x11b,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=0x1*0x269+-0x1c5a+-0x8a6*-0x3,this['enabled']=!(-0x1*-0x12d8+-0xd5*0x2d+0x1299),_0x22f3cc['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x22f3cc['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x22f3cc['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x5a31d2){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x44820b=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x44820b,this['_frameInde'+'x']=0x696+0x626+0x32f*-0x4,this['mark'](_0x5a31d2);}['mark'](_0x2cfecc){if(!this['enabled'])return;const _0x26d070=de();if(this['_frameInde'+'x']>0x1b0a+0x1faa+-0x3ab4){const _0xcf9578=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(0x1ea1+-0x9*-0x23d+0x32c5*-0x1)];_0xcf9578[-0x1f20+0x1126*-0x1+0x1*0x3047]=_0x26d070-_0xcf9578[-0x1a16+-0x236f*-0x1+-0x958];}else{if(this['_timings']['length']>0x21ec+0xacb+0x2cb7*-0x1){const _0x3a4a0b=this['_timings'][this['_timings']['length']-(0x65*0xd+0x1d98+-0x22b8)];_0x3a4a0b[0x1918+0x6*-0x67f+-0xf*-0xed]=_0x26d070-_0x3a4a0b[-0x2213+-0xc0*-0x34+-0x4ec];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x2cfecc,_0x26d070]);else{const _0x4bdcfb=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x4bdcfb[-0x1e47*0x1+0x67*-0x40+0x3807]=_0x2cfecc,_0x4bdcfb[0x1544+0xbba+-0x20fd]=_0x26d070;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](-0x34*-0x5f+0x19ed+-0x2d39,-(0x1*0x96b+-0x1c3+0x28d*-0x3))['map'](_0x1ac38c=>_0x1ac38c[-0x17a+0x120+0x5b]);}}class EU{constructor(_0x1620bd){this['device']=_0x1620bd,_0x1620bd['gpuProfile'+'r']['enabled']=!(0x5e+0x9f*-0x19+0xf29),this['enabled']=!(0x429*0x7+0x16*-0xb5+0x17*-0x97),this['unitsName']='ms',this['decimalPla'+'ces']=0x10c*0x17+-0x157a+-0x299,this['_timings']=[];}get['timings'](){return this['_timings'][0xc17*0x1+-0x1541*-0x1+0x16*-0x184]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class bU{constructor(_0x3a5c58,_0x1c52de,_0x4e6549,_0x156dd7,_0x175745){this['app']=_0x3a5c58,this['values']=[],this['statNames']=_0x1c52de,this['statNames']['length']>-0x1*0x2045+-0x39*0x1d+0x26bd&&(this['statNames']['length']=-0x133*-0xa+-0x566+0x151*-0x5),this['unitsName']=_0x156dd7,this['decimalPla'+'ces']=_0x4e6549,this['multiplier']=_0x175745||-0x553+0x118f+0x65*-0x1f;const _0x1689b4=(_0x2916be,_0x1c1e69)=>_0x2916be['split']('.')['reduce']((_0x2dc550,_0x33e76b)=>_0x2dc550?_0x2dc550[_0x33e76b]:null,_0x1c1e69||this);_0x3a5c58['on']('frameupdat'+'e',_0xa8f362=>{for(let _0x3960c5=0x1da5+-0x2659*-0x1+-0x43fe;_0x3960c5<this['statNames']['length'];_0x3960c5++)this['values'][_0x3960c5]=_0x1689b4(this['statNames'][_0x3960c5],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class Uf{constructor(_0x2ed11e,_0x503b45,_0x2a0c61,_0x208413,_0x522b57){this['app']=_0x503b45,this['name']=_0x2ed11e,this['device']=_0x503b45['graphicsDe'+'vice'],this['timer']=_0x522b57,this['watermark']=_0x2a0c61,this['enabled']=!(0x2047*-0x1+-0x27*0xbf+0x3d61),this['textRefres'+'hRate']=_0x208413,this['avgTotal']=0x188*-0x7+0xa6*0xb+0x396,this['avgTimer']=0xa*0x137+0xdc+-0x22b*0x6,this['avgCount']=-0x117a+0x90*0x35+-0xc56,this['timingText']='',this['texture']=null,this['yOffset']=0x2*0xcf1+-0x2*0xfb0+0x1*0x57e,this['cursor']=-0x20c2+-0x1*0x1ae3+-0x3ba5*-0x1,this['sample']=new Uint8ClampedArray(-0x1*0x1750+-0x2352+0x3aa6),this['sample']['set']([-0x1187+-0x1*0x15b2+0x3*0xd13,-0x1d7a+-0x19c6+0x3740,-0x25b8+0x20c6+0x4f2*0x1,-0x1a4a+0x1042+0xb07]),this['counter']=-0x146*0xb+0x1f6d+-0x116b,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x296b70){const _0x25820f=this['timer']['timings'],_0x1ca54d=_0x25820f['reduce']((_0xd68f08,_0x2fb6dd)=>_0xd68f08+_0x2fb6dd,0xa*0x2+0x7*0xe2+-0x321*0x2);if(this['avgTotal']+=_0x1ca54d,this['avgTimer']+=_0x296b70,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=0x2017+-0x91+-0x1f86,this['avgTotal']=-0x86*0x16+-0x175c+0x22e0,this['avgCount']=-0x24d9*-0x1+0x408+-0x28e1),this['enabled']){let _0x5877c2=0x316*-0xb+-0x108*0x4+-0x2612*-0x1;const _0x5ce9e4=(-0x8f1+-0x1fd4+0x11*0x266+0.5)*this['watermark'];for(let _0x3842b3=-0x1*0x2073+-0x228f+0x2*0x2181;_0x3842b3<_0x25820f['length'];++_0x3842b3)_0x5877c2+=Math['floor'](_0x25820f[_0x3842b3]/_0x5ce9e4*(0xcc3+0x5a0+-0x1164)),this['sample'][_0x3842b3]=_0x5877c2;this['sample'][0x7*-0x225+-0x2464+-0x336a*-0x1]=this['watermark']/_0x5ce9e4*(0x931+0x1*-0x4e+-0x5*0x194),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(-0x1359*-0x1+0x1cf8*-0x1+0x9a3)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=0x1c41+0x7ee+-0x242f);}}['render'](_0x1bae6d,_0x372b8c,_0x51d9f5,_0x4b26ce,_0x1ed23c){_0x1bae6d['quad'](_0x372b8c+_0x4b26ce,_0x51d9f5,-_0x4b26ce,_0x1ed23c,this['enabled']?this['cursor']:-0x17ab+0x1c8d+-0x4e2*0x1,this['enabled']?-0x43*0x13+0x2490+0x1f97*-0x1+0.5+this['yOffset']:this['texture']['height']-(-0xeba+-0x1d1d+0x2bd8),-_0x4b26ce,-0x7c9*-0x1+0xbd9+-0x167*0xe,this['texture'],0x167*-0xf+0x1*0x173+0x1396);}}class AU{constructor(_0x2c2655,_0xa6e331){const _0x3d183a=_0x16f8d5=>{_0x16f8d5['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x16f8d5['textAlign']='left',_0x16f8d5['textBaseli'+'ne']='alphabetic';},_0x1a42f1=_0x1725b7=>_0x1725b7==='.'||_0x1725b7['length']===0x13*0x47+-0x1ba7+-0x1*-0x1663&&_0x1725b7['charCodeAt'](-0xfc+-0x1*-0x207a+-0x1f7e)>=0x1*-0x251e+0x19*0x3+0x2503*0x1&&_0x1725b7['charCodeAt'](0x2344+0x351*-0xb+0x137)<=0x26ee+0x22f4+-0x49a9,_0x5ceb47=document['createElem'+'ent']('canvas'),_0x2d0e61=_0x5ceb47['getContext']('2d',{'alpha':!(-0x1367+-0x7*-0x365+0x1*-0x45c)});_0x3d183a(_0x2d0e61);const _0x1ca2ca=new Map(),_0x598aaa=-0x1*-0x1907+-0xf*-0x1f9+0x1*-0x3699,_0x2dee94=0xc5b*0x2+-0x1*-0x3e8+0x1*-0x1a9e;let _0x20b4c4=_0x598aaa,_0xaabb14=_0x598aaa;_0xa6e331['forEach'](_0xee1ce9=>{const _0x403e85=_0x2d0e61['measureTex'+'t'](_0xee1ce9),_0x1b0d17=Math['ceil'](-_0x403e85['actualBoun'+'dingBoxLef'+'t']),_0x524190=Math['ceil'](_0x403e85['actualBoun'+'dingBoxRig'+'ht']),_0x4a0c6e=Math['ceil'](_0x403e85['actualBoun'+'dingBoxAsc'+'ent']),_0x477567=Math['ceil'](_0x403e85['actualBoun'+'dingBoxDes'+'cent']),_0x51566e=_0x1b0d17+_0x524190,_0x10fd94=_0x4a0c6e+_0x477567;_0x20b4c4+_0x51566e+_0x598aaa>=_0x2dee94&&(_0x20b4c4=_0x598aaa,_0xaabb14+=0x83b*-0x1+-0x10b*0x19+-0x2*-0x112f),_0x1ca2ca['set'](_0xee1ce9,{'l':_0x1b0d17,'r':_0x524190,'a':_0x4a0c6e,'d':_0x477567,'w':_0x51566e,'h':_0x10fd94,'x':_0x20b4c4,'y':_0xaabb14}),_0x20b4c4+=_0x51566e+_0x598aaa;}),_0x5ceb47['width']=0x9c8*-0x2+0x1d3c+-0x7ac,_0x5ceb47['height']=Y['nextPowerO'+'fTwo'](_0xaabb14+(0x7aa+0x13*-0xdf+0x8f3)+_0x598aaa),_0x3d183a(_0x2d0e61),_0x2d0e61['fillStyle']='rgb(0,\x200,\x20'+'0)',_0x2d0e61['fillRect'](-0x27*-0x11+0x4*-0x2b+-0x1eb,-0xf3*-0x24+0x78e+-0x29ba,_0x5ceb47['width'],_0x5ceb47['height']),_0x1ca2ca['forEach']((_0x3a7f81,_0x20b5fa)=>{_0x2d0e61['fillStyle']=_0x1a42f1(_0x20b5fa)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0x2d0e61['fillText'](_0x20b5fa,_0x3a7f81['x']-_0x3a7f81['l'],_0x3a7f81['y']+_0x3a7f81['a']);}),this['placements']=_0x1ca2ca;const _0x498d94=_0x2d0e61['getImageDa'+'ta'](0x185+-0x2fa+-0x1*-0x175,-0x1124*0x2+-0x15da+-0x1*-0x3822,_0x5ceb47['width'],_0x5ceb47['height'])['data'];for(let _0x1a0eae=0x1903*0x1+-0x1e2d+0x52a;_0x1a0eae<_0x498d94['length'];_0x1a0eae+=-0x2258+0xe9f+-0x13bd*-0x1)_0x498d94[_0x1a0eae+(-0x1bc7+-0x1dc0+0x5c1*0xa)]=_0x498d94[_0x1a0eae+(-0x3b*-0x49+0x21a1+-0x3274)],_0x498d94[_0x1a0eae+(-0xcfb+0xe3*0x23+-0x120e)]=-0x1*-0x11fb+-0x1*-0x1d71+-0x2e6d,_0x498d94[_0x1a0eae+(-0x165d+-0x259a*0x1+0x3bf8)]=-0x16d*-0x19+0xee9+-0x318f,_0x498d94[_0x1a0eae+(0x1*-0x57b+0x4d7*-0x6+0x2287)]=-0x3*0x1d+-0x3*0xc9d+0x272d;this['texture']=new _e(_0x2c2655,{'name':'mini-stats'+'-word-atla'+'s','width':_0x5ceb47['width'],'height':_0x5ceb47['height'],'mipmaps':!(-0xb*0x1e1+-0x3*-0x88f+-0x501),'minFilter':Te,'magFilter':Te,'levels':[_0x498d94]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x23fbe6,_0x1c6928,_0x133222,_0x5fb2c5){const _0x158ac3=this['placements']['get'](_0x1c6928);return _0x158ac3?(_0x23fbe6['quad'](_0x133222+_0x158ac3['l']-(0x4c*-0x70+0x1685+0xabc),_0x5fb2c5-_0x158ac3['d']+(-0xb07+0x213f+-0x2f*0x79),_0x158ac3['w']+(0x102c+-0x83*-0x49+-0x3585),_0x158ac3['h']+(-0x37f+0x4*-0x33b+-0x1d*-0x91),_0x158ac3['x']-(-0x9d9*-0x1+-0x46b+-0x56d),this['texture']['height']-_0x158ac3['y']-_0x158ac3['h']-(0x68*-0x1d+0x1e99+-0x12d0),void(0x1b34+-0x26fa*-0x1+0xc5*-0x56),void(0xb74*-0x2+-0x1*-0x3b+0x285*0x9),this['texture'],0x183f*-0x1+0xa6e+0xdd2),_0x158ac3['w']):-0x963*-0x4+0x498+0x7c*-0x57;}}const CU='\x0a\x20\x20\x20\x20attri'+'bute\x20vec3\x20'+'vertex_pos'+'ition;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20un'+'normalized'+'\x20xy,\x20word\x20'+'flag\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_texCoord0'+';\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20unnormal'+'ized\x20textu'+'re\x20space\x20u'+'v,\x20normali'+'zed\x20uv\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec4\x20uv0;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20float\x20wo'+'rdFlag;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion.xy\x20*\x202'+'.0\x20-\x201.0,\x20'+'0.5,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20verte'+'x_texCoord'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20wordFlag\x20'+'=\x20vertex_p'+'osition.z;'+'\x0a\x20\x20\x20\x20}\x0a',PU='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec3f;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'unnormaliz'+'ed\x20xy,\x20wor'+'d\x20flag\x0a\x20\x20\x20'+'\x20attribute'+'\x20vertex_te'+'xCoord0:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20unno'+'rmalized\x20t'+'exture\x20spa'+'ce\x20uv,\x20nor'+'malized\x20uv'+'\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'varying\x20wo'+'rdFlag:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x20fn\x20v'+'ertexMain('+'input\x20:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output\x20:\x20'+'VertexOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4(input'+'.vertex_po'+'sition.xy\x20'+'*\x202.0\x20-\x201.'+'0,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.u'+'v0\x20=\x20input'+'.vertex_te'+'xCoord0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.wordFl'+'ag\x20=\x20input'+'.vertex_po'+'sition.z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',MU='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20uv'+'0;\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20wordFlag;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'lr;\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20grap'+'hTex;\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in\x20(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20graph'+'Sample\x20=\x20t'+'exture2D(g'+'raphTex,\x20u'+'v0.xy);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20graph;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.r)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.7,\x200.2,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.b)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gr'+'aph\x20=\x20vec4'+'(0.2,\x200.2,'+'\x200.7,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gra'+'ph\x20=\x20vec4('+'0.0,\x200.0,\x20'+'0.0,\x201.0\x20-'+'\x200.25\x20*\x20si'+'n(uv0.w\x20*\x20'+'3.14159));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20words'+'\x20=\x20texture'+'2D(wordsTe'+'x,\x20vec2(uv'+'0.x,\x201.0\x20-'+'\x20uv0.y));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20mix(gr'+'aph,\x20words'+',\x20wordFlag'+')\x20*\x20clr;\x0a\x20'+'\x20\x20\x20}\x0a',DU='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c4f;\x0a\x20\x20\x20\x20v'+'arying\x20wor'+'dFlag:\x20f32'+';\x0a\x0a\x20\x20\x20\x20uni'+'form\x20clr:\x20'+'vec4f;\x0a\x0a\x20\x20'+'\x20\x20var\x20grap'+'hTex\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20graphTex'+'_sampler\x20:'+'\x20sampler;\x0a'+'\x0a\x20\x20\x20\x20var\x20w'+'ordsTex\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20words'+'Tex_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20u'+'v0:\x20vec4f\x20'+'=\x20input.uv'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20graph'+'Sample:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'graphTex,\x20'+'graphTex_s'+'ampler,\x20uv'+'0.xy);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'graph:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(uv0.'+'w\x20<\x20graphS'+'ample.r)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4f(0.7'+',\x200.2,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4f(0.'+'2,\x200.7,\x200.'+'2,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(uv'+'0.w\x20<\x20grap'+'hSample.b)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20graph'+'\x20=\x20vec4f(0'+'.2,\x200.2,\x200'+'.7,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'raph\x20=\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x201.'+'0\x20-\x200.25\x20*'+'\x20sin(uv0.w'+'\x20*\x203.14159'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20wor'+'ds:\x20vec4f\x20'+'=\x20textureS'+'ample(word'+'sTex,\x20word'+'sTex_sampl'+'er,\x20vec2f('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'input.word'+('Flag)\x20*\x20un'+'iform.clr;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a');class IU{constructor(_0x2f883a,_0x2090a4=0x569+0xd*-0x149+0x2*0x6a6){const _0x3f681e=new kt(_0x2f883a,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':is,'components':0x4,'type':Ve}]),_0x1c0c5b=new Uint16Array(_0x2090a4*(-0x18ee+-0x3*0xaf8+0x39dc));for(let _0x420001=0x3d*0x77+-0x26e*0xe+0x5a9;_0x420001<_0x2090a4;++_0x420001)_0x1c0c5b[_0x420001*(0x5*0x493+-0x1*-0x1127+-0x2800)+(-0x1*0xb6f+0x1a84*0x1+0x507*-0x3)]=_0x420001*(0x1*0x6e5+0x1*0x1fda+0x7bf*-0x5),_0x1c0c5b[_0x420001*(-0x6d5*0x3+-0x882+0x1*0x1d07)+(-0xb3*0x17+0x14a6+-0x490)]=_0x420001*(0xa7*0x15+0x3*0x9d+0x7c3*-0x2)+(-0x26d7+0x1*0xe16+0x18c2),_0x1c0c5b[_0x420001*(-0x5*-0x36f+-0x6fd+-0xa28)+(0x2*-0x10cb+0x93f+0x1859)]=_0x420001*(0xdc5+0x1f26*-0x1+0x1*0x1165)+(0x2361+-0x1d07+-0x658),_0x1c0c5b[_0x420001*(-0xf70+-0x2*0x8ac+-0x1ba*-0x13)+(0xa94*0x2+-0xc82+-0x8a3*0x1)]=_0x420001*(-0x114c+0xb8b+0x5c5),_0x1c0c5b[_0x420001*(-0x521+-0x1373*-0x2+-0x21bf)+(-0x3af*0x3+-0x9ae*0x2+0x1e6d)]=_0x420001*(0x232e+0x1b48+-0x3e72)+(-0x10d*0x2+0x1065*-0x2+-0x2*-0x1173),_0x1c0c5b[_0x420001*(-0x1*-0x179+0x1*0x1a89+-0x1bfc)+(-0x2635*-0x1+-0x17f4+0x4*-0x38f)]=_0x420001*(-0xdbf*0x1+-0x1db+-0x2*-0x7cf)+(0x985*-0x3+0x1553+0x73f);this['device']=_0x2f883a,this['buffer']=new Is(_0x2f883a,_0x3f681e,_0x2090a4*(-0xc87+0x5*-0x499+0x8*0x471),{'usage':ey}),this['data']=new Float32Array(this['buffer']['numBytes']/(0x2*0x788+0x9d*0x35+-0x2f8d)),this['indexBuffe'+'r']=new br(_0x2f883a,Yi,_0x2090a4*(0x10f*0xe+-0x39*-0x25+-0x1709),ms,_0x1c0c5b),this['prim']={'type':js,'indexed':!(-0xc40+-0x1*0x1b8b+0xa7*0x3d),'base':0x0,'baseVertex':0x0,'count':0x0},this['quads']=-0x1*0xd01+0x1b81+0x3a0*-0x4,this['mesh']=new Ge(_0x2f883a),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][0x15fa+0x857+0x27*-0xc7]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x50d8e3=new Xn({'uniqueName':'MiniStats','vertexGLSL':CU,'fragmentGLSL':MU,'vertexWGSL':PU,'fragmentWGSL':DU,'attributes':{'vertex_position':Me,'vertex_texCoord0':is}});this['material']=_0x50d8e3,_0x50d8e3['cull']=bt,_0x50d8e3['depthState']=Yt['NODEPTH'],_0x50d8e3['blendState']=new pt(!(0x25cc+0x2*0x3bd+-0x2d46),fs,jh,Yh,fs,Ft,Ft),_0x50d8e3['update'](),this['meshInstan'+'ce']=new He(this['mesh'],_0x50d8e3,new Ie('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(-0x24b6*0x1+-0x4fe*0x5+-0x2f0*-0x15)},this['targetSize']={'width':_0x2f883a['width'],'height':_0x2f883a['height']};}['quad'](_0x46c1ea,_0x4433e7,_0x3fbfd6,_0x275fae,_0x40922e,_0x331e44,_0x5de38e,_0x50a612,_0x57bd3e,_0x50ec1a=-0x11*0x1bb+-0x137*0x1+-0x6*-0x51b){const _0x3c493a=this['targetSize']['width'],_0x5f27bd=this['targetSize']['height'],_0x1427f1=_0x46c1ea/_0x3c493a,_0x5c37d3=_0x4433e7/_0x5f27bd,_0x3f2d68=(_0x46c1ea+_0x3fbfd6)/_0x3c493a,_0x37de51=(_0x4433e7+_0x275fae)/_0x5f27bd,_0x4ecb9f=_0x57bd3e['width'],_0x3fd835=_0x57bd3e['height'],_0x44e013=_0x40922e/_0x4ecb9f,_0x5b661e=_0x331e44/_0x3fd835,_0x200261=(_0x40922e+(_0x5de38e??_0x3fbfd6))/_0x4ecb9f,_0x5b488b=(_0x331e44+(_0x50a612??_0x275fae))/_0x3fd835;this['data']['set']([_0x1427f1,_0x5c37d3,_0x50ec1a,_0x44e013,_0x5b661e,-0x1*-0xfd1+-0x286+-0xd4b,-0x2459+-0x129d+-0xa*-0x57f,_0x3f2d68,_0x5c37d3,_0x50ec1a,_0x200261,_0x5b661e,0xa7*-0x1+-0x2680+0x2728,0xb19*0x3+-0x1433+-0x2*0x68c,_0x3f2d68,_0x37de51,_0x50ec1a,_0x200261,_0x5b488b,0x2514+-0x9b2+-0x1b61,0x395*-0x5+-0x224f+0x3439*0x1,_0x1427f1,_0x37de51,_0x50ec1a,_0x44e013,_0x5b488b,0x776+-0x19cf*-0x1+-0x2145,-0x16ae*0x1+-0x1040+0x26ef],(0x1a88+-0x2350+-0x239*-0x4)*this['quads']),this['quads']++,this['prim']['count']+=-0x2339+-0x9*0x2a1+-0xd*-0x488;}['startFrame'](){this['quads']=-0x9*0x2f5+0x10*0x259+-0xaf3*0x1,this['prim']['count']=-0x1a2c+0x2a1+-0x7b*-0x31,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x10ef66,_0x43198e,_0x52b6f9,_0x2f650f,_0x5cf37d,_0x229bbb){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x5cf37d,-0x405*-0x2+0x26c9+-0x2ed3),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0x52b6f9),this['material']['setParamet'+'er']('wordsTex',_0x2f650f),_0x10ef66['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x43198e);}}class N0{constructor(_0x2eaee7,_0x5498d6){const _0x2f2443=_0x2eaee7['graphicsDe'+'vice'];this['deviceHeig'+'ht']=_0x2f2443['height']/_0x2f2443['maxPixelRa'+'tio'],_0x5498d6={...N0['getDefault'+'Options'](),..._0x5498d6},this['options']=_0x5498d6,this['initGraphs'](_0x2eaee7,_0x2f2443,_0x5498d6);const _0x2025a9=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x1e432a=>_0x1e432a['name']))['concat'](_0x5498d6['stats']?_0x5498d6['stats']['map'](_0x4788b2=>_0x4788b2['unitsName']):[])['filter'](_0x640d10=>!!_0x640d10));this['wordAtlas']=new AU(_0x2f2443,_0x2025a9),this['sizes']=_0x5498d6['sizes'],this['_activeSiz'+'eIndex']=_0x5498d6['startSizeI'+'ndex'];const _0x5677cc=document['createElem'+'ent']('div');_0x5677cc['setAttribu'+'te']('id','mini-stats'),_0x5498d6['position']==='top'?_0x5677cc['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';':_0x5677cc['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',_0x5677cc['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';',document['body']['appendChil'+'d'](_0x5677cc),_0x5677cc['addEventLi'+'stener']('mouseenter',_0x23bcee=>{this['opacity']=-0x1f26+0x85*-0x2+0x2031;}),_0x5677cc['addEventLi'+'stener']('mouseleave',_0x574c1d=>{this['opacity']=0x4d4+0x631+-0xb05+0.7;}),_0x5677cc['addEventLi'+'stener']('click',_0x36df6b=>{_0x36df6b['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(0xe0e+-0x7*0xac+-0x1*0x959))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x2f2443['on']('resizecanv'+'as',this['updateDiv'],this),_0x2f2443['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x2eaee7['on']('postrender',this['postRender'],this),this['app']=_0x2eaee7,this['drawLayer']=_0x2eaee7['scene']['layers']['getLayerBy'+'Id'](Il),this['device']=_0x2f2443,this['render2d']=new IU(_0x2f2443),this['div']=_0x5677cc,this['width']=-0x1cf6+-0x1123+-0x2e19*-0x1,this['height']=-0x66*0x31+0x915+0xb*0xf3,this['gspacing']=0x400+0x1af9+-0x1ef7,this['clr']=[0x1720+-0x7*0x33c+0x7b*-0x1,-0x21f6+-0x1b7d+-0x1eba*-0x2,-0x15dd+-0xe42+0x44*0x88,-0x9ae+0x8f1*-0x1+-0x15*-0xe3+0.5],this['_enabled']=!(0x4c7+-0x1b6d+0xdf*0x1a),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x990529=>_0x990529['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'position':'top','sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(-0xddc+0x2c9*-0x7+0x356*0xa)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(-0x66+0xee6+-0xe80)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(0x4cd+0xc5*0x2b+-0x25e4)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(-0x146*0x3+0xe9b*0x1+-0xac9),'watermark':0x21},'gpu':{'enabled':!(0x9ec+0x890+-0xb6*0x1a),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x16b3d6){this['_activeSiz'+'eIndex']=_0x16b3d6,this['gspacing']=this['sizes'][_0x16b3d6]['spacing'],this['resize'](this['sizes'][_0x16b3d6]['width'],this['sizes'][_0x16b3d6]['height'],this['sizes'][_0x16b3d6]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0x4a253c){this['clr'][0x2*0x6da+-0x192b+-0xd*-0xe2]=_0x4a253c;}get['opacity'](){return this['clr'][-0x409+0x215*0x3+-0x233];}get['overallHei'+'ght'](){const _0x13f986=this['graphs'],_0x429601=this['gspacing'];return this['height']*_0x13f986['length']+_0x429601*(_0x13f986['length']-(-0x1*-0xdfb+0x7*0x454+0x761*-0x6));}set['enabled'](_0x59d2db){if(_0x59d2db!==this['_enabled']){this['_enabled']=_0x59d2db;for(let _0x3fba86=-0x1*0x1ed+-0x2b1+0x49e;_0x3fba86<this['graphs']['length'];++_0x3fba86)this['graphs'][_0x3fba86]['enabled']=_0x59d2db,this['graphs'][_0x3fba86]['timer']['enabled']=_0x59d2db;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x51940a,_0xd7a24b,_0xdc02e){if(this['graphs']=[],_0xdc02e['cpu']['enabled']){const _0x17009b=new wU(_0x51940a),_0x259318=new Uf('CPU',_0x51940a,_0xdc02e['cpu']['watermark'],_0xdc02e['textRefres'+'hRate'],_0x17009b);this['graphs']['push'](_0x259318);}if(_0xdc02e['gpu']['enabled']){const _0xb357fb=new EU(_0xd7a24b),_0x195c21=new Uf('GPU',_0x51940a,_0xdc02e['gpu']['watermark'],_0xdc02e['textRefres'+'hRate'],_0xb357fb);this['graphs']['push'](_0x195c21);}_0xdc02e['stats']&&_0xdc02e['stats']['forEach'](_0x12b95d=>{const _0x1b858a=new bU(_0x51940a,_0x12b95d['stats'],_0x12b95d['decimalPla'+'ces'],_0x12b95d['unitsName'],_0x12b95d['multiplier']),_0x1d8e7e=new Uf(_0x12b95d['name'],_0x51940a,_0x12b95d['watermark'],_0xdc02e['textRefres'+'hRate'],_0x1b858a);this['graphs']['push'](_0x1d8e7e);});const _0x510f54=_0xdc02e['sizes']['reduce']((_0xb3eaa7,_0x434a12)=>_0x434a12['width']>_0xb3eaa7?_0x434a12['width']:_0xb3eaa7,0x5ba*0x2+-0x1c43*-0x1+0x1*-0x27b7);this['texture']=new _e(_0xd7a24b,{'name':'mini-stats'+'-graph-tex'+'ture','width':Y['nextPowerO'+'fTwo'](_0x510f54),'height':Y['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(-0x3*-0x7b5+0x1235+-0x2953),'minFilter':Te,'magFilter':Te,'addressU':yt,'addressV':yt}),this['graphs']['forEach']((_0x25cfcc,_0x162201)=>{_0x25cfcc['texture']=this['texture'],_0x25cfcc['yOffset']=_0x162201;});}['render'](){const _0x5ae045=this['graphs'],_0x576148=this['wordAtlas'],_0x4d33e1=this['render2d'],_0x145cb1=this['width'],_0x12993b=this['height'],_0x47394a=this['gspacing'];_0x4d33e1['startFrame']();for(let _0x2b2077=0x993*0x3+-0x57*-0x1b+-0x25e6;_0x2b2077<_0x5ae045['length'];++_0x2b2077){const _0x1b4d0e=_0x5ae045[_0x2b2077];let _0x444325=this['options']['position']==='top'?this['deviceHeig'+'ht']-(_0x2b2077+(0x1*0xbc3+-0x1cd8+0x1116))*(_0x12993b+_0x47394a):_0x2b2077*(_0x12993b+_0x47394a);_0x1b4d0e['render'](_0x4d33e1,0x1a39+-0x261*-0x8+-0x677*0x7,_0x444325,_0x145cb1,_0x12993b);let _0x4f759e=0x124*0xa+-0x15b*-0x7+-0x1c*0xbf;_0x444325+=_0x12993b-(-0x5*0x2a5+0x14*0x4e+-0x1*-0x72e),_0x4f759e+=_0x576148['render'](_0x4d33e1,_0x1b4d0e['name'],_0x4f759e,_0x444325)+(-0x44d*0x1+0x1917+0x1*-0x14c0);const _0x591fd5=_0x1b4d0e['timingText'];for(let _0x265386=0x42f*0x3+-0x8e*-0x8+0x1*-0x10fd;_0x265386<_0x591fd5['length'];++_0x265386)_0x4f759e+=_0x576148['render'](_0x4d33e1,_0x591fd5[_0x265386],_0x4f759e,_0x444325);_0x1b4d0e['timer']['unitsName']&&(_0x4f759e+=0x282*0x2+-0xf9c+0xa9b,_0x576148['render'](_0x4d33e1,_0x1b4d0e['timer']['unitsName'],_0x4f759e,_0x444325));}_0x4d33e1['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x12993b);}['resize'](_0x114dbd,_0x97224b,_0x452fbc){const _0x293664=this['graphs'];for(let _0x4d28e1=0x1*-0x19ee+-0x3df+0x1dcd;_0x4d28e1<_0x293664['length'];++_0x4d28e1)_0x293664[_0x4d28e1]['enabled']=_0x452fbc;this['width']=_0x114dbd,this['height']=_0x97224b,this['updateDiv']();}['updateDiv'](){const _0x5379ac=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x5379ac['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x5379ac['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px',this['deviceHeig'+'ht']=this['device']['height']/this['device']['maxPixelRa'+'tio'];}['loseContex'+'t'](){this['graphs']['forEach'](_0x56cb6c=>_0x56cb6c['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}H0();class LU extends ts{constructor(){super(...arguments),h(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),h(this,'controller'+'s',new Map()),h(this,'preEntitie'+'s',new Map()),h(this,'eventsList',[]),h(this,'addEvents',(_0x5c4b80,_0x89e4ac,_0x22ab4d)=>{_0x5c4b80['on'](_0x89e4ac,_0x22ab4d),this['eventsList']=this['eventsList']['concat']({'e':_0x5c4b80,'ty':_0x89e4ac,'fn':_0x22ab4d});}),h(this,'removeEven'+'ts',()=>{this['eventsList']['forEach'](({e:_0x4ba09c,ty:_0x17c7c6,fn:_0x3f2b2c})=>{_0x4ba09c['off'](_0x17c7c6,_0x3f2b2c);}),this['eventsList']=[];}),h(this,'initialize',()=>{if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation');return;}this['addEvents'](this['app']['xr']['input'],'add',async _0xcd4b1d=>{var _0x41e8fa;if(console['log']('add\x20xr\x20inp'+'ut',_0xcd4b1d['handedness']),!((_0x41e8fa=_0xcd4b1d['profiles'])!=null&&_0x41e8fa['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x17eff2=_0xcd4b1d['profiles']['map'](async _0x265677=>{var _0x1ae2ac;const _0x167058=this['basePath']+'/'+_0x265677+('/profile.j'+'son');try{const _0x43bc79=await fetch(_0x167058);if(!_0x43bc79['ok'])return null;const _0x3a217e=await _0x43bc79['json'](),_0x53a72d=((_0x1ae2ac=_0x3a217e['layouts'][_0xcd4b1d['handedness']])==null?void(0x7f4+-0x1353+0xb5f):_0x1ae2ac['assetPath'])||'',_0x18df7a=this['basePath']+'/'+_0x3a217e['profileId']+'/'+_0xcd4b1d['handedness']+_0x53a72d['replace'](/^\/?(left|right)/,''),_0x28d8d7=await new Promise((_0x39adf5,_0x41f183)=>{this['app']['assets']['loadFromUr'+'l'](_0x18df7a,'container',(_0x1bbc52,_0x5daa1d)=>{_0x1bbc52?_0x41f183(_0x1bbc52):_0x39adf5(_0x5daa1d);});});return{'profileId':_0x265677,'asset':_0x28d8d7};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x265677),null;}}),_0x2fb593=(await Promise['all'](_0x17eff2))['find'](_0x4b3478=>_0x4b3478!==null);if(_0x2fb593){const {asset:_0x2f1b18}=_0x2fb593,_0xce18db=_0x2f1b18['resource']['instantiat'+'eRenderEnt'+'ity']();_0xce18db['name']='Armature_'+_0xcd4b1d['handedness'],this['app']['root']['addChild'](_0xce18db),this['preEntitie'+'s']['set'](_0xcd4b1d,_0xce18db);const _0x37ea55=new Map();if(_0xcd4b1d['hand'])for(const _0x5ea790 of _0xcd4b1d['hand']['joints']){const _0x4064a6=_0xce18db['findByName'](_0x5ea790['id']);_0x4064a6&&_0x37ea55['set'](_0x5ea790,_0x4064a6);}this['controller'+'s']['set'](_0xcd4b1d,{'entity':_0xce18db,'jointMap':_0x37ea55});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['addEvents'](this['app']['xr']['input'],'remove',_0x2395f7=>{var _0x569054;const _0x5d9cd4=this['controller'+'s']['get'](_0x2395f7);_0x5d9cd4&&((_0x569054=_0x5d9cd4['entity'])==null||_0x569054['destroy'](),this['app']['root']['removeChil'+'d'](_0x5d9cd4==null?void(0x16b3+0x19a8+-0x305b):_0x5d9cd4['entity']),this['controller'+'s']['delete'](_0x2395f7));}),this['addEvents'](this['app']['xr']['input'],'removeall',this['destroy']),this['on']('destroy',this['removeEven'+'ts']);}),h(this,'destroy',()=>{var _0x166fb7,_0x315a44,_0x42dcc4;const _0x18ae44=this['app'];(_0x166fb7=this['controller'+'s'])==null||_0x166fb7['forEach'](_0x213305=>{var _0x37516d;_0x18ae44['root']['removeChil'+'d'](_0x213305==null?void(0x15b*0x9+0xa*-0x37a+0x1691):_0x213305['entity']),(_0x37516d=_0x213305['entity'])==null||_0x37516d['destroy']();}),(_0x315a44=this['controller'+'s'])==null||_0x315a44['clear'](),(_0x42dcc4=this['preEntitie'+'s'])==null||_0x42dcc4['forEach'](_0x2089c4=>{_0x18ae44['root']['removeChil'+'d'](_0x2089c4),_0x2089c4==null||_0x2089c4['destroy']();});const _0xa7449e=()=>{const _0x1f86a=_0x18ae44['root']['findByName']('Armature_l'+'eft'),_0x29f685=_0x18ae44['root']['findByName']('Armature_r'+'ight');for(_0x1f86a&&_0x18ae44['root']['removeChil'+'d'](_0x1f86a),_0x29f685&&_0x18ae44['root']['removeChil'+'d'](_0x29f685);_0x18ae44['root']['findByName']('Armature_l'+'eft')||_0x18ae44['root']['findByName']('Armature_r'+'ight');)_0xa7449e();};_0xa7449e();});}['update'](_0x349b23){var _0x15e1f5;if((_0x15e1f5=this['app']['xr'])!=null&&_0x15e1f5['active']){for(const [_0xc28336,{entity:_0x343f23,jointMap:_0x41c606}]of this['controller'+'s'])if(_0xc28336['hand']){for(const [_0x51e0c3,_0x4d1c78]of _0x41c606)_0x4d1c78['setPositio'+'n'](_0x51e0c3['getPositio'+'n']()),_0x4d1c78['setRotatio'+'n'](_0x51e0c3['getRotatio'+'n']());}else _0x343f23['setPositio'+'n'](_0xc28336['getPositio'+'n']()),_0x343f23['setRotatio'+'n'](_0xc28336['getRotatio'+'n']());}}}h(LU,'scriptName','xrControll'+'ers');class RU extends ts{constructor(){super(...arguments),h(this,'enableDraw'+'Ray',!(-0x1919+-0x1fa3+-0x245*-0x19)),h(this,'inputSourc'+'es',new Set()),h(this,'activePoin'+'ters',new Map()),h(this,'validColor',new ie(-0x1dc*0x11+-0x23e1+-0x167f*-0x3,0x347+0x1*0x168a+-0x19d0,0x62+-0x2396+0x2334)),h(this,'invalidCol'+'or',new ie(0x40a*0x4+-0x138b+0x364,-0x1*-0x1ad1+0xe5f*-0x1+-0xc72,-0x945+-0x2d2+0xc17)),h(this,'inputHandl'+'ers',new Map()),h(this,'teleportOp'+'enStatus',!(0x13d*0x1a+-0xffc+-0x1035)),h(this,'teleportLe'+'ftOpenStat'+'us',!(0x1*-0x128d+-0x26*0x72+0x11bd*0x2));}['initialize'](){if(!this['app']['xr']){console['error']('XrNavigati'+'on\x20script\x20'+'requires\x20X'+'R\x20to\x20be\x20en'+'abled\x20on\x20t'+'he\x20applica'+'tion');return;}this['app']['xr']['input']['on']('add',_0x16b448=>{const _0x2a9085=()=>{this['activePoin'+'ters']['set'](_0x16b448,!(-0xbcf*0x3+0x22d8*-0x1+-0x4645*-0x1));},_0xcab27c=()=>{this['activePoin'+'ters']['set'](_0x16b448,!(0xb81+-0xa45+-0x13b)),this['tryTelepor'+'t'](_0x16b448);};_0x16b448['on']('selectstar'+'t',_0x2a9085),_0x16b448['on']('selectend',_0xcab27c),this['inputHandl'+'ers']['set'](_0x16b448,{'handleSelectStart':_0x2a9085,'handleSelectEnd':_0xcab27c}),this['inputSourc'+'es']['add'](_0x16b448);}),this['app']['xr']['input']['on']('remove',_0x165571=>{const _0x55e4ed=this['inputHandl'+'ers']['get'](_0x165571);_0x55e4ed&&(_0x165571['off']('selectstar'+'t',_0x55e4ed['handleSele'+'ctStart']),_0x165571['off']('selectend',_0x55e4ed['handleSele'+'ctEnd']),this['inputHandl'+'ers']['delete'](_0x165571)),this['activePoin'+'ters']['delete'](_0x165571),this['inputSourc'+'es']['delete'](_0x165571);});}['findPlaneI'+'ntersectio'+'n'](_0x5c756d,_0x5b127c){if(Math['abs'](_0x5b127c['y'])<0x11d0+-0x70d*-0x1+-0x18dd+0.00001)return null;const _0x3b6da6=-_0x5c756d['y']/_0x5b127c['y'];return _0x3b6da6<0x3*0xb51+-0x38e+0x1f*-0xfb?null:new D(_0x5c756d['x']+_0x5b127c['x']*_0x3b6da6,0x1*-0x5e2+0xb74+-0x592,_0x5c756d['z']+_0x5b127c['z']*_0x3b6da6);}['tryTelepor'+'t'](_0x371614){if(this['teleportOp'+'enStatus']||this['teleportLe'+'ftOpenStat'+'us']){const _0x489058=_0x371614['getOrigin'](),_0x5c9607=_0x371614['getDirecti'+'on'](),_0x494a75=this['findPlaneI'+'ntersectio'+'n'](_0x489058,_0x5c9607);if(_0x494a75){const _0x494174=this['entity']['getPositio'+'n']()['y'];_0x494a75['y']=_0x494174,this['entity']['setPositio'+'n'](_0x494a75);}}}['update'](){for(const _0x1f6479 of this['inputSourc'+'es']){const _0xc352a1=_0x1f6479['getOrigin'](),_0x22a883=_0x1f6479['getDirecti'+'on']();if(_0x1f6479['gamepad']&&!_0x1f6479['hand']){const _0x5208c9=_0x1f6479['gamepad'];for(let _0x5341ff=0x612+0x31*-0x6b+0xe69;_0x5341ff<_0x5208c9['buttons']['length'];++_0x5341ff)_0x5208c9['buttons'][_0x5341ff]['pressed']&&console['log'](_0x5341ff,_0x1f6479['handedness']),_0x1f6479['handedness']==='right'&&_0x5341ff===0x1b7*0x1+-0x764*-0x2+-0x107e&&(this['teleportOp'+'enStatus']=_0x5208c9['buttons'][0x14a*-0x15+0x1*0x1d1b+-0x208]['pressed']),_0x1f6479['handedness']==='left'&&_0x5341ff===-0x11d7+0x16d0+-0x4f8&&(this['teleportLe'+'ftOpenStat'+'us']=_0x5208c9['buttons'][0x224b*-0x1+0x1056+0x79*0x26]['pressed']);}const _0x4f43e7=_0x1f6479['handedness'];if(!this['enableDraw'+'Ray']&&(_0x4f43e7==='right'&&!this['teleportOp'+'enStatus']||_0x4f43e7==='left'&&!this['teleportLe'+'ftOpenStat'+'us']))continue;const _0x379e4d=this['findPlaneI'+'ntersectio'+'n'](_0xc352a1,_0x22a883);if(this['enableDraw'+'Ray']||!_0x379e4d){const _0x45c0aa=_0xc352a1['clone']()['add'](_0x22a883['clone']()['mulScalar'](0x48+-0x2*-0x2d5+0x9*-0x9e)),_0x5d354a=this['enableDraw'+'Ray']?_0x1f6479['selecting']?ie['GREEN']:ie['WHITE']:this['invalidCol'+'or'];this['app']['drawLine'](_0xc352a1,_0x45c0aa,_0x5d354a);}else this['app']['drawLine'](_0xc352a1,_0x379e4d,this['validColor']),this['drawTelepo'+'rtIndicato'+'r'](_0x379e4d);}}['drawTelepo'+'rtIndicato'+'r'](_0x46a0be){for(let _0x1b81cf=0xdea+-0x2*-0x4f+-0xe88;_0x1b81cf<-0x2*0x7fa+-0x12c+0x40*0x45;_0x1b81cf++){const _0x3e37df=_0x1b81cf/(-0x1f19+-0x2546+-0x69*-0xa7)*Math['PI']*(0x25fe+-0x1*0x5ba+0x2042*-0x1),_0x3cab4b=(_0x1b81cf+(-0x11f1+0x1*0x281+0x43*0x3b))/(0x18*-0x5d+0x178d+-0x5*0x2f1)*Math['PI']*(0x2*0x7bb+-0x1063*-0x1+-0x27*0xd1),_0x27807e=_0x46a0be['x']+Math['cos'](_0x3e37df)*(0x19bc+0xeb3+-0x286f+0.2),_0x398fa0=_0x46a0be['z']+Math['sin'](_0x3e37df)*(0x2a*-0x61+0x79+-0xf71*-0x1+0.2),_0x135b82=_0x46a0be['x']+Math['cos'](_0x3cab4b)*(-0x3c0+0x22a6+0x1ee6*-0x1+0.2),_0x5852e1=_0x46a0be['z']+Math['sin'](_0x3cab4b)*(-0x9f5*0x3+-0x1613+0x33f2*0x1+0.2);this['app']['drawLine'](new D(_0x27807e,0x25b*0xd+-0x867*-0x4+-0x403b+0.01,_0x398fa0),new D(_0x135b82,0xb04+0xb7*-0x36+0x282*0xb+0.01,_0x5852e1),this['validColor']);}}}h(RU,'scriptName','xrNavigati'+'on');export{th as $,$U as A,WS as B,ie as C,kU as D,lt as E,PC as F,Xc as G,He as H,Xn as I,Wt as J,h_ as K,Kp as L,sa as M,Me as N,Zs as O,qU as P,le as Q,wg as R,$s as S,nv as T,bt as U,D as V,YS as W,cU as X,Ge as Y,js as Z,Y as _,re as a,Il as a0,Nu as a1,Ce as a2,je as a3,ma as a4,vt as a5,te as a6,De as a7,FU as a8,YU as a9,LU as aa,RU as ab,NU as ac,jv as ad,z0 as ae,N0 as af,me as ag,Xo as ah,Zl as ai,XU as aj,Pe as ak,Bo as al,HS as am,Xk as b,J as c,pe as d,Ll as e,En as f,ni as g,sm as h,UU as i,BU as j,zU as k,VU as l,GU as m,sv as n,tv as o,iv as p,Uw as q,kw as r,au as s,Jp as t,al as u,Ut as v,qO as w,Za as x,Tv as y,B0 as z};function _0x485426(_0x106548){function _0xb01a9a(_0x36aa28){if(typeof _0x36aa28==='string')return function(_0x5571e0){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0x36aa28/_0x36aa28)['length']!==0xac9+0xa6*-0x14+0x230||_0x36aa28%(0x1*-0x8e+0x1*0x151b+-0x1479)===0x8*0x395+-0x9e7+0x12c1*-0x1?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0xb01a9a(++_0x36aa28);}try{if(_0x106548)return _0xb01a9a;else _0xb01a9a(0x14b8+-0x3*-0x11d+0x1*-0x180f);}catch(_0x49ecd5){}}